/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../src/actions/action_menu.ts":
/*!****************************************!*\
  !*** ../../src/actions/action_menu.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionMenu: () => (/* binding */ ActionMenu)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\nconst createSerializedKey = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.createSerializedKey.bind(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry);\n/**\n * Keyboard shortcut to show the action menu on Cmd/Ctrl/Alt+Enter key.\n */\nclass ActionMenu {\n    constructor(navigation) {\n        this.navigation = navigation;\n        /**\n         * Registration name for the keyboard shortcut.\n         */\n        this.shortcutName = _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MENU;\n    }\n    /**\n     * Install this action.\n     */\n    install() {\n        this.registerShortcut();\n    }\n    /**\n     * Uninstall this action.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(this.shortcutName);\n    }\n    /**\n     * Create and register the keyboard shortcut for this action.\n     */\n    registerShortcut() {\n        const menuShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MENU,\n            preconditionFn: (workspace) => {\n                return (this.navigation.canCurrentlyNavigate(workspace) &&\n                    !workspace.isDragging());\n            },\n            callback: (workspace) => {\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                        return this.openActionMenu(workspace);\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [\n                createSerializedKey(KeyCodes.ENTER, [KeyCodes.CTRL]),\n                createSerializedKey(KeyCodes.ENTER, [KeyCodes.ALT]),\n                createSerializedKey(KeyCodes.ENTER, [KeyCodes.META]),\n            ],\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(menuShortcut);\n    }\n    /**\n     * Show the action menu for the current node.\n     *\n     * The action menu will contain entries for relevant actions for the\n     * node's location.  If the location is a block, this will include\n     * the contents of the block's context menu (if any).\n     *\n     * Returns true if it is possible to open the action menu in the\n     * current location, even if the menu was not opened due there being\n     * no applicable menu items.\n     *\n     * @param workspace The workspace.\n     */\n    openActionMenu(workspace) {\n        // TODO(#362): Pass this through the precondition and callback instead of making it up.\n        const menuOpenEvent = new KeyboardEvent('keydown');\n        const node = workspace.getCursor().getCurNode();\n        if (!node)\n            return false;\n        // TODO(google/blockly#8847): Add typeguard for IContextMenu in core when this moves over\n        if ('showContextMenu' in node &&\n            typeof node.showContextMenu === 'function') {\n            node.showContextMenu(menuOpenEvent);\n        }\n        else {\n            console.info(`No action menu for node ${node}`);\n            return false;\n        }\n        setTimeout(() => {\n            var _a, _b;\n            (_b = (_a = blockly__WEBPACK_IMPORTED_MODULE_0__.WidgetDiv.getDiv()) === null || _a === void 0 ? void 0 : _a.querySelector('.blocklyMenu')) === null || _b === void 0 ? void 0 : _b.dispatchEvent(new KeyboardEvent('keydown', {\n                key: 'ArrowDown',\n                code: 'ArrowDown',\n                keyCode: KeyCodes.DOWN,\n                which: KeyCodes.DOWN,\n                bubbles: true,\n                cancelable: true,\n            }));\n        }, 10);\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLGNBQWMsQ0FBQywwQ0FDN0IsYUFBYSxDQUNiLElBQUksYUFBYSxDQUFDLFNBQVMsRUFBRTtnQkFDM0IsR0FBRyxFQUFFLFdBQVc7Z0JBQ2hCLElBQUksRUFBRSxXQUFXO2dCQUNqQixPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUk7Z0JBQ3RCLEtBQUssRUFBRSxRQUFRLENBQUMsSUFBSTtnQkFDcEIsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsVUFBVSxFQUFFLElBQUk7YUFDakIsQ0FBQyxDQUNILENBQUM7UUFDTixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDUCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvYWN0aW9ucy9hY3Rpb25fbWVudS50cz8wODJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtTaG9ydGN1dFJlZ2lzdHJ5LCB1dGlscyBhcyBCbG9ja2x5VXRpbHMsIFdpZGdldERpdn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHtXb3Jrc3BhY2VTdmd9IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtOYXZpZ2F0aW9ufSBmcm9tICcuLi9uYXZpZ2F0aW9uJztcblxuY29uc3QgS2V5Q29kZXMgPSBCbG9ja2x5VXRpbHMuS2V5Q29kZXM7XG5jb25zdCBjcmVhdGVTZXJpYWxpemVkS2V5ID0gU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5LmJpbmQoXG4gIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnksXG4pO1xuXG4vKipcbiAqIEtleWJvYXJkIHNob3J0Y3V0IHRvIHNob3cgdGhlIGFjdGlvbiBtZW51IG9uIENtZC9DdHJsL0FsdCtFbnRlciBrZXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpb25NZW51IHtcbiAgLyoqXG4gICAqIFJlZ2lzdHJhdGlvbiBuYW1lIGZvciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQuXG4gICAqL1xuICBwcml2YXRlIHNob3J0Y3V0TmFtZSA9IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5NRU5VO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmF2aWdhdGlvbjogTmF2aWdhdGlvbikge31cblxuICAvKipcbiAgICogSW5zdGFsbCB0aGlzIGFjdGlvbi5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5yZWdpc3RlclNob3J0Y3V0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW5pbnN0YWxsIHRoaXMgYWN0aW9uLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3Rlcih0aGlzLnNob3J0Y3V0TmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZWdpc3RlciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQgZm9yIHRoaXMgYWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlclNob3J0Y3V0KCkge1xuICAgIGNvbnN0IG1lbnVTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLk1FTlUsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlOYXZpZ2F0ZSh3b3Jrc3BhY2UpICYmXG4gICAgICAgICAgIXdvcmtzcGFjZS5pc0RyYWdnaW5nKClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMubmF2aWdhdGlvbi5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLkZMWU9VVDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5BY3Rpb25NZW51KHdvcmtzcGFjZSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuRU5URVIsIFtLZXlDb2Rlcy5DVFJMXSksXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuRU5URVIsIFtLZXlDb2Rlcy5BTFRdKSxcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5FTlRFUiwgW0tleUNvZGVzLk1FVEFdKSxcbiAgICAgIF0sXG4gICAgfTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKG1lbnVTaG9ydGN1dCk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyB0aGUgYWN0aW9uIG1lbnUgZm9yIHRoZSBjdXJyZW50IG5vZGUuXG4gICAqXG4gICAqIFRoZSBhY3Rpb24gbWVudSB3aWxsIGNvbnRhaW4gZW50cmllcyBmb3IgcmVsZXZhbnQgYWN0aW9ucyBmb3IgdGhlXG4gICAqIG5vZGUncyBsb2NhdGlvbi4gIElmIHRoZSBsb2NhdGlvbiBpcyBhIGJsb2NrLCB0aGlzIHdpbGwgaW5jbHVkZVxuICAgKiB0aGUgY29udGVudHMgb2YgdGhlIGJsb2NrJ3MgY29udGV4dCBtZW51IChpZiBhbnkpLlxuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgaXQgaXMgcG9zc2libGUgdG8gb3BlbiB0aGUgYWN0aW9uIG1lbnUgaW4gdGhlXG4gICAqIGN1cnJlbnQgbG9jYXRpb24sIGV2ZW4gaWYgdGhlIG1lbnUgd2FzIG5vdCBvcGVuZWQgZHVlIHRoZXJlIGJlaW5nXG4gICAqIG5vIGFwcGxpY2FibGUgbWVudSBpdGVtcy5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlLlxuICAgKi9cbiAgcHJpdmF0ZSBvcGVuQWN0aW9uTWVudSh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zyk6IGJvb2xlYW4ge1xuICAgIC8vIFRPRE8oIzM2Mik6IFBhc3MgdGhpcyB0aHJvdWdoIHRoZSBwcmVjb25kaXRpb24gYW5kIGNhbGxiYWNrIGluc3RlYWQgb2YgbWFraW5nIGl0IHVwLlxuICAgIGNvbnN0IG1lbnVPcGVuRXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicpO1xuXG4gICAgY29uc3Qgbm9kZSA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gVE9ETyhnb29nbGUvYmxvY2tseSM4ODQ3KTogQWRkIHR5cGVndWFyZCBmb3IgSUNvbnRleHRNZW51IGluIGNvcmUgd2hlbiB0aGlzIG1vdmVzIG92ZXJcbiAgICBpZiAoXG4gICAgICAnc2hvd0NvbnRleHRNZW51JyBpbiBub2RlICYmXG4gICAgICB0eXBlb2Ygbm9kZS5zaG93Q29udGV4dE1lbnUgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIG5vZGUuc2hvd0NvbnRleHRNZW51KG1lbnVPcGVuRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmluZm8oYE5vIGFjdGlvbiBtZW51IGZvciBub2RlICR7bm9kZX1gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIFdpZGdldERpdi5nZXREaXYoKVxuICAgICAgICA/LnF1ZXJ5U2VsZWN0b3IoJy5ibG9ja2x5TWVudScpXG4gICAgICAgID8uZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHtcbiAgICAgICAgICAgIGtleTogJ0Fycm93RG93bicsXG4gICAgICAgICAgICBjb2RlOiAnQXJyb3dEb3duJyxcbiAgICAgICAgICAgIGtleUNvZGU6IEtleUNvZGVzLkRPV04sXG4gICAgICAgICAgICB3aGljaDogS2V5Q29kZXMuRE9XTixcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgIH0sIDEwKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/actions/action_menu.ts\n");

/***/ }),

/***/ "../../src/actions/arrow_navigation.ts":
/*!*********************************************!*\
  !*** ../../src/actions/arrow_navigation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrowNavigation: () => (/* binding */ ArrowNavigation)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering shortcuts for navigating the workspace with arrow keys.\n */\nclass ArrowNavigation {\n    constructor(navigation) {\n        this.navigation = navigation;\n    }\n    /**\n     * Gives the cursor to the field to handle if the cursor is on a field.\n     *\n     * @param workspace The workspace to check.\n     * @param shortcut The shortcut\n     *     to give to the field.\n     * @returns True if the shortcut was handled by the field, false\n     *     otherwise.\n     */\n    fieldShortcutHandler(workspace, shortcut) {\n        const curNode = workspace.getCursor().getCurNode();\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field) {\n            return curNode.onShortcut(shortcut);\n        }\n        return false;\n    }\n    /**\n     * Adds all arrow key navigation shortcuts to the registry.\n     */\n    install() {\n        const navigateIn = (workspace, e, shortcut) => {\n            var _a;\n            const toolbox = workspace.getToolbox();\n            const flyout = workspace.isFlyout\n                ? (_a = workspace.targetWorkspace) === null || _a === void 0 ? void 0 : _a.getFlyout()\n                : workspace.getFlyout();\n            let isHandled = false;\n            switch (this.navigation.getState()) {\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                    isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                    if (!isHandled && workspace) {\n                        if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)) {\n                            workspace.getCursor().in();\n                        }\n                        isHandled = true;\n                    }\n                    return isHandled;\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX:\n                    // @ts-expect-error private method\n                    isHandled = toolbox && toolbox.selectChild();\n                    if (!isHandled && flyout) {\n                        this.navigation.defaultFlyoutCursorIfNeeded(workspace);\n                    }\n                    return true;\n                default:\n                    return false;\n            }\n        };\n        const navigateOut = (workspace, e, shortcut) => {\n            var _a;\n            const toolbox = workspace.isFlyout\n                ? (_a = workspace.targetWorkspace) === null || _a === void 0 ? void 0 : _a.getToolbox()\n                : workspace.getToolbox();\n            let isHandled = false;\n            switch (this.navigation.getState()) {\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                    isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                    if (!isHandled && workspace) {\n                        if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)) {\n                            workspace.getCursor().out();\n                        }\n                        isHandled = true;\n                    }\n                    return isHandled;\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                    if (toolbox) {\n                        blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(toolbox);\n                    }\n                    return true;\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX:\n                    // @ts-expect-error private method\n                    return toolbox && toolbox.selectParent();\n                default:\n                    return false;\n            }\n        };\n        const shortcuts = {\n            /** Go to the next location to the right. */\n            right: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.RIGHT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    return workspace.RTL\n                        ? navigateOut(workspace, e, shortcut)\n                        : navigateIn(workspace, e, shortcut);\n                },\n                keyCodes: [KeyCodes.RIGHT],\n            },\n            /** Go to the next location to the left. */\n            left: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LEFT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    return workspace.RTL\n                        ? navigateIn(workspace, e, shortcut)\n                        : navigateOut(workspace, e, shortcut);\n                },\n                keyCodes: [KeyCodes.LEFT],\n            },\n            /** Go down to the next location. */\n            down: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DOWN,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    var _a;\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    let isHandled = false;\n                    switch (this.navigation.getState()) {\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled && workspace) {\n                                if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)) {\n                                    workspace.getCursor().next();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled && workspace.targetWorkspace) {\n                                if (!this.navigation.defaultFlyoutCursorIfNeeded(workspace.targetWorkspace)) {\n                                    workspace.getCursor().next();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX: {\n                            const toolbox = workspace.getToolbox();\n                            if (toolbox) {\n                                if (!toolbox.getSelectedItem()) {\n                                    const firstItem = (_a = toolbox\n                                        .getToolboxItems()\n                                        .find((item) => item.isSelectable())) !== null && _a !== void 0 ? _a : null;\n                                    toolbox.setSelectedItem(firstItem);\n                                    isHandled = true;\n                                }\n                                else {\n                                    // @ts-expect-error private method\n                                    isHandled = toolbox.selectNext();\n                                }\n                                const selectedItem = toolbox.getSelectedItem();\n                                if (selectedItem) {\n                                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusNode(selectedItem);\n                                }\n                            }\n                            return isHandled;\n                        }\n                        default:\n                            return false;\n                    }\n                },\n                keyCodes: [KeyCodes.DOWN],\n            },\n            /** Go up to the previous location. */\n            up: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.UP,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    let isHandled = false;\n                    switch (this.navigation.getState()) {\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled) {\n                                if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace, 'last')) {\n                                    workspace.getCursor().prev();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled && workspace.targetWorkspace) {\n                                if (!this.navigation.defaultFlyoutCursorIfNeeded(workspace.targetWorkspace, 'last')) {\n                                    workspace.getCursor().prev();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX: {\n                            const toolbox = workspace.getToolbox();\n                            if (toolbox) {\n                                // @ts-expect-error private method\n                                isHandled = toolbox.selectPrevious();\n                                const selectedItem = toolbox.getSelectedItem();\n                                if (selectedItem) {\n                                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusNode(selectedItem);\n                                }\n                            }\n                            return isHandled;\n                        }\n                        default:\n                            return false;\n                    }\n                },\n                keyCodes: [KeyCodes.UP],\n            },\n        };\n        for (const shortcut of Object.values(shortcuts)) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n    }\n    /**\n     * Removes all the arrow navigation shortcuts.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LEFT);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.RIGHT);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DOWN);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.UP);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2FjdGlvbnMvYXJyb3dfbmF2aWdhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztHQUlHO0FBT21CO0FBSWtCO0FBQ0U7QUFHMUMsTUFBTSxRQUFRLEdBQUcsK0NBQVksQ0FBQyxRQUFRLENBQUM7QUFFdkM7O0dBRUc7QUFDSSxNQUFNLGVBQWU7SUFDMUIsWUFBb0IsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtJQUFHLENBQUM7SUFFOUM7Ozs7Ozs7O09BUUc7SUFDSCxvQkFBb0IsQ0FDbEIsU0FBdUIsRUFDdkIsUUFBMkM7UUFFM0MsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ25ELElBQUksT0FBTyxZQUFZLCtDQUFLLEVBQUUsQ0FBQztZQUM3QixPQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTztRQUNMLE1BQU0sVUFBVSxHQUFHLENBQ2pCLFNBQXVCLEVBQ3ZCLENBQVEsRUFDUixRQUEyQyxFQUNsQyxFQUFFOztZQUNYLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQWEsQ0FBQztZQUNsRCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsUUFBUTtnQkFDL0IsQ0FBQyxDQUFDLGVBQVMsQ0FBQyxlQUFlLDBDQUFFLFNBQVMsRUFBRTtnQkFDeEMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUMxQixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDdEIsUUFBUSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7Z0JBQ25DLEtBQUssNkNBQWUsQ0FBQyxTQUFTO29CQUM1QixTQUFTLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FB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QztvQkFDakIsQ0FBQztnQkFDSCxDQUFDO2dCQUNELFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7YUFDeEI7U0FDRixDQUFDO1FBRUYsS0FBSyxNQUFNLFFBQVEsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7WUFDaEQsMERBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvQyxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUztRQUNQLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsc0RBQXdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEUsMERBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxzREFBd0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyRSwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLHNEQUF3QixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsc0RBQXdCLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDcEUsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL2Fycm93X25hdmlnYXRpb24udHM/OWFmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIHV0aWxzIGFzIEJsb2NrbHlVdGlscyxcbiAgRmllbGQsXG4gIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIsXG59IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbmltcG9ydCB0eXBlIHtUb29sYm94LCBXb3Jrc3BhY2VTdmd9IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuXG5jb25zdCBLZXlDb2RlcyA9IEJsb2NrbHlVdGlscy5LZXlDb2RlcztcblxuLyoqXG4gKiBDbGFzcyBmb3IgcmVnaXN0ZXJpbmcgc2hvcnRjdXRzIGZvciBuYXZpZ2F0aW5nIHRoZSB3b3Jrc3BhY2Ugd2l0aCBhcnJvdyBrZXlzLlxuICovXG5leHBvcnQgY2xhc3MgQXJyb3dOYXZpZ2F0aW9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uKSB7fVxuXG4gIC8qKlxuICAgKiBHaXZlcyB0aGUgY3Vyc29yIHRvIHRoZSBmaWVsZCB0byBoYW5kbGUgaWYgdGhlIGN1cnNvciBpcyBvbiBhIGZpZWxkLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gY2hlY2suXG4gICAqIEBwYXJhbSBzaG9ydGN1dCBUaGUgc2hvcnRjdXRcbiAgICogICAgIHRvIGdpdmUgdG8gdGhlIGZpZWxkLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzaG9ydGN1dCB3YXMgaGFuZGxlZCBieSB0aGUgZmllbGQsIGZhbHNlXG4gICAqICAgICBvdGhlcndpc2UuXG4gICAqL1xuICBmaWVsZFNob3J0Y3V0SGFuZGxlcihcbiAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICBzaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0LFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBjdXJOb2RlID0gd29ya3NwYWNlLmdldEN1cnNvcigpLmdldEN1ck5vZGUoKTtcbiAgICBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIEZpZWxkKSB7XG4gICAgICByZXR1cm4gY3VyTm9kZS5vblNob3J0Y3V0KHNob3J0Y3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYWxsIGFycm93IGtleSBuYXZpZ2F0aW9uIHNob3J0Y3V0cyB0byB0aGUgcmVnaXN0cnkuXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIGNvbnN0IG5hdmlnYXRlSW4gPSAoXG4gICAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICAgIGU6IEV2ZW50LFxuICAgICAgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCxcbiAgICApOiBib29sZWFuID0+IHtcbiAgICAgIGNvbnN0IHRvb2xib3ggPSB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpIGFzIFRvb2xib3g7XG4gICAgICBjb25zdCBmbHlvdXQgPSB3b3Jrc3BhY2UuaXNGbHlvdXRcbiAgICAgICAgPyB3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlPy5nZXRGbHlvdXQoKVxuICAgICAgICA6IHdvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICAgIGxldCBpc0hhbmRsZWQgPSBmYWxzZTtcbiAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgIGlzSGFuZGxlZCA9IHRoaXMuZmllbGRTaG9ydGN1dEhhbmRsZXIod29ya3NwYWNlLCBzaG9ydGN1dCk7XG4gICAgICAgICAgaWYgKCFpc0hhbmRsZWQgJiYgd29ya3NwYWNlKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICF0aGlzLm5hdmlnYXRpb24uZGVmYXVsdFdvcmtzcGFjZUN1cnNvclBvc2l0aW9uSWZOZWVkZWQod29ya3NwYWNlKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5pbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuVE9PTEJPWDpcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgbWV0aG9kXG4gICAgICAgICAgaXNIYW5kbGVkID0gdG9vbGJveCAmJiB0b29sYm94LnNlbGVjdENoaWxkKCk7XG4gICAgICAgICAgaWYgKCFpc0hhbmRsZWQgJiYgZmx5b3V0KSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uZGVmYXVsdEZseW91dEN1cnNvcklmTmVlZGVkKHdvcmtzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgbmF2aWdhdGVPdXQgPSAoXG4gICAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICAgIGU6IEV2ZW50LFxuICAgICAgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCxcbiAgICApOiBib29sZWFuID0+IHtcbiAgICAgIGNvbnN0IHRvb2xib3ggPSB3b3Jrc3BhY2UuaXNGbHlvdXRcbiAgICAgICAgPyB3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlPy5nZXRUb29sYm94KClcbiAgICAgICAgOiB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpO1xuICAgICAgbGV0IGlzSGFuZGxlZCA9IGZhbHNlO1xuICAgICAgc3dpdGNoICh0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSkge1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6XG4gICAgICAgICAgaXNIYW5kbGVkID0gdGhpcy5maWVsZFNob3J0Y3V0SGFuZGxlcih3b3Jrc3BhY2UsIHNob3J0Y3V0KTtcbiAgICAgICAgICBpZiAoIWlzSGFuZGxlZCAmJiB3b3Jrc3BhY2UpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIXRoaXMubmF2aWdhdGlvbi5kZWZhdWx0V29ya3NwYWNlQ3Vyc29yUG9zaXRpb25JZk5lZWRlZCh3b3Jrc3BhY2UpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEN1cnNvcigpLm91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOlxuICAgICAgICAgIGlmICh0b29sYm94KSB7XG4gICAgICAgICAgICBCbG9ja2x5LmdldEZvY3VzTWFuYWdlcigpLmZvY3VzVHJlZSh0b29sYm94KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLlRPT0xCT1g6XG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICAgIHJldHVybiB0b29sYm94ICYmIHRvb2xib3guc2VsZWN0UGFyZW50KCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzaG9ydGN1dHM6IHtcbiAgICAgIFtuYW1lOiBzdHJpbmddOiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQ7XG4gICAgfSA9IHtcbiAgICAgIC8qKiBHbyB0byB0aGUgbmV4dCBsb2NhdGlvbiB0byB0aGUgcmlnaHQuICovXG4gICAgICByaWdodDoge1xuICAgICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuUklHSFQsXG4gICAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PlxuICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlOYXZpZ2F0ZSh3b3Jrc3BhY2UpLFxuICAgICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQpID0+IHtcbiAgICAgICAgICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLnNldElzQWN0aXZlKHRydWUpO1xuICAgICAgICAgIHJldHVybiB3b3Jrc3BhY2UuUlRMXG4gICAgICAgICAgICA/IG5hdmlnYXRlT3V0KHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQpXG4gICAgICAgICAgICA6IG5hdmlnYXRlSW4od29ya3NwYWNlLCBlLCBzaG9ydGN1dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuUklHSFRdLFxuICAgICAgfSxcblxuICAgICAgLyoqIEdvIHRvIHRoZSBuZXh0IGxvY2F0aW9uIHRvIHRoZSBsZWZ0LiAqL1xuICAgICAgbGVmdDoge1xuICAgICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTEVGVCxcbiAgICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSksXG4gICAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlLCBlLCBzaG9ydGN1dCkgPT4ge1xuICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SXNBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHdvcmtzcGFjZS5SVExcbiAgICAgICAgICAgID8gbmF2aWdhdGVJbih3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0KVxuICAgICAgICAgICAgOiBuYXZpZ2F0ZU91dCh3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0KTtcbiAgICAgICAgfSxcbiAgICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5MRUZUXSxcbiAgICAgIH0sXG5cbiAgICAgIC8qKiBHbyBkb3duIHRvIHRoZSBuZXh0IGxvY2F0aW9uLiAqL1xuICAgICAgZG93bjoge1xuICAgICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRE9XTixcbiAgICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSksXG4gICAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlLCBlLCBzaG9ydGN1dCkgPT4ge1xuICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SXNBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgbGV0IGlzSGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRTpcbiAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdGhpcy5maWVsZFNob3J0Y3V0SGFuZGxlcih3b3Jrc3BhY2UsIHNob3J0Y3V0KTtcbiAgICAgICAgICAgICAgaWYgKCFpc0hhbmRsZWQgJiYgd29ya3NwYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIXRoaXMubmF2aWdhdGlvbi5kZWZhdWx0V29ya3NwYWNlQ3Vyc29yUG9zaXRpb25JZk5lZWRlZChcbiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEN1cnNvcigpLm5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaXNIYW5kbGVkO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOlxuICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0aGlzLmZpZWxkU2hvcnRjdXRIYW5kbGVyKHdvcmtzcGFjZSwgc2hvcnRjdXQpO1xuICAgICAgICAgICAgICBpZiAoIWlzSGFuZGxlZCAmJiB3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIXRoaXMubmF2aWdhdGlvbi5kZWZhdWx0Rmx5b3V0Q3Vyc29ySWZOZWVkZWQoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2UsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBpc0hhbmRsZWQ7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5UT09MQk9YOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2xib3ggPSB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpIGFzIFRvb2xib3g7XG4gICAgICAgICAgICAgIGlmICh0b29sYm94KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b29sYm94LmdldFNlbGVjdGVkSXRlbSgpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEl0ZW0gPVxuICAgICAgICAgICAgICAgICAgICB0b29sYm94XG4gICAgICAgICAgICAgICAgICAgICAgLmdldFRvb2xib3hJdGVtcygpXG4gICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaXNTZWxlY3RhYmxlKCkpID8/IG51bGw7XG4gICAgICAgICAgICAgICAgICB0b29sYm94LnNldFNlbGVjdGVkSXRlbShmaXJzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdG9vbGJveC5zZWxlY3ROZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHRvb2xib3guZ2V0U2VsZWN0ZWRJdGVtKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgQmxvY2tseS5nZXRGb2N1c01hbmFnZXIoKS5mb2N1c05vZGUoc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuRE9XTl0sXG4gICAgICB9LFxuICAgICAgLyoqIEdvIHVwIHRvIHRoZSBwcmV2aW91cyBsb2NhdGlvbi4gKi9cbiAgICAgIHVwOiB7XG4gICAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5VUCxcbiAgICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSksXG4gICAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlLCBlLCBzaG9ydGN1dCkgPT4ge1xuICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SXNBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgbGV0IGlzSGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRTpcbiAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdGhpcy5maWVsZFNob3J0Y3V0SGFuZGxlcih3b3Jrc3BhY2UsIHNob3J0Y3V0KTtcbiAgICAgICAgICAgICAgaWYgKCFpc0hhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAhdGhpcy5uYXZpZ2F0aW9uLmRlZmF1bHRXb3Jrc3BhY2VDdXJzb3JQb3NpdGlvbklmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICdsYXN0JyxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5wcmV2KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLkZMWU9VVDpcbiAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdGhpcy5maWVsZFNob3J0Y3V0SGFuZGxlcih3b3Jrc3BhY2UsIHNob3J0Y3V0KTtcbiAgICAgICAgICAgICAgaWYgKCFpc0hhbmRsZWQgJiYgd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZSkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICF0aGlzLm5hdmlnYXRpb24uZGVmYXVsdEZseW91dEN1cnNvcklmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlLFxuICAgICAgICAgICAgICAgICAgICAnbGFzdCcsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkucHJldigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBpc0hhbmRsZWQ7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5UT09MQk9YOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2xib3ggPSB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpIGFzIFRvb2xib3g7XG4gICAgICAgICAgICAgIGlmICh0b29sYm94KSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICAgICAgICAgIGlzSGFuZGxlZCA9IHRvb2xib3guc2VsZWN0UHJldmlvdXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSB0b29sYm94LmdldFNlbGVjdGVkSXRlbSgpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIEJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNOb2RlKHNlbGVjdGVkSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBpc0hhbmRsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBrZXlDb2RlczogW0tleUNvZGVzLlVQXSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGZvciAoY29uc3Qgc2hvcnRjdXQgb2YgT2JqZWN0LnZhbHVlcyhzaG9ydGN1dHMpKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHNob3J0Y3V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgdGhlIGFycm93IG5hdmlnYXRpb24gc2hvcnRjdXRzLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTEVGVCk7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5SSUdIVCk7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5ET1dOKTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlVQKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/actions/arrow_navigation.ts\n");

/***/ }),

/***/ "../../src/actions/clipboard.ts":
/*!**************************************!*\
  !*** ../../src/actions/clipboard.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Clipboard: () => (/* binding */ Clipboard)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints */ \"../../src/hints.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n/**\n * Weight for the first of these three items in the context menu.\n * Changing base weight will change where this group goes in the context\n * menu; changing individual weights relative to base weight can change\n * the order within the clipboard group.\n */\nconst BASE_WEIGHT = 12;\n/**\n * Logic and state for cut/copy/paste actions as both keyboard shortcuts\n * and context menu items.\n * In the long term, this will likely merge with the clipboard code in core.\n */\nclass Clipboard {\n    constructor(navigation, options = {\n        allowCrossWorkspacePaste: false,\n    }) {\n        this.navigation = navigation;\n        this.options = options;\n    }\n    /**\n     * Install these actions as both keyboard shortcuts and context menu items.\n     */\n    install() {\n        this.registerCopyShortcut();\n        this.registerCopyContextMenuAction();\n        this.registerPasteShortcut();\n        this.registerPasteContextMenuAction();\n        this.registerCutShortcut();\n        this.registerCutContextMenuAction();\n    }\n    /**\n     * Uninstall this action as both a keyboard shortcut and a context menu item.\n     * Reinstall the original cut/copy/paste shortcuts.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('blockCutFromContextMenu');\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('blockCopyFromContextMenu');\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('blockPasteFromContextMenu');\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.COPY);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE);\n        if (this.oldCutShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(this.oldCutShortcut);\n        }\n        if (this.oldCopyShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(this.oldCopyShortcut);\n        }\n        if (this.oldPasteShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(this.oldPasteShortcut);\n        }\n    }\n    /**\n     * Create and register the keyboard shortcut for the cut action.\n     * Identical to the one in core but adds a toast after successful cut.\n     */\n    registerCutShortcut() {\n        this.oldCutShortcut =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.CUT];\n        if (!this.oldCutShortcut)\n            throw new Error('No cut keyboard shortcut registered initially');\n        const cutShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n            preconditionFn: this.oldCutShortcut.preconditionFn,\n            callback: this.cutCallback.bind(this),\n            keyCodes: this.oldCutShortcut.keyCodes,\n            allowCollision: false,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.CUT);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(cutShortcut);\n    }\n    /**\n     * Register the cut block action as a context menu item.\n     * The context menu uses its own preconditionFn (that doesn't check\n     * if a gesture is in progress, because one always is in the context\n     * menu). It calls the cut callback that is shared between keyboard\n     * and context menu.\n     */\n    registerCutContextMenuAction() {\n        const cutAction = {\n            displayText: (scope) => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['CUT_SHORTCUT'], _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT),\n            preconditionFn: (scope) => this.cutPrecondition(scope),\n            callback: (scope, menuOpenEvent) => {\n                if (!(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(scope.focusedNode))\n                    return false;\n                const ws = scope.focusedNode.workspace;\n                if (!(ws instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n                    return false;\n                return this.cutCallback(ws, menuOpenEvent, undefined, scope);\n            },\n            id: 'blockCutFromContextMenu',\n            weight: BASE_WEIGHT,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(cutAction);\n    }\n    /**\n     * Precondition function for the cut context menu. This wraps the core cut\n     * precondition to support context menus.\n     *\n     * @param scope scope of the shortcut or context menu item\n     * @returns 'enabled' if the node can be cut, 'disabled' otherwise.\n     */\n    cutPrecondition(scope) {\n        var _a;\n        const focused = scope.focusedNode;\n        if (!focused || !(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(focused))\n            return 'hidden';\n        const workspace = focused.workspace;\n        if (!(workspace instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n            return 'hidden';\n        if (((_a = this.oldCutShortcut) === null || _a === void 0 ? void 0 : _a.preconditionFn) &&\n            this.oldCutShortcut.preconditionFn(workspace, scope)) {\n            return 'enabled';\n        }\n        return 'disabled';\n    }\n    /**\n     * The callback for the cut action. Uses the registered version of the cut callback\n     * to perform the cut logic, then pops a toast if cut happened.\n     *\n     * @param workspace Workspace where shortcut happened.\n     * @param e menu open event or keyboard event\n     * @param shortcut keyboard shortcut or undefined for context menus\n     * @param scope scope of the shortcut or context menu item\n     * @returns true if a cut happened, false otherwise\n     */\n    cutCallback(workspace, e, shortcut = {\n        name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n    }, scope) {\n        var _a;\n        const didCut = !!((_a = this.oldCutShortcut) === null || _a === void 0 ? void 0 : _a.callback) &&\n            this.oldCutShortcut.callback(workspace, e, shortcut, scope);\n        if (didCut) {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showCutHint)(workspace);\n        }\n        return didCut;\n    }\n    /**\n     * Create and register the keyboard shortcut for the copy action.\n     * Identical to the one in core but pops a toast after succesful copy.\n     */\n    registerCopyShortcut() {\n        this.oldCopyShortcut =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.COPY];\n        if (!this.oldCopyShortcut)\n            throw new Error('No copy keyboard shortcut registered initially');\n        const copyShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.COPY,\n            preconditionFn: this.oldCopyShortcut.preconditionFn,\n            callback: this.copyCallback.bind(this),\n            keyCodes: this.oldCopyShortcut.keyCodes,\n            allowCollision: false,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.COPY);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(copyShortcut);\n    }\n    /**\n     * Register the copy block action as a context menu item.\n     * The context menu uses its own preconditionFn (that doesn't check\n     * if a gesture is in progress, because one always is in the context\n     * menu). It calls the copy callback that is shared between keyboard\n     * and context menu.\n     */\n    registerCopyContextMenuAction() {\n        const copyAction = {\n            displayText: (scope) => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['COPY_SHORTCUT'], _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.COPY),\n            preconditionFn: (scope) => this.copyPrecondition(scope),\n            callback: (scope, menuOpenEvent) => {\n                if (!(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(scope.focusedNode))\n                    return false;\n                const ws = scope.focusedNode.workspace;\n                if (!(ws instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n                    return false;\n                return this.copyCallback(ws, menuOpenEvent, undefined, scope);\n            },\n            id: 'blockCopyFromContextMenu',\n            weight: BASE_WEIGHT + 1,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(copyAction);\n    }\n    /**\n     * Precondition function for the copy context menu. This wraps the core copy\n     * precondition to support context menus.\n     *\n     * @param scope scope of the shortcut or context menu item\n     * @returns 'enabled' if the node can be copied, 'disabled' otherwise.\n     */\n    copyPrecondition(scope) {\n        var _a;\n        const focused = scope.focusedNode;\n        if (!focused || !(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(focused))\n            return 'hidden';\n        const workspace = focused.workspace;\n        if (!(workspace instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n            return 'hidden';\n        if (((_a = this.oldCopyShortcut) === null || _a === void 0 ? void 0 : _a.preconditionFn) &&\n            this.oldCopyShortcut.preconditionFn(workspace, scope)) {\n            return 'enabled';\n        }\n        return 'disabled';\n    }\n    /**\n     * The callback for the copy action. Uses the registered version of the copy callback\n     * to perform the copy logic, then pops a toast if copy happened.\n     *\n     * @param workspace Workspace where shortcut happened.\n     * @param e menu open event or keyboard event\n     * @param shortcut keyboard shortcut or undefined for context menus\n     * @param scope scope of the shortcut or context menu item\n     * @returns true if a copy happened, false otherwise\n     */\n    copyCallback(workspace, e, shortcut = {\n        name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n    }, scope) {\n        var _a;\n        const didCopy = !!((_a = this.oldCopyShortcut) === null || _a === void 0 ? void 0 : _a.callback) &&\n            this.oldCopyShortcut.callback(workspace, e, shortcut, scope);\n        if (didCopy) {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showCopiedHint)(workspace);\n        }\n        return didCopy;\n    }\n    /**\n     * Create and register the keyboard shortcut for the paste action.\n     * Identical to the one in core but clears any paste toasts after.\n     */\n    registerPasteShortcut() {\n        this.oldPasteShortcut =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.PASTE];\n        if (!this.oldPasteShortcut)\n            throw new Error('No paste keyboard shortcut registered initially');\n        const pasteShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE,\n            preconditionFn: this.oldPasteShortcut.preconditionFn,\n            callback: this.pasteCallback.bind(this),\n            keyCodes: this.oldPasteShortcut.keyCodes,\n            allowCollision: false,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.PASTE);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(pasteShortcut);\n    }\n    /**\n     * Register the paste block action as a context menu item.\n     * The context menu uses its own preconditionFn (that doesn't check\n     * if a gesture is in progress, because one always is in the context\n     * menu). It calls the paste callback that is shared between keyboard\n     * and context menu.\n     */\n    registerPasteContextMenuAction() {\n        const pasteAction = {\n            displayText: (scope) => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['PASTE_SHORTCUT'], _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE),\n            preconditionFn: (scope) => this.pastePrecondition(scope),\n            callback: (scope, menuOpenEvent) => {\n                const workspace = this.getPasteWorkspace(scope);\n                if (!workspace)\n                    return false;\n                return this.pasteCallback(workspace, menuOpenEvent, undefined, scope);\n            },\n            id: 'blockPasteFromContextMenu',\n            weight: BASE_WEIGHT + 2,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(pasteAction);\n    }\n    /**\n     * Get the workspace to paste into based on which type of thing the menu was opened on.\n     *\n     * @param scope scope of shortcut or context menu item\n     * @returns WorkspaceSvg to paste into or undefined\n     */\n    getPasteWorkspace(scope) {\n        let workspace;\n        if (scope.focusedNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            workspace = scope.focusedNode;\n        }\n        else if ((0,blockly__WEBPACK_IMPORTED_MODULE_0__.isSelectable)(scope.focusedNode)) {\n            workspace = scope.focusedNode.workspace;\n        }\n        if (!workspace || !(workspace instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n            return undefined;\n        return workspace;\n    }\n    /**\n     * Precondition function for the paste context menu. This wraps the core\n     * paste precondition to support context menus.\n     *\n     * @param scope scope of the shortcut or context menu item\n     * @returns 'enabled' if the node can be pasted, 'disabled' otherwise.\n     */\n    pastePrecondition(scope) {\n        var _a;\n        const workspace = this.getPasteWorkspace(scope);\n        // If we can't identify what workspace to paste into, hide.\n        if (!workspace)\n            return 'hidden';\n        // Don't paste into flyouts.\n        if (workspace.isFlyout)\n            return 'hidden';\n        if (!this.options.allowCrossWorkspacePaste) {\n            // Only paste into the same workspace that was copied from\n            // or the parent workspace of a flyout that was copied from.\n            let copiedWorkspace = blockly__WEBPACK_IMPORTED_MODULE_0__.clipboard.getLastCopiedWorkspace();\n            if (copiedWorkspace === null || copiedWorkspace === void 0 ? void 0 : copiedWorkspace.isFlyout)\n                copiedWorkspace = copiedWorkspace.targetWorkspace;\n            if (copiedWorkspace !== workspace)\n                return 'disabled';\n        }\n        if (((_a = this.oldPasteShortcut) === null || _a === void 0 ? void 0 : _a.preconditionFn) &&\n            this.oldPasteShortcut.preconditionFn(workspace, scope)) {\n            return 'enabled';\n        }\n        return 'disabled';\n    }\n    /**\n     * The callback for the paste action. Uses the registered version of the paste callback\n     * to perform the paste logic, then clears any toasts about pasting.\n     *\n     * @param workspace Workspace where shortcut happened.\n     * @param e menu open event or keyboard event\n     * @param shortcut keyboard shortcut or undefined for context menus\n     * @param scope scope of the shortcut or context menu item\n     * @returns true if a paste happened, false otherwise\n     */\n    pasteCallback(workspace, e, shortcut = {\n        name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n    }, scope) {\n        var _a;\n        const didPaste = !!((_a = this.oldPasteShortcut) === null || _a === void 0 ? void 0 : _a.callback) &&\n            this.oldPasteShortcut.callback(workspace, e, shortcut, scope);\n        // Clear the paste hints regardless of whether something was pasted\n        // Some implementations of paste are async and we should clear the hint\n        // once the user initiates the paste action.\n        (0,_hints__WEBPACK_IMPORTED_MODULE_3__.clearPasteHints)(workspace);\n        return didPaste;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsS0FBSyxTQUFTO2dCQUFFLE9BQU8sVUFBVSxDQUFDO1FBQ3ZELENBQUM7UUFFRCxJQUNFLFdBQUksQ0FBQyxnQkFBZ0IsMENBQUUsY0FBYztZQUNyQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsRUFDdEQsQ0FBQztZQUNELE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUM7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBRUQ7Ozs7Ozs7OztPQVNHO0lBQ0ssYUFBYSxDQUNuQixTQUF1QixFQUN2QixDQUFRLEVBQ1IsV0FBOEM7UUFDNUMsSUFBSSxFQUFFLHNEQUF3QixDQUFDLEdBQUc7S0FDbkMsRUFDRCxLQUFnQzs7UUFFaEMsTUFBTSxRQUFRLEdBQ1osQ0FBQyxDQUFDLFdBQUksQ0FBQyxnQkFBZ0IsMENBQUUsUUFBUTtZQUNqQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRWhFLG1FQUFtRTtRQUNuRSx1RUFBdUU7UUFDdkUsNENBQTRDO1FBQzVDLHVEQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDM0IsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL2NsaXBib2FyZC50cz83NjAxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgQ29udGV4dE1lbnVSZWdpc3RyeSxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgaXNDb3B5YWJsZSxcbiAgTXNnLFxuICBTaG9ydGN1dEl0ZW1zLFxuICBXb3Jrc3BhY2VTdmcsXG4gIGNsaXBib2FyZCxcbiAgaXNTZWxlY3RhYmxlLFxufSBmcm9tICdibG9ja2x5JztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHtOYXZpZ2F0aW9ufSBmcm9tICcuLi9uYXZpZ2F0aW9uJztcbmltcG9ydCB7Z2V0TWVudUl0ZW19IGZyb20gJy4uL3Nob3J0Y3V0X2Zvcm1hdHRpbmcnO1xuaW1wb3J0IHtjbGVhclBhc3RlSGludHMsIHNob3dDb3BpZWRIaW50LCBzaG93Q3V0SGludH0gZnJvbSAnLi4vaGludHMnO1xuXG4vKipcbiAqIFdlaWdodCBmb3IgdGhlIGZpcnN0IG9mIHRoZXNlIHRocmVlIGl0ZW1zIGluIHRoZSBjb250ZXh0IG1lbnUuXG4gKiBDaGFuZ2luZyBiYXNlIHdlaWdodCB3aWxsIGNoYW5nZSB3aGVyZSB0aGlzIGdyb3VwIGdvZXMgaW4gdGhlIGNvbnRleHRcbiAqIG1lbnU7IGNoYW5naW5nIGluZGl2aWR1YWwgd2VpZ2h0cyByZWxhdGl2ZSB0byBiYXNlIHdlaWdodCBjYW4gY2hhbmdlXG4gKiB0aGUgb3JkZXIgd2l0aGluIHRoZSBjbGlwYm9hcmQgZ3JvdXAuXG4gKi9cbmNvbnN0IEJBU0VfV0VJR0hUID0gMTI7XG5cbi8qKlxuICogTG9naWMgYW5kIHN0YXRlIGZvciBjdXQvY29weS9wYXN0ZSBhY3Rpb25zIGFzIGJvdGgga2V5Ym9hcmQgc2hvcnRjdXRzXG4gKiBhbmQgY29udGV4dCBtZW51IGl0ZW1zLlxuICogSW4gdGhlIGxvbmcgdGVybSwgdGhpcyB3aWxsIGxpa2VseSBtZXJnZSB3aXRoIHRoZSBjbGlwYm9hcmQgY29kZSBpbiBjb3JlLlxuICovXG5leHBvcnQgY2xhc3MgQ2xpcGJvYXJkIHtcbiAgcHJpdmF0ZSBvbGRDdXRTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG9sZENvcHlTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG9sZFBhc3RlU2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIG5hdmlnYXRpb246IE5hdmlnYXRpb24sXG4gICAgcHJpdmF0ZSBvcHRpb25zOiB7YWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlOiBib29sZWFufSA9IHtcbiAgICAgIGFsbG93Q3Jvc3NXb3Jrc3BhY2VQYXN0ZTogZmFsc2UsXG4gICAgfSxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoZXNlIGFjdGlvbnMgYXMgYm90aCBrZXlib2FyZCBzaG9ydGN1dHMgYW5kIGNvbnRleHQgbWVudSBpdGVtcy5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5yZWdpc3RlckNvcHlTaG9ydGN1dCgpO1xuICAgIHRoaXMucmVnaXN0ZXJDb3B5Q29udGV4dE1lbnVBY3Rpb24oKTtcblxuICAgIHRoaXMucmVnaXN0ZXJQYXN0ZVNob3J0Y3V0KCk7XG4gICAgdGhpcy5yZWdpc3RlclBhc3RlQ29udGV4dE1lbnVBY3Rpb24oKTtcblxuICAgIHRoaXMucmVnaXN0ZXJDdXRTaG9ydGN1dCgpO1xuICAgIHRoaXMucmVnaXN0ZXJDdXRDb250ZXh0TWVudUFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuaW5zdGFsbCB0aGlzIGFjdGlvbiBhcyBib3RoIGEga2V5Ym9hcmQgc2hvcnRjdXQgYW5kIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqIFJlaW5zdGFsbCB0aGUgb3JpZ2luYWwgY3V0L2NvcHkvcGFzdGUgc2hvcnRjdXRzLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcignYmxvY2tDdXRGcm9tQ29udGV4dE1lbnUnKTtcbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoJ2Jsb2NrQ29weUZyb21Db250ZXh0TWVudScpO1xuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcignYmxvY2tQYXN0ZUZyb21Db250ZXh0TWVudScpO1xuXG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DVVQpO1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ09QWSk7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5QQVNURSk7XG5cbiAgICBpZiAodGhpcy5vbGRDdXRTaG9ydGN1dCkge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih0aGlzLm9sZEN1dFNob3J0Y3V0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vbGRDb3B5U2hvcnRjdXQpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIodGhpcy5vbGRDb3B5U2hvcnRjdXQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9sZFBhc3RlU2hvcnRjdXQpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIodGhpcy5vbGRQYXN0ZVNob3J0Y3V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZWdpc3RlciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQgZm9yIHRoZSBjdXQgYWN0aW9uLlxuICAgKiBJZGVudGljYWwgdG8gdGhlIG9uZSBpbiBjb3JlIGJ1dCBhZGRzIGEgdG9hc3QgYWZ0ZXIgc3VjY2Vzc2Z1bCBjdXQuXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyQ3V0U2hvcnRjdXQoKSB7XG4gICAgdGhpcy5vbGRDdXRTaG9ydGN1dCA9XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmdldFJlZ2lzdHJ5KClbU2hvcnRjdXRJdGVtcy5uYW1lcy5DVVRdO1xuICAgIGlmICghdGhpcy5vbGRDdXRTaG9ydGN1dClcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY3V0IGtleWJvYXJkIHNob3J0Y3V0IHJlZ2lzdGVyZWQgaW5pdGlhbGx5Jyk7XG5cbiAgICBjb25zdCBjdXRTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkNVVCxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiB0aGlzLm9sZEN1dFNob3J0Y3V0LnByZWNvbmRpdGlvbkZuLFxuICAgICAgY2FsbGJhY2s6IHRoaXMuY3V0Q2FsbGJhY2suYmluZCh0aGlzKSxcbiAgICAgIGtleUNvZGVzOiB0aGlzLm9sZEN1dFNob3J0Y3V0LmtleUNvZGVzLFxuICAgICAgYWxsb3dDb2xsaXNpb246IGZhbHNlLFxuICAgIH07XG5cbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoU2hvcnRjdXRJdGVtcy5uYW1lcy5DVVQpO1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoY3V0U2hvcnRjdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBjdXQgYmxvY2sgYWN0aW9uIGFzIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqIFRoZSBjb250ZXh0IG1lbnUgdXNlcyBpdHMgb3duIHByZWNvbmRpdGlvbkZuICh0aGF0IGRvZXNuJ3QgY2hlY2tcbiAgICogaWYgYSBnZXN0dXJlIGlzIGluIHByb2dyZXNzLCBiZWNhdXNlIG9uZSBhbHdheXMgaXMgaW4gdGhlIGNvbnRleHRcbiAgICogbWVudSkuIEl0IGNhbGxzIHRoZSBjdXQgY2FsbGJhY2sgdGhhdCBpcyBzaGFyZWQgYmV0d2VlbiBrZXlib2FyZFxuICAgKiBhbmQgY29udGV4dCBtZW51LlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlckN1dENvbnRleHRNZW51QWN0aW9uKCkge1xuICAgIGNvbnN0IGN1dEFjdGlvbjogQ29udGV4dE1lbnVSZWdpc3RyeS5SZWdpc3RyeUl0ZW0gPSB7XG4gICAgICBkaXNwbGF5VGV4dDogKHNjb3BlKSA9PlxuICAgICAgICBnZXRNZW51SXRlbShNc2dbJ0NVVF9TSE9SVENVVCddLCBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ1VUKSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAoc2NvcGUpID0+IHRoaXMuY3V0UHJlY29uZGl0aW9uKHNjb3BlKSxcbiAgICAgIGNhbGxiYWNrOiAoc2NvcGUsIG1lbnVPcGVuRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFpc0NvcHlhYmxlKHNjb3BlLmZvY3VzZWROb2RlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCB3cyA9IHNjb3BlLmZvY3VzZWROb2RlLndvcmtzcGFjZTtcbiAgICAgICAgaWYgKCEod3MgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmcpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3V0Q2FsbGJhY2sod3MsIG1lbnVPcGVuRXZlbnQsIHVuZGVmaW5lZCwgc2NvcGUpO1xuICAgICAgfSxcbiAgICAgIGlkOiAnYmxvY2tDdXRGcm9tQ29udGV4dE1lbnUnLFxuICAgICAgd2VpZ2h0OiBCQVNFX1dFSUdIVCxcbiAgICB9O1xuXG4gICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihjdXRBY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZWNvbmRpdGlvbiBmdW5jdGlvbiBmb3IgdGhlIGN1dCBjb250ZXh0IG1lbnUuIFRoaXMgd3JhcHMgdGhlIGNvcmUgY3V0XG4gICAqIHByZWNvbmRpdGlvbiB0byBzdXBwb3J0IGNvbnRleHQgbWVudXMuXG4gICAqXG4gICAqIEBwYXJhbSBzY29wZSBzY29wZSBvZiB0aGUgc2hvcnRjdXQgb3IgY29udGV4dCBtZW51IGl0ZW1cbiAgICogQHJldHVybnMgJ2VuYWJsZWQnIGlmIHRoZSBub2RlIGNhbiBiZSBjdXQsICdkaXNhYmxlZCcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBjdXRQcmVjb25kaXRpb24oc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZvY3VzZWQgPSBzY29wZS5mb2N1c2VkTm9kZTtcbiAgICBpZiAoIWZvY3VzZWQgfHwgIWlzQ29weWFibGUoZm9jdXNlZCkpIHJldHVybiAnaGlkZGVuJztcblxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IGZvY3VzZWQud29ya3NwYWNlO1xuICAgIGlmICghKHdvcmtzcGFjZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZykpIHJldHVybiAnaGlkZGVuJztcblxuICAgIGlmIChcbiAgICAgIHRoaXMub2xkQ3V0U2hvcnRjdXQ/LnByZWNvbmRpdGlvbkZuICYmXG4gICAgICB0aGlzLm9sZEN1dFNob3J0Y3V0LnByZWNvbmRpdGlvbkZuKHdvcmtzcGFjZSwgc2NvcGUpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ2VuYWJsZWQnO1xuICAgIH1cbiAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGJhY2sgZm9yIHRoZSBjdXQgYWN0aW9uLiBVc2VzIHRoZSByZWdpc3RlcmVkIHZlcnNpb24gb2YgdGhlIGN1dCBjYWxsYmFja1xuICAgKiB0byBwZXJmb3JtIHRoZSBjdXQgbG9naWMsIHRoZW4gcG9wcyBhIHRvYXN0IGlmIGN1dCBoYXBwZW5lZC5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBXb3Jrc3BhY2Ugd2hlcmUgc2hvcnRjdXQgaGFwcGVuZWQuXG4gICAqIEBwYXJhbSBlIG1lbnUgb3BlbiBldmVudCBvciBrZXlib2FyZCBldmVudFxuICAgKiBAcGFyYW0gc2hvcnRjdXQga2V5Ym9hcmQgc2hvcnRjdXQgb3IgdW5kZWZpbmVkIGZvciBjb250ZXh0IG1lbnVzXG4gICAqIEBwYXJhbSBzY29wZSBzY29wZSBvZiB0aGUgc2hvcnRjdXQgb3IgY29udGV4dCBtZW51IGl0ZW1cbiAgICogQHJldHVybnMgdHJ1ZSBpZiBhIGN1dCBoYXBwZW5lZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBwcml2YXRlIGN1dENhbGxiYWNrKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIGU6IEV2ZW50LFxuICAgIHNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ1VULFxuICAgIH0sXG4gICAgc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUsXG4gICkge1xuICAgIGNvbnN0IGRpZEN1dCA9XG4gICAgICAhIXRoaXMub2xkQ3V0U2hvcnRjdXQ/LmNhbGxiYWNrICYmXG4gICAgICB0aGlzLm9sZEN1dFNob3J0Y3V0LmNhbGxiYWNrKHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQsIHNjb3BlKTtcbiAgICBpZiAoZGlkQ3V0KSB7XG4gICAgICBzaG93Q3V0SGludCh3b3Jrc3BhY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGlkQ3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgdGhlIGtleWJvYXJkIHNob3J0Y3V0IGZvciB0aGUgY29weSBhY3Rpb24uXG4gICAqIElkZW50aWNhbCB0byB0aGUgb25lIGluIGNvcmUgYnV0IHBvcHMgYSB0b2FzdCBhZnRlciBzdWNjZXNmdWwgY29weS5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJDb3B5U2hvcnRjdXQoKSB7XG4gICAgdGhpcy5vbGRDb3B5U2hvcnRjdXQgPVxuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5nZXRSZWdpc3RyeSgpW1Nob3J0Y3V0SXRlbXMubmFtZXMuQ09QWV07XG4gICAgaWYgKCF0aGlzLm9sZENvcHlTaG9ydGN1dClcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29weSBrZXlib2FyZCBzaG9ydGN1dCByZWdpc3RlcmVkIGluaXRpYWxseScpO1xuXG4gICAgY29uc3QgY29weVNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ09QWSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiB0aGlzLm9sZENvcHlTaG9ydGN1dC5wcmVjb25kaXRpb25GbixcbiAgICAgIGNhbGxiYWNrOiB0aGlzLmNvcHlDYWxsYmFjay5iaW5kKHRoaXMpLFxuICAgICAga2V5Q29kZXM6IHRoaXMub2xkQ29weVNob3J0Y3V0LmtleUNvZGVzLFxuICAgICAgYWxsb3dDb2xsaXNpb246IGZhbHNlLFxuICAgIH07XG5cbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoU2hvcnRjdXRJdGVtcy5uYW1lcy5DT1BZKTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKGNvcHlTaG9ydGN1dCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlIGNvcHkgYmxvY2sgYWN0aW9uIGFzIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqIFRoZSBjb250ZXh0IG1lbnUgdXNlcyBpdHMgb3duIHByZWNvbmRpdGlvbkZuICh0aGF0IGRvZXNuJ3QgY2hlY2tcbiAgICogaWYgYSBnZXN0dXJlIGlzIGluIHByb2dyZXNzLCBiZWNhdXNlIG9uZSBhbHdheXMgaXMgaW4gdGhlIGNvbnRleHRcbiAgICogbWVudSkuIEl0IGNhbGxzIHRoZSBjb3B5IGNhbGxiYWNrIHRoYXQgaXMgc2hhcmVkIGJldHdlZW4ga2V5Ym9hcmRcbiAgICogYW5kIGNvbnRleHQgbWVudS5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJDb3B5Q29udGV4dE1lbnVBY3Rpb24oKSB7XG4gICAgY29uc3QgY29weUFjdGlvbjogQ29udGV4dE1lbnVSZWdpc3RyeS5SZWdpc3RyeUl0ZW0gPSB7XG4gICAgICBkaXNwbGF5VGV4dDogKHNjb3BlKSA9PlxuICAgICAgICBnZXRNZW51SXRlbShNc2dbJ0NPUFlfU0hPUlRDVVQnXSwgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkNPUFkpLFxuICAgICAgcHJlY29uZGl0aW9uRm46IChzY29wZSkgPT4gdGhpcy5jb3B5UHJlY29uZGl0aW9uKHNjb3BlKSxcbiAgICAgIGNhbGxiYWNrOiAoc2NvcGUsIG1lbnVPcGVuRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFpc0NvcHlhYmxlKHNjb3BlLmZvY3VzZWROb2RlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCB3cyA9IHNjb3BlLmZvY3VzZWROb2RlLndvcmtzcGFjZTtcbiAgICAgICAgaWYgKCEod3MgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmcpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUNhbGxiYWNrKHdzLCBtZW51T3BlbkV2ZW50LCB1bmRlZmluZWQsIHNjb3BlKTtcbiAgICAgIH0sXG4gICAgICBpZDogJ2Jsb2NrQ29weUZyb21Db250ZXh0TWVudScsXG4gICAgICB3ZWlnaHQ6IEJBU0VfV0VJR0hUICsgMSxcbiAgICB9O1xuXG4gICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcihjb3B5QWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVjb25kaXRpb24gZnVuY3Rpb24gZm9yIHRoZSBjb3B5IGNvbnRleHQgbWVudS4gVGhpcyB3cmFwcyB0aGUgY29yZSBjb3B5XG4gICAqIHByZWNvbmRpdGlvbiB0byBzdXBwb3J0IGNvbnRleHQgbWVudXMuXG4gICAqXG4gICAqIEBwYXJhbSBzY29wZSBzY29wZSBvZiB0aGUgc2hvcnRjdXQgb3IgY29udGV4dCBtZW51IGl0ZW1cbiAgICogQHJldHVybnMgJ2VuYWJsZWQnIGlmIHRoZSBub2RlIGNhbiBiZSBjb3BpZWQsICdkaXNhYmxlZCcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBjb3B5UHJlY29uZGl0aW9uKHNjb3BlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlKTogc3RyaW5nIHtcbiAgICBjb25zdCBmb2N1c2VkID0gc2NvcGUuZm9jdXNlZE5vZGU7XG4gICAgaWYgKCFmb2N1c2VkIHx8ICFpc0NvcHlhYmxlKGZvY3VzZWQpKSByZXR1cm4gJ2hpZGRlbic7XG5cbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBmb2N1c2VkLndvcmtzcGFjZTtcbiAgICBpZiAoISh3b3Jrc3BhY2UgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmcpKSByZXR1cm4gJ2hpZGRlbic7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9sZENvcHlTaG9ydGN1dD8ucHJlY29uZGl0aW9uRm4gJiZcbiAgICAgIHRoaXMub2xkQ29weVNob3J0Y3V0LnByZWNvbmRpdGlvbkZuKHdvcmtzcGFjZSwgc2NvcGUpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ2VuYWJsZWQnO1xuICAgIH1cbiAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGJhY2sgZm9yIHRoZSBjb3B5IGFjdGlvbi4gVXNlcyB0aGUgcmVnaXN0ZXJlZCB2ZXJzaW9uIG9mIHRoZSBjb3B5IGNhbGxiYWNrXG4gICAqIHRvIHBlcmZvcm0gdGhlIGNvcHkgbG9naWMsIHRoZW4gcG9wcyBhIHRvYXN0IGlmIGNvcHkgaGFwcGVuZWQuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgV29ya3NwYWNlIHdoZXJlIHNob3J0Y3V0IGhhcHBlbmVkLlxuICAgKiBAcGFyYW0gZSBtZW51IG9wZW4gZXZlbnQgb3Iga2V5Ym9hcmQgZXZlbnRcbiAgICogQHBhcmFtIHNob3J0Y3V0IGtleWJvYXJkIHNob3J0Y3V0IG9yIHVuZGVmaW5lZCBmb3IgY29udGV4dCBtZW51c1xuICAgKiBAcGFyYW0gc2NvcGUgc2NvcGUgb2YgdGhlIHNob3J0Y3V0IG9yIGNvbnRleHQgbWVudSBpdGVtXG4gICAqIEByZXR1cm5zIHRydWUgaWYgYSBjb3B5IGhhcHBlbmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIHByaXZhdGUgY29weUNhbGxiYWNrKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIGU6IEV2ZW50LFxuICAgIHNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ1VULFxuICAgIH0sXG4gICAgc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUsXG4gICkge1xuICAgIGNvbnN0IGRpZENvcHkgPVxuICAgICAgISF0aGlzLm9sZENvcHlTaG9ydGN1dD8uY2FsbGJhY2sgJiZcbiAgICAgIHRoaXMub2xkQ29weVNob3J0Y3V0LmNhbGxiYWNrKHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQsIHNjb3BlKTtcbiAgICBpZiAoZGlkQ29weSkge1xuICAgICAgc2hvd0NvcGllZEhpbnQod29ya3NwYWNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZENvcHk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZWdpc3RlciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQgZm9yIHRoZSBwYXN0ZSBhY3Rpb24uXG4gICAqIElkZW50aWNhbCB0byB0aGUgb25lIGluIGNvcmUgYnV0IGNsZWFycyBhbnkgcGFzdGUgdG9hc3RzIGFmdGVyLlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlclBhc3RlU2hvcnRjdXQoKSB7XG4gICAgdGhpcy5vbGRQYXN0ZVNob3J0Y3V0ID1cbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuZ2V0UmVnaXN0cnkoKVtTaG9ydGN1dEl0ZW1zLm5hbWVzLlBBU1RFXTtcbiAgICBpZiAoIXRoaXMub2xkUGFzdGVTaG9ydGN1dClcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcGFzdGUga2V5Ym9hcmQgc2hvcnRjdXQgcmVnaXN0ZXJlZCBpbml0aWFsbHknKTtcblxuICAgIGNvbnN0IHBhc3RlU2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5QQVNURSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiB0aGlzLm9sZFBhc3RlU2hvcnRjdXQucHJlY29uZGl0aW9uRm4sXG4gICAgICBjYWxsYmFjazogdGhpcy5wYXN0ZUNhbGxiYWNrLmJpbmQodGhpcyksXG4gICAgICBrZXlDb2RlczogdGhpcy5vbGRQYXN0ZVNob3J0Y3V0LmtleUNvZGVzLFxuICAgICAgYWxsb3dDb2xsaXNpb246IGZhbHNlLFxuICAgIH07XG5cbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoU2hvcnRjdXRJdGVtcy5uYW1lcy5QQVNURSk7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihwYXN0ZVNob3J0Y3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgcGFzdGUgYmxvY2sgYWN0aW9uIGFzIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqIFRoZSBjb250ZXh0IG1lbnUgdXNlcyBpdHMgb3duIHByZWNvbmRpdGlvbkZuICh0aGF0IGRvZXNuJ3QgY2hlY2tcbiAgICogaWYgYSBnZXN0dXJlIGlzIGluIHByb2dyZXNzLCBiZWNhdXNlIG9uZSBhbHdheXMgaXMgaW4gdGhlIGNvbnRleHRcbiAgICogbWVudSkuIEl0IGNhbGxzIHRoZSBwYXN0ZSBjYWxsYmFjayB0aGF0IGlzIHNoYXJlZCBiZXR3ZWVuIGtleWJvYXJkXG4gICAqIGFuZCBjb250ZXh0IG1lbnUuXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUGFzdGVDb250ZXh0TWVudUFjdGlvbigpIHtcbiAgICBjb25zdCBwYXN0ZUFjdGlvbjogQ29udGV4dE1lbnVSZWdpc3RyeS5SZWdpc3RyeUl0ZW0gPSB7XG4gICAgICBkaXNwbGF5VGV4dDogKHNjb3BlKSA9PlxuICAgICAgICBnZXRNZW51SXRlbShNc2dbJ1BBU1RFX1NIT1JUQ1VUJ10sIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5QQVNURSksXG4gICAgICBwcmVjb25kaXRpb25GbjogKHNjb3BlKSA9PiB0aGlzLnBhc3RlUHJlY29uZGl0aW9uKHNjb3BlKSxcbiAgICAgIGNhbGxiYWNrOiAoc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUsIG1lbnVPcGVuRXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHRoaXMuZ2V0UGFzdGVXb3Jrc3BhY2Uoc2NvcGUpO1xuICAgICAgICBpZiAoIXdvcmtzcGFjZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXN0ZUNhbGxiYWNrKHdvcmtzcGFjZSwgbWVudU9wZW5FdmVudCwgdW5kZWZpbmVkLCBzY29wZSk7XG4gICAgICB9LFxuICAgICAgaWQ6ICdibG9ja1Bhc3RlRnJvbUNvbnRleHRNZW51JyxcbiAgICAgIHdlaWdodDogQkFTRV9XRUlHSFQgKyAyLFxuICAgIH07XG5cbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHBhc3RlQWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdvcmtzcGFjZSB0byBwYXN0ZSBpbnRvIGJhc2VkIG9uIHdoaWNoIHR5cGUgb2YgdGhpbmcgdGhlIG1lbnUgd2FzIG9wZW5lZCBvbi5cbiAgICpcbiAgICogQHBhcmFtIHNjb3BlIHNjb3BlIG9mIHNob3J0Y3V0IG9yIGNvbnRleHQgbWVudSBpdGVtXG4gICAqIEByZXR1cm5zIFdvcmtzcGFjZVN2ZyB0byBwYXN0ZSBpbnRvIG9yIHVuZGVmaW5lZFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRQYXN0ZVdvcmtzcGFjZShcbiAgICBzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSxcbiAgKTogV29ya3NwYWNlU3ZnIHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgd29ya3NwYWNlO1xuICAgIGlmIChzY29wZS5mb2N1c2VkTm9kZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2Zykge1xuICAgICAgd29ya3NwYWNlID0gc2NvcGUuZm9jdXNlZE5vZGU7XG4gICAgfSBlbHNlIGlmIChpc1NlbGVjdGFibGUoc2NvcGUuZm9jdXNlZE5vZGUpKSB7XG4gICAgICB3b3Jrc3BhY2UgPSBzY29wZS5mb2N1c2VkTm9kZS53b3Jrc3BhY2U7XG4gICAgfVxuXG4gICAgaWYgKCF3b3Jrc3BhY2UgfHwgISh3b3Jrc3BhY2UgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmcpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiB3b3Jrc3BhY2U7XG4gIH1cblxuICAvKipcbiAgICogUHJlY29uZGl0aW9uIGZ1bmN0aW9uIGZvciB0aGUgcGFzdGUgY29udGV4dCBtZW51LiBUaGlzIHdyYXBzIHRoZSBjb3JlXG4gICAqIHBhc3RlIHByZWNvbmRpdGlvbiB0byBzdXBwb3J0IGNvbnRleHQgbWVudXMuXG4gICAqXG4gICAqIEBwYXJhbSBzY29wZSBzY29wZSBvZiB0aGUgc2hvcnRjdXQgb3IgY29udGV4dCBtZW51IGl0ZW1cbiAgICogQHJldHVybnMgJ2VuYWJsZWQnIGlmIHRoZSBub2RlIGNhbiBiZSBwYXN0ZWQsICdkaXNhYmxlZCcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBwYXN0ZVByZWNvbmRpdGlvbihzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSk6IHN0cmluZyB7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy5nZXRQYXN0ZVdvcmtzcGFjZShzY29wZSk7XG4gICAgLy8gSWYgd2UgY2FuJ3QgaWRlbnRpZnkgd2hhdCB3b3Jrc3BhY2UgdG8gcGFzdGUgaW50bywgaGlkZS5cbiAgICBpZiAoIXdvcmtzcGFjZSkgcmV0dXJuICdoaWRkZW4nO1xuXG4gICAgLy8gRG9uJ3QgcGFzdGUgaW50byBmbHlvdXRzLlxuICAgIGlmICh3b3Jrc3BhY2UuaXNGbHlvdXQpIHJldHVybiAnaGlkZGVuJztcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93Q3Jvc3NXb3Jrc3BhY2VQYXN0ZSkge1xuICAgICAgLy8gT25seSBwYXN0ZSBpbnRvIHRoZSBzYW1lIHdvcmtzcGFjZSB0aGF0IHdhcyBjb3BpZWQgZnJvbVxuICAgICAgLy8gb3IgdGhlIHBhcmVudCB3b3Jrc3BhY2Ugb2YgYSBmbHlvdXQgdGhhdCB3YXMgY29waWVkIGZyb20uXG4gICAgICBsZXQgY29waWVkV29ya3NwYWNlID0gY2xpcGJvYXJkLmdldExhc3RDb3BpZWRXb3Jrc3BhY2UoKTtcbiAgICAgIGlmIChjb3BpZWRXb3Jrc3BhY2U/LmlzRmx5b3V0KVxuICAgICAgICBjb3BpZWRXb3Jrc3BhY2UgPSBjb3BpZWRXb3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlO1xuICAgICAgaWYgKGNvcGllZFdvcmtzcGFjZSAhPT0gd29ya3NwYWNlKSByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9sZFBhc3RlU2hvcnRjdXQ/LnByZWNvbmRpdGlvbkZuICYmXG4gICAgICB0aGlzLm9sZFBhc3RlU2hvcnRjdXQucHJlY29uZGl0aW9uRm4od29ya3NwYWNlLCBzY29wZSlcbiAgICApIHtcbiAgICAgIHJldHVybiAnZW5hYmxlZCc7XG4gICAgfVxuICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayBmb3IgdGhlIHBhc3RlIGFjdGlvbi4gVXNlcyB0aGUgcmVnaXN0ZXJlZCB2ZXJzaW9uIG9mIHRoZSBwYXN0ZSBjYWxsYmFja1xuICAgKiB0byBwZXJmb3JtIHRoZSBwYXN0ZSBsb2dpYywgdGhlbiBjbGVhcnMgYW55IHRvYXN0cyBhYm91dCBwYXN0aW5nLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFdvcmtzcGFjZSB3aGVyZSBzaG9ydGN1dCBoYXBwZW5lZC5cbiAgICogQHBhcmFtIGUgbWVudSBvcGVuIGV2ZW50IG9yIGtleWJvYXJkIGV2ZW50XG4gICAqIEBwYXJhbSBzaG9ydGN1dCBrZXlib2FyZCBzaG9ydGN1dCBvciB1bmRlZmluZWQgZm9yIGNvbnRleHQgbWVudXNcbiAgICogQHBhcmFtIHNjb3BlIHNjb3BlIG9mIHRoZSBzaG9ydGN1dCBvciBjb250ZXh0IG1lbnUgaXRlbVxuICAgKiBAcmV0dXJucyB0cnVlIGlmIGEgcGFzdGUgaGFwcGVuZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgcHJpdmF0ZSBwYXN0ZUNhbGxiYWNrKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIGU6IEV2ZW50LFxuICAgIHNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ1VULFxuICAgIH0sXG4gICAgc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUsXG4gICkge1xuICAgIGNvbnN0IGRpZFBhc3RlID1cbiAgICAgICEhdGhpcy5vbGRQYXN0ZVNob3J0Y3V0Py5jYWxsYmFjayAmJlxuICAgICAgdGhpcy5vbGRQYXN0ZVNob3J0Y3V0LmNhbGxiYWNrKHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQsIHNjb3BlKTtcblxuICAgIC8vIENsZWFyIHRoZSBwYXN0ZSBoaW50cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgc29tZXRoaW5nIHdhcyBwYXN0ZWRcbiAgICAvLyBTb21lIGltcGxlbWVudGF0aW9ucyBvZiBwYXN0ZSBhcmUgYXN5bmMgYW5kIHdlIHNob3VsZCBjbGVhciB0aGUgaGludFxuICAgIC8vIG9uY2UgdGhlIHVzZXIgaW5pdGlhdGVzIHRoZSBwYXN0ZSBhY3Rpb24uXG4gICAgY2xlYXJQYXN0ZUhpbnRzKHdvcmtzcGFjZSk7XG4gICAgcmV0dXJuIGRpZFBhc3RlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/actions/clipboard.ts\n");

/***/ }),

/***/ "../../src/actions/delete.ts":
/*!***********************************!*\
  !*** ../../src/actions/delete.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteAction: () => (/* binding */ DeleteAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n/**\n * Action to delete the block the cursor is currently on.\n */\nclass DeleteAction {\n    constructor() {\n        /**\n         * Saved context menu item display text function, which is restored\n         * when this action is uninstalled.\n         */\n        this.oldDisplayText = undefined;\n        /**\n         * Saved context menu item, which has its display text restored when\n         * this action is uninstalled.\n         */\n        this.oldContextMenuItem = null;\n    }\n    /**\n     * Install this action as both a keyboard shortcut and a context menu item.\n     */\n    install() {\n        this.registerContextMenuAction();\n    }\n    /**\n     * Reinstall the original context menu display text if possible.\n     */\n    uninstall() {\n        if (this.oldContextMenuItem && this.oldDisplayText) {\n            this.oldContextMenuItem.displayText = this.oldDisplayText;\n        }\n    }\n    /**\n     * Updates the text of the context menu delete action to include\n     * the keyboard shortcut.\n     */\n    registerContextMenuAction() {\n        this.oldContextMenuItem =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.getItem('blockDelete');\n        if (!this.oldContextMenuItem)\n            return;\n        this.oldDisplayText = this.oldContextMenuItem.displayText;\n        const displayText = (scope) => {\n            let label;\n            // Use the original item's text, which is dynamic based on the number\n            // of blocks that will be deleted.\n            if (typeof this.oldDisplayText === 'function') {\n                const result = this.oldDisplayText(scope);\n                if (result instanceof HTMLElement) {\n                    label = result.innerText;\n                }\n                else {\n                    label = result;\n                }\n            }\n            else if (typeof this.oldDisplayText === 'string') {\n                label = this.oldDisplayText;\n            }\n            else {\n                label = blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['DELETE_BLOCK'];\n            }\n            return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__.getMenuItem)(label, blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.DELETE);\n        };\n        this.oldContextMenuItem.displayText = displayText;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2FjdGlvbnMvZGVsZXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0dBSUc7QUFFNkQ7QUFDYjtBQUVuRDs7R0FFRztBQUNJLE1BQU0sWUFBWTtJQWlCdkI7UUFoQkE7OztXQUdHO1FBQ0ssbUJBQWMsR0FJTixTQUFTLENBQUM7UUFFMUI7OztXQUdHO1FBQ0ssdUJBQWtCLEdBQTRDLElBQUksQ0FBQztJQUU1RCxDQUFDO0lBRWhCOztPQUVHO0lBQ0gsT0FBTztRQUNMLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDbkQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQzVELENBQUM7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0sseUJBQXlCO1FBQy9CLElBQUksQ0FBQyxrQkFBa0I7WUFDckIsd0RBQW1CLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUV0RCxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQjtZQUFFLE9BQU87UUFFckMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDO1FBRTFELE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBZ0MsRUFBRSxFQUFFO1lBQ3ZELElBQUksS0FBYSxDQUFDO1lBQ2xCLHFFQUFxRTtZQUNyRSxrQ0FBa0M7WUFDbEMsSUFBSSxPQUFPLElBQUksQ0FBQyxjQUFjLEtBQUssVUFBVSxFQUFFLENBQUM7Z0JBQzlDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzFDLElBQUksTUFBTSxZQUFZLFdBQVcsRUFBRSxDQUFDO29CQUNsQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztnQkFDM0IsQ0FBQztxQkFBTSxDQUFDO29CQUNOLEtBQUssR0FBRyxNQUFNLENBQUM7Z0JBQ2pCLENBQUM7WUFDSCxDQUFDO2lCQUFNLElBQUksT0FBTyxJQUFJLENBQUMsY0FBYyxLQUFLLFFBQVEsRUFBRSxDQUFDO2dCQUNuRCxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUM5QixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sS0FBSyxHQUFHLHdDQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUIsQ0FBQztZQUVELE9BQU8saUVBQVcsQ0FBQyxLQUFLLEVBQUUsa0RBQWEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEQsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDcEQsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL2RlbGV0ZS50cz9hYzJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtDb250ZXh0TWVudVJlZ2lzdHJ5LCBNc2csIFNob3J0Y3V0SXRlbXN9IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtnZXRNZW51SXRlbX0gZnJvbSAnLi4vc2hvcnRjdXRfZm9ybWF0dGluZyc7XG5cbi8qKlxuICogQWN0aW9uIHRvIGRlbGV0ZSB0aGUgYmxvY2sgdGhlIGN1cnNvciBpcyBjdXJyZW50bHkgb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxldGVBY3Rpb24ge1xuICAvKipcbiAgICogU2F2ZWQgY29udGV4dCBtZW51IGl0ZW0gZGlzcGxheSB0ZXh0IGZ1bmN0aW9uLCB3aGljaCBpcyByZXN0b3JlZFxuICAgKiB3aGVuIHRoaXMgYWN0aW9uIGlzIHVuaW5zdGFsbGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBvbGREaXNwbGF5VGV4dDpcbiAgICB8ICgoc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUpID0+IHN0cmluZyB8IEhUTUxFbGVtZW50KVxuICAgIHwgc3RyaW5nXG4gICAgfCBIVE1MRWxlbWVudFxuICAgIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBTYXZlZCBjb250ZXh0IG1lbnUgaXRlbSwgd2hpY2ggaGFzIGl0cyBkaXNwbGF5IHRleHQgcmVzdG9yZWQgd2hlblxuICAgKiB0aGlzIGFjdGlvbiBpcyB1bmluc3RhbGxlZC5cbiAgICovXG4gIHByaXZhdGUgb2xkQ29udGV4dE1lbnVJdGVtOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlJlZ2lzdHJ5SXRlbSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICAvKipcbiAgICogSW5zdGFsbCB0aGlzIGFjdGlvbiBhcyBib3RoIGEga2V5Ym9hcmQgc2hvcnRjdXQgYW5kIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIHRoaXMucmVnaXN0ZXJDb250ZXh0TWVudUFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlaW5zdGFsbCB0aGUgb3JpZ2luYWwgY29udGV4dCBtZW51IGRpc3BsYXkgdGV4dCBpZiBwb3NzaWJsZS5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBpZiAodGhpcy5vbGRDb250ZXh0TWVudUl0ZW0gJiYgdGhpcy5vbGREaXNwbGF5VGV4dCkge1xuICAgICAgdGhpcy5vbGRDb250ZXh0TWVudUl0ZW0uZGlzcGxheVRleHQgPSB0aGlzLm9sZERpc3BsYXlUZXh0O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB0ZXh0IG9mIHRoZSBjb250ZXh0IG1lbnUgZGVsZXRlIGFjdGlvbiB0byBpbmNsdWRlXG4gICAqIHRoZSBrZXlib2FyZCBzaG9ydGN1dC5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJDb250ZXh0TWVudUFjdGlvbigpIHtcbiAgICB0aGlzLm9sZENvbnRleHRNZW51SXRlbSA9XG4gICAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LmdldEl0ZW0oJ2Jsb2NrRGVsZXRlJyk7XG5cbiAgICBpZiAoIXRoaXMub2xkQ29udGV4dE1lbnVJdGVtKSByZXR1cm47XG5cbiAgICB0aGlzLm9sZERpc3BsYXlUZXh0ID0gdGhpcy5vbGRDb250ZXh0TWVudUl0ZW0uZGlzcGxheVRleHQ7XG5cbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IChzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSkgPT4ge1xuICAgICAgbGV0IGxhYmVsOiBzdHJpbmc7XG4gICAgICAvLyBVc2UgdGhlIG9yaWdpbmFsIGl0ZW0ncyB0ZXh0LCB3aGljaCBpcyBkeW5hbWljIGJhc2VkIG9uIHRoZSBudW1iZXJcbiAgICAgIC8vIG9mIGJsb2NrcyB0aGF0IHdpbGwgYmUgZGVsZXRlZC5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vbGREaXNwbGF5VGV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm9sZERpc3BsYXlUZXh0KHNjb3BlKTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgbGFiZWwgPSByZXN1bHQuaW5uZXJUZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhYmVsID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9sZERpc3BsYXlUZXh0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBsYWJlbCA9IHRoaXMub2xkRGlzcGxheVRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYWJlbCA9IE1zZ1snREVMRVRFX0JMT0NLJ107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRNZW51SXRlbShsYWJlbCwgU2hvcnRjdXRJdGVtcy5uYW1lcy5ERUxFVEUpO1xuICAgIH07XG5cbiAgICB0aGlzLm9sZENvbnRleHRNZW51SXRlbS5kaXNwbGF5VGV4dCA9IGRpc3BsYXlUZXh0O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/actions/delete.ts\n");

/***/ }),

/***/ "../../src/actions/disconnect.ts":
/*!***************************************!*\
  !*** ../../src/actions/disconnect.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DisconnectAction: () => (/* binding */ DisconnectAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Action to insert a block into the workspace.\n *\n * This action registers itself as both a keyboard shortcut and a context menu\n * item.\n */\nclass DisconnectAction {\n    constructor(navigation) {\n        this.navigation = navigation;\n        /**\n         * Registration name for the keyboard shortcut.\n         */\n        this.shortcutName = _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DISCONNECT;\n    }\n    /**\n     * Install this action as both a keyboard shortcut and a context menu item.\n     */\n    install() {\n        this.registerShortcut();\n    }\n    /**\n     * Uninstall this action as both a keyboard shortcut and a context menu item.\n     * Reinstall the original context menu action if possible.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(this.shortcutName);\n    }\n    /**\n     * Create and register the keyboard shortcut for this action.\n     */\n    registerShortcut() {\n        const disconnectShortcut = {\n            name: this.shortcutName,\n            preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n            callback: (workspace) => {\n                blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                        this.disconnectBlocks(workspace);\n                        return true;\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [KeyCodes.X],\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(disconnectShortcut);\n    }\n    /**\n     * Disconnects the connection that the cursor is pointing to, and bump blocks.\n     * This is a no-op if the connection cannot be broken or if the cursor is not\n     * pointing to a connection.\n     *\n     * @param workspace The workspace.\n     */\n    disconnectBlocks(workspace) {\n        var _a;\n        const cursor = workspace.getCursor();\n        const curNode = cursor.getCurNode();\n        if (!(curNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n            return;\n        const healStack = !((_a = curNode.outputConnection) === null || _a === void 0 ? void 0 : _a.isConnected());\n        blockly__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        curNode.unplug(healStack);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(false);\n        // Needed or we end up with passive focus.\n        cursor.setCurNode(curNode);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2FjdGlvbnMvZGlzY29ubmVjdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztHQUlHO0FBUWM7QUFDeUI7QUFJMUMsTUFBTSxRQUFRLEdBQUcsMENBQVksQ0FBQyxRQUFRLENBQUM7QUFFdkM7Ozs7O0dBS0c7QUFDSSxNQUFNLGdCQUFnQjtJQU0zQixZQUFvQixVQUFzQjtRQUF0QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBTDFDOztXQUVHO1FBQ0ssaUJBQVksR0FBRyxzREFBd0IsQ0FBQyxVQUFVLENBQUM7SUFFZCxDQUFDO0lBRTlDOztPQUVHO0lBQ0gsT0FBTztRQUNMLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxTQUFTO1FBQ1AscURBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVEOztPQUVHO0lBQ0ssZ0JBQWdCO1FBQ3RCLE1BQU0sa0JBQWtCLEdBQXNDO1lBQzVELElBQUksRUFBRSxJQUFJLENBQUMsWUFBWTtZQUN2QixjQUFjLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQztZQUM3QyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRTtnQkFDdEIsaUVBQTRCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvQyxRQUFRLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztvQkFDbkMsS0FBSyw2Q0FBZSxDQUFDLFNBQVM7d0JBQzVCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFDakMsT0FBTyxJQUFJLENBQUM7b0JBQ2Q7d0JBQ0UsT0FBTyxLQUFLLENBQUM7Z0JBQ2pCLENBQUM7WUFDSCxDQUFDO1lBQ0QsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztTQUN2QixDQUFDO1FBQ0YscURBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSCxnQkFBZ0IsQ0FBQyxTQUF1Qjs7UUFDdEMsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JDLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQyxJQUFJLENBQUMsQ0FBQyxPQUFPLFlBQVksNkNBQVEsQ0FBQztZQUFFLE9BQU87UUFFM0MsTUFBTSxTQUFTLEdBQUcsQ0FBQyxjQUFPLENBQUMsZ0JBQWdCLDBDQUFFLFdBQVcsRUFBRSxFQUFDO1FBQzNELDJDQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDMUIsMkNBQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFdkIsMENBQTBDO1FBQzFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDN0IsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL2Rpc2Nvbm5lY3QudHM/ZDBjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIEJsb2NrU3ZnLFxuICBFdmVudHMsXG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIHV0aWxzIGFzIEJsb2NrbHlVdGlscyxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHtXb3Jrc3BhY2VTdmd9IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtOYXZpZ2F0aW9ufSBmcm9tICcuLi9uYXZpZ2F0aW9uJztcblxuY29uc3QgS2V5Q29kZXMgPSBCbG9ja2x5VXRpbHMuS2V5Q29kZXM7XG5cbi8qKlxuICogQWN0aW9uIHRvIGluc2VydCBhIGJsb2NrIGludG8gdGhlIHdvcmtzcGFjZS5cbiAqXG4gKiBUaGlzIGFjdGlvbiByZWdpc3RlcnMgaXRzZWxmIGFzIGJvdGggYSBrZXlib2FyZCBzaG9ydGN1dCBhbmQgYSBjb250ZXh0IG1lbnVcbiAqIGl0ZW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNjb25uZWN0QWN0aW9uIHtcbiAgLyoqXG4gICAqIFJlZ2lzdHJhdGlvbiBuYW1lIGZvciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQuXG4gICAqL1xuICBwcml2YXRlIHNob3J0Y3V0TmFtZSA9IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5ESVNDT05ORUNUO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmF2aWdhdGlvbjogTmF2aWdhdGlvbikge31cblxuICAvKipcbiAgICogSW5zdGFsbCB0aGlzIGFjdGlvbiBhcyBib3RoIGEga2V5Ym9hcmQgc2hvcnRjdXQgYW5kIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIHRoaXMucmVnaXN0ZXJTaG9ydGN1dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuaW5zdGFsbCB0aGlzIGFjdGlvbiBhcyBib3RoIGEga2V5Ym9hcmQgc2hvcnRjdXQgYW5kIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqIFJlaW5zdGFsbCB0aGUgb3JpZ2luYWwgY29udGV4dCBtZW51IGFjdGlvbiBpZiBwb3NzaWJsZS5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIodGhpcy5zaG9ydGN1dE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgdGhlIGtleWJvYXJkIHNob3J0Y3V0IGZvciB0aGlzIGFjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJTaG9ydGN1dCgpIHtcbiAgICBjb25zdCBkaXNjb25uZWN0U2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IHRoaXMuc2hvcnRjdXROYW1lLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLnNldElzQWN0aXZlKHRydWUpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMubmF2aWdhdGlvbi5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0QmxvY2tzKHdvcmtzcGFjZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5YXSxcbiAgICB9O1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoZGlzY29ubmVjdFNob3J0Y3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgY29ubmVjdGlvbiB0aGF0IHRoZSBjdXJzb3IgaXMgcG9pbnRpbmcgdG8sIGFuZCBidW1wIGJsb2Nrcy5cbiAgICogVGhpcyBpcyBhIG5vLW9wIGlmIHRoZSBjb25uZWN0aW9uIGNhbm5vdCBiZSBicm9rZW4gb3IgaWYgdGhlIGN1cnNvciBpcyBub3RcbiAgICogcG9pbnRpbmcgdG8gYSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gICAqL1xuICBkaXNjb25uZWN0QmxvY2tzKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgY29uc3QgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgIGNvbnN0IGN1ck5vZGUgPSBjdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgIGlmICghKGN1ck5vZGUgaW5zdGFuY2VvZiBCbG9ja1N2ZykpIHJldHVybjtcblxuICAgIGNvbnN0IGhlYWxTdGFjayA9ICFjdXJOb2RlLm91dHB1dENvbm5lY3Rpb24/LmlzQ29ubmVjdGVkKCk7XG4gICAgRXZlbnRzLnNldEdyb3VwKHRydWUpO1xuICAgIGN1ck5vZGUudW5wbHVnKGhlYWxTdGFjayk7XG4gICAgRXZlbnRzLnNldEdyb3VwKGZhbHNlKTtcblxuICAgIC8vIE5lZWRlZCBvciB3ZSBlbmQgdXAgd2l0aCBwYXNzaXZlIGZvY3VzLlxuICAgIGN1cnNvci5zZXRDdXJOb2RlKGN1ck5vZGUpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/actions/disconnect.ts\n");

/***/ }),

/***/ "../../src/actions/duplicate.ts":
/*!**************************************!*\
  !*** ../../src/actions/duplicate.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DuplicateAction: () => (/* binding */ DuplicateAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n/**\n * Duplicate action that adds a keyboard shortcut for duplicate and overrides\n * the context menu item to show it if the context menu item is registered.\n */\nclass DuplicateAction {\n    constructor() {\n        this.duplicateShortcut = null;\n        this.uninstallHandlers = [];\n    }\n    /**\n     * Install the shortcuts and override context menu entries.\n     *\n     * No change is made if there's already a 'duplicate' shortcut.\n     */\n    install() {\n        this.duplicateShortcut = this.registerDuplicateShortcut();\n        if (this.duplicateShortcut) {\n            this.uninstallHandlers.push(overrideContextMenuItemForShortcutText('blockDuplicate', _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE));\n            this.uninstallHandlers.push(overrideContextMenuItemForShortcutText('commentDuplicate', _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE));\n        }\n    }\n    /**\n     * Unregister the shortcut and reinstate the original context menu entries.\n     */\n    uninstall() {\n        this.uninstallHandlers.forEach((handler) => handler());\n        this.uninstallHandlers.length = 0;\n        if (this.duplicateShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(this.duplicateShortcut.name);\n        }\n    }\n    /**\n     * Create and register the keyboard shortcut for the duplicate action.\n     * Same behaviour as for the core context menu.\n     * Skipped if there is a shortcut with a matching name already.\n     */\n    registerDuplicateShortcut() {\n        if (blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE]) {\n            return null;\n        }\n        const shortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE,\n            // Equivalent to the core context menu entry.\n            preconditionFn(workspace, scope) {\n                const { focusedNode } = scope;\n                if (focusedNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    return (!focusedNode.isInFlyout &&\n                        focusedNode.isDeletable() &&\n                        focusedNode.isMovable() &&\n                        focusedNode.isDuplicatable());\n                }\n                else if (focusedNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n                    return focusedNode.isMovable();\n                }\n                return false;\n            },\n            callback(workspace, e, shortcut, scope) {\n                const copyable = scope.focusedNode;\n                const data = copyable.toCopyData();\n                if (!data)\n                    return false;\n                return !!blockly__WEBPACK_IMPORTED_MODULE_0__.clipboard.paste(data, workspace);\n            },\n            keyCodes: [blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.D],\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        return shortcut;\n    }\n}\n/**\n * Replace a context menu item to add shortcut text to its displayText.\n *\n * Nothing happens if there is not a matching context menu item registered.\n *\n * @param registryId Context menu registry id to replace if present.\n * @param shortcutName The corresponding shortcut name.\n * @returns A function to reinstate the original context menu entry.\n */\nfunction overrideContextMenuItemForShortcutText(registryId, shortcutName) {\n    const original = blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.getItem(registryId);\n    if (!original || 'separator' in original) {\n        return () => { };\n    }\n    const override = Object.assign(Object.assign({}, original), { displayText: (scope) => {\n            const displayText = typeof original.displayText === 'function'\n                ? original.displayText(scope)\n                : original.displayText;\n            if (displayText instanceof HTMLElement) {\n                // We can't cope in this scenario.\n                return displayText;\n            }\n            return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(displayText, shortcutName);\n        } });\n    blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister(registryId);\n    blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(override);\n    return () => {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister(registryId);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(original);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OTU1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIEJsb2NrU3ZnLFxuICBjbGlwYm9hcmQsXG4gIENvbnRleHRNZW51UmVnaXN0cnksXG4gIElDb3B5YWJsZSxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgdXRpbHMsXG4gIGNvbW1lbnRzLFxuICBJQ29weURhdGEsXG59IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldE1lbnVJdGVtfSBmcm9tICcuLi9zaG9ydGN1dF9mb3JtYXR0aW5nJztcblxuLyoqXG4gKiBEdXBsaWNhdGUgYWN0aW9uIHRoYXQgYWRkcyBhIGtleWJvYXJkIHNob3J0Y3V0IGZvciBkdXBsaWNhdGUgYW5kIG92ZXJyaWRlc1xuICogdGhlIGNvbnRleHQgbWVudSBpdGVtIHRvIHNob3cgaXQgaWYgdGhlIGNvbnRleHQgbWVudSBpdGVtIGlzIHJlZ2lzdGVyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEdXBsaWNhdGVBY3Rpb24ge1xuICBwcml2YXRlIGR1cGxpY2F0ZVNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB1bmluc3RhbGxIYW5kbGVyczogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcblxuICAvKipcbiAgICogSW5zdGFsbCB0aGUgc2hvcnRjdXRzIGFuZCBvdmVycmlkZSBjb250ZXh0IG1lbnUgZW50cmllcy5cbiAgICpcbiAgICogTm8gY2hhbmdlIGlzIG1hZGUgaWYgdGhlcmUncyBhbHJlYWR5IGEgJ2R1cGxpY2F0ZScgc2hvcnRjdXQuXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIHRoaXMuZHVwbGljYXRlU2hvcnRjdXQgPSB0aGlzLnJlZ2lzdGVyRHVwbGljYXRlU2hvcnRjdXQoKTtcbiAgICBpZiAodGhpcy5kdXBsaWNhdGVTaG9ydGN1dCkge1xuICAgICAgdGhpcy51bmluc3RhbGxIYW5kbGVycy5wdXNoKFxuICAgICAgICBvdmVycmlkZUNvbnRleHRNZW51SXRlbUZvclNob3J0Y3V0VGV4dChcbiAgICAgICAgICAnYmxvY2tEdXBsaWNhdGUnLFxuICAgICAgICAgIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5EVVBMSUNBVEUsXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgdGhpcy51bmluc3RhbGxIYW5kbGVycy5wdXNoKFxuICAgICAgICBvdmVycmlkZUNvbnRleHRNZW51SXRlbUZvclNob3J0Y3V0VGV4dChcbiAgICAgICAgICAnY29tbWVudER1cGxpY2F0ZScsXG4gICAgICAgICAgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRVUExJQ0FURSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXIgdGhlIHNob3J0Y3V0IGFuZCByZWluc3RhdGUgdGhlIG9yaWdpbmFsIGNvbnRleHQgbWVudSBlbnRyaWVzLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIHRoaXMudW5pbnN0YWxsSGFuZGxlcnMuZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlcigpKTtcbiAgICB0aGlzLnVuaW5zdGFsbEhhbmRsZXJzLmxlbmd0aCA9IDA7XG4gICAgaWYgKHRoaXMuZHVwbGljYXRlU2hvcnRjdXQpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3Rlcih0aGlzLmR1cGxpY2F0ZVNob3J0Y3V0Lm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHRoZSBrZXlib2FyZCBzaG9ydGN1dCBmb3IgdGhlIGR1cGxpY2F0ZSBhY3Rpb24uXG4gICAqIFNhbWUgYmVoYXZpb3VyIGFzIGZvciB0aGUgY29yZSBjb250ZXh0IG1lbnUuXG4gICAqIFNraXBwZWQgaWYgdGhlcmUgaXMgYSBzaG9ydGN1dCB3aXRoIGEgbWF0Y2hpbmcgbmFtZSBhbHJlYWR5LlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlckR1cGxpY2F0ZVNob3J0Y3V0KCk6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCB8IG51bGwge1xuICAgIGlmIChcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuZ2V0UmVnaXN0cnkoKVtcbiAgICAgICAgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRVUExJQ0FURVxuICAgICAgXVxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5EVVBMSUNBVEUsXG4gICAgICAvLyBFcXVpdmFsZW50IHRvIHRoZSBjb3JlIGNvbnRleHQgbWVudSBlbnRyeS5cbiAgICAgIHByZWNvbmRpdGlvbkZuKHdvcmtzcGFjZSwgc2NvcGUpIHtcbiAgICAgICAgY29uc3Qge2ZvY3VzZWROb2RlfSA9IHNjb3BlO1xuICAgICAgICBpZiAoZm9jdXNlZE5vZGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAhZm9jdXNlZE5vZGUuaXNJbkZseW91dCAmJlxuICAgICAgICAgICAgZm9jdXNlZE5vZGUuaXNEZWxldGFibGUoKSAmJlxuICAgICAgICAgICAgZm9jdXNlZE5vZGUuaXNNb3ZhYmxlKCkgJiZcbiAgICAgICAgICAgIGZvY3VzZWROb2RlLmlzRHVwbGljYXRhYmxlKClcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGZvY3VzZWROb2RlIGluc3RhbmNlb2YgY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGZvY3VzZWROb2RlLmlzTW92YWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjayh3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0LCBzY29wZSkge1xuICAgICAgICBjb25zdCBjb3B5YWJsZSA9IHNjb3BlLmZvY3VzZWROb2RlIGFzIElDb3B5YWJsZTxJQ29weURhdGE+O1xuICAgICAgICBjb25zdCBkYXRhID0gY29weWFibGUudG9Db3B5RGF0YSgpO1xuICAgICAgICBpZiAoIWRhdGEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuICEhY2xpcGJvYXJkLnBhc3RlKGRhdGEsIHdvcmtzcGFjZSk7XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFt1dGlscy5LZXlDb2Rlcy5EXSxcbiAgICB9O1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoc2hvcnRjdXQpO1xuICAgIHJldHVybiBzaG9ydGN1dDtcbiAgfVxufVxuXG4vKipcbiAqIFJlcGxhY2UgYSBjb250ZXh0IG1lbnUgaXRlbSB0byBhZGQgc2hvcnRjdXQgdGV4dCB0byBpdHMgZGlzcGxheVRleHQuXG4gKlxuICogTm90aGluZyBoYXBwZW5zIGlmIHRoZXJlIGlzIG5vdCBhIG1hdGNoaW5nIGNvbnRleHQgbWVudSBpdGVtIHJlZ2lzdGVyZWQuXG4gKlxuICogQHBhcmFtIHJlZ2lzdHJ5SWQgQ29udGV4dCBtZW51IHJlZ2lzdHJ5IGlkIHRvIHJlcGxhY2UgaWYgcHJlc2VudC5cbiAqIEBwYXJhbSBzaG9ydGN1dE5hbWUgVGhlIGNvcnJlc3BvbmRpbmcgc2hvcnRjdXQgbmFtZS5cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gcmVpbnN0YXRlIHRoZSBvcmlnaW5hbCBjb250ZXh0IG1lbnUgZW50cnkuXG4gKi9cbmZ1bmN0aW9uIG92ZXJyaWRlQ29udGV4dE1lbnVJdGVtRm9yU2hvcnRjdXRUZXh0KFxuICByZWdpc3RyeUlkOiBzdHJpbmcsXG4gIHNob3J0Y3V0TmFtZTogc3RyaW5nLFxuKTogKCkgPT4gdm9pZCB7XG4gIGNvbnN0IG9yaWdpbmFsID0gQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS5nZXRJdGVtKHJlZ2lzdHJ5SWQpO1xuICBpZiAoIW9yaWdpbmFsIHx8ICdzZXBhcmF0b3InIGluIG9yaWdpbmFsKSB7XG4gICAgcmV0dXJuICgpID0+IHt9O1xuICB9XG5cbiAgY29uc3Qgb3ZlcnJpZGU6IENvbnRleHRNZW51UmVnaXN0cnkuUmVnaXN0cnlJdGVtID0ge1xuICAgIC4uLm9yaWdpbmFsLFxuICAgIGRpc3BsYXlUZXh0OiAoc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUpID0+IHtcbiAgICAgIGNvbnN0IGRpc3BsYXlUZXh0ID1cbiAgICAgICAgdHlwZW9mIG9yaWdpbmFsLmRpc3BsYXlUZXh0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyBvcmlnaW5hbC5kaXNwbGF5VGV4dChzY29wZSlcbiAgICAgICAgICA6IG9yaWdpbmFsLmRpc3BsYXlUZXh0O1xuICAgICAgaWYgKGRpc3BsYXlUZXh0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgLy8gV2UgY2FuJ3QgY29wZSBpbiB0aGlzIHNjZW5hcmlvLlxuICAgICAgICByZXR1cm4gZGlzcGxheVRleHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0TWVudUl0ZW0oZGlzcGxheVRleHQsIHNob3J0Y3V0TmFtZSk7XG4gICAgfSxcbiAgfTtcbiAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKHJlZ2lzdHJ5SWQpO1xuICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKG92ZXJyaWRlKTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihyZWdpc3RyeUlkKTtcbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKG9yaWdpbmFsKTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/actions/duplicate.ts\n");

/***/ }),

/***/ "../../src/actions/edit.ts":
/*!*********************************!*\
  !*** ../../src/actions/edit.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditAction: () => (/* binding */ EditAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n/**\n * Action to edit a block.  This just moves the cursor to the first\n * field or input (if there is one), and exists as an aid to\n * navigational discoverability:\n *\n * Any time there is a cursor position that can be accessed by\n * pressing the right-arrow key, which isn't accessible by pressing\n * the down-arrow key (these positions are typically fields and value\n * inputs), a context menu item \"Edit Block contents ()\" will be\n * shown in the block context menu.\n *\n * N.B.: This item is shown any time the cursor is on a block and not\n * in the rightmost position 'on the current line'; that means that\n * sometimes the label (\"Edit block contents\") is possibly misleading,\n * because it might not be the contents of the _current_ block that's\n * being edited, but rather that of a sibling or parent block.\n *\n * This action registers itself only as a context menu item, as there\n * is already a corresponding \"right\" shortcut item.\n */\nclass EditAction {\n    constructor(navigation) {\n        this.navigation = navigation;\n    }\n    /**\n     * Install this action as a context menu item.\n     */\n    install() {\n        this.registerContextMenuAction();\n    }\n    /**\n     * Uninstall this action as both a keyboard shortcut and a context menu item.\n     * Reinstall the original context menu action if possible.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('edit');\n    }\n    /**\n     * Register the edit block action as a context menu item on blocks.\n     */\n    registerContextMenuAction() {\n        const editAboveItem = {\n            displayText: (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['EDIT_BLOCK_CONTENTS'], _constants__WEBPACK_IMPORTED_MODULE_2__.SHORTCUT_NAMES.RIGHT),\n            preconditionFn: (scope, menuOpenEvent) => {\n                var _a;\n                if (menuOpenEvent instanceof PointerEvent)\n                    return 'hidden';\n                const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                if (!workspace || !this.navigation.canCurrentlyNavigate(workspace)) {\n                    return 'disabled';\n                }\n                const cursor = workspace.getCursor();\n                if (!cursor)\n                    return 'disabled';\n                return cursor.atEndOfLine() ? 'hidden' : 'enabled';\n            },\n            callback: (scope) => {\n                var _a, _b;\n                blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                if (!workspace)\n                    return false;\n                (_b = workspace.getCursor()) === null || _b === void 0 ? void 0 : _b.in();\n                return true;\n            },\n            scopeType: blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.ScopeType.BLOCK,\n            id: 'edit',\n            weight: 10,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(editAboveItem);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2FjdGlvbnMvZWRpdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7R0FJRztBQUU0RTtBQUU1QjtBQUNUO0FBRTFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBQ0ksTUFBTSxVQUFVO0lBQ3JCLFlBQW9CLFVBQXNCO1FBQXRCLGVBQVUsR0FBVixVQUFVLENBQVk7SUFBRyxDQUFDO0lBRTlDOztPQUVHO0lBQ0gsT0FBTztRQUNMLElBQUksQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRDs7O09BR0c7SUFDSCxTQUFTO1FBQ1Asd0RBQW1CLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQ7O09BRUc7SUFDSyx5QkFBeUI7UUFDL0IsTUFBTSxhQUFhLEdBQXFDO1lBQ3RELFdBQVcsRUFBRSxpRUFBVyxDQUN0Qix3Q0FBRyxDQUFDLHFCQUFxQixDQUFDLEVBQzFCLHNEQUF3QixDQUFDLEtBQUssQ0FDL0I7WUFDRCxjQUFjLEVBQUUsQ0FBQyxLQUFnQyxFQUFFLGFBQWEsRUFBRSxFQUFFOztnQkFDbEUsSUFBSSxhQUFhLFlBQVksWUFBWTtvQkFBRSxPQUFPLFFBQVEsQ0FBQztnQkFDM0QsTUFBTSxTQUFTLEdBQUcsV0FBSyxDQUFDLEtBQUssMENBQUUsU0FBUyxDQUFDO2dCQUN6QyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO29CQUNuRSxPQUFPLFVBQVUsQ0FBQztnQkFDcEIsQ0FBQztnQkFDRCxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxNQUFNO29CQUFFLE9BQU8sVUFBVSxDQUFDO2dCQUMvQixPQUFPLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7WUFDckQsQ0FBQztZQUNELFFBQVEsRUFBRSxDQUFDLEtBQWdDLEVBQUUsRUFBRTs7Z0JBQzdDLGlFQUE0QixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0MsTUFBTSxTQUFTLEdBQUcsV0FBSyxDQUFDLEtBQUssMENBQUUsU0FBUyxDQUFDO2dCQUN6QyxJQUFJLENBQUMsU0FBUztvQkFBRSxPQUFPLEtBQUssQ0FBQztnQkFDN0IsZUFBUyxDQUFDLFNBQVMsRUFBRSwwQ0FBRSxFQUFFLEVBQUUsQ0FBQztnQkFDNUIsT0FBTyxJQUFJLENBQUM7WUFDZCxDQUFDO1lBQ0QsU0FBUyxFQUFFLHdEQUFtQixDQUFDLFNBQVMsQ0FBQyxLQUFLO1lBQzlDLEVBQUUsRUFBRSxNQUFNO1lBQ1YsTUFBTSxFQUFFLEVBQUU7U0FDWCxDQUFDO1FBRUYsd0RBQW1CLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN2RCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2FjdGlvbnMvZWRpdC50cz80Mjg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtDb250ZXh0TWVudVJlZ2lzdHJ5LCBNc2csIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXJ9IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtOYXZpZ2F0aW9ufSBmcm9tICcuLi9uYXZpZ2F0aW9uJztcbmltcG9ydCB7Z2V0TWVudUl0ZW19IGZyb20gJy4uL3Nob3J0Y3V0X2Zvcm1hdHRpbmcnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbi8qKlxuICogQWN0aW9uIHRvIGVkaXQgYSBibG9jay4gIFRoaXMganVzdCBtb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBmaXJzdFxuICogZmllbGQgb3IgaW5wdXQgKGlmIHRoZXJlIGlzIG9uZSksIGFuZCBleGlzdHMgYXMgYW4gYWlkIHRvXG4gKiBuYXZpZ2F0aW9uYWwgZGlzY292ZXJhYmlsaXR5OlxuICpcbiAqIEFueSB0aW1lIHRoZXJlIGlzIGEgY3Vyc29yIHBvc2l0aW9uIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiBwcmVzc2luZyB0aGUgcmlnaHQtYXJyb3cga2V5LCB3aGljaCBpc24ndCBhY2Nlc3NpYmxlIGJ5IHByZXNzaW5nXG4gKiB0aGUgZG93bi1hcnJvdyBrZXkgKHRoZXNlIHBvc2l0aW9ucyBhcmUgdHlwaWNhbGx5IGZpZWxkcyBhbmQgdmFsdWVcbiAqIGlucHV0cyksIGEgY29udGV4dCBtZW51IGl0ZW0gXCJFZGl0IEJsb2NrIGNvbnRlbnRzICjihpLvuI4pXCIgd2lsbCBiZVxuICogc2hvd24gaW4gdGhlIGJsb2NrIGNvbnRleHQgbWVudS5cbiAqXG4gKiBOLkIuOiBUaGlzIGl0ZW0gaXMgc2hvd24gYW55IHRpbWUgdGhlIGN1cnNvciBpcyBvbiBhIGJsb2NrIGFuZCBub3RcbiAqIGluIHRoZSByaWdodG1vc3QgcG9zaXRpb24gJ29uIHRoZSBjdXJyZW50IGxpbmUnOyB0aGF0IG1lYW5zIHRoYXRcbiAqIHNvbWV0aW1lcyB0aGUgbGFiZWwgKFwiRWRpdCBibG9jayBjb250ZW50c1wiKSBpcyBwb3NzaWJseSBtaXNsZWFkaW5nLFxuICogYmVjYXVzZSBpdCBtaWdodCBub3QgYmUgdGhlIGNvbnRlbnRzIG9mIHRoZSBfY3VycmVudF8gYmxvY2sgdGhhdCdzXG4gKiBiZWluZyBlZGl0ZWQsIGJ1dCByYXRoZXIgdGhhdCBvZiBhIHNpYmxpbmcgb3IgcGFyZW50IGJsb2NrLlxuICpcbiAqIFRoaXMgYWN0aW9uIHJlZ2lzdGVycyBpdHNlbGYgb25seSBhcyBhIGNvbnRleHQgbWVudSBpdGVtLCBhcyB0aGVyZVxuICogaXMgYWxyZWFkeSBhIGNvcnJlc3BvbmRpbmcgXCJyaWdodFwiIHNob3J0Y3V0IGl0ZW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0QWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uKSB7fVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoaXMgYWN0aW9uIGFzIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIHRoaXMucmVnaXN0ZXJDb250ZXh0TWVudUFjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuaW5zdGFsbCB0aGlzIGFjdGlvbiBhcyBib3RoIGEga2V5Ym9hcmQgc2hvcnRjdXQgYW5kIGEgY29udGV4dCBtZW51IGl0ZW0uXG4gICAqIFJlaW5zdGFsbCB0aGUgb3JpZ2luYWwgY29udGV4dCBtZW51IGFjdGlvbiBpZiBwb3NzaWJsZS5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoJ2VkaXQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgZWRpdCBibG9jayBhY3Rpb24gYXMgYSBjb250ZXh0IG1lbnUgaXRlbSBvbiBibG9ja3MuXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyQ29udGV4dE1lbnVBY3Rpb24oKSB7XG4gICAgY29uc3QgZWRpdEFib3ZlSXRlbTogQ29udGV4dE1lbnVSZWdpc3RyeS5SZWdpc3RyeUl0ZW0gPSB7XG4gICAgICBkaXNwbGF5VGV4dDogZ2V0TWVudUl0ZW0oXG4gICAgICAgIE1zZ1snRURJVF9CTE9DS19DT05URU5UUyddLFxuICAgICAgICBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuUklHSFQsXG4gICAgICApLFxuICAgICAgcHJlY29uZGl0aW9uRm46IChzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSwgbWVudU9wZW5FdmVudCkgPT4ge1xuICAgICAgICBpZiAobWVudU9wZW5FdmVudCBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudCkgcmV0dXJuICdoaWRkZW4nO1xuICAgICAgICBjb25zdCB3b3Jrc3BhY2UgPSBzY29wZS5ibG9jaz8ud29ya3NwYWNlO1xuICAgICAgICBpZiAoIXdvcmtzcGFjZSB8fCAhdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSkpIHtcbiAgICAgICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJzb3IgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGlmICghY3Vyc29yKSByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICAgICAgcmV0dXJuIGN1cnNvci5hdEVuZE9mTGluZSgpID8gJ2hpZGRlbicgOiAnZW5hYmxlZCc7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IChzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSkgPT4ge1xuICAgICAgICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLnNldElzQWN0aXZlKHRydWUpO1xuICAgICAgICBjb25zdCB3b3Jrc3BhY2UgPSBzY29wZS5ibG9jaz8ud29ya3NwYWNlO1xuICAgICAgICBpZiAoIXdvcmtzcGFjZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCk/LmluKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIHNjb3BlVHlwZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZVR5cGUuQkxPQ0ssXG4gICAgICBpZDogJ2VkaXQnLFxuICAgICAgd2VpZ2h0OiAxMCxcbiAgICB9O1xuXG4gICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihlZGl0QWJvdmVJdGVtKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/actions/edit.ts\n");

/***/ }),

/***/ "../../src/actions/enter.ts":
/*!**********************************!*\
  !*** ../../src/actions/enter.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnterAction: () => (/* binding */ EnterAction)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/* harmony import */ var _mover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mover */ \"../../src/actions/mover.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints */ \"../../src/hints.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering a shortcut for the enter action.\n */\nclass EnterAction {\n    constructor(mover, navigation) {\n        this.mover = mover;\n        this.navigation = navigation;\n    }\n    /**\n     * Adds the enter action shortcut to the registry.\n     */\n    install() {\n        /**\n         * Enter key:\n         *\n         * - On the flyout: press a button or choose a block to place.\n         * - On a stack: open a block's context menu or field's editor.\n         * - On the workspace: open the context menu.\n         */\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register({\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n            preconditionFn: (workspace) => {\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                        return this.shouldHandleEnterForWS(workspace);\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT: {\n                        // If we're in the flyout the only supported actions are inserting\n                        // blocks or clicking buttons, so don't handle this if the\n                        // main workspace is read only.\n                        const targetWorkspace = workspace.isFlyout\n                            ? workspace.targetWorkspace\n                            : workspace;\n                        if (!targetWorkspace)\n                            return false;\n                        return this.navigation.canCurrentlyEdit(targetWorkspace);\n                    }\n                    default:\n                        return false;\n                }\n            },\n            callback: (workspace, event) => {\n                event.preventDefault();\n                const targetWorkspace = workspace.isFlyout\n                    ? workspace.targetWorkspace\n                    : workspace;\n                if (!targetWorkspace)\n                    return false;\n                let flyoutCursor;\n                let curNode;\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                        return this.handleEnterForWS(workspace);\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                        flyoutCursor = this.navigation.getFlyoutCursor(targetWorkspace);\n                        if (!flyoutCursor) {\n                            return false;\n                        }\n                        curNode = flyoutCursor.getCurNode();\n                        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                            this.insertFromFlyout(targetWorkspace);\n                        }\n                        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton) {\n                            this.triggerButtonCallback(targetWorkspace);\n                        }\n                        return true;\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [KeyCodes.ENTER, KeyCodes.SPACE],\n            allowCollision: true,\n        });\n    }\n    /**\n     * Checks if the enter key should do anything for this ws.\n     *\n     * @param workspace The workspace to check.\n     * @returns True if the enter action should be handled.\n     */\n    shouldHandleEnterForWS(workspace) {\n        if (!this.navigation.canCurrentlyNavigate(workspace))\n            return false;\n        if (workspace.isDragging())\n            return false;\n        const curNode = workspace.getCursor().getCurNode();\n        if (!curNode)\n            return false;\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field)\n            return curNode.isClickable();\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.RenderedConnection ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            return !workspace.isReadOnly();\n        }\n        // Returning true is sometimes incorrect for icons, but there's no API to check.\n        return (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.Icon ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.CommentBarButton ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment);\n    }\n    /**\n     * Handles hitting the enter key on the workspace.\n     *\n     * @param workspace The workspace.\n     * @returns True if the enter was handled, false otherwise.\n     */\n    handleEnterForWS(workspace) {\n        const cursor = workspace.getCursor();\n        const curNode = cursor.getCurNode();\n        if (!curNode)\n            return false;\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field) {\n            curNode.showEditor();\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            if (!this.tryShowFullBlockFieldEditor(curNode)) {\n                (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showHelpHint)(workspace);\n            }\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.RenderedConnection ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            this.navigation.openToolboxOrFlyout(workspace);\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.Icon) {\n            // Calling the icon's click handler will trigger its action, generally\n            // opening a bubble of some sort. We then need to wait for the bubble to\n            // appear before attempting to navigate into it.\n            curNode.onClick();\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.renderManagement.finishQueuedRenders().then(() => {\n                if ((0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.hasBubble)(curNode) && curNode.bubbleIsVisible()) {\n                    cursor.in();\n                }\n            });\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.CommentBarButton) {\n            curNode.performAction();\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n            curNode.setCollapsed(false);\n            (0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(curNode.getEditorFocusableNode());\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Inserts a block from the flyout.\n     * Tries to find a connection on the block to connect to the marked\n     * location. If no connection has been marked, or there is not a compatible\n     * connection then the block is placed on the workspace.\n     * Trigger a toast per session if possible.\n     *\n     * @param workspace The main workspace. The workspace\n     *     the block will be placed on.\n     */\n    insertFromFlyout(workspace) {\n        var _a;\n        workspace.setResizesEnabled(false);\n        // Create a new event group or append to the existing group.\n        const existingGroup = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.getGroup();\n        if (!existingGroup) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        }\n        // If the workspace has never had focus default the stationary node.\n        const stationaryNode = (_a = blockly_core__WEBPACK_IMPORTED_MODULE_0__.FocusableTreeTraverser.findFocusedNode(workspace)) !== null && _a !== void 0 ? _a : workspace.getRestoredFocusableNode(null);\n        const newBlock = this.createNewBlock(workspace);\n        if (!newBlock)\n            return;\n        const insertStartPoint = stationaryNode\n            ? this.navigation.findInsertStartPoint(stationaryNode, newBlock)\n            : null;\n        if (workspace.getTopBlocks().includes(newBlock)) {\n            this.positionNewTopLevelBlock(workspace, newBlock);\n        }\n        workspace.setResizesEnabled(true);\n        this.mover.startMove(workspace, newBlock, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Insert, insertStartPoint);\n        const isStartBlock = !newBlock.outputConnection &&\n            !newBlock.nextConnection &&\n            !newBlock.previousConnection;\n        if (isStartBlock) {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showUnconstrainedMoveHint)(workspace, false);\n        }\n        else {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showConstrainedMovementHint)(workspace);\n        }\n    }\n    /**\n     * Position a new top-level block to avoid overlap at the top left.\n     *\n     * Similar to `WorkspaceSvg.cleanUp()` but does not constrain itself to not\n     * affecting code ordering in order to use horizontal space.\n     *\n     * @param workspace The workspace.\n     * @param newBlock The top-level block to move to free space.\n     */\n    positionNewTopLevelBlock(workspace, newBlock) {\n        var _a;\n        const initialY = 10;\n        const initialX = 10;\n        const xSpacing = 80;\n        const filteredTopBlocks = workspace\n            .getTopBlocks(true)\n            .filter((block) => block.id !== newBlock.id);\n        const allBlockBounds = filteredTopBlocks.map((block) => block.getBoundingRectangle());\n        const toolboxWidth = (_a = workspace.getToolbox()) === null || _a === void 0 ? void 0 : _a.getWidth();\n        const workspaceWidth = workspace.getParentSvg().clientWidth - (toolboxWidth !== null && toolboxWidth !== void 0 ? toolboxWidth : 0);\n        const workspaceHeight = workspace.getParentSvg().clientHeight;\n        const { height: newBlockHeight, width: newBlockWidth } = newBlock.getHeightWidth();\n        const getNextIntersectingBlock = function (newBlockRect) {\n            for (const rect of allBlockBounds) {\n                if (newBlockRect.intersects(rect)) {\n                    return rect;\n                }\n            }\n            return null;\n        };\n        let cursorY = initialY;\n        let cursorX = initialX;\n        const minBlockHeight = workspace\n            .getRenderer()\n            .getConstants().MIN_BLOCK_HEIGHT;\n        // Make the initial movement of shifting the block to its best possible position.\n        let boundingRect = newBlock.getBoundingRectangle();\n        newBlock.moveBy(cursorX - boundingRect.left, cursorY - boundingRect.top, [\n            'cleanup',\n        ]);\n        newBlock.snapToGrid();\n        boundingRect = newBlock.getBoundingRectangle();\n        let conflictingRect = getNextIntersectingBlock(boundingRect);\n        while (conflictingRect != null) {\n            const newCursorX = conflictingRect.left + conflictingRect.getWidth() + xSpacing;\n            const newCursorY = conflictingRect.top + conflictingRect.getHeight() + minBlockHeight;\n            if (newCursorX + newBlockWidth <= workspaceWidth) {\n                cursorX = newCursorX;\n            }\n            else if (newCursorY + newBlockHeight <= workspaceHeight) {\n                cursorY = newCursorY;\n                cursorX = initialX;\n            }\n            else {\n                // Off screen, but new blocks will be selected which will scroll them\n                // into view.\n                cursorY = newCursorY;\n                cursorX = initialX;\n            }\n            newBlock.moveBy(cursorX - boundingRect.left, cursorY - boundingRect.top, [\n                'cleanup',\n            ]);\n            newBlock.snapToGrid();\n            boundingRect = newBlock.getBoundingRectangle();\n            conflictingRect = getNextIntersectingBlock(boundingRect);\n        }\n        newBlock.bringToFront();\n    }\n    /**\n     * Triggers a flyout button's callback.\n     *\n     * @param workspace The main workspace. The workspace\n     *     containing a flyout with a button.\n     */\n    triggerButtonCallback(workspace) {\n        var _a;\n        const button = (_a = this.navigation.getFlyoutCursor(workspace)) === null || _a === void 0 ? void 0 : _a.getCurNode();\n        if (!(button instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton))\n            return;\n        const flyoutButtonCallbacks = \n        // @ts-expect-error private field access\n        workspace.flyoutButtonCallbacks;\n        // TODO: Remove cast once blockly 12.4.0 is the minimum version of Blockly required.\n        // button.callbackKey is private until that version.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const callbackKey = button.callbackKey;\n        const buttonCallback = flyoutButtonCallbacks.get(callbackKey);\n        if (!buttonCallback) {\n            throw new Error('No callback function found for flyout button.');\n        }\n        buttonCallback(button);\n    }\n    /**\n     * If this block has a full block field then show its editor.\n     *\n     * @param block A block.\n     * @returns True if we showed the editor, false otherwise.\n     */\n    tryShowFullBlockFieldEditor(block) {\n        if (block.isSimpleReporter()) {\n            for (const input of block.inputList) {\n                for (const field of input.fieldRow) {\n                    if (field.isClickable() && field.isFullBlockField()) {\n                        field.showEditor();\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Creates a new block based on the current block the flyout cursor is on.\n     *\n     * @param workspace The main workspace. The workspace\n     *     the block will be placed on.\n     * @returns The newly created block.\n     */\n    createNewBlock(workspace) {\n        var _a;\n        const flyout = workspace.getFlyout();\n        if (!flyout || !flyout.isVisible()) {\n            console.warn('Trying to insert from the flyout when the flyout does not ' +\n                ' exist or is not visible');\n            return null;\n        }\n        const curBlock = (_a = this.navigation.getFlyoutCursor(workspace)) === null || _a === void 0 ? void 0 : _a.getCurNode();\n        if (!(curBlock instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) || !curBlock.isEnabled()) {\n            console.warn(\"Can't insert a disabled block.\");\n            return null;\n        }\n        const newBlock = flyout.createBlock(curBlock);\n        // Render to get the sizing right.\n        newBlock.render();\n        // Connections are not tracked when the block is first created.  Normally\n        // there's enough time for them to become tracked in the user's mouse\n        // movements, but not here.\n        newBlock.setConnectionTracking(true);\n        return newBlock;\n    }\n    /**\n     * Removes the enter action shortcut.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2FjdGlvbnMvZW50ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztHQUlHO0FBaUJtQjtBQUlvQjtBQUVGO0FBS3RCO0FBRWxCLE1BQU0sUUFBUSxHQUFHLCtDQUFZLENBQUMsUUFBUSxDQUFDO0FBRXZDOztHQUVHO0FBQ0ksTUFBTSxXQUFXO0lBQ3RCLFlBQ1UsS0FBWSxFQUNaLFVBQXNCO1FBRHRCLFVBQUssR0FBTCxLQUFLLENBQU87UUFDWixlQUFVLEdBQVYsVUFBVSxDQUFZO0lBQzdCLENBQUM7SUFFSjs7T0FFRztJQUNILE9BQU87UUFDTDs7Ozs7O1dBTUc7UUFDSCwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO1lBQ2pDLElBQUksRUFBRSxzREFBd0IsQ0FBQyxlQUFlO1lBQzlDLGNBQWMsRUFBRSxDQUFDLFNBQVMsRUFBVyxFQUFFO2dCQUNyQyxRQUFRLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztvQkFDbkMsS0FBSyw2Q0FBZSxDQUFDLFNBQVM7d0JBQzVCLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUNoRCxLQUFLLDZDQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzt3QkFDNUIsa0VBQWtFO3dCQUNsRSwwREFBMEQ7d0JBQzFELCtCQUErQjt3QkFDL0IsTUFBTSxlQUFlLEdBQUcsU0FBUyxDQUFDLFFBQVE7NEJBQ3hDLENBQUMsQ0FBQyxTQUFTLENBQUMsZUFBZTs0QkFDM0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQzt3QkFDZCxJQUFJLENBQUMsZUFBZTs0QkFBRSxPQUFPLEtBQUssQ0FBQzt3QkFDbkMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUMzRCxDQUFDO29CQUNEO3dCQUNFLE9BQU8sS0FBSyxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztZQUNELFFBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQVcsRUFBRTtnQkFDdEMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUV2QixNQUFNLGVBQWUsR0FBRyxTQUFTLENBQUMsUUFBUTtvQkFDeEMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxlQUFlO29CQUMzQixDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUNkLElBQUksQ0FBQyxlQUFlO29CQUFFLE9BQU8sS0FBSyxDQUFDO2dCQUVuQyxJQUFJLFlBQVksQ0FBQztnQkFDakIsSUFBSSxPQUFPLENBQUM7Z0JBRVosUUFBUSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7b0JBQ25DLEtBQUssNkNBQWUsQ0FBQyxTQUFTO3dCQUM1QixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFDMUMsS0FBSyw2Q0FBZSxDQUFDLE1BQU07d0JBQ3pCLFlBQVksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsQ0FBQzt3QkFDaEUsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDOzRCQUNsQixPQUFPLEtBQUssQ0FBQzt3QkFDZixDQUFDO3dCQUNELE9BQU8sR0FBRyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7d0JBQ3BDLElBQUksT0FBTyxZQUFZLGtEQUFRLEVBQUUsQ0FBQzs0QkFDaEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDO3dCQUN6QyxDQUFDOzZCQUFNLElBQUksT0FBTyxZQUFZLHNEQUFZLEVBQUUsQ0FBQzs0QkFDM0MsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxDQUFDO3dCQUM5QyxDQUFDO3dCQUNELE9BQU8sSUFBSSxDQUFDO29CQUNkO3dCQUNFLE9BQU8sS0FBSyxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztZQUNELFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQztZQUMxQyxjQUFjLEVBQUUsSUFBSTtTQUNyQixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxzQkFBc0IsQ0FBQyxTQUF1QjtRQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUM7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNuRSxJQUFJLFNBQVMsQ0FBQyxVQUFVLEVBQUU7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUV6QyxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbkQsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPLEtBQUssQ0FBQztRQUMzQixJQUFJLE9BQU8sWUFBWSwrQ0FBSztZQUFFLE9BQU8sT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzNELElBQ0UsT0FBTyxZQUFZLDREQUFrQjtZQUNyQyxPQUFPLFlBQVksc0RBQVksRUFDL0IsQ0FBQztZQUNELE9BQU8sQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDakMsQ0FBQztRQUNELGdGQUFnRjtRQUNoRixPQUFPLENBQ0wsT0FBTyxZQUFZLGtEQUFRO1lBQzNCLE9BQU8sWUFBWSwrQ0FBSyxDQUFDLElBQUk7WUFDN0IsT0FBTyxZQUFZLGtEQUFRLENBQUMsZ0JBQWdCO1lBQzVDLE9BQU8sWUFBWSxrREFBUSxDQUFDLHdCQUF3QixDQUNyRCxDQUFDO0lBQ0osQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ssZ0JBQWdCLENBQUMsU0FBdUI7UUFDOUMsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JDLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQzNCLElBQUksT0FBTyxZQUFZLCtDQUFLLEVBQUUsQ0FBQztZQUM3QixPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO2FBQU0sSUFBSSxPQUFPLFlBQVksa0RBQVEsRUFBRSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztnQkFDL0Msb0RBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMxQixDQUFDO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO2FBQU0sSUFDTCxPQUFPLFlBQVksNERBQWtCO1lBQ3JDLE9BQU8sWUFBWSxzREFBWSxFQUMvQixDQUFDO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7YUFBTSxJQUFJLE9BQU8sWUFBWSwrQ0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3pDLHNFQUFzRTtZQUN0RSx3RUFBd0U7WUFDeEUsZ0RBQWdEO1lBQ2hELE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNsQiwwREFBZ0IsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQy9DLElBQUksdURBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQztvQkFDcEQsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUNkLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUNILE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQzthQUFNLElBQUksT0FBTyxZQUFZLGtEQUFRLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUN4RCxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO2FBQU0sSUFBSSxPQUFPLFlBQVksa0RBQVEsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1lBQ2hFLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsNkRBQWUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDO1lBQzlELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOzs7Ozs7Ozs7T0FTRztJQUNLLGdCQUFnQixDQUFDLFNBQXVCOztRQUM5QyxTQUFTLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsNERBQTREO1FBQzVELE1BQU0sYUFBYSxHQUFHLGdEQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ25CLGdEQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hCLENBQUM7UUFFRCxvRUFBb0U7UUFDcEUsTUFBTSxjQUFjLEdBQ2xCLHNFQUFzQixDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsbUNBQ2pELFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxRQUFRO1lBQUUsT0FBTztRQUN0QixNQUFNLGdCQUFnQixHQUFHLGNBQWM7WUFDckMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsb0JBQW9CLENBQUMsY0FBYyxFQUFFLFFBQVEsQ0FBQztZQUNoRSxDQUFDLENBQUMsSUFBSSxDQUFDO1FBRVQsSUFBSSxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLHdCQUF3QixDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUNyRCxDQUFDO1FBRUQsU0FBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWxDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUNsQixTQUFTLEVBQ1QsUUFBUSxFQUNSLDRDQUFRLENBQUMsTUFBTSxFQUNmLGdCQUFnQixDQUNqQixDQUFDO1FBRUYsTUFBTSxZQUFZLEdBQ2hCLENBQUMsUUFBUSxDQUFDLGdCQUFnQjtZQUMxQixDQUFDLFFBQVEsQ0FBQyxjQUFjO1lBQ3hCLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDO1FBQy9CLElBQUksWUFBWSxFQUFFLENBQUM7WUFDakIsaUVBQXlCLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlDLENBQUM7YUFBTSxDQUFDO1lBQ04sbUVBQTJCLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNLLHdCQUF3QixDQUM5QixTQUF1QixFQUN2QixRQUFrQjs7UUFFbEIsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNwQixNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFFcEIsTUFBTSxpQkFBaUIsR0FBRyxTQUFTO2FBQ2hDLFlBQVksQ0FBQyxJQUFJLENBQUM7YUFDbEIsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQyxNQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUNyRCxLQUFLLENBQUMsb0JBQW9CLEVBQUUsQ0FDN0IsQ0FBQztRQUVGLE1BQU0sWUFBWSxHQUFHLGVBQVMsQ0FBQyxVQUFVLEVBQUUsMENBQUUsUUFBUSxFQUFFLENBQUM7UUFDeEQsTUFBTSxjQUFjLEdBQ2xCLFNBQVMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxZQUFZLGFBQVosWUFBWSxjQUFaLFlBQVksR0FBSSxDQUFDLENBQUMsQ0FBQztRQUM3RCxNQUFNLGVBQWUsR0FBRyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUMsWUFBWSxDQUFDO1FBQzlELE1BQU0sRUFBQyxNQUFNLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUMsR0FDbEQsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBRTVCLE1BQU0sd0JBQXdCLEdBQUcsVUFDL0IsWUFBK0I7WUFFL0IsS0FBSyxNQUFNLElBQUksSUFBSSxjQUFjLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7b0JBQ2xDLE9BQU8sSUFBSSxDQUFDO2dCQUNkLENBQUM7WUFDSCxDQUFDO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUM7UUFFRixJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUM7UUFDdkIsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ3ZCLE1BQU0sY0FBYyxHQUFHLFNBQVM7YUFDN0IsV0FBVyxFQUFFO2FBQ2IsWUFBWSxFQUFFLENBQUMsZ0JBQWdCLENBQUM7UUFDbkMsaUZBQWlGO1FBQ2pGLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ25ELFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQyxJQUFJLEVBQUUsT0FBTyxHQUFHLFlBQVksQ0FBQyxHQUFHLEVBQUU7WUFDdkUsU0FBUztTQUNWLENBQUMsQ0FBQztRQUNILFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUV0QixZQUFZLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDL0MsSUFBSSxlQUFlLEdBQUcsd0JBQXdCLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0QsT0FBTyxlQUFlLElBQUksSUFBSSxFQUFFLENBQUM7WUFDL0IsTUFBTSxVQUFVLEdBQ2QsZUFBZSxDQUFDLElBQUksR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLEdBQUcsUUFBUSxDQUFDO1lBQy9ELE1BQU0sVUFBVSxHQUNkLGVBQWUsQ0FBQyxHQUFHLEdBQUcsZUFBZSxDQUFDLFNBQVMsRUFBRSxHQUFHLGNBQWMsQ0FBQztZQUNyRSxJQUFJLFVBQVUsR0FBRyxhQUFhLElBQUksY0FBYyxFQUFFLENBQUM7Z0JBQ2pELE9BQU8sR0FBRyxVQUFVLENBQUM7WUFDdkIsQ0FBQztpQkFBTSxJQUFJLFVBQVUsR0FBRyxjQUFjLElBQUksZUFBZSxFQUFFLENBQUM7Z0JBQzFELE9BQU8sR0FBRyxVQUFVLENBQUM7Z0JBQ3JCLE9BQU8sR0FBRyxRQUFRLENBQUM7WUFDckIsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLHFFQUFxRTtnQkFDckUsYUFBYTtnQkFDYixPQUFPLEdBQUcsVUFBVSxDQUFDO2dCQUNyQixPQUFPLEdBQUcsUUFBUSxDQUFDO1lBQ3JCLENBQUM7WUFDRCxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sR0FBRyxZQUFZLENBQUMsR0FBRyxFQUFFO2dCQUN2RSxTQUFTO2FBQ1YsQ0FBQyxDQUFDO1lBQ0gsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ3RCLFlBQVksR0FBRyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUMvQyxlQUFlLEdBQUcsd0JBQXdCLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDM0QsQ0FBQztRQUVELFFBQVEsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxxQkFBcUIsQ0FBQyxTQUF1Qjs7UUFDbkQsTUFBTSxNQUFNLEdBQUcsVUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLDBDQUFFLFVBQVUsRUFBRSxDQUFDO1FBQ3hFLElBQUksQ0FBQyxDQUFDLE1BQU0sWUFBWSxzREFBWSxDQUFDO1lBQUUsT0FBTztRQUU5QyxNQUFNLHFCQUFxQjtRQUN6Qix3Q0FBd0M7UUFDeEMsU0FBUyxDQUFDLHFCQUFxQixDQUFDO1FBRWxDLG9GQUFvRjtRQUNwRixvREFBb0Q7UUFDcEQsOERBQThEO1FBQzlELE1BQU0sV0FBVyxHQUFJLE1BQWMsQ0FBQyxXQUFXLENBQUM7UUFDaEQsTUFBTSxjQUFjLEdBQUcscUJBQXFCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNwQixNQUFNLElBQUksS0FBSyxDQUFDLCtDQUErQyxDQUFDLENBQUM7UUFDbkUsQ0FBQztRQUNELGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSywyQkFBMkIsQ0FBQyxLQUFZO1FBQzlDLElBQUksS0FBSyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQztZQUM3QixLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDcEMsS0FBSyxNQUFNLEtBQUssSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQ25DLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUM7d0JBQ3BELEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQzt3QkFDbkIsT0FBTyxJQUFJLENBQUM7b0JBQ2QsQ0FBQztnQkFDSCxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSyxjQUFjLENBQUMsU0FBdUI7O1FBQzVDLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7WUFDbkMsT0FBTyxDQUFDLElBQUksQ0FDViw0REFBNEQ7Z0JBQzFELDBCQUEwQixDQUM3QixDQUFDO1lBQ0YsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsVUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLDBDQUFFLFVBQVUsRUFBRSxDQUFDO1FBQzFFLElBQUksQ0FBQyxDQUFDLFFBQVEsWUFBWSxrREFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztZQUM3RCxPQUFPLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLENBQUM7WUFDL0MsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO1FBRUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxrQ0FBa0M7UUFDbEMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2xCLHlFQUF5RTtRQUN6RSxxRUFBcUU7UUFDckUsMkJBQTJCO1FBQzNCLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRUQ7O09BRUc7SUFDSCxTQUFTO1FBQ1AsMERBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FDbEMsc0RBQXdCLENBQUMsZUFBZSxDQUN6QyxDQUFDO0lBQ0osQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL2VudGVyLnRzPzk5NTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBFdmVudHMsXG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIHV0aWxzIGFzIEJsb2NrbHlVdGlscyxcbiAgQmxvY2tTdmcsXG4gIEZseW91dEJ1dHRvbixcbiAgUmVuZGVyZWRDb25uZWN0aW9uLFxuICBXb3Jrc3BhY2VTdmcsXG4gIEZpZWxkLFxuICBpY29ucyxcbiAgRm9jdXNhYmxlVHJlZVRyYXZlcnNlcixcbiAgcmVuZGVyTWFuYWdlbWVudCxcbiAgY29tbWVudHMsXG4gIGdldEZvY3VzTWFuYWdlcixcbiAgaGFzQnViYmxlLFxufSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG5pbXBvcnQgdHlwZSB7QmxvY2t9IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuaW1wb3J0IHtNb3ZlciwgTW92ZVR5cGV9IGZyb20gJy4vbW92ZXInO1xuaW1wb3J0IHtcbiAgc2hvd0NvbnN0cmFpbmVkTW92ZW1lbnRIaW50LFxuICBzaG93SGVscEhpbnQsXG4gIHNob3dVbmNvbnN0cmFpbmVkTW92ZUhpbnQsXG59IGZyb20gJy4uL2hpbnRzJztcblxuY29uc3QgS2V5Q29kZXMgPSBCbG9ja2x5VXRpbHMuS2V5Q29kZXM7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHJlZ2lzdGVyaW5nIGEgc2hvcnRjdXQgZm9yIHRoZSBlbnRlciBhY3Rpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBFbnRlckFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbW92ZXI6IE1vdmVyLFxuICAgIHByaXZhdGUgbmF2aWdhdGlvbjogTmF2aWdhdGlvbixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBlbnRlciBhY3Rpb24gc2hvcnRjdXQgdG8gdGhlIHJlZ2lzdHJ5LlxuICAgKi9cbiAgaW5zdGFsbCgpIHtcbiAgICAvKipcbiAgICAgKiBFbnRlciBrZXk6XG4gICAgICpcbiAgICAgKiAtIE9uIHRoZSBmbHlvdXQ6IHByZXNzIGEgYnV0dG9uIG9yIGNob29zZSBhIGJsb2NrIHRvIHBsYWNlLlxuICAgICAqIC0gT24gYSBzdGFjazogb3BlbiBhIGJsb2NrJ3MgY29udGV4dCBtZW51IG9yIGZpZWxkJ3MgZWRpdG9yLlxuICAgICAqIC0gT24gdGhlIHdvcmtzcGFjZTogb3BlbiB0aGUgY29udGV4dCBtZW51LlxuICAgICAqL1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkVESVRfT1JfQ09ORklSTSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG91bGRIYW5kbGVFbnRlckZvcldTKHdvcmtzcGFjZSk7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOiB7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGUgZmx5b3V0IHRoZSBvbmx5IHN1cHBvcnRlZCBhY3Rpb25zIGFyZSBpbnNlcnRpbmdcbiAgICAgICAgICAgIC8vIGJsb2NrcyBvciBjbGlja2luZyBidXR0b25zLCBzbyBkb24ndCBoYW5kbGUgdGhpcyBpZiB0aGVcbiAgICAgICAgICAgIC8vIG1haW4gd29ya3NwYWNlIGlzIHJlYWQgb25seS5cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFdvcmtzcGFjZSA9IHdvcmtzcGFjZS5pc0ZseW91dFxuICAgICAgICAgICAgICA/IHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2VcbiAgICAgICAgICAgICAgOiB3b3Jrc3BhY2U7XG4gICAgICAgICAgICBpZiAoIXRhcmdldFdvcmtzcGFjZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHRhcmdldFdvcmtzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSwgZXZlbnQpOiBib29sZWFuID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCB0YXJnZXRXb3Jrc3BhY2UgPSB3b3Jrc3BhY2UuaXNGbHlvdXRcbiAgICAgICAgICA/IHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2VcbiAgICAgICAgICA6IHdvcmtzcGFjZTtcbiAgICAgICAgaWYgKCF0YXJnZXRXb3Jrc3BhY2UpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBsZXQgZmx5b3V0Q3Vyc29yO1xuICAgICAgICBsZXQgY3VyTm9kZTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubmF2aWdhdGlvbi5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRW50ZXJGb3JXUyh3b3Jrc3BhY2UpO1xuICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLkZMWU9VVDpcbiAgICAgICAgICAgIGZseW91dEN1cnNvciA9IHRoaXMubmF2aWdhdGlvbi5nZXRGbHlvdXRDdXJzb3IodGFyZ2V0V29ya3NwYWNlKTtcbiAgICAgICAgICAgIGlmICghZmx5b3V0Q3Vyc29yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ck5vZGUgPSBmbHlvdXRDdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgICAgICAgICAgaWYgKGN1ck5vZGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICAgICAgICB0aGlzLmluc2VydEZyb21GbHlvdXQodGFyZ2V0V29ya3NwYWNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIEZseW91dEJ1dHRvbikge1xuICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJCdXR0b25DYWxsYmFjayh0YXJnZXRXb3Jrc3BhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuRU5URVIsIEtleUNvZGVzLlNQQUNFXSxcbiAgICAgIGFsbG93Q29sbGlzaW9uOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZW50ZXIga2V5IHNob3VsZCBkbyBhbnl0aGluZyBmb3IgdGhpcyB3cy5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbnRlciBhY3Rpb24gc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAqL1xuICBwcml2YXRlIHNob3VsZEhhbmRsZUVudGVyRm9yV1Mod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlOYXZpZ2F0ZSh3b3Jrc3BhY2UpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHdvcmtzcGFjZS5pc0RyYWdnaW5nKCkpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGN1ck5vZGUgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpO1xuICAgIGlmICghY3VyTm9kZSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgRmllbGQpIHJldHVybiBjdXJOb2RlLmlzQ2xpY2thYmxlKCk7XG4gICAgaWYgKFxuICAgICAgY3VyTm9kZSBpbnN0YW5jZW9mIFJlbmRlcmVkQ29ubmVjdGlvbiB8fFxuICAgICAgY3VyTm9kZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2Z1xuICAgICkge1xuICAgICAgcmV0dXJuICF3b3Jrc3BhY2UuaXNSZWFkT25seSgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5pbmcgdHJ1ZSBpcyBzb21ldGltZXMgaW5jb3JyZWN0IGZvciBpY29ucywgYnV0IHRoZXJlJ3Mgbm8gQVBJIHRvIGNoZWNrLlxuICAgIHJldHVybiAoXG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgQmxvY2tTdmcgfHxcbiAgICAgIGN1ck5vZGUgaW5zdGFuY2VvZiBpY29ucy5JY29uIHx8XG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgY29tbWVudHMuQ29tbWVudEJhckJ1dHRvbiB8fFxuICAgICAgY3VyTm9kZSBpbnN0YW5jZW9mIGNvbW1lbnRzLlJlbmRlcmVkV29ya3NwYWNlQ29tbWVudFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBoaXR0aW5nIHRoZSBlbnRlciBrZXkgb24gdGhlIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbnRlciB3YXMgaGFuZGxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVFbnRlckZvcldTKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgIGNvbnN0IGN1ck5vZGUgPSBjdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgIGlmICghY3VyTm9kZSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgRmllbGQpIHtcbiAgICAgIGN1ck5vZGUuc2hvd0VkaXRvcigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgIGlmICghdGhpcy50cnlTaG93RnVsbEJsb2NrRmllbGRFZGl0b3IoY3VyTm9kZSkpIHtcbiAgICAgICAgc2hvd0hlbHBIaW50KHdvcmtzcGFjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY3VyTm9kZSBpbnN0YW5jZW9mIFJlbmRlcmVkQ29ubmVjdGlvbiB8fFxuICAgICAgY3VyTm9kZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2Z1xuICAgICkge1xuICAgICAgdGhpcy5uYXZpZ2F0aW9uLm9wZW5Ub29sYm94T3JGbHlvdXQod29ya3NwYWNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIGljb25zLkljb24pIHtcbiAgICAgIC8vIENhbGxpbmcgdGhlIGljb24ncyBjbGljayBoYW5kbGVyIHdpbGwgdHJpZ2dlciBpdHMgYWN0aW9uLCBnZW5lcmFsbHlcbiAgICAgIC8vIG9wZW5pbmcgYSBidWJibGUgb2Ygc29tZSBzb3J0LiBXZSB0aGVuIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGJ1YmJsZSB0b1xuICAgICAgLy8gYXBwZWFyIGJlZm9yZSBhdHRlbXB0aW5nIHRvIG5hdmlnYXRlIGludG8gaXQuXG4gICAgICBjdXJOb2RlLm9uQ2xpY2soKTtcbiAgICAgIHJlbmRlck1hbmFnZW1lbnQuZmluaXNoUXVldWVkUmVuZGVycygpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoaGFzQnViYmxlKGN1ck5vZGUpICYmIGN1ck5vZGUuYnViYmxlSXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICBjdXJzb3IuaW4oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGN1ck5vZGUgaW5zdGFuY2VvZiBjb21tZW50cy5Db21tZW50QmFyQnV0dG9uKSB7XG4gICAgICBjdXJOb2RlLnBlcmZvcm1BY3Rpb24oKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIGNvbW1lbnRzLlJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCkge1xuICAgICAgY3VyTm9kZS5zZXRDb2xsYXBzZWQoZmFsc2UpO1xuICAgICAgZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNOb2RlKGN1ck5vZGUuZ2V0RWRpdG9yRm9jdXNhYmxlTm9kZSgpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyBhIGJsb2NrIGZyb20gdGhlIGZseW91dC5cbiAgICogVHJpZXMgdG8gZmluZCBhIGNvbm5lY3Rpb24gb24gdGhlIGJsb2NrIHRvIGNvbm5lY3QgdG8gdGhlIG1hcmtlZFxuICAgKiBsb2NhdGlvbi4gSWYgbm8gY29ubmVjdGlvbiBoYXMgYmVlbiBtYXJrZWQsIG9yIHRoZXJlIGlzIG5vdCBhIGNvbXBhdGlibGVcbiAgICogY29ubmVjdGlvbiB0aGVuIHRoZSBibG9jayBpcyBwbGFjZWQgb24gdGhlIHdvcmtzcGFjZS5cbiAgICogVHJpZ2dlciBhIHRvYXN0IHBlciBzZXNzaW9uIGlmIHBvc3NpYmxlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSBtYWluIHdvcmtzcGFjZS4gVGhlIHdvcmtzcGFjZVxuICAgKiAgICAgdGhlIGJsb2NrIHdpbGwgYmUgcGxhY2VkIG9uLlxuICAgKi9cbiAgcHJpdmF0ZSBpbnNlcnRGcm9tRmx5b3V0KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgd29ya3NwYWNlLnNldFJlc2l6ZXNFbmFibGVkKGZhbHNlKTtcbiAgICAvLyBDcmVhdGUgYSBuZXcgZXZlbnQgZ3JvdXAgb3IgYXBwZW5kIHRvIHRoZSBleGlzdGluZyBncm91cC5cbiAgICBjb25zdCBleGlzdGluZ0dyb3VwID0gRXZlbnRzLmdldEdyb3VwKCk7XG4gICAgaWYgKCFleGlzdGluZ0dyb3VwKSB7XG4gICAgICBFdmVudHMuc2V0R3JvdXAodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHdvcmtzcGFjZSBoYXMgbmV2ZXIgaGFkIGZvY3VzIGRlZmF1bHQgdGhlIHN0YXRpb25hcnkgbm9kZS5cbiAgICBjb25zdCBzdGF0aW9uYXJ5Tm9kZSA9XG4gICAgICBGb2N1c2FibGVUcmVlVHJhdmVyc2VyLmZpbmRGb2N1c2VkTm9kZSh3b3Jrc3BhY2UpID8/XG4gICAgICB3b3Jrc3BhY2UuZ2V0UmVzdG9yZWRGb2N1c2FibGVOb2RlKG51bGwpO1xuICAgIGNvbnN0IG5ld0Jsb2NrID0gdGhpcy5jcmVhdGVOZXdCbG9jayh3b3Jrc3BhY2UpO1xuICAgIGlmICghbmV3QmxvY2spIHJldHVybjtcbiAgICBjb25zdCBpbnNlcnRTdGFydFBvaW50ID0gc3RhdGlvbmFyeU5vZGVcbiAgICAgID8gdGhpcy5uYXZpZ2F0aW9uLmZpbmRJbnNlcnRTdGFydFBvaW50KHN0YXRpb25hcnlOb2RlLCBuZXdCbG9jaylcbiAgICAgIDogbnVsbDtcblxuICAgIGlmICh3b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKCkuaW5jbHVkZXMobmV3QmxvY2spKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uTmV3VG9wTGV2ZWxCbG9jayh3b3Jrc3BhY2UsIG5ld0Jsb2NrKTtcbiAgICB9XG5cbiAgICB3b3Jrc3BhY2Uuc2V0UmVzaXplc0VuYWJsZWQodHJ1ZSk7XG5cbiAgICB0aGlzLm1vdmVyLnN0YXJ0TW92ZShcbiAgICAgIHdvcmtzcGFjZSxcbiAgICAgIG5ld0Jsb2NrLFxuICAgICAgTW92ZVR5cGUuSW5zZXJ0LFxuICAgICAgaW5zZXJ0U3RhcnRQb2ludCxcbiAgICApO1xuXG4gICAgY29uc3QgaXNTdGFydEJsb2NrID1cbiAgICAgICFuZXdCbG9jay5vdXRwdXRDb25uZWN0aW9uICYmXG4gICAgICAhbmV3QmxvY2submV4dENvbm5lY3Rpb24gJiZcbiAgICAgICFuZXdCbG9jay5wcmV2aW91c0Nvbm5lY3Rpb247XG4gICAgaWYgKGlzU3RhcnRCbG9jaykge1xuICAgICAgc2hvd1VuY29uc3RyYWluZWRNb3ZlSGludCh3b3Jrc3BhY2UsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd0NvbnN0cmFpbmVkTW92ZW1lbnRIaW50KHdvcmtzcGFjZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uIGEgbmV3IHRvcC1sZXZlbCBibG9jayB0byBhdm9pZCBvdmVybGFwIGF0IHRoZSB0b3AgbGVmdC5cbiAgICpcbiAgICogU2ltaWxhciB0byBgV29ya3NwYWNlU3ZnLmNsZWFuVXAoKWAgYnV0IGRvZXMgbm90IGNvbnN0cmFpbiBpdHNlbGYgdG8gbm90XG4gICAqIGFmZmVjdGluZyBjb2RlIG9yZGVyaW5nIGluIG9yZGVyIHRvIHVzZSBob3Jpem9udGFsIHNwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gICAqIEBwYXJhbSBuZXdCbG9jayBUaGUgdG9wLWxldmVsIGJsb2NrIHRvIG1vdmUgdG8gZnJlZSBzcGFjZS5cbiAgICovXG4gIHByaXZhdGUgcG9zaXRpb25OZXdUb3BMZXZlbEJsb2NrKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIG5ld0Jsb2NrOiBCbG9ja1N2ZyxcbiAgKSB7XG4gICAgY29uc3QgaW5pdGlhbFkgPSAxMDtcbiAgICBjb25zdCBpbml0aWFsWCA9IDEwO1xuICAgIGNvbnN0IHhTcGFjaW5nID0gODA7XG5cbiAgICBjb25zdCBmaWx0ZXJlZFRvcEJsb2NrcyA9IHdvcmtzcGFjZVxuICAgICAgLmdldFRvcEJsb2Nrcyh0cnVlKVxuICAgICAgLmZpbHRlcigoYmxvY2spID0+IGJsb2NrLmlkICE9PSBuZXdCbG9jay5pZCk7XG4gICAgY29uc3QgYWxsQmxvY2tCb3VuZHMgPSBmaWx0ZXJlZFRvcEJsb2Nrcy5tYXAoKGJsb2NrKSA9PlxuICAgICAgYmxvY2suZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSxcbiAgICApO1xuXG4gICAgY29uc3QgdG9vbGJveFdpZHRoID0gd29ya3NwYWNlLmdldFRvb2xib3goKT8uZ2V0V2lkdGgoKTtcbiAgICBjb25zdCB3b3Jrc3BhY2VXaWR0aCA9XG4gICAgICB3b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCkuY2xpZW50V2lkdGggLSAodG9vbGJveFdpZHRoID8/IDApO1xuICAgIGNvbnN0IHdvcmtzcGFjZUhlaWdodCA9IHdvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKS5jbGllbnRIZWlnaHQ7XG4gICAgY29uc3Qge2hlaWdodDogbmV3QmxvY2tIZWlnaHQsIHdpZHRoOiBuZXdCbG9ja1dpZHRofSA9XG4gICAgICBuZXdCbG9jay5nZXRIZWlnaHRXaWR0aCgpO1xuXG4gICAgY29uc3QgZ2V0TmV4dEludGVyc2VjdGluZ0Jsb2NrID0gZnVuY3Rpb24gKFxuICAgICAgbmV3QmxvY2tSZWN0OiBCbG9ja2x5VXRpbHMuUmVjdCxcbiAgICApOiBCbG9ja2x5VXRpbHMuUmVjdCB8IG51bGwge1xuICAgICAgZm9yIChjb25zdCByZWN0IG9mIGFsbEJsb2NrQm91bmRzKSB7XG4gICAgICAgIGlmIChuZXdCbG9ja1JlY3QuaW50ZXJzZWN0cyhyZWN0KSkge1xuICAgICAgICAgIHJldHVybiByZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgbGV0IGN1cnNvclkgPSBpbml0aWFsWTtcbiAgICBsZXQgY3Vyc29yWCA9IGluaXRpYWxYO1xuICAgIGNvbnN0IG1pbkJsb2NrSGVpZ2h0ID0gd29ya3NwYWNlXG4gICAgICAuZ2V0UmVuZGVyZXIoKVxuICAgICAgLmdldENvbnN0YW50cygpLk1JTl9CTE9DS19IRUlHSFQ7XG4gICAgLy8gTWFrZSB0aGUgaW5pdGlhbCBtb3ZlbWVudCBvZiBzaGlmdGluZyB0aGUgYmxvY2sgdG8gaXRzIGJlc3QgcG9zc2libGUgcG9zaXRpb24uXG4gICAgbGV0IGJvdW5kaW5nUmVjdCA9IG5ld0Jsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgbmV3QmxvY2subW92ZUJ5KGN1cnNvclggLSBib3VuZGluZ1JlY3QubGVmdCwgY3Vyc29yWSAtIGJvdW5kaW5nUmVjdC50b3AsIFtcbiAgICAgICdjbGVhbnVwJyxcbiAgICBdKTtcbiAgICBuZXdCbG9jay5zbmFwVG9HcmlkKCk7XG5cbiAgICBib3VuZGluZ1JlY3QgPSBuZXdCbG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO1xuICAgIGxldCBjb25mbGljdGluZ1JlY3QgPSBnZXROZXh0SW50ZXJzZWN0aW5nQmxvY2soYm91bmRpbmdSZWN0KTtcbiAgICB3aGlsZSAoY29uZmxpY3RpbmdSZWN0ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG5ld0N1cnNvclggPVxuICAgICAgICBjb25mbGljdGluZ1JlY3QubGVmdCArIGNvbmZsaWN0aW5nUmVjdC5nZXRXaWR0aCgpICsgeFNwYWNpbmc7XG4gICAgICBjb25zdCBuZXdDdXJzb3JZID1cbiAgICAgICAgY29uZmxpY3RpbmdSZWN0LnRvcCArIGNvbmZsaWN0aW5nUmVjdC5nZXRIZWlnaHQoKSArIG1pbkJsb2NrSGVpZ2h0O1xuICAgICAgaWYgKG5ld0N1cnNvclggKyBuZXdCbG9ja1dpZHRoIDw9IHdvcmtzcGFjZVdpZHRoKSB7XG4gICAgICAgIGN1cnNvclggPSBuZXdDdXJzb3JYO1xuICAgICAgfSBlbHNlIGlmIChuZXdDdXJzb3JZICsgbmV3QmxvY2tIZWlnaHQgPD0gd29ya3NwYWNlSGVpZ2h0KSB7XG4gICAgICAgIGN1cnNvclkgPSBuZXdDdXJzb3JZO1xuICAgICAgICBjdXJzb3JYID0gaW5pdGlhbFg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPZmYgc2NyZWVuLCBidXQgbmV3IGJsb2NrcyB3aWxsIGJlIHNlbGVjdGVkIHdoaWNoIHdpbGwgc2Nyb2xsIHRoZW1cbiAgICAgICAgLy8gaW50byB2aWV3LlxuICAgICAgICBjdXJzb3JZID0gbmV3Q3Vyc29yWTtcbiAgICAgICAgY3Vyc29yWCA9IGluaXRpYWxYO1xuICAgICAgfVxuICAgICAgbmV3QmxvY2subW92ZUJ5KGN1cnNvclggLSBib3VuZGluZ1JlY3QubGVmdCwgY3Vyc29yWSAtIGJvdW5kaW5nUmVjdC50b3AsIFtcbiAgICAgICAgJ2NsZWFudXAnLFxuICAgICAgXSk7XG4gICAgICBuZXdCbG9jay5zbmFwVG9HcmlkKCk7XG4gICAgICBib3VuZGluZ1JlY3QgPSBuZXdCbG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO1xuICAgICAgY29uZmxpY3RpbmdSZWN0ID0gZ2V0TmV4dEludGVyc2VjdGluZ0Jsb2NrKGJvdW5kaW5nUmVjdCk7XG4gICAgfVxuXG4gICAgbmV3QmxvY2suYnJpbmdUb0Zyb250KCk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlcnMgYSBmbHlvdXQgYnV0dG9uJ3MgY2FsbGJhY2suXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIG1haW4gd29ya3NwYWNlLiBUaGUgd29ya3NwYWNlXG4gICAqICAgICBjb250YWluaW5nIGEgZmx5b3V0IHdpdGggYSBidXR0b24uXG4gICAqL1xuICBwcml2YXRlIHRyaWdnZXJCdXR0b25DYWxsYmFjayh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMubmF2aWdhdGlvbi5nZXRGbHlvdXRDdXJzb3Iod29ya3NwYWNlKT8uZ2V0Q3VyTm9kZSgpO1xuICAgIGlmICghKGJ1dHRvbiBpbnN0YW5jZW9mIEZseW91dEJ1dHRvbikpIHJldHVybjtcblxuICAgIGNvbnN0IGZseW91dEJ1dHRvbkNhbGxiYWNrczogTWFwPHN0cmluZywgKHAxOiBGbHlvdXRCdXR0b24pID0+IHZvaWQ+ID1cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBmaWVsZCBhY2Nlc3NcbiAgICAgIHdvcmtzcGFjZS5mbHlvdXRCdXR0b25DYWxsYmFja3M7XG5cbiAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdCBvbmNlIGJsb2NrbHkgMTIuNC4wIGlzIHRoZSBtaW5pbXVtIHZlcnNpb24gb2YgQmxvY2tseSByZXF1aXJlZC5cbiAgICAvLyBidXR0b24uY2FsbGJhY2tLZXkgaXMgcHJpdmF0ZSB1bnRpbCB0aGF0IHZlcnNpb24uXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBjYWxsYmFja0tleSA9IChidXR0b24gYXMgYW55KS5jYWxsYmFja0tleTtcbiAgICBjb25zdCBidXR0b25DYWxsYmFjayA9IGZseW91dEJ1dHRvbkNhbGxiYWNrcy5nZXQoY2FsbGJhY2tLZXkpO1xuICAgIGlmICghYnV0dG9uQ2FsbGJhY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY2FsbGJhY2sgZnVuY3Rpb24gZm91bmQgZm9yIGZseW91dCBidXR0b24uJyk7XG4gICAgfVxuICAgIGJ1dHRvbkNhbGxiYWNrKGJ1dHRvbik7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyBibG9jayBoYXMgYSBmdWxsIGJsb2NrIGZpZWxkIHRoZW4gc2hvdyBpdHMgZWRpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgQSBibG9jay5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB3ZSBzaG93ZWQgdGhlIGVkaXRvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgcHJpdmF0ZSB0cnlTaG93RnVsbEJsb2NrRmllbGRFZGl0b3IoYmxvY2s6IEJsb2NrKTogYm9vbGVhbiB7XG4gICAgaWYgKGJsb2NrLmlzU2ltcGxlUmVwb3J0ZXIoKSkge1xuICAgICAgZm9yIChjb25zdCBpbnB1dCBvZiBibG9jay5pbnB1dExpc3QpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBpbnB1dC5maWVsZFJvdykge1xuICAgICAgICAgIGlmIChmaWVsZC5pc0NsaWNrYWJsZSgpICYmIGZpZWxkLmlzRnVsbEJsb2NrRmllbGQoKSkge1xuICAgICAgICAgICAgZmllbGQuc2hvd0VkaXRvcigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGJsb2NrIGJhc2VkIG9uIHRoZSBjdXJyZW50IGJsb2NrIHRoZSBmbHlvdXQgY3Vyc29yIGlzIG9uLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSBtYWluIHdvcmtzcGFjZS4gVGhlIHdvcmtzcGFjZVxuICAgKiAgICAgdGhlIGJsb2NrIHdpbGwgYmUgcGxhY2VkIG9uLlxuICAgKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBibG9jay5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlTmV3QmxvY2sod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpOiBCbG9ja1N2ZyB8IG51bGwge1xuICAgIGNvbnN0IGZseW91dCA9IHdvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAoIWZseW91dCB8fCAhZmx5b3V0LmlzVmlzaWJsZSgpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdUcnlpbmcgdG8gaW5zZXJ0IGZyb20gdGhlIGZseW91dCB3aGVuIHRoZSBmbHlvdXQgZG9lcyBub3QgJyArXG4gICAgICAgICAgJyBleGlzdCBvciBpcyBub3QgdmlzaWJsZScsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY3VyQmxvY2sgPSB0aGlzLm5hdmlnYXRpb24uZ2V0Rmx5b3V0Q3Vyc29yKHdvcmtzcGFjZSk/LmdldEN1ck5vZGUoKTtcbiAgICBpZiAoIShjdXJCbG9jayBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB8fCAhY3VyQmxvY2suaXNFbmFibGVkKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbid0IGluc2VydCBhIGRpc2FibGVkIGJsb2NrLlwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0Jsb2NrID0gZmx5b3V0LmNyZWF0ZUJsb2NrKGN1ckJsb2NrKTtcbiAgICAvLyBSZW5kZXIgdG8gZ2V0IHRoZSBzaXppbmcgcmlnaHQuXG4gICAgbmV3QmxvY2sucmVuZGVyKCk7XG4gICAgLy8gQ29ubmVjdGlvbnMgYXJlIG5vdCB0cmFja2VkIHdoZW4gdGhlIGJsb2NrIGlzIGZpcnN0IGNyZWF0ZWQuICBOb3JtYWxseVxuICAgIC8vIHRoZXJlJ3MgZW5vdWdoIHRpbWUgZm9yIHRoZW0gdG8gYmVjb21lIHRyYWNrZWQgaW4gdGhlIHVzZXIncyBtb3VzZVxuICAgIC8vIG1vdmVtZW50cywgYnV0IG5vdCBoZXJlLlxuICAgIG5ld0Jsb2NrLnNldENvbm5lY3Rpb25UcmFja2luZyh0cnVlKTtcbiAgICByZXR1cm4gbmV3QmxvY2s7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZW50ZXIgYWN0aW9uIHNob3J0Y3V0LlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihcbiAgICAgIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5FRElUX09SX0NPTkZJUk0sXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/actions/enter.ts\n");

/***/ }),

/***/ "../../src/actions/exit.ts":
/*!*********************************!*\
  !*** ../../src/actions/exit.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExitAction: () => (/* binding */ ExitAction)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering a shortcut for the exit action.\n */\nclass ExitAction {\n    constructor(navigation) {\n        this.navigation = navigation;\n    }\n    /**\n     * Adds the exit action shortcut to the registry.\n     */\n    install() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register({\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EXIT,\n            preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n            callback: (workspace) => {\n                var _a, _b;\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX:\n                        (0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusTree((_a = workspace.targetWorkspace) !== null && _a !== void 0 ? _a : workspace);\n                        if (!blockly_core__WEBPACK_IMPORTED_MODULE_0__.Gesture.inProgress()) {\n                            workspace.hideChaff();\n                        }\n                        return true;\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE: {\n                        if (workspace.isMutator) {\n                            const parent = (_b = workspace.options.parentWorkspace) === null || _b === void 0 ? void 0 : _b.getAllBlocks().map((block) => block.getIcons()).flat().find((icon) => {\n                                var _a;\n                                return icon instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.MutatorIcon &&\n                                    icon.bubbleIsVisible() &&\n                                    ((_a = icon.getBubble()) === null || _a === void 0 ? void 0 : _a.getWorkspace()) === workspace;\n                            });\n                            if (parent) {\n                                parent.setBubbleVisible(false);\n                                (0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(parent);\n                                return true;\n                            }\n                        }\n                        return false;\n                    }\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [KeyCodes.ESC],\n            allowCollision: true,\n        });\n    }\n    /**\n     * Removes the exit action shortcut.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EXIT);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2FjdGlvbnMvZXhpdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztHQUlHO0FBUW1CO0FBRW9CO0FBRzFDLE1BQU0sUUFBUSxHQUFHLCtDQUFZLENBQUMsUUFBUSxDQUFDO0FBRXZDOztHQUVHO0FBQ0ksTUFBTSxVQUFVO0lBQ3JCLFlBQW9CLFVBQXNCO1FBQXRCLGVBQVUsR0FBVixVQUFVLENBQVk7SUFBRyxDQUFDO0lBRTlDOztPQUVHO0lBQ0gsT0FBTztRQUNMLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7WUFDakMsSUFBSSxFQUFFLHNEQUF3QixDQUFDLElBQUk7WUFDbkMsY0FBYyxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FDNUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUM7WUFDakQsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUU7O2dCQUN0QixRQUFRLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztvQkFDbkMsS0FBSyw2Q0FBZSxDQUFDLE1BQU0sQ0FBQztvQkFDNUIsS0FBSyw2Q0FBZSxDQUFDLE9BQU87d0JBQzFCLDZEQUFlLEVBQUUsQ0FBQyxTQUFTLENBQUMsZUFBUyxDQUFDLGVBQWUsbUNBQUksU0FBUyxDQUFDLENBQUM7d0JBQ3BFLElBQUksQ0FBQyxpREFBTyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7NEJBQzFCLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQzt3QkFDeEIsQ0FBQzt3QkFDRCxPQUFPLElBQUksQ0FBQztvQkFDZCxLQUFLLDZDQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQzt3QkFDL0IsSUFBSSxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7NEJBQ3hCLE1BQU0sTUFBTSxHQUFHLGVBQVMsQ0FBQyxPQUFPLENBQUMsZUFBZSwwQ0FDNUMsWUFBWSxHQUNiLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUMvQixJQUFJLEdBQ0osSUFBSSxDQUNILENBQUMsSUFBSSxFQUE2QixFQUFFOztnQ0FDbEMsV0FBSSxZQUFZLCtDQUFLLENBQUMsV0FBVztvQ0FDakMsSUFBSSxDQUFDLGVBQWUsRUFBRTtvQ0FDdEIsV0FBSSxDQUFDLFNBQVMsRUFBRSwwQ0FBRSxZQUFZLEVBQUUsTUFBSyxTQUFTOzZCQUFBLENBQ2pELENBQUM7NEJBQ0osSUFBSSxNQUFNLEVBQUUsQ0FBQztnQ0FDWCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7Z0NBQy9CLDZEQUFlLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7Z0NBQ3BDLE9BQU8sSUFBSSxDQUFDOzRCQUNkLENBQUM7d0JBQ0gsQ0FBQzt3QkFDRCxPQUFPLEtBQUssQ0FBQztvQkFDZixDQUFDO29CQUNEO3dCQUNFLE9BQU8sS0FBSyxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztZQUNELFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7WUFDeEIsY0FBYyxFQUFFLElBQUk7U0FDckIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUztRQUNQLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsc0RBQXdCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEUsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL2V4aXQudHM/NGRlZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIHV0aWxzIGFzIEJsb2NrbHlVdGlscyxcbiAgZ2V0Rm9jdXNNYW5hZ2VyLFxuICBHZXN0dXJlLFxuICBpY29ucyxcbn0gZnJvbSAnYmxvY2tseS9jb3JlJztcblxuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7TmF2aWdhdGlvbn0gZnJvbSAnLi4vbmF2aWdhdGlvbic7XG5cbmNvbnN0IEtleUNvZGVzID0gQmxvY2tseVV0aWxzLktleUNvZGVzO1xuXG4vKipcbiAqIENsYXNzIGZvciByZWdpc3RlcmluZyBhIHNob3J0Y3V0IGZvciB0aGUgZXhpdCBhY3Rpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBFeGl0QWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uKSB7fVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBleGl0IGFjdGlvbiBzaG9ydGN1dCB0byB0aGUgcmVnaXN0cnkuXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkVYSVQsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMubmF2aWdhdGlvbi5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOlxuICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLlRPT0xCT1g6XG4gICAgICAgICAgICBnZXRGb2N1c01hbmFnZXIoKS5mb2N1c1RyZWUod29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZSA/PyB3b3Jrc3BhY2UpO1xuICAgICAgICAgICAgaWYgKCFHZXN0dXJlLmluUHJvZ3Jlc3MoKSkge1xuICAgICAgICAgICAgICB3b3Jrc3BhY2UuaGlkZUNoYWZmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6IHtcbiAgICAgICAgICAgIGlmICh3b3Jrc3BhY2UuaXNNdXRhdG9yKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHdvcmtzcGFjZS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZVxuICAgICAgICAgICAgICAgID8uZ2V0QWxsQmxvY2tzKClcbiAgICAgICAgICAgICAgICAubWFwKChibG9jaykgPT4gYmxvY2suZ2V0SWNvbnMoKSlcbiAgICAgICAgICAgICAgICAuZmxhdCgpXG4gICAgICAgICAgICAgICAgLmZpbmQoXG4gICAgICAgICAgICAgICAgICAoaWNvbik6IGljb24gaXMgaWNvbnMuTXV0YXRvckljb24gPT5cbiAgICAgICAgICAgICAgICAgICAgaWNvbiBpbnN0YW5jZW9mIGljb25zLk11dGF0b3JJY29uICYmXG4gICAgICAgICAgICAgICAgICAgIGljb24uYnViYmxlSXNWaXNpYmxlKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgaWNvbi5nZXRCdWJibGUoKT8uZ2V0V29ya3NwYWNlKCkgPT09IHdvcmtzcGFjZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnNldEJ1YmJsZVZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGdldEZvY3VzTWFuYWdlcigpLmZvY3VzTm9kZShwYXJlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLkVTQ10sXG4gICAgICBhbGxvd0NvbGxpc2lvbjogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBleGl0IGFjdGlvbiBzaG9ydGN1dC5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkVYSVQpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/actions/exit.ts\n");

/***/ }),

/***/ "../../src/actions/move.ts":
/*!*********************************!*\
  !*** ../../src/actions/move.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveActions: () => (/* binding */ MoveActions)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _drag_direction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../drag_direction */ \"../../src/drag_direction.ts\");\n/* harmony import */ var _mover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mover */ \"../../src/actions/mover.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/* harmony import */ var _workspace_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../workspace_utilities */ \"../../src/workspace_utilities.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\nconst createSerializedKey = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.createSerializedKey.bind(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry);\n/**\n * Actions for moving workspace elements with keyboard shortcuts.\n */\nclass MoveActions {\n    constructor(mover) {\n        this.mover = mover;\n        this.shortcuts = [\n            // Begin and end move.\n            {\n                name: 'start_move',\n                preconditionFn: (workspace) => {\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    return (!!startDraggable && this.mover.canMove(workspace, startDraggable));\n                },\n                callback: (workspace) => {\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    // Focus the root draggable in case one of its children\n                    // was focused when the move was triggered.\n                    if (startDraggable) {\n                        (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(startDraggable);\n                    }\n                    return (!!startDraggable &&\n                        this.mover.startMove(workspace, startDraggable, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Move, null));\n                },\n                keyCodes: [KeyCodes.M],\n            },\n            {\n                name: 'finish_move',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.finishMove(workspace),\n                keyCodes: [KeyCodes.ENTER, KeyCodes.SPACE],\n                allowCollision: true,\n            },\n            {\n                name: 'abort_move',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.abortMove(workspace),\n                keyCodes: [KeyCodes.ESC],\n                allowCollision: true,\n            },\n            // Constrained moves.\n            {\n                name: 'move_left_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Left),\n                keyCodes: [KeyCodes.LEFT],\n                allowCollision: true,\n            },\n            {\n                name: 'move_right_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Right),\n                keyCodes: [KeyCodes.RIGHT],\n                allowCollision: true,\n            },\n            {\n                name: 'move_up_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Up),\n                keyCodes: [KeyCodes.UP],\n                allowCollision: true,\n            },\n            {\n                name: 'move_down_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Down),\n                keyCodes: [KeyCodes.DOWN],\n                allowCollision: true,\n            },\n            // Unconstrained moves.\n            {\n                name: 'move_left_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Left),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.LEFT, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.LEFT, [KeyCodes.CTRL]),\n                ],\n            },\n            {\n                name: 'move_right_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Right),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.RIGHT, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.RIGHT, [KeyCodes.CTRL]),\n                ],\n            },\n            {\n                name: 'move_up_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Up),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.UP, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.UP, [KeyCodes.CTRL]),\n                ],\n            },\n            {\n                name: 'move_down_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Down),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.DOWN, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.DOWN, [KeyCodes.CTRL]),\n                ],\n            },\n        ];\n        this.menuItems = [\n            {\n                displayText: () => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_3__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['MOVE_BLOCK'], 'start_move'),\n                preconditionFn: (scope, menuOpenEvent) => {\n                    var _a;\n                    const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                    if (!workspace || menuOpenEvent instanceof PointerEvent)\n                        return 'hidden';\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    return !!startDraggable && this.mover.canMove(workspace, startDraggable)\n                        ? 'enabled'\n                        : 'disabled';\n                },\n                callback: (scope) => {\n                    var _a;\n                    const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                    if (!workspace)\n                        return false;\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    // Focus the start block in case one of its fields or a shadow block\n                    // was focused when the move was triggered.\n                    if (startDraggable) {\n                        (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(startDraggable);\n                    }\n                    return (!!startDraggable &&\n                        this.mover.startMove(workspace, startDraggable, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Move, null));\n                },\n                scopeType: blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.ScopeType.BLOCK,\n                id: 'move',\n                weight: 8.5,\n            },\n            {\n                displayText: () => { var _a; return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_3__.getMenuItem)((_a = blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['MOVE_COMMENT']) !== null && _a !== void 0 ? _a : 'Move Comment', 'start_move'); },\n                preconditionFn: (scope, menuOpenEvent) => {\n                    const comment = scope.comment;\n                    if (!comment)\n                        return 'hidden';\n                    return this.mover.canMove(comment.workspace, comment)\n                        ? 'enabled'\n                        : 'disabled';\n                },\n                callback: (scope) => {\n                    const comment = scope.comment;\n                    if (!comment)\n                        return false;\n                    this.mover.startMove(comment.workspace, comment, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Move, null);\n                },\n                scopeType: blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.ScopeType.COMMENT,\n                id: 'move_comment',\n                weight: 8.5,\n            },\n        ];\n    }\n    registerShortcuts() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n    }\n    registerMenuItems() {\n        for (const menuItem of this.menuItems) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(menuItem);\n        }\n    }\n    /**\n     * Install the actions as both keyboard shortcuts and (where\n     * applicable) context menu items.\n     */\n    install() {\n        this.registerShortcuts();\n        this.registerMenuItems();\n    }\n    /**\n     * Uninstall these actions.\n     */\n    uninstall() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name);\n        }\n        for (const menuItem of this.menuItems) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister(menuItem.id);\n        }\n    }\n    /**\n     * Get the source draggable for the cursor location, or undefined if no\n     * source draggable can be found.\n     * If the cursor is on a shadow block, walks up the tree until it finds\n     * a non-shadow block to drag.\n     *\n     * @param workspace The workspace to inspect for a cursor.\n     * @returns The source draggable, or undefined if no appropriate draggable\n     *     could be found.\n     */\n    getCurrentDraggable(workspace) {\n        const node = (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().getFocusedNode();\n        if (node instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment)\n            return node;\n        const block = workspace.getCursor().getSourceBlock();\n        if (!block)\n            return undefined;\n        const nonShadowBlock = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_4__.getNonShadowBlock)(block);\n        if (!nonShadowBlock) {\n            throw new Error('Tried to drag a shadow block with no parent. ' +\n                'Shadow blocks should always have parents.');\n        }\n        return nonShadowBlock;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1FBQ3pCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxLQUFLLE1BQU0sUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUN0QyxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0RCxDQUFDO1FBQ0QsS0FBSyxNQUFNLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDdEMsd0RBQW1CLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkQsQ0FBQztJQUNILENBQUM7SUFFRDs7Ozs7Ozs7O09BU0c7SUFDSCxtQkFBbUIsQ0FDakIsU0FBdUI7UUFFdkIsTUFBTSxJQUFJLEdBQUcsd0RBQWUsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ2hELElBQUksSUFBSSxZQUFZLDZDQUFRLENBQUMsd0JBQXdCO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFFbkUsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3JELElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFFN0IsTUFBTSxjQUFjLEdBQUcsdUVBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQ2IsK0NBQStDO2dCQUM3QywyQ0FBMkMsQ0FDOUMsQ0FBQztRQUNKLENBQUM7UUFDRCxPQUFPLGNBQWMsQ0FBQztJQUN4QixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2FjdGlvbnMvbW92ZS50cz9iYmM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgQ29udGV4dE1lbnVSZWdpc3RyeSxcbiAgTXNnLFxuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICB1dGlscyxcbiAgV29ya3NwYWNlU3ZnLFxuICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLFxuICBnZXRGb2N1c01hbmFnZXIsXG4gIGNvbW1lbnRzLFxuICBJRHJhZ2dhYmxlLFxuICBJRm9jdXNhYmxlTm9kZSxcbiAgSUJvdW5kZWRFbGVtZW50LFxuICBJU2VsZWN0YWJsZSxcbn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge0RpcmVjdGlvbn0gZnJvbSAnLi4vZHJhZ19kaXJlY3Rpb24nO1xuaW1wb3J0IHtNb3ZlciwgTW92ZVR5cGV9IGZyb20gJy4vbW92ZXInO1xuaW1wb3J0IHtnZXRNZW51SXRlbX0gZnJvbSAnLi4vc2hvcnRjdXRfZm9ybWF0dGluZyc7XG5pbXBvcnQge2dldE5vblNoYWRvd0Jsb2NrfSBmcm9tICcuLi93b3Jrc3BhY2VfdXRpbGl0aWVzJztcblxuY29uc3QgS2V5Q29kZXMgPSB1dGlscy5LZXlDb2RlcztcbmNvbnN0IGNyZWF0ZVNlcmlhbGl6ZWRLZXkgPSBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkuYmluZChcbiAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeSxcbik7XG5cbi8qKlxuICogQWN0aW9ucyBmb3IgbW92aW5nIHdvcmtzcGFjZSBlbGVtZW50cyB3aXRoIGtleWJvYXJkIHNob3J0Y3V0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVBY3Rpb25zIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtb3ZlcjogTW92ZXIpIHt9XG5cbiAgcHJpdmF0ZSBzaG9ydGN1dHM6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dFtdID0gW1xuICAgIC8vIEJlZ2luIGFuZCBlbmQgbW92ZS5cbiAgICB7XG4gICAgICBuYW1lOiAnc3RhcnRfbW92ZScsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBjb25zdCBzdGFydERyYWdnYWJsZSA9IHRoaXMuZ2V0Q3VycmVudERyYWdnYWJsZSh3b3Jrc3BhY2UpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICEhc3RhcnREcmFnZ2FibGUgJiYgdGhpcy5tb3Zlci5jYW5Nb3ZlKHdvcmtzcGFjZSwgc3RhcnREcmFnZ2FibGUpXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHtcbiAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRJc0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhcnREcmFnZ2FibGUgPSB0aGlzLmdldEN1cnJlbnREcmFnZ2FibGUod29ya3NwYWNlKTtcbiAgICAgICAgLy8gRm9jdXMgdGhlIHJvb3QgZHJhZ2dhYmxlIGluIGNhc2Ugb25lIG9mIGl0cyBjaGlsZHJlblxuICAgICAgICAvLyB3YXMgZm9jdXNlZCB3aGVuIHRoZSBtb3ZlIHdhcyB0cmlnZ2VyZWQuXG4gICAgICAgIGlmIChzdGFydERyYWdnYWJsZSkge1xuICAgICAgICAgIGdldEZvY3VzTWFuYWdlcigpLmZvY3VzTm9kZShzdGFydERyYWdnYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAhIXN0YXJ0RHJhZ2dhYmxlICYmXG4gICAgICAgICAgdGhpcy5tb3Zlci5zdGFydE1vdmUod29ya3NwYWNlLCBzdGFydERyYWdnYWJsZSwgTW92ZVR5cGUuTW92ZSwgbnVsbClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLk1dLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2ZpbmlzaF9tb3ZlJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5maW5pc2hNb3ZlKHdvcmtzcGFjZSksXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLkVOVEVSLCBLZXlDb2Rlcy5TUEFDRV0sXG4gICAgICBhbGxvd0NvbGxpc2lvbjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdhYm9ydF9tb3ZlJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5hYm9ydE1vdmUod29ya3NwYWNlKSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuRVNDXSxcbiAgICAgIGFsbG93Q29sbGlzaW9uOiB0cnVlLFxuICAgIH0sXG5cbiAgICAvLyBDb25zdHJhaW5lZCBtb3Zlcy5cbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV9sZWZ0X2NvbnN0cmFpbmVkJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5tb3Zlci5tb3ZlQ29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uTGVmdCksXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLkxFRlRdLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV9yaWdodF9jb25zdHJhaW5lZCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5pc01vdmluZyh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubW92ZXIubW92ZUNvbnN0cmFpbmVkKHdvcmtzcGFjZSwgRGlyZWN0aW9uLlJpZ2h0KSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuUklHSFRdLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV91cF9jb25zdHJhaW5lZCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5pc01vdmluZyh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubW92ZXIubW92ZUNvbnN0cmFpbmVkKHdvcmtzcGFjZSwgRGlyZWN0aW9uLlVwKSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuVVBdLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV9kb3duX2NvbnN0cmFpbmVkJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5tb3Zlci5tb3ZlQ29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uRG93biksXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLkRPV05dLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfSxcblxuICAgIC8vIFVuY29uc3RyYWluZWQgbW92ZXMuXG4gICAge1xuICAgICAgbmFtZTogJ21vdmVfbGVmdF91bmNvbnN0cmFpbmVkJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5tb3Zlci5tb3ZlVW5jb25zdHJhaW5lZCh3b3Jrc3BhY2UsIERpcmVjdGlvbi5MZWZ0KSxcbiAgICAgIGtleUNvZGVzOiBbXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuTEVGVCwgW0tleUNvZGVzLkFMVF0pLFxuICAgICAgICBjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLkxFRlQsIFtLZXlDb2Rlcy5DVFJMXSksXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ21vdmVfcmlnaHRfdW5jb25zdHJhaW5lZCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5pc01vdmluZyh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubW92ZXIubW92ZVVuY29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uUmlnaHQpLFxuICAgICAga2V5Q29kZXM6IFtcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5SSUdIVCwgW0tleUNvZGVzLkFMVF0pLFxuICAgICAgICBjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLlJJR0hULCBbS2V5Q29kZXMuQ1RSTF0pLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtb3ZlX3VwX3VuY29uc3RyYWluZWQnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm1vdmVyLm1vdmVVbmNvbnN0cmFpbmVkKHdvcmtzcGFjZSwgRGlyZWN0aW9uLlVwKSxcbiAgICAgIGtleUNvZGVzOiBbXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuVVAsIFtLZXlDb2Rlcy5BTFRdKSxcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5VUCwgW0tleUNvZGVzLkNUUkxdKSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV9kb3duX3VuY29uc3RyYWluZWQnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm1vdmVyLm1vdmVVbmNvbnN0cmFpbmVkKHdvcmtzcGFjZSwgRGlyZWN0aW9uLkRvd24pLFxuICAgICAga2V5Q29kZXM6IFtcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5ET1dOLCBbS2V5Q29kZXMuQUxUXSksXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuRE9XTiwgW0tleUNvZGVzLkNUUkxdKSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXTtcblxuICBwcml2YXRlIG1lbnVJdGVtczogQ29udGV4dE1lbnVSZWdpc3RyeS5SZWdpc3RyeUl0ZW1bXSA9IFtcbiAgICB7XG4gICAgICBkaXNwbGF5VGV4dDogKCkgPT4gZ2V0TWVudUl0ZW0oTXNnWydNT1ZFX0JMT0NLJ10sICdzdGFydF9tb3ZlJyksXG4gICAgICBwcmVjb25kaXRpb25GbjogKHNjb3BlLCBtZW51T3BlbkV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHNjb3BlLmJsb2NrPy53b3Jrc3BhY2UgYXMgV29ya3NwYWNlU3ZnIHwgbnVsbDtcbiAgICAgICAgaWYgKCF3b3Jrc3BhY2UgfHwgbWVudU9wZW5FdmVudCBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudClcbiAgICAgICAgICByZXR1cm4gJ2hpZGRlbic7XG5cbiAgICAgICAgY29uc3Qgc3RhcnREcmFnZ2FibGUgPSB0aGlzLmdldEN1cnJlbnREcmFnZ2FibGUod29ya3NwYWNlKTtcbiAgICAgICAgcmV0dXJuICEhc3RhcnREcmFnZ2FibGUgJiYgdGhpcy5tb3Zlci5jYW5Nb3ZlKHdvcmtzcGFjZSwgc3RhcnREcmFnZ2FibGUpXG4gICAgICAgICAgPyAnZW5hYmxlZCdcbiAgICAgICAgICA6ICdkaXNhYmxlZCc7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IChzY29wZSkgPT4ge1xuICAgICAgICBjb25zdCB3b3Jrc3BhY2UgPSBzY29wZS5ibG9jaz8ud29ya3NwYWNlIGFzIFdvcmtzcGFjZVN2ZyB8IG51bGw7XG4gICAgICAgIGlmICghd29ya3NwYWNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHN0YXJ0RHJhZ2dhYmxlID0gdGhpcy5nZXRDdXJyZW50RHJhZ2dhYmxlKHdvcmtzcGFjZSk7XG4gICAgICAgIC8vIEZvY3VzIHRoZSBzdGFydCBibG9jayBpbiBjYXNlIG9uZSBvZiBpdHMgZmllbGRzIG9yIGEgc2hhZG93IGJsb2NrXG4gICAgICAgIC8vIHdhcyBmb2N1c2VkIHdoZW4gdGhlIG1vdmUgd2FzIHRyaWdnZXJlZC5cbiAgICAgICAgaWYgKHN0YXJ0RHJhZ2dhYmxlKSB7XG4gICAgICAgICAgZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNOb2RlKHN0YXJ0RHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICEhc3RhcnREcmFnZ2FibGUgJiZcbiAgICAgICAgICB0aGlzLm1vdmVyLnN0YXJ0TW92ZSh3b3Jrc3BhY2UsIHN0YXJ0RHJhZ2dhYmxlLCBNb3ZlVHlwZS5Nb3ZlLCBudWxsKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHNjb3BlVHlwZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZVR5cGUuQkxPQ0ssXG4gICAgICBpZDogJ21vdmUnLFxuICAgICAgd2VpZ2h0OiA4LjUsXG4gICAgfSxcbiAgICB7XG4gICAgICBkaXNwbGF5VGV4dDogKCkgPT5cbiAgICAgICAgZ2V0TWVudUl0ZW0oTXNnWydNT1ZFX0NPTU1FTlQnXSA/PyAnTW92ZSBDb21tZW50JywgJ3N0YXJ0X21vdmUnKSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAoc2NvcGUsIG1lbnVPcGVuRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY29tbWVudCA9IHNjb3BlLmNvbW1lbnQ7XG4gICAgICAgIGlmICghY29tbWVudCkgcmV0dXJuICdoaWRkZW4nO1xuXG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVyLmNhbk1vdmUoY29tbWVudC53b3Jrc3BhY2UsIGNvbW1lbnQpXG4gICAgICAgICAgPyAnZW5hYmxlZCdcbiAgICAgICAgICA6ICdkaXNhYmxlZCc7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IChzY29wZSkgPT4ge1xuICAgICAgICBjb25zdCBjb21tZW50ID0gc2NvcGUuY29tbWVudDtcbiAgICAgICAgaWYgKCFjb21tZW50KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMubW92ZXIuc3RhcnRNb3ZlKGNvbW1lbnQud29ya3NwYWNlLCBjb21tZW50LCBNb3ZlVHlwZS5Nb3ZlLCBudWxsKTtcbiAgICAgIH0sXG4gICAgICBzY29wZVR5cGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGVUeXBlLkNPTU1FTlQsXG4gICAgICBpZDogJ21vdmVfY29tbWVudCcsXG4gICAgICB3ZWlnaHQ6IDguNSxcbiAgICB9LFxuICBdO1xuXG4gIHByaXZhdGUgcmVnaXN0ZXJTaG9ydGN1dHMoKSB7XG4gICAgZm9yIChjb25zdCBzaG9ydGN1dCBvZiB0aGlzLnNob3J0Y3V0cykge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihzaG9ydGN1dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3Rlck1lbnVJdGVtcygpIHtcbiAgICBmb3IgKGNvbnN0IG1lbnVJdGVtIG9mIHRoaXMubWVudUl0ZW1zKSB7XG4gICAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKG1lbnVJdGVtKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5zdGFsbCB0aGUgYWN0aW9ucyBhcyBib3RoIGtleWJvYXJkIHNob3J0Y3V0cyBhbmQgKHdoZXJlXG4gICAqIGFwcGxpY2FibGUpIGNvbnRleHQgbWVudSBpdGVtcy5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5yZWdpc3RlclNob3J0Y3V0cygpO1xuICAgIHRoaXMucmVnaXN0ZXJNZW51SXRlbXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmluc3RhbGwgdGhlc2UgYWN0aW9ucy5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBmb3IgKGNvbnN0IHNob3J0Y3V0IG9mIHRoaXMuc2hvcnRjdXRzKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoc2hvcnRjdXQubmFtZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbWVudUl0ZW0gb2YgdGhpcy5tZW51SXRlbXMpIHtcbiAgICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihtZW51SXRlbS5pZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc291cmNlIGRyYWdnYWJsZSBmb3IgdGhlIGN1cnNvciBsb2NhdGlvbiwgb3IgdW5kZWZpbmVkIGlmIG5vXG4gICAqIHNvdXJjZSBkcmFnZ2FibGUgY2FuIGJlIGZvdW5kLlxuICAgKiBJZiB0aGUgY3Vyc29yIGlzIG9uIGEgc2hhZG93IGJsb2NrLCB3YWxrcyB1cCB0aGUgdHJlZSB1bnRpbCBpdCBmaW5kc1xuICAgKiBhIG5vbi1zaGFkb3cgYmxvY2sgdG8gZHJhZy5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGluc3BlY3QgZm9yIGEgY3Vyc29yLlxuICAgKiBAcmV0dXJucyBUaGUgc291cmNlIGRyYWdnYWJsZSwgb3IgdW5kZWZpbmVkIGlmIG5vIGFwcHJvcHJpYXRlIGRyYWdnYWJsZVxuICAgKiAgICAgY291bGQgYmUgZm91bmQuXG4gICAqL1xuICBnZXRDdXJyZW50RHJhZ2dhYmxlKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICApOiAoSURyYWdnYWJsZSAmIElGb2N1c2FibGVOb2RlICYgSUJvdW5kZWRFbGVtZW50ICYgSVNlbGVjdGFibGUpIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBub2RlID0gZ2V0Rm9jdXNNYW5hZ2VyKCkuZ2V0Rm9jdXNlZE5vZGUoKTtcbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIGNvbW1lbnRzLlJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCkgcmV0dXJuIG5vZGU7XG5cbiAgICBjb25zdCBibG9jayA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGlmICghYmxvY2spIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBub25TaGFkb3dCbG9jayA9IGdldE5vblNoYWRvd0Jsb2NrKGJsb2NrKTtcbiAgICBpZiAoIW5vblNoYWRvd0Jsb2NrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUcmllZCB0byBkcmFnIGEgc2hhZG93IGJsb2NrIHdpdGggbm8gcGFyZW50LiAnICtcbiAgICAgICAgICAnU2hhZG93IGJsb2NrcyBzaG91bGQgYWx3YXlzIGhhdmUgcGFyZW50cy4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vblNoYWRvd0Jsb2NrO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/actions/move.ts\n");

/***/ }),

/***/ "../../src/actions/mover.ts":
/*!**********************************!*\
  !*** ../../src/actions/mover.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMMIT_MOVE_SHORTCUT: () => (/* binding */ COMMIT_MOVE_SHORTCUT),\n/* harmony export */   MoveInfo: () => (/* binding */ MoveInfo),\n/* harmony export */   MoveType: () => (/* binding */ MoveType),\n/* harmony export */   Mover: () => (/* binding */ Mover)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/* harmony import */ var _drag_direction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../drag_direction */ \"../../src/drag_direction.ts\");\n/* harmony import */ var _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../keyboard_drag_strategy */ \"../../src/keyboard_drag_strategy.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hints */ \"../../src/hints.ts\");\n/* harmony import */ var _move_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../move_indicator */ \"../../src/move_indicator.ts\");\n/* harmony import */ var _dom_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom_utils */ \"../../src/dom_utils.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n\n\n/**\n * The distance to move an item, in workspace coordinates, when\n * making an unconstrained move.\n */\nconst UNCONSTRAINED_MOVE_DISTANCE = 20;\n/**\n * The amount of additional padding to include during a constrained move.\n */\nconst CONSTRAINED_ADDITIONAL_PADDING = 70;\n/**\n * Identifier for a keyboard shortcut that commits the in-progress move.\n */\nconst COMMIT_MOVE_SHORTCUT = 'commitMove';\n/**\n * Whether this is an insert or a move.\n */\nvar MoveType;\n(function (MoveType) {\n    /**\n     * An insert will remove the block if the move is aborted.\n     */\n    MoveType[MoveType[\"Insert\"] = 0] = \"Insert\";\n    /**\n     * A regular move of a pre-existing block.\n     */\n    MoveType[MoveType[\"Move\"] = 1] = \"Move\";\n})(MoveType || (MoveType = {}));\n/**\n * Low-level code for moving elements with keyboard shortcuts.\n */\nclass Mover {\n    constructor(navigation, highlightConnections = true, shouldDisableAutoScroll) {\n        this.navigation = navigation;\n        /**\n         * Map of moves in progress.\n         *\n         * An entry for a given workspace in this map means that the this\n         * Mover is moving an element on that workspace, and will disable\n         * normal cursor movement until the move is complete.\n         */\n        this.moves = new Map();\n        /** Original drag strategies per-block (WeakMap for automatic garbage collection). */\n        this.oldDragStrategies = new WeakMap();\n        /** Whether to use fatter connection highlights with larger click targets. */\n        this.fatterConnections = true;\n        /** Connection highlight size: minimal, medium, or large. */\n        this.connectionSize = 'medium';\n        this.highlightConnections = highlightConnections;\n        this.shouldDisableAutoScroll = shouldDisableAutoScroll;\n    }\n    /**\n     * Returns true iff we are able to begin moving the draggable element which\n     * currently has focus on the given workspace.\n     *\n     * @param workspace The workspace to move on.\n     * @param draggable The draggable element to try to drag.\n     * @returns True iff we can begin a move.\n     */\n    canMove(workspace, draggable) {\n        return !!(this.navigation.getState() === _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE &&\n            this.navigation.canCurrentlyEdit(workspace) &&\n            !this.moves.has(workspace) && // No move in progress.\n            (draggable === null || draggable === void 0 ? void 0 : draggable.isMovable()));\n    }\n    /**\n     * Returns true iff we are currently moving an element on the given\n     * workspace.\n     *\n     * @param workspace The workspace we might be moving on.\n     * @returns True iff we are moving.\n     */\n    isMoving(workspace) {\n        return (this.navigation.canCurrentlyEdit(workspace) && this.moves.has(workspace));\n    }\n    /**\n     * Enable or disable connection highlighting during move operations.\n     *\n     * @param enabled Whether to show connection highlights.\n     */\n    setHighlightConnections(enabled) {\n        this.highlightConnections = enabled;\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.fatterConnections = enabled;\n        this.connectionSize = enabled ? 'medium' : 'minimal';\n        // Update any active drag strategies\n        for (const [_workspace, moveInfo] of this.moves) {\n            const dragStrategy = moveInfo.draggable.dragStrategy;\n            if (dragStrategy instanceof _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy) {\n                dragStrategy.setFatterConnections(enabled);\n            }\n        }\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.connectionSize = size;\n        this.fatterConnections = size !== 'minimal';\n        // Update any active drag strategies\n        for (const [_workspace, moveInfo] of this.moves) {\n            const dragStrategy = moveInfo.draggable.dragStrategy;\n            if (dragStrategy instanceof _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy) {\n                dragStrategy.setConnectionSize(size);\n            }\n        }\n    }\n    /**\n     * Start moving the currently-focused item on workspace, if\n     * possible.\n     *\n     * Should only be called if canMove has returned true.\n     *\n     * @param workspace The workspace we might be moving on.\n     * @param draggable The element to start dragging.\n     * @param moveType Whether this is an insert or a move.\n     * @param startPoint Where to start the move, or null to use the current\n     *     location if any.\n     * @returns True iff a move has successfully begun.\n     * @param onMoveFinished Optional callback when move finishes.\n     */\n    startMove(workspace, draggable, moveType, startPoint, onMoveFinished) {\n        if (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.patchDragStrategy(draggable, moveType, startPoint, onMoveFinished);\n        }\n        else if (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n            this.moveIndicator = new _move_indicator__WEBPACK_IMPORTED_MODULE_5__.MoveIndicatorBubble(draggable);\n        }\n        // Begin dragging element.\n        const DraggerClass = blockly__WEBPACK_IMPORTED_MODULE_0__.registry.getClassFromOptions(blockly__WEBPACK_IMPORTED_MODULE_0__.registry.Type.BLOCK_DRAGGER, workspace.options, true);\n        if (!DraggerClass)\n            throw new Error('no Dragger registered');\n        const dragger = new DraggerClass(draggable, workspace);\n        // Set up a blur listener to end the move if the user clicks away\n        const blurListener = (evt) => {\n            var _a;\n            const event = evt;\n            const dragStrategy = draggable.dragStrategy;\n            const isClickAndStick = (_a = dragStrategy === null || dragStrategy === void 0 ? void 0 : dragStrategy.isClickAndStickMode) === null || _a === void 0 ? void 0 : _a.call(dragStrategy);\n            const newFocusTarget = event.relatedTarget;\n            const activeElement = document.activeElement;\n            // Special case: if newFocusTarget is null and activeElement is body,\n            // it means we clicked on a non-focusable element (like divs in options panel).\n            // This is most likely clicking outside Blockly UI, so abort the move.\n            const blurredToBody = !newFocusTarget && (activeElement === null || activeElement === void 0 ? void 0 : activeElement.tagName) === 'BODY';\n            if (blurredToBody) {\n                this.abortMove(workspace);\n                return;\n            }\n            // Check if we explicitly clicked on a Blockly UI element\n            const newTargetIsBlockly = newFocusTarget ? (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isBlocklyUIElement)(newFocusTarget) : false;\n            const activeIsBlockly = activeElement && activeElement.tagName !== 'BODY' ? (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isBlocklyUIElement)(activeElement) : false;\n            const clickedOutsideBlockly = newFocusTarget && !newTargetIsBlockly && !activeIsBlockly;\n            if (clickedOutsideBlockly) {\n                // Abort the move if clicking outside the Blockly UI entirely\n                this.abortMove(workspace);\n                return;\n            }\n            if (!isClickAndStick) {\n                // In normal move mode: check if we're clicking on a connection highlight\n                // Check if the click target is a connection highlight or its descendant\n                const isConnectionHighlight = (newFocusTarget && this.isConnectionHighlightElement(newFocusTarget)) ||\n                    (activeElement && this.isConnectionHighlightElement(activeElement));\n                // Don't auto-finish if clicking on a connection highlight\n                // The connection click handler will finish the move\n                if (!isConnectionHighlight) {\n                    this.finishMove(workspace);\n                }\n                return;\n            }\n            // In click-and-stick mode: only auto-finish if focus moved to meaningful UI\n            const isWorkspaceBackground = (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isWorkspaceElement)(newFocusTarget) ||\n                (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isWorkspaceElement)(activeElement);\n            if (!isWorkspaceBackground) {\n                this.finishMove(workspace);\n            }\n        };\n        // Record that a move is in progress and start dragging.\n        workspace.setKeyboardMoveInProgress(true);\n        const info = new MoveInfo(workspace, draggable, dragger, blurListener, onMoveFinished);\n        this.moves.set(workspace, info);\n        // Begin drag.\n        dragger.onDragStart(info.fakePointerEvent('pointerdown'));\n        info.updateTotalDelta();\n        // In case a block is detached, ensure that it still retains focus\n        // (otherwise dragging will break). This is also the point a new block's\n        // initial insert position is scrolled into view.\n        workspace.getCursor().setCurNode(draggable);\n        draggable.getFocusableElement().addEventListener('blur', blurListener);\n        // Register a keyboard shortcut under the key combos of all existing\n        // keyboard shortcuts that commits the move before allowing the real\n        // shortcut to proceed. This avoids all kinds of fun brokenness when\n        // deleting/copying/otherwise acting on a element in move mode.\n        const shortcutKeys = Object.values(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry())\n            .flatMap((shortcut) => shortcut.keyCodes)\n            .filter((keyCode) => {\n            return (keyCode &&\n                ![\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.RIGHT,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.LEFT,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.UP,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.DOWN,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.ENTER,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.ESC,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.M,\n                ].includes(typeof keyCode === 'number'\n                    ? keyCode\n                    : parseInt(`${keyCode.split('+').pop()}`)));\n        })\n            // Convince TS there aren't undefined values.\n            .filter((keyCode) => !!keyCode);\n        const commitMoveShortcut = {\n            name: COMMIT_MOVE_SHORTCUT,\n            preconditionFn: (workspace) => {\n                return !!this.moves.get(workspace);\n            },\n            callback: (workspace) => {\n                this.finishMove(workspace);\n                return false;\n            },\n            keyCodes: shortcutKeys,\n            allowCollision: true,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(commitMoveShortcut);\n        return true;\n    }\n    /**\n     * Finish moving the currently-focused item on workspace.\n     *\n     * Should only be called if isMoving has returned true.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @returns True iff move successfully finished.\n     */\n    finishMove(workspace) {\n        if (!this.moves.has(workspace)) {\n            return false;\n        }\n        const info = this.preDragEndCleanup(workspace);\n        info.dragger.onDragEnd(info.fakePointerEvent('pointerup'), new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0));\n        this.postDragEndCleanup(workspace, info);\n        return true;\n    }\n    /**\n     * Abort moving the currently-focused item on workspace.\n     *\n     * Should only be called if isMoving has returned true.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @returns True iff move successfully aborted.\n     */\n    abortMove(workspace) {\n        var _a;\n        if (!this.moves.has(workspace)) {\n            return false;\n        }\n        const info = this.preDragEndCleanup(workspace);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const dragStrategy = info.draggable\n            .dragStrategy;\n        this.patchDragger(info.dragger, dragStrategy.moveType);\n        // Save the position so we can put the cursor in a reasonable spot.\n        // @ts-expect-error Access to private property connectionCandidate.\n        const target = (_a = dragStrategy.connectionCandidate) === null || _a === void 0 ? void 0 : _a.neighbour;\n        // Prevent the strategy connecting the block so we just delete one block.\n        // @ts-expect-error Access to private property connectionCandidate.\n        dragStrategy.connectionCandidate = null;\n        info.dragger.onDragEnd(info.fakePointerEvent('pointerup'), info.startLocation);\n        if (dragStrategy.moveType === MoveType.Insert && target) {\n            workspace.getCursor().setCurNode(target);\n        }\n        this.postDragEndCleanup(workspace, info);\n        return true;\n    }\n    /**\n     * Common clean-up for finish/abort.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @returns The info for the element.\n     */\n    preDragEndCleanup(workspace) {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(COMMIT_MOVE_SHORTCUT);\n        (0,_hints__WEBPACK_IMPORTED_MODULE_4__.clearMoveHints)(workspace);\n        const info = this.moves.get(workspace);\n        if (!info)\n            throw new Error('no move info for workspace');\n        // Remove the blur listener before ending the drag\n        info.draggable\n            .getFocusableElement()\n            .removeEventListener('blur', info.blurListener);\n        return info;\n    }\n    /**\n     * Common clean-up for finish/abort.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @param info The info for the element.\n     */\n    postDragEndCleanup(workspace, info) {\n        var _a;\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.moveIndicator = undefined;\n        if (info.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.unpatchDragStrategy(info.draggable);\n        }\n        this.moves.delete(workspace);\n        workspace.setKeyboardMoveInProgress(false);\n        if (info.onMoveFinished) {\n            info.onMoveFinished();\n        }\n        // Render on next frame for proper block positioning\n        requestAnimationFrame(() => {\n            if (info.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                let rootBlock = info.draggable;\n                let parent = info.draggable.getParent();\n                while (parent instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    rootBlock = parent;\n                    parent = parent.getParent();\n                }\n                rootBlock.render();\n                if (rootBlock !== info.draggable) {\n                    info.draggable.render();\n                }\n            }\n            workspace.render();\n            this.scrollCurrentElementIntoView(workspace);\n            (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(info.draggable);\n        });\n    }\n    /**\n     * Action to move the item being moved in the given direction,\n     * constrained to valid attachment points (if any).\n     *\n     * @param workspace The workspace to move on.\n     * @param direction The direction to move the dragged item.\n     * @returns True iff this action applies and has been performed.\n     */\n    moveConstrained(workspace, direction) {\n        if (!workspace)\n            return false;\n        const info = this.moves.get(workspace);\n        if (!info)\n            throw new Error('no move info for workspace');\n        if (info.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n            return this.moveUnconstrained(workspace, direction);\n        }\n        info.dragger.onDrag(info.fakePointerEvent('pointermove', direction), info.totalDelta.clone().scale(workspace.scale));\n        info.updateTotalDelta();\n        this.scrollCurrentElementIntoView(workspace, CONSTRAINED_ADDITIONAL_PADDING);\n        return true;\n    }\n    /**\n     * Action to move the item being moved in the given direction,\n     * without constraint.\n     *\n     * @param workspace The workspace to move on.\n     * @param direction The direction to move the dragged item.\n     * @returns True iff this action applies and has been performed.\n     */\n    moveUnconstrained(workspace, direction) {\n        var _a;\n        if (!workspace)\n            return false;\n        const info = this.moves.get(workspace);\n        if (!info)\n            throw new Error('no move info for workspace');\n        const { x, y } = (0,_drag_direction__WEBPACK_IMPORTED_MODULE_2__.getXYFromDirection)(direction);\n        info.totalDelta.x += x * UNCONSTRAINED_MOVE_DISTANCE * workspace.scale;\n        info.totalDelta.y += y * UNCONSTRAINED_MOVE_DISTANCE * workspace.scale;\n        info.dragger.onDrag(info.fakePointerEvent('pointermove'), info.totalDelta.clone().scale(workspace.scale));\n        this.scrollCurrentElementIntoView(workspace);\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.updateLocation();\n        return true;\n    }\n    /**\n     * Monkeypatch: replace the block's drag strategy and cache the old value.\n     *\n     * @param block The block to patch.\n     * @param moveType Whether this is an insert or a move.\n     * @param startPoint Where to start the move, or null to use the current\n     *     location if any.\n     * @param onMoveFinished\n     */\n    patchDragStrategy(block, moveType, startPoint, onMoveFinished) {\n        // @ts-expect-error block.dragStrategy is private.\n        const currentStrategy = block.dragStrategy;\n        this.oldDragStrategies.set(block, currentStrategy);\n        const onMoveComplete = () => {\n            const workspace = block.workspace;\n            this.finishMove(workspace);\n        };\n        const keyboardDragStrategy = new _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy(block, moveType, startPoint, this.highlightConnections, onMoveComplete, onMoveFinished);\n        keyboardDragStrategy.setFatterConnections(this.fatterConnections);\n        keyboardDragStrategy.setConnectionSize(this.connectionSize);\n        block.setDragStrategy(keyboardDragStrategy);\n    }\n    /**\n     * Undo the monkeypatching of the block's drag strategy.\n     *\n     * @param block The block to patch.\n     */\n    unpatchDragStrategy(block) {\n        try {\n            // @ts-expect-error block.dragStrategy is private\n            const currentStrategy = block.dragStrategy;\n            if (currentStrategy instanceof _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy) {\n                currentStrategy.setClickAndStickMode(false);\n                currentStrategy.connectionHighlighter.clearHighlights();\n            }\n            const oldStrategy = this.oldDragStrategies.get(block);\n            if (oldStrategy) {\n                block.setDragStrategy(oldStrategy);\n                this.oldDragStrategies.delete(block);\n            }\n        }\n        catch (error) {\n            // Silently fail during cleanup\n        }\n    }\n    /**\n     * Scrolls the current element into view.\n     *\n     * @param workspace The workspace to get current element from.\n     * @param padding Amount of spacing to put between the bounds and the edge of\n     *     the workspace's viewport.\n     */\n    scrollCurrentElementIntoView(workspace, padding = 0) {\n        var _a, _b;\n        if ((_a = this.shouldDisableAutoScroll) === null || _a === void 0 ? void 0 : _a.call(this)) {\n            return;\n        }\n        const draggable = (_b = this.moves.get(workspace)) === null || _b === void 0 ? void 0 : _b.draggable;\n        if (draggable) {\n            const bounds = (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg\n                ? draggable.getBoundingRectangleWithoutChildren()\n                : draggable.getBoundingRectangle()).clone();\n            bounds.top -= padding;\n            bounds.bottom += padding;\n            bounds.left -= padding;\n            bounds.right += padding;\n            workspace.scrollBoundsIntoView(bounds);\n        }\n    }\n    /**\n     * Checks if an element is a connection highlight or is contained within one.\n     *\n     * @param element The element to check.\n     * @returns True if the element is or is inside a connection highlight.\n     */\n    isConnectionHighlightElement(element) {\n        var _a, _b;\n        if (!element || !element.classList)\n            return false;\n        // Check if this element or any ancestor has the connection highlight class\n        let current = element;\n        while (current) {\n            if (((_a = current.classList) === null || _a === void 0 ? void 0 : _a.contains('blocklyPotentialConnection')) ||\n                ((_b = current.classList) === null || _b === void 0 ? void 0 : _b.contains('blocklyConnectionHighlightLayer'))) {\n                return true;\n            }\n            current = current.parentElement;\n        }\n        return false;\n    }\n    /**\n     * Monkeypatch: override either wouldDeleteDraggable or shouldReturnToStart,\n     * based on whether this was an insertion of a new block or a movement of\n     * an existing element.\n     *\n     * @param dragger The dragger to patch.\n     * @param moveType Whether this is an insert or a move.\n     */\n    patchDragger(dragger, moveType) {\n        if (moveType === MoveType.Insert) {\n            // Monkey patch dragger to trigger delete.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dragger.wouldDeleteDraggable = () => true;\n        }\n        else {\n            // Monkey patch dragger to trigger call to draggable.revertDrag.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dragger.shouldReturnToStart = () => true;\n        }\n    }\n}\n/**\n * Information about the currently in-progress move for a given\n * Workspace.\n */\nclass MoveInfo {\n    constructor(workspace, draggable, dragger, blurListener, onMoveFinished) {\n        var _a, _b, _c, _d;\n        this.workspace = workspace;\n        this.draggable = draggable;\n        this.dragger = dragger;\n        this.blurListener = blurListener;\n        /** Total distance moved, in workspace units. */\n        this.totalDelta = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0);\n        this.parentNext = null;\n        this.parentInput = null;\n        if (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.parentNext = (_b = (_a = draggable.previousConnection) === null || _a === void 0 ? void 0 : _a.targetConnection) !== null && _b !== void 0 ? _b : null;\n            this.parentInput = (_d = (_c = draggable.outputConnection) === null || _c === void 0 ? void 0 : _c.targetConnection) !== null && _d !== void 0 ? _d : null;\n        }\n        this.startLocation = draggable.getRelativeToSurfaceXY();\n        this.onMoveFinished = onMoveFinished;\n    }\n    /**\n     * Create a fake pointer event for dragging.\n     *\n     * @param type Which type of pointer event to create.\n     * @param direction The direction if this movement is a constrained drag.\n     * @returns A synthetic PointerEvent that can be consumed by Blockly's\n     *     dragging code.\n     */\n    fakePointerEvent(type, direction) {\n        const coordinates = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.wsToScreenCoordinates(this.workspace, new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(this.startLocation.x + this.totalDelta.x, this.startLocation.y + this.totalDelta.y));\n        const tilts = (0,_drag_direction__WEBPACK_IMPORTED_MODULE_2__.getXYFromDirection)(direction);\n        return new PointerEvent(type, {\n            clientX: coordinates.x,\n            clientY: coordinates.y,\n            tiltX: tilts.x,\n            tiltY: tilts.y,\n        });\n    }\n    /**\n     * The keyboard drag may have moved a block to an appropriate location\n     * for a preview. Update the saved delta to reflect the element's new\n     * location, so that it does not jump during the next unconstrained move.\n     */\n    updateTotalDelta() {\n        if (this.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.totalDelta = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(this.draggable.relativeCoords.x - this.startLocation.x, this.draggable.relativeCoords.y - this.startLocation.y);\n        }\n        else {\n            this.totalDelta = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(this.draggable.getBoundingRectangle().left - this.startLocation.x, this.draggable.getBoundingRectangle().top - this.startLocation.y);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLDBDQUFLLENBQUMsVUFBVSxDQUNwQyxJQUFJLENBQUMsU0FBUyxDQUFDLG9CQUFvQixFQUFFLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUNqRSxJQUFJLENBQUMsU0FBUyxDQUFDLG9CQUFvQixFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUNqRSxDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvYWN0aW9ucy9tb3Zlci50cz84YzhjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHR5cGUge1xuICBJRHJhZ2dlcixcbiAgSURyYWdTdHJhdGVneSxcbiAgUmVuZGVyZWRDb25uZWN0aW9uLFxuICBJRHJhZ2dhYmxlLFxuICBJRm9jdXNhYmxlTm9kZSxcbiAgSUJvdW5kZWRFbGVtZW50LFxuICBJU2VsZWN0YWJsZSxcbn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBkcmFnZ2luZyxcbiAgZ2V0Rm9jdXNNYW5hZ2VyLFxuICByZWdpc3RyeSxcbiAgdXRpbHMsXG4gIFdvcmtzcGFjZVN2ZyxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgQmxvY2tTdmcsXG4gIGNvbW1lbnRzLFxufSBmcm9tICdibG9ja2x5JztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHtEaXJlY3Rpb24sIGdldFhZRnJvbURpcmVjdGlvbn0gZnJvbSAnLi4vZHJhZ19kaXJlY3Rpb24nO1xuaW1wb3J0IHtLZXlib2FyZERyYWdTdHJhdGVneX0gZnJvbSAnLi4va2V5Ym9hcmRfZHJhZ19zdHJhdGVneSc7XG5pbXBvcnQge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuaW1wb3J0IHtjbGVhck1vdmVIaW50c30gZnJvbSAnLi4vaGludHMnO1xuaW1wb3J0IHtNb3ZlSW5kaWNhdG9yQnViYmxlfSBmcm9tICcuLi9tb3ZlX2luZGljYXRvcic7XG5pbXBvcnQge2lzV29ya3NwYWNlRWxlbWVudCwgaXNCbG9ja2x5VUlFbGVtZW50fSBmcm9tICcuLi9kb21fdXRpbHMnO1xuXG4vKipcbiAqIFRoZSBkaXN0YW5jZSB0byBtb3ZlIGFuIGl0ZW0sIGluIHdvcmtzcGFjZSBjb29yZGluYXRlcywgd2hlblxuICogbWFraW5nIGFuIHVuY29uc3RyYWluZWQgbW92ZS5cbiAqL1xuY29uc3QgVU5DT05TVFJBSU5FRF9NT1ZFX0RJU1RBTkNFID0gMjA7XG5cbi8qKlxuICogVGhlIGFtb3VudCBvZiBhZGRpdGlvbmFsIHBhZGRpbmcgdG8gaW5jbHVkZSBkdXJpbmcgYSBjb25zdHJhaW5lZCBtb3ZlLlxuICovXG5jb25zdCBDT05TVFJBSU5FRF9BRERJVElPTkFMX1BBRERJTkcgPSA3MDtcblxuLyoqXG4gKiBJZGVudGlmaWVyIGZvciBhIGtleWJvYXJkIHNob3J0Y3V0IHRoYXQgY29tbWl0cyB0aGUgaW4tcHJvZ3Jlc3MgbW92ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IENPTU1JVF9NT1ZFX1NIT1JUQ1VUID0gJ2NvbW1pdE1vdmUnO1xuXG4vKipcbiAqIFdoZXRoZXIgdGhpcyBpcyBhbiBpbnNlcnQgb3IgYSBtb3ZlLlxuICovXG5leHBvcnQgZW51bSBNb3ZlVHlwZSB7XG4gIC8qKlxuICAgKiBBbiBpbnNlcnQgd2lsbCByZW1vdmUgdGhlIGJsb2NrIGlmIHRoZSBtb3ZlIGlzIGFib3J0ZWQuXG4gICAqL1xuICBJbnNlcnQsXG4gIC8qKlxuICAgKiBBIHJlZ3VsYXIgbW92ZSBvZiBhIHByZS1leGlzdGluZyBibG9jay5cbiAgICovXG4gIE1vdmUsXG59XG5cbi8qKlxuICogTG93LWxldmVsIGNvZGUgZm9yIG1vdmluZyBlbGVtZW50cyB3aXRoIGtleWJvYXJkIHNob3J0Y3V0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVyIHtcbiAgLyoqXG4gICAqIE1hcCBvZiBtb3ZlcyBpbiBwcm9ncmVzcy5cbiAgICpcbiAgICogQW4gZW50cnkgZm9yIGEgZ2l2ZW4gd29ya3NwYWNlIGluIHRoaXMgbWFwIG1lYW5zIHRoYXQgdGhlIHRoaXNcbiAgICogTW92ZXIgaXMgbW92aW5nIGFuIGVsZW1lbnQgb24gdGhhdCB3b3Jrc3BhY2UsIGFuZCB3aWxsIGRpc2FibGVcbiAgICogbm9ybWFsIGN1cnNvciBtb3ZlbWVudCB1bnRpbCB0aGUgbW92ZSBpcyBjb21wbGV0ZS5cbiAgICovXG4gIHByb3RlY3RlZCBtb3ZlczogTWFwPFdvcmtzcGFjZVN2ZywgTW92ZUluZm8+ID0gbmV3IE1hcCgpO1xuXG4gIC8qKiBPcmlnaW5hbCBkcmFnIHN0cmF0ZWdpZXMgcGVyLWJsb2NrIChXZWFrTWFwIGZvciBhdXRvbWF0aWMgZ2FyYmFnZSBjb2xsZWN0aW9uKS4gKi9cbiAgcHJpdmF0ZSBvbGREcmFnU3RyYXRlZ2llczogV2Vha01hcDxCbG9ja1N2ZywgSURyYWdTdHJhdGVneT4gPSBuZXcgV2Vha01hcCgpO1xuXG4gIHByaXZhdGUgbW92ZUluZGljYXRvcj86IE1vdmVJbmRpY2F0b3JCdWJibGU7XG5cbiAgLyoqIFdoZXRoZXIgY29ubmVjdGlvbiBoaWdobGlnaHRpbmcgaXMgZW5hYmxlZCBmb3IgbW92ZXMuICovXG4gIHByaXZhdGUgaGlnaGxpZ2h0Q29ubmVjdGlvbnM6IGJvb2xlYW47XG5cbiAgLyoqIFdoZXRoZXIgdG8gdXNlIGZhdHRlciBjb25uZWN0aW9uIGhpZ2hsaWdodHMgd2l0aCBsYXJnZXIgY2xpY2sgdGFyZ2V0cy4gKi9cbiAgcHJpdmF0ZSBmYXR0ZXJDb25uZWN0aW9uczogYm9vbGVhbiA9IHRydWU7XG5cbiAgLyoqIENvbm5lY3Rpb24gaGlnaGxpZ2h0IHNpemU6IG1pbmltYWwsIG1lZGl1bSwgb3IgbGFyZ2UuICovXG4gIHByaXZhdGUgY29ubmVjdGlvblNpemU6ICdtaW5pbWFsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyA9ICdtZWRpdW0nO1xuXG4gIC8qKiBPcHRpb25hbCBjYWxsYmFjayB0byBjaGVjayBpZiBhdXRvLXNjcm9sbGluZyBzaG91bGQgYmUgZGlzYWJsZWQuICovXG4gIHByaXZhdGUgc2hvdWxkRGlzYWJsZUF1dG9TY3JvbGw/OiAoKSA9PiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uLFxuICAgIGhpZ2hsaWdodENvbm5lY3Rpb25zID0gdHJ1ZSxcbiAgICBzaG91bGREaXNhYmxlQXV0b1Njcm9sbD86ICgpID0+IGJvb2xlYW4sXG4gICkge1xuICAgIHRoaXMuaGlnaGxpZ2h0Q29ubmVjdGlvbnMgPSBoaWdobGlnaHRDb25uZWN0aW9ucztcbiAgICB0aGlzLnNob3VsZERpc2FibGVBdXRvU2Nyb2xsID0gc2hvdWxkRGlzYWJsZUF1dG9TY3JvbGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmZiB3ZSBhcmUgYWJsZSB0byBiZWdpbiBtb3ZpbmcgdGhlIGRyYWdnYWJsZSBlbGVtZW50IHdoaWNoXG4gICAqIGN1cnJlbnRseSBoYXMgZm9jdXMgb24gdGhlIGdpdmVuIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIG1vdmUgb24uXG4gICAqIEBwYXJhbSBkcmFnZ2FibGUgVGhlIGRyYWdnYWJsZSBlbGVtZW50IHRvIHRyeSB0byBkcmFnLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmZiB3ZSBjYW4gYmVnaW4gYSBtb3ZlLlxuICAgKi9cbiAgY2FuTW92ZSh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZywgZHJhZ2dhYmxlOiBJRHJhZ2dhYmxlKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgdGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkgPT09IENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0UgJiZcbiAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSkgJiZcbiAgICAgICF0aGlzLm1vdmVzLmhhcyh3b3Jrc3BhY2UpICYmIC8vIE5vIG1vdmUgaW4gcHJvZ3Jlc3MuXG4gICAgICBkcmFnZ2FibGU/LmlzTW92YWJsZSgpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWZmIHdlIGFyZSBjdXJyZW50bHkgbW92aW5nIGFuIGVsZW1lbnQgb24gdGhlIGdpdmVuXG4gICAqIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHdlIG1pZ2h0IGJlIG1vdmluZyBvbi5cbiAgICogQHJldHVybnMgVHJ1ZSBpZmYgd2UgYXJlIG1vdmluZy5cbiAgICovXG4gIGlzTW92aW5nKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSkgJiYgdGhpcy5tb3Zlcy5oYXMod29ya3NwYWNlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgY29ubmVjdGlvbiBoaWdobGlnaHRpbmcgZHVyaW5nIG1vdmUgb3BlcmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0byBzaG93IGNvbm5lY3Rpb24gaGlnaGxpZ2h0cy5cbiAgICovXG4gIHNldEhpZ2hsaWdodENvbm5lY3Rpb25zKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmhpZ2hsaWdodENvbm5lY3Rpb25zID0gZW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBmYXR0ZXIgY29ubmVjdGlvbiBoaWdobGlnaHRzLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZCBXaGV0aGVyIHRvIHVzZSBmYXR0ZXIgY29ubmVjdGlvbnMgd2l0aCBsYXJnZXIgY2xpY2sgdGFyZ2V0cy5cbiAgICovXG4gIHNldEZhdHRlckNvbm5lY3Rpb25zKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmZhdHRlckNvbm5lY3Rpb25zID0gZW5hYmxlZDtcbiAgICB0aGlzLmNvbm5lY3Rpb25TaXplID0gZW5hYmxlZCA/ICdtZWRpdW0nIDogJ21pbmltYWwnO1xuICAgIC8vIFVwZGF0ZSBhbnkgYWN0aXZlIGRyYWcgc3RyYXRlZ2llc1xuICAgIGZvciAoY29uc3QgW193b3Jrc3BhY2UsIG1vdmVJbmZvXSBvZiB0aGlzLm1vdmVzKSB7XG4gICAgICBjb25zdCBkcmFnU3RyYXRlZ3kgPSAobW92ZUluZm8uZHJhZ2dhYmxlIGFzIGFueSkuZHJhZ1N0cmF0ZWd5O1xuICAgICAgaWYgKGRyYWdTdHJhdGVneSBpbnN0YW5jZW9mIEtleWJvYXJkRHJhZ1N0cmF0ZWd5KSB7XG4gICAgICAgIGRyYWdTdHJhdGVneS5zZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb25uZWN0aW9uIGhpZ2hsaWdodCBzaXplLlxuICAgKlxuICAgKiBAcGFyYW0gc2l6ZSBUaGUgc2l6ZSBsZXZlbDogJ21pbmltYWwnLCAnbWVkaXVtJywgb3IgJ2xhcmdlJy5cbiAgICovXG4gIHNldENvbm5lY3Rpb25TaXplKHNpemU6ICdtaW5pbWFsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyk6IHZvaWQge1xuICAgIHRoaXMuY29ubmVjdGlvblNpemUgPSBzaXplO1xuICAgIHRoaXMuZmF0dGVyQ29ubmVjdGlvbnMgPSBzaXplICE9PSAnbWluaW1hbCc7XG4gICAgLy8gVXBkYXRlIGFueSBhY3RpdmUgZHJhZyBzdHJhdGVnaWVzXG4gICAgZm9yIChjb25zdCBbX3dvcmtzcGFjZSwgbW92ZUluZm9dIG9mIHRoaXMubW92ZXMpIHtcbiAgICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IChtb3ZlSW5mby5kcmFnZ2FibGUgYXMgYW55KS5kcmFnU3RyYXRlZ3k7XG4gICAgICBpZiAoZHJhZ1N0cmF0ZWd5IGluc3RhbmNlb2YgS2V5Ym9hcmREcmFnU3RyYXRlZ3kpIHtcbiAgICAgICAgZHJhZ1N0cmF0ZWd5LnNldENvbm5lY3Rpb25TaXplKHNpemUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBtb3ZpbmcgdGhlIGN1cnJlbnRseS1mb2N1c2VkIGl0ZW0gb24gd29ya3NwYWNlLCBpZlxuICAgKiBwb3NzaWJsZS5cbiAgICpcbiAgICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGlmIGNhbk1vdmUgaGFzIHJldHVybmVkIHRydWUuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB3ZSBtaWdodCBiZSBtb3Zpbmcgb24uXG4gICAqIEBwYXJhbSBkcmFnZ2FibGUgVGhlIGVsZW1lbnQgdG8gc3RhcnQgZHJhZ2dpbmcuXG4gICAqIEBwYXJhbSBtb3ZlVHlwZSBXaGV0aGVyIHRoaXMgaXMgYW4gaW5zZXJ0IG9yIGEgbW92ZS5cbiAgICogQHBhcmFtIHN0YXJ0UG9pbnQgV2hlcmUgdG8gc3RhcnQgdGhlIG1vdmUsIG9yIG51bGwgdG8gdXNlIHRoZSBjdXJyZW50XG4gICAqICAgICBsb2NhdGlvbiBpZiBhbnkuXG4gICAqIEByZXR1cm5zIFRydWUgaWZmIGEgbW92ZSBoYXMgc3VjY2Vzc2Z1bGx5IGJlZ3VuLlxuICAgKiBAcGFyYW0gb25Nb3ZlRmluaXNoZWQgT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBtb3ZlIGZpbmlzaGVzLlxuICAgKi9cbiAgc3RhcnRNb3ZlKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIGRyYWdnYWJsZTogSURyYWdnYWJsZSAmIElGb2N1c2FibGVOb2RlICYgSUJvdW5kZWRFbGVtZW50ICYgSVNlbGVjdGFibGUsXG4gICAgbW92ZVR5cGU6IE1vdmVUeXBlLFxuICAgIHN0YXJ0UG9pbnQ6IFJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICAgb25Nb3ZlRmluaXNoZWQ/OiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICBpZiAoZHJhZ2dhYmxlIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgIHRoaXMucGF0Y2hEcmFnU3RyYXRlZ3koZHJhZ2dhYmxlLCBtb3ZlVHlwZSwgc3RhcnRQb2ludCwgb25Nb3ZlRmluaXNoZWQpO1xuICAgIH0gZWxzZSBpZiAoZHJhZ2dhYmxlIGluc3RhbmNlb2YgY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50KSB7XG4gICAgICB0aGlzLm1vdmVJbmRpY2F0b3IgPSBuZXcgTW92ZUluZGljYXRvckJ1YmJsZShkcmFnZ2FibGUpO1xuICAgIH1cbiAgICAvLyBCZWdpbiBkcmFnZ2luZyBlbGVtZW50LlxuICAgIGNvbnN0IERyYWdnZXJDbGFzcyA9IHJlZ2lzdHJ5LmdldENsYXNzRnJvbU9wdGlvbnMoXG4gICAgICByZWdpc3RyeS5UeXBlLkJMT0NLX0RSQUdHRVIsXG4gICAgICB3b3Jrc3BhY2Uub3B0aW9ucyxcbiAgICAgIHRydWUsXG4gICAgKTtcbiAgICBpZiAoIURyYWdnZXJDbGFzcykgdGhyb3cgbmV3IEVycm9yKCdubyBEcmFnZ2VyIHJlZ2lzdGVyZWQnKTtcbiAgICBjb25zdCBkcmFnZ2VyID0gbmV3IERyYWdnZXJDbGFzcyhkcmFnZ2FibGUsIHdvcmtzcGFjZSk7XG5cbiAgICAvLyBTZXQgdXAgYSBibHVyIGxpc3RlbmVyIHRvIGVuZCB0aGUgbW92ZSBpZiB0aGUgdXNlciBjbGlja3MgYXdheVxuICAgICAgY29uc3QgYmx1ckxpc3RlbmVyID0gKGV2dDogRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gZXZ0IGFzIEZvY3VzRXZlbnQ7XG5cbiAgICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IChkcmFnZ2FibGUgYXMgYW55KS5kcmFnU3RyYXRlZ3k7XG4gICAgICBjb25zdCBpc0NsaWNrQW5kU3RpY2sgPSBkcmFnU3RyYXRlZ3k/LmlzQ2xpY2tBbmRTdGlja01vZGU/LigpO1xuXG4gICAgICBjb25zdCBuZXdGb2N1c1RhcmdldCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQgYXMgYW55O1xuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogaWYgbmV3Rm9jdXNUYXJnZXQgaXMgbnVsbCBhbmQgYWN0aXZlRWxlbWVudCBpcyBib2R5LFxuICAgICAgLy8gaXQgbWVhbnMgd2UgY2xpY2tlZCBvbiBhIG5vbi1mb2N1c2FibGUgZWxlbWVudCAobGlrZSBkaXZzIGluIG9wdGlvbnMgcGFuZWwpLlxuICAgICAgLy8gVGhpcyBpcyBtb3N0IGxpa2VseSBjbGlja2luZyBvdXRzaWRlIEJsb2NrbHkgVUksIHNvIGFib3J0IHRoZSBtb3ZlLlxuICAgICAgY29uc3QgYmx1cnJlZFRvQm9keSA9ICFuZXdGb2N1c1RhcmdldCAmJiBhY3RpdmVFbGVtZW50Py50YWdOYW1lID09PSAnQk9EWSc7XG5cbiAgICAgIGlmIChibHVycmVkVG9Cb2R5KSB7XG4gICAgICAgIHRoaXMuYWJvcnRNb3ZlKHdvcmtzcGFjZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgd2UgZXhwbGljaXRseSBjbGlja2VkIG9uIGEgQmxvY2tseSBVSSBlbGVtZW50XG4gICAgICBjb25zdCBuZXdUYXJnZXRJc0Jsb2NrbHkgPSBuZXdGb2N1c1RhcmdldCA/IGlzQmxvY2tseVVJRWxlbWVudChuZXdGb2N1c1RhcmdldCkgOiBmYWxzZTtcbiAgICAgIGNvbnN0IGFjdGl2ZUlzQmxvY2tseSA9IGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC50YWdOYW1lICE9PSAnQk9EWScgPyBpc0Jsb2NrbHlVSUVsZW1lbnQoYWN0aXZlRWxlbWVudCkgOiBmYWxzZTtcbiAgICAgIGNvbnN0IGNsaWNrZWRPdXRzaWRlQmxvY2tseSA9IG5ld0ZvY3VzVGFyZ2V0ICYmICFuZXdUYXJnZXRJc0Jsb2NrbHkgJiYgIWFjdGl2ZUlzQmxvY2tseTtcblxuICAgICAgaWYgKGNsaWNrZWRPdXRzaWRlQmxvY2tseSkge1xuICAgICAgICAvLyBBYm9ydCB0aGUgbW92ZSBpZiBjbGlja2luZyBvdXRzaWRlIHRoZSBCbG9ja2x5IFVJIGVudGlyZWx5XG4gICAgICAgIHRoaXMuYWJvcnRNb3ZlKHdvcmtzcGFjZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0NsaWNrQW5kU3RpY2spIHtcbiAgICAgICAgLy8gSW4gbm9ybWFsIG1vdmUgbW9kZTogY2hlY2sgaWYgd2UncmUgY2xpY2tpbmcgb24gYSBjb25uZWN0aW9uIGhpZ2hsaWdodFxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2xpY2sgdGFyZ2V0IGlzIGEgY29ubmVjdGlvbiBoaWdobGlnaHQgb3IgaXRzIGRlc2NlbmRhbnRcbiAgICAgICAgY29uc3QgaXNDb25uZWN0aW9uSGlnaGxpZ2h0ID1cbiAgICAgICAgICAobmV3Rm9jdXNUYXJnZXQgJiYgdGhpcy5pc0Nvbm5lY3Rpb25IaWdobGlnaHRFbGVtZW50KG5ld0ZvY3VzVGFyZ2V0KSkgfHxcbiAgICAgICAgICAoYWN0aXZlRWxlbWVudCAmJiB0aGlzLmlzQ29ubmVjdGlvbkhpZ2hsaWdodEVsZW1lbnQoYWN0aXZlRWxlbWVudCkpO1xuXG4gICAgICAgIC8vIERvbid0IGF1dG8tZmluaXNoIGlmIGNsaWNraW5nIG9uIGEgY29ubmVjdGlvbiBoaWdobGlnaHRcbiAgICAgICAgLy8gVGhlIGNvbm5lY3Rpb24gY2xpY2sgaGFuZGxlciB3aWxsIGZpbmlzaCB0aGUgbW92ZVxuICAgICAgICBpZiAoIWlzQ29ubmVjdGlvbkhpZ2hsaWdodCkge1xuICAgICAgICAgIHRoaXMuZmluaXNoTW92ZSh3b3Jrc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSW4gY2xpY2stYW5kLXN0aWNrIG1vZGU6IG9ubHkgYXV0by1maW5pc2ggaWYgZm9jdXMgbW92ZWQgdG8gbWVhbmluZ2Z1bCBVSVxuICAgICAgY29uc3QgaXNXb3Jrc3BhY2VCYWNrZ3JvdW5kID1cbiAgICAgICAgaXNXb3Jrc3BhY2VFbGVtZW50KG5ld0ZvY3VzVGFyZ2V0KSB8fFxuICAgICAgICBpc1dvcmtzcGFjZUVsZW1lbnQoYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIGlmICghaXNXb3Jrc3BhY2VCYWNrZ3JvdW5kKSB7XG4gICAgICAgIHRoaXMuZmluaXNoTW92ZSh3b3Jrc3BhY2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVjb3JkIHRoYXQgYSBtb3ZlIGlzIGluIHByb2dyZXNzIGFuZCBzdGFydCBkcmFnZ2luZy5cbiAgICB3b3Jrc3BhY2Uuc2V0S2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcyh0cnVlKTtcbiAgICBjb25zdCBpbmZvID0gbmV3IE1vdmVJbmZvKHdvcmtzcGFjZSwgZHJhZ2dhYmxlLCBkcmFnZ2VyLCBibHVyTGlzdGVuZXIsIG9uTW92ZUZpbmlzaGVkKTtcbiAgICB0aGlzLm1vdmVzLnNldCh3b3Jrc3BhY2UsIGluZm8pO1xuICAgIC8vIEJlZ2luIGRyYWcuXG4gICAgZHJhZ2dlci5vbkRyYWdTdGFydChpbmZvLmZha2VQb2ludGVyRXZlbnQoJ3BvaW50ZXJkb3duJykpO1xuICAgIGluZm8udXBkYXRlVG90YWxEZWx0YSgpO1xuICAgIC8vIEluIGNhc2UgYSBibG9jayBpcyBkZXRhY2hlZCwgZW5zdXJlIHRoYXQgaXQgc3RpbGwgcmV0YWlucyBmb2N1c1xuICAgIC8vIChvdGhlcndpc2UgZHJhZ2dpbmcgd2lsbCBicmVhaykuIFRoaXMgaXMgYWxzbyB0aGUgcG9pbnQgYSBuZXcgYmxvY2snc1xuICAgIC8vIGluaXRpYWwgaW5zZXJ0IHBvc2l0aW9uIGlzIHNjcm9sbGVkIGludG8gdmlldy5cbiAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZShkcmFnZ2FibGUpO1xuICAgIGRyYWdnYWJsZS5nZXRGb2N1c2FibGVFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGJsdXJMaXN0ZW5lcik7XG5cbiAgICAvLyBSZWdpc3RlciBhIGtleWJvYXJkIHNob3J0Y3V0IHVuZGVyIHRoZSBrZXkgY29tYm9zIG9mIGFsbCBleGlzdGluZ1xuICAgIC8vIGtleWJvYXJkIHNob3J0Y3V0cyB0aGF0IGNvbW1pdHMgdGhlIG1vdmUgYmVmb3JlIGFsbG93aW5nIHRoZSByZWFsXG4gICAgLy8gc2hvcnRjdXQgdG8gcHJvY2VlZC4gVGhpcyBhdm9pZHMgYWxsIGtpbmRzIG9mIGZ1biBicm9rZW5uZXNzIHdoZW5cbiAgICAvLyBkZWxldGluZy9jb3B5aW5nL290aGVyd2lzZSBhY3Rpbmcgb24gYSBlbGVtZW50IGluIG1vdmUgbW9kZS5cbiAgICBjb25zdCBzaG9ydGN1dEtleXMgPSBPYmplY3QudmFsdWVzKFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuZ2V0UmVnaXN0cnkoKSlcbiAgICAgIC5mbGF0TWFwKChzaG9ydGN1dCkgPT4gc2hvcnRjdXQua2V5Q29kZXMpXG4gICAgICAuZmlsdGVyKChrZXlDb2RlKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAga2V5Q29kZSAmJlxuICAgICAgICAgICFbXG4gICAgICAgICAgICB1dGlscy5LZXlDb2Rlcy5SSUdIVCxcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLkxFRlQsXG4gICAgICAgICAgICB1dGlscy5LZXlDb2Rlcy5VUCxcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLkRPV04sXG4gICAgICAgICAgICB1dGlscy5LZXlDb2Rlcy5FTlRFUixcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLkVTQyxcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLk0sXG4gICAgICAgICAgXS5pbmNsdWRlcyhcbiAgICAgICAgICAgIHR5cGVvZiBrZXlDb2RlID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IGtleUNvZGVcbiAgICAgICAgICAgICAgOiBwYXJzZUludChgJHtrZXlDb2RlLnNwbGl0KCcrJykucG9wKCl9YCksXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC8vIENvbnZpbmNlIFRTIHRoZXJlIGFyZW4ndCB1bmRlZmluZWQgdmFsdWVzLlxuICAgICAgLmZpbHRlcigoa2V5Q29kZSk6IGtleUNvZGUgaXMgc3RyaW5nIHwgbnVtYmVyID0+ICEha2V5Q29kZSk7XG5cbiAgICBjb25zdCBjb21taXRNb3ZlU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDT01NSVRfTU9WRV9TSE9SVENVVCxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpID0+IHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5tb3Zlcy5nZXQod29ya3NwYWNlKTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSA9PiB7XG4gICAgICAgIHRoaXMuZmluaXNoTW92ZSh3b3Jrc3BhY2UpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IHNob3J0Y3V0S2V5cyxcbiAgICAgIGFsbG93Q29sbGlzaW9uOiB0cnVlLFxuICAgIH07XG5cbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKGNvbW1pdE1vdmVTaG9ydGN1dCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5pc2ggbW92aW5nIHRoZSBjdXJyZW50bHktZm9jdXNlZCBpdGVtIG9uIHdvcmtzcGFjZS5cbiAgICpcbiAgICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGlmIGlzTW92aW5nIGhhcyByZXR1cm5lZCB0cnVlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2Ugb24gd2hpY2ggd2UgYXJlIG1vdmluZy5cbiAgICogQHJldHVybnMgVHJ1ZSBpZmYgbW92ZSBzdWNjZXNzZnVsbHkgZmluaXNoZWQuXG4gICAqL1xuICBmaW5pc2hNb3ZlKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgaWYgKCF0aGlzLm1vdmVzLmhhcyh3b3Jrc3BhY2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgaW5mbyA9IHRoaXMucHJlRHJhZ0VuZENsZWFudXAod29ya3NwYWNlKTtcblxuICAgIGluZm8uZHJhZ2dlci5vbkRyYWdFbmQoXG4gICAgICBpbmZvLmZha2VQb2ludGVyRXZlbnQoJ3BvaW50ZXJ1cCcpLFxuICAgICAgbmV3IHV0aWxzLkNvb3JkaW5hdGUoMCwgMCksXG4gICAgKTtcblxuICAgIHRoaXMucG9zdERyYWdFbmRDbGVhbnVwKHdvcmtzcGFjZSwgaW5mbyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWJvcnQgbW92aW5nIHRoZSBjdXJyZW50bHktZm9jdXNlZCBpdGVtIG9uIHdvcmtzcGFjZS5cbiAgICpcbiAgICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGlmIGlzTW92aW5nIGhhcyByZXR1cm5lZCB0cnVlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2Ugb24gd2hpY2ggd2UgYXJlIG1vdmluZy5cbiAgICogQHJldHVybnMgVHJ1ZSBpZmYgbW92ZSBzdWNjZXNzZnVsbHkgYWJvcnRlZC5cbiAgICovXG4gIGFib3J0TW92ZSh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgIGlmICghdGhpcy5tb3Zlcy5oYXMod29ya3NwYWNlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGluZm8gPSB0aGlzLnByZURyYWdFbmRDbGVhbnVwKHdvcmtzcGFjZSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IChpbmZvLmRyYWdnYWJsZSBhcyBhbnkpXG4gICAgICAuZHJhZ1N0cmF0ZWd5IGFzIEtleWJvYXJkRHJhZ1N0cmF0ZWd5O1xuICAgIHRoaXMucGF0Y2hEcmFnZ2VyKGluZm8uZHJhZ2dlciBhcyBkcmFnZ2luZy5EcmFnZ2VyLCBkcmFnU3RyYXRlZ3kubW92ZVR5cGUpO1xuXG4gICAgLy8gU2F2ZSB0aGUgcG9zaXRpb24gc28gd2UgY2FuIHB1dCB0aGUgY3Vyc29yIGluIGEgcmVhc29uYWJsZSBzcG90LlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQWNjZXNzIHRvIHByaXZhdGUgcHJvcGVydHkgY29ubmVjdGlvbkNhbmRpZGF0ZS5cbiAgICBjb25zdCB0YXJnZXQgPSBkcmFnU3RyYXRlZ3kuY29ubmVjdGlvbkNhbmRpZGF0ZT8ubmVpZ2hib3VyO1xuXG4gICAgLy8gUHJldmVudCB0aGUgc3RyYXRlZ3kgY29ubmVjdGluZyB0aGUgYmxvY2sgc28gd2UganVzdCBkZWxldGUgb25lIGJsb2NrLlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQWNjZXNzIHRvIHByaXZhdGUgcHJvcGVydHkgY29ubmVjdGlvbkNhbmRpZGF0ZS5cbiAgICBkcmFnU3RyYXRlZ3kuY29ubmVjdGlvbkNhbmRpZGF0ZSA9IG51bGw7XG5cbiAgICBpbmZvLmRyYWdnZXIub25EcmFnRW5kKFxuICAgICAgaW5mby5mYWtlUG9pbnRlckV2ZW50KCdwb2ludGVydXAnKSxcbiAgICAgIGluZm8uc3RhcnRMb2NhdGlvbixcbiAgICApO1xuXG4gICAgaWYgKGRyYWdTdHJhdGVneS5tb3ZlVHlwZSA9PT0gTW92ZVR5cGUuSW5zZXJ0ICYmIHRhcmdldCkge1xuICAgICAgd29ya3NwYWNlLmdldEN1cnNvcigpLnNldEN1ck5vZGUodGFyZ2V0KTtcbiAgICB9XG5cbiAgICB0aGlzLnBvc3REcmFnRW5kQ2xlYW51cCh3b3Jrc3BhY2UsIGluZm8pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbW1vbiBjbGVhbi11cCBmb3IgZmluaXNoL2Fib3J0LlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2Ugb24gd2hpY2ggd2UgYXJlIG1vdmluZy5cbiAgICogQHJldHVybnMgVGhlIGluZm8gZm9yIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBwcmVEcmFnRW5kQ2xlYW51cCh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihDT01NSVRfTU9WRV9TSE9SVENVVCk7XG4gICAgY2xlYXJNb3ZlSGludHMod29ya3NwYWNlKTtcblxuICAgIGNvbnN0IGluZm8gPSB0aGlzLm1vdmVzLmdldCh3b3Jrc3BhY2UpO1xuICAgIGlmICghaW5mbykgdGhyb3cgbmV3IEVycm9yKCdubyBtb3ZlIGluZm8gZm9yIHdvcmtzcGFjZScpO1xuXG4gICAgLy8gUmVtb3ZlIHRoZSBibHVyIGxpc3RlbmVyIGJlZm9yZSBlbmRpbmcgdGhlIGRyYWdcbiAgICBpbmZvLmRyYWdnYWJsZVxuICAgICAgLmdldEZvY3VzYWJsZUVsZW1lbnQoKVxuICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBpbmZvLmJsdXJMaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21tb24gY2xlYW4tdXAgZm9yIGZpbmlzaC9hYm9ydC5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIG9uIHdoaWNoIHdlIGFyZSBtb3ZpbmcuXG4gICAqIEBwYXJhbSBpbmZvIFRoZSBpbmZvIGZvciB0aGUgZWxlbWVudC5cbiAgICovXG4gIHByaXZhdGUgcG9zdERyYWdFbmRDbGVhbnVwKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLCBpbmZvOiBNb3ZlSW5mbykge1xuICAgIHRoaXMubW92ZUluZGljYXRvcj8uZGlzcG9zZSgpO1xuICAgIHRoaXMubW92ZUluZGljYXRvciA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaW5mby5kcmFnZ2FibGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgdGhpcy51bnBhdGNoRHJhZ1N0cmF0ZWd5KGluZm8uZHJhZ2dhYmxlKTtcbiAgICB9XG4gICAgdGhpcy5tb3Zlcy5kZWxldGUod29ya3NwYWNlKTtcbiAgICB3b3Jrc3BhY2Uuc2V0S2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcyhmYWxzZSk7XG5cbiAgICBpZiAoaW5mby5vbk1vdmVGaW5pc2hlZCkge1xuICAgICAgaW5mby5vbk1vdmVGaW5pc2hlZCgpO1xuICAgIH1cblxuICAgIC8vIFJlbmRlciBvbiBuZXh0IGZyYW1lIGZvciBwcm9wZXIgYmxvY2sgcG9zaXRpb25pbmdcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgaWYgKGluZm8uZHJhZ2dhYmxlIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgICAgbGV0IHJvb3RCbG9jayA9IGluZm8uZHJhZ2dhYmxlO1xuICAgICAgICBsZXQgcGFyZW50ID0gaW5mby5kcmFnZ2FibGUuZ2V0UGFyZW50KCk7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICAgIHJvb3RCbG9jayA9IHBhcmVudDtcbiAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50KCkgYXMgQmxvY2tTdmc7XG4gICAgICAgIH1cblxuICAgICAgICByb290QmxvY2sucmVuZGVyKCk7XG5cbiAgICAgICAgaWYgKHJvb3RCbG9jayAhPT0gaW5mby5kcmFnZ2FibGUpIHtcbiAgICAgICAgICBpbmZvLmRyYWdnYWJsZS5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB3b3Jrc3BhY2UucmVuZGVyKCk7XG4gICAgICB0aGlzLnNjcm9sbEN1cnJlbnRFbGVtZW50SW50b1ZpZXcod29ya3NwYWNlKTtcbiAgICAgIGdldEZvY3VzTWFuYWdlcigpLmZvY3VzTm9kZShpbmZvLmRyYWdnYWJsZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWN0aW9uIHRvIG1vdmUgdGhlIGl0ZW0gYmVpbmcgbW92ZWQgaW4gdGhlIGdpdmVuIGRpcmVjdGlvbixcbiAgICogY29uc3RyYWluZWQgdG8gdmFsaWQgYXR0YWNobWVudCBwb2ludHMgKGlmIGFueSkuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byBtb3ZlIG9uLlxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gbW92ZSB0aGUgZHJhZ2dlZCBpdGVtLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmZiB0aGlzIGFjdGlvbiBhcHBsaWVzIGFuZCBoYXMgYmVlbiBwZXJmb3JtZWQuXG4gICAqL1xuICBtb3ZlQ29uc3RyYWluZWQod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsIGRpcmVjdGlvbjogRGlyZWN0aW9uKSB7XG4gICAgaWYgKCF3b3Jrc3BhY2UpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5tb3Zlcy5nZXQod29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHRocm93IG5ldyBFcnJvcignbm8gbW92ZSBpbmZvIGZvciB3b3Jrc3BhY2UnKTtcblxuICAgIGlmIChpbmZvLmRyYWdnYWJsZSBpbnN0YW5jZW9mIGNvbW1lbnRzLlJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMubW92ZVVuY29uc3RyYWluZWQod29ya3NwYWNlLCBkaXJlY3Rpb24pO1xuICAgIH1cblxuICAgIGluZm8uZHJhZ2dlci5vbkRyYWcoXG4gICAgICBpbmZvLmZha2VQb2ludGVyRXZlbnQoJ3BvaW50ZXJtb3ZlJywgZGlyZWN0aW9uKSxcbiAgICAgIGluZm8udG90YWxEZWx0YS5jbG9uZSgpLnNjYWxlKHdvcmtzcGFjZS5zY2FsZSksXG4gICAgKTtcblxuICAgIGluZm8udXBkYXRlVG90YWxEZWx0YSgpO1xuICAgIHRoaXMuc2Nyb2xsQ3VycmVudEVsZW1lbnRJbnRvVmlldyhcbiAgICAgIHdvcmtzcGFjZSxcbiAgICAgIENPTlNUUkFJTkVEX0FERElUSU9OQUxfUEFERElORyxcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiB0byBtb3ZlIHRoZSBpdGVtIGJlaW5nIG1vdmVkIGluIHRoZSBnaXZlbiBkaXJlY3Rpb24sXG4gICAqIHdpdGhvdXQgY29uc3RyYWludC5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIG1vdmUgb24uXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiB0byBtb3ZlIHRoZSBkcmFnZ2VkIGl0ZW0uXG4gICAqIEByZXR1cm5zIFRydWUgaWZmIHRoaXMgYWN0aW9uIGFwcGxpZXMgYW5kIGhhcyBiZWVuIHBlcmZvcm1lZC5cbiAgICovXG4gIG1vdmVVbmNvbnN0cmFpbmVkKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLCBkaXJlY3Rpb246IERpcmVjdGlvbik6IGJvb2xlYW4ge1xuICAgIGlmICghd29ya3NwYWNlKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMubW92ZXMuZ2V0KHdvcmtzcGFjZSk7XG4gICAgaWYgKCFpbmZvKSB0aHJvdyBuZXcgRXJyb3IoJ25vIG1vdmUgaW5mbyBmb3Igd29ya3NwYWNlJyk7XG5cbiAgICBjb25zdCB7eCwgeX0gPSBnZXRYWUZyb21EaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICBpbmZvLnRvdGFsRGVsdGEueCArPSB4ICogVU5DT05TVFJBSU5FRF9NT1ZFX0RJU1RBTkNFICogd29ya3NwYWNlLnNjYWxlO1xuICAgIGluZm8udG90YWxEZWx0YS55ICs9IHkgKiBVTkNPTlNUUkFJTkVEX01PVkVfRElTVEFOQ0UgKiB3b3Jrc3BhY2Uuc2NhbGU7XG5cbiAgICBpbmZvLmRyYWdnZXIub25EcmFnKFxuICAgICAgaW5mby5mYWtlUG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLFxuICAgICAgaW5mby50b3RhbERlbHRhLmNsb25lKCkuc2NhbGUod29ya3NwYWNlLnNjYWxlKSxcbiAgICApO1xuICAgIHRoaXMuc2Nyb2xsQ3VycmVudEVsZW1lbnRJbnRvVmlldyh3b3Jrc3BhY2UpO1xuICAgIHRoaXMubW92ZUluZGljYXRvcj8udXBkYXRlTG9jYXRpb24oKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb25rZXlwYXRjaDogcmVwbGFjZSB0aGUgYmxvY2sncyBkcmFnIHN0cmF0ZWd5IGFuZCBjYWNoZSB0aGUgb2xkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIHBhdGNoLlxuICAgKiBAcGFyYW0gbW92ZVR5cGUgV2hldGhlciB0aGlzIGlzIGFuIGluc2VydCBvciBhIG1vdmUuXG4gICAqIEBwYXJhbSBzdGFydFBvaW50IFdoZXJlIHRvIHN0YXJ0IHRoZSBtb3ZlLCBvciBudWxsIHRvIHVzZSB0aGUgY3VycmVudFxuICAgKiAgICAgbG9jYXRpb24gaWYgYW55LlxuICAgKiBAcGFyYW0gb25Nb3ZlRmluaXNoZWRcbiAgICovXG4gIHByaXZhdGUgcGF0Y2hEcmFnU3RyYXRlZ3koXG4gICAgYmxvY2s6IEJsb2NrU3ZnLFxuICAgIG1vdmVUeXBlOiBNb3ZlVHlwZSxcbiAgICBzdGFydFBvaW50OiBSZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsLFxuICAgIG9uTW92ZUZpbmlzaGVkPzogKCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBibG9jay5kcmFnU3RyYXRlZ3kgaXMgcHJpdmF0ZS5cbiAgICBjb25zdCBjdXJyZW50U3RyYXRlZ3kgPSBibG9jay5kcmFnU3RyYXRlZ3k7XG5cbiAgICB0aGlzLm9sZERyYWdTdHJhdGVnaWVzLnNldChibG9jaywgY3VycmVudFN0cmF0ZWd5KTtcblxuICAgIGNvbnN0IG9uTW92ZUNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gYmxvY2sud29ya3NwYWNlIGFzIFdvcmtzcGFjZVN2ZztcbiAgICAgIHRoaXMuZmluaXNoTW92ZSh3b3Jrc3BhY2UpO1xuICAgIH07XG5cbiAgICBjb25zdCBrZXlib2FyZERyYWdTdHJhdGVneSA9IG5ldyBLZXlib2FyZERyYWdTdHJhdGVneShcbiAgICAgIGJsb2NrLFxuICAgICAgbW92ZVR5cGUsXG4gICAgICBzdGFydFBvaW50LFxuICAgICAgdGhpcy5oaWdobGlnaHRDb25uZWN0aW9ucyxcbiAgICAgIG9uTW92ZUNvbXBsZXRlLFxuICAgICAgb25Nb3ZlRmluaXNoZWQsXG4gICAgKTtcbiAgICBrZXlib2FyZERyYWdTdHJhdGVneS5zZXRGYXR0ZXJDb25uZWN0aW9ucyh0aGlzLmZhdHRlckNvbm5lY3Rpb25zKTtcbiAgICBrZXlib2FyZERyYWdTdHJhdGVneS5zZXRDb25uZWN0aW9uU2l6ZSh0aGlzLmNvbm5lY3Rpb25TaXplKTtcbiAgICBibG9jay5zZXREcmFnU3RyYXRlZ3koa2V5Ym9hcmREcmFnU3RyYXRlZ3kpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuZG8gdGhlIG1vbmtleXBhdGNoaW5nIG9mIHRoZSBibG9jaydzIGRyYWcgc3RyYXRlZ3kuXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayBUaGUgYmxvY2sgdG8gcGF0Y2guXG4gICAqL1xuICBwcml2YXRlIHVucGF0Y2hEcmFnU3RyYXRlZ3koYmxvY2s6IEJsb2NrU3ZnKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYmxvY2suZHJhZ1N0cmF0ZWd5IGlzIHByaXZhdGVcbiAgICAgIGNvbnN0IGN1cnJlbnRTdHJhdGVneSA9IGJsb2NrLmRyYWdTdHJhdGVneTtcbiAgICAgIGlmIChjdXJyZW50U3RyYXRlZ3kgaW5zdGFuY2VvZiBLZXlib2FyZERyYWdTdHJhdGVneSkge1xuICAgICAgICBjdXJyZW50U3RyYXRlZ3kuc2V0Q2xpY2tBbmRTdGlja01vZGUoZmFsc2UpO1xuICAgICAgICBjdXJyZW50U3RyYXRlZ3kuY29ubmVjdGlvbkhpZ2hsaWdodGVyLmNsZWFySGlnaGxpZ2h0cygpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRTdHJhdGVneSA9IHRoaXMub2xkRHJhZ1N0cmF0ZWdpZXMuZ2V0KGJsb2NrKTtcbiAgICAgIGlmIChvbGRTdHJhdGVneSkge1xuICAgICAgICBibG9jay5zZXREcmFnU3RyYXRlZ3kob2xkU3RyYXRlZ3kpO1xuICAgICAgICB0aGlzLm9sZERyYWdTdHJhdGVnaWVzLmRlbGV0ZShibG9jayk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFNpbGVudGx5IGZhaWwgZHVyaW5nIGNsZWFudXBcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xscyB0aGUgY3VycmVudCBlbGVtZW50IGludG8gdmlldy5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGdldCBjdXJyZW50IGVsZW1lbnQgZnJvbS5cbiAgICogQHBhcmFtIHBhZGRpbmcgQW1vdW50IG9mIHNwYWNpbmcgdG8gcHV0IGJldHdlZW4gdGhlIGJvdW5kcyBhbmQgdGhlIGVkZ2Ugb2ZcbiAgICogICAgIHRoZSB3b3Jrc3BhY2UncyB2aWV3cG9ydC5cbiAgICovXG4gIHByaXZhdGUgc2Nyb2xsQ3VycmVudEVsZW1lbnRJbnRvVmlldyh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZywgcGFkZGluZyA9IDApIHtcbiAgICBpZiAodGhpcy5zaG91bGREaXNhYmxlQXV0b1Njcm9sbD8uKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkcmFnZ2FibGUgPSB0aGlzLm1vdmVzLmdldCh3b3Jrc3BhY2UpPy5kcmFnZ2FibGU7XG4gICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgY29uc3QgYm91bmRzID0gKFxuICAgICAgICBkcmFnZ2FibGUgaW5zdGFuY2VvZiBCbG9ja1N2Z1xuICAgICAgICAgID8gZHJhZ2dhYmxlLmdldEJvdW5kaW5nUmVjdGFuZ2xlV2l0aG91dENoaWxkcmVuKClcbiAgICAgICAgICA6IGRyYWdnYWJsZS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpXG4gICAgICApLmNsb25lKCk7XG4gICAgICBib3VuZHMudG9wIC09IHBhZGRpbmc7XG4gICAgICBib3VuZHMuYm90dG9tICs9IHBhZGRpbmc7XG4gICAgICBib3VuZHMubGVmdCAtPSBwYWRkaW5nO1xuICAgICAgYm91bmRzLnJpZ2h0ICs9IHBhZGRpbmc7XG4gICAgICB3b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcoYm91bmRzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGFuIGVsZW1lbnQgaXMgYSBjb25uZWN0aW9uIGhpZ2hsaWdodCBvciBpcyBjb250YWluZWQgd2l0aGluIG9uZS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVsZW1lbnQgaXMgb3IgaXMgaW5zaWRlIGEgY29ubmVjdGlvbiBoaWdobGlnaHQuXG4gICAqL1xuICBwcml2YXRlIGlzQ29ubmVjdGlvbkhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudDogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50LmNsYXNzTGlzdCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBlbGVtZW50IG9yIGFueSBhbmNlc3RvciBoYXMgdGhlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IGNsYXNzXG4gICAgbGV0IGN1cnJlbnQgPSBlbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0Py5jb250YWlucygnYmxvY2tseVBvdGVudGlhbENvbm5lY3Rpb24nKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdD8uY29udGFpbnMoJ2Jsb2NrbHlDb25uZWN0aW9uSGlnaGxpZ2h0TGF5ZXInKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vbmtleXBhdGNoOiBvdmVycmlkZSBlaXRoZXIgd291bGREZWxldGVEcmFnZ2FibGUgb3Igc2hvdWxkUmV0dXJuVG9TdGFydCxcbiAgICogYmFzZWQgb24gd2hldGhlciB0aGlzIHdhcyBhbiBpbnNlcnRpb24gb2YgYSBuZXcgYmxvY2sgb3IgYSBtb3ZlbWVudCBvZlxuICAgKiBhbiBleGlzdGluZyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gZHJhZ2dlciBUaGUgZHJhZ2dlciB0byBwYXRjaC5cbiAgICogQHBhcmFtIG1vdmVUeXBlIFdoZXRoZXIgdGhpcyBpcyBhbiBpbnNlcnQgb3IgYSBtb3ZlLlxuICAgKi9cbiAgcHJpdmF0ZSBwYXRjaERyYWdnZXIoZHJhZ2dlcjogZHJhZ2dpbmcuRHJhZ2dlciwgbW92ZVR5cGU6IE1vdmVUeXBlKSB7XG4gICAgaWYgKG1vdmVUeXBlID09PSBNb3ZlVHlwZS5JbnNlcnQpIHtcbiAgICAgIC8vIE1vbmtleSBwYXRjaCBkcmFnZ2VyIHRvIHRyaWdnZXIgZGVsZXRlLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIChkcmFnZ2VyIGFzIGFueSkud291bGREZWxldGVEcmFnZ2FibGUgPSAoKSA9PiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNb25rZXkgcGF0Y2ggZHJhZ2dlciB0byB0cmlnZ2VyIGNhbGwgdG8gZHJhZ2dhYmxlLnJldmVydERyYWcuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgKGRyYWdnZXIgYXMgYW55KS5zaG91bGRSZXR1cm5Ub1N0YXJ0ID0gKCkgPT4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudGx5IGluLXByb2dyZXNzIG1vdmUgZm9yIGEgZ2l2ZW5cbiAqIFdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVJbmZvIHtcbiAgLyoqIFRvdGFsIGRpc3RhbmNlIG1vdmVkLCBpbiB3b3Jrc3BhY2UgdW5pdHMuICovXG4gIHRvdGFsRGVsdGEgPSBuZXcgdXRpbHMuQ29vcmRpbmF0ZSgwLCAwKTtcbiAgcmVhZG9ubHkgcGFyZW50TmV4dDogQ29ubmVjdGlvbiB8IG51bGwgPSBudWxsO1xuICByZWFkb25seSBwYXJlbnRJbnB1dDogQ29ubmVjdGlvbiB8IG51bGwgPSBudWxsO1xuICByZWFkb25seSBzdGFydExvY2F0aW9uOiB1dGlscy5Db29yZGluYXRlO1xuICByZWFkb25seSBvbk1vdmVGaW5pc2hlZD86ICgpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgcmVhZG9ubHkgZHJhZ2dhYmxlOiBJRHJhZ2dhYmxlICYgSUZvY3VzYWJsZU5vZGUgJiBJQm91bmRlZEVsZW1lbnQsXG4gICAgcmVhZG9ubHkgZHJhZ2dlcjogSURyYWdnZXIsXG4gICAgcmVhZG9ubHkgYmx1ckxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICAgIG9uTW92ZUZpbmlzaGVkPzogKCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgaWYgKGRyYWdnYWJsZSBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICB0aGlzLnBhcmVudE5leHQgPSBkcmFnZ2FibGUucHJldmlvdXNDb25uZWN0aW9uPy50YXJnZXRDb25uZWN0aW9uID8/IG51bGw7XG4gICAgICB0aGlzLnBhcmVudElucHV0ID0gZHJhZ2dhYmxlLm91dHB1dENvbm5lY3Rpb24/LnRhcmdldENvbm5lY3Rpb24gPz8gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5zdGFydExvY2F0aW9uID0gZHJhZ2dhYmxlLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtcbiAgICB0aGlzLm9uTW92ZUZpbmlzaGVkID0gb25Nb3ZlRmluaXNoZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgZmFrZSBwb2ludGVyIGV2ZW50IGZvciBkcmFnZ2luZy5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgV2hpY2ggdHlwZSBvZiBwb2ludGVyIGV2ZW50IHRvIGNyZWF0ZS5cbiAgICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIGlmIHRoaXMgbW92ZW1lbnQgaXMgYSBjb25zdHJhaW5lZCBkcmFnLlxuICAgKiBAcmV0dXJucyBBIHN5bnRoZXRpYyBQb2ludGVyRXZlbnQgdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgQmxvY2tseSdzXG4gICAqICAgICBkcmFnZ2luZyBjb2RlLlxuICAgKi9cbiAgZmFrZVBvaW50ZXJFdmVudCh0eXBlOiBzdHJpbmcsIGRpcmVjdGlvbj86IERpcmVjdGlvbik6IFBvaW50ZXJFdmVudCB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB1dGlscy5zdmdNYXRoLndzVG9TY3JlZW5Db29yZGluYXRlcyhcbiAgICAgIHRoaXMud29ya3NwYWNlLFxuICAgICAgbmV3IHV0aWxzLkNvb3JkaW5hdGUoXG4gICAgICAgIHRoaXMuc3RhcnRMb2NhdGlvbi54ICsgdGhpcy50b3RhbERlbHRhLngsXG4gICAgICAgIHRoaXMuc3RhcnRMb2NhdGlvbi55ICsgdGhpcy50b3RhbERlbHRhLnksXG4gICAgICApLFxuICAgICk7XG4gICAgY29uc3QgdGlsdHMgPSBnZXRYWUZyb21EaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICByZXR1cm4gbmV3IFBvaW50ZXJFdmVudCh0eXBlLCB7XG4gICAgICBjbGllbnRYOiBjb29yZGluYXRlcy54LFxuICAgICAgY2xpZW50WTogY29vcmRpbmF0ZXMueSxcbiAgICAgIHRpbHRYOiB0aWx0cy54LFxuICAgICAgdGlsdFk6IHRpbHRzLnksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGtleWJvYXJkIGRyYWcgbWF5IGhhdmUgbW92ZWQgYSBibG9jayB0byBhbiBhcHByb3ByaWF0ZSBsb2NhdGlvblxuICAgKiBmb3IgYSBwcmV2aWV3LiBVcGRhdGUgdGhlIHNhdmVkIGRlbHRhIHRvIHJlZmxlY3QgdGhlIGVsZW1lbnQncyBuZXdcbiAgICogbG9jYXRpb24sIHNvIHRoYXQgaXQgZG9lcyBub3QganVtcCBkdXJpbmcgdGhlIG5leHQgdW5jb25zdHJhaW5lZCBtb3ZlLlxuICAgKi9cbiAgdXBkYXRlVG90YWxEZWx0YSgpIHtcbiAgICBpZiAodGhpcy5kcmFnZ2FibGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgdGhpcy50b3RhbERlbHRhID0gbmV3IHV0aWxzLkNvb3JkaW5hdGUoXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlLnJlbGF0aXZlQ29vcmRzLnggLSB0aGlzLnN0YXJ0TG9jYXRpb24ueCxcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUucmVsYXRpdmVDb29yZHMueSAtIHRoaXMuc3RhcnRMb2NhdGlvbi55LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50b3RhbERlbHRhID0gbmV3IHV0aWxzLkNvb3JkaW5hdGUoXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkubGVmdCAtIHRoaXMuc3RhcnRMb2NhdGlvbi54LFxuICAgICAgICB0aGlzLmRyYWdnYWJsZS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLnRvcCAtIHRoaXMuc3RhcnRMb2NhdGlvbi55LFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/actions/mover.ts\n");

/***/ }),

/***/ "../../src/actions/stack_navigation.ts":
/*!*********************************************!*\
  !*** ../../src/actions/stack_navigation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackNavigationAction: () => (/* binding */ StackNavigationAction)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n/**\n * Class for registering a shortcut for quick movement between top level bounds\n * in the workspace.\n */\nclass StackNavigationAction {\n    constructor() {\n        this.stackShortcuts = [];\n    }\n    install() {\n        const preconditionFn = (workspace) => !!getCurNodeRoot(workspace);\n        function getCurNodeRoot(workspace) {\n            var _a, _b;\n            const cursor = workspace.getCursor();\n            // The fallback case includes workspace comments.\n            return (_b = (_a = cursor.getSourceBlock()) === null || _a === void 0 ? void 0 : _a.getRootBlock()) !== null && _b !== void 0 ? _b : cursor.getCurNode();\n        }\n        const previousStackShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PREVIOUS_STACK,\n            preconditionFn,\n            callback: (workspace) => {\n                const curNodeRoot = getCurNodeRoot(workspace);\n                if (!curNodeRoot)\n                    return false;\n                const prevRoot = workspace\n                    .getNavigator()\n                    .getPreviousSibling(curNodeRoot);\n                if (!prevRoot)\n                    return false;\n                workspace.getCursor().setCurNode(prevRoot);\n                return true;\n            },\n            keyCodes: [blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.B],\n        };\n        const nextStackShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.NEXT_STACK,\n            preconditionFn,\n            callback: (workspace) => {\n                const curNodeRoot = getCurNodeRoot(workspace);\n                if (!curNodeRoot)\n                    return false;\n                const nextRoot = workspace.getNavigator().getNextSibling(curNodeRoot);\n                if (!nextRoot)\n                    return false;\n                workspace.getCursor().setCurNode(nextRoot);\n                return true;\n            },\n            keyCodes: [blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.N],\n        };\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(previousStackShortcut);\n        this.stackShortcuts.push(previousStackShortcut);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(nextStackShortcut);\n        this.stackShortcuts.push(nextStackShortcut);\n    }\n    /**\n     * Unregisters the shortcut.\n     */\n    uninstall() {\n        this.stackShortcuts.forEach((shortcut) => blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name));\n        this.stackShortcuts.length = 0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL3N0YWNrX25hdmlnYXRpb24udHM/NjcyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7U2hvcnRjdXRSZWdpc3RyeSwgV29ya3NwYWNlU3ZnLCB1dGlsc30gZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIENsYXNzIGZvciByZWdpc3RlcmluZyBhIHNob3J0Y3V0IGZvciBxdWljayBtb3ZlbWVudCBiZXR3ZWVuIHRvcCBsZXZlbCBib3VuZHNcbiAqIGluIHRoZSB3b3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFja05hdmlnYXRpb25BY3Rpb24ge1xuICBwcml2YXRlIHN0YWNrU2hvcnRjdXRzOiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXRbXSA9IFtdO1xuXG4gIGluc3RhbGwoKSB7XG4gICAgY29uc3QgcHJlY29uZGl0aW9uRm4gPSAod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpID0+XG4gICAgICAhIWdldEN1ck5vZGVSb290KHdvcmtzcGFjZSk7XG5cbiAgICBmdW5jdGlvbiBnZXRDdXJOb2RlUm9vdCh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgICAgY29uc3QgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgICAgLy8gVGhlIGZhbGxiYWNrIGNhc2UgaW5jbHVkZXMgd29ya3NwYWNlIGNvbW1lbnRzLlxuICAgICAgcmV0dXJuIGN1cnNvci5nZXRTb3VyY2VCbG9jaygpPy5nZXRSb290QmxvY2soKSA/PyBjdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzU3RhY2tTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlBSRVZJT1VTX1NUQUNLLFxuICAgICAgcHJlY29uZGl0aW9uRm4sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJOb2RlUm9vdCA9IGdldEN1ck5vZGVSb290KHdvcmtzcGFjZSk7XG4gICAgICAgIGlmICghY3VyTm9kZVJvb3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcHJldlJvb3QgPSB3b3Jrc3BhY2VcbiAgICAgICAgICAuZ2V0TmF2aWdhdG9yKClcbiAgICAgICAgICAuZ2V0UHJldmlvdXNTaWJsaW5nKGN1ck5vZGVSb290KTtcbiAgICAgICAgaWYgKCFwcmV2Um9vdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZShwcmV2Um9vdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbdXRpbHMuS2V5Q29kZXMuQl0sXG4gICAgfTtcblxuICAgIGNvbnN0IG5leHRTdGFja1Nob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTkVYVF9TVEFDSyxcbiAgICAgIHByZWNvbmRpdGlvbkZuLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHtcbiAgICAgICAgY29uc3QgY3VyTm9kZVJvb3QgPSBnZXRDdXJOb2RlUm9vdCh3b3Jrc3BhY2UpO1xuICAgICAgICBpZiAoIWN1ck5vZGVSb290KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IG5leHRSb290ID0gd29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldE5leHRTaWJsaW5nKGN1ck5vZGVSb290KTtcbiAgICAgICAgaWYgKCFuZXh0Um9vdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZShuZXh0Um9vdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbdXRpbHMuS2V5Q29kZXMuTl0sXG4gICAgfTtcblxuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIocHJldmlvdXNTdGFja1Nob3J0Y3V0KTtcbiAgICB0aGlzLnN0YWNrU2hvcnRjdXRzLnB1c2gocHJldmlvdXNTdGFja1Nob3J0Y3V0KTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKG5leHRTdGFja1Nob3J0Y3V0KTtcbiAgICB0aGlzLnN0YWNrU2hvcnRjdXRzLnB1c2gobmV4dFN0YWNrU2hvcnRjdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIHRoZSBzaG9ydGN1dC5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICB0aGlzLnN0YWNrU2hvcnRjdXRzLmZvckVhY2goKHNob3J0Y3V0KSA9PlxuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKHNob3J0Y3V0Lm5hbWUpLFxuICAgICk7XG4gICAgdGhpcy5zdGFja1Nob3J0Y3V0cy5sZW5ndGggPSAwO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/actions/stack_navigation.ts\n");

/***/ }),

/***/ "../../src/actions/ws_movement.ts":
/*!****************************************!*\
  !*** ../../src/actions/ws_movement.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkspaceMovement: () => (/* binding */ WorkspaceMovement)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"../../src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\nconst createSerializedKey = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.createSerializedKey.bind(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry);\n/**\n * Logic for free movement of the cursor on the workspace with keyboard\n * shortcuts.\n */\nclass WorkspaceMovement {\n    constructor(navigation) {\n        this.navigation = navigation;\n        this.shortcuts = [\n            /** Move the cursor on the workspace to the left. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_LEFT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, -1, 0),\n                keyCodes: [createSerializedKey(KeyCodes.A, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor on the workspace to the right. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_RIGHT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, 1, 0),\n                keyCodes: [createSerializedKey(KeyCodes.D, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor on the workspace up. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_UP,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, 0, -1),\n                keyCodes: [createSerializedKey(KeyCodes.W, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor on the workspace down. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_DOWN,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, 0, 1),\n                keyCodes: [createSerializedKey(KeyCodes.S, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor to the workspace. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CREATE_WS_CURSOR,\n                preconditionFn: (workspace) => {\n                    return true;\n                },\n                callback: (workspace) => {\n                    const targetWorkspace = workspace.isFlyout\n                        ? workspace.targetWorkspace\n                        : workspace;\n                    if (!targetWorkspace)\n                        return false;\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    return this.createWSCursor(targetWorkspace);\n                },\n                keyCodes: [KeyCodes.W],\n            },\n        ];\n    }\n    /**\n     * Install the shortcuts.\n     */\n    install() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n    }\n    /**\n     * Uninstall the shortcuts.\n     */\n    uninstall() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name);\n        }\n    }\n    /**\n     * Moves the workspace cursor in the given direction.\n     *\n     * @param workspace The workspace the cursor is on.\n     * @param xDirection -1 to move cursor left. 1 to move cursor right.\n     * @param yDirection -1 to move cursor up. 1 to move cursor down.\n     * @returns True if the current node is a workspace, false\n     *     otherwise.\n     */\n    moveWSCursor(workspace, xDirection, yDirection) {\n        return false;\n    }\n    /**\n     * Moves the cursor to the workspace near the origin.\n     *\n     * @param workspace The workspace the cursor is on.\n     */\n    createWSCursor(workspace) {\n        workspace.getCursor().setCurNode(workspace);\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixNQUFNLGVBQWUsR0FBRyxTQUFTLENBQUMsUUFBUTt3QkFDeEMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxlQUFlO3dCQUMzQixDQUFDLENBQUMsU0FBUyxDQUFDO29CQUNkLElBQUksQ0FBQyxlQUFlO3dCQUFFLE9BQU8sS0FBSyxDQUFDO29CQUNuQyxpRUFBNEIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQy9DLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDOUMsQ0FBQztnQkFDRCxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2FBQ3ZCO1NBQ0YsQ0FBQztJQXJEMkMsQ0FBQztJQXVEOUM7O09BRUc7SUFDSCxPQUFPO1FBQ0wsS0FBSyxNQUFNLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDdEMscURBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvQyxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUztRQUNQLEtBQUssTUFBTSxRQUFRLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3RDLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RELENBQUM7SUFDSCxDQUFDO0lBRUQ7Ozs7Ozs7O09BUUc7SUFDSCxZQUFZLENBQ1YsU0FBdUIsRUFDdkIsVUFBa0IsRUFDbEIsVUFBa0I7UUFFbEIsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILGNBQWMsQ0FBQyxTQUF1QjtRQUNwQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9hY3Rpb25zL3dzX21vdmVtZW50LnRzP2I0NTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICB1dGlscyBhcyBCbG9ja2x5VXRpbHMsXG4gIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIsXG59IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7V29ya3NwYWNlU3ZnfSBmcm9tICdibG9ja2x5JztcbmltcG9ydCB7TmF2aWdhdGlvbn0gZnJvbSAnLi4vbmF2aWdhdGlvbic7XG5cbmNvbnN0IEtleUNvZGVzID0gQmxvY2tseVV0aWxzLktleUNvZGVzO1xuY29uc3QgY3JlYXRlU2VyaWFsaXplZEtleSA9IFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleS5iaW5kKFxuICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LFxuKTtcblxuLyoqXG4gKiBMb2dpYyBmb3IgZnJlZSBtb3ZlbWVudCBvZiB0aGUgY3Vyc29yIG9uIHRoZSB3b3Jrc3BhY2Ugd2l0aCBrZXlib2FyZFxuICogc2hvcnRjdXRzLlxuICovXG5leHBvcnQgY2xhc3MgV29ya3NwYWNlTW92ZW1lbnQge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hdmlnYXRpb246IE5hdmlnYXRpb24pIHt9XG5cbiAgcHJpdmF0ZSBzaG9ydGN1dHM6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dFtdID0gW1xuICAgIC8qKiBNb3ZlIHRoZSBjdXJzb3Igb24gdGhlIHdvcmtzcGFjZSB0byB0aGUgbGVmdC4gKi9cbiAgICB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTU9WRV9XU19DVVJTT1JfTEVGVCxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5RWRpdCh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZVdTQ3Vyc29yKHdvcmtzcGFjZSwgLTEsIDApLFxuICAgICAga2V5Q29kZXM6IFtjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLkEsIFtLZXlDb2Rlcy5TSElGVF0pXSxcbiAgICB9LFxuICAgIC8qKiBNb3ZlIHRoZSBjdXJzb3Igb24gdGhlIHdvcmtzcGFjZSB0byB0aGUgcmlnaHQuICovXG4gICAge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLk1PVkVfV1NfQ1VSU09SX1JJR0hULFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3ZlV1NDdXJzb3Iod29ya3NwYWNlLCAxLCAwKSxcbiAgICAgIGtleUNvZGVzOiBbY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5ELCBbS2V5Q29kZXMuU0hJRlRdKV0sXG4gICAgfSxcbiAgICAvKiogTW92ZSB0aGUgY3Vyc29yIG9uIHRoZSB3b3Jrc3BhY2UgdXAuICovXG4gICAge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLk1PVkVfV1NfQ1VSU09SX1VQLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3ZlV1NDdXJzb3Iod29ya3NwYWNlLCAwLCAtMSksXG4gICAgICBrZXlDb2RlczogW2NyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuVywgW0tleUNvZGVzLlNISUZUXSldLFxuICAgIH0sXG5cbiAgICAvKiogTW92ZSB0aGUgY3Vyc29yIG9uIHRoZSB3b3Jrc3BhY2UgZG93bi4gKi9cbiAgICB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTU9WRV9XU19DVVJTT1JfRE9XTixcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5RWRpdCh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZVdTQ3Vyc29yKHdvcmtzcGFjZSwgMCwgMSksXG4gICAgICBrZXlDb2RlczogW2NyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuUywgW0tleUNvZGVzLlNISUZUXSldLFxuICAgIH0sXG5cbiAgICAvKiogTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSB3b3Jrc3BhY2UuICovXG4gICAge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkNSRUFURV9XU19DVVJTT1IsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRXb3Jrc3BhY2UgPSB3b3Jrc3BhY2UuaXNGbHlvdXRcbiAgICAgICAgICA/IHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2VcbiAgICAgICAgICA6IHdvcmtzcGFjZTtcbiAgICAgICAgaWYgKCF0YXJnZXRXb3Jrc3BhY2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRJc0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlV1NDdXJzb3IodGFyZ2V0V29ya3NwYWNlKTtcbiAgICAgIH0sXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLlddLFxuICAgIH0sXG4gIF07XG5cbiAgLyoqXG4gICAqIEluc3RhbGwgdGhlIHNob3J0Y3V0cy5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgZm9yIChjb25zdCBzaG9ydGN1dCBvZiB0aGlzLnNob3J0Y3V0cykge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihzaG9ydGN1dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuaW5zdGFsbCB0aGUgc2hvcnRjdXRzLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIGZvciAoY29uc3Qgc2hvcnRjdXQgb2YgdGhpcy5zaG9ydGN1dHMpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihzaG9ydGN1dC5uYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIHdvcmtzcGFjZSBjdXJzb3IgaW4gdGhlIGdpdmVuIGRpcmVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRoZSBjdXJzb3IgaXMgb24uXG4gICAqIEBwYXJhbSB4RGlyZWN0aW9uIC0xIHRvIG1vdmUgY3Vyc29yIGxlZnQuIDEgdG8gbW92ZSBjdXJzb3IgcmlnaHQuXG4gICAqIEBwYXJhbSB5RGlyZWN0aW9uIC0xIHRvIG1vdmUgY3Vyc29yIHVwLiAxIHRvIG1vdmUgY3Vyc29yIGRvd24uXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGN1cnJlbnQgbm9kZSBpcyBhIHdvcmtzcGFjZSwgZmFsc2VcbiAgICogICAgIG90aGVyd2lzZS5cbiAgICovXG4gIG1vdmVXU0N1cnNvcihcbiAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICB4RGlyZWN0aW9uOiBudW1iZXIsXG4gICAgeURpcmVjdGlvbjogbnVtYmVyLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgd29ya3NwYWNlIG5lYXIgdGhlIG9yaWdpbi5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRoZSBjdXJzb3IgaXMgb24uXG4gICAqL1xuICBjcmVhdGVXU0N1cnNvcih3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKHdvcmtzcGFjZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/actions/ws_movement.ts\n");

/***/ }),

/***/ "../../src/build_info.ts":
/*!*******************************!*\
  !*** ../../src/build_info.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD_INFO: () => (/* binding */ BUILD_INFO)\n/* harmony export */ });\n/**\n * Auto-generated build information.\n * This file is generated at build time and should not be edited manually.\n */\nconst BUILD_INFO = {\n    gitSha: '2e4a833',\n    isDirty: true,\n    buildTime: '2025-11-21T13:59:44.241Z',\n    versionLabel: '2e4a833*',\n};\n// Hot reload integration: expose build info globally for development\n// This allows the UI to detect when build info has been updated\nif (typeof window !== 'undefined') {\n    window.__BUILD_INFO__ = BUILD_INFO;\n    // Also notify any existing build info components of the update\n    if (typeof window.dispatchEvent === 'function') {\n        setTimeout(() => {\n            const event = new CustomEvent('buildInfoUpdated', {\n                detail: BUILD_INFO\n            });\n            window.dispatchEvent(event);\n        }, 100);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2J1aWxkX2luZm8udHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7R0FHRztBQVNJLE1BQU0sVUFBVSxHQUFjO0lBQ25DLE1BQU0sRUFBRSxTQUFTO0lBQ2pCLE9BQU8sRUFBRSxJQUFJO0lBQ2IsU0FBUyxFQUFFLDBCQUEwQjtJQUNyQyxZQUFZLEVBQUUsVUFBVTtDQUN6QixDQUFDO0FBRUYscUVBQXFFO0FBQ3JFLGdFQUFnRTtBQUNoRSxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRSxDQUFDO0lBQ2pDLE1BQWMsQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFDO0lBRTVDLCtEQUErRDtJQUMvRCxJQUFJLE9BQU8sTUFBTSxDQUFDLGFBQWEsS0FBSyxVQUFVLEVBQUUsQ0FBQztRQUMvQyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsTUFBTSxLQUFLLEdBQUcsSUFBSSxXQUFXLENBQUMsa0JBQWtCLEVBQUU7Z0JBQ2hELE1BQU0sRUFBRSxVQUFVO2FBQ25CLENBQUMsQ0FBQztZQUNILE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2J1aWxkX2luZm8udHM/M2Y5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dG8tZ2VuZXJhdGVkIGJ1aWxkIGluZm9ybWF0aW9uLlxuICogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBhdCBidWlsZCB0aW1lIGFuZCBzaG91bGQgbm90IGJlIGVkaXRlZCBtYW51YWxseS5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkSW5mbyB7XG4gIGdpdFNoYTogc3RyaW5nO1xuICBpc0RpcnR5OiBib29sZWFuO1xuICBidWlsZFRpbWU6IHN0cmluZztcbiAgdmVyc2lvbkxhYmVsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBCVUlMRF9JTkZPOiBCdWlsZEluZm8gPSB7XG4gIGdpdFNoYTogJzJlNGE4MzMnLFxuICBpc0RpcnR5OiB0cnVlLFxuICBidWlsZFRpbWU6ICcyMDI1LTExLTIxVDEzOjU5OjQ0LjI0MVonLFxuICB2ZXJzaW9uTGFiZWw6ICcyZTRhODMzKicsXG59O1xuXG4vLyBIb3QgcmVsb2FkIGludGVncmF0aW9uOiBleHBvc2UgYnVpbGQgaW5mbyBnbG9iYWxseSBmb3IgZGV2ZWxvcG1lbnRcbi8vIFRoaXMgYWxsb3dzIHRoZSBVSSB0byBkZXRlY3Qgd2hlbiBidWlsZCBpbmZvIGhhcyBiZWVuIHVwZGF0ZWRcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAod2luZG93IGFzIGFueSkuX19CVUlMRF9JTkZPX18gPSBCVUlMRF9JTkZPO1xuXG4gIC8vIEFsc28gbm90aWZ5IGFueSBleGlzdGluZyBidWlsZCBpbmZvIGNvbXBvbmVudHMgb2YgdGhlIHVwZGF0ZVxuICBpZiAodHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnYnVpbGRJbmZvVXBkYXRlZCcsIHtcbiAgICAgICAgZGV0YWlsOiBCVUlMRF9JTkZPXG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9LCAxMDApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/build_info.ts\n");

/***/ }),

/***/ "../../src/build_info_component.ts":
/*!*****************************************!*\
  !*** ../../src/build_info_component.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBuildInfoComponent: () => (/* binding */ createBuildInfoComponent),\n/* harmony export */   registerBuildInfoStyles: () => (/* binding */ registerBuildInfoStyles),\n/* harmony export */   startBuildInfoAutoRefresh: () => (/* binding */ startBuildInfoAutoRefresh),\n/* harmony export */   updateBuildInfo: () => (/* binding */ updateBuildInfo)\n/* harmony export */ });\n/* harmony import */ var _build_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./build_info */ \"../../src/build_info.ts\");\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Creates and returns a build info UI component showing git SHA and build time.\n * This component displays in the bottom-right corner of the page.\n *\n * @returns The build info DOM element.\n */\nfunction createBuildInfoComponent() {\n    const buildInfo = document.createElement('div');\n    buildInfo.id = 'build-info';\n    buildInfo.className = 'build-info';\n    // Format the build time for display\n    const buildDate = new Date(_build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.buildTime);\n    const timeString = buildDate.toLocaleString();\n    buildInfo.innerHTML = `\n    <div class=\"build-info-content\">\n      <div class=\"build-version\">\n        <span class=\"build-label\">Version:</span>\n        <span class=\"build-value\">${_build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.versionLabel}</span>\n      </div>\n      <div class=\"build-time\">\n        <span class=\"build-label\">Built:</span>\n        <span class=\"build-value\">${timeString}</span>\n      </div>\n    </div>\n  `;\n    return buildInfo;\n}\n/**\n * Registers CSS styles for the build info component.\n * Should be called before creating the component.\n */\nfunction registerBuildInfoStyles() {\n    const style = document.createElement('style');\n    style.textContent = `\n    .build-info {\n      position: fixed;\n      bottom: 10px;\n      right: 10px;\n      background: rgba(0, 0, 0, 0.8);\n      color: #ffffff;\n      padding: 8px 12px;\n      border-radius: 6px;\n      font-family: monospace;\n      font-size: 11px;\n      line-height: 1.4;\n      z-index: 10000;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      min-width: 200px;\n    }\n\n    .build-info-content {\n      display: flex;\n      flex-direction: column;\n      gap: 2px;\n    }\n\n    .build-info .build-version,\n    .build-info .build-time {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .build-info .build-label {\n      color: #aaaaaa;\n      margin-right: 8px;\n    }\n\n    .build-info .build-value {\n      color: #ffffff;\n      font-weight: bold;\n    }\n\n    /* Make build info hover-able for better UX */\n    .build-info:hover {\n      background: rgba(0, 0, 0, 0.9);\n      transform: scale(1.05);\n      transition: all 0.2s ease;\n    }\n\n    /* Mobile responsiveness */\n    @media (max-width: 768px) {\n      .build-info {\n        bottom: 5px;\n        right: 5px;\n        padding: 6px 8px;\n        font-size: 10px;\n        min-width: 150px;\n      }\n    }\n  `;\n    document.head.appendChild(style);\n}\n/**\n * Updates the build info component with fresh build information.\n * This can be called when hot reloading to refresh the build time.\n *\n * @param element The build info element to update.\n */\nfunction updateBuildInfo(element) {\n    const buildDate = new Date(_build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.buildTime);\n    const timeString = buildDate.toLocaleString();\n    const versionEl = element.querySelector('.build-version .build-value');\n    const timeEl = element.querySelector('.build-time .build-value');\n    if (versionEl) {\n        versionEl.textContent = _build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.versionLabel;\n    }\n    if (timeEl) {\n        timeEl.textContent = timeString;\n    }\n}\n/**\n * Gets fresh build info from the global scope (populated by webpack HMR)\n * or falls back to the static BUILD_INFO if not available.\n *\n * @returns The current build info.\n */\nfunction getFreshBuildInfo() {\n    // Check if there's a global build info (from webpack dev server hot reload)\n    if (typeof window !== 'undefined' && window.__BUILD_INFO__) {\n        return window.__BUILD_INFO__;\n    }\n    return _build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO;\n}\n/**\n * Starts auto-refresh functionality for the build info component.\n * This listens for build events from the webpack plugin and updates the UI immediately.\n *\n * @param element The build info element to update.\n * @param fallbackIntervalMs Fallback polling interval if events aren't available (default: 5000ms).\n * @returns A function to stop the auto-refresh.\n */\nfunction startBuildInfoAutoRefresh(element, fallbackIntervalMs = 5000) {\n    let lastBuildTime = _build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.buildTime;\n    // Function to update the UI with new build info\n    const updateUI = (buildInfo) => {\n        const buildDate = new Date(buildInfo.buildTime);\n        const timeString = buildDate.toLocaleString();\n        const versionEl = element.querySelector('.build-version .build-value');\n        const timeEl = element.querySelector('.build-time .build-value');\n        if (versionEl) {\n            versionEl.textContent = buildInfo.versionLabel;\n        }\n        if (timeEl) {\n            timeEl.textContent = timeString;\n        }\n        // Add a brief visual indication of the update\n        element.style.transform = 'scale(1.05)';\n        element.style.transition = 'transform 0.2s ease';\n        setTimeout(() => {\n            element.style.transform = 'scale(1)';\n        }, 200);\n        console.log(` Build info updated: ${buildInfo.versionLabel} (${timeString})`);\n    };\n    // Primary method: listen for custom events from webpack plugin\n    const eventListener = (event) => {\n        const freshBuildInfo = event.detail;\n        if (freshBuildInfo && freshBuildInfo.buildTime !== lastBuildTime) {\n            lastBuildTime = freshBuildInfo.buildTime;\n            updateUI(freshBuildInfo);\n        }\n    };\n    // Add event listener for webpack-triggered updates\n    if (typeof window !== 'undefined' && window.addEventListener) {\n        window.addEventListener('buildInfoUpdated', eventListener);\n    }\n    // Fallback method: periodic polling (for cases where webpack integration isn't available)\n    const intervalId = setInterval(() => {\n        const freshBuildInfo = getFreshBuildInfo();\n        if (freshBuildInfo && freshBuildInfo.buildTime !== lastBuildTime) {\n            lastBuildTime = freshBuildInfo.buildTime;\n            updateUI(freshBuildInfo);\n        }\n    }, fallbackIntervalMs);\n    // Return cleanup function\n    return () => {\n        if (typeof window !== 'undefined' && window.removeEventListener) {\n            window.removeEventListener('buildInfoUpdated', eventListener);\n        }\n        clearInterval(intervalId);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1lBQ2pFLGFBQWEsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDO1lBQ3pDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMzQixDQUFDO0lBQ0gsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFFdkIsMEJBQTBCO0lBQzFCLE9BQU8sR0FBRyxFQUFFO1FBQ1YsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLElBQUksTUFBTSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDaEUsTUFBTSxDQUFDLG1CQUFtQixDQUFDLGtCQUFrQixFQUFFLGFBQThCLENBQUMsQ0FBQztRQUNqRixDQUFDO1FBQ0QsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzVCLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2J1aWxkX2luZm9fY29tcG9uZW50LnRzPzkyOTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0JVSUxEX0lORk99IGZyb20gJy4vYnVpbGRfaW5mbyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGJ1aWxkIGluZm8gVUkgY29tcG9uZW50IHNob3dpbmcgZ2l0IFNIQSBhbmQgYnVpbGQgdGltZS5cbiAqIFRoaXMgY29tcG9uZW50IGRpc3BsYXlzIGluIHRoZSBib3R0b20tcmlnaHQgY29ybmVyIG9mIHRoZSBwYWdlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBidWlsZCBpbmZvIERPTSBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnVpbGRJbmZvQ29tcG9uZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgY29uc3QgYnVpbGRJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGJ1aWxkSW5mby5pZCA9ICdidWlsZC1pbmZvJztcbiAgYnVpbGRJbmZvLmNsYXNzTmFtZSA9ICdidWlsZC1pbmZvJztcblxuICAvLyBGb3JtYXQgdGhlIGJ1aWxkIHRpbWUgZm9yIGRpc3BsYXlcbiAgY29uc3QgYnVpbGREYXRlID0gbmV3IERhdGUoQlVJTERfSU5GTy5idWlsZFRpbWUpO1xuICBjb25zdCB0aW1lU3RyaW5nID0gYnVpbGREYXRlLnRvTG9jYWxlU3RyaW5nKCk7XG5cbiAgYnVpbGRJbmZvLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiYnVpbGQtaW5mby1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYnVpbGQtdmVyc2lvblwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImJ1aWxkLWxhYmVsXCI+VmVyc2lvbjo8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYnVpbGQtdmFsdWVcIj4ke0JVSUxEX0lORk8udmVyc2lvbkxhYmVsfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImJ1aWxkLXRpbWVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJidWlsZC1sYWJlbFwiPkJ1aWx0Ojwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJidWlsZC12YWx1ZVwiPiR7dGltZVN0cmluZ308L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICByZXR1cm4gYnVpbGRJbmZvO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBDU1Mgc3R5bGVzIGZvciB0aGUgYnVpbGQgaW5mbyBjb21wb25lbnQuXG4gKiBTaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBjcmVhdGluZyB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJCdWlsZEluZm9TdHlsZXMoKTogdm9pZCB7XG4gIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgLmJ1aWxkLWluZm8ge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgYm90dG9tOiAxMHB4O1xuICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XG4gICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gICAgICBtaW4td2lkdGg6IDIwMHB4O1xuICAgIH1cblxuICAgIC5idWlsZC1pbmZvLWNvbnRlbnQge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBnYXA6IDJweDtcbiAgICB9XG5cbiAgICAuYnVpbGQtaW5mbyAuYnVpbGQtdmVyc2lvbixcbiAgICAuYnVpbGQtaW5mbyAuYnVpbGQtdGltZSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuYnVpbGQtaW5mbyAuYnVpbGQtbGFiZWwge1xuICAgICAgY29sb3I6ICNhYWFhYWE7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICB9XG5cbiAgICAuYnVpbGQtaW5mbyAuYnVpbGQtdmFsdWUge1xuICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgICAvKiBNYWtlIGJ1aWxkIGluZm8gaG92ZXItYWJsZSBmb3IgYmV0dGVyIFVYICovXG4gICAgLmJ1aWxkLWluZm86aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjkpO1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgfVxuXG4gICAgLyogTW9iaWxlIHJlc3BvbnNpdmVuZXNzICovXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAuYnVpbGQtaW5mbyB7XG4gICAgICAgIGJvdHRvbTogNXB4O1xuICAgICAgICByaWdodDogNXB4O1xuICAgICAgICBwYWRkaW5nOiA2cHggOHB4O1xuICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgIG1pbi13aWR0aDogMTUwcHg7XG4gICAgICB9XG4gICAgfVxuICBgO1xuXG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGJ1aWxkIGluZm8gY29tcG9uZW50IHdpdGggZnJlc2ggYnVpbGQgaW5mb3JtYXRpb24uXG4gKiBUaGlzIGNhbiBiZSBjYWxsZWQgd2hlbiBob3QgcmVsb2FkaW5nIHRvIHJlZnJlc2ggdGhlIGJ1aWxkIHRpbWUuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGJ1aWxkIGluZm8gZWxlbWVudCB0byB1cGRhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVCdWlsZEluZm8oZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3QgYnVpbGREYXRlID0gbmV3IERhdGUoQlVJTERfSU5GTy5idWlsZFRpbWUpO1xuICBjb25zdCB0aW1lU3RyaW5nID0gYnVpbGREYXRlLnRvTG9jYWxlU3RyaW5nKCk7XG5cbiAgY29uc3QgdmVyc2lvbkVsID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnVpbGQtdmVyc2lvbiAuYnVpbGQtdmFsdWUnKTtcbiAgY29uc3QgdGltZUVsID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnVpbGQtdGltZSAuYnVpbGQtdmFsdWUnKTtcblxuICBpZiAodmVyc2lvbkVsKSB7XG4gICAgdmVyc2lvbkVsLnRleHRDb250ZW50ID0gQlVJTERfSU5GTy52ZXJzaW9uTGFiZWw7XG4gIH1cbiAgaWYgKHRpbWVFbCkge1xuICAgIHRpbWVFbC50ZXh0Q29udGVudCA9IHRpbWVTdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIGZyZXNoIGJ1aWxkIGluZm8gZnJvbSB0aGUgZ2xvYmFsIHNjb3BlIChwb3B1bGF0ZWQgYnkgd2VicGFjayBITVIpXG4gKiBvciBmYWxscyBiYWNrIHRvIHRoZSBzdGF0aWMgQlVJTERfSU5GTyBpZiBub3QgYXZhaWxhYmxlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IGJ1aWxkIGluZm8uXG4gKi9cbmZ1bmN0aW9uIGdldEZyZXNoQnVpbGRJbmZvKCk6IHR5cGVvZiBCVUlMRF9JTkZPIHtcbiAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIGdsb2JhbCBidWlsZCBpbmZvIChmcm9tIHdlYnBhY2sgZGV2IHNlcnZlciBob3QgcmVsb2FkKVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHdpbmRvdyBhcyBhbnkpLl9fQlVJTERfSU5GT19fKSB7XG4gICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5fX0JVSUxEX0lORk9fXztcbiAgfVxuICByZXR1cm4gQlVJTERfSU5GTztcbn1cblxuLyoqXG4gKiBTdGFydHMgYXV0by1yZWZyZXNoIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBidWlsZCBpbmZvIGNvbXBvbmVudC5cbiAqIFRoaXMgbGlzdGVucyBmb3IgYnVpbGQgZXZlbnRzIGZyb20gdGhlIHdlYnBhY2sgcGx1Z2luIGFuZCB1cGRhdGVzIHRoZSBVSSBpbW1lZGlhdGVseS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgYnVpbGQgaW5mbyBlbGVtZW50IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSBmYWxsYmFja0ludGVydmFsTXMgRmFsbGJhY2sgcG9sbGluZyBpbnRlcnZhbCBpZiBldmVudHMgYXJlbid0IGF2YWlsYWJsZSAoZGVmYXVsdDogNTAwMG1zKS5cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gc3RvcCB0aGUgYXV0by1yZWZyZXNoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRCdWlsZEluZm9BdXRvUmVmcmVzaChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIGZhbGxiYWNrSW50ZXJ2YWxNcyA9IDUwMDBcbik6ICgpID0+IHZvaWQge1xuICBsZXQgbGFzdEJ1aWxkVGltZSA9IEJVSUxEX0lORk8uYnVpbGRUaW1lO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgVUkgd2l0aCBuZXcgYnVpbGQgaW5mb1xuICBjb25zdCB1cGRhdGVVSSA9IChidWlsZEluZm86IHR5cGVvZiBCVUlMRF9JTkZPKSA9PiB7XG4gICAgY29uc3QgYnVpbGREYXRlID0gbmV3IERhdGUoYnVpbGRJbmZvLmJ1aWxkVGltZSk7XG4gICAgY29uc3QgdGltZVN0cmluZyA9IGJ1aWxkRGF0ZS50b0xvY2FsZVN0cmluZygpO1xuXG4gICAgY29uc3QgdmVyc2lvbkVsID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnVpbGQtdmVyc2lvbiAuYnVpbGQtdmFsdWUnKTtcbiAgICBjb25zdCB0aW1lRWwgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWlsZC10aW1lIC5idWlsZC12YWx1ZScpO1xuXG4gICAgaWYgKHZlcnNpb25FbCkge1xuICAgICAgdmVyc2lvbkVsLnRleHRDb250ZW50ID0gYnVpbGRJbmZvLnZlcnNpb25MYWJlbDtcbiAgICB9XG4gICAgaWYgKHRpbWVFbCkge1xuICAgICAgdGltZUVsLnRleHRDb250ZW50ID0gdGltZVN0cmluZztcbiAgICB9XG5cbiAgICAvLyBBZGQgYSBicmllZiB2aXN1YWwgaW5kaWNhdGlvbiBvZiB0aGUgdXBkYXRlXG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMS4wNSknO1xuICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gMC4ycyBlYXNlJztcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDEpJztcbiAgICB9LCAyMDApO1xuXG4gICAgY29uc29sZS5sb2coYPCflIQgQnVpbGQgaW5mbyB1cGRhdGVkOiAke2J1aWxkSW5mby52ZXJzaW9uTGFiZWx9ICgke3RpbWVTdHJpbmd9KWApO1xuICB9O1xuXG4gIC8vIFByaW1hcnkgbWV0aG9kOiBsaXN0ZW4gZm9yIGN1c3RvbSBldmVudHMgZnJvbSB3ZWJwYWNrIHBsdWdpblxuICBjb25zdCBldmVudExpc3RlbmVyID0gKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xuICAgIGNvbnN0IGZyZXNoQnVpbGRJbmZvID0gZXZlbnQuZGV0YWlsO1xuICAgIGlmIChmcmVzaEJ1aWxkSW5mbyAmJiBmcmVzaEJ1aWxkSW5mby5idWlsZFRpbWUgIT09IGxhc3RCdWlsZFRpbWUpIHtcbiAgICAgIGxhc3RCdWlsZFRpbWUgPSBmcmVzaEJ1aWxkSW5mby5idWlsZFRpbWU7XG4gICAgICB1cGRhdGVVSShmcmVzaEJ1aWxkSW5mbyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3Igd2VicGFjay10cmlnZ2VyZWQgdXBkYXRlc1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYnVpbGRJbmZvVXBkYXRlZCcsIGV2ZW50TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcik7XG4gIH1cblxuICAvLyBGYWxsYmFjayBtZXRob2Q6IHBlcmlvZGljIHBvbGxpbmcgKGZvciBjYXNlcyB3aGVyZSB3ZWJwYWNrIGludGVncmF0aW9uIGlzbid0IGF2YWlsYWJsZSlcbiAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBjb25zdCBmcmVzaEJ1aWxkSW5mbyA9IGdldEZyZXNoQnVpbGRJbmZvKCk7XG5cbiAgICBpZiAoZnJlc2hCdWlsZEluZm8gJiYgZnJlc2hCdWlsZEluZm8uYnVpbGRUaW1lICE9PSBsYXN0QnVpbGRUaW1lKSB7XG4gICAgICBsYXN0QnVpbGRUaW1lID0gZnJlc2hCdWlsZEluZm8uYnVpbGRUaW1lO1xuICAgICAgdXBkYXRlVUkoZnJlc2hCdWlsZEluZm8pO1xuICAgIH1cbiAgfSwgZmFsbGJhY2tJbnRlcnZhbE1zKTtcblxuICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2J1aWxkSW5mb1VwZGF0ZWQnLCBldmVudExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIH1cbiAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICB9O1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/build_info_component.ts\n");

/***/ }),

/***/ "../../src/connection_highlighter.ts":
/*!*******************************************!*\
  !*** ../../src/connection_highlighter.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionHighlighter: () => (/* binding */ ConnectionHighlighter)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** Maximum number of connections to highlight for performance. */\nconst MAX_HIGHLIGHTED_CONNECTIONS = 50;\n/** Delay in milliseconds before retrying DOM insertion for highlights. */\nconst HIGHLIGHT_RETRY_DELAY_MS = 10;\n/**\n * Manages visual highlighting of valid connection points during block moves.\n * Provides visual feedback showing all possible destinations for a moving block.\n */\nclass ConnectionHighlighter {\n    constructor(workspace, onConnectionClick) {\n        /** Set of DOM elements that have highlighting applied. */\n        this.highlightedElements = new Set();\n        /** Map from highlight elements to their corresponding connections. */\n        this.elementToConnection = new WeakMap();\n        /** Map from highlight elements to their original connection coordinates for updating. */\n        this.elementToOriginalCoords = new WeakMap();\n        /** Connection highlight size: minimal, medium, or large. */\n        this.connectionSize = 'medium';\n        /** Separate SVG group layer for all highlights, rendered on top of blocks. */\n        this.highlightLayer = null;\n        /** Set of blocks that have highlights, used to detect overlapping descendants. */\n        this.highlightedBlocks = new Set();\n        this.workspace = workspace;\n        this.onConnectionClick = onConnectionClick;\n        // Zelos: ancestor connections visually overlap descendants\n        // Geras/Thrasos: connections render side-by-side without overlapping\n        const rendererName = workspace.getRenderer().constructor.name.toLowerCase();\n        this.ancestorConnectionsOverlap = rendererName.includes('zelos');\n        this.scrollListener = () => {\n            this.updateHighlights();\n        };\n        // Create a separate highlight layer at workspace level\n        this.createHighlightLayer();\n    }\n    /**\n     * Creates a dedicated SVG layer for highlights that renders on top of all blocks.\n     */\n    createHighlightLayer() {\n        // Append to parent SVG (above workspace group) to avoid coordinate transform issues\n        const parentSvg = this.workspace.getParentSvg();\n        if (parentSvg) {\n            this.highlightLayer = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n            this.highlightLayer.setAttribute('class', 'blocklyConnectionHighlightLayer');\n            parentSvg.appendChild(this.highlightLayer);\n        }\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     * Kept for backwards compatibility.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.connectionSize = enabled ? 'medium' : 'minimal';\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.connectionSize = size;\n    }\n    /**\n     * Highlights all valid connection points for the given moving block.\n     *\n     * @param movingBlock The block being moved.\n     * @param allConnections All available connections on the workspace.\n     * @param localConnections Connections available on the moving block.\n     */\n    highlightValidConnections(movingBlock, allConnections, localConnections) {\n        this.clearHighlights();\n        const validConnections = this.findAllValidConnections(movingBlock, allConnections, localConnections);\n        // Apply visual highlighting to each valid connection\n        // Sort by AST depth (parents first) so child highlights are added after and render on top\n        const validConnectionsSorted = validConnections.sort((a, b) => {\n            const depthA = this.getBlockDepth(a.neighbour.getSourceBlock());\n            const depthB = this.getBlockDepth(b.neighbour.getSourceBlock());\n            // Render shallower blocks first, then deeper blocks (child highlights added last)\n            return depthA - depthB;\n        });\n        for (const validConnection of validConnectionsSorted) {\n            const sourceBlock = validConnection.neighbour.getSourceBlock();\n            if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n                continue;\n            // Check if any ancestor block already has a highlight\n            const hasAncestorHighlight = this.hasAncestorWithHighlight(sourceBlock);\n            // Create the highlight (fully transparent if ancestor has one)\n            this.highlightConnection(validConnection.neighbour, hasAncestorHighlight);\n            // Track this block as having a highlight\n            this.highlightedBlocks.add(sourceBlock);\n        }\n        // Update highlight positions when workspace scrolls\n        if (this.scrollListener) {\n            const svgGroup = this.workspace.getSvgGroup();\n            if (svgGroup) {\n                this.workspace.addChangeListener(this.scrollListener);\n            }\n        }\n        return validConnections;\n    }\n    /**\n     * Finds all valid connections between the moving block and workspace connections.\n     *\n     * @param movingBlock The block being moved.\n     * @param allConnections All available connections on the workspace.\n     * @param localConnections Connections available on the moving block.\n     * @returns Array of valid connection pairs.\n     */\n    findAllValidConnections(movingBlock, allConnections, localConnections) {\n        const validConnections = [];\n        const connectionChecker = movingBlock.workspace.connectionChecker;\n        for (const localConn of localConnections) {\n            for (const potentialNeighbour of allConnections) {\n                // Skip connections on the moving block itself or its descendants\n                if (this.getFilterReason(potentialNeighbour, movingBlock)) {\n                    continue;\n                }\n                // Skip connections already occupied by the moving block\n                // (e.g., a color value block already in the moving block's color input)\n                if (potentialNeighbour.targetConnection &&\n                    localConnections.includes(potentialNeighbour.targetConnection)) {\n                    continue;\n                }\n                // Only highlight where the moving block can attach TO other blocks,\n                // not where other blocks would insert INTO the moving block's inputs.\n                // Valid: OUTPUTINPUT, PREVIOUSNEXT, NEXTPREVIOUS\n                const isValidDirection = (localConn.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE &&\n                    potentialNeighbour.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE) ||\n                    (localConn.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT &&\n                        potentialNeighbour.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT) ||\n                    (localConn.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT &&\n                        potentialNeighbour.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT);\n                if (!isValidDirection) {\n                    continue;\n                }\n                // Check type compatibility and add to results\n                if (connectionChecker.canConnect(localConn, potentialNeighbour, true, Infinity)) {\n                    validConnections.push({\n                        local: localConn,\n                        neighbour: potentialNeighbour,\n                        distance: this.calculateDistance(localConn, potentialNeighbour),\n                    });\n                }\n            }\n        }\n        // Sort by distance and limit for performance.\n        // Use stable sort to preserve spatial ordering when distances are equal.\n        // We track original indices to guarantee stability across all JS engines.\n        const indexed = validConnections.map((conn, index) => ({ conn, index }));\n        indexed.sort((a, b) => {\n            const distanceDiff = a.conn.distance - b.conn.distance;\n            // If distances differ, sort by distance (closer connections first)\n            if (distanceDiff !== 0)\n                return distanceDiff;\n            // If distances are equal, preserve original order from allConnections\n            return a.index - b.index;\n        });\n        return indexed.slice(0, MAX_HIGHLIGHTED_CONNECTIONS).map(item => item.conn);\n    }\n    /**\n     * Applies visual highlighting to a single connection.\n     *\n     * @param connection The connection to highlight.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     */\n    highlightConnection(connection, isOverlapping = false) {\n        try {\n            this.createConnectionVisualization(connection, isOverlapping);\n        }\n        catch (error) {\n            console.debug('Failed to highlight connection (non-critical):', error);\n        }\n    }\n    /**\n     * Creates connection-type-appropriate visual highlight.\n     *\n     * @param connection The connection to create a highlight for.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     */\n    createConnectionVisualization(connection, isOverlapping = false) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n            return;\n        const workspace = sourceBlock.workspace;\n        const svgGroup = workspace.getSvgGroup();\n        if (!svgGroup)\n            return;\n        let highlight;\n        switch (connection.type) {\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT:\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT:\n                highlight = this.createStatementNotch(connection, workspace, isOverlapping);\n                break;\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE:\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE:\n                highlight = this.createValueOutline(connection, workspace, isOverlapping);\n                break;\n            default:\n                return;\n        }\n        if (highlight) {\n            // Store metadata for click handling\n            highlight.setAttribute('data-connection-x', connection.x.toString());\n            highlight.setAttribute('data-connection-y', connection.y.toString());\n            highlight.setAttribute('data-connection-type', connection.type.toString());\n            this.elementToConnection.set(highlight, connection);\n            this.elementToOriginalCoords.set(highlight, {\n                connection: connection,\n                type: highlight.tagName.toLowerCase(),\n            });\n            // Enable connection selection via click\n            if (this.onConnectionClick) {\n                const clickHandler = (event) => {\n                    event.stopPropagation();\n                    this.onConnectionClick(connection);\n                };\n                highlight.addEventListener('click', clickHandler);\n                highlight.addEventListener('pointerdown', clickHandler);\n            }\n        }\n    }\n    /**\n     * Creates a notch-style highlight for statement connections.\n     * Attached to block's SVG to follow block movement during stack rearrangement.\n     *\n     * @param connection The statement connection to highlight.\n     * @param workspace The workspace for coordinate transformation.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     * @returns The SVG element representing the notch.\n     */\n    createStatementNotch(connection, workspace, isOverlapping = false) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg)) {\n            throw new Error('Source block is not a BlockSvg');\n        }\n        const renderer = sourceBlock.workspace.getRenderer();\n        const constants = renderer.getConstants();\n        const connectionShape = constants.shapeFor(connection);\n        if (!connectionShape || !connectionShape.pathLeft) {\n            throw new Error('No connection shape available');\n        }\n        const xLen = constants.NOTCH_OFFSET_LEFT - constants.CORNER_RADIUS;\n        const pathLeft = connectionShape.pathLeft;\n        const notchWidth = connectionShape.width;\n        let highlightPath;\n        if (this.connectionSize === 'minimal') {\n            // Minimal: simple notch outline\n            highlightPath = (`M ${-xLen} 0 ` +\n                `h ${xLen} ` +\n                pathLeft +\n                `h ${xLen}`);\n        }\n        else {\n            // Medium/Large: flat-top, notched-bottom shape for larger click target\n            const topPadding = this.connectionSize === 'large' ? 6 : 4;\n            const bottomPadding = this.connectionSize === 'large' ? 6 : 4;\n            highlightPath = (`M ${-xLen} ${-topPadding} ` + // Start top-left\n                `v ${topPadding + bottomPadding} ` + // Go down left side\n                `h ${xLen} ` + // Go right to notch start (x=0)\n                pathLeft + // Draw notch at bottom\n                `h ${xLen} ` + // Go right from notch end\n                `v ${-(topPadding + bottomPadding)} ` + // Go up right side\n                `h ${-(notchWidth + xLen * 2)} ` + // Go left across top back to start\n                `Z` // Close path\n            );\n        }\n        const highlightSvg = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n        const coords = this.transformCoordinates(connection.x, connection.y, workspace);\n        const scale = workspace.scale;\n        const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n        const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n        highlightSvg.setAttribute('d', highlightPath);\n        highlightSvg.setAttribute('transform', transformation);\n        if (isOverlapping && this.ancestorConnectionsOverlap) {\n            highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n        }\n        else {\n            highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n        }\n        highlightSvg.setAttribute('stroke-width', '2.5');\n        highlightSvg.setAttribute('stroke-linejoin', 'round');\n        highlightSvg.setAttribute('stroke-linecap', 'round');\n        highlightSvg.setAttribute('class', 'blocklyPotentialConnection');\n        highlightSvg.style.pointerEvents = 'auto';\n        highlightSvg.style.cursor = 'pointer';\n        // Add to workspace highlight layer\n        if (this.highlightLayer) {\n            this.highlightLayer.appendChild(highlightSvg);\n            this.highlightedElements.add(highlightSvg);\n        }\n        return highlightSvg;\n    }\n    /**\n     * Creates a value connection highlight using the renderer's puzzle tab shape.\n     * Manages SVG independently to avoid core rendering lifecycle interference.\n     *\n     * @param connection The value connection to highlight.\n     * @param sourceBlock The block containing the connection.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     * @returns The SVG element created, or null if unsuccessful.\n     */\n    createCoreBasedValueHighlight(connection, sourceBlock, isOverlapping = false) {\n        try {\n            const renderer = sourceBlock.workspace.getRenderer();\n            const constants = renderer.getConstants();\n            const connectionShape = constants.shapeFor(connection);\n            if (!connectionShape) {\n                return null;\n            }\n            let connPath = '';\n            let measurableHeight = constants.TAB_HEIGHT;\n            if (connectionShape.isDynamic) {\n                const renderInfo = sourceBlock.renderInfo_;\n                if (renderInfo) {\n                    const connectionMeasurable = this.findConnectionMeasurable(connection, renderInfo);\n                    if (connectionMeasurable && connectionMeasurable.height) {\n                        measurableHeight = connectionMeasurable.height;\n                    }\n                }\n                connPath = connectionShape.pathDown(measurableHeight);\n            }\n            else if (connectionShape.pathDown) {\n                connPath = connectionShape.pathDown;\n            }\n            else {\n                return null;\n            }\n            const yLen = constants.TAB_OFFSET_FROM_TOP;\n            let highlightPath;\n            if (this.connectionSize === 'minimal') {\n                // Minimal: standard thin outline\n                highlightPath = (`M 0 ${-yLen} ` +\n                    `v ${yLen} ` +\n                    connPath +\n                    `v ${yLen}`);\n            }\n            else {\n                // Medium/Large: puzzle tab on left, rectangular extension to right\n                // Size to fit within an empty connection socket (similar to puzzle tab width)\n                const tabWidth = connectionShape.width || constants.TAB_WIDTH || 8;\n                const rightPadding = this.connectionSize === 'large' ? tabWidth * 1.5 : tabWidth;\n                const totalHeight = yLen * 2 + measurableHeight;\n                highlightPath = (`M 0 ${-yLen} ` + // Start above connection\n                    `v ${yLen} ` + // Down to connection point\n                    connPath + // Draw the puzzle tab (left side)\n                    `v ${yLen} ` + // Down to bottom-left\n                    `h ${rightPadding} ` + // Right to bottom-right (fits empty socket)\n                    `v ${-totalHeight} ` + // Up to top-right\n                    `h ${-rightPadding} ` + // Left back to top-left\n                    `Z` // Close the shape\n                );\n            }\n            const highlightSvg = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n            const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n            const scale = this.workspace.scale;\n            const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n            const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n            highlightSvg.setAttribute('d', highlightPath);\n            highlightSvg.setAttribute('transform', transformation);\n            if (isOverlapping && this.ancestorConnectionsOverlap) {\n                highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n            }\n            else {\n                highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n            }\n            highlightSvg.setAttribute('stroke-width', '8');\n            highlightSvg.setAttribute('class', 'blocklyPotentialConnection');\n            highlightSvg.style.pointerEvents = 'auto';\n            highlightSvg.style.cursor = 'pointer';\n            // Add to workspace highlight layer\n            if (this.highlightLayer) {\n                this.highlightLayer.appendChild(highlightSvg);\n                this.highlightedElements.add(highlightSvg);\n                this.elementToConnection.set(highlightSvg, connection);\n                this.elementToOriginalCoords.set(highlightSvg, {\n                    connection: connection,\n                    type: 'path',\n                });\n                if (this.onConnectionClick) {\n                    const clickHandler = (event) => {\n                        event.stopPropagation();\n                        this.onConnectionClick(connection);\n                    };\n                    highlightSvg.addEventListener('click', clickHandler);\n                    highlightSvg.addEventListener('pointerdown', clickHandler);\n                }\n                return highlightSvg;\n            }\n        }\n        catch (error) {\n            console.debug('Failed to create core-based value highlight, using fallback:', error);\n        }\n        return null;\n    }\n    /**\n     * Finds the connection measurable object from render info that corresponds to the given connection.\n     *\n     * @param connection The rendered connection to find.\n     * @param renderInfo The block's render info.\n     * @returns The connection measurable, or null if not found.\n     */\n    findConnectionMeasurable(connection, renderInfo) {\n        if (!renderInfo || !renderInfo.rows) {\n            return null;\n        }\n        // Search through all rows and elements to find the matching connection\n        for (const row of renderInfo.rows) {\n            if (row.elements) {\n                for (const element of row.elements) {\n                    if (element.connectionModel === connection) {\n                        return element;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Creates an outline highlight for value connections.\n     * Uses renderer-based shapes for Geras/Thrasos, falls back to rounded rect for Zelos.\n     *\n     * @param connection The value connection to highlight.\n     * @param workspace The workspace for coordinate transformation.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     * @returns The SVG element representing the value outline.\n     */\n    createValueOutline(connection, workspace, isOverlapping = false) {\n        const sourceBlock = connection.getSourceBlock();\n        if (sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            const renderer = sourceBlock.workspace.getRenderer();\n            const rendererName = renderer.constructor.name;\n            const isZelos = rendererName.toLowerCase().includes('zelos');\n            // Use core shapes for Geras/Thrasos (Zelos requires unavailable renderInfo)\n            if (!isZelos) {\n                const shapeHighlight = this.createCoreBasedValueHighlight(connection, sourceBlock, isOverlapping);\n                if (shapeHighlight) {\n                    shapeHighlight.setAttribute('data-already-in-dom', 'true');\n                    return shapeHighlight;\n                }\n            }\n        }\n        // Fallback rounded rect for Zelos or if core shapes unavailable\n        // Add to workspace highlight layer for proper z-order\n        const socketBounds = this.getActualSocketBounds(connection, workspace);\n        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n        // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n        if (sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            const coords = this.transformCoordinates(socketBounds.x, socketBounds.y, workspace);\n            const scale = workspace.scale;\n            const cornerRadius = Math.min(socketBounds.height / 2, 25);\n            rect.setAttribute('x', coords.x.toString());\n            rect.setAttribute('y', coords.y.toString());\n            rect.setAttribute('width', (socketBounds.width * scale).toString());\n            rect.setAttribute('height', (socketBounds.height * scale).toString());\n            rect.setAttribute('rx', cornerRadius.toString());\n            rect.setAttribute('ry', cornerRadius.toString());\n            if (isOverlapping && this.ancestorConnectionsOverlap) {\n                rect.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n            }\n            else {\n                rect.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n            }\n            rect.setAttribute('stroke-width', '6');\n            rect.setAttribute('stroke-dasharray', '3,3');\n            rect.setAttribute('class', 'blocklyPotentialConnection');\n            rect.style.pointerEvents = 'auto';\n            rect.style.cursor = 'pointer';\n            // Add to workspace highlight layer\n            if (this.highlightLayer) {\n                this.highlightLayer.appendChild(rect);\n                this.highlightedElements.add(rect);\n                this.elementToConnection.set(rect, connection);\n                this.elementToOriginalCoords.set(rect, {\n                    connection: connection,\n                    type: 'rect',\n                });\n                if (this.onConnectionClick) {\n                    const clickHandler = (event) => {\n                        event.stopPropagation();\n                        this.onConnectionClick(connection);\n                    };\n                    rect.addEventListener('click', clickHandler);\n                    rect.addEventListener('pointerdown', clickHandler);\n                }\n                return rect;\n            }\n        }\n        // Fallback if highlight layer not available\n        throw new Error('Failed to add rect highlight to workspace layer');\n    }\n    /**\n     * Gets bounds for socket contents or reasonable defaults.\n     *\n     * @param connection The value connection to analyze.\n     * @param workspace The workspace for coordinate reference.\n     * @returns Bounds object with x, y, width, height.\n     */\n    getActualSocketBounds(connection, workspace) {\n        try {\n            const targetBlock = connection.targetBlock();\n            if (targetBlock && targetBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                const blockBounds = targetBlock.getBoundingRectangle();\n                return {\n                    x: blockBounds.left,\n                    y: blockBounds.top,\n                    width: blockBounds.right - blockBounds.left,\n                    height: blockBounds.bottom - blockBounds.top,\n                };\n            }\n            const shadowBlock = connection.getShadowDom();\n            if (shadowBlock && connection.targetConnection) {\n                const shadowTargetBlock = connection.targetConnection.getSourceBlock();\n                if (shadowTargetBlock && shadowTargetBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    const shadowBounds = shadowTargetBlock.getBoundingRectangle();\n                    return {\n                        x: shadowBounds.left,\n                        y: shadowBounds.top,\n                        width: shadowBounds.right - shadowBounds.left,\n                        height: shadowBounds.bottom - shadowBounds.top,\n                    };\n                }\n            }\n            const sourceBlock = connection.getSourceBlock();\n            if (sourceBlock && sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                const input = this.findInputForConnection(sourceBlock, connection);\n                if (input) {\n                    const estimatedBounds = this.estimateInputBounds(input, connection);\n                    if (estimatedBounds) {\n                        return estimatedBounds;\n                    }\n                }\n            }\n            return {\n                x: connection.x,\n                y: connection.y - 15,\n                width: 80,\n                height: 30,\n            };\n        }\n        catch (error) {\n            console.debug('Failed to get socket bounds, using defaults:', error);\n            return {\n                x: connection.x,\n                y: connection.y - 15,\n                width: 80,\n                height: 30,\n            };\n        }\n    }\n    /**\n     * Finds the input that contains the given connection.\n     *\n     * @param block The block to search.\n     * @param connection The connection to find.\n     * @returns The input containing the connection, or null.\n     */\n    findInputForConnection(block, connection) {\n        const inputs = block.inputList;\n        for (const input of inputs) {\n            if (input.connection === connection) {\n                return input;\n            }\n        }\n        return null;\n    }\n    /**\n     * Estimates bounds for an input based on field content.\n     *\n     * @param input The input to estimate bounds for.\n     * @param connection The connection for positioning reference.\n     * @returns Estimated bounds or null if cannot determine.\n     */\n    estimateInputBounds(input, connection) {\n        try {\n            if (input.fieldRow && input.fieldRow.length > 0) {\n                let totalWidth = 0;\n                const maxHeight = 30;\n                for (const field of input.fieldRow) {\n                    if (field.getText) {\n                        const text = field.getText();\n                        const fieldWidth = Math.max(text.length * 8 + 20, 40);\n                        totalWidth += fieldWidth;\n                    }\n                    else {\n                        totalWidth += 40;\n                    }\n                }\n                return {\n                    x: connection.x,\n                    y: connection.y - maxHeight / 2,\n                    width: totalWidth,\n                    height: maxHeight,\n                };\n            }\n            return null;\n        }\n        catch (error) {\n            console.debug('Failed to estimate input bounds:', error);\n            return null;\n        }\n    }\n    /**\n     * Transforms workspace coordinates to SVG coordinates.\n     *\n     * @param x Workspace x coordinate.\n     * @param y Workspace y coordinate.\n     * @param workspace The workspace for transformation parameters.\n     * @returns Transformed coordinates.\n     */\n    transformCoordinates(x, y, workspace) {\n        const scale = workspace.scale;\n        const translation = workspace.getOriginOffsetInPixels();\n        return {\n            x: x * scale + translation.x,\n            y: y * scale + translation.y,\n        };\n    }\n    /**\n     * Returns why a connection should be filtered, or null if valid.\n     *\n     * @param connection The connection to check.\n     * @param movingBlock The block being moved.\n     * @returns The filter reason string, or null if not filtered.\n     */\n    getFilterReason(connection, movingBlock) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!sourceBlock)\n            return 'no-source-block';\n        if (sourceBlock.isInsertionMarker())\n            return 'insertion-marker';\n        // Filter out connections that would require moving an immoveable block\n        // Case 1: PREVIOUS/OUTPUT connections on immoveable blocks (inserting before would push them)\n        if (!sourceBlock.isMovable() &&\n            (connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT ||\n                connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE)) {\n            return 'immoveable-block-source';\n        }\n        // Case 2: NEXT/INPUT connections that are already occupied by immoveable blocks\n        // (inserting would push the immoveable target aside)\n        const targetConnection = connection.targetConnection;\n        if (targetConnection) {\n            const targetBlock = targetConnection.getSourceBlock();\n            if (targetBlock && !targetBlock.isMovable()) {\n                if (connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT ||\n                    connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE) {\n                    return 'immoveable-block-target';\n                }\n            }\n        }\n        if (sourceBlock === movingBlock)\n            return 'moving-block';\n        // Include all descendants including input value blocks (true parameter)\n        // This prevents highlighting connections on blocks inside the moving block's inputs\n        const movingDescendants = movingBlock.getDescendants(true);\n        if (movingDescendants.includes(sourceBlock)) {\n            return 'moving-block-descendant';\n        }\n        return null;\n    }\n    /**\n     * Checks if connection should be filtered (on moving block or preview).\n     *\n     * @param connection The connection to check.\n     * @param movingBlock The block being moved.\n     * @returns True if the connection should be filtered out.\n     */\n    isConnectionOnMovingBlock(connection, movingBlock) {\n        return this.getFilterReason(connection, movingBlock) !== null;\n    }\n    /**\n     * Calculates the distance between two connections.\n     *\n     * @param conn1 First connection.\n     * @param conn2 Second connection.\n     * @returns The distance between the connections.\n     */\n    calculateDistance(conn1, conn2) {\n        const dx = conn1.x - conn2.x;\n        const dy = conn1.y - conn2.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n    /**\n     * Calculates the depth of a block in the AST (how many parents it has).\n     * Top-level blocks have depth 0, their children have depth 1, etc.\n     *\n     * @param block The block to measure depth for.\n     * @returns The depth of the block in the tree.\n     */\n    getBlockDepth(block) {\n        if (!block)\n            return 0;\n        let depth = 0;\n        let current = block;\n        // Walk up the parent chain counting levels\n        while (current) {\n            const parent = current.getParent();\n            if (!parent)\n                break;\n            depth++;\n            current = parent;\n        }\n        return depth;\n    }\n    /**\n     * Checks if any ancestor block has a highlight.\n     * Only follows OUTPUTINPUT value connection chains, not statement chains.\n     * Used to make descendant highlights transparent to avoid visual clutter.\n     *\n     * @param block The block to check.\n     * @returns True if any value parent has a highlight.\n     */\n    hasAncestorWithHighlight(block) {\n        let current = block;\n        // Only follow value parent chain (blocks connected via OUTPUT/INPUT)\n        while (current) {\n            const outputConnection = current.outputConnection;\n            if (!outputConnection || !outputConnection.isConnected()) {\n                // No output connection or not connected, stop searching\n                break;\n            }\n            // Get the parent block this output is connected to\n            const targetConnection = outputConnection.targetConnection;\n            if (!targetConnection)\n                break;\n            const parent = targetConnection.getSourceBlock();\n            if (!parent || !(parent instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n                break;\n            // Check if this parent has a highlight\n            if (this.highlightedBlocks.has(parent)) {\n                return true;\n            }\n            // Continue up the value parent chain\n            current = parent;\n        }\n        return false;\n    }\n    /**\n     * Removes all connection highlighting.\n     */\n    clearHighlights() {\n        if (this.scrollListener) {\n            this.workspace.removeChangeListener(this.scrollListener);\n        }\n        for (const element of this.highlightedElements) {\n            try {\n                if (element instanceof SVGElement) {\n                    element.remove();\n                }\n                else if (element.parentNode) {\n                    element.parentNode.removeChild(element);\n                }\n            }\n            catch (error) {\n                // Silently fail - element may have already been removed\n            }\n        }\n        this.highlightedElements.clear();\n        this.highlightedBlocks.clear();\n    }\n    /**\n     * Updates highlight positions based on workspace scroll and zoom.\n     */\n    updateHighlights() {\n        for (const element of this.highlightedElements) {\n            const coordsInfo = this.elementToOriginalCoords.get(element);\n            if (!coordsInfo)\n                continue;\n            const { connection, type } = coordsInfo;\n            try {\n                switch (type) {\n                    case 'circle':\n                        this.updateCirclePosition(element, connection);\n                        break;\n                    case 'path':\n                        this.updatePathPosition(element, connection);\n                        break;\n                    case 'rect':\n                        this.updateRectPosition(element, connection);\n                        break;\n                }\n            }\n            catch (error) {\n                console.debug('Failed to update highlight position:', error);\n            }\n        }\n    }\n    /**\n     * Updates the position of a circle highlight element.\n     *\n     * @param circle The circle element to update.\n     * @param connection The connection this circle represents.\n     */\n    updateCirclePosition(circle, connection) {\n        const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n        circle.setAttribute('cx', coords.x.toString());\n        circle.setAttribute('cy', coords.y.toString());\n    }\n    /**\n     * Updates the position of a path highlight element.\n     * Paths are in the highlight layer at parent SVG level.\n     *\n     * @param path The path element to update.\n     * @param connection The connection this path represents.\n     */\n    updatePathPosition(path, connection) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n            return;\n        // Transform workspace coordinates to SVG coordinates\n        const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n        const scale = this.workspace.scale;\n        const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n        const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n        path.setAttribute('transform', transformation);\n    }\n    /**\n     * Updates the position of a rect highlight (value connections).\n     * Rects are in the highlight layer at parent SVG level.\n     *\n     * @param rect The rect element to update.\n     * @param connection The connection this rect represents.\n     */\n    updateRectPosition(rect, connection) {\n        const socketBounds = this.getActualSocketBounds(connection, this.workspace);\n        const coords = this.transformCoordinates(socketBounds.x, socketBounds.y, this.workspace);\n        const scale = this.workspace.scale;\n        rect.setAttribute('x', coords.x.toString());\n        rect.setAttribute('y', coords.y.toString());\n        rect.setAttribute('width', (socketBounds.width * scale).toString());\n        rect.setAttribute('height', (socketBounds.height * scale).toString());\n    }\n    /**\n     * Checks if a point (in screen coordinates) intersects with any highlighted connection.\n     *\n     * @param screenX Screen X coordinate.\n     * @param screenY Screen Y coordinate.\n     * @returns The connection at the point, or null if no connection found.\n     */\n    findConnectionAtPoint(screenX, screenY) {\n        for (const element of this.highlightedElements) {\n            const bounds = element.getBoundingClientRect();\n            if (screenX >= bounds.left && screenX <= bounds.right &&\n                screenY >= bounds.top && screenY <= bounds.bottom) {\n                const connection = this.elementToConnection.get(element);\n                if (connection) {\n                    return connection;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets bounding boxes for all currently highlighted connections.\n     *\n     * @returns Array of connection bounds information.\n     */\n    getHighlightedConnectionBounds() {\n        const results = [];\n        for (const element of this.highlightedElements) {\n            const connection = this.elementToConnection.get(element);\n            if (connection) {\n                const bounds = element.getBoundingClientRect();\n                results.push({\n                    connection,\n                    bounds,\n                    element\n                });\n            }\n        }\n        return results;\n    }\n    /**\n     * Disposes of the highlighter and cleans up all resources.\n     */\n    dispose() {\n        this.clearHighlights();\n        // Remove the highlight layer\n        if (this.highlightLayer && this.highlightLayer.parentNode) {\n            this.highlightLayer.parentNode.removeChild(this.highlightLayer);\n            this.highlightLayer = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWNrOi8vLy4uLy4uL3NyYy9jb25uZWN0aW9uX2hpZ2hsaWdodGVyLnRzP2Y0M2YiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBCbG9ja1N2ZyxcbiAgUmVuZGVyZWRDb25uZWN0aW9uLFxuICBXb3Jrc3BhY2VTdmcsXG4gIHV0aWxzLFxuICBDb25uZWN0aW9uVHlwZSxcbn0gZnJvbSAnYmxvY2tseSc7XG5cbi8qKiBNYXhpbXVtIG51bWJlciBvZiBjb25uZWN0aW9ucyB0byBoaWdobGlnaHQgZm9yIHBlcmZvcm1hbmNlLiAqL1xuY29uc3QgTUFYX0hJR0hMSUdIVEVEX0NPTk5FQ1RJT05TID0gNTA7XG5cbi8qKiBEZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHJldHJ5aW5nIERPTSBpbnNlcnRpb24gZm9yIGhpZ2hsaWdodHMuICovXG5jb25zdCBISUdITElHSFRfUkVUUllfREVMQVlfTVMgPSAxMDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdmFsaWQgY29ubmVjdGlvbiBwYWlyIGJldHdlZW4gYSBtb3ZpbmcgYmxvY2sgYW5kIGEgdGFyZ2V0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkQ29ubmVjdGlvbiB7XG4gIC8qKiBBIGNvbm5lY3Rpb24gb24gdGhlIGRyYWdnaW5nIGJsb2NrIHRoYXQgY2FuIGNvbm5lY3QuICovXG4gIGxvY2FsOiBSZW5kZXJlZENvbm5lY3Rpb247XG4gIC8qKiBBIGNvbm5lY3Rpb24gb24gdGhlIHdvcmtzcGFjZSB0aGF0IGNhbiBhY2NlcHQgdGhlIGxvY2FsIGNvbm5lY3Rpb24uICovXG4gIG5laWdoYm91cjogUmVuZGVyZWRDb25uZWN0aW9uO1xuICAvKiogVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNvbm5lY3Rpb25zIChmb3Igc29ydGluZy9maWx0ZXJpbmcpLiAqL1xuICBkaXN0YW5jZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIE1hbmFnZXMgdmlzdWFsIGhpZ2hsaWdodGluZyBvZiB2YWxpZCBjb25uZWN0aW9uIHBvaW50cyBkdXJpbmcgYmxvY2sgbW92ZXMuXG4gKiBQcm92aWRlcyB2aXN1YWwgZmVlZGJhY2sgc2hvd2luZyBhbGwgcG9zc2libGUgZGVzdGluYXRpb25zIGZvciBhIG1vdmluZyBibG9jay5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25IaWdobGlnaHRlciB7XG4gIC8qKiBTZXQgb2YgRE9NIGVsZW1lbnRzIHRoYXQgaGF2ZSBoaWdobGlnaHRpbmcgYXBwbGllZC4gKi9cbiAgcHJpdmF0ZSBoaWdobGlnaHRlZEVsZW1lbnRzOiBTZXQ8RWxlbWVudD4gPSBuZXcgU2V0KCk7XG5cbiAgLyoqIE1hcCBmcm9tIGhpZ2hsaWdodCBlbGVtZW50cyB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbm5lY3Rpb25zLiAqL1xuICBwcml2YXRlIGVsZW1lbnRUb0Nvbm5lY3Rpb246IFdlYWtNYXA8RWxlbWVudCwgUmVuZGVyZWRDb25uZWN0aW9uPiA9XG4gICAgbmV3IFdlYWtNYXAoKTtcblxuICAvKiogTWFwIGZyb20gaGlnaGxpZ2h0IGVsZW1lbnRzIHRvIHRoZWlyIG9yaWdpbmFsIGNvbm5lY3Rpb24gY29vcmRpbmF0ZXMgZm9yIHVwZGF0aW5nLiAqL1xuICBwcml2YXRlIGVsZW1lbnRUb09yaWdpbmFsQ29vcmRzOiBXZWFrTWFwPFxuICAgIEVsZW1lbnQsXG4gICAge2Nvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbjsgdHlwZTogc3RyaW5nfVxuICA+ID0gbmV3IFdlYWtNYXAoKTtcblxuICAvKiogVGhlIHdvcmtzcGFjZSB0aGlzIGhpZ2hsaWdodGVyIGlzIG9wZXJhdGluZyBvbi4gKi9cbiAgcHJpdmF0ZSB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZztcblxuICAvKiogQ2FsbGJhY2sgZm9yIGhhbmRsaW5nIGNvbm5lY3Rpb24gY2xpY2tzLiAqL1xuICBwcml2YXRlIG9uQ29ubmVjdGlvbkNsaWNrPzogKGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbikgPT4gdm9pZDtcblxuICAvKiogU2Nyb2xsIGV2ZW50IGxpc3RlbmVyIGZvciB1cGRhdGluZyBoaWdobGlnaHQgcG9zaXRpb25zLiAqL1xuICBwcml2YXRlIHNjcm9sbExpc3RlbmVyPzogKCkgPT4gdm9pZDtcblxuICAvKiogQ29ubmVjdGlvbiBoaWdobGlnaHQgc2l6ZTogbWluaW1hbCwgbWVkaXVtLCBvciBsYXJnZS4gKi9cbiAgcHJpdmF0ZSBjb25uZWN0aW9uU2l6ZTogJ21pbmltYWwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnID0gJ21lZGl1bSc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgYW5jZXN0b3IgY29ubmVjdGlvbnMgdmlzdWFsbHkgb3ZlcmxhcCBkZXNjZW5kYW50IGNvbm5lY3Rpb25zIGluIHRoaXMgcmVuZGVyZXIuXG4gICAqIFRydWUgZm9yIFplbG9zIChjb25uZWN0aW9ucyBvdmVybGFwKSwgZmFsc2UgZm9yIEdlcmFzL1RocmFzb3MgKGNvbm5lY3Rpb25zIGRvbid0IG92ZXJsYXApLlxuICAgKi9cbiAgcHJpdmF0ZSBhbmNlc3RvckNvbm5lY3Rpb25zT3ZlcmxhcDogYm9vbGVhbjtcblxuICAvKiogU2VwYXJhdGUgU1ZHIGdyb3VwIGxheWVyIGZvciBhbGwgaGlnaGxpZ2h0cywgcmVuZGVyZWQgb24gdG9wIG9mIGJsb2Nrcy4gKi9cbiAgcHJpdmF0ZSBoaWdobGlnaHRMYXllcjogU1ZHR0VsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAvKiogU2V0IG9mIGJsb2NrcyB0aGF0IGhhdmUgaGlnaGxpZ2h0cywgdXNlZCB0byBkZXRlY3Qgb3ZlcmxhcHBpbmcgZGVzY2VuZGFudHMuICovXG4gIHByaXZhdGUgaGlnaGxpZ2h0ZWRCbG9ja3M6IFNldDxCbG9ja1N2Zz4gPSBuZXcgU2V0KCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgb25Db25uZWN0aW9uQ2xpY2s/OiAoY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uKSA9PiB2b2lkLFxuICApIHtcbiAgICB0aGlzLndvcmtzcGFjZSA9IHdvcmtzcGFjZTtcbiAgICB0aGlzLm9uQ29ubmVjdGlvbkNsaWNrID0gb25Db25uZWN0aW9uQ2xpY2s7XG5cbiAgICAvLyBaZWxvczogYW5jZXN0b3IgY29ubmVjdGlvbnMgdmlzdWFsbHkgb3ZlcmxhcCBkZXNjZW5kYW50c1xuICAgIC8vIEdlcmFzL1RocmFzb3M6IGNvbm5lY3Rpb25zIHJlbmRlciBzaWRlLWJ5LXNpZGUgd2l0aG91dCBvdmVybGFwcGluZ1xuICAgIGNvbnN0IHJlbmRlcmVyTmFtZSA9IHdvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmNvbnN0cnVjdG9yLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLmFuY2VzdG9yQ29ubmVjdGlvbnNPdmVybGFwID0gcmVuZGVyZXJOYW1lLmluY2x1ZGVzKCd6ZWxvcycpO1xuXG4gICAgdGhpcy5zY3JvbGxMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlSGlnaGxpZ2h0cygpO1xuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgYSBzZXBhcmF0ZSBoaWdobGlnaHQgbGF5ZXIgYXQgd29ya3NwYWNlIGxldmVsXG4gICAgdGhpcy5jcmVhdGVIaWdobGlnaHRMYXllcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkZWRpY2F0ZWQgU1ZHIGxheWVyIGZvciBoaWdobGlnaHRzIHRoYXQgcmVuZGVycyBvbiB0b3Agb2YgYWxsIGJsb2Nrcy5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlSGlnaGxpZ2h0TGF5ZXIoKTogdm9pZCB7XG4gICAgLy8gQXBwZW5kIHRvIHBhcmVudCBTVkcgKGFib3ZlIHdvcmtzcGFjZSBncm91cCkgdG8gYXZvaWQgY29vcmRpbmF0ZSB0cmFuc2Zvcm0gaXNzdWVzXG4gICAgY29uc3QgcGFyZW50U3ZnID0gdGhpcy53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCk7XG4gICAgaWYgKHBhcmVudFN2Zykge1xuICAgICAgdGhpcy5oaWdobGlnaHRMYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgdGhpcy5oaWdobGlnaHRMYXllci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Jsb2NrbHlDb25uZWN0aW9uSGlnaGxpZ2h0TGF5ZXInKTtcbiAgICAgIHBhcmVudFN2Zy5hcHBlbmRDaGlsZCh0aGlzLmhpZ2hsaWdodExheWVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgZmF0dGVyIGNvbm5lY3Rpb24gaGlnaGxpZ2h0cy5cbiAgICogS2VwdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSBlbmFibGVkIFdoZXRoZXIgdG8gdXNlIGZhdHRlciBjb25uZWN0aW9ucyB3aXRoIGxhcmdlciBjbGljayB0YXJnZXRzLlxuICAgKi9cbiAgc2V0RmF0dGVyQ29ubmVjdGlvbnMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuY29ubmVjdGlvblNpemUgPSBlbmFibGVkID8gJ21lZGl1bScgOiAnbWluaW1hbCc7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb25uZWN0aW9uIGhpZ2hsaWdodCBzaXplLlxuICAgKlxuICAgKiBAcGFyYW0gc2l6ZSBUaGUgc2l6ZSBsZXZlbDogJ21pbmltYWwnLCAnbWVkaXVtJywgb3IgJ2xhcmdlJy5cbiAgICovXG4gIHNldENvbm5lY3Rpb25TaXplKHNpemU6ICdtaW5pbWFsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyk6IHZvaWQge1xuICAgIHRoaXMuY29ubmVjdGlvblNpemUgPSBzaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZ2hsaWdodHMgYWxsIHZhbGlkIGNvbm5lY3Rpb24gcG9pbnRzIGZvciB0aGUgZ2l2ZW4gbW92aW5nIGJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0gbW92aW5nQmxvY2sgVGhlIGJsb2NrIGJlaW5nIG1vdmVkLlxuICAgKiBAcGFyYW0gYWxsQ29ubmVjdGlvbnMgQWxsIGF2YWlsYWJsZSBjb25uZWN0aW9ucyBvbiB0aGUgd29ya3NwYWNlLlxuICAgKiBAcGFyYW0gbG9jYWxDb25uZWN0aW9ucyBDb25uZWN0aW9ucyBhdmFpbGFibGUgb24gdGhlIG1vdmluZyBibG9jay5cbiAgICovXG4gIGhpZ2hsaWdodFZhbGlkQ29ubmVjdGlvbnMoXG4gICAgbW92aW5nQmxvY2s6IEJsb2NrU3ZnLFxuICAgIGFsbENvbm5lY3Rpb25zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSxcbiAgICBsb2NhbENvbm5lY3Rpb25zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSxcbiAgKTogVmFsaWRDb25uZWN0aW9uW10ge1xuICAgIHRoaXMuY2xlYXJIaWdobGlnaHRzKCk7XG5cbiAgICBjb25zdCB2YWxpZENvbm5lY3Rpb25zID0gdGhpcy5maW5kQWxsVmFsaWRDb25uZWN0aW9ucyhcbiAgICAgIG1vdmluZ0Jsb2NrLFxuICAgICAgYWxsQ29ubmVjdGlvbnMsXG4gICAgICBsb2NhbENvbm5lY3Rpb25zLFxuICAgICk7XG5cbiAgICAvLyBBcHBseSB2aXN1YWwgaGlnaGxpZ2h0aW5nIHRvIGVhY2ggdmFsaWQgY29ubmVjdGlvblxuICAgIC8vIFNvcnQgYnkgQVNUIGRlcHRoIChwYXJlbnRzIGZpcnN0KSBzbyBjaGlsZCBoaWdobGlnaHRzIGFyZSBhZGRlZCBhZnRlciBhbmQgcmVuZGVyIG9uIHRvcFxuICAgIGNvbnN0IHZhbGlkQ29ubmVjdGlvbnNTb3J0ZWQgPSB2YWxpZENvbm5lY3Rpb25zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGRlcHRoQSA9IHRoaXMuZ2V0QmxvY2tEZXB0aChhLm5laWdoYm91ci5nZXRTb3VyY2VCbG9jaygpKTtcbiAgICAgIGNvbnN0IGRlcHRoQiA9IHRoaXMuZ2V0QmxvY2tEZXB0aChiLm5laWdoYm91ci5nZXRTb3VyY2VCbG9jaygpKTtcbiAgICAgIC8vIFJlbmRlciBzaGFsbG93ZXIgYmxvY2tzIGZpcnN0LCB0aGVuIGRlZXBlciBibG9ja3MgKGNoaWxkIGhpZ2hsaWdodHMgYWRkZWQgbGFzdClcbiAgICAgIHJldHVybiBkZXB0aEEgLSBkZXB0aEI7XG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IHZhbGlkQ29ubmVjdGlvbiBvZiB2YWxpZENvbm5lY3Rpb25zU29ydGVkKSB7XG4gICAgICBjb25zdCBzb3VyY2VCbG9jayA9IHZhbGlkQ29ubmVjdGlvbi5uZWlnaGJvdXIuZ2V0U291cmNlQmxvY2soKTtcbiAgICAgIGlmICghKHNvdXJjZUJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpKSBjb250aW51ZTtcblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IGFuY2VzdG9yIGJsb2NrIGFscmVhZHkgaGFzIGEgaGlnaGxpZ2h0XG4gICAgICBjb25zdCBoYXNBbmNlc3RvckhpZ2hsaWdodCA9IHRoaXMuaGFzQW5jZXN0b3JXaXRoSGlnaGxpZ2h0KHNvdXJjZUJsb2NrKTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBoaWdobGlnaHQgKGZ1bGx5IHRyYW5zcGFyZW50IGlmIGFuY2VzdG9yIGhhcyBvbmUpXG4gICAgICB0aGlzLmhpZ2hsaWdodENvbm5lY3Rpb24odmFsaWRDb25uZWN0aW9uLm5laWdoYm91ciwgaGFzQW5jZXN0b3JIaWdobGlnaHQpO1xuXG4gICAgICAvLyBUcmFjayB0aGlzIGJsb2NrIGFzIGhhdmluZyBhIGhpZ2hsaWdodFxuICAgICAgdGhpcy5oaWdobGlnaHRlZEJsb2Nrcy5hZGQoc291cmNlQmxvY2spO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBoaWdobGlnaHQgcG9zaXRpb25zIHdoZW4gd29ya3NwYWNlIHNjcm9sbHNcbiAgICBpZiAodGhpcy5zY3JvbGxMaXN0ZW5lcikge1xuICAgICAgY29uc3Qgc3ZnR3JvdXAgPSB0aGlzLndvcmtzcGFjZS5nZXRTdmdHcm91cCgpO1xuICAgICAgaWYgKHN2Z0dyb3VwKSB7XG4gICAgICAgIHRoaXMud29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuc2Nyb2xsTGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWxpZENvbm5lY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCB2YWxpZCBjb25uZWN0aW9ucyBiZXR3ZWVuIHRoZSBtb3ZpbmcgYmxvY2sgYW5kIHdvcmtzcGFjZSBjb25uZWN0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIG1vdmluZ0Jsb2NrIFRoZSBibG9jayBiZWluZyBtb3ZlZC5cbiAgICogQHBhcmFtIGFsbENvbm5lY3Rpb25zIEFsbCBhdmFpbGFibGUgY29ubmVjdGlvbnMgb24gdGhlIHdvcmtzcGFjZS5cbiAgICogQHBhcmFtIGxvY2FsQ29ubmVjdGlvbnMgQ29ubmVjdGlvbnMgYXZhaWxhYmxlIG9uIHRoZSBtb3ZpbmcgYmxvY2suXG4gICAqIEByZXR1cm5zIEFycmF5IG9mIHZhbGlkIGNvbm5lY3Rpb24gcGFpcnMuXG4gICAqL1xuICBwcml2YXRlIGZpbmRBbGxWYWxpZENvbm5lY3Rpb25zKFxuICAgIG1vdmluZ0Jsb2NrOiBCbG9ja1N2ZyxcbiAgICBhbGxDb25uZWN0aW9uczogUmVuZGVyZWRDb25uZWN0aW9uW10sXG4gICAgbG9jYWxDb25uZWN0aW9uczogUmVuZGVyZWRDb25uZWN0aW9uW10sXG4gICk6IFZhbGlkQ29ubmVjdGlvbltdIHtcbiAgICBjb25zdCB2YWxpZENvbm5lY3Rpb25zOiBWYWxpZENvbm5lY3Rpb25bXSA9IFtdO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25DaGVja2VyID0gbW92aW5nQmxvY2sud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyO1xuXG4gICAgZm9yIChjb25zdCBsb2NhbENvbm4gb2YgbG9jYWxDb25uZWN0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxOZWlnaGJvdXIgb2YgYWxsQ29ubmVjdGlvbnMpIHtcbiAgICAgICAgLy8gU2tpcCBjb25uZWN0aW9ucyBvbiB0aGUgbW92aW5nIGJsb2NrIGl0c2VsZiBvciBpdHMgZGVzY2VuZGFudHNcbiAgICAgICAgaWYgKHRoaXMuZ2V0RmlsdGVyUmVhc29uKHBvdGVudGlhbE5laWdoYm91ciwgbW92aW5nQmxvY2spKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTa2lwIGNvbm5lY3Rpb25zIGFscmVhZHkgb2NjdXBpZWQgYnkgdGhlIG1vdmluZyBibG9ja1xuICAgICAgICAvLyAoZS5nLiwgYSBjb2xvciB2YWx1ZSBibG9jayBhbHJlYWR5IGluIHRoZSBtb3ZpbmcgYmxvY2sncyBjb2xvciBpbnB1dClcbiAgICAgICAgaWYgKHBvdGVudGlhbE5laWdoYm91ci50YXJnZXRDb25uZWN0aW9uICYmXG4gICAgICAgICAgICBsb2NhbENvbm5lY3Rpb25zLmluY2x1ZGVzKHBvdGVudGlhbE5laWdoYm91ci50YXJnZXRDb25uZWN0aW9uIGFzIFJlbmRlcmVkQ29ubmVjdGlvbikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgaGlnaGxpZ2h0IHdoZXJlIHRoZSBtb3ZpbmcgYmxvY2sgY2FuIGF0dGFjaCBUTyBvdGhlciBibG9ja3MsXG4gICAgICAgIC8vIG5vdCB3aGVyZSBvdGhlciBibG9ja3Mgd291bGQgaW5zZXJ0IElOVE8gdGhlIG1vdmluZyBibG9jaydzIGlucHV0cy5cbiAgICAgICAgLy8gVmFsaWQ6IE9VVFBVVOKGkklOUFVULCBQUkVWSU9VU+KGkk5FWFQsIE5FWFTihpJQUkVWSU9VU1xuICAgICAgICBjb25zdCBpc1ZhbGlkRGlyZWN0aW9uID1cbiAgICAgICAgICAobG9jYWxDb25uLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLk9VVFBVVF9WQUxVRSAmJlxuICAgICAgICAgICBwb3RlbnRpYWxOZWlnaGJvdXIudHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuSU5QVVRfVkFMVUUpIHx8XG4gICAgICAgICAgKGxvY2FsQ29ubi50eXBlID09PSBDb25uZWN0aW9uVHlwZS5QUkVWSU9VU19TVEFURU1FTlQgJiZcbiAgICAgICAgICAgcG90ZW50aWFsTmVpZ2hib3VyLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLk5FWFRfU1RBVEVNRU5UKSB8fFxuICAgICAgICAgIChsb2NhbENvbm4udHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuTkVYVF9TVEFURU1FTlQgJiZcbiAgICAgICAgICAgcG90ZW50aWFsTmVpZ2hib3VyLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLlBSRVZJT1VTX1NUQVRFTUVOVCk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkRGlyZWN0aW9uKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayB0eXBlIGNvbXBhdGliaWxpdHkgYW5kIGFkZCB0byByZXN1bHRzXG4gICAgICAgIGlmIChjb25uZWN0aW9uQ2hlY2tlci5jYW5Db25uZWN0KGxvY2FsQ29ubiwgcG90ZW50aWFsTmVpZ2hib3VyLCB0cnVlLCBJbmZpbml0eSkpIHtcbiAgICAgICAgICB2YWxpZENvbm5lY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgbG9jYWw6IGxvY2FsQ29ubixcbiAgICAgICAgICAgIG5laWdoYm91cjogcG90ZW50aWFsTmVpZ2hib3VyLFxuICAgICAgICAgICAgZGlzdGFuY2U6IHRoaXMuY2FsY3VsYXRlRGlzdGFuY2UobG9jYWxDb25uLCBwb3RlbnRpYWxOZWlnaGJvdXIpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU29ydCBieSBkaXN0YW5jZSBhbmQgbGltaXQgZm9yIHBlcmZvcm1hbmNlLlxuICAgIC8vIFVzZSBzdGFibGUgc29ydCB0byBwcmVzZXJ2ZSBzcGF0aWFsIG9yZGVyaW5nIHdoZW4gZGlzdGFuY2VzIGFyZSBlcXVhbC5cbiAgICAvLyBXZSB0cmFjayBvcmlnaW5hbCBpbmRpY2VzIHRvIGd1YXJhbnRlZSBzdGFiaWxpdHkgYWNyb3NzIGFsbCBKUyBlbmdpbmVzLlxuICAgIGNvbnN0IGluZGV4ZWQgPSB2YWxpZENvbm5lY3Rpb25zLm1hcCgoY29ubiwgaW5kZXgpID0+ICh7Y29ubiwgaW5kZXh9KSk7XG4gICAgaW5kZXhlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZURpZmYgPSBhLmNvbm4uZGlzdGFuY2UgLSBiLmNvbm4uZGlzdGFuY2U7XG4gICAgICAvLyBJZiBkaXN0YW5jZXMgZGlmZmVyLCBzb3J0IGJ5IGRpc3RhbmNlIChjbG9zZXIgY29ubmVjdGlvbnMgZmlyc3QpXG4gICAgICBpZiAoZGlzdGFuY2VEaWZmICE9PSAwKSByZXR1cm4gZGlzdGFuY2VEaWZmO1xuICAgICAgLy8gSWYgZGlzdGFuY2VzIGFyZSBlcXVhbCwgcHJlc2VydmUgb3JpZ2luYWwgb3JkZXIgZnJvbSBhbGxDb25uZWN0aW9uc1xuICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGluZGV4ZWQuc2xpY2UoMCwgTUFYX0hJR0hMSUdIVEVEX0NPTk5FQ1RJT05TKS5tYXAoaXRlbSA9PiBpdGVtLmNvbm4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdmlzdWFsIGhpZ2hsaWdodGluZyB0byBhIHNpbmdsZSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBoaWdobGlnaHQuXG4gICAqIEBwYXJhbSBpc092ZXJsYXBwaW5nIFdoZXRoZXIgdGhpcyBjb25uZWN0aW9uIG92ZXJsYXBzIHdpdGggYW4gYW5jZXN0b3IgY29ubmVjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgaGlnaGxpZ2h0Q29ubmVjdGlvbihjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sIGlzT3ZlcmxhcHBpbmc6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmNyZWF0ZUNvbm5lY3Rpb25WaXN1YWxpemF0aW9uKGNvbm5lY3Rpb24sIGlzT3ZlcmxhcHBpbmcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdGYWlsZWQgdG8gaGlnaGxpZ2h0IGNvbm5lY3Rpb24gKG5vbi1jcml0aWNhbCk6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGNvbm5lY3Rpb24tdHlwZS1hcHByb3ByaWF0ZSB2aXN1YWwgaGlnaGxpZ2h0LlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBjcmVhdGUgYSBoaWdobGlnaHQgZm9yLlxuICAgKiBAcGFyYW0gaXNPdmVybGFwcGluZyBXaGV0aGVyIHRoaXMgY29ubmVjdGlvbiBvdmVybGFwcyB3aXRoIGFuIGFuY2VzdG9yIGNvbm5lY3Rpb24uXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUNvbm5lY3Rpb25WaXN1YWxpemF0aW9uKGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbiwgaXNPdmVybGFwcGluZzogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc291cmNlQmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKCEoc291cmNlQmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2ZykpIHJldHVybjtcblxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IHNvdXJjZUJsb2NrLndvcmtzcGFjZTtcbiAgICBjb25zdCBzdmdHcm91cCA9IHdvcmtzcGFjZS5nZXRTdmdHcm91cCgpO1xuICAgIGlmICghc3ZnR3JvdXApIHJldHVybjtcblxuICAgIGxldCBoaWdobGlnaHQ6IFNWR0VsZW1lbnQ7XG5cbiAgICBzd2l0Y2ggKGNvbm5lY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSBDb25uZWN0aW9uVHlwZS5QUkVWSU9VU19TVEFURU1FTlQ6XG4gICAgICBjYXNlIENvbm5lY3Rpb25UeXBlLk5FWFRfU1RBVEVNRU5UOlxuICAgICAgICBoaWdobGlnaHQgPSB0aGlzLmNyZWF0ZVN0YXRlbWVudE5vdGNoKGNvbm5lY3Rpb24sIHdvcmtzcGFjZSwgaXNPdmVybGFwcGluZyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENvbm5lY3Rpb25UeXBlLklOUFVUX1ZBTFVFOlxuICAgICAgY2FzZSBDb25uZWN0aW9uVHlwZS5PVVRQVVRfVkFMVUU6XG4gICAgICAgIGhpZ2hsaWdodCA9IHRoaXMuY3JlYXRlVmFsdWVPdXRsaW5lKGNvbm5lY3Rpb24sIHdvcmtzcGFjZSwgaXNPdmVybGFwcGluZyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGhpZ2hsaWdodCkge1xuICAgICAgLy8gU3RvcmUgbWV0YWRhdGEgZm9yIGNsaWNrIGhhbmRsaW5nXG4gICAgICBoaWdobGlnaHQuc2V0QXR0cmlidXRlKCdkYXRhLWNvbm5lY3Rpb24teCcsIGNvbm5lY3Rpb24ueC50b1N0cmluZygpKTtcbiAgICAgIGhpZ2hsaWdodC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29ubmVjdGlvbi15JywgY29ubmVjdGlvbi55LnRvU3RyaW5nKCkpO1xuICAgICAgaGlnaGxpZ2h0LnNldEF0dHJpYnV0ZShcbiAgICAgICAgJ2RhdGEtY29ubmVjdGlvbi10eXBlJyxcbiAgICAgICAgY29ubmVjdGlvbi50eXBlLnRvU3RyaW5nKCksXG4gICAgICApO1xuXG4gICAgICB0aGlzLmVsZW1lbnRUb0Nvbm5lY3Rpb24uc2V0KGhpZ2hsaWdodCwgY29ubmVjdGlvbik7XG4gICAgICB0aGlzLmVsZW1lbnRUb09yaWdpbmFsQ29vcmRzLnNldChoaWdobGlnaHQsIHtcbiAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgdHlwZTogaGlnaGxpZ2h0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFbmFibGUgY29ubmVjdGlvbiBzZWxlY3Rpb24gdmlhIGNsaWNrXG4gICAgICBpZiAodGhpcy5vbkNvbm5lY3Rpb25DbGljaykge1xuICAgICAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25DbGljayEoY29ubmVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIGhpZ2hsaWdodC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgIGhpZ2hsaWdodC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGNsaWNrSGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBub3RjaC1zdHlsZSBoaWdobGlnaHQgZm9yIHN0YXRlbWVudCBjb25uZWN0aW9ucy5cbiAgICogQXR0YWNoZWQgdG8gYmxvY2sncyBTVkcgdG8gZm9sbG93IGJsb2NrIG1vdmVtZW50IGR1cmluZyBzdGFjayByZWFycmFuZ2VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgc3RhdGVtZW50IGNvbm5lY3Rpb24gdG8gaGlnaGxpZ2h0LlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgZm9yIGNvb3JkaW5hdGUgdHJhbnNmb3JtYXRpb24uXG4gICAqIEBwYXJhbSBpc092ZXJsYXBwaW5nIFdoZXRoZXIgdGhpcyBjb25uZWN0aW9uIG92ZXJsYXBzIHdpdGggYW4gYW5jZXN0b3IgY29ubmVjdGlvbi5cbiAgICogQHJldHVybnMgVGhlIFNWRyBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgbm90Y2guXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVN0YXRlbWVudE5vdGNoKFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICBpc092ZXJsYXBwaW5nOiBib29sZWFuID0gZmFsc2UsXG4gICk6IFNWR0VsZW1lbnQge1xuICAgIGNvbnN0IHNvdXJjZUJsb2NrID0gY29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGlmICghKHNvdXJjZUJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBibG9jayBpcyBub3QgYSBCbG9ja1N2ZycpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlbmRlcmVyID0gc291cmNlQmxvY2sud29ya3NwYWNlLmdldFJlbmRlcmVyKCk7XG4gICAgY29uc3QgY29uc3RhbnRzID0gcmVuZGVyZXIuZ2V0Q29uc3RhbnRzKCk7XG4gICAgY29uc3QgY29ubmVjdGlvblNoYXBlID0gY29uc3RhbnRzLnNoYXBlRm9yKGNvbm5lY3Rpb24pO1xuXG4gICAgaWYgKCFjb25uZWN0aW9uU2hhcGUgfHwgIShjb25uZWN0aW9uU2hhcGUgYXMgYW55KS5wYXRoTGVmdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb25uZWN0aW9uIHNoYXBlIGF2YWlsYWJsZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHhMZW4gPSBjb25zdGFudHMuTk9UQ0hfT0ZGU0VUX0xFRlQgLSBjb25zdGFudHMuQ09STkVSX1JBRElVUztcbiAgICBjb25zdCBwYXRoTGVmdCA9IChjb25uZWN0aW9uU2hhcGUgYXMgYW55KS5wYXRoTGVmdDtcbiAgICBjb25zdCBub3RjaFdpZHRoID0gKGNvbm5lY3Rpb25TaGFwZSBhcyBhbnkpLndpZHRoO1xuXG4gICAgbGV0IGhpZ2hsaWdodFBhdGg6IHN0cmluZztcblxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25TaXplID09PSAnbWluaW1hbCcpIHtcbiAgICAgIC8vIE1pbmltYWw6IHNpbXBsZSBub3RjaCBvdXRsaW5lXG4gICAgICBoaWdobGlnaHRQYXRoID0gKFxuICAgICAgICBgTSAkey14TGVufSAwIGAgK1xuICAgICAgICBgaCAke3hMZW59IGAgK1xuICAgICAgICBwYXRoTGVmdCArXG4gICAgICAgIGBoICR7eExlbn1gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNZWRpdW0vTGFyZ2U6IGZsYXQtdG9wLCBub3RjaGVkLWJvdHRvbSBzaGFwZSBmb3IgbGFyZ2VyIGNsaWNrIHRhcmdldFxuICAgICAgY29uc3QgdG9wUGFkZGluZyA9IHRoaXMuY29ubmVjdGlvblNpemUgPT09ICdsYXJnZScgPyA2IDogNDtcbiAgICAgIGNvbnN0IGJvdHRvbVBhZGRpbmcgPSB0aGlzLmNvbm5lY3Rpb25TaXplID09PSAnbGFyZ2UnID8gNiA6IDQ7XG5cbiAgICAgIGhpZ2hsaWdodFBhdGggPSAoXG4gICAgICAgIGBNICR7LXhMZW59ICR7LXRvcFBhZGRpbmd9IGAgKyAgICAgICAgICAgLy8gU3RhcnQgdG9wLWxlZnRcbiAgICAgICAgYHYgJHt0b3BQYWRkaW5nICsgYm90dG9tUGFkZGluZ30gYCArICAgICAvLyBHbyBkb3duIGxlZnQgc2lkZVxuICAgICAgICBgaCAke3hMZW59IGAgKyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvIHJpZ2h0IHRvIG5vdGNoIHN0YXJ0ICh4PTApXG4gICAgICAgIHBhdGhMZWZ0ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyBub3RjaCBhdCBib3R0b21cbiAgICAgICAgYGggJHt4TGVufSBgICsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHbyByaWdodCBmcm9tIG5vdGNoIGVuZFxuICAgICAgICBgdiAkey0odG9wUGFkZGluZyArIGJvdHRvbVBhZGRpbmcpfSBgICsgIC8vIEdvIHVwIHJpZ2h0IHNpZGVcbiAgICAgICAgYGggJHstKG5vdGNoV2lkdGggKyB4TGVuICogMil9IGAgKyAgICAgICAvLyBHbyBsZWZ0IGFjcm9zcyB0b3AgYmFjayB0byBzdGFydFxuICAgICAgICBgWmAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIHBhdGhcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgaGlnaGxpZ2h0U3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gd29ya3NwYWNlIGNvb3JkaW5hdGVzIHRvIFNWRyBjb29yZGluYXRlcyAoaGlnaGxpZ2h0IGxheWVyIGlzIGF0IHBhcmVudCBTVkcgbGV2ZWwpXG4gICAgY29uc3QgY29vcmRzID0gdGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyhjb25uZWN0aW9uLngsIGNvbm5lY3Rpb24ueSwgd29ya3NwYWNlKTtcbiAgICBjb25zdCBzY2FsZSA9IHdvcmtzcGFjZS5zY2FsZTtcbiAgICBjb25zdCBzY2FsZVRyYW5zZm9ybSA9IHNvdXJjZUJsb2NrLlJUTCA/IGAgc2NhbGUoJHstc2NhbGV9ICR7c2NhbGV9KWAgOiBgIHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBgdHJhbnNsYXRlKCR7Y29vcmRzLnh9LCAke2Nvb3Jkcy55fSkke3NjYWxlVHJhbnNmb3JtfWA7XG5cbiAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdkJywgaGlnaGxpZ2h0UGF0aCk7XG4gICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdHJhbnNmb3JtYXRpb24pO1xuXG4gICAgaWYgKGlzT3ZlcmxhcHBpbmcgJiYgdGhpcy5hbmNlc3RvckNvbm5lY3Rpb25zT3ZlcmxhcCkge1xuICAgICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdyZ2JhKDAsIDI1NSwgMCwgMCknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdyZ2JhKDAsIDI1NSwgMCwgMC43KScpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcyLjUnKTtcbiAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKTtcbiAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Jsb2NrbHlQb3RlbnRpYWxDb25uZWN0aW9uJyk7XG4gICAgaGlnaGxpZ2h0U3ZnLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgaGlnaGxpZ2h0U3ZnLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblxuICAgIC8vIEFkZCB0byB3b3Jrc3BhY2UgaGlnaGxpZ2h0IGxheWVyXG4gICAgaWYgKHRoaXMuaGlnaGxpZ2h0TGF5ZXIpIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0TGF5ZXIuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0U3ZnKTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50cy5hZGQoaGlnaGxpZ2h0U3ZnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGlnaGxpZ2h0U3ZnO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB2YWx1ZSBjb25uZWN0aW9uIGhpZ2hsaWdodCB1c2luZyB0aGUgcmVuZGVyZXIncyBwdXp6bGUgdGFiIHNoYXBlLlxuICAgKiBNYW5hZ2VzIFNWRyBpbmRlcGVuZGVudGx5IHRvIGF2b2lkIGNvcmUgcmVuZGVyaW5nIGxpZmVjeWNsZSBpbnRlcmZlcmVuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSB2YWx1ZSBjb25uZWN0aW9uIHRvIGhpZ2hsaWdodC5cbiAgICogQHBhcmFtIHNvdXJjZUJsb2NrIFRoZSBibG9jayBjb250YWluaW5nIHRoZSBjb25uZWN0aW9uLlxuICAgKiBAcGFyYW0gaXNPdmVybGFwcGluZyBXaGV0aGVyIHRoaXMgY29ubmVjdGlvbiBvdmVybGFwcyB3aXRoIGFuIGFuY2VzdG9yIGNvbm5lY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSBTVkcgZWxlbWVudCBjcmVhdGVkLCBvciBudWxsIGlmIHVuc3VjY2Vzc2Z1bC5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQ29yZUJhc2VkVmFsdWVIaWdobGlnaHQoXG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICAgIHNvdXJjZUJsb2NrOiBCbG9ja1N2ZyxcbiAgICBpc092ZXJsYXBwaW5nOiBib29sZWFuID0gZmFsc2UsXG4gICk6IFNWR0VsZW1lbnQgfCBudWxsIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVuZGVyZXIgPSBzb3VyY2VCbG9jay53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKTtcbiAgICAgIGNvbnN0IGNvbnN0YW50cyA9IHJlbmRlcmVyLmdldENvbnN0YW50cygpO1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uU2hhcGUgPSBjb25zdGFudHMuc2hhcGVGb3IoY29ubmVjdGlvbik7XG4gICAgICBpZiAoIWNvbm5lY3Rpb25TaGFwZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbGV0IGNvbm5QYXRoID0gJyc7XG4gICAgICBsZXQgbWVhc3VyYWJsZUhlaWdodCA9IGNvbnN0YW50cy5UQUJfSEVJR0hUO1xuXG4gICAgICBpZiAoKGNvbm5lY3Rpb25TaGFwZSBhcyBhbnkpLmlzRHluYW1pYykge1xuICAgICAgICBjb25zdCByZW5kZXJJbmZvID0gKHNvdXJjZUJsb2NrIGFzIGFueSkucmVuZGVySW5mb187XG4gICAgICAgIGlmIChyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgY29uc3QgY29ubmVjdGlvbk1lYXN1cmFibGUgPSB0aGlzLmZpbmRDb25uZWN0aW9uTWVhc3VyYWJsZShjb25uZWN0aW9uLCByZW5kZXJJbmZvKTtcbiAgICAgICAgICBpZiAoY29ubmVjdGlvbk1lYXN1cmFibGUgJiYgY29ubmVjdGlvbk1lYXN1cmFibGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBtZWFzdXJhYmxlSGVpZ2h0ID0gY29ubmVjdGlvbk1lYXN1cmFibGUuaGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbm5QYXRoID0gKGNvbm5lY3Rpb25TaGFwZSBhcyBhbnkpLnBhdGhEb3duKG1lYXN1cmFibGVIZWlnaHQpO1xuICAgICAgfSBlbHNlIGlmICgoY29ubmVjdGlvblNoYXBlIGFzIGFueSkucGF0aERvd24pIHtcbiAgICAgICAgY29ublBhdGggPSAoY29ubmVjdGlvblNoYXBlIGFzIGFueSkucGF0aERvd247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeUxlbiA9IGNvbnN0YW50cy5UQUJfT0ZGU0VUX0ZST01fVE9QO1xuXG4gICAgICBsZXQgaGlnaGxpZ2h0UGF0aDogc3RyaW5nO1xuICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblNpemUgPT09ICdtaW5pbWFsJykge1xuICAgICAgICAvLyBNaW5pbWFsOiBzdGFuZGFyZCB0aGluIG91dGxpbmVcbiAgICAgICAgaGlnaGxpZ2h0UGF0aCA9IChcbiAgICAgICAgICBgTSAwICR7LXlMZW59IGAgK1xuICAgICAgICAgIGB2ICR7eUxlbn0gYCArXG4gICAgICAgICAgY29ublBhdGggK1xuICAgICAgICAgIGB2ICR7eUxlbn1gXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNZWRpdW0vTGFyZ2U6IHB1enpsZSB0YWIgb24gbGVmdCwgcmVjdGFuZ3VsYXIgZXh0ZW5zaW9uIHRvIHJpZ2h0XG4gICAgICAgIC8vIFNpemUgdG8gZml0IHdpdGhpbiBhbiBlbXB0eSBjb25uZWN0aW9uIHNvY2tldCAoc2ltaWxhciB0byBwdXp6bGUgdGFiIHdpZHRoKVxuICAgICAgICBjb25zdCB0YWJXaWR0aCA9IChjb25uZWN0aW9uU2hhcGUgYXMgYW55KS53aWR0aCB8fCBjb25zdGFudHMuVEFCX1dJRFRIIHx8IDg7XG4gICAgICAgIGNvbnN0IHJpZ2h0UGFkZGluZyA9IHRoaXMuY29ubmVjdGlvblNpemUgPT09ICdsYXJnZScgPyB0YWJXaWR0aCAqIDEuNSA6IHRhYldpZHRoO1xuICAgICAgICBjb25zdCB0b3RhbEhlaWdodCA9IHlMZW4gKiAyICsgbWVhc3VyYWJsZUhlaWdodDtcblxuICAgICAgICBoaWdobGlnaHRQYXRoID0gKFxuICAgICAgICAgIGBNIDAgJHsteUxlbn0gYCArICAgICAgICAgICAgICAvLyBTdGFydCBhYm92ZSBjb25uZWN0aW9uXG4gICAgICAgICAgYHYgJHt5TGVufSBgICsgICAgICAgICAgICAgICAgICAvLyBEb3duIHRvIGNvbm5lY3Rpb24gcG9pbnRcbiAgICAgICAgICBjb25uUGF0aCArICAgICAgICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIHB1enpsZSB0YWIgKGxlZnQgc2lkZSlcbiAgICAgICAgICBgdiAke3lMZW59IGAgKyAgICAgICAgICAgICAgICAgIC8vIERvd24gdG8gYm90dG9tLWxlZnRcbiAgICAgICAgICBgaCAke3JpZ2h0UGFkZGluZ30gYCArICAgICAgICAgIC8vIFJpZ2h0IHRvIGJvdHRvbS1yaWdodCAoZml0cyBlbXB0eSBzb2NrZXQpXG4gICAgICAgICAgYHYgJHstdG90YWxIZWlnaHR9IGAgKyAgICAgICAgICAvLyBVcCB0byB0b3AtcmlnaHRcbiAgICAgICAgICBgaCAkey1yaWdodFBhZGRpbmd9IGAgKyAgICAgICAgIC8vIExlZnQgYmFjayB0byB0b3AtbGVmdFxuICAgICAgICAgIGBaYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIHNoYXBlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhpZ2hsaWdodFN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gd29ya3NwYWNlIGNvb3JkaW5hdGVzIHRvIFNWRyBjb29yZGluYXRlcyAoaGlnaGxpZ2h0IGxheWVyIGlzIGF0IHBhcmVudCBTVkcgbGV2ZWwpXG4gICAgICBjb25zdCBjb29yZHMgPSB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzKGNvbm5lY3Rpb24ueCwgY29ubmVjdGlvbi55LCB0aGlzLndvcmtzcGFjZSk7XG4gICAgICBjb25zdCBzY2FsZSA9IHRoaXMud29ya3NwYWNlLnNjYWxlO1xuICAgICAgY29uc3Qgc2NhbGVUcmFuc2Zvcm0gPSBzb3VyY2VCbG9jay5SVEwgPyBgIHNjYWxlKCR7LXNjYWxlfSAke3NjYWxlfSlgIDogYCBzY2FsZSgke3NjYWxlfSlgO1xuICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBgdHJhbnNsYXRlKCR7Y29vcmRzLnh9LCAke2Nvb3Jkcy55fSkke3NjYWxlVHJhbnNmb3JtfWA7XG5cbiAgICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ2QnLCBoaWdobGlnaHRQYXRoKTtcbiAgICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybWF0aW9uKTtcblxuICAgICAgaWYgKGlzT3ZlcmxhcHBpbmcgJiYgdGhpcy5hbmNlc3RvckNvbm5lY3Rpb25zT3ZlcmxhcCkge1xuICAgICAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3JnYmEoMCwgMjU1LCAwLCAwKScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdyZ2JhKDAsIDI1NSwgMCwgMC43KScpO1xuICAgICAgfVxuXG4gICAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnOCcpO1xuICAgICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYmxvY2tseVBvdGVudGlhbENvbm5lY3Rpb24nKTtcbiAgICAgIGhpZ2hsaWdodFN2Zy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgaGlnaGxpZ2h0U3ZnLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblxuICAgICAgLy8gQWRkIHRvIHdvcmtzcGFjZSBoaWdobGlnaHQgbGF5ZXJcbiAgICAgIGlmICh0aGlzLmhpZ2hsaWdodExheWVyKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0TGF5ZXIuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0U3ZnKTtcblxuICAgICAgICB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudHMuYWRkKGhpZ2hsaWdodFN2Zyk7XG4gICAgICAgIHRoaXMuZWxlbWVudFRvQ29ubmVjdGlvbi5zZXQoaGlnaGxpZ2h0U3ZnLCBjb25uZWN0aW9uKTtcbiAgICAgICAgdGhpcy5lbGVtZW50VG9PcmlnaW5hbENvb3Jkcy5zZXQoaGlnaGxpZ2h0U3ZnLCB7XG4gICAgICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgICAgICB0eXBlOiAncGF0aCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9uQ29ubmVjdGlvbkNsaWNrKSB7XG4gICAgICAgICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkNsaWNrIShjb25uZWN0aW9uKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGhpZ2hsaWdodFN2Zy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgaGlnaGxpZ2h0U3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaWdobGlnaHRTdmc7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRmFpbGVkIHRvIGNyZWF0ZSBjb3JlLWJhc2VkIHZhbHVlIGhpZ2hsaWdodCwgdXNpbmcgZmFsbGJhY2s6JywgZXJyb3IpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBjb25uZWN0aW9uIG1lYXN1cmFibGUgb2JqZWN0IGZyb20gcmVuZGVyIGluZm8gdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gY29ubmVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIHJlbmRlcmVkIGNvbm5lY3Rpb24gdG8gZmluZC5cbiAgICogQHBhcmFtIHJlbmRlckluZm8gVGhlIGJsb2NrJ3MgcmVuZGVyIGluZm8uXG4gICAqIEByZXR1cm5zIFRoZSBjb25uZWN0aW9uIG1lYXN1cmFibGUsIG9yIG51bGwgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kQ29ubmVjdGlvbk1lYXN1cmFibGUoY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLCByZW5kZXJJbmZvOiBhbnkpOiBhbnkge1xuICAgIGlmICghcmVuZGVySW5mbyB8fCAhcmVuZGVySW5mby5yb3dzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgcm93cyBhbmQgZWxlbWVudHMgdG8gZmluZCB0aGUgbWF0Y2hpbmcgY29ubmVjdGlvblxuICAgIGZvciAoY29uc3Qgcm93IG9mIHJlbmRlckluZm8ucm93cykge1xuICAgICAgaWYgKHJvdy5lbGVtZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygcm93LmVsZW1lbnRzKSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuY29ubmVjdGlvbk1vZGVsID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIG91dGxpbmUgaGlnaGxpZ2h0IGZvciB2YWx1ZSBjb25uZWN0aW9ucy5cbiAgICogVXNlcyByZW5kZXJlci1iYXNlZCBzaGFwZXMgZm9yIEdlcmFzL1RocmFzb3MsIGZhbGxzIGJhY2sgdG8gcm91bmRlZCByZWN0IGZvciBaZWxvcy5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIHZhbHVlIGNvbm5lY3Rpb24gdG8gaGlnaGxpZ2h0LlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgZm9yIGNvb3JkaW5hdGUgdHJhbnNmb3JtYXRpb24uXG4gICAqIEBwYXJhbSBpc092ZXJsYXBwaW5nIFdoZXRoZXIgdGhpcyBjb25uZWN0aW9uIG92ZXJsYXBzIHdpdGggYW4gYW5jZXN0b3IgY29ubmVjdGlvbi5cbiAgICogQHJldHVybnMgVGhlIFNWRyBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb3V0bGluZS5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlVmFsdWVPdXRsaW5lKFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICBpc092ZXJsYXBwaW5nOiBib29sZWFuID0gZmFsc2UsXG4gICk6IFNWR0VsZW1lbnQge1xuICAgIGNvbnN0IHNvdXJjZUJsb2NrID0gY29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGlmIChzb3VyY2VCbG9jayBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICBjb25zdCByZW5kZXJlciA9IHNvdXJjZUJsb2NrLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpO1xuICAgICAgY29uc3QgcmVuZGVyZXJOYW1lID0gcmVuZGVyZXIuY29uc3RydWN0b3IubmFtZTtcbiAgICAgIGNvbnN0IGlzWmVsb3MgPSByZW5kZXJlck5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnemVsb3MnKTtcblxuICAgICAgLy8gVXNlIGNvcmUgc2hhcGVzIGZvciBHZXJhcy9UaHJhc29zIChaZWxvcyByZXF1aXJlcyB1bmF2YWlsYWJsZSByZW5kZXJJbmZvKVxuICAgICAgaWYgKCFpc1plbG9zKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlSGlnaGxpZ2h0ID0gdGhpcy5jcmVhdGVDb3JlQmFzZWRWYWx1ZUhpZ2hsaWdodChjb25uZWN0aW9uLCBzb3VyY2VCbG9jaywgaXNPdmVybGFwcGluZyk7XG4gICAgICAgIGlmIChzaGFwZUhpZ2hsaWdodCkge1xuICAgICAgICAgIHNoYXBlSGlnaGxpZ2h0LnNldEF0dHJpYnV0ZSgnZGF0YS1hbHJlYWR5LWluLWRvbScsICd0cnVlJyk7XG4gICAgICAgICAgcmV0dXJuIHNoYXBlSGlnaGxpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgcm91bmRlZCByZWN0IGZvciBaZWxvcyBvciBpZiBjb3JlIHNoYXBlcyB1bmF2YWlsYWJsZVxuICAgIC8vIEFkZCB0byB3b3Jrc3BhY2UgaGlnaGxpZ2h0IGxheWVyIGZvciBwcm9wZXIgei1vcmRlclxuICAgIGNvbnN0IHNvY2tldEJvdW5kcyA9IHRoaXMuZ2V0QWN0dWFsU29ja2V0Qm91bmRzKGNvbm5lY3Rpb24sIHdvcmtzcGFjZSk7XG4gICAgY29uc3QgcmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncmVjdCcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHdvcmtzcGFjZSBjb29yZGluYXRlcyB0byBTVkcgY29vcmRpbmF0ZXMgKGhpZ2hsaWdodCBsYXllciBpcyBhdCBwYXJlbnQgU1ZHIGxldmVsKVxuICAgIGlmIChzb3VyY2VCbG9jayBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICBjb25zdCBjb29yZHMgPSB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzKHNvY2tldEJvdW5kcy54LCBzb2NrZXRCb3VuZHMueSwgd29ya3NwYWNlKTtcbiAgICAgIGNvbnN0IHNjYWxlID0gd29ya3NwYWNlLnNjYWxlO1xuICAgICAgY29uc3QgY29ybmVyUmFkaXVzID0gTWF0aC5taW4oc29ja2V0Qm91bmRzLmhlaWdodCAvIDIsIDI1KTtcblxuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3gnLCBjb29yZHMueC50b1N0cmluZygpKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlKCd5JywgY29vcmRzLnkudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAoc29ja2V0Qm91bmRzLndpZHRoICogc2NhbGUpLnRvU3RyaW5nKCkpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIChzb2NrZXRCb3VuZHMuaGVpZ2h0ICogc2NhbGUpLnRvU3RyaW5nKCkpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3J4JywgY29ybmVyUmFkaXVzLnRvU3RyaW5nKCkpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3J5JywgY29ybmVyUmFkaXVzLnRvU3RyaW5nKCkpO1xuXG4gICAgICBpZiAoaXNPdmVybGFwcGluZyAmJiB0aGlzLmFuY2VzdG9yQ29ubmVjdGlvbnNPdmVybGFwKSB7XG4gICAgICAgIHJlY3Quc2V0QXR0cmlidXRlKCdmaWxsJywgJ3JnYmEoMCwgMjU1LCAwLCAwKScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAncmdiYSgwLCAyNTUsIDAsIDAuNyknKTtcbiAgICAgIH1cblxuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICc2Jyk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsICczLDMnKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdibG9ja2x5UG90ZW50aWFsQ29ubmVjdGlvbicpO1xuICAgICAgcmVjdC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgICAgcmVjdC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG5cbiAgICAgIC8vIEFkZCB0byB3b3Jrc3BhY2UgaGlnaGxpZ2h0IGxheWVyXG4gICAgICBpZiAodGhpcy5oaWdobGlnaHRMYXllcikge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodExheWVyLmFwcGVuZENoaWxkKHJlY3QpO1xuXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50cy5hZGQocmVjdCk7XG4gICAgICAgIHRoaXMuZWxlbWVudFRvQ29ubmVjdGlvbi5zZXQocmVjdCwgY29ubmVjdGlvbik7XG4gICAgICAgIHRoaXMuZWxlbWVudFRvT3JpZ2luYWxDb29yZHMuc2V0KHJlY3QsIHtcbiAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgIHR5cGU6ICdyZWN0JyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub25Db25uZWN0aW9uQ2xpY2spIHtcbiAgICAgICAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uQ2xpY2shKGNvbm5lY3Rpb24pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgcmVjdC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGNsaWNrSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayBpZiBoaWdobGlnaHQgbGF5ZXIgbm90IGF2YWlsYWJsZVxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGFkZCByZWN0IGhpZ2hsaWdodCB0byB3b3Jrc3BhY2UgbGF5ZXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGJvdW5kcyBmb3Igc29ja2V0IGNvbnRlbnRzIG9yIHJlYXNvbmFibGUgZGVmYXVsdHMuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSB2YWx1ZSBjb25uZWN0aW9uIHRvIGFuYWx5emUuXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSBmb3IgY29vcmRpbmF0ZSByZWZlcmVuY2UuXG4gICAqIEByZXR1cm5zIEJvdW5kcyBvYmplY3Qgd2l0aCB4LCB5LCB3aWR0aCwgaGVpZ2h0LlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRBY3R1YWxTb2NrZXRCb3VuZHMoXG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICApOiB7eDogbnVtYmVyOyB5OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyfSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRhcmdldEJsb2NrID0gY29ubmVjdGlvbi50YXJnZXRCbG9jaygpO1xuICAgICAgaWYgKHRhcmdldEJsb2NrICYmIHRhcmdldEJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgICAgY29uc3QgYmxvY2tCb3VuZHMgPSB0YXJnZXRCbG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IGJsb2NrQm91bmRzLmxlZnQsXG4gICAgICAgICAgeTogYmxvY2tCb3VuZHMudG9wLFxuICAgICAgICAgIHdpZHRoOiBibG9ja0JvdW5kcy5yaWdodCAtIGJsb2NrQm91bmRzLmxlZnQsXG4gICAgICAgICAgaGVpZ2h0OiBibG9ja0JvdW5kcy5ib3R0b20gLSBibG9ja0JvdW5kcy50b3AsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNoYWRvd0Jsb2NrID0gY29ubmVjdGlvbi5nZXRTaGFkb3dEb20oKTtcbiAgICAgIGlmIChzaGFkb3dCbG9jayAmJiBjb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pIHtcbiAgICAgICAgY29uc3Qgc2hhZG93VGFyZ2V0QmxvY2sgPSBjb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICAgICAgaWYgKHNoYWRvd1RhcmdldEJsb2NrICYmIHNoYWRvd1RhcmdldEJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgICAgICBjb25zdCBzaGFkb3dCb3VuZHMgPSBzaGFkb3dUYXJnZXRCbG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBzaGFkb3dCb3VuZHMubGVmdCxcbiAgICAgICAgICAgIHk6IHNoYWRvd0JvdW5kcy50b3AsXG4gICAgICAgICAgICB3aWR0aDogc2hhZG93Qm91bmRzLnJpZ2h0IC0gc2hhZG93Qm91bmRzLmxlZnQsXG4gICAgICAgICAgICBoZWlnaHQ6IHNoYWRvd0JvdW5kcy5ib3R0b20gLSBzaGFkb3dCb3VuZHMudG9wLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc291cmNlQmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgICBpZiAoc291cmNlQmxvY2sgJiYgc291cmNlQmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZmluZElucHV0Rm9yQ29ubmVjdGlvbihzb3VyY2VCbG9jaywgY29ubmVjdGlvbik7XG4gICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgIGNvbnN0IGVzdGltYXRlZEJvdW5kcyA9IHRoaXMuZXN0aW1hdGVJbnB1dEJvdW5kcyhpbnB1dCwgY29ubmVjdGlvbik7XG4gICAgICAgICAgaWYgKGVzdGltYXRlZEJvdW5kcykge1xuICAgICAgICAgICAgcmV0dXJuIGVzdGltYXRlZEJvdW5kcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogY29ubmVjdGlvbi54LFxuICAgICAgICB5OiBjb25uZWN0aW9uLnkgLSAxNSxcbiAgICAgICAgd2lkdGg6IDgwLFxuICAgICAgICBoZWlnaHQ6IDMwLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRmFpbGVkIHRvIGdldCBzb2NrZXQgYm91bmRzLCB1c2luZyBkZWZhdWx0czonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBjb25uZWN0aW9uLngsXG4gICAgICAgIHk6IGNvbm5lY3Rpb24ueSAtIDE1LFxuICAgICAgICB3aWR0aDogODAsXG4gICAgICAgIGhlaWdodDogMzAsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgaW5wdXQgdGhhdCBjb250YWlucyB0aGUgZ2l2ZW4gY29ubmVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBzZWFyY2guXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIFRoZSBpbnB1dCBjb250YWluaW5nIHRoZSBjb25uZWN0aW9uLCBvciBudWxsLlxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kSW5wdXRGb3JDb25uZWN0aW9uKFxuICAgIGJsb2NrOiBCbG9ja1N2ZyxcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICk6IGFueSB7XG4gICAgY29uc3QgaW5wdXRzID0gYmxvY2suaW5wdXRMaXN0O1xuICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICBpZiAoaW5wdXQuY29ubmVjdGlvbiA9PT0gY29ubmVjdGlvbikge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEVzdGltYXRlcyBib3VuZHMgZm9yIGFuIGlucHV0IGJhc2VkIG9uIGZpZWxkIGNvbnRlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gZXN0aW1hdGUgYm91bmRzIGZvci5cbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gZm9yIHBvc2l0aW9uaW5nIHJlZmVyZW5jZS5cbiAgICogQHJldHVybnMgRXN0aW1hdGVkIGJvdW5kcyBvciBudWxsIGlmIGNhbm5vdCBkZXRlcm1pbmUuXG4gICAqL1xuICBwcml2YXRlIGVzdGltYXRlSW5wdXRCb3VuZHMoXG4gICAgaW5wdXQ6IGFueSxcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICk6IHt4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXJ9IHwgbnVsbCB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpbnB1dC5maWVsZFJvdyAmJiBpbnB1dC5maWVsZFJvdy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gMDtcbiAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gMzA7XG5cbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBpbnB1dC5maWVsZFJvdykge1xuICAgICAgICAgIGlmIChmaWVsZC5nZXRUZXh0KSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZmllbGQuZ2V0VGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgZmllbGRXaWR0aCA9IE1hdGgubWF4KHRleHQubGVuZ3RoICogOCArIDIwLCA0MCk7XG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IGZpZWxkV2lkdGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvdGFsV2lkdGggKz0gNDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBjb25uZWN0aW9uLngsXG4gICAgICAgICAgeTogY29ubmVjdGlvbi55IC0gbWF4SGVpZ2h0IC8gMixcbiAgICAgICAgICB3aWR0aDogdG90YWxXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IG1heEhlaWdodCxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0ZhaWxlZCB0byBlc3RpbWF0ZSBpbnB1dCBib3VuZHM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybXMgd29ya3NwYWNlIGNvb3JkaW5hdGVzIHRvIFNWRyBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHggV29ya3NwYWNlIHggY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHkgV29ya3NwYWNlIHkgY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIGZvciB0cmFuc2Zvcm1hdGlvbiBwYXJhbWV0ZXJzLlxuICAgKiBAcmV0dXJucyBUcmFuc2Zvcm1lZCBjb29yZGluYXRlcy5cbiAgICovXG4gIHByaXZhdGUgdHJhbnNmb3JtQ29vcmRpbmF0ZXMoXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgKToge3g6IG51bWJlcjsgeTogbnVtYmVyfSB7XG4gICAgY29uc3Qgc2NhbGUgPSB3b3Jrc3BhY2Uuc2NhbGU7XG4gICAgY29uc3QgdHJhbnNsYXRpb24gPSB3b3Jrc3BhY2UuZ2V0T3JpZ2luT2Zmc2V0SW5QaXhlbHMoKTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiB4ICogc2NhbGUgKyB0cmFuc2xhdGlvbi54LFxuICAgICAgeTogeSAqIHNjYWxlICsgdHJhbnNsYXRpb24ueSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2h5IGEgY29ubmVjdGlvbiBzaG91bGQgYmUgZmlsdGVyZWQsIG9yIG51bGwgaWYgdmFsaWQuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIGNoZWNrLlxuICAgKiBAcGFyYW0gbW92aW5nQmxvY2sgVGhlIGJsb2NrIGJlaW5nIG1vdmVkLlxuICAgKiBAcmV0dXJucyBUaGUgZmlsdGVyIHJlYXNvbiBzdHJpbmcsIG9yIG51bGwgaWYgbm90IGZpbHRlcmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRGaWx0ZXJSZWFzb24oXG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICAgIG1vdmluZ0Jsb2NrOiBCbG9ja1N2ZyxcbiAgKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3Qgc291cmNlQmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKCFzb3VyY2VCbG9jaykgcmV0dXJuICduby1zb3VyY2UtYmxvY2snO1xuXG4gICAgaWYgKHNvdXJjZUJsb2NrLmlzSW5zZXJ0aW9uTWFya2VyKCkpIHJldHVybiAnaW5zZXJ0aW9uLW1hcmtlcic7XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGNvbm5lY3Rpb25zIHRoYXQgd291bGQgcmVxdWlyZSBtb3ZpbmcgYW4gaW1tb3ZlYWJsZSBibG9ja1xuICAgIC8vIENhc2UgMTogUFJFVklPVVMvT1VUUFVUIGNvbm5lY3Rpb25zIG9uIGltbW92ZWFibGUgYmxvY2tzIChpbnNlcnRpbmcgYmVmb3JlIHdvdWxkIHB1c2ggdGhlbSlcbiAgICBpZiAoXG4gICAgICAhc291cmNlQmxvY2suaXNNb3ZhYmxlKCkgJiZcbiAgICAgIChjb25uZWN0aW9uLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLlBSRVZJT1VTX1NUQVRFTUVOVCB8fFxuICAgICAgICBjb25uZWN0aW9uLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLk9VVFBVVF9WQUxVRSlcbiAgICApIHtcbiAgICAgIHJldHVybiAnaW1tb3ZlYWJsZS1ibG9jay1zb3VyY2UnO1xuICAgIH1cblxuICAgIC8vIENhc2UgMjogTkVYVC9JTlBVVCBjb25uZWN0aW9ucyB0aGF0IGFyZSBhbHJlYWR5IG9jY3VwaWVkIGJ5IGltbW92ZWFibGUgYmxvY2tzXG4gICAgLy8gKGluc2VydGluZyB3b3VsZCBwdXNoIHRoZSBpbW1vdmVhYmxlIHRhcmdldCBhc2lkZSlcbiAgICBjb25zdCB0YXJnZXRDb25uZWN0aW9uID0gY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO1xuICAgIGlmICh0YXJnZXRDb25uZWN0aW9uKSB7XG4gICAgICBjb25zdCB0YXJnZXRCbG9jayA9IHRhcmdldENvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICAgIGlmICh0YXJnZXRCbG9jayAmJiAhdGFyZ2V0QmxvY2suaXNNb3ZhYmxlKCkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbm5lY3Rpb24udHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuTkVYVF9TVEFURU1FTlQgfHxcbiAgICAgICAgICBjb25uZWN0aW9uLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLklOUFVUX1ZBTFVFXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiAnaW1tb3ZlYWJsZS1ibG9jay10YXJnZXQnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZUJsb2NrID09PSBtb3ZpbmdCbG9jaykgcmV0dXJuICdtb3ZpbmctYmxvY2snO1xuXG4gICAgLy8gSW5jbHVkZSBhbGwgZGVzY2VuZGFudHMgaW5jbHVkaW5nIGlucHV0IHZhbHVlIGJsb2NrcyAodHJ1ZSBwYXJhbWV0ZXIpXG4gICAgLy8gVGhpcyBwcmV2ZW50cyBoaWdobGlnaHRpbmcgY29ubmVjdGlvbnMgb24gYmxvY2tzIGluc2lkZSB0aGUgbW92aW5nIGJsb2NrJ3MgaW5wdXRzXG4gICAgY29uc3QgbW92aW5nRGVzY2VuZGFudHMgPSBtb3ZpbmdCbG9jay5nZXREZXNjZW5kYW50cyh0cnVlKTtcbiAgICBpZiAobW92aW5nRGVzY2VuZGFudHMuaW5jbHVkZXMoc291cmNlQmxvY2sgYXMgQmxvY2tTdmcpKSB7XG4gICAgICByZXR1cm4gJ21vdmluZy1ibG9jay1kZXNjZW5kYW50JztcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgY29ubmVjdGlvbiBzaG91bGQgYmUgZmlsdGVyZWQgKG9uIG1vdmluZyBibG9jayBvciBwcmV2aWV3KS5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gY2hlY2suXG4gICAqIEBwYXJhbSBtb3ZpbmdCbG9jayBUaGUgYmxvY2sgYmVpbmcgbW92ZWQuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbm5lY3Rpb24gc2hvdWxkIGJlIGZpbHRlcmVkIG91dC5cbiAgICovXG4gIHByaXZhdGUgaXNDb25uZWN0aW9uT25Nb3ZpbmdCbG9jayhcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgbW92aW5nQmxvY2s6IEJsb2NrU3ZnLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRGaWx0ZXJSZWFzb24oY29ubmVjdGlvbiwgbW92aW5nQmxvY2spICE9PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIGNvbm5lY3Rpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubjEgRmlyc3QgY29ubmVjdGlvbi5cbiAgICogQHBhcmFtIGNvbm4yIFNlY29uZCBjb25uZWN0aW9uLlxuICAgKiBAcmV0dXJucyBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY29ubmVjdGlvbnMuXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZURpc3RhbmNlKFxuICAgIGNvbm4xOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgY29ubjI6IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBkeCA9IGNvbm4xLnggLSBjb25uMi54O1xuICAgIGNvbnN0IGR5ID0gY29ubjEueSAtIGNvbm4yLnk7XG4gICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgZGVwdGggb2YgYSBibG9jayBpbiB0aGUgQVNUIChob3cgbWFueSBwYXJlbnRzIGl0IGhhcykuXG4gICAqIFRvcC1sZXZlbCBibG9ja3MgaGF2ZSBkZXB0aCAwLCB0aGVpciBjaGlsZHJlbiBoYXZlIGRlcHRoIDEsIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBtZWFzdXJlIGRlcHRoIGZvci5cbiAgICogQHJldHVybnMgVGhlIGRlcHRoIG9mIHRoZSBibG9jayBpbiB0aGUgdHJlZS5cbiAgICovXG4gIHByaXZhdGUgZ2V0QmxvY2tEZXB0aChibG9jazogQmxvY2tTdmcgfCBudWxsKTogbnVtYmVyIHtcbiAgICBpZiAoIWJsb2NrKSByZXR1cm4gMDtcblxuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgbGV0IGN1cnJlbnQgPSBibG9jaztcblxuICAgIC8vIFdhbGsgdXAgdGhlIHBhcmVudCBjaGFpbiBjb3VudGluZyBsZXZlbHNcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gY3VycmVudC5nZXRQYXJlbnQoKTtcbiAgICAgIGlmICghcGFyZW50KSBicmVhaztcbiAgICAgIGRlcHRoKys7XG4gICAgICBjdXJyZW50ID0gcGFyZW50IGFzIEJsb2NrU3ZnO1xuICAgIH1cblxuICAgIHJldHVybiBkZXB0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYW55IGFuY2VzdG9yIGJsb2NrIGhhcyBhIGhpZ2hsaWdodC5cbiAgICogT25seSBmb2xsb3dzIE9VVFBVVOKGkklOUFVUIHZhbHVlIGNvbm5lY3Rpb24gY2hhaW5zLCBub3Qgc3RhdGVtZW50IGNoYWlucy5cbiAgICogVXNlZCB0byBtYWtlIGRlc2NlbmRhbnQgaGlnaGxpZ2h0cyB0cmFuc3BhcmVudCB0byBhdm9pZCB2aXN1YWwgY2x1dHRlci5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBjaGVjay5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiBhbnkgdmFsdWUgcGFyZW50IGhhcyBhIGhpZ2hsaWdodC5cbiAgICovXG4gIHByaXZhdGUgaGFzQW5jZXN0b3JXaXRoSGlnaGxpZ2h0KGJsb2NrOiBCbG9ja1N2Zyk6IGJvb2xlYW4ge1xuICAgIGxldCBjdXJyZW50ID0gYmxvY2s7XG5cbiAgICAvLyBPbmx5IGZvbGxvdyB2YWx1ZSBwYXJlbnQgY2hhaW4gKGJsb2NrcyBjb25uZWN0ZWQgdmlhIE9VVFBVVC9JTlBVVClcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgY29uc3Qgb3V0cHV0Q29ubmVjdGlvbiA9IGN1cnJlbnQub3V0cHV0Q29ubmVjdGlvbjtcbiAgICAgIGlmICghb3V0cHV0Q29ubmVjdGlvbiB8fCAhb3V0cHV0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgIC8vIE5vIG91dHB1dCBjb25uZWN0aW9uIG9yIG5vdCBjb25uZWN0ZWQsIHN0b3Agc2VhcmNoaW5nXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHBhcmVudCBibG9jayB0aGlzIG91dHB1dCBpcyBjb25uZWN0ZWQgdG9cbiAgICAgIGNvbnN0IHRhcmdldENvbm5lY3Rpb24gPSBvdXRwdXRDb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb247XG4gICAgICBpZiAoIXRhcmdldENvbm5lY3Rpb24pIGJyZWFrO1xuXG4gICAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXRDb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgICBpZiAoIXBhcmVudCB8fCAhKHBhcmVudCBpbnN0YW5jZW9mIEJsb2NrU3ZnKSkgYnJlYWs7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgcGFyZW50IGhhcyBhIGhpZ2hsaWdodFxuICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRCbG9ja3MuaGFzKHBhcmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnRpbnVlIHVwIHRoZSB2YWx1ZSBwYXJlbnQgY2hhaW5cbiAgICAgIGN1cnJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGNvbm5lY3Rpb24gaGlnaGxpZ2h0aW5nLlxuICAgKi9cbiAgY2xlYXJIaWdobGlnaHRzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNjcm9sbExpc3RlbmVyKSB7XG4gICAgICB0aGlzLndvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLnNjcm9sbExpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5oaWdobGlnaHRlZEVsZW1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gU2lsZW50bHkgZmFpbCAtIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudHMuY2xlYXIoKTtcbiAgICB0aGlzLmhpZ2hsaWdodGVkQmxvY2tzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBoaWdobGlnaHQgcG9zaXRpb25zIGJhc2VkIG9uIHdvcmtzcGFjZSBzY3JvbGwgYW5kIHpvb20uXG4gICAqL1xuICB1cGRhdGVIaWdobGlnaHRzKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IGNvb3Jkc0luZm8gPSB0aGlzLmVsZW1lbnRUb09yaWdpbmFsQ29vcmRzLmdldChlbGVtZW50KTtcbiAgICAgIGlmICghY29vcmRzSW5mbykgY29udGludWU7XG5cbiAgICAgIGNvbnN0IHtjb25uZWN0aW9uLCB0eXBlfSA9IGNvb3Jkc0luZm87XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNpcmNsZVBvc2l0aW9uKGVsZW1lbnQgYXMgU1ZHQ2lyY2xlRWxlbWVudCwgY29ubmVjdGlvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdwYXRoJzpcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGF0aFBvc2l0aW9uKGVsZW1lbnQgYXMgU1ZHUGF0aEVsZW1lbnQsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncmVjdCc6XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlY3RQb3NpdGlvbihlbGVtZW50IGFzIFNWR1JlY3RFbGVtZW50LCBjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdGYWlsZWQgdG8gdXBkYXRlIGhpZ2hsaWdodCBwb3NpdGlvbjonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIGEgY2lyY2xlIGhpZ2hsaWdodCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY2lyY2xlIFRoZSBjaXJjbGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRoaXMgY2lyY2xlIHJlcHJlc2VudHMuXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZUNpcmNsZVBvc2l0aW9uKFxuICAgIGNpcmNsZTogU1ZHQ2lyY2xlRWxlbWVudCxcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMudHJhbnNmb3JtQ29vcmRpbmF0ZXMoXG4gICAgICBjb25uZWN0aW9uLngsXG4gICAgICBjb25uZWN0aW9uLnksXG4gICAgICB0aGlzLndvcmtzcGFjZSxcbiAgICApO1xuICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgY29vcmRzLngudG9TdHJpbmcoKSk7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY3knLCBjb29yZHMueS50b1N0cmluZygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiBhIHBhdGggaGlnaGxpZ2h0IGVsZW1lbnQuXG4gICAqIFBhdGhzIGFyZSBpbiB0aGUgaGlnaGxpZ2h0IGxheWVyIGF0IHBhcmVudCBTVkcgbGV2ZWwuXG4gICAqXG4gICAqIEBwYXJhbSBwYXRoIFRoZSBwYXRoIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0aGlzIHBhdGggcmVwcmVzZW50cy5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlUGF0aFBvc2l0aW9uKFxuICAgIHBhdGg6IFNWR1BhdGhFbGVtZW50LFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc291cmNlQmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKCEoc291cmNlQmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2ZykpIHJldHVybjtcblxuICAgIC8vIFRyYW5zZm9ybSB3b3Jrc3BhY2UgY29vcmRpbmF0ZXMgdG8gU1ZHIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29vcmRzID0gdGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyhjb25uZWN0aW9uLngsIGNvbm5lY3Rpb24ueSwgdGhpcy53b3Jrc3BhY2UpO1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy53b3Jrc3BhY2Uuc2NhbGU7XG4gICAgY29uc3Qgc2NhbGVUcmFuc2Zvcm0gPSBzb3VyY2VCbG9jay5SVEwgPyBgIHNjYWxlKCR7LXNjYWxlfSAke3NjYWxlfSlgIDogYCBzY2FsZSgke3NjYWxlfSlgO1xuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gYHRyYW5zbGF0ZSgke2Nvb3Jkcy54fSwgJHtjb29yZHMueX0pJHtzY2FsZVRyYW5zZm9ybX1gO1xuICAgIHBhdGguc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm1hdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgYSByZWN0IGhpZ2hsaWdodCAodmFsdWUgY29ubmVjdGlvbnMpLlxuICAgKiBSZWN0cyBhcmUgaW4gdGhlIGhpZ2hsaWdodCBsYXllciBhdCBwYXJlbnQgU1ZHIGxldmVsLlxuICAgKlxuICAgKiBAcGFyYW0gcmVjdCBUaGUgcmVjdCBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdGhpcyByZWN0IHJlcHJlc2VudHMuXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVJlY3RQb3NpdGlvbihcbiAgICByZWN0OiBTVkdSZWN0RWxlbWVudCxcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHNvY2tldEJvdW5kcyA9IHRoaXMuZ2V0QWN0dWFsU29ja2V0Qm91bmRzKGNvbm5lY3Rpb24sIHRoaXMud29ya3NwYWNlKTtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzKHNvY2tldEJvdW5kcy54LCBzb2NrZXRCb3VuZHMueSwgdGhpcy53b3Jrc3BhY2UpO1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy53b3Jrc3BhY2Uuc2NhbGU7XG5cbiAgICByZWN0LnNldEF0dHJpYnV0ZSgneCcsIGNvb3Jkcy54LnRvU3RyaW5nKCkpO1xuICAgIHJlY3Quc2V0QXR0cmlidXRlKCd5JywgY29vcmRzLnkudG9TdHJpbmcoKSk7XG4gICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgKHNvY2tldEJvdW5kcy53aWR0aCAqIHNjYWxlKS50b1N0cmluZygpKTtcbiAgICByZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgKHNvY2tldEJvdW5kcy5oZWlnaHQgKiBzY2FsZSkudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgcG9pbnQgKGluIHNjcmVlbiBjb29yZGluYXRlcykgaW50ZXJzZWN0cyB3aXRoIGFueSBoaWdobGlnaHRlZCBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gc2NyZWVuWCBTY3JlZW4gWCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0gc2NyZWVuWSBTY3JlZW4gWSBjb29yZGluYXRlLlxuICAgKiBAcmV0dXJucyBUaGUgY29ubmVjdGlvbiBhdCB0aGUgcG9pbnQsIG9yIG51bGwgaWYgbm8gY29ubmVjdGlvbiBmb3VuZC5cbiAgICovXG4gIGZpbmRDb25uZWN0aW9uQXRQb2ludChzY3JlZW5YOiBudW1iZXIsIHNjcmVlblk6IG51bWJlcik6IFJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IGJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAoc2NyZWVuWCA+PSBib3VuZHMubGVmdCAmJiBzY3JlZW5YIDw9IGJvdW5kcy5yaWdodCAmJlxuICAgICAgICAgIHNjcmVlblkgPj0gYm91bmRzLnRvcCAmJiBzY3JlZW5ZIDw9IGJvdW5kcy5ib3R0b20pIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuZWxlbWVudFRvQ29ubmVjdGlvbi5nZXQoZWxlbWVudCk7XG4gICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBib3VuZGluZyBib3hlcyBmb3IgYWxsIGN1cnJlbnRseSBoaWdobGlnaHRlZCBjb25uZWN0aW9ucy5cbiAgICpcbiAgICogQHJldHVybnMgQXJyYXkgb2YgY29ubmVjdGlvbiBib3VuZHMgaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZXRIaWdobGlnaHRlZENvbm5lY3Rpb25Cb3VuZHMoKTogQXJyYXk8e1xuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbjtcbiAgICBib3VuZHM6IERPTVJlY3Q7XG4gICAgZWxlbWVudDogRWxlbWVudDtcbiAgfT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PHtjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb247IGJvdW5kczogRE9NUmVjdDsgZWxlbWVudDogRWxlbWVudH0+ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5oaWdobGlnaHRlZEVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5lbGVtZW50VG9Db25uZWN0aW9uLmdldChlbGVtZW50KTtcbiAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyBvZiB0aGUgaGlnaGxpZ2h0ZXIgYW5kIGNsZWFucyB1cCBhbGwgcmVzb3VyY2VzLlxuICAgKi9cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFySGlnaGxpZ2h0cygpO1xuXG4gICAgLy8gUmVtb3ZlIHRoZSBoaWdobGlnaHQgbGF5ZXJcbiAgICBpZiAodGhpcy5oaWdobGlnaHRMYXllciAmJiB0aGlzLmhpZ2hsaWdodExheWVyLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0TGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmhpZ2hsaWdodExheWVyKTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0TGF5ZXIgPSBudWxsO1xuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/connection_highlighter.ts\n");

/***/ }),

/***/ "../../src/constants.ts":
/*!******************************!*\
  !*** ../../src/constants.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LOGGING_MSG_TYPE: () => (/* binding */ LOGGING_MSG_TYPE),\n/* harmony export */   SHORTCUT_CATEGORIES: () => (/* binding */ SHORTCUT_CATEGORIES),\n/* harmony export */   SHORTCUT_NAMES: () => (/* binding */ SHORTCUT_NAMES),\n/* harmony export */   SHORTCUT_NAMES_TO_DISPLAY_TEXT: () => (/* binding */ SHORTCUT_NAMES_TO_DISPLAY_TEXT),\n/* harmony export */   STATE: () => (/* binding */ STATE)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* eslint-disable @typescript-eslint/naming-convention */\n// The rules expect camel or pascal case enum members and record properties.\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Constants for keyboard navigation.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n/**\n * Keyboard navigation states.\n * The different parts of Blockly that the user navigates between.\n */\nvar STATE;\n(function (STATE) {\n    STATE[\"NOWHERE\"] = \"nowhere\";\n    STATE[\"WORKSPACE\"] = \"workspace\";\n    STATE[\"FLYOUT\"] = \"flyout\";\n    STATE[\"TOOLBOX\"] = \"toolbox\";\n})(STATE || (STATE = {}));\n/**\n * Default keyboard navigation shortcut names.\n */\nvar SHORTCUT_NAMES;\n(function (SHORTCUT_NAMES) {\n    SHORTCUT_NAMES[\"UP\"] = \"up\";\n    SHORTCUT_NAMES[\"DOWN\"] = \"down\";\n    SHORTCUT_NAMES[\"RIGHT\"] = \"right\";\n    SHORTCUT_NAMES[\"LEFT\"] = \"left\";\n    SHORTCUT_NAMES[\"NEXT_STACK\"] = \"next_stack\";\n    SHORTCUT_NAMES[\"PREVIOUS_STACK\"] = \"previous_stack\";\n    // Unused.\n    SHORTCUT_NAMES[\"INSERT\"] = \"insert\";\n    SHORTCUT_NAMES[\"EDIT_OR_CONFIRM\"] = \"edit_or_confirm\";\n    SHORTCUT_NAMES[\"DISCONNECT\"] = \"disconnect\";\n    SHORTCUT_NAMES[\"TOOLBOX\"] = \"toolbox\";\n    SHORTCUT_NAMES[\"EXIT\"] = \"exit\";\n    SHORTCUT_NAMES[\"MENU\"] = \"menu\";\n    SHORTCUT_NAMES[\"COPY\"] = \"keyboard_nav_copy\";\n    SHORTCUT_NAMES[\"CUT\"] = \"keyboard_nav_cut\";\n    SHORTCUT_NAMES[\"PASTE\"] = \"keyboard_nav_paste\";\n    SHORTCUT_NAMES[\"DUPLICATE\"] = \"duplicate\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_UP\"] = \"workspace_up\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_DOWN\"] = \"workspace_down\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_LEFT\"] = \"workspace_left\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_RIGHT\"] = \"workspace_right\";\n    SHORTCUT_NAMES[\"CREATE_WS_CURSOR\"] = \"to_workspace\";\n    SHORTCUT_NAMES[\"LIST_SHORTCUTS\"] = \"list_shortcuts\";\n    SHORTCUT_NAMES[\"CLEAN_UP\"] = \"clean_up_workspace\";\n    SHORTCUT_NAMES[\"START_MOVE\"] = \"start_move\";\n})(SHORTCUT_NAMES || (SHORTCUT_NAMES = {}));\nconst SHORTCUT_NAMES_TO_DISPLAY_TEXT = {\n    'keyboard_nav_copy': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['Copy'] || 'Copy',\n    'keyboard_nav_cut': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['Cut'] || 'Cut',\n    'keyboard_nav_paste': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['Paste'] || 'Paste',\n    'start_move': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['MOVE_BLOCK'] || 'Move',\n};\n/**\n * Types of possible messages passed into the loggingCallback in the Navigation\n * class.\n */\nvar LOGGING_MSG_TYPE;\n(function (LOGGING_MSG_TYPE) {\n    LOGGING_MSG_TYPE[\"ERROR\"] = \"error\";\n    LOGGING_MSG_TYPE[\"WARN\"] = \"warn\";\n    LOGGING_MSG_TYPE[\"LOG\"] = \"log\";\n})(LOGGING_MSG_TYPE || (LOGGING_MSG_TYPE = {}));\n/**\n * Categories used to organised the shortcut dialog.\n * Shortcut name should match those obtained from the Blockly shortcut register.\n */\nconst SHORTCUT_CATEGORIES = {};\nSHORTCUT_CATEGORIES[blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_GENERAL']] = [\n    SHORTCUT_NAMES.MENU,\n    SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n    SHORTCUT_NAMES.EXIT,\n    SHORTCUT_NAMES.TOOLBOX,\n    SHORTCUT_NAMES.CLEAN_UP,\n    SHORTCUT_NAMES.LIST_SHORTCUTS,\n];\nSHORTCUT_CATEGORIES[blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_EDITING']] = [\n    'delete',\n    SHORTCUT_NAMES.DISCONNECT,\n    SHORTCUT_NAMES.START_MOVE,\n    SHORTCUT_NAMES.CUT,\n    SHORTCUT_NAMES.COPY,\n    SHORTCUT_NAMES.PASTE,\n    SHORTCUT_NAMES.DUPLICATE,\n    'undo',\n    'redo',\n];\nSHORTCUT_CATEGORIES[blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_CODE_NAVIGATION']] = [\n    SHORTCUT_NAMES.UP,\n    SHORTCUT_NAMES.DOWN,\n    SHORTCUT_NAMES.RIGHT,\n    SHORTCUT_NAMES.LEFT,\n    SHORTCUT_NAMES.NEXT_STACK,\n    SHORTCUT_NAMES.PREVIOUS_STACK,\n    SHORTCUT_NAMES.CREATE_WS_CURSOR,\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2NvbnN0YW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSx5REFBeUQ7QUFDekQsNEVBQTRFO0FBRTVFOzs7O0dBSUc7QUFFSDs7O0dBR0c7QUFFOEI7QUFFakM7OztHQUdHO0FBQ0gsSUFBWSxLQUtYO0FBTEQsV0FBWSxLQUFLO0lBQ2YsNEJBQW1CO0lBQ25CLGdDQUF1QjtJQUN2QiwwQkFBaUI7SUFDakIsNEJBQW1CO0FBQ3JCLENBQUMsRUFMVyxLQUFLLEtBQUwsS0FBSyxRQUtoQjtBQUVEOztHQUVHO0FBQ0gsSUFBWSxjQTBCWDtBQTFCRCxXQUFZLGNBQWM7SUFDeEIsMkJBQVM7SUFDVCwrQkFBYTtJQUNiLGlDQUFlO0lBQ2YsK0JBQWE7SUFDYiwyQ0FBeUI7SUFDekIsbURBQWlDO0lBQ2pDLFVBQVU7SUFDVixtQ0FBaUI7SUFDakIscURBQW1DO0lBQ25DLDJDQUF5QjtJQUN6QixxQ0FBbUI7SUFDbkIsK0JBQWE7SUFDYiwrQkFBYTtJQUNiLDRDQUEwQjtJQUMxQiwwQ0FBd0I7SUFDeEIsOENBQTRCO0lBQzVCLHlDQUF1QjtJQUN2QixvREFBa0M7SUFDbEMsd0RBQXNDO0lBQ3RDLHdEQUFzQztJQUN0QywwREFBd0M7SUFDeEMsbURBQWlDO0lBQ2pDLG1EQUFpQztJQUNqQyxpREFBK0I7SUFDL0IsMkNBQXlCO0FBQzNCLENBQUMsRUExQlcsY0FBYyxLQUFkLGNBQWMsUUEwQnpCO0FBRU0sTUFBTSw4QkFBOEIsR0FBMkI7SUFDcEUsbUJBQW1CLEVBQUUsNkNBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNO0lBQzFDLGtCQUFrQixFQUFFLDZDQUFHLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSztJQUN2QyxvQkFBb0IsRUFBRSw2Q0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU87SUFDN0MsWUFBWSxFQUFFLDZDQUFHLENBQUMsWUFBWSxDQUFDLElBQUksTUFBTTtDQUMxQyxDQUFDO0FBRUY7OztHQUdHO0FBQ0gsSUFBWSxnQkFJWDtBQUpELFdBQVksZ0JBQWdCO0lBQzFCLG1DQUFlO0lBQ2YsaUNBQWE7SUFDYiwrQkFBVztBQUNiLENBQUMsRUFKVyxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBSTNCO0FBRUQ7OztHQUdHO0FBQ0ksTUFBTSxtQkFBbUIsR0FNNUIsRUFBRSxDQUFDO0FBRVAsbUJBQW1CLENBQUMsNkNBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEdBQUc7SUFDOUMsY0FBYyxDQUFDLElBQUk7SUFDbkIsY0FBYyxDQUFDLGVBQWU7SUFDOUIsY0FBYyxDQUFDLElBQUk7SUFDbkIsY0FBYyxDQUFDLE9BQU87SUFDdEIsY0FBYyxDQUFDLFFBQVE7SUFDdkIsY0FBYyxDQUFDLGNBQWM7Q0FDOUIsQ0FBQztBQUVGLG1CQUFtQixDQUFDLDZDQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxHQUFHO0lBQzlDLFFBQVE7SUFDUixjQUFjLENBQUMsVUFBVTtJQUN6QixjQUFjLENBQUMsVUFBVTtJQUN6QixjQUFjLENBQUMsR0FBRztJQUNsQixjQUFjLENBQUMsSUFBSTtJQUNuQixjQUFjLENBQUMsS0FBSztJQUNwQixjQUFjLENBQUMsU0FBUztJQUN4QixNQUFNO0lBQ04sTUFBTTtDQUNQLENBQUM7QUFFRixtQkFBbUIsQ0FBQyw2Q0FBRyxDQUFDLDJCQUEyQixDQUFDLENBQUMsR0FBRztJQUN0RCxjQUFjLENBQUMsRUFBRTtJQUNqQixjQUFjLENBQUMsSUFBSTtJQUNuQixjQUFjLENBQUMsS0FBSztJQUNwQixjQUFjLENBQUMsSUFBSTtJQUNuQixjQUFjLENBQUMsVUFBVTtJQUN6QixjQUFjLENBQUMsY0FBYztJQUM3QixjQUFjLENBQUMsZ0JBQWdCO0NBQ2hDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2NvbnN0YW50cy50cz9kYTI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuLy8gVGhlIHJ1bGVzIGV4cGVjdCBjYW1lbCBvciBwYXNjYWwgY2FzZSBlbnVtIG1lbWJlcnMgYW5kIHJlY29yZCBwcm9wZXJ0aWVzLlxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHMgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gKiBAYXV0aG9yIGFzY2htaWVkdEBnb29nbGUuY29tIChBYmJ5IFNjaG1pZWR0KVxuICovXG5cbmltcG9ydCB7TXNnfSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG4vKipcbiAqIEtleWJvYXJkIG5hdmlnYXRpb24gc3RhdGVzLlxuICogVGhlIGRpZmZlcmVudCBwYXJ0cyBvZiBCbG9ja2x5IHRoYXQgdGhlIHVzZXIgbmF2aWdhdGVzIGJldHdlZW4uXG4gKi9cbmV4cG9ydCBlbnVtIFNUQVRFIHtcbiAgTk9XSEVSRSA9ICdub3doZXJlJyxcbiAgV09SS1NQQUNFID0gJ3dvcmtzcGFjZScsXG4gIEZMWU9VVCA9ICdmbHlvdXQnLFxuICBUT09MQk9YID0gJ3Rvb2xib3gnLFxufVxuXG4vKipcbiAqIERlZmF1bHQga2V5Ym9hcmQgbmF2aWdhdGlvbiBzaG9ydGN1dCBuYW1lcy5cbiAqL1xuZXhwb3J0IGVudW0gU0hPUlRDVVRfTkFNRVMge1xuICBVUCA9ICd1cCcsXG4gIERPV04gPSAnZG93bicsXG4gIFJJR0hUID0gJ3JpZ2h0JyxcbiAgTEVGVCA9ICdsZWZ0JyxcbiAgTkVYVF9TVEFDSyA9ICduZXh0X3N0YWNrJyxcbiAgUFJFVklPVVNfU1RBQ0sgPSAncHJldmlvdXNfc3RhY2snLFxuICAvLyBVbnVzZWQuXG4gIElOU0VSVCA9ICdpbnNlcnQnLFxuICBFRElUX09SX0NPTkZJUk0gPSAnZWRpdF9vcl9jb25maXJtJyxcbiAgRElTQ09OTkVDVCA9ICdkaXNjb25uZWN0JyxcbiAgVE9PTEJPWCA9ICd0b29sYm94JyxcbiAgRVhJVCA9ICdleGl0JyxcbiAgTUVOVSA9ICdtZW51JyxcbiAgQ09QWSA9ICdrZXlib2FyZF9uYXZfY29weScsXG4gIENVVCA9ICdrZXlib2FyZF9uYXZfY3V0JyxcbiAgUEFTVEUgPSAna2V5Ym9hcmRfbmF2X3Bhc3RlJyxcbiAgRFVQTElDQVRFID0gJ2R1cGxpY2F0ZScsXG4gIE1PVkVfV1NfQ1VSU09SX1VQID0gJ3dvcmtzcGFjZV91cCcsXG4gIE1PVkVfV1NfQ1VSU09SX0RPV04gPSAnd29ya3NwYWNlX2Rvd24nLFxuICBNT1ZFX1dTX0NVUlNPUl9MRUZUID0gJ3dvcmtzcGFjZV9sZWZ0JyxcbiAgTU9WRV9XU19DVVJTT1JfUklHSFQgPSAnd29ya3NwYWNlX3JpZ2h0JyxcbiAgQ1JFQVRFX1dTX0NVUlNPUiA9ICd0b193b3Jrc3BhY2UnLFxuICBMSVNUX1NIT1JUQ1VUUyA9ICdsaXN0X3Nob3J0Y3V0cycsXG4gIENMRUFOX1VQID0gJ2NsZWFuX3VwX3dvcmtzcGFjZScsXG4gIFNUQVJUX01PVkUgPSAnc3RhcnRfbW92ZScsXG59XG5cbmV4cG9ydCBjb25zdCBTSE9SVENVVF9OQU1FU19UT19ESVNQTEFZX1RFWFQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICdrZXlib2FyZF9uYXZfY29weSc6IE1zZ1snQ29weSddIHx8ICdDb3B5JyxcbiAgJ2tleWJvYXJkX25hdl9jdXQnOiBNc2dbJ0N1dCddIHx8ICdDdXQnLFxuICAna2V5Ym9hcmRfbmF2X3Bhc3RlJzogTXNnWydQYXN0ZSddIHx8ICdQYXN0ZScsXG4gICdzdGFydF9tb3ZlJzogTXNnWydNT1ZFX0JMT0NLJ10gfHwgJ01vdmUnLFxufTtcblxuLyoqXG4gKiBUeXBlcyBvZiBwb3NzaWJsZSBtZXNzYWdlcyBwYXNzZWQgaW50byB0aGUgbG9nZ2luZ0NhbGxiYWNrIGluIHRoZSBOYXZpZ2F0aW9uXG4gKiBjbGFzcy5cbiAqL1xuZXhwb3J0IGVudW0gTE9HR0lOR19NU0dfVFlQRSB7XG4gIEVSUk9SID0gJ2Vycm9yJyxcbiAgV0FSTiA9ICd3YXJuJyxcbiAgTE9HID0gJ2xvZycsXG59XG5cbi8qKlxuICogQ2F0ZWdvcmllcyB1c2VkIHRvIG9yZ2FuaXNlZCB0aGUgc2hvcnRjdXQgZGlhbG9nLlxuICogU2hvcnRjdXQgbmFtZSBzaG91bGQgbWF0Y2ggdGhvc2Ugb2J0YWluZWQgZnJvbSB0aGUgQmxvY2tseSBzaG9ydGN1dCByZWdpc3Rlci5cbiAqL1xuZXhwb3J0IGNvbnN0IFNIT1JUQ1VUX0NBVEVHT1JJRVM6IFJlY29yZDxcbiAgc3RyaW5nLFxuICAvLyBBbHNvIGFsbG93IHVuZG8vcmVkby4gRG9jdW1lbnQgdGhlIG5vbi1rZXlib2FyZC1uYXYgdmVyc2lvbnMgb2Ygb3RoZXJzIGZvclxuICAvLyBiZXR0ZXIgdGV4dCBiZWNhdXNlIHRlbXBvcmFyaWx5IHRoZSBuYW1lIGluIHRoZSB0YWJsZSBpcyBkZXJpdmVkIGZyb21cbiAgLy8gdGhlc2UgaWQtbGlrZSBuYW1lcy5cbiAgQXJyYXk8U0hPUlRDVVRfTkFNRVMgfCAndW5kbycgfCAncmVkbycgfCAnZGVsZXRlJz5cbj4gPSB7fTtcblxuU0hPUlRDVVRfQ0FURUdPUklFU1tNc2dbJ1NIT1JUQ1VUU19HRU5FUkFMJ11dID0gW1xuICBTSE9SVENVVF9OQU1FUy5NRU5VLFxuICBTSE9SVENVVF9OQU1FUy5FRElUX09SX0NPTkZJUk0sXG4gIFNIT1JUQ1VUX05BTUVTLkVYSVQsXG4gIFNIT1JUQ1VUX05BTUVTLlRPT0xCT1gsXG4gIFNIT1JUQ1VUX05BTUVTLkNMRUFOX1VQLFxuICBTSE9SVENVVF9OQU1FUy5MSVNUX1NIT1JUQ1VUUyxcbl07XG5cblNIT1JUQ1VUX0NBVEVHT1JJRVNbTXNnWydTSE9SVENVVFNfRURJVElORyddXSA9IFtcbiAgJ2RlbGV0ZScsXG4gIFNIT1JUQ1VUX05BTUVTLkRJU0NPTk5FQ1QsXG4gIFNIT1JUQ1VUX05BTUVTLlNUQVJUX01PVkUsXG4gIFNIT1JUQ1VUX05BTUVTLkNVVCxcbiAgU0hPUlRDVVRfTkFNRVMuQ09QWSxcbiAgU0hPUlRDVVRfTkFNRVMuUEFTVEUsXG4gIFNIT1JUQ1VUX05BTUVTLkRVUExJQ0FURSxcbiAgJ3VuZG8nLFxuICAncmVkbycsXG5dO1xuXG5TSE9SVENVVF9DQVRFR09SSUVTW01zZ1snU0hPUlRDVVRTX0NPREVfTkFWSUdBVElPTiddXSA9IFtcbiAgU0hPUlRDVVRfTkFNRVMuVVAsXG4gIFNIT1JUQ1VUX05BTUVTLkRPV04sXG4gIFNIT1JUQ1VUX05BTUVTLlJJR0hULFxuICBTSE9SVENVVF9OQU1FUy5MRUZULFxuICBTSE9SVENVVF9OQU1FUy5ORVhUX1NUQUNLLFxuICBTSE9SVENVVF9OQU1FUy5QUkVWSU9VU19TVEFDSyxcbiAgU0hPUlRDVVRfTkFNRVMuQ1JFQVRFX1dTX0NVUlNPUixcbl07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/constants.ts\n");

/***/ }),

/***/ "../../src/disabled_blocks.ts":
/*!************************************!*\
  !*** ../../src/disabled_blocks.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enableBlocksOnDrag: () => (/* binding */ enableBlocksOnDrag)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst lastBlockDisabledReasons = new Map();\n/**\n * A change listener that enables disabled blocks when they\n * are dragged, and re-disables them at the end of the drag.\n *\n * @param event Blockly event\n */\nfunction enableBlocksOnDrag(event) {\n    // This listener only runs on Drag events that have a valid\n    // workspace and block id.\n    if (!isBlockDrag(event))\n        return;\n    if (!event.blockId)\n        return;\n    const eventWorkspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.common.getWorkspaceById(event.workspaceId);\n    const block = eventWorkspace.getBlockById(event.blockId);\n    if (!block)\n        return;\n    const oldUndo = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.getRecordUndo();\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setRecordUndo(false);\n    if (event.isStart) {\n        // At start of drag, reset the lastBlockDisabledReasons\n        lastBlockDisabledReasons.clear();\n        // Enable all blocks including childeren\n        enableAllDraggedBlocks(block);\n    }\n    else {\n        // Re-disable the block for its original reasons. If the block is no\n        // longer an orphan, the disableOrphans handler will enable the block.\n        redisableAllDraggedBlocks(block);\n    }\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setRecordUndo(oldUndo);\n}\n/**\n * Enables all blocks including children of the dragged blocks.\n * Stores the reasons each block was disabled so they can be restored.\n *\n * @param block\n */\nfunction enableAllDraggedBlocks(block) {\n    // getDescendants includes the block itself.\n    block.getDescendants(false).forEach((descendant) => {\n        const reasons = new Set(descendant.getDisabledReasons());\n        lastBlockDisabledReasons.set(descendant.id, reasons);\n        reasons.forEach((reason) => descendant.setDisabledReason(false, reason));\n    });\n}\n/**\n * Re-disables all blocks using their original disabled reasons.\n *\n * @param block\n */\nfunction redisableAllDraggedBlocks(block) {\n    block.getDescendants(false).forEach((descendant) => {\n        var _a;\n        (_a = lastBlockDisabledReasons.get(descendant.id)) === null || _a === void 0 ? void 0 : _a.forEach((reason) => {\n            descendant.setDisabledReason(true, reason);\n        });\n    });\n}\n/**\n * Type guard for drag events.\n *\n * @param event\n * @returns true iff event.type is EventType.BLOCK_DRAG\n */\nfunction isBlockDrag(event) {\n    return event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.BLOCK_DRAG;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2Rpc2FibGVkX2Jsb2Nrcy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0dBSUc7QUFFcUM7QUFFeEMsTUFBTSx3QkFBd0IsR0FBNkIsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUVyRTs7Ozs7R0FLRztBQUNJLFNBQVMsa0JBQWtCLENBQUMsS0FBOEI7SUFDL0QsMkRBQTJEO0lBQzNELDBCQUEwQjtJQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUFFLE9BQU87SUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPO1FBQUUsT0FBTztJQUMzQixNQUFNLGNBQWMsR0FBRyxnREFBYyxDQUFDLGdCQUFnQixDQUNwRCxLQUFLLENBQUMsV0FBVyxDQUNNLENBQUM7SUFDMUIsTUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDekQsSUFBSSxDQUFDLEtBQUs7UUFBRSxPQUFPO0lBRW5CLE1BQU0sT0FBTyxHQUFHLGdEQUFjLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDL0MsZ0RBQWMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFcEMsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbEIsdURBQXVEO1FBQ3ZELHdCQUF3QixDQUFDLEtBQUssRUFBRSxDQUFDO1FBRWpDLHdDQUF3QztRQUN4QyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO1NBQU0sQ0FBQztRQUNOLG9FQUFvRTtRQUNwRSxzRUFBc0U7UUFDdEUseUJBQXlCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELGdEQUFjLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLENBQUM7QUFFRDs7Ozs7R0FLRztBQUNILFNBQVMsc0JBQXNCLENBQUMsS0FBdUI7SUFDckQsNENBQTRDO0lBQzVDLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUU7UUFDakQsTUFBTSxPQUFPLEdBQUcsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQztRQUN6RCx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNyRCxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDM0UsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQVMseUJBQXlCLENBQUMsS0FBdUI7SUFDeEQsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRTs7UUFDakQsOEJBQXdCLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsMENBQUUsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDOUQsVUFBVSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyxXQUFXLENBQ2xCLEtBQThCO0lBRTlCLE9BQU8sS0FBSyxDQUFDLElBQUksS0FBSyxnREFBYyxDQUFDLFVBQVUsQ0FBQztBQUNsRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9kaXNhYmxlZF9ibG9ja3MudHM/NzMzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuY29uc3QgbGFzdEJsb2NrRGlzYWJsZWRSZWFzb25zOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4gPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogQSBjaGFuZ2UgbGlzdGVuZXIgdGhhdCBlbmFibGVzIGRpc2FibGVkIGJsb2NrcyB3aGVuIHRoZXlcbiAqIGFyZSBkcmFnZ2VkLCBhbmQgcmUtZGlzYWJsZXMgdGhlbSBhdCB0aGUgZW5kIG9mIHRoZSBkcmFnLlxuICpcbiAqIEBwYXJhbSBldmVudCBCbG9ja2x5IGV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVCbG9ja3NPbkRyYWcoZXZlbnQ6IEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0KSB7XG4gIC8vIFRoaXMgbGlzdGVuZXIgb25seSBydW5zIG9uIERyYWcgZXZlbnRzIHRoYXQgaGF2ZSBhIHZhbGlkXG4gIC8vIHdvcmtzcGFjZSBhbmQgYmxvY2sgaWQuXG4gIGlmICghaXNCbG9ja0RyYWcoZXZlbnQpKSByZXR1cm47XG4gIGlmICghZXZlbnQuYmxvY2tJZCkgcmV0dXJuO1xuICBjb25zdCBldmVudFdvcmtzcGFjZSA9IEJsb2NrbHkuY29tbW9uLmdldFdvcmtzcGFjZUJ5SWQoXG4gICAgZXZlbnQud29ya3NwYWNlSWQsXG4gICkgYXMgQmxvY2tseS5Xb3Jrc3BhY2VTdmc7XG4gIGNvbnN0IGJsb2NrID0gZXZlbnRXb3Jrc3BhY2UuZ2V0QmxvY2tCeUlkKGV2ZW50LmJsb2NrSWQpO1xuICBpZiAoIWJsb2NrKSByZXR1cm47XG5cbiAgY29uc3Qgb2xkVW5kbyA9IEJsb2NrbHkuRXZlbnRzLmdldFJlY29yZFVuZG8oKTtcbiAgQmxvY2tseS5FdmVudHMuc2V0UmVjb3JkVW5kbyhmYWxzZSk7XG5cbiAgaWYgKGV2ZW50LmlzU3RhcnQpIHtcbiAgICAvLyBBdCBzdGFydCBvZiBkcmFnLCByZXNldCB0aGUgbGFzdEJsb2NrRGlzYWJsZWRSZWFzb25zXG4gICAgbGFzdEJsb2NrRGlzYWJsZWRSZWFzb25zLmNsZWFyKCk7XG5cbiAgICAvLyBFbmFibGUgYWxsIGJsb2NrcyBpbmNsdWRpbmcgY2hpbGRlcmVuXG4gICAgZW5hYmxlQWxsRHJhZ2dlZEJsb2NrcyhibG9jayk7XG4gIH0gZWxzZSB7XG4gICAgLy8gUmUtZGlzYWJsZSB0aGUgYmxvY2sgZm9yIGl0cyBvcmlnaW5hbCByZWFzb25zLiBJZiB0aGUgYmxvY2sgaXMgbm9cbiAgICAvLyBsb25nZXIgYW4gb3JwaGFuLCB0aGUgZGlzYWJsZU9ycGhhbnMgaGFuZGxlciB3aWxsIGVuYWJsZSB0aGUgYmxvY2suXG4gICAgcmVkaXNhYmxlQWxsRHJhZ2dlZEJsb2NrcyhibG9jayk7XG4gIH1cblxuICBCbG9ja2x5LkV2ZW50cy5zZXRSZWNvcmRVbmRvKG9sZFVuZG8pO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYWxsIGJsb2NrcyBpbmNsdWRpbmcgY2hpbGRyZW4gb2YgdGhlIGRyYWdnZWQgYmxvY2tzLlxuICogU3RvcmVzIHRoZSByZWFzb25zIGVhY2ggYmxvY2sgd2FzIGRpc2FibGVkIHNvIHRoZXkgY2FuIGJlIHJlc3RvcmVkLlxuICpcbiAqIEBwYXJhbSBibG9ja1xuICovXG5mdW5jdGlvbiBlbmFibGVBbGxEcmFnZ2VkQmxvY2tzKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gIC8vIGdldERlc2NlbmRhbnRzIGluY2x1ZGVzIHRoZSBibG9jayBpdHNlbGYuXG4gIGJsb2NrLmdldERlc2NlbmRhbnRzKGZhbHNlKS5mb3JFYWNoKChkZXNjZW5kYW50KSA9PiB7XG4gICAgY29uc3QgcmVhc29ucyA9IG5ldyBTZXQoZGVzY2VuZGFudC5nZXREaXNhYmxlZFJlYXNvbnMoKSk7XG4gICAgbGFzdEJsb2NrRGlzYWJsZWRSZWFzb25zLnNldChkZXNjZW5kYW50LmlkLCByZWFzb25zKTtcbiAgICByZWFzb25zLmZvckVhY2goKHJlYXNvbikgPT4gZGVzY2VuZGFudC5zZXREaXNhYmxlZFJlYXNvbihmYWxzZSwgcmVhc29uKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlLWRpc2FibGVzIGFsbCBibG9ja3MgdXNpbmcgdGhlaXIgb3JpZ2luYWwgZGlzYWJsZWQgcmVhc29ucy5cbiAqXG4gKiBAcGFyYW0gYmxvY2tcbiAqL1xuZnVuY3Rpb24gcmVkaXNhYmxlQWxsRHJhZ2dlZEJsb2NrcyhibG9jazogQmxvY2tseS5CbG9ja1N2Zykge1xuICBibG9jay5nZXREZXNjZW5kYW50cyhmYWxzZSkuZm9yRWFjaCgoZGVzY2VuZGFudCkgPT4ge1xuICAgIGxhc3RCbG9ja0Rpc2FibGVkUmVhc29ucy5nZXQoZGVzY2VuZGFudC5pZCk/LmZvckVhY2goKHJlYXNvbikgPT4ge1xuICAgICAgZGVzY2VuZGFudC5zZXREaXNhYmxlZFJlYXNvbih0cnVlLCByZWFzb24pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUeXBlIGd1YXJkIGZvciBkcmFnIGV2ZW50cy5cbiAqXG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHRydWUgaWZmIGV2ZW50LnR5cGUgaXMgRXZlbnRUeXBlLkJMT0NLX0RSQUdcbiAqL1xuZnVuY3Rpb24gaXNCbG9ja0RyYWcoXG4gIGV2ZW50OiBCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdCxcbik6IGV2ZW50IGlzIEJsb2NrbHkuRXZlbnRzLkJsb2NrRHJhZyB7XG4gIHJldHVybiBldmVudC50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5CTE9DS19EUkFHO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/disabled_blocks.ts\n");

/***/ }),

/***/ "../../src/dom_utils.ts":
/*!******************************!*\
  !*** ../../src/dom_utils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isBlocklyUIElement: () => (/* binding */ isBlocklyUIElement),\n/* harmony export */   isWorkspaceElement: () => (/* binding */ isWorkspaceElement)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * Checks if a DOM element or SVG target is workspace-related.\n * Handles both regular DOM elements and SVG elements (which on touch devices\n * return SVGAnimatedString objects for className).\n *\n * @param target The element to check (can be Element, SVGAnimatedString, or null)\n * @returns True if the target is workspace-related or null/undefined\n */\nfunction isWorkspaceElement(target) {\n    // Null/undefined means clicked empty space  workspace\n    if (!target)\n        return true;\n    // Handle SVGAnimatedString (happens with SVG elements on touch devices)\n    // These have baseVal and animVal properties containing the actual class name\n    if (target.baseVal !== undefined) {\n        const className = target.baseVal || target.animVal || '';\n        return className.includes('blocklyWorkspace') ||\n            className.includes('blocklyMainBackground') ||\n            className.includes('blocklySvg');\n    }\n    // Handle regular DOM elements with classList\n    const classList = target.classList;\n    if (classList) {\n        return classList.contains('blocklyMainBackground') ||\n            classList.contains('blocklySvg') ||\n            classList.contains('blocklyWorkspace');\n    }\n    return false;\n}\n/**\n * Checks if a DOM element is part of the Blockly UI (workspace, toolbox, flyout, etc.)\n * or is completely outside the Blockly context (like control panels, instructions, etc.).\n *\n * @param target The element to check\n * @returns True if the element is part of the Blockly UI, false if it's external UI\n */\nfunction isBlocklyUIElement(target) {\n    if (!target)\n        return true; // Null/undefined means empty space\n    // Walk up the DOM tree to check if we're inside Blockly's container\n    let current = target;\n    while (current) {\n        // Check for Blockly-specific classes/IDs that indicate we're in the Blockly UI\n        if (current.classList) {\n            if (current.classList.contains('blocklyWorkspace') ||\n                current.classList.contains('blocklyMainBackground') ||\n                current.classList.contains('blocklySvg') ||\n                current.classList.contains('blocklyToolboxDiv') ||\n                current.classList.contains('blocklyFlyout') ||\n                current.classList.contains('blocklyFlyoutBackground') ||\n                current.classList.contains('blocklyWidgetDiv') ||\n                current.classList.contains('blocklyDropDownDiv') ||\n                current.classList.contains('blocklyBlockCanvas') ||\n                current.classList.contains('blocklyBubbleCanvas')) {\n                return true;\n            }\n        }\n        // Check for common Blockly container IDs\n        if (current.id === 'blocklyDiv') {\n            return true;\n        }\n        current = current.parentElement;\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2RvbV91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0dBSUc7QUFFSDs7Ozs7OztHQU9HO0FBQ0ksU0FBUyxrQkFBa0IsQ0FBQyxNQUFXO0lBQzVDLHVEQUF1RDtJQUN2RCxJQUFJLENBQUMsTUFBTTtRQUFFLE9BQU8sSUFBSSxDQUFDO0lBRXpCLHdFQUF3RTtJQUN4RSw2RUFBNkU7SUFDN0UsSUFBSSxNQUFNLENBQUMsT0FBTyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ2pDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDekQsT0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDO1lBQ3RDLFNBQVMsQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUM7WUFDM0MsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsNkNBQTZDO0lBQzdDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7SUFDbkMsSUFBSSxTQUFTLEVBQUUsQ0FBQztRQUNkLE9BQU8sU0FBUyxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztZQUMzQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQztZQUNoQyxTQUFTLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVEOzs7Ozs7R0FNRztBQUNJLFNBQVMsa0JBQWtCLENBQUMsTUFBVztJQUM1QyxJQUFJLENBQUMsTUFBTTtRQUFFLE9BQU8sSUFBSSxDQUFDLENBQUMsbUNBQW1DO0lBRTdELG9FQUFvRTtJQUNwRSxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDckIsT0FBTyxPQUFPLEVBQUUsQ0FBQztRQUNmLCtFQUErRTtRQUMvRSxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUN0QixJQUNFLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDO2dCQUM5QyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztnQkFDbkQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO2dCQUN4QyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDL0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDO2dCQUMzQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQztnQkFDckQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUM7Z0JBQzlDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDO2dCQUNoRCxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQztnQkFDaEQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFDakQsQ0FBQztnQkFDRCxPQUFPLElBQUksQ0FBQztZQUNkLENBQUM7UUFDSCxDQUFDO1FBRUQseUNBQXlDO1FBQ3pDLElBQUksT0FBTyxDQUFDLEVBQUUsS0FBSyxZQUFZLEVBQUUsQ0FBQztZQUNoQyxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7UUFFRCxPQUFPLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUNsQyxDQUFDO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9kb21fdXRpbHMudHM/NGQwZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgRE9NIGVsZW1lbnQgb3IgU1ZHIHRhcmdldCBpcyB3b3Jrc3BhY2UtcmVsYXRlZC5cbiAqIEhhbmRsZXMgYm90aCByZWd1bGFyIERPTSBlbGVtZW50cyBhbmQgU1ZHIGVsZW1lbnRzICh3aGljaCBvbiB0b3VjaCBkZXZpY2VzXG4gKiByZXR1cm4gU1ZHQW5pbWF0ZWRTdHJpbmcgb2JqZWN0cyBmb3IgY2xhc3NOYW1lKS5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IFRoZSBlbGVtZW50IHRvIGNoZWNrIChjYW4gYmUgRWxlbWVudCwgU1ZHQW5pbWF0ZWRTdHJpbmcsIG9yIG51bGwpXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB0YXJnZXQgaXMgd29ya3NwYWNlLXJlbGF0ZWQgb3IgbnVsbC91bmRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV29ya3NwYWNlRWxlbWVudCh0YXJnZXQ6IGFueSk6IGJvb2xlYW4ge1xuICAvLyBOdWxsL3VuZGVmaW5lZCBtZWFucyBjbGlja2VkIGVtcHR5IHNwYWNlIOKGkiB3b3Jrc3BhY2VcbiAgaWYgKCF0YXJnZXQpIHJldHVybiB0cnVlO1xuXG4gIC8vIEhhbmRsZSBTVkdBbmltYXRlZFN0cmluZyAoaGFwcGVucyB3aXRoIFNWRyBlbGVtZW50cyBvbiB0b3VjaCBkZXZpY2VzKVxuICAvLyBUaGVzZSBoYXZlIGJhc2VWYWwgYW5kIGFuaW1WYWwgcHJvcGVydGllcyBjb250YWluaW5nIHRoZSBhY3R1YWwgY2xhc3MgbmFtZVxuICBpZiAodGFyZ2V0LmJhc2VWYWwgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRhcmdldC5iYXNlVmFsIHx8IHRhcmdldC5hbmltVmFsIHx8ICcnO1xuICAgIHJldHVybiBjbGFzc05hbWUuaW5jbHVkZXMoJ2Jsb2NrbHlXb3Jrc3BhY2UnKSB8fFxuICAgICAgICAgICBjbGFzc05hbWUuaW5jbHVkZXMoJ2Jsb2NrbHlNYWluQmFja2dyb3VuZCcpIHx8XG4gICAgICAgICAgIGNsYXNzTmFtZS5pbmNsdWRlcygnYmxvY2tseVN2ZycpO1xuICB9XG5cbiAgLy8gSGFuZGxlIHJlZ3VsYXIgRE9NIGVsZW1lbnRzIHdpdGggY2xhc3NMaXN0XG4gIGNvbnN0IGNsYXNzTGlzdCA9IHRhcmdldC5jbGFzc0xpc3Q7XG4gIGlmIChjbGFzc0xpc3QpIHtcbiAgICByZXR1cm4gY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5TWFpbkJhY2tncm91bmQnKSB8fFxuICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlTdmcnKSB8fFxuICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlXb3Jrc3BhY2UnKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBET00gZWxlbWVudCBpcyBwYXJ0IG9mIHRoZSBCbG9ja2x5IFVJICh3b3Jrc3BhY2UsIHRvb2xib3gsIGZseW91dCwgZXRjLilcbiAqIG9yIGlzIGNvbXBsZXRlbHkgb3V0c2lkZSB0aGUgQmxvY2tseSBjb250ZXh0IChsaWtlIGNvbnRyb2wgcGFuZWxzLCBpbnN0cnVjdGlvbnMsIGV0Yy4pLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgVGhlIGVsZW1lbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVsZW1lbnQgaXMgcGFydCBvZiB0aGUgQmxvY2tseSBVSSwgZmFsc2UgaWYgaXQncyBleHRlcm5hbCBVSVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCbG9ja2x5VUlFbGVtZW50KHRhcmdldDogYW55KTogYm9vbGVhbiB7XG4gIGlmICghdGFyZ2V0KSByZXR1cm4gdHJ1ZTsgLy8gTnVsbC91bmRlZmluZWQgbWVhbnMgZW1wdHkgc3BhY2VcblxuICAvLyBXYWxrIHVwIHRoZSBET00gdHJlZSB0byBjaGVjayBpZiB3ZSdyZSBpbnNpZGUgQmxvY2tseSdzIGNvbnRhaW5lclxuICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAvLyBDaGVjayBmb3IgQmxvY2tseS1zcGVjaWZpYyBjbGFzc2VzL0lEcyB0aGF0IGluZGljYXRlIHdlJ3JlIGluIHRoZSBCbG9ja2x5IFVJXG4gICAgaWYgKGN1cnJlbnQuY2xhc3NMaXN0KSB7XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5V29ya3NwYWNlJykgfHxcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlNYWluQmFja2dyb3VuZCcpIHx8XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5U3ZnJykgfHxcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlUb29sYm94RGl2JykgfHxcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlGbHlvdXQnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUZseW91dEJhY2tncm91bmQnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVdpZGdldERpdicpIHx8XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RHJvcERvd25EaXYnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUJsb2NrQ2FudmFzJykgfHxcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlCdWJibGVDYW52YXMnKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBjb21tb24gQmxvY2tseSBjb250YWluZXIgSURzXG4gICAgaWYgKGN1cnJlbnQuaWQgPT09ICdibG9ja2x5RGl2Jykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/dom_utils.ts\n");

/***/ }),

/***/ "../../src/drag_direction.ts":
/*!***********************************!*\
  !*** ../../src/drag_direction.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Direction: () => (/* binding */ Direction),\n/* harmony export */   getDirectionFromXY: () => (/* binding */ getDirectionFromXY),\n/* harmony export */   getXYFromDirection: () => (/* binding */ getXYFromDirection)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"Up\"] = 1] = \"Up\";\n    Direction[Direction[\"Down\"] = 2] = \"Down\";\n    Direction[Direction[\"Left\"] = 3] = \"Left\";\n    Direction[Direction[\"Right\"] = 4] = \"Right\";\n})(Direction || (Direction = {}));\n/**\n * Convert a direction enum into an XY pair.\n *\n * @param dir The direction, or undefined.\n * @returns An object containing x and y values corresponding to the input\n *     direction.\n */\nfunction getXYFromDirection(dir) {\n    if (!dir) {\n        return { x: 0, y: 0 };\n    }\n    switch (dir) {\n        case Direction.Up:\n            return { x: 0, y: -1 };\n        case Direction.Down:\n            return { x: 0, y: 1 };\n        case Direction.Left:\n            return { x: -1, y: 0 };\n        case Direction.Right:\n            return { x: 1, y: 0 };\n    }\n}\n/**\n * Convert an XY pair into a direction enum.\n *\n * @param xy The input pair.\n * @param xy.x The x direction, or undefined.\n * @param xy.y The y direction, or undefined.\n * @returns A direction corresponding to the XY pair, or null if they are invalid\n *     or undefined.\n */\nfunction getDirectionFromXY(xy) {\n    const { x, y } = xy;\n    if (x == 0) {\n        if (y == -1) {\n            return Direction.Up;\n        }\n        else if (y == 1) {\n            return Direction.Down;\n        }\n    }\n    else if (y == 0) {\n        if (x == -1) {\n            return Direction.Left;\n        }\n        else if (x == 1) {\n            return Direction.Right;\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2RyYWdfZGlyZWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0dBSUc7QUFFSCxJQUFZLFNBS1g7QUFMRCxXQUFZLFNBQVM7SUFDbkIscUNBQU07SUFDTix5Q0FBSTtJQUNKLHlDQUFJO0lBQ0osMkNBQUs7QUFDUCxDQUFDLEVBTFcsU0FBUyxLQUFULFNBQVMsUUFLcEI7QUFFRDs7Ozs7O0dBTUc7QUFDSSxTQUFTLGtCQUFrQixDQUFDLEdBQTBCO0lBSTNELElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNULE9BQU8sRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQztJQUN0QixDQUFDO0lBQ0QsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNaLEtBQUssU0FBUyxDQUFDLEVBQUU7WUFDZixPQUFPLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUMsQ0FBQztRQUN2QixLQUFLLFNBQVMsQ0FBQyxJQUFJO1lBQ2pCLE9BQU8sRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQztRQUN0QixLQUFLLFNBQVMsQ0FBQyxJQUFJO1lBQ2pCLE9BQU8sRUFBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDO1FBQ3ZCLEtBQUssU0FBUyxDQUFDLEtBQUs7WUFDbEIsT0FBTyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDO0lBQ3hCLENBQUM7QUFDSCxDQUFDO0FBRUQ7Ozs7Ozs7O0dBUUc7QUFDSSxTQUFTLGtCQUFrQixDQUFDLEVBR2xDO0lBQ0MsTUFBTSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsR0FBRyxFQUFFLENBQUM7SUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ1osT0FBTyxTQUFTLENBQUMsRUFBRSxDQUFDO1FBQ3RCLENBQUM7YUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNsQixPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFDeEIsQ0FBQztJQUNILENBQUM7U0FBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ1osT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQ3hCLENBQUM7YUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNsQixPQUFPLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDekIsQ0FBQztJQUNILENBQUM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2RyYWdfZGlyZWN0aW9uLnRzP2U5OTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5leHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuICBVcCA9IDEsXG4gIERvd24sXG4gIExlZnQsXG4gIFJpZ2h0LFxufVxuXG4vKipcbiAqIENvbnZlcnQgYSBkaXJlY3Rpb24gZW51bSBpbnRvIGFuIFhZIHBhaXIuXG4gKlxuICogQHBhcmFtIGRpciBUaGUgZGlyZWN0aW9uLCBvciB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB4IGFuZCB5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBpbnB1dFxuICogICAgIGRpcmVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFhZRnJvbURpcmVjdGlvbihkaXI6IERpcmVjdGlvbiB8IHVuZGVmaW5lZCk6IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59IHtcbiAgaWYgKCFkaXIpIHtcbiAgICByZXR1cm4ge3g6IDAsIHk6IDB9O1xuICB9XG4gIHN3aXRjaCAoZGlyKSB7XG4gICAgY2FzZSBEaXJlY3Rpb24uVXA6XG4gICAgICByZXR1cm4ge3g6IDAsIHk6IC0xfTtcbiAgICBjYXNlIERpcmVjdGlvbi5Eb3duOlxuICAgICAgcmV0dXJuIHt4OiAwLCB5OiAxfTtcbiAgICBjYXNlIERpcmVjdGlvbi5MZWZ0OlxuICAgICAgcmV0dXJuIHt4OiAtMSwgeTogMH07XG4gICAgY2FzZSBEaXJlY3Rpb24uUmlnaHQ6XG4gICAgICByZXR1cm4ge3g6IDEsIHk6IDB9O1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBYWSBwYWlyIGludG8gYSBkaXJlY3Rpb24gZW51bS5cbiAqXG4gKiBAcGFyYW0geHkgVGhlIGlucHV0IHBhaXIuXG4gKiBAcGFyYW0geHkueCBUaGUgeCBkaXJlY3Rpb24sIG9yIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSB4eS55IFRoZSB5IGRpcmVjdGlvbiwgb3IgdW5kZWZpbmVkLlxuICogQHJldHVybnMgQSBkaXJlY3Rpb24gY29ycmVzcG9uZGluZyB0byB0aGUgWFkgcGFpciwgb3IgbnVsbCBpZiB0aGV5IGFyZSBpbnZhbGlkXG4gKiAgICAgb3IgdW5kZWZpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uRnJvbVhZKHh5OiB7XG4gIHg6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgeTogbnVtYmVyIHwgdW5kZWZpbmVkO1xufSk6IERpcmVjdGlvbiB8IG51bGwge1xuICBjb25zdCB7eCwgeX0gPSB4eTtcbiAgaWYgKHggPT0gMCkge1xuICAgIGlmICh5ID09IC0xKSB7XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLlVwO1xuICAgIH0gZWxzZSBpZiAoeSA9PSAxKSB7XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLkRvd247XG4gICAgfVxuICB9IGVsc2UgaWYgKHkgPT0gMCkge1xuICAgIGlmICh4ID09IC0xKSB7XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLkxlZnQ7XG4gICAgfSBlbHNlIGlmICh4ID09IDEpIHtcbiAgICAgIHJldHVybiBEaXJlY3Rpb24uUmlnaHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/drag_direction.ts\n");

/***/ }),

/***/ "../../src/flyout_cursor.ts":
/*!**********************************!*\
  !*** ../../src/flyout_cursor.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlyoutCursor: () => (/* binding */ FlyoutCursor),\n/* harmony export */   pluginInfo: () => (/* binding */ pluginInfo),\n/* harmony export */   registerFlyoutCursor: () => (/* binding */ registerFlyoutCursor),\n/* harmony export */   registrationName: () => (/* binding */ registrationName),\n/* harmony export */   registrationType: () => (/* binding */ registrationType)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _workspace_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./workspace_utilities */ \"../../src/workspace_utilities.ts\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview The class representing a cursor used to navigate the flyout.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n/**\n * Class for a flyout cursor.\n * This controls how a user navigates blocks in the flyout.\n * This cursor only allows a user to go to the previous or next stack.\n */\nclass FlyoutCursor extends blockly_core__WEBPACK_IMPORTED_MODULE_0__.LineCursor {\n    /**\n     * The constructor for the FlyoutCursor.\n     *\n     * @param flyout The flyout this cursor is for.\n     */\n    constructor(flyout) {\n        super(flyout.getWorkspace());\n        this.flyout = flyout;\n    }\n    /**\n     * Moves the cursor to the next stack of blocks in the flyout.\n     *\n     * @returns The next element, or null if the current node is\n     *     not set or there is no next value.\n     */\n    next() {\n        const curNode = this.getCurNode();\n        if (!curNode) {\n            return null;\n        }\n        const newNode = this.workspace.getNavigator().getNextSibling(curNode);\n        if (newNode) {\n            this.setCurNode(newNode);\n        }\n        return newNode;\n    }\n    /**\n     * Moves the cursor to the previous stack of blocks in the flyout.\n     *\n     * @returns The previous element, or null if the current\n     *     node is not set or there is no previous value.\n     */\n    prev() {\n        const curNode = this.getCurNode();\n        if (!curNode) {\n            return null;\n        }\n        const newNode = this.workspace.getNavigator().getPreviousSibling(curNode);\n        if (newNode) {\n            this.setCurNode(newNode);\n        }\n        return newNode;\n    }\n    setCurNode(node) {\n        super.setCurNode(node);\n        let bounds;\n        if (node &&\n            'getBoundingRectangle' in node &&\n            typeof node.getBoundingRectangle === 'function') {\n            bounds = node.getBoundingRectangle();\n        }\n        else if (node instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton) {\n            const { x, y } = node.getPosition();\n            bounds = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Rect(y, y + node.height, x, x + node.width);\n        }\n        if (!(bounds instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Rect))\n            return;\n        (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_1__.scrollBoundsIntoView)(bounds, this.flyout.getWorkspace());\n    }\n}\nconst registrationType = blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.Type.CURSOR;\nconst registrationName = 'FlyoutCursor';\nconst pluginInfo = {\n    [registrationType.toString()]: registrationName,\n};\n/**\n * Registers the FlyoutCursor with Blockly's registry.\n */\nfunction registerFlyoutCursor() {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.register(registrationType, registrationName, FlyoutCursor, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9mbHlvdXRfY3Vyc29yLnRzPzQ5OWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhlIGNsYXNzIHJlcHJlc2VudGluZyBhIGN1cnNvciB1c2VkIHRvIG5hdmlnYXRlIHRoZSBmbHlvdXQuXG4gKiBAYXV0aG9yIGFzY2htaWVkdEBnb29nbGUuY29tIChBYmJ5IFNjaG1pZWR0KVxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7c2Nyb2xsQm91bmRzSW50b1ZpZXd9IGZyb20gJy4vd29ya3NwYWNlX3V0aWxpdGllcyc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIGEgZmx5b3V0IGN1cnNvci5cbiAqIFRoaXMgY29udHJvbHMgaG93IGEgdXNlciBuYXZpZ2F0ZXMgYmxvY2tzIGluIHRoZSBmbHlvdXQuXG4gKiBUaGlzIGN1cnNvciBvbmx5IGFsbG93cyBhIHVzZXIgdG8gZ28gdG8gdGhlIHByZXZpb3VzIG9yIG5leHQgc3RhY2suXG4gKi9cbmV4cG9ydCBjbGFzcyBGbHlvdXRDdXJzb3IgZXh0ZW5kcyBCbG9ja2x5LkxpbmVDdXJzb3Ige1xuICAvKipcbiAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgRmx5b3V0Q3Vyc29yLlxuICAgKlxuICAgKiBAcGFyYW0gZmx5b3V0IFRoZSBmbHlvdXQgdGhpcyBjdXJzb3IgaXMgZm9yLlxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBmbHlvdXQ6IEJsb2NrbHkuSUZseW91dCkge1xuICAgIHN1cGVyKGZseW91dC5nZXRXb3Jrc3BhY2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgbmV4dCBzdGFjayBvZiBibG9ja3MgaW4gdGhlIGZseW91dC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIG5leHQgZWxlbWVudCwgb3IgbnVsbCBpZiB0aGUgY3VycmVudCBub2RlIGlzXG4gICAqICAgICBub3Qgc2V0IG9yIHRoZXJlIGlzIG5vIG5leHQgdmFsdWUuXG4gICAqL1xuICBvdmVycmlkZSBuZXh0KCk6IEJsb2NrbHkuSUZvY3VzYWJsZU5vZGUgfCBudWxsIHtcbiAgICBjb25zdCBjdXJOb2RlID0gdGhpcy5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFjdXJOb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmV3Tm9kZSA9IHRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldE5leHRTaWJsaW5nKGN1ck5vZGUpO1xuXG4gICAgaWYgKG5ld05vZGUpIHtcbiAgICAgIHRoaXMuc2V0Q3VyTm9kZShuZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgcHJldmlvdXMgc3RhY2sgb2YgYmxvY2tzIGluIHRoZSBmbHlvdXQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBwcmV2aW91cyBlbGVtZW50LCBvciBudWxsIGlmIHRoZSBjdXJyZW50XG4gICAqICAgICBub2RlIGlzIG5vdCBzZXQgb3IgdGhlcmUgaXMgbm8gcHJldmlvdXMgdmFsdWUuXG4gICAqL1xuICBvdmVycmlkZSBwcmV2KCk6IEJsb2NrbHkuSUZvY3VzYWJsZU5vZGUgfCBudWxsIHtcbiAgICBjb25zdCBjdXJOb2RlID0gdGhpcy5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFjdXJOb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmV3Tm9kZSA9IHRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldFByZXZpb3VzU2libGluZyhjdXJOb2RlKTtcblxuICAgIGlmIChuZXdOb2RlKSB7XG4gICAgICB0aGlzLnNldEN1ck5vZGUobmV3Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgb3ZlcnJpZGUgc2V0Q3VyTm9kZShub2RlOiBCbG9ja2x5LklGb2N1c2FibGVOb2RlKSB7XG4gICAgc3VwZXIuc2V0Q3VyTm9kZShub2RlKTtcblxuICAgIGxldCBib3VuZHM6IEJsb2NrbHkudXRpbHMuUmVjdCB8IHVuZGVmaW5lZDtcbiAgICBpZiAoXG4gICAgICBub2RlICYmXG4gICAgICAnZ2V0Qm91bmRpbmdSZWN0YW5nbGUnIGluIG5vZGUgJiZcbiAgICAgIHR5cGVvZiBub2RlLmdldEJvdW5kaW5nUmVjdGFuZ2xlID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICBib3VuZHMgPSBub2RlLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQmxvY2tseS5GbHlvdXRCdXR0b24pIHtcbiAgICAgIGNvbnN0IHt4LCB5fSA9IG5vZGUuZ2V0UG9zaXRpb24oKTtcbiAgICAgIGJvdW5kcyA9IG5ldyBCbG9ja2x5LnV0aWxzLlJlY3QoeSwgeSArIG5vZGUuaGVpZ2h0LCB4LCB4ICsgbm9kZS53aWR0aCk7XG4gICAgfVxuXG4gICAgaWYgKCEoYm91bmRzIGluc3RhbmNlb2YgQmxvY2tseS51dGlscy5SZWN0KSkgcmV0dXJuO1xuXG4gICAgc2Nyb2xsQm91bmRzSW50b1ZpZXcoYm91bmRzLCB0aGlzLmZseW91dC5nZXRXb3Jrc3BhY2UoKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdHJhdGlvblR5cGUgPSBCbG9ja2x5LnJlZ2lzdHJ5LlR5cGUuQ1VSU09SO1xuZXhwb3J0IGNvbnN0IHJlZ2lzdHJhdGlvbk5hbWUgPSAnRmx5b3V0Q3Vyc29yJztcblxuZXhwb3J0IGNvbnN0IHBsdWdpbkluZm8gPSB7XG4gIFtyZWdpc3RyYXRpb25UeXBlLnRvU3RyaW5nKCldOiByZWdpc3RyYXRpb25OYW1lLFxufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgdGhlIEZseW91dEN1cnNvciB3aXRoIEJsb2NrbHkncyByZWdpc3RyeS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRmx5b3V0Q3Vyc29yKCkge1xuICBCbG9ja2x5LnJlZ2lzdHJ5LnJlZ2lzdGVyKFxuICAgIHJlZ2lzdHJhdGlvblR5cGUsXG4gICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICBGbHlvdXRDdXJzb3IsXG4gICAgdHJ1ZSxcbiAgKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/flyout_cursor.ts\n");

/***/ }),

/***/ "../../src/hints.ts":
/*!**************************!*\
  !*** ../../src/hints.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearHelpHint: () => (/* binding */ clearHelpHint),\n/* harmony export */   clearMoveHints: () => (/* binding */ clearMoveHints),\n/* harmony export */   clearPasteHints: () => (/* binding */ clearPasteHints),\n/* harmony export */   showConstrainedMovementHint: () => (/* binding */ showConstrainedMovementHint),\n/* harmony export */   showCopiedHint: () => (/* binding */ showCopiedHint),\n/* harmony export */   showCutHint: () => (/* binding */ showCutHint),\n/* harmony export */   showHelpHint: () => (/* binding */ showHelpHint),\n/* harmony export */   showUnconstrainedMoveHint: () => (/* binding */ showUnconstrainedMoveHint)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"../../src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/**\n * Centralises hints that we show.\n *\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\nconst unconstrainedMoveHintId = 'unconstrainedMoveHint';\nconst constrainedMoveHintId = 'constrainedMoveHint';\nconst copiedHintId = 'copiedHint';\nconst cutHintId = 'cutHint';\nconst helpHintId = 'helpHint';\n/**\n * Nudge the user to use unconstrained movement.\n *\n * @param workspace Workspace.\n * @param force Set to show it even if previously shown.\n */\nfunction showUnconstrainedMoveHint(workspace, force = false) {\n    const enter = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n    const modifier = navigator.platform.startsWith('Mac') ? '' : 'Ctrl';\n    const message = `Hold ${modifier} and use arrow keys to move freely, then ${enter} to accept the position`;\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message,\n        id: unconstrainedMoveHintId,\n        oncePerSession: !force,\n    });\n}\n/**\n * Nudge the user to move a block that's in move mode.\n *\n * @param workspace Workspace.\n */\nfunction showConstrainedMovementHint(workspace) {\n    const enter = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n    const message = `Use the arrow keys to move, then ${enter} to accept the position`;\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message,\n        id: constrainedMoveHintId,\n        oncePerSession: true,\n    });\n}\n/**\n * Clear active move-related hints, if any.\n *\n * @param workspace The workspace.\n */\nfunction clearMoveHints(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, constrainedMoveHintId);\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, unconstrainedMoveHintId);\n}\n/**\n * Nudge the user to paste after a copy.\n *\n * @param workspace Workspace.\n */\nfunction showCopiedHint(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message: `Copied. Press ${(0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE)} to paste.`,\n        duration: 7,\n        id: copiedHintId,\n    });\n}\n/**\n * Nudge the user to paste after a cut.\n *\n * @param workspace Workspace.\n */\nfunction showCutHint(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message: `Cut. Press ${(0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE)} to paste.`,\n        duration: 7,\n        id: cutHintId,\n    });\n}\n/**\n * Clear active paste-related hints, if any.\n *\n * @param workspace The workspace.\n */\nfunction clearPasteHints(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, cutHintId);\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, copiedHintId);\n}\n/**\n * Nudge the user to open the help.\n *\n * @param workspace The workspace.\n */\nfunction showHelpHint(workspace) {\n    const shortcut = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)('list_shortcuts');\n    const message = blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['HELP_PROMPT'].replace('%1', shortcut);\n    const id = helpHintId;\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, { message, id });\n}\n/**\n * Clear the help hint.\n *\n * @param workspace The workspace.\n */\nfunction clearHelpHint(workspace) {\n    // TODO: We'd like to do this in MakeCode too as we override.\n    // Could have an option for showing help in the plugin?\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, helpHintId);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsUUFBUSxDQUFDLENBQUM7SUFDM0QsTUFBTSxFQUFFLEdBQUcsVUFBVSxDQUFDO0lBQ3RCLDBDQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUMsQ0FBQyxDQUFDO0FBQ3ZDLENBQUM7QUFFRDs7OztHQUlHO0FBQ0ksU0FBUyxhQUFhLENBQUMsU0FBdUI7SUFDbkQsNkRBQTZEO0lBQzdELHVEQUF1RDtJQUN2RCwwQ0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDcEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvaGludHMudHM/OTM3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENlbnRyYWxpc2VzIGhpbnRzIHRoYXQgd2Ugc2hvdy5cbiAqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge01zZywgV29ya3NwYWNlU3ZnLCBUb2FzdH0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge1NIT1JUQ1VUX05BTUVTfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQge2dldFNob3J0QWN0aW9uU2hvcnRjdXR9IGZyb20gJy4vc2hvcnRjdXRfZm9ybWF0dGluZyc7XG5cbmNvbnN0IHVuY29uc3RyYWluZWRNb3ZlSGludElkID0gJ3VuY29uc3RyYWluZWRNb3ZlSGludCc7XG5jb25zdCBjb25zdHJhaW5lZE1vdmVIaW50SWQgPSAnY29uc3RyYWluZWRNb3ZlSGludCc7XG5jb25zdCBjb3BpZWRIaW50SWQgPSAnY29waWVkSGludCc7XG5jb25zdCBjdXRIaW50SWQgPSAnY3V0SGludCc7XG5jb25zdCBoZWxwSGludElkID0gJ2hlbHBIaW50JztcblxuLyoqXG4gKiBOdWRnZSB0aGUgdXNlciB0byB1c2UgdW5jb25zdHJhaW5lZCBtb3ZlbWVudC5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFdvcmtzcGFjZS5cbiAqIEBwYXJhbSBmb3JjZSBTZXQgdG8gc2hvdyBpdCBldmVuIGlmIHByZXZpb3VzbHkgc2hvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93VW5jb25zdHJhaW5lZE1vdmVIaW50KFxuICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgZm9yY2UgPSBmYWxzZSxcbikge1xuICBjb25zdCBlbnRlciA9IGdldFNob3J0QWN0aW9uU2hvcnRjdXQoU0hPUlRDVVRfTkFNRVMuRURJVF9PUl9DT05GSVJNKTtcbiAgY29uc3QgbW9kaWZpZXIgPSBuYXZpZ2F0b3IucGxhdGZvcm0uc3RhcnRzV2l0aCgnTWFjJykgPyAn4oylJyA6ICdDdHJsJztcbiAgY29uc3QgbWVzc2FnZSA9IGBIb2xkICR7bW9kaWZpZXJ9IGFuZCB1c2UgYXJyb3cga2V5cyB0byBtb3ZlIGZyZWVseSwgdGhlbiAke2VudGVyfSB0byBhY2NlcHQgdGhlIHBvc2l0aW9uYDtcbiAgVG9hc3Quc2hvdyh3b3Jrc3BhY2UsIHtcbiAgICBtZXNzYWdlLFxuICAgIGlkOiB1bmNvbnN0cmFpbmVkTW92ZUhpbnRJZCxcbiAgICBvbmNlUGVyU2Vzc2lvbjogIWZvcmNlLFxuICB9KTtcbn1cblxuLyoqXG4gKiBOdWRnZSB0aGUgdXNlciB0byBtb3ZlIGEgYmxvY2sgdGhhdCdzIGluIG1vdmUgbW9kZS5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dDb25zdHJhaW5lZE1vdmVtZW50SGludCh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICBjb25zdCBlbnRlciA9IGdldFNob3J0QWN0aW9uU2hvcnRjdXQoU0hPUlRDVVRfTkFNRVMuRURJVF9PUl9DT05GSVJNKTtcbiAgY29uc3QgbWVzc2FnZSA9IGBVc2UgdGhlIGFycm93IGtleXMgdG8gbW92ZSwgdGhlbiAke2VudGVyfSB0byBhY2NlcHQgdGhlIHBvc2l0aW9uYDtcbiAgVG9hc3Quc2hvdyh3b3Jrc3BhY2UsIHtcbiAgICBtZXNzYWdlLFxuICAgIGlkOiBjb25zdHJhaW5lZE1vdmVIaW50SWQsXG4gICAgb25jZVBlclNlc3Npb246IHRydWUsXG4gIH0pO1xufVxuXG4vKipcbiAqIENsZWFyIGFjdGl2ZSBtb3ZlLXJlbGF0ZWQgaGludHMsIGlmIGFueS5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhck1vdmVIaW50cyh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICBUb2FzdC5oaWRlKHdvcmtzcGFjZSwgY29uc3RyYWluZWRNb3ZlSGludElkKTtcbiAgVG9hc3QuaGlkZSh3b3Jrc3BhY2UsIHVuY29uc3RyYWluZWRNb3ZlSGludElkKTtcbn1cblxuLyoqXG4gKiBOdWRnZSB0aGUgdXNlciB0byBwYXN0ZSBhZnRlciBhIGNvcHkuXG4gKlxuICogQHBhcmFtIHdvcmtzcGFjZSBXb3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93Q29waWVkSGludCh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICBUb2FzdC5zaG93KHdvcmtzcGFjZSwge1xuICAgIG1lc3NhZ2U6IGBDb3BpZWQuIFByZXNzICR7Z2V0U2hvcnRBY3Rpb25TaG9ydGN1dChTSE9SVENVVF9OQU1FUy5QQVNURSl9IHRvIHBhc3RlLmAsXG4gICAgZHVyYXRpb246IDcsXG4gICAgaWQ6IGNvcGllZEhpbnRJZCxcbiAgfSk7XG59XG5cbi8qKlxuICogTnVkZ2UgdGhlIHVzZXIgdG8gcGFzdGUgYWZ0ZXIgYSBjdXQuXG4gKlxuICogQHBhcmFtIHdvcmtzcGFjZSBXb3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93Q3V0SGludCh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICBUb2FzdC5zaG93KHdvcmtzcGFjZSwge1xuICAgIG1lc3NhZ2U6IGBDdXQuIFByZXNzICR7Z2V0U2hvcnRBY3Rpb25TaG9ydGN1dChTSE9SVENVVF9OQU1FUy5QQVNURSl9IHRvIHBhc3RlLmAsXG4gICAgZHVyYXRpb246IDcsXG4gICAgaWQ6IGN1dEhpbnRJZCxcbiAgfSk7XG59XG5cbi8qKlxuICogQ2xlYXIgYWN0aXZlIHBhc3RlLXJlbGF0ZWQgaGludHMsIGlmIGFueS5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclBhc3RlSGludHMod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgVG9hc3QuaGlkZSh3b3Jrc3BhY2UsIGN1dEhpbnRJZCk7XG4gIFRvYXN0LmhpZGUod29ya3NwYWNlLCBjb3BpZWRIaW50SWQpO1xufVxuXG4vKipcbiAqIE51ZGdlIHRoZSB1c2VyIHRvIG9wZW4gdGhlIGhlbHAuXG4gKlxuICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvd0hlbHBIaW50KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gIGNvbnN0IHNob3J0Y3V0ID0gZ2V0U2hvcnRBY3Rpb25TaG9ydGN1dCgnbGlzdF9zaG9ydGN1dHMnKTtcbiAgY29uc3QgbWVzc2FnZSA9IE1zZ1snSEVMUF9QUk9NUFQnXS5yZXBsYWNlKCclMScsIHNob3J0Y3V0KTtcbiAgY29uc3QgaWQgPSBoZWxwSGludElkO1xuICBUb2FzdC5zaG93KHdvcmtzcGFjZSwge21lc3NhZ2UsIGlkfSk7XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIGhlbHAgaGludC5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckhlbHBIaW50KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gIC8vIFRPRE86IFdlJ2QgbGlrZSB0byBkbyB0aGlzIGluIE1ha2VDb2RlIHRvbyBhcyB3ZSBvdmVycmlkZS5cbiAgLy8gQ291bGQgaGF2ZSBhbiBvcHRpb24gZm9yIHNob3dpbmcgaGVscCBpbiB0aGUgcGx1Z2luP1xuICBUb2FzdC5oaWRlKHdvcmtzcGFjZSwgaGVscEhpbnRJZCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/hints.ts\n");

/***/ }),

/***/ "../../src/html_toast.ts":
/*!*******************************!*\
  !*** ../../src/html_toast.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerHtmlToast: () => (/* binding */ registerHtmlToast)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Custom toast implementation that supports HTML elements in toast messages.\n *\n * After registering, call\n  `Blockly.dialog.toast(workspace, {element: <html element>, message: <text>});`\n * to display an HTML-based toast.\n */\nclass HtmlToast extends blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toast {\n    /**\n     * Creates the body of the toast for display.\n     *\n     * @param workspace The workspace the toast will be displayed on.\n     * @param options Configuration options for toast appearance/behavior.\n     * @returns The body for the toast.\n     */\n    static createDom(workspace, options) {\n        const dom = super.createDom(workspace, options);\n        const contents = dom.querySelector('div');\n        if (contents &&\n            'element' in options &&\n            options.element instanceof HTMLElement) {\n            contents.innerHTML = '';\n            contents.appendChild(options.element);\n        }\n        return dom;\n    }\n}\n/**\n * Registers HtmlToast as the default toast implementation for Blockly.\n */\nfunction registerHtmlToast() {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.dialog.setToast(HtmlToast.show.bind(HtmlToast));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL2h0bWxfdG9hc3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7OztHQUlHO0FBRXFDO0FBU3hDOzs7Ozs7R0FNRztBQUNILE1BQU0sU0FBVSxTQUFRLCtDQUFhO0lBQ25DOzs7Ozs7T0FNRztJQUNPLE1BQU0sQ0FBVSxTQUFTLENBQ2pDLFNBQStCLEVBQy9CLE9BQXlCO1FBRXpCLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2hELE1BQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsSUFDRSxRQUFRO1lBQ1IsU0FBUyxJQUFJLE9BQU87WUFDcEIsT0FBTyxDQUFDLE9BQU8sWUFBWSxXQUFXLEVBQ3RDLENBQUM7WUFDRCxRQUFRLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztZQUN4QixRQUFRLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4QyxDQUFDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0NBQ0Y7QUFFRDs7R0FFRztBQUNJLFNBQVMsaUJBQWlCO0lBQy9CLGdEQUFjLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDMUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvaHRtbF90b2FzdC50cz8xNmU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdG9hc3RzLlxuICovXG5pbnRlcmZhY2UgSHRtbFRvYXN0T3B0aW9ucyBleHRlbmRzIEJsb2NrbHkuVG9hc3RPcHRpb25zIHtcbiAgZWxlbWVudD86IEhUTUxFbGVtZW50O1xufVxuXG4vKipcbiAqIEN1c3RvbSB0b2FzdCBpbXBsZW1lbnRhdGlvbiB0aGF0IHN1cHBvcnRzIEhUTUwgZWxlbWVudHMgaW4gdG9hc3QgbWVzc2FnZXMuXG4gKlxuICogQWZ0ZXIgcmVnaXN0ZXJpbmcsIGNhbGwgXG4gIGBCbG9ja2x5LmRpYWxvZy50b2FzdCh3b3Jrc3BhY2UsIHtlbGVtZW50OiA8aHRtbCBlbGVtZW50PiwgbWVzc2FnZTogPHRleHQ+fSk7YFxuICogdG8gZGlzcGxheSBhbiBIVE1MLWJhc2VkIHRvYXN0LlxuICovXG5jbGFzcyBIdG1sVG9hc3QgZXh0ZW5kcyBCbG9ja2x5LlRvYXN0IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGJvZHkgb2YgdGhlIHRvYXN0IGZvciBkaXNwbGF5LlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdGhlIHRvYXN0IHdpbGwgYmUgZGlzcGxheWVkIG9uLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRvYXN0IGFwcGVhcmFuY2UvYmVoYXZpb3IuXG4gICAqIEByZXR1cm5zIFRoZSBib2R5IGZvciB0aGUgdG9hc3QuXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIG92ZXJyaWRlIGNyZWF0ZURvbShcbiAgICB3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnLFxuICAgIG9wdGlvbnM6IEh0bWxUb2FzdE9wdGlvbnMsXG4gICkge1xuICAgIGNvbnN0IGRvbSA9IHN1cGVyLmNyZWF0ZURvbSh3b3Jrc3BhY2UsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGNvbnRlbnRzID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpO1xuICAgIGlmIChcbiAgICAgIGNvbnRlbnRzICYmXG4gICAgICAnZWxlbWVudCcgaW4gb3B0aW9ucyAmJlxuICAgICAgb3B0aW9ucy5lbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICApIHtcbiAgICAgIGNvbnRlbnRzLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29udGVudHMuYXBwZW5kQ2hpbGQob3B0aW9ucy5lbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGRvbTtcbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBIdG1sVG9hc3QgYXMgdGhlIGRlZmF1bHQgdG9hc3QgaW1wbGVtZW50YXRpb24gZm9yIEJsb2NrbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckh0bWxUb2FzdCgpIHtcbiAgQmxvY2tseS5kaWFsb2cuc2V0VG9hc3QoSHRtbFRvYXN0LnNob3cuYmluZChIdG1sVG9hc3QpKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/html_toast.ts\n");

/***/ }),

/***/ "../../src/index.ts":
/*!**************************!*\
  !*** ../../src/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD_INFO: () => (/* reexport safe */ _build_info__WEBPACK_IMPORTED_MODULE_6__.BUILD_INFO),\n/* harmony export */   KeyboardNavigation: () => (/* binding */ KeyboardNavigation),\n/* harmony export */   TriggerMode: () => (/* reexport safe */ _sticky_mode_controller__WEBPACK_IMPORTED_MODULE_4__.TriggerMode),\n/* harmony export */   createBuildInfoComponent: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.createBuildInfoComponent),\n/* harmony export */   registerBuildInfoStyles: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.registerBuildInfoStyles),\n/* harmony export */   startBuildInfoAutoRefresh: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.startBuildInfoAutoRefresh),\n/* harmony export */   updateBuildInfo: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.updateBuildInfo)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _navigation_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./navigation_controller */ \"../../src/navigation_controller.ts\");\n/* harmony import */ var _disabled_blocks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./disabled_blocks */ \"../../src/disabled_blocks.ts\");\n/* harmony import */ var _html_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./html_toast */ \"../../src/html_toast.ts\");\n/* harmony import */ var _sticky_mode_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sticky_mode_controller */ \"../../src/sticky_mode_controller.ts\");\n/* harmony import */ var _build_info_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./build_info_component */ \"../../src/build_info_component.ts\");\n/* harmony import */ var _build_info__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./build_info */ \"../../src/build_info.ts\");\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n// Re-export TriggerMode for external use\n\n/** Plugin for keyboard navigation. */\nclass KeyboardNavigation {\n    /**\n     * Returns whether the plugin is currently in sticky mode (click-and-stick).\n     *\n     * @returns True if a block is in sticky mode, false otherwise.\n     */\n    get isInStickyMode() {\n        return this.stickyModeController.isActive();\n    }\n    /**\n     * Get the block currently in sticky mode, if any.\n     *\n     * @returns The block in sticky mode, or null if not in sticky mode.\n     */\n    get stickyBlock() {\n        return this.stickyModeController.getActiveBlock();\n    }\n    /**\n     * Constructs the keyboard navigation.\n     *\n     * @param workspace The workspace that the plugin will be added to.\n     * @param options Options for plugin\n     * @param options.allowCrossWorkspacePaste If true, will allow paste\n     * option to appear enabled when pasting in a different workspace\n     * than was copied from. Defaults to false. Set to true if using\n     * cross-tab-copy-paste plugin or similar.\n     * @param options.highlightConnections If true, will highlight all\n     * valid connection points when entering move mode. Defaults to true.\n     * Useful for improving mouse accessibility.\n     */\n    constructor(workspace, options = {\n        allowCrossWorkspacePaste: false,\n        highlightConnections: true,\n    }) {\n        var _a, _b, _c, _d;\n        /**\n         * Focus ring in the workspace.\n         */\n        this.workspaceFocusRing = null;\n        /**\n         * Selection ring inside the workspace.\n         */\n        this.workspaceSelectionRing = null;\n        /**\n         * Used to restore monkey patch.\n         */\n        this.oldWorkspaceResize = null;\n        this.workspace = workspace;\n        this.stickyModeController = new _sticky_mode_controller__WEBPACK_IMPORTED_MODULE_4__.StickyModeController(workspace, null);\n        this.navigationController = new _navigation_controller__WEBPACK_IMPORTED_MODULE_1__.NavigationController({\n            allowCrossWorkspacePaste: (_a = options.allowCrossWorkspacePaste) !== null && _a !== void 0 ? _a : false,\n            highlightConnections: (_b = options.highlightConnections) !== null && _b !== void 0 ? _b : true,\n            // Disable auto-scroll during sticky mode to prevent jarring jumps at viewport edges\n            shouldDisableAutoScroll: () => this.stickyModeController.isActive(),\n        });\n        this.navigationController.init();\n        this.navigationController.addWorkspace(workspace);\n        this.navigationController.enable(workspace);\n        // Now set the navigation controller on the sticky mode controller\n        this.stickyModeController.navigationController = this.navigationController;\n        this.cursor = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.LineCursor(workspace);\n        // Add the event listener to enable disabled blocks on drag.\n        workspace.addChangeListener(_disabled_blocks__WEBPACK_IMPORTED_MODULE_2__.enableBlocksOnDrag);\n        this.stickyModeController.install();\n        window.keyboardNavigation = this;\n        // Move the flyout for logical tab order.\n        const flyout = workspace.getFlyout();\n        if (flyout != null && flyout instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Flyout) {\n            // This relies on internals.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const flyoutElement = (_c = flyout.svgGroup_) !== null && _c !== void 0 ? _c : null;\n            (_d = flyoutElement === null || flyoutElement === void 0 ? void 0 : flyoutElement.parentElement) === null || _d === void 0 ? void 0 : _d.insertBefore(flyoutElement, workspace.getParentSvg());\n        }\n        this.oldWorkspaceResize = workspace.resize;\n        workspace.resize = () => {\n            var _a;\n            (_a = this.oldWorkspaceResize) === null || _a === void 0 ? void 0 : _a.call(this.workspace);\n            this.resizeWorkspaceRings();\n        };\n        this.workspaceSelectionRing = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('rect', {\n            fill: 'none',\n            class: 'blocklyWorkspaceSelectionRing',\n        });\n        workspace.getSvgGroup().appendChild(this.workspaceSelectionRing);\n        this.workspaceFocusRing = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('rect', {\n            fill: 'none',\n            class: 'blocklyWorkspaceFocusRing',\n        });\n        workspace.getSvgGroup().appendChild(this.workspaceFocusRing);\n        this.resizeWorkspaceRings();\n        (0,_html_toast__WEBPACK_IMPORTED_MODULE_3__.registerHtmlToast)();\n    }\n    resizeWorkspaceRings() {\n        if (!this.workspaceFocusRing || !this.workspaceSelectionRing)\n            return;\n        this.resizeFocusRingInternal(this.workspaceSelectionRing, 5);\n        this.resizeFocusRingInternal(this.workspaceFocusRing, 0);\n    }\n    resizeFocusRingInternal(ring, inset) {\n        const metrics = this.workspace.getMetrics();\n        ring.setAttribute('x', (metrics.absoluteLeft + inset).toString());\n        ring.setAttribute('y', (metrics.absoluteTop + inset).toString());\n        ring.setAttribute('width', Math.max(0, metrics.viewWidth - inset * 2).toString());\n        ring.setAttribute('height', Math.max(0, metrics.svgHeight - inset * 2).toString());\n    }\n    /**\n     * Disables keyboard navigation for this navigator's workspace.\n     */\n    dispose() {\n        var _a, _b;\n        (_a = this.workspaceFocusRing) === null || _a === void 0 ? void 0 : _a.remove();\n        (_b = this.workspaceSelectionRing) === null || _b === void 0 ? void 0 : _b.remove();\n        if (this.oldWorkspaceResize) {\n            this.workspace.resize = this.oldWorkspaceResize;\n        }\n        // Remove the event listener that enables blocks on drag\n        this.workspace.removeChangeListener(_disabled_blocks__WEBPACK_IMPORTED_MODULE_2__.enableBlocksOnDrag);\n        this.stickyModeController.uninstall();\n        this.navigationController.dispose();\n    }\n    /**\n     * Toggle visibility of a help dialog for the keyboard shortcuts.\n     */\n    toggleShortcutDialog() {\n        this.navigationController.shortcutDialog.toggle(this.workspace);\n    }\n    /**\n     * Enable or disable connection highlighting during move operations.\n     *\n     * @param enabled Whether to show connection highlights when moving blocks.\n     */\n    setHighlightConnections(enabled) {\n        this.navigationController.setHighlightConnections(enabled);\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.navigationController.setFatterConnections(enabled);\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.navigationController.setConnectionSize(size);\n    }\n    /**\n     * Set the trigger mode for entering sticky move mode.\n     *\n     * @param mode The trigger mode to use (DOUBLE_CLICK, SHIFT_CLICK, FOCUSED_CLICK, MODE_TOGGLE, or GRIP_CLICK).\n     */\n    setTriggerMode(mode) {\n        this.stickyModeController.setTriggerMode(mode);\n    }\n    /**\n     * Enable or disable keeping the block on the mouse cursor during sticky move.\n     *\n     * @param enabled Whether the block should follow the cursor (true) or stay at click position (false).\n     */\n    setKeepBlockOnMouse(enabled) {\n        this.stickyModeController.setKeepBlockOnMouse(enabled);\n    }\n    /**\n     * Registers a default toolbox implementation that doesn't handle\n     * keydown events, since we now handle them in this plugin. If you\n     * use the default toolbox, call this function before calling\n     * `Blockly.inject`. If you use a custom toolbox, override the\n     * `onKeyDown_` method in your toolbox implementation to make it a no-op.\n     */\n    static registerNavigationDeferringToolbox() {\n        this.registerNavigationDeferringToolbox();\n    }\n    /**\n     * Register CSS used by the plugin.\n     * This is broken up into sections by purpose, with some notes about\n     * where it should eventually live.\n     * Must be called before `Blockly.inject`.\n     */\n    static registerKeyboardNavigationStyles() {\n        // Enable the delete icon for comments.\n        //\n        // This should remain in the plugin for the time being because we do\n        // not want to display the delete icon by default.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  .blocklyDeleteIcon {\n    display: block;\n  }\n`);\n        // Set variables that will be used to control the appearance of the\n        // focus indicators.  Attach them to the injectionDiv since they will\n        // apply to things contained therein.\n        //\n        // This should be moved to core, either to core/css.ts\n        // or to core/renderers/.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  .injectionDiv {\n    --blockly-active-node-color: #fff200;\n    --blockly-active-tree-color: #60a5fa;\n    --blockly-selection-width: 3px;\n  }\n`);\n        // Styling focusing blocks, connections and fields.\n        //\n        // This should be moved to core, being integrated into the\n        // existing styling of renderers in core/renderers/*/constants.ts.\n        //\n        // Many selectors include .blocklyKeyboardNavigation to ensure keyboard\n        // nav is on (via the heuristic). This class is added/removed from body.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Active focus cases: */\n  /* Blocks with active focus. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus:is(.blocklyPath, .blocklyHighlightedConnectionPath),\n  /* Fields with active focus, */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus.blocklyField\n    > .blocklyFieldRect,\n  /* Icons with active focus. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus.blocklyIconGroup\n    > .blocklyIconShape:first-child {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n\n  /* Passive focus cases: */\n  /* Blocks with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus:is(\n      .blocklyPath:not(.blocklyFlyout .blocklyPath),\n      .blocklyHighlightedConnectionPath\n    ),\n  /* Fields with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus.blocklyField\n    > .blocklyFieldRect,\n  /* Icons with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus.blocklyIconGroup\n    > .blocklyIconShape:first-child {\n    stroke: var(--blockly-active-node-color);\n    stroke-dasharray: 5px 3px;\n    stroke-width: var(--blockly-selection-width);\n  }\n\n  /* Workaround for unexpectedly hidden connection path due to core style. */\n  .blocklyKeyboardNavigation\n    .blocklyPassiveFocus.blocklyHighlightedConnectionPath {\n    display: unset !important;\n  }\n`);\n        // Styling for focusing the toolbox and flyout.\n        //\n        // This should be moved to core, to core/css.ts if not to somewhere\n        // more specific in core/toolbox/.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Different ways for toolbox/flyout to be the active tree: */\n  /* Active focus in the flyout. */\n  .blocklyKeyboardNavigation .blocklyFlyout:has(.blocklyActiveFocus),\n  /* Active focus in the toolbox. */\n  .blocklyKeyboardNavigation .blocklyToolbox:has(.blocklyActiveFocus),\n  /* Active focus on the toolbox/flyout. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus:is(.blocklyFlyout, .blocklyToolbox) {\n    outline-offset: calc(var(--blockly-selection-width) * -1);\n    outline: var(--blockly-selection-width) solid\n      var(--blockly-active-tree-color);\n  }\n\n  /* Suppress default outline. */\n  .blocklyKeyboardNavigation\n    .blocklyToolboxCategoryContainer:focus-visible {\n    outline: none;\n  }\n`);\n        // Styling for focusing the Workspace.\n        //\n        // This should be move to core, probably to core/css.ts.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Different ways for the workspace to be the active tree: */\n  /* Active focus within workspace. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace:has(.blocklyActiveFocus)\n    .blocklyWorkspaceFocusRing,\n  /* Active focus within drag layer. */\n  .blocklyKeyboardNavigation\n    .blocklySvg:has(~ .blocklyBlockDragSurface .blocklyActiveFocus)\n    .blocklyWorkspaceFocusRing,\n  /* Active focus on workspace. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace.blocklyActiveFocus\n    .blocklyWorkspaceFocusRing,\n  /* Focus in widget/dropdown div considered to be in workspace. */\n  .blocklyKeyboardNavigation:has(\n    .blocklyWidgetDiv:focus-within,\n    .blocklyDropDownDiv:focus-within\n  )\n    .blocklyWorkspace\n    .blocklyWorkspaceFocusRing {\n    stroke: var(--blockly-active-tree-color);\n    stroke-width: calc(var(--blockly-selection-width) * 2);\n  }\n\n  /* The workspace itself is the active node. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace.blocklyActiveFocus\n    .blocklyWorkspaceSelectionRing {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n  \n  /* The workspace itself is the active node. */\n  .blocklyKeyboardNavigation\n    .blocklyBubble.blocklyActiveFocus\n    .blocklyDraggable {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n`);\n        // Keyboard-nav-specific styling for the context menu.\n        //\n        // This should remain in the plugin for the time being because the\n        // classes selected are currently only defined in the plugin.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  .blocklyRTL .blocklyMenuItemContent .blocklyShortcutContainer {\n    flex-direction: row-reverse;\n  }\n  .blocklyMenuItemContent .blocklyShortcutContainer {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    gap: 16px;\n  }\n  .blocklyMenuItemContent .blocklyShortcutContainer .blocklyShortcut {\n    color: #ccc;\n  }\n`);\n        // Styling for connection highlighting during move mode.\n        //\n        // This should remain in the plugin for the time being because these\n        // classes are specific to the keyboard navigation plugin's move functionality.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Clean highlighting for potential connection points */\n  .blocklyPotentialConnection {\n    stroke: #00ff00 !important;\n    stroke-width: 3px !important;\n    stroke-dasharray: 4,2 !important;\n    /* fill is set inline to support overlapping connection logic - don't override here */\n    z-index: 9999 !important;\n    pointer-events: auto !important;\n    display: block !important;\n  }\n\n  /* Ensure highlights are visible in keyboard navigation mode */\n  .blocklyKeyboardNavigation .blocklyPotentialConnection {\n    display: block !important;\n    visibility: visible !important;\n    opacity: 1 !important;\n  }\n`);\n        // Register classes used by the shortcuts modal\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n:root {\n  --divider-border-color: #eee;\n  --key-border-color: #ccc;\n  --shortcut-modal-border-color: #9aa0a6;\n}\n\n.shortcut-modal {\n  border: 1px solid var(--shortcut-modal-border-color);\n  border-radius: 12px;\n  box-shadow: 6px 6px 32px rgba(0,0,0,.5);\n  flex-direction: column;\n  gap: 12px;\n  margin: auto;\n  max-height: 82vh;\n  max-width: calc(100% - 10em);\n  padding: 24px 12px 24px 32px;\n  position: relative;\n  z-index: 99;\n}\n\n.shortcut-modal[open] {\n  display: flex;\n}\n\n.shortcut-modal .close-modal {\n  border: 0;\n  background: transparent;\n  float: inline-end;\n  margin: 0 0 0 0;\n  position: absolute;\n  top: 16px;\n  right: 24px;\n}\n\n.shortcut-modal h1 {\n  font-weight: 600;\n  font-size: 1.2em;\n}\n\n.shortcut-modal:before {\n  background: radial-gradient(rgba(244, 244, 244, 0.43), rgba(75, 75, 75, 0.51));\n  align-items: center;\n  display: block;\n  font-family: Roboto;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.shortcut-tables {\n  display: grid;\n  align-items: start;\n  grid-template-columns: 1fr;\n  row-gap: 1em;\n  column-gap: 2em;\n}\n\n@media (min-width: 950px) {\n  .shortcut-tables {\n    grid-template-columns: 1fr 1fr\n  }\n}\n\n@media (min-width: 1360px) {\n  .shortcut-tables {\n    grid-template-columns: 1fr 1fr 1fr\n  }\n}\n\n.shortcut-table {\n  border-collapse: collapse;\n  font-family: Roboto;\n  font-size: .9em;\n}\n\n.shortcut-table th {\n  padding-inline-end: 0.5em;\n  text-align: left;\n  text-wrap: nowrap;\n  vertical-align: baseline;\n}\n\n.shortcut-table td:first-child {\n  text-wrap: auto;\n  width: 40%;\n}\n\n.shortcut-table tr:has(+ .category) {\n  --divider-border-color: transparent;\n  margin-end: 1em;\n}\n\n.shortcut-table tr:not(.category, :last-child) {\n  border-bottom: 1px solid var(--divider-border-color);\n}\n\n.shortcut-table td {\n  padding: 0.2em 1em 0.3em 0;\n  text-wrap: nowrap;\n}\n\n.shortcut-table h2 {\n  border-bottom: 1px solid #999;\n  font-size: 1em;\n  padding-block-end: 0.5em;\n}\n\n.shortcut-table .key {\n  border: 1px solid var(--key-border-color);\n  border-radius: 8px;\n  display: inline-block;\n  margin: 0 4px;\n  min-width: 2em;\n  padding: .3em .5em;\n  text-align: center;\n}\n\n.shortcut-table .separator {\n  color: gray;\n  display: inline-block;\n  padding: 0 0.5em;\n}\n\n.shortcut-container {\n  font-size: 0.95em;\n  overflow: auto;\n  padding: 0.5em;\n}\n\n.shortcut-combo {\n  display: inline-block;\n  padding: 0.25em 0;\n  text-wrap: nowrap;\n}\n\n/* Styling for blocks in sticky mode (click and stick) */\n.blockly-sticky-mode {\n  filter: drop-shadow(0 0 10px rgba(0, 255, 0, 0.8)) !important;\n  opacity: 0.9 !important;\n}\n\n/* Use child combinator (>) to only style the immediate block, not descendants */\n.blockly-sticky-mode > .blocklyPath {\n  stroke: #00ff00 !important;\n  stroke-width: 3 !important;\n}\n\n/* Styling for move grip handle */\n.blockly-move-grip {\n  cursor: grab;\n  transition: opacity 0.2s ease;\n}\n\n.blockly-move-grip:hover {\n  opacity: 0.8;\n}\n\n.blockly-move-grip:active {\n  cursor: grabbing;\n}\n\n.blockly-move-grip-background {\n  pointer-events: all;\n}\n\n.blockly-move-grip-dot {\n  pointer-events: none;\n}\n\n/* Ensure grip is visible above block elements */\n.blocklyKeyboardNavigation .blockly-move-grip {\n  z-index: 100;\n}\n\n`);\n    }\n}\n// Export build info components for use by plugin consumers\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXlEeEIsQ0FBQyxDQUFDO1FBRUMsK0NBQStDO1FBQy9DLEVBQUU7UUFDRixtRUFBbUU7UUFDbkUsa0NBQWtDO1FBQ2xDLDZDQUFXLENBQUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBbUJ4QixDQUFDLENBQUM7UUFFQyxzQ0FBc0M7UUFDdEMsRUFBRTtRQUNGLHdEQUF3RDtRQUN4RCw2Q0FBVyxDQUFDLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXdDeEIsQ0FBQyxDQUFDO1FBRUMsc0RBQXNEO1FBQ3RELEVBQUU7UUFDRixrRUFBa0U7UUFDbEUsNkRBQTZEO1FBQzdELDZDQUFXLENBQUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7O0NBYXhCLENBQUMsQ0FBQztRQUVDLHdEQUF3RDtRQUN4RCxFQUFFO1FBQ0Ysb0VBQW9FO1FBQ3BFLCtFQUErRTtRQUMvRSw2Q0FBVyxDQUFDLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBa0J4QixDQUFDLENBQUM7UUFFQywrQ0FBK0M7UUFDL0MsNkNBQVcsQ0FBQyxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrTHhCLENBQUMsQ0FBQztJQUNELENBQUM7Q0FFRjtBQUVELDJEQUEyRDtBQUMwRTtBQUM3RiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvaW5kZXgudHM/MGUzZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7TmF2aWdhdGlvbkNvbnRyb2xsZXJ9IGZyb20gJy4vbmF2aWdhdGlvbl9jb250cm9sbGVyJztcbmltcG9ydCB7ZW5hYmxlQmxvY2tzT25EcmFnfSBmcm9tICcuL2Rpc2FibGVkX2Jsb2Nrcyc7XG5pbXBvcnQge3JlZ2lzdGVySHRtbFRvYXN0fSBmcm9tICcuL2h0bWxfdG9hc3QnO1xuaW1wb3J0IHtTdGlja3lNb2RlQ29udHJvbGxlciwgVHJpZ2dlck1vZGV9IGZyb20gJy4vc3RpY2t5X21vZGVfY29udHJvbGxlcic7XG5cbi8vIFJlLWV4cG9ydCBUcmlnZ2VyTW9kZSBmb3IgZXh0ZXJuYWwgdXNlXG5leHBvcnQge1RyaWdnZXJNb2RlfTtcblxuLyoqIFBsdWdpbiBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi4gKi9cbmV4cG9ydCBjbGFzcyBLZXlib2FyZE5hdmlnYXRpb24ge1xuICAvKiogVGhlIHdvcmtzcGFjZS4gKi9cbiAgcHJvdGVjdGVkIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmc7XG5cbiAgLyoqIEtleWJvYXJkIG5hdmlnYXRpb24gY29udHJvbGxlciBpbnN0YW5jZSBmb3IgdGhlIHdvcmtzcGFjZS4gKi9cbiAgcHJpdmF0ZSBuYXZpZ2F0aW9uQ29udHJvbGxlcjogTmF2aWdhdGlvbkNvbnRyb2xsZXI7XG5cbiAgLyoqIEN1cnNvciBmb3IgdGhlIG1haW4gd29ya3NwYWNlLiAqL1xuICBwcml2YXRlIGN1cnNvcjogQmxvY2tseS5MaW5lQ3Vyc29yO1xuXG4gIC8qKlxuICAgKiBGb2N1cyByaW5nIGluIHRoZSB3b3Jrc3BhY2UuXG4gICAqL1xuICBwcml2YXRlIHdvcmtzcGFjZUZvY3VzUmluZzogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBTZWxlY3Rpb24gcmluZyBpbnNpZGUgdGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIHByaXZhdGUgd29ya3NwYWNlU2VsZWN0aW9uUmluZzogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBDb250cm9sbGVyIGZvciBjbGljay1hbmQtc3RpY2sgZnVuY3Rpb25hbGl0eS4gKi9cbiAgcHJpdmF0ZSBzdGlja3lNb2RlQ29udHJvbGxlcjogU3RpY2t5TW9kZUNvbnRyb2xsZXI7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVzdG9yZSBtb25rZXkgcGF0Y2guXG4gICAqL1xuICBwcml2YXRlIG9sZFdvcmtzcGFjZVJlc2l6ZTpcbiAgICB8IEluc3RhbmNlVHlwZTx0eXBlb2YgQmxvY2tseS5Xb3Jrc3BhY2VTdmc+WydyZXNpemUnXVxuICAgIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgcGx1Z2luIGlzIGN1cnJlbnRseSBpbiBzdGlja3kgbW9kZSAoY2xpY2stYW5kLXN0aWNrKS5cbiAgICpcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBhIGJsb2NrIGlzIGluIHN0aWNreSBtb2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBnZXQgaXNJblN0aWNreU1vZGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RpY2t5TW9kZUNvbnRyb2xsZXIuaXNBY3RpdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJsb2NrIGN1cnJlbnRseSBpbiBzdGlja3kgbW9kZSwgaWYgYW55LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgYmxvY2sgaW4gc3RpY2t5IG1vZGUsIG9yIG51bGwgaWYgbm90IGluIHN0aWNreSBtb2RlLlxuICAgKi9cbiAgZ2V0IHN0aWNreUJsb2NrKCk6IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlci5nZXRBY3RpdmVCbG9jaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0aGF0IHRoZSBwbHVnaW4gd2lsbCBiZSBhZGRlZCB0by5cbiAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgcGx1Z2luXG4gICAqIEBwYXJhbSBvcHRpb25zLmFsbG93Q3Jvc3NXb3Jrc3BhY2VQYXN0ZSBJZiB0cnVlLCB3aWxsIGFsbG93IHBhc3RlXG4gICAqIG9wdGlvbiB0byBhcHBlYXIgZW5hYmxlZCB3aGVuIHBhc3RpbmcgaW4gYSBkaWZmZXJlbnQgd29ya3NwYWNlXG4gICAqIHRoYW4gd2FzIGNvcGllZCBmcm9tLiBEZWZhdWx0cyB0byBmYWxzZS4gU2V0IHRvIHRydWUgaWYgdXNpbmdcbiAgICogY3Jvc3MtdGFiLWNvcHktcGFzdGUgcGx1Z2luIG9yIHNpbWlsYXIuXG4gICAqIEBwYXJhbSBvcHRpb25zLmhpZ2hsaWdodENvbm5lY3Rpb25zIElmIHRydWUsIHdpbGwgaGlnaGxpZ2h0IGFsbFxuICAgKiB2YWxpZCBjb25uZWN0aW9uIHBvaW50cyB3aGVuIGVudGVyaW5nIG1vdmUgbW9kZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICogVXNlZnVsIGZvciBpbXByb3ZpbmcgbW91c2UgYWNjZXNzaWJpbGl0eS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4gICAgb3B0aW9uczoge1xuICAgICAgYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlPzogYm9vbGVhbjtcbiAgICAgIGhpZ2hsaWdodENvbm5lY3Rpb25zPzogYm9vbGVhbjtcbiAgICB9ID0ge1xuICAgICAgYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlOiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodENvbm5lY3Rpb25zOiB0cnVlLFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMud29ya3NwYWNlID0gd29ya3NwYWNlO1xuXG4gICAgdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlciA9IG5ldyBTdGlja3lNb2RlQ29udHJvbGxlcihcbiAgICAgIHdvcmtzcGFjZSxcbiAgICAgIG51bGwgYXMgYW55LCAvLyBXaWxsIGJlIHNldCBhZnRlciBuYXZpZ2F0aW9uQ29udHJvbGxlciBpcyBjcmVhdGVkXG4gICAgKTtcblxuICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBuZXcgTmF2aWdhdGlvbkNvbnRyb2xsZXIoe1xuICAgICAgYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlOiBvcHRpb25zLmFsbG93Q3Jvc3NXb3Jrc3BhY2VQYXN0ZSA/PyBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodENvbm5lY3Rpb25zOiBvcHRpb25zLmhpZ2hsaWdodENvbm5lY3Rpb25zID8/IHRydWUsXG4gICAgICAvLyBEaXNhYmxlIGF1dG8tc2Nyb2xsIGR1cmluZyBzdGlja3kgbW9kZSB0byBwcmV2ZW50IGphcnJpbmcganVtcHMgYXQgdmlld3BvcnQgZWRnZXNcbiAgICAgIHNob3VsZERpc2FibGVBdXRvU2Nyb2xsOiAoKSA9PiB0aGlzLnN0aWNreU1vZGVDb250cm9sbGVyLmlzQWN0aXZlKCksXG4gICAgfSk7XG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlci5pbml0KCk7XG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlci5hZGRXb3Jrc3BhY2Uod29ya3NwYWNlKTtcbiAgICB0aGlzLm5hdmlnYXRpb25Db250cm9sbGVyLmVuYWJsZSh3b3Jrc3BhY2UpO1xuXG4gICAgLy8gTm93IHNldCB0aGUgbmF2aWdhdGlvbiBjb250cm9sbGVyIG9uIHRoZSBzdGlja3kgbW9kZSBjb250cm9sbGVyXG4gICAgKHRoaXMuc3RpY2t5TW9kZUNvbnRyb2xsZXIgYXMgYW55KS5uYXZpZ2F0aW9uQ29udHJvbGxlciA9IHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXI7XG5cbiAgICB0aGlzLmN1cnNvciA9IG5ldyBCbG9ja2x5LkxpbmVDdXJzb3Iod29ya3NwYWNlKTtcblxuICAgIC8vIEFkZCB0aGUgZXZlbnQgbGlzdGVuZXIgdG8gZW5hYmxlIGRpc2FibGVkIGJsb2NrcyBvbiBkcmFnLlxuICAgIHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcihlbmFibGVCbG9ja3NPbkRyYWcpO1xuXG4gICAgdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlci5pbnN0YWxsKCk7XG5cbiAgICAod2luZG93IGFzIGFueSkua2V5Ym9hcmROYXZpZ2F0aW9uID0gdGhpcztcblxuICAgIC8vIE1vdmUgdGhlIGZseW91dCBmb3IgbG9naWNhbCB0YWIgb3JkZXIuXG4gICAgY29uc3QgZmx5b3V0ID0gd29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgIGlmIChmbHlvdXQgIT0gbnVsbCAmJiBmbHlvdXQgaW5zdGFuY2VvZiBCbG9ja2x5LkZseW91dCkge1xuICAgICAgLy8gVGhpcyByZWxpZXMgb24gaW50ZXJuYWxzLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIGNvbnN0IGZseW91dEVsZW1lbnQgPSAoKGZseW91dCBhcyBhbnkpLnN2Z0dyb3VwXyBhcyBTVkdFbGVtZW50KSA/PyBudWxsO1xuICAgICAgZmx5b3V0RWxlbWVudD8ucGFyZW50RWxlbWVudD8uaW5zZXJ0QmVmb3JlKFxuICAgICAgICBmbHlvdXRFbGVtZW50LFxuICAgICAgICB3b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCksXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMub2xkV29ya3NwYWNlUmVzaXplID0gd29ya3NwYWNlLnJlc2l6ZTtcbiAgICB3b3Jrc3BhY2UucmVzaXplID0gKCkgPT4ge1xuICAgICAgdGhpcy5vbGRXb3Jrc3BhY2VSZXNpemU/LmNhbGwodGhpcy53b3Jrc3BhY2UpO1xuICAgICAgdGhpcy5yZXNpemVXb3Jrc3BhY2VSaW5ncygpO1xuICAgIH07XG4gICAgdGhpcy53b3Jrc3BhY2VTZWxlY3Rpb25SaW5nID0gQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudCgncmVjdCcsIHtcbiAgICAgIGZpbGw6ICdub25lJyxcbiAgICAgIGNsYXNzOiAnYmxvY2tseVdvcmtzcGFjZVNlbGVjdGlvblJpbmcnLFxuICAgIH0pO1xuICAgIHdvcmtzcGFjZS5nZXRTdmdHcm91cCgpLmFwcGVuZENoaWxkKHRoaXMud29ya3NwYWNlU2VsZWN0aW9uUmluZyk7XG4gICAgdGhpcy53b3Jrc3BhY2VGb2N1c1JpbmcgPSBCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KCdyZWN0Jywge1xuICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgY2xhc3M6ICdibG9ja2x5V29ya3NwYWNlRm9jdXNSaW5nJyxcbiAgICB9KTtcbiAgICB3b3Jrc3BhY2UuZ2V0U3ZnR3JvdXAoKS5hcHBlbmRDaGlsZCh0aGlzLndvcmtzcGFjZUZvY3VzUmluZyk7XG4gICAgdGhpcy5yZXNpemVXb3Jrc3BhY2VSaW5ncygpO1xuXG4gICAgcmVnaXN0ZXJIdG1sVG9hc3QoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzaXplV29ya3NwYWNlUmluZ3MoKSB7XG4gICAgaWYgKCF0aGlzLndvcmtzcGFjZUZvY3VzUmluZyB8fCAhdGhpcy53b3Jrc3BhY2VTZWxlY3Rpb25SaW5nKSByZXR1cm47XG4gICAgdGhpcy5yZXNpemVGb2N1c1JpbmdJbnRlcm5hbCh0aGlzLndvcmtzcGFjZVNlbGVjdGlvblJpbmcsIDUpO1xuICAgIHRoaXMucmVzaXplRm9jdXNSaW5nSW50ZXJuYWwodGhpcy53b3Jrc3BhY2VGb2N1c1JpbmcsIDApO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNpemVGb2N1c1JpbmdJbnRlcm5hbChyaW5nOiBFbGVtZW50LCBpbnNldDogbnVtYmVyKSB7XG4gICAgY29uc3QgbWV0cmljcyA9IHRoaXMud29ya3NwYWNlLmdldE1ldHJpY3MoKTtcbiAgICByaW5nLnNldEF0dHJpYnV0ZSgneCcsIChtZXRyaWNzLmFic29sdXRlTGVmdCArIGluc2V0KS50b1N0cmluZygpKTtcbiAgICByaW5nLnNldEF0dHJpYnV0ZSgneScsIChtZXRyaWNzLmFic29sdXRlVG9wICsgaW5zZXQpLnRvU3RyaW5nKCkpO1xuICAgIHJpbmcuc2V0QXR0cmlidXRlKFxuICAgICAgJ3dpZHRoJyxcbiAgICAgIE1hdGgubWF4KDAsIG1ldHJpY3Mudmlld1dpZHRoIC0gaW5zZXQgKiAyKS50b1N0cmluZygpLFxuICAgICk7XG4gICAgcmluZy5zZXRBdHRyaWJ1dGUoXG4gICAgICAnaGVpZ2h0JyxcbiAgICAgIE1hdGgubWF4KDAsIG1ldHJpY3Muc3ZnSGVpZ2h0IC0gaW5zZXQgKiAyKS50b1N0cmluZygpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMga2V5Ym9hcmQgbmF2aWdhdGlvbiBmb3IgdGhpcyBuYXZpZ2F0b3IncyB3b3Jrc3BhY2UuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIHRoaXMud29ya3NwYWNlRm9jdXNSaW5nPy5yZW1vdmUoKTtcbiAgICB0aGlzLndvcmtzcGFjZVNlbGVjdGlvblJpbmc/LnJlbW92ZSgpO1xuICAgIGlmICh0aGlzLm9sZFdvcmtzcGFjZVJlc2l6ZSkge1xuICAgICAgdGhpcy53b3Jrc3BhY2UucmVzaXplID0gdGhpcy5vbGRXb3Jrc3BhY2VSZXNpemU7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB0aGF0IGVuYWJsZXMgYmxvY2tzIG9uIGRyYWdcbiAgICB0aGlzLndvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcihlbmFibGVCbG9ja3NPbkRyYWcpO1xuICAgIHRoaXMuc3RpY2t5TW9kZUNvbnRyb2xsZXIudW5pbnN0YWxsKCk7XG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlci5kaXNwb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHZpc2liaWxpdHkgb2YgYSBoZWxwIGRpYWxvZyBmb3IgdGhlIGtleWJvYXJkIHNob3J0Y3V0cy5cbiAgICovXG4gIHRvZ2dsZVNob3J0Y3V0RGlhbG9nKCk6IHZvaWQge1xuICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIuc2hvcnRjdXREaWFsb2cudG9nZ2xlKHRoaXMud29ya3NwYWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBjb25uZWN0aW9uIGhpZ2hsaWdodGluZyBkdXJpbmcgbW92ZSBvcGVyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZCBXaGV0aGVyIHRvIHNob3cgY29ubmVjdGlvbiBoaWdobGlnaHRzIHdoZW4gbW92aW5nIGJsb2Nrcy5cbiAgICovXG4gIHNldEhpZ2hsaWdodENvbm5lY3Rpb25zKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLm5hdmlnYXRpb25Db250cm9sbGVyLnNldEhpZ2hsaWdodENvbm5lY3Rpb25zKGVuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGZhdHRlciBjb25uZWN0aW9uIGhpZ2hsaWdodHMuXG4gICAqXG4gICAqIEBwYXJhbSBlbmFibGVkIFdoZXRoZXIgdG8gdXNlIGZhdHRlciBjb25uZWN0aW9ucyB3aXRoIGxhcmdlciBjbGljayB0YXJnZXRzLlxuICAgKi9cbiAgc2V0RmF0dGVyQ29ubmVjdGlvbnMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0RmF0dGVyQ29ubmVjdGlvbnMoZW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb25uZWN0aW9uIGhpZ2hsaWdodCBzaXplLlxuICAgKlxuICAgKiBAcGFyYW0gc2l6ZSBUaGUgc2l6ZSBsZXZlbDogJ21pbmltYWwnLCAnbWVkaXVtJywgb3IgJ2xhcmdlJy5cbiAgICovXG4gIHNldENvbm5lY3Rpb25TaXplKHNpemU6ICdtaW5pbWFsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyk6IHZvaWQge1xuICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0Q29ubmVjdGlvblNpemUoc2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB0cmlnZ2VyIG1vZGUgZm9yIGVudGVyaW5nIHN0aWNreSBtb3ZlIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBtb2RlIFRoZSB0cmlnZ2VyIG1vZGUgdG8gdXNlIChET1VCTEVfQ0xJQ0ssIFNISUZUX0NMSUNLLCBGT0NVU0VEX0NMSUNLLCBNT0RFX1RPR0dMRSwgb3IgR1JJUF9DTElDSykuXG4gICAqL1xuICBzZXRUcmlnZ2VyTW9kZShtb2RlOiBUcmlnZ2VyTW9kZSk6IHZvaWQge1xuICAgIHRoaXMuc3RpY2t5TW9kZUNvbnRyb2xsZXIuc2V0VHJpZ2dlck1vZGUobW9kZSk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUga2VlcGluZyB0aGUgYmxvY2sgb24gdGhlIG1vdXNlIGN1cnNvciBkdXJpbmcgc3RpY2t5IG1vdmUuXG4gICAqXG4gICAqIEBwYXJhbSBlbmFibGVkIFdoZXRoZXIgdGhlIGJsb2NrIHNob3VsZCBmb2xsb3cgdGhlIGN1cnNvciAodHJ1ZSkgb3Igc3RheSBhdCBjbGljayBwb3NpdGlvbiAoZmFsc2UpLlxuICAgKi9cbiAgc2V0S2VlcEJsb2NrT25Nb3VzZShlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlci5zZXRLZWVwQmxvY2tPbk1vdXNlKGVuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGRlZmF1bHQgdG9vbGJveCBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXNuJ3QgaGFuZGxlXG4gICAqIGtleWRvd24gZXZlbnRzLCBzaW5jZSB3ZSBub3cgaGFuZGxlIHRoZW0gaW4gdGhpcyBwbHVnaW4uIElmIHlvdVxuICAgKiB1c2UgdGhlIGRlZmF1bHQgdG9vbGJveCwgY2FsbCB0aGlzIGZ1bmN0aW9uIGJlZm9yZSBjYWxsaW5nXG4gICAqIGBCbG9ja2x5LmluamVjdGAuIElmIHlvdSB1c2UgYSBjdXN0b20gdG9vbGJveCwgb3ZlcnJpZGUgdGhlXG4gICAqIGBvbktleURvd25fYCBtZXRob2QgaW4geW91ciB0b29sYm94IGltcGxlbWVudGF0aW9uIHRvIG1ha2UgaXQgYSBuby1vcC5cbiAgICovXG4gIHN0YXRpYyByZWdpc3Rlck5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94KCkge1xuICAgIHRoaXMucmVnaXN0ZXJOYXZpZ2F0aW9uRGVmZXJyaW5nVG9vbGJveCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIENTUyB1c2VkIGJ5IHRoZSBwbHVnaW4uXG4gICAqIFRoaXMgaXMgYnJva2VuIHVwIGludG8gc2VjdGlvbnMgYnkgcHVycG9zZSwgd2l0aCBzb21lIG5vdGVzIGFib3V0XG4gICAqIHdoZXJlIGl0IHNob3VsZCBldmVudHVhbGx5IGxpdmUuXG4gICAqIE11c3QgYmUgY2FsbGVkIGJlZm9yZSBgQmxvY2tseS5pbmplY3RgLlxuICAgKi9cbiAgc3RhdGljIHJlZ2lzdGVyS2V5Ym9hcmROYXZpZ2F0aW9uU3R5bGVzKCkge1xuICAgIC8vIEVuYWJsZSB0aGUgZGVsZXRlIGljb24gZm9yIGNvbW1lbnRzLlxuICAgIC8vXG4gICAgLy8gVGhpcyBzaG91bGQgcmVtYWluIGluIHRoZSBwbHVnaW4gZm9yIHRoZSB0aW1lIGJlaW5nIGJlY2F1c2Ugd2UgZG9cbiAgICAvLyBub3Qgd2FudCB0byBkaXNwbGF5IHRoZSBkZWxldGUgaWNvbiBieSBkZWZhdWx0LlxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbiAgLmJsb2NrbHlEZWxldGVJY29uIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuYCk7XG5cbiAgICAvLyBTZXQgdmFyaWFibGVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnRyb2wgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlXG4gICAgLy8gZm9jdXMgaW5kaWNhdG9ycy4gIEF0dGFjaCB0aGVtIHRvIHRoZSBpbmplY3Rpb25EaXYgc2luY2UgdGhleSB3aWxsXG4gICAgLy8gYXBwbHkgdG8gdGhpbmdzIGNvbnRhaW5lZCB0aGVyZWluLlxuICAgIC8vXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgbW92ZWQgdG8gY29yZSwgZWl0aGVyIHRvIGNvcmUvY3NzLnRzXG4gICAgLy8gb3IgdG8gY29yZS9yZW5kZXJlcnMvLlxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbiAgLmluamVjdGlvbkRpdiB7XG4gICAgLS1ibG9ja2x5LWFjdGl2ZS1ub2RlLWNvbG9yOiAjZmZmMjAwO1xuICAgIC0tYmxvY2tseS1hY3RpdmUtdHJlZS1jb2xvcjogIzYwYTVmYTtcbiAgICAtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoOiAzcHg7XG4gIH1cbmApO1xuXG4gICAgLy8gU3R5bGluZyBmb2N1c2luZyBibG9ja3MsIGNvbm5lY3Rpb25zIGFuZCBmaWVsZHMuXG4gICAgLy9cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBtb3ZlZCB0byBjb3JlLCBiZWluZyBpbnRlZ3JhdGVkIGludG8gdGhlXG4gICAgLy8gZXhpc3Rpbmcgc3R5bGluZyBvZiByZW5kZXJlcnMgaW4gY29yZS9yZW5kZXJlcnMvKi9jb25zdGFudHMudHMuXG4gICAgLy9cbiAgICAvLyBNYW55IHNlbGVjdG9ycyBpbmNsdWRlIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uIHRvIGVuc3VyZSBrZXlib2FyZFxuICAgIC8vIG5hdiBpcyBvbiAodmlhIHRoZSBoZXVyaXN0aWMpLiBUaGlzIGNsYXNzIGlzIGFkZGVkL3JlbW92ZWQgZnJvbSBib2R5LlxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbiAgLyogQWN0aXZlIGZvY3VzIGNhc2VzOiAqL1xuICAvKiBCbG9ja3Mgd2l0aCBhY3RpdmUgZm9jdXMuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlBY3RpdmVGb2N1czppcyguYmxvY2tseVBhdGgsIC5ibG9ja2x5SGlnaGxpZ2h0ZWRDb25uZWN0aW9uUGF0aCksXG4gIC8qIEZpZWxkcyB3aXRoIGFjdGl2ZSBmb2N1cywgKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb25cbiAgICAuYmxvY2tseUFjdGl2ZUZvY3VzLmJsb2NrbHlGaWVsZFxuICAgID4gLmJsb2NrbHlGaWVsZFJlY3QsXG4gIC8qIEljb25zIHdpdGggYWN0aXZlIGZvY3VzLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5QWN0aXZlRm9jdXMuYmxvY2tseUljb25Hcm91cFxuICAgID4gLmJsb2NrbHlJY29uU2hhcGU6Zmlyc3QtY2hpbGQge1xuICAgIHN0cm9rZTogdmFyKC0tYmxvY2tseS1hY3RpdmUtbm9kZS1jb2xvcik7XG4gICAgc3Ryb2tlLXdpZHRoOiB2YXIoLS1ibG9ja2x5LXNlbGVjdGlvbi13aWR0aCk7XG4gIH1cblxuICAvKiBQYXNzaXZlIGZvY3VzIGNhc2VzOiAqL1xuICAvKiBCbG9ja3Mgd2l0aCBwYXNzaXZlIGZvY3VzIGV4Y2VwdCB3aGVuIHdpZGdldC9kcm9wZG93biBkaXYgaW4gdXNlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbjpub3QoXG4gICAgICAgICAgOmhhcyhcbiAgICAgICAgICAgICAgLmJsb2NrbHlEcm9wRG93bkRpdjpmb2N1cy13aXRoaW4sXG4gICAgICAgICAgICAgIC5ibG9ja2x5V2lkZ2V0RGl2OmZvY3VzLXdpdGhpblxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgLmJsb2NrbHlQYXNzaXZlRm9jdXM6aXMoXG4gICAgICAuYmxvY2tseVBhdGg6bm90KC5ibG9ja2x5Rmx5b3V0IC5ibG9ja2x5UGF0aCksXG4gICAgICAuYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGhcbiAgICApLFxuICAvKiBGaWVsZHMgd2l0aCBwYXNzaXZlIGZvY3VzIGV4Y2VwdCB3aGVuIHdpZGdldC9kcm9wZG93biBkaXYgaW4gdXNlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbjpub3QoXG4gICAgICAgICAgOmhhcyhcbiAgICAgICAgICAgICAgLmJsb2NrbHlEcm9wRG93bkRpdjpmb2N1cy13aXRoaW4sXG4gICAgICAgICAgICAgIC5ibG9ja2x5V2lkZ2V0RGl2OmZvY3VzLXdpdGhpblxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgLmJsb2NrbHlQYXNzaXZlRm9jdXMuYmxvY2tseUZpZWxkXG4gICAgPiAuYmxvY2tseUZpZWxkUmVjdCxcbiAgLyogSWNvbnMgd2l0aCBwYXNzaXZlIGZvY3VzIGV4Y2VwdCB3aGVuIHdpZGdldC9kcm9wZG93biBkaXYgaW4gdXNlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbjpub3QoXG4gICAgICAgICAgOmhhcyhcbiAgICAgICAgICAgICAgLmJsb2NrbHlEcm9wRG93bkRpdjpmb2N1cy13aXRoaW4sXG4gICAgICAgICAgICAgIC5ibG9ja2x5V2lkZ2V0RGl2OmZvY3VzLXdpdGhpblxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgLmJsb2NrbHlQYXNzaXZlRm9jdXMuYmxvY2tseUljb25Hcm91cFxuICAgID4gLmJsb2NrbHlJY29uU2hhcGU6Zmlyc3QtY2hpbGQge1xuICAgIHN0cm9rZTogdmFyKC0tYmxvY2tseS1hY3RpdmUtbm9kZS1jb2xvcik7XG4gICAgc3Ryb2tlLWRhc2hhcnJheTogNXB4IDNweDtcbiAgICBzdHJva2Utd2lkdGg6IHZhcigtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoKTtcbiAgfVxuXG4gIC8qIFdvcmthcm91bmQgZm9yIHVuZXhwZWN0ZWRseSBoaWRkZW4gY29ubmVjdGlvbiBwYXRoIGR1ZSB0byBjb3JlIHN0eWxlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5UGFzc2l2ZUZvY3VzLmJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoIHtcbiAgICBkaXNwbGF5OiB1bnNldCAhaW1wb3J0YW50O1xuICB9XG5gKTtcblxuICAgIC8vIFN0eWxpbmcgZm9yIGZvY3VzaW5nIHRoZSB0b29sYm94IGFuZCBmbHlvdXQuXG4gICAgLy9cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBtb3ZlZCB0byBjb3JlLCB0byBjb3JlL2Nzcy50cyBpZiBub3QgdG8gc29tZXdoZXJlXG4gICAgLy8gbW9yZSBzcGVjaWZpYyBpbiBjb3JlL3Rvb2xib3gvLlxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbiAgLyogRGlmZmVyZW50IHdheXMgZm9yIHRvb2xib3gvZmx5b3V0IHRvIGJlIHRoZSBhY3RpdmUgdHJlZTogKi9cbiAgLyogQWN0aXZlIGZvY3VzIGluIHRoZSBmbHlvdXQuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uIC5ibG9ja2x5Rmx5b3V0OmhhcyguYmxvY2tseUFjdGl2ZUZvY3VzKSxcbiAgLyogQWN0aXZlIGZvY3VzIGluIHRoZSB0b29sYm94LiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbiAuYmxvY2tseVRvb2xib3g6aGFzKC5ibG9ja2x5QWN0aXZlRm9jdXMpLFxuICAvKiBBY3RpdmUgZm9jdXMgb24gdGhlIHRvb2xib3gvZmx5b3V0LiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5QWN0aXZlRm9jdXM6aXMoLmJsb2NrbHlGbHlvdXQsIC5ibG9ja2x5VG9vbGJveCkge1xuICAgIG91dGxpbmUtb2Zmc2V0OiBjYWxjKHZhcigtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoKSAqIC0xKTtcbiAgICBvdXRsaW5lOiB2YXIoLS1ibG9ja2x5LXNlbGVjdGlvbi13aWR0aCkgc29saWRcbiAgICAgIHZhcigtLWJsb2NrbHktYWN0aXZlLXRyZWUtY29sb3IpO1xuICB9XG5cbiAgLyogU3VwcHJlc3MgZGVmYXVsdCBvdXRsaW5lLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5VG9vbGJveENhdGVnb3J5Q29udGFpbmVyOmZvY3VzLXZpc2libGUge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cbmApO1xuXG4gICAgLy8gU3R5bGluZyBmb3IgZm9jdXNpbmcgdGhlIFdvcmtzcGFjZS5cbiAgICAvL1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIG1vdmUgdG8gY29yZSwgcHJvYmFibHkgdG8gY29yZS9jc3MudHMuXG4gICAgQmxvY2tseS5Dc3MucmVnaXN0ZXIoYFxuICAvKiBEaWZmZXJlbnQgd2F5cyBmb3IgdGhlIHdvcmtzcGFjZSB0byBiZSB0aGUgYWN0aXZlIHRyZWU6ICovXG4gIC8qIEFjdGl2ZSBmb2N1cyB3aXRoaW4gd29ya3NwYWNlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5V29ya3NwYWNlOmhhcyguYmxvY2tseUFjdGl2ZUZvY3VzKVxuICAgIC5ibG9ja2x5V29ya3NwYWNlRm9jdXNSaW5nLFxuICAvKiBBY3RpdmUgZm9jdXMgd2l0aGluIGRyYWcgbGF5ZXIuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlTdmc6aGFzKH4gLmJsb2NrbHlCbG9ja0RyYWdTdXJmYWNlIC5ibG9ja2x5QWN0aXZlRm9jdXMpXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2VGb2N1c1JpbmcsXG4gIC8qIEFjdGl2ZSBmb2N1cyBvbiB3b3Jrc3BhY2UuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2UuYmxvY2tseUFjdGl2ZUZvY3VzXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2VGb2N1c1JpbmcsXG4gIC8qIEZvY3VzIGluIHdpZGdldC9kcm9wZG93biBkaXYgY29uc2lkZXJlZCB0byBiZSBpbiB3b3Jrc3BhY2UuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uOmhhcyhcbiAgICAuYmxvY2tseVdpZGdldERpdjpmb2N1cy13aXRoaW4sXG4gICAgLmJsb2NrbHlEcm9wRG93bkRpdjpmb2N1cy13aXRoaW5cbiAgKVxuICAgIC5ibG9ja2x5V29ya3NwYWNlXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2VGb2N1c1Jpbmcge1xuICAgIHN0cm9rZTogdmFyKC0tYmxvY2tseS1hY3RpdmUtdHJlZS1jb2xvcik7XG4gICAgc3Ryb2tlLXdpZHRoOiBjYWxjKHZhcigtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoKSAqIDIpO1xuICB9XG5cbiAgLyogVGhlIHdvcmtzcGFjZSBpdHNlbGYgaXMgdGhlIGFjdGl2ZSBub2RlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5V29ya3NwYWNlLmJsb2NrbHlBY3RpdmVGb2N1c1xuICAgIC5ibG9ja2x5V29ya3NwYWNlU2VsZWN0aW9uUmluZyB7XG4gICAgc3Ryb2tlOiB2YXIoLS1ibG9ja2x5LWFjdGl2ZS1ub2RlLWNvbG9yKTtcbiAgICBzdHJva2Utd2lkdGg6IHZhcigtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoKTtcbiAgfVxuICBcbiAgLyogVGhlIHdvcmtzcGFjZSBpdHNlbGYgaXMgdGhlIGFjdGl2ZSBub2RlLiAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5QnViYmxlLmJsb2NrbHlBY3RpdmVGb2N1c1xuICAgIC5ibG9ja2x5RHJhZ2dhYmxlIHtcbiAgICBzdHJva2U6IHZhcigtLWJsb2NrbHktYWN0aXZlLW5vZGUtY29sb3IpO1xuICAgIHN0cm9rZS13aWR0aDogdmFyKC0tYmxvY2tseS1zZWxlY3Rpb24td2lkdGgpO1xuICB9XG5gKTtcblxuICAgIC8vIEtleWJvYXJkLW5hdi1zcGVjaWZpYyBzdHlsaW5nIGZvciB0aGUgY29udGV4dCBtZW51LlxuICAgIC8vXG4gICAgLy8gVGhpcyBzaG91bGQgcmVtYWluIGluIHRoZSBwbHVnaW4gZm9yIHRoZSB0aW1lIGJlaW5nIGJlY2F1c2UgdGhlXG4gICAgLy8gY2xhc3NlcyBzZWxlY3RlZCBhcmUgY3VycmVudGx5IG9ubHkgZGVmaW5lZCBpbiB0aGUgcGx1Z2luLlxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbiAgLmJsb2NrbHlSVEwgLmJsb2NrbHlNZW51SXRlbUNvbnRlbnQgLmJsb2NrbHlTaG9ydGN1dENvbnRhaW5lciB7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuICB9XG4gIC5ibG9ja2x5TWVudUl0ZW1Db250ZW50IC5ibG9ja2x5U2hvcnRjdXRDb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGdhcDogMTZweDtcbiAgfVxuICAuYmxvY2tseU1lbnVJdGVtQ29udGVudCAuYmxvY2tseVNob3J0Y3V0Q29udGFpbmVyIC5ibG9ja2x5U2hvcnRjdXQge1xuICAgIGNvbG9yOiAjY2NjO1xuICB9XG5gKTtcblxuICAgIC8vIFN0eWxpbmcgZm9yIGNvbm5lY3Rpb24gaGlnaGxpZ2h0aW5nIGR1cmluZyBtb3ZlIG1vZGUuXG4gICAgLy9cbiAgICAvLyBUaGlzIHNob3VsZCByZW1haW4gaW4gdGhlIHBsdWdpbiBmb3IgdGhlIHRpbWUgYmVpbmcgYmVjYXVzZSB0aGVzZVxuICAgIC8vIGNsYXNzZXMgYXJlIHNwZWNpZmljIHRvIHRoZSBrZXlib2FyZCBuYXZpZ2F0aW9uIHBsdWdpbidzIG1vdmUgZnVuY3Rpb25hbGl0eS5cbiAgICBCbG9ja2x5LkNzcy5yZWdpc3RlcihgXG4gIC8qIENsZWFuIGhpZ2hsaWdodGluZyBmb3IgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRzICovXG4gIC5ibG9ja2x5UG90ZW50aWFsQ29ubmVjdGlvbiB7XG4gICAgc3Ryb2tlOiAjMDBmZjAwICFpbXBvcnRhbnQ7XG4gICAgc3Ryb2tlLXdpZHRoOiAzcHggIWltcG9ydGFudDtcbiAgICBzdHJva2UtZGFzaGFycmF5OiA0LDIgIWltcG9ydGFudDtcbiAgICAvKiBmaWxsIGlzIHNldCBpbmxpbmUgdG8gc3VwcG9ydCBvdmVybGFwcGluZyBjb25uZWN0aW9uIGxvZ2ljIC0gZG9uJ3Qgb3ZlcnJpZGUgaGVyZSAqL1xuICAgIHotaW5kZXg6IDk5OTkgIWltcG9ydGFudDtcbiAgICBwb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gIH1cblxuICAvKiBFbnN1cmUgaGlnaGxpZ2h0cyBhcmUgdmlzaWJsZSBpbiBrZXlib2FyZCBuYXZpZ2F0aW9uIG1vZGUgKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb24gLmJsb2NrbHlQb3RlbnRpYWxDb25uZWN0aW9uIHtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIHZpc2liaWxpdHk6IHZpc2libGUgIWltcG9ydGFudDtcbiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XG4gIH1cbmApO1xuXG4gICAgLy8gUmVnaXN0ZXIgY2xhc3NlcyB1c2VkIGJ5IHRoZSBzaG9ydGN1dHMgbW9kYWxcbiAgICBCbG9ja2x5LkNzcy5yZWdpc3RlcihgXG46cm9vdCB7XG4gIC0tZGl2aWRlci1ib3JkZXItY29sb3I6ICNlZWU7XG4gIC0ta2V5LWJvcmRlci1jb2xvcjogI2NjYztcbiAgLS1zaG9ydGN1dC1tb2RhbC1ib3JkZXItY29sb3I6ICM5YWEwYTY7XG59XG5cbi5zaG9ydGN1dC1tb2RhbCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNob3J0Y3V0LW1vZGFsLWJvcmRlci1jb2xvcik7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGJveC1zaGFkb3c6IDZweCA2cHggMzJweCByZ2JhKDAsMCwwLC41KTtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMnB4O1xuICBtYXJnaW46IGF1dG87XG4gIG1heC1oZWlnaHQ6IDgydmg7XG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMTBlbSk7XG4gIHBhZGRpbmc6IDI0cHggMTJweCAyNHB4IDMycHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogOTk7XG59XG5cbi5zaG9ydGN1dC1tb2RhbFtvcGVuXSB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5zaG9ydGN1dC1tb2RhbCAuY2xvc2UtbW9kYWwge1xuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBmbG9hdDogaW5saW5lLWVuZDtcbiAgbWFyZ2luOiAwIDAgMCAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTZweDtcbiAgcmlnaHQ6IDI0cHg7XG59XG5cbi5zaG9ydGN1dC1tb2RhbCBoMSB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5zaG9ydGN1dC1tb2RhbDpiZWZvcmUge1xuICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQocmdiYSgyNDQsIDI0NCwgMjQ0LCAwLjQzKSwgcmdiYSg3NSwgNzUsIDc1LCAwLjUxKSk7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LWZhbWlseTogUm9ib3RvO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBsZWZ0OiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5zaG9ydGN1dC10YWJsZXMge1xuICBkaXNwbGF5OiBncmlkO1xuICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICByb3ctZ2FwOiAxZW07XG4gIGNvbHVtbi1nYXA6IDJlbTtcbn1cblxuQG1lZGlhIChtaW4td2lkdGg6IDk1MHB4KSB7XG4gIC5zaG9ydGN1dC10YWJsZXMge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmclxuICB9XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiAxMzYwcHgpIHtcbiAgLnNob3J0Y3V0LXRhYmxlcyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmclxuICB9XG59XG5cbi5zaG9ydGN1dC10YWJsZSB7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIGZvbnQtZmFtaWx5OiBSb2JvdG87XG4gIGZvbnQtc2l6ZTogLjllbTtcbn1cblxuLnNob3J0Y3V0LXRhYmxlIHRoIHtcbiAgcGFkZGluZy1pbmxpbmUtZW5kOiAwLjVlbTtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgdGV4dC13cmFwOiBub3dyYXA7XG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcbn1cblxuLnNob3J0Y3V0LXRhYmxlIHRkOmZpcnN0LWNoaWxkIHtcbiAgdGV4dC13cmFwOiBhdXRvO1xuICB3aWR0aDogNDAlO1xufVxuXG4uc2hvcnRjdXQtdGFibGUgdHI6aGFzKCsgLmNhdGVnb3J5KSB7XG4gIC0tZGl2aWRlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICBtYXJnaW4tZW5kOiAxZW07XG59XG5cbi5zaG9ydGN1dC10YWJsZSB0cjpub3QoLmNhdGVnb3J5LCA6bGFzdC1jaGlsZCkge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1ib3JkZXItY29sb3IpO1xufVxuXG4uc2hvcnRjdXQtdGFibGUgdGQge1xuICBwYWRkaW5nOiAwLjJlbSAxZW0gMC4zZW0gMDtcbiAgdGV4dC13cmFwOiBub3dyYXA7XG59XG5cbi5zaG9ydGN1dC10YWJsZSBoMiB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOTk5O1xuICBmb250LXNpemU6IDFlbTtcbiAgcGFkZGluZy1ibG9jay1lbmQ6IDAuNWVtO1xufVxuXG4uc2hvcnRjdXQtdGFibGUgLmtleSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWtleS1ib3JkZXItY29sb3IpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbWFyZ2luOiAwIDRweDtcbiAgbWluLXdpZHRoOiAyZW07XG4gIHBhZGRpbmc6IC4zZW0gLjVlbTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uc2hvcnRjdXQtdGFibGUgLnNlcGFyYXRvciB7XG4gIGNvbG9yOiBncmF5O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDAgMC41ZW07XG59XG5cbi5zaG9ydGN1dC1jb250YWluZXIge1xuICBmb250LXNpemU6IDAuOTVlbTtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIHBhZGRpbmc6IDAuNWVtO1xufVxuXG4uc2hvcnRjdXQtY29tYm8ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDAuMjVlbSAwO1xuICB0ZXh0LXdyYXA6IG5vd3JhcDtcbn1cblxuLyogU3R5bGluZyBmb3IgYmxvY2tzIGluIHN0aWNreSBtb2RlIChjbGljayBhbmQgc3RpY2spICovXG4uYmxvY2tseS1zdGlja3ktbW9kZSB7XG4gIGZpbHRlcjogZHJvcC1zaGFkb3coMCAwIDEwcHggcmdiYSgwLCAyNTUsIDAsIDAuOCkpICFpbXBvcnRhbnQ7XG4gIG9wYWNpdHk6IDAuOSAhaW1wb3J0YW50O1xufVxuXG4vKiBVc2UgY2hpbGQgY29tYmluYXRvciAoPikgdG8gb25seSBzdHlsZSB0aGUgaW1tZWRpYXRlIGJsb2NrLCBub3QgZGVzY2VuZGFudHMgKi9cbi5ibG9ja2x5LXN0aWNreS1tb2RlID4gLmJsb2NrbHlQYXRoIHtcbiAgc3Ryb2tlOiAjMDBmZjAwICFpbXBvcnRhbnQ7XG4gIHN0cm9rZS13aWR0aDogMyAhaW1wb3J0YW50O1xufVxuXG4vKiBTdHlsaW5nIGZvciBtb3ZlIGdyaXAgaGFuZGxlICovXG4uYmxvY2tseS1tb3ZlLWdyaXAge1xuICBjdXJzb3I6IGdyYWI7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlO1xufVxuXG4uYmxvY2tseS1tb3ZlLWdyaXA6aG92ZXIge1xuICBvcGFjaXR5OiAwLjg7XG59XG5cbi5ibG9ja2x5LW1vdmUtZ3JpcDphY3RpdmUge1xuICBjdXJzb3I6IGdyYWJiaW5nO1xufVxuXG4uYmxvY2tseS1tb3ZlLWdyaXAtYmFja2dyb3VuZCB7XG4gIHBvaW50ZXItZXZlbnRzOiBhbGw7XG59XG5cbi5ibG9ja2x5LW1vdmUtZ3JpcC1kb3Qge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLyogRW5zdXJlIGdyaXAgaXMgdmlzaWJsZSBhYm92ZSBibG9jayBlbGVtZW50cyAqL1xuLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb24gLmJsb2NrbHktbW92ZS1ncmlwIHtcbiAgei1pbmRleDogMTAwO1xufVxuXG5gKTtcbiAgfVxuXG59XG5cbi8vIEV4cG9ydCBidWlsZCBpbmZvIGNvbXBvbmVudHMgZm9yIHVzZSBieSBwbHVnaW4gY29uc3VtZXJzXG5leHBvcnQge2NyZWF0ZUJ1aWxkSW5mb0NvbXBvbmVudCwgcmVnaXN0ZXJCdWlsZEluZm9TdHlsZXMsIHVwZGF0ZUJ1aWxkSW5mbywgc3RhcnRCdWlsZEluZm9BdXRvUmVmcmVzaH0gZnJvbSAnLi9idWlsZF9pbmZvX2NvbXBvbmVudCc7XG5leHBvcnQge0JVSUxEX0lORk99IGZyb20gJy4vYnVpbGRfaW5mbyc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/index.ts\n");

/***/ }),

/***/ "../../src/keyboard_drag_strategy.ts":
/*!*******************************************!*\
  !*** ../../src/keyboard_drag_strategy.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyboardDragStrategy: () => (/* binding */ KeyboardDragStrategy)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _drag_direction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drag_direction */ \"../../src/drag_direction.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hints */ \"../../src/hints.ts\");\n/* harmony import */ var _move_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./move_icon */ \"../../src/move_icon.ts\");\n/* harmony import */ var _connection_highlighter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./connection_highlighter */ \"../../src/connection_highlighter.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n/** X offset for positioning block preview near connections. */\nconst BLOCK_PREVIEW_OFFSET_X = 10;\n/** Y offset for positioning block preview near connections. */\nconst BLOCK_PREVIEW_OFFSET_Y = 10;\n// @ts-expect-error overrides a private function.\nclass KeyboardDragStrategy extends blockly__WEBPACK_IMPORTED_MODULE_0__.dragging.BlockDragStrategy {\n    constructor(block, moveType, startPoint, highlightingEnabled = true, onMoveComplete, onMoveFinished) {\n        super(block);\n        this.block = block;\n        this.moveType = moveType;\n        this.startPoint = startPoint;\n        /** Which direction the current constrained drag is in, if any. */\n        this.currentDragDirection = null;\n        /** Where a constrained movement should start when traversing the tree. */\n        this.searchNode = null;\n        /** List of all connections available on the workspace. */\n        this.allConnections = [];\n        /** Whether this drag is part of a click and stick operation. */\n        this.isClickAndStick = false;\n        /** The last connection candidate we refreshed highlights for. */\n        this.lastRefreshedCandidate = null;\n        /** Timestamp of last highlight refresh to throttle updates. */\n        this.lastRefreshTime = 0;\n        /** Minimum time between highlight refreshes in ms. */\n        this.REFRESH_THROTTLE = 100;\n        /** The initial connection where the block started (for comparison with current preview). */\n        this.initialConnectionNeighbour = null;\n        this.highlightingEnabled = highlightingEnabled;\n        this.onMoveComplete = onMoveComplete;\n        this.onMoveFinished = onMoveFinished;\n        // Create connection highlighter with click handler\n        const onConnectionClick = (connection) => {\n            this.handleConnectionClick(connection);\n        };\n        this.connectionHighlighter = new _connection_highlighter__WEBPACK_IMPORTED_MODULE_4__.ConnectionHighlighter(block.workspace, onConnectionClick);\n    }\n    startDrag(e) {\n        var _a;\n        super.startDrag(e);\n        for (const topBlock of this.block.workspace.getTopBlocks(true)) {\n            this.allConnections.push(...topBlock\n                .getDescendants(true)\n                .filter((block) => !block.isShadow())\n                .flatMap((block) => block.getConnections_(false))\n                .sort((a, b) => {\n                let delta = a.y - b.y;\n                if (delta === 0) {\n                    delta = a.x - b.x;\n                }\n                return delta;\n            }));\n        }\n        // Set position of the dragging block, so that it doesn't pop\n        // to the top left of the workspace.\n        // @ts-expect-error block and startLoc are private.\n        this.block.moveDuringDrag(this.startLoc);\n        // @ts-expect-error connectionCandidate is private.\n        this.connectionCandidate = this.createInitialCandidate();\n        // @ts-expect-error connectionCandidate is private.\n        const candidate = this.connectionCandidate;\n        this.initialConnectionNeighbour = (_a = candidate === null || candidate === void 0 ? void 0 : candidate.neighbour) !== null && _a !== void 0 ? _a : null;\n        this.forceShowPreview();\n        this.block.addIcon(new _move_icon__WEBPACK_IMPORTED_MODULE_3__.MoveIcon(this.block));\n        // Show connection highlights for normal keyboard moves if enabled\n        // (Sticky mode will override this via setClickAndStickMode)\n        if (this.highlightingEnabled) {\n            // @ts-expect-error getLocalConnections is private.\n            const localConnections = this.getLocalConnections(this.block);\n            this.connectionHighlighter.highlightValidConnections(this.block, this.allConnections, localConnections);\n        }\n    }\n    drag(newLoc, e) {\n        if (!e)\n            return;\n        // @ts-expect-error connectionCandidate is private.\n        const prevCandidate = this.connectionCandidate;\n        this.currentDragDirection = (0,_drag_direction__WEBPACK_IMPORTED_MODULE_1__.getDirectionFromXY)({ x: e.tiltX, y: e.tiltY });\n        super.drag(newLoc);\n        // @ts-expect-error connectionCandidate is private.\n        const newCandidate = this.connectionCandidate;\n        if (this.shouldRefreshHighlights(prevCandidate, newCandidate)) {\n            this.refreshHighlightsForPreview(newCandidate);\n        }\n        // Handle the case when an unconstrained drag found a connection candidate.\n        // @ts-expect-error connectionCandidate is private.\n        if (this.connectionCandidate) {\n            // @ts-expect-error connectionCandidate is private.\n            const neighbour = this.connectionCandidate\n                .neighbour;\n            this.searchNode = neighbour;\n            if (this.isConstrainedMovement()) {\n                this.block.moveDuringDrag(new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(neighbour.x + BLOCK_PREVIEW_OFFSET_X, neighbour.y + BLOCK_PREVIEW_OFFSET_Y));\n            }\n        }\n        else {\n            this.searchNode = null;\n            if (this.isConstrainedMovement()) {\n                // @ts-expect-error private field\n                const workspace = this.workspace;\n                (0,_hints__WEBPACK_IMPORTED_MODULE_2__.showUnconstrainedMoveHint)(workspace, true);\n            }\n        }\n    }\n    endDrag(e) {\n        super.endDrag(e);\n        this.allConnections = [];\n        this.block.removeIcon(_move_icon__WEBPACK_IMPORTED_MODULE_3__.MoveIcon.type);\n        // Clear highlights when drag ends (unless in click-and-stick mode)\n        // Sticky mode keeps highlights visible until explicitly cleared\n        if (!this.isClickAndStick) {\n            this.connectionHighlighter.clearHighlights();\n        }\n    }\n    /**\n     * Force clear all highlights regardless of click-and-stick mode.\n     */\n    forceClearHighlights() {\n        if (this.highlightingEnabled) {\n            this.connectionHighlighter.clearHighlights();\n        }\n    }\n    /**\n     * Set whether this drag strategy is being used for click and stick operations.\n     *\n     * @param enabled\n     */\n    setClickAndStickMode(enabled) {\n        this.isClickAndStick = enabled;\n        if (enabled && this.highlightingEnabled) {\n            // Show highlights in sticky mode if highlighting is enabled\n            // @ts-expect-error getLocalConnections is private.\n            const localConnections = this.getLocalConnections(this.block);\n            this.connectionHighlighter.highlightValidConnections(this.block, this.allConnections, localConnections);\n        }\n        else {\n            // When exiting sticky mode, clear highlights\n            // (They will be re-shown in normal mode if highlightingEnabled is true)\n            this.connectionHighlighter.clearHighlights();\n        }\n    }\n    /**\n     * Check if currently in click and stick mode.\n     */\n    isClickAndStickMode() {\n        return this.isClickAndStick;\n    }\n    /**\n     * Returns the next compatible connection in keyboard navigation order.\n     *\n     * @param draggingBlock The block where the drag started.\n     * @returns A valid connection candidate, or null if none was found.\n     */\n    getConstrainedConnectionCandidate(draggingBlock) {\n        // @ts-expect-error getLocalConnections is private.\n        const localConns = this.getLocalConnections(draggingBlock);\n        if (localConns.length == 0) {\n            return null;\n        }\n        let candidateConnection = this.findTraversalCandidate(draggingBlock, localConns);\n        // Fall back on a coordinate-based search if there was no good starting\n        // point for the search.\n        if (!candidateConnection && !this.searchNode) {\n            candidateConnection = this.findNearestCandidate(localConns);\n        }\n        return candidateConnection;\n    }\n    /**\n     * Get the nearest valid candidate connection, regardless of direction.\n     * TODO(github.com/google/blockly/issues/8869): Replace with an\n     * override of `getSearchRadius` when implemented in core.\n     *\n     * @param localConns The list of connections on the dragging block(s) that are\n     *     available to connect to.\n     * @returns A candidate connection and radius, or null if none was found.\n     */\n    findNearestCandidate(localConns) {\n        let radius = Infinity;\n        let candidate = null;\n        const dxy = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0);\n        for (const conn of localConns) {\n            const { connection: neighbour, radius: rad } = conn.closest(radius, dxy);\n            if (neighbour) {\n                candidate = {\n                    local: conn,\n                    neighbour: neighbour,\n                    distance: rad,\n                };\n                radius = rad;\n            }\n        }\n        return candidate;\n    }\n    /**\n     * Get the nearest valid candidate connection in traversal order.\n     *\n     * @param draggingBlock The root block being dragged.\n     * @param localConns The list of connections on the dragging block(s) that are\n     *     available to connect to.\n     * @returns A candidate connection and radius, or null if none was found.\n     */\n    findTraversalCandidate(draggingBlock, localConns) {\n        var _a, _b;\n        const connectionChecker = draggingBlock.workspace.connectionChecker;\n        let candidateConnection = null;\n        let potential = this.searchNode;\n        const dir = this.currentDragDirection;\n        while (potential && !candidateConnection) {\n            const potentialIndex = this.allConnections.indexOf(potential);\n            if (dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Up || dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Left) {\n                potential =\n                    (_a = this.allConnections[potentialIndex - 1]) !== null && _a !== void 0 ? _a : this.allConnections[this.allConnections.length - 1];\n            }\n            else if (dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Down || dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Right) {\n                potential =\n                    (_b = this.allConnections[potentialIndex + 1]) !== null && _b !== void 0 ? _b : this.allConnections[0];\n            }\n            localConns.forEach((conn) => {\n                if (potential &&\n                    connectionChecker.canConnect(conn, potential, true, Infinity)) {\n                    candidateConnection = {\n                        local: conn,\n                        neighbour: potential,\n                        distance: 0,\n                    };\n                }\n            });\n            if (potential == this.searchNode)\n                break;\n        }\n        return candidateConnection;\n    }\n    currCandidateIsBetter(currCandidate, delta, newCandidate) {\n        if (this.isConstrainedMovement()) {\n            return false; // New connection is always better during a constrained drag.\n        }\n        // @ts-expect-error currCandidateIsBetter is private.\n        return super.currCandidateIsBetter(currCandidate, delta, newCandidate);\n    }\n    getConnectionCandidate(draggingBlock, delta) {\n        if (this.isConstrainedMovement()) {\n            return this.getConstrainedConnectionCandidate(draggingBlock);\n        }\n        // @ts-expect-error getConnctionCandidate is private.\n        return super.getConnectionCandidate(draggingBlock, delta);\n    }\n    /**\n     * Get whether the most recent drag event represents a constrained\n     * keyboard drag.\n     *\n     * @returns true if the current movement is constrained, otherwise false.\n     */\n    isConstrainedMovement() {\n        return !!this.currentDragDirection;\n    }\n    /**\n     * Force the preview (replacement or insertion marker) to be shown\n     * immediately. Keyboard drags should always show a preview, even when\n     * the drag has just started; this forces it.\n     */\n    forceShowPreview() {\n        // @ts-expect-error connectionPreviewer is private\n        const previewer = this.connectionPreviewer;\n        // @ts-expect-error connectionCandidate is private\n        const candidate = this.connectionCandidate;\n        if (!candidate || !previewer)\n            return;\n        const block = this.block;\n        // This is essentially a copy of the second half of updateConnectionPreview\n        // in BlockDragStrategy. It adds a `moveDuringDrag` call at the end.\n        const { local, neighbour } = candidate;\n        const localIsOutputOrPrevious = local.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE ||\n            local.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT;\n        const target = neighbour.targetBlock();\n        const neighbourIsConnectedToRealBlock = target && !target.isInsertionMarker();\n        const orphanCanConnectAtEnd = target &&\n            // @ts-expect-error orphanCanConnectAtEnd is private\n            this.orphanCanConnectAtEnd(block, target, local.type);\n        if (localIsOutputOrPrevious &&\n            neighbourIsConnectedToRealBlock &&\n            !orphanCanConnectAtEnd) {\n            previewer.previewReplacement(local, neighbour, target);\n        }\n        else {\n            previewer.previewConnection(local, neighbour);\n        }\n        // The moving block will be positioned slightly down and to the\n        // right of the connection it found.\n        block.moveDuringDrag(new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(neighbour.x + BLOCK_PREVIEW_OFFSET_X, neighbour.y + BLOCK_PREVIEW_OFFSET_Y));\n    }\n    /**\n     * Create a candidate representing where the block was previously connected.\n     * Used to render the block position after picking up the block but before\n     * moving during a drag.\n     *\n     * @returns A connection candidate representing where the block was at the\n     *     start of the drag.\n     */\n    createInitialCandidate() {\n        var _a;\n        // @ts-expect-error startParentConn is private.\n        const neighbour = (_a = this.startPoint) !== null && _a !== void 0 ? _a : this.startParentConn;\n        if (neighbour) {\n            this.searchNode = neighbour;\n            switch (neighbour.type) {\n                case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE: {\n                    if (this.block.outputConnection) {\n                        return {\n                            neighbour: neighbour,\n                            local: this.block.outputConnection,\n                            distance: 0,\n                        };\n                    }\n                    break;\n                }\n                case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT: {\n                    if (this.block.previousConnection) {\n                        return {\n                            neighbour: neighbour,\n                            local: this.block.previousConnection,\n                            distance: 0,\n                        };\n                    }\n                    break;\n                }\n            }\n        }\n        return null;\n    }\n    shouldHealStack(e) {\n        return Boolean(this.block.previousConnection);\n    }\n    /**\n     * Checks if we should refresh connection highlights (throttled).\n     *\n     * @param prev\n     * @param curr\n     */\n    shouldRefreshHighlights(prev, curr) {\n        const hasChanged = this.hasConnectionChanged(prev, curr);\n        if (!hasChanged)\n            return false;\n        const now = Date.now();\n        if (now - this.lastRefreshTime < this.REFRESH_THROTTLE) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Checks if the connection candidate has changed.\n     *\n     * @param prev\n     * @param curr\n     */\n    hasConnectionChanged(prev, curr) {\n        if (!prev && !curr)\n            return false;\n        if (!prev || !curr)\n            return true;\n        return prev.neighbour !== curr.neighbour || prev.local !== curr.local;\n    }\n    /**\n     * Refreshes connection highlights after a preview change.\n     * Ensures highlights reflect current positions after stack rearrangement.\n     *\n     * @param currentCandidate\n     */\n    refreshHighlightsForPreview(currentCandidate) {\n        // Only refresh if highlights are enabled\n        if (!this.highlightingEnabled)\n            return;\n        this.lastRefreshedCandidate = currentCandidate;\n        this.lastRefreshTime = Date.now();\n        // Rebuild connections list to reflect current workspace state\n        const currentConnections = [];\n        const topBlocks = this.block.workspace.getTopBlocks(true);\n        for (const topBlock of topBlocks) {\n            const descendants = topBlock.getDescendants(true);\n            const nonShadowDescendants = descendants.filter((block) => !block.isShadow());\n            currentConnections.push(...nonShadowDescendants\n                .flatMap((block) => block.getConnections_(false))\n                .sort((a, b) => {\n                let delta = a.y - b.y;\n                if (delta === 0) {\n                    delta = a.x - b.x;\n                }\n                return delta;\n            }));\n        }\n        // @ts-expect-error getLocalConnections is private.\n        const localConnections = this.getLocalConnections(this.block);\n        this.connectionHighlighter.highlightValidConnections(this.block, currentConnections, localConnections);\n    }\n    /**\n     * Handles when a user clicks on a connection highlight to complete a move.\n     *\n     * @param targetConnection\n     */\n    handleConnectionClick(targetConnection) {\n        // @ts-expect-error getLocalConnections is private.\n        const localConnections = this.getLocalConnections(this.block);\n        const connectionChecker = this.block.workspace.connectionChecker;\n        let localConnection = null;\n        for (const local of localConnections) {\n            if (connectionChecker.canConnect(local, targetConnection, true, Infinity)) {\n                localConnection = local;\n                break;\n            }\n        }\n        if (localConnection) {\n            // Set the connection candidate that will be used when the drag ends\n            const candidate = {\n                local: localConnection,\n                neighbour: targetConnection,\n                distance: 0,\n            };\n            // @ts-expect-error connectionCandidate is private\n            this.connectionCandidate = candidate;\n            // Exit sticky mode first (before finishing the move) if we're in sticky mode\n            if (this.isClickAndStick) {\n                this.setClickAndStickMode(false);\n            }\n            // Finish the move, which will finalize the connection\n            if (this.onMoveComplete) {\n                this.onMoveComplete();\n            }\n            if (this.onMoveFinished) {\n                this.onMoveFinished();\n            }\n        }\n        else {\n            // No compatible connection found. This shouldn't happen since we use consistent\n            // validation when creating highlights, but if it does we must exit gracefully\n            // to avoid leaving the UI in a broken state.\n            if (this.isClickAndStick) {\n                this.setClickAndStickMode(false);\n            }\n            if (this.onMoveComplete) {\n                this.onMoveComplete();\n            }\n            if (this.onMoveFinished) {\n                this.onMoveFinished();\n            }\n        }\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        var _a;\n        (_a = this.connectionHighlighter) === null || _a === void 0 ? void 0 : _a.setFatterConnections(enabled);\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        var _a;\n        (_a = this.connectionHighlighter) === null || _a === void 0 ? void 0 : _a.setConnectionSize(size);\n    }\n    /**\n     * Gets the initial connection where the block started.\n     */\n    getInitialConnectionNeighbour() {\n        return this.initialConnectionNeighbour;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLHFCQUFxQiwwQ0FBRSxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILGlCQUFpQixDQUFDLElBQW9DOztRQUNwRCxVQUFJLENBQUMscUJBQXFCLDBDQUFFLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRDs7T0FFRztJQUNILDZCQUE2QjtRQUMzQixPQUFPLElBQUksQ0FBQywwQkFBMEIsQ0FBQztJQUN6QyxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2tleWJvYXJkX2RyYWdfc3RyYXRlZ3kudHM/NjE2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIEJsb2NrU3ZnLFxuICBDb25uZWN0aW9uVHlwZSxcbiAgUmVuZGVyZWRDb25uZWN0aW9uLFxuICBkcmFnZ2luZyxcbiAgdXRpbHMsXG59IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtEaXJlY3Rpb24sIGdldERpcmVjdGlvbkZyb21YWX0gZnJvbSAnLi9kcmFnX2RpcmVjdGlvbic7XG5pbXBvcnQge3Nob3dVbmNvbnN0cmFpbmVkTW92ZUhpbnR9IGZyb20gJy4vaGludHMnO1xuaW1wb3J0IHtNb3ZlSWNvbn0gZnJvbSAnLi9tb3ZlX2ljb24nO1xuaW1wb3J0IHtNb3ZlVHlwZX0gZnJvbSAnLi9hY3Rpb25zL21vdmVyJztcbmltcG9ydCB7Q29ubmVjdGlvbkhpZ2hsaWdodGVyfSBmcm9tICcuL2Nvbm5lY3Rpb25faGlnaGxpZ2h0ZXInO1xuXG4vKiogWCBvZmZzZXQgZm9yIHBvc2l0aW9uaW5nIGJsb2NrIHByZXZpZXcgbmVhciBjb25uZWN0aW9ucy4gKi9cbmNvbnN0IEJMT0NLX1BSRVZJRVdfT0ZGU0VUX1ggPSAxMDtcblxuLyoqIFkgb2Zmc2V0IGZvciBwb3NpdGlvbmluZyBibG9jayBwcmV2aWV3IG5lYXIgY29ubmVjdGlvbnMuICovXG5jb25zdCBCTE9DS19QUkVWSUVXX09GRlNFVF9ZID0gMTA7XG5cbi8vIENvcGllZCBpbiBmcm9tIGNvcmUgYmVjYXVzZSBpdCBpcyBub3QgZXhwb3J0ZWQuXG5pbnRlcmZhY2UgQ29ubmVjdGlvbkNhbmRpZGF0ZSB7XG4gIC8qKiBBIGNvbm5lY3Rpb24gb24gdGhlIGRyYWdnaW5nIHN0YWNrIHRoYXQgaXMgY29tcGF0aWJsZSB3aXRoIG5laWdoYm91ci4gKi9cbiAgbG9jYWw6IFJlbmRlcmVkQ29ubmVjdGlvbjtcblxuICAvKiogQSBuZWFyYnkgY29ubmVjdGlvbiB0aGF0IGlzIGNvbXBhdGlibGUgd2l0aCBsb2NhbC4gKi9cbiAgbmVpZ2hib3VyOiBSZW5kZXJlZENvbm5lY3Rpb247XG5cbiAgLyoqIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBsb2NhbCBjb25uZWN0aW9uIGFuZCB0aGUgbmVpZ2hib3VyIGNvbm5lY3Rpb24uICovXG4gIGRpc3RhbmNlOiBudW1iZXI7XG59XG5cbi8vIEB0cy1leHBlY3QtZXJyb3Igb3ZlcnJpZGVzIGEgcHJpdmF0ZSBmdW5jdGlvbi5cbmV4cG9ydCBjbGFzcyBLZXlib2FyZERyYWdTdHJhdGVneSBleHRlbmRzIGRyYWdnaW5nLkJsb2NrRHJhZ1N0cmF0ZWd5IHtcbiAgLyoqIFdoaWNoIGRpcmVjdGlvbiB0aGUgY3VycmVudCBjb25zdHJhaW5lZCBkcmFnIGlzIGluLCBpZiBhbnkuICovXG4gIHByaXZhdGUgY3VycmVudERyYWdEaXJlY3Rpb246IERpcmVjdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBXaGVyZSBhIGNvbnN0cmFpbmVkIG1vdmVtZW50IHNob3VsZCBzdGFydCB3aGVuIHRyYXZlcnNpbmcgdGhlIHRyZWUuICovXG4gIHByaXZhdGUgc2VhcmNoTm9kZTogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIExpc3Qgb2YgYWxsIGNvbm5lY3Rpb25zIGF2YWlsYWJsZSBvbiB0aGUgd29ya3NwYWNlLiAqL1xuICBwcml2YXRlIGFsbENvbm5lY3Rpb25zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSA9IFtdO1xuXG4gIC8qKiBDb25uZWN0aW9uIGhpZ2hsaWdodGVyIGZvciB2aXN1YWwgZmVlZGJhY2suICovXG4gIGNvbm5lY3Rpb25IaWdobGlnaHRlcjogQ29ubmVjdGlvbkhpZ2hsaWdodGVyO1xuXG4gIC8qKiBXaGV0aGVyIGNvbm5lY3Rpb24gaGlnaGxpZ2h0aW5nIGlzIGVuYWJsZWQuICovXG4gIHByaXZhdGUgaGlnaGxpZ2h0aW5nRW5hYmxlZDogYm9vbGVhbjtcblxuICAvKiogQ2FsbGJhY2sgdG8gY29tcGxldGUgdGhlIG1vdmUgZnJvbSBvdXRzaWRlIHRoaXMgc3RyYXRlZ3kuICovXG4gIHByaXZhdGUgb25Nb3ZlQ29tcGxldGU/OiAoKSA9PiB2b2lkO1xuXG4gIC8qKiBDYWxsYmFjayB0byBleGl0IHN0aWNreSBtb2RlIGFmdGVyIG1vdmUgaXMgZmluaXNoZWQuICovXG4gIHByaXZhdGUgb25Nb3ZlRmluaXNoZWQ/OiAoKSA9PiB2b2lkO1xuXG4gIC8qKiBXaGV0aGVyIHRoaXMgZHJhZyBpcyBwYXJ0IG9mIGEgY2xpY2sgYW5kIHN0aWNrIG9wZXJhdGlvbi4gKi9cbiAgcHJpdmF0ZSBpc0NsaWNrQW5kU3RpY2sgPSBmYWxzZTtcblxuICAvKiogVGhlIGxhc3QgY29ubmVjdGlvbiBjYW5kaWRhdGUgd2UgcmVmcmVzaGVkIGhpZ2hsaWdodHMgZm9yLiAqL1xuICBwcml2YXRlIGxhc3RSZWZyZXNoZWRDYW5kaWRhdGU6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsID0gbnVsbDtcblxuICAvKiogVGltZXN0YW1wIG9mIGxhc3QgaGlnaGxpZ2h0IHJlZnJlc2ggdG8gdGhyb3R0bGUgdXBkYXRlcy4gKi9cbiAgcHJpdmF0ZSBsYXN0UmVmcmVzaFRpbWUgPSAwO1xuXG4gIC8qKiBNaW5pbXVtIHRpbWUgYmV0d2VlbiBoaWdobGlnaHQgcmVmcmVzaGVzIGluIG1zLiAqL1xuICBwcml2YXRlIHJlYWRvbmx5IFJFRlJFU0hfVEhST1RUTEUgPSAxMDA7XG5cbiAgLyoqIFRoZSBpbml0aWFsIGNvbm5lY3Rpb24gd2hlcmUgdGhlIGJsb2NrIHN0YXJ0ZWQgKGZvciBjb21wYXJpc29uIHdpdGggY3VycmVudCBwcmV2aWV3KS4gKi9cbiAgcHJpdmF0ZSBpbml0aWFsQ29ubmVjdGlvbk5laWdoYm91cjogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBibG9jazogQmxvY2tTdmcsXG4gICAgcHVibGljIG1vdmVUeXBlOiBNb3ZlVHlwZSxcbiAgICBwcml2YXRlIHN0YXJ0UG9pbnQ6IFJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICAgaGlnaGxpZ2h0aW5nRW5hYmxlZCA9IHRydWUsXG4gICAgb25Nb3ZlQ29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICAgIG9uTW92ZUZpbmlzaGVkPzogKCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgc3VwZXIoYmxvY2spO1xuICAgIHRoaXMuaGlnaGxpZ2h0aW5nRW5hYmxlZCA9IGhpZ2hsaWdodGluZ0VuYWJsZWQ7XG4gICAgdGhpcy5vbk1vdmVDb21wbGV0ZSA9IG9uTW92ZUNvbXBsZXRlO1xuICAgIHRoaXMub25Nb3ZlRmluaXNoZWQgPSBvbk1vdmVGaW5pc2hlZDtcblxuICAgIC8vIENyZWF0ZSBjb25uZWN0aW9uIGhpZ2hsaWdodGVyIHdpdGggY2xpY2sgaGFuZGxlclxuICAgIGNvbnN0IG9uQ29ubmVjdGlvbkNsaWNrID0gKGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVDb25uZWN0aW9uQ2xpY2soY29ubmVjdGlvbik7XG4gICAgfTtcbiAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlciA9IG5ldyBDb25uZWN0aW9uSGlnaGxpZ2h0ZXIoXG4gICAgICBibG9jay53b3Jrc3BhY2UsXG4gICAgICBvbkNvbm5lY3Rpb25DbGljayxcbiAgICApO1xuICB9XG5cbiAgb3ZlcnJpZGUgc3RhcnREcmFnKGU/OiBQb2ludGVyRXZlbnQpIHtcbiAgICBzdXBlci5zdGFydERyYWcoZSk7XG5cbiAgICBmb3IgKGNvbnN0IHRvcEJsb2NrIG9mIHRoaXMuYmxvY2sud29ya3NwYWNlLmdldFRvcEJsb2Nrcyh0cnVlKSkge1xuICAgICAgdGhpcy5hbGxDb25uZWN0aW9ucy5wdXNoKFxuICAgICAgICAuLi50b3BCbG9ja1xuICAgICAgICAgIC5nZXREZXNjZW5kYW50cyh0cnVlKVxuICAgICAgICAgIC5maWx0ZXIoKGJsb2NrOiBCbG9ja1N2ZykgPT4gIWJsb2NrLmlzU2hhZG93KCkpXG4gICAgICAgICAgLmZsYXRNYXAoKGJsb2NrOiBCbG9ja1N2ZykgPT4gYmxvY2suZ2V0Q29ubmVjdGlvbnNfKGZhbHNlKSlcbiAgICAgICAgICAuc29ydCgoYTogUmVuZGVyZWRDb25uZWN0aW9uLCBiOiBSZW5kZXJlZENvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGEueSAtIGIueTtcbiAgICAgICAgICAgIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgICAgICAgICBkZWx0YSA9IGEueCAtIGIueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWx0YTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHBvc2l0aW9uIG9mIHRoZSBkcmFnZ2luZyBibG9jaywgc28gdGhhdCBpdCBkb2Vzbid0IHBvcFxuICAgIC8vIHRvIHRoZSB0b3AgbGVmdCBvZiB0aGUgd29ya3NwYWNlLlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYmxvY2sgYW5kIHN0YXJ0TG9jIGFyZSBwcml2YXRlLlxuICAgIHRoaXMuYmxvY2subW92ZUR1cmluZ0RyYWcodGhpcy5zdGFydExvYyk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjb25uZWN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGUuXG4gICAgdGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlID0gdGhpcy5jcmVhdGVJbml0aWFsQ2FuZGlkYXRlKCk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjb25uZWN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGUuXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlO1xuICAgIHRoaXMuaW5pdGlhbENvbm5lY3Rpb25OZWlnaGJvdXIgPSBjYW5kaWRhdGU/Lm5laWdoYm91ciA/PyBudWxsO1xuICAgIHRoaXMuZm9yY2VTaG93UHJldmlldygpO1xuICAgIHRoaXMuYmxvY2suYWRkSWNvbihuZXcgTW92ZUljb24odGhpcy5ibG9jaykpO1xuXG4gICAgLy8gU2hvdyBjb25uZWN0aW9uIGhpZ2hsaWdodHMgZm9yIG5vcm1hbCBrZXlib2FyZCBtb3ZlcyBpZiBlbmFibGVkXG4gICAgLy8gKFN0aWNreSBtb2RlIHdpbGwgb3ZlcnJpZGUgdGhpcyB2aWEgc2V0Q2xpY2tBbmRTdGlja01vZGUpXG4gICAgaWYgKHRoaXMuaGlnaGxpZ2h0aW5nRW5hYmxlZCkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRMb2NhbENvbm5lY3Rpb25zIGlzIHByaXZhdGUuXG4gICAgICBjb25zdCBsb2NhbENvbm5lY3Rpb25zID0gdGhpcy5nZXRMb2NhbENvbm5lY3Rpb25zKHRoaXMuYmxvY2spO1xuXG4gICAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlci5oaWdobGlnaHRWYWxpZENvbm5lY3Rpb25zKFxuICAgICAgICB0aGlzLmJsb2NrLFxuICAgICAgICB0aGlzLmFsbENvbm5lY3Rpb25zLFxuICAgICAgICBsb2NhbENvbm5lY3Rpb25zLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvdmVycmlkZSBkcmFnKG5ld0xvYzogdXRpbHMuQ29vcmRpbmF0ZSwgZT86IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGlmICghZSkgcmV0dXJuO1xuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjb25uZWN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGUuXG4gICAgY29uc3QgcHJldkNhbmRpZGF0ZSA9IHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZTtcblxuICAgIHRoaXMuY3VycmVudERyYWdEaXJlY3Rpb24gPSBnZXREaXJlY3Rpb25Gcm9tWFkoe3g6IGUudGlsdFgsIHk6IGUudGlsdFl9KTtcbiAgICBzdXBlci5kcmFnKG5ld0xvYyk7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNvbm5lY3Rpb25DYW5kaWRhdGUgaXMgcHJpdmF0ZS5cbiAgICBjb25zdCBuZXdDYW5kaWRhdGUgPSB0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU7XG5cbiAgICBpZiAodGhpcy5zaG91bGRSZWZyZXNoSGlnaGxpZ2h0cyhwcmV2Q2FuZGlkYXRlLCBuZXdDYW5kaWRhdGUpKSB7XG4gICAgICB0aGlzLnJlZnJlc2hIaWdobGlnaHRzRm9yUHJldmlldyhuZXdDYW5kaWRhdGUpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVuIGFuIHVuY29uc3RyYWluZWQgZHJhZyBmb3VuZCBhIGNvbm5lY3Rpb24gY2FuZGlkYXRlLlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY29ubmVjdGlvbkNhbmRpZGF0ZSBpcyBwcml2YXRlLlxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGUpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY29ubmVjdGlvbkNhbmRpZGF0ZSBpcyBwcml2YXRlLlxuICAgICAgY29uc3QgbmVpZ2hib3VyID0gKHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZSBhcyBDb25uZWN0aW9uQ2FuZGlkYXRlKVxuICAgICAgICAubmVpZ2hib3VyO1xuICAgICAgdGhpcy5zZWFyY2hOb2RlID0gbmVpZ2hib3VyO1xuICAgICAgaWYgKHRoaXMuaXNDb25zdHJhaW5lZE1vdmVtZW50KCkpIHtcbiAgICAgICAgdGhpcy5ibG9jay5tb3ZlRHVyaW5nRHJhZyhcbiAgICAgICAgICBuZXcgdXRpbHMuQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIG5laWdoYm91ci54ICsgQkxPQ0tfUFJFVklFV19PRkZTRVRfWCxcbiAgICAgICAgICAgIG5laWdoYm91ci55ICsgQkxPQ0tfUFJFVklFV19PRkZTRVRfWSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlYXJjaE5vZGUgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5pc0NvbnN0cmFpbmVkTW92ZW1lbnQoKSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgZmllbGRcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy53b3Jrc3BhY2U7XG4gICAgICAgIHNob3dVbmNvbnN0cmFpbmVkTW92ZUhpbnQod29ya3NwYWNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvdmVycmlkZSBlbmREcmFnKGU/OiBQb2ludGVyRXZlbnQpIHtcbiAgICBzdXBlci5lbmREcmFnKGUpO1xuICAgIHRoaXMuYWxsQ29ubmVjdGlvbnMgPSBbXTtcbiAgICB0aGlzLmJsb2NrLnJlbW92ZUljb24oTW92ZUljb24udHlwZSk7XG5cbiAgICAvLyBDbGVhciBoaWdobGlnaHRzIHdoZW4gZHJhZyBlbmRzICh1bmxlc3MgaW4gY2xpY2stYW5kLXN0aWNrIG1vZGUpXG4gICAgLy8gU3RpY2t5IG1vZGUga2VlcHMgaGlnaGxpZ2h0cyB2aXNpYmxlIHVudGlsIGV4cGxpY2l0bHkgY2xlYXJlZFxuICAgIGlmICghdGhpcy5pc0NsaWNrQW5kU3RpY2spIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyLmNsZWFySGlnaGxpZ2h0cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZSBjbGVhciBhbGwgaGlnaGxpZ2h0cyByZWdhcmRsZXNzIG9mIGNsaWNrLWFuZC1zdGljayBtb2RlLlxuICAgKi9cbiAgZm9yY2VDbGVhckhpZ2hsaWdodHMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGlnaGxpZ2h0aW5nRW5hYmxlZCkge1xuICAgICAgdGhpcy5jb25uZWN0aW9uSGlnaGxpZ2h0ZXIuY2xlYXJIaWdobGlnaHRzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoaXMgZHJhZyBzdHJhdGVneSBpcyBiZWluZyB1c2VkIGZvciBjbGljayBhbmQgc3RpY2sgb3BlcmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWRcbiAgICovXG4gIHNldENsaWNrQW5kU3RpY2tNb2RlKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmlzQ2xpY2tBbmRTdGljayA9IGVuYWJsZWQ7XG5cbiAgICBpZiAoZW5hYmxlZCAmJiB0aGlzLmhpZ2hsaWdodGluZ0VuYWJsZWQpIHtcbiAgICAgIC8vIFNob3cgaGlnaGxpZ2h0cyBpbiBzdGlja3kgbW9kZSBpZiBoaWdobGlnaHRpbmcgaXMgZW5hYmxlZFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRMb2NhbENvbm5lY3Rpb25zIGlzIHByaXZhdGUuXG4gICAgICBjb25zdCBsb2NhbENvbm5lY3Rpb25zID0gdGhpcy5nZXRMb2NhbENvbm5lY3Rpb25zKHRoaXMuYmxvY2spO1xuXG4gICAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlci5oaWdobGlnaHRWYWxpZENvbm5lY3Rpb25zKFxuICAgICAgICB0aGlzLmJsb2NrLFxuICAgICAgICB0aGlzLmFsbENvbm5lY3Rpb25zLFxuICAgICAgICBsb2NhbENvbm5lY3Rpb25zLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2hlbiBleGl0aW5nIHN0aWNreSBtb2RlLCBjbGVhciBoaWdobGlnaHRzXG4gICAgICAvLyAoVGhleSB3aWxsIGJlIHJlLXNob3duIGluIG5vcm1hbCBtb2RlIGlmIGhpZ2hsaWdodGluZ0VuYWJsZWQgaXMgdHJ1ZSlcbiAgICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyLmNsZWFySGlnaGxpZ2h0cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjdXJyZW50bHkgaW4gY2xpY2sgYW5kIHN0aWNrIG1vZGUuXG4gICAqL1xuICBpc0NsaWNrQW5kU3RpY2tNb2RlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzQ2xpY2tBbmRTdGljaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBuZXh0IGNvbXBhdGlibGUgY29ubmVjdGlvbiBpbiBrZXlib2FyZCBuYXZpZ2F0aW9uIG9yZGVyLlxuICAgKlxuICAgKiBAcGFyYW0gZHJhZ2dpbmdCbG9jayBUaGUgYmxvY2sgd2hlcmUgdGhlIGRyYWcgc3RhcnRlZC5cbiAgICogQHJldHVybnMgQSB2YWxpZCBjb25uZWN0aW9uIGNhbmRpZGF0ZSwgb3IgbnVsbCBpZiBub25lIHdhcyBmb3VuZC5cbiAgICovXG4gIHByaXZhdGUgZ2V0Q29uc3RyYWluZWRDb25uZWN0aW9uQ2FuZGlkYXRlKFxuICAgIGRyYWdnaW5nQmxvY2s6IEJsb2NrU3ZnLFxuICApOiBDb25uZWN0aW9uQ2FuZGlkYXRlIHwgbnVsbCB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRMb2NhbENvbm5lY3Rpb25zIGlzIHByaXZhdGUuXG4gICAgY29uc3QgbG9jYWxDb25ucyA9IHRoaXMuZ2V0TG9jYWxDb25uZWN0aW9ucyhkcmFnZ2luZ0Jsb2NrKTtcbiAgICBpZiAobG9jYWxDb25ucy5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IGNhbmRpZGF0ZUNvbm5lY3Rpb24gPSB0aGlzLmZpbmRUcmF2ZXJzYWxDYW5kaWRhdGUoXG4gICAgICBkcmFnZ2luZ0Jsb2NrLFxuICAgICAgbG9jYWxDb25ucyxcbiAgICApO1xuICAgIC8vIEZhbGwgYmFjayBvbiBhIGNvb3JkaW5hdGUtYmFzZWQgc2VhcmNoIGlmIHRoZXJlIHdhcyBubyBnb29kIHN0YXJ0aW5nXG4gICAgLy8gcG9pbnQgZm9yIHRoZSBzZWFyY2guXG4gICAgaWYgKCFjYW5kaWRhdGVDb25uZWN0aW9uICYmICF0aGlzLnNlYXJjaE5vZGUpIHtcbiAgICAgIGNhbmRpZGF0ZUNvbm5lY3Rpb24gPSB0aGlzLmZpbmROZWFyZXN0Q2FuZGlkYXRlKGxvY2FsQ29ubnMpO1xuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlQ29ubmVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5lYXJlc3QgdmFsaWQgY2FuZGlkYXRlIGNvbm5lY3Rpb24sIHJlZ2FyZGxlc3Mgb2YgZGlyZWN0aW9uLlxuICAgKiBUT0RPKGdpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvaXNzdWVzLzg4NjkpOiBSZXBsYWNlIHdpdGggYW5cbiAgICogb3ZlcnJpZGUgb2YgYGdldFNlYXJjaFJhZGl1c2Agd2hlbiBpbXBsZW1lbnRlZCBpbiBjb3JlLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYWxDb25ucyBUaGUgbGlzdCBvZiBjb25uZWN0aW9ucyBvbiB0aGUgZHJhZ2dpbmcgYmxvY2socykgdGhhdCBhcmVcbiAgICogICAgIGF2YWlsYWJsZSB0byBjb25uZWN0IHRvLlxuICAgKiBAcmV0dXJucyBBIGNhbmRpZGF0ZSBjb25uZWN0aW9uIGFuZCByYWRpdXMsIG9yIG51bGwgaWYgbm9uZSB3YXMgZm91bmQuXG4gICAqL1xuICBmaW5kTmVhcmVzdENhbmRpZGF0ZShcbiAgICBsb2NhbENvbm5zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSxcbiAgKTogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwge1xuICAgIGxldCByYWRpdXMgPSBJbmZpbml0eTtcbiAgICBsZXQgY2FuZGlkYXRlID0gbnVsbDtcbiAgICBjb25zdCBkeHkgPSBuZXcgdXRpbHMuQ29vcmRpbmF0ZSgwLCAwKTtcblxuICAgIGZvciAoY29uc3QgY29ubiBvZiBsb2NhbENvbm5zKSB7XG4gICAgICBjb25zdCB7Y29ubmVjdGlvbjogbmVpZ2hib3VyLCByYWRpdXM6IHJhZH0gPSBjb25uLmNsb3Nlc3QocmFkaXVzLCBkeHkpO1xuICAgICAgaWYgKG5laWdoYm91cikge1xuICAgICAgICBjYW5kaWRhdGUgPSB7XG4gICAgICAgICAgbG9jYWw6IGNvbm4sXG4gICAgICAgICAgbmVpZ2hib3VyOiBuZWlnaGJvdXIsXG4gICAgICAgICAgZGlzdGFuY2U6IHJhZCxcbiAgICAgICAgfTtcbiAgICAgICAgcmFkaXVzID0gcmFkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmVhcmVzdCB2YWxpZCBjYW5kaWRhdGUgY29ubmVjdGlvbiBpbiB0cmF2ZXJzYWwgb3JkZXIuXG4gICAqXG4gICAqIEBwYXJhbSBkcmFnZ2luZ0Jsb2NrIFRoZSByb290IGJsb2NrIGJlaW5nIGRyYWdnZWQuXG4gICAqIEBwYXJhbSBsb2NhbENvbm5zIFRoZSBsaXN0IG9mIGNvbm5lY3Rpb25zIG9uIHRoZSBkcmFnZ2luZyBibG9jayhzKSB0aGF0IGFyZVxuICAgKiAgICAgYXZhaWxhYmxlIHRvIGNvbm5lY3QgdG8uXG4gICAqIEByZXR1cm5zIEEgY2FuZGlkYXRlIGNvbm5lY3Rpb24gYW5kIHJhZGl1cywgb3IgbnVsbCBpZiBub25lIHdhcyBmb3VuZC5cbiAgICovXG4gIGZpbmRUcmF2ZXJzYWxDYW5kaWRhdGUoXG4gICAgZHJhZ2dpbmdCbG9jazogQmxvY2tTdmcsXG4gICAgbG9jYWxDb25uczogUmVuZGVyZWRDb25uZWN0aW9uW10sXG4gICk6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsIHtcbiAgICBjb25zdCBjb25uZWN0aW9uQ2hlY2tlciA9IGRyYWdnaW5nQmxvY2sud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyO1xuICAgIGxldCBjYW5kaWRhdGVDb25uZWN0aW9uOiBDb25uZWN0aW9uQ2FuZGlkYXRlIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHBvdGVudGlhbDogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCA9IHRoaXMuc2VhcmNoTm9kZTtcblxuICAgIGNvbnN0IGRpciA9IHRoaXMuY3VycmVudERyYWdEaXJlY3Rpb247XG4gICAgd2hpbGUgKHBvdGVudGlhbCAmJiAhY2FuZGlkYXRlQ29ubmVjdGlvbikge1xuICAgICAgY29uc3QgcG90ZW50aWFsSW5kZXggPSB0aGlzLmFsbENvbm5lY3Rpb25zLmluZGV4T2YocG90ZW50aWFsKTtcbiAgICAgIGlmIChkaXIgPT09IERpcmVjdGlvbi5VcCB8fCBkaXIgPT09IERpcmVjdGlvbi5MZWZ0KSB7XG4gICAgICAgIHBvdGVudGlhbCA9XG4gICAgICAgICAgdGhpcy5hbGxDb25uZWN0aW9uc1twb3RlbnRpYWxJbmRleCAtIDFdID8/XG4gICAgICAgICAgdGhpcy5hbGxDb25uZWN0aW9uc1t0aGlzLmFsbENvbm5lY3Rpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgfSBlbHNlIGlmIChkaXIgPT09IERpcmVjdGlvbi5Eb3duIHx8IGRpciA9PT0gRGlyZWN0aW9uLlJpZ2h0KSB7XG4gICAgICAgIHBvdGVudGlhbCA9XG4gICAgICAgICAgdGhpcy5hbGxDb25uZWN0aW9uc1twb3RlbnRpYWxJbmRleCArIDFdID8/IHRoaXMuYWxsQ29ubmVjdGlvbnNbMF07XG4gICAgICB9XG5cbiAgICAgIGxvY2FsQ29ubnMuZm9yRWFjaCgoY29ubjogUmVuZGVyZWRDb25uZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBwb3RlbnRpYWwgJiZcbiAgICAgICAgICBjb25uZWN0aW9uQ2hlY2tlci5jYW5Db25uZWN0KGNvbm4sIHBvdGVudGlhbCwgdHJ1ZSwgSW5maW5pdHkpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhbmRpZGF0ZUNvbm5lY3Rpb24gPSB7XG4gICAgICAgICAgICBsb2NhbDogY29ubixcbiAgICAgICAgICAgIG5laWdoYm91cjogcG90ZW50aWFsLFxuICAgICAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocG90ZW50aWFsID09IHRoaXMuc2VhcmNoTm9kZSkgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGVDb25uZWN0aW9uO1xuICB9XG5cbiAgb3ZlcnJpZGUgY3VyckNhbmRpZGF0ZUlzQmV0dGVyKFxuICAgIGN1cnJDYW5kaWRhdGU6IENvbm5lY3Rpb25DYW5kaWRhdGUsXG4gICAgZGVsdGE6IHV0aWxzLkNvb3JkaW5hdGUsXG4gICAgbmV3Q2FuZGlkYXRlOiBDb25uZWN0aW9uQ2FuZGlkYXRlLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc0NvbnN0cmFpbmVkTW92ZW1lbnQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBOZXcgY29ubmVjdGlvbiBpcyBhbHdheXMgYmV0dGVyIGR1cmluZyBhIGNvbnN0cmFpbmVkIGRyYWcuXG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY3VyckNhbmRpZGF0ZUlzQmV0dGVyIGlzIHByaXZhdGUuXG4gICAgcmV0dXJuIHN1cGVyLmN1cnJDYW5kaWRhdGVJc0JldHRlcihjdXJyQ2FuZGlkYXRlLCBkZWx0YSwgbmV3Q2FuZGlkYXRlKTtcbiAgfVxuXG4gIG92ZXJyaWRlIGdldENvbm5lY3Rpb25DYW5kaWRhdGUoXG4gICAgZHJhZ2dpbmdCbG9jazogQmxvY2tTdmcsXG4gICAgZGVsdGE6IHV0aWxzLkNvb3JkaW5hdGUsXG4gICk6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsIHtcbiAgICBpZiAodGhpcy5pc0NvbnN0cmFpbmVkTW92ZW1lbnQoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29uc3RyYWluZWRDb25uZWN0aW9uQ2FuZGlkYXRlKGRyYWdnaW5nQmxvY2spO1xuICAgIH1cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldENvbm5jdGlvbkNhbmRpZGF0ZSBpcyBwcml2YXRlLlxuICAgIHJldHVybiBzdXBlci5nZXRDb25uZWN0aW9uQ2FuZGlkYXRlKGRyYWdnaW5nQmxvY2ssIGRlbHRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB0aGUgbW9zdCByZWNlbnQgZHJhZyBldmVudCByZXByZXNlbnRzIGEgY29uc3RyYWluZWRcbiAgICoga2V5Ym9hcmQgZHJhZy5cbiAgICpcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBtb3ZlbWVudCBpcyBjb25zdHJhaW5lZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgcHJpdmF0ZSBpc0NvbnN0cmFpbmVkTW92ZW1lbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5jdXJyZW50RHJhZ0RpcmVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZSB0aGUgcHJldmlldyAocmVwbGFjZW1lbnQgb3IgaW5zZXJ0aW9uIG1hcmtlcikgdG8gYmUgc2hvd25cbiAgICogaW1tZWRpYXRlbHkuIEtleWJvYXJkIGRyYWdzIHNob3VsZCBhbHdheXMgc2hvdyBhIHByZXZpZXcsIGV2ZW4gd2hlblxuICAgKiB0aGUgZHJhZyBoYXMganVzdCBzdGFydGVkOyB0aGlzIGZvcmNlcyBpdC5cbiAgICovXG4gIHByaXZhdGUgZm9yY2VTaG93UHJldmlldygpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNvbm5lY3Rpb25QcmV2aWV3ZXIgaXMgcHJpdmF0ZVxuICAgIGNvbnN0IHByZXZpZXdlciA9IHRoaXMuY29ubmVjdGlvblByZXZpZXdlcjtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNvbm5lY3Rpb25DYW5kaWRhdGUgaXMgcHJpdmF0ZVxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZSBhcyBDb25uZWN0aW9uQ2FuZGlkYXRlO1xuICAgIGlmICghY2FuZGlkYXRlIHx8ICFwcmV2aWV3ZXIpIHJldHVybjtcbiAgICBjb25zdCBibG9jayA9IHRoaXMuYmxvY2s7XG5cbiAgICAvLyBUaGlzIGlzIGVzc2VudGlhbGx5IGEgY29weSBvZiB0aGUgc2Vjb25kIGhhbGYgb2YgdXBkYXRlQ29ubmVjdGlvblByZXZpZXdcbiAgICAvLyBpbiBCbG9ja0RyYWdTdHJhdGVneS4gSXQgYWRkcyBhIGBtb3ZlRHVyaW5nRHJhZ2AgY2FsbCBhdCB0aGUgZW5kLlxuICAgIGNvbnN0IHtsb2NhbCwgbmVpZ2hib3VyfSA9IGNhbmRpZGF0ZTtcbiAgICBjb25zdCBsb2NhbElzT3V0cHV0T3JQcmV2aW91cyA9XG4gICAgICBsb2NhbC50eXBlID09PSBDb25uZWN0aW9uVHlwZS5PVVRQVVRfVkFMVUUgfHxcbiAgICAgIGxvY2FsLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLlBSRVZJT1VTX1NUQVRFTUVOVDtcblxuICAgIGNvbnN0IHRhcmdldCA9IG5laWdoYm91ci50YXJnZXRCbG9jaygpO1xuICAgIGNvbnN0IG5laWdoYm91cklzQ29ubmVjdGVkVG9SZWFsQmxvY2sgPVxuICAgICAgdGFyZ2V0ICYmICF0YXJnZXQuaXNJbnNlcnRpb25NYXJrZXIoKTtcblxuICAgIGNvbnN0IG9ycGhhbkNhbkNvbm5lY3RBdEVuZCA9XG4gICAgICB0YXJnZXQgJiZcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igb3JwaGFuQ2FuQ29ubmVjdEF0RW5kIGlzIHByaXZhdGVcbiAgICAgIHRoaXMub3JwaGFuQ2FuQ29ubmVjdEF0RW5kKGJsb2NrLCB0YXJnZXQsIGxvY2FsLnR5cGUpO1xuICAgIGlmIChcbiAgICAgIGxvY2FsSXNPdXRwdXRPclByZXZpb3VzICYmXG4gICAgICBuZWlnaGJvdXJJc0Nvbm5lY3RlZFRvUmVhbEJsb2NrICYmXG4gICAgICAhb3JwaGFuQ2FuQ29ubmVjdEF0RW5kXG4gICAgKSB7XG4gICAgICBwcmV2aWV3ZXIucHJldmlld1JlcGxhY2VtZW50KGxvY2FsLCBuZWlnaGJvdXIsIHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpZXdlci5wcmV2aWV3Q29ubmVjdGlvbihsb2NhbCwgbmVpZ2hib3VyKTtcbiAgICB9XG4gICAgLy8gVGhlIG1vdmluZyBibG9jayB3aWxsIGJlIHBvc2l0aW9uZWQgc2xpZ2h0bHkgZG93biBhbmQgdG8gdGhlXG4gICAgLy8gcmlnaHQgb2YgdGhlIGNvbm5lY3Rpb24gaXQgZm91bmQuXG4gICAgYmxvY2subW92ZUR1cmluZ0RyYWcoXG4gICAgICBuZXcgdXRpbHMuQ29vcmRpbmF0ZShcbiAgICAgICAgbmVpZ2hib3VyLnggKyBCTE9DS19QUkVWSUVXX09GRlNFVF9YLFxuICAgICAgICBuZWlnaGJvdXIueSArIEJMT0NLX1BSRVZJRVdfT0ZGU0VUX1ksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgY2FuZGlkYXRlIHJlcHJlc2VudGluZyB3aGVyZSB0aGUgYmxvY2sgd2FzIHByZXZpb3VzbHkgY29ubmVjdGVkLlxuICAgKiBVc2VkIHRvIHJlbmRlciB0aGUgYmxvY2sgcG9zaXRpb24gYWZ0ZXIgcGlja2luZyB1cCB0aGUgYmxvY2sgYnV0IGJlZm9yZVxuICAgKiBtb3ZpbmcgZHVyaW5nIGEgZHJhZy5cbiAgICpcbiAgICogQHJldHVybnMgQSBjb25uZWN0aW9uIGNhbmRpZGF0ZSByZXByZXNlbnRpbmcgd2hlcmUgdGhlIGJsb2NrIHdhcyBhdCB0aGVcbiAgICogICAgIHN0YXJ0IG9mIHRoZSBkcmFnLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVJbml0aWFsQ2FuZGlkYXRlKCk6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHN0YXJ0UGFyZW50Q29ubiBpcyBwcml2YXRlLlxuICAgIGNvbnN0IG5laWdoYm91ciA9IHRoaXMuc3RhcnRQb2ludCA/PyB0aGlzLnN0YXJ0UGFyZW50Q29ubjtcbiAgICBpZiAobmVpZ2hib3VyKSB7XG4gICAgICB0aGlzLnNlYXJjaE5vZGUgPSBuZWlnaGJvdXI7XG4gICAgICBzd2l0Y2ggKG5laWdoYm91ci50eXBlKSB7XG4gICAgICAgIGNhc2UgQ29ubmVjdGlvblR5cGUuSU5QVVRfVkFMVUU6IHtcbiAgICAgICAgICBpZiAodGhpcy5ibG9jay5vdXRwdXRDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBuZWlnaGJvdXI6IG5laWdoYm91cixcbiAgICAgICAgICAgICAgbG9jYWw6IHRoaXMuYmxvY2sub3V0cHV0Q29ubmVjdGlvbixcbiAgICAgICAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIENvbm5lY3Rpb25UeXBlLk5FWFRfU1RBVEVNRU5UOiB7XG4gICAgICAgICAgaWYgKHRoaXMuYmxvY2sucHJldmlvdXNDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBuZWlnaGJvdXI6IG5laWdoYm91cixcbiAgICAgICAgICAgICAgbG9jYWw6IHRoaXMuYmxvY2sucHJldmlvdXNDb25uZWN0aW9uLFxuICAgICAgICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgb3ZlcnJpZGUgc2hvdWxkSGVhbFN0YWNrKGU6IFBvaW50ZXJFdmVudCB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuYmxvY2sucHJldmlvdXNDb25uZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgd2Ugc2hvdWxkIHJlZnJlc2ggY29ubmVjdGlvbiBoaWdobGlnaHRzICh0aHJvdHRsZWQpLlxuICAgKlxuICAgKiBAcGFyYW0gcHJldlxuICAgKiBAcGFyYW0gY3VyclxuICAgKi9cbiAgcHJpdmF0ZSBzaG91bGRSZWZyZXNoSGlnaGxpZ2h0cyhcbiAgICBwcmV2OiBDb25uZWN0aW9uQ2FuZGlkYXRlIHwgbnVsbCxcbiAgICBjdXJyOiBDb25uZWN0aW9uQ2FuZGlkYXRlIHwgbnVsbCxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGFzQ2hhbmdlZCA9IHRoaXMuaGFzQ29ubmVjdGlvbkNoYW5nZWQocHJldiwgY3Vycik7XG4gICAgaWYgKCFoYXNDaGFuZ2VkKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChub3cgLSB0aGlzLmxhc3RSZWZyZXNoVGltZSA8IHRoaXMuUkVGUkVTSF9USFJPVFRMRSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY29ubmVjdGlvbiBjYW5kaWRhdGUgaGFzIGNoYW5nZWQuXG4gICAqXG4gICAqIEBwYXJhbSBwcmV2XG4gICAqIEBwYXJhbSBjdXJyXG4gICAqL1xuICBwcml2YXRlIGhhc0Nvbm5lY3Rpb25DaGFuZ2VkKFxuICAgIHByZXY6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsLFxuICAgIGN1cnI6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIXByZXYgJiYgIWN1cnIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXByZXYgfHwgIWN1cnIpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBwcmV2Lm5laWdoYm91ciAhPT0gY3Vyci5uZWlnaGJvdXIgfHwgcHJldi5sb2NhbCAhPT0gY3Vyci5sb2NhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgY29ubmVjdGlvbiBoaWdobGlnaHRzIGFmdGVyIGEgcHJldmlldyBjaGFuZ2UuXG4gICAqIEVuc3VyZXMgaGlnaGxpZ2h0cyByZWZsZWN0IGN1cnJlbnQgcG9zaXRpb25zIGFmdGVyIHN0YWNrIHJlYXJyYW5nZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjdXJyZW50Q2FuZGlkYXRlXG4gICAqL1xuICBwcml2YXRlIHJlZnJlc2hIaWdobGlnaHRzRm9yUHJldmlldyhcbiAgICBjdXJyZW50Q2FuZGlkYXRlOiBDb25uZWN0aW9uQ2FuZGlkYXRlIHwgbnVsbCxcbiAgKTogdm9pZCB7XG4gICAgLy8gT25seSByZWZyZXNoIGlmIGhpZ2hsaWdodHMgYXJlIGVuYWJsZWRcbiAgICBpZiAoIXRoaXMuaGlnaGxpZ2h0aW5nRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5sYXN0UmVmcmVzaGVkQ2FuZGlkYXRlID0gY3VycmVudENhbmRpZGF0ZTtcbiAgICB0aGlzLmxhc3RSZWZyZXNoVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAvLyBSZWJ1aWxkIGNvbm5lY3Rpb25zIGxpc3QgdG8gcmVmbGVjdCBjdXJyZW50IHdvcmtzcGFjZSBzdGF0ZVxuICAgIGNvbnN0IGN1cnJlbnRDb25uZWN0aW9uczogUmVuZGVyZWRDb25uZWN0aW9uW10gPSBbXTtcbiAgICBjb25zdCB0b3BCbG9ja3MgPSB0aGlzLmJsb2NrLndvcmtzcGFjZS5nZXRUb3BCbG9ja3ModHJ1ZSk7XG5cbiAgICBmb3IgKGNvbnN0IHRvcEJsb2NrIG9mIHRvcEJsb2Nrcykge1xuICAgICAgY29uc3QgZGVzY2VuZGFudHMgPSB0b3BCbG9jay5nZXREZXNjZW5kYW50cyh0cnVlKTtcbiAgICAgIGNvbnN0IG5vblNoYWRvd0Rlc2NlbmRhbnRzID0gZGVzY2VuZGFudHMuZmlsdGVyKFxuICAgICAgICAoYmxvY2s6IEJsb2NrU3ZnKSA9PiAhYmxvY2suaXNTaGFkb3coKSxcbiAgICAgICk7XG5cbiAgICAgIGN1cnJlbnRDb25uZWN0aW9ucy5wdXNoKFxuICAgICAgICAuLi5ub25TaGFkb3dEZXNjZW5kYW50c1xuICAgICAgICAgIC5mbGF0TWFwKChibG9jazogQmxvY2tTdmcpID0+IGJsb2NrLmdldENvbm5lY3Rpb25zXyhmYWxzZSkpXG4gICAgICAgICAgLnNvcnQoKGE6IFJlbmRlcmVkQ29ubmVjdGlvbiwgYjogUmVuZGVyZWRDb25uZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSBhLnkgLSBiLnk7XG4gICAgICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgICAgZGVsdGEgPSBhLnggLSBiLng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVsdGE7XG4gICAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2V0TG9jYWxDb25uZWN0aW9ucyBpcyBwcml2YXRlLlxuICAgIGNvbnN0IGxvY2FsQ29ubmVjdGlvbnMgPSB0aGlzLmdldExvY2FsQ29ubmVjdGlvbnModGhpcy5ibG9jayk7XG5cbiAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlci5oaWdobGlnaHRWYWxpZENvbm5lY3Rpb25zKFxuICAgICAgdGhpcy5ibG9jayxcbiAgICAgIGN1cnJlbnRDb25uZWN0aW9ucyxcbiAgICAgIGxvY2FsQ29ubmVjdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdoZW4gYSB1c2VyIGNsaWNrcyBvbiBhIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IHRvIGNvbXBsZXRlIGEgbW92ZS5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldENvbm5lY3Rpb25cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlQ29ubmVjdGlvbkNsaWNrKHRhcmdldENvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2V0TG9jYWxDb25uZWN0aW9ucyBpcyBwcml2YXRlLlxuICAgIGNvbnN0IGxvY2FsQ29ubmVjdGlvbnMgPSB0aGlzLmdldExvY2FsQ29ubmVjdGlvbnModGhpcy5ibG9jayk7XG4gICAgY29uc3QgY29ubmVjdGlvbkNoZWNrZXIgPSB0aGlzLmJsb2NrLndvcmtzcGFjZS5jb25uZWN0aW9uQ2hlY2tlcjtcblxuICAgIGxldCBsb2NhbENvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwgPSBudWxsO1xuICAgIGZvciAoY29uc3QgbG9jYWwgb2YgbG9jYWxDb25uZWN0aW9ucykge1xuICAgICAgaWYgKFxuICAgICAgICBjb25uZWN0aW9uQ2hlY2tlci5jYW5Db25uZWN0KGxvY2FsLCB0YXJnZXRDb25uZWN0aW9uLCB0cnVlLCBJbmZpbml0eSlcbiAgICAgICkge1xuICAgICAgICBsb2NhbENvbm5lY3Rpb24gPSBsb2NhbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxvY2FsQ29ubmVjdGlvbikge1xuICAgICAgLy8gU2V0IHRoZSBjb25uZWN0aW9uIGNhbmRpZGF0ZSB0aGF0IHdpbGwgYmUgdXNlZCB3aGVuIHRoZSBkcmFnIGVuZHNcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHtcbiAgICAgICAgbG9jYWw6IGxvY2FsQ29ubmVjdGlvbixcbiAgICAgICAgbmVpZ2hib3VyOiB0YXJnZXRDb25uZWN0aW9uLFxuICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgIH07XG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY29ubmVjdGlvbkNhbmRpZGF0ZSBpcyBwcml2YXRlXG4gICAgICB0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGUgPSBjYW5kaWRhdGU7XG5cbiAgICAgIC8vIEV4aXQgc3RpY2t5IG1vZGUgZmlyc3QgKGJlZm9yZSBmaW5pc2hpbmcgdGhlIG1vdmUpIGlmIHdlJ3JlIGluIHN0aWNreSBtb2RlXG4gICAgICBpZiAodGhpcy5pc0NsaWNrQW5kU3RpY2spIHtcbiAgICAgICAgdGhpcy5zZXRDbGlja0FuZFN0aWNrTW9kZShmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmlzaCB0aGUgbW92ZSwgd2hpY2ggd2lsbCBmaW5hbGl6ZSB0aGUgY29ubmVjdGlvblxuICAgICAgaWYgKHRoaXMub25Nb3ZlQ29tcGxldGUpIHtcbiAgICAgICAgdGhpcy5vbk1vdmVDb21wbGV0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vbk1vdmVGaW5pc2hlZCkge1xuICAgICAgICB0aGlzLm9uTW92ZUZpbmlzaGVkKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGNvbXBhdGlibGUgY29ubmVjdGlvbiBmb3VuZC4gVGhpcyBzaG91bGRuJ3QgaGFwcGVuIHNpbmNlIHdlIHVzZSBjb25zaXN0ZW50XG4gICAgICAvLyB2YWxpZGF0aW9uIHdoZW4gY3JlYXRpbmcgaGlnaGxpZ2h0cywgYnV0IGlmIGl0IGRvZXMgd2UgbXVzdCBleGl0IGdyYWNlZnVsbHlcbiAgICAgIC8vIHRvIGF2b2lkIGxlYXZpbmcgdGhlIFVJIGluIGEgYnJva2VuIHN0YXRlLlxuICAgICAgaWYgKHRoaXMuaXNDbGlja0FuZFN0aWNrKSB7XG4gICAgICAgIHRoaXMuc2V0Q2xpY2tBbmRTdGlja01vZGUoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vbk1vdmVDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLm9uTW92ZUNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9uTW92ZUZpbmlzaGVkKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlRmluaXNoZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgZmF0dGVyIGNvbm5lY3Rpb24gaGlnaGxpZ2h0cy5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0byB1c2UgZmF0dGVyIGNvbm5lY3Rpb25zIHdpdGggbGFyZ2VyIGNsaWNrIHRhcmdldHMuXG4gICAqL1xuICBzZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5jb25uZWN0aW9uSGlnaGxpZ2h0ZXI/LnNldEZhdHRlckNvbm5lY3Rpb25zKGVuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29ubmVjdGlvbiBoaWdobGlnaHQgc2l6ZS5cbiAgICpcbiAgICogQHBhcmFtIHNpemUgVGhlIHNpemUgbGV2ZWw6ICdtaW5pbWFsJywgJ21lZGl1bScsIG9yICdsYXJnZScuXG4gICAqL1xuICBzZXRDb25uZWN0aW9uU2l6ZShzaXplOiAnbWluaW1hbCcgfCAnbWVkaXVtJyB8ICdsYXJnZScpOiB2b2lkIHtcbiAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlcj8uc2V0Q29ubmVjdGlvblNpemUoc2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW5pdGlhbCBjb25uZWN0aW9uIHdoZXJlIHRoZSBibG9jayBzdGFydGVkLlxuICAgKi9cbiAgZ2V0SW5pdGlhbENvbm5lY3Rpb25OZWlnaGJvdXIoKTogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuaW5pdGlhbENvbm5lY3Rpb25OZWlnaGJvdXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/keyboard_drag_strategy.ts\n");

/***/ }),

/***/ "../../src/keynames.ts":
/*!*****************************!*\
  !*** ../../src/keynames.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keyNames: () => (/* binding */ keyNames)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * Key names for common characters. These should be used with keyup/keydown\n * events, since the .keyCode property on those is meant to indicate the\n * _physical key_ the user held down on the keyboard. Hence the mapping uses\n * only the unshifted version of each key (e.g. no '#', since that's shift+3).\n * Keypress events on the other hand generate (mostly) ASCII codes since they\n * correspond to *characters* the user typed.\n *\n * For further reference: http://unixpapa.com/js/key.html\n *\n * This list is not localized and therefore some of the key codes are not\n * correct for non-US keyboard layouts.\n *\n * Copied from goog.events.keynames\n */\nconst keyNames = {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    8: 'backspace',\n    9: 'tab',\n    13: 'enter',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    19: 'pause',\n    20: 'caps-lock',\n    27: 'esc',\n    32: 'space',\n    33: 'pg-up',\n    34: 'pg-down',\n    35: 'end',\n    36: 'home',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    45: 'insert',\n    46: 'delete',\n    48: '0',\n    49: '1',\n    50: '2',\n    51: '3',\n    52: '4',\n    53: '5',\n    54: '6',\n    55: '7',\n    56: '8',\n    57: '9',\n    59: 'semicolon',\n    61: 'equals',\n    65: 'a',\n    66: 'b',\n    67: 'c',\n    68: 'd',\n    69: 'e',\n    70: 'f',\n    71: 'g',\n    72: 'h',\n    73: 'i',\n    74: 'j',\n    75: 'k',\n    76: 'l',\n    77: 'm',\n    78: 'n',\n    79: 'o',\n    80: 'p',\n    81: 'q',\n    82: 'r',\n    83: 's',\n    84: 't',\n    85: 'u',\n    86: 'v',\n    87: 'w',\n    88: 'x',\n    89: 'y',\n    90: 'z',\n    93: 'context',\n    96: 'num-0',\n    97: 'num-1',\n    98: 'num-2',\n    99: 'num-3',\n    100: 'num-4',\n    101: 'num-5',\n    102: 'num-6',\n    103: 'num-7',\n    104: 'num-8',\n    105: 'num-9',\n    106: 'num-multiply',\n    107: 'num-plus',\n    109: 'num-minus',\n    110: 'num-period',\n    111: 'num-division',\n    112: 'f1',\n    113: 'f2',\n    114: 'f3',\n    115: 'f4',\n    116: 'f5',\n    117: 'f6',\n    118: 'f7',\n    119: 'f8',\n    120: 'f9',\n    121: 'f10',\n    122: 'f11',\n    123: 'f12',\n    186: 'semicolon',\n    187: 'equals',\n    189: 'dash',\n    188: ',',\n    190: '.',\n    191: '/',\n    192: '`',\n    219: 'open-square-bracket',\n    220: '\\\\',\n    221: 'close-square-bracket',\n    222: 'single-quote',\n    224: 'win',\n    /* eslint-enable @typescript-eslint/naming-convention */\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxFQUFFLEtBQUs7SUFDVixHQUFHLEVBQUUsS0FBSztJQUNWLEdBQUcsRUFBRSxLQUFLO0lBQ1YsR0FBRyxFQUFFLFdBQVc7SUFDaEIsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsTUFBTTtJQUNYLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLHFCQUFxQjtJQUMxQixHQUFHLEVBQUUsSUFBSTtJQUNULEdBQUcsRUFBRSxzQkFBc0I7SUFDM0IsR0FBRyxFQUFFLGNBQWM7SUFDbkIsR0FBRyxFQUFFLEtBQUs7SUFDVix3REFBd0Q7Q0FDekQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMva2V5bmFtZXMudHM/YzE1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogS2V5IG5hbWVzIGZvciBjb21tb24gY2hhcmFjdGVycy4gVGhlc2Ugc2hvdWxkIGJlIHVzZWQgd2l0aCBrZXl1cC9rZXlkb3duXG4gKiBldmVudHMsIHNpbmNlIHRoZSAua2V5Q29kZSBwcm9wZXJ0eSBvbiB0aG9zZSBpcyBtZWFudCB0byBpbmRpY2F0ZSB0aGVcbiAqIF9waHlzaWNhbCBrZXlfIHRoZSB1c2VyIGhlbGQgZG93biBvbiB0aGUga2V5Ym9hcmQuIEhlbmNlIHRoZSBtYXBwaW5nIHVzZXNcbiAqIG9ubHkgdGhlIHVuc2hpZnRlZCB2ZXJzaW9uIG9mIGVhY2gga2V5IChlLmcuIG5vICcjJywgc2luY2UgdGhhdCdzIHNoaWZ0KzMpLlxuICogS2V5cHJlc3MgZXZlbnRzIG9uIHRoZSBvdGhlciBoYW5kIGdlbmVyYXRlIChtb3N0bHkpIEFTQ0lJIGNvZGVzIHNpbmNlIHRoZXlcbiAqIGNvcnJlc3BvbmQgdG8gKmNoYXJhY3RlcnMqIHRoZSB1c2VyIHR5cGVkLlxuICpcbiAqIEZvciBmdXJ0aGVyIHJlZmVyZW5jZTogaHR0cDovL3VuaXhwYXBhLmNvbS9qcy9rZXkuaHRtbFxuICpcbiAqIFRoaXMgbGlzdCBpcyBub3QgbG9jYWxpemVkIGFuZCB0aGVyZWZvcmUgc29tZSBvZiB0aGUga2V5IGNvZGVzIGFyZSBub3RcbiAqIGNvcnJlY3QgZm9yIG5vbi1VUyBrZXlib2FyZCBsYXlvdXRzLlxuICpcbiAqIENvcGllZCBmcm9tIGdvb2cuZXZlbnRzLmtleW5hbWVzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlOYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uICovXG4gIDg6ICdiYWNrc3BhY2UnLFxuICA5OiAndGFiJyxcbiAgMTM6ICdlbnRlcicsXG4gIDE2OiAnc2hpZnQnLFxuICAxNzogJ2N0cmwnLFxuICAxODogJ2FsdCcsXG4gIDE5OiAncGF1c2UnLFxuICAyMDogJ2NhcHMtbG9jaycsXG4gIDI3OiAnZXNjJyxcbiAgMzI6ICdzcGFjZScsXG4gIDMzOiAncGctdXAnLFxuICAzNDogJ3BnLWRvd24nLFxuICAzNTogJ2VuZCcsXG4gIDM2OiAnaG9tZScsXG4gIDM3OiAnbGVmdCcsXG4gIDM4OiAndXAnLFxuICAzOTogJ3JpZ2h0JyxcbiAgNDA6ICdkb3duJyxcbiAgNDU6ICdpbnNlcnQnLFxuICA0NjogJ2RlbGV0ZScsXG4gIDQ4OiAnMCcsXG4gIDQ5OiAnMScsXG4gIDUwOiAnMicsXG4gIDUxOiAnMycsXG4gIDUyOiAnNCcsXG4gIDUzOiAnNScsXG4gIDU0OiAnNicsXG4gIDU1OiAnNycsXG4gIDU2OiAnOCcsXG4gIDU3OiAnOScsXG4gIDU5OiAnc2VtaWNvbG9uJyxcbiAgNjE6ICdlcXVhbHMnLFxuICA2NTogJ2EnLFxuICA2NjogJ2InLFxuICA2NzogJ2MnLFxuICA2ODogJ2QnLFxuICA2OTogJ2UnLFxuICA3MDogJ2YnLFxuICA3MTogJ2cnLFxuICA3MjogJ2gnLFxuICA3MzogJ2knLFxuICA3NDogJ2onLFxuICA3NTogJ2snLFxuICA3NjogJ2wnLFxuICA3NzogJ20nLFxuICA3ODogJ24nLFxuICA3OTogJ28nLFxuICA4MDogJ3AnLFxuICA4MTogJ3EnLFxuICA4MjogJ3InLFxuICA4MzogJ3MnLFxuICA4NDogJ3QnLFxuICA4NTogJ3UnLFxuICA4NjogJ3YnLFxuICA4NzogJ3cnLFxuICA4ODogJ3gnLFxuICA4OTogJ3knLFxuICA5MDogJ3onLFxuICA5MzogJ2NvbnRleHQnLFxuICA5NjogJ251bS0wJyxcbiAgOTc6ICdudW0tMScsXG4gIDk4OiAnbnVtLTInLFxuICA5OTogJ251bS0zJyxcbiAgMTAwOiAnbnVtLTQnLFxuICAxMDE6ICdudW0tNScsXG4gIDEwMjogJ251bS02JyxcbiAgMTAzOiAnbnVtLTcnLFxuICAxMDQ6ICdudW0tOCcsXG4gIDEwNTogJ251bS05JyxcbiAgMTA2OiAnbnVtLW11bHRpcGx5JyxcbiAgMTA3OiAnbnVtLXBsdXMnLFxuICAxMDk6ICdudW0tbWludXMnLFxuICAxMTA6ICdudW0tcGVyaW9kJyxcbiAgMTExOiAnbnVtLWRpdmlzaW9uJyxcbiAgMTEyOiAnZjEnLFxuICAxMTM6ICdmMicsXG4gIDExNDogJ2YzJyxcbiAgMTE1OiAnZjQnLFxuICAxMTY6ICdmNScsXG4gIDExNzogJ2Y2JyxcbiAgMTE4OiAnZjcnLFxuICAxMTk6ICdmOCcsXG4gIDEyMDogJ2Y5JyxcbiAgMTIxOiAnZjEwJyxcbiAgMTIyOiAnZjExJyxcbiAgMTIzOiAnZjEyJyxcbiAgMTg2OiAnc2VtaWNvbG9uJyxcbiAgMTg3OiAnZXF1YWxzJyxcbiAgMTg5OiAnZGFzaCcsXG4gIDE4ODogJywnLFxuICAxOTA6ICcuJyxcbiAgMTkxOiAnLycsXG4gIDE5MjogJ2AnLFxuICAyMTk6ICdvcGVuLXNxdWFyZS1icmFja2V0JyxcbiAgMjIwOiAnXFxcXCcsXG4gIDIyMTogJ2Nsb3NlLXNxdWFyZS1icmFja2V0JyxcbiAgMjIyOiAnc2luZ2xlLXF1b3RlJyxcbiAgMjI0OiAnd2luJyxcbiAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/keynames.ts\n");

/***/ }),

/***/ "../../src/move_grip.ts":
/*!******************************!*\
  !*** ../../src/move_grip.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveGrip: () => (/* binding */ MoveGrip)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Minimum width threshold for showing full-width grip (in pixels).\n * Blocks narrower than this will get a compact grip.\n */\nconst MIN_BLOCK_WIDTH_FOR_FULL_GRIP = 30;\n/**\n * Width of the grip element in pixels.\n */\nconst GRIP_WIDTH = 20;\n/**\n * CSS class name for the grip element.\n */\nconst GRIP_CLASS = 'blockly-move-grip';\n/**\n * A visual grip handle that appears on focused blocks, allowing users to\n * click the grip to enter sticky move mode.\n */\nclass MoveGrip {\n    /**\n     * Constructs a MoveGrip for a block.\n     *\n     * @param block The block to attach the grip to.\n     * @param onGripClick Callback invoked when the grip is clicked.\n     */\n    constructor(block, onGripClick) {\n        this.block = block;\n        this.gripElement = null;\n        this.clickHandler = null;\n        this.clickHandler = (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            onGripClick(this.block, event);\n        };\n    }\n    /**\n     * Shows the grip on the block.\n     */\n    show() {\n        if (this.gripElement) {\n            // Already showing\n            return;\n        }\n        const blockSvgRoot = this.block.getSvgRoot();\n        if (!blockSvgRoot)\n            return;\n        // Create grip element\n        this.gripElement = this.createGripElement();\n        // Position the grip\n        this.positionGrip();\n        // Add to block's SVG root\n        blockSvgRoot.appendChild(this.gripElement);\n        // Add click handler\n        if (this.clickHandler) {\n            this.gripElement.addEventListener('click', this.clickHandler);\n        }\n    }\n    /**\n     * Hides and removes the grip from the block.\n     */\n    hide() {\n        if (!this.gripElement)\n            return;\n        // Remove click handler\n        if (this.clickHandler) {\n            this.gripElement.removeEventListener('click', this.clickHandler);\n        }\n        // Remove from DOM\n        this.gripElement.remove();\n        this.gripElement = null;\n    }\n    /**\n     * Updates the grip position based on the current block size.\n     * Should be called when the block is resized.\n     */\n    updatePosition() {\n        if (!this.gripElement)\n            return;\n        this.positionGrip();\n    }\n    /**\n     * Creates the SVG grip element.\n     *\n     * @returns The created SVG group element.\n     */\n    createGripElement() {\n        const gripGroup = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('g', {\n            class: GRIP_CLASS,\n        });\n        // Use the block's direct height/width properties to get just this block's size,\n        // not including blocks below it in the stack\n        const blockWidth = this.block.width;\n        const blockHeight = this.block.height;\n        // Determine if block is too narrow for full grip\n        const isNarrow = blockWidth < MIN_BLOCK_WIDTH_FOR_FULL_GRIP;\n        const gripWidth = isNarrow ? Math.min(GRIP_WIDTH, blockWidth * 0.5) : GRIP_WIDTH;\n        // Background rectangle for the grip area\n        const gripRect = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('rect', {\n            x: '0',\n            y: '0',\n            width: gripWidth.toString(),\n            height: blockHeight.toString(),\n            fill: 'rgba(0, 0, 0, 0.1)',\n            'stroke': 'rgba(0, 0, 0, 0.3)',\n            'stroke-width': '1',\n            rx: '3',\n            ry: '3',\n            class: 'blockly-move-grip-background',\n        });\n        gripGroup.appendChild(gripRect);\n        // Create grip dots ( icon - two vertical columns of dots)\n        const dotRadius = isNarrow ? 1.5 : 2;\n        const dotSpacing = isNarrow ? 6 : 8;\n        const numDots = Math.min(3, Math.floor(blockHeight / dotSpacing));\n        const startY = (blockHeight - (numDots - 1) * dotSpacing) / 2;\n        // Two columns of dots\n        const column1X = gripWidth * 0.35;\n        const column2X = gripWidth * 0.65;\n        for (let i = 0; i < numDots; i++) {\n            const y = startY + i * dotSpacing;\n            // First column\n            const dot1 = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('circle', {\n                cx: column1X.toString(),\n                cy: y.toString(),\n                r: dotRadius.toString(),\n                fill: 'rgba(0, 0, 0, 0.6)',\n                class: 'blockly-move-grip-dot',\n            });\n            gripGroup.appendChild(dot1);\n            // Second column\n            const dot2 = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('circle', {\n                cx: column2X.toString(),\n                cy: y.toString(),\n                r: dotRadius.toString(),\n                fill: 'rgba(0, 0, 0, 0.6)',\n                class: 'blockly-move-grip-dot',\n            });\n            gripGroup.appendChild(dot2);\n        }\n        return gripGroup;\n    }\n    /**\n     * Positions the grip on the left edge of the block.\n     */\n    positionGrip() {\n        if (!this.gripElement)\n            return;\n        // Position at the top-left corner of the block\n        // The grip should be at (0, 0) relative to the block's SVG root\n        this.gripElement.setAttribute('transform', 'translate(0, 0)');\n    }\n    /**\n     * Checks if the given event target is the grip element or a child of it.\n     *\n     * @param target The event target to check.\n     * @returns True if the target is the grip or within the grip.\n     */\n    isGripTarget(target) {\n        if (!this.gripElement || !target)\n            return false;\n        const element = target;\n        return this.gripElement.contains(element) || element === this.gripElement;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVEOzs7OztPQUtHO0lBQ0gsWUFBWSxDQUFDLE1BQTBCO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBRS9DLE1BQU0sT0FBTyxHQUFHLE1BQWlCLENBQUM7UUFDbEMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1RSxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL21vdmVfZ3JpcC50cz9iYzVjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG4vKipcbiAqIE1pbmltdW0gd2lkdGggdGhyZXNob2xkIGZvciBzaG93aW5nIGZ1bGwtd2lkdGggZ3JpcCAoaW4gcGl4ZWxzKS5cbiAqIEJsb2NrcyBuYXJyb3dlciB0aGFuIHRoaXMgd2lsbCBnZXQgYSBjb21wYWN0IGdyaXAuXG4gKi9cbmNvbnN0IE1JTl9CTE9DS19XSURUSF9GT1JfRlVMTF9HUklQID0gMzA7XG5cbi8qKlxuICogV2lkdGggb2YgdGhlIGdyaXAgZWxlbWVudCBpbiBwaXhlbHMuXG4gKi9cbmNvbnN0IEdSSVBfV0lEVEggPSAyMDtcblxuLyoqXG4gKiBDU1MgY2xhc3MgbmFtZSBmb3IgdGhlIGdyaXAgZWxlbWVudC5cbiAqL1xuY29uc3QgR1JJUF9DTEFTUyA9ICdibG9ja2x5LW1vdmUtZ3JpcCc7XG5cbi8qKlxuICogQSB2aXN1YWwgZ3JpcCBoYW5kbGUgdGhhdCBhcHBlYXJzIG9uIGZvY3VzZWQgYmxvY2tzLCBhbGxvd2luZyB1c2VycyB0b1xuICogY2xpY2sgdGhlIGdyaXAgdG8gZW50ZXIgc3RpY2t5IG1vdmUgbW9kZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVHcmlwIHtcbiAgcHJpdmF0ZSBncmlwRWxlbWVudDogU1ZHR0VsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjbGlja0hhbmRsZXI6ICgoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBNb3ZlR3JpcCBmb3IgYSBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBhdHRhY2ggdGhlIGdyaXAgdG8uXG4gICAqIEBwYXJhbSBvbkdyaXBDbGljayBDYWxsYmFjayBpbnZva2VkIHdoZW4gdGhlIGdyaXAgaXMgY2xpY2tlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcsXG4gICAgb25HcmlwQ2xpY2s6IChibG9jazogQmxvY2tseS5CbG9ja1N2ZywgZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQsXG4gICkge1xuICAgIHRoaXMuY2xpY2tIYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBvbkdyaXBDbGljayh0aGlzLmJsb2NrLCBldmVudCk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgZ3JpcCBvbiB0aGUgYmxvY2suXG4gICAqL1xuICBzaG93KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmdyaXBFbGVtZW50KSB7XG4gICAgICAvLyBBbHJlYWR5IHNob3dpbmdcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBibG9ja1N2Z1Jvb3QgPSB0aGlzLmJsb2NrLmdldFN2Z1Jvb3QoKTtcbiAgICBpZiAoIWJsb2NrU3ZnUm9vdCkgcmV0dXJuO1xuXG4gICAgLy8gQ3JlYXRlIGdyaXAgZWxlbWVudFxuICAgIHRoaXMuZ3JpcEVsZW1lbnQgPSB0aGlzLmNyZWF0ZUdyaXBFbGVtZW50KCk7XG5cbiAgICAvLyBQb3NpdGlvbiB0aGUgZ3JpcFxuICAgIHRoaXMucG9zaXRpb25HcmlwKCk7XG5cbiAgICAvLyBBZGQgdG8gYmxvY2sncyBTVkcgcm9vdFxuICAgIGJsb2NrU3ZnUm9vdC5hcHBlbmRDaGlsZCh0aGlzLmdyaXBFbGVtZW50KTtcblxuICAgIC8vIEFkZCBjbGljayBoYW5kbGVyXG4gICAgaWYgKHRoaXMuY2xpY2tIYW5kbGVyKSB7XG4gICAgICB0aGlzLmdyaXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyBhbmQgcmVtb3ZlcyB0aGUgZ3JpcCBmcm9tIHRoZSBibG9jay5cbiAgICovXG4gIGhpZGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmdyaXBFbGVtZW50KSByZXR1cm47XG5cbiAgICAvLyBSZW1vdmUgY2xpY2sgaGFuZGxlclxuICAgIGlmICh0aGlzLmNsaWNrSGFuZGxlcikge1xuICAgICAgdGhpcy5ncmlwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZnJvbSBET01cbiAgICB0aGlzLmdyaXBFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuZ3JpcEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdyaXAgcG9zaXRpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgYmxvY2sgc2l6ZS5cbiAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSBibG9jayBpcyByZXNpemVkLlxuICAgKi9cbiAgdXBkYXRlUG9zaXRpb24oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmdyaXBFbGVtZW50KSByZXR1cm47XG4gICAgdGhpcy5wb3NpdGlvbkdyaXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBTVkcgZ3JpcCBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBTVkcgZ3JvdXAgZWxlbWVudC5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlR3JpcEVsZW1lbnQoKTogU1ZHR0VsZW1lbnQge1xuICAgIGNvbnN0IGdyaXBHcm91cCA9IEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoJ2cnLCB7XG4gICAgICBjbGFzczogR1JJUF9DTEFTUyxcbiAgICB9KSBhcyBTVkdHRWxlbWVudDtcblxuICAgIC8vIFVzZSB0aGUgYmxvY2sncyBkaXJlY3QgaGVpZ2h0L3dpZHRoIHByb3BlcnRpZXMgdG8gZ2V0IGp1c3QgdGhpcyBibG9jaydzIHNpemUsXG4gICAgLy8gbm90IGluY2x1ZGluZyBibG9ja3MgYmVsb3cgaXQgaW4gdGhlIHN0YWNrXG4gICAgY29uc3QgYmxvY2tXaWR0aCA9IHRoaXMuYmxvY2sud2lkdGg7XG4gICAgY29uc3QgYmxvY2tIZWlnaHQgPSB0aGlzLmJsb2NrLmhlaWdodDtcblxuICAgIC8vIERldGVybWluZSBpZiBibG9jayBpcyB0b28gbmFycm93IGZvciBmdWxsIGdyaXBcbiAgICBjb25zdCBpc05hcnJvdyA9IGJsb2NrV2lkdGggPCBNSU5fQkxPQ0tfV0lEVEhfRk9SX0ZVTExfR1JJUDtcbiAgICBjb25zdCBncmlwV2lkdGggPSBpc05hcnJvdyA/IE1hdGgubWluKEdSSVBfV0lEVEgsIGJsb2NrV2lkdGggKiAwLjUpIDogR1JJUF9XSURUSDtcblxuICAgIC8vIEJhY2tncm91bmQgcmVjdGFuZ2xlIGZvciB0aGUgZ3JpcCBhcmVhXG4gICAgY29uc3QgZ3JpcFJlY3QgPSBCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KCdyZWN0Jywge1xuICAgICAgeDogJzAnLFxuICAgICAgeTogJzAnLFxuICAgICAgd2lkdGg6IGdyaXBXaWR0aC50b1N0cmluZygpLFxuICAgICAgaGVpZ2h0OiBibG9ja0hlaWdodC50b1N0cmluZygpLFxuICAgICAgZmlsbDogJ3JnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgICAnc3Ryb2tlJzogJ3JnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgICAnc3Ryb2tlLXdpZHRoJzogJzEnLFxuICAgICAgcng6ICczJyxcbiAgICAgIHJ5OiAnMycsXG4gICAgICBjbGFzczogJ2Jsb2NrbHktbW92ZS1ncmlwLWJhY2tncm91bmQnLFxuICAgIH0pO1xuICAgIGdyaXBHcm91cC5hcHBlbmRDaGlsZChncmlwUmVjdCk7XG5cbiAgICAvLyBDcmVhdGUgZ3JpcCBkb3RzICjii67ii64gaWNvbiAtIHR3byB2ZXJ0aWNhbCBjb2x1bW5zIG9mIGRvdHMpXG4gICAgY29uc3QgZG90UmFkaXVzID0gaXNOYXJyb3cgPyAxLjUgOiAyO1xuICAgIGNvbnN0IGRvdFNwYWNpbmcgPSBpc05hcnJvdyA/IDYgOiA4O1xuICAgIGNvbnN0IG51bURvdHMgPSBNYXRoLm1pbigzLCBNYXRoLmZsb29yKGJsb2NrSGVpZ2h0IC8gZG90U3BhY2luZykpO1xuICAgIGNvbnN0IHN0YXJ0WSA9IChibG9ja0hlaWdodCAtIChudW1Eb3RzIC0gMSkgKiBkb3RTcGFjaW5nKSAvIDI7XG5cbiAgICAvLyBUd28gY29sdW1ucyBvZiBkb3RzXG4gICAgY29uc3QgY29sdW1uMVggPSBncmlwV2lkdGggKiAwLjM1O1xuICAgIGNvbnN0IGNvbHVtbjJYID0gZ3JpcFdpZHRoICogMC42NTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRG90czsgaSsrKSB7XG4gICAgICBjb25zdCB5ID0gc3RhcnRZICsgaSAqIGRvdFNwYWNpbmc7XG5cbiAgICAgIC8vIEZpcnN0IGNvbHVtblxuICAgICAgY29uc3QgZG90MSA9IEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoJ2NpcmNsZScsIHtcbiAgICAgICAgY3g6IGNvbHVtbjFYLnRvU3RyaW5nKCksXG4gICAgICAgIGN5OiB5LnRvU3RyaW5nKCksXG4gICAgICAgIHI6IGRvdFJhZGl1cy50b1N0cmluZygpLFxuICAgICAgICBmaWxsOiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcbiAgICAgICAgY2xhc3M6ICdibG9ja2x5LW1vdmUtZ3JpcC1kb3QnLFxuICAgICAgfSk7XG4gICAgICBncmlwR3JvdXAuYXBwZW5kQ2hpbGQoZG90MSk7XG5cbiAgICAgIC8vIFNlY29uZCBjb2x1bW5cbiAgICAgIGNvbnN0IGRvdDIgPSBCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KCdjaXJjbGUnLCB7XG4gICAgICAgIGN4OiBjb2x1bW4yWC50b1N0cmluZygpLFxuICAgICAgICBjeTogeS50b1N0cmluZygpLFxuICAgICAgICByOiBkb3RSYWRpdXMudG9TdHJpbmcoKSxcbiAgICAgICAgZmlsbDogJ3JnYmEoMCwgMCwgMCwgMC42KScsXG4gICAgICAgIGNsYXNzOiAnYmxvY2tseS1tb3ZlLWdyaXAtZG90JyxcbiAgICAgIH0pO1xuICAgICAgZ3JpcEdyb3VwLmFwcGVuZENoaWxkKGRvdDIpO1xuICAgIH1cblxuICAgIHJldHVybiBncmlwR3JvdXA7XG4gIH1cblxuICAvKipcbiAgICogUG9zaXRpb25zIHRoZSBncmlwIG9uIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGJsb2NrLlxuICAgKi9cbiAgcHJpdmF0ZSBwb3NpdGlvbkdyaXAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmdyaXBFbGVtZW50KSByZXR1cm47XG5cbiAgICAvLyBQb3NpdGlvbiBhdCB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSBibG9ja1xuICAgIC8vIFRoZSBncmlwIHNob3VsZCBiZSBhdCAoMCwgMCkgcmVsYXRpdmUgdG8gdGhlIGJsb2NrJ3MgU1ZHIHJvb3RcbiAgICB0aGlzLmdyaXBFbGVtZW50LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAwKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZXZlbnQgdGFyZ2V0IGlzIHRoZSBncmlwIGVsZW1lbnQgb3IgYSBjaGlsZCBvZiBpdC5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldCBUaGUgZXZlbnQgdGFyZ2V0IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB0YXJnZXQgaXMgdGhlIGdyaXAgb3Igd2l0aGluIHRoZSBncmlwLlxuICAgKi9cbiAgaXNHcmlwVGFyZ2V0KHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmdyaXBFbGVtZW50IHx8ICF0YXJnZXQpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGVsZW1lbnQgPSB0YXJnZXQgYXMgRWxlbWVudDtcbiAgICByZXR1cm4gdGhpcy5ncmlwRWxlbWVudC5jb250YWlucyhlbGVtZW50KSB8fCBlbGVtZW50ID09PSB0aGlzLmdyaXBFbGVtZW50O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/move_grip.ts\n");

/***/ }),

/***/ "../../src/move_icon.ts":
/*!******************************!*\
  !*** ../../src/move_icon.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveIcon: () => (/* binding */ MoveIcon)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _move_indicator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./move_indicator */ \"../../src/move_indicator.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n/**\n * Invisible icon that acts as an anchor for a move indicator bubble.\n */\nclass MoveIcon {\n    /**\n     * Creates a new MoveIcon instance.\n     *\n     * @param sourceBlock The block this icon is attached to.\n     */\n    constructor(sourceBlock) {\n        this.sourceBlock = sourceBlock;\n        this.moveIndicator = new _move_indicator__WEBPACK_IMPORTED_MODULE_1__.MoveIndicatorBubble(this.sourceBlock);\n    }\n    /**\n     * Returns the type of this icon.\n     */\n    getType() {\n        return MoveIcon.type;\n    }\n    /**\n     * Returns the weight of this icon, which controls its position relative to\n     * other icons.\n     *\n     * @returns The weight of this icon.\n     */\n    getWeight() {\n        return -1;\n    }\n    /**\n     * Returns the size of this icon.\n     *\n     * @returns A rect with negative width and no height to offset the default\n     *     padding applied to icons.\n     */\n    getSize() {\n        // Awful hack to cancel out the default padding added to icons.\n        return new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Size(-8, 0);\n    }\n    /**\n     * Returns whether this icon is visible when its parent block is collapsed.\n     *\n     * @returns False since this icon is never visible.\n     */\n    isShownWhenCollapsed() {\n        return false;\n    }\n    /**\n     * Returns whether this icon can be clicked in the flyout.\n     *\n     * @returns False since this icon is invisible and not clickable.\n     */\n    isClickableInFlyout() {\n        return false;\n    }\n    /**\n     * Returns whether this icon's attached bubble is visible.\n     *\n     * @returns True because this icon only exists to host its bubble.\n     */\n    bubbleIsVisible() {\n        return true;\n    }\n    /**\n     * Returns this icon's bubble.\n     */\n    getBubble() {\n        return this.moveIndicator;\n    }\n    /**\n     * Called when the location of this icon's block changes.\n     *\n     * @param blockOrigin The new location of this icon's block.\n     */\n    onLocationChange(blockOrigin) {\n        var _a;\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.updateLocation();\n    }\n    /**\n     * Disposes of this icon.\n     */\n    dispose() {\n        var _a;\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    // These methods are required by the interfaces, but intentionally have no\n    // implementation, largely because this icon has no visual representation.\n    applyColour() { }\n    hideForInsertionMarker() { }\n    updateEditable() { }\n    updateCollapsed() { }\n    setOffsetInBlock() { }\n    onClick() { }\n    setBubbleVisible(visible) {\n        return __awaiter(this, void 0, void 0, function* () { });\n    }\n    initView(pointerDownListener) { }\n    /** See IFocusableNode.getFocusableElement. */\n    getFocusableElement() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.getFocusableTree. */\n    getFocusableTree() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.onNodeFocus. */\n    onNodeFocus() { }\n    /** See IFocusableNode.onNodeBlur. */\n    onNodeBlur() { }\n    /** See IFocusableNode.canBeFocused. */\n    canBeFocused() {\n        return false;\n    }\n}\nMoveIcon.type = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.IconType('moveIndicator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL21vdmVfaWNvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztHQUlHOzs7Ozs7Ozs7O0FBRXFDO0FBQ2E7QUFFckQ7O0dBRUc7QUFDSSxNQUFNLFFBQVE7SUFJbkI7Ozs7T0FJRztJQUNILFlBQW9CLFdBQTZCO1FBQTdCLGdCQUFXLEdBQVgsV0FBVyxDQUFrQjtRQUMvQyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksZ0VBQW1CLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRDs7T0FFRztJQUNILE9BQU87UUFDTCxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDdkIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsU0FBUztRQUNQLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDWixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxPQUFPO1FBQ0wsK0RBQStEO1FBQy9ELE9BQU8sSUFBSSwrQ0FBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILG9CQUFvQjtRQUNsQixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsbUJBQW1CO1FBQ2pCLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxlQUFlO1FBQ2IsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxTQUFTO1FBQ1AsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzVCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsZ0JBQWdCLENBQUMsV0FBcUM7O1FBQ3BELFVBQUksQ0FBQyxhQUFhLDBDQUFFLGNBQWMsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRDs7T0FFRztJQUNILE9BQU87O1FBQ0wsVUFBSSxDQUFDLGFBQWEsMENBQUUsT0FBTyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELDBFQUEwRTtJQUMxRSwwRUFBMEU7SUFDMUUsV0FBVyxLQUFJLENBQUM7SUFFaEIsc0JBQXNCLEtBQUksQ0FBQztJQUUzQixjQUFjLEtBQUksQ0FBQztJQUVuQixlQUFlLEtBQUksQ0FBQztJQUVwQixnQkFBZ0IsS0FBSSxDQUFDO0lBRXJCLE9BQU8sS0FBSSxDQUFDO0lBRU4sZ0JBQWdCLENBQUMsT0FBZ0I7OERBQUcsQ0FBQztLQUFBO0lBRTNDLFFBQVEsQ0FBQyxtQkFBOEMsSUFBRyxDQUFDO0lBRTNELDhDQUE4QztJQUM5QyxtQkFBbUI7UUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCwyQ0FBMkM7SUFDM0MsZ0JBQWdCO1FBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxzQ0FBc0M7SUFDdEMsV0FBVyxLQUFVLENBQUM7SUFFdEIscUNBQXFDO0lBQ3JDLFVBQVUsS0FBVSxDQUFDO0lBRXJCLHVDQUF1QztJQUN2QyxZQUFZO1FBQ1YsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDOztBQTlIZSxhQUFJLEdBQUcsSUFBSSwrQ0FBYSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvbW92ZV9pY29uLnRzPzQ1OTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge01vdmVJbmRpY2F0b3JCdWJibGV9IGZyb20gJy4vbW92ZV9pbmRpY2F0b3InO1xuXG4vKipcbiAqIEludmlzaWJsZSBpY29uIHRoYXQgYWN0cyBhcyBhbiBhbmNob3IgZm9yIGEgbW92ZSBpbmRpY2F0b3IgYnViYmxlLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZUljb24gaW1wbGVtZW50cyBCbG9ja2x5LklJY29uLCBCbG9ja2x5LklIYXNCdWJibGUge1xuICBwcml2YXRlIG1vdmVJbmRpY2F0b3I6IE1vdmVJbmRpY2F0b3JCdWJibGU7XG4gIHN0YXRpYyByZWFkb25seSB0eXBlID0gbmV3IEJsb2NrbHkuaWNvbnMuSWNvblR5cGUoJ21vdmVJbmRpY2F0b3InKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBNb3ZlSWNvbiBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHNvdXJjZUJsb2NrIFRoZSBibG9jayB0aGlzIGljb24gaXMgYXR0YWNoZWQgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNvdXJjZUJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gICAgdGhpcy5tb3ZlSW5kaWNhdG9yID0gbmV3IE1vdmVJbmRpY2F0b3JCdWJibGUodGhpcy5zb3VyY2VCbG9jayk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdHlwZSBvZiB0aGlzIGljb24uXG4gICAqL1xuICBnZXRUeXBlKCk6IEJsb2NrbHkuaWNvbnMuSWNvblR5cGU8TW92ZUljb24+IHtcbiAgICByZXR1cm4gTW92ZUljb24udHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB3ZWlnaHQgb2YgdGhpcyBpY29uLCB3aGljaCBjb250cm9scyBpdHMgcG9zaXRpb24gcmVsYXRpdmUgdG9cbiAgICogb3RoZXIgaWNvbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB3ZWlnaHQgb2YgdGhpcyBpY29uLlxuICAgKi9cbiAgZ2V0V2VpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHNpemUgb2YgdGhpcyBpY29uLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHJlY3Qgd2l0aCBuZWdhdGl2ZSB3aWR0aCBhbmQgbm8gaGVpZ2h0IHRvIG9mZnNldCB0aGUgZGVmYXVsdFxuICAgKiAgICAgcGFkZGluZyBhcHBsaWVkIHRvIGljb25zLlxuICAgKi9cbiAgZ2V0U2l6ZSgpOiBCbG9ja2x5LnV0aWxzLlNpemUge1xuICAgIC8vIEF3ZnVsIGhhY2sgdG8gY2FuY2VsIG91dCB0aGUgZGVmYXVsdCBwYWRkaW5nIGFkZGVkIHRvIGljb25zLlxuICAgIHJldHVybiBuZXcgQmxvY2tseS51dGlscy5TaXplKC04LCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBpY29uIGlzIHZpc2libGUgd2hlbiBpdHMgcGFyZW50IGJsb2NrIGlzIGNvbGxhcHNlZC5cbiAgICpcbiAgICogQHJldHVybnMgRmFsc2Ugc2luY2UgdGhpcyBpY29uIGlzIG5ldmVyIHZpc2libGUuXG4gICAqL1xuICBpc1Nob3duV2hlbkNvbGxhcHNlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgaWNvbiBjYW4gYmUgY2xpY2tlZCBpbiB0aGUgZmx5b3V0LlxuICAgKlxuICAgKiBAcmV0dXJucyBGYWxzZSBzaW5jZSB0aGlzIGljb24gaXMgaW52aXNpYmxlIGFuZCBub3QgY2xpY2thYmxlLlxuICAgKi9cbiAgaXNDbGlja2FibGVJbkZseW91dCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgaWNvbidzIGF0dGFjaGVkIGJ1YmJsZSBpcyB2aXNpYmxlLlxuICAgKlxuICAgKiBAcmV0dXJucyBUcnVlIGJlY2F1c2UgdGhpcyBpY29uIG9ubHkgZXhpc3RzIHRvIGhvc3QgaXRzIGJ1YmJsZS5cbiAgICovXG4gIGJ1YmJsZUlzVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoaXMgaWNvbidzIGJ1YmJsZS5cbiAgICovXG4gIGdldEJ1YmJsZSgpOiBCbG9ja2x5LklCdWJibGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5tb3ZlSW5kaWNhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBsb2NhdGlvbiBvZiB0aGlzIGljb24ncyBibG9jayBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tPcmlnaW4gVGhlIG5ldyBsb2NhdGlvbiBvZiB0aGlzIGljb24ncyBibG9jay5cbiAgICovXG4gIG9uTG9jYXRpb25DaGFuZ2UoYmxvY2tPcmlnaW46IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSkge1xuICAgIHRoaXMubW92ZUluZGljYXRvcj8udXBkYXRlTG9jYXRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyBvZiB0aGlzIGljb24uXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIHRoaXMubW92ZUluZGljYXRvcj8uZGlzcG9zZSgpO1xuICB9XG5cbiAgLy8gVGhlc2UgbWV0aG9kcyBhcmUgcmVxdWlyZWQgYnkgdGhlIGludGVyZmFjZXMsIGJ1dCBpbnRlbnRpb25hbGx5IGhhdmUgbm9cbiAgLy8gaW1wbGVtZW50YXRpb24sIGxhcmdlbHkgYmVjYXVzZSB0aGlzIGljb24gaGFzIG5vIHZpc3VhbCByZXByZXNlbnRhdGlvbi5cbiAgYXBwbHlDb2xvdXIoKSB7fVxuXG4gIGhpZGVGb3JJbnNlcnRpb25NYXJrZXIoKSB7fVxuXG4gIHVwZGF0ZUVkaXRhYmxlKCkge31cblxuICB1cGRhdGVDb2xsYXBzZWQoKSB7fVxuXG4gIHNldE9mZnNldEluQmxvY2soKSB7fVxuXG4gIG9uQ2xpY2soKSB7fVxuXG4gIGFzeW5jIHNldEJ1YmJsZVZpc2libGUodmlzaWJsZTogYm9vbGVhbikge31cblxuICBpbml0Vmlldyhwb2ludGVyRG93bkxpc3RlbmVyOiAoZTogUG9pbnRlckV2ZW50KSA9PiB2b2lkKSB7fVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUuZ2V0Rm9jdXNhYmxlRWxlbWVudC4gKi9cbiAgZ2V0Rm9jdXNhYmxlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBub2RlIGlzIG5vdCBmb2N1c2FibGUuJyk7XG4gIH1cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLmdldEZvY3VzYWJsZVRyZWUuICovXG4gIGdldEZvY3VzYWJsZVRyZWUoKTogQmxvY2tseS5JRm9jdXNhYmxlVHJlZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG5vZGUgaXMgbm90IGZvY3VzYWJsZS4nKTtcbiAgfVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUub25Ob2RlRm9jdXMuICovXG4gIG9uTm9kZUZvY3VzKCk6IHZvaWQge31cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLm9uTm9kZUJsdXIuICovXG4gIG9uTm9kZUJsdXIoKTogdm9pZCB7fVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUuY2FuQmVGb2N1c2VkLiAqL1xuICBjYW5CZUZvY3VzZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/move_icon.ts\n");

/***/ }),

/***/ "../../src/move_indicator.ts":
/*!***********************************!*\
  !*** ../../src/move_indicator.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveIndicatorBubble: () => (/* binding */ MoveIndicatorBubble)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Bubble that displays a four-way arrow attached to a block to indicate that\n * it is in move mode.\n */\nclass MoveIndicatorBubble {\n    /**\n     * Creates a new move indicator bubble.\n     *\n     * @param sourceBlock The block this bubble should be associated with.\n     */\n    /* eslint-disable @typescript-eslint/naming-convention */\n    constructor(sourceElement) {\n        this.sourceElement = sourceElement;\n        /**\n         * The location of this bubble in workspace coordinates.\n         */\n        this.location = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0);\n        const workspace = sourceElement.workspace;\n        this.svgRoot = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement(blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Svg.G, {}, workspace.getBubbleCanvas());\n        this.svgRoot.classList.add('blocklyMoveIndicatorBubble');\n        const rtl = workspace.RTL;\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement(blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Svg.CIRCLE, {\n            'fill': 'white',\n            'fill-opacity': '0.8',\n            'stroke': 'grey',\n            'stroke-width': '1',\n            'r': 20,\n            'cx': 20 * (rtl ? -1 : 1),\n            'cy': 20,\n        }, this.svgRoot);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement(blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Svg.PATH, {\n            'fill': 'none',\n            'stroke': 'black',\n            'stroke-linecap': 'round',\n            'stroke-linejoin': 'round',\n            'stroke-width': '2',\n            'd': 'm18 9l3 3l-3 3m-3-3h6M6 9l-3 3l3 3m-3-3h6m0 6l3 3l3-3m-3-3v6m3-15l-3-3l-3 3m3-3v6',\n            'transform': `translate(${(rtl ? -4 : 1) * 8} 8)`,\n        }, this.svgRoot);\n        this.updateLocation();\n    }\n    /**\n     * Returns whether this bubble is movable by the user.\n     *\n     * @returns Always returns false.\n     */\n    isMovable() {\n        return false;\n    }\n    /**\n     * Returns the root SVG element for this bubble.\n     *\n     * @returns The root SVG element.\n     */\n    getSvgRoot() {\n        return this.svgRoot;\n    }\n    /**\n     * Recalculates this bubble's location, keeping it adjacent to its block.\n     */\n    updateLocation() {\n        var _a;\n        const bounds = this.sourceElement instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg\n            ? this.sourceElement.getBoundingRectangleWithoutChildren()\n            : this.sourceElement.getBoundingRectangle();\n        const x = this.sourceElement.workspace.RTL\n            ? bounds.left + 20\n            : bounds.right - 20;\n        const y = bounds.top - 20;\n        this.moveTo(x, y);\n        (_a = this.sourceElement.workspace\n            .getLayerManager()) === null || _a === void 0 ? void 0 : _a.moveToDragLayer(this);\n    }\n    /**\n     * Moves this bubble to the specified location.\n     *\n     * @param x The location on the X axis to move to.\n     * @param y The location on the Y axis to move to.\n     */\n    moveTo(x, y) {\n        this.location.x = x;\n        this.location.y = y;\n        this.svgRoot.setAttribute('transform', `translate(${x}, ${y})`);\n    }\n    /**\n     * Returns this bubble's location in workspace coordinates.\n     *\n     * @returns The bubble's location.\n     */\n    getRelativeToSurfaceXY() {\n        return this.location;\n    }\n    /**\n     * Disposes of this move indicator bubble.\n     */\n    dispose() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.removeNode(this.svgRoot);\n    }\n    // These methods are required by the interfaces, but intentionally have no\n    // implementation, largely because this bubble's location is fixed relative\n    // to its block and is not draggable by the user.\n    showContextMenu() { }\n    setDragging(dragging) { }\n    startDrag(event) { }\n    drag(newLocation, event) { }\n    moveDuringDrag(newLocation) { }\n    endDrag() { }\n    revertDrag() { }\n    setDeleteStyle(enable) { }\n    /** See IFocusableNode.getFocusableElement. */\n    getFocusableElement() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.getFocusableTree. */\n    getFocusableTree() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.onNodeFocus. */\n    onNodeFocus() { }\n    /** See IFocusableNode.onNodeBlur. */\n    onNodeBlur() { }\n    /** See IFocusableNode.canBeFocused. */\n    canBeFocused() {\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL21vdmVfaW5kaWNhdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7R0FJRztBQUVxQztBQUV4Qzs7O0dBR0c7QUFDSSxNQUFNLG1CQUFtQjtJQWE5Qjs7OztPQUlHO0lBQ0gseURBQXlEO0lBQ3pELFlBQ1UsYUFBNEQ7UUFBNUQsa0JBQWEsR0FBYixhQUFhLENBQStDO1FBWnRFOztXQUVHO1FBQ0gsYUFBUSxHQUFHLElBQUksK0NBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBVzVDLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxTQUFpQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxPQUFPLEdBQUcsK0NBQWEsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQy9DLCtDQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDbkIsRUFBRSxFQUNGLFNBQVMsQ0FBQyxlQUFlLEVBQUUsQ0FDNUIsQ0FBQztRQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUM7UUFDMUIsK0NBQWEsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQ2hDLCtDQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFDeEI7WUFDRSxNQUFNLEVBQUUsT0FBTztZQUNmLGNBQWMsRUFBRSxLQUFLO1lBQ3JCLFFBQVEsRUFBRSxNQUFNO1lBQ2hCLGNBQWMsRUFBRSxHQUFHO1lBQ25CLEdBQUcsRUFBRSxFQUFFO1lBQ1AsSUFBSSxFQUFFLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLEVBQUUsRUFBRTtTQUNULEVBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FDYixDQUFDO1FBQ0YsK0NBQWEsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQ2hDLCtDQUFhLENBQUMsR0FBRyxDQUFDLElBQUksRUFDdEI7WUFDRSxNQUFNLEVBQUUsTUFBTTtZQUNkLFFBQVEsRUFBRSxPQUFPO1lBQ2pCLGdCQUFnQixFQUFFLE9BQU87WUFDekIsaUJBQWlCLEVBQUUsT0FBTztZQUMxQixjQUFjLEVBQUUsR0FBRztZQUNuQixHQUFHLEVBQUUsbUZBQW1GO1lBQ3hGLFdBQVcsRUFBRSxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLO1NBQ2xELEVBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FDYixDQUFDO1FBRUYsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsU0FBUztRQUNQLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxVQUFVO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7T0FFRztJQUNILGNBQWM7O1FBQ1osTUFBTSxNQUFNLEdBQ1YsSUFBSSxDQUFDLGFBQWEsWUFBWSxrREFBZ0I7WUFDNUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsbUNBQW1DLEVBQUU7WUFDMUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUNoRCxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHO1lBQ3hDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLEVBQUU7WUFDbEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLE1BQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFrQzthQUNuRCxlQUFlLEVBQUUsMENBQ2hCLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxNQUFNLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILHNCQUFzQjtRQUNwQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTztRQUNMLCtDQUFhLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELDBFQUEwRTtJQUMxRSwyRUFBMkU7SUFDM0UsaURBQWlEO0lBQ2pELGVBQWUsS0FBSSxDQUFDO0lBRXBCLFdBQVcsQ0FBQyxRQUFpQixJQUFHLENBQUM7SUFFakMsU0FBUyxDQUFDLEtBQW1CLElBQUcsQ0FBQztJQUVqQyxJQUFJLENBQUMsV0FBcUMsRUFBRSxLQUFtQixJQUFHLENBQUM7SUFFbkUsY0FBYyxDQUFDLFdBQXFDLElBQUcsQ0FBQztJQUV4RCxPQUFPLEtBQUksQ0FBQztJQUVaLFVBQVUsS0FBSSxDQUFDO0lBRWYsY0FBYyxDQUFDLE1BQWUsSUFBRyxDQUFDO0lBRWxDLDhDQUE4QztJQUM5QyxtQkFBbUI7UUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCwyQ0FBMkM7SUFDM0MsZ0JBQWdCO1FBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxzQ0FBc0M7SUFDdEMsV0FBVyxLQUFVLENBQUM7SUFFdEIscUNBQXFDO0lBQ3JDLFVBQVUsS0FBVSxDQUFDO0lBRXJCLHVDQUF1QztJQUN2QyxZQUFZO1FBQ1YsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL21vdmVfaW5kaWNhdG9yLnRzP2ZhMmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbi8qKlxuICogQnViYmxlIHRoYXQgZGlzcGxheXMgYSBmb3VyLXdheSBhcnJvdyBhdHRhY2hlZCB0byBhIGJsb2NrIHRvIGluZGljYXRlIHRoYXRcbiAqIGl0IGlzIGluIG1vdmUgbW9kZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVJbmRpY2F0b3JCdWJibGVcbiAgaW1wbGVtZW50cyBCbG9ja2x5LklCdWJibGUsIEJsb2NrbHkuSVJlbmRlcmVkRWxlbWVudFxue1xuICAvKipcbiAgICogUm9vdCBTVkcgZWxlbWVudCBmb3IgdGhpcyBidWJibGUuXG4gICAqL1xuICBzdmdSb290OiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogVGhlIGxvY2F0aW9uIG9mIHRoaXMgYnViYmxlIGluIHdvcmtzcGFjZSBjb29yZGluYXRlcy5cbiAgICovXG4gIGxvY2F0aW9uID0gbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSgwLCAwKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBtb3ZlIGluZGljYXRvciBidWJibGUuXG4gICAqXG4gICAqIEBwYXJhbSBzb3VyY2VCbG9jayBUaGUgYmxvY2sgdGhpcyBidWJibGUgc2hvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aC5cbiAgICovXG4gIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHNvdXJjZUVsZW1lbnQ6IEJsb2NrbHkuSVNlbGVjdGFibGUgJiBCbG9ja2x5LklCb3VuZGVkRWxlbWVudCxcbiAgKSB7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gc291cmNlRWxlbWVudC53b3Jrc3BhY2UgYXMgQmxvY2tseS5Xb3Jrc3BhY2VTdmc7XG4gICAgdGhpcy5zdmdSb290ID0gQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcbiAgICAgIEJsb2NrbHkudXRpbHMuU3ZnLkcsXG4gICAgICB7fSxcbiAgICAgIHdvcmtzcGFjZS5nZXRCdWJibGVDYW52YXMoKSxcbiAgICApO1xuICAgIHRoaXMuc3ZnUm9vdC5jbGFzc0xpc3QuYWRkKCdibG9ja2x5TW92ZUluZGljYXRvckJ1YmJsZScpO1xuICAgIGNvbnN0IHJ0bCA9IHdvcmtzcGFjZS5SVEw7XG4gICAgQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcbiAgICAgIEJsb2NrbHkudXRpbHMuU3ZnLkNJUkNMRSxcbiAgICAgIHtcbiAgICAgICAgJ2ZpbGwnOiAnd2hpdGUnLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogJzAuOCcsXG4gICAgICAgICdzdHJva2UnOiAnZ3JleScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMScsXG4gICAgICAgICdyJzogMjAsXG4gICAgICAgICdjeCc6IDIwICogKHJ0bCA/IC0xIDogMSksXG4gICAgICAgICdjeSc6IDIwLFxuICAgICAgfSxcbiAgICAgIHRoaXMuc3ZnUm9vdCxcbiAgICApO1xuICAgIEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXG4gICAgICBCbG9ja2x5LnV0aWxzLlN2Zy5QQVRILFxuICAgICAge1xuICAgICAgICAnZmlsbCc6ICdub25lJyxcbiAgICAgICAgJ3N0cm9rZSc6ICdibGFjaycsXG4gICAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzInLFxuICAgICAgICAnZCc6ICdtMTggOWwzIDNsLTMgM20tMy0zaDZNNiA5bC0zIDNsMyAzbS0zLTNoNm0wIDZsMyAzbDMtM20tMy0zdjZtMy0xNWwtMy0zbC0zIDNtMy0zdjYnLFxuICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZSgkeyhydGwgPyAtNCA6IDEpICogOH0gOClgLFxuICAgICAgfSxcbiAgICAgIHRoaXMuc3ZnUm9vdCxcbiAgICApO1xuXG4gICAgdGhpcy51cGRhdGVMb2NhdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGlzIGJ1YmJsZSBpcyBtb3ZhYmxlIGJ5IHRoZSB1c2VyLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbHdheXMgcmV0dXJucyBmYWxzZS5cbiAgICovXG4gIGlzTW92YWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm9vdCBTVkcgZWxlbWVudCBmb3IgdGhpcyBidWJibGUuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSByb290IFNWRyBlbGVtZW50LlxuICAgKi9cbiAgZ2V0U3ZnUm9vdCgpOiBTVkdHRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuc3ZnUm9vdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNhbGN1bGF0ZXMgdGhpcyBidWJibGUncyBsb2NhdGlvbiwga2VlcGluZyBpdCBhZGphY2VudCB0byBpdHMgYmxvY2suXG4gICAqL1xuICB1cGRhdGVMb2NhdGlvbigpIHtcbiAgICBjb25zdCBib3VuZHMgPVxuICAgICAgdGhpcy5zb3VyY2VFbGVtZW50IGluc3RhbmNlb2YgQmxvY2tseS5CbG9ja1N2Z1xuICAgICAgICA/IHRoaXMuc291cmNlRWxlbWVudC5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhvdXRDaGlsZHJlbigpXG4gICAgICAgIDogdGhpcy5zb3VyY2VFbGVtZW50LmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgY29uc3QgeCA9IHRoaXMuc291cmNlRWxlbWVudC53b3Jrc3BhY2UuUlRMXG4gICAgICA/IGJvdW5kcy5sZWZ0ICsgMjBcbiAgICAgIDogYm91bmRzLnJpZ2h0IC0gMjA7XG4gICAgY29uc3QgeSA9IGJvdW5kcy50b3AgLSAyMDtcbiAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAodGhpcy5zb3VyY2VFbGVtZW50LndvcmtzcGFjZSBhcyBCbG9ja2x5LldvcmtzcGFjZVN2ZylcbiAgICAgIC5nZXRMYXllck1hbmFnZXIoKVxuICAgICAgPy5tb3ZlVG9EcmFnTGF5ZXIodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhpcyBidWJibGUgdG8gdGhlIHNwZWNpZmllZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHggVGhlIGxvY2F0aW9uIG9uIHRoZSBYIGF4aXMgdG8gbW92ZSB0by5cbiAgICogQHBhcmFtIHkgVGhlIGxvY2F0aW9uIG9uIHRoZSBZIGF4aXMgdG8gbW92ZSB0by5cbiAgICovXG4gIG1vdmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMubG9jYXRpb24ueCA9IHg7XG4gICAgdGhpcy5sb2NhdGlvbi55ID0geTtcbiAgICB0aGlzLnN2Z1Jvb3Quc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7eH0sICR7eX0pYCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGlzIGJ1YmJsZSdzIGxvY2F0aW9uIGluIHdvcmtzcGFjZSBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGJ1YmJsZSdzIGxvY2F0aW9uLlxuICAgKi9cbiAgZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpOiBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUge1xuICAgIHJldHVybiB0aGlzLmxvY2F0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIHRoaXMgbW92ZSBpbmRpY2F0b3IgYnViYmxlLlxuICAgKi9cbiAgZGlzcG9zZSgpIHtcbiAgICBCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc3ZnUm9vdCk7XG4gIH1cblxuICAvLyBUaGVzZSBtZXRob2RzIGFyZSByZXF1aXJlZCBieSB0aGUgaW50ZXJmYWNlcywgYnV0IGludGVudGlvbmFsbHkgaGF2ZSBub1xuICAvLyBpbXBsZW1lbnRhdGlvbiwgbGFyZ2VseSBiZWNhdXNlIHRoaXMgYnViYmxlJ3MgbG9jYXRpb24gaXMgZml4ZWQgcmVsYXRpdmVcbiAgLy8gdG8gaXRzIGJsb2NrIGFuZCBpcyBub3QgZHJhZ2dhYmxlIGJ5IHRoZSB1c2VyLlxuICBzaG93Q29udGV4dE1lbnUoKSB7fVxuXG4gIHNldERyYWdnaW5nKGRyYWdnaW5nOiBib29sZWFuKSB7fVxuXG4gIHN0YXJ0RHJhZyhldmVudDogUG9pbnRlckV2ZW50KSB7fVxuXG4gIGRyYWcobmV3TG9jYXRpb246IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSwgZXZlbnQ6IFBvaW50ZXJFdmVudCkge31cblxuICBtb3ZlRHVyaW5nRHJhZyhuZXdMb2NhdGlvbjogQmxvY2tseS51dGlscy5Db29yZGluYXRlKSB7fVxuXG4gIGVuZERyYWcoKSB7fVxuXG4gIHJldmVydERyYWcoKSB7fVxuXG4gIHNldERlbGV0ZVN0eWxlKGVuYWJsZTogYm9vbGVhbikge31cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLmdldEZvY3VzYWJsZUVsZW1lbnQuICovXG4gIGdldEZvY3VzYWJsZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbm9kZSBpcyBub3QgZm9jdXNhYmxlLicpO1xuICB9XG5cbiAgLyoqIFNlZSBJRm9jdXNhYmxlTm9kZS5nZXRGb2N1c2FibGVUcmVlLiAqL1xuICBnZXRGb2N1c2FibGVUcmVlKCk6IEJsb2NrbHkuSUZvY3VzYWJsZVRyZWUge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBub2RlIGlzIG5vdCBmb2N1c2FibGUuJyk7XG4gIH1cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLm9uTm9kZUZvY3VzLiAqL1xuICBvbk5vZGVGb2N1cygpOiB2b2lkIHt9XG5cbiAgLyoqIFNlZSBJRm9jdXNhYmxlTm9kZS5vbk5vZGVCbHVyLiAqL1xuICBvbk5vZGVCbHVyKCk6IHZvaWQge31cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLmNhbkJlRm9jdXNlZC4gKi9cbiAgY2FuQmVGb2N1c2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/move_indicator.ts\n");

/***/ }),

/***/ "../../src/navigation.ts":
/*!*******************************!*\
  !*** ../../src/navigation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Navigation: () => (/* binding */ Navigation)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"../../src/constants.ts\");\n/* harmony import */ var _flyout_cursor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flyout_cursor */ \"../../src/flyout_cursor.ts\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Holds all methods necessary to use Blockly through the\n * keyboard.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n/**\n * Class that holds all methods necessary for keyboard navigation to work.\n */\nclass Navigation {\n    /**\n     * Constructor for keyboard navigation.\n     */\n    constructor() {\n        /**\n         * The list of registered workspaces.\n         * Used when removing change listeners in dispose.\n         */\n        this.workspaces = [];\n        this.wsChangeWrapper = this.workspaceChangeListener.bind(this);\n        this.flyoutChangeWrapper = this.flyoutChangeListener.bind(this);\n    }\n    /**\n     * Adds all necessary change listeners and markers to a workspace for keyboard\n     * navigation to work. This must be called for keyboard navigation to work\n     * on a workspace.\n     *\n     * @param workspace The workspace to add keyboard navigation to.\n     */\n    addWorkspace(workspace) {\n        this.workspaces.push(workspace);\n        const flyout = workspace.getFlyout();\n        workspace.addChangeListener(this.wsChangeWrapper);\n        if (flyout) {\n            this.addFlyout(flyout);\n        }\n    }\n    /**\n     * Removes all keyboard navigation change listeners and markers.\n     *\n     * @param workspace The workspace to remove keyboard navigation from.\n     */\n    removeWorkspace(workspace) {\n        const workspaceIdx = this.workspaces.indexOf(workspace);\n        const flyout = workspace.getFlyout();\n        this.disableKeyboardAccessibility(workspace);\n        if (workspaceIdx > -1) {\n            this.workspaces.splice(workspaceIdx, 1);\n        }\n        workspace.removeChangeListener(this.wsChangeWrapper);\n        if (flyout) {\n            this.removeFlyout(flyout);\n        }\n    }\n    /**\n     * Gets the navigation state of the current workspace.\n     *\n     * Note that this assumes a workspace with passive focus (including for its\n     * toolbox or flyout) has a state of NOWHERE.\n     *\n     * @returns The state of the given workspace.\n     */\n    getState() {\n        const focusManager = blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager();\n        if (focusManager.ephemeralFocusTaken()) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.NOWHERE;\n        }\n        const focusedTree = focusManager.getFocusedTree();\n        if (focusedTree instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            if (focusedTree.isFlyout) {\n                return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT;\n            }\n            else {\n                return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE;\n            }\n        }\n        else if (focusedTree instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX;\n        }\n        else if (focusedTree instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Flyout) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT;\n        }\n        // Either a non-Blockly element currently has DOM focus, or a different\n        // workspace holds it.\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.NOWHERE;\n    }\n    /**\n     * Adds all event listeners and cursors to the flyout that are needed for\n     * keyboard navigation to work.\n     *\n     * @param flyout The flyout to add a cursor and change listeners to.\n     */\n    addFlyout(flyout) {\n        const flyoutWorkspace = flyout.getWorkspace();\n        flyoutWorkspace.addChangeListener(this.flyoutChangeWrapper);\n        const FlyoutCursorClass = blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.getClass(_flyout_cursor__WEBPACK_IMPORTED_MODULE_2__.registrationType, _flyout_cursor__WEBPACK_IMPORTED_MODULE_2__.registrationName);\n        if (FlyoutCursorClass) {\n            flyoutWorkspace\n                .getMarkerManager()\n                .setCursor(new FlyoutCursorClass(flyout));\n        }\n    }\n    /**\n     * Removes all change listeners from the flyout that are needed for\n     * keyboard navigation to work.\n     *\n     * @param flyout The flyout to add a cursor and event listeners to.\n     */\n    removeFlyout(flyout) {\n        const flyoutWorkspace = flyout.getWorkspace();\n        flyoutWorkspace.removeChangeListener(this.flyoutChangeWrapper);\n    }\n    /**\n     * Updates the state of keyboard navigation and the position of the cursor\n     * based on workspace events.\n     *\n     * @param e The Blockly event to process.\n     */\n    workspaceChangeListener(e) {\n        if (!e.workspaceId) {\n            return;\n        }\n        const workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Workspace.getById(e.workspaceId);\n        if (!workspace || !workspace.keyboardAccessibilityMode) {\n            return;\n        }\n        if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.BLOCK_CHANGE) {\n            if (e.element === 'mutation') {\n                this.handleBlockMutation(workspace, e);\n            }\n        }\n    }\n    /**\n     * Updates the state of keyboard navigation and the position of the cursor\n     * based on events emitted from the flyout's workspace.\n     *\n     * @param e The Blockly event to process.\n     */\n    flyoutChangeListener(e) {\n        if (!e.workspaceId) {\n            return;\n        }\n        const flyoutWorkspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Workspace.getById(e.workspaceId);\n        const mainWorkspace = flyoutWorkspace === null || flyoutWorkspace === void 0 ? void 0 : flyoutWorkspace.targetWorkspace;\n        if (!mainWorkspace) {\n            return;\n        }\n        const flyout = mainWorkspace.getFlyout();\n        if (!flyout) {\n            return;\n        }\n        // This is called for simple toolboxes and for toolboxes that have a flyout\n        // that does not close. Autoclosing flyouts close before we need to focus\n        // the cursor on the block that was clicked.\n        if (mainWorkspace &&\n            mainWorkspace.keyboardAccessibilityMode &&\n            !flyout.autoClose) {\n            if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.CLICK &&\n                e.targetType === 'block') {\n                const { blockId } = e;\n                if (blockId) {\n                    const block = flyoutWorkspace.getBlockById(blockId);\n                    if (block) {\n                        this.handleBlockClickInFlyout(mainWorkspace, block);\n                    }\n                }\n            }\n            else if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.SELECTED) {\n                const { newElementId } = e;\n                if (newElementId) {\n                    const block = flyoutWorkspace.getBlockById(newElementId);\n                    if (block) {\n                        this.handleBlockClickInFlyout(mainWorkspace, block);\n                    }\n                }\n            }\n        }\n        else if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.BLOCK_CREATE &&\n            this.getState() === _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT) {\n            // When variables are created, that recreates the flyout contents, leaving the\n            // cursor in an invalid state.\n            this.defaultFlyoutCursorIfNeeded(mainWorkspace);\n        }\n    }\n    isFlyoutItemDisposed(node, sourceBlock) {\n        if (sourceBlock === null || sourceBlock === void 0 ? void 0 : sourceBlock.disposed) {\n            return true;\n        }\n        if (node instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton) {\n            return node.getSvgRoot().parentNode === null;\n        }\n        return false;\n    }\n    /**\n     * Moves the cursor to the block level when the block the cursor is on\n     * mutates.\n     *\n     * @param workspace The workspace the cursor belongs\n     *     to.\n     * @param e The Blockly event to process.\n     */\n    handleBlockMutation(workspace, e) {\n        const mutatedBlockId = e.blockId;\n        const cursor = workspace.getCursor();\n        const block = cursor.getSourceBlock();\n        if (block && block.id === mutatedBlockId) {\n            cursor.setCurNode(block);\n        }\n    }\n    /**\n     * Handles when a user clicks on a block in the flyout by moving the cursor\n     * to that stack of blocks and setting the state of navigation to the flyout.\n     *\n     * @param mainWorkspace The workspace the user clicked on.\n     * @param block The block the user clicked on.\n     */\n    handleBlockClickInFlyout(mainWorkspace, block) {\n        var _a;\n        if (!block) {\n            return;\n        }\n        const curNodeBlock = block.isShadow() ? block : block.getParent();\n        if (curNodeBlock) {\n            (_a = this.getFlyoutCursor(mainWorkspace)) === null || _a === void 0 ? void 0 : _a.setCurNode(curNodeBlock);\n        }\n        const flyout = mainWorkspace.getFlyout();\n        if (flyout) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(flyout.getWorkspace());\n        }\n    }\n    /**\n     * Move the flyout cursor to the preferred end if unset (as it is initially despite\n     * the types) or on a disposed item.\n     *\n     * @param workspace The workspace.\n     * @param prefer The preferred default position.\n     * @return true if the cursor location was defaulted.\n     */\n    defaultFlyoutCursorIfNeeded(workspace, prefer = 'first') {\n        const flyout = workspace.getFlyout();\n        if (!flyout)\n            return false;\n        const flyoutCursor = this.getFlyoutCursor(workspace);\n        if (!flyoutCursor)\n            return false;\n        const curNode = flyoutCursor.getCurNode();\n        const sourceBlock = flyoutCursor.getSourceBlock();\n        // If the current node is a child of the flyout, nothing needs to be done.\n        if (curNode &&\n            curNode !== flyout.getWorkspace() &&\n            curNode.getFocusableTree() === flyout.getWorkspace() &&\n            !this.isFlyoutItemDisposed(curNode, sourceBlock)) {\n            return false;\n        }\n        const flyoutContents = flyout.getContents();\n        const defaultFlyoutItem = prefer === 'first'\n            ? flyoutContents[0]\n            : flyoutContents[flyoutContents.length - 1];\n        if (!defaultFlyoutItem)\n            return false;\n        const defaultFlyoutItemElement = defaultFlyoutItem.getElement();\n        flyoutCursor.setCurNode(defaultFlyoutItemElement);\n        return true;\n    }\n    /**\n     * Sets the cursor location when focusing the workspace.\n     * Tries the following, in order, stopping after the first success:\n     *  - Resume editing by returning the cursor to its previous location, if valid.\n     *  - Move the cursor to the top connection point on on the first top block.\n     *  - Move the cursor to the default location on the workspace.\n     *\n     * @param workspace The main Blockly workspace.\n     * @param prefer The preferred default position.\n     * @return true if the cursor location was defaulted.\n     */\n    defaultWorkspaceCursorPositionIfNeeded(workspace, prefer = 'first') {\n        var _a;\n        const topBlocks = workspace.getTopBlocks(true);\n        const cursor = workspace.getCursor();\n        const disposed = (_a = cursor.getSourceBlock()) === null || _a === void 0 ? void 0 : _a.disposed;\n        if (cursor.getCurNode() && !disposed) {\n            // Retain the cursor's previous position since it's set, but only if not\n            // disposed (which can happen when blocks are reloaded).\n            return false;\n        }\n        if (topBlocks.length > 0) {\n            cursor.setCurNode(topBlocks[prefer === 'first' ? 0 : topBlocks.length - 1]);\n        }\n        else {\n            cursor.setCurNode(workspace);\n        }\n        return true;\n    }\n    /**\n     * Gets the cursor on the flyout's workspace.\n     *\n     * @param workspace The main workspace the flyout is on.\n     * @returns The flyout's cursor or null if no flyout exists.\n     */\n    getFlyoutCursor(workspace) {\n        const flyout = workspace.getFlyout();\n        const cursor = flyout ? flyout.getWorkspace().getCursor() : null;\n        return cursor;\n    }\n    /**\n     * Tries to intelligently connect the blocks or connections\n     * represented by the given nodes, based on node types and locations.\n     *\n     * @param stationaryNode The first node to connect.\n     * @param movingBlock The block we're moving.\n     * @returns True if the key was handled; false if something went\n     *     wrong.\n     */\n    findInsertStartPoint(stationaryNode, movingBlock) {\n        var _a, _b, _c, _d;\n        const movingHasOutput = !!movingBlock.outputConnection;\n        if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field) {\n            // Can't connect a block to a field, so try going up to the source block.\n            const sourceBlock = stationaryNode.getSourceBlock();\n            if (!sourceBlock)\n                return null;\n            return this.findInsertStartPoint(sourceBlock, movingBlock);\n        }\n        else if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.RenderedConnection) {\n            // Move to the block if we're trying to insert a statement block into\n            // a value connection.\n            if (!movingHasOutput &&\n                stationaryNode.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE) {\n                const sourceBlock = stationaryNode.getSourceBlock();\n                if (!sourceBlock)\n                    return null;\n                return this.findInsertStartPoint(sourceBlock, movingBlock);\n            }\n            // Connect the moving block to the stationary connection using\n            // the most plausible connection on the moving block.\n            return stationaryNode;\n        }\n        else if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            return null;\n        }\n        else if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            // 1. Connect blocks to first compatible input\n            const inputType = movingHasOutput\n                ? blockly_core__WEBPACK_IMPORTED_MODULE_0__.inputs.inputTypes.VALUE\n                : blockly_core__WEBPACK_IMPORTED_MODULE_0__.inputs.inputTypes.STATEMENT;\n            const compatibleConnections = stationaryNode.inputList\n                .filter((input) => input.type === inputType)\n                .map((input) => input.connection);\n            for (const connection of compatibleConnections) {\n                let targetConnection = connection;\n                if (inputType === blockly_core__WEBPACK_IMPORTED_MODULE_0__.inputs.inputTypes.STATEMENT) {\n                    while ((_a = targetConnection === null || targetConnection === void 0 ? void 0 : targetConnection.targetBlock()) === null || _a === void 0 ? void 0 : _a.nextConnection) {\n                        targetConnection = (_b = targetConnection === null || targetConnection === void 0 ? void 0 : targetConnection.targetBlock()) === null || _b === void 0 ? void 0 : _b.nextConnection;\n                    }\n                }\n                if (targetConnection &&\n                    movingBlock.workspace.connectionChecker.canConnect(movingHasOutput\n                        ? movingBlock.outputConnection\n                        : movingBlock.previousConnection, targetConnection, true, \n                    // Since we're connecting programmatically, we don't care how\n                    // close the blocks are when determining if they can be connected.\n                    Infinity)) {\n                    return targetConnection;\n                }\n            }\n            // 2. Connect statement blocks to next connection. Only return a next\n            // connection to which the statement block can actually connect; some\n            // may be ineligible because they are e.g. in the middle of an immovable\n            // stack.\n            if (stationaryNode.nextConnection && !movingHasOutput) {\n                let nextConnection = stationaryNode.nextConnection;\n                while (nextConnection) {\n                    if (movingBlock.workspace.connectionChecker.canConnect(movingBlock.previousConnection, nextConnection, true, \n                    // Since we're connecting programmatically, we don't care how\n                    // close the blocks are when determining if they can be connected.\n                    Infinity)) {\n                        return nextConnection;\n                    }\n                    nextConnection =\n                        (_d = (_c = nextConnection.getSourceBlock().getNextBlock()) === null || _c === void 0 ? void 0 : _c.nextConnection) !== null && _d !== void 0 ? _d : null;\n                }\n            }\n            // 3. Output connection. This will wrap around or displace.\n            if (stationaryNode.outputConnection) {\n                // Try to wrap.\n                const target = stationaryNode.outputConnection.targetConnection;\n                if (movingHasOutput && target) {\n                    return this.findInsertStartPoint(target, movingBlock);\n                }\n                else if (!movingHasOutput) {\n                    // Move to parent if we're trying to insert a statement block.\n                    const parent = stationaryNode.getParent();\n                    if (!parent)\n                        return null;\n                    return this.findInsertStartPoint(parent, movingBlock);\n                }\n                return stationaryNode.outputConnection;\n            }\n        }\n        this.warn(`Unexpected case in findInsertStartPoint ${stationaryNode}.`);\n        return null;\n    }\n    /**\n     * Tries to intelligently connect the blocks or connections\n     * represented by the given nodes, based on node types and locations.\n     *\n     * @param stationaryNode The first node to connect.\n     * @param movingBlock The block we're moving.\n     * @returns True if the connection was successful, false otherwise.\n     */\n    tryToConnectBlock(stationaryNode, movingBlock) {\n        const destConnection = this.findInsertStartPoint(stationaryNode, movingBlock);\n        if (!destConnection)\n            return false;\n        return this.insertBlock(movingBlock, destConnection);\n    }\n    /**\n     * Disconnects the child block from its parent block. No-op if the two given\n     * connections are unrelated.\n     *\n     * @param movingConnection The connection that is being moved.\n     * @param destConnection The connection to be moved to.\n     */\n    disconnectChild(movingConnection, destConnection) {\n        const movingBlock = movingConnection.getSourceBlock();\n        const destBlock = destConnection.getSourceBlock();\n        let inferiorConnection;\n        if (movingBlock.getRootBlock() === destBlock.getRootBlock()) {\n            if (movingBlock.getDescendants(false).includes(destBlock)) {\n                inferiorConnection = this.getInferiorConnection(destConnection);\n                if (inferiorConnection) {\n                    inferiorConnection.disconnect();\n                }\n            }\n            else {\n                inferiorConnection = this.getInferiorConnection(movingConnection);\n                if (inferiorConnection) {\n                    inferiorConnection.disconnect();\n                }\n            }\n        }\n    }\n    /**\n     * Tries to connect the  given connections.\n     *\n     * If the given connections are not compatible try finding compatible\n     * connections on the source blocks of the given connections.\n     *\n     * @param movingConnection The connection that is being moved.\n     * @param destConnection The connection to be moved to.\n     * @returns True if the two connections or their target connections\n     *     were connected, false otherwise.\n     */\n    connect(movingConnection, destConnection) {\n        if (!movingConnection || !destConnection) {\n            return false;\n        }\n        const movingInferior = this.getInferiorConnection(movingConnection);\n        const destSuperior = this.getSuperiorConnection(destConnection);\n        const movingSuperior = this.getSuperiorConnection(movingConnection);\n        const destInferior = this.getInferiorConnection(destConnection);\n        if (movingInferior &&\n            destSuperior &&\n            this.moveAndConnect(movingInferior, destSuperior)) {\n            return true;\n            // Try swapping the inferior and superior connections on the blocks.\n        }\n        else if (movingSuperior &&\n            destInferior &&\n            this.moveAndConnect(movingSuperior, destInferior)) {\n            return true;\n        }\n        else if (this.moveAndConnect(movingConnection, destConnection)) {\n            return true;\n        }\n        else {\n            const checker = movingConnection.getConnectionChecker();\n            const reason = checker.canConnectWithReason(movingConnection, destConnection, false);\n            this.warn('Connection failed with error: ' +\n                checker.getErrorMessage(reason, movingConnection, destConnection));\n            return false;\n        }\n    }\n    /**\n     * Finds the inferior connection on the source block if the given connection\n     * is superior.\n     *\n     * @param connection The connection trying to be connected.\n     * @returns The inferior connection or null if none exists.\n     */\n    getInferiorConnection(connection) {\n        if (!connection) {\n            return null;\n        }\n        const block = connection.getSourceBlock();\n        if (!connection.isSuperior()) {\n            return connection;\n        }\n        else if (block.previousConnection) {\n            return block.previousConnection;\n        }\n        else if (block.outputConnection) {\n            return block.outputConnection;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Finds a superior connection on the source block if the given connection is\n     * inferior.\n     *\n     * @param connection The connection trying to be connected.\n     * @returns The superior connection or null if none exists.\n     */\n    getSuperiorConnection(connection) {\n        if (!connection) {\n            return null;\n        }\n        if (connection.isSuperior()) {\n            return connection;\n        }\n        else if (connection.targetConnection) {\n            return connection.targetConnection;\n        }\n        return null;\n    }\n    /**\n     * Moves the moving connection to the target connection and connects them.\n     *\n     * @param movingConnection The connection that is being moved.\n     * @param destConnection The connection to be moved to.\n     * @returns True if the connections were connected, false otherwise.\n     */\n    moveAndConnect(movingConnection, destConnection) {\n        if (!movingConnection || !destConnection) {\n            return false;\n        }\n        const movingBlock = movingConnection.getSourceBlock();\n        const checker = movingConnection.getConnectionChecker();\n        if (checker.canConnect(movingConnection, destConnection, false) &&\n            !destConnection.getSourceBlock().isShadow()) {\n            this.disconnectChild(movingConnection, destConnection);\n            // Position the root block near the connection so it does not move the\n            // other block when they are connected.\n            if (!destConnection.isSuperior()) {\n                const rootBlock = movingBlock.getRootBlock();\n                const originalOffsetToTarget = {\n                    x: destConnection.x - movingConnection.x,\n                    y: destConnection.y - movingConnection.y,\n                };\n                const originalOffsetInBlock = movingConnection\n                    .getOffsetInBlock()\n                    .clone();\n                rootBlock.positionNearConnection(movingConnection, originalOffsetToTarget, originalOffsetInBlock);\n            }\n            destConnection.connect(movingConnection);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Tries to connect the given block to the destination connection, making an\n     * intelligent guess about which connection to use on the moving block.\n     *\n     * @param block The block to move.\n     * @param destConnection The connection to\n     *     connect to.\n     * @returns Whether the connection was successful.\n     */\n    insertBlock(block, destConnection) {\n        switch (destConnection.type) {\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.PREVIOUS_STATEMENT:\n                if (this.connect(block.nextConnection, destConnection)) {\n                    return true;\n                }\n                break;\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.NEXT_STATEMENT:\n                if (this.connect(block.previousConnection, destConnection)) {\n                    return true;\n                }\n                break;\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.INPUT_VALUE:\n                if (this.connect(block.outputConnection, destConnection)) {\n                    return true;\n                }\n                break;\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.OUTPUT_VALUE:\n                for (let i = 0; i < block.inputList.length; i++) {\n                    const inputConnection = block.inputList[i].connection;\n                    if (inputConnection &&\n                        inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.INPUT_VALUE &&\n                        this.connect(inputConnection, destConnection)) {\n                        return true;\n                    }\n                }\n                // If there are no input values pass the output and destination\n                // connections to connect_ to find a way to connect the two.\n                if (block.outputConnection &&\n                    this.connect(block.outputConnection, destConnection)) {\n                    return true;\n                }\n                break;\n        }\n        this.warn('This block can not be inserted at the marked location.');\n        return false;\n    }\n    /**\n     * Enables accessibility mode.\n     *\n     * @param workspace The workspace to enable keyboard\n     *     accessibility mode on.\n     */\n    enableKeyboardAccessibility(workspace) {\n        if (this.workspaces.includes(workspace) &&\n            !workspace.keyboardAccessibilityMode) {\n            workspace.keyboardAccessibilityMode = true;\n        }\n    }\n    /**\n     * Disables accessibility mode.\n     *\n     * @param workspace The workspace to disable keyboard\n     *     accessibility mode on.\n     */\n    disableKeyboardAccessibility(workspace) {\n        if (this.workspaces.includes(workspace) &&\n            workspace.keyboardAccessibilityMode) {\n            workspace.keyboardAccessibilityMode = false;\n        }\n    }\n    /**\n     * Navigation log handler. If loggingCallback is defined, use it.\n     * Otherwise just log to the console.log.\n     *\n     * @param msg The message to log.\n     */\n    log(msg) {\n        console.log(msg);\n    }\n    /**\n     * Navigation warning handler. If loggingCallback is defined, use it.\n     * Otherwise call console.warn.\n     *\n     * @param msg The warning message.\n     */\n    warn(msg) {\n        console.warn(msg);\n    }\n    /**\n     * Navigation error handler. If loggingCallback is defined, use it.\n     * Otherwise call console.error.\n     *\n     * @param msg The error message.\n     */\n    error(msg) {\n        console.error(msg);\n    }\n    /**\n     * Save the current cursor location and open the toolbox or flyout\n     * to select and insert a block.\n     *\n     * @param workspace The active workspace.\n     */\n    openToolboxOrFlyout(workspace) {\n        const toolbox = workspace.getToolbox();\n        const flyout = workspace.getFlyout();\n        if (toolbox) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(toolbox);\n        }\n        else if (flyout) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(flyout.getWorkspace());\n        }\n    }\n    /**\n     * Pastes the copied block to the marked location if possible or\n     * onto the workspace otherwise.\n     *\n     * @param copyData The data to paste into the workspace.\n     * @param workspace The workspace to paste the data into.\n     * @returns True if the paste was sucessful, false otherwise.\n     */\n    paste(copyData, workspace) {\n        // Do this before clipoard.paste due to cursor/focus workaround in getCurNode.\n        const targetNode = workspace.getCursor().getCurNode();\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        const block = blockly_core__WEBPACK_IMPORTED_MODULE_0__.clipboard.paste(copyData, workspace);\n        if (block) {\n            if (targetNode) {\n                this.tryToConnectBlock(targetNode, block);\n            }\n            return true;\n        }\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(false);\n        return false;\n    }\n    /**\n     * Determines whether keyboard navigation should be allowed based on the\n     * current state of the workspace.\n     *\n     * A return value of 'true' generally indicates that either the workspace,\n     * toolbox or flyout has enabled keyboard navigation and is currently in a\n     * state (e.g. focus) that can support keyboard navigation.\n     *\n     * @param workspace the workspace in which keyboard navigation may be allowed.\n     * @returns whether keyboard navigation is currently allowed.\n     */\n    canCurrentlyNavigate(workspace) {\n        var _a, _b, _c, _d;\n        // Only the main/root workspace has the accessibility mode bit set; for\n        // nested workspaces (mutators or flyouts) we need to walk up the tree.\n        // Default to the root workspace if present. Flyouts don't consider\n        // their workspaces to have a root workspace/be a nested child, so fall\n        // back to checking the target workspace's root (`.targetWorkspace` only\n        // exists on flyout workspaces) and then fall back to the target/main\n        // workspace itself.\n        const accessibilityMode = ((_d = (_c = (_a = workspace.getRootWorkspace()) !== null && _a !== void 0 ? _a : (_b = workspace.targetWorkspace) === null || _b === void 0 ? void 0 : _b.getRootWorkspace()) !== null && _c !== void 0 ? _c : workspace.targetWorkspace) !== null && _d !== void 0 ? _d : workspace).keyboardAccessibilityMode;\n        return !!accessibilityMode && this.getState() !== _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.NOWHERE;\n    }\n    /**\n     * Determines whether the provided workspace is currently keyboard navigable\n     * and editable.\n     *\n     * For the navigability criteria, see canCurrentlyKeyboardNavigate.\n     *\n     * @param workspace the workspace in which keyboard editing may be allowed.\n     * @returns whether keyboard navigation and editing is currently allowed.\n     */\n    canCurrentlyEdit(workspace) {\n        return this.canCurrentlyNavigate(workspace) && !workspace.isReadOnly();\n    }\n    /**\n     * Removes the change listeners on all registered workspaces.\n     */\n    dispose() {\n        for (const workspace of this.workspaces) {\n            this.removeWorkspace(workspace);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUErQjs7UUFDbEQsdUVBQXVFO1FBQ3ZFLHVFQUF1RTtRQUN2RSxtRUFBbUU7UUFDbkUsdUVBQXVFO1FBQ3ZFLHdFQUF3RTtRQUN4RSxxRUFBcUU7UUFDckUsb0JBQW9CO1FBQ3BCLE1BQU0saUJBQWlCLEdBQUcsQ0FDeEIsMkJBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxtQ0FDNUIsZUFBUyxDQUFDLGVBQWUsMENBQUUsZ0JBQWdCLEVBQUUsbUNBQzdDLFNBQVMsQ0FBQyxlQUFlLG1DQUN6QixTQUFTLENBQ1YsQ0FBQyx5QkFBeUIsQ0FBQztRQUM1QixPQUFPLENBQUMsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssNkNBQWUsQ0FBQyxPQUFPLENBQUM7SUFDNUUsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0gsZ0JBQWdCLENBQUMsU0FBK0I7UUFDOUMsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDekUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTztRQUNMLEtBQUssTUFBTSxTQUFTLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvbmF2aWdhdGlvbi50cz82NWMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEhvbGRzIGFsbCBtZXRob2RzIG5lY2Vzc2FyeSB0byB1c2UgQmxvY2tseSB0aHJvdWdoIHRoZVxuICoga2V5Ym9hcmQuXG4gKiBAYXV0aG9yIGFzY2htaWVkdEBnb29nbGUuY29tIChBYmJ5IFNjaG1pZWR0KVxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICByZWdpc3RyYXRpb25OYW1lIGFzIGN1cnNvclJlZ2lzdHJhdGlvbk5hbWUsXG4gIHJlZ2lzdHJhdGlvblR5cGUgYXMgY3Vyc29yUmVnaXN0cmF0aW9uVHlwZSxcbn0gZnJvbSAnLi9mbHlvdXRfY3Vyc29yJztcblxuLyoqXG4gKiBDbGFzcyB0aGF0IGhvbGRzIGFsbCBtZXRob2RzIG5lY2Vzc2FyeSBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byB3b3JrLlxuICovXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbiB7XG4gIC8qKlxuICAgKiBXcmFwcGVyIGZvciBtZXRob2QgdGhhdCBkZWFscyB3aXRoIHdvcmtzcGFjZSBjaGFuZ2VzLlxuICAgKiBVc2VkIGZvciByZW1vdmluZyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgd3NDaGFuZ2VXcmFwcGVyOiAoZTogQmxvY2tseS5FdmVudHMuQWJzdHJhY3QpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFdyYXBwZXIgZm9yIG1ldGhvZCB0aGF0IGRlYWxzIHdpdGggZmx5b3V0IGNoYW5nZXMuXG4gICAqIFVzZWQgZm9yIHJlbW92aW5nIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG4gIHByb3RlY3RlZCBmbHlvdXRDaGFuZ2VXcmFwcGVyOiAoZTogQmxvY2tseS5FdmVudHMuQWJzdHJhY3QpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHJlZ2lzdGVyZWQgd29ya3NwYWNlcy5cbiAgICogVXNlZCB3aGVuIHJlbW92aW5nIGNoYW5nZSBsaXN0ZW5lcnMgaW4gZGlzcG9zZS5cbiAgICovXG4gIHByb3RlY3RlZCB3b3Jrc3BhY2VzOiBCbG9ja2x5LldvcmtzcGFjZVN2Z1tdID0gW107XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy53c0NoYW5nZVdyYXBwZXIgPSB0aGlzLndvcmtzcGFjZUNoYW5nZUxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5mbHlvdXRDaGFuZ2VXcmFwcGVyID0gdGhpcy5mbHlvdXRDaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYWxsIG5lY2Vzc2FyeSBjaGFuZ2UgbGlzdGVuZXJzIGFuZCBtYXJrZXJzIHRvIGEgd29ya3NwYWNlIGZvciBrZXlib2FyZFxuICAgKiBuYXZpZ2F0aW9uIHRvIHdvcmsuIFRoaXMgbXVzdCBiZSBjYWxsZWQgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24gdG8gd29ya1xuICAgKiBvbiBhIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGFkZCBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvLlxuICAgKi9cbiAgYWRkV29ya3NwYWNlKHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcpIHtcbiAgICB0aGlzLndvcmtzcGFjZXMucHVzaCh3b3Jrc3BhY2UpO1xuICAgIGNvbnN0IGZseW91dCA9IHdvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICB3b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy53c0NoYW5nZVdyYXBwZXIpO1xuXG4gICAgaWYgKGZseW91dCkge1xuICAgICAgdGhpcy5hZGRGbHlvdXQoZmx5b3V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwga2V5Ym9hcmQgbmF2aWdhdGlvbiBjaGFuZ2UgbGlzdGVuZXJzIGFuZCBtYXJrZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gcmVtb3ZlIGtleWJvYXJkIG5hdmlnYXRpb24gZnJvbS5cbiAgICovXG4gIHJlbW92ZVdvcmtzcGFjZSh3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgY29uc3Qgd29ya3NwYWNlSWR4ID0gdGhpcy53b3Jrc3BhY2VzLmluZGV4T2Yod29ya3NwYWNlKTtcbiAgICBjb25zdCBmbHlvdXQgPSB3b3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgdGhpcy5kaXNhYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KHdvcmtzcGFjZSk7XG5cbiAgICBpZiAod29ya3NwYWNlSWR4ID4gLTEpIHtcbiAgICAgIHRoaXMud29ya3NwYWNlcy5zcGxpY2Uod29ya3NwYWNlSWR4LCAxKTtcbiAgICB9XG4gICAgd29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMud3NDaGFuZ2VXcmFwcGVyKTtcblxuICAgIGlmIChmbHlvdXQpIHtcbiAgICAgIHRoaXMucmVtb3ZlRmx5b3V0KGZseW91dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG5hdmlnYXRpb24gc3RhdGUgb2YgdGhlIGN1cnJlbnQgd29ya3NwYWNlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhpcyBhc3N1bWVzIGEgd29ya3NwYWNlIHdpdGggcGFzc2l2ZSBmb2N1cyAoaW5jbHVkaW5nIGZvciBpdHNcbiAgICogdG9vbGJveCBvciBmbHlvdXQpIGhhcyBhIHN0YXRlIG9mIE5PV0hFUkUuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBzdGF0ZSBvZiB0aGUgZ2l2ZW4gd29ya3NwYWNlLlxuICAgKi9cbiAgZ2V0U3RhdGUoKTogQ29uc3RhbnRzLlNUQVRFIHtcbiAgICBjb25zdCBmb2N1c01hbmFnZXIgPSBCbG9ja2x5LmdldEZvY3VzTWFuYWdlcigpO1xuICAgIGlmIChmb2N1c01hbmFnZXIuZXBoZW1lcmFsRm9jdXNUYWtlbigpKSB7XG4gICAgICByZXR1cm4gQ29uc3RhbnRzLlNUQVRFLk5PV0hFUkU7XG4gICAgfVxuXG4gICAgY29uc3QgZm9jdXNlZFRyZWUgPSBmb2N1c01hbmFnZXIuZ2V0Rm9jdXNlZFRyZWUoKTtcbiAgICBpZiAoZm9jdXNlZFRyZWUgaW5zdGFuY2VvZiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgICAgaWYgKGZvY3VzZWRUcmVlLmlzRmx5b3V0KSB7XG4gICAgICAgIHJldHVybiBDb25zdGFudHMuU1RBVEUuRkxZT1VUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmb2N1c2VkVHJlZSBpbnN0YW5jZW9mIEJsb2NrbHkuVG9vbGJveCkge1xuICAgICAgcmV0dXJuIENvbnN0YW50cy5TVEFURS5UT09MQk9YO1xuICAgIH0gZWxzZSBpZiAoZm9jdXNlZFRyZWUgaW5zdGFuY2VvZiBCbG9ja2x5LkZseW91dCkge1xuICAgICAgcmV0dXJuIENvbnN0YW50cy5TVEFURS5GTFlPVVQ7XG4gICAgfVxuICAgIC8vIEVpdGhlciBhIG5vbi1CbG9ja2x5IGVsZW1lbnQgY3VycmVudGx5IGhhcyBET00gZm9jdXMsIG9yIGEgZGlmZmVyZW50XG4gICAgLy8gd29ya3NwYWNlIGhvbGRzIGl0LlxuICAgIHJldHVybiBDb25zdGFudHMuU1RBVEUuTk9XSEVSRTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFsbCBldmVudCBsaXN0ZW5lcnMgYW5kIGN1cnNvcnMgdG8gdGhlIGZseW91dCB0aGF0IGFyZSBuZWVkZWQgZm9yXG4gICAqIGtleWJvYXJkIG5hdmlnYXRpb24gdG8gd29yay5cbiAgICpcbiAgICogQHBhcmFtIGZseW91dCBUaGUgZmx5b3V0IHRvIGFkZCBhIGN1cnNvciBhbmQgY2hhbmdlIGxpc3RlbmVycyB0by5cbiAgICovXG4gIGFkZEZseW91dChmbHlvdXQ6IEJsb2NrbHkuSUZseW91dCkge1xuICAgIGNvbnN0IGZseW91dFdvcmtzcGFjZSA9IGZseW91dC5nZXRXb3Jrc3BhY2UoKTtcbiAgICBmbHlvdXRXb3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5mbHlvdXRDaGFuZ2VXcmFwcGVyKTtcbiAgICBjb25zdCBGbHlvdXRDdXJzb3JDbGFzcyA9IEJsb2NrbHkucmVnaXN0cnkuZ2V0Q2xhc3MoXG4gICAgICBjdXJzb3JSZWdpc3RyYXRpb25UeXBlLFxuICAgICAgY3Vyc29yUmVnaXN0cmF0aW9uTmFtZSxcbiAgICApO1xuICAgIGlmIChGbHlvdXRDdXJzb3JDbGFzcykge1xuICAgICAgZmx5b3V0V29ya3NwYWNlXG4gICAgICAgIC5nZXRNYXJrZXJNYW5hZ2VyKClcbiAgICAgICAgLnNldEN1cnNvcihuZXcgRmx5b3V0Q3Vyc29yQ2xhc3MoZmx5b3V0KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGNoYW5nZSBsaXN0ZW5lcnMgZnJvbSB0aGUgZmx5b3V0IHRoYXQgYXJlIG5lZWRlZCBmb3JcbiAgICoga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byB3b3JrLlxuICAgKlxuICAgKiBAcGFyYW0gZmx5b3V0IFRoZSBmbHlvdXQgdG8gYWRkIGEgY3Vyc29yIGFuZCBldmVudCBsaXN0ZW5lcnMgdG8uXG4gICAqL1xuICByZW1vdmVGbHlvdXQoZmx5b3V0OiBCbG9ja2x5LklGbHlvdXQpIHtcbiAgICBjb25zdCBmbHlvdXRXb3Jrc3BhY2UgPSBmbHlvdXQuZ2V0V29ya3NwYWNlKCk7XG4gICAgZmx5b3V0V29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuZmx5b3V0Q2hhbmdlV3JhcHBlcik7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2Yga2V5Ym9hcmQgbmF2aWdhdGlvbiBhbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBjdXJzb3JcbiAgICogYmFzZWQgb24gd29ya3NwYWNlIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIGUgVGhlIEJsb2NrbHkgZXZlbnQgdG8gcHJvY2Vzcy5cbiAgICovXG4gIHdvcmtzcGFjZUNoYW5nZUxpc3RlbmVyKGU6IEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0KSB7XG4gICAgaWYgKCFlLndvcmtzcGFjZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IEJsb2NrbHkuV29ya3NwYWNlLmdldEJ5SWQoXG4gICAgICBlLndvcmtzcGFjZUlkLFxuICAgICkgYXMgQmxvY2tseS5Xb3Jrc3BhY2VTdmc7XG4gICAgaWYgKCF3b3Jrc3BhY2UgfHwgIXdvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLkJMT0NLX0NIQU5HRSkge1xuICAgICAgaWYgKChlIGFzIEJsb2NrbHkuRXZlbnRzLkJsb2NrQ2hhbmdlKS5lbGVtZW50ID09PSAnbXV0YXRpb24nKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQmxvY2tNdXRhdGlvbih3b3Jrc3BhY2UsIGUgYXMgQmxvY2tseS5FdmVudHMuQmxvY2tDaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBrZXlib2FyZCBuYXZpZ2F0aW9uIGFuZCB0aGUgcG9zaXRpb24gb2YgdGhlIGN1cnNvclxuICAgKiBiYXNlZCBvbiBldmVudHMgZW1pdHRlZCBmcm9tIHRoZSBmbHlvdXQncyB3b3Jrc3BhY2UuXG4gICAqXG4gICAqIEBwYXJhbSBlIFRoZSBCbG9ja2x5IGV2ZW50IHRvIHByb2Nlc3MuXG4gICAqL1xuICBmbHlvdXRDaGFuZ2VMaXN0ZW5lcihlOiBCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdCkge1xuICAgIGlmICghZS53b3Jrc3BhY2VJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmbHlvdXRXb3Jrc3BhY2UgPSBCbG9ja2x5LldvcmtzcGFjZS5nZXRCeUlkKFxuICAgICAgZS53b3Jrc3BhY2VJZCxcbiAgICApIGFzIEJsb2NrbHkuV29ya3NwYWNlU3ZnIHwgbnVsbDtcbiAgICBjb25zdCBtYWluV29ya3NwYWNlID0gZmx5b3V0V29ya3NwYWNlPy50YXJnZXRXb3Jrc3BhY2U7XG4gICAgaWYgKCFtYWluV29ya3NwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZseW91dCA9IG1haW5Xb3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgaWYgKCFmbHlvdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGNhbGxlZCBmb3Igc2ltcGxlIHRvb2xib3hlcyBhbmQgZm9yIHRvb2xib3hlcyB0aGF0IGhhdmUgYSBmbHlvdXRcbiAgICAvLyB0aGF0IGRvZXMgbm90IGNsb3NlLiBBdXRvY2xvc2luZyBmbHlvdXRzIGNsb3NlIGJlZm9yZSB3ZSBuZWVkIHRvIGZvY3VzXG4gICAgLy8gdGhlIGN1cnNvciBvbiB0aGUgYmxvY2sgdGhhdCB3YXMgY2xpY2tlZC5cbiAgICBpZiAoXG4gICAgICBtYWluV29ya3NwYWNlICYmXG4gICAgICBtYWluV29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUgJiZcbiAgICAgICFmbHlvdXQuYXV0b0Nsb3NlXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGUudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuQ0xJQ0sgJiZcbiAgICAgICAgKGUgYXMgQmxvY2tseS5FdmVudHMuQ2xpY2spLnRhcmdldFR5cGUgPT09ICdibG9jaydcbiAgICAgICkge1xuICAgICAgICBjb25zdCB7YmxvY2tJZH0gPSBlIGFzIEJsb2NrbHkuRXZlbnRzLkNsaWNrO1xuICAgICAgICBpZiAoYmxvY2tJZCkge1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gZmx5b3V0V29ya3NwYWNlLmdldEJsb2NrQnlJZChibG9ja0lkKTtcbiAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQmxvY2tDbGlja0luRmx5b3V0KG1haW5Xb3Jrc3BhY2UsIGJsb2NrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5TRUxFQ1RFRCkge1xuICAgICAgICBjb25zdCB7bmV3RWxlbWVudElkfSA9IGUgYXMgQmxvY2tseS5FdmVudHMuU2VsZWN0ZWQ7XG4gICAgICAgIGlmIChuZXdFbGVtZW50SWQpIHtcbiAgICAgICAgICBjb25zdCBibG9jayA9IGZseW91dFdvcmtzcGFjZS5nZXRCbG9ja0J5SWQobmV3RWxlbWVudElkKTtcbiAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQmxvY2tDbGlja0luRmx5b3V0KG1haW5Xb3Jrc3BhY2UsIGJsb2NrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZS50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5CTE9DS19DUkVBVEUgJiZcbiAgICAgIHRoaXMuZ2V0U3RhdGUoKSA9PT0gQ29uc3RhbnRzLlNUQVRFLkZMWU9VVFxuICAgICkge1xuICAgICAgLy8gV2hlbiB2YXJpYWJsZXMgYXJlIGNyZWF0ZWQsIHRoYXQgcmVjcmVhdGVzIHRoZSBmbHlvdXQgY29udGVudHMsIGxlYXZpbmcgdGhlXG4gICAgICAvLyBjdXJzb3IgaW4gYW4gaW52YWxpZCBzdGF0ZS5cbiAgICAgIHRoaXMuZGVmYXVsdEZseW91dEN1cnNvcklmTmVlZGVkKG1haW5Xb3Jrc3BhY2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaXNGbHlvdXRJdGVtRGlzcG9zZWQoXG4gICAgbm9kZTogQmxvY2tseS5JRm9jdXNhYmxlTm9kZSxcbiAgICBzb3VyY2VCbG9jazogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwsXG4gICkge1xuICAgIGlmIChzb3VyY2VCbG9jaz8uZGlzcG9zZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEJsb2NrbHkuRmx5b3V0QnV0dG9uKSB7XG4gICAgICByZXR1cm4gbm9kZS5nZXRTdmdSb290KCkucGFyZW50Tm9kZSA9PT0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGJsb2NrIGxldmVsIHdoZW4gdGhlIGJsb2NrIHRoZSBjdXJzb3IgaXMgb25cbiAgICogbXV0YXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRoZSBjdXJzb3IgYmVsb25nc1xuICAgKiAgICAgdG8uXG4gICAqIEBwYXJhbSBlIFRoZSBCbG9ja2x5IGV2ZW50IHRvIHByb2Nlc3MuXG4gICAqL1xuICBoYW5kbGVCbG9ja011dGF0aW9uKFxuICAgIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4gICAgZTogQmxvY2tseS5FdmVudHMuQmxvY2tDaGFuZ2UsXG4gICkge1xuICAgIGNvbnN0IG11dGF0ZWRCbG9ja0lkID0gZS5ibG9ja0lkO1xuICAgIGNvbnN0IGN1cnNvciA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKTtcbiAgICBjb25zdCBibG9jayA9IGN1cnNvci5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGlmIChibG9jayAmJiBibG9jay5pZCA9PT0gbXV0YXRlZEJsb2NrSWQpIHtcbiAgICAgIGN1cnNvci5zZXRDdXJOb2RlKGJsb2NrKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB3aGVuIGEgdXNlciBjbGlja3Mgb24gYSBibG9jayBpbiB0aGUgZmx5b3V0IGJ5IG1vdmluZyB0aGUgY3Vyc29yXG4gICAqIHRvIHRoYXQgc3RhY2sgb2YgYmxvY2tzIGFuZCBzZXR0aW5nIHRoZSBzdGF0ZSBvZiBuYXZpZ2F0aW9uIHRvIHRoZSBmbHlvdXQuXG4gICAqXG4gICAqIEBwYXJhbSBtYWluV29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdGhlIHVzZXIgY2xpY2tlZCBvbi5cbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0aGUgdXNlciBjbGlja2VkIG9uLlxuICAgKi9cbiAgaGFuZGxlQmxvY2tDbGlja0luRmx5b3V0KFxuICAgIG1haW5Xb3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnLFxuICAgIGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLFxuICApIHtcbiAgICBpZiAoIWJsb2NrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1ck5vZGVCbG9jayA9IGJsb2NrLmlzU2hhZG93KCkgPyBibG9jayA6IGJsb2NrLmdldFBhcmVudCgpO1xuICAgIGlmIChjdXJOb2RlQmxvY2spIHtcbiAgICAgIHRoaXMuZ2V0Rmx5b3V0Q3Vyc29yKG1haW5Xb3Jrc3BhY2UpPy5zZXRDdXJOb2RlKGN1ck5vZGVCbG9jayk7XG4gICAgfVxuICAgIGNvbnN0IGZseW91dCA9IG1haW5Xb3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgaWYgKGZseW91dCkge1xuICAgICAgQmxvY2tseS5nZXRGb2N1c01hbmFnZXIoKS5mb2N1c1RyZWUoZmx5b3V0LmdldFdvcmtzcGFjZSgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgZmx5b3V0IGN1cnNvciB0byB0aGUgcHJlZmVycmVkIGVuZCBpZiB1bnNldCAoYXMgaXQgaXMgaW5pdGlhbGx5IGRlc3BpdGVcbiAgICogdGhlIHR5cGVzKSBvciBvbiBhIGRpc3Bvc2VkIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZS5cbiAgICogQHBhcmFtIHByZWZlciBUaGUgcHJlZmVycmVkIGRlZmF1bHQgcG9zaXRpb24uXG4gICAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgY3Vyc29yIGxvY2F0aW9uIHdhcyBkZWZhdWx0ZWQuXG4gICAqL1xuICBkZWZhdWx0Rmx5b3V0Q3Vyc29ySWZOZWVkZWQoXG4gICAgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2ZyxcbiAgICBwcmVmZXI6ICdmaXJzdCcgfCAnbGFzdCcgPSAnZmlyc3QnLFxuICApIHtcbiAgICBjb25zdCBmbHlvdXQgPSB3b3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgaWYgKCFmbHlvdXQpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBmbHlvdXRDdXJzb3IgPSB0aGlzLmdldEZseW91dEN1cnNvcih3b3Jrc3BhY2UpO1xuICAgIGlmICghZmx5b3V0Q3Vyc29yKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBjdXJOb2RlID0gZmx5b3V0Q3Vyc29yLmdldEN1ck5vZGUoKTtcbiAgICBjb25zdCBzb3VyY2VCbG9jayA9IGZseW91dEN1cnNvci5nZXRTb3VyY2VCbG9jaygpO1xuICAgIC8vIElmIHRoZSBjdXJyZW50IG5vZGUgaXMgYSBjaGlsZCBvZiB0aGUgZmx5b3V0LCBub3RoaW5nIG5lZWRzIHRvIGJlIGRvbmUuXG4gICAgaWYgKFxuICAgICAgY3VyTm9kZSAmJlxuICAgICAgY3VyTm9kZSAhPT0gZmx5b3V0LmdldFdvcmtzcGFjZSgpICYmXG4gICAgICBjdXJOb2RlLmdldEZvY3VzYWJsZVRyZWUoKSA9PT0gZmx5b3V0LmdldFdvcmtzcGFjZSgpICYmXG4gICAgICAhdGhpcy5pc0ZseW91dEl0ZW1EaXNwb3NlZChjdXJOb2RlLCBzb3VyY2VCbG9jaylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBmbHlvdXRDb250ZW50cyA9IGZseW91dC5nZXRDb250ZW50cygpO1xuICAgIGNvbnN0IGRlZmF1bHRGbHlvdXRJdGVtID1cbiAgICAgIHByZWZlciA9PT0gJ2ZpcnN0J1xuICAgICAgICA/IGZseW91dENvbnRlbnRzWzBdXG4gICAgICAgIDogZmx5b3V0Q29udGVudHNbZmx5b3V0Q29udGVudHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFkZWZhdWx0Rmx5b3V0SXRlbSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGRlZmF1bHRGbHlvdXRJdGVtRWxlbWVudCA9IGRlZmF1bHRGbHlvdXRJdGVtLmdldEVsZW1lbnQoKTtcbiAgICBmbHlvdXRDdXJzb3Iuc2V0Q3VyTm9kZShkZWZhdWx0Rmx5b3V0SXRlbUVsZW1lbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnNvciBsb2NhdGlvbiB3aGVuIGZvY3VzaW5nIHRoZSB3b3Jrc3BhY2UuXG4gICAqIFRyaWVzIHRoZSBmb2xsb3dpbmcsIGluIG9yZGVyLCBzdG9wcGluZyBhZnRlciB0aGUgZmlyc3Qgc3VjY2VzczpcbiAgICogIC0gUmVzdW1lIGVkaXRpbmcgYnkgcmV0dXJuaW5nIHRoZSBjdXJzb3IgdG8gaXRzIHByZXZpb3VzIGxvY2F0aW9uLCBpZiB2YWxpZC5cbiAgICogIC0gTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSB0b3AgY29ubmVjdGlvbiBwb2ludCBvbiBvbiB0aGUgZmlyc3QgdG9wIGJsb2NrLlxuICAgKiAgLSBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGRlZmF1bHQgbG9jYXRpb24gb24gdGhlIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgbWFpbiBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICogQHBhcmFtIHByZWZlciBUaGUgcHJlZmVycmVkIGRlZmF1bHQgcG9zaXRpb24uXG4gICAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgY3Vyc29yIGxvY2F0aW9uIHdhcyBkZWZhdWx0ZWQuXG4gICAqL1xuICBkZWZhdWx0V29ya3NwYWNlQ3Vyc29yUG9zaXRpb25JZk5lZWRlZChcbiAgICB3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnLFxuICAgIHByZWZlcjogJ2ZpcnN0JyB8ICdsYXN0JyA9ICdmaXJzdCcsXG4gICkge1xuICAgIGNvbnN0IHRvcEJsb2NrcyA9IHdvcmtzcGFjZS5nZXRUb3BCbG9ja3ModHJ1ZSk7XG4gICAgY29uc3QgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgIGNvbnN0IGRpc3Bvc2VkID0gY3Vyc29yLmdldFNvdXJjZUJsb2NrKCk/LmRpc3Bvc2VkO1xuICAgIGlmIChjdXJzb3IuZ2V0Q3VyTm9kZSgpICYmICFkaXNwb3NlZCkge1xuICAgICAgLy8gUmV0YWluIHRoZSBjdXJzb3IncyBwcmV2aW91cyBwb3NpdGlvbiBzaW5jZSBpdCdzIHNldCwgYnV0IG9ubHkgaWYgbm90XG4gICAgICAvLyBkaXNwb3NlZCAod2hpY2ggY2FuIGhhcHBlbiB3aGVuIGJsb2NrcyBhcmUgcmVsb2FkZWQpLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodG9wQmxvY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIGN1cnNvci5zZXRDdXJOb2RlKFxuICAgICAgICB0b3BCbG9ja3NbcHJlZmVyID09PSAnZmlyc3QnID8gMCA6IHRvcEJsb2Nrcy5sZW5ndGggLSAxXSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnNvci5zZXRDdXJOb2RlKHdvcmtzcGFjZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnNvciBvbiB0aGUgZmx5b3V0J3Mgd29ya3NwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSBtYWluIHdvcmtzcGFjZSB0aGUgZmx5b3V0IGlzIG9uLlxuICAgKiBAcmV0dXJucyBUaGUgZmx5b3V0J3MgY3Vyc29yIG9yIG51bGwgaWYgbm8gZmx5b3V0IGV4aXN0cy5cbiAgICovXG4gIGdldEZseW91dEN1cnNvcih3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKTogQmxvY2tseS5MaW5lQ3Vyc29yIHwgbnVsbCB7XG4gICAgY29uc3QgZmx5b3V0ID0gd29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgIGNvbnN0IGN1cnNvciA9IGZseW91dCA/IGZseW91dC5nZXRXb3Jrc3BhY2UoKS5nZXRDdXJzb3IoKSA6IG51bGw7XG5cbiAgICByZXR1cm4gY3Vyc29yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIGludGVsbGlnZW50bHkgY29ubmVjdCB0aGUgYmxvY2tzIG9yIGNvbm5lY3Rpb25zXG4gICAqIHJlcHJlc2VudGVkIGJ5IHRoZSBnaXZlbiBub2RlcywgYmFzZWQgb24gbm9kZSB0eXBlcyBhbmQgbG9jYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gc3RhdGlvbmFyeU5vZGUgVGhlIGZpcnN0IG5vZGUgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIG1vdmluZ0Jsb2NrIFRoZSBibG9jayB3ZSdyZSBtb3ZpbmcuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGtleSB3YXMgaGFuZGxlZDsgZmFsc2UgaWYgc29tZXRoaW5nIHdlbnRcbiAgICogICAgIHdyb25nLlxuICAgKi9cbiAgZmluZEluc2VydFN0YXJ0UG9pbnQoXG4gICAgc3RhdGlvbmFyeU5vZGU6IEJsb2NrbHkuSUZvY3VzYWJsZU5vZGUsXG4gICAgbW92aW5nQmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcsXG4gICk6IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCB7XG4gICAgY29uc3QgbW92aW5nSGFzT3V0cHV0ID0gISFtb3ZpbmdCbG9jay5vdXRwdXRDb25uZWN0aW9uO1xuXG4gICAgaWYgKHN0YXRpb25hcnlOb2RlIGluc3RhbmNlb2YgQmxvY2tseS5GaWVsZCkge1xuICAgICAgLy8gQ2FuJ3QgY29ubmVjdCBhIGJsb2NrIHRvIGEgZmllbGQsIHNvIHRyeSBnb2luZyB1cCB0byB0aGUgc291cmNlIGJsb2NrLlxuICAgICAgY29uc3Qgc291cmNlQmxvY2sgPSBzdGF0aW9uYXJ5Tm9kZS5nZXRTb3VyY2VCbG9jaygpIGFzIEJsb2NrbHkuQmxvY2tTdmc7XG4gICAgICBpZiAoIXNvdXJjZUJsb2NrKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRJbnNlcnRTdGFydFBvaW50KHNvdXJjZUJsb2NrLCBtb3ZpbmdCbG9jayk7XG4gICAgfSBlbHNlIGlmIChzdGF0aW9uYXJ5Tm9kZSBpbnN0YW5jZW9mIEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uKSB7XG4gICAgICAvLyBNb3ZlIHRvIHRoZSBibG9jayBpZiB3ZSdyZSB0cnlpbmcgdG8gaW5zZXJ0IGEgc3RhdGVtZW50IGJsb2NrIGludG9cbiAgICAgIC8vIGEgdmFsdWUgY29ubmVjdGlvbi5cbiAgICAgIGlmIChcbiAgICAgICAgIW1vdmluZ0hhc091dHB1dCAmJlxuICAgICAgICBzdGF0aW9uYXJ5Tm9kZS50eXBlID09PSBCbG9ja2x5LkNvbm5lY3Rpb25UeXBlLklOUFVUX1ZBTFVFXG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgc291cmNlQmxvY2sgPSBzdGF0aW9uYXJ5Tm9kZS5nZXRTb3VyY2VCbG9jaygpO1xuICAgICAgICBpZiAoIXNvdXJjZUJsb2NrKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEluc2VydFN0YXJ0UG9pbnQoc291cmNlQmxvY2ssIG1vdmluZ0Jsb2NrKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29ubmVjdCB0aGUgbW92aW5nIGJsb2NrIHRvIHRoZSBzdGF0aW9uYXJ5IGNvbm5lY3Rpb24gdXNpbmdcbiAgICAgIC8vIHRoZSBtb3N0IHBsYXVzaWJsZSBjb25uZWN0aW9uIG9uIHRoZSBtb3ZpbmcgYmxvY2suXG4gICAgICByZXR1cm4gc3RhdGlvbmFyeU5vZGU7XG4gICAgfSBlbHNlIGlmIChzdGF0aW9uYXJ5Tm9kZSBpbnN0YW5jZW9mIEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHN0YXRpb25hcnlOb2RlIGluc3RhbmNlb2YgQmxvY2tseS5CbG9ja1N2Zykge1xuICAgICAgLy8gMS4gQ29ubmVjdCBibG9ja3MgdG8gZmlyc3QgY29tcGF0aWJsZSBpbnB1dFxuICAgICAgY29uc3QgaW5wdXRUeXBlID0gbW92aW5nSGFzT3V0cHV0XG4gICAgICAgID8gQmxvY2tseS5pbnB1dHMuaW5wdXRUeXBlcy5WQUxVRVxuICAgICAgICA6IEJsb2NrbHkuaW5wdXRzLmlucHV0VHlwZXMuU1RBVEVNRU5UO1xuICAgICAgY29uc3QgY29tcGF0aWJsZUNvbm5lY3Rpb25zID0gc3RhdGlvbmFyeU5vZGUuaW5wdXRMaXN0XG4gICAgICAgIC5maWx0ZXIoKGlucHV0KSA9PiBpbnB1dC50eXBlID09PSBpbnB1dFR5cGUpXG4gICAgICAgIC5tYXAoKGlucHV0KSA9PiBpbnB1dC5jb25uZWN0aW9uKTtcbiAgICAgIGZvciAoY29uc3QgY29ubmVjdGlvbiBvZiBjb21wYXRpYmxlQ29ubmVjdGlvbnMpIHtcbiAgICAgICAgbGV0IHRhcmdldENvbm5lY3Rpb246IEJsb2NrbHkuQ29ubmVjdGlvbiB8IG51bGwgfCB1bmRlZmluZWQgPVxuICAgICAgICAgIGNvbm5lY3Rpb247XG4gICAgICAgIGlmIChpbnB1dFR5cGUgPT09IEJsb2NrbHkuaW5wdXRzLmlucHV0VHlwZXMuU1RBVEVNRU5UKSB7XG4gICAgICAgICAgd2hpbGUgKHRhcmdldENvbm5lY3Rpb24/LnRhcmdldEJsb2NrKCk/Lm5leHRDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0YXJnZXRDb25uZWN0aW9uID0gdGFyZ2V0Q29ubmVjdGlvbj8udGFyZ2V0QmxvY2soKT8ubmV4dENvbm5lY3Rpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRhcmdldENvbm5lY3Rpb24gJiZcbiAgICAgICAgICBtb3ZpbmdCbG9jay53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXIuY2FuQ29ubmVjdChcbiAgICAgICAgICAgIG1vdmluZ0hhc091dHB1dFxuICAgICAgICAgICAgICA/IG1vdmluZ0Jsb2NrLm91dHB1dENvbm5lY3Rpb25cbiAgICAgICAgICAgICAgOiBtb3ZpbmdCbG9jay5wcmV2aW91c0Nvbm5lY3Rpb24sXG4gICAgICAgICAgICB0YXJnZXRDb25uZWN0aW9uLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIGNvbm5lY3RpbmcgcHJvZ3JhbW1hdGljYWxseSwgd2UgZG9uJ3QgY2FyZSBob3dcbiAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBibG9ja3MgYXJlIHdoZW4gZGV0ZXJtaW5pbmcgaWYgdGhleSBjYW4gYmUgY29ubmVjdGVkLlxuICAgICAgICAgICAgSW5maW5pdHksXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0Q29ubmVjdGlvbiBhcyBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyAyLiBDb25uZWN0IHN0YXRlbWVudCBibG9ja3MgdG8gbmV4dCBjb25uZWN0aW9uLiBPbmx5IHJldHVybiBhIG5leHRcbiAgICAgIC8vIGNvbm5lY3Rpb24gdG8gd2hpY2ggdGhlIHN0YXRlbWVudCBibG9jayBjYW4gYWN0dWFsbHkgY29ubmVjdDsgc29tZVxuICAgICAgLy8gbWF5IGJlIGluZWxpZ2libGUgYmVjYXVzZSB0aGV5IGFyZSBlLmcuIGluIHRoZSBtaWRkbGUgb2YgYW4gaW1tb3ZhYmxlXG4gICAgICAvLyBzdGFjay5cbiAgICAgIGlmIChzdGF0aW9uYXJ5Tm9kZS5uZXh0Q29ubmVjdGlvbiAmJiAhbW92aW5nSGFzT3V0cHV0KSB7XG4gICAgICAgIGxldCBuZXh0Q29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsID1cbiAgICAgICAgICBzdGF0aW9uYXJ5Tm9kZS5uZXh0Q29ubmVjdGlvbjtcbiAgICAgICAgd2hpbGUgKG5leHRDb25uZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbW92aW5nQmxvY2sud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoXG4gICAgICAgICAgICAgIG1vdmluZ0Jsb2NrLnByZXZpb3VzQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgbmV4dENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIGNvbm5lY3RpbmcgcHJvZ3JhbW1hdGljYWxseSwgd2UgZG9uJ3QgY2FyZSBob3dcbiAgICAgICAgICAgICAgLy8gY2xvc2UgdGhlIGJsb2NrcyBhcmUgd2hlbiBkZXRlcm1pbmluZyBpZiB0aGV5IGNhbiBiZSBjb25uZWN0ZWQuXG4gICAgICAgICAgICAgIEluZmluaXR5LFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRDb25uZWN0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Q29ubmVjdGlvbiA9XG4gICAgICAgICAgICBuZXh0Q29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpLmdldE5leHRCbG9jaygpPy5uZXh0Q29ubmVjdGlvbiA/P1xuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyAzLiBPdXRwdXQgY29ubmVjdGlvbi4gVGhpcyB3aWxsIHdyYXAgYXJvdW5kIG9yIGRpc3BsYWNlLlxuICAgICAgaWYgKHN0YXRpb25hcnlOb2RlLm91dHB1dENvbm5lY3Rpb24pIHtcbiAgICAgICAgLy8gVHJ5IHRvIHdyYXAuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHN0YXRpb25hcnlOb2RlLm91dHB1dENvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtcbiAgICAgICAgaWYgKG1vdmluZ0hhc091dHB1dCAmJiB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5maW5kSW5zZXJ0U3RhcnRQb2ludCh0YXJnZXQsIG1vdmluZ0Jsb2NrKTtcbiAgICAgICAgfSBlbHNlIGlmICghbW92aW5nSGFzT3V0cHV0KSB7XG4gICAgICAgICAgLy8gTW92ZSB0byBwYXJlbnQgaWYgd2UncmUgdHJ5aW5nIHRvIGluc2VydCBhIHN0YXRlbWVudCBibG9jay5cbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzdGF0aW9uYXJ5Tm9kZS5nZXRQYXJlbnQoKTtcbiAgICAgICAgICBpZiAoIXBhcmVudCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmluZEluc2VydFN0YXJ0UG9pbnQocGFyZW50LCBtb3ZpbmdCbG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRpb25hcnlOb2RlLm91dHB1dENvbm5lY3Rpb247XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMud2FybihgVW5leHBlY3RlZCBjYXNlIGluIGZpbmRJbnNlcnRTdGFydFBvaW50ICR7c3RhdGlvbmFyeU5vZGV9LmApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIGludGVsbGlnZW50bHkgY29ubmVjdCB0aGUgYmxvY2tzIG9yIGNvbm5lY3Rpb25zXG4gICAqIHJlcHJlc2VudGVkIGJ5IHRoZSBnaXZlbiBub2RlcywgYmFzZWQgb24gbm9kZSB0eXBlcyBhbmQgbG9jYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gc3RhdGlvbmFyeU5vZGUgVGhlIGZpcnN0IG5vZGUgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIG1vdmluZ0Jsb2NrIFRoZSBibG9jayB3ZSdyZSBtb3ZpbmcuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbm5lY3Rpb24gd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHRyeVRvQ29ubmVjdEJsb2NrKFxuICAgIHN0YXRpb25hcnlOb2RlOiBCbG9ja2x5LklGb2N1c2FibGVOb2RlLFxuICAgIG1vdmluZ0Jsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBkZXN0Q29ubmVjdGlvbiA9IHRoaXMuZmluZEluc2VydFN0YXJ0UG9pbnQoXG4gICAgICBzdGF0aW9uYXJ5Tm9kZSxcbiAgICAgIG1vdmluZ0Jsb2NrLFxuICAgICk7XG4gICAgaWYgKCFkZXN0Q29ubmVjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLmluc2VydEJsb2NrKG1vdmluZ0Jsb2NrLCBkZXN0Q29ubmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIGNoaWxkIGJsb2NrIGZyb20gaXRzIHBhcmVudCBibG9jay4gTm8tb3AgaWYgdGhlIHR3byBnaXZlblxuICAgKiBjb25uZWN0aW9ucyBhcmUgdW5yZWxhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0gbW92aW5nQ29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0aGF0IGlzIGJlaW5nIG1vdmVkLlxuICAgKiBAcGFyYW0gZGVzdENvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gYmUgbW92ZWQgdG8uXG4gICAqL1xuICBkaXNjb25uZWN0Q2hpbGQoXG4gICAgbW92aW5nQ29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgZGVzdENvbm5lY3Rpb246IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLFxuICApIHtcbiAgICBjb25zdCBtb3ZpbmdCbG9jayA9IG1vdmluZ0Nvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICBjb25zdCBkZXN0QmxvY2sgPSBkZXN0Q29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGxldCBpbmZlcmlvckNvbm5lY3Rpb247XG5cbiAgICBpZiAobW92aW5nQmxvY2suZ2V0Um9vdEJsb2NrKCkgPT09IGRlc3RCbG9jay5nZXRSb290QmxvY2soKSkge1xuICAgICAgaWYgKG1vdmluZ0Jsb2NrLmdldERlc2NlbmRhbnRzKGZhbHNlKS5pbmNsdWRlcyhkZXN0QmxvY2spKSB7XG4gICAgICAgIGluZmVyaW9yQ29ubmVjdGlvbiA9IHRoaXMuZ2V0SW5mZXJpb3JDb25uZWN0aW9uKGRlc3RDb25uZWN0aW9uKTtcbiAgICAgICAgaWYgKGluZmVyaW9yQ29ubmVjdGlvbikge1xuICAgICAgICAgIGluZmVyaW9yQ29ubmVjdGlvbi5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZmVyaW9yQ29ubmVjdGlvbiA9IHRoaXMuZ2V0SW5mZXJpb3JDb25uZWN0aW9uKG1vdmluZ0Nvbm5lY3Rpb24pO1xuICAgICAgICBpZiAoaW5mZXJpb3JDb25uZWN0aW9uKSB7XG4gICAgICAgICAgaW5mZXJpb3JDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmllcyB0byBjb25uZWN0IHRoZSAgZ2l2ZW4gY29ubmVjdGlvbnMuXG4gICAqXG4gICAqIElmIHRoZSBnaXZlbiBjb25uZWN0aW9ucyBhcmUgbm90IGNvbXBhdGlibGUgdHJ5IGZpbmRpbmcgY29tcGF0aWJsZVxuICAgKiBjb25uZWN0aW9ucyBvbiB0aGUgc291cmNlIGJsb2NrcyBvZiB0aGUgZ2l2ZW4gY29ubmVjdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBtb3ZpbmdDb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRoYXQgaXMgYmVpbmcgbW92ZWQuXG4gICAqIEBwYXJhbSBkZXN0Q29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBiZSBtb3ZlZCB0by5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdHdvIGNvbm5lY3Rpb25zIG9yIHRoZWlyIHRhcmdldCBjb25uZWN0aW9uc1xuICAgKiAgICAgd2VyZSBjb25uZWN0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGNvbm5lY3QoXG4gICAgbW92aW5nQ29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsLFxuICAgIGRlc3RDb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghbW92aW5nQ29ubmVjdGlvbiB8fCAhZGVzdENvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBtb3ZpbmdJbmZlcmlvciA9IHRoaXMuZ2V0SW5mZXJpb3JDb25uZWN0aW9uKG1vdmluZ0Nvbm5lY3Rpb24pO1xuICAgIGNvbnN0IGRlc3RTdXBlcmlvciA9IHRoaXMuZ2V0U3VwZXJpb3JDb25uZWN0aW9uKGRlc3RDb25uZWN0aW9uKTtcblxuICAgIGNvbnN0IG1vdmluZ1N1cGVyaW9yID0gdGhpcy5nZXRTdXBlcmlvckNvbm5lY3Rpb24obW92aW5nQ29ubmVjdGlvbik7XG4gICAgY29uc3QgZGVzdEluZmVyaW9yID0gdGhpcy5nZXRJbmZlcmlvckNvbm5lY3Rpb24oZGVzdENvbm5lY3Rpb24pO1xuXG4gICAgaWYgKFxuICAgICAgbW92aW5nSW5mZXJpb3IgJiZcbiAgICAgIGRlc3RTdXBlcmlvciAmJlxuICAgICAgdGhpcy5tb3ZlQW5kQ29ubmVjdChtb3ZpbmdJbmZlcmlvciwgZGVzdFN1cGVyaW9yKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAvLyBUcnkgc3dhcHBpbmcgdGhlIGluZmVyaW9yIGFuZCBzdXBlcmlvciBjb25uZWN0aW9ucyBvbiB0aGUgYmxvY2tzLlxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBtb3ZpbmdTdXBlcmlvciAmJlxuICAgICAgZGVzdEluZmVyaW9yICYmXG4gICAgICB0aGlzLm1vdmVBbmRDb25uZWN0KG1vdmluZ1N1cGVyaW9yLCBkZXN0SW5mZXJpb3IpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMubW92ZUFuZENvbm5lY3QobW92aW5nQ29ubmVjdGlvbiwgZGVzdENvbm5lY3Rpb24pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2hlY2tlciA9IG1vdmluZ0Nvbm5lY3Rpb24uZ2V0Q29ubmVjdGlvbkNoZWNrZXIoKTtcbiAgICAgIGNvbnN0IHJlYXNvbiA9IGNoZWNrZXIuY2FuQ29ubmVjdFdpdGhSZWFzb24oXG4gICAgICAgIG1vdmluZ0Nvbm5lY3Rpb24sXG4gICAgICAgIGRlc3RDb25uZWN0aW9uLFxuICAgICAgICBmYWxzZSxcbiAgICAgICk7XG4gICAgICB0aGlzLndhcm4oXG4gICAgICAgICdDb25uZWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yOiAnICtcbiAgICAgICAgICBjaGVja2VyLmdldEVycm9yTWVzc2FnZShyZWFzb24sIG1vdmluZ0Nvbm5lY3Rpb24sIGRlc3RDb25uZWN0aW9uKSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBpbmZlcmlvciBjb25uZWN0aW9uIG9uIHRoZSBzb3VyY2UgYmxvY2sgaWYgdGhlIGdpdmVuIGNvbm5lY3Rpb25cbiAgICogaXMgc3VwZXJpb3IuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRyeWluZyB0byBiZSBjb25uZWN0ZWQuXG4gICAqIEByZXR1cm5zIFRoZSBpbmZlcmlvciBjb25uZWN0aW9uIG9yIG51bGwgaWYgbm9uZSBleGlzdHMuXG4gICAqL1xuICBnZXRJbmZlcmlvckNvbm5lY3Rpb24oXG4gICAgY29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsLFxuICApOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwge1xuICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGJsb2NrID0gY29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpIGFzIEJsb2NrbHkuQmxvY2tTdmc7XG4gICAgaWYgKCFjb25uZWN0aW9uLmlzU3VwZXJpb3IoKSkge1xuICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfSBlbHNlIGlmIChibG9jay5wcmV2aW91c0Nvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBibG9jay5wcmV2aW91c0Nvbm5lY3Rpb247XG4gICAgfSBlbHNlIGlmIChibG9jay5vdXRwdXRDb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gYmxvY2sub3V0cHV0Q29ubmVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGEgc3VwZXJpb3IgY29ubmVjdGlvbiBvbiB0aGUgc291cmNlIGJsb2NrIGlmIHRoZSBnaXZlbiBjb25uZWN0aW9uIGlzXG4gICAqIGluZmVyaW9yLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0cnlpbmcgdG8gYmUgY29ubmVjdGVkLlxuICAgKiBAcmV0dXJucyBUaGUgc3VwZXJpb3IgY29ubmVjdGlvbiBvciBudWxsIGlmIG5vbmUgZXhpc3RzLlxuICAgKi9cbiAgZ2V0U3VwZXJpb3JDb25uZWN0aW9uKFxuICAgIGNvbm5lY3Rpb246IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCxcbiAgKTogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsIHtcbiAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY29ubmVjdGlvbi5pc1N1cGVyaW9yKCkpIHtcbiAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH0gZWxzZSBpZiAoY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgbW92aW5nIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBjb25uZWN0aW9uIGFuZCBjb25uZWN0cyB0aGVtLlxuICAgKlxuICAgKiBAcGFyYW0gbW92aW5nQ29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0aGF0IGlzIGJlaW5nIG1vdmVkLlxuICAgKiBAcGFyYW0gZGVzdENvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gYmUgbW92ZWQgdG8uXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbm5lY3Rpb25zIHdlcmUgY29ubmVjdGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBtb3ZlQW5kQ29ubmVjdChcbiAgICBtb3ZpbmdDb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICAgZGVzdENvbm5lY3Rpb246IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFtb3ZpbmdDb25uZWN0aW9uIHx8ICFkZXN0Q29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBtb3ZpbmdCbG9jayA9IG1vdmluZ0Nvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICBjb25zdCBjaGVja2VyID0gbW92aW5nQ29ubmVjdGlvbi5nZXRDb25uZWN0aW9uQ2hlY2tlcigpO1xuXG4gICAgaWYgKFxuICAgICAgY2hlY2tlci5jYW5Db25uZWN0KG1vdmluZ0Nvbm5lY3Rpb24sIGRlc3RDb25uZWN0aW9uLCBmYWxzZSkgJiZcbiAgICAgICFkZXN0Q29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpLmlzU2hhZG93KClcbiAgICApIHtcbiAgICAgIHRoaXMuZGlzY29ubmVjdENoaWxkKG1vdmluZ0Nvbm5lY3Rpb24sIGRlc3RDb25uZWN0aW9uKTtcblxuICAgICAgLy8gUG9zaXRpb24gdGhlIHJvb3QgYmxvY2sgbmVhciB0aGUgY29ubmVjdGlvbiBzbyBpdCBkb2VzIG5vdCBtb3ZlIHRoZVxuICAgICAgLy8gb3RoZXIgYmxvY2sgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuXG4gICAgICBpZiAoIWRlc3RDb25uZWN0aW9uLmlzU3VwZXJpb3IoKSkge1xuICAgICAgICBjb25zdCByb290QmxvY2sgPSBtb3ZpbmdCbG9jay5nZXRSb290QmxvY2soKTtcblxuICAgICAgICBjb25zdCBvcmlnaW5hbE9mZnNldFRvVGFyZ2V0ID0ge1xuICAgICAgICAgIHg6IGRlc3RDb25uZWN0aW9uLnggLSBtb3ZpbmdDb25uZWN0aW9uLngsXG4gICAgICAgICAgeTogZGVzdENvbm5lY3Rpb24ueSAtIG1vdmluZ0Nvbm5lY3Rpb24ueSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxPZmZzZXRJbkJsb2NrID0gbW92aW5nQ29ubmVjdGlvblxuICAgICAgICAgIC5nZXRPZmZzZXRJbkJsb2NrKClcbiAgICAgICAgICAuY2xvbmUoKTtcbiAgICAgICAgcm9vdEJsb2NrLnBvc2l0aW9uTmVhckNvbm5lY3Rpb24oXG4gICAgICAgICAgbW92aW5nQ29ubmVjdGlvbixcbiAgICAgICAgICBvcmlnaW5hbE9mZnNldFRvVGFyZ2V0LFxuICAgICAgICAgIG9yaWdpbmFsT2Zmc2V0SW5CbG9jayxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGRlc3RDb25uZWN0aW9uLmNvbm5lY3QobW92aW5nQ29ubmVjdGlvbik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIGNvbm5lY3QgdGhlIGdpdmVuIGJsb2NrIHRvIHRoZSBkZXN0aW5hdGlvbiBjb25uZWN0aW9uLCBtYWtpbmcgYW5cbiAgICogaW50ZWxsaWdlbnQgZ3Vlc3MgYWJvdXQgd2hpY2ggY29ubmVjdGlvbiB0byB1c2Ugb24gdGhlIG1vdmluZyBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBtb3ZlLlxuICAgKiBAcGFyYW0gZGVzdENvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG9cbiAgICogICAgIGNvbm5lY3QgdG8uXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGNvbm5lY3Rpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAqL1xuICBpbnNlcnRCbG9jayhcbiAgICBibG9jazogQmxvY2tseS5CbG9ja1N2ZyxcbiAgICBkZXN0Q29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24sXG4gICk6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAoZGVzdENvbm5lY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSBCbG9ja2x5LlBSRVZJT1VTX1NUQVRFTUVOVDpcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdChibG9jay5uZXh0Q29ubmVjdGlvbiwgZGVzdENvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuTkVYVF9TVEFURU1FTlQ6XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3QoYmxvY2sucHJldmlvdXNDb25uZWN0aW9uLCBkZXN0Q29ubmVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5JTlBVVF9WQUxVRTpcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdChibG9jay5vdXRwdXRDb25uZWN0aW9uLCBkZXN0Q29ubmVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5PVVRQVVRfVkFMVUU6XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2suaW5wdXRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRDb25uZWN0aW9uID0gYmxvY2suaW5wdXRMaXN0W2ldLmNvbm5lY3Rpb247XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaW5wdXRDb25uZWN0aW9uICYmXG4gICAgICAgICAgICBpbnB1dENvbm5lY3Rpb24udHlwZSA9PT0gQmxvY2tseS5JTlBVVF9WQUxVRSAmJlxuICAgICAgICAgICAgdGhpcy5jb25uZWN0KFxuICAgICAgICAgICAgICBpbnB1dENvbm5lY3Rpb24gYXMgQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgIGRlc3RDb25uZWN0aW9uLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBpbnB1dCB2YWx1ZXMgcGFzcyB0aGUgb3V0cHV0IGFuZCBkZXN0aW5hdGlvblxuICAgICAgICAvLyBjb25uZWN0aW9ucyB0byBjb25uZWN0XyB0byBmaW5kIGEgd2F5IHRvIGNvbm5lY3QgdGhlIHR3by5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGJsb2NrLm91dHB1dENvbm5lY3Rpb24gJiZcbiAgICAgICAgICB0aGlzLmNvbm5lY3QoYmxvY2sub3V0cHV0Q29ubmVjdGlvbiwgZGVzdENvbm5lY3Rpb24pXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLndhcm4oJ1RoaXMgYmxvY2sgY2FuIG5vdCBiZSBpbnNlcnRlZCBhdCB0aGUgbWFya2VkIGxvY2F0aW9uLicpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIGFjY2Vzc2liaWxpdHkgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGVuYWJsZSBrZXlib2FyZFxuICAgKiAgICAgYWNjZXNzaWJpbGl0eSBtb2RlIG9uLlxuICAgKi9cbiAgZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLndvcmtzcGFjZXMuaW5jbHVkZXMod29ya3NwYWNlKSAmJlxuICAgICAgIXdvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlXG4gICAgKSB7XG4gICAgICB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIGFjY2Vzc2liaWxpdHkgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGRpc2FibGUga2V5Ym9hcmRcbiAgICogICAgIGFjY2Vzc2liaWxpdHkgbW9kZSBvbi5cbiAgICovXG4gIGRpc2FibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgIGlmIChcbiAgICAgIHRoaXMud29ya3NwYWNlcy5pbmNsdWRlcyh3b3Jrc3BhY2UpICYmXG4gICAgICB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZVxuICAgICkge1xuICAgICAgd29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGlvbiBsb2cgaGFuZGxlci4gSWYgbG9nZ2luZ0NhbGxiYWNrIGlzIGRlZmluZWQsIHVzZSBpdC5cbiAgICogT3RoZXJ3aXNlIGp1c3QgbG9nIHRvIHRoZSBjb25zb2xlLmxvZy5cbiAgICpcbiAgICogQHBhcmFtIG1zZyBUaGUgbWVzc2FnZSB0byBsb2cuXG4gICAqL1xuICBsb2cobXNnOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZyhtc2cpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRpb24gd2FybmluZyBoYW5kbGVyLiBJZiBsb2dnaW5nQ2FsbGJhY2sgaXMgZGVmaW5lZCwgdXNlIGl0LlxuICAgKiBPdGhlcndpc2UgY2FsbCBjb25zb2xlLndhcm4uXG4gICAqXG4gICAqIEBwYXJhbSBtc2cgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAgICovXG4gIHdhcm4obXNnOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0aW9uIGVycm9yIGhhbmRsZXIuIElmIGxvZ2dpbmdDYWxsYmFjayBpcyBkZWZpbmVkLCB1c2UgaXQuXG4gICAqIE90aGVyd2lzZSBjYWxsIGNvbnNvbGUuZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSBtc2cgVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBlcnJvcihtc2c6IHN0cmluZykge1xuICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBjdXJyZW50IGN1cnNvciBsb2NhdGlvbiBhbmQgb3BlbiB0aGUgdG9vbGJveCBvciBmbHlvdXRcbiAgICogdG8gc2VsZWN0IGFuZCBpbnNlcnQgYSBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgYWN0aXZlIHdvcmtzcGFjZS5cbiAgICovXG4gIG9wZW5Ub29sYm94T3JGbHlvdXQod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgIGNvbnN0IHRvb2xib3ggPSB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpO1xuICAgIGNvbnN0IGZseW91dCA9IHdvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAodG9vbGJveCkge1xuICAgICAgQmxvY2tseS5nZXRGb2N1c01hbmFnZXIoKS5mb2N1c1RyZWUodG9vbGJveCk7XG4gICAgfSBlbHNlIGlmIChmbHlvdXQpIHtcbiAgICAgIEJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNUcmVlKGZseW91dC5nZXRXb3Jrc3BhY2UoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhc3RlcyB0aGUgY29waWVkIGJsb2NrIHRvIHRoZSBtYXJrZWQgbG9jYXRpb24gaWYgcG9zc2libGUgb3JcbiAgICogb250byB0aGUgd29ya3NwYWNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQHBhcmFtIGNvcHlEYXRhIFRoZSBkYXRhIHRvIHBhc3RlIGludG8gdGhlIHdvcmtzcGFjZS5cbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIHBhc3RlIHRoZSBkYXRhIGludG8uXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBhc3RlIHdhcyBzdWNlc3NmdWwsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHBhc3RlKGNvcHlEYXRhOiBCbG9ja2x5LklDb3B5RGF0YSwgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zyk6IGJvb2xlYW4ge1xuICAgIC8vIERvIHRoaXMgYmVmb3JlIGNsaXBvYXJkLnBhc3RlIGR1ZSB0byBjdXJzb3IvZm9jdXMgd29ya2Fyb3VuZCBpbiBnZXRDdXJOb2RlLlxuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpO1xuXG4gICAgQmxvY2tseS5FdmVudHMuc2V0R3JvdXAodHJ1ZSk7XG4gICAgY29uc3QgYmxvY2sgPSBCbG9ja2x5LmNsaXBib2FyZC5wYXN0ZShcbiAgICAgIGNvcHlEYXRhLFxuICAgICAgd29ya3NwYWNlLFxuICAgICkgYXMgQmxvY2tseS5CbG9ja1N2ZztcbiAgICBpZiAoYmxvY2spIHtcbiAgICAgIGlmICh0YXJnZXROb2RlKSB7XG4gICAgICAgIHRoaXMudHJ5VG9Db25uZWN0QmxvY2sodGFyZ2V0Tm9kZSwgYmxvY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKGZhbHNlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGtleWJvYXJkIG5hdmlnYXRpb24gc2hvdWxkIGJlIGFsbG93ZWQgYmFzZWQgb24gdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQSByZXR1cm4gdmFsdWUgb2YgJ3RydWUnIGdlbmVyYWxseSBpbmRpY2F0ZXMgdGhhdCBlaXRoZXIgdGhlIHdvcmtzcGFjZSxcbiAgICogdG9vbGJveCBvciBmbHlvdXQgaGFzIGVuYWJsZWQga2V5Ym9hcmQgbmF2aWdhdGlvbiBhbmQgaXMgY3VycmVudGx5IGluIGFcbiAgICogc3RhdGUgKGUuZy4gZm9jdXMpIHRoYXQgY2FuIHN1cHBvcnQga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSB0aGUgd29ya3NwYWNlIGluIHdoaWNoIGtleWJvYXJkIG5hdmlnYXRpb24gbWF5IGJlIGFsbG93ZWQuXG4gICAqIEByZXR1cm5zIHdoZXRoZXIga2V5Ym9hcmQgbmF2aWdhdGlvbiBpcyBjdXJyZW50bHkgYWxsb3dlZC5cbiAgICovXG4gIGNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcpIHtcbiAgICAvLyBPbmx5IHRoZSBtYWluL3Jvb3Qgd29ya3NwYWNlIGhhcyB0aGUgYWNjZXNzaWJpbGl0eSBtb2RlIGJpdCBzZXQ7IGZvclxuICAgIC8vIG5lc3RlZCB3b3Jrc3BhY2VzIChtdXRhdG9ycyBvciBmbHlvdXRzKSB3ZSBuZWVkIHRvIHdhbGsgdXAgdGhlIHRyZWUuXG4gICAgLy8gRGVmYXVsdCB0byB0aGUgcm9vdCB3b3Jrc3BhY2UgaWYgcHJlc2VudC4gRmx5b3V0cyBkb24ndCBjb25zaWRlclxuICAgIC8vIHRoZWlyIHdvcmtzcGFjZXMgdG8gaGF2ZSBhIHJvb3Qgd29ya3NwYWNlL2JlIGEgbmVzdGVkIGNoaWxkLCBzbyBmYWxsXG4gICAgLy8gYmFjayB0byBjaGVja2luZyB0aGUgdGFyZ2V0IHdvcmtzcGFjZSdzIHJvb3QgKGAudGFyZ2V0V29ya3NwYWNlYCBvbmx5XG4gICAgLy8gZXhpc3RzIG9uIGZseW91dCB3b3Jrc3BhY2VzKSBhbmQgdGhlbiBmYWxsIGJhY2sgdG8gdGhlIHRhcmdldC9tYWluXG4gICAgLy8gd29ya3NwYWNlIGl0c2VsZi5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5TW9kZSA9IChcbiAgICAgIHdvcmtzcGFjZS5nZXRSb290V29ya3NwYWNlKCkgPz9cbiAgICAgIHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2U/LmdldFJvb3RXb3Jrc3BhY2UoKSA/P1xuICAgICAgd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZSA/P1xuICAgICAgd29ya3NwYWNlXG4gICAgKS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlO1xuICAgIHJldHVybiAhIWFjY2Vzc2liaWxpdHlNb2RlICYmIHRoaXMuZ2V0U3RhdGUoKSAhPT0gQ29uc3RhbnRzLlNUQVRFLk5PV0hFUkU7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwcm92aWRlZCB3b3Jrc3BhY2UgaXMgY3VycmVudGx5IGtleWJvYXJkIG5hdmlnYWJsZVxuICAgKiBhbmQgZWRpdGFibGUuXG4gICAqXG4gICAqIEZvciB0aGUgbmF2aWdhYmlsaXR5IGNyaXRlcmlhLCBzZWUgY2FuQ3VycmVudGx5S2V5Ym9hcmROYXZpZ2F0ZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSB0aGUgd29ya3NwYWNlIGluIHdoaWNoIGtleWJvYXJkIGVkaXRpbmcgbWF5IGJlIGFsbG93ZWQuXG4gICAqIEByZXR1cm5zIHdoZXRoZXIga2V5Ym9hcmQgbmF2aWdhdGlvbiBhbmQgZWRpdGluZyBpcyBjdXJyZW50bHkgYWxsb3dlZC5cbiAgICovXG4gIGNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgIHJldHVybiB0aGlzLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSkgJiYgIXdvcmtzcGFjZS5pc1JlYWRPbmx5KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgY2hhbmdlIGxpc3RlbmVycyBvbiBhbGwgcmVnaXN0ZXJlZCB3b3Jrc3BhY2VzLlxuICAgKi9cbiAgZGlzcG9zZSgpIHtcbiAgICBmb3IgKGNvbnN0IHdvcmtzcGFjZSBvZiB0aGlzLndvcmtzcGFjZXMpIHtcbiAgICAgIHRoaXMucmVtb3ZlV29ya3NwYWNlKHdvcmtzcGFjZSk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../src/navigation.ts\n");

/***/ }),

/***/ "../../src/navigation_controller.ts":
/*!******************************************!*\
  !*** ../../src/navigation_controller.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavigationController: () => (/* binding */ NavigationController)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"../../src/constants.ts\");\n/* harmony import */ var _actions_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./actions/clipboard */ \"../../src/actions/clipboard.ts\");\n/* harmony import */ var _actions_delete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions/delete */ \"../../src/actions/delete.ts\");\n/* harmony import */ var _actions_edit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/edit */ \"../../src/actions/edit.ts\");\n/* harmony import */ var _navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./navigation */ \"../../src/navigation.ts\");\n/* harmony import */ var _shortcut_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shortcut_dialog */ \"../../src/shortcut_dialog.ts\");\n/* harmony import */ var _actions_ws_movement__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./actions/ws_movement */ \"../../src/actions/ws_movement.ts\");\n/* harmony import */ var _actions_arrow_navigation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions/arrow_navigation */ \"../../src/actions/arrow_navigation.ts\");\n/* harmony import */ var _actions_exit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./actions/exit */ \"../../src/actions/exit.ts\");\n/* harmony import */ var _actions_enter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./actions/enter */ \"../../src/actions/enter.ts\");\n/* harmony import */ var _actions_disconnect__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./actions/disconnect */ \"../../src/actions/disconnect.ts\");\n/* harmony import */ var _actions_action_menu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./actions/action_menu */ \"../../src/actions/action_menu.ts\");\n/* harmony import */ var _actions_move__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./actions/move */ \"../../src/actions/move.ts\");\n/* harmony import */ var _actions_mover__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./actions/mover */ \"../../src/actions/mover.ts\");\n/* harmony import */ var _actions_duplicate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./actions/duplicate */ \"../../src/actions/duplicate.ts\");\n/* harmony import */ var _actions_stack_navigation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./actions/stack_navigation */ \"../../src/actions/stack_navigation.ts\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Registers all of the keyboard shortcuts that are necessary for\n * navigating blockly using the keyboard.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering shortcuts for keyboard navigation.\n */\nclass NavigationController {\n    constructor(options = {\n        allowCrossWorkspacePaste: false,\n        highlightConnections: true,\n    }) {\n        var _a;\n        this.options = options;\n        this.navigation = new _navigation__WEBPACK_IMPORTED_MODULE_5__.Navigation();\n        this.shortcutDialog = new _shortcut_dialog__WEBPACK_IMPORTED_MODULE_6__.ShortcutDialog();\n        /** Context menu and keyboard action for deletion. */\n        this.deleteAction = new _actions_delete__WEBPACK_IMPORTED_MODULE_3__.DeleteAction();\n        /** Context menu and keyboard action for deletion. */\n        this.editAction = new _actions_edit__WEBPACK_IMPORTED_MODULE_4__.EditAction(this.navigation);\n        /** Keyboard shortcut for disconnection. */\n        this.disconnectAction = new _actions_disconnect__WEBPACK_IMPORTED_MODULE_11__.DisconnectAction(this.navigation);\n        this.duplicateAction = new _actions_duplicate__WEBPACK_IMPORTED_MODULE_15__.DuplicateAction();\n        this.workspaceMovement = new _actions_ws_movement__WEBPACK_IMPORTED_MODULE_7__.WorkspaceMovement(this.navigation);\n        /** Keyboard navigation actions for the arrow keys. */\n        this.arrowNavigation = new _actions_arrow_navigation__WEBPACK_IMPORTED_MODULE_8__.ArrowNavigation(this.navigation);\n        this.exitAction = new _actions_exit__WEBPACK_IMPORTED_MODULE_9__.ExitAction(this.navigation);\n        this.actionMenu = new _actions_action_menu__WEBPACK_IMPORTED_MODULE_12__.ActionMenu(this.navigation);\n        this.stackNavigationAction = new _actions_stack_navigation__WEBPACK_IMPORTED_MODULE_16__.StackNavigationAction();\n        /**\n         * Original Toolbox.prototype.onShortcut method, saved by\n         * addShortcutHandlers.\n         */\n        this.origToolboxOnShortcut = null;\n        /**\n         * Dictionary of KeyboardShortcuts.\n         */\n        this.shortcuts = {\n            /** Move focus to or from the toolbox. */\n            focusToolbox: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.TOOLBOX,\n                preconditionFn: (workspace) => !workspace.isDragging(),\n                callback: (workspace) => {\n                    var _a, _b, _c;\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    switch (this.navigation.getState()) {\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree((_c = (_a = workspace.getToolbox()) !== null && _a !== void 0 ? _a : (_b = workspace.getFlyout()) === null || _b === void 0 ? void 0 : _b.getWorkspace()) !== null && _c !== void 0 ? _c : workspace);\n                            return true;\n                        default:\n                            return false;\n                    }\n                },\n                keyCodes: [KeyCodes.T],\n            },\n            /** Clean up the workspace. */\n            cleanup: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CLEAN_UP,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace) &&\n                    workspace.getTopBlocks(false).length > 0,\n                callback: (workspace) => {\n                    workspace.cleanUp();\n                    return true;\n                },\n                keyCodes: [KeyCodes.C],\n            },\n        };\n        this.mover = new _actions_mover__WEBPACK_IMPORTED_MODULE_14__.Mover(this.navigation, (_a = options.highlightConnections) !== null && _a !== void 0 ? _a : true, options.shouldDisableAutoScroll);\n        this.enterAction = new _actions_enter__WEBPACK_IMPORTED_MODULE_10__.EnterAction(this.mover, this.navigation);\n        this.moveActions = new _actions_move__WEBPACK_IMPORTED_MODULE_13__.MoveActions(this.mover);\n        this.clipboard = new _actions_clipboard__WEBPACK_IMPORTED_MODULE_2__.Clipboard(this.navigation, options);\n    }\n    /**\n     * Registers the default keyboard shortcuts for keyboard navigation.\n     */\n    init() {\n        this.addShortcutHandlers();\n        this.registerDefaults();\n    }\n    /**\n     * Monkeypatches core Blockly components to add methods that allow\n     * them to handle keyboard shortcuts when in keyboard navigation\n     * mode.\n     */\n    addShortcutHandlers() {\n        this.origToolboxOnShortcut = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox.prototype.onShortcut;\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox.prototype.onShortcut = this.toolboxHandler;\n    }\n    /**\n     * Removes monkeypatches from core Blockly components.\n     */\n    removeShortcutHandlers() {\n        if (!this.origToolboxOnShortcut) {\n            throw new Error('no original onShortcut method recorded');\n        }\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox.prototype.onShortcut = this.origToolboxOnShortcut;\n        this.origToolboxOnShortcut = null;\n    }\n    /**\n     * Handles the given keyboard shortcut.\n     * This is only triggered when keyboard accessibility mode is enabled.\n     *\n     * @param shortcut The shortcut to be handled.\n     * @returns True if the toolbox handled the shortcut, false otherwise.\n     */\n    toolboxHandler(shortcut) {\n        if (!this.selectedItem_) {\n            return false;\n        }\n        switch (shortcut.name) {\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.UP:\n                // @ts-expect-error private method\n                return this.selectPrevious();\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LEFT:\n                // @ts-expect-error private method\n                return this.selectParent();\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DOWN:\n                // @ts-expect-error private method\n                return this.selectNext();\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.RIGHT:\n                // @ts-expect-error private method\n                return this.selectChild();\n            default:\n                return false;\n        }\n    }\n    /**\n     * Adds all necessary event listeners and markers to a workspace for keyboard\n     * navigation to work. This must be called for keyboard navigation to work\n     * on a workspace.\n     *\n     * @param workspace The workspace to add keyboard\n     *     navigation to.\n     */\n    addWorkspace(workspace) {\n        this.navigation.addWorkspace(workspace);\n    }\n    /**\n     * Removes all necessary event listeners and markers to a workspace for\n     * keyboard navigation to work.\n     *\n     * @param workspace The workspace to remove keyboard\n     *     navigation from.\n     */\n    removeWorkspace(workspace) {\n        this.navigation.removeWorkspace(workspace);\n    }\n    /**\n     * Turns on keyboard navigation.\n     *\n     * @param workspace The workspace to turn on keyboard\n     *     navigation for.\n     */\n    enable(workspace) {\n        this.navigation.enableKeyboardAccessibility(workspace);\n    }\n    /**\n     * Turns off keyboard navigation.\n     *\n     * @param workspace The workspace to turn off keyboard\n     *     navigation on.\n     */\n    disable(workspace) {\n        this.navigation.disableKeyboardAccessibility(workspace);\n    }\n    /**\n     * Registers all default keyboard shortcut items for keyboard\n     * navigation. This should be called once per instance of\n     * KeyboardShortcutRegistry.\n     */\n    registerDefaults() {\n        for (const shortcut of Object.values(this.shortcuts)) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n        this.deleteAction.install();\n        this.workspaceMovement.install();\n        this.arrowNavigation.install();\n        this.editAction.install();\n        this.exitAction.install();\n        this.enterAction.install();\n        this.disconnectAction.install();\n        this.actionMenu.install();\n        this.clipboard.install();\n        this.duplicateAction.install();\n        this.moveActions.install();\n        this.shortcutDialog.install();\n        this.stackNavigationAction.install();\n        // Initialize the shortcut modal with available shortcuts.  Needs\n        // to be done separately rather at construction, as many shortcuts\n        // are not registered at that point.\n        this.shortcutDialog.createModalContent();\n    }\n    /**\n     * Enable or disable connection highlighting during move operations.\n     *\n     * @param enabled Whether to show connection highlights when moving blocks.\n     */\n    setHighlightConnections(enabled) {\n        this.mover.setHighlightConnections(enabled);\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.mover.setFatterConnections(enabled);\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.mover.setConnectionSize(size);\n    }\n    /**\n     * Removes all the keyboard navigation shortcuts.\n     */\n    dispose() {\n        this.moveActions.uninstall();\n        this.deleteAction.uninstall();\n        this.editAction.uninstall();\n        this.disconnectAction.uninstall();\n        this.clipboard.uninstall();\n        this.duplicateAction.uninstall();\n        this.workspaceMovement.uninstall();\n        this.arrowNavigation.uninstall();\n        this.exitAction.uninstall();\n        this.enterAction.uninstall();\n        this.actionMenu.uninstall();\n        this.shortcutDialog.uninstall();\n        this.stackNavigationAction.uninstall();\n        // This should get unregistered when a move finishes,\n        // but it's possible the controller is disposed mid-move.\n        if (blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[_actions_mover__WEBPACK_IMPORTED_MODULE_14__.COMMIT_MOVE_SHORTCUT]) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_actions_mover__WEBPACK_IMPORTED_MODULE_14__.COMMIT_MOVE_SHORTCUT);\n        }\n        for (const shortcut of Object.values(this.shortcuts)) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name);\n        }\n        this.removeShortcutHandlers();\n        this.navigation.dispose();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRSxDQUFDLGlFQUFvQixDQUFDLEVBQUUsQ0FBQztZQUNsRSwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLGlFQUFvQixDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUVELEtBQUssTUFBTSxRQUFRLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztZQUNyRCwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0RCxDQUFDO1FBQ0QsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM1QixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL25hdmlnYXRpb25fY29udHJvbGxlci50cz8yMDRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFJlZ2lzdGVycyBhbGwgb2YgdGhlIGtleWJvYXJkIHNob3J0Y3V0cyB0aGF0IGFyZSBuZWNlc3NhcnkgZm9yXG4gKiBuYXZpZ2F0aW5nIGJsb2NrbHkgdXNpbmcgdGhlIGtleWJvYXJkLlxuICogQGF1dGhvciBhc2NobWllZHRAZ29vZ2xlLmNvbSAoQWJieSBTY2htaWVkdClcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge1xuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICBUb29sYm94LFxuICB1dGlscyBhcyBCbG9ja2x5VXRpbHMsXG4gIFdvcmtzcGFjZVN2ZyxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbn0gZnJvbSAnYmxvY2tseS9jb3JlJztcblxuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7Q2xpcGJvYXJkfSBmcm9tICcuL2FjdGlvbnMvY2xpcGJvYXJkJztcbmltcG9ydCB7RGVsZXRlQWN0aW9ufSBmcm9tICcuL2FjdGlvbnMvZGVsZXRlJztcbmltcG9ydCB7RWRpdEFjdGlvbn0gZnJvbSAnLi9hY3Rpb25zL2VkaXQnO1xuaW1wb3J0IHtOYXZpZ2F0aW9ufSBmcm9tICcuL25hdmlnYXRpb24nO1xuaW1wb3J0IHtTaG9ydGN1dERpYWxvZ30gZnJvbSAnLi9zaG9ydGN1dF9kaWFsb2cnO1xuaW1wb3J0IHtXb3Jrc3BhY2VNb3ZlbWVudH0gZnJvbSAnLi9hY3Rpb25zL3dzX21vdmVtZW50JztcbmltcG9ydCB7QXJyb3dOYXZpZ2F0aW9ufSBmcm9tICcuL2FjdGlvbnMvYXJyb3dfbmF2aWdhdGlvbic7XG5pbXBvcnQge0V4aXRBY3Rpb259IGZyb20gJy4vYWN0aW9ucy9leGl0JztcbmltcG9ydCB7RW50ZXJBY3Rpb259IGZyb20gJy4vYWN0aW9ucy9lbnRlcic7XG5pbXBvcnQge0Rpc2Nvbm5lY3RBY3Rpb259IGZyb20gJy4vYWN0aW9ucy9kaXNjb25uZWN0JztcbmltcG9ydCB7QWN0aW9uTWVudX0gZnJvbSAnLi9hY3Rpb25zL2FjdGlvbl9tZW51JztcbmltcG9ydCB7TW92ZUFjdGlvbnN9IGZyb20gJy4vYWN0aW9ucy9tb3ZlJztcbmltcG9ydCB7Q09NTUlUX01PVkVfU0hPUlRDVVQsIE1vdmVyfSBmcm9tICcuL2FjdGlvbnMvbW92ZXInO1xuaW1wb3J0IHtEdXBsaWNhdGVBY3Rpb259IGZyb20gJy4vYWN0aW9ucy9kdXBsaWNhdGUnO1xuaW1wb3J0IHtTdGFja05hdmlnYXRpb25BY3Rpb259IGZyb20gJy4vYWN0aW9ucy9zdGFja19uYXZpZ2F0aW9uJztcblxuY29uc3QgS2V5Q29kZXMgPSBCbG9ja2x5VXRpbHMuS2V5Q29kZXM7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHJlZ2lzdGVyaW5nIHNob3J0Y3V0cyBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Db250cm9sbGVyIHtcbiAgcHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uID0gbmV3IE5hdmlnYXRpb24oKTtcblxuICBwcml2YXRlIG1vdmVyOiBNb3ZlcjtcblxuICBzaG9ydGN1dERpYWxvZzogU2hvcnRjdXREaWFsb2cgPSBuZXcgU2hvcnRjdXREaWFsb2coKTtcblxuICAvKiogQ29udGV4dCBtZW51IGFuZCBrZXlib2FyZCBhY3Rpb24gZm9yIGRlbGV0aW9uLiAqL1xuICBkZWxldGVBY3Rpb246IERlbGV0ZUFjdGlvbiA9IG5ldyBEZWxldGVBY3Rpb24oKTtcblxuICAvKiogQ29udGV4dCBtZW51IGFuZCBrZXlib2FyZCBhY3Rpb24gZm9yIGRlbGV0aW9uLiAqL1xuICBlZGl0QWN0aW9uOiBFZGl0QWN0aW9uID0gbmV3IEVkaXRBY3Rpb24odGhpcy5uYXZpZ2F0aW9uKTtcblxuICAvKiogS2V5Ym9hcmQgc2hvcnRjdXQgZm9yIGRpc2Nvbm5lY3Rpb24uICovXG4gIGRpc2Nvbm5lY3RBY3Rpb246IERpc2Nvbm5lY3RBY3Rpb24gPSBuZXcgRGlzY29ubmVjdEFjdGlvbih0aGlzLm5hdmlnYXRpb24pO1xuXG4gIGNsaXBib2FyZDogQ2xpcGJvYXJkO1xuXG4gIGR1cGxpY2F0ZUFjdGlvbiA9IG5ldyBEdXBsaWNhdGVBY3Rpb24oKTtcblxuICB3b3Jrc3BhY2VNb3ZlbWVudDogV29ya3NwYWNlTW92ZW1lbnQgPSBuZXcgV29ya3NwYWNlTW92ZW1lbnQodGhpcy5uYXZpZ2F0aW9uKTtcblxuICAvKiogS2V5Ym9hcmQgbmF2aWdhdGlvbiBhY3Rpb25zIGZvciB0aGUgYXJyb3cga2V5cy4gKi9cbiAgYXJyb3dOYXZpZ2F0aW9uOiBBcnJvd05hdmlnYXRpb24gPSBuZXcgQXJyb3dOYXZpZ2F0aW9uKHRoaXMubmF2aWdhdGlvbik7XG5cbiAgZXhpdEFjdGlvbjogRXhpdEFjdGlvbiA9IG5ldyBFeGl0QWN0aW9uKHRoaXMubmF2aWdhdGlvbik7XG5cbiAgZW50ZXJBY3Rpb246IEVudGVyQWN0aW9uO1xuXG4gIGFjdGlvbk1lbnU6IEFjdGlvbk1lbnUgPSBuZXcgQWN0aW9uTWVudSh0aGlzLm5hdmlnYXRpb24pO1xuXG4gIG1vdmVBY3Rpb25zOiBNb3ZlQWN0aW9ucztcblxuICBzdGFja05hdmlnYXRpb25BY3Rpb246IFN0YWNrTmF2aWdhdGlvbkFjdGlvbiA9IG5ldyBTdGFja05hdmlnYXRpb25BY3Rpb24oKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIG9wdGlvbnM6IHtcbiAgICAgIGFsbG93Q3Jvc3NXb3Jrc3BhY2VQYXN0ZTogYm9vbGVhbjtcbiAgICAgIGhpZ2hsaWdodENvbm5lY3Rpb25zPzogYm9vbGVhbjtcbiAgICAgIHNob3VsZERpc2FibGVBdXRvU2Nyb2xsPzogKCkgPT4gYm9vbGVhbjtcbiAgICB9ID0ge1xuICAgICAgYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlOiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodENvbm5lY3Rpb25zOiB0cnVlLFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMubW92ZXIgPSBuZXcgTW92ZXIoXG4gICAgICB0aGlzLm5hdmlnYXRpb24sXG4gICAgICBvcHRpb25zLmhpZ2hsaWdodENvbm5lY3Rpb25zID8/IHRydWUsXG4gICAgICBvcHRpb25zLnNob3VsZERpc2FibGVBdXRvU2Nyb2xsXG4gICAgKTtcbiAgICB0aGlzLmVudGVyQWN0aW9uID0gbmV3IEVudGVyQWN0aW9uKHRoaXMubW92ZXIsIHRoaXMubmF2aWdhdGlvbik7XG4gICAgdGhpcy5tb3ZlQWN0aW9ucyA9IG5ldyBNb3ZlQWN0aW9ucyh0aGlzLm1vdmVyKTtcbiAgICB0aGlzLmNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQodGhpcy5uYXZpZ2F0aW9uLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcmlnaW5hbCBUb29sYm94LnByb3RvdHlwZS5vblNob3J0Y3V0IG1ldGhvZCwgc2F2ZWQgYnlcbiAgICogYWRkU2hvcnRjdXRIYW5kbGVycy5cbiAgICovXG4gIHByaXZhdGUgb3JpZ1Rvb2xib3hPblNob3J0Y3V0OlxuICAgIHwgdHlwZW9mIEJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUub25TaG9ydGN1dFxuICAgIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgZGVmYXVsdCBrZXlib2FyZCBzaG9ydGN1dHMgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuYWRkU2hvcnRjdXRIYW5kbGVycygpO1xuICAgIHRoaXMucmVnaXN0ZXJEZWZhdWx0cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vbmtleXBhdGNoZXMgY29yZSBCbG9ja2x5IGNvbXBvbmVudHMgdG8gYWRkIG1ldGhvZHMgdGhhdCBhbGxvd1xuICAgKiB0aGVtIHRvIGhhbmRsZSBrZXlib2FyZCBzaG9ydGN1dHMgd2hlbiBpbiBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAqIG1vZGUuXG4gICAqL1xuICBwcm90ZWN0ZWQgYWRkU2hvcnRjdXRIYW5kbGVycygpIHtcbiAgICB0aGlzLm9yaWdUb29sYm94T25TaG9ydGN1dCA9IFRvb2xib3gucHJvdG90eXBlLm9uU2hvcnRjdXQ7XG4gICAgVG9vbGJveC5wcm90b3R5cGUub25TaG9ydGN1dCA9IHRoaXMudG9vbGJveEhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBtb25rZXlwYXRjaGVzIGZyb20gY29yZSBCbG9ja2x5IGNvbXBvbmVudHMuXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVtb3ZlU2hvcnRjdXRIYW5kbGVycygpIHtcbiAgICBpZiAoIXRoaXMub3JpZ1Rvb2xib3hPblNob3J0Y3V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIG9yaWdpbmFsIG9uU2hvcnRjdXQgbWV0aG9kIHJlY29yZGVkJyk7XG4gICAgfVxuICAgIEJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUub25TaG9ydGN1dCA9IHRoaXMub3JpZ1Rvb2xib3hPblNob3J0Y3V0O1xuICAgIHRoaXMub3JpZ1Rvb2xib3hPblNob3J0Y3V0ID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBnaXZlbiBrZXlib2FyZCBzaG9ydGN1dC5cbiAgICogVGhpcyBpcyBvbmx5IHRyaWdnZXJlZCB3aGVuIGtleWJvYXJkIGFjY2Vzc2liaWxpdHkgbW9kZSBpcyBlbmFibGVkLlxuICAgKlxuICAgKiBAcGFyYW0gc2hvcnRjdXQgVGhlIHNob3J0Y3V0IHRvIGJlIGhhbmRsZWQuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHRvb2xib3ggaGFuZGxlZCB0aGUgc2hvcnRjdXQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHByb3RlY3RlZCB0b29sYm94SGFuZGxlcihcbiAgICB0aGlzOiBCbG9ja2x5LlRvb2xib3gsXG4gICAgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkSXRlbV8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3dpdGNoIChzaG9ydGN1dC5uYW1lKSB7XG4gICAgICBjYXNlIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5VUDpcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RQcmV2aW91cygpO1xuICAgICAgY2FzZSBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTEVGVDpcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RQYXJlbnQoKTtcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRPV046XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBtZXRob2RcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0TmV4dCgpO1xuICAgICAgY2FzZSBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuUklHSFQ6XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBtZXRob2RcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0Q2hpbGQoKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbGwgbmVjZXNzYXJ5IGV2ZW50IGxpc3RlbmVycyBhbmQgbWFya2VycyB0byBhIHdvcmtzcGFjZSBmb3Iga2V5Ym9hcmRcbiAgICogbmF2aWdhdGlvbiB0byB3b3JrLiBUaGlzIG11c3QgYmUgY2FsbGVkIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvIHdvcmtcbiAgICogb24gYSB3b3Jrc3BhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byBhZGQga2V5Ym9hcmRcbiAgICogICAgIG5hdmlnYXRpb24gdG8uXG4gICAqL1xuICBhZGRXb3Jrc3BhY2Uod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24uYWRkV29ya3NwYWNlKHdvcmtzcGFjZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgbmVjZXNzYXJ5IGV2ZW50IGxpc3RlbmVycyBhbmQgbWFya2VycyB0byBhIHdvcmtzcGFjZSBmb3JcbiAgICoga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byB3b3JrLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gcmVtb3ZlIGtleWJvYXJkXG4gICAqICAgICBuYXZpZ2F0aW9uIGZyb20uXG4gICAqL1xuICByZW1vdmVXb3Jrc3BhY2Uod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24ucmVtb3ZlV29ya3NwYWNlKHdvcmtzcGFjZSk7XG4gIH1cblxuICAvKipcbiAgICogVHVybnMgb24ga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIHR1cm4gb24ga2V5Ym9hcmRcbiAgICogICAgIG5hdmlnYXRpb24gZm9yLlxuICAgKi9cbiAgZW5hYmxlKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uLmVuYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSh3b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFR1cm5zIG9mZiBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gdHVybiBvZmYga2V5Ym9hcmRcbiAgICogICAgIG5hdmlnYXRpb24gb24uXG4gICAqL1xuICBkaXNhYmxlKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uLmRpc2FibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkod29ya3NwYWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaWN0aW9uYXJ5IG9mIEtleWJvYXJkU2hvcnRjdXRzLlxuICAgKi9cbiAgcHJvdGVjdGVkIHNob3J0Y3V0czoge1xuICAgIFtuYW1lOiBzdHJpbmddOiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQ7XG4gIH0gPSB7XG4gICAgLyoqIE1vdmUgZm9jdXMgdG8gb3IgZnJvbSB0aGUgdG9vbGJveC4gKi9cbiAgICBmb2N1c1Rvb2xib3g6IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5UT09MQk9YLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+ICF3b3Jrc3BhY2UuaXNEcmFnZ2luZygpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHtcbiAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRJc0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSkge1xuICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRTpcbiAgICAgICAgICAgIEJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNUcmVlKFxuICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpID8/XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEZseW91dCgpPy5nZXRXb3Jrc3BhY2UoKSA/P1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5UXSxcbiAgICB9LFxuXG4gICAgLyoqIENsZWFuIHVwIHRoZSB3b3Jrc3BhY2UuICovXG4gICAgY2xlYW51cDoge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkNMRUFOX1VQLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSkgJiZcbiAgICAgICAgd29ya3NwYWNlLmdldFRvcEJsb2NrcyhmYWxzZSkubGVuZ3RoID4gMCxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIHdvcmtzcGFjZS5jbGVhblVwKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuQ10sXG4gICAgfSxcbiAgfTtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFsbCBkZWZhdWx0IGtleWJvYXJkIHNob3J0Y3V0IGl0ZW1zIGZvciBrZXlib2FyZFxuICAgKiBuYXZpZ2F0aW9uLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgb25jZSBwZXIgaW5zdGFuY2Ugb2ZcbiAgICogS2V5Ym9hcmRTaG9ydGN1dFJlZ2lzdHJ5LlxuICAgKi9cbiAgcHJvdGVjdGVkIHJlZ2lzdGVyRGVmYXVsdHMoKSB7XG4gICAgZm9yIChjb25zdCBzaG9ydGN1dCBvZiBPYmplY3QudmFsdWVzKHRoaXMuc2hvcnRjdXRzKSkge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihzaG9ydGN1dCk7XG4gICAgfVxuICAgIHRoaXMuZGVsZXRlQWN0aW9uLmluc3RhbGwoKTtcbiAgICB0aGlzLndvcmtzcGFjZU1vdmVtZW50Lmluc3RhbGwoKTtcbiAgICB0aGlzLmFycm93TmF2aWdhdGlvbi5pbnN0YWxsKCk7XG4gICAgdGhpcy5lZGl0QWN0aW9uLmluc3RhbGwoKTtcbiAgICB0aGlzLmV4aXRBY3Rpb24uaW5zdGFsbCgpO1xuICAgIHRoaXMuZW50ZXJBY3Rpb24uaW5zdGFsbCgpO1xuICAgIHRoaXMuZGlzY29ubmVjdEFjdGlvbi5pbnN0YWxsKCk7XG4gICAgdGhpcy5hY3Rpb25NZW51Lmluc3RhbGwoKTtcblxuICAgIHRoaXMuY2xpcGJvYXJkLmluc3RhbGwoKTtcbiAgICB0aGlzLmR1cGxpY2F0ZUFjdGlvbi5pbnN0YWxsKCk7XG4gICAgdGhpcy5tb3ZlQWN0aW9ucy5pbnN0YWxsKCk7XG4gICAgdGhpcy5zaG9ydGN1dERpYWxvZy5pbnN0YWxsKCk7XG4gICAgdGhpcy5zdGFja05hdmlnYXRpb25BY3Rpb24uaW5zdGFsbCgpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgc2hvcnRjdXQgbW9kYWwgd2l0aCBhdmFpbGFibGUgc2hvcnRjdXRzLiAgTmVlZHNcbiAgICAvLyB0byBiZSBkb25lIHNlcGFyYXRlbHkgcmF0aGVyIGF0IGNvbnN0cnVjdGlvbiwgYXMgbWFueSBzaG9ydGN1dHNcbiAgICAvLyBhcmUgbm90IHJlZ2lzdGVyZWQgYXQgdGhhdCBwb2ludC5cbiAgICB0aGlzLnNob3J0Y3V0RGlhbG9nLmNyZWF0ZU1vZGFsQ29udGVudCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0aW5nIGR1cmluZyBtb3ZlIG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBlbmFibGVkIFdoZXRoZXIgdG8gc2hvdyBjb25uZWN0aW9uIGhpZ2hsaWdodHMgd2hlbiBtb3ZpbmcgYmxvY2tzLlxuICAgKi9cbiAgc2V0SGlnaGxpZ2h0Q29ubmVjdGlvbnMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMubW92ZXIuc2V0SGlnaGxpZ2h0Q29ubmVjdGlvbnMoZW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgZmF0dGVyIGNvbm5lY3Rpb24gaGlnaGxpZ2h0cy5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0byB1c2UgZmF0dGVyIGNvbm5lY3Rpb25zIHdpdGggbGFyZ2VyIGNsaWNrIHRhcmdldHMuXG4gICAqL1xuICBzZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5tb3Zlci5zZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IHNpemUuXG4gICAqXG4gICAqIEBwYXJhbSBzaXplIFRoZSBzaXplIGxldmVsOiAnbWluaW1hbCcsICdtZWRpdW0nLCBvciAnbGFyZ2UnLlxuICAgKi9cbiAgc2V0Q29ubmVjdGlvblNpemUoc2l6ZTogJ21pbmltYWwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnKTogdm9pZCB7XG4gICAgdGhpcy5tb3Zlci5zZXRDb25uZWN0aW9uU2l6ZShzaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCB0aGUga2V5Ym9hcmQgbmF2aWdhdGlvbiBzaG9ydGN1dHMuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIHRoaXMubW92ZUFjdGlvbnMudW5pbnN0YWxsKCk7XG4gICAgdGhpcy5kZWxldGVBY3Rpb24udW5pbnN0YWxsKCk7XG4gICAgdGhpcy5lZGl0QWN0aW9uLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuZGlzY29ubmVjdEFjdGlvbi51bmluc3RhbGwoKTtcbiAgICB0aGlzLmNsaXBib2FyZC51bmluc3RhbGwoKTtcbiAgICB0aGlzLmR1cGxpY2F0ZUFjdGlvbi51bmluc3RhbGwoKTtcbiAgICB0aGlzLndvcmtzcGFjZU1vdmVtZW50LnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuYXJyb3dOYXZpZ2F0aW9uLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuZXhpdEFjdGlvbi51bmluc3RhbGwoKTtcbiAgICB0aGlzLmVudGVyQWN0aW9uLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuYWN0aW9uTWVudS51bmluc3RhbGwoKTtcbiAgICB0aGlzLnNob3J0Y3V0RGlhbG9nLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuc3RhY2tOYXZpZ2F0aW9uQWN0aW9uLnVuaW5zdGFsbCgpO1xuXG4gICAgLy8gVGhpcyBzaG91bGQgZ2V0IHVucmVnaXN0ZXJlZCB3aGVuIGEgbW92ZSBmaW5pc2hlcyxcbiAgICAvLyBidXQgaXQncyBwb3NzaWJsZSB0aGUgY29udHJvbGxlciBpcyBkaXNwb3NlZCBtaWQtbW92ZS5cbiAgICBpZiAoU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5nZXRSZWdpc3RyeSgpW0NPTU1JVF9NT1ZFX1NIT1JUQ1VUXSkge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENPTU1JVF9NT1ZFX1NIT1JUQ1VUKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHNob3J0Y3V0IG9mIE9iamVjdC52YWx1ZXModGhpcy5zaG9ydGN1dHMpKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoc2hvcnRjdXQubmFtZSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlU2hvcnRjdXRIYW5kbGVycygpO1xuICAgIHRoaXMubmF2aWdhdGlvbi5kaXNwb3NlKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/navigation_controller.ts\n");

/***/ }),

/***/ "../../src/navigation_deferring_toolbox.ts":
/*!*************************************************!*\
  !*** ../../src/navigation_deferring_toolbox.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavigationDeferringToolbox: () => (/* binding */ NavigationDeferringToolbox),\n/* harmony export */   registerNavigationDeferringToolbox: () => (/* binding */ registerNavigationDeferringToolbox)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Toolbox class that does not handle keyboard navigation.\n */\nclass NavigationDeferringToolbox extends blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    onKeyDown_(e) {\n        // No-op, prevent keyboard handling by superclass in order to defer to\n        // global keyboard navigation.\n    }\n}\n/**\n * Registers the navigation-deferring toolbox with Blockly.\n */\nfunction registerNavigationDeferringToolbox() {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.register(blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.Type.TOOLBOX, blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.DEFAULT, NavigationDeferringToolbox, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vc3JjL25hdmlnYXRpb25fZGVmZXJyaW5nX3Rvb2xib3gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7R0FJRztBQUVxQztBQUV4Qzs7R0FFRztBQUNJLE1BQU0sMEJBQTJCLFNBQVEsaURBQWU7SUFDN0QsZ0VBQWdFO0lBQzdDLFVBQVUsQ0FBQyxDQUFnQjtRQUM1QyxzRUFBc0U7UUFDdEUsOEJBQThCO0lBQ2hDLENBQUM7Q0FDRjtBQUVEOztHQUVHO0FBQ0ksU0FBUyxrQ0FBa0M7SUFDaEQsa0RBQWdCLENBQUMsUUFBUSxDQUN2QixrREFBZ0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUM3QixrREFBZ0IsQ0FBQyxPQUFPLEVBQ3hCLDBCQUEwQixFQUMxQixJQUFJLENBQ0wsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL25hdmlnYXRpb25fZGVmZXJyaW5nX3Rvb2xib3gudHM/ZDM1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuLyoqXG4gKiBUb29sYm94IGNsYXNzIHRoYXQgZG9lcyBub3QgaGFuZGxlIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uRGVmZXJyaW5nVG9vbGJveCBleHRlbmRzIEJsb2NrbHkuVG9vbGJveCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIG9uS2V5RG93bl8oZTogS2V5Ym9hcmRFdmVudCkge1xuICAgIC8vIE5vLW9wLCBwcmV2ZW50IGtleWJvYXJkIGhhbmRsaW5nIGJ5IHN1cGVyY2xhc3MgaW4gb3JkZXIgdG8gZGVmZXIgdG9cbiAgICAvLyBnbG9iYWwga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgbmF2aWdhdGlvbi1kZWZlcnJpbmcgdG9vbGJveCB3aXRoIEJsb2NrbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlck5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94KCkge1xuICBCbG9ja2x5LnJlZ2lzdHJ5LnJlZ2lzdGVyKFxuICAgIEJsb2NrbHkucmVnaXN0cnkuVHlwZS5UT09MQk9YLFxuICAgIEJsb2NrbHkucmVnaXN0cnkuREVGQVVMVCxcbiAgICBOYXZpZ2F0aW9uRGVmZXJyaW5nVG9vbGJveCxcbiAgICB0cnVlLFxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/navigation_deferring_toolbox.ts\n");

/***/ }),

/***/ "../../src/shortcut_dialog.ts":
/*!************************************!*\
  !*** ../../src/shortcut_dialog.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ShortcutDialog: () => (/* binding */ ShortcutDialog)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"../../src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shortcut_formatting */ \"../../src/shortcut_formatting.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hints */ \"../../src/hints.ts\");\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n/**\n * Class for handling the shortcuts dialog.\n */\nclass ShortcutDialog {\n    /**\n     * Constructor for a dialog that displays available keyboard shortcuts.\n     */\n    constructor() {\n        // For testing purposes, this assumes that the page has a\n        // div named 'shortcuts'.\n        this.outputDiv = document.getElementById('shortcuts');\n        this.open = false;\n        this.modalContainer = null;\n        this.shortcutDialog = null;\n        this.closeButton = null;\n    }\n    getPlatform() {\n        const { platform, userAgent } = navigator;\n        if (platform.startsWith('Win')) {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['WINDOWS'];\n        }\n        else if (platform.startsWith('Mac')) {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['MAC_OS'];\n        }\n        else if (/\\bCrOS\\b/.test(userAgent)) {\n            // Order is important because platform matches the Linux case below.\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['CHROME_OS'];\n        }\n        else if (platform.includes('Linux')) {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['LINUX'];\n        }\n        else {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['UNKNOWN'];\n        }\n    }\n    toggle(workspace) {\n        (0,_hints__WEBPACK_IMPORTED_MODULE_3__.clearHelpHint)(workspace);\n        this.toggleInternal();\n    }\n    toggleInternal() {\n        if (this.modalContainer && this.shortcutDialog) {\n            // Use built in dialog methods.\n            if (this.shortcutDialog.hasAttribute('open')) {\n                this.shortcutDialog.close();\n            }\n            else {\n                this.shortcutDialog.showModal();\n            }\n        }\n    }\n    /**\n     * Munges a shortcut name into human readable text.\n     *\n     * @param shortcutName Shortcut name to convert.\n     * @returns A title case version of the name.\n     */\n    getReadableShortcutName(shortcutName) {\n        if (_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES_TO_DISPLAY_TEXT[shortcutName]) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES_TO_DISPLAY_TEXT[shortcutName];\n        }\n        return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.upperCaseFirst)(shortcutName.replace(/_/gi, ' '));\n    }\n    /**\n     * List all currently registered shortcuts as a table.\n     */\n    createModalContent() {\n        let shortcutTables = ``;\n        // Display shortcuts by their categories.\n        for (const [key, categoryShortcuts] of Object.entries(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_CATEGORIES)) {\n            let shortcutTableRows = ``;\n            for (const keyboardShortcut of categoryShortcuts) {\n                shortcutTableRows += this.getTableRowForShortcut(keyboardShortcut);\n            }\n            shortcutTables += `\n        <table class=\"shortcut-table\">\n          <tbody>\n            <tr class=\"category\"><th colspan=\"3\"><h2>${key}</h2></th></tr>\n            ${shortcutTableRows}\n          </tbody>\n        </table>`;\n        }\n        const modalContents = `<div class=\"modal-container\">\n      <dialog class=\"shortcut-modal\">\n        <div class=\"shortcut-container\" tabindex=\"0\">\n          <div class=\"header\">\n            <button class=\"close-modal\">\n              <span class=\"material-symbols-outlined\">close</span>\n            </button>\n            <h1>${blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_HELP_HEADER'] || 'Keyboard shortcuts'}  <span class=\"platform\">${this.getPlatform()}</span></h1>\n          </div>\n          <div class=\"shortcut-tables\">\n          ${shortcutTables}\n          </div>\n        </dialog>\n      </div>`;\n        if (this.outputDiv) {\n            this.outputDiv.innerHTML = modalContents;\n            this.modalContainer = this.outputDiv.querySelector('.modal-container');\n            this.shortcutDialog = this.outputDiv.querySelector('.shortcut-modal');\n            this.closeButton = this.outputDiv.querySelector('.close-modal');\n            if (this.closeButton) {\n                this.closeButton.addEventListener('click', (e) => {\n                    this.toggleInternal();\n                });\n            }\n        }\n    }\n    getTableRowForShortcut(keyboardShortcut) {\n        const name = this.getReadableShortcutName(keyboardShortcut);\n        const keys = this.actionShortcutsToHTML(keyboardShortcut);\n        if (!name || !keys)\n            return '';\n        return `\n              <tr>\n                <td>${name}</td>\n                <td>${keys}</td>\n              </tr>`;\n    }\n    actionShortcutsToHTML(action) {\n        const shortcuts = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getLongActionShortcutsAsKeys)(action);\n        return shortcuts.map((keys) => this.keysToHTML(keys)).join(' / ');\n    }\n    keysToHTML(keys) {\n        const separator = navigator.platform.startsWith('Mac') ? '' : ' + ';\n        if (!keys || !keys.length)\n            return '';\n        return [\n            `<span class=\"shortcut-combo\">`,\n            ...keys.map((key, index) => {\n                return `<span class=\"key\">${key}</span>${index < keys.length - 1 ? separator : ''}`;\n            }),\n            `</span>`,\n        ].join('');\n    }\n    /**\n     * Registers an action to list shortcuts with the shortcut registry.\n     */\n    install() {\n        /** List all of the currently registered shortcuts. */\n        const announceShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LIST_SHORTCUTS,\n            callback: (workspace) => {\n                this.toggle(workspace);\n                return true;\n            },\n            keyCodes: [blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.SLASH],\n        };\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(announceShortcut);\n    }\n    /**\n     * Unregisters the action to list shortcuts.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LIST_SHORTCUTS);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQztZQUNELFFBQVEsRUFBRSxDQUFDLCtDQUFhLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztTQUN6QyxDQUFDO1FBQ0YsMERBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUNsQyxzREFBd0IsQ0FBQyxjQUFjLENBQ3hDLENBQUM7SUFDSixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL3Nob3J0Y3V0X2RpYWxvZy50cz9jNjdjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7TXNnLCBTaG9ydGN1dFJlZ2lzdHJ5fSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0IHtcbiAgZ2V0TG9uZ0FjdGlvblNob3J0Y3V0c0FzS2V5cyxcbiAgdXBwZXJDYXNlRmlyc3QsXG59IGZyb20gJy4vc2hvcnRjdXRfZm9ybWF0dGluZyc7XG5pbXBvcnQge2NsZWFySGVscEhpbnR9IGZyb20gJy4vaGludHMnO1xuXG4vKipcbiAqIENsYXNzIGZvciBoYW5kbGluZyB0aGUgc2hvcnRjdXRzIGRpYWxvZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNob3J0Y3V0RGlhbG9nIHtcbiAgb3V0cHV0RGl2OiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIG1vZGFsQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIHNob3J0Y3V0RGlhbG9nOiBIVE1MRGlhbG9nRWxlbWVudCB8IG51bGw7XG4gIG9wZW46IGJvb2xlYW47XG4gIGNsb3NlQnV0dG9uOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBkaWFsb2cgdGhhdCBkaXNwbGF5cyBhdmFpbGFibGUga2V5Ym9hcmQgc2hvcnRjdXRzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gRm9yIHRlc3RpbmcgcHVycG9zZXMsIHRoaXMgYXNzdW1lcyB0aGF0IHRoZSBwYWdlIGhhcyBhXG4gICAgLy8gZGl2IG5hbWVkICdzaG9ydGN1dHMnLlxuICAgIHRoaXMub3V0cHV0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3J0Y3V0cycpO1xuXG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgdGhpcy5tb2RhbENvbnRhaW5lciA9IG51bGw7XG4gICAgdGhpcy5zaG9ydGN1dERpYWxvZyA9IG51bGw7XG4gICAgdGhpcy5jbG9zZUJ1dHRvbiA9IG51bGw7XG4gIH1cblxuICBnZXRQbGF0Zm9ybSgpIHtcbiAgICBjb25zdCB7cGxhdGZvcm0sIHVzZXJBZ2VudH0gPSBuYXZpZ2F0b3I7XG4gICAgaWYgKHBsYXRmb3JtLnN0YXJ0c1dpdGgoJ1dpbicpKSB7XG4gICAgICByZXR1cm4gTXNnWydXSU5ET1dTJ107XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5zdGFydHNXaXRoKCdNYWMnKSkge1xuICAgICAgcmV0dXJuIE1zZ1snTUFDX09TJ107XG4gICAgfSBlbHNlIGlmICgvXFxiQ3JPU1xcYi8udGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgICAvLyBPcmRlciBpcyBpbXBvcnRhbnQgYmVjYXVzZSBwbGF0Zm9ybSBtYXRjaGVzIHRoZSBMaW51eCBjYXNlIGJlbG93LlxuICAgICAgcmV0dXJuIE1zZ1snQ0hST01FX09TJ107XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pbmNsdWRlcygnTGludXgnKSkge1xuICAgICAgcmV0dXJuIE1zZ1snTElOVVgnXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE1zZ1snVU5LTk9XTiddO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZSh3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgY2xlYXJIZWxwSGludCh3b3Jrc3BhY2UpO1xuICAgIHRoaXMudG9nZ2xlSW50ZXJuYWwoKTtcbiAgfVxuXG4gIHRvZ2dsZUludGVybmFsKCkge1xuICAgIGlmICh0aGlzLm1vZGFsQ29udGFpbmVyICYmIHRoaXMuc2hvcnRjdXREaWFsb2cpIHtcbiAgICAgIC8vIFVzZSBidWlsdCBpbiBkaWFsb2cgbWV0aG9kcy5cbiAgICAgIGlmICh0aGlzLnNob3J0Y3V0RGlhbG9nLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XG4gICAgICAgIHRoaXMuc2hvcnRjdXREaWFsb2cuY2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvcnRjdXREaWFsb2cuc2hvd01vZGFsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE11bmdlcyBhIHNob3J0Y3V0IG5hbWUgaW50byBodW1hbiByZWFkYWJsZSB0ZXh0LlxuICAgKlxuICAgKiBAcGFyYW0gc2hvcnRjdXROYW1lIFNob3J0Y3V0IG5hbWUgdG8gY29udmVydC5cbiAgICogQHJldHVybnMgQSB0aXRsZSBjYXNlIHZlcnNpb24gb2YgdGhlIG5hbWUuXG4gICAqL1xuICBnZXRSZWFkYWJsZVNob3J0Y3V0TmFtZShzaG9ydGN1dE5hbWU6IHN0cmluZykge1xuICAgIGlmIChDb25zdGFudHMuU0hPUlRDVVRfTkFNRVNfVE9fRElTUExBWV9URVhUW3Nob3J0Y3V0TmFtZV0pIHtcbiAgICAgIHJldHVybiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVNfVE9fRElTUExBWV9URVhUW3Nob3J0Y3V0TmFtZV07XG4gICAgfVxuICAgIHJldHVybiB1cHBlckNhc2VGaXJzdChzaG9ydGN1dE5hbWUucmVwbGFjZSgvXy9naSwgJyAnKSk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdCBhbGwgY3VycmVudGx5IHJlZ2lzdGVyZWQgc2hvcnRjdXRzIGFzIGEgdGFibGUuXG4gICAqL1xuICBjcmVhdGVNb2RhbENvbnRlbnQoKSB7XG4gICAgbGV0IHNob3J0Y3V0VGFibGVzID0gYGA7XG5cbiAgICAvLyBEaXNwbGF5IHNob3J0Y3V0cyBieSB0aGVpciBjYXRlZ29yaWVzLlxuICAgIGZvciAoY29uc3QgW2tleSwgY2F0ZWdvcnlTaG9ydGN1dHNdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgQ29uc3RhbnRzLlNIT1JUQ1VUX0NBVEVHT1JJRVMsXG4gICAgKSkge1xuICAgICAgbGV0IHNob3J0Y3V0VGFibGVSb3dzID0gYGA7XG4gICAgICBmb3IgKGNvbnN0IGtleWJvYXJkU2hvcnRjdXQgb2YgY2F0ZWdvcnlTaG9ydGN1dHMpIHtcbiAgICAgICAgc2hvcnRjdXRUYWJsZVJvd3MgKz0gdGhpcy5nZXRUYWJsZVJvd0ZvclNob3J0Y3V0KFxuICAgICAgICAgIGtleWJvYXJkU2hvcnRjdXQgYXMgc3RyaW5nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgc2hvcnRjdXRUYWJsZXMgKz0gYFxuICAgICAgICA8dGFibGUgY2xhc3M9XCJzaG9ydGN1dC10YWJsZVwiPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDx0ciBjbGFzcz1cImNhdGVnb3J5XCI+PHRoIGNvbHNwYW49XCIzXCI+PGgyPiR7a2V5fTwvaDI+PC90aD48L3RyPlxuICAgICAgICAgICAgJHtzaG9ydGN1dFRhYmxlUm93c31cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPmA7XG4gICAgfVxuXG4gICAgY29uc3QgbW9kYWxDb250ZW50cyA9IGA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGFpbmVyXCI+XG4gICAgICA8ZGlhbG9nIGNsYXNzPVwic2hvcnRjdXQtbW9kYWxcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNob3J0Y3V0LWNvbnRhaW5lclwiIHRhYmluZGV4PVwiMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbG9zZS1tb2RhbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWRcIj5jbG9zZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGgxPiR7TXNnWydTSE9SVENVVFNfSEVMUF9IRUFERVInXSB8fCAnS2V5Ym9hcmQgc2hvcnRjdXRzJ30g4oCTIDxzcGFuIGNsYXNzPVwicGxhdGZvcm1cIj4ke3RoaXMuZ2V0UGxhdGZvcm0oKX08L3NwYW4+PC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXQtdGFibGVzXCI+XG4gICAgICAgICAgJHtzaG9ydGN1dFRhYmxlc31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaWFsb2c+XG4gICAgICA8L2Rpdj5gO1xuICAgIGlmICh0aGlzLm91dHB1dERpdikge1xuICAgICAgdGhpcy5vdXRwdXREaXYuaW5uZXJIVE1MID0gbW9kYWxDb250ZW50cztcbiAgICAgIHRoaXMubW9kYWxDb250YWluZXIgPSB0aGlzLm91dHB1dERpdi5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY29udGFpbmVyJyk7XG4gICAgICB0aGlzLnNob3J0Y3V0RGlhbG9nID0gdGhpcy5vdXRwdXREaXYucXVlcnlTZWxlY3RvcignLnNob3J0Y3V0LW1vZGFsJyk7XG4gICAgICB0aGlzLmNsb3NlQnV0dG9uID0gdGhpcy5vdXRwdXREaXYucXVlcnlTZWxlY3RvcignLmNsb3NlLW1vZGFsJyk7XG4gICAgICBpZiAodGhpcy5jbG9zZUJ1dHRvbikge1xuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZUludGVybmFsKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VGFibGVSb3dGb3JTaG9ydGN1dChrZXlib2FyZFNob3J0Y3V0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy5nZXRSZWFkYWJsZVNob3J0Y3V0TmFtZShrZXlib2FyZFNob3J0Y3V0KTtcbiAgICBjb25zdCBrZXlzID0gdGhpcy5hY3Rpb25TaG9ydGN1dHNUb0hUTUwoa2V5Ym9hcmRTaG9ydGN1dCk7XG4gICAgaWYgKCFuYW1lIHx8ICFrZXlzKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD4ke25hbWV9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+JHtrZXlzfTwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+YDtcbiAgfVxuXG4gIHByaXZhdGUgYWN0aW9uU2hvcnRjdXRzVG9IVE1MKGFjdGlvbjogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2hvcnRjdXRzID0gZ2V0TG9uZ0FjdGlvblNob3J0Y3V0c0FzS2V5cyhhY3Rpb24pO1xuICAgIHJldHVybiBzaG9ydGN1dHMubWFwKChrZXlzKSA9PiB0aGlzLmtleXNUb0hUTUwoa2V5cykpLmpvaW4oJyAvICcpO1xuICB9XG5cbiAgcHJpdmF0ZSBrZXlzVG9IVE1MKGtleXM6IHN0cmluZ1tdKSB7XG4gICAgY29uc3Qgc2VwYXJhdG9yID0gbmF2aWdhdG9yLnBsYXRmb3JtLnN0YXJ0c1dpdGgoJ01hYycpID8gJycgOiAnICsgJztcbiAgICBpZiAoIWtleXMgfHwgIWtleXMubGVuZ3RoKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIFtcbiAgICAgIGA8c3BhbiBjbGFzcz1cInNob3J0Y3V0LWNvbWJvXCI+YCxcbiAgICAgIC4uLmtleXMubWFwKChrZXksIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJrZXlcIj4ke2tleX08L3NwYW4+JHtpbmRleCA8IGtleXMubGVuZ3RoIC0gMSA/IHNlcGFyYXRvciA6ICcnfWA7XG4gICAgICB9KSxcbiAgICAgIGA8L3NwYW4+YCxcbiAgICBdLmpvaW4oJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhbiBhY3Rpb24gdG8gbGlzdCBzaG9ydGN1dHMgd2l0aCB0aGUgc2hvcnRjdXQgcmVnaXN0cnkuXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIC8qKiBMaXN0IGFsbCBvZiB0aGUgY3VycmVudGx5IHJlZ2lzdGVyZWQgc2hvcnRjdXRzLiAqL1xuICAgIGNvbnN0IGFubm91bmNlU2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5MSVNUX1NIT1JUQ1VUUyxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIHRoaXMudG9nZ2xlKHdvcmtzcGFjZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5TTEFTSF0sXG4gICAgfTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKGFubm91bmNlU2hvcnRjdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIHRoZSBhY3Rpb24gdG8gbGlzdCBzaG9ydGN1dHMuXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKFxuICAgICAgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkxJU1RfU0hPUlRDVVRTLFxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/shortcut_dialog.ts\n");

/***/ }),

/***/ "../../src/shortcut_formatting.ts":
/*!****************************************!*\
  !*** ../../src/shortcut_formatting.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLongActionShortcutsAsKeys: () => (/* binding */ getLongActionShortcutsAsKeys),\n/* harmony export */   getMenuItem: () => (/* binding */ getMenuItem),\n/* harmony export */   getShortActionShortcut: () => (/* binding */ getShortActionShortcut),\n/* harmony export */   upperCaseFirst: () => (/* binding */ upperCaseFirst)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"../../node_modules/blockly/index.mjs\");\n/* harmony import */ var _keynames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keynames */ \"../../src/keynames.ts\");\n\n\nconst isMacPlatform = navigator.platform.startsWith('Mac');\n/**\n * Returns an HTML menu item with a label and grey keyboard shortcut.\n *\n * @param labelText The text of the mneu item.\n * @param action The identifier of an action to use the keyboard shortcut of.\n * @returns A nicely formatted menu item.\n */\nfunction getMenuItem(labelText, action) {\n    // TODO: Once core is updated to remove the shortcut placeholders from the\n    // keyboard shortcut messages, remove this.\n    if (labelText.indexOf(')') === labelText.length - 1) {\n        labelText = labelText.split(' (')[0];\n    }\n    const container = document.createElement('div');\n    container.className = 'blocklyShortcutContainer';\n    const label = document.createElement('span');\n    label.textContent = labelText;\n    const shortcut = document.createElement('span');\n    shortcut.className = 'blocklyShortcut';\n    shortcut.textContent = ` ${getShortActionShortcut(action)}`;\n    container.appendChild(label);\n    container.appendChild(shortcut);\n    return container;\n}\n/**\n * Find the primary shortcut for this platform and return it as single string\n * in a short user facing format.\n *\n * @param action The action name, e.g. \"cut\".\n * @returns The formatted shortcut.\n */\nfunction getShortActionShortcut(action) {\n    const parts = getActionShortcutsAsKeys(action, shortModifierNames)[0];\n    return parts.join(isMacPlatform ? ' ' : ' + ');\n}\n/**\n * Find the relevant shortcuts for the given action for the current platform.\n * Keys are returned in a long user facing format.\n *\n * @param action The action name, e.g. \"cut\".\n * @returns The formatted shortcuts as individual keys.\n */\nfunction getLongActionShortcutsAsKeys(action) {\n    return getActionShortcutsAsKeys(action, longModifierNames);\n}\nconst longModifierNames = {\n    'Control': blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['CONTROL_KEY'],\n    'Meta': blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['COMMAND_KEY'],\n    'Alt': isMacPlatform ? blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['OPTION_KEY'] : blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['ALT_KEY'],\n};\nconst shortModifierNames = {\n    'Control': blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['CONTROL_KEY'],\n    'Meta': '',\n    'Alt': isMacPlatform ? '' : blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['ALT_KEY'],\n};\n/**\n * Find the relevant shortcuts for the given action for the current platform.\n * Keys are returned in a user facing format.\n *\n * This could be considerably simpler if we only bound shortcuts relevant to the\n * current platform or tagged them with a platform.\n *\n * @param action The action name, e.g. \"cut\".\n * @param modifierNames The names to use for the Meta/Control/Alt modifiers.\n * @returns The formatted shortcuts.\n */\nfunction getActionShortcutsAsKeys(action, modifierNames) {\n    const shortcuts = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getKeyCodesByShortcutName(action);\n    if (shortcuts.length === 0) {\n        return [];\n    }\n    // See ShortcutRegistry.createSerializedKey for the starting format.\n    const shortcutsAsParts = shortcuts.map((shortcut) => shortcut.split('+'));\n    // Prefer e.g. Cmd+Shift to Shift+Cmd.\n    shortcutsAsParts.forEach((s) => s.sort((a, b) => {\n        const aValue = modifierOrder(a);\n        const bValue = modifierOrder(b);\n        return aValue - bValue;\n    }));\n    // Needed to prefer Command to Option where we've bound Alt.\n    shortcutsAsParts.sort((a, b) => {\n        const aValue = a.includes('Meta') ? 1 : 0;\n        const bValue = b.includes('Meta') ? 1 : 0;\n        return bValue - aValue;\n    });\n    let currentPlatform = shortcutsAsParts.filter((shortcut) => {\n        const isMacShortcut = shortcut.includes('Meta');\n        return isMacShortcut === isMacPlatform;\n    });\n    currentPlatform =\n        currentPlatform.length === 0 ? shortcutsAsParts : currentPlatform;\n    // Prefer simpler shortcuts. This promotes Ctrl+Y for redo.\n    currentPlatform.sort((a, b) => {\n        return a.length - b.length;\n    });\n    // If there are modifiers return only one shortcut on the assumption they are\n    // intended for different platforms. Otherwise assume they are alternatives.\n    const hasModifiers = currentPlatform.some((shortcut) => shortcut.some((key) => 'Meta' === key || 'Alt' === key || 'Control' === key));\n    const chosen = hasModifiers ? [currentPlatform[0]] : currentPlatform;\n    return chosen.map((shortcut) => {\n        return shortcut\n            .map((maybeNumeric) => { var _a; return (_a = _keynames__WEBPACK_IMPORTED_MODULE_1__.keyNames[maybeNumeric]) !== null && _a !== void 0 ? _a : maybeNumeric; })\n            .map((k) => { var _a; return upperCaseFirst((_a = modifierNames[k]) !== null && _a !== void 0 ? _a : k); });\n    });\n}\n/**\n * Convert the first character to uppercase.\n *\n * @param str String.\n * @returns The string in title case.\n */\nfunction upperCaseFirst(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n}\n/**\n * Preferred listing order of untranslated modifiers.\n */\nconst modifierOrdering = ['Meta', 'Control', 'Alt', 'Shift'];\nfunction modifierOrder(key) {\n    const order = modifierOrdering.indexOf(key);\n    // Regular keys at the end.\n    return order === -1 ? Number.MAX_VALUE : order;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFFdkUsU0FBUyxhQUFhLENBQUMsR0FBVztJQUNoQyxNQUFNLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUMsMkJBQTJCO0lBQzNCLE9BQU8sS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDakQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9zcmMvc2hvcnRjdXRfZm9ybWF0dGluZy50cz9lMTRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U2hvcnRjdXRSZWdpc3RyeSwgTXNnfSBmcm9tICdibG9ja2x5JztcbmltcG9ydCB7a2V5TmFtZXN9IGZyb20gJy4va2V5bmFtZXMnO1xuXG5jb25zdCBpc01hY1BsYXRmb3JtID0gbmF2aWdhdG9yLnBsYXRmb3JtLnN0YXJ0c1dpdGgoJ01hYycpO1xuXG4vKipcbiAqIFJldHVybnMgYW4gSFRNTCBtZW51IGl0ZW0gd2l0aCBhIGxhYmVsIGFuZCBncmV5IGtleWJvYXJkIHNob3J0Y3V0LlxuICpcbiAqIEBwYXJhbSBsYWJlbFRleHQgVGhlIHRleHQgb2YgdGhlIG1uZXUgaXRlbS5cbiAqIEBwYXJhbSBhY3Rpb24gVGhlIGlkZW50aWZpZXIgb2YgYW4gYWN0aW9uIHRvIHVzZSB0aGUga2V5Ym9hcmQgc2hvcnRjdXQgb2YuXG4gKiBAcmV0dXJucyBBIG5pY2VseSBmb3JtYXR0ZWQgbWVudSBpdGVtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVudUl0ZW0obGFiZWxUZXh0OiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAvLyBUT0RPOiBPbmNlIGNvcmUgaXMgdXBkYXRlZCB0byByZW1vdmUgdGhlIHNob3J0Y3V0IHBsYWNlaG9sZGVycyBmcm9tIHRoZVxuICAvLyBrZXlib2FyZCBzaG9ydGN1dCBtZXNzYWdlcywgcmVtb3ZlIHRoaXMuXG4gIGlmIChsYWJlbFRleHQuaW5kZXhPZignKScpID09PSBsYWJlbFRleHQubGVuZ3RoIC0gMSkge1xuICAgIGxhYmVsVGV4dCA9IGxhYmVsVGV4dC5zcGxpdCgnICgnKVswXTtcbiAgfVxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdibG9ja2x5U2hvcnRjdXRDb250YWluZXInO1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgbGFiZWwudGV4dENvbnRlbnQgPSBsYWJlbFRleHQ7XG4gIGNvbnN0IHNob3J0Y3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBzaG9ydGN1dC5jbGFzc05hbWUgPSAnYmxvY2tseVNob3J0Y3V0JztcbiAgc2hvcnRjdXQudGV4dENvbnRlbnQgPSBgICR7Z2V0U2hvcnRBY3Rpb25TaG9ydGN1dChhY3Rpb24pfWA7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzaG9ydGN1dCk7XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8qKlxuICogRmluZCB0aGUgcHJpbWFyeSBzaG9ydGN1dCBmb3IgdGhpcyBwbGF0Zm9ybSBhbmQgcmV0dXJuIGl0IGFzIHNpbmdsZSBzdHJpbmdcbiAqIGluIGEgc2hvcnQgdXNlciBmYWNpbmcgZm9ybWF0LlxuICpcbiAqIEBwYXJhbSBhY3Rpb24gVGhlIGFjdGlvbiBuYW1lLCBlLmcuIFwiY3V0XCIuXG4gKiBAcmV0dXJucyBUaGUgZm9ybWF0dGVkIHNob3J0Y3V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2hvcnRBY3Rpb25TaG9ydGN1dChhY3Rpb246IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnRzID0gZ2V0QWN0aW9uU2hvcnRjdXRzQXNLZXlzKGFjdGlvbiwgc2hvcnRNb2RpZmllck5hbWVzKVswXTtcbiAgcmV0dXJuIHBhcnRzLmpvaW4oaXNNYWNQbGF0Zm9ybSA/ICcgJyA6ICcgKyAnKTtcbn1cblxuLyoqXG4gKiBGaW5kIHRoZSByZWxldmFudCBzaG9ydGN1dHMgZm9yIHRoZSBnaXZlbiBhY3Rpb24gZm9yIHRoZSBjdXJyZW50IHBsYXRmb3JtLlxuICogS2V5cyBhcmUgcmV0dXJuZWQgaW4gYSBsb25nIHVzZXIgZmFjaW5nIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gbmFtZSwgZS5nLiBcImN1dFwiLlxuICogQHJldHVybnMgVGhlIGZvcm1hdHRlZCBzaG9ydGN1dHMgYXMgaW5kaXZpZHVhbCBrZXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9uZ0FjdGlvblNob3J0Y3V0c0FzS2V5cyhhY3Rpb246IHN0cmluZyk6IHN0cmluZ1tdW10ge1xuICByZXR1cm4gZ2V0QWN0aW9uU2hvcnRjdXRzQXNLZXlzKGFjdGlvbiwgbG9uZ01vZGlmaWVyTmFtZXMpO1xufVxuXG5jb25zdCBsb25nTW9kaWZpZXJOYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgJ0NvbnRyb2wnOiBNc2dbJ0NPTlRST0xfS0VZJ10sXG4gICdNZXRhJzogTXNnWydDT01NQU5EX0tFWSddLFxuICAnQWx0JzogaXNNYWNQbGF0Zm9ybSA/IE1zZ1snT1BUSU9OX0tFWSddIDogTXNnWydBTFRfS0VZJ10sXG59O1xuXG5jb25zdCBzaG9ydE1vZGlmaWVyTmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICdDb250cm9sJzogTXNnWydDT05UUk9MX0tFWSddLFxuICAnTWV0YSc6ICfijJgnLFxuICAnQWx0JzogaXNNYWNQbGF0Zm9ybSA/ICfijKUnIDogTXNnWydBTFRfS0VZJ10sXG59O1xuXG4vKipcbiAqIEZpbmQgdGhlIHJlbGV2YW50IHNob3J0Y3V0cyBmb3IgdGhlIGdpdmVuIGFjdGlvbiBmb3IgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gKiBLZXlzIGFyZSByZXR1cm5lZCBpbiBhIHVzZXIgZmFjaW5nIGZvcm1hdC5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNvbnNpZGVyYWJseSBzaW1wbGVyIGlmIHdlIG9ubHkgYm91bmQgc2hvcnRjdXRzIHJlbGV2YW50IHRvIHRoZVxuICogY3VycmVudCBwbGF0Zm9ybSBvciB0YWdnZWQgdGhlbSB3aXRoIGEgcGxhdGZvcm0uXG4gKlxuICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIG5hbWUsIGUuZy4gXCJjdXRcIi5cbiAqIEBwYXJhbSBtb2RpZmllck5hbWVzIFRoZSBuYW1lcyB0byB1c2UgZm9yIHRoZSBNZXRhL0NvbnRyb2wvQWx0IG1vZGlmaWVycy5cbiAqIEByZXR1cm5zIFRoZSBmb3JtYXR0ZWQgc2hvcnRjdXRzLlxuICovXG5mdW5jdGlvbiBnZXRBY3Rpb25TaG9ydGN1dHNBc0tleXMoXG4gIGFjdGlvbjogc3RyaW5nLFxuICBtb2RpZmllck5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogc3RyaW5nW11bXSB7XG4gIGNvbnN0IHNob3J0Y3V0cyA9IFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuZ2V0S2V5Q29kZXNCeVNob3J0Y3V0TmFtZShhY3Rpb24pO1xuICBpZiAoc2hvcnRjdXRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBTZWUgU2hvcnRjdXRSZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5IGZvciB0aGUgc3RhcnRpbmcgZm9ybWF0LlxuICBjb25zdCBzaG9ydGN1dHNBc1BhcnRzID0gc2hvcnRjdXRzLm1hcCgoc2hvcnRjdXQpID0+IHNob3J0Y3V0LnNwbGl0KCcrJykpO1xuXG4gIC8vIFByZWZlciBlLmcuIENtZCtTaGlmdCB0byBTaGlmdCtDbWQuXG4gIHNob3J0Y3V0c0FzUGFydHMuZm9yRWFjaCgocykgPT5cbiAgICBzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFWYWx1ZSA9IG1vZGlmaWVyT3JkZXIoYSk7XG4gICAgICBjb25zdCBiVmFsdWUgPSBtb2RpZmllck9yZGVyKGIpO1xuICAgICAgcmV0dXJuIGFWYWx1ZSAtIGJWYWx1ZTtcbiAgICB9KSxcbiAgKTtcblxuICAvLyBOZWVkZWQgdG8gcHJlZmVyIENvbW1hbmQgdG8gT3B0aW9uIHdoZXJlIHdlJ3ZlIGJvdW5kIEFsdC5cbiAgc2hvcnRjdXRzQXNQYXJ0cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgYVZhbHVlID0gYS5pbmNsdWRlcygnTWV0YScpID8gMSA6IDA7XG4gICAgY29uc3QgYlZhbHVlID0gYi5pbmNsdWRlcygnTWV0YScpID8gMSA6IDA7XG4gICAgcmV0dXJuIGJWYWx1ZSAtIGFWYWx1ZTtcbiAgfSk7XG4gIGxldCBjdXJyZW50UGxhdGZvcm0gPSBzaG9ydGN1dHNBc1BhcnRzLmZpbHRlcigoc2hvcnRjdXQpID0+IHtcbiAgICBjb25zdCBpc01hY1Nob3J0Y3V0ID0gc2hvcnRjdXQuaW5jbHVkZXMoJ01ldGEnKTtcbiAgICByZXR1cm4gaXNNYWNTaG9ydGN1dCA9PT0gaXNNYWNQbGF0Zm9ybTtcbiAgfSk7XG4gIGN1cnJlbnRQbGF0Zm9ybSA9XG4gICAgY3VycmVudFBsYXRmb3JtLmxlbmd0aCA9PT0gMCA/IHNob3J0Y3V0c0FzUGFydHMgOiBjdXJyZW50UGxhdGZvcm07XG5cbiAgLy8gUHJlZmVyIHNpbXBsZXIgc2hvcnRjdXRzLiBUaGlzIHByb21vdGVzIEN0cmwrWSBmb3IgcmVkby5cbiAgY3VycmVudFBsYXRmb3JtLnNvcnQoKGEsIGIpID0+IHtcbiAgICByZXR1cm4gYS5sZW5ndGggLSBiLmxlbmd0aDtcbiAgfSk7XG5cbiAgLy8gSWYgdGhlcmUgYXJlIG1vZGlmaWVycyByZXR1cm4gb25seSBvbmUgc2hvcnRjdXQgb24gdGhlIGFzc3VtcHRpb24gdGhleSBhcmVcbiAgLy8gaW50ZW5kZWQgZm9yIGRpZmZlcmVudCBwbGF0Zm9ybXMuIE90aGVyd2lzZSBhc3N1bWUgdGhleSBhcmUgYWx0ZXJuYXRpdmVzLlxuICBjb25zdCBoYXNNb2RpZmllcnMgPSBjdXJyZW50UGxhdGZvcm0uc29tZSgoc2hvcnRjdXQpID0+XG4gICAgc2hvcnRjdXQuc29tZShcbiAgICAgIChrZXkpID0+ICdNZXRhJyA9PT0ga2V5IHx8ICdBbHQnID09PSBrZXkgfHwgJ0NvbnRyb2wnID09PSBrZXksXG4gICAgKSxcbiAgKTtcbiAgY29uc3QgY2hvc2VuID0gaGFzTW9kaWZpZXJzID8gW2N1cnJlbnRQbGF0Zm9ybVswXV0gOiBjdXJyZW50UGxhdGZvcm07XG4gIHJldHVybiBjaG9zZW4ubWFwKChzaG9ydGN1dCkgPT4ge1xuICAgIHJldHVybiBzaG9ydGN1dFxuICAgICAgLm1hcCgobWF5YmVOdW1lcmljKSA9PiBrZXlOYW1lc1ttYXliZU51bWVyaWNdID8/IG1heWJlTnVtZXJpYylcbiAgICAgIC5tYXAoKGspID0+IHVwcGVyQ2FzZUZpcnN0KG1vZGlmaWVyTmFtZXNba10gPz8gaykpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBmaXJzdCBjaGFyYWN0ZXIgdG8gdXBwZXJjYXNlLlxuICpcbiAqIEBwYXJhbSBzdHIgU3RyaW5nLlxuICogQHJldHVybnMgVGhlIHN0cmluZyBpbiB0aXRsZSBjYXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBwZXJDYXNlRmlyc3Qoc3RyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlxuICogUHJlZmVycmVkIGxpc3Rpbmcgb3JkZXIgb2YgdW50cmFuc2xhdGVkIG1vZGlmaWVycy5cbiAqL1xuY29uc3QgbW9kaWZpZXJPcmRlcmluZzogc3RyaW5nW10gPSBbJ01ldGEnLCAnQ29udHJvbCcsICdBbHQnLCAnU2hpZnQnXTtcblxuZnVuY3Rpb24gbW9kaWZpZXJPcmRlcihrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IG9yZGVyID0gbW9kaWZpZXJPcmRlcmluZy5pbmRleE9mKGtleSk7XG4gIC8vIFJlZ3VsYXIga2V5cyBhdCB0aGUgZW5kLlxuICByZXR1cm4gb3JkZXIgPT09IC0xID8gTnVtYmVyLk1BWF9WQUxVRSA6IG9yZGVyO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../src/shortcut_formatting.ts\n");

/***/ }),

/***/ "../../src/sticky_mode_controller.ts":
/*!*******************************************!*\
  !*** ../../src/sticky_mode_controller.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StickyModeController: () => (/* binding */ StickyModeController),\n/* harmony export */   StickyModeInfo: () => (/* binding */ StickyModeInfo),\n/* harmony export */   TriggerMode: () => (/* binding */ TriggerMode)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _actions_mover__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions/mover */ \"../../src/actions/mover.ts\");\n/* harmony import */ var _workspace_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./workspace_utilities */ \"../../src/workspace_utilities.ts\");\n/* harmony import */ var _move_grip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./move_grip */ \"../../src/move_grip.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n/**\n * Trigger modes for entering sticky mode.\n */\nvar TriggerMode;\n(function (TriggerMode) {\n    /** Double-click to enter sticky mode (default behavior). */\n    TriggerMode[\"DOUBLE_CLICK\"] = \"double_click\";\n    /** Shift + single click to enter sticky mode. */\n    TriggerMode[\"SHIFT_CLICK\"] = \"shift_click\";\n    /** Single click on an already-focused block to enter sticky mode. */\n    TriggerMode[\"FOCUSED_CLICK\"] = \"focused_click\";\n    /** Any single click enters sticky mode when singleClickToMove is enabled. */\n    TriggerMode[\"MODE_TOGGLE\"] = \"mode_toggle\";\n    /** Click on the grip handle to enter sticky mode. */\n    TriggerMode[\"GRIP_CLICK\"] = \"grip_click\";\n})(TriggerMode || (TriggerMode = {}));\n/**\n * Information about an active sticky mode operation.\n */\nclass StickyModeInfo {\n    constructor(block, startClientX, startClientY) {\n        this.block = block;\n        this.startClientX = startClientX;\n        this.startClientY = startClientY;\n    }\n}\n/**\n * Controller for click-and-stick functionality.\n * Manages the lifecycle of sticky mode where blocks follow the cursor after double-click.\n * Follows the same architectural pattern as Mover (Map-based tracking, lifecycle methods).\n */\nclass StickyModeController {\n    constructor(workspace, navigationController) {\n        this.workspace = workspace;\n        this.navigationController = navigationController;\n        /** Map tracking active sticky mode operations per workspace. */\n        this.stickyModes = new Map();\n        /** Event listeners that need cleanup. */\n        this.listeners = [];\n        /** The current trigger mode for entering sticky mode. */\n        this.triggerMode = TriggerMode.DOUBLE_CLICK;\n        /** The block that was focused before pointerdown (for focused-click trigger mode). */\n        this.focusedBlockBeforePointerdown = null;\n        /** Flag to ignore the next click event after entering sticky mode via shift+click. */\n        this.ignoreNextClick = false;\n        /** The current move grip displayed on the focused block, if any. */\n        this.currentGrip = null;\n        /** The block that currently has a grip attached. */\n        this.gripBlock = null;\n        /** Whether the block should follow the mouse cursor during sticky move (default: true). */\n        this.keepBlockOnMouse = true;\n    }\n    /**\n     * Enable or disable keeping the block on the mouse during sticky move.\n     *\n     * @param enabled Whether the block should follow the cursor (true) or stay at click position (false).\n     */\n    setKeepBlockOnMouse(enabled) {\n        this.keepBlockOnMouse = enabled;\n    }\n    /**\n     * Gets the mover from the navigation controller.\n     */\n    get mover() {\n        return this.navigationController.mover;\n    }\n    /**\n     * Gets the drag strategy from a block.\n     *\n     * @param block\n     */\n    getDragStrategy(block) {\n        return block.dragStrategy;\n    }\n    /**\n     * Sets click-and-stick mode on a block's drag strategy.\n     *\n     * @param block\n     * @param enabled\n     */\n    setClickAndStickMode(block, enabled) {\n        const strategy = this.getDragStrategy(block);\n        if (strategy === null || strategy === void 0 ? void 0 : strategy.setClickAndStickMode) {\n            strategy.setClickAndStickMode(enabled);\n        }\n    }\n    /**\n     * Check if sticky mode is currently active for this workspace.\n     */\n    isActive() {\n        return this.stickyModes.has(this.workspace);\n    }\n    /**\n     * Get the block currently in sticky mode, if any.\n     */\n    getActiveBlock() {\n        const info = this.stickyModes.get(this.workspace);\n        return info ? info.block : null;\n    }\n    /**\n     * Set the trigger mode for entering sticky mode.\n     *\n     * @param mode The trigger mode to use.\n     */\n    setTriggerMode(mode) {\n        this.triggerMode = mode;\n    }\n    /**\n     * Check if the given block can enter sticky mode.\n     *\n     * @param block\n     */\n    canEnter(block) {\n        return !!(block &&\n            !block.isDisposed() &&\n            block.isMovable() &&\n            !this.mover.isMoving(this.workspace));\n    }\n    /**\n     * Sets up event listeners for click and stick functionality.\n     */\n    install() {\n        const workspaceElement = this.workspace.getParentSvg();\n        if (!workspaceElement)\n            return;\n        this.addListener(workspaceElement, 'dblclick', (event) => {\n            this.handleDoubleClick(event);\n        }, false);\n        this.addListener(document, 'pointermove', (event) => {\n            this.handlePointerMove(event);\n        }, false);\n        // Capture pointerdown BEFORE it changes focus (capture phase)\n        // Must be on document with capture:true to catch ALL pointerdowns before focus changes\n        // Blockly uses pointerdown (not mousedown) for blocks to support touch\n        this.addListener(document, 'pointerdown', (event) => {\n            this.handlePointerDown(event);\n        }, true);\n        this.addListener(document, 'click', (event) => {\n            this.handleClick(event);\n        }, true);\n        // Listen for focus changes to manage grip display\n        this.workspace.addChangeListener(this.handleFocusChange.bind(this));\n    }\n    /**\n     * Removes all event listeners.\n     */\n    uninstall() {\n        for (const { target, type, handler, options } of this.listeners) {\n            target.removeEventListener(type, handler, options);\n        }\n        this.listeners = [];\n        this.hideGrip();\n    }\n    /**\n     * Handles focus change events to show/hide grip on focused blocks.\n     *\n     * @param event\n     */\n    handleFocusChange(event) {\n        // Only show grip in GRIP_CLICK mode\n        if (this.triggerMode !== TriggerMode.GRIP_CLICK) {\n            return;\n        }\n        // Don't show grip during sticky mode\n        if (this.isActive()) {\n            return;\n        }\n        // Get the currently focused block\n        const cursor = this.workspace.getCursor();\n        if (!cursor) {\n            this.hideGrip();\n            return;\n        }\n        const curNode = cursor.getCurNode();\n        if (!curNode) {\n            this.hideGrip();\n            return;\n        }\n        // Get the block from the cursor node\n        let block = null;\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            block = curNode;\n        }\n        else if ('getSourceBlock' in curNode && typeof curNode.getSourceBlock === 'function') {\n            block = curNode.getSourceBlock();\n        }\n        if (!block) {\n            this.hideGrip();\n            return;\n        }\n        // If it's the same block, don't recreate the grip\n        if (this.gripBlock === block && this.currentGrip) {\n            return;\n        }\n        // Show grip on the new focused block\n        this.showGrip(block);\n    }\n    /**\n     * Shows the grip on the given block.\n     *\n     * @param block\n     */\n    showGrip(block) {\n        // Hide any existing grip first\n        this.hideGrip();\n        // Create and show new grip\n        this.currentGrip = new _move_grip__WEBPACK_IMPORTED_MODULE_3__.MoveGrip(block, (clickedBlock, event) => {\n            this.handleGripClick(clickedBlock, event);\n        });\n        this.currentGrip.show();\n        this.gripBlock = block;\n    }\n    /**\n     * Hides the current grip if one is showing.\n     */\n    hideGrip() {\n        if (this.currentGrip) {\n            this.currentGrip.hide();\n            this.currentGrip = null;\n        }\n        this.gripBlock = null;\n    }\n    /**\n     * Handles click events on the grip.\n     *\n     * @param block\n     * @param event\n     */\n    handleGripClick(block, event) {\n        const nonShadowBlock = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(block);\n        if (nonShadowBlock && nonShadowBlock.isMovable()) {\n            if (this.enter(nonShadowBlock, event.clientX, event.clientY)) {\n                // Hide grip when entering sticky mode\n                this.hideGrip();\n            }\n        }\n    }\n    /**\n     * Helper to add and track event listeners.\n     *\n     * @param target\n     * @param type\n     * @param handler\n     * @param options\n     */\n    addListener(target, type, handler, options) {\n        target.addEventListener(type, handler, options);\n        this.listeners.push({ target, type, handler, options });\n    }\n    /**\n     * Enters sticky mode where a block follows the cursor.\n     *\n     * @param block The block to enter sticky mode with.\n     * @param clientX Screen X coordinate where the block was grabbed.\n     * @param clientY Screen Y coordinate where the block was grabbed.\n     * @returns True if sticky mode was successfully entered.\n     */\n    enter(block, clientX, clientY) {\n        if (this.mover.isMoving(this.workspace)) {\n            this.mover.abortMove(this.workspace);\n        }\n        if (this.isActive()) {\n            this.exit('finish');\n        }\n        if (!block || block.isDisposed()) {\n            return false;\n        }\n        // Close any open fields before entering sticky mode\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.DropDownDiv.hide();\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.WidgetDiv.hide();\n        try {\n            const onMoveFinished = () => {\n                this.resetStickyState();\n            };\n            const success = this.mover.startMove(this.workspace, block, _actions_mover__WEBPACK_IMPORTED_MODULE_1__.MoveType.Move, null, onMoveFinished);\n            if (success) {\n                this.stickyModes.set(this.workspace, new StickyModeInfo(block, clientX, clientY));\n                block.getSvgRoot().classList.add('blockly-sticky-mode');\n                this.setClickAndStickMode(block, true);\n                return true;\n            }\n            return false;\n        }\n        catch (error) {\n            this.stickyModes.delete(this.workspace);\n            return false;\n        }\n    }\n    /**\n     * Exits sticky mode.\n     *\n     * @param action Whether to finish (commit) or abort the move.\n     */\n    exit(action) {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return;\n        this.setClickAndStickMode(info.block, false);\n        if (this.mover.isMoving(this.workspace)) {\n            if (action === 'finish') {\n                this.mover.finishMove(this.workspace);\n            }\n            else {\n                this.mover.abortMove(this.workspace);\n            }\n        }\n        this.resetStickyState();\n    }\n    /**\n     * Handles pointerdown to capture which block was focused BEFORE the click changes focus,\n     * and to handle shift+click trigger mode.\n     *\n     * @param event\n     */\n    handlePointerDown(event) {\n        // Handle shift+click mode - enter sticky mode immediately on pointerdown\n        if (this.triggerMode === TriggerMode.SHIFT_CLICK && event.shiftKey) {\n            const clickedBlock = this.getBlockFromEvent(event);\n            if (clickedBlock) {\n                const target = event.target;\n                if (target && this.isDoubleClickOnField(target)) {\n                    return;\n                }\n                const block = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(clickedBlock);\n                if (block && block.isMovable()) {\n                    // Prevent Blockly's gesture from starting\n                    event.preventDefault();\n                    event.stopPropagation();\n                    // Enter sticky mode immediately\n                    if (this.enter(block, event.clientX, event.clientY)) {\n                        // Set flag to ignore the next click event\n                        this.ignoreNextClick = true;\n                    }\n                }\n            }\n            return;\n        }\n        // Track focus state for FOCUSED_CLICK mode\n        if (this.triggerMode !== TriggerMode.FOCUSED_CLICK) {\n            return;\n        }\n        // Don't trigger sticky mode if clicking on a field\n        const target = event.target;\n        const isField = this.isClickOnField(target);\n        if (target && isField) {\n            this.focusedBlockBeforePointerdown = null;\n            return;\n        }\n        // Capture the currently focused/selected block before the pointerdown changes focus\n        // We need to check both:\n        // 1. Cursor position (if keyboard navigation is active)\n        // 2. Selected blocks (if using mouse-only workflow)\n        let focusedBlock = null;\n        // Try to get from cursor first (keyboard navigation)\n        const cursor = this.workspace.getCursor();\n        if (cursor) {\n            const curNode = cursor.getCurNode();\n            if (curNode) {\n                if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    focusedBlock = curNode;\n                }\n                else if ('getSourceBlock' in curNode && typeof curNode.getSourceBlock === 'function') {\n                    focusedBlock = curNode.getSourceBlock();\n                }\n            }\n        }\n        // If no cursor-based focus, check for selected blocks (mouse workflow)\n        if (!focusedBlock) {\n            const selected = blockly_core__WEBPACK_IMPORTED_MODULE_0__.common.getSelected();\n            if (selected && selected instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg && selected.workspace === this.workspace) {\n                focusedBlock = selected;\n            }\n        }\n        this.focusedBlockBeforePointerdown = focusedBlock;\n    }\n    /**\n     * Handles double-click events on blocks to enter sticky mode.\n     *\n     * @param event\n     */\n    handleDoubleClick(event) {\n        // Only handle double-clicks if trigger mode is set to DOUBLE_CLICK\n        if (this.triggerMode !== TriggerMode.DOUBLE_CLICK) {\n            return;\n        }\n        if (event.defaultPrevented)\n            return;\n        if (this.isActive()) {\n            event.preventDefault();\n            event.stopPropagation();\n            return;\n        }\n        const target = event.target;\n        const clickedBlock = this.getBlockFromEvent(event);\n        if (clickedBlock) {\n            this.workspace.getAudioManager().preload();\n        }\n        if (target && this.isDoubleClickOnField(target)) {\n            return;\n        }\n        const block = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(clickedBlock);\n        if (block && block.isMovable()) {\n            if (this.enter(block, event.clientX, event.clientY)) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }\n    }\n    /**\n     * Handles click events during sticky mode or to trigger sticky mode.\n     *\n     * @param event\n     */\n    handleClick(event) {\n        // If we just entered sticky mode via shift+click, ignore this click\n        if (this.ignoreNextClick) {\n            this.ignoreNextClick = false;\n            event.preventDefault();\n            event.stopPropagation();\n            return;\n        }\n        // If already in sticky mode, handle the drop/connect action\n        if (this.isActive()) {\n            this.handleStickyModeClick(event);\n            return;\n        }\n        // Get the clicked block once to avoid inconsistencies\n        const clickedBlock = this.getBlockFromEvent(event);\n        // Check if this is a flyout block - handle it specially\n        if (clickedBlock && this.isBlockFromFlyout(clickedBlock)) {\n            // Check if this click should trigger sticky mode based on trigger mode\n            const shouldTrigger = this.shouldTriggerStickyMode(event, clickedBlock);\n            if (shouldTrigger) {\n                const target = event.target;\n                this.workspace.getAudioManager().preload();\n                if (target && this.isDoubleClickOnField(target)) {\n                    return;\n                }\n                // Create block from flyout and enter sticky mode\n                this.insertFlyoutBlockIntoStickyMode(clickedBlock, event);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            return;\n        }\n        // Handle workspace blocks (existing logic)\n        // Check if this click should trigger sticky mode based on trigger mode\n        const shouldTrigger = this.shouldTriggerStickyMode(event, clickedBlock);\n        if (shouldTrigger && clickedBlock) {\n            const target = event.target;\n            this.workspace.getAudioManager().preload();\n            if (target && this.isDoubleClickOnField(target)) {\n                return;\n            }\n            const block = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(clickedBlock);\n            if (block && block.isMovable()) {\n                if (this.enter(block, event.clientX, event.clientY)) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n            }\n        }\n    }\n    /**\n     * Check if the current click event should trigger sticky mode.\n     *\n     * @param event The click event.\n     * @param clickedBlock The block that was clicked (or null if no block).\n     * @returns True if sticky mode should be triggered.\n     */\n    shouldTriggerStickyMode(event, clickedBlock) {\n        var _a, _b, _c;\n        if (!clickedBlock)\n            return false;\n        switch (this.triggerMode) {\n            case TriggerMode.SHIFT_CLICK:\n                return event.shiftKey;\n            case TriggerMode.FOCUSED_CLICK:\n                // For flyout blocks, skip the focus check - any click triggers sticky mode\n                // This provides a simpler interaction model for flyout blocks\n                if (this.isBlockFromFlyout(clickedBlock)) {\n                    return true;\n                }\n                // For workspace blocks, check if the clicked block was the one that was focused BEFORE the pointerdown\n                // (clicking a block makes it focused, so we need to check the pre-click state)\n                // Note: Field detection happens earlier in handlePointerDown to set focusedBlockBeforePointerdown\n                if (this.focusedBlockBeforePointerdown !== clickedBlock) {\n                    return false;\n                }\n                // Trigger if the block has a VISIBLE highlight\n                // A block has a visible highlight based on CSS class combinations:\n                // 1. blocklySelected class (core Blockly selection - always visible)\n                // 2. blocklyActiveFocus OR blocklyPassiveFocus (keyboard nav - only visible when keyboard mode active)\n                //\n                // The visual highlight is determined by CSS rules, not by semantic focus state.\n                // We check the classes that control the CSS rules that make highlights visible.\n                const pathElement = clickedBlock.pathObject.svgPath;\n                const blockSvgGroup = clickedBlock.getSvgRoot();\n                // Core Blockly selection (always creates visible highlight)\n                // Note: blocklySelected class is on the parent <g> element, not the path\n                // The CSS rule is: .blocklySelected > .blocklyPath { stroke: #fc3; }\n                const hasSelectedClass = (_a = blockSvgGroup === null || blockSvgGroup === void 0 ? void 0 : blockSvgGroup.classList.contains('blocklySelected')) !== null && _a !== void 0 ? _a : false;\n                // Keyboard navigation highlights (only visible when keyboard mode is active)\n                const bodyHasKeyboardNav = document.body.classList.contains('blocklyKeyboardNavigation');\n                const hasActiveFocus = (_b = pathElement === null || pathElement === void 0 ? void 0 : pathElement.classList.contains('blocklyActiveFocus')) !== null && _b !== void 0 ? _b : false;\n                const hasPassiveFocus = (_c = pathElement === null || pathElement === void 0 ? void 0 : pathElement.classList.contains('blocklyPassiveFocus')) !== null && _c !== void 0 ? _c : false;\n                // Boolean logic: visible highlight exists if:\n                // - Block has blocklySelected class (core selection), OR\n                // - Keyboard nav is active AND block has active/passive focus\n                const hasVisibleHighlight = hasSelectedClass ||\n                    (bodyHasKeyboardNav && (hasActiveFocus || hasPassiveFocus));\n                // Block should trigger sticky mode if it has a visible highlight\n                return hasVisibleHighlight;\n            case TriggerMode.MODE_TOGGLE:\n                // MODE_TOGGLE requires explicit enablement through external state management\n                return false;\n            case TriggerMode.GRIP_CLICK:\n                // GRIP_CLICK is handled by handleGripClick() which is invoked directly\n                // when the grip element is clicked (with stopPropagation to prevent this\n                // method from being called). Regular clicks outside the grip don't trigger\n                // sticky mode in this mode.\n                return false;\n            case TriggerMode.DOUBLE_CLICK:\n            default:\n                // Double-click is handled separately\n                return false;\n        }\n    }\n    /**\n     * Handles pointer movement during sticky mode to make blocks follow the cursor.\n     *\n     * @param event\n     */\n    handlePointerMove(event) {\n        var _a, _b;\n        if (!this.isActive())\n            return;\n        // Only update block position if keepBlockOnMouse is enabled\n        if (!this.keepBlockOnMouse)\n            return;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const moveInfo = (_b = (_a = this.mover) === null || _a === void 0 ? void 0 : _a.moves) === null || _b === void 0 ? void 0 : _b.get(this.workspace);\n        if (!moveInfo)\n            return;\n        const targetWorkspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(event.clientX, event.clientY));\n        const deltaX = targetWorkspaceCoords.x - moveInfo.startLocation.x;\n        const deltaY = targetWorkspaceCoords.y - moveInfo.startLocation.y;\n        moveInfo.totalDelta.x = deltaX;\n        moveInfo.totalDelta.y = deltaY;\n        if (moveInfo.dragger) {\n            moveInfo.dragger.onDrag(event, moveInfo.totalDelta);\n        }\n    }\n    /**\n     * Handles clicks during sticky mode for drop/connect/delete actions.\n     *\n     * @param event\n     */\n    handleStickyModeClick(event) {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info) {\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        const clientX = event.clientX;\n        const clientY = event.clientY;\n        if (this.isClickOnBin(clientX, clientY)) {\n            this.deleteBlockOnBin();\n            return;\n        }\n        const connectionInfo = this.findConnectionAtPoint(clientX, clientY);\n        if (connectionInfo) {\n            this.connectToClickedConnection(connectionInfo, clientX, clientY);\n            return;\n        }\n        // Check if there's a connection preview\n        const dragStrategy = this.getDragStrategy(info.block);\n        if (this.keepBlockOnMouse) {\n            // Block is following mouse - preview changes as you move\n            // Accept any connection preview at current position\n            if (dragStrategy && dragStrategy.connectionCandidate) {\n                this.acceptConnectionCandidate();\n                return;\n            }\n        }\n        else {\n            // Block is NOT following mouse - preview is static at original location\n            // Only accept preview if clicking on the source block itself\n            const clickedBlock = this.getBlockFromEvent(event);\n            const isClickOnSourceBlock = clickedBlock === info.block;\n            if (isClickOnSourceBlock && dragStrategy && dragStrategy.connectionCandidate) {\n                this.acceptConnectionCandidate();\n                return;\n            }\n        }\n        // No connection preview to accept\n        // Check if click is inside the source block - if so, drop in place\n        const blockBounds = info.block.getBoundingRectangle();\n        const clickWorkspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(clientX, clientY));\n        if (blockBounds.contains(clickWorkspaceCoords.x, clickWorkspaceCoords.y)) {\n            // Click is inside the source block - don't move it\n            this.exitStickyModeAndDrop();\n        }\n        else {\n            // Click is outside the source block - move to click location\n            this.exitStickyModeAndDrop(clientX, clientY);\n        }\n    }\n    /**\n     * Gets a block from an event target.\n     * Searches both main workspace and flyout workspace blocks.\n     *\n     * @param event\n     * @param event.target\n     */\n    getBlockFromEvent(event) {\n        var _a;\n        const target = event.target;\n        if (!target)\n            return null;\n        // Get blocks from both main workspace and flyout\n        let blocks = this.workspace.getAllBlocks();\n        const flyout = this.workspace.getFlyout();\n        if (flyout && flyout.isVisible()) {\n            const flyoutWorkspace = flyout.getWorkspace();\n            if (flyoutWorkspace) {\n                blocks = blocks.concat(flyoutWorkspace.getAllBlocks());\n            }\n        }\n        const allBlockElements = [];\n        let currentElement = target;\n        while (currentElement) {\n            if ((_a = currentElement.classList) === null || _a === void 0 ? void 0 : _a.contains('blocklyBlock')) {\n                allBlockElements.push(currentElement);\n            }\n            currentElement = currentElement.parentElement;\n        }\n        if (allBlockElements.length > 0) {\n            const innermostBlockElement = allBlockElements[0];\n            const block = blocks.find((b) => b.getSvgRoot() === innermostBlockElement);\n            if (block && block instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                return block;\n            }\n        }\n        return null;\n    }\n    /**\n     * Checks if a block is from the flyout.\n     *\n     * @param block The block to check.\n     * @returns True if the block is from the flyout workspace.\n     */\n    isBlockFromFlyout(block) {\n        return block.workspace.isFlyout === true;\n    }\n    /**\n     * Creates a new block from a flyout template and immediately enters sticky mode.\n     * Used when clicking on flyout blocks with sticky mode triggers enabled.\n     *\n     * @param flyoutBlock The flyout block template to create from.\n     * @param event The click event.\n     */\n    insertFlyoutBlockIntoStickyMode(flyoutBlock, event) {\n        const flyout = this.workspace.getFlyout();\n        if (!flyout)\n            return;\n        // Create a new event group for this operation\n        const existingGroup = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.getGroup();\n        if (!existingGroup) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        }\n        try {\n            // Create the block on the main workspace from the flyout template\n            const newBlock = flyout.createBlock(flyoutBlock);\n            // Render to get the sizing right\n            newBlock.render();\n            // Enable connection tracking (normally happens during drag, but we need it immediately)\n            newBlock.setConnectionTracking(true);\n            // Position the block at the click location\n            const workspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(event.clientX, event.clientY));\n            newBlock.moveTo(workspaceCoords);\n            // Enter sticky mode with the newly created block\n            this.enter(newBlock, event.clientX, event.clientY);\n        }\n        finally {\n            // Clean up event group if we created one\n            if (!existingGroup) {\n                blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(false);\n            }\n        }\n    }\n    /**\n     * Checks if a click is on a field element by inspecting the DOM tree.\n     * More reliable than gesture-based detection for events that fire after gesture disposal.\n     * Only detects truly interactive/editable fields, not static text labels.\n     *\n     * @param target The event target element.\n     */\n    isClickOnField(target) {\n        if (!target)\n            return false;\n        // Walk up the DOM tree looking for interactive field elements\n        let currentElement = target;\n        let depth = 0;\n        const maxDepth = 10; // Prevent infinite loops\n        while (currentElement && depth < maxDepth) {\n            const classList = currentElement.classList;\n            if (classList) {\n                // Stop early if we hit the workspace - no fields beyond here\n                if (classList.contains('blocklyWorkspace') ||\n                    classList.contains('blocklyMainBackground') ||\n                    classList.contains('blocklySvg')) {\n                    return false;\n                }\n                // Stop at block boundary - don't search beyond the block\n                if (classList.contains('blocklyBlock')) {\n                    return false;\n                }\n                // Only check for EDITABLE/INTERACTIVE field CSS classes\n                // Do NOT include blocklyText or blocklyNonEditableText - those are static labels\n                if (classList.contains('blocklyEditableText') ||\n                    classList.contains('blocklyDropdownText') ||\n                    classList.contains('blocklyDropDownDiv')) {\n                    return true;\n                }\n                // Check for specific interactive field types\n                if (classList.contains('blocklyFieldTextInput') ||\n                    classList.contains('blocklyFieldNumber') ||\n                    classList.contains('blocklyFieldColour') ||\n                    classList.contains('blocklyFieldDropdown') ||\n                    classList.contains('blocklyFieldCheckbox') ||\n                    classList.contains('blocklyFieldAngle')) {\n                    return true;\n                }\n            }\n            currentElement = currentElement.parentElement;\n            depth++;\n        }\n        return false;\n    }\n    /**\n     * Checks if a double-click event is on a field element.\n     * Uses Blockly's gesture system for reliable field detection.\n     *\n     * @param target\n     */\n    isDoubleClickOnField(target) {\n        const workspace = this.workspace;\n        const currentGesture = workspace.currentGesture_;\n        if (currentGesture && currentGesture.startField) {\n            return true;\n        }\n        // Fall back to DOM-based detection\n        return this.isClickOnField(target);\n    }\n    /**\n     * Accepts the current connection candidate from the drag strategy.\n     */\n    acceptConnectionCandidate() {\n        if (!this.isActive())\n            return;\n        this.exit('finish');\n    }\n    /**\n     * Checks if the given screen coordinates are over the trashcan/bin.\n     *\n     * @param clientX Screen X coordinate.\n     * @param clientY Screen Y coordinate.\n     * @returns True if the coordinates are over the trashcan.\n     */\n    isClickOnBin(clientX, clientY) {\n        const trashcanElement = document.querySelector('.blocklyTrash');\n        if (!trashcanElement) {\n            return false;\n        }\n        const rect = trashcanElement.getBoundingClientRect();\n        return (clientX >= rect.left &&\n            clientX <= rect.right &&\n            clientY >= rect.top &&\n            clientY <= rect.bottom);\n    }\n    /**\n     * Deletes the sticky block when dropped on the bin.\n     */\n    deleteBlockOnBin() {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return;\n        const blockToDelete = info.block;\n        this.exit('abort');\n        // Unplug with healStack to preserve children\n        blockToDelete.unplug(true);\n        blockToDelete.dispose();\n    }\n    /**\n     * Finds a connection point at the given screen coordinates.\n     *\n     * @param clientX\n     * @param clientY\n     */\n    findConnectionAtPoint(clientX, clientY) {\n        var _a;\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return null;\n        const dragStrategy = (_a = info.block) === null || _a === void 0 ? void 0 : _a.dragStrategy;\n        if (dragStrategy && dragStrategy.connectionHighlighter) {\n            const highlightedConnection = dragStrategy.connectionHighlighter.findConnectionAtPoint(clientX, clientY);\n            if (highlightedConnection) {\n                const stickyConnections = info.block.getConnections_(true);\n                if (stickyConnections) {\n                    for (const stickyConnection of stickyConnections) {\n                        const connectionChecker = this.workspace.connectionChecker;\n                        if (connectionChecker.canConnect(stickyConnection, highlightedConnection, true, Infinity)) {\n                            return {\n                                connection: highlightedConnection,\n                                stickyConnection: stickyConnection,\n                                distance: 0,\n                                isHighlighted: true,\n                            };\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Connects the sticky block to a specific connection point.\n     *\n     * @param connectionInfo\n     * @param clientX\n     * @param clientY\n     */\n    connectToClickedConnection(connectionInfo, clientX, clientY) {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return;\n        const { connection, stickyConnection } = connectionInfo;\n        const dragStrategy = this.getDragStrategy(info.block);\n        if (dragStrategy) {\n            dragStrategy.connectionCandidate = {\n                local: stickyConnection,\n                neighbour: connection,\n                distance: 0,\n            };\n        }\n        this.exit('finish');\n    }\n    /**\n     * Resets the sticky mode UI state.\n     * Called after mover.finishMove() or mover.abortMove().\n     */\n    resetStickyState() {\n        const info = this.stickyModes.get(this.workspace);\n        if (info) {\n            info.block.getSvgRoot().classList.remove('blockly-sticky-mode');\n        }\n        this.stickyModes.delete(this.workspace);\n        this.ignoreNextClick = false;\n        // Focus the workspace root to properly blur the block\n        // This ensures subsequent clicks can re-focus and select the block correctly\n        const focusManager = blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager();\n        focusManager.focusNode(this.workspace);\n        // Clear touch identifier to prevent stuck gestures\n        try {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.Touch.clearTouchIdentifier();\n            setTimeout(() => {\n                blockly_core__WEBPACK_IMPORTED_MODULE_0__.Touch.clearTouchIdentifier();\n            }, 0);\n        }\n        catch (e) {\n            // Silently fail\n        }\n    }\n    /**\n     * Exits sticky mode by dropping the block at the specified or current position.\n     *\n     * @param clientX Optional screen X coordinate where to drop the block\n     * @param clientY Optional screen Y coordinate where to drop the block\n     */\n    exitStickyModeAndDrop(clientX, clientY) {\n        var _a, _b;\n        const info = this.stickyModes.get(this.workspace);\n        if (!info) {\n            return;\n        }\n        // Clear connection candidate - Blockly will recalculate from final position\n        const dragStrategy = this.getDragStrategy(info.block);\n        if (dragStrategy) {\n            dragStrategy.connectionCandidate = null;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const moveInfo = (_b = (_a = this.mover) === null || _a === void 0 ? void 0 : _a.moves) === null || _b === void 0 ? void 0 : _b.get(this.workspace);\n        // Update position if coordinates provided\n        if (clientX !== undefined &&\n            clientY !== undefined &&\n            info.block &&\n            !info.block.isDisposed()) {\n            const targetWorkspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(clientX, clientY));\n            if (moveInfo) {\n                const currentX = moveInfo.startLocation.x + moveInfo.totalDelta.x;\n                const currentY = moveInfo.startLocation.y + moveInfo.totalDelta.y;\n                const additionalDeltaX = targetWorkspaceCoords.x - currentX;\n                const additionalDeltaY = targetWorkspaceCoords.y - currentY;\n                moveInfo.totalDelta.x += additionalDeltaX;\n                moveInfo.totalDelta.y += additionalDeltaY;\n                // Move block directly to ensure positioning is correct\n                info.block.moveBy(additionalDeltaX, additionalDeltaY);\n            }\n        }\n        this.setClickAndStickMode(info.block, false);\n        if (this.mover && this.mover.isMoving(this.workspace)) {\n            this.mover.finishMove(this.workspace);\n        }\n        this.resetStickyState();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQixFQUFFLENBQUM7SUFDMUIsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL3NyYy9zdGlja3lfbW9kZV9jb250cm9sbGVyLnRzPzZhMjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge05hdmlnYXRpb25Db250cm9sbGVyfSBmcm9tICcuL25hdmlnYXRpb25fY29udHJvbGxlcic7XG5pbXBvcnQge01vdmVyLCBNb3ZlVHlwZX0gZnJvbSAnLi9hY3Rpb25zL21vdmVyJztcbmltcG9ydCB7Z2V0Tm9uU2hhZG93QmxvY2t9IGZyb20gJy4vd29ya3NwYWNlX3V0aWxpdGllcyc7XG5pbXBvcnQge01vdmVHcmlwfSBmcm9tICcuL21vdmVfZ3JpcCc7XG5cbi8qKlxuICogVHJpZ2dlciBtb2RlcyBmb3IgZW50ZXJpbmcgc3RpY2t5IG1vZGUuXG4gKi9cbmV4cG9ydCBlbnVtIFRyaWdnZXJNb2RlIHtcbiAgLyoqIERvdWJsZS1jbGljayB0byBlbnRlciBzdGlja3kgbW9kZSAoZGVmYXVsdCBiZWhhdmlvcikuICovXG4gIERPVUJMRV9DTElDSyA9ICdkb3VibGVfY2xpY2snLFxuICAvKiogU2hpZnQgKyBzaW5nbGUgY2xpY2sgdG8gZW50ZXIgc3RpY2t5IG1vZGUuICovXG4gIFNISUZUX0NMSUNLID0gJ3NoaWZ0X2NsaWNrJyxcbiAgLyoqIFNpbmdsZSBjbGljayBvbiBhbiBhbHJlYWR5LWZvY3VzZWQgYmxvY2sgdG8gZW50ZXIgc3RpY2t5IG1vZGUuICovXG4gIEZPQ1VTRURfQ0xJQ0sgPSAnZm9jdXNlZF9jbGljaycsXG4gIC8qKiBBbnkgc2luZ2xlIGNsaWNrIGVudGVycyBzdGlja3kgbW9kZSB3aGVuIHNpbmdsZUNsaWNrVG9Nb3ZlIGlzIGVuYWJsZWQuICovXG4gIE1PREVfVE9HR0xFID0gJ21vZGVfdG9nZ2xlJyxcbiAgLyoqIENsaWNrIG9uIHRoZSBncmlwIGhhbmRsZSB0byBlbnRlciBzdGlja3kgbW9kZS4gKi9cbiAgR1JJUF9DTElDSyA9ICdncmlwX2NsaWNrJyxcbn1cblxuLyoqXG4gKiBJbmZvcm1hdGlvbiBhYm91dCBhbiBhY3RpdmUgc3RpY2t5IG1vZGUgb3BlcmF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgU3RpY2t5TW9kZUluZm8ge1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBibG9jazogQmxvY2tseS5CbG9ja1N2ZyxcbiAgICByZWFkb25seSBzdGFydENsaWVudFg6IG51bWJlcixcbiAgICByZWFkb25seSBzdGFydENsaWVudFk6IG51bWJlcixcbiAgKSB7fVxufVxuXG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIGNsaWNrLWFuZC1zdGljayBmdW5jdGlvbmFsaXR5LlxuICogTWFuYWdlcyB0aGUgbGlmZWN5Y2xlIG9mIHN0aWNreSBtb2RlIHdoZXJlIGJsb2NrcyBmb2xsb3cgdGhlIGN1cnNvciBhZnRlciBkb3VibGUtY2xpY2suXG4gKiBGb2xsb3dzIHRoZSBzYW1lIGFyY2hpdGVjdHVyYWwgcGF0dGVybiBhcyBNb3ZlciAoTWFwLWJhc2VkIHRyYWNraW5nLCBsaWZlY3ljbGUgbWV0aG9kcykuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGlja3lNb2RlQ29udHJvbGxlciB7XG4gIC8qKiBNYXAgdHJhY2tpbmcgYWN0aXZlIHN0aWNreSBtb2RlIG9wZXJhdGlvbnMgcGVyIHdvcmtzcGFjZS4gKi9cbiAgcHJpdmF0ZSBzdGlja3lNb2RlczogTWFwPEJsb2NrbHkuV29ya3NwYWNlU3ZnLCBTdGlja3lNb2RlSW5mbz4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqIEV2ZW50IGxpc3RlbmVycyB0aGF0IG5lZWQgY2xlYW51cC4gKi9cbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IEFycmF5PHtcbiAgICB0YXJnZXQ6IEV2ZW50VGFyZ2V0O1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBoYW5kbGVyOiBFdmVudExpc3RlbmVyO1xuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM7XG4gIH0+ID0gW107XG5cbiAgLyoqIFRoZSBjdXJyZW50IHRyaWdnZXIgbW9kZSBmb3IgZW50ZXJpbmcgc3RpY2t5IG1vZGUuICovXG4gIHByaXZhdGUgdHJpZ2dlck1vZGU6IFRyaWdnZXJNb2RlID0gVHJpZ2dlck1vZGUuRE9VQkxFX0NMSUNLO1xuXG4gIC8qKiBUaGUgYmxvY2sgdGhhdCB3YXMgZm9jdXNlZCBiZWZvcmUgcG9pbnRlcmRvd24gKGZvciBmb2N1c2VkLWNsaWNrIHRyaWdnZXIgbW9kZSkuICovXG4gIHByaXZhdGUgZm9jdXNlZEJsb2NrQmVmb3JlUG9pbnRlcmRvd246IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsID0gbnVsbDtcblxuICAvKiogRmxhZyB0byBpZ25vcmUgdGhlIG5leHQgY2xpY2sgZXZlbnQgYWZ0ZXIgZW50ZXJpbmcgc3RpY2t5IG1vZGUgdmlhIHNoaWZ0K2NsaWNrLiAqL1xuICBwcml2YXRlIGlnbm9yZU5leHRDbGljazogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKiBUaGUgY3VycmVudCBtb3ZlIGdyaXAgZGlzcGxheWVkIG9uIHRoZSBmb2N1c2VkIGJsb2NrLCBpZiBhbnkuICovXG4gIHByaXZhdGUgY3VycmVudEdyaXA6IE1vdmVHcmlwIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIFRoZSBibG9jayB0aGF0IGN1cnJlbnRseSBoYXMgYSBncmlwIGF0dGFjaGVkLiAqL1xuICBwcml2YXRlIGdyaXBCbG9jazogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBXaGV0aGVyIHRoZSBibG9jayBzaG91bGQgZm9sbG93IHRoZSBtb3VzZSBjdXJzb3IgZHVyaW5nIHN0aWNreSBtb3ZlIChkZWZhdWx0OiB0cnVlKS4gKi9cbiAgcHJpdmF0ZSBrZWVwQmxvY2tPbk1vdXNlOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4gICAgcHJpdmF0ZSBuYXZpZ2F0aW9uQ29udHJvbGxlcjogTmF2aWdhdGlvbkNvbnRyb2xsZXIsXG4gICkge31cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUga2VlcGluZyB0aGUgYmxvY2sgb24gdGhlIG1vdXNlIGR1cmluZyBzdGlja3kgbW92ZS5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0aGUgYmxvY2sgc2hvdWxkIGZvbGxvdyB0aGUgY3Vyc29yICh0cnVlKSBvciBzdGF5IGF0IGNsaWNrIHBvc2l0aW9uIChmYWxzZSkuXG4gICAqL1xuICBzZXRLZWVwQmxvY2tPbk1vdXNlKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmtlZXBCbG9ja09uTW91c2UgPSBlbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG1vdmVyIGZyb20gdGhlIG5hdmlnYXRpb24gY29udHJvbGxlci5cbiAgICovXG4gIHByaXZhdGUgZ2V0IG1vdmVyKCk6IE1vdmVyIHtcbiAgICByZXR1cm4gKHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIgYXMgYW55KS5tb3ZlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkcmFnIHN0cmF0ZWd5IGZyb20gYSBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrXG4gICAqL1xuICBwcml2YXRlIGdldERyYWdTdHJhdGVneShibG9jazogQmxvY2tseS5CbG9ja1N2Zykge1xuICAgIHJldHVybiAoYmxvY2sgYXMgYW55KS5kcmFnU3RyYXRlZ3k7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBjbGljay1hbmQtc3RpY2sgbW9kZSBvbiBhIGJsb2NrJ3MgZHJhZyBzdHJhdGVneS5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrXG4gICAqIEBwYXJhbSBlbmFibGVkXG4gICAqL1xuICBwcml2YXRlIHNldENsaWNrQW5kU3RpY2tNb2RlKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLCBlbmFibGVkOiBib29sZWFuKSB7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSB0aGlzLmdldERyYWdTdHJhdGVneShibG9jayk7XG4gICAgaWYgKHN0cmF0ZWd5Py5zZXRDbGlja0FuZFN0aWNrTW9kZSkge1xuICAgICAgc3RyYXRlZ3kuc2V0Q2xpY2tBbmRTdGlja01vZGUoZW5hYmxlZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHN0aWNreSBtb2RlIGlzIGN1cnJlbnRseSBhY3RpdmUgZm9yIHRoaXMgd29ya3NwYWNlLlxuICAgKi9cbiAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RpY2t5TW9kZXMuaGFzKHRoaXMud29ya3NwYWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGJsb2NrIGN1cnJlbnRseSBpbiBzdGlja3kgbW9kZSwgaWYgYW55LlxuICAgKi9cbiAgZ2V0QWN0aXZlQmxvY2soKTogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLnN0aWNreU1vZGVzLmdldCh0aGlzLndvcmtzcGFjZSk7XG4gICAgcmV0dXJuIGluZm8gPyBpbmZvLmJsb2NrIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRyaWdnZXIgbW9kZSBmb3IgZW50ZXJpbmcgc3RpY2t5IG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBtb2RlIFRoZSB0cmlnZ2VyIG1vZGUgdG8gdXNlLlxuICAgKi9cbiAgc2V0VHJpZ2dlck1vZGUobW9kZTogVHJpZ2dlck1vZGUpOiB2b2lkIHtcbiAgICB0aGlzLnRyaWdnZXJNb2RlID0gbW9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gYmxvY2sgY2FuIGVudGVyIHN0aWNreSBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tcbiAgICovXG4gIGNhbkVudGVyKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgYmxvY2sgJiZcbiAgICAgICFibG9jay5pc0Rpc3Bvc2VkKCkgJiZcbiAgICAgIGJsb2NrLmlzTW92YWJsZSgpICYmXG4gICAgICAhdGhpcy5tb3Zlci5pc01vdmluZyh0aGlzLndvcmtzcGFjZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBjbGljayBhbmQgc3RpY2sgZnVuY3Rpb25hbGl0eS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgY29uc3Qgd29ya3NwYWNlRWxlbWVudCA9IHRoaXMud29ya3NwYWNlLmdldFBhcmVudFN2ZygpO1xuICAgIGlmICghd29ya3NwYWNlRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgdGhpcy5hZGRMaXN0ZW5lcih3b3Jrc3BhY2VFbGVtZW50LCAnZGJsY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlRG91YmxlQ2xpY2soZXZlbnQgYXMgTW91c2VFdmVudCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgdGhpcy5hZGRMaXN0ZW5lcihkb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50IGFzIFBvaW50ZXJFdmVudCk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgLy8gQ2FwdHVyZSBwb2ludGVyZG93biBCRUZPUkUgaXQgY2hhbmdlcyBmb2N1cyAoY2FwdHVyZSBwaGFzZSlcbiAgICAvLyBNdXN0IGJlIG9uIGRvY3VtZW50IHdpdGggY2FwdHVyZTp0cnVlIHRvIGNhdGNoIEFMTCBwb2ludGVyZG93bnMgYmVmb3JlIGZvY3VzIGNoYW5nZXNcbiAgICAvLyBCbG9ja2x5IHVzZXMgcG9pbnRlcmRvd24gKG5vdCBtb3VzZWRvd24pIGZvciBibG9ja3MgdG8gc3VwcG9ydCB0b3VjaFxuICAgIHRoaXMuYWRkTGlzdGVuZXIoZG9jdW1lbnQsICdwb2ludGVyZG93bicsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVQb2ludGVyRG93bihldmVudCBhcyBQb2ludGVyRXZlbnQpO1xuICAgIH0sIHRydWUpO1xuXG4gICAgdGhpcy5hZGRMaXN0ZW5lcihkb2N1bWVudCwgJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUNsaWNrKGV2ZW50IGFzIE1vdXNlRXZlbnQpO1xuICAgIH0sIHRydWUpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBmb2N1cyBjaGFuZ2VzIHRvIG1hbmFnZSBncmlwIGRpc3BsYXlcbiAgICB0aGlzLndvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLmhhbmRsZUZvY3VzQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVycy5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBmb3IgKGNvbnN0IHt0YXJnZXQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnN9IG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLmhpZGVHcmlwKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBmb2N1cyBjaGFuZ2UgZXZlbnRzIHRvIHNob3cvaGlkZSBncmlwIG9uIGZvY3VzZWQgYmxvY2tzLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlRm9jdXNDaGFuZ2UoZXZlbnQ6IEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0KTogdm9pZCB7XG4gICAgLy8gT25seSBzaG93IGdyaXAgaW4gR1JJUF9DTElDSyBtb2RlXG4gICAgaWYgKHRoaXMudHJpZ2dlck1vZGUgIT09IFRyaWdnZXJNb2RlLkdSSVBfQ0xJQ0spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBzaG93IGdyaXAgZHVyaW5nIHN0aWNreSBtb2RlXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgY3VycmVudGx5IGZvY3VzZWQgYmxvY2tcbiAgICBjb25zdCBjdXJzb3IgPSB0aGlzLndvcmtzcGFjZS5nZXRDdXJzb3IoKTtcbiAgICBpZiAoIWN1cnNvcikge1xuICAgICAgdGhpcy5oaWRlR3JpcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1ck5vZGUgPSBjdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgIGlmICghY3VyTm9kZSkge1xuICAgICAgdGhpcy5oaWRlR3JpcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgYmxvY2sgZnJvbSB0aGUgY3Vyc29yIG5vZGVcbiAgICBsZXQgYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIEJsb2NrbHkuQmxvY2tTdmcpIHtcbiAgICAgIGJsb2NrID0gY3VyTm9kZTtcbiAgICB9IGVsc2UgaWYgKCdnZXRTb3VyY2VCbG9jaycgaW4gY3VyTm9kZSAmJiB0eXBlb2YgKGN1ck5vZGUgYXMgYW55KS5nZXRTb3VyY2VCbG9jayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYmxvY2sgPSAoY3VyTm9kZSBhcyBhbnkpLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFibG9jaykge1xuICAgICAgdGhpcy5oaWRlR3JpcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIGl0J3MgdGhlIHNhbWUgYmxvY2ssIGRvbid0IHJlY3JlYXRlIHRoZSBncmlwXG4gICAgaWYgKHRoaXMuZ3JpcEJsb2NrID09PSBibG9jayAmJiB0aGlzLmN1cnJlbnRHcmlwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2hvdyBncmlwIG9uIHRoZSBuZXcgZm9jdXNlZCBibG9ja1xuICAgIHRoaXMuc2hvd0dyaXAoYmxvY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSBncmlwIG9uIHRoZSBnaXZlbiBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrXG4gICAqL1xuICBwcml2YXRlIHNob3dHcmlwKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKTogdm9pZCB7XG4gICAgLy8gSGlkZSBhbnkgZXhpc3RpbmcgZ3JpcCBmaXJzdFxuICAgIHRoaXMuaGlkZUdyaXAoKTtcblxuICAgIC8vIENyZWF0ZSBhbmQgc2hvdyBuZXcgZ3JpcFxuICAgIHRoaXMuY3VycmVudEdyaXAgPSBuZXcgTW92ZUdyaXAoYmxvY2ssIChjbGlja2VkQmxvY2ssIGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUdyaXBDbGljayhjbGlja2VkQmxvY2ssIGV2ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRHcmlwLnNob3coKTtcbiAgICB0aGlzLmdyaXBCbG9jayA9IGJsb2NrO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBjdXJyZW50IGdyaXAgaWYgb25lIGlzIHNob3dpbmcuXG4gICAqL1xuICBwcml2YXRlIGhpZGVHcmlwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnJlbnRHcmlwKSB7XG4gICAgICB0aGlzLmN1cnJlbnRHcmlwLmhpZGUoKTtcbiAgICAgIHRoaXMuY3VycmVudEdyaXAgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmdyaXBCbG9jayA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjbGljayBldmVudHMgb24gdGhlIGdyaXAuXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja1xuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlR3JpcENsaWNrKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLCBldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IG5vblNoYWRvd0Jsb2NrID0gZ2V0Tm9uU2hhZG93QmxvY2soYmxvY2spO1xuICAgIGlmIChub25TaGFkb3dCbG9jayAmJiBub25TaGFkb3dCbG9jay5pc01vdmFibGUoKSkge1xuICAgICAgaWYgKHRoaXMuZW50ZXIobm9uU2hhZG93QmxvY2ssIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSB7XG4gICAgICAgIC8vIEhpZGUgZ3JpcCB3aGVuIGVudGVyaW5nIHN0aWNreSBtb2RlXG4gICAgICAgIHRoaXMuaGlkZUdyaXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGFkZCBhbmQgdHJhY2sgZXZlbnQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAqIEBwYXJhbSB0eXBlXG4gICAqIEBwYXJhbSBoYW5kbGVyXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqL1xuICBwcml2YXRlIGFkZExpc3RlbmVyKFxuICAgIHRhcmdldDogRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyxcbiAgKSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaCh7dGFyZ2V0LCB0eXBlLCBoYW5kbGVyLCBvcHRpb25zfSk7XG4gIH1cblxuICAvKipcbiAgICogRW50ZXJzIHN0aWNreSBtb2RlIHdoZXJlIGEgYmxvY2sgZm9sbG93cyB0aGUgY3Vyc29yLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIGVudGVyIHN0aWNreSBtb2RlIHdpdGguXG4gICAqIEBwYXJhbSBjbGllbnRYIFNjcmVlbiBYIGNvb3JkaW5hdGUgd2hlcmUgdGhlIGJsb2NrIHdhcyBncmFiYmVkLlxuICAgKiBAcGFyYW0gY2xpZW50WSBTY3JlZW4gWSBjb29yZGluYXRlIHdoZXJlIHRoZSBibG9jayB3YXMgZ3JhYmJlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiBzdGlja3kgbW9kZSB3YXMgc3VjY2Vzc2Z1bGx5IGVudGVyZWQuXG4gICAqL1xuICBlbnRlcihibG9jazogQmxvY2tseS5CbG9ja1N2ZywgY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5tb3Zlci5pc01vdmluZyh0aGlzLndvcmtzcGFjZSkpIHtcbiAgICAgIHRoaXMubW92ZXIuYWJvcnRNb3ZlKHRoaXMud29ya3NwYWNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLmV4aXQoJ2ZpbmlzaCcpO1xuICAgIH1cblxuICAgIGlmICghYmxvY2sgfHwgYmxvY2suaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2xvc2UgYW55IG9wZW4gZmllbGRzIGJlZm9yZSBlbnRlcmluZyBzdGlja3kgbW9kZVxuICAgIEJsb2NrbHkuRHJvcERvd25EaXYuaGlkZSgpO1xuICAgIEJsb2NrbHkuV2lkZ2V0RGl2LmhpZGUoKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBvbk1vdmVGaW5pc2hlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNldFN0aWNreVN0YXRlKCk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdWNjZXNzID0gdGhpcy5tb3Zlci5zdGFydE1vdmUoXG4gICAgICAgIHRoaXMud29ya3NwYWNlLFxuICAgICAgICBibG9jayxcbiAgICAgICAgTW92ZVR5cGUuTW92ZSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgb25Nb3ZlRmluaXNoZWQsXG4gICAgICApO1xuXG4gICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICB0aGlzLnN0aWNreU1vZGVzLnNldChcbiAgICAgICAgICB0aGlzLndvcmtzcGFjZSxcbiAgICAgICAgICBuZXcgU3RpY2t5TW9kZUluZm8oYmxvY2ssIGNsaWVudFgsIGNsaWVudFkpLFxuICAgICAgICApO1xuICAgICAgICBibG9jay5nZXRTdmdSb290KCkuY2xhc3NMaXN0LmFkZCgnYmxvY2tseS1zdGlja3ktbW9kZScpO1xuICAgICAgICB0aGlzLnNldENsaWNrQW5kU3RpY2tNb2RlKGJsb2NrLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuc3RpY2t5TW9kZXMuZGVsZXRlKHRoaXMud29ya3NwYWNlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhpdHMgc3RpY2t5IG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBhY3Rpb24gV2hldGhlciB0byBmaW5pc2ggKGNvbW1pdCkgb3IgYWJvcnQgdGhlIG1vdmUuXG4gICAqL1xuICBleGl0KGFjdGlvbjogJ2ZpbmlzaCcgfCAnYWJvcnQnKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHJldHVybjtcblxuICAgIHRoaXMuc2V0Q2xpY2tBbmRTdGlja01vZGUoaW5mby5ibG9jaywgZmFsc2UpO1xuXG4gICAgaWYgKHRoaXMubW92ZXIuaXNNb3ZpbmcodGhpcy53b3Jrc3BhY2UpKSB7XG4gICAgICBpZiAoYWN0aW9uID09PSAnZmluaXNoJykge1xuICAgICAgICB0aGlzLm1vdmVyLmZpbmlzaE1vdmUodGhpcy53b3Jrc3BhY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tb3Zlci5hYm9ydE1vdmUodGhpcy53b3Jrc3BhY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzZXRTdGlja3lTdGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgcG9pbnRlcmRvd24gdG8gY2FwdHVyZSB3aGljaCBibG9jayB3YXMgZm9jdXNlZCBCRUZPUkUgdGhlIGNsaWNrIGNoYW5nZXMgZm9jdXMsXG4gICAqIGFuZCB0byBoYW5kbGUgc2hpZnQrY2xpY2sgdHJpZ2dlciBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJFdmVudCkge1xuICAgIC8vIEhhbmRsZSBzaGlmdCtjbGljayBtb2RlIC0gZW50ZXIgc3RpY2t5IG1vZGUgaW1tZWRpYXRlbHkgb24gcG9pbnRlcmRvd25cbiAgICBpZiAodGhpcy50cmlnZ2VyTW9kZSA9PT0gVHJpZ2dlck1vZGUuU0hJRlRfQ0xJQ0sgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGNvbnN0IGNsaWNrZWRCbG9jayA9IHRoaXMuZ2V0QmxvY2tGcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgaWYgKGNsaWNrZWRCbG9jaykge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKHRhcmdldCAmJiB0aGlzLmlzRG91YmxlQ2xpY2tPbkZpZWxkKHRhcmdldCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBibG9jayA9IGdldE5vblNoYWRvd0Jsb2NrKGNsaWNrZWRCbG9jayk7XG4gICAgICAgIGlmIChibG9jayAmJiBibG9jay5pc01vdmFibGUoKSkge1xuICAgICAgICAgIC8vIFByZXZlbnQgQmxvY2tseSdzIGdlc3R1cmUgZnJvbSBzdGFydGluZ1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAvLyBFbnRlciBzdGlja3kgbW9kZSBpbW1lZGlhdGVseVxuICAgICAgICAgIGlmICh0aGlzLmVudGVyKGJsb2NrLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKSkge1xuICAgICAgICAgICAgLy8gU2V0IGZsYWcgdG8gaWdub3JlIHRoZSBuZXh0IGNsaWNrIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmlnbm9yZU5leHRDbGljayA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgZm9jdXMgc3RhdGUgZm9yIEZPQ1VTRURfQ0xJQ0sgbW9kZVxuICAgIGlmICh0aGlzLnRyaWdnZXJNb2RlICE9PSBUcmlnZ2VyTW9kZS5GT0NVU0VEX0NMSUNLKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgdHJpZ2dlciBzdGlja3kgbW9kZSBpZiBjbGlja2luZyBvbiBhIGZpZWxkXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgaXNGaWVsZCA9IHRoaXMuaXNDbGlja09uRmllbGQodGFyZ2V0KTtcblxuICAgIGlmICh0YXJnZXQgJiYgaXNGaWVsZCkge1xuICAgICAgdGhpcy5mb2N1c2VkQmxvY2tCZWZvcmVQb2ludGVyZG93biA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FwdHVyZSB0aGUgY3VycmVudGx5IGZvY3VzZWQvc2VsZWN0ZWQgYmxvY2sgYmVmb3JlIHRoZSBwb2ludGVyZG93biBjaGFuZ2VzIGZvY3VzXG4gICAgLy8gV2UgbmVlZCB0byBjaGVjayBib3RoOlxuICAgIC8vIDEuIEN1cnNvciBwb3NpdGlvbiAoaWYga2V5Ym9hcmQgbmF2aWdhdGlvbiBpcyBhY3RpdmUpXG4gICAgLy8gMi4gU2VsZWN0ZWQgYmxvY2tzIChpZiB1c2luZyBtb3VzZS1vbmx5IHdvcmtmbG93KVxuXG4gICAgbGV0IGZvY3VzZWRCbG9jazogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gVHJ5IHRvIGdldCBmcm9tIGN1cnNvciBmaXJzdCAoa2V5Ym9hcmQgbmF2aWdhdGlvbilcbiAgICBjb25zdCBjdXJzb3IgPSB0aGlzLndvcmtzcGFjZS5nZXRDdXJzb3IoKTtcbiAgICBpZiAoY3Vyc29yKSB7XG4gICAgICBjb25zdCBjdXJOb2RlID0gY3Vyc29yLmdldEN1ck5vZGUoKTtcbiAgICAgIGlmIChjdXJOb2RlKSB7XG4gICAgICAgIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgQmxvY2tseS5CbG9ja1N2Zykge1xuICAgICAgICAgIGZvY3VzZWRCbG9jayA9IGN1ck5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoJ2dldFNvdXJjZUJsb2NrJyBpbiBjdXJOb2RlICYmIHR5cGVvZiAoY3VyTm9kZSBhcyBhbnkpLmdldFNvdXJjZUJsb2NrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZm9jdXNlZEJsb2NrID0gKGN1ck5vZGUgYXMgYW55KS5nZXRTb3VyY2VCbG9jaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gY3Vyc29yLWJhc2VkIGZvY3VzLCBjaGVjayBmb3Igc2VsZWN0ZWQgYmxvY2tzIChtb3VzZSB3b3JrZmxvdylcbiAgICBpZiAoIWZvY3VzZWRCbG9jaykge1xuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBCbG9ja2x5LmNvbW1vbi5nZXRTZWxlY3RlZCgpO1xuICAgICAgaWYgKHNlbGVjdGVkICYmIHNlbGVjdGVkIGluc3RhbmNlb2YgQmxvY2tseS5CbG9ja1N2ZyAmJiBzZWxlY3RlZC53b3Jrc3BhY2UgPT09IHRoaXMud29ya3NwYWNlKSB7XG4gICAgICAgIGZvY3VzZWRCbG9jayA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZm9jdXNlZEJsb2NrQmVmb3JlUG9pbnRlcmRvd24gPSBmb2N1c2VkQmxvY2s7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBkb3VibGUtY2xpY2sgZXZlbnRzIG9uIGJsb2NrcyB0byBlbnRlciBzdGlja3kgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIGhhbmRsZURvdWJsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgLy8gT25seSBoYW5kbGUgZG91YmxlLWNsaWNrcyBpZiB0cmlnZ2VyIG1vZGUgaXMgc2V0IHRvIERPVUJMRV9DTElDS1xuICAgIGlmICh0aGlzLnRyaWdnZXJNb2RlICE9PSBUcmlnZ2VyTW9kZS5ET1VCTEVfQ0xJQ0spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGNsaWNrZWRCbG9jayA9IHRoaXMuZ2V0QmxvY2tGcm9tRXZlbnQoZXZlbnQpO1xuXG4gICAgaWYgKGNsaWNrZWRCbG9jaykge1xuICAgICAgdGhpcy53b3Jrc3BhY2UuZ2V0QXVkaW9NYW5hZ2VyKCkucHJlbG9hZCgpO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQgJiYgdGhpcy5pc0RvdWJsZUNsaWNrT25GaWVsZCh0YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYmxvY2sgPSBnZXROb25TaGFkb3dCbG9jayhjbGlja2VkQmxvY2spO1xuICAgIGlmIChibG9jayAmJiBibG9jay5pc01vdmFibGUoKSkge1xuICAgICAgaWYgKHRoaXMuZW50ZXIoYmxvY2ssIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBkdXJpbmcgc3RpY2t5IG1vZGUgb3IgdG8gdHJpZ2dlciBzdGlja3kgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgLy8gSWYgd2UganVzdCBlbnRlcmVkIHN0aWNreSBtb2RlIHZpYSBzaGlmdCtjbGljaywgaWdub3JlIHRoaXMgY2xpY2tcbiAgICBpZiAodGhpcy5pZ25vcmVOZXh0Q2xpY2spIHtcbiAgICAgIHRoaXMuaWdub3JlTmV4dENsaWNrID0gZmFsc2U7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgYWxyZWFkeSBpbiBzdGlja3kgbW9kZSwgaGFuZGxlIHRoZSBkcm9wL2Nvbm5lY3QgYWN0aW9uXG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgdGhpcy5oYW5kbGVTdGlja3lNb2RlQ2xpY2soZXZlbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgY2xpY2tlZCBibG9jayBvbmNlIHRvIGF2b2lkIGluY29uc2lzdGVuY2llc1xuICAgIGNvbnN0IGNsaWNrZWRCbG9jayA9IHRoaXMuZ2V0QmxvY2tGcm9tRXZlbnQoZXZlbnQpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGZseW91dCBibG9jayAtIGhhbmRsZSBpdCBzcGVjaWFsbHlcbiAgICBpZiAoY2xpY2tlZEJsb2NrICYmIHRoaXMuaXNCbG9ja0Zyb21GbHlvdXQoY2xpY2tlZEJsb2NrKSkge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBjbGljayBzaG91bGQgdHJpZ2dlciBzdGlja3kgbW9kZSBiYXNlZCBvbiB0cmlnZ2VyIG1vZGVcbiAgICAgIGNvbnN0IHNob3VsZFRyaWdnZXIgPSB0aGlzLnNob3VsZFRyaWdnZXJTdGlja3lNb2RlKGV2ZW50LCBjbGlja2VkQmxvY2spO1xuXG4gICAgICBpZiAoc2hvdWxkVHJpZ2dlcikge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcblxuICAgICAgICB0aGlzLndvcmtzcGFjZS5nZXRBdWRpb01hbmFnZXIoKS5wcmVsb2FkKCk7XG5cbiAgICAgICAgaWYgKHRhcmdldCAmJiB0aGlzLmlzRG91YmxlQ2xpY2tPbkZpZWxkKHRhcmdldCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYmxvY2sgZnJvbSBmbHlvdXQgYW5kIGVudGVyIHN0aWNreSBtb2RlXG4gICAgICAgIHRoaXMuaW5zZXJ0Rmx5b3V0QmxvY2tJbnRvU3RpY2t5TW9kZShjbGlja2VkQmxvY2ssIGV2ZW50KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHdvcmtzcGFjZSBibG9ja3MgKGV4aXN0aW5nIGxvZ2ljKVxuICAgIC8vIENoZWNrIGlmIHRoaXMgY2xpY2sgc2hvdWxkIHRyaWdnZXIgc3RpY2t5IG1vZGUgYmFzZWQgb24gdHJpZ2dlciBtb2RlXG4gICAgY29uc3Qgc2hvdWxkVHJpZ2dlciA9IHRoaXMuc2hvdWxkVHJpZ2dlclN0aWNreU1vZGUoZXZlbnQsIGNsaWNrZWRCbG9jayk7XG5cbiAgICBpZiAoc2hvdWxkVHJpZ2dlciAmJiBjbGlja2VkQmxvY2spIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuXG4gICAgICB0aGlzLndvcmtzcGFjZS5nZXRBdWRpb01hbmFnZXIoKS5wcmVsb2FkKCk7XG5cbiAgICAgIGlmICh0YXJnZXQgJiYgdGhpcy5pc0RvdWJsZUNsaWNrT25GaWVsZCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmxvY2sgPSBnZXROb25TaGFkb3dCbG9jayhjbGlja2VkQmxvY2spO1xuICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLmlzTW92YWJsZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmVudGVyKGJsb2NrLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgY2xpY2sgZXZlbnQgc2hvdWxkIHRyaWdnZXIgc3RpY2t5IG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG4gICAqIEBwYXJhbSBjbGlja2VkQmxvY2sgVGhlIGJsb2NrIHRoYXQgd2FzIGNsaWNrZWQgKG9yIG51bGwgaWYgbm8gYmxvY2spLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHN0aWNreSBtb2RlIHNob3VsZCBiZSB0cmlnZ2VyZWQuXG4gICAqL1xuICBwcml2YXRlIHNob3VsZFRyaWdnZXJTdGlja3lNb2RlKGV2ZW50OiBNb3VzZUV2ZW50LCBjbGlja2VkQmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsKTogYm9vbGVhbiB7XG4gICAgaWYgKCFjbGlja2VkQmxvY2spIHJldHVybiBmYWxzZTtcblxuICAgIHN3aXRjaCAodGhpcy50cmlnZ2VyTW9kZSkge1xuICAgICAgY2FzZSBUcmlnZ2VyTW9kZS5TSElGVF9DTElDSzpcbiAgICAgICAgcmV0dXJuIGV2ZW50LnNoaWZ0S2V5O1xuXG4gICAgICBjYXNlIFRyaWdnZXJNb2RlLkZPQ1VTRURfQ0xJQ0s6XG4gICAgICAgIC8vIEZvciBmbHlvdXQgYmxvY2tzLCBza2lwIHRoZSBmb2N1cyBjaGVjayAtIGFueSBjbGljayB0cmlnZ2VycyBzdGlja3kgbW9kZVxuICAgICAgICAvLyBUaGlzIHByb3ZpZGVzIGEgc2ltcGxlciBpbnRlcmFjdGlvbiBtb2RlbCBmb3IgZmx5b3V0IGJsb2Nrc1xuICAgICAgICBpZiAodGhpcy5pc0Jsb2NrRnJvbUZseW91dChjbGlja2VkQmxvY2spKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igd29ya3NwYWNlIGJsb2NrcywgY2hlY2sgaWYgdGhlIGNsaWNrZWQgYmxvY2sgd2FzIHRoZSBvbmUgdGhhdCB3YXMgZm9jdXNlZCBCRUZPUkUgdGhlIHBvaW50ZXJkb3duXG4gICAgICAgIC8vIChjbGlja2luZyBhIGJsb2NrIG1ha2VzIGl0IGZvY3VzZWQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgdGhlIHByZS1jbGljayBzdGF0ZSlcbiAgICAgICAgLy8gTm90ZTogRmllbGQgZGV0ZWN0aW9uIGhhcHBlbnMgZWFybGllciBpbiBoYW5kbGVQb2ludGVyRG93biB0byBzZXQgZm9jdXNlZEJsb2NrQmVmb3JlUG9pbnRlcmRvd25cbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZEJsb2NrQmVmb3JlUG9pbnRlcmRvd24gIT09IGNsaWNrZWRCbG9jaykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyaWdnZXIgaWYgdGhlIGJsb2NrIGhhcyBhIFZJU0lCTEUgaGlnaGxpZ2h0XG4gICAgICAgIC8vIEEgYmxvY2sgaGFzIGEgdmlzaWJsZSBoaWdobGlnaHQgYmFzZWQgb24gQ1NTIGNsYXNzIGNvbWJpbmF0aW9uczpcbiAgICAgICAgLy8gMS4gYmxvY2tseVNlbGVjdGVkIGNsYXNzIChjb3JlIEJsb2NrbHkgc2VsZWN0aW9uIC0gYWx3YXlzIHZpc2libGUpXG4gICAgICAgIC8vIDIuIGJsb2NrbHlBY3RpdmVGb2N1cyBPUiBibG9ja2x5UGFzc2l2ZUZvY3VzIChrZXlib2FyZCBuYXYgLSBvbmx5IHZpc2libGUgd2hlbiBrZXlib2FyZCBtb2RlIGFjdGl2ZSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIHZpc3VhbCBoaWdobGlnaHQgaXMgZGV0ZXJtaW5lZCBieSBDU1MgcnVsZXMsIG5vdCBieSBzZW1hbnRpYyBmb2N1cyBzdGF0ZS5cbiAgICAgICAgLy8gV2UgY2hlY2sgdGhlIGNsYXNzZXMgdGhhdCBjb250cm9sIHRoZSBDU1MgcnVsZXMgdGhhdCBtYWtlIGhpZ2hsaWdodHMgdmlzaWJsZS5cbiAgICAgICAgY29uc3QgcGF0aEVsZW1lbnQgPSBjbGlja2VkQmxvY2sucGF0aE9iamVjdC5zdmdQYXRoO1xuICAgICAgICBjb25zdCBibG9ja1N2Z0dyb3VwID0gY2xpY2tlZEJsb2NrLmdldFN2Z1Jvb3QoKTtcblxuICAgICAgICAvLyBDb3JlIEJsb2NrbHkgc2VsZWN0aW9uIChhbHdheXMgY3JlYXRlcyB2aXNpYmxlIGhpZ2hsaWdodClcbiAgICAgICAgLy8gTm90ZTogYmxvY2tseVNlbGVjdGVkIGNsYXNzIGlzIG9uIHRoZSBwYXJlbnQgPGc+IGVsZW1lbnQsIG5vdCB0aGUgcGF0aFxuICAgICAgICAvLyBUaGUgQ1NTIHJ1bGUgaXM6IC5ibG9ja2x5U2VsZWN0ZWQgPiAuYmxvY2tseVBhdGggeyBzdHJva2U6ICNmYzM7IH1cbiAgICAgICAgY29uc3QgaGFzU2VsZWN0ZWRDbGFzcyA9IGJsb2NrU3ZnR3JvdXA/LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVNlbGVjdGVkJykgPz8gZmFsc2U7XG5cbiAgICAgICAgLy8gS2V5Ym9hcmQgbmF2aWdhdGlvbiBoaWdobGlnaHRzIChvbmx5IHZpc2libGUgd2hlbiBrZXlib2FyZCBtb2RlIGlzIGFjdGl2ZSlcbiAgICAgICAgY29uc3QgYm9keUhhc0tleWJvYXJkTmF2ID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlLZXlib2FyZE5hdmlnYXRpb24nKTtcbiAgICAgICAgY29uc3QgaGFzQWN0aXZlRm9jdXMgPSBwYXRoRWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5QWN0aXZlRm9jdXMnKSA/PyBmYWxzZTtcbiAgICAgICAgY29uc3QgaGFzUGFzc2l2ZUZvY3VzID0gcGF0aEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVBhc3NpdmVGb2N1cycpID8/IGZhbHNlO1xuXG4gICAgICAgIC8vIEJvb2xlYW4gbG9naWM6IHZpc2libGUgaGlnaGxpZ2h0IGV4aXN0cyBpZjpcbiAgICAgICAgLy8gLSBCbG9jayBoYXMgYmxvY2tseVNlbGVjdGVkIGNsYXNzIChjb3JlIHNlbGVjdGlvbiksIE9SXG4gICAgICAgIC8vIC0gS2V5Ym9hcmQgbmF2IGlzIGFjdGl2ZSBBTkQgYmxvY2sgaGFzIGFjdGl2ZS9wYXNzaXZlIGZvY3VzXG4gICAgICAgIGNvbnN0IGhhc1Zpc2libGVIaWdobGlnaHQgPSBoYXNTZWxlY3RlZENsYXNzIHx8XG4gICAgICAgICAgKGJvZHlIYXNLZXlib2FyZE5hdiAmJiAoaGFzQWN0aXZlRm9jdXMgfHwgaGFzUGFzc2l2ZUZvY3VzKSk7XG5cbiAgICAgICAgLy8gQmxvY2sgc2hvdWxkIHRyaWdnZXIgc3RpY2t5IG1vZGUgaWYgaXQgaGFzIGEgdmlzaWJsZSBoaWdobGlnaHRcbiAgICAgICAgcmV0dXJuIGhhc1Zpc2libGVIaWdobGlnaHQ7XG5cbiAgICAgIGNhc2UgVHJpZ2dlck1vZGUuTU9ERV9UT0dHTEU6XG4gICAgICAgIC8vIE1PREVfVE9HR0xFIHJlcXVpcmVzIGV4cGxpY2l0IGVuYWJsZW1lbnQgdGhyb3VnaCBleHRlcm5hbCBzdGF0ZSBtYW5hZ2VtZW50XG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgY2FzZSBUcmlnZ2VyTW9kZS5HUklQX0NMSUNLOlxuICAgICAgICAvLyBHUklQX0NMSUNLIGlzIGhhbmRsZWQgYnkgaGFuZGxlR3JpcENsaWNrKCkgd2hpY2ggaXMgaW52b2tlZCBkaXJlY3RseVxuICAgICAgICAvLyB3aGVuIHRoZSBncmlwIGVsZW1lbnQgaXMgY2xpY2tlZCAod2l0aCBzdG9wUHJvcGFnYXRpb24gdG8gcHJldmVudCB0aGlzXG4gICAgICAgIC8vIG1ldGhvZCBmcm9tIGJlaW5nIGNhbGxlZCkuIFJlZ3VsYXIgY2xpY2tzIG91dHNpZGUgdGhlIGdyaXAgZG9uJ3QgdHJpZ2dlclxuICAgICAgICAvLyBzdGlja3kgbW9kZSBpbiB0aGlzIG1vZGUuXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgY2FzZSBUcmlnZ2VyTW9kZS5ET1VCTEVfQ0xJQ0s6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBEb3VibGUtY2xpY2sgaXMgaGFuZGxlZCBzZXBhcmF0ZWx5XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBwb2ludGVyIG1vdmVtZW50IGR1cmluZyBzdGlja3kgbW9kZSB0byBtYWtlIGJsb2NrcyBmb2xsb3cgdGhlIGN1cnNvci5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIGhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50OiBQb2ludGVyRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkgcmV0dXJuO1xuXG4gICAgLy8gT25seSB1cGRhdGUgYmxvY2sgcG9zaXRpb24gaWYga2VlcEJsb2NrT25Nb3VzZSBpcyBlbmFibGVkXG4gICAgaWYgKCF0aGlzLmtlZXBCbG9ja09uTW91c2UpIHJldHVybjtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgbW92ZUluZm8gPSAodGhpcy5tb3ZlciBhcyBhbnkpPy5tb3Zlcz8uZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIW1vdmVJbmZvKSByZXR1cm47XG5cbiAgICBjb25zdCB0YXJnZXRXb3Jrc3BhY2VDb29yZHMgPVxuICAgICAgQmxvY2tseS51dGlscy5zdmdNYXRoLnNjcmVlblRvV3NDb29yZGluYXRlcyhcbiAgICAgICAgdGhpcy53b3Jrc3BhY2UsXG4gICAgICAgIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSksXG4gICAgICApO1xuXG4gICAgY29uc3QgZGVsdGFYID0gdGFyZ2V0V29ya3NwYWNlQ29vcmRzLnggLSBtb3ZlSW5mby5zdGFydExvY2F0aW9uLng7XG4gICAgY29uc3QgZGVsdGFZID0gdGFyZ2V0V29ya3NwYWNlQ29vcmRzLnkgLSBtb3ZlSW5mby5zdGFydExvY2F0aW9uLnk7XG5cbiAgICBtb3ZlSW5mby50b3RhbERlbHRhLnggPSBkZWx0YVg7XG4gICAgbW92ZUluZm8udG90YWxEZWx0YS55ID0gZGVsdGFZO1xuXG4gICAgaWYgKG1vdmVJbmZvLmRyYWdnZXIpIHtcbiAgICAgIG1vdmVJbmZvLmRyYWdnZXIub25EcmFnKFxuICAgICAgICBldmVudCBhcyBhbnksXG4gICAgICAgIG1vdmVJbmZvLnRvdGFsRGVsdGEsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrcyBkdXJpbmcgc3RpY2t5IG1vZGUgZm9yIGRyb3AvY29ubmVjdC9kZWxldGUgYWN0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIGhhbmRsZVN0aWNreU1vZGVDbGljayhldmVudDogTW91c2VFdmVudCB8IFBvaW50ZXJFdmVudCkge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLnN0aWNreU1vZGVzLmdldCh0aGlzLndvcmtzcGFjZSk7XG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGNvbnN0IGNsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgIGNvbnN0IGNsaWVudFkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgaWYgKHRoaXMuaXNDbGlja09uQmluKGNsaWVudFgsIGNsaWVudFkpKSB7XG4gICAgICB0aGlzLmRlbGV0ZUJsb2NrT25CaW4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IHRoaXMuZmluZENvbm5lY3Rpb25BdFBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICAgIGlmIChjb25uZWN0aW9uSW5mbykge1xuICAgICAgdGhpcy5jb25uZWN0VG9DbGlja2VkQ29ubmVjdGlvbihjb25uZWN0aW9uSW5mbywgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIGNvbm5lY3Rpb24gcHJldmlld1xuICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IHRoaXMuZ2V0RHJhZ1N0cmF0ZWd5KGluZm8uYmxvY2spO1xuXG4gICAgaWYgKHRoaXMua2VlcEJsb2NrT25Nb3VzZSkge1xuICAgICAgLy8gQmxvY2sgaXMgZm9sbG93aW5nIG1vdXNlIC0gcHJldmlldyBjaGFuZ2VzIGFzIHlvdSBtb3ZlXG4gICAgICAvLyBBY2NlcHQgYW55IGNvbm5lY3Rpb24gcHJldmlldyBhdCBjdXJyZW50IHBvc2l0aW9uXG4gICAgICBpZiAoZHJhZ1N0cmF0ZWd5ICYmIGRyYWdTdHJhdGVneS5jb25uZWN0aW9uQ2FuZGlkYXRlKSB7XG4gICAgICAgIHRoaXMuYWNjZXB0Q29ubmVjdGlvbkNhbmRpZGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEJsb2NrIGlzIE5PVCBmb2xsb3dpbmcgbW91c2UgLSBwcmV2aWV3IGlzIHN0YXRpYyBhdCBvcmlnaW5hbCBsb2NhdGlvblxuICAgICAgLy8gT25seSBhY2NlcHQgcHJldmlldyBpZiBjbGlja2luZyBvbiB0aGUgc291cmNlIGJsb2NrIGl0c2VsZlxuICAgICAgY29uc3QgY2xpY2tlZEJsb2NrID0gdGhpcy5nZXRCbG9ja0Zyb21FdmVudChldmVudCk7XG4gICAgICBjb25zdCBpc0NsaWNrT25Tb3VyY2VCbG9jayA9IGNsaWNrZWRCbG9jayA9PT0gaW5mby5ibG9jaztcblxuICAgICAgaWYgKGlzQ2xpY2tPblNvdXJjZUJsb2NrICYmIGRyYWdTdHJhdGVneSAmJiBkcmFnU3RyYXRlZ3kuY29ubmVjdGlvbkNhbmRpZGF0ZSkge1xuICAgICAgICB0aGlzLmFjY2VwdENvbm5lY3Rpb25DYW5kaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vIGNvbm5lY3Rpb24gcHJldmlldyB0byBhY2NlcHRcbiAgICAvLyBDaGVjayBpZiBjbGljayBpcyBpbnNpZGUgdGhlIHNvdXJjZSBibG9jayAtIGlmIHNvLCBkcm9wIGluIHBsYWNlXG4gICAgY29uc3QgYmxvY2tCb3VuZHMgPSBpbmZvLmJsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgY29uc3QgY2xpY2tXb3Jrc3BhY2VDb29yZHMgPSBCbG9ja2x5LnV0aWxzLnN2Z01hdGguc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzKFxuICAgICAgdGhpcy53b3Jrc3BhY2UsXG4gICAgICBuZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGNsaWVudFgsIGNsaWVudFkpLFxuICAgICk7XG5cbiAgICBpZiAoYmxvY2tCb3VuZHMuY29udGFpbnMoY2xpY2tXb3Jrc3BhY2VDb29yZHMueCwgY2xpY2tXb3Jrc3BhY2VDb29yZHMueSkpIHtcbiAgICAgIC8vIENsaWNrIGlzIGluc2lkZSB0aGUgc291cmNlIGJsb2NrIC0gZG9uJ3QgbW92ZSBpdFxuICAgICAgdGhpcy5leGl0U3RpY2t5TW9kZUFuZERyb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2xpY2sgaXMgb3V0c2lkZSB0aGUgc291cmNlIGJsb2NrIC0gbW92ZSB0byBjbGljayBsb2NhdGlvblxuICAgICAgdGhpcy5leGl0U3RpY2t5TW9kZUFuZERyb3AoY2xpZW50WCwgY2xpZW50WSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBibG9jayBmcm9tIGFuIGV2ZW50IHRhcmdldC5cbiAgICogU2VhcmNoZXMgYm90aCBtYWluIHdvcmtzcGFjZSBhbmQgZmx5b3V0IHdvcmtzcGFjZSBibG9ja3MuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcGFyYW0gZXZlbnQudGFyZ2V0XG4gICAqL1xuICBwcml2YXRlIGdldEJsb2NrRnJvbUV2ZW50KGV2ZW50OiB7XG4gICAgdGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGw7XG4gIH0pOiBCbG9ja2x5LkJsb2NrU3ZnIHwgbnVsbCB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybiBudWxsO1xuXG4gICAgLy8gR2V0IGJsb2NrcyBmcm9tIGJvdGggbWFpbiB3b3Jrc3BhY2UgYW5kIGZseW91dFxuICAgIGxldCBibG9ja3MgPSB0aGlzLndvcmtzcGFjZS5nZXRBbGxCbG9ja3MoKTtcbiAgICBjb25zdCBmbHlvdXQgPSB0aGlzLndvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAoZmx5b3V0ICYmIGZseW91dC5pc1Zpc2libGUoKSkge1xuICAgICAgY29uc3QgZmx5b3V0V29ya3NwYWNlID0gZmx5b3V0LmdldFdvcmtzcGFjZSgpO1xuICAgICAgaWYgKGZseW91dFdvcmtzcGFjZSkge1xuICAgICAgICBibG9ja3MgPSBibG9ja3MuY29uY2F0KGZseW91dFdvcmtzcGFjZS5nZXRBbGxCbG9ja3MoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWxsQmxvY2tFbGVtZW50czogRWxlbWVudFtdID0gW107XG4gICAgbGV0IGN1cnJlbnRFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IHRhcmdldDtcblxuICAgIHdoaWxlIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmNsYXNzTGlzdD8uY29udGFpbnMoJ2Jsb2NrbHlCbG9jaycpKSB7XG4gICAgICAgIGFsbEJsb2NrRWxlbWVudHMucHVzaChjdXJyZW50RWxlbWVudCk7XG4gICAgICB9XG4gICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgaWYgKGFsbEJsb2NrRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgaW5uZXJtb3N0QmxvY2tFbGVtZW50ID0gYWxsQmxvY2tFbGVtZW50c1swXTtcbiAgICAgIGNvbnN0IGJsb2NrID0gYmxvY2tzLmZpbmQoKGIpID0+IGIuZ2V0U3ZnUm9vdCgpID09PSBpbm5lcm1vc3RCbG9ja0VsZW1lbnQpO1xuXG4gICAgICBpZiAoYmxvY2sgJiYgYmxvY2sgaW5zdGFuY2VvZiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gICAgICAgIHJldHVybiBibG9jaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBibG9jayBpcyBmcm9tIHRoZSBmbHlvdXQuXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayBUaGUgYmxvY2sgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGJsb2NrIGlzIGZyb20gdGhlIGZseW91dCB3b3Jrc3BhY2UuXG4gICAqL1xuICBwcml2YXRlIGlzQmxvY2tGcm9tRmx5b3V0KGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGJsb2NrLndvcmtzcGFjZS5pc0ZseW91dCA9PT0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGJsb2NrIGZyb20gYSBmbHlvdXQgdGVtcGxhdGUgYW5kIGltbWVkaWF0ZWx5IGVudGVycyBzdGlja3kgbW9kZS5cbiAgICogVXNlZCB3aGVuIGNsaWNraW5nIG9uIGZseW91dCBibG9ja3Mgd2l0aCBzdGlja3kgbW9kZSB0cmlnZ2VycyBlbmFibGVkLlxuICAgKlxuICAgKiBAcGFyYW0gZmx5b3V0QmxvY2sgVGhlIGZseW91dCBibG9jayB0ZW1wbGF0ZSB0byBjcmVhdGUgZnJvbS5cbiAgICogQHBhcmFtIGV2ZW50IFRoZSBjbGljayBldmVudC5cbiAgICovXG4gIHByaXZhdGUgaW5zZXJ0Rmx5b3V0QmxvY2tJbnRvU3RpY2t5TW9kZShcbiAgICBmbHlvdXRCbG9jazogQmxvY2tseS5CbG9ja1N2ZyxcbiAgICBldmVudDogTW91c2VFdmVudCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgZmx5b3V0ID0gdGhpcy53b3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgaWYgKCFmbHlvdXQpIHJldHVybjtcblxuICAgIC8vIENyZWF0ZSBhIG5ldyBldmVudCBncm91cCBmb3IgdGhpcyBvcGVyYXRpb25cbiAgICBjb25zdCBleGlzdGluZ0dyb3VwID0gQmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKTtcbiAgICBpZiAoIWV4aXN0aW5nR3JvdXApIHtcbiAgICAgIEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKHRydWUpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgdGhlIGJsb2NrIG9uIHRoZSBtYWluIHdvcmtzcGFjZSBmcm9tIHRoZSBmbHlvdXQgdGVtcGxhdGVcbiAgICAgIGNvbnN0IG5ld0Jsb2NrID0gZmx5b3V0LmNyZWF0ZUJsb2NrKGZseW91dEJsb2NrKTtcblxuICAgICAgLy8gUmVuZGVyIHRvIGdldCB0aGUgc2l6aW5nIHJpZ2h0XG4gICAgICBuZXdCbG9jay5yZW5kZXIoKTtcblxuICAgICAgLy8gRW5hYmxlIGNvbm5lY3Rpb24gdHJhY2tpbmcgKG5vcm1hbGx5IGhhcHBlbnMgZHVyaW5nIGRyYWcsIGJ1dCB3ZSBuZWVkIGl0IGltbWVkaWF0ZWx5KVxuICAgICAgbmV3QmxvY2suc2V0Q29ubmVjdGlvblRyYWNraW5nKHRydWUpO1xuXG4gICAgICAvLyBQb3NpdGlvbiB0aGUgYmxvY2sgYXQgdGhlIGNsaWNrIGxvY2F0aW9uXG4gICAgICBjb25zdCB3b3Jrc3BhY2VDb29yZHMgPSBCbG9ja2x5LnV0aWxzLnN2Z01hdGguc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzKFxuICAgICAgICB0aGlzLndvcmtzcGFjZSxcbiAgICAgICAgbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKSxcbiAgICAgICk7XG4gICAgICBuZXdCbG9jay5tb3ZlVG8od29ya3NwYWNlQ29vcmRzKTtcblxuICAgICAgLy8gRW50ZXIgc3RpY2t5IG1vZGUgd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCBibG9ja1xuICAgICAgdGhpcy5lbnRlcihuZXdCbG9jaywgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIENsZWFuIHVwIGV2ZW50IGdyb3VwIGlmIHdlIGNyZWF0ZWQgb25lXG4gICAgICBpZiAoIWV4aXN0aW5nR3JvdXApIHtcbiAgICAgICAgQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBjbGljayBpcyBvbiBhIGZpZWxkIGVsZW1lbnQgYnkgaW5zcGVjdGluZyB0aGUgRE9NIHRyZWUuXG4gICAqIE1vcmUgcmVsaWFibGUgdGhhbiBnZXN0dXJlLWJhc2VkIGRldGVjdGlvbiBmb3IgZXZlbnRzIHRoYXQgZmlyZSBhZnRlciBnZXN0dXJlIGRpc3Bvc2FsLlxuICAgKiBPbmx5IGRldGVjdHMgdHJ1bHkgaW50ZXJhY3RpdmUvZWRpdGFibGUgZmllbGRzLCBub3Qgc3RhdGljIHRleHQgbGFiZWxzLlxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSBldmVudCB0YXJnZXQgZWxlbWVudC5cbiAgICovXG4gIHByaXZhdGUgaXNDbGlja09uRmllbGQodGFyZ2V0OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIFdhbGsgdXAgdGhlIERPTSB0cmVlIGxvb2tpbmcgZm9yIGludGVyYWN0aXZlIGZpZWxkIGVsZW1lbnRzXG4gICAgbGV0IGN1cnJlbnRFbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IHRhcmdldDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIGNvbnN0IG1heERlcHRoID0gMTA7IC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcHNcblxuICAgIHdoaWxlIChjdXJyZW50RWxlbWVudCAmJiBkZXB0aCA8IG1heERlcHRoKSB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSBjdXJyZW50RWxlbWVudC5jbGFzc0xpc3Q7XG5cbiAgICAgIGlmIChjbGFzc0xpc3QpIHtcbiAgICAgICAgLy8gU3RvcCBlYXJseSBpZiB3ZSBoaXQgdGhlIHdvcmtzcGFjZSAtIG5vIGZpZWxkcyBiZXlvbmQgaGVyZVxuICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5V29ya3NwYWNlJykgfHxcbiAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseU1haW5CYWNrZ3JvdW5kJykgfHxcbiAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVN2ZycpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcCBhdCBibG9jayBib3VuZGFyeSAtIGRvbid0IHNlYXJjaCBiZXlvbmQgdGhlIGJsb2NrXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlCbG9jaycpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT25seSBjaGVjayBmb3IgRURJVEFCTEUvSU5URVJBQ1RJVkUgZmllbGQgQ1NTIGNsYXNzZXNcbiAgICAgICAgLy8gRG8gTk9UIGluY2x1ZGUgYmxvY2tseVRleHQgb3IgYmxvY2tseU5vbkVkaXRhYmxlVGV4dCAtIHRob3NlIGFyZSBzdGF0aWMgbGFiZWxzXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlFZGl0YWJsZVRleHQnKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RHJvcGRvd25UZXh0JykgfHxcbiAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseURyb3BEb3duRGl2JykpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBzcGVjaWZpYyBpbnRlcmFjdGl2ZSBmaWVsZCB0eXBlc1xuICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RmllbGRUZXh0SW5wdXQnKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RmllbGROdW1iZXInKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RmllbGRDb2xvdXInKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RmllbGREcm9wZG93bicpIHx8XG4gICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlGaWVsZENoZWNrYm94JykgfHxcbiAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUZpZWxkQW5nbGUnKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgIGRlcHRoKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGRvdWJsZS1jbGljayBldmVudCBpcyBvbiBhIGZpZWxkIGVsZW1lbnQuXG4gICAqIFVzZXMgQmxvY2tseSdzIGdlc3R1cmUgc3lzdGVtIGZvciByZWxpYWJsZSBmaWVsZCBkZXRlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXRcbiAgICovXG4gIHByaXZhdGUgaXNEb3VibGVDbGlja09uRmllbGQodGFyZ2V0OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy53b3Jrc3BhY2U7XG4gICAgY29uc3QgY3VycmVudEdlc3R1cmUgPSAod29ya3NwYWNlIGFzIGFueSkuY3VycmVudEdlc3R1cmVfO1xuXG4gICAgaWYgKGN1cnJlbnRHZXN0dXJlICYmIChjdXJyZW50R2VzdHVyZSBhcyBhbnkpLnN0YXJ0RmllbGQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGwgYmFjayB0byBET00tYmFzZWQgZGV0ZWN0aW9uXG4gICAgcmV0dXJuIHRoaXMuaXNDbGlja09uRmllbGQodGFyZ2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2NlcHRzIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gY2FuZGlkYXRlIGZyb20gdGhlIGRyYWcgc3RyYXRlZ3kuXG4gICAqL1xuICBwcml2YXRlIGFjY2VwdENvbm5lY3Rpb25DYW5kaWRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHJldHVybjtcbiAgICB0aGlzLmV4aXQoJ2ZpbmlzaCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc2NyZWVuIGNvb3JkaW5hdGVzIGFyZSBvdmVyIHRoZSB0cmFzaGNhbi9iaW4uXG4gICAqXG4gICAqIEBwYXJhbSBjbGllbnRYIFNjcmVlbiBYIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSBjbGllbnRZIFNjcmVlbiBZIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvb3JkaW5hdGVzIGFyZSBvdmVyIHRoZSB0cmFzaGNhbi5cbiAgICovXG4gIHByaXZhdGUgaXNDbGlja09uQmluKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdHJhc2hjYW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJsb2NrbHlUcmFzaCcpO1xuICAgIGlmICghdHJhc2hjYW5FbGVtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjdCA9IHRyYXNoY2FuRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiAoXG4gICAgICBjbGllbnRYID49IHJlY3QubGVmdCAmJlxuICAgICAgY2xpZW50WCA8PSByZWN0LnJpZ2h0ICYmXG4gICAgICBjbGllbnRZID49IHJlY3QudG9wICYmXG4gICAgICBjbGllbnRZIDw9IHJlY3QuYm90dG9tXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBzdGlja3kgYmxvY2sgd2hlbiBkcm9wcGVkIG9uIHRoZSBiaW4uXG4gICAqL1xuICBwcml2YXRlIGRlbGV0ZUJsb2NrT25CaW4oKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHJldHVybjtcblxuICAgIGNvbnN0IGJsb2NrVG9EZWxldGUgPSBpbmZvLmJsb2NrO1xuICAgIHRoaXMuZXhpdCgnYWJvcnQnKTtcblxuICAgIC8vIFVucGx1ZyB3aXRoIGhlYWxTdGFjayB0byBwcmVzZXJ2ZSBjaGlsZHJlblxuICAgIGJsb2NrVG9EZWxldGUudW5wbHVnKHRydWUpO1xuICAgIGJsb2NrVG9EZWxldGUuZGlzcG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGEgY29ubmVjdGlvbiBwb2ludCBhdCB0aGUgZ2l2ZW4gc2NyZWVuIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcGFyYW0gY2xpZW50WFxuICAgKiBAcGFyYW0gY2xpZW50WVxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kQ29ubmVjdGlvbkF0UG9pbnQoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBhbnkge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLnN0aWNreU1vZGVzLmdldCh0aGlzLndvcmtzcGFjZSk7XG4gICAgaWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IChpbmZvLmJsb2NrIGFzIGFueSk/LmRyYWdTdHJhdGVneTtcbiAgICBpZiAoZHJhZ1N0cmF0ZWd5ICYmIGRyYWdTdHJhdGVneS5jb25uZWN0aW9uSGlnaGxpZ2h0ZXIpIHtcbiAgICAgIGNvbnN0IGhpZ2hsaWdodGVkQ29ubmVjdGlvbiA9XG4gICAgICAgIGRyYWdTdHJhdGVneS5jb25uZWN0aW9uSGlnaGxpZ2h0ZXIuZmluZENvbm5lY3Rpb25BdFBvaW50KFxuICAgICAgICAgIGNsaWVudFgsXG4gICAgICAgICAgY2xpZW50WSxcbiAgICAgICAgKTtcblxuICAgICAgaWYgKGhpZ2hsaWdodGVkQ29ubmVjdGlvbikge1xuICAgICAgICBjb25zdCBzdGlja3lDb25uZWN0aW9ucyA9IGluZm8uYmxvY2suZ2V0Q29ubmVjdGlvbnNfKHRydWUpO1xuICAgICAgICBpZiAoc3RpY2t5Q29ubmVjdGlvbnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHN0aWNreUNvbm5lY3Rpb24gb2Ygc3RpY2t5Q29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25DaGVja2VyID0gdGhpcy53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoXG4gICAgICAgICAgICAgICAgc3RpY2t5Q29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICBoaWdobGlnaHRlZENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICBJbmZpbml0eSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbjogaGlnaGxpZ2h0ZWRDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgIHN0aWNreUNvbm5lY3Rpb246IHN0aWNreUNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgICAgICAgICAgaXNIaWdobGlnaHRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgc3RpY2t5IGJsb2NrIHRvIGEgc3BlY2lmaWMgY29ubmVjdGlvbiBwb2ludC5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb25JbmZvXG4gICAqIEBwYXJhbSBjbGllbnRYXG4gICAqIEBwYXJhbSBjbGllbnRZXG4gICAqL1xuICBwcml2YXRlIGNvbm5lY3RUb0NsaWNrZWRDb25uZWN0aW9uKFxuICAgIGNvbm5lY3Rpb25JbmZvOiBhbnksXG4gICAgY2xpZW50WDogbnVtYmVyLFxuICAgIGNsaWVudFk6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHJldHVybjtcblxuICAgIGNvbnN0IHtjb25uZWN0aW9uLCBzdGlja3lDb25uZWN0aW9ufSA9IGNvbm5lY3Rpb25JbmZvO1xuXG4gICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gdGhpcy5nZXREcmFnU3RyYXRlZ3koaW5mby5ibG9jayk7XG4gICAgaWYgKGRyYWdTdHJhdGVneSkge1xuICAgICAgZHJhZ1N0cmF0ZWd5LmNvbm5lY3Rpb25DYW5kaWRhdGUgPSB7XG4gICAgICAgIGxvY2FsOiBzdGlja3lDb25uZWN0aW9uLFxuICAgICAgICBuZWlnaGJvdXI6IGNvbm5lY3Rpb24sXG4gICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLmV4aXQoJ2ZpbmlzaCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgc3RpY2t5IG1vZGUgVUkgc3RhdGUuXG4gICAqIENhbGxlZCBhZnRlciBtb3Zlci5maW5pc2hNb3ZlKCkgb3IgbW92ZXIuYWJvcnRNb3ZlKCkuXG4gICAqL1xuICBwcml2YXRlIHJlc2V0U3RpY2t5U3RhdGUoKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoaW5mbykge1xuICAgICAgaW5mby5ibG9jay5nZXRTdmdSb290KCkuY2xhc3NMaXN0LnJlbW92ZSgnYmxvY2tseS1zdGlja3ktbW9kZScpO1xuICAgIH1cblxuICAgIHRoaXMuc3RpY2t5TW9kZXMuZGVsZXRlKHRoaXMud29ya3NwYWNlKTtcbiAgICB0aGlzLmlnbm9yZU5leHRDbGljayA9IGZhbHNlO1xuXG4gICAgLy8gRm9jdXMgdGhlIHdvcmtzcGFjZSByb290IHRvIHByb3Blcmx5IGJsdXIgdGhlIGJsb2NrXG4gICAgLy8gVGhpcyBlbnN1cmVzIHN1YnNlcXVlbnQgY2xpY2tzIGNhbiByZS1mb2N1cyBhbmQgc2VsZWN0IHRoZSBibG9jayBjb3JyZWN0bHlcbiAgICBjb25zdCBmb2N1c01hbmFnZXIgPSBCbG9ja2x5LmdldEZvY3VzTWFuYWdlcigpO1xuICAgIGZvY3VzTWFuYWdlci5mb2N1c05vZGUodGhpcy53b3Jrc3BhY2UpO1xuXG4gICAgLy8gQ2xlYXIgdG91Y2ggaWRlbnRpZmllciB0byBwcmV2ZW50IHN0dWNrIGdlc3R1cmVzXG4gICAgdHJ5IHtcbiAgICAgIEJsb2NrbHkuVG91Y2guY2xlYXJUb3VjaElkZW50aWZpZXIoKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBCbG9ja2x5LlRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyKCk7XG4gICAgICB9LCAwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBTaWxlbnRseSBmYWlsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4aXRzIHN0aWNreSBtb2RlIGJ5IGRyb3BwaW5nIHRoZSBibG9jayBhdCB0aGUgc3BlY2lmaWVkIG9yIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjbGllbnRYIE9wdGlvbmFsIHNjcmVlbiBYIGNvb3JkaW5hdGUgd2hlcmUgdG8gZHJvcCB0aGUgYmxvY2tcbiAgICogQHBhcmFtIGNsaWVudFkgT3B0aW9uYWwgc2NyZWVuIFkgY29vcmRpbmF0ZSB3aGVyZSB0byBkcm9wIHRoZSBibG9ja1xuICAgKi9cbiAgcHJpdmF0ZSBleGl0U3RpY2t5TW9kZUFuZERyb3AoY2xpZW50WD86IG51bWJlciwgY2xpZW50WT86IG51bWJlcikge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLnN0aWNreU1vZGVzLmdldCh0aGlzLndvcmtzcGFjZSk7XG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgY29ubmVjdGlvbiBjYW5kaWRhdGUgLSBCbG9ja2x5IHdpbGwgcmVjYWxjdWxhdGUgZnJvbSBmaW5hbCBwb3NpdGlvblxuICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IHRoaXMuZ2V0RHJhZ1N0cmF0ZWd5KGluZm8uYmxvY2spO1xuICAgIGlmIChkcmFnU3RyYXRlZ3kpIHtcbiAgICAgIGRyYWdTdHJhdGVneS5jb25uZWN0aW9uQ2FuZGlkYXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IG1vdmVJbmZvID0gKHRoaXMubW92ZXIgYXMgYW55KT8ubW92ZXM/LmdldCh0aGlzLndvcmtzcGFjZSk7XG5cbiAgICAvLyBVcGRhdGUgcG9zaXRpb24gaWYgY29vcmRpbmF0ZXMgcHJvdmlkZWRcbiAgICBpZiAoXG4gICAgICBjbGllbnRYICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGNsaWVudFkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgaW5mby5ibG9jayAmJlxuICAgICAgIWluZm8uYmxvY2suaXNEaXNwb3NlZCgpXG4gICAgKSB7XG4gICAgICBjb25zdCB0YXJnZXRXb3Jrc3BhY2VDb29yZHMgPVxuICAgICAgICBCbG9ja2x5LnV0aWxzLnN2Z01hdGguc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzKFxuICAgICAgICAgIHRoaXMud29ya3NwYWNlLFxuICAgICAgICAgIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoY2xpZW50WCwgY2xpZW50WSksXG4gICAgICAgICk7XG5cbiAgICAgIGlmIChtb3ZlSW5mbykge1xuICAgICAgICBjb25zdCBjdXJyZW50WCA9IG1vdmVJbmZvLnN0YXJ0TG9jYXRpb24ueCArIG1vdmVJbmZvLnRvdGFsRGVsdGEueDtcbiAgICAgICAgY29uc3QgY3VycmVudFkgPSBtb3ZlSW5mby5zdGFydExvY2F0aW9uLnkgKyBtb3ZlSW5mby50b3RhbERlbHRhLnk7XG5cbiAgICAgICAgY29uc3QgYWRkaXRpb25hbERlbHRhWCA9IHRhcmdldFdvcmtzcGFjZUNvb3Jkcy54IC0gY3VycmVudFg7XG4gICAgICAgIGNvbnN0IGFkZGl0aW9uYWxEZWx0YVkgPSB0YXJnZXRXb3Jrc3BhY2VDb29yZHMueSAtIGN1cnJlbnRZO1xuXG4gICAgICAgIG1vdmVJbmZvLnRvdGFsRGVsdGEueCArPSBhZGRpdGlvbmFsRGVsdGFYO1xuICAgICAgICBtb3ZlSW5mby50b3RhbERlbHRhLnkgKz0gYWRkaXRpb25hbERlbHRhWTtcblxuICAgICAgICAvLyBNb3ZlIGJsb2NrIGRpcmVjdGx5IHRvIGVuc3VyZSBwb3NpdGlvbmluZyBpcyBjb3JyZWN0XG4gICAgICAgIGluZm8uYmxvY2subW92ZUJ5KGFkZGl0aW9uYWxEZWx0YVgsIGFkZGl0aW9uYWxEZWx0YVkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2V0Q2xpY2tBbmRTdGlja01vZGUoaW5mby5ibG9jaywgZmFsc2UpO1xuXG4gICAgaWYgKHRoaXMubW92ZXIgJiYgdGhpcy5tb3Zlci5pc01vdmluZyh0aGlzLndvcmtzcGFjZSkpIHtcbiAgICAgIHRoaXMubW92ZXIuZmluaXNoTW92ZSh0aGlzLndvcmtzcGFjZSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNldFN0aWNreVN0YXRlKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/sticky_mode_controller.ts\n");

/***/ }),

/***/ "../../src/workspace_utilities.ts":
/*!****************************************!*\
  !*** ../../src/workspace_utilities.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNonShadowBlock: () => (/* binding */ getNonShadowBlock),\n/* harmony export */   scrollBoundsIntoView: () => (/* binding */ scrollBoundsIntoView)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Walks up the block tree from a shadow block to find the parent non-shadow block.\n * Shadow blocks should never be moved independently.\n *\n * @param block The block to start from (may be a shadow block)\n * @returns The first non-shadow block ancestor, or null if none found\n */\nfunction getNonShadowBlock(block) {\n    if (!block)\n        return null;\n    while (block.isShadow()) {\n        const parent = block.getParent();\n        if (!parent) {\n            return null;\n        }\n        block = parent;\n    }\n    return block;\n}\n/**\n * Scrolls the provided bounds into view.\n *\n * In the case of small workspaces/large bounds, this function prioritizes\n * getting the top left corner of the bounds into view. It also adds some\n * padding around the bounds to allow the element to be comfortably in view.\n *\n * @param bounds A rectangle to scroll into view, as best as possible.\n * @param workspace The workspace to scroll the given bounds into view in.\n */\nfunction scrollBoundsIntoView(bounds, workspace) {\n    if (blockly_core__WEBPACK_IMPORTED_MODULE_0__.Gesture.inProgress()) {\n        // This can cause jumps during a drag and it only suited for keyboard nav.\n        return;\n    }\n    const scale = workspace.getScale();\n    const rawViewport = workspace.getMetricsManager().getViewMetrics(true);\n    const viewport = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Rect(rawViewport.top, rawViewport.top + rawViewport.height, rawViewport.left, rawViewport.left + rawViewport.width);\n    if (bounds.left >= viewport.left &&\n        bounds.top >= viewport.top &&\n        bounds.right <= viewport.right &&\n        bounds.bottom <= viewport.bottom) {\n        // Do nothing if the block is fully inside the viewport.\n        return;\n    }\n    // Add some padding to the bounds so the element is scrolled comfortably\n    // into view.\n    bounds = bounds.clone();\n    bounds.top -= 10;\n    bounds.bottom += 10;\n    bounds.left -= 10;\n    bounds.right += 10;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (bounds.left < viewport.left) {\n        deltaX = viewport.left - bounds.left;\n    }\n    else if (bounds.right > viewport.right) {\n        deltaX = viewport.right - bounds.right;\n    }\n    if (bounds.top < viewport.top) {\n        deltaY = viewport.top - bounds.top;\n    }\n    else if (bounds.bottom > viewport.bottom) {\n        deltaY = viewport.bottom - bounds.bottom;\n    }\n    deltaX *= scale;\n    deltaY *= scale;\n    workspace.scroll(workspace.scrollX + deltaX, workspace.scrollY + deltaY);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksS0FBSyxDQUFDO0lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUM7SUFDaEIsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLE1BQU0sRUFBRSxTQUFTLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0FBQzNFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL3dvcmtzcGFjZV91dGlsaXRpZXMudHM/OTQzZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuLyoqXG4gKiBXYWxrcyB1cCB0aGUgYmxvY2sgdHJlZSBmcm9tIGEgc2hhZG93IGJsb2NrIHRvIGZpbmQgdGhlIHBhcmVudCBub24tc2hhZG93IGJsb2NrLlxuICogU2hhZG93IGJsb2NrcyBzaG91bGQgbmV2ZXIgYmUgbW92ZWQgaW5kZXBlbmRlbnRseS5cbiAqXG4gKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIHN0YXJ0IGZyb20gKG1heSBiZSBhIHNoYWRvdyBibG9jaylcbiAqIEByZXR1cm5zIFRoZSBmaXJzdCBub24tc2hhZG93IGJsb2NrIGFuY2VzdG9yLCBvciBudWxsIGlmIG5vbmUgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vblNoYWRvd0Jsb2NrKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnIHwgbnVsbCk6IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsIHtcbiAgaWYgKCFibG9jaykgcmV0dXJuIG51bGw7XG5cbiAgd2hpbGUgKGJsb2NrLmlzU2hhZG93KCkpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBibG9jay5nZXRQYXJlbnQoKTtcbiAgICBpZiAoIXBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGJsb2NrID0gcGFyZW50O1xuICB9XG5cbiAgcmV0dXJuIGJsb2NrO1xufVxuXG4vKipcbiAqIFNjcm9sbHMgdGhlIHByb3ZpZGVkIGJvdW5kcyBpbnRvIHZpZXcuXG4gKlxuICogSW4gdGhlIGNhc2Ugb2Ygc21hbGwgd29ya3NwYWNlcy9sYXJnZSBib3VuZHMsIHRoaXMgZnVuY3Rpb24gcHJpb3JpdGl6ZXNcbiAqIGdldHRpbmcgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgYm91bmRzIGludG8gdmlldy4gSXQgYWxzbyBhZGRzIHNvbWVcbiAqIHBhZGRpbmcgYXJvdW5kIHRoZSBib3VuZHMgdG8gYWxsb3cgdGhlIGVsZW1lbnQgdG8gYmUgY29tZm9ydGFibHkgaW4gdmlldy5cbiAqXG4gKiBAcGFyYW0gYm91bmRzIEEgcmVjdGFuZ2xlIHRvIHNjcm9sbCBpbnRvIHZpZXcsIGFzIGJlc3QgYXMgcG9zc2libGUuXG4gKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gc2Nyb2xsIHRoZSBnaXZlbiBib3VuZHMgaW50byB2aWV3IGluLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsQm91bmRzSW50b1ZpZXcoXG4gIGJvdW5kczogQmxvY2tseS51dGlscy5SZWN0LFxuICB3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnLFxuKSB7XG4gIGlmIChCbG9ja2x5Lkdlc3R1cmUuaW5Qcm9ncmVzcygpKSB7XG4gICAgLy8gVGhpcyBjYW4gY2F1c2UganVtcHMgZHVyaW5nIGEgZHJhZyBhbmQgaXQgb25seSBzdWl0ZWQgZm9yIGtleWJvYXJkIG5hdi5cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2NhbGUgPSB3b3Jrc3BhY2UuZ2V0U2NhbGUoKTtcblxuICBjb25zdCByYXdWaWV3cG9ydCA9IHdvcmtzcGFjZS5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFZpZXdNZXRyaWNzKHRydWUpO1xuICBjb25zdCB2aWV3cG9ydCA9IG5ldyBCbG9ja2x5LnV0aWxzLlJlY3QoXG4gICAgcmF3Vmlld3BvcnQudG9wLFxuICAgIHJhd1ZpZXdwb3J0LnRvcCArIHJhd1ZpZXdwb3J0LmhlaWdodCxcbiAgICByYXdWaWV3cG9ydC5sZWZ0LFxuICAgIHJhd1ZpZXdwb3J0LmxlZnQgKyByYXdWaWV3cG9ydC53aWR0aCxcbiAgKTtcblxuICBpZiAoXG4gICAgYm91bmRzLmxlZnQgPj0gdmlld3BvcnQubGVmdCAmJlxuICAgIGJvdW5kcy50b3AgPj0gdmlld3BvcnQudG9wICYmXG4gICAgYm91bmRzLnJpZ2h0IDw9IHZpZXdwb3J0LnJpZ2h0ICYmXG4gICAgYm91bmRzLmJvdHRvbSA8PSB2aWV3cG9ydC5ib3R0b21cbiAgKSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiB0aGUgYmxvY2sgaXMgZnVsbHkgaW5zaWRlIHRoZSB2aWV3cG9ydC5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBBZGQgc29tZSBwYWRkaW5nIHRvIHRoZSBib3VuZHMgc28gdGhlIGVsZW1lbnQgaXMgc2Nyb2xsZWQgY29tZm9ydGFibHlcbiAgLy8gaW50byB2aWV3LlxuICBib3VuZHMgPSBib3VuZHMuY2xvbmUoKTtcbiAgYm91bmRzLnRvcCAtPSAxMDtcbiAgYm91bmRzLmJvdHRvbSArPSAxMDtcbiAgYm91bmRzLmxlZnQgLT0gMTA7XG4gIGJvdW5kcy5yaWdodCArPSAxMDtcblxuICBsZXQgZGVsdGFYID0gMDtcbiAgbGV0IGRlbHRhWSA9IDA7XG5cbiAgaWYgKGJvdW5kcy5sZWZ0IDwgdmlld3BvcnQubGVmdCkge1xuICAgIGRlbHRhWCA9IHZpZXdwb3J0LmxlZnQgLSBib3VuZHMubGVmdDtcbiAgfSBlbHNlIGlmIChib3VuZHMucmlnaHQgPiB2aWV3cG9ydC5yaWdodCkge1xuICAgIGRlbHRhWCA9IHZpZXdwb3J0LnJpZ2h0IC0gYm91bmRzLnJpZ2h0O1xuICB9XG5cbiAgaWYgKGJvdW5kcy50b3AgPCB2aWV3cG9ydC50b3ApIHtcbiAgICBkZWx0YVkgPSB2aWV3cG9ydC50b3AgLSBib3VuZHMudG9wO1xuICB9IGVsc2UgaWYgKGJvdW5kcy5ib3R0b20gPiB2aWV3cG9ydC5ib3R0b20pIHtcbiAgICBkZWx0YVkgPSB2aWV3cG9ydC5ib3R0b20gLSBib3VuZHMuYm90dG9tO1xuICB9XG5cbiAgZGVsdGFYICo9IHNjYWxlO1xuICBkZWx0YVkgKj0gc2NhbGU7XG4gIHdvcmtzcGFjZS5zY3JvbGwod29ya3NwYWNlLnNjcm9sbFggKyBkZWx0YVgsIHdvcmtzcGFjZS5zY3JvbGxZICsgZGVsdGFZKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../src/workspace_utilities.ts\n");

/***/ }),

/***/ "./blocks.ts":
/*!*******************!*\
  !*** ./blocks.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerMazeBlocks: () => (/* binding */ registerMazeBlocks)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var blockly_javascript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/javascript */ \"../../node_modules/blockly/javascript.mjs\");\n/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Blocks for Maze game.\n * Adapted from blockly-games for use with modern Blockly and keyboard navigation.\n */\n\n\n/**\n * Counterclockwise arrow to be appended to left turn option.\n */\nconst LEFT_TURN = ' ';\n/**\n * Clockwise arrow to be appended to right turn option.\n */\nconst RIGHT_TURN = ' ';\n/**\n * Straight arrow for move forward.\n */\nconst MOVE_FORWARD = ' ';\n/**\n * Common HSV hue for all movement blocks.\n */\nconst MOVEMENT_HUE = 290;\n/**\n * HSV hue for loop block.\n */\nconst LOOPS_HUE = 120;\n/**\n * Common HSV hue for all logic blocks.\n */\nconst LOGIC_HUE = 210;\n/**\n * Register maze blocks with Blockly.\n */\nfunction registerMazeBlocks() {\n    const TURN_DIRECTIONS = [\n        ['%{BKY_MAZE_TURN_LEFT}', 'turnLeft'],\n        ['%{BKY_MAZE_TURN_RIGHT}', 'turnRight'],\n    ];\n    const PATH_DIRECTIONS = [\n        ['%{BKY_MAZE_PATH_AHEAD}', 'isPathForward'],\n        ['%{BKY_MAZE_PATH_LEFT}', 'isPathLeft'],\n        ['%{BKY_MAZE_PATH_RIGHT}', 'isPathRight'],\n    ];\n    // Add arrows to turn options after prefix/suffix have been separated.\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.Extensions.register('maze_turn_arrows', function () {\n        const field = this.getField('DIR');\n        const options = field.getOptions();\n        if (options.length >= 2) {\n            // Modify the display text to add arrows\n            const newOptions = options.map((option, index) => {\n                if (index === options.length - 2) {\n                    return [option[0] + LEFT_TURN, option[1]];\n                }\n                else if (index === options.length - 1) {\n                    return [option[0] + RIGHT_TURN, option[1]];\n                }\n                return option;\n            });\n            // Update the options using public API\n            field.menuGenerator_ = newOptions;\n        }\n    });\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.defineBlocksWithJsonArray([\n        // Block for moving forward.\n        {\n            type: 'maze_moveForward',\n            message0: '%{BKY_MAZE_MOVE_FORWARD}',\n            previousStatement: null,\n            nextStatement: null,\n            colour: MOVEMENT_HUE,\n            tooltip: '%{BKY_MAZE_MOVE_FORWARD_TOOLTIP}',\n        },\n        // Block for turning left or right.\n        {\n            type: 'maze_turn',\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DIR',\n                    options: TURN_DIRECTIONS,\n                },\n            ],\n            previousStatement: null,\n            nextStatement: null,\n            colour: MOVEMENT_HUE,\n            tooltip: '%{BKY_MAZE_TURN_TOOLTIP}',\n            extensions: ['maze_turn_arrows'],\n        },\n        // Block for conditional \"if there is a path\".\n        {\n            type: 'maze_if',\n            message0: '%1%2%{BKY_MAZE_DO} %3',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DIR',\n                    options: PATH_DIRECTIONS,\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            previousStatement: null,\n            nextStatement: null,\n            colour: LOGIC_HUE,\n            tooltip: '%{BKY_MAZE_IF_TOOLTIP}',\n            extensions: ['maze_turn_arrows'],\n        },\n        // Block for conditional \"if there is a path, else\".\n        {\n            type: 'maze_ifElse',\n            message0: '%1%2%{BKY_MAZE_DO} %3%{BKY_MAZE_ELSE} %4',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DIR',\n                    options: PATH_DIRECTIONS,\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'ELSE',\n                },\n            ],\n            previousStatement: null,\n            nextStatement: null,\n            colour: LOGIC_HUE,\n            tooltip: '%{BKY_MAZE_IFELSE_TOOLTIP}',\n            extensions: ['maze_turn_arrows'],\n        },\n        // Block for repeat loop.\n        {\n            type: 'maze_forever',\n            message0: '%{BKY_MAZE_REPEAT_UNTIL} %1%2%{BKY_MAZE_DO} %3',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAABGUlEQVQoU2NkwAIYGRn/MzAwMKCrZ2Fh+c/CwvIfXQ0DA8N/FhYWBlRNLCz//zMwMPxnYWH5jyoGVMMIVMPAwPCfhYXlP5oaFpaW/ywsLAyMjIwMDAwM/1lYWP6jqUHRwMDwn5mZmYGBgeE/MzMzA7oaRkZGBgYGhv8sLCz/0dQwMDAwMDMzMzAwMDBgqGFhYWFgZGRkYGBg+I+uhoGB4T8LCwsDAwMDg=',\n                    width: 12,\n                    height: 16,\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            previousStatement: null,\n            colour: LOOPS_HUE,\n            tooltip: '%{BKY_MAZE_WHILE_TOOLTIP}',\n        },\n    ]);\n    // JavaScript code generators\n    // DON'T use await - just call the functions directly\n    // They will queue the animations internally\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_moveForward'] = function (block) {\n        return `moveForward('block_id_${block.id}'); //${MOVE_FORWARD}\\n`;\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_turn'] = function (block) {\n        const dir = block.getFieldValue('DIR');\n        if (dir === 'turnLeft') {\n            return `turnLeft('block_id_${block.id}');    //${LEFT_TURN}\\n`;\n        }\n        else {\n            return `turnRight('block_id_${block.id}');   //${RIGHT_TURN}\\n`;\n        }\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_if'] = function (block) {\n        const argument = `${block.getFieldValue('DIR')}('block_id_${block.id}')`;\n        const branch = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'DO');\n        return `if (${argument}) {\\n${branch}}\\n`;\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_ifElse'] = function (block) {\n        const argument = `${block.getFieldValue('DIR')}('block_id_${block.id}')`;\n        const branch0 = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'DO');\n        const branch1 = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'ELSE');\n        return `if (${argument}) {\\n${branch0}} else {\\n${branch1}}\\n`;\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_forever'] = function (block) {\n        const branch = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'DO');\n        if (branch) {\n            return 'while (notDone()) {\\n' + branch + '}\\n';\n        }\n        else {\n            return 'while (notDone()) {}\\n';\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7UUFDaEUsT0FBTyxPQUFPLFFBQVEsUUFBUSxNQUFNLEtBQUssQ0FBQztJQUM1QyxDQUFDLENBQUM7SUFFRixtRUFBbUIsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsVUFBVSxLQUFLO1FBQzNELE1BQU0sUUFBUSxHQUFHLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsY0FBYyxLQUFLLENBQUMsRUFBRSxJQUFJLENBQUM7UUFDekUsTUFBTSxPQUFPLEdBQUcsbUVBQW1CLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRSxNQUFNLE9BQU8sR0FBRyxtRUFBbUIsQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ25FLE9BQU8sT0FBTyxRQUFRLFFBQVEsT0FBTyxhQUFhLE9BQU8sS0FBSyxDQUFDO0lBQ2pFLENBQUMsQ0FBQztJQUVGLG1FQUFtQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxVQUFVLEtBQUs7UUFDNUQsTUFBTSxNQUFNLEdBQUcsbUVBQW1CLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsT0FBTyx1QkFBdUIsR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2xELENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyx3QkFBd0IsQ0FBQztRQUNsQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Jsb2Nrcy50cz80OGJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDEyIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEJsb2NrcyBmb3IgTWF6ZSBnYW1lLlxuICogQWRhcHRlZCBmcm9tIGJsb2NrbHktZ2FtZXMgZm9yIHVzZSB3aXRoIG1vZGVybiBCbG9ja2x5IGFuZCBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7amF2YXNjcmlwdEdlbmVyYXRvciwgT3JkZXJ9IGZyb20gJ2Jsb2NrbHkvamF2YXNjcmlwdCc7XG5cbi8qKlxuICogQ291bnRlcmNsb2Nrd2lzZSBhcnJvdyB0byBiZSBhcHBlbmRlZCB0byBsZWZ0IHR1cm4gb3B0aW9uLlxuICovXG5jb25zdCBMRUZUX1RVUk4gPSAnIOKGuic7XG5cbi8qKlxuICogQ2xvY2t3aXNlIGFycm93IHRvIGJlIGFwcGVuZGVkIHRvIHJpZ2h0IHR1cm4gb3B0aW9uLlxuICovXG5jb25zdCBSSUdIVF9UVVJOID0gJyDihrsnO1xuXG4vKipcbiAqIFN0cmFpZ2h0IGFycm93IGZvciBtb3ZlIGZvcndhcmQuXG4gKi9cbmNvbnN0IE1PVkVfRk9SV0FSRCA9ICcg4oaRJztcblxuLyoqXG4gKiBDb21tb24gSFNWIGh1ZSBmb3IgYWxsIG1vdmVtZW50IGJsb2Nrcy5cbiAqL1xuY29uc3QgTU9WRU1FTlRfSFVFID0gMjkwO1xuXG4vKipcbiAqIEhTViBodWUgZm9yIGxvb3AgYmxvY2suXG4gKi9cbmNvbnN0IExPT1BTX0hVRSA9IDEyMDtcblxuLyoqXG4gKiBDb21tb24gSFNWIGh1ZSBmb3IgYWxsIGxvZ2ljIGJsb2Nrcy5cbiAqL1xuY29uc3QgTE9HSUNfSFVFID0gMjEwO1xuXG4vKipcbiAqIFJlZ2lzdGVyIG1hemUgYmxvY2tzIHdpdGggQmxvY2tseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyTWF6ZUJsb2NrcygpIHtcbiAgY29uc3QgVFVSTl9ESVJFQ1RJT05TOiBCbG9ja2x5Lk1lbnVPcHRpb25bXSA9IFtcbiAgICBbJyV7QktZX01BWkVfVFVSTl9MRUZUfScsICd0dXJuTGVmdCddLFxuICAgIFsnJXtCS1lfTUFaRV9UVVJOX1JJR0hUfScsICd0dXJuUmlnaHQnXSxcbiAgXTtcblxuICBjb25zdCBQQVRIX0RJUkVDVElPTlM6IEJsb2NrbHkuTWVudU9wdGlvbltdID0gW1xuICAgIFsnJXtCS1lfTUFaRV9QQVRIX0FIRUFEfScsICdpc1BhdGhGb3J3YXJkJ10sXG4gICAgWycle0JLWV9NQVpFX1BBVEhfTEVGVH0nLCAnaXNQYXRoTGVmdCddLFxuICAgIFsnJXtCS1lfTUFaRV9QQVRIX1JJR0hUfScsICdpc1BhdGhSaWdodCddLFxuICBdO1xuXG4gIC8vIEFkZCBhcnJvd3MgdG8gdHVybiBvcHRpb25zIGFmdGVyIHByZWZpeC9zdWZmaXggaGF2ZSBiZWVuIHNlcGFyYXRlZC5cbiAgQmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyKCdtYXplX3R1cm5fYXJyb3dzJywgZnVuY3Rpb24gKHRoaXM6IEJsb2NrbHkuQmxvY2spIHtcbiAgICBjb25zdCBmaWVsZCA9IHRoaXMuZ2V0RmllbGQoJ0RJUicpIGFzIEJsb2NrbHkuRmllbGREcm9wZG93bjtcbiAgICBjb25zdCBvcHRpb25zID0gZmllbGQuZ2V0T3B0aW9ucygpO1xuICAgIGlmIChvcHRpb25zLmxlbmd0aCA+PSAyKSB7XG4gICAgICAvLyBNb2RpZnkgdGhlIGRpc3BsYXkgdGV4dCB0byBhZGQgYXJyb3dzXG4gICAgICBjb25zdCBuZXdPcHRpb25zOiBCbG9ja2x5Lk1lbnVPcHRpb25bXSA9IG9wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gb3B0aW9ucy5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgcmV0dXJuIFtvcHRpb25bMF0gKyBMRUZUX1RVUk4sIG9wdGlvblsxXV07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IG9wdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHJldHVybiBbb3B0aW9uWzBdICsgUklHSFRfVFVSTiwgb3B0aW9uWzFdXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgfSk7XG4gICAgICAvLyBVcGRhdGUgdGhlIG9wdGlvbnMgdXNpbmcgcHVibGljIEFQSVxuICAgICAgKGZpZWxkIGFzIGFueSkubWVudUdlbmVyYXRvcl8gPSBuZXdPcHRpb25zO1xuICAgIH1cbiAgfSk7XG5cbiAgQmxvY2tseS5kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5KFtcbiAgICAvLyBCbG9jayBmb3IgbW92aW5nIGZvcndhcmQuXG4gICAge1xuICAgICAgdHlwZTogJ21hemVfbW92ZUZvcndhcmQnLFxuICAgICAgbWVzc2FnZTA6ICcle0JLWV9NQVpFX01PVkVfRk9SV0FSRH0nLFxuICAgICAgcHJldmlvdXNTdGF0ZW1lbnQ6IG51bGwsXG4gICAgICBuZXh0U3RhdGVtZW50OiBudWxsLFxuICAgICAgY29sb3VyOiBNT1ZFTUVOVF9IVUUsXG4gICAgICB0b29sdGlwOiAnJXtCS1lfTUFaRV9NT1ZFX0ZPUldBUkRfVE9PTFRJUH0nLFxuICAgIH0sXG5cbiAgICAvLyBCbG9jayBmb3IgdHVybmluZyBsZWZ0IG9yIHJpZ2h0LlxuICAgIHtcbiAgICAgIHR5cGU6ICdtYXplX3R1cm4nLFxuICAgICAgbWVzc2FnZTA6ICclMScsXG4gICAgICBhcmdzMDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2ZpZWxkX2Ryb3Bkb3duJyxcbiAgICAgICAgICBuYW1lOiAnRElSJyxcbiAgICAgICAgICBvcHRpb25zOiBUVVJOX0RJUkVDVElPTlMsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcHJldmlvdXNTdGF0ZW1lbnQ6IG51bGwsXG4gICAgICBuZXh0U3RhdGVtZW50OiBudWxsLFxuICAgICAgY29sb3VyOiBNT1ZFTUVOVF9IVUUsXG4gICAgICB0b29sdGlwOiAnJXtCS1lfTUFaRV9UVVJOX1RPT0xUSVB9JyxcbiAgICAgIGV4dGVuc2lvbnM6IFsnbWF6ZV90dXJuX2Fycm93cyddLFxuICAgIH0sXG5cbiAgICAvLyBCbG9jayBmb3IgY29uZGl0aW9uYWwgXCJpZiB0aGVyZSBpcyBhIHBhdGhcIi5cbiAgICB7XG4gICAgICB0eXBlOiAnbWF6ZV9pZicsXG4gICAgICBtZXNzYWdlMDogJyUxJTIle0JLWV9NQVpFX0RPfSAlMycsXG4gICAgICBhcmdzMDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2ZpZWxkX2Ryb3Bkb3duJyxcbiAgICAgICAgICBuYW1lOiAnRElSJyxcbiAgICAgICAgICBvcHRpb25zOiBQQVRIX0RJUkVDVElPTlMsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnaW5wdXRfZHVtbXknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2lucHV0X3N0YXRlbWVudCcsXG4gICAgICAgICAgbmFtZTogJ0RPJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBwcmV2aW91c1N0YXRlbWVudDogbnVsbCxcbiAgICAgIG5leHRTdGF0ZW1lbnQ6IG51bGwsXG4gICAgICBjb2xvdXI6IExPR0lDX0hVRSxcbiAgICAgIHRvb2x0aXA6ICcle0JLWV9NQVpFX0lGX1RPT0xUSVB9JyxcbiAgICAgIGV4dGVuc2lvbnM6IFsnbWF6ZV90dXJuX2Fycm93cyddLFxuICAgIH0sXG5cbiAgICAvLyBCbG9jayBmb3IgY29uZGl0aW9uYWwgXCJpZiB0aGVyZSBpcyBhIHBhdGgsIGVsc2VcIi5cbiAgICB7XG4gICAgICB0eXBlOiAnbWF6ZV9pZkVsc2UnLFxuICAgICAgbWVzc2FnZTA6ICclMSUyJXtCS1lfTUFaRV9ET30gJTMle0JLWV9NQVpFX0VMU0V9ICU0JyxcbiAgICAgIGFyZ3MwOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZmllbGRfZHJvcGRvd24nLFxuICAgICAgICAgIG5hbWU6ICdESVInLFxuICAgICAgICAgIG9wdGlvbnM6IFBBVEhfRElSRUNUSU9OUyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdpbnB1dF9kdW1teScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnaW5wdXRfc3RhdGVtZW50JyxcbiAgICAgICAgICBuYW1lOiAnRE8nLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2lucHV0X3N0YXRlbWVudCcsXG4gICAgICAgICAgbmFtZTogJ0VMU0UnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIHByZXZpb3VzU3RhdGVtZW50OiBudWxsLFxuICAgICAgbmV4dFN0YXRlbWVudDogbnVsbCxcbiAgICAgIGNvbG91cjogTE9HSUNfSFVFLFxuICAgICAgdG9vbHRpcDogJyV7QktZX01BWkVfSUZFTFNFX1RPT0xUSVB9JyxcbiAgICAgIGV4dGVuc2lvbnM6IFsnbWF6ZV90dXJuX2Fycm93cyddLFxuICAgIH0sXG5cbiAgICAvLyBCbG9jayBmb3IgcmVwZWF0IGxvb3AuXG4gICAge1xuICAgICAgdHlwZTogJ21hemVfZm9yZXZlcicsXG4gICAgICBtZXNzYWdlMDogJyV7QktZX01BWkVfUkVQRUFUX1VOVElMfSAlMSUyJXtCS1lfTUFaRV9ET30gJTMnLFxuICAgICAgYXJnczA6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdmaWVsZF9pbWFnZScsXG4gICAgICAgICAgc3JjOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFRQ0FZQUFBQWlZWjRIQUFBQkdVbEVRVlFvVTJOa3dBSVlHUm4vTXpBd01LQ3JaMkZoK2MvQ3d2SWZYUTBEQThOL0ZoWVdCbFJOTEN6Ly96TXdNUHhuWVdINWp5b0dWTU1JVk1QQXdQQ2ZoWVhsUDVvYUZwYVcveXdzTEF5TWpJd01EQXdNLzFsWVdQNmpxVUhSd01Ed241bVptWUdCZ2VFL016TXpBN29hUmtaR0JnWUdodjhzTEN6LzBkUXdNREF3TURNek16QXdNREJncUdGaFlXRmdaR1JrWUdCZytJK3Vob0dCNFQ4TEN3c0RBd01EZz0nLFxuICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2lucHV0X2R1bW15JyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdpbnB1dF9zdGF0ZW1lbnQnLFxuICAgICAgICAgIG5hbWU6ICdETycsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcHJldmlvdXNTdGF0ZW1lbnQ6IG51bGwsXG4gICAgICBjb2xvdXI6IExPT1BTX0hVRSxcbiAgICAgIHRvb2x0aXA6ICcle0JLWV9NQVpFX1dISUxFX1RPT0xUSVB9JyxcbiAgICB9LFxuICBdKTtcblxuICAvLyBKYXZhU2NyaXB0IGNvZGUgZ2VuZXJhdG9yc1xuICAvLyBET04nVCB1c2UgYXdhaXQgLSBqdXN0IGNhbGwgdGhlIGZ1bmN0aW9ucyBkaXJlY3RseVxuICAvLyBUaGV5IHdpbGwgcXVldWUgdGhlIGFuaW1hdGlvbnMgaW50ZXJuYWxseVxuICBqYXZhc2NyaXB0R2VuZXJhdG9yLmZvckJsb2NrWydtYXplX21vdmVGb3J3YXJkJ10gPSBmdW5jdGlvbiAoYmxvY2spIHtcbiAgICByZXR1cm4gYG1vdmVGb3J3YXJkKCdibG9ja19pZF8ke2Jsb2NrLmlkfScpOyAvLyR7TU9WRV9GT1JXQVJEfVxcbmA7XG4gIH07XG5cbiAgamF2YXNjcmlwdEdlbmVyYXRvci5mb3JCbG9ja1snbWF6ZV90dXJuJ10gPSBmdW5jdGlvbiAoYmxvY2spIHtcbiAgICBjb25zdCBkaXIgPSBibG9jay5nZXRGaWVsZFZhbHVlKCdESVInKTtcbiAgICBpZiAoZGlyID09PSAndHVybkxlZnQnKSB7XG4gICAgICByZXR1cm4gYHR1cm5MZWZ0KCdibG9ja19pZF8ke2Jsb2NrLmlkfScpOyAgICAvLyR7TEVGVF9UVVJOfVxcbmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgdHVyblJpZ2h0KCdibG9ja19pZF8ke2Jsb2NrLmlkfScpOyAgIC8vJHtSSUdIVF9UVVJOfVxcbmA7XG4gICAgfVxuICB9O1xuXG4gIGphdmFzY3JpcHRHZW5lcmF0b3IuZm9yQmxvY2tbJ21hemVfaWYnXSA9IGZ1bmN0aW9uIChibG9jaykge1xuICAgIGNvbnN0IGFyZ3VtZW50ID0gYCR7YmxvY2suZ2V0RmllbGRWYWx1ZSgnRElSJyl9KCdibG9ja19pZF8ke2Jsb2NrLmlkfScpYDtcbiAgICBjb25zdCBicmFuY2ggPSBqYXZhc2NyaXB0R2VuZXJhdG9yLnN0YXRlbWVudFRvQ29kZShibG9jaywgJ0RPJyk7XG4gICAgcmV0dXJuIGBpZiAoJHthcmd1bWVudH0pIHtcXG4ke2JyYW5jaH19XFxuYDtcbiAgfTtcblxuICBqYXZhc2NyaXB0R2VuZXJhdG9yLmZvckJsb2NrWydtYXplX2lmRWxzZSddID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgY29uc3QgYXJndW1lbnQgPSBgJHtibG9jay5nZXRGaWVsZFZhbHVlKCdESVInKX0oJ2Jsb2NrX2lkXyR7YmxvY2suaWR9JylgO1xuICAgIGNvbnN0IGJyYW5jaDAgPSBqYXZhc2NyaXB0R2VuZXJhdG9yLnN0YXRlbWVudFRvQ29kZShibG9jaywgJ0RPJyk7XG4gICAgY29uc3QgYnJhbmNoMSA9IGphdmFzY3JpcHRHZW5lcmF0b3Iuc3RhdGVtZW50VG9Db2RlKGJsb2NrLCAnRUxTRScpO1xuICAgIHJldHVybiBgaWYgKCR7YXJndW1lbnR9KSB7XFxuJHticmFuY2gwfX0gZWxzZSB7XFxuJHticmFuY2gxfX1cXG5gO1xuICB9O1xuXG4gIGphdmFzY3JpcHRHZW5lcmF0b3IuZm9yQmxvY2tbJ21hemVfZm9yZXZlciddID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgY29uc3QgYnJhbmNoID0gamF2YXNjcmlwdEdlbmVyYXRvci5zdGF0ZW1lbnRUb0NvZGUoYmxvY2ssICdETycpO1xuICAgIGlmIChicmFuY2gpIHtcbiAgICAgIHJldHVybiAnd2hpbGUgKG5vdERvbmUoKSkge1xcbicgKyBicmFuY2ggKyAnfVxcbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnd2hpbGUgKG5vdERvbmUoKSkge31cXG4nO1xuICAgIH1cbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./blocks.ts\n");

/***/ }),

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/* harmony import */ var blockly_javascript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/javascript */ \"../../node_modules/blockly/javascript.mjs\");\n/* harmony import */ var _src_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/index */ \"../../src/index.ts\");\n/* harmony import */ var _src_flyout_cursor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/flyout_cursor */ \"../../src/flyout_cursor.ts\");\n/* harmony import */ var _src_navigation_deferring_toolbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/navigation_deferring_toolbox */ \"../../src/navigation_deferring_toolbox.ts\");\n/* harmony import */ var _blocks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blocks */ \"./blocks.ts\");\n/* harmony import */ var _maze__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./maze */ \"./maze.ts\");\n/* harmony import */ var _messages__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./messages */ \"./messages.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _a, _b, _c, _d;\n/**\n * @fileoverview Maze game with keyboard navigation support.\n * Simple maze game adapted from blockly-games.\n */\n\n\n\n\n\n\n\n\n// Initialize locale (browser detection or saved preference)\nlet currentLocale = localStorage.getItem('mazeGameLocale') || (0,_messages__WEBPACK_IMPORTED_MODULE_7__.getBrowserLocale)();\n// Load internationalized messages\n(0,_messages__WEBPACK_IMPORTED_MODULE_7__.loadMessages)(currentLocale);\n// Register maze-specific blocks\n(0,_blocks__WEBPACK_IMPORTED_MODULE_5__.registerMazeBlocks)();\n// CRITICAL: Register keyboard navigation components BEFORE Blockly injection\n_src_index__WEBPACK_IMPORTED_MODULE_2__.KeyboardNavigation.registerKeyboardNavigationStyles();\n(0,_src_flyout_cursor__WEBPACK_IMPORTED_MODULE_3__.registerFlyoutCursor)();\n(0,_src_navigation_deferring_toolbox__WEBPACK_IMPORTED_MODULE_4__.registerNavigationDeferringToolbox)();\n// Toolbox configuration\nconst toolbox = {\n    kind: 'flyoutToolbox',\n    contents: [\n        {\n            kind: 'block',\n            type: 'maze_moveForward',\n        },\n        {\n            kind: 'block',\n            type: 'maze_turn',\n        },\n        {\n            kind: 'block',\n            type: 'maze_if',\n        },\n        {\n            kind: 'block',\n            type: 'maze_ifElse',\n        },\n        {\n            kind: 'block',\n            type: 'maze_forever',\n        },\n    ],\n};\n// Initialize Blockly workspace\nconst workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.inject('blocklyDiv', {\n    toolbox: toolbox,\n    trashcan: true,\n    zoom: {\n        controls: true,\n        wheel: true,\n        startScale: 1.0,\n        maxScale: 3,\n        minScale: 0.3,\n        scaleSpeed: 1.2,\n    },\n    move: {\n        scrollbars: true,\n        drag: true,\n        wheel: true,\n    },\n});\n// Initialize keyboard navigation plugin\nconst keyboardNavigation = new _src_index__WEBPACK_IMPORTED_MODULE_2__.KeyboardNavigation(workspace, {\n    highlightConnections: true,\n});\n// Initialize maze game (load saved skin or default to 0)\nconst savedSkin = parseInt(localStorage.getItem('mazeGameSkin') || '0', 10);\nconst mazeGame = new _maze__WEBPACK_IMPORTED_MODULE_6__.MazeGame('mazeCanvas', 1, savedSkin);\n// Level titles for each level\nconst levelTitles = [\n    'Straight Path',\n    'Single Turn',\n    'Multiple Turns',\n    'S-Curve',\n    'T-Junction',\n    'Zigzag Path',\n    'Decision Points',\n    'Complex Maze',\n];\n// Update level display\nfunction updateLevelDisplay() {\n    const currentLevel = mazeGame.getLevel();\n    const maxLevel = _maze__WEBPACK_IMPORTED_MODULE_6__.MazeGame.getMaxLevel();\n    const levelTitle = document.getElementById('levelTitle');\n    const levelDisplay = document.getElementById('levelDisplay');\n    const prevButton = document.getElementById('prevLevel');\n    const nextButton = document.getElementById('nextLevel');\n    if (levelTitle) {\n        levelTitle.textContent = `Level ${currentLevel}: ${levelTitles[currentLevel - 1]}`;\n    }\n    if (levelDisplay) {\n        levelDisplay.textContent = `Level ${currentLevel} of ${maxLevel}`;\n    }\n    if (prevButton) {\n        prevButton.disabled = currentLevel <= 1;\n    }\n    if (nextButton) {\n        nextButton.disabled = currentLevel >= maxLevel;\n    }\n}\n// Previous level button handler\n(_a = document.getElementById('prevLevel')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', () => {\n    const currentLevel = mazeGame.getLevel();\n    if (currentLevel > 1) {\n        mazeGame.setLevel(currentLevel - 1);\n        updateLevelDisplay();\n    }\n});\n// Next level button handler\n(_b = document.getElementById('nextLevel')) === null || _b === void 0 ? void 0 : _b.addEventListener('click', () => {\n    const currentLevel = mazeGame.getLevel();\n    const maxLevel = _maze__WEBPACK_IMPORTED_MODULE_6__.MazeGame.getMaxLevel();\n    if (currentLevel < maxLevel) {\n        mazeGame.setLevel(currentLevel + 1);\n        updateLevelDisplay();\n    }\n});\n// Character selector handler\nconst characterSelect = document.getElementById('characterSelect');\nif (characterSelect) {\n    // Set the current character in the dropdown\n    characterSelect.value = savedSkin.toString();\n    characterSelect.addEventListener('change', () => {\n        const skinId = parseInt(characterSelect.value, 10);\n        mazeGame.setSkin(skinId);\n        // Save preference\n        localStorage.setItem('mazeGameSkin', skinId.toString());\n    });\n}\n// Run button handler\n(_c = document.getElementById('runButton')) === null || _c === void 0 ? void 0 : _c.addEventListener('click', () => {\n    const code = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.workspaceToCode(workspace);\n    mazeGame.execute(code);\n});\n// Reset button handler\n(_d = document.getElementById('resetButton')) === null || _d === void 0 ? void 0 : _d.addEventListener('click', () => {\n    mazeGame.reset();\n});\n// Initial level display update\nupdateLevelDisplay();\n// Language selector handler\nconst languageSelect = document.getElementById('languageSelect');\nif (languageSelect) {\n    // Set the current language in the dropdown\n    languageSelect.value = currentLocale;\n    languageSelect.addEventListener('change', () => {\n        const newLocale = languageSelect.value;\n        // Save preference\n        localStorage.setItem('mazeGameLocale', newLocale);\n        // Reload the page to apply new language\n        // (This is the simplest approach - Blockly blocks need to be re-registered with new messages)\n        window.location.reload();\n    });\n}\nconsole.log(`Maze game initialized with keyboard navigation support (locale: ${currentLocale})`);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7OztHQUlHOztBQUVIOzs7R0FHRztBQUVxQztBQUNlO0FBQ0o7QUFDVTtBQUM2QjtBQUM5QztBQUNaO0FBQ2dEO0FBRWhGLDREQUE0RDtBQUM1RCxJQUFJLGFBQWEsR0FDZCxZQUFZLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFxQixJQUFJLDJEQUFnQixFQUFFLENBQUM7QUFFcEYsa0NBQWtDO0FBQ2xDLHVEQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7QUFFNUIsZ0NBQWdDO0FBQ2hDLDJEQUFrQixFQUFFLENBQUM7QUFFckIsNkVBQTZFO0FBQzdFLDBEQUFrQixDQUFDLGdDQUFnQyxFQUFFLENBQUM7QUFDdEQsd0VBQW9CLEVBQUUsQ0FBQztBQUN2QixxR0FBa0MsRUFBRSxDQUFDO0FBRXJDLHdCQUF3QjtBQUN4QixNQUFNLE9BQU8sR0FBRztJQUNkLElBQUksRUFBRSxlQUFlO0lBQ3JCLFFBQVEsRUFBRTtRQUNSO1lBQ0UsSUFBSSxFQUFFLE9BQU87WUFDYixJQUFJLEVBQUUsa0JBQWtCO1NBQ3pCO1FBQ0Q7WUFDRSxJQUFJLEVBQUUsT0FBTztZQUNiLElBQUksRUFBRSxXQUFXO1NBQ2xCO1FBQ0Q7WUFDRSxJQUFJLEVBQUUsT0FBTztZQUNiLElBQUksRUFBRSxTQUFTO1NBQ2hCO1FBQ0Q7WUFDRSxJQUFJLEVBQUUsT0FBTztZQUNiLElBQUksRUFBRSxhQUFhO1NBQ3BCO1FBQ0Q7WUFDRSxJQUFJLEVBQUUsT0FBTztZQUNiLElBQUksRUFBRSxjQUFjO1NBQ3JCO0tBQ0Y7Q0FDRixDQUFDO0FBRUYsK0JBQStCO0FBQy9CLE1BQU0sU0FBUyxHQUFHLGdEQUFjLENBQUMsWUFBWSxFQUFFO0lBQzdDLE9BQU8sRUFBRSxPQUFPO0lBQ2hCLFFBQVEsRUFBRSxJQUFJO0lBQ2QsSUFBSSxFQUFFO1FBQ0osUUFBUSxFQUFFLElBQUk7UUFDZCxLQUFLLEVBQUUsSUFBSTtRQUNYLFVBQVUsRUFBRSxHQUFHO1FBQ2YsUUFBUSxFQUFFLENBQUM7UUFDWCxRQUFRLEVBQUUsR0FBRztRQUNiLFVBQVUsRUFBRSxHQUFHO0tBQ2hCO0lBQ0QsSUFBSSxFQUFFO1FBQ0osVUFBVSxFQUFFLElBQUk7UUFDaEIsSUFBSSxFQUFFLElBQUk7UUFDVixLQUFLLEVBQUUsSUFBSTtLQUNaO0NBQ0YsQ0FBQyxDQUFDO0FBRUgsd0NBQXdDO0FBQ3hDLE1BQU0sa0JBQWtCLEdBQUcsSUFBSSwwREFBa0IsQ0FBQyxTQUFTLEVBQUU7SUFDM0Qsb0JBQW9CLEVBQUUsSUFBSTtDQUMzQixDQUFDLENBQUM7QUFFSCx5REFBeUQ7QUFDekQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzVFLE1BQU0sUUFBUSxHQUFHLElBQUksMkNBQVEsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBRTFELDhCQUE4QjtBQUM5QixNQUFNLFdBQVcsR0FBRztJQUNsQixlQUFlO0lBQ2YsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixTQUFTO0lBQ1QsWUFBWTtJQUNaLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsY0FBYztDQUNmLENBQUM7QUFFRix1QkFBdUI7QUFDdkIsU0FBUyxrQkFBa0I7SUFDekIsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3pDLE1BQU0sUUFBUSxHQUFHLDJDQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFFeEMsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6RCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzdELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFzQixDQUFDO0lBQzdFLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFzQixDQUFDO0lBRTdFLElBQUksVUFBVSxFQUFFLENBQUM7UUFDZixVQUFVLENBQUMsV0FBVyxHQUFHLFNBQVMsWUFBWSxLQUFLLFdBQVcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNyRixDQUFDO0lBRUQsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNqQixZQUFZLENBQUMsV0FBVyxHQUFHLFNBQVMsWUFBWSxPQUFPLFFBQVEsRUFBRSxDQUFDO0lBQ3BFLENBQUM7SUFFRCxJQUFJLFVBQVUsRUFBRSxDQUFDO1FBQ2YsVUFBVSxDQUFDLFFBQVEsR0FBRyxZQUFZLElBQUksQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxJQUFJLFVBQVUsRUFBRSxDQUFDO1FBQ2YsVUFBVSxDQUFDLFFBQVEsR0FBRyxZQUFZLElBQUksUUFBUSxDQUFDO0lBQ2pELENBQUM7QUFDSCxDQUFDO0FBRUQsZ0NBQWdDO0FBQ2hDLGNBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLDBDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7SUFDbkUsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3pDLElBQUksWUFBWSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ3JCLFFBQVEsQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLGtCQUFrQixFQUFFLENBQUM7SUFDdkIsQ0FBQztBQUNILENBQUMsQ0FBQyxDQUFDO0FBRUgsNEJBQTRCO0FBQzVCLGNBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLDBDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7SUFDbkUsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3pDLE1BQU0sUUFBUSxHQUFHLDJDQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDeEMsSUFBSSxZQUFZLEdBQUcsUUFBUSxFQUFFLENBQUM7UUFDNUIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEMsa0JBQWtCLEVBQUUsQ0FBQztJQUN2QixDQUFDO0FBQ0gsQ0FBQyxDQUFDLENBQUM7QUFFSCw2QkFBNkI7QUFDN0IsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBc0IsQ0FBQztBQUN4RixJQUFJLGVBQWUsRUFBRSxDQUFDO0lBQ3BCLDRDQUE0QztJQUM1QyxlQUFlLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUU3QyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtRQUM5QyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNuRCxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pCLGtCQUFrQjtRQUNsQixZQUFZLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxxQkFBcUI7QUFDckIsY0FBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsMENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNuRSxNQUFNLElBQUksR0FBRyxtRUFBbUIsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUQsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUMsQ0FBQztBQUVILHVCQUF1QjtBQUN2QixjQUFRLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQywwQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO0lBQ3JFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNuQixDQUFDLENBQUMsQ0FBQztBQUVILCtCQUErQjtBQUMvQixrQkFBa0IsRUFBRSxDQUFDO0FBRXJCLDRCQUE0QjtBQUM1QixNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGdCQUFnQixDQUFzQixDQUFDO0FBQ3RGLElBQUksY0FBYyxFQUFFLENBQUM7SUFDbkIsMkNBQTJDO0lBQzNDLGNBQWMsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO0lBRXJDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO1FBQzdDLE1BQU0sU0FBUyxHQUFHLGNBQWMsQ0FBQyxLQUF3QixDQUFDO1FBRTFELGtCQUFrQjtRQUNsQixZQUFZLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRWxELHdDQUF3QztRQUN4Qyw4RkFBOEY7UUFDOUYsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMzQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLG1FQUFtRSxhQUFhLEdBQUcsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vaW5kZXgudHM/YTk1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBNYXplIGdhbWUgd2l0aCBrZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnQuXG4gKiBTaW1wbGUgbWF6ZSBnYW1lIGFkYXB0ZWQgZnJvbSBibG9ja2x5LWdhbWVzLlxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7amF2YXNjcmlwdEdlbmVyYXRvcn0gZnJvbSAnYmxvY2tseS9qYXZhc2NyaXB0JztcbmltcG9ydCB7S2V5Ym9hcmROYXZpZ2F0aW9ufSBmcm9tICcuLi8uLi9zcmMvaW5kZXgnO1xuaW1wb3J0IHtyZWdpc3RlckZseW91dEN1cnNvcn0gZnJvbSAnLi4vLi4vc3JjL2ZseW91dF9jdXJzb3InO1xuaW1wb3J0IHtyZWdpc3Rlck5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94fSBmcm9tICcuLi8uLi9zcmMvbmF2aWdhdGlvbl9kZWZlcnJpbmdfdG9vbGJveCc7XG5pbXBvcnQge3JlZ2lzdGVyTWF6ZUJsb2Nrc30gZnJvbSAnLi9ibG9ja3MnO1xuaW1wb3J0IHtNYXplR2FtZX0gZnJvbSAnLi9tYXplJztcbmltcG9ydCB7bG9hZE1lc3NhZ2VzLCBnZXRCcm93c2VyTG9jYWxlLCB0eXBlIFN1cHBvcnRlZExvY2FsZX0gZnJvbSAnLi9tZXNzYWdlcyc7XG5cbi8vIEluaXRpYWxpemUgbG9jYWxlIChicm93c2VyIGRldGVjdGlvbiBvciBzYXZlZCBwcmVmZXJlbmNlKVxubGV0IGN1cnJlbnRMb2NhbGU6IFN1cHBvcnRlZExvY2FsZSA9XG4gIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWF6ZUdhbWVMb2NhbGUnKSBhcyBTdXBwb3J0ZWRMb2NhbGUpIHx8IGdldEJyb3dzZXJMb2NhbGUoKTtcblxuLy8gTG9hZCBpbnRlcm5hdGlvbmFsaXplZCBtZXNzYWdlc1xubG9hZE1lc3NhZ2VzKGN1cnJlbnRMb2NhbGUpO1xuXG4vLyBSZWdpc3RlciBtYXplLXNwZWNpZmljIGJsb2Nrc1xucmVnaXN0ZXJNYXplQmxvY2tzKCk7XG5cbi8vIENSSVRJQ0FMOiBSZWdpc3RlciBrZXlib2FyZCBuYXZpZ2F0aW9uIGNvbXBvbmVudHMgQkVGT1JFIEJsb2NrbHkgaW5qZWN0aW9uXG5LZXlib2FyZE5hdmlnYXRpb24ucmVnaXN0ZXJLZXlib2FyZE5hdmlnYXRpb25TdHlsZXMoKTtcbnJlZ2lzdGVyRmx5b3V0Q3Vyc29yKCk7XG5yZWdpc3Rlck5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94KCk7XG5cbi8vIFRvb2xib3ggY29uZmlndXJhdGlvblxuY29uc3QgdG9vbGJveCA9IHtcbiAga2luZDogJ2ZseW91dFRvb2xib3gnLFxuICBjb250ZW50czogW1xuICAgIHtcbiAgICAgIGtpbmQ6ICdibG9jaycsXG4gICAgICB0eXBlOiAnbWF6ZV9tb3ZlRm9yd2FyZCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBraW5kOiAnYmxvY2snLFxuICAgICAgdHlwZTogJ21hemVfdHVybicsXG4gICAgfSxcbiAgICB7XG4gICAgICBraW5kOiAnYmxvY2snLFxuICAgICAgdHlwZTogJ21hemVfaWYnLFxuICAgIH0sXG4gICAge1xuICAgICAga2luZDogJ2Jsb2NrJyxcbiAgICAgIHR5cGU6ICdtYXplX2lmRWxzZScsXG4gICAgfSxcbiAgICB7XG4gICAgICBraW5kOiAnYmxvY2snLFxuICAgICAgdHlwZTogJ21hemVfZm9yZXZlcicsXG4gICAgfSxcbiAgXSxcbn07XG5cbi8vIEluaXRpYWxpemUgQmxvY2tseSB3b3Jrc3BhY2VcbmNvbnN0IHdvcmtzcGFjZSA9IEJsb2NrbHkuaW5qZWN0KCdibG9ja2x5RGl2Jywge1xuICB0b29sYm94OiB0b29sYm94LFxuICB0cmFzaGNhbjogdHJ1ZSxcbiAgem9vbToge1xuICAgIGNvbnRyb2xzOiB0cnVlLFxuICAgIHdoZWVsOiB0cnVlLFxuICAgIHN0YXJ0U2NhbGU6IDEuMCxcbiAgICBtYXhTY2FsZTogMyxcbiAgICBtaW5TY2FsZTogMC4zLFxuICAgIHNjYWxlU3BlZWQ6IDEuMixcbiAgfSxcbiAgbW92ZToge1xuICAgIHNjcm9sbGJhcnM6IHRydWUsXG4gICAgZHJhZzogdHJ1ZSxcbiAgICB3aGVlbDogdHJ1ZSxcbiAgfSxcbn0pO1xuXG4vLyBJbml0aWFsaXplIGtleWJvYXJkIG5hdmlnYXRpb24gcGx1Z2luXG5jb25zdCBrZXlib2FyZE5hdmlnYXRpb24gPSBuZXcgS2V5Ym9hcmROYXZpZ2F0aW9uKHdvcmtzcGFjZSwge1xuICBoaWdobGlnaHRDb25uZWN0aW9uczogdHJ1ZSxcbn0pO1xuXG4vLyBJbml0aWFsaXplIG1hemUgZ2FtZSAobG9hZCBzYXZlZCBza2luIG9yIGRlZmF1bHQgdG8gMClcbmNvbnN0IHNhdmVkU2tpbiA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtYXplR2FtZVNraW4nKSB8fCAnMCcsIDEwKTtcbmNvbnN0IG1hemVHYW1lID0gbmV3IE1hemVHYW1lKCdtYXplQ2FudmFzJywgMSwgc2F2ZWRTa2luKTtcblxuLy8gTGV2ZWwgdGl0bGVzIGZvciBlYWNoIGxldmVsXG5jb25zdCBsZXZlbFRpdGxlcyA9IFtcbiAgJ1N0cmFpZ2h0IFBhdGgnLFxuICAnU2luZ2xlIFR1cm4nLFxuICAnTXVsdGlwbGUgVHVybnMnLFxuICAnUy1DdXJ2ZScsXG4gICdULUp1bmN0aW9uJyxcbiAgJ1ppZ3phZyBQYXRoJyxcbiAgJ0RlY2lzaW9uIFBvaW50cycsXG4gICdDb21wbGV4IE1hemUnLFxuXTtcblxuLy8gVXBkYXRlIGxldmVsIGRpc3BsYXlcbmZ1bmN0aW9uIHVwZGF0ZUxldmVsRGlzcGxheSgpIHtcbiAgY29uc3QgY3VycmVudExldmVsID0gbWF6ZUdhbWUuZ2V0TGV2ZWwoKTtcbiAgY29uc3QgbWF4TGV2ZWwgPSBNYXplR2FtZS5nZXRNYXhMZXZlbCgpO1xuXG4gIGNvbnN0IGxldmVsVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWxUaXRsZScpO1xuICBjb25zdCBsZXZlbERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWxEaXNwbGF5Jyk7XG4gIGNvbnN0IHByZXZCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldkxldmVsJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dExldmVsJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgaWYgKGxldmVsVGl0bGUpIHtcbiAgICBsZXZlbFRpdGxlLnRleHRDb250ZW50ID0gYExldmVsICR7Y3VycmVudExldmVsfTogJHtsZXZlbFRpdGxlc1tjdXJyZW50TGV2ZWwgLSAxXX1gO1xuICB9XG5cbiAgaWYgKGxldmVsRGlzcGxheSkge1xuICAgIGxldmVsRGlzcGxheS50ZXh0Q29udGVudCA9IGBMZXZlbCAke2N1cnJlbnRMZXZlbH0gb2YgJHttYXhMZXZlbH1gO1xuICB9XG5cbiAgaWYgKHByZXZCdXR0b24pIHtcbiAgICBwcmV2QnV0dG9uLmRpc2FibGVkID0gY3VycmVudExldmVsIDw9IDE7XG4gIH1cblxuICBpZiAobmV4dEJ1dHRvbikge1xuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSBjdXJyZW50TGV2ZWwgPj0gbWF4TGV2ZWw7XG4gIH1cbn1cblxuLy8gUHJldmlvdXMgbGV2ZWwgYnV0dG9uIGhhbmRsZXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2TGV2ZWwnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRMZXZlbCA9IG1hemVHYW1lLmdldExldmVsKCk7XG4gIGlmIChjdXJyZW50TGV2ZWwgPiAxKSB7XG4gICAgbWF6ZUdhbWUuc2V0TGV2ZWwoY3VycmVudExldmVsIC0gMSk7XG4gICAgdXBkYXRlTGV2ZWxEaXNwbGF5KCk7XG4gIH1cbn0pO1xuXG4vLyBOZXh0IGxldmVsIGJ1dHRvbiBoYW5kbGVyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dExldmVsJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCBjdXJyZW50TGV2ZWwgPSBtYXplR2FtZS5nZXRMZXZlbCgpO1xuICBjb25zdCBtYXhMZXZlbCA9IE1hemVHYW1lLmdldE1heExldmVsKCk7XG4gIGlmIChjdXJyZW50TGV2ZWwgPCBtYXhMZXZlbCkge1xuICAgIG1hemVHYW1lLnNldExldmVsKGN1cnJlbnRMZXZlbCArIDEpO1xuICAgIHVwZGF0ZUxldmVsRGlzcGxheSgpO1xuICB9XG59KTtcblxuLy8gQ2hhcmFjdGVyIHNlbGVjdG9yIGhhbmRsZXJcbmNvbnN0IGNoYXJhY3RlclNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFyYWN0ZXJTZWxlY3QnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbmlmIChjaGFyYWN0ZXJTZWxlY3QpIHtcbiAgLy8gU2V0IHRoZSBjdXJyZW50IGNoYXJhY3RlciBpbiB0aGUgZHJvcGRvd25cbiAgY2hhcmFjdGVyU2VsZWN0LnZhbHVlID0gc2F2ZWRTa2luLnRvU3RyaW5nKCk7XG5cbiAgY2hhcmFjdGVyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCBza2luSWQgPSBwYXJzZUludChjaGFyYWN0ZXJTZWxlY3QudmFsdWUsIDEwKTtcbiAgICBtYXplR2FtZS5zZXRTa2luKHNraW5JZCk7XG4gICAgLy8gU2F2ZSBwcmVmZXJlbmNlXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21hemVHYW1lU2tpbicsIHNraW5JZC50b1N0cmluZygpKTtcbiAgfSk7XG59XG5cbi8vIFJ1biBidXR0b24gaGFuZGxlclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1bkJ1dHRvbicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgY29kZSA9IGphdmFzY3JpcHRHZW5lcmF0b3Iud29ya3NwYWNlVG9Db2RlKHdvcmtzcGFjZSk7XG4gIG1hemVHYW1lLmV4ZWN1dGUoY29kZSk7XG59KTtcblxuLy8gUmVzZXQgYnV0dG9uIGhhbmRsZXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldEJ1dHRvbicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbWF6ZUdhbWUucmVzZXQoKTtcbn0pO1xuXG4vLyBJbml0aWFsIGxldmVsIGRpc3BsYXkgdXBkYXRlXG51cGRhdGVMZXZlbERpc3BsYXkoKTtcblxuLy8gTGFuZ3VhZ2Ugc2VsZWN0b3IgaGFuZGxlclxuY29uc3QgbGFuZ3VhZ2VTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFuZ3VhZ2VTZWxlY3QnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbmlmIChsYW5ndWFnZVNlbGVjdCkge1xuICAvLyBTZXQgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UgaW4gdGhlIGRyb3Bkb3duXG4gIGxhbmd1YWdlU2VsZWN0LnZhbHVlID0gY3VycmVudExvY2FsZTtcblxuICBsYW5ndWFnZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgbmV3TG9jYWxlID0gbGFuZ3VhZ2VTZWxlY3QudmFsdWUgYXMgU3VwcG9ydGVkTG9jYWxlO1xuXG4gICAgLy8gU2F2ZSBwcmVmZXJlbmNlXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21hemVHYW1lTG9jYWxlJywgbmV3TG9jYWxlKTtcblxuICAgIC8vIFJlbG9hZCB0aGUgcGFnZSB0byBhcHBseSBuZXcgbGFuZ3VhZ2VcbiAgICAvLyAoVGhpcyBpcyB0aGUgc2ltcGxlc3QgYXBwcm9hY2ggLSBCbG9ja2x5IGJsb2NrcyBuZWVkIHRvIGJlIHJlLXJlZ2lzdGVyZWQgd2l0aCBuZXcgbWVzc2FnZXMpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICB9KTtcbn1cblxuY29uc29sZS5sb2coYE1hemUgZ2FtZSBpbml0aWFsaXplZCB3aXRoIGtleWJvYXJkIG5hdmlnYXRpb24gc3VwcG9ydCAobG9jYWxlOiAke2N1cnJlbnRMb2NhbGV9KWApO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./index.ts\n");

/***/ }),

/***/ "./maze.ts":
/*!*****************!*\
  !*** ./maze.ts ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MazeGame: () => (/* binding */ MazeGame)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * @fileoverview Simple maze game engine.\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"NORTH\"] = 0] = \"NORTH\";\n    Direction[Direction[\"EAST\"] = 1] = \"EAST\";\n    Direction[Direction[\"SOUTH\"] = 2] = \"SOUTH\";\n    Direction[Direction[\"WEST\"] = 3] = \"WEST\";\n})(Direction || (Direction = {}));\nvar SquareType;\n(function (SquareType) {\n    SquareType[SquareType[\"WALL\"] = 0] = \"WALL\";\n    SquareType[SquareType[\"OPEN\"] = 1] = \"OPEN\";\n    SquareType[SquareType[\"START\"] = 2] = \"START\";\n    SquareType[SquareType[\"FINISH\"] = 3] = \"FINISH\";\n})(SquareType || (SquareType = {}));\n// Crash type constants\nvar CrashType;\n(function (CrashType) {\n    CrashType[CrashType[\"STOP\"] = 1] = \"STOP\";\n    CrashType[CrashType[\"SPIN\"] = 2] = \"SPIN\";\n    CrashType[CrashType[\"FALL\"] = 3] = \"FALL\";\n})(CrashType || (CrashType = {}));\n// Available character skins\nconst SKINS = [\n    {\n        sprite: 'assets/pegman.png',\n        tiles: 'assets/tiles_pegman.png',\n        background: false,\n        look: '#000',\n        winSound: ['assets/win.mp3', 'assets/win.ogg'],\n        crashSound: ['assets/fail_pegman.mp3', 'assets/fail_pegman.ogg'],\n        crashType: CrashType.STOP,\n        name: 'Pegman',\n    },\n    {\n        sprite: 'assets/astro.png',\n        tiles: 'assets/tiles_astro.png',\n        background: 'assets/bg_astro.jpg',\n        look: '#fff',\n        winSound: ['assets/win.mp3', 'assets/win.ogg'],\n        crashSound: ['assets/fail_astro.mp3', 'assets/fail_astro.ogg'],\n        crashType: CrashType.SPIN,\n        name: 'Astro',\n    },\n    {\n        sprite: 'assets/panda.png',\n        tiles: 'assets/tiles_panda.png',\n        background: 'assets/bg_panda.jpg',\n        look: '#000',\n        winSound: ['assets/win.mp3', 'assets/win.ogg'],\n        crashSound: ['assets/fail_panda.mp3', 'assets/fail_panda.ogg'],\n        crashType: CrashType.FALL,\n        name: 'Panda',\n    },\n];\n// Map each possible tile shape to a sprite position in the tiles image.\n// Input: Binary string representing Centre/North/West/South/East squares.\n// Output: [x, y] coordinates of each tile's sprite in tiles.png (5x4 grid of 50x50 tiles).\nconst TILE_SHAPES = {\n    '10010': [4, 0], // Dead ends\n    '10001': [3, 3],\n    '11000': [0, 1],\n    '10100': [0, 2],\n    '11010': [4, 1], // Vertical\n    '10101': [3, 2], // Horizontal\n    '10110': [0, 0], // Elbows\n    '10011': [2, 0],\n    '11001': [4, 2],\n    '11100': [2, 3],\n    '11110': [1, 1], // Junctions\n    '10111': [1, 0],\n    '11011': [2, 1],\n    '11101': [1, 2],\n    '11111': [2, 2], // Cross\n    'null0': [4, 3], // Empty\n    'null1': [3, 0],\n    'null2': [3, 1],\n    'null3': [0, 3],\n    'null4': [1, 3],\n};\n/**\n * Simple maze layouts by level.\n */\nconst MAZES = [\n    // Level 1: Simple straight path\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 1, 3, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 2: Single turn\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 3, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 3: Multiple turns\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 1, 0, 0],\n        [0, 0, 0, 0, 0, 1, 0, 0],\n        [0, 0, 0, 0, 0, 3, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 4: S-curve\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 1, 1, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 3, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 5: T-junction with conditional\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 3, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 6: Zigzag path\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 1, 0, 0],\n        [0, 0, 1, 1, 1, 1, 0, 0],\n        [0, 0, 3, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 7: Multiple decision points\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 1, 1, 1, 1, 1, 0],\n        [0, 0, 1, 0, 0, 0, 0, 0],\n        [0, 0, 1, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 3, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 8: Complex maze requiring loop\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 0, 1, 1, 0, 0],\n        [0, 0, 1, 0, 1, 0, 0, 0],\n        [0, 0, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 1, 1, 0],\n        [0, 0, 0, 0, 0, 0, 3, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n];\nclass MazeGame {\n    constructor(canvasId, level, skinId = 0) {\n        this.squareSize = 50;\n        this.executing = false;\n        this.commandQueue = [];\n        this.pegmanImage = null;\n        this.tilesImage = null;\n        this.backgroundImage = null;\n        this.markerImage = null;\n        this.imagesLoaded = false;\n        this.skinId = 0;\n        this.winAudio = null;\n        this.crashAudio = null;\n        this.animationFrame = 0; // Current animation frame (0-15 for direction, 16-18 for victory)\n        this.PEGMAN_WIDTH = 49;\n        this.PEGMAN_HEIGHT = 51;\n        const canvas = document.getElementById(canvasId);\n        if (!canvas) {\n            throw new Error(`Canvas element ${canvasId} not found`);\n        }\n        this.canvas = canvas;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get canvas context');\n        }\n        this.ctx = ctx;\n        this.level = Math.min(Math.max(level, 1), MAZES.length) - 1;\n        this.maze = MAZES[this.level];\n        this.skinId = Math.min(Math.max(skinId, 0), SKINS.length - 1);\n        this.skin = SKINS[this.skinId];\n        // Find start and finish positions\n        this.startPos = { x: 0, y: 0 };\n        this.finishPos = { x: 0, y: 0 };\n        for (let y = 0; y < this.maze.length; y++) {\n            for (let x = 0; x < this.maze[y].length; x++) {\n                if (this.maze[y][x] === SquareType.START) {\n                    this.startPos = { x, y };\n                }\n                else if (this.maze[y][x] === SquareType.FINISH) {\n                    this.finishPos = { x, y };\n                }\n            }\n        }\n        this.playerPos = Object.assign({}, this.startPos);\n        this.playerDir = Direction.EAST;\n        this.animationFrame = this.playerDir * 4; // Set initial frame based on direction\n        this.loadAssets();\n    }\n    loadAssets() {\n        let imagesLoadedCount = 0;\n        let totalImages = 3; // pegman, tiles, marker\n        if (this.skin.background) {\n            totalImages++; // Add background if it exists\n        }\n        const onImageLoad = () => {\n            imagesLoadedCount++;\n            if (imagesLoadedCount === totalImages) {\n                this.imagesLoaded = true;\n                this.draw();\n            }\n        };\n        // Load pegman sprite sheet\n        this.pegmanImage = new Image();\n        this.pegmanImage.onload = onImageLoad;\n        this.pegmanImage.src = this.skin.sprite;\n        // Load tiles image\n        this.tilesImage = new Image();\n        this.tilesImage.onload = onImageLoad;\n        this.tilesImage.src = this.skin.tiles;\n        // Load background image if it exists\n        if (this.skin.background) {\n            this.backgroundImage = new Image();\n            this.backgroundImage.onload = onImageLoad;\n            this.backgroundImage.src = this.skin.background;\n        }\n        // Load marker image\n        this.markerImage = new Image();\n        this.markerImage.onload = onImageLoad;\n        this.markerImage.src = 'assets/marker.png';\n        // Load audio files\n        this.loadAudio();\n        // Draw placeholder while loading\n        this.draw();\n    }\n    loadAudio() {\n        // Load win sound (try mp3 first, fallback to ogg)\n        this.winAudio = new Audio();\n        this.winAudio.src = this.skin.winSound[0]; // Use first format (mp3)\n        this.winAudio.volume = 0.5;\n        this.winAudio.load();\n        // Load crash sound\n        this.crashAudio = new Audio();\n        this.crashAudio.src = this.skin.crashSound[0]; // Use first format (mp3)\n        this.crashAudio.volume = 0.5;\n        this.crashAudio.load();\n    }\n    static getMaxLevel() {\n        return MAZES.length;\n    }\n    static getSkins() {\n        return SKINS;\n    }\n    setSkin(skinId) {\n        this.skinId = Math.min(Math.max(skinId, 0), SKINS.length - 1);\n        this.skin = SKINS[this.skinId];\n        this.imagesLoaded = false;\n        this.loadAssets();\n    }\n    getSkin() {\n        return this.skinId;\n    }\n    setLevel(level) {\n        this.level = Math.min(Math.max(level, 1), MAZES.length) - 1;\n        this.maze = MAZES[this.level];\n        // Find start and finish positions\n        this.startPos = { x: 0, y: 0 };\n        this.finishPos = { x: 0, y: 0 };\n        for (let y = 0; y < this.maze.length; y++) {\n            for (let x = 0; x < this.maze[y].length; x++) {\n                if (this.maze[y][x] === SquareType.START) {\n                    this.startPos = { x, y };\n                }\n                else if (this.maze[y][x] === SquareType.FINISH) {\n                    this.finishPos = { x, y };\n                }\n            }\n        }\n        this.reset();\n    }\n    getLevel() {\n        return this.level + 1;\n    }\n    draw() {\n        const width = this.maze[0].length * this.squareSize;\n        const height = this.maze.length * this.squareSize;\n        this.canvas.width = width;\n        this.canvas.height = height;\n        // Draw background image if available, otherwise use solid color\n        if (this.backgroundImage && this.imagesLoaded && this.skin.background) {\n            // Scale background to fit canvas\n            this.ctx.drawImage(this.backgroundImage, 0, 0, width, height);\n        }\n        else {\n            // Clear canvas with light background\n            this.ctx.fillStyle = '#F1EEE7';\n            this.ctx.fillRect(0, 0, width, height);\n        }\n        // Draw outer border\n        this.ctx.strokeStyle = '#CCB';\n        this.ctx.lineWidth = 1;\n        this.ctx.strokeRect(0, 0, width, height);\n        // Draw maze - use tiles image with proper shape detection\n        for (let y = 0; y < this.maze.length; y++) {\n            for (let x = 0; x < this.maze[y].length; x++) {\n                const square = this.maze[y][x];\n                const px = x * this.squareSize;\n                const py = y * this.squareSize;\n                // Compute tile shape based on surrounding squares\n                const normalize = (nx, ny) => {\n                    if (nx < 0 || nx >= this.maze[0].length || ny < 0 || ny >= this.maze.length) {\n                        return '0';\n                    }\n                    return this.maze[ny][nx] === SquareType.WALL ? '0' : '1';\n                };\n                let tileShape = normalize(x, y) + // Center\n                    normalize(x, y - 1) + // North\n                    normalize(x + 1, y) + // East (note: original uses x+1 for West due to coordinate system)\n                    normalize(x, y + 1) + // South\n                    normalize(x - 1, y); // West (note: original uses x-1 for East)\n                // Only draw non-wall tiles\n                if (square !== SquareType.WALL) {\n                    if (this.tilesImage && this.imagesLoaded) {\n                        // Determine which tile to use\n                        let finalShape = tileShape;\n                        if (!TILE_SHAPES[tileShape]) {\n                            // Empty square. Use null0 for large areas, with null1-4 for borders.\n                            if (tileShape === '00000' && Math.random() > 0.3) {\n                                finalShape = 'null0';\n                            }\n                            else {\n                                finalShape = 'null' + Math.floor(1 + Math.random() * 4);\n                            }\n                        }\n                        const [tileCol, tileRow] = TILE_SHAPES[finalShape] || [0, 0];\n                        const srcX = tileCol * 50;\n                        const srcY = tileRow * 50;\n                        // Draw the tile from the sprite sheet\n                        this.ctx.drawImage(this.tilesImage, srcX, srcY, 50, 50, px, py, this.squareSize, this.squareSize);\n                    }\n                    else {\n                        // Fallback: Draw path tiles with bright yellow highlight\n                        this.ctx.fillStyle = '#FFE500';\n                        this.ctx.fillRect(px, py, this.squareSize, this.squareSize);\n                        // Add subtle darker border to separate tiles\n                        this.ctx.strokeStyle = '#D4C000';\n                        this.ctx.lineWidth = 2;\n                        this.ctx.strokeRect(px, py, this.squareSize, this.squareSize);\n                    }\n                    // Draw finish marker with image if loaded\n                    if (square === SquareType.FINISH && this.markerImage && this.imagesLoaded) {\n                        const markerWidth = 20;\n                        const markerHeight = 34;\n                        this.ctx.drawImage(this.markerImage, px + (this.squareSize - markerWidth) / 2, py + (this.squareSize - markerHeight) / 2 - 5, markerWidth, markerHeight);\n                    }\n                    else if (square === SquareType.FINISH) {\n                        // Fallback if image not loaded\n                        this.ctx.fillStyle = '#F44336';\n                        this.ctx.beginPath();\n                        this.ctx.arc(px + this.squareSize / 2, py + this.squareSize / 2, this.squareSize / 3, 0, 2 * Math.PI);\n                        this.ctx.fill();\n                    }\n                }\n            }\n        }\n        // Draw player with pegman image using animation frame\n        this.drawPegman(this.playerPos.x, this.playerPos.y, this.animationFrame);\n    }\n    /**\n     * Draw pegman at specified position with given frame.\n     * @param x Grid x position (can be fractional for animation)\n     * @param y Grid y position (can be fractional for animation)\n     * @param frame Frame number (0-15 for directions, 16-18 for victory dance)\n     */\n    drawPegman(x, y, frame) {\n        const px = x * this.squareSize;\n        const py = y * this.squareSize;\n        if (this.pegmanImage && this.imagesLoaded) {\n            // Pegman sprite sheet is 1029x51 with 21 frames (49x51 each)\n            // Frames 0-15: Directions (16 directions for smooth rotation)\n            // Frames 16-18: Victory dance frames\n            const frameIndex = Math.min(Math.max(Math.floor(frame), 0), 20);\n            const srcX = frameIndex * this.PEGMAN_WIDTH;\n            const srcY = 0;\n            // Draw pegman at appropriate size\n            const destX = px + (this.squareSize - this.PEGMAN_WIDTH) / 2;\n            const destY = py + (this.squareSize - this.PEGMAN_HEIGHT) / 2;\n            this.ctx.drawImage(this.pegmanImage, srcX, srcY, this.PEGMAN_WIDTH, this.PEGMAN_HEIGHT, destX, destY, this.PEGMAN_WIDTH, this.PEGMAN_HEIGHT);\n        }\n        else {\n            // Fallback rendering\n            const centerX = px + this.squareSize / 2;\n            const centerY = py + this.squareSize / 2;\n            // Draw green base\n            this.ctx.fillStyle = '#4CAF50';\n            this.ctx.beginPath();\n            this.ctx.arc(centerX, centerY + 10, this.squareSize / 5, 0, 2 * Math.PI);\n            this.ctx.fill();\n            // Draw player\n            this.ctx.fillStyle = '#2196F3';\n            this.ctx.beginPath();\n            this.ctx.arc(centerX, centerY, this.squareSize / 4, 0, 2 * Math.PI);\n            this.ctx.fill();\n            // Draw direction indicator\n            this.ctx.strokeStyle = '#2196F3';\n            this.ctx.lineWidth = 3;\n            this.ctx.beginPath();\n            this.ctx.moveTo(centerX, centerY);\n            const dirX = [0, 1, 0, -1][this.playerDir];\n            const dirY = [-1, 0, 1, 0][this.playerDir];\n            this.ctx.lineTo(centerX + dirX * (this.squareSize / 4 + 5), centerY + dirY * (this.squareSize / 4 + 5));\n            this.ctx.stroke();\n        }\n    }\n    isPathForward() {\n        const dirX = [0, 1, 0, -1][this.playerDir];\n        const dirY = [-1, 0, 1, 0][this.playerDir];\n        const newX = this.playerPos.x + dirX;\n        const newY = this.playerPos.y + dirY;\n        return this.isValidPosition(newX, newY);\n    }\n    isPathLeft() {\n        const leftDir = (this.playerDir + 3) % 4;\n        const dirX = [0, 1, 0, -1][leftDir];\n        const dirY = [-1, 0, 1, 0][leftDir];\n        const newX = this.playerPos.x + dirX;\n        const newY = this.playerPos.y + dirY;\n        return this.isValidPosition(newX, newY);\n    }\n    isPathRight() {\n        const rightDir = (this.playerDir + 1) % 4;\n        const dirX = [0, 1, 0, -1][rightDir];\n        const dirY = [-1, 0, 1, 0][rightDir];\n        const newX = this.playerPos.x + dirX;\n        const newY = this.playerPos.y + dirY;\n        return this.isValidPosition(newX, newY);\n    }\n    isValidPosition(x, y) {\n        if (x < 0 || x >= this.maze[0].length || y < 0 || y >= this.maze.length) {\n            return false;\n        }\n        return this.maze[y][x] !== SquareType.WALL;\n    }\n    moveForward() {\n        this.commandQueue.push(() => __awaiter(this, void 0, void 0, function* () {\n            const dirX = [0, 1, 0, -1][this.playerDir];\n            const dirY = [-1, 0, 1, 0][this.playerDir];\n            const newX = this.playerPos.x + dirX;\n            const newY = this.playerPos.y + dirY;\n            if (!this.isValidPosition(newX, newY)) {\n                yield this.animateCrash(dirX, dirY);\n                return;\n            }\n            // Smooth animation with 4 steps\n            yield this.animateMove(this.playerPos.x, this.playerPos.y, newX, newY);\n            this.playerPos.x = newX;\n            this.playerPos.y = newY;\n        }));\n    }\n    turnLeft() {\n        this.commandQueue.push(() => __awaiter(this, void 0, void 0, function* () {\n            const startFrame = this.playerDir * 4;\n            const endDir = ((this.playerDir + 3) % 4);\n            const endFrame = endDir * 4;\n            yield this.animateTurn(startFrame, endFrame);\n            this.playerDir = endDir;\n            this.animationFrame = endFrame;\n        }));\n    }\n    turnRight() {\n        this.commandQueue.push(() => __awaiter(this, void 0, void 0, function* () {\n            const startFrame = this.playerDir * 4;\n            const endDir = ((this.playerDir + 1) % 4);\n            const endFrame = endDir * 4;\n            yield this.animateTurn(startFrame, endFrame);\n            this.playerDir = endDir;\n            this.animationFrame = endFrame;\n        }));\n    }\n    /**\n     * Animate smooth movement from one position to another with 4 interpolation steps.\n     */\n    animateMove(startX, startY, endX, endY) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const steps = 4;\n            const deltaX = (endX - startX) / steps;\n            const deltaY = (endY - startY) / steps;\n            const stepDelay = 75; // 75ms per step = 300ms total\n            for (let i = 1; i <= steps; i++) {\n                const x = startX + deltaX * i;\n                const y = startY + deltaY * i;\n                this.drawPegman(x, y, this.playerDir * 4);\n                this.draw();\n                yield this.delay(stepDelay);\n            }\n        });\n    }\n    /**\n     * Animate smooth turning with 4 interpolation steps.\n     */\n    animateTurn(startFrame, endFrame) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const steps = 4;\n            let delta = endFrame - startFrame;\n            // Handle wrapping (e.g., from frame 12 to frame 0)\n            if (delta > 8) {\n                delta = delta - 16;\n            }\n            else if (delta < -8) {\n                delta = delta + 16;\n            }\n            const frameDelta = delta / steps;\n            const stepDelay = 75; // 75ms per step = 300ms total\n            for (let i = 1; i <= steps; i++) {\n                let frame = startFrame + frameDelta * i;\n                // Constrain to 0-15\n                if (frame < 0)\n                    frame += 16;\n                if (frame >= 16)\n                    frame -= 16;\n                this.animationFrame = frame;\n                this.draw();\n                yield this.delay(stepDelay);\n            }\n        });\n    }\n    /**\n     * Animate crash into wall.\n     */\n    animateCrash(deltaX, deltaY) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.crashAudio) {\n                this.crashAudio.currentTime = 0;\n                this.crashAudio.play().catch(() => { }); // Ignore audio errors\n            }\n            if (this.skin.crashType === CrashType.STOP) {\n                // Bounce animation\n                const bounceDistance = 0.25;\n                const startX = this.playerPos.x;\n                const startY = this.playerPos.y;\n                // Move forward slightly\n                this.drawPegman(startX + deltaX * bounceDistance, startY + deltaY * bounceDistance, this.playerDir * 4);\n                this.draw();\n                yield this.delay(75);\n                // Bounce back\n                this.drawPegman(startX, startY, this.playerDir * 4);\n                this.draw();\n                yield this.delay(75);\n                // Forward again\n                this.drawPegman(startX + deltaX * bounceDistance, startY + deltaY * bounceDistance, this.playerDir * 4);\n                this.draw();\n                yield this.delay(75);\n                // Final return\n                this.drawPegman(startX, startY, this.playerDir * 4);\n                this.draw();\n                yield this.delay(75);\n            }\n            else {\n                // For SPIN and FALL, do a simple bounce for now\n                // (Full implementation would be more complex)\n                const bounceDistance = 0.25;\n                const startX = this.playerPos.x;\n                const startY = this.playerPos.y;\n                this.drawPegman(startX + deltaX * bounceDistance, startY + deltaY * bounceDistance, this.playerDir * 4);\n                this.draw();\n                yield this.delay(150);\n                this.drawPegman(startX, startY, this.playerDir * 4);\n                this.draw();\n                yield this.delay(150);\n            }\n        });\n    }\n    /**\n     * Animate victory dance.\n     */\n    animateVictory() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.winAudio) {\n                this.winAudio.currentTime = 0;\n                this.winAudio.play().catch(() => { }); // Ignore audio errors\n            }\n            // Victory dance uses frames 16, 18, 16 pattern\n            const danceFrames = [16, 18, 16, 18, 16];\n            for (const frame of danceFrames) {\n                this.animationFrame = frame;\n                this.draw();\n                yield this.delay(150);\n            }\n            // Return to normal facing direction\n            this.animationFrame = this.playerDir * 4;\n            this.draw();\n        });\n    }\n    notDone() {\n        return (this.playerPos.x !== this.finishPos.x ||\n            this.playerPos.y !== this.finishPos.y);\n    }\n    delay(ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    }\n    reset() {\n        this.playerPos = Object.assign({}, this.startPos);\n        this.playerDir = Direction.EAST;\n        this.animationFrame = this.playerDir * 4;\n        this.executing = false;\n        this.draw();\n    }\n    execute(code) {\n        if (this.executing) {\n            alert('Already executing!');\n            return;\n        }\n        this.executing = true;\n        this.reset();\n        this.commandQueue = [];\n        // Create execution context - functions queue commands\n        const context = {\n            moveForward: (blockId) => this.moveForward(),\n            turnLeft: (blockId) => this.turnLeft(),\n            turnRight: (blockId) => this.turnRight(),\n            isPathForward: (blockId) => this.isPathForward(),\n            isPathLeft: (blockId) => this.isPathLeft(),\n            isPathRight: (blockId) => this.isPathRight(),\n            notDone: () => this.notDone(),\n        };\n        try {\n            // Execute code to build command queue\n            const params = Object.keys(context);\n            const args = Object.values(context);\n            const fn = new Function(...params, code);\n            fn(...args);\n            // Animate the command queue\n            this.animateQueue();\n        }\n        catch (e) {\n            console.error('Error executing code:', e);\n            alert('Error executing code: ' + e);\n            this.executing = false;\n        }\n    }\n    animateQueue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const command of this.commandQueue) {\n                yield command(); // Commands are now async\n            }\n            this.executing = false;\n            // Check if finished\n            if (!this.notDone()) {\n                yield this.animateVictory();\n                setTimeout(() => {\n                    alert('Success! You reached the goal!');\n                }, 500);\n            }\n            else {\n                alert('Program finished, but you did not reach the goal.');\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekI7SUFDRCx1QkFBdUI7SUFDdkI7UUFDRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsMEJBQTBCO0lBQzFCO1FBQ0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUN6QjtJQUNELG1CQUFtQjtJQUNuQjtRQUNFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekI7SUFDRCx1Q0FBdUM7SUFDdkM7UUFDRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsdUJBQXVCO0lBQ3ZCO1FBQ0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUN6QjtJQUNELG9DQUFvQztJQUNwQztRQUNFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekI7SUFDRCx1Q0FBdUM7SUFDdkM7UUFDRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0NBQ0YsQ0FBQztBQUVLLE1BQU0sUUFBUTtJQXlCbkIsWUFBWSxRQUFnQixFQUFFLEtBQWEsRUFBRSxTQUFpQixDQUFDO1FBaEJ2RCxlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFDbEIsaUJBQVksR0FBK0IsRUFBRSxDQUFDO1FBQzlDLGdCQUFXLEdBQTRCLElBQUksQ0FBQztRQUM1QyxlQUFVLEdBQTRCLElBQUksQ0FBQztRQUMzQyxvQkFBZSxHQUE0QixJQUFJLENBQUM7UUFDaEQsZ0JBQVcsR0FBNEIsSUFBSSxDQUFDO1FBQzVDLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLFdBQU0sR0FBVyxDQUFDLENBQUM7UUFFbkIsYUFBUSxHQUE0QixJQUFJLENBQUM7UUFDekMsZUFBVSxHQUE0QixJQUFJLENBQUM7UUFDM0MsbUJBQWMsR0FBVyxDQUFDLENBQUMsQ0FBQyxrRUFBa0U7UUFDckYsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFDbEIsa0JBQWEsR0FBRyxFQUFFLENBQUM7UUFHbEMsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQXNCLENBQUM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsUUFBUSxZQUFZLENBQUMsQ0FBQztRQUMxRCxDQUFDO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDbEQsQ0FBQztRQUNELElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUUvQixrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQztRQUM5QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUMxQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDN0MsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDekMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQztnQkFDekIsQ0FBQztxQkFBTSxJQUFJLElBQUks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LENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNyQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDckMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU8sZUFBZSxDQUFDLENBQVMsRUFBRSxDQUFTO1FBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN4RSxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssVUFBVSxDQUFDLElBQUksQ0FBQztJQUM3QyxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFTLEVBQUU7WUFDaEMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMzQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENB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QyxDQUFDO1lBQ3BDLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDcEMsTUFBTSxFQUFFLEdBQUcsSUFBSSxRQUFRLENBQUMsR0FBRyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDekMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFFWiw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3RCLENBQUM7UUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQ1gsT0FBTyxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMxQyxLQUFLLENBQUMsd0JBQXdCLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDekIsQ0FBQztJQUNILENBQUM7SUFFYSxZQUFZOztZQUN4QixLQUFLLE1BQU0sT0FBTyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDeEMsTUFBTSxPQUFPLEVBQUUsQ0FBQyxDQUFDLHlCQUF5QjtZQUM1QyxDQUFDO1lBRUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFFdkIsb0JBQW9CO1lBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQztnQkFDcEIsTUFBTSxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQzVCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7b0JBQ2QsS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7Z0JBQzFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNWLENBQUM7aUJBQU0sQ0FBQztnQkFDTixLQUFLLENBQUMsbURBQW1ELENBQUMsQ0FBQztZQUM3RCxDQUFDO1FBQ0gsQ0FBQztLQUFBO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tYXplLnRzPzEzYTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgU2ltcGxlIG1hemUgZ2FtZSBlbmdpbmUuXG4gKi9cblxuZW51bSBEaXJlY3Rpb24ge1xuICBOT1JUSCA9IDAsXG4gIEVBU1QgPSAxLFxuICBTT1VUSCA9IDIsXG4gIFdFU1QgPSAzLFxufVxuXG5lbnVtIFNxdWFyZVR5cGUge1xuICBXQUxMID0gMCxcbiAgT1BFTiA9IDEsXG4gIFNUQVJUID0gMixcbiAgRklOSVNIID0gMyxcbn1cblxuLy8gQ3Jhc2ggdHlwZSBjb25zdGFudHNcbmVudW0gQ3Jhc2hUeXBlIHtcbiAgU1RPUCA9IDEsICAvLyBCb3VuY2UgYW5pbWF0aW9uXG4gIFNQSU4gPSAyLCAgLy8gU3Bpbm5pbmcgYW5pbWF0aW9uXG4gIEZBTEwgPSAzLCAgLy8gRmFsbGluZyBhbmltYXRpb24gd2l0aCBncmF2aXR5XG59XG5cbmludGVyZmFjZSBQb3NpdGlvbiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgU2tpbiB7XG4gIHNwcml0ZTogc3RyaW5nOyAgICAgICAvLyBQYXRoIHRvIHNwcml0ZSBpbWFnZSAoMTAyOXg1MSwgMjEgZnJhbWVzKVxuICB0aWxlczogc3RyaW5nOyAgICAgICAgLy8gUGF0aCB0byB0aWxlIHNldCBpbWFnZVxuICBiYWNrZ3JvdW5kOiBzdHJpbmcgfCBmYWxzZTsgIC8vIFBhdGggdG8gYmFja2dyb3VuZCBpbWFnZSBvciBmYWxzZVxuICBsb29rOiBzdHJpbmc7ICAgICAgICAgLy8gQ29sb3IgZm9yIHNvbmFyIGxvb2sgaWNvblxuICB3aW5Tb3VuZDogc3RyaW5nW107ICAgLy8gUGF0aHMgdG8gd2luIHNvdW5kIGZpbGVzXG4gIGNyYXNoU291bmQ6IHN0cmluZ1tdOyAvLyBQYXRocyB0byBjcmFzaCBzb3VuZCBmaWxlc1xuICBjcmFzaFR5cGU6IENyYXNoVHlwZTsgLy8gVHlwZSBvZiBjcmFzaCBhbmltYXRpb25cbiAgbmFtZTogc3RyaW5nOyAgICAgICAgIC8vIERpc3BsYXkgbmFtZSBmb3IgdGhlIHNraW5cbn1cblxuLy8gQXZhaWxhYmxlIGNoYXJhY3RlciBza2luc1xuY29uc3QgU0tJTlM6IFNraW5bXSA9IFtcbiAge1xuICAgIHNwcml0ZTogJ2Fzc2V0cy9wZWdtYW4ucG5nJyxcbiAgICB0aWxlczogJ2Fzc2V0cy90aWxlc19wZWdtYW4ucG5nJyxcbiAgICBiYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICBsb29rOiAnIzAwMCcsXG4gICAgd2luU291bmQ6IFsnYXNzZXRzL3dpbi5tcDMnLCAnYXNzZXRzL3dpbi5vZ2cnXSxcbiAgICBjcmFzaFNvdW5kOiBbJ2Fzc2V0cy9mYWlsX3BlZ21hbi5tcDMnLCAnYXNzZXRzL2ZhaWxfcGVnbWFuLm9nZyddLFxuICAgIGNyYXNoVHlwZTogQ3Jhc2hUeXBlLlNUT1AsXG4gICAgbmFtZTogJ1BlZ21hbicsXG4gIH0sXG4gIHtcbiAgICBzcHJpdGU6ICdhc3NldHMvYXN0cm8ucG5nJyxcbiAgICB0aWxlczogJ2Fzc2V0cy90aWxlc19hc3Ryby5wbmcnLFxuICAgIGJhY2tncm91bmQ6ICdhc3NldHMvYmdfYXN0cm8uanBnJyxcbiAgICBsb29rOiAnI2ZmZicsXG4gICAgd2luU291bmQ6IFsnYXNzZXRzL3dpbi5tcDMnLCAnYXNzZXRzL3dpbi5vZ2cnXSxcbiAgICBjcmFzaFNvdW5kOiBbJ2Fzc2V0cy9mYWlsX2FzdHJvLm1wMycsICdhc3NldHMvZmFpbF9hc3Ryby5vZ2cnXSxcbiAgICBjcmFzaFR5cGU6IENyYXNoVHlwZS5TUElOLFxuICAgIG5hbWU6ICdBc3RybycsXG4gIH0sXG4gIHtcbiAgICBzcHJpdGU6ICdhc3NldHMvcGFuZGEucG5nJyxcbiAgICB0aWxlczogJ2Fzc2V0cy90aWxlc19wYW5kYS5wbmcnLFxuICAgIGJhY2tncm91bmQ6ICdhc3NldHMvYmdfcGFuZGEuanBnJyxcbiAgICBsb29rOiAnIzAwMCcsXG4gICAgd2luU291bmQ6IFsnYXNzZXRzL3dpbi5tcDMnLCAnYXNzZXRzL3dpbi5vZ2cnXSxcbiAgICBjcmFzaFNvdW5kOiBbJ2Fzc2V0cy9mYWlsX3BhbmRhLm1wMycsICdhc3NldHMvZmFpbF9wYW5kYS5vZ2cnXSxcbiAgICBjcmFzaFR5cGU6IENyYXNoVHlwZS5GQUxMLFxuICAgIG5hbWU6ICdQYW5kYScsXG4gIH0sXG5dO1xuXG4vLyBNYXAgZWFjaCBwb3NzaWJsZSB0aWxlIHNoYXBlIHRvIGEgc3ByaXRlIHBvc2l0aW9uIGluIHRoZSB0aWxlcyBpbWFnZS5cbi8vIElucHV0OiBCaW5hcnkgc3RyaW5nIHJlcHJlc2VudGluZyBDZW50cmUvTm9ydGgvV2VzdC9Tb3V0aC9FYXN0IHNxdWFyZXMuXG4vLyBPdXRwdXQ6IFt4LCB5XSBjb29yZGluYXRlcyBvZiBlYWNoIHRpbGUncyBzcHJpdGUgaW4gdGlsZXMucG5nICg1eDQgZ3JpZCBvZiA1MHg1MCB0aWxlcykuXG5jb25zdCBUSUxFX1NIQVBFUzogUmVjb3JkPHN0cmluZywgW251bWJlciwgbnVtYmVyXT4gPSB7XG4gICcxMDAxMCc6IFs0LCAwXSwgIC8vIERlYWQgZW5kc1xuICAnMTAwMDEnOiBbMywgM10sXG4gICcxMTAwMCc6IFswLCAxXSxcbiAgJzEwMTAwJzogWzAsIDJdLFxuICAnMTEwMTAnOiBbNCwgMV0sICAvLyBWZXJ0aWNhbFxuICAnMTAxMDEnOiBbMywgMl0sICAvLyBIb3Jpem9udGFsXG4gICcxMDExMCc6IFswLCAwXSwgIC8vIEVsYm93c1xuICAnMTAwMTEnOiBbMiwgMF0sXG4gICcxMTAwMSc6IFs0LCAyXSxcbiAgJzExMTAwJzogWzIsIDNdLFxuICAnMTExMTAnOiBbMSwgMV0sICAvLyBKdW5jdGlvbnNcbiAgJzEwMTExJzogWzEsIDBdLFxuICAnMTEwMTEnOiBbMiwgMV0sXG4gICcxMTEwMSc6IFsxLCAyXSxcbiAgJzExMTExJzogWzIsIDJdLCAgLy8gQ3Jvc3NcbiAgJ251bGwwJzogWzQsIDNdLCAgLy8gRW1wdHlcbiAgJ251bGwxJzogWzMsIDBdLFxuICAnbnVsbDInOiBbMywgMV0sXG4gICdudWxsMyc6IFswLCAzXSxcbiAgJ251bGw0JzogWzEsIDNdLFxufTtcblxuLyoqXG4gKiBTaW1wbGUgbWF6ZSBsYXlvdXRzIGJ5IGxldmVsLlxuICovXG5jb25zdCBNQVpFUyA9IFtcbiAgLy8gTGV2ZWwgMTogU2ltcGxlIHN0cmFpZ2h0IHBhdGhcbiAgW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAxLCAxLCAxLCAzLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIF0sXG4gIC8vIExldmVsIDI6IFNpbmdsZSB0dXJuXG4gIFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAxLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAzLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdLFxuICAvLyBMZXZlbCAzOiBNdWx0aXBsZSB0dXJuc1xuICBbXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAxLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDEsIDEsIDEsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDMsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXSxcbiAgLy8gTGV2ZWwgNDogUy1jdXJ2ZVxuICBbXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAxLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDEsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAxLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMSwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDMsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXSxcbiAgLy8gTGV2ZWwgNTogVC1qdW5jdGlvbiB3aXRoIGNvbmRpdGlvbmFsXG4gIFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDEsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAzLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMiwgMSwgMSwgMSwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdLFxuICAvLyBMZXZlbCA2OiBaaWd6YWcgcGF0aFxuICBbXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAxLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDEsIDEsIDEsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMSwgMSwgMSwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDMsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXSxcbiAgLy8gTGV2ZWwgNzogTXVsdGlwbGUgZGVjaXNpb24gcG9pbnRzXG4gIFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDIsIDEsIDEsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMSwgMSwgMSwgMSwgMSwgMF0sXG4gICAgWzAsIDAsIDEsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAxLCAxLCAxLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMywgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdLFxuICAvLyBMZXZlbCA4OiBDb21wbGV4IG1hemUgcmVxdWlyaW5nIGxvb3BcbiAgW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMiwgMSwgMCwgMSwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDEsIDAsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAxLCAxLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDEsIDEsIDEsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAzLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIF0sXG5dO1xuXG5leHBvcnQgY2xhc3MgTWF6ZUdhbWUge1xuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHByaXZhdGUgbGV2ZWw6IG51bWJlcjtcbiAgcHJpdmF0ZSBtYXplOiBudW1iZXJbXVtdO1xuICBwcml2YXRlIHBsYXllclBvczogUG9zaXRpb247XG4gIHByaXZhdGUgcGxheWVyRGlyOiBEaXJlY3Rpb247XG4gIHByaXZhdGUgc3RhcnRQb3M6IFBvc2l0aW9uO1xuICBwcml2YXRlIGZpbmlzaFBvczogUG9zaXRpb247XG4gIHByaXZhdGUgc3F1YXJlU2l6ZSA9IDUwO1xuICBwcml2YXRlIGV4ZWN1dGluZyA9IGZhbHNlO1xuICBwcml2YXRlIGNvbW1hbmRRdWV1ZTogQXJyYXk8KCkgPT4gUHJvbWlzZTx2b2lkPj4gPSBbXTtcbiAgcHJpdmF0ZSBwZWdtYW5JbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHRpbGVzSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBiYWNrZ3JvdW5kSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBtYXJrZXJJbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xuICBwcml2YXRlIHNraW5JZDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBza2luOiBTa2luO1xuICBwcml2YXRlIHdpbkF1ZGlvOiBIVE1MQXVkaW9FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY3Jhc2hBdWRpbzogSFRNTEF1ZGlvRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwOyAvLyBDdXJyZW50IGFuaW1hdGlvbiBmcmFtZSAoMC0xNSBmb3IgZGlyZWN0aW9uLCAxNi0xOCBmb3IgdmljdG9yeSlcbiAgcHJpdmF0ZSByZWFkb25seSBQRUdNQU5fV0lEVEggPSA0OTtcbiAgcHJpdmF0ZSByZWFkb25seSBQRUdNQU5fSEVJR0hUID0gNTE7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzSWQ6IHN0cmluZywgbGV2ZWw6IG51bWJlciwgc2tpbklkOiBudW1iZXIgPSAwKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzSWQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbnZhcyBlbGVtZW50ICR7Y2FudmFzSWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZ2V0IGNhbnZhcyBjb250ZXh0Jyk7XG4gICAgfVxuICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMubGV2ZWwgPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMSksIE1BWkVTLmxlbmd0aCkgLSAxO1xuICAgIHRoaXMubWF6ZSA9IE1BWkVTW3RoaXMubGV2ZWxdO1xuICAgIHRoaXMuc2tpbklkID0gTWF0aC5taW4oTWF0aC5tYXgoc2tpbklkLCAwKSwgU0tJTlMubGVuZ3RoIC0gMSk7XG4gICAgdGhpcy5za2luID0gU0tJTlNbdGhpcy5za2luSWRdO1xuXG4gICAgLy8gRmluZCBzdGFydCBhbmQgZmluaXNoIHBvc2l0aW9uc1xuICAgIHRoaXMuc3RhcnRQb3MgPSB7eDogMCwgeTogMH07XG4gICAgdGhpcy5maW5pc2hQb3MgPSB7eDogMCwgeTogMH07XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLm1hemUubGVuZ3RoOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5tYXplW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGlmICh0aGlzLm1hemVbeV1beF0gPT09IFNxdWFyZVR5cGUuU1RBUlQpIHtcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zID0ge3gsIHl9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWF6ZVt5XVt4XSA9PT0gU3F1YXJlVHlwZS5GSU5JU0gpIHtcbiAgICAgICAgICB0aGlzLmZpbmlzaFBvcyA9IHt4LCB5fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGxheWVyUG9zID0gey4uLnRoaXMuc3RhcnRQb3N9O1xuICAgIHRoaXMucGxheWVyRGlyID0gRGlyZWN0aW9uLkVBU1Q7XG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IHRoaXMucGxheWVyRGlyICogNDsgLy8gU2V0IGluaXRpYWwgZnJhbWUgYmFzZWQgb24gZGlyZWN0aW9uXG5cbiAgICB0aGlzLmxvYWRBc3NldHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgbG9hZEFzc2V0cygpOiB2b2lkIHtcbiAgICBsZXQgaW1hZ2VzTG9hZGVkQ291bnQgPSAwO1xuICAgIGxldCB0b3RhbEltYWdlcyA9IDM7IC8vIHBlZ21hbiwgdGlsZXMsIG1hcmtlclxuICAgIGlmICh0aGlzLnNraW4uYmFja2dyb3VuZCkge1xuICAgICAgdG90YWxJbWFnZXMrKzsgLy8gQWRkIGJhY2tncm91bmQgaWYgaXQgZXhpc3RzXG4gICAgfVxuXG4gICAgY29uc3Qgb25JbWFnZUxvYWQgPSAoKSA9PiB7XG4gICAgICBpbWFnZXNMb2FkZWRDb3VudCsrO1xuICAgICAgaWYgKGltYWdlc0xvYWRlZENvdW50ID09PSB0b3RhbEltYWdlcykge1xuICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBMb2FkIHBlZ21hbiBzcHJpdGUgc2hlZXRcbiAgICB0aGlzLnBlZ21hbkltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5wZWdtYW5JbWFnZS5vbmxvYWQgPSBvbkltYWdlTG9hZDtcbiAgICB0aGlzLnBlZ21hbkltYWdlLnNyYyA9IHRoaXMuc2tpbi5zcHJpdGU7XG5cbiAgICAvLyBMb2FkIHRpbGVzIGltYWdlXG4gICAgdGhpcy50aWxlc0ltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy50aWxlc0ltYWdlLm9ubG9hZCA9IG9uSW1hZ2VMb2FkO1xuICAgIHRoaXMudGlsZXNJbWFnZS5zcmMgPSB0aGlzLnNraW4udGlsZXM7XG5cbiAgICAvLyBMb2FkIGJhY2tncm91bmQgaW1hZ2UgaWYgaXQgZXhpc3RzXG4gICAgaWYgKHRoaXMuc2tpbi5iYWNrZ3JvdW5kKSB7XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2Uub25sb2FkID0gb25JbWFnZUxvYWQ7XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZS5zcmMgPSB0aGlzLnNraW4uYmFja2dyb3VuZDtcbiAgICB9XG5cbiAgICAvLyBMb2FkIG1hcmtlciBpbWFnZVxuICAgIHRoaXMubWFya2VySW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLm1hcmtlckltYWdlLm9ubG9hZCA9IG9uSW1hZ2VMb2FkO1xuICAgIHRoaXMubWFya2VySW1hZ2Uuc3JjID0gJ2Fzc2V0cy9tYXJrZXIucG5nJztcblxuICAgIC8vIExvYWQgYXVkaW8gZmlsZXNcbiAgICB0aGlzLmxvYWRBdWRpbygpO1xuXG4gICAgLy8gRHJhdyBwbGFjZWhvbGRlciB3aGlsZSBsb2FkaW5nXG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBwcml2YXRlIGxvYWRBdWRpbygpOiB2b2lkIHtcbiAgICAvLyBMb2FkIHdpbiBzb3VuZCAodHJ5IG1wMyBmaXJzdCwgZmFsbGJhY2sgdG8gb2dnKVxuICAgIHRoaXMud2luQXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICB0aGlzLndpbkF1ZGlvLnNyYyA9IHRoaXMuc2tpbi53aW5Tb3VuZFswXTsgLy8gVXNlIGZpcnN0IGZvcm1hdCAobXAzKVxuICAgIHRoaXMud2luQXVkaW8udm9sdW1lID0gMC41O1xuICAgIHRoaXMud2luQXVkaW8ubG9hZCgpO1xuXG4gICAgLy8gTG9hZCBjcmFzaCBzb3VuZFxuICAgIHRoaXMuY3Jhc2hBdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgIHRoaXMuY3Jhc2hBdWRpby5zcmMgPSB0aGlzLnNraW4uY3Jhc2hTb3VuZFswXTsgLy8gVXNlIGZpcnN0IGZvcm1hdCAobXAzKVxuICAgIHRoaXMuY3Jhc2hBdWRpby52b2x1bWUgPSAwLjU7XG4gICAgdGhpcy5jcmFzaEF1ZGlvLmxvYWQoKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0TWF4TGV2ZWwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTUFaRVMubGVuZ3RoO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRTa2lucygpOiBTa2luW10ge1xuICAgIHJldHVybiBTS0lOUztcbiAgfVxuXG4gIHB1YmxpYyBzZXRTa2luKHNraW5JZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5za2luSWQgPSBNYXRoLm1pbihNYXRoLm1heChza2luSWQsIDApLCBTS0lOUy5sZW5ndGggLSAxKTtcbiAgICB0aGlzLnNraW4gPSBTS0lOU1t0aGlzLnNraW5JZF07XG4gICAgdGhpcy5pbWFnZXNMb2FkZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxvYWRBc3NldHMoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTa2luKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2tpbklkO1xuICB9XG5cbiAgcHVibGljIHNldExldmVsKGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmxldmVsID0gTWF0aC5taW4oTWF0aC5tYXgobGV2ZWwsIDEpLCBNQVpFUy5sZW5ndGgpIC0gMTtcbiAgICB0aGlzLm1hemUgPSBNQVpFU1t0aGlzLmxldmVsXTtcblxuICAgIC8vIEZpbmQgc3RhcnQgYW5kIGZpbmlzaCBwb3NpdGlvbnNcbiAgICB0aGlzLnN0YXJ0UG9zID0ge3g6IDAsIHk6IDB9O1xuICAgIHRoaXMuZmluaXNoUG9zID0ge3g6IDAsIHk6IDB9O1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5tYXplLmxlbmd0aDsgeSsrKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubWF6ZVt5XS5sZW5ndGg7IHgrKykge1xuICAgICAgICBpZiAodGhpcy5tYXplW3ldW3hdID09PSBTcXVhcmVUeXBlLlNUQVJUKSB7XG4gICAgICAgICAgdGhpcy5zdGFydFBvcyA9IHt4LCB5fTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1hemVbeV1beF0gPT09IFNxdWFyZVR5cGUuRklOSVNIKSB7XG4gICAgICAgICAgdGhpcy5maW5pc2hQb3MgPSB7eCwgeX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TGV2ZWwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5sZXZlbCArIDE7XG4gIH1cblxuICBwcml2YXRlIGRyYXcoKSB7XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLm1hemVbMF0ubGVuZ3RoICogdGhpcy5zcXVhcmVTaXplO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMubWF6ZS5sZW5ndGggKiB0aGlzLnNxdWFyZVNpemU7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvLyBEcmF3IGJhY2tncm91bmQgaW1hZ2UgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgdXNlIHNvbGlkIGNvbG9yXG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlICYmIHRoaXMuaW1hZ2VzTG9hZGVkICYmIHRoaXMuc2tpbi5iYWNrZ3JvdW5kKSB7XG4gICAgICAvLyBTY2FsZSBiYWNrZ3JvdW5kIHRvIGZpdCBjYW52YXNcbiAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZSh0aGlzLmJhY2tncm91bmRJbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIGNhbnZhcyB3aXRoIGxpZ2h0IGJhY2tncm91bmRcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjRjFFRUU3JztcbiAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8vIERyYXcgb3V0ZXIgYm9yZGVyXG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnI0NDQic7XG4gICAgdGhpcy5jdHgubGluZVdpZHRoID0gMTtcbiAgICB0aGlzLmN0eC5zdHJva2VSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgLy8gRHJhdyBtYXplIC0gdXNlIHRpbGVzIGltYWdlIHdpdGggcHJvcGVyIHNoYXBlIGRldGVjdGlvblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5tYXplLmxlbmd0aDsgeSsrKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubWF6ZVt5XS5sZW5ndGg7IHgrKykge1xuICAgICAgICBjb25zdCBzcXVhcmUgPSB0aGlzLm1hemVbeV1beF07XG4gICAgICAgIGNvbnN0IHB4ID0geCAqIHRoaXMuc3F1YXJlU2l6ZTtcbiAgICAgICAgY29uc3QgcHkgPSB5ICogdGhpcy5zcXVhcmVTaXplO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdGlsZSBzaGFwZSBiYXNlZCBvbiBzdXJyb3VuZGluZyBzcXVhcmVzXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChueDogbnVtYmVyLCBueTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICAgICAgICBpZiAobnggPCAwIHx8IG54ID49IHRoaXMubWF6ZVswXS5sZW5ndGggfHwgbnkgPCAwIHx8IG55ID49IHRoaXMubWF6ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAnMCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aGlzLm1hemVbbnldW254XSA9PT0gU3F1YXJlVHlwZS5XQUxMID8gJzAnIDogJzEnO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCB0aWxlU2hhcGUgPSBub3JtYWxpemUoeCwgeSkgKyAgICAgICAvLyBDZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplKHgsIHkgLSAxKSArICAgIC8vIE5vcnRoXG4gICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZSh4ICsgMSwgeSkgKyAgICAvLyBFYXN0IChub3RlOiBvcmlnaW5hbCB1c2VzIHgrMSBmb3IgV2VzdCBkdWUgdG8gY29vcmRpbmF0ZSBzeXN0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZSh4LCB5ICsgMSkgKyAgICAvLyBTb3V0aFxuICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemUoeCAtIDEsIHkpOyAgICAgLy8gV2VzdCAobm90ZTogb3JpZ2luYWwgdXNlcyB4LTEgZm9yIEVhc3QpXG5cbiAgICAgICAgLy8gT25seSBkcmF3IG5vbi13YWxsIHRpbGVzXG4gICAgICAgIGlmIChzcXVhcmUgIT09IFNxdWFyZVR5cGUuV0FMTCkge1xuICAgICAgICAgIGlmICh0aGlzLnRpbGVzSW1hZ2UgJiYgdGhpcy5pbWFnZXNMb2FkZWQpIHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCB0aWxlIHRvIHVzZVxuICAgICAgICAgICAgbGV0IGZpbmFsU2hhcGUgPSB0aWxlU2hhcGU7XG4gICAgICAgICAgICBpZiAoIVRJTEVfU0hBUEVTW3RpbGVTaGFwZV0pIHtcbiAgICAgICAgICAgICAgLy8gRW1wdHkgc3F1YXJlLiBVc2UgbnVsbDAgZm9yIGxhcmdlIGFyZWFzLCB3aXRoIG51bGwxLTQgZm9yIGJvcmRlcnMuXG4gICAgICAgICAgICAgIGlmICh0aWxlU2hhcGUgPT09ICcwMDAwMCcgJiYgTWF0aC5yYW5kb20oKSA+IDAuMykge1xuICAgICAgICAgICAgICAgIGZpbmFsU2hhcGUgPSAnbnVsbDAnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbmFsU2hhcGUgPSAnbnVsbCcgKyBNYXRoLmZsb29yKDEgKyBNYXRoLnJhbmRvbSgpICogNCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgW3RpbGVDb2wsIHRpbGVSb3ddID0gVElMRV9TSEFQRVNbZmluYWxTaGFwZV0gfHwgWzAsIDBdO1xuICAgICAgICAgICAgY29uc3Qgc3JjWCA9IHRpbGVDb2wgKiA1MDtcbiAgICAgICAgICAgIGNvbnN0IHNyY1kgPSB0aWxlUm93ICogNTA7XG5cbiAgICAgICAgICAgIC8vIERyYXcgdGhlIHRpbGUgZnJvbSB0aGUgc3ByaXRlIHNoZWV0XG4gICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgIHRoaXMudGlsZXNJbWFnZSxcbiAgICAgICAgICAgICAgc3JjWCwgc3JjWSwgNTAsIDUwLFxuICAgICAgICAgICAgICBweCwgcHksIHRoaXMuc3F1YXJlU2l6ZSwgdGhpcy5zcXVhcmVTaXplXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogRHJhdyBwYXRoIHRpbGVzIHdpdGggYnJpZ2h0IHllbGxvdyBoaWdobGlnaHRcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjRkZFNTAwJztcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KHB4LCBweSwgdGhpcy5zcXVhcmVTaXplLCB0aGlzLnNxdWFyZVNpemUpO1xuXG4gICAgICAgICAgICAvLyBBZGQgc3VidGxlIGRhcmtlciBib3JkZXIgdG8gc2VwYXJhdGUgdGlsZXNcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJyNENEMwMDAnO1xuICAgICAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gMjtcbiAgICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QocHgsIHB5LCB0aGlzLnNxdWFyZVNpemUsIHRoaXMuc3F1YXJlU2l6ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRHJhdyBmaW5pc2ggbWFya2VyIHdpdGggaW1hZ2UgaWYgbG9hZGVkXG4gICAgICAgICAgaWYgKHNxdWFyZSA9PT0gU3F1YXJlVHlwZS5GSU5JU0ggJiYgdGhpcy5tYXJrZXJJbWFnZSAmJiB0aGlzLmltYWdlc0xvYWRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWFya2VyV2lkdGggPSAyMDtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlckhlaWdodCA9IDM0O1xuICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICB0aGlzLm1hcmtlckltYWdlLFxuICAgICAgICAgICAgICBweCArICh0aGlzLnNxdWFyZVNpemUgLSBtYXJrZXJXaWR0aCkgLyAyLFxuICAgICAgICAgICAgICBweSArICh0aGlzLnNxdWFyZVNpemUgLSBtYXJrZXJIZWlnaHQpIC8gMiAtIDUsXG4gICAgICAgICAgICAgIG1hcmtlcldpZHRoLFxuICAgICAgICAgICAgICBtYXJrZXJIZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcXVhcmUgPT09IFNxdWFyZVR5cGUuRklOSVNIKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayBpZiBpbWFnZSBub3QgbG9hZGVkXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnI0Y0NDMzNic7XG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmFyYyhcbiAgICAgICAgICAgICAgcHggKyB0aGlzLnNxdWFyZVNpemUgLyAyLFxuICAgICAgICAgICAgICBweSArIHRoaXMuc3F1YXJlU2l6ZSAvIDIsXG4gICAgICAgICAgICAgIHRoaXMuc3F1YXJlU2l6ZSAvIDMsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIDIgKiBNYXRoLlBJXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERyYXcgcGxheWVyIHdpdGggcGVnbWFuIGltYWdlIHVzaW5nIGFuaW1hdGlvbiBmcmFtZVxuICAgIHRoaXMuZHJhd1BlZ21hbih0aGlzLnBsYXllclBvcy54LCB0aGlzLnBsYXllclBvcy55LCB0aGlzLmFuaW1hdGlvbkZyYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHBlZ21hbiBhdCBzcGVjaWZpZWQgcG9zaXRpb24gd2l0aCBnaXZlbiBmcmFtZS5cbiAgICogQHBhcmFtIHggR3JpZCB4IHBvc2l0aW9uIChjYW4gYmUgZnJhY3Rpb25hbCBmb3IgYW5pbWF0aW9uKVxuICAgKiBAcGFyYW0geSBHcmlkIHkgcG9zaXRpb24gKGNhbiBiZSBmcmFjdGlvbmFsIGZvciBhbmltYXRpb24pXG4gICAqIEBwYXJhbSBmcmFtZSBGcmFtZSBudW1iZXIgKDAtMTUgZm9yIGRpcmVjdGlvbnMsIDE2LTE4IGZvciB2aWN0b3J5IGRhbmNlKVxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3UGVnbWFuKHg6IG51bWJlciwgeTogbnVtYmVyLCBmcmFtZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcHggPSB4ICogdGhpcy5zcXVhcmVTaXplO1xuICAgIGNvbnN0IHB5ID0geSAqIHRoaXMuc3F1YXJlU2l6ZTtcblxuICAgIGlmICh0aGlzLnBlZ21hbkltYWdlICYmIHRoaXMuaW1hZ2VzTG9hZGVkKSB7XG4gICAgICAvLyBQZWdtYW4gc3ByaXRlIHNoZWV0IGlzIDEwMjl4NTEgd2l0aCAyMSBmcmFtZXMgKDQ5eDUxIGVhY2gpXG4gICAgICAvLyBGcmFtZXMgMC0xNTogRGlyZWN0aW9ucyAoMTYgZGlyZWN0aW9ucyBmb3Igc21vb3RoIHJvdGF0aW9uKVxuICAgICAgLy8gRnJhbWVzIDE2LTE4OiBWaWN0b3J5IGRhbmNlIGZyYW1lc1xuICAgICAgY29uc3QgZnJhbWVJbmRleCA9IE1hdGgubWluKE1hdGgubWF4KE1hdGguZmxvb3IoZnJhbWUpLCAwKSwgMjApO1xuICAgICAgY29uc3Qgc3JjWCA9IGZyYW1lSW5kZXggKiB0aGlzLlBFR01BTl9XSURUSDtcbiAgICAgIGNvbnN0IHNyY1kgPSAwO1xuXG4gICAgICAvLyBEcmF3IHBlZ21hbiBhdCBhcHByb3ByaWF0ZSBzaXplXG4gICAgICBjb25zdCBkZXN0WCA9IHB4ICsgKHRoaXMuc3F1YXJlU2l6ZSAtIHRoaXMuUEVHTUFOX1dJRFRIKSAvIDI7XG4gICAgICBjb25zdCBkZXN0WSA9IHB5ICsgKHRoaXMuc3F1YXJlU2l6ZSAtIHRoaXMuUEVHTUFOX0hFSUdIVCkgLyAyO1xuXG4gICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIHRoaXMucGVnbWFuSW1hZ2UsXG4gICAgICAgIHNyY1gsXG4gICAgICAgIHNyY1ksXG4gICAgICAgIHRoaXMuUEVHTUFOX1dJRFRILFxuICAgICAgICB0aGlzLlBFR01BTl9IRUlHSFQsXG4gICAgICAgIGRlc3RYLFxuICAgICAgICBkZXN0WSxcbiAgICAgICAgdGhpcy5QRUdNQU5fV0lEVEgsXG4gICAgICAgIHRoaXMuUEVHTUFOX0hFSUdIVFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2sgcmVuZGVyaW5nXG4gICAgICBjb25zdCBjZW50ZXJYID0gcHggKyB0aGlzLnNxdWFyZVNpemUgLyAyO1xuICAgICAgY29uc3QgY2VudGVyWSA9IHB5ICsgdGhpcy5zcXVhcmVTaXplIC8gMjtcblxuICAgICAgLy8gRHJhdyBncmVlbiBiYXNlXG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnIzRDQUY1MCc7XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4LmFyYyhjZW50ZXJYLCBjZW50ZXJZICsgMTAsIHRoaXMuc3F1YXJlU2l6ZSAvIDUsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgIHRoaXMuY3R4LmZpbGwoKTtcblxuICAgICAgLy8gRHJhdyBwbGF5ZXJcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjMjE5NkYzJztcbiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jdHguYXJjKGNlbnRlclgsIGNlbnRlclksIHRoaXMuc3F1YXJlU2l6ZSAvIDQsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgIHRoaXMuY3R4LmZpbGwoKTtcblxuICAgICAgLy8gRHJhdyBkaXJlY3Rpb24gaW5kaWNhdG9yXG4gICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICcjMjE5NkYzJztcbiAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyhjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgIGNvbnN0IGRpclggPSBbMCwgMSwgMCwgLTFdW3RoaXMucGxheWVyRGlyXTtcbiAgICAgIGNvbnN0IGRpclkgPSBbLTEsIDAsIDEsIDBdW3RoaXMucGxheWVyRGlyXTtcbiAgICAgIHRoaXMuY3R4LmxpbmVUbyhcbiAgICAgICAgY2VudGVyWCArIGRpclggKiAodGhpcy5zcXVhcmVTaXplIC8gNCArIDUpLFxuICAgICAgICBjZW50ZXJZICsgZGlyWSAqICh0aGlzLnNxdWFyZVNpemUgLyA0ICsgNSlcbiAgICAgICk7XG4gICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzUGF0aEZvcndhcmQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZGlyWCA9IFswLCAxLCAwLCAtMV1bdGhpcy5wbGF5ZXJEaXJdO1xuICAgIGNvbnN0IGRpclkgPSBbLTEsIDAsIDEsIDBdW3RoaXMucGxheWVyRGlyXTtcbiAgICBjb25zdCBuZXdYID0gdGhpcy5wbGF5ZXJQb3MueCArIGRpclg7XG4gICAgY29uc3QgbmV3WSA9IHRoaXMucGxheWVyUG9zLnkgKyBkaXJZO1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWRQb3NpdGlvbihuZXdYLCBuZXdZKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNQYXRoTGVmdCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBsZWZ0RGlyID0gKHRoaXMucGxheWVyRGlyICsgMykgJSA0O1xuICAgIGNvbnN0IGRpclggPSBbMCwgMSwgMCwgLTFdW2xlZnREaXJdO1xuICAgIGNvbnN0IGRpclkgPSBbLTEsIDAsIDEsIDBdW2xlZnREaXJdO1xuICAgIGNvbnN0IG5ld1ggPSB0aGlzLnBsYXllclBvcy54ICsgZGlyWDtcbiAgICBjb25zdCBuZXdZID0gdGhpcy5wbGF5ZXJQb3MueSArIGRpclk7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZFBvc2l0aW9uKG5ld1gsIG5ld1kpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1BhdGhSaWdodCgpOiBib29sZWFuIHtcbiAgICBjb25zdCByaWdodERpciA9ICh0aGlzLnBsYXllckRpciArIDEpICUgNDtcbiAgICBjb25zdCBkaXJYID0gWzAsIDEsIDAsIC0xXVtyaWdodERpcl07XG4gICAgY29uc3QgZGlyWSA9IFstMSwgMCwgMSwgMF1bcmlnaHREaXJdO1xuICAgIGNvbnN0IG5ld1ggPSB0aGlzLnBsYXllclBvcy54ICsgZGlyWDtcbiAgICBjb25zdCBuZXdZID0gdGhpcy5wbGF5ZXJQb3MueSArIGRpclk7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZFBvc2l0aW9uKG5ld1gsIG5ld1kpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1ZhbGlkUG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLm1hemVbMF0ubGVuZ3RoIHx8IHkgPCAwIHx8IHkgPj0gdGhpcy5tYXplLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXplW3ldW3hdICE9PSBTcXVhcmVUeXBlLldBTEw7XG4gIH1cblxuICBwcml2YXRlIG1vdmVGb3J3YXJkKCk6IHZvaWQge1xuICAgIHRoaXMuY29tbWFuZFF1ZXVlLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGlyWCA9IFswLCAxLCAwLCAtMV1bdGhpcy5wbGF5ZXJEaXJdO1xuICAgICAgY29uc3QgZGlyWSA9IFstMSwgMCwgMSwgMF1bdGhpcy5wbGF5ZXJEaXJdO1xuICAgICAgY29uc3QgbmV3WCA9IHRoaXMucGxheWVyUG9zLnggKyBkaXJYO1xuICAgICAgY29uc3QgbmV3WSA9IHRoaXMucGxheWVyUG9zLnkgKyBkaXJZO1xuXG4gICAgICBpZiAoIXRoaXMuaXNWYWxpZFBvc2l0aW9uKG5ld1gsIG5ld1kpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYW5pbWF0ZUNyYXNoKGRpclgsIGRpclkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNtb290aCBhbmltYXRpb24gd2l0aCA0IHN0ZXBzXG4gICAgICBhd2FpdCB0aGlzLmFuaW1hdGVNb3ZlKHRoaXMucGxheWVyUG9zLngsIHRoaXMucGxheWVyUG9zLnksIG5ld1gsIG5ld1kpO1xuICAgICAgdGhpcy5wbGF5ZXJQb3MueCA9IG5ld1g7XG4gICAgICB0aGlzLnBsYXllclBvcy55ID0gbmV3WTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdHVybkxlZnQoKTogdm9pZCB7XG4gICAgdGhpcy5jb21tYW5kUXVldWUucHVzaChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydEZyYW1lID0gdGhpcy5wbGF5ZXJEaXIgKiA0O1xuICAgICAgY29uc3QgZW5kRGlyID0gKCh0aGlzLnBsYXllckRpciArIDMpICUgNCkgYXMgRGlyZWN0aW9uO1xuICAgICAgY29uc3QgZW5kRnJhbWUgPSBlbmREaXIgKiA0O1xuICAgICAgYXdhaXQgdGhpcy5hbmltYXRlVHVybihzdGFydEZyYW1lLCBlbmRGcmFtZSk7XG4gICAgICB0aGlzLnBsYXllckRpciA9IGVuZERpcjtcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBlbmRGcmFtZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdHVyblJpZ2h0KCk6IHZvaWQge1xuICAgIHRoaXMuY29tbWFuZFF1ZXVlLnB1c2goYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRGcmFtZSA9IHRoaXMucGxheWVyRGlyICogNDtcbiAgICAgIGNvbnN0IGVuZERpciA9ICgodGhpcy5wbGF5ZXJEaXIgKyAxKSAlIDQpIGFzIERpcmVjdGlvbjtcbiAgICAgIGNvbnN0IGVuZEZyYW1lID0gZW5kRGlyICogNDtcbiAgICAgIGF3YWl0IHRoaXMuYW5pbWF0ZVR1cm4oc3RhcnRGcmFtZSwgZW5kRnJhbWUpO1xuICAgICAgdGhpcy5wbGF5ZXJEaXIgPSBlbmREaXI7XG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gZW5kRnJhbWU7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0ZSBzbW9vdGggbW92ZW1lbnQgZnJvbSBvbmUgcG9zaXRpb24gdG8gYW5vdGhlciB3aXRoIDQgaW50ZXJwb2xhdGlvbiBzdGVwcy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgYW5pbWF0ZU1vdmUoc3RhcnRYOiBudW1iZXIsIHN0YXJ0WTogbnVtYmVyLCBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN0ZXBzID0gNDtcbiAgICBjb25zdCBkZWx0YVggPSAoZW5kWCAtIHN0YXJ0WCkgLyBzdGVwcztcbiAgICBjb25zdCBkZWx0YVkgPSAoZW5kWSAtIHN0YXJ0WSkgLyBzdGVwcztcbiAgICBjb25zdCBzdGVwRGVsYXkgPSA3NTsgLy8gNzVtcyBwZXIgc3RlcCA9IDMwMG1zIHRvdGFsXG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdGVwczsgaSsrKSB7XG4gICAgICBjb25zdCB4ID0gc3RhcnRYICsgZGVsdGFYICogaTtcbiAgICAgIGNvbnN0IHkgPSBzdGFydFkgKyBkZWx0YVkgKiBpO1xuICAgICAgdGhpcy5kcmF3UGVnbWFuKHgsIHksIHRoaXMucGxheWVyRGlyICogNCk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIGF3YWl0IHRoaXMuZGVsYXkoc3RlcERlbGF5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0ZSBzbW9vdGggdHVybmluZyB3aXRoIDQgaW50ZXJwb2xhdGlvbiBzdGVwcy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgYW5pbWF0ZVR1cm4oc3RhcnRGcmFtZTogbnVtYmVyLCBlbmRGcmFtZTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3RlcHMgPSA0O1xuICAgIGxldCBkZWx0YSA9IGVuZEZyYW1lIC0gc3RhcnRGcmFtZTtcblxuICAgIC8vIEhhbmRsZSB3cmFwcGluZyAoZS5nLiwgZnJvbSBmcmFtZSAxMiB0byBmcmFtZSAwKVxuICAgIGlmIChkZWx0YSA+IDgpIHtcbiAgICAgIGRlbHRhID0gZGVsdGEgLSAxNjtcbiAgICB9IGVsc2UgaWYgKGRlbHRhIDwgLTgpIHtcbiAgICAgIGRlbHRhID0gZGVsdGEgKyAxNjtcbiAgICB9XG5cbiAgICBjb25zdCBmcmFtZURlbHRhID0gZGVsdGEgLyBzdGVwcztcbiAgICBjb25zdCBzdGVwRGVsYXkgPSA3NTsgLy8gNzVtcyBwZXIgc3RlcCA9IDMwMG1zIHRvdGFsXG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdGVwczsgaSsrKSB7XG4gICAgICBsZXQgZnJhbWUgPSBzdGFydEZyYW1lICsgZnJhbWVEZWx0YSAqIGk7XG4gICAgICAvLyBDb25zdHJhaW4gdG8gMC0xNVxuICAgICAgaWYgKGZyYW1lIDwgMCkgZnJhbWUgKz0gMTY7XG4gICAgICBpZiAoZnJhbWUgPj0gMTYpIGZyYW1lIC09IDE2O1xuXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gZnJhbWU7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIGF3YWl0IHRoaXMuZGVsYXkoc3RlcERlbGF5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0ZSBjcmFzaCBpbnRvIHdhbGwuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFuaW1hdGVDcmFzaChkZWx0YVg6IG51bWJlciwgZGVsdGFZOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jcmFzaEF1ZGlvKSB7XG4gICAgICB0aGlzLmNyYXNoQXVkaW8uY3VycmVudFRpbWUgPSAwO1xuICAgICAgdGhpcy5jcmFzaEF1ZGlvLnBsYXkoKS5jYXRjaCgoKSA9PiB7fSk7IC8vIElnbm9yZSBhdWRpbyBlcnJvcnNcbiAgICB9XG5cbiAgICBpZiAodGhpcy5za2luLmNyYXNoVHlwZSA9PT0gQ3Jhc2hUeXBlLlNUT1ApIHtcbiAgICAgIC8vIEJvdW5jZSBhbmltYXRpb25cbiAgICAgIGNvbnN0IGJvdW5jZURpc3RhbmNlID0gMC4yNTtcbiAgICAgIGNvbnN0IHN0YXJ0WCA9IHRoaXMucGxheWVyUG9zLng7XG4gICAgICBjb25zdCBzdGFydFkgPSB0aGlzLnBsYXllclBvcy55O1xuXG4gICAgICAvLyBNb3ZlIGZvcndhcmQgc2xpZ2h0bHlcbiAgICAgIHRoaXMuZHJhd1BlZ21hbihzdGFydFggKyBkZWx0YVggKiBib3VuY2VEaXN0YW5jZSwgc3RhcnRZICsgZGVsdGFZICogYm91bmNlRGlzdGFuY2UsIHRoaXMucGxheWVyRGlyICogNCk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIGF3YWl0IHRoaXMuZGVsYXkoNzUpO1xuXG4gICAgICAvLyBCb3VuY2UgYmFja1xuICAgICAgdGhpcy5kcmF3UGVnbWFuKHN0YXJ0WCwgc3RhcnRZLCB0aGlzLnBsYXllckRpciAqIDQpO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICBhd2FpdCB0aGlzLmRlbGF5KDc1KTtcblxuICAgICAgLy8gRm9yd2FyZCBhZ2FpblxuICAgICAgdGhpcy5kcmF3UGVnbWFuKHN0YXJ0WCArIGRlbHRhWCAqIGJvdW5jZURpc3RhbmNlLCBzdGFydFkgKyBkZWx0YVkgKiBib3VuY2VEaXN0YW5jZSwgdGhpcy5wbGF5ZXJEaXIgKiA0KTtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgYXdhaXQgdGhpcy5kZWxheSg3NSk7XG5cbiAgICAgIC8vIEZpbmFsIHJldHVyblxuICAgICAgdGhpcy5kcmF3UGVnbWFuKHN0YXJ0WCwgc3RhcnRZLCB0aGlzLnBsYXllckRpciAqIDQpO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICBhd2FpdCB0aGlzLmRlbGF5KDc1KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIFNQSU4gYW5kIEZBTEwsIGRvIGEgc2ltcGxlIGJvdW5jZSBmb3Igbm93XG4gICAgICAvLyAoRnVsbCBpbXBsZW1lbnRhdGlvbiB3b3VsZCBiZSBtb3JlIGNvbXBsZXgpXG4gICAgICBjb25zdCBib3VuY2VEaXN0YW5jZSA9IDAuMjU7XG4gICAgICBjb25zdCBzdGFydFggPSB0aGlzLnBsYXllclBvcy54O1xuICAgICAgY29uc3Qgc3RhcnRZID0gdGhpcy5wbGF5ZXJQb3MueTtcblxuICAgICAgdGhpcy5kcmF3UGVnbWFuKHN0YXJ0WCArIGRlbHRhWCAqIGJvdW5jZURpc3RhbmNlLCBzdGFydFkgKyBkZWx0YVkgKiBib3VuY2VEaXN0YW5jZSwgdGhpcy5wbGF5ZXJEaXIgKiA0KTtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgYXdhaXQgdGhpcy5kZWxheSgxNTApO1xuXG4gICAgICB0aGlzLmRyYXdQZWdtYW4oc3RhcnRYLCBzdGFydFksIHRoaXMucGxheWVyRGlyICogNCk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIGF3YWl0IHRoaXMuZGVsYXkoMTUwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0ZSB2aWN0b3J5IGRhbmNlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBhbmltYXRlVmljdG9yeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy53aW5BdWRpbykge1xuICAgICAgdGhpcy53aW5BdWRpby5jdXJyZW50VGltZSA9IDA7XG4gICAgICB0aGlzLndpbkF1ZGlvLnBsYXkoKS5jYXRjaCgoKSA9PiB7fSk7IC8vIElnbm9yZSBhdWRpbyBlcnJvcnNcbiAgICB9XG5cbiAgICAvLyBWaWN0b3J5IGRhbmNlIHVzZXMgZnJhbWVzIDE2LCAxOCwgMTYgcGF0dGVyblxuICAgIGNvbnN0IGRhbmNlRnJhbWVzID0gWzE2LCAxOCwgMTYsIDE4LCAxNl07XG4gICAgZm9yIChjb25zdCBmcmFtZSBvZiBkYW5jZUZyYW1lcykge1xuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IGZyYW1lO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICBhd2FpdCB0aGlzLmRlbGF5KDE1MCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRvIG5vcm1hbCBmYWNpbmcgZGlyZWN0aW9uXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IHRoaXMucGxheWVyRGlyICogNDtcbiAgICB0aGlzLmRyYXcoKTtcbiAgfVxuXG4gIHByaXZhdGUgbm90RG9uZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wbGF5ZXJQb3MueCAhPT0gdGhpcy5maW5pc2hQb3MueCB8fFxuICAgICAgdGhpcy5wbGF5ZXJQb3MueSAhPT0gdGhpcy5maW5pc2hQb3MueVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGRlbGF5KG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpIHtcbiAgICB0aGlzLnBsYXllclBvcyA9IHsuLi50aGlzLnN0YXJ0UG9zfTtcbiAgICB0aGlzLnBsYXllckRpciA9IERpcmVjdGlvbi5FQVNUO1xuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSB0aGlzLnBsYXllckRpciAqIDQ7XG4gICAgdGhpcy5leGVjdXRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXcoKTtcbiAgfVxuXG4gIHB1YmxpYyBleGVjdXRlKGNvZGU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmV4ZWN1dGluZykge1xuICAgICAgYWxlcnQoJ0FscmVhZHkgZXhlY3V0aW5nIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZXhlY3V0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5jb21tYW5kUXVldWUgPSBbXTtcblxuICAgIC8vIENyZWF0ZSBleGVjdXRpb24gY29udGV4dCAtIGZ1bmN0aW9ucyBxdWV1ZSBjb21tYW5kc1xuICAgIGNvbnN0IGNvbnRleHQ6IGFueSA9IHtcbiAgICAgIG1vdmVGb3J3YXJkOiAoYmxvY2tJZD86IHN0cmluZykgPT4gdGhpcy5tb3ZlRm9yd2FyZCgpLFxuICAgICAgdHVybkxlZnQ6IChibG9ja0lkPzogc3RyaW5nKSA9PiB0aGlzLnR1cm5MZWZ0KCksXG4gICAgICB0dXJuUmlnaHQ6IChibG9ja0lkPzogc3RyaW5nKSA9PiB0aGlzLnR1cm5SaWdodCgpLFxuICAgICAgaXNQYXRoRm9yd2FyZDogKGJsb2NrSWQ/OiBzdHJpbmcpID0+IHRoaXMuaXNQYXRoRm9yd2FyZCgpLFxuICAgICAgaXNQYXRoTGVmdDogKGJsb2NrSWQ/OiBzdHJpbmcpID0+IHRoaXMuaXNQYXRoTGVmdCgpLFxuICAgICAgaXNQYXRoUmlnaHQ6IChibG9ja0lkPzogc3RyaW5nKSA9PiB0aGlzLmlzUGF0aFJpZ2h0KCksXG4gICAgICBub3REb25lOiAoKSA9PiB0aGlzLm5vdERvbmUoKSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEV4ZWN1dGUgY29kZSB0byBidWlsZCBjb21tYW5kIHF1ZXVlXG4gICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3Qua2V5cyhjb250ZXh0KTtcbiAgICAgIGNvbnN0IGFyZ3MgPSBPYmplY3QudmFsdWVzKGNvbnRleHQpO1xuICAgICAgY29uc3QgZm4gPSBuZXcgRnVuY3Rpb24oLi4ucGFyYW1zLCBjb2RlKTtcbiAgICAgIGZuKC4uLmFyZ3MpO1xuXG4gICAgICAvLyBBbmltYXRlIHRoZSBjb21tYW5kIHF1ZXVlXG4gICAgICB0aGlzLmFuaW1hdGVRdWV1ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4ZWN1dGluZyBjb2RlOicsIGUpO1xuICAgICAgYWxlcnQoJ0Vycm9yIGV4ZWN1dGluZyBjb2RlOiAnICsgZSk7XG4gICAgICB0aGlzLmV4ZWN1dGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYW5pbWF0ZVF1ZXVlKCkge1xuICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRRdWV1ZSkge1xuICAgICAgYXdhaXQgY29tbWFuZCgpOyAvLyBDb21tYW5kcyBhcmUgbm93IGFzeW5jXG4gICAgfVxuXG4gICAgdGhpcy5leGVjdXRpbmcgPSBmYWxzZTtcblxuICAgIC8vIENoZWNrIGlmIGZpbmlzaGVkXG4gICAgaWYgKCF0aGlzLm5vdERvbmUoKSkge1xuICAgICAgYXdhaXQgdGhpcy5hbmltYXRlVmljdG9yeSgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGFsZXJ0KCdTdWNjZXNzISBZb3UgcmVhY2hlZCB0aGUgZ29hbCEnKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KCdQcm9ncmFtIGZpbmlzaGVkLCBidXQgeW91IGRpZCBub3QgcmVhY2ggdGhlIGdvYWwuJyk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./maze.ts\n");

/***/ }),

/***/ "./messages.ts":
/*!*********************!*\
  !*** ./messages.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBrowserLocale: () => (/* binding */ getBrowserLocale),\n/* harmony export */   loadMessages: () => (/* binding */ loadMessages)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Internationalization (i18n) messages for Maze game.\n * Adapted from blockly-games translations.\n */\n\n/**\n * Message definitions for all supported languages\n */\nconst MESSAGES = {\n    en: {\n        // Block text\n        MAZE_MOVE_FORWARD: 'move forward',\n        MAZE_TURN_LEFT: 'turn left',\n        MAZE_TURN_RIGHT: 'turn right',\n        MAZE_PATH_AHEAD: 'if path ahead',\n        MAZE_PATH_LEFT: 'if path to the left',\n        MAZE_PATH_RIGHT: 'if path to the right',\n        MAZE_DO: 'do',\n        MAZE_ELSE: 'else',\n        MAZE_REPEAT_UNTIL: 'repeat until',\n        // Tooltips\n        MAZE_MOVE_FORWARD_TOOLTIP: 'Moves the player forward one space.',\n        MAZE_TURN_TOOLTIP: 'Turns the player left or right by 90 degrees.',\n        MAZE_IF_TOOLTIP: 'If there is a path in the specified direction, then do some actions.',\n        MAZE_IFELSE_TOOLTIP: 'If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.',\n        MAZE_WHILE_TOOLTIP: 'Repeat the enclosed actions until the finish point is reached.',\n        // UI strings\n        MAZE_RUN_PROGRAM: 'Run Program',\n        MAZE_RESET_PROGRAM: 'Reset',\n        MAZE_CAPACITY: 'You have %1 blocks left.',\n        MAZE_CONGRATULATIONS: 'Congratulations!',\n    },\n    fr: {\n        // Block text\n        MAZE_MOVE_FORWARD: 'avancer',\n        MAZE_TURN_LEFT: 'tourner  gauche',\n        MAZE_TURN_RIGHT: 'tourner  droite',\n        MAZE_PATH_AHEAD: 'si chemin devant',\n        MAZE_PATH_LEFT: 'si chemin vers la gauche',\n        MAZE_PATH_RIGHT: 'si chemin vers la droite',\n        MAZE_DO: 'faire',\n        MAZE_ELSE: 'sinon',\n        MAZE_REPEAT_UNTIL: 'rpter jusqu\\'',\n        // Tooltips\n        MAZE_MOVE_FORWARD_TOOLTIP: 'Avance le joueur d\\'une case.',\n        MAZE_TURN_TOOLTIP: 'Tourne le joueur  gauche ou  droite de 90 degrs.',\n        MAZE_IF_TOOLTIP: 'S\\'il y a un chemin dans la direction spcifie, alors effectue ces actions.',\n        MAZE_IFELSE_TOOLTIP: 'S\\'il y a un chemin dans la direction spcifie, alors fais le premier bloc d\\'actions. Sinon fais le second bloc d\\'actions.',\n        MAZE_WHILE_TOOLTIP: 'Rpte les actions  l\\'intrieur du bloc jusqu\\' atteindre le but final.',\n        // UI strings\n        MAZE_RUN_PROGRAM: 'Excuter le programme',\n        MAZE_RESET_PROGRAM: 'Rinitialiser',\n        MAZE_CAPACITY: 'Il vous reste %1 blocs.',\n        MAZE_CONGRATULATIONS: 'Flicitations !',\n    },\n};\n/**\n * Load messages for the specified locale into Blockly.Msg\n * @param locale The locale to load (defaults to 'en')\n */\nfunction loadMessages(locale = 'en') {\n    const messages = MESSAGES[locale];\n    if (!messages) {\n        console.warn(`Locale '${locale}' not supported, falling back to English`);\n        locale = 'en';\n    }\n    // Load all messages into Blockly.Msg\n    Object.entries(MESSAGES[locale]).forEach(([key, value]) => {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg[key] = value;\n    });\n    console.log(`Loaded maze game messages for locale: ${locale}`);\n}\n/**\n * Get the current browser locale, or default to English\n * @returns A supported locale code\n */\nfunction getBrowserLocale() {\n    const browserLang = navigator.language || navigator.userLanguage || 'en';\n    const langCode = browserLang.toLowerCase().split('-')[0];\n    // Check if we support this language\n    if (langCode === 'fr') {\n        return 'fr';\n    }\n    // Default to English\n    return 'en';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ3JCLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL21lc3NhZ2VzLnRzP2M1ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTIgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSW50ZXJuYXRpb25hbGl6YXRpb24gKGkxOG4pIG1lc3NhZ2VzIGZvciBNYXplIGdhbWUuXG4gKiBBZGFwdGVkIGZyb20gYmxvY2tseS1nYW1lcyB0cmFuc2xhdGlvbnMuXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG4vKipcbiAqIFN1cHBvcnRlZCBsYW5ndWFnZXMgZm9yIHRoZSBtYXplIGdhbWVcbiAqL1xuZXhwb3J0IHR5cGUgU3VwcG9ydGVkTG9jYWxlID0gJ2VuJyB8ICdmcic7XG5cbi8qKlxuICogTWVzc2FnZSBkZWZpbml0aW9ucyBmb3IgYWxsIHN1cHBvcnRlZCBsYW5ndWFnZXNcbiAqL1xuY29uc3QgTUVTU0FHRVM6IFJlY29yZDxTdXBwb3J0ZWRMb2NhbGUsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuICBlbjoge1xuICAgIC8vIEJsb2NrIHRleHRcbiAgICBNQVpFX01PVkVfRk9SV0FSRDogJ21vdmUgZm9yd2FyZCcsXG4gICAgTUFaRV9UVVJOX0xFRlQ6ICd0dXJuIGxlZnQnLFxuICAgIE1BWkVfVFVSTl9SSUdIVDogJ3R1cm4gcmlnaHQnLFxuICAgIE1BWkVfUEFUSF9BSEVBRDogJ2lmIHBhdGggYWhlYWQnLFxuICAgIE1BWkVfUEFUSF9MRUZUOiAnaWYgcGF0aCB0byB0aGUgbGVmdCcsXG4gICAgTUFaRV9QQVRIX1JJR0hUOiAnaWYgcGF0aCB0byB0aGUgcmlnaHQnLFxuICAgIE1BWkVfRE86ICdkbycsXG4gICAgTUFaRV9FTFNFOiAnZWxzZScsXG4gICAgTUFaRV9SRVBFQVRfVU5USUw6ICdyZXBlYXQgdW50aWwnLFxuXG4gICAgLy8gVG9vbHRpcHNcbiAgICBNQVpFX01PVkVfRk9SV0FSRF9UT09MVElQOiAnTW92ZXMgdGhlIHBsYXllciBmb3J3YXJkIG9uZSBzcGFjZS4nLFxuICAgIE1BWkVfVFVSTl9UT09MVElQOiAnVHVybnMgdGhlIHBsYXllciBsZWZ0IG9yIHJpZ2h0IGJ5IDkwIGRlZ3JlZXMuJyxcbiAgICBNQVpFX0lGX1RPT0xUSVA6ICdJZiB0aGVyZSBpcyBhIHBhdGggaW4gdGhlIHNwZWNpZmllZCBkaXJlY3Rpb24sIHRoZW4gZG8gc29tZSBhY3Rpb25zLicsXG4gICAgTUFaRV9JRkVMU0VfVE9PTFRJUDpcbiAgICAgICdJZiB0aGVyZSBpcyBhIHBhdGggaW4gdGhlIHNwZWNpZmllZCBkaXJlY3Rpb24sIHRoZW4gZG8gdGhlIGZpcnN0IGJsb2NrIG9mIGFjdGlvbnMuIE90aGVyd2lzZSwgZG8gdGhlIHNlY29uZCBibG9jayBvZiBhY3Rpb25zLicsXG4gICAgTUFaRV9XSElMRV9UT09MVElQOiAnUmVwZWF0IHRoZSBlbmNsb3NlZCBhY3Rpb25zIHVudGlsIHRoZSBmaW5pc2ggcG9pbnQgaXMgcmVhY2hlZC4nLFxuXG4gICAgLy8gVUkgc3RyaW5nc1xuICAgIE1BWkVfUlVOX1BST0dSQU06ICdSdW4gUHJvZ3JhbScsXG4gICAgTUFaRV9SRVNFVF9QUk9HUkFNOiAnUmVzZXQnLFxuICAgIE1BWkVfQ0FQQUNJVFk6ICdZb3UgaGF2ZSAlMSBibG9ja3MgbGVmdC4nLFxuICAgIE1BWkVfQ09OR1JBVFVMQVRJT05TOiAnQ29uZ3JhdHVsYXRpb25zIScsXG4gIH0sXG5cbiAgZnI6IHtcbiAgICAvLyBCbG9jayB0ZXh0XG4gICAgTUFaRV9NT1ZFX0ZPUldBUkQ6ICdhdmFuY2VyJyxcbiAgICBNQVpFX1RVUk5fTEVGVDogJ3RvdXJuZXIgw6AgZ2F1Y2hlJyxcbiAgICBNQVpFX1RVUk5fUklHSFQ6ICd0b3VybmVyIMOgIGRyb2l0ZScsXG4gICAgTUFaRV9QQVRIX0FIRUFEOiAnc2kgY2hlbWluIGRldmFudCcsXG4gICAgTUFaRV9QQVRIX0xFRlQ6ICdzaSBjaGVtaW4gdmVycyBsYSBnYXVjaGUnLFxuICAgIE1BWkVfUEFUSF9SSUdIVDogJ3NpIGNoZW1pbiB2ZXJzIGxhIGRyb2l0ZScsXG4gICAgTUFaRV9ETzogJ2ZhaXJlJyxcbiAgICBNQVpFX0VMU0U6ICdzaW5vbicsXG4gICAgTUFaRV9SRVBFQVRfVU5USUw6ICdyw6lww6l0ZXIganVzcXVcXCfDoCcsXG5cbiAgICAvLyBUb29sdGlwc1xuICAgIE1BWkVfTU9WRV9GT1JXQVJEX1RPT0xUSVA6ICdBdmFuY2UgbGUgam91ZXVyIGRcXCd1bmUgY2FzZS4nLFxuICAgIE1BWkVfVFVSTl9UT09MVElQOiAnVG91cm5lIGxlIGpvdWV1ciDDoCBnYXVjaGUgb3Ugw6AgZHJvaXRlIGRlIDkwIGRlZ3LDqXMuJyxcbiAgICBNQVpFX0lGX1RPT0xUSVA6XG4gICAgICAnU1xcJ2lsIHkgYSB1biBjaGVtaW4gZGFucyBsYSBkaXJlY3Rpb24gc3DDqWNpZmnDqWUsIGFsb3JzIGVmZmVjdHVlIGNlcyBhY3Rpb25zLicsXG4gICAgTUFaRV9JRkVMU0VfVE9PTFRJUDpcbiAgICAgICdTXFwnaWwgeSBhIHVuIGNoZW1pbiBkYW5zIGxhIGRpcmVjdGlvbiBzcMOpY2lmacOpZSwgYWxvcnMgZmFpcyBsZSBwcmVtaWVyIGJsb2MgZFxcJ2FjdGlvbnMuIFNpbm9uIGZhaXMgbGUgc2Vjb25kIGJsb2MgZFxcJ2FjdGlvbnMuJyxcbiAgICBNQVpFX1dISUxFX1RPT0xUSVA6XG4gICAgICAnUsOpcMOodGUgbGVzIGFjdGlvbnMgw6AgbFxcJ2ludMOpcmlldXIgZHUgYmxvYyBqdXNxdVxcJ8OgIGF0dGVpbmRyZSBsZSBidXQgZmluYWwuJyxcblxuICAgIC8vIFVJIHN0cmluZ3NcbiAgICBNQVpFX1JVTl9QUk9HUkFNOiAnRXjDqWN1dGVyIGxlIHByb2dyYW1tZScsXG4gICAgTUFaRV9SRVNFVF9QUk9HUkFNOiAnUsOpaW5pdGlhbGlzZXInLFxuICAgIE1BWkVfQ0FQQUNJVFk6ICdJbCB2b3VzIHJlc3RlICUxIGJsb2NzLicsXG4gICAgTUFaRV9DT05HUkFUVUxBVElPTlM6ICdGw6lsaWNpdGF0aW9ucyAhJyxcbiAgfSxcbn07XG5cbi8qKlxuICogTG9hZCBtZXNzYWdlcyBmb3IgdGhlIHNwZWNpZmllZCBsb2NhbGUgaW50byBCbG9ja2x5Lk1zZ1xuICogQHBhcmFtIGxvY2FsZSBUaGUgbG9jYWxlIHRvIGxvYWQgKGRlZmF1bHRzIHRvICdlbicpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTWVzc2FnZXMobG9jYWxlOiBTdXBwb3J0ZWRMb2NhbGUgPSAnZW4nKTogdm9pZCB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gTUVTU0FHRVNbbG9jYWxlXTtcblxuICBpZiAoIW1lc3NhZ2VzKSB7XG4gICAgY29uc29sZS53YXJuKGBMb2NhbGUgJyR7bG9jYWxlfScgbm90IHN1cHBvcnRlZCwgZmFsbGluZyBiYWNrIHRvIEVuZ2xpc2hgKTtcbiAgICBsb2NhbGUgPSAnZW4nO1xuICB9XG5cbiAgLy8gTG9hZCBhbGwgbWVzc2FnZXMgaW50byBCbG9ja2x5Lk1zZ1xuICBPYmplY3QuZW50cmllcyhNRVNTQUdFU1tsb2NhbGVdKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBCbG9ja2x5Lk1zZ1trZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKGBMb2FkZWQgbWF6ZSBnYW1lIG1lc3NhZ2VzIGZvciBsb2NhbGU6ICR7bG9jYWxlfWApO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBicm93c2VyIGxvY2FsZSwgb3IgZGVmYXVsdCB0byBFbmdsaXNoXG4gKiBAcmV0dXJucyBBIHN1cHBvcnRlZCBsb2NhbGUgY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJvd3NlckxvY2FsZSgpOiBTdXBwb3J0ZWRMb2NhbGUge1xuICBjb25zdCBicm93c2VyTGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZSB8fCAobmF2aWdhdG9yIGFzIGFueSkudXNlckxhbmd1YWdlIHx8ICdlbic7XG4gIGNvbnN0IGxhbmdDb2RlID0gYnJvd3NlckxhbmcudG9Mb3dlckNhc2UoKS5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIENoZWNrIGlmIHdlIHN1cHBvcnQgdGhpcyBsYW5ndWFnZVxuICBpZiAobGFuZ0NvZGUgPT09ICdmcicpIHtcbiAgICByZXR1cm4gJ2ZyJztcbiAgfVxuXG4gIC8vIERlZmF1bHQgdG8gRW5nbGlzaFxuICByZXR1cm4gJ2VuJztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./messages.ts\n");

/***/ }),

/***/ "../../node_modules/blockly/blockly_compressed.js":
/*!********************************************************!*\
  !*** ../../node_modules/blockly/blockly_compressed.js ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function() {\nvar $={};\nvar register$$module$build$src$core$registry,validate$$module$build$src$core$registry,unregister$$module$build$src$core$registry,getItem$$module$build$src$core$registry,hasItem$$module$build$src$core$registry,getClass$$module$build$src$core$registry,getObject$$module$build$src$core$registry,getAllItems$$module$build$src$core$registry,getClassFromOptions$$module$build$src$core$registry,longStart$$module$build$src$core$touch,longStop$$module$build$src$core$touch,clearTouchIdentifier$$module$build$src$core$touch,\nshouldHandleEvent$$module$build$src$core$touch,getTouchIdentifierFromEvent$$module$build$src$core$touch,checkTouchIdentifier$$module$build$src$core$touch,conditionalBind$$module$build$src$core$browser_events,bind$$module$build$src$core$browser_events,unbind$$module$build$src$core$browser_events,isTargetInput$$module$build$src$core$browser_events,isRightButton$$module$build$src$core$browser_events,mouseToSvg$$module$build$src$core$browser_events,getScrollDeltaPixels$$module$build$src$core$browser_events,\ngetNextUniqueId$$module$build$src$core$utils$idgenerator,genUid$$module$build$src$core$utils$idgenerator,isBlockCreate$$module$build$src$core$events$predicates,isBlockDelete$$module$build$src$core$events$predicates,isBlockChange$$module$build$src$core$events$predicates,isBlockFieldIntermediateChange$$module$build$src$core$events$predicates,isBlockMove$$module$build$src$core$events$predicates,isVarCreate$$module$build$src$core$events$predicates,isVarDelete$$module$build$src$core$events$predicates,\nisVarRename$$module$build$src$core$events$predicates,isBlockDrag$$module$build$src$core$events$predicates,isSelected$$module$build$src$core$events$predicates,isClick$$module$build$src$core$events$predicates,isBubbleOpen$$module$build$src$core$events$predicates,isTrashcanOpen$$module$build$src$core$events$predicates,isToolboxItemSelect$$module$build$src$core$events$predicates,isThemeChange$$module$build$src$core$events$predicates,isViewportChange$$module$build$src$core$events$predicates,isCommentCreate$$module$build$src$core$events$predicates,\nisCommentDelete$$module$build$src$core$events$predicates,isCommentChange$$module$build$src$core$events$predicates,isCommentMove$$module$build$src$core$events$predicates,isCommentResize$$module$build$src$core$events$predicates,isCommentDrag$$module$build$src$core$events$predicates,isCommentCollapse$$module$build$src$core$events$predicates,isFinishedLoading$$module$build$src$core$events$predicates,getRecordUndo$$module$build$src$core$events$utils,fire$$module$build$src$core$events$utils,fireInternal$$module$build$src$core$events$utils,\nfireNow$$module$build$src$core$events$utils,enqueueEvent$$module$build$src$core$events$utils,filter$$module$build$src$core$events$utils,clearPendingUndo$$module$build$src$core$events$utils,isEnabled$$module$build$src$core$events$utils,setGroupInternal$$module$build$src$core$events$utils,getDescendantIds$$module$build$src$core$events$utils,fromJson$$module$build$src$core$events$utils,get$$module$build$src$core$events$utils,disableOrphans$$module$build$src$core$events$utils,createSvgElement$$module$build$src$core$utils$dom,\naddClass$$module$build$src$core$utils$dom,removeClasses$$module$build$src$core$utils$dom,removeClass$$module$build$src$core$utils$dom,hasClass$$module$build$src$core$utils$dom,removeNode$$module$build$src$core$utils$dom,insertAfter$$module$build$src$core$utils$dom,setCssTransform$$module$build$src$core$utils$dom,startTextWidthCache$$module$build$src$core$utils$dom,stopTextWidthCache$$module$build$src$core$utils$dom,getTextWidth$$module$build$src$core$utils$dom,getFastTextWidth$$module$build$src$core$utils$dom,\ngetFastTextWidthWithSizeString$$module$build$src$core$utils$dom,measureFontMetrics$$module$build$src$core$utils$dom,isFocusableNode$$module$build$src$core$interfaces$i_focusable_node,isSelectable$$module$build$src$core$interfaces$i_selectable,deepMerge$$module$build$src$core$utils$object,getWorkspaceById$$module$build$src$core$common,getAllWorkspaces$$module$build$src$core$common,registerWorkspace$$module$build$src$core$common,unregisterWorkpace$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$common,\nsetMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$common,setSelected$$module$build$src$core$common,fireSelectedEvent$$module$build$src$core$common,getParentContainer$$module$build$src$core$common,setParentContainer$$module$build$src$core$common,svgResize$$module$build$src$core$common,getBlockTypeCounts$$module$build$src$core$common,jsonInitFactory$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$common,defineBlocksWithJsonArrayInternal$$module$build$src$core$common,\nglobalShortcutHandler$$module$build$src$core$common,removeElem$$module$build$src$core$utils$array,register$$module$build$src$core$css,inject$$module$build$src$core$css,getSize$$module$build$src$core$utils$style,getSizeInternal$$module$build$src$core$utils$style,getSizeWithDisplay$$module$build$src$core$utils$style,getComputedStyle$$module$build$src$core$utils$style,getPageOffset$$module$build$src$core$utils$style,getViewportPageOffset$$module$build$src$core$utils$style,getBorderBox$$module$build$src$core$utils$style,\nscrollIntoContainerView$$module$build$src$core$utils$style,getContainerOffsetToScrollInto$$module$build$src$core$utils$style,getRelativeXY$$module$build$src$core$utils$svg_math,getInjectionDivXY$$module$build$src$core$utils$svg_math,getViewportBBox$$module$build$src$core$utils$svg_math,getDocumentScroll$$module$build$src$core$utils$svg_math,screenToWsCoordinates$$module$build$src$core$utils$svg_math,wsToScreenCoordinates$$module$build$src$core$utils$svg_math,injectDependencies$$module$build$src$core$utils$xml,\ndomToText$$module$build$src$core$utils$xml,sanitizeText$$module$build$src$core$utils$xml,convertToolboxDefToJson$$module$build$src$core$utils$toolbox,validateToolbox$$module$build$src$core$utils$toolbox,convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox,hasCategories$$module$build$src$core$utils$toolbox,hasCategoriesInternal$$module$build$src$core$utils$toolbox,isCategoryCollapsible$$module$build$src$core$utils$toolbox,convertToToolboxJson$$module$build$src$core$utils$toolbox,xmlToJsonArray$$module$build$src$core$utils$toolbox,\naddAttributes$$module$build$src$core$utils$toolbox,parseToolboxTree$$module$build$src$core$utils$toolbox,getStartPositionRect$$module$build$src$core$positionable_helpers,getCornerOppositeToolbox$$module$build$src$core$positionable_helpers,bumpPositionRect$$module$build$src$core$positionable_helpers,register$$module$build$src$core$serialization$registry,unregister$$module$build$src$core$serialization$registry,save$$module$build$src$core$serialization$workspace_comments,append$$module$build$src$core$serialization$workspace_comments,\nregister$$module$build$src$core$clipboard$registry,unregister$$module$build$src$core$clipboard$registry,moveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster,commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster,setRole$$module$build$src$core$utils$aria,setState$$module$build$src$core$utils$aria,isSerializable$$module$build$src$core$interfaces$i_serializable,queueRender$$module$build$src$core$render_management,finishQueuedRenders$$module$build$src$core$render_management,\ntriggerQueuedRenders$$module$build$src$core$render_management,alwaysImmediatelyRender$$module$build$src$core$render_management,queueBlock$$module$build$src$core$render_management,doRenders$$module$build$src$core$render_management,dequeueBlock$$module$build$src$core$render_management,shouldRenderRootBlock$$module$build$src$core$render_management,renderBlock$$module$build$src$core$render_management,alert$$module$build$src$core$dialog,setAlert$$module$build$src$core$dialog,confirm$$module$build$src$core$dialog,\nsetConfirm$$module$build$src$core$dialog,prompt$$module$build$src$core$dialog,setPrompt$$module$build$src$core$dialog,toast$$module$build$src$core$dialog,setToast$$module$build$src$core$dialog,isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model,warn$$module$build$src$core$utils$deprecation,\ninternalFlyoutCategory$$module$build$src$core$variables,flyoutCategory$$module$build$src$core$variables,generateVariableFieldJson$$module$build$src$core$variables,jsonFlyoutCategoryBlocks$$module$build$src$core$variables,xmlFlyoutCategory$$module$build$src$core$variables,flyoutCategoryBlocks$$module$build$src$core$variables,generateUniqueName$$module$build$src$core$variables,generateUniqueNameInternal$$module$build$src$core$variables,generateUniqueNameFromOptions$$module$build$src$core$variables,\ncreateVariableButtonHandler$$module$build$src$core$variables,promptName$$module$build$src$core$variables,nameUsedWithOtherType$$module$build$src$core$variables,nameUsedWithAnyType$$module$build$src$core$variables,nameUsedWithConflictingParam$$module$build$src$core$variables,checkForConflictingParamWithProcedureModels$$module$build$src$core$variables,checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables,generateVariableFieldDom$$module$build$src$core$variables,createVariable$$module$build$src$core$variables,\ngetAddedVariables$$module$build$src$core$variables,compareByName$$module$build$src$core$variables,getVariableUsesById$$module$build$src$core$variables,save$$module$build$src$core$serialization$blocks,saveAttributes$$module$build$src$core$serialization$blocks,saveCoords$$module$build$src$core$serialization$blocks,saveExtraState$$module$build$src$core$serialization$blocks,saveIcons$$module$build$src$core$serialization$blocks,saveFields$$module$build$src$core$serialization$blocks,saveInputBlocks$$module$build$src$core$serialization$blocks,\nsaveNextBlocks$$module$build$src$core$serialization$blocks,saveConnection$$module$build$src$core$serialization$blocks,append$$module$build$src$core$serialization$blocks,appendInternal$$module$build$src$core$serialization$blocks,appendPrivate$$module$build$src$core$serialization$blocks,checkNewVariables$$module$build$src$core$serialization$blocks,loadCoords$$module$build$src$core$serialization$blocks,loadAttributes$$module$build$src$core$serialization$blocks,loadExtraState$$module$build$src$core$serialization$blocks,\ntryToConnectParent$$module$build$src$core$serialization$blocks,loadIcons$$module$build$src$core$serialization$blocks,loadFields$$module$build$src$core$serialization$blocks,loadInputBlocks$$module$build$src$core$serialization$blocks,loadNextBlocks$$module$build$src$core$serialization$blocks,loadConnection$$module$build$src$core$serialization$blocks,initBlock$$module$build$src$core$serialization$blocks,hasBubble$$module$build$src$core$interfaces$i_has_bubble,toRadians$$module$build$src$core$utils$math,\ntoDegrees$$module$build$src$core$utils$math,clamp$$module$build$src$core$utils$math,createDom$$module$build$src$core$dropdowndiv,setBoundsElement$$module$build$src$core$dropdowndiv,getOwner$$module$build$src$core$dropdowndiv,getContentDiv$$module$build$src$core$dropdowndiv,clearContent$$module$build$src$core$dropdowndiv,setColour$$module$build$src$core$dropdowndiv,showPositionedByBlock$$module$build$src$core$dropdowndiv,showPositionedByField$$module$build$src$core$dropdowndiv,getScaledBboxOfBlock$$module$build$src$core$dropdowndiv,\ngetScaledBboxOfField$$module$build$src$core$dropdowndiv,showPositionedByRect$$module$build$src$core$dropdowndiv,show$$module$build$src$core$dropdowndiv,getPositionBelowMetrics$$module$build$src$core$dropdowndiv,getPositionAboveMetrics$$module$build$src$core$dropdowndiv,getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv,getPositionX$$module$build$src$core$dropdowndiv,isVisible$$module$build$src$core$dropdowndiv,hideIfOwner$$module$build$src$core$dropdowndiv,hide$$module$build$src$core$dropdowndiv,\nhideWithoutAnimation$$module$build$src$core$dropdowndiv,positionInternal$$module$build$src$core$dropdowndiv,repositionForWindowResize$$module$build$src$core$dropdowndiv,shortestStringLength$$module$build$src$core$utils$string,commonWordPrefix$$module$build$src$core$utils$string,commonWordSuffix$$module$build$src$core$utils$string,wrapLine$$module$build$src$core$utils$string,wrapScore$$module$build$src$core$utils$string,wrapMutate$$module$build$src$core$utils$string,wrapToText$$module$build$src$core$utils$string,\nsetCustomTooltip$$module$build$src$core$tooltip,getCustomTooltip$$module$build$src$core$tooltip,isVisible$$module$build$src$core$tooltip,getDiv$$module$build$src$core$tooltip,getTooltipOfObject$$module$build$src$core$tooltip,getTargetObject$$module$build$src$core$tooltip,createDom$$module$build$src$core$tooltip,bindMouseEvents$$module$build$src$core$tooltip,unbindMouseEvents$$module$build$src$core$tooltip,onMouseOver$$module$build$src$core$tooltip,onMouseOut$$module$build$src$core$tooltip,onMouseMove$$module$build$src$core$tooltip,\ndispose$$module$build$src$core$tooltip,hide$$module$build$src$core$tooltip,block$$module$build$src$core$tooltip,unblock$$module$build$src$core$tooltip,renderContent$$module$build$src$core$tooltip,renderDefaultContent$$module$build$src$core$tooltip,getPosition$$module$build$src$core$tooltip,show$$module$build$src$core$tooltip,getHsvSaturation$$module$build$src$core$utils$colour,setHsvSaturation$$module$build$src$core$utils$colour,getHsvValue$$module$build$src$core$utils$colour,setHsvValue$$module$build$src$core$utils$colour,\nparse$$module$build$src$core$utils$colour,rgbToHex$$module$build$src$core$utils$colour,hexToRgb$$module$build$src$core$utils$colour,hsvToHex$$module$build$src$core$utils$colour,blend$$module$build$src$core$utils$colour,hueToHex$$module$build$src$core$utils$colour,tokenizeInterpolationInternal$$module$build$src$core$utils$parsing,tokenizeInterpolation$$module$build$src$core$utils$parsing,replaceMessageReferences$$module$build$src$core$utils$parsing,checkMessageReferences$$module$build$src$core$utils$parsing,\nparseBlockColour$$module$build$src$core$utils$parsing,getDiv$$module$build$src$core$widgetdiv,testOnly_setDiv$$module$build$src$core$widgetdiv,createDom$$module$build$src$core$widgetdiv,show$$module$build$src$core$widgetdiv,hide$$module$build$src$core$widgetdiv,isVisible$$module$build$src$core$widgetdiv,hideIfOwner$$module$build$src$core$widgetdiv,hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv,positionInternal$$module$build$src$core$widgetdiv,positionWithAnchor$$module$build$src$core$widgetdiv,\ncalculateX$$module$build$src$core$widgetdiv,calculateY$$module$build$src$core$widgetdiv,isRepositionable$$module$build$src$core$widgetdiv,repositionForWindowResize$$module$build$src$core$widgetdiv,getCurrentBlock$$module$build$src$core$contextmenu,setCurrentBlock$$module$build$src$core$contextmenu,show$$module$build$src$core$contextmenu,populate_$$module$build$src$core$contextmenu,position_$$module$build$src$core$contextmenu,createWidget_$$module$build$src$core$contextmenu,haltPropagation$$module$build$src$core$contextmenu,\nhide$$module$build$src$core$contextmenu,dispose$$module$build$src$core$contextmenu,mouseToWorkspacePoint$$module$build$src$core$utils$drag,start$$module$build$src$core$utils$drag,move$$module$build$src$core$utils$drag,workspaceToDom$$module$build$src$core$xml,saveWorkspaceComment$$module$build$src$core$xml,variablesToDom$$module$build$src$core$xml,blockToDomWithXY$$module$build$src$core$xml,fieldToDom$$module$build$src$core$xml,allFieldsToDom$$module$build$src$core$xml,blockToDom$$module$build$src$core$xml,\ncloneShadow$$module$build$src$core$xml,domToText$$module$build$src$core$xml,domToPrettyText$$module$build$src$core$xml,clearWorkspaceAndLoadFromXml$$module$build$src$core$xml,loadWorkspaceComment$$module$build$src$core$xml,appendDomToWorkspace$$module$build$src$core$xml,domToBlockInternal$$module$build$src$core$xml,domToVariables$$module$build$src$core$xml,mapSupportedXmlTags$$module$build$src$core$xml,applyMutationTagNodes$$module$build$src$core$xml,applyCommentTagNodes$$module$build$src$core$xml,\napplyDataTagNodes$$module$build$src$core$xml,applyFieldTagNodes$$module$build$src$core$xml,findChildBlocks$$module$build$src$core$xml,applyInputTagNodes$$module$build$src$core$xml,applyNextTagNodes$$module$build$src$core$xml,domToBlockHeadless$$module$build$src$core$xml,domToField$$module$build$src$core$xml,deleteNext$$module$build$src$core$xml,isElement$$module$build$src$core$xml,register$$module$build$src$core$field_registry,unregister$$module$build$src$core$field_registry,fromJsonInternal$$module$build$src$core$field_registry,\nisImageProperties$$module$build$src$core$field_dropdown,unregister$$module$build$src$core$extensions,isRegistered$$module$build$src$core$extensions,apply$$module$build$src$core$extensions,checkNoMutatorProperties$$module$build$src$core$extensions,checkXmlHooks$$module$build$src$core$extensions,checkJsonHooks$$module$build$src$core$extensions,checkMutatorDialog$$module$build$src$core$extensions,checkHasFunctionPair$$module$build$src$core$extensions,checkHasMutatorProperties$$module$build$src$core$extensions,\ngetMutatorProperties$$module$build$src$core$extensions,mutatorPropertiesMatch$$module$build$src$core$extensions,runAfterPageLoad$$module$build$src$core$extensions,checkDropdownOptionsInTable$$module$build$src$core$extensions,extensionParentTooltip$$module$build$src$core$extensions,point$$module$build$src$core$utils$svg_paths,curve$$module$build$src$core$utils$svg_paths,moveTo$$module$build$src$core$utils$svg_paths,moveBy$$module$build$src$core$utils$svg_paths,lineTo$$module$build$src$core$utils$svg_paths,\nline$$module$build$src$core$utils$svg_paths,lineOnAxis$$module$build$src$core$utils$svg_paths,arc$$module$build$src$core$utils$svg_paths,connectReciprocally$$module$build$src$core$connection,getSingleConnection$$module$build$src$core$connection,getConnectionForOrphanedOutput$$module$build$src$core$connection,isIcon$$module$build$src$core$interfaces$i_icon,isCommentIcon$$module$build$src$core$interfaces$i_comment_icon,disposeUiEffect$$module$build$src$core$block_animations,disposeUiStep$$module$build$src$core$block_animations,\nconnectionUiEffect$$module$build$src$core$block_animations,disconnectUiEffect$$module$build$src$core$block_animations,disconnectUiStep$$module$build$src$core$block_animations,disconnectUiStop$$module$build$src$core$block_animations,moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster,blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster,blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster,bumpObjectIntoBounds$$module$build$src$core$bump_objects,bumpIntoBoundsHandler$$module$build$src$core$bump_objects,\nextractObjectFromEvent$$module$build$src$core$bump_objects,bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects,isDeletable$$module$build$src$core$interfaces$i_deletable,getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy,navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy,navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy,register$$module$build$src$core$icons$registry,unregister$$module$build$src$core$icons$registry,\nisDraggable$$module$build$src$core$interfaces$i_draggable,isAutoHideable$$module$build$src$core$interfaces$i_autohideable,isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block,isObservable$$module$build$src$core$interfaces$i_observable,allProcedures$$module$build$src$core$procedures,procTupleComparator$$module$build$src$core$procedures,isLegalName$$module$build$src$core$procedures,isNameUsed$$module$build$src$core$procedures,xmlFlyoutCategory$$module$build$src$core$procedures,internalFlyoutCategory$$module$build$src$core$procedures,\nflyoutCategory$$module$build$src$core$procedures,updateMutatorFlyout$$module$build$src$core$procedures,mutatorOpenListener$$module$build$src$core$procedures,mutatorChangeListener$$module$build$src$core$procedures,getCallers$$module$build$src$core$procedures,blockIsModernCallerFor$$module$build$src$core$procedures,isDynamicShape$$module$build$src$core$renderers$common$constants,isPuzzleTab$$module$build$src$core$renderers$common$constants,isNotch$$module$build$src$core$renderers$common$constants,register$$module$build$src$core$renderers$common$block_rendering,\nunregister$$module$build$src$core$renderers$common$block_rendering,init$$module$build$src$core$renderers$common$block_rendering,stringButtonClickHandler$$module$build$src$core$variables_dynamic,numberButtonClickHandler$$module$build$src$core$variables_dynamic,colourButtonClickHandler$$module$build$src$core$variables_dynamic,internalFlyoutCategory$$module$build$src$core$variables_dynamic,flyoutCategory$$module$build$src$core$variables_dynamic,xmlFlyoutCategory$$module$build$src$core$variables_dynamic,\nflyoutCategoryBlocks$$module$build$src$core$variables_dynamic,resizeSvgContents$$module$build$src$core$workspace_svg,copy$$module$build$src$core$clipboard,getLastCopiedData$$module$build$src$core$clipboard,setLastCopiedData$$module$build$src$core$clipboard,getLastCopiedWorkspace$$module$build$src$core$clipboard,setLastCopiedWorkspace$$module$build$src$core$clipboard,getLastCopiedLocation$$module$build$src$core$clipboard,setLastCopiedLocation$$module$build$src$core$clipboard,paste$$module$build$src$core$clipboard,\npasteFromData$$module$build$src$core$clipboard,isCopyable$$module$build$src$core$interfaces$i_copyable,registerEscape$$module$build$src$core$shortcut_items,registerDelete$$module$build$src$core$shortcut_items,isCopyable$$module$build$src$core$shortcut_items,isCuttable$$module$build$src$core$shortcut_items,registerCopy$$module$build$src$core$shortcut_items,registerCut$$module$build$src$core$shortcut_items,registerPaste$$module$build$src$core$shortcut_items,registerUndo$$module$build$src$core$shortcut_items,\nregisterRedo$$module$build$src$core$shortcut_items,registerDefaultShortcuts$$module$build$src$core$shortcut_items,saveProcedure$$module$build$src$core$serialization$procedures,loadProcedure$$module$build$src$core$serialization$procedures,save$$module$build$src$core$serialization$workspaces,load$$module$build$src$core$serialization$workspaces,inject$$module$build$src$core$inject,createDom$$module$build$src$core$inject,createMainWorkspace$$module$build$src$core$inject,init$$module$build$src$core$inject,\nbindDocumentEvents$$module$build$src$core$inject,loadSounds$$module$build$src$core$inject,isFullBlockField$$module$build$src$core$contextmenu_items,registerUndo$$module$build$src$core$contextmenu_items,registerRedo$$module$build$src$core$contextmenu_items,registerCleanup$$module$build$src$core$contextmenu_items,toggleOption_$$module$build$src$core$contextmenu_items,registerCollapse$$module$build$src$core$contextmenu_items,registerExpand$$module$build$src$core$contextmenu_items,addDeletableBlocks_$$module$build$src$core$contextmenu_items,\ngetDeletableBlocks_$$module$build$src$core$contextmenu_items,deleteNext_$$module$build$src$core$contextmenu_items,registerDeleteAll$$module$build$src$core$contextmenu_items,registerWorkspaceOptions_$$module$build$src$core$contextmenu_items,registerDuplicate$$module$build$src$core$contextmenu_items,registerComment$$module$build$src$core$contextmenu_items,registerInline$$module$build$src$core$contextmenu_items,registerCollapseExpandBlock$$module$build$src$core$contextmenu_items,registerDisable$$module$build$src$core$contextmenu_items,\nregisterDelete$$module$build$src$core$contextmenu_items,registerHelp$$module$build$src$core$contextmenu_items,registerCommentDelete$$module$build$src$core$contextmenu_items,registerCommentDuplicate$$module$build$src$core$contextmenu_items,registerCommentCreate$$module$build$src$core$contextmenu_items,registerBlockOptions_$$module$build$src$core$contextmenu_items,registerCommentOptions$$module$build$src$core$contextmenu_items,registerDefaultOptions$$module$build$src$core$contextmenu_items,isPaster$$module$build$src$core$interfaces$i_paster,\nisRenderedElement$$module$build$src$core$interfaces$i_rendered_element,isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item,hideChaff$$module$build$src$core$blockly,isFocusableTree$$module$build$src$core$interfaces$i_focusable_tree,$jscomp;\nregister$$module$build$src$core$registry=function(a,b,c,d){if(!(a instanceof Type$$module$build$src$core$registry)&&typeof a!==\"string\"||`${a}`.trim()===\"\")throw Error('Invalid type \"'+a+'\". The type must be a non-empty string or a Blockly.registry.Type.');a=`${a}`.toLowerCase();if(typeof b!==\"string\"||b.trim()===\"\")throw Error('Invalid name \"'+b+'\". The name must be a non-empty string.');const e=b.toLowerCase();if(!c)throw Error(\"Can not register a null value\");let f=typeMap$$module$build$src$core$registry[a],\ng=nameMap$$module$build$src$core$registry[a];f||(f=typeMap$$module$build$src$core$registry[a]=Object.create(null),g=nameMap$$module$build$src$core$registry[a]=Object.create(null));validate$$module$build$src$core$registry(a,c);if(!d&&f[e]&&f[e]!==c)throw Error('Name \"'+e+'\" with type \"'+a+'\" already registered.');f[e]=c;g[e]=b};\nvalidate$$module$build$src$core$registry=function(a,b){switch(a){case String(Type$$module$build$src$core$registry.FIELD):if(typeof b.fromJson!==\"function\")throw Error('Type \"'+a+'\" must have a fromJson function');}};\nunregister$$module$build$src$core$registry=function(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();const c=typeMap$$module$build$src$core$registry[a];c&&c[b]?(delete typeMap$$module$build$src$core$registry[a][b],delete nameMap$$module$build$src$core$registry[a][b]):console.warn(\"Unable to unregister [\"+b+\"][\"+a+\"] from the registry.\")};\ngetItem$$module$build$src$core$registry=function(a,b,c){a=`${a}`.toLowerCase();b=b.toLowerCase();const d=typeMap$$module$build$src$core$registry[a];if(!d||!d[b]){b=\"Unable to find [\"+b+\"][\"+a+\"] in the registry.\";if(c)throw Error(b+\" You must require or register a \"+a+\" plugin.\");console.warn(b);return null}return d[b]};hasItem$$module$build$src$core$registry=function(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();return(a=typeMap$$module$build$src$core$registry[a])?!!a[b]:!1};\ngetClass$$module$build$src$core$registry=function(a,b,c){return getItem$$module$build$src$core$registry(a,b,c)};getObject$$module$build$src$core$registry=function(a,b,c){return getItem$$module$build$src$core$registry(a,b,c)};\ngetAllItems$$module$build$src$core$registry=function(a,b,c){a=`${a}`.toLowerCase();var d=typeMap$$module$build$src$core$registry[a];if(!d){d=`Unable to find [${a}] in the registry.`;if(c)throw Error(`${d} You must require or register a ${a} plugin.`);console.warn(d);return null}if(!b)return d;a=nameMap$$module$build$src$core$registry[a];c=Object.create(null);for(const e of Object.keys(d))c[a[e]]=d[e];return c};\ngetClassFromOptions$$module$build$src$core$registry=function(a,b,c){b=b.plugins[String(a)]||DEFAULT$$module$build$src$core$registry;return typeof b===\"function\"?b:getClass$$module$build$src$core$registry(a,b,c)};longStart$$module$build$src$core$touch=function(a,b){longStop$$module$build$src$core$touch();longPid_$$module$build$src$core$touch=setTimeout(function(){b&&b.handleRightClick(a)},LONGPRESS$$module$build$src$core$touch)};\nlongStop$$module$build$src$core$touch=function(){longPid_$$module$build$src$core$touch&&(clearTimeout(longPid_$$module$build$src$core$touch),longPid_$$module$build$src$core$touch=0)};clearTouchIdentifier$$module$build$src$core$touch=function(){touchIdentifier_$$module$build$src$core$touch=null};shouldHandleEvent$$module$build$src$core$touch=function(a){return!a.type.startsWith(\"pointer\")||a instanceof PointerEvent&&checkTouchIdentifier$$module$build$src$core$touch(a)};\ngetTouchIdentifierFromEvent$$module$build$src$core$touch=function(a){return`${a.pointerId}`};checkTouchIdentifier$$module$build$src$core$touch=function(a){const b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);return touchIdentifier_$$module$build$src$core$touch?touchIdentifier_$$module$build$src$core$touch===b:a.type===\"pointerdown\"?(touchIdentifier_$$module$build$src$core$touch=b,!0):!1};\nconditionalBind$$module$build$src$core$browser_events=function(a,b,c,d,e){function f(h){if(e||shouldHandleEvent$$module$build$src$core$touch(h))c?d.call(c,h):d(h)}const g=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(let h=0;h<TOUCH_MAP$$module$build$src$core$touch[b].length;h++){const k=TOUCH_MAP$$module$build$src$core$touch[b][h];a.addEventListener(k,f,!1);g.push([a,k,f])}else a.addEventListener(b,f,!1),g.push([a,b,f]);return g};\nbind$$module$build$src$core$browser_events=function(a,b,c,d){function e(g){c?d.call(c,g):d(g)}const f=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(let g=0;g<TOUCH_MAP$$module$build$src$core$touch[b].length;g++){const h=TOUCH_MAP$$module$build$src$core$touch[b][g];a.addEventListener(h,e,!1);f.push([a,h,e])}else a.addEventListener(b,e,!1),f.push([a,b,e]);return f};\nunbind$$module$build$src$core$browser_events=function(a){const b=a[a.length-1][2];for(;a.length;){const [c,d,e]=a.pop();c.removeEventListener(d,e,!1)}return b};\nisTargetInput$$module$build$src$core$browser_events=function(a){if(a.target instanceof HTMLElement){if(a.target.isContentEditable||a.target.getAttribute(\"data-is-text-input\")===\"true\")return!0;if(a.target instanceof HTMLInputElement)return a=a.target,a.type===\"text\"||a.type===\"number\"||a.type===\"email\"||a.type===\"password\"||a.type===\"search\"||a.type===\"tel\"||a.type===\"url\";if(a.target instanceof HTMLTextAreaElement)return!0}return!1};\nisRightButton$$module$build$src$core$browser_events=function(a){return a.ctrlKey&&MAC$$module$build$src$core$utils$useragent?!0:a.button===2};mouseToSvg$$module$build$src$core$browser_events=function(a,b,c){const d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};\ngetScrollDeltaPixels$$module$build$src$core$browser_events=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events};case 2:return{x:a.deltaX*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events}}};\ngetNextUniqueId$$module$build$src$core$utils$idgenerator=function(){return\"blockly-\"+(nextId$$module$build$src$core$utils$idgenerator++).toString(36)};genUid$$module$build$src$core$utils$idgenerator=function(){return internal$$module$build$src$core$utils$idgenerator.genUid()};isBlockCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_CREATE};\nisBlockDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_DELETE};isBlockChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_CHANGE};isBlockFieldIntermediateChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE};\nisBlockMove$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_MOVE};isVarCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_CREATE};isVarDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_DELETE};isVarRename$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_RENAME};\nisBlockDrag$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_DRAG};isSelected$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.SELECTED};isClick$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.CLICK};isBubbleOpen$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BUBBLE_OPEN};\nisTrashcanOpen$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.TRASHCAN_OPEN};isToolboxItemSelect$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT};isThemeChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.THEME_CHANGE};\nisViewportChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE};isCommentCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_CREATE};isCommentDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_DELETE};\nisCommentChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_CHANGE};isCommentMove$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_MOVE};isCommentResize$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_RESIZE};\nisCommentDrag$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_DRAG};isCommentCollapse$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE};isFinishedLoading$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.FINISHED_LOADING};\n$.setRecordUndo$$module$build$src$core$events$utils=function(a){recordUndo$$module$build$src$core$events$utils=a};getRecordUndo$$module$build$src$core$events$utils=function(){return recordUndo$$module$build$src$core$events$utils};fire$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.fireInternal(a)};\nfireInternal$$module$build$src$core$events$utils=function(a){if(isEnabled$$module$build$src$core$events$utils()){if(!FIRE_QUEUE$$module$build$src$core$events$utils.length)try{requestAnimationFrame(()=>{setTimeout(fireNow$$module$build$src$core$events$utils,0)})}catch(b){setTimeout(fireNow$$module$build$src$core$events$utils,0)}enqueueEvent$$module$build$src$core$events$utils(a)}};\nfireNow$$module$build$src$core$events$utils=function(){const a=filter$$module$build$src$core$events$utils(FIRE_QUEUE$$module$build$src$core$events$utils);FIRE_QUEUE$$module$build$src$core$events$utils.length=0;for(const b of a){if(!b.workspaceId)continue;let c;(c=getWorkspaceById$$module$build$src$core$common(b.workspaceId))==null||c.fireChangeListener(b)}};\nenqueueEvent$$module$build$src$core$events$utils=function(a){if(isBlockChange$$module$build$src$core$events$predicates(a)&&a.element===\"mutation\"){let b;for(b=FIRE_QUEUE$$module$build$src$core$events$utils.length;b>0;b--){const c=FIRE_QUEUE$$module$build$src$core$events$utils[b-1];if(c.group!==a.group||c.workspaceId!==a.workspaceId||!isBlockMove$$module$build$src$core$events$predicates(c)||c.newParentId!==a.blockId)break}FIRE_QUEUE$$module$build$src$core$events$utils.splice(b,0,a)}else FIRE_QUEUE$$module$build$src$core$events$utils.push(a)};\nfilter$$module$build$src$core$events$utils=function(a){const b=[];for(const c of a)if(a=b[b.length-1],!c.isNull())if(a&&a.workspaceId===c.workspaceId&&a.group===c.group)if(isBlockMove$$module$build$src$core$events$predicates(c)&&isBlockMove$$module$build$src$core$events$predicates(a)&&c.blockId===a.blockId){if(a.newParentId=c.newParentId,a.newInputName=c.newInputName,a.newCoordinate=c.newCoordinate,a.reason||c.reason){let d,e;a.reason=Array.from(new Set(((d=a.reason)!=null?d:[]).concat((e=c.reason)!=\nnull?e:[])))}}else isBlockChange$$module$build$src$core$events$predicates(c)&&isBlockChange$$module$build$src$core$events$predicates(a)&&c.blockId===a.blockId&&c.element===a.element&&c.name===a.name?a.newValue=c.newValue:isViewportChange$$module$build$src$core$events$predicates(c)&&isViewportChange$$module$build$src$core$events$predicates(a)?(a.viewTop=c.viewTop,a.viewLeft=c.viewLeft,a.scale=c.scale,a.oldScale=c.oldScale):isClick$$module$build$src$core$events$predicates(c)&&isBubbleOpen$$module$build$src$core$events$predicates(a)||\nb.push(c);else b.push(c);return a=b.filter(c=>!c.isNull())};clearPendingUndo$$module$build$src$core$events$utils=function(){for(let a=0,b;b=FIRE_QUEUE$$module$build$src$core$events$utils[a];a++)b.recordUndo=!1};$.disable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils++};$.enable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils--};\nisEnabled$$module$build$src$core$events$utils=function(){return disabled$$module$build$src$core$events$utils===0};$.getGroup$$module$build$src$core$events$utils=function(){return group$$module$build$src$core$events$utils};$.setGroup$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.setGroupInternal(a)};\nsetGroupInternal$$module$build$src$core$events$utils=function(a){group$$module$build$src$core$events$utils=typeof a===\"boolean\"?a?genUid$$module$build$src$core$utils$idgenerator():\"\":a};getDescendantIds$$module$build$src$core$events$utils=function(a){const b=[];a=a.getDescendants(!1);for(let c=0,d;d=a[c];c++)b[c]=d.id;return b};\nfromJson$$module$build$src$core$events$utils=function(a,b){const c=get$$module$build$src$core$events$utils(a.type);if(!c)throw Error(\"Unknown event type.\");return c.fromJson(a,b)};get$$module$build$src$core$events$utils=function(a){const b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,a);if(!b)throw Error(`Event type ${a} not found in registry.`);return b};\ndisableOrphans$$module$build$src$core$events$utils=function(a){if((isBlockMove$$module$build$src$core$events$predicates(a)||isBlockCreate$$module$build$src$core$events$predicates(a))&&a.workspaceId){var b=getWorkspaceById$$module$build$src$core$common(a.workspaceId);if(!a.blockId)throw Error(\"Encountered a blockEvent without a proper blockId\");if(a=b.getBlockById(a.blockId)){const c=recordUndo$$module$build$src$core$events$utils;try{recordUndo$$module$build$src$core$events$utils=!1;const d=a.getParent();\nif(d&&!d.hasDisabledReason(ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils)){const e=a.getDescendants(!1);for(let f=0,g;g=e[f];f++)g.setDisabledReason(!1,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils)}else if((a.outputConnection||a.previousConnection)&&!b.isDragging()){do a.setDisabledReason(!0,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils),a=a.getNextBlock();while(a)}}finally{recordUndo$$module$build$src$core$events$utils=c}}}};\ncreateSvgElement$$module$build$src$core$utils$dom=function(a,b,c){a=document.createElementNS(SVG_NS$$module$build$src$core$utils$dom,`${a}`);for(const d in b)a.setAttribute(d,`${b[d]}`);c&&c.appendChild(a);return a};addClass$$module$build$src$core$utils$dom=function(a,b){b=b.split(\" \");if(b.every(c=>a.classList.contains(c)))return!1;a.classList.add(...b);return!0};removeClasses$$module$build$src$core$utils$dom=function(a,b){a.classList.remove(...b.split(\" \"))};\nremoveClass$$module$build$src$core$utils$dom=function(a,b){b=b.split(\" \");if(b.every(c=>!a.classList.contains(c)))return!1;a.classList.remove(...b);return!0};hasClass$$module$build$src$core$utils$dom=function(a,b){return a.classList.contains(b)};removeNode$$module$build$src$core$utils$dom=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};\ninsertAfter$$module$build$src$core$utils$dom=function(a,b){const c=b.nextSibling;b=b.parentNode;if(!b)throw Error(\"Reference node has no parent.\");c?b.insertBefore(a,c):b.appendChild(a)};setCssTransform$$module$build$src$core$utils$dom=function(a,b){a.style.transform=b;a.style[\"-webkit-transform\"]=b};\nstartTextWidthCache$$module$build$src$core$utils$dom=function(){cacheReference$$module$build$src$core$utils$dom++;cacheWidths$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=Object.create(null))};stopTextWidthCache$$module$build$src$core$utils$dom=function(){cacheReference$$module$build$src$core$utils$dom--;cacheReference$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=null)};\ngetTextWidth$$module$build$src$core$utils$dom=function(a){const b=a.textContent+\"\\n\"+a.className.baseVal;var c;if(cacheWidths$$module$build$src$core$utils$dom&&(c=cacheWidths$$module$build$src$core$utils$dom[b]))return c;c=window.getComputedStyle(a);c=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,c.fontSize,c.fontWeight,c.fontFamily);cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[b]=c);return c};\ngetFastTextWidth$$module$build$src$core$utils$dom=function(a,b,c,d){return getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,b+\"pt\",c,d)};\ngetFastTextWidthWithSizeString$$module$build$src$core$utils$dom=function(a,b,c,d){const e=a.textContent;a=e+\"\\n\"+a.className.baseVal;var f;if(cacheWidths$$module$build$src$core$utils$dom&&(f=cacheWidths$$module$build$src$core$utils$dom[a]))return f;canvasContext$$module$build$src$core$utils$dom||(f=document.createElement(\"canvas\"),f.className=\"blocklyComputeCanvas\",document.body.appendChild(f),canvasContext$$module$build$src$core$utils$dom=f.getContext(\"2d\"));e&&canvasContext$$module$build$src$core$utils$dom?\n(canvasContext$$module$build$src$core$utils$dom.font=c+\" \"+b+\" \"+d,f=canvasContext$$module$build$src$core$utils$dom.measureText(e).width):f=0;cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[a]=f);return f};\nmeasureFontMetrics$$module$build$src$core$utils$dom=function(a,b,c,d){const e=document.createElement(\"span\");e.style.font=c+\" \"+b+\" \"+d;e.textContent=a;a=document.createElement(\"div\");a.style.width=\"1px\";a.style.height=\"0\";b=document.createElement(\"div\");b.style.display=\"flex\";b.style.position=\"fixed\";b.style.top=\"0\";b.style.left=\"0\";b.appendChild(e);b.appendChild(a);document.body.appendChild(b);c={height:0,baseline:0};try{b.style.alignItems=\"baseline\",c.baseline=a.offsetTop-e.offsetTop,b.style.alignItems=\n\"flex-end\",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c};$.getFocusManager$$module$build$src$core$focus_manager=function(){return FocusManager$$module$build$src$core$focus_manager.getFocusManager()};isFocusableNode$$module$build$src$core$interfaces$i_focusable_node=function(a){return a&&typeof a.getFocusableElement===\"function\"&&typeof a.getFocusableTree===\"function\"&&typeof a.onNodeFocus===\"function\"&&typeof a.onNodeBlur===\"function\"&&typeof a.canBeFocused===\"function\"};\nisSelectable$$module$build$src$core$interfaces$i_selectable=function(a){return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(a)&&typeof a.id===\"string\"&&typeof a.workspace===\"object\"&&typeof a.select===\"function\"&&typeof a.unselect===\"function\"};\ndeepMerge$$module$build$src$core$utils$object=function(a,b){for(const c in b)b[c]!==null&&Array.isArray(b[c])?a[c]=deepMerge$$module$build$src$core$utils$object(a[c]||[],b[c]):a[c]=b[c]!==null&&typeof b[c]===\"object\"?deepMerge$$module$build$src$core$utils$object(a[c]||Object.create(null),b[c]):b[c];return a};getWorkspaceById$$module$build$src$core$common=function(a){return WorkspaceDB_$$module$build$src$core$common[a]||null};\ngetAllWorkspaces$$module$build$src$core$common=function(){const a=[];for(const b in WorkspaceDB_$$module$build$src$core$common)a.push(WorkspaceDB_$$module$build$src$core$common[b]);return a};registerWorkspace$$module$build$src$core$common=function(a){WorkspaceDB_$$module$build$src$core$common[a.id]=a};unregisterWorkpace$$module$build$src$core$common=function(a){delete WorkspaceDB_$$module$build$src$core$common[a.id]};getMainWorkspace$$module$build$src$core$common=function(){return mainWorkspace$$module$build$src$core$common};\nsetMainWorkspace$$module$build$src$core$common=function(a){mainWorkspace$$module$build$src$core$common=a};getSelected$$module$build$src$core$common=function(){const a=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return a&&isSelectable$$module$build$src$core$interfaces$i_selectable(a)?a:null};setSelected$$module$build$src$core$common=function(a){$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)};\nfireSelectedEvent$$module$build$src$core$common=function(a){const b=getSelected$$module$build$src$core$common();let c,d,e,f;const g=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.SELECTED))((c=b==null?void 0:b.id)!=null?c:null,(d=a==null?void 0:a.id)!=null?d:null,(f=(e=a==null?void 0:a.workspace.id)!=null?e:b==null?void 0:b.workspace.id)!=null?f:\"\");fire$$module$build$src$core$events$utils(g)};getParentContainer$$module$build$src$core$common=function(){return parentContainer$$module$build$src$core$common};\nsetParentContainer$$module$build$src$core$common=function(a){parentContainer$$module$build$src$core$common=a};\nsvgResize$$module$build$src$core$common=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;const b=a.getParentSvg(),c=a.getCachedParentSvgSize();var d=b.parentElement;if(d instanceof HTMLElement){var e=d.offsetWidth;d=d.offsetHeight;c.width!==e&&(b.setAttribute(\"width\",e+\"px\"),a.setCachedParentSvgSize(e,null));c.height!==d&&(b.setAttribute(\"height\",d+\"px\"),a.setCachedParentSvgSize(null,d));a.resize()}};\ngetBlockTypeCounts$$module$build$src$core$common=function(a,b){const c=Object.create(null),d=a.getDescendants(!0);b&&(a=a.getNextBlock())&&(a=d.indexOf(a),d.splice(a,d.length-a));for(let e=0,f;f=d[e];e++)c[f.type]?c[f.type]++:c[f.type]=1;return c};jsonInitFactory$$module$build$src$core$common=function(a){return function(){this.jsonInit(a)}};defineBlocksWithJsonArray$$module$build$src$core$common=function(a){TEST_ONLY$$module$build$src$core$common.defineBlocksWithJsonArrayInternal(a)};\ndefineBlocksWithJsonArrayInternal$$module$build$src$core$common=function(a){$.defineBlocks$$module$build$src$core$common($.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(a))};\n$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(a){const b={};for(let c=0;c<a.length;c++){const d=a[c];if(!d){console.warn(`Block definition #${c} in JSON array is ${d}. Skipping`);continue}const e=d.type;e?b[e]={init:jsonInitFactory$$module$build$src$core$common(d)}:console.warn(`Block definition #${c} in JSON array is missing a type attribute. `+\"Skipping.\")}return b};\n$.defineBlocks$$module$build$src$core$common=function(a){for(const b of Object.keys(a)){const c=a[b];b in Blocks$$module$build$src$core$blocks&&console.warn(`Block definition \"${b}\" overwrites previous definition.`);Blocks$$module$build$src$core$blocks[b]=c}};\nglobalShortcutHandler$$module$build$src$core$common=function(a){let b=getMainWorkspace$$module$build$src$core$common();const c=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const d of getAllWorkspaces$$module$build$src$core$common())if(c===d){b=d;break}if(!isTargetInput$$module$build$src$core$browser_events(a)&&b&&(!b.rendered||b.isFlyout||b.isVisible()))ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.onKeyDown(b,a)};\nremoveElem$$module$build$src$core$utils$array=function(a,b){b=a.indexOf(b);if(b===-1)return!1;a.splice(b,1);return!0};register$$module$build$src$core$css=function(a){if(injected$$module$build$src$core$css)throw Error(\"CSS already injected\");content$$module$build$src$core$css+=\"\\n\"+a};\ninject$$module$build$src$core$css=function(a,b){injected$$module$build$src$core$css||(injected$$module$build$src$core$css=!0,a&&(a=b.replace(/[\\\\/]$/,\"\"),b=content$$module$build$src$core$css.replace(/<<<PATH>>>/g,a),content$$module$build$src$core$css=\"\",a=document.createElement(\"style\"),a.id=\"blockly-common-style\",b=document.createTextNode(b),a.appendChild(b),document.head.insertBefore(a,document.head.firstChild)))};getSize$$module$build$src$core$utils$style=function(a){return TEST_ONLY$$module$build$src$core$utils$style.getSizeInternal(a)};\ngetSizeInternal$$module$build$src$core$utils$style=function(a){if(getComputedStyle$$module$build$src$core$utils$style(a,\"display\")!==\"none\")return getSizeWithDisplay$$module$build$src$core$utils$style(a);const b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility=\"hidden\";b.position=\"absolute\";b.display=\"inline\";const f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Size$$module$build$src$core$utils$size(f,a)};\ngetSizeWithDisplay$$module$build$src$core$utils$style=function(a){return new Size$$module$build$src$core$utils$size(a.offsetWidth,a.offsetHeight)};getComputedStyle$$module$build$src$core$utils$style=function(a,b){a=window.getComputedStyle(a);return a[b]||a.getPropertyValue(b)};\ngetPageOffset$$module$build$src$core$utils$style=function(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new Coordinate$$module$build$src$core$utils$coordinate(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};\ngetViewportPageOffset$$module$build$src$core$utils$style=function(){const a=document.body,b=document.documentElement;return new Coordinate$$module$build$src$core$utils$coordinate(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};\ngetBorderBox$$module$build$src$core$utils$style=function(a){const b=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderLeftWidth\")),c=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderRightWidth\")),d=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderTopWidth\"));a=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderBottomWidth\"));return new Rect$$module$build$src$core$utils$rect(d,a,b,c)};\nscrollIntoContainerView$$module$build$src$core$utils$style=function(a,b,c){a=getContainerOffsetToScrollInto$$module$build$src$core$utils$style(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};\ngetContainerOffsetToScrollInto$$module$build$src$core$utils$style=function(a,b,c){var d=getPageOffset$$module$build$src$core$utils$style(a),e=getPageOffset$$module$build$src$core$utils$style(b),f=getBorderBox$$module$build$src$core$utils$style(b);const g=d.x-e.x-f.left;d=d.y-e.y-f.top;e=getSizeWithDisplay$$module$build$src$core$utils$style(a);a=b.clientWidth-e.width;e=b.clientHeight-e.height;f=b.scrollLeft;b=b.scrollTop;c?(f+=g-a/2,b+=d-e/2):(f+=Math.min(g,Math.max(g-a,0)),b+=Math.min(d,Math.max(d-\ne,0)));return new Coordinate$$module$build$src$core$utils$coordinate(f,b)};\ngetRelativeXY$$module$build$src$core$utils$svg_math=function(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);var c=a.x&&a.getAttribute(\"x\");const d=a.y&&a.getAttribute(\"y\");c&&(b.x=parseInt(c));d&&(b.y=parseInt(d));if(c=(c=a.getAttribute(\"transform\"))&&c.match(XY_REGEX$$module$build$src$core$utils$svg_math))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute(\"style\"))&&a.includes(\"translate\")&&(a=a.match(XY_STYLE_REGEX$$module$build$src$core$utils$svg_math))&&(b.x+=\nNumber(a[1]),a[3]&&(b.y+=Number(a[3])));return b};getInjectionDivXY$$module$build$src$core$utils$svg_math=function(a){let b=0,c=0;for(;a;){const d=getRelativeXY$$module$build$src$core$utils$svg_math(a);b+=d.x;c+=d.y;if((\" \"+(a.getAttribute(\"class\")||\"\")+\" \").includes(\" injectionDiv \"))break;a=a.parentNode}return new Coordinate$$module$build$src$core$utils$coordinate(b,c)};\ngetViewportBBox$$module$build$src$core$utils$svg_math=function(){const a=getViewportPageOffset$$module$build$src$core$utils$style();return new Rect$$module$build$src$core$utils$rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};getDocumentScroll$$module$build$src$core$utils$svg_math=function(){const a=document.documentElement,b=window;return new Coordinate$$module$build$src$core$utils$coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};\nscreenToWsCoordinates$$module$build$src$core$utils$svg_math=function(a,b){var c=b.x;b=b.y;const d=a.getInjectionDiv().getBoundingClientRect();c=new Coordinate$$module$build$src$core$utils$coordinate(c-d.left,b-d.top);b=a.getOriginOffsetInPixels();return Coordinate$$module$build$src$core$utils$coordinate.difference(c,b).scale(1/a.scale)};\nwsToScreenCoordinates$$module$build$src$core$utils$svg_math=function(a,b){var c=b.scale(a.scale);b=c.x;c=c.y;const d=a.getInjectionDiv().getBoundingClientRect();a=a.getOriginOffsetInPixels();return new Coordinate$$module$build$src$core$utils$coordinate(b+d.left+a.x,c+d.top+a.y)};\ninjectDependencies$$module$build$src$core$utils$xml=function(a){({document:document$$module$build$src$core$utils$xml=document$$module$build$src$core$utils$xml,DOMParser:DOMParser$$module$build$src$core$utils$xml=DOMParser$$module$build$src$core$utils$xml,XMLSerializer:XMLSerializer$$module$build$src$core$utils$xml=XMLSerializer$$module$build$src$core$utils$xml}=a);domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml;xmlSerializer$$module$build$src$core$utils$xml=\nnew XMLSerializer$$module$build$src$core$utils$xml};$.createElement$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createElementNS(NAME_SPACE$$module$build$src$core$utils$xml,a)};$.createTextNode$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createTextNode(a)};\n$.textToDom$$module$build$src$core$utils$xml=function(a){let b=domParser$$module$build$src$core$utils$xml.parseFromString(a,\"text/xml\");if(b&&b.documentElement&&!b.getElementsByTagName(\"parsererror\").length)return b.documentElement;if((b=domParser$$module$build$src$core$utils$xml.parseFromString(a,\"text/html\"))&&b.body.firstChild&&b.body.firstChild.nodeName.toLowerCase()===\"xml\")return b.body.firstChild;throw Error(`DOMParser was unable to parse: ${a}`);};\ndomToText$$module$build$src$core$utils$xml=function(a){return sanitizeText$$module$build$src$core$utils$xml(xmlSerializer$$module$build$src$core$utils$xml.serializeToString(a))};sanitizeText$$module$build$src$core$utils$xml=function(a){return a.replace(INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml,b=>`&#${b.charCodeAt(0)};`)};\nconvertToolboxDefToJson$$module$build$src$core$utils$toolbox=function(a){if(!a)return null;if(a instanceof Element||typeof a===\"string\")a=parseToolboxTree$$module$build$src$core$utils$toolbox(a),a=convertToToolboxJson$$module$build$src$core$utils$toolbox(a);validateToolbox$$module$build$src$core$utils$toolbox(a);return a};\nvalidateToolbox$$module$build$src$core$utils$toolbox=function(a){const b=a.kind;a=a.contents;if(b&&b!==FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox&&b!==CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox)throw Error(\"Invalid toolbox kind \"+b+\". Please supply either \"+FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox+\" or \"+CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox);if(!a)throw Error(\"Toolbox must have a contents attribute.\");};\nconvertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox=function(a){return a?a.contents?a.contents:Array.isArray(a)&&a.length>0&&!a[0].nodeType?a:xmlToJsonArray$$module$build$src$core$utils$toolbox(a):[]};hasCategories$$module$build$src$core$utils$toolbox=function(a){return TEST_ONLY$$module$build$src$core$utils$toolbox.hasCategoriesInternal(a)};\nhasCategoriesInternal$$module$build$src$core$utils$toolbox=function(a){if(!a)return!1;const b=a.kind;return b?b===CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox:!!a.contents.filter(c=>c.kind.toUpperCase()===\"CATEGORY\").length};isCategoryCollapsible$$module$build$src$core$utils$toolbox=function(a){return a&&a.contents?!!a.contents.filter(function(b){return b.kind.toUpperCase()===\"CATEGORY\"}).length:!1};\nconvertToToolboxJson$$module$build$src$core$utils$toolbox=function(a){const b={contents:xmlToJsonArray$$module$build$src$core$utils$toolbox(a)};a instanceof Node&&addAttributes$$module$build$src$core$utils$toolbox(a,b);return b};\nxmlToJsonArray$$module$build$src$core$utils$toolbox=function(a){const b=[];let c=a.childNodes;c||(c=a);for(let d=0,e;e=c[d];d++){if(!e.tagName)continue;a={};const f=e.tagName.toUpperCase();a.kind=f;f===\"BLOCK\"?a.blockxml=e:e.childNodes&&e.childNodes.length>0&&(a.contents=xmlToJsonArray$$module$build$src$core$utils$toolbox(e));addAttributes$$module$build$src$core$utils$toolbox(e,a);b.push(a)}return b};\naddAttributes$$module$build$src$core$utils$toolbox=function(a,b){for(let c=0;c<a.attributes.length;c++){const d=a.attributes[c];d.nodeName.includes(\"css-\")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace(\"css-\",\"\")]=d.value):b[d.nodeName]=d.value}};\nparseToolboxTree$$module$build$src$core$utils$toolbox=function(a){let b=null;if(a)if(typeof a===\"string\"){if(b=$.textToDom$$module$build$src$core$utils$xml(a),b.nodeName.toLowerCase()!==\"xml\")throw TypeError(\"Toolbox should be an <xml> document.\");}else a instanceof Element&&(b=a);return b};\ngetStartPositionRect$$module$build$src$core$positionable_helpers=function(a,b,c,d,e,f){const g=f.scrollbar&&f.scrollbar.canScrollVertically();a.horizontal===horizontalPosition$$module$build$src$core$positionable_helpers.LEFT?(c=e.absoluteMetrics.left+c,g&&f.RTL&&(c+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness)):(c=e.absoluteMetrics.left+e.viewMetrics.width-b.width-c,g&&!f.RTL&&(c-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));a.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?\na=e.absoluteMetrics.top+d:(a=e.absoluteMetrics.top+e.viewMetrics.height-b.height-d,f.scrollbar&&f.scrollbar.canScrollHorizontally()&&(a-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));return new Rect$$module$build$src$core$utils$rect(a,a+b.height,c,c+b.width)};\ngetCornerOppositeToolbox$$module$build$src$core$positionable_helpers=function(a,b){return{horizontal:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.LEFT||a.horizontalLayout&&!a.RTL?horizontalPosition$$module$build$src$core$positionable_helpers.RIGHT:horizontalPosition$$module$build$src$core$positionable_helpers.LEFT,vertical:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.BOTTOM?verticalPosition$$module$build$src$core$positionable_helpers.TOP:verticalPosition$$module$build$src$core$positionable_helpers.BOTTOM}};\nbumpPositionRect$$module$build$src$core$positionable_helpers=function(a,b,c,d){const e=a.left,f=a.right-a.left,g=a.bottom-a.top;for(let h=0;h<d.length;h++){const k=d[h];a.intersects(k)&&(a=c===bumpDirection$$module$build$src$core$positionable_helpers.UP?k.top-g-b:k.bottom+b,a=new Rect$$module$build$src$core$utils$rect(a,a+g,e,e+f),h=-1)}return a};\nregister$$module$build$src$core$serialization$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a,b)};unregister$$module$build$src$core$serialization$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a)};\nsave$$module$build$src$core$serialization$workspace_comments=function(a,{addCoordinates:b=!1,saveIds:c=!0}={}){const d=a.workspace,e=Object.create(null);e.height=a.getSize().height;e.width=a.getSize().width;c&&(e.id=a.id);b&&(b=a.getRelativeToSurfaceXY(),e.x=d.RTL?d.getWidth()-b.x:b.x,e.y=b.y);a.getText()&&(e.text=a.getText());a.isCollapsed()&&(e.collapsed=!0);a.isOwnEditable()||(e.editable=!1);a.isOwnMovable()||(e.movable=!1);a.isOwnDeletable()||(e.deletable=!1);return e};\nappend$$module$build$src$core$serialization$workspace_comments=function(a,b,{recordUndo:c=!1}={}){const d=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(c);c=b.newComment(a.id);a.text!==void 0&&c.setText(a.text);if(a.x!==void 0||a.y!==void 0){const f=c.getRelativeToSurfaceXY();let g,h=(g=a.x)!=null?g:f.x;h=b.RTL?b.getWidth()-h:h;var e;b=(e=a.y)!=null?e:f.y;c.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(h,b))}if(a.width!==void 0||\na.height){e=c.getSize();let f,g;c.setSize(new Size$$module$build$src$core$utils$size((f=a.width)!=null?f:e.width,(g=a.height)!=null?g:e.height))}a.collapsed!==void 0&&c.setCollapsed(a.collapsed);a.editable!==void 0&&c.setEditable(a.editable);a.movable!==void 0&&c.setMovable(a.movable);a.deletable!==void 0&&c.setDeletable(a.deletable);$.setRecordUndo$$module$build$src$core$events$utils(d);return c};\nregister$$module$build$src$core$clipboard$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a,b)};unregister$$module$build$src$core$clipboard$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a)};\nmoveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster=function(a){const b=a.workspace,c=a.getRelativeToSurfaceXY(),d=new Coordinate$$module$build$src$core$utils$coordinate(0,0),e=b.getTopComments(!1).filter(f=>f.id!==a.id).map(f=>f.getRelativeToSurfaceXY());for(;commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(c,d),e);)d.translate(b.RTL?-30:30,30);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(c,\nd))};commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster=function(a,b){return b.some(c=>Math.abs(c.x-a.x)<=1&&Math.abs(c.y-a.y)<=1)};setRole$$module$build$src$core$utils$aria=function(a,b){a.setAttribute(ROLE_ATTRIBUTE$$module$build$src$core$utils$aria,b)};setState$$module$build$src$core$utils$aria=function(a,b,c){Array.isArray(c)&&(c=c.join(\" \"));a.setAttribute(ARIA_PREFIX$$module$build$src$core$utils$aria+b,`${c}`)};\nisSerializable$$module$build$src$core$interfaces$i_serializable=function(a){return a&&typeof a.saveState===\"function\"&&typeof a.loadState===\"function\"};\nqueueRender$$module$build$src$core$render_management=function(a){queueBlock$$module$build$src$core$render_management(a);if(alwaysImmediatelyRender$$module$build$src$core$render_management())return doRenders$$module$build$src$core$render_management(),Promise.resolve();afterRendersPromise$$module$build$src$core$render_management||(afterRendersPromise$$module$build$src$core$render_management=new Promise(b=>{afterRendersResolver$$module$build$src$core$render_management=b;animationRequestId$$module$build$src$core$render_management=\nwindow.requestAnimationFrame(()=>{doRenders$$module$build$src$core$render_management();b()})}));return afterRendersPromise$$module$build$src$core$render_management};finishQueuedRenders$$module$build$src$core$render_management=function(){return afterRendersPromise$$module$build$src$core$render_management?afterRendersPromise$$module$build$src$core$render_management:Promise.resolve()};\ntriggerQueuedRenders$$module$build$src$core$render_management=function(a){a||window.cancelAnimationFrame(animationRequestId$$module$build$src$core$render_management);doRenders$$module$build$src$core$render_management(a);!a&&afterRendersResolver$$module$build$src$core$render_management&&afterRendersResolver$$module$build$src$core$render_management()};alwaysImmediatelyRender$$module$build$src$core$render_management=function(){return JavaFx$$module$build$src$core$utils$useragent};\nqueueBlock$$module$build$src$core$render_management=function(a){dirtyBlocks$$module$build$src$core$render_management.add(a);eventGroups$$module$build$src$core$render_management.set(a,$.getGroup$$module$build$src$core$events$utils());const b=a.getParent();b?queueBlock$$module$build$src$core$render_management(b):rootBlocks$$module$build$src$core$render_management.add(a)};\ndoRenders$$module$build$src$core$render_management=function(a){const b=a?new Set([a]):new Set([...rootBlocks$$module$build$src$core$render_management].map(f=>f.workspace)),c=[...rootBlocks$$module$build$src$core$render_management].filter(shouldRenderRootBlock$$module$build$src$core$render_management).filter(f=>b.has(f.workspace));for(var d of c)renderBlock$$module$build$src$core$render_management(d);for(const f of b)f.resizeContents();for(var e of c)d=e.getRelativeToSurfaceXY(),e.updateComponentLocations(d);\nfor(const f of c)e=$.getGroup$$module$build$src$core$events$utils(),(d=eventGroups$$module$build$src$core$render_management.get(f))&&$.setGroup$$module$build$src$core$events$utils(d),f.bumpNeighbours(),$.setGroup$$module$build$src$core$events$utils(e);for(const f of c)dequeueBlock$$module$build$src$core$render_management(f);a||(afterRendersPromise$$module$build$src$core$render_management=null)};\ndequeueBlock$$module$build$src$core$render_management=function(a){rootBlocks$$module$build$src$core$render_management.delete(a);dirtyBlocks$$module$build$src$core$render_management.delete(a);eventGroups$$module$build$src$core$render_management.delete(a);for(const b of a.getChildren(!1))dequeueBlock$$module$build$src$core$render_management(b)};shouldRenderRootBlock$$module$build$src$core$render_management=function(a){return!a.isDisposed()&&!a.getParent()};\nrenderBlock$$module$build$src$core$render_management=function(a){if(dirtyBlocks$$module$build$src$core$render_management.has(a)&&a.initialized){for(const b of a.getChildren(!1))renderBlock$$module$build$src$core$render_management(b);a.renderEfficiently()}};alert$$module$build$src$core$dialog=function(a,b){alertImplementation$$module$build$src$core$dialog(a,b)};\nsetAlert$$module$build$src$core$dialog=function(a=defaultAlert$$module$build$src$core$dialog){alertImplementation$$module$build$src$core$dialog=a};confirm$$module$build$src$core$dialog=function(a,b){confirmImplementation$$module$build$src$core$dialog(a,b)};setConfirm$$module$build$src$core$dialog=function(a=defaultConfirm$$module$build$src$core$dialog){confirmImplementation$$module$build$src$core$dialog=a};\nprompt$$module$build$src$core$dialog=function(a,b,c){promptImplementation$$module$build$src$core$dialog(a,b,c)};setPrompt$$module$build$src$core$dialog=function(a=defaultPrompt$$module$build$src$core$dialog){promptImplementation$$module$build$src$core$dialog=a};toast$$module$build$src$core$dialog=function(a,b){toastImplementation$$module$build$src$core$dialog(a,b)};\nsetToast$$module$build$src$core$dialog=function(a=defaultToast$$module$build$src$core$dialog){toastImplementation$$module$build$src$core$dialog=a};isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function(a){return a&&typeof a.getProcedureDef===\"function\"};isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function(a){return a&&typeof a.getProcedureCall===\"function\"&&typeof a.renameProcedure===\"function\"};\nisVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model=function(a){return a.getVariableModel!==void 0};warn$$module$build$src$core$utils$deprecation=function(a,b,c,d){a=a+\" was deprecated in \"+b+\" and will be deleted in \"+c+\".\";d&&(a+=\"\\nUse \"+d+\" instead.\");previousWarnings$$module$build$src$core$utils$deprecation.has(a)||(previousWarnings$$module$build$src$core$utils$deprecation.add(a),console.warn(a))};\n$.allUsedVarModels$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);const b=new Set;for(let c=0;c<a.length;c++){const d=a[c].getVarModels();if(d)for(let e=0;e<d.length;e++){const f=d[e];f.getId()&&b.add(f)}}return Array.from(b.values())};$.allDeveloperVariables$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);const b=new Set;for(let d=0,e;e=a[d];d++){var c=e.getDeveloperVariables;if(c){c=c();for(let f=0;f<c.length;f++)b.add(c[f])}}return Array.from(b.values())};\ninternalFlyoutCategory$$module$build$src$core$variables=function(a){return flyoutCategory$$module$build$src$core$variables(a,!1)};\nflyoutCategory$$module$build$src$core$variables=function(a,b=!0){Blocks$$module$build$src$core$blocks.variables_set||Blocks$$module$build$src$core$blocks.variables_get||console.warn(\"There are no variable blocks, but there is a variable category.\");if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.Variables.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),xmlFlyoutCategory$$module$build$src$core$variables(a);\na.registerButtonCallback(\"CREATE_VARIABLE\",function(c){createVariableButtonHandler$$module$build$src$core$variables(c.getTargetWorkspace())});return[{kind:\"button\",text:\"%{BKY_NEW_VARIABLE}\",callbackkey:\"CREATE_VARIABLE\"},...jsonFlyoutCategoryBlocks$$module$build$src$core$variables(a,a.getVariableMap().getVariablesOfType(\"\"),!0)]};generateVariableFieldJson$$module$build$src$core$variables=function(a){return{VAR:{name:a.getName(),type:a.getType()}}};\njsonFlyoutCategoryBlocks$$module$build$src$core$variables=function(a,b,c,d=\"variables_get\",e=\"variables_set\"){c&&(c=Blocks$$module$build$src$core$blocks.math_change);a=[];const f=b.slice(-1)[0];f&&(Blocks$$module$build$src$core$blocks[e]&&a.push({kind:\"block\",type:e,gap:c?8:24,fields:generateVariableFieldJson$$module$build$src$core$variables(f)}),c&&a.push({kind:\"block\",type:\"math_change\",gap:Blocks$$module$build$src$core$blocks[d]?20:8,fields:generateVariableFieldJson$$module$build$src$core$variables(f),\ninputs:{DELTA:{shadow:{type:\"math_number\",fields:{NUM:1}}}}}));Blocks$$module$build$src$core$blocks[d]&&a.push(...b.sort(compareByName$$module$build$src$core$variables).map(g=>({kind:\"block\",type:d,gap:8,fields:generateVariableFieldJson$$module$build$src$core$variables(g)})));return a};\nxmlFlyoutCategory$$module$build$src$core$variables=function(a){let b=[];const c=document.createElement(\"button\");c.setAttribute(\"text\",\"%{BKY_NEW_VARIABLE}\");c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE\");a.registerButtonCallback(\"CREATE_VARIABLE\",function(d){createVariableButtonHandler$$module$build$src$core$variables(d.getTargetWorkspace())});b.push(c);a=flyoutCategoryBlocks$$module$build$src$core$variables(a);return b=b.concat(a)};\nflyoutCategoryBlocks$$module$build$src$core$variables=function(a){a=a.getVariableMap().getVariablesOfType(\"\");const b=[];if(a.length>0){var c=a[a.length-1];if(Blocks$$module$build$src$core$blocks.variables_set){var d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"variables_set\");d.setAttribute(\"gap\",Blocks$$module$build$src$core$blocks.math_change?\"8\":\"24\");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d)}Blocks$$module$build$src$core$blocks.math_change&&\n(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),d.setAttribute(\"type\",\"math_change\"),d.setAttribute(\"gap\",Blocks$$module$build$src$core$blocks.variables_get?\"20\":\"8\"),d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c)),c=$.textToDom$$module$build$src$core$utils$xml('<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Blocks$$module$build$src$core$blocks.variables_get){a.sort(compareByName$$module$build$src$core$variables);\nfor(let e=0,f;f=a[e];e++)c=$.createElement$$module$build$src$core$utils$xml(\"block\"),c.setAttribute(\"type\",\"variables_get\"),c.setAttribute(\"gap\",\"8\"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(f)),b.push(c)}}return b};generateUniqueName$$module$build$src$core$variables=function(a){return TEST_ONLY$$module$build$src$core$variables.generateUniqueNameInternal(a)};\ngenerateUniqueNameInternal$$module$build$src$core$variables=function(a){return generateUniqueNameFromOptions$$module$build$src$core$variables(VAR_LETTER_OPTIONS$$module$build$src$core$variables.charAt(0),a.getVariableMap().getAllVariables().map(b=>b.getName()))};\ngenerateUniqueNameFromOptions$$module$build$src$core$variables=function(a,b){if(!b.length)return a;const c=VAR_LETTER_OPTIONS$$module$build$src$core$variables;let d=\"\",e=c.indexOf(a);for(;;){let f=!1;for(let g=0;g<b.length;g++)if(b[g].toLowerCase()===a){f=!0;break}if(!f)break;e++;e===c.length&&(e=0,d=`${Number(d)+1}`);a=c.charAt(e)+d}return a};\ncreateVariableButtonHandler$$module$build$src$core$variables=function(a,b,c){function d(f){promptName$$module$build$src$core$variables($.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,f,function(g){if(g){var h=nameUsedWithAnyType$$module$build$src$core$variables(g,a);if(h){if(h.getType()===e)var k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace(\"%1\",h.getName());else k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,k=k.replace(\"%1\",h.getName()).replace(\"%2\",\nh.getType());alert$$module$build$src$core$dialog(k,function(){d(g)})}else a.getVariableMap().createVariable(g,e),b&&b(g)}else b&&b(null)})}const e=c||\"\";d(\"\")};\n$.renameVariable$$module$build$src$core$variables=function(a,b,c){function d(e){const f=$.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace(\"%1\",b.getName());promptName$$module$build$src$core$variables(f,e,function(g){if(g){var h=nameUsedWithOtherType$$module$build$src$core$variables(g,b.getType(),a),k=nameUsedWithConflictingParam$$module$build$src$core$variables(b.getName(),g,a);if(h||k){var l=\"\";h?l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace(\"%1\",\nh.getName()).replace(\"%2\",h.getType()):k&&(l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace(\"%1\",g).replace(\"%2\",k));alert$$module$build$src$core$dialog(l,function(){d(g)})}else a.getVariableMap().renameVariable(b,g),c&&c(g)}else c&&c(null)})}d(\"\")};\npromptName$$module$build$src$core$variables=function(a,b,c){prompt$$module$build$src$core$dialog(a,b,function(d){d&&(d=d.replace(/[\\s\\xa0]+/g,\" \").trim(),d===$.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===$.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null);c(d)})};nameUsedWithOtherType$$module$build$src$core$variables=function(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();for(let d=0,e;e=c[d];d++)if(e.getName().toLowerCase()===a&&e.getType()!==b)return e;return null};\nnameUsedWithAnyType$$module$build$src$core$variables=function(a,b){b=b.getVariableMap().getAllVariables();a=a.toLowerCase();for(let c=0,d;d=b[c];c++)if(d.getName().toLowerCase()===a)return d;return null};nameUsedWithConflictingParam$$module$build$src$core$variables=function(a,b,c){return c.getProcedureMap().getProcedures().length?checkForConflictingParamWithProcedureModels$$module$build$src$core$variables(a,b,c):checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables(a,b,c)};\ncheckForConflictingParamWithProcedureModels$$module$build$src$core$variables=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getProcedureMap().getProcedures();for(const e of c){var d=e.getParameters().filter(isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model).map(f=>f.getVariableModel().getName());if(d&&(c=d.some(f=>f.toLowerCase()===a),d=d.some(f=>f.toLowerCase()===b),c&&d))return e.getName()}return null};\ncheckForConflictingParamWithLegacyProcedures$$module$build$src$core$variables=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getAllBlocks(!1);for(const e of c){if(!isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(e))continue;c=e.getProcedureDef();var d=c[1];const f=d.some(g=>g.toLowerCase()===a);d=d.some(g=>g.toLowerCase()===b);if(f&&d)return c[0]}return null};\ngenerateVariableFieldDom$$module$build$src$core$variables=function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"field\");b.setAttribute(\"name\",\"VAR\");b.setAttribute(\"id\",a.getId());b.setAttribute(\"variabletype\",a.getType());a=$.createTextNode$$module$build$src$core$utils$xml(a.getName());b.appendChild(a);return b};\n$.getOrCreateVariablePackage$$module$build$src$core$variables=function(a,b,c,d){let e=$.getVariable$$module$build$src$core$variables(a,b,c,d);e||(e=createVariable$$module$build$src$core$variables(a,b,c,d));return e};\n$.getVariable$$module$build$src$core$variables=function(a,b,c,d){const e=a.getPotentialVariableMap();let f=null;if(b&&(f=a.getVariableById(b),!f&&e&&(f=e.getVariableById(b)),f))return f;if(c){if(d===void 0)throw Error(\"Tried to look up a variable by name without a type\");f=a.getVariable(c,d);!f&&e&&(f=e.getVariable(c,d))}return f};\ncreateVariable$$module$build$src$core$variables=function(a,b,c,d){const e=a.getVariableMap(),f=a.getPotentialVariableMap();c||(c=generateUniqueName$$module$build$src$core$variables(a.isFlyout?a.targetWorkspace:a));return f?f.createVariable(c,d,b!=null?b:void 0):e.createVariable(c,d,b)};getAddedVariables$$module$build$src$core$variables=function(a,b){a=a.getAllVariables();const c=[];if(b.length!==a.length)for(let d=0;d<a.length;d++){const e=a[d];b.includes(e)||c.push(e)}return c};\ncompareByName$$module$build$src$core$variables=function(a,b){return a.getName().localeCompare(b.getName(),void 0,{sensitivity:\"base\"})};getVariableUsesById$$module$build$src$core$variables=function(a,b){const c=[];a=a.getAllBlocks(!1);for(let d=0;d<a.length;d++){const e=a[d].getVarModels();if(e)for(let f=0;f<e.length;f++)e[f].getId()===b&&c.push(a[d])}return c};\n$.deleteVariable$$module$build$src$core$variables=function(a,b,c){var d=b.getName();const e=getVariableUsesById$$module$build$src$core$variables(a,b.getId());for(let f=e.length-1;f>=0;f--){const g=e[f];if(g.type===\"procedures_defnoreturn\"||g.type===\"procedures_defreturn\"){c=String(g.getFieldValue(\"NAME\"));d=$.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace(\"%1\",d).replace(\"%2\",c);alert$$module$build$src$core$dialog(d);return}g===c&&e.splice(f,1)}c&&e.length||e.length>1?(d=\n$.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace(\"%1\",String(e.length+(c&&!c.workspace.isFlyout?1:0))).replace(\"%2\",d),confirm$$module$build$src$core$dialog(d,f=>{f&&b&&a.getVariableMap().deleteVariable(b)})):a.getVariableMap().deleteVariable(b)};\nsave$$module$build$src$core$serialization$blocks=function(a,{addCoordinates:b=!1,addInputBlocks:c=!0,addNextBlocks:d=!0,doFullSerialization:e=!0,saveIds:f=!0}={}){if(a.isInsertionMarker())return null;const g={type:a.type,id:f?a.id:void 0};b&&saveCoords$$module$build$src$core$serialization$blocks(a,g);saveAttributes$$module$build$src$core$serialization$blocks(a,g);saveExtraState$$module$build$src$core$serialization$blocks(a,g,e);saveIcons$$module$build$src$core$serialization$blocks(a,g,e);saveFields$$module$build$src$core$serialization$blocks(a,\ng,e);c&&saveInputBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);d&&saveNextBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);return g};\nsaveAttributes$$module$build$src$core$serialization$blocks=function(a,b){a.isCollapsed()&&(b.collapsed=!0);a.isEnabled()||(b.disabledReasons=Array.from(a.getDisabledReasons()));a.isOwnDeletable()||(b.deletable=!1);a.isOwnMovable()||(b.movable=!1);a.isOwnEditable()||(b.editable=!1);a.inputsInline!==void 0&&a.inputsInline!==a.inputsInlineDefault&&(b.inline=a.inputsInline);a.data&&(b.data=a.data)};\nsaveCoords$$module$build$src$core$serialization$blocks=function(a,b){const c=a.workspace;a=a.getRelativeToSurfaceXY();b.x=Math.round(c.RTL?c.getWidth()-a.x:a.x);b.y=Math.round(a.y)};saveExtraState$$module$build$src$core$serialization$blocks=function(a,b,c){a.saveExtraState?(a=a.saveExtraState(c),a!==null&&(b.extraState=a)):a.mutationToDom&&(a=a.mutationToDom(),a!==null&&(b.extraState=domToText$$module$build$src$core$xml(a).replace(' xmlns=\"https://developers.google.com/blockly/xml\"',\"\")))};\nsaveIcons$$module$build$src$core$serialization$blocks=function(a,b,c){const d=Object.create(null);for(const e of a.getIcons())isSerializable$$module$build$src$core$interfaces$i_serializable(e)&&(a=e.saveState(c))&&(d[e.getType().toString()]=a);Object.keys(d).length&&(b.icons=d)};saveFields$$module$build$src$core$serialization$blocks=function(a,b,c){const d=Object.create(null);for(const e of a.getFields())e.isSerializable()&&(d[e.name]=e.saveState(c));Object.keys(d).length&&(b.fields=d)};\nsaveInputBlocks$$module$build$src$core$serialization$blocks=function(a,b,c,d){const e=Object.create(null);for(let f=0;f<a.inputList.length;f++){const g=a.inputList[f];if(!g.connection)continue;const h=saveConnection$$module$build$src$core$serialization$blocks(g.connection,c,d);h&&(e[g.name]=h)}Object.keys(e).length&&(b.inputs=e)};\nsaveNextBlocks$$module$build$src$core$serialization$blocks=function(a,b,c,d){a.nextConnection&&(a=saveConnection$$module$build$src$core$serialization$blocks(a.nextConnection,c,d))&&(b.next=a)};saveConnection$$module$build$src$core$serialization$blocks=function(a,b,c){const d=a.getShadowState(!0);a=a.targetBlock();if(!d&&!a)return null;const e=Object.create(null);d&&(e.shadow=d);a&&!a.isShadow()&&(e.block=save$$module$build$src$core$serialization$blocks(a,{doFullSerialization:b,saveIds:c}));return e};\nappend$$module$build$src$core$serialization$blocks=function(a,b,{recordUndo:c=!1}={}){a=appendInternal$$module$build$src$core$serialization$blocks(a,b,{recordUndo:c});b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a};\nappendInternal$$module$build$src$core$serialization$blocks=function(a,b,{parentConnection:c,isShadow:d=!1,recordUndo:e=!1}={}){const f=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(e);(e=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);$.disable$$module$build$src$core$events$utils();const g=b.getAllVariables();let h;try{h=appendPrivate$$module$build$src$core$serialization$blocks(a,b,{parentConnection:c,\nisShadow:d})}finally{$.enable$$module$build$src$core$events$utils()}checkNewVariables$$module$build$src$core$serialization$blocks(b,g);isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(h));$.setGroup$$module$build$src$core$events$utils(e);$.setRecordUndo$$module$build$src$core$events$utils(f);if(b.rendered){const k=h;setTimeout(()=>{k.disposed||k.setConnectionTracking(!0)},\n1)}return h};\nappendPrivate$$module$build$src$core$serialization$blocks=function(a,b,{parentConnection:c,isShadow:d=!1}={}){if(!a.type)throw new MissingBlockType$$module$build$src$core$serialization$exceptions(a);const e=b.newBlock(a.type,a.id);e.setShadow(d);loadCoords$$module$build$src$core$serialization$blocks(e,a);loadAttributes$$module$build$src$core$serialization$blocks(e,a);loadExtraState$$module$build$src$core$serialization$blocks(e,a);tryToConnectParent$$module$build$src$core$serialization$blocks(c,e,\na);loadIcons$$module$build$src$core$serialization$blocks(e,a);loadFields$$module$build$src$core$serialization$blocks(e,a);loadInputBlocks$$module$build$src$core$serialization$blocks(e,a);loadNextBlocks$$module$build$src$core$serialization$blocks(e,a);initBlock$$module$build$src$core$serialization$blocks(e,b.rendered);return e};\ncheckNewVariables$$module$build$src$core$serialization$blocks=function(a,b){if(isEnabled$$module$build$src$core$events$utils())for(a=getAddedVariables$$module$build$src$core$variables(a,b),b=0;b<a.length;b++){const c=a[b];fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(c))}};\nloadCoords$$module$build$src$core$serialization$blocks=function(a,b){let c=b.x===void 0?0:b.x;b=b.y===void 0?0:b.y;const d=a.workspace;c=d.RTL?d.getWidth()-c:c;a.moveBy(c,b)};\nloadAttributes$$module$build$src$core$serialization$blocks=function(a,b){b.collapsed&&a.setCollapsed(!0);b.deletable===!1&&a.setDeletable(!1);b.movable===!1&&a.setMovable(!1);b.editable===!1&&a.setEditable(!1);b.enabled===!1&&a.setDisabledReason(!0,MANUALLY_DISABLED$$module$build$src$core$constants);if(Array.isArray(b.disabledReasons))for(const c of b.disabledReasons)a.setDisabledReason(!0,c);b.inline!==void 0&&a.setInputsInline(b.inline);b.data!==void 0&&(a.data=b.data)};\nloadExtraState$$module$build$src$core$serialization$blocks=function(a,b){b.extraState&&(a.loadExtraState?a.loadExtraState(b.extraState):a.domToMutation&&a.domToMutation($.textToDom$$module$build$src$core$utils$xml(b.extraState)))};\ntryToConnectParent$$module$build$src$core$serialization$blocks=function(a,b,c){if(a){if(a.getSourceBlock().isShadow()&&!b.isShadow())throw new RealChildOfShadow$$module$build$src$core$serialization$exceptions(c);if(a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=b.outputConnection;if(!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"output\",b,c);}else if(d=b.previousConnection,!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"previous\",\nb,c);if(!a.connect(d)){const e=b.workspace.connectionChecker;throw new BadConnectionCheck$$module$build$src$core$serialization$exceptions(e.getErrorMessage(e.canConnectWithReason(d,a,!1),d,a),a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?\"output connection\":\"previous connection\",b,c);}}};\nloadIcons$$module$build$src$core$serialization$blocks=function(a,b){if(b.icons){var c=Object.keys(b.icons);for(const e of c){c=b.icons[e];var d=a.getIcon(e);if(!d){d=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,e,!1);if(!d)throw new UnregisteredIcon$$module$build$src$core$serialization$exceptions(e,a,b);d=new d(a);a.addIcon(d)}isSerializable$$module$build$src$core$interfaces$i_serializable(d)&&d.loadState(c)}}};\nloadFields$$module$build$src$core$serialization$blocks=function(a,b){if(b.fields){var c=Object.keys(b.fields);for(let d=0;d<c.length;d++){const e=c[d],f=b.fields[e],g=a.getField(e);g?g.loadState(f):console.warn(`Ignoring non-existant field ${e} in block ${a.type}`)}}};\nloadInputBlocks$$module$build$src$core$serialization$blocks=function(a,b){if(b.inputs){var c=Object.keys(b.inputs);for(let d=0;d<c.length;d++){const e=c[d],f=a.getInput(e);if(!f||!f.connection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(e,a,b);loadConnection$$module$build$src$core$serialization$blocks(f.connection,b.inputs[e])}}};\nloadNextBlocks$$module$build$src$core$serialization$blocks=function(a,b){if(b.next){if(!a.nextConnection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"next\",a,b);loadConnection$$module$build$src$core$serialization$blocks(a.nextConnection,b.next)}};loadConnection$$module$build$src$core$serialization$blocks=function(a,b){b.shadow&&a.setShadowState(b.shadow);b.block&&appendPrivate$$module$build$src$core$serialization$blocks(b.block,a.getSourceBlock().workspace,{parentConnection:a})};\ninitBlock$$module$build$src$core$serialization$blocks=function(a,b){if(b){a.setConnectionTracking(!1);a.initSvg();a.queueRender();for(const c of a.getIcons())c.onLocationChange(a.getRelativeToSurfaceXY())}else a.initModel()};hasBubble$$module$build$src$core$interfaces$i_has_bubble=function(a){return typeof a.bubbleIsVisible===\"function\"&&typeof a.setBubbleVisible===\"function\"&&typeof a.getBubble===\"function\"};toRadians$$module$build$src$core$utils$math=function(a){return a*Math.PI/180};\ntoDegrees$$module$build$src$core$utils$math=function(a){return a*180/Math.PI};clamp$$module$build$src$core$utils$math=function(a,b,c){if(c<a){const d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};\ncreateDom$$module$build$src$core$dropdowndiv=function(){document.querySelector(\".blocklyDropDownDiv\")||(div$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),div$$module$build$src$core$dropdowndiv.className=\"blocklyDropDownDiv\",div$$module$build$src$core$dropdowndiv.tabIndex=-1,(getParentContainer$$module$build$src$core$common()||document.body).appendChild(div$$module$build$src$core$dropdowndiv),content$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),content$$module$build$src$core$dropdowndiv.className=\n\"blocklyDropDownContent\",div$$module$build$src$core$dropdowndiv.appendChild(content$$module$build$src$core$dropdowndiv),keydownListener$$module$build$src$core$dropdowndiv=conditionalBind$$module$build$src$core$browser_events(content$$module$build$src$core$dropdowndiv,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common),arrow$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),arrow$$module$build$src$core$dropdowndiv.className=\"blocklyDropDownArrow\",div$$module$build$src$core$dropdowndiv.appendChild(arrow$$module$build$src$core$dropdowndiv),\ndiv$$module$build$src$core$dropdowndiv.style.opacity=\"0\",div$$module$build$src$core$dropdowndiv.style.transition=\"transform \"+ANIMATION_TIME$$module$build$src$core$dropdowndiv+\"s, opacity \"+ANIMATION_TIME$$module$build$src$core$dropdowndiv+\"s\")};setBoundsElement$$module$build$src$core$dropdowndiv=function(a){boundsElement$$module$build$src$core$dropdowndiv=a};getOwner$$module$build$src$core$dropdowndiv=function(){return owner$$module$build$src$core$dropdowndiv};\ngetContentDiv$$module$build$src$core$dropdowndiv=function(){return content$$module$build$src$core$dropdowndiv};clearContent$$module$build$src$core$dropdowndiv=function(){keydownListener$$module$build$src$core$dropdowndiv&&(unbind$$module$build$src$core$browser_events(keydownListener$$module$build$src$core$dropdowndiv),keydownListener$$module$build$src$core$dropdowndiv=null);div$$module$build$src$core$dropdowndiv.remove();createDom$$module$build$src$core$dropdowndiv()};\nsetColour$$module$build$src$core$dropdowndiv=function(a,b){div$$module$build$src$core$dropdowndiv.style.backgroundColor=a;div$$module$build$src$core$dropdowndiv.style.borderColor=b};showPositionedByBlock$$module$build$src$core$dropdowndiv=function(a,b,c,d,e=!0){return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(b),a,e,c,d)};\nshowPositionedByField$$module$build$src$core$dropdowndiv=function(a,b,c,d=!0){positionToField$$module$build$src$core$dropdowndiv=!0;return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfField$$module$build$src$core$dropdowndiv(a),a,d,b,c)};\ngetScaledBboxOfBlock$$module$build$src$core$dropdowndiv=function(a){var b=a.getSvgRoot();const c=a.workspace.scale,d=a.height*c;a=a.width*c;b=getPageOffset$$module$build$src$core$utils$style(b);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+d,b.x,b.x+a)};getScaledBboxOfField$$module$build$src$core$dropdowndiv=function(a){a=a.getScaledBBox();return new Rect$$module$build$src$core$utils$rect(a.top,a.bottom,a.left,a.right)};\nshowPositionedByRect$$module$build$src$core$dropdowndiv=function(a,b,c,d,e){const f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=b.getSourceBlock();let h=e.workspace;for(;h.options.parentWorkspace;)h=h.options.parentWorkspace;setBoundsElement$$module$build$src$core$dropdowndiv(h.getParentSvg().parentNode);return show$$module$build$src$core$dropdowndiv(b,e.RTL,f,g,f,a,c,d)};\nshow$$module$build$src$core$dropdowndiv=function(a,b,c,d,e,f,g,h){owner$$module$build$src$core$dropdowndiv=a;onHide$$module$build$src$core$dropdowndiv=h||null;div$$module$build$src$core$dropdowndiv.style.direction=b?\"rtl\":\"ltr\";a=getMainWorkspace$$module$build$src$core$common();renderedClassName$$module$build$src$core$dropdowndiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$dropdowndiv=a.getTheme().getClassName();addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,\nrenderedClassName$$module$build$src$core$dropdowndiv);addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,themeClassName$$module$build$src$core$dropdowndiv);c=positionInternal$$module$build$src$core$dropdowndiv(c,d,e,f);g&&(returnEphemeralFocus$$module$build$src$core$dropdowndiv=$.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(div$$module$build$src$core$dropdowndiv));return c};\ngetPositionBelowMetrics$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b,finalX:a.divX,finalY:b+PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:-(ARROW_SIZE$$module$build$src$core$dropdowndiv/2+BORDER_SIZE$$module$build$src$core$dropdowndiv),arrowAtTop:!0,arrowVisible:!0}};\ngetPositionAboveMetrics$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b-d.height,finalX:a.divX,finalY:b-d.height-PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:d.height-BORDER_SIZE$$module$build$src$core$dropdowndiv*2-ARROW_SIZE$$module$build$src$core$dropdowndiv/2,arrowAtTop:!1,arrowVisible:!0}};\ngetPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv=function(a,b,c){a=getPositionX$$module$build$src$core$dropdowndiv(a,b.left,b.right,c.width);return{initialX:a.divX,initialY:0,finalX:a.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}};\ngetPositionX$$module$build$src$core$dropdowndiv=function(a,b,c,d){b=clamp$$module$build$src$core$utils$math(b,a-d/2,c-d);a=a-ARROW_SIZE$$module$build$src$core$dropdowndiv/2-b;c=ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv;a=clamp$$module$build$src$core$utils$math(c,a,d-c-ARROW_SIZE$$module$build$src$core$dropdowndiv);return{arrowX:a,divX:b}};isVisible$$module$build$src$core$dropdowndiv=function(){return!!owner$$module$build$src$core$dropdowndiv};\nhideIfOwner$$module$build$src$core$dropdowndiv=function(a,b){return owner$$module$build$src$core$dropdowndiv===a?(b?hideWithoutAnimation$$module$build$src$core$dropdowndiv():hide$$module$build$src$core$dropdowndiv(),!0):!1};\nhide$$module$build$src$core$dropdowndiv=function(){div$$module$build$src$core$dropdowndiv.style.transform=\"translate(0, 0)\";div$$module$build$src$core$dropdowndiv.style.opacity=\"0\";animateOutTimer$$module$build$src$core$dropdowndiv=setTimeout(function(){hideWithoutAnimation$$module$build$src$core$dropdowndiv()},ANIMATION_TIME$$module$build$src$core$dropdowndiv*1E3);onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null)};\nhideWithoutAnimation$$module$build$src$core$dropdowndiv=function(){isVisible$$module$build$src$core$dropdowndiv()&&(animateOutTimer$$module$build$src$core$dropdowndiv&&clearTimeout(animateOutTimer$$module$build$src$core$dropdowndiv),onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null),clearContent$$module$build$src$core$dropdowndiv(),owner$$module$build$src$core$dropdowndiv=null,getMainWorkspace$$module$build$src$core$common().markFocused(),\nreturnEphemeralFocus$$module$build$src$core$dropdowndiv&&(returnEphemeralFocus$$module$build$src$core$dropdowndiv(),returnEphemeralFocus$$module$build$src$core$dropdowndiv=null))};\npositionInternal$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=internal$$module$build$src$core$dropdowndiv.getPositionMetrics(a,b,c,d);a.arrowVisible?(b=a.arrowX,c=a.arrowY,d=a.arrowAtTop?45:225,arrow$$module$build$src$core$dropdowndiv.style.display=\"\",arrow$$module$build$src$core$dropdowndiv.style.transform=`translate(${b}px, ${c}px) rotate(${d}deg)`,arrow$$module$build$src$core$dropdowndiv.setAttribute(\"class\",\"blocklyDropDownArrow\")):arrow$$module$build$src$core$dropdowndiv.style.display=\n\"none\";b=Math.floor(a.initialX);c=Math.floor(a.initialY);d=Math.floor(a.finalX);const e=Math.floor(a.finalY);div$$module$build$src$core$dropdowndiv.style.left=b+\"px\";div$$module$build$src$core$dropdowndiv.style.top=c+\"px\";div$$module$build$src$core$dropdowndiv.style.display=\"block\";div$$module$build$src$core$dropdowndiv.style.opacity=\"1\";div$$module$build$src$core$dropdowndiv.style.transform=\"translate(\"+(d-b)+\"px,\"+(e-c)+\"px)\";return!!a.arrowAtTop};\nrepositionForWindowResize$$module$build$src$core$dropdowndiv=function(){if(owner$$module$build$src$core$dropdowndiv){var a=owner$$module$build$src$core$dropdowndiv.getSourceBlock();a=positionToField$$module$build$src$core$dropdowndiv?getScaledBboxOfField$$module$build$src$core$dropdowndiv(owner$$module$build$src$core$dropdowndiv):getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(a);const b=a.left+(a.right-a.left)/2;positionInternal$$module$build$src$core$dropdowndiv(b,a.bottom,b,a.top)}else hide$$module$build$src$core$dropdowndiv()};\nshortestStringLength$$module$build$src$core$utils$string=function(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0};\ncommonWordPrefix$$module$build$src$core$utils$string=function(a,b){if(!a.length)return 0;if(a.length===1)return a[0].length;let c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);let d;for(d=0;d<b;d++){var e=a[0][d];for(var f=1;f<a.length;f++)if(e!==a[f][d])return c;e===\" \"&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e][d])&&f!==\" \")return c;return b};\ncommonWordSuffix$$module$build$src$core$utils$string=function(a,b){if(!a.length)return 0;if(a.length===1)return a[0].length;let c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);let d;for(d=0;d<b;d++){var e=a[0].substr(-d-1,1);for(var f=1;f<a.length;f++)if(e!==a[f].substr(-d-1,1))return c;e===\" \"&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e].charAt(a[e].length-d-1))&&f!==\" \")return c;return b};\n$.wrap$$module$build$src$core$utils$string=function(a,b){a=a.split(\"\\n\");for(let c=0;c<a.length;c++)a[c]=wrapLine$$module$build$src$core$utils$string(a[c],b);return a.join(\"\\n\")};\nwrapLine$$module$build$src$core$utils$string=function(a,b){if(a.length<=b)return a;const c=a.trim().split(/\\s+/);for(var d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);var e=-Infinity;let f,g=1;do{d=e;f=a;a=[];e=c.length/g;let h=1;for(let k=0;k<c.length-1;k++)h<(k+1.5)/e?(h++,a[k]=!0):a[k]=!1;a=wrapMutate$$module$build$src$core$utils$string(c,a,b);e=wrapScore$$module$build$src$core$utils$string(c,a,b);a=wrapToText$$module$build$src$core$utils$string(c,a);g++}while(e>d);return f};\nwrapScore$$module$build$src$core$utils$string=function(a,b,c){const d=[0],e=[];for(var f=0;f<a.length;f++)d[d.length-1]+=a[f].length,b[f]===!0?(d.push(0),e.push(a[f].charAt(a[f].length-1))):b[f]===!1&&d[d.length-1]++;a=Math.max(...d);b=0;for(f=0;f<d.length;f++)b-=Math.pow(Math.abs(c-d[f]),1.5)*2,b-=Math.pow(a-d[f],1.5),\".?!\".includes(e[f])?b+=c/3:\",;)]}\".includes(e[f])&&(b+=c/4);d.length>1&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};\nwrapMutate$$module$build$src$core$utils$string=function(a,b,c){let d=wrapScore$$module$build$src$core$utils$string(a,b,c),e;for(let f=0;f<b.length-1;f++){if(b[f]===b[f+1])continue;const g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];const h=wrapScore$$module$build$src$core$utils$string(a,g,c);h>d&&(d=h,e=g)}return e?wrapMutate$$module$build$src$core$utils$string(a,e,c):b};\nwrapToText$$module$build$src$core$utils$string=function(a,b){const c=[];for(let d=0;d<a.length;d++)c.push(a[d]),b[d]!==void 0&&c.push(b[d]?\"\\n\":\" \");return c.join(\"\")};$.isNumber$$module$build$src$core$utils$string=function(a){return/^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(a)};setCustomTooltip$$module$build$src$core$tooltip=function(a){customTooltip$$module$build$src$core$tooltip=a};getCustomTooltip$$module$build$src$core$tooltip=function(){return customTooltip$$module$build$src$core$tooltip};\nisVisible$$module$build$src$core$tooltip=function(){return visible$$module$build$src$core$tooltip};getDiv$$module$build$src$core$tooltip=function(){return containerDiv$$module$build$src$core$tooltip};getTooltipOfObject$$module$build$src$core$tooltip=function(a){if(a=getTargetObject$$module$build$src$core$tooltip(a)){for(a=a.tooltip;typeof a===\"function\";)a=a();if(typeof a!==\"string\")throw Error(\"Tooltip function must return a string.\");return a}return\"\"};\ngetTargetObject$$module$build$src$core$tooltip=function(a){for(;a&&a.tooltip;){if(typeof a.tooltip===\"string\"||typeof a.tooltip===\"function\")return a;a=a.tooltip}return null};createDom$$module$build$src$core$tooltip=function(){document.querySelector(\".blocklyTooltipDiv\")||(containerDiv$$module$build$src$core$tooltip=document.createElement(\"div\"),containerDiv$$module$build$src$core$tooltip.className=\"blocklyTooltipDiv\",(getParentContainer$$module$build$src$core$common()||document.body).appendChild(containerDiv$$module$build$src$core$tooltip))};\nbindMouseEvents$$module$build$src$core$tooltip=function(a){a.mouseOverWrapper_=bind$$module$build$src$core$browser_events(a,\"pointerover\",null,onMouseOver$$module$build$src$core$tooltip);a.mouseOutWrapper_=bind$$module$build$src$core$browser_events(a,\"pointerout\",null,onMouseOut$$module$build$src$core$tooltip);a.addEventListener(\"pointermove\",onMouseMove$$module$build$src$core$tooltip,!1)};\nunbindMouseEvents$$module$build$src$core$tooltip=function(a){a&&(unbind$$module$build$src$core$browser_events(a.mouseOverWrapper_),unbind$$module$build$src$core$browser_events(a.mouseOutWrapper_),a.removeEventListener(\"pointermove\",onMouseMove$$module$build$src$core$tooltip))};\nonMouseOver$$module$build$src$core$tooltip=function(a){blocked$$module$build$src$core$tooltip||(a=getTargetObject$$module$build$src$core$tooltip(a.currentTarget),element$$module$build$src$core$tooltip!==a&&(hide$$module$build$src$core$tooltip(),poisonedElement$$module$build$src$core$tooltip=null,element$$module$build$src$core$tooltip=a),clearTimeout(mouseOutPid$$module$build$src$core$tooltip))};\nonMouseOut$$module$build$src$core$tooltip=function(a){blocked$$module$build$src$core$tooltip||(mouseOutPid$$module$build$src$core$tooltip=setTimeout(function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip()},1),clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0)};\nonMouseMove$$module$build$src$core$tooltip=function(a){if(element$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip.tooltip&&!blocked$$module$build$src$core$tooltip)if(visible$$module$build$src$core$tooltip){const b=lastX$$module$build$src$core$tooltip-a.pageX;a=lastY$$module$build$src$core$tooltip-a.pageY;Math.sqrt(b*b+a*a)>RADIUS_OK$$module$build$src$core$tooltip&&hide$$module$build$src$core$tooltip()}else poisonedElement$$module$build$src$core$tooltip!==element$$module$build$src$core$tooltip&&\n(clearTimeout(showPid$$module$build$src$core$tooltip),lastX$$module$build$src$core$tooltip=a.pageX,lastY$$module$build$src$core$tooltip=a.pageY,showPid$$module$build$src$core$tooltip=setTimeout(show$$module$build$src$core$tooltip,HOVER_MS$$module$build$src$core$tooltip))};dispose$$module$build$src$core$tooltip=function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip()};\nhide$$module$build$src$core$tooltip=function(){visible$$module$build$src$core$tooltip&&(visible$$module$build$src$core$tooltip=!1,containerDiv$$module$build$src$core$tooltip&&(containerDiv$$module$build$src$core$tooltip.style.display=\"none\"));showPid$$module$build$src$core$tooltip&&(clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0)};\nblock$$module$build$src$core$tooltip=function(){hide$$module$build$src$core$tooltip();blocked$$module$build$src$core$tooltip=!0};unblock$$module$build$src$core$tooltip=function(){blocked$$module$build$src$core$tooltip=!1};\nrenderContent$$module$build$src$core$tooltip=function(){containerDiv$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip&&(typeof customTooltip$$module$build$src$core$tooltip===\"function\"?customTooltip$$module$build$src$core$tooltip(containerDiv$$module$build$src$core$tooltip,element$$module$build$src$core$tooltip):renderDefaultContent$$module$build$src$core$tooltip())};\nrenderDefaultContent$$module$build$src$core$tooltip=function(){var a=getTooltipOfObject$$module$build$src$core$tooltip(element$$module$build$src$core$tooltip);a=$.wrap$$module$build$src$core$utils$string(a,LIMIT$$module$build$src$core$tooltip);a=a.split(\"\\n\");for(let b=0;b<a.length;b++){const c=document.createElement(\"div\");c.appendChild(document.createTextNode(a[b]));containerDiv$$module$build$src$core$tooltip.appendChild(c)}};\ngetPosition$$module$build$src$core$tooltip=function(a){const b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;let d=lastX$$module$build$src$core$tooltip;d=a?d-(OFFSET_X$$module$build$src$core$tooltip+containerDiv$$module$build$src$core$tooltip.offsetWidth):d+OFFSET_X$$module$build$src$core$tooltip;let e=lastY$$module$build$src$core$tooltip+OFFSET_Y$$module$build$src$core$tooltip;e+containerDiv$$module$build$src$core$tooltip.offsetHeight>c+window.scrollY&&(e-=containerDiv$$module$build$src$core$tooltip.offsetHeight+\n2*OFFSET_Y$$module$build$src$core$tooltip);a?d=Math.max(MARGINS$$module$build$src$core$tooltip-window.scrollX,d):d+containerDiv$$module$build$src$core$tooltip.offsetWidth>b+window.scrollX-2*MARGINS$$module$build$src$core$tooltip&&(d=b-containerDiv$$module$build$src$core$tooltip.offsetWidth-2*MARGINS$$module$build$src$core$tooltip);return{x:d,y:e}};\nshow$$module$build$src$core$tooltip=function(){if(!blocked$$module$build$src$core$tooltip&&(poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip,containerDiv$$module$build$src$core$tooltip)){containerDiv$$module$build$src$core$tooltip.textContent=\"\";renderContent$$module$build$src$core$tooltip();var a=element$$module$build$src$core$tooltip.RTL;containerDiv$$module$build$src$core$tooltip.style.direction=a?\"rtl\":\"ltr\";containerDiv$$module$build$src$core$tooltip.style.display=\n\"block\";visible$$module$build$src$core$tooltip=!0;var {x:b,y:c}=getPosition$$module$build$src$core$tooltip(a);containerDiv$$module$build$src$core$tooltip.style.left=b+\"px\";containerDiv$$module$build$src$core$tooltip.style.top=c+\"px\"}};getHsvSaturation$$module$build$src$core$utils$colour=function(){return hsvSaturation$$module$build$src$core$utils$colour};setHsvSaturation$$module$build$src$core$utils$colour=function(a){hsvSaturation$$module$build$src$core$utils$colour=a};\ngetHsvValue$$module$build$src$core$utils$colour=function(){return hsvValue$$module$build$src$core$utils$colour};setHsvValue$$module$build$src$core$utils$colour=function(a){hsvValue$$module$build$src$core$utils$colour=a};\nparse$$module$build$src$core$utils$colour=function(a){a=`${a}`.toLowerCase().trim();var b=names$$module$build$src$core$utils$colour[a];if(b)return b;b=a.substring(0,2)===\"0x\"?\"#\"+a.substring(2):a;b=b[0]===\"#\"?b:\"#\"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return[\"#\",b[1],b[1],b[2],b[2],b[3],b[3]].join(\"\");var c=a.match(/^(?:rgb)?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),a>=0&&a<256&&b>=0&&b<256&&c>=0&&c<256)?rgbToHex$$module$build$src$core$utils$colour(a,\nb,c):null};rgbToHex$$module$build$src$core$utils$colour=function(a,b,c){b=a<<16|b<<8|c;return a<16?\"#\"+(16777216|b).toString(16).substr(1):\"#\"+b.toString(16)};hexToRgb$$module$build$src$core$utils$colour=function(a){a=parse$$module$build$src$core$utils$colour(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};\nhsvToHex$$module$build$src$core$utils$colour=function(a,b,c){let d=0,e=0,f=0;if(b===0)f=e=d=c;else{const g=Math.floor(a/60),h=a/60-g;a=c*(1-b);const k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return rgbToHex$$module$build$src$core$utils$colour(Math.floor(d),Math.floor(e),Math.floor(f))};\nblend$$module$build$src$core$utils$colour=function(a,b,c){a=parse$$module$build$src$core$utils$colour(a);if(!a)return null;b=parse$$module$build$src$core$utils$colour(b);if(!b)return null;a=hexToRgb$$module$build$src$core$utils$colour(a);b=hexToRgb$$module$build$src$core$utils$colour(b);return rgbToHex$$module$build$src$core$utils$colour(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))};\nhueToHex$$module$build$src$core$utils$colour=function(a){return hsvToHex$$module$build$src$core$utils$colour(a,hsvSaturation$$module$build$src$core$utils$colour,hsvValue$$module$build$src$core$utils$colour*255)};\ntokenizeInterpolationInternal$$module$build$src$core$utils$parsing=function(a,b,c){const d=[];var e=a.split(\"\");e.push(\"\");var f=0;a=[];let g=null;for(let l=0;l<e.length;l++){var h=e[l];if(f===0)if(h===\"%\")(f=a.join(\"\"))&&d.push(f),a.length=0,f=1;else if(c&&h===\"\\n\"){const m=a.join(\"\");m&&d.push(m);a.length=0;d.push(h)}else a.push(h);else if(f===1)h===\"%\"?(a.push(h),f=0):b&&\"0\"<=h&&h<=\"9\"?(f=2,g=h,(h=a.join(\"\"))&&d.push(h),a.length=0):h===\"{\"?f=3:(a.push(\"%\",h),f=0);else if(f===2)if(\"0\"<=h&&h<=\"9\")g+=\nh;else{var k=void 0;d.push(parseInt((k=g)!=null?k:\"\",10));l--;f=0}else f===3&&(h===\"\"?(a.splice(0,0,\"%{\"),l--,f=0):h!==\"}\"?a.push(h):(f=a.join(\"\"),/[A-Z]\\w*/i.test(f)?(h=f.toUpperCase(),(h=h.startsWith(\"BKY_\")?h.substring(4):null)&&h in $.Msg$$module$build$src$core$msg?(f=$.Msg$$module$build$src$core$msg[h],typeof f===\"string\"?Array.prototype.push.apply(d,tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(f,b,c)):b?d.push(`${f}`):d.push(f)):d.push(\"%{\"+f+\"}\")):d.push(\"%{\"+f+\"}\"),f=\na.length=0))}(b=a.join(\"\"))&&d.push(b);k=[];a.length=0;for(e=0;e<d.length;e++)typeof d[e]!==\"string\"||c&&d[e]===\"\\n\"?((b=a.join(\"\"))&&k.push(b),a.length=0,k.push(d[e])):a.push(d[e]);(b=a.join(\"\"))&&k.push(b);a.length=0;return k};tokenizeInterpolation$$module$build$src$core$utils$parsing=function(a){return tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!0,!0)};\nreplaceMessageReferences$$module$build$src$core$utils$parsing=function(a){if(typeof a!==\"string\")return a;a=tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!1,!1);return a.length?String(a[0]):\"\"};\ncheckMessageReferences$$module$build$src$core$utils$parsing=function(a){let b=!0;const c=$.Msg$$module$build$src$core$msg,d=a.match(/%{BKY_[A-Z]\\w*}/gi);if(d)for(let e=0;e<d.length;e++){const f=d[e].toUpperCase();c[f.slice(6,-1)]===void 0&&(console.warn(\"No message string for \"+d[e]+\" in \"+a),b=!1)}return b};\nparseBlockColour$$module$build$src$core$utils$parsing=function(a){const b=typeof a===\"string\"?replaceMessageReferences$$module$build$src$core$utils$parsing(a):a;var c=Number(b);if(!isNaN(c)&&0<=c&&c<=360)return{hue:c,hex:hsvToHex$$module$build$src$core$utils$colour(c,getHsvSaturation$$module$build$src$core$utils$colour(),getHsvValue$$module$build$src$core$utils$colour()*255)};if(c=parse$$module$build$src$core$utils$colour(b))return{hue:null,hex:c};c='Invalid colour: \"'+b+'\"';a!==b&&(c+=' (from \"'+\na+'\")');throw Error(c);};getDiv$$module$build$src$core$widgetdiv=function(){return containerDiv$$module$build$src$core$widgetdiv};testOnly_setDiv$$module$build$src$core$widgetdiv=function(a){containerDiv$$module$build$src$core$widgetdiv=a;if(a===null){let b;(b=document.querySelector(\".\"+containerClassName$$module$build$src$core$widgetdiv))==null||b.remove()}};\ncreateDom$$module$build$src$core$widgetdiv=function(){const a=getParentContainer$$module$build$src$core$common()||document.body,b=document.querySelector(\"div.\"+containerClassName$$module$build$src$core$widgetdiv);b?containerDiv$$module$build$src$core$widgetdiv=b:(containerDiv$$module$build$src$core$widgetdiv=document.createElement(\"div\"),containerDiv$$module$build$src$core$widgetdiv.className=containerClassName$$module$build$src$core$widgetdiv,containerDiv$$module$build$src$core$widgetdiv.tabIndex=\n-1);conditionalBind$$module$build$src$core$browser_events(containerDiv$$module$build$src$core$widgetdiv,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common);a.appendChild(containerDiv$$module$build$src$core$widgetdiv)};\nshow$$module$build$src$core$widgetdiv=function(a,b,c,d,e=!0){hide$$module$build$src$core$widgetdiv();owner$$module$build$src$core$widgetdiv=a;dispose$$module$build$src$core$widgetdiv=c;if(c=containerDiv$$module$build$src$core$widgetdiv){c.style.direction=b?\"rtl\":\"ltr\";c.style.display=\"block\";if(!d&&a instanceof Field$$module$build$src$core$field){let h;d=(h=a.getSourceBlock())==null?void 0:h.workspace}var f;ownerWorkspace$$module$build$src$core$widgetdiv=(f=d)!=null?f:null;var g;a=(g=d)!=null?g:getMainWorkspace$$module$build$src$core$common();\nrendererClassName$$module$build$src$core$widgetdiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$widgetdiv=a.getTheme().getClassName();rendererClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(c,rendererClassName$$module$build$src$core$widgetdiv);themeClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(c,themeClassName$$module$build$src$core$widgetdiv);e&&(returnEphemeralFocus$$module$build$src$core$widgetdiv=\n$.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(c))}};\nhide$$module$build$src$core$widgetdiv=function(){if(isVisible$$module$build$src$core$widgetdiv()){owner$$module$build$src$core$widgetdiv=null;var a=containerDiv$$module$build$src$core$widgetdiv;a&&(a.style.display=\"none\",a.style.left=\"\",a.style.top=\"\",dispose$$module$build$src$core$widgetdiv&&(dispose$$module$build$src$core$widgetdiv(),dispose$$module$build$src$core$widgetdiv=null),a.textContent=\"\",rendererClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,\nrendererClassName$$module$build$src$core$widgetdiv),rendererClassName$$module$build$src$core$widgetdiv=\"\"),themeClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,themeClassName$$module$build$src$core$widgetdiv),themeClassName$$module$build$src$core$widgetdiv=\"\"),getMainWorkspace$$module$build$src$core$common().markFocused(),returnEphemeralFocus$$module$build$src$core$widgetdiv&&(returnEphemeralFocus$$module$build$src$core$widgetdiv(),returnEphemeralFocus$$module$build$src$core$widgetdiv=\nnull))}};isVisible$$module$build$src$core$widgetdiv=function(){return!!owner$$module$build$src$core$widgetdiv};hideIfOwner$$module$build$src$core$widgetdiv=function(a){owner$$module$build$src$core$widgetdiv===a&&hide$$module$build$src$core$widgetdiv()};hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv=function(a){let b=ownerWorkspace$$module$build$src$core$widgetdiv===null,c=a;for(;!b&&c;){if(c===a){b=!0;break}c=a.options.parentWorkspace}b&&hide$$module$build$src$core$widgetdiv()};\npositionInternal$$module$build$src$core$widgetdiv=function(a,b,c){containerDiv$$module$build$src$core$widgetdiv.style.left=a+\"px\";containerDiv$$module$build$src$core$widgetdiv.style.top=b+\"px\";containerDiv$$module$build$src$core$widgetdiv.style.height=c+\"px\"};\npositionWithAnchor$$module$build$src$core$widgetdiv=function(a,b,c,d){const e=calculateY$$module$build$src$core$widgetdiv(a,b,c);a=calculateX$$module$build$src$core$widgetdiv(a,b,c,d);e<0?positionInternal$$module$build$src$core$widgetdiv(a,0,c.height+e):positionInternal$$module$build$src$core$widgetdiv(a,e,c.height)};calculateX$$module$build$src$core$widgetdiv=function(a,b,c,d){return d?Math.min(Math.max(b.right-c.width,a.left),a.right-c.width):Math.max(Math.min(b.left,a.right-c.width),a.left)};\ncalculateY$$module$build$src$core$widgetdiv=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};isRepositionable$$module$build$src$core$widgetdiv=function(a){return!(a==null||!a.repositionForWindowResize)};repositionForWindowResize$$module$build$src$core$widgetdiv=function(){isRepositionable$$module$build$src$core$widgetdiv(owner$$module$build$src$core$widgetdiv)&&owner$$module$build$src$core$widgetdiv.repositionForWindowResize()||hide$$module$build$src$core$widgetdiv()};\ngetCurrentBlock$$module$build$src$core$contextmenu=function(){return currentBlock$$module$build$src$core$contextmenu};setCurrentBlock$$module$build$src$core$contextmenu=function(a){currentBlock$$module$build$src$core$contextmenu=a};\nshow$$module$build$src$core$contextmenu=function(a,b,c,d,e){show$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu,c,dispose$$module$build$src$core$contextmenu,d);if(b.length){e||(a instanceof PointerEvent?e=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):(console.warn(\"Context menu opened with keyboard but no location given\"),e=new Coordinate$$module$build$src$core$utils$coordinate(0,0)));var f=populate_$$module$build$src$core$contextmenu(b,\nc,a,e);menu_$$module$build$src$core$contextmenu=f;position_$$module$build$src$core$contextmenu(f,c,e);setTimeout(function(){f.focus()},1);currentBlock$$module$build$src$core$contextmenu=null}else hide$$module$build$src$core$contextmenu()};\npopulate_$$module$build$src$core$contextmenu=function(a,b,c,d){const e=new Menu$$module$build$src$core$menu;e.setRole(Role$$module$build$src$core$utils$aria.MENU);for(let f=0;f<a.length;f++){const g=a[f];if(g.separator){e.addChild(new MenuSeparator$$module$build$src$core$menu_separator);continue}const h=new MenuItem$$module$build$src$core$menuitem(g.text);h.setRightToLeft(b);h.setRole(Role$$module$build$src$core$utils$aria.MENUITEM);e.addChild(h);h.setEnabled(g.enabled);if(g.enabled)h.onAction(function(k,\nl){hide$$module$build$src$core$contextmenu();requestAnimationFrame(()=>{setTimeout(()=>{g.callback(g.scope,c,l,d)},0)})},{})}return e};\nposition_$$module$build$src$core$contextmenu=function(a,b,c){const d=getViewportBBox$$module$build$src$core$utils$svg_math();c=new Rect$$module$build$src$core$utils$rect(c.y+d.top,c.y+d.top,c.x+d.left,c.x+d.left);createWidget_$$module$build$src$core$contextmenu(a);const e=a.getSize();b&&(c.left+=e.width,c.right+=e.width,d.left+=e.width,d.right+=e.width);positionWithAnchor$$module$build$src$core$widgetdiv(d,c,e,b);a.focus()};\ncreateWidget_$$module$build$src$core$contextmenu=function(a){var b=getDiv$$module$build$src$core$widgetdiv();if(!b)throw Error(\"Attempting to create a context menu when widget div is null\");b=a.render(b);addClass$$module$build$src$core$utils$dom(b,\"blocklyContextMenu\");conditionalBind$$module$build$src$core$browser_events(b,\"contextmenu\",null,haltPropagation$$module$build$src$core$contextmenu);a.focus()};haltPropagation$$module$build$src$core$contextmenu=function(a){a.preventDefault();a.stopPropagation()};\nhide$$module$build$src$core$contextmenu=function(){hideIfOwner$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu);currentBlock$$module$build$src$core$contextmenu=null};dispose$$module$build$src$core$contextmenu=function(){menu_$$module$build$src$core$contextmenu&&(menu_$$module$build$src$core$contextmenu.dispose(),menu_$$module$build$src$core$contextmenu=null)};\n$.callbackFactory$$module$build$src$core$contextmenu=function(a,b){return()=>{$.disable$$module$build$src$core$events$utils();let c;try{c=b instanceof Element?domToBlockInternal$$module$build$src$core$xml(b,a.workspace):appendInternal$$module$build$src$core$serialization$blocks(b,a.workspace);const d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-$.config$$module$build$src$core$config.snapRadius:d.x+$.config$$module$build$src$core$config.snapRadius;d.y+=$.config$$module$build$src$core$config.snapRadius*\n2;c.moveBy(d.x,d.y)}finally{$.enable$$module$build$src$core$events$utils()}isEnabled$$module$build$src$core$events$utils()&&!c.isShadow()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(c));$.getFocusManager$$module$build$src$core$focus_manager().focusNode(c);return c}};\nmouseToWorkspacePoint$$module$build$src$core$utils$drag=function(a,b){b=mouseToSvg$$module$build$src$core$browser_events(b,a.getParentSvg(),a.getInverseScreenCTM());b.x/=a.scale;b.y/=a.scale;return b};start$$module$build$src$core$utils$drag=function(a,b,c){b=mouseToWorkspacePoint$$module$build$src$core$utils$drag(a,b);workspaceToDragDelta$$module$build$src$core$utils$drag.set(a,Coordinate$$module$build$src$core$utils$coordinate.difference(c,b))};\nmove$$module$build$src$core$utils$drag=function(a,b){b=mouseToWorkspacePoint$$module$build$src$core$utils$drag(a,b);a=workspaceToDragDelta$$module$build$src$core$utils$drag.get(a);if(!a)throw Error(\"Drag not initialized\");return Coordinate$$module$build$src$core$utils$coordinate.sum(a,b)};\nworkspaceToDom$$module$build$src$core$xml=function(a,b=!1){const c=$.createElement$$module$build$src$core$utils$xml(\"xml\");var d=variablesToDom$$module$build$src$core$xml($.allUsedVarModels$$module$build$src$core$variables(a));d.hasChildNodes()&&c.appendChild(d);for(const e of a.getTopComments())c.appendChild(saveWorkspaceComment$$module$build$src$core$xml(e,b));a=a.getTopBlocks(!0);for(d=0;d<a.length;d++)c.appendChild(blockToDomWithXY$$module$build$src$core$xml(a[d],b));return c};\nsaveWorkspaceComment$$module$build$src$core$xml=function(a,b=!1){const c=$.createElement$$module$build$src$core$utils$xml(\"comment\");b||c.setAttribute(\"id\",a.id);b=a.workspace;const d=a.getRelativeToSurfaceXY().clone();d.x=b.RTL?b.getWidth()-d.x:d.x;c.setAttribute(\"x\",`${d.x}`);c.setAttribute(\"y\",`${d.y}`);c.setAttribute(\"w\",`${a.getSize().width}`);c.setAttribute(\"h\",`${a.getSize().height}`);a.getText()&&(c.textContent=a.getText());a.isCollapsed()&&c.setAttribute(\"collapsed\",\"true\");a.isOwnEditable()||\nc.setAttribute(\"editable\",\"false\");a.isOwnMovable()||c.setAttribute(\"movable\",\"false\");a.isOwnDeletable()||c.setAttribute(\"deletable\",\"false\");return c};\nvariablesToDom$$module$build$src$core$xml=function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"variables\");for(let c=0;c<a.length;c++){const d=a[c],e=$.createElement$$module$build$src$core$utils$xml(\"variable\");e.appendChild($.createTextNode$$module$build$src$core$utils$xml(d.getName()));d.getType()&&e.setAttribute(\"type\",d.getType());e.id=d.getId();b.appendChild(e)}return b};\nblockToDomWithXY$$module$build$src$core$xml=function(a,b){if(a.isInsertionMarker()&&(a=a.getChildren(!1)[0],!a))return new DocumentFragment;let c=0;a.workspace.RTL&&(c=a.workspace.getWidth());b=blockToDom$$module$build$src$core$xml(a,b);if(isElement$$module$build$src$core$xml(b)){const d=a.getRelativeToSurfaceXY();b.setAttribute(\"x\",String(Math.round(a.workspace.RTL?c-d.x:d.x)));b.setAttribute(\"y\",String(Math.round(d.y)))}return b};\nfieldToDom$$module$build$src$core$xml=function(a){if(a.isSerializable()){const b=$.createElement$$module$build$src$core$utils$xml(\"field\");b.setAttribute(\"name\",a.name||\"\");return a.toXml(b)}return null};allFieldsToDom$$module$build$src$core$xml=function(a,b){for(const c of a.getFields())(a=fieldToDom$$module$build$src$core$xml(c))&&b.appendChild(a)};\nblockToDom$$module$build$src$core$xml=function(a,b){if(a.isInsertionMarker())return(b=a.getChildren(!1)[0])?blockToDom$$module$build$src$core$xml(b):new DocumentFragment;const c=$.createElement$$module$build$src$core$utils$xml(a.isShadow()?\"shadow\":\"block\");c.setAttribute(\"type\",a.type);b||(c.id=a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}allFieldsToDom$$module$build$src$core$xml(a,c);if(d=a.getCommentText()){var e=a.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT),\nf=e.getBubbleSize(),g=e.bubbleIsVisible();e=e.getBubbleLocation();var h=$.createElement$$module$build$src$core$utils$xml(\"comment\");h.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));h.setAttribute(\"pinned\",`${g}`);h.setAttribute(\"h\",`${f.height}`);h.setAttribute(\"w\",`${f.width}`);e&&(h.setAttribute(\"x\",`${a.workspace.RTL?a.workspace.getWidth()-(e.x+f.width):e.x}`),h.setAttribute(\"y\",`${e.y}`));c.appendChild(h)}a.data&&(d=$.createElement$$module$build$src$core$utils$xml(\"data\"),d.appendChild($.createTextNode$$module$build$src$core$utils$xml(a.data)),\nc.appendChild(d));for(d=0;d<a.inputList.length;d++){f=a.inputList[d];var k=void 0;g=!0;f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(e=f.connection.targetBlock(),f.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?k=$.createElement$$module$build$src$core$utils$xml(\"value\"):f.type===$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(k=$.createElement$$module$build$src$core$utils$xml(\"statement\")),\nh=f.connection.getShadowDom(),!h||e&&e.isShadow()||k.appendChild(cloneShadow$$module$build$src$core$xml(h,b)),e&&(e=blockToDom$$module$build$src$core$xml(e,b),e.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(k.appendChild(e),g=!1)),k.setAttribute(\"name\",f.name),g||c.appendChild(k))}a.inputsInline!==void 0&&a.inputsInline!==a.inputsInlineDefault&&c.setAttribute(\"inline\",String(a.inputsInline));a.isCollapsed()&&c.setAttribute(\"collapsed\",\"true\");a.isEnabled()||c.setAttribute(\"disabled-reasons\",\nArray.from(a.getDisabledReasons()).map(encodeURIComponent).join(\",\"));a.isOwnDeletable()||c.setAttribute(\"deletable\",\"false\");a.isOwnMovable()||c.setAttribute(\"movable\",\"false\");a.isOwnEditable()||c.setAttribute(\"editable\",\"false\");k=a.getNextBlock();let l;k&&(d=blockToDom$$module$build$src$core$xml(k,b),d.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(l=$.createElement$$module$build$src$core$utils$xml(\"next\"),l.appendChild(d),c.appendChild(l)));a=a.nextConnection&&a.nextConnection.getShadowDom();\n!a||k&&k.isShadow()||l.appendChild(cloneShadow$$module$build$src$core$xml(a,b));return c};\ncloneShadow$$module$build$src$core$xml=function(a,b){let c=a=a.cloneNode(!0),d;for(;c;)if(b&&c.nodeName===\"shadow\"&&c.removeAttribute(\"id\"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;){d=c;c=c.parentNode;let e;d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&d.data.trim()===\"\"&&((e=c)==null?void 0:e.firstChild)!==d&&removeNode$$module$build$src$core$utils$dom(d)}c&&(d=c,c=c.nextSibling,d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&d.data.trim()===\n\"\"&&removeNode$$module$build$src$core$utils$dom(d))}return a};domToText$$module$build$src$core$xml=function(a){return domToText$$module$build$src$core$utils$xml(a).replace(/<(\\w+)([^<]*)\\/>/g,\"<$1$2></$1>\")};\ndomToPrettyText$$module$build$src$core$xml=function(a){a=domToText$$module$build$src$core$xml(a).split(\"<\");let b=\"\";for(let c=1;c<a.length;c++){const d=a[c];d[0]===\"/\"&&(b=b.substring(2));a[c]=b+\"<\"+d;d[0]!==\"/\"&&d.slice(-2)!==\"/>\"&&(b+=\"  \")}a=a.join(\"\\n\");a=a.replace(/(<(\\w+)\\b[^>]*>[^\\n]*)\\n *<\\/\\2>/g,\"$1</$2>\");return a.replace(/^\\n/,\"\")};\nclearWorkspaceAndLoadFromXml$$module$build$src$core$xml=function(a,b){b.setResizesEnabled(!1);b.clear();a=$.domToWorkspace$$module$build$src$core$xml(a,b);b.setResizesEnabled(!0);return a};\n$.domToWorkspace$$module$build$src$core$xml=function(a,b){let c=0;b.RTL&&(c=b.getWidth());const d=[];startTextWidthCache$$module$build$src$core$utils$dom();const e=$.getGroup$$module$build$src$core$events$utils();e||$.setGroup$$module$build$src$core$events$utils(!0);b.setResizesEnabled&&b.setResizesEnabled(!1);let f=!0;try{for(let g=0,h;h=a.childNodes[g];g++){const k=h.nodeName.toLowerCase(),l=h;if(k===\"block\"||k===\"shadow\"&&!getRecordUndo$$module$build$src$core$events$utils()){const m=domToBlockInternal$$module$build$src$core$xml(l,\nb);d.push(m.id);let n;const p=parseInt((n=l.getAttribute(\"x\"))!=null?n:\"10\",10);let r;const q=parseInt((r=l.getAttribute(\"y\"))!=null?r:\"10\",10);isNaN(p)||isNaN(q)||m.moveBy(b.RTL?c-p:p,q,[\"create\"]);f=!1}else{if(k===\"shadow\")throw TypeError(\"Shadow block cannot be a top-level block.\");if(k===\"comment\")loadWorkspaceComment$$module$build$src$core$xml(l,b);else if(k===\"variables\"){if(f)domToVariables$$module$build$src$core$xml(l,b);else throw Error(\"'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.\");\nf=!1}}}}finally{$.setGroup$$module$build$src$core$events$utils(e),b.setResizesEnabled&&b.setResizesEnabled(!0),b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management(),stopTextWidthCache$$module$build$src$core$utils$dom()}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.FINISHED_LOADING))(b));return d};\nloadWorkspaceComment$$module$build$src$core$xml=function(a,b){var c;const d=(c=a.getAttribute(\"id\"))!=null?c:void 0;c=b.rendered?new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(b,d):new WorkspaceComment$$module$build$src$core$comments$workspace_comment(b,d);var e;c.setText((e=a.textContent)!=null?e:\"\");var f;e=parseInt((f=a.getAttribute(\"x\"))!=null?f:\"\",10);let g;f=parseInt((g=a.getAttribute(\"y\"))!=null?g:\"\",10);isNaN(e)||isNaN(f)||(e=b.RTL?b.getWidth()-e:e,\nc.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(e,f)));var h;b=parseInt((h=a.getAttribute(\"w\"))!=null?h:\"\",10);let k;h=parseInt((k=a.getAttribute(\"h\"))!=null?k:\"\",10);isNaN(b)||isNaN(h)||c.setSize(new Size$$module$build$src$core$utils$size(b,h));a.getAttribute(\"collapsed\")===\"true\"&&c.setCollapsed(!0);a.getAttribute(\"editable\")===\"false\"&&c.setEditable(!1);a.getAttribute(\"movable\")===\"false\"&&c.setMovable(!1);a.getAttribute(\"deletable\")===\"false\"&&c.setDeletable(!1);return c};\nappendDomToWorkspace$$module$build$src$core$xml=function(a,b){if(!b.getBlocksBoundingBox)return $.domToWorkspace$$module$build$src$core$xml(a,b);var c=b.getBlocksBoundingBox();a=$.domToWorkspace$$module$build$src$core$xml(a,b);if(c&&c.top!==c.bottom){var d=c.bottom;c=b.RTL?c.right:c.left;var e=Infinity;let f=-Infinity,g=Infinity;for(let h=0;h<a.length;h++){const k=b.getBlockById(a[h]).getRelativeToSurfaceXY();k.y<g&&(g=k.y);k.x<e&&(e=k.x);k.x>f&&(f=k.x)}d=d-g+10;c=b.RTL?c-f:c-e;for(e=0;e<a.length;e++)b.getBlockById(a[e]).moveBy(c,\nd,[\"create\"])}return a};$.domToBlock$$module$build$src$core$xml=function(a,b){a=domToBlockInternal$$module$build$src$core$xml(a,b);b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a};\ndomToBlockInternal$$module$build$src$core$xml=function(a,b){$.disable$$module$build$src$core$events$utils();var c=b.getAllVariables();let d;try{if(d=domToBlockHeadless$$module$build$src$core$xml(a,b),b.rendered){const e=d,f=d.getDescendants(!1);e.setConnectionTracking(!1);for(let g=f.length-1;g>=0;g--)f[g].initSvg();for(let g=f.length-1;g>=0;g--)f[g].queueRender();setTimeout(function(){e.disposed||e.setConnectionTracking(!0)},1);b.resizeContents()}else{const e=d.getDescendants(!1);for(let f=e.length-\n1;f>=0;f--)e[f].initModel()}}finally{$.enable$$module$build$src$core$events$utils()}if(isEnabled$$module$build$src$core$events$utils()){a=getAddedVariables$$module$build$src$core$variables(b,c);for(b=0;b<a.length;b++)c=a[b],fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(c));fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(d))}return d};\ndomToVariables$$module$build$src$core$xml=function(a,b){for(let d=0;d<a.children.length;d++){var c=a.children[d];const e=c.getAttribute(\"type\"),f=c.getAttribute(\"id\");c=c.textContent;if(!c)break;let g;b.getVariableMap().createVariable(c,(g=e)!=null?g:void 0,f)}};\nmapSupportedXmlTags$$module$build$src$core$xml=function(a){const b={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let c=0;c<a.children.length;c++){const d=a.children[c];if(d.nodeType!==NodeType$$module$build$src$core$utils$dom.TEXT_NODE)switch(d.nodeName.toLowerCase()){case \"mutation\":b.mutation.push(d);break;case \"comment\":b.comment.push(d);break;case \"data\":b.data.push(d);break;case \"title\":case \"field\":b.field.push(d);break;case \"value\":case \"statement\":b.input.push(d);break;case \"next\":b.next.push(d);\nbreak;default:console.warn(\"Ignoring unknown tag: \"+d.nodeName)}}return b};applyMutationTagNodes$$module$build$src$core$xml=function(a,b){let c=!1;for(let d=0;d<a.length;d++){const e=a[d];b.domToMutation&&(b.domToMutation(e),b.initSvg&&(c=!0))}return c};\napplyCommentTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++){const d=a[c],e=d.textContent,f=d.getAttribute(\"pinned\")===\"true\";let g;const h=parseInt((g=d.getAttribute(\"w\"))!=null?g:\"50\",10);let k;const l=parseInt((k=d.getAttribute(\"h\"))!=null?k:\"50\",10);let m,n=parseInt((m=d.getAttribute(\"x\"))!=null?m:\"\",10),p;const r=parseInt((p=d.getAttribute(\"y\"))!=null?p:\"\",10);b.setCommentText(e);const q=b.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);isNaN(h)||\nisNaN(l)||q.setBubbleSize(new Size$$module$build$src$core$utils$size(h,l));q.setBubbleVisible(f);setTimeout(()=>{isNaN(n)||isNaN(r)||(n=b.workspace.RTL?b.workspace.getWidth()-(n+h):n,q.setBubbleLocation(new Coordinate$$module$build$src$core$utils$coordinate(n,r)));q.setBubbleVisible(f)},1)}};applyDataTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++)b.data=a[c].textContent};\napplyFieldTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++){const d=a[c],e=d.getAttribute(\"name\");e?domToField$$module$build$src$core$xml(b,e,d):console.warn(`Ignoring unnamed field in block ${b.type}`)}};\nfindChildBlocks$$module$build$src$core$xml=function(a){let b=null,c=null;for(let d=0;d<a.childNodes.length;d++){const e=a.childNodes[d];isElement$$module$build$src$core$xml(e)&&(e.nodeName.toLowerCase()===\"block\"?b=e:e.nodeName.toLowerCase()===\"shadow\"&&(c=e))}return{childBlockElement:b,childShadowElement:c}};\napplyInputTagNodes$$module$build$src$core$xml=function(a,b,c,d){for(let f=0;f<a.length;f++){var e=a[f];const g=e.getAttribute(\"name\"),h=g?c.getInput(g):null;if(!h){console.warn(\"Ignoring non-existent input \"+g+\" in block \"+d);break}e=findChildBlocks$$module$build$src$core$xml(e);if(e.childBlockElement){if(!h.connection)throw TypeError(\"Input connection does not exist.\");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,h.connection,!1)}if(e.childShadowElement){let k;(k=h.connection)==\nnull||k.setShadowDom(e.childShadowElement)}}};\napplyNextTagNodes$$module$build$src$core$xml=function(a,b,c){for(let d=0;d<a.length;d++){const e=findChildBlocks$$module$build$src$core$xml(a[d]);if(e.childBlockElement){if(!c.nextConnection)throw TypeError(\"Next statement does not exist.\");if(c.nextConnection.isConnected())throw TypeError(\"Next statement is already connected.\");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,c.nextConnection,!0)}e.childShadowElement&&c.nextConnection&&c.nextConnection.setShadowDom(e.childShadowElement)}};\ndomToBlockHeadless$$module$build$src$core$xml=function(a,b,c,d){var e;const f=a.getAttribute(\"type\");if(!f)throw TypeError(\"Block type unspecified: \"+a.outerHTML);var g=(e=a.getAttribute(\"id\"))!=null?e:void 0;e=b.newBlock(f,g);g=mapSupportedXmlTags$$module$build$src$core$xml(a);const h=applyMutationTagNodes$$module$build$src$core$xml(g.mutation,e);applyCommentTagNodes$$module$build$src$core$xml(g.comment,e);applyDataTagNodes$$module$build$src$core$xml(g.data,e);if(c)if(d)if(e.previousConnection)c.connect(e.previousConnection);\nelse throw TypeError(\"Next block does not have previous statement.\");else if(e.outputConnection)c.connect(e.outputConnection);else if(e.previousConnection)c.connect(e.previousConnection);else throw TypeError(\"Child block does not have output or previous statement.\");applyFieldTagNodes$$module$build$src$core$xml(g.field,e);applyInputTagNodes$$module$build$src$core$xml(g.input,b,e,f);applyNextTagNodes$$module$build$src$core$xml(g.next,b,e);h&&e.initSvg();(b=a.getAttribute(\"inline\"))&&e.setInputsInline(b===\n\"true\");(b=a.getAttribute(\"disabled\"))&&e.setDisabledReason(b===\"true\"||b===\"disabled\",MANUALLY_DISABLED$$module$build$src$core$constants);b=a.getAttribute(\"disabled-reasons\");if(b!==null)for(var k of b.split(\",\"))e.setDisabledReason(!0,decodeURIComponent(k));(k=a.getAttribute(\"deletable\"))&&e.setDeletable(k===\"true\");(k=a.getAttribute(\"movable\"))&&e.setMovable(k===\"true\");(k=a.getAttribute(\"editable\"))&&e.setEditable(k===\"true\");(k=a.getAttribute(\"collapsed\"))&&e.setCollapsed(k===\"true\");if(a.nodeName.toLowerCase()===\n\"shadow\"){a=e.getChildren(!1);for(k=0;k<a.length;k++)if(!a[k].isShadow())throw TypeError(\"Shadow block not allowed non-shadow child.\");e.setShadow(!0)}return e};domToField$$module$build$src$core$xml=function(a,b,c){const d=a.getField(b);d?d.fromXml(c):console.warn(\"Ignoring non-existent field \"+b+\" in block \"+a.type)};deleteNext$$module$build$src$core$xml=function(a){for(let b=0;b<a.childNodes.length;b++){const c=a.childNodes[b];if(c.nodeName.toLowerCase()===\"next\"){a.removeChild(c);break}}};\nisElement$$module$build$src$core$xml=function(a){return a.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE};register$$module$build$src$core$field_registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a,b,!0)};unregister$$module$build$src$core$field_registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a)};$.fromJson$$module$build$src$core$field_registry=function(a){return TEST_ONLY$$module$build$src$core$field_registry.fromJsonInternal(a)};\nfromJsonInternal$$module$build$src$core$field_registry=function(a){const b=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a.type);return b?b.fromJson(a):(console.warn(\"Blockly could not create a field of type \"+a.type+\". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached.\"),null)};\nisImageProperties$$module$build$src$core$field_dropdown=function(a){return a&&typeof a===\"object\"&&\"src\"in a&&typeof a.src===\"string\"&&\"alt\"in a&&typeof a.alt===\"string\"&&\"width\"in a&&typeof a.width===\"number\"&&\"height\"in a&&typeof a.height===\"number\"};\n$.register$$module$build$src$core$extensions=function(a,b){if(typeof a!==\"string\"||a.trim()===\"\")throw Error('Error: Invalid extension name \"'+a+'\"');if(allExtensions$$module$build$src$core$extensions[a])throw Error('Error: Extension \"'+a+'\" is already registered.');if(typeof b!==\"function\")throw Error('Error: Extension \"'+a+'\" must be a function');allExtensions$$module$build$src$core$extensions[a]=b};\n$.registerMixin$$module$build$src$core$extensions=function(a,b){if(!b||typeof b!==\"object\")throw Error('Error: Mixin \"'+a+'\" must be a object');$.register$$module$build$src$core$extensions(a,function(){this.mixin(b)})};\n$.registerMutator$$module$build$src$core$extensions=function(a,b,c,d){const e='Error when registering mutator \"'+a+'\": ';checkHasMutatorProperties$$module$build$src$core$extensions(e,b);const f=checkMutatorDialog$$module$build$src$core$extensions(b,e);if(c&&typeof c!==\"function\")throw Error(e+'Extension \"'+a+'\" is not a function');$.register$$module$build$src$core$extensions(a,function(){f&&this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this));this.mixin(b);c&&c.apply(this)})};\nunregister$$module$build$src$core$extensions=function(a){isRegistered$$module$build$src$core$extensions(a)?delete allExtensions$$module$build$src$core$extensions[a]:console.warn('No extension mapping for name \"'+a+'\" found to unregister')};isRegistered$$module$build$src$core$extensions=function(a){return!!allExtensions$$module$build$src$core$extensions[a]};\napply$$module$build$src$core$extensions=function(a,b,c){const d=allExtensions$$module$build$src$core$extensions[a];if(typeof d!==\"function\")throw Error('Error: Extension \"'+a+'\" not found.');let e;c?checkNoMutatorProperties$$module$build$src$core$extensions(a,b):e=getMutatorProperties$$module$build$src$core$extensions(b);d.apply(b);if(c)checkHasMutatorProperties$$module$build$src$core$extensions('Error after applying mutator \"'+a+'\": ',b);else if(!mutatorPropertiesMatch$$module$build$src$core$extensions(e,\nb))throw Error('Error when applying extension \"'+a+'\": mutation properties changed when applying a non-mutator extension.');};checkNoMutatorProperties$$module$build$src$core$extensions=function(a,b){if(getMutatorProperties$$module$build$src$core$extensions(b).length)throw Error('Error: tried to apply mutation \"'+a+'\" to a block that already has mutator functions.  Block id: '+b.id);};\ncheckXmlHooks$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.mutationToDom,a.domToMutation,b+\" mutationToDom/domToMutation\")};checkJsonHooks$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.saveExtraState,a.loadExtraState,b+\" saveExtraState/loadExtraState\")};\ncheckMutatorDialog$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.compose,a.decompose,b+\" compose/decompose\")};checkHasFunctionPair$$module$build$src$core$extensions=function(a,b,c){if(a&&b){if(typeof a!==\"function\"||typeof b!==\"function\")throw Error(c+\" must be a function\");return!0}if(!a&&!b)return!1;throw Error(c+\"Must have both or neither functions\");};\ncheckHasMutatorProperties$$module$build$src$core$extensions=function(a,b){const c=checkXmlHooks$$module$build$src$core$extensions(b,a),d=checkJsonHooks$$module$build$src$core$extensions(b,a);if(!c&&!d)throw Error(a+\"Mutations must contain either XML hooks, or JSON hooks, or both\");checkMutatorDialog$$module$build$src$core$extensions(b,a)};\ngetMutatorProperties$$module$build$src$core$extensions=function(a){const b=[];a.domToMutation!==void 0&&b.push(a.domToMutation);a.mutationToDom!==void 0&&b.push(a.mutationToDom);a.saveExtraState!==void 0&&b.push(a.saveExtraState);a.loadExtraState!==void 0&&b.push(a.loadExtraState);a.compose!==void 0&&b.push(a.compose);a.decompose!==void 0&&b.push(a.decompose);return b};\nmutatorPropertiesMatch$$module$build$src$core$extensions=function(a,b){b=getMutatorProperties$$module$build$src$core$extensions(b);if(b.length!==a.length)return!1;for(let c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0};\nrunAfterPageLoad$$module$build$src$core$extensions=function(a){if(typeof document!==\"object\")throw Error(\"runAfterPageLoad() requires browser document.\");if(document.readyState===\"complete\")a();else{const b=setInterval(function(){document.readyState===\"complete\"&&(clearInterval(b),a())},10)}};\n$.buildTooltipForDropdown$$module$build$src$core$extensions=function(a,b){const c=[];return function(){c.includes(this.type)||(checkDropdownOptionsInTable$$module$build$src$core$extensions(this,a,b),c.push(this.type));this.setTooltip(function(){const d=String(this.getFieldValue(a));return replaceMessageReferences$$module$build$src$core$utils$parsing(b[d])}.bind(this))}};\ncheckDropdownOptionsInTable$$module$build$src$core$extensions=function(a,b,c){var d=a.getField(b);if(d instanceof FieldDropdown$$module$build$src$core$field_dropdown&&!d.isOptionListDynamic()){d=d.getOptions();for(const e of d)e!==FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR&&([,d]=e,c[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field `+`${b} of block type ${a.type}.`))}};\n$.buildTooltipWithFieldText$$module$build$src$core$extensions=function(a,b){return function(){this.setTooltip(function(){const c=this.getField(b);return replaceMessageReferences$$module$build$src$core$utils$parsing(a).replace(\"%1\",c?c.getText():\"\")}.bind(this))}};extensionParentTooltip$$module$build$src$core$extensions=function(){const a=this.tooltip;this.setTooltip(function(){const b=this.getParent();return b&&b.getInputsInline()&&b.tooltip||a}.bind(this))};\npoint$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+\",\"+b+\" \"};curve$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+b.join(\"\")};moveTo$$module$build$src$core$utils$svg_paths=function(a,b){return\" M \"+a+\",\"+b+\" \"};moveBy$$module$build$src$core$utils$svg_paths=function(a,b){return\" m \"+a+\",\"+b+\" \"};lineTo$$module$build$src$core$utils$svg_paths=function(a,b){return\" l \"+a+\",\"+b+\" \"};line$$module$build$src$core$utils$svg_paths=function(a){return\" l\"+a.join(\"\")};\nlineOnAxis$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+\" \"+b+\" \"};arc$$module$build$src$core$utils$svg_paths=function(a,b,c,d){return a+\" \"+c+\" \"+c+\" \"+b+d};connectReciprocally$$module$build$src$core$connection=function(a,b){if(!a||!b)throw Error(\"Cannot connect null connections.\");a.targetConnection=b;b.targetConnection=a};\ngetSingleConnection$$module$build$src$core$connection=function(a,b){let c=null;b=b.outputConnection;const d=b==null?void 0:b.getConnectionChecker();for(let e=0,f;f=a.inputList[e];e++){const g=f.connection;let h;if(g&&((h=d)==null?0:h.canConnect(b,g,!1))){if(c)return null;c=g}}return c};getConnectionForOrphanedOutput$$module$build$src$core$connection=function(a,b){let c;for(;c=getSingleConnection$$module$build$src$core$connection(a,b);)if(a=c.targetBlock(),!a||a.isShadow())return c;return null};\nisIcon$$module$build$src$core$interfaces$i_icon=function(a){return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(a)&&typeof a.getType===\"function\"&&typeof a.initView===\"function\"&&typeof a.dispose===\"function\"&&typeof a.getWeight===\"function\"&&typeof a.getSize===\"function\"&&typeof a.applyColour===\"function\"&&typeof a.hideForInsertionMarker===\"function\"&&typeof a.updateEditable===\"function\"&&typeof a.updateCollapsed===\"function\"&&typeof a.isShownWhenCollapsed===\"function\"&&typeof a.setOffsetInBlock===\n\"function\"&&typeof a.onLocationChange===\"function\"&&typeof a.onClick===\"function\"};\nisCommentIcon$$module$build$src$core$interfaces$i_comment_icon=function(a){return isIcon$$module$build$src$core$interfaces$i_icon(a)&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(a)&&isSerializable$$module$build$src$core$interfaces$i_serializable(a)&&typeof a.setText===\"function\"&&typeof a.getText===\"function\"&&typeof a.setBubbleSize===\"function\"&&typeof a.getBubbleSize===\"function\"&&typeof a.setBubbleLocation===\"function\"&&typeof a.getBubbleLocation===\"function\"&&a.getType()===IconType$$module$build$src$core$icons$icon_types.COMMENT};\ndisposeUiEffect$$module$build$src$core$block_animations=function(a){if(!(a.getDescendants(!1).length>100)){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play(\"delete\");var d=a.getRelativeToSurfaceXY(),e=c.cloneNode(!0);e.setAttribute(\"transform\",\"translate(\"+d.x+\",\"+d.y+\")\");var f;(f=b.getLayerManager())==null||f.appendToAnimationLayer({getSvgRoot:()=>e});disposeUiStep$$module$build$src$core$block_animations(e,{x:d.x,y:d.y,width:a.width,height:a.height},b.RTL,new Date)}};\ndisposeUiStep$$module$build$src$core$block_animations=function(a,b,c,d){const e=((new Date).getTime()-d.getTime())/150;e>1?removeNode$$module$build$src$core$utils$dom(a):(a.setAttribute(\"transform\",\"translate(\"+(b.x+(c?-1:1)*b.width/2*e)+\",\"+(b.y+b.height/2*e)+\") scale(\"+(1-e)+\")\"),setTimeout(disposeUiStep$$module$build$src$core$block_animations,10,a,b,c,d))};\nconnectionUiEffect$$module$build$src$core$block_animations=function(a){var b=a.workspace;const c=b.scale;b.getAudioManager().play(\"click\");if(!(c<1)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c);var e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:\"none\",stroke:\"#888\",\"stroke-width\":10},b.getParentSvg());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,\n{id:\"animationCircle\",begin:\"indefinite\",attributeName:\"r\",dur:\"150ms\",from:0,to:25*c},e);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,{id:\"animationOpacity\",begin:\"indefinite\",attributeName:\"opacity\",dur:\"150ms\",from:1,to:0},e);a.beginElement();b.beginElement();setTimeout(()=>void removeNode$$module$build$src$core$utils$dom(e),150)}};\ndisconnectUiEffect$$module$build$src$core$block_animations=function(a){disconnectUiStop$$module$build$src$core$block_animations();a.workspace.getAudioManager().play(\"disconnect\");if(!(a.workspace.scale<1)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180;a.RTL||(b*=-1);wobblingBlock$$module$build$src$core$block_animations=a;disconnectUiStep$$module$build$src$core$block_animations(a,b,new Date,0)}};\ndisconnectUiStep$$module$build$src$core$block_animations=function(a,b,c,d){const e=[.66,1,.66,0,-.66,-1,-.66,0];let f=\"\";c.getTime()+200>(new Date).getTime()&&(f=`skewX(${Math.round(e[d%e.length]*b)})`,disconnectPid$$module$build$src$core$block_animations=setTimeout(disconnectUiStep$$module$build$src$core$block_animations,15,a,b,c,d+1));a.getSvgRoot().setAttribute(\"transform\",`${a.getTranslation()} ${f}`)};\ndisconnectUiStop$$module$build$src$core$block_animations=function(){wobblingBlock$$module$build$src$core$block_animations&&(disconnectPid$$module$build$src$core$block_animations&&(clearTimeout(disconnectPid$$module$build$src$core$block_animations),disconnectPid$$module$build$src$core$block_animations=null),wobblingBlock$$module$build$src$core$block_animations.getSvgRoot().setAttribute(\"transform\",wobblingBlock$$module$build$src$core$block_animations.getTranslation()),wobblingBlock$$module$build$src$core$block_animations=\nnull)};\nmoveBlockToNotConflict$$module$build$src$core$clipboard$block_paster=function(a,b){a.workspace.RTL&&(b.x=a.workspace.getWidth()-b.x);const c=a.workspace,d=$.config$$module$build$src$core$config.snapRadius,e=Coordinate$$module$build$src$core$utils$coordinate.difference(b,a.getRelativeToSurfaceXY()),f=new Coordinate$$module$build$src$core$utils$coordinate(0,0),g=c.getAllBlocks(!1).filter(h=>h.id!=a.id).map(h=>h.getRelativeToSurfaceXY());for(;blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(b,f),\ng)||blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster(a,Coordinate$$module$build$src$core$utils$coordinate.sum(e,f),d);)c.RTL?f.translate(-d,d*2):f.translate(d,d*2);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(b,f))};blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster=function(a,b){return b.some(c=>Math.abs(c.x-a.x)<=1&&Math.abs(c.y-a.y)<=1)};\nblockIsInSnapRadius$$module$build$src$core$clipboard$block_paster=function(a,b,c){return a.getConnections_(!1).some(d=>!!d.closest(c,b).connection)};\nbumpObjectIntoBounds$$module$build$src$core$bump_objects=function(a,b,c){const d=c.getBoundingRectangle(),e=d.right-d.left,f=clamp$$module$build$src$core$utils$math(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top;let g=b.left;b=b.left+b.width-e;a.RTL?g=Math.min(b,g):b=Math.max(g,b);return(a=clamp$$module$build$src$core$utils$math(g,d.left,b)-d.left)||f?(c.moveBy(a,f,[\"inbounds\"]),!0):!1};\nbumpIntoBoundsHandler$$module$build$src$core$bump_objects=function(a){return b=>{var c=a.getMetricsManager();if(c.hasFixedEdges()&&!a.isDragging()){var d;if(BUMP_EVENTS$$module$build$src$core$events$type.includes((d=b.type)!=null?d:\"\")){d=c.getScrollMetrics(!0);const e=extractObjectFromEvent$$module$build$src$core$bump_objects(a,b);e&&(c=$.getGroup$$module$build$src$core$events$utils()||!1,$.setGroup$$module$build$src$core$events$utils(b.group),bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,\nd,e)&&!b.group&&console.warn(\"Moved object in bounds but there was no event group. This may break undo.\"),$.setGroup$$module$build$src$core$events$utils(c))}else isViewportChange$$module$build$src$core$events$predicates(b)&&b.scale&&b.oldScale&&b.scale>b.oldScale&&bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a)}}};\nextractObjectFromEvent$$module$build$src$core$bump_objects=function(a,b){let c=null;switch(b.type){case EventType$$module$build$src$core$events$type.BLOCK_CREATE:case EventType$$module$build$src$core$events$type.BLOCK_MOVE:(c=a.getBlockById(b.blockId))&&(c=c.getRootBlock());break;case EventType$$module$build$src$core$events$type.COMMENT_CREATE:case EventType$$module$build$src$core$events$type.COMMENT_MOVE:case EventType$$module$build$src$core$events$type.COMMENT_RESIZE:c=a.getCommentById(b.commentId)}return c};\nbumpTopObjectsIntoBounds$$module$build$src$core$bump_objects=function(a){var b=a.getMetricsManager();if(b.hasFixedEdges()&&!a.isDragging()){b=b.getScrollMetrics(!0);var c=a.getTopBoundedElements();for(let d=0,e;e=c[d];d++)bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,b,e)}};isDeletable$$module$build$src$core$interfaces$i_deletable=function(a){return a&&typeof a.isDeletable===\"function\"&&typeof a.dispose===\"function\"&&typeof a.setDeleteStyle===\"function\"};\ngetBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){const c=a.getIcons();for(const d of a.inputList){if(!d.isVisible())continue;c.push(...d.fieldRow);let e;if((e=d.connection)==null?0:e.targetBlock())if(a=d.connection.targetBlock(),d.connection.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||b)c.push(a);else{let f;(a=(f=a.lastConnectionInStack(!1))==null?void 0:f.getSourceBlock())&&c.push(a)}else{let f;((f=d.connection)==\nnull?void 0:f.type)===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&c.push(d.connection)}}return c};\nnavigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){const c=a.workspace.getTopBoundedElements(!0).filter(e=>isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(e));a=c.indexOf(a instanceof BlockSvg$$module$build$src$core$block_svg?a.getRootBlock():a)+b;let d=null;a>=0&&a<c.length?d=c[a]:a<0?d=c[c.length-1]:a>=c.length&&(d=c[0]);if(b<0&&d instanceof BlockSvg$$module$build$src$core$block_svg){let e,f;return(f=(e=d.lastConnectionInStack(!1))==null?\nvoid 0:e.getSourceBlock())!=null?f:d}return d};\nnavigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){var c;let d;const e=a instanceof BlockSvg$$module$build$src$core$block_svg?(d=(c=a.outputConnection)==null?void 0:c.targetBlock())!=null?d:a.getSurroundParent():a.getSourceBlock();if(!(e instanceof BlockSvg$$module$build$src$core$block_svg))return null;c=getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy(e,b>0);a=c.indexOf(a);if(a===-1)return null;b=a+b;return b>=0&&b<c.length?\nc[b]:null};register$$module$build$src$core$icons$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a.toString(),b)};unregister$$module$build$src$core$icons$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a)};\nisDraggable$$module$build$src$core$interfaces$i_draggable=function(a){return a&&typeof a.getRelativeToSurfaceXY===\"function\"&&typeof a.isMovable===\"function\"&&typeof a.startDrag===\"function\"&&typeof a.drag===\"function\"&&typeof a.endDrag===\"function\"&&typeof a.revertDrag===\"function\"};isAutoHideable$$module$build$src$core$interfaces$i_autohideable=function(a){return a&&typeof a.autoHide===\"function\"};\nisProcedureBlock$$module$build$src$core$interfaces$i_procedure_block=function(a){return typeof a.getProcedureModel===\"function\"&&typeof a.doProcedureUpdate===\"function\"&&typeof a.isProcedureDef===\"function\"};isObservable$$module$build$src$core$interfaces$i_observable=function(a){return a&&typeof a.startPublishing===\"function\"&&typeof a.stopPublishing===\"function\"};\nallProcedures$$module$build$src$core$procedures=function(a){const b=a.getProcedureMap().getProcedures().filter(d=>!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(e=>e.getName()),!1]);a.getBlocksByType(\"procedures_defnoreturn\",!1).forEach(d=>{!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&b.push(d.getProcedureDef())});const c=a.getProcedureMap().getProcedures().filter(d=>\n!!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(e=>e.getName()),!0]);a.getBlocksByType(\"procedures_defreturn\",!1).forEach(d=>{!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&c.push(d.getProcedureDef())});b.sort(procTupleComparator$$module$build$src$core$procedures);c.sort(procTupleComparator$$module$build$src$core$procedures);return[b,c]};\nprocTupleComparator$$module$build$src$core$procedures=function(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:\"base\"})};$.findLegalName$$module$build$src$core$procedures=function(a,b){if(b.isInFlyout)return a;for(a=a||$.Msg$$module$build$src$core$msg.UNNAMED_KEY||\"unnamed\";!isLegalName$$module$build$src$core$procedures(a,b.workspace,b);){const c=a.match(/^(.*?)(\\d+)$/);a=c?c[1]+(parseInt(c[2])+1):a+\"2\"}return a};\nisLegalName$$module$build$src$core$procedures=function(a,b,c){return!isNameUsed$$module$build$src$core$procedures(a,b,c)};\nisNameUsed$$module$build$src$core$procedures=function(a,b,c){for(const d of b.getAllBlocks(!1))if(d!==c&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&$.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],a))return!0;c=c&&isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)?c==null?void 0:c.getProcedureModel():void 0;for(const d of b.getProcedureMap().getProcedures())if(d!==c&&$.Names$$module$build$src$core$names.equals(d.getName(),\na))return!0;return!1};\n$.rename$$module$build$src$core$procedures=function(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;a=a.trim();const c=$.findLegalName$$module$build$src$core$procedures(a,b);isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(b)&&!b.isInsertionMarker()&&b.getProcedureModel().setName(c);const d=this.getValue();if(d!==a&&d!==c)for(a=b.workspace.getAllBlocks(!1),b=0;b<a.length;b++){const e=a[b];e.renameProcedure&&e.renameProcedure(d,c)}return c};\nxmlFlyoutCategory$$module$build$src$core$procedures=function(a){function b(f,g){for(let k=0;k<f.length;k++){var h=f[k][0];const l=f[k][1],m=$.createElement$$module$build$src$core$utils$xml(\"block\");m.setAttribute(\"type\",g);m.setAttribute(\"gap\",\"16\");const n=$.createElement$$module$build$src$core$utils$xml(\"mutation\");n.setAttribute(\"name\",h);m.appendChild(n);for(h=0;h<l.length;h++){const p=$.createElement$$module$build$src$core$utils$xml(\"arg\");p.setAttribute(\"name\",l[h]);n.appendChild(p)}c.push(m)}}\nconst c=[];if(Blocks$$module$build$src$core$blocks.procedures_defnoreturn){var d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"procedures_defnoreturn\");d.setAttribute(\"gap\",\"16\");var e=$.createElement$$module$build$src$core$utils$xml(\"field\");e.setAttribute(\"name\",\"NAME\");e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d)}Blocks$$module$build$src$core$blocks.procedures_defreturn&&\n(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),d.setAttribute(\"type\",\"procedures_defreturn\"),d.setAttribute(\"gap\",\"16\"),e=$.createElement$$module$build$src$core$utils$xml(\"field\"),e.setAttribute(\"name\",\"NAME\"),e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));Blocks$$module$build$src$core$blocks.procedures_ifreturn&&(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),\nd.setAttribute(\"type\",\"procedures_ifreturn\"),d.setAttribute(\"gap\",\"16\"),c.push(d));c.length&&c[c.length-1].setAttribute(\"gap\",\"24\");a=allProcedures$$module$build$src$core$procedures(a);b(a[0],\"procedures_callnoreturn\");b(a[1],\"procedures_callreturn\");return c};internalFlyoutCategory$$module$build$src$core$procedures=function(a){return flyoutCategory$$module$build$src$core$procedures(a,!1)};\nflyoutCategory$$module$build$src$core$procedures=function(a,b=!0){function c(e,f){for(const [g,h]of e)d.push({kind:\"block\",type:f,gap:16,extraState:{name:g,params:h}})}if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.Procedures.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),xmlFlyoutCategory$$module$build$src$core$procedures(a);const d=[];Blocks$$module$build$src$core$blocks.procedures_defnoreturn&&\nd.push({kind:\"block\",type:\"procedures_defnoreturn\",gap:16,fields:{NAME:$.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}});Blocks$$module$build$src$core$blocks.procedures_defreturn&&d.push({kind:\"block\",type:\"procedures_defreturn\",gap:16,fields:{NAME:$.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}});Blocks$$module$build$src$core$blocks.procedures_ifreturn&&d.push({kind:\"block\",type:\"procedures_ifreturn\",gap:16});d.length&&(d[d.length-1].gap=24);a=allProcedures$$module$build$src$core$procedures(a);\nc(a[0],\"procedures_callnoreturn\");c(a[1],\"procedures_callreturn\");return d};\nupdateMutatorFlyout$$module$build$src$core$procedures=function(a){var b=[],c=a.getBlocksByType(\"procedures_mutatorarg\",!1);for(let f=0,g;g=c[f];f++)b.push(g.getFieldValue(\"NAME\"));c=$.createElement$$module$build$src$core$utils$xml(\"xml\");const d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"procedures_mutatorarg\");const e=$.createElement$$module$build$src$core$utils$xml(\"field\");e.setAttribute(\"name\",\"NAME\");b=generateUniqueNameFromOptions$$module$build$src$core$variables($.DEFAULT_ARG$$module$build$src$core$procedures,\nb);b=$.createTextNode$$module$build$src$core$utils$xml(b);e.appendChild(b);d.appendChild(e);c.appendChild(d);a.updateToolbox(c)};\nmutatorOpenListener$$module$build$src$core$procedures=function(a){if(isBubbleOpen$$module$build$src$core$events$predicates(a)&&a.bubbleType===\"mutator\"&&a.isOpen&&a.blockId){a=getWorkspaceById$$module$build$src$core$common(a.workspaceId).getBlockById(a.blockId);var b=a.type;if(b===\"procedures_defnoreturn\"||b===\"procedures_defreturn\")a=a.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),updateMutatorFlyout$$module$build$src$core$procedures(a),a.addChangeListener(mutatorChangeListener$$module$build$src$core$procedures)}};\nmutatorChangeListener$$module$build$src$core$procedures=function(a){if(isBlockCreate$$module$build$src$core$events$predicates(a)||isBlockDelete$$module$build$src$core$events$predicates(a)||isBlockChange$$module$build$src$core$events$predicates(a)||isBlockFieldIntermediateChange$$module$build$src$core$events$predicates(a))a=getWorkspaceById$$module$build$src$core$common(a.workspaceId),updateMutatorFlyout$$module$build$src$core$procedures(a)};\ngetCallers$$module$build$src$core$procedures=function(a,b){return b.getAllBlocks(!1).filter(c=>blockIsModernCallerFor$$module$build$src$core$procedures(c,a)||isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureCall(),a))};\nblockIsModernCallerFor$$module$build$src$core$procedures=function(a,b){return isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(a)&&!a.isProcedureDef()&&a.getProcedureModel()&&$.Names$$module$build$src$core$names.equals(a.getProcedureModel().getName(),b)};\n$.mutateCallers$$module$build$src$core$procedures=function(a){const b=getRecordUndo$$module$build$src$core$events$utils();var c=a.getProcedureDef()[0];const d=a.mutationToDom(!0);a=getCallers$$module$build$src$core$procedures(c,a.workspace);for(let f=0,g;g=a[f];f++){c=(c=g.mutationToDom())&&domToText$$module$build$src$core$utils$xml(c);g.domToMutation&&g.domToMutation(d);var e=g.mutationToDom();e=e&&domToText$$module$build$src$core$utils$xml(e);c!==e&&($.setRecordUndo$$module$build$src$core$events$utils(!1),\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(g,\"mutation\",null,c,e)),$.setRecordUndo$$module$build$src$core$events$utils(b))}};\n$.getDefinition$$module$build$src$core$procedures=function(a,b){for(const c of b.getAllBlocks(!1))if(isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)&&c.isProcedureDef()&&$.Names$$module$build$src$core$names.equals(c.getProcedureModel().getName(),a)||isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureDef()[0],a))return c;return null};\nisDynamicShape$$module$build$src$core$renderers$common$constants=function(a){return a.isDynamic};isPuzzleTab$$module$build$src$core$renderers$common$constants=function(a){return a.pathDown!==void 0&&a.pathUp!==void 0};isNotch$$module$build$src$core$renderers$common$constants=function(a){return a.pathLeft!==void 0&&a.pathRight!==void 0};\nregister$$module$build$src$core$renderers$common$block_rendering=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a,b)};unregister$$module$build$src$core$renderers$common$block_rendering=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a)};\ninit$$module$build$src$core$renderers$common$block_rendering=function(a,b,c){a=new (getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a))(a);a.init(b,c);return a};stringButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"String\")};\nnumberButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"Number\")};colourButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"Colour\")};\ninternalFlyoutCategory$$module$build$src$core$variables_dynamic=function(a){return flyoutCategory$$module$build$src$core$variables_dynamic(a,!1)};\nflyoutCategory$$module$build$src$core$variables_dynamic=function(a,b=!0){Blocks$$module$build$src$core$blocks.variables_set_dynamic||Blocks$$module$build$src$core$blocks.variables_get_dynamic||console.warn(\"There are no dynamic variable blocks, but there is a dynamic variable category.\");if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.VariablesDynamic.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),\nxmlFlyoutCategory$$module$build$src$core$variables_dynamic(a);a.registerButtonCallback(\"CREATE_VARIABLE_STRING\",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\",colourButtonClickHandler$$module$build$src$core$variables_dynamic);return[{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:\"CREATE_VARIABLE_STRING\"},\n{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:\"CREATE_VARIABLE_NUMBER\"},{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:\"CREATE_VARIABLE_COLOUR\"},...jsonFlyoutCategoryBlocks$$module$build$src$core$variables(a,a.getVariableMap().getAllVariables(),!1,\"variables_get_dynamic\",\"variables_set_dynamic\")]};\nxmlFlyoutCategory$$module$build$src$core$variables_dynamic=function(a){let b=[],c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE);c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_STRING\");b.push(c);c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE);c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_NUMBER\");b.push(c);c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE);\nc.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_COLOUR\");b.push(c);a.registerButtonCallback(\"CREATE_VARIABLE_STRING\",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\",colourButtonClickHandler$$module$build$src$core$variables_dynamic);a=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic(a);return b=b.concat(a)};\nflyoutCategoryBlocks$$module$build$src$core$variables_dynamic=function(a){a=a.getVariableMap().getAllVariables();const b=[];if(a.length>0){if(Blocks$$module$build$src$core$blocks.variables_set_dynamic){var c=a[a.length-1];const d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"variables_set_dynamic\");d.setAttribute(\"gap\",\"24\");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d)}if(Blocks$$module$build$src$core$blocks.variables_get_dynamic){a.sort(compareByName$$module$build$src$core$variables);\nfor(let d=0,e;e=a[d];d++)c=$.createElement$$module$build$src$core$utils$xml(\"block\"),c.setAttribute(\"type\",\"variables_get_dynamic\"),c.setAttribute(\"gap\",\"8\"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(e)),b.push(c)}}return b};resizeSvgContents$$module$build$src$core$workspace_svg=function(a){a.resizeContents()};\ncopy$$module$build$src$core$clipboard=function(a,b){const c=a.toCopyData();stashedCopyData$$module$build$src$core$clipboard=c;stashedWorkspace$$module$build$src$core$clipboard=isSelectable$$module$build$src$core$interfaces$i_selectable(a)&&a.workspace instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?a.workspace:null;stashedCoordinates$$module$build$src$core$clipboard=b;return c};getLastCopiedData$$module$build$src$core$clipboard=function(){return stashedCopyData$$module$build$src$core$clipboard};\nsetLastCopiedData$$module$build$src$core$clipboard=function(a){stashedCopyData$$module$build$src$core$clipboard=a};getLastCopiedWorkspace$$module$build$src$core$clipboard=function(){return stashedWorkspace$$module$build$src$core$clipboard};setLastCopiedWorkspace$$module$build$src$core$clipboard=function(a){stashedWorkspace$$module$build$src$core$clipboard=a};getLastCopiedLocation$$module$build$src$core$clipboard=function(){return stashedCoordinates$$module$build$src$core$clipboard};\nsetLastCopiedLocation$$module$build$src$core$clipboard=function(a){stashedCoordinates$$module$build$src$core$clipboard=a};\npaste$$module$build$src$core$clipboard=function(a,b,c){return a&&b?pasteFromData$$module$build$src$core$clipboard(a,b,c):stashedCopyData$$module$build$src$core$clipboard&&stashedWorkspace$$module$build$src$core$clipboard?pasteFromData$$module$build$src$core$clipboard(stashedCopyData$$module$build$src$core$clipboard,stashedWorkspace$$module$build$src$core$clipboard,stashedCoordinates$$module$build$src$core$clipboard):null};\npasteFromData$$module$build$src$core$clipboard=function(a,b,c){let d;b=b.isMutator?b:(d=b.options.parentWorkspace)!=null?d:b;let e,f;return(f=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a.paster,!1))==null?void 0:e.paste(a,b,c))!=null?f:null};isCopyable$$module$build$src$core$interfaces$i_copyable=function(a){return a&&typeof a.toCopyData===\"function\"};\nregisterEscape$$module$build$src$core$shortcut_items=function(){ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.ESCAPE,preconditionFn(a){return!a.isReadOnly()},callback(a){a.hideChaff();return!0},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.ESC]})};\nregisterDelete$$module$build$src$core$shortcut_items=function(){ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.DELETE,preconditionFn(a,b){b=b.focusedNode;return!a.isReadOnly()&&b!=null&&isDeletable$$module$build$src$core$interfaces$i_deletable(b)&&b.isDeletable()&&!a.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(a,b,c,d){b.preventDefault();a=d.focusedNode;a instanceof\nBlockSvg$$module$build$src$core$block_svg?a.checkAndDelete():isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable()&&($.setGroup$$module$build$src$core$events$utils(!0),a.dispose(),$.setGroup$$module$build$src$core$events$utils(!1));return!0},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.DELETE,KeyCodes$$module$build$src$core$utils$keycodes.BACKSPACE]})};\nisCopyable$$module$build$src$core$shortcut_items=function(a){return isCopyable$$module$build$src$core$interfaces$i_copyable(a)&&isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&isDraggable$$module$build$src$core$interfaces$i_draggable(a)?a.isCopyable?a.isCopyable():a instanceof BlockSvg$$module$build$src$core$block_svg||a instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment?a.isOwnDeletable()&&a.isOwnMovable():a.isDeletable()&&a.isMovable():!1};\nisCuttable$$module$build$src$core$shortcut_items=function(a){return isCopyable$$module$build$src$core$shortcut_items(a)&&isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable()};\nregisterCopy$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.COPY,\npreconditionFn(c,d){d=d.focusedNode;c=c.isFlyout?c.targetWorkspace:c;return!!d&&!!c&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&isCopyable$$module$build$src$core$shortcut_items(d)},callback(c,d,e,f){d.preventDefault();d=f.focusedNode;if(!d||!isCopyable$$module$build$src$core$interfaces$i_copyable(d)||!isCopyable$$module$build$src$core$shortcut_items(d))return!1;c=c.isFlyout?c.targetWorkspace:c;if(!c)return!1;d.workspace.isFlyout||c.hideChaff();\nc=isDraggable$$module$build$src$core$interfaces$i_draggable(d)&&d.workspace==c?d.getRelativeToSurfaceXY():void 0;return!!copy$$module$build$src$core$clipboard(d,c)},keyCodes:[a,b]})};\nregisterCut$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.CUT,\npreconditionFn(c,d){d=d.focusedNode;return!!d&&!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&isCuttable$$module$build$src$core$shortcut_items(d)},callback(c,d,e,f){c=f.focusedNode;if(!c||!isCuttable$$module$build$src$core$shortcut_items(c)||!isCopyable$$module$build$src$core$interfaces$i_copyable(c))return!1;d=isDraggable$$module$build$src$core$interfaces$i_draggable(c)?c.getRelativeToSurfaceXY():void 0;d=copy$$module$build$src$core$clipboard(c,\nd);c instanceof BlockSvg$$module$build$src$core$block_svg?c.checkAndDelete():isDeletable$$module$build$src$core$interfaces$i_deletable(c)&&c.dispose();return!!d},keyCodes:[a,b]})};\nregisterPaste$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.PASTE,\npreconditionFn(){var c=getLastCopiedWorkspace$$module$build$src$core$clipboard();if(!c||!c.rendered)return!1;c=c.isFlyout?c.targetWorkspace:c;return!!getLastCopiedData$$module$build$src$core$clipboard()&&!!c&&!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(c,d){c=getLastCopiedData$$module$build$src$core$clipboard();if(!c)return!1;var e=getLastCopiedWorkspace$$module$build$src$core$clipboard();if(!e)return!1;e=e.isFlyout?e.targetWorkspace:\ne;if(!e||e.isReadOnly())return!1;if(d instanceof PointerEvent)return d=screenToWsCoordinates$$module$build$src$core$utils$svg_math(e,new Coordinate$$module$build$src$core$utils$coordinate(d.clientX,d.clientY)),!!paste$$module$build$src$core$clipboard(c,e,d);d=getLastCopiedLocation$$module$build$src$core$clipboard();if(!d)return!!paste$$module$build$src$core$clipboard(c,e);const {left:f,top:g,width:h,height:k}=e.getMetricsManager().getViewMetrics(!0);if((new Rect$$module$build$src$core$utils$rect(g,\ng+k,f,f+h)).contains(d.x,d.y))return!!paste$$module$build$src$core$clipboard(c,e);d=new Coordinate$$module$build$src$core$utils$coordinate(f+h/2,g+k/2);return!!paste$$module$build$src$core$clipboard(c,e,d)},keyCodes:[a,b]})};\nregisterUndo$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.UNDO,\npreconditionFn(c){return!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(c,d){c.hideChaff();c.undo(!1);d.preventDefault();return!0},keyCodes:[a,b]})};\nregisterRedo$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL,KeyCodes$$module$build$src$core$utils$keycodes.SHIFT]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META,\nKeyCodes$$module$build$src$core$utils$keycodes.SHIFT]),c=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Y,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.REDO,preconditionFn(d){return!d.isDragging()&&!d.isReadOnly()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},\ncallback(d,e){d.hideChaff();d.undo(!0);e.preventDefault();return!0},keyCodes:[a,b,c]})};registerDefaultShortcuts$$module$build$src$core$shortcut_items=function(){registerEscape$$module$build$src$core$shortcut_items();registerDelete$$module$build$src$core$shortcut_items();registerCopy$$module$build$src$core$shortcut_items();registerCut$$module$build$src$core$shortcut_items();registerPaste$$module$build$src$core$shortcut_items();registerUndo$$module$build$src$core$shortcut_items();registerRedo$$module$build$src$core$shortcut_items()};\nsaveProcedure$$module$build$src$core$serialization$procedures=function(a){const b=a.saveState();if(!a.getParameters().length)return b;b.parameters=a.getParameters().map(c=>c.saveState());return b};loadProcedure$$module$build$src$core$serialization$procedures=function(a,b,c,d){a=a.loadState(c,d);if(!c.parameters)return a;for(const [e,f]of c.parameters.entries())a.insertParameter(b.loadState(f,d),e);return a};\nsave$$module$build$src$core$serialization$workspaces=function(a){const b=Object.create(null),c=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);for(const d in c){let e;const f=(e=c[d])==null?void 0:e.save(a);f&&(b[d]=f)}return b};\nload$$module$build$src$core$serialization$workspaces=function(a,b,{recordUndo:c=!1}={}){var d=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);if(d){d=Object.entries(d).sort((f,g)=>g[1].priority-f[1].priority);var e=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(c);(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);startTextWidthCache$$module$build$src$core$utils$dom();\nb instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!1);for(const [,f]of d.reverse()){let g;(g=f)==null||g.clear(b)}for(const [f,g]of d.reverse())if(a[f]){let h;(h=g)==null||h.load(a[f],b)}b instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!0);stopTextWidthCache$$module$build$src$core$utils$dom();fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.FINISHED_LOADING))(b));\n$.setGroup$$module$build$src$core$events$utils(c);$.setRecordUndo$$module$build$src$core$events$utils(e)}};\ninject$$module$build$src$core$inject=function(a,b){let c=null;c=typeof a===\"string\"?document.getElementById(a)||document.querySelector(a):a;var d;if(!document.contains(c)&&document!==((d=c)==null?void 0:d.ownerDocument))throw Error(\"Error: container is not in current document\");a=new Options$$module$build$src$core$options(b||{});d=document.createElement(\"div\");addClass$$module$build$src$core$utils$dom(d,\"injectionDiv\");(b==null?0:b.rtl)&&addClass$$module$build$src$core$utils$dom(d,\"blocklyRTL\");c.appendChild(d);\nb=createDom$$module$build$src$core$inject(d,a);const e=createMainWorkspace$$module$build$src$core$inject(d,b,a);init$$module$build$src$core$inject(e);setMainWorkspace$$module$build$src$core$common(e);svgResize$$module$build$src$core$common(e);d.addEventListener(\"focusin\",function(){setMainWorkspace$$module$build$src$core$common(e)});conditionalBind$$module$build$src$core$browser_events(d,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common);return e};\ncreateDom$$module$build$src$core$inject=function(a,b){a.setAttribute(\"dir\",\"LTR\");inject$$module$build$src$core$css(b.hasCss,b.pathToMedia);const c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{xmlns:SVG_NS$$module$build$src$core$utils$dom,\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\",\"class\":\"blocklySvg\"},a),d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,\n{},c),e=String(Math.random()).substring(2);b.gridPattern=Grid$$module$build$src$core$grid.createDom(e,b.gridOptions,d,a);return c};\ncreateMainWorkspace$$module$build$src$core$inject=function(a,b,c){c.parentWorkspace=null;c=new WorkspaceSvg$$module$build$src$core$workspace_svg(c);const d=c.options;c.scale=d.zoomOptions.startScale;b.appendChild(c.createDom(\"blocklyMainBackground\",a));var e=c.getRenderer().getClassName();e&&addClass$$module$build$src$core$utils$dom(a,e);(e=c.getTheme().getClassName())&&addClass$$module$build$src$core$utils$dom(a,e);!d.hasCategories&&d.languageTree&&(a=c.addFlyout(Svg$$module$build$src$core$utils$svg.SVG),\ninsertAfter$$module$build$src$core$utils$dom(a,b));d.hasTrashcan&&c.addTrashcan();d.zoomOptions&&d.zoomOptions.controls&&c.addZoomControls();c.getThemeManager().subscribe(b,\"workspaceBackgroundColour\",\"background-color\");c.translate(0,0);c.addChangeListener(bumpIntoBoundsHandler$$module$build$src$core$bump_objects(c));svgResize$$module$build$src$core$common(c);createDom$$module$build$src$core$widgetdiv();createDom$$module$build$src$core$dropdowndiv();createDom$$module$build$src$core$tooltip();return c};\ninit$$module$build$src$core$inject=function(a){const b=a.options;var c=a.getParentSvg();conditionalBind$$module$build$src$core$browser_events(c.parentNode,\"contextmenu\",null,function(d){isTargetInput$$module$build$src$core$browser_events(d)||d.preventDefault()});c=conditionalBind$$module$build$src$core$browser_events(window,\"resize\",null,function(){hide$$module$build$src$core$tooltip();a.hideComponents(!0);repositionForWindowResize$$module$build$src$core$dropdowndiv();repositionForWindowResize$$module$build$src$core$widgetdiv();\nsvgResize$$module$build$src$core$common(a);bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a)});a.setResizeHandlerWrapper(c);bindDocumentEvents$$module$build$src$core$inject();if(b.languageTree){c=a.getToolbox();const d=a.getFlyout(!0);c?c.init():d&&(d.init(a),d.show(b.languageTree),typeof d.scrollToStart===\"function\"&&d.scrollToStart())}b.hasTrashcan&&a.trashcan.init();b.zoomOptions&&b.zoomOptions.controls&&a.zoomControls_.init();b.moveOptions&&b.moveOptions.scrollbars?(a.scrollbar=\nnew ScrollbarPair$$module$build$src$core$scrollbar_pair(a,b.moveOptions.scrollbars===!0||!!b.moveOptions.scrollbars.horizontal,b.moveOptions.scrollbars===!0||!!b.moveOptions.scrollbars.vertical,\"blocklyMainWorkspaceScrollbar\"),a.scrollbar.resize()):a.setMetrics({x:.5,y:.5});b.hasSounds&&loadSounds$$module$build$src$core$inject(b.pathToMedia,a)};\nbindDocumentEvents$$module$build$src$core$inject=function(){documentEventsBound$$module$build$src$core$inject||(conditionalBind$$module$build$src$core$browser_events(document,\"scroll\",null,function(){const a=getAllWorkspaces$$module$build$src$core$common();for(let b=0,c;c=a[b];b++)c instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&c.updateInverseScreenCTM()}),bind$$module$build$src$core$browser_events(document,\"touchend\",null,longStop$$module$build$src$core$touch),bind$$module$build$src$core$browser_events(document,\n\"touchcancel\",null,longStop$$module$build$src$core$touch));documentEventsBound$$module$build$src$core$inject=!0};\nloadSounds$$module$build$src$core$inject=function(a,b){function c(){for(;e.length;){const f=e.pop();f&&unbind$$module$build$src$core$browser_events(f)}d.preload()}const d=b.getAudioManager();d.load([a+\"click.mp3\",a+\"click.wav\",a+\"click.ogg\"],\"click\");d.load([a+\"disconnect.wav\",a+\"disconnect.mp3\",a+\"disconnect.ogg\"],\"disconnect\");d.load([a+\"delete.mp3\",a+\"delete.ogg\",a+\"delete.wav\"],\"delete\");const e=[];e.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",null,c,!0));\ne.push(conditionalBind$$module$build$src$core$browser_events(document,\"touchstart\",null,c,!0))};isFullBlockField$$module$build$src$core$contextmenu_items=function(a){if(!a||!a.isSimpleReporter())return!1;let b;return(b=a.getFields().next().value)==null?void 0:b.isFullBlockField()};\nregisterUndo$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.UNDO},preconditionFn(a){return a.workspace.getUndoStack().length>0?\"enabled\":\"disabled\"},callback(a){a.workspace.undo(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"undoWorkspace\",weight:1})};\nregisterRedo$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.REDO},preconditionFn(a){return a.workspace.getRedoStack().length>0?\"enabled\":\"disabled\"},callback(a){a.workspace.undo(!0)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"redoWorkspace\",weight:2})};\nregisterCleanup$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(a){return a.workspace.isMovable()?a.workspace.getTopBlocks(!1).length>1?\"enabled\":\"disabled\":\"hidden\"},callback(a){a.workspace.cleanUp()},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"cleanWorkspace\",weight:3})};\ntoggleOption_$$module$build$src$core$contextmenu_items=function(a,b){function c(f){e--;f.setCollapsed(a);e===0&&$.setGroup$$module$build$src$core$events$utils(!1)}let d=0,e=0;$.setGroup$$module$build$src$core$events$utils(!0);for(let f=0;f<b.length;f++){let g=b[f];for(;g;)e++,setTimeout(c.bind(null,g),d),g=g.getNextBlock(),d+=10}};\nregisterCollapse$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(let b=0;b<a.length;b++){let c=a[b];for(;c;){if(!c.isCollapsed())return\"enabled\";c=c.getNextBlock()}}return\"disabled\"}return\"hidden\"},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!0,\na.workspace.getTopBlocks(!0))},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"collapseWorkspace\",weight:4})};\nregisterExpand$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(let b=0;b<a.length;b++){let c=a[b];for(;c;){if(c.isCollapsed())return\"enabled\";c=c.getNextBlock()}}return\"disabled\"}return\"hidden\"},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!1,\na.workspace.getTopBlocks(!0))},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"expandWorkspace\",weight:5})};addDeletableBlocks_$$module$build$src$core$contextmenu_items=function(a,b){if(a.isDeletable())Array.prototype.push.apply(b,a.getDescendants(!1));else{a=a.getChildren(!1);for(let c=0;c<a.length;c++)addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b)}};\ngetDeletableBlocks_$$module$build$src$core$contextmenu_items=function(a){const b=[];a=a.getTopBlocks(!0);for(let c=0;c<a.length;c++)addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b);return b};\ndeleteNext_$$module$build$src$core$contextmenu_items=function(a,b){b?$.setGroup$$module$build$src$core$events$utils(b):($.setGroup$$module$build$src$core$events$utils(!0),b=$.getGroup$$module$build$src$core$events$utils());const c=a.shift();c&&(c.isDeadOrDying()?deleteNext_$$module$build$src$core$contextmenu_items(a,b):(c.dispose(!1,!0),setTimeout(deleteNext_$$module$build$src$core$contextmenu_items,10,a,b)));$.setGroup$$module$build$src$core$events$utils(!1)};\nregisterDeleteAll$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){if(!a.workspace)return\"\";a=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length;return a===1?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace(\"%1\",`${a}`)},preconditionFn(a){return a.workspace?getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length>\n0?\"enabled\":\"disabled\":\"disabled\"},callback(a){if(a.workspace){a.workspace.cancelCurrentGesture();var b=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace);b.length<2?deleteNext_$$module$build$src$core$contextmenu_items(b):confirm$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace(\"%1\",String(b.length)),function(c){c&&deleteNext_$$module$build$src$core$contextmenu_items(b)})}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,\nid:\"workspaceDelete\",weight:6})};registerWorkspaceOptions_$$module$build$src$core$contextmenu_items=function(){registerUndo$$module$build$src$core$contextmenu_items();registerRedo$$module$build$src$core$contextmenu_items();registerCleanup$$module$build$src$core$contextmenu_items();registerCollapse$$module$build$src$core$contextmenu_items();registerExpand$$module$build$src$core$contextmenu_items();registerDeleteAll$$module$build$src$core$contextmenu_items()};\nregisterDuplicate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isDeletable()&&a.isMovable()?a.isDuplicatable()?\"enabled\":\"disabled\":\"hidden\"},callback(a){if(a.block){var b=a.block.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.block.workspace)}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,\nid:\"blockDuplicate\",weight:1})};\nregisterComment$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?$.Msg$$module$build$src$core$msg.REMOVE_COMMENT:$.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(a){a=a.block;return!a||a.isInFlyout||!a.workspace.options.comments||a.isCollapsed()||!a.isEditable()||!a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)&&isFullBlockField$$module$build$src$core$contextmenu_items(a)?\n\"hidden\":\"enabled\"},callback(a){(a=a.block)&&a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?a.setCommentText(null):a.setCommentText(\"\")},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockComment\",weight:2})};\nregisterInline$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.getInputsInline()?$.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:$.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.isMovable()&&!a.isCollapsed())for(let b=1;b<a.inputList.length;b++)if(!(a.inputList[b-1]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs||\na.inputList[b]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs))return\"enabled\";return\"hidden\"},callback(a){a.block.setInputsInline(!a.block.getInputsInline())},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockInline\",weight:3})};\nregisterCollapseExpandBlock$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.isCollapsed()?$.Msg$$module$build$src$core$msg.EXPAND_BLOCK:$.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isMovable()&&a.workspace.options.collapse?\"enabled\":\"hidden\"},callback(a){a.block.setCollapsed(!a.block.isCollapsed())},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,\nid:\"blockCollapseExpand\",weight:4})};\nregisterDisable$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants)?$.Msg$$module$build$src$core$msg.ENABLE_BLOCK:$.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.workspace.options.disable&&a.isEditable()){var b=a.getDisabledReasons();b=b.size>(b.has(MANUALLY_DISABLED$$module$build$src$core$constants)?\n1:0);return a.getInheritedDisabled()||b?\"disabled\":\"enabled\"}return\"hidden\"},callback(a){a=a.block;const b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);a.setDisabledReason(!a.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants),MANUALLY_DISABLED$$module$build$src$core$constants);$.setGroup$$module$build$src$core$events$utils(b)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockDisable\",\nweight:5})};\nregisterDelete$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){var b=a.block;a=b.getDescendants(!1).length;(b=b.getNextBlock())&&(a-=b.getDescendants(!1).length);return a===1?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace(\"%1\",`${a}`)},preconditionFn(a){return!a.block.isInFlyout&&a.block.isDeletable()?\"enabled\":\"hidden\"},callback(a){a.block&&a.block.checkAndDelete()},\nscopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockDelete\",weight:6})};\nregisterHelp$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.HELP},preconditionFn(a){a=a.block;return(typeof a.helpUrl===\"function\"?a.helpUrl():a.helpUrl)?\"enabled\":\"hidden\"},callback(a){a.block.showHelp()},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockHelp\",weight:7})};\nregisterCommentDelete$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(a){let b;return((b=a.comment)==null?0:b.isDeletable())?\"enabled\":\"hidden\"},callback(a){$.setGroup$$module$build$src$core$events$utils(!0);let b;(b=a.comment)==null||b.dispose();$.setGroup$$module$build$src$core$events$utils(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.COMMENT,\nid:\"commentDelete\",weight:6})};\nregisterCommentDuplicate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(a){let b;return((b=a.comment)==null?0:b.isMovable())?\"enabled\":\"hidden\"},callback(a){if(a.comment){var b=a.comment.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.comment.workspace)}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.COMMENT,id:\"commentDuplicate\",\nweight:1})};\nregisterCommentCreate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:a=>{let b;return((b=a.workspace)==null?0:b.isMutator)?\"hidden\":\"enabled\"},callback:(a,b,c,d)=>{if(a=a.workspace)$.setGroup$$module$build$src$core$events$utils(!0),b=new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(a),b.setPlaceholderText($.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),\nb.moveTo(screenToWsCoordinates$$module$build$src$core$utils$svg_math(a,new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y))),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b),$.setGroup$$module$build$src$core$events$utils(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"commentCreate\",weight:8})};\nregisterBlockOptions_$$module$build$src$core$contextmenu_items=function(){registerDuplicate$$module$build$src$core$contextmenu_items();registerComment$$module$build$src$core$contextmenu_items();registerInline$$module$build$src$core$contextmenu_items();registerCollapseExpandBlock$$module$build$src$core$contextmenu_items();registerDisable$$module$build$src$core$contextmenu_items();registerDelete$$module$build$src$core$contextmenu_items();registerHelp$$module$build$src$core$contextmenu_items()};\nregisterCommentOptions$$module$build$src$core$contextmenu_items=function(){registerCommentDuplicate$$module$build$src$core$contextmenu_items();registerCommentDelete$$module$build$src$core$contextmenu_items();registerCommentCreate$$module$build$src$core$contextmenu_items()};registerDefaultOptions$$module$build$src$core$contextmenu_items=function(){registerWorkspaceOptions_$$module$build$src$core$contextmenu_items();registerBlockOptions_$$module$build$src$core$contextmenu_items()};\nisPaster$$module$build$src$core$interfaces$i_paster=function(a){return a&&typeof a.paste===\"function\"};isRenderedElement$$module$build$src$core$interfaces$i_rendered_element=function(a){return a&&typeof a.getSvgRoot===\"function\"};isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item=function(a){return a.isSelectable()};hideChaff$$module$build$src$core$blockly=function(a){getMainWorkspace$$module$build$src$core$common().hideChaff(a)};\nisFocusableTree$$module$build$src$core$interfaces$i_focusable_tree=function(a){return a&&typeof a.getRootFocusableNode===\"function\"&&typeof a.getRestoredFocusableNode===\"function\"&&typeof a.getNestedTrees===\"function\"&&typeof a.lookUpFocusableNode===\"function\"&&typeof a.onTreeFocus===\"function\"&&typeof a.onTreeBlur===\"function\"};$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_ES6=!1;$jscomp.ASSUME_ES2020=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;\n$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.INSTRUMENT_ASYNC_CONTEXT=!0;$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create==\"function\"?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties==\"function\"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\n$jscomp.getGlobal=function(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");};$jscomp.global=$jscomp.ASSUME_ES2020?globalThis:$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol===\"function\"&&typeof Symbol(\"x\")===\"symbol\";$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;\n$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX=\"$jscp$\";var $jscomp$lookupPolyfilledValue=function(a,b,c){if(!c||a!=null){c=$jscomp.propertyToPolyfillSymbol[b];if(c==null)return a[b];c=a[c];return c!==void 0?c:a[b]}};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};\n$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(\".\");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};\n$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(\".\");a=e.length===1;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&c===\"es6\"?d[e]:null;b=b(c);b!=null&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]===void 0&&(c=Math.random()*1E9>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?\n$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+\"$\"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};\n$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect!=\"undefined\"&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){e===void 0&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||\ne}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.ASSUME_ES6||$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf==\"function\"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null;\n$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.ASSUME_ES6||$jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if(c!=\"prototype\")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};\n$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b=typeof Symbol!=\"undefined\"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length==\"number\")return $jscomp.arrayIterator(a);throw Error(String(a)+\" is not an iterable or ArrayLike\");};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};\n$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError(\"Iterator result \"+a+\" is not an object\");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};\n$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError(\"Generator is already running\");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};\n$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};\n$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;b!=void 0&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};\n$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};\n$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();b.jumpTo!=void 0&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};\n$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};\n$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_(\"return\"in b?b[\"return\"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_[\"throw\"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};\n$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};\n$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};\n$jscomp.polyfill(\"globalThis\",function(a){return a||$jscomp.global},\"es_2020\",\"es3\");$jscomp.polyfill(\"Array.prototype.includes\",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},\"es7\",\"es3\");\n$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&d==\"q\"&&e==b}}));return b.q===!0}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};\n$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.MapEntry=function(){};$jscomp.polyfill(\"Set.prototype.difference\",function(a){return a?a:function(b){$jscomp.checkIsSetInstance(this);$jscomp.checkIsSetLike(b);var c=$jscomp.getSmallerAndLargerSets(this,b);b=new Set(this);var d=c.smallerSetIterator;c=c.largerSet;for(var e=d.next();!e.done;)c.has(e.value)&&b.delete(e.value),e=d.next();return b}},\"es_next\",\"es6\");\n$jscomp.checkIsSetLike=function(a){if(typeof a!==\"object\"||a===null||typeof a.size!==\"number\"||a.size<0||typeof a.keys!==\"function\"||typeof a.has!==\"function\")throw new TypeError(\"Argument must be set-like\");};$jscomp.checkIsValidIterator=function(a){if(typeof a!==\"object\"||a===null||typeof a.next!==\"function\")throw new TypeError(\"Invalid iterator.\");return a};\n$jscomp.getSmallerAndLargerSets=function(a,b){return a.size<=b.size?{smallerSetIterator:a.keys(),largerSet:b}:{smallerSetIterator:$jscomp.checkIsValidIterator(b.keys()),largerSet:a}};$jscomp.checkIsSetInstance=function(a){if(!(a instanceof Set))throw new TypeError(\"Method must be called on an instance of Set.\");};\n$jscomp.iteratorFromArray=function(a,b){if($jscomp.ASSUME_ES6)return a[Symbol.iterator]();a instanceof String&&(a+=\"\");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill(\"Array.prototype.values\",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c})}},\"es8\",\"es3\");\n$jscomp.polyfill(\"Array.prototype.flatMap\",function(a){return a?a:function(b,c){var d=[];Array.prototype.forEach.call(this,function(e,f){e=b.call(c,e,f,this);Array.isArray(e)?d.push.apply(d,e):d.push(e)});return d}},\"es9\",\"es5\");$jscomp.polyfill(\"Array.prototype.flat\",function(a){return a?a:function(b){b=b===void 0?1:b;var c=[];Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&b>0?(d=Array.prototype.flat.call(d,b-1),c.push.apply(c,d)):c.push(d)});return c}},\"es9\",\"es5\");\n$jscomp.polyfill(\"Object.entries\",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push([d,b[d]]);return c}},\"es8\",\"es3\");$jscomp.polyfill(\"Object.values\",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push(b[d]);return c}},\"es8\",\"es3\");\nvar typeMap$$module$build$src$core$registry=Object.create(null),TEST_ONLY$$module$build$src$core$registry={typeMap:typeMap$$module$build$src$core$registry},nameMap$$module$build$src$core$registry=Object.create(null),DEFAULT$$module$build$src$core$registry=\"default\",Type$$module$build$src$core$registry=class{constructor(a){this.name=a}toString(){return this.name}};Type$$module$build$src$core$registry.CONNECTION_CHECKER=new Type$$module$build$src$core$registry(\"connectionChecker\");\nType$$module$build$src$core$registry.CONNECTION_PREVIEWER=new Type$$module$build$src$core$registry(\"connectionPreviewer\");Type$$module$build$src$core$registry.CURSOR=new Type$$module$build$src$core$registry(\"cursor\");Type$$module$build$src$core$registry.EVENT=new Type$$module$build$src$core$registry(\"event\");Type$$module$build$src$core$registry.FIELD=new Type$$module$build$src$core$registry(\"field\");Type$$module$build$src$core$registry.INPUT=new Type$$module$build$src$core$registry(\"input\");\nType$$module$build$src$core$registry.RENDERER=new Type$$module$build$src$core$registry(\"renderer\");Type$$module$build$src$core$registry.TOOLBOX=new Type$$module$build$src$core$registry(\"toolbox\");Type$$module$build$src$core$registry.THEME=new Type$$module$build$src$core$registry(\"theme\");Type$$module$build$src$core$registry.TOOLBOX_ITEM=new Type$$module$build$src$core$registry(\"toolboxItem\");Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX=new Type$$module$build$src$core$registry(\"flyoutsVerticalToolbox\");\nType$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX=new Type$$module$build$src$core$registry(\"flyoutsHorizontalToolbox\");Type$$module$build$src$core$registry.FLYOUT_INFLATER=new Type$$module$build$src$core$registry(\"flyoutInflater\");Type$$module$build$src$core$registry.METRICS_MANAGER=new Type$$module$build$src$core$registry(\"metricsManager\");Type$$module$build$src$core$registry.BLOCK_DRAGGER=new Type$$module$build$src$core$registry(\"blockDragger\");\nType$$module$build$src$core$registry.SERIALIZER=new Type$$module$build$src$core$registry(\"serializer\");Type$$module$build$src$core$registry.ICON=new Type$$module$build$src$core$registry(\"icon\");Type$$module$build$src$core$registry.PASTER=new Type$$module$build$src$core$registry(\"paster\");Type$$module$build$src$core$registry.VARIABLE_MODEL=new Type$$module$build$src$core$registry(\"variableModel\");Type$$module$build$src$core$registry.VARIABLE_MAP=new Type$$module$build$src$core$registry(\"variableMap\");\nvar module$build$src$core$registry={DEFAULT:DEFAULT$$module$build$src$core$registry,TEST_ONLY:TEST_ONLY$$module$build$src$core$registry};module$build$src$core$registry.Type=Type$$module$build$src$core$registry;module$build$src$core$registry.getAllItems=getAllItems$$module$build$src$core$registry;module$build$src$core$registry.getClass=getClass$$module$build$src$core$registry;module$build$src$core$registry.getClassFromOptions=getClassFromOptions$$module$build$src$core$registry;\nmodule$build$src$core$registry.getObject=getObject$$module$build$src$core$registry;module$build$src$core$registry.hasItem=hasItem$$module$build$src$core$registry;module$build$src$core$registry.register=register$$module$build$src$core$registry;module$build$src$core$registry.unregister=unregister$$module$build$src$core$registry;var Blocks$$module$build$src$core$blocks=Object.create(null),module$build$src$core$blocks={Blocks:Blocks$$module$build$src$core$blocks};var LONGPRESS$$module$build$src$core$touch=750,TOUCH_ENABLED$$module$build$src$core$touch=\"ontouchstart\"in globalThis||!!(globalThis.document&&document.documentElement&&\"ontouchstart\"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),touchIdentifier_$$module$build$src$core$touch=null,TOUCH_MAP$$module$build$src$core$touch={mousedown:[\"pointerdown\"],mouseenter:[\"pointerenter\"],mouseleave:[\"pointerleave\"],mousemove:[\"pointermove\"],\nmouseout:[\"pointerout\"],mouseover:[\"pointerover\"],mouseup:[\"pointerup\",\"pointercancel\"],touchend:[\"pointerup\"],touchcancel:[\"pointercancel\"],pointerup:[\"pointerup\",\"pointercancel\"]},longPid_$$module$build$src$core$touch=0,module$build$src$core$touch={TOUCH_ENABLED:TOUCH_ENABLED$$module$build$src$core$touch,TOUCH_MAP:TOUCH_MAP$$module$build$src$core$touch};module$build$src$core$touch.checkTouchIdentifier=checkTouchIdentifier$$module$build$src$core$touch;\nmodule$build$src$core$touch.clearTouchIdentifier=clearTouchIdentifier$$module$build$src$core$touch;module$build$src$core$touch.getTouchIdentifierFromEvent=getTouchIdentifierFromEvent$$module$build$src$core$touch;module$build$src$core$touch.longStart=longStart$$module$build$src$core$touch;module$build$src$core$touch.longStop=longStop$$module$build$src$core$touch;module$build$src$core$touch.shouldHandleEvent=shouldHandleEvent$$module$build$src$core$touch;var rawUserAgent$$module$build$src$core$utils$useragent,isJavaFx$$module$build$src$core$utils$useragent,isWebKit$$module$build$src$core$utils$useragent,isGecko$$module$build$src$core$utils$useragent,isAndroid$$module$build$src$core$utils$useragent,isIPad$$module$build$src$core$utils$useragent,isIPhone$$module$build$src$core$utils$useragent,isMac$$module$build$src$core$utils$useragent,isTablet$$module$build$src$core$utils$useragent,isMobile$$module$build$src$core$utils$useragent;\n(function(a){function b(d){return c.includes(d.toUpperCase())}rawUserAgent$$module$build$src$core$utils$useragent=a;const c=rawUserAgent$$module$build$src$core$utils$useragent.toUpperCase();isJavaFx$$module$build$src$core$utils$useragent=b(\"JavaFX\");isWebKit$$module$build$src$core$utils$useragent=b(\"WebKit\");isGecko$$module$build$src$core$utils$useragent=b(\"Gecko\")&&!isWebKit$$module$build$src$core$utils$useragent;isAndroid$$module$build$src$core$utils$useragent=b(\"Android\");a=globalThis.navigator&&\nglobalThis.navigator.maxTouchPoints;isIPad$$module$build$src$core$utils$useragent=b(\"iPad\")||b(\"Macintosh\")&&a>0;isIPhone$$module$build$src$core$utils$useragent=b(\"iPhone\")&&!isIPad$$module$build$src$core$utils$useragent;isMac$$module$build$src$core$utils$useragent=b(\"Macintosh\");isTablet$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent&&!b(\"Mobile\")||b(\"Silk\");isMobile$$module$build$src$core$utils$useragent=!isTablet$$module$build$src$core$utils$useragent&&\n(isIPhone$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent)})(globalThis.navigator&&globalThis.navigator.userAgent||\"\");\nvar raw$$module$build$src$core$utils$useragent=rawUserAgent$$module$build$src$core$utils$useragent,JavaFx$$module$build$src$core$utils$useragent=isJavaFx$$module$build$src$core$utils$useragent,GECKO$$module$build$src$core$utils$useragent=isGecko$$module$build$src$core$utils$useragent,ANDROID$$module$build$src$core$utils$useragent=isAndroid$$module$build$src$core$utils$useragent,IPAD$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent,IPHONE$$module$build$src$core$utils$useragent=\nisIPhone$$module$build$src$core$utils$useragent,MAC$$module$build$src$core$utils$useragent=isMac$$module$build$src$core$utils$useragent,MOBILE$$module$build$src$core$utils$useragent=isMobile$$module$build$src$core$utils$useragent,module$build$src$core$utils$useragent={ANDROID:ANDROID$$module$build$src$core$utils$useragent,GECKO:GECKO$$module$build$src$core$utils$useragent,IPAD:IPAD$$module$build$src$core$utils$useragent,IPHONE:IPHONE$$module$build$src$core$utils$useragent,JavaFx:JavaFx$$module$build$src$core$utils$useragent,\nMAC:MAC$$module$build$src$core$utils$useragent,MOBILE:MOBILE$$module$build$src$core$utils$useragent,raw:raw$$module$build$src$core$utils$useragent};var LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events=40,PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events=125,module$build$src$core$browser_events={};module$build$src$core$browser_events.bind=bind$$module$build$src$core$browser_events;module$build$src$core$browser_events.conditionalBind=conditionalBind$$module$build$src$core$browser_events;module$build$src$core$browser_events.getScrollDeltaPixels=getScrollDeltaPixels$$module$build$src$core$browser_events;\nmodule$build$src$core$browser_events.isRightButton=isRightButton$$module$build$src$core$browser_events;module$build$src$core$browser_events.isTargetInput=isTargetInput$$module$build$src$core$browser_events;module$build$src$core$browser_events.mouseToSvg=mouseToSvg$$module$build$src$core$browser_events;module$build$src$core$browser_events.unbind=unbind$$module$build$src$core$browser_events;var EventType$$module$build$src$core$events$type;\n(function(a){a.BLOCK_CREATE=\"create\";a.BLOCK_DELETE=\"delete\";a.BLOCK_CHANGE=\"change\";a.BLOCK_FIELD_INTERMEDIATE_CHANGE=\"block_field_intermediate_change\";a.BLOCK_MOVE=\"move\";a.VAR_CREATE=\"var_create\";a.VAR_DELETE=\"var_delete\";a.VAR_RENAME=\"var_rename\";a.VAR_TYPE_CHANGE=\"var_type_change\";a.UI=\"ui\";a.BLOCK_DRAG=\"drag\";a.SELECTED=\"selected\";a.CLICK=\"click\";a.MARKER_MOVE=\"marker_move\";a.BUBBLE_OPEN=\"bubble_open\";a.TRASHCAN_OPEN=\"trashcan_open\";a.TOOLBOX_ITEM_SELECT=\"toolbox_item_select\";a.THEME_CHANGE=\n\"theme_change\";a.VIEWPORT_CHANGE=\"viewport_change\";a.COMMENT_CREATE=\"comment_create\";a.COMMENT_DELETE=\"comment_delete\";a.COMMENT_CHANGE=\"comment_change\";a.COMMENT_MOVE=\"comment_move\";a.COMMENT_RESIZE=\"comment_resize\";a.COMMENT_DRAG=\"comment_drag\";a.COMMENT_COLLAPSE=\"comment_collapse\";a.FINISHED_LOADING=\"finished_loading\"})(EventType$$module$build$src$core$events$type||(EventType$$module$build$src$core$events$type={}));\nvar BUMP_EVENTS$$module$build$src$core$events$type=[EventType$$module$build$src$core$events$type.BLOCK_CREATE,EventType$$module$build$src$core$events$type.BLOCK_MOVE,EventType$$module$build$src$core$events$type.COMMENT_CREATE,EventType$$module$build$src$core$events$type.COMMENT_MOVE],module$build$src$core$events$type={BUMP_EVENTS:BUMP_EVENTS$$module$build$src$core$events$type};module$build$src$core$events$type.EventType=EventType$$module$build$src$core$events$type;var soup$$module$build$src$core$utils$idgenerator=\"!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",internal$$module$build$src$core$utils$idgenerator={genUid:()=>{const a=soup$$module$build$src$core$utils$idgenerator.length,b=[];for(let c=0;c<20;c++)b[c]=soup$$module$build$src$core$utils$idgenerator.charAt(Math.random()*a);return b.join(\"\")}},TEST_ONLY$$module$build$src$core$utils$idgenerator=internal$$module$build$src$core$utils$idgenerator,nextId$$module$build$src$core$utils$idgenerator=\n0,module$build$src$core$utils$idgenerator={TEST_ONLY:internal$$module$build$src$core$utils$idgenerator};module$build$src$core$utils$idgenerator.genUid=genUid$$module$build$src$core$utils$idgenerator;module$build$src$core$utils$idgenerator.getNextUniqueId=getNextUniqueId$$module$build$src$core$utils$idgenerator;var module$build$src$core$events$predicates={};module$build$src$core$events$predicates.isBlockChange=isBlockChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockCreate=isBlockCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockDelete=isBlockDelete$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockDrag=isBlockDrag$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isBlockFieldIntermediateChange=isBlockFieldIntermediateChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockMove=isBlockMove$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBubbleOpen=isBubbleOpen$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isClick=isClick$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isCommentChange=isCommentChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentCollapse=isCommentCollapse$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentCreate=isCommentCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentDelete=isCommentDelete$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isCommentDrag=isCommentDrag$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentMove=isCommentMove$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentResize=isCommentResize$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isFinishedLoading=isFinishedLoading$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isSelected=isSelected$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isThemeChange=isThemeChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isToolboxItemSelect=isToolboxItemSelect$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isTrashcanOpen=isTrashcanOpen$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isVarCreate=isVarCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isVarDelete=isVarDelete$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isVarRename=isVarRename$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isViewportChange=isViewportChange$$module$build$src$core$events$predicates;var group$$module$build$src$core$events$utils=\"\",recordUndo$$module$build$src$core$events$utils=!0,disabled$$module$build$src$core$events$utils=0,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils=\"ORPHANED_BLOCK\",FIRE_QUEUE$$module$build$src$core$events$utils=[],TEST_ONLY$$module$build$src$core$events$utils={FIRE_QUEUE:FIRE_QUEUE$$module$build$src$core$events$utils,enqueueEvent:enqueueEvent$$module$build$src$core$events$utils,fireNow:fireNow$$module$build$src$core$events$utils,fireInternal:fireInternal$$module$build$src$core$events$utils,\nsetGroupInternal:setGroupInternal$$module$build$src$core$events$utils},module$build$src$core$events$utils={TEST_ONLY:TEST_ONLY$$module$build$src$core$events$utils};module$build$src$core$events$utils.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$utils.disableOrphans=disableOrphans$$module$build$src$core$events$utils;\nmodule$build$src$core$events$utils.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$utils.filter=filter$$module$build$src$core$events$utils;module$build$src$core$events$utils.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$utils.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$utils.get=get$$module$build$src$core$events$utils;module$build$src$core$events$utils.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;\nmodule$build$src$core$events$utils.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$utils.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.setRecordUndo=$.setRecordUndo$$module$build$src$core$events$utils;var SVG_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/2000/svg\",HTML_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/1999/xhtml\",XLINK_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/1999/xlink\",NodeType$$module$build$src$core$utils$dom;(function(a){a[a.ELEMENT_NODE=1]=\"ELEMENT_NODE\";a[a.TEXT_NODE=3]=\"TEXT_NODE\";a[a.COMMENT_NODE=8]=\"COMMENT_NODE\"})(NodeType$$module$build$src$core$utils$dom||(NodeType$$module$build$src$core$utils$dom={}));\nvar cacheWidths$$module$build$src$core$utils$dom=null,cacheReference$$module$build$src$core$utils$dom=0,canvasContext$$module$build$src$core$utils$dom=null,module$build$src$core$utils$dom={HTML_NS:HTML_NS$$module$build$src$core$utils$dom};module$build$src$core$utils$dom.NodeType=NodeType$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.SVG_NS=SVG_NS$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.XLINK_NS=XLINK_NS$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.addClass=addClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.createSvgElement=createSvgElement$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidth=getFastTextWidth$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidthWithSizeString=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getTextWidth=getTextWidth$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.hasClass=hasClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.insertAfter=insertAfter$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.measureFontMetrics=measureFontMetrics$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClass=removeClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClasses=removeClasses$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeNode=removeNode$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.setCssTransform=setCssTransform$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.startTextWidthCache=startTextWidthCache$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.stopTextWidthCache=stopTextWidthCache$$module$build$src$core$utils$dom;var FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser=class{static findFocusedNode(a){var b=a.getRootFocusableNode();if(!b.canBeFocused())return null;var c=b.getFocusableElement();if(hasClass$$module$build$src$core$utils$dom(c,FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME)||hasClass$$module$build$src$core$utils$dom(c,FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME))return b;\nb=c.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR);if(b instanceof HTMLElement||b instanceof SVGElement)if(b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(b,a))return b;c=c.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR);if(c instanceof HTMLElement||c instanceof SVGElement)if(a=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(c,a))return a;return null}static findFocusableNodeFor(a,b){if(!a.id||\na.id===\"null\"||b.getNestedTrees().map(e=>FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(a,e)).findIndex(e=>!!e)!==-1)return null;var c=b.getRootFocusableNode();if(c.canBeFocused()&&a===c.getFocusableElement())return c;var d;if(c=(d=b.lookUpFocusableNode(a.id))!=null?d:null)return c;d=a.parentElement;return!c&&d?FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(d,b):null}};\nFocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME=\"blocklyActiveFocus\";FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME=\"blocklyPassiveFocus\";FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME}`;\nFocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME}`;var module$build$src$core$utils$focusable_tree_traverser={};module$build$src$core$utils$focusable_tree_traverser.FocusableTreeTraverser=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser;var TreeRegistration$$module$build$src$core$focus_manager=class{constructor(a,b){this.tree=a;this.rootShouldBeAutoTabbable=b}},FocusManager$$module$build$src$core$focus_manager=class{constructor(a){this.previouslyFocusedNode=this.focusedNode=null;this.registeredTrees=[];this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const b=c=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!c;var d=null;if(c instanceof HTMLElement||\nc instanceof SVGElement)for(var e of this.registeredTrees)if(d=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(c,e.tree))break;if(d&&d.canBeFocused()){c=d.getFocusableTree();let f;e=(f=this.focusedNode)==null?void 0:f.getFocusableTree();d===c.getRootFocusableNode()&&c!==e?this.focusTree(c):this.focusNode(d)}else this.defocusCurrentFocusedNode()}};a(\"focusin\",c=>{c instanceof FocusEvent&&b(document.activeElement)});a(\"focusout\",c=>{c instanceof FocusEvent&&\nb(c.relatedTarget)})}registerTree(a,b=!1){this.ensureManagerIsUnlocked();if(this.isRegistered(a))throw Error(`Attempted to re-register already registered tree: ${a}.`);this.registeredTrees.push(new TreeRegistration$$module$build$src$core$focus_manager(a,b));const c=a.getRootFocusableNode().getFocusableElement();if(!c.id||c.id===\"null\")throw Error(\"Attempting to register a tree with a root element that has an \"+`invalid ID: ${a}.`);b&&(c.tabIndex=0)}isRegistered(a){return!!this.lookUpRegistration(a)}lookUpRegistration(a){let b;\nreturn(b=this.registeredTrees.find(c=>c.tree===a))!=null?b:null}unregisterTree(a){this.ensureManagerIsUnlocked();if(!this.isRegistered(a))throw Error(`Attempted to unregister not registered tree: ${a}.`);var b=this.registeredTrees.findIndex(e=>e.tree===a);const c=this.registeredTrees[b];this.registeredTrees.splice(b,1);b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(a);const d=a.getRootFocusableNode();b&&this.removeHighlight(b);this.focusedNode!==b&&\nthis.focusedNode!==d||this.updateFocusedNode(null);this.removeHighlight(d);c.rootShouldBeAutoTabbable&&a.getRootFocusableNode().getFocusableElement().removeAttribute(\"tabindex\")}getFocusedTree(){let a,b;return(b=(a=this.focusedNode)==null?void 0:a.getFocusableTree())!=null?b:null}getFocusedNode(){return this.focusedNode}focusTree(a){this.ensureManagerIsUnlocked();if(!this.isRegistered(a))throw Error(`Attempted to focus unregistered tree: ${a}.`);const b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(a),\nc=a.getRestoredFocusableNode(b);a=a.getRootFocusableNode();let d;this.focusNode((d=c!=null?c:b)!=null?d:a)}focusNode(a){this.ensureManagerIsUnlocked();const b=!this.currentlyHoldsEphemeralFocus;b&&(this.isUpdatingFocusedNode=!0);var c,d=((c=this.focusedNode)==null?void 0:c.getFocusableElement())!==document.activeElement;if(this.focusedNode!==a||d)if(a.canBeFocused()){c=a.getFocusableTree();if(!this.isRegistered(c))throw Error(`Attempted to focus unregistered node: ${a}.`);d=a.getFocusableElement();\nd.id&&d.id!==\"null\"||console.warn(\"Trying to focus a node that has an invalid ID.\");var e=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(d,c);d=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(c);var f=a;if(e!==a){f=c.getRestoredFocusableNode(d);a=c.getRootFocusableNode();var g;f=(g=f!=null?f:d)!=null?g:a}a=this.focusedNode;g=a==null?void 0:a.getFocusableTree();a&&this.passivelyFocusNode(a,c);c=c.getRootFocusableNode();\nd&&this.removeHighlight(d);c!==f&&this.removeHighlight(c);this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(f,g!=null?g:null);this.updateFocusedNode(f)}else console.warn(\"Trying to focus a node that can't be focused.\");b&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(a){this.ensureManagerIsUnlocked();if(this.currentlyHoldsEphemeralFocus)throw Error(\"Attempted to take ephemeral focus when it's already held, \"+`with new element: ${a}.`);this.currentlyHoldsEphemeralFocus=!0;this.focusedNode&&\nthis.passivelyFocusNode(this.focusedNode,null);a.focus({preventScroll:!0});let b=!1;return()=>{if(b)throw Error(\"Attempted to finish ephemeral focus twice for element: \"+`${a}.`);b=!0;this.currentlyHoldsEphemeralFocus=!1;if(this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const c=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===c&&this.recentlyLostAllFocus&&this.focusNode(c)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error(\"FocusManager state changes cannot happen in a tree/node focus/blur callback.\");\n}updateFocusedNode(a){this.previouslyFocusedNode=this.focusedNode;this.focusedNode=a}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(a,b){this.lockFocusStateChanges=!0;const c=a.getFocusableTree(),d=a.getFocusableElement();let e;const f=(e=this.lookUpRegistration(c))==null?void 0:e.rootShouldBeAutoTabbable;c!==b&&(c.onTreeFocus(a,b),f&&(c.getRootFocusableNode().getFocusableElement().tabIndex=\n-1));a.onNodeFocus();this.lockFocusStateChanges=!1;f&&a===c.getRootFocusableNode()||d.hasAttribute(\"tabindex\")||(d.tabIndex=-1);this.setNodeToVisualActiveFocus(a);d.focus({preventScroll:!0})}passivelyFocusNode(a,b){this.lockFocusStateChanges=!0;const c=a.getFocusableTree();if(c!==b){c.onTreeBlur(b);let d;if((d=this.lookUpRegistration(c))==null?0:d.rootShouldBeAutoTabbable)c.getRootFocusableNode().getFocusableElement().tabIndex=0}a.onNodeBlur();this.lockFocusStateChanges=!1;c!==b&&this.setNodeToVisualPassiveFocus(a)}setNodeToVisualActiveFocus(a){a=\na.getFocusableElement();addClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(a){a=a.getFocusableElement();removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);addClass$$module$build$src$core$utils$dom(a,\nFocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(a){a=a.getFocusableElement();removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){FocusManager$$module$build$src$core$focus_manager.focusManager||(FocusManager$$module$build$src$core$focus_manager.focusManager=\nnew FocusManager$$module$build$src$core$focus_manager(document.addEventListener));return FocusManager$$module$build$src$core$focus_manager.focusManager}};FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME=\"blocklyActiveFocus\";FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME=\"blocklyPassiveFocus\";FocusManager$$module$build$src$core$focus_manager.focusManager=null;var module$build$src$core$focus_manager={};\nmodule$build$src$core$focus_manager.FocusManager=FocusManager$$module$build$src$core$focus_manager;module$build$src$core$focus_manager.getFocusManager=$.getFocusManager$$module$build$src$core$focus_manager;var module$build$src$core$interfaces$i_focusable_node={};module$build$src$core$interfaces$i_focusable_node.isFocusableNode=isFocusableNode$$module$build$src$core$interfaces$i_focusable_node;var module$build$src$core$interfaces$i_selectable={};module$build$src$core$interfaces$i_selectable.isSelectable=isSelectable$$module$build$src$core$interfaces$i_selectable;var module$build$src$core$utils$object={};module$build$src$core$utils$object.deepMerge=deepMerge$$module$build$src$core$utils$object;var ShortcutRegistry$$module$build$src$core$shortcut_registry=class{constructor(){this.shortcuts=new Map;this.keyMap=new Map;this.reset()}reset(){this.shortcuts.clear();this.keyMap.clear()}register(a,b){if(this.shortcuts.get(a.name)&&!b)throw Error(`Shortcut named \"${a.name}\" already exists.`);this.shortcuts.set(a.name,a);b=a.keyCodes;if(b==null?0:b.length)for(const c of b)this.addKeyMapping(c,a.name,!!a.allowCollision)}unregister(a){if(!this.shortcuts.get(a))return console.warn(`Keyboard shortcut named \"${a}\" not found.`),\n!1;this.removeAllKeyMappings(a);this.shortcuts.delete(a);return!0}addKeyMapping(a,b,c){a=`${a}`;const d=this.keyMap.get(a);if(d&&!c)throw Error(`Shortcut named \"${b}\" collides with shortcuts \"${d}\"`);d&&c?d.unshift(b):this.keyMap.set(a,[b])}removeKeyMapping(a,b,c){const d=this.keyMap.get(a);if(!d)return c||console.warn(`No keyboard shortcut named \"${b}\" registered with key code \"${a}\"`),!1;const e=d.indexOf(b);if(e>-1)return d.splice(e,1),d.length===0&&this.keyMap.delete(a),!0;c||console.warn(`No keyboard shortcut named \"${b}\" registered with key code \"${a}\"`);\nreturn!1}removeAllKeyMappings(a){for(const b of this.keyMap.keys())this.removeKeyMapping(b,a,!0)}setKeyMap(a){this.keyMap.clear();for(const b in a)this.keyMap.set(b,a[b])}getKeyMap(){const a=Object.create(null);for(const [b,c]of this.keyMap)a[b]=c;return a}getRegistry(){const a=Object.create(null);for(const [b,c]of this.shortcuts)a[b]=c;return deepMerge$$module$build$src$core$utils$object(Object.create(null),a)}onKeyDown(a,b){var c=this.serializeKeyEvent(b);c=this.getShortcutNamesByKeyCode(c);if(!c)return!1;\nfor(const d of c){c=this.shortcuts.get(d);let e;if(!c||c.preconditionFn&&!c.preconditionFn(a,{focusedNode:(e=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?e:void 0}))continue;let f,g,h;if((g=(f=c).callback)==null?0:g.call(f,a,b,c,{focusedNode:(h=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?h:void 0}))return!0}return!1}getShortcutNamesByKeyCode(a){let b;return((b=this.keyMap.get(a))==null?void 0:b.slice())||[]}getKeyCodesByShortcutName(a){const b=\n[];for(const [c,d]of this.keyMap)d.indexOf(a)>-1&&b.push(c);return b}serializeKeyEvent(a){let b=\"\";for(const c in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)a.getModifierState(c)&&(b!==\"\"&&(b+=\"+\"),b+=c);b!==\"\"&&a.keyCode?b+=\"+\"+a.keyCode:a.keyCode&&(b=String(a.keyCode));return b}checkModifiers(a){for(const b of a)if(!(b in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys))throw Error(b+\" is not a valid modifier key.\");}createSerializedKey(a,b){let c=\n\"\";if(b){this.checkModifiers(b);for(const d in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)b.includes(ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys[d])&&(c!==\"\"&&(c+=\"+\"),c+=d)}c!==\"\"&&a?c+=\"+\"+a:a&&(c=`${a}`);return c}};ShortcutRegistry$$module$build$src$core$shortcut_registry.registry=new ShortcutRegistry$$module$build$src$core$shortcut_registry;\n(function(a){a=a.modifierKeys||(a.modifierKeys={});a[a.Shift=16]=\"Shift\";a[a.Control=17]=\"Control\";a[a.Alt=18]=\"Alt\";a[a.Meta=91]=\"Meta\"})(ShortcutRegistry$$module$build$src$core$shortcut_registry||(ShortcutRegistry$$module$build$src$core$shortcut_registry={}));var module$build$src$core$shortcut_registry={};module$build$src$core$shortcut_registry.ShortcutRegistry=ShortcutRegistry$$module$build$src$core$shortcut_registry;var WorkspaceDB_$$module$build$src$core$common=Object.create(null),mainWorkspace$$module$build$src$core$common,parentContainer$$module$build$src$core$common,draggingConnections$$module$build$src$core$common=[],TEST_ONLY$$module$build$src$core$common={defineBlocksWithJsonArrayInternal:defineBlocksWithJsonArrayInternal$$module$build$src$core$common},module$build$src$core$common={TEST_ONLY:TEST_ONLY$$module$build$src$core$common};module$build$src$core$common.createBlockDefinitionsFromJsonArray=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common;\nmodule$build$src$core$common.defineBlocks=$.defineBlocks$$module$build$src$core$common;module$build$src$core$common.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;module$build$src$core$common.draggingConnections=draggingConnections$$module$build$src$core$common;module$build$src$core$common.fireSelectedEvent=fireSelectedEvent$$module$build$src$core$common;module$build$src$core$common.getAllWorkspaces=getAllWorkspaces$$module$build$src$core$common;\nmodule$build$src$core$common.getBlockTypeCounts=getBlockTypeCounts$$module$build$src$core$common;module$build$src$core$common.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;module$build$src$core$common.getParentContainer=getParentContainer$$module$build$src$core$common;module$build$src$core$common.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$common.getWorkspaceById=getWorkspaceById$$module$build$src$core$common;\nmodule$build$src$core$common.globalShortcutHandler=globalShortcutHandler$$module$build$src$core$common;module$build$src$core$common.registerWorkspace=registerWorkspace$$module$build$src$core$common;module$build$src$core$common.setMainWorkspace=setMainWorkspace$$module$build$src$core$common;module$build$src$core$common.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$common.setSelected=setSelected$$module$build$src$core$common;\nmodule$build$src$core$common.svgResize=svgResize$$module$build$src$core$common;module$build$src$core$common.unregisterWorkpace=unregisterWorkpace$$module$build$src$core$common;var Abstract$$module$build$src$core$events$events_abstract=class{constructor(){this.workspaceId=void 0;this.isUiEvent=!1;this.type=\"\";this.group=$.getGroup$$module$build$src$core$events$utils();this.recordUndo=getRecordUndo$$module$build$src$core$events$utils()}toJson(){return{type:this.type,group:this.group}}static fromJson(a,b,c){c.isBlank=!1;c.group=a.group||\"\";c.workspaceId=b.id;return c}isNull(){return!1}run(a){}getEventWorkspace_(){let a;this.workspaceId&&(a=getWorkspaceById$$module$build$src$core$common(this.workspaceId));\nif(!a)throw Error(\"Workspace is null. Event must have been generated from real Blockly events.\");return a}},module$build$src$core$events$events_abstract={};module$build$src$core$events$events_abstract.Abstract=Abstract$$module$build$src$core$events$events_abstract;var UiBase$$module$build$src$core$events$events_ui_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.recordUndo=!1;this.isUiEvent=!0;this.isBlank=typeof a===\"undefined\";this.workspaceId=a?a:\"\"}},module$build$src$core$events$events_ui_base={};module$build$src$core$events$events_ui_base.UiBase=UiBase$$module$build$src$core$events$events_ui_base;var Click$$module$build$src$core$events$events_click=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){b=a?a.workspace.id:b;b===null&&(b=void 0);super(b);this.type=EventType$$module$build$src$core$events$type.CLICK;this.blockId=a?a.id:void 0;this.targetType=c}toJson(){const a=super.toJson();if(!this.targetType)throw Error(\"The click target type is undefined. Either pass a block to the constructor, or call fromJson\");a.targetType=this.targetType;a.blockId=this.blockId;\nreturn a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new Click$$module$build$src$core$events$events_click);b.targetType=a.targetType;b.blockId=a.blockId;return b}},ClickTarget$$module$build$src$core$events$events_click;(function(a){a.BLOCK=\"block\";a.WORKSPACE=\"workspace\";a.ZOOM_CONTROLS=\"zoom_controls\"})(ClickTarget$$module$build$src$core$events$events_click||(ClickTarget$$module$build$src$core$events$events_click={}));\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.CLICK,Click$$module$build$src$core$events$events_click);var module$build$src$core$events$events_click={};module$build$src$core$events$events_click.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events_click.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;var module$build$src$core$utils$array={};module$build$src$core$utils$array.removeElem=removeElem$$module$build$src$core$utils$array;var Capability$$module$build$src$core$component_manager=class{constructor(a){this.name=a}toString(){return this.name}};Capability$$module$build$src$core$component_manager.POSITIONABLE=new Capability$$module$build$src$core$component_manager(\"positionable\");Capability$$module$build$src$core$component_manager.DRAG_TARGET=new Capability$$module$build$src$core$component_manager(\"drag_target\");Capability$$module$build$src$core$component_manager.DELETE_AREA=new Capability$$module$build$src$core$component_manager(\"delete_area\");\nCapability$$module$build$src$core$component_manager.AUTOHIDEABLE=new Capability$$module$build$src$core$component_manager(\"autohideable\");\nvar ComponentManager$$module$build$src$core$component_manager=class{constructor(){this.componentData=new Map;this.capabilityToComponentIds=new Map}addComponent(a,b){const c=a.component.id;if(!b&&this.componentData.has(c)){var d;throw Error('Plugin \"'+c+'\" with capabilities \"'+((d=this.componentData.get(c))==null?void 0:d.capabilities)+'\" already added.');}this.componentData.set(c,a);b=[];for(d=0;d<a.capabilities.length;d++){const e=String(a.capabilities[d]).toLowerCase();b.push(e);if(this.capabilityToComponentIds.has(e)){let f;\n(f=this.capabilityToComponentIds.get(e))==null||f.push(c)}else this.capabilityToComponentIds.set(e,[c])}this.componentData.get(c).capabilities=b}removeComponent(a){const b=this.componentData.get(a);if(b){for(let c=0;c<b.capabilities.length;c++){const d=String(b.capabilities[c]).toLowerCase();removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(d),a)}this.componentData.delete(a)}}addCapability(a,b){if(!this.getComponent(a))throw Error('Cannot add capability, \"'+b+'\". Plugin \"'+\na+'\" has not been added to the ComponentManager');if(this.hasCapability(a,b))console.warn('Plugin \"'+a+'already has capability \"'+b+'\"');else{b=`${b}`.toLowerCase();var c;(c=this.componentData.get(a))==null||c.capabilities.push(b);var d;(d=this.capabilityToComponentIds.get(b))==null||d.push(a)}}removeCapability(a,b){if(!this.getComponent(a))throw Error('Cannot remove capability, \"'+b+'\". Plugin \"'+a+'\" has not been added to the ComponentManager');this.hasCapability(a,b)?(b=`${b}`.toLowerCase(),removeElem$$module$build$src$core$utils$array(this.componentData.get(a).capabilities,\nb),removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(b),a)):console.warn('Plugin \"'+a+\"doesn't have capability \\\"\"+b+'\" to remove')}hasCapability(a,b){b=`${b}`.toLowerCase();return this.componentData.has(a)&&this.componentData.get(a).capabilities.includes(b)}getComponent(a){let b;return(b=this.componentData.get(a))==null?void 0:b.component}getComponents(a,b){a=`${a}`.toLowerCase();a=this.capabilityToComponentIds.get(a);if(!a)return[];const c=[];if(b){const d=[];a.forEach(e=>\n{d.push(this.componentData.get(e))});d.sort(function(e,f){return e.weight-f.weight});d.forEach(function(e){c.push(e.component)})}else a.forEach(d=>{c.push(this.componentData.get(d).component)});return c}};ComponentManager$$module$build$src$core$component_manager.Capability=Capability$$module$build$src$core$component_manager;\n(function(a){a=a.ComponentWeight||(a.ComponentWeight={});a[a.TOOLBOX_WEIGHT=0]=\"TOOLBOX_WEIGHT\";a[a.FLYOUT_WEIGHT=1]=\"FLYOUT_WEIGHT\";a[a.TRASHCAN_WEIGHT=2]=\"TRASHCAN_WEIGHT\";a[a.ZOOM_CONTROLS_WEIGHT=3]=\"ZOOM_CONTROLS_WEIGHT\"})(ComponentManager$$module$build$src$core$component_manager||(ComponentManager$$module$build$src$core$component_manager={}));\nvar ComponentWeight$$module$build$src$core$component_manager=ComponentManager$$module$build$src$core$component_manager.ComponentWeight,module$build$src$core$component_manager={};module$build$src$core$component_manager.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$component_manager.ComponentWeight=ComponentWeight$$module$build$src$core$component_manager;var injected$$module$build$src$core$css=!1,content$$module$build$src$core$css='\\n.blocklySvg {\\n  background-color: #fff;\\n  outline: none;\\n  overflow: hidden;  /* IE overflows by default. */\\n  position: absolute;\\n  display: block;\\n}\\n\\n.blocklyWidgetDiv {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\\n}\\n\\n.injectionDiv {\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\\n  touch-action: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n}\\n\\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\\n  transition: transform .5s;\\n}\\n\\n.blocklyEmboss {\\n  filter: var(--blocklyEmbossFilter);\\n}\\n\\n.blocklyTooltipDiv {\\n  background-color: #ffffc7;\\n  border: 1px solid #ddc;\\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\\n  color: #000;\\n  display: none;\\n  font: 9pt sans-serif;\\n  opacity: .9;\\n  padding: 2px;\\n  position: absolute;\\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\\n}\\n\\n.blocklyDropDownDiv {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1000;\\n  display: none;\\n  border: 1px solid;\\n  border-color: #dadce0;\\n  background-color: #fff;\\n  border-radius: 2px;\\n  padding: 4px;\\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownDiv:focus {\\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownContent {\\n  max-height: 300px;  /* @todo: spec for maximum height. */\\n}\\n\\n.blocklyDropDownArrow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 16px;\\n  height: 16px;\\n  z-index: -1;\\n  background-color: inherit;\\n  border-color: inherit;\\n  border-top: 1px solid;\\n  border-left: 1px solid;\\n  border-top-left-radius: 4px;\\n  border-color: inherit;\\n}\\n\\n.blocklyHighlighted>.blocklyPath {\\n  filter: var(--blocklyEmbossFilter);\\n}\\n\\n.blocklyHighlightedConnectionPath {\\n  fill: none;\\n  stroke: #fc3;\\n  stroke-width: 4px;\\n}\\n\\n.blocklyPathLight {\\n  fill: none;\\n  stroke-linecap: round;\\n  stroke-width: 1;\\n}\\n\\n.blocklySelected>.blocklyPathLight {\\n  display: none;\\n}\\n\\n.blocklyDraggable {\\n  cursor: grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.blocklyDragging {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n  /* Drag surface disables events to not block the toolbox, so we have to\\n   * reenable them here for the cursor values to work. */\\n  pointer-events: auto;\\n}\\n\\n  /* Changes cursor on mouse down. Not effective in Firefox because of\\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\\n.blocklyDraggable:active {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n.blocklyDragging.blocklyDraggingDelete,\\n.blocklyDragging.blocklyDraggingDelete .blocklyField {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyDragging>.blocklyPath,\\n.blocklyDragging>.blocklyPathLight {\\n  fill-opacity: .8;\\n  stroke-opacity: .8;\\n}\\n\\n.blocklyDragging>.blocklyPathDark {\\n  display: none;\\n}\\n\\n.blocklyDisabledPattern>.blocklyPath {\\n  fill: var(--blocklyDisabledPattern);\\n  fill-opacity: .5;\\n  stroke-opacity: .5;\\n}\\n\\n.blocklyDisabled>.blocklyPathLight,\\n.blocklyDisabled>.blocklyPathDark {\\n  display: none;\\n}\\n\\n.blocklyInsertionMarker>.blocklyPath,\\n.blocklyInsertionMarker>.blocklyPathLight,\\n.blocklyInsertionMarker>.blocklyPathDark {\\n  fill-opacity: .2;\\n  stroke: none;\\n}\\n\\n.blocklyNonEditableField>text {\\n  pointer-events: none;\\n}\\n\\n.blocklyFlyout {\\n  position: absolute;\\n  z-index: 20;\\n}\\n\\n.blocklyText text {\\n  cursor: default;\\n}\\n\\n/*\\n  Don\\'t allow users to select text.  It gets annoying when trying to\\n  drag a block and selected text moves instead.\\n*/\\n.blocklySvg text {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  cursor: inherit;\\n}\\n\\n.blocklyIconGroup {\\n  cursor: default;\\n}\\n\\n.blocklyIconGroup:not(:hover):not(:focus),\\n.blocklyIconGroupReadonly {\\n  opacity: .6;\\n}\\n\\n.blocklyIconShape {\\n  fill: #00f;\\n  stroke: #fff;\\n  stroke-width: 1px;\\n}\\n\\n.blocklyIconSymbol {\\n  fill: #fff;\\n}\\n\\n.blocklyMinimalBody {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.blocklyHtmlInput {\\n  border: none;\\n  border-radius: 4px;\\n  height: 100%;\\n  margin: 0;\\n  outline: none;\\n  padding: 0;\\n  width: 100%;\\n  text-align: center;\\n  display: block;\\n  box-sizing: border-box;\\n}\\n\\n/* Remove the increase and decrease arrows on the field number editor */\\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n\\ninput[type=number] {\\n  -moz-appearance: textfield;\\n}\\n\\n.blocklyMainBackground {\\n  stroke-width: 1;\\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\\n}\\n\\n.blocklyMutatorBackground {\\n  fill: #fff;\\n  stroke: #ddd;\\n  stroke-width: 1;\\n}\\n\\n.blocklyFlyoutBackground {\\n  fill: #ddd;\\n  fill-opacity: .8;\\n}\\n\\n.blocklyMainWorkspaceScrollbar {\\n  z-index: 20;\\n}\\n\\n.blocklyFlyoutScrollbar {\\n  z-index: 30;\\n}\\n\\n.blocklyScrollbarHorizontal,\\n.blocklyScrollbarVertical {\\n  position: absolute;\\n  outline: none;\\n}\\n\\n.blocklyScrollbarBackground {\\n  opacity: 0;\\n  pointer-events: none;\\n}\\n\\n.blocklyScrollbarHandle {\\n  fill: #ccc;\\n}\\n\\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\\n.blocklyScrollbarHandle:hover {\\n  fill: #bbb;\\n}\\n\\n/* Darken flyout scrollbars due to being on a grey background. */\\n/* By contrast, workspace scrollbars are on a white background. */\\n.blocklyFlyout .blocklyScrollbarHandle {\\n  fill: #bbb;\\n}\\n\\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\\n.blocklyFlyout .blocklyScrollbarHandle:hover {\\n  fill: #aaa;\\n}\\n\\n.blocklyInvalidInput {\\n  background: #faa;\\n}\\n\\n.blocklyVerticalMarker {\\n  stroke-width: 3px;\\n  fill: rgba(255,255,255,.5);\\n  pointer-events: none;\\n}\\n\\n.blocklyComputeCanvas {\\n  position: absolute;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.blocklyNoPointerEvents {\\n  pointer-events: none;\\n}\\n\\n.blocklyContextMenu {\\n  border-radius: 4px;\\n  max-height: 100%;\\n}\\n\\n.blocklyDropdownMenu {\\n  border-radius: 2px;\\n  padding: 0 !important;\\n}\\n\\n.blocklyDropdownMenu .blocklyMenuItem {\\n  /* 28px on the left for icon or checkbox. */\\n  padding-left: 28px;\\n}\\n\\n/* BiDi override for the resting state. */\\n.blocklyDropdownMenu .blocklyMenuItemRtl {\\n  /* Flip left/right padding for BiDi. */\\n  padding-left: 5px;\\n  padding-right: 28px;\\n}\\n\\n.blocklyWidgetDiv .blocklyMenu {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background: #fff;\\n  border: 1px solid transparent;\\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\\n  font: normal 13px Arial, sans-serif;\\n  margin: 0;\\n  outline: none;\\n  padding: 4px 0;\\n  position: absolute;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 100%;\\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\\n}\\n\\n.blocklyWidgetDiv .blocklyMenu:focus {\\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownDiv .blocklyMenu {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\\n  font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;\\n  outline: none;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 100%;\\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\\n}\\n\\n/* State: resting. */\\n.blocklyMenuItem {\\n  border: none;\\n  color: #000;\\n  cursor: pointer;\\n  list-style: none;\\n  margin: 0;\\n  /* 7em on the right for shortcut. */\\n  min-width: 7em;\\n  padding: 6px 15px;\\n  white-space: nowrap;\\n}\\n\\n/* State: disabled. */\\n.blocklyMenuItemDisabled {\\n  color: #ccc;\\n  cursor: inherit;\\n}\\n\\n/* State: hover. */\\n.blocklyMenuItemHighlight {\\n  background-color: rgba(0,0,0,.1);\\n}\\n\\n/* State: selected/checked. */\\n.blocklyMenuItemCheckbox {\\n  height: 16px;\\n  position: absolute;\\n  width: 16px;\\n}\\n\\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\\n  float: left;\\n  margin-left: -24px;\\n  position: static;  /* Scroll with the menu. */\\n}\\n\\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\\n  float: right;\\n  margin-right: -24px;\\n}\\n\\n.blocklyMenuSeparator {\\n  background-color: #ccc;\\n  height: 1px;\\n  border: 0;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n.blocklyBlockDragSurface, .blocklyAnimationLayer {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: visible !important;\\n  z-index: 80;\\n  pointer-events: none;\\n}\\n\\n.blocklyField {\\n  cursor: default;\\n}\\n\\n.blocklyInputField {\\n  cursor: text;\\n}\\n\\n.blocklyDragging .blocklyField,\\n.blocklyDragging .blocklyIconGroup {\\n  cursor: grabbing;\\n}\\n\\n.blocklyActiveFocus:is(\\n  .blocklyFlyout,\\n  .blocklyWorkspace,\\n  .blocklyField,\\n  .blocklyPath,\\n  .blocklyHighlightedConnectionPath,\\n  .blocklyComment,\\n  .blocklyBubble,\\n  .blocklyIconGroup,\\n  .blocklyTextarea\\n) {\\n  outline: none;\\n}\\n',\nmodule$build$src$core$css={};module$build$src$core$css.inject=inject$$module$build$src$core$css;module$build$src$core$css.register=register$$module$build$src$core$css;var Coordinate$$module$build$src$core$utils$coordinate=class{constructor(a,b){this.x=a;this.y=b}clone(){return new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y)}scale(a){this.x*=a;this.y*=a;return this}translate(a,b){this.x+=a;this.y+=b;return this}static equals(a,b){return a===b?!0:a&&b?a.x===b.x&&a.y===b.y:!1}static distance(a,b){const c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}static magnitude(a){return Math.sqrt(a.x*a.x+a.y*a.y)}static difference(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x-\nb.x,a.y-b.y)}static sum(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x+b.x,a.y+b.y)}},module$build$src$core$utils$coordinate={};module$build$src$core$utils$coordinate.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;var Svg$$module$build$src$core$utils$svg=class{constructor(a){this.tagName=a}toString(){return this.tagName}};Svg$$module$build$src$core$utils$svg.ANIMATE=new Svg$$module$build$src$core$utils$svg(\"animate\");Svg$$module$build$src$core$utils$svg.CIRCLE=new Svg$$module$build$src$core$utils$svg(\"circle\");Svg$$module$build$src$core$utils$svg.CLIPPATH=new Svg$$module$build$src$core$utils$svg(\"clipPath\");Svg$$module$build$src$core$utils$svg.DEFS=new Svg$$module$build$src$core$utils$svg(\"defs\");\nSvg$$module$build$src$core$utils$svg.FECOMPOSITE=new Svg$$module$build$src$core$utils$svg(\"feComposite\");Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER=new Svg$$module$build$src$core$utils$svg(\"feComponentTransfer\");Svg$$module$build$src$core$utils$svg.FEFLOOD=new Svg$$module$build$src$core$utils$svg(\"feFlood\");Svg$$module$build$src$core$utils$svg.FEFUNCA=new Svg$$module$build$src$core$utils$svg(\"feFuncA\");Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR=new Svg$$module$build$src$core$utils$svg(\"feGaussianBlur\");\nSvg$$module$build$src$core$utils$svg.FEPOINTLIGHT=new Svg$$module$build$src$core$utils$svg(\"fePointLight\");Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING=new Svg$$module$build$src$core$utils$svg(\"feSpecularLighting\");Svg$$module$build$src$core$utils$svg.FILTER=new Svg$$module$build$src$core$utils$svg(\"filter\");Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT=new Svg$$module$build$src$core$utils$svg(\"foreignObject\");Svg$$module$build$src$core$utils$svg.G=new Svg$$module$build$src$core$utils$svg(\"g\");\nSvg$$module$build$src$core$utils$svg.IMAGE=new Svg$$module$build$src$core$utils$svg(\"image\");Svg$$module$build$src$core$utils$svg.LINE=new Svg$$module$build$src$core$utils$svg(\"line\");Svg$$module$build$src$core$utils$svg.PATH=new Svg$$module$build$src$core$utils$svg(\"path\");Svg$$module$build$src$core$utils$svg.PATTERN=new Svg$$module$build$src$core$utils$svg(\"pattern\");Svg$$module$build$src$core$utils$svg.POLYGON=new Svg$$module$build$src$core$utils$svg(\"polygon\");\nSvg$$module$build$src$core$utils$svg.RECT=new Svg$$module$build$src$core$utils$svg(\"rect\");Svg$$module$build$src$core$utils$svg.SVG=new Svg$$module$build$src$core$utils$svg(\"svg\");Svg$$module$build$src$core$utils$svg.TEXT=new Svg$$module$build$src$core$utils$svg(\"text\");Svg$$module$build$src$core$utils$svg.TSPAN=new Svg$$module$build$src$core$utils$svg(\"tspan\");var module$build$src$core$utils$svg={};module$build$src$core$utils$svg.Svg=Svg$$module$build$src$core$utils$svg;var Rect$$module$build$src$core$utils$rect=class{constructor(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}static from(a){return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}clone(){return new Rect$$module$build$src$core$utils$rect(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Coordinate$$module$build$src$core$utils$coordinate(this.left,this.top)}contains(a,\nb){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom}intersects(a){return this.left<=a.right&&this.right>=a.left&&this.bottom>=a.top&&this.top<=a.bottom}static equals(a,b){return a===b?!0:a&&b?a.top===b.top&&a.bottom===b.bottom&&a.left===b.left&&a.right===b.right:!1}static createFromPoint(a,b,c){const d=a.x;a=a.y;return new Rect$$module$build$src$core$utils$rect(a,a+c,d,d+b)}},module$build$src$core$utils$rect={};module$build$src$core$utils$rect.Rect=Rect$$module$build$src$core$utils$rect;var Size$$module$build$src$core$utils$size=class{constructor(a,b){this.width=a;this.height=b}static equals(a,b){return a===b?!0:a&&b?a.width===b.width&&a.height===b.height:!1}static max(a,b){return new Size$$module$build$src$core$utils$size(Math.max(a.width,b.width),Math.max(a.height,b.height))}static min(a,b){return new Size$$module$build$src$core$utils$size(Math.min(a.width,b.width),Math.min(a.height,b.height))}},module$build$src$core$utils$size={};module$build$src$core$utils$size.Size=Size$$module$build$src$core$utils$size;var TEST_ONLY$$module$build$src$core$utils$style={getSizeInternal:getSizeInternal$$module$build$src$core$utils$style},module$build$src$core$utils$style={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$style};module$build$src$core$utils$style.getBorderBox=getBorderBox$$module$build$src$core$utils$style;module$build$src$core$utils$style.getComputedStyle=getComputedStyle$$module$build$src$core$utils$style;module$build$src$core$utils$style.getContainerOffsetToScrollInto=getContainerOffsetToScrollInto$$module$build$src$core$utils$style;\nmodule$build$src$core$utils$style.getPageOffset=getPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.getSize=getSize$$module$build$src$core$utils$style;module$build$src$core$utils$style.getViewportPageOffset=getViewportPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.scrollIntoContainerView=scrollIntoContainerView$$module$build$src$core$utils$style;var XY_REGEX$$module$build$src$core$utils$svg_math=/translate\\(\\s*([-+\\d.e]+)([ ,]\\s*([-+\\d.e]+)\\s*)?/,XY_STYLE_REGEX$$module$build$src$core$utils$svg_math=/transform:\\s*translate(?:3d)?\\(\\s*([-+\\d.e]+)\\s*px([ ,]\\s*([-+\\d.e]+)\\s*px)?/,TEST_ONLY$$module$build$src$core$utils$svg_math={XY_REGEX:XY_REGEX$$module$build$src$core$utils$svg_math,XY_STYLE_REGEX:XY_STYLE_REGEX$$module$build$src$core$utils$svg_math},module$build$src$core$utils$svg_math={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$svg_math};\nmodule$build$src$core$utils$svg_math.getDocumentScroll=getDocumentScroll$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getInjectionDivXY=getInjectionDivXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getRelativeXY=getRelativeXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getViewportBBox=getViewportBBox$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.screenToWsCoordinates=screenToWsCoordinates$$module$build$src$core$utils$svg_math;\nmodule$build$src$core$utils$svg_math.wsToScreenCoordinates=wsToScreenCoordinates$$module$build$src$core$utils$svg_math;var Scrollbar$$module$build$src$core$scrollbar=class{constructor(a,b,c,d,e){this.workspace=a;this.horizontal=b;this.oldHostMetrics=null;this.ratio=1;this.origin=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0;this.containerVisible=this.isHandleVisible=!0;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null;this.pair=\nc||!1;this.margin=e!==void 0?e:Scrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN;a=\"blocklyScrollbar\"+(this.horizontal?\"Horizontal\":\"Vertical\");d&&(a+=\" \"+d);this.outerSvg=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{\"class\":a});d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.outerSvg);this.svgBackground=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":\"blocklyScrollbarBackground\"},d);a=Math.floor((Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-5)/2);this.svgHandle=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyScrollbarHandle\",rx:a,ry:a},d);this.workspace.getThemeManager().subscribe(this.svgHandle,\"scrollbarColour\",\"fill\");this.workspace.getThemeManager().subscribe(this.svgHandle,\"scrollbarOpacity\",\"fill-opacity\");insertAfter$$module$build$src$core$utils$dom(this.outerSvg,\nthis.workspace.getParentSvg());this.setInitialThickness();b?(this.lengthAttribute_=\"width\",this.positionAttribute_=\"x\"):(this.lengthAttribute_=\"height\",this.positionAttribute_=\"y\");this.onMouseDownBarWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgBackground,\"pointerdown\",this,this.onMouseDownBar);this.onMouseDownHandleWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgHandle,\"pointerdown\",this,this.onMouseDownHandle)}setInitialThickness(){const a=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;\nthis.horizontal?(this.svgBackground.setAttribute(\"height\",String(a)),this.outerSvg.setAttribute(\"height\",String(a)),this.svgHandle.setAttribute(\"height\",String(a-5)),this.svgHandle.setAttribute(\"y\",\"2.5\")):(this.svgBackground.setAttribute(\"width\",String(a)),this.outerSvg.setAttribute(\"width\",String(a)),this.svgHandle.setAttribute(\"width\",String(a-5)),this.svgHandle.setAttribute(\"x\",\"2.5\"))}dispose(){this.cleanUp();unbind$$module$build$src$core$browser_events(this.onMouseDownBarWrapper_);unbind$$module$build$src$core$browser_events(this.onMouseDownHandleWrapper_);\nremoveNode$$module$build$src$core$utils$dom(this.outerSvg);this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(a){return a=a<=0||isNaN(a)?0:Math.min(a,this.scrollbarLength)}setHandleLength(a){this.handleLength=a;this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(a){return a=a<=0||isNaN(a)?0:Math.min(a,this.scrollbarLength-this.handleLength)}setHandlePosition(a){this.handlePosition=a;this.svgHandle.setAttribute(this.positionAttribute_,\nString(this.handlePosition))}setScrollbarLength(a){this.scrollbarLength=a;this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength));this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(a,b){this.position.x=a;this.position.y=b;setCssTransform$$module$build$src$core$utils$dom(this.outerSvg,\"translate(\"+(this.position.x+this.origin.x)+\"px,\"+(this.position.y+this.origin.y)+\"px)\")}resize(a){if(!a&&(a=this.workspace.getMetrics(),!a))return;\nthis.oldHostMetrics&&Scrollbar$$module$build$src$core$scrollbar.metricsAreEquivalent(a,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(a):this.resizeVertical(a),this.oldHostMetrics=a,this.updateMetrics())}requiresViewResize(a){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.viewHeight!==a.viewHeight||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft||this.oldHostMetrics.absoluteTop!==a.absoluteTop:!0}resizeHorizontal(a){this.requiresViewResize(a)?\nthis.resizeViewHorizontal(a):this.resizeContentHorizontal(a)}resizeViewHorizontal(a){var b=a.viewWidth-this.margin*2;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));b=a.absoluteLeft+this.margin;this.pair&&this.workspace.RTL&&(b+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setPosition(b,a.absoluteTop+a.viewHeight-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin);this.resizeContentHorizontal(a)}resizeContentHorizontal(a){if(a.viewWidth>=\na.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewWidth/a.scrollWidth;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollWidth-a.viewWidth;var c=this.scrollbarLength-this.handleLength;a=(a.viewLeft-a.scrollLeft)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b}}resizeVertical(a){this.requiresViewResize(a)?this.resizeViewVertical(a):\nthis.resizeContentVertical(a)}resizeViewVertical(a){let b=a.viewHeight-this.margin*2;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));this.setPosition(this.workspace.RTL?a.absoluteLeft+this.margin:a.absoluteLeft+a.viewWidth-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin,a.absoluteTop+this.margin);this.resizeContentVertical(a)}resizeContentVertical(a){if(a.viewHeight>=a.scrollHeight)this.setHandleLength(this.scrollbarLength),\nthis.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewHeight/a.scrollHeight;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollHeight-a.viewHeight;var c=this.scrollbarLength-this.handleLength;a=(a.viewTop-a.scrollTop)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b}}isVisible(){return this.isHandleVisible}setContainerVisible(a){const b=a!==this.containerVisible;this.containerVisible=\na;b&&this.updateDisplay_()}setVisible(a){if(this.pair)throw Error(\"Unable to toggle visibility of paired scrollbars.\");this.setVisibleInternal(a)}setVisibleInternal(a){const b=a!==this.isVisible();this.isHandleVisible=a;b&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute(\"display\",\"block\"):this.outerSvg.setAttribute(\"display\",\"none\")}onMouseDownBar(a){this.workspace.markFocused();clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp();\nif(isRightButton$$module$build$src$core$browser_events(a))a.stopPropagation();else{var b=mouseToSvg$$module$build$src$core$browser_events(a,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());b=this.horizontal?b.x:b.y;var c=getInjectionDivXY$$module$build$src$core$utils$svg_math(this.svgHandle);c=this.horizontal?c.x:c.y;var d=this.handlePosition,e=this.handleLength*.95;b<=c?d-=e:b>=c+this.handleLength&&(d+=e);this.setHandlePosition(this.constrainHandlePosition(d));this.updateMetrics();\na.stopPropagation();a.preventDefault()}}onMouseDownHandle(a){this.workspace.markFocused();this.cleanUp();isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?a.clientX:a.clientY,this.onMouseUpWrapper_=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",\nthis,this.onMouseMoveHandle),a.stopPropagation(),a.preventDefault())}onMouseMoveHandle(a){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?a.clientX:a.clientY)-this.startDragMouse)));this.updateMetrics()}onMouseUpHandle(){clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0);this.onMouseUpWrapper_&&(unbind$$module$build$src$core$browser_events(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null);this.onMouseMoveWrapper_&&\n(unbind$$module$build$src$core$browser_events(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let a=this.handlePosition/(this.scrollbarLength-this.handleLength);isNaN(a)&&(a=0);return a}updateMetrics(){const a=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:a}):this.workspace.setMetrics({y:a})}set(a,b){this.setHandlePosition(this.constrainHandlePosition(a*this.ratio));(b||b===void 0)&&this.updateMetrics()}setOrigin(a,b){this.origin=new Coordinate$$module$build$src$core$utils$coordinate(a,\nb)}static metricsAreEquivalent(a,b){return a.viewWidth===b.viewWidth&&a.viewHeight===b.viewHeight&&a.viewLeft===b.viewLeft&&a.viewTop===b.viewTop&&a.absoluteTop===b.absoluteTop&&a.absoluteLeft===b.absoluteLeft&&a.scrollWidth===b.scrollWidth&&a.scrollHeight===b.scrollHeight&&a.scrollLeft===b.scrollLeft&&a.scrollTop===b.scrollTop}};Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness=TOUCH_ENABLED$$module$build$src$core$touch?25:15;\nScrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5;var module$build$src$core$scrollbar={};module$build$src$core$scrollbar.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;var domParser$$module$build$src$core$utils$xml={parseFromString:function(){throw Error(\"DOMParser was not found in the global scope and was not properly injected using injectDependencies\");}},xmlSerializer$$module$build$src$core$utils$xml={serializeToString:function(){throw Error(\"XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies\");}},{document:document$$module$build$src$core$utils$xml,DOMParser:DOMParser$$module$build$src$core$utils$xml,XMLSerializer:XMLSerializer$$module$build$src$core$utils$xml}=\nglobalThis;DOMParser$$module$build$src$core$utils$xml&&(domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml);XMLSerializer$$module$build$src$core$utils$xml&&(xmlSerializer$$module$build$src$core$utils$xml=new XMLSerializer$$module$build$src$core$utils$xml);\nvar NAME_SPACE$$module$build$src$core$utils$xml=\"https://developers.google.com/blockly/xml\",INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml=/[\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F]/g,module$build$src$core$utils$xml={NAME_SPACE:NAME_SPACE$$module$build$src$core$utils$xml};module$build$src$core$utils$xml.createElement=$.createElement$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.createTextNode=$.createTextNode$$module$build$src$core$utils$xml;\nmodule$build$src$core$utils$xml.domToText=domToText$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.injectDependencies=injectDependencies$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.textToDom=$.textToDom$$module$build$src$core$utils$xml;var CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox=\"categoryToolbox\",FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox=\"flyoutToolbox\",Position$$module$build$src$core$utils$toolbox;(function(a){a[a.TOP=0]=\"TOP\";a[a.BOTTOM=1]=\"BOTTOM\";a[a.LEFT=2]=\"LEFT\";a[a.RIGHT=3]=\"RIGHT\"})(Position$$module$build$src$core$utils$toolbox||(Position$$module$build$src$core$utils$toolbox={}));\nvar TEST_ONLY$$module$build$src$core$utils$toolbox={hasCategoriesInternal:hasCategoriesInternal$$module$build$src$core$utils$toolbox},module$build$src$core$utils$toolbox={};module$build$src$core$utils$toolbox.Position=Position$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.TEST_ONLY=TEST_ONLY$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.convertFlyoutDefToJsonArray=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox;\nmodule$build$src$core$utils$toolbox.convertToolboxDefToJson=convertToolboxDefToJson$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.hasCategories=hasCategories$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.isCategoryCollapsible=isCategoryCollapsible$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.parseToolboxTree=parseToolboxTree$$module$build$src$core$utils$toolbox;var verticalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.TOP=0]=\"TOP\";a[a.BOTTOM=1]=\"BOTTOM\"})(verticalPosition$$module$build$src$core$positionable_helpers||(verticalPosition$$module$build$src$core$positionable_helpers={}));var horizontalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.LEFT=0]=\"LEFT\";a[a.RIGHT=1]=\"RIGHT\"})(horizontalPosition$$module$build$src$core$positionable_helpers||(horizontalPosition$$module$build$src$core$positionable_helpers={}));\nvar bumpDirection$$module$build$src$core$positionable_helpers;(function(a){a[a.UP=0]=\"UP\";a[a.DOWN=1]=\"DOWN\"})(bumpDirection$$module$build$src$core$positionable_helpers||(bumpDirection$$module$build$src$core$positionable_helpers={}));var module$build$src$core$positionable_helpers={};module$build$src$core$positionable_helpers.bumpDirection=bumpDirection$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.bumpPositionRect=bumpPositionRect$$module$build$src$core$positionable_helpers;\nmodule$build$src$core$positionable_helpers.getCornerOppositeToolbox=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.getStartPositionRect=getStartPositionRect$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.horizontalPosition=horizontalPosition$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.verticalPosition=verticalPosition$$module$build$src$core$positionable_helpers;var SPRITE$$module$build$src$core$sprites={width:96,height:124,url:\"sprites.png\"},module$build$src$core$sprites={SPRITE:SPRITE$$module$build$src$core$sprites};var ZoomControls$$module$build$src$core$zoom_controls=class{constructor(a){this.workspace=a;this.id=\"zoomControls\";this.boundEvents=[];this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null;this.HEIGHT=this.WIDTH=32;this.SMALL_SPACING=2;this.LARGE_SPACING=11;this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20;this.svgGroup=null;this.top=this.left=0;this.initialized=!1}createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});const a=String(Math.random()).substring(2);\nthis.createZoomOutSvg(a);this.createZoomInSvg(a);this.workspace.isMovable()&&this.createZoomResetSvg(a);return this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent(\"zoomControls\");this.svgGroup&&\nremoveNode$$module$build$src$core$utils$dom(this.svgGroup);for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);this.boundEvents.length=0}getBoundingRectangle(){let a=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT);return new Rect$$module$build$src$core$utils$rect(this.top,this.top+a,this.left,this.left+this.WIDTH)}position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,\na),d=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,a,this.workspace);c=c.vertical;b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,this.MARGIN_VERTICAL,c===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:\nbumpDirection$$module$build$src$core$positionable_helpers.UP,b);if(c===verticalPosition$$module$build$src$core$positionable_helpers.TOP){var e=this.SMALL_SPACING+this.HEIGHT,f;(f=this.zoomInGroup)==null||f.setAttribute(\"transform\",\"translate(0, \"+e+\")\");this.zoomResetGroup&&this.zoomResetGroup.setAttribute(\"transform\",\"translate(0, \"+(e+this.LARGE_SPACING+this.HEIGHT)+\")\")}else{f=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let h;(h=this.zoomInGroup)==null||h.setAttribute(\"transform\",\"translate(0, \"+\nf+\")\");f=f+this.SMALL_SPACING+this.HEIGHT;(e=this.zoomOutGroup)==null||e.setAttribute(\"transform\",\"translate(0, \"+f+\")\")}this.top=b.top;this.left=b.left;var g;(g=this.svgGroup)==null||g.setAttribute(\"transform\",\"translate(\"+this.left+\",\"+this.top+\")\")}}createZoomOutSvg(a){this.zoomOutGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomOut\"},this.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,\n{id:\"blocklyZoomoutClipPath\"+a},this.zoomOutGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-64,y:-92,\"clip-path\":\"url(#blocklyZoomoutClipPath\"+a+\")\"},this.zoomOutGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomOutGroup,\"pointerdown\",null,this.zoom.bind(this,-1)))}createZoomInSvg(a){this.zoomInGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomIn\"},this.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyZoominClipPath\"+\na},this.zoomInGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-32,y:-92,\"clip-path\":\"url(#blocklyZoominClipPath\"+a+\")\"},this.zoomInGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+\nSPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomInGroup,\"pointerdown\",null,this.zoom.bind(this,1)))}zoom(a,b){this.workspace.markFocused();this.workspace.zoomCenter(a);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();b.stopPropagation();b.preventDefault()}createZoomResetSvg(a){this.zoomResetGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomReset\"},\nthis.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyZoomresetClipPath\"+a},this.zoomResetGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,y:-92,\"clip-path\":\"url(#blocklyZoomresetClipPath\"+\na+\")\"},this.zoomResetGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomResetGroup,\"pointerdown\",null,this.resetZoom.bind(this)))}resetZoom(a){this.workspace.markFocused();const b=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);\nthis.workspace.beginCanvasTransition();this.workspace.zoomCenter(b);this.workspace.scrollCenter();setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();a.stopPropagation();a.preventDefault()}fireZoomEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(null,this.workspace.id,\"zoom_controls\");fire$$module$build$src$core$events$utils(a)}};register$$module$build$src$core$css(\"\\n.blocklyZoom>image, .blocklyZoom>svg>image {\\n  opacity: .4;\\n}\\n\\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\\n  opacity: .6;\\n}\\n\\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\\n  opacity: .8;\\n}\\n\");\nvar module$build$src$core$zoom_controls={};module$build$src$core$zoom_controls.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;var VARIABLES$$module$build$src$core$serialization$priorities=100,PROCEDURES$$module$build$src$core$serialization$priorities=75,BLOCKS$$module$build$src$core$serialization$priorities=50,WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities=25,module$build$src$core$serialization$priorities={BLOCKS:BLOCKS$$module$build$src$core$serialization$priorities,PROCEDURES:PROCEDURES$$module$build$src$core$serialization$priorities,VARIABLES:VARIABLES$$module$build$src$core$serialization$priorities,\nWORKSPACE_COMMENTS:WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities};var module$build$src$core$serialization$registry={};module$build$src$core$serialization$registry.register=register$$module$build$src$core$serialization$registry;module$build$src$core$serialization$registry.unregister=unregister$$module$build$src$core$serialization$registry;var saveComment$$module$build$src$core$serialization$workspace_comments=save$$module$build$src$core$serialization$workspace_comments,WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments=class{constructor(){this.priority=WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities}save(a){const b=[];for(const c of a.getTopComments())(a=save$$module$build$src$core$serialization$workspace_comments(c,{addCoordinates:!0,saveIds:!0}))&&b.push(a);return b.length?b:null}load(a,\nb){for(const c of a)append$$module$build$src$core$serialization$workspace_comments(c,b,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()})}clear(a){for(const b of a.getTopComments())b.dispose()}};register$$module$build$src$core$serialization$registry(\"workspaceComments\",new WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments);var module$build$src$core$serialization$workspace_comments={};\nmodule$build$src$core$serialization$workspace_comments.WorkspaceCommentSerializer=WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments;module$build$src$core$serialization$workspace_comments.append=append$$module$build$src$core$serialization$workspace_comments;module$build$src$core$serialization$workspace_comments.save=save$$module$build$src$core$serialization$workspace_comments;var module$build$src$core$clipboard$registry={};module$build$src$core$clipboard$registry.register=register$$module$build$src$core$clipboard$registry;module$build$src$core$clipboard$registry.unregister=unregister$$module$build$src$core$clipboard$registry;var WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster=class{paste(a,b,c){a=a.commentState;c&&(a.x=c.x,a.y=c.y);$.disable$$module$build$src$core$events$utils();let d;try{d=append$$module$build$src$core$serialization$workspace_comments(a,b),moveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster(d)}finally{$.enable$$module$build$src$core$events$utils()}if(!d)return null;isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CREATE))(d));\n$.getFocusManager$$module$build$src$core$focus_manager().focusNode(d);return d}};WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE=\"workspace-comment\";register$$module$build$src$core$clipboard$registry(WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,new WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster);var module$build$src$core$clipboard$workspace_comment_paster={};\nmodule$build$src$core$clipboard$workspace_comment_paster.WorkspaceCommentPaster=WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster;var DEFAULT_SNAP_RADIUS$$module$build$src$core$config,module$build$src$core$config;DEFAULT_SNAP_RADIUS$$module$build$src$core$config=28;$.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,connectingSnapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,currentConnectionPreference:8,bumpDelay:250};module$build$src$core$config={config:$.config$$module$build$src$core$config};var ARIA_PREFIX$$module$build$src$core$utils$aria=\"aria-\",ROLE_ATTRIBUTE$$module$build$src$core$utils$aria=\"role\",Role$$module$build$src$core$utils$aria;\n(function(a){a.GRID=\"grid\";a.GRIDCELL=\"gridcell\";a.GROUP=\"group\";a.LISTBOX=\"listbox\";a.MENU=\"menu\";a.MENUITEM=\"menuitem\";a.MENUITEMCHECKBOX=\"menuitemcheckbox\";a.OPTION=\"option\";a.PRESENTATION=\"presentation\";a.ROW=\"row\";a.TREE=\"tree\";a.TREEITEM=\"treeitem\";a.SEPARATOR=\"separator\";a.STATUS=\"status\"})(Role$$module$build$src$core$utils$aria||(Role$$module$build$src$core$utils$aria={}));var State$$module$build$src$core$utils$aria;\n(function(a){a.ACTIVEDESCENDANT=\"activedescendant\";a.COLCOUNT=\"colcount\";a.DISABLED=\"disabled\";a.EXPANDED=\"expanded\";a.INVALID=\"invalid\";a.LABEL=\"label\";a.LABELLEDBY=\"labelledby\";a.LEVEL=\"level\";a.ORIENTATION=\"orientation\";a.POSINSET=\"posinset\";a.ROWCOUNT=\"rowcount\";a.SELECTED=\"selected\";a.SETSIZE=\"setsize\";a.VALUEMAX=\"valuemax\";a.VALUEMIN=\"valuemin\";a.LIVE=\"live\";a.HIDDEN=\"hidden\"})(State$$module$build$src$core$utils$aria||(State$$module$build$src$core$utils$aria={}));\nvar module$build$src$core$utils$aria={};module$build$src$core$utils$aria.Role=Role$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.State=State$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setRole=setRole$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setState=setState$$module$build$src$core$utils$aria;var MenuItem$$module$build$src$core$menuitem=class{constructor(a,b){this.content=a;this.opt_value=b;this.enabled=!0;this.element=null;this.rightToLeft=!1;this.roleName=null;this.highlight=this.checked=this.checkable=!1;this.actionHandler=null}createDom(){const a=document.createElement(\"div\");a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.element=a;a.className=\"blocklyMenuItem \"+(this.enabled?\"\":\"blocklyMenuItemDisabled \")+(this.checked?\"blocklyMenuItemSelected \":\"\")+(this.highlight?\n\"blocklyMenuItemHighlight \":\"\")+(this.rightToLeft?\"blocklyMenuItemRtl \":\"\");const b=document.createElement(\"div\");b.className=\"blocklyMenuItemContent\";if(this.checkable){var c=document.createElement(\"div\");c.className=\"blocklyMenuItemCheckbox \";b.appendChild(c)}c=this.content;typeof this.content===\"string\"&&(c=document.createTextNode(this.content));b.appendChild(c);a.appendChild(b);this.roleName&&setRole$$module$build$src$core$utils$aria(a,this.roleName);setState$$module$build$src$core$utils$aria(a,\nState$$module$build$src$core$utils$aria.SELECTED,this.checkable&&this.checked||!1);setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.DISABLED,!this.enabled);return a}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let a;return(a=this.opt_value)!=null?a:null}setRightToLeft(a){this.rightToLeft=a}setRole(a){this.roleName=a}setCheckable(a){this.checkable=a}setChecked(a){this.checked=a}setHighlighted(a){this.highlight=\na;const b=this.getElement();b&&this.isEnabled()&&(a?addClass$$module$build$src$core$utils$dom(b,\"blocklyMenuItemHighlight\"):removeClass$$module$build$src$core$utils$dom(b,\"blocklyMenuItemHighlight\"))}isEnabled(){return this.enabled}setEnabled(a){this.enabled=a}performAction(a){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,a)}onAction(a,b){this.actionHandler=a.bind(b)}},module$build$src$core$menuitem={};module$build$src$core$menuitem.MenuItem=MenuItem$$module$build$src$core$menuitem;var Menu$$module$build$src$core$menu=class{constructor(){this.menuItems=[];this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(a){this.menuItems.push(a)}render(a){const b=document.createElement(\"div\");b.className=\"blocklyMenu\";b.tabIndex=0;this.roleName&&setRole$$module$build$src$core$utils$aria(b,this.roleName);this.element=b;for(let c=0,d;d=this.menuItems[c];c++)b.appendChild(d.createDom());\nthis.pointerMoveHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointermove\",this,this.handlePointerMove,!0);this.clickHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerup\",this,this.handleClick,!0);this.pointerEnterHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerenter\",this,this.handlePointerEnter,!0);this.pointerLeaveHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerleave\",this,this.handlePointerLeave,!0);this.onKeyDownHandler=\nconditionalBind$$module$build$src$core$browser_events(b,\"keydown\",this,this.handleKeyEvent);a.appendChild(b);return b}getElement(){return this.element}focus(){const a=this.getElement();a&&a.focus({preventScroll:!0})}blur(){const a=this.getElement();a&&a.blur()}setRole(a){this.roleName=a}dispose(){this.pointerMoveHandler&&(unbind$$module$build$src$core$browser_events(this.pointerMoveHandler),this.pointerMoveHandler=null);this.clickHandler&&(unbind$$module$build$src$core$browser_events(this.clickHandler),\nthis.clickHandler=null);this.pointerEnterHandler&&(unbind$$module$build$src$core$browser_events(this.pointerEnterHandler),this.pointerEnterHandler=null);this.pointerLeaveHandler&&(unbind$$module$build$src$core$browser_events(this.pointerLeaveHandler),this.pointerLeaveHandler=null);this.onKeyDownHandler&&(unbind$$module$build$src$core$browser_events(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let a=0,b;b=this.menuItems[a];a++)b.dispose();this.element=null}getMenuItem(a){const b=this.getElement();\nfor(;a&&a!==b;){if(a.classList.contains(\"blocklyMenuItem\")){const c=this.getMenuItems();for(let d=0,e;e=c[d];d++)if(e.getElement()===a)return e}a=a.parentElement}return null}setHighlighted(a){var b=this.highlightedItem;b&&(b.setHighlighted(!1),this.highlightedItem=null);if(a){a.setHighlighted(!0);this.highlightedItem=a;b=this.getElement();const c=a.getElement();b&&c&&(scrollIntoContainerView$$module$build$src$core$utils$style(c,b),setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,\na.getId()))}}highlightNext(){const a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a,1)}highlightPrevious(){const a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a<0?this.menuItems.length:a,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(a,b){a+=b;let c;const d=this.getMenuItems();for(;c=d[a];){if(c.isEnabled()){this.setHighlighted(c);\nbreak}a+=b}}handlePointerMove(a){Math.max(Math.abs(a.movementX),Math.abs(a.movementY))!==0&&(a=this.getMenuItem(a.target))&&(a.isEnabled()?this.highlightedItem!==a&&this.setHighlighted(a):this.setHighlighted(null))}handleClick(a){var b=this.openingCoords;this.openingCoords=null;if(b&&typeof a.clientX===\"number\"){const c=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);if(Coordinate$$module$build$src$core$utils$coordinate.distance(b,c)<1)return}(b=this.getMenuItem(a.target))&&\nb.performAction(a)}handlePointerEnter(a){this.focus()}handlePointerLeave(a){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(a){if(this.menuItems.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.highlightedItem;switch(a.key){case \"Enter\":case \" \":b&&b.performAction(a);break;case \"ArrowUp\":this.highlightPrevious();break;case \"ArrowDown\":this.highlightNext();break;case \"PageUp\":case \"Home\":this.highlightFirst();break;case \"PageDown\":case \"End\":this.highlightLast();break;\ndefault:return}a.preventDefault();a.stopPropagation()}}getSize(){const a=this.getElement(),b=getSize$$module$build$src$core$utils$style(a);b.height=a.scrollHeight;return b}getMenuItems(){return this.menuItems.filter(a=>a instanceof MenuItem$$module$build$src$core$menuitem)}},module$build$src$core$menu={};module$build$src$core$menu.Menu=Menu$$module$build$src$core$menu;var MenuSeparator$$module$build$src$core$menu_separator=class{constructor(){this.element=null}createDom(){this.element=document.createElement(\"hr\");this.element.className=\"blocklyMenuSeparator\";setRole$$module$build$src$core$utils$aria(this.element,Role$$module$build$src$core$utils$aria.SEPARATOR);return this.element}dispose(){let a;(a=this.element)==null||a.remove();this.element=null}},module$build$src$core$menu_separator={};module$build$src$core$menu_separator.MenuSeparator=MenuSeparator$$module$build$src$core$menu_separator;var COLLAPSED_INPUT_NAME$$module$build$src$core$constants=\"_TEMP_COLLAPSED_INPUT\",COLLAPSED_FIELD_NAME$$module$build$src$core$constants=\"_TEMP_COLLAPSED_FIELD\",MANUALLY_DISABLED$$module$build$src$core$constants=\"MANUALLY_DISABLED\",module$build$src$core$constants={COLLAPSED_FIELD_NAME:COLLAPSED_FIELD_NAME$$module$build$src$core$constants,COLLAPSED_INPUT_NAME:COLLAPSED_INPUT_NAME$$module$build$src$core$constants,MANUALLY_DISABLED:MANUALLY_DISABLED$$module$build$src$core$constants};(function(a){a[a.VALUE=1]=\"VALUE\";a[a.STATEMENT=3]=\"STATEMENT\";a[a.DUMMY=5]=\"DUMMY\";a[a.CUSTOM=6]=\"CUSTOM\";a[a.END_ROW=7]=\"END_ROW\"})($.inputTypes$$module$build$src$core$inputs$input_types||($.inputTypes$$module$build$src$core$inputs$input_types={}));var module$build$src$core$inputs$input_types={};module$build$src$core$inputs$input_types.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var module$build$src$core$interfaces$i_serializable={};module$build$src$core$interfaces$i_serializable.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;var rootBlocks$$module$build$src$core$render_management=new Set,dirtyBlocks$$module$build$src$core$render_management=new WeakSet,eventGroups$$module$build$src$core$render_management=new WeakMap,afterRendersPromise$$module$build$src$core$render_management=null,afterRendersResolver$$module$build$src$core$render_management=null,animationRequestId$$module$build$src$core$render_management=0,module$build$src$core$render_management={};module$build$src$core$render_management.finishQueuedRenders=finishQueuedRenders$$module$build$src$core$render_management;\nmodule$build$src$core$render_management.queueRender=queueRender$$module$build$src$core$render_management;module$build$src$core$render_management.triggerQueuedRenders=triggerQueuedRenders$$module$build$src$core$render_management;var setLocale$$module$build$src$core$msg,module$build$src$core$msg;$.Msg$$module$build$src$core$msg=Object.create(null);setLocale$$module$build$src$core$msg=function(a){Object.keys(a).forEach(function(b){$.Msg$$module$build$src$core$msg[b]=a[b]})};module$build$src$core$msg={Msg:$.Msg$$module$build$src$core$msg,setLocale:setLocale$$module$build$src$core$msg};var CLASS_NAME$$module$build$src$core$toast=\"blocklyToast\",MESSAGE_CLASS_NAME$$module$build$src$core$toast=\"blocklyToastMessage\",CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast=\"blocklyToastCloseButton\",Toast$$module$build$src$core$toast=class{static show(a,b){if(b.oncePerSession&&b.id){if(this.shownIds.has(b.id))return;this.shownIds.add(b.id)}this.hide(a);const c=this.createDom(a,b);requestAnimationFrame(()=>{c.style.bottom=\"2rem\"})}static createDom(a,b){const {message:c,duration:d=5,assertiveness:e=\nToast$$module$build$src$core$toast.Assertiveness.POLITE}=b,f=document.createElement(\"div\");a.getInjectionDiv().appendChild(f);f.dataset.toastId=b.id;f.className=CLASS_NAME$$module$build$src$core$toast;setRole$$module$build$src$core$utils$aria(f,Role$$module$build$src$core$utils$aria.STATUS);setState$$module$build$src$core$utils$aria(f,State$$module$build$src$core$utils$aria.LIVE,e);b=f.appendChild(document.createElement(\"div\"));b.className=MESSAGE_CLASS_NAME$$module$build$src$core$toast;b.innerText=\nc;b=f.appendChild(document.createElement(\"button\"));b.className=CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast;setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.CLOSE);var g=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\"},b);setState$$module$build$src$core$utils$aria(g,State$$module$build$src$core$utils$aria.HIDDEN,!0);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{x:19.7782,y:2.80762,width:2,height:24,transform:\"rotate(45, 19.7782, 2.80762)\",fill:\"black\"},g);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:\"rotate(-45, 2.80762, 4.22183)\",fill:\"black\"},g);b.addEventListener(\"click\",()=>{f.remove();a.markFocused()});let h;b=()=>{h=setTimeout(()=>f.remove(),d*1E3)};g=()=>clearTimeout(h);f.addEventListener(\"focusin\",g);f.addEventListener(\"focusout\",b);f.addEventListener(\"mouseenter\",\ng);f.addEventListener(\"mousemove\",g);f.addEventListener(\"mouseleave\",b);b();return f}static hide(a,b){a=a.getInjectionDiv().querySelector(`.${CLASS_NAME$$module$build$src$core$toast}`);a instanceof HTMLElement&&(!b||b===a.dataset.toastId)&&a.remove()}};Toast$$module$build$src$core$toast.shownIds=new Set;(function(a){a=a.Assertiveness||(a.Assertiveness={});a.ASSERTIVE=\"assertive\";a.POLITE=\"polite\"})(Toast$$module$build$src$core$toast||(Toast$$module$build$src$core$toast={}));register$$module$build$src$core$css(`\n.${CLASS_NAME$$module$build$src$core$toast} {\n  font-size: 1.2rem;\n  position: absolute;\n  bottom: -10rem;\n  right: 2rem;\n  padding: 1rem;\n  color: black;\n  background-color: white;\n  border: 2px solid black;\n  border-radius: 0.4rem;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  gap: 0.8rem;\n  line-height: 1.5;\n  transition: bottom 0.3s ease-out;\n}\n\n.${CLASS_NAME$$module$build$src$core$toast} .${MESSAGE_CLASS_NAME$$module$build$src$core$toast} {\n  maxWidth: 18rem;\n}\n\n.${CLASS_NAME$$module$build$src$core$toast} .${CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast} {\n  margin: 0;\n  padding: 0.2rem;\n  background-color: transparent;\n  color: black;\n  border: none;\n  cursor: pointer;\n}\n`);var module$build$src$core$toast={};module$build$src$core$toast.Toast=Toast$$module$build$src$core$toast;var defaultAlert$$module$build$src$core$dialog=function(a,b){window.alert(a);b&&b()},alertImplementation$$module$build$src$core$dialog=defaultAlert$$module$build$src$core$dialog,defaultConfirm$$module$build$src$core$dialog=function(a,b){b(window.confirm(a))},confirmImplementation$$module$build$src$core$dialog=defaultConfirm$$module$build$src$core$dialog,defaultPrompt$$module$build$src$core$dialog=function(a,b,c){c(window.prompt(a,b))},promptImplementation$$module$build$src$core$dialog=defaultPrompt$$module$build$src$core$dialog,\ndefaultToast$$module$build$src$core$dialog=Toast$$module$build$src$core$toast.show.bind(Toast$$module$build$src$core$toast),toastImplementation$$module$build$src$core$dialog=defaultToast$$module$build$src$core$dialog,module$build$src$core$dialog={};module$build$src$core$dialog.alert=alert$$module$build$src$core$dialog;module$build$src$core$dialog.confirm=confirm$$module$build$src$core$dialog;module$build$src$core$dialog.prompt=prompt$$module$build$src$core$dialog;\nmodule$build$src$core$dialog.setAlert=setAlert$$module$build$src$core$dialog;module$build$src$core$dialog.setConfirm=setConfirm$$module$build$src$core$dialog;module$build$src$core$dialog.setPrompt=setPrompt$$module$build$src$core$dialog;module$build$src$core$dialog.setToast=setToast$$module$build$src$core$dialog;module$build$src$core$dialog.toast=toast$$module$build$src$core$dialog;var module$build$src$core$interfaces$i_legacy_procedure_blocks={};module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureCallBlock=isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureDefBlock=isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;var module$build$src$core$interfaces$i_variable_backed_parameter_model={};module$build$src$core$interfaces$i_variable_backed_parameter_model.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;var previousWarnings$$module$build$src$core$utils$deprecation=new Set,module$build$src$core$utils$deprecation={};module$build$src$core$utils$deprecation.warn=warn$$module$build$src$core$utils$deprecation;var CATEGORY_NAME$$module$build$src$core$variables=\"VARIABLE\",VAR_LETTER_OPTIONS$$module$build$src$core$variables=\"ijkmnopqrstuvwxyzabcdefgh\",TEST_ONLY$$module$build$src$core$variables={generateUniqueNameInternal:generateUniqueNameInternal$$module$build$src$core$variables},module$build$src$core$variables={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables,TEST_ONLY:TEST_ONLY$$module$build$src$core$variables,VAR_LETTER_OPTIONS:VAR_LETTER_OPTIONS$$module$build$src$core$variables};\nmodule$build$src$core$variables.allDeveloperVariables=$.allDeveloperVariables$$module$build$src$core$variables;module$build$src$core$variables.allUsedVarModels=$.allUsedVarModels$$module$build$src$core$variables;module$build$src$core$variables.compareByName=compareByName$$module$build$src$core$variables;module$build$src$core$variables.createVariableButtonHandler=createVariableButtonHandler$$module$build$src$core$variables;module$build$src$core$variables.deleteVariable=$.deleteVariable$$module$build$src$core$variables;\nmodule$build$src$core$variables.flyoutCategory=flyoutCategory$$module$build$src$core$variables;module$build$src$core$variables.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueName=generateUniqueName$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueNameFromOptions=generateUniqueNameFromOptions$$module$build$src$core$variables;module$build$src$core$variables.generateVariableFieldDom=generateVariableFieldDom$$module$build$src$core$variables;\nmodule$build$src$core$variables.getAddedVariables=getAddedVariables$$module$build$src$core$variables;module$build$src$core$variables.getOrCreateVariablePackage=$.getOrCreateVariablePackage$$module$build$src$core$variables;module$build$src$core$variables.getVariable=$.getVariable$$module$build$src$core$variables;module$build$src$core$variables.getVariableUsesById=getVariableUsesById$$module$build$src$core$variables;module$build$src$core$variables.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$variables;\nmodule$build$src$core$variables.jsonFlyoutCategoryBlocks=jsonFlyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithAnyType=nameUsedWithAnyType$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithConflictingParam=nameUsedWithConflictingParam$$module$build$src$core$variables;module$build$src$core$variables.promptName=promptName$$module$build$src$core$variables;module$build$src$core$variables.renameVariable=$.renameVariable$$module$build$src$core$variables;var DeserializationError$$module$build$src$core$serialization$exceptions=class extends Error{},MissingBlockType$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a){super(\"Expected to find a 'type' property, defining the block type\");this.state=a}},MissingConnection$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,\nb,c){super(`The block ${b.toDevString()} is missing a(n) ${a}\nconnection`);this.block=b;this.state=c}},BadConnectionCheck$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,b,c,d){super(`The block ${c.toDevString()} could not connect its\n${b} to its parent, because: ${a}`);this.childBlock=c;this.childState=d}},RealChildOfShadow$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a){super(\"Encountered a real block which is defined as a child of a shadow\\nblock. It is an invariant of Blockly that shadow blocks only have shadow\\nchildren\");this.state=a}},UnregisteredIcon$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,\nb,c){super(`Cannot add an icon of type '${a}' to the block `+`${b.toDevString()}, because there is no icon registered with `+`type '${a}'. Make sure that all of your icons have been `+\"registered.\");this.block=b;this.state=c}},module$build$src$core$serialization$exceptions={};module$build$src$core$serialization$exceptions.BadConnectionCheck=BadConnectionCheck$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.DeserializationError=DeserializationError$$module$build$src$core$serialization$exceptions;\nmodule$build$src$core$serialization$exceptions.MissingBlockType=MissingBlockType$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.MissingConnection=MissingConnection$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.RealChildOfShadow=RealChildOfShadow$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.UnregisteredIcon=UnregisteredIcon$$module$build$src$core$serialization$exceptions;var saveBlock$$module$build$src$core$serialization$blocks=save$$module$build$src$core$serialization$blocks,BlockSerializer$$module$build$src$core$serialization$blocks=class{constructor(){this.priority=BLOCKS$$module$build$src$core$serialization$priorities}save(a){const b=[];for(const c of a.getTopBlocks(!1))(a=save$$module$build$src$core$serialization$blocks(c,{addCoordinates:!0,doFullSerialization:!1}))&&b.push(a);return b.length?{languageVersion:0,blocks:b}:null}load(a,b){a=a.blocks;for(const c of a)append$$module$build$src$core$serialization$blocks(c,\nb,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()})}clear(a){for(const b of a.getTopBlocks(!1))b.dispose(!1)}};register$$module$build$src$core$serialization$registry(\"blocks\",new BlockSerializer$$module$build$src$core$serialization$blocks);var module$build$src$core$serialization$blocks={};module$build$src$core$serialization$blocks.BlockSerializer=BlockSerializer$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.append=append$$module$build$src$core$serialization$blocks;\nmodule$build$src$core$serialization$blocks.appendInternal=appendInternal$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.save=save$$module$build$src$core$serialization$blocks;var IconType$$module$build$src$core$icons$icon_types=class{constructor(a){this.name=a}toString(){return this.name}equals(a){return this.name===a.toString()}};IconType$$module$build$src$core$icons$icon_types.MUTATOR=new IconType$$module$build$src$core$icons$icon_types(\"mutator\");IconType$$module$build$src$core$icons$icon_types.WARNING=new IconType$$module$build$src$core$icons$icon_types(\"warning\");IconType$$module$build$src$core$icons$icon_types.COMMENT=new IconType$$module$build$src$core$icons$icon_types(\"comment\");\nvar module$build$src$core$icons$icon_types={};module$build$src$core$icons$icon_types.IconType=IconType$$module$build$src$core$icons$icon_types;var module$build$src$core$interfaces$i_has_bubble={};module$build$src$core$interfaces$i_has_bubble.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;var BlockBase$$module$build$src$core$events$events_block_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!a;a&&(this.blockId=a.id,this.workspaceId=a.workspace.id)}toJson(){const a=super.toJson();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");a.blockId=this.blockId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockBase$$module$build$src$core$events$events_block_base);\nb.blockId=a.blockId;return b}},module$build$src$core$events$events_block_base={};module$build$src$core$events$events_block_base.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;var BlockChange$$module$build$src$core$events$events_block_change=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a,b,c,d,e){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;a&&(this.element=b,this.name=c||void 0,this.oldValue=d,this.newValue=e)}toJson(){const a=super.toJson();if(!this.element)throw Error(\"The changed element is undefined. Either pass an element to the constructor, or call fromJson\");a.element=this.element;a.name=this.name;\na.oldValue=this.oldValue;a.newValue=this.newValue;this.disabledReason&&(a.disabledReason=this.disabledReason);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockChange$$module$build$src$core$events$events_block_change);b.element=a.element;b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;a.disabledReason!==void 0&&(b.disabledReason=a.disabledReason);return b}setDisabledReason(a){if(this.element!==\"disabled\")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not \"disabled\".');\nthis.disabledReason=a}isNull(){return this.oldValue===this.newValue}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");b=b.getBlockById(this.blockId);if(!b)throw Error(\"The associated block is undefined. Either pass a block to the constructor, or call fromJson\");const c=b.getIcon(IconType$$module$build$src$core$icons$icon_types.MUTATOR);c&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(c)&&\nc.bubbleIsVisible()&&c.setBubbleVisible(!1);a=a?this.newValue:this.oldValue;switch(this.element){case \"field\":(b=b.getField(this.name))?b.setValue(a):console.warn(\"Can't set non-existent field: \"+this.name);break;case \"comment\":b.setCommentText(a||null);break;case \"collapsed\":b.setCollapsed(!!a);break;case \"disabled\":var d;b.setDisabledReason(!!a,(d=this.disabledReason)!=null?d:MANUALLY_DISABLED$$module$build$src$core$constants);break;case \"inline\":b.setInputsInline(!!a);break;case \"mutation\":d=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(b);\nb.loadExtraState?b.loadExtraState(JSON.parse(a||\"{}\")):b.domToMutation&&b.domToMutation($.textToDom$$module$build$src$core$utils$xml(a||\"<mutation/>\"));fire$$module$build$src$core$events$utils(new BlockChange$$module$build$src$core$events$events_block_change(b,\"mutation\",null,d,a));break;default:console.warn(\"Unknown change type: \"+this.element)}}static getExtraBlockState_(a){return a.saveExtraState?(a=a.saveExtraState(!0))?JSON.stringify(a):\"\":a.mutationToDom?(a=a.mutationToDom())?domToText$$module$build$src$core$xml(a):\n\"\":\"\"}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_CHANGE,BlockChange$$module$build$src$core$events$events_block_change);var module$build$src$core$events$events_block_change={};module$build$src$core$events$events_block_change.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;var module$build$src$core$utils$math={};module$build$src$core$utils$math.clamp=clamp$$module$build$src$core$utils$math;module$build$src$core$utils$math.toDegrees=toDegrees$$module$build$src$core$utils$math;module$build$src$core$utils$math.toRadians=toRadians$$module$build$src$core$utils$math;var ARROW_SIZE$$module$build$src$core$dropdowndiv=16,BORDER_SIZE$$module$build$src$core$dropdowndiv=1,ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv=12,PADDING_Y$$module$build$src$core$dropdowndiv=16,ANIMATION_TIME$$module$build$src$core$dropdowndiv=.25,animateOutTimer$$module$build$src$core$dropdowndiv=null,onHide$$module$build$src$core$dropdowndiv=null,renderedClassName$$module$build$src$core$dropdowndiv=\"\",themeClassName$$module$build$src$core$dropdowndiv=\"\",div$$module$build$src$core$dropdowndiv,\ncontent$$module$build$src$core$dropdowndiv,arrow$$module$build$src$core$dropdowndiv,boundsElement$$module$build$src$core$dropdowndiv=null,owner$$module$build$src$core$dropdowndiv=null,positionToField$$module$build$src$core$dropdowndiv=null,returnEphemeralFocus$$module$build$src$core$dropdowndiv=null,keydownListener$$module$build$src$core$dropdowndiv=null,internal$$module$build$src$core$dropdowndiv={getBoundsInfo:function(){const a=getPageOffset$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv),\nb=getSize$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv);return{left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height}},getPositionMetrics:function(a,b,c,d){const e=internal$$module$build$src$core$dropdowndiv.getBoundsInfo(),f=getSize$$module$build$src$core$utils$style(div$$module$build$src$core$dropdowndiv);return b+f.height<e.bottom?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>e.top?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,\nd,e,f):b+f.height<document.documentElement.clientHeight?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>document.documentElement.clientTop?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,d,e,f):getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv(a,e,f)}},TEST_ONLY$$module$build$src$core$dropdowndiv=internal$$module$build$src$core$dropdowndiv,module$build$src$core$dropdowndiv={ANIMATION_TIME:ANIMATION_TIME$$module$build$src$core$dropdowndiv,ARROW_HORIZONTAL_PADDING:ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv,\nARROW_SIZE:ARROW_SIZE$$module$build$src$core$dropdowndiv,BORDER_SIZE:BORDER_SIZE$$module$build$src$core$dropdowndiv,PADDING_Y:PADDING_Y$$module$build$src$core$dropdowndiv,TEST_ONLY:internal$$module$build$src$core$dropdowndiv};module$build$src$core$dropdowndiv.clearContent=clearContent$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.createDom=createDom$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getContentDiv=getContentDiv$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.getOwner=getOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getPositionX=getPositionX$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hide=hide$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideIfOwner=hideIfOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideWithoutAnimation=hideWithoutAnimation$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.isVisible=isVisible$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setBoundsElement=setBoundsElement$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setColour=setColour$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.show=show$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.showPositionedByBlock=showPositionedByBlock$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.showPositionedByField=showPositionedByField$$module$build$src$core$dropdowndiv;var module$build$src$core$utils$string={};module$build$src$core$utils$string.commonWordPrefix=commonWordPrefix$$module$build$src$core$utils$string;module$build$src$core$utils$string.commonWordSuffix=commonWordSuffix$$module$build$src$core$utils$string;module$build$src$core$utils$string.isNumber=$.isNumber$$module$build$src$core$utils$string;module$build$src$core$utils$string.shortestStringLength=shortestStringLength$$module$build$src$core$utils$string;module$build$src$core$utils$string.wrap=$.wrap$$module$build$src$core$utils$string;var customTooltip$$module$build$src$core$tooltip=void 0,visible$$module$build$src$core$tooltip=!1,blocked$$module$build$src$core$tooltip=!1,LIMIT$$module$build$src$core$tooltip=50,mouseOutPid$$module$build$src$core$tooltip=0,showPid$$module$build$src$core$tooltip=0,lastX$$module$build$src$core$tooltip=0,lastY$$module$build$src$core$tooltip=0,element$$module$build$src$core$tooltip=null,poisonedElement$$module$build$src$core$tooltip=null,OFFSET_X$$module$build$src$core$tooltip=0,OFFSET_Y$$module$build$src$core$tooltip=\n10,RADIUS_OK$$module$build$src$core$tooltip=10,HOVER_MS$$module$build$src$core$tooltip=750,MARGINS$$module$build$src$core$tooltip=5,containerDiv$$module$build$src$core$tooltip=null,module$build$src$core$tooltip={HOVER_MS:HOVER_MS$$module$build$src$core$tooltip,LIMIT:LIMIT$$module$build$src$core$tooltip,MARGINS:MARGINS$$module$build$src$core$tooltip,OFFSET_X:OFFSET_X$$module$build$src$core$tooltip,OFFSET_Y:OFFSET_Y$$module$build$src$core$tooltip,RADIUS_OK:RADIUS_OK$$module$build$src$core$tooltip};\nmodule$build$src$core$tooltip.bindMouseEvents=bindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.block=block$$module$build$src$core$tooltip;module$build$src$core$tooltip.createDom=createDom$$module$build$src$core$tooltip;module$build$src$core$tooltip.dispose=dispose$$module$build$src$core$tooltip;module$build$src$core$tooltip.getCustomTooltip=getCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.getDiv=getDiv$$module$build$src$core$tooltip;\nmodule$build$src$core$tooltip.getTooltipOfObject=getTooltipOfObject$$module$build$src$core$tooltip;module$build$src$core$tooltip.hide=hide$$module$build$src$core$tooltip;module$build$src$core$tooltip.isVisible=isVisible$$module$build$src$core$tooltip;module$build$src$core$tooltip.setCustomTooltip=setCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.unbindMouseEvents=unbindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.unblock=unblock$$module$build$src$core$tooltip;var hsvSaturation$$module$build$src$core$utils$colour=.45,hsvValue$$module$build$src$core$utils$colour=.65,names$$module$build$src$core$utils$colour={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\"},module$build$src$core$utils$colour={};module$build$src$core$utils$colour.blend=blend$$module$build$src$core$utils$colour;\nmodule$build$src$core$utils$colour.getHsvSaturation=getHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.getHsvValue=getHsvValue$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hexToRgb=hexToRgb$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hsvToHex=hsvToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hueToHex=hueToHex$$module$build$src$core$utils$colour;\nmodule$build$src$core$utils$colour.names=names$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.parse=parse$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.rgbToHex=rgbToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvSaturation=setHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvValue=setHsvValue$$module$build$src$core$utils$colour;var module$build$src$core$utils$parsing={};module$build$src$core$utils$parsing.checkMessageReferences=checkMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.parseBlockColour=parseBlockColour$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.replaceMessageReferences=replaceMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.tokenizeInterpolation=tokenizeInterpolation$$module$build$src$core$utils$parsing;var Field$$module$build$src$core$field=class{get size_(){return this.size}set size_(a){this.size=a}constructor(a,b,c){this.DEFAULT_VALUE=null;this.name=void 0;this.tooltip=this.validator_=null;this.size=new Size$$module$build$src$core$utils$size(0,0);this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null;this.disposed=!1;this.maxDisplayLength=50;this.sourceBlock_=null;this.enabled_=this.visible_=this.isDirty_=!0;this.suffixField=this.prefixField=\nthis.clickTarget_=null;this.EDITABLE=!0;this.SERIALIZABLE=!1;this.id_=null;this.value_=\"DEFAULT_VALUE\"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE;this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){a.tooltip&&this.setTooltip(replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip))}setSourceBlock(a){if(this.sourceBlock_)throw Error(\"Field already bound to a block\");\nthis.sourceBlock_=a;if(a.id.includes(\"_field\"))throw Error(\"Field ID indicator is contained in block ID. This may cause \"+`problems with focus: ${a.id}.`);this.id_=`${a.id}_field_${getNextUniqueId$$module$build$src$core$utils$idgenerator()}`}getConstants(){!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants());return this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var a=\nthis.id_;if(!a)throw Error(\"Expected ID to be defined prior to init.\");this.fieldGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{id:a});this.isVisible()||(this.fieldGroup_.style.display=\"none\");this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);this.initView();this.updateEditable();this.setTooltip(this.tooltip);this.bindEvents_();this.initModel();this.applyColour()}}initView(){this.createBorderRect_();this.createTextElement_();this.fieldGroup_&&\naddClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyField\")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,\"class\":\"blocklyFieldRect\"},this.fieldGroup_)}createTextElement_(){this.textElement_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,\n{\"class\":\"blocklyText blocklyFieldText\"},this.fieldGroup_);this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute(\"dominant-baseline\",\"central\");this.textContent_=document.createTextNode(\"\");this.textElement_.appendChild(this.textContent_)}bindEvents_(){const a=this.getClickTarget_();if(!a)throw Error(\"A click target has not been set.\");bindMouseEvents$$module$build$src$core$tooltip(a);this.mouseDownWrapper=conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",\nthis,this.onMouseDown_)}fromXml(a){this.setValue(a.textContent)}toXml(a){a.textContent=this.getValue();return a}saveState(a){a=this.saveLegacyState(Field$$module$build$src$core$field);return a!==null?a:this.getValue()}loadState(a){this.loadLegacyState(Field$$module$build$src$core$field,a)||this.setValue(a)}saveLegacyState(a){return a.prototype.saveState===this.saveState&&a.prototype.toXml!==this.toXml?(a=$.createElement$$module$build$src$core$utils$xml(\"field\"),a.setAttribute(\"name\",this.name||\"\"),\ndomToText$$module$build$src$core$utils$xml(this.toXml(a)).replace(' xmlns=\"https://developers.google.com/blockly/xml\"',\"\")):null}loadLegacyState(a,b){return a.prototype.loadState===this.loadState&&a.prototype.fromXml!==this.fromXml?(this.fromXml($.textToDom$$module$build$src$core$utils$xml(b)),!0):!1}dispose(){hideIfOwner$$module$build$src$core$dropdowndiv(this);hideIfOwner$$module$build$src$core$widgetdiv(this);let a;((a=this.getSourceBlock())==null?0:a.isDeadOrDying())||removeNode$$module$build$src$core$utils$dom(this.fieldGroup_);\nthis.disposed=!0}updateEditable(){const a=this.fieldGroup_,b=this.getSourceBlock();this.EDITABLE&&a&&b&&(this.enabled_&&b.isEditable()?(addClass$$module$build$src$core$utils$dom(a,\"blocklyEditableField\"),removeClass$$module$build$src$core$utils$dom(a,\"blocklyNonEditableField\")):(addClass$$module$build$src$core$utils$dom(a,\"blocklyNonEditableField\"),removeClass$$module$build$src$core$utils$dom(a,\"blocklyEditableField\")))}setEnabled(a){this.enabled_=a;this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&\n!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Field$$module$build$src$core$field.prototype.showEditor_}isClickableInFlyout(a){return!a}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let a=!1;this.name&&(this.SERIALIZABLE?a=!0:this.EDITABLE&&(console.warn(\"Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization.\"),\na=!0));return a}isVisible(){return this.visible_}setVisible(a){if(this.visible_!==a){this.visible_=a;var b=this.fieldGroup_;b&&(b.style.display=a?\"block\":\"none\")}}setValidator(a){this.validator_=a}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);\nreturn this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_()}showEditor(a){this.isClickable()&&this.showEditor_(a)}showEditor_(a){}repositionForWindowResize(){return!1}updateSize_(a){const b=this.getConstants();a=a!==void 0?a:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let c=a*2,d=b.FIELD_TEXT_HEIGHT,e=0;this.textElement_&&(e=getTextWidth$$module$build$src$core$utils$dom(this.textElement_),\nc+=e);this.isFullBlockField()||(d=Math.max(d,b.FIELD_BORDER_RECT_HEIGHT));this.size_=new Size$$module$build$src$core$utils$size(c,d);this.positionTextElement_(a,e);this.positionBorderRect_()}positionTextElement_(a,b){if(this.textElement_){var c=this.getConstants(),d=this.size_.height/2,e;this.textElement_.setAttribute(\"x\",String(((e=this.getSourceBlock())==null?0:e.RTL)?this.size_.width-b-a:a));this.textElement_.setAttribute(\"y\",String(c.FIELD_TEXT_BASELINE_CENTER?d:d-c.FIELD_TEXT_HEIGHT/2+c.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&\n(this.borderRect_.setAttribute(\"width\",String(this.size_.width)),this.borderRect_.setAttribute(\"height\",String(this.size_.height)),this.borderRect_.setAttribute(\"rx\",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute(\"ry\",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){if(!this.isVisible())return new Size$$module$build$src$core$utils$size(0,0);this.isDirty_&&(this.render_(),this.isDirty_=!1);return this.size_}getScaledBBox(){let a;var b=this.getSourceBlock();\nif(!b)throw new UnattachedFieldError$$module$build$src$core$field;if(this.isFullBlockField()){var c=this.sourceBlock_.getHeightWidth();const d=b.workspace.scale;a=this.getAbsoluteXY_();b=(c.width+1)*d;c=(c.height+1)*d;GECKO$$module$build$src$core$utils$useragent?(a.x+=1.5*d,a.y+=1.5*d):(a.x-=.5*d,a.y-=.5*d)}else c=this.borderRect_.getBoundingClientRect(),a=getPageOffset$$module$build$src$core$utils$style(this.borderRect_),b=c.width,c=c.height;return new Rect$$module$build$src$core$utils$rect(a.y,\na.y+c,a.x,a.x+b)}onLocationChange(a){}getDisplayText_(){let a=this.getText();a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+\"\\u2026\");a=a.replace(/\\s/g,Field$$module$build$src$core$field.NBSP);this.sourceBlock_&&this.sourceBlock_.RTL&&(a+=\"\\u200f\");return a}getText(){const a=this.getText_();return a!==null?String(a):String(this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0;this.constants_=null}forceRerender(){this.isDirty_=!0;this.sourceBlock_&&this.sourceBlock_.rendered&&\nthis.sourceBlock_.queueRender()}setValue(a,b=!0){if(a!==null){var c=$.getGroup$$module$build$src$core$events$utils();c||$.setGroup$$module$build$src$core$events$utils(!0);try{const k=this.doClassValidation_(a),l=this.processValidation(a,k,b);if(!(l instanceof Error)){var d,e=(d=this.getValidator())==null?void 0:d.call(this,l),f=this.processValidation(l,e,b);if(!(f instanceof Error)){var g=this.sourceBlock_;if(!g||!g.disposed){var h=this.getValue();h===f?this.doValueUpdate_(f):(this.doValueUpdate_(f),\nb&&g&&isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(g,\"field\",this.name||null,h,f)),this.isDirty_&&this.forceRerender())}}}}finally{$.setGroup$$module$build$src$core$events$utils(c)}}}processValidation(a,b,c){return b===null?(this.doValueInvalid_(a,c),this.isDirty_&&this.forceRerender(),Error()):b===void 0?a:b}getValue(){return this.value_}doClassValidation_(a){return a===\nnull||a===void 0?null:a}doValueUpdate_(a){this.value_=a;this.isDirty_=!0}doValueInvalid_(a,b){}onMouseDown_(a){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this)}setTooltip(a){a||a===\"\"||(a=this.sourceBlock_);const b=this.getClickTarget_();b?b.tooltip=a:this.tooltip=a}getTooltip(){const a=this.getClickTarget_();return a?getTooltipOfObject$$module$build$src$core$tooltip(a):getTooltipOfObject$$module$build$src$core$tooltip({tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||\nthis.getSvgRoot()}getAbsoluteXY_(){return getPageOffset$$module$build$src$core$utils$style(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let a=null;const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;const c=b.inputList;for(let d=0;d<b.inputList.length;d++){const e=c[d],f=e.fieldRow;for(let g=0;g<f.length;g++)if(f[g]===this){a=e;break}}return a}getFlipRtl(){return!1}onShortcut(a){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error(\"This field currently has no representative DOM element.\");\nreturn this.fieldGroup_}getFocusableTree(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;return a.workspace}onNodeFocus(){const a=this.getSourceBlock();a.workspace.scrollBoundsIntoView(a.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(a){throw Error(\"Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.\");}};Field$$module$build$src$core$field.NBSP=\"\\u00a0\";\nField$$module$build$src$core$field.SKIP_SETUP=Symbol(\"SKIP_SETUP\");var UnattachedFieldError$$module$build$src$core$field=class extends Error{constructor(){super(\"The field has not yet been attached to its input. Call appendField to attach it.\")}},module$build$src$core$field={};module$build$src$core$field.Field=Field$$module$build$src$core$field;module$build$src$core$field.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;var owner$$module$build$src$core$widgetdiv=null,ownerWorkspace$$module$build$src$core$widgetdiv=null,dispose$$module$build$src$core$widgetdiv=null,containerClassName$$module$build$src$core$widgetdiv=\"blocklyWidgetDiv\",rendererClassName$$module$build$src$core$widgetdiv=\"\",themeClassName$$module$build$src$core$widgetdiv=\"\",containerDiv$$module$build$src$core$widgetdiv,returnEphemeralFocus$$module$build$src$core$widgetdiv=null,module$build$src$core$widgetdiv={};\nmodule$build$src$core$widgetdiv.createDom=createDom$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.getDiv=getDiv$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hide=hide$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwner=hideIfOwner$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwnerIsInWorkspace=hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.isVisible=isVisible$$module$build$src$core$widgetdiv;\nmodule$build$src$core$widgetdiv.positionWithAnchor=positionWithAnchor$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.show=show$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.testOnly_setDiv=testOnly_setDiv$$module$build$src$core$widgetdiv;var currentBlock$$module$build$src$core$contextmenu=null,dummyOwner$$module$build$src$core$contextmenu={},menu_$$module$build$src$core$contextmenu=null,module$build$src$core$contextmenu={};module$build$src$core$contextmenu.callbackFactory=$.callbackFactory$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.dispose=dispose$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.getCurrentBlock=getCurrentBlock$$module$build$src$core$contextmenu;\nmodule$build$src$core$contextmenu.hide=hide$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.setCurrentBlock=setCurrentBlock$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.show=show$$module$build$src$core$contextmenu;var ContextMenuRegistry$$module$build$src$core$contextmenu_registry=class{constructor(){this.registeredItems=new Map;this.reset()}reset(){this.registeredItems.clear()}register(a){if(this.registeredItems.has(a.id))throw Error('Menu item with ID \"'+a.id+'\" is already registered.');this.registeredItems.set(a.id,a)}unregister(a){if(!this.registeredItems.has(a))throw Error('Menu item with ID \"'+a+'\" not found.');this.registeredItems.delete(a)}getItem(a){let b;return(b=this.registeredItems.get(a))!=null?\nb:null}getContextMenuOptions(a,b){const c=[];for(const d of this.registeredItems.values()){if(d.scopeType){if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.BLOCK&&!a.block)continue;if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.COMMENT&&!a.comment)continue;if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.WORKSPACE&&!a.workspace)continue}let e;e={scope:a,weight:d.weight};if(d.separator)e=Object.assign({},e,{separator:!0});else{const f=\nd.preconditionFn(a,b);if(f===\"hidden\")continue;const g=typeof d.displayText===\"function\"?d.displayText(a):d.displayText;e=Object.assign({},e,{text:g,callback:d.callback,enabled:f===\"enabled\"})}c.push(e)}c.sort(function(d,e){return d.weight-e.weight});return c}};\n(function(a){var b=a.ScopeType||(a.ScopeType={});b.BLOCK=\"block\";b.WORKSPACE=\"workspace\";b.COMMENT=\"comment\";a.registry=new a})(ContextMenuRegistry$$module$build$src$core$contextmenu_registry||(ContextMenuRegistry$$module$build$src$core$contextmenu_registry={}));var ScopeType$$module$build$src$core$contextmenu_registry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType,module$build$src$core$contextmenu_registry={};\nmodule$build$src$core$contextmenu_registry.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$contextmenu_registry.ScopeType=ScopeType$$module$build$src$core$contextmenu_registry;var BLOCK$$module$build$src$core$layers=50,BUBBLE$$module$build$src$core$layers=100,module$build$src$core$layers={BLOCK:BLOCK$$module$build$src$core$layers,BUBBLE:BUBBLE$$module$build$src$core$layers};var CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy=class{constructor(a){this.comment=a;this.startLoc=null;this.workspace=a.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent();this.startLoc=this.comment.getRelativeToSurfaceXY();this.workspace.setResizesEnabled(!1);let a;(a=this.workspace.getLayerManager())==null||a.moveToDragLayer(this.comment);this.comment.setDragging(!0)}drag(a){this.comment.moveDuringDrag(a)}endDrag(){this.fireDragEndEvent();\nthis.fireMoveEvent();let a;(a=this.workspace.getLayerManager())==null||a.moveOffDragLayer(this.comment,BLOCK$$module$build$src$core$layers);this.comment.setDragging(!1);this.comment.snapToGrid();this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DRAG))(this.comment,!0);fire$$module$build$src$core$events$utils(a)}fireDragEndEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DRAG))(this.comment,\n!1);fire$$module$build$src$core$events$utils(a)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_MOVE))(this.comment);a.setReason([\"drag\"]);a.oldCoordinate_=this.startLoc;a.recordNew();fire$$module$build$src$core$events$utils(a)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},module$build$src$core$dragging$comment_drag_strategy={};\nmodule$build$src$core$dragging$comment_drag_strategy.CommentDragStrategy=CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy;var workspaceToDragDelta$$module$build$src$core$utils$drag=new WeakMap,module$build$src$core$utils$drag={};module$build$src$core$utils$drag.move=move$$module$build$src$core$utils$drag;module$build$src$core$utils$drag.start=start$$module$build$src$core$utils$drag;var CommentBarButton$$module$build$src$core$comments$comment_bar_button=class{constructor(a,b,c,d){this.id=a;this.workspace=b;this.container=c;this.commentView=d}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(a=!1){var b=this.icon.getBBox();b=Rect$$module$build$src$core$utils$rect.from(b);a&&(a=this.getMargin(),b.left-=a,b.top-=a,b.bottom+=a,b.right+=a);return b}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const a=\nthis.getCommentView();var b=a.getRelativeToSurfaceXY();const c=a.getSize();b=new Rect$$module$build$src$core$utils$rect(b.y,b.y+c.height,b.x,b.x+c.width);a.workspace.scrollBoundsIntoView(b)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},module$build$src$core$comments$comment_bar_button={};module$build$src$core$comments$comment_bar_button.CommentBarButton=CommentBarButton$$module$build$src$core$comments$comment_bar_button;var COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button=\"_collapse_bar_button\",CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button=class extends CommentBarButton$$module$build$src$core$comments$comment_bar_button{constructor(a,b,c,d){super(a,b,c,d);this.id=a;this.workspace=b;this.container=c;this.commentView=d;this.icon=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,\n{\"class\":\"blocklyFoldoutIcon\",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button}`},this.container);this.bindId=conditionalBind$$module$build$src$core$browser_events(this.icon,\"pointerdown\",this,this.performAction.bind(this))}dispose(){unbind$$module$build$src$core$browser_events(this.bindId)}reposition(){const a=this.getMargin();this.icon.setAttribute(\"y\",`${a}`);this.icon.setAttribute(\"x\",\n`${a}`)}performAction(a){clearTouchIdentifier$$module$build$src$core$touch();this.getCommentView().bringToFront();a&&a instanceof PointerEvent&&isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),a==null||a.stopPropagation())}},module$build$src$core$comments$collapse_comment_bar_button={COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER:COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button};\nmodule$build$src$core$comments$collapse_comment_bar_button.CollapseCommentBarButton=CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button;var COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor=\"_comment_textarea_\",CommentEditor$$module$build$src$core$comments$comment_editor=class{constructor(a,b,c){this.workspace=a;this.onFinishEditing=c;this.textChangeListeners=[];this.text=\"\";this.foreignObject=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT,{\"class\":\"blocklyCommentForeignObject\"});a=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,\"body\");\na.setAttribute(\"xmlns\",HTML_NS$$module$build$src$core$utils$dom);a.className=\"blocklyMinimalBody\";this.textArea=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,\"textarea\");this.textArea.setAttribute(\"tabindex\",\"-1\");this.textArea.setAttribute(\"dir\",this.workspace.RTL?\"RTL\":\"LTR\");addClass$$module$build$src$core$utils$dom(this.textArea,\"blocklyCommentText\");addClass$$module$build$src$core$utils$dom(this.textArea,\"blocklyTextarea\");addClass$$module$build$src$core$utils$dom(this.textArea,\n\"blocklyText\");a.appendChild(this.textArea);this.foreignObject.appendChild(a);b&&(this.id=b+COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor,this.textArea.setAttribute(\"id\",this.id));conditionalBind$$module$build$src$core$browser_events(this.textArea,\"change\",this,this.onTextChange);conditionalBind$$module$build$src$core$browser_events(this.textArea,\"pointerdown\",this,d=>{d.stopPropagation();$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this);clearTouchIdentifier$$module$build$src$core$touch()});\nconditionalBind$$module$build$src$core$browser_events(this.textArea,\"wheel\",this,d=>{d.stopPropagation()});conditionalBind$$module$build$src$core$browser_events(this.textArea,\"keydown\",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(a){this.textArea.value=a;this.onTextChange()}onTextChange(){const a=this.text;this.text=this.textArea.value;for(let b=this.textChangeListeners.length-1;b>=0;b--)this.textChangeListeners[b](a,this.text)}handleKeyDown(a){if(a.key===\n\"Escape\"||a.key===\"Enter\"&&(a.ctrlKey||a.metaKey)){if(this.onFinishEditing)this.onFinishEditing();a.stopPropagation()}}addTextChangeListener(a){this.textChangeListeners.push(a)}removeTextChangeListener(a){this.textChangeListeners.splice(this.textChangeListeners.indexOf(a),1)}setPlaceholderText(a){this.textArea.placeholder=a}setEditable(a){a?this.textArea.removeAttribute(\"readonly\"):this.textArea.setAttribute(\"readonly\",\"true\")}updateSize(a,b){this.foreignObject.setAttribute(\"height\",`${a.height-b.height}`);\nthis.foreignObject.setAttribute(\"width\",`${a.width}`);this.foreignObject.setAttribute(\"y\",`${b.height}`);this.workspace.RTL&&this.foreignObject.setAttribute(\"x\",`${-a.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const a=Rect$$module$build$src$core$utils$rect.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(Rect$$module$build$src$core$utils$rect.createFromPoint(screenToWsCoordinates$$module$build$src$core$utils$svg_math(this.workspace,\na.getOrigin()),a.getWidth(),a.getHeight()))}onNodeBlur(){}canBeFocused(){return this.id?!0:!1}},module$build$src$core$comments$comment_editor={COMMENT_EDITOR_FOCUS_IDENTIFIER:COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor};module$build$src$core$comments$comment_editor.CommentEditor=CommentEditor$$module$build$src$core$comments$comment_editor;var COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button=\"_delete_bar_button\",DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button=class extends CommentBarButton$$module$build$src$core$comments$comment_bar_button{constructor(a,b,c,d){super(a,b,c,d);this.id=a;this.workspace=b;this.container=c;this.commentView=d;this.icon=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{\"class\":\"blocklyDeleteIcon\",\nhref:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button}`},c);this.bindId=conditionalBind$$module$build$src$core$browser_events(this.icon,\"pointerdown\",this,this.performAction.bind(this))}dispose(){unbind$$module$build$src$core$browser_events(this.bindId)}reposition(){const a=this.getMargin();this.icon.setAttribute(\"x\",\"0\");const b=this.container.getBBox();this.icon.setAttribute(\"y\",\n`${a}`);this.icon.setAttribute(\"x\",`${b.width-this.getSize(!0).getWidth()}`)}performAction(a){clearTouchIdentifier$$module$build$src$core$touch();a&&a instanceof PointerEvent&&isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.getCommentView().dispose(),a==null||a.stopPropagation(),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},module$build$src$core$comments$delete_comment_bar_button={COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER:COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button};\nmodule$build$src$core$comments$delete_comment_bar_button.DeleteCommentBarButton=DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button;var CommentView$$module$build$src$core$comments$comment_view=class{constructor(a,b){this.workspace=a;this.commentId=b;this.collapsed=!1;this.editable=!0;this.location=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.sizeChangeListeners=[];this.disposeListeners=[];this.collapseChangeListeners=[];this.resizePointerMoveListener=this.resizePointerUpListener=null;this.disposed=this.disposing=!1;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyComment blocklyEditable blocklyDraggable\"});this.highlightRect=this.createHighlightRect(this.svgRoot);({topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot));this.commentEditor=this.createTextArea();this.resizeHandle=this.createResizeHandle(this.svgRoot,a);let c;(c=a.getLayerManager())==null||c.append(this,\nBLOCK$$module$build$src$core$layers);this.size=CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize;this.setSizeWithoutFiringEvents(this.size);this.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(0,0))}createHighlightRect(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyCommentHighlight\"},a)}createTopBar(a){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyCommentTopbar\"},a);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyCommentTopbarBackground\"},a),c=new DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button(this.commentId,this.workspace,a,this),d=new CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button(this.commentId,this.workspace,a,this);this.addDisposeListener(()=>{c.dispose();d.dispose()});const e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,\n{\"class\":\"blocklyCommentPreview blocklyCommentText blocklyText\"},a),f=document.createTextNode(\"\");e.appendChild(f);return{topBarGroup:a,topBarBackground:b,deleteButton:c,foldoutButton:d,textPreview:e,textPreviewNode:f}}createTextArea(){const a=new CommentEditor$$module$build$src$core$comments$comment_editor(this.workspace,this.commentId,()=>this.svgRoot.focus());this.svgRoot.appendChild(a.getDom());a.addTextChangeListener((b,c)=>{this.updateTextPreview(c);this.setSize(this.size)});return a}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(a,\nb){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{\"class\":\"blocklyResizeHandle\",href:`${b.options.pathToMedia}resize-handle.svg`},a);conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onResizePointerDown);return a}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(a){const b=this.topBarBackground.getBBox(),c=this.textPreview.getBBox(),d=this.resizeHandle.getBBox();\nthis.size=a=Size$$module$build$src$core$utils$size.max(a,this.calcMinSize(b));this.svgRoot.setAttribute(\"height\",`${a.height}`);this.svgRoot.setAttribute(\"width\",`${a.width}`);this.updateHighlightRect(a);this.updateTopBarSize(a);this.commentEditor.updateSize(a,b);this.deleteButton.reposition();this.foldoutButton.reposition();this.updateTextPreviewSize(a,b,c);this.updateResizeHandlePosition(a,d)}setSize(a){const b=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(a);this.onSizeChange(b,\nthis.size)}calcMinSize(a){var b;this.updateTextPreview((b=this.commentEditor.getText())!=null?b:\"\");let c=b=getTextWidth$$module$build$src$core$utils$dom(this.textPreview);this.foldoutButton.isVisible()?c+=this.foldoutButton.getSize(!0).getWidth():b&&(c+=4);this.deleteButton.isVisible()?c+=this.deleteButton.getSize(!0).getWidth():b&&(c+=4);return new Size$$module$build$src$core$utils$size(c,a.height+20)}updateHighlightRect(a){this.highlightRect.setAttribute(\"height\",`${a.height}`);this.highlightRect.setAttribute(\"width\",\n`${a.width}`);this.workspace.RTL&&this.highlightRect.setAttribute(\"x\",`${-a.width}`)}updateTopBarSize(a){this.topBarBackground.setAttribute(\"width\",`${a.width}`)}updateTextPreviewSize(a,b,c){b=(b.height-c.height)/2;const d=this.foldoutButton.getSize(!0),e=this.deleteButton.getSize(!0);a=a.width-d.getWidth()-e.getWidth();this.textPreview.setAttribute(\"x\",`${(this.workspace.RTL?-1:1)*d.getWidth()}`);this.textPreview.setAttribute(\"y\",`${b+c.height/2}`);this.textPreview.setAttribute(\"width\",`${a}`)}updateResizeHandlePosition(a,\nb){this.resizeHandle.setAttribute(\"y\",`${a.height-b.height}`);this.resizeHandle.setAttribute(\"x\",`${a.width-b.width}`)}onSizeChange(a,b){for(let c=this.sizeChangeListeners.length-1;c>=0;c--)this.sizeChangeListeners[c](a,b)}addSizeChangeListener(a){this.sizeChangeListeners.push(a)}removeSizeChangeListener(a){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(a),1)}onResizePointerDown(a){this.isEditable()&&(this.bringToFront(),isRightButton$$module$build$src$core$browser_events(a)||(this.preResizeSize=\nthis.getSize(),start$$module$build$src$core$utils$drag(this.workspace,a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",this,this.onResizePointerMove),this.workspace.hideChaff()),\na.stopPropagation())}onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),this.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null);this.setSize(this.size);this.preResizeSize=void 0}onResizePointerMove(a){a=move$$module$build$src$core$utils$drag(this.workspace,\na);this.setSizeWithoutFiringEvents(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y))}isCollapsed(){return this.collapsed}setCollapsed(a){(this.collapsed=a)?addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCollapsed\"):removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCollapsed\");this.setSizeWithoutFiringEvents(this.size);this.onCollapse()}onCollapse(){for(let a=this.collapseChangeListeners.length-1;a>=0;a--)this.collapseChangeListeners[a](this.collapsed)}addOnCollapseListener(a){this.collapseChangeListeners.push(a)}removeOnCollapseListener(a){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(a),\n1)}isEditable(){return this.editable}setEditable(a){(this.editable=a)?(addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyEditable\"),removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyReadonly\")):(removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyEditable\"),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyReadonly\"));this.commentEditor.setEditable(a)}getRelativeToSurfaceXY(){return this.location}moveTo(a){this.location=a;this.svgRoot.setAttribute(\"transform\",\n`translate(${a.x}, ${a.y})`)}getText(){return this.commentEditor.getText()}setText(a){this.commentEditor.setText(a)}setPlaceholderText(a){this.commentEditor.setPlaceholderText(a)}addTextChangeListener(a){this.commentEditor.addTextChangeListener(a)}removeTextChangeListener(a){this.commentEditor.removeTextChangeListener(a)}updateTextPreview(a){this.textPreviewNode.textContent=this.truncateText(a)}truncateText(a){return a.length>=12?`${a.substring(0,9)}...`:a}bringToFront(){const a=this.svgRoot.parentNode,\nb=a.childNodes;b[b.length-1]!==this.svgRoot&&a.appendChild(this.svgRoot)}onDeleteDown(a){clearTouchIdentifier$$module$build$src$core$touch();isRightButton$$module$build$src$core$browser_events(a)||this.dispose();a.stopPropagation()}dispose(){this.disposing=!0;removeNode$$module$build$src$core$utils$dom(this.svgRoot);for(let a=this.disposeListeners.length-1;a>=0;a--)this.disposeListeners[a]();this.disposeListeners.length=0;this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||\nthis.disposed}addDisposeListener(a){this.disposeListeners.push(a)}removeDisposeListener(a){this.disposeListeners.splice(this.disposeListeners.indexOf(a),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize=new Size$$module$build$src$core$utils$size(120,100);register$$module$build$src$core$css(\"\\n.injectionDiv {\\n  --commentFillColour: #FFFCC7;\\n  --commentBorderColour: #F2E49B;\\n}\\n\\n.blocklyComment .blocklyTextarea {\\n  background-color: var(--commentFillColour);\\n  border: 1px solid var(--commentBorderColour);\\n  box-sizing: border-box;\\n  display: block;\\n  outline: 0;\\n  padding: 5px;\\n  resize: none;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.blocklyReadonly.blocklyComment .blocklyTextarea {\\n  cursor: inherit;\\n}\\n\\n.blocklyDeleteIcon {\\n  width: 20px;\\n  height: 20px;\\n  display: none;\\n  cursor: pointer;\\n}\\n\\n.blocklyFoldoutIcon {\\n  width: 20px;\\n  height: 20px;\\n  transform-origin: 12px 12px;\\n  cursor: pointer;\\n}\\n.blocklyResizeHandle {\\n  width: 12px;\\n  height: 12px;\\n  cursor: se-resize;\\n}\\n.blocklyReadonly.blocklyComment .blocklyResizeHandle {\\n  cursor: inherit;\\n}\\n\\n.blocklyCommentTopbarBackground {\\n  fill: var(--commentBorderColour);\\n  height: 24px;\\n}\\n\\n.blocklyComment .blocklyCommentPreview.blocklyText {\\n  fill: #000;\\n  dominant-baseline: middle;\\n  visibility: hidden;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyCommentPreview {\\n  visibility: visible;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,\\n.blocklyCollapsed.blocklyComment .blocklyResizeHandle {\\n  display: none;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {\\n  transform: rotate(-90deg);\\n}\\n\\n.blocklyRTL .blocklyCommentTopbar {\\n  transform: scale(-1, 1);\\n}\\n\\n.blocklyRTL .blocklyCommentForeignObject {\\n  direction: rtl;\\n}\\n\\n.blocklyRTL .blocklyCommentPreview {\\n  /* Revert the scale and control RTL using direction instead. */\\n  transform: scale(-1, 1);\\n  direction: rtl;\\n}\\n\\n.blocklyRTL .blocklyResizeHandle {\\n  transform: scale(-1, 1);\\n  cursor: sw-resize;\\n}\\n\\n.blocklyCommentHighlight {\\n  fill: none;\\n}\\n\\n.blocklyCommentText.blocklyActiveFocus {\\n  border-color: #fc3;\\n  border-width: 2px;\\n}\\n\\n.blocklySelected .blocklyCommentHighlight {\\n  stroke: #fc3;\\n  stroke-width: 3px;\\n}\\n\\n.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {\\n  stroke: none;\\n}\\n\\n.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {\\n  stroke: #fc3;\\n  stroke-width: 3px;\\n}\\n\");\nvar module$build$src$core$comments$comment_view={};module$build$src$core$comments$comment_view.CommentView=CommentView$$module$build$src$core$comments$comment_view;var WorkspaceComment$$module$build$src$core$comments$workspace_comment=class{constructor(a,b){this.workspace=a;this.text=\"\";this.collapsed=!1;this.deletable=this.movable=this.editable=!0;this.location=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.disposing=this.disposed=!1;this.id=b&&!a.getCommentById(b)?b:genUid$$module$build$src$core$utils$idgenerator();this.size=CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize;a.addTopComment(this);this.fireCreateEvent()}fireCreateEvent(){isEnabled$$module$build$src$core$events$utils()&&\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CREATE))(this))}fireDeleteEvent(){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DELETE))(this))}fireChangeEvent(a,b){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CHANGE))(this,\na,b))}fireCollapseEvent(a){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE))(this,a))}setText(a){const b=this.text;this.text=a;this.fireChangeEvent(b,a)}getText(){return this.text}setSize(a){const b=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_RESIZE))(this);this.size=a;b.recordCurrentSizeAsNewSize();\nfire$$module$build$src$core$events$utils(b)}getSize(){return this.size}setCollapsed(a){this.collapsed=a;this.fireCollapseEvent(a)}isCollapsed(){return this.collapsed}setEditable(a){this.editable=a}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(a){this.movable=a}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(a){this.deletable=a}isDeletable(){return this.isOwnDeletable()&&\n!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(a,b){const c=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_MOVE))(this);b&&c.setReason(b);this.location=a;c.recordNew();fire$$module$build$src$core$events$utils(c)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0;this.fireDeleteEvent();this.workspace.removeTopComment(this);this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||\nthis.disposed}},module$build$src$core$comments$workspace_comment={};module$build$src$core$comments$workspace_comment.WorkspaceComment=WorkspaceComment$$module$build$src$core$comments$workspace_comment;var RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment=class extends WorkspaceComment$$module$build$src$core$comments$workspace_comment{constructor(a,b){super(a,b);this.dragStrategy=new CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy(this);this.workspace=a;this.view=new CommentView$$module$build$src$core$comments$comment_view(a,this.id);this.view.setSize(this.getSize());this.view.setEditable(this.isEditable());this.view.getSvgRoot().setAttribute(\"data-id\",\nthis.id);this.view.getSvgRoot().setAttribute(\"id\",this.id);this.addModelUpdateBindings();conditionalBind$$module$build$src$core$browser_events(this.view.getSvgRoot(),\"pointerdown\",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((a,b)=>void super.setText(b));this.view.addSizeChangeListener((a,b)=>void super.setSize(b));this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed()));this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(a){this.view.setText(a)}setPlaceholderText(a){this.view.setPlaceholderText(a)}setSize(a){this.view.setSize(a)}setCollapsed(a){this.view.setCollapsed(a)}setEditable(a){super.setEditable(a);\nthis.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const a=this.getRelativeToSurfaceXY();var b,c;const d=(c=(b=this.view)==null?void 0:b.getSize())!=null?c:this.getSize();this.workspace.RTL?(b=a.x-d.width,c=a.x):(b=a.x,c=a.x+d.width);return new Rect$$module$build$src$core$utils$rect(a.y,a.y+d.height,b,c)}moveBy(a,b,c){const d=this.getRelativeToSurfaceXY();a=new Coordinate$$module$build$src$core$utils$coordinate(d.x+\na,d.y+b);this.moveTo(a,c)}moveTo(a,b){super.moveTo(a,b);this.view.moveTo(a)}moveDuringDrag(a){this.location=a;this.view.moveTo(a)}setDragging(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDragging\"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDragging\")}dispose(){this.disposing=!0;const a=$.getFocusManager$$module$build$src$core$focus_manager();a.getFocusedNode()===this&&setTimeout(()=>a.focusTree(this.workspace),0);this.view.isDeadOrDying()||\nthis.view.dispose();super.dispose()}startGesture(a){const b=this.workspace.getGesture(a);b&&(b.handleCommentStart(a,this),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDraggingDelete\"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDraggingDelete\")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(a){this.dragStrategy.drag(a)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\n\"blocklySelected\");fireSelectedEvent$$module$build$src$core$common(this)}unselect(){removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklySelected\");fireSelectedEvent$$module$build$src$core$common(null)}toCopyData(){return{paster:WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,commentState:save$$module$build$src$core$serialization$workspace_comments(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(a){const b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({comment:this,\nfocusedNode:this},a);let c;c=a instanceof PointerEvent?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10);show$$module$build$src$core$contextmenu(a,b,this.workspace.RTL,this.workspace,c)}snapToGrid(){if(!this.isDeadOrDying()){var a=this.workspace.getGrid();if(a!=null&&a.shouldSnap()){var b=this.getRelativeToSurfaceXY();a=a.alignXY(b);a!==b&&this.moveTo(a,\n[\"snap\"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let a;(a=this.workspace.getLayerManager())==null||a.append(this,BLOCK$$module$build$src$core$layers);this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},module$build$src$core$comments$rendered_workspace_comment={};\nmodule$build$src$core$comments$rendered_workspace_comment.RenderedWorkspaceComment=RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment;var module$build$src$core$xml={};module$build$src$core$xml.appendDomToWorkspace=appendDomToWorkspace$$module$build$src$core$xml;module$build$src$core$xml.blockToDom=blockToDom$$module$build$src$core$xml;module$build$src$core$xml.blockToDomWithXY=blockToDomWithXY$$module$build$src$core$xml;module$build$src$core$xml.clearWorkspaceAndLoadFromXml=clearWorkspaceAndLoadFromXml$$module$build$src$core$xml;module$build$src$core$xml.deleteNext=deleteNext$$module$build$src$core$xml;\nmodule$build$src$core$xml.domToBlock=$.domToBlock$$module$build$src$core$xml;module$build$src$core$xml.domToBlockInternal=domToBlockInternal$$module$build$src$core$xml;module$build$src$core$xml.domToPrettyText=domToPrettyText$$module$build$src$core$xml;module$build$src$core$xml.domToText=domToText$$module$build$src$core$xml;module$build$src$core$xml.domToVariables=domToVariables$$module$build$src$core$xml;module$build$src$core$xml.domToWorkspace=$.domToWorkspace$$module$build$src$core$xml;\nmodule$build$src$core$xml.loadWorkspaceComment=loadWorkspaceComment$$module$build$src$core$xml;module$build$src$core$xml.saveWorkspaceComment=saveWorkspaceComment$$module$build$src$core$xml;module$build$src$core$xml.variablesToDom=variablesToDom$$module$build$src$core$xml;module$build$src$core$xml.workspaceToDom=workspaceToDom$$module$build$src$core$xml;var BlockCreate$$module$build$src$core$events$events_block_create=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_CREATE;a&&(a.isShadow()&&(this.recordUndo=!1),this.xml=blockToDomWithXY$$module$build$src$core$xml(a),this.ids=getDescendantIds$$module$build$src$core$events$utils(a),this.json=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0}))}toJson(){const a=super.toJson();\nif(!this.xml)throw Error(\"The block XML is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(!this.json)throw Error(\"The block JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.ids=this.ids;a.json=this.json;this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,\nb,c){b=super.fromJson(a,b,c!=null?c:new BlockCreate$$module$build$src$core$events$events_block_create);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.ids=a.ids;b.json=a.json;a.recordUndo!==void 0&&(b.recordUndo=a.recordUndo);return b}run(a){const b=this.getEventWorkspace_();if(!this.json)throw Error(\"The block JSON is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");\nif(!allShadowBlocks$$module$build$src$core$events$events_block_create(b,this.ids))if(a)append$$module$build$src$core$serialization$blocks(this.json,b);else for(a=0;a<this.ids.length;a++){const c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn(\"Can't uncreate non-existent block: \"+c)}}},allShadowBlocks$$module$build$src$core$events$events_block_create=function(a,b){return b.map(c=>a.getBlockById(c)).filter(c=>c&&c.isShadow()).length===b.length};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_CREATE,BlockCreate$$module$build$src$core$events$events_block_create);var module$build$src$core$events$events_block_create={};module$build$src$core$events$events_block_create.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;var ThemeChange$$module$build$src$core$events$events_theme_change=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(b);this.type=EventType$$module$build$src$core$events$type.THEME_CHANGE;this.themeName=a}toJson(){const a=super.toJson();if(!this.themeName)throw Error(\"The theme name is undefined. Either pass a theme name to the constructor, or call fromJson\");a.themeName=this.themeName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ThemeChange$$module$build$src$core$events$events_theme_change);\nb.themeName=a.themeName;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.THEME_CHANGE,ThemeChange$$module$build$src$core$events$events_theme_change);var module$build$src$core$events$events_theme_change={};module$build$src$core$events$events_theme_change.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;var ViewportChange$$module$build$src$core$events$events_viewport=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c,d,e){super(d);this.type=EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE;this.viewTop=a;this.viewLeft=b;this.scale=c;this.oldScale=e}toJson(){const a=super.toJson();if(this.viewTop===void 0)throw Error(\"The view top is undefined. Either pass a value to the constructor, or call fromJson\");if(this.viewLeft===void 0)throw Error(\"The view left is undefined. Either pass a value to the constructor, or call fromJson\");\nif(this.scale===void 0)throw Error(\"The scale is undefined. Either pass a value to the constructor, or call fromJson\");if(this.oldScale===void 0)throw Error(\"The old scale is undefined. Either pass a value to the constructor, or call fromJson\");a.viewTop=this.viewTop;a.viewLeft=this.viewLeft;a.scale=this.scale;a.oldScale=this.oldScale;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ViewportChange$$module$build$src$core$events$events_viewport);b.viewTop=a.viewTop;b.viewLeft=a.viewLeft;\nb.scale=a.scale;b.oldScale=a.oldScale;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE,ViewportChange$$module$build$src$core$events$events_viewport);var module$build$src$core$events$events_viewport={};module$build$src$core$events$events_viewport.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;var TEST_ONLY$$module$build$src$core$field_registry={fromJsonInternal:fromJsonInternal$$module$build$src$core$field_registry},module$build$src$core$field_registry={TEST_ONLY:TEST_ONLY$$module$build$src$core$field_registry};module$build$src$core$field_registry.fromJson=$.fromJson$$module$build$src$core$field_registry;module$build$src$core$field_registry.register=register$$module$build$src$core$field_registry;module$build$src$core$field_registry.unregister=unregister$$module$build$src$core$field_registry;var FieldDropdown$$module$build$src$core$field_dropdown=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null;this.SERIALIZABLE=!0;this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(this.setOptions(a),c&&this.configure_(c),b&&this.setValidator(b))}fromXml(a){this.isOptionListDynamic()&&\nthis.getOptions(!1);this.setValue(a.textContent)}loadState(a){this.loadLegacyState(FieldDropdown$$module$build$src$core$field_dropdown,a)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(a))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot();this.createTextElement_();this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{},this.fieldGroup_);this.getConstants().FIELD_DROPDOWN_SVG_ARROW?\nthis.createSVGArrow_():this.createTextArrow_();this.borderRect_&&addClass$$module$build$src$core$utils$dom(this.borderRect_,\"blocklyDropdownRect\");this.fieldGroup_&&(addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyField\"),addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyDropdownField\"))}shouldAddBorderRect_(){let a;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((a=this.getSourceBlock())==\nnull?0:a.isShadow())}createTextArrow_(){this.arrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TSPAN,{},this.textElement_);let a;this.arrow.appendChild(document.createTextNode(((a=this.getSourceBlock())==null?0:a.RTL)?FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR+\" \":\" \"+FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR));this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute(\"dominant-baseline\",\"central\");let b;\n((b=this.getSourceBlock())==null?0:b.RTL)?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+\"px\",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+\"px\"},this.fieldGroup_);this.svgArrow.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.dropdownCreate();this.menu_&&(this.menu_.openingCoords=a&&typeof a.clientX===\"number\"?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):null,clearContent$$module$build$src$core$dropdowndiv(),a=this.menu_.render(getContentDiv$$module$build$src$core$dropdowndiv()),addClass$$module$build$src$core$utils$dom(a,\n\"blocklyDropdownMenu\"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(b=b.getColour(),a=this.sourceBlock_.getColourTertiary(),setColour$$module$build$src$core$dropdowndiv(b,a)),showPositionedByField$$module$build$src$core$dropdowndiv(this,this.dropdownDispose_.bind(this)),getContentDiv$$module$build$src$core$dropdowndiv().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const a=\nthis.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;const b=new Menu$$module$build$src$core$menu;b.setRole(Role$$module$build$src$core$utils$aria.LISTBOX);this.menu_=b;const c=this.getOptions(!1);this.selectedMenuItem=null;for(let e=0;e<c.length;e++){var d=c[e];if(d===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR){b.addChild(new MenuSeparator$$module$build$src$core$menu_separator);continue}const [f,g]=d;isImageProperties$$module$build$src$core$field_dropdown(f)?\n(d=new Image(f.width,f.height),d.src=f.src,d.alt=f.alt):d=f;d=new MenuItem$$module$build$src$core$menuitem(d,g);d.setRole(Role$$module$build$src$core$utils$aria.OPTION);d.setRightToLeft(a.RTL);d.setCheckable(!0);b.addChild(d);d.setChecked(g===this.value_);g===this.value_&&(this.selectedMenuItem=d);d.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose();this.selectedMenuItem=this.menu_=null;this.applyColour()}handleMenuActionEvent(a){hideIfOwner$$module$build$src$core$dropdowndiv(this,\n!0);this.onItemSelected_(this.menu_,a)}onItemSelected_(a,b){this.setValue(b.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_===\"function\"}getOptions(a){if(!this.menuGenerator_)throw TypeError(\"A menu generator was never defined.\");if(Array.isArray(this.menuGenerator_))return this.menuGenerator_;if(a&&this.generatedOptions)return this.generatedOptions;this.generatedOptions=this.menuGenerator_();this.validateOptions(this.generatedOptions);return this.generatedOptions}setOptions(a){Array.isArray(a)?\n(this.validateOptions(a),a=this.trimOptions(a),this.menuGenerator_=a.options,this.prefixField=a.prefix||null,this.suffixField=a.suffix||null):this.menuGenerator_=a;this.selectedOption=this.getOptions(!1)[0];this.setValue(this.selectedOption[1])}doClassValidation_(a){return this.getOptions(!0).some(b=>b[1]===a)?a:(this.sourceBlock_&&console.warn(\"Cannot set the dropdown's value to an unavailable option. Block type: \"+this.sourceBlock_.type+\", Field name: \"+this.name+\", Value: \"+a),null)}doValueUpdate_(a){super.doValueUpdate_(a);\na=this.getOptions(!0);for(let b=0,c;c=a[b];b++)c[1]===this.value_&&(this.selectedOption=c)}applyColour(){const a=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute(\"stroke\",a.getColourTertiary()),this.menu_?this.borderRect_.setAttribute(\"fill\",a.getColourTertiary()):this.borderRect_.setAttribute(\"fill\",\"transparent\"));a&&this.arrow&&(a.isShadow()?this.arrow.style.fill=a.getColourSecondary():this.arrow.style.fill=a.getColour())}render_(){this.getTextContent().nodeValue=\"\";this.imageElement.style.display=\n\"none\";const a=this.selectedOption&&this.selectedOption[0];isImageProperties$$module$build$src$core$field_dropdown(a)?this.renderSelectedImage(a):this.renderSelectedText();this.positionBorderRect_()}renderSelectedImage(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.imageElement.style.display=\"\";this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",a.src);this.imageElement.setAttribute(\"height\",String(a.height));\nthis.imageElement.setAttribute(\"width\",String(a.width));const c=Number(a.height);a=Number(a.width);var d=!!this.borderRect_;const e=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,c+FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_PADDING);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let f;f=this.svgArrow?this.positionSVGArrow(a+d,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):getTextWidth$$module$build$src$core$utils$dom(this.arrow);this.size_=new Size$$module$build$src$core$utils$size(a+\nf+d*2,e);let g=0;b.RTL?this.imageElement.setAttribute(\"x\",`${d+f}`):(g=a+f,this.getTextElement().setAttribute(\"text-anchor\",\"end\"),this.imageElement.setAttribute(\"x\",`${d}`));this.imageElement.setAttribute(\"y\",String(e/2-c/2));this.positionTextElement_(g+d,a+f)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var a=this.getTextElement();addClass$$module$build$src$core$utils$dom(a,\"blocklyDropdownText\");a.setAttribute(\"text-anchor\",\"start\");var b=!!this.borderRect_;a=Math.max(b?\nthis.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const c=getTextWidth$$module$build$src$core$utils$dom(this.getTextElement());b=b?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let d=0;this.svgArrow&&(d=this.positionSVGArrow(c+b,a/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2));this.size_=new Size$$module$build$src$core$utils$size(c+d+b*2,a);this.positionTextElement_(b,c)}positionSVGArrow(a,b){if(!this.svgArrow)return 0;const c=this.getSourceBlock();\nif(!c)throw new UnattachedFieldError$$module$build$src$core$field;const d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,e=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,f=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;this.svgArrow.setAttribute(\"transform\",\"translate(\"+(c.RTL?d:a+e)+\",\"+b+\")\");return f+e}getText_(){if(!this.selectedOption)return null;const a=this.selectedOption[0];if(isImageProperties$$module$build$src$core$field_dropdown(a))return a.alt;if(typeof HTMLElement!==\n\"undefined\"&&a instanceof HTMLElement){let b,c;return(c=(b=a.title)!=null?b:a.ariaLabel)!=null?c:a.innerText}if(typeof a===\"string\")return a;console.warn(\"Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar.\");return null}static fromJson(a){if(!a.options)throw Error(\"options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.\");\nreturn new this(a.options,void 0,a)}trimOptions(a){let b=!1;const c=a.map(g=>{if(g===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR)return b=!0,g;const [h,k]=g;if(typeof h===\"string\")return[replaceMessageReferences$$module$build$src$core$utils$parsing(h),k];b=!0;return[isImageProperties$$module$build$src$core$field_dropdown(h)?Object.assign({},h,{alt:replaceMessageReferences$$module$build$src$core$utils$parsing(h.alt)}):h,k]});if(b||a.length<2)return{options:c};var d=c.map(([g])=>g),\ne=shortestStringLength$$module$build$src$core$utils$string(d);a=commonWordPrefix$$module$build$src$core$utils$string(d,e);const f=commonWordSuffix$$module$build$src$core$utils$string(d,e);if(!a&&!f||e<=a+f)return{options:c};e=a?d[0].substring(0,a-1):void 0;d=f?d[0].substr(1-f):void 0;return{options:this.applyTrim(c,a,f),prefix:e,suffix:d}}applyTrim(a,b,c){return a.map(([d,e])=>[d.substring(b,d.length-c),e])}validateOptions(a){if(!Array.isArray(a))throw TypeError(\"FieldDropdown options must be an array.\");\nif(!a.length)throw TypeError(\"FieldDropdown options must not be an empty array.\");let b=!1;for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)||d===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR?typeof d[1]!==\"string\"?(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option id must be a string.\n          Found ${d[1]} in: ${d}`)):!d[0]||typeof d[0]===\"string\"||isImageProperties$$module$build$src$core$field_dropdown(d[0])||typeof HTMLElement!==\"undefined\"&&d[0]instanceof HTMLElement||(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option must have a string\n          label, image description, or HTML element. Found ${d[0]} in: ${d}`)):(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option must be an array or\n          the string literal 'separator'. Found: ${d}`))}if(b)throw TypeError(\"Found invalid FieldDropdown options.\");}};FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR=\"separator\";FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR=\"\\u25be\";FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_OFFSET=5;FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_PADDING=FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_OFFSET*2;\nregister$$module$build$src$core$field_registry(\"field_dropdown\",FieldDropdown$$module$build$src$core$field_dropdown);var module$build$src$core$field_dropdown={};module$build$src$core$field_dropdown.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;var Theme$$module$build$src$core$theme=class{constructor(a,b,c,d){this.name=a;this.startHats=!1;this.blockStyles=b||Object.create(null);this.categoryStyles=c||Object.create(null);this.componentStyles=d||Object.create(null);this.fontStyle=Object.create(null);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a,this,!0)}getClassName(){return this.name+\"-theme\"}setBlockStyle(a,b){this.blockStyles[a]=b}setCategoryStyle(a,b){this.categoryStyles[a]=b}getComponentStyle(a){a=\nthis.componentStyles[a];if(!a)return null;if(typeof a===\"string\"){const b=this.getComponentStyle(a);if(b)return b}return`${a}`}setComponentStyle(a,b){this.componentStyles[a]=b}setFontStyle(a){this.fontStyle=a}setStartHats(a){this.startHats=a}static defineTheme(a,b){a=a.toLowerCase();const c=new Theme$$module$build$src$core$theme(a);let d=b.base;if(d){if(typeof d===\"string\"){let e;d=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,d))!=null?e:void 0}d instanceof\nTheme$$module$build$src$core$theme&&(deepMerge$$module$build$src$core$utils$object(c,d),c.name=a)}deepMerge$$module$build$src$core$utils$object(c.blockStyles,b.blockStyles);deepMerge$$module$build$src$core$utils$object(c.categoryStyles,b.categoryStyles);deepMerge$$module$build$src$core$utils$object(c.componentStyles,b.componentStyles);deepMerge$$module$build$src$core$utils$object(c.fontStyle,b.fontStyle);b.startHats!==null&&(c.startHats=b.startHats);return c}},module$build$src$core$theme={};\nmodule$build$src$core$theme.Theme=Theme$$module$build$src$core$theme;var defaultBlockStyles$$module$build$src$core$theme$classic={colour_blocks:{colourPrimary:\"20\"},list_blocks:{colourPrimary:\"260\"},logic_blocks:{colourPrimary:\"210\"},loop_blocks:{colourPrimary:\"120\"},math_blocks:{colourPrimary:\"230\"},procedure_blocks:{colourPrimary:\"290\"},text_blocks:{colourPrimary:\"160\"},variable_blocks:{colourPrimary:\"330\"},variable_dynamic_blocks:{colourPrimary:\"310\"},hat_blocks:{colourPrimary:\"330\",hat:\"cap\"}},categoryStyles$$module$build$src$core$theme$classic={colour_category:{colour:\"20\"},\nlist_category:{colour:\"260\"},logic_category:{colour:\"210\"},loop_category:{colour:\"120\"},math_category:{colour:\"230\"},procedure_category:{colour:\"290\"},text_category:{colour:\"160\"},variable_category:{colour:\"330\"},variable_dynamic_category:{colour:\"310\"}},Classic$$module$build$src$core$theme$classic=new Theme$$module$build$src$core$theme(\"classic\",defaultBlockStyles$$module$build$src$core$theme$classic,categoryStyles$$module$build$src$core$theme$classic),module$build$src$core$theme$classic={Classic:Classic$$module$build$src$core$theme$classic};var Options$$module$build$src$core$options=class{constructor(a){this.gridPattern=null;this.getMetrics=this.setMetrics=void 0;let b=null,c=!1;var d=!1,e=!1,f=!1,g=!1,h=!1;const k=!!a.readOnly;if(!k){var l;b=convertToolboxDefToJson$$module$build$src$core$utils$toolbox((l=a.toolbox)!=null?l:null);c=hasCategories$$module$build$src$core$utils$toolbox(b);d=a.trashcan;d=d===void 0?c:d;e=a.collapse;e=e===void 0?c:e;f=a.comments;f=f===void 0?c:f;g=a.disable;g=g===void 0?c:g;h=a.sounds;h=h===void 0?!0:h}l=\na.maxTrashcanContents;d?l===void 0&&(l=32):l=0;const m=!!a.rtl;let n=a.horizontalLayout;n===void 0&&(n=!1);var p=a.toolboxPosition!==\"end\";p=n?p?Position$$module$build$src$core$utils$toolbox.TOP:Position$$module$build$src$core$utils$toolbox.BOTTOM:p===m?Position$$module$build$src$core$utils$toolbox.RIGHT:Position$$module$build$src$core$utils$toolbox.LEFT;let r=a.css;r===void 0&&(r=!0);let q=\"https://blockly-demo.appspot.com/static/media/\";a.media&&(q=a.media.endsWith(\"/\")?a.media:a.media+\"/\");const u=\na.oneBasedIndex,y=a.renderer||\"geras\",z=a.plugins||{};let t=a.modalInputs;t===void 0&&(t=!0);this.RTL=m;this.oneBasedIndex=u===void 0?!0:u;this.collapse=e;this.comments=f;this.disable=g;this.readOnly=k;this.maxBlocks=a.maxBlocks||Infinity;let v;this.maxInstances=(v=a.maxInstances)!=null?v:null;this.modalInputs=t;this.pathToMedia=q;this.hasCategories=c;this.moveOptions=Options$$module$build$src$core$options.parseMoveOptions(a,c);this.hasScrollbars=!!this.moveOptions.scrollbars;this.hasTrashcan=d;this.maxTrashcanContents=\nl;this.hasSounds=h;this.hasCss=r;this.horizontalLayout=n;this.languageTree=b;this.gridOptions=Options$$module$build$src$core$options.parseGridOptions(a);this.zoomOptions=Options$$module$build$src$core$options.parseZoomOptions(a);this.toolboxPosition=p;this.theme=Options$$module$build$src$core$options.parseThemeOptions(a);this.renderer=y;let w;this.rendererOverrides=(w=a.rendererOverrides)!=null?w:null;let x;this.parentWorkspace=(x=a.parentWorkspace)!=null?x:null;this.plugins=z}static parseMoveOptions(a,\nb){const c=a.move||{},d={};c.scrollbars===void 0&&a.scrollbars===void 0?d.scrollbars=b:typeof c.scrollbars===\"object\"?(d.scrollbars={horizontal:!!c.scrollbars.horizontal,vertical:!!c.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!c.scrollbars||!!a.scrollbars;d.wheel=d.scrollbars&&c.wheel!==void 0?!!c.wheel:typeof d.scrollbars===\"object\";d.drag=d.scrollbars?c.drag===void 0?!0:!!c.drag:\n!1;return d}static parseZoomOptions(a){a=a.zoom||{};const b={};b.controls=a.controls===void 0?!1:!!a.controls;b.wheel=a.wheel===void 0?!1:!!a.wheel;b.startScale=a.startScale===void 0?1:Number(a.startScale);b.maxScale=a.maxScale===void 0?3:Number(a.maxScale);b.minScale=a.minScale===void 0?.3:Number(a.minScale);b.scaleSpeed=a.scaleSpeed===void 0?1.2:Number(a.scaleSpeed);b.pinch=a.pinch===void 0?b.wheel||b.controls:!!a.pinch;return b}static parseGridOptions(a){a=a.grid||{};const b={};b.spacing=Number(a.spacing)||\n0;b.colour=a.colour||\"#888\";b.length=a.length===void 0?1:Number(a.length);b.snap=b.spacing>0&&!!a.snap;return b}static parseThemeOptions(a){a=a.theme||Classic$$module$build$src$core$theme$classic;return typeof a===\"string\"?getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a):a instanceof Theme$$module$build$src$core$theme?a:Theme$$module$build$src$core$theme.defineTheme(a.name||\"builtin\"+getNextUniqueId$$module$build$src$core$utils$idgenerator(),a)}},module$build$src$core$options=\n{};module$build$src$core$options.Options=Options$$module$build$src$core$options;var BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy=class{constructor(a,b){this.bubble=a;this.workspace=b;this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY();this.workspace.setResizesEnabled(!1);let a;(a=this.workspace.getLayerManager())==null||a.moveToDragLayer(this.bubble);this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(a){this.bubble.moveDuringDrag(a)}endDrag(){this.workspace.setResizesEnabled(!0);let a;(a=this.workspace.getLayerManager())==\nnull||a.moveOffDragLayer(this.bubble,BUBBLE$$module$build$src$core$layers);this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},module$build$src$core$dragging$bubble_drag_strategy={};module$build$src$core$dragging$bubble_drag_strategy.BubbleDragStrategy=BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy;var _a$$module$build$src$core$bubbles$bubble,Bubble$$module$build$src$core$bubbles$bubble=class{constructor(a,b,c,d,e){this.workspace=a;this.anchor=b;this.ownerRect=c;this.owner=e;this.size=new Size$$module$build$src$core$utils$size(0,0);this.colour=\"#ffffff\";this.disposed=!1;this.relativeLeft=this.relativeTop=0;this.dragStrategy=new BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy(this,this.workspace);this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.svgRoot=\ncreateSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyBubble\"},a.getBubbleCanvas());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyEmboss\"},this.svgRoot);this.tail=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyBubbleTail\"},a);this.background=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":\"blocklyDraggable\",x:0,y:0,rx:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,ry:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);this.contentContainer=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.svgRoot);this.focusableElement=d!=null?d:this.svgRoot;this.focusableElement.setAttribute(\"id\",this.id);conditionalBind$$module$build$src$core$browser_events(this.background,\"pointerdown\",this,this.onMouseDown);conditionalBind$$module$build$src$core$browser_events(this.focusableElement,\n\"keydown\",this,this.onKeyDown)}dispose(){removeNode$$module$build$src$core$utils$dom(this.svgRoot);this.disposed=!0}setAnchorLocation(a,b=!1){this.anchor=a;b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail()}setPositionRelativeToAnchor(a,b){this.relativeLeft=a;this.relativeTop=b;this.positionRelativeToAnchor();this.renderTail()}getSize(){return this.size}setSize(a,b=!1){a.width=Math.max(a.width,_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);a.height=Math.max(a.height,\n_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);this.size=a;this.background.setAttribute(\"width\",`${a.width}`);this.background.setAttribute(\"height\",`${a.height}`);b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail()}getColour(){return this.colour}setColour(a){this.colour=a;this.tail.setAttribute(\"fill\",a);this.background.setAttribute(\"fill\",a)}onMouseDown(a){let b;(b=this.workspace.getGesture(a))==null||b.handleBubbleStart(a,this);$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(a){a.key===\n\"Escape\"&&this.owner&&(this.owner.setBubbleVisible(!1),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let a=this.anchor.x;a=this.workspace.RTL?a-(this.relativeLeft+this.size.width):a+this.relativeLeft;this.moveTo(a,this.relativeTop+this.anchor.y)}moveTo(a,b){this.svgRoot.setAttribute(\"transform\",`translate(${a}, ${b})`)}positionByRect(a=new Rect$$module$build$src$core$utils$rect(0,0,0,0)){var b=this.workspace.getMetricsManager().getViewMetrics(!0),\nc=this.getOptimalRelativeLeft(b),d=this.getOptimalRelativeTop(b);const e={x:c,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.size.width-30,y:d};d={x:a.getWidth(),y:d};var g={x:c,y:a.getHeight()};c=a.getWidth()<a.getHeight()?d:g;a=a.getWidth()<a.getHeight()?g:d;d=this.getOverlap(e,b);g=this.getOverlap(f,b);const h=this.getOverlap(c,b);b=this.getOverlap(a,b);b=Math.max(d,g,h,b);d===b?(this.relativeLeft=e.x,this.relativeTop=e.y):g===b?(this.relativeLeft=\nf.x,this.relativeTop=f.y):h===b?(this.relativeLeft=c.x,this.relativeTop=c.y):(this.relativeLeft=a.x,this.relativeTop=a.y);this.positionRelativeToAnchor()}getOverlap(a,b){var c=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x+this.anchor.x;a=a.y+this.anchor.y;return Math.max(0,Math.min(1,(Math.min(c+this.size.width,b.left+b.width)-Math.max(c,b.left))*(Math.min(a+this.size.height,b.top+b.height)-Math.max(a,b.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(a){let b=-this.size.width/\n4;if(this.size.width>a.width)return b;a=this.getWorkspaceViewRect(a);if(this.workspace.RTL){var c=this.anchor.x-b;c-this.size.width<a.left?b=-(a.left-this.anchor.x+this.size.width):c>a.right&&(b=-(a.right-this.anchor.x))}else{c=b+this.anchor.x;const d=c+this.size.width;c<a.left?b=a.left-this.anchor.x:d>a.right&&(b=a.right-this.anchor.x-this.size.width)}return b}getOptimalRelativeTop(a){let b=-this.size.height/4;if(this.size.height>a.height)return b;const c=this.anchor.y+b,d=c+this.size.height;a=this.getWorkspaceViewRect(a);\nc<a.top?b=a.top-this.anchor.y:d>a.bottom&&(b=a.bottom-this.anchor.y-this.size.height);return b}getWorkspaceViewRect(a){const b=a.top;let c=a.top+a.height,d=a.left;a=a.left+a.width;c-=this.getScrollbarThickness();this.workspace.RTL?d-=this.getScrollbarThickness():a-=this.getScrollbarThickness();return new Rect$$module$build$src$core$utils$rect(b,c,d,a)}getScrollbarThickness(){return Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness/this.workspace.scale}renderTail(){const a=[];var b=this.size.width/\n2,c=this.size.height/2,d=-this.relativeLeft,e=-this.relativeTop;if(b===d&&c===e)a.push(\"M \"+b+\",\"+c);else{e-=c;d-=b;this.workspace.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);e<0&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>Math.PI*2&&(h-=Math.PI*2);var k=Math.sin(h);const m=Math.cos(h);let n=(this.size.width+this.size.height)/_a$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS;n=Math.min(n,this.size.width,this.size.height)/4;h=1-_a$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS/f;d=b+\nh*d;e=c+h*e;h=b+n*m;const p=c+n*k;b-=n*m;c-=n*k;k=toRadians$$module$build$src$core$utils$math(this.workspace.RTL?-_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE:_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE);k=g+k;k>Math.PI*2&&(k-=Math.PI*2);g=Math.sin(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;f=Math.cos(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;a.push(\"M\"+h+\",\"+p);a.push(\"C\"+(h+f)+\",\"+(p+g)+\" \"+d+\",\"+e+\" \"+d+\",\"+e);a.push(\"C\"+d+\",\"+e+\" \"+(b+f)+\",\"+(c+g)+\" \"+\nb+\",\"+c)}a.push(\"z\");let l;(l=this.tail)==null||l.setAttribute(\"d\",a.join(\" \"))}bringToFront(){let a;const b=(a=this.svgRoot)==null?void 0:a.parentNode;return this.svgRoot&&(b==null?void 0:b.lastChild)!==this.svgRoot?(b==null||b.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(a){this.moveTo(a.x,\na.y);this.relativeLeft=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x-this.anchor.x;this.relativeTop=a.y-this.anchor.y;this.renderTail()}setDragging(a){}setDeleteStyle(a){}isDeletable(){return!1}showContextMenu(a){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(a){this.dragStrategy.drag(a)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){fireSelectedEvent$$module$build$src$core$common(this)}unselect(){fireSelectedEvent$$module$build$src$core$common(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();\nthis.bringToFront();var a=this.getRelativeToSurfaceXY();const b=this.getSize();a=new Rect$$module$build$src$core$utils$rect(a.y,a.y+b.height,a.x,a.x+b.width);this.workspace.scrollBoundsIntoView(a)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};_a$$module$build$src$core$bubbles$bubble=Bubble$$module$build$src$core$bubbles$bubble;Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH=6;\nBubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER=_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2;Bubble$$module$build$src$core$bubbles$bubble.MIN_SIZE=_a$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;Bubble$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS=1;Bubble$$module$build$src$core$bubbles$bubble.TAIL_ANGLE=20;Bubble$$module$build$src$core$bubbles$bubble.TAIL_BEND=4;Bubble$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS=8;\nvar module$build$src$core$bubbles$bubble={};module$build$src$core$bubbles$bubble.Bubble=Bubble$$module$build$src$core$bubbles$bubble;var MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(b,c,d);this.workspace=b;this.anchor=c;this.ownerRect=d;this.autoLayout=!0;b=new Options$$module$build$src$core$options(a);this.validateWorkspaceOptions(b);this.svgDialog=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,y:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},\nthis.contentContainer);a.parentWorkspace=this.workspace;this.miniWorkspace=this.newWorkspaceSvg(new Options$$module$build$src$core$options(a));this.miniWorkspace.internalIsMutator=!0;a=this.miniWorkspace.createDom(\"blocklyMutatorBackground\");this.svgDialog.appendChild(a);b.languageTree&&(a.insertBefore(this.miniWorkspace.addFlyout(Svg$$module$build$src$core$utils$svg.G),this.miniWorkspace.getCanvas()),a=this.miniWorkspace.getFlyout(),a==null||a.init(this.miniWorkspace),a==null||a.show(b.languageTree));\naddClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyMiniWorkspaceBubble\");this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let e,f;(e=this.miniWorkspace.getFlyout())==null||(f=e.getWorkspace())==null||f.addChangeListener(this.onWorkspaceChange.bind(this));this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose();super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(a){this.miniWorkspace.addChangeListener(a)}validateWorkspaceOptions(a){if(a.hasCategories)throw Error(\"The miniworkspace bubble does not support toolboxes with categories\");\nif(a.hasTrashcan)throw Error(\"The miniworkspace bubble does not support trashcans\");if(a.zoomOptions.controls||a.zoomOptions.wheel||a.zoomOptions.pinch)throw Error(\"The miniworkspace bubble does not support zooming\");if(a.moveOptions.scrollbars||a.moveOptions.wheel||a.moveOptions.drag)throw Error(\"The miniworkspace bubble does not scrolling/moving the workspace\");if(a.horizontalLayout)throw Error(\"The miniworkspace bubble does not support horizontal layouts\");}onWorkspaceChange(){this.bumpBlocksIntoBounds();\nthis.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const a of this.miniWorkspace.getTopBlocks(!1)){const b=a.getRelativeToSurfaceXY();b.y<20&&a.moveBy(0,20-b.y);if(a.RTL){let c=-20;const d=this.miniWorkspace.getFlyout();d&&(c-=d.getWidth());b.x>c&&a.moveBy(c-b.x,0)}else b.x<20&&a.moveBy(20-b.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=\n!this.miniWorkspace.keyboardMoveInProgress);var a=this.getSize(),b=this.calculateWorkspaceSize();Math.abs(a.width-b.width)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE&&Math.abs(a.height-b.height)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute(\"width\",`${b.width}px`),this.svgDialog.setAttribute(\"height\",`${b.height}px`),this.miniWorkspace.setCachedParentSvgSize(b.width,b.height),\nthis.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute(\"transform\",`translate(${b.width}, 0)`),this.setSize(new Size$$module$build$src$core$utils$size(b.width+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,b.height+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var a=this.miniWorkspace.getCanvas().getBBox();let b=a.width+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;\na=a.height+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;const c=this.miniWorkspace.getFlyout();if(c){const d=c.getWorkspace().getMetricsManager().getScrollMetrics();a=Math.max(a,d.height+20);b+=c.getWidth()}return new Size$$module$build$src$core$utils$size(b,a)}updateBlockStyles(){for(var a of this.miniWorkspace.getAllBlocks(!1))a.setStyle(a.getStyleName());let b;if(a=(b=this.miniWorkspace.getFlyout())==null?void 0:b.getWorkspace())for(const c of a.getAllBlocks(!1))c.setStyle(c.getStyleName())}moveDuringDrag(a){super.moveDuringDrag(a);\nthis.autoLayout=!1}moveTo(a,b){super.moveTo(a,b);this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(a){throw Error(\"The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts\");}};MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE=10;MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN=Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER*3;var module$build$src$core$bubbles$mini_workspace_bubble={};\nmodule$build$src$core$bubbles$mini_workspace_bubble.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;var Icon$$module$build$src$core$icons$icon=class{constructor(a){this.sourceBlock=a;this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.workspaceLocation=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.svgRoot=null;this.tooltip=a;this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator()}getType(){throw Error(\"Icons must implement getType\");}initView(a){if(!this.svgRoot){var b=this.sourceBlock;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyIconGroup\",id:this.id});b.getSvgRoot().appendChild(this.svgRoot);this.updateSvgRootOffset();conditionalBind$$module$build$src$core$browser_events(this.svgRoot,\"pointerdown\",this,a);this.svgRoot.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(this.svgRoot)}}dispose(){unbindMouseEvents$$module$build$src$core$tooltip(this.svgRoot);removeNode$$module$build$src$core$utils$dom(this.svgRoot)}getWeight(){return-1}getSize(){return new Size$$module$build$src$core$utils$size(0,0)}setTooltip(a){this.tooltip=\na!=null?a:this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display=\"none\":this.svgRoot.style.display=\"block\",hasBubble$$module$build$src$core$interfaces$i_has_bubble(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display=\"none\")}isShownWhenCollapsed(){return!1}setOffsetInBlock(a){this.offsetInBlock=a;this.updateSvgRootOffset()}updateSvgRootOffset(){let a;\n(a=this.svgRoot)==null||a.setAttribute(\"transform\",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(a){this.workspaceLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.offsetInBlock)}onClick(){}isClickableInFlyout(a){return!0}getFocusableElement(){const a=this.svgRoot;if(!a)throw Error(\"Attempting to focus uninitialized icon.\");return a}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var a=this.sourceBlock.getBoundingRectangle();\na=new Rect$$module$build$src$core$utils$rect(a.top+this.offsetInBlock.y,a.top+this.offsetInBlock.y+this.getSize().height,a.left+this.offsetInBlock.x,a.left+this.offsetInBlock.x+this.getSize().width);this.sourceBlock.workspace.scrollBoundsIntoView(a)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},module$build$src$core$icons$icon={};module$build$src$core$icons$icon.Icon=Icon$$module$build$src$core$icons$icon;var SIZE$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon;SIZE$$module$build$src$core$icons$mutator_icon=17;WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon=16;\n$.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a,b){super(b);this.flyoutBlockTypes=a;this.sourceBlock=b;this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconShape\",\nrx:\"4\",ry:\"4\",height:\"16\",width:\"16\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{\"class\":\"blocklyIconShape\",r:\"2.7\",cx:\"8\",cy:\"8\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyMutatorIcon\"))}dispose(){super.dispose();let a;(a=this.miniWorkspaceBubble)==null||a.dispose()}getWeight(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$mutator_icon,\nSIZE$$module$build$src$core$icons$mutator_icon)}applyColour(){super.applyColour();let a;(a=this.miniWorkspaceBubble)==null||a.setColour(this.sourceBlock.getColour());let b;(b=this.miniWorkspaceBubble)==null||b.updateBlockStyles()}updateCollapsed(){super.updateCollapsed();this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(a){super.onLocationChange(a);let b;(b=this.miniWorkspaceBubble)==null||b.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick();this.sourceBlock.isEditable()&&\nthis.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){if(b.bubbleIsVisible()!==a){yield finishQueuedRenders$$module$build$src$core$render_management();if(a){b.miniWorkspaceBubble=new MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble(b.getMiniWorkspaceConfig(),b.sourceBlock.workspace,b.getAnchorLocation(),\nb.getBubbleOwnerRect());b.applyColour();b.createRootBlock();b.addSaveConnectionsListener();let c;(c=b.miniWorkspaceBubble)==null||c.addWorkspaceChangeListener(b.createMiniWorkspaceChangeListener())}else{let c;(c=b.miniWorkspaceBubble)==null||c.dispose();b.miniWorkspaceBubble=null;b.saveConnectionsListener&&b.sourceBlock.workspace.removeChangeListener(b.saveConnectionsListener);b.saveConnectionsListener=null}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,\na,\"mutator\"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let a;const b={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(a=this.sourceBlock.workspace.options.rendererOverrides)!=null?a:void 0};this.flyoutBlockTypes.length&&(b.toolbox={kind:\"flyoutToolbox\",contents:this.flyoutBlockTypes.map(c=>({kind:\"block\",type:c}))});return b}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$mutator_icon/\n2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){const a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error(\"Blocks with mutator icons must include a decompose method\");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());\nfor(var a of this.rootBlock.getDescendants(!1))a.queueRender();this.rootBlock.setMovable(!1);this.rootBlock.setDeletable(!1);let b,c,d,e;a=(e=(b=this.miniWorkspaceBubble)==null?void 0:(c=b.getWorkspace())==null?void 0:(d=c.getFlyout())==null?void 0:d.getWidth())!=null?e:0;this.rootBlock.moveBy(this.rootBlock.RTL?-(a+WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon):WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&\nthis.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return a=>{$.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(a)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null;this.recomposeSourceBlock()},\n0))}}static isIgnorableMutatorEvent(a){return a.isUiEvent||isBlockCreate$$module$build$src$core$events$predicates(a)||isBlockChange$$module$build$src$core$events$predicates(a)&&a.element===\"disabled\"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error(\"Blocks with mutator icons must include a compose method\");var a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);\nthis.sourceBlock.compose(this.rootBlock);var c=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);b!==c&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\"mutation\",null,b,c));$.setGroup$$module$build$src$core$events$utils(a)}}getWorkspace(){let a;return(a=this.miniWorkspaceBubble)==null?void 0:a.getWorkspace()}};\n$.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.MUTATOR;$.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1;var module$build$src$core$icons$mutator_icon={};module$build$src$core$icons$mutator_icon.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;var allExtensions$$module$build$src$core$extensions=Object.create(null),TEST_ONLY$$module$build$src$core$extensions={allExtensions:allExtensions$$module$build$src$core$extensions};$.register$$module$build$src$core$extensions(\"parent_tooltip_when_inline\",extensionParentTooltip$$module$build$src$core$extensions);var module$build$src$core$extensions={TEST_ONLY:TEST_ONLY$$module$build$src$core$extensions};module$build$src$core$extensions.apply=apply$$module$build$src$core$extensions;\nmodule$build$src$core$extensions.buildTooltipForDropdown=$.buildTooltipForDropdown$$module$build$src$core$extensions;module$build$src$core$extensions.buildTooltipWithFieldText=$.buildTooltipWithFieldText$$module$build$src$core$extensions;module$build$src$core$extensions.isRegistered=isRegistered$$module$build$src$core$extensions;module$build$src$core$extensions.register=$.register$$module$build$src$core$extensions;module$build$src$core$extensions.registerMixin=$.registerMixin$$module$build$src$core$extensions;\nmodule$build$src$core$extensions.registerMutator=$.registerMutator$$module$build$src$core$extensions;module$build$src$core$extensions.runAfterPageLoad=runAfterPageLoad$$module$build$src$core$extensions;module$build$src$core$extensions.unregister=unregister$$module$build$src$core$extensions;var KeyCodes$$module$build$src$core$utils$keycodes;\n(function(a){a[a.WIN_KEY_FF_LINUX=0]=\"WIN_KEY_FF_LINUX\";a[a.MAC_ENTER=3]=\"MAC_ENTER\";a[a.BACKSPACE=8]=\"BACKSPACE\";a[a.TAB=9]=\"TAB\";a[a.NUM_CENTER=12]=\"NUM_CENTER\";a[a.ENTER=13]=\"ENTER\";a[a.SHIFT=16]=\"SHIFT\";a[a.CTRL=17]=\"CTRL\";a[a.ALT=18]=\"ALT\";a[a.PAUSE=19]=\"PAUSE\";a[a.CAPS_LOCK=20]=\"CAPS_LOCK\";a[a.ESC=27]=\"ESC\";a[a.SPACE=32]=\"SPACE\";a[a.PAGE_UP=33]=\"PAGE_UP\";a[a.PAGE_DOWN=34]=\"PAGE_DOWN\";a[a.END=35]=\"END\";a[a.HOME=36]=\"HOME\";a[a.LEFT=37]=\"LEFT\";a[a.UP=38]=\"UP\";a[a.RIGHT=39]=\"RIGHT\";a[a.DOWN=40]=\n\"DOWN\";a[a.PLUS_SIGN=43]=\"PLUS_SIGN\";a[a.PRINT_SCREEN=44]=\"PRINT_SCREEN\";a[a.INSERT=45]=\"INSERT\";a[a.DELETE=46]=\"DELETE\";a[a.ZERO=48]=\"ZERO\";a[a.ONE=49]=\"ONE\";a[a.TWO=50]=\"TWO\";a[a.THREE=51]=\"THREE\";a[a.FOUR=52]=\"FOUR\";a[a.FIVE=53]=\"FIVE\";a[a.SIX=54]=\"SIX\";a[a.SEVEN=55]=\"SEVEN\";a[a.EIGHT=56]=\"EIGHT\";a[a.NINE=57]=\"NINE\";a[a.FF_SEMICOLON=59]=\"FF_SEMICOLON\";a[a.FF_EQUALS=61]=\"FF_EQUALS\";a[a.FF_DASH=173]=\"FF_DASH\";a[a.FF_HASH=163]=\"FF_HASH\";a[a.QUESTION_MARK=63]=\"QUESTION_MARK\";a[a.AT_SIGN=64]=\"AT_SIGN\";\na[a.A=65]=\"A\";a[a.B=66]=\"B\";a[a.C=67]=\"C\";a[a.D=68]=\"D\";a[a.E=69]=\"E\";a[a.F=70]=\"F\";a[a.G=71]=\"G\";a[a.H=72]=\"H\";a[a.I=73]=\"I\";a[a.J=74]=\"J\";a[a.K=75]=\"K\";a[a.L=76]=\"L\";a[a.M=77]=\"M\";a[a.N=78]=\"N\";a[a.O=79]=\"O\";a[a.P=80]=\"P\";a[a.Q=81]=\"Q\";a[a.R=82]=\"R\";a[a.S=83]=\"S\";a[a.T=84]=\"T\";a[a.U=85]=\"U\";a[a.V=86]=\"V\";a[a.W=87]=\"W\";a[a.X=88]=\"X\";a[a.Y=89]=\"Y\";a[a.Z=90]=\"Z\";a[a.META=91]=\"META\";a[a.WIN_KEY_RIGHT=92]=\"WIN_KEY_RIGHT\";a[a.CONTEXT_MENU=93]=\"CONTEXT_MENU\";a[a.NUM_ZERO=96]=\"NUM_ZERO\";a[a.NUM_ONE=97]=\n\"NUM_ONE\";a[a.NUM_TWO=98]=\"NUM_TWO\";a[a.NUM_THREE=99]=\"NUM_THREE\";a[a.NUM_FOUR=100]=\"NUM_FOUR\";a[a.NUM_FIVE=101]=\"NUM_FIVE\";a[a.NUM_SIX=102]=\"NUM_SIX\";a[a.NUM_SEVEN=103]=\"NUM_SEVEN\";a[a.NUM_EIGHT=104]=\"NUM_EIGHT\";a[a.NUM_NINE=105]=\"NUM_NINE\";a[a.NUM_MULTIPLY=106]=\"NUM_MULTIPLY\";a[a.NUM_PLUS=107]=\"NUM_PLUS\";a[a.NUM_MINUS=109]=\"NUM_MINUS\";a[a.NUM_PERIOD=110]=\"NUM_PERIOD\";a[a.NUM_DIVISION=111]=\"NUM_DIVISION\";a[a.F1=112]=\"F1\";a[a.F2=113]=\"F2\";a[a.F3=114]=\"F3\";a[a.F4=115]=\"F4\";a[a.F5=116]=\"F5\";a[a.F6=\n117]=\"F6\";a[a.F7=118]=\"F7\";a[a.F8=119]=\"F8\";a[a.F9=120]=\"F9\";a[a.F10=121]=\"F10\";a[a.F11=122]=\"F11\";a[a.F12=123]=\"F12\";a[a.NUMLOCK=144]=\"NUMLOCK\";a[a.SCROLL_LOCK=145]=\"SCROLL_LOCK\";a[a.FIRST_MEDIA_KEY=166]=\"FIRST_MEDIA_KEY\";a[a.LAST_MEDIA_KEY=183]=\"LAST_MEDIA_KEY\";a[a.SEMICOLON=186]=\"SEMICOLON\";a[a.DASH=189]=\"DASH\";a[a.EQUALS=187]=\"EQUALS\";a[a.COMMA=188]=\"COMMA\";a[a.PERIOD=190]=\"PERIOD\";a[a.SLASH=191]=\"SLASH\";a[a.APOSTROPHE=192]=\"APOSTROPHE\";a[a.TILDE=192]=\"TILDE\";a[a.SINGLE_QUOTE=222]=\"SINGLE_QUOTE\";\na[a.OPEN_SQUARE_BRACKET=219]=\"OPEN_SQUARE_BRACKET\";a[a.BACKSLASH=220]=\"BACKSLASH\";a[a.CLOSE_SQUARE_BRACKET=221]=\"CLOSE_SQUARE_BRACKET\";a[a.WIN_KEY=224]=\"WIN_KEY\";a[a.MAC_FF_META=224]=\"MAC_FF_META\";a[a.MAC_WK_CMD_LEFT=91]=\"MAC_WK_CMD_LEFT\";a[a.MAC_WK_CMD_RIGHT=93]=\"MAC_WK_CMD_RIGHT\";a[a.WIN_IME=229]=\"WIN_IME\";a[a.VK_NONAME=252]=\"VK_NONAME\";a[a.PHANTOM=255]=\"PHANTOM\"})(KeyCodes$$module$build$src$core$utils$keycodes||(KeyCodes$$module$build$src$core$utils$keycodes={}));\nvar module$build$src$core$utils$keycodes={};module$build$src$core$utils$keycodes.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;var module$build$src$core$utils$svg_paths={};module$build$src$core$utils$svg_paths.arc=arc$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.curve=curve$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.line=line$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineOnAxis=lineOnAxis$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineTo=lineTo$$module$build$src$core$utils$svg_paths;\nmodule$build$src$core$utils$svg_paths.moveBy=moveBy$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.moveTo=moveTo$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.point=point$$module$build$src$core$utils$svg_paths;var module$build$src$core$utils={};module$build$src$core$utils.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;module$build$src$core$utils.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;module$build$src$core$utils.Rect=Rect$$module$build$src$core$utils$rect;module$build$src$core$utils.Size=Size$$module$build$src$core$utils$size;module$build$src$core$utils.Svg=Svg$$module$build$src$core$utils$svg;module$build$src$core$utils.aria=module$build$src$core$utils$aria;\nmodule$build$src$core$utils.array=module$build$src$core$utils$array;module$build$src$core$utils.browserEvents=module$build$src$core$browser_events;module$build$src$core$utils.colour=module$build$src$core$utils$colour;module$build$src$core$utils.deprecation=module$build$src$core$utils$deprecation;module$build$src$core$utils.dom=module$build$src$core$utils$dom;module$build$src$core$utils.extensions=module$build$src$core$extensions;module$build$src$core$utils.idGenerator=module$build$src$core$utils$idgenerator;\nmodule$build$src$core$utils.math=module$build$src$core$utils$math;module$build$src$core$utils.object=module$build$src$core$utils$object;module$build$src$core$utils.parsing=module$build$src$core$utils$parsing;module$build$src$core$utils.string=module$build$src$core$utils$string;module$build$src$core$utils.style=module$build$src$core$utils$style;module$build$src$core$utils.svgMath=module$build$src$core$utils$svg_math;module$build$src$core$utils.svgPaths=module$build$src$core$utils$svg_paths;\nmodule$build$src$core$utils.toolbox=module$build$src$core$utils$toolbox;module$build$src$core$utils.userAgent=module$build$src$core$utils$useragent;module$build$src$core$utils.xml=module$build$src$core$utils$xml;var TextInputBubble$$module$build$src$core$bubbles$textinput_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(a,b,c,void 0,d);this.workspace=a;this.anchor=b;this.ownerRect=c;this.owner=d;this.resizePointerMoveListener=this.resizePointerUpListener=null;this.sizeChangeListeners=[];this.locationChangeListeners=[];this.DEFAULT_SIZE=new Size$$module$build$src$core$utils$size(160+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,80+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);\nthis.MIN_SIZE=new Size$$module$build$src$core$utils$size(45+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,20+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);this.editable=!0;addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyTextInputBubble\");this.editor=new CommentEditor$$module$build$src$core$comments$comment_editor(a,this.id,()=>{$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)});this.contentContainer.appendChild(this.editor.getDom());\nthis.resizeGroup=this.createResizeHandle(this.svgRoot,a);this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(a){this.editor.setText(a)}setEditable(a){this.editable=a;this.editor.setEditable(a)}isEditable(){return this.editable}addTextChangeListener(a){this.editor.addTextChangeListener(a)}addSizeChangeListener(a){this.sizeChangeListeners.push(a)}addLocationChangeListener(a){this.locationChangeListeners.push(a)}createResizeHandle(a,b){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,\n{\"class\":\"blocklyResizeHandle\",href:`${b.options.pathToMedia}resize-handle.svg`},a);conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onResizePointerDown);return a}setSize(a,b=!1){a.width=Math.max(a.width,this.MIN_SIZE.width);a.height=Math.max(a.height,this.MIN_SIZE.height);const c=a.width-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,d=a.height-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;this.editor.updateSize(new Size$$module$build$src$core$utils$size(c,\nd),new Size$$module$build$src$core$utils$size(0,0));this.editor.getDom().setAttribute(\"x\",`${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER/2}`);this.editor.getDom().setAttribute(\"y\",`${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER/2}`);this.resizeGroup.setAttribute(\"y\",`${d}`);this.workspace.RTL?this.resizeGroup.setAttribute(\"x\",`${-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER}`):this.resizeGroup.setAttribute(\"x\",`${c}`);super.setSize(a,b);this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(a){super.moveDuringDrag(a);\nthis.onLocationChange()}setPositionRelativeToAnchor(a,b){super.setPositionRelativeToAnchor(a,b);this.onLocationChange()}positionByRect(a=new Rect$$module$build$src$core$utils$rect(0,0,0,0)){super.positionByRect(a);this.onLocationChange()}onResizePointerDown(a){this.bringToFront();isRightButton$$module$build$src$core$browser_events(a)||(start$$module$build$src$core$utils$drag(this.workspace,a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,\nthis.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",this,this.onResizePointerMove),this.workspace.hideChaff());a.stopPropagation()}onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),\nthis.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(a){a=move$$module$build$src$core$utils$drag(this.workspace,a);this.setSize(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y),!1);this.onSizeChange()}onSizeChange(){for(const a of this.sizeChangeListeners)a()}onLocationChange(){for(const a of this.locationChangeListeners)a()}getEditor(){return this.editor}};\nregister$$module$build$src$core$css(\"\\n.blocklyTextInputBubble .blocklyTextarea {\\n  background-color: var(--commentFillColour);\\n  border: 0;\\n  box-sizing: border-box;\\n  display: block;\\n  outline: 0;\\n  padding: 5px;\\n  resize: none;\\n  width: 100%;\\n  height: 100%;\\n}\\n\");var module$build$src$core$bubbles$textinput_bubble={};module$build$src$core$bubbles$textinput_bubble.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var ConnectionType$$module$build$src$core$connection_type;(function(a){a[a.INPUT_VALUE=1]=\"INPUT_VALUE\";a[a.OUTPUT_VALUE=2]=\"OUTPUT_VALUE\";a[a.NEXT_STATEMENT=3]=\"NEXT_STATEMENT\";a[a.PREVIOUS_STATEMENT=4]=\"PREVIOUS_STATEMENT\"})(ConnectionType$$module$build$src$core$connection_type||(ConnectionType$$module$build$src$core$connection_type={}));var module$build$src$core$connection_type={};module$build$src$core$connection_type.ConnectionType=ConnectionType$$module$build$src$core$connection_type;var ConnectionDB$$module$build$src$core$connection_db=class{constructor(a){this.connectionChecker=a;this.connections=[]}addConnection(a,b){b=this.calculateIndexForYPos(b);this.connections.splice(b,0,a)}findIndexOfConnection(a,b){if(!this.connections.length)return-1;const c=this.calculateIndexForYPos(b);if(c>=this.connections.length)return-1;b=a.y;let d=c;for(;d>=0&&this.connections[d].y===b;){if(this.connections[d]===a)return d;d--}for(d=c;d<this.connections.length&&this.connections[d].y===b;){if(this.connections[d]===\na)return d;d++}return-1}calculateIndexForYPos(a){if(!this.connections.length)return 0;let b=0,c=this.connections.length;for(;b<c;){const d=Math.floor((b+c)/2);if(this.connections[d].y<a)b=d+1;else if(this.connections[d].y>a)c=d;else{b=d;break}}return b}removeConnection(a,b){a=this.findIndexOfConnection(a,b);if(a===-1)throw Error(\"Unable to find connection in connectionDB.\");this.connections.splice(a,1)}getNeighbours(a,b){function c(l){const m=e-d[l].x,n=f-d[l].y;Math.sqrt(m*m+n*n)<=b&&k.push(d[l]);\nreturn n<b}const d=this.connections,e=a.x,f=a.y;a=0;let g=d.length-2,h=g;for(;a<h;)d[h].y<f?a=h:g=h,h=Math.floor((a+g)/2);const k=[];g=a=h;if(d.length){for(;a>=0&&c(a);)a--;do g++;while(g<d.length&&c(g))}return k}isInYRange(a,b,c){return Math.abs(this.connections[a].y-b)<=c}searchForClosest(a,b,c){if(!this.connections.length)return{connection:null,radius:b};const d=a.y,e=a.x;a.x=e+c.x;a.y=d+c.y;var f=this.calculateIndexForYPos(a.y);c=null;let g=b,h,k=f-1;for(;k>=0&&this.isInYRange(k,a.y,b);)h=this.connections[k],\nthis.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.connections.length&&this.isInYRange(f,a.y,b);)h=this.connections[f],this.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),f++;a.x=e;a.y=d;return{connection:c,radius:g}}static init(a){const b=[];b[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);\nb[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);return b}},module$build$src$core$connection_db={};module$build$src$core$connection_db.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;var Selected$$module$build$src$core$events$events_selected=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(c);this.type=EventType$$module$build$src$core$events$type.SELECTED;this.oldElementId=a!=null?a:void 0;this.newElementId=b!=null?b:void 0}toJson(){const a=super.toJson();a.oldElementId=this.oldElementId;a.newElementId=this.newElementId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new Selected$$module$build$src$core$events$events_selected);\nb.oldElementId=a.oldElementId;b.newElementId=a.newElementId;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.SELECTED,Selected$$module$build$src$core$events$events_selected);var module$build$src$core$events$events_selected={};module$build$src$core$events$events_selected.Selected=Selected$$module$build$src$core$events$events_selected;var BlockDelete$$module$build$src$core$events$events_block_delete=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_DELETE;if(a){if(a.getParent())throw Error(\"Connected blocks cannot be deleted.\");a.isShadow()&&(this.recordUndo=!1);this.oldXml=blockToDomWithXY$$module$build$src$core$xml(a);this.ids=getDescendantIds$$module$build$src$core$events$utils(a);this.wasShadow=a.isShadow();this.oldJson=\nsave$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0})}}toJson(){const a=super.toJson();if(!this.oldXml)throw Error(\"The old block XML is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(this.wasShadow===void 0)throw Error(\"Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.oldJson)throw Error(\"The old block JSON is undefined. Either pass a block to the constructor, or call fromJson\");\na.oldXml=domToText$$module$build$src$core$xml(this.oldXml);a.ids=this.ids;a.wasShadow=this.wasShadow;a.oldJson=this.oldJson;this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockDelete$$module$build$src$core$events$events_block_delete);b.oldXml=$.textToDom$$module$build$src$core$utils$xml(a.oldXml);b.ids=a.ids;b.wasShadow=a.wasShadow||b.oldXml.tagName.toLowerCase()===\"shadow\";b.oldJson=a.oldJson;a.recordUndo!==void 0&&(b.recordUndo=\na.recordUndo);return b}run(a){const b=this.getEventWorkspace_();if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(!this.oldJson)throw Error(\"The old block JSON is undefined. Either pass a block to the constructor, or call fromJson\");if(a)for(a=0;a<this.ids.length;a++){const c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn(\"Can't delete non-existent block: \"+c)}else append$$module$build$src$core$serialization$blocks(this.oldJson,\nb)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_DELETE,BlockDelete$$module$build$src$core$events$events_block_delete);var module$build$src$core$events$events_block_delete={};module$build$src$core$events$events_block_delete.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;var Connection$$module$build$src$core$connection=class{constructor(a,b){this.type=b;this.targetConnection=null;this.disposed=!1;this.shadowDom=this.check=null;this.y=this.x=0;this.shadowState=null;this.sourceBlock_=a;if(a.id.includes(\"_connection\"))throw Error(\"Connection ID indicator is contained in block ID. This will cause \"+`problems with focus: ${a.id}.`);this.id=`${a.id}_connection_${getNextUniqueId$$module$build$src$core$utils$idgenerator()}`}connect_(a){const b=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,\nc=this.getSourceBlock();var d=a.getSourceBlock();a.isConnected()&&a.disconnectInternal(!1);let e;if(this.isConnected()){const g=this.stashShadowState(),h=this.targetBlock();h.isShadow()?h.dispose(!1):(this.disconnectInternal(),e=h);this.applyShadowState(g)}let f;isEnabled$$module$build$src$core$events$utils()&&(f=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(d),f.setReason([\"connect\"]));connectReciprocally$$module$build$src$core$connection(this,\na);d.setParent(c);f&&(f.recordNew(),fire$$module$build$src$core$events$utils(f));if(e&&(a=this.type===b?e.outputConnection:e.previousConnection))if(d=Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(d,a))a.connect(d);else a.onFailedConnect(this)}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const a=this.targetBlock();a&&!a.isDeadOrDying()&&a.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===\nConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(a){}connect(a){if(this.targetConnection===a)return!0;if(this.getConnectionChecker().canConnect(this,a,!1)){const b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);\nthis.isSuperior()?this.connect_(a):a.connect_(this);$.setGroup$$module$build$src$core$events$utils(b)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(a=!0){const {parentConnection:b,childConnection:c}=this.getParentAndChildConnections();if(!b||!c)throw Error(\"Source connection not connected.\");const d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);let e;isEnabled$$module$build$src$core$events$utils()&&(e=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(c.getSourceBlock()),\ne.setReason([\"disconnect\"]));const f=this.targetConnection;f&&(f.targetConnection=null);this.targetConnection=null;a&&c.getSourceBlock().setParent(null);e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));c.getSourceBlock().isShadow()||b.respawnShadow_();$.setGroup$$module$build$src$core$events$utils(d)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:\n{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(a,b){if(this.getSourceBlock().isDeadOrDying())return!1;var c;b=(c=a.getInput(b))==null?void 0:c.connection;c=this.targetBlock();return c&&c!==a||!b||b.targetConnection===this?!1:(b.isConnected()&&b.disconnect(),b.connect(this),!0)}targetBlock(){if(this.isConnected()){let a,b;return(b=(a=this.targetConnection)==null?void 0:a.getSourceBlock())!=null?b:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,\nthis.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(a){a?(Array.isArray(a)||(a=[a]),this.check=a,this.onCheckChanged_()):this.check=null;return this}getCheck(){return this.check}setShadowDom(a){this.setShadowStateInternal({shadowDom:a})}getShadowDom(a){return a&&this.targetBlock().isShadow()?blockToDom$$module$build$src$core$xml(this.targetBlock()):this.shadowDom}setShadowState(a){this.setShadowStateInternal({shadowState:a})}getShadowState(a){return a&&\nthis.targetBlock()&&this.targetBlock().isShadow()?save$$module$build$src$core$serialization$blocks(this.targetBlock()):this.shadowState}neighbours(a){return[]}getParentInput(){let a=null;const b=this.sourceBlock_.inputList;for(let c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a}toString(){const a=this.sourceBlock_;if(!a)return\"Orphan Connection\";if(a.outputConnection===this)var b=\"Output Connection of \";else if(a.previousConnection===this)b=\"Previous Connection of \";else if(a.nextConnection===\nthis)b=\"Next Connection of \";else{b=null;for(let c=0,d;d=a.inputList[c];c++)if(d.connection===this){b=d;break}if(b)b='Input \"'+b.name+'\" connection on ';else return console.warn(\"Connection not actually connected to sourceBlock_\"),\"Orphan Connection\"}return b+a.toDevString()}stashShadowState(){const a=this.getShadowDom(!0),b=this.getShadowState(!0);this.shadowState=this.shadowDom=null;return{shadowDom:a,shadowState:b}}applyShadowState({shadowDom:a,shadowState:b}){this.shadowDom=a;this.shadowState=\nb}setShadowStateInternal({shadowDom:a=null,shadowState:b=null}={}){this.shadowDom=a;this.shadowState=b;this.getSourceBlock().isDeadOrDying()||((a=this.targetBlock())?a.isShadow()?(a.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(a=this.createShadowBlock(!1),this.serializeShadow(a),a&&a.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(a){var b=\nthis.getSourceBlock();const c=this.getShadowState(),d=this.getShadowDom();if(b.isDeadOrDying()||!c&&!d)return null;if(c)return b=appendInternal$$module$build$src$core$serialization$blocks(c,b.workspace,{parentConnection:a?this:void 0,isShadow:!0,recordUndo:!1});if(d){b=domToBlockInternal$$module$build$src$core$xml(d,b.workspace);if(a)if(this.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){if(!b.outputConnection)throw Error(\"Shadow block is missing an output connection\");\nif(!this.connect(b.outputConnection))throw Error(\"Could not connect shadow block to connection\");}else if(this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){if(!b.previousConnection)throw Error(\"Shadow block is missing previous connection\");if(!this.connect(b.previousConnection))throw Error(\"Could not connect shadow block to connection\");}else throw Error(\"Cannot connect a shadow block to a previous/output connection\");return b}return null}serializeShadow(a){a&&(this.shadowDom=\nblockToDom$$module$build$src$core$xml(a),this.shadowState=save$$module$build$src$core$serialization$blocks(a))}static getConnectionForOrphanedConnection(a,b){if(b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)return getConnectionForOrphanedOutput$$module$build$src$core$connection(a,b.getSourceBlock());a=a.lastConnectionInStack(!0);const c=b.getConnectionChecker();return a&&c.canConnect(b,a,!1)?a:null}};Connection$$module$build$src$core$connection.CAN_CONNECT=0;\nConnection$$module$build$src$core$connection.REASON_SELF_CONNECTION=1;Connection$$module$build$src$core$connection.REASON_WRONG_TYPE=2;Connection$$module$build$src$core$connection.REASON_TARGET_NULL=3;Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED=4;Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES=5;Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT=6;Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED=7;\nConnection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT=8;var module$build$src$core$connection={};module$build$src$core$connection.Connection=Connection$$module$build$src$core$connection;var DuplicateIconType$$module$build$src$core$icons$exceptions=class extends Error{constructor(a){super(`Tried to append an icon of type ${a.getType()} when an icon of `+\"that type already exists on the block. Use getIcon to access the existing icon.\");this.icon=a}},module$build$src$core$icons$exceptions={};module$build$src$core$icons$exceptions.DuplicateIconType=DuplicateIconType$$module$build$src$core$icons$exceptions;(function(a){a[a.LEFT=-1]=\"LEFT\";a[a.CENTRE=0]=\"CENTRE\";a[a.RIGHT=1]=\"RIGHT\"})($.Align$$module$build$src$core$inputs$align||($.Align$$module$build$src$core$inputs$align={}));var module$build$src$core$inputs$align={};module$build$src$core$inputs$align.Align=$.Align$$module$build$src$core$inputs$align;var FieldLabel$$module$build$src$core$field_label=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.class=null;this.EDITABLE=!1;this.maxDisplayLength=Infinity;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c?this.configure_(c):this.class=b||null,this.setValue(a))}configure_(a){super.configure_(a);a.class&&(this.class=a.class)}initView(){this.createTextElement_();this.class&&addClass$$module$build$src$core$utils$dom(this.getTextElement(),\nthis.class);this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyLabelField\")}doClassValidation_(a){return a===null||a===void 0?null:`${a}`}setClass(a){this.textElement_&&(this.class&&removeClass$$module$build$src$core$utils$dom(this.textElement_,this.class),a&&addClass$$module$build$src$core$utils$dom(this.textElement_,a));this.class=a}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};\nregister$$module$build$src$core$field_registry(\"field_label\",FieldLabel$$module$build$src$core$field_label);FieldLabel$$module$build$src$core$field_label.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_label={};module$build$src$core$field_label.FieldLabel=FieldLabel$$module$build$src$core$field_label;var COLLAPSE_CHARS$$module$build$src$core$internal_constants=30,OPPOSITE_TYPE$$module$build$src$core$internal_constants=[];OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE;\nOPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT;\nvar RENAME_VARIABLE_ID$$module$build$src$core$internal_constants=\"RENAME_VARIABLE_ID\",DELETE_VARIABLE_ID$$module$build$src$core$internal_constants=\"DELETE_VARIABLE_ID\",module$build$src$core$internal_constants={COLLAPSE_CHARS:COLLAPSE_CHARS$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID:DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,OPPOSITE_TYPE:OPPOSITE_TYPE$$module$build$src$core$internal_constants,RENAME_VARIABLE_ID:RENAME_VARIABLE_ID$$module$build$src$core$internal_constants};var BUMP_RANDOMNESS$$module$build$src$core$rendered_connection=10,RenderedConnection$$module$build$src$core$rendered_connection=class extends Connection$$module$build$src$core$connection{constructor(a,b){super(a,b);this.highlighted=!1;this.targetConnection=null;this.db=a.workspace.connectionDBList[b];this.dbOpposite=a.workspace.connectionDBList[OPPOSITE_TYPE$$module$build$src$core$internal_constants[b]];this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.trackedState=\nRenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK}dispose(){super.dispose();this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let a,b;(b=(a=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||b.call(a,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(a){const b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*\nb+a*a)}bumpAwayFrom(a,b=!1){if(!this.sourceBlock_.workspace.isDragging()){var c=$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection),d=$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection),e=a.sourceBlock_.getRootBlock(),f=this.sourceBlock_.getRootBlock();if(!e.isInFlyout&&!f.isInFlyout){var g=!0;if(f.isMovable())e.isMovable()&&b&&(d=-d);\nelse if(e.isMovable())g=!1,c=-c,d=-d;else return;b=g?a:this;a=g?this:a;e=g?f:e;e.RTL&&(c=-c);e.moveBy(b.x+c-a.x,b.y+d-a.y,[\"bump\"])}}}moveTo(a,b){let c=!1;this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK?(this.db.addConnection(this,b),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED,c=!0):this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&\n(this.db.removeConnection(this,this.y),this.db.addConnection(this,b),c=!0);this.x=a;this.y=b;return c}moveBy(a,b){return this.moveTo(this.x+a,this.y+b)}moveToOffset(a){return this.moveTo(a.x+this.offsetInBlock.x,a.y+this.offsetInBlock.y)}setOffsetInBlock(a,b){this.offsetInBlock.x=a;this.offsetInBlock.y=b}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var a=this.targetConnection;const b=this.targetBlock();a&&b&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.offsetInBlock,\na.offsetInBlock),b.translate(a.x,a.y))}closest(a,b){return this.dbOpposite.searchForClosest(this,a,b)}highlight(){this.highlighted=!0;const a=this.findHighlightSvg();a&&(a.style.display=\"\")}unhighlight(){this.highlighted=!1;const a=this.findHighlightSvg();a&&(a.style.display=\"none\")}isHighlighted(){return this.highlighted}setTracking(a){a&&this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED||!a&&this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED||\nthis.sourceBlock_.isInFlyout||(a?(this.db.addConnection(this,this.y),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED):(this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED))}stopTrackingAll(){this.setTracking(!1);if(this.targetConnection){const a=this.targetBlock().getDescendants(!1);\nfor(let b=0;b<a.length;b++){const c=a[b],d=c.getConnections_(!0);for(let e=0;e<d.length;e++)d[e].setTracking(!1);for(const e of c.getIcons())hasBubble$$module$build$src$core$interfaces$i_has_bubble(e)&&e.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let a=[];if(this.type!==ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&this.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)return a;const b=this.targetBlock();if(b){let c;b.isCollapsed()?\n(c=[],b.outputConnection&&c.push(b.outputConnection),b.nextConnection&&c.push(b.nextConnection),b.previousConnection&&c.push(b.previousConnection)):c=b.getConnections_(!0);for(let d=0;d<c.length;d++)a.push(...c[d].startTrackingAll());a.length||(a=[b])}return a}onFailedConnect(a){const b=this.getSourceBlock();if(getRecordUndo$$module$build$src$core$events$utils()){const c=$.getGroup$$module$build$src$core$events$utils();setTimeout(function(){b.isDisposed()||b.getParent()||($.setGroup$$module$build$src$core$events$utils(c),\nthis.bumpAwayFrom(a),$.setGroup$$module$build$src$core$events$utils(!1))}.bind(this),$.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(a=!0){const {parentConnection:b,childConnection:c}=this.getParentAndChildConnections();if(b&&c){var d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);var e=b.getSourceBlock(),f=c.getSourceBlock();super.disconnectInternal(a);e.queueRender();f.updateDisabled();f.queueRender();f.getSvgRoot().style.display=\n\"block\";$.setGroup$$module$build$src$core$events$utils(d)}}respawnShadow_(){super.respawnShadow_();const a=this.targetBlock();a&&(a.initSvg(),a.queueRender())}neighbours(a){return this.dbOpposite.getNeighbours(this,a)}connect_(a){super.connect_(a);var b=this.getSourceBlock();a=a.getSourceBlock();b.updateDisabled();a.updateDisabled();a.queueRender();if(b=b.getInputWithBlock(a))b=b.isVisible(),a.getSvgRoot().style.display=b?\"block\":\"none\"}onCheckChanged_(){!this.isConnected()||this.targetConnection&&\nthis.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(a){super.setCheck(a);this.sourceBlock_.queueRender();return this}showContextMenu(a){const b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({focusedNode:this},a);if(b.length){var c=this.getSourceBlock(),d=c.workspace;if(a instanceof PointerEvent)var e=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,\na.clientY);else e=new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y),e=wsToScreenCoordinates$$module$build$src$core$utils$svg_math(d,e).translate(c.RTL?-5:5,5);show$$module$build$src$core$contextmenu(a,b,c.RTL,d,e)}}getFocusableElement(){const a=this.findHighlightSvg();if(a)return a;throw Error(\"No highlight SVG found corresponding to this connection.\");}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight();this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};\n(function(a){a=a.TrackedState||(a.TrackedState={});a[a.WILL_TRACK=-1]=\"WILL_TRACK\";a[a.UNTRACKED=0]=\"UNTRACKED\";a[a.TRACKED=1]=\"TRACKED\"})(RenderedConnection$$module$build$src$core$rendered_connection||(RenderedConnection$$module$build$src$core$rendered_connection={}));var TrackedState$$module$build$src$core$rendered_connection=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState,module$build$src$core$rendered_connection={};\nmodule$build$src$core$rendered_connection.RenderedConnection=RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$rendered_connection.TrackedState=TrackedState$$module$build$src$core$rendered_connection;var Input$$module$build$src$core$inputs$input=class{constructor(a,b){this.name=a;this.sourceBlock=b;this.fieldRow=[];this.align=$.Align$$module$build$src$core$inputs$align.LEFT;this.visible=!0;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM;this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this}insertFieldAt(a,b,c){if(a<0||a>this.fieldRow.length)throw Error(\"index \"+a+\" out of bounds.\");if(!(b||\nb===\"\"&&c))return a;typeof b===\"string\"&&(b=$.fromJson$$module$build$src$core$field_registry({type:\"field_label\",text:b}));b.setSourceBlock(this.sourceBlock);this.sourceBlock.initialized&&this.initField(b);b.name=c;b.setVisible(this.isVisible());b.prefixField&&(a=this.insertFieldAt(a,b.prefixField));this.fieldRow.splice(a,0,b);a++;b.suffixField&&(a=this.insertFieldAt(a,b.suffixField));this.sourceBlock.rendered&&this.sourceBlock.queueRender();return a}removeField(a,b){for(let c=0,d;d=this.fieldRow[c];c++)if(d.name===\na)return d.dispose(),this.fieldRow.splice(c,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(b)return!1;throw Error('Field \"'+a+'\" not found.');}isVisible(){return this.visible}setVisible(a){let b=[];if(this.visible===a)return b;this.visible=a;for(let c=0,d;d=this.fieldRow[c];c++)d.setVisible(a);if(this.connection&&this.connection instanceof RenderedConnection$$module$build$src$core$rendered_connection){a?b=this.connection.startTrackingAll():this.connection.stopTrackingAll();const c=\nthis.connection.targetBlock();c&&(c.getSvgRoot().style.display=a?\"block\":\"none\")}return b}markDirty(){for(let a=0,b;b=this.fieldRow[a];a++)b.markDirty()}setCheck(a){if(!this.connection)throw Error(\"This input does not have a connection.\");this.connection.setCheck(a);return this}setAlign(a){this.align=a;this.sourceBlock.rendered&&this.sourceBlock.queueRender();return this}setShadowDom(a){if(!this.connection)throw Error(\"This input does not have a connection.\");this.connection.setShadowDom(a);return this}getShadowDom(){if(!this.connection)throw Error(\"This input does not have a connection.\");\nreturn this.connection.getShadowDom()}init(){for(const a of this.fieldRow)a.init()}initModel(){for(const a of this.fieldRow)a.initModel()}initField(a){this.sourceBlock.rendered?a.init():a.initModel()}dispose(){for(let a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose()}makeConnection(a){return this.sourceBlock.makeConnection_(a)}},module$build$src$core$inputs$input={};module$build$src$core$inputs$input.Input=Input$$module$build$src$core$inputs$input;var DummyInput$$module$build$src$core$inputs$dummy_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},module$build$src$core$inputs$dummy_input={};module$build$src$core$inputs$dummy_input.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;var EndRowInput$$module$build$src$core$inputs$end_row_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},module$build$src$core$inputs$end_row_input={};module$build$src$core$inputs$end_row_input.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;var StatementInput$$module$build$src$core$inputs$statement_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){if(!a)throw Error(\"Statement inputs must have a non-empty name\");super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT;this.connection=this.makeConnection(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)}},module$build$src$core$inputs$statement_input={};\nmodule$build$src$core$inputs$statement_input.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;var module$build$src$core$inputs$value_input;$.ValueInput$$module$build$src$core$inputs$value_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){if(!a)throw Error(\"Value inputs must have a non-empty name\");super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.VALUE;this.connection=this.makeConnection(ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE)}};module$build$src$core$inputs$value_input={};\nmodule$build$src$core$inputs$value_input.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;var module$build$src$core$interfaces$i_icon={};module$build$src$core$interfaces$i_icon.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;var module$build$src$core$interfaces$i_comment_icon={};module$build$src$core$interfaces$i_comment_icon.isCommentIcon=isCommentIcon$$module$build$src$core$interfaces$i_comment_icon;var Block$$module$build$src$core$block=class{constructor(a,b,c){this.data=null;this.disposed=!1;this.hue=null;this.colour_=\"#000000\";this.styleName_=\"\";this.suppressPrefixSuffix=!1;this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.icons=[];this.disabledReasons=new Set;this.tooltip=\"\";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable=this.movable=this.deletable=!0;this.collapsed_=this.shadow=!1;this.outputShape_=null;this.rendered=\nthis.isInsertionMarker_=this.initialized=this.disposing=!1;this.onchangeWrapper=this.helpUrl=null;this.statementInputCount=0;this.workspace=a;this.id=c&&!a.getBlockById(c)?c:genUid$$module$build$src$core$utils$idgenerator();a.setBlockById(this.id,this);this.xy=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.isInFlyout=a.isFlyout;this.isInMutator=a.isMutator;this.RTL=a.RTL;if(b){this.type=b;c=Blocks$$module$build$src$core$blocks[b];if(!c||typeof c!==\"object\")throw TypeError(\"Invalid block definition for type: \"+\nb);Object.assign(this,c)}a.addTopBlock(this);a.addTypedBlock(this);new.target===Block$$module$build$src$core$block&&this.doInit_()}doInit_(){const a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);const b=getRecordUndo$$module$build$src$core$events$utils();try{typeof this.init===\"function\"&&($.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),$.setRecordUndo$$module$build$src$core$events$utils(b)),isEnabled$$module$build$src$core$events$utils()&&\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(this))}finally{$.setGroup$$module$build$src$core$events$utils(a),$.setRecordUndo$$module$build$src$core$events$utils(b)}this.inputsInlineDefault=this.inputsInline;typeof this.onchange===\"function\"&&this.setOnChange(this.onchange)}dispose(a=!1){this.disposing=!0;this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.unplug(a);\nisEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DELETE))(this));this.workspace.removeTopBlock(this);this.disposeInternal()}disposeInternal(){this.disposing=!0;this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.workspace.removeTypedBlock(this);this.workspace.removeBlockById(this.id);typeof this.destroy===\"function\"&&this.destroy();\nthis.childBlocks_.forEach(a=>a.disposeInternal());this.inputList.forEach(a=>a.dispose());this.inputList.length=0;this.getConnections_(!0).forEach(a=>a.dispose());this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const a of this.inputList)a.initModel();this.initialized=!0}}unplug(a){this.outputConnection&&this.unplugFromRow(a);this.previousConnection&&this.unplugFromStack(a)}unplugFromRow(a){let b=null,c;if((c=this.outputConnection)==null?0:\nc.isConnected())b=this.outputConnection.targetConnection,this.outputConnection.disconnect();b&&a&&(a=this.getOnlyValueConnection())&&a.isConnected()&&!a.targetBlock().isShadow()&&(a=a.targetConnection,a==null||a.disconnect(),this.workspace.connectionChecker.canConnect(a,b,!1)?b.connect(a):a==null||a.onFailedConnect(b))}getOnlyValueConnection(){let a=null;for(let b=0;b<this.inputList.length;b++){const c=this.inputList[b].connection;if(c&&c.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&\nc.targetConnection){if(a)return null;a=c}}return a}unplugFromStack(a){let b=null,c;if((c=this.previousConnection)==null?0:c.isConnected())b=this.previousConnection.targetConnection,this.previousConnection.disconnect();if(a){for(a=this.getNextBlock();a&&(a.isShadow()||!a.isMovable());)a=a.getNextBlock();if(a){var d,e,f,g;a=(g=(d=a.previousConnection)==null?void 0:(e=d.targetBlock())==null?void 0:(f=e.nextConnection)==null?void 0:f.targetConnection)!=null?g:null;a==null||a.disconnect();b&&this.workspace.connectionChecker.canConnect(b,\na,!1)&&b.connect(a)}}}getConnections_(a){a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(let b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a}lastConnectionInStack(a){let b=this.nextConnection;for(;b;){const c=b.targetBlock();if(!c||a&&c.isShadow())return b;b=c.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(a){for(let b=\n0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()===a)return c;return null}getSurroundParent(){let a=this,b;do if(b=a,a=a.getParent(),!a)return null;while(a.getNextBlock()===b);return a}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let a,b=this;do a=b,b=a.parentBlock_;while(b);return a}getTopStackBlock(){let a=this,b;do b=a.getPreviousBlock();\nwhile(b&&b.getNextBlock()===a&&(a=b));return a}getChildren(a){if(!a)return this.childBlocks_;a=[];for(let c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();b&&a.push(b)}(b=this.getNextBlock())&&a.push(b);return a}setParent(a){if(a!==this.parentBlock_){var b=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),c=!!b;if(c&&a&&b!==a)throw Error(\"Block connected to superior one that is not new parent.\");\nif(!c&&a)throw Error(\"Block not connected to new parent.\");if(c&&!a)throw Error(\"Cannot set parent to null while block is still connected to superior block.\");this.parentBlock_?removeElem$$module$build$src$core$utils$array(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(a){const b=[this],c=this.getChildren(a);for(let d,e=0;d=c[e];e++)b.push(...d.getDescendants(a));return b}isDeletable(){return this.deletable&&\n!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(a){this.deletable=a}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(a){this.movable=a}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(this,!0)):!0}isShadow(){return this.shadow}setShadow(a){this.shadow=\na}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(a){this.isInsertionMarker_=a}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(a){this.editable=a;for(const b of this.getFields())b.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const a of this.inputList)if(a.connection||a.fieldRow.length>1)return!1;return!0}getMatchingConnection(a,\nb){const c=this.getConnections_(!0);a=a.getConnections_(!0);if(c.length!==a.length)throw Error(\"Connection lists did not match in length.\");for(let d=0;d<a.length;d++)if(a[d]===b)return c[d];return null}setHelpUrl(a){this.helpUrl=a}setTooltip(a){this.tooltip=a}getTooltip(){return getTooltipOfObject$$module$build$src$core$tooltip(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(a){a=parseBlockColour$$module$build$src$core$utils$parsing(a);\nthis.hue=a.hue;this.colour_=a.hex}setStyle(a){this.styleName_=a}setOnChange(a){if(a&&typeof a!==\"function\")throw Error(\"onchange must be a function.\");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.onchange=a;this.onchangeWrapper=a.bind(this);this.workspace.addChangeListener(this.onchangeWrapper)}getField(a){if(typeof a!==\"string\")throw TypeError(\"Block.prototype.getField expects a string with the field name but received \"+(a===void 0?\"nothing\":a+\" of type \"+\ntypeof a)+\" instead\");for(const b of this.getFields())if(b.name===a)return b;return null}*getFields(){for(const a of this.inputList)for(const b of a.fieldRow)yield b}getVars(){const a=[];for(const b of this.getFields())b.referencesVariables()&&a.push(b.getValue());return a}getVarModels(){const a=[];for(const b of this.getFields())if(b.referencesVariables()){const c=this.workspace.getVariableById(b.getValue());c&&a.push(c)}return a}updateVarName(a){for(const b of this.getFields())b.referencesVariables()&&\na.getId()===b.getValue()&&b.refreshVariableName()}renameVarById(a,b){for(const c of this.getFields())c.referencesVariables()&&a===c.getValue()&&c.setValue(b)}getFieldValue(a){return(a=this.getField(a))?a.getValue():null}setFieldValue(a,b){const c=this.getField(b);if(!c)throw Error('Field \"'+b+'\" not found.');c.setValue(a)}setPreviousStatement(a,b){if(a)b===void 0&&(b=null),this.previousConnection||(this.previousConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT)),\nthis.previousConnection.setCheck(b);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error(\"Must disconnect previous statement before removing connection.\");this.previousConnection.dispose();this.previousConnection=null}}setNextStatement(a,b){if(a)b===void 0&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error(\"Must disconnect next statement before removing connection.\");\nthis.nextConnection.dispose();this.nextConnection=null}}setOutput(a,b){if(a)b===void 0&&(b=null),this.outputConnection||(this.outputConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)),this.outputConnection.setCheck(b);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error(\"Must disconnect output value before removing connection.\");this.outputConnection.dispose();this.outputConnection=null}}setInputsInline(a){this.inputsInline!==\na&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"inline\",null,this.inputsInline,a)),this.inputsInline=a)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof DummyInput$$module$build$src$core$inputs$dummy_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!1;\nfor(a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof $.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!0;for(a=0;a<this.inputList.length;a++)if(this.inputList[a]instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)return!0;return!1}setOutputShape(a){this.outputShape_=a}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(a,\nb){a||this.workspace.options.disable||!this.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants)||b==MANUALLY_DISABLED$$module$build$src$core$constants||this.setDisabledReason(!1,MANUALLY_DISABLED$$module$build$src$core$constants);this.disabledReasons.has(b)!==a&&(a?this.disabledReasons.add(b):this.disabledReasons.delete(b),a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"disabled\",null,!a,a),a.setDisabledReason(b),fire$$module$build$src$core$events$utils(a))}getInheritedDisabled(){let a=\nthis.getSurroundParent();for(;a;){if(!a.isEnabled())return!0;a=a.getSurroundParent()}return!1}hasDisabledReason(a){return this.disabledReasons.has(a)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(a){this.collapsed_!==a&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"collapsed\",null,this.collapsed_,a)),this.collapsed_=a)}toString(a,b){b=this.toTokens(b);\nfor(let d=2;d<b.length;d++)b[d-2]===\"(\"&&b[d]===\")\"&&(b[d-2]=b[d-1],b.splice(d-1,2));let c=\"\";b=b.reduce((d,e)=>{d=d+(c===\"(\"||e===\")\"?\"\":\" \")+e;c=e[e.length-1];return d},\"\");b=b.trim()||\"???\";a&&b.length>a&&(b=b.substring(0,a-3)+\"...\");return b}toTokens(a=\"?\"){const b=[];for(const d of this.inputList)if(d.name!=COLLAPSED_INPUT_NAME$$module$build$src$core$constants){for(const e of d.fieldRow)b.push(e.getText());if(d.connection){const e=d.connection.targetBlock();if(e){var c=d.connection;let f=c.getCheck();\n!f&&c.targetConnection&&(f=c.targetConnection.getCheck());(c=!!f&&(f.includes(\"Boolean\")||f.includes(\"Number\")))&&b.push(\"(\");b.push(...e.toTokens(a));c&&b.push(\")\")}else b.push(a)}}return b}appendValueInput(a){return this.appendInput(new $.ValueInput$$module$build$src$core$inputs$value_input(a,this))}appendStatementInput(a){this.statementInputCount++;return this.appendInput(new StatementInput$$module$build$src$core$inputs$statement_input(a,this))}appendDummyInput(a=\"\"){return this.appendInput(new DummyInput$$module$build$src$core$inputs$dummy_input(a,\nthis))}appendEndRowInput(a=\"\"){return this.appendInput(new EndRowInput$$module$build$src$core$inputs$end_row_input(a,this))}appendInput(a){this.inputList.push(a);return a}appendInputFromRegistry(a,b){return(a=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a,!1))?this.appendInput(new a(b,this)):null}jsonInit(a){var b=a.type?'Block \"'+a.type+'\": ':\"\";if(a.output&&a.previousStatement)throw Error(b+\"Must not have both an output and a previousStatement.\");for(var c=\n0;a[\"args\"+c];){if(a[\"message\"+c]===void 0)throw Error(b+`args${c} must have a corresponding message (message${c}).`);c++}a.style&&a.style.hat&&(this.hat=a.style.hat,a.style=null);if(a.style&&a.colour)throw Error(b+\"Must not have both a colour and a style.\");a.style?this.jsonInitStyle(a,b):this.jsonInitColour(a,b);for(c=0;a[\"message\"+c]!==void 0;)this.interpolate(a[\"message\"+c],a[\"args\"+c]||[],a[\"implicitAlign\"+c]||a[\"lastDummyAlign\"+c],b),c++;a.inputsInline!==void 0&&($.disable$$module$build$src$core$events$utils(),\nthis.setInputsInline(a.inputsInline),$.enable$$module$build$src$core$events$utils());a.output!==void 0&&this.setOutput(!0,a.output);a.outputShape!==void 0&&this.setOutputShape(a.outputShape);a.previousStatement!==void 0&&this.setPreviousStatement(!0,a.previousStatement);a.nextStatement!==void 0&&this.setNextStatement(!0,a.nextStatement);a.tooltip!==void 0&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip),this.setTooltip(c));a.enableContextMenu!==void 0&&(this.contextMenu=\n!!a.enableContextMenu);a.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!a.suppressPrefixSuffix);a.helpUrl!==void 0&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.helpUrl),this.setHelpUrl(c));typeof a.extensions===\"string\"&&(console.warn(b+\"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '\"+a.type+\"' block.\"),a.extensions=[a.extensions]);a.mutator!==void 0&&apply$$module$build$src$core$extensions(a.mutator,this,!0);a=a.extensions;\nif(Array.isArray(a))for(b=0;b<a.length;b++)apply$$module$build$src$core$extensions(a[b],this,!1)}jsonInitColour(a,b){if(\"colour\"in a)if(a.colour===void 0)console.warn(b+\"Undefined colour value.\");else{a=a.colour;try{this.setColour(a)}catch(c){console.warn(b+\"Illegal colour value: \",a)}}}jsonInitStyle(a,b){a=a.style;try{this.setStyle(a)}catch(c){console.warn(b+\"Style does not exist: \",a)}}mixin(a,b){if(b!==void 0&&typeof b!==\"boolean\")throw Error(\"opt_disableCheck must be a boolean if provided\");if(!b){b=\n[];for(const c in a)this[c]!==void 0&&b.push(c);if(b.length)throw Error(\"Mixin will overwrite block members: \"+JSON.stringify(b));}Object.assign(this,a)}interpolate(a,b,c,d){a=tokenizeInterpolation$$module$build$src$core$utils$parsing(a);this.validateTokens(a,b.length);b=this.interpolateArguments(a,b,c);c=[];for(let e=0,f;f=b[e];e++)if(this.isInputKeyword(f.type)){if(a=this.inputFromJson(f,d)){for(let g=0,h;h=c[g];g++)a.appendField(h[0],h[1]);c.length=0}}else(a=this.fieldFromJson(f))&&c.push([a,f.name])}validateTokens(a,\nb){const c=[];let d=0;for(let e=0;e<a.length;e++){const f=a[e];if(typeof f===\"number\"){if(f<1||f>b)throw Error('Block \"'+this.type+'\": Message index %'+f+\" out of range.\");if(c[f])throw Error('Block \"'+this.type+'\": Message index %'+f+\" duplicated.\");c[f]=!0;d++}}if(d!==b)throw Error('Block \"'+this.type+'\": Message does not reference all '+b+\" arg(s).\");}interpolateArguments(a,b,c){const d=[];for(let f=0;f<a.length;f++){var e=a[f];typeof e===\"number\"&&(e=b[e-1]);if(typeof e===\"string\")if(e===\"\\n\")e=\n{type:\"input_end_row\"},c&&(e.align=c);else if(e=this.stringToFieldJson(e),!e)continue;d.push(e)}(a=d.length)&&!this.isInputKeyword(d[a-1].type)&&(a={type:\"input_dummy\"},c&&(a.align=c),d.push(a));return d}fieldFromJson(a){const b=$.fromJson$$module$build$src$core$field_registry(a);return!b&&a.alt?typeof a.alt===\"string\"?(a=this.stringToFieldJson(a.alt))?this.fieldFromJson(a):null:this.fieldFromJson(a.alt):b}inputFromJson(a,b){var c={LEFT:$.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:$.Align$$module$build$src$core$inputs$align.RIGHT,\nCENTRE:$.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:$.Align$$module$build$src$core$inputs$align.CENTRE};let d;switch(a.type){case \"input_value\":d=this.appendValueInput(a.name);break;case \"input_statement\":d=this.appendStatementInput(a.name);break;case \"input_dummy\":d=this.appendDummyInput(a.name);break;case \"input_end_row\":d=this.appendEndRowInput(a.name);break;default:d=this.appendInputFromRegistry(a.type,a.name)}if(!d)return null;a.check&&d.setCheck(a.check);a.align&&(c=c[a.align.toUpperCase()],\nc===void 0?console.warn(b+\"Illegal align value: \",a.align):d.setAlign(c));return d}isInputKeyword(a){return a===\"input_value\"||a===\"input_statement\"||a===\"input_dummy\"||a===\"input_end_row\"||hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a)}stringToFieldJson(a){return(a=a.trim())?{type:\"field_label\",text:a}:null}moveInputBefore(a,b){if(a!==b){var c=-1,d=b?-1:this.inputList.length;for(let e=0,f;f=this.inputList[e];e++)if(f.name===a){if(c=e,d!==-1)break}else if(b&&\nf.name===b&&(d=e,c!==-1))break;if(c===-1)throw Error('Named input \"'+a+'\" not found.');if(d===-1)throw Error('Reference input \"'+b+'\" not found.');this.moveNumberedInputBefore(c,d)}}moveNumberedInputBefore(a,b){if(a===b)throw Error(\"Can't move input to itself.\");if(a>=this.inputList.length)throw RangeError(\"Input index \"+a+\" out of bounds.\");if(b>this.inputList.length)throw RangeError(\"Reference input \"+b+\" out of bounds.\");const c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,\n0,c)}removeInput(a,b){for(let c=0,d;d=this.inputList[c];c++)if(d.name===a)return d instanceof StatementInput$$module$build$src$core$inputs$statement_input&&this.statementInputCount--,d.dispose(),this.inputList.splice(c,1),!0;if(b)return!1;throw Error(\"Input not found: \"+a);}getInput(a){for(let b=0,c;c=this.inputList[b];b++)if(c.name===a)return c;return null}getInputTargetBlock(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()}getCommentText(){let a,b;return(b=(a=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT))==\nnull?void 0:a.getText())!=null?b:null}setCommentText(a){var b;let c;const d=(c=(b=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT))==null?void 0:b.getText())!=null?c:null;if(d!==a){if(a!==null){b=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);if(!b){b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,IconType$$module$build$src$core$icons$icon_types.COMMENT.toString(),!1);if(!b)throw Error(\"No comment icon class is registered, so a comment cannot be set\");\nb=new b(this);if(!isCommentIcon$$module$build$src$core$interfaces$i_comment_icon(b))throw Error(\"The class registered as a comment icon does not conform to the ICommentIcon interface\");b=this.addIcon(b)}$.disable$$module$build$src$core$events$utils();b.setText(a);$.enable$$module$build$src$core$events$utils()}else this.removeIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\n\"comment\",null,d,a))}}setWarningText(a,b){}setMutator(a){}addIcon(a){if(this.hasIcon(a.getType()))throw new DuplicateIconType$$module$build$src$core$icons$exceptions(a);this.icons.push(a);this.icons.sort((b,c)=>b.getWeight()-c.getWeight());return a}removeIcon(a){if(!this.hasIcon(a))return!1;let b;(b=this.getIcon(a))==null||b.dispose();this.icons=this.icons.filter(c=>!c.getType().equals(a));return!0}hasIcon(a){return this.icons.some(b=>b.getType().equals(a))}getIcon(a){return a instanceof IconType$$module$build$src$core$icons$icon_types?\nthis.icons.find(b=>b.getType().equals(a)):this.icons.find(b=>b.getType().toString()===a)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(a,b,c){if(this.parentBlock_)throw Error(\"Block has parent\");const d=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this);c&&d.setReason(c);this.xy.translate(a,b);d.recordNew();fire$$module$build$src$core$events$utils(d)}makeConnection_(a){return new Connection$$module$build$src$core$connection(this,\na)}allInputsFilled(a){a===void 0&&(a=!0);if(!a&&this.isShadow())return!1;for(let c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();if(!b||!b.allInputsFilled(a))return!1}return(b=this.getNextBlock())?b.allInputsFilled(a):!0}toDevString(){let a=this.type?'\"'+this.type+'\" block':\"Block\";this.id&&(a+=' (id=\"'+this.id+'\")');return a}};Block$$module$build$src$core$block.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;\nBlock$$module$build$src$core$block.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;var module$build$src$core$block={};module$build$src$core$block.Block=Block$$module$build$src$core$block;var disconnectPid$$module$build$src$core$block_animations=null,wobblingBlock$$module$build$src$core$block_animations=null,module$build$src$core$block_animations={};module$build$src$core$block_animations.connectionUiEffect=connectionUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiEffect=disconnectUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiStop=disconnectUiStop$$module$build$src$core$block_animations;\nmodule$build$src$core$block_animations.disposeUiEffect=disposeUiEffect$$module$build$src$core$block_animations;var BlockPaster$$module$build$src$core$clipboard$block_paster=class{paste(a,b,c){if(!b.isCapacityAvailable(a.typeCounts))return null;c&&(a.blockState.x=c.x,a.blockState.y=c.y);c=c||new Coordinate$$module$build$src$core$utils$coordinate(a.blockState.x||0,a.blockState.y||0);$.disable$$module$build$src$core$events$utils();let d;try{d=append$$module$build$src$core$serialization$blocks(a.blockState,b),moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster(d,c)}finally{$.enable$$module$build$src$core$events$utils()}if(!d)return d;\nisEnabled$$module$build$src$core$events$utils()&&!d.isShadow()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(d));const e=d;finishQueuedRenders$$module$build$src$core$render_management().then(()=>$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e));return d}};BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE=\"block\";\nregister$$module$build$src$core$clipboard$registry(BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,new BlockPaster$$module$build$src$core$clipboard$block_paster);var module$build$src$core$clipboard$block_paster={};module$build$src$core$clipboard$block_paster.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard$block_paster.moveBlockToNotConflict=moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster;var bumpIntoBounds$$module$build$src$core$bump_objects=bumpObjectIntoBounds$$module$build$src$core$bump_objects,module$build$src$core$bump_objects={};module$build$src$core$bump_objects.bumpIntoBounds=bumpObjectIntoBounds$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpIntoBoundsHandler=bumpIntoBoundsHandler$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpTopObjectsIntoBounds=bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects;var BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy=class{constructor(a){this.block=a;this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null;this.dragging=!1;this.dragOffset=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.originalEventGroup=\"\";this.workspace=a.workspace}isMovable(){if(this.block.isShadow()){let a,b;return(b=(a=this.block.getParent())==null?void 0:a.isMovable())!=null?b:!1}return this.block.isOwnMovable()&&\n!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(a){if(this.block.isShadow())this.startDraggingShadow(a);else{this.dragging=!0;this.fireDragStartEvent();this.startLoc=this.block.getRelativeToSurfaceXY();this.connectionCandidate=null;this.connectionPreviewer=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_PREVIEWER,this.workspace.options))(this.block);startTextWidthCache$$module$build$src$core$utils$dom();\nthis.workspace.setResizesEnabled(!1);disconnectUiStop$$module$build$src$core$block_animations();a=this.shouldHealStack(a);this.shouldDisconnect(a)&&this.disconnectBlock(a);this.block.setDragging(!0);var b;(b=this.workspace.getLayerManager())==null||b.moveToDragLayer(this.block)}}shouldHealStack(a){return!!a&&(a.altKey||a.ctrlKey||a.metaKey)}startDraggingShadow(a){const b=this.block.getParent();if(!b)throw Error(\"Tried to drag a shadow block with no parent. Shadow blocks should always have parents.\");\nthis.dragOffset=Coordinate$$module$build$src$core$utils$coordinate.difference(b.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY());b.startDrag(a)}shouldDisconnect(a){return!!(this.block.getParent()||a&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(a){let b,c,d;this.startParentConn=(d=(b=this.block.outputConnection)==null?void 0:b.targetConnection)!=null?d:(c=this.block.previousConnection)==null?void 0:c.targetConnection;if(a){let e;this.startChildConn=\n(e=this.block.nextConnection)==null?void 0:e.targetConnection}this.block.unplug(a);disconnectUiEffect$$module$build$src$core$block_animations(this.block)}fireDragStartEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));fire$$module$build$src$core$events$utils(a)}fireDragEndEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DRAG))(this.block,\n!1,this.block.getDescendants(!1));fire$$module$build$src$core$events$utils(a)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this.block);a.setReason([\"drag\"]);a.oldCoordinate=this.startLoc;a.recordNew();fire$$module$build$src$core$events$utils(a)}}drag(a){if(this.block.isShadow()){let b;(b=this.block.getParent())==null||b.drag(Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.dragOffset))}else this.block.moveDuringDrag(a),\nthis.updateConnectionPreview(this.block,Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.startLoc))}updateConnectionPreview(a,b){var c=this.connectionCandidate;const d=this.getConnectionCandidate(a,b);if(d){this.connectionCandidate=b=c&&this.currCandidateIsBetter(c,b,d)?c:d;var {local:e,neighbour:f}=b;b=e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;var g;c=f.isConnected()&&\n!((g=f.targetBlock())==null?0:g.isInsertionMarker());if(b&&c&&!this.orphanCanConnectAtEnd(a,f.targetBlock(),e.type)){let k;(k=this.connectionPreviewer)==null||k.previewReplacement(e,f,f.targetBlock())}else{var h;(h=this.connectionPreviewer)==null||h.previewConnection(e,f)}}else{let k;(k=this.connectionPreviewer)==null||k.hidePreview();this.connectionCandidate=null}}orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?\nb.outputConnection:b.previousConnection)}currCandidateIsBetter(a,b,c){const {local:d,neighbour:e}=a;a=new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y);const f=new Coordinate$$module$build$src$core$utils$coordinate(e.x,e.y);b=Coordinate$$module$build$src$core$utils$coordinate.distance(Coordinate$$module$build$src$core$utils$coordinate.sum(a,b),f);return c.distance>b-$.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(a,b){a=this.getLocalConnections(a);\nlet c=this.getSearchRadius(),d=null;for(const e of a){const {connection:f,radius:g}=e.closest(c,b);f&&(d={local:e,neighbour:f,distance:g},c=g)}return d}getSearchRadius(){return this.connectionCandidate?$.config$$module$build$src$core$config.connectingSnapRadius:$.config$$module$build$src$core$config.snapRadius}getLocalConnections(a){const b=a.getConnections_(!1),c=a.lastConnectionInStack(!0);c&&c!==a.nextConnection&&b.push(c);return b}endDrag(a){if(this.block.isShadow()){let c;(c=this.block.getParent())==\nnull||c.endDrag(a)}else{this.originalEventGroup=$.getGroup$$module$build$src$core$events$utils();this.fireDragEndEvent();this.fireMoveEvent();stopTextWidthCache$$module$build$src$core$utils$dom();disconnectUiStop$$module$build$src$core$block_animations();var b;(b=this.connectionPreviewer)==null||b.hidePreview();if(!this.block.isDeadOrDying()&&this.dragging){let c;(c=this.workspace.getLayerManager())==null||c.moveOffDragLayer(this.block,BLOCK$$module$build$src$core$layers);this.block.setDragging(!1)}this.connectionCandidate?\n(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const a=$.getGroup$$module$build$src$core$events$utils();$.setGroup$$module$build$src$core$events$utils(this.originalEventGroup);this.block.snapToGrid();let b;(b=this.connectionPreviewer)==null||b.dispose();this.workspace.setResizesEnabled(!0);$.setGroup$$module$build$src$core$events$utils(a)}applyConnections(a){const {local:b,neighbour:c}=a;b.connect(c);const d=\nb.isSuperior()?c:b,e=this.block.getRootBlock();finishQueuedRenders$$module$build$src$core$render_management().then(()=>{connectionUiEffect$$module$build$src$core$block_animations(d.getSourceBlock());setTimeout(()=>{e.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let c;(c=this.block.getParent())==null||c.revertDrag()}else{var a;(a=this.connectionPreviewer)==null||a.hidePreview();this.connectionCandidate=null;var b;(b=this.startChildConn)==null||b.connect(this.block.nextConnection);if(this.startParentConn)switch(this.startParentConn.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);\nbreak;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,[\"drag\"]);let c;(c=this.workspace.getLayerManager())==null||c.moveOffDragLayer(this.block,BLOCK$$module$build$src$core$layers);bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null;this.block.setDragging(!1);\nthis.dragging=!1}}},module$build$src$core$dragging$block_drag_strategy={};module$build$src$core$dragging$block_drag_strategy.BlockDragStrategy=BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy;var TextBubble$$module$build$src$core$bubbles$text_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(b,c,d);this.text=a;this.workspace=b;this.anchor=c;this.ownerRect=d;this.paragraph=this.stringToSvg(a,this.contentContainer);this.updateBubbleSize();addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyTextBubble\")}getText(){return this.text}setText(a){this.text=a;removeNode$$module$build$src$core$utils$dom(this.paragraph);this.paragraph=this.stringToSvg(a,\nthis.contentContainer);this.updateBubbleSize()}stringToSvg(a,b){b=this.createParagraph(b);a=this.createTextFragments(b,a);this.workspace.RTL&&this.rightAlignTextFragments(b.getBBox().width,a);return b}createParagraph(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyText blocklyBubbleText blocklyNoPointerEvents\",transform:`translate(0,${Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?\n\"rtl\":\"ltr\"}`},a)}createTextFragments(a,b){let c=1;return b.split(\"\\n\").map(d=>{const e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{y:`${c}em`,x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);d=document.createTextNode(d);e.appendChild(d);c+=1;return e})}rightAlignTextFragments(a,b){for(const c of b)c.setAttribute(\"text-anchor\",\"start\"),c.setAttribute(\"x\",`${a+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH}`)}updateBubbleSize(){const a=\nthis.paragraph.getBBox();this.setSize(new Size$$module$build$src$core$utils$size(a.width+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2,a.height+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2),!0)}},module$build$src$core$bubbles$text_bubble={};module$build$src$core$bubbles$text_bubble.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;var SIZE$$module$build$src$core$icons$warning_icon=17,WarningIcon$$module$build$src$core$icons$warning_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a){super(a);this.sourceBlock=a;this.textMap=new Map;this.textBubble=null}getType(){return WarningIcon$$module$build$src$core$icons$warning_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconShape\",d:\"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconSymbol\",x:\"7\",y:\"11\",height:\"2\",width:\"2\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyWarningIcon\"))}dispose(){super.dispose();let a;(a=this.textBubble)==null||\na.dispose()}getWeight(){return WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$warning_icon,SIZE$$module$build$src$core$icons$warning_icon)}applyColour(){super.applyColour();let a;(a=this.textBubble)==null||a.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(a){super.onLocationChange(a);let b;(b=this.textBubble)==null||b.setAnchorLocation(this.getAnchorLocation())}addMessage(a,\nb){if(this.textMap.get(b)===a)return this;a?this.textMap.set(b,a):this.textMap.delete(b);let c;(c=this.textBubble)==null||c.setText(this.getText());return this}getText(){return[...this.textMap.values()].join(\"\\n\")}onClick(){super.onClick();this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){if(b.bubbleIsVisible()!==a){yield finishQueuedRenders$$module$build$src$core$render_management();\nif(a)b.textBubble=new TextBubble$$module$build$src$core$bubbles$text_bubble(b.getText(),b.sourceBlock.workspace,b.getAnchorLocation(),b.getBubbleOwnerRect()),b.applyColour();else{let c;(c=b.textBubble)==null||c.dispose();b.textBubble=null}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,a,\"warning\"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$warning_icon/\n2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){const a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}};WarningIcon$$module$build$src$core$icons$warning_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.WARNING;WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT=2;\nvar module$build$src$core$icons$warning_icon={};module$build$src$core$icons$warning_icon.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;var BlockSvg$$module$build$src$core$block_svg=class extends Block$$module$build$src$core$block{constructor(a,b,c){super(a,b,c);this.childlessWidth=this.width=this.height=0;this.warningTextDb=new Map;this.mutator=null;this.rendered=!0;this.visuallyDisabled=!1;this.translation=\"\";this.dragging=!1;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.dragStrategy=new BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy(this);if(!a.rendered)throw TypeError(\"Cannot create a rendered block in a headless workspace\");\nthis.workspace=a;this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});b&&addClass$$module$build$src$core$utils$dom(this.svgGroup,b);this.style=a.getRenderer().getConstants().getBlockStyle(null);this.pathObject=a.getRenderer().makePathObject(this.svgGroup,this.style);a=this.pathObject.svgPath;a.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(a);this.svgGroup.setAttribute(\"data-id\",this.id);a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();\nthis.doInit_()}initSvg(){if(!this.initialized){for(var a of this.inputList)a.init();for(const b of this.getIcons())b.initView(this.createIconPointerDownListener(b)),b.updateEditable();this.applyColour();this.pathObject.updateMovable(this.isMovable()||this.isInFlyout);(a=this.getSvgRoot())&&conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onMouseDown);a.parentNode||this.workspace.getCanvas().appendChild(a);this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect();\nfireSelectedEvent$$module$build$src$core$common(this)}unselect(){this.removeSelect();fireSelectedEvent$$module$build$src$core$common(null)}setParent(a){var b=this.parentBlock_;if(a!==b){startTextWidthCache$$module$build$src$core$utils$dom();super.setParent(a);stopTextWidthCache$$module$build$src$core$utils$dom();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY(),e=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),f,g=this.getSvgRoot().contains((f=\ne==null?void 0:e.getFocusableElement())!=null?f:null);a?(a.getSvgRoot().appendChild(c),g&&e&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)):b&&(a=this.workspace.getCanvas().querySelector(\".blocklyDragging\"),b=a==null?void 0:a.parentElement,f=this.workspace.getCanvas(),b===f?f.insertBefore(c,a):(f.appendChild(c),g&&e&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)),this.translate(d.x,d.y));this.applyColour()}}}getRelativeToSurfaceXY(){const a=this.workspace.getLayerManager();\nif(!a)throw Error(\"Cannot calculate position because the workspace has not been appended\");let b=0,c=0,d=this.getSvgRoot();if(d){do{const e=getRelativeXY$$module$build$src$core$utils$svg_math(d);b+=e.x;c+=e.y;d=d.parentNode}while(d&&!a.hasLayer(d))}return new Coordinate$$module$build$src$core$utils$coordinate(b,c)}moveBy(a,b,c){if(this.parentBlock_)throw Error(\"Block has parent\");const d=isEnabled$$module$build$src$core$events$utils();let e=null;d&&(e=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this),\nc&&e.setReason(c));a=new Coordinate$$module$build$src$core$utils$coordinate(a,b);b=this.getRelativeToSurfaceXY();a=Coordinate$$module$build$src$core$utils$coordinate.sum(b,a);this.translate(a.x,a.y);this.updateComponentLocations(a);d&&e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));this.workspace.resizeContents()}translate(a,b){this.translation=`translate(${a}, ${b})`;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(a,b);this.getSvgRoot().setAttribute(\"transform\",\nthis.getTranslation())}getTranslation(){return this.translation}moveTo(a,b){const c=this.getRelativeToSurfaceXY();this.moveBy(a.x-c.x,a.y-c.y,b)}moveDuringDrag(a){this.translate(a.x,a.y);this.getSvgRoot().setAttribute(\"transform\",this.getTranslation());this.updateComponentLocations(a)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var a=this.workspace.getGrid();if(a!=null&&a.shouldSnap()){var b=this.getRelativeToSurfaceXY();a=a.alignXY(b);a!==b&&this.moveTo(a,[\"snap\"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,\nwidth:this.childlessWidth})}getBoundingRectangleWithDimensions(a){const b=this.getRelativeToSurfaceXY();let c,d;this.RTL?(c=b.x-a.width,d=b.x):(c=b.x,d=b.x+a.width);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+a.height,c,d)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let a=0,b;b=this.inputList[a];a++)b.markDirty()}setCollapsed(a){this.collapsed_!==a&&(super.setCollapsed(a),this.updateCollapsed())}childHasWarning(){const a=this.getChildren(!1);\nfor(const b of a)if(b.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)||b.childHasWarning())return!0;return!1}updateCollapsed(){var a=this.isCollapsed();const b=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,c=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;for(let e=0,f;f=this.inputList[e];e++)f.name!==b&&f.setVisible(!a);for(var d of this.getIcons())d.updateCollapsed();a?(addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyCollapsed\"),this.childHasWarning()&&\nthis.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID),a=this.toString(COLLAPSE_CHARS$$module$build$src$core$internal_constants),(d=this.getField(c))?d.setValue(a):(this.getInput(b)||this.appendDummyInput(b)).appendField(new FieldLabel$$module$build$src$core$field_label(a),c)):(this.updateDisabled(),this.removeInput(b),removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyCollapsed\"),this.setWarningText(null,\nBlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID))}onMouseDown(a){if(!this.workspace.isReadOnly()){var b=this.workspace.getGesture(a);b&&b.handleBlockStart(a,this)}}showHelp(){const a=typeof this.helpUrl===\"function\"?this.helpUrl():this.helpUrl;a&&window.open(a)}generateContextMenu(a){if(this.workspace.isReadOnly()||!this.contextMenu)return null;a=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({block:this,focusedNode:this},a);this.customContextMenu&&\nthis.customContextMenu(a);return a}calculateContextMenuLocation(a){if(a instanceof PointerEvent)return new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);a=wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this.workspace,this.getRelativeToSurfaceXY());let b,c;const d=(b=this.inputList.filter(e=>e.isVisible()).flatMap(e=>e.fieldRow).find(e=>e.isVisible()))==null?void 0:(c=b.getSvgRoot())==null?void 0:c.getBoundingClientRect();return new Coordinate$$module$build$src$core$utils$coordinate(this.RTL?\na.x-5:a.x+5,(d&&d.height?d.y+d.height:a.y+this.height)+5)}showContextMenu(a){const b=this.generateContextMenu(a),c=this.calculateContextMenuLocation(a);b&&b.length&&(show$$module$build$src$core$contextmenu(a,b,this.RTL,this.workspace,c),setCurrentBlock$$module$build$src$core$contextmenu(this))}updateComponentLocations(a){this.dragging||this.updateConnectionLocations(a);this.updateIconLocations(a);this.updateFieldLocations(a);for(const b of this.getChildren(!1))b.updateComponentLocations(Coordinate$$module$build$src$core$utils$coordinate.sum(a,\nb.relativeCoords))}updateConnectionLocations(a){for(const b of this.getConnections_(!1))b.moveToOffset(a)}updateIconLocations(a){for(const b of this.getIcons())b.onLocationChange(a)}updateFieldLocations(a){for(const b of this.inputList)for(const c of b.fieldRow)c.onLocationChange(a)}addClass(a){addClass$$module$build$src$core$utils$dom(this.svgGroup,a)}removeClass(a){removeClass$$module$build$src$core$utils$dom(this.svgGroup,a)}setDragging(a){(this.dragging=a)?(this.translation=\"\",draggingConnections$$module$build$src$core$common.push(...this.getConnections_(!0)),\nthis.addClass(\"blocklyDragging\")):(draggingConnections$$module$build$src$core$common.length=0,this.removeClass(\"blocklyDragging\"));for(let b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a)}setMovable(a){super.setMovable(a);this.pathObject.updateMovable(a)}setEditable(a){super.setEditable(a);a?removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotEditable\"):addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotEditable\");a=this.getIcons();for(let b=\n0;b<a.length;b++)a[b].updateEditable()}setShadow(a){super.setShadow(a);this.applyColour()}setInsertionMarker(a){this.isInsertionMarker_!==a&&(this.isInsertionMarker_=a)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(a,b){this.disposing=!0;dispose$$module$build$src$core$tooltip();hide$$module$build$src$core$contextmenu();const c=$.getFocusManager$$module$build$src$core$focus_manager();\nvar d,e;if(this.getSvgRoot().contains((e=(d=c.getFocusedNode())==null?void 0:d.getFocusableElement())!=null?e:null)){d=this.getParent();if(!d){let f;if(e=(f=this.outputConnection)!=null?f:this.previousConnection){let g;d=(g=e.closest(0,new Coordinate$$module$build$src$core$utils$coordinate(0,0)).connection)==null?void 0:g.getSourceBlock()}}d?c.focusNode(d):setTimeout(()=>c.focusTree(this.workspace),0)}b&&(this.unplug(a),disposeUiEffect$$module$build$src$core$block_animations(this));super.dispose(!!a);\nremoveNode$$module$build$src$core$utils$dom(this.svgGroup)}disposeInternal(){this.disposing=!0;super.disposeInternal();$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture();[...this.warningTextDb.values()].forEach(a=>clearTimeout(a));this.warningTextDb.clear();this.getIcons().forEach(a=>a.dispose())}checkAndDelete(){this.workspace.isFlyout||($.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?\nthis.dispose(!1,!0):this.dispose(!0,!0),$.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(a=!1){return this.isInsertionMarker_?null:{paster:BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,blockState:save$$module$build$src$core$serialization$blocks(this,{addCoordinates:!0,addNextBlocks:a,saveIds:!1}),typeCounts:getBlockTypeCounts$$module$build$src$core$common(this,!0)}}applyColour(){var a,b;(b=(a=this.pathObject).applyColour)==null||b.call(a,this);a=this.getIcons();for(b=\n0;b<a.length;b++)a[b].applyColour();for(const c of this.getFields())c.applyColour()}updateDisabled(){const a=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===a){let b;(b=this.getNextBlock())==null||b.updateDisabled()}else{this.applyColour();this.visuallyDisabled=a;for(const b of this.getChildren(!1))b.updateDisabled()}}setWarningText(a,b=\"\"){if(b)this.warningTextDb.has(b)&&(clearTimeout(this.warningTextDb.get(b)),this.warningTextDb.delete(b));else{for(var c of this.warningTextDb.values())clearTimeout(c);\nthis.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(b,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(b),this.setWarningText(a,b))},100));else if(this.isInFlyout&&(a=null),c=this.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE),a){let d=this.getSurroundParent(),e=null;for(;d;)d.isCollapsed()&&(e=d),d=d.getSurroundParent();e&&e.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID);\nc?c.addMessage(a,b):this.addIcon((new WarningIcon$$module$build$src$core$icons$warning_icon(this)).addMessage(a,b))}else c&&(b?(c.addMessage(\"\",b),c.getText()||this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)):this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE))}setMutator(a){this.removeIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);a&&this.addIcon(a)}addIcon(a){super.addIcon(a);a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&\n(this.mutator=a);a.initView(this.createIconPointerDownListener(a));a.applyColour();a.updateEditable();this.queueRender();return a}createIconPointerDownListener(a){return b=>{this.isDeadOrDying()||(b=this.workspace.getGesture(b))&&b.setStartIcon(a)}}removeIcon(a){const b=super.removeIcon(a);a.equals($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null);this.queueRender();return b}setDisabledReason(a,b){const c=this.isEnabled();super.setDisabledReason(a,b);this.isEnabled()===\nc||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(a){super.setDeletable(a);a?removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotDeletable\"):addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotDeletable\")}setHighlighted(a){this.pathObject.updateHighlighted(a)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(a){this.pathObject.updateDraggingDelete(a)}getColour(){return this.style.colourPrimary}setColour(a){super.setColour(a);\na=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let b,c;(c=(b=this.pathObject).setStyle)==null||c.call(b,a.style);this.style=a.style;this.styleName_=a.name;this.applyColour()}setStyle(a){const b=this.workspace.getRenderer().getConstants().getBlockStyle(a);this.styleName_&&removeClass$$module$build$src$core$utils$dom(this.svgGroup,this.styleName_);if(b){this.hat=b.hat;let c,d;(d=(c=this.pathObject).setStyle)==null||d.call(c,b);this.colour_=b.colourPrimary;this.style=\nb;this.applyColour();addClass$$module$build$src$core$utils$dom(this.svgGroup,a);this.styleName_=a}else throw Error(\"Invalid style name: \"+a);}getStyle(){return this.style}bringToFront(a=!1){const b=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let c=this;if(!c.isDeadOrDying()){do{const d=c.getSvgRoot(),e=d.parentNode,f=e.childNodes;f[f.length-1]!==d&&e.appendChild(d);if(a)break;c=c.getParent()}while(c);b&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b)}}setPreviousStatement(a,\nb){super.setPreviousStatement(a,b);this.queueRender()}setNextStatement(a,b){super.setNextStatement(a,b);this.queueRender()}setOutput(a,b){super.setOutput(a,b);this.queueRender()}setInputsInline(a){super.setInputsInline(a);this.queueRender()}removeInput(a,b){a=super.removeInput(a,b);this.queueRender();return a}moveNumberedInputBefore(a,b){super.moveNumberedInputBefore(a,b);this.queueRender()}appendInput(a){super.appendInput(a);this.queueRender();return a}setConnectionTracking(a){this.previousConnection&&\nthis.previousConnection.setTracking(a);this.outputConnection&&this.outputConnection.setTracking(a);if(this.nextConnection){this.nextConnection.setTracking(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionTracking(a)}if(!this.collapsed_)for(b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.setTracking(a),(c=c.targetBlock())&&c.setConnectionTracking(a))}}getConnections_(a){const b=[];this.outputConnection&&b.push(this.outputConnection);this.previousConnection&&b.push(this.previousConnection);\nthis.nextConnection&&b.push(this.nextConnection);if(a||!this.collapsed_)for(let c=0,d;d=this.inputList[c];c++)d.connection&&b.push(d.connection);return b}lastConnectionInStack(a){return super.lastConnectionInStack(a)}getMatchingConnection(a,b){return super.getMatchingConnection(a,b)}makeConnection_(a){return new RenderedConnection$$module$build$src$core$rendered_connection(this,a)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const a=\nthis.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||a.isInFlyout))for(const b of this.getConnections_(!1)){if(b.isSuperior()){let c;(c=b.targetBlock())==null||c.bumpNeighbours()}for(const c of b.neighbours($.config$$module$build$src$core$config.snapRadius))c.getSourceBlock().getRootBlock()!==a&&(b.isConnected()&&c.isConnected()||(b.isSuperior()?c.bumpAwayFrom(b,!1):b.bumpAwayFrom(c,!0)))}}scheduleSnapAndBump(){this.snapToGrid();this.bumpNeighbours()}positionNearConnection(a,\nb,c){if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){let d=b.x;b=b.y;d+=c.x-a.getOffsetInBlock().x;b+=c.y-a.getOffsetInBlock().y;this.moveBy(d,b)}}getChildren(a){return super.getChildren(a)}queueRender(){return queueRender$$module$build$src$core$render_management(this)}render(){this.queueRender();triggerQueuedRenders$$module$build$src$core$render_management()}renderEfficiently(){startTextWidthCache$$module$build$src$core$utils$dom();\nthis.isCollapsed()&&this.updateCollapsed();this.isEnabled()||this.updateDisabled();this.workspace.getRenderer().render(this);this.tightenChildrenEfficiently();stopTextWidthCache$$module$build$src$core$utils$dom()}tightenChildrenEfficiently(){for(const a of this.inputList){const b=a.connection;b&&b.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let a=this.height,b=this.width;var c=this.getNextBlock();if(c){c=c.getHeightWidth();const d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;\na+=c.height-d;b=Math.max(b,c.width)}return{height:a,width:b}}fadeForReplacement(a){this.pathObject.updateReplacementFade(a)}highlightShapeForInput(a,b){this.pathObject.updateShapeForInputHighlight(a,b)}getDragStrategy(){return this.dragStrategy}setDragStrategy(a){this.dragStrategy=a}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(a){this.dragStrategy.startDrag(a)}drag(a,b){this.dragStrategy.drag(a,b)}endDrag(a){this.dragStrategy.endDrag(a)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const a=\nObject.assign({},{kind:\"BLOCK\"},save$$module$build$src$core$serialization$blocks(this)),b=new Set([\"id\",\"height\",\"width\",\"pinned\",\"enabled\"]),c=function(d){for(const e in d)b.has(e)?delete d[e]:typeof d[e]===\"object\"&&c(d[e])};c(a);return[a]}jsonInit(a){super.jsonInit(a);a.classes&&this.addClass(Array.isArray(a.classes)?a.classes.join(\" \"):a.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};\nBlockSvg$$module$build$src$core$block_svg.INLINE=-1;BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID=\"TEMP_COLLAPSED_WARNING_\";var module$build$src$core$block_svg={};module$build$src$core$block_svg.BlockSvg=BlockSvg$$module$build$src$core$block_svg;var DragTarget$$module$build$src$core$drag_target=class{constructor(){}onDragEnter(a){}onDragOver(a){}onDragExit(a){}onDrop(a){}getClientRect(){return null}shouldPreventMove(a){return!1}},module$build$src$core$drag_target={};module$build$src$core$drag_target.DragTarget=DragTarget$$module$build$src$core$drag_target;var module$build$src$core$interfaces$i_deletable={};module$build$src$core$interfaces$i_deletable.isDeletable=isDeletable$$module$build$src$core$interfaces$i_deletable;var DeleteArea$$module$build$src$core$delete_area=class extends DragTarget$$module$build$src$core$drag_target{constructor(){super();this.wouldDelete_=!1}wouldDelete(a){a instanceof BlockSvg$$module$build$src$core$block_svg?(a=!a.getParent()&&a.isDeletable(),this.updateWouldDelete_(a)):this.updateWouldDelete_(isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable());return this.wouldDelete_}updateWouldDelete_(a){this.wouldDelete_=a}},module$build$src$core$delete_area={};\nmodule$build$src$core$delete_area.DeleteArea=DeleteArea$$module$build$src$core$delete_area;var FlyoutItem$$module$build$src$core$flyout_item=class{constructor(a,b){this.element=a;this.type=b}getElement(){return this.element}getType(){return this.type}},module$build$src$core$flyout_item={};module$build$src$core$flyout_item.FlyoutItem=FlyoutItem$$module$build$src$core$flyout_item;var MetricsManager$$module$build$src$core$metrics_manager=class{constructor(a){this.workspace_=a}getDimensionsPx_(a){let b=0,c=0;a&&(b=a.getWidth(),c=a.getHeight());return new Size$$module$build$src$core$utils$size(b,c)}getFlyoutMetrics(a){a=this.getDimensionsPx_(this.workspace_.getFlyout(a));return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const a=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let a=\n0,b=0;const c=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;const g=!((f=this.workspace_.getFlyout())==null?0:f.autoClose);f=e?c.position:d.position;const h=f===Position$$module$build$src$core$utils$toolbox.TOP;f===Position$$module$build$src$core$utils$toolbox.LEFT&&(e&&(a+=c.width),g&&(a+=d.width));h&&(e&&(b+=c.height),g&&(b+=d.height));return{top:b,left:a}}getViewMetrics(a){a=a?this.workspace_.scale:1;const b=this.getSvgMetrics(),c=this.getToolboxMetrics(),\nd=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;const g=!((f=this.workspace_.getFlyout())==null?0:f.autoClose);f=e?c.position:d.position;const h=f===Position$$module$build$src$core$utils$toolbox.LEFT||f===Position$$module$build$src$core$utils$toolbox.RIGHT;if(f===Position$$module$build$src$core$utils$toolbox.TOP||f===Position$$module$build$src$core$utils$toolbox.BOTTOM)e&&(b.height-=c.height),g&&(b.height-=d.height);h&&(e&&(b.width-=c.width),g&&(b.width-=d.width));return{height:b.height/\na,width:b.width/a,top:-this.workspace_.scrollY/a,left:-this.workspace_.scrollX/a}}getContentMetrics(a){a=a?1:this.workspace_.scale;const b=this.workspace_.getBlocksBoundingBox();return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(a){if(!this.hasFixedEdges())return{};const b=this.workspace_.isMovableHorizontally(),c=this.workspace_.isMovableVertically();\na=a||this.getViewMetrics(!1);const d={};c||(d.top=a.top,d.bottom=a.top+a.height);b||(d.left=a.left,d.right=a.left+a.width);return d}getPaddedContent_(a,b){const c=b.top+b.height,d=b.left+b.width,e=a.width;a=a.height;const f=e/2,g=a/2;return{top:Math.min(b.top-g,c-a),bottom:Math.max(c+g,b.top+a),left:Math.min(b.left-f,d-e),right:Math.max(d+f,b.left+e)}}getScrollMetrics(a,b,c){a=a?this.workspace_.scale:1;b=b||this.getViewMetrics(!1);var d=c||this.getContentMetrics();c=this.getComputedFixedEdges_(b);\nb=this.getPaddedContent_(b,d);d=c.top!==void 0?c.top:b.top;const e=c.left!==void 0?c.left:b.left;return{top:d/a,left:e/a,width:((c.right!==void 0?c.right:b.right)-e)/a,height:((c.bottom!==void 0?c.bottom:b.bottom)-d)/a}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const a=this.getToolboxMetrics(),b=this.getFlyoutMetrics(!0),c=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),e=this.getViewMetrics(),\nf=this.getContentMetrics(),g=this.getScrollMetrics(!1,e,f);return{contentHeight:f.height,contentWidth:f.width,contentTop:f.top,contentLeft:f.left,scrollHeight:g.height,scrollWidth:g.width,scrollTop:g.top,scrollLeft:g.left,viewHeight:e.height,viewWidth:e.width,viewTop:e.top,viewLeft:e.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,toolboxPosition:a.position,flyoutWidth:b.width,flyoutHeight:b.height}}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,DEFAULT$$module$build$src$core$registry,MetricsManager$$module$build$src$core$metrics_manager);var module$build$src$core$metrics_manager={};module$build$src$core$metrics_manager.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;var FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager=class extends MetricsManager$$module$build$src$core$metrics_manager{constructor(a,b){super(a);this.flyout_=b}getBoundingBox(){let a;try{a=this.workspace_.getCanvas().getBBox()}catch(b){a={height:0,y:0,width:0,x:0}}return a}getContentMetrics(a){const b=this.getBoundingBox();a=a?1:this.workspace_.scale;return{height:b.height*a,width:b.width*a,top:b.y*a,left:b.x*a}}getScrollMetrics(a,b,c){b=c||this.getContentMetrics();c=this.flyout_.MARGIN*\nthis.workspace_.scale;a=a?this.workspace_.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}}},module$build$src$core$flyout_metrics_manager={};module$build$src$core$flyout_metrics_manager.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;var FlyoutButton$$module$build$src$core$flyout_button=class{constructor(a,b,c,d){this.workspace=a;this.targetWorkspace=b;this.isFlyoutLabel=d;this.height=this.width=0;this.cursorSvg=this.svgText=null;this.text=c.text;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.callbackKey=c.callbackKey||c.callbackkey;this.cssClass=c[\"web-class\"]||null;this.info=c;a=this.isFlyoutLabel?\"blocklyFlyoutLabel\":\"blocklyFlyoutButton\";this.cssClass&&(a+=\" \"+this.cssClass);this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();\nthis.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{id:this.id,\"class\":a},this.workspace.getCanvas());let e;this.isFlyoutLabel||(e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyFlyoutButtonShadow\",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,x:1,y:1},this.svgGroup));a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":this.isFlyoutLabel?\"blocklyFlyoutLabelBackground\":\"blocklyFlyoutButtonBackground\",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS},this.svgGroup);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{\"class\":this.isFlyoutLabel?\"blocklyFlyoutLabelText\":\"blocklyText\",x:0,y:0,\"text-anchor\":\"middle\"},this.svgGroup);c=replaceMessageReferences$$module$build$src$core$utils$parsing(this.text);\nthis.workspace.RTL&&(c+=\"\\u200f\");b.textContent=c;this.isFlyoutLabel&&(this.svgText=b,this.workspace.getThemeManager().subscribe(this.svgText,\"flyoutForegroundColour\",\"fill\"));d=getComputedStyle$$module$build$src$core$utils$style(b,\"fontSize\");const f=getComputedStyle$$module$build$src$core$utils$style(b,\"fontWeight\"),g=getComputedStyle$$module$build$src$core$utils$style(b,\"fontFamily\");this.width=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(b,d,f,g);c=measureFontMetrics$$module$build$src$core$utils$dom(c,\nd,f,g);this.height=this.height||c.height;if(!this.isFlyoutLabel){this.width+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X;this.height+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y;let h;(h=e)==null||h.setAttribute(\"width\",String(this.width));let k;(k=e)==null||k.setAttribute(\"height\",String(this.height))}a.setAttribute(\"width\",String(this.width));a.setAttribute(\"height\",String(this.height));b.setAttribute(\"x\",String(this.width/2));b.setAttribute(\"y\",String(this.height/\n2-c.height/2+c.baseline));this.updateTransform();this.onMouseDownWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,\"pointerdown\",this,this.onMouseDown);this.onMouseUpWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,\"pointerup\",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform();this.svgGroup.setAttribute(\"display\",\"block\")}updateTransform(){this.svgGroup.setAttribute(\"transform\",\"translate(\"+this.position.x+\",\"+this.position.y+\n\")\")}moveTo(a,b){this.position.x=a;this.position.y=b;this.updateTransform()}moveBy(a,b,c){this.moveTo(this.position.x+a,this.position.y+b)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){unbind$$module$build$src$core$browser_events(this.onMouseDownWrapper);\nunbind$$module$build$src$core$browser_events(this.onMouseUpWrapper);this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(a){a?this.svgGroup&&(this.svgGroup.appendChild(a),this.cursorSvg=a):this.cursorSvg=null}onMouseUp(a){(a=this.targetWorkspace.getGesture(a))&&a.cancel();this.isFlyoutLabel&&this.callbackKey?console.warn(\"Labels should not have callbacks. Label text: \"+this.text):this.isFlyoutLabel||\nthis.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(a=this.targetWorkspace.getButtonCallback(this.callbackKey))&&a(this):console.warn(\"Buttons should have callbacks. Button text: \"+this.text)}onMouseDown(a){const b=this.targetWorkspace.getGesture(a),c=this.targetWorkspace.getFlyout();b&&c&&b.handleFlyoutStart(a,c)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var a=this.getPosition();\na=new Rect$$module$build$src$core$utils$rect(a.y,a.y+this.height,a.x,a.x+this.width);this.workspace.scrollBoundsIntoView(a)}onNodeBlur(){}canBeFocused(){return!0}};FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X=5;FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y=2;FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS=4;register$$module$build$src$core$css(\"\\n.blocklyFlyoutButton {\\n  fill: #888;\\n  cursor: default;\\n}\\n\\n.blocklyFlyoutButtonShadow {\\n  fill: #666;\\n}\\n\\n.blocklyFlyoutButton:hover {\\n  fill: #aaa;\\n}\\n\\n.blocklyFlyoutLabel {\\n  cursor: default;\\n}\\n\\n.blocklyFlyoutLabelBackground {\\n  opacity: 0;\\n}\\n\");\nvar module$build$src$core$flyout_button={};module$build$src$core$flyout_button.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;var FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getWorkspace()}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof FlyoutButton$$module$build$src$core$flyout_button}},module$build$src$core$keyboard_nav$flyout_button_navigation_policy={};\nmodule$build$src$core$keyboard_nav$flyout_button_navigation_policy.FlyoutButtonNavigationPolicy=FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy;var FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy=class{constructor(a,b){this.policy=a;this.flyout=b}getFirstChild(a){return null}getParent(a){return this.policy.getParent(a)}getNextSibling(a){const b=this.flyout.getContents();if(!b)return null;let c=b.findIndex(d=>d.getElement()===a);if(c===-1)return null;c++;c>=b.length&&(c=0);return b[c].getElement()}getPreviousSibling(a){const b=this.flyout.getContents();if(!b)return null;let c=b.findIndex(d=>d.getElement()===\na);if(c===-1)return null;c--;c<0&&(c=b.length-1);return b[c].getElement()}isNavigable(a){return this.policy.isNavigable(a)}isApplicable(a){return this.policy.isApplicable(a)}},module$build$src$core$keyboard_nav$flyout_navigation_policy={};module$build$src$core$keyboard_nav$flyout_navigation_policy.FlyoutNavigationPolicy=FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy;var FlyoutSeparator$$module$build$src$core$flyout_separator=class{constructor(a,b){this.gap=a;this.axis=b;this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case \"x\":return new Rect$$module$build$src$core$utils$rect(this.y,this.y,this.x,this.x+this.gap);case \"y\":return new Rect$$module$build$src$core$utils$rect(this.y,this.y+this.gap,this.x,this.x)}}moveBy(a,b,c){this.x+=a;this.y+=b}isNavigable(){return!1}getFocusableElement(){throw Error(\"Cannot be focused\");}getFocusableTree(){throw Error(\"Cannot be focused\");\n}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},module$build$src$core$flyout_separator={};module$build$src$core$flyout_separator.FlyoutSeparator=FlyoutSeparator$$module$build$src$core$flyout_separator;var FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy=class{getFirstChild(a){return null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return!1}isApplicable(a){return a instanceof FlyoutSeparator$$module$build$src$core$flyout_separator}},module$build$src$core$keyboard_nav$flyout_separator_navigation_policy={};\nmodule$build$src$core$keyboard_nav$flyout_separator_navigation_policy.FlyoutSeparatorNavigationPolicy=FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy;var BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy=class{getFirstChild(a){return a.getEditor()}getParent(a){let b;return(b=a.getOwner())!=null?b:null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof TextInputBubble$$module$build$src$core$bubbles$textinput_bubble}},module$build$src$core$keyboard_nav$block_comment_navigation_policy={};\nmodule$build$src$core$keyboard_nav$block_comment_navigation_policy.BlockCommentNavigationPolicy=BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy;var BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy=class{getFirstChild(a){return getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy(a,!0)[0]}getParent(a){var b;if((b=a.previousConnection)==null?0:b.targetBlock()){if(b=a.getSurroundParent())return b}else{let c;if((c=a.outputConnection)==null?0:c.targetBlock())return a.outputConnection.targetBlock()}return a.workspace}getNextSibling(a){let b;if((b=a.nextConnection)==null?0:b.targetBlock()){let d;\nreturn(d=a.nextConnection)==null?void 0:d.targetBlock()}let c;return((c=a.outputConnection)==null?0:c.targetBlock())?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1):a.getSurroundParent()?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a.getTopStackBlock(),1):this.getParent(a)instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1):null}getPreviousSibling(a){let b;\nif((b=a.previousConnection)==null?0:b.targetBlock()){let d;return(d=a.previousConnection)==null?void 0:d.targetBlock()}let c;return((c=a.outputConnection)==null?0:c.targetBlock())?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1):this.getParent(a)instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1):null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof BlockSvg$$module$build$src$core$block_svg}},\nmodule$build$src$core$keyboard_nav$block_navigation_policy={};module$build$src$core$keyboard_nav$block_navigation_policy.BlockNavigationPolicy=BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$keyboard_nav$block_navigation_policy.navigateBlock=navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$keyboard_nav$block_navigation_policy.navigateStacks=navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy;var CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getCommentView().workspace.getCommentById(a.getCommentView().commentId)}getNextSibling(a){const b=a.getCommentView().getCommentBarButtons();a=b.indexOf(a);return a>=0&&a+1<b.length?b[a+1]:null}getPreviousSibling(a){const b=a.getCommentView().getCommentBarButtons();a=b.indexOf(a);return a>0?b[a-1]:null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof\nCommentBarButton$$module$build$src$core$comments$comment_bar_button}},module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy={};module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy.CommentBarButtonNavigationPolicy=CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy;var CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy=class{getFirstChild(a){return null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof CommentEditor$$module$build$src$core$comments$comment_editor}},module$build$src$core$keyboard_nav$comment_editor_navigation_policy={};\nmodule$build$src$core$keyboard_nav$comment_editor_navigation_policy.CommentEditorNavigationPolicy=CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy;var ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy=class{getFirstChild(a){return a.getParentInput()?a.targetConnection:null}getParent(a){return a.getSourceBlock()}getNextSibling(a){if(a.getParentInput())return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1);if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){const c=a.targetConnection;var b=a.getSourceBlock();if(!c&&b.getRootBlock().lastConnectionInStack(!1)===\na){a=b.workspace.getTopBlocks(!0);b=a.indexOf(b.getRootBlock())+1;b>=a.length&&(b=0);b=a[b];let d;return(d=this.getParentConnection(b))!=null?d:b}return c}return a.getSourceBlock()}getPreviousSibling(a){if(a.getParentInput())return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1);if(a.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE){const c=a.targetConnection&&\n!a.targetConnection.getParentInput()?a.targetConnection:null;var b=a.getSourceBlock();if(!c&&this.getParentConnection(b.getRootBlock())===a){a=b.workspace.getTopBlocks(!0);b=a.indexOf(b.getRootBlock())-1;b<0&&(b=a.length-1);b=a[b];let d;return(d=b.lastConnectionInStack(!1))!=null?d:b}return c}return a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT?a.getSourceBlock():null}getParentConnection(a){let b;return!a.outputConnection||((b=a.previousConnection)==null?0:b.isConnected())?\na.previousConnection:a.outputConnection}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof RenderedConnection$$module$build$src$core$rendered_connection}},module$build$src$core$keyboard_nav$connection_navigation_policy={};module$build$src$core$keyboard_nav$connection_navigation_policy.ConnectionNavigationPolicy=ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy;var FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getSourceBlock()}getNextSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){let b;return a.canBeFocused()&&a.isVisible()&&(a.isClickable()||a.isCurrentlyEditable())&&!(((b=a.getSourceBlock())==\nnull?0:b.isSimpleReporter())&&a.isFullBlockField())&&a.getParentInput().isVisible()}isApplicable(a){return a instanceof Field$$module$build$src$core$field}},module$build$src$core$keyboard_nav$field_navigation_policy={};module$build$src$core$keyboard_nav$field_navigation_policy.FieldNavigationPolicy=FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy;var module$build$src$core$icons$registry={};module$build$src$core$icons$registry.register=register$$module$build$src$core$icons$registry;module$build$src$core$icons$registry.unregister=unregister$$module$build$src$core$icons$registry;var SIZE$$module$build$src$core$icons$comment_icon=17,DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon=160,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon=80,CommentIcon$$module$build$src$core$icons$comment_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a){super(a);this.sourceBlock=a;this.textInputBubble=null;this.text=\"\";this.bubbleSize=new Size$$module$build$src$core$utils$size(DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);\nthis.bubbleVisiblity=!1}getType(){return CommentIcon$$module$build$src$core$icons$comment_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{\"class\":\"blocklyIconShape\",r:\"8\",cx:\"8\",cy:\"8\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconSymbol\",x:\"6.8\",y:\"10.78\",height:\"2\",width:\"2\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCommentIcon\"))}dispose(){super.dispose();let a;(a=this.textInputBubble)==null||a.dispose()}getWeight(){return CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$comment_icon,\nSIZE$$module$build$src$core$icons$comment_icon)}applyColour(){super.applyColour();const a=this.sourceBlock.getColour();let b;(b=this.textInputBubble)==null||b.setColour(a)}updateEditable(){const a=this,b=()=>super.updateEditable;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){b().call(a);a.bubbleIsVisible()&&(yield a.setBubbleVisible(!1),yield a.setBubbleVisible(!0))})}onLocationChange(a){const b=this.workspaceLocation;super.onLocationChange(a);this.bubbleLocation&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.workspaceLocation,\nb),this.bubbleLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(this.bubbleLocation,a));a=this.getAnchorLocation();let c;(c=this.textInputBubble)==null||c.setAnchorLocation(a)}setText(a){const b=this.text;fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\"comment\",null,b,a));this.text=a;let c;(c=this.textInputBubble)==null||c.setText(this.text)}getText(){return this.text}setBubbleSize(a){this.bubbleSize=\na;let b;(b=this.textInputBubble)==null||b.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(a){this.bubbleLocation=a;let b;(b=this.textInputBubble)==null||b.moveDuringDrag(a)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const a={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},b=this.getBubbleLocation();b&&(a.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(b.x+\nthis.bubbleSize.width):b.x,a.y=b.y);return a}return null}loadState(a){let b;this.text=(b=a.text)!=null?b:\"\";let c,d;this.bubbleSize=new Size$$module$build$src$core$utils$size((c=a.width)!=null?c:DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,(d=a.height)!=null?d:DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);let e;this.bubbleVisiblity=(e=a.pinned)!=null?e:!1;this.setBubbleVisible(this.bubbleVisiblity);let f=a.x;const g=a.y;finishQueuedRenders$$module$build$src$core$render_management().then(()=>\n{f&&g&&(f=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(f+this.bubbleSize.width):f,this.setBubbleLocation(new Coordinate$$module$build$src$core$utils$coordinate(f,g)))})}onClick(){super.onClick();this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var a=this.textInputBubble.getText();this.text!==a&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\n\"comment\",null,this.text,a)),this.text=a)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){b.bubbleVisiblity!==a&&(b.bubbleVisiblity=a,yield finishQueuedRenders$$module$build$src$core$render_management(),\n!b.sourceBlock.rendered||b.sourceBlock.isInFlyout||b.sourceBlock.isInsertionMarker()||(a?(b.sourceBlock.isEditable()?b.showEditableBubble():b.showNonEditableBubble(),b.applyColour()):b.hideBubble(),fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,a,\"comment\"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let a;(a=this.textInputBubble)==null||a.addTextChangeListener(()=>\nthis.onTextChange());let b;(b=this.textInputBubble)==null||b.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let a;(a=this.textInputBubble)==null||a.setEditable(!1)}createBubble(){this.textInputBubble=new TextInputBubble$$module$build$src$core$bubbles$textinput_bubble(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this);this.textInputBubble.setText(this.getText());this.textInputBubble.setSize(this.bubbleSize,!0);this.bubbleLocation&&\nthis.textInputBubble.moveDuringDrag(this.bubbleLocation);this.textInputBubble.addTextChangeListener(()=>this.onTextChange());this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange());this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let a;(a=this.textInputBubble)==null||a.dispose();this.textInputBubble=null}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$comment_icon/2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,\nnew Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};CommentIcon$$module$build$src$core$icons$comment_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.COMMENT;CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT=3;register$$module$build$src$core$icons$registry(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE,CommentIcon$$module$build$src$core$icons$comment_icon);\nvar module$build$src$core$icons$comment_icon={};module$build$src$core$icons$comment_icon.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;var IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy=class{getFirstChild(a){if(a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&a.bubbleIsVisible()&&$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===a){let b,c;return(c=(b=a.getBubble())==null?void 0:b.getWorkspace())!=null?c:null}if(a instanceof CommentIcon$$module$build$src$core$icons$comment_icon&&a.bubbleIsVisible()&&$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===\na){let b,c;return(c=(b=a.getBubble())==null?void 0:b.getEditor())!=null?c:null}return null}getParent(a){return a.getSourceBlock()}getNextSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof Icon$$module$build$src$core$icons$icon}},module$build$src$core$keyboard_nav$icon_navigation_policy=\n{};module$build$src$core$keyboard_nav$icon_navigation_policy.IconNavigationPolicy=IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy;var WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy=class{getFirstChild(a){return a.view.getCommentBarButtons()[0]}getParent(a){return a.workspace}getNextSibling(a){return navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment}},\nmodule$build$src$core$keyboard_nav$workspace_comment_navigation_policy={};module$build$src$core$keyboard_nav$workspace_comment_navigation_policy.WorkspaceCommentNavigationPolicy=WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy;var WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy=class{getFirstChild(a){a=a.getTopBlocks(!0);return a.length?a[0]:null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()&&!a.isMutator}isApplicable(a){return a instanceof WorkspaceSvg$$module$build$src$core$workspace_svg}},module$build$src$core$keyboard_nav$workspace_navigation_policy={};\nmodule$build$src$core$keyboard_nav$workspace_navigation_policy.WorkspaceNavigationPolicy=WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy;var Navigator$$module$build$src$core$navigator=class{constructor(){this.rules=[new BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy,new FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy,new ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy,new WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy,new IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy,\nnew WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy,new CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy,new BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy,new CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy]}addNavigationPolicy(a){this.rules.push(a)}get(a){return this.rules.find(b=>b.isApplicable(a))}getFirstChild(a){let b;\nconst c=(b=this.get(a))==null?void 0:b.getFirstChild(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getFirstChild(c)||this.getNextSibling(c)}getParent(a){let b;const c=(b=this.get(a))==null?void 0:b.getParent(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getParent(c)}getNextSibling(a){let b;const c=(b=this.get(a))==null?void 0:b.getNextSibling(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getNextSibling(c)}getPreviousSibling(a){let b;\nconst c=(b=this.get(a))==null?void 0:b.getPreviousSibling(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getPreviousSibling(c)}},module$build$src$core$navigator={};module$build$src$core$navigator.Navigator=Navigator$$module$build$src$core$navigator;var FlyoutNavigator$$module$build$src$core$flyout_navigator=class extends Navigator$$module$build$src$core$navigator{constructor(a){super();this.rules.push(new FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy,new FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy);this.rules=this.rules.map(b=>new FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy(b,a))}},module$build$src$core$flyout_navigator=\n{};module$build$src$core$flyout_navigator.FlyoutNavigator=FlyoutNavigator$$module$build$src$core$flyout_navigator;var ScrollbarPair$$module$build$src$core$scrollbar_pair=class{constructor(a,b,c,d,e){this.workspace=a;this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null;b=b===void 0?!0:b;c=c===void 0?!0:c;const f=b&&c;b&&(this.hScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!0,f,d,e));c&&(this.vScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!1,f,d,e));f&&(this.corner_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,\nwidth:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,\"class\":\"blocklyScrollbarBackground\"}),insertAfter$$module$build$src$core$utils$dom(this.corner_,a.getBubbleCanvas()))}dispose(){removeNode$$module$build$src$core$utils$dom(this.corner_);this.oldHostMetrics=this.corner_=null;this.hScroll&&(this.hScroll.dispose(),this.hScroll=null);this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const a=this.workspace.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics&&this.oldHostMetrics.viewWidth===\na.viewWidth&&this.oldHostMetrics.viewHeight===a.viewHeight&&this.oldHostMetrics.absoluteTop===a.absoluteTop&&this.oldHostMetrics.absoluteLeft===a.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===a.scrollWidth&&this.oldHostMetrics.viewLeft===a.viewLeft&&this.oldHostMetrics.scrollLeft===a.scrollLeft||(b=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===a.scrollHeight&&this.oldHostMetrics.viewTop===a.viewTop&&this.oldHostMetrics.scrollTop===a.scrollTop||(c=!0)):c=b=!0;if(b||\nc){try{$.disable$$module$build$src$core$events$utils(),this.hScroll&&b&&this.hScroll.resize(a),this.vScroll&&c&&this.vScroll.resize(a)}finally{$.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft){let d;(d=this.corner_)==null||d.setAttribute(\"x\",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==\na.viewHeight||this.oldHostMetrics.absoluteTop!==a.absoluteTop){let d;(d=this.corner_)==null||d.setAttribute(\"y\",String(this.hScroll.position.y))}}this.oldHostMetrics=a}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(a,b){this.hScroll&&this.hScroll.setOrigin(a,b);this.vScroll&&this.vScroll.setOrigin(a,b)}set(a,b,c){this.hScroll&&this.hScroll.set(a,!1);this.vScroll&&this.vScroll.set(b,!1);if(c||c===void 0)a={},this.hScroll&&(a.x=this.hScroll.getRatio_()),\nthis.vScroll&&(a.y=this.vScroll.getRatio_()),this.workspace.setMetrics(a)}setX(a){this.hScroll&&this.hScroll.set(a,!0)}setY(a){this.vScroll&&this.vScroll.set(a,!0)}setContainerVisible(a){this.hScroll&&this.hScroll.setContainerVisible(a);this.vScroll&&this.vScroll.setContainerVisible(a)}isVisible(){let a=!1;this.hScroll&&(a=this.hScroll.isVisible());this.vScroll&&(a=a||this.vScroll.isVisible());return a}setVisible(a){this.hScroll&&this.hScroll.setVisibleInternal(a);this.vScroll&&this.vScroll.setVisibleInternal(a)}resizeContent(a){this.hScroll&&\nthis.hScroll.resizeContentHorizontal(a);this.vScroll&&this.vScroll.resizeContentVertical(a)}resizeView(a){this.hScroll&&this.hScroll.resizeViewHorizontal(a);this.vScroll&&this.vScroll.resizeViewVertical(a)}},module$build$src$core$scrollbar_pair={};module$build$src$core$scrollbar_pair.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;var SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater=\"sep\",SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater=class{load(a,b){a=new FlyoutSeparator$$module$build$src$core$flyout_separator(0,b.horizontalLayout?\"x\":\"y\");return new FlyoutItem$$module$build$src$core$flyout_item(a,SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater)}gapForItem(a,b){let c;return(c=parseInt(String(a.gap)))!=null?c:b}disposeItem(a){}getType(){return SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater,SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater);var module$build$src$core$separator_flyout_inflater={SEPARATOR_TYPE:SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater};module$build$src$core$separator_flyout_inflater.SeparatorFlyoutInflater=SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater;var Flyout$$module$build$src$core$flyout_base=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.horizontalLayout=!1;this.boundEvents=[];this.reflowWrapper=null;this.contents=[];this.autoClose=!0;this.visible=!1;this.containerVisible=!0;this.CORNER_RADIUS=8;this.SCROLLBAR_MARGIN=2.5;this.height_=this.width_=0;this.dragAngleRange_=70;this.svgGroup_=this.svgBackground_=null;this.inflaters=new Map;a.setMetrics=this.setMetrics_.bind(this);this.workspace_=new WorkspaceSvg$$module$build$src$core$workspace_svg(a);\nthis.workspace_.setMetricsManager(new FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager(this.workspace_,this));this.workspace_.internalIsFlyout=!0;this.workspace_.setVisible(this.visible);this.workspace_.setNavigator(new FlyoutNavigator$$module$build$src$core$flyout_navigator(this));this.id=genUid$$module$build$src$core$utils$idgenerator();this.RTL=!!a.RTL;this.toolboxPosition_=a.toolboxPosition;this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH;this.MARGIN=this.CORNER_RADIUS;\nthis.GAP_X=this.MARGIN*3;this.GAP_Y=this.MARGIN*3}createDom(a){this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(a,{\"class\":\"blocklyFlyout\"});this.svgGroup_.style.display=\"none\";this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyFlyoutBackground\"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());this.workspace_.getThemeManager().subscribe(this.svgBackground_,\"flyoutBackgroundColour\",\n\"fill\");this.workspace_.getThemeManager().subscribe(this.svgBackground_,\"flyoutOpacity\",\"fill-opacity\");return this.svgGroup_}init(a){this.targetWorkspace=a;this.workspace_.targetWorkspace=a;this.workspace_.scrollbar=new ScrollbarPair$$module$build$src$core$scrollbar_pair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,\"blocklyFlyoutScrollbar\",this.SCROLLBAR_MARGIN);this.hide();this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"wheel\",this,this.wheel_));\nthis.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgBackground_,\"pointerdown\",this,this.onMouseDown));this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace);this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap());this.workspace_.createPotentialVariableMap();a.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.FLYOUT_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,\nComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]})}dispose(){this.hide();this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);this.boundEvents.length=0;this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose());this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(a){this.autoClose=\na;this.targetWorkspace.recordDragTargets();this.targetWorkspace.resizeContents()}autoHide(a){!a&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(a){const b=a!==this.isVisible();this.visible=a;b&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(a){const b=a!==this.containerVisible;this.containerVisible=a;b&&this.updateDisplay()}getContents(){return this.contents}setContents(a){this.contents=\na}updateDisplay(){let a;a=this.containerVisible?this.isVisible():!1;this.svgGroup_&&(this.svgGroup_.style.display=a?\"block\":\"none\");let b;(b=this.workspace_.scrollbar)==null||b.setContainerVisible(a)}positionAt_(a,b,c,d){let e;(e=this.svgGroup_)==null||e.setAttribute(\"width\",`${a}`);let f;(f=this.svgGroup_)==null||f.setAttribute(\"height\",`${b}`);this.workspace_.setCachedParentSvgSize(a,b);this.svgGroup_&&setCssTransform$$module$build$src$core$utils$dom(this.svgGroup_,\"translate(\"+c+\"px,\"+d+\"px)\");\nif(a=this.workspace_.scrollbar)a.setOrigin(c,d),a.resize(),a.hScroll&&a.hScroll.setPosition(a.hScroll.position.x,a.hScroll.position.y),a.vScroll&&a.vScroll.setPosition(a.vScroll.position.x,a.vScroll.position.y)}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(a){this.workspace_.setResizesEnabled(!1);this.hide();this.clearOldBlocks();typeof a===\"string\"&&(a=this.getDynamicCategoryContents(a));\nthis.setVisible(!0);a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a);a=this.createFlyoutInfo(a);triggerQueuedRenders$$module$build$src$core$render_management(this.workspace_);this.setContents(a);this.layout_(a);this.horizontalLayout?this.height_=0:this.width_=0;this.reflow();this.workspace_.setResizesEnabled(!0);this.reflowWrapper=b=>{b.type!==EventType$$module$build$src$core$events$type.BLOCK_CHANGE&&b.type!==EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE||\nthis.reflow()};this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(a){const b=[],c=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of a)if(\"custom\"in d&&(a=this.getDynamicCategoryContents(d.custom),a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),b.push(...this.createFlyoutInfo(a))),a=d.kind.toLowerCase(),a=this.getInflaterForType(a))b.push(a.load(d,this)),(a=a.gapForItem(d,c))&&b.push(new FlyoutItem$$module$build$src$core$flyout_item(new FlyoutSeparator$$module$build$src$core$flyout_separator(a,\nthis.horizontalLayout?\"x\":\"y\"),SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater));return this.normalizeSeparators(b)}normalizeSeparators(a){for(let b=a.length-1;b>0;b--){const c=a[b].getType().toLowerCase(),d=a[b-1].getType().toLowerCase();c===SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater&&d===SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater&&a.splice(b-1,1)}return a}getDynamicCategoryContents(a){a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);\nif(typeof a!==\"function\")throw TypeError(\"Couldn't find a callback function when opening a toolbox category.\");return a(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(b=>{let c;(c=this.getInflaterForType(b.getType()))==null||c.disposeItem(b)});let a;(a=this.workspace_.getPotentialVariableMap())==null||a.clear()}onMouseDown(a){const b=this.targetWorkspace.getGesture(a);b&&b.handleFlyoutStart(a,this)}isBlockCreatable(a){return a.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(a){let b=\nnull;$.disable$$module$build$src$core$events$utils();var c=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{b=this.placeNewBlock(a)}finally{$.enable$$module$build$src$core$events$utils()}this.targetWorkspace.hideChaff();a=getAddedVariables$$module$build$src$core$variables(this.targetWorkspace,c);if(isEnabled$$module$build$src$core$events$utils()){$.setGroup$$module$build$src$core$events$utils(!0);for(c=0;c<a.length;c++){const d=a[c];fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(d))}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(b))}this.autoClose&&\nthis.hide();return b}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper);this.reflowInternal_();this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(a){var b=this.targetWorkspace;if(!a.getSvgRoot())throw Error(\"oldBlock is not rendered\");const c=this.serializeBlock(a);b.setResizesEnabled(!1);b=append$$module$build$src$core$serialization$blocks(c,\nb);this.positionNewBlock(a,b);return b}serializeBlock(a){return save$$module$build$src$core$serialization$blocks(a)}positionNewBlock(a,b){const c=this.targetWorkspace;var d=c.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY();a.scale(this.workspace_.scale);e=Coordinate$$module$build$src$core$utils$coordinate.sum(e,a);d=Coordinate$$module$build$src$core$utils$coordinate.difference(e,d);d.scale(1/c.scale);b.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(d.x,\nd.y))}getInflaterForType(a){if(this.inflaters.has(a)){var b;return(b=this.inflaters.get(a))!=null?b:null}return(b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,a))?(b=new b,this.inflaters.set(a,b),b):null}getFocusableElement(){throw Error(\"Flyouts are not directly focusable.\");}getFocusableTree(){throw Error(\"Flyouts are not directly focusable.\");}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error(\"Flyouts are not directly focusable.\");\n}getRestoredFocusableNode(a){throw Error(\"Flyouts are not directly focusable.\");}getNestedTrees(){throw Error(\"Flyouts are not directly focusable.\");}lookUpFocusableNode(a){throw Error(\"Flyouts are not directly focusable.\");}onTreeFocus(a,b){}onTreeBlur(a){throw Error(\"Flyouts are not directly focusable.\");}},module$build$src$core$flyout_base={};module$build$src$core$flyout_base.Flyout=Flyout$$module$build$src$core$flyout_base;var module$build$src$core$interfaces$i_draggable={};module$build$src$core$interfaces$i_draggable.isDraggable=isDraggable$$module$build$src$core$interfaces$i_draggable;var KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller=class{constructor(){this.isActive=!1;this.activeClassName=\"blocklyKeyboardNavigation\"}setIsActive(a=!0){this.isActive=a;this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller=\nnew KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller,module$build$src$core$keyboard_navigation_controller={};module$build$src$core$keyboard_navigation_controller.KeyboardNavigationController=KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$keyboard_navigation_controller.keyboardNavigationController=keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;var WorkspaceDragger$$module$build$src$core$workspace_dragger=class{constructor(a){this.workspace=a;this.horizontalScrollEnabled=this.workspace.isMovableHorizontally();this.verticalScrollEnabled=this.workspace.isMovableVertically();this.startScrollXY_=new Coordinate$$module$build$src$core$utils$coordinate(a.scrollX,a.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(a){this.drag(a)}drag(a){a=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startScrollXY_,a);if(this.horizontalScrollEnabled&&\nthis.verticalScrollEnabled)this.workspace.scroll(a.x,a.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(a.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,a.y);else throw new TypeError(\"Invalid state.\");}},module$build$src$core$workspace_dragger={};module$build$src$core$workspace_dragger.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;var ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture=5,ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture=6,Gesture$$module$build$src$core$gesture=class{constructor(a,b){this.creatorWorkspace=b;this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null;this.hasExceededDragRadius=!1;this.boundEvents=[];this.workspaceDragger=this.dragger=null;this.dragging=\n!1;this.flyout=null;this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1;this.cachedPoints=new Map;this.startDistance=this.previousScale=0;this.currentDropdownOwner=this.isPinchZoomEnabled=null;this.mostRecentEvent=a;this.currentDragDeltaXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0)}dispose(){clearTouchIdentifier$$module$build$src$core$touch();unblock$$module$build$src$core$tooltip();this.creatorWorkspace.clearGesture();for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);\nthis.boundEvents.length=0;this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);this.updateDragDelta(b)&&(this.updateIsDragging(a),longStop$$module$build$src$core$touch());this.mostRecentEvent=a}updateDragDelta(a){this.currentDragDeltaXY=Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.mouseDownXY);return this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Coordinate$$module$build$src$core$utils$coordinate.magnitude(this.currentDragDeltaXY)>\n(this.flyout?$.config$$module$build$src$core$config.flyoutDragRadius:$.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let a;if(!this.targetBlock||(a=this.flyout)==null||!a.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(\"Cannot update dragging from the flyout because the ' +\\n          'flyout's target workspace is undefined\");return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=\nthis.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error(\"Cannot update dragging the workspace because the start workspace is undefined\");\nif(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())this.dragging=!0,this.workspaceDragger=new WorkspaceDragger$$module$build$src$core$workspace_dragger(this.startWorkspace_),this.workspaceDragger.startDrag()}updateIsDragging(a){if(!this.startWorkspace_)throw Error(\"Cannot update dragging because the start workspace is undefined\");if(this.calledUpdateIsDragging)throw Error(\"updateIsDragging_ should only be called once per gesture.\");this.calledUpdateIsDragging=\n!0;this.flyout&&this.updateIsDraggingFromFlyout();const b=getSelected$$module$build$src$core$common();b&&isDraggable$$module$build$src$core$interfaces$i_draggable(b)&&b.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(b,this.startWorkspace_),this.dragger.onDragStart(a),this.dragger.onDrag(a,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(a,b){return new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,this.creatorWorkspace.options,\n!0))(a,b)}doStart(a){if(!this.startWorkspace_)throw Error(\"Cannot start the touch gesture becauase the start workspace is undefined\");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch;isTargetInput$$module$build$src$core$browser_events(a)?this.cancel():(this.gestureHasStarted=!0,disconnectUiStop$$module$build$src$core$block_animations(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),\nthis.currentDropdownOwner=getOwner$$module$build$src$core$dropdowndiv(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=a,block$$module$build$src$core$tooltip(),isRightButton$$module$build$src$core$browser_events(a)?this.handleRightClick(a):(a.type.toLowerCase()===\"pointerdown\"&&a.pointerType!==\"mouse\"&&longStart$$module$build$src$core$touch(a,this),this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY),this.bindMouseEvents(a),\nthis.isEnding_||this.handleTouchStart(a)))}bindMouseEvents(a){this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointerdown\",null,this.handleStart.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",null,this.handleMove.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",null,this.handleUp.bind(this),!0));a.preventDefault();a.stopPropagation()}handleStart(a){this.isDragging()||\n(this.handleTouchStart(a),this.isMultiTouch()&&longStop$$module$build$src$core$touch())}handleMove(a){if(this.isDragging()&&shouldHandleEvent$$module$build$src$core$touch(a)||!this.isMultiTouch()){this.updateFromEvent(a);if(this.workspaceDragger)this.workspaceDragger.drag(this.currentDragDeltaXY);else if(this.dragger)this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY);a.preventDefault();a.stopPropagation()}else this.isMultiTouch()&&(this.handleTouchMove(a),longStop$$module$build$src$core$touch())}handleUp(a){this.isDragging()||\nthis.handleTouchEnd(a);if(!this.isMultiTouch()||this.isDragging()){if(!shouldHandleEvent$$module$build$src$core$touch(a))return;this.updateFromEvent(a);longStop$$module$build$src$core$touch();if(this.isEnding_){console.log(\"Trying to end a gesture recursively.\");return}this.isEnding_=!0;this.dragger?(keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1),this.dragger.onDragEnd(a,this.currentDragDeltaXY)):this.workspaceDragger?(keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1),\nthis.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(a))}a.preventDefault();a.stopPropagation();this.dispose()}handleTouchStart(a){var b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));var c=Array.from(this.cachedPoints.keys());\nc.length===2&&(b=this.cachedPoints.get(c[0]),c=this.cachedPoints.get(c[1]),this.startDistance=Coordinate$$module$build$src$core$utils$coordinate.distance(b,c),this.multiTouch=!0,a.preventDefault())}handleTouchMove(a){const b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));if(this.isPinchZoomEnabled&&this.cachedPoints.size===2)this.handlePinch(a);else{this.updateFromEvent(a);if(this.workspaceDragger)this.workspaceDragger.drag(this.currentDragDeltaXY);\nelse if(this.dragger)this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY);a.preventDefault();a.stopPropagation()}}handlePinch(a){var b=Array.from(this.cachedPoints.keys()),c=this.cachedPoints.get(b[0]);b=this.cachedPoints.get(b[1]);c=Coordinate$$module$build$src$core$utils$coordinate.distance(c,b)/this.startDistance;if(this.previousScale>0&&this.previousScale<Infinity){b=c-this.previousScale;b=b>0?b*ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture:b*ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture;\nif(!this.startWorkspace_)throw Error(\"Cannot handle a pinch because the start workspace is undefined\");const d=this.startWorkspace_,e=mouseToSvg$$module$build$src$core$browser_events(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,b)}this.previousScale=c;a.preventDefault()}handleTouchEnd(a){a=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.has(a)&&this.cachedPoints.delete(a);this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(a){return this.startWorkspace_?\nnew Coordinate$$module$build$src$core$utils$coordinate(a.pageX,a.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){if(!this.isEnding_){longStop$$module$build$src$core$touch();if(this.dragger)this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY);else this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY);this.dispose()}}handleRightClick(a){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(a)):\nthis.startBubble?this.startBubble.showContextMenu(a):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(a)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(a));a.preventDefault();a.stopPropagation();keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1);this.dispose()}handleWsStart(a,\nb){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleWsStart, but the gesture had already been started.\");this.setStartWorkspace(b);this.mostRecentEvent=a;this.startBlock||this.startBubble||this.startComment?this.startBlock&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b);this.doStart(a)}fireWorkspaceClick(a){fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(null,\na.id,\"workspace\"))}handleFlyoutStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleFlyoutStart, but the gesture had already been started.\");this.setStartFlyout(b);this.handleWsStart(a,b.getWorkspace())}handleBlockStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleBlockStart, but the gesture had already been started.\");this.setStartBlock(b);this.mostRecentEvent=a}handleBubbleStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleBubbleStart, but the gesture had already been started.\");\nthis.setStartBubble(b);this.mostRecentEvent=a}handleCommentStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleCommentStart, but the gesture had already been started.\");this.setStartComment(b);this.mostRecentEvent=a}doFieldClick(){if(!this.startField)throw Error(\"Cannot do a field click because the start field is undefined\");this.bringBlockToFront();this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error(\"Cannot do an icon click because the start icon is undefined\");\nthis.bringBlockToFront();this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error(\"Cannot do a block click because the target block is undefined\");if(this.flyout.isBlockCreatable(this.targetBlock)){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);var a=this.flyout.createBlock(this.targetBlock);a.snapToGrid();a.bumpNeighbours();$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}}else{if(!this.startWorkspace_)throw Error(\"Cannot do a block click because the start workspace is undefined\");\na=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(this.startBlock,this.startWorkspace_.id,\"block\");fire$$module$build$src$core$events$utils(a)}this.bringBlockToFront();$.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(a){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&($.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(a){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.setStartField, but the gesture had already been started.\");\nthis.startField||(this.startField=a)}setStartIcon(a){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.setStartIcon, but the gesture had already been started.\");this.startIcon||(this.startIcon=a)}setStartBubble(a){this.startBubble||(this.startBubble=a)}setStartComment(a){this.startComment||(this.startComment=a)}setStartBlock(a){this.startBlock||this.startBubble||(this.startBlock=a,a.isInFlyout&&a!==a.getRootBlock()?this.setTargetBlock(a.getRootBlock()):this.setTargetBlock(a))}setTargetBlock(a){a.isShadow()?\nthis.setTargetBlock(a.getParent()):(this.targetBlock=a,$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a))}setStartWorkspace(a){this.startWorkspace_||(this.startWorkspace_=a)}setStartFlyout(a){this.flyout||(this.flyout=a)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?\nthis.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const a=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&a}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let a,b;return(b=(a=this.workspaceDragger)!=\nnull?a:this.dragger)!=null?b:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const a=getAllWorkspaces$$module$build$src$core$common();for(let b=0,c;c=a[b];b++)if(c.currentGesture_)return!0;return!1}},module$build$src$core$gesture={};module$build$src$core$gesture.Gesture=Gesture$$module$build$src$core$gesture;var Grid$$module$build$src$core$grid=class{constructor(a,b){this.pattern=a;this.scale=1;let c;this.spacing=(c=b.spacing)!=null?c:0;let d;this.length=(d=b.length)!=null?d:1;this.line2=(this.line1=a.firstChild)&&this.line1.nextSibling;let e;this.snapToGrid=(e=b.snap)!=null?e:!1}setSpacing(a){this.spacing=a;this.update(this.scale)}getSpacing(){return this.spacing}setLength(a){this.length=a;this.update(this.scale)}getLength(){return this.length}setSnapToGrid(a){this.snapToGrid=a}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(a){this.scale=\na;var b=this.spacing*a;this.pattern.setAttribute(\"width\",`${b}`);this.pattern.setAttribute(\"height\",`${b}`);b=Math.floor(this.spacing/2)+.5;let c=b-this.length/2,d=b+this.length/2;b*=a;c*=a;d*=a;this.setLineAttributes(this.line1,a,c,d,b,b);this.setLineAttributes(this.line2,a,b,b,c,d)}setLineAttributes(a,b,c,d,e,f){a&&(a.setAttribute(\"stroke-width\",`${b}`),a.setAttribute(\"x1\",`${c}`),a.setAttribute(\"y1\",`${e}`),a.setAttribute(\"x2\",`${d}`),a.setAttribute(\"y2\",`${f}`))}moveTo(a,b){this.pattern.setAttribute(\"x\",\n`${a}`);this.pattern.setAttribute(\"y\",`${b}`)}alignXY(a){var b=this.getSpacing();const c=b/2,d=Math.round(Math.round((a.x-c)/b)*b+c);b=Math.round(Math.round((a.y-c)/b)*b+c);return d===a.x&&b===a.y?a:new Coordinate$$module$build$src$core$utils$coordinate(d,b)}static createDom(a,b,c,d){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:\"blocklyGridPattern\"+a,patternUnits:\"userSpaceOnUse\"},c);let e,f;if(((e=b.length)!=null?e:1)>0&&((f=b.spacing)!=null?\nf:0)>0){createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a);let g;(g=b.length)!=null&&g&&createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a)}else createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{},a);d&&d.style.setProperty(\"--blocklyGridPattern\",`url(#${a.id})`);return a}},module$build$src$core$grid={};\nmodule$build$src$core$grid.Grid=Grid$$module$build$src$core$grid;var module$build$src$core$interfaces$i_autohideable={};module$build$src$core$interfaces$i_autohideable.isAutoHideable=isAutoHideable$$module$build$src$core$interfaces$i_autohideable;var LayerManager$$module$build$src$core$layer_manager=class{constructor(a){this.workspace=a;this.layers=new Map;if(a=a.getInjectionDiv())this.dragLayer=this.createDragLayer(a),this.animationLayer=this.createAnimationLayer(a);a=this.createLayer(BLOCK$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,\"blocklyBlockCanvas\");a=this.createLayer(BUBBLE$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,\"blocklyBubbleCanvas\")}createDragLayer(a){const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,\n{\"class\":\"blocklyBlockDragSurface\",xmlns:SVG_NS$$module$build$src$core$utils$dom,\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b)}createAnimationLayer(a){const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{\"class\":\"blocklyAnimationLayer\",xmlns:SVG_NS$$module$build$src$core$utils$dom,\n\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b)}appendToAnimationLayer(a){let b;const c=(b=this.dragLayer)==null?void 0:b.getAttribute(\"transform\");if(c){let e;(e=this.animationLayer)==null||e.setAttribute(\"transform\",c)}let d;(d=this.animationLayer)==null||d.appendChild(a.getSvgRoot())}translateLayers(a,b){a=\n`translate(${a.x}, ${a.y}) scale(${b})`;let c;(c=this.dragLayer)==null||c.setAttribute(\"transform\",a);for(const [,d]of this.layers)d.setAttribute(\"transform\",a)}moveToDragLayer(a){let b;(b=this.dragLayer)==null||b.appendChild(a.getSvgRoot());a.canBeFocused()&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}moveOffDragLayer(a,b){this.append(a,b);a.canBeFocused()&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}append(a,b){this.layers.has(b)||this.createLayer(b);\na=a.getSvgRoot();let c;if(((c=this.layers.get(b))==null?void 0:c.lastChild)!==a){let d;(d=this.layers.get(b))==null||d.appendChild(a)}}createLayer(a){const b=this.workspace.getSvgGroup(),c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});let d=!1;const e=[...this.layers].sort((f,g)=>f[0]-g[0]);for(const [f,g]of e)if(a<f){b.insertBefore(c,g);d=!0;break}d||b.appendChild(c);this.layers.set(a,c);return c}hasLayer(a){return a===this.dragLayer||(new Set(this.layers.values())).has(a)}getBlockLayer(){return this.layers.get(BLOCK$$module$build$src$core$layers)}getBubbleLayer(){return this.layers.get(BUBBLE$$module$build$src$core$layers)}},\nmodule$build$src$core$layer_manager={};module$build$src$core$layer_manager.LayerManager=LayerManager$$module$build$src$core$layer_manager;var Marker$$module$build$src$core$keyboard_nav$marker=class{constructor(){this.curNode=this.colour=null;this.type=\"marker\"}getCurNode(){return this.curNode}setCurNode(a){this.curNode=a}dispose(){this.curNode=null}getSourceBlockFromNode(a){return a instanceof BlockSvg$$module$build$src$core$block_svg?a:a instanceof Field$$module$build$src$core$field||a instanceof RenderedConnection$$module$build$src$core$rendered_connection?a.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},\nmodule$build$src$core$keyboard_nav$marker={};module$build$src$core$keyboard_nav$marker.Marker=Marker$$module$build$src$core$keyboard_nav$marker;var LineCursor$$module$build$src$core$keyboard_nav$line_cursor=class extends Marker$$module$build$src$core$keyboard_nav$marker{constructor(a){super();this.workspace=a;this.type=\"cursor\";this.potentialNodes=null}next(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode(a,b=>{let c;return b instanceof BlockSvg$$module$build$src$core$block_svg&&!((c=b.outputConnection)==null?0:c.targetBlock())||b instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment},\n!0))&&this.setCurNode(a);return a}in(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode(a,()=>!0,!0))&&this.setCurNode(a);return a}prev(){var a=this.getCurNode();if(!a)return null;(a=this.getPreviousNode(a,b=>{let c;return b instanceof BlockSvg$$module$build$src$core$block_svg&&!((c=b.outputConnection)==null?0:c.targetBlock())||b instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment},!0))&&this.setCurNode(a);return a}out(){var a=this.getCurNode();\nif(!a)return null;(a=this.getPreviousNode(a,()=>!0,!0))&&this.setCurNode(a);return a}atEndOfLine(){var a=this.getCurNode();if(!a)return!1;const b=this.getNextNode(a,()=>!0,!0);a=this.getNextNode(a,c=>{let d;return c instanceof BlockSvg$$module$build$src$core$block_svg&&!((d=c.outputConnection)==null?0:d.targetBlock())},!0);return b===a}getNextNodeImpl(a,b,c=new Set){if(!a||c.has(a))return null;let d=this.workspace.getNavigator().getFirstChild(a)||this.workspace.getNavigator().getNextSibling(a);for(var e=\na;e&&!d;){e=this.workspace.getNavigator().getParent(e);if(!e)break;d=this.workspace.getNavigator().getNextSibling(e)}return b(d)?d:d?(c.add(a),this.getNextNodeImpl(d,b,c)):null}getNextNode(a,b,c){return!a||!c&&this.getLastNode()===a?null:this.getNextNodeImpl(a,b)}getPreviousNodeImpl(a,b,c=new Set){if(!a||c.has(a))return null;const d=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(a),a)||this.workspace.getNavigator().getParent(a);return b(d)?d:d?(c.add(a),this.getPreviousNodeImpl(d,\nb,c)):null}getPreviousNode(a,b,c){return!a||!c&&this.getFirstNode()===a?null:this.getPreviousNodeImpl(a,b)}getRightMostChild(a,b){if(!a)return a;let c=this.workspace.getNavigator().getFirstChild(a);if(!c||c===b)return a;for(a=c;a&&a!==b;a=this.workspace.getNavigator().getNextSibling(c))c=a;return this.getRightMostChild(c,b)}preDelete(a){var b=this.getCurNode();b=b?[b]:[];var c;let d,e;const f=(e=(c=a.previousConnection)==null?void 0:c.targetConnection)!=null?e:(d=a.outputConnection)==null?void 0:\nd.targetConnection;f&&b.push(f);(c=a.getNextBlock())&&b.push(c);(a=a.getParent())&&b.push(a);b.push(this.workspace);this.potentialNodes=b}postDelete(){const a=this.potentialNodes;this.potentialNodes=null;if(!a)throw Error(\"must call preDelete first\");for(const b of a){let c;if((c=this.getSourceBlockFromNode(b))==null||!c.disposed){this.setCurNode(b);return}}throw Error(\"no valid nodes in this.potentialNodes\");}getCurNode(){return $.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(a){$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const a=\nthis.getFirstNode();return this.getPreviousNode(a,()=>!0,!0)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,DEFAULT$$module$build$src$core$registry,LineCursor$$module$build$src$core$keyboard_nav$line_cursor);var module$build$src$core$keyboard_nav$line_cursor={};module$build$src$core$keyboard_nav$line_cursor.LineCursor=LineCursor$$module$build$src$core$keyboard_nav$line_cursor;var MarkerManager$$module$build$src$core$marker_manager=class{constructor(a){this.workspace=a;this.markers=new Map;this.cursor=new LineCursor$$module$build$src$core$keyboard_nav$line_cursor(this.workspace)}registerMarker(a,b){this.markers.has(a)&&this.unregisterMarker(a);this.markers.set(a,b)}unregisterMarker(a){const b=this.markers.get(a);if(b)b.dispose(),this.markers.delete(a);else throw Error(\"Marker with ID \"+a+\" does not exist. Can only unregister markers that exist.\");}getCursor(){return this.cursor}getMarker(a){return this.markers.get(a)||\nnull}setCursor(a){this.cursor=a}dispose(){const a=Object.keys(this.markers);for(let b=0,c;c=a[b];b++)this.unregisterMarker(c);this.markers.clear();this.cursor.dispose()}};MarkerManager$$module$build$src$core$marker_manager.LOCAL_MARKER=\"local_marker_1\";var module$build$src$core$marker_manager={};module$build$src$core$marker_manager.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;var module$build$src$core$icons={};module$build$src$core$icons.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;module$build$src$core$icons.Icon=Icon$$module$build$src$core$icons$icon;module$build$src$core$icons.IconType=IconType$$module$build$src$core$icons$icon_types;module$build$src$core$icons.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;module$build$src$core$icons.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;\nmodule$build$src$core$icons.exceptions=module$build$src$core$icons$exceptions;module$build$src$core$icons.registry=module$build$src$core$icons$registry;var module$build$src$core$interfaces$i_procedure_block={};module$build$src$core$interfaces$i_procedure_block.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;$.Names$$module$build$src$core$names=class{constructor(a,b){this.db=new Map;this.dbReverse=new Set;this.variableMap=null;this.variablePrefix=b||\"\";this.reservedWords=new Set(a?a.split(\",\"):[])}reset(){this.db.clear();this.dbReverse.clear();this.variableMap=null}setVariableMap(a){this.variableMap=a}getNameForUserVariable(a){return this.variableMap?(a=this.variableMap.getVariableById(a))?a.getName():null:(console.warn(\"Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());\"),\nnull)}populateVariables(a){a=$.allUsedVarModels$$module$build$src$core$variables(a);for(let b=0;b<a.length;b++)this.getName(a[b].getId(),$.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(a){throw Error(\"The implementation of populateProcedures should be monkey-patched in by blockly.ts\");}getName(a,b){let c=a;b===$.NameType$$module$build$src$core$names.VARIABLE&&(a=this.getNameForUserVariable(a))&&(c=a);a=c.toLowerCase();const d=b===$.NameType$$module$build$src$core$names.VARIABLE||\nb===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:\"\";this.db.has(b)||this.db.set(b,new Map);const e=this.db.get(b);if(e.has(a))return d+e.get(a);b=this.getDistinctName(c,b);e.set(a,b.substr(d.length));return b}getUserNames(a){let b;return(a=(b=this.db.get(a))==null?void 0:b.keys())?Array.from(a):[]}getDistinctName(a,b){a=this.safeName(a);let c=null,d,e;for(;this.dbReverse.has(a+((d=c)!=null?d:\"\"))||this.reservedWords.has(a+((e=c)!=null?e:\"\"));)c=c?c+1:2;let f;a+=(f=\nc)!=null?f:\"\";this.dbReverse.add(a);return(b===$.NameType$$module$build$src$core$names.VARIABLE||b===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:\"\")+a}safeName(a){a?(a=encodeURI(a.replace(/ /g,\"_\")).replace(/[^\\w]/g,\"_\"),\"0123456789\".includes(a[0])&&(a=\"my_\"+a)):a=$.Msg$$module$build$src$core$msg.UNNAMED_KEY||\"unnamed\";return a}static equals(a,b){return a.toLowerCase()===b.toLowerCase()}};\n(function(a){a=a.NameType||(a.NameType={});a.DEVELOPER_VARIABLE=\"DEVELOPER_VARIABLE\";a.VARIABLE=\"VARIABLE\";a.PROCEDURE=\"PROCEDURE\"})($.Names$$module$build$src$core$names||($.Names$$module$build$src$core$names={}));$.NameType$$module$build$src$core$names=$.Names$$module$build$src$core$names.NameType;$.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE;var module$build$src$core$names={NameType:$.NameType$$module$build$src$core$names};\nmodule$build$src$core$names.Names=$.Names$$module$build$src$core$names;var module$build$src$core$interfaces$i_observable={};module$build$src$core$interfaces$i_observable.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;var ObservableProcedureMap$$module$build$src$core$observable_procedure_map=class extends Map{constructor(){super()}set(a,b){if(this.get(a)===b)return this;super.set(a,b);isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.startPublishing();return this}delete(a){const b=this.get(a);a=super.delete(a);if(!a)return a;isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.stopPublishing();return a}clear(){if(this.size)for(const a of this.keys())this.delete(a)}add(a){return this.set(a.getId(),\na)}getProcedures(){return[...this.values()]}},module$build$src$core$observable_procedure_map={};module$build$src$core$observable_procedure_map.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;var CATEGORY_NAME$$module$build$src$core$procedures,module$build$src$core$procedures;CATEGORY_NAME$$module$build$src$core$procedures=\"PROCEDURE\";$.DEFAULT_ARG$$module$build$src$core$procedures=\"x\";module$build$src$core$procedures={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$procedures,DEFAULT_ARG:$.DEFAULT_ARG$$module$build$src$core$procedures};module$build$src$core$procedures.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;\nmodule$build$src$core$procedures.allProcedures=allProcedures$$module$build$src$core$procedures;module$build$src$core$procedures.findLegalName=$.findLegalName$$module$build$src$core$procedures;module$build$src$core$procedures.flyoutCategory=flyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.getCallers=getCallers$$module$build$src$core$procedures;module$build$src$core$procedures.getDefinition=$.getDefinition$$module$build$src$core$procedures;\nmodule$build$src$core$procedures.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.isNameUsed=isNameUsed$$module$build$src$core$procedures;module$build$src$core$procedures.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;module$build$src$core$procedures.mutateCallers=$.mutateCallers$$module$build$src$core$procedures;module$build$src$core$procedures.mutatorOpenListener=mutatorOpenListener$$module$build$src$core$procedures;\nmodule$build$src$core$procedures.rename=$.rename$$module$build$src$core$procedures;var TypesContainer$$module$build$src$core$renderers$measurables$types=class{constructor(){this.NONE=0;this.FIELD=1;this.HAT=2;this.ICON=4;this.SPACER=8;this.BETWEEN_ROW_SPACER=16;this.IN_ROW_SPACER=32;this.EXTERNAL_VALUE_INPUT=64;this.INPUT=128;this.INLINE_INPUT=256;this.STATEMENT_INPUT=512;this.CONNECTION=1024;this.PREVIOUS_CONNECTION=2048;this.NEXT_CONNECTION=4096;this.OUTPUT_CONNECTION=8192;this.CORNER=16384;this.LEFT_SQUARE_CORNER=32768;this.LEFT_ROUND_CORNER=65536;this.RIGHT_SQUARE_CORNER=131072;\nthis.RIGHT_ROUND_CORNER=262144;this.JAGGED_EDGE=524288;this.ROW=1048576;this.TOP_ROW=2097152;this.BOTTOM_ROW=4194304;this.INPUT_ROW=8388608;this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER;this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER;this.nextTypeValue_=16777216}getType(a){Object.prototype.hasOwnProperty.call(this,a)||(this[a]=this.nextTypeValue_,this.nextTypeValue_<<=1);return this[a]}isField(a){return(a.type&this.FIELD)>=1}isHat(a){return(a.type&this.HAT)>=1}isIcon(a){return(a.type&\nthis.ICON)>=1}isSpacer(a){return(a.type&this.SPACER)>=1}isInRowSpacer(a){return(a.type&this.IN_ROW_SPACER)>=1}isSpacerRow(a){return(a.type&this.BETWEEN_ROW_SPACER)>=1}isInput(a){return(a.type&this.INPUT)>=1}isExternalInput(a){return(a.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(a){return(a.type&this.INLINE_INPUT)>=1}isStatementInput(a){return(a.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(a){return(a.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(a){return(a.type&this.NEXT_CONNECTION)>=\n1}isPreviousOrNextConnection(a){return this.isPreviousConnection(a)||this.isNextConnection(a)}isRoundCorner(a){return(a.type&this.LEFT_ROUND_CORNER)>=1||(a.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(a){return this.isRoundCorner(a)&&(a.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(a){return this.isRoundCorner(a)&&(a.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(a){return(a.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(a){return(a.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(a){return(a.type&\nthis.CORNER)>=1}isJaggedEdge(a){return(a.type&this.JAGGED_EDGE)>=1}isRow(a){return(a.type&this.ROW)>=1}isBetweenRowSpacer(a){return(a.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(a){return(a.type&this.TOP_ROW)>=1}isBottomRow(a){return(a.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(a){return this.isTopRow(a)||this.isBottomRow(a)}isInputRow(a){return(a.type&this.INPUT_ROW)>=1}},Types$$module$build$src$core$renderers$measurables$types=new TypesContainer$$module$build$src$core$renderers$measurables$types,module$build$src$core$renderers$measurables$types=\n{Types:Types$$module$build$src$core$renderers$measurables$types};var Measurable$$module$build$src$core$renderers$measurables$base=class{constructor(a){this.centerline=this.xPos=this.height=this.width=0;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.NONE;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},module$build$src$core$renderers$measurables$base={};module$build$src$core$renderers$measurables$base.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;var Row$$module$build$src$core$renderers$measurables$row=class{constructor(a){this.elements=[];this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0;this.hasStatement=this.hasExternalInput=!1;this.statementEdge=0;this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1;this.align=null;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.ROW;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let a=\nthis.elements.length-1;a>=0;a--){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInput(b))return b}return null}measure(){throw Error(\"Unexpected attempt to measure a base Row.\");}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let a=0;a<this.elements.length;a++){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInRowSpacer(b))return b}return null}getLastSpacer(){for(let a=this.elements.length-\n1;a>=0;a--){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInRowSpacer(b))return b}return null}},module$build$src$core$renderers$measurables$row={};module$build$src$core$renderers$measurables$row.Row=Row$$module$build$src$core$renderers$measurables$row;var BottomRow$$module$build$src$core$renderers$measurables$bottom_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.hasNextConnection=!1;this.connection=null;this.baseline=this.descenderHeight=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.BOTTOM_ROW}hasLeftSquareCorner(a){return!!a.outputConnection||!!a.getNextBlock()}hasRightSquareCorner(a){return!0}measure(){let a=0,b=0,c=0;for(let d=0;d<this.elements.length;d++){const e=\nthis.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(e)?c=Math.max(c,e.height):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.descenderHeight=c;this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},module$build$src$core$renderers$measurables$bottom_row={};\nmodule$build$src$core$renderers$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;var Connection$$module$build$src$core$renderers$measurables$connection=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.connectionModel=b;this.type|=Types$$module$build$src$core$renderers$measurables$types.CONNECTION;this.shape=this.constants_.shapeFor(b);this.isDynamicShape=\"isDynamic\"in this.shape&&this.shape.isDynamic;this.highlighted=b.isHighlighted()}},module$build$src$core$renderers$measurables$connection={};\nmodule$build$src$core$renderers$measurables$connection.Connection=Connection$$module$build$src$core$renderers$measurables$connection;var InputConnection$$module$build$src$core$renderers$measurables$input_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b.connection);this.input=b;this.connectionOffsetY=this.connectionOffsetX=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT;this.align=b.align;(this.connectedBlock=b.connection&&b.connection.targetBlock()?b.connection.targetBlock():null)?(a=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=\na.width,this.connectedBlockHeight=a.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},module$build$src$core$renderers$measurables$input_connection={};module$build$src$core$renderers$measurables$input_connection.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;var ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.height=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.EXTERNAL_VALUE_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height;this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING;\nthis.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP;this.connectionHeight=this.shape.height;this.connectionWidth=this.shape.width}},module$build$src$core$renderers$measurables$external_value_input={};module$build$src$core$renderers$measurables$external_value_input.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;var Field$$module$build$src$core$renderers$measurables$field=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b,c){super(a);this.field=b;this.parentInput=c;this.isEditable=b.EDITABLE;this.flipRtl=b.getFlipRtl();this.type|=Types$$module$build$src$core$renderers$measurables$types.FIELD;a=this.field.getSize();this.height=a.height;this.width=a.width}},module$build$src$core$renderers$measurables$field={};module$build$src$core$renderers$measurables$field.Field=Field$$module$build$src$core$renderers$measurables$field;var Hat$$module$build$src$core$renderers$measurables$hat=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.HAT;this.height=this.constants_.START_HAT.height;this.width=this.constants_.START_HAT.width;this.ascenderHeight=this.height}},module$build$src$core$renderers$measurables$hat={};module$build$src$core$renderers$measurables$hat.Hat=Hat$$module$build$src$core$renderers$measurables$hat;var Icon$$module$build$src$core$renderers$measurables$icon=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.icon=b;this.flipRtl=!1;this.type|=Types$$module$build$src$core$renderers$measurables$types.ICON;a=b.getSize();this.height=a.height;this.width=a.width}},module$build$src$core$renderers$measurables$icon={};module$build$src$core$renderers$measurables$icon.Icon=Icon$$module$build$src$core$renderers$measurables$icon;var InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.IN_ROW_SPACER;this.width=b;this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},module$build$src$core$renderers$measurables$in_row_spacer={};\nmodule$build$src$core$renderers$measurables$in_row_spacer.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;var InlineInput$$module$build$src$core$renderers$measurables$inline_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.INLINE_INPUT;this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING);this.connectionHeight=\nthis.isDynamicShape?this.shape.height(this.height):this.shape.height;this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width;this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1));this.connectionOffsetY=\"connectionOffsetY\"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP;this.connectionOffsetX=\"connectionOffsetX\"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},module$build$src$core$renderers$measurables$inline_input=\n{};module$build$src$core$renderers$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;var InputRow$$module$build$src$core$renderers$measurables$input_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.connectedBlockWidths=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT_ROW}measure(){this.width=this.minWidth;this.height=this.minHeight;let a=0;for(let b=0;b<this.elements.length;b++){const c=this.elements[b];this.width+=c.width;Types$$module$build$src$core$renderers$measurables$types.isInput(c)&&(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(c)?\na+=c.connectedBlockWidth:Types$$module$build$src$core$renderers$measurables$types.isExternalInput(c)&&c.connectedBlockWidth!==0&&(a+=c.connectedBlockWidth-c.connectionWidth));Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)||(this.height=Math.max(this.height,c.height))}this.connectedBlockWidths=a;this.widthWithConnectedBlocks=this.width+a}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},module$build$src$core$renderers$measurables$input_row={};\nmodule$build$src$core$renderers$measurables$input_row.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;var JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.JAGGED_EDGE;this.height=this.constants_.JAGGED_TEETH.height;this.width=this.constants_.JAGGED_TEETH.width}},module$build$src$core$renderers$measurables$jagged_edge={};module$build$src$core$renderers$measurables$jagged_edge.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;var NextConnection$$module$build$src$core$renderers$measurables$next_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.NEXT_CONNECTION;this.height=this.shape.height;this.width=this.shape.width}},module$build$src$core$renderers$measurables$next_connection={};module$build$src$core$renderers$measurables$next_connection.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;var OutputConnection$$module$build$src$core$renderers$measurables$output_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.connectionOffsetX=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.OUTPUT_CONNECTION;this.height=this.isDynamicShape?0:this.shape.height;this.startX=this.width=this.isDynamicShape?0:this.shape.width;this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},module$build$src$core$renderers$measurables$output_connection=\n{};module$build$src$core$renderers$measurables$output_connection.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;var PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.PREVIOUS_CONNECTION;this.height=this.shape.height;this.width=this.shape.width}},module$build$src$core$renderers$measurables$previous_connection={};module$build$src$core$renderers$measurables$previous_connection.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;var RoundCorner$$module$build$src$core$renderers$measurables$round_corner=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type=(b&&b!==\"left\"?Types$$module$build$src$core$renderers$measurables$types.RIGHT_ROUND_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_ROUND_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;this.width=this.constants_.CORNER_RADIUS;this.height=this.constants_.CORNER_RADIUS/2}},\nmodule$build$src$core$renderers$measurables$round_corner={};module$build$src$core$renderers$measurables$round_corner.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;var SpacerRow$$module$build$src$core$renderers$measurables$spacer_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a,b,c){super(a);this.height=b;this.width=c;this.precedesStatement=this.followsStatement=!1;this.widthWithConnectedBlocks=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.BETWEEN_ROW_SPACER;this.elements=[new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nc)]}measure(){}},module$build$src$core$renderers$measurables$spacer_row={};module$build$src$core$renderers$measurables$spacer_row.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;var SquareCorner$$module$build$src$core$renderers$measurables$square_corner=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type=(b&&b!==\"left\"?Types$$module$build$src$core$renderers$measurables$types.RIGHT_SQUARE_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_SQUARE_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;this.width=this.height=this.constants_.NO_PADDING}},module$build$src$core$renderers$measurables$square_corner=\n{};module$build$src$core$renderers$measurables$square_corner.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;var StatementInput$$module$build$src$core$renderers$measurables$statement_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.STATEMENT_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT;this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},\nmodule$build$src$core$renderers$measurables$statement_input={};module$build$src$core$renderers$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;var TopRow$$module$build$src$core$renderers$measurables$top_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.ascenderHeight=this.capline=0;this.hasPreviousConnection=!1;this.connection=null;this.type|=Types$$module$build$src$core$renderers$measurables$types.TOP_ROW}hasLeftSquareCorner(a){const b=(a.hat?a.hat===\"cap\":this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||(c?\nc.getNextBlock()===a:!1)}hasRightSquareCorner(a){return!0}measure(){let a=0,b=0,c=0;for(let d=0;d<this.elements.length;d++){const e=this.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isHat(e)?c=Math.max(c,e.ascenderHeight):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.capline=this.ascenderHeight=c;this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},\nmodule$build$src$core$renderers$measurables$top_row={};module$build$src$core$renderers$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;var ConstantProvider$$module$build$src$core$renderers$common$constants=class{constructor(){this.NO_PADDING=0;this.SMALL_PADDING=3;this.MEDIUM_PADDING=5;this.MEDIUM_LARGE_PADDING=8;this.LARGE_PADDING=10;this.TAB_HEIGHT=15;this.TAB_OFFSET_FROM_TOP=5;this.TAB_VERTICAL_OVERLAP=2.5;this.TAB_WIDTH=8;this.NOTCH_WIDTH=15;this.NOTCH_HEIGHT=4;this.MIN_BLOCK_WIDTH=12;this.EMPTY_BLOCK_SPACER_HEIGHT=16;this.CORNER_RADIUS=8;this.NOTCH_OFFSET_LEFT=15;this.STATEMENT_BOTTOM_SPACER=0;this.STATEMENT_INPUT_PADDING_LEFT=\n20;this.BETWEEN_STATEMENT_PADDING_Y=4;this.ADD_START_HATS=!1;this.START_HAT_HEIGHT=15;this.START_HAT_WIDTH=100;this.SPACER_DEFAULT_HEIGHT=15;this.MIN_BLOCK_HEIGHT=24;this.EMPTY_INLINE_INPUT_PADDING=14.5;this.EXTERNAL_VALUE_INPUT_PADDING=2;this.JAGGED_TEETH_HEIGHT=12;this.JAGGED_TEETH_WIDTH=6;this.FIELD_TEXT_FONTSIZE=11;this.FIELD_TEXT_FONTWEIGHT=\"normal\";this.FIELD_TEXT_FONTFAMILY=\"sans-serif\";this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1;this.FIELD_BORDER_RECT_RADIUS=4;this.FIELD_BORDER_RECT_HEIGHT=\n16;this.FIELD_BORDER_RECT_X_PADDING=5;this.FIELD_BORDER_RECT_Y_PADDING=3;this.FIELD_BORDER_RECT_COLOUR=\"#fff\";this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1;this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12;this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1;this.FIELD_COLOUR_DEFAULT_WIDTH=26;this.defs=null;this.embossFilterId=\"\";this.embossFilter=null;this.disabledPatternId=\"\";this.disabledPattern=null;this.debugFilterId=\"\";this.cssNode=\nthis.debugFilter=null;this.CURSOR_COLOUR=\"#cc0a0a\";this.MARKER_COLOUR=\"#4286f4\";this.CURSOR_WS_WIDTH=100;this.WS_CURSOR_HEIGHT=5;this.CURSOR_STACK_PADDING=10;this.CURSOR_BLOCK_PADDING=2;this.CURSOR_STROKE_WIDTH=4;this.FULL_BLOCK_FIELDS=!1;this.INSERTION_MARKER_COLOUR=\"#000000\";this.INSERTION_MARKER_OPACITY=.2;this.SHAPES={PUZZLE:1,NOTCH:2};this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT;this.STATEMENT_INPUT_NOTCH_OFFSET=\nthis.NOTCH_OFFSET_LEFT;this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11;this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(0,0);this.FIELD_TEXT_BASELINE_CENTER=!0;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;\nthis.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_DROPDOWN_SVG_ARROW_DATAURI=\"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=\";\nthis.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3;this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth();this.NOTCH=this.makeNotch();this.START_HAT=this.makeStartHat();this.PUZZLE_TAB=this.makePuzzleTab();this.INSIDE_CORNERS=this.makeInsideCorners();this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(a){this.blockStyles=Object.create(null);const b=a.blockStyles;for(const c in b)this.blockStyles[c]=\nthis.validatedBlockStyle_(b[c]);this.setDynamicProperties_(a)}setDynamicProperties_(a){this.setFontConstants_(a);this.setComponentConstants_(a);this.ADD_START_HATS=a.startHats!==void 0?a.startHats:this.ADD_START_HATS}setFontConstants_(a){a.fontStyle&&a.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=a.fontStyle.family);a.fontStyle&&a.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=a.fontStyle.weight);a.fontStyle&&a.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=a.fontStyle.size);a=measureFontMetrics$$module$build$src$core$utils$dom(\"Hg\",\nthis.FIELD_TEXT_FONTSIZE+\"pt\",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY);this.FIELD_TEXT_HEIGHT=a.height;this.FIELD_TEXT_BASELINE=a.baseline}setComponentConstants_(a){this.CURSOR_COLOUR=a.getComponentStyle(\"cursorColour\")||this.CURSOR_COLOUR;this.MARKER_COLOUR=a.getComponentStyle(\"markerColour\")||this.MARKER_COLOUR;this.INSERTION_MARKER_COLOUR=a.getComponentStyle(\"insertionMarkerColour\")||this.INSERTION_MARKER_COLOUR;this.INSERTION_MARKER_OPACITY=Number(a.getComponentStyle(\"insertionMarkerOpacity\"))||\nthis.INSERTION_MARKER_OPACITY}getBlockStyleForColour(a){const b=\"auto_\"+a;this.blockStyles[b]||(this.blockStyles[b]=this.createBlockStyle_(a));return{style:this.blockStyles[b],name:b}}getBlockStyle(a){return this.blockStyles[a||\"\"]||(a&&a.startsWith(\"auto_\")?this.getBlockStyleForColour(a.substring(5)).style:this.createBlockStyle_(\"#000000\"))}createBlockStyle_(a){return this.validatedBlockStyle_({colourPrimary:a})}validatedBlockStyle_(a){const b={};a&&Object.assign(b,a);a=parseBlockColour$$module$build$src$core$utils$parsing(b.colourPrimary||\n\"#000\");b.colourPrimary=a.hex;b.colourSecondary=b.colourSecondary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourSecondary).hex:this.generateSecondaryColour_(b.colourPrimary);b.colourTertiary=b.colourTertiary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourTertiary).hex:this.generateTertiaryColour_(b.colourPrimary);b.hat=b.hat||\"\";return b}generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#fff\",a,.6)||a}generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#fff\",\na,.3)||a}dispose(){this.embossFilter&&removeNode$$module$build$src$core$utils$dom(this.embossFilter);this.disabledPattern&&removeNode$$module$build$src$core$utils$dom(this.disabledPattern);this.debugFilter&&removeNode$$module$build$src$core$utils$dom(this.debugFilter);this.cssNode=null}makeJaggedTeeth(){const a=this.JAGGED_TEETH_HEIGHT,b=this.JAGGED_TEETH_WIDTH,c=line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(b,a/4),point$$module$build$src$core$utils$svg_paths(-b*\n2,a/2),point$$module$build$src$core$utils$svg_paths(b,a/4)]);return{height:a,width:b,path:c}}makeStartHat(){const a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(30,-a),point$$module$build$src$core$utils$svg_paths(70,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a*.75,width:b,path:c}}makePuzzleTab(){function a(f){f=f?-1:1;const g=-f;var h=c/2;const k=h+2.5,l=h+.5,m=point$$module$build$src$core$utils$svg_paths(-b,\nf*h);h=point$$module$build$src$core$utils$svg_paths(b,f*h);return curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(0,f*k),point$$module$build$src$core$utils$svg_paths(-b,g*l),m])+curve$$module$build$src$core$utils$svg_paths(\"s\",[point$$module$build$src$core$utils$svg_paths(b,g*2.5),h])}const b=this.TAB_WIDTH,c=this.TAB_HEIGHT,d=a(!0),e=a(!1);return{type:this.SHAPES.PUZZLE,width:b,height:c,pathDown:e,pathUp:d}}makeNotch(){function a(g){return line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(g*\nd,c),point$$module$build$src$core$utils$svg_paths(g*3,0),point$$module$build$src$core$utils$svg_paths(g*d,-c)])}const b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:e,pathRight:f}}makeInsideCorners(){const a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(a,\na));return{width:a,height:a,pathTop:b,pathBottom:c}}makeOutsideCorners(){const a=this.CORNER_RADIUS,b=moveBy$$module$build$src$core$utils$svg_paths(0,a)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,-a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,a)),d=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,-a)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\n\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,a));return{topLeft:b,topRight:c,bottomRight:e,bottomLeft:d,rightHeight:a}}shapeFor(a){switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:return this.PUZZLE_TAB;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error(\"Unknown connection type\");\n}}createDom(a,b,c,d){this.injectCSS_(b,c);this.defs=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,{},a);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklyEmbossFilter\"+this.randomIdentifier},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceAlpha\",stdDeviation:1,result:\"blur\"},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING,\n{\"in\":\"blur\",surfaceScale:1,specularConstant:.5,specularExponent:10,\"lighting-color\":\"white\",result:\"specOut\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEPOINTLIGHT,{x:-5E3,y:-1E4,z:2E4},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"specOut\",in2:\"SourceAlpha\",operator:\"in\",result:\"specOut\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,\n{\"in\":\"SourceGraphic\",in2:\"specOut\",operator:\"arithmetic\",k1:0,k2:1,k3:1,k4:0},a);this.embossFilterId=a.id;this.embossFilter=a;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:\"blocklyDisabledPattern\"+this.randomIdentifier,patternUnits:\"userSpaceOnUse\",width:10,height:10},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:10,height:10,fill:\"#aaa\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,\n{d:\"M 0 0 L 10 10 M 10 0 L 0 10\",stroke:\"#cc0\"},a);this.disabledPatternId=a.id;this.disabledPattern=a;this.createDebugFilter();d&&(d.style.setProperty(\"--blocklyEmbossFilter\",`url(#${this.embossFilterId})`),d.style.setProperty(\"--blocklyDisabledPattern\",`url(#${this.disabledPatternId})`),d.style.setProperty(\"--blocklyDebugFilter\",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,\n{id:\"blocklyDebugFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},this.defs),b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:\"outBlur\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":\"#ff0000\",\n\"flood-opacity\":.5,result:\"outColor\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",result:\"outGlow\"},a);this.debugFilterId=a.id;this.debugFilter=a}}injectCSS_(a,b){b=this.getCSS_(b);a=\"blockly-renderer-style-\"+a;this.cssNode=document.getElementById(a);const c=b.join(\"\\n\");this.cssNode?this.cssNode.firstChild.textContent=c:(b=document.createElement(\"style\"),b.id=a,a=document.createTextNode(c),b.appendChild(a),\ndocument.head.insertBefore(b,document.head.firstChild),this.cssNode=b)}getCSS_(a){return[`${a} .blocklyText, `,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} `+`${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a} .blocklyText {`,\"fill: #fff;\",\"}\",`${a} .blocklyNonEditableField>rect,`,`${a} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,\"fill-opacity: .6;\",\"stroke: none;\",\"}\",`${a} .blocklyNonEditableField>text,`,`${a} .blocklyEditableField>text {`,\n\"fill: #000;\",\"}\",`${a} .blocklyFlyoutLabelText {`,\"fill: #000;\",\"}\",`${a} .blocklyText.blocklyBubbleText {`,\"fill: #000;\",\"}\",`${a} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,\"stroke: #fff;\",\"stroke-width: 2;\",\"}\",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,\"}\",`${a} .blocklySelected>.blocklyPath {`,\"stroke: #fc3;\",\"stroke-width: 3px;\",\"}\",`${a} .blocklyHighlightedConnectionPath {`,\"stroke: #fc3;\",\"}\",`${a} .blocklyReplaceable .blocklyPath {`,\n\"fill-opacity: .5;\",\"}\",`${a} .blocklyReplaceable .blocklyPathLight,`,`${a} .blocklyReplaceable .blocklyPathDark {`,\"display: none;\",\"}\",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\"stroke: none;\",\"}\"]}},module$build$src$core$renderers$common$constants={};module$build$src$core$renderers$common$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;\nmodule$build$src$core$renderers$common$constants.isDynamicShape=isDynamicShape$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isNotch=isNotch$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isPuzzleTab=isPuzzleTab$$module$build$src$core$renderers$common$constants;var Drawer$$module$build$src$core$renderers$common$drawer=class{constructor(a,b){this.inlinePath_=this.outlinePath_=\"\";this.block_=a;this.info_=b;this.topLeft_=a.getRelativeToSurfaceXY();this.constants_=b.getRenderer().getConstants()}draw(){this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();this.block_.pathObject.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);this.info_.RTL&&this.block_.pathObject.flipRTL();this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=\nthis.info_.height;this.block_.width=this.info_.widthWithChildren;this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let a=1;a<this.info_.rows.length-1;a++){const b=this.info_.rows[a];b.hasJaggedEdge?this.drawJaggedEdge_(b):b.hasStatement?this.drawStatementInput_(b):b.hasExternalInput?this.drawValueInput_(b):this.drawRightSideRow_(b)}this.drawBottom_();this.drawLeft_()}drawTop_(){const a=this.info_.topRow,b=a.elements;this.positionPreviousConnection_();this.outlinePath_+=\nmoveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(let c=0,d;d=b[c];c++)Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Types$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(d)?this.outlinePath_+=d.shape.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(d)?\nthis.outlinePath_+=this.constants_.START_HAT.path:Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",d.width));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-a.ascenderHeight)}drawJaggedEdge_(a){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(a){const b=\na.getLastInput();this.positionExternalValueConnection_(a);const c=isDynamicShape$$module$build$src$core$renderers$common$constants(b.shape)?b.shape.pathDown(b.height):b.shape.pathDown;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b.xPos+b.width)+c+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-b.connectionHeight)}drawStatementInput_(a){var b=a.getLastInput();if(b){var c=b.xPos+b.notchOffset+b.shape.width;b=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\n-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=a.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+this.constants_.INSIDE_CORNERS.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width);this.positionStatementInputConnection_(a)}}drawRightSideRow_(a){this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",\na.yPos+a.height)}drawBottom_(){const a=this.info_.bottomRow,b=a.elements;this.positionNextConnection_();let c=0,d=\"\";for(let e=b.length-1,f;f=b[e];e--)Types$$module$build$src$core$renderers$measurables$types.isNextConnection(f)?d+=f.shape.pathRight:Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(f)?d+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(f)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:\nTypes$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(f)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,c=this.constants_.OUTSIDE_CORNERS.rightHeight):Types$$module$build$src$core$renderers$measurables$types.isSpacer(f)&&(d+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",f.width*-1));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline-c);this.outlinePath_+=d}drawLeft_(){var a=this.info_.outputConnection;this.positionOutputConnection_();\nif(a){const b=a.connectionOffsetY+a.height;a=isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?a.shape.pathUp(a.height):a.shape.pathUp;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",b)+a}this.outlinePath_+=\"z\"}drawInternals_(){for(let a=0,b;b=this.info_.rows[a];a++)for(let c=0,d;d=b.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isInlineInput(d)?this.drawInlineInput_(d):(Types$$module$build$src$core$renderers$measurables$types.isIcon(d)||\nTypes$$module$build$src$core$renderers$measurables$types.isField(d))&&this.layoutField_(d)}layoutField_(a){const b=a.centerline-a.height/2;let c=a.xPos;var d=\"\";this.info_.RTL&&(c=-(c+a.width),a.flipRtl&&(c+=a.width,d=\"scale(-1 1)\"));Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?(d=a.icon,d.setOffsetInBlock(new Coordinate$$module$build$src$core$utils$coordinate(c,b)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(a=a.field.getSvgRoot(),a.setAttribute(\"transform\",\"translate(\"+\nc+\",\"+b+\")\"+d),this.info_.isInsertionMarker&&a.setAttribute(\"display\",\"none\"))}drawInlineInput_(a){const b=a.width,c=a.height,d=a.connectionOffsetY,e=a.connectionHeight+d;this.inlinePath_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.connectionWidth,a.centerline-c/2)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+a.shape.pathDown+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",c-e)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b-a.connectionWidth)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\n-c)+\"z\";this.positionInlineInputConnection_(a)}positionInlineInputConnection_(a){const b=a.centerline-a.height/2;if(a.connectionModel){let c=a.xPos+a.connectionWidth+a.connectionOffsetX;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY)}}positionStatementInputConnection_(a){const b=a.getLastInput();if(b==null?0:b.connectionModel){let c=a.xPos+a.statementEdge+b.notchOffset;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionExternalValueConnection_(a){const b=\na.getLastInput();if(b&&b.connectionModel){let c=a.xPos+a.width;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionPreviousConnection_(){const a=this.info_.topRow;if(a.connection){const b=a.xPos+a.notchOffset;a.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-b:b,0)}}positionNextConnection_(){const a=this.info_.bottomRow;if(a.connection){const b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock(this.info_.RTL?-c:c,a.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const a=\nthis.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-a:a,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const a of this.info_.rows)for(const b of a.elements){if(!(b instanceof Connection$$module$build$src$core$renderers$measurables$connection))continue;const c=this.drawConnectionHighlightPath(b);c&&(c.style.display=b.highlighted?\"\":\"none\")}}drawConnectionHighlightPath(a){const b=a.connectionModel;\na=b.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(a):this.getStatementConnectionHighlightPath(a);const c=b.getSourceBlock();let d,e;return(e=(d=c.pathObject).addConnectionHighlight)==null?void 0:e.call(d,b,a,b.getOffsetInBlock(),c.RTL)}getExpressionConnectionHighlightPath(a){let b=\"\";isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?\nb=a.shape.pathDown(a.height):isPuzzleTab$$module$build$src$core$renderers$common$constants(a.shape)&&(b=a.shape.pathDown);a=this.constants_.TAB_OFFSET_FROM_TOP;return moveBy$$module$build$src$core$utils$svg_paths(0,-a)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)}getStatementConnectionHighlightPath(a){if(!isNotch$$module$build$src$core$renderers$common$constants(a.shape))throw Error(\"Statement connections should have notch shapes\");\nconst b=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return moveBy$$module$build$src$core$utils$svg_paths(-b,0)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)+a.shape.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)}},module$build$src$core$renderers$common$drawer={};module$build$src$core$renderers$common$drawer.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;var RenderInfo$$module$build$src$core$renderers$common$info=class{constructor(a,b){this.statementEdge=this.width=this.widthWithChildren=this.height=0;this.rows=[];this.inputRows=[];this.startY=this.startX=0;this.renderer_=a;this.block_=b;this.constants_=this.renderer_.getConstants();this.outputConnection=b.outputConnection?new OutputConnection$$module$build$src$core$renderers$measurables$output_connection(this.constants_,b.outputConnection):null;this.isInline=b.getInputsInline()&&!b.isCollapsed();\nthis.isCollapsed=b.isCollapsed();this.isInsertionMarker=b.isInsertionMarker();this.RTL=b.RTL;this.topRow=new TopRow$$module$build$src$core$renderers$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$measurables$bottom_row(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.computeBounds_();this.alignRowElements_();this.finalize_()}createRows_(){this.populateTopRow_();this.rows.push(this.topRow);\nlet a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_);this.inputRows.push(a);var b=this.block_.getIcons();for(let c=0,d;d=b[c];c++){const e=new Icon$$module$build$src$core$renderers$measurables$icon(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||a.elements.push(e)}b=void 0;for(let c=0,d;d=this.block_.inputList[c];c++)if(d.isVisible()){this.shouldStartNewRow_(d,b)&&(this.rows.push(a),a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_),\nthis.inputRows.push(a));for(let e=0,f;f=d.fieldRow[e];e++)a.elements.push(new Field$$module$build$src$core$renderers$measurables$field(this.constants_,f,d));this.addInput_(d,a);b=d}this.isCollapsed&&(a.hasJaggedEdge=!0,a.elements.push(new JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge(this.constants_)));(a.elements.length||a.hasDummyInput)&&this.rows.push(a);this.populateBottomRow_();this.rows.push(this.bottomRow)}populateTopRow_(){var a=!!this.block_.previousConnection;const b=\n(this.block_.hat?this.block_.hat===\"cap\":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!a;let c=this.topRow.hasLeftSquareCorner(this.block_)?SquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_));b?(a=new Hat$$module$build$src$core$renderers$measurables$hat(this.constants_),this.topRow.elements.push(a)):a&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=\nnew PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection));this.block_.inputList.length&&this.block_.inputList[0]instanceof StatementInput$$module$build$src$core$inputs$statement_input&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT;c=this.topRow.hasRightSquareCorner(this.block_)?\nSquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_,\"right\"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection;this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:\nthis.constants_.BOTTOM_ROW_MIN_HEIGHT;this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_)):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_));this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new NextConnection$$module$build$src$core$renderers$measurables$next_connection(this.constants_,this.block_.nextConnection),\nthis.bottomRow.elements.push(this.bottomRow.connection));this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_,\"right\")):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_,\"right\"))}addInput_(a,b){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$measurables$inline_input(this.constants_,\na)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,a)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||\na instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,a.getSourceBlock()&&a.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;b.align===null&&(b.align=a.align)}shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||a instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?\n!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||b instanceof $.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let a=0,b;b=this.rows[a];a++){const c=b.elements;b.elements=[];b.startsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(null,c[0])));if(c.length){for(let d=\n0;d<c.length-1;d++){b.elements.push(c[d]);const e=this.getInRowSpacing_(c[d],c[d+1]);b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,e))}b.elements.push(c[c.length-1]);b.endsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(c[c.length-1],null)))}}}getInRowSpacing_(a,b){if(!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;\nif(a&&Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}return a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&\nb&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\na.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let a=0,b=0,c=0;for(let e=0,f;f=this.rows[e];e++){f.measure();b=Math.max(b,f.width);if(f.hasStatement){var d=f.getLastInput();let g,h;d=f.width-((h=(g=d)==null?void 0:g.width)!=null?h:0);a=Math.max(a,d)}c=Math.max(c,f.widthWithConnectedBlocks)}this.statementEdge=a;this.width=b;for(let e=0,f;f=this.rows[e];e++)f.hasStatement&&(f.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(b,c);this.outputConnection&&\n(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let b=0,c;c=this.rows[b];b++)if(c.hasStatement)this.alignStatementRow_(c);else{var a=c.width;a=this.getDesiredRowWidth_(c)-a;a>0&&this.addAlignmentPadding_(c,a);Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.widthWithConnectedBlocks=c.width)}}getDesiredRowWidth_(a){return this.width-this.startX}addAlignmentPadding_(a,\nb){const c=a.getFirstSpacer(),d=a.getLastSpacer();if(a.hasExternalInput||a.hasStatement)a.widthWithConnectedBlocks+=b;if(a.align===$.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=b;else if(a.align===$.Align$$module$build$src$core$inputs$align.CENTRE&&c&&d)c.width+=b/2,d.width+=b/2;else if(a.align===$.Align$$module$build$src$core$inputs$align.RIGHT&&c)c.width+=b;else if(d)d.width+=b;else return;a.width+=b}alignStatementRow_(a){const b=a.getLastInput();if(b){var c=a.width-b.width,d=this.statementEdge;\nc=d-c;c>0&&this.addAlignmentPadding_(a,c);c=a.width;d=this.getDesiredRowWidth_(a);b.width+=d-c;b.height=Math.max(b.height,a.height);a.width+=d-c;a.widthWithConnectedBlocks=Math.max(a.width,this.statementEdge+a.connectedBlockWidths)}}addRowSpacing_(){const a=this.rows;this.rows=[];for(let b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(this.makeSpacerRow_(a[b],a[b+1]))}makeSpacerRow_(a,b){var c=this.getSpacerRowHeight_(a,b);const d=this.getSpacerRowWidth_(a,b);c=new SpacerRow$$module$build$src$core$renderers$measurables$spacer_row(this.constants_,\nc,d);a.hasStatement&&(c.followsStatement=!0);b.hasStatement&&(c.precedesStatement=!0);return c}getSpacerRowWidth_(a,b){return this.width-this.startX}getSpacerRowHeight_(a,b){return this.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)?a.yPos+b.height/2:Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a)?(a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?\na+b.height/2:a-b.height/2):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2:a.yPos+a.height/2}recordElemPositions_(a){let b=a.xPos;for(let c=0,d;d=a.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(d.height=a.height),d.xPos=b,d.centerline=this.getElemCenterline_(a,d),b+=d.width}finalize_(){let a=0,b=0;for(let c=0,d;d=this.rows[c];c++)d.yPos=\nb,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){const c=this.block_.nextConnection.targetBlock();c&&(a=Math.max(a,c.getHeightWidth().width))}this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline;this.bottomRow.baseline=b-this.bottomRow.descenderHeight}getMeasureableForConnection(a){let b;if(((b=this.outputConnection)==null?void 0:b.connectionModel)===a)return this.outputConnection;\nfor(const c of this.rows)for(const d of c.elements)if(d instanceof Connection$$module$build$src$core$renderers$measurables$connection&&d.connectionModel===a)return d;return null}},module$build$src$core$renderers$common$info={};module$build$src$core$renderers$common$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;var PathObject$$module$build$src$core$renderers$common$path_object=class{constructor(a,b,c){this.connectionHighlights=new WeakMap;this.highlightOffsets=new WeakMap;this.constants=c;this.style=b;this.svgRoot=a;this.svgPath=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyPath\"},this.svgRoot);this.setClass_(\"blocklyBlock\",!0)}setPath(a){this.svgPath.setAttribute(\"d\",a)}flipRTL(){this.svgPath.setAttribute(\"transform\",\"scale(-1 1)\")}applyColour(a){this.svgPath.setAttribute(\"stroke\",\nthis.style.colourTertiary);this.svgPath.setAttribute(\"fill\",this.style.colourPrimary);this.updateShadow_(a.isShadow());this.updateDisabled_(!a.isEnabled()||a.getInheritedDisabled())}setStyle(a){this.style=a}setClass_(a,b){a&&(b?addClass$$module$build$src$core$utils$dom(this.svgRoot,a):removeClass$$module$build$src$core$utils$dom(this.svgRoot,a))}updateHighlighted(a){a?this.setClass_(\"blocklyHighlighted\",!0):this.setClass_(\"blocklyHighlighted\",!1)}updateShadow_(a){a?(this.setClass_(\"blocklyShadow\",\n!0),this.svgPath.setAttribute(\"stroke\",\"none\"),this.svgPath.setAttribute(\"fill\",this.style.colourSecondary)):this.setClass_(\"blocklyShadow\",!1)}updateDisabled_(a){this.setClass_(\"blocklyDisabled\",a);this.setClass_(\"blocklyDisabledPattern\",a)}updateSelected(a){this.setClass_(\"blocklySelected\",a)}updateDraggingDelete(a){this.setClass_(\"blocklyDraggingDelete\",a)}updateInsertionMarker(a){this.setClass_(\"blocklyInsertionMarker\",a)}updateMovable(a){this.setClass_(\"blocklyDraggable\",a)}updateReplacementFade(a){this.setClass_(\"blocklyReplaceable\",\na)}updateShapeForInputHighlight(a,b){}addConnectionHighlight(a,b,c,d){c=`translate(${c.x}, ${c.y})`+(d?\" scale(-1 1)\":\"\");if(d=this.connectionHighlights.get(a))return d.setAttribute(\"d\",b),d.setAttribute(\"transform\",c),d;b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{id:a.id,\"class\":\"blocklyHighlightedConnectionPath\",style:\"display: none;\",d:b,transform:c},this.svgRoot);this.connectionHighlights.set(a,b);return b}removeConnectionHighlight(a){const b=\nthis.connectionHighlights.get(a);b&&(removeNode$$module$build$src$core$utils$dom(b),this.connectionHighlights.delete(a))}},module$build$src$core$renderers$common$path_object={};module$build$src$core$renderers$common$path_object.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;var Renderer$$module$build$src$core$renderers$common$renderer=class{constructor(a){this.overrides=null;this.name=a}getClassName(){return this.name+\"-renderer\"}init(a,b){this.constants_=this.makeConstants_();b&&(this.overrides=b,Object.assign(this.constants_,b));this.constants_.setTheme(a);this.constants_.init()}createDom(a,b,c){this.constants_.createDom(a,this.name+\"-\"+b.name,\".\"+this.getClassName()+\".\"+b.getClassName(),c)}refreshDom(a,b,c){const d=this.getConstants();d.dispose();this.constants_=\nthis.makeConstants_();this.overrides&&Object.assign(this.constants_,this.overrides);this.constants_.randomIdentifier=d.randomIdentifier;this.constants_.setTheme(b);this.constants_.init();this.createDom(a,b,c)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$common$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$common$info(this,a)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$common$drawer(a,\nb)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$common$path_object(a,b,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(a){return!0}orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?b.outputConnection:b.previousConnection)}render(a){const b=this.makeRenderInfo_(a);b.measure();this.makeDrawer_(a,b).draw()}},\nmodule$build$src$core$renderers$common$renderer={};module$build$src$core$renderers$common$renderer.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;var module$build$src$core$renderers$common$block_rendering={};module$build$src$core$renderers$common$block_rendering.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;module$build$src$core$renderers$common$block_rendering.Connection=Connection$$module$build$src$core$renderers$measurables$connection;module$build$src$core$renderers$common$block_rendering.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;\nmodule$build$src$core$renderers$common$block_rendering.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;module$build$src$core$renderers$common$block_rendering.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;module$build$src$core$renderers$common$block_rendering.Field=Field$$module$build$src$core$renderers$measurables$field;module$build$src$core$renderers$common$block_rendering.Hat=Hat$$module$build$src$core$renderers$measurables$hat;\nmodule$build$src$core$renderers$common$block_rendering.Icon=Icon$$module$build$src$core$renderers$measurables$icon;module$build$src$core$renderers$common$block_rendering.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;module$build$src$core$renderers$common$block_rendering.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;module$build$src$core$renderers$common$block_rendering.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;\nmodule$build$src$core$renderers$common$block_rendering.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;module$build$src$core$renderers$common$block_rendering.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;module$build$src$core$renderers$common$block_rendering.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;module$build$src$core$renderers$common$block_rendering.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;\nmodule$build$src$core$renderers$common$block_rendering.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;module$build$src$core$renderers$common$block_rendering.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;module$build$src$core$renderers$common$block_rendering.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;\nmodule$build$src$core$renderers$common$block_rendering.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;module$build$src$core$renderers$common$block_rendering.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;module$build$src$core$renderers$common$block_rendering.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;module$build$src$core$renderers$common$block_rendering.Row=Row$$module$build$src$core$renderers$measurables$row;\nmodule$build$src$core$renderers$common$block_rendering.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;module$build$src$core$renderers$common$block_rendering.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;module$build$src$core$renderers$common$block_rendering.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;module$build$src$core$renderers$common$block_rendering.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;\nmodule$build$src$core$renderers$common$block_rendering.Types=Types$$module$build$src$core$renderers$measurables$types;module$build$src$core$renderers$common$block_rendering.init=init$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.register=register$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.unregister=unregister$$module$build$src$core$renderers$common$block_rendering;var ThemeManager$$module$build$src$core$theme_manager=class{constructor(a,b){this.workspace=a;this.theme=b;this.subscribedWorkspaces=[];this.componentDB=new Map}getTheme(){return this.theme}setTheme(a){var b=this.theme;this.theme=a;if(a=this.workspace.getInjectionDiv())b&&(b=b.getClassName())&&removeClass$$module$build$src$core$utils$dom(a,b),(b=this.theme.getClassName())&&addClass$$module$build$src$core$utils$dom(a,b);for(let c=0,d;d=this.subscribedWorkspaces[c];c++)d.refreshTheme();for(const [c,\nd]of this.componentDB)for(const e of d){a=e.element;b=e.propertyName;const f=this.theme&&this.theme.getComponentStyle(c);a.style.setProperty(b,f||\"\")}for(const c of this.subscribedWorkspaces)c.hideChaff()}subscribeWorkspace(a){this.subscribedWorkspaces.push(a)}unsubscribeWorkspace(a){if(!removeElem$$module$build$src$core$utils$array(this.subscribedWorkspaces,a))throw Error(\"Cannot unsubscribe a workspace that hasn't been subscribed.\");}subscribe(a,b,c){this.componentDB.has(b)||this.componentDB.set(b,\n[]);this.componentDB.get(b).push({element:a,propertyName:c});b=this.theme&&this.theme.getComponentStyle(b);a.style.setProperty(c,b||\"\")}unsubscribe(a){if(a)for(const [b,c]of this.componentDB){for(let d=c.length-1;d>=0;d--)c[d].element===a&&c.splice(d,1);c.length||this.componentDB.delete(b)}}dispose(){this.subscribedWorkspaces.length=0;this.componentDB.clear()}},module$build$src$core$theme_manager={};module$build$src$core$theme_manager.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;var CATEGORY_NAME$$module$build$src$core$variables_dynamic=\"VARIABLE_DYNAMIC\",onCreateVariableButtonClick_String$$module$build$src$core$variables_dynamic=stringButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Number$$module$build$src$core$variables_dynamic=numberButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Colour$$module$build$src$core$variables_dynamic=colourButtonClickHandler$$module$build$src$core$variables_dynamic,\nmodule$build$src$core$variables_dynamic={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables_dynamic};module$build$src$core$variables_dynamic.flyoutCategory=flyoutCategory$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$variables_dynamic;\nmodule$build$src$core$variables_dynamic.onCreateVariableButtonClick_Colour=colourButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_Number=numberButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_String=stringButtonClickHandler$$module$build$src$core$variables_dynamic;var ConnectionChecker$$module$build$src$core$connection_checker=class{canConnect(a,b,c,d){return this.canConnectWithReason(a,b,c,d)===Connection$$module$build$src$core$connection.CAN_CONNECT}canConnectWithReason(a,b,c,d){const e=this.doSafetyChecks(a,b);return e!==Connection$$module$build$src$core$connection.CAN_CONNECT?e:this.doTypeChecks(a,b)?c&&!this.doDragChecks(a,b,d||0)?Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:Connection$$module$build$src$core$connection.CAN_CONNECT:\nConnection$$module$build$src$core$connection.REASON_CHECKS_FAILED}getErrorMessage(a,b,c){switch(a){case Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:return\"Attempted to connect a block to itself.\";case Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:return\"Blocks not on same workspace.\";case Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:return\"Attempt to connect incompatible types.\";case Connection$$module$build$src$core$connection.REASON_TARGET_NULL:return\"Target connection is null.\";\ncase Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED:return\"Connection checks failed. \"+(b+\" expected \"+b.getCheck()+\", found \"+c.getCheck());case Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:return\"Connecting non-shadow to shadow block.\";case Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:return\"Drag checks failed.\";case Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:return\"Block would have an output and a previous connection.\";\ndefault:return\"Unknown connection failure: this should never happen!\"}}doSafetyChecks(a,b){if(!a||!b)return Connection$$module$build$src$core$connection.REASON_TARGET_NULL;let c,d,e;a.isSuperior()?(c=a.getSourceBlock(),d=b.getSourceBlock(),e=b):(d=a.getSourceBlock(),c=b.getSourceBlock(),e=a,a=b);return c===d?Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:e.type!==OPPOSITE_TYPE$$module$build$src$core$internal_constants[a.type]?Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:\nc.workspace!==d.workspace?Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:c.isShadow()&&!d.isShadow()?Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:\nConnection$$module$build$src$core$connection.CAN_CONNECT}doTypeChecks(a,b){a=a.getCheck();b=b.getCheck();if(!a||!b)return!0;for(let c=0;c<a.length;c++)if(b.includes(a[c]))return!0;return!1}doDragChecks(a,b,c){if(a.distanceFrom(b)>c||b.getSourceBlock().isInsertionMarker())return!1;switch(b.type){case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(a,b);case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:if(b.isConnected()&&\n!b.targetBlock().isInsertionMarker()||a.isConnected())return!1;break;case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;break;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:if(b.isConnected()&&!a.getSourceBlock().nextConnection&&!b.targetBlock().isShadow()&&b.targetBlock().nextConnection||b.targetBlock()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;\nbreak;default:return!1}return draggingConnections$$module$build$src$core$common.includes(b)?!1:!0}canConnectToPrevious_(a,b){if(a.targetConnection||draggingConnections$$module$build$src$core$common.includes(b))return!1;if(!b.targetConnection)return!0;a=b.targetBlock();return a.isInsertionMarker()?!a.getPreviousBlock():!1}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,DEFAULT$$module$build$src$core$registry,ConnectionChecker$$module$build$src$core$connection_checker);\nvar module$build$src$core$connection_checker={};module$build$src$core$connection_checker.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;var Workspace$$module$build$src$core$workspace=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(a){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1;this.MAX_UNDO=1024;this.connectionDBList=[];this.topBlocks=[];this.topComments=[];this.commentDB=new Map;this.listeners=[];this.undoStack_=[];this.redoStack_=[];this.blockDB=new Map;this.typedBlocksDB=new Map;this.procedureMap=new ObservableProcedureMap$$module$build$src$core$observable_procedure_map;\nthis.readOnly=!1;this.potentialVariableMap=null;this.id=genUid$$module$build$src$core$utils$idgenerator();registerWorkspace$$module$build$src$core$common(this);this.options=a||new Options$$module$build$src$core$options({});this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.connectionChecker=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,this.options,\n!0))(this);this.variableMap=new (this.getVariableMapClass())(this);this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0;this.clear();unregisterWorkpace$$module$build$src$core$common(this)}sortObjects(a,b){const c=d=>({getBoundingRectangle:()=>{const e=d.getRelativeToSurfaceXY();return new Rect$$module$build$src$core$utils$rect(e.y,e.y,e.x,e.x)},moveBy:()=>{}});return this.sortByOrigin(c(a),c(b))}sortByOrigin(a,b){const c=Math.sin(toRadians$$module$build$src$core$utils$math(Workspace$$module$build$src$core$workspace.SCAN_ANGLE))*\n(this.RTL?-1:1);a=a.getBoundingRectangle().getOrigin();b=b.getBoundingRectangle().getOrigin();return a.y+c*a.x-(b.y+c*b.x)}addTopBlock(a){this.topBlocks.push(a)}removeTopBlock(a){if(!removeElem$$module$build$src$core$utils$array(this.topBlocks,a))throw Error(\"Block not present in workspace's list of top-most blocks.\");}getTopBlocks(a=!1){const b=[].concat(this.topBlocks);a&&b.length>1&&b.sort(this.sortObjects.bind(this));return b}addTypedBlock(a){this.typedBlocksDB.has(a.type)||this.typedBlocksDB.set(a.type,\n[]);this.typedBlocksDB.get(a.type).push(a)}removeTypedBlock(a){removeElem$$module$build$src$core$utils$array(this.typedBlocksDB.get(a.type),a);this.typedBlocksDB.get(a.type).length||this.typedBlocksDB.delete(a.type)}getBlocksByType(a,b=!1){if(!this.typedBlocksDB.has(a))return[];a=this.typedBlocksDB.get(a).slice(0);b&&a&&a.length>1&&a.sort(this.sortObjects.bind(this));return a.filter(c=>!c.isInsertionMarker())}addTopComment(a){this.topComments.push(a);this.commentDB.has(a.id)&&console.warn('Overriding an existing comment on this workspace, with id \"'+\na.id+'\"');this.commentDB.set(a.id,a)}removeTopComment(a){if(!removeElem$$module$build$src$core$utils$array(this.topComments,a))throw Error(\"Comment not present in workspace's list of top-most comments.\");this.commentDB.delete(a.id)}getTopComments(a=!1){const b=[].concat(this.topComments);a&&b.length>1&&b.sort(this.sortObjects.bind(this));return b}getAllBlocks(a=!1){if(a){var b=this.getTopBlocks(!0);a=[];for(let c=0;c<b.length;c++)a.push(...b[c].getDescendants(!0))}else for(a=this.getTopBlocks(!1),\nb=0;b<a.length;b++)a.push(...a[b].getChildren(!1));return a.filter(c=>!c.isInsertionMarker())}clear(){this.isClearing=!0;try{const a=$.getGroup$$module$build$src$core$events$utils();for(a||$.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();$.setGroup$$module$build$src$core$events$utils(a);this.isFlyout||this.variableMap.clear();this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=\n!1}}renameVariableById(a,b){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.renameVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().renameVariable\");(a=this.variableMap.getVariableById(a))&&this.variableMap.renameVariable(a,b)}createVariable(a,b,c){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.createVariable\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().createVariable\");return this.variableMap.createVariable(a,b!=null?b:void 0,c!=null?c:void 0)}getVariableUsesById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariableUsesById\",\n\"v12\",\"v13\",\"Blockly.Variables.getVariableUsesById\");return getVariableUsesById$$module$build$src$core$variables(this,a)}deleteVariableById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.deleteVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().deleteVariable\");const b=this.variableMap.getVariableById(a);b?$.deleteVariable$$module$build$src$core$variables(this,b):console.warn(`Can't delete non-existent variable: ${a}`)}getVariable(a,b){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariable\",\n\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariable\");return this.variableMap.getVariable(a,b)}getVariableById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariableById\");return this.variableMap.getVariableById(a)}getVariablesOfType(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariablesOfType\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariablesOfType\");return this.variableMap.getVariablesOfType(a!=\nnull?a:\"\")}getAllVariables(){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getAllVariables\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getAllVariables\");return this.variableMap.getAllVariables()}getAllVariableNames(){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getAllVariableNames\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getAllVariables\");return this.variableMap.getAllVariables().map(a=>a.getName())}getWidth(){return 0}newBlock(a,b){throw Error(\"The implementation of newBlock should be monkey-patched in by blockly.ts\");\n}newComment(a){throw Error(\"The implementation of newComment should be monkey-patched in by blockly.ts\");}remainingCapacity(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(a){return this.options.maxInstances?(this.options.maxInstances[a]!==void 0?this.options.maxInstances[a]:Infinity)-this.getBlocksByType(a,!1).length:Infinity}isCapacityAvailable(a){if(!this.hasBlockLimits())return!0;let b=0;for(const c in a){if(a[c]>this.remainingCapacityOfType(c))return!1;\nb+=a[c]}return b>this.remainingCapacity()?!1:!0}hasBlockLimits(){return this.options.maxBlocks!==Infinity||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_;const d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group===b[b.length-1].group;){const f=b.pop();f&&e.push(f)}for(b=0;b<e.length;b++)c.push(e[b]);$.setRecordUndo$$module$build$src$core$events$utils(!1);\ntry{for(c=0;c<e.length;c++)e[c].run(a)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0;this.redoStack_.length=0;clearPendingUndo$$module$build$src$core$events$utils()}addChangeListener(a){this.listeners.push(a);return a}removeChangeListener(a){removeElem$$module$build$src$core$utils$array(this.listeners,a)}fireChangeListener(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=\n0;)this.undoStack_.shift();for(let b=0;b<this.listeners.length;b++)(0,this.listeners[b])(a)}getBlockById(a){return this.blockDB.get(a)||null}setBlockById(a,b){this.blockDB.set(a,b)}removeBlockById(a){this.blockDB.delete(a)}getCommentById(a){let b;return(b=this.commentDB.get(a))!=null?b:null}allInputsFilled(a){const b=this.getTopBlocks(!1);for(let c=0;c<b.length;c++)if(!b[c].allInputsFilled(a))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=\nnew (this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(a){this.variableMap=a}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let a=null;const b=this.options.parentWorkspace;this.isFlyout?b&&b.options&&(a=b.options.parentWorkspace):b&&(a=b);return a}static getById(a){return getWorkspaceById$$module$build$src$core$common(a)}static getAll(){return getAllWorkspaces$$module$build$src$core$common()}getVariableMapClass(){const a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MAP,\nthis.options,!0);if(!a)throw Error(\"No variable map is registered.\");return a}isReadOnly(){return this.readOnly}setIsReadOnly(a){this.readOnly=a;this.options.readOnly=a}};Workspace$$module$build$src$core$workspace.SCAN_ANGLE=3;var module$build$src$core$workspace={};module$build$src$core$workspace.Workspace=Workspace$$module$build$src$core$workspace;var SOUND_LIMIT$$module$build$src$core$workspace_audio=100,WorkspaceAudio$$module$build$src$core$workspace_audio=class{constructor(a){this.parentWorkspace=a;this.sounds=new Map;this.lastSound=null;this.muted=!1}dispose(){this.sounds.clear()}load(a,b){if(a.length){try{var c=new globalThis.Audio}catch(e){return}for(let e=0;e<a.length;e++){const f=a[e],g=f.match(/\\.(\\w+)$/);if(g&&c.canPlayType(\"audio/\"+g[1])){var d=new globalThis.Audio(f);break}}d&&this.sounds.set(b,d)}}preload(){for(const a of this.sounds.values()){a.volume=\n.01;const b=a.play();b!==void 0?b.then(a.pause).catch(function(){}):a.pause();if(IPAD$$module$build$src$core$utils$useragent||IPHONE$$module$build$src$core$utils$useragent)break}}play(a,b){if(!this.muted){var c=this.sounds.get(a);c?(a=new Date,this.lastSound!==null&&a.getTime()-this.lastSound.getTime()<SOUND_LIMIT$$module$build$src$core$workspace_audio||(this.lastSound=a,c=IPAD$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent?c:c.cloneNode(),c.volume=b===void 0?\n1:b,c.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(a,b)}}setMuted(a){this.muted=a}getMuted(){return this.muted}},module$build$src$core$workspace_audio={};module$build$src$core$workspace_audio.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;var ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg=20,WorkspaceSvg$$module$build$src$core$workspace_svg=class extends Workspace$$module$build$src$core$workspace{constructor(a){super(a);this.resizeHandlerWrapper=null;this.resizesEnabled=this.visible=this.rendered=!0;this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0;this.oldScale=this.scale=1;this.oldLeft=this.oldTop=0;this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=\nthis.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null;this.inverseScreenCTMDirty=!0;this.highlightedBlocks=[];this.toolboxCategoryCallbacks=new Map;this.flyoutButtonCallbacks=new Map;this.cachedParentSvg=null;this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1;this.topBoundedElements=[];this.dragTargetAreas=[];this.zoomControls_=this.layerManager=null;this.navigator=new Navigator$$module$build$src$core$navigator;this.metricsManager=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,\na,!0))(this);this.getMetrics=a.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager);this.setMetrics=a.setMetrics||WorkspaceSvg$$module$build$src$core$workspace_svg.setTopLevelWorkspaceMetrics;this.componentManager=new ComponentManager$$module$build$src$core$component_manager;this.connectionDBList=ConnectionDB$$module$build$src$core$connection_db.init(this.connectionChecker);this.audioManager=new WorkspaceAudio$$module$build$src$core$workspace_audio(a.parentWorkspace);this.grid=this.options.gridPattern?\nnew Grid$$module$build$src$core$grid(this.options.gridPattern,a.gridOptions):null;this.markerManager=new MarkerManager$$module$build$src$core$marker_manager(this);module$build$src$core$variables&&internalFlyoutCategory$$module$build$src$core$variables&&this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables,internalFlyoutCategory$$module$build$src$core$variables);module$build$src$core$variables_dynamic&&internalFlyoutCategory$$module$build$src$core$variables_dynamic&&this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables_dynamic,\ninternalFlyoutCategory$$module$build$src$core$variables_dynamic);module$build$src$core$procedures&&internalFlyoutCategory$$module$build$src$core$procedures&&(this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$procedures,internalFlyoutCategory$$module$build$src$core$procedures),this.addChangeListener(mutatorOpenListener$$module$build$src$core$procedures));this.addChangeListener(this.variableChangeCallback.bind(this));this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():\nnew ThemeManager$$module$build$src$core$theme_manager(this,this.options.theme||Classic$$module$build$src$core$theme$classic);this.themeManager_.subscribeWorkspace(this);let b;this.renderer=init$$module$build$src$core$renderers$common$block_rendering(this.options.renderer||\"geras\",this.getTheme(),(b=this.options.rendererOverrides)!=null?b:void 0);this.cachedParentSvgSize=new Size$$module$build$src$core$utils$size(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(a){this.metricsManager=\na;this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(a){return this.markerManager.getMarker(a)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(a){a||(a=Classic$$module$build$src$core$theme$classic);this.themeManager_.setTheme(a)}refreshTheme(){if(this.svgGroup_){var a=this.options.parentWorkspace===\nnull;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),a?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(b=>!!b.getStyleName()));this.refreshToolboxSelection();this.toolbox&&this.toolbox.refreshTheme();this.isVisible()&&this.setVisible(!0);a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.THEME_CHANGE))(this.getTheme().name,this.id);fire$$module$build$src$core$events$utils(a)}updateBlockStyles(a){for(let b=0,c;c=a[b];b++){const d=\nc.getStyleName();d&&c.setStyle(d)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM=a.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(a){let b=0,c=0,d=1;if(this.getCanvas().contains(a)||this.getBubbleCanvas().contains(a))d=this.scale;do{const e=getRelativeXY$$module$build$src$core$utils$svg_math(a);if(a===this.getCanvas()||\na===this.getBubbleCanvas())d=1;b+=e.x*d;c+=e.y*d;a=a.parentNode}while(a&&a!==this.getParentSvg()&&a!==this.getInjectionDiv());return new Coordinate$$module$build$src$core$utils$coordinate(b,c)}getCachedParentSvgSize(){const a=this.cachedParentSvgSize;return new Size$$module$build$src$core$utils$size(a.width,a.height)}getOriginOffsetInPixels(){return getInjectionDivXY$$module$build$src$core$utils$svg_math(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let a=this.svgGroup_;for(;a;){if((\" \"+\n(a.getAttribute(\"class\")||\"\")+\" \").includes(\" injectionDiv \")){this.injectionDiv=a;break}a=a.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(a){this.resizeHandlerWrapper=a}createDom(a,b){this.injectionDiv||(this.injectionDiv=b!=null?b:null);this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyWorkspace\",id:this.id});b&&setState$$module$build$src$core$utils$aria(this.svgGroup_,\nState$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL);a&&(this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:\"100%\",width:\"100%\",\"class\":a},this.svgGroup_),a===\"blocklyMainBackground\"&&this.grid?this.svgBackground_.style.fill=\"var(--blocklyGridPattern)\":this.themeManager_.subscribe(this.svgBackground_,\"workspaceBackgroundColour\",\"fill\"));this.layerManager=new LayerManager$$module$build$src$core$layer_manager(this);\nthis.svgBlockCanvas_=this.layerManager.getBlockLayer();this.svgBubbleCanvas_=this.layerManager.getBubbleLayer();this.isFlyout||(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"pointerdown\",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener(\"wheel\",this.dummyWheelListener),conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"wheel\",this,this.onMouseWheel));this.options.hasCategories&&(this.toolbox=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,\nthis.options,!0))(this));this.grid&&this.grid.update(this.scale);this.recordDragTargets();(a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,this.options))&&this.markerManager.setCursor(new a(this));a=this.options.parentWorkspace===null;this.renderer.createDom(this.svgGroup_,this.getTheme(),a?this.getInjectionDiv():void 0);$.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout);return this.svgGroup_}dispose(){this.rendered=\n!1;this.currentGesture_&&this.currentGesture_.cancel();this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_);this.toolbox&&(this.toolbox.dispose(),this.toolbox=null);this.flyout&&(this.flyout.dispose(),this.flyout=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null);this.zoomControls_&&this.zoomControls_.dispose();this.audioManager&&this.audioManager.dispose();this.grid&&(this.grid=null);this.renderer.dispose();\nthis.markerManager.dispose();super.dispose();this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose());this.connectionDBList.length=0;this.toolboxCategoryCallbacks.clear();this.flyoutButtonCallbacks.clear();if(!this.options.parentWorkspace){const a=this.getParentSvg();a&&a.parentNode&&removeNode$$module$build$src$core$utils$dom(a.parentNode)}this.resizeHandlerWrapper&&(unbind$$module$build$src$core$browser_events(this.resizeHandlerWrapper),\nthis.resizeHandlerWrapper=null);this.dummyWheelListener&&(document.body.removeEventListener(\"wheel\",this.dummyWheelListener),this.dummyWheelListener=null);$.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&$.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan(this);const a=this.trashcan.createDom();this.svgGroup_.insertBefore(a,this.getCanvas())}static newTrashcan(a){throw Error(\"The implementation of newTrashcan should be monkey-patched in by blockly.ts\");\n}addZoomControls(){this.zoomControls_=new ZoomControls$$module$build$src$core$zoom_controls(this);const a=this.zoomControls_.createDom();this.svgGroup_.appendChild(a)}copyOptionsForFlyout(){return new Options$$module$build$src$core$options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,\nmove:{scrollbars:!0}})}addFlyout(a){const b=this.copyOptionsForFlyout();b.toolboxPosition=this.options.toolboxPosition;this.flyout=this.horizontalLayout?new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(b):new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(b);this.flyout.autoClose=!1;this.flyout.getWorkspace().setVisible(!0);\nreturn this.flyout.createDom(a)}getFlyout(a){return this.flyout||a?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM();this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE,\n!0),b=this.getMetricsManager().getUiMetrics(),c=[];for(let d=0,e;e=a[d];d++){e.position(b,c);const f=e.getBoundingRectangle();f&&c.push(f)}this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const a=getDocumentScroll$$module$build$src$core$utils$svg_math();Coordinate$$module$build$src$core$utils$coordinate.equals(this.lastRecordedPageScroll,a)||(this.lastRecordedPageScroll=a,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(a,\nb){const c=this.getParentSvg();a!=null&&(this.cachedParentSvgSize.width=a,c.setAttribute(\"data-cached-width\",`${a}`));b!=null&&(this.cachedParentSvgSize.height=b,c.setAttribute(\"data-cached-height\",`${b}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let a=this.svgGroup_;for(;a;){if(a.tagName===\"svg\"){this.cachedParentSvg=a;break}a=a.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(isEnabled$$module$build$src$core$events$utils()){var a=\nthis.scale,b=-this.scrollY,c=-this.scrollX;if(!(a===this.oldScale&&Math.abs(b-this.oldTop)<1&&Math.abs(c-this.oldLeft)<1)){var d=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE))(b,c,a,this.id,this.oldScale);this.oldScale=a;this.oldTop=b;this.oldLeft=c;fire$$module$build$src$core$events$utils(d)}}}translate(a,b){let c;(c=this.layerManager)==null||c.translateLayers(new Coordinate$$module$build$src$core$utils$coordinate(a,b),this.scale);let d;\n(d=this.grid)==null||d.moveTo(a,b);this.maybeFireViewportChangeEvent()}getWidth(){const a=this.getMetrics();return a?a.viewWidth/this.scale:0}setVisible(a){this.visible=a;this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(a),this.getFlyout()&&this.getFlyout().setContainerVisible(a),this.getParentSvg().style.display=a?\"block\":\"none\",this.toolbox&&this.toolbox.setVisible(a),a||this.hideChaff(!0))}render(){const a=this.getAllBlocks(!1);for(let b=a.length-1;b>=0;b--)a[b].queueRender();\nthis.getTopBlocks().flatMap(b=>b.getDescendants(!1)).filter(b=>b.isInsertionMarker()).forEach(b=>b.queueRender())}highlightBlock(a,b){if(b===void 0){for(let c=0,d;d=this.highlightedBlocks[c];c++)d.setHighlighted(!1);this.highlightedBlocks.length=0}if(a=a?this.getBlockById(a):null)(b=b===void 0||b)?this.highlightedBlocks.includes(a)||this.highlightedBlocks.push(a):removeElem$$module$build$src$core$utils$array(this.highlightedBlocks,a),a.setHighlighted(b)}variableChangeCallback(a){switch(a.type){case EventType$$module$build$src$core$events$type.VAR_CREATE:case EventType$$module$build$src$core$events$type.VAR_DELETE:case EventType$$module$build$src$core$events$type.VAR_RENAME:case EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const a=\nthis.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox&&a.toolbox.getFlyout()&&a.toolbox.refreshSelection()}recordDragTargets(){const a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let b=0,c;c=a[b];b++){const d=c.getClientRect();d&&this.dragTargetAreas.push({component:c,clientRect:d})}}newBlock(a,b){throw Error(\"The implementation of newBlock should be monkey-patched in by blockly.ts\");\n}newComment(a){throw Error(\"The implementation of newComment should be monkey-patched in by blockly.ts\");}getDragTarget(a){for(let b=0,c;c=this.dragTargetAreas[b];b++)if(c.clientRect.contains(a.clientX,a.clientY))return c.component;return null}onMouseDown(a){const b=this.getGesture(a);b&&b.handleWsStart(a,this)}startDrag(a,b){start$$module$build$src$core$utils$drag(this,a,b)}moveDrag(a){return move$$module$build$src$core$utils$drag(this,a)}setKeyboardMoveInProgress(a){this.keyboardMoveInProgress=\na}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const a=\n!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollVertically())}onMouseWheel(a){if(Gesture$$module$build$src$core$gesture.inProgress())a.preventDefault(),a.stopPropagation();else{var b=this.options.zoomOptions&&this.options.zoomOptions.wheel,c=this.options.moveOptions&&this.options.moveOptions.wheel;if(b||c){var d=getScrollDeltaPixels$$module$build$src$core$browser_events(a);\nif(MAC$$module$build$src$core$utils$useragent)var e=a.metaKey;b&&(a.ctrlKey||e||!c)?(d=-d.y/50,b=mouseToSvg$$module$build$src$core$browser_events(a,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(b.x,b.y,d)):(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c));a.preventDefault()}}}getBlocksBoundingBox(){const a=this.getTopBoundedElements();if(!a.length)return new Rect$$module$build$src$core$utils$rect(0,0,0,0);const b=a[0].getBoundingRectangle();\nfor(let d=1;d<a.length;d++){var c=a[d];c.isInsertionMarker&&c.isInsertionMarker()||(c=c.getBoundingRectangle(),c.top<b.top&&(b.top=c.top),c.bottom>b.bottom&&(b.bottom=c.bottom),c.left<b.left&&(b.left=c.left),c.right>b.right&&(b.right=c.right))}return b}cleanUp(){this.setResizesEnabled(!1);const a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=this.getTopBlocks(!0),c=b.filter(g=>g.isMovable());const d=b.filter(g=>!g.isMovable()).map(g=>\ng.getBoundingRectangle());b=function(g){for(const h of d)if(g.intersects(h))return h;return null};var e=0;const f=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const g of c){c=g.getBoundingRectangle();g.moveBy(-c.left,e-c.top,[\"cleanup\"]);g.snapToGrid();c=g.getBoundingRectangle();for(e=b(c);e!=null;)e=e.top+e.getHeight()+f,g.moveBy(0,e-c.top,[\"cleanup\"]),g.snapToGrid(),c=g.getBoundingRectangle(),e=b(c);e=g.getRelativeToSurfaceXY().y+g.getHeightWidth().height+f}$.setGroup$$module$build$src$core$events$utils(a);\nthis.setResizesEnabled(!0)}showContextMenu(a){if(!this.isReadOnly()&&!this.isFlyout){var b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({workspace:this,focusedNode:this},a);this.configureContextMenu&&this.configureContextMenu(b,a);var c=a instanceof PointerEvent?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this,new Coordinate$$module$build$src$core$utils$coordinate(5,\n5));show$$module$build$src$core$contextmenu(a,b,this.RTL,this,c)}}updateToolbox(a){if(a=convertToolboxDefToJson$$module$build$src$core$utils$toolbox(a)){if(!this.options.languageTree)throw Error(\"Existing toolbox is null.  Can't create new toolbox.\");if(hasCategories$$module$build$src$core$utils$toolbox(a)){if(!this.toolbox)throw Error(\"Existing toolbox has no categories.  Can't change mode.\");this.options.languageTree=a;this.toolbox.render(a)}else{if(!this.flyout)throw Error(\"Existing toolbox has categories.  Can't change mode.\");\nthis.options.languageTree=a;this.flyout.show(a)}}else if(this.options.languageTree)throw Error(\"Can't nullify an existing toolbox.\");}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(setMainWorkspace$$module$build$src$core$common(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(a,b,c){c=Math.pow(this.options.zoomOptions.scaleSpeed,c);const d=this.scale*c;if(this.scale!==d){d>this.options.zoomOptions.maxScale?c=this.options.zoomOptions.maxScale/this.scale:\nd<this.options.zoomOptions.minScale&&(c=this.options.zoomOptions.minScale/this.scale);var e=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}}zoomCenter(a){var b=this.getMetrics();let c;this.flyout?(c=b.svgWidth?b.svgWidth/2:0,b=b.svgHeight?b.svgHeight/2:0):(c=b.viewWidth/2+b.absoluteLeft,b=b.viewHeight/2+b.absoluteTop);this.zoom(c,b,a)}zoomToFit(){if(this.isMovable()){var a=\nthis.getMetrics(),b=a.viewWidth;a=a.viewHeight;var c=this.getBlocksBoundingBox(),d=ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg*2,e=c.right-c.left+d;c=c.bottom-c.top+d;if(e){this.flyout&&(this.horizontalLayout?(a+=this.flyout.getHeight(),c+=this.flyout.getHeight()/this.scale):(b+=this.flyout.getWidth(),e+=this.flyout.getWidth()/this.scale));b/=e;a/=c;$.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(b,a)),this.scrollCenter()}finally{$.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}beginCanvasTransition(){addClass$$module$build$src$core$utils$dom(this.getCanvas(),\n\"blocklyCanvasTransitioning\");addClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),\"blocklyCanvasTransitioning\")}endCanvasTransition(){removeClass$$module$build$src$core$utils$dom(this.getCanvas(),\"blocklyCanvasTransitioning\");removeClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),\"blocklyCanvasTransitioning\")}scrollCenter(){if(this.isMovable()){var a=this.getMetrics(),b=(a.scrollWidth-a.viewWidth)/2,c=(a.scrollHeight-a.viewHeight)/2;b=-b-a.scrollLeft;c=-c-a.scrollTop;this.scroll(b,\nc)}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}centerOnBlock(a,b){if(this.isMovable()){var c=a?this.getBlockById(a):null;if(c){a=c.getRelativeToSurfaceXY();c=b?{height:c.height,width:c.width}:c.getHeightWidth();var d=this.scale;b=(a.x+(this.RTL?-1:1)*c.width/2)*d;a=(a.y+c.height/2)*d;c=this.getMetrics();this.scroll(-(b-c.viewWidth/2),-(a-c.viewHeight/2))}}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}setScale(a){this.options.zoomOptions.maxScale&&\na>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;this.hideChaff(!1);(a=this.getFlyout(!1))&&a.isVisible()&&(a.reflow(),this.recordDragTargets());this.grid&&this.grid.update(this.scale);a=this.getMetrics();this.scrollX-=a.absoluteLeft;this.scrollY-=a.absoluteTop;a.viewLeft+=a.absoluteLeft;a.viewTop+=a.absoluteTop;this.scroll(this.scrollX,this.scrollY);this.scrollbar&&\n(this.flyout?this.scrollbar.resizeView(a):this.scrollbar.resizeContent(a))}getScale(){return this.scale}getAbsoluteScale(){const a=c=>{if(c.isFlyout){let d;const e=(d=c.targetWorkspace)==null?void 0:d.getFlyout();if(e instanceof Flyout$$module$build$src$core$flyout_base)return e.getFlyoutScale()}return c.getScale()},b=(c,d)=>c.options.parentWorkspace&&c.options.parentWorkspace.getSvgGroup().contains(c.getSvgGroup())?b(c.options.parentWorkspace,d*a(c)):d*a(c);return b(this,1)}scroll(a,b){this.hideChaff(!0);\nconst c=this.getMetrics();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);const d=c.scrollTop+Math.max(0,c.scrollHeight-c.viewHeight);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.viewWidth)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.scrollbar&&this.scrollbar.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.absoluteLeft;b+=c.absoluteTop;this.translate(a,b)}getBlockById(a){return super.getBlockById(a)}getAllBlocks(a=!1){return super.getAllBlocks(a)}getTopBlocks(a=!1){return super.getTopBlocks(a)}addTopBlock(a){this.addTopBoundedElement(a);\nsuper.addTopBlock(a)}removeTopBlock(a){this.removeTopBoundedElement(a);super.removeTopBlock(a)}addTopComment(a){this.addTopBoundedElement(a);super.addTopComment(a)}removeTopComment(a){this.removeTopBoundedElement(a);super.removeTopComment(a)}getTopComments(a=!1){return super.getTopComments(a)}getCommentById(a){return super.getCommentById(a)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(a){this.topBoundedElements.push(a)}removeTopBoundedElement(a){removeElem$$module$build$src$core$utils$array(this.topBoundedElements,\na)}getTopBoundedElements(a=!1){const b=[].concat(this.topBoundedElements);a&&b.sort(this.sortByOrigin.bind(this));return b}setResizesEnabled(a){const b=!this.resizesEnabled&&a;this.resizesEnabled=a;b&&this.resizeContents()}clear(){this.setResizesEnabled(!1);super.clear();this.topBoundedElements=[];this.setResizesEnabled(!0)}registerButtonCallback(a,b){if(typeof b!==\"function\")throw TypeError(\"Button callbacks must be functions.\");this.flyoutButtonCallbacks.set(a,b)}getButtonCallback(a){let b;return(b=\nthis.flyoutButtonCallbacks.get(a))!=null?b:null}removeButtonCallback(a){this.flyoutButtonCallbacks.delete(a)}registerToolboxCategoryCallback(a,b){if(typeof b!==\"function\")throw TypeError(\"Toolbox category callbacks must be functions.\");this.toolboxCategoryCallbacks.set(a,b)}getToolboxCategoryCallback(a){return this.toolboxCategoryCallbacks.get(a)||null}removeToolboxCategoryCallback(a){this.toolboxCategoryCallbacks.delete(a)}getGesture(a){if(this.keyboardMoveInProgress)return a.preventDefault(),a.stopPropagation(),\nnull;const b=a.type===\"pointerdown\";let c;b&&((c=this.currentGesture_)==null?0:c.hasStarted())&&(console.warn(\"Tried to start the same gesture twice.\"),this.currentGesture_.cancel());!this.currentGesture_&&b&&(this.currentGesture_=new Gesture$$module$build$src$core$gesture(a,this));return this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(a=\n!1){hide$$module$build$src$core$tooltip();hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this);hideWithoutAnimation$$module$build$src$core$dropdowndiv();this.hideComponents(a)}hideComponents(a=!1){this.getComponentManager().getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,!0).forEach(b=>b.autoHide(a))}static setTopLevelWorkspaceMetrics(a){const b=this.getMetrics();typeof a.x===\"number\"&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.viewWidth)*\na.x));typeof a.y===\"number\"&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.viewHeight)*a.y));this.translate(this.scrollX+b.absoluteLeft,this.scrollY+b.absoluteTop)}addClass(a){this.injectionDiv&&addClass$$module$build$src$core$utils$dom(this.injectionDiv,a)}removeClass(a){this.injectionDiv&&removeClass$$module$build$src$core$utils$dom(this.injectionDiv,a)}setIsReadOnly(a){super.setIsReadOnly(a);a?this.addClass(\"blocklyReadOnly\"):this.removeClass(\"blocklyReadOnly\")}scrollBoundsIntoView(a,b=10){if(!Gesture$$module$build$src$core$gesture.inProgress()){var c=\nthis.getScale(),d=this.getMetricsManager().getViewMetrics(!0);d=new Rect$$module$build$src$core$utils$rect(d.top,d.top+d.height,d.left,d.left+d.width);if(!(a.left>=d.left&&a.top>=d.top&&a.right<=d.right&&a.bottom<=d.bottom)){a=a.clone();a.top-=b;a.bottom+=b;a.left-=b;a.right+=b;var e=b=0;a.left<d.left?b=this.RTL?Math.min(d.left-a.left,d.right-a.right):d.left-a.left:a.right>d.right&&(b=this.RTL?d.right-a.right:Math.max(d.right-a.right,d.left-a.left));a.top<d.top?e=d.top-a.top:a.bottom>d.bottom&&(e=\nMath.max(d.bottom-a.bottom,d.top-a.top));this.scroll(this.scrollX+b*c,this.scrollY+e*c)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(a){if(a)return null;let b;a=(b=this.targetWorkspace)==null?void 0:b.getFlyout();if(this.isFlyout&&a){let d,e;return(e=(d=a.getContents().find(f=>{f=f.getElement();return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(f)&&\nf.canBeFocused()}))==null?void 0:d.getElement())!=null?e:null}let c;return(c=this.getTopBlocks(!0)[0])!=null?c:null}getNestedTrees(){const a=this.getAllBlocks().map(c=>c.getIcons()).flat().filter(c=>c instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&c.bubbleIsVisible()).map(c=>{let d;return(d=c.getBubble())==null?void 0:d.getWorkspace()}).filter(c=>!!c),b=this.getFlyout(!0);b&&a.push(b.getWorkspace());return a}searchForWorkspaceComment(a){for(const b of this.getTopComments())if(b instanceof\nRenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment&&b.canBeFocused()&&b.getFocusableElement().id===a)return b}lookUpFocusableNode(a){var b;const c=(b=this.targetWorkspace)==null?void 0:b.getFlyout();if(this.isFlyout&&c)for(var d of c.getContents())if(b=d.getElement(),isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(b)&&b.canBeFocused()&&b.getFocusableElement().id===a)return b;d=a.indexOf(\"_field_\");b=a.indexOf(\"_connection_\");if(d!==-1){var e=a.substring(0,\nd);if(e=this.getBlockById(e))for(var f of e.getFields())if(f.canBeFocused()&&f.getFocusableElement().id===a)return f;return null}if(b!==-1){e=a.substring(0,b);if(e=this.getBlockById(e))for(const h of e.getConnections_(!0))if(h.id===a)return h;return null}f=Math.max(a.indexOf(COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor),a.indexOf(COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button),a.indexOf(COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button));\nif(f!==-1&&(f=a.substring(0,f),f=this.searchForWorkspaceComment(f))){if(a.indexOf(COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor)>-1)return f.getEditorFocusableNode();var g;return(g=f.view.getCommentBarButtons().find(h=>h.getFocusableElement().id.includes(a)))!=null?g:null}if((g=this.getAllBlocks(!1).find(h=>h.getFocusableElement().id===a))||(g=this.searchForWorkspaceComment(a)))return g;g=this.getAllBlocks().map(h=>h.getIcons()).flat();for(e of g){if(e.canBeFocused()&&\ne.getFocusableElement().id===a)return e;if(hasBubble$$module$build$src$core$interfaces$i_has_bubble(e)){if((g=e.getBubble())&&g.canBeFocused()&&g.getFocusableElement().id===a)return g;if(g instanceof TextInputBubble$$module$build$src$core$bubbles$textinput_bubble&&g.getEditor().getFocusableElement().id===a)return g.getEditor()}}return null}onTreeFocus(a,b){}onTreeBlur(a){if(this.isFlyout&&this.targetWorkspace&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var b=\nthis.targetWorkspace.getToolbox();b&&a===b||isAutoHideable$$module$build$src$core$interfaces$i_autohideable(b)&&b.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(a){this.navigator=a}},module$build$src$core$workspace_svg={};module$build$src$core$workspace_svg.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;module$build$src$core$workspace_svg.resizeSvgContents=resizeSvgContents$$module$build$src$core$workspace_svg;var VarBase$$module$build$src$core$events$events_var_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=typeof a===\"undefined\";a&&(this.varId=a.getId(),this.workspaceId=a.getWorkspace().id)}toJson(){const a=super.toJson();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");a.varId=this.varId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarBase$$module$build$src$core$events$events_var_base);\nb.varId=a.varId;return b}},module$build$src$core$events$events_var_base={};module$build$src$core$events$events_var_base.VarBase=VarBase$$module$build$src$core$events$events_var_base;var VarCreate$$module$build$src$core$events$events_var_create=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_CREATE;a&&(this.varType=a.getType(),this.varName=a.getName())}toJson(){const a=super.toJson();if(this.varType===void 0)throw Error(\"The var type is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");\na.varType=this.varType;a.varName=this.varName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarCreate$$module$build$src$core$events$events_var_create);b.varType=a.varType;b.varName=a.varName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");b=b.getVariableMap();\na?b.createVariable(this.varName,this.varType,this.varId):(a=b.getVariableById(this.varId))&&b.deleteVariable(a)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_CREATE,VarCreate$$module$build$src$core$events$events_var_create);var module$build$src$core$events$events_var_create={};module$build$src$core$events$events_var_create.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;var VariableModel$$module$build$src$core$variable_model=class{constructor(a,b,c,d){this.workspace=a;this.name=b;this.type=c||\"\";this.id=d||genUid$$module$build$src$core$utils$idgenerator()}getId(){return this.id}getName(){return this.name}setName(a){this.name=a;return this}getType(){return this.type}setType(a){this.type=a;return this}getWorkspace(){return this.workspace}save(){const a={name:this.getName(),id:this.getId()},b=this.getType();b&&(a.type=b);return a}static load(a,b){a=new this(b,a.name,\na.type,a.id);b.getVariableMap().addVariable(a);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(a))}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,DEFAULT$$module$build$src$core$registry,VariableModel$$module$build$src$core$variable_model);var module$build$src$core$variable_model={};module$build$src$core$variable_model.VariableModel=VariableModel$$module$build$src$core$variable_model;var VarDelete$$module$build$src$core$events$events_var_delete=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_DELETE;a&&(this.varType=a.getType(),this.varName=a.getName())}toJson(){const a=super.toJson();if(this.varType===void 0)throw Error(\"The var type is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");\na.varType=this.varType;a.varName=this.varName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarDelete$$module$build$src$core$events$events_var_delete);b.varType=a.varType;b.varName=a.varName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");b=b.getVariableMap();\na?(a=b.getVariableById(this.varId))&&b.deleteVariable(a):b.createVariable(this.varName,this.varType,this.varId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_DELETE,VarDelete$$module$build$src$core$events$events_var_delete);var module$build$src$core$events$events_var_delete={};module$build$src$core$events$events_var_delete.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;var VarRename$$module$build$src$core$events$events_var_rename=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a,b){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_RENAME;a&&(this.oldName=a.getName(),this.newName=typeof b===\"undefined\"?\"\":b)}toJson(){const a=super.toJson();if(!this.oldName)throw Error(\"The old var name is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.newName)throw Error(\"The new var name is undefined. Either pass a value to the constructor, or call fromJson\");\na.oldName=this.oldName;a.newName=this.newName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarRename$$module$build$src$core$events$events_var_rename);b.oldName=a.oldName;b.newName=a.newName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.oldName)throw Error(\"The old var name is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.newName)throw Error(\"The new var name is undefined. Either pass a value to the constructor, or call fromJson\");\nb=b.getVariableMap();const c=b.getVariableById(this.varId);a?c&&b.renameVariable(c,this.newName):c&&b.renameVariable(c,this.oldName)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_RENAME,VarRename$$module$build$src$core$events$events_var_rename);var module$build$src$core$events$events_var_rename={};module$build$src$core$events$events_var_rename.VarRename=VarRename$$module$build$src$core$events$events_var_rename;var VariableMap$$module$build$src$core$variable_map=class{constructor(a,b=!1){this.workspace=a;this.potentialMap=b;this.variableMap=new Map}clear(){for(const a of this.variableMap.values())for(const b of a.values())this.deleteVariable(b);if(this.variableMap.size!==0)throw Error(\"Non-empty variable map\");}renameVariable(a,b){if(a.getName()===b)return a;var c=a.getType();c=this.getVariable(b,c);const d=this.workspace.getAllBlocks(!1);let e=\"\";this.potentialMap||(e=$.getGroup$$module$build$src$core$events$utils())||\n$.setGroup$$module$build$src$core$events$utils(!0);try{c&&c.getId()!==a.getId()?this.renameVariableWithConflict(a,b,c,d):this.renameVariableAndUses(a,b,d)}finally{this.potentialMap||$.setGroup$$module$build$src$core$events$utils(e)}return a}changeVariableType(a,b){const c=a.getType();if(c===b)return a;var d;(d=this.variableMap.get(a.getType()))==null||d.delete(a.getId());a.setType(b);let e;d=(e=this.variableMap.get(b))!=null?e:new Map;d.set(a.getId(),a);this.variableMap.has(b)||this.variableMap.set(b,\nd);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE))(a,c,b));return a}renameVariableById(a,b){warn$$module$build$src$core$utils$deprecation(\"VariableMap.renameVariableById\",\"v12\",\"v13\",\"VariableMap.renameVariable\");const c=this.getVariableById(a);if(!c)throw Error(\"Tried to rename a variable that didn't exist. ID: \"+a);this.renameVariable(c,b)}renameVariableAndUses(a,b,c){this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_RENAME))(a,\nb));a.setName(b);for(b=0;b<c.length;b++)c[b].updateVarName(a)}renameVariableWithConflict(a,b,c,d){const e=a.getType(),f=c.getName();b!==f&&this.renameVariableAndUses(c,b,d);for(b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_DELETE))(a));let g;(g=this.variableMap.get(e))==null||g.delete(a.getId())}createVariable(a,b,c){var d=this.getVariable(a,\nb);if(d){if(c&&d.getId()!==c)throw Error('Variable \"'+a+'\" is already in use and its id is \"'+d.getId()+'\" which conflicts with the passed in id, \"'+c+'\".');return d}if(c&&this.getVariableById(c))throw Error('Variable id, \"'+c+'\", is already in use.');d=c||genUid$$module$build$src$core$utils$idgenerator();b=b||\"\";c=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,this.workspace.options,!0);if(!c)throw Error(\"No variable model is registered.\");\nd=new c(this.workspace,a,b,d);let e;a=(e=this.variableMap.get(b))!=null?e:new Map;a.set(d.getId(),d);this.variableMap.has(b)||this.variableMap.set(b,a);this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(d));return d}addVariable(a){const b=a.getType();this.variableMap.has(b)||this.variableMap.set(b,new Map);let c;(c=this.variableMap.get(b))==null||c.set(a.getId(),a)}deleteVariable(a){const b=\ngetVariableUsesById$$module$build$src$core$variables(this.workspace,a.getId());let c=\"\";this.potentialMap||(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);try{for(let e=0;e<b.length;e++)b[e].dispose(!0);const d=this.variableMap.get(a.getType());d&&d.has(a.getId())&&(d.delete(a.getId()),this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_DELETE))(a)),\nd.size===0&&this.variableMap.delete(a.getType()))}finally{this.potentialMap||$.setGroup$$module$build$src$core$events$utils(c)}}deleteVariableById(a){warn$$module$build$src$core$utils$deprecation(\"VariableMap.deleteVariableById\",\"v12\",\"v13\",\"Blockly.Variables.deleteVariable\");(a=this.getVariableById(a))&&$.deleteVariable$$module$build$src$core$variables(this.workspace,a)}getVariable(a,b){b=this.variableMap.get(b||\"\");if(!b)return null;let c;return(c=[...b.values()].find(d=>$.Names$$module$build$src$core$names.equals(d.getName(),\na)))!=null?c:null}getVariableById(a){for(const b of this.variableMap.values())if(b.has(a)){let c;return(c=b.get(a))!=null?c:null}return null}getVariablesOfType(a){return(a=this.variableMap.get(a||\"\"))?[...a.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let a=[];for(const b of this.variableMap.values())a=a.concat(...b.values());return a}getAllVariableNames(){warn$$module$build$src$core$utils$deprecation(\"VariableMap.getAllVariableNames\",\"v12\",\"v13\",\"Blockly.Variables.getAllVariables\");\nconst a=[];for(const b of this.variableMap.values())for(const c of b.values())a.push(c.getName());return a}getVariableUsesById(a){warn$$module$build$src$core$utils$deprecation(\"VariableMap.getVariableUsesById\",\"v12\",\"v13\",\"Blockly.Variables.getVariableUsesById\");return getVariableUsesById$$module$build$src$core$variables(this.workspace,a)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MAP,DEFAULT$$module$build$src$core$registry,VariableMap$$module$build$src$core$variable_map);\nvar module$build$src$core$variable_map={};module$build$src$core$variable_map.VariableMap=VariableMap$$module$build$src$core$variable_map;var TrashcanOpen$$module$build$src$core$events$events_trashcan_open=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(b);this.type=EventType$$module$build$src$core$events$type.TRASHCAN_OPEN;this.isOpen=a}toJson(){const a=super.toJson();if(this.isOpen===void 0)throw Error(\"Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson\");a.isOpen=this.isOpen;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?\nc:new TrashcanOpen$$module$build$src$core$events$events_trashcan_open);b.isOpen=a.isOpen;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.TRASHCAN_OPEN,TrashcanOpen$$module$build$src$core$events$events_trashcan_open);var module$build$src$core$events$events_trashcan_open={};module$build$src$core$events$events_trashcan_open.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;var Trashcan$$module$build$src$core$trashcan=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.workspace=a;this.id=\"trashcan\";this.contents=[];this.flyout=null;this.isLidOpen=!1;this.minOpenness=0;this.lidTask=this.svgLid=this.svgGroup=null;this.top=this.left=this.lidOpen=0;this.initialized=!1;this.workspace.options.maxTrashcanContents<=0||(a=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(a.toolboxPosition=this.workspace.toolboxPosition===\nPosition$$module$build$src$core$utils$toolbox.TOP?Position$$module$build$src$core$utils$toolbox.BOTTOM:Position$$module$build$src$core$utils$toolbox.TOP,this.flyout=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(a)):(a.toolboxPosition=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?Position$$module$build$src$core$utils$toolbox.LEFT:Position$$module$build$src$core$utils$toolbox.RIGHT,\nthis.flyout=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(a)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyTrash\"});let a;const b=String(Math.random()).substring(2);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,\n{id:\"blocklyTrashBodyClipPath\"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,height:BODY_HEIGHT$$module$build$src$core$trashcan,y:LID_HEIGHT$$module$build$src$core$trashcan},a);const c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,\ny:-SPRITE_TOP$$module$build$src$core$trashcan,\"clip-path\":\"url(#blocklyTrashBodyClipPath\"+b+\")\"},this.svgGroup);c.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyTrashLidClipPath\"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,\nheight:LID_HEIGHT$$module$build$src$core$trashcan},a);this.svgLid=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,y:-SPRITE_TOP$$module$build$src$core$trashcan,\"clip-path\":\"url(#blocklyTrashLidClipPath\"+b+\")\"},this.svgGroup);this.svgLid.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);bind$$module$build$src$core$browser_events(this.svgGroup,\"pointerdown\",this,this.blockMouseDownWhenOpenable);bind$$module$build$src$core$browser_events(this.svgGroup,\"pointerup\",this,this.click);bind$$module$build$src$core$browser_events(c,\"pointerover\",this,this.mouseOver);bind$$module$build$src$core$browser_events(c,\"pointerout\",this,this.mouseOut);this.animateLid();return this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>\n0){const a=this.flyout.createDom(Svg$$module$build$src$core$utils$svg.SVG);addClass$$module$build$src$core$utils$dom(a,\"blocklyTrashcanFlyout\");insertAfter$$module$build$src$core$utils$dom(a,this.workspace.getParentSvg());this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,\nComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0;this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent(\"trashcan\");this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&\nthis.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var a=this.contents.map(function(c){return JSON.parse(c)}),b=this.workspace.getParentSvg().style;b.cursor=\"wait\";setTimeout(()=>{let c;(c=this.flyout)==null||c.show(a);b.cursor=\"\";let d;(d=this.workspace.scrollbar)==null||d.setVisible(!1)},10);this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var a;(a=this.flyout)==null||a.hide();var b;(b=this.workspace.scrollbar)==null||b.setVisible(!0);this.fireUiEvent(!1);this.workspace.recordDragTargets()}}autoHide(a){!a&&\nthis.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,a);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(WIDTH$$module$build$src$core$trashcan,BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan),\nMARGIN_HORIZONTAL$$module$build$src$core$trashcan,MARGIN_VERTICAL$$module$build$src$core$trashcan,a,this.workspace);b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,MARGIN_VERTICAL$$module$build$src$core$trashcan,c.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:bumpDirection$$module$build$src$core$positionable_helpers.UP,b);this.top=b.top;this.left=b.left;var d;(d=this.svgGroup)==null||d.setAttribute(\"transform\",\n\"translate(\"+this.left+\",\"+this.top+\")\");var e;(e=this.flyout)==null||e.position()}}getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.top,this.top+BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan,this.left,this.left+WIDTH$$module$build$src$core$trashcan)}getClientRect(){if(!this.svgGroup)return null;var a=this.svgGroup.getBoundingClientRect();const b=a.top+SPRITE_TOP$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;\na=a.left+SPRITE_LEFT$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;return new Rect$$module$build$src$core$utils$rect(b,b+LID_HEIGHT$$module$build$src$core$trashcan+BODY_HEIGHT$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan,a,a+WIDTH$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan)}onDragOver(a){this.setLidOpen(this.wouldDelete_)}onDragExit(a){this.setLidOpen(!1)}onDrop(a){setTimeout(this.setLidOpen.bind(this,\n!1),100)}setLidOpen(a){this.isLidOpen!==a&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=a,this.animateLid())}animateLid(){const a=ANIMATION_FRAMES$$module$build$src$core$trashcan;var b=1/(a+1);this.lidOpen+=this.isLidOpen?b:-b;this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1);this.setLidAngle(this.lidOpen*MAX_LID_ANGLE$$module$build$src$core$trashcan);b=OPACITY_MIN$$module$build$src$core$trashcan+this.lidOpen*(OPACITY_MAX$$module$build$src$core$trashcan-OPACITY_MIN$$module$build$src$core$trashcan);\nthis.svgGroup&&(this.svgGroup.style.opacity=`${b}`);this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),ANIMATION_LENGTH$$module$build$src$core$trashcan/a))}setLidAngle(a){const b=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let c;(c=this.svgLid)==null||c.setAttribute(\"transform\",\"rotate(\"+(b?-a:a)+\",\"+(b?4:WIDTH$$module$build$src$core$trashcan-4)+\",\"+(LID_HEIGHT$$module$build$src$core$trashcan-\n2)+\")\")}setMinOpenness(a){this.minOpenness=a;this.isLidOpen||this.setLidAngle(a*MAX_LID_ANGLE$$module$build$src$core$trashcan)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(a){a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.TRASHCAN_OPEN))(a,this.workspace.id);fire$$module$build$src$core$events$utils(a)}blockMouseDownWhenOpenable(a){!this.contentsIsOpen()&&this.hasContents()&&a.stopPropagation()}mouseOver(){this.hasContents()&&\nthis.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(a){if(!(this.workspace.options.maxTrashcanContents<=0||!isBlockDelete$$module$build$src$core$events$predicates(a)||a.wasShadow)){if(!a.oldJson)throw Error(\"Encountered a delete event without proper oldJson\");a=JSON.stringify(this.cleanBlockJson(a.oldJson));if(!this.contents.includes(a)){for(this.contents.unshift(a);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan)}}}cleanBlockJson(a){function b(c){if(c){delete c.id;\ndelete c.x;delete c.y;delete c.enabled;delete c.disabledReasons;if(c.icons&&c.icons.comment){var d=c.icons.comment;delete d.height;delete d.width;delete d.pinned}d=c.inputs;for(var e in d){var f=d[e];const g=f.block;f=f.shadow;g&&b(g);f&&b(f)}c.next&&(e=c.next,c=e.block,e=e.shadow,c&&b(c),e&&b(e))}}a=JSON.parse(JSON.stringify(a));b(a);return Object.assign({},{kind:\"BLOCK\"},a)}},WIDTH$$module$build$src$core$trashcan=47,BODY_HEIGHT$$module$build$src$core$trashcan=44,LID_HEIGHT$$module$build$src$core$trashcan=\n16,MARGIN_VERTICAL$$module$build$src$core$trashcan=20,MARGIN_HORIZONTAL$$module$build$src$core$trashcan=20,MARGIN_HOTSPOT$$module$build$src$core$trashcan=10,SPRITE_LEFT$$module$build$src$core$trashcan=0,SPRITE_TOP$$module$build$src$core$trashcan=32,HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan=.1,ANIMATION_LENGTH$$module$build$src$core$trashcan=80,ANIMATION_FRAMES$$module$build$src$core$trashcan=4,OPACITY_MIN$$module$build$src$core$trashcan=.4,OPACITY_MAX$$module$build$src$core$trashcan=.8,\nMAX_LID_ANGLE$$module$build$src$core$trashcan=45,module$build$src$core$trashcan={};module$build$src$core$trashcan.Trashcan=Trashcan$$module$build$src$core$trashcan;var stashedCopyData$$module$build$src$core$clipboard=null,stashedWorkspace$$module$build$src$core$clipboard=null,stashedCoordinates$$module$build$src$core$clipboard=void 0,module$build$src$core$clipboard={};module$build$src$core$clipboard.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard.copy=copy$$module$build$src$core$clipboard;module$build$src$core$clipboard.getLastCopiedData=getLastCopiedData$$module$build$src$core$clipboard;\nmodule$build$src$core$clipboard.getLastCopiedLocation=getLastCopiedLocation$$module$build$src$core$clipboard;module$build$src$core$clipboard.getLastCopiedWorkspace=getLastCopiedWorkspace$$module$build$src$core$clipboard;module$build$src$core$clipboard.paste=paste$$module$build$src$core$clipboard;module$build$src$core$clipboard.registry=module$build$src$core$clipboard$registry;module$build$src$core$clipboard.setLastCopiedData=setLastCopiedData$$module$build$src$core$clipboard;\nmodule$build$src$core$clipboard.setLastCopiedLocation=setLastCopiedLocation$$module$build$src$core$clipboard;module$build$src$core$clipboard.setLastCopiedWorkspace=setLastCopiedWorkspace$$module$build$src$core$clipboard;var module$build$src$core$comments={};module$build$src$core$comments.CollapseCommentBarButton=CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button;module$build$src$core$comments.CommentBarButton=CommentBarButton$$module$build$src$core$comments$comment_bar_button;module$build$src$core$comments.CommentEditor=CommentEditor$$module$build$src$core$comments$comment_editor;module$build$src$core$comments.CommentView=CommentView$$module$build$src$core$comments$comment_view;\nmodule$build$src$core$comments.DeleteCommentBarButton=DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button;module$build$src$core$comments.RenderedWorkspaceComment=RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment;module$build$src$core$comments.WorkspaceComment=WorkspaceComment$$module$build$src$core$comments$workspace_comment;var module$build$src$core$interfaces$i_copyable={};module$build$src$core$interfaces$i_copyable.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;var names$$module$build$src$core$shortcut_items;(function(a){a.ESCAPE=\"escape\";a.DELETE=\"delete\";a.COPY=\"copy\";a.CUT=\"cut\";a.PASTE=\"paste\";a.UNDO=\"undo\";a.REDO=\"redo\"})(names$$module$build$src$core$shortcut_items||(names$$module$build$src$core$shortcut_items={}));registerDefaultShortcuts$$module$build$src$core$shortcut_items();var module$build$src$core$shortcut_items={};module$build$src$core$shortcut_items.names=names$$module$build$src$core$shortcut_items;\nmodule$build$src$core$shortcut_items.registerCopy=registerCopy$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerCut=registerCut$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDefaultShortcuts=registerDefaultShortcuts$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDelete=registerDelete$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerEscape=registerEscape$$module$build$src$core$shortcut_items;\nmodule$build$src$core$shortcut_items.registerPaste=registerPaste$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerRedo=registerRedo$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerUndo=registerUndo$$module$build$src$core$shortcut_items;var ProcedureSerializer$$module$build$src$core$serialization$procedures=class{constructor(a,b){this.procedureModelClass=a;this.parameterModelClass=b;this.priority=PROCEDURES$$module$build$src$core$serialization$priorities}save(a){a=a.getProcedureMap().getProcedures().map(b=>saveProcedure$$module$build$src$core$serialization$procedures(b));return a.length?a:null}load(a,b){const c=b.getProcedureMap();for(const d of a)c.add(loadProcedure$$module$build$src$core$serialization$procedures(this.procedureModelClass,\nthis.parameterModelClass,d,b))}clear(a){a.getProcedureMap().clear()}},module$build$src$core$serialization$procedures={};module$build$src$core$serialization$procedures.ProcedureSerializer=ProcedureSerializer$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.loadProcedure=loadProcedure$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.saveProcedure=saveProcedure$$module$build$src$core$serialization$procedures;var VariableSerializer$$module$build$src$core$serialization$variables=class{constructor(){this.priority=VARIABLES$$module$build$src$core$serialization$priorities}save(a){a=a.getAllVariables().map(b=>b.save());return a.length?a:null}load(a,b){const c=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,DEFAULT$$module$build$src$core$registry);a.forEach(d=>{c==null||c.load(d,b)})}clear(a){a.getVariableMap().clear()}};\nregister$$module$build$src$core$serialization$registry(\"variables\",new VariableSerializer$$module$build$src$core$serialization$variables);var module$build$src$core$serialization$variables={};module$build$src$core$serialization$variables.VariableSerializer=VariableSerializer$$module$build$src$core$serialization$variables;var module$build$src$core$serialization$workspaces={};module$build$src$core$serialization$workspaces.load=load$$module$build$src$core$serialization$workspaces;module$build$src$core$serialization$workspaces.save=save$$module$build$src$core$serialization$workspaces;var module$build$src$core$serialization={blocks:module$build$src$core$serialization$blocks,exceptions:module$build$src$core$serialization$exceptions,priorities:module$build$src$core$serialization$priorities,procedures:module$build$src$core$serialization$procedures,registry:module$build$src$core$serialization$registry,variables:module$build$src$core$serialization$variables,workspaceComments:module$build$src$core$serialization$workspace_comments,workspaces:module$build$src$core$serialization$workspaces};\"Blockly\"in globalThis||(globalThis.Blockly={Msg:module$build$src$core$msg});var module$build$src$core$main={};var LABEL_TYPE$$module$build$src$core$label_flyout_inflater=\"label\",LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater=class{load(a,b){a=new FlyoutButton$$module$build$src$core$flyout_button(b.getWorkspace(),b.targetWorkspace,a,!0);a.show();return new FlyoutItem$$module$build$src$core$flyout_item(a,LABEL_TYPE$$module$build$src$core$label_flyout_inflater)}gapForItem(a,b){return b}disposeItem(a){a=a.getElement();a instanceof FlyoutButton$$module$build$src$core$flyout_button&&a.dispose()}getType(){return LABEL_TYPE$$module$build$src$core$label_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,LABEL_TYPE$$module$build$src$core$label_flyout_inflater,LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater);var module$build$src$core$label_flyout_inflater={};module$build$src$core$label_flyout_inflater.LabelFlyoutInflater=LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater;var ConstantProvider$$module$build$src$core$renderers$zelos$constants=class extends ConstantProvider$$module$build$src$core$renderers$common$constants{constructor(a){super();this.GRID_UNIT=4;this.CURSOR_COLOUR=\"#ffa200\";this.CURSOR_RADIUS=5;this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0;this.START_HAT_HEIGHT=22;this.START_HAT_WIDTH=96;this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5};this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},\n2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}};this.FULL_BLOCK_FIELDS=!0;this.FIELD_TEXT_FONTWEIGHT=\"bold\";this.FIELD_TEXT_FONTFAMILY='\"Helvetica Neue\", \"Segoe UI\", Helvetica, sans-serif';this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0;this.SELECTED_GLOW_COLOUR=\"#fff200\";\nthis.SELECTED_GLOW_SIZE=.5;this.REPLACEMENT_GLOW_COLOUR=\"#fff200\";this.REPLACEMENT_GLOW_SIZE=2;this.selectedGlowFilterId=\"\";this.selectedGlowFilter=null;this.replacementGlowFilterId=\"\";this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null;a&&(this.GRID_UNIT=a);this.SMALL_PADDING=this.GRID_UNIT;this.MEDIUM_PADDING=2*this.GRID_UNIT;this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT;this.LARGE_PADDING=4*this.GRID_UNIT;this.CORNER_RADIUS=1*this.GRID_UNIT;this.NOTCH_WIDTH=9*this.GRID_UNIT;this.NOTCH_HEIGHT=\n2*this.GRID_UNIT;this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT;this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT;this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT;this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT;this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT;this.STATEMENT_INPUT_SPACER_MIN_WIDTH=\n40*this.GRID_UNIT;this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT;this.CURSOR_WS_WIDTH=20*this.GRID_UNIT;this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT;this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS;this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT;this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT;this.FIELD_BORDER_RECT_HEIGHT=\n8*this.GRID_UNIT;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT;this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT;this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT;this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT;this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(a){super.setFontConstants_(a);this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*\n2}init(){super.init();this.HEXAGONAL=this.makeHexagonal();this.ROUNDED=this.makeRounded();this.SQUARED=this.makeSquared();this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(a){super.setDynamicProperties_(a);this.SELECTED_GLOW_COLOUR=a.getComponentStyle(\"selectedGlowColour\")||this.SELECTED_GLOW_COLOUR;const b=Number(a.getComponentStyle(\"selectedGlowSize\"));this.SELECTED_GLOW_SIZE=b&&!isNaN(b)?b:this.SELECTED_GLOW_SIZE;this.REPLACEMENT_GLOW_COLOUR=\na.getComponentStyle(\"replacementGlowColour\")||this.REPLACEMENT_GLOW_COLOUR;this.REPLACEMENT_GLOW_SIZE=(a=Number(a.getComponentStyle(\"replacementGlowSize\")))&&!isNaN(a)?a:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose();this.selectedGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.selectedGlowFilter);this.replacementGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.replacementGlowFilter)}makeStartHat(){const a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(25,-a),point$$module$build$src$core$utils$svg_paths(71,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a*.75,width:b,path:c}}makeHexagonal(){function a(c,d,e){var f=c/2;f=f>b?b:f;e=e?-1:1;c=(d?-1:1)*c/2;return lineTo$$module$build$src$core$utils$svg_paths(-e*f,c)+lineTo$$module$build$src$core$utils$svg_paths(e*f,c)}const b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(c){c/=2;return c>\nb?b:c},height(c){return c},connectionOffsetY(c){return c/2},connectionOffsetX(c){return-c},pathDown(c){return a(c,!1,!1)},pathUp(c){return a(c,!0,!1)},pathRightDown(c){return a(c,!1,!0)},pathRightUp(c){return a(c,!1,!0)}}}makeRounded(){function a(d,e,f){const g=d>c?d-c:0;d=(d>c?c:d)/2;const h=f===e?\"0\":\"1\";return arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+h,d,point$$module$build$src$core$utils$svg_paths((f?1:-1)*d,(e?-1:1)*d))+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",(e?-1:\n1)*g)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+h,d,point$$module$build$src$core$utils$svg_paths((f?-1:1)*d,(e?-1:1)*d))}const b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=b*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){d/=2;return d>b?b:d},height(d){return d},connectionOffsetY(d){return d/2},connectionOffsetX(d){return-d},pathDown(d){return a(d,!1,!1)},pathUp(d){return a(d,!0,!1)},pathRightDown(d){return a(d,!1,!0)},pathRightUp(d){return a(d,!1,!0)}}}makeSquared(){function a(c,\nd,e){c-=b*2;const f=e===d?\"0\":\"1\";return arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+f,b,point$$module$build$src$core$utils$svg_paths((e?1:-1)*b,(d?-1:1)*b))+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",(d?-1:1)*c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+f,b,point$$module$build$src$core$utils$svg_paths((e?-1:1)*b,(d?-1:1)*b))}const b=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(c){return b},height(c){return c},connectionOffsetY(c){return c/\n2},connectionOffsetX(c){return-c},pathDown(c){return a(c,!1,!1)},pathUp(c){return a(c,!0,!1)},pathRightDown(c){return a(c,!1,!0)},pathRightUp(c){return a(c,!1,!0)}}}shapeFor(a){let b=a.getCheck();!b&&a.targetConnection&&(b=a.targetConnection.getCheck());switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:a=a.getSourceBlock().getOutputShape();if(a!==null)switch(a){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;\ncase this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}if(b&&b.includes(\"Boolean\"))return this.HEXAGONAL;if(b&&b.includes(\"Number\"))return this.ROUNDED;b&&b.includes(\"String\");return this.ROUNDED;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error(\"Unknown type\");}}makeNotch(){function a(l){return curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e,g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,f)])+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e/2,g),point$$module$build$src$core$utils$svg_paths(l*e,g)])+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\nl*d)+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e,-g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,-f)])+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e/2,-g),point$$module$build$src$core$utils$svg_paths(l*\ne,-g)])}const b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=b/3,e=d/3,f=c/2,g=f/2,h=a(1),k=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:h,pathRight:k}}makeInsideCorners(){const a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),d=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(a,\na)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,a));return{width:a,height:a,pathTop:b,pathBottom:d,rightWidth:a,rightHeight:a,pathTopRight:c,pathBottomRight:e}}generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#000\",a,.15)||a}generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#000\",a,.25)||a}createDom(a,b,c,d){super.createDom(a,b,c,d);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,\n{},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklySelectedGlowFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceGraphic\",stdDeviation:this.SELECTED_GLOW_SIZE},b);c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:\"outBlur\"},b);\ncreateSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},c);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":this.SELECTED_GLOW_COLOUR,\"flood-opacity\":1,result:\"outColor\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",result:\"outGlow\"},b);\nthis.selectedGlowFilterId=b.id;this.selectedGlowFilter=b;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklyReplacementGlowFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceGraphic\",stdDeviation:this.REPLACEMENT_GLOW_SIZE},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,\n{result:\"outBlur\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":this.REPLACEMENT_GLOW_COLOUR,\"flood-opacity\":1,result:\"outColor\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",\nresult:\"outGlow\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"SourceGraphic\",in2:\"outGlow\",operator:\"over\"},a);this.replacementGlowFilterId=a.id;this.replacementGlowFilter=a;d&&(d.style.setProperty(\"--blocklySelectedGlowFilter\",`url(#${this.selectedGlowFilterId})`),d.style.setProperty(\"--blocklyReplacementGlowFilter\",`url(#${this.replacementGlowFilterId})`))}getCSS_(a){return[`${a} .blocklyText,`,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}`+\n`pt ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a} .blocklyTextInputBubble textarea {`,\"font-weight: normal;\",\"}\",`${a} .blocklyText {`,\"fill: #fff;\",\"}\",`${a} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${a} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,\"}\",`${a} .blocklyNonEditableField>text,`,`${a} .blocklyEditableField>text,`,`${a} .blocklyNonEditableField>g>text,`,`${a} .blocklyEditableField>g>text {`,\"fill: #575E75;\",\"}\",`${a} .blocklyFlyoutLabelText {`,\n\"fill: #575E75;\",\"}\",`${a} .blocklyText.blocklyBubbleText {`,\"fill: #575E75;\",\"}\",`${a} .blocklyDraggable:not(.blocklyDisabled)`,\" .blocklyEditableField:not(.blocklyEditing):hover>rect,\",`${a} .blocklyDraggable:not(.blocklyDisabled)`,\" .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {\",\"stroke: #fff;\",\"stroke-width: 2;\",\"}\",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,\"color: #575E75;\",\"}\",`${a} .blocklyDropdownText {`,\n\"fill: #fff !important;\",\"}\",`${a}.blocklyWidgetDiv .blocklyMenuItem,`,`${a}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a}.blocklyDropDownDiv .blocklyMenuItemContent {`,\"color: #fff;\",\"}\",`${a} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,\"}\",`${a} .blocklyDisabledPattern > .blocklyOutlinePath {`,\"fill: var(--blocklyDisabledPattern)\",\"}\",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\n\"stroke: none;\",\"}\",`${a} .blocklySelected>.blocklyPath.blocklyPathSelected {`,\"fill: none;\",\"filter: var(--blocklySelectedGlowFilter);\",\"}\",`${a} .blocklyReplaceable>.blocklyPath {`,\"filter: var(--blocklyReplacementGlowFilter);\",\"}\"]}},module$build$src$core$renderers$zelos$constants={};module$build$src$core$renderers$zelos$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;var Drawer$$module$build$src$core$renderers$zelos$drawer=class extends Drawer$$module$build$src$core$renderers$common$drawer{constructor(a,b){super(a,b)}draw(){const a=this.block_.pathObject;a.beginDrawing();this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();a.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_();this.info_.outputConnection&&(a.outputShapeType=this.info_.outputConnection.shape.type);a.endDrawing()}drawOutline_(){this.info_.outputConnection&&\nthis.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(a){if(!(a.height<=0)){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(a)){const d=\na.precedesStatement;var b=a.followsStatement;if(d||b){const e=this.constants_.INSIDE_CORNERS;var c=e.rightHeight;c=a.height-(d?c:0);b=b?e.pathBottomRight:\"\";a=c>0?lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+c):\"\";this.outlinePath_+=b+a+(d?e.pathTopRight:\"\");return}}this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+a.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error(\"Cannot draw the output connection of a block that doesn't have one\");\nthis.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error(\"Cannot draw the output connection of a block that doesn't have one\");this.positionOutputConnection_();this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);this.outlinePath_+=\"z\"}drawFlatTop_(){const a=this.info_.topRow;this.positionPreviousConnection_();this.outlinePath_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,\nthis.info_.startY);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",a.width)}drawFlatBottom_(){const a=this.info_.bottomRow;this.positionNextConnection_();this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-a.width)}drawInlineInput_(a){this.positionInlineInputConnection_(a);const b=a.input.name;a.connectedBlock||this.info_.isInsertionMarker||(a=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+\na.connectionWidth,a.centerline-a.height/2)+this.getInlineInputPath(a),this.block_.pathObject.setOutlinePath(b,a))}getInlineInputPath(a){const b=a.width-a.connectionWidth*2,c=a.height;return lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)+a.shape.pathRightDown(c)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-b)+a.shape.pathUp(c)+\"z\"}drawStatementInput_(a){var b=a.getLastInput();const c=b.xPos+b.notchOffset+b.shape.width,d=this.constants_.INSIDE_CORNERS,e=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\n-(b.notchOffset-d.width))+d.pathTop,f=a.height-2*d.height;b=d.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b.notchOffset-d.width)+(b.connectedBottomNextConnection?\"\":b.shape.pathLeft);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c)+e+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",f)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width);this.positionStatementInputConnection_(a)}drawConnectionHighlightPath(a){const b=a.connectionModel;\nif(b.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&!a.isDynamicShape)return super.drawConnectionHighlightPath(a);a=b.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE?moveTo$$module$build$src$core$utils$svg_paths(a.connectionWidth,-a.height/2)+this.getInlineInputPath(a):moveTo$$module$build$src$core$utils$svg_paths(a.width,\n-a.height/2)+a.shape.pathDown(a.height);const c=b.getSourceBlock();let d,e;return(e=(d=c.pathObject).addConnectionHighlight)==null?void 0:e.call(d,b,a,b.getOffsetInBlock(),c.RTL)}},module$build$src$core$renderers$zelos$drawer={};module$build$src$core$renderers$zelos$drawer.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;var FieldImage$$module$build$src$core$field_image=class extends Field$$module$build$src$core$field{constructor(a,b,c,d,e,f,g){super(Field$$module$build$src$core$field.SKIP_SETUP);this.imageElement=this.clickHandler=null;this.flipRtl=this.isDirty_=this.EDITABLE=!1;this.altText=\"\";c=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(c));b=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(b));if(isNaN(c)||isNaN(b))throw Error(\"Height and width values of an image field must cast to numbers.\");\nif(c<=0||b<=0)throw Error(\"Height and width values of an image field must be greater than 0.\");this.size_=new Size$$module$build$src$core$utils$size(b,c+FieldImage$$module$build$src$core$field_image.Y_PADDING);this.imageHeight=c;typeof e===\"function\"&&(this.clickHandler=e);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(g?this.configure_(g):(this.flipRtl=!!f,this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(d)||\"\"),this.setValue(replaceMessageReferences$$module$build$src$core$utils$parsing(a)))}configure_(a){super.configure_(a);\na.flipRtl&&(this.flipRtl=a.flipRtl);a.alt&&(this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(a.alt))}initView(){this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.imageHeight+\"px\",width:this.size_.width+\"px\",alt:this.altText},this.fieldGroup_);this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.value_);this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\n\"blocklyImageField\");this.clickHandler&&(this.imageElement.style.cursor=\"pointer\")}updateSize_(){}doClassValidation_(a){return typeof a!==\"string\"?null:a}doValueUpdate_(a){this.value_=a;this.imageElement&&this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(a){a!==this.altText&&(this.altText=a||\"\",this.imageElement&&this.imageElement.setAttribute(\"alt\",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&\nthis.clickHandler(this)}setOnClickHandler(a){this.clickHandler=a}getText_(){return this.altText}static fromJson(a){if(!a.src||!a.width||!a.height)throw Error(\"src, width, and height values for an image field arerequired. The width and height must be non-zero.\");return new this(a.src,a.width,a.height,void 0,void 0,void 0,a)}};FieldImage$$module$build$src$core$field_image.Y_PADDING=1;register$$module$build$src$core$field_registry(\"field_image\",FieldImage$$module$build$src$core$field_image);\nFieldImage$$module$build$src$core$field_image.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_image={};module$build$src$core$field_image.FieldImage=FieldImage$$module$build$src$core$field_image;var MINIMUM_WIDTH$$module$build$src$core$field_input=14,FieldInput$$module$build$src$core$field_input=class extends Field$$module$build$src$core$field{set size_(a){super.size_=a}get size_(){const a=super.size_;a.width<MINIMUM_WIDTH$$module$build$src$core$field_input&&(a.width=MINIMUM_WIDTH$$module$build$src$core$field_input);return a}constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.spellcheck_=!0;this.htmlInput_=null;this.isTextValid_=this.isBeingEdited_=!1;this.onInputWrapper=\nthis.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null;this.fullBlockClickTarget_=!1;this.workspace_=null;this.SERIALIZABLE=!0;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){super.configure_(a);a.spellcheck!==void 0&&(this.spellcheck_=a.spellcheck)}initView(){if(!this.getSourceBlock())throw new UnattachedFieldError$$module$build$src$core$field;super.initView();this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot());\nthis.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyInputField\")}isFullBlockField(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;let b;return this.fullBlockClickTarget_=!((b=this.getConstants())==null||!b.FULL_BLOCK_FIELDS)&&a.isSimpleReporter()}doValueInvalid_(a,b=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,a=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&\nthis.value_!==a&&b&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock_,\"field\",this.name||null,a,this.value_)))}doValueUpdate_(a){this.isTextValid_=this.isDirty_=!0;this.value_=a}applyColour(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?\n(this.borderRect_.style.display=\"block\",this.borderRect_.setAttribute(\"stroke\",a.getColourTertiary())):(this.borderRect_.style.display=\"none\",a.pathObject.svgPath.setAttribute(\"fill\",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let a;if((a=this.getConstants())==null?0:a.FULL_BLOCK_FIELDS)this.render_(),this.isDirty_=!1;return super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){super.render_();if(this.isBeingEdited_){var a=this.htmlInput_;this.isTextValid_?\n(removeClass$$module$build$src$core$utils$dom(a,\"blocklyInvalidInput\"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!1)):(addClass$$module$build$src$core$utils$dom(a,\"blocklyInvalidInput\"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!0))}a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.getConstants().FULL_BLOCK_FIELDS&&a.applyColour()}setSpellcheck(a){a!==\nthis.spellcheck_&&(this.spellcheck_=a,this.htmlInput_&&this.htmlInput_.setAttribute(\"spellcheck\",this.spellcheck_))}showEditor_(a,b=!1,c=!0){this.workspace_=this.sourceBlock_.workspace;!b&&this.workspace_.options.modalInputs&&(MOBILE$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent||IPAD$$module$build$src$core$utils$useragent)?this.showPromptEditor():this.showInlineEditor(b,c)}showPromptEditor(){prompt$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,\nthis.getText(),a=>{a!==null&&this.setValue(this.getValueFromEditorText_(a));this.onFinishEditing_(this.value_)})}showInlineEditor(a,b){const c=this.getSourceBlock();if(!c)throw new UnattachedFieldError$$module$build$src$core$field;show$$module$build$src$core$widgetdiv(this,c.RTL,this.widgetDispose_.bind(this),this.workspace_,b);this.htmlInput_=this.widgetCreate_();this.isBeingEdited_=!0;this.valueWhenEditorWasOpened_=this.value_;a||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var a=\nthis.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;$.setGroup$$module$build$src$core$events$utils(!0);const b=getDiv$$module$build$src$core$widgetdiv();var c=this.getClickTarget_();if(!c)throw Error(\"A click target has not been set.\");addClass$$module$build$src$core$utils$dom(c,\"blocklyEditing\");c=document.createElement(\"input\");c.className=\"blocklyHtmlInput\";c.setAttribute(\"spellcheck\",this.spellcheck_);const d=this.workspace_.getAbsoluteScale();var e=this.getConstants().FIELD_TEXT_FONTSIZE*\nd+\"pt\";b.style.fontSize=e;c.style.fontSize=e;e=FieldInput$$module$build$src$core$field_input.BORDERRADIUS*d+\"px\";this.isFullBlockField()&&(e=this.getScaledBBox(),e=(e.bottom-e.top)/2+\"px\",a=a.getParent()?a.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),c.style.border=1*d+\"px solid \"+a,b.style.borderRadius=e,b.style.transition=\"box-shadow 0.25s ease 0s\",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(b.style.boxShadow=\"rgba(255, 255, 255, 0.3) 0 0 0 \"+4*d+\"px\"));c.style.borderRadius=\ne;b.appendChild(c);c.value=c.defaultValue=this.getEditorText_(this.value_);c.setAttribute(\"data-untyped-default-value\",String(this.value_));this.resizeEditor_();this.bindInputEvents_(c);return c}widgetDispose_(){this.isBeingEdited_=!1;this.isTextValid_=!0;this.forceRerender();this.onFinishEditing_(this.value_);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock_,\n\"field\",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null);$.setGroup$$module$build$src$core$events$utils(!1);this.unbindInputEvents_();var a=getDiv$$module$build$src$core$widgetdiv().style;a.width=\"auto\";a.height=\"auto\";a.fontSize=\"\";a.transition=\"\";a.boxShadow=\"\";this.htmlInput_=null;a=this.getClickTarget_();if(!a)throw Error(\"A click target has not been set.\");removeClass$$module$build$src$core$utils$dom(a,\"blocklyEditing\")}onFinishEditing_(a){}bindInputEvents_(a){this.onKeyDownWrapper=\nconditionalBind$$module$build$src$core$browser_events(a,\"keydown\",this,this.onHtmlInputKeyDown_);this.onInputWrapper=conditionalBind$$module$build$src$core$browser_events(a,\"input\",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(unbind$$module$build$src$core$browser_events(this.onKeyDownWrapper),this.onKeyDownWrapper=null);this.onInputWrapper&&(unbind$$module$build$src$core$browser_events(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(a){if(a.key===\"Enter\")hideIfOwner$$module$build$src$core$widgetdiv(this),\nhideWithoutAnimation$$module$build$src$core$dropdowndiv();else if(a.key===\"Escape\")this.setValue(this.htmlInput_.getAttribute(\"data-untyped-default-value\"),!1),hideIfOwner$$module$build$src$core$widgetdiv(this),hideWithoutAnimation$$module$build$src$core$dropdowndiv();else if(a.key===\"Tab\"){a.preventDefault();var b,c=(b=this.workspace_)==null?void 0:b.getCursor();b=d=>(d instanceof FieldInput$$module$build$src$core$field_input||d instanceof BlockSvg$$module$build$src$core$block_svg&&d.isSimpleReporter())&&\nd!==this.getSourceBlock();a=a.shiftKey?c==null?void 0:c.getPreviousNode(this,b,!1):c==null?void 0:c.getNextNode(this,b,!1);a=a instanceof BlockSvg$$module$build$src$core$block_svg&&a.isSimpleReporter()?a.getFields().next().value:a;a instanceof FieldInput$$module$build$src$core$field_input&&(hideIfOwner$$module$build$src$core$widgetdiv(this),hideWithoutAnimation$$module$build$src$core$dropdowndiv(),c=a.getSourceBlock(),a.isFullBlockField()&&c&&c instanceof BlockSvg$$module$build$src$core$block_svg?\n$.getFocusManager$$module$build$src$core$focus_manager().focusNode(c):$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a),a.showEditor())}}onHtmlInputChange(a){a=this.value_;this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.value_!==a&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,\nthis.name||null,a,this.value_))}setEditorValue_(a,b=!0){this.isDirty_=!0;this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(a));this.setValue(a,b)}resizeEditor_(){finishQueuedRenders$$module$build$src$core$render_management().then(()=>{const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;const b=getDiv$$module$build$src$core$widgetdiv(),c=this.getScaledBBox();b.style.width=c.right-c.left+\"px\";b.style.height=c.bottom-c.top+\"px\";const d=c.top;\nb.style.left=`${a.RTL?c.right-b.offsetWidth:c.left}px`;b.style.top=`${d}px`})}repositionForWindowResize(){let a;const b=(a=this.getSourceBlock())==null?void 0:a.getRootBlock();if(!(b instanceof BlockSvg$$module$build$src$core$block_svg))return!1;bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),b)||this.resizeEditor_();return!0}positionTextElement_(a,b){const c=a*2+b;super.positionTextElement_(a+(c<MINIMUM_WIDTH$$module$build$src$core$field_input?\n(MINIMUM_WIDTH$$module$build$src$core$field_input-c)/2:0),b)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(a){return`${a}`}getValueFromEditorText_(a){return a}};FieldInput$$module$build$src$core$field_input.BORDERRADIUS=4;var module$build$src$core$field_input={};module$build$src$core$field_input.FieldInput=FieldInput$$module$build$src$core$field_input;$.FieldTextInput$$module$build$src$core$field_textinput=class extends FieldInput$$module$build$src$core$field_input{constructor(a,b,c){super(a,b,c)}initView(){super.initView();this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyTextInputField\")}doClassValidation_(a){return a===void 0?null:`${a}`}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};\nregister$$module$build$src$core$field_registry(\"field_input\",$.FieldTextInput$$module$build$src$core$field_textinput);$.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_textinput={};module$build$src$core$field_textinput.FieldTextInput=$.FieldTextInput$$module$build$src$core$field_textinput;var BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row=class extends BottomRow$$module$build$src$core$renderers$measurables$bottom_row{constructor(a){super(a)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(a){return!!a.outputConnection}hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection}},module$build$src$core$renderers$zelos$measurables$bottom_row={};module$build$src$core$renderers$zelos$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;var StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs=class extends StatementInput$$module$build$src$core$renderers$measurables$statement_input{constructor(a,b){super(a,b);this.connectedBottomNextConnection=!1;if(this.connectedBlock){for(a=this.connectedBlock;b=a.getNextBlock();)a=b;a.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},module$build$src$core$renderers$zelos$measurables$inputs={};\nmodule$build$src$core$renderers$zelos$measurables$inputs.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;var RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.width=this.height=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.getType(\"RIGHT_CONNECTION\")}},module$build$src$core$renderers$zelos$measurables$row_elements={};module$build$src$core$renderers$zelos$measurables$row_elements.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;var TopRow$$module$build$src$core$renderers$zelos$measurables$top_row=class extends TopRow$$module$build$src$core$renderers$measurables$top_row{constructor(a){super(a)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(a){const b=(a.hat?a.hat===\"cap\":this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection;return!!a.outputConnection||b}hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection}},module$build$src$core$renderers$zelos$measurables$top_row=\n{};module$build$src$core$renderers$zelos$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;var RenderInfo$$module$build$src$core$renderers$zelos$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b);this.isInline=!0;this.renderer_=a;this.constants_=this.renderer_.getConstants();this.topRow=new TopRow$$module$build$src$core$renderers$zelos$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row(this.constants_);this.isMultiRow=!b.getInputsInline()||b.isCollapsed();this.hasStatementInput=\nb.statementInputCount>0;this.rightSide=this.outputConnection?new RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements(this.constants_):null;this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.adjustXPosition_();this.computeBounds_();this.alignRowElements_();this.finalize_()}shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||\na instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(a){return a.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||\n0):super.getDesiredRowWidth_(a)}getInRowSpacing_(a,b){return a&&b||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?\nb.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isHat(b)||a&&Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;\nconst c=Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement,d=Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement;return d||c?(a=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&c?Math.max(a,this.constants_.DUMMY_INPUT_MIN_HEIGHT):a):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?a.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:\nMath.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.outputConnection?!b.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(a,b){const c=this.width-\nthis.startX;return Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement||Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement?Math.max(c,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):c}getElemCenterline_(a,b){if(a.hasStatement&&!Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)&&!Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return a.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/\n2;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)){const c=b.connectedBlock;if(c&&c.outputConnection&&c.nextConnection)return a.yPos+c.height/2}return super.getElemCenterline_(a,b)}addInput_(a,b){if((a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)&&b.hasDummyInput&&b.align===$.Align$$module$build$src$core$inputs$align.LEFT&&a.align===$.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(b,\na);else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input){b.elements.push(new StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs(this.constants_,a));b.hasStatement=!0;b.align===null&&(b.align=a.align);return}super.addInput_(a,b)}addAlignmentPadding_(a,b){if(this.rightAlignedDummyInputs.get(a)){let c;for(let d=0;d<a.elements.length;d++){const e=a.elements[d];Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)&&(c=e);if(Types$$module$build$src$core$renderers$measurables$types.isField(e)&&\ne.parentInput===this.rightAlignedDummyInputs.get(a))break}if(c){c.width+=b;a.width+=b;return}}super.addAlignmentPadding_(a,b)}adjustXPosition_(){const a=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let b=a;for(let e=2;e<this.rows.length-1;e+=2){var c=this.rows[e-1];const f=this.rows[e];var d=this.rows[e+1];c=e===2?!!this.topRow.hasPreviousConnection:!!c.followsStatement;d=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement;if(Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&\nf.hasStatement){f.measure();let g,h;b=f.width-((h=(g=f.getLastInput())==null?void 0:g.width)!=null?h:0)+a}else if(c&&(e===2||d)&&Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&!f.hasStatement){d=f.xPos;c=null;for(let g=0;g<f.elements.length;g++){const h=f.elements[g];Types$$module$build$src$core$renderers$measurables$types.isSpacer(h)&&(c=h);!(c&&(Types$$module$build$src$core$renderers$measurables$types.isField(h)||Types$$module$build$src$core$renderers$measurables$types.isInput(h))&&\nd<b)||Types$$module$build$src$core$renderers$measurables$types.isField(h)&&(h.field instanceof FieldLabel$$module$build$src$core$field_label||h.field instanceof FieldImage$$module$build$src$core$field_image)||(c.width+=b-d);d+=h.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var a=this.outputConnection.shape;if(\"isDynamic\"in a&&a.isDynamic){var b=0;for(var c=0;c<this.rows.length;c++){const d=this.rows[c];d.yPos=b;b+=d.height}this.height=b;c=this.bottomRow.hasNextConnection?\nthis.height-this.bottomRow.descenderHeight:this.height;b=a.height(c);c=a.width(c);this.outputConnection.height=b;this.outputConnection.width=c;this.outputConnection.startX=c;this.outputConnection.connectionOffsetY=a.connectionOffsetY(b);this.outputConnection.connectionOffsetX=a.connectionOffsetX(c);a=0;this.hasStatementInput||this.bottomRow.hasNextConnection||(a=c,this.rightSide.height=b,this.rightSide.width=a,this.rightSide.centerline=b/2,this.rightSide.xPos=this.width+a);this.startX=c;this.width+=\nc+a;this.widthWithChildren+=c+a}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){var a=0;for(var b=0;b<this.rows.length;b++){var c=this.rows[b];if(!Types$$module$build$src$core$renderers$measurables$types.isInputRow(c))continue;a=c.elements[c.elements.length-2];let d=this.getNegativeSpacing_(c.elements[1]),e=this.getNegativeSpacing_(a);a=d+e;const f=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-a<f&&(a=\nthis.width-f,d=a/2,e=a/2);c.elements.unshift(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-d));c.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-e))}if(a)for(this.width-=a,this.widthWithChildren-=a,this.rightSide.xPos-=a,b=0;b<this.rows.length;b++)c=this.rows[b],Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.elements[1].width-=a),c.width-=a,c.widthWithConnectedBlocks-=\na}}getNegativeSpacing_(a){if(!a||!this.outputConnection)return 0;const b=this.outputConnection.width;var c=this.outputConnection.shape.type;const d=this.constants_;if(this.inputRows.length>1)switch(c){case d.SHAPES.ROUND:return c=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=this.height/2>c?c:this.height/2,b-c*(1-Math.sin(Math.acos((c-this.constants_.SMALL_PADDING)/c)));default:return 0}if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)){const e=a.connectedBlock;a=\ne?e.pathObject.outputShapeType:a.shape.type;return a==null||e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||c===d.SHAPES.HEXAGONAL&&c!==a?0:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][a]}return Types$$module$build$src$core$renderers$measurables$types.isField(a)?c===d.SHAPES.ROUND&&a.field instanceof $.FieldTextInput$$module$build$src$core$field_textinput?b-2.75*d.GRID_UNIT:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][0]:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?\nthis.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let d=2;d<this.rows.length-1;d+=2){const e=this.rows[d-1],f=this.rows[d],g=this.rows[d+1];var a=d===2,b=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!g.precedesStatement;if(a?this.topRow.hasPreviousConnection:e.followsStatement){var c=f.elements[1];c=f.elements.length===3&&c instanceof Field$$module$build$src$core$renderers$measurables$field&&(c.field instanceof FieldLabel$$module$build$src$core$field_label||\nc.field instanceof FieldImage$$module$build$src$core$field_image);if(!a&&c)e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.MEDIUM_PADDING;else if(!a&&!b)e.height+=this.constants_.SMALL_PADDING;else if(b){a=!1;for(b=0;b<f.elements.length;b++)if(c=f.elements[b],Types$$module$build$src$core$renderers$measurables$types.isInlineInput(c)&&c.connectedBlock&&!c.connectedBlock.isShadow()&&c.connectedBlock.getHeightWidth().height>=40){a=!0;break}a&&\n(e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_();this.finalizeHorizontalAlignment_();this.finalizeVerticalAlignment_();super.finalize_();this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},module$build$src$core$renderers$zelos$info={};module$build$src$core$renderers$zelos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;var PathObject$$module$build$src$core$renderers$zelos$path_object=class extends PathObject$$module$build$src$core$renderers$common$path_object{constructor(a,b,c){super(a,b,c);this.svgPathSelected=null;this.outlines=new Map;this.remainingOutlines=new Set;this.outputShapeType=null;this.constants=c}setPath(a){super.setPath(a);this.svgPathSelected&&this.svgPathSelected.setAttribute(\"d\",a)}applyColour(a){super.applyColour(a);const b=a.getParent();a.isShadow()&&b&&this.svgPath.setAttribute(\"stroke\",b.getColourTertiary());\nfor(const c of this.outlines.values())c.setAttribute(\"fill\",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const a of this.outlines.values())a.setAttribute(\"transform\",\"scale(-1 1)\")}updateSelected(a){this.setClass_(\"blocklySelected\",a);a?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add(\"blocklyPathSelected\"),removeClass$$module$build$src$core$utils$dom(this.svgPathSelected,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),\nremoveClass$$module$build$src$core$utils$dom(this.svgPathSelected,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute(\"tabindex\"),this.svgPathSelected.removeAttribute(\"id\"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(a){this.setClass_(\"blocklyReplaceable\",a)}updateShapeForInputHighlight(a,b){a=a.getParentInput().name;\n(a=this.getOutlinePath(a))&&(b?a.setAttribute(\"filter\",\"url(#\"+this.constants.replacementGlowFilterId+\")\"):a.removeAttribute(\"filter\"))}beginDrawing(){this.remainingOutlines.clear();for(const a of this.outlines.keys())this.remainingOutlines.add(a)}endDrawing(){if(this.remainingOutlines.size)for(const a of this.remainingOutlines)this.removeOutlinePath(a);this.remainingOutlines.clear()}setOutlinePath(a,b){a=this.getOutlinePath(a);a.setAttribute(\"d\",b);a.setAttribute(\"fill\",this.style.colourTertiary)}getOutlinePath(a){this.outlines.has(a)||\nthis.outlines.set(a,createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyOutlinePath\",d:\"\"},this.svgRoot));this.remainingOutlines.delete(a);return this.outlines.get(a)}removeOutlinePath(a){let b,c;(b=this.outlines.get(a))==null||(c=b.parentNode)==null||c.removeChild(this.outlines.get(a));this.outlines.delete(a)}},module$build$src$core$renderers$zelos$path_object={};module$build$src$core$renderers$zelos$path_object.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;var Renderer$$module$build$src$core$renderers$zelos$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a)}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$zelos$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$zelos$info(this,a)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$zelos$drawer(a,b)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$zelos$path_object(a,\nb,this.getConstants())}getConstants(){return this.constants_}};register$$module$build$src$core$renderers$common$block_rendering(\"zelos\",Renderer$$module$build$src$core$renderers$zelos$renderer);var module$build$src$core$renderers$zelos$renderer={};module$build$src$core$renderers$zelos$renderer.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;var InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer=class{constructor(a){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null;this.workspace=a.workspace}previewReplacement(a,b,c){$.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=c,c.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(b)&&(b.highlight(),this.staticConn=b)}finally{$.enable$$module$build$src$core$events$utils()}}previewConnection(a,\nb){if(a!==this.draggedConn||b!==this.staticConn){$.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(a,b)&&(this.markerConn=this.previewMarker(a,b)),this.workspace.getRenderer().shouldHighlightConnection(b)&&b.highlight(),this.draggedConn=a,this.staticConn=b}finally{$.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(a,b){return b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||\n!(this.workspace.getRenderer()instanceof Renderer$$module$build$src$core$renderers$zelos$renderer)}previewMarker(a,b){const c=a.getSourceBlock(),d=this.createInsertionMarker(c),e=this.getMatchingConnection(c,d,a);if(!e)return null;d.queueRender();triggerQueuedRenders$$module$build$src$core$render_management();e.connect(b);const f={x:b.x-e.x,y:b.y-e.y},g=e.getOffsetInBlock().clone();finishQueuedRenders$$module$build$src$core$render_management().then(()=>{if(!d.isDeadOrDying()){$.disable$$module$build$src$core$events$utils();\ntry{d==null||d.positionNearConnection(e,f,g),d==null||d.getSvgRoot().setAttribute(\"visibility\",\"visible\")}finally{$.enable$$module$build$src$core$events$utils()}}});return e}serializeBlockToInsertionMarker(a){const b=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!b)throw Error(`Failed to serialize source block. ${a.toDevString()}`);return b}createInsertionMarker(a){a=this.serializeBlockToInsertionMarker(a);a=append$$module$build$src$core$serialization$blocks(a,\nthis.workspace);for(const b of a.getDescendants(!1))b.setInsertionMarker(!0);a.initSvg();a.getSvgRoot().setAttribute(\"visibility\",\"hidden\");return a}getMatchingConnection(a,b,c){a=a.getConnections_(!0);b=b.getConnections_(!0);if(a.length!==b.length)return null;for(let d=0;d<a.length;d++)if(a[d]===c)return b[d];return null}hidePreview(){$.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),\nthis.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{$.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(a){const b=a.getSourceBlock(),c=b.outputConnection;let d;if(((d=b.previousConnection)==null?0:d.targetConnection)||(c==null?0:c.targetConnection))b.unplug(!0);else{let e;(e=a.targetBlock())==null||e.unplug(!1)}b.dispose()}dispose(){this.hidePreview()}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_PREVIEWER,DEFAULT$$module$build$src$core$registry,InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer);var module$build$src$core$insertion_marker_previewer={};module$build$src$core$insertion_marker_previewer.InsertionMarkerPreviewer=InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer;var module$build$src$core$inputs={};module$build$src$core$inputs.Align=$.Align$$module$build$src$core$inputs$align;module$build$src$core$inputs.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;module$build$src$core$inputs.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;module$build$src$core$inputs.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$inputs.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;\nmodule$build$src$core$inputs.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;module$build$src$core$inputs.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var documentEventsBound$$module$build$src$core$inject=!1,module$build$src$core$inject={};module$build$src$core$inject.inject=inject$$module$build$src$core$inject;var module$build$src$core$generator;\n$.CodeGenerator$$module$build$src$core$generator=class{constructor(a){this.forBlock=Object.create(null);this.FUNCTION_NAME_PLACEHOLDER_=\"{leCUI8hutHZI4480Dc}\";this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null;this.INDENT=\"  \";this.COMMENT_WRAP=60;this.ORDER_OVERRIDES=[];this.isInitialized=null;this.RESERVED_WORDS_=\"\";this.definitions_=Object.create(null);this.functionNames_=Object.create(null);this.nameDB_=void 0;this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,\n\"g\")}workspaceToCode(a){a||(console.warn(\"No workspace specified in workspaceToCode call.  Guessing.\"),a=getMainWorkspace$$module$build$src$core$common());var b=[];this.init(a);a=a.getTopBlocks(!0);for(let c=0,d;d=a[c];c++){let e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,d)+e),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,\nd))),b.push(e))}b=b.join(\"\\n\");b=this.finish(b);b=b.replace(/^\\s+\\n/,\"\");b=b.replace(/\\n\\s+$/,\"\\n\");return b=b.replace(/[ \\t]+\\n/g,\"\\n\")}prefixLines(a,b){return b+a.replace(/(?!\\n$)\\n/g,\"\\n\"+b)}allNestedComments(a){const b=[];a=a.getDescendants(!0);for(let c=0;c<a.length;c++){const d=a[c].getCommentText();d&&b.push(d)}b.length&&b.push(\"\");return b.join(\"\\n\")}blockToCode(a,b){this.isInitialized===!1&&console.warn(\"CodeGenerator init was not called before blockToCode was called.\");if(!a)return\"\";if(!a.isEnabled())return b?\n\"\":this.blockToCode(a.getNextBlock());if(a.isInsertionMarker())return b?\"\":this.blockToCode(a.getChildren(!1)[0]);var c=this.forBlock[a.type];if(typeof c!==\"function\")throw Error(`${this.name_} generator does not know how to generate code `+`for block type \"${a.type}\".`);c=c.call(a,a,this);if(Array.isArray(c)){if(!a.outputConnection)throw TypeError(\"Expecting string from statement block: \"+a.type);return[this.scrub_(a,c[0],b),c[1]]}if(typeof c===\"string\")return this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&\n(c=this.injectId(this.STATEMENT_PREFIX,a)+c),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(c+=this.injectId(this.STATEMENT_SUFFIX,a)),this.scrub_(a,c,b);if(c===null)return\"\";throw SyntaxError(\"Invalid code generated: \"+c);}valueToCode(a,b,c){if(isNaN(c))throw TypeError(\"Expecting valid order from block: \"+a.type);var d=a.getInputTargetBlock(b);if(!d&&!a.getInput(b))throw ReferenceError(`Input \"${b}\" doesn't exist on \"${a.type}\"`);if(!d)return\"\";b=this.blockToCode(d);if(b===\"\")return\"\";if(!Array.isArray(b))throw TypeError(`Expecting tuple from value block: ${d.type} See `+\n\"developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information\");a=b[0];b=b[1];if(isNaN(b))throw TypeError(\"Expecting valid order from value block: \"+d.type);if(!a)return\"\";d=!1;var e=Math.floor(c);const f=Math.floor(b);if(e<=f&&(e!==f||e!==0&&e!==99))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]===c&&this.ORDER_OVERRIDES[e][1]===b){d=!1;break}d&&(a=\"(\"+a+\")\");return a}statementToCode(a,b){const c=a.getInputTargetBlock(b);if(!c&&!a.getInput(b))throw ReferenceError(`Input \"${b}\" doesn't exist on \"${a.type}\"`);\na=this.blockToCode(c);if(typeof a!==\"string\")throw TypeError(\"Expecting code from statement block: \"+(c&&c.type));a&&(a=this.prefixLines(a,this.INDENT));return a}addLoopTrap(a,b){this.INFINITE_LOOP_TRAP&&(a=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,b),this.INDENT)+a);this.STATEMENT_SUFFIX&&!b.suppressPrefixSuffix&&(a=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,b),this.INDENT)+a);this.STATEMENT_PREFIX&&!b.suppressPrefixSuffix&&(a+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,\nb),this.INDENT));return a}injectId(a,b){b=b.id.replace(/\\$/g,\"$$$$\");return a.replace(/%1/g,\"'\"+b+\"'\")}addReservedWords(a){this.RESERVED_WORDS_+=a+\",\"}provideFunction_(a,b){if(!this.definitions_[a]){const c=this.nameDB_.getDistinctName(a,$.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[a]=c;Array.isArray(b)&&(b=b.join(\"\\n\"));b=b.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);let d;for(;d!==b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,\"$1\\x00\");b=b.replace(/\\0/g,this.INDENT);\nthis.definitions_[a]=b}return this.functionNames_[a]}getVariableName(a){return this.getName(a,$.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(a){return this.getName(a,$.NameType$$module$build$src$core$names.PROCEDURE)}getName(a,b){if(!this.nameDB_)throw Error(\"Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.\");return this.nameDB_.getName(a,b)}init(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null)}scrub_(a,\nb,c){return b}finish(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null);return a}scrubNakedValue(a){return a}};module$build$src$core$generator={};module$build$src$core$generator.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;var VerticalFlyout$$module$build$src$core$flyout_vertical=class extends Flyout$$module$build$src$core$flyout_base{constructor(a){super(a)}setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();typeof a.y===\"number\"&&(this.workspace_.scrollY=-(c.top+(c.height-d.height)*a.y));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}}getX(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager();\nconst b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?a.width:c.width-this.getWidth():this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width:this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width+b.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&\nthis.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=a.height;var b=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(b,a.height-2*this.CORNER_RADIUS);a=this.getX();b=this.getY();this.positionAt_(this.getWidth(),this.getHeight(),a,b)}}setBackgroundPath(a,b){const c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.RIGHT;var d=a+this.CORNER_RADIUS;d=[\"M \"+(c?d:0)+\",0\"];d.push(\"h\",c?-a:a);d.push(\"a\",this.CORNER_RADIUS,\nthis.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push(\"v\",Math.max(0,b));d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push(\"h\",c?a:-a);d.push(\"z\");this.svgBackground_.setAttribute(\"d\",d.join(\" \"))}scrollToStart(){let a;(a=this.workspace_.scrollbar)==null||a.setY(0)}wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b.y){const c=this.workspace_.getMetricsManager(),\nd=c.getScrollMetrics();b=c.getViewMetrics().top-d.top+b.y;let e;(e=this.workspace_.scrollbar)==null||e.setY(b);hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this.workspace_);hideWithoutAnimation$$module$build$src$core$dropdowndiv()}a.preventDefault();a.stopPropagation()}layout_(a){this.workspace_.scale=this.targetWorkspace.scale;var b=this.MARGIN;const c=this.RTL?b:b+this.tabWidth_;for(const d of a)d.getElement().moveBy(c,b),b+=d.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(a){a=\nMath.atan2(a.y,a.x)/Math.PI*180;const b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const a=this.svgGroup_.getBoundingClientRect(),b=a.left;return this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E9,1E9,-1E9,b+a.width):new Rect$$module$build$src$core$utils$rect(-1E9,1E9,b,1E9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();\nlet a=this.getContents().reduce((b,c)=>Math.max(b,c.getElement().getBoundingRectangle().getWidth()),0);a+=this.MARGIN*1.5+this.tabWidth_;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;if(this.getWidth()!==a){if(this.RTL)for(const b of this.getContents()){const c=b.getElement().getBoundingRectangle().left,d=a/this.workspace_.scale-b.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;b.getElement().moveBy(d-c,0)}this.targetWorkspace.scrollbar||\nthis.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+a,this.targetWorkspace.scrollY);this.width_=a;this.position();this.targetWorkspace.resizeContents();this.targetWorkspace.recordDragTargets()}}};VerticalFlyout$$module$build$src$core$flyout_vertical.registryName=\"verticalFlyout\";\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,VerticalFlyout$$module$build$src$core$flyout_vertical);var module$build$src$core$flyout_vertical={};module$build$src$core$flyout_vertical.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;var HorizontalFlyout$$module$build$src$core$flyout_horizontal=class extends Flyout$$module$build$src$core$flyout_base{constructor(a){super(a);this.horizontalLayout=!0}setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();typeof a.x===\"number\"&&(this.workspace_.scrollX=-(c.left+(c.width-d.width)*a.x));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;\nvar a=this.targetWorkspace.getMetricsManager();const b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();const d=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?a.height:c.height-this.getHeight():d?0:c.height:d?0:c.height+b.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();\nthis.width_=a.width;a=a.width-2*this.CORNER_RADIUS;var b=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(a,b);a=this.getX();b=this.getY();this.positionAt_(this.getWidth(),this.getHeight(),a,b)}}setBackgroundPath(a,b){const c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP,d=[\"M 0,\"+(c?0:this.CORNER_RADIUS)];c?(d.push(\"h\",a+2*this.CORNER_RADIUS),d.push(\"v\",b),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push(\"h\",\n-a),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push(\"h\",a),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push(\"v\",b),d.push(\"h\",-a-2*this.CORNER_RADIUS));d.push(\"z\");this.svgBackground_.setAttribute(\"d\",d.join(\" \"))}scrollToStart(){let a;(a=this.workspace_.scrollbar)==null||a.setX(this.RTL?Infinity:\n0)}wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b=b.x||b.y){const c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().left-d.left+b;let e;(e=this.workspace_.scrollbar)==null||e.setX(b);hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this.workspace_);hideWithoutAnimation$$module$build$src$core$dropdowndiv()}a.preventDefault();a.stopPropagation()}layout_(a){this.workspace_.scale=this.targetWorkspace.scale;const b=this.MARGIN;\nlet c=b+this.tabWidth_;this.RTL&&(a=a.reverse());for(const d of a)a=d.getElement().getBoundingRectangle(),a=this.RTL?c+a.getWidth():c,d.getElement().moveBy(a,b),c+=d.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(a){a=Math.atan2(a.y,a.x)/Math.PI*180;const b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const a=this.svgGroup_.getBoundingClientRect(),b=a.top;return this.toolboxPosition_===\nPosition$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E9,b+a.height,-1E9,1E9):new Rect$$module$build$src$core$utils$rect(b,1E9,-1E9,1E9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let a=this.getContents().reduce((b,c)=>Math.max(b,c.getElement().getBoundingRectangle().getHeight()),0);a+=this.MARGIN*1.5;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;this.getHeight()!==a&&(this.targetWorkspace.scrollbar||\nthis.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+a),this.height_=a,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,HorizontalFlyout$$module$build$src$core$flyout_horizontal);\nvar module$build$src$core$flyout_horizontal={};module$build$src$core$flyout_horizontal.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;var FieldVariable$$module$build$src$core$field_variable=class extends FieldDropdown$$module$build$src$core$field_dropdown{constructor(a,b,c,d,e){super(Field$$module$build$src$core$field.SKIP_SETUP);this.defaultType=\"\";this.variableTypes=[];this.variable=null;this.SERIALIZABLE=!0;this.menuGenerator_=FieldVariable$$module$build$src$core$field_variable.dropdownCreate;this.defaultVariableName=typeof a===\"string\"?a:\"\";this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&\n(e?this.configure_(e):this.setTypes(c,d),b&&this.setValidator(b))}configure_(a){super.configure_(a);this.setTypes(a.variableTypes,a.defaultType)}initModel(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.variable||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(a.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(a.getId()))}initView(){super.initView();addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\n\"blocklyVariableField\")}shouldAddBorderRect_(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||a.type!==\"variables_get\")}fromXml(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;const c=a.getAttribute(\"id\"),d=a.textContent,e=a.getAttribute(\"variabletype\")||a.getAttribute(\"variableType\")||\"\";b=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,\nc,d,e);if(e!==null&&e!==b.getType())throw Error(\"Serialized variable type with id '\"+b.getId()+\"' had type \"+b.getType()+\", and does not match variable field that references it: \"+domToText$$module$build$src$core$xml(a)+\".\");this.setValue(b.getId())}toXml(a){this.initModel();a.id=this.variable.getId();a.textContent=this.variable.getName();this.variable.getType()&&a.setAttribute(\"variabletype\",this.variable.getType());return a}saveState(a){var b=this.saveLegacyState(FieldVariable$$module$build$src$core$field_variable);\nif(b!==null)return b;this.initModel();b={id:this.variable.getId()};a&&(b.name=this.variable.getName(),b.type=this.variable.getType());return b}loadState(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.loadLegacyState(FieldVariable$$module$build$src$core$field_variable,a)||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,a.id||null,a.name,a.type||\"\"),this.setValue(a.getId()))}setSourceBlock(a){if(a.isShadow())throw Error(\"Variable fields are not allowed to exist on shadow blocks.\");\nsuper.setSourceBlock(a)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():\"\"}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(a){if(a===null)return null;var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;b=$.getVariable$$module$build$src$core$variables(b.workspace,a);if(!b)return console.warn(\"Variable id doesn't point to a real variable! ID was \"+\na),null;b=b.getType();return this.typeIsAllowed(b)?a:(console.warn(\"Variable type doesn't match this field!  Type was \"+b),null)}doValueUpdate_(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.variable=$.getVariable$$module$build$src$core$variables(b.workspace,a);super.doValueUpdate_(a)}typeIsAllowed(a){const b=this.getVariableTypes();if(!b)return!0;for(let c=0;c<b.length;c++)if(a===b[c])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;\nif(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[\"\"];let a=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const b=this.sourceBlock_.workspace.getPotentialVariableMap();if(!b)return a;a=Array.from(new Set([...a,...b.getTypes()]))}return a}setTypes(a=null,b=\"\"){var c=this.getText();if(Array.isArray(a)){if(a.length===0)throw Error(`'variableTypes' of field variable ${c} was an empty list. If you want to include all variable types, pass 'null' instead.`);\nc=!1;for(let d=0;d<a.length;d++)a[d]===b&&(c=!0);if(!c)throw Error(\"Invalid default type '\"+b+\"' in the definition of a FieldVariable\");}else if(a!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${c}`);this.defaultType=b;this.variableTypes=a}refreshVariableName(){this.forceRerender()}onItemSelected_(a,b){a=b.getValue();if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(a===RENAME_VARIABLE_ID$$module$build$src$core$internal_constants&&this.variable){$.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,\nthis.variable);return}if(a===DELETE_VARIABLE_ID$$module$build$src$core$internal_constants&&this.variable){a=this.variable.getWorkspace();$.deleteVariable$$module$build$src$core$variables(a,this.variable,this.sourceBlock_);return}}this.setValue(a)}referencesVariables(){return!0}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.variable),void 0,void 0,void 0,a)}static dropdownCreate(){if(!this.variable)throw Error(\"Tried to call dropdownCreate on a variable field with no variable selected.\");\nconst a=this.getText();let b=[];var c=this.getSourceBlock();if(c&&!c.isDeadOrDying()){c=c.workspace;const f=this.getVariableTypes();for(let g=0;g<f.length;g++){const h=f[g],k=c.getVariableMap().getVariablesOfType(h);b=b.concat(k);if(c.isFlyout){var d=void 0,e=void 0;b=b.concat((e=(d=c.getPotentialVariableMap())==null?void 0:d.getVariablesOfType(h))!=null?e:[])}}}b.sort(compareByName$$module$build$src$core$variables);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].getName(),b[e].getId()];d.push([$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,\nRENAME_VARIABLE_ID$$module$build$src$core$internal_constants]);$.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&d.push([$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",a),DELETE_VARIABLE_ID$$module$build$src$core$internal_constants]);return d}};register$$module$build$src$core$field_registry(\"field_variable\",FieldVariable$$module$build$src$core$field_variable);var module$build$src$core$field_variable={};module$build$src$core$field_variable.FieldVariable=FieldVariable$$module$build$src$core$field_variable;var FieldNumber$$module$build$src$core$field_number=class extends FieldInput$$module$build$src$core$field_input{constructor(a,b,c,d,e,f){super(Field$$module$build$src$core$field.SKIP_SETUP);this.min_=-Infinity;this.max_=Infinity;this.precision_=0;this.decimalPlaces=null;this.spellcheck_=!1;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(f?this.configure_(f):this.setConstraints(b,c,d),this.setValue(a),e&&this.setValidator(e))}configure_(a){super.configure_(a);this.setMinInternal(a.min);this.setMaxInternal(a.max);\nthis.setPrecisionInternal(a.precision)}setConstraints(a,b,c){this.setMinInternal(a);this.setMaxInternal(b);this.setPrecisionInternal(c);this.setValue(this.getValue())}setMin(a){this.setMinInternal(a);this.setValue(this.getValue())}setMinInternal(a){a==null?this.min_=-Infinity:(a=Number(a),isNaN(a)||(this.min_=a))}getMin(){return this.min_}setMax(a){this.setMaxInternal(a);this.setValue(this.getValue())}setMaxInternal(a){a==null?this.max_=Infinity:(a=Number(a),isNaN(a)||(this.max_=a))}getMax(){return this.max_}setPrecision(a){this.setPrecisionInternal(a);\nthis.setValue(this.getValue())}setPrecisionInternal(a){this.precision_=Number(a)||0;let b=String(this.precision_);b.includes(\"e\")&&(b=this.precision_.toLocaleString(\"en-US\",{maximumFractionDigits:20}));const c=b.indexOf(\".\");this.decimalPlaces=c===-1?a?0:null:b.length-c-1}getPrecision(){return this.precision_}doClassValidation_(a){if(a===null)return null;a=`${a}`.replace(/O/gi,\"0\");a=a.replace(/,/g,\"\");a=a.replace(/infinity/i,\"Infinity\");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,\nthis.min_),this.max_);this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);this.decimalPlaces!==null&&(a=Number(a.toFixed(this.decimalPlaces)));return a}widgetCreate_(){const a=super.widgetCreate_();this.min_>-Infinity&&(a.min=`${this.min_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMIN,this.min_));this.max_<Infinity&&(a.max=`${this.max_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMAX,\nthis.max_));return a}initView(){super.initView();this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyNumberField\")}static fromJson(a){return new this(a.value,void 0,void 0,void 0,void 0,a)}};register$$module$build$src$core$field_registry(\"field_number\",FieldNumber$$module$build$src$core$field_number);FieldNumber$$module$build$src$core$field_number.prototype.DEFAULT_VALUE=0;var module$build$src$core$field_number={};module$build$src$core$field_number.FieldNumber=FieldNumber$$module$build$src$core$field_number;var FieldLabelSerializable$$module$build$src$core$field_label_serializable=class extends FieldLabel$$module$build$src$core$field_label{constructor(a,b,c){super(String(a!=null?a:\"\"),b,c);this.EDITABLE=!1;this.SERIALIZABLE=!0}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};register$$module$build$src$core$field_registry(\"field_label_serializable\",FieldLabelSerializable$$module$build$src$core$field_label_serializable);\nvar module$build$src$core$field_label_serializable={};module$build$src$core$field_label_serializable.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;var FieldCheckbox$$module$build$src$core$field_checkbox=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.SERIALIZABLE=!0;this.value_=this.value_;this.checkChar=FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){super.configure_(a);a.checkCharacter&&(this.checkChar=a.checkCharacter)}saveState(){const a=\nthis.saveLegacyState(FieldCheckbox$$module$build$src$core$field_checkbox);return a!==null?a:this.getValueBoolean()}initView(){super.initView();const a=this.getTextElement();addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyCheckboxField\");a.style.display=this.value_?\"block\":\"none\"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(a){this.checkChar=\na||FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(a){return a===!0||a===\"TRUE\"?\"TRUE\":a===!1||a===\"FALSE\"?\"FALSE\":null}doValueUpdate_(a){this.value_=this.convertValueToBool(a);this.textElement_&&(this.textElement_.style.display=this.value_?\"block\":\"none\")}getValue(){return this.value_?\"TRUE\":\"FALSE\"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(a){return typeof a===\n\"string\"?a===\"TRUE\":!!a}static fromJson(a){return new this(a.checked,void 0,a)}};FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR=\"\\u2713\";register$$module$build$src$core$field_registry(\"field_checkbox\",FieldCheckbox$$module$build$src$core$field_checkbox);FieldCheckbox$$module$build$src$core$field_checkbox.prototype.DEFAULT_VALUE=!1;var module$build$src$core$field_checkbox={};module$build$src$core$field_checkbox.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;var Dragger$$module$build$src$core$dragging$dragger=class{constructor(a,b){this.draggable=a;this.workspace=b;this.dragTarget=null;this.startLoc=a.getRelativeToSurfaceXY()}onDragStart(a){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);this.draggable.startDrag(a)}onDrag(a,b){this.moveDraggable(a,b);b=this.getRoot(this.draggable);isDeletable$$module$build$src$core$interfaces$i_deletable(b)&&b.setDeleteStyle(this.wouldDeleteDraggable(a,b));this.updateDragTarget(a)}updateDragTarget(a){a=\nthis.workspace.getDragTarget(a);const b=this.getRoot(this.draggable);if(this.dragTarget!==a){let c;(c=this.dragTarget)==null||c.onDragExit(b);a==null||a.onDragEnter(b)}a==null||a.onDragOver(b);this.dragTarget=a}moveDraggable(a,b){b=this.pixelsToWorkspaceUnits(b);b=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startLoc,b);this.draggable.drag(b,a)}wouldDeleteDraggable(a,b){return(a=this.workspace.getDragTarget(a))&&this.workspace.getComponentManager().hasCapability(a.id,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA)?\na.wouldDelete(b):!1}onDragEnd(a){const b=$.getGroup$$module$build$src$core$events$utils();var c=this.workspace.getDragTarget(a);const d=this.getRoot(this.draggable);if(c){let e;(e=this.dragTarget)==null||e.onDrop(d)}this.shouldReturnToStart(a,d)&&this.draggable.revertDrag();(c=isDeletable$$module$build$src$core$interfaces$i_deletable(d)&&this.wouldDeleteDraggable(a,d))&&this.draggable instanceof BlockSvg$$module$build$src$core$block_svg&&disposeUiEffect$$module$build$src$core$block_animations(this.draggable.getRootBlock());\nthis.draggable.endDrag(a);c&&isDeletable$$module$build$src$core$interfaces$i_deletable(d)&&($.setGroup$$module$build$src$core$events$utils(b),d.dispose());$.setGroup$$module$build$src$core$events$utils(!1);!c&&isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(this.draggable)&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(a){return a instanceof BlockSvg$$module$build$src$core$block_svg?a.getRootBlock():a}shouldReturnToStart(a,b){return(a=\nthis.workspace.getDragTarget(a))?a.shouldPreventMove(b):!1}pixelsToWorkspaceUnits(a){a=new Coordinate$$module$build$src$core$utils$coordinate(a.x/this.workspace.scale,a.y/this.workspace.scale);this.workspace.isMutator&&a.scale(1/this.workspace.options.parentWorkspace.scale);return a}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,DEFAULT$$module$build$src$core$registry,Dragger$$module$build$src$core$dragging$dragger);\nvar module$build$src$core$dragging$dragger={};module$build$src$core$dragging$dragger.Dragger=Dragger$$module$build$src$core$dragging$dragger;var module$build$src$core$dragging={};module$build$src$core$dragging.BlockDragStrategy=BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy;module$build$src$core$dragging.BubbleDragStrategy=BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy;module$build$src$core$dragging.CommentDragStrategy=CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy;module$build$src$core$dragging.Dragger=Dragger$$module$build$src$core$dragging$dragger;var BlockDrag$$module$build$src$core$events$events_block_drag=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.BLOCK_DRAG;a&&(this.blockId=a.id,this.isStart=b,this.blocks=c)}toJson(){const a=super.toJson();if(this.isStart===void 0)throw Error(\"Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson\");if(this.blockId===\nvoid 0)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");a.isStart=this.isStart;a.blockId=this.blockId;a.blocks=this.blocks;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockDrag$$module$build$src$core$events$events_block_drag);b.isStart=a.isStart;b.blockId=a.blockId;b.blocks=a.blocks;return b}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_DRAG,BlockDrag$$module$build$src$core$events$events_block_drag);var module$build$src$core$events$events_block_drag={};module$build$src$core$events$events_block_drag.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;var BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a,b,c,d){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE;this.recordUndo=!1;a&&(this.name=b,this.oldValue=c,this.newValue=d)}toJson(){const a=super.toJson();if(!this.name)throw Error(\"The changed field name is undefined. Either pass a name to the constructor, or call fromJson.\");\na.name=this.name;a.oldValue=this.oldValue;a.newValue=this.newValue;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;return b}isNull(){return this.oldValue===this.newValue}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");\nb=b.getBlockById(this.blockId);if(!b)throw Error(\"The associated block is undefined. Either pass a block to the constructor, or call fromJson\");a=a?this.newValue:this.oldValue;(b=b.getField(this.name))?b.setValue(a):console.warn(\"Can't set non-existent field: \"+this.name)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE,BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);\nvar module$build$src$core$events$events_block_field_intermediate_change={};module$build$src$core$events$events_block_field_intermediate_change.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;var BlockMove$$module$build$src$core$events$events_block_move=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_MOVE;a&&(a.isShadow()&&(this.recordUndo=!1),a=this.currentLocation(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate)}toJson(){const a=super.toJson();a.oldParentId=this.oldParentId;a.oldInputName=this.oldInputName;this.oldCoordinate&&(a.oldCoordinate=\n`${Math.round(this.oldCoordinate.x)}, `+`${Math.round(this.oldCoordinate.y)}`);a.newParentId=this.newParentId;a.newInputName=this.newInputName;this.newCoordinate&&(a.newCoordinate=`${Math.round(this.newCoordinate.x)}, `+`${Math.round(this.newCoordinate.y)}`);this.reason&&(a.reason=this.reason);this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockMove$$module$build$src$core$events$events_block_move);b.oldParentId=a.oldParentId;b.oldInputName=\na.oldInputName;a.oldCoordinate&&(c=a.oldCoordinate.split(\",\"),b.oldCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));b.newParentId=a.newParentId;b.newInputName=a.newInputName;a.newCoordinate&&(c=a.newCoordinate.split(\",\"),b.newCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));a.reason!==void 0&&(b.reason=a.reason);a.recordUndo!==void 0&&(b.recordUndo=a.recordUndo);return b}recordNew(){const a=this.currentLocation();\nthis.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate}setReason(a){this.reason=a}currentLocation(){var a=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");var b=a.getBlockById(this.blockId);if(!b)throw Error(\"The block associated with the block move event could not be found\");a={};const c=b.getParent();if(c){if(a.parentId=c.id,b=c.getInputWithBlock(b))a.inputName=b.name}else a.coordinate=\nb.getRelativeToSurfaceXY();return a}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate,this.newCoordinate)}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");var c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;\na=a?this.newCoordinate:this.oldCoordinate;if(d){var f=b.getBlockById(d);if(!f){console.warn(\"Can't connect to non-existent block: \"+d);return}}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y,this.reason);else{b=c.outputConnection;if(!b||c.previousConnection&&c.previousConnection.isConnected())b=c.previousConnection;let g,h;c=(h=b)==null?void 0:h.type;if(e){if(c=f.getInput(e))g=c.connection}else c===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&\n(g=f.nextConnection);g&&b?b.connect(g):console.warn(\"Can't connect to non-existent input: \"+e)}}else console.warn(\"Can't move non-existent block: \"+this.blockId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_MOVE,BlockMove$$module$build$src$core$events$events_block_move);var module$build$src$core$events$events_block_move={};module$build$src$core$events$events_block_move.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;var BubbleOpen$$module$build$src$core$events$events_bubble_open=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.BUBBLE_OPEN;a&&(this.blockId=a.id,this.isOpen=b,this.bubbleType=c)}toJson(){const a=super.toJson();if(this.isOpen===void 0)throw Error(\"Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson\");if(!this.bubbleType)throw Error(\"The type of bubble is undefined. Either pass the value to the constructor, or call fromJson\");\na.isOpen=this.isOpen;a.bubbleType=this.bubbleType;a.blockId=this.blockId||\"\";return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BubbleOpen$$module$build$src$core$events$events_bubble_open);b.isOpen=a.isOpen;b.bubbleType=a.bubbleType;b.blockId=a.blockId;return b}},BubbleType$$module$build$src$core$events$events_bubble_open;\n(function(a){a.MUTATOR=\"mutator\";a.COMMENT=\"comment\";a.WARNING=\"warning\"})(BubbleType$$module$build$src$core$events$events_bubble_open||(BubbleType$$module$build$src$core$events$events_bubble_open={}));register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BUBBLE_OPEN,BubbleOpen$$module$build$src$core$events$events_bubble_open);var module$build$src$core$events$events_bubble_open={};\nmodule$build$src$core$events$events_bubble_open.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events_bubble_open.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;var CommentBase$$module$build$src$core$events$events_comment_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!a;a&&(this.commentId=a.id,this.workspaceId=a.workspace.id,this.group=$.getGroup$$module$build$src$core$events$utils(),this.recordUndo=getRecordUndo$$module$build$src$core$events$utils())}toJson(){const a=super.toJson();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na.commentId=this.commentId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentBase$$module$build$src$core$events$events_comment_base);b.commentId=a.commentId;return b}static CommentCreateDeleteHelper(a,b){const c=a.getEventWorkspace_();if(b){if(!a.json)throw Error(\"Encountered a comment event without proper json\");append$$module$build$src$core$serialization$workspace_comments(a.json,c)}else{if(!a.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\n(b=c.getCommentById(a.commentId))?b.dispose():console.warn(\"Can't delete non-existent comment: \"+a.commentId)}}},module$build$src$core$events$events_comment_base={};module$build$src$core$events$events_comment_base.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;var CommentChange$$module$build$src$core$events$events_comment_change=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a,b,c){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_CHANGE;a&&(this.oldContents_=typeof b===\"undefined\"?\"\":b,this.newContents_=typeof c===\"undefined\"?\"\":c)}toJson(){const a=super.toJson();if(!this.oldContents_)throw Error(\"The old contents is undefined. Either pass a value to the constructor, or call fromJson\");if(!this.newContents_)throw Error(\"The new contents is undefined. Either pass a value to the constructor, or call fromJson\");\na.oldContents=this.oldContents_;a.newContents=this.newContents_;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentChange$$module$build$src$core$events$events_comment_change);b.oldContents_=a.oldContents;b.newContents_=a.newContents;return b}isNull(){return this.oldContents_===this.newContents_}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){var c=\na?this.newContents_:this.oldContents_;if(c===void 0){if(a)throw Error(\"The new contents is undefined. Either pass a value to the constructor, or call fromJson\");throw Error(\"The old contents is undefined. Either pass a value to the constructor, or call fromJson\");}b.setText(c)}else console.warn(\"Can't change non-existent comment: \"+this.commentId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_CHANGE,CommentChange$$module$build$src$core$events$events_comment_change);\nvar module$build$src$core$events$events_comment_change={};module$build$src$core$events$events_comment_change.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;var CommentCollapse$$module$build$src$core$events$events_comment_collapse=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a,b){super(a);this.newCollapsed=b;this.type=EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE}toJson(){const a=super.toJson();if(this.newCollapsed===void 0)throw Error(\"The new collapse value undefined. Either call recordNew, or call fromJson\");a.newCollapsed=this.newCollapsed;return a}static fromJson(a,b,c){b=super.fromJson(a,\nb,c!=null?c:new CommentCollapse$$module$build$src$core$events$events_comment_collapse);b.newCollapsed=a.newCollapsed;return b}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");(b=b.getCommentById(this.commentId))?b.setCollapsed(a?!!this.newCollapsed:!this.newCollapsed):console.warn(\"Can't collapse or uncollapse non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE,CommentCollapse$$module$build$src$core$events$events_comment_collapse);var module$build$src$core$events$events_comment_collapse={};module$build$src$core$events$events_comment_collapse.CommentCollapse=CommentCollapse$$module$build$src$core$events$events_comment_collapse;var CommentCreate$$module$build$src$core$events$events_comment_create=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_CREATE;a&&(this.xml=saveWorkspaceComment$$module$build$src$core$xml(a),this.json=save$$module$build$src$core$serialization$workspace_comments(a,{addCoordinates:!0}))}toJson(){const a=super.toJson();if(!this.xml)throw Error(\"The comment XML is undefined. Either pass a comment to the constructor, or call fromJson\");\nif(!this.json)throw Error(\"The comment JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.json=this.json;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentCreate$$module$build$src$core$events$events_comment_create);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.json=a.json;return b}run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,\na)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_CREATE,CommentCreate$$module$build$src$core$events$events_comment_create);var module$build$src$core$events$events_comment_create={};module$build$src$core$events$events_comment_create.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;var CommentDelete$$module$build$src$core$events$events_comment_delete=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_DELETE;a&&(this.xml=saveWorkspaceComment$$module$build$src$core$xml(a),this.json=save$$module$build$src$core$serialization$workspace_comments(a,{addCoordinates:!0}))}run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,!a)}toJson(){const a=\nsuper.toJson();if(!this.xml)throw Error(\"The comment XML is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.json)throw Error(\"The comment JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.json=this.json;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentDelete$$module$build$src$core$events$events_comment_delete);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);\nb.json=a.json;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_DELETE,CommentDelete$$module$build$src$core$events$events_comment_delete);var module$build$src$core$events$events_comment_delete={};module$build$src$core$events$events_comment_delete.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;var CommentDrag$$module$build$src$core$events$events_comment_drag=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.COMMENT_DRAG;a&&(this.commentId=a.id,this.isStart=b)}toJson(){const a=super.toJson();if(this.isStart===void 0)throw Error(\"Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson\");if(this.commentId===void 0)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na.isStart=this.isStart;a.commentId=this.commentId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentDrag$$module$build$src$core$events$events_comment_drag);b.isStart=a.isStart;b.commentId=a.commentId;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_DRAG,CommentDrag$$module$build$src$core$events$events_comment_drag);var module$build$src$core$events$events_comment_drag={};\nmodule$build$src$core$events$events_comment_drag.CommentDrag=CommentDrag$$module$build$src$core$events$events_comment_drag;var CommentMove$$module$build$src$core$events$events_comment_move=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_MOVE;a&&(this.comment_=a,this.oldCoordinate_=a.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error(\"Tried to record the new position of a comment on the same event twice.\");if(!this.comment_)throw Error(\"The comment is undefined. Pass a comment to the constructor if you want to use the record functionality\");\nthis.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(a){this.reason=a}setOldCoordinate(a){this.oldCoordinate_=a}toJson(){const a=super.toJson();if(!this.oldCoordinate_)throw Error(\"The old comment position is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.newCoordinate_)throw Error(\"The new comment position is undefined. Either call recordNew, or call fromJson\");a.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, `+`${Math.round(this.oldCoordinate_.y)}`;\na.newCoordinate=Math.round(this.newCoordinate_.x)+\",\"+Math.round(this.newCoordinate_.y);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentMove$$module$build$src$core$events$events_comment_move);c=a.oldCoordinate.split(\",\");b.oldCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));c=a.newCoordinate.split(\",\");b.newCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));return b}isNull(){return Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate_,\nthis.newCoordinate_)}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){a=a?this.newCoordinate_:this.oldCoordinate_;if(!a)throw Error(\"Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson\");b.moveTo(a)}else console.warn(\"Can't move non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_MOVE,CommentMove$$module$build$src$core$events$events_comment_move);var module$build$src$core$events$events_comment_move={};module$build$src$core$events$events_comment_move.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;var CommentResize$$module$build$src$core$events$events_comment_resize=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_RESIZE;a&&(this.oldSize=a.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error(\"Tried to record the new size of a comment on the same event twice.\");var a=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na=a.getCommentById(this.commentId);if(!a)throw Error(\"The comment associated with the comment resize event could not be found\");this.newSize=a.getSize()}toJson(){const a=super.toJson();if(!this.oldSize)throw Error(\"The old comment size is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.newSize)throw Error(\"The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson\");a.oldWidth=Math.round(this.oldSize.width);a.oldHeight=Math.round(this.oldSize.height);\na.newWidth=Math.round(this.newSize.width);a.newHeight=Math.round(this.newSize.height);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentResize$$module$build$src$core$events$events_comment_resize);b.oldSize=new Size$$module$build$src$core$utils$size(a.oldWidth,a.oldHeight);b.newSize=new Size$$module$build$src$core$utils$size(a.newWidth,a.newHeight);return b}isNull(){return Size$$module$build$src$core$utils$size.equals(this.oldSize,this.newSize)}run(a){var b=this.getEventWorkspace_();\nif(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){a=a?this.newSize:this.oldSize;if(!a)throw Error(\"Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson\");b.setSize(a)}else console.warn(\"Can't resize non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_RESIZE,CommentResize$$module$build$src$core$events$events_comment_resize);var module$build$src$core$events$events_comment_resize={};module$build$src$core$events$events_comment_resize.CommentResize=CommentResize$$module$build$src$core$events$events_comment_resize;var ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(c);this.type=EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT;this.oldItem=a!=null?a:void 0;this.newItem=b!=null?b:void 0}toJson(){const a=super.toJson();a.oldItem=this.oldItem;a.newItem=this.newItem;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);\nb.oldItem=a.oldItem;b.newItem=a.newItem;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT,ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);var module$build$src$core$events$events_toolbox_item_select={};module$build$src$core$events$events_toolbox_item_select.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;var VarTypeChange$$module$build$src$core$events$events_var_type_change=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a,b,c){super(a);this.oldType=b;this.newType=c;this.type=EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE}toJson(){const a=super.toJson();if(!this.oldType||!this.newType)throw Error(\"The variable's types are undefined. Either pass them to the constructor, or call fromJson\");a.oldType=this.oldType;a.newType=this.newType;return a}static fromJson(a,\nb,c){b=super.fromJson(a,b,c!=null?c:new VarTypeChange$$module$build$src$core$events$events_var_type_change);b.oldType=a.oldType;b.newType=a.newType;return b}run(a){const b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.oldType||!this.newType)throw Error(\"The variable's types are undefined. Either pass them to the constructor, or call fromJson\");const c=b.getVariableMap().getVariableById(this.varId);\nc&&(a?b.getVariableMap().changeVariableType(c,this.newType):b.getVariableMap().changeVariableType(c,this.oldType))}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE,VarTypeChange$$module$build$src$core$events$events_var_type_change);var module$build$src$core$events$events_var_type_change={};module$build$src$core$events$events_var_type_change.VarTypeChange=VarTypeChange$$module$build$src$core$events$events_var_type_change;var FinishedLoading$$module$build$src$core$events$workspace_events=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!0;this.recordUndo=!1;this.type=EventType$$module$build$src$core$events$type.FINISHED_LOADING;this.isBlank=!!a;a&&(this.workspaceId=a.id)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.FINISHED_LOADING,FinishedLoading$$module$build$src$core$events$workspace_events);\nvar module$build$src$core$events$workspace_events={};module$build$src$core$events$workspace_events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;var BLOCK_DRAG$$module$build$src$core$events$events,BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events,BUBBLE_OPEN$$module$build$src$core$events$events,CHANGE$$module$build$src$core$events$events,CLICK$$module$build$src$core$events$events,COMMENT_CHANGE$$module$build$src$core$events$events,COMMENT_CREATE$$module$build$src$core$events$events,COMMENT_DELETE$$module$build$src$core$events$events,COMMENT_MOVE$$module$build$src$core$events$events,COMMENT_RESIZE$$module$build$src$core$events$events,\nCOMMENT_DRAG$$module$build$src$core$events$events,CREATE$$module$build$src$core$events$events,DELETE$$module$build$src$core$events$events,FINISHED_LOADING$$module$build$src$core$events$events,MOVE$$module$build$src$core$events$events,SELECTED$$module$build$src$core$events$events,THEME_CHANGE$$module$build$src$core$events$events,TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events,TRASHCAN_OPEN$$module$build$src$core$events$events,UI$$module$build$src$core$events$events,VAR_CREATE$$module$build$src$core$events$events,\nVAR_DELETE$$module$build$src$core$events$events,VAR_RENAME$$module$build$src$core$events$events,VIEWPORT_CHANGE$$module$build$src$core$events$events,module$build$src$core$events$events;$.BLOCK_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;$.BLOCK_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CREATE;$.BLOCK_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DELETE;\nBLOCK_DRAG$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DRAG;$.BLOCK_MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_MOVE;BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE;BUBBLE_OPEN$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BUBBLE_OPEN;\nCHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;CLICK$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.CLICK;COMMENT_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_CHANGE;COMMENT_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_CREATE;COMMENT_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_DELETE;\nCOMMENT_MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_MOVE;COMMENT_RESIZE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_RESIZE;COMMENT_DRAG$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_DRAG;CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CREATE;DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DELETE;\nFINISHED_LOADING$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.FINISHED_LOADING;MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_MOVE;SELECTED$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.SELECTED;THEME_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.THEME_CHANGE;TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT;\nTRASHCAN_OPEN$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.TRASHCAN_OPEN;UI$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.UI;VAR_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_CREATE;VAR_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_DELETE;VAR_RENAME$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_RENAME;\nVIEWPORT_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE;module$build$src$core$events$events={};module$build$src$core$events$events.Abstract=Abstract$$module$build$src$core$events$events_abstract;module$build$src$core$events$events.BLOCK_CHANGE=$.BLOCK_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_CREATE=$.BLOCK_CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.BLOCK_DELETE=$.BLOCK_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_DRAG=BLOCK_DRAG$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_FIELD_INTERMEDIATE_CHANGE=BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_MOVE=$.BLOCK_MOVE$$module$build$src$core$events$events;module$build$src$core$events$events.BUBBLE_OPEN=BUBBLE_OPEN$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.BUMP_EVENTS=BUMP_EVENTS$$module$build$src$core$events$type;module$build$src$core$events$events.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;module$build$src$core$events$events.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;module$build$src$core$events$events.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;module$build$src$core$events$events.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;\nmodule$build$src$core$events$events.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;module$build$src$core$events$events.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;module$build$src$core$events$events.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;module$build$src$core$events$events.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;\nmodule$build$src$core$events$events.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events.CHANGE=CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.CLICK=CLICK$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_CHANGE=COMMENT_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_CREATE=COMMENT_CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.COMMENT_DELETE=COMMENT_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_DRAG=COMMENT_DRAG$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_MOVE=COMMENT_MOVE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_RESIZE=COMMENT_RESIZE$$module$build$src$core$events$events;module$build$src$core$events$events.CREATE=CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;module$build$src$core$events$events.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;module$build$src$core$events$events.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;module$build$src$core$events$events.CommentCollapse=CommentCollapse$$module$build$src$core$events$events_comment_collapse;\nmodule$build$src$core$events$events.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;module$build$src$core$events$events.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;module$build$src$core$events$events.CommentDrag=CommentDrag$$module$build$src$core$events$events_comment_drag;module$build$src$core$events$events.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;\nmodule$build$src$core$events$events.CommentResize=CommentResize$$module$build$src$core$events$events_comment_resize;module$build$src$core$events$events.DELETE=DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.FINISHED_LOADING=FINISHED_LOADING$$module$build$src$core$events$events;module$build$src$core$events$events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;module$build$src$core$events$events.MOVE=MOVE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.SELECTED=SELECTED$$module$build$src$core$events$events;module$build$src$core$events$events.Selected=Selected$$module$build$src$core$events$events_selected;module$build$src$core$events$events.THEME_CHANGE=THEME_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events;module$build$src$core$events$events.TRASHCAN_OPEN=TRASHCAN_OPEN$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;module$build$src$core$events$events.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;module$build$src$core$events$events.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;module$build$src$core$events$events.UI=UI$$module$build$src$core$events$events;module$build$src$core$events$events.UiBase=UiBase$$module$build$src$core$events$events_ui_base;\nmodule$build$src$core$events$events.VAR_CREATE=VAR_CREATE$$module$build$src$core$events$events;module$build$src$core$events$events.VAR_DELETE=VAR_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.VAR_RENAME=VAR_RENAME$$module$build$src$core$events$events;module$build$src$core$events$events.VIEWPORT_CHANGE=VIEWPORT_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.VarBase=VarBase$$module$build$src$core$events$events_var_base;\nmodule$build$src$core$events$events.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;module$build$src$core$events$events.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;module$build$src$core$events$events.VarRename=VarRename$$module$build$src$core$events$events_var_rename;module$build$src$core$events$events.VarTypeChange=VarTypeChange$$module$build$src$core$events$events_var_type_change;module$build$src$core$events$events.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;\nmodule$build$src$core$events$events.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$events.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$events.disableOrphans=disableOrphans$$module$build$src$core$events$utils;module$build$src$core$events$events.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$events.filter=filter$$module$build$src$core$events$utils;\nmodule$build$src$core$events$events.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$events.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$events.get=get$$module$build$src$core$events$utils;module$build$src$core$events$events.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;module$build$src$core$events$events.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;\nmodule$build$src$core$events$events.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$events.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.setRecordUndo=$.setRecordUndo$$module$build$src$core$events$utils;var module$build$src$core$renderers$zelos$zelos={};module$build$src$core$renderers$zelos$zelos.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;module$build$src$core$renderers$zelos$zelos.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;module$build$src$core$renderers$zelos$zelos.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;module$build$src$core$renderers$zelos$zelos.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;\nmodule$build$src$core$renderers$zelos$zelos.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;module$build$src$core$renderers$zelos$zelos.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;module$build$src$core$renderers$zelos$zelos.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;module$build$src$core$renderers$zelos$zelos.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;\nmodule$build$src$core$renderers$zelos$zelos.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;registerDefaultOptions$$module$build$src$core$contextmenu_items();var module$build$src$core$contextmenu_items={};module$build$src$core$contextmenu_items.registerCleanup=registerCleanup$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapse=registerCollapse$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapseExpandBlock=registerCollapseExpandBlock$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerComment=registerComment$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentCreate=registerCommentCreate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentDelete=registerCommentDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentDuplicate=registerCommentDuplicate$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerCommentOptions=registerCommentOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDefaultOptions=registerDefaultOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDelete=registerDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDeleteAll=registerDeleteAll$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerDisable=registerDisable$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDuplicate=registerDuplicate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerExpand=registerExpand$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerHelp=registerHelp$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerInline=registerInline$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerRedo=registerRedo$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerUndo=registerUndo$$module$build$src$core$contextmenu_items;var BUTTON_TYPE$$module$build$src$core$button_flyout_inflater=\"button\",ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater=class{load(a,b){a=new FlyoutButton$$module$build$src$core$flyout_button(b.getWorkspace(),b.targetWorkspace,a,!1);a.show();return new FlyoutItem$$module$build$src$core$flyout_item(a,BUTTON_TYPE$$module$build$src$core$button_flyout_inflater)}gapForItem(a,b){return b}disposeItem(a){a=a.getElement();a instanceof FlyoutButton$$module$build$src$core$flyout_button&&a.dispose()}getType(){return BUTTON_TYPE$$module$build$src$core$button_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,BUTTON_TYPE$$module$build$src$core$button_flyout_inflater,ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater);var module$build$src$core$button_flyout_inflater={};module$build$src$core$button_flyout_inflater.ButtonFlyoutInflater=ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater;var module$build$src$core$bubbles={};module$build$src$core$bubbles.Bubble=Bubble$$module$build$src$core$bubbles$bubble;module$build$src$core$bubbles.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;module$build$src$core$bubbles.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;module$build$src$core$bubbles.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var module$build$src$core$blockly_options={};var WORKSPACE_AT_BLOCK_CAPACITY_DISABLED_REASON$$module$build$src$core$block_flyout_inflater=\"WORKSPACE_AT_BLOCK_CAPACITY\",BLOCK_TYPE$$module$build$src$core$block_flyout_inflater=\"block\",BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater=class{constructor(){this.permanentlyDisabledBlocks=new Set;this.listeners=new Map;this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(a,b){this.setFlyout(b);a=this.createBlock(a,b.getWorkspace());a.isEnabled()?this.updateStateBasedOnCapacity(a):\nthis.permanentlyDisabledBlocks.add(a);a.getDescendants(!1).forEach(c=>c.isInFlyout=!0);this.addBlockListeners(a);return new FlyoutItem$$module$build$src$core$flyout_item(a,BLOCK_TYPE$$module$build$src$core$block_flyout_inflater)}createBlock(a,b){a.blockxml?(a=typeof a.blockxml===\"string\"?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,b=domToBlockInternal$$module$build$src$core$xml(a,b)):(a.enabled===void 0&&(a.enabled=a.disabled!==\"true\"&&a.disabled!==!0),a.disabledReasons===\nvoid 0&&a.enabled===!1&&(a.disabledReasons=[MANUALLY_DISABLED$$module$build$src$core$constants]),\"x\"in a&&delete a.x,\"y\"in a&&delete a.y,b=appendInternal$$module$build$src$core$serialization$blocks(a,b));return b}gapForItem(a,b){let c;a.gap?c=parseInt(String(a.gap)):a.blockxml&&(a=typeof a.blockxml===\"string\"?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,c=parseInt(a.getAttribute(\"gap\")));return!c||isNaN(c)?b:c}disposeItem(a){a=a.getElement();a instanceof BlockSvg$$module$build$src$core$block_svg&&\n(this.removeListeners(a.id),a.dispose(!1,!1))}removeListeners(a){let b;((b=this.listeners.get(a))!=null?b:[]).forEach(c=>unbind$$module$build$src$core$browser_events(c));this.listeners.delete(a)}setFlyout(a){if(this.flyout!==a){if(this.flyout){let c;(c=this.flyout.targetWorkspace)==null||c.removeChangeListener(this.capacityWrapper)}this.flyout=a;var b;(b=this.flyout.targetWorkspace)==null||b.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(a){let b,c;const d=(b=this.flyout)==null?\nvoid 0:(c=b.targetWorkspace)==null?void 0:c.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(a));for(;a;)a.setDisabledReason(!d,WORKSPACE_AT_BLOCK_CAPACITY_DISABLED_REASON$$module$build$src$core$block_flyout_inflater),a=a.getNextBlock()}addBlockListeners(a){const b=[];b.push(conditionalBind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointerdown\",a,c=>{let d,e;const f=(d=this.flyout)==null?void 0:(e=d.targetWorkspace)==null?void 0:e.getGesture(c);f&&this.flyout&&(f.setStartBlock(a),\nf.handleFlyoutStart(c,this.flyout))}));b.push(bind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointermove\",null,()=>{let c,d;((c=this.flyout)==null?0:(d=c.targetWorkspace)==null?0:d.isDragging())||a.addSelect()}));b.push(bind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointerleave\",null,()=>{let c,d;((c=this.flyout)==null?0:(d=c.targetWorkspace)==null?0:d.isDragging())||a.removeSelect()}));this.listeners.set(a.id,b)}filterFlyoutBasedOnCapacity(a){!this.flyout||a&&a.type!==EventType$$module$build$src$core$events$type.BLOCK_CREATE&&\na.type!==EventType$$module$build$src$core$events$type.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(b=>{this.permanentlyDisabledBlocks.has(b)||this.updateStateBasedOnCapacity(b)})}getType(){return BLOCK_TYPE$$module$build$src$core$block_flyout_inflater}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,BLOCK_TYPE$$module$build$src$core$block_flyout_inflater,BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater);\nvar module$build$src$core$block_flyout_inflater={};module$build$src$core$block_flyout_inflater.BlockFlyoutInflater=BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater;var module$build$src$core$interfaces$i_paster={};module$build$src$core$interfaces$i_paster.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;var module$build$src$core$interfaces$i_rendered_element={};module$build$src$core$interfaces$i_rendered_element.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;var ConstantProvider$$module$build$src$core$renderers$geras$constants=class extends ConstantProvider$$module$build$src$core$renderers$common$constants{constructor(){super();this.FIELD_TEXT_BASELINE_CENTER=!1;this.DARK_PATH_OFFSET=1;this.MAX_BOTTOM_WIDTH=30;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(a){return super.getCSS_(a).concat([`${a} .blocklyInsertionMarker>.blocklyPathLight,`,`${a} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\"stroke: none;\",\n\"}\"])}},module$build$src$core$renderers$geras$constants={};module$build$src$core$renderers$geras$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;var Highlighter$$module$build$src$core$renderers$geras$highlighter=class{constructor(a){this.inlineSteps_=this.steps_=\"\";this.info_=a;this.RTL_=this.info_.RTL;a=a.getRenderer();this.constants_=a.getConstants();this.highlightConstants_=a.getHighlightConstants();this.highlightOffset=this.highlightConstants_.OFFSET;this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER;this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER;this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB;this.notchPaths_=\nthis.highlightConstants_.NOTCH;this.startPaths_=this.highlightConstants_.START_HAT;this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+\"\\n\"+this.inlineSteps_}drawTopCorner(a){this.steps_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(let b=0,c;c=a.elements[b];b++)Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(c)?this.steps_+=this.highlightConstants_.START_POINT:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(c)?\nthis.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(c)?this.steps_+=this.notchPaths_.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(c)?this.steps_+=this.startPaths_.path(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)&&c.width!==0&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c.xPos+c.width-this.highlightOffset));this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",\na.xPos+a.width-this.highlightOffset)}drawJaggedEdge_(a){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(a){const b=a.getLastInput();if(this.RTL_){const c=a.height-b.connectionHeight;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width-this.highlightOffset,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\nc)}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(a){const b=a.getLastInput();if(b)if(this.RTL_){const c=a.height-2*this.insideCornerPaths_.height;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-\nb.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-b.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(a){const b=a.xPos+a.width-this.highlightOffset;a instanceof SpacerRow$$module$build$src$core$renderers$measurables$spacer_row&&a.followsStatement&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b));\nthis.RTL_&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b),a.height>this.highlightOffset&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+a.height-this.highlightOffset)))}drawBottomRow(a){if(this.RTL_)this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline-this.highlightOffset);else{const b=this.info_.bottomRow.elements[0];Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(b)?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+\nthis.highlightOffset,a.baseline-this.highlightOffset):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(b)&&(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos,a.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var a=this.info_.outputConnection;a&&(a=a.connectionOffsetY+a.height,this.RTL_?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX,a):(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX+\nthis.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_));this.RTL_||(a=this.info_.topRow,Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a.elements[0])?this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",this.outsideCornerPaths_.height):this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.capline+this.highlightOffset))}drawInlineInput(a){const b=\nthis.highlightOffset,c=a.xPos+a.connectionWidth;var d=a.centerline-a.height/2;const e=a.width-a.connectionWidth,f=d+b;this.RTL_?(d=a.connectionOffsetY-b,a=a.height-(a.connectionOffsetY+a.connectionHeight)+b,this.inlineSteps_+=moveTo$$module$build$src$core$utils$svg_paths(c-b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",e)):this.inlineSteps_+=\nmoveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.width+b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-e)+moveTo$$module$build$src$core$utils$svg_paths(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},module$build$src$core$renderers$geras$highlighter={};module$build$src$core$renderers$geras$highlighter.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;var Drawer$$module$build$src$core$renderers$geras$drawer=class extends Drawer$$module$build$src$core$renderers$common$drawer{constructor(a,b){super(a,b);this.highlighter_=new Highlighter$$module$build$src$core$renderers$geras$highlighter(b)}draw(){this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();const a=this.block_.pathObject;a.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);a.setHighlightPath(this.highlighter_.getPath());this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow);\nthis.highlighter_.drawRightSideRow(this.info_.topRow);super.drawTop_()}drawJaggedEdge_(a){this.highlighter_.drawJaggedEdge_(a);super.drawJaggedEdge_(a)}drawValueInput_(a){this.highlighter_.drawValueInput(a);super.drawValueInput_(a)}drawStatementInput_(a){this.highlighter_.drawStatementInput(a);super.drawStatementInput_(a)}drawRightSideRow_(a){this.highlighter_.drawRightSideRow(a);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",\na.yPos+a.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow);super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft();super.drawLeft_()}drawInlineInput_(a){this.highlighter_.drawInlineInput(a);super.drawInlineInput_(a)}positionInlineInputConnection_(a){const b=a.centerline-a.height/2;if(a.connectionModel){let c=a.xPos+a.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(a){const b=\na.getLastInput();if(b==null?0:b.connectionModel){let c=a.xPos+a.statementEdge+b.notchOffset;c=this.info_.RTL?c*-1:c+this.constants_.DARK_PATH_OFFSET;b.connectionModel.setOffsetInBlock(c,a.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(a){const b=a.getLastInput();if(b&&b.connectionModel){let c=a.xPos+a.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionNextConnection_(){const a=this.info_.bottomRow;if(a.connection){const b=\na.connection,c=b.xPos;b.connectionModel.setOffsetInBlock((this.info_.RTL?-c:c)+this.constants_.DARK_PATH_OFFSET/2,a.baseline+this.constants_.DARK_PATH_OFFSET)}}},module$build$src$core$renderers$geras$drawer={};module$build$src$core$renderers$geras$drawer.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;var HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants=class{constructor(a){this.OFFSET=.5;this.constantProvider=a;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner();this.OUTSIDE_CORNER=this.makeOutsideCorner();this.PUZZLE_TAB=this.makePuzzleTab();this.NOTCH=this.makeNotch();this.JAGGED_TEETH=this.makeJaggedTeeth();this.START_HAT=this.makeStartHat()}makeInsideCorner(){const a=this.constantProvider.CORNER_RADIUS,\nb=this.OFFSET,c=(1-Math.SQRT1_2)*(a+b)-b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-c-b,a-c)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a+b,point$$module$build$src$core$utils$svg_paths(a+b,a+b)),f=moveBy$$module$build$src$core$utils$svg_paths(c,-c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a+b,point$$module$build$src$core$utils$svg_paths(a-c,c+b));return{width:a+\nb,height:a,pathTop(g){return g?d:\"\"},pathBottom(g){return g?e:f}}}makeOutsideCorner(){const a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a-b)+b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(a-c,-c+b)),e=moveBy$$module$build$src$core$utils$svg_paths(b,a)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(a,-a+\nb)),f=-c,g=moveBy$$module$build$src$core$utils$svg_paths(c,f)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(-c+b,-f-a));return{height:a,topLeft(h){return h?d:e},bottomLeft(){return g}}}makePuzzleTab(){const a=this.constantProvider.TAB_WIDTH,b=this.constantProvider.TAB_HEIGHT,c=moveBy$$module$build$src$core$utils$svg_paths(-2,-b+2.5+.9)+lineTo$$module$build$src$core$utils$svg_paths(a*-.45,-2.1),d=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\n2.5)+moveBy$$module$build$src$core$utils$svg_paths(-a*.97,2.5)+curve$$module$build$src$core$utils$svg_paths(\"q\",[point$$module$build$src$core$utils$svg_paths(-a*.05,10),point$$module$build$src$core$utils$svg_paths(a*.3,9.5)])+moveBy$$module$build$src$core$utils$svg_paths(a*.67,-1.9)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",2.5),e=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",-1.5)+moveBy$$module$build$src$core$utils$svg_paths(a*-.92,-.5)+curve$$module$build$src$core$utils$svg_paths(\"q\",\n[point$$module$build$src$core$utils$svg_paths(a*-.19,-5.5),point$$module$build$src$core$utils$svg_paths(0,-11)])+moveBy$$module$build$src$core$utils$svg_paths(a*.92,1),f=moveBy$$module$build$src$core$utils$svg_paths(-5,b-.7)+lineTo$$module$build$src$core$utils$svg_paths(a*.46,-2.1);return{width:a,height:b,pathUp(g){return g?c:e},pathDown(g){return g?d:f}}}makeNotch(){return{pathLeft:lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:lineTo$$module$build$src$core$utils$svg_paths(5.1,\n2.6)+moveBy$$module$build$src$core$utils$svg_paths(-10.2,6.8)+lineTo$$module$build$src$core$utils$svg_paths(5.1,2.6),height:12,width:10.2}}makeStartHat(){const a=this.constantProvider.START_HAT.height,b=moveBy$$module$build$src$core$utils$svg_paths(25,-8.7)+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(29.7,-6.2),point$$module$build$src$core$utils$svg_paths(57.2,-.5),point$$module$build$src$core$utils$svg_paths(75,8.7)]),c=curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(17.8,-9.2),point$$module$build$src$core$utils$svg_paths(45.3,-14.9),point$$module$build$src$core$utils$svg_paths(75,-8.7)])+moveTo$$module$build$src$core$utils$svg_paths(100.5,a+.5);return{path(d){return d?b:c}}}},module$build$src$core$renderers$geras$highlight_constants={};module$build$src$core$renderers$geras$highlight_constants.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;var InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input=class extends InlineInput$$module$build$src$core$renderers$measurables$inline_input{constructor(a,b){super(a,b);this.constants_=a;this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},module$build$src$core$renderers$geras$measurables$inline_input={};module$build$src$core$renderers$geras$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;var StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input=class extends StatementInput$$module$build$src$core$renderers$measurables$statement_input{constructor(a,b){super(a,b);this.constants_=a;this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},module$build$src$core$renderers$geras$measurables$statement_input={};module$build$src$core$renderers$geras$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$geras$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b);this.renderer_=a}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_();this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(a,\nb){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input(this.constants_,a)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,\na)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;this.isInline||b.align!==null||(b.align=a.align)}addElemSpacing_(){let a=!1;for(let c=0,d;d=this.rows[c];c++)d.hasExternalInput&&(a=!0);for(let c=0,d;d=this.rows[c];c++){var b=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nthis.getInRowSpacing_(null,b[0])));if(b.length){for(let e=0;e<b.length-1;e++){d.elements.push(b[e]);const f=this.getInRowSpacing_(b[e],b[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f))}d.elements.push(b[b.length-1]);d.endsWithElemSpacer()&&(b=this.getInRowSpacing_(b[b.length-1],null),a&&d.hasDummyInput&&(b+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nb)))}}}getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&(!b||\nTypes$$module$build$src$core$renderers$measurables$types.isStatementInput(b)))return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.LARGE_PADDING*2+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?\nthis.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;\nif(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||\nTypes$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset+\n(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:\nTypes$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||!a.hasStatement&&b.hasDummyInput||a.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+\nb.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;let c=a.yPos;Types$$module$build$src$core$renderers$measurables$types.isField(b)||\nTypes$$module$build$src$core$renderers$measurables$types.isIcon(b)?(c+=b.height/2,(a.hasInlineInput||a.hasStatement)&&b.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=a.height&&(c+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):c=Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?c+b.height/2:c+a.height/2;return c}alignRowElements_(){if(this.isInline){var a=0,b=new WeakMap,c=null;for(let d=this.rows.length-1,e;e=this.rows[d];d--)b.set(e,a),Types$$module$build$src$core$renderers$measurables$types.isInputRow(e)&&\n(e.hasStatement&&this.alignStatementRow_(e),c&&c.hasStatement&&e.width<c.width?b.set(e,c.width):a=e.hasStatement?e.width:Math.max(a,e.width),c=e);a=0;for(let d=0,e;e=this.rows[d];d++)e.hasStatement?a=this.getDesiredRowWidth_(e):Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)?e.width=Math.max(a,b.get(e)):(c=e.width,a=Math.max(a,b.get(e))-c,a>0&&this.addAlignmentPadding_(e,a),a=e.width)}else super.alignRowElements_()}getDesiredRowWidth_(a){return this.isInline&&a.hasStatement?this.statementEdge+\nthis.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(a)}finalize_(){let a=0,b=0;for(let d=0,e;e=this.rows[d];d++){e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var c=b-this.topRow.ascenderHeight;e===this.bottomRow&&c<this.constants_.MIN_BLOCK_HEIGHT&&(c=this.constants_.MIN_BLOCK_HEIGHT-c,this.bottomRow.height+=c,b+=c);this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&\n(a=Math.max(a,c.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX+this.constants_.DARK_PATH_OFFSET;this.width+=this.constants_.DARK_PATH_OFFSET;this.height=b+this.constants_.DARK_PATH_OFFSET;this.startY=this.topRow.capline}},module$build$src$core$renderers$geras$info={};module$build$src$core$renderers$geras$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;var PathObject$$module$build$src$core$renderers$geras$path_object=class extends PathObject$$module$build$src$core$renderers$common$path_object{constructor(a,b,c){super(a,b,c);this.constants=c;this.colourDark=\"#000000\";this.svgPathDark=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyPathDark\",transform:\"translate(1,1)\"});this.svgRoot.insertBefore(this.svgPathDark,this.svgPath);this.svgPathLight=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,\n{\"class\":\"blocklyPathLight\"},this.svgRoot)}setPath(a){this.svgPath.setAttribute(\"d\",a);this.svgPathDark.setAttribute(\"d\",a)}setHighlightPath(a){this.svgPathLight.setAttribute(\"d\",a)}flipRTL(){this.svgPath.setAttribute(\"transform\",\"scale(-1 1)\");this.svgPathLight.setAttribute(\"transform\",\"scale(-1 1)\");this.svgPathDark.setAttribute(\"transform\",\"translate(1,1) scale(-1 1)\")}applyColour(a){this.svgPathLight.style.display=\"\";this.svgPathDark.style.display=\"\";if(!this.style.colourTertiary)throw Error(\"The renderer did not properly initialize the tertiary colour of the block style\");\nthis.svgPathLight.setAttribute(\"stroke\",this.style.colourTertiary);this.svgPathDark.setAttribute(\"fill\",this.colourDark);super.applyColour(a);this.svgPath.setAttribute(\"stroke\",\"none\")}setStyle(a){this.style=a;this.colourDark=blend$$module$build$src$core$utils$colour(\"#000\",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(a){super.updateHighlighted(a);this.svgPathLight.style.display=a?\"none\":\"inline\"}updateShadow_(a){if(a){this.svgPathLight.style.display=\"none\";if(!this.style.colourSecondary)throw Error(\"The renderer did not properly initialize the secondary colour of the block style block style\");\nthis.svgPathDark.setAttribute(\"fill\",this.style.colourSecondary);this.svgPath.setAttribute(\"stroke\",\"none\");this.svgPath.setAttribute(\"fill\",this.style.colourSecondary)}}updateDisabled_(a){super.updateDisabled_(a);a&&this.svgPath.setAttribute(\"stroke\",\"none\")}},module$build$src$core$renderers$geras$path_object={};module$build$src$core$renderers$geras$path_object.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;var Renderer$$module$build$src$core$renderers$geras$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a);this.highlightConstants=null}init(a,b){super.init(a,b);this.highlightConstants=this.makeHighlightConstants_();this.highlightConstants.init()}refreshDom(a,b,c){super.refreshDom(a,b,c);this.getHighlightConstants().init()}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$geras$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$geras$info(this,\na)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$geras$drawer(a,b)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$geras$path_object(a,b,this.getConstants())}makeHighlightConstants_(){return new HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error(\"Cannot access the highlight constants because init has not been called\");return this.highlightConstants}};\nregister$$module$build$src$core$renderers$common$block_rendering(\"geras\",Renderer$$module$build$src$core$renderers$geras$renderer);var module$build$src$core$renderers$geras$renderer={};module$build$src$core$renderers$geras$renderer.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;var module$build$src$core$renderers$geras$geras={};module$build$src$core$renderers$geras$geras.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;module$build$src$core$renderers$geras$geras.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;module$build$src$core$renderers$geras$geras.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;module$build$src$core$renderers$geras$geras.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;\nmodule$build$src$core$renderers$geras$geras.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;module$build$src$core$renderers$geras$geras.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;module$build$src$core$renderers$geras$geras.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;module$build$src$core$renderers$geras$geras.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;\nmodule$build$src$core$renderers$geras$geras.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$thrasos$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b)}getRenderer(){return this.renderer_}addElemSpacing_(){let a=!1;for(var b=0;b<this.rows.length;b++)if(this.rows[b].hasExternalInput){a=!0;break}for(b=0;b<this.rows.length;b++){const d=this.rows[b];var c=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nthis.getInRowSpacing_(null,c[0])));if(c.length){for(let e=0;e<c.length-1;e++){d.elements.push(c[e]);const f=this.getInRowSpacing_(c[e],c[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f))}d.elements.push(c[c.length-1]);d.endsWithElemSpacer()&&(c=this.getInRowSpacing_(c[c.length-1],null),a&&d.hasDummyInput&&(c+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nc)))}}}getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b)return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\na.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.LARGE_PADDING*2+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:\nTypes$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;\nif(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?\nthis.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset}return Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&\nb?b.notchOffset-this.constants_.CORNER_RADIUS:Types$$module$build$src$core$renderers$measurables$types.isField(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&\nTypes$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||a.hasDummyInput||b.hasDummyInput?this.constants_.LARGE_PADDING:\nthis.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?\na.capline-b.height/2:a.capline+b.height/2;let c=a.yPos;return c=Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.hasStatement?c+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+b.height/2):c+a.height/2}finalize_(){let a=0,b=0;for(var c=0;c<this.rows.length;c++){const e=this.rows[c];e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var d=b-this.topRow.ascenderHeight;e===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-\nd,this.bottomRow.height+=d,b+=d);this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&(a=Math.max(a,c.getHeightWidth().width));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline}},module$build$src$core$renderers$thrasos$info={};module$build$src$core$renderers$thrasos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;var Renderer$$module$build$src$core$renderers$thrasos$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a)}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$thrasos$info(this,a)}};register$$module$build$src$core$renderers$common$block_rendering(\"thrasos\",Renderer$$module$build$src$core$renderers$thrasos$renderer);var module$build$src$core$renderers$thrasos$renderer={};\nmodule$build$src$core$renderers$thrasos$renderer.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var module$build$src$core$renderers$thrasos$thrasos={};module$build$src$core$renderers$thrasos$thrasos.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;module$build$src$core$renderers$thrasos$thrasos.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var defaultBlockStyles$$module$build$src$core$theme$zelos={colour_blocks:{colourPrimary:\"#CF63CF\",colourSecondary:\"#C94FC9\",colourTertiary:\"#BD42BD\"},list_blocks:{colourPrimary:\"#9966FF\",colourSecondary:\"#855CD6\",colourTertiary:\"#774DCB\"},logic_blocks:{colourPrimary:\"#4C97FF\",colourSecondary:\"#4280D7\",colourTertiary:\"#3373CC\"},loop_blocks:{colourPrimary:\"#0fBD8C\",colourSecondary:\"#0DA57A\",colourTertiary:\"#0B8E69\"},math_blocks:{colourPrimary:\"#59C059\",colourSecondary:\"#46B946\",colourTertiary:\"#389438\"},\nprocedure_blocks:{colourPrimary:\"#FF6680\",colourSecondary:\"#FF4D6A\",colourTertiary:\"#FF3355\"},text_blocks:{colourPrimary:\"#FFBF00\",colourSecondary:\"#E6AC00\",colourTertiary:\"#CC9900\"},variable_blocks:{colourPrimary:\"#FF8C1A\",colourSecondary:\"#FF8000\",colourTertiary:\"#DB6E00\"},variable_dynamic_blocks:{colourPrimary:\"#FF8C1A\",colourSecondary:\"#FF8000\",colourTertiary:\"#DB6E00\"},hat_blocks:{colourPrimary:\"#4C97FF\",colourSecondary:\"#4280D7\",colourTertiary:\"#3373CC\",hat:\"cap\"}},categoryStyles$$module$build$src$core$theme$zelos=\n{colour_category:{colour:\"#CF63CF\"},list_category:{colour:\"#9966FF\"},logic_category:{colour:\"#4C97FF\"},loop_category:{colour:\"#0fBD8C\"},math_category:{colour:\"#59C059\"},procedure_category:{colour:\"#FF6680\"},text_category:{colour:\"#FFBF00\"},variable_category:{colour:\"#FF8C1A\"},variable_dynamic_category:{colour:\"#FF8C1A\"}},Zelos$$module$build$src$core$theme$zelos=new Theme$$module$build$src$core$theme(\"zelos\",defaultBlockStyles$$module$build$src$core$theme$zelos,categoryStyles$$module$build$src$core$theme$zelos),\nmodule$build$src$core$theme$zelos={Zelos:Zelos$$module$build$src$core$theme$zelos};var module$build$src$core$theme$themes={Classic:Classic$$module$build$src$core$theme$classic,Zelos:Zelos$$module$build$src$core$theme$zelos};var ToolboxItem$$module$build$src$core$toolbox$toolbox_item=class{constructor(a,b,c){this.id_=a.toolboxitemid||getNextUniqueId$$module$build$src$core$utils$idgenerator();this.level_=(this.parent_=c||null)?this.parent_.getLevel()+1:0;this.toolboxItemDef_=a;this.parentToolbox_=b;this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(a){}getFocusableElement(){const a=\nthis.getDiv();if(!a)throw Error(\"Trying to access toolbox item before DOM is initialized.\");if(!(a instanceof HTMLElement))throw Error(\"Toolbox item div is unexpectedly not an HTML element.\");return a}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},module$build$src$core$toolbox$toolbox_item={};module$build$src$core$toolbox$toolbox_item.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;var ToolboxCategory$$module$build$src$core$toolbox$category=class extends ToolboxItem$$module$build$src$core$toolbox$toolbox_item{constructor(a,b,c){super(a,b,c);this.colour_=this.name_=\"\";this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null;this.isDisabled_=this.isHidden_=!1;this.flyoutItems_=[];this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_);this.parseContents_(this.toolboxItemDef_);this.createDom_();this.toolboxItemDef_.hidden===\n\"true\"&&this.hide()}makeDefaultCssConfig_(){return{container:\"blocklyToolboxCategoryContainer\",row:\"blocklyToolboxCategory\",rowcontentcontainer:\"blocklyTreeRowContentContainer\",icon:\"blocklyToolboxCategoryIcon\",label:\"blocklyToolboxCategoryLabel\",contents:\"blocklyToolboxCategoryGroup\",selected:\"blocklyToolboxSelected\",openicon:\"blocklyToolboxCategoryIconOpen\",closedicon:\"blocklyToolboxCategoryIconClosed\"}}parseContents_(a){if(\"custom\"in a)this.flyoutItems_=a.custom;else if(a=a.contents)for(let b=\n0;b<a.length;b++){const c=a[b];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(c)}}parseCategoryDef_(a){this.name_=\"name\"in a?replaceMessageReferences$$module$build$src$core$utils$parsing(a.name):\"\";this.colour_=this.getColour_(a);Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_();setRole$$module$build$src$core$utils$aria(this.htmlDiv_,Role$$module$build$src$core$utils$aria.TREEITEM);setState$$module$build$src$core$utils$aria(this.htmlDiv_,\nState$$module$build$src$core$utils$aria.SELECTED,!1);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LEVEL,this.level_+1);this.rowDiv_=this.createRowContainer_();this.rowDiv_.style.pointerEvents=\"auto\";this.htmlDiv_.appendChild(this.rowDiv_);this.rowContents_=this.createRowContentsContainer_();this.rowContents_.style.pointerEvents=\"none\";this.rowDiv_.appendChild(this.rowContents_);this.iconDom_=this.createIconDom_();setRole$$module$build$src$core$utils$aria(this.iconDom_,\nRole$$module$build$src$core$utils$aria.PRESENTATION);this.rowContents_.appendChild(this.iconDom_);this.labelDom_=this.createLabelDom_(this.name_);this.rowContents_.appendChild(this.labelDom_);const a=this.labelDom_.getAttribute(\"id\");a&&setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LABELLEDBY,a);this.addColourBorder_(this.colour_);return this.htmlDiv_}createContainer_(){const a=document.createElement(\"div\");a.tabIndex=-1;a.id=this.getId();const b=\nthis.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return a}createRowContainer_(){const a=document.createElement(\"div\");var b=this.cssConfig_.row;b&&addClass$$module$build$src$core$utils$dom(a,b);b=`${ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding*this.getLevel()}px`;this.workspace_.RTL?a.style.paddingRight=b:a.style.paddingLeft=b;return a}createRowContentsContainer_(){const a=document.createElement(\"div\"),b=this.cssConfig_.rowcontentcontainer;b&&addClass$$module$build$src$core$utils$dom(a,\nb);return a}createIconDom_(){const a=document.createElement(\"span\");if(!this.parentToolbox_.isHorizontal()){const b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b)}a.style.display=\"inline-block\";return a}createLabelDom_(a){const b=document.createElement(\"span\");b.setAttribute(\"id\",this.getId()+\".label\");b.textContent=a;(a=this.cssConfig_.label)&&addClass$$module$build$src$core$utils$dom(b,a);return b}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_);this.addColourBorder_(this.colour_)}addColourBorder_(a){a&&\n(a=ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth+\"px solid \"+(a||\"#ddd\"),this.workspace_.RTL?this.rowDiv_.style.borderRight=a:this.rowDiv_.style.borderLeft=a)}getColour_(a){const b=a.categorystyle||a.categoryStyle;if((a=a.colour)&&b)console.warn('Toolbox category \"'+this.name_+'\" must not have both a style and a colour');else{if(b)return this.getColourfromStyle(b);if(a)return this.parseColour(a)}return\"\"}getColourfromStyle(a){var b=this.workspace_.getTheme();if(a&&b){if((b=b.categoryStyles[a])&&\nb.colour)return this.parseColour(b.colour);console.warn('Style \"'+a+'\" must exist and contain a colour value')}return\"\"}getClickTarget(){return this.rowDiv_}parseColour(a){a=replaceMessageReferences$$module$build$src$core$utils$parsing(a);if(a==null||a===\"\")return\"\";var b=Number(a);if(isNaN(b)){if(b=parse$$module$build$src$core$utils$colour(a))return b;console.warn('Toolbox category \"'+this.name_+'\" has unrecognized colour attribute: '+a);return\"\"}return hueToHex$$module$build$src$core$utils$colour(b)}openIcon_(a){if(a){var b=\nthis.cssConfig_.closedicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.openicon)&&addClass$$module$build$src$core$utils$dom(a,b)}}closeIcon_(a){if(a){var b=this.cssConfig_.openicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.closedicon)&&addClass$$module$build$src$core$utils$dom(a,b)}}setVisible_(a){this.htmlDiv_.style.display=a?\"block\":\"none\";this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&\nthis.allAncestorsExpanded_()}allAncestorsExpanded_(){let a=this;for(;a.getParent();)if(a=a.getParent(),!a.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(a){}setSelected(a){if(this.rowDiv_){var b=this.cssConfig_.selected;if(a){const c=this.parseColour(ToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||c;b&&addClass$$module$build$src$core$utils$dom(this.rowDiv_,b)}else this.rowDiv_.style.backgroundColor=\n\"\",b&&removeClass$$module$build$src$core$utils$dom(this.rowDiv_,b);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.SELECTED,a)}}setDisabled(a){this.isDisabled_=a;this.getDiv().setAttribute(\"disabled\",`${a}`);a?this.getDiv().setAttribute(\"disabled\",\"true\"):this.getDiv().removeAttribute(\"disabled\")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(a){this.flyoutItems_=\n[];this.toolboxItemDef_=typeof a===\"string\"?{kind:this.toolboxItemDef_.kind,custom:a,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:\"name\"in this.toolboxItemDef_?this.toolboxItemDef_.name:\"\",contents:convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,\ncolour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden};this.parseContents_(this.toolboxItemDef_)}dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv_)}};ToolboxCategory$$module$build$src$core$toolbox$category.registrationName=\"category\";ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding=19;ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth=8;\nToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour=\"#57e\";register$$module$build$src$core$css('\\n.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {\\n  background-color: rgba(255, 255, 255, .2);\\n}\\n\\n.blocklyToolbox[layout=\"h\"] .blocklyToolboxCategoryContainer {\\n  margin: 1px 5px 1px 0;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"][layout=\"h\"] .blocklyToolboxCategoryContainer {\\n  margin: 1px 0 1px 5px;\\n}\\n\\n.blocklyToolboxCategory {\\n  height: 22px;\\n  line-height: 22px;\\n  margin-bottom: 3px;\\n  padding-right: 8px;\\n  white-space: nowrap;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxCategory {\\n  margin-left: 8px;\\n  padding-right: 0;\\n}\\n\\n.blocklyToolboxCategoryIcon {\\n  background-image: url(<<<PATH>>>/sprites.png);\\n  height: 16px;\\n  vertical-align: middle;\\n  visibility: hidden;\\n  width: 16px;\\n}\\n\\n.blocklyToolboxCategoryIconClosed {\\n  background-position: -32px -1px;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxCategoryIconClosed {\\n  background-position: 0 -1px;\\n}\\n\\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\\n  background-position: -32px -17px;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\\n  background-position: 0 -17px;\\n}\\n\\n.blocklyToolboxCategoryIconOpen {\\n  background-position: -16px -1px;\\n}\\n\\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {\\n  background-position: -16px -17px;\\n}\\n\\n.blocklyToolboxCategoryLabel {\\n  cursor: default;\\n  font: 16px sans-serif;\\n  padding: 0 3px;\\n  vertical-align: middle;\\n}\\n\\n.blocklyToolboxDelete .blocklyToolboxCategoryLabel {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyToolboxSelected .blocklyToolboxCategoryLabel {\\n  color: #fff;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxCategory$$module$build$src$core$toolbox$category.registrationName,ToolboxCategory$$module$build$src$core$toolbox$category);var module$build$src$core$toolbox$category={};module$build$src$core$toolbox$category.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;var ToolboxSeparator$$module$build$src$core$toolbox$separator=class extends ToolboxItem$$module$build$src$core$toolbox$toolbox_item{constructor(a,b){super(a,b);this.cssConfig_={container:\"blocklyTreeSeparator\"};this.htmlDiv=null;Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig)}init(){this.createDom_()}createDom_(){const a=document.createElement(\"div\");a.tabIndex=-1;a.id=this.getId();const b=this.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return this.htmlDiv=a}getDiv(){return this.htmlDiv}dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv)}};\nToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName=\"sep\";register$$module$build$src$core$css('\\n.blocklyTreeSeparator {\\n  border-bottom: solid #e5e5e5 1px;\\n  height: 0;\\n  margin: 5px 0;\\n}\\n\\n.blocklyToolbox[layout=\"h\"] .blocklyTreeSeparator {\\n  border-right: solid #e5e5e5 1px;\\n  border-bottom: none;\\n  height: auto;\\n  margin: 0 5px 0 5px;\\n  padding: 5px 0;\\n  width: 0;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName,ToolboxSeparator$$module$build$src$core$toolbox$separator);var module$build$src$core$toolbox$separator={};module$build$src$core$toolbox$separator.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;var CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category=class extends ToolboxCategory$$module$build$src$core$toolbox$category{constructor(a,b,c){super(a,b,c);this.subcategoriesDiv_=null;this.expanded_=!1;this.toolboxItems_=[]}makeDefaultCssConfig_(){const a=super.makeDefaultCssConfig_();a.contents=\"blocklyToolboxCategoryGroup\";return a}parseContents_(a){if(\"custom\"in a)this.flyoutItems_=a.custom;else{const b=a.contents;if(b){this.flyoutItems_=[];a=!0;for(let c=0;c<b.length;c++){const d=\nb[c];!hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName&&a?(this.flyoutItems_.push(d),a=!0):(this.createToolboxItem(d),a=!1)}}}}createToolboxItem(a){let b=a.kind;b.toUpperCase()===\"CATEGORY\"&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(b=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);\na=new (getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,b))(a,this.parentToolbox_,this);this.toolboxItems_.push(a)}init(){super.init();this.setExpanded(this.toolboxItemDef_.expanded===\"true\"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const a=this.getChildToolboxItems();this.subcategoriesDiv_=this.createSubCategoriesDom_(a);setRole$$module$build$src$core$utils$aria(this.subcategoriesDiv_,Role$$module$build$src$core$utils$aria.GROUP);\nthis.htmlDiv_.appendChild(this.subcategoriesDiv_);this.closeIcon_(this.iconDom_);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,!1);return this.htmlDiv_}createIconDom_(){const a=document.createElement(\"span\");if(!this.parentToolbox_.isHorizontal()){const b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b);a.style.visibility=\"visible\"}a.style.display=\"inline-block\";return a}createSubCategoriesDom_(a){const b=document.createElement(\"div\");\nb.style.display=\"none\";var c=this.cssConfig_.contents;c&&addClass$$module$build$src$core$utils$dom(b,c);for(c=0;c<a.length;c++){const d=a[c];d.init();const e=d.getDiv();b.appendChild(e);if(d.getClickTarget){let f;(f=d.getClickTarget())==null||f.setAttribute(\"id\",d.getId())}}return b}setExpanded(a){if(this.expanded_!==a){if(this.expanded_=a)this.subcategoriesDiv_.style.display=\"block\",this.openIcon_(this.iconDom_);else{let b;(b=this.parentToolbox_.getFlyout())==null||b.setVisible(!1);this.subcategoriesDiv_.style.display=\n\"none\";this.closeIcon_(this.iconDom_)}setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,a);this.parentToolbox_.handleToolboxItemResize()}}setVisible_(a){this.htmlDiv_.style.display=a?\"block\":\"none\";const b=this.getChildToolboxItems();for(let c=0;c<b.length;c++)b[c].setVisible_(a);this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(a){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};\nCollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName=\"collapsibleCategory\";register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category);var module$build$src$core$toolbox$collapsible_category={};\nmodule$build$src$core$toolbox$collapsible_category.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;var module$build$src$core$interfaces$i_selectable_toolbox_item={};module$build$src$core$interfaces$i_selectable_toolbox_item.isSelectableToolboxItem=isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item;var Toolbox$$module$build$src$core$toolbox$toolbox=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.id=\"toolbox\";this.contentsDiv_=this.HtmlDiv=null;this.isVisible_=!1;this.height_=this.width_=0;this.flyout=null;this.contents=new Map;this.previouslySelectedItem_=this.selectedItem_=null;this.boundEvents_=[];this.workspace_=a;this.toolboxDef_=a.options.languageTree||{contents:[]};this.horizontalLayout=a.options.horizontalLayout;this.RTL=a.options.RTL;this.toolboxPosition=\na.options.toolboxPosition}onShortcut(a){return!1}init(){var a=this.workspace_;const b=a.getParentSvg();this.flyout=this.createFlyout_();this.HtmlDiv=this.createDom_(this.workspace_);const c=this.flyout.createDom(\"svg\");addClass$$module$build$src$core$utils$dom(c,\"blocklyToolboxFlyout\");insertAfter$$module$build$src$core$utils$dom(c,b);this.setVisible(!0);this.flyout.init(a);this.render(this.toolboxDef_);a=a.getThemeManager();a.subscribe(this.HtmlDiv,\"toolboxBackgroundColour\",\"background-color\");a.subscribe(this.HtmlDiv,\n\"toolboxForegroundColour\",\"color\");this.workspace_.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]});$.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,\n!0)}createDom_(a){a=a.getParentSvg();const b=this.createContainer_();b.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.contentsDiv_=this.createContentsContainer_();setRole$$module$build$src$core$utils$aria(this.contentsDiv_,Role$$module$build$src$core$utils$aria.TREE);b.appendChild(this.contentsDiv_);a.parentNode.insertBefore(b,a);this.attachEvents_(b,this.contentsDiv_);return b}createContainer_(){const a=document.createElement(\"div\");a.setAttribute(\"layout\",this.isHorizontal()?\n\"h\":\"v\");addClass$$module$build$src$core$utils$dom(a,\"blocklyToolbox\");a.setAttribute(\"dir\",this.RTL?\"RTL\":\"LTR\");return a}createContentsContainer_(){const a=document.createElement(\"div\");addClass$$module$build$src$core$utils$dom(a,\"blocklyToolboxCategoryGroup\");this.isHorizontal()&&(a.style.flexDirection=\"row\");return a}attachEvents_(a,b){a=conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onClick_,!1);this.boundEvents_.push(a);b=conditionalBind$$module$build$src$core$browser_events(b,\n\"keydown\",this,this.onKeyDown_,!1);this.boundEvents_.push(b)}onClick_(a){if(isRightButton$$module$build$src$core$browser_events(a)||a.target===this.HtmlDiv)getMainWorkspace$$module$build$src$core$common().hideChaff(!1);else{var b=a.target.getAttribute(\"id\");b&&(b=this.getToolboxItemById(b),b.isSelectable()&&(this.setSelectedItem(b),b.onClick(a)));getMainWorkspace$$module$build$src$core$common().hideChaff(!0)}clearTouchIdentifier$$module$build$src$core$touch()}onKeyDown_(a){let b=!1;switch(a.key){case \"ArrowDown\":b=\nthis.selectNext();break;case \"ArrowUp\":b=this.selectPrevious();break;case \"ArrowLeft\":b=this.selectParent();break;case \"ArrowRight\":b=this.selectChild();break;case \"Enter\":case \" \":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),b=!0);break;default:b=!1}!b&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(b=this.selectedItem_.onKeyDown(a));b&&a.preventDefault()}createFlyout_(){const a=this.workspace_,b=a.copyOptionsForFlyout();b.toolboxPosition=a.options.toolboxPosition;\nreturn new (a.horizontalLayout?getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,a.options,!0):getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,a.options,!0))(b)}render(a){this.toolboxDef_=a;this.contents.forEach(b=>b.dispose());this.contents.clear();this.renderContents_(a.contents);this.position();this.handleToolboxItemResize()}renderContents_(a){const b=document.createDocumentFragment();\nfor(let c=0;c<a.length;c++)this.createToolboxItem(a[c],b);this.contentsDiv_.appendChild(b)}createToolboxItem(a,b){var c=a.kind;c.toUpperCase()===\"CATEGORY\"&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(c=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);if(c=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,c.toLowerCase()))a=new c(a,this),a.init(),this.addToolboxItem_(a),(c=a.getDiv())&&b.appendChild(c),\na.getClickTarget()&&a.getClickTarget().setAttribute(\"id\",a.getId())}addToolboxItem_(a){this.contents.set(a.getId(),a);if(a.isCollapsible()){a=a.getChildToolboxItems();for(let b=0;b<a.length;b++)this.addToolboxItem_(a[b])}}getToolboxItems(){return[...this.contents.values()]}addStyle(a){a&&this.HtmlDiv&&addClass$$module$build$src$core$utils$dom(this.HtmlDiv,a)}removeStyle(a){a&&this.HtmlDiv&&removeClass$$module$build$src$core$utils$dom(this.HtmlDiv,a)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;\nvar a=this.HtmlDiv.getBoundingClientRect();const b=a.top,c=b+a.height,d=a.left;a=d+a.width;return this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E7,c,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.BOTTOM?new Rect$$module$build$src$core$utils$rect(b,1E7,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E7,1E7,-1E7,a):new Rect$$module$build$src$core$utils$rect(-1E7,\n1E7,d,1E7)}wouldDelete(a){a instanceof BlockSvg$$module$build$src$core$block_svg?this.updateWouldDelete_(!a.getParent()&&a.isDeletable()):this.updateWouldDelete_(isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable());return this.wouldDelete_}onDragEnter(a){this.updateCursorDeleteStyle_(!0)}onDragExit(a){this.updateCursorDeleteStyle_(!1)}onDrop(a){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(a){a!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=\na,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(a){const b=this.wouldDelete_?\"blocklyToolboxDelete\":\"blocklyToolboxGrab\";a?this.addStyle(b):this.removeStyle(b)}getToolboxItemById(a){return this.contents.get(a)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const a=\nthis.workspace_.getMetrics(),b=this.HtmlDiv;b&&(this.horizontalLayout?(b.style.left=\"0\",b.style.height=\"auto\",b.style.width=\"100%\",this.height_=b.offsetHeight,this.width_=a.viewWidth,this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?b.style.top=\"0\":b.style.bottom=\"0\"):(this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?b.style.right=\"0\":b.style.left=\"0\",b.style.height=\"100%\",this.width_=b.offsetWidth,this.height_=a.viewHeight),this.flyout.position())}handleToolboxItemResize(){const a=\nthis.workspace_;var b=this.HtmlDiv.getBoundingClientRect();const c=this.getFlyout(),d=this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?a.scrollX+b.width+((c==null?0:c.isVisible())?c.getWidth():0):a.scrollX;b=this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?a.scrollY+b.height+((c==null?0:c.isVisible())?c.getHeight():0):a.scrollY;a.translate(d,b);svgResize$$module$build$src$core$common(a)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(a=>\n{a.refreshTheme&&a.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(a){this.isVisible_!==a&&(this.HtmlDiv.style.display=a?\"block\":\"none\",this.isVisible_=a,this.workspace_.recordDragTargets())}autoHide(a){!a&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(a){const b=this.selectedItem_;!a&&!b||a&&!isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item(a)||\n(this.shouldDeselectItem_(b,a)&&b!==null&&this.deselectItem_(b),this.shouldSelectItem_(b,a)&&a!==null&&this.selectItem_(b,a),this.updateFlyout_(b,a),this.fireSelectEvent(b,a))}shouldDeselectItem_(a,b){return a!==null&&(!a.isCollapsible()||a!==b)}shouldSelectItem_(a,b){return b!==null&&b!==a}deselectItem_(a){this.selectedItem_=null;this.previouslySelectedItem_=a;a.setSelected(!1);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,\"\")}selectItem_(a,\nb){this.selectedItem_=b;this.previouslySelectedItem_=a;b.setSelected(!0);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,b.getId())}selectItemByPosition(a){(a=this.getToolboxItems()[a])&&this.setSelectedItem(a)}updateFlyout_(a,b){b&&(a!==b||b.isCollapsible())&&b.getContents().length?(this.flyout.show(b.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(a,b){const c=a&&a.getName();let d=b&&b.getName();\na===b&&(d=null);a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT))(c,d,this.workspace_.id);fire$$module$build$src$core$events$utils(a)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||\n!this.selectedItem_.isCollapsible())return!1;const a=this.selectedItem_;a.isExpanded()?this.selectNext():a.toggleExpanded();return!0}selectNext(){if(!this.selectedItem_)return!1;const a=[...this.contents.values()];let b=a.indexOf(this.selectedItem_)+1;if(b>-1&&b<a.length){let c=a[b];for(;c&&!c.isSelectable();)c=a[++b];if(c&&c.isSelectable())return this.setSelectedItem(c),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const a=[...this.contents.values()];let b=a.indexOf(this.selectedItem_)-\n1;if(b>-1&&b<a.length){let c=a[b];for(;c&&!c.isSelectable();)c=a[--b];if(c&&c.isSelectable())return this.setSelectedItem(c),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent(\"toolbox\");this.flyout.dispose();this.contents.forEach(a=>a.dispose());for(let a=0;a<this.boundEvents_.length;a++)unbind$$module$build$src$core$browser_events(this.boundEvents_[a]);this.boundEvents_=[];this.contents.clear();this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),removeNode$$module$build$src$core$utils$dom(this.HtmlDiv));\n$.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error(\"Toolbox DOM has not yet been created.\");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(a){if(!a||a===this){let b;return(b=this.getToolboxItems().find(c=>c.isSelectable()))!=null?b:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(a){return this.getToolboxItemById(a)}onTreeFocus(a,\nb){a!==this?this.getSelectedItem()!==a&&this.setSelectedItem(a):this.clearSelection()}onTreeBlur(a){let b;a&&a===((b=this.flyout)==null?void 0:b.getWorkspace())||this.autoHide(!1)}};register$$module$build$src$core$css('\\n.blocklyToolboxDelete {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyToolboxGrab {\\n  cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n/* Category tree in Toolbox. */\\n.blocklyToolbox {\\n  box-sizing: border-box;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background-color: #ddd;\\n  overflow-x: visible;\\n  overflow-y: auto;\\n  padding: 4px 0 4px 0;\\n  position: absolute;\\n  z-index: 70;  /* so blocks go under toolbox when dragging */\\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\\n}\\n\\n.blocklyToolboxCategoryGroup {\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: column;\\n}\\n\\n.blocklyToolboxCategoryGroup:focus {\\n  outline: none;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,DEFAULT$$module$build$src$core$registry,Toolbox$$module$build$src$core$toolbox$toolbox);var module$build$src$core$toolbox$toolbox={};module$build$src$core$toolbox$toolbox.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;var module$build$src$core$interfaces$i_navigation_policy={};var VERSION$$module$build$src$core$blockly=\"12.3.0\",INPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,OUTPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE,NEXT_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT,PREVIOUS_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT,\nTOOLBOX_AT_TOP$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.TOP,TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.BOTTOM,TOOLBOX_AT_LEFT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.LEFT,TOOLBOX_AT_RIGHT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.RIGHT,svgResize$$module$build$src$core$blockly=svgResize$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$blockly=\ngetMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$blockly=getSelected$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$blockly=defineBlocksWithJsonArray$$module$build$src$core$common,setParentContainer$$module$build$src$core$blockly=setParentContainer$$module$build$src$core$common,COLLAPSE_CHARS$$module$build$src$core$blockly=COLLAPSE_CHARS$$module$build$src$core$internal_constants,OPPOSITE_TYPE$$module$build$src$core$blockly=OPPOSITE_TYPE$$module$build$src$core$internal_constants,\nRENAME_VARIABLE_ID$$module$build$src$core$blockly=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID$$module$build$src$core$blockly=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,COLLAPSED_INPUT_NAME$$module$build$src$core$blockly=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,COLLAPSED_FIELD_NAME$$module$build$src$core$blockly=COLLAPSED_FIELD_NAME$$module$build$src$core$constants,VARIABLE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables,\nVARIABLE_DYNAMIC_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables_dynamic,PROCEDURE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$procedures;Workspace$$module$build$src$core$workspace.prototype.newBlock=function(a,b){return new Block$$module$build$src$core$block(this,a,b)};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newBlock=function(a,b){return new BlockSvg$$module$build$src$core$block_svg(this,a,b)};\nWorkspace$$module$build$src$core$workspace.prototype.newComment=function(a){return new WorkspaceComment$$module$build$src$core$comments$workspace_comment(this,a)};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newComment=function(a){return new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(this,a)};WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan=function(a){return new Trashcan$$module$build$src$core$trashcan(a)};\nMiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype.newWorkspaceSvg=function(a){return new WorkspaceSvg$$module$build$src$core$workspace_svg(a)};$.Names$$module$build$src$core$names.prototype.populateProcedures=function(a){a=allProcedures$$module$build$src$core$procedures(a);a=a[0].concat(a[1]);for(let b=0;b<a.length;b++)this.getName(a[b][0],$.Names$$module$build$src$core$names.NameType.PROCEDURE)};\nvar DropDownDiv$$module$build$src$core$blockly=module$build$src$core$dropdowndiv,module$build$src$core$blockly={};module$build$src$core$blockly.Block=Block$$module$build$src$core$block;module$build$src$core$blockly.BlockFlyoutInflater=BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater;module$build$src$core$blockly.BlockNavigationPolicy=BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.BlockSvg=BlockSvg$$module$build$src$core$block_svg;\nmodule$build$src$core$blockly.Blocks=Blocks$$module$build$src$core$blocks;module$build$src$core$blockly.ButtonFlyoutInflater=ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater;module$build$src$core$blockly.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSE_CHARS=COLLAPSE_CHARS$$module$build$src$core$internal_constants;\nmodule$build$src$core$blockly.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;module$build$src$core$blockly.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;module$build$src$core$blockly.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$blockly.Connection=Connection$$module$build$src$core$connection;module$build$src$core$blockly.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;\nmodule$build$src$core$blockly.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;module$build$src$core$blockly.ConnectionNavigationPolicy=ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy;module$build$src$core$blockly.ConnectionType=ConnectionType$$module$build$src$core$connection_type;module$build$src$core$blockly.ContextMenu=module$build$src$core$contextmenu;module$build$src$core$blockly.ContextMenuItems=module$build$src$core$contextmenu_items;\nmodule$build$src$core$blockly.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$blockly.Css=module$build$src$core$css;module$build$src$core$blockly.DELETE_VARIABLE_ID=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.DeleteArea=DeleteArea$$module$build$src$core$delete_area;module$build$src$core$blockly.DragTarget=DragTarget$$module$build$src$core$drag_target;module$build$src$core$blockly.DropDownDiv=module$build$src$core$dropdowndiv;\nmodule$build$src$core$blockly.Events=module$build$src$core$events$events;module$build$src$core$blockly.Extensions=module$build$src$core$extensions;module$build$src$core$blockly.Field=Field$$module$build$src$core$field;module$build$src$core$blockly.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;module$build$src$core$blockly.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;module$build$src$core$blockly.FieldImage=FieldImage$$module$build$src$core$field_image;\nmodule$build$src$core$blockly.FieldLabel=FieldLabel$$module$build$src$core$field_label;module$build$src$core$blockly.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;module$build$src$core$blockly.FieldNavigationPolicy=FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy;module$build$src$core$blockly.FieldNumber=FieldNumber$$module$build$src$core$field_number;module$build$src$core$blockly.FieldTextInput=$.FieldTextInput$$module$build$src$core$field_textinput;\nmodule$build$src$core$blockly.FieldVariable=FieldVariable$$module$build$src$core$field_variable;module$build$src$core$blockly.Flyout=Flyout$$module$build$src$core$flyout_base;module$build$src$core$blockly.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;module$build$src$core$blockly.FlyoutButtonNavigationPolicy=FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy;module$build$src$core$blockly.FlyoutItem=FlyoutItem$$module$build$src$core$flyout_item;\nmodule$build$src$core$blockly.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;module$build$src$core$blockly.FlyoutNavigationPolicy=FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy;module$build$src$core$blockly.FlyoutNavigator=FlyoutNavigator$$module$build$src$core$flyout_navigator;module$build$src$core$blockly.FlyoutSeparator=FlyoutSeparator$$module$build$src$core$flyout_separator;\nmodule$build$src$core$blockly.FlyoutSeparatorNavigationPolicy=FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy;module$build$src$core$blockly.FocusManager=FocusManager$$module$build$src$core$focus_manager;module$build$src$core$blockly.FocusableTreeTraverser=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser;module$build$src$core$blockly.Generator=$.CodeGenerator$$module$build$src$core$generator;\nmodule$build$src$core$blockly.Gesture=Gesture$$module$build$src$core$gesture;module$build$src$core$blockly.Grid=Grid$$module$build$src$core$grid;module$build$src$core$blockly.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;module$build$src$core$blockly.INPUT_VALUE=INPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$blockly.InsertionMarkerPreviewer=InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer;\nmodule$build$src$core$blockly.KeyboardNavigationController=KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$blockly.LabelFlyoutInflater=LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater;module$build$src$core$blockly.LineCursor=LineCursor$$module$build$src$core$keyboard_nav$line_cursor;module$build$src$core$blockly.Marker=Marker$$module$build$src$core$keyboard_nav$marker;module$build$src$core$blockly.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;\nmodule$build$src$core$blockly.Menu=Menu$$module$build$src$core$menu;module$build$src$core$blockly.MenuItem=MenuItem$$module$build$src$core$menuitem;module$build$src$core$blockly.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;module$build$src$core$blockly.Msg=$.Msg$$module$build$src$core$msg;module$build$src$core$blockly.NEXT_STATEMENT=NEXT_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.Names=$.Names$$module$build$src$core$names;\nmodule$build$src$core$blockly.Navigator=Navigator$$module$build$src$core$navigator;module$build$src$core$blockly.OPPOSITE_TYPE=OPPOSITE_TYPE$$module$build$src$core$internal_constants;module$build$src$core$blockly.OUTPUT_VALUE=OUTPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Options=Options$$module$build$src$core$options;module$build$src$core$blockly.PREVIOUS_STATEMENT=PREVIOUS_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.PROCEDURE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$procedures;\nmodule$build$src$core$blockly.Procedures=module$build$src$core$procedures;module$build$src$core$blockly.RENAME_VARIABLE_ID=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.RenderedConnection=RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$blockly.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;module$build$src$core$blockly.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;\nmodule$build$src$core$blockly.SeparatorFlyoutInflater=SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater;module$build$src$core$blockly.ShortcutItems=module$build$src$core$shortcut_items;module$build$src$core$blockly.ShortcutRegistry=ShortcutRegistry$$module$build$src$core$shortcut_registry;module$build$src$core$blockly.TOOLBOX_AT_BOTTOM=TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_LEFT=TOOLBOX_AT_LEFT$$module$build$src$core$blockly;\nmodule$build$src$core$blockly.TOOLBOX_AT_RIGHT=TOOLBOX_AT_RIGHT$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_TOP=TOOLBOX_AT_TOP$$module$build$src$core$blockly;module$build$src$core$blockly.Theme=Theme$$module$build$src$core$theme;module$build$src$core$blockly.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;module$build$src$core$blockly.Themes=module$build$src$core$theme$themes;module$build$src$core$blockly.Toast=Toast$$module$build$src$core$toast;\nmodule$build$src$core$blockly.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;module$build$src$core$blockly.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;module$build$src$core$blockly.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;module$build$src$core$blockly.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;module$build$src$core$blockly.Tooltip=module$build$src$core$tooltip;module$build$src$core$blockly.Touch=module$build$src$core$touch;\nmodule$build$src$core$blockly.Trashcan=Trashcan$$module$build$src$core$trashcan;module$build$src$core$blockly.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;module$build$src$core$blockly.VARIABLE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables;module$build$src$core$blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables_dynamic;module$build$src$core$blockly.VERSION=VERSION$$module$build$src$core$blockly;\nmodule$build$src$core$blockly.VariableMap=VariableMap$$module$build$src$core$variable_map;module$build$src$core$blockly.VariableModel=VariableModel$$module$build$src$core$variable_model;module$build$src$core$blockly.Variables=module$build$src$core$variables;module$build$src$core$blockly.VariablesDynamic=module$build$src$core$variables_dynamic;module$build$src$core$blockly.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;module$build$src$core$blockly.WidgetDiv=module$build$src$core$widgetdiv;\nmodule$build$src$core$blockly.Workspace=Workspace$$module$build$src$core$workspace;module$build$src$core$blockly.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;module$build$src$core$blockly.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;module$build$src$core$blockly.WorkspaceNavigationPolicy=WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy;module$build$src$core$blockly.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;\nmodule$build$src$core$blockly.Xml=module$build$src$core$xml;module$build$src$core$blockly.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;module$build$src$core$blockly.blockAnimations=module$build$src$core$block_animations;module$build$src$core$blockly.blockRendering=module$build$src$core$renderers$common$block_rendering;module$build$src$core$blockly.browserEvents=module$build$src$core$browser_events;module$build$src$core$blockly.bubbles=module$build$src$core$bubbles;\nmodule$build$src$core$blockly.bumpObjects=module$build$src$core$bump_objects;module$build$src$core$blockly.clipboard=module$build$src$core$clipboard;module$build$src$core$blockly.comments=module$build$src$core$comments;module$build$src$core$blockly.common=module$build$src$core$common;module$build$src$core$blockly.config=$.config$$module$build$src$core$config;module$build$src$core$blockly.constants=module$build$src$core$constants;module$build$src$core$blockly.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;\nmodule$build$src$core$blockly.dialog=module$build$src$core$dialog;module$build$src$core$blockly.dragging=module$build$src$core$dragging;module$build$src$core$blockly.fieldRegistry=module$build$src$core$field_registry;module$build$src$core$blockly.geras=module$build$src$core$renderers$geras$geras;module$build$src$core$blockly.getFocusManager=$.getFocusManager$$module$build$src$core$focus_manager;module$build$src$core$blockly.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;\nmodule$build$src$core$blockly.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$blockly.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;module$build$src$core$blockly.hideChaff=hideChaff$$module$build$src$core$blockly;module$build$src$core$blockly.icons=module$build$src$core$icons;module$build$src$core$blockly.inject=inject$$module$build$src$core$inject;module$build$src$core$blockly.inputs=module$build$src$core$inputs;\nmodule$build$src$core$blockly.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;module$build$src$core$blockly.isDeletable=isDeletable$$module$build$src$core$interfaces$i_deletable;module$build$src$core$blockly.isDraggable=isDraggable$$module$build$src$core$interfaces$i_draggable;module$build$src$core$blockly.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;module$build$src$core$blockly.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;\nmodule$build$src$core$blockly.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;module$build$src$core$blockly.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;module$build$src$core$blockly.isSelectable=isSelectable$$module$build$src$core$interfaces$i_selectable;module$build$src$core$blockly.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;module$build$src$core$blockly.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;\nmodule$build$src$core$blockly.keyboardNavigationController=keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$blockly.layers=module$build$src$core$layers;module$build$src$core$blockly.navigateBlock=navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.navigateStacks=navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.procedures=module$build$src$core$procedures;\nmodule$build$src$core$blockly.registry=module$build$src$core$registry;module$build$src$core$blockly.renderManagement=module$build$src$core$render_management;module$build$src$core$blockly.serialization=module$build$src$core$serialization;module$build$src$core$blockly.setLocale=setLocale$$module$build$src$core$msg;module$build$src$core$blockly.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$blockly.svgResize=svgResize$$module$build$src$core$common;\nmodule$build$src$core$blockly.thrasos=module$build$src$core$renderers$thrasos$thrasos;module$build$src$core$blockly.uiPosition=module$build$src$core$positionable_helpers;module$build$src$core$blockly.utils=module$build$src$core$utils;module$build$src$core$blockly.zelos=module$build$src$core$renderers$zelos$zelos;var module$build$src$core$utils$metrics={};var module$build$src$core$renderers$common$i_path_object={};var module$build$src$core$interfaces$i_variable_model={};var module$build$src$core$interfaces$i_variable_map={};var module$build$src$core$interfaces$i_toolbox_item={};var module$build$src$core$interfaces$i_toolbox={};var module$build$src$core$interfaces$i_styleable={};var module$build$src$core$interfaces$i_serializer={};var module$build$src$core$interfaces$i_registrable={};var module$build$src$core$interfaces$i_procedure_model={};var module$build$src$core$interfaces$i_procedure_map={};var module$build$src$core$interfaces$i_positionable={};var module$build$src$core$interfaces$i_parameter_model={};var module$build$src$core$interfaces$i_movable={};var module$build$src$core$interfaces$i_metrics_manager={};var module$build$src$core$interfaces$i_keyboard_accessible={};var module$build$src$core$interfaces$i_focusable_tree={};module$build$src$core$interfaces$i_focusable_tree.isFocusableTree=isFocusableTree$$module$build$src$core$interfaces$i_focusable_tree;var module$build$src$core$interfaces$i_flyout_inflater={};var module$build$src$core$interfaces$i_flyout={};var module$build$src$core$interfaces$i_dragger={};var module$build$src$core$interfaces$i_drag_target={};var module$build$src$core$interfaces$i_delete_area={};var module$build$src$core$interfaces$i_contextmenu={};var module$build$src$core$interfaces$i_connection_previewer={};var module$build$src$core$interfaces$i_connection_checker={};var module$build$src$core$interfaces$i_component={};var module$build$src$core$interfaces$i_collapsible_toolbox_item={};var module$build$src$core$interfaces$i_bubble={};var module$build$src$core$interfaces$i_bounded_element={};\nmodule$build$src$core$blockly.__namespace__=$;\nreturn module$build$src$core$blockly;\n}));\n\n\n//# sourceMappingURL=blockly_compressed.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvYmxvY2tseV9jb21wcmVzc2VkLmpzIiwibWFwcGluZ3MiOiJBQUFBLDBIQUEwQjs7QUFFMUI7QUFDQSxDQUFDO0FBQ0QsTUFBTSxJQUEwQyxJQUFJO0FBQ3BELElBQUksaUNBQU8sRUFBRSxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLGtHQUFDO0FBQ3ZCLElBQUksS0FBSyxFQUlOO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxpRkFBaUYsRUFBRSxtSEFBbUgsS0FBSyxFQUFFLGdCQUFnQixnSEFBZ0gsd0JBQXdCLG1EQUFtRDtBQUNuZCw2Q0FBNkMsdUlBQXVJLDhDQUE4Qyx3RkFBd0YsT0FBTztBQUNqVSx1REFBdUQsVUFBVTtBQUNqRSx5REFBeUQsS0FBSyxFQUFFLGdCQUFnQixrQkFBa0IsbURBQW1EO0FBQ3JKLHdEQUF3RCxLQUFLLEVBQUUsZ0JBQWdCLGtCQUFrQixtREFBbUQsY0FBYyxtREFBbUQsb0VBQW9FLGdCQUFnQixZQUFZLGFBQWEsc0RBQXNELEtBQUssRUFBRSxnQkFBZ0Isa0JBQWtCO0FBQ2phLHlEQUF5RCx1REFBdUQsMERBQTBEO0FBQzFLLDREQUE0RCxLQUFLLEVBQUUsZ0JBQWdCLGlEQUFpRCxPQUFPLHFCQUFxQixFQUFFLG9CQUFvQixvQkFBb0IsR0FBRyxpQ0FBaUMsR0FBRyxVQUFVLGdCQUFnQixZQUFZLGVBQWUsNkNBQTZDLHNCQUFzQiwyQ0FBMkM7QUFDcFos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R0FBeUcsaUdBQWlHO0FBQzFaLCtGQUErRiwyRkFBMkYsdUVBQXVFLDZGQUE2Rix3RUFBd0U7QUFDdGEscUZBQXFGLHNHQUFzRyxrR0FBa0cseUdBQXlHLG9FQUFvRTtBQUMxYyxnRkFBZ0YscUdBQXFHLG9HQUFvRyxvSEFBb0g7QUFDN1ksMEZBQTBGLGdHQUFnRyx3RUFBd0UsdUZBQXVGLG1HQUFtRztBQUM1YixtRkFBbUYsbUdBQW1HLHlHQUF5RyxrSkFBa0o7QUFDamIsNERBQTRELDZGQUE2RixxRkFBcUYsb0dBQW9HLGlGQUFpRjtBQUNuYSw2RUFBNkUsd0VBQXdFLHNFQUFzRSxrRUFBa0UsNEVBQTRFLHdFQUF3RTtBQUNqYixrRUFBa0Usc0VBQXNFLGlGQUFpRixnRkFBZ0YscUdBQXFHO0FBQzlZLG9GQUFvRixpR0FBaUcsaUZBQWlGLGdFQUFnRSwwRUFBMEU7QUFDaFosaUdBQWlHLG9HQUFvRyxvR0FBb0cscUZBQXFGO0FBQzlYLDJGQUEyRix1SEFBdUgsdUdBQXVHLDZHQUE2RztBQUN0YSw4SUFBOEksa0VBQWtFLHNIQUFzSCx3SEFBd0g7QUFDOWIsc0VBQXNFLHVGQUF1RixnRkFBZ0YsNkVBQTZFLGtHQUFrRztBQUM1WixzRkFBc0Ysb0ZBQW9GLGdFQUFnRSxnRkFBZ0YsMkNBQTJDLDREQUE0RCx5REFBeUQsdURBQXVELHVEQUF1RCxrREFBa0Qsb0RBQW9ELHFEQUFxRCxzREFBc0QsMERBQTBELHdEQUF3RCx1REFBdUQsMERBQTBELGtEQUFrRCwwREFBMEQsOERBQThELHlEQUF5RCxxSUFBcUksMERBQTBELGlEQUFpRCxrREFBa0Qsc0RBQXNELHNEQUFzRCxzREFBc0QsK0RBQStELDZEQUE2RCxvREFBb0QsbUVBQW1FLGlEQUFpRDtBQUN2OEQ7QUFDQTtBQUNBLENBQUM7OztBQUdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL25vZGVfbW9kdWxlcy9ibG9ja2x5L2Jsb2NrbHlfY29tcHJlc3NlZC5qcz82Mjc4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIERvIG5vdCBlZGl0IHRoaXMgZmlsZTsgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQuXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyAvLyBBTURcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgeyAvLyBOb2RlLmpzXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7IC8vIFNjcmlwdFxuICAgIHJvb3QuQmxvY2tseSA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbnZhciAkPXt9O1xudmFyIHJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksdmFsaWRhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSx1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksZ2V0SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LGhhc0l0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxnZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LGdldE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LGdldEFsbEl0ZW1zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LGxvbmdTdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLGxvbmdTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gsY2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCxcbnNob3VsZEhhbmRsZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gsZ2V0VG91Y2hJZGVudGlmaWVyRnJvbUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gsY2hlY2tUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCxjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyxiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMsdW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMsaXNUYXJnZXRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLGlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyxtb3VzZVRvU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMsZ2V0U2Nyb2xsRGVsdGFQaXhlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyxcbmdldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yLGdlblVpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yLGlzQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0Jsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNWYXJDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc1ZhckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLFxuaXNWYXJSZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0Jsb2NrRHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzU2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0NsaWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNUcmFzaGNhbk9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc1Rvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNUaGVtZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzVmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0NvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxcbmlzQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQ29tbWVudENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQ29tbWVudE1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0NvbW1lbnRSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0NvbW1lbnREcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNDb21tZW50Q29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0ZpbmlzaGVkTG9hZGluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxmaXJlSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsXG5maXJlTm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGVucXVldWVFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxmaWx0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsY2xlYXJQZW5kaW5nVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsc2V0R3JvdXBJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxnZXREZXNjZW5kYW50SWRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxkaXNhYmxlT3JwaGFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFxuYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20scmVtb3ZlQ2xhc3NlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxoYXNDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLGluc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHNldENzc1RyYW5zZm9ybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxzdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHN0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxnZXRUZXh0V2lkdGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sZ2V0RmFzdFRleHRXaWR0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcbmdldEZhc3RUZXh0V2lkdGhXaXRoU2l6ZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxtZWFzdXJlRm9udE1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20saXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlLGlzU2VsZWN0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlLGRlZXBNZXJnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdCxnZXRXb3Jrc3BhY2VCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldEFsbFdvcmtzcGFjZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24scmVnaXN0ZXJXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sdW5yZWdpc3RlcldvcmtwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sXG5zZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLHNldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixzZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sc3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldEJsb2NrVHlwZUNvdW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixqc29uSW5pdEZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixkZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5SW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sXG5nbG9iYWxTaG9ydGN1dEhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24scmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5LHJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzLGluamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcyxnZXRTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUsZ2V0U2l6ZUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUsZ2V0U2l6ZVdpdGhEaXNwbGF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUsZ2V0Q29tcHV0ZWRTdHlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLGdldFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRWaWV3cG9ydFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRCb3JkZXJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxcbnNjcm9sbEludG9Db250YWluZXJWaWV3JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUsZ2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUsZ2V0UmVsYXRpdmVYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLGdldEluamVjdGlvbkRpdlhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgsZ2V0Vmlld3BvcnRCQm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgsZ2V0RG9jdW1lbnRTY3JvbGwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCxzY3JlZW5Ub1dzQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCx3c1RvU2NyZWVuQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCxpbmplY3REZXBlbmRlbmNpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsXG5kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsc2FuaXRpemVUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLGNvbnZlcnRUb29sYm94RGVmVG9Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCx2YWxpZGF0ZVRvb2xib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LGNvbnZlcnRGbHlvdXREZWZUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gsaGFzQ2F0ZWdvcmllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gsaGFzQ2F0ZWdvcmllc0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCxpc0NhdGVnb3J5Q29sbGFwc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LGNvbnZlcnRUb1Rvb2xib3hKc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCx4bWxUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gsXG5hZGRBdHRyaWJ1dGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCxwYXJzZVRvb2xib3hUcmVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCxnZXRTdGFydFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLGdldENvcm5lck9wcG9zaXRlVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLGJ1bXBQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycyxyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnksdW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnksc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzLGFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzLFxucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkcmVnaXN0cnksdW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeSxtb3ZlQ29tbWVudFRvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyLGNvbW1lbnRPdmVybGFwc090aGVyRXhhY3RseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIsc2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEsc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLGlzU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZSxxdWV1ZVJlbmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LGZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxcbnRyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQsYWx3YXlzSW1tZWRpYXRlbHlSZW5kZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxxdWV1ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQsZG9SZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQsZGVxdWV1ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQsc2hvdWxkUmVuZGVyUm9vdEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQscmVuZGVyQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxhbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxzZXRBbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxjb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLFxuc2V0Q29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxwcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csc2V0UHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLHRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLHNldFRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLGlzTGVnYWN5UHJvY2VkdXJlRGVmQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MsaXNMZWdhY3lQcm9jZWR1cmVDYWxsQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MsaXNWYXJpYWJsZUJhY2tlZFBhcmFtZXRlck1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX2JhY2tlZF9wYXJhbWV0ZXJfbW9kZWwsd2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uLFxuaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxmbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxnZW5lcmF0ZVZhcmlhYmxlRmllbGRKc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGpzb25GbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyx4bWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxmbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxnZW5lcmF0ZVVuaXF1ZU5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsZ2VuZXJhdGVVbmlxdWVOYW1lSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsZ2VuZXJhdGVVbmlxdWVOYW1lRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsXG5jcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMscHJvbXB0TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxuYW1lVXNlZFdpdGhPdGhlclR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsbmFtZVVzZWRXaXRoQW55VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxuYW1lVXNlZFdpdGhDb25mbGljdGluZ1BhcmFtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGNoZWNrRm9yQ29uZmxpY3RpbmdQYXJhbVdpdGhQcm9jZWR1cmVNb2RlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsY2hlY2tGb3JDb25mbGljdGluZ1BhcmFtV2l0aExlZ2FjeVByb2NlZHVyZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGNyZWF0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLFxuZ2V0QWRkZWRWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsY29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxnZXRWYXJpYWJsZVVzZXNCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLHNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxzYXZlQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLHNhdmVDb29yZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxzYXZlRXh0cmFTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLHNhdmVJY29ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLHNhdmVGaWVsZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxzYXZlSW5wdXRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxcbnNhdmVOZXh0QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3Msc2F2ZUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxhcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxhcHBlbmRJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGFwcGVuZFByaXZhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxjaGVja05ld1ZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGxvYWRDb29yZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyxsb2FkQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGxvYWRFeHRyYVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsXG50cnlUb0Nvbm5lY3RQYXJlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyxsb2FkSWNvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyxsb2FkRmllbGRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsbG9hZElucHV0QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsbG9hZE5leHRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyxsb2FkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGluaXRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGhhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlLHRvUmFkaWFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgsXG50b0RlZ3JlZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoLGNsYW1wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aCxjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixzZXRCb3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsZ2V0T3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixnZXRDb250ZW50RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsY2xlYXJDb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsc2V0Q29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsc2hvd1Bvc2l0aW9uZWRCeUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsc2hvd1Bvc2l0aW9uZWRCeUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsZ2V0U2NhbGVkQmJveE9mQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixcbmdldFNjYWxlZEJib3hPZkZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsc2hvd1Bvc2l0aW9uZWRCeVJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsZ2V0UG9zaXRpb25CZWxvd01ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixnZXRQb3NpdGlvbkFib3ZlTWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGdldFBvc2l0aW9uVG9wT2ZQYWdlTWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGdldFBvc2l0aW9uWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGlzVmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGhpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsaGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LFxuaGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixwb3NpdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYscmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LHNob3J0ZXN0U3RyaW5nTGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLGNvbW1vbldvcmRQcmVmaXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcsY29tbW9uV29yZFN1ZmZpeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyx3cmFwTGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyx3cmFwU2NvcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcsd3JhcE11dGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyx3cmFwVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLFxuc2V0Q3VzdG9tVG9vbHRpcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsZ2V0Q3VzdG9tVG9vbHRpcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsaXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxnZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGdldFRvb2x0aXBPZk9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsZ2V0VGFyZ2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGJpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsdW5iaW5kTW91c2VFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLG9uTW91c2VPdmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxvbk1vdXNlT3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxvbk1vdXNlTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsXG5kaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxibG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsdW5ibG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAscmVuZGVyQ29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAscmVuZGVyRGVmYXVsdENvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGdldFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxnZXRIc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLHNldEhzdlNhdHVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIsZ2V0SHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIsc2V0SHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIsXG5wYXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixyZ2JUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixoZXhUb1JnYiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixoc3ZUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixibGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixodWVUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cix0b2tlbml6ZUludGVycG9sYXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcsdG9rZW5pemVJbnRlcnBvbGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyxyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nLGNoZWNrTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nLFxucGFyc2VCbG9ja0NvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcsZ2V0RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LHRlc3RPbmx5X3NldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGlzVmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixoaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixoaWRlSWZPd25lcklzSW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYscG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixwb3NpdGlvbldpdGhBbmNob3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsXG5jYWxjdWxhdGVYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGNhbGN1bGF0ZVkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsaXNSZXBvc2l0aW9uYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixyZXBvc2l0aW9uRm9yV2luZG93UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGdldEN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LHNldEN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LHNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSxwb3B1bGF0ZV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSxwb3NpdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSxjcmVhdGVXaWRnZXRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsaGFsdFByb3BhZ2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsXG5oaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LG1vdXNlVG9Xb3Jrc3BhY2VQb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcsc3RhcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnLG1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnLHdvcmtzcGFjZVRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLHNhdmVXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLHZhcmlhYmxlc1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGJsb2NrVG9Eb21XaXRoWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsZmllbGRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxhbGxGaWVsZHNUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLFxuY2xvbmVTaGFkb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGRvbVRvUHJldHR5VGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxjbGVhcldvcmtzcGFjZUFuZExvYWRGcm9tWG1sJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGxvYWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGFwcGVuZERvbVRvV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGRvbVRvQmxvY2tJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxkb21Ub1ZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxtYXBTdXBwb3J0ZWRYbWxUYWdzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGFwcGx5TXV0YXRpb25UYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxhcHBseUNvbW1lbnRUYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxcbmFwcGx5RGF0YVRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGFwcGx5RmllbGRUYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxmaW5kQ2hpbGRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsYXBwbHlJbnB1dFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGFwcGx5TmV4dFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGRvbVRvQmxvY2tIZWFkbGVzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxkb21Ub0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGRlbGV0ZU5leHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsaXNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLHJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnksdW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5LGZyb21Kc29uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSxcbmlzSW1hZ2VQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24sdW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsaXNSZWdpc3RlcmVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxhcHBseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsY2hlY2tOb011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja1htbEhvb2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja0pzb25Ib29rcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsY2hlY2tNdXRhdG9yRGlhbG9nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja0hhc0Z1bmN0aW9uUGFpciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsY2hlY2tIYXNNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsXG5nZXRNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsbXV0YXRvclByb3BlcnRpZXNNYXRjaCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMscnVuQWZ0ZXJQYWdlTG9hZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMsY2hlY2tEcm9wZG93bk9wdGlvbnNJblRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxleHRlbnNpb25QYXJlbnRUb29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxtb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMsbW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLGxpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxcbmxpbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMsbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxhcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMsY29ubmVjdFJlY2lwcm9jYWxseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24sZ2V0U2luZ2xlQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24sZ2V0Q29ubmVjdGlvbkZvck9ycGhhbmVkT3V0cHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbixpc0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaWNvbixpc0NvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvbW1lbnRfaWNvbixkaXNwb3NlVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLGRpc3Bvc2VVaVN0ZXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLFxuY29ubmVjdGlvblVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucyxkaXNjb25uZWN0VWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLGRpc2Nvbm5lY3RVaVN0ZXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLGRpc2Nvbm5lY3RVaVN0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLG1vdmVCbG9ja1RvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLGJsb2NrT3ZlcmxhcHNPdGhlckV4YWN0bHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLGJsb2NrSXNJblNuYXBSYWRpdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLGJ1bXBPYmplY3RJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzLGJ1bXBJbnRvQm91bmRzSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyxcbmV4dHJhY3RPYmplY3RGcm9tRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMsYnVtcFRvcE9iamVjdHNJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzLGlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZSxnZXRCbG9ja05hdmlnYXRpb25DYW5kaWRhdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5LG5hdmlnYXRlU3RhY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5LG5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3kscmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRyZWdpc3RyeSx1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnksXG5pc0RyYWdnYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGUsaXNBdXRvSGlkZWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfYXV0b2hpZGVhYmxlLGlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrLGlzT2JzZXJ2YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9vYnNlcnZhYmxlLGFsbFByb2NlZHVyZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLHByb2NUdXBsZUNvbXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLGlzTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxpc05hbWVVc2VkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyx4bWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsXG5mbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsdXBkYXRlTXV0YXRvckZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsbXV0YXRvck9wZW5MaXN0ZW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsbXV0YXRvckNoYW5nZUxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxnZXRDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxibG9ja0lzTW9kZXJuQ2FsbGVyRm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxpc0R5bmFtaWNTaGFwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzLGlzUHV6emxlVGFiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMsaXNOb3RjaCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzLHJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcsXG51bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcsaW5pdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLHN0cmluZ0J1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLG51bWJlckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLGNvbG91ckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLGludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyxmbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLHhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsXG5mbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLHJlc2l6ZVN2Z0NvbnRlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zyxjb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLGdldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLHNldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLGdldExhc3RDb3BpZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsc2V0TGFzdENvcGllZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCxnZXRMYXN0Q29waWVkTG9jYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsc2V0TGFzdENvcGllZExvY2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLHBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLFxucGFzdGVGcm9tRGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCxpc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvcHlhYmxlLHJlZ2lzdGVyRXNjYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMscmVnaXN0ZXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyxpc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMsaXNDdXR0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLHJlZ2lzdGVyQ29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLHJlZ2lzdGVyQ3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMscmVnaXN0ZXJQYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLHJlZ2lzdGVyVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLFxucmVnaXN0ZXJSZWRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMscmVnaXN0ZXJEZWZhdWx0U2hvcnRjdXRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMsc2F2ZVByb2NlZHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlcyxsb2FkUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzLHNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZXMsbG9hZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlcyxpbmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QsY3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0LGNyZWF0ZU1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QsaW5pdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdCxcbmJpbmREb2N1bWVudEV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdCxsb2FkU291bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0LGlzRnVsbEJsb2NrRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlclVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNsZWFudXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyx0b2dnbGVPcHRpb25fJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyRXhwYW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMsYWRkRGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLFxuZ2V0RGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLGRlbGV0ZU5leHRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJEZWxldGVBbGwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlcldvcmtzcGFjZU9wdGlvbnNfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJEdXBsaWNhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlcklubGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ29sbGFwc2VFeHBhbmRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyRGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLFxucmVnaXN0ZXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckhlbHAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNvbW1lbnREdXBsaWNhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckJsb2NrT3B0aW9uc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNvbW1lbnRPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJEZWZhdWx0T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLGlzUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Bhc3RlcixcbmlzUmVuZGVyZWRFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3JlbmRlcmVkX2VsZW1lbnQsaXNTZWxlY3RhYmxlVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZV90b29sYm94X2l0ZW0saGlkZUNoYWZmJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseSxpc0ZvY3VzYWJsZVRyZWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX3RyZWUsJGpzY29tcDtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoIShhIGluc3RhbmNlb2YgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KSYmdHlwZW9mIGEhPT1cInN0cmluZ1wifHxgJHthfWAudHJpbSgpPT09XCJcIil0aHJvdyBFcnJvcignSW52YWxpZCB0eXBlIFwiJythKydcIi4gVGhlIHR5cGUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBCbG9ja2x5LnJlZ2lzdHJ5LlR5cGUuJyk7YT1gJHthfWAudG9Mb3dlckNhc2UoKTtpZih0eXBlb2YgYiE9PVwic3RyaW5nXCJ8fGIudHJpbSgpPT09XCJcIil0aHJvdyBFcnJvcignSW52YWxpZCBuYW1lIFwiJytiKydcIi4gVGhlIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyk7Y29uc3QgZT1iLnRvTG93ZXJDYXNlKCk7aWYoIWMpdGhyb3cgRXJyb3IoXCJDYW4gbm90IHJlZ2lzdGVyIGEgbnVsbCB2YWx1ZVwiKTtsZXQgZj10eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV0sXG5nPW5hbWVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXTtmfHwoZj10eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV09T2JqZWN0LmNyZWF0ZShudWxsKSxnPW5hbWVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXT1PYmplY3QuY3JlYXRlKG51bGwpKTt2YWxpZGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KGEsYyk7aWYoIWQmJmZbZV0mJmZbZV0hPT1jKXRocm93IEVycm9yKCdOYW1lIFwiJytlKydcIiB3aXRoIHR5cGUgXCInK2ErJ1wiIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTtmW2VdPWM7Z1tlXT1ifTtcbnZhbGlkYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSBTdHJpbmcoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZJRUxEKTppZih0eXBlb2YgYi5mcm9tSnNvbiE9PVwiZnVuY3Rpb25cIil0aHJvdyBFcnJvcignVHlwZSBcIicrYSsnXCIgbXVzdCBoYXZlIGEgZnJvbUpzb24gZnVuY3Rpb24nKTt9fTtcbnVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1mdW5jdGlvbihhLGIpe2E9YCR7YX1gLnRvTG93ZXJDYXNlKCk7Yj1iLnRvTG93ZXJDYXNlKCk7Y29uc3QgYz10eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV07YyYmY1tiXT8oZGVsZXRlIHR5cGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXVtiXSxkZWxldGUgbmFtZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdW2JdKTpjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gdW5yZWdpc3RlciBbXCIrYitcIl1bXCIrYStcIl0gZnJvbSB0aGUgcmVnaXN0cnkuXCIpfTtcbmdldEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1mdW5jdGlvbihhLGIsYyl7YT1gJHthfWAudG9Mb3dlckNhc2UoKTtiPWIudG9Mb3dlckNhc2UoKTtjb25zdCBkPXR5cGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXTtpZighZHx8IWRbYl0pe2I9XCJVbmFibGUgdG8gZmluZCBbXCIrYitcIl1bXCIrYStcIl0gaW4gdGhlIHJlZ2lzdHJ5LlwiO2lmKGMpdGhyb3cgRXJyb3IoYitcIiBZb3UgbXVzdCByZXF1aXJlIG9yIHJlZ2lzdGVyIGEgXCIrYStcIiBwbHVnaW4uXCIpO2NvbnNvbGUud2FybihiKTtyZXR1cm4gbnVsbH1yZXR1cm4gZFtiXX07aGFzSXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYil7YT1gJHthfWAudG9Mb3dlckNhc2UoKTtiPWIudG9Mb3dlckNhc2UoKTtyZXR1cm4oYT10eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV0pPyEhYVtiXTohMX07XG5nZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZ2V0SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KGEsYixjKX07Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBnZXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoYSxiLGMpfTtcbmdldEFsbEl0ZW1zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiLGMpe2E9YCR7YX1gLnRvTG93ZXJDYXNlKCk7dmFyIGQ9dHlwZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdO2lmKCFkKXtkPWBVbmFibGUgdG8gZmluZCBbJHthfV0gaW4gdGhlIHJlZ2lzdHJ5LmA7aWYoYyl0aHJvdyBFcnJvcihgJHtkfSBZb3UgbXVzdCByZXF1aXJlIG9yIHJlZ2lzdGVyIGEgJHthfSBwbHVnaW4uYCk7Y29uc29sZS53YXJuKGQpO3JldHVybiBudWxsfWlmKCFiKXJldHVybiBkO2E9bmFtZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdO2M9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhkKSljW2FbZV1dPWRbZV07cmV0dXJuIGN9O1xuZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYixjKXtiPWIucGx1Z2luc1tTdHJpbmcoYSldfHxERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk7cmV0dXJuIHR5cGVvZiBiPT09XCJmdW5jdGlvblwiP2I6Z2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShhLGIsYyl9O2xvbmdTdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPWZ1bmN0aW9uKGEsYil7bG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO2xvbmdQaWRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9c2V0VGltZW91dChmdW5jdGlvbigpe2ImJmIuaGFuZGxlUmlnaHRDbGljayhhKX0sTE9OR1BSRVNTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gpfTtcbmxvbmdTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9ZnVuY3Rpb24oKXtsb25nUGlkXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoJiYoY2xlYXJUaW1lb3V0KGxvbmdQaWRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gpLGxvbmdQaWRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9MCl9O2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9ZnVuY3Rpb24oKXt0b3VjaElkZW50aWZpZXJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9bnVsbH07c2hvdWxkSGFuZGxlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1mdW5jdGlvbihhKXtyZXR1cm4hYS50eXBlLnN0YXJ0c1dpdGgoXCJwb2ludGVyXCIpfHxhIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50JiZjaGVja1RvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEpfTtcbmdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPWZ1bmN0aW9uKGEpe3JldHVybmAke2EucG9pbnRlcklkfWB9O2NoZWNrVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9ZnVuY3Rpb24oYSl7Y29uc3QgYj1nZXRUb3VjaElkZW50aWZpZXJGcm9tRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaChhKTtyZXR1cm4gdG91Y2hJZGVudGlmaWVyXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoP3RvdWNoSWRlbnRpZmllcl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD09PWI6YS50eXBlPT09XCJwb2ludGVyZG93blwiPyh0b3VjaElkZW50aWZpZXJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9YiwhMCk6ITF9O1xuY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM9ZnVuY3Rpb24oYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGgpe2lmKGV8fHNob3VsZEhhbmRsZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goaCkpYz9kLmNhbGwoYyxoKTpkKGgpfWNvbnN0IGc9W107aWYoYiBpbiBUT1VDSF9NQVAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaClmb3IobGV0IGg9MDtoPFRPVUNIX01BUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoW2JdLmxlbmd0aDtoKyspe2NvbnN0IGs9VE9VQ0hfTUFQJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2hbYl1baF07YS5hZGRFdmVudExpc3RlbmVyKGssZiwhMSk7Zy5wdXNoKFthLGssZl0pfWVsc2UgYS5hZGRFdmVudExpc3RlbmVyKGIsZiwhMSksZy5wdXNoKFthLGIsZl0pO3JldHVybiBnfTtcbmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGcpe2M/ZC5jYWxsKGMsZyk6ZChnKX1jb25zdCBmPVtdO2lmKGIgaW4gVE9VQ0hfTUFQJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gpZm9yKGxldCBnPTA7ZzxUT1VDSF9NQVAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaFtiXS5sZW5ndGg7ZysrKXtjb25zdCBoPVRPVUNIX01BUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoW2JdW2ddO2EuYWRkRXZlbnRMaXN0ZW5lcihoLGUsITEpO2YucHVzaChbYSxoLGVdKX1lbHNlIGEuYWRkRXZlbnRMaXN0ZW5lcihiLGUsITEpLGYucHVzaChbYSxiLGVdKTtyZXR1cm4gZn07XG51bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhKXtjb25zdCBiPWFbYS5sZW5ndGgtMV1bMl07Zm9yKDthLmxlbmd0aDspe2NvbnN0IFtjLGQsZV09YS5wb3AoKTtjLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCExKX1yZXR1cm4gYn07XG5pc1RhcmdldElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM9ZnVuY3Rpb24oYSl7aWYoYS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7aWYoYS50YXJnZXQuaXNDb250ZW50RWRpdGFibGV8fGEudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtaXMtdGV4dC1pbnB1dFwiKT09PVwidHJ1ZVwiKXJldHVybiEwO2lmKGEudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudClyZXR1cm4gYT1hLnRhcmdldCxhLnR5cGU9PT1cInRleHRcInx8YS50eXBlPT09XCJudW1iZXJcInx8YS50eXBlPT09XCJlbWFpbFwifHxhLnR5cGU9PT1cInBhc3N3b3JkXCJ8fGEudHlwZT09PVwic2VhcmNoXCJ8fGEudHlwZT09PVwidGVsXCJ8fGEudHlwZT09PVwidXJsXCI7aWYoYS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KXJldHVybiEwfXJldHVybiExfTtcbmlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdHJsS2V5JiZNQUMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ/ITA6YS5idXR0b249PT0yfTttb3VzZVRvU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9Yi5jcmVhdGVTVkdQb2ludCgpO2QueD1hLmNsaWVudFg7ZC55PWEuY2xpZW50WTtjfHwoYz1iLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7cmV0dXJuIGQubWF0cml4VHJhbnNmb3JtKGMpfTtcbmdldFNjcm9sbERlbHRhUGl4ZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM9ZnVuY3Rpb24oYSl7c3dpdGNoKGEuZGVsdGFNb2RlKXtkZWZhdWx0OnJldHVybnt4OmEuZGVsdGFYLHk6YS5kZWx0YVl9O2Nhc2UgMTpyZXR1cm57eDphLmRlbHRhWCpMSU5FX01PREVfTVVMVElQTElFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLHk6YS5kZWx0YVkqTElORV9NT0RFX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50c307Y2FzZSAyOnJldHVybnt4OmEuZGVsdGFYKlBBR0VfTU9ERV9NVUxUSVBMSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMseTphLmRlbHRhWSpQQUdFX01PREVfTVVMVElQTElFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzfX19O1xuZ2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm5cImJsb2NrbHktXCIrKG5leHRJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKyspLnRvU3RyaW5nKDM2KX07Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gaW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvci5nZW5VaWQoKX07aXNCbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEV9O1xuaXNCbG9ja0RlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEV9O2lzQmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFfTtpc0Jsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRX07XG5pc0Jsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFfTtpc1ZhckNyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFfTtpc1ZhckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfREVMRVRFfTtpc1ZhclJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfUkVOQU1FfTtcbmlzQmxvY2tEcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RSQUd9O2lzU2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuU0VMRUNURUR9O2lzQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ0xJQ0t9O2lzQnViYmxlT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CVUJCTEVfT1BFTn07XG5pc1RyYXNoY2FuT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5UUkFTSENBTl9PUEVOfTtpc1Rvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRPT0xCT1hfSVRFTV9TRUxFQ1R9O2lzVGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVEhFTUVfQ0hBTkdFfTtcbmlzVmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVklFV1BPUlRfQ0hBTkdFfTtpc0NvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DUkVBVEV9O2lzQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RFTEVURX07XG5pc0NvbW1lbnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DSEFOR0V9O2lzQ29tbWVudE1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFfTtpc0NvbW1lbnRSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9SRVNJWkV9O1xuaXNDb21tZW50RHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RSQUd9O2lzQ29tbWVudENvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ09MTEFQU0V9O2lzRmluaXNoZWRMb2FkaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkZJTklTSEVEX0xPQURJTkd9O1xuJC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe3JlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9YX07Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbigpe3JldHVybiByZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzfTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe1RFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5maXJlSW50ZXJuYWwoYSl9O1xuZmlyZUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe2lmKGlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKXtpZighRklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5sZW5ndGgpdHJ5e3JlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3NldFRpbWVvdXQoZmlyZU5vdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscywwKX0pfWNhdGNoKGIpe3NldFRpbWVvdXQoZmlyZU5vdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscywwKX1lbnF1ZXVlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9fTtcbmZpcmVOb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oKXtjb25zdCBhPWZpbHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhGSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKTtGSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmxlbmd0aD0wO2Zvcihjb25zdCBiIG9mIGEpe2lmKCFiLndvcmtzcGFjZUlkKWNvbnRpbnVlO2xldCBjOyhjPWdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYi53b3Jrc3BhY2VJZCkpPT1udWxsfHxjLmZpcmVDaGFuZ2VMaXN0ZW5lcihiKX19O1xuZW5xdWV1ZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe2lmKGlzQmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKSYmYS5lbGVtZW50PT09XCJtdXRhdGlvblwiKXtsZXQgYjtmb3IoYj1GSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmxlbmd0aDtiPjA7Yi0tKXtjb25zdCBjPUZJUkVfUVVFVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHNbYi0xXTtpZihjLmdyb3VwIT09YS5ncm91cHx8Yy53b3Jrc3BhY2VJZCE9PWEud29ya3NwYWNlSWR8fCFpc0Jsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGMpfHxjLm5ld1BhcmVudElkIT09YS5ibG9ja0lkKWJyZWFrfUZJUkVfUVVFVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuc3BsaWNlKGIsMCxhKX1lbHNlIEZJUkVfUVVFVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMucHVzaChhKX07XG5maWx0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1bXTtmb3IoY29uc3QgYyBvZiBhKWlmKGE9YltiLmxlbmd0aC0xXSwhYy5pc051bGwoKSlpZihhJiZhLndvcmtzcGFjZUlkPT09Yy53b3Jrc3BhY2VJZCYmYS5ncm91cD09PWMuZ3JvdXApaWYoaXNCbG9ja01vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhjKSYmaXNCbG9ja01vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKSYmYy5ibG9ja0lkPT09YS5ibG9ja0lkKXtpZihhLm5ld1BhcmVudElkPWMubmV3UGFyZW50SWQsYS5uZXdJbnB1dE5hbWU9Yy5uZXdJbnB1dE5hbWUsYS5uZXdDb29yZGluYXRlPWMubmV3Q29vcmRpbmF0ZSxhLnJlYXNvbnx8Yy5yZWFzb24pe2xldCBkLGU7YS5yZWFzb249QXJyYXkuZnJvbShuZXcgU2V0KCgoZD1hLnJlYXNvbikhPW51bGw/ZDpbXSkuY29uY2F0KChlPWMucmVhc29uKSE9XG5udWxsP2U6W10pKSl9fWVsc2UgaXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGMpJiZpc0Jsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSkmJmMuYmxvY2tJZD09PWEuYmxvY2tJZCYmYy5lbGVtZW50PT09YS5lbGVtZW50JiZjLm5hbWU9PT1hLm5hbWU/YS5uZXdWYWx1ZT1jLm5ld1ZhbHVlOmlzVmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhjKSYmaXNWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpPyhhLnZpZXdUb3A9Yy52aWV3VG9wLGEudmlld0xlZnQ9Yy52aWV3TGVmdCxhLnNjYWxlPWMuc2NhbGUsYS5vbGRTY2FsZT1jLm9sZFNjYWxlKTppc0NsaWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYykmJmlzQnViYmxlT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpfHxcbmIucHVzaChjKTtlbHNlIGIucHVzaChjKTtyZXR1cm4gYT1iLmZpbHRlcihjPT4hYy5pc051bGwoKSl9O2NsZWFyUGVuZGluZ1VuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oKXtmb3IobGV0IGE9MCxiO2I9RklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsc1thXTthKyspYi5yZWNvcmRVbmRvPSExfTskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oKXtkaXNhYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscysrfTskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbigpe2Rpc2FibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLS19O1xuaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKCl7cmV0dXJuIGRpc2FibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPT09MH07JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbigpe3JldHVybiBncm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsc307JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbihhKXtURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuc2V0R3JvdXBJbnRlcm5hbChhKX07XG5zZXRHcm91cEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe2dyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPXR5cGVvZiBhPT09XCJib29sZWFuXCI/YT9nZW5VaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpOlwiXCI6YX07Z2V0RGVzY2VuZGFudElkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbihhKXtjb25zdCBiPVtdO2E9YS5nZXREZXNjZW5kYW50cyghMSk7Zm9yKGxldCBjPTAsZDtkPWFbY107YysrKWJbY109ZC5pZDtyZXR1cm4gYn07XG5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Z2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEudHlwZSk7aWYoIWMpdGhyb3cgRXJyb3IoXCJVbmtub3duIGV2ZW50IHR5cGUuXCIpO3JldHVybiBjLmZyb21Kc29uKGEsYil9O2dldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbihhKXtjb25zdCBiPWdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULGEpO2lmKCFiKXRocm93IEVycm9yKGBFdmVudCB0eXBlICR7YX0gbm90IGZvdW5kIGluIHJlZ2lzdHJ5LmApO3JldHVybiBifTtcbmRpc2FibGVPcnBoYW5zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe2lmKChpc0Jsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpfHxpc0Jsb2NrQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSkpJiZhLndvcmtzcGFjZUlkKXt2YXIgYj1nZXRXb3Jrc3BhY2VCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGEud29ya3NwYWNlSWQpO2lmKCFhLmJsb2NrSWQpdGhyb3cgRXJyb3IoXCJFbmNvdW50ZXJlZCBhIGJsb2NrRXZlbnQgd2l0aG91dCBhIHByb3BlciBibG9ja0lkXCIpO2lmKGE9Yi5nZXRCbG9ja0J5SWQoYS5ibG9ja0lkKSl7Y29uc3QgYz1yZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO3RyeXtyZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPSExO2NvbnN0IGQ9YS5nZXRQYXJlbnQoKTtcbmlmKGQmJiFkLmhhc0Rpc2FibGVkUmVhc29uKE9SUEhBTkVEX0JMT0NLX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscykpe2NvbnN0IGU9YS5nZXREZXNjZW5kYW50cyghMSk7Zm9yKGxldCBmPTAsZztnPWVbZl07ZisrKWcuc2V0RGlzYWJsZWRSZWFzb24oITEsT1JQSEFORURfQkxPQ0tfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKX1lbHNlIGlmKChhLm91dHB1dENvbm5lY3Rpb258fGEucHJldmlvdXNDb25uZWN0aW9uKSYmIWIuaXNEcmFnZ2luZygpKXtkbyBhLnNldERpc2FibGVkUmVhc29uKCEwLE9SUEhBTkVEX0JMT0NLX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyksYT1hLmdldE5leHRCbG9jaygpO3doaWxlKGEpfX1maW5hbGx5e3JlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9Y319fX07XG5jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYixjKXthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sYCR7YX1gKTtmb3IoY29uc3QgZCBpbiBiKWEuc2V0QXR0cmlidXRlKGQsYCR7YltkXX1gKTtjJiZjLmFwcGVuZENoaWxkKGEpO3JldHVybiBhfTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIpe2I9Yi5zcGxpdChcIiBcIik7aWYoYi5ldmVyeShjPT5hLmNsYXNzTGlzdC5jb250YWlucyhjKSkpcmV0dXJuITE7YS5jbGFzc0xpc3QuYWRkKC4uLmIpO3JldHVybiEwfTtyZW1vdmVDbGFzc2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYil7YS5jbGFzc0xpc3QucmVtb3ZlKC4uLmIuc3BsaXQoXCIgXCIpKX07XG5yZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIpe2I9Yi5zcGxpdChcIiBcIik7aWYoYi5ldmVyeShjPT4hYS5jbGFzc0xpc3QuY29udGFpbnMoYykpKXJldHVybiExO2EuY2xhc3NMaXN0LnJlbW92ZSguLi5iKTtyZXR1cm4hMH07aGFzQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jbGFzc0xpc3QuY29udGFpbnMoYil9O3JlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEucGFyZW50Tm9kZT9hLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk6bnVsbH07XG5pbnNlcnRBZnRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi5uZXh0U2libGluZztiPWIucGFyZW50Tm9kZTtpZighYil0aHJvdyBFcnJvcihcIlJlZmVyZW5jZSBub2RlIGhhcyBubyBwYXJlbnQuXCIpO2M/Yi5pbnNlcnRCZWZvcmUoYSxjKTpiLmFwcGVuZENoaWxkKGEpfTtzZXRDc3NUcmFuc2Zvcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSxiKXthLnN0eWxlLnRyYW5zZm9ybT1iO2Euc3R5bGVbXCItd2Via2l0LXRyYW5zZm9ybVwiXT1ifTtcbnN0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oKXtjYWNoZVJlZmVyZW5jZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSsrO2NhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tfHwoY2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209T2JqZWN0LmNyZWF0ZShudWxsKSl9O3N0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbigpe2NhY2hlUmVmZXJlbmNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLS07Y2FjaGVSZWZlcmVuY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb218fChjYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1udWxsKX07XG5nZXRUZXh0V2lkdGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLnRleHRDb250ZW50K1wiXFxuXCIrYS5jbGFzc05hbWUuYmFzZVZhbDt2YXIgYztpZihjYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSYmKGM9Y2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb21bYl0pKXJldHVybiBjO2M9d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSk7Yz1nZXRGYXN0VGV4dFdpZHRoV2l0aFNpemVTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxjLmZvbnRTaXplLGMuZm9udFdlaWdodCxjLmZvbnRGYW1pbHkpO2NhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tJiYoY2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb21bYl09Yyk7cmV0dXJuIGN9O1xuZ2V0RmFzdFRleHRXaWR0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gZ2V0RmFzdFRleHRXaWR0aFdpdGhTaXplU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYitcInB0XCIsYyxkKX07XG5nZXRGYXN0VGV4dFdpZHRoV2l0aFNpemVTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT1hLnRleHRDb250ZW50O2E9ZStcIlxcblwiK2EuY2xhc3NOYW1lLmJhc2VWYWw7dmFyIGY7aWYoY2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20mJihmPWNhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tW2FdKSlyZXR1cm4gZjtjYW52YXNDb250ZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tfHwoZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGYuY2xhc3NOYW1lPVwiYmxvY2tseUNvbXB1dGVDYW52YXNcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpLGNhbnZhc0NvbnRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209Zi5nZXRDb250ZXh0KFwiMmRcIikpO2UmJmNhbnZhc0NvbnRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20/XG4oY2FudmFzQ29udGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5mb250PWMrXCIgXCIrYitcIiBcIitkLGY9Y2FudmFzQ29udGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5tZWFzdXJlVGV4dChlKS53aWR0aCk6Zj0wO2NhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tJiYoY2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb21bYV09Zik7cmV0dXJuIGZ9O1xubWVhc3VyZUZvbnRNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5zdHlsZS5mb250PWMrXCIgXCIrYitcIiBcIitkO2UudGV4dENvbnRlbnQ9YTthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS53aWR0aD1cIjFweFwiO2Euc3R5bGUuaGVpZ2h0PVwiMFwiO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiLnN0eWxlLmRpc3BsYXk9XCJmbGV4XCI7Yi5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCI7Yi5zdHlsZS50b3A9XCIwXCI7Yi5zdHlsZS5sZWZ0PVwiMFwiO2IuYXBwZW5kQ2hpbGQoZSk7Yi5hcHBlbmRDaGlsZChhKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpO2M9e2hlaWdodDowLGJhc2VsaW5lOjB9O3RyeXtiLnN0eWxlLmFsaWduSXRlbXM9XCJiYXNlbGluZVwiLGMuYmFzZWxpbmU9YS5vZmZzZXRUb3AtZS5vZmZzZXRUb3AsYi5zdHlsZS5hbGlnbkl0ZW1zPVxuXCJmbGV4LWVuZFwiLGMuaGVpZ2h0PWEub2Zmc2V0VG9wLWUub2Zmc2V0VG9wfWZpbmFsbHl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChiKX1yZXR1cm4gY307JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuZ2V0Rm9jdXNNYW5hZ2VyKCl9O2lzRm9jdXNhYmxlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0Rm9jdXNhYmxlRWxlbWVudD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0Rm9jdXNhYmxlVHJlZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEub25Ob2RlRm9jdXM9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLm9uTm9kZUJsdXI9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmNhbkJlRm9jdXNlZD09PVwiZnVuY3Rpb25cIn07XG5pc1NlbGVjdGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gaXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlKGEpJiZ0eXBlb2YgYS5pZD09PVwic3RyaW5nXCImJnR5cGVvZiBhLndvcmtzcGFjZT09PVwib2JqZWN0XCImJnR5cGVvZiBhLnNlbGVjdD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEudW5zZWxlY3Q9PT1cImZ1bmN0aW9uXCJ9O1xuZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0PWZ1bmN0aW9uKGEsYil7Zm9yKGNvbnN0IGMgaW4gYiliW2NdIT09bnVsbCYmQXJyYXkuaXNBcnJheShiW2NdKT9hW2NdPWRlZXBNZXJnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdChhW2NdfHxbXSxiW2NdKTphW2NdPWJbY10hPT1udWxsJiZ0eXBlb2YgYltjXT09PVwib2JqZWN0XCI/ZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0KGFbY118fE9iamVjdC5jcmVhdGUobnVsbCksYltjXSk6YltjXTtyZXR1cm4gYX07Z2V0V29ya3NwYWNlQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtyZXR1cm4gV29ya3NwYWNlREJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uW2FdfHxudWxsfTtcbmdldEFsbFdvcmtzcGFjZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oKXtjb25zdCBhPVtdO2Zvcihjb25zdCBiIGluIFdvcmtzcGFjZURCXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbilhLnB1c2goV29ya3NwYWNlREJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uW2JdKTtyZXR1cm4gYX07cmVnaXN0ZXJXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7V29ya3NwYWNlREJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uW2EuaWRdPWF9O3VucmVnaXN0ZXJXb3JrcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtkZWxldGUgV29ya3NwYWNlREJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uW2EuaWRdfTtnZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb259O1xuc2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXttYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWF9O2dldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKCl7Y29uc3QgYT0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpO3JldHVybiBhJiZpc1NlbGVjdGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZShhKT9hOm51bGx9O3NldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpeyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShhKX07XG5maXJlU2VsZWN0ZWRFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtjb25zdCBiPWdldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCk7bGV0IGMsZCxlLGY7Y29uc3QgZz1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5TRUxFQ1RFRCkpKChjPWI9PW51bGw/dm9pZCAwOmIuaWQpIT1udWxsP2M6bnVsbCwoZD1hPT1udWxsP3ZvaWQgMDphLmlkKSE9bnVsbD9kOm51bGwsKGY9KGU9YT09bnVsbD92b2lkIDA6YS53b3Jrc3BhY2UuaWQpIT1udWxsP2U6Yj09bnVsbD92b2lkIDA6Yi53b3Jrc3BhY2UuaWQpIT1udWxsP2Y6XCJcIik7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhnKX07Z2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbn07XG5zZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7cGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWF9O1xuc3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe2Zvcig7YS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZTspYT1hLm9wdGlvbnMucGFyZW50V29ya3NwYWNlO2NvbnN0IGI9YS5nZXRQYXJlbnRTdmcoKSxjPWEuZ2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZSgpO3ZhciBkPWIucGFyZW50RWxlbWVudDtpZihkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe3ZhciBlPWQub2Zmc2V0V2lkdGg7ZD1kLm9mZnNldEhlaWdodDtjLndpZHRoIT09ZSYmKGIuc2V0QXR0cmlidXRlKFwid2lkdGhcIixlK1wicHhcIiksYS5zZXRDYWNoZWRQYXJlbnRTdmdTaXplKGUsbnVsbCkpO2MuaGVpZ2h0IT09ZCYmKGIuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsZCtcInB4XCIpLGEuc2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZShudWxsLGQpKTthLnJlc2l6ZSgpfX07XG5nZXRCbG9ja1R5cGVDb3VudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSxiKXtjb25zdCBjPU9iamVjdC5jcmVhdGUobnVsbCksZD1hLmdldERlc2NlbmRhbnRzKCEwKTtiJiYoYT1hLmdldE5leHRCbG9jaygpKSYmKGE9ZC5pbmRleE9mKGEpLGQuc3BsaWNlKGEsZC5sZW5ndGgtYSkpO2ZvcihsZXQgZT0wLGY7Zj1kW2VdO2UrKyljW2YudHlwZV0/Y1tmLnR5cGVdKys6Y1tmLnR5cGVdPTE7cmV0dXJuIGN9O2pzb25Jbml0RmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KGEpfX07ZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheUludGVybmFsKGEpfTtcbmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXlJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigkLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGEpKX07XG4kLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe2NvbnN0IGI9e307Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspe2NvbnN0IGQ9YVtjXTtpZighZCl7Y29uc29sZS53YXJuKGBCbG9jayBkZWZpbml0aW9uICMke2N9IGluIEpTT04gYXJyYXkgaXMgJHtkfS4gU2tpcHBpbmdgKTtjb250aW51ZX1jb25zdCBlPWQudHlwZTtlP2JbZV09e2luaXQ6anNvbkluaXRGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGQpfTpjb25zb2xlLndhcm4oYEJsb2NrIGRlZmluaXRpb24gIyR7Y30gaW4gSlNPTiBhcnJheSBpcyBtaXNzaW5nIGEgdHlwZSBhdHRyaWJ1dGUuIGArXCJTa2lwcGluZy5cIil9cmV0dXJuIGJ9O1xuJC5kZWZpbmVCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7Zm9yKGNvbnN0IGIgb2YgT2JqZWN0LmtleXMoYSkpe2NvbnN0IGM9YVtiXTtiIGluIEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrcyYmY29uc29sZS53YXJuKGBCbG9jayBkZWZpbml0aW9uIFwiJHtifVwiIG92ZXJ3cml0ZXMgcHJldmlvdXMgZGVmaW5pdGlvbi5gKTtCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3NbYl09Y319O1xuZ2xvYmFsU2hvcnRjdXRIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe2xldCBiPWdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKTtjb25zdCBjPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWRUcmVlKCk7Zm9yKGNvbnN0IGQgb2YgZ2V0QWxsV29ya3NwYWNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpKWlmKGM9PT1kKXtiPWQ7YnJlYWt9aWYoIWlzVGFyZ2V0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKSYmYiYmKCFiLnJlbmRlcmVkfHxiLmlzRmx5b3V0fHxiLmlzVmlzaWJsZSgpKSlTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkub25LZXlEb3duKGIsYSl9O1xucmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5PWZ1bmN0aW9uKGEsYil7Yj1hLmluZGV4T2YoYik7aWYoYj09PS0xKXJldHVybiExO2Euc3BsaWNlKGIsMSk7cmV0dXJuITB9O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzPWZ1bmN0aW9uKGEpe2lmKGluamVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKXRocm93IEVycm9yKFwiQ1NTIGFscmVhZHkgaW5qZWN0ZWRcIik7Y29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcys9XCJcXG5cIithfTtcbmluamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcz1mdW5jdGlvbihhLGIpe2luamVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzfHwoaW5qZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3M9ITAsYSYmKGE9Yi5yZXBsYWNlKC9bXFxcXC9dJC8sXCJcIiksYj1jb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzLnJlcGxhY2UoLzw8PFBBVEg+Pj4vZyxhKSxjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzPVwiXCIsYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksYS5pZD1cImJsb2NrbHktY29tbW9uLXN0eWxlXCIsYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShiKSxhLmFwcGVuZENoaWxkKGIpLGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGEsZG9jdW1lbnQuaGVhZC5maXJzdENoaWxkKSkpfTtnZXRTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLmdldFNpemVJbnRlcm5hbChhKX07XG5nZXRTaXplSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT1mdW5jdGlvbihhKXtpZihnZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSxcImRpc3BsYXlcIikhPT1cIm5vbmVcIilyZXR1cm4gZ2V0U2l6ZVdpdGhEaXNwbGF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSk7Y29uc3QgYj1hLnN0eWxlLGM9Yi5kaXNwbGF5LGQ9Yi52aXNpYmlsaXR5LGU9Yi5wb3NpdGlvbjtiLnZpc2liaWxpdHk9XCJoaWRkZW5cIjtiLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjtiLmRpc3BsYXk9XCJpbmxpbmVcIjtjb25zdCBmPWEub2Zmc2V0V2lkdGg7YT1hLm9mZnNldEhlaWdodDtiLmRpc3BsYXk9YztiLnBvc2l0aW9uPWU7Yi52aXNpYmlsaXR5PWQ7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShmLGEpfTtcbmdldFNpemVXaXRoRGlzcGxheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYS5vZmZzZXRXaWR0aCxhLm9mZnNldEhlaWdodCl9O2dldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT1mdW5jdGlvbihhLGIpe2E9d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSk7cmV0dXJuIGFbYl18fGEuZ2V0UHJvcGVydHlWYWx1ZShiKX07XG5nZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oYSl7Y29uc3QgYj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTthPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2M9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKHdpbmRvdy5wYWdlWE9mZnNldHx8Yy5zY3JvbGxMZWZ0LHdpbmRvdy5wYWdlWU9mZnNldHx8Yy5zY3JvbGxUb3ApO2IueD1hLmxlZnQrYy54O2IueT1hLnRvcCtjLnk7cmV0dXJuIGJ9O1xuZ2V0Vmlld3BvcnRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oKXtjb25zdCBhPWRvY3VtZW50LmJvZHksYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLnNjcm9sbExlZnR8fGIuc2Nyb2xsTGVmdCxhLnNjcm9sbFRvcHx8Yi5zY3JvbGxUb3ApfTtcbmdldEJvcmRlckJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlPWZ1bmN0aW9uKGEpe2NvbnN0IGI9cGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSxcImJvcmRlckxlZnRXaWR0aFwiKSksYz1wYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhLFwiYm9yZGVyUmlnaHRXaWR0aFwiKSksZD1wYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhLFwiYm9yZGVyVG9wV2lkdGhcIikpO2E9cGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSxcImJvcmRlckJvdHRvbVdpZHRoXCIpKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGQsYSxiLGMpfTtcbnNjcm9sbEludG9Db250YWluZXJWaWV3JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oYSxiLGMpe2E9Z2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSxiLGMpO2Iuc2Nyb2xsTGVmdD1hLng7Yi5zY3JvbGxUb3A9YS55fTtcbmdldENvbnRhaW5lck9mZnNldFRvU2Nyb2xsSW50byQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1nZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSksZT1nZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYiksZj1nZXRCb3JkZXJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShiKTtjb25zdCBnPWQueC1lLngtZi5sZWZ0O2Q9ZC55LWUueS1mLnRvcDtlPWdldFNpemVXaXRoRGlzcGxheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGEpO2E9Yi5jbGllbnRXaWR0aC1lLndpZHRoO2U9Yi5jbGllbnRIZWlnaHQtZS5oZWlnaHQ7Zj1iLnNjcm9sbExlZnQ7Yj1iLnNjcm9sbFRvcDtjPyhmKz1nLWEvMixiKz1kLWUvMik6KGYrPU1hdGgubWluKGcsTWF0aC5tYXgoZy1hLDApKSxiKz1NYXRoLm1pbihkLE1hdGgubWF4KGQtXG5lLDApKSk7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShmLGIpfTtcbmdldFJlbGF0aXZlWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD1mdW5jdGlvbihhKXtjb25zdCBiPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3ZhciBjPWEueCYmYS5nZXRBdHRyaWJ1dGUoXCJ4XCIpO2NvbnN0IGQ9YS55JiZhLmdldEF0dHJpYnV0ZShcInlcIik7YyYmKGIueD1wYXJzZUludChjKSk7ZCYmKGIueT1wYXJzZUludChkKSk7aWYoYz0oYz1hLmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKSkmJmMubWF0Y2goWFlfUkVHRVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCkpYi54Kz1OdW1iZXIoY1sxXSksY1szXSYmKGIueSs9TnVtYmVyKGNbM10pKTsoYT1hLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpKSYmYS5pbmNsdWRlcyhcInRyYW5zbGF0ZVwiKSYmKGE9YS5tYXRjaChYWV9TVFlMRV9SRUdFWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKSkmJihiLngrPVxuTnVtYmVyKGFbMV0pLGFbM10mJihiLnkrPU51bWJlcihhWzNdKSkpO3JldHVybiBifTtnZXRJbmplY3Rpb25EaXZYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPWZ1bmN0aW9uKGEpe2xldCBiPTAsYz0wO2Zvcig7YTspe2NvbnN0IGQ9Z2V0UmVsYXRpdmVYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKGEpO2IrPWQueDtjKz1kLnk7aWYoKFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikuaW5jbHVkZXMoXCIgaW5qZWN0aW9uRGl2IFwiKSlicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGIsYyl9O1xuZ2V0Vmlld3BvcnRCQm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg9ZnVuY3Rpb24oKXtjb25zdCBhPWdldFZpZXdwb3J0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKCk7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLnksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCthLnksYS54LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCthLngpfTtnZXREb2N1bWVudFNjcm9sbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPWZ1bmN0aW9uKCl7Y29uc3QgYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYj13aW5kb3c7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShiLnBhZ2VYT2Zmc2V0fHxhLnNjcm9sbExlZnQsYi5wYWdlWU9mZnNldHx8YS5zY3JvbGxUb3ApfTtcbnNjcmVlblRvV3NDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi54O2I9Yi55O2NvbnN0IGQ9YS5nZXRJbmplY3Rpb25EaXYoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtjPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShjLWQubGVmdCxiLWQudG9wKTtiPWEuZ2V0T3JpZ2luT2Zmc2V0SW5QaXhlbHMoKTtyZXR1cm4gQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlmZmVyZW5jZShjLGIpLnNjYWxlKDEvYS5zY2FsZSl9O1xud3NUb1NjcmVlbkNvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnNjYWxlKGEuc2NhbGUpO2I9Yy54O2M9Yy55O2NvbnN0IGQ9YS5nZXRJbmplY3Rpb25EaXYoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPWEuZ2V0T3JpZ2luT2Zmc2V0SW5QaXhlbHMoKTtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGIrZC5sZWZ0K2EueCxjK2QudG9wK2EueSl9O1xuaW5qZWN0RGVwZW5kZW5jaWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPWZ1bmN0aW9uKGEpeyh7ZG9jdW1lbnQ6ZG9jdW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9ZG9jdW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsRE9NUGFyc2VyOkRPTVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1ET01QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsWE1MU2VyaWFsaXplcjpYTUxTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPVhNTFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWx9PWEpO2RvbVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1uZXcgRE9NUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sO3htbFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9XG5uZXcgWE1MU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbH07JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbC5jcmVhdGVFbGVtZW50TlMoTkFNRV9TUEFDRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxhKX07JC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1mdW5jdGlvbihhKXtyZXR1cm4gZG9jdW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwuY3JlYXRlVGV4dE5vZGUoYSl9O1xuJC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9ZnVuY3Rpb24oYSl7bGV0IGI9ZG9tUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLnBhcnNlRnJvbVN0cmluZyhhLFwidGV4dC94bWxcIik7aWYoYiYmYi5kb2N1bWVudEVsZW1lbnQmJiFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoKXJldHVybiBiLmRvY3VtZW50RWxlbWVudDtpZigoYj1kb21QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwucGFyc2VGcm9tU3RyaW5nKGEsXCJ0ZXh0L2h0bWxcIikpJiZiLmJvZHkuZmlyc3RDaGlsZCYmYi5ib2R5LmZpcnN0Q2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PVwieG1sXCIpcmV0dXJuIGIuYm9keS5maXJzdENoaWxkO3Rocm93IEVycm9yKGBET01QYXJzZXIgd2FzIHVuYWJsZSB0byBwYXJzZTogJHthfWApO307XG5kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHNhbml0aXplVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCh4bWxTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLnNlcmlhbGl6ZVRvU3RyaW5nKGEpKX07c2FuaXRpemVUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoSU5WQUxJRF9DT05UUk9MX0NIQVJTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLGI9PmAmIyR7Yi5jaGFyQ29kZUF0KDApfTtgKX07XG5jb252ZXJ0VG9vbGJveERlZlRvSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7aWYoYSBpbnN0YW5jZW9mIEVsZW1lbnR8fHR5cGVvZiBhPT09XCJzdHJpbmdcIilhPXBhcnNlVG9vbGJveFRyZWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpLGE9Y29udmVydFRvVG9vbGJveEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpO3ZhbGlkYXRlVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSk7cmV0dXJuIGF9O1xudmFsaWRhdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtjb25zdCBiPWEua2luZDthPWEuY29udGVudHM7aWYoYiYmYiE9PUZMWU9VVF9UT09MQk9YX0tJTkQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94JiZiIT09Q0FURUdPUllfVE9PTEJPWF9LSU5EJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCl0aHJvdyBFcnJvcihcIkludmFsaWQgdG9vbGJveCBraW5kIFwiK2IrXCIuIFBsZWFzZSBzdXBwbHkgZWl0aGVyIFwiK0ZMWU9VVF9UT09MQk9YX0tJTkQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94K1wiIG9yIFwiK0NBVEVHT1JZX1RPT0xCT1hfS0lORCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gpO2lmKCFhKXRocm93IEVycm9yKFwiVG9vbGJveCBtdXN0IGhhdmUgYSBjb250ZW50cyBhdHRyaWJ1dGUuXCIpO307XG5jb252ZXJ0Rmx5b3V0RGVmVG9Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PWZ1bmN0aW9uKGEpe3JldHVybiBhP2EuY29udGVudHM/YS5jb250ZW50czpBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aD4wJiYhYVswXS5ub2RlVHlwZT9hOnhtbFRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKTpbXX07aGFzQ2F0ZWdvcmllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSl7cmV0dXJuIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guaGFzQ2F0ZWdvcmllc0ludGVybmFsKGEpfTtcbmhhc0NhdGVnb3JpZXNJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuITE7Y29uc3QgYj1hLmtpbmQ7cmV0dXJuIGI/Yj09PUNBVEVHT1JZX1RPT0xCT1hfS0lORCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g6ISFhLmNvbnRlbnRzLmZpbHRlcihjPT5jLmtpbmQudG9VcHBlckNhc2UoKT09PVwiQ0FURUdPUllcIikubGVuZ3RofTtpc0NhdGVnb3J5Q29sbGFwc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PWZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmNvbnRlbnRzPyEhYS5jb250ZW50cy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGIua2luZC50b1VwcGVyQ2FzZSgpPT09XCJDQVRFR09SWVwifSkubGVuZ3RoOiExfTtcbmNvbnZlcnRUb1Rvb2xib3hKc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtjb25zdCBiPXtjb250ZW50czp4bWxUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSl9O2EgaW5zdGFuY2VvZiBOb2RlJiZhZGRBdHRyaWJ1dGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhLGIpO3JldHVybiBifTtcbnhtbFRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtjb25zdCBiPVtdO2xldCBjPWEuY2hpbGROb2RlcztjfHwoYz1hKTtmb3IobGV0IGQ9MCxlO2U9Y1tkXTtkKyspe2lmKCFlLnRhZ05hbWUpY29udGludWU7YT17fTtjb25zdCBmPWUudGFnTmFtZS50b1VwcGVyQ2FzZSgpO2Eua2luZD1mO2Y9PT1cIkJMT0NLXCI/YS5ibG9ja3htbD1lOmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aD4wJiYoYS5jb250ZW50cz14bWxUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goZSkpO2FkZEF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGUsYSk7Yi5wdXNoKGEpfXJldHVybiBifTtcbmFkZEF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PWZ1bmN0aW9uKGEsYil7Zm9yKGxldCBjPTA7YzxhLmF0dHJpYnV0ZXMubGVuZ3RoO2MrKyl7Y29uc3QgZD1hLmF0dHJpYnV0ZXNbY107ZC5ub2RlTmFtZS5pbmNsdWRlcyhcImNzcy1cIik/KGIuY3NzY29uZmlnPWIuY3NzY29uZmlnfHx7fSxiLmNzc2NvbmZpZ1tkLm5vZGVOYW1lLnJlcGxhY2UoXCJjc3MtXCIsXCJcIildPWQudmFsdWUpOmJbZC5ub2RlTmFtZV09ZC52YWx1ZX19O1xucGFyc2VUb29sYm94VHJlZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSl7bGV0IGI9bnVsbDtpZihhKWlmKHR5cGVvZiBhPT09XCJzdHJpbmdcIil7aWYoYj0kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhKSxiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1cInhtbFwiKXRocm93IFR5cGVFcnJvcihcIlRvb2xib3ggc2hvdWxkIGJlIGFuIDx4bWw+IGRvY3VtZW50LlwiKTt9ZWxzZSBhIGluc3RhbmNlb2YgRWxlbWVudCYmKGI9YSk7cmV0dXJuIGJ9O1xuZ2V0U3RhcnRQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycz1mdW5jdGlvbihhLGIsYyxkLGUsZil7Y29uc3QgZz1mLnNjcm9sbGJhciYmZi5zY3JvbGxiYXIuY2FuU2Nyb2xsVmVydGljYWxseSgpO2EuaG9yaXpvbnRhbD09PWhvcml6b250YWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLkxFRlQ/KGM9ZS5hYnNvbHV0ZU1ldHJpY3MubGVmdCtjLGcmJmYuUlRMJiYoYys9U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcykpOihjPWUuYWJzb2x1dGVNZXRyaWNzLmxlZnQrZS52aWV3TWV0cmljcy53aWR0aC1iLndpZHRoLWMsZyYmIWYuUlRMJiYoYy09U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcykpO2EudmVydGljYWw9PT12ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuVE9QP1xuYT1lLmFic29sdXRlTWV0cmljcy50b3ArZDooYT1lLmFic29sdXRlTWV0cmljcy50b3ArZS52aWV3TWV0cmljcy5oZWlnaHQtYi5oZWlnaHQtZCxmLnNjcm9sbGJhciYmZi5zY3JvbGxiYXIuY2FuU2Nyb2xsSG9yaXpvbnRhbGx5KCkmJihhLT1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzKSk7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLGErYi5oZWlnaHQsYyxjK2Iud2lkdGgpfTtcbmdldENvcm5lck9wcG9zaXRlVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzPWZ1bmN0aW9uKGEsYil7cmV0dXJue2hvcml6b250YWw6Yi50b29sYm94TWV0cmljcy5wb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUfHxhLmhvcml6b250YWxMYXlvdXQmJiFhLlJUTD9ob3Jpem9udGFsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5SSUdIVDpob3Jpem9udGFsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5MRUZULHZlcnRpY2FsOmIudG9vbGJveE1ldHJpY3MucG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guQk9UVE9NP3ZlcnRpY2FsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5UT1A6dmVydGljYWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLkJPVFRPTX19O1xuYnVtcFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzPWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9YS5sZWZ0LGY9YS5yaWdodC1hLmxlZnQsZz1hLmJvdHRvbS1hLnRvcDtmb3IobGV0IGg9MDtoPGQubGVuZ3RoO2grKyl7Y29uc3Qgaz1kW2hdO2EuaW50ZXJzZWN0cyhrKSYmKGE9Yz09PWJ1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5VUD9rLnRvcC1nLWI6ay5ib3R0b20rYixhPW5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLGErZyxlLGUrZiksaD0tMSl9cmV0dXJuIGF9O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYil7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuU0VSSUFMSVpFUixhLGIpfTt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeT1mdW5jdGlvbihhKXt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlNFUklBTElaRVIsYSl9O1xuc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzPWZ1bmN0aW9uKGEse2FkZENvb3JkaW5hdGVzOmI9ITEsc2F2ZUlkczpjPSEwfT17fSl7Y29uc3QgZD1hLndvcmtzcGFjZSxlPU9iamVjdC5jcmVhdGUobnVsbCk7ZS5oZWlnaHQ9YS5nZXRTaXplKCkuaGVpZ2h0O2Uud2lkdGg9YS5nZXRTaXplKCkud2lkdGg7YyYmKGUuaWQ9YS5pZCk7YiYmKGI9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksZS54PWQuUlRMP2QuZ2V0V2lkdGgoKS1iLng6Yi54LGUueT1iLnkpO2EuZ2V0VGV4dCgpJiYoZS50ZXh0PWEuZ2V0VGV4dCgpKTthLmlzQ29sbGFwc2VkKCkmJihlLmNvbGxhcHNlZD0hMCk7YS5pc093bkVkaXRhYmxlKCl8fChlLmVkaXRhYmxlPSExKTthLmlzT3duTW92YWJsZSgpfHwoZS5tb3ZhYmxlPSExKTthLmlzT3duRGVsZXRhYmxlKCl8fChlLmRlbGV0YWJsZT0hMSk7cmV0dXJuIGV9O1xuYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM9ZnVuY3Rpb24oYSxiLHtyZWNvcmRVbmRvOmM9ITF9PXt9KXtjb25zdCBkPWdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTskLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYyk7Yz1iLm5ld0NvbW1lbnQoYS5pZCk7YS50ZXh0IT09dm9pZCAwJiZjLnNldFRleHQoYS50ZXh0KTtpZihhLnghPT12b2lkIDB8fGEueSE9PXZvaWQgMCl7Y29uc3QgZj1jLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtsZXQgZyxoPShnPWEueCkhPW51bGw/ZzpmLng7aD1iLlJUTD9iLmdldFdpZHRoKCktaDpoO3ZhciBlO2I9KGU9YS55KSE9bnVsbD9lOmYueTtjLm1vdmVUbyhuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoaCxiKSl9aWYoYS53aWR0aCE9PXZvaWQgMHx8XG5hLmhlaWdodCl7ZT1jLmdldFNpemUoKTtsZXQgZixnO2Muc2V0U2l6ZShuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoKGY9YS53aWR0aCkhPW51bGw/ZjplLndpZHRoLChnPWEuaGVpZ2h0KSE9bnVsbD9nOmUuaGVpZ2h0KSl9YS5jb2xsYXBzZWQhPT12b2lkIDAmJmMuc2V0Q29sbGFwc2VkKGEuY29sbGFwc2VkKTthLmVkaXRhYmxlIT09dm9pZCAwJiZjLnNldEVkaXRhYmxlKGEuZWRpdGFibGUpO2EubW92YWJsZSE9PXZvaWQgMCYmYy5zZXRNb3ZhYmxlKGEubW92YWJsZSk7YS5kZWxldGFibGUhPT12b2lkIDAmJmMuc2V0RGVsZXRhYmxlKGEuZGVsZXRhYmxlKTskLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZCk7cmV0dXJuIGN9O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiKXtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5QQVNURVIsYSxiKX07dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeT1mdW5jdGlvbihhKXt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlBBU1RFUixhKX07XG5tb3ZlQ29tbWVudFRvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyPWZ1bmN0aW9uKGEpe2NvbnN0IGI9YS53b3Jrc3BhY2UsYz1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxkPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApLGU9Yi5nZXRUb3BDb21tZW50cyghMSkuZmlsdGVyKGY9PmYuaWQhPT1hLmlkKS5tYXAoZj0+Zi5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpO2Zvcig7Y29tbWVudE92ZXJsYXBzT3RoZXJFeGFjdGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHdvcmtzcGFjZV9jb21tZW50X3Bhc3RlcihDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYyxkKSxlKTspZC50cmFuc2xhdGUoYi5SVEw/LTMwOjMwLDMwKTthLm1vdmVUbyhDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYyxcbmQpKX07Y29tbWVudE92ZXJsYXBzT3RoZXJFeGFjdGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHdvcmtzcGFjZV9jb21tZW50X3Bhc3Rlcj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnNvbWUoYz0+TWF0aC5hYnMoYy54LWEueCk8PTEmJk1hdGguYWJzKGMueS1hLnkpPD0xKX07c2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE9ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZShST0xFX0FUVFJJQlVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEsYil9O3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYT1mdW5jdGlvbihhLGIsYyl7QXJyYXkuaXNBcnJheShjKSYmKGM9Yy5qb2luKFwiIFwiKSk7YS5zZXRBdHRyaWJ1dGUoQVJJQV9QUkVGSVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhK2IsYCR7Y31gKX07XG5pc1NlcmlhbGl6YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZXJpYWxpemFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLnNhdmVTdGF0ZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEubG9hZFN0YXRlPT09XCJmdW5jdGlvblwifTtcbnF1ZXVlUmVuZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oYSl7cXVldWVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KGEpO2lmKGFsd2F5c0ltbWVkaWF0ZWx5UmVuZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKSlyZXR1cm4gZG9SZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKSxQcm9taXNlLnJlc29sdmUoKTthZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnR8fChhZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9bmV3IFByb21pc2UoYj0+e2FmdGVyUmVuZGVyc1Jlc29sdmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9YjthbmltYXRpb25SZXF1ZXN0SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1cbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9Pntkb1JlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpO2IoKX0pfSkpO3JldHVybiBhZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnR9O2ZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1mdW5jdGlvbigpe3JldHVybiBhZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ/YWZ0ZXJSZW5kZXJzUHJvbWlzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50OlByb21pc2UucmVzb2x2ZSgpfTtcbnRyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oYSl7YXx8d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblJlcXVlc3RJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KTtkb1JlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudChhKTshYSYmYWZ0ZXJSZW5kZXJzUmVzb2x2ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCYmYWZ0ZXJSZW5kZXJzUmVzb2x2ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpfTthbHdheXNJbW1lZGlhdGVseVJlbmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIEphdmFGeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudH07XG5xdWV1ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oYSl7ZGlydHlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5hZGQoYSk7ZXZlbnRHcm91cHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5zZXQoYSwkLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpO2NvbnN0IGI9YS5nZXRQYXJlbnQoKTtiP3F1ZXVlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudChiKTpyb290QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQuYWRkKGEpfTtcbmRvUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PWZ1bmN0aW9uKGEpe2NvbnN0IGI9YT9uZXcgU2V0KFthXSk6bmV3IFNldChbLi4ucm9vdEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50XS5tYXAoZj0+Zi53b3Jrc3BhY2UpKSxjPVsuLi5yb290QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnRdLmZpbHRlcihzaG91bGRSZW5kZXJSb290QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCkuZmlsdGVyKGY9PmIuaGFzKGYud29ya3NwYWNlKSk7Zm9yKHZhciBkIG9mIGMpcmVuZGVyQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudChkKTtmb3IoY29uc3QgZiBvZiBiKWYucmVzaXplQ29udGVudHMoKTtmb3IodmFyIGUgb2YgYylkPWUuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpLGUudXBkYXRlQ29tcG9uZW50TG9jYXRpb25zKGQpO1xuZm9yKGNvbnN0IGYgb2YgYyllPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSwoZD1ldmVudEdyb3VwcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmdldChmKSkmJiQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZCksZi5idW1wTmVpZ2hib3VycygpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZSk7Zm9yKGNvbnN0IGYgb2YgYylkZXF1ZXVlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudChmKTthfHwoYWZ0ZXJSZW5kZXJzUHJvbWlzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PW51bGwpfTtcbmRlcXVldWVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PWZ1bmN0aW9uKGEpe3Jvb3RCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5kZWxldGUoYSk7ZGlydHlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5kZWxldGUoYSk7ZXZlbnRHcm91cHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5kZWxldGUoYSk7Zm9yKGNvbnN0IGIgb2YgYS5nZXRDaGlsZHJlbighMSkpZGVxdWV1ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoYil9O3Nob3VsZFJlbmRlclJvb3RCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PWZ1bmN0aW9uKGEpe3JldHVybiFhLmlzRGlzcG9zZWQoKSYmIWEuZ2V0UGFyZW50KCl9O1xucmVuZGVyQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1mdW5jdGlvbihhKXtpZihkaXJ0eUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmhhcyhhKSYmYS5pbml0aWFsaXplZCl7Zm9yKGNvbnN0IGIgb2YgYS5nZXRDaGlsZHJlbighMSkpcmVuZGVyQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudChiKTthLnJlbmRlckVmZmljaWVudGx5KCl9fTthbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1mdW5jdGlvbihhLGIpe2FsZXJ0SW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2coYSxiKX07XG5zZXRBbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1mdW5jdGlvbihhPWRlZmF1bHRBbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyl7YWxlcnRJbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1hfTtjb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYil7Y29uZmlybUltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKGEsYil9O3NldENvbmZpcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYT1kZWZhdWx0Q29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyl7Y29uZmlybUltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWF9O1xucHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYixjKXtwcm9tcHRJbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhhLGIsYyl9O3NldFByb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1mdW5jdGlvbihhPWRlZmF1bHRQcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cpe3Byb21wdEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWF9O3RvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYil7dG9hc3RJbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhhLGIpfTtcbnNldFRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGE9ZGVmYXVsdFRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKXt0b2FzdEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWF9O2lzTGVnYWN5UHJvY2VkdXJlRGVmQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3M9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldFByb2NlZHVyZURlZj09PVwiZnVuY3Rpb25cIn07aXNMZWdhY3lQcm9jZWR1cmVDYWxsQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3M9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldFByb2NlZHVyZUNhbGw9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLnJlbmFtZVByb2NlZHVyZT09PVwiZnVuY3Rpb25cIn07XG5pc1ZhcmlhYmxlQmFja2VkUGFyYW1ldGVyTW9kZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdmFyaWFibGVfYmFja2VkX3BhcmFtZXRlcl9tb2RlbD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRWYXJpYWJsZU1vZGVsIT09dm9pZCAwfTt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb249ZnVuY3Rpb24oYSxiLGMsZCl7YT1hK1wiIHdhcyBkZXByZWNhdGVkIGluIFwiK2IrXCIgYW5kIHdpbGwgYmUgZGVsZXRlZCBpbiBcIitjK1wiLlwiO2QmJihhKz1cIlxcblVzZSBcIitkK1wiIGluc3RlYWQuXCIpO3ByZXZpb3VzV2FybmluZ3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbi5oYXMoYSl8fChwcmV2aW91c1dhcm5pbmdzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24uYWRkKGEpLGNvbnNvbGUud2FybihhKSl9O1xuJC5hbGxVc2VkVmFyTW9kZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEpe2E9YS5nZXRBbGxCbG9ja3MoITEpO2NvbnN0IGI9bmV3IFNldDtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdLmdldFZhck1vZGVscygpO2lmKGQpZm9yKGxldCBlPTA7ZTxkLmxlbmd0aDtlKyspe2NvbnN0IGY9ZFtlXTtmLmdldElkKCkmJmIuYWRkKGYpfX1yZXR1cm4gQXJyYXkuZnJvbShiLnZhbHVlcygpKX07JC5hbGxEZXZlbG9wZXJWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7YT1hLmdldEFsbEJsb2NrcyghMSk7Y29uc3QgYj1uZXcgU2V0O2ZvcihsZXQgZD0wLGU7ZT1hW2RdO2QrKyl7dmFyIGM9ZS5nZXREZXZlbG9wZXJWYXJpYWJsZXM7aWYoYyl7Yz1jKCk7Zm9yKGxldCBmPTA7ZjxjLmxlbmd0aDtmKyspYi5hZGQoY1tmXSl9fXJldHVybiBBcnJheS5mcm9tKGIudmFsdWVzKCkpfTtcbmludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsITEpfTtcbmZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYj0hMCl7QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnZhcmlhYmxlc19zZXR8fEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy52YXJpYWJsZXNfZ2V0fHxjb25zb2xlLndhcm4oXCJUaGVyZSBhcmUgbm8gdmFyaWFibGUgYmxvY2tzLCBidXQgdGhlcmUgaXMgYSB2YXJpYWJsZSBjYXRlZ29yeS5cIik7aWYoYilyZXR1cm4gd2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiVGhlIFhNTCByZXR1cm4gdmFsdWUgb2YgQmxvY2tseS5WYXJpYWJsZXMuZmx5b3V0Q2F0ZWdvcnkoKVwiLFwidjEyXCIsXCJ2MTNcIixcInRoZSBzYW1lIG1ldGhvZCwgYnV0IGhhbmRsZSBhIHJldHVybiB0eXBlIG9mIEZseW91dEl0ZW1JbmZvW10gKEpTT04pIGluc3RlYWQuXCIpLHhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEpO1xuYS5yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKFwiQ1JFQVRFX1ZBUklBQkxFXCIsZnVuY3Rpb24oYyl7Y3JlYXRlVmFyaWFibGVCdXR0b25IYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGMuZ2V0VGFyZ2V0V29ya3NwYWNlKCkpfSk7cmV0dXJuW3traW5kOlwiYnV0dG9uXCIsdGV4dDpcIiV7QktZX05FV19WQVJJQUJMRX1cIixjYWxsYmFja2tleTpcIkNSRUFURV9WQVJJQUJMRVwifSwuLi5qc29uRmx5b3V0Q2F0ZWdvcnlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSxhLmdldFZhcmlhYmxlTWFwKCkuZ2V0VmFyaWFibGVzT2ZUeXBlKFwiXCIpLCEwKV19O2dlbmVyYXRlVmFyaWFibGVGaWVsZEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7cmV0dXJue1ZBUjp7bmFtZTphLmdldE5hbWUoKSx0eXBlOmEuZ2V0VHlwZSgpfX19O1xuanNvbkZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjLGQ9XCJ2YXJpYWJsZXNfZ2V0XCIsZT1cInZhcmlhYmxlc19zZXRcIil7YyYmKGM9QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLm1hdGhfY2hhbmdlKTthPVtdO2NvbnN0IGY9Yi5zbGljZSgtMSlbMF07ZiYmKEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrc1tlXSYmYS5wdXNoKHtraW5kOlwiYmxvY2tcIix0eXBlOmUsZ2FwOmM/ODoyNCxmaWVsZHM6Z2VuZXJhdGVWYXJpYWJsZUZpZWxkSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhmKX0pLGMmJmEucHVzaCh7a2luZDpcImJsb2NrXCIsdHlwZTpcIm1hdGhfY2hhbmdlXCIsZ2FwOkJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrc1tkXT8yMDo4LGZpZWxkczpnZW5lcmF0ZVZhcmlhYmxlRmllbGRKc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGYpLFxuaW5wdXRzOntERUxUQTp7c2hhZG93Ont0eXBlOlwibWF0aF9udW1iZXJcIixmaWVsZHM6e05VTToxfX19fX0pKTtCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3NbZF0mJmEucHVzaCguLi5iLnNvcnQoY29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcykubWFwKGc9Pih7a2luZDpcImJsb2NrXCIsdHlwZTpkLGdhcDo4LGZpZWxkczpnZW5lcmF0ZVZhcmlhYmxlRmllbGRKc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGcpfSkpKTtyZXR1cm4gYX07XG54bWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXtsZXQgYj1bXTtjb25zdCBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIsXCIle0JLWV9ORVdfVkFSSUFCTEV9XCIpO2Muc2V0QXR0cmlidXRlKFwiY2FsbGJhY2tLZXlcIixcIkNSRUFURV9WQVJJQUJMRVwiKTthLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVcIixmdW5jdGlvbihkKXtjcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZC5nZXRUYXJnZXRXb3Jrc3BhY2UoKSl9KTtiLnB1c2goYyk7YT1mbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhKTtyZXR1cm4gYj1iLmNvbmNhdChhKX07XG5mbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXthPWEuZ2V0VmFyaWFibGVNYXAoKS5nZXRWYXJpYWJsZXNPZlR5cGUoXCJcIik7Y29uc3QgYj1bXTtpZihhLmxlbmd0aD4wKXt2YXIgYz1hW2EubGVuZ3RoLTFdO2lmKEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy52YXJpYWJsZXNfc2V0KXt2YXIgZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKTtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInZhcmlhYmxlc19zZXRcIik7ZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MubWF0aF9jaGFuZ2U/XCI4XCI6XCIyNFwiKTtkLmFwcGVuZENoaWxkKGdlbmVyYXRlVmFyaWFibGVGaWVsZERvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhjKSk7Yi5wdXNoKGQpfUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy5tYXRoX2NoYW5nZSYmXG4oZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKSxkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIm1hdGhfY2hhbmdlXCIpLGQuc2V0QXR0cmlidXRlKFwiZ2FwXCIsQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnZhcmlhYmxlc19nZXQ/XCIyMFwiOlwiOFwiKSxkLmFwcGVuZENoaWxkKGdlbmVyYXRlVmFyaWFibGVGaWVsZERvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhjKSksYz0kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCgnPHZhbHVlIG5hbWU9XCJERUxUQVwiPjxzaGFkb3cgdHlwZT1cIm1hdGhfbnVtYmVyXCI+PGZpZWxkIG5hbWU9XCJOVU1cIj4xPC9maWVsZD48L3NoYWRvdz48L3ZhbHVlPicpLGQuYXBwZW5kQ2hpbGQoYyksYi5wdXNoKGQpKTtpZihCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX2dldCl7YS5zb3J0KGNvbXBhcmVCeU5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMpO1xuZm9yKGxldCBlPTAsZjtmPWFbZV07ZSsrKWM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIiksYy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfZ2V0XCIpLGMuc2V0QXR0cmlidXRlKFwiZ2FwXCIsXCI4XCIpLGMuYXBwZW5kQ2hpbGQoZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGYpKSxiLnB1c2goYyl9fXJldHVybiBifTtnZW5lcmF0ZVVuaXF1ZU5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5nZW5lcmF0ZVVuaXF1ZU5hbWVJbnRlcm5hbChhKX07XG5nZW5lcmF0ZVVuaXF1ZU5hbWVJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXtyZXR1cm4gZ2VuZXJhdGVVbmlxdWVOYW1lRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoVkFSX0xFVFRFUl9PUFRJT05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmNoYXJBdCgwKSxhLmdldFZhcmlhYmxlTWFwKCkuZ2V0QWxsVmFyaWFibGVzKCkubWFwKGI9PmIuZ2V0TmFtZSgpKSl9O1xuZ2VuZXJhdGVVbmlxdWVOYW1lRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiKXtpZighYi5sZW5ndGgpcmV0dXJuIGE7Y29uc3QgYz1WQVJfTEVUVEVSX09QVElPTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bGV0IGQ9XCJcIixlPWMuaW5kZXhPZihhKTtmb3IoOzspe2xldCBmPSExO2ZvcihsZXQgZz0wO2c8Yi5sZW5ndGg7ZysrKWlmKGJbZ10udG9Mb3dlckNhc2UoKT09PWEpe2Y9ITA7YnJlYWt9aWYoIWYpYnJlYWs7ZSsrO2U9PT1jLmxlbmd0aCYmKGU9MCxkPWAke051bWJlcihkKSsxfWApO2E9Yy5jaGFyQXQoZSkrZH1yZXR1cm4gYX07XG5jcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoZil7cHJvbXB0TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcygkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ORVdfVkFSSUFCTEVfVElUTEUsZixmdW5jdGlvbihnKXtpZihnKXt2YXIgaD1uYW1lVXNlZFdpdGhBbnlUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGcsYSk7aWYoaCl7aWYoaC5nZXRUeXBlKCk9PT1lKXZhciBrPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTLnJlcGxhY2UoXCIlMVwiLGguZ2V0TmFtZSgpKTtlbHNlIGs9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFNfRk9SX0FOT1RIRVJfVFlQRSxrPWsucmVwbGFjZShcIiUxXCIsaC5nZXROYW1lKCkpLnJlcGxhY2UoXCIlMlwiLFxuaC5nZXRUeXBlKCkpO2FsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKGssZnVuY3Rpb24oKXtkKGcpfSl9ZWxzZSBhLmdldFZhcmlhYmxlTWFwKCkuY3JlYXRlVmFyaWFibGUoZyxlKSxiJiZiKGcpfWVsc2UgYiYmYihudWxsKX0pfWNvbnN0IGU9Y3x8XCJcIjtkKFwiXCIpfTtcbiQucmVuYW1lVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoZSl7Y29uc3QgZj0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5SRU5BTUVfVkFSSUFCTEVfVElUTEUucmVwbGFjZShcIiUxXCIsYi5nZXROYW1lKCkpO3Byb21wdE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZixlLGZ1bmN0aW9uKGcpe2lmKGcpe3ZhciBoPW5hbWVVc2VkV2l0aE90aGVyVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhnLGIuZ2V0VHlwZSgpLGEpLGs9bmFtZVVzZWRXaXRoQ29uZmxpY3RpbmdQYXJhbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLmdldE5hbWUoKSxnLGEpO2lmKGh8fGspe3ZhciBsPVwiXCI7aD9sPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTX0ZPUl9BTk9USEVSX1RZUEUucmVwbGFjZShcIiUxXCIsXG5oLmdldE5hbWUoKSkucmVwbGFjZShcIiUyXCIsaC5nZXRUeXBlKCkpOmsmJihsPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTX0ZPUl9BX1BBUkFNRVRFUi5yZXBsYWNlKFwiJTFcIixnKS5yZXBsYWNlKFwiJTJcIixrKSk7YWxlcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cobCxmdW5jdGlvbigpe2QoZyl9KX1lbHNlIGEuZ2V0VmFyaWFibGVNYXAoKS5yZW5hbWVWYXJpYWJsZShiLGcpLGMmJmMoZyl9ZWxzZSBjJiZjKG51bGwpfSl9ZChcIlwiKX07XG5wcm9tcHROYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjKXtwcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2coYSxiLGZ1bmN0aW9uKGQpe2QmJihkPWQucmVwbGFjZSgvW1xcc1xceGEwXSsvZyxcIiBcIikudHJpbSgpLGQ9PT0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5SRU5BTUVfVkFSSUFCTEV8fGQ9PT0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ORVdfVkFSSUFCTEUpJiYoZD1udWxsKTtjKGQpfSl9O25hbWVVc2VkV2l0aE90aGVyVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7Yz1jLmdldFZhcmlhYmxlTWFwKCkuZ2V0QWxsVmFyaWFibGVzKCk7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKGxldCBkPTAsZTtlPWNbZF07ZCsrKWlmKGUuZ2V0TmFtZSgpLnRvTG93ZXJDYXNlKCk9PT1hJiZlLmdldFR5cGUoKSE9PWIpcmV0dXJuIGU7cmV0dXJuIG51bGx9O1xubmFtZVVzZWRXaXRoQW55VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe2I9Yi5nZXRWYXJpYWJsZU1hcCgpLmdldEFsbFZhcmlhYmxlcygpO2E9YS50b0xvd2VyQ2FzZSgpO2ZvcihsZXQgYz0wLGQ7ZD1iW2NdO2MrKylpZihkLmdldE5hbWUoKS50b0xvd2VyQ2FzZSgpPT09YSlyZXR1cm4gZDtyZXR1cm4gbnVsbH07bmFtZVVzZWRXaXRoQ29uZmxpY3RpbmdQYXJhbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuZ2V0UHJvY2VkdXJlTWFwKCkuZ2V0UHJvY2VkdXJlcygpLmxlbmd0aD9jaGVja0ZvckNvbmZsaWN0aW5nUGFyYW1XaXRoUHJvY2VkdXJlTW9kZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYixjKTpjaGVja0ZvckNvbmZsaWN0aW5nUGFyYW1XaXRoTGVnYWN5UHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLGIsYyl9O1xuY2hlY2tGb3JDb25mbGljdGluZ1BhcmFtV2l0aFByb2NlZHVyZU1vZGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7YT1hLnRvTG93ZXJDYXNlKCk7Yj1iLnRvTG93ZXJDYXNlKCk7Yz1jLmdldFByb2NlZHVyZU1hcCgpLmdldFByb2NlZHVyZXMoKTtmb3IoY29uc3QgZSBvZiBjKXt2YXIgZD1lLmdldFBhcmFtZXRlcnMoKS5maWx0ZXIoaXNWYXJpYWJsZUJhY2tlZFBhcmFtZXRlck1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX2JhY2tlZF9wYXJhbWV0ZXJfbW9kZWwpLm1hcChmPT5mLmdldFZhcmlhYmxlTW9kZWwoKS5nZXROYW1lKCkpO2lmKGQmJihjPWQuc29tZShmPT5mLnRvTG93ZXJDYXNlKCk9PT1hKSxkPWQuc29tZShmPT5mLnRvTG93ZXJDYXNlKCk9PT1iKSxjJiZkKSlyZXR1cm4gZS5nZXROYW1lKCl9cmV0dXJuIG51bGx9O1xuY2hlY2tGb3JDb25mbGljdGluZ1BhcmFtV2l0aExlZ2FjeVByb2NlZHVyZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMpe2E9YS50b0xvd2VyQ2FzZSgpO2I9Yi50b0xvd2VyQ2FzZSgpO2M9Yy5nZXRBbGxCbG9ja3MoITEpO2Zvcihjb25zdCBlIG9mIGMpe2lmKCFpc0xlZ2FjeVByb2NlZHVyZURlZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzKGUpKWNvbnRpbnVlO2M9ZS5nZXRQcm9jZWR1cmVEZWYoKTt2YXIgZD1jWzFdO2NvbnN0IGY9ZC5zb21lKGc9PmcudG9Mb3dlckNhc2UoKT09PWEpO2Q9ZC5zb21lKGc9PmcudG9Mb3dlckNhc2UoKT09PWIpO2lmKGYmJmQpcmV0dXJuIGNbMF19cmV0dXJuIG51bGx9O1xuZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEpe2NvbnN0IGI9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiZmllbGRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJWQVJcIik7Yi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGEuZ2V0SWQoKSk7Yi5zZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZXR5cGVcIixhLmdldFR5cGUoKSk7YT0kLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEuZ2V0TmFtZSgpKTtiLmFwcGVuZENoaWxkKGEpO3JldHVybiBifTtcbiQuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMsZCl7bGV0IGU9JC5nZXRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLGIsYyxkKTtlfHwoZT1jcmVhdGVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLGIsYyxkKSk7cmV0dXJuIGV9O1xuJC5nZXRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPWEuZ2V0UG90ZW50aWFsVmFyaWFibGVNYXAoKTtsZXQgZj1udWxsO2lmKGImJihmPWEuZ2V0VmFyaWFibGVCeUlkKGIpLCFmJiZlJiYoZj1lLmdldFZhcmlhYmxlQnlJZChiKSksZikpcmV0dXJuIGY7aWYoYyl7aWYoZD09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGxvb2sgdXAgYSB2YXJpYWJsZSBieSBuYW1lIHdpdGhvdXQgYSB0eXBlXCIpO2Y9YS5nZXRWYXJpYWJsZShjLGQpOyFmJiZlJiYoZj1lLmdldFZhcmlhYmxlKGMsZCkpfXJldHVybiBmfTtcbmNyZWF0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9YS5nZXRWYXJpYWJsZU1hcCgpLGY9YS5nZXRQb3RlbnRpYWxWYXJpYWJsZU1hcCgpO2N8fChjPWdlbmVyYXRlVW5pcXVlTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLmlzRmx5b3V0P2EudGFyZ2V0V29ya3NwYWNlOmEpKTtyZXR1cm4gZj9mLmNyZWF0ZVZhcmlhYmxlKGMsZCxiIT1udWxsP2I6dm9pZCAwKTplLmNyZWF0ZVZhcmlhYmxlKGMsZCxiKX07Z2V0QWRkZWRWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiKXthPWEuZ2V0QWxsVmFyaWFibGVzKCk7Y29uc3QgYz1bXTtpZihiLmxlbmd0aCE9PWEubGVuZ3RoKWZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtjb25zdCBlPWFbZF07Yi5pbmNsdWRlcyhlKXx8Yy5wdXNoKGUpfXJldHVybiBjfTtcbmNvbXBhcmVCeU5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXROYW1lKCkubG9jYWxlQ29tcGFyZShiLmdldE5hbWUoKSx2b2lkIDAse3NlbnNpdGl2aXR5OlwiYmFzZVwifSl9O2dldFZhcmlhYmxlVXNlc0J5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPVtdO2E9YS5nZXRBbGxCbG9ja3MoITEpO2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtjb25zdCBlPWFbZF0uZ2V0VmFyTW9kZWxzKCk7aWYoZSlmb3IobGV0IGY9MDtmPGUubGVuZ3RoO2YrKyllW2ZdLmdldElkKCk9PT1iJiZjLnB1c2goYVtkXSl9cmV0dXJuIGN9O1xuJC5kZWxldGVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5nZXROYW1lKCk7Y29uc3QgZT1nZXRWYXJpYWJsZVVzZXNCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYi5nZXRJZCgpKTtmb3IobGV0IGY9ZS5sZW5ndGgtMTtmPj0wO2YtLSl7Y29uc3QgZz1lW2ZdO2lmKGcudHlwZT09PVwicHJvY2VkdXJlc19kZWZub3JldHVyblwifHxnLnR5cGU9PT1cInByb2NlZHVyZXNfZGVmcmV0dXJuXCIpe2M9U3RyaW5nKGcuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpO2Q9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ0FOTk9UX0RFTEVURV9WQVJJQUJMRV9QUk9DRURVUkUucmVwbGFjZShcIiUxXCIsZCkucmVwbGFjZShcIiUyXCIsYyk7YWxlcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2coZCk7cmV0dXJufWc9PT1jJiZlLnNwbGljZShmLDEpfWMmJmUubGVuZ3RofHxlLmxlbmd0aD4xPyhkPVxuJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX1ZBUklBQkxFX0NPTkZJUk1BVElPTi5yZXBsYWNlKFwiJTFcIixTdHJpbmcoZS5sZW5ndGgrKGMmJiFjLndvcmtzcGFjZS5pc0ZseW91dD8xOjApKSkucmVwbGFjZShcIiUyXCIsZCksY29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhkLGY9PntmJiZiJiZhLmdldFZhcmlhYmxlTWFwKCkuZGVsZXRlVmFyaWFibGUoYil9KSk6YS5nZXRWYXJpYWJsZU1hcCgpLmRlbGV0ZVZhcmlhYmxlKGIpfTtcbnNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLHthZGRDb29yZGluYXRlczpiPSExLGFkZElucHV0QmxvY2tzOmM9ITAsYWRkTmV4dEJsb2NrczpkPSEwLGRvRnVsbFNlcmlhbGl6YXRpb246ZT0hMCxzYXZlSWRzOmY9ITB9PXt9KXtpZihhLmlzSW5zZXJ0aW9uTWFya2VyKCkpcmV0dXJuIG51bGw7Y29uc3QgZz17dHlwZTphLnR5cGUsaWQ6Zj9hLmlkOnZvaWQgMH07YiYmc2F2ZUNvb3JkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsZyk7c2F2ZUF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLGcpO3NhdmVFeHRyYVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxnLGUpO3NhdmVJY29ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsZyxlKTtzYXZlRmllbGRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxcbmcsZSk7YyYmc2F2ZUlucHV0QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxnLGUsZik7ZCYmc2F2ZU5leHRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLGcsZSxmKTtyZXR1cm4gZ307XG5zYXZlQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7YS5pc0NvbGxhcHNlZCgpJiYoYi5jb2xsYXBzZWQ9ITApO2EuaXNFbmFibGVkKCl8fChiLmRpc2FibGVkUmVhc29ucz1BcnJheS5mcm9tKGEuZ2V0RGlzYWJsZWRSZWFzb25zKCkpKTthLmlzT3duRGVsZXRhYmxlKCl8fChiLmRlbGV0YWJsZT0hMSk7YS5pc093bk1vdmFibGUoKXx8KGIubW92YWJsZT0hMSk7YS5pc093bkVkaXRhYmxlKCl8fChiLmVkaXRhYmxlPSExKTthLmlucHV0c0lubGluZSE9PXZvaWQgMCYmYS5pbnB1dHNJbmxpbmUhPT1hLmlucHV0c0lubGluZURlZmF1bHQmJihiLmlubGluZT1hLmlucHV0c0lubGluZSk7YS5kYXRhJiYoYi5kYXRhPWEuZGF0YSl9O1xuc2F2ZUNvb3JkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLndvcmtzcGFjZTthPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2IueD1NYXRoLnJvdW5kKGMuUlRMP2MuZ2V0V2lkdGgoKS1hLng6YS54KTtiLnk9TWF0aC5yb3VuZChhLnkpfTtzYXZlRXh0cmFTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYixjKXthLnNhdmVFeHRyYVN0YXRlPyhhPWEuc2F2ZUV4dHJhU3RhdGUoYyksYSE9PW51bGwmJihiLmV4dHJhU3RhdGU9YSkpOmEubXV0YXRpb25Ub0RvbSYmKGE9YS5tdXRhdGlvblRvRG9tKCksYSE9PW51bGwmJihiLmV4dHJhU3RhdGU9ZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpLnJlcGxhY2UoJyB4bWxucz1cImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2Jsb2NrbHkveG1sXCInLFwiXCIpKSl9O1xuc2F2ZUljb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgZSBvZiBhLmdldEljb25zKCkpaXNTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VyaWFsaXphYmxlKGUpJiYoYT1lLnNhdmVTdGF0ZShjKSkmJihkW2UuZ2V0VHlwZSgpLnRvU3RyaW5nKCldPWEpO09iamVjdC5rZXlzKGQpLmxlbmd0aCYmKGIuaWNvbnM9ZCl9O3NhdmVGaWVsZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBlIG9mIGEuZ2V0RmllbGRzKCkpZS5pc1NlcmlhbGl6YWJsZSgpJiYoZFtlLm5hbWVdPWUuc2F2ZVN0YXRlKGMpKTtPYmplY3Qua2V5cyhkKS5sZW5ndGgmJihiLmZpZWxkcz1kKX07XG5zYXZlSW5wdXRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGxldCBmPTA7ZjxhLmlucHV0TGlzdC5sZW5ndGg7ZisrKXtjb25zdCBnPWEuaW5wdXRMaXN0W2ZdO2lmKCFnLmNvbm5lY3Rpb24pY29udGludWU7Y29uc3QgaD1zYXZlQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGcuY29ubmVjdGlvbixjLGQpO2gmJihlW2cubmFtZV09aCl9T2JqZWN0LmtleXMoZSkubGVuZ3RoJiYoYi5pbnB1dHM9ZSl9O1xuc2F2ZU5leHRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIsYyxkKXthLm5leHRDb25uZWN0aW9uJiYoYT1zYXZlQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEubmV4dENvbm5lY3Rpb24sYyxkKSkmJihiLm5leHQ9YSl9O3NhdmVDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9YS5nZXRTaGFkb3dTdGF0ZSghMCk7YT1hLnRhcmdldEJsb2NrKCk7aWYoIWQmJiFhKXJldHVybiBudWxsO2NvbnN0IGU9T2JqZWN0LmNyZWF0ZShudWxsKTtkJiYoZS5zaGFkb3c9ZCk7YSYmIWEuaXNTaGFkb3coKSYmKGUuYmxvY2s9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEse2RvRnVsbFNlcmlhbGl6YXRpb246YixzYXZlSWRzOmN9KSk7cmV0dXJuIGV9O1xuYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiLHtyZWNvcmRVbmRvOmM9ITF9PXt9KXthPWFwcGVuZEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxiLHtyZWNvcmRVbmRvOmN9KTtiLnJlbmRlcmVkJiZ0cmlnZ2VyUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCk7cmV0dXJuIGF9O1xuYXBwZW5kSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIse3BhcmVudENvbm5lY3Rpb246Yyxpc1NoYWRvdzpkPSExLHJlY29yZFVuZG86ZT0hMX09e30pe2NvbnN0IGY9Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpOyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKTsoZT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtjb25zdCBnPWIuZ2V0QWxsVmFyaWFibGVzKCk7bGV0IGg7dHJ5e2g9YXBwZW5kUHJpdmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsYix7cGFyZW50Q29ubmVjdGlvbjpjLFxuaXNTaGFkb3c6ZH0pfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX1jaGVja05ld1ZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGIsZyk7aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFKSkoaCkpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZSk7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGYpO2lmKGIucmVuZGVyZWQpe2NvbnN0IGs9aDtzZXRUaW1lb3V0KCgpPT57ay5kaXNwb3NlZHx8ay5zZXRDb25uZWN0aW9uVHJhY2tpbmcoITApfSxcbjEpfXJldHVybiBofTtcbmFwcGVuZFByaXZhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIse3BhcmVudENvbm5lY3Rpb246Yyxpc1NoYWRvdzpkPSExfT17fSl7aWYoIWEudHlwZSl0aHJvdyBuZXcgTWlzc2luZ0Jsb2NrVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucyhhKTtjb25zdCBlPWIubmV3QmxvY2soYS50eXBlLGEuaWQpO2Uuc2V0U2hhZG93KGQpO2xvYWRDb29yZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGEpO2xvYWRBdHRyaWJ1dGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoZSxhKTtsb2FkRXh0cmFTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGUsYSk7dHJ5VG9Db25uZWN0UGFyZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYyxlLFxuYSk7bG9hZEljb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoZSxhKTtsb2FkRmllbGRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoZSxhKTtsb2FkSW5wdXRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGEpO2xvYWROZXh0QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoZSxhKTtpbml0QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGIucmVuZGVyZWQpO3JldHVybiBlfTtcbmNoZWNrTmV3VmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtpZihpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSlmb3IoYT1nZXRBZGRlZFZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLGIpLGI9MDtiPGEubGVuZ3RoO2IrKyl7Y29uc3QgYz1hW2JdO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0NSRUFURSkpKGMpKX19O1xubG9hZENvb3JkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7bGV0IGM9Yi54PT09dm9pZCAwPzA6Yi54O2I9Yi55PT09dm9pZCAwPzA6Yi55O2NvbnN0IGQ9YS53b3Jrc3BhY2U7Yz1kLlJUTD9kLmdldFdpZHRoKCktYzpjO2EubW92ZUJ5KGMsYil9O1xubG9hZEF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIpe2IuY29sbGFwc2VkJiZhLnNldENvbGxhcHNlZCghMCk7Yi5kZWxldGFibGU9PT0hMSYmYS5zZXREZWxldGFibGUoITEpO2IubW92YWJsZT09PSExJiZhLnNldE1vdmFibGUoITEpO2IuZWRpdGFibGU9PT0hMSYmYS5zZXRFZGl0YWJsZSghMSk7Yi5lbmFibGVkPT09ITEmJmEuc2V0RGlzYWJsZWRSZWFzb24oITAsTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMpO2lmKEFycmF5LmlzQXJyYXkoYi5kaXNhYmxlZFJlYXNvbnMpKWZvcihjb25zdCBjIG9mIGIuZGlzYWJsZWRSZWFzb25zKWEuc2V0RGlzYWJsZWRSZWFzb24oITAsYyk7Yi5pbmxpbmUhPT12b2lkIDAmJmEuc2V0SW5wdXRzSW5saW5lKGIuaW5saW5lKTtiLmRhdGEhPT12b2lkIDAmJihhLmRhdGE9Yi5kYXRhKX07XG5sb2FkRXh0cmFTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7Yi5leHRyYVN0YXRlJiYoYS5sb2FkRXh0cmFTdGF0ZT9hLmxvYWRFeHRyYVN0YXRlKGIuZXh0cmFTdGF0ZSk6YS5kb21Ub011dGF0aW9uJiZhLmRvbVRvTXV0YXRpb24oJC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYi5leHRyYVN0YXRlKSkpfTtcbnRyeVRvQ29ubmVjdFBhcmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYixjKXtpZihhKXtpZihhLmdldFNvdXJjZUJsb2NrKCkuaXNTaGFkb3coKSYmIWIuaXNTaGFkb3coKSl0aHJvdyBuZXcgUmVhbENoaWxkT2ZTaGFkb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMoYyk7aWYoYS50eXBlPT09JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLlZBTFVFKXt2YXIgZD1iLm91dHB1dENvbm5lY3Rpb247aWYoIWQpdGhyb3cgbmV3IE1pc3NpbmdDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zKFwib3V0cHV0XCIsYixjKTt9ZWxzZSBpZihkPWIucHJldmlvdXNDb25uZWN0aW9uLCFkKXRocm93IG5ldyBNaXNzaW5nQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucyhcInByZXZpb3VzXCIsXG5iLGMpO2lmKCFhLmNvbm5lY3QoZCkpe2NvbnN0IGU9Yi53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXI7dGhyb3cgbmV3IEJhZENvbm5lY3Rpb25DaGVjayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucyhlLmdldEVycm9yTWVzc2FnZShlLmNhbkNvbm5lY3RXaXRoUmVhc29uKGQsYSwhMSksZCxhKSxhLnR5cGU9PT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuVkFMVUU/XCJvdXRwdXQgY29ubmVjdGlvblwiOlwicHJldmlvdXMgY29ubmVjdGlvblwiLGIsYyk7fX19O1xubG9hZEljb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtpZihiLmljb25zKXt2YXIgYz1PYmplY3Qua2V5cyhiLmljb25zKTtmb3IoY29uc3QgZSBvZiBjKXtjPWIuaWNvbnNbZV07dmFyIGQ9YS5nZXRJY29uKGUpO2lmKCFkKXtkPWdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklDT04sZSwhMSk7aWYoIWQpdGhyb3cgbmV3IFVucmVnaXN0ZXJlZEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMoZSxhLGIpO2Q9bmV3IGQoYSk7YS5hZGRJY29uKGQpfWlzU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZShkKSYmZC5sb2FkU3RhdGUoYyl9fX07XG5sb2FkRmllbGRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtpZihiLmZpZWxkcyl7dmFyIGM9T2JqZWN0LmtleXMoYi5maWVsZHMpO2ZvcihsZXQgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXtjb25zdCBlPWNbZF0sZj1iLmZpZWxkc1tlXSxnPWEuZ2V0RmllbGQoZSk7Zz9nLmxvYWRTdGF0ZShmKTpjb25zb2xlLndhcm4oYElnbm9yaW5nIG5vbi1leGlzdGFudCBmaWVsZCAke2V9IGluIGJsb2NrICR7YS50eXBlfWApfX19O1xubG9hZElucHV0QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtpZihiLmlucHV0cyl7dmFyIGM9T2JqZWN0LmtleXMoYi5pbnB1dHMpO2ZvcihsZXQgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXtjb25zdCBlPWNbZF0sZj1hLmdldElucHV0KGUpO2lmKCFmfHwhZi5jb25uZWN0aW9uKXRocm93IG5ldyBNaXNzaW5nQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucyhlLGEsYik7bG9hZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhmLmNvbm5lY3Rpb24sYi5pbnB1dHNbZV0pfX19O1xubG9hZE5leHRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIpe2lmKGIubmV4dCl7aWYoIWEubmV4dENvbm5lY3Rpb24pdGhyb3cgbmV3IE1pc3NpbmdDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zKFwibmV4dFwiLGEsYik7bG9hZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLm5leHRDb25uZWN0aW9uLGIubmV4dCl9fTtsb2FkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7Yi5zaGFkb3cmJmEuc2V0U2hhZG93U3RhdGUoYi5zaGFkb3cpO2IuYmxvY2smJmFwcGVuZFByaXZhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhiLmJsb2NrLGEuZ2V0U291cmNlQmxvY2soKS53b3Jrc3BhY2Use3BhcmVudENvbm5lY3Rpb246YX0pfTtcbmluaXRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7aWYoYil7YS5zZXRDb25uZWN0aW9uVHJhY2tpbmcoITEpO2EuaW5pdFN2ZygpO2EucXVldWVSZW5kZXIoKTtmb3IoY29uc3QgYyBvZiBhLmdldEljb25zKCkpYy5vbkxvY2F0aW9uQ2hhbmdlKGEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpKX1lbHNlIGEuaW5pdE1vZGVsKCl9O2hhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYS5idWJibGVJc1Zpc2libGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLnNldEJ1YmJsZVZpc2libGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmdldEJ1YmJsZT09PVwiZnVuY3Rpb25cIn07dG9SYWRpYW5zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aD1mdW5jdGlvbihhKXtyZXR1cm4gYSpNYXRoLlBJLzE4MH07XG50b0RlZ3JlZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoPWZ1bmN0aW9uKGEpe3JldHVybiBhKjE4MC9NYXRoLlBJfTtjbGFtcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGg9ZnVuY3Rpb24oYSxiLGMpe2lmKGM8YSl7Y29uc3QgZD1jO2M9YTthPWR9cmV0dXJuIE1hdGgubWF4KGEsTWF0aC5taW4oYixjKSl9O1xuY3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrbHlEcm9wRG93bkRpdlwiKXx8KGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuY2xhc3NOYW1lPVwiYmxvY2tseURyb3BEb3duRGl2XCIsZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYudGFiSW5kZXg9LTEsKGdldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpfHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiksY29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksY29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmNsYXNzTmFtZT1cblwiYmxvY2tseURyb3BEb3duQ29udGVudFwiLGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmFwcGVuZENoaWxkKGNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiksa2V5ZG93bkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoY29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LFwia2V5ZG93blwiLG51bGwsZ2xvYmFsU2hvcnRjdXRIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKSxhcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYXJyb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5jbGFzc05hbWU9XCJibG9ja2x5RHJvcERvd25BcnJvd1wiLGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmFwcGVuZENoaWxkKGFycm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpLFxuZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc3R5bGUub3BhY2l0eT1cIjBcIixkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS50cmFuc2l0aW9uPVwidHJhbnNmb3JtIFwiK0FOSU1BVElPTl9USU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYrXCJzLCBvcGFjaXR5IFwiK0FOSU1BVElPTl9USU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYrXCJzXCIpfTtzZXRCb3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSl7Ym91bmRzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWF9O2dldE93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oKXtyZXR1cm4gb3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdn07XG5nZXRDb250ZW50RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oKXtyZXR1cm4gY29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2fTtjbGVhckNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe2tleWRvd25MaXN0ZW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2JiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoa2V5ZG93bkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpLGtleWRvd25MaXN0ZW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwpO2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnJlbW92ZSgpO2NyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCl9O1xuc2V0Q29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiKXtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YTtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5ib3JkZXJDb2xvcj1ifTtzaG93UG9zaXRpb25lZEJ5QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIsYyxkLGU9ITApe3JldHVybiBzaG93UG9zaXRpb25lZEJ5UmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGdldFNjYWxlZEJib3hPZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYiksYSxlLGMsZCl9O1xuc2hvd1Bvc2l0aW9uZWRCeUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZD0hMCl7cG9zaXRpb25Ub0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ITA7cmV0dXJuIHNob3dQb3NpdGlvbmVkQnlSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoZ2V0U2NhbGVkQmJveE9mRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihhKSxhLGQsYixjKX07XG5nZXRTY2FsZWRCYm94T2ZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0U3ZnUm9vdCgpO2NvbnN0IGM9YS53b3Jrc3BhY2Uuc2NhbGUsZD1hLmhlaWdodCpjO2E9YS53aWR0aCpjO2I9Z2V0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGIpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYi55LGIueStkLGIueCxiLngrYSl9O2dldFNjYWxlZEJib3hPZkZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSl7YT1hLmdldFNjYWxlZEJCb3goKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEudG9wLGEuYm90dG9tLGEubGVmdCxhLnJpZ2h0KX07XG5zaG93UG9zaXRpb25lZEJ5UmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYixjLGQsZSl7Y29uc3QgZj1hLmxlZnQrKGEucmlnaHQtYS5sZWZ0KS8yLGc9YS5ib3R0b207YT1hLnRvcDtlJiYoYSs9ZSk7ZT1iLmdldFNvdXJjZUJsb2NrKCk7bGV0IGg9ZS53b3Jrc3BhY2U7Zm9yKDtoLm9wdGlvbnMucGFyZW50V29ya3NwYWNlOyloPWgub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2U7c2V0Qm91bmRzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGguZ2V0UGFyZW50U3ZnKCkucGFyZW50Tm9kZSk7cmV0dXJuIHNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihiLGUuUlRMLGYsZyxmLGEsYyxkKX07XG5zaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoKXtvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWE7b25IaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9aHx8bnVsbDtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5kaXJlY3Rpb249Yj9cInJ0bFwiOlwibHRyXCI7YT1nZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCk7cmVuZGVyZWRDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1hLmdldFJlbmRlcmVyKCkuZ2V0Q2xhc3NOYW1lKCk7dGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1hLmdldFRoZW1lKCkuZ2V0Q2xhc3NOYW1lKCk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsXG5yZW5kZXJlZENsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdix0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KTtjPXBvc2l0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihjLGQsZSxmKTtnJiYocmV0dXJuRXBoZW1lcmFsRm9jdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS50YWtlRXBoZW1lcmFsRm9jdXMoZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpKTtyZXR1cm4gY307XG5nZXRQb3NpdGlvbkJlbG93TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYixjLGQpe2E9Z2V0UG9zaXRpb25YJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYSxjLmxlZnQsYy5yaWdodCxkLndpZHRoKTtyZXR1cm57aW5pdGlhbFg6YS5kaXZYLGluaXRpYWxZOmIsZmluYWxYOmEuZGl2WCxmaW5hbFk6YitQQURESU5HX1kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixhcnJvd1g6YS5hcnJvd1gsYXJyb3dZOi0oQVJST1dfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LzIrQk9SREVSX1NJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiksYXJyb3dBdFRvcDohMCxhcnJvd1Zpc2libGU6ITB9fTtcbmdldFBvc2l0aW9uQWJvdmVNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZCl7YT1nZXRQb3NpdGlvblgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihhLGMubGVmdCxjLnJpZ2h0LGQud2lkdGgpO3JldHVybntpbml0aWFsWDphLmRpdlgsaW5pdGlhbFk6Yi1kLmhlaWdodCxmaW5hbFg6YS5kaXZYLGZpbmFsWTpiLWQuaGVpZ2h0LVBBRERJTkdfWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGFycm93WDphLmFycm93WCxhcnJvd1k6ZC5oZWlnaHQtQk9SREVSX1NJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdioyLUFSUk9XX1NJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi8yLGFycm93QXRUb3A6ITEsYXJyb3dWaXNpYmxlOiEwfX07XG5nZXRQb3NpdGlvblRvcE9mUGFnZU1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIsYyl7YT1nZXRQb3NpdGlvblgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihhLGIubGVmdCxiLnJpZ2h0LGMud2lkdGgpO3JldHVybntpbml0aWFsWDphLmRpdlgsaW5pdGlhbFk6MCxmaW5hbFg6YS5kaXZYLGZpbmFsWTowLGFycm93QXRUb3A6bnVsbCxhcnJvd1g6bnVsbCxhcnJvd1k6bnVsbCxhcnJvd1Zpc2libGU6ITF9fTtcbmdldFBvc2l0aW9uWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYixjLGQpe2I9Y2xhbXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoKGIsYS1kLzIsYy1kKTthPWEtQVJST1dfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LzItYjtjPUFSUk9XX0hPUklaT05UQUxfUEFERElORyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O2E9Y2xhbXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoKGMsYSxkLWMtQVJST1dfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KTtyZXR1cm57YXJyb3dYOmEsZGl2WDpifX07aXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oKXtyZXR1cm4hIW93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXZ9O1xuaGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIpe3JldHVybiBvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PT09YT8oYj9oaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCk6aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCksITApOiExfTtcbmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLCAwKVwiO2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLm9wYWNpdHk9XCIwXCI7YW5pbWF0ZU91dFRpbWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9c2V0VGltZW91dChmdW5jdGlvbigpe2hpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKX0sQU5JTUFUSU9OX1RJTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdioxRTMpO29uSGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2JiYob25IaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKSxvbkhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsKX07XG5oaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKCl7aXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKSYmKGFuaW1hdGVPdXRUaW1lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2JiZjbGVhclRpbWVvdXQoYW5pbWF0ZU91dFRpbWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpLG9uSGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2JiYob25IaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKSxvbkhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsKSxjbGVhckNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLG93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxnZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCkubWFya0ZvY3VzZWQoKSxcbnJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYmJihyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCkscmV0dXJuRXBoZW1lcmFsRm9jdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsKSl9O1xucG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYixjLGQpe2E9aW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5nZXRQb3NpdGlvbk1ldHJpY3MoYSxiLGMsZCk7YS5hcnJvd1Zpc2libGU/KGI9YS5hcnJvd1gsYz1hLmFycm93WSxkPWEuYXJyb3dBdFRvcD80NToyMjUsYXJyb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5kaXNwbGF5PVwiXCIsYXJyb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZSgke2J9cHgsICR7Y31weCkgcm90YXRlKCR7ZH1kZWcpYCxhcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJibG9ja2x5RHJvcERvd25BcnJvd1wiKSk6YXJyb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5kaXNwbGF5PVxuXCJub25lXCI7Yj1NYXRoLmZsb29yKGEuaW5pdGlhbFgpO2M9TWF0aC5mbG9vcihhLmluaXRpYWxZKTtkPU1hdGguZmxvb3IoYS5maW5hbFgpO2NvbnN0IGU9TWF0aC5mbG9vcihhLmZpbmFsWSk7ZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc3R5bGUubGVmdD1iK1wicHhcIjtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS50b3A9YytcInB4XCI7ZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7ZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc3R5bGUub3BhY2l0eT1cIjFcIjtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrKGQtYikrXCJweCxcIisoZS1jKStcInB4KVwiO3JldHVybiEhYS5hcnJvd0F0VG9wfTtcbnJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe2lmKG93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpe3ZhciBhPW93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuZ2V0U291cmNlQmxvY2soKTthPXBvc2l0aW9uVG9GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2P2dldFNjYWxlZEJib3hPZkZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYob3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdik6Z2V0U2NhbGVkQmJveE9mQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihhKTtjb25zdCBiPWEubGVmdCsoYS5yaWdodC1hLmxlZnQpLzI7cG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGIsYS5ib3R0b20sYixhLnRvcCl9ZWxzZSBoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKX07XG5zaG9ydGVzdFN0cmluZ0xlbmd0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGg/YS5yZWR1Y2UoZnVuY3Rpb24oYixjKXtyZXR1cm4gYi5sZW5ndGg8Yy5sZW5ndGg/YjpjfSkubGVuZ3RoOjB9O1xuY29tbW9uV29yZFByZWZpeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhLGIpe2lmKCFhLmxlbmd0aClyZXR1cm4gMDtpZihhLmxlbmd0aD09PTEpcmV0dXJuIGFbMF0ubGVuZ3RoO2xldCBjPTA7Yj1ifHxzaG9ydGVzdFN0cmluZ0xlbmd0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhhKTtsZXQgZDtmb3IoZD0wO2Q8YjtkKyspe3ZhciBlPWFbMF1bZF07Zm9yKHZhciBmPTE7ZjxhLmxlbmd0aDtmKyspaWYoZSE9PWFbZl1bZF0pcmV0dXJuIGM7ZT09PVwiIFwiJiYoYz1kKzEpfWZvcihlPTE7ZTxhLmxlbmd0aDtlKyspaWYoKGY9YVtlXVtkXSkmJmYhPT1cIiBcIilyZXR1cm4gYztyZXR1cm4gYn07XG5jb21tb25Xb3JkU3VmZml4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYoIWEubGVuZ3RoKXJldHVybiAwO2lmKGEubGVuZ3RoPT09MSlyZXR1cm4gYVswXS5sZW5ndGg7bGV0IGM9MDtiPWJ8fHNob3J0ZXN0U3RyaW5nTGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGEpO2xldCBkO2ZvcihkPTA7ZDxiO2QrKyl7dmFyIGU9YVswXS5zdWJzdHIoLWQtMSwxKTtmb3IodmFyIGY9MTtmPGEubGVuZ3RoO2YrKylpZihlIT09YVtmXS5zdWJzdHIoLWQtMSwxKSlyZXR1cm4gYztlPT09XCIgXCImJihjPWQrMSl9Zm9yKGU9MTtlPGEubGVuZ3RoO2UrKylpZigoZj1hW2VdLmNoYXJBdChhW2VdLmxlbmd0aC1kLTEpKSYmZiE9PVwiIFwiKXJldHVybiBjO3JldHVybiBifTtcbiQud3JhcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhLGIpe2E9YS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdPXdyYXBMaW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGFbY10sYik7cmV0dXJuIGEuam9pbihcIlxcblwiKX07XG53cmFwTGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhLGIpe2lmKGEubGVuZ3RoPD1iKXJldHVybiBhO2NvbnN0IGM9YS50cmltKCkuc3BsaXQoL1xccysvKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLmxlbmd0aD5iJiYoYj1jW2RdLmxlbmd0aCk7dmFyIGU9LUluZmluaXR5O2xldCBmLGc9MTtkb3tkPWU7Zj1hO2E9W107ZT1jLmxlbmd0aC9nO2xldCBoPTE7Zm9yKGxldCBrPTA7azxjLmxlbmd0aC0xO2srKyloPChrKzEuNSkvZT8oaCsrLGFba109ITApOmFba109ITE7YT13cmFwTXV0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGMsYSxiKTtlPXdyYXBTY29yZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhjLGEsYik7YT13cmFwVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGMsYSk7ZysrfXdoaWxlKGU+ZCk7cmV0dXJuIGZ9O1xud3JhcFNjb3JlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEsYixjKXtjb25zdCBkPVswXSxlPVtdO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWRbZC5sZW5ndGgtMV0rPWFbZl0ubGVuZ3RoLGJbZl09PT0hMD8oZC5wdXNoKDApLGUucHVzaChhW2ZdLmNoYXJBdChhW2ZdLmxlbmd0aC0xKSkpOmJbZl09PT0hMSYmZFtkLmxlbmd0aC0xXSsrO2E9TWF0aC5tYXgoLi4uZCk7Yj0wO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspYi09TWF0aC5wb3coTWF0aC5hYnMoYy1kW2ZdKSwxLjUpKjIsYi09TWF0aC5wb3coYS1kW2ZdLDEuNSksXCIuPyFcIi5pbmNsdWRlcyhlW2ZdKT9iKz1jLzM6XCIsOyldfVwiLmluY2x1ZGVzKGVbZl0pJiYoYis9Yy80KTtkLmxlbmd0aD4xJiZkW2QubGVuZ3RoLTFdPD1kW2QubGVuZ3RoLTJdJiYoYis9LjUpO3JldHVybiBifTtcbndyYXBNdXRhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc9ZnVuY3Rpb24oYSxiLGMpe2xldCBkPXdyYXBTY29yZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhhLGIsYyksZTtmb3IobGV0IGY9MDtmPGIubGVuZ3RoLTE7ZisrKXtpZihiW2ZdPT09YltmKzFdKWNvbnRpbnVlO2NvbnN0IGc9W10uY29uY2F0KGIpO2dbZl09IWdbZl07Z1tmKzFdPSFnW2YrMV07Y29uc3QgaD13cmFwU2NvcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYSxnLGMpO2g+ZCYmKGQ9aCxlPWcpfXJldHVybiBlP3dyYXBNdXRhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYSxlLGMpOmJ9O1xud3JhcFRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9W107Zm9yKGxldCBkPTA7ZDxhLmxlbmd0aDtkKyspYy5wdXNoKGFbZF0pLGJbZF0hPT12b2lkIDAmJmMucHVzaChiW2RdP1wiXFxuXCI6XCIgXCIpO3JldHVybiBjLmpvaW4oXCJcIil9OyQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuL15cXHMqLT9cXGQrKFxcLlxcZCspP1xccyokLy50ZXN0KGEpfTtzZXRDdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtjdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1hfTtnZXRDdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe3JldHVybiBjdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcH07XG5pc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHZpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwfTtnZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXB9O2dldFRvb2x0aXBPZk9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oYSl7aWYoYT1nZXRUYXJnZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKGEpKXtmb3IoYT1hLnRvb2x0aXA7dHlwZW9mIGE9PT1cImZ1bmN0aW9uXCI7KWE9YSgpO2lmKHR5cGVvZiBhIT09XCJzdHJpbmdcIil0aHJvdyBFcnJvcihcIlRvb2x0aXAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBzdHJpbmcuXCIpO3JldHVybiBhfXJldHVyblwiXCJ9O1xuZ2V0VGFyZ2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtmb3IoO2EmJmEudG9vbHRpcDspe2lmKHR5cGVvZiBhLnRvb2x0aXA9PT1cInN0cmluZ1wifHx0eXBlb2YgYS50b29sdGlwPT09XCJmdW5jdGlvblwiKXJldHVybiBhO2E9YS50b29sdGlwfXJldHVybiBudWxsfTtjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibG9ja2x5VG9vbHRpcERpdlwiKXx8KGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmNsYXNzTmFtZT1cImJsb2NrbHlUb29sdGlwRGl2XCIsKGdldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpfHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKSl9O1xuYmluZE1vdXNlRXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXthLm1vdXNlT3ZlcldyYXBwZXJfPWJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLFwicG9pbnRlcm92ZXJcIixudWxsLG9uTW91c2VPdmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCk7YS5tb3VzZU91dFdyYXBwZXJfPWJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLFwicG9pbnRlcm91dFwiLG51bGwsb25Nb3VzZU91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApO2EuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsb25Nb3VzZU1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLCExKX07XG51bmJpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oYSl7YSYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEubW91c2VPdmVyV3JhcHBlcl8pLHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEubW91c2VPdXRXcmFwcGVyXyksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixvbk1vdXNlTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApKX07XG5vbk1vdXNlT3ZlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oYSl7YmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXB8fChhPWdldFRhcmdldE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoYS5jdXJyZW50VGFyZ2V0KSxlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCE9PWEmJihoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpLHBvaXNvbmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9bnVsbCxlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1hKSxjbGVhclRpbWVvdXQobW91c2VPdXRQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKSl9O1xub25Nb3VzZU91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oYSl7YmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXB8fChtb3VzZU91dFBpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9c2V0VGltZW91dChmdW5jdGlvbigpe3BvaXNvbmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9bnVsbDtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpfSwxKSxjbGVhclRpbWVvdXQoc2hvd1BpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApLHNob3dQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTApfTtcbm9uTW91c2VNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtpZihlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAudG9vbHRpcCYmIWJsb2NrZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKWlmKHZpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKXtjb25zdCBiPWxhc3RYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC1hLnBhZ2VYO2E9bGFzdFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLWEucGFnZVk7TWF0aC5zcXJ0KGIqYithKmEpPlJBRElVU19PSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCl9ZWxzZSBwb2lzb25lZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwIT09ZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJlxuKGNsZWFyVGltZW91dChzaG93UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCksbGFzdFgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWEucGFnZVgsbGFzdFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWEucGFnZVksc2hvd1BpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9c2V0VGltZW91dChzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxIT1ZFUl9NUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApKX07ZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtwb2lzb25lZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPW51bGw7aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKX07XG5oaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe3Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwJiYodmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ITEsY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmKGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuc3R5bGUuZGlzcGxheT1cIm5vbmVcIikpO3Nob3dQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwJiYoY2xlYXJUaW1lb3V0KHNob3dQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKSxzaG93UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0wKX07XG5ibG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpO2Jsb2NrZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPSEwfTt1bmJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe2Jsb2NrZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPSExfTtcbnJlbmRlckNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJih0eXBlb2YgY3VzdG9tVG9vbHRpcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9PT1cImZ1bmN0aW9uXCI/Y3VzdG9tVG9vbHRpcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCk6cmVuZGVyRGVmYXVsdENvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCkpfTtcbnJlbmRlckRlZmF1bHRDb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe3ZhciBhPWdldFRvb2x0aXBPZk9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApO2E9JC53cmFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGEsTElNSVQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKTthPWEuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCBiPTA7YjxhLmxlbmd0aDtiKyspe2NvbnN0IGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFbYl0pKTtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmFwcGVuZENoaWxkKGMpfX07XG5nZXRQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oYSl7Y29uc3QgYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O2xldCBkPWxhc3RYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDtkPWE/ZC0oT0ZGU0VUX1gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwK2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAub2Zmc2V0V2lkdGgpOmQrT0ZGU0VUX1gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO2xldCBlPWxhc3RZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCtPRkZTRVRfWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7ZStjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLm9mZnNldEhlaWdodD5jK3dpbmRvdy5zY3JvbGxZJiYoZS09Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5vZmZzZXRIZWlnaHQrXG4yKk9GRlNFVF9ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCk7YT9kPU1hdGgubWF4KE1BUkdJTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLXdpbmRvdy5zY3JvbGxYLGQpOmQrY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5vZmZzZXRXaWR0aD5iK3dpbmRvdy5zY3JvbGxYLTIqTUFSR0lOUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJihkPWItY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5vZmZzZXRXaWR0aC0yKk1BUkdJTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKTtyZXR1cm57eDpkLHk6ZX19O1xuc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtpZighYmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJihwb2lzb25lZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApKXtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLnRleHRDb250ZW50PVwiXCI7cmVuZGVyQ29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKTt2YXIgYT1lbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5SVEw7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5zdHlsZS5kaXJlY3Rpb249YT9cInJ0bFwiOlwibHRyXCI7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5zdHlsZS5kaXNwbGF5PVxuXCJibG9ja1wiO3Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPSEwO3ZhciB7eDpiLHk6Y309Z2V0UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKGEpO2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuc3R5bGUubGVmdD1iK1wicHhcIjtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLnN0eWxlLnRvcD1jK1wicHhcIn19O2dldEhzdlNhdHVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oKXtyZXR1cm4gaHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cn07c2V0SHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbihhKXtoc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWF9O1xuZ2V0SHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oKXtyZXR1cm4gaHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXJ9O3NldEhzdlZhbHVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWZ1bmN0aW9uKGEpe2hzdlZhbHVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWF9O1xucGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oYSl7YT1gJHthfWAudG9Mb3dlckNhc2UoKS50cmltKCk7dmFyIGI9bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXJbYV07aWYoYilyZXR1cm4gYjtiPWEuc3Vic3RyaW5nKDAsMik9PT1cIjB4XCI/XCIjXCIrYS5zdWJzdHJpbmcoMik6YTtiPWJbMF09PT1cIiNcIj9iOlwiI1wiK2I7aWYoL14jWzAtOWEtZl17Nn0kLy50ZXN0KGIpKXJldHVybiBiO2lmKC9eI1swLTlhLWZdezN9JC8udGVzdChiKSlyZXR1cm5bXCIjXCIsYlsxXSxiWzFdLGJbMl0sYlsyXSxiWzNdLGJbM11dLmpvaW4oXCJcIik7dmFyIGM9YS5tYXRjaCgvXig/OnJnYik/XFxzKlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpJC8pO3JldHVybiBjJiYoYT1OdW1iZXIoY1sxXSksYj1OdW1iZXIoY1syXSksYz1OdW1iZXIoY1szXSksYT49MCYmYTwyNTYmJmI+PTAmJmI8MjU2JiZjPj0wJiZjPDI1Nik/cmdiVG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYSxcbmIsYyk6bnVsbH07cmdiVG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oYSxiLGMpe2I9YTw8MTZ8Yjw8OHxjO3JldHVybiBhPDE2P1wiI1wiKygxNjc3NzIxNnxiKS50b1N0cmluZygxNikuc3Vic3RyKDEpOlwiI1wiK2IudG9TdHJpbmcoMTYpfTtoZXhUb1JnYiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbihhKXthPXBhcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGEpO2lmKCFhKXJldHVyblswLDAsMF07YT1wYXJzZUludChhLnN1YnN0cigxKSwxNik7cmV0dXJuW2E+PjE2LGE+PjgmMjU1LGEmMjU1XX07XG5oc3ZUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbihhLGIsYyl7bGV0IGQ9MCxlPTAsZj0wO2lmKGI9PT0wKWY9ZT1kPWM7ZWxzZXtjb25zdCBnPU1hdGguZmxvb3IoYS82MCksaD1hLzYwLWc7YT1jKigxLWIpO2NvbnN0IGs9YyooMS1iKmgpO2I9YyooMS1iKigxLWgpKTtzd2l0Y2goZyl7Y2FzZSAxOmQ9aztlPWM7Zj1hO2JyZWFrO2Nhc2UgMjpkPWE7ZT1jO2Y9YjticmVhaztjYXNlIDM6ZD1hO2U9aztmPWM7YnJlYWs7Y2FzZSA0OmQ9YjtlPWE7Zj1jO2JyZWFrO2Nhc2UgNTpkPWM7ZT1hO2Y9azticmVhaztjYXNlIDY6Y2FzZSAwOmQ9YyxlPWIsZj1hfX1yZXR1cm4gcmdiVG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoTWF0aC5mbG9vcihkKSxNYXRoLmZsb29yKGUpLE1hdGguZmxvb3IoZikpfTtcbmJsZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWZ1bmN0aW9uKGEsYixjKXthPXBhcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGEpO2lmKCFhKXJldHVybiBudWxsO2I9cGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYik7aWYoIWIpcmV0dXJuIG51bGw7YT1oZXhUb1JnYiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihhKTtiPWhleFRvUmdiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGIpO3JldHVybiByZ2JUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihNYXRoLnJvdW5kKGJbMF0rYyooYVswXS1iWzBdKSksTWF0aC5yb3VuZChiWzFdK2MqKGFbMV0tYlsxXSkpLE1hdGgucm91bmQoYlsyXStjKihhWzJdLWJbMl0pKSl9O1xuaHVlVG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGhzdlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGEsaHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixoc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cioyNTUpfTtcbnRva2VuaXplSW50ZXJwb2xhdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1bXTt2YXIgZT1hLnNwbGl0KFwiXCIpO2UucHVzaChcIlwiKTt2YXIgZj0wO2E9W107bGV0IGc9bnVsbDtmb3IobGV0IGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIGg9ZVtsXTtpZihmPT09MClpZihoPT09XCIlXCIpKGY9YS5qb2luKFwiXCIpKSYmZC5wdXNoKGYpLGEubGVuZ3RoPTAsZj0xO2Vsc2UgaWYoYyYmaD09PVwiXFxuXCIpe2NvbnN0IG09YS5qb2luKFwiXCIpO20mJmQucHVzaChtKTthLmxlbmd0aD0wO2QucHVzaChoKX1lbHNlIGEucHVzaChoKTtlbHNlIGlmKGY9PT0xKWg9PT1cIiVcIj8oYS5wdXNoKGgpLGY9MCk6YiYmXCIwXCI8PWgmJmg8PVwiOVwiPyhmPTIsZz1oLChoPWEuam9pbihcIlwiKSkmJmQucHVzaChoKSxhLmxlbmd0aD0wKTpoPT09XCJ7XCI/Zj0zOihhLnB1c2goXCIlXCIsaCksZj0wKTtlbHNlIGlmKGY9PT0yKWlmKFwiMFwiPD1oJiZoPD1cIjlcIilnKz1cbmg7ZWxzZXt2YXIgaz12b2lkIDA7ZC5wdXNoKHBhcnNlSW50KChrPWcpIT1udWxsP2s6XCJcIiwxMCkpO2wtLTtmPTB9ZWxzZSBmPT09MyYmKGg9PT1cIlwiPyhhLnNwbGljZSgwLDAsXCIle1wiKSxsLS0sZj0wKTpoIT09XCJ9XCI/YS5wdXNoKGgpOihmPWEuam9pbihcIlwiKSwvW0EtWl1cXHcqL2kudGVzdChmKT8oaD1mLnRvVXBwZXJDYXNlKCksKGg9aC5zdGFydHNXaXRoKFwiQktZX1wiKT9oLnN1YnN0cmluZyg0KTpudWxsKSYmaCBpbiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZz8oZj0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZ1toXSx0eXBlb2YgZj09PVwic3RyaW5nXCI/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCx0b2tlbml6ZUludGVycG9sYXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoZixiLGMpKTpiP2QucHVzaChgJHtmfWApOmQucHVzaChmKSk6ZC5wdXNoKFwiJXtcIitmK1wifVwiKSk6ZC5wdXNoKFwiJXtcIitmK1wifVwiKSxmPVxuYS5sZW5ndGg9MCkpfShiPWEuam9pbihcIlwiKSkmJmQucHVzaChiKTtrPVtdO2EubGVuZ3RoPTA7Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKyl0eXBlb2YgZFtlXSE9PVwic3RyaW5nXCJ8fGMmJmRbZV09PT1cIlxcblwiPygoYj1hLmpvaW4oXCJcIikpJiZrLnB1c2goYiksYS5sZW5ndGg9MCxrLnB1c2goZFtlXSkpOmEucHVzaChkW2VdKTsoYj1hLmpvaW4oXCJcIikpJiZrLnB1c2goYik7YS5sZW5ndGg9MDtyZXR1cm4ga307dG9rZW5pemVJbnRlcnBvbGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZz1mdW5jdGlvbihhKXtyZXR1cm4gdG9rZW5pemVJbnRlcnBvbGF0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEsITAsITApfTtcbnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmc9ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGEhPT1cInN0cmluZ1wiKXJldHVybiBhO2E9dG9rZW5pemVJbnRlcnBvbGF0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEsITEsITEpO3JldHVybiBhLmxlbmd0aD9TdHJpbmcoYVswXSk6XCJcIn07XG5jaGVja01lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZz1mdW5jdGlvbihhKXtsZXQgYj0hMDtjb25zdCBjPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLGQ9YS5tYXRjaCgvJXtCS1lfW0EtWl1cXHcqfS9naSk7aWYoZClmb3IobGV0IGU9MDtlPGQubGVuZ3RoO2UrKyl7Y29uc3QgZj1kW2VdLnRvVXBwZXJDYXNlKCk7Y1tmLnNsaWNlKDYsLTEpXT09PXZvaWQgMCYmKGNvbnNvbGUud2FybihcIk5vIG1lc3NhZ2Ugc3RyaW5nIGZvciBcIitkW2VdK1wiIGluIFwiK2EpLGI9ITEpfXJldHVybiBifTtcbnBhcnNlQmxvY2tDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nPWZ1bmN0aW9uKGEpe2NvbnN0IGI9dHlwZW9mIGE9PT1cInN0cmluZ1wiP3JlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSk6YTt2YXIgYz1OdW1iZXIoYik7aWYoIWlzTmFOKGMpJiYwPD1jJiZjPD0zNjApcmV0dXJue2h1ZTpjLGhleDpoc3ZUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihjLGdldEhzdlNhdHVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoKSxnZXRIc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cigpKjI1NSl9O2lmKGM9cGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYikpcmV0dXJue2h1ZTpudWxsLGhleDpjfTtjPSdJbnZhbGlkIGNvbG91cjogXCInK2IrJ1wiJzthIT09YiYmKGMrPScgKGZyb20gXCInK1xuYSsnXCIpJyk7dGhyb3cgRXJyb3IoYyk7fTtnZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oKXtyZXR1cm4gY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2fTt0ZXN0T25seV9zZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oYSl7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWE7aWYoYT09PW51bGwpe2xldCBiOyhiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuXCIrY29udGFpbmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KSk9PW51bGx8fGIucmVtb3ZlKCl9fTtcbmNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbigpe2NvbnN0IGE9Z2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCl8fGRvY3VtZW50LmJvZHksYj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LlwiK2NvbnRhaW5lckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdik7Yj9jb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9YjooY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LmNsYXNzTmFtZT1jb250YWluZXJDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LnRhYkluZGV4PVxuLTEpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixcImtleWRvd25cIixudWxsLGdsb2JhbFNob3J0Y3V0SGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbik7YS5hcHBlbmRDaGlsZChjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYpfTtcbnNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oYSxiLGMsZCxlPSEwKXtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCk7b3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9YTtkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWM7aWYoYz1jb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYpe2Muc3R5bGUuZGlyZWN0aW9uPWI/XCJydGxcIjpcImx0clwiO2Muc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7aWYoIWQmJmEgaW5zdGFuY2VvZiBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkKXtsZXQgaDtkPShoPWEuZ2V0U291cmNlQmxvY2soKSk9PW51bGw/dm9pZCAwOmgud29ya3NwYWNlfXZhciBmO293bmVyV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PShmPWQpIT1udWxsP2Y6bnVsbDt2YXIgZzthPShnPWQpIT1udWxsP2c6Z2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpO1xucmVuZGVyZXJDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9YS5nZXRSZW5kZXJlcigpLmdldENsYXNzTmFtZSgpO3RoZW1lQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWEuZ2V0VGhlbWUoKS5nZXRDbGFzc05hbWUoKTtyZW5kZXJlckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYyxyZW5kZXJlckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdik7dGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGMsdGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYpO2UmJihyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1cbiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLnRha2VFcGhlbWVyYWxGb2N1cyhjKSl9fTtcbmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oKXtpZihpc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKSl7b3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9bnVsbDt2YXIgYT1jb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7YSYmKGEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixhLnN0eWxlLmxlZnQ9XCJcIixhLnN0eWxlLnRvcD1cIlwiLGRpc3Bvc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYmJihkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCksZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1udWxsKSxhLnRleHRDb250ZW50PVwiXCIscmVuZGVyZXJDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYmJihyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFxucmVuZGVyZXJDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYpLHJlbmRlcmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PVwiXCIpLHRoZW1lQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2JiYocmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSx0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdiksdGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9XCJcIiksZ2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpLm1hcmtGb2N1c2VkKCkscmV0dXJuRXBoZW1lcmFsRm9jdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYmJihyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpLHJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PVxubnVsbCkpfX07aXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKCl7cmV0dXJuISFvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdn07aGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oYSl7b3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9PT1hJiZoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCl9O2hpZGVJZk93bmVySXNJbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhKXtsZXQgYj1vd25lcldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj09PW51bGwsYz1hO2Zvcig7IWImJmM7KXtpZihjPT09YSl7Yj0hMDticmVha31jPWEub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2V9YiYmaGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpfTtcbnBvc2l0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oYSxiLGMpe2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5zdHlsZS5sZWZ0PWErXCJweFwiO2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5zdHlsZS50b3A9YitcInB4XCI7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LnN0eWxlLmhlaWdodD1jK1wicHhcIn07XG5wb3NpdGlvbldpdGhBbmNob3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT1jYWxjdWxhdGVZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KGEsYixjKTthPWNhbGN1bGF0ZVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoYSxiLGMsZCk7ZTwwP3Bvc2l0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoYSwwLGMuaGVpZ2h0K2UpOnBvc2l0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoYSxlLGMuaGVpZ2h0KX07Y2FsY3VsYXRlWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gZD9NYXRoLm1pbihNYXRoLm1heChiLnJpZ2h0LWMud2lkdGgsYS5sZWZ0KSxhLnJpZ2h0LWMud2lkdGgpOk1hdGgubWF4KE1hdGgubWluKGIubGVmdCxhLnJpZ2h0LWMud2lkdGgpLGEubGVmdCl9O1xuY2FsY3VsYXRlWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIuYm90dG9tK2MuaGVpZ2h0Pj1hLmJvdHRvbT9iLnRvcC1jLmhlaWdodDpiLmJvdHRvbX07aXNSZXBvc2l0aW9uYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhKXtyZXR1cm4hKGE9PW51bGx8fCFhLnJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUpfTtyZXBvc2l0aW9uRm9yV2luZG93UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKCl7aXNSZXBvc2l0aW9uYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdihvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdikmJm93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LnJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUoKXx8aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpfTtcbmdldEN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuIGN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51fTtzZXRDdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbihhKXtjdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1hfTtcbnNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbihhLGIsYyxkLGUpe3Nob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoZHVtbXlPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LGMsZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LGQpO2lmKGIubGVuZ3RoKXtlfHwoYSBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudD9lPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTooY29uc29sZS53YXJuKFwiQ29udGV4dCBtZW51IG9wZW5lZCB3aXRoIGtleWJvYXJkIGJ1dCBubyBsb2NhdGlvbiBnaXZlblwiKSxlPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApKSk7dmFyIGY9cG9wdWxhdGVfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoYixcbmMsYSxlKTttZW51XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWY7cG9zaXRpb25fJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoZixjLGUpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmZvY3VzKCl9LDEpO2N1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PW51bGx9ZWxzZSBoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoKX07XG5wb3B1bGF0ZV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPW5ldyBNZW51JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudTtlLnNldFJvbGUoUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuTUVOVSk7Zm9yKGxldCBmPTA7ZjxhLmxlbmd0aDtmKyspe2NvbnN0IGc9YVtmXTtpZihnLnNlcGFyYXRvcil7ZS5hZGRDaGlsZChuZXcgTWVudVNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVfc2VwYXJhdG9yKTtjb250aW51ZX1jb25zdCBoPW5ldyBNZW51SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVpdGVtKGcudGV4dCk7aC5zZXRSaWdodFRvTGVmdChiKTtoLnNldFJvbGUoUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuTUVOVUlURU0pO2UuYWRkQ2hpbGQoaCk7aC5zZXRFbmFibGVkKGcuZW5hYmxlZCk7aWYoZy5lbmFibGVkKWgub25BY3Rpb24oZnVuY3Rpb24oayxcbmwpe2hpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSgpO3JlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3NldFRpbWVvdXQoKCk9PntnLmNhbGxiYWNrKGcuc2NvcGUsYyxsLGQpfSwwKX0pfSx7fSl9cmV0dXJuIGV9O1xucG9zaXRpb25fJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9Z2V0Vmlld3BvcnRCQm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgoKTtjPW5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChjLnkrZC50b3AsYy55K2QudG9wLGMueCtkLmxlZnQsYy54K2QubGVmdCk7Y3JlYXRlV2lkZ2V0XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KGEpO2NvbnN0IGU9YS5nZXRTaXplKCk7YiYmKGMubGVmdCs9ZS53aWR0aCxjLnJpZ2h0Kz1lLndpZHRoLGQubGVmdCs9ZS53aWR0aCxkLnJpZ2h0Kz1lLndpZHRoKTtwb3NpdGlvbldpdGhBbmNob3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoZCxjLGUsYik7YS5mb2N1cygpfTtcbmNyZWF0ZVdpZGdldF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbihhKXt2YXIgYj1nZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKTtpZighYil0aHJvdyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gY3JlYXRlIGEgY29udGV4dCBtZW51IHdoZW4gd2lkZ2V0IGRpdiBpcyBudWxsXCIpO2I9YS5yZW5kZXIoYik7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYixcImJsb2NrbHlDb250ZXh0TWVudVwiKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFwiY29udGV4dG1lbnVcIixudWxsLGhhbHRQcm9wYWdhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KTthLmZvY3VzKCl9O2hhbHRQcm9wYWdhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfTtcbmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbigpe2hpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KGR1bW15T3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSk7Y3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9bnVsbH07ZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKCl7bWVudV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSYmKG1lbnVfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUuZGlzcG9zZSgpLG1lbnVfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9bnVsbCl9O1xuJC5jYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbihhLGIpe3JldHVybigpPT57JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7bGV0IGM7dHJ5e2M9YiBpbnN0YW5jZW9mIEVsZW1lbnQ/ZG9tVG9CbG9ja0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGIsYS53b3Jrc3BhY2UpOmFwcGVuZEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYixhLndvcmtzcGFjZSk7Y29uc3QgZD1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtkLng9YS5SVEw/ZC54LSQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXM6ZC54KyQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXM7ZC55Kz0kLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5zbmFwUmFkaXVzKlxuMjtjLm1vdmVCeShkLngsZC55KX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJiFjLmlzU2hhZG93KCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFKSkoYykpOyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShjKTtyZXR1cm4gY319O1xubW91c2VUb1dvcmtzcGFjZVBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZz1mdW5jdGlvbihhLGIpe2I9bW91c2VUb1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGIsYS5nZXRQYXJlbnRTdmcoKSxhLmdldEludmVyc2VTY3JlZW5DVE0oKSk7Yi54Lz1hLnNjYWxlO2IueS89YS5zY2FsZTtyZXR1cm4gYn07c3RhcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnPWZ1bmN0aW9uKGEsYixjKXtiPW1vdXNlVG9Xb3Jrc3BhY2VQb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcoYSxiKTt3b3Jrc3BhY2VUb0RyYWdEZWx0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcuc2V0KGEsQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlmZmVyZW5jZShjLGIpKX07XG5tb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZz1mdW5jdGlvbihhLGIpe2I9bW91c2VUb1dvcmtzcGFjZVBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyhhLGIpO2E9d29ya3NwYWNlVG9EcmFnRGVsdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnLmdldChhKTtpZighYSl0aHJvdyBFcnJvcihcIkRyYWcgbm90IGluaXRpYWxpemVkXCIpO3JldHVybiBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYSxiKX07XG53b3Jrc3BhY2VUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGI9ITEpe2NvbnN0IGM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwieG1sXCIpO3ZhciBkPXZhcmlhYmxlc1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKCQuYWxsVXNlZFZhck1vZGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhKSk7ZC5oYXNDaGlsZE5vZGVzKCkmJmMuYXBwZW5kQ2hpbGQoZCk7Zm9yKGNvbnN0IGUgb2YgYS5nZXRUb3BDb21tZW50cygpKWMuYXBwZW5kQ2hpbGQoc2F2ZVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZSxiKSk7YT1hLmdldFRvcEJsb2NrcyghMCk7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyljLmFwcGVuZENoaWxkKGJsb2NrVG9Eb21XaXRoWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYVtkXSxiKSk7cmV0dXJuIGN9O1xuc2F2ZVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiPSExKXtjb25zdCBjPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImNvbW1lbnRcIik7Ynx8Yy5zZXRBdHRyaWJ1dGUoXCJpZFwiLGEuaWQpO2I9YS53b3Jrc3BhY2U7Y29uc3QgZD1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKS5jbG9uZSgpO2QueD1iLlJUTD9iLmdldFdpZHRoKCktZC54OmQueDtjLnNldEF0dHJpYnV0ZShcInhcIixgJHtkLnh9YCk7Yy5zZXRBdHRyaWJ1dGUoXCJ5XCIsYCR7ZC55fWApO2Muc2V0QXR0cmlidXRlKFwid1wiLGAke2EuZ2V0U2l6ZSgpLndpZHRofWApO2Muc2V0QXR0cmlidXRlKFwiaFwiLGAke2EuZ2V0U2l6ZSgpLmhlaWdodH1gKTthLmdldFRleHQoKSYmKGMudGV4dENvbnRlbnQ9YS5nZXRUZXh0KCkpO2EuaXNDb2xsYXBzZWQoKSYmYy5zZXRBdHRyaWJ1dGUoXCJjb2xsYXBzZWRcIixcInRydWVcIik7YS5pc093bkVkaXRhYmxlKCl8fFxuYy5zZXRBdHRyaWJ1dGUoXCJlZGl0YWJsZVwiLFwiZmFsc2VcIik7YS5pc093bk1vdmFibGUoKXx8Yy5zZXRBdHRyaWJ1dGUoXCJtb3ZhYmxlXCIsXCJmYWxzZVwiKTthLmlzT3duRGVsZXRhYmxlKCl8fGMuc2V0QXR0cmlidXRlKFwiZGVsZXRhYmxlXCIsXCJmYWxzZVwiKTtyZXR1cm4gY307XG52YXJpYWJsZXNUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhKXtjb25zdCBiPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcInZhcmlhYmxlc1wiKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdLGU9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwidmFyaWFibGVcIik7ZS5hcHBlbmRDaGlsZCgkLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGQuZ2V0TmFtZSgpKSk7ZC5nZXRUeXBlKCkmJmUuc2V0QXR0cmlidXRlKFwidHlwZVwiLGQuZ2V0VHlwZSgpKTtlLmlkPWQuZ2V0SWQoKTtiLmFwcGVuZENoaWxkKGUpfXJldHVybiBifTtcbmJsb2NrVG9Eb21XaXRoWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtpZihhLmlzSW5zZXJ0aW9uTWFya2VyKCkmJihhPWEuZ2V0Q2hpbGRyZW4oITEpWzBdLCFhKSlyZXR1cm4gbmV3IERvY3VtZW50RnJhZ21lbnQ7bGV0IGM9MDthLndvcmtzcGFjZS5SVEwmJihjPWEud29ya3NwYWNlLmdldFdpZHRoKCkpO2I9YmxvY2tUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGIpO2lmKGlzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChiKSl7Y29uc3QgZD1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtiLnNldEF0dHJpYnV0ZShcInhcIixTdHJpbmcoTWF0aC5yb3VuZChhLndvcmtzcGFjZS5SVEw/Yy1kLng6ZC54KSkpO2Iuc2V0QXR0cmlidXRlKFwieVwiLFN0cmluZyhNYXRoLnJvdW5kKGQueSkpKX1yZXR1cm4gYn07XG5maWVsZFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe2lmKGEuaXNTZXJpYWxpemFibGUoKSl7Y29uc3QgYj0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJmaWVsZFwiKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLm5hbWV8fFwiXCIpO3JldHVybiBhLnRvWG1sKGIpfXJldHVybiBudWxsfTthbGxGaWVsZHNUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2Zvcihjb25zdCBjIG9mIGEuZ2V0RmllbGRzKCkpKGE9ZmllbGRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChjKSkmJmIuYXBwZW5kQ2hpbGQoYSl9O1xuYmxvY2tUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2lmKGEuaXNJbnNlcnRpb25NYXJrZXIoKSlyZXR1cm4oYj1hLmdldENoaWxkcmVuKCExKVswXSk/YmxvY2tUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChiKTpuZXcgRG9jdW1lbnRGcmFnbWVudDtjb25zdCBjPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhLmlzU2hhZG93KCk/XCJzaGFkb3dcIjpcImJsb2NrXCIpO2Muc2V0QXR0cmlidXRlKFwidHlwZVwiLGEudHlwZSk7Ynx8KGMuaWQ9YS5pZCk7aWYoYS5tdXRhdGlvblRvRG9tKXt2YXIgZD1hLm11dGF0aW9uVG9Eb20oKTtkJiYoZC5oYXNDaGlsZE5vZGVzKCl8fGQuaGFzQXR0cmlidXRlcygpKSYmYy5hcHBlbmRDaGlsZChkKX1hbGxGaWVsZHNUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGMpO2lmKGQ9YS5nZXRDb21tZW50VGV4dCgpKXt2YXIgZT1hLmdldEljb24oSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlQpLFxuZj1lLmdldEJ1YmJsZVNpemUoKSxnPWUuYnViYmxlSXNWaXNpYmxlKCk7ZT1lLmdldEJ1YmJsZUxvY2F0aW9uKCk7dmFyIGg9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiY29tbWVudFwiKTtoLmFwcGVuZENoaWxkKCQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoZCkpO2guc2V0QXR0cmlidXRlKFwicGlubmVkXCIsYCR7Z31gKTtoLnNldEF0dHJpYnV0ZShcImhcIixgJHtmLmhlaWdodH1gKTtoLnNldEF0dHJpYnV0ZShcIndcIixgJHtmLndpZHRofWApO2UmJihoLnNldEF0dHJpYnV0ZShcInhcIixgJHthLndvcmtzcGFjZS5SVEw/YS53b3Jrc3BhY2UuZ2V0V2lkdGgoKS0oZS54K2Yud2lkdGgpOmUueH1gKSxoLnNldEF0dHJpYnV0ZShcInlcIixgJHtlLnl9YCkpO2MuYXBwZW5kQ2hpbGQoaCl9YS5kYXRhJiYoZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJkYXRhXCIpLGQuYXBwZW5kQ2hpbGQoJC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhLmRhdGEpKSxcbmMuYXBwZW5kQ2hpbGQoZCkpO2ZvcihkPTA7ZDxhLmlucHV0TGlzdC5sZW5ndGg7ZCsrKXtmPWEuaW5wdXRMaXN0W2RdO3ZhciBrPXZvaWQgMDtnPSEwO2YudHlwZSE9PSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5EVU1NWSYmZi50eXBlIT09JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLkVORF9ST1cmJihlPWYuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpLGYudHlwZT09PSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5WQUxVRT9rPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcInZhbHVlXCIpOmYudHlwZT09PSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5TVEFURU1FTlQmJihrPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcInN0YXRlbWVudFwiKSksXG5oPWYuY29ubmVjdGlvbi5nZXRTaGFkb3dEb20oKSwhaHx8ZSYmZS5pc1NoYWRvdygpfHxrLmFwcGVuZENoaWxkKGNsb25lU2hhZG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGgsYikpLGUmJihlPWJsb2NrVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZSxiKSxlLm5vZGVUeXBlPT09Tm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uRUxFTUVOVF9OT0RFJiYoay5hcHBlbmRDaGlsZChlKSxnPSExKSksay5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsZi5uYW1lKSxnfHxjLmFwcGVuZENoaWxkKGspKX1hLmlucHV0c0lubGluZSE9PXZvaWQgMCYmYS5pbnB1dHNJbmxpbmUhPT1hLmlucHV0c0lubGluZURlZmF1bHQmJmMuc2V0QXR0cmlidXRlKFwiaW5saW5lXCIsU3RyaW5nKGEuaW5wdXRzSW5saW5lKSk7YS5pc0NvbGxhcHNlZCgpJiZjLnNldEF0dHJpYnV0ZShcImNvbGxhcHNlZFwiLFwidHJ1ZVwiKTthLmlzRW5hYmxlZCgpfHxjLnNldEF0dHJpYnV0ZShcImRpc2FibGVkLXJlYXNvbnNcIixcbkFycmF5LmZyb20oYS5nZXREaXNhYmxlZFJlYXNvbnMoKSkubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIixcIikpO2EuaXNPd25EZWxldGFibGUoKXx8Yy5zZXRBdHRyaWJ1dGUoXCJkZWxldGFibGVcIixcImZhbHNlXCIpO2EuaXNPd25Nb3ZhYmxlKCl8fGMuc2V0QXR0cmlidXRlKFwibW92YWJsZVwiLFwiZmFsc2VcIik7YS5pc093bkVkaXRhYmxlKCl8fGMuc2V0QXR0cmlidXRlKFwiZWRpdGFibGVcIixcImZhbHNlXCIpO2s9YS5nZXROZXh0QmxvY2soKTtsZXQgbDtrJiYoZD1ibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGssYiksZC5ub2RlVHlwZT09PU5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLkVMRU1FTlRfTk9ERSYmKGw9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibmV4dFwiKSxsLmFwcGVuZENoaWxkKGQpLGMuYXBwZW5kQ2hpbGQobCkpKTthPWEubmV4dENvbm5lY3Rpb24mJmEubmV4dENvbm5lY3Rpb24uZ2V0U2hhZG93RG9tKCk7XG4hYXx8ayYmay5pc1NoYWRvdygpfHxsLmFwcGVuZENoaWxkKGNsb25lU2hhZG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEsYikpO3JldHVybiBjfTtcbmNsb25lU2hhZG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7bGV0IGM9YT1hLmNsb25lTm9kZSghMCksZDtmb3IoO2M7KWlmKGImJmMubm9kZU5hbWU9PT1cInNoYWRvd1wiJiZjLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpLGMuZmlyc3RDaGlsZCljPWMuZmlyc3RDaGlsZDtlbHNle2Zvcig7YyYmIWMubmV4dFNpYmxpbmc7KXtkPWM7Yz1jLnBhcmVudE5vZGU7bGV0IGU7ZC5ub2RlVHlwZT09PU5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLlRFWFRfTk9ERSYmZC5kYXRhLnRyaW0oKT09PVwiXCImJigoZT1jKT09bnVsbD92b2lkIDA6ZS5maXJzdENoaWxkKSE9PWQmJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oZCl9YyYmKGQ9YyxjPWMubmV4dFNpYmxpbmcsZC5ub2RlVHlwZT09PU5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLlRFWFRfTk9ERSYmZC5kYXRhLnRyaW0oKT09PVxuXCJcIiYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShkKSl9cmV0dXJuIGF9O2RvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhKXtyZXR1cm4gZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEpLnJlcGxhY2UoLzwoXFx3KykoW148XSopXFwvPi9nLFwiPCQxJDI+PC8kMT5cIil9O1xuZG9tVG9QcmV0dHlUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe2E9ZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpLnNwbGl0KFwiPFwiKTtsZXQgYj1cIlwiO2ZvcihsZXQgYz0xO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY107ZFswXT09PVwiL1wiJiYoYj1iLnN1YnN0cmluZygyKSk7YVtjXT1iK1wiPFwiK2Q7ZFswXSE9PVwiL1wiJiZkLnNsaWNlKC0yKSE9PVwiLz5cIiYmKGIrPVwiICBcIil9YT1hLmpvaW4oXCJcXG5cIik7YT1hLnJlcGxhY2UoLyg8KFxcdyspXFxiW14+XSo+W15cXG5dKilcXG4gKjxcXC9cXDI+L2csXCIkMTwvJDI+XCIpO3JldHVybiBhLnJlcGxhY2UoL15cXG4vLFwiXCIpfTtcbmNsZWFyV29ya3NwYWNlQW5kTG9hZEZyb21YbWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtiLnNldFJlc2l6ZXNFbmFibGVkKCExKTtiLmNsZWFyKCk7YT0kLmRvbVRvV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEsYik7Yi5zZXRSZXNpemVzRW5hYmxlZCghMCk7cmV0dXJuIGF9O1xuJC5kb21Ub1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2xldCBjPTA7Yi5SVEwmJihjPWIuZ2V0V2lkdGgoKSk7Y29uc3QgZD1bXTtzdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCk7Y29uc3QgZT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7ZXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7Yi5zZXRSZXNpemVzRW5hYmxlZCYmYi5zZXRSZXNpemVzRW5hYmxlZCghMSk7bGV0IGY9ITA7dHJ5e2ZvcihsZXQgZz0wLGg7aD1hLmNoaWxkTm9kZXNbZ107ZysrKXtjb25zdCBrPWgubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxsPWg7aWYoaz09PVwiYmxvY2tcInx8az09PVwic2hhZG93XCImJiFnZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpe2NvbnN0IG09ZG9tVG9CbG9ja0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGwsXG5iKTtkLnB1c2gobS5pZCk7bGV0IG47Y29uc3QgcD1wYXJzZUludCgobj1sLmdldEF0dHJpYnV0ZShcInhcIikpIT1udWxsP246XCIxMFwiLDEwKTtsZXQgcjtjb25zdCBxPXBhcnNlSW50KChyPWwuZ2V0QXR0cmlidXRlKFwieVwiKSkhPW51bGw/cjpcIjEwXCIsMTApO2lzTmFOKHApfHxpc05hTihxKXx8bS5tb3ZlQnkoYi5SVEw/Yy1wOnAscSxbXCJjcmVhdGVcIl0pO2Y9ITF9ZWxzZXtpZihrPT09XCJzaGFkb3dcIil0aHJvdyBUeXBlRXJyb3IoXCJTaGFkb3cgYmxvY2sgY2Fubm90IGJlIGEgdG9wLWxldmVsIGJsb2NrLlwiKTtpZihrPT09XCJjb21tZW50XCIpbG9hZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwobCxiKTtlbHNlIGlmKGs9PT1cInZhcmlhYmxlc1wiKXtpZihmKWRvbVRvVmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGwsYik7ZWxzZSB0aHJvdyBFcnJvcihcIid2YXJpYWJsZXMnIHRhZyBtdXN0IGV4aXN0IG9uY2UgYmVmb3JlIGJsb2NrIGFuZCBzaGFkb3cgdGFnIGVsZW1lbnRzIGluIHRoZSB3b3Jrc3BhY2UgWE1MLCBidXQgaXQgd2FzIGZvdW5kIGluIGFub3RoZXIgbG9jYXRpb24uXCIpO1xuZj0hMX19fX1maW5hbGx5eyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZSksYi5zZXRSZXNpemVzRW5hYmxlZCYmYi5zZXRSZXNpemVzRW5hYmxlZCghMCksYi5yZW5kZXJlZCYmdHJpZ2dlclF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpLHN0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSgpfWZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuRklOSVNIRURfTE9BRElORykpKGIpKTtyZXR1cm4gZH07XG5sb2FkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe3ZhciBjO2NvbnN0IGQ9KGM9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkhPW51bGw/Yzp2b2lkIDA7Yz1iLnJlbmRlcmVkP25ldyBSZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudChiLGQpOm5ldyBXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkd29ya3NwYWNlX2NvbW1lbnQoYixkKTt2YXIgZTtjLnNldFRleHQoKGU9YS50ZXh0Q29udGVudCkhPW51bGw/ZTpcIlwiKTt2YXIgZjtlPXBhcnNlSW50KChmPWEuZ2V0QXR0cmlidXRlKFwieFwiKSkhPW51bGw/ZjpcIlwiLDEwKTtsZXQgZztmPXBhcnNlSW50KChnPWEuZ2V0QXR0cmlidXRlKFwieVwiKSkhPW51bGw/ZzpcIlwiLDEwKTtpc05hTihlKXx8aXNOYU4oZil8fChlPWIuUlRMP2IuZ2V0V2lkdGgoKS1lOmUsXG5jLm1vdmVUbyhuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoZSxmKSkpO3ZhciBoO2I9cGFyc2VJbnQoKGg9YS5nZXRBdHRyaWJ1dGUoXCJ3XCIpKSE9bnVsbD9oOlwiXCIsMTApO2xldCBrO2g9cGFyc2VJbnQoKGs9YS5nZXRBdHRyaWJ1dGUoXCJoXCIpKSE9bnVsbD9rOlwiXCIsMTApO2lzTmFOKGIpfHxpc05hTihoKXx8Yy5zZXRTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShiLGgpKTthLmdldEF0dHJpYnV0ZShcImNvbGxhcHNlZFwiKT09PVwidHJ1ZVwiJiZjLnNldENvbGxhcHNlZCghMCk7YS5nZXRBdHRyaWJ1dGUoXCJlZGl0YWJsZVwiKT09PVwiZmFsc2VcIiYmYy5zZXRFZGl0YWJsZSghMSk7YS5nZXRBdHRyaWJ1dGUoXCJtb3ZhYmxlXCIpPT09XCJmYWxzZVwiJiZjLnNldE1vdmFibGUoITEpO2EuZ2V0QXR0cmlidXRlKFwiZGVsZXRhYmxlXCIpPT09XCJmYWxzZVwiJiZjLnNldERlbGV0YWJsZSghMSk7cmV0dXJuIGN9O1xuYXBwZW5kRG9tVG9Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtpZighYi5nZXRCbG9ja3NCb3VuZGluZ0JveClyZXR1cm4gJC5kb21Ub1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGIpO3ZhciBjPWIuZ2V0QmxvY2tzQm91bmRpbmdCb3goKTthPSQuZG9tVG9Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSxiKTtpZihjJiZjLnRvcCE9PWMuYm90dG9tKXt2YXIgZD1jLmJvdHRvbTtjPWIuUlRMP2MucmlnaHQ6Yy5sZWZ0O3ZhciBlPUluZmluaXR5O2xldCBmPS1JbmZpbml0eSxnPUluZmluaXR5O2ZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBrPWIuZ2V0QmxvY2tCeUlkKGFbaF0pLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtrLnk8ZyYmKGc9ay55KTtrLng8ZSYmKGU9ay54KTtrLng+ZiYmKGY9ay54KX1kPWQtZysxMDtjPWIuUlRMP2MtZjpjLWU7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKyliLmdldEJsb2NrQnlJZChhW2VdKS5tb3ZlQnkoYyxcbmQsW1wiY3JlYXRlXCJdKX1yZXR1cm4gYX07JC5kb21Ub0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7YT1kb21Ub0Jsb2NrSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSxiKTtiLnJlbmRlcmVkJiZ0cmlnZ2VyUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCk7cmV0dXJuIGF9O1xuZG9tVG9CbG9ja0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dmFyIGM9Yi5nZXRBbGxWYXJpYWJsZXMoKTtsZXQgZDt0cnl7aWYoZD1kb21Ub0Jsb2NrSGVhZGxlc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSxiKSxiLnJlbmRlcmVkKXtjb25zdCBlPWQsZj1kLmdldERlc2NlbmRhbnRzKCExKTtlLnNldENvbm5lY3Rpb25UcmFja2luZyghMSk7Zm9yKGxldCBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pZltnXS5pbml0U3ZnKCk7Zm9yKGxldCBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pZltnXS5xdWV1ZVJlbmRlcigpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmRpc3Bvc2VkfHxlLnNldENvbm5lY3Rpb25UcmFja2luZyghMCl9LDEpO2IucmVzaXplQ29udGVudHMoKX1lbHNle2NvbnN0IGU9ZC5nZXREZXNjZW5kYW50cyghMSk7Zm9yKGxldCBmPWUubGVuZ3RoLVxuMTtmPj0wO2YtLSllW2ZdLmluaXRNb2RlbCgpfX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9aWYoaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpe2E9Z2V0QWRkZWRWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYixjKTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWM9YVtiXSxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9DUkVBVEUpKShjKSk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEUpKShkKSl9cmV0dXJuIGR9O1xuZG9tVG9WYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtmb3IobGV0IGQ9MDtkPGEuY2hpbGRyZW4ubGVuZ3RoO2QrKyl7dmFyIGM9YS5jaGlsZHJlbltkXTtjb25zdCBlPWMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxmPWMuZ2V0QXR0cmlidXRlKFwiaWRcIik7Yz1jLnRleHRDb250ZW50O2lmKCFjKWJyZWFrO2xldCBnO2IuZ2V0VmFyaWFibGVNYXAoKS5jcmVhdGVWYXJpYWJsZShjLChnPWUpIT1udWxsP2c6dm9pZCAwLGYpfX07XG5tYXBTdXBwb3J0ZWRYbWxUYWdzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe2NvbnN0IGI9e211dGF0aW9uOltdLGNvbW1lbnQ6W10sZGF0YTpbXSxmaWVsZDpbXSxpbnB1dDpbXSxuZXh0OltdfTtmb3IobGV0IGM9MDtjPGEuY2hpbGRyZW4ubGVuZ3RoO2MrKyl7Y29uc3QgZD1hLmNoaWxkcmVuW2NdO2lmKGQubm9kZVR5cGUhPT1Ob2RlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5URVhUX05PREUpc3dpdGNoKGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSBcIm11dGF0aW9uXCI6Yi5tdXRhdGlvbi5wdXNoKGQpO2JyZWFrO2Nhc2UgXCJjb21tZW50XCI6Yi5jb21tZW50LnB1c2goZCk7YnJlYWs7Y2FzZSBcImRhdGFcIjpiLmRhdGEucHVzaChkKTticmVhaztjYXNlIFwidGl0bGVcIjpjYXNlIFwiZmllbGRcIjpiLmZpZWxkLnB1c2goZCk7YnJlYWs7Y2FzZSBcInZhbHVlXCI6Y2FzZSBcInN0YXRlbWVudFwiOmIuaW5wdXQucHVzaChkKTticmVhaztjYXNlIFwibmV4dFwiOmIubmV4dC5wdXNoKGQpO1xuYnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJJZ25vcmluZyB1bmtub3duIHRhZzogXCIrZC5ub2RlTmFtZSl9fXJldHVybiBifTthcHBseU11dGF0aW9uVGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtsZXQgYz0hMTtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKyl7Y29uc3QgZT1hW2RdO2IuZG9tVG9NdXRhdGlvbiYmKGIuZG9tVG9NdXRhdGlvbihlKSxiLmluaXRTdmcmJihjPSEwKSl9cmV0dXJuIGN9O1xuYXBwbHlDb21tZW50VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdLGU9ZC50ZXh0Q29udGVudCxmPWQuZ2V0QXR0cmlidXRlKFwicGlubmVkXCIpPT09XCJ0cnVlXCI7bGV0IGc7Y29uc3QgaD1wYXJzZUludCgoZz1kLmdldEF0dHJpYnV0ZShcIndcIikpIT1udWxsP2c6XCI1MFwiLDEwKTtsZXQgaztjb25zdCBsPXBhcnNlSW50KChrPWQuZ2V0QXR0cmlidXRlKFwiaFwiKSkhPW51bGw/azpcIjUwXCIsMTApO2xldCBtLG49cGFyc2VJbnQoKG09ZC5nZXRBdHRyaWJ1dGUoXCJ4XCIpKSE9bnVsbD9tOlwiXCIsMTApLHA7Y29uc3Qgcj1wYXJzZUludCgocD1kLmdldEF0dHJpYnV0ZShcInlcIikpIT1udWxsP3A6XCJcIiwxMCk7Yi5zZXRDb21tZW50VGV4dChlKTtjb25zdCBxPWIuZ2V0SWNvbihJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuQ09NTUVOVCk7aXNOYU4oaCl8fFxuaXNOYU4obCl8fHEuc2V0QnViYmxlU2l6ZShuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoaCxsKSk7cS5zZXRCdWJibGVWaXNpYmxlKGYpO3NldFRpbWVvdXQoKCk9Pntpc05hTihuKXx8aXNOYU4ocil8fChuPWIud29ya3NwYWNlLlJUTD9iLndvcmtzcGFjZS5nZXRXaWR0aCgpLShuK2gpOm4scS5zZXRCdWJibGVMb2NhdGlvbihuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUobixyKSkpO3Euc2V0QnViYmxlVmlzaWJsZShmKX0sMSl9fTthcHBseURhdGFUYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKWIuZGF0YT1hW2NdLnRleHRDb250ZW50fTtcbmFwcGx5RmllbGRUYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY10sZT1kLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7ZT9kb21Ub0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGIsZSxkKTpjb25zb2xlLndhcm4oYElnbm9yaW5nIHVubmFtZWQgZmllbGQgaW4gYmxvY2sgJHtiLnR5cGV9YCl9fTtcbmZpbmRDaGlsZEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhKXtsZXQgYj1udWxsLGM9bnVsbDtmb3IobGV0IGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKXtjb25zdCBlPWEuY2hpbGROb2Rlc1tkXTtpc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZSkmJihlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1cImJsb2NrXCI/Yj1lOmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PVwic2hhZG93XCImJihjPWUpKX1yZXR1cm57Y2hpbGRCbG9ja0VsZW1lbnQ6YixjaGlsZFNoYWRvd0VsZW1lbnQ6Y319O1xuYXBwbHlJbnB1dFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYixjLGQpe2ZvcihsZXQgZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZT1hW2ZdO2NvbnN0IGc9ZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLGg9Zz9jLmdldElucHV0KGcpOm51bGw7aWYoIWgpe2NvbnNvbGUud2FybihcIklnbm9yaW5nIG5vbi1leGlzdGVudCBpbnB1dCBcIitnK1wiIGluIGJsb2NrIFwiK2QpO2JyZWFrfWU9ZmluZENoaWxkQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGUpO2lmKGUuY2hpbGRCbG9ja0VsZW1lbnQpe2lmKCFoLmNvbm5lY3Rpb24pdGhyb3cgVHlwZUVycm9yKFwiSW5wdXQgY29ubmVjdGlvbiBkb2VzIG5vdCBleGlzdC5cIik7ZG9tVG9CbG9ja0hlYWRsZXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGUuY2hpbGRCbG9ja0VsZW1lbnQsYixoLmNvbm5lY3Rpb24sITEpfWlmKGUuY2hpbGRTaGFkb3dFbGVtZW50KXtsZXQgazsoaz1oLmNvbm5lY3Rpb24pPT1cbm51bGx8fGsuc2V0U2hhZG93RG9tKGUuY2hpbGRTaGFkb3dFbGVtZW50KX19fTtcbmFwcGx5TmV4dFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYixjKXtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKyl7Y29uc3QgZT1maW5kQ2hpbGRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYVtkXSk7aWYoZS5jaGlsZEJsb2NrRWxlbWVudCl7aWYoIWMubmV4dENvbm5lY3Rpb24pdGhyb3cgVHlwZUVycm9yKFwiTmV4dCBzdGF0ZW1lbnQgZG9lcyBub3QgZXhpc3QuXCIpO2lmKGMubmV4dENvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSl0aHJvdyBUeXBlRXJyb3IoXCJOZXh0IHN0YXRlbWVudCBpcyBhbHJlYWR5IGNvbm5lY3RlZC5cIik7ZG9tVG9CbG9ja0hlYWRsZXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGUuY2hpbGRCbG9ja0VsZW1lbnQsYixjLm5leHRDb25uZWN0aW9uLCEwKX1lLmNoaWxkU2hhZG93RWxlbWVudCYmYy5uZXh0Q29ubmVjdGlvbiYmYy5uZXh0Q29ubmVjdGlvbi5zZXRTaGFkb3dEb20oZS5jaGlsZFNoYWRvd0VsZW1lbnQpfX07XG5kb21Ub0Jsb2NrSGVhZGxlc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7Y29uc3QgZj1hLmdldEF0dHJpYnV0ZShcInR5cGVcIik7aWYoIWYpdGhyb3cgVHlwZUVycm9yKFwiQmxvY2sgdHlwZSB1bnNwZWNpZmllZDogXCIrYS5vdXRlckhUTUwpO3ZhciBnPShlPWEuZ2V0QXR0cmlidXRlKFwiaWRcIikpIT1udWxsP2U6dm9pZCAwO2U9Yi5uZXdCbG9jayhmLGcpO2c9bWFwU3VwcG9ydGVkWG1sVGFncyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhKTtjb25zdCBoPWFwcGx5TXV0YXRpb25UYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChnLm11dGF0aW9uLGUpO2FwcGx5Q29tbWVudFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGcuY29tbWVudCxlKTthcHBseURhdGFUYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChnLmRhdGEsZSk7aWYoYylpZihkKWlmKGUucHJldmlvdXNDb25uZWN0aW9uKWMuY29ubmVjdChlLnByZXZpb3VzQ29ubmVjdGlvbik7XG5lbHNlIHRocm93IFR5cGVFcnJvcihcIk5leHQgYmxvY2sgZG9lcyBub3QgaGF2ZSBwcmV2aW91cyBzdGF0ZW1lbnQuXCIpO2Vsc2UgaWYoZS5vdXRwdXRDb25uZWN0aW9uKWMuY29ubmVjdChlLm91dHB1dENvbm5lY3Rpb24pO2Vsc2UgaWYoZS5wcmV2aW91c0Nvbm5lY3Rpb24pYy5jb25uZWN0KGUucHJldmlvdXNDb25uZWN0aW9uKTtlbHNlIHRocm93IFR5cGVFcnJvcihcIkNoaWxkIGJsb2NrIGRvZXMgbm90IGhhdmUgb3V0cHV0IG9yIHByZXZpb3VzIHN0YXRlbWVudC5cIik7YXBwbHlGaWVsZFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGcuZmllbGQsZSk7YXBwbHlJbnB1dFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGcuaW5wdXQsYixlLGYpO2FwcGx5TmV4dFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGcubmV4dCxiLGUpO2gmJmUuaW5pdFN2ZygpOyhiPWEuZ2V0QXR0cmlidXRlKFwiaW5saW5lXCIpKSYmZS5zZXRJbnB1dHNJbmxpbmUoYj09PVxuXCJ0cnVlXCIpOyhiPWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpJiZlLnNldERpc2FibGVkUmVhc29uKGI9PT1cInRydWVcInx8Yj09PVwiZGlzYWJsZWRcIixNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyk7Yj1hLmdldEF0dHJpYnV0ZShcImRpc2FibGVkLXJlYXNvbnNcIik7aWYoYiE9PW51bGwpZm9yKHZhciBrIG9mIGIuc3BsaXQoXCIsXCIpKWUuc2V0RGlzYWJsZWRSZWFzb24oITAsZGVjb2RlVVJJQ29tcG9uZW50KGspKTsoaz1hLmdldEF0dHJpYnV0ZShcImRlbGV0YWJsZVwiKSkmJmUuc2V0RGVsZXRhYmxlKGs9PT1cInRydWVcIik7KGs9YS5nZXRBdHRyaWJ1dGUoXCJtb3ZhYmxlXCIpKSYmZS5zZXRNb3ZhYmxlKGs9PT1cInRydWVcIik7KGs9YS5nZXRBdHRyaWJ1dGUoXCJlZGl0YWJsZVwiKSkmJmUuc2V0RWRpdGFibGUoaz09PVwidHJ1ZVwiKTsoaz1hLmdldEF0dHJpYnV0ZShcImNvbGxhcHNlZFwiKSkmJmUuc2V0Q29sbGFwc2VkKGs9PT1cInRydWVcIik7aWYoYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09XG5cInNoYWRvd1wiKXthPWUuZ2V0Q2hpbGRyZW4oITEpO2ZvcihrPTA7azxhLmxlbmd0aDtrKyspaWYoIWFba10uaXNTaGFkb3coKSl0aHJvdyBUeXBlRXJyb3IoXCJTaGFkb3cgYmxvY2sgbm90IGFsbG93ZWQgbm9uLXNoYWRvdyBjaGlsZC5cIik7ZS5zZXRTaGFkb3coITApfXJldHVybiBlfTtkb21Ub0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYixjKXtjb25zdCBkPWEuZ2V0RmllbGQoYik7ZD9kLmZyb21YbWwoYyk6Y29uc29sZS53YXJuKFwiSWdub3Jpbmcgbm9uLWV4aXN0ZW50IGZpZWxkIFwiK2IrXCIgaW4gYmxvY2sgXCIrYS50eXBlKX07ZGVsZXRlTmV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhKXtmb3IobGV0IGI9MDtiPGEuY2hpbGROb2Rlcy5sZW5ndGg7YisrKXtjb25zdCBjPWEuY2hpbGROb2Rlc1tiXTtpZihjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1cIm5leHRcIil7YS5yZW1vdmVDaGlsZChjKTticmVha319fTtcbmlzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PU5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLkVMRU1FTlRfTk9ERX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeT1mdW5jdGlvbihhLGIpe3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZJRUxELGEsYiwhMCl9O3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeT1mdW5jdGlvbihhKXt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZJRUxELGEpfTskLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk9ZnVuY3Rpb24oYSl7cmV0dXJuIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5LmZyb21Kc29uSW50ZXJuYWwoYSl9O1xuZnJvbUpzb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5PWZ1bmN0aW9uKGEpe2NvbnN0IGI9Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZJRUxELGEudHlwZSk7cmV0dXJuIGI/Yi5mcm9tSnNvbihhKTooY29uc29sZS53YXJuKFwiQmxvY2tseSBjb3VsZCBub3QgY3JlYXRlIGEgZmllbGQgb2YgdHlwZSBcIithLnR5cGUrXCIuIFRoZSBmaWVsZCBpcyBwcm9iYWJseSBub3QgYmVpbmcgcmVnaXN0ZXJlZC4gVGhpcyBjb3VsZCBiZSBiZWNhdXNlIHRoZSBmaWxlIGlzIG5vdCBsb2FkZWQsIHRoZSBmaWVsZCBkb2VzIG5vdCByZWdpc3RlciBpdHNlbGYgKElzc3VlICMxNTg0KSwgb3IgdGhlIHJlZ2lzdHJhdGlvbiBpcyBub3QgYmVpbmcgcmVhY2hlZC5cIiksbnVsbCl9O1xuaXNJbWFnZVByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bj1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGE9PT1cIm9iamVjdFwiJiZcInNyY1wiaW4gYSYmdHlwZW9mIGEuc3JjPT09XCJzdHJpbmdcIiYmXCJhbHRcImluIGEmJnR5cGVvZiBhLmFsdD09PVwic3RyaW5nXCImJlwid2lkdGhcImluIGEmJnR5cGVvZiBhLndpZHRoPT09XCJudW1iZXJcIiYmXCJoZWlnaHRcImluIGEmJnR5cGVvZiBhLmhlaWdodD09PVwibnVtYmVyXCJ9O1xuJC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYSE9PVwic3RyaW5nXCJ8fGEudHJpbSgpPT09XCJcIil0aHJvdyBFcnJvcignRXJyb3I6IEludmFsaWQgZXh0ZW5zaW9uIG5hbWUgXCInK2ErJ1wiJyk7aWYoYWxsRXh0ZW5zaW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnNbYV0pdGhyb3cgRXJyb3IoJ0Vycm9yOiBFeHRlbnNpb24gXCInK2ErJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTtpZih0eXBlb2YgYiE9PVwiZnVuY3Rpb25cIil0aHJvdyBFcnJvcignRXJyb3I6IEV4dGVuc2lvbiBcIicrYSsnXCIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7YWxsRXh0ZW5zaW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnNbYV09Yn07XG4kLnJlZ2lzdGVyTWl4aW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYil7aWYoIWJ8fHR5cGVvZiBiIT09XCJvYmplY3RcIil0aHJvdyBFcnJvcignRXJyb3I6IE1peGluIFwiJythKydcIiBtdXN0IGJlIGEgb2JqZWN0Jyk7JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYSxmdW5jdGlvbigpe3RoaXMubWl4aW4oYil9KX07XG4kLnJlZ2lzdGVyTXV0YXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT0nRXJyb3Igd2hlbiByZWdpc3RlcmluZyBtdXRhdG9yIFwiJythKydcIjogJztjaGVja0hhc011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhlLGIpO2NvbnN0IGY9Y2hlY2tNdXRhdG9yRGlhbG9nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhiLGUpO2lmKGMmJnR5cGVvZiBjIT09XCJmdW5jdGlvblwiKXRocm93IEVycm9yKGUrJ0V4dGVuc2lvbiBcIicrYSsnXCIgaXMgbm90IGEgZnVuY3Rpb24nKTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLGZ1bmN0aW9uKCl7ZiYmdGhpcy5zZXRNdXRhdG9yKG5ldyAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uKGR8fFtdLHRoaXMpKTt0aGlzLm1peGluKGIpO2MmJmMuYXBwbHkodGhpcyl9KX07XG51bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhKXtpc1JlZ2lzdGVyZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGEpP2RlbGV0ZSBhbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc1thXTpjb25zb2xlLndhcm4oJ05vIGV4dGVuc2lvbiBtYXBwaW5nIGZvciBuYW1lIFwiJythKydcIiBmb3VuZCB0byB1bnJlZ2lzdGVyJyl9O2lzUmVnaXN0ZXJlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSl7cmV0dXJuISFhbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc1thXX07XG5hcHBseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9YWxsRXh0ZW5zaW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnNbYV07aWYodHlwZW9mIGQhPT1cImZ1bmN0aW9uXCIpdGhyb3cgRXJyb3IoJ0Vycm9yOiBFeHRlbnNpb24gXCInK2ErJ1wiIG5vdCBmb3VuZC4nKTtsZXQgZTtjP2NoZWNrTm9NdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYSxiKTplPWdldE11dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhiKTtkLmFwcGx5KGIpO2lmKGMpY2hlY2tIYXNNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoJ0Vycm9yIGFmdGVyIGFwcGx5aW5nIG11dGF0b3IgXCInK2ErJ1wiOiAnLGIpO2Vsc2UgaWYoIW11dGF0b3JQcm9wZXJ0aWVzTWF0Y2gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGUsXG5iKSl0aHJvdyBFcnJvcignRXJyb3Igd2hlbiBhcHBseWluZyBleHRlbnNpb24gXCInK2ErJ1wiOiBtdXRhdGlvbiBwcm9wZXJ0aWVzIGNoYW5nZWQgd2hlbiBhcHBseWluZyBhIG5vbi1tdXRhdG9yIGV4dGVuc2lvbi4nKTt9O2NoZWNrTm9NdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtpZihnZXRNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYikubGVuZ3RoKXRocm93IEVycm9yKCdFcnJvcjogdHJpZWQgdG8gYXBwbHkgbXV0YXRpb24gXCInK2ErJ1wiIHRvIGEgYmxvY2sgdGhhdCBhbHJlYWR5IGhhcyBtdXRhdG9yIGZ1bmN0aW9ucy4gIEJsb2NrIGlkOiAnK2IuaWQpO307XG5jaGVja1htbEhvb2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIpe3JldHVybiBjaGVja0hhc0Z1bmN0aW9uUGFpciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYS5tdXRhdGlvblRvRG9tLGEuZG9tVG9NdXRhdGlvbixiK1wiIG11dGF0aW9uVG9Eb20vZG9tVG9NdXRhdGlvblwiKX07Y2hlY2tKc29uSG9va3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGNoZWNrSGFzRnVuY3Rpb25QYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLnNhdmVFeHRyYVN0YXRlLGEubG9hZEV4dHJhU3RhdGUsYitcIiBzYXZlRXh0cmFTdGF0ZS9sb2FkRXh0cmFTdGF0ZVwiKX07XG5jaGVja011dGF0b3JEaWFsb2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGNoZWNrSGFzRnVuY3Rpb25QYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLmNvbXBvc2UsYS5kZWNvbXBvc2UsYitcIiBjb21wb3NlL2RlY29tcG9zZVwiKX07Y2hlY2tIYXNGdW5jdGlvblBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYixjKXtpZihhJiZiKXtpZih0eXBlb2YgYSE9PVwiZnVuY3Rpb25cInx8dHlwZW9mIGIhPT1cImZ1bmN0aW9uXCIpdGhyb3cgRXJyb3IoYytcIiBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuITB9aWYoIWEmJiFiKXJldHVybiExO3Rocm93IEVycm9yKGMrXCJNdXN0IGhhdmUgYm90aCBvciBuZWl0aGVyIGZ1bmN0aW9uc1wiKTt9O1xuY2hlY2tIYXNNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWNoZWNrWG1sSG9va3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGIsYSksZD1jaGVja0pzb25Ib29rcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYixhKTtpZighYyYmIWQpdGhyb3cgRXJyb3IoYStcIk11dGF0aW9ucyBtdXN0IGNvbnRhaW4gZWl0aGVyIFhNTCBob29rcywgb3IgSlNPTiBob29rcywgb3IgYm90aFwiKTtjaGVja011dGF0b3JEaWFsb2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGIsYSl9O1xuZ2V0TXV0YXRvclByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEpe2NvbnN0IGI9W107YS5kb21Ub011dGF0aW9uIT09dm9pZCAwJiZiLnB1c2goYS5kb21Ub011dGF0aW9uKTthLm11dGF0aW9uVG9Eb20hPT12b2lkIDAmJmIucHVzaChhLm11dGF0aW9uVG9Eb20pO2Euc2F2ZUV4dHJhU3RhdGUhPT12b2lkIDAmJmIucHVzaChhLnNhdmVFeHRyYVN0YXRlKTthLmxvYWRFeHRyYVN0YXRlIT09dm9pZCAwJiZiLnB1c2goYS5sb2FkRXh0cmFTdGF0ZSk7YS5jb21wb3NlIT09dm9pZCAwJiZiLnB1c2goYS5jb21wb3NlKTthLmRlY29tcG9zZSE9PXZvaWQgMCYmYi5wdXNoKGEuZGVjb21wb3NlKTtyZXR1cm4gYn07XG5tdXRhdG9yUHJvcGVydGllc01hdGNoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIpe2I9Z2V0TXV0YXRvclByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGIpO2lmKGIubGVuZ3RoIT09YS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYVtjXSE9PWJbY10pcmV0dXJuITE7cmV0dXJuITB9O1xucnVuQWZ0ZXJQYWdlTG9hZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGRvY3VtZW50IT09XCJvYmplY3RcIil0aHJvdyBFcnJvcihcInJ1bkFmdGVyUGFnZUxvYWQoKSByZXF1aXJlcyBicm93c2VyIGRvY3VtZW50LlwiKTtpZihkb2N1bWVudC5yZWFkeVN0YXRlPT09XCJjb21wbGV0ZVwiKWEoKTtlbHNle2NvbnN0IGI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtkb2N1bWVudC5yZWFkeVN0YXRlPT09XCJjb21wbGV0ZVwiJiYoY2xlYXJJbnRlcnZhbChiKSxhKCkpfSwxMCl9fTtcbiQuYnVpbGRUb29sdGlwRm9yRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1bXTtyZXR1cm4gZnVuY3Rpb24oKXtjLmluY2x1ZGVzKHRoaXMudHlwZSl8fChjaGVja0Ryb3Bkb3duT3B0aW9uc0luVGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKHRoaXMsYSxiKSxjLnB1c2godGhpcy50eXBlKSk7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7Y29uc3QgZD1TdHJpbmcodGhpcy5nZXRGaWVsZFZhbHVlKGEpKTtyZXR1cm4gcmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhiW2RdKX0uYmluZCh0aGlzKSl9fTtcbmNoZWNrRHJvcGRvd25PcHRpb25zSW5UYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0RmllbGQoYik7aWYoZCBpbnN0YW5jZW9mIEZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93biYmIWQuaXNPcHRpb25MaXN0RHluYW1pYygpKXtkPWQuZ2V0T3B0aW9ucygpO2Zvcihjb25zdCBlIG9mIGQpZSE9PUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5TRVBBUkFUT1ImJihbLGRdPWUsY1tkXT09PXZvaWQgMCYmY29uc29sZS53YXJuKGBObyB0b29sdGlwIG1hcHBpbmcgZm9yIHZhbHVlICR7ZH0gb2YgZmllbGQgYCtgJHtifSBvZiBibG9jayB0eXBlICR7YS50eXBlfS5gKSl9fTtcbiQuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnNldFRvb2x0aXAoZnVuY3Rpb24oKXtjb25zdCBjPXRoaXMuZ2V0RmllbGQoYik7cmV0dXJuIHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSkucmVwbGFjZShcIiUxXCIsYz9jLmdldFRleHQoKTpcIlwiKX0uYmluZCh0aGlzKSl9fTtleHRlbnNpb25QYXJlbnRUb29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbigpe2NvbnN0IGE9dGhpcy50b29sdGlwO3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe2NvbnN0IGI9dGhpcy5nZXRQYXJlbnQoKTtyZXR1cm4gYiYmYi5nZXRJbnB1dHNJbmxpbmUoKSYmYi50b29sdGlwfHxhfS5iaW5kKHRoaXMpKX07XG5wb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhLGIpe3JldHVyblwiIFwiK2ErXCIsXCIrYitcIiBcIn07Y3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIiBcIithK2Iuam9pbihcIlwiKX07bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgTSBcIithK1wiLFwiK2IrXCIgXCJ9O21vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhLGIpe3JldHVyblwiIG0gXCIrYStcIixcIitiK1wiIFwifTtsaW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIiBsIFwiK2ErXCIsXCIrYitcIiBcIn07bGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhKXtyZXR1cm5cIiBsXCIrYS5qb2luKFwiXCIpfTtcbmxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIiBcIithK1wiIFwiK2IrXCIgXCJ9O2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYStcIiBcIitjK1wiIFwiK2MrXCIgXCIrYitkfTtjb25uZWN0UmVjaXByb2NhbGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe2lmKCFhfHwhYil0aHJvdyBFcnJvcihcIkNhbm5vdCBjb25uZWN0IG51bGwgY29ubmVjdGlvbnMuXCIpO2EudGFyZ2V0Q29ubmVjdGlvbj1iO2IudGFyZ2V0Q29ubmVjdGlvbj1hfTtcbmdldFNpbmdsZUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7bGV0IGM9bnVsbDtiPWIub3V0cHV0Q29ubmVjdGlvbjtjb25zdCBkPWI9PW51bGw/dm9pZCAwOmIuZ2V0Q29ubmVjdGlvbkNoZWNrZXIoKTtmb3IobGV0IGU9MCxmO2Y9YS5pbnB1dExpc3RbZV07ZSsrKXtjb25zdCBnPWYuY29ubmVjdGlvbjtsZXQgaDtpZihnJiYoKGg9ZCk9PW51bGw/MDpoLmNhbkNvbm5lY3QoYixnLCExKSkpe2lmKGMpcmV0dXJuIG51bGw7Yz1nfX1yZXR1cm4gY307Z2V0Q29ubmVjdGlvbkZvck9ycGhhbmVkT3V0cHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe2xldCBjO2Zvcig7Yz1nZXRTaW5nbGVDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbihhLGIpOylpZihhPWMudGFyZ2V0QmxvY2soKSwhYXx8YS5pc1NoYWRvdygpKXJldHVybiBjO3JldHVybiBudWxsfTtcbmlzSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9pY29uPWZ1bmN0aW9uKGEpe3JldHVybiBpc0ZvY3VzYWJsZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGUoYSkmJnR5cGVvZiBhLmdldFR5cGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmluaXRWaWV3PT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5kaXNwb3NlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5nZXRXZWlnaHQ9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmdldFNpemU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmFwcGx5Q29sb3VyPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5oaWRlRm9ySW5zZXJ0aW9uTWFya2VyPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS51cGRhdGVFZGl0YWJsZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEudXBkYXRlQ29sbGFwc2VkPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5pc1Nob3duV2hlbkNvbGxhcHNlZD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuc2V0T2Zmc2V0SW5CbG9jaz09PVxuXCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5vbkxvY2F0aW9uQ2hhbmdlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5vbkNsaWNrPT09XCJmdW5jdGlvblwifTtcbmlzQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29tbWVudF9pY29uPWZ1bmN0aW9uKGEpe3JldHVybiBpc0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaWNvbihhKSYmaGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGUoYSkmJmlzU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZShhKSYmdHlwZW9mIGEuc2V0VGV4dD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0VGV4dD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuc2V0QnViYmxlU2l6ZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0QnViYmxlU2l6ZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuc2V0QnViYmxlTG9jYXRpb249PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmdldEJ1YmJsZUxvY2F0aW9uPT09XCJmdW5jdGlvblwiJiZhLmdldFR5cGUoKT09PUljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5UfTtcbmRpc3Bvc2VVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9ZnVuY3Rpb24oYSl7aWYoIShhLmdldERlc2NlbmRhbnRzKCExKS5sZW5ndGg+MTAwKSl7dmFyIGI9YS53b3Jrc3BhY2UsYz1hLmdldFN2Z1Jvb3QoKTtiLmdldEF1ZGlvTWFuYWdlcigpLnBsYXkoXCJkZWxldGVcIik7dmFyIGQ9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksZT1jLmNsb25lTm9kZSghMCk7ZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIitkLngrXCIsXCIrZC55K1wiKVwiKTt2YXIgZjsoZj1iLmdldExheWVyTWFuYWdlcigpKT09bnVsbHx8Zi5hcHBlbmRUb0FuaW1hdGlvbkxheWVyKHtnZXRTdmdSb290OigpPT5lfSk7ZGlzcG9zZVVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMoZSx7eDpkLngseTpkLnksd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9LGIuUlRMLG5ldyBEYXRlKX19O1xuZGlzcG9zZVVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT0oKG5ldyBEYXRlKS5nZXRUaW1lKCktZC5nZXRUaW1lKCkpLzE1MDtlPjE/cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhKTooYS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIisoYi54KyhjPy0xOjEpKmIud2lkdGgvMiplKStcIixcIisoYi55K2IuaGVpZ2h0LzIqZSkrXCIpIHNjYWxlKFwiKygxLWUpK1wiKVwiKSxzZXRUaW1lb3V0KGRpc3Bvc2VVaVN0ZXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLDEwLGEsYixjLGQpKX07XG5jb25uZWN0aW9uVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPWZ1bmN0aW9uKGEpe3ZhciBiPWEud29ya3NwYWNlO2NvbnN0IGM9Yi5zY2FsZTtiLmdldEF1ZGlvTWFuYWdlcigpLnBsYXkoXCJjbGlja1wiKTtpZighKGM8MSkpe3ZhciBkPWIuZ2V0U3ZnWFkoYS5nZXRTdmdSb290KCkpO2Eub3V0cHV0Q29ubmVjdGlvbj8oZC54Kz0oYS5SVEw/MzotMykqYyxkLnkrPTEzKmMpOmEucHJldmlvdXNDb25uZWN0aW9uJiYoZC54Kz0oYS5SVEw/LTIzOjIzKSpjLGQueSs9MypjKTt2YXIgZT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DSVJDTEUse2N4OmQueCxjeTpkLnkscjowLGZpbGw6XCJub25lXCIsc3Ryb2tlOlwiIzg4OFwiLFwic3Ryb2tlLXdpZHRoXCI6MTB9LGIuZ2V0UGFyZW50U3ZnKCkpO2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQU5JTUFURSxcbntpZDpcImFuaW1hdGlvbkNpcmNsZVwiLGJlZ2luOlwiaW5kZWZpbml0ZVwiLGF0dHJpYnV0ZU5hbWU6XCJyXCIsZHVyOlwiMTUwbXNcIixmcm9tOjAsdG86MjUqY30sZSk7Yj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5BTklNQVRFLHtpZDpcImFuaW1hdGlvbk9wYWNpdHlcIixiZWdpbjpcImluZGVmaW5pdGVcIixhdHRyaWJ1dGVOYW1lOlwib3BhY2l0eVwiLGR1cjpcIjE1MG1zXCIsZnJvbToxLHRvOjB9LGUpO2EuYmVnaW5FbGVtZW50KCk7Yi5iZWdpbkVsZW1lbnQoKTtzZXRUaW1lb3V0KCgpPT52b2lkIHJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oZSksMTUwKX19O1xuZGlzY29ubmVjdFVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1mdW5jdGlvbihhKXtkaXNjb25uZWN0VWlTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucygpO2Eud29ya3NwYWNlLmdldEF1ZGlvTWFuYWdlcigpLnBsYXkoXCJkaXNjb25uZWN0XCIpO2lmKCEoYS53b3Jrc3BhY2Uuc2NhbGU8MSkpe3ZhciBiPWEuZ2V0SGVpZ2h0V2lkdGgoKS5oZWlnaHQ7Yj1NYXRoLmF0YW4oMTAvYikvTWF0aC5QSSoxODA7YS5SVEx8fChiKj0tMSk7d29iYmxpbmdCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9YTtkaXNjb25uZWN0VWlTdGVwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucyhhLGIsbmV3IERhdGUsMCl9fTtcbmRpc2Nvbm5lY3RVaVN0ZXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9Wy42NiwxLC42NiwwLC0uNjYsLTEsLS42NiwwXTtsZXQgZj1cIlwiO2MuZ2V0VGltZSgpKzIwMD4obmV3IERhdGUpLmdldFRpbWUoKSYmKGY9YHNrZXdYKCR7TWF0aC5yb3VuZChlW2QlZS5sZW5ndGhdKmIpfSlgLGRpc2Nvbm5lY3RQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPXNldFRpbWVvdXQoZGlzY29ubmVjdFVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsMTUsYSxiLGMsZCsxKSk7YS5nZXRTdmdSb290KCkuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYCR7YS5nZXRUcmFuc2xhdGlvbigpfSAke2Z9YCl9O1xuZGlzY29ubmVjdFVpU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9ZnVuY3Rpb24oKXt3b2JibGluZ0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucyYmKGRpc2Nvbm5lY3RQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zJiYoY2xlYXJUaW1lb3V0KGRpc2Nvbm5lY3RQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKSxkaXNjb25uZWN0UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1udWxsKSx3b2JibGluZ0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucy5nZXRTdmdSb290KCkuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsd29iYmxpbmdCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMuZ2V0VHJhbnNsYXRpb24oKSksd29iYmxpbmdCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9XG5udWxsKX07XG5tb3ZlQmxvY2tUb05vdENvbmZsaWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcj1mdW5jdGlvbihhLGIpe2Eud29ya3NwYWNlLlJUTCYmKGIueD1hLndvcmtzcGFjZS5nZXRXaWR0aCgpLWIueCk7Y29uc3QgYz1hLndvcmtzcGFjZSxkPSQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXMsZT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaWZmZXJlbmNlKGIsYS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpLGY9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCksZz1jLmdldEFsbEJsb2NrcyghMSkuZmlsdGVyKGg9PmguaWQhPWEuaWQpLm1hcChoPT5oLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSk7Zm9yKDtibG9ja092ZXJsYXBzT3RoZXJFeGFjdGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3RlcihDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYixmKSxcbmcpfHxibG9ja0lzSW5TbmFwUmFkaXVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3RlcihhLENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShlLGYpLGQpOyljLlJUTD9mLnRyYW5zbGF0ZSgtZCxkKjIpOmYudHJhbnNsYXRlKGQsZCoyKTthLm1vdmVUbyhDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYixmKSl9O2Jsb2NrT3ZlcmxhcHNPdGhlckV4YWN0bHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc29tZShjPT5NYXRoLmFicyhjLngtYS54KTw9MSYmTWF0aC5hYnMoYy55LWEueSk8PTEpfTtcbmJsb2NrSXNJblNuYXBSYWRpdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS5nZXRDb25uZWN0aW9uc18oITEpLnNvbWUoZD0+ISFkLmNsb3Nlc3QoYyxiKS5jb25uZWN0aW9uKX07XG5idW1wT2JqZWN0SW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1jLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCksZT1kLnJpZ2h0LWQubGVmdCxmPWNsYW1wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aChiLnRvcCxkLnRvcCxiLnRvcCtiLmhlaWdodC0oZC5ib3R0b20tZC50b3ApKS1kLnRvcDtsZXQgZz1iLmxlZnQ7Yj1iLmxlZnQrYi53aWR0aC1lO2EuUlRMP2c9TWF0aC5taW4oYixnKTpiPU1hdGgubWF4KGcsYik7cmV0dXJuKGE9Y2xhbXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoKGcsZC5sZWZ0LGIpLWQubGVmdCl8fGY/KGMubW92ZUJ5KGEsZixbXCJpbmJvdW5kc1wiXSksITApOiExfTtcbmJ1bXBJbnRvQm91bmRzSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cz1mdW5jdGlvbihhKXtyZXR1cm4gYj0+e3ZhciBjPWEuZ2V0TWV0cmljc01hbmFnZXIoKTtpZihjLmhhc0ZpeGVkRWRnZXMoKSYmIWEuaXNEcmFnZ2luZygpKXt2YXIgZDtpZihCVU1QX0VWRU5UUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLmluY2x1ZGVzKChkPWIudHlwZSkhPW51bGw/ZDpcIlwiKSl7ZD1jLmdldFNjcm9sbE1ldHJpY3MoITApO2NvbnN0IGU9ZXh0cmFjdE9iamVjdEZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyhhLGIpO2UmJihjPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKXx8ITEsJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiLmdyb3VwKSxidW1wT2JqZWN0SW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyhhLFxuZCxlKSYmIWIuZ3JvdXAmJmNvbnNvbGUud2FybihcIk1vdmVkIG9iamVjdCBpbiBib3VuZHMgYnV0IHRoZXJlIHdhcyBubyBldmVudCBncm91cC4gVGhpcyBtYXkgYnJlYWsgdW5kby5cIiksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKSl9ZWxzZSBpc1ZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYikmJmIuc2NhbGUmJmIub2xkU2NhbGUmJmIuc2NhbGU+Yi5vbGRTY2FsZSYmYnVtcFRvcE9iamVjdHNJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzKGEpfX19O1xuZXh0cmFjdE9iamVjdEZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cz1mdW5jdGlvbihhLGIpe2xldCBjPW51bGw7c3dpdGNoKGIudHlwZSl7Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEU6Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFOihjPWEuZ2V0QmxvY2tCeUlkKGIuYmxvY2tJZCkpJiYoYz1jLmdldFJvb3RCbG9jaygpKTticmVhaztjYXNlIEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ1JFQVRFOmNhc2UgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFOmNhc2UgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9SRVNJWkU6Yz1hLmdldENvbW1lbnRCeUlkKGIuY29tbWVudElkKX1yZXR1cm4gY307XG5idW1wVG9wT2JqZWN0c0ludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRNZXRyaWNzTWFuYWdlcigpO2lmKGIuaGFzRml4ZWRFZGdlcygpJiYhYS5pc0RyYWdnaW5nKCkpe2I9Yi5nZXRTY3JvbGxNZXRyaWNzKCEwKTt2YXIgYz1hLmdldFRvcEJvdW5kZWRFbGVtZW50cygpO2ZvcihsZXQgZD0wLGU7ZT1jW2RdO2QrKylidW1wT2JqZWN0SW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyhhLGIsZSl9fTtpc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmlzRGVsZXRhYmxlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5kaXNwb3NlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5zZXREZWxldGVTdHlsZT09PVwiZnVuY3Rpb25cIn07XG5nZXRCbG9ja05hdmlnYXRpb25DYW5kaWRhdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5PWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEljb25zKCk7Zm9yKGNvbnN0IGQgb2YgYS5pbnB1dExpc3Qpe2lmKCFkLmlzVmlzaWJsZSgpKWNvbnRpbnVlO2MucHVzaCguLi5kLmZpZWxkUm93KTtsZXQgZTtpZigoZT1kLmNvbm5lY3Rpb24pPT1udWxsPzA6ZS50YXJnZXRCbG9jaygpKWlmKGE9ZC5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCksZC5jb25uZWN0aW9uLnR5cGUhPT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVHx8YiljLnB1c2goYSk7ZWxzZXtsZXQgZjsoYT0oZj1hLmxhc3RDb25uZWN0aW9uSW5TdGFjayghMSkpPT1udWxsP3ZvaWQgMDpmLmdldFNvdXJjZUJsb2NrKCkpJiZjLnB1c2goYSl9ZWxzZXtsZXQgZjsoKGY9ZC5jb25uZWN0aW9uKT09XG5udWxsP3ZvaWQgMDpmLnR5cGUpPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUUmJmMucHVzaChkLmNvbm5lY3Rpb24pfX1yZXR1cm4gY307XG5uYXZpZ2F0ZVN0YWNrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeT1mdW5jdGlvbihhLGIpe2NvbnN0IGM9YS53b3Jrc3BhY2UuZ2V0VG9wQm91bmRlZEVsZW1lbnRzKCEwKS5maWx0ZXIoZT0+aXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlKGUpKTthPWMuaW5kZXhPZihhIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc/YS5nZXRSb290QmxvY2soKTphKStiO2xldCBkPW51bGw7YT49MCYmYTxjLmxlbmd0aD9kPWNbYV06YTwwP2Q9Y1tjLmxlbmd0aC0xXTphPj1jLmxlbmd0aCYmKGQ9Y1swXSk7aWYoYjwwJiZkIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcpe2xldCBlLGY7cmV0dXJuKGY9KGU9ZC5sYXN0Q29ubmVjdGlvbkluU3RhY2soITEpKT09bnVsbD9cbnZvaWQgMDplLmdldFNvdXJjZUJsb2NrKCkpIT1udWxsP2Y6ZH1yZXR1cm4gZH07XG5uYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5PWZ1bmN0aW9uKGEsYil7dmFyIGM7bGV0IGQ7Y29uc3QgZT1hIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc/KGQ9KGM9YS5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6Yy50YXJnZXRCbG9jaygpKSE9bnVsbD9kOmEuZ2V0U3Vycm91bmRQYXJlbnQoKTphLmdldFNvdXJjZUJsb2NrKCk7aWYoIShlIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcpKXJldHVybiBudWxsO2M9Z2V0QmxvY2tOYXZpZ2F0aW9uQ2FuZGlkYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShlLGI+MCk7YT1jLmluZGV4T2YoYSk7aWYoYT09PS0xKXJldHVybiBudWxsO2I9YStiO3JldHVybiBiPj0wJiZiPGMubGVuZ3RoP1xuY1tiXTpudWxsfTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYil7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuSUNPTixhLnRvU3RyaW5nKCksYil9O3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRyZWdpc3RyeT1mdW5jdGlvbihhKXt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklDT04sYSl9O1xuaXNEcmFnZ2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5pc01vdmFibGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLnN0YXJ0RHJhZz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZHJhZz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZW5kRHJhZz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEucmV2ZXJ0RHJhZz09PVwiZnVuY3Rpb25cIn07aXNBdXRvSGlkZWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfYXV0b2hpZGVhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYS5hdXRvSGlkZT09PVwiZnVuY3Rpb25cIn07XG5pc1Byb2NlZHVyZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jaz1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGEuZ2V0UHJvY2VkdXJlTW9kZWw9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmRvUHJvY2VkdXJlVXBkYXRlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5pc1Byb2NlZHVyZURlZj09PVwiZnVuY3Rpb25cIn07aXNPYnNlcnZhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX29ic2VydmFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLnN0YXJ0UHVibGlzaGluZz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuc3RvcFB1Ymxpc2hpbmc9PT1cImZ1bmN0aW9uXCJ9O1xuYWxsUHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLmdldFByb2NlZHVyZU1hcCgpLmdldFByb2NlZHVyZXMoKS5maWx0ZXIoZD0+IWQuZ2V0UmV0dXJuVHlwZXMoKSkubWFwKGQ9PltkLmdldE5hbWUoKSxkLmdldFBhcmFtZXRlcnMoKS5tYXAoZT0+ZS5nZXROYW1lKCkpLCExXSk7YS5nZXRCbG9ja3NCeVR5cGUoXCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCIsITEpLmZvckVhY2goZD0+eyFpc1Byb2NlZHVyZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jayhkKSYmaXNMZWdhY3lQcm9jZWR1cmVEZWZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2NrcyhkKSYmYi5wdXNoKGQuZ2V0UHJvY2VkdXJlRGVmKCkpfSk7Y29uc3QgYz1hLmdldFByb2NlZHVyZU1hcCgpLmdldFByb2NlZHVyZXMoKS5maWx0ZXIoZD0+XG4hIWQuZ2V0UmV0dXJuVHlwZXMoKSkubWFwKGQ9PltkLmdldE5hbWUoKSxkLmdldFBhcmFtZXRlcnMoKS5tYXAoZT0+ZS5nZXROYW1lKCkpLCEwXSk7YS5nZXRCbG9ja3NCeVR5cGUoXCJwcm9jZWR1cmVzX2RlZnJldHVyblwiLCExKS5mb3JFYWNoKGQ9PnshaXNQcm9jZWR1cmVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2soZCkmJmlzTGVnYWN5UHJvY2VkdXJlRGVmQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MoZCkmJmMucHVzaChkLmdldFByb2NlZHVyZURlZigpKX0pO2Iuc29ydChwcm9jVHVwbGVDb21wYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyk7Yy5zb3J0KHByb2NUdXBsZUNvbXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKTtyZXR1cm5bYixjXX07XG5wcm9jVHVwbGVDb21wYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSx2b2lkIDAse3NlbnNpdGl2aXR5OlwiYmFzZVwifSl9OyQuZmluZExlZ2FsTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtpZihiLmlzSW5GbHlvdXQpcmV0dXJuIGE7Zm9yKGE9YXx8JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVU5OQU1FRF9LRVl8fFwidW5uYW1lZFwiOyFpc0xlZ2FsTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYSxiLndvcmtzcGFjZSxiKTspe2NvbnN0IGM9YS5tYXRjaCgvXiguKj8pKFxcZCspJC8pO2E9Yz9jWzFdKyhwYXJzZUludChjWzJdKSsxKTphK1wiMlwifXJldHVybiBhfTtcbmlzTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIWlzTmFtZVVzZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEsYixjKX07XG5pc05hbWVVc2VkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIsYyl7Zm9yKGNvbnN0IGQgb2YgYi5nZXRBbGxCbG9ja3MoITEpKWlmKGQhPT1jJiZpc0xlZ2FjeVByb2NlZHVyZURlZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzKGQpJiYkLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuZXF1YWxzKGQuZ2V0UHJvY2VkdXJlRGVmKClbMF0sYSkpcmV0dXJuITA7Yz1jJiZpc1Byb2NlZHVyZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jayhjKT9jPT1udWxsP3ZvaWQgMDpjLmdldFByb2NlZHVyZU1vZGVsKCk6dm9pZCAwO2Zvcihjb25zdCBkIG9mIGIuZ2V0UHJvY2VkdXJlTWFwKCkuZ2V0UHJvY2VkdXJlcygpKWlmKGQhPT1jJiYkLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuZXF1YWxzKGQuZ2V0TmFtZSgpLFxuYSkpcmV0dXJuITA7cmV0dXJuITF9O1xuJC5yZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYil0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDthPWEudHJpbSgpO2NvbnN0IGM9JC5maW5kTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhLGIpO2lzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrKGIpJiYhYi5pc0luc2VydGlvbk1hcmtlcigpJiZiLmdldFByb2NlZHVyZU1vZGVsKCkuc2V0TmFtZShjKTtjb25zdCBkPXRoaXMuZ2V0VmFsdWUoKTtpZihkIT09YSYmZCE9PWMpZm9yKGE9Yi53b3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKCExKSxiPTA7YjxhLmxlbmd0aDtiKyspe2NvbnN0IGU9YVtiXTtlLnJlbmFtZVByb2NlZHVyZSYmZS5yZW5hbWVQcm9jZWR1cmUoZCxjKX1yZXR1cm4gY307XG54bWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihmLGcpe2ZvcihsZXQgaz0wO2s8Zi5sZW5ndGg7aysrKXt2YXIgaD1mW2tdWzBdO2NvbnN0IGw9ZltrXVsxXSxtPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpO20uc2V0QXR0cmlidXRlKFwidHlwZVwiLGcpO20uc2V0QXR0cmlidXRlKFwiZ2FwXCIsXCIxNlwiKTtjb25zdCBuPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO24uc2V0QXR0cmlidXRlKFwibmFtZVwiLGgpO20uYXBwZW5kQ2hpbGQobik7Zm9yKGg9MDtoPGwubGVuZ3RoO2grKyl7Y29uc3QgcD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJhcmdcIik7cC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsbFtoXSk7bi5hcHBlbmRDaGlsZChwKX1jLnB1c2gobSl9fVxuY29uc3QgYz1bXTtpZihCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybil7dmFyIGQ9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCIpO2Quc2V0QXR0cmlidXRlKFwiZ2FwXCIsXCIxNlwiKTt2YXIgZT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJmaWVsZFwiKTtlLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIk5BTUVcIik7ZS5hcHBlbmRDaGlsZCgkLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fUFJPQ0VEVVJFKSk7ZC5hcHBlbmRDaGlsZChlKTtjLnB1c2goZCl9QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnByb2NlZHVyZXNfZGVmcmV0dXJuJiZcbihkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpLGQuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicHJvY2VkdXJlc19kZWZyZXR1cm5cIiksZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjE2XCIpLGU9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiZmllbGRcIiksZS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJOQU1FXCIpLGUuYXBwZW5kQ2hpbGQoJC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9QUk9DRURVUkUpKSxkLmFwcGVuZENoaWxkKGUpLGMucHVzaChkKSk7QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnByb2NlZHVyZXNfaWZyZXR1cm4mJihkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpLFxuZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJwcm9jZWR1cmVzX2lmcmV0dXJuXCIpLGQuc2V0QXR0cmlidXRlKFwiZ2FwXCIsXCIxNlwiKSxjLnB1c2goZCkpO2MubGVuZ3RoJiZjW2MubGVuZ3RoLTFdLnNldEF0dHJpYnV0ZShcImdhcFwiLFwiMjRcIik7YT1hbGxQcm9jZWR1cmVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhKTtiKGFbMF0sXCJwcm9jZWR1cmVzX2NhbGxub3JldHVyblwiKTtiKGFbMV0sXCJwcm9jZWR1cmVzX2NhbGxyZXR1cm5cIik7cmV0dXJuIGN9O2ludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEpe3JldHVybiBmbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYSwhMSl9O1xuZmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYj0hMCl7ZnVuY3Rpb24gYyhlLGYpe2Zvcihjb25zdCBbZyxoXW9mIGUpZC5wdXNoKHtraW5kOlwiYmxvY2tcIix0eXBlOmYsZ2FwOjE2LGV4dHJhU3RhdGU6e25hbWU6ZyxwYXJhbXM6aH19KX1pZihiKXJldHVybiB3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJUaGUgWE1MIHJldHVybiB2YWx1ZSBvZiBCbG9ja2x5LlByb2NlZHVyZXMuZmx5b3V0Q2F0ZWdvcnkoKVwiLFwidjEyXCIsXCJ2MTNcIixcInRoZSBzYW1lIG1ldGhvZCwgYnV0IGhhbmRsZSBhIHJldHVybiB0eXBlIG9mIEZseW91dEl0ZW1JbmZvW10gKEpTT04pIGluc3RlYWQuXCIpLHhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhKTtjb25zdCBkPVtdO0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuJiZcbmQucHVzaCh7a2luZDpcImJsb2NrXCIsdHlwZTpcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIixnYXA6MTYsZmllbGRzOntOQU1FOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fUFJPQ0VEVVJFfX0pO0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy5wcm9jZWR1cmVzX2RlZnJldHVybiYmZC5wdXNoKHtraW5kOlwiYmxvY2tcIix0eXBlOlwicHJvY2VkdXJlc19kZWZyZXR1cm5cIixnYXA6MTYsZmllbGRzOntOQU1FOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1BST0NFRFVSRX19KTtCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MucHJvY2VkdXJlc19pZnJldHVybiYmZC5wdXNoKHtraW5kOlwiYmxvY2tcIix0eXBlOlwicHJvY2VkdXJlc19pZnJldHVyblwiLGdhcDoxNn0pO2QubGVuZ3RoJiYoZFtkLmxlbmd0aC0xXS5nYXA9MjQpO2E9YWxsUHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYSk7XG5jKGFbMF0sXCJwcm9jZWR1cmVzX2NhbGxub3JldHVyblwiKTtjKGFbMV0sXCJwcm9jZWR1cmVzX2NhbGxyZXR1cm5cIik7cmV0dXJuIGR9O1xudXBkYXRlTXV0YXRvckZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1hLmdldEJsb2Nrc0J5VHlwZShcInByb2NlZHVyZXNfbXV0YXRvcmFyZ1wiLCExKTtmb3IobGV0IGY9MCxnO2c9Y1tmXTtmKyspYi5wdXNoKGcuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpO2M9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwieG1sXCIpO2NvbnN0IGQ9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJwcm9jZWR1cmVzX211dGF0b3JhcmdcIik7Y29uc3QgZT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJmaWVsZFwiKTtlLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIk5BTUVcIik7Yj1nZW5lcmF0ZVVuaXF1ZU5hbWVGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcygkLkRFRkFVTFRfQVJHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxcbmIpO2I9JC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChiKTtlLmFwcGVuZENoaWxkKGIpO2QuYXBwZW5kQ2hpbGQoZSk7Yy5hcHBlbmRDaGlsZChkKTthLnVwZGF0ZVRvb2xib3goYyl9O1xubXV0YXRvck9wZW5MaXN0ZW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7aWYoaXNCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSkmJmEuYnViYmxlVHlwZT09PVwibXV0YXRvclwiJiZhLmlzT3BlbiYmYS5ibG9ja0lkKXthPWdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYS53b3Jrc3BhY2VJZCkuZ2V0QmxvY2tCeUlkKGEuYmxvY2tJZCk7dmFyIGI9YS50eXBlO2lmKGI9PT1cInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cInx8Yj09PVwicHJvY2VkdXJlc19kZWZyZXR1cm5cIilhPWEuZ2V0SWNvbigkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLlRZUEUpLmdldFdvcmtzcGFjZSgpLHVwZGF0ZU11dGF0b3JGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEpLGEuYWRkQ2hhbmdlTGlzdGVuZXIobXV0YXRvckNoYW5nZUxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyl9fTtcbm11dGF0b3JDaGFuZ2VMaXN0ZW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7aWYoaXNCbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpfHxpc0Jsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSl8fGlzQmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKXx8aXNCbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSkpYT1nZXRXb3Jrc3BhY2VCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGEud29ya3NwYWNlSWQpLHVwZGF0ZU11dGF0b3JGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEpfTtcbmdldENhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuZ2V0QWxsQmxvY2tzKCExKS5maWx0ZXIoYz0+YmxvY2tJc01vZGVybkNhbGxlckZvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYyxhKXx8aXNMZWdhY3lQcm9jZWR1cmVDYWxsQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MoYykmJiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoYy5nZXRQcm9jZWR1cmVDYWxsKCksYSkpfTtcbmJsb2NrSXNNb2Rlcm5DYWxsZXJGb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrKGEpJiYhYS5pc1Byb2NlZHVyZURlZigpJiZhLmdldFByb2NlZHVyZU1vZGVsKCkmJiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoYS5nZXRQcm9jZWR1cmVNb2RlbCgpLmdldE5hbWUoKSxiKX07XG4kLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEpe2NvbnN0IGI9Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO3ZhciBjPWEuZ2V0UHJvY2VkdXJlRGVmKClbMF07Y29uc3QgZD1hLm11dGF0aW9uVG9Eb20oITApO2E9Z2V0Q2FsbGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYyxhLndvcmtzcGFjZSk7Zm9yKGxldCBmPTAsZztnPWFbZl07ZisrKXtjPShjPWcubXV0YXRpb25Ub0RvbSgpKSYmZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGMpO2cuZG9tVG9NdXRhdGlvbiYmZy5kb21Ub011dGF0aW9uKGQpO3ZhciBlPWcubXV0YXRpb25Ub0RvbSgpO2U9ZSYmZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGUpO2MhPT1lJiYoJC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKSxcbmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkoZyxcIm11dGF0aW9uXCIsbnVsbCxjLGUpKSwkLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYikpfX07XG4kLmdldERlZmluaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYil7Zm9yKGNvbnN0IGMgb2YgYi5nZXRBbGxCbG9ja3MoITEpKWlmKGlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrKGMpJiZjLmlzUHJvY2VkdXJlRGVmKCkmJiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoYy5nZXRQcm9jZWR1cmVNb2RlbCgpLmdldE5hbWUoKSxhKXx8aXNMZWdhY3lQcm9jZWR1cmVEZWZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2NrcyhjKSYmJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLmVxdWFscyhjLmdldFByb2NlZHVyZURlZigpWzBdLGEpKXJldHVybiBjO3JldHVybiBudWxsfTtcbmlzRHluYW1pY1NoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaXNEeW5hbWljfTtpc1B1enpsZVRhYiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnBhdGhEb3duIT09dm9pZCAwJiZhLnBhdGhVcCE9PXZvaWQgMH07aXNOb3RjaCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnBhdGhMZWZ0IT09dm9pZCAwJiZhLnBhdGhSaWdodCE9PXZvaWQgMH07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nPWZ1bmN0aW9uKGEsYil7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuUkVOREVSRVIsYSxiKX07dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nPWZ1bmN0aW9uKGEpe3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuUkVOREVSRVIsYSl9O1xuaW5pdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nPWZ1bmN0aW9uKGEsYixjKXthPW5ldyAoZ2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuUkVOREVSRVIsYSkpKGEpO2EuaW5pdChiLGMpO3JldHVybiBhfTtzdHJpbmdCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1mdW5jdGlvbihhKXtjcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYS5nZXRUYXJnZXRXb3Jrc3BhY2UoKSx2b2lkIDAsXCJTdHJpbmdcIil9O1xubnVtYmVyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9ZnVuY3Rpb24oYSl7Y3JlYXRlVmFyaWFibGVCdXR0b25IYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEuZ2V0VGFyZ2V0V29ya3NwYWNlKCksdm9pZCAwLFwiTnVtYmVyXCIpfTtjb2xvdXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1mdW5jdGlvbihhKXtjcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYS5nZXRUYXJnZXRXb3Jrc3BhY2UoKSx2b2lkIDAsXCJDb2xvdXJcIil9O1xuaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljPWZ1bmN0aW9uKGEpe3JldHVybiBmbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKGEsITEpfTtcbmZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9ZnVuY3Rpb24oYSxiPSEwKXtCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX3NldF9keW5hbWljfHxCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX2dldF9keW5hbWljfHxjb25zb2xlLndhcm4oXCJUaGVyZSBhcmUgbm8gZHluYW1pYyB2YXJpYWJsZSBibG9ja3MsIGJ1dCB0aGVyZSBpcyBhIGR5bmFtaWMgdmFyaWFibGUgY2F0ZWdvcnkuXCIpO2lmKGIpcmV0dXJuIHdhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIlRoZSBYTUwgcmV0dXJuIHZhbHVlIG9mIEJsb2NrbHkuVmFyaWFibGVzRHluYW1pYy5mbHlvdXRDYXRlZ29yeSgpXCIsXCJ2MTJcIixcInYxM1wiLFwidGhlIHNhbWUgbWV0aG9kLCBidXQgaGFuZGxlIGEgcmV0dXJuIHR5cGUgb2YgRmx5b3V0SXRlbUluZm9bXSAoSlNPTikgaW5zdGVhZC5cIiksXG54bWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKGEpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRV9TVFJJTkdcIixzdHJpbmdCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyk7YS5yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKFwiQ1JFQVRFX1ZBUklBQkxFX05VTUJFUlwiLG51bWJlckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKTthLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVfQ09MT1VSXCIsY29sb3VyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMpO3JldHVyblt7a2luZDpcImJ1dHRvblwiLHRleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTkVXX1NUUklOR19WQVJJQUJMRSxjYWxsYmFja2tleTpcIkNSRUFURV9WQVJJQUJMRV9TVFJJTkdcIn0sXG57a2luZDpcImJ1dHRvblwiLHRleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTkVXX05VTUJFUl9WQVJJQUJMRSxjYWxsYmFja2tleTpcIkNSRUFURV9WQVJJQUJMRV9OVU1CRVJcIn0se2tpbmQ6XCJidXR0b25cIix0ZXh0OiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk5FV19DT0xPVVJfVkFSSUFCTEUsY2FsbGJhY2trZXk6XCJDUkVBVEVfVkFSSUFCTEVfQ09MT1VSXCJ9LC4uLmpzb25GbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLGEuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXMoKSwhMSxcInZhcmlhYmxlc19nZXRfZHluYW1pY1wiLFwidmFyaWFibGVzX3NldF9keW5hbWljXCIpXX07XG54bWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljPWZ1bmN0aW9uKGEpe2xldCBiPVtdLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInRleHRcIiwkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ORVdfU1RSSU5HX1ZBUklBQkxFKTtjLnNldEF0dHJpYnV0ZShcImNhbGxiYWNrS2V5XCIsXCJDUkVBVEVfVkFSSUFCTEVfU1RSSU5HXCIpO2IucHVzaChjKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIsJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTkVXX05VTUJFUl9WQVJJQUJMRSk7Yy5zZXRBdHRyaWJ1dGUoXCJjYWxsYmFja0tleVwiLFwiQ1JFQVRFX1ZBUklBQkxFX05VTUJFUlwiKTtiLnB1c2goYyk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Muc2V0QXR0cmlidXRlKFwidGV4dFwiLCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk5FV19DT0xPVVJfVkFSSUFCTEUpO1xuYy5zZXRBdHRyaWJ1dGUoXCJjYWxsYmFja0tleVwiLFwiQ1JFQVRFX1ZBUklBQkxFX0NPTE9VUlwiKTtiLnB1c2goYyk7YS5yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKFwiQ1JFQVRFX1ZBUklBQkxFX1NUUklOR1wiLHN0cmluZ0J1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKTthLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVfTlVNQkVSXCIsbnVtYmVyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRV9DT0xPVVJcIixjb2xvdXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyk7YT1mbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKGEpO3JldHVybiBiPWIuY29uY2F0KGEpfTtcbmZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9ZnVuY3Rpb24oYSl7YT1hLmdldFZhcmlhYmxlTWFwKCkuZ2V0QWxsVmFyaWFibGVzKCk7Y29uc3QgYj1bXTtpZihhLmxlbmd0aD4wKXtpZihCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX3NldF9keW5hbWljKXt2YXIgYz1hW2EubGVuZ3RoLTFdO2NvbnN0IGQ9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfc2V0X2R5bmFtaWNcIik7ZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjI0XCIpO2QuYXBwZW5kQ2hpbGQoZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGMpKTtiLnB1c2goZCl9aWYoQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnZhcmlhYmxlc19nZXRfZHluYW1pYyl7YS5zb3J0KGNvbXBhcmVCeU5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMpO1xuZm9yKGxldCBkPTAsZTtlPWFbZF07ZCsrKWM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIiksYy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcIiksYy5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjhcIiksYy5hcHBlbmRDaGlsZChnZW5lcmF0ZVZhcmlhYmxlRmllbGREb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZSkpLGIucHVzaChjKX19cmV0dXJuIGJ9O3Jlc2l6ZVN2Z0NvbnRlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zz1mdW5jdGlvbihhKXthLnJlc2l6ZUNvbnRlbnRzKCl9O1xuY29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9YS50b0NvcHlEYXRhKCk7c3Rhc2hlZENvcHlEYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWM7c3Rhc2hlZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1pc1NlbGVjdGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZShhKSYmYS53b3Jrc3BhY2UgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnP2Eud29ya3NwYWNlOm51bGw7c3Rhc2hlZENvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWI7cmV0dXJuIGN9O2dldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHN0YXNoZWRDb3B5RGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZH07XG5zZXRMYXN0Q29waWVkRGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1mdW5jdGlvbihhKXtzdGFzaGVkQ29weURhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9YX07Z2V0TGFzdENvcGllZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1mdW5jdGlvbigpe3JldHVybiBzdGFzaGVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkfTtzZXRMYXN0Q29waWVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKGEpe3N0YXNoZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9YX07Z2V0TGFzdENvcGllZExvY2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHN0YXNoZWRDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZH07XG5zZXRMYXN0Q29waWVkTG9jYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9ZnVuY3Rpb24oYSl7c3Rhc2hlZENvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWF9O1xucGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhJiZiP3Bhc3RlRnJvbURhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoYSxiLGMpOnN0YXNoZWRDb3B5RGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCYmc3Rhc2hlZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD9wYXN0ZUZyb21EYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKHN0YXNoZWRDb3B5RGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCxzdGFzaGVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLHN0YXNoZWRDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCk6bnVsbH07XG5wYXN0ZUZyb21EYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKGEsYixjKXtsZXQgZDtiPWIuaXNNdXRhdG9yP2I6KGQ9Yi5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSkhPW51bGw/ZDpiO2xldCBlLGY7cmV0dXJuKGY9KGU9Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlBBU1RFUixhLnBhc3RlciwhMSkpPT1udWxsP3ZvaWQgMDplLnBhc3RlKGEsYixjKSkhPW51bGw/ZjpudWxsfTtpc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvcHlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYS50b0NvcHlEYXRhPT09XCJmdW5jdGlvblwifTtcbnJlZ2lzdGVyRXNjYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9ZnVuY3Rpb24oKXtTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe25hbWU6bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5FU0NBUEUscHJlY29uZGl0aW9uRm4oYSl7cmV0dXJuIWEuaXNSZWFkT25seSgpfSxjYWxsYmFjayhhKXthLmhpZGVDaGFmZigpO3JldHVybiEwfSxrZXlDb2RlczpbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5FU0NdfSl9O1xucmVnaXN0ZXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe1Nob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7bmFtZTpuYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLkRFTEVURSxwcmVjb25kaXRpb25GbihhLGIpe2I9Yi5mb2N1c2VkTm9kZTtyZXR1cm4hYS5pc1JlYWRPbmx5KCkmJmIhPW51bGwmJmlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShiKSYmYi5pc0RlbGV0YWJsZSgpJiYhYS5pc0RyYWdnaW5nKCkmJiEkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5lcGhlbWVyYWxGb2N1c1Rha2VuKCl9LGNhbGxiYWNrKGEsYixjLGQpe2IucHJldmVudERlZmF1bHQoKTthPWQuZm9jdXNlZE5vZGU7YSBpbnN0YW5jZW9mXG5CbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz9hLmNoZWNrQW5kRGVsZXRlKCk6aXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGEpJiZhLmlzRGVsZXRhYmxlKCkmJigkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKSxhLmRpc3Bvc2UoKSwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKSk7cmV0dXJuITB9LGtleUNvZGVzOltLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkRFTEVURSxLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkJBQ0tTUEFDRV19KX07XG5pc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGUoYSkmJmlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShhKSYmaXNEcmFnZ2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dhYmxlKGEpP2EuaXNDb3B5YWJsZT9hLmlzQ29weWFibGUoKTphIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmd8fGEgaW5zdGFuY2VvZiBSZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudD9hLmlzT3duRGVsZXRhYmxlKCkmJmEuaXNPd25Nb3ZhYmxlKCk6YS5pc0RlbGV0YWJsZSgpJiZhLmlzTW92YWJsZSgpOiExfTtcbmlzQ3V0dGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbihhKXtyZXR1cm4gaXNDb3B5YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKGEpJiZpc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUoYSkmJmEuaXNEZWxldGFibGUoKX07XG5yZWdpc3RlckNvcHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe2NvbnN0IGE9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5DLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkNUUkxdKSxiPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuQyxbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5NRVRBXSk7U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtuYW1lOm5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMuQ09QWSxcbnByZWNvbmRpdGlvbkZuKGMsZCl7ZD1kLmZvY3VzZWROb2RlO2M9Yy5pc0ZseW91dD9jLnRhcmdldFdvcmtzcGFjZTpjO3JldHVybiEhZCYmISFjJiYhYy5pc0RyYWdnaW5nKCkmJiEkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5lcGhlbWVyYWxGb2N1c1Rha2VuKCkmJmlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyhkKX0sY2FsbGJhY2soYyxkLGUsZil7ZC5wcmV2ZW50RGVmYXVsdCgpO2Q9Zi5mb2N1c2VkTm9kZTtpZighZHx8IWlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGUoZCl8fCFpc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoZCkpcmV0dXJuITE7Yz1jLmlzRmx5b3V0P2MudGFyZ2V0V29ya3NwYWNlOmM7aWYoIWMpcmV0dXJuITE7ZC53b3Jrc3BhY2UuaXNGbHlvdXR8fGMuaGlkZUNoYWZmKCk7XG5jPWlzRHJhZ2dhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZShkKSYmZC53b3Jrc3BhY2U9PWM/ZC5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk6dm9pZCAwO3JldHVybiEhY29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChkLGMpfSxrZXlDb2RlczpbYSxiXX0pfTtcbnJlZ2lzdGVyQ3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9ZnVuY3Rpb24oKXtjb25zdCBhPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWCxbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5DVFJMXSksYj1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLlgsW0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuTUVUQV0pO1Nob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7bmFtZTpuYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLkNVVCxcbnByZWNvbmRpdGlvbkZuKGMsZCl7ZD1kLmZvY3VzZWROb2RlO3JldHVybiEhZCYmIWMuaXNSZWFkT25seSgpJiYhYy5pc0RyYWdnaW5nKCkmJiEkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5lcGhlbWVyYWxGb2N1c1Rha2VuKCkmJmlzQ3V0dGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyhkKX0sY2FsbGJhY2soYyxkLGUsZil7Yz1mLmZvY3VzZWROb2RlO2lmKCFjfHwhaXNDdXR0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKGMpfHwhaXNDb3B5YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb3B5YWJsZShjKSlyZXR1cm4hMTtkPWlzRHJhZ2dhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZShjKT9jLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTp2b2lkIDA7ZD1jb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKGMsXG5kKTtjIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc/Yy5jaGVja0FuZERlbGV0ZSgpOmlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShjKSYmYy5kaXNwb3NlKCk7cmV0dXJuISFkfSxrZXlDb2RlczpbYSxiXX0pfTtcbnJlZ2lzdGVyUGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe2NvbnN0IGE9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5WLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkNUUkxdKSxiPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuVixbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5NRVRBXSk7U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtuYW1lOm5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMuUEFTVEUsXG5wcmVjb25kaXRpb25Gbigpe3ZhciBjPWdldExhc3RDb3BpZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoKTtpZighY3x8IWMucmVuZGVyZWQpcmV0dXJuITE7Yz1jLmlzRmx5b3V0P2MudGFyZ2V0V29ya3NwYWNlOmM7cmV0dXJuISFnZXRMYXN0Q29waWVkRGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCgpJiYhIWMmJiFjLmlzUmVhZE9ubHkoKSYmIWMuaXNEcmFnZ2luZygpJiYhJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZXBoZW1lcmFsRm9jdXNUYWtlbigpfSxjYWxsYmFjayhjLGQpe2M9Z2V0TGFzdENvcGllZERhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoKTtpZighYylyZXR1cm4hMTt2YXIgZT1nZXRMYXN0Q29waWVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKCk7aWYoIWUpcmV0dXJuITE7ZT1lLmlzRmx5b3V0P2UudGFyZ2V0V29ya3NwYWNlOlxuZTtpZighZXx8ZS5pc1JlYWRPbmx5KCkpcmV0dXJuITE7aWYoZCBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudClyZXR1cm4gZD1zY3JlZW5Ub1dzQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aChlLG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShkLmNsaWVudFgsZC5jbGllbnRZKSksISFwYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChjLGUsZCk7ZD1nZXRMYXN0Q29waWVkTG9jYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoKTtpZighZClyZXR1cm4hIXBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKGMsZSk7Y29uc3Qge2xlZnQ6Zix0b3A6Zyx3aWR0aDpoLGhlaWdodDprfT1lLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0Vmlld01ldHJpY3MoITApO2lmKChuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoZyxcbmcrayxmLGYraCkpLmNvbnRhaW5zKGQueCxkLnkpKXJldHVybiEhcGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoYyxlKTtkPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShmK2gvMixnK2svMik7cmV0dXJuISFwYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChjLGUsZCl9LGtleUNvZGVzOlthLGJdfSl9O1xucmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9ZnVuY3Rpb24oKXtjb25zdCBhPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWixbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5DVFJMXSksYj1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLlosW0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuTUVUQV0pO1Nob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7bmFtZTpuYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLlVORE8sXG5wcmVjb25kaXRpb25GbihjKXtyZXR1cm4hYy5pc1JlYWRPbmx5KCkmJiFjLmlzRHJhZ2dpbmcoKSYmISQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmVwaGVtZXJhbEZvY3VzVGFrZW4oKX0sY2FsbGJhY2soYyxkKXtjLmhpZGVDaGFmZigpO2MudW5kbyghMSk7ZC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiEwfSxrZXlDb2RlczpbYSxiXX0pfTtcbnJlZ2lzdGVyUmVkbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zPWZ1bmN0aW9uKCl7Y29uc3QgYT1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLlosW0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuQ1RSTCxLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLlNISUZUXSksYj1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLlosW0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuTUVUQSxcbktleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuU0hJRlRdKSxjPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWSxbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5DVFJMXSk7U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtuYW1lOm5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMuUkVETyxwcmVjb25kaXRpb25GbihkKXtyZXR1cm4hZC5pc0RyYWdnaW5nKCkmJiFkLmlzUmVhZE9ubHkoKSYmISQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmVwaGVtZXJhbEZvY3VzVGFrZW4oKX0sXG5jYWxsYmFjayhkLGUpe2QuaGlkZUNoYWZmKCk7ZC51bmRvKCEwKTtlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuITB9LGtleUNvZGVzOlthLGIsY119KX07cmVnaXN0ZXJEZWZhdWx0U2hvcnRjdXRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9ZnVuY3Rpb24oKXtyZWdpc3RlckVzY2FwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7cmVnaXN0ZXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcygpO3JlZ2lzdGVyQ29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7cmVnaXN0ZXJDdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcygpO3JlZ2lzdGVyUGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcygpO3JlZ2lzdGVyVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7cmVnaXN0ZXJSZWRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoKX07XG5zYXZlUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5zYXZlU3RhdGUoKTtpZighYS5nZXRQYXJhbWV0ZXJzKCkubGVuZ3RoKXJldHVybiBiO2IucGFyYW1ldGVycz1hLmdldFBhcmFtZXRlcnMoKS5tYXAoYz0+Yy5zYXZlU3RhdGUoKSk7cmV0dXJuIGJ9O2xvYWRQcm9jZWR1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLmxvYWRTdGF0ZShjLGQpO2lmKCFjLnBhcmFtZXRlcnMpcmV0dXJuIGE7Zm9yKGNvbnN0IFtlLGZdb2YgYy5wYXJhbWV0ZXJzLmVudHJpZXMoKSlhLmluc2VydFBhcmFtZXRlcihiLmxvYWRTdGF0ZShmLGQpLGUpO3JldHVybiBhfTtcbnNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZXM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1PYmplY3QuY3JlYXRlKG51bGwpLGM9Z2V0QWxsSXRlbXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuU0VSSUFMSVpFUiwhMCk7Zm9yKGNvbnN0IGQgaW4gYyl7bGV0IGU7Y29uc3QgZj0oZT1jW2RdKT09bnVsbD92b2lkIDA6ZS5zYXZlKGEpO2YmJihiW2RdPWYpfXJldHVybiBifTtcbmxvYWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZXM9ZnVuY3Rpb24oYSxiLHtyZWNvcmRVbmRvOmM9ITF9PXt9KXt2YXIgZD1nZXRBbGxJdGVtcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5TRVJJQUxJWkVSLCEwKTtpZihkKXtkPU9iamVjdC5lbnRyaWVzKGQpLnNvcnQoKGYsZyk9PmdbMV0ucHJpb3JpdHktZlsxXS5wcmlvcml0eSk7dmFyIGU9Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpOyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKTsoYz0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtzdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCk7XG5iIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2ZyYmYi5zZXRSZXNpemVzRW5hYmxlZCghMSk7Zm9yKGNvbnN0IFssZl1vZiBkLnJldmVyc2UoKSl7bGV0IGc7KGc9Zik9PW51bGx8fGcuY2xlYXIoYil9Zm9yKGNvbnN0IFtmLGddb2YgZC5yZXZlcnNlKCkpaWYoYVtmXSl7bGV0IGg7KGg9Zyk9PW51bGx8fGgubG9hZChhW2ZdLGIpfWIgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnJiZiLnNldFJlc2l6ZXNFbmFibGVkKCEwKTtzdG9wVGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkZJTklTSEVEX0xPQURJTkcpKShiKSk7XG4kLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGMpOyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKX19O1xuaW5qZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0PWZ1bmN0aW9uKGEsYil7bGV0IGM9bnVsbDtjPXR5cGVvZiBhPT09XCJzdHJpbmdcIj9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKTphO3ZhciBkO2lmKCFkb2N1bWVudC5jb250YWlucyhjKSYmZG9jdW1lbnQhPT0oKGQ9Yyk9PW51bGw/dm9pZCAwOmQub3duZXJEb2N1bWVudCkpdGhyb3cgRXJyb3IoXCJFcnJvcjogY29udGFpbmVyIGlzIG5vdCBpbiBjdXJyZW50IGRvY3VtZW50XCIpO2E9bmV3IE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zKGJ8fHt9KTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oZCxcImluamVjdGlvbkRpdlwiKTsoYj09bnVsbD8wOmIucnRsKSYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oZCxcImJsb2NrbHlSVExcIik7Yy5hcHBlbmRDaGlsZChkKTtcbmI9Y3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0KGQsYSk7Y29uc3QgZT1jcmVhdGVNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0KGQsYixhKTtpbml0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0KGUpO3NldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oZSk7c3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGUpO2QuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIixmdW5jdGlvbigpe3NldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oZSl9KTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkLFwia2V5ZG93blwiLG51bGwsZ2xvYmFsU2hvcnRjdXRIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKTtyZXR1cm4gZX07XG5jcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ZnVuY3Rpb24oYSxiKXthLnNldEF0dHJpYnV0ZShcImRpclwiLFwiTFRSXCIpO2luamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcyhiLmhhc0NzcyxiLnBhdGhUb01lZGlhKTtjb25zdCBjPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlNWRyx7eG1sbnM6U1ZHX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieG1sbnM6aHRtbFwiOkhUTUxfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bWxuczp4bGlua1wiOlhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHZlcnNpb246XCIxLjFcIixcImNsYXNzXCI6XCJibG9ja2x5U3ZnXCJ9LGEpLGQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuREVGUyxcbnt9LGMpLGU9U3RyaW5nKE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKTtiLmdyaWRQYXR0ZXJuPUdyaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRncmlkLmNyZWF0ZURvbShlLGIuZ3JpZE9wdGlvbnMsZCxhKTtyZXR1cm4gY307XG5jcmVhdGVNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0PWZ1bmN0aW9uKGEsYixjKXtjLnBhcmVudFdvcmtzcGFjZT1udWxsO2M9bmV3IFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmcoYyk7Y29uc3QgZD1jLm9wdGlvbnM7Yy5zY2FsZT1kLnpvb21PcHRpb25zLnN0YXJ0U2NhbGU7Yi5hcHBlbmRDaGlsZChjLmNyZWF0ZURvbShcImJsb2NrbHlNYWluQmFja2dyb3VuZFwiLGEpKTt2YXIgZT1jLmdldFJlbmRlcmVyKCkuZ2V0Q2xhc3NOYW1lKCk7ZSYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxlKTsoZT1jLmdldFRoZW1lKCkuZ2V0Q2xhc3NOYW1lKCkpJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGUpOyFkLmhhc0NhdGVnb3JpZXMmJmQubGFuZ3VhZ2VUcmVlJiYoYT1jLmFkZEZseW91dChTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHKSxcbmluc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYikpO2QuaGFzVHJhc2hjYW4mJmMuYWRkVHJhc2hjYW4oKTtkLnpvb21PcHRpb25zJiZkLnpvb21PcHRpb25zLmNvbnRyb2xzJiZjLmFkZFpvb21Db250cm9scygpO2MuZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKGIsXCJ3b3Jrc3BhY2VCYWNrZ3JvdW5kQ29sb3VyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO2MudHJhbnNsYXRlKDAsMCk7Yy5hZGRDaGFuZ2VMaXN0ZW5lcihidW1wSW50b0JvdW5kc0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMoYykpO3N2Z1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihjKTtjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKTtjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpO2NyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKTtyZXR1cm4gY307XG5pbml0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0PWZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5vcHRpb25zO3ZhciBjPWEuZ2V0UGFyZW50U3ZnKCk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYy5wYXJlbnROb2RlLFwiY29udGV4dG1lbnVcIixudWxsLGZ1bmN0aW9uKGQpe2lzVGFyZ2V0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkKXx8ZC5wcmV2ZW50RGVmYXVsdCgpfSk7Yz1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh3aW5kb3csXCJyZXNpemVcIixudWxsLGZ1bmN0aW9uKCl7aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKTthLmhpZGVDb21wb25lbnRzKCEwKTtyZXBvc2l0aW9uRm9yV2luZG93UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKTtyZXBvc2l0aW9uRm9yV2luZG93UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCk7XG5zdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYSk7YnVtcFRvcE9iamVjdHNJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzKGEpfSk7YS5zZXRSZXNpemVIYW5kbGVyV3JhcHBlcihjKTtiaW5kRG9jdW1lbnRFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QoKTtpZihiLmxhbmd1YWdlVHJlZSl7Yz1hLmdldFRvb2xib3goKTtjb25zdCBkPWEuZ2V0Rmx5b3V0KCEwKTtjP2MuaW5pdCgpOmQmJihkLmluaXQoYSksZC5zaG93KGIubGFuZ3VhZ2VUcmVlKSx0eXBlb2YgZC5zY3JvbGxUb1N0YXJ0PT09XCJmdW5jdGlvblwiJiZkLnNjcm9sbFRvU3RhcnQoKSl9Yi5oYXNUcmFzaGNhbiYmYS50cmFzaGNhbi5pbml0KCk7Yi56b29tT3B0aW9ucyYmYi56b29tT3B0aW9ucy5jb250cm9scyYmYS56b29tQ29udHJvbHNfLmluaXQoKTtiLm1vdmVPcHRpb25zJiZiLm1vdmVPcHRpb25zLnNjcm9sbGJhcnM/KGEuc2Nyb2xsYmFyPVxubmV3IFNjcm9sbGJhclBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXJfcGFpcihhLGIubW92ZU9wdGlvbnMuc2Nyb2xsYmFycz09PSEwfHwhIWIubW92ZU9wdGlvbnMuc2Nyb2xsYmFycy5ob3Jpem9udGFsLGIubW92ZU9wdGlvbnMuc2Nyb2xsYmFycz09PSEwfHwhIWIubW92ZU9wdGlvbnMuc2Nyb2xsYmFycy52ZXJ0aWNhbCxcImJsb2NrbHlNYWluV29ya3NwYWNlU2Nyb2xsYmFyXCIpLGEuc2Nyb2xsYmFyLnJlc2l6ZSgpKTphLnNldE1ldHJpY3Moe3g6LjUseTouNX0pO2IuaGFzU291bmRzJiZsb2FkU291bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0KGIucGF0aFRvTWVkaWEsYSl9O1xuYmluZERvY3VtZW50RXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0PWZ1bmN0aW9uKCl7ZG9jdW1lbnRFdmVudHNCb3VuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdHx8KGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGRvY3VtZW50LFwic2Nyb2xsXCIsbnVsbCxmdW5jdGlvbigpe2NvbnN0IGE9Z2V0QWxsV29ya3NwYWNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpO2ZvcihsZXQgYj0wLGM7Yz1hW2JdO2IrKyljIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2ZyYmYy51cGRhdGVJbnZlcnNlU2NyZWVuQ1RNKCl9KSxiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLG51bGwsbG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCksYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGRvY3VtZW50LFxuXCJ0b3VjaGNhbmNlbFwiLG51bGwsbG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCkpO2RvY3VtZW50RXZlbnRzQm91bmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ITB9O1xubG9hZFNvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtmb3IoO2UubGVuZ3RoOyl7Y29uc3QgZj1lLnBvcCgpO2YmJnVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGYpfWQucHJlbG9hZCgpfWNvbnN0IGQ9Yi5nZXRBdWRpb01hbmFnZXIoKTtkLmxvYWQoW2ErXCJjbGljay5tcDNcIixhK1wiY2xpY2sud2F2XCIsYStcImNsaWNrLm9nZ1wiXSxcImNsaWNrXCIpO2QubG9hZChbYStcImRpc2Nvbm5lY3Qud2F2XCIsYStcImRpc2Nvbm5lY3QubXAzXCIsYStcImRpc2Nvbm5lY3Qub2dnXCJdLFwiZGlzY29ubmVjdFwiKTtkLmxvYWQoW2ErXCJkZWxldGUubXAzXCIsYStcImRlbGV0ZS5vZ2dcIixhK1wiZGVsZXRlLndhdlwiXSxcImRlbGV0ZVwiKTtjb25zdCBlPVtdO2UucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJtb3ZlXCIsbnVsbCxjLCEwKSk7XG5lLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJ0b3VjaHN0YXJ0XCIsbnVsbCxjLCEwKSl9O2lzRnVsbEJsb2NrRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbihhKXtpZighYXx8IWEuaXNTaW1wbGVSZXBvcnRlcigpKXJldHVybiExO2xldCBiO3JldHVybihiPWEuZ2V0RmllbGRzKCkubmV4dCgpLnZhbHVlKT09bnVsbD92b2lkIDA6Yi5pc0Z1bGxCbG9ja0ZpZWxkKCl9O1xucmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KCl7cmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlVORE99LHByZWNvbmRpdGlvbkZuKGEpe3JldHVybiBhLndvcmtzcGFjZS5nZXRVbmRvU3RhY2soKS5sZW5ndGg+MD9cImVuYWJsZWRcIjpcImRpc2FibGVkXCJ9LGNhbGxiYWNrKGEpe2Eud29ya3NwYWNlLnVuZG8oITEpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5XT1JLU1BBQ0UsaWQ6XCJ1bmRvV29ya3NwYWNlXCIsd2VpZ2h0OjF9KX07XG5yZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoKXtyZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUkVET30scHJlY29uZGl0aW9uRm4oYSl7cmV0dXJuIGEud29ya3NwYWNlLmdldFJlZG9TdGFjaygpLmxlbmd0aD4wP1wiZW5hYmxlZFwiOlwiZGlzYWJsZWRcIn0sY2FsbGJhY2soYSl7YS53b3Jrc3BhY2UudW5kbyghMCl9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLldPUktTUEFDRSxpZDpcInJlZG9Xb3Jrc3BhY2VcIix3ZWlnaHQ6Mn0pfTtcbnJlZ2lzdGVyQ2xlYW51cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dCgpe3JldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DTEVBTl9VUH0scHJlY29uZGl0aW9uRm4oYSl7cmV0dXJuIGEud29ya3NwYWNlLmlzTW92YWJsZSgpP2Eud29ya3NwYWNlLmdldFRvcEJsb2NrcyghMSkubGVuZ3RoPjE/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwiOlwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpe2Eud29ya3NwYWNlLmNsZWFuVXAoKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuV09SS1NQQUNFLGlkOlwiY2xlYW5Xb3Jrc3BhY2VcIix3ZWlnaHQ6M30pfTtcbnRvZ2dsZU9wdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoZil7ZS0tO2Yuc2V0Q29sbGFwc2VkKGEpO2U9PT0wJiYkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKX1sZXQgZD0wLGU9MDskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtmb3IobGV0IGY9MDtmPGIubGVuZ3RoO2YrKyl7bGV0IGc9YltmXTtmb3IoO2c7KWUrKyxzZXRUaW1lb3V0KGMuYmluZChudWxsLGcpLGQpLGc9Zy5nZXROZXh0QmxvY2soKSxkKz0xMH19O1xucmVnaXN0ZXJDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dCgpe3JldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT0xMQVBTRV9BTEx9LHByZWNvbmRpdGlvbkZuKGEpe2lmKGEud29ya3NwYWNlLm9wdGlvbnMuY29sbGFwc2Upe2E9YS53b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKCExKTtmb3IobGV0IGI9MDtiPGEubGVuZ3RoO2IrKyl7bGV0IGM9YVtiXTtmb3IoO2M7KXtpZighYy5pc0NvbGxhcHNlZCgpKXJldHVyblwiZW5hYmxlZFwiO2M9Yy5nZXROZXh0QmxvY2soKX19cmV0dXJuXCJkaXNhYmxlZFwifXJldHVyblwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpe3RvZ2dsZU9wdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyghMCxcbmEud29ya3NwYWNlLmdldFRvcEJsb2NrcyghMCkpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5XT1JLU1BBQ0UsaWQ6XCJjb2xsYXBzZVdvcmtzcGFjZVwiLHdlaWdodDo0fSl9O1xucmVnaXN0ZXJFeHBhbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoKXtyZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuRVhQQU5EX0FMTH0scHJlY29uZGl0aW9uRm4oYSl7aWYoYS53b3Jrc3BhY2Uub3B0aW9ucy5jb2xsYXBzZSl7YT1hLndvcmtzcGFjZS5nZXRUb3BCbG9ja3MoITEpO2ZvcihsZXQgYj0wO2I8YS5sZW5ndGg7YisrKXtsZXQgYz1hW2JdO2Zvcig7Yzspe2lmKGMuaXNDb2xsYXBzZWQoKSlyZXR1cm5cImVuYWJsZWRcIjtjPWMuZ2V0TmV4dEJsb2NrKCl9fXJldHVyblwiZGlzYWJsZWRcIn1yZXR1cm5cImhpZGRlblwifSxjYWxsYmFjayhhKXt0b2dnbGVPcHRpb25fJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoITEsXG5hLndvcmtzcGFjZS5nZXRUb3BCbG9ja3MoITApKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuV09SS1NQQUNFLGlkOlwiZXhwYW5kV29ya3NwYWNlXCIsd2VpZ2h0OjV9KX07YWRkRGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKGEsYil7aWYoYS5pc0RlbGV0YWJsZSgpKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYS5nZXREZXNjZW5kYW50cyghMSkpO2Vsc2V7YT1hLmdldENoaWxkcmVuKCExKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKylhZGREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYVtjXSxiKX19O1xuZ2V0RGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKGEpe2NvbnN0IGI9W107YT1hLmdldFRvcEJsb2NrcyghMCk7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspYWRkRGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKGFbY10sYik7cmV0dXJuIGJ9O1xuZGVsZXRlTmV4dF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbihhLGIpe2I/JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiKTooJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCksYj0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpO2NvbnN0IGM9YS5zaGlmdCgpO2MmJihjLmlzRGVhZE9yRHlpbmcoKT9kZWxldGVOZXh0XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKGEsYik6KGMuZGlzcG9zZSghMSwhMCksc2V0VGltZW91dChkZWxldGVOZXh0XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLDEwLGEsYikpKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKX07XG5yZWdpc3RlckRlbGV0ZUFsbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dChhKXtpZighYS53b3Jrc3BhY2UpcmV0dXJuXCJcIjthPWdldERlbGV0YWJsZUJsb2Nrc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyhhLndvcmtzcGFjZSkubGVuZ3RoO3JldHVybiBhPT09MT8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfQkxPQ0s6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX1hfQkxPQ0tTLnJlcGxhY2UoXCIlMVwiLGAke2F9YCl9LHByZWNvbmRpdGlvbkZuKGEpe3JldHVybiBhLndvcmtzcGFjZT9nZXREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYS53b3Jrc3BhY2UpLmxlbmd0aD5cbjA/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwiOlwiZGlzYWJsZWRcIn0sY2FsbGJhY2soYSl7aWYoYS53b3Jrc3BhY2Upe2Eud29ya3NwYWNlLmNhbmNlbEN1cnJlbnRHZXN0dXJlKCk7dmFyIGI9Z2V0RGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKGEud29ya3NwYWNlKTtiLmxlbmd0aDwyP2RlbGV0ZU5leHRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYik6Y29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZygkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfQUxMX0JMT0NLUy5yZXBsYWNlKFwiJTFcIixTdHJpbmcoYi5sZW5ndGgpKSxmdW5jdGlvbihjKXtjJiZkZWxldGVOZXh0XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKGIpfSl9fSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5XT1JLU1BBQ0UsXG5pZDpcIndvcmtzcGFjZURlbGV0ZVwiLHdlaWdodDo2fSl9O3JlZ2lzdGVyV29ya3NwYWNlT3B0aW9uc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe3JlZ2lzdGVyVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJSZWRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckNsZWFudXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyQ29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyRXhwYW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckRlbGV0ZUFsbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCl9O1xucmVnaXN0ZXJEdXBsaWNhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoKXtyZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuRFVQTElDQVRFX0JMT0NLfSxwcmVjb25kaXRpb25GbihhKXthPWEuYmxvY2s7cmV0dXJuIWEuaXNJbkZseW91dCYmYS5pc0RlbGV0YWJsZSgpJiZhLmlzTW92YWJsZSgpP2EuaXNEdXBsaWNhdGFibGUoKT9cImVuYWJsZWRcIjpcImRpc2FibGVkXCI6XCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7aWYoYS5ibG9jayl7dmFyIGI9YS5ibG9jay50b0NvcHlEYXRhKCk7YiYmcGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoYixhLmJsb2NrLndvcmtzcGFjZSl9fSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxcbmlkOlwiYmxvY2tEdXBsaWNhdGVcIix3ZWlnaHQ6MX0pfTtcbnJlZ2lzdGVyQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dChhKXtyZXR1cm4gYS5ibG9jay5oYXNJY29uKENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLlRZUEUpPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlJFTU9WRV9DT01NRU5UOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkFERF9DT01NRU5UfSxwcmVjb25kaXRpb25GbihhKXthPWEuYmxvY2s7cmV0dXJuIWF8fGEuaXNJbkZseW91dHx8IWEud29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHN8fGEuaXNDb2xsYXBzZWQoKXx8IWEuaXNFZGl0YWJsZSgpfHwhYS5oYXNJY29uKENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLlRZUEUpJiZpc0Z1bGxCbG9ja0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYSk/XG5cImhpZGRlblwiOlwiZW5hYmxlZFwifSxjYWxsYmFjayhhKXsoYT1hLmJsb2NrKSYmYS5oYXNJY29uKENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLlRZUEUpP2Euc2V0Q29tbWVudFRleHQobnVsbCk6YS5zZXRDb21tZW50VGV4dChcIlwiKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuQkxPQ0ssaWQ6XCJibG9ja0NvbW1lbnRcIix3ZWlnaHQ6Mn0pfTtcbnJlZ2lzdGVySW5saW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KGEpe3JldHVybiBhLmJsb2NrLmdldElucHV0c0lubGluZSgpPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkVYVEVSTkFMX0lOUFVUUzokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5JTkxJTkVfSU5QVVRTfSxwcmVjb25kaXRpb25GbihhKXthPWEuYmxvY2s7aWYoIWEuaXNJbkZseW91dCYmYS5pc01vdmFibGUoKSYmIWEuaXNDb2xsYXBzZWQoKSlmb3IobGV0IGI9MTtiPGEuaW5wdXRMaXN0Lmxlbmd0aDtiKyspaWYoIShhLmlucHV0TGlzdFtiLTFdaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRpbnB1dHN8fFxuYS5pbnB1dExpc3RbYl1pbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGlucHV0cykpcmV0dXJuXCJlbmFibGVkXCI7cmV0dXJuXCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7YS5ibG9jay5zZXRJbnB1dHNJbmxpbmUoIWEuYmxvY2suZ2V0SW5wdXRzSW5saW5lKCkpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxpZDpcImJsb2NrSW5saW5lXCIsd2VpZ2h0OjN9KX07XG5yZWdpc3RlckNvbGxhcHNlRXhwYW5kQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoYSl7cmV0dXJuIGEuYmxvY2suaXNDb2xsYXBzZWQoKT8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5FWFBBTkRfQkxPQ0s6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ09MTEFQU0VfQkxPQ0t9LHByZWNvbmRpdGlvbkZuKGEpe2E9YS5ibG9jaztyZXR1cm4hYS5pc0luRmx5b3V0JiZhLmlzTW92YWJsZSgpJiZhLndvcmtzcGFjZS5vcHRpb25zLmNvbGxhcHNlP1wiZW5hYmxlZFwiOlwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpe2EuYmxvY2suc2V0Q29sbGFwc2VkKCFhLmJsb2NrLmlzQ29sbGFwc2VkKCkpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxcbmlkOlwiYmxvY2tDb2xsYXBzZUV4cGFuZFwiLHdlaWdodDo0fSl9O1xucmVnaXN0ZXJEaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KGEpe3JldHVybiBhLmJsb2NrLmhhc0Rpc2FibGVkUmVhc29uKE1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKT8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5FTkFCTEVfQkxPQ0s6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuRElTQUJMRV9CTE9DS30scHJlY29uZGl0aW9uRm4oYSl7YT1hLmJsb2NrO2lmKCFhLmlzSW5GbHlvdXQmJmEud29ya3NwYWNlLm9wdGlvbnMuZGlzYWJsZSYmYS5pc0VkaXRhYmxlKCkpe3ZhciBiPWEuZ2V0RGlzYWJsZWRSZWFzb25zKCk7Yj1iLnNpemU+KGIuaGFzKE1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKT9cbjE6MCk7cmV0dXJuIGEuZ2V0SW5oZXJpdGVkRGlzYWJsZWQoKXx8Yj9cImRpc2FibGVkXCI6XCJlbmFibGVkXCJ9cmV0dXJuXCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7YT1hLmJsb2NrO2NvbnN0IGI9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2J8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO2Euc2V0RGlzYWJsZWRSZWFzb24oIWEuaGFzRGlzYWJsZWRSZWFzb24oTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMpLE1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxpZDpcImJsb2NrRGlzYWJsZVwiLFxud2VpZ2h0OjV9KX07XG5yZWdpc3RlckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dChhKXt2YXIgYj1hLmJsb2NrO2E9Yi5nZXREZXNjZW5kYW50cyghMSkubGVuZ3RoOyhiPWIuZ2V0TmV4dEJsb2NrKCkpJiYoYS09Yi5nZXREZXNjZW5kYW50cyghMSkubGVuZ3RoKTtyZXR1cm4gYT09PTE/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX0JMT0NLOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRFTEVURV9YX0JMT0NLUy5yZXBsYWNlKFwiJTFcIixgJHthfWApfSxwcmVjb25kaXRpb25GbihhKXtyZXR1cm4hYS5ibG9jay5pc0luRmx5b3V0JiZhLmJsb2NrLmlzRGVsZXRhYmxlKCk/XCJlbmFibGVkXCI6XCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7YS5ibG9jayYmYS5ibG9jay5jaGVja0FuZERlbGV0ZSgpfSxcbnNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLkJMT0NLLGlkOlwiYmxvY2tEZWxldGVcIix3ZWlnaHQ6Nn0pfTtcbnJlZ2lzdGVySGVscCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dCgpe3JldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5IRUxQfSxwcmVjb25kaXRpb25GbihhKXthPWEuYmxvY2s7cmV0dXJuKHR5cGVvZiBhLmhlbHBVcmw9PT1cImZ1bmN0aW9uXCI/YS5oZWxwVXJsKCk6YS5oZWxwVXJsKT9cImVuYWJsZWRcIjpcImhpZGRlblwifSxjYWxsYmFjayhhKXthLmJsb2NrLnNob3dIZWxwKCl9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLkJMT0NLLGlkOlwiYmxvY2tIZWxwXCIsd2VpZ2h0Ojd9KX07XG5yZWdpc3RlckNvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQ6KCk9PiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlJFTU9WRV9DT01NRU5ULHByZWNvbmRpdGlvbkZuKGEpe2xldCBiO3JldHVybigoYj1hLmNvbW1lbnQpPT1udWxsPzA6Yi5pc0RlbGV0YWJsZSgpKT9cImVuYWJsZWRcIjpcImhpZGRlblwifSxjYWxsYmFjayhhKXskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtsZXQgYjsoYj1hLmNvbW1lbnQpPT1udWxsfHxiLmRpc3Bvc2UoKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuQ09NTUVOVCxcbmlkOlwiY29tbWVudERlbGV0ZVwiLHdlaWdodDo2fSl9O1xucmVnaXN0ZXJDb21tZW50RHVwbGljYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0OigpPT4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5EVVBMSUNBVEVfQ09NTUVOVCxwcmVjb25kaXRpb25GbihhKXtsZXQgYjtyZXR1cm4oKGI9YS5jb21tZW50KT09bnVsbD8wOmIuaXNNb3ZhYmxlKCkpP1wiZW5hYmxlZFwiOlwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpe2lmKGEuY29tbWVudCl7dmFyIGI9YS5jb21tZW50LnRvQ29weURhdGEoKTtiJiZwYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChiLGEuY29tbWVudC53b3Jrc3BhY2UpfX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuQ09NTUVOVCxpZDpcImNvbW1lbnREdXBsaWNhdGVcIixcbndlaWdodDoxfSl9O1xucmVnaXN0ZXJDb21tZW50Q3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0OigpPT4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5BRERfQ09NTUVOVCxwcmVjb25kaXRpb25GbjphPT57bGV0IGI7cmV0dXJuKChiPWEud29ya3NwYWNlKT09bnVsbD8wOmIuaXNNdXRhdG9yKT9cImhpZGRlblwiOlwiZW5hYmxlZFwifSxjYWxsYmFjazooYSxiLGMsZCk9PntpZihhPWEud29ya3NwYWNlKSQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApLGI9bmV3IFJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50KGEpLGIuc2V0UGxhY2Vob2xkZXJUZXh0KCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLldPUktTUEFDRV9DT01NRU5UX0RFRkFVTFRfVEVYVCksXG5iLm1vdmVUbyhzY3JlZW5Ub1dzQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aChhLG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShkLngsZC55KSkpLCQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShiKSwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuV09SS1NQQUNFLGlkOlwiY29tbWVudENyZWF0ZVwiLHdlaWdodDo4fSl9O1xucmVnaXN0ZXJCbG9ja09wdGlvbnNfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtyZWdpc3RlckR1cGxpY2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlcklubGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJDb2xsYXBzZUV4cGFuZEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckhlbHAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpfTtcbnJlZ2lzdGVyQ29tbWVudE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe3JlZ2lzdGVyQ29tbWVudER1cGxpY2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckNvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpfTtyZWdpc3RlckRlZmF1bHRPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtyZWdpc3RlcldvcmtzcGFjZU9wdGlvbnNfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckJsb2NrT3B0aW9uc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpfTtcbmlzUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Bhc3Rlcj1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEucGFzdGU9PT1cImZ1bmN0aW9uXCJ9O2lzUmVuZGVyZWRFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3JlbmRlcmVkX2VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldFN2Z1Jvb3Q9PT1cImZ1bmN0aW9uXCJ9O2lzU2VsZWN0YWJsZVRvb2xib3hJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGVfdG9vbGJveF9pdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLmlzU2VsZWN0YWJsZSgpfTtoaWRlQ2hhZmYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PWZ1bmN0aW9uKGEpe2dldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKS5oaWRlQ2hhZmYoYSl9O1xuaXNGb2N1c2FibGVUcmVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV90cmVlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYS5nZXRSb290Rm9jdXNhYmxlTm9kZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0UmVzdG9yZWRGb2N1c2FibGVOb2RlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5nZXROZXN0ZWRUcmVlcz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEubG9va1VwRm9jdXNhYmxlTm9kZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEub25UcmVlRm9jdXM9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLm9uVHJlZUJsdXI9PT1cImZ1bmN0aW9uXCJ9OyRqc2NvbXA9JGpzY29tcHx8e307JGpzY29tcC5zY29wZT17fTskanNjb21wLkFTU1VNRV9FUzU9ITE7JGpzY29tcC5BU1NVTUVfRVM2PSExOyRqc2NvbXAuQVNTVU1FX0VTMjAyMD0hMTskanNjb21wLkFTU1VNRV9OT19OQVRJVkVfTUFQPSExOyRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9TRVQ9ITE7XG4kanNjb21wLklTT0xBVEVfUE9MWUZJTExTPSExOyRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRT0hMTskanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0VfV0hFTl9OT19VTkhBTkRMRURfUkVKRUNUSU9OPSExOyRqc2NvbXAuSU5TVFJVTUVOVF9BU1lOQ19DT05URVhUPSEwOyRqc2NvbXAub2JqZWN0Q3JlYXRlPSRqc2NvbXAuQVNTVU1FX0VTNXx8dHlwZW9mIE9iamVjdC5jcmVhdGU9PVwiZnVuY3Rpb25cIj9PYmplY3QuY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7fTtiLnByb3RvdHlwZT1hO3JldHVybiBuZXcgYn07JGpzY29tcC5kZWZpbmVQcm9wZXJ0eT0kanNjb21wLkFTU1VNRV9FUzV8fHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz09XCJmdW5jdGlvblwiP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7aWYoYT09QXJyYXkucHJvdG90eXBlfHxhPT1PYmplY3QucHJvdG90eXBlKXJldHVybiBhO2FbYl09Yy52YWx1ZTtyZXR1cm4gYX07XG4kanNjb21wLmdldEdsb2JhbD1mdW5jdGlvbihhKXthPVtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxhLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWxdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKXt2YXIgYz1hW2JdO2lmKGMmJmMuTWF0aD09TWF0aClyZXR1cm4gY310aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIik7fTskanNjb21wLmdsb2JhbD0kanNjb21wLkFTU1VNRV9FUzIwMjA/Z2xvYmFsVGhpczokanNjb21wLmdldEdsb2JhbCh0aGlzKTskanNjb21wLklTX1NZTUJPTF9OQVRJVkU9dHlwZW9mIFN5bWJvbD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIFN5bWJvbChcInhcIik9PT1cInN5bWJvbFwiOyRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUz0hJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMU3x8JGpzY29tcC5JU19TWU1CT0xfTkFUSVZFO1xuJGpzY29tcC5wb2x5ZmlsbHM9e307JGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2w9e307JGpzY29tcC5QT0xZRklMTF9QUkVGSVg9XCIkanNjcCRcIjt2YXIgJGpzY29tcCRsb29rdXBQb2x5ZmlsbGVkVmFsdWU9ZnVuY3Rpb24oYSxiLGMpe2lmKCFjfHxhIT1udWxsKXtjPSRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW2JdO2lmKGM9PW51bGwpcmV0dXJuIGFbYl07Yz1hW2NdO3JldHVybiBjIT09dm9pZCAwP2M6YVtiXX19OyRqc2NvbXAucG9seWZpbGw9ZnVuY3Rpb24oYSxiLGMsZCl7YiYmKCRqc2NvbXAuSVNPTEFURV9QT0xZRklMTFM/JGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkKGEsYixjLGQpOiRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkKGEsYixjLGQpKX07XG4kanNjb21wLnBvbHlmaWxsVW5pc29sYXRlZD1mdW5jdGlvbihhLGIsYyxkKXtjPSRqc2NvbXAuZ2xvYmFsO2E9YS5zcGxpdChcIi5cIik7Zm9yKGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXt2YXIgZT1hW2RdO2lmKCEoZSBpbiBjKSlyZXR1cm47Yz1jW2VdfWE9YVthLmxlbmd0aC0xXTtkPWNbYV07Yj1iKGQpO2IhPWQmJmIhPW51bGwmJiRqc2NvbXAuZGVmaW5lUHJvcGVydHkoYyxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfTtcbiRqc2NvbXAucG9seWZpbGxJc29sYXRlZD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnNwbGl0KFwiLlwiKTthPWUubGVuZ3RoPT09MTtkPWVbMF07ZD0hYSYmZCBpbiAkanNjb21wLnBvbHlmaWxscz8kanNjb21wLnBvbHlmaWxsczokanNjb21wLmdsb2JhbDtmb3IodmFyIGY9MDtmPGUubGVuZ3RoLTE7ZisrKXt2YXIgZz1lW2ZdO2lmKCEoZyBpbiBkKSlyZXR1cm47ZD1kW2ddfWU9ZVtlLmxlbmd0aC0xXTtjPSRqc2NvbXAuSVNfU1lNQk9MX05BVElWRSYmYz09PVwiZXM2XCI/ZFtlXTpudWxsO2I9YihjKTtiIT1udWxsJiYoYT8kanNjb21wLmRlZmluZVByb3BlcnR5KCRqc2NvbXAucG9seWZpbGxzLGUse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpifSk6YiE9PWMmJigkanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbFtlXT09PXZvaWQgMCYmKGM9TWF0aC5yYW5kb20oKSoxRTk+Pj4wLCRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW2VdPSRqc2NvbXAuSVNfU1lNQk9MX05BVElWRT9cbiRqc2NvbXAuZ2xvYmFsLlN5bWJvbChlKTokanNjb21wLlBPTFlGSUxMX1BSRUZJWCtjK1wiJFwiK2UpLCRqc2NvbXAuZGVmaW5lUHJvcGVydHkoZCwkanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbFtlXSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KSkpfTtcbiRqc2NvbXAuZ2V0Q29uc3RydWN0SW1wbGVtZW50YXRpb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7ZnVuY3Rpb24gYygpe31uZXcgYztSZWZsZWN0LmNvbnN0cnVjdChjLFtdLGZ1bmN0aW9uKCl7fSk7cmV0dXJuIG5ldyBjIGluc3RhbmNlb2YgY31pZigkanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMmJnR5cGVvZiBSZWZsZWN0IT1cInVuZGVmaW5lZFwiJiZSZWZsZWN0LmNvbnN0cnVjdCl7aWYoYSgpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdDt2YXIgYj1SZWZsZWN0LmNvbnN0cnVjdDtyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe2M9YihjLGQpO2UmJlJlZmxlY3Quc2V0UHJvdG90eXBlT2YoYyxlLnByb3RvdHlwZSk7cmV0dXJuIGN9fXJldHVybiBmdW5jdGlvbihjLGQsZSl7ZT09PXZvaWQgMCYmKGU9Yyk7ZT0kanNjb21wLm9iamVjdENyZWF0ZShlLnByb3RvdHlwZXx8T2JqZWN0LnByb3RvdHlwZSk7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGMsZSxkKXx8XG5lfX07JGpzY29tcC5jb25zdHJ1Y3Q9e3ZhbHVlT2Y6JGpzY29tcC5nZXRDb25zdHJ1Y3RJbXBsZW1lbnRhdGlvbn0udmFsdWVPZigpOyRqc2NvbXAudW5kZXJzY29yZVByb3RvQ2FuQmVTZXQ9ZnVuY3Rpb24oKXt2YXIgYT17YTohMH0sYj17fTt0cnl7cmV0dXJuIGIuX19wcm90b19fPWEsYi5hfWNhdGNoKGMpe31yZXR1cm4hMX07JGpzY29tcC5zZXRQcm90b3R5cGVPZj0kanNjb21wLkFTU1VNRV9FUzZ8fCRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUyYmdHlwZW9mIE9iamVjdC5zZXRQcm90b3R5cGVPZj09XCJmdW5jdGlvblwiP09iamVjdC5zZXRQcm90b3R5cGVPZjokanNjb21wLnVuZGVyc2NvcmVQcm90b0NhbkJlU2V0KCk/ZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1iO2lmKGEuX19wcm90b19fIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKGErXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIGF9Om51bGw7XG4kanNjb21wLmluaGVyaXRzPWZ1bmN0aW9uKGEsYil7YS5wcm90b3R5cGU9JGpzY29tcC5vYmplY3RDcmVhdGUoYi5wcm90b3R5cGUpO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7aWYoJGpzY29tcC5BU1NVTUVfRVM2fHwkanNjb21wLnNldFByb3RvdHlwZU9mKXt2YXIgYz0kanNjb21wLnNldFByb3RvdHlwZU9mO2MoYSxiKX1lbHNlIGZvcihjIGluIGIpaWYoYyE9XCJwcm90b3R5cGVcIilpZihPYmplY3QuZGVmaW5lUHJvcGVydGllcyl7dmFyIGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpO2QmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsZCl9ZWxzZSBhW2NdPWJbY107YS5zdXBlckNsYXNzXz1iLnByb3RvdHlwZX07JGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbD1mdW5jdGlvbihhKXt2YXIgYj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiPGEubGVuZ3RoP3tkb25lOiExLHZhbHVlOmFbYisrXX06e2RvbmU6ITB9fX07XG4kanNjb21wLmFycmF5SXRlcmF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJue25leHQ6JGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbChhKX19OyRqc2NvbXAubWFrZUl0ZXJhdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPXR5cGVvZiBTeW1ib2whPVwidW5kZWZpbmVkXCImJlN5bWJvbC5pdGVyYXRvciYmYVtTeW1ib2wuaXRlcmF0b3JdO2lmKGIpcmV0dXJuIGIuY2FsbChhKTtpZih0eXBlb2YgYS5sZW5ndGg9PVwibnVtYmVyXCIpcmV0dXJuICRqc2NvbXAuYXJyYXlJdGVyYXRvcihhKTt0aHJvdyBFcnJvcihTdHJpbmcoYSkrXCIgaXMgbm90IGFuIGl0ZXJhYmxlIG9yIEFycmF5TGlrZVwiKTt9OyRqc2NvbXAuYXJyYXlGcm9tSXRlcmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9W107IShiPWEubmV4dCgpKS5kb25lOyljLnB1c2goYi52YWx1ZSk7cmV0dXJuIGN9OyRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheT9hOiRqc2NvbXAuYXJyYXlGcm9tSXRlcmF0b3IoJGpzY29tcC5tYWtlSXRlcmF0b3IoYSkpfTtcbiRqc2NvbXAuZ2VuZXJhdG9yPXt9OyRqc2NvbXAuZ2VuZXJhdG9yLmVuc3VyZUl0ZXJhdG9yUmVzdWx0SXNPYmplY3RfPWZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIithK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7fTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5pc1J1bm5pbmdfPSExO3RoaXMueWllbGRBbGxJdGVyYXRvcl89bnVsbDt0aGlzLnlpZWxkUmVzdWx0PXZvaWQgMDt0aGlzLm5leHRBZGRyZXNzPTE7dGhpcy5maW5hbGx5QWRkcmVzc189dGhpcy5jYXRjaEFkZHJlc3NfPTA7dGhpcy5maW5hbGx5Q29udGV4dHNfPXRoaXMuYWJydXB0Q29tcGxldGlvbl89bnVsbH07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5zdGFydF89ZnVuY3Rpb24oKXtpZih0aGlzLmlzUnVubmluZ18pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7dGhpcy5pc1J1bm5pbmdfPSEwfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5zdG9wXz1mdW5jdGlvbigpe3RoaXMuaXNSdW5uaW5nXz0hMX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRXJyb3JIYW5kbGVyXz1mdW5jdGlvbigpe3RoaXMubmV4dEFkZHJlc3M9dGhpcy5jYXRjaEFkZHJlc3NffHx0aGlzLmZpbmFsbHlBZGRyZXNzX307JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUubmV4dF89ZnVuY3Rpb24oYSl7dGhpcy55aWVsZFJlc3VsdD1hfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnRocm93Xz1mdW5jdGlvbihhKXt0aGlzLmFicnVwdENvbXBsZXRpb25fPXtleGNlcHRpb246YSxpc0V4Y2VwdGlvbjohMH07dGhpcy5qdW1wVG9FcnJvckhhbmRsZXJfKCl9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihhKXt0aGlzLmFicnVwdENvbXBsZXRpb25fPXtyZXR1cm46YX07dGhpcy5uZXh0QWRkcmVzcz10aGlzLmZpbmFsbHlBZGRyZXNzX307JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRocm91Z2hGaW5hbGx5QmxvY2tzPWZ1bmN0aW9uKGEpe3RoaXMuYWJydXB0Q29tcGxldGlvbl89e2p1bXBUbzphfTt0aGlzLm5leHRBZGRyZXNzPXRoaXMuZmluYWxseUFkZHJlc3NffTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZD1mdW5jdGlvbihhLGIpe3RoaXMubmV4dEFkZHJlc3M9YjtyZXR1cm57dmFsdWU6YX19O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUueWllbGRBbGw9ZnVuY3Rpb24oYSxiKXthPSRqc2NvbXAubWFrZUl0ZXJhdG9yKGEpO3ZhciBjPWEubmV4dCgpOyRqc2NvbXAuZ2VuZXJhdG9yLmVuc3VyZUl0ZXJhdG9yUmVzdWx0SXNPYmplY3RfKGMpO2lmKGMuZG9uZSl0aGlzLnlpZWxkUmVzdWx0PWMudmFsdWUsdGhpcy5uZXh0QWRkcmVzcz1iO2Vsc2UgcmV0dXJuIHRoaXMueWllbGRBbGxJdGVyYXRvcl89YSx0aGlzLnlpZWxkKGMudmFsdWUsYil9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmp1bXBUbz1mdW5jdGlvbihhKXt0aGlzLm5leHRBZGRyZXNzPWF9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmp1bXBUb0VuZD1mdW5jdGlvbigpe3RoaXMubmV4dEFkZHJlc3M9MH07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5zZXRDYXRjaEZpbmFsbHlCbG9ja3M9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhdGNoQWRkcmVzc189YTtiIT12b2lkIDAmJih0aGlzLmZpbmFsbHlBZGRyZXNzXz1iKX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc2V0RmluYWxseUJsb2NrPWZ1bmN0aW9uKGEpe3RoaXMuY2F0Y2hBZGRyZXNzXz0wO3RoaXMuZmluYWxseUFkZHJlc3NfPWF8fDB9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmxlYXZlVHJ5QmxvY2s9ZnVuY3Rpb24oYSxiKXt0aGlzLm5leHRBZGRyZXNzPWE7dGhpcy5jYXRjaEFkZHJlc3NfPWJ8fDB9O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuZW50ZXJDYXRjaEJsb2NrPWZ1bmN0aW9uKGEpe3RoaXMuY2F0Y2hBZGRyZXNzXz1hfHwwO2E9dGhpcy5hYnJ1cHRDb21wbGV0aW9uXy5leGNlcHRpb247dGhpcy5hYnJ1cHRDb21wbGV0aW9uXz1udWxsO3JldHVybiBhfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5lbnRlckZpbmFsbHlCbG9jaz1mdW5jdGlvbihhLGIsYyl7Yz90aGlzLmZpbmFsbHlDb250ZXh0c19bY109dGhpcy5hYnJ1cHRDb21wbGV0aW9uXzp0aGlzLmZpbmFsbHlDb250ZXh0c189W3RoaXMuYWJydXB0Q29tcGxldGlvbl9dO3RoaXMuY2F0Y2hBZGRyZXNzXz1hfHwwO3RoaXMuZmluYWxseUFkZHJlc3NfPWJ8fDB9O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUubGVhdmVGaW5hbGx5QmxvY2s9ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZmluYWxseUNvbnRleHRzXy5zcGxpY2UoYnx8MClbMF07aWYoYj10aGlzLmFicnVwdENvbXBsZXRpb25fPXRoaXMuYWJydXB0Q29tcGxldGlvbl98fGIpe2lmKGIuaXNFeGNlcHRpb24pcmV0dXJuIHRoaXMuanVtcFRvRXJyb3JIYW5kbGVyXygpO2IuanVtcFRvIT12b2lkIDAmJnRoaXMuZmluYWxseUFkZHJlc3NfPGIuanVtcFRvPyh0aGlzLm5leHRBZGRyZXNzPWIuanVtcFRvLHRoaXMuYWJydXB0Q29tcGxldGlvbl89bnVsbCk6dGhpcy5uZXh0QWRkcmVzcz10aGlzLmZpbmFsbHlBZGRyZXNzX31lbHNlIHRoaXMubmV4dEFkZHJlc3M9YX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuZm9ySW49ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyAkanNjb21wLmdlbmVyYXRvci5Db250ZXh0LlByb3BlcnR5SXRlcmF0b3IoYSl9O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5Qcm9wZXJ0eUl0ZXJhdG9yPWZ1bmN0aW9uKGEpe3RoaXMub2JqZWN0Xz1hO3RoaXMucHJvcGVydGllc189W107Zm9yKHZhciBiIGluIGEpdGhpcy5wcm9wZXJ0aWVzXy5wdXNoKGIpO3RoaXMucHJvcGVydGllc18ucmV2ZXJzZSgpfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LlByb3BlcnR5SXRlcmF0b3IucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXtmb3IoO3RoaXMucHJvcGVydGllc18ubGVuZ3RoPjA7KXt2YXIgYT10aGlzLnByb3BlcnRpZXNfLnBvcCgpO2lmKGEgaW4gdGhpcy5vYmplY3RfKXJldHVybiBhfXJldHVybiBudWxsfTskanNjb21wLmdlbmVyYXRvci5FbmdpbmVfPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dF89bmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQ7dGhpcy5wcm9ncmFtXz1hfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLm5leHRfPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dF8uc3RhcnRfKCk7aWYodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXylyZXR1cm4gdGhpcy55aWVsZEFsbFN0ZXBfKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8ubmV4dCxhLHRoaXMuY29udGV4dF8ubmV4dF8pO3RoaXMuY29udGV4dF8ubmV4dF8oYSk7cmV0dXJuIHRoaXMubmV4dFN0ZXBfKCl9O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUucmV0dXJuXz1mdW5jdGlvbihhKXt0aGlzLmNvbnRleHRfLnN0YXJ0XygpO3ZhciBiPXRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl87aWYoYilyZXR1cm4gdGhpcy55aWVsZEFsbFN0ZXBfKFwicmV0dXJuXCJpbiBiP2JbXCJyZXR1cm5cIl06ZnVuY3Rpb24oYyl7cmV0dXJue3ZhbHVlOmMsZG9uZTohMH19LGEsdGhpcy5jb250ZXh0Xy5yZXR1cm4pO3RoaXMuY29udGV4dF8ucmV0dXJuKGEpO3JldHVybiB0aGlzLm5leHRTdGVwXygpfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnRocm93Xz1mdW5jdGlvbihhKXt0aGlzLmNvbnRleHRfLnN0YXJ0XygpO2lmKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8pcmV0dXJuIHRoaXMueWllbGRBbGxTdGVwXyh0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfW1widGhyb3dcIl0sYSx0aGlzLmNvbnRleHRfLm5leHRfKTt0aGlzLmNvbnRleHRfLnRocm93XyhhKTtyZXR1cm4gdGhpcy5uZXh0U3RlcF8oKX07XG4kanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS55aWVsZEFsbFN0ZXBfPWZ1bmN0aW9uKGEsYixjKXt0cnl7dmFyIGQ9YS5jYWxsKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8sYik7JGpzY29tcC5nZW5lcmF0b3IuZW5zdXJlSXRlcmF0b3JSZXN1bHRJc09iamVjdF8oZCk7aWYoIWQuZG9uZSlyZXR1cm4gdGhpcy5jb250ZXh0Xy5zdG9wXygpLGQ7dmFyIGU9ZC52YWx1ZX1jYXRjaChmKXtyZXR1cm4gdGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXz1udWxsLHRoaXMuY29udGV4dF8udGhyb3dfKGYpLHRoaXMubmV4dFN0ZXBfKCl9dGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXz1udWxsO2MuY2FsbCh0aGlzLmNvbnRleHRfLGUpO3JldHVybiB0aGlzLm5leHRTdGVwXygpfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLm5leHRTdGVwXz1mdW5jdGlvbigpe2Zvcig7dGhpcy5jb250ZXh0Xy5uZXh0QWRkcmVzczspdHJ5e3ZhciBhPXRoaXMucHJvZ3JhbV8odGhpcy5jb250ZXh0Xyk7aWYoYSlyZXR1cm4gdGhpcy5jb250ZXh0Xy5zdG9wXygpLHt2YWx1ZTphLnZhbHVlLGRvbmU6ITF9fWNhdGNoKGIpe3RoaXMuY29udGV4dF8ueWllbGRSZXN1bHQ9dm9pZCAwLHRoaXMuY29udGV4dF8udGhyb3dfKGIpfXRoaXMuY29udGV4dF8uc3RvcF8oKTtpZih0aGlzLmNvbnRleHRfLmFicnVwdENvbXBsZXRpb25fKXthPXRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl87dGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXz1udWxsO2lmKGEuaXNFeGNlcHRpb24pdGhyb3cgYS5leGNlcHRpb247cmV0dXJue3ZhbHVlOmEucmV0dXJuLGRvbmU6ITB9fXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19O1xuJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXz1mdW5jdGlvbihhKXt0aGlzLm5leHQ9ZnVuY3Rpb24oYil7cmV0dXJuIGEubmV4dF8oYil9O3RoaXMudGhyb3c9ZnVuY3Rpb24oYil7cmV0dXJuIGEudGhyb3dfKGIpfTt0aGlzLnJldHVybj1mdW5jdGlvbihiKXtyZXR1cm4gYS5yZXR1cm5fKGIpfTt0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319OyRqc2NvbXAuZ2VuZXJhdG9yLmNyZWF0ZUdlbmVyYXRvcj1mdW5jdGlvbihhLGIpe2I9bmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkdlbmVyYXRvcl8obmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8oYikpOyRqc2NvbXAuc2V0UHJvdG90eXBlT2YmJmEucHJvdG90eXBlJiYkanNjb21wLnNldFByb3RvdHlwZU9mKGIsYS5wcm90b3R5cGUpO3JldHVybiBifTtcbiRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvcj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGQpe3JldHVybiBhLm5leHQoZCl9ZnVuY3Rpb24gYyhkKXtyZXR1cm4gYS50aHJvdyhkKX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXtmdW5jdGlvbiBmKGcpe2cuZG9uZT9kKGcudmFsdWUpOlByb21pc2UucmVzb2x2ZShnLnZhbHVlKS50aGVuKGIsYykudGhlbihmLGUpfWYoYS5uZXh0KCkpfSl9OyRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3IoYSgpKX07JGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbT1mdW5jdGlvbihhKXtyZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yKG5ldyAkanNjb21wLmdlbmVyYXRvci5HZW5lcmF0b3JfKG5ldyAkanNjb21wLmdlbmVyYXRvci5FbmdpbmVfKGEpKSl9O1xuJGpzY29tcC5wb2x5ZmlsbChcImdsb2JhbFRoaXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYXx8JGpzY29tcC5nbG9iYWx9LFwiZXNfMjAyMFwiLFwiZXMzXCIpOyRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcztkIGluc3RhbmNlb2YgU3RyaW5nJiYoZD1TdHJpbmcoZCkpO3ZhciBlPWQubGVuZ3RoO2M9Y3x8MDtmb3IoYzwwJiYoYz1NYXRoLm1heChjK2UsMCkpO2M8ZTtjKyspe3ZhciBmPWRbY107aWYoZj09PWJ8fE9iamVjdC5pcyhmLGIpKXJldHVybiEwfXJldHVybiExfX0sXCJlczdcIixcImVzM1wiKTtcbiRqc2NvbXAuY2hlY2tFczZDb25mb3JtYW5jZVZpYVByb3h5PWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPXt9LGI9T2JqZWN0LmNyZWF0ZShuZXcgJGpzY29tcC5nbG9iYWwuUHJveHkoYSx7Z2V0OmZ1bmN0aW9uKGMsZCxlKXtyZXR1cm4gYz09YSYmZD09XCJxXCImJmU9PWJ9fSkpO3JldHVybiBiLnE9PT0hMH1jYXRjaChjKXtyZXR1cm4hMX19OyRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTPSExOyRqc2NvbXAuRVM2X0NPTkZPUk1BTkNFPSRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTJiYkanNjb21wLmNoZWNrRXM2Q29uZm9ybWFuY2VWaWFQcm94eSgpOyRqc2NvbXAuaW5pdFN5bWJvbD1mdW5jdGlvbigpe307JGpzY29tcC5pdGVyYXRvclByb3RvdHlwZT1mdW5jdGlvbihhKXthPXtuZXh0OmF9O2FbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gYX07XG4kanNjb21wLm93bnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9OyRqc2NvbXAuTWFwRW50cnk9ZnVuY3Rpb24oKXt9OyRqc2NvbXAucG9seWZpbGwoXCJTZXQucHJvdG90eXBlLmRpZmZlcmVuY2VcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIpeyRqc2NvbXAuY2hlY2tJc1NldEluc3RhbmNlKHRoaXMpOyRqc2NvbXAuY2hlY2tJc1NldExpa2UoYik7dmFyIGM9JGpzY29tcC5nZXRTbWFsbGVyQW5kTGFyZ2VyU2V0cyh0aGlzLGIpO2I9bmV3IFNldCh0aGlzKTt2YXIgZD1jLnNtYWxsZXJTZXRJdGVyYXRvcjtjPWMubGFyZ2VyU2V0O2Zvcih2YXIgZT1kLm5leHQoKTshZS5kb25lOyljLmhhcyhlLnZhbHVlKSYmYi5kZWxldGUoZS52YWx1ZSksZT1kLm5leHQoKTtyZXR1cm4gYn19LFwiZXNfbmV4dFwiLFwiZXM2XCIpO1xuJGpzY29tcC5jaGVja0lzU2V0TGlrZT1mdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9PVwib2JqZWN0XCJ8fGE9PT1udWxsfHx0eXBlb2YgYS5zaXplIT09XCJudW1iZXJcInx8YS5zaXplPDB8fHR5cGVvZiBhLmtleXMhPT1cImZ1bmN0aW9uXCJ8fHR5cGVvZiBhLmhhcyE9PVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBzZXQtbGlrZVwiKTt9OyRqc2NvbXAuY2hlY2tJc1ZhbGlkSXRlcmF0b3I9ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGEhPT1cIm9iamVjdFwifHxhPT09bnVsbHx8dHlwZW9mIGEubmV4dCE9PVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBpdGVyYXRvci5cIik7cmV0dXJuIGF9O1xuJGpzY29tcC5nZXRTbWFsbGVyQW5kTGFyZ2VyU2V0cz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnNpemU8PWIuc2l6ZT97c21hbGxlclNldEl0ZXJhdG9yOmEua2V5cygpLGxhcmdlclNldDpifTp7c21hbGxlclNldEl0ZXJhdG9yOiRqc2NvbXAuY2hlY2tJc1ZhbGlkSXRlcmF0b3IoYi5rZXlzKCkpLGxhcmdlclNldDphfX07JGpzY29tcC5jaGVja0lzU2V0SW5zdGFuY2U9ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgU2V0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWV0aG9kIG11c3QgYmUgY2FsbGVkIG9uIGFuIGluc3RhbmNlIG9mIFNldC5cIik7fTtcbiRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXk9ZnVuY3Rpb24oYSxiKXtpZigkanNjb21wLkFTU1VNRV9FUzYpcmV0dXJuIGFbU3ltYm9sLml0ZXJhdG9yXSgpO2EgaW5zdGFuY2VvZiBTdHJpbmcmJihhKz1cIlwiKTt2YXIgYz0wLGQ9ITEsZT17bmV4dDpmdW5jdGlvbigpe2lmKCFkJiZjPGEubGVuZ3RoKXt2YXIgZj1jKys7cmV0dXJue3ZhbHVlOmIoZixhW2ZdKSxkb25lOiExfX1kPSEwO3JldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19fTtlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGV9OyRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUudmFsdWVzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbigpe3JldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gY30pfX0sXCJlczhcIixcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUuZmxhdE1hcFwiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYixjKXt2YXIgZD1bXTtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHRoaXMsZnVuY3Rpb24oZSxmKXtlPWIuY2FsbChjLGUsZix0aGlzKTtBcnJheS5pc0FycmF5KGUpP2QucHVzaC5hcHBseShkLGUpOmQucHVzaChlKX0pO3JldHVybiBkfX0sXCJlczlcIixcImVzNVwiKTskanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmZsYXRcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIpe2I9Yj09PXZvaWQgMD8xOmI7dmFyIGM9W107QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0aGlzLGZ1bmN0aW9uKGQpe0FycmF5LmlzQXJyYXkoZCkmJmI+MD8oZD1BcnJheS5wcm90b3R5cGUuZmxhdC5jYWxsKGQsYi0xKSxjLnB1c2guYXBwbHkoYyxkKSk6Yy5wdXNoKGQpfSk7cmV0dXJuIGN9fSxcImVzOVwiLFwiZXM1XCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC5lbnRyaWVzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiKXt2YXIgYz1bXSxkO2ZvcihkIGluIGIpJGpzY29tcC5vd25zKGIsZCkmJmMucHVzaChbZCxiW2RdXSk7cmV0dXJuIGN9fSxcImVzOFwiLFwiZXMzXCIpOyRqc2NvbXAucG9seWZpbGwoXCJPYmplY3QudmFsdWVzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiKXt2YXIgYz1bXSxkO2ZvcihkIGluIGIpJGpzY29tcC5vd25zKGIsZCkmJmMucHVzaChiW2RdKTtyZXR1cm4gY319LFwiZXM4XCIsXCJlczNcIik7XG52YXIgdHlwZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PU9iamVjdC5jcmVhdGUobnVsbCksVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9e3R5cGVNYXA6dHlwZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5fSxuYW1lTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9T2JqZWN0LmNyZWF0ZShudWxsKSxERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9XCJkZWZhdWx0XCIsVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMubmFtZT1hfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZX19O1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5DT05ORUNUSU9OX0NIRUNLRVI9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImNvbm5lY3Rpb25DaGVja2VyXCIpO1xuVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNPTk5FQ1RJT05fUFJFVklFV0VSPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJjb25uZWN0aW9uUHJldmlld2VyXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5DVVJTT1I9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImN1cnNvclwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQ9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImV2ZW50XCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GSUVMRD1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwiZmllbGRcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklOUFVUPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJpbnB1dFwiKTtcblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5SRU5ERVJFUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwicmVuZGVyZXJcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRPT0xCT1g9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcInRvb2xib3hcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRIRU1FPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJ0aGVtZVwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWF9JVEVNPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJ0b29sYm94SXRlbVwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19WRVJUSUNBTF9UT09MQk9YPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJmbHlvdXRzVmVydGljYWxUb29sYm94XCIpO1xuVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVFNfSE9SSVpPTlRBTF9UT09MQk9YPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJmbHlvdXRzSG9yaXpvbnRhbFRvb2xib3hcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVF9JTkZMQVRFUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwiZmx5b3V0SW5mbGF0ZXJcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5Lk1FVFJJQ1NfTUFOQUdFUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwibWV0cmljc01hbmFnZXJcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkJMT0NLX0RSQUdHRVI9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImJsb2NrRHJhZ2dlclwiKTtcblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5TRVJJQUxJWkVSPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJzZXJpYWxpemVyXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5JQ09OPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJpY29uXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5QQVNURVI9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcInBhc3RlclwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVkFSSUFCTEVfTU9ERUw9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcInZhcmlhYmxlTW9kZWxcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlZBUklBQkxFX01BUD1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwidmFyaWFibGVNYXBcIik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PXtERUZBVUxUOkRFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxURVNUX09OTFk6VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnl9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5UeXBlPVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuZ2V0QWxsSXRlbXM9Z2V0QWxsSXRlbXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuZ2V0Q2xhc3M9Z2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuZ2V0Q2xhc3NGcm9tT3B0aW9ucz1nZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuZ2V0T2JqZWN0PWdldE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5oYXNJdGVtPWhhc0l0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkucmVnaXN0ZXI9cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkudW5yZWdpc3Rlcj11bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk7dmFyIEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcz1PYmplY3QuY3JlYXRlKG51bGwpLG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3M9e0Jsb2NrczpCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3N9O3ZhciBMT05HUFJFU1MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD03NTAsVE9VQ0hfRU5BQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPVwib250b3VjaHN0YXJ0XCJpbiBnbG9iYWxUaGlzfHwhIShnbG9iYWxUaGlzLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJlwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpfHwhKCFnbG9iYWxUaGlzLm5hdmlnYXRvcnx8IWdsb2JhbFRoaXMubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzJiYhZ2xvYmFsVGhpcy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyksdG91Y2hJZGVudGlmaWVyXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPW51bGwsVE9VQ0hfTUFQJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9e21vdXNlZG93bjpbXCJwb2ludGVyZG93blwiXSxtb3VzZWVudGVyOltcInBvaW50ZXJlbnRlclwiXSxtb3VzZWxlYXZlOltcInBvaW50ZXJsZWF2ZVwiXSxtb3VzZW1vdmU6W1wicG9pbnRlcm1vdmVcIl0sXG5tb3VzZW91dDpbXCJwb2ludGVyb3V0XCJdLG1vdXNlb3ZlcjpbXCJwb2ludGVyb3ZlclwiXSxtb3VzZXVwOltcInBvaW50ZXJ1cFwiLFwicG9pbnRlcmNhbmNlbFwiXSx0b3VjaGVuZDpbXCJwb2ludGVydXBcIl0sdG91Y2hjYW5jZWw6W1wicG9pbnRlcmNhbmNlbFwiXSxwb2ludGVydXA6W1wicG9pbnRlcnVwXCIsXCJwb2ludGVyY2FuY2VsXCJdfSxsb25nUGlkXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPTAsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPXtUT1VDSF9FTkFCTEVEOlRPVUNIX0VOQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCxUT1VDSF9NQVA6VE9VQ0hfTUFQJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2h9O21vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaC5jaGVja1RvdWNoSWRlbnRpZmllcj1jaGVja1RvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyPWNsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLmdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudD1nZXRUb3VjaElkZW50aWZpZXJGcm9tRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gubG9uZ1N0YXJ0PWxvbmdTdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaC5sb25nU3RvcD1sb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaC5zaG91bGRIYW5kbGVFdmVudD1zaG91bGRIYW5kbGVFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoO3ZhciByYXdVc2VyQWdlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNKYXZhRngkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNXZWJLaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNHZWNrbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxpc0FuZHJvaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNJUGFkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LGlzSVBob25lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LGlzTWFjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LGlzVGFibGV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LGlzTW9iaWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50O1xuKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7cmV0dXJuIGMuaW5jbHVkZXMoZC50b1VwcGVyQ2FzZSgpKX1yYXdVc2VyQWdlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9YTtjb25zdCBjPXJhd1VzZXJBZ2VudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudC50b1VwcGVyQ2FzZSgpO2lzSmF2YUZ4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWIoXCJKYXZhRlhcIik7aXNXZWJLaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9YihcIldlYktpdFwiKTtpc0dlY2tvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWIoXCJHZWNrb1wiKSYmIWlzV2ViS2l0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50O2lzQW5kcm9pZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1iKFwiQW5kcm9pZFwiKTthPWdsb2JhbFRoaXMubmF2aWdhdG9yJiZcbmdsb2JhbFRoaXMubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzO2lzSVBhZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1iKFwiaVBhZFwiKXx8YihcIk1hY2ludG9zaFwiKSYmYT4wO2lzSVBob25lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWIoXCJpUGhvbmVcIikmJiFpc0lQYWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ7aXNNYWMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9YihcIk1hY2ludG9zaFwiKTtpc1RhYmxldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc0lQYWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnR8fGlzQW5kcm9pZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCYmIWIoXCJNb2JpbGVcIil8fGIoXCJTaWxrXCIpO2lzTW9iaWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PSFpc1RhYmxldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCYmXG4oaXNJUGhvbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnR8fGlzQW5kcm9pZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCl9KShnbG9iYWxUaGlzLm5hdmlnYXRvciYmZ2xvYmFsVGhpcy5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiKTtcbnZhciByYXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9cmF3VXNlckFnZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LEphdmFGeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc0phdmFGeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxHRUNLTyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc0dlY2tvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LEFORFJPSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9aXNBbmRyb2lkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LElQQUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9aXNJUGFkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LElQSE9ORSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1cbmlzSVBob25lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LE1BQyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc01hYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxNT0JJTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9aXNNb2JpbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD17QU5EUk9JRDpBTkRST0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LEdFQ0tPOkdFQ0tPJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LElQQUQ6SVBBRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxJUEhPTkU6SVBIT05FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LEphdmFGeDpKYXZhRngkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsXG5NQUM6TUFDJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LE1PQklMRTpNT0JJTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQscmF3OnJhdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudH07dmFyIExJTkVfTU9ERV9NVUxUSVBMSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM9NDAsUEFHRV9NT0RFX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz0xMjUsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cy5iaW5kPWJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMuY29uZGl0aW9uYWxCaW5kPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cy5nZXRTY3JvbGxEZWx0YVBpeGVscz1nZXRTY3JvbGxEZWx0YVBpeGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLmlzUmlnaHRCdXR0b249aXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cy5pc1RhcmdldElucHV0PWlzVGFyZ2V0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMubW91c2VUb1N2Zz1tb3VzZVRvU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLnVuYmluZD11bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50czt2YXIgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGU7XG4oZnVuY3Rpb24oYSl7YS5CTE9DS19DUkVBVEU9XCJjcmVhdGVcIjthLkJMT0NLX0RFTEVURT1cImRlbGV0ZVwiO2EuQkxPQ0tfQ0hBTkdFPVwiY2hhbmdlXCI7YS5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFPVwiYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZVwiO2EuQkxPQ0tfTU9WRT1cIm1vdmVcIjthLlZBUl9DUkVBVEU9XCJ2YXJfY3JlYXRlXCI7YS5WQVJfREVMRVRFPVwidmFyX2RlbGV0ZVwiO2EuVkFSX1JFTkFNRT1cInZhcl9yZW5hbWVcIjthLlZBUl9UWVBFX0NIQU5HRT1cInZhcl90eXBlX2NoYW5nZVwiO2EuVUk9XCJ1aVwiO2EuQkxPQ0tfRFJBRz1cImRyYWdcIjthLlNFTEVDVEVEPVwic2VsZWN0ZWRcIjthLkNMSUNLPVwiY2xpY2tcIjthLk1BUktFUl9NT1ZFPVwibWFya2VyX21vdmVcIjthLkJVQkJMRV9PUEVOPVwiYnViYmxlX29wZW5cIjthLlRSQVNIQ0FOX09QRU49XCJ0cmFzaGNhbl9vcGVuXCI7YS5UT09MQk9YX0lURU1fU0VMRUNUPVwidG9vbGJveF9pdGVtX3NlbGVjdFwiO2EuVEhFTUVfQ0hBTkdFPVxuXCJ0aGVtZV9jaGFuZ2VcIjthLlZJRVdQT1JUX0NIQU5HRT1cInZpZXdwb3J0X2NoYW5nZVwiO2EuQ09NTUVOVF9DUkVBVEU9XCJjb21tZW50X2NyZWF0ZVwiO2EuQ09NTUVOVF9ERUxFVEU9XCJjb21tZW50X2RlbGV0ZVwiO2EuQ09NTUVOVF9DSEFOR0U9XCJjb21tZW50X2NoYW5nZVwiO2EuQ09NTUVOVF9NT1ZFPVwiY29tbWVudF9tb3ZlXCI7YS5DT01NRU5UX1JFU0laRT1cImNvbW1lbnRfcmVzaXplXCI7YS5DT01NRU5UX0RSQUc9XCJjb21tZW50X2RyYWdcIjthLkNPTU1FTlRfQ09MTEFQU0U9XCJjb21tZW50X2NvbGxhcHNlXCI7YS5GSU5JU0hFRF9MT0FESU5HPVwiZmluaXNoZWRfbG9hZGluZ1wifSkoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGV8fChFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZT17fSkpO1xudmFyIEJVTVBfRVZFTlRTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGU9W0V2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURSxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFLEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ1JFQVRFLEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfTU9WRV0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlPXtCVU1QX0VWRU5UUzpCVU1QX0VWRU5UUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuRXZlbnRUeXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlO3ZhciBzb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3I9XCIhIyQlKCkqKywtLi86Oz0/QFtdXl9ge3x9fkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIsaW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcj17Z2VuVWlkOigpPT57Y29uc3QgYT1zb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IubGVuZ3RoLGI9W107Zm9yKGxldCBjPTA7YzwyMDtjKyspYltjXT1zb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IuY2hhckF0KE1hdGgucmFuZG9tKCkqYSk7cmV0dXJuIGIuam9pbihcIlwiKX19LFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yPWludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IsbmV4dElkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3I9XG4wLG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcj17VEVTVF9PTkxZOmludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3J9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvci5nZW5VaWQ9Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yLmdldE5leHRVbmlxdWVJZD1nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0Jsb2NrQ2hhbmdlPWlzQmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNCbG9ja0NyZWF0ZT1pc0Jsb2NrQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQmxvY2tEZWxldGU9aXNCbG9ja0RlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0Jsb2NrRHJhZz1pc0Jsb2NrRHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZT1pc0Jsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNCbG9ja01vdmU9aXNCbG9ja01vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNCdWJibGVPcGVuPWlzQnViYmxlT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0NsaWNrPWlzQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0NvbW1lbnRDaGFuZ2U9aXNDb21tZW50Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQ29tbWVudENvbGxhcHNlPWlzQ29tbWVudENvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQ29tbWVudENyZWF0ZT1pc0NvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNDb21tZW50RGVsZXRlPWlzQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQ29tbWVudERyYWc9aXNDb21tZW50RHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0NvbW1lbnRNb3ZlPWlzQ29tbWVudE1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNDb21tZW50UmVzaXplPWlzQ29tbWVudFJlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0ZpbmlzaGVkTG9hZGluZz1pc0ZpbmlzaGVkTG9hZGluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc1NlbGVjdGVkPWlzU2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc1RoZW1lQ2hhbmdlPWlzVGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNUb29sYm94SXRlbVNlbGVjdD1pc1Rvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzVHJhc2hjYW5PcGVuPWlzVHJhc2hjYW5PcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzVmFyQ3JlYXRlPWlzVmFyQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzVmFyRGVsZXRlPWlzVmFyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNWYXJSZW5hbWU9aXNWYXJSZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNWaWV3cG9ydENoYW5nZT1pc1ZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7dmFyIGdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPVwiXCIscmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz0hMCxkaXNhYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz0wLE9SUEhBTkVEX0JMT0NLX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1cIk9SUEhBTkVEX0JMT0NLXCIsRklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1bXSxURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9e0ZJUkVfUVVFVUU6RklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxlbnF1ZXVlRXZlbnQ6ZW5xdWV1ZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGZpcmVOb3c6ZmlyZU5vdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxmaXJlSW50ZXJuYWw6ZmlyZUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLFxuc2V0R3JvdXBJbnRlcm5hbDpzZXRHcm91cEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzfSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPXtURVNUX09OTFk6VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmNsZWFyUGVuZGluZ1VuZG89Y2xlYXJQZW5kaW5nVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmRpc2FibGU9JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuZGlzYWJsZU9ycGhhbnM9ZGlzYWJsZU9ycGhhbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmVuYWJsZT0kLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmZpbHRlcj1maWx0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5maXJlPWZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5mcm9tSnNvbj1mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmdldD1nZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5nZXREZXNjZW5kYW50SWRzPWdldERlc2NlbmRhbnRJZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmdldEdyb3VwPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5nZXRSZWNvcmRVbmRvPWdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5pc0VuYWJsZWQ9aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuc2V0R3JvdXA9JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLnNldFJlY29yZFVuZG89JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO3ZhciBTVkdfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLEhUTUxfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsWExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsTm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207KGZ1bmN0aW9uKGEpe2FbYS5FTEVNRU5UX05PREU9MV09XCJFTEVNRU5UX05PREVcIjthW2EuVEVYVF9OT0RFPTNdPVwiVEVYVF9OT0RFXCI7YVthLkNPTU1FTlRfTk9ERT04XT1cIkNPTU1FTlRfTk9ERVwifSkoTm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb218fChOb2RlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT17fSkpO1xudmFyIGNhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPW51bGwsY2FjaGVSZWZlcmVuY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209MCxjYW52YXNDb250ZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPW51bGwsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT17SFRNTF9OUzpIVE1MX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLk5vZGVUeXBlPU5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uU1ZHX05TPVNWR19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLlhMSU5LX05TPVhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5hZGRDbGFzcz1hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmNyZWF0ZVN2Z0VsZW1lbnQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmdldEZhc3RUZXh0V2lkdGg9Z2V0RmFzdFRleHRXaWR0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmdldEZhc3RUZXh0V2lkdGhXaXRoU2l6ZVN0cmluZz1nZXRGYXN0VGV4dFdpZHRoV2l0aFNpemVTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5nZXRUZXh0V2lkdGg9Z2V0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5oYXNDbGFzcz1oYXNDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmluc2VydEFmdGVyPWluc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20ubWVhc3VyZUZvbnRNZXRyaWNzPW1lYXN1cmVGb250TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLnJlbW92ZUNsYXNzPXJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20ucmVtb3ZlQ2xhc3Nlcz1yZW1vdmVDbGFzc2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20ucmVtb3ZlTm9kZT1yZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5zZXRDc3NUcmFuc2Zvcm09c2V0Q3NzVHJhbnNmb3JtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uc3RhcnRUZXh0V2lkdGhDYWNoZT1zdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uc3RvcFRleHRXaWR0aENhY2hlPXN0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTt2YXIgRm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlcj1jbGFzc3tzdGF0aWMgZmluZEZvY3VzZWROb2RlKGEpe3ZhciBiPWEuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKTtpZighYi5jYW5CZUZvY3VzZWQoKSlyZXR1cm4gbnVsbDt2YXIgYz1iLmdldEZvY3VzYWJsZUVsZW1lbnQoKTtpZihoYXNDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShjLEZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuQUNUSVZFX0NMQVNTX05BTUUpfHxoYXNDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShjLEZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuUEFTU0lWRV9DU1NfQ0xBU1NfTkFNRSkpcmV0dXJuIGI7XG5iPWMucXVlcnlTZWxlY3Rvcih0aGlzLkFDVElWRV9GT0NVU19OT0RFX0NTU19TRUxFQ1RPUik7aWYoYiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50fHxiIGluc3RhbmNlb2YgU1ZHRWxlbWVudClpZihiPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzYWJsZU5vZGVGb3IoYixhKSlyZXR1cm4gYjtjPWMucXVlcnlTZWxlY3Rvcih0aGlzLlBBU1NJVkVfRk9DVVNfTk9ERV9DU1NfU0VMRUNUT1IpO2lmKGMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8YyBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpaWYoYT1Gb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLmZpbmRGb2N1c2FibGVOb2RlRm9yKGMsYSkpcmV0dXJuIGE7cmV0dXJuIG51bGx9c3RhdGljIGZpbmRGb2N1c2FibGVOb2RlRm9yKGEsYil7aWYoIWEuaWR8fFxuYS5pZD09PVwibnVsbFwifHxiLmdldE5lc3RlZFRyZWVzKCkubWFwKGU9PkZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzYWJsZU5vZGVGb3IoYSxlKSkuZmluZEluZGV4KGU9PiEhZSkhPT0tMSlyZXR1cm4gbnVsbDt2YXIgYz1iLmdldFJvb3RGb2N1c2FibGVOb2RlKCk7aWYoYy5jYW5CZUZvY3VzZWQoKSYmYT09PWMuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpKXJldHVybiBjO3ZhciBkO2lmKGM9KGQ9Yi5sb29rVXBGb2N1c2FibGVOb2RlKGEuaWQpKSE9bnVsbD9kOm51bGwpcmV0dXJuIGM7ZD1hLnBhcmVudEVsZW1lbnQ7cmV0dXJuIWMmJmQ/Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5maW5kRm9jdXNhYmxlTm9kZUZvcihkLGIpOm51bGx9fTtcbkZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuQUNUSVZFX0NMQVNTX05BTUU9XCJibG9ja2x5QWN0aXZlRm9jdXNcIjtGb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLlBBU1NJVkVfQ1NTX0NMQVNTX05BTUU9XCJibG9ja2x5UGFzc2l2ZUZvY3VzXCI7Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5BQ1RJVkVfRk9DVVNfTk9ERV9DU1NfU0VMRUNUT1I9YC4ke0ZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuQUNUSVZFX0NMQVNTX05BTUV9YDtcbkZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuUEFTU0lWRV9GT0NVU19OT0RFX0NTU19TRUxFQ1RPUj1gLiR7Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5QQVNTSVZFX0NTU19DTEFTU19OQU1FfWA7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5Gb2N1c2FibGVUcmVlVHJhdmVyc2VyPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXI7dmFyIFRyZWVSZWdpc3RyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy50cmVlPWE7dGhpcy5yb290U2hvdWxkQmVBdXRvVGFiYmFibGU9Yn19LEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5wcmV2aW91c2x5Rm9jdXNlZE5vZGU9dGhpcy5mb2N1c2VkTm9kZT1udWxsO3RoaXMucmVnaXN0ZXJlZFRyZWVzPVtdO3RoaXMuaXNVcGRhdGluZ0ZvY3VzZWROb2RlPXRoaXMucmVjZW50bHlMb3N0QWxsRm9jdXM9dGhpcy5sb2NrRm9jdXNTdGF0ZUNoYW5nZXM9dGhpcy5jdXJyZW50bHlIb2xkc0VwaGVtZXJhbEZvY3VzPSExO2NvbnN0IGI9Yz0+e2lmKCF0aGlzLmlzVXBkYXRpbmdGb2N1c2VkTm9kZSl7dGhpcy5yZWNlbnRseUxvc3RBbGxGb2N1cz0hYzt2YXIgZD1udWxsO2lmKGMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8XG5jIGluc3RhbmNlb2YgU1ZHRWxlbWVudClmb3IodmFyIGUgb2YgdGhpcy5yZWdpc3RlcmVkVHJlZXMpaWYoZD1Gb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLmZpbmRGb2N1c2FibGVOb2RlRm9yKGMsZS50cmVlKSlicmVhaztpZihkJiZkLmNhbkJlRm9jdXNlZCgpKXtjPWQuZ2V0Rm9jdXNhYmxlVHJlZSgpO2xldCBmO2U9KGY9dGhpcy5mb2N1c2VkTm9kZSk9PW51bGw/dm9pZCAwOmYuZ2V0Rm9jdXNhYmxlVHJlZSgpO2Q9PT1jLmdldFJvb3RGb2N1c2FibGVOb2RlKCkmJmMhPT1lP3RoaXMuZm9jdXNUcmVlKGMpOnRoaXMuZm9jdXNOb2RlKGQpfWVsc2UgdGhpcy5kZWZvY3VzQ3VycmVudEZvY3VzZWROb2RlKCl9fTthKFwiZm9jdXNpblwiLGM9PntjIGluc3RhbmNlb2YgRm9jdXNFdmVudCYmYihkb2N1bWVudC5hY3RpdmVFbGVtZW50KX0pO2EoXCJmb2N1c291dFwiLGM9PntjIGluc3RhbmNlb2YgRm9jdXNFdmVudCYmXG5iKGMucmVsYXRlZFRhcmdldCl9KX1yZWdpc3RlclRyZWUoYSxiPSExKXt0aGlzLmVuc3VyZU1hbmFnZXJJc1VubG9ja2VkKCk7aWYodGhpcy5pc1JlZ2lzdGVyZWQoYSkpdGhyb3cgRXJyb3IoYEF0dGVtcHRlZCB0byByZS1yZWdpc3RlciBhbHJlYWR5IHJlZ2lzdGVyZWQgdHJlZTogJHthfS5gKTt0aGlzLnJlZ2lzdGVyZWRUcmVlcy5wdXNoKG5ldyBUcmVlUmVnaXN0cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcihhLGIpKTtjb25zdCBjPWEuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKS5nZXRGb2N1c2FibGVFbGVtZW50KCk7aWYoIWMuaWR8fGMuaWQ9PT1cIm51bGxcIil0aHJvdyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcmVnaXN0ZXIgYSB0cmVlIHdpdGggYSByb290IGVsZW1lbnQgdGhhdCBoYXMgYW4gXCIrYGludmFsaWQgSUQ6ICR7YX0uYCk7YiYmKGMudGFiSW5kZXg9MCl9aXNSZWdpc3RlcmVkKGEpe3JldHVybiEhdGhpcy5sb29rVXBSZWdpc3RyYXRpb24oYSl9bG9va1VwUmVnaXN0cmF0aW9uKGEpe2xldCBiO1xucmV0dXJuKGI9dGhpcy5yZWdpc3RlcmVkVHJlZXMuZmluZChjPT5jLnRyZWU9PT1hKSkhPW51bGw/YjpudWxsfXVucmVnaXN0ZXJUcmVlKGEpe3RoaXMuZW5zdXJlTWFuYWdlcklzVW5sb2NrZWQoKTtpZighdGhpcy5pc1JlZ2lzdGVyZWQoYSkpdGhyb3cgRXJyb3IoYEF0dGVtcHRlZCB0byB1bnJlZ2lzdGVyIG5vdCByZWdpc3RlcmVkIHRyZWU6ICR7YX0uYCk7dmFyIGI9dGhpcy5yZWdpc3RlcmVkVHJlZXMuZmluZEluZGV4KGU9PmUudHJlZT09PWEpO2NvbnN0IGM9dGhpcy5yZWdpc3RlcmVkVHJlZXNbYl07dGhpcy5yZWdpc3RlcmVkVHJlZXMuc3BsaWNlKGIsMSk7Yj1Gb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLmZpbmRGb2N1c2VkTm9kZShhKTtjb25zdCBkPWEuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKTtiJiZ0aGlzLnJlbW92ZUhpZ2hsaWdodChiKTt0aGlzLmZvY3VzZWROb2RlIT09YiYmXG50aGlzLmZvY3VzZWROb2RlIT09ZHx8dGhpcy51cGRhdGVGb2N1c2VkTm9kZShudWxsKTt0aGlzLnJlbW92ZUhpZ2hsaWdodChkKTtjLnJvb3RTaG91bGRCZUF1dG9UYWJiYWJsZSYmYS5nZXRSb290Rm9jdXNhYmxlTm9kZSgpLmdldEZvY3VzYWJsZUVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKX1nZXRGb2N1c2VkVHJlZSgpe2xldCBhLGI7cmV0dXJuKGI9KGE9dGhpcy5mb2N1c2VkTm9kZSk9PW51bGw/dm9pZCAwOmEuZ2V0Rm9jdXNhYmxlVHJlZSgpKSE9bnVsbD9iOm51bGx9Z2V0Rm9jdXNlZE5vZGUoKXtyZXR1cm4gdGhpcy5mb2N1c2VkTm9kZX1mb2N1c1RyZWUoYSl7dGhpcy5lbnN1cmVNYW5hZ2VySXNVbmxvY2tlZCgpO2lmKCF0aGlzLmlzUmVnaXN0ZXJlZChhKSl0aHJvdyBFcnJvcihgQXR0ZW1wdGVkIHRvIGZvY3VzIHVucmVnaXN0ZXJlZCB0cmVlOiAke2F9LmApO2NvbnN0IGI9Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5maW5kRm9jdXNlZE5vZGUoYSksXG5jPWEuZ2V0UmVzdG9yZWRGb2N1c2FibGVOb2RlKGIpO2E9YS5nZXRSb290Rm9jdXNhYmxlTm9kZSgpO2xldCBkO3RoaXMuZm9jdXNOb2RlKChkPWMhPW51bGw/YzpiKSE9bnVsbD9kOmEpfWZvY3VzTm9kZShhKXt0aGlzLmVuc3VyZU1hbmFnZXJJc1VubG9ja2VkKCk7Y29uc3QgYj0hdGhpcy5jdXJyZW50bHlIb2xkc0VwaGVtZXJhbEZvY3VzO2ImJih0aGlzLmlzVXBkYXRpbmdGb2N1c2VkTm9kZT0hMCk7dmFyIGMsZD0oKGM9dGhpcy5mb2N1c2VkTm9kZSk9PW51bGw/dm9pZCAwOmMuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpKSE9PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYodGhpcy5mb2N1c2VkTm9kZSE9PWF8fGQpaWYoYS5jYW5CZUZvY3VzZWQoKSl7Yz1hLmdldEZvY3VzYWJsZVRyZWUoKTtpZighdGhpcy5pc1JlZ2lzdGVyZWQoYykpdGhyb3cgRXJyb3IoYEF0dGVtcHRlZCB0byBmb2N1cyB1bnJlZ2lzdGVyZWQgbm9kZTogJHthfS5gKTtkPWEuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpO1xuZC5pZCYmZC5pZCE9PVwibnVsbFwifHxjb25zb2xlLndhcm4oXCJUcnlpbmcgdG8gZm9jdXMgYSBub2RlIHRoYXQgaGFzIGFuIGludmFsaWQgSUQuXCIpO3ZhciBlPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzYWJsZU5vZGVGb3IoZCxjKTtkPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzZWROb2RlKGMpO3ZhciBmPWE7aWYoZSE9PWEpe2Y9Yy5nZXRSZXN0b3JlZEZvY3VzYWJsZU5vZGUoZCk7YT1jLmdldFJvb3RGb2N1c2FibGVOb2RlKCk7dmFyIGc7Zj0oZz1mIT1udWxsP2Y6ZCkhPW51bGw/ZzphfWE9dGhpcy5mb2N1c2VkTm9kZTtnPWE9PW51bGw/dm9pZCAwOmEuZ2V0Rm9jdXNhYmxlVHJlZSgpO2EmJnRoaXMucGFzc2l2ZWx5Rm9jdXNOb2RlKGEsYyk7Yz1jLmdldFJvb3RGb2N1c2FibGVOb2RlKCk7XG5kJiZ0aGlzLnJlbW92ZUhpZ2hsaWdodChkKTtjIT09ZiYmdGhpcy5yZW1vdmVIaWdobGlnaHQoYyk7dGhpcy5jdXJyZW50bHlIb2xkc0VwaGVtZXJhbEZvY3VzfHx0aGlzLmFjdGl2ZWx5Rm9jdXNOb2RlKGYsZyE9bnVsbD9nOm51bGwpO3RoaXMudXBkYXRlRm9jdXNlZE5vZGUoZil9ZWxzZSBjb25zb2xlLndhcm4oXCJUcnlpbmcgdG8gZm9jdXMgYSBub2RlIHRoYXQgY2FuJ3QgYmUgZm9jdXNlZC5cIik7YiYmKHRoaXMuaXNVcGRhdGluZ0ZvY3VzZWROb2RlPSExKX10YWtlRXBoZW1lcmFsRm9jdXMoYSl7dGhpcy5lbnN1cmVNYW5hZ2VySXNVbmxvY2tlZCgpO2lmKHRoaXMuY3VycmVudGx5SG9sZHNFcGhlbWVyYWxGb2N1cyl0aHJvdyBFcnJvcihcIkF0dGVtcHRlZCB0byB0YWtlIGVwaGVtZXJhbCBmb2N1cyB3aGVuIGl0J3MgYWxyZWFkeSBoZWxkLCBcIitgd2l0aCBuZXcgZWxlbWVudDogJHthfS5gKTt0aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXM9ITA7dGhpcy5mb2N1c2VkTm9kZSYmXG50aGlzLnBhc3NpdmVseUZvY3VzTm9kZSh0aGlzLmZvY3VzZWROb2RlLG51bGwpO2EuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KTtsZXQgYj0hMTtyZXR1cm4oKT0+e2lmKGIpdGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZmluaXNoIGVwaGVtZXJhbCBmb2N1cyB0d2ljZSBmb3IgZWxlbWVudDogXCIrYCR7YX0uYCk7Yj0hMDt0aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXM9ITE7aWYodGhpcy5mb2N1c2VkTm9kZSl7dGhpcy5hY3RpdmVseUZvY3VzTm9kZSh0aGlzLmZvY3VzZWROb2RlLG51bGwpO2NvbnN0IGM9dGhpcy5mb2N1c2VkTm9kZTtzZXRUaW1lb3V0KCgpPT57IXRoaXMuZm9jdXNlZE5vZGUmJnRoaXMucHJldmlvdXNseUZvY3VzZWROb2RlPT09YyYmdGhpcy5yZWNlbnRseUxvc3RBbGxGb2N1cyYmdGhpcy5mb2N1c05vZGUoYyl9LDApfX19ZXBoZW1lcmFsRm9jdXNUYWtlbigpe3JldHVybiB0aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXN9ZW5zdXJlTWFuYWdlcklzVW5sb2NrZWQoKXtpZih0aGlzLmxvY2tGb2N1c1N0YXRlQ2hhbmdlcyl0aHJvdyBFcnJvcihcIkZvY3VzTWFuYWdlciBzdGF0ZSBjaGFuZ2VzIGNhbm5vdCBoYXBwZW4gaW4gYSB0cmVlL25vZGUgZm9jdXMvYmx1ciBjYWxsYmFjay5cIik7XG59dXBkYXRlRm9jdXNlZE5vZGUoYSl7dGhpcy5wcmV2aW91c2x5Rm9jdXNlZE5vZGU9dGhpcy5mb2N1c2VkTm9kZTt0aGlzLmZvY3VzZWROb2RlPWF9ZGVmb2N1c0N1cnJlbnRGb2N1c2VkTm9kZSgpe3RoaXMuZm9jdXNlZE5vZGUmJiF0aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXMmJih0aGlzLnBhc3NpdmVseUZvY3VzTm9kZSh0aGlzLmZvY3VzZWROb2RlLG51bGwpLHRoaXMudXBkYXRlRm9jdXNlZE5vZGUobnVsbCkpfWFjdGl2ZWx5Rm9jdXNOb2RlKGEsYil7dGhpcy5sb2NrRm9jdXNTdGF0ZUNoYW5nZXM9ITA7Y29uc3QgYz1hLmdldEZvY3VzYWJsZVRyZWUoKSxkPWEuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpO2xldCBlO2NvbnN0IGY9KGU9dGhpcy5sb29rVXBSZWdpc3RyYXRpb24oYykpPT1udWxsP3ZvaWQgMDplLnJvb3RTaG91bGRCZUF1dG9UYWJiYWJsZTtjIT09YiYmKGMub25UcmVlRm9jdXMoYSxiKSxmJiYoYy5nZXRSb290Rm9jdXNhYmxlTm9kZSgpLmdldEZvY3VzYWJsZUVsZW1lbnQoKS50YWJJbmRleD1cbi0xKSk7YS5vbk5vZGVGb2N1cygpO3RoaXMubG9ja0ZvY3VzU3RhdGVDaGFuZ2VzPSExO2YmJmE9PT1jLmdldFJvb3RGb2N1c2FibGVOb2RlKCl8fGQuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIil8fChkLnRhYkluZGV4PS0xKTt0aGlzLnNldE5vZGVUb1Zpc3VhbEFjdGl2ZUZvY3VzKGEpO2QuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KX1wYXNzaXZlbHlGb2N1c05vZGUoYSxiKXt0aGlzLmxvY2tGb2N1c1N0YXRlQ2hhbmdlcz0hMDtjb25zdCBjPWEuZ2V0Rm9jdXNhYmxlVHJlZSgpO2lmKGMhPT1iKXtjLm9uVHJlZUJsdXIoYik7bGV0IGQ7aWYoKGQ9dGhpcy5sb29rVXBSZWdpc3RyYXRpb24oYykpPT1udWxsPzA6ZC5yb290U2hvdWxkQmVBdXRvVGFiYmFibGUpYy5nZXRSb290Rm9jdXNhYmxlTm9kZSgpLmdldEZvY3VzYWJsZUVsZW1lbnQoKS50YWJJbmRleD0wfWEub25Ob2RlQmx1cigpO3RoaXMubG9ja0ZvY3VzU3RhdGVDaGFuZ2VzPSExO2MhPT1iJiZ0aGlzLnNldE5vZGVUb1Zpc3VhbFBhc3NpdmVGb2N1cyhhKX1zZXROb2RlVG9WaXN1YWxBY3RpdmVGb2N1cyhhKXthPVxuYS5nZXRGb2N1c2FibGVFbGVtZW50KCk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLkFDVElWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKTtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuUEFTU0lWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKX1zZXROb2RlVG9WaXN1YWxQYXNzaXZlRm9jdXMoYSl7YT1hLmdldEZvY3VzYWJsZUVsZW1lbnQoKTtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuQUNUSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXG5Gb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLlBBU1NJVkVfRk9DVVNfTk9ERV9DU1NfQ0xBU1NfTkFNRSl9cmVtb3ZlSGlnaGxpZ2h0KGEpe2E9YS5nZXRGb2N1c2FibGVFbGVtZW50KCk7cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLkFDVElWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKTtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuUEFTU0lWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKX1zdGF0aWMgZ2V0Rm9jdXNNYW5hZ2VyKCl7Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5mb2N1c01hbmFnZXJ8fChGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLmZvY3VzTWFuYWdlcj1cbm5ldyBGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpKTtyZXR1cm4gRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5mb2N1c01hbmFnZXJ9fTtGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLkFDVElWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FPVwiYmxvY2tseUFjdGl2ZUZvY3VzXCI7Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5QQVNTSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUU9XCJibG9ja2x5UGFzc2l2ZUZvY3VzXCI7Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5mb2N1c01hbmFnZXI9bnVsbDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXI9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5Gb2N1c01hbmFnZXI9Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5nZXRGb2N1c01hbmFnZXI9JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGUuaXNGb2N1c2FibGVOb2RlPWlzRm9jdXNhYmxlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZS5pc1NlbGVjdGFibGU9aXNTZWxlY3RhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGU7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3Q9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdC5kZWVwTWVyZ2U9ZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0O3ZhciBTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnk9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnNob3J0Y3V0cz1uZXcgTWFwO3RoaXMua2V5TWFwPW5ldyBNYXA7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5zaG9ydGN1dHMuY2xlYXIoKTt0aGlzLmtleU1hcC5jbGVhcigpfXJlZ2lzdGVyKGEsYil7aWYodGhpcy5zaG9ydGN1dHMuZ2V0KGEubmFtZSkmJiFiKXRocm93IEVycm9yKGBTaG9ydGN1dCBuYW1lZCBcIiR7YS5uYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApO3RoaXMuc2hvcnRjdXRzLnNldChhLm5hbWUsYSk7Yj1hLmtleUNvZGVzO2lmKGI9PW51bGw/MDpiLmxlbmd0aClmb3IoY29uc3QgYyBvZiBiKXRoaXMuYWRkS2V5TWFwcGluZyhjLGEubmFtZSwhIWEuYWxsb3dDb2xsaXNpb24pfXVucmVnaXN0ZXIoYSl7aWYoIXRoaXMuc2hvcnRjdXRzLmdldChhKSlyZXR1cm4gY29uc29sZS53YXJuKGBLZXlib2FyZCBzaG9ydGN1dCBuYW1lZCBcIiR7YX1cIiBub3QgZm91bmQuYCksXG4hMTt0aGlzLnJlbW92ZUFsbEtleU1hcHBpbmdzKGEpO3RoaXMuc2hvcnRjdXRzLmRlbGV0ZShhKTtyZXR1cm4hMH1hZGRLZXlNYXBwaW5nKGEsYixjKXthPWAke2F9YDtjb25zdCBkPXRoaXMua2V5TWFwLmdldChhKTtpZihkJiYhYyl0aHJvdyBFcnJvcihgU2hvcnRjdXQgbmFtZWQgXCIke2J9XCIgY29sbGlkZXMgd2l0aCBzaG9ydGN1dHMgXCIke2R9XCJgKTtkJiZjP2QudW5zaGlmdChiKTp0aGlzLmtleU1hcC5zZXQoYSxbYl0pfXJlbW92ZUtleU1hcHBpbmcoYSxiLGMpe2NvbnN0IGQ9dGhpcy5rZXlNYXAuZ2V0KGEpO2lmKCFkKXJldHVybiBjfHxjb25zb2xlLndhcm4oYE5vIGtleWJvYXJkIHNob3J0Y3V0IG5hbWVkIFwiJHtifVwiIHJlZ2lzdGVyZWQgd2l0aCBrZXkgY29kZSBcIiR7YX1cImApLCExO2NvbnN0IGU9ZC5pbmRleE9mKGIpO2lmKGU+LTEpcmV0dXJuIGQuc3BsaWNlKGUsMSksZC5sZW5ndGg9PT0wJiZ0aGlzLmtleU1hcC5kZWxldGUoYSksITA7Y3x8Y29uc29sZS53YXJuKGBObyBrZXlib2FyZCBzaG9ydGN1dCBuYW1lZCBcIiR7Yn1cIiByZWdpc3RlcmVkIHdpdGgga2V5IGNvZGUgXCIke2F9XCJgKTtcbnJldHVybiExfXJlbW92ZUFsbEtleU1hcHBpbmdzKGEpe2Zvcihjb25zdCBiIG9mIHRoaXMua2V5TWFwLmtleXMoKSl0aGlzLnJlbW92ZUtleU1hcHBpbmcoYixhLCEwKX1zZXRLZXlNYXAoYSl7dGhpcy5rZXlNYXAuY2xlYXIoKTtmb3IoY29uc3QgYiBpbiBhKXRoaXMua2V5TWFwLnNldChiLGFbYl0pfWdldEtleU1hcCgpe2NvbnN0IGE9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgW2IsY11vZiB0aGlzLmtleU1hcClhW2JdPWM7cmV0dXJuIGF9Z2V0UmVnaXN0cnkoKXtjb25zdCBhPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IFtiLGNdb2YgdGhpcy5zaG9ydGN1dHMpYVtiXT1jO3JldHVybiBkZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSxhKX1vbktleURvd24oYSxiKXt2YXIgYz10aGlzLnNlcmlhbGl6ZUtleUV2ZW50KGIpO2M9dGhpcy5nZXRTaG9ydGN1dE5hbWVzQnlLZXlDb2RlKGMpO2lmKCFjKXJldHVybiExO1xuZm9yKGNvbnN0IGQgb2YgYyl7Yz10aGlzLnNob3J0Y3V0cy5nZXQoZCk7bGV0IGU7aWYoIWN8fGMucHJlY29uZGl0aW9uRm4mJiFjLnByZWNvbmRpdGlvbkZuKGEse2ZvY3VzZWROb2RlOihlPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCkpIT1udWxsP2U6dm9pZCAwfSkpY29udGludWU7bGV0IGYsZyxoO2lmKChnPShmPWMpLmNhbGxiYWNrKT09bnVsbD8wOmcuY2FsbChmLGEsYixjLHtmb2N1c2VkTm9kZTooaD0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpKSE9bnVsbD9oOnZvaWQgMH0pKXJldHVybiEwfXJldHVybiExfWdldFNob3J0Y3V0TmFtZXNCeUtleUNvZGUoYSl7bGV0IGI7cmV0dXJuKChiPXRoaXMua2V5TWFwLmdldChhKSk9PW51bGw/dm9pZCAwOmIuc2xpY2UoKSl8fFtdfWdldEtleUNvZGVzQnlTaG9ydGN1dE5hbWUoYSl7Y29uc3QgYj1cbltdO2Zvcihjb25zdCBbYyxkXW9mIHRoaXMua2V5TWFwKWQuaW5kZXhPZihhKT4tMSYmYi5wdXNoKGMpO3JldHVybiBifXNlcmlhbGl6ZUtleUV2ZW50KGEpe2xldCBiPVwiXCI7Zm9yKGNvbnN0IGMgaW4gU2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5Lm1vZGlmaWVyS2V5cylhLmdldE1vZGlmaWVyU3RhdGUoYykmJihiIT09XCJcIiYmKGIrPVwiK1wiKSxiKz1jKTtiIT09XCJcIiYmYS5rZXlDb2RlP2IrPVwiK1wiK2Eua2V5Q29kZTphLmtleUNvZGUmJihiPVN0cmluZyhhLmtleUNvZGUpKTtyZXR1cm4gYn1jaGVja01vZGlmaWVycyhhKXtmb3IoY29uc3QgYiBvZiBhKWlmKCEoYiBpbiBTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkubW9kaWZpZXJLZXlzKSl0aHJvdyBFcnJvcihiK1wiIGlzIG5vdCBhIHZhbGlkIG1vZGlmaWVyIGtleS5cIik7fWNyZWF0ZVNlcmlhbGl6ZWRLZXkoYSxiKXtsZXQgYz1cblwiXCI7aWYoYil7dGhpcy5jaGVja01vZGlmaWVycyhiKTtmb3IoY29uc3QgZCBpbiBTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkubW9kaWZpZXJLZXlzKWIuaW5jbHVkZXMoU2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5Lm1vZGlmaWVyS2V5c1tkXSkmJihjIT09XCJcIiYmKGMrPVwiK1wiKSxjKz1kKX1jIT09XCJcIiYmYT9jKz1cIitcIithOmEmJihjPWAke2F9YCk7cmV0dXJuIGN9fTtTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnk9bmV3IFNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeTtcbihmdW5jdGlvbihhKXthPWEubW9kaWZpZXJLZXlzfHwoYS5tb2RpZmllcktleXM9e30pO2FbYS5TaGlmdD0xNl09XCJTaGlmdFwiO2FbYS5Db250cm9sPTE3XT1cIkNvbnRyb2xcIjthW2EuQWx0PTE4XT1cIkFsdFwiO2FbYS5NZXRhPTkxXT1cIk1ldGFcIn0pKFNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeXx8KFNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeT17fSkpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LlNob3J0Y3V0UmVnaXN0cnk9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5O3ZhciBXb3Jrc3BhY2VEQl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249T2JqZWN0LmNyZWF0ZShudWxsKSxtYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLHBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixkcmFnZ2luZ0Nvbm5lY3Rpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPVtdLFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj17ZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheUludGVybmFsOmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXlJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbn0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj17VEVTVF9PTkxZOlRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbn07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5jcmVhdGVCbG9ja0RlZmluaXRpb25zRnJvbUpzb25BcnJheT0kLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5kZWZpbmVCbG9ja3M9JC5kZWZpbmVCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5PWRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5kcmFnZ2luZ0Nvbm5lY3Rpb25zPWRyYWdnaW5nQ29ubmVjdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5maXJlU2VsZWN0ZWRFdmVudD1maXJlU2VsZWN0ZWRFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmdldEFsbFdvcmtzcGFjZXM9Z2V0QWxsV29ya3NwYWNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZ2V0QmxvY2tUeXBlQ291bnRzPWdldEJsb2NrVHlwZUNvdW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmdldE1haW5Xb3Jrc3BhY2U9Z2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmdldFBhcmVudENvbnRhaW5lcj1nZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5nZXRTZWxlY3RlZD1nZXRTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmdldFdvcmtzcGFjZUJ5SWQ9Z2V0V29ya3NwYWNlQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZ2xvYmFsU2hvcnRjdXRIYW5kbGVyPWdsb2JhbFNob3J0Y3V0SGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLnJlZ2lzdGVyV29ya3NwYWNlPXJlZ2lzdGVyV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uc2V0TWFpbldvcmtzcGFjZT1zZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uc2V0UGFyZW50Q29udGFpbmVyPXNldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLnNldFNlbGVjdGVkPXNldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5zdmdSZXNpemU9c3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24udW5yZWdpc3RlcldvcmtwYWNlPXVucmVnaXN0ZXJXb3JrcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjt2YXIgQWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy53b3Jrc3BhY2VJZD12b2lkIDA7dGhpcy5pc1VpRXZlbnQ9ITE7dGhpcy50eXBlPVwiXCI7dGhpcy5ncm91cD0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dGhpcy5yZWNvcmRVbmRvPWdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX10b0pzb24oKXtyZXR1cm57dHlwZTp0aGlzLnR5cGUsZ3JvdXA6dGhpcy5ncm91cH19c3RhdGljIGZyb21Kc29uKGEsYixjKXtjLmlzQmxhbms9ITE7Yy5ncm91cD1hLmdyb3VwfHxcIlwiO2Mud29ya3NwYWNlSWQ9Yi5pZDtyZXR1cm4gY31pc051bGwoKXtyZXR1cm4hMX1ydW4oYSl7fWdldEV2ZW50V29ya3NwYWNlXygpe2xldCBhO3RoaXMud29ya3NwYWNlSWQmJihhPWdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24odGhpcy53b3Jrc3BhY2VJZCkpO1xuaWYoIWEpdGhyb3cgRXJyb3IoXCJXb3Jrc3BhY2UgaXMgbnVsbC4gRXZlbnQgbXVzdCBoYXZlIGJlZW4gZ2VuZXJhdGVkIGZyb20gcmVhbCBCbG9ja2x5IGV2ZW50cy5cIik7cmV0dXJuIGF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdC5BYnN0cmFjdD1BYnN0cmFjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYWJzdHJhY3Q7dmFyIFVpQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZT1jbGFzcyBleHRlbmRzIEFic3RyYWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdHtjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMucmVjb3JkVW5kbz0hMTt0aGlzLmlzVWlFdmVudD0hMDt0aGlzLmlzQmxhbms9dHlwZW9mIGE9PT1cInVuZGVmaW5lZFwiO3RoaXMud29ya3NwYWNlSWQ9YT9hOlwiXCJ9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2UuVWlCYXNlPVVpQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZTt2YXIgQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrPWNsYXNzIGV4dGVuZHMgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNle2NvbnN0cnVjdG9yKGEsYixjKXtiPWE/YS53b3Jrc3BhY2UuaWQ6YjtiPT09bnVsbCYmKGI9dm9pZCAwKTtzdXBlcihiKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ0xJQ0s7dGhpcy5ibG9ja0lkPWE/YS5pZDp2b2lkIDA7dGhpcy50YXJnZXRUeXBlPWN9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy50YXJnZXRUeXBlKXRocm93IEVycm9yKFwiVGhlIGNsaWNrIHRhcmdldCB0eXBlIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YS50YXJnZXRUeXBlPXRoaXMudGFyZ2V0VHlwZTthLmJsb2NrSWQ9dGhpcy5ibG9ja0lkO1xucmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IENsaWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGljayk7Yi50YXJnZXRUeXBlPWEudGFyZ2V0VHlwZTtiLmJsb2NrSWQ9YS5ibG9ja0lkO3JldHVybiBifX0sQ2xpY2tUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrOyhmdW5jdGlvbihhKXthLkJMT0NLPVwiYmxvY2tcIjthLldPUktTUEFDRT1cIndvcmtzcGFjZVwiO2EuWk9PTV9DT05UUk9MUz1cInpvb21fY29udHJvbHNcIn0pKENsaWNrVGFyZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGlja3x8KENsaWNrVGFyZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGljaz17fSkpO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ0xJQ0ssQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2s9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2suQ2xpY2s9Q2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrLkNsaWNrVGFyZ2V0PUNsaWNrVGFyZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGljazt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheS5yZW1vdmVFbGVtPXJlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheTt2YXIgQ2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMubmFtZT1hfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZX19O0NhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5QT1NJVElPTkFCTEU9bmV3IENhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcihcInBvc2l0aW9uYWJsZVwiKTtDYXBhYmlsaXR5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuRFJBR19UQVJHRVQ9bmV3IENhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcihcImRyYWdfdGFyZ2V0XCIpO0NhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5ERUxFVEVfQVJFQT1uZXcgQ2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyKFwiZGVsZXRlX2FyZWFcIik7XG5DYXBhYmlsaXR5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQVVUT0hJREVBQkxFPW5ldyBDYXBhYmlsaXR5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIoXCJhdXRvaGlkZWFibGVcIik7XG52YXIgQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5jb21wb25lbnREYXRhPW5ldyBNYXA7dGhpcy5jYXBhYmlsaXR5VG9Db21wb25lbnRJZHM9bmV3IE1hcH1hZGRDb21wb25lbnQoYSxiKXtjb25zdCBjPWEuY29tcG9uZW50LmlkO2lmKCFiJiZ0aGlzLmNvbXBvbmVudERhdGEuaGFzKGMpKXt2YXIgZDt0aHJvdyBFcnJvcignUGx1Z2luIFwiJytjKydcIiB3aXRoIGNhcGFiaWxpdGllcyBcIicrKChkPXRoaXMuY29tcG9uZW50RGF0YS5nZXQoYykpPT1udWxsP3ZvaWQgMDpkLmNhcGFiaWxpdGllcykrJ1wiIGFscmVhZHkgYWRkZWQuJyk7fXRoaXMuY29tcG9uZW50RGF0YS5zZXQoYyxhKTtiPVtdO2ZvcihkPTA7ZDxhLmNhcGFiaWxpdGllcy5sZW5ndGg7ZCsrKXtjb25zdCBlPVN0cmluZyhhLmNhcGFiaWxpdGllc1tkXSkudG9Mb3dlckNhc2UoKTtiLnB1c2goZSk7aWYodGhpcy5jYXBhYmlsaXR5VG9Db21wb25lbnRJZHMuaGFzKGUpKXtsZXQgZjtcbihmPXRoaXMuY2FwYWJpbGl0eVRvQ29tcG9uZW50SWRzLmdldChlKSk9PW51bGx8fGYucHVzaChjKX1lbHNlIHRoaXMuY2FwYWJpbGl0eVRvQ29tcG9uZW50SWRzLnNldChlLFtjXSl9dGhpcy5jb21wb25lbnREYXRhLmdldChjKS5jYXBhYmlsaXRpZXM9Yn1yZW1vdmVDb21wb25lbnQoYSl7Y29uc3QgYj10aGlzLmNvbXBvbmVudERhdGEuZ2V0KGEpO2lmKGIpe2ZvcihsZXQgYz0wO2M8Yi5jYXBhYmlsaXRpZXMubGVuZ3RoO2MrKyl7Y29uc3QgZD1TdHJpbmcoYi5jYXBhYmlsaXRpZXNbY10pLnRvTG93ZXJDYXNlKCk7cmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMuY2FwYWJpbGl0eVRvQ29tcG9uZW50SWRzLmdldChkKSxhKX10aGlzLmNvbXBvbmVudERhdGEuZGVsZXRlKGEpfX1hZGRDYXBhYmlsaXR5KGEsYil7aWYoIXRoaXMuZ2V0Q29tcG9uZW50KGEpKXRocm93IEVycm9yKCdDYW5ub3QgYWRkIGNhcGFiaWxpdHksIFwiJytiKydcIi4gUGx1Z2luIFwiJytcbmErJ1wiIGhhcyBub3QgYmVlbiBhZGRlZCB0byB0aGUgQ29tcG9uZW50TWFuYWdlcicpO2lmKHRoaXMuaGFzQ2FwYWJpbGl0eShhLGIpKWNvbnNvbGUud2FybignUGx1Z2luIFwiJythKydhbHJlYWR5IGhhcyBjYXBhYmlsaXR5IFwiJytiKydcIicpO2Vsc2V7Yj1gJHtifWAudG9Mb3dlckNhc2UoKTt2YXIgYzsoYz10aGlzLmNvbXBvbmVudERhdGEuZ2V0KGEpKT09bnVsbHx8Yy5jYXBhYmlsaXRpZXMucHVzaChiKTt2YXIgZDsoZD10aGlzLmNhcGFiaWxpdHlUb0NvbXBvbmVudElkcy5nZXQoYikpPT1udWxsfHxkLnB1c2goYSl9fXJlbW92ZUNhcGFiaWxpdHkoYSxiKXtpZighdGhpcy5nZXRDb21wb25lbnQoYSkpdGhyb3cgRXJyb3IoJ0Nhbm5vdCByZW1vdmUgY2FwYWJpbGl0eSwgXCInK2IrJ1wiLiBQbHVnaW4gXCInK2ErJ1wiIGhhcyBub3QgYmVlbiBhZGRlZCB0byB0aGUgQ29tcG9uZW50TWFuYWdlcicpO3RoaXMuaGFzQ2FwYWJpbGl0eShhLGIpPyhiPWAke2J9YC50b0xvd2VyQ2FzZSgpLHJlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheSh0aGlzLmNvbXBvbmVudERhdGEuZ2V0KGEpLmNhcGFiaWxpdGllcyxcbmIpLHJlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheSh0aGlzLmNhcGFiaWxpdHlUb0NvbXBvbmVudElkcy5nZXQoYiksYSkpOmNvbnNvbGUud2FybignUGx1Z2luIFwiJythK1wiZG9lc24ndCBoYXZlIGNhcGFiaWxpdHkgXFxcIlwiK2IrJ1wiIHRvIHJlbW92ZScpfWhhc0NhcGFiaWxpdHkoYSxiKXtiPWAke2J9YC50b0xvd2VyQ2FzZSgpO3JldHVybiB0aGlzLmNvbXBvbmVudERhdGEuaGFzKGEpJiZ0aGlzLmNvbXBvbmVudERhdGEuZ2V0KGEpLmNhcGFiaWxpdGllcy5pbmNsdWRlcyhiKX1nZXRDb21wb25lbnQoYSl7bGV0IGI7cmV0dXJuKGI9dGhpcy5jb21wb25lbnREYXRhLmdldChhKSk9PW51bGw/dm9pZCAwOmIuY29tcG9uZW50fWdldENvbXBvbmVudHMoYSxiKXthPWAke2F9YC50b0xvd2VyQ2FzZSgpO2E9dGhpcy5jYXBhYmlsaXR5VG9Db21wb25lbnRJZHMuZ2V0KGEpO2lmKCFhKXJldHVybltdO2NvbnN0IGM9W107aWYoYil7Y29uc3QgZD1bXTthLmZvckVhY2goZT0+XG57ZC5wdXNoKHRoaXMuY29tcG9uZW50RGF0YS5nZXQoZSkpfSk7ZC5zb3J0KGZ1bmN0aW9uKGUsZil7cmV0dXJuIGUud2VpZ2h0LWYud2VpZ2h0fSk7ZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2MucHVzaChlLmNvbXBvbmVudCl9KX1lbHNlIGEuZm9yRWFjaChkPT57Yy5wdXNoKHRoaXMuY29tcG9uZW50RGF0YS5nZXQoZCkuY29tcG9uZW50KX0pO3JldHVybiBjfX07Q29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHk9Q2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyO1xuKGZ1bmN0aW9uKGEpe2E9YS5Db21wb25lbnRXZWlnaHR8fChhLkNvbXBvbmVudFdlaWdodD17fSk7YVthLlRPT0xCT1hfV0VJR0hUPTBdPVwiVE9PTEJPWF9XRUlHSFRcIjthW2EuRkxZT1VUX1dFSUdIVD0xXT1cIkZMWU9VVF9XRUlHSFRcIjthW2EuVFJBU0hDQU5fV0VJR0hUPTJdPVwiVFJBU0hDQU5fV0VJR0hUXCI7YVthLlpPT01fQ09OVFJPTFNfV0VJR0hUPTNdPVwiWk9PTV9DT05UUk9MU19XRUlHSFRcIn0pKENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcnx8KENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcj17fSkpO1xudmFyIENvbXBvbmVudFdlaWdodCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyPUNvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5Db21wb25lbnRXZWlnaHQsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5Db21wb25lbnRNYW5hZ2VyPUNvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ29tcG9uZW50V2VpZ2h0PUNvbXBvbmVudFdlaWdodCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyO3ZhciBpbmplY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcz0hMSxjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzPSdcXG4uYmxvY2tseVN2ZyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIG92ZXJmbG93OiBoaWRkZW47ICAvKiBJRSBvdmVyZmxvd3MgYnkgZGVmYXVsdC4gKi9cXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4uYmxvY2tseVdpZGdldERpdiB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogOTk5OTk7ICAvKiBiaWcgdmFsdWUgZm9yIGJvb3RzdHJhcDMgY29tcGF0aWJpbGl0eSAqL1xcbn1cXG5cXG4uaW5qZWN0aW9uRGl2IHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiBoaWRkZW47ICAvKiBTbyBibG9ja3MgaW4gZHJhZyBzdXJmYWNlIGRpc2FwcGVhciBhdCBlZGdlcyAqL1xcbiAgdG91Y2gtYWN0aW9uOiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4uYmxvY2tseUJsb2NrQ2FudmFzLmJsb2NrbHlDYW52YXNUcmFuc2l0aW9uaW5nLFxcbi5ibG9ja2x5QnViYmxlQ2FudmFzLmJsb2NrbHlDYW52YXNUcmFuc2l0aW9uaW5nIHtcXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuNXM7XFxufVxcblxcbi5ibG9ja2x5RW1ib3NzIHtcXG4gIGZpbHRlcjogdmFyKC0tYmxvY2tseUVtYm9zc0ZpbHRlcik7XFxufVxcblxcbi5ibG9ja2x5VG9vbHRpcERpdiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmM3O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkYztcXG4gIGJveC1zaGFkb3c6IDRweCA0cHggMjBweCAxcHggcmdiYSgwLDAsMCwuMTUpO1xcbiAgY29sb3I6ICMwMDA7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgZm9udDogOXB0IHNhbnMtc2VyaWY7XFxuICBvcGFjaXR5OiAuOTtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEwMDAwMDsgIC8qIGJpZyB2YWx1ZSBmb3IgYm9vdHN0cmFwMyBjb21wYXRpYmlsaXR5ICovXFxufVxcblxcbi5ibG9ja2x5RHJvcERvd25EaXYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHotaW5kZXg6IDEwMDA7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgYm9yZGVyOiAxcHggc29saWQ7XFxuICBib3JkZXItY29sb3I6ICNkYWRjZTA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgcGFkZGluZzogNHB4O1xcbiAgYm94LXNoYWRvdzogMCAwIDNweCAxcHggcmdiYSgwLDAsMCwuMyk7XFxufVxcblxcbi5ibG9ja2x5RHJvcERvd25EaXY6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDZweCAxcHggcmdiYSgwLDAsMCwuMyk7XFxufVxcblxcbi5ibG9ja2x5RHJvcERvd25Db250ZW50IHtcXG4gIG1heC1oZWlnaHQ6IDMwMHB4OyAgLyogQHRvZG86IHNwZWMgZm9yIG1heGltdW0gaGVpZ2h0LiAqL1xcbn1cXG5cXG4uYmxvY2tseURyb3BEb3duQXJyb3cge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgei1pbmRleDogLTE7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbiAgYm9yZGVyLWNvbG9yOiBpbmhlcml0O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkO1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcXG4gIGJvcmRlci1jb2xvcjogaW5oZXJpdDtcXG59XFxuXFxuLmJsb2NrbHlIaWdobGlnaHRlZD4uYmxvY2tseVBhdGgge1xcbiAgZmlsdGVyOiB2YXIoLS1ibG9ja2x5RW1ib3NzRmlsdGVyKTtcXG59XFxuXFxuLmJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoIHtcXG4gIGZpbGw6IG5vbmU7XFxuICBzdHJva2U6ICNmYzM7XFxuICBzdHJva2Utd2lkdGg6IDRweDtcXG59XFxuXFxuLmJsb2NrbHlQYXRoTGlnaHQge1xcbiAgZmlsbDogbm9uZTtcXG4gIHN0cm9rZS1saW5lY2FwOiByb3VuZDtcXG4gIHN0cm9rZS13aWR0aDogMTtcXG59XFxuXFxuLmJsb2NrbHlTZWxlY3RlZD4uYmxvY2tseVBhdGhMaWdodCB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uYmxvY2tseURyYWdnYWJsZSB7XFxuICBjdXJzb3I6IGdyYWI7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYjtcXG59XFxuXFxuLmJsb2NrbHlEcmFnZ2luZyB7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbiAgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nO1xcbiAgLyogRHJhZyBzdXJmYWNlIGRpc2FibGVzIGV2ZW50cyB0byBub3QgYmxvY2sgdGhlIHRvb2xib3gsIHNvIHdlIGhhdmUgdG9cXG4gICAqIHJlZW5hYmxlIHRoZW0gaGVyZSBmb3IgdGhlIGN1cnNvciB2YWx1ZXMgdG8gd29yay4gKi9cXG4gIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbn1cXG5cXG4gIC8qIENoYW5nZXMgY3Vyc29yIG9uIG1vdXNlIGRvd24uIE5vdCBlZmZlY3RpdmUgaW4gRmlyZWZveCBiZWNhdXNlIG9mXFxuICAgICBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD03NzEyNDEgKi9cXG4uYmxvY2tseURyYWdnYWJsZTphY3RpdmUge1xcbiAgY3Vyc29yOiBncmFiYmluZztcXG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiYmluZztcXG59XFxuXFxuLmJsb2NrbHlEcmFnZ2luZy5ibG9ja2x5RHJhZ2dpbmdEZWxldGUsXFxuLmJsb2NrbHlEcmFnZ2luZy5ibG9ja2x5RHJhZ2dpbmdEZWxldGUgLmJsb2NrbHlGaWVsZCB7XFxuICBjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZGRlbGV0ZS5jdXJcIiksIGF1dG87XFxufVxcblxcbi5ibG9ja2x5RHJhZ2dpbmc+LmJsb2NrbHlQYXRoLFxcbi5ibG9ja2x5RHJhZ2dpbmc+LmJsb2NrbHlQYXRoTGlnaHQge1xcbiAgZmlsbC1vcGFjaXR5OiAuODtcXG4gIHN0cm9rZS1vcGFjaXR5OiAuODtcXG59XFxuXFxuLmJsb2NrbHlEcmFnZ2luZz4uYmxvY2tseVBhdGhEYXJrIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5RGlzYWJsZWRQYXR0ZXJuPi5ibG9ja2x5UGF0aCB7XFxuICBmaWxsOiB2YXIoLS1ibG9ja2x5RGlzYWJsZWRQYXR0ZXJuKTtcXG4gIGZpbGwtb3BhY2l0eTogLjU7XFxuICBzdHJva2Utb3BhY2l0eTogLjU7XFxufVxcblxcbi5ibG9ja2x5RGlzYWJsZWQ+LmJsb2NrbHlQYXRoTGlnaHQsXFxuLmJsb2NrbHlEaXNhYmxlZD4uYmxvY2tseVBhdGhEYXJrIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5SW5zZXJ0aW9uTWFya2VyPi5ibG9ja2x5UGF0aCxcXG4uYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGhMaWdodCxcXG4uYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGhEYXJrIHtcXG4gIGZpbGwtb3BhY2l0eTogLjI7XFxuICBzdHJva2U6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Tm9uRWRpdGFibGVGaWVsZD50ZXh0IHtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4uYmxvY2tseUZseW91dCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAyMDtcXG59XFxuXFxuLmJsb2NrbHlUZXh0IHRleHQge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5cXG4vKlxcbiAgRG9uXFwndCBhbGxvdyB1c2VycyB0byBzZWxlY3QgdGV4dC4gIEl0IGdldHMgYW5ub3lpbmcgd2hlbiB0cnlpbmcgdG9cXG4gIGRyYWcgYSBibG9jayBhbmQgc2VsZWN0ZWQgdGV4dCBtb3ZlcyBpbnN0ZWFkLlxcbiovXFxuLmJsb2NrbHlTdmcgdGV4dCB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBjdXJzb3I6IGluaGVyaXQ7XFxufVxcblxcbi5ibG9ja2x5SWNvbkdyb3VwIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuXFxuLmJsb2NrbHlJY29uR3JvdXA6bm90KDpob3Zlcik6bm90KDpmb2N1cyksXFxuLmJsb2NrbHlJY29uR3JvdXBSZWFkb25seSB7XFxuICBvcGFjaXR5OiAuNjtcXG59XFxuXFxuLmJsb2NrbHlJY29uU2hhcGUge1xcbiAgZmlsbDogIzAwZjtcXG4gIHN0cm9rZTogI2ZmZjtcXG4gIHN0cm9rZS13aWR0aDogMXB4O1xcbn1cXG5cXG4uYmxvY2tseUljb25TeW1ib2wge1xcbiAgZmlsbDogI2ZmZjtcXG59XFxuXFxuLmJsb2NrbHlNaW5pbWFsQm9keSB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uYmxvY2tseUh0bWxJbnB1dCB7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IDA7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG4vKiBSZW1vdmUgdGhlIGluY3JlYXNlIGFuZCBkZWNyZWFzZSBhcnJvd3Mgb24gdGhlIGZpZWxkIG51bWJlciBlZGl0b3IgKi9cXG5pbnB1dC5ibG9ja2x5SHRtbElucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcXG5pbnB1dC5ibG9ja2x5SHRtbElucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBtYXJnaW46IDA7XFxufVxcblxcbmlucHV0W3R5cGU9bnVtYmVyXSB7XFxuICAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDtcXG59XFxuXFxuLmJsb2NrbHlNYWluQmFja2dyb3VuZCB7XFxuICBzdHJva2Utd2lkdGg6IDE7XFxuICBzdHJva2U6ICNjNmM2YzY7ICAvKiBFcXVhdGVzIHRvICNkZGQgZHVlIHRvIGJvcmRlciBiZWluZyBvZmYtcGl4ZWwuICovXFxufVxcblxcbi5ibG9ja2x5TXV0YXRvckJhY2tncm91bmQge1xcbiAgZmlsbDogI2ZmZjtcXG4gIHN0cm9rZTogI2RkZDtcXG4gIHN0cm9rZS13aWR0aDogMTtcXG59XFxuXFxuLmJsb2NrbHlGbHlvdXRCYWNrZ3JvdW5kIHtcXG4gIGZpbGw6ICNkZGQ7XFxuICBmaWxsLW9wYWNpdHk6IC44O1xcbn1cXG5cXG4uYmxvY2tseU1haW5Xb3Jrc3BhY2VTY3JvbGxiYXIge1xcbiAgei1pbmRleDogMjA7XFxufVxcblxcbi5ibG9ja2x5Rmx5b3V0U2Nyb2xsYmFyIHtcXG4gIHotaW5kZXg6IDMwO1xcbn1cXG5cXG4uYmxvY2tseVNjcm9sbGJhckhvcml6b250YWwsXFxuLmJsb2NrbHlTY3JvbGxiYXJWZXJ0aWNhbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4uYmxvY2tseVNjcm9sbGJhckJhY2tncm91bmQge1xcbiAgb3BhY2l0eTogMDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4uYmxvY2tseVNjcm9sbGJhckhhbmRsZSB7XFxuICBmaWxsOiAjY2NjO1xcbn1cXG5cXG4uYmxvY2tseVNjcm9sbGJhckJhY2tncm91bmQ6aG92ZXIrLmJsb2NrbHlTY3JvbGxiYXJIYW5kbGUsXFxuLmJsb2NrbHlTY3JvbGxiYXJIYW5kbGU6aG92ZXIge1xcbiAgZmlsbDogI2JiYjtcXG59XFxuXFxuLyogRGFya2VuIGZseW91dCBzY3JvbGxiYXJzIGR1ZSB0byBiZWluZyBvbiBhIGdyZXkgYmFja2dyb3VuZC4gKi9cXG4vKiBCeSBjb250cmFzdCwgd29ya3NwYWNlIHNjcm9sbGJhcnMgYXJlIG9uIGEgd2hpdGUgYmFja2dyb3VuZC4gKi9cXG4uYmxvY2tseUZseW91dCAuYmxvY2tseVNjcm9sbGJhckhhbmRsZSB7XFxuICBmaWxsOiAjYmJiO1xcbn1cXG5cXG4uYmxvY2tseUZseW91dCAuYmxvY2tseVNjcm9sbGJhckJhY2tncm91bmQ6aG92ZXIrLmJsb2NrbHlTY3JvbGxiYXJIYW5kbGUsXFxuLmJsb2NrbHlGbHlvdXQgLmJsb2NrbHlTY3JvbGxiYXJIYW5kbGU6aG92ZXIge1xcbiAgZmlsbDogI2FhYTtcXG59XFxuXFxuLmJsb2NrbHlJbnZhbGlkSW5wdXQge1xcbiAgYmFja2dyb3VuZDogI2ZhYTtcXG59XFxuXFxuLmJsb2NrbHlWZXJ0aWNhbE1hcmtlciB7XFxuICBzdHJva2Utd2lkdGg6IDNweDtcXG4gIGZpbGw6IHJnYmEoMjU1LDI1NSwyNTUsLjUpO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Q29tcHV0ZUNhbnZhcyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG59XFxuXFxuLmJsb2NrbHlOb1BvaW50ZXJFdmVudHMge1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Q29udGV4dE1lbnUge1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG59XFxuXFxuLmJsb2NrbHlEcm9wZG93bk1lbnUge1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xcbn1cXG5cXG4uYmxvY2tseURyb3Bkb3duTWVudSAuYmxvY2tseU1lbnVJdGVtIHtcXG4gIC8qIDI4cHggb24gdGhlIGxlZnQgZm9yIGljb24gb3IgY2hlY2tib3guICovXFxuICBwYWRkaW5nLWxlZnQ6IDI4cHg7XFxufVxcblxcbi8qIEJpRGkgb3ZlcnJpZGUgZm9yIHRoZSByZXN0aW5nIHN0YXRlLiAqL1xcbi5ibG9ja2x5RHJvcGRvd25NZW51IC5ibG9ja2x5TWVudUl0ZW1SdGwge1xcbiAgLyogRmxpcCBsZWZ0L3JpZ2h0IHBhZGRpbmcgZm9yIEJpRGkuICovXFxuICBwYWRkaW5nLWxlZnQ6IDVweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDI4cHg7XFxufVxcblxcbi5ibG9ja2x5V2lkZ2V0RGl2IC5ibG9ja2x5TWVudSB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3gtc2hhZG93OiAwIDAgM3B4IDFweCByZ2JhKDAsMCwwLC4zKTtcXG4gIGZvbnQ6IG5vcm1hbCAxM3B4IEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgbWFyZ2luOiAwO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIHBhZGRpbmc6IDRweCAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAyMDAwMDsgIC8qIEFyYml0cmFyeSwgYnV0IHNvbWUgYXBwcyBkZXBlbmQgb24gaXQuLi4gKi9cXG59XFxuXFxuLmJsb2NrbHlXaWRnZXREaXYgLmJsb2NrbHlNZW51OmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IDAgMCA2cHggMXB4IHJnYmEoMCwwLDAsLjMpO1xcbn1cXG5cXG4uYmxvY2tseURyb3BEb3duRGl2IC5ibG9ja2x5TWVudSB7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBiYWNrZ3JvdW5kOiBpbmhlcml0OyAgLyogQ29tcGF0aWJpbGl0eSB3aXRoIGdhcGksIHJlc2V0IGZyb20gZ29vZy1tZW51ICovXFxuICBib3JkZXI6IGluaGVyaXQ7ICAvKiBDb21wYXRpYmlsaXR5IHdpdGggZ2FwaSwgcmVzZXQgZnJvbSBnb29nLW1lbnUgKi9cXG4gIGZvbnQ6IG5vcm1hbCAxM3B4IFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMjAwMDA7ICAvKiBBcmJpdHJhcnksIGJ1dCBzb21lIGFwcHMgZGVwZW5kIG9uIGl0Li4uICovXFxufVxcblxcbi8qIFN0YXRlOiByZXN0aW5nLiAqL1xcbi5ibG9ja2x5TWVudUl0ZW0ge1xcbiAgYm9yZGVyOiBub25lO1xcbiAgY29sb3I6ICMwMDA7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgbWFyZ2luOiAwO1xcbiAgLyogN2VtIG9uIHRoZSByaWdodCBmb3Igc2hvcnRjdXQuICovXFxuICBtaW4td2lkdGg6IDdlbTtcXG4gIHBhZGRpbmc6IDZweCAxNXB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuLyogU3RhdGU6IGRpc2FibGVkLiAqL1xcbi5ibG9ja2x5TWVudUl0ZW1EaXNhYmxlZCB7XFxuICBjb2xvcjogI2NjYztcXG4gIGN1cnNvcjogaW5oZXJpdDtcXG59XFxuXFxuLyogU3RhdGU6IGhvdmVyLiAqL1xcbi5ibG9ja2x5TWVudUl0ZW1IaWdobGlnaHQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwuMSk7XFxufVxcblxcbi8qIFN0YXRlOiBzZWxlY3RlZC9jaGVja2VkLiAqL1xcbi5ibG9ja2x5TWVudUl0ZW1DaGVja2JveCB7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTZweDtcXG59XFxuXFxuLmJsb2NrbHlNZW51SXRlbVNlbGVjdGVkIC5ibG9ja2x5TWVudUl0ZW1DaGVja2JveCB7XFxuICBiYWNrZ3JvdW5kOiB1cmwoPDw8UEFUSD4+Pi9zcHJpdGVzLnBuZykgbm8tcmVwZWF0IC00OHB4IC0xNnB4O1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBtYXJnaW4tbGVmdDogLTI0cHg7XFxuICBwb3NpdGlvbjogc3RhdGljOyAgLyogU2Nyb2xsIHdpdGggdGhlIG1lbnUuICovXFxufVxcblxcbi5ibG9ja2x5TWVudUl0ZW1SdGwgLmJsb2NrbHlNZW51SXRlbUNoZWNrYm94IHtcXG4gIGZsb2F0OiByaWdodDtcXG4gIG1hcmdpbi1yaWdodDogLTI0cHg7XFxufVxcblxcbi5ibG9ja2x5TWVudVNlcGFyYXRvciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xcbiAgaGVpZ2h0OiAxcHg7XFxuICBib3JkZXI6IDA7XFxuICBtYXJnaW4tbGVmdDogNHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XFxufVxcblxcbi5ibG9ja2x5QmxvY2tEcmFnU3VyZmFjZSwgLmJsb2NrbHlBbmltYXRpb25MYXllciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xcbiAgei1pbmRleDogODA7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlGaWVsZCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi5ibG9ja2x5SW5wdXRGaWVsZCB7XFxuICBjdXJzb3I6IHRleHQ7XFxufVxcblxcbi5ibG9ja2x5RHJhZ2dpbmcgLmJsb2NrbHlGaWVsZCxcXG4uYmxvY2tseURyYWdnaW5nIC5ibG9ja2x5SWNvbkdyb3VwIHtcXG4gIGN1cnNvcjogZ3JhYmJpbmc7XFxufVxcblxcbi5ibG9ja2x5QWN0aXZlRm9jdXM6aXMoXFxuICAuYmxvY2tseUZseW91dCxcXG4gIC5ibG9ja2x5V29ya3NwYWNlLFxcbiAgLmJsb2NrbHlGaWVsZCxcXG4gIC5ibG9ja2x5UGF0aCxcXG4gIC5ibG9ja2x5SGlnaGxpZ2h0ZWRDb25uZWN0aW9uUGF0aCxcXG4gIC5ibG9ja2x5Q29tbWVudCxcXG4gIC5ibG9ja2x5QnViYmxlLFxcbiAgLmJsb2NrbHlJY29uR3JvdXAsXFxuICAuYmxvY2tseVRleHRhcmVhXFxuKSB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4nLFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzLmluamVjdD1pbmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3M7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcy5yZWdpc3Rlcj1yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzczt2YXIgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGU9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLng9YTt0aGlzLnk9Yn1jbG9uZSgpe3JldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUodGhpcy54LHRoaXMueSl9c2NhbGUoYSl7dGhpcy54Kj1hO3RoaXMueSo9YTtyZXR1cm4gdGhpc310cmFuc2xhdGUoYSxiKXt0aGlzLngrPWE7dGhpcy55Kz1iO3JldHVybiB0aGlzfXN0YXRpYyBlcXVhbHMoYSxiKXtyZXR1cm4gYT09PWI/ITA6YSYmYj9hLng9PT1iLngmJmEueT09PWIueTohMX1zdGF0aWMgZGlzdGFuY2UoYSxiKXtjb25zdCBjPWEueC1iLng7YT1hLnktYi55O3JldHVybiBNYXRoLnNxcnQoYypjK2EqYSl9c3RhdGljIG1hZ25pdHVkZShhKXtyZXR1cm4gTWF0aC5zcXJ0KGEueCphLngrYS55KmEueSl9c3RhdGljIGRpZmZlcmVuY2UoYSxiKXtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEueC1cbmIueCxhLnktYi55KX1zdGF0aWMgc3VtKGEsYil7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLngrYi54LGEueStiLnkpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuQ29vcmRpbmF0ZT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZTt2YXIgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMudGFnTmFtZT1hfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudGFnTmFtZX19O1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5BTklNQVRFPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJhbmltYXRlXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DSVJDTEU9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImNpcmNsZVwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQ0xJUFBBVEg9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImNsaXBQYXRoXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5ERUZTPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJkZWZzXCIpO1xuU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFQ09NUE9TSVRFPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJmZUNvbXBvc2l0ZVwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT05FTlRUUkFOU0ZFUj1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZmVDb21wb25lbnRUcmFuc2ZlclwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVGTE9PRD1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZmVGbG9vZFwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVGVU5DQT1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZmVGdW5jQVwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVHQVVTU0lBTkJMVVI9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImZlR2F1c3NpYW5CbHVyXCIpO1xuU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFUE9JTlRMSUdIVD1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZmVQb2ludExpZ2h0XCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRVNQRUNVTEFSTElHSFRJTkc9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImZlU3BlY3VsYXJMaWdodGluZ1wiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRklMVEVSPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJmaWx0ZXJcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZPUkVJR05PQkpFQ1Q9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImZvcmVpZ25PYmplY3RcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkc9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImdcIik7XG5TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0U9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImltYWdlXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5MSU5FPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJsaW5lXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRIPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJwYXRoXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRURVJOPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJwYXR0ZXJuXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QT0xZR09OPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJwb2x5Z29uXCIpO1xuU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Q9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcInJlY3RcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlNWRz1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwic3ZnXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5URVhUPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJ0ZXh0XCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5UU1BBTj1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwidHNwYW5cIik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmc9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5Tdmc9U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnO3ZhciBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdD1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyxkKXt0aGlzLnRvcD1hO3RoaXMuYm90dG9tPWI7dGhpcy5sZWZ0PWM7dGhpcy5yaWdodD1kfXN0YXRpYyBmcm9tKGEpe3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS55LGEueSthLmhlaWdodCxhLngsYS54K2Eud2lkdGgpfWNsb25lKCl7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCh0aGlzLnRvcCx0aGlzLmJvdHRvbSx0aGlzLmxlZnQsdGhpcy5yaWdodCl9Z2V0SGVpZ2h0KCl7cmV0dXJuIHRoaXMuYm90dG9tLXRoaXMudG9wfWdldFdpZHRoKCl7cmV0dXJuIHRoaXMucmlnaHQtdGhpcy5sZWZ0fWdldE9yaWdpbigpe3JldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUodGhpcy5sZWZ0LHRoaXMudG9wKX1jb250YWlucyhhLFxuYil7cmV0dXJuIGE+PXRoaXMubGVmdCYmYTw9dGhpcy5yaWdodCYmYj49dGhpcy50b3AmJmI8PXRoaXMuYm90dG9tfWludGVyc2VjdHMoYSl7cmV0dXJuIHRoaXMubGVmdDw9YS5yaWdodCYmdGhpcy5yaWdodD49YS5sZWZ0JiZ0aGlzLmJvdHRvbT49YS50b3AmJnRoaXMudG9wPD1hLmJvdHRvbX1zdGF0aWMgZXF1YWxzKGEsYil7cmV0dXJuIGE9PT1iPyEwOmEmJmI/YS50b3A9PT1iLnRvcCYmYS5ib3R0b209PT1iLmJvdHRvbSYmYS5sZWZ0PT09Yi5sZWZ0JiZhLnJpZ2h0PT09Yi5yaWdodDohMX1zdGF0aWMgY3JlYXRlRnJvbVBvaW50KGEsYixjKXtjb25zdCBkPWEueDthPWEueTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEsYStjLGQsZCtiKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0LlJlY3Q9UmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3Q7dmFyIFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy53aWR0aD1hO3RoaXMuaGVpZ2h0PWJ9c3RhdGljIGVxdWFscyhhLGIpe3JldHVybiBhPT09Yj8hMDphJiZiP2Eud2lkdGg9PT1iLndpZHRoJiZhLmhlaWdodD09PWIuaGVpZ2h0OiExfXN0YXRpYyBtYXgoYSxiKXtyZXR1cm4gbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKE1hdGgubWF4KGEud2lkdGgsYi53aWR0aCksTWF0aC5tYXgoYS5oZWlnaHQsYi5oZWlnaHQpKX1zdGF0aWMgbWluKGEsYil7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShNYXRoLm1pbihhLndpZHRoLGIud2lkdGgpLE1hdGgubWluKGEuaGVpZ2h0LGIuaGVpZ2h0KSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZS5TaXplPVNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplO3ZhciBURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT17Z2V0U2l6ZUludGVybmFsOmdldFNpemVJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlfSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9e1RFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZX07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLmdldEJvcmRlckJveD1nZXRCb3JkZXJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZT1nZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLmdldENvbnRhaW5lck9mZnNldFRvU2Nyb2xsSW50bz1nZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZS5nZXRQYWdlT2Zmc2V0PWdldFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuZ2V0U2l6ZT1nZXRTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLmdldFZpZXdwb3J0UGFnZU9mZnNldD1nZXRWaWV3cG9ydFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuc2Nyb2xsSW50b0NvbnRhaW5lclZpZXc9c2Nyb2xsSW50b0NvbnRhaW5lclZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTt2YXIgWFlfUkVHRVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD0vdHJhbnNsYXRlXFwoXFxzKihbLStcXGQuZV0rKShbICxdXFxzKihbLStcXGQuZV0rKVxccyopPy8sWFlfU1RZTEVfUkVHRVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD0vdHJhbnNmb3JtOlxccyp0cmFuc2xhdGUoPzozZCk/XFwoXFxzKihbLStcXGQuZV0rKVxccypweChbICxdXFxzKihbLStcXGQuZV0rKVxccypweCk/LyxURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD17WFlfUkVHRVg6WFlfUkVHRVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCxYWV9TVFlMRV9SRUdFWDpYWV9TVFlMRV9SRUdFWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRofSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg9e1RFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aH07XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGguZ2V0RG9jdW1lbnRTY3JvbGw9Z2V0RG9jdW1lbnRTY3JvbGwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGguZ2V0SW5qZWN0aW9uRGl2WFk9Z2V0SW5qZWN0aW9uRGl2WFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGguZ2V0UmVsYXRpdmVYWT1nZXRSZWxhdGl2ZVhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLmdldFZpZXdwb3J0QkJveD1nZXRWaWV3cG9ydEJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGguc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzPXNjcmVlblRvV3NDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLndzVG9TY3JlZW5Db29yZGluYXRlcz13c1RvU2NyZWVuQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aDt2YXIgU2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQsZSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmhvcml6b250YWw9Yjt0aGlzLm9sZEhvc3RNZXRyaWNzPW51bGw7dGhpcy5yYXRpbz0xO3RoaXMub3JpZ2luPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuc3RhcnREcmFnSGFuZGxlPXRoaXMuaGFuZGxlUG9zaXRpb249dGhpcy5oYW5kbGVMZW5ndGg9dGhpcy5zY3JvbGxiYXJMZW5ndGg9dGhpcy5zdGFydERyYWdNb3VzZT0wO3RoaXMuY29udGFpbmVyVmlzaWJsZT10aGlzLmlzSGFuZGxlVmlzaWJsZT0hMDt0aGlzLnBvc2l0aW9uPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMub25Nb3VzZU1vdmVXcmFwcGVyXz10aGlzLm9uTW91c2VVcFdyYXBwZXJfPW51bGw7dGhpcy5wYWlyPVxuY3x8ITE7dGhpcy5tYXJnaW49ZSE9PXZvaWQgMD9lOlNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5ERUZBVUxUX1NDUk9MTEJBUl9NQVJHSU47YT1cImJsb2NrbHlTY3JvbGxiYXJcIisodGhpcy5ob3Jpem9udGFsP1wiSG9yaXpvbnRhbFwiOlwiVmVydGljYWxcIik7ZCYmKGErPVwiIFwiK2QpO3RoaXMub3V0ZXJTdmc9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHLHtcImNsYXNzXCI6YX0pO2Q9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7fSx0aGlzLm91dGVyU3ZnKTt0aGlzLnN2Z0JhY2tncm91bmQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCxcbntcImNsYXNzXCI6XCJibG9ja2x5U2Nyb2xsYmFyQmFja2dyb3VuZFwifSxkKTthPU1hdGguZmxvb3IoKFNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MtNSkvMik7dGhpcy5zdmdIYW5kbGU9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseVNjcm9sbGJhckhhbmRsZVwiLHJ4OmEscnk6YX0sZCk7dGhpcy53b3Jrc3BhY2UuZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKHRoaXMuc3ZnSGFuZGxlLFwic2Nyb2xsYmFyQ29sb3VyXCIsXCJmaWxsXCIpO3RoaXMud29ya3NwYWNlLmdldFRoZW1lTWFuYWdlcigpLnN1YnNjcmliZSh0aGlzLnN2Z0hhbmRsZSxcInNjcm9sbGJhck9wYWNpdHlcIixcImZpbGwtb3BhY2l0eVwiKTtpbnNlcnRBZnRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLm91dGVyU3ZnLFxudGhpcy53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCkpO3RoaXMuc2V0SW5pdGlhbFRoaWNrbmVzcygpO2I/KHRoaXMubGVuZ3RoQXR0cmlidXRlXz1cIndpZHRoXCIsdGhpcy5wb3NpdGlvbkF0dHJpYnV0ZV89XCJ4XCIpOih0aGlzLmxlbmd0aEF0dHJpYnV0ZV89XCJoZWlnaHRcIix0aGlzLnBvc2l0aW9uQXR0cmlidXRlXz1cInlcIik7dGhpcy5vbk1vdXNlRG93bkJhcldyYXBwZXJfPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnQmFja2dyb3VuZCxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duQmFyKTt0aGlzLm9uTW91c2VEb3duSGFuZGxlV3JhcHBlcl89Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdIYW5kbGUsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vbk1vdXNlRG93bkhhbmRsZSl9c2V0SW5pdGlhbFRoaWNrbmVzcygpe2NvbnN0IGE9U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcztcbnRoaXMuaG9yaXpvbnRhbD8odGhpcy5zdmdCYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFN0cmluZyhhKSksdGhpcy5vdXRlclN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixTdHJpbmcoYSkpLHRoaXMuc3ZnSGFuZGxlLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFN0cmluZyhhLTUpKSx0aGlzLnN2Z0hhbmRsZS5zZXRBdHRyaWJ1dGUoXCJ5XCIsXCIyLjVcIikpOih0aGlzLnN2Z0JhY2tncm91bmQuc2V0QXR0cmlidXRlKFwid2lkdGhcIixTdHJpbmcoYSkpLHRoaXMub3V0ZXJTdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIixTdHJpbmcoYSkpLHRoaXMuc3ZnSGFuZGxlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsU3RyaW5nKGEtNSkpLHRoaXMuc3ZnSGFuZGxlLnNldEF0dHJpYnV0ZShcInhcIixcIjIuNVwiKSl9ZGlzcG9zZSgpe3RoaXMuY2xlYW5VcCgpO3VuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25Nb3VzZURvd25CYXJXcmFwcGVyXyk7dW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5vbk1vdXNlRG93bkhhbmRsZVdyYXBwZXJfKTtcbnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5vdXRlclN2Zyk7dGhpcy53b3Jrc3BhY2UuZ2V0VGhlbWVNYW5hZ2VyKCkudW5zdWJzY3JpYmUodGhpcy5zdmdIYW5kbGUpfWNvbnN0cmFpbkhhbmRsZUxlbmd0aChhKXtyZXR1cm4gYT1hPD0wfHxpc05hTihhKT8wOk1hdGgubWluKGEsdGhpcy5zY3JvbGxiYXJMZW5ndGgpfXNldEhhbmRsZUxlbmd0aChhKXt0aGlzLmhhbmRsZUxlbmd0aD1hO3RoaXMuc3ZnSGFuZGxlLnNldEF0dHJpYnV0ZSh0aGlzLmxlbmd0aEF0dHJpYnV0ZV8sU3RyaW5nKHRoaXMuaGFuZGxlTGVuZ3RoKSl9Y29uc3RyYWluSGFuZGxlUG9zaXRpb24oYSl7cmV0dXJuIGE9YTw9MHx8aXNOYU4oYSk/MDpNYXRoLm1pbihhLHRoaXMuc2Nyb2xsYmFyTGVuZ3RoLXRoaXMuaGFuZGxlTGVuZ3RoKX1zZXRIYW5kbGVQb3NpdGlvbihhKXt0aGlzLmhhbmRsZVBvc2l0aW9uPWE7dGhpcy5zdmdIYW5kbGUuc2V0QXR0cmlidXRlKHRoaXMucG9zaXRpb25BdHRyaWJ1dGVfLFxuU3RyaW5nKHRoaXMuaGFuZGxlUG9zaXRpb24pKX1zZXRTY3JvbGxiYXJMZW5ndGgoYSl7dGhpcy5zY3JvbGxiYXJMZW5ndGg9YTt0aGlzLm91dGVyU3ZnLnNldEF0dHJpYnV0ZSh0aGlzLmxlbmd0aEF0dHJpYnV0ZV8sU3RyaW5nKHRoaXMuc2Nyb2xsYmFyTGVuZ3RoKSk7dGhpcy5zdmdCYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZSh0aGlzLmxlbmd0aEF0dHJpYnV0ZV8sU3RyaW5nKHRoaXMuc2Nyb2xsYmFyTGVuZ3RoKSl9c2V0UG9zaXRpb24oYSxiKXt0aGlzLnBvc2l0aW9uLng9YTt0aGlzLnBvc2l0aW9uLnk9YjtzZXRDc3NUcmFuc2Zvcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5vdXRlclN2ZyxcInRyYW5zbGF0ZShcIisodGhpcy5wb3NpdGlvbi54K3RoaXMub3JpZ2luLngpK1wicHgsXCIrKHRoaXMucG9zaXRpb24ueSt0aGlzLm9yaWdpbi55KStcInB4KVwiKX1yZXNpemUoYSl7aWYoIWEmJihhPXRoaXMud29ya3NwYWNlLmdldE1ldHJpY3MoKSwhYSkpcmV0dXJuO1xudGhpcy5vbGRIb3N0TWV0cmljcyYmU2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLm1ldHJpY3NBcmVFcXVpdmFsZW50KGEsdGhpcy5vbGRIb3N0TWV0cmljcyl8fCh0aGlzLmhvcml6b250YWw/dGhpcy5yZXNpemVIb3Jpem9udGFsKGEpOnRoaXMucmVzaXplVmVydGljYWwoYSksdGhpcy5vbGRIb3N0TWV0cmljcz1hLHRoaXMudXBkYXRlTWV0cmljcygpKX1yZXF1aXJlc1ZpZXdSZXNpemUoYSl7cmV0dXJuIHRoaXMub2xkSG9zdE1ldHJpY3M/dGhpcy5vbGRIb3N0TWV0cmljcy52aWV3V2lkdGghPT1hLnZpZXdXaWR0aHx8dGhpcy5vbGRIb3N0TWV0cmljcy52aWV3SGVpZ2h0IT09YS52aWV3SGVpZ2h0fHx0aGlzLm9sZEhvc3RNZXRyaWNzLmFic29sdXRlTGVmdCE9PWEuYWJzb2x1dGVMZWZ0fHx0aGlzLm9sZEhvc3RNZXRyaWNzLmFic29sdXRlVG9wIT09YS5hYnNvbHV0ZVRvcDohMH1yZXNpemVIb3Jpem9udGFsKGEpe3RoaXMucmVxdWlyZXNWaWV3UmVzaXplKGEpP1xudGhpcy5yZXNpemVWaWV3SG9yaXpvbnRhbChhKTp0aGlzLnJlc2l6ZUNvbnRlbnRIb3Jpem9udGFsKGEpfXJlc2l6ZVZpZXdIb3Jpem9udGFsKGEpe3ZhciBiPWEudmlld1dpZHRoLXRoaXMubWFyZ2luKjI7dGhpcy5wYWlyJiYoYi09U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyk7dGhpcy5zZXRTY3JvbGxiYXJMZW5ndGgoTWF0aC5tYXgoMCxiKSk7Yj1hLmFic29sdXRlTGVmdCt0aGlzLm1hcmdpbjt0aGlzLnBhaXImJnRoaXMud29ya3NwYWNlLlJUTCYmKGIrPVNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MpO3RoaXMuc2V0UG9zaXRpb24oYixhLmFic29sdXRlVG9wK2Eudmlld0hlaWdodC1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLXRoaXMubWFyZ2luKTt0aGlzLnJlc2l6ZUNvbnRlbnRIb3Jpem9udGFsKGEpfXJlc2l6ZUNvbnRlbnRIb3Jpem9udGFsKGEpe2lmKGEudmlld1dpZHRoPj1cbmEuc2Nyb2xsV2lkdGgpdGhpcy5zZXRIYW5kbGVMZW5ndGgodGhpcy5zY3JvbGxiYXJMZW5ndGgpLHRoaXMuc2V0SGFuZGxlUG9zaXRpb24oMCksdGhpcy5wYWlyfHx0aGlzLnNldFZpc2libGUoITEpO2Vsc2V7dGhpcy5wYWlyfHx0aGlzLnNldFZpc2libGUoITApO3ZhciBiPXRoaXMuc2Nyb2xsYmFyTGVuZ3RoKmEudmlld1dpZHRoL2Euc2Nyb2xsV2lkdGg7Yj10aGlzLmNvbnN0cmFpbkhhbmRsZUxlbmd0aChiKTt0aGlzLnNldEhhbmRsZUxlbmd0aChiKTtiPWEuc2Nyb2xsV2lkdGgtYS52aWV3V2lkdGg7dmFyIGM9dGhpcy5zY3JvbGxiYXJMZW5ndGgtdGhpcy5oYW5kbGVMZW5ndGg7YT0oYS52aWV3TGVmdC1hLnNjcm9sbExlZnQpL2IqYzthPXRoaXMuY29uc3RyYWluSGFuZGxlUG9zaXRpb24oYSk7dGhpcy5zZXRIYW5kbGVQb3NpdGlvbihhKTt0aGlzLnJhdGlvPWMvYn19cmVzaXplVmVydGljYWwoYSl7dGhpcy5yZXF1aXJlc1ZpZXdSZXNpemUoYSk/dGhpcy5yZXNpemVWaWV3VmVydGljYWwoYSk6XG50aGlzLnJlc2l6ZUNvbnRlbnRWZXJ0aWNhbChhKX1yZXNpemVWaWV3VmVydGljYWwoYSl7bGV0IGI9YS52aWV3SGVpZ2h0LXRoaXMubWFyZ2luKjI7dGhpcy5wYWlyJiYoYi09U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyk7dGhpcy5zZXRTY3JvbGxiYXJMZW5ndGgoTWF0aC5tYXgoMCxiKSk7dGhpcy5zZXRQb3NpdGlvbih0aGlzLndvcmtzcGFjZS5SVEw/YS5hYnNvbHV0ZUxlZnQrdGhpcy5tYXJnaW46YS5hYnNvbHV0ZUxlZnQrYS52aWV3V2lkdGgtU2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcy10aGlzLm1hcmdpbixhLmFic29sdXRlVG9wK3RoaXMubWFyZ2luKTt0aGlzLnJlc2l6ZUNvbnRlbnRWZXJ0aWNhbChhKX1yZXNpemVDb250ZW50VmVydGljYWwoYSl7aWYoYS52aWV3SGVpZ2h0Pj1hLnNjcm9sbEhlaWdodCl0aGlzLnNldEhhbmRsZUxlbmd0aCh0aGlzLnNjcm9sbGJhckxlbmd0aCksXG50aGlzLnNldEhhbmRsZVBvc2l0aW9uKDApLHRoaXMucGFpcnx8dGhpcy5zZXRWaXNpYmxlKCExKTtlbHNle3RoaXMucGFpcnx8dGhpcy5zZXRWaXNpYmxlKCEwKTt2YXIgYj10aGlzLnNjcm9sbGJhckxlbmd0aCphLnZpZXdIZWlnaHQvYS5zY3JvbGxIZWlnaHQ7Yj10aGlzLmNvbnN0cmFpbkhhbmRsZUxlbmd0aChiKTt0aGlzLnNldEhhbmRsZUxlbmd0aChiKTtiPWEuc2Nyb2xsSGVpZ2h0LWEudmlld0hlaWdodDt2YXIgYz10aGlzLnNjcm9sbGJhckxlbmd0aC10aGlzLmhhbmRsZUxlbmd0aDthPShhLnZpZXdUb3AtYS5zY3JvbGxUb3ApL2IqYzthPXRoaXMuY29uc3RyYWluSGFuZGxlUG9zaXRpb24oYSk7dGhpcy5zZXRIYW5kbGVQb3NpdGlvbihhKTt0aGlzLnJhdGlvPWMvYn19aXNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuaXNIYW5kbGVWaXNpYmxlfXNldENvbnRhaW5lclZpc2libGUoYSl7Y29uc3QgYj1hIT09dGhpcy5jb250YWluZXJWaXNpYmxlO3RoaXMuY29udGFpbmVyVmlzaWJsZT1cbmE7YiYmdGhpcy51cGRhdGVEaXNwbGF5XygpfXNldFZpc2libGUoYSl7aWYodGhpcy5wYWlyKXRocm93IEVycm9yKFwiVW5hYmxlIHRvIHRvZ2dsZSB2aXNpYmlsaXR5IG9mIHBhaXJlZCBzY3JvbGxiYXJzLlwiKTt0aGlzLnNldFZpc2libGVJbnRlcm5hbChhKX1zZXRWaXNpYmxlSW50ZXJuYWwoYSl7Y29uc3QgYj1hIT09dGhpcy5pc1Zpc2libGUoKTt0aGlzLmlzSGFuZGxlVmlzaWJsZT1hO2ImJnRoaXMudXBkYXRlRGlzcGxheV8oKX11cGRhdGVEaXNwbGF5Xygpe3RoaXMuY29udGFpbmVyVmlzaWJsZSYmdGhpcy5pc1Zpc2libGUoKT90aGlzLm91dGVyU3ZnLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIixcImJsb2NrXCIpOnRoaXMub3V0ZXJTdmcuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwibm9uZVwiKX1vbk1vdXNlRG93bkJhcihhKXt0aGlzLndvcmtzcGFjZS5tYXJrRm9jdXNlZCgpO2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKTt0aGlzLmNsZWFuVXAoKTtcbmlmKGlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKSlhLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2V7dmFyIGI9bW91c2VUb1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsdGhpcy53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCksdGhpcy53b3Jrc3BhY2UuZ2V0SW52ZXJzZVNjcmVlbkNUTSgpKTtiPXRoaXMuaG9yaXpvbnRhbD9iLng6Yi55O3ZhciBjPWdldEluamVjdGlvbkRpdlhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgodGhpcy5zdmdIYW5kbGUpO2M9dGhpcy5ob3Jpem9udGFsP2MueDpjLnk7dmFyIGQ9dGhpcy5oYW5kbGVQb3NpdGlvbixlPXRoaXMuaGFuZGxlTGVuZ3RoKi45NTtiPD1jP2QtPWU6Yj49Yyt0aGlzLmhhbmRsZUxlbmd0aCYmKGQrPWUpO3RoaXMuc2V0SGFuZGxlUG9zaXRpb24odGhpcy5jb25zdHJhaW5IYW5kbGVQb3NpdGlvbihkKSk7dGhpcy51cGRhdGVNZXRyaWNzKCk7XG5hLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX19b25Nb3VzZURvd25IYW5kbGUoYSl7dGhpcy53b3Jrc3BhY2UubWFya0ZvY3VzZWQoKTt0aGlzLmNsZWFuVXAoKTtpc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk/YS5zdG9wUHJvcGFnYXRpb24oKToodGhpcy5zdGFydERyYWdIYW5kbGU9dGhpcy5oYW5kbGVQb3NpdGlvbix0aGlzLnN0YXJ0RHJhZ01vdXNlPXRoaXMuaG9yaXpvbnRhbD9hLmNsaWVudFg6YS5jbGllbnRZLHRoaXMub25Nb3VzZVVwV3JhcHBlcl89Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVydXBcIix0aGlzLHRoaXMub25Nb3VzZVVwSGFuZGxlKSx0aGlzLm9uTW91c2VNb3ZlV3JhcHBlcl89Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVybW92ZVwiLFxudGhpcyx0aGlzLm9uTW91c2VNb3ZlSGFuZGxlKSxhLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKSl9b25Nb3VzZU1vdmVIYW5kbGUoYSl7dGhpcy5zZXRIYW5kbGVQb3NpdGlvbih0aGlzLmNvbnN0cmFpbkhhbmRsZVBvc2l0aW9uKHRoaXMuc3RhcnREcmFnSGFuZGxlKygodGhpcy5ob3Jpem9udGFsP2EuY2xpZW50WDphLmNsaWVudFkpLXRoaXMuc3RhcnREcmFnTW91c2UpKSk7dGhpcy51cGRhdGVNZXRyaWNzKCl9b25Nb3VzZVVwSGFuZGxlKCl7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO3RoaXMuY2xlYW5VcCgpfWNsZWFuVXAoKXt0aGlzLndvcmtzcGFjZS5oaWRlQ2hhZmYoITApO3RoaXMub25Nb3VzZVVwV3JhcHBlcl8mJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uTW91c2VVcFdyYXBwZXJfKSx0aGlzLm9uTW91c2VVcFdyYXBwZXJfPW51bGwpO3RoaXMub25Nb3VzZU1vdmVXcmFwcGVyXyYmXG4odW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5vbk1vdXNlTW92ZVdyYXBwZXJfKSx0aGlzLm9uTW91c2VNb3ZlV3JhcHBlcl89bnVsbCl9Z2V0UmF0aW9fKCl7bGV0IGE9dGhpcy5oYW5kbGVQb3NpdGlvbi8odGhpcy5zY3JvbGxiYXJMZW5ndGgtdGhpcy5oYW5kbGVMZW5ndGgpO2lzTmFOKGEpJiYoYT0wKTtyZXR1cm4gYX11cGRhdGVNZXRyaWNzKCl7Y29uc3QgYT10aGlzLmdldFJhdGlvXygpO3RoaXMuaG9yaXpvbnRhbD90aGlzLndvcmtzcGFjZS5zZXRNZXRyaWNzKHt4OmF9KTp0aGlzLndvcmtzcGFjZS5zZXRNZXRyaWNzKHt5OmF9KX1zZXQoYSxiKXt0aGlzLnNldEhhbmRsZVBvc2l0aW9uKHRoaXMuY29uc3RyYWluSGFuZGxlUG9zaXRpb24oYSp0aGlzLnJhdGlvKSk7KGJ8fGI9PT12b2lkIDApJiZ0aGlzLnVwZGF0ZU1ldHJpY3MoKX1zZXRPcmlnaW4oYSxiKXt0aGlzLm9yaWdpbj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYSxcbmIpfXN0YXRpYyBtZXRyaWNzQXJlRXF1aXZhbGVudChhLGIpe3JldHVybiBhLnZpZXdXaWR0aD09PWIudmlld1dpZHRoJiZhLnZpZXdIZWlnaHQ9PT1iLnZpZXdIZWlnaHQmJmEudmlld0xlZnQ9PT1iLnZpZXdMZWZ0JiZhLnZpZXdUb3A9PT1iLnZpZXdUb3AmJmEuYWJzb2x1dGVUb3A9PT1iLmFic29sdXRlVG9wJiZhLmFic29sdXRlTGVmdD09PWIuYWJzb2x1dGVMZWZ0JiZhLnNjcm9sbFdpZHRoPT09Yi5zY3JvbGxXaWR0aCYmYS5zY3JvbGxIZWlnaHQ9PT1iLnNjcm9sbEhlaWdodCYmYS5zY3JvbGxMZWZ0PT09Yi5zY3JvbGxMZWZ0JiZhLnNjcm9sbFRvcD09PWIuc2Nyb2xsVG9wfX07U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcz1UT1VDSF9FTkFCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g/MjU6MTU7XG5TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuREVGQVVMVF9TQ1JPTExCQVJfTUFSR0lOPS41O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuU2Nyb2xsYmFyPVNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcjt2YXIgZG9tUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPXtwYXJzZUZyb21TdHJpbmc6ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIkRPTVBhcnNlciB3YXMgbm90IGZvdW5kIGluIHRoZSBnbG9iYWwgc2NvcGUgYW5kIHdhcyBub3QgcHJvcGVybHkgaW5qZWN0ZWQgdXNpbmcgaW5qZWN0RGVwZW5kZW5jaWVzXCIpO319LHhtbFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9e3NlcmlhbGl6ZVRvU3RyaW5nOmZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJYTUxTZXJpYWxpemVyIHdhcyBub3QgZm91bmRpbiB0aGUgZ2xvYmFsIHNjb3BlIGFuZCB3YXMgbm90IHByb3Blcmx5IGluamVjdGVkIHVzaW5nIGluamVjdERlcGVuZGVuY2llc1wiKTt9fSx7ZG9jdW1lbnQ6ZG9jdW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsRE9NUGFyc2VyOkRPTVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxYTUxTZXJpYWxpemVyOlhNTFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWx9PVxuZ2xvYmFsVGhpcztET01QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwmJihkb21QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9bmV3IERPTVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCk7WE1MU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCYmKHhtbFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9bmV3IFhNTFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwpO1xudmFyIE5BTUVfU1BBQ0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9XCJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9ibG9ja2x5L3htbFwiLElOVkFMSURfQ09OVFJPTF9DSEFSUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD0vW1xceDAwLVxceDA5XFx4MEJcXHgwQ1xceDBFLVxceDFGXS9nLG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9e05BTUVfU1BBQ0U6TkFNRV9TUEFDRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbH07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbC5jcmVhdGVFbGVtZW50PSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLmNyZWF0ZVRleHROb2RlPSQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLmRvbVRvVGV4dD1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbC5pbmplY3REZXBlbmRlbmNpZXM9aW5qZWN0RGVwZW5kZW5jaWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwudGV4dFRvRG9tPSQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sO3ZhciBDQVRFR09SWV9UT09MQk9YX0tJTkQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PVwiY2F0ZWdvcnlUb29sYm94XCIsRkxZT1VUX1RPT0xCT1hfS0lORCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9XCJmbHlvdXRUb29sYm94XCIsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94OyhmdW5jdGlvbihhKXthW2EuVE9QPTBdPVwiVE9QXCI7YVthLkJPVFRPTT0xXT1cIkJPVFRPTVwiO2FbYS5MRUZUPTJdPVwiTEVGVFwiO2FbYS5SSUdIVD0zXT1cIlJJR0hUXCJ9KShQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3h8fChQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9e30pKTtcbnZhciBURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PXtoYXNDYXRlZ29yaWVzSW50ZXJuYWw6aGFzQ2F0ZWdvcmllc0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveH0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guUG9zaXRpb249UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlRFU1RfT05MWT1URVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LmNvbnZlcnRGbHlvdXREZWZUb0pzb25BcnJheT1jb252ZXJ0Rmx5b3V0RGVmVG9Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guY29udmVydFRvb2xib3hEZWZUb0pzb249Y29udmVydFRvb2xib3hEZWZUb0pzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94Lmhhc0NhdGVnb3JpZXM9aGFzQ2F0ZWdvcmllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guaXNDYXRlZ29yeUNvbGxhcHNpYmxlPWlzQ2F0ZWdvcnlDb2xsYXBzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gucGFyc2VUb29sYm94VHJlZT1wYXJzZVRvb2xib3hUcmVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveDt2YXIgdmVydGljYWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzOyhmdW5jdGlvbihhKXthW2EuVE9QPTBdPVwiVE9QXCI7YVthLkJPVFRPTT0xXT1cIkJPVFRPTVwifSkodmVydGljYWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzfHwodmVydGljYWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzPXt9KSk7dmFyIGhvcml6b250YWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzOyhmdW5jdGlvbihhKXthW2EuTEVGVD0wXT1cIkxFRlRcIjthW2EuUklHSFQ9MV09XCJSSUdIVFwifSkoaG9yaXpvbnRhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnN8fChob3Jpem9udGFsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycz17fSkpO1xudmFyIGJ1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyczsoZnVuY3Rpb24oYSl7YVthLlVQPTBdPVwiVVBcIjthW2EuRE9XTj0xXT1cIkRPV05cIn0pKGJ1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyc3x8KGJ1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycz17fSkpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLmJ1bXBEaXJlY3Rpb249YnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzO21vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5idW1wUG9zaXRpb25SZWN0PWJ1bXBQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5nZXRDb3JuZXJPcHBvc2l0ZVRvb2xib3g9Z2V0Q29ybmVyT3Bwb3NpdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLmdldFN0YXJ0UG9zaXRpb25SZWN0PWdldFN0YXJ0UG9zaXRpb25SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLmhvcml6b250YWxQb3NpdGlvbj1ob3Jpem9udGFsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMudmVydGljYWxQb3NpdGlvbj12ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7dmFyIFNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXM9e3dpZHRoOjk2LGhlaWdodDoxMjQsdXJsOlwic3ByaXRlcy5wbmdcIn0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXM9e1NQUklURTpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzfTt2YXIgWm9vbUNvbnRyb2xzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkem9vbV9jb250cm9scz1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMuaWQ9XCJ6b29tQ29udHJvbHNcIjt0aGlzLmJvdW5kRXZlbnRzPVtdO3RoaXMuem9vbVJlc2V0R3JvdXA9dGhpcy56b29tT3V0R3JvdXA9dGhpcy56b29tSW5Hcm91cD1udWxsO3RoaXMuSEVJR0hUPXRoaXMuV0lEVEg9MzI7dGhpcy5TTUFMTF9TUEFDSU5HPTI7dGhpcy5MQVJHRV9TUEFDSU5HPTExO3RoaXMuTUFSR0lOX0hPUklaT05UQUw9dGhpcy5NQVJHSU5fVkVSVElDQUw9MjA7dGhpcy5zdmdHcm91cD1udWxsO3RoaXMudG9wPXRoaXMubGVmdD0wO3RoaXMuaW5pdGlhbGl6ZWQ9ITF9Y3JlYXRlRG9tKCl7dGhpcy5zdmdHcm91cD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHt9KTtjb25zdCBhPVN0cmluZyhNYXRoLnJhbmRvbSgpKS5zdWJzdHJpbmcoMik7XG50aGlzLmNyZWF0ZVpvb21PdXRTdmcoYSk7dGhpcy5jcmVhdGVab29tSW5TdmcoYSk7dGhpcy53b3Jrc3BhY2UuaXNNb3ZhYmxlKCkmJnRoaXMuY3JlYXRlWm9vbVJlc2V0U3ZnKGEpO3JldHVybiB0aGlzLnN2Z0dyb3VwfWluaXQoKXt0aGlzLndvcmtzcGFjZS5nZXRDb21wb25lbnRNYW5hZ2VyKCkuYWRkQ29tcG9uZW50KHtjb21wb25lbnQ6dGhpcyx3ZWlnaHQ6Q29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNvbXBvbmVudFdlaWdodC5aT09NX0NPTlRST0xTX1dFSUdIVCxjYXBhYmlsaXRpZXM6W0NvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LlBPU0lUSU9OQUJMRV19KTt0aGlzLmluaXRpYWxpemVkPSEwfWRpc3Bvc2UoKXt0aGlzLndvcmtzcGFjZS5nZXRDb21wb25lbnRNYW5hZ2VyKCkucmVtb3ZlQ29tcG9uZW50KFwiem9vbUNvbnRyb2xzXCIpO3RoaXMuc3ZnR3JvdXAmJlxucmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwKTtmb3IoY29uc3QgYSBvZiB0aGlzLmJvdW5kRXZlbnRzKXVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpO3RoaXMuYm91bmRFdmVudHMubGVuZ3RoPTB9Z2V0Qm91bmRpbmdSZWN0YW5nbGUoKXtsZXQgYT10aGlzLlNNQUxMX1NQQUNJTkcrMip0aGlzLkhFSUdIVDt0aGlzLnpvb21SZXNldEdyb3VwJiYoYSs9dGhpcy5MQVJHRV9TUEFDSU5HK3RoaXMuSEVJR0hUKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KHRoaXMudG9wLHRoaXMudG9wK2EsdGhpcy5sZWZ0LHRoaXMubGVmdCt0aGlzLldJRFRIKX1wb3NpdGlvbihhLGIpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpe3ZhciBjPWdldENvcm5lck9wcG9zaXRlVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzKHRoaXMud29ya3NwYWNlLFxuYSksZD10aGlzLlNNQUxMX1NQQUNJTkcrMip0aGlzLkhFSUdIVDt0aGlzLnpvb21SZXNldEdyb3VwJiYoZCs9dGhpcy5MQVJHRV9TUEFDSU5HK3RoaXMuSEVJR0hUKTthPWdldFN0YXJ0UG9zaXRpb25SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMoYyxuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUodGhpcy5XSURUSCxkKSx0aGlzLk1BUkdJTl9IT1JJWk9OVEFMLHRoaXMuTUFSR0lOX1ZFUlRJQ0FMLGEsdGhpcy53b3Jrc3BhY2UpO2M9Yy52ZXJ0aWNhbDtiPWJ1bXBQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycyhhLHRoaXMuTUFSR0lOX1ZFUlRJQ0FMLGM9PT12ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuVE9QP2J1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5ET1dOOlxuYnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLlVQLGIpO2lmKGM9PT12ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuVE9QKXt2YXIgZT10aGlzLlNNQUxMX1NQQUNJTkcrdGhpcy5IRUlHSFQsZjsoZj10aGlzLnpvb21Jbkdyb3VwKT09bnVsbHx8Zi5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCBcIitlK1wiKVwiKTt0aGlzLnpvb21SZXNldEdyb3VwJiZ0aGlzLnpvb21SZXNldEdyb3VwLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKDAsIFwiKyhlK3RoaXMuTEFSR0VfU1BBQ0lORyt0aGlzLkhFSUdIVCkrXCIpXCIpfWVsc2V7Zj10aGlzLnpvb21SZXNldEdyb3VwP3RoaXMuTEFSR0VfU1BBQ0lORyt0aGlzLkhFSUdIVDowO2xldCBoOyhoPXRoaXMuem9vbUluR3JvdXApPT1udWxsfHxoLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKDAsIFwiK1xuZitcIilcIik7Zj1mK3RoaXMuU01BTExfU1BBQ0lORyt0aGlzLkhFSUdIVDsoZT10aGlzLnpvb21PdXRHcm91cCk9PW51bGx8fGUuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCwgXCIrZitcIilcIil9dGhpcy50b3A9Yi50b3A7dGhpcy5sZWZ0PWIubGVmdDt2YXIgZzsoZz10aGlzLnN2Z0dyb3VwKT09bnVsbHx8Zy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIit0aGlzLmxlZnQrXCIsXCIrdGhpcy50b3ArXCIpXCIpfX1jcmVhdGVab29tT3V0U3ZnKGEpe3RoaXMuem9vbU91dEdyb3VwPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse1wiY2xhc3NcIjpcImJsb2NrbHlab29tIGJsb2NrbHlab29tT3V0XCJ9LHRoaXMuc3ZnR3JvdXApO2NvbnN0IGI9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQ0xJUFBBVEgsXG57aWQ6XCJibG9ja2x5Wm9vbW91dENsaXBQYXRoXCIrYX0sdGhpcy56b29tT3V0R3JvdXApO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse3dpZHRoOjMyLGhlaWdodDozMn0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use3dpZHRoOlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMud2lkdGgsaGVpZ2h0OlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMuaGVpZ2h0LHg6LTY0LHk6LTkyLFwiY2xpcC1wYXRoXCI6XCJ1cmwoI2Jsb2NrbHlab29tb3V0Q2xpcFBhdGhcIithK1wiKVwifSx0aGlzLnpvb21PdXRHcm91cCkuc2V0QXR0cmlidXRlTlMoWExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bGluazpocmVmXCIsXG50aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhdGhUb01lZGlhK1NQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMudXJsKTt0aGlzLmJvdW5kRXZlbnRzLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy56b29tT3V0R3JvdXAsXCJwb2ludGVyZG93blwiLG51bGwsdGhpcy56b29tLmJpbmQodGhpcywtMSkpKX1jcmVhdGVab29tSW5TdmcoYSl7dGhpcy56b29tSW5Hcm91cD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtcImNsYXNzXCI6XCJibG9ja2x5Wm9vbSBibG9ja2x5Wm9vbUluXCJ9LHRoaXMuc3ZnR3JvdXApO2NvbnN0IGI9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQ0xJUFBBVEgse2lkOlwiYmxvY2tseVpvb21pbkNsaXBQYXRoXCIrXG5hfSx0aGlzLnpvb21Jbkdyb3VwKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHt3aWR0aDozMixoZWlnaHQ6MzJ9LGIpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLklNQUdFLHt3aWR0aDpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLndpZHRoLGhlaWdodDpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLmhlaWdodCx4Oi0zMix5Oi05MixcImNsaXAtcGF0aFwiOlwidXJsKCNibG9ja2x5Wm9vbWluQ2xpcFBhdGhcIithK1wiKVwifSx0aGlzLnpvb21Jbkdyb3VwKS5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIix0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhdGhUb01lZGlhK1xuU1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy51cmwpO3RoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnpvb21Jbkdyb3VwLFwicG9pbnRlcmRvd25cIixudWxsLHRoaXMuem9vbS5iaW5kKHRoaXMsMSkpKX16b29tKGEsYil7dGhpcy53b3Jrc3BhY2UubWFya0ZvY3VzZWQoKTt0aGlzLndvcmtzcGFjZS56b29tQ2VudGVyKGEpO3RoaXMuZmlyZVpvb21FdmVudCgpO2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKTtiLnN0b3BQcm9wYWdhdGlvbigpO2IucHJldmVudERlZmF1bHQoKX1jcmVhdGVab29tUmVzZXRTdmcoYSl7dGhpcy56b29tUmVzZXRHcm91cD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtcImNsYXNzXCI6XCJibG9ja2x5Wm9vbSBibG9ja2x5Wm9vbVJlc2V0XCJ9LFxudGhpcy5zdmdHcm91cCk7Y29uc3QgYj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DTElQUEFUSCx7aWQ6XCJibG9ja2x5Wm9vbXJlc2V0Q2xpcFBhdGhcIithfSx0aGlzLnpvb21SZXNldEdyb3VwKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHt3aWR0aDozMixoZWlnaHQ6MzJ9LGIpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLklNQUdFLHt3aWR0aDpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLndpZHRoLGhlaWdodDpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLmhlaWdodCx5Oi05MixcImNsaXAtcGF0aFwiOlwidXJsKCNibG9ja2x5Wm9vbXJlc2V0Q2xpcFBhdGhcIitcbmErXCIpXCJ9LHRoaXMuem9vbVJlc2V0R3JvdXApLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLHRoaXMud29ya3NwYWNlLm9wdGlvbnMucGF0aFRvTWVkaWErU1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy51cmwpO3RoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnpvb21SZXNldEdyb3VwLFwicG9pbnRlcmRvd25cIixudWxsLHRoaXMucmVzZXRab29tLmJpbmQodGhpcykpKX1yZXNldFpvb20oYSl7dGhpcy53b3Jrc3BhY2UubWFya0ZvY3VzZWQoKTtjb25zdCBiPU1hdGgubG9nKHRoaXMud29ya3NwYWNlLm9wdGlvbnMuem9vbU9wdGlvbnMuc3RhcnRTY2FsZS90aGlzLndvcmtzcGFjZS5zY2FsZSkvTWF0aC5sb2codGhpcy53b3Jrc3BhY2Uub3B0aW9ucy56b29tT3B0aW9ucy5zY2FsZVNwZWVkKTtcbnRoaXMud29ya3NwYWNlLmJlZ2luQ2FudmFzVHJhbnNpdGlvbigpO3RoaXMud29ya3NwYWNlLnpvb21DZW50ZXIoYik7dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsQ2VudGVyKCk7c2V0VGltZW91dCh0aGlzLndvcmtzcGFjZS5lbmRDYW52YXNUcmFuc2l0aW9uLmJpbmQodGhpcy53b3Jrc3BhY2UpLDUwMCk7dGhpcy5maXJlWm9vbUV2ZW50KCk7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfWZpcmVab29tRXZlbnQoKXtjb25zdCBhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNMSUNLKSkobnVsbCx0aGlzLndvcmtzcGFjZS5pZCxcInpvb21fY29udHJvbHNcIik7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKFwiXFxuLmJsb2NrbHlab29tPmltYWdlLCAuYmxvY2tseVpvb20+c3ZnPmltYWdlIHtcXG4gIG9wYWNpdHk6IC40O1xcbn1cXG5cXG4uYmxvY2tseVpvb20+aW1hZ2U6aG92ZXIsIC5ibG9ja2x5Wm9vbT5zdmc+aW1hZ2U6aG92ZXIge1xcbiAgb3BhY2l0eTogLjY7XFxufVxcblxcbi5ibG9ja2x5Wm9vbT5pbWFnZTphY3RpdmUsIC5ibG9ja2x5Wm9vbT5zdmc+aW1hZ2U6YWN0aXZlIHtcXG4gIG9wYWNpdHk6IC44O1xcbn1cXG5cIik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHpvb21fY29udHJvbHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHpvb21fY29udHJvbHMuWm9vbUNvbnRyb2xzPVpvb21Db250cm9scyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHpvb21fY29udHJvbHM7dmFyIFZBUklBQkxFUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcz0xMDAsUFJPQ0VEVVJFUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcz03NSxCTE9DS1MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXM9NTAsV09SS1NQQUNFX0NPTU1FTlRTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzPTI1LG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXM9e0JMT0NLUzpCTE9DS1MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXMsUFJPQ0VEVVJFUzpQUk9DRURVUkVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzLFZBUklBQkxFUzpWQVJJQUJMRVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXMsXG5XT1JLU1BBQ0VfQ09NTUVOVFM6V09SS1NQQUNFX0NPTU1FTlRTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzfTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnkucmVnaXN0ZXI9cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHJlZ2lzdHJ5LnVucmVnaXN0ZXI9dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnk7dmFyIHNhdmVDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzLFdvcmtzcGFjZUNvbW1lbnRTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnByaW9yaXR5PVdPUktTUEFDRV9DT01NRU5UUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllc31zYXZlKGEpe2NvbnN0IGI9W107Zm9yKGNvbnN0IGMgb2YgYS5nZXRUb3BDb21tZW50cygpKShhPXNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cyhjLHthZGRDb29yZGluYXRlczohMCxzYXZlSWRzOiEwfSkpJiZiLnB1c2goYSk7cmV0dXJuIGIubGVuZ3RoP2I6bnVsbH1sb2FkKGEsXG5iKXtmb3IoY29uc3QgYyBvZiBhKWFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzKGMsYix7cmVjb3JkVW5kbzpnZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9KX1jbGVhcihhKXtmb3IoY29uc3QgYiBvZiBhLmdldFRvcENvbW1lbnRzKCkpYi5kaXNwb3NlKCl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnkoXCJ3b3Jrc3BhY2VDb21tZW50c1wiLG5ldyBXb3Jrc3BhY2VDb21tZW50U2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzLldvcmtzcGFjZUNvbW1lbnRTZXJpYWxpemVyPVdvcmtzcGFjZUNvbW1lbnRTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzLmFwcGVuZD1hcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMuc2F2ZT1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkcmVnaXN0cnk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeS5yZWdpc3Rlcj1yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5LnVucmVnaXN0ZXI9dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeTt2YXIgV29ya3NwYWNlQ29tbWVudFBhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXI9Y2xhc3N7cGFzdGUoYSxiLGMpe2E9YS5jb21tZW50U3RhdGU7YyYmKGEueD1jLngsYS55PWMueSk7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7bGV0IGQ7dHJ5e2Q9YXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMoYSxiKSxtb3ZlQ29tbWVudFRvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyKGQpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX1pZighZClyZXR1cm4gbnVsbDtpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NSRUFURSkpKGQpKTtcbiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShkKTtyZXR1cm4gZH19O1dvcmtzcGFjZUNvbW1lbnRQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyLlRZUEU9XCJ3b3Jrc3BhY2UtY29tbWVudFwiO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5KFdvcmtzcGFjZUNvbW1lbnRQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyLlRZUEUsbmV3IFdvcmtzcGFjZUNvbW1lbnRQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXI9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHdvcmtzcGFjZV9jb21tZW50X3Bhc3Rlci5Xb3Jrc3BhY2VDb21tZW50UGFzdGVyPVdvcmtzcGFjZUNvbW1lbnRQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyO3ZhciBERUZBVUxUX1NOQVBfUkFESVVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWc7REVGQVVMVF9TTkFQX1JBRElVUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZz0yODskLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZz17ZHJhZ1JhZGl1czo1LGZseW91dERyYWdSYWRpdXM6MTAsc25hcFJhZGl1czpERUZBVUxUX1NOQVBfUkFESVVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLGNvbm5lY3RpbmdTbmFwUmFkaXVzOkRFRkFVTFRfU05BUF9SQURJVVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcsY3VycmVudENvbm5lY3Rpb25QcmVmZXJlbmNlOjgsYnVtcERlbGF5OjI1MH07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZz17Y29uZmlnOiQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnfTt2YXIgQVJJQV9QUkVGSVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhPVwiYXJpYS1cIixST0xFX0FUVFJJQlVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE9XCJyb2xlXCIsUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE7XG4oZnVuY3Rpb24oYSl7YS5HUklEPVwiZ3JpZFwiO2EuR1JJRENFTEw9XCJncmlkY2VsbFwiO2EuR1JPVVA9XCJncm91cFwiO2EuTElTVEJPWD1cImxpc3Rib3hcIjthLk1FTlU9XCJtZW51XCI7YS5NRU5VSVRFTT1cIm1lbnVpdGVtXCI7YS5NRU5VSVRFTUNIRUNLQk9YPVwibWVudWl0ZW1jaGVja2JveFwiO2EuT1BUSU9OPVwib3B0aW9uXCI7YS5QUkVTRU5UQVRJT049XCJwcmVzZW50YXRpb25cIjthLlJPVz1cInJvd1wiO2EuVFJFRT1cInRyZWVcIjthLlRSRUVJVEVNPVwidHJlZWl0ZW1cIjthLlNFUEFSQVRPUj1cInNlcGFyYXRvclwiO2EuU1RBVFVTPVwic3RhdHVzXCJ9KShSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYXx8KFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhPXt9KSk7dmFyIFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYTtcbihmdW5jdGlvbihhKXthLkFDVElWRURFU0NFTkRBTlQ9XCJhY3RpdmVkZXNjZW5kYW50XCI7YS5DT0xDT1VOVD1cImNvbGNvdW50XCI7YS5ESVNBQkxFRD1cImRpc2FibGVkXCI7YS5FWFBBTkRFRD1cImV4cGFuZGVkXCI7YS5JTlZBTElEPVwiaW52YWxpZFwiO2EuTEFCRUw9XCJsYWJlbFwiO2EuTEFCRUxMRURCWT1cImxhYmVsbGVkYnlcIjthLkxFVkVMPVwibGV2ZWxcIjthLk9SSUVOVEFUSU9OPVwib3JpZW50YXRpb25cIjthLlBPU0lOU0VUPVwicG9zaW5zZXRcIjthLlJPV0NPVU5UPVwicm93Y291bnRcIjthLlNFTEVDVEVEPVwic2VsZWN0ZWRcIjthLlNFVFNJWkU9XCJzZXRzaXplXCI7YS5WQUxVRU1BWD1cInZhbHVlbWF4XCI7YS5WQUxVRU1JTj1cInZhbHVlbWluXCI7YS5MSVZFPVwibGl2ZVwiO2EuSElEREVOPVwiaGlkZGVuXCJ9KShTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWF8fChTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE9e30pKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5Sb2xlPVJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlN0YXRlPVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5zZXRSb2xlPXNldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLnNldFN0YXRlPXNldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYTt2YXIgTWVudUl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51aXRlbT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuY29udGVudD1hO3RoaXMub3B0X3ZhbHVlPWI7dGhpcy5lbmFibGVkPSEwO3RoaXMuZWxlbWVudD1udWxsO3RoaXMucmlnaHRUb0xlZnQ9ITE7dGhpcy5yb2xlTmFtZT1udWxsO3RoaXMuaGlnaGxpZ2h0PXRoaXMuY2hlY2tlZD10aGlzLmNoZWNrYWJsZT0hMTt0aGlzLmFjdGlvbkhhbmRsZXI9bnVsbH1jcmVhdGVEb20oKXtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5pZD1nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO3RoaXMuZWxlbWVudD1hO2EuY2xhc3NOYW1lPVwiYmxvY2tseU1lbnVJdGVtIFwiKyh0aGlzLmVuYWJsZWQ/XCJcIjpcImJsb2NrbHlNZW51SXRlbURpc2FibGVkIFwiKSsodGhpcy5jaGVja2VkP1wiYmxvY2tseU1lbnVJdGVtU2VsZWN0ZWQgXCI6XCJcIikrKHRoaXMuaGlnaGxpZ2h0P1xuXCJibG9ja2x5TWVudUl0ZW1IaWdobGlnaHQgXCI6XCJcIikrKHRoaXMucmlnaHRUb0xlZnQ/XCJibG9ja2x5TWVudUl0ZW1SdGwgXCI6XCJcIik7Y29uc3QgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2IuY2xhc3NOYW1lPVwiYmxvY2tseU1lbnVJdGVtQ29udGVudFwiO2lmKHRoaXMuY2hlY2thYmxlKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuY2xhc3NOYW1lPVwiYmxvY2tseU1lbnVJdGVtQ2hlY2tib3ggXCI7Yi5hcHBlbmRDaGlsZChjKX1jPXRoaXMuY29udGVudDt0eXBlb2YgdGhpcy5jb250ZW50PT09XCJzdHJpbmdcIiYmKGM9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5jb250ZW50KSk7Yi5hcHBlbmRDaGlsZChjKTthLmFwcGVuZENoaWxkKGIpO3RoaXMucm9sZU5hbWUmJnNldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGEsdGhpcy5yb2xlTmFtZSk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGEsXG5TdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuU0VMRUNURUQsdGhpcy5jaGVja2FibGUmJnRoaXMuY2hlY2tlZHx8ITEpO3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShhLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5ESVNBQkxFRCwhdGhpcy5lbmFibGVkKTtyZXR1cm4gYX1kaXNwb3NlKCl7dGhpcy5lbGVtZW50PW51bGx9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLmVsZW1lbnR9Z2V0SWQoKXtyZXR1cm4gdGhpcy5lbGVtZW50LmlkfWdldFZhbHVlKCl7bGV0IGE7cmV0dXJuKGE9dGhpcy5vcHRfdmFsdWUpIT1udWxsP2E6bnVsbH1zZXRSaWdodFRvTGVmdChhKXt0aGlzLnJpZ2h0VG9MZWZ0PWF9c2V0Um9sZShhKXt0aGlzLnJvbGVOYW1lPWF9c2V0Q2hlY2thYmxlKGEpe3RoaXMuY2hlY2thYmxlPWF9c2V0Q2hlY2tlZChhKXt0aGlzLmNoZWNrZWQ9YX1zZXRIaWdobGlnaHRlZChhKXt0aGlzLmhpZ2hsaWdodD1cbmE7Y29uc3QgYj10aGlzLmdldEVsZW1lbnQoKTtiJiZ0aGlzLmlzRW5hYmxlZCgpJiYoYT9hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShiLFwiYmxvY2tseU1lbnVJdGVtSGlnaGxpZ2h0XCIpOnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGIsXCJibG9ja2x5TWVudUl0ZW1IaWdobGlnaHRcIikpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLmVuYWJsZWR9c2V0RW5hYmxlZChhKXt0aGlzLmVuYWJsZWQ9YX1wZXJmb3JtQWN0aW9uKGEpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMuYWN0aW9uSGFuZGxlciYmdGhpcy5hY3Rpb25IYW5kbGVyKHRoaXMsYSl9b25BY3Rpb24oYSxiKXt0aGlzLmFjdGlvbkhhbmRsZXI9YS5iaW5kKGIpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVpdGVtPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51aXRlbS5NZW51SXRlbT1NZW51SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVpdGVtO3ZhciBNZW51JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudT1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMubWVudUl0ZW1zPVtdO3RoaXMucm9sZU5hbWU9dGhpcy5lbGVtZW50PXRoaXMub25LZXlEb3duSGFuZGxlcj10aGlzLnBvaW50ZXJMZWF2ZUhhbmRsZXI9dGhpcy5wb2ludGVyRW50ZXJIYW5kbGVyPXRoaXMuY2xpY2tIYW5kbGVyPXRoaXMucG9pbnRlck1vdmVIYW5kbGVyPXRoaXMuaGlnaGxpZ2h0ZWRJdGVtPXRoaXMub3BlbmluZ0Nvb3Jkcz1udWxsfWFkZENoaWxkKGEpe3RoaXMubWVudUl0ZW1zLnB1c2goYSl9cmVuZGVyKGEpe2NvbnN0IGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiLmNsYXNzTmFtZT1cImJsb2NrbHlNZW51XCI7Yi50YWJJbmRleD0wO3RoaXMucm9sZU5hbWUmJnNldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGIsdGhpcy5yb2xlTmFtZSk7dGhpcy5lbGVtZW50PWI7Zm9yKGxldCBjPTAsZDtkPXRoaXMubWVudUl0ZW1zW2NdO2MrKyliLmFwcGVuZENoaWxkKGQuY3JlYXRlRG9tKCkpO1xudGhpcy5wb2ludGVyTW92ZUhhbmRsZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYixcInBvaW50ZXJtb3ZlXCIsdGhpcyx0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlLCEwKTt0aGlzLmNsaWNrSGFuZGxlcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFwicG9pbnRlcnVwXCIsdGhpcyx0aGlzLmhhbmRsZUNsaWNrLCEwKTt0aGlzLnBvaW50ZXJFbnRlckhhbmRsZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYixcInBvaW50ZXJlbnRlclwiLHRoaXMsdGhpcy5oYW5kbGVQb2ludGVyRW50ZXIsITApO3RoaXMucG9pbnRlckxlYXZlSGFuZGxlcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFwicG9pbnRlcmxlYXZlXCIsdGhpcyx0aGlzLmhhbmRsZVBvaW50ZXJMZWF2ZSwhMCk7dGhpcy5vbktleURvd25IYW5kbGVyPVxuY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYixcImtleWRvd25cIix0aGlzLHRoaXMuaGFuZGxlS2V5RXZlbnQpO2EuYXBwZW5kQ2hpbGQoYik7cmV0dXJuIGJ9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLmVsZW1lbnR9Zm9jdXMoKXtjb25zdCBhPXRoaXMuZ2V0RWxlbWVudCgpO2EmJmEuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KX1ibHVyKCl7Y29uc3QgYT10aGlzLmdldEVsZW1lbnQoKTthJiZhLmJsdXIoKX1zZXRSb2xlKGEpe3RoaXMucm9sZU5hbWU9YX1kaXNwb3NlKCl7dGhpcy5wb2ludGVyTW92ZUhhbmRsZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnBvaW50ZXJNb3ZlSGFuZGxlciksdGhpcy5wb2ludGVyTW92ZUhhbmRsZXI9bnVsbCk7dGhpcy5jbGlja0hhbmRsZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmNsaWNrSGFuZGxlciksXG50aGlzLmNsaWNrSGFuZGxlcj1udWxsKTt0aGlzLnBvaW50ZXJFbnRlckhhbmRsZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnBvaW50ZXJFbnRlckhhbmRsZXIpLHRoaXMucG9pbnRlckVudGVySGFuZGxlcj1udWxsKTt0aGlzLnBvaW50ZXJMZWF2ZUhhbmRsZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnBvaW50ZXJMZWF2ZUhhbmRsZXIpLHRoaXMucG9pbnRlckxlYXZlSGFuZGxlcj1udWxsKTt0aGlzLm9uS2V5RG93bkhhbmRsZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uS2V5RG93bkhhbmRsZXIpLHRoaXMub25LZXlEb3duSGFuZGxlcj1udWxsKTtmb3IobGV0IGE9MCxiO2I9dGhpcy5tZW51SXRlbXNbYV07YSsrKWIuZGlzcG9zZSgpO3RoaXMuZWxlbWVudD1udWxsfWdldE1lbnVJdGVtKGEpe2NvbnN0IGI9dGhpcy5nZXRFbGVtZW50KCk7XG5mb3IoO2EmJmEhPT1iOyl7aWYoYS5jbGFzc0xpc3QuY29udGFpbnMoXCJibG9ja2x5TWVudUl0ZW1cIikpe2NvbnN0IGM9dGhpcy5nZXRNZW51SXRlbXMoKTtmb3IobGV0IGQ9MCxlO2U9Y1tkXTtkKyspaWYoZS5nZXRFbGVtZW50KCk9PT1hKXJldHVybiBlfWE9YS5wYXJlbnRFbGVtZW50fXJldHVybiBudWxsfXNldEhpZ2hsaWdodGVkKGEpe3ZhciBiPXRoaXMuaGlnaGxpZ2h0ZWRJdGVtO2ImJihiLnNldEhpZ2hsaWdodGVkKCExKSx0aGlzLmhpZ2hsaWdodGVkSXRlbT1udWxsKTtpZihhKXthLnNldEhpZ2hsaWdodGVkKCEwKTt0aGlzLmhpZ2hsaWdodGVkSXRlbT1hO2I9dGhpcy5nZXRFbGVtZW50KCk7Y29uc3QgYz1hLmdldEVsZW1lbnQoKTtiJiZjJiYoc2Nyb2xsSW50b0NvbnRhaW5lclZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShjLGIpLHNldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShiLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5BQ1RJVkVERVNDRU5EQU5ULFxuYS5nZXRJZCgpKSl9fWhpZ2hsaWdodE5leHQoKXtjb25zdCBhPXRoaXMuaGlnaGxpZ2h0ZWRJdGVtP3RoaXMubWVudUl0ZW1zLmluZGV4T2YodGhpcy5oaWdobGlnaHRlZEl0ZW0pOi0xO3RoaXMuaGlnaGxpZ2h0SGVscGVyKGEsMSl9aGlnaGxpZ2h0UHJldmlvdXMoKXtjb25zdCBhPXRoaXMuaGlnaGxpZ2h0ZWRJdGVtP3RoaXMubWVudUl0ZW1zLmluZGV4T2YodGhpcy5oaWdobGlnaHRlZEl0ZW0pOi0xO3RoaXMuaGlnaGxpZ2h0SGVscGVyKGE8MD90aGlzLm1lbnVJdGVtcy5sZW5ndGg6YSwtMSl9aGlnaGxpZ2h0Rmlyc3QoKXt0aGlzLmhpZ2hsaWdodEhlbHBlcigtMSwxKX1oaWdobGlnaHRMYXN0KCl7dGhpcy5oaWdobGlnaHRIZWxwZXIodGhpcy5tZW51SXRlbXMubGVuZ3RoLC0xKX1oaWdobGlnaHRIZWxwZXIoYSxiKXthKz1iO2xldCBjO2NvbnN0IGQ9dGhpcy5nZXRNZW51SXRlbXMoKTtmb3IoO2M9ZFthXTspe2lmKGMuaXNFbmFibGVkKCkpe3RoaXMuc2V0SGlnaGxpZ2h0ZWQoYyk7XG5icmVha31hKz1ifX1oYW5kbGVQb2ludGVyTW92ZShhKXtNYXRoLm1heChNYXRoLmFicyhhLm1vdmVtZW50WCksTWF0aC5hYnMoYS5tb3ZlbWVudFkpKSE9PTAmJihhPXRoaXMuZ2V0TWVudUl0ZW0oYS50YXJnZXQpKSYmKGEuaXNFbmFibGVkKCk/dGhpcy5oaWdobGlnaHRlZEl0ZW0hPT1hJiZ0aGlzLnNldEhpZ2hsaWdodGVkKGEpOnRoaXMuc2V0SGlnaGxpZ2h0ZWQobnVsbCkpfWhhbmRsZUNsaWNrKGEpe3ZhciBiPXRoaXMub3BlbmluZ0Nvb3Jkczt0aGlzLm9wZW5pbmdDb29yZHM9bnVsbDtpZihiJiZ0eXBlb2YgYS5jbGllbnRYPT09XCJudW1iZXJcIil7Y29uc3QgYz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLGEuY2xpZW50WSk7aWYoQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlzdGFuY2UoYixjKTwxKXJldHVybn0oYj10aGlzLmdldE1lbnVJdGVtKGEudGFyZ2V0KSkmJlxuYi5wZXJmb3JtQWN0aW9uKGEpfWhhbmRsZVBvaW50ZXJFbnRlcihhKXt0aGlzLmZvY3VzKCl9aGFuZGxlUG9pbnRlckxlYXZlKGEpe3RoaXMuZ2V0RWxlbWVudCgpJiZ0aGlzLnNldEhpZ2hsaWdodGVkKG51bGwpfWhhbmRsZUtleUV2ZW50KGEpe2lmKHRoaXMubWVudUl0ZW1zLmxlbmd0aCYmIShhLnNoaWZ0S2V5fHxhLmN0cmxLZXl8fGEubWV0YUtleXx8YS5hbHRLZXkpKXt2YXIgYj10aGlzLmhpZ2hsaWdodGVkSXRlbTtzd2l0Y2goYS5rZXkpe2Nhc2UgXCJFbnRlclwiOmNhc2UgXCIgXCI6YiYmYi5wZXJmb3JtQWN0aW9uKGEpO2JyZWFrO2Nhc2UgXCJBcnJvd1VwXCI6dGhpcy5oaWdobGlnaHRQcmV2aW91cygpO2JyZWFrO2Nhc2UgXCJBcnJvd0Rvd25cIjp0aGlzLmhpZ2hsaWdodE5leHQoKTticmVhaztjYXNlIFwiUGFnZVVwXCI6Y2FzZSBcIkhvbWVcIjp0aGlzLmhpZ2hsaWdodEZpcnN0KCk7YnJlYWs7Y2FzZSBcIlBhZ2VEb3duXCI6Y2FzZSBcIkVuZFwiOnRoaXMuaGlnaGxpZ2h0TGFzdCgpO2JyZWFrO1xuZGVmYXVsdDpyZXR1cm59YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9fWdldFNpemUoKXtjb25zdCBhPXRoaXMuZ2V0RWxlbWVudCgpLGI9Z2V0U2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGEpO2IuaGVpZ2h0PWEuc2Nyb2xsSGVpZ2h0O3JldHVybiBifWdldE1lbnVJdGVtcygpe3JldHVybiB0aGlzLm1lbnVJdGVtcy5maWx0ZXIoYT0+YSBpbnN0YW5jZW9mIE1lbnVJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudWl0ZW0pfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnUuTWVudT1NZW51JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudTt2YXIgTWVudVNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVfc2VwYXJhdG9yPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5lbGVtZW50PW51bGx9Y3JlYXRlRG9tKCl7dGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTt0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPVwiYmxvY2tseU1lbnVTZXBhcmF0b3JcIjtzZXRSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmVsZW1lbnQsUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuU0VQQVJBVE9SKTtyZXR1cm4gdGhpcy5lbGVtZW50fWRpc3Bvc2UoKXtsZXQgYTsoYT10aGlzLmVsZW1lbnQpPT1udWxsfHxhLnJlbW92ZSgpO3RoaXMuZWxlbWVudD1udWxsfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVfc2VwYXJhdG9yPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51X3NlcGFyYXRvci5NZW51U2VwYXJhdG9yPU1lbnVTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51X3NlcGFyYXRvcjt2YXIgQ09MTEFQU0VEX0lOUFVUX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHM9XCJfVEVNUF9DT0xMQVBTRURfSU5QVVRcIixDT0xMQVBTRURfRklFTERfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cz1cIl9URU1QX0NPTExBUFNFRF9GSUVMRFwiLE1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzPVwiTUFOVUFMTFlfRElTQUJMRURcIixtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzPXtDT0xMQVBTRURfRklFTERfTkFNRTpDT0xMQVBTRURfRklFTERfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyxDT0xMQVBTRURfSU5QVVRfTkFNRTpDT0xMQVBTRURfSU5QVVRfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyxNQU5VQUxMWV9ESVNBQkxFRDpNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50c307KGZ1bmN0aW9uKGEpe2FbYS5WQUxVRT0xXT1cIlZBTFVFXCI7YVthLlNUQVRFTUVOVD0zXT1cIlNUQVRFTUVOVFwiO2FbYS5EVU1NWT01XT1cIkRVTU1ZXCI7YVthLkNVU1RPTT02XT1cIkNVU1RPTVwiO2FbYS5FTkRfUk9XPTddPVwiRU5EX1JPV1wifSkoJC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzfHwoJC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzPXt9KSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5pbnB1dFR5cGVzPSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlczt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZXJpYWxpemFibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZXJpYWxpemFibGUuaXNTZXJpYWxpemFibGU9aXNTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VyaWFsaXphYmxlO3ZhciByb290QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9bmV3IFNldCxkaXJ0eUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PW5ldyBXZWFrU2V0LGV2ZW50R3JvdXBzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9bmV3IFdlYWtNYXAsYWZ0ZXJSZW5kZXJzUHJvbWlzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PW51bGwsYWZ0ZXJSZW5kZXJzUmVzb2x2ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1udWxsLGFuaW1hdGlvblJlcXVlc3RJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PTAsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5maW5pc2hRdWV1ZWRSZW5kZXJzPWZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5xdWV1ZVJlbmRlcj1xdWV1ZVJlbmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC50cmlnZ2VyUXVldWVkUmVuZGVycz10cmlnZ2VyUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50O3ZhciBzZXRMb2NhbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2csbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZzskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZz1PYmplY3QuY3JlYXRlKG51bGwpO3NldExvY2FsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZz1mdW5jdGlvbihhKXtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpeyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnW2JdPWFbYl19KX07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZz17TXNnOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLHNldExvY2FsZTpzZXRMb2NhbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2d9O3ZhciBDTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q9XCJibG9ja2x5VG9hc3RcIixNRVNTQUdFX0NMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdD1cImJsb2NrbHlUb2FzdE1lc3NhZ2VcIixDTE9TRV9CVVRUT05fQ0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0PVwiYmxvY2tseVRvYXN0Q2xvc2VCdXR0b25cIixUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0PWNsYXNze3N0YXRpYyBzaG93KGEsYil7aWYoYi5vbmNlUGVyU2Vzc2lvbiYmYi5pZCl7aWYodGhpcy5zaG93bklkcy5oYXMoYi5pZCkpcmV0dXJuO3RoaXMuc2hvd25JZHMuYWRkKGIuaWQpfXRoaXMuaGlkZShhKTtjb25zdCBjPXRoaXMuY3JlYXRlRG9tKGEsYik7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57Yy5zdHlsZS5ib3R0b209XCIycmVtXCJ9KX1zdGF0aWMgY3JlYXRlRG9tKGEsYil7Y29uc3Qge21lc3NhZ2U6YyxkdXJhdGlvbjpkPTUsYXNzZXJ0aXZlbmVzczplPVxuVG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdC5Bc3NlcnRpdmVuZXNzLlBPTElURX09YixmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5nZXRJbmplY3Rpb25EaXYoKS5hcHBlbmRDaGlsZChmKTtmLmRhdGFzZXQudG9hc3RJZD1iLmlkO2YuY2xhc3NOYW1lPUNMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdDtzZXRSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShmLFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlNUQVRVUyk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGYsU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkxJVkUsZSk7Yj1mLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2IuY2xhc3NOYW1lPU1FU1NBR0VfQ0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0O2IuaW5uZXJUZXh0PVxuYztiPWYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSk7Yi5jbGFzc05hbWU9Q0xPU0VfQlVUVE9OX0NMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdDtzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYixTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuTEFCRUwsJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ0xPU0UpO3ZhciBnPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlNWRyx7d2lkdGg6MjQsaGVpZ2h0OjI0LHZpZXdCb3g6XCIwIDAgMjQgMjRcIixmaWxsOlwibm9uZVwifSxiKTtzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoZyxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuSElEREVOLCEwKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULFxue3g6MTkuNzc4Mix5OjIuODA3NjIsd2lkdGg6MixoZWlnaHQ6MjQsdHJhbnNmb3JtOlwicm90YXRlKDQ1LCAxOS43NzgyLCAyLjgwNzYyKVwiLGZpbGw6XCJibGFja1wifSxnKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHt4OjIuODA3NjIseTo0LjIyMTgzLHdpZHRoOjIsaGVpZ2h0OjI0LHRyYW5zZm9ybTpcInJvdGF0ZSgtNDUsIDIuODA3NjIsIDQuMjIxODMpXCIsZmlsbDpcImJsYWNrXCJ9LGcpO2IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKCk9PntmLnJlbW92ZSgpO2EubWFya0ZvY3VzZWQoKX0pO2xldCBoO2I9KCk9PntoPXNldFRpbWVvdXQoKCk9PmYucmVtb3ZlKCksZCoxRTMpfTtnPSgpPT5jbGVhclRpbWVvdXQoaCk7Zi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLGcpO2YuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsYik7Zi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLFxuZyk7Zi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZyk7Zi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLGIpO2IoKTtyZXR1cm4gZn1zdGF0aWMgaGlkZShhLGIpe2E9YS5nZXRJbmplY3Rpb25EaXYoKS5xdWVyeVNlbGVjdG9yKGAuJHtDTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3R9YCk7YSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYoIWJ8fGI9PT1hLmRhdGFzZXQudG9hc3RJZCkmJmEucmVtb3ZlKCl9fTtUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0LnNob3duSWRzPW5ldyBTZXQ7KGZ1bmN0aW9uKGEpe2E9YS5Bc3NlcnRpdmVuZXNzfHwoYS5Bc3NlcnRpdmVuZXNzPXt9KTthLkFTU0VSVElWRT1cImFzc2VydGl2ZVwiO2EuUE9MSVRFPVwicG9saXRlXCJ9KShUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0fHwoVG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdD17fSkpO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKGBcbi4ke0NMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdH0ge1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IC0xMHJlbTtcbiAgcmlnaHQ6IDJyZW07XG4gIHBhZGRpbmc6IDFyZW07XG4gIGNvbG9yOiBibGFjaztcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xuICBib3JkZXItcmFkaXVzOiAwLjRyZW07XG4gIHotaW5kZXg6IDk5OTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAwLjhyZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIHRyYW5zaXRpb246IGJvdHRvbSAwLjNzIGVhc2Utb3V0O1xufVxuXG4uJHtDTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3R9IC4ke01FU1NBR0VfQ0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0fSB7XG4gIG1heFdpZHRoOiAxOHJlbTtcbn1cblxuLiR7Q0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0fSAuJHtDTE9TRV9CVVRUT05fQ0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0fSB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMC4ycmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6IGJsYWNrO1xuICBib3JkZXI6IG5vbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbmApO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0LlRvYXN0PVRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q7dmFyIGRlZmF1bHRBbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1mdW5jdGlvbihhLGIpe3dpbmRvdy5hbGVydChhKTtiJiZiKCl9LGFsZXJ0SW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZGVmYXVsdEFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLGRlZmF1bHRDb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYil7Yih3aW5kb3cuY29uZmlybShhKSl9LGNvbmZpcm1JbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1kZWZhdWx0Q29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxkZWZhdWx0UHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYixjKXtjKHdpbmRvdy5wcm9tcHQoYSxiKSl9LHByb21wdEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWRlZmF1bHRQcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csXG5kZWZhdWx0VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdC5zaG93LmJpbmQoVG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdCksdG9hc3RJbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1kZWZhdWx0VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLmFsZXJ0PWFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nO21vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cuY29uZmlybT1jb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nO21vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cucHJvbXB0PXByb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cuc2V0QWxlcnQ9c2V0QWxlcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy5zZXRDb25maXJtPXNldENvbmZpcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy5zZXRQcm9tcHQ9c2V0UHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nO21vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cuc2V0VG9hc3Q9c2V0VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy50b2FzdD10b2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZzt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2Nrcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzLmlzTGVnYWN5UHJvY2VkdXJlQ2FsbEJsb2NrPWlzTGVnYWN5UHJvY2VkdXJlQ2FsbEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzO21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MuaXNMZWdhY3lQcm9jZWR1cmVEZWZCbG9jaz1pc0xlZ2FjeVByb2NlZHVyZURlZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX2JhY2tlZF9wYXJhbWV0ZXJfbW9kZWw9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV92YXJpYWJsZV9iYWNrZWRfcGFyYW1ldGVyX21vZGVsLmlzVmFyaWFibGVCYWNrZWRQYXJhbWV0ZXJNb2RlbD1pc1ZhcmlhYmxlQmFja2VkUGFyYW1ldGVyTW9kZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdmFyaWFibGVfYmFja2VkX3BhcmFtZXRlcl9tb2RlbDt2YXIgcHJldmlvdXNXYXJuaW5ncyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uPW5ldyBTZXQsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbi53YXJuPXdhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbjt2YXIgQ0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1cIlZBUklBQkxFXCIsVkFSX0xFVFRFUl9PUFRJT05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPVwiaWprbW5vcHFyc3R1dnd4eXphYmNkZWZnaFwiLFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz17Z2VuZXJhdGVVbmlxdWVOYW1lSW50ZXJuYWw6Z2VuZXJhdGVVbmlxdWVOYW1lSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXN9LG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9e0NBVEVHT1JZX05BTUU6Q0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxURVNUX09OTFk6VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLFZBUl9MRVRURVJfT1BUSU9OUzpWQVJfTEVUVEVSX09QVElPTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXN9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5hbGxEZXZlbG9wZXJWYXJpYWJsZXM9JC5hbGxEZXZlbG9wZXJWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5hbGxVc2VkVmFyTW9kZWxzPSQuYWxsVXNlZFZhck1vZGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmNvbXBhcmVCeU5hbWU9Y29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlcj1jcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5kZWxldGVWYXJpYWJsZT0kLmRlbGV0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5mbHlvdXRDYXRlZ29yeT1mbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmZseW91dENhdGVnb3J5QmxvY2tzPWZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZ2VuZXJhdGVVbmlxdWVOYW1lPWdlbmVyYXRlVW5pcXVlTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmdlbmVyYXRlVW5pcXVlTmFtZUZyb21PcHRpb25zPWdlbmVyYXRlVW5pcXVlTmFtZUZyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tPWdlbmVyYXRlVmFyaWFibGVGaWVsZERvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZ2V0QWRkZWRWYXJpYWJsZXM9Z2V0QWRkZWRWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZT0kLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZ2V0VmFyaWFibGU9JC5nZXRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmdldFZhcmlhYmxlVXNlc0J5SWQ9Z2V0VmFyaWFibGVVc2VzQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmludGVybmFsRmx5b3V0Q2F0ZWdvcnk9aW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuanNvbkZseW91dENhdGVnb3J5QmxvY2tzPWpzb25GbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLm5hbWVVc2VkV2l0aEFueVR5cGU9bmFtZVVzZWRXaXRoQW55VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLm5hbWVVc2VkV2l0aENvbmZsaWN0aW5nUGFyYW09bmFtZVVzZWRXaXRoQ29uZmxpY3RpbmdQYXJhbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLnByb21wdE5hbWU9cHJvbXB0TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLnJlbmFtZVZhcmlhYmxlPSQucmVuYW1lVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7dmFyIERlc2VyaWFsaXphdGlvbkVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zPWNsYXNzIGV4dGVuZHMgRXJyb3J7fSxNaXNzaW5nQmxvY2tUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zPWNsYXNzIGV4dGVuZHMgRGVzZXJpYWxpemF0aW9uRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnN7Y29uc3RydWN0b3IoYSl7c3VwZXIoXCJFeHBlY3RlZCB0byBmaW5kIGEgJ3R5cGUnIHByb3BlcnR5LCBkZWZpbmluZyB0aGUgYmxvY2sgdHlwZVwiKTt0aGlzLnN0YXRlPWF9fSxNaXNzaW5nQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucz1jbGFzcyBleHRlbmRzIERlc2VyaWFsaXphdGlvbkVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25ze2NvbnN0cnVjdG9yKGEsXG5iLGMpe3N1cGVyKGBUaGUgYmxvY2sgJHtiLnRvRGV2U3RyaW5nKCl9IGlzIG1pc3NpbmcgYShuKSAke2F9XG5jb25uZWN0aW9uYCk7dGhpcy5ibG9jaz1iO3RoaXMuc3RhdGU9Y319LEJhZENvbm5lY3Rpb25DaGVjayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucz1jbGFzcyBleHRlbmRzIERlc2VyaWFsaXphdGlvbkVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25ze2NvbnN0cnVjdG9yKGEsYixjLGQpe3N1cGVyKGBUaGUgYmxvY2sgJHtjLnRvRGV2U3RyaW5nKCl9IGNvdWxkIG5vdCBjb25uZWN0IGl0c1xuJHtifSB0byBpdHMgcGFyZW50LCBiZWNhdXNlOiAke2F9YCk7dGhpcy5jaGlsZEJsb2NrPWM7dGhpcy5jaGlsZFN0YXRlPWR9fSxSZWFsQ2hpbGRPZlNoYWRvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucz1jbGFzcyBleHRlbmRzIERlc2VyaWFsaXphdGlvbkVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25ze2NvbnN0cnVjdG9yKGEpe3N1cGVyKFwiRW5jb3VudGVyZWQgYSByZWFsIGJsb2NrIHdoaWNoIGlzIGRlZmluZWQgYXMgYSBjaGlsZCBvZiBhIHNoYWRvd1xcbmJsb2NrLiBJdCBpcyBhbiBpbnZhcmlhbnQgb2YgQmxvY2tseSB0aGF0IHNoYWRvdyBibG9ja3Mgb25seSBoYXZlIHNoYWRvd1xcbmNoaWxkcmVuXCIpO3RoaXMuc3RhdGU9YX19LFVucmVnaXN0ZXJlZEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM9Y2xhc3MgZXh0ZW5kcyBEZXNlcmlhbGl6YXRpb25FcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9uc3tjb25zdHJ1Y3RvcihhLFxuYixjKXtzdXBlcihgQ2Fubm90IGFkZCBhbiBpY29uIG9mIHR5cGUgJyR7YX0nIHRvIHRoZSBibG9jayBgK2Ake2IudG9EZXZTdHJpbmcoKX0sIGJlY2F1c2UgdGhlcmUgaXMgbm8gaWNvbiByZWdpc3RlcmVkIHdpdGggYCtgdHlwZSAnJHthfScuIE1ha2Ugc3VyZSB0aGF0IGFsbCBvZiB5b3VyIGljb25zIGhhdmUgYmVlbiBgK1wicmVnaXN0ZXJlZC5cIik7dGhpcy5ibG9jaz1iO3RoaXMuc3RhdGU9Y319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucy5CYWRDb25uZWN0aW9uQ2hlY2s9QmFkQ29ubmVjdGlvbkNoZWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMuRGVzZXJpYWxpemF0aW9uRXJyb3I9RGVzZXJpYWxpemF0aW9uRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zLk1pc3NpbmdCbG9ja1R5cGU9TWlzc2luZ0Jsb2NrVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zLk1pc3NpbmdDb25uZWN0aW9uPU1pc3NpbmdDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMuUmVhbENoaWxkT2ZTaGFkb3c9UmVhbENoaWxkT2ZTaGFkb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucy5VbnJlZ2lzdGVyZWRJY29uPVVucmVnaXN0ZXJlZEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM7dmFyIHNhdmVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPXNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxCbG9ja1NlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucHJpb3JpdHk9QkxPQ0tTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzfXNhdmUoYSl7Y29uc3QgYj1bXTtmb3IoY29uc3QgYyBvZiBhLmdldFRvcEJsb2NrcyghMSkpKGE9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGMse2FkZENvb3JkaW5hdGVzOiEwLGRvRnVsbFNlcmlhbGl6YXRpb246ITF9KSkmJmIucHVzaChhKTtyZXR1cm4gYi5sZW5ndGg/e2xhbmd1YWdlVmVyc2lvbjowLGJsb2NrczpifTpudWxsfWxvYWQoYSxiKXthPWEuYmxvY2tzO2Zvcihjb25zdCBjIG9mIGEpYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYyxcbmIse3JlY29yZFVuZG86Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfSl9Y2xlYXIoYSl7Zm9yKGNvbnN0IGIgb2YgYS5nZXRUb3BCbG9ja3MoITEpKWIuZGlzcG9zZSghMSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnkoXCJibG9ja3NcIixuZXcgQmxvY2tTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLkJsb2NrU2VyaWFsaXplcj1CbG9ja1NlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MuYXBwZW5kPWFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLmFwcGVuZEludGVybmFsPWFwcGVuZEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLnNhdmU9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzO3ZhciBJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXM9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5uYW1lPWF9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfWVxdWFscyhhKXtyZXR1cm4gdGhpcy5uYW1lPT09YS50b1N0cmluZygpfX07SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLk1VVEFUT1I9bmV3IEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcyhcIm11dGF0b3JcIik7SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLldBUk5JTkc9bmV3IEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcyhcIndhcm5pbmdcIik7SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlQ9bmV3IEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcyhcImNvbW1lbnRcIik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuSWNvblR5cGU9SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlLmhhc0J1YmJsZT1oYXNCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaGFzX2J1YmJsZTt2YXIgQmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNlPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0e2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5pc0JsYW5rPSFhO2EmJih0aGlzLmJsb2NrSWQ9YS5pZCx0aGlzLndvcmtzcGFjZUlkPWEud29ya3NwYWNlLmlkKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLmJsb2NrSWQpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLmJsb2NrSWQ9dGhpcy5ibG9ja0lkO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBCbG9ja0Jhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2UpO1xuYi5ibG9ja0lkPWEuYmxvY2tJZDtyZXR1cm4gYn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfYmFzZS5CbG9ja0Jhc2U9QmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNlO3ZhciBCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlPWNsYXNzIGV4dGVuZHMgQmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNle2NvbnN0cnVjdG9yKGEsYixjLGQsZSl7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRTthJiYodGhpcy5lbGVtZW50PWIsdGhpcy5uYW1lPWN8fHZvaWQgMCx0aGlzLm9sZFZhbHVlPWQsdGhpcy5uZXdWYWx1ZT1lKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLmVsZW1lbnQpdGhyb3cgRXJyb3IoXCJUaGUgY2hhbmdlZCBlbGVtZW50IGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYW4gZWxlbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YS5lbGVtZW50PXRoaXMuZWxlbWVudDthLm5hbWU9dGhpcy5uYW1lO1xuYS5vbGRWYWx1ZT10aGlzLm9sZFZhbHVlO2EubmV3VmFsdWU9dGhpcy5uZXdWYWx1ZTt0aGlzLmRpc2FibGVkUmVhc29uJiYoYS5kaXNhYmxlZFJlYXNvbj10aGlzLmRpc2FibGVkUmVhc29uKTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NoYW5nZSk7Yi5lbGVtZW50PWEuZWxlbWVudDtiLm5hbWU9YS5uYW1lO2Iub2xkVmFsdWU9YS5vbGRWYWx1ZTtiLm5ld1ZhbHVlPWEubmV3VmFsdWU7YS5kaXNhYmxlZFJlYXNvbiE9PXZvaWQgMCYmKGIuZGlzYWJsZWRSZWFzb249YS5kaXNhYmxlZFJlYXNvbik7cmV0dXJuIGJ9c2V0RGlzYWJsZWRSZWFzb24oYSl7aWYodGhpcy5lbGVtZW50IT09XCJkaXNhYmxlZFwiKXRocm93IEVycm9yKCdDYW5ub3Qgc2V0IHRoZSBkaXNhYmxlZCByZWFzb24gZm9yIGEgQmxvY2tDaGFuZ2UgZXZlbnQgaWYgdGhlIGVsZW1lbnQgaXMgbm90IFwiZGlzYWJsZWRcIi4nKTtcbnRoaXMuZGlzYWJsZWRSZWFzb249YX1pc051bGwoKXtyZXR1cm4gdGhpcy5vbGRWYWx1ZT09PXRoaXMubmV3VmFsdWV9cnVuKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMuYmxvY2tJZCl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2I9Yi5nZXRCbG9ja0J5SWQodGhpcy5ibG9ja0lkKTtpZighYil0aHJvdyBFcnJvcihcIlRoZSBhc3NvY2lhdGVkIGJsb2NrIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7Y29uc3QgYz1iLmdldEljb24oSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLk1VVEFUT1IpO2MmJmhhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlKGMpJiZcbmMuYnViYmxlSXNWaXNpYmxlKCkmJmMuc2V0QnViYmxlVmlzaWJsZSghMSk7YT1hP3RoaXMubmV3VmFsdWU6dGhpcy5vbGRWYWx1ZTtzd2l0Y2godGhpcy5lbGVtZW50KXtjYXNlIFwiZmllbGRcIjooYj1iLmdldEZpZWxkKHRoaXMubmFtZSkpP2Iuc2V0VmFsdWUoYSk6Y29uc29sZS53YXJuKFwiQ2FuJ3Qgc2V0IG5vbi1leGlzdGVudCBmaWVsZDogXCIrdGhpcy5uYW1lKTticmVhaztjYXNlIFwiY29tbWVudFwiOmIuc2V0Q29tbWVudFRleHQoYXx8bnVsbCk7YnJlYWs7Y2FzZSBcImNvbGxhcHNlZFwiOmIuc2V0Q29sbGFwc2VkKCEhYSk7YnJlYWs7Y2FzZSBcImRpc2FibGVkXCI6dmFyIGQ7Yi5zZXREaXNhYmxlZFJlYXNvbighIWEsKGQ9dGhpcy5kaXNhYmxlZFJlYXNvbikhPW51bGw/ZDpNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyk7YnJlYWs7Y2FzZSBcImlubGluZVwiOmIuc2V0SW5wdXRzSW5saW5lKCEhYSk7YnJlYWs7Y2FzZSBcIm11dGF0aW9uXCI6ZD1CbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlLmdldEV4dHJhQmxvY2tTdGF0ZV8oYik7XG5iLmxvYWRFeHRyYVN0YXRlP2IubG9hZEV4dHJhU3RhdGUoSlNPTi5wYXJzZShhfHxcInt9XCIpKTpiLmRvbVRvTXV0YXRpb24mJmIuZG9tVG9NdXRhdGlvbigkLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhfHxcIjxtdXRhdGlvbi8+XCIpKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyBCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlKGIsXCJtdXRhdGlvblwiLG51bGwsZCxhKSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oXCJVbmtub3duIGNoYW5nZSB0eXBlOiBcIit0aGlzLmVsZW1lbnQpfX1zdGF0aWMgZ2V0RXh0cmFCbG9ja1N0YXRlXyhhKXtyZXR1cm4gYS5zYXZlRXh0cmFTdGF0ZT8oYT1hLnNhdmVFeHRyYVN0YXRlKCEwKSk/SlNPTi5zdHJpbmdpZnkoYSk6XCJcIjphLm11dGF0aW9uVG9Eb20/KGE9YS5tdXRhdGlvblRvRG9tKCkpP2RvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhKTpcblwiXCI6XCJcIn19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSxCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NoYW5nZS5CbG9ja0NoYW5nZT1CbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aC5jbGFtcD1jbGFtcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgudG9EZWdyZWVzPXRvRGVncmVlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgudG9SYWRpYW5zPXRvUmFkaWFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGg7dmFyIEFSUk9XX1NJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj0xNixCT1JERVJfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PTEsQVJST1dfSE9SSVpPTlRBTF9QQURESU5HJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9MTIsUEFERElOR19ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9MTYsQU5JTUFUSU9OX1RJTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj0uMjUsYW5pbWF0ZU91dFRpbWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxvbkhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsLHJlbmRlcmVkQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9XCJcIix0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PVwiXCIsZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsXG5jb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsYXJyb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixib3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwscG9zaXRpb25Ub0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwsa2V5ZG93bkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxpbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PXtnZXRCb3VuZHNJbmZvOmZ1bmN0aW9uKCl7Y29uc3QgYT1nZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYm91bmRzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KSxcbmI9Z2V0U2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGJvdW5kc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdik7cmV0dXJue2xlZnQ6YS54LHJpZ2h0OmEueCtiLndpZHRoLHRvcDphLnksYm90dG9tOmEueStiLmhlaWdodCx3aWR0aDpiLndpZHRoLGhlaWdodDpiLmhlaWdodH19LGdldFBvc2l0aW9uTWV0cmljczpmdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPWludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuZ2V0Qm91bmRzSW5mbygpLGY9Z2V0U2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KTtyZXR1cm4gYitmLmhlaWdodDxlLmJvdHRvbT9nZXRQb3NpdGlvbkJlbG93TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEsYixlLGYpOmQtZi5oZWlnaHQ+ZS50b3A/Z2V0UG9zaXRpb25BYm92ZU1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihjLFxuZCxlLGYpOmIrZi5oZWlnaHQ8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodD9nZXRQb3NpdGlvbkJlbG93TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEsYixlLGYpOmQtZi5oZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcD9nZXRQb3NpdGlvbkFib3ZlTWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGMsZCxlLGYpOmdldFBvc2l0aW9uVG9wT2ZQYWdlTWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEsZSxmKX19LFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PXtBTklNQVRJT05fVElNRTpBTklNQVRJT05fVElNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LEFSUk9XX0hPUklaT05UQUxfUEFERElORzpBUlJPV19IT1JJWk9OVEFMX1BBRERJTkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixcbkFSUk9XX1NJWkU6QVJST1dfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LEJPUkRFUl9TSVpFOkJPUkRFUl9TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsUEFERElOR19ZOlBBRERJTkdfWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LFRFU1RfT05MWTppbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuY2xlYXJDb250ZW50PWNsZWFyQ29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5jcmVhdGVEb209Y3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmdldENvbnRlbnREaXY9Z2V0Q29udGVudERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmdldE93bmVyPWdldE93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmdldFBvc2l0aW9uWD1nZXRQb3NpdGlvblgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuaGlkZT1oaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmhpZGVJZk93bmVyPWhpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmhpZGVXaXRob3V0QW5pbWF0aW9uPWhpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuaXNWaXNpYmxlPWlzVmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5yZXBvc2l0aW9uRm9yV2luZG93UmVzaXplPXJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc2V0Qm91bmRzRWxlbWVudD1zZXRCb3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnNldENvbG91cj1zZXRDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc2hvdz1zaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc2hvd1Bvc2l0aW9uZWRCeUJsb2NrPXNob3dQb3NpdGlvbmVkQnlCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zaG93UG9zaXRpb25lZEJ5RmllbGQ9c2hvd1Bvc2l0aW9uZWRCeUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZy5jb21tb25Xb3JkUHJlZml4PWNvbW1vbldvcmRQcmVmaXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZy5jb21tb25Xb3JkU3VmZml4PWNvbW1vbldvcmRTdWZmaXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZy5pc051bWJlcj0kLmlzTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcuc2hvcnRlc3RTdHJpbmdMZW5ndGg9c2hvcnRlc3RTdHJpbmdMZW5ndGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZy53cmFwPSQud3JhcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZzt2YXIgY3VzdG9tVG9vbHRpcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9dm9pZCAwLHZpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPSExLGJsb2NrZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPSExLExJTUlUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD01MCxtb3VzZU91dFBpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9MCxzaG93UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0wLGxhc3RYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0wLGxhc3RZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0wLGVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPW51bGwscG9pc29uZWRFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1udWxsLE9GRlNFVF9YJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0wLE9GRlNFVF9ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1cbjEwLFJBRElVU19PSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9MTAsSE9WRVJfTVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTc1MCxNQVJHSU5TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD01LGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9bnVsbCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD17SE9WRVJfTVM6SE9WRVJfTVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLExJTUlUOkxJTUlUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxNQVJHSU5TOk1BUkdJTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLE9GRlNFVF9YOk9GRlNFVF9YJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxPRkZTRVRfWTpPRkZTRVRfWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsUkFESVVTX09LOlJBRElVU19PSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXB9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuYmluZE1vdXNlRXZlbnRzPWJpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuYmxvY2s9YmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmNyZWF0ZURvbT1jcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmRpc3Bvc2U9ZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuZ2V0Q3VzdG9tVG9vbHRpcD1nZXRDdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5nZXREaXY9Z2V0RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmdldFRvb2x0aXBPZk9iamVjdD1nZXRUb29sdGlwT2ZPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmhpZGU9aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuaXNWaXNpYmxlPWlzVmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuc2V0Q3VzdG9tVG9vbHRpcD1zZXRDdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC51bmJpbmRNb3VzZUV2ZW50cz11bmJpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAudW5ibG9jaz11bmJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDt2YXIgaHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj0uNDUsaHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9LjY1LG5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPXthcXVhOlwiIzAwZmZmZlwiLGJsYWNrOlwiIzAwMDAwMFwiLGJsdWU6XCIjMDAwMGZmXCIsZnVjaHNpYTpcIiNmZjAwZmZcIixncmF5OlwiIzgwODA4MFwiLGdyZWVuOlwiIzAwODAwMFwiLGxpbWU6XCIjMDBmZjAwXCIsbWFyb29uOlwiIzgwMDAwMFwiLG5hdnk6XCIjMDAwMDgwXCIsb2xpdmU6XCIjODA4MDAwXCIscHVycGxlOlwiIzgwMDA4MFwiLHJlZDpcIiNmZjAwMDBcIixzaWx2ZXI6XCIjYzBjMGMwXCIsdGVhbDpcIiMwMDgwODBcIix3aGl0ZTpcIiNmZmZmZmZcIix5ZWxsb3c6XCIjZmZmZjAwXCJ9LG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5ibGVuZD1ibGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIuZ2V0SHN2U2F0dXJhdGlvbj1nZXRIc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIuZ2V0SHN2VmFsdWU9Z2V0SHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5oZXhUb1JnYj1oZXhUb1JnYiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLmhzdlRvSGV4PWhzdlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIuaHVlVG9IZXg9aHVlVG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLm5hbWVzPW5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIucGFyc2U9cGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5yZ2JUb0hleD1yZ2JUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLnNldEhzdlNhdHVyYXRpb249c2V0SHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLnNldEhzdlZhbHVlPXNldEhzdlZhbHVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZy5jaGVja01lc3NhZ2VSZWZlcmVuY2VzPWNoZWNrTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nLnBhcnNlQmxvY2tDb2xvdXI9cGFyc2VCbG9ja0NvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzPXJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcudG9rZW5pemVJbnRlcnBvbGF0aW9uPXRva2VuaXplSW50ZXJwb2xhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmc7dmFyIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ9Y2xhc3N7Z2V0IHNpemVfKCl7cmV0dXJuIHRoaXMuc2l6ZX1zZXQgc2l6ZV8oYSl7dGhpcy5zaXplPWF9Y29uc3RydWN0b3IoYSxiLGMpe3RoaXMuREVGQVVMVF9WQUxVRT1udWxsO3RoaXMubmFtZT12b2lkIDA7dGhpcy50b29sdGlwPXRoaXMudmFsaWRhdG9yXz1udWxsO3RoaXMuc2l6ZT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoMCwwKTt0aGlzLmNvbnN0YW50c189dGhpcy5tb3VzZURvd25XcmFwcGVyPXRoaXMudGV4dENvbnRlbnRfPXRoaXMudGV4dEVsZW1lbnRfPXRoaXMuYm9yZGVyUmVjdF89dGhpcy5maWVsZEdyb3VwXz1udWxsO3RoaXMuZGlzcG9zZWQ9ITE7dGhpcy5tYXhEaXNwbGF5TGVuZ3RoPTUwO3RoaXMuc291cmNlQmxvY2tfPW51bGw7dGhpcy5lbmFibGVkXz10aGlzLnZpc2libGVfPXRoaXMuaXNEaXJ0eV89ITA7dGhpcy5zdWZmaXhGaWVsZD10aGlzLnByZWZpeEZpZWxkPVxudGhpcy5jbGlja1RhcmdldF89bnVsbDt0aGlzLkVESVRBQkxFPSEwO3RoaXMuU0VSSUFMSVpBQkxFPSExO3RoaXMuaWRfPW51bGw7dGhpcy52YWx1ZV89XCJERUZBVUxUX1ZBTFVFXCJpbiBuZXcudGFyZ2V0LnByb3RvdHlwZT9uZXcudGFyZ2V0LnByb3RvdHlwZS5ERUZBVUxUX1ZBTFVFOnRoaXMuREVGQVVMVF9WQUxVRTt0aGlzLnNpemVfPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgwLDApO2EhPT1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVAmJihjJiZ0aGlzLmNvbmZpZ3VyZV8oYyksdGhpcy5zZXRWYWx1ZShhKSxiJiZ0aGlzLnNldFZhbGlkYXRvcihiKSl9Y29uZmlndXJlXyhhKXthLnRvb2x0aXAmJnRoaXMuc2V0VG9vbHRpcChyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEudG9vbHRpcCkpfXNldFNvdXJjZUJsb2NrKGEpe2lmKHRoaXMuc291cmNlQmxvY2tfKXRocm93IEVycm9yKFwiRmllbGQgYWxyZWFkeSBib3VuZCB0byBhIGJsb2NrXCIpO1xudGhpcy5zb3VyY2VCbG9ja189YTtpZihhLmlkLmluY2x1ZGVzKFwiX2ZpZWxkXCIpKXRocm93IEVycm9yKFwiRmllbGQgSUQgaW5kaWNhdG9yIGlzIGNvbnRhaW5lZCBpbiBibG9jayBJRC4gVGhpcyBtYXkgY2F1c2UgXCIrYHByb2JsZW1zIHdpdGggZm9jdXM6ICR7YS5pZH0uYCk7dGhpcy5pZF89YCR7YS5pZH1fZmllbGRfJHtnZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpfWB9Z2V0Q29uc3RhbnRzKCl7IXRoaXMuY29uc3RhbnRzXyYmdGhpcy5zb3VyY2VCbG9ja18mJiF0aGlzLnNvdXJjZUJsb2NrXy5pc0RlYWRPckR5aW5nKCkmJnRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5yZW5kZXJlZCYmKHRoaXMuY29uc3RhbnRzXz10aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKSk7cmV0dXJuIHRoaXMuY29uc3RhbnRzX31nZXRTb3VyY2VCbG9jaygpe3JldHVybiB0aGlzLnNvdXJjZUJsb2NrX31pbml0KCl7aWYoIXRoaXMuZmllbGRHcm91cF8pe3ZhciBhPVxudGhpcy5pZF87aWYoIWEpdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBJRCB0byBiZSBkZWZpbmVkIHByaW9yIHRvIGluaXQuXCIpO3RoaXMuZmllbGRHcm91cF89Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7aWQ6YX0pO3RoaXMuaXNWaXNpYmxlKCl8fCh0aGlzLmZpZWxkR3JvdXBfLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpO3RoaXMuc291cmNlQmxvY2tfLmdldFN2Z1Jvb3QoKS5hcHBlbmRDaGlsZCh0aGlzLmZpZWxkR3JvdXBfKTt0aGlzLmluaXRWaWV3KCk7dGhpcy51cGRhdGVFZGl0YWJsZSgpO3RoaXMuc2V0VG9vbHRpcCh0aGlzLnRvb2x0aXApO3RoaXMuYmluZEV2ZW50c18oKTt0aGlzLmluaXRNb2RlbCgpO3RoaXMuYXBwbHlDb2xvdXIoKX19aW5pdFZpZXcoKXt0aGlzLmNyZWF0ZUJvcmRlclJlY3RfKCk7dGhpcy5jcmVhdGVUZXh0RWxlbWVudF8oKTt0aGlzLmZpZWxkR3JvdXBfJiZcbmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8sXCJibG9ja2x5RmllbGRcIil9aW5pdE1vZGVsKCl7fWlzRnVsbEJsb2NrRmllbGQoKXtyZXR1cm4hdGhpcy5ib3JkZXJSZWN0X31jcmVhdGVCb3JkZXJSZWN0Xygpe3RoaXMuYm9yZGVyUmVjdF89Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7cng6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVMscnk6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVMseDowLHk6MCxoZWlnaHQ6dGhpcy5zaXplXy5oZWlnaHQsd2lkdGg6dGhpcy5zaXplXy53aWR0aCxcImNsYXNzXCI6XCJibG9ja2x5RmllbGRSZWN0XCJ9LHRoaXMuZmllbGRHcm91cF8pfWNyZWF0ZVRleHRFbGVtZW50Xygpe3RoaXMudGV4dEVsZW1lbnRfPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlRFWFQsXG57XCJjbGFzc1wiOlwiYmxvY2tseVRleHQgYmxvY2tseUZpZWxkVGV4dFwifSx0aGlzLmZpZWxkR3JvdXBfKTt0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfQkFTRUxJTkVfQ0VOVEVSJiZ0aGlzLnRleHRFbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJkb21pbmFudC1iYXNlbGluZVwiLFwiY2VudHJhbFwiKTt0aGlzLnRleHRDb250ZW50Xz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTt0aGlzLnRleHRFbGVtZW50Xy5hcHBlbmRDaGlsZCh0aGlzLnRleHRDb250ZW50Xyl9YmluZEV2ZW50c18oKXtjb25zdCBhPXRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCk7aWYoIWEpdGhyb3cgRXJyb3IoXCJBIGNsaWNrIHRhcmdldCBoYXMgbm90IGJlZW4gc2V0LlwiKTtiaW5kTW91c2VFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKGEpO3RoaXMubW91c2VEb3duV3JhcHBlcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLFwicG9pbnRlcmRvd25cIixcbnRoaXMsdGhpcy5vbk1vdXNlRG93bl8pfWZyb21YbWwoYSl7dGhpcy5zZXRWYWx1ZShhLnRleHRDb250ZW50KX10b1htbChhKXthLnRleHRDb250ZW50PXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gYX1zYXZlU3RhdGUoYSl7YT10aGlzLnNhdmVMZWdhY3lTdGF0ZShGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkKTtyZXR1cm4gYSE9PW51bGw/YTp0aGlzLmdldFZhbHVlKCl9bG9hZFN0YXRlKGEpe3RoaXMubG9hZExlZ2FjeVN0YXRlKEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQsYSl8fHRoaXMuc2V0VmFsdWUoYSl9c2F2ZUxlZ2FjeVN0YXRlKGEpe3JldHVybiBhLnByb3RvdHlwZS5zYXZlU3RhdGU9PT10aGlzLnNhdmVTdGF0ZSYmYS5wcm90b3R5cGUudG9YbWwhPT10aGlzLnRvWG1sPyhhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImZpZWxkXCIpLGEuc2V0QXR0cmlidXRlKFwibmFtZVwiLHRoaXMubmFtZXx8XCJcIiksXG5kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwodGhpcy50b1htbChhKSkucmVwbGFjZSgnIHhtbG5zPVwiaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYmxvY2tseS94bWxcIicsXCJcIikpOm51bGx9bG9hZExlZ2FjeVN0YXRlKGEsYil7cmV0dXJuIGEucHJvdG90eXBlLmxvYWRTdGF0ZT09PXRoaXMubG9hZFN0YXRlJiZhLnByb3RvdHlwZS5mcm9tWG1sIT09dGhpcy5mcm9tWG1sPyh0aGlzLmZyb21YbWwoJC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYikpLCEwKTohMX1kaXNwb3NlKCl7aGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdih0aGlzKTtoaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzKTtsZXQgYTsoKGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpKT09bnVsbD8wOmEuaXNEZWFkT3JEeWluZygpKXx8cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfKTtcbnRoaXMuZGlzcG9zZWQ9ITB9dXBkYXRlRWRpdGFibGUoKXtjb25zdCBhPXRoaXMuZmllbGRHcm91cF8sYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7dGhpcy5FRElUQUJMRSYmYSYmYiYmKHRoaXMuZW5hYmxlZF8mJmIuaXNFZGl0YWJsZSgpPyhhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseUVkaXRhYmxlRmllbGRcIikscmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlOb25FZGl0YWJsZUZpZWxkXCIpKTooYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlOb25FZGl0YWJsZUZpZWxkXCIpLHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5RWRpdGFibGVGaWVsZFwiKSkpfXNldEVuYWJsZWQoYSl7dGhpcy5lbmFibGVkXz1hO3RoaXMudXBkYXRlRWRpdGFibGUoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5lbmFibGVkX31pc0NsaWNrYWJsZSgpe3JldHVybiB0aGlzLmVuYWJsZWRfJiZcbiEhdGhpcy5zb3VyY2VCbG9ja18mJnRoaXMuc291cmNlQmxvY2tfLmlzRWRpdGFibGUoKSYmdGhpcy5zaG93RWRpdG9yXyE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQucHJvdG90eXBlLnNob3dFZGl0b3JffWlzQ2xpY2thYmxlSW5GbHlvdXQoYSl7cmV0dXJuIWF9aXNDdXJyZW50bHlFZGl0YWJsZSgpe3JldHVybiB0aGlzLmVuYWJsZWRfJiZ0aGlzLkVESVRBQkxFJiYhIXRoaXMuc291cmNlQmxvY2tfJiZ0aGlzLnNvdXJjZUJsb2NrXy5pc0VkaXRhYmxlKCl9aXNTZXJpYWxpemFibGUoKXtsZXQgYT0hMTt0aGlzLm5hbWUmJih0aGlzLlNFUklBTElaQUJMRT9hPSEwOnRoaXMuRURJVEFCTEUmJihjb25zb2xlLndhcm4oXCJEZXRlY3RlZCBhbiBlZGl0YWJsZSBmaWVsZCB0aGF0IHdhcyBub3Qgc2VyaWFsaXphYmxlLiBQbGVhc2UgZGVmaW5lIFNFUklBTElaQUJMRSBwcm9wZXJ0eSBhcyB0cnVlIG9uIGFsbCBlZGl0YWJsZSBjdXN0b20gZmllbGRzLiBQcm9jZWVkaW5nIHdpdGggc2VyaWFsaXphdGlvbi5cIiksXG5hPSEwKSk7cmV0dXJuIGF9aXNWaXNpYmxlKCl7cmV0dXJuIHRoaXMudmlzaWJsZV99c2V0VmlzaWJsZShhKXtpZih0aGlzLnZpc2libGVfIT09YSl7dGhpcy52aXNpYmxlXz1hO3ZhciBiPXRoaXMuZmllbGRHcm91cF87YiYmKGIuc3R5bGUuZGlzcGxheT1hP1wiYmxvY2tcIjpcIm5vbmVcIil9fXNldFZhbGlkYXRvcihhKXt0aGlzLnZhbGlkYXRvcl89YX1nZXRWYWxpZGF0b3IoKXtyZXR1cm4gdGhpcy52YWxpZGF0b3JffWdldFN2Z1Jvb3QoKXtyZXR1cm4gdGhpcy5maWVsZEdyb3VwX31nZXRCb3JkZXJSZWN0KCl7aWYoIXRoaXMuYm9yZGVyUmVjdF8pdGhyb3cgRXJyb3IoYFRoZSBib3JkZXIgcmVjdGFuZ2xlIGlzICR7dGhpcy5ib3JkZXJSZWN0X30uYCk7cmV0dXJuIHRoaXMuYm9yZGVyUmVjdF99Z2V0VGV4dEVsZW1lbnQoKXtpZighdGhpcy50ZXh0RWxlbWVudF8pdGhyb3cgRXJyb3IoYFRoZSB0ZXh0IGVsZW1lbnQgaXMgJHt0aGlzLnRleHRFbGVtZW50X30uYCk7cmV0dXJuIHRoaXMudGV4dEVsZW1lbnRffWdldFRleHRDb250ZW50KCl7aWYoIXRoaXMudGV4dENvbnRlbnRfKXRocm93IEVycm9yKGBUaGUgdGV4dCBjb250ZW50IGlzICR7dGhpcy50ZXh0Q29udGVudF99LmApO1xucmV0dXJuIHRoaXMudGV4dENvbnRlbnRffWFwcGx5Q29sb3VyKCl7fXJlbmRlcl8oKXt0aGlzLnRleHRDb250ZW50XyYmKHRoaXMudGV4dENvbnRlbnRfLm5vZGVWYWx1ZT10aGlzLmdldERpc3BsYXlUZXh0XygpKTt0aGlzLnVwZGF0ZVNpemVfKCl9c2hvd0VkaXRvcihhKXt0aGlzLmlzQ2xpY2thYmxlKCkmJnRoaXMuc2hvd0VkaXRvcl8oYSl9c2hvd0VkaXRvcl8oYSl7fXJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUoKXtyZXR1cm4hMX11cGRhdGVTaXplXyhhKXtjb25zdCBiPXRoaXMuZ2V0Q29uc3RhbnRzKCk7YT1hIT09dm9pZCAwP2E6dGhpcy5pc0Z1bGxCbG9ja0ZpZWxkKCk/MDp0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORztsZXQgYz1hKjIsZD1iLkZJRUxEX1RFWFRfSEVJR0hULGU9MDt0aGlzLnRleHRFbGVtZW50XyYmKGU9Z2V0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMudGV4dEVsZW1lbnRfKSxcbmMrPWUpO3RoaXMuaXNGdWxsQmxvY2tGaWVsZCgpfHwoZD1NYXRoLm1heChkLGIuRklFTERfQk9SREVSX1JFQ1RfSEVJR0hUKSk7dGhpcy5zaXplXz1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYyxkKTt0aGlzLnBvc2l0aW9uVGV4dEVsZW1lbnRfKGEsZSk7dGhpcy5wb3NpdGlvbkJvcmRlclJlY3RfKCl9cG9zaXRpb25UZXh0RWxlbWVudF8oYSxiKXtpZih0aGlzLnRleHRFbGVtZW50Xyl7dmFyIGM9dGhpcy5nZXRDb25zdGFudHMoKSxkPXRoaXMuc2l6ZV8uaGVpZ2h0LzIsZTt0aGlzLnRleHRFbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJ4XCIsU3RyaW5nKCgoZT10aGlzLmdldFNvdXJjZUJsb2NrKCkpPT1udWxsPzA6ZS5SVEwpP3RoaXMuc2l6ZV8ud2lkdGgtYi1hOmEpKTt0aGlzLnRleHRFbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJ5XCIsU3RyaW5nKGMuRklFTERfVEVYVF9CQVNFTElORV9DRU5URVI/ZDpkLWMuRklFTERfVEVYVF9IRUlHSFQvMitjLkZJRUxEX1RFWFRfQkFTRUxJTkUpKX19cG9zaXRpb25Cb3JkZXJSZWN0Xygpe3RoaXMuYm9yZGVyUmVjdF8mJlxuKHRoaXMuYm9yZGVyUmVjdF8uc2V0QXR0cmlidXRlKFwid2lkdGhcIixTdHJpbmcodGhpcy5zaXplXy53aWR0aCkpLHRoaXMuYm9yZGVyUmVjdF8uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsU3RyaW5nKHRoaXMuc2l6ZV8uaGVpZ2h0KSksdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJyeFwiLFN0cmluZyh0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1JBRElVUykpLHRoaXMuYm9yZGVyUmVjdF8uc2V0QXR0cmlidXRlKFwicnlcIixTdHJpbmcodGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVMpKSl9Z2V0U2l6ZSgpe2lmKCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoMCwwKTt0aGlzLmlzRGlydHlfJiYodGhpcy5yZW5kZXJfKCksdGhpcy5pc0RpcnR5Xz0hMSk7cmV0dXJuIHRoaXMuc2l6ZV99Z2V0U2NhbGVkQkJveCgpe2xldCBhO3ZhciBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtcbmlmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2lmKHRoaXMuaXNGdWxsQmxvY2tGaWVsZCgpKXt2YXIgYz10aGlzLnNvdXJjZUJsb2NrXy5nZXRIZWlnaHRXaWR0aCgpO2NvbnN0IGQ9Yi53b3Jrc3BhY2Uuc2NhbGU7YT10aGlzLmdldEFic29sdXRlWFlfKCk7Yj0oYy53aWR0aCsxKSpkO2M9KGMuaGVpZ2h0KzEpKmQ7R0VDS08kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ/KGEueCs9MS41KmQsYS55Kz0xLjUqZCk6KGEueC09LjUqZCxhLnktPS41KmQpfWVsc2UgYz10aGlzLmJvcmRlclJlY3RfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9Z2V0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKHRoaXMuYm9yZGVyUmVjdF8pLGI9Yy53aWR0aCxjPWMuaGVpZ2h0O3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS55LFxuYS55K2MsYS54LGEueCtiKX1vbkxvY2F0aW9uQ2hhbmdlKGEpe31nZXREaXNwbGF5VGV4dF8oKXtsZXQgYT10aGlzLmdldFRleHQoKTthLmxlbmd0aD50aGlzLm1heERpc3BsYXlMZW5ndGgmJihhPWEuc3Vic3RyaW5nKDAsdGhpcy5tYXhEaXNwbGF5TGVuZ3RoLTIpK1wiXFx1MjAyNlwiKTthPWEucmVwbGFjZSgvXFxzL2csRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5OQlNQKTt0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18uUlRMJiYoYSs9XCJcXHUyMDBmXCIpO3JldHVybiBhfWdldFRleHQoKXtjb25zdCBhPXRoaXMuZ2V0VGV4dF8oKTtyZXR1cm4gYSE9PW51bGw/U3RyaW5nKGEpOlN0cmluZyh0aGlzLmdldFZhbHVlKCkpfWdldFRleHRfKCl7cmV0dXJuIG51bGx9bWFya0RpcnR5KCl7dGhpcy5pc0RpcnR5Xz0hMDt0aGlzLmNvbnN0YW50c189bnVsbH1mb3JjZVJlcmVuZGVyKCl7dGhpcy5pc0RpcnR5Xz0hMDt0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18ucmVuZGVyZWQmJlxudGhpcy5zb3VyY2VCbG9ja18ucXVldWVSZW5kZXIoKX1zZXRWYWx1ZShhLGI9ITApe2lmKGEhPT1udWxsKXt2YXIgYz0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7Y3x8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dHJ5e2NvbnN0IGs9dGhpcy5kb0NsYXNzVmFsaWRhdGlvbl8oYSksbD10aGlzLnByb2Nlc3NWYWxpZGF0aW9uKGEsayxiKTtpZighKGwgaW5zdGFuY2VvZiBFcnJvcikpe3ZhciBkLGU9KGQ9dGhpcy5nZXRWYWxpZGF0b3IoKSk9PW51bGw/dm9pZCAwOmQuY2FsbCh0aGlzLGwpLGY9dGhpcy5wcm9jZXNzVmFsaWRhdGlvbihsLGUsYik7aWYoIShmIGluc3RhbmNlb2YgRXJyb3IpKXt2YXIgZz10aGlzLnNvdXJjZUJsb2NrXztpZighZ3x8IWcuZGlzcG9zZWQpe3ZhciBoPXRoaXMuZ2V0VmFsdWUoKTtoPT09Zj90aGlzLmRvVmFsdWVVcGRhdGVfKGYpOih0aGlzLmRvVmFsdWVVcGRhdGVfKGYpLFxuYiYmZyYmaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkoZyxcImZpZWxkXCIsdGhpcy5uYW1lfHxudWxsLGgsZikpLHRoaXMuaXNEaXJ0eV8mJnRoaXMuZm9yY2VSZXJlbmRlcigpKX19fX1maW5hbGx5eyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYyl9fX1wcm9jZXNzVmFsaWRhdGlvbihhLGIsYyl7cmV0dXJuIGI9PT1udWxsPyh0aGlzLmRvVmFsdWVJbnZhbGlkXyhhLGMpLHRoaXMuaXNEaXJ0eV8mJnRoaXMuZm9yY2VSZXJlbmRlcigpLEVycm9yKCkpOmI9PT12b2lkIDA/YTpifWdldFZhbHVlKCl7cmV0dXJuIHRoaXMudmFsdWVffWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtyZXR1cm4gYT09PVxubnVsbHx8YT09PXZvaWQgMD9udWxsOmF9ZG9WYWx1ZVVwZGF0ZV8oYSl7dGhpcy52YWx1ZV89YTt0aGlzLmlzRGlydHlfPSEwfWRvVmFsdWVJbnZhbGlkXyhhLGIpe31vbk1vdXNlRG93bl8oYSl7dGhpcy5zb3VyY2VCbG9ja18mJiF0aGlzLnNvdXJjZUJsb2NrXy5pc0RlYWRPckR5aW5nKCkmJihhPXRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5nZXRHZXN0dXJlKGEpKSYmYS5zZXRTdGFydEZpZWxkKHRoaXMpfXNldFRvb2x0aXAoYSl7YXx8YT09PVwiXCJ8fChhPXRoaXMuc291cmNlQmxvY2tfKTtjb25zdCBiPXRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCk7Yj9iLnRvb2x0aXA9YTp0aGlzLnRvb2x0aXA9YX1nZXRUb29sdGlwKCl7Y29uc3QgYT10aGlzLmdldENsaWNrVGFyZ2V0XygpO3JldHVybiBhP2dldFRvb2x0aXBPZk9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoYSk6Z2V0VG9vbHRpcE9mT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCh7dG9vbHRpcDp0aGlzLnRvb2x0aXB9KX1nZXRDbGlja1RhcmdldF8oKXtyZXR1cm4gdGhpcy5jbGlja1RhcmdldF98fFxudGhpcy5nZXRTdmdSb290KCl9Z2V0QWJzb2x1dGVYWV8oKXtyZXR1cm4gZ2V0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKHRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCkpfXJlZmVyZW5jZXNWYXJpYWJsZXMoKXtyZXR1cm4hMX1yZWZyZXNoVmFyaWFibGVOYW1lKCl7fWdldFBhcmVudElucHV0KCl7bGV0IGE9bnVsbDtjb25zdCBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYil0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtjb25zdCBjPWIuaW5wdXRMaXN0O2ZvcihsZXQgZD0wO2Q8Yi5pbnB1dExpc3QubGVuZ3RoO2QrKyl7Y29uc3QgZT1jW2RdLGY9ZS5maWVsZFJvdztmb3IobGV0IGc9MDtnPGYubGVuZ3RoO2crKylpZihmW2ddPT09dGhpcyl7YT1lO2JyZWFrfX1yZXR1cm4gYX1nZXRGbGlwUnRsKCl7cmV0dXJuITF9b25TaG9ydGN1dChhKXtyZXR1cm4hMX1nZXRGb2N1c2FibGVFbGVtZW50KCl7aWYoIXRoaXMuZmllbGRHcm91cF8pdGhyb3cgRXJyb3IoXCJUaGlzIGZpZWxkIGN1cnJlbnRseSBoYXMgbm8gcmVwcmVzZW50YXRpdmUgRE9NIGVsZW1lbnQuXCIpO1xucmV0dXJuIHRoaXMuZmllbGRHcm91cF99Z2V0Rm9jdXNhYmxlVHJlZSgpe2NvbnN0IGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFhKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3JldHVybiBhLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe2NvbnN0IGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2Eud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KGEuZ2V0Qm91bmRpbmdSZWN0YW5nbGVXaXRob3V0Q2hpbGRyZW4oKSl9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH1zdGF0aWMgZnJvbUpzb24oYSl7dGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gaW5zdGFudGlhdGUgYSBmaWVsZCBmcm9tIHRoZSByZWdpc3RyeSB0aGF0IGhhc24ndCBkZWZpbmVkIGEgJ2Zyb21Kc29uJyBtZXRob2QuXCIpO319O0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuTkJTUD1cIlxcdTAwYTBcIjtcbkZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUD1TeW1ib2woXCJTS0lQX1NFVFVQXCIpO3ZhciBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlcihcIlRoZSBmaWVsZCBoYXMgbm90IHlldCBiZWVuIGF0dGFjaGVkIHRvIGl0cyBpbnB1dC4gQ2FsbCBhcHBlbmRGaWVsZCB0byBhdHRhY2ggaXQuXCIpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5GaWVsZD1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5VbmF0dGFjaGVkRmllbGRFcnJvcj1VbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3ZhciBvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1udWxsLG93bmVyV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PW51bGwsZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1udWxsLGNvbnRhaW5lckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1cImJsb2NrbHlXaWRnZXREaXZcIixyZW5kZXJlckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1cIlwiLHRoZW1lQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PVwiXCIsY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LHJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PW51bGwsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYuY3JlYXRlRG9tPWNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LmdldERpdj1nZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5oaWRlPWhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5oaWRlSWZPd25lcj1oaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LmhpZGVJZk93bmVySXNJbldvcmtzcGFjZT1oaWRlSWZPd25lcklzSW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5pc1Zpc2libGU9aXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5wb3NpdGlvbldpdGhBbmNob3I9cG9zaXRpb25XaXRoQW5jaG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYucmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZT1yZXBvc2l0aW9uRm9yV2luZG93UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYuc2hvdz1zaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYudGVzdE9ubHlfc2V0RGl2PXRlc3RPbmx5X3NldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjt2YXIgY3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9bnVsbCxkdW1teU93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9e30sbWVudV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1udWxsLG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUuY2FsbGJhY2tGYWN0b3J5PSQuY2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LmRpc3Bvc2U9ZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudS5nZXRDdXJyZW50QmxvY2s9Z2V0Q3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUuaGlkZT1oaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LnNldEN1cnJlbnRCbG9jaz1zZXRDdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUuc2hvdz1zaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU7dmFyIENvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeT1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucmVnaXN0ZXJlZEl0ZW1zPW5ldyBNYXA7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5yZWdpc3RlcmVkSXRlbXMuY2xlYXIoKX1yZWdpc3RlcihhKXtpZih0aGlzLnJlZ2lzdGVyZWRJdGVtcy5oYXMoYS5pZCkpdGhyb3cgRXJyb3IoJ01lbnUgaXRlbSB3aXRoIElEIFwiJythLmlkKydcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dGhpcy5yZWdpc3RlcmVkSXRlbXMuc2V0KGEuaWQsYSl9dW5yZWdpc3RlcihhKXtpZighdGhpcy5yZWdpc3RlcmVkSXRlbXMuaGFzKGEpKXRocm93IEVycm9yKCdNZW51IGl0ZW0gd2l0aCBJRCBcIicrYSsnXCIgbm90IGZvdW5kLicpO3RoaXMucmVnaXN0ZXJlZEl0ZW1zLmRlbGV0ZShhKX1nZXRJdGVtKGEpe2xldCBiO3JldHVybihiPXRoaXMucmVnaXN0ZXJlZEl0ZW1zLmdldChhKSkhPW51bGw/XG5iOm51bGx9Z2V0Q29udGV4dE1lbnVPcHRpb25zKGEsYil7Y29uc3QgYz1bXTtmb3IoY29uc3QgZCBvZiB0aGlzLnJlZ2lzdGVyZWRJdGVtcy52YWx1ZXMoKSl7aWYoZC5zY29wZVR5cGUpe2lmKGQuc2NvcGVUeXBlPT09U2NvcGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuQkxPQ0smJiFhLmJsb2NrKWNvbnRpbnVlO2lmKGQuc2NvcGVUeXBlPT09U2NvcGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuQ09NTUVOVCYmIWEuY29tbWVudCljb250aW51ZTtpZihkLnNjb3BlVHlwZT09PVNjb3BlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LldPUktTUEFDRSYmIWEud29ya3NwYWNlKWNvbnRpbnVlfWxldCBlO2U9e3Njb3BlOmEsd2VpZ2h0OmQud2VpZ2h0fTtpZihkLnNlcGFyYXRvcillPU9iamVjdC5hc3NpZ24oe30sZSx7c2VwYXJhdG9yOiEwfSk7ZWxzZXtjb25zdCBmPVxuZC5wcmVjb25kaXRpb25GbihhLGIpO2lmKGY9PT1cImhpZGRlblwiKWNvbnRpbnVlO2NvbnN0IGc9dHlwZW9mIGQuZGlzcGxheVRleHQ9PT1cImZ1bmN0aW9uXCI/ZC5kaXNwbGF5VGV4dChhKTpkLmRpc3BsYXlUZXh0O2U9T2JqZWN0LmFzc2lnbih7fSxlLHt0ZXh0OmcsY2FsbGJhY2s6ZC5jYWxsYmFjayxlbmFibGVkOmY9PT1cImVuYWJsZWRcIn0pfWMucHVzaChlKX1jLnNvcnQoZnVuY3Rpb24oZCxlKXtyZXR1cm4gZC53ZWlnaHQtZS53ZWlnaHR9KTtyZXR1cm4gY319O1xuKGZ1bmN0aW9uKGEpe3ZhciBiPWEuU2NvcGVUeXBlfHwoYS5TY29wZVR5cGU9e30pO2IuQkxPQ0s9XCJibG9ja1wiO2IuV09SS1NQQUNFPVwid29ya3NwYWNlXCI7Yi5DT01NRU5UPVwiY29tbWVudFwiO2EucmVnaXN0cnk9bmV3IGF9KShDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnl8fChDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnk9e30pKTt2YXIgU2NvcGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnk9Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnk9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuQ29udGV4dE1lbnVSZWdpc3RyeT1Db250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZT1TY29wZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeTt2YXIgQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnM9NTAsQlVCQkxFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzPTEwMCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzPXtCTE9DSzpCTE9DSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyxCVUJCTEU6QlVCQkxFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzfTt2YXIgQ29tbWVudERyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGNvbW1lbnRfZHJhZ19zdHJhdGVneT1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLmNvbW1lbnQ9YTt0aGlzLnN0YXJ0TG9jPW51bGw7dGhpcy53b3Jrc3BhY2U9YS53b3Jrc3BhY2V9aXNNb3ZhYmxlKCl7cmV0dXJuIHRoaXMuY29tbWVudC5pc093bk1vdmFibGUoKSYmIXRoaXMuY29tbWVudC5pc0RlYWRPckR5aW5nKCkmJiF0aGlzLndvcmtzcGFjZS5pc1JlYWRPbmx5KCl9c3RhcnREcmFnKCl7dGhpcy5maXJlRHJhZ1N0YXJ0RXZlbnQoKTt0aGlzLnN0YXJ0TG9jPXRoaXMuY29tbWVudC5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dGhpcy53b3Jrc3BhY2Uuc2V0UmVzaXplc0VuYWJsZWQoITEpO2xldCBhOyhhPXRoaXMud29ya3NwYWNlLmdldExheWVyTWFuYWdlcigpKT09bnVsbHx8YS5tb3ZlVG9EcmFnTGF5ZXIodGhpcy5jb21tZW50KTt0aGlzLmNvbW1lbnQuc2V0RHJhZ2dpbmcoITApfWRyYWcoYSl7dGhpcy5jb21tZW50Lm1vdmVEdXJpbmdEcmFnKGEpfWVuZERyYWcoKXt0aGlzLmZpcmVEcmFnRW5kRXZlbnQoKTtcbnRoaXMuZmlyZU1vdmVFdmVudCgpO2xldCBhOyhhPXRoaXMud29ya3NwYWNlLmdldExheWVyTWFuYWdlcigpKT09bnVsbHx8YS5tb3ZlT2ZmRHJhZ0xheWVyKHRoaXMuY29tbWVudCxCTE9DSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyk7dGhpcy5jb21tZW50LnNldERyYWdnaW5nKCExKTt0aGlzLmNvbW1lbnQuc25hcFRvR3JpZCgpO3RoaXMud29ya3NwYWNlLnNldFJlc2l6ZXNFbmFibGVkKCEwKX1maXJlRHJhZ1N0YXJ0RXZlbnQoKXtjb25zdCBhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfRFJBRykpKHRoaXMuY29tbWVudCwhMCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX1maXJlRHJhZ0VuZEV2ZW50KCl7Y29uc3QgYT1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RSQUcpKSh0aGlzLmNvbW1lbnQsXG4hMSk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX1maXJlTW92ZUV2ZW50KCl7aWYoIXRoaXMuY29tbWVudC5pc0RlYWRPckR5aW5nKCkpe3ZhciBhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfTU9WRSkpKHRoaXMuY29tbWVudCk7YS5zZXRSZWFzb24oW1wiZHJhZ1wiXSk7YS5vbGRDb29yZGluYXRlXz10aGlzLnN0YXJ0TG9jO2EucmVjb3JkTmV3KCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX19cmV2ZXJ0RHJhZygpe3RoaXMuc3RhcnRMb2MmJnRoaXMuY29tbWVudC5tb3ZlRHVyaW5nRHJhZyh0aGlzLnN0YXJ0TG9jKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRjb21tZW50X2RyYWdfc3RyYXRlZ3k9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckY29tbWVudF9kcmFnX3N0cmF0ZWd5LkNvbW1lbnREcmFnU3RyYXRlZ3k9Q29tbWVudERyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGNvbW1lbnRfZHJhZ19zdHJhdGVneTt2YXIgd29ya3NwYWNlVG9EcmFnRGVsdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnPW5ldyBXZWFrTWFwLG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnLm1vdmU9bW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcuc3RhcnQ9c3RhcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnO3ZhciBDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9uPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQpe3RoaXMuaWQ9YTt0aGlzLndvcmtzcGFjZT1iO3RoaXMuY29udGFpbmVyPWM7dGhpcy5jb21tZW50Vmlldz1kfWlzVmlzaWJsZSgpe3JldHVybiB0aGlzLmljb24uY2hlY2tWaXNpYmlsaXR5KCl9Z2V0Q29tbWVudFZpZXcoKXtyZXR1cm4gdGhpcy5jb21tZW50Vmlld31nZXRTaXplKGE9ITEpe3ZhciBiPXRoaXMuaWNvbi5nZXRCQm94KCk7Yj1SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdC5mcm9tKGIpO2EmJihhPXRoaXMuZ2V0TWFyZ2luKCksYi5sZWZ0LT1hLGIudG9wLT1hLGIuYm90dG9tKz1hLGIucmlnaHQrPWEpO3JldHVybiBifWdldE1hcmdpbigpe3JldHVybih0aGlzLmNvbnRhaW5lci5nZXRCQm94KCkuaGVpZ2h0LXRoaXMuaWNvbi5nZXRCQm94KCkuaGVpZ2h0KS8yfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5pY29ufWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2V9b25Ob2RlRm9jdXMoKXtjb25zdCBhPVxudGhpcy5nZXRDb21tZW50VmlldygpO3ZhciBiPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2NvbnN0IGM9YS5nZXRTaXplKCk7Yj1uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYi55LGIueStjLmhlaWdodCxiLngsYi54K2Mud2lkdGgpO2Eud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KGIpfW9uTm9kZUJsdXIoKXt9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2Jhcl9idXR0b24uQ29tbWVudEJhckJ1dHRvbj1Db21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9uO3ZhciBDT01NRU5UX0NPTExBUFNFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbj1cIl9jb2xsYXBzZV9iYXJfYnV0dG9uXCIsQ29sbGFwc2VDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfYmFyX2J1dHRvbntjb25zdHJ1Y3RvcihhLGIsYyxkKXtzdXBlcihhLGIsYyxkKTt0aGlzLmlkPWE7dGhpcy53b3Jrc3BhY2U9Yjt0aGlzLmNvbnRhaW5lcj1jO3RoaXMuY29tbWVudFZpZXc9ZDt0aGlzLmljb249Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0UsXG57XCJjbGFzc1wiOlwiYmxvY2tseUZvbGRvdXRJY29uXCIsaHJlZjpgJHt0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhdGhUb01lZGlhfWZvbGRvdXQtaWNvbi5zdmdgLGlkOmAke3RoaXMuaWR9JHtDT01NRU5UX0NPTExBUFNFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbn1gfSx0aGlzLmNvbnRhaW5lcik7dGhpcy5iaW5kSWQ9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5pY29uLFwicG9pbnRlcmRvd25cIix0aGlzLHRoaXMucGVyZm9ybUFjdGlvbi5iaW5kKHRoaXMpKX1kaXNwb3NlKCl7dW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5iaW5kSWQpfXJlcG9zaXRpb24oKXtjb25zdCBhPXRoaXMuZ2V0TWFyZ2luKCk7dGhpcy5pY29uLnNldEF0dHJpYnV0ZShcInlcIixgJHthfWApO3RoaXMuaWNvbi5zZXRBdHRyaWJ1dGUoXCJ4XCIsXG5gJHthfWApfXBlcmZvcm1BY3Rpb24oYSl7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO3RoaXMuZ2V0Q29tbWVudFZpZXcoKS5icmluZ1RvRnJvbnQoKTthJiZhIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50JiZpc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk/YS5zdG9wUHJvcGFnYXRpb24oKToodGhpcy5nZXRDb21tZW50VmlldygpLnNldENvbGxhcHNlZCghdGhpcy5nZXRDb21tZW50VmlldygpLmlzQ29sbGFwc2VkKCkpLHRoaXMud29ya3NwYWNlLmhpZGVDaGFmZigpLGE9PW51bGx8fGEuc3RvcFByb3BhZ2F0aW9uKCkpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbj17Q09NTUVOVF9DT0xMQVBTRV9CQVJfQlVUVE9OX0ZPQ1VTX0lERU5USUZJRVI6Q09NTUVOVF9DT0xMQVBTRV9CQVJfQlVUVE9OX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb2xsYXBzZV9jb21tZW50X2Jhcl9idXR0b259O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbi5Db2xsYXBzZUNvbW1lbnRCYXJCdXR0b249Q29sbGFwc2VDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uO3ZhciBDT01NRU5UX0VESVRPUl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3I9XCJfY29tbWVudF90ZXh0YXJlYV9cIixDb21tZW50RWRpdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3I9Y2xhc3N7Y29uc3RydWN0b3IoYSxiLGMpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5vbkZpbmlzaEVkaXRpbmc9Yzt0aGlzLnRleHRDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy50ZXh0PVwiXCI7dGhpcy5mb3JlaWduT2JqZWN0PWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZPUkVJR05PQkpFQ1Qse1wiY2xhc3NcIjpcImJsb2NrbHlDb21tZW50Rm9yZWlnbk9iamVjdFwifSk7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoSFRNTF9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcImJvZHlcIik7XG5hLnNldEF0dHJpYnV0ZShcInhtbG5zXCIsSFRNTF9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSk7YS5jbGFzc05hbWU9XCJibG9ja2x5TWluaW1hbEJvZHlcIjt0aGlzLnRleHRBcmVhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhIVE1MX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwidGV4dGFyZWFcIik7dGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIik7dGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJkaXJcIix0aGlzLndvcmtzcGFjZS5SVEw/XCJSVExcIjpcIkxUUlwiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnRleHRBcmVhLFwiYmxvY2tseUNvbW1lbnRUZXh0XCIpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMudGV4dEFyZWEsXCJibG9ja2x5VGV4dGFyZWFcIik7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy50ZXh0QXJlYSxcblwiYmxvY2tseVRleHRcIik7YS5hcHBlbmRDaGlsZCh0aGlzLnRleHRBcmVhKTt0aGlzLmZvcmVpZ25PYmplY3QuYXBwZW5kQ2hpbGQoYSk7YiYmKHRoaXMuaWQ9YitDT01NRU5UX0VESVRPUl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3IsdGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuaWQpKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnRleHRBcmVhLFwiY2hhbmdlXCIsdGhpcyx0aGlzLm9uVGV4dENoYW5nZSk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy50ZXh0QXJlYSxcInBvaW50ZXJkb3duXCIsdGhpcyxkPT57ZC5zdG9wUHJvcGFnYXRpb24oKTskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcyk7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpfSk7XG5jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnRleHRBcmVhLFwid2hlZWxcIix0aGlzLGQ9PntkLnN0b3BQcm9wYWdhdGlvbigpfSk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy50ZXh0QXJlYSxcImtleWRvd25cIix0aGlzLHRoaXMuaGFuZGxlS2V5RG93bil9Z2V0RG9tKCl7cmV0dXJuIHRoaXMuZm9yZWlnbk9iamVjdH1nZXRUZXh0KCl7cmV0dXJuIHRoaXMudGV4dH1zZXRUZXh0KGEpe3RoaXMudGV4dEFyZWEudmFsdWU9YTt0aGlzLm9uVGV4dENoYW5nZSgpfW9uVGV4dENoYW5nZSgpe2NvbnN0IGE9dGhpcy50ZXh0O3RoaXMudGV4dD10aGlzLnRleHRBcmVhLnZhbHVlO2ZvcihsZXQgYj10aGlzLnRleHRDaGFuZ2VMaXN0ZW5lcnMubGVuZ3RoLTE7Yj49MDtiLS0pdGhpcy50ZXh0Q2hhbmdlTGlzdGVuZXJzW2JdKGEsdGhpcy50ZXh0KX1oYW5kbGVLZXlEb3duKGEpe2lmKGEua2V5PT09XG5cIkVzY2FwZVwifHxhLmtleT09PVwiRW50ZXJcIiYmKGEuY3RybEtleXx8YS5tZXRhS2V5KSl7aWYodGhpcy5vbkZpbmlzaEVkaXRpbmcpdGhpcy5vbkZpbmlzaEVkaXRpbmcoKTthLnN0b3BQcm9wYWdhdGlvbigpfX1hZGRUZXh0Q2hhbmdlTGlzdGVuZXIoYSl7dGhpcy50ZXh0Q2hhbmdlTGlzdGVuZXJzLnB1c2goYSl9cmVtb3ZlVGV4dENoYW5nZUxpc3RlbmVyKGEpe3RoaXMudGV4dENoYW5nZUxpc3RlbmVycy5zcGxpY2UodGhpcy50ZXh0Q2hhbmdlTGlzdGVuZXJzLmluZGV4T2YoYSksMSl9c2V0UGxhY2Vob2xkZXJUZXh0KGEpe3RoaXMudGV4dEFyZWEucGxhY2Vob2xkZXI9YX1zZXRFZGl0YWJsZShhKXthP3RoaXMudGV4dEFyZWEucmVtb3ZlQXR0cmlidXRlKFwicmVhZG9ubHlcIik6dGhpcy50ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLFwidHJ1ZVwiKX11cGRhdGVTaXplKGEsYil7dGhpcy5mb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGAke2EuaGVpZ2h0LWIuaGVpZ2h0fWApO1xudGhpcy5mb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYCR7YS53aWR0aH1gKTt0aGlzLmZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwieVwiLGAke2IuaGVpZ2h0fWApO3RoaXMud29ya3NwYWNlLlJUTCYmdGhpcy5mb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZShcInhcIixgJHstYS53aWR0aH1gKX1nZXRGb2N1c2FibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMudGV4dEFyZWF9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe2NvbnN0IGE9UmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QuZnJvbSh0aGlzLmZvcmVpZ25PYmplY3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3RoaXMud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0LmNyZWF0ZUZyb21Qb2ludChzY3JlZW5Ub1dzQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCh0aGlzLndvcmtzcGFjZSxcbmEuZ2V0T3JpZ2luKCkpLGEuZ2V0V2lkdGgoKSxhLmdldEhlaWdodCgpKSl9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4gdGhpcy5pZD8hMDohMX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcj17Q09NTUVOVF9FRElUT1JfRk9DVVNfSURFTlRJRklFUjpDT01NRU5UX0VESVRPUl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3J9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvci5Db21tZW50RWRpdG9yPUNvbW1lbnRFZGl0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcjt2YXIgQ09NTUVOVF9ERUxFVEVfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbj1cIl9kZWxldGVfYmFyX2J1dHRvblwiLERlbGV0ZUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRkZWxldGVfY29tbWVudF9iYXJfYnV0dG9uPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfYmFyX2J1dHRvbntjb25zdHJ1Y3RvcihhLGIsYyxkKXtzdXBlcihhLGIsYyxkKTt0aGlzLmlkPWE7dGhpcy53b3Jrc3BhY2U9Yjt0aGlzLmNvbnRhaW5lcj1jO3RoaXMuY29tbWVudFZpZXc9ZDt0aGlzLmljb249Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use1wiY2xhc3NcIjpcImJsb2NrbHlEZWxldGVJY29uXCIsXG5ocmVmOmAke3RoaXMud29ya3NwYWNlLm9wdGlvbnMucGF0aFRvTWVkaWF9ZGVsZXRlLWljb24uc3ZnYCxpZDpgJHt0aGlzLmlkfSR7Q09NTUVOVF9ERUxFVEVfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbn1gfSxjKTt0aGlzLmJpbmRJZD1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmljb24sXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5wZXJmb3JtQWN0aW9uLmJpbmQodGhpcykpfWRpc3Bvc2UoKXt1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmJpbmRJZCl9cmVwb3NpdGlvbigpe2NvbnN0IGE9dGhpcy5nZXRNYXJnaW4oKTt0aGlzLmljb24uc2V0QXR0cmlidXRlKFwieFwiLFwiMFwiKTtjb25zdCBiPXRoaXMuY29udGFpbmVyLmdldEJCb3goKTt0aGlzLmljb24uc2V0QXR0cmlidXRlKFwieVwiLFxuYCR7YX1gKTt0aGlzLmljb24uc2V0QXR0cmlidXRlKFwieFwiLGAke2Iud2lkdGgtdGhpcy5nZXRTaXplKCEwKS5nZXRXaWR0aCgpfWApfXBlcmZvcm1BY3Rpb24oYSl7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO2EmJmEgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQmJmlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKT9hLnN0b3BQcm9wYWdhdGlvbigpOih0aGlzLmdldENvbW1lbnRWaWV3KCkuZGlzcG9zZSgpLGE9PW51bGx8fGEuc3RvcFByb3BhZ2F0aW9uKCksJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKHRoaXMud29ya3NwYWNlKSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbj17Q09NTUVOVF9ERUxFVEVfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSOkNPTU1FTlRfREVMRVRFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGRlbGV0ZV9jb21tZW50X2Jhcl9idXR0b259O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGRlbGV0ZV9jb21tZW50X2Jhcl9idXR0b24uRGVsZXRlQ29tbWVudEJhckJ1dHRvbj1EZWxldGVDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbjt2YXIgQ29tbWVudFZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXc9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMuY29tbWVudElkPWI7dGhpcy5jb2xsYXBzZWQ9ITE7dGhpcy5lZGl0YWJsZT0hMDt0aGlzLmxvY2F0aW9uPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuc2l6ZUNoYW5nZUxpc3RlbmVycz1bXTt0aGlzLmRpc3Bvc2VMaXN0ZW5lcnM9W107dGhpcy5jb2xsYXBzZUNoYW5nZUxpc3RlbmVycz1bXTt0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXI9dGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lcj1udWxsO3RoaXMuZGlzcG9zZWQ9dGhpcy5kaXNwb3Npbmc9ITE7dGhpcy5zdmdSb290PWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcsXG57XCJjbGFzc1wiOlwiYmxvY2tseUNvbW1lbnQgYmxvY2tseUVkaXRhYmxlIGJsb2NrbHlEcmFnZ2FibGVcIn0pO3RoaXMuaGlnaGxpZ2h0UmVjdD10aGlzLmNyZWF0ZUhpZ2hsaWdodFJlY3QodGhpcy5zdmdSb290KTsoe3RvcEJhckdyb3VwOnRoaXMudG9wQmFyR3JvdXAsdG9wQmFyQmFja2dyb3VuZDp0aGlzLnRvcEJhckJhY2tncm91bmQsZGVsZXRlQnV0dG9uOnRoaXMuZGVsZXRlQnV0dG9uLGZvbGRvdXRCdXR0b246dGhpcy5mb2xkb3V0QnV0dG9uLHRleHRQcmV2aWV3OnRoaXMudGV4dFByZXZpZXcsdGV4dFByZXZpZXdOb2RlOnRoaXMudGV4dFByZXZpZXdOb2RlfT10aGlzLmNyZWF0ZVRvcEJhcih0aGlzLnN2Z1Jvb3QpKTt0aGlzLmNvbW1lbnRFZGl0b3I9dGhpcy5jcmVhdGVUZXh0QXJlYSgpO3RoaXMucmVzaXplSGFuZGxlPXRoaXMuY3JlYXRlUmVzaXplSGFuZGxlKHRoaXMuc3ZnUm9vdCxhKTtsZXQgYzsoYz1hLmdldExheWVyTWFuYWdlcigpKT09bnVsbHx8Yy5hcHBlbmQodGhpcyxcbkJMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzKTt0aGlzLnNpemU9Q29tbWVudFZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXcuZGVmYXVsdENvbW1lbnRTaXplO3RoaXMuc2V0U2l6ZVdpdGhvdXRGaXJpbmdFdmVudHModGhpcy5zaXplKTt0aGlzLm1vdmVUbyhuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKSl9Y3JlYXRlSGlnaGxpZ2h0UmVjdChhKXtyZXR1cm4gY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseUNvbW1lbnRIaWdobGlnaHRcIn0sYSl9Y3JlYXRlVG9wQmFyKGEpe2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyxcbntcImNsYXNzXCI6XCJibG9ja2x5Q29tbWVudFRvcGJhclwifSxhKTtjb25zdCBiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse1wiY2xhc3NcIjpcImJsb2NrbHlDb21tZW50VG9wYmFyQmFja2dyb3VuZFwifSxhKSxjPW5ldyBEZWxldGVDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbih0aGlzLmNvbW1lbnRJZCx0aGlzLndvcmtzcGFjZSxhLHRoaXMpLGQ9bmV3IENvbGxhcHNlQ29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbih0aGlzLmNvbW1lbnRJZCx0aGlzLndvcmtzcGFjZSxhLHRoaXMpO3RoaXMuYWRkRGlzcG9zZUxpc3RlbmVyKCgpPT57Yy5kaXNwb3NlKCk7ZC5kaXNwb3NlKCl9KTtjb25zdCBlPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlRFWFQsXG57XCJjbGFzc1wiOlwiYmxvY2tseUNvbW1lbnRQcmV2aWV3IGJsb2NrbHlDb21tZW50VGV4dCBibG9ja2x5VGV4dFwifSxhKSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2UuYXBwZW5kQ2hpbGQoZik7cmV0dXJue3RvcEJhckdyb3VwOmEsdG9wQmFyQmFja2dyb3VuZDpiLGRlbGV0ZUJ1dHRvbjpjLGZvbGRvdXRCdXR0b246ZCx0ZXh0UHJldmlldzplLHRleHRQcmV2aWV3Tm9kZTpmfX1jcmVhdGVUZXh0QXJlYSgpe2NvbnN0IGE9bmV3IENvbW1lbnRFZGl0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcih0aGlzLndvcmtzcGFjZSx0aGlzLmNvbW1lbnRJZCwoKT0+dGhpcy5zdmdSb290LmZvY3VzKCkpO3RoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZChhLmdldERvbSgpKTthLmFkZFRleHRDaGFuZ2VMaXN0ZW5lcigoYixjKT0+e3RoaXMudXBkYXRlVGV4dFByZXZpZXcoYyk7dGhpcy5zZXRTaXplKHRoaXMuc2l6ZSl9KTtyZXR1cm4gYX1nZXRFZGl0b3JGb2N1c2FibGVOb2RlKCl7cmV0dXJuIHRoaXMuY29tbWVudEVkaXRvcn1jcmVhdGVSZXNpemVIYW5kbGUoYSxcbmIpe2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use1wiY2xhc3NcIjpcImJsb2NrbHlSZXNpemVIYW5kbGVcIixocmVmOmAke2Iub3B0aW9ucy5wYXRoVG9NZWRpYX1yZXNpemUtaGFuZGxlLnN2Z2B9LGEpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vblJlc2l6ZVBvaW50ZXJEb3duKTtyZXR1cm4gYX1nZXRTdmdSb290KCl7cmV0dXJuIHRoaXMuc3ZnUm9vdH1nZXRTaXplKCl7cmV0dXJuIHRoaXMuY29sbGFwc2VkP3RoaXMudG9wQmFyQmFja2dyb3VuZC5nZXRCQm94KCk6dGhpcy5zaXplfXNldFNpemVXaXRob3V0RmlyaW5nRXZlbnRzKGEpe2NvbnN0IGI9dGhpcy50b3BCYXJCYWNrZ3JvdW5kLmdldEJCb3goKSxjPXRoaXMudGV4dFByZXZpZXcuZ2V0QkJveCgpLGQ9dGhpcy5yZXNpemVIYW5kbGUuZ2V0QkJveCgpO1xudGhpcy5zaXplPWE9U2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUubWF4KGEsdGhpcy5jYWxjTWluU2l6ZShiKSk7dGhpcy5zdmdSb290LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGAke2EuaGVpZ2h0fWApO3RoaXMuc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGAke2Eud2lkdGh9YCk7dGhpcy51cGRhdGVIaWdobGlnaHRSZWN0KGEpO3RoaXMudXBkYXRlVG9wQmFyU2l6ZShhKTt0aGlzLmNvbW1lbnRFZGl0b3IudXBkYXRlU2l6ZShhLGIpO3RoaXMuZGVsZXRlQnV0dG9uLnJlcG9zaXRpb24oKTt0aGlzLmZvbGRvdXRCdXR0b24ucmVwb3NpdGlvbigpO3RoaXMudXBkYXRlVGV4dFByZXZpZXdTaXplKGEsYixjKTt0aGlzLnVwZGF0ZVJlc2l6ZUhhbmRsZVBvc2l0aW9uKGEsZCl9c2V0U2l6ZShhKXtjb25zdCBiPXRoaXMucHJlUmVzaXplU2l6ZXx8dGhpcy5zaXplO3RoaXMuc2V0U2l6ZVdpdGhvdXRGaXJpbmdFdmVudHMoYSk7dGhpcy5vblNpemVDaGFuZ2UoYixcbnRoaXMuc2l6ZSl9Y2FsY01pblNpemUoYSl7dmFyIGI7dGhpcy51cGRhdGVUZXh0UHJldmlldygoYj10aGlzLmNvbW1lbnRFZGl0b3IuZ2V0VGV4dCgpKSE9bnVsbD9iOlwiXCIpO2xldCBjPWI9Z2V0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMudGV4dFByZXZpZXcpO3RoaXMuZm9sZG91dEJ1dHRvbi5pc1Zpc2libGUoKT9jKz10aGlzLmZvbGRvdXRCdXR0b24uZ2V0U2l6ZSghMCkuZ2V0V2lkdGgoKTpiJiYoYys9NCk7dGhpcy5kZWxldGVCdXR0b24uaXNWaXNpYmxlKCk/Yys9dGhpcy5kZWxldGVCdXR0b24uZ2V0U2l6ZSghMCkuZ2V0V2lkdGgoKTpiJiYoYys9NCk7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShjLGEuaGVpZ2h0KzIwKX11cGRhdGVIaWdobGlnaHRSZWN0KGEpe3RoaXMuaGlnaGxpZ2h0UmVjdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixgJHthLmhlaWdodH1gKTt0aGlzLmhpZ2hsaWdodFJlY3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIixcbmAke2Eud2lkdGh9YCk7dGhpcy53b3Jrc3BhY2UuUlRMJiZ0aGlzLmhpZ2hsaWdodFJlY3Quc2V0QXR0cmlidXRlKFwieFwiLGAkey1hLndpZHRofWApfXVwZGF0ZVRvcEJhclNpemUoYSl7dGhpcy50b3BCYXJCYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYCR7YS53aWR0aH1gKX11cGRhdGVUZXh0UHJldmlld1NpemUoYSxiLGMpe2I9KGIuaGVpZ2h0LWMuaGVpZ2h0KS8yO2NvbnN0IGQ9dGhpcy5mb2xkb3V0QnV0dG9uLmdldFNpemUoITApLGU9dGhpcy5kZWxldGVCdXR0b24uZ2V0U2l6ZSghMCk7YT1hLndpZHRoLWQuZ2V0V2lkdGgoKS1lLmdldFdpZHRoKCk7dGhpcy50ZXh0UHJldmlldy5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7KHRoaXMud29ya3NwYWNlLlJUTD8tMToxKSpkLmdldFdpZHRoKCl9YCk7dGhpcy50ZXh0UHJldmlldy5zZXRBdHRyaWJ1dGUoXCJ5XCIsYCR7YitjLmhlaWdodC8yfWApO3RoaXMudGV4dFByZXZpZXcuc2V0QXR0cmlidXRlKFwid2lkdGhcIixgJHthfWApfXVwZGF0ZVJlc2l6ZUhhbmRsZVBvc2l0aW9uKGEsXG5iKXt0aGlzLnJlc2l6ZUhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJ5XCIsYCR7YS5oZWlnaHQtYi5oZWlnaHR9YCk7dGhpcy5yZXNpemVIYW5kbGUuc2V0QXR0cmlidXRlKFwieFwiLGAke2Eud2lkdGgtYi53aWR0aH1gKX1vblNpemVDaGFuZ2UoYSxiKXtmb3IobGV0IGM9dGhpcy5zaXplQ2hhbmdlTGlzdGVuZXJzLmxlbmd0aC0xO2M+PTA7Yy0tKXRoaXMuc2l6ZUNoYW5nZUxpc3RlbmVyc1tjXShhLGIpfWFkZFNpemVDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnMucHVzaChhKX1yZW1vdmVTaXplQ2hhbmdlTGlzdGVuZXIoYSl7dGhpcy5zaXplQ2hhbmdlTGlzdGVuZXJzLnNwbGljZSh0aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnMuaW5kZXhPZihhKSwxKX1vblJlc2l6ZVBvaW50ZXJEb3duKGEpe3RoaXMuaXNFZGl0YWJsZSgpJiYodGhpcy5icmluZ1RvRnJvbnQoKSxpc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSl8fCh0aGlzLnByZVJlc2l6ZVNpemU9XG50aGlzLmdldFNpemUoKSxzdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcodGhpcy53b3Jrc3BhY2UsYSxuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUodGhpcy53b3Jrc3BhY2UuUlRMPy10aGlzLmdldFNpemUoKS53aWR0aDp0aGlzLmdldFNpemUoKS53aWR0aCx0aGlzLmdldFNpemUoKS5oZWlnaHQpKSx0aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGRvY3VtZW50LFwicG9pbnRlcnVwXCIsdGhpcyx0aGlzLm9uUmVzaXplUG9pbnRlclVwKSx0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVybW92ZVwiLHRoaXMsdGhpcy5vblJlc2l6ZVBvaW50ZXJNb3ZlKSx0aGlzLndvcmtzcGFjZS5oaWRlQ2hhZmYoKSksXG5hLnN0b3BQcm9wYWdhdGlvbigpKX1vblJlc2l6ZVBvaW50ZXJVcChhKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7dGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMucmVzaXplUG9pbnRlclVwTGlzdGVuZXIpLHRoaXMucmVzaXplUG9pbnRlclVwTGlzdGVuZXI9bnVsbCk7dGhpcy5yZXNpemVQb2ludGVyTW92ZUxpc3RlbmVyJiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5yZXNpemVQb2ludGVyTW92ZUxpc3RlbmVyKSx0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXI9bnVsbCk7dGhpcy5zZXRTaXplKHRoaXMuc2l6ZSk7dGhpcy5wcmVSZXNpemVTaXplPXZvaWQgMH1vblJlc2l6ZVBvaW50ZXJNb3ZlKGEpe2E9bW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcodGhpcy53b3Jrc3BhY2UsXG5hKTt0aGlzLnNldFNpemVXaXRob3V0RmlyaW5nRXZlbnRzKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSh0aGlzLndvcmtzcGFjZS5SVEw/LWEueDphLngsYS55KSl9aXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5jb2xsYXBzZWR9c2V0Q29sbGFwc2VkKGEpeyh0aGlzLmNvbGxhcHNlZD1hKT9hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QsXCJibG9ja2x5Q29sbGFwc2VkXCIpOnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlDb2xsYXBzZWRcIik7dGhpcy5zZXRTaXplV2l0aG91dEZpcmluZ0V2ZW50cyh0aGlzLnNpemUpO3RoaXMub25Db2xsYXBzZSgpfW9uQ29sbGFwc2UoKXtmb3IobGV0IGE9dGhpcy5jb2xsYXBzZUNoYW5nZUxpc3RlbmVycy5sZW5ndGgtMTthPj0wO2EtLSl0aGlzLmNvbGxhcHNlQ2hhbmdlTGlzdGVuZXJzW2FdKHRoaXMuY29sbGFwc2VkKX1hZGRPbkNvbGxhcHNlTGlzdGVuZXIoYSl7dGhpcy5jb2xsYXBzZUNoYW5nZUxpc3RlbmVycy5wdXNoKGEpfXJlbW92ZU9uQ29sbGFwc2VMaXN0ZW5lcihhKXt0aGlzLmNvbGxhcHNlQ2hhbmdlTGlzdGVuZXJzLnNwbGljZSh0aGlzLmNvbGxhcHNlQ2hhbmdlTGlzdGVuZXJzLmluZGV4T2YoYSksXG4xKX1pc0VkaXRhYmxlKCl7cmV0dXJuIHRoaXMuZWRpdGFibGV9c2V0RWRpdGFibGUoYSl7KHRoaXMuZWRpdGFibGU9YSk/KGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlFZGl0YWJsZVwiKSxyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QsXCJibG9ja2x5UmVhZG9ubHlcIikpOihyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QsXCJibG9ja2x5RWRpdGFibGVcIiksYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseVJlYWRvbmx5XCIpKTt0aGlzLmNvbW1lbnRFZGl0b3Iuc2V0RWRpdGFibGUoYSl9Z2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpe3JldHVybiB0aGlzLmxvY2F0aW9ufW1vdmVUbyhhKXt0aGlzLmxvY2F0aW9uPWE7dGhpcy5zdmdSb290LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFxuYHRyYW5zbGF0ZSgke2EueH0sICR7YS55fSlgKX1nZXRUZXh0KCl7cmV0dXJuIHRoaXMuY29tbWVudEVkaXRvci5nZXRUZXh0KCl9c2V0VGV4dChhKXt0aGlzLmNvbW1lbnRFZGl0b3Iuc2V0VGV4dChhKX1zZXRQbGFjZWhvbGRlclRleHQoYSl7dGhpcy5jb21tZW50RWRpdG9yLnNldFBsYWNlaG9sZGVyVGV4dChhKX1hZGRUZXh0Q2hhbmdlTGlzdGVuZXIoYSl7dGhpcy5jb21tZW50RWRpdG9yLmFkZFRleHRDaGFuZ2VMaXN0ZW5lcihhKX1yZW1vdmVUZXh0Q2hhbmdlTGlzdGVuZXIoYSl7dGhpcy5jb21tZW50RWRpdG9yLnJlbW92ZVRleHRDaGFuZ2VMaXN0ZW5lcihhKX11cGRhdGVUZXh0UHJldmlldyhhKXt0aGlzLnRleHRQcmV2aWV3Tm9kZS50ZXh0Q29udGVudD10aGlzLnRydW5jYXRlVGV4dChhKX10cnVuY2F0ZVRleHQoYSl7cmV0dXJuIGEubGVuZ3RoPj0xMj9gJHthLnN1YnN0cmluZygwLDkpfS4uLmA6YX1icmluZ1RvRnJvbnQoKXtjb25zdCBhPXRoaXMuc3ZnUm9vdC5wYXJlbnROb2RlLFxuYj1hLmNoaWxkTm9kZXM7YltiLmxlbmd0aC0xXSE9PXRoaXMuc3ZnUm9vdCYmYS5hcHBlbmRDaGlsZCh0aGlzLnN2Z1Jvb3QpfW9uRGVsZXRlRG93bihhKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7aXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpfHx0aGlzLmRpc3Bvc2UoKTthLnN0b3BQcm9wYWdhdGlvbigpfWRpc3Bvc2UoKXt0aGlzLmRpc3Bvc2luZz0hMDtyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCk7Zm9yKGxldCBhPXRoaXMuZGlzcG9zZUxpc3RlbmVycy5sZW5ndGgtMTthPj0wO2EtLSl0aGlzLmRpc3Bvc2VMaXN0ZW5lcnNbYV0oKTt0aGlzLmRpc3Bvc2VMaXN0ZW5lcnMubGVuZ3RoPTA7dGhpcy5kaXNwb3NlZD0hMH1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuZGlzcG9zZWR9aXNEZWFkT3JEeWluZygpe3JldHVybiB0aGlzLmRpc3Bvc2luZ3x8XG50aGlzLmRpc3Bvc2VkfWFkZERpc3Bvc2VMaXN0ZW5lcihhKXt0aGlzLmRpc3Bvc2VMaXN0ZW5lcnMucHVzaChhKX1yZW1vdmVEaXNwb3NlTGlzdGVuZXIoYSl7dGhpcy5kaXNwb3NlTGlzdGVuZXJzLnNwbGljZSh0aGlzLmRpc3Bvc2VMaXN0ZW5lcnMuaW5kZXhPZihhKSwxKX1nZXRDb21tZW50QmFyQnV0dG9ucygpe3JldHVyblt0aGlzLmZvbGRvdXRCdXR0b24sdGhpcy5kZWxldGVCdXR0b25dfX07Q29tbWVudFZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXcuZGVmYXVsdENvbW1lbnRTaXplPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgxMjAsMTAwKTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcyhcIlxcbi5pbmplY3Rpb25EaXYge1xcbiAgLS1jb21tZW50RmlsbENvbG91cjogI0ZGRkNDNztcXG4gIC0tY29tbWVudEJvcmRlckNvbG91cjogI0YyRTQ5QjtcXG59XFxuXFxuLmJsb2NrbHlDb21tZW50IC5ibG9ja2x5VGV4dGFyZWEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29tbWVudEZpbGxDb2xvdXIpO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29tbWVudEJvcmRlckNvbG91cik7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBvdXRsaW5lOiAwO1xcbiAgcGFkZGluZzogNXB4O1xcbiAgcmVzaXplOiBub25lO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5ibG9ja2x5UmVhZG9ubHkuYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlUZXh0YXJlYSB7XFxuICBjdXJzb3I6IGluaGVyaXQ7XFxufVxcblxcbi5ibG9ja2x5RGVsZXRlSWNvbiB7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5ibG9ja2x5Rm9sZG91dEljb24ge1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICB0cmFuc2Zvcm0tb3JpZ2luOiAxMnB4IDEycHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5ibG9ja2x5UmVzaXplSGFuZGxlIHtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAxMnB4O1xcbiAgY3Vyc29yOiBzZS1yZXNpemU7XFxufVxcbi5ibG9ja2x5UmVhZG9ubHkuYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlSZXNpemVIYW5kbGUge1xcbiAgY3Vyc29yOiBpbmhlcml0O1xcbn1cXG5cXG4uYmxvY2tseUNvbW1lbnRUb3BiYXJCYWNrZ3JvdW5kIHtcXG4gIGZpbGw6IHZhcigtLWNvbW1lbnRCb3JkZXJDb2xvdXIpO1xcbiAgaGVpZ2h0OiAyNHB4O1xcbn1cXG5cXG4uYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlDb21tZW50UHJldmlldy5ibG9ja2x5VGV4dCB7XFxuICBmaWxsOiAjMDAwO1xcbiAgZG9taW5hbnQtYmFzZWxpbmU6IG1pZGRsZTtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG59XFxuXFxuLmJsb2NrbHlDb2xsYXBzZWQuYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlDb21tZW50UHJldmlldyB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG5cXG4uYmxvY2tseUNvbGxhcHNlZC5ibG9ja2x5Q29tbWVudCAuYmxvY2tseUNvbW1lbnRGb3JlaWduT2JqZWN0LFxcbi5ibG9ja2x5Q29sbGFwc2VkLmJsb2NrbHlDb21tZW50IC5ibG9ja2x5UmVzaXplSGFuZGxlIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Q29sbGFwc2VkLmJsb2NrbHlDb21tZW50IC5ibG9ja2x5Rm9sZG91dEljb24ge1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcXG59XFxuXFxuLmJsb2NrbHlSVEwgLmJsb2NrbHlDb21tZW50VG9wYmFyIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoLTEsIDEpO1xcbn1cXG5cXG4uYmxvY2tseVJUTCAuYmxvY2tseUNvbW1lbnRGb3JlaWduT2JqZWN0IHtcXG4gIGRpcmVjdGlvbjogcnRsO1xcbn1cXG5cXG4uYmxvY2tseVJUTCAuYmxvY2tseUNvbW1lbnRQcmV2aWV3IHtcXG4gIC8qIFJldmVydCB0aGUgc2NhbGUgYW5kIGNvbnRyb2wgUlRMIHVzaW5nIGRpcmVjdGlvbiBpbnN0ZWFkLiAqL1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgtMSwgMSk7XFxuICBkaXJlY3Rpb246IHJ0bDtcXG59XFxuXFxuLmJsb2NrbHlSVEwgLmJsb2NrbHlSZXNpemVIYW5kbGUge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgtMSwgMSk7XFxuICBjdXJzb3I6IHN3LXJlc2l6ZTtcXG59XFxuXFxuLmJsb2NrbHlDb21tZW50SGlnaGxpZ2h0IHtcXG4gIGZpbGw6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Q29tbWVudFRleHQuYmxvY2tseUFjdGl2ZUZvY3VzIHtcXG4gIGJvcmRlci1jb2xvcjogI2ZjMztcXG4gIGJvcmRlci13aWR0aDogMnB4O1xcbn1cXG5cXG4uYmxvY2tseVNlbGVjdGVkIC5ibG9ja2x5Q29tbWVudEhpZ2hsaWdodCB7XFxuICBzdHJva2U6ICNmYzM7XFxuICBzdHJva2Utd2lkdGg6IDNweDtcXG59XFxuXFxuLmJsb2NrbHlDb2xsYXBzZWQuYmxvY2tseVNlbGVjdGVkIC5ibG9ja2x5Q29tbWVudEhpZ2hsaWdodCB7XFxuICBzdHJva2U6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Q29sbGFwc2VkLmJsb2NrbHlTZWxlY3RlZCAuYmxvY2tseUNvbW1lbnRUb3BiYXJCYWNrZ3JvdW5kIHtcXG4gIHN0cm9rZTogI2ZjMztcXG4gIHN0cm9rZS13aWR0aDogM3B4O1xcbn1cXG5cIik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfdmlldz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF92aWV3LkNvbW1lbnRWaWV3PUNvbW1lbnRWaWV3JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF92aWV3O3ZhciBXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkd29ya3NwYWNlX2NvbW1lbnQ9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMudGV4dD1cIlwiO3RoaXMuY29sbGFwc2VkPSExO3RoaXMuZGVsZXRhYmxlPXRoaXMubW92YWJsZT10aGlzLmVkaXRhYmxlPSEwO3RoaXMubG9jYXRpb249bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5kaXNwb3Npbmc9dGhpcy5kaXNwb3NlZD0hMTt0aGlzLmlkPWImJiFhLmdldENvbW1lbnRCeUlkKGIpP2I6Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTt0aGlzLnNpemU9Q29tbWVudFZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXcuZGVmYXVsdENvbW1lbnRTaXplO2EuYWRkVG9wQ29tbWVudCh0aGlzKTt0aGlzLmZpcmVDcmVhdGVFdmVudCgpfWZpcmVDcmVhdGVFdmVudCgpe2lzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiZcbmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DUkVBVEUpKSh0aGlzKSl9ZmlyZURlbGV0ZUV2ZW50KCl7aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9ERUxFVEUpKSh0aGlzKSl9ZmlyZUNoYW5nZUV2ZW50KGEsYil7aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DSEFOR0UpKSh0aGlzLFxuYSxiKSl9ZmlyZUNvbGxhcHNlRXZlbnQoYSl7aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DT0xMQVBTRSkpKHRoaXMsYSkpfXNldFRleHQoYSl7Y29uc3QgYj10aGlzLnRleHQ7dGhpcy50ZXh0PWE7dGhpcy5maXJlQ2hhbmdlRXZlbnQoYixhKX1nZXRUZXh0KCl7cmV0dXJuIHRoaXMudGV4dH1zZXRTaXplKGEpe2NvbnN0IGI9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9SRVNJWkUpKSh0aGlzKTt0aGlzLnNpemU9YTtiLnJlY29yZEN1cnJlbnRTaXplQXNOZXdTaXplKCk7XG5maXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpfWdldFNpemUoKXtyZXR1cm4gdGhpcy5zaXplfXNldENvbGxhcHNlZChhKXt0aGlzLmNvbGxhcHNlZD1hO3RoaXMuZmlyZUNvbGxhcHNlRXZlbnQoYSl9aXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5jb2xsYXBzZWR9c2V0RWRpdGFibGUoYSl7dGhpcy5lZGl0YWJsZT1hfWlzRWRpdGFibGUoKXtyZXR1cm4gdGhpcy5pc093bkVkaXRhYmxlKCkmJiF0aGlzLndvcmtzcGFjZS5pc1JlYWRPbmx5KCl9aXNPd25FZGl0YWJsZSgpe3JldHVybiB0aGlzLmVkaXRhYmxlfXNldE1vdmFibGUoYSl7dGhpcy5tb3ZhYmxlPWF9aXNNb3ZhYmxlKCl7cmV0dXJuIHRoaXMuaXNPd25Nb3ZhYmxlKCkmJiF0aGlzLndvcmtzcGFjZS5pc1JlYWRPbmx5KCkmJiF0aGlzLndvcmtzcGFjZS5pc0ZseW91dH1pc093bk1vdmFibGUoKXtyZXR1cm4gdGhpcy5tb3ZhYmxlfXNldERlbGV0YWJsZShhKXt0aGlzLmRlbGV0YWJsZT1hfWlzRGVsZXRhYmxlKCl7cmV0dXJuIHRoaXMuaXNPd25EZWxldGFibGUoKSYmXG4hdGhpcy5pc0RlYWRPckR5aW5nKCkmJiF0aGlzLndvcmtzcGFjZS5pc1JlYWRPbmx5KCkmJiF0aGlzLndvcmtzcGFjZS5pc0ZseW91dH1pc093bkRlbGV0YWJsZSgpe3JldHVybiB0aGlzLmRlbGV0YWJsZX1tb3ZlVG8oYSxiKXtjb25zdCBjPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfTU9WRSkpKHRoaXMpO2ImJmMuc2V0UmVhc29uKGIpO3RoaXMubG9jYXRpb249YTtjLnJlY29yZE5ldygpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYyl9Z2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpe3JldHVybiB0aGlzLmxvY2F0aW9ufWRpc3Bvc2UoKXt0aGlzLmRpc3Bvc2luZz0hMDt0aGlzLmZpcmVEZWxldGVFdmVudCgpO3RoaXMud29ya3NwYWNlLnJlbW92ZVRvcENvbW1lbnQodGhpcyk7dGhpcy5kaXNwb3NlZD0hMH1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuZGlzcG9zZWR9aXNEZWFkT3JEeWluZygpe3JldHVybiB0aGlzLmRpc3Bvc2luZ3x8XG50aGlzLmRpc3Bvc2VkfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHdvcmtzcGFjZV9jb21tZW50PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudC5Xb3Jrc3BhY2VDb21tZW50PVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudDt2YXIgUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQ9Y2xhc3MgZXh0ZW5kcyBXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkd29ya3NwYWNlX2NvbW1lbnR7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMuZHJhZ1N0cmF0ZWd5PW5ldyBDb21tZW50RHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckY29tbWVudF9kcmFnX3N0cmF0ZWd5KHRoaXMpO3RoaXMud29ya3NwYWNlPWE7dGhpcy52aWV3PW5ldyBDb21tZW50VmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfdmlldyhhLHRoaXMuaWQpO3RoaXMudmlldy5zZXRTaXplKHRoaXMuZ2V0U2l6ZSgpKTt0aGlzLnZpZXcuc2V0RWRpdGFibGUodGhpcy5pc0VkaXRhYmxlKCkpO3RoaXMudmlldy5nZXRTdmdSb290KCkuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLFxudGhpcy5pZCk7dGhpcy52aWV3LmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuaWQpO3RoaXMuYWRkTW9kZWxVcGRhdGVCaW5kaW5ncygpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMudmlldy5nZXRTdmdSb290KCksXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5zdGFydEdlc3R1cmUpfWFkZE1vZGVsVXBkYXRlQmluZGluZ3MoKXt0aGlzLnZpZXcuYWRkVGV4dENoYW5nZUxpc3RlbmVyKChhLGIpPT52b2lkIHN1cGVyLnNldFRleHQoYikpO3RoaXMudmlldy5hZGRTaXplQ2hhbmdlTGlzdGVuZXIoKGEsYik9PnZvaWQgc3VwZXIuc2V0U2l6ZShiKSk7dGhpcy52aWV3LmFkZE9uQ29sbGFwc2VMaXN0ZW5lcigoKT0+dm9pZCBzdXBlci5zZXRDb2xsYXBzZWQodGhpcy52aWV3LmlzQ29sbGFwc2VkKCkpKTt0aGlzLnZpZXcuYWRkRGlzcG9zZUxpc3RlbmVyKCgpPT57dGhpcy5pc0RlYWRPckR5aW5nKCl8fHRoaXMuZGlzcG9zZSgpfSl9c2V0VGV4dChhKXt0aGlzLnZpZXcuc2V0VGV4dChhKX1zZXRQbGFjZWhvbGRlclRleHQoYSl7dGhpcy52aWV3LnNldFBsYWNlaG9sZGVyVGV4dChhKX1zZXRTaXplKGEpe3RoaXMudmlldy5zZXRTaXplKGEpfXNldENvbGxhcHNlZChhKXt0aGlzLnZpZXcuc2V0Q29sbGFwc2VkKGEpfXNldEVkaXRhYmxlKGEpe3N1cGVyLnNldEVkaXRhYmxlKGEpO1xudGhpcy52aWV3LnNldEVkaXRhYmxlKHRoaXMuaXNFZGl0YWJsZSgpKX1nZXRTdmdSb290KCl7cmV0dXJuIHRoaXMudmlldy5nZXRTdmdSb290KCl9Z2V0U2l6ZSgpe3JldHVybiBzdXBlci5nZXRTaXplKCl9Z2V0Qm91bmRpbmdSZWN0YW5nbGUoKXtjb25zdCBhPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3ZhciBiLGM7Y29uc3QgZD0oYz0oYj10aGlzLnZpZXcpPT1udWxsP3ZvaWQgMDpiLmdldFNpemUoKSkhPW51bGw/Yzp0aGlzLmdldFNpemUoKTt0aGlzLndvcmtzcGFjZS5SVEw/KGI9YS54LWQud2lkdGgsYz1hLngpOihiPWEueCxjPWEueCtkLndpZHRoKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEueSxhLnkrZC5oZWlnaHQsYixjKX1tb3ZlQnkoYSxiLGMpe2NvbnN0IGQ9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7YT1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoZC54K1xuYSxkLnkrYik7dGhpcy5tb3ZlVG8oYSxjKX1tb3ZlVG8oYSxiKXtzdXBlci5tb3ZlVG8oYSxiKTt0aGlzLnZpZXcubW92ZVRvKGEpfW1vdmVEdXJpbmdEcmFnKGEpe3RoaXMubG9jYXRpb249YTt0aGlzLnZpZXcubW92ZVRvKGEpfXNldERyYWdnaW5nKGEpe2E/YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRTdmdSb290KCksXCJibG9ja2x5RHJhZ2dpbmdcIik6cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRTdmdSb290KCksXCJibG9ja2x5RHJhZ2dpbmdcIil9ZGlzcG9zZSgpe3RoaXMuZGlzcG9zaW5nPSEwO2NvbnN0IGE9JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCk7YS5nZXRGb2N1c2VkTm9kZSgpPT09dGhpcyYmc2V0VGltZW91dCgoKT0+YS5mb2N1c1RyZWUodGhpcy53b3Jrc3BhY2UpLDApO3RoaXMudmlldy5pc0RlYWRPckR5aW5nKCl8fFxudGhpcy52aWV3LmRpc3Bvc2UoKTtzdXBlci5kaXNwb3NlKCl9c3RhcnRHZXN0dXJlKGEpe2NvbnN0IGI9dGhpcy53b3Jrc3BhY2UuZ2V0R2VzdHVyZShhKTtiJiYoYi5oYW5kbGVDb21tZW50U3RhcnQoYSx0aGlzKSwkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcykpfXNldERlbGV0ZVN0eWxlKGEpe2E/YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRTdmdSb290KCksXCJibG9ja2x5RHJhZ2dpbmdEZWxldGVcIik6cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRTdmdSb290KCksXCJibG9ja2x5RHJhZ2dpbmdEZWxldGVcIil9aXNDb3B5YWJsZSgpe3JldHVybiB0aGlzLmlzT3duTW92YWJsZSgpJiZ0aGlzLmlzT3duRGVsZXRhYmxlKCl9aXNNb3ZhYmxlKCl7cmV0dXJuIHRoaXMuZHJhZ1N0cmF0ZWd5LmlzTW92YWJsZSgpfXN0YXJ0RHJhZygpe3RoaXMuZHJhZ1N0cmF0ZWd5LnN0YXJ0RHJhZygpfWRyYWcoYSl7dGhpcy5kcmFnU3RyYXRlZ3kuZHJhZyhhKX1lbmREcmFnKCl7dGhpcy5kcmFnU3RyYXRlZ3kuZW5kRHJhZygpfXJldmVydERyYWcoKXt0aGlzLmRyYWdTdHJhdGVneS5yZXZlcnREcmFnKCl9c2VsZWN0KCl7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRTdmdSb290KCksXG5cImJsb2NrbHlTZWxlY3RlZFwiKTtmaXJlU2VsZWN0ZWRFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzKX11bnNlbGVjdCgpe3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0U3ZnUm9vdCgpLFwiYmxvY2tseVNlbGVjdGVkXCIpO2ZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKG51bGwpfXRvQ29weURhdGEoKXtyZXR1cm57cGFzdGVyOldvcmtzcGFjZUNvbW1lbnRQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyLlRZUEUsY29tbWVudFN0YXRlOnNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cyh0aGlzLHthZGRDb29yZGluYXRlczohMCxzYXZlSWRzOiExfSl9fXNob3dDb250ZXh0TWVudShhKXtjb25zdCBiPUNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5nZXRDb250ZXh0TWVudU9wdGlvbnMoe2NvbW1lbnQ6dGhpcyxcbmZvY3VzZWROb2RlOnRoaXN9LGEpO2xldCBjO2M9YSBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudD9uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLGEuY2xpZW50WSk6d3NUb1NjcmVlbkNvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgodGhpcy53b3Jrc3BhY2UsdGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpLnRyYW5zbGF0ZSgxMCwxMCk7c2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KGEsYix0aGlzLndvcmtzcGFjZS5SVEwsdGhpcy53b3Jrc3BhY2UsYyl9c25hcFRvR3JpZCgpe2lmKCF0aGlzLmlzRGVhZE9yRHlpbmcoKSl7dmFyIGE9dGhpcy53b3Jrc3BhY2UuZ2V0R3JpZCgpO2lmKGEhPW51bGwmJmEuc2hvdWxkU25hcCgpKXt2YXIgYj10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTthPWEuYWxpZ25YWShiKTthIT09YiYmdGhpcy5tb3ZlVG8oYSxcbltcInNuYXBcIl0pfX19Z2V0RWRpdG9yRm9jdXNhYmxlTm9kZSgpe3JldHVybiB0aGlzLnZpZXcuZ2V0RWRpdG9yRm9jdXNhYmxlTm9kZSgpfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5nZXRTdmdSb290KCl9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe3RoaXMuc2VsZWN0KCk7bGV0IGE7KGE9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxhLmFwcGVuZCh0aGlzLEJMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzKTt0aGlzLndvcmtzcGFjZS5zY3JvbGxCb3VuZHNJbnRvVmlldyh0aGlzLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkpfW9uTm9kZUJsdXIoKXt0aGlzLnVuc2VsZWN0KCl9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuITB9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQ9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50PVJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwuYXBwZW5kRG9tVG9Xb3Jrc3BhY2U9YXBwZW5kRG9tVG9Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5ibG9ja1RvRG9tPWJsb2NrVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5ibG9ja1RvRG9tV2l0aFhZPWJsb2NrVG9Eb21XaXRoWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5jbGVhcldvcmtzcGFjZUFuZExvYWRGcm9tWG1sPWNsZWFyV29ya3NwYWNlQW5kTG9hZEZyb21YbWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5kZWxldGVOZXh0PWRlbGV0ZU5leHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmRvbVRvQmxvY2s9JC5kb21Ub0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwuZG9tVG9CbG9ja0ludGVybmFsPWRvbVRvQmxvY2tJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmRvbVRvUHJldHR5VGV4dD1kb21Ub1ByZXR0eVRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5kb21Ub1RleHQ9ZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwuZG9tVG9WYXJpYWJsZXM9ZG9tVG9WYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5kb21Ub1dvcmtzcGFjZT0kLmRvbVRvV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5sb2FkV29ya3NwYWNlQ29tbWVudD1sb2FkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLnNhdmVXb3Jrc3BhY2VDb21tZW50PXNhdmVXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwudmFyaWFibGVzVG9Eb209dmFyaWFibGVzVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC53b3Jrc3BhY2VUb0RvbT13b3Jrc3BhY2VUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDt2YXIgQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZT1jbGFzcyBleHRlbmRzIEJsb2NrQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFO2EmJihhLmlzU2hhZG93KCkmJih0aGlzLnJlY29yZFVuZG89ITEpLHRoaXMueG1sPWJsb2NrVG9Eb21XaXRoWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSksdGhpcy5pZHM9Z2V0RGVzY2VuZGFudElkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKSx0aGlzLmpzb249c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEse2FkZENvb3JkaW5hdGVzOiEwfSkpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7XG5pZighdGhpcy54bWwpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgWE1MIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMuaWRzKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIElEcyBhcmUgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5qc29uKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIEpTT04gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnhtbD1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwodGhpcy54bWwpO2EuaWRzPXRoaXMuaWRzO2EuanNvbj10aGlzLmpzb247dGhpcy5yZWNvcmRVbmRvfHwoYS5yZWNvcmRVbmRvPXRoaXMucmVjb3JkVW5kbyk7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsXG5iLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZSk7Yi54bWw9JC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYS54bWwpO2IuaWRzPWEuaWRzO2IuanNvbj1hLmpzb247YS5yZWNvcmRVbmRvIT09dm9pZCAwJiYoYi5yZWNvcmRVbmRvPWEucmVjb3JkVW5kbyk7cmV0dXJuIGJ9cnVuKGEpe2NvbnN0IGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5qc29uKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIEpTT04gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5pZHMpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSURzIGFyZSB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuaWYoIWFsbFNoYWRvd0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY3JlYXRlKGIsdGhpcy5pZHMpKWlmKGEpYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3ModGhpcy5qc29uLGIpO2Vsc2UgZm9yKGE9MDthPHRoaXMuaWRzLmxlbmd0aDthKyspe2NvbnN0IGM9dGhpcy5pZHNbYV0sZD1iLmdldEJsb2NrQnlJZChjKTtkP2QuZGlzcG9zZSghMSk6Yz09PXRoaXMuYmxvY2tJZCYmY29uc29sZS53YXJuKFwiQ2FuJ3QgdW5jcmVhdGUgbm9uLWV4aXN0ZW50IGJsb2NrOiBcIitjKX19fSxhbGxTaGFkb3dCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBiLm1hcChjPT5hLmdldEJsb2NrQnlJZChjKSkuZmlsdGVyKGM9PmMmJmMuaXNTaGFkb3coKSkubGVuZ3RoPT09Yi5sZW5ndGh9O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFLEJsb2NrQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jcmVhdGUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jcmVhdGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY3JlYXRlLkJsb2NrQ3JlYXRlPUJsb2NrQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jcmVhdGU7dmFyIFRoZW1lQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190aGVtZV9jaGFuZ2U9Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihiKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVEhFTUVfQ0hBTkdFO3RoaXMudGhlbWVOYW1lPWF9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy50aGVtZU5hbWUpdGhyb3cgRXJyb3IoXCJUaGUgdGhlbWUgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdGhlbWUgbmFtZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YS50aGVtZU5hbWU9dGhpcy50aGVtZU5hbWU7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IFRoZW1lQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190aGVtZV9jaGFuZ2UpO1xuYi50aGVtZU5hbWU9YS50aGVtZU5hbWU7cmV0dXJuIGJ9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5USEVNRV9DSEFOR0UsVGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190aGVtZV9jaGFuZ2UuVGhlbWVDaGFuZ2U9VGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZTt2YXIgVmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3ZpZXdwb3J0PWNsYXNzIGV4dGVuZHMgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNle2NvbnN0cnVjdG9yKGEsYixjLGQsZSl7c3VwZXIoZCk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZJRVdQT1JUX0NIQU5HRTt0aGlzLnZpZXdUb3A9YTt0aGlzLnZpZXdMZWZ0PWI7dGhpcy5zY2FsZT1jO3RoaXMub2xkU2NhbGU9ZX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKHRoaXMudmlld1RvcD09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSB2aWV3IHRvcCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKHRoaXMudmlld0xlZnQ9PT12b2lkIDApdGhyb3cgRXJyb3IoXCJUaGUgdmlldyBsZWZ0IGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5pZih0aGlzLnNjYWxlPT09dm9pZCAwKXRocm93IEVycm9yKFwiVGhlIHNjYWxlIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYodGhpcy5vbGRTY2FsZT09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSBvbGQgc2NhbGUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnZpZXdUb3A9dGhpcy52aWV3VG9wO2Eudmlld0xlZnQ9dGhpcy52aWV3TGVmdDthLnNjYWxlPXRoaXMuc2NhbGU7YS5vbGRTY2FsZT10aGlzLm9sZFNjYWxlO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmlld3BvcnQpO2Iudmlld1RvcD1hLnZpZXdUb3A7Yi52aWV3TGVmdD1hLnZpZXdMZWZ0O1xuYi5zY2FsZT1hLnNjYWxlO2Iub2xkU2NhbGU9YS5vbGRTY2FsZTtyZXR1cm4gYn19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZJRVdQT1JUX0NIQU5HRSxWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmlld3BvcnQpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192aWV3cG9ydD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192aWV3cG9ydC5WaWV3cG9ydENoYW5nZT1WaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmlld3BvcnQ7dmFyIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5PXtmcm9tSnNvbkludGVybmFsOmZyb21Kc29uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5PXtURVNUX09OTFk6VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnl9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeS5mcm9tSnNvbj0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5LnJlZ2lzdGVyPXJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5LnVucmVnaXN0ZXI9dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5O3ZhciBGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd249Y2xhc3MgZXh0ZW5kcyBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxke2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMuc3ZnQXJyb3c9dGhpcy5hcnJvdz10aGlzLmltYWdlRWxlbWVudD10aGlzLm1lbnVfPXRoaXMuc2VsZWN0ZWRNZW51SXRlbT1udWxsO3RoaXMuU0VSSUFMSVpBQkxFPSEwO3RoaXMuY2xpY2tUYXJnZXRfPXRoaXMuc3VmZml4RmllbGQ9dGhpcy5wcmVmaXhGaWVsZD10aGlzLmdlbmVyYXRlZE9wdGlvbnM9bnVsbDthIT09RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQJiYodGhpcy5zZXRPcHRpb25zKGEpLGMmJnRoaXMuY29uZmlndXJlXyhjKSxiJiZ0aGlzLnNldFZhbGlkYXRvcihiKSl9ZnJvbVhtbChhKXt0aGlzLmlzT3B0aW9uTGlzdER5bmFtaWMoKSYmXG50aGlzLmdldE9wdGlvbnMoITEpO3RoaXMuc2V0VmFsdWUoYS50ZXh0Q29udGVudCl9bG9hZFN0YXRlKGEpe3RoaXMubG9hZExlZ2FjeVN0YXRlKEZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bixhKXx8KHRoaXMuaXNPcHRpb25MaXN0RHluYW1pYygpJiZ0aGlzLmdldE9wdGlvbnMoITEpLHRoaXMuc2V0VmFsdWUoYSkpfWluaXRWaWV3KCl7dGhpcy5zaG91bGRBZGRCb3JkZXJSZWN0XygpP3RoaXMuY3JlYXRlQm9yZGVyUmVjdF8oKTp0aGlzLmNsaWNrVGFyZ2V0Xz10aGlzLnNvdXJjZUJsb2NrXy5nZXRTdmdSb290KCk7dGhpcy5jcmVhdGVUZXh0RWxlbWVudF8oKTt0aGlzLmltYWdlRWxlbWVudD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSx7fSx0aGlzLmZpZWxkR3JvdXBfKTt0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPVz9cbnRoaXMuY3JlYXRlU1ZHQXJyb3dfKCk6dGhpcy5jcmVhdGVUZXh0QXJyb3dfKCk7dGhpcy5ib3JkZXJSZWN0XyYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5ib3JkZXJSZWN0XyxcImJsb2NrbHlEcm9wZG93blJlY3RcIik7dGhpcy5maWVsZEdyb3VwXyYmKGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8sXCJibG9ja2x5RmllbGRcIiksYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcImJsb2NrbHlEcm9wZG93bkZpZWxkXCIpKX1zaG91bGRBZGRCb3JkZXJSZWN0Xygpe2xldCBhO3JldHVybiF0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX05PX0JPUkRFUl9SRUNUX1NIQURPV3x8dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9OT19CT1JERVJfUkVDVF9TSEFET1cmJiEoKGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpKT09XG5udWxsPzA6YS5pc1NoYWRvdygpKX1jcmVhdGVUZXh0QXJyb3dfKCl7dGhpcy5hcnJvdz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5UU1BBTix7fSx0aGlzLnRleHRFbGVtZW50Xyk7bGV0IGE7dGhpcy5hcnJvdy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgoKGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpKT09bnVsbD8wOmEuUlRMKT9GaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uQVJST1dfQ0hBUitcIiBcIjpcIiBcIitGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uQVJST1dfQ0hBUikpO3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9CQVNFTElORV9DRU5URVImJnRoaXMuYXJyb3cuc2V0QXR0cmlidXRlKFwiZG9taW5hbnQtYmFzZWxpbmVcIixcImNlbnRyYWxcIik7bGV0IGI7XG4oKGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpKT09bnVsbD8wOmIuUlRMKT90aGlzLmdldFRleHRFbGVtZW50KCkuaW5zZXJ0QmVmb3JlKHRoaXMuYXJyb3csdGhpcy50ZXh0Q29udGVudF8pOnRoaXMuZ2V0VGV4dEVsZW1lbnQoKS5hcHBlbmRDaGlsZCh0aGlzLmFycm93KX1jcmVhdGVTVkdBcnJvd18oKXt0aGlzLnN2Z0Fycm93PWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLklNQUdFLHtoZWlnaHQ6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfU0laRStcInB4XCIsd2lkdGg6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfU0laRStcInB4XCJ9LHRoaXMuZmllbGRHcm91cF8pO3RoaXMuc3ZnQXJyb3cuc2V0QXR0cmlidXRlTlMoWExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bGluazpocmVmXCIsXG50aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19EQVRBVVJJKX1zaG93RWRpdG9yXyhhKXt2YXIgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWIpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7dGhpcy5kcm9wZG93bkNyZWF0ZSgpO3RoaXMubWVudV8mJih0aGlzLm1lbnVfLm9wZW5pbmdDb29yZHM9YSYmdHlwZW9mIGEuY2xpZW50WD09PVwibnVtYmVyXCI/bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEuY2xpZW50WCxhLmNsaWVudFkpOm51bGwsY2xlYXJDb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKSxhPXRoaXMubWVudV8ucmVuZGVyKGdldENvbnRlbnREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpKSxhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFxuXCJibG9ja2x5RHJvcGRvd25NZW51XCIpLHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fQ09MT1VSRURfRElWJiYoYj1iLmdldENvbG91cigpLGE9dGhpcy5zb3VyY2VCbG9ja18uZ2V0Q29sb3VyVGVydGlhcnkoKSxzZXRDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihiLGEpKSxzaG93UG9zaXRpb25lZEJ5RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdih0aGlzLHRoaXMuZHJvcGRvd25EaXNwb3NlXy5iaW5kKHRoaXMpKSxnZXRDb250ZW50RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKS5zdHlsZS5oZWlnaHQ9YCR7dGhpcy5tZW51Xy5nZXRTaXplKCkuaGVpZ2h0fXB4YCx0aGlzLm1lbnVfLmZvY3VzKCksdGhpcy5zZWxlY3RlZE1lbnVJdGVtJiZ0aGlzLm1lbnVfLnNldEhpZ2hsaWdodGVkKHRoaXMuc2VsZWN0ZWRNZW51SXRlbSksdGhpcy5hcHBseUNvbG91cigpKX1kcm9wZG93bkNyZWF0ZSgpe2NvbnN0IGE9XG50aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWEpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7Y29uc3QgYj1uZXcgTWVudSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnU7Yi5zZXRSb2xlKFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkxJU1RCT1gpO3RoaXMubWVudV89Yjtjb25zdCBjPXRoaXMuZ2V0T3B0aW9ucyghMSk7dGhpcy5zZWxlY3RlZE1lbnVJdGVtPW51bGw7Zm9yKGxldCBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBkPWNbZV07aWYoZD09PUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5TRVBBUkFUT1Ipe2IuYWRkQ2hpbGQobmV3IE1lbnVTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51X3NlcGFyYXRvcik7Y29udGludWV9Y29uc3QgW2YsZ109ZDtpc0ltYWdlUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duKGYpP1xuKGQ9bmV3IEltYWdlKGYud2lkdGgsZi5oZWlnaHQpLGQuc3JjPWYuc3JjLGQuYWx0PWYuYWx0KTpkPWY7ZD1uZXcgTWVudUl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51aXRlbShkLGcpO2Quc2V0Um9sZShSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5PUFRJT04pO2Quc2V0UmlnaHRUb0xlZnQoYS5SVEwpO2Quc2V0Q2hlY2thYmxlKCEwKTtiLmFkZENoaWxkKGQpO2Quc2V0Q2hlY2tlZChnPT09dGhpcy52YWx1ZV8pO2c9PT10aGlzLnZhbHVlXyYmKHRoaXMuc2VsZWN0ZWRNZW51SXRlbT1kKTtkLm9uQWN0aW9uKHRoaXMuaGFuZGxlTWVudUFjdGlvbkV2ZW50LHRoaXMpfX1kcm9wZG93bkRpc3Bvc2VfKCl7dGhpcy5tZW51XyYmdGhpcy5tZW51Xy5kaXNwb3NlKCk7dGhpcy5zZWxlY3RlZE1lbnVJdGVtPXRoaXMubWVudV89bnVsbDt0aGlzLmFwcGx5Q29sb3VyKCl9aGFuZGxlTWVudUFjdGlvbkV2ZW50KGEpe2hpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYodGhpcyxcbiEwKTt0aGlzLm9uSXRlbVNlbGVjdGVkXyh0aGlzLm1lbnVfLGEpfW9uSXRlbVNlbGVjdGVkXyhhLGIpe3RoaXMuc2V0VmFsdWUoYi5nZXRWYWx1ZSgpKX1pc09wdGlvbkxpc3REeW5hbWljKCl7cmV0dXJuIHR5cGVvZiB0aGlzLm1lbnVHZW5lcmF0b3JfPT09XCJmdW5jdGlvblwifWdldE9wdGlvbnMoYSl7aWYoIXRoaXMubWVudUdlbmVyYXRvcl8pdGhyb3cgVHlwZUVycm9yKFwiQSBtZW51IGdlbmVyYXRvciB3YXMgbmV2ZXIgZGVmaW5lZC5cIik7aWYoQXJyYXkuaXNBcnJheSh0aGlzLm1lbnVHZW5lcmF0b3JfKSlyZXR1cm4gdGhpcy5tZW51R2VuZXJhdG9yXztpZihhJiZ0aGlzLmdlbmVyYXRlZE9wdGlvbnMpcmV0dXJuIHRoaXMuZ2VuZXJhdGVkT3B0aW9uczt0aGlzLmdlbmVyYXRlZE9wdGlvbnM9dGhpcy5tZW51R2VuZXJhdG9yXygpO3RoaXMudmFsaWRhdGVPcHRpb25zKHRoaXMuZ2VuZXJhdGVkT3B0aW9ucyk7cmV0dXJuIHRoaXMuZ2VuZXJhdGVkT3B0aW9uc31zZXRPcHRpb25zKGEpe0FycmF5LmlzQXJyYXkoYSk/XG4odGhpcy52YWxpZGF0ZU9wdGlvbnMoYSksYT10aGlzLnRyaW1PcHRpb25zKGEpLHRoaXMubWVudUdlbmVyYXRvcl89YS5vcHRpb25zLHRoaXMucHJlZml4RmllbGQ9YS5wcmVmaXh8fG51bGwsdGhpcy5zdWZmaXhGaWVsZD1hLnN1ZmZpeHx8bnVsbCk6dGhpcy5tZW51R2VuZXJhdG9yXz1hO3RoaXMuc2VsZWN0ZWRPcHRpb249dGhpcy5nZXRPcHRpb25zKCExKVswXTt0aGlzLnNldFZhbHVlKHRoaXMuc2VsZWN0ZWRPcHRpb25bMV0pfWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtyZXR1cm4gdGhpcy5nZXRPcHRpb25zKCEwKS5zb21lKGI9PmJbMV09PT1hKT9hOih0aGlzLnNvdXJjZUJsb2NrXyYmY29uc29sZS53YXJuKFwiQ2Fubm90IHNldCB0aGUgZHJvcGRvd24ncyB2YWx1ZSB0byBhbiB1bmF2YWlsYWJsZSBvcHRpb24uIEJsb2NrIHR5cGU6IFwiK3RoaXMuc291cmNlQmxvY2tfLnR5cGUrXCIsIEZpZWxkIG5hbWU6IFwiK3RoaXMubmFtZStcIiwgVmFsdWU6IFwiK2EpLG51bGwpfWRvVmFsdWVVcGRhdGVfKGEpe3N1cGVyLmRvVmFsdWVVcGRhdGVfKGEpO1xuYT10aGlzLmdldE9wdGlvbnMoITApO2ZvcihsZXQgYj0wLGM7Yz1hW2JdO2IrKyljWzFdPT09dGhpcy52YWx1ZV8mJih0aGlzLnNlbGVjdGVkT3B0aW9uPWMpfWFwcGx5Q29sb3VyKCl7Y29uc3QgYT10aGlzLnNvdXJjZUJsb2NrXzt0aGlzLmJvcmRlclJlY3RfJiYodGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixhLmdldENvbG91clRlcnRpYXJ5KCkpLHRoaXMubWVudV8/dGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsYS5nZXRDb2xvdXJUZXJ0aWFyeSgpKTp0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcImZpbGxcIixcInRyYW5zcGFyZW50XCIpKTthJiZ0aGlzLmFycm93JiYoYS5pc1NoYWRvdygpP3RoaXMuYXJyb3cuc3R5bGUuZmlsbD1hLmdldENvbG91clNlY29uZGFyeSgpOnRoaXMuYXJyb3cuc3R5bGUuZmlsbD1hLmdldENvbG91cigpKX1yZW5kZXJfKCl7dGhpcy5nZXRUZXh0Q29udGVudCgpLm5vZGVWYWx1ZT1cIlwiO3RoaXMuaW1hZ2VFbGVtZW50LnN0eWxlLmRpc3BsYXk9XG5cIm5vbmVcIjtjb25zdCBhPXRoaXMuc2VsZWN0ZWRPcHRpb24mJnRoaXMuc2VsZWN0ZWRPcHRpb25bMF07aXNJbWFnZVByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bihhKT90aGlzLnJlbmRlclNlbGVjdGVkSW1hZ2UoYSk6dGhpcy5yZW5kZXJTZWxlY3RlZFRleHQoKTt0aGlzLnBvc2l0aW9uQm9yZGVyUmVjdF8oKX1yZW5kZXJTZWxlY3RlZEltYWdlKGEpe2NvbnN0IGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3RoaXMuaW1hZ2VFbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJcIjt0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIixhLnNyYyk7dGhpcy5pbWFnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsU3RyaW5nKGEuaGVpZ2h0KSk7XG50aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFN0cmluZyhhLndpZHRoKSk7Y29uc3QgYz1OdW1iZXIoYS5oZWlnaHQpO2E9TnVtYmVyKGEud2lkdGgpO3ZhciBkPSEhdGhpcy5ib3JkZXJSZWN0Xztjb25zdCBlPU1hdGgubWF4KGQ/dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ6MCxjK0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5JTUFHRV9ZX1BBRERJTkcpO2Q9ZD90aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzowO2xldCBmO2Y9dGhpcy5zdmdBcnJvdz90aGlzLnBvc2l0aW9uU1ZHQXJyb3coYStkLGUvMi10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFLzIpOmdldFRleHRXaWR0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmFycm93KTt0aGlzLnNpemVfPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShhK1xuZitkKjIsZSk7bGV0IGc9MDtiLlJUTD90aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7ZCtmfWApOihnPWErZix0aGlzLmdldFRleHRFbGVtZW50KCkuc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKSx0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7ZH1gKSk7dGhpcy5pbWFnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwieVwiLFN0cmluZyhlLzItYy8yKSk7dGhpcy5wb3NpdGlvblRleHRFbGVtZW50XyhnK2QsYStmKX1yZW5kZXJTZWxlY3RlZFRleHQoKXt0aGlzLmdldFRleHRDb250ZW50KCkubm9kZVZhbHVlPXRoaXMuZ2V0RGlzcGxheVRleHRfKCk7dmFyIGE9dGhpcy5nZXRUZXh0RWxlbWVudCgpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5RHJvcGRvd25UZXh0XCIpO2Euc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIixcInN0YXJ0XCIpO3ZhciBiPSEhdGhpcy5ib3JkZXJSZWN0XzthPU1hdGgubWF4KGI/XG50aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX0JPUkRFUl9SRUNUX0hFSUdIVDowLHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9IRUlHSFQpO2NvbnN0IGM9Z2V0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0VGV4dEVsZW1lbnQoKSk7Yj1iP3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HOjA7bGV0IGQ9MDt0aGlzLnN2Z0Fycm93JiYoZD10aGlzLnBvc2l0aW9uU1ZHQXJyb3coYytiLGEvMi10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFLzIpKTt0aGlzLnNpemVfPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShjK2QrYioyLGEpO3RoaXMucG9zaXRpb25UZXh0RWxlbWVudF8oYixjKX1wb3NpdGlvblNWR0Fycm93KGEsYil7aWYoIXRoaXMuc3ZnQXJyb3cpcmV0dXJuIDA7Y29uc3QgYz10aGlzLmdldFNvdXJjZUJsb2NrKCk7XG5pZighYyl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtjb25zdCBkPXRoaXMuYm9yZGVyUmVjdF8/dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9YX1BBRERJTkc6MCxlPXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1BBRERJTkcsZj10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFO3RoaXMuc3ZnQXJyb3cuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrKGMuUlRMP2Q6YStlKStcIixcIitiK1wiKVwiKTtyZXR1cm4gZitlfWdldFRleHRfKCl7aWYoIXRoaXMuc2VsZWN0ZWRPcHRpb24pcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLnNlbGVjdGVkT3B0aW9uWzBdO2lmKGlzSW1hZ2VQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24oYSkpcmV0dXJuIGEuYWx0O2lmKHR5cGVvZiBIVE1MRWxlbWVudCE9PVxuXCJ1bmRlZmluZWRcIiYmYSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtsZXQgYixjO3JldHVybihjPShiPWEudGl0bGUpIT1udWxsP2I6YS5hcmlhTGFiZWwpIT1udWxsP2M6YS5pbm5lclRleHR9aWYodHlwZW9mIGE9PT1cInN0cmluZ1wiKXJldHVybiBhO2NvbnNvbGUud2FybihcIkNhbid0IGdldCB0ZXh0IGZvciBleGlzdGluZyBkcm9wZG93biBvcHRpb24uIElmIHlvdSdyZSB1c2luZyBIVE1MRWxlbWVudCBkcm9wZG93biBvcHRpb25zIGluIG5vZGUsIGVuc3VyZSB5b3UncmUgdXNpbmcganNkb20tZ2xvYmFsIG9yIHNpbWlsYXIuXCIpO3JldHVybiBudWxsfXN0YXRpYyBmcm9tSnNvbihhKXtpZighYS5vcHRpb25zKXRocm93IEVycm9yKFwib3B0aW9ucyBhcmUgcmVxdWlyZWQgZm9yIHRoZSBkcm9wZG93biBmaWVsZC4gVGhlIG9wdGlvbnMgcHJvcGVydHkgbXVzdCBiZSBhc3NpZ25lZCBhbiBhcnJheSBvZiBbaHVtYW5SZWFkYWJsZVZhbHVlLCBsYW5ndWFnZU5ldXRyYWxWYWx1ZV0gdHVwbGVzLlwiKTtcbnJldHVybiBuZXcgdGhpcyhhLm9wdGlvbnMsdm9pZCAwLGEpfXRyaW1PcHRpb25zKGEpe2xldCBiPSExO2NvbnN0IGM9YS5tYXAoZz0+e2lmKGc9PT1GaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uU0VQQVJBVE9SKXJldHVybiBiPSEwLGc7Y29uc3QgW2gsa109ZztpZih0eXBlb2YgaD09PVwic3RyaW5nXCIpcmV0dXJuW3JlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoaCksa107Yj0hMDtyZXR1cm5baXNJbWFnZVByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bihoKT9PYmplY3QuYXNzaWduKHt9LGgse2FsdDpyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGguYWx0KX0pOmgsa119KTtpZihifHxhLmxlbmd0aDwyKXJldHVybntvcHRpb25zOmN9O3ZhciBkPWMubWFwKChbZ10pPT5nKSxcbmU9c2hvcnRlc3RTdHJpbmdMZW5ndGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZCk7YT1jb21tb25Xb3JkUHJlZml4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGQsZSk7Y29uc3QgZj1jb21tb25Xb3JkU3VmZml4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGQsZSk7aWYoIWEmJiFmfHxlPD1hK2YpcmV0dXJue29wdGlvbnM6Y307ZT1hP2RbMF0uc3Vic3RyaW5nKDAsYS0xKTp2b2lkIDA7ZD1mP2RbMF0uc3Vic3RyKDEtZik6dm9pZCAwO3JldHVybntvcHRpb25zOnRoaXMuYXBwbHlUcmltKGMsYSxmKSxwcmVmaXg6ZSxzdWZmaXg6ZH19YXBwbHlUcmltKGEsYixjKXtyZXR1cm4gYS5tYXAoKFtkLGVdKT0+W2Quc3Vic3RyaW5nKGIsZC5sZW5ndGgtYyksZV0pfXZhbGlkYXRlT3B0aW9ucyhhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBUeXBlRXJyb3IoXCJGaWVsZERyb3Bkb3duIG9wdGlvbnMgbXVzdCBiZSBhbiBhcnJheS5cIik7XG5pZighYS5sZW5ndGgpdGhyb3cgVHlwZUVycm9yKFwiRmllbGREcm9wZG93biBvcHRpb25zIG11c3Qgbm90IGJlIGFuIGVtcHR5IGFycmF5LlwiKTtsZXQgYj0hMTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdO0FycmF5LmlzQXJyYXkoZCl8fGQ9PT1GaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uU0VQQVJBVE9SP3R5cGVvZiBkWzFdIT09XCJzdHJpbmdcIj8oYj0hMCxjb25zb2xlLmVycm9yKGBJbnZhbGlkIG9wdGlvblske2N9XTogRWFjaCBGaWVsZERyb3Bkb3duIG9wdGlvbiBpZCBtdXN0IGJlIGEgc3RyaW5nLlxuICAgICAgICAgIEZvdW5kICR7ZFsxXX0gaW46ICR7ZH1gKSk6IWRbMF18fHR5cGVvZiBkWzBdPT09XCJzdHJpbmdcInx8aXNJbWFnZVByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bihkWzBdKXx8dHlwZW9mIEhUTUxFbGVtZW50IT09XCJ1bmRlZmluZWRcIiYmZFswXWluc3RhbmNlb2YgSFRNTEVsZW1lbnR8fChiPSEwLGNvbnNvbGUuZXJyb3IoYEludmFsaWQgb3B0aW9uWyR7Y31dOiBFYWNoIEZpZWxkRHJvcGRvd24gb3B0aW9uIG11c3QgaGF2ZSBhIHN0cmluZ1xuICAgICAgICAgIGxhYmVsLCBpbWFnZSBkZXNjcmlwdGlvbiwgb3IgSFRNTCBlbGVtZW50LiBGb3VuZCAke2RbMF19IGluOiAke2R9YCkpOihiPSEwLGNvbnNvbGUuZXJyb3IoYEludmFsaWQgb3B0aW9uWyR7Y31dOiBFYWNoIEZpZWxkRHJvcGRvd24gb3B0aW9uIG11c3QgYmUgYW4gYXJyYXkgb3JcbiAgICAgICAgICB0aGUgc3RyaW5nIGxpdGVyYWwgJ3NlcGFyYXRvcicuIEZvdW5kOiAke2R9YCkpfWlmKGIpdGhyb3cgVHlwZUVycm9yKFwiRm91bmQgaW52YWxpZCBGaWVsZERyb3Bkb3duIG9wdGlvbnMuXCIpO319O0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5TRVBBUkFUT1I9XCJzZXBhcmF0b3JcIjtGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uQVJST1dfQ0hBUj1cIlxcdTI1YmVcIjtGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uSU1BR0VfWV9PRkZTRVQ9NTtGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24uSU1BR0VfWV9QQURESU5HPUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5JTUFHRV9ZX09GRlNFVCoyO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX2Ryb3Bkb3duXCIsRmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5GaWVsZERyb3Bkb3duPUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bjt2YXIgVGhlbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyxkKXt0aGlzLm5hbWU9YTt0aGlzLnN0YXJ0SGF0cz0hMTt0aGlzLmJsb2NrU3R5bGVzPWJ8fE9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5jYXRlZ29yeVN0eWxlcz1jfHxPYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuY29tcG9uZW50U3R5bGVzPWR8fE9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5mb250U3R5bGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5USEVNRSxhLHRoaXMsITApfWdldENsYXNzTmFtZSgpe3JldHVybiB0aGlzLm5hbWUrXCItdGhlbWVcIn1zZXRCbG9ja1N0eWxlKGEsYil7dGhpcy5ibG9ja1N0eWxlc1thXT1ifXNldENhdGVnb3J5U3R5bGUoYSxiKXt0aGlzLmNhdGVnb3J5U3R5bGVzW2FdPWJ9Z2V0Q29tcG9uZW50U3R5bGUoYSl7YT1cbnRoaXMuY29tcG9uZW50U3R5bGVzW2FdO2lmKCFhKXJldHVybiBudWxsO2lmKHR5cGVvZiBhPT09XCJzdHJpbmdcIil7Y29uc3QgYj10aGlzLmdldENvbXBvbmVudFN0eWxlKGEpO2lmKGIpcmV0dXJuIGJ9cmV0dXJuYCR7YX1gfXNldENvbXBvbmVudFN0eWxlKGEsYil7dGhpcy5jb21wb25lbnRTdHlsZXNbYV09Yn1zZXRGb250U3R5bGUoYSl7dGhpcy5mb250U3R5bGU9YX1zZXRTdGFydEhhdHMoYSl7dGhpcy5zdGFydEhhdHM9YX1zdGF0aWMgZGVmaW5lVGhlbWUoYSxiKXthPWEudG9Mb3dlckNhc2UoKTtjb25zdCBjPW5ldyBUaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lKGEpO2xldCBkPWIuYmFzZTtpZihkKXtpZih0eXBlb2YgZD09PVwic3RyaW5nXCIpe2xldCBlO2Q9KGU9Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRIRU1FLGQpKSE9bnVsbD9lOnZvaWQgMH1kIGluc3RhbmNlb2ZcblRoZW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUmJihkZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoYyxkKSxjLm5hbWU9YSl9ZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0KGMuYmxvY2tTdHlsZXMsYi5ibG9ja1N0eWxlcyk7ZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0KGMuY2F0ZWdvcnlTdHlsZXMsYi5jYXRlZ29yeVN0eWxlcyk7ZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0KGMuY29tcG9uZW50U3R5bGVzLGIuY29tcG9uZW50U3R5bGVzKTtkZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoYy5mb250U3R5bGUsYi5mb250U3R5bGUpO2Iuc3RhcnRIYXRzIT09bnVsbCYmKGMuc3RhcnRIYXRzPWIuc3RhcnRIYXRzKTtyZXR1cm4gY319LG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZS5UaGVtZT1UaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lO3ZhciBkZWZhdWx0QmxvY2tTdHlsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSRjbGFzc2ljPXtjb2xvdXJfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiMjBcIn0sbGlzdF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyNjBcIn0sbG9naWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiMjEwXCJ9LGxvb3BfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiMTIwXCJ9LG1hdGhfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiMjMwXCJ9LHByb2NlZHVyZV9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyOTBcIn0sdGV4dF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIxNjBcIn0sdmFyaWFibGVfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiMzMwXCJ9LHZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiMzEwXCJ9LGhhdF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIzMzBcIixoYXQ6XCJjYXBcIn19LGNhdGVnb3J5U3R5bGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYz17Y29sb3VyX2NhdGVnb3J5Ontjb2xvdXI6XCIyMFwifSxcbmxpc3RfY2F0ZWdvcnk6e2NvbG91cjpcIjI2MFwifSxsb2dpY19jYXRlZ29yeTp7Y29sb3VyOlwiMjEwXCJ9LGxvb3BfY2F0ZWdvcnk6e2NvbG91cjpcIjEyMFwifSxtYXRoX2NhdGVnb3J5Ontjb2xvdXI6XCIyMzBcIn0scHJvY2VkdXJlX2NhdGVnb3J5Ontjb2xvdXI6XCIyOTBcIn0sdGV4dF9jYXRlZ29yeTp7Y29sb3VyOlwiMTYwXCJ9LHZhcmlhYmxlX2NhdGVnb3J5Ontjb2xvdXI6XCIzMzBcIn0sdmFyaWFibGVfZHluYW1pY19jYXRlZ29yeTp7Y29sb3VyOlwiMzEwXCJ9fSxDbGFzc2ljJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYz1uZXcgVGhlbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZShcImNsYXNzaWNcIixkZWZhdWx0QmxvY2tTdHlsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSRjbGFzc2ljLGNhdGVnb3J5U3R5bGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYyksbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWM9e0NsYXNzaWM6Q2xhc3NpYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWN9O3ZhciBPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucz1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLmdyaWRQYXR0ZXJuPW51bGw7dGhpcy5nZXRNZXRyaWNzPXRoaXMuc2V0TWV0cmljcz12b2lkIDA7bGV0IGI9bnVsbCxjPSExO3ZhciBkPSExLGU9ITEsZj0hMSxnPSExLGg9ITE7Y29uc3Qgaz0hIWEucmVhZE9ubHk7aWYoIWspe3ZhciBsO2I9Y29udmVydFRvb2xib3hEZWZUb0pzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KChsPWEudG9vbGJveCkhPW51bGw/bDpudWxsKTtjPWhhc0NhdGVnb3JpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGIpO2Q9YS50cmFzaGNhbjtkPWQ9PT12b2lkIDA/YzpkO2U9YS5jb2xsYXBzZTtlPWU9PT12b2lkIDA/YzplO2Y9YS5jb21tZW50cztmPWY9PT12b2lkIDA/YzpmO2c9YS5kaXNhYmxlO2c9Zz09PXZvaWQgMD9jOmc7aD1hLnNvdW5kcztoPWg9PT12b2lkIDA/ITA6aH1sPVxuYS5tYXhUcmFzaGNhbkNvbnRlbnRzO2Q/bD09PXZvaWQgMCYmKGw9MzIpOmw9MDtjb25zdCBtPSEhYS5ydGw7bGV0IG49YS5ob3Jpem9udGFsTGF5b3V0O249PT12b2lkIDAmJihuPSExKTt2YXIgcD1hLnRvb2xib3hQb3NpdGlvbiE9PVwiZW5kXCI7cD1uP3A/UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlRPUDpQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guQk9UVE9NOnA9PT1tP1Bvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5SSUdIVDpQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVDtsZXQgcj1hLmNzcztyPT09dm9pZCAwJiYocj0hMCk7bGV0IHE9XCJodHRwczovL2Jsb2NrbHktZGVtby5hcHBzcG90LmNvbS9zdGF0aWMvbWVkaWEvXCI7YS5tZWRpYSYmKHE9YS5tZWRpYS5lbmRzV2l0aChcIi9cIik/YS5tZWRpYTphLm1lZGlhK1wiL1wiKTtjb25zdCB1PVxuYS5vbmVCYXNlZEluZGV4LHk9YS5yZW5kZXJlcnx8XCJnZXJhc1wiLHo9YS5wbHVnaW5zfHx7fTtsZXQgdD1hLm1vZGFsSW5wdXRzO3Q9PT12b2lkIDAmJih0PSEwKTt0aGlzLlJUTD1tO3RoaXMub25lQmFzZWRJbmRleD11PT09dm9pZCAwPyEwOnU7dGhpcy5jb2xsYXBzZT1lO3RoaXMuY29tbWVudHM9Zjt0aGlzLmRpc2FibGU9Zzt0aGlzLnJlYWRPbmx5PWs7dGhpcy5tYXhCbG9ja3M9YS5tYXhCbG9ja3N8fEluZmluaXR5O2xldCB2O3RoaXMubWF4SW5zdGFuY2VzPSh2PWEubWF4SW5zdGFuY2VzKSE9bnVsbD92Om51bGw7dGhpcy5tb2RhbElucHV0cz10O3RoaXMucGF0aFRvTWVkaWE9cTt0aGlzLmhhc0NhdGVnb3JpZXM9Yzt0aGlzLm1vdmVPcHRpb25zPU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zLnBhcnNlTW92ZU9wdGlvbnMoYSxjKTt0aGlzLmhhc1Njcm9sbGJhcnM9ISF0aGlzLm1vdmVPcHRpb25zLnNjcm9sbGJhcnM7dGhpcy5oYXNUcmFzaGNhbj1kO3RoaXMubWF4VHJhc2hjYW5Db250ZW50cz1cbmw7dGhpcy5oYXNTb3VuZHM9aDt0aGlzLmhhc0Nzcz1yO3RoaXMuaG9yaXpvbnRhbExheW91dD1uO3RoaXMubGFuZ3VhZ2VUcmVlPWI7dGhpcy5ncmlkT3B0aW9ucz1PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucy5wYXJzZUdyaWRPcHRpb25zKGEpO3RoaXMuem9vbU9wdGlvbnM9T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMucGFyc2Vab29tT3B0aW9ucyhhKTt0aGlzLnRvb2xib3hQb3NpdGlvbj1wO3RoaXMudGhlbWU9T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMucGFyc2VUaGVtZU9wdGlvbnMoYSk7dGhpcy5yZW5kZXJlcj15O2xldCB3O3RoaXMucmVuZGVyZXJPdmVycmlkZXM9KHc9YS5yZW5kZXJlck92ZXJyaWRlcykhPW51bGw/dzpudWxsO2xldCB4O3RoaXMucGFyZW50V29ya3NwYWNlPSh4PWEucGFyZW50V29ya3NwYWNlKSE9bnVsbD94Om51bGw7dGhpcy5wbHVnaW5zPXp9c3RhdGljIHBhcnNlTW92ZU9wdGlvbnMoYSxcbmIpe2NvbnN0IGM9YS5tb3ZlfHx7fSxkPXt9O2Muc2Nyb2xsYmFycz09PXZvaWQgMCYmYS5zY3JvbGxiYXJzPT09dm9pZCAwP2Quc2Nyb2xsYmFycz1iOnR5cGVvZiBjLnNjcm9sbGJhcnM9PT1cIm9iamVjdFwiPyhkLnNjcm9sbGJhcnM9e2hvcml6b250YWw6ISFjLnNjcm9sbGJhcnMuaG9yaXpvbnRhbCx2ZXJ0aWNhbDohIWMuc2Nyb2xsYmFycy52ZXJ0aWNhbH0sZC5zY3JvbGxiYXJzLmhvcml6b250YWwmJmQuc2Nyb2xsYmFycy52ZXJ0aWNhbD9kLnNjcm9sbGJhcnM9ITA6ZC5zY3JvbGxiYXJzLmhvcml6b250YWx8fGQuc2Nyb2xsYmFycy52ZXJ0aWNhbHx8KGQuc2Nyb2xsYmFycz0hMSkpOmQuc2Nyb2xsYmFycz0hIWMuc2Nyb2xsYmFyc3x8ISFhLnNjcm9sbGJhcnM7ZC53aGVlbD1kLnNjcm9sbGJhcnMmJmMud2hlZWwhPT12b2lkIDA/ISFjLndoZWVsOnR5cGVvZiBkLnNjcm9sbGJhcnM9PT1cIm9iamVjdFwiO2QuZHJhZz1kLnNjcm9sbGJhcnM/Yy5kcmFnPT09dm9pZCAwPyEwOiEhYy5kcmFnOlxuITE7cmV0dXJuIGR9c3RhdGljIHBhcnNlWm9vbU9wdGlvbnMoYSl7YT1hLnpvb218fHt9O2NvbnN0IGI9e307Yi5jb250cm9scz1hLmNvbnRyb2xzPT09dm9pZCAwPyExOiEhYS5jb250cm9scztiLndoZWVsPWEud2hlZWw9PT12b2lkIDA/ITE6ISFhLndoZWVsO2Iuc3RhcnRTY2FsZT1hLnN0YXJ0U2NhbGU9PT12b2lkIDA/MTpOdW1iZXIoYS5zdGFydFNjYWxlKTtiLm1heFNjYWxlPWEubWF4U2NhbGU9PT12b2lkIDA/MzpOdW1iZXIoYS5tYXhTY2FsZSk7Yi5taW5TY2FsZT1hLm1pblNjYWxlPT09dm9pZCAwPy4zOk51bWJlcihhLm1pblNjYWxlKTtiLnNjYWxlU3BlZWQ9YS5zY2FsZVNwZWVkPT09dm9pZCAwPzEuMjpOdW1iZXIoYS5zY2FsZVNwZWVkKTtiLnBpbmNoPWEucGluY2g9PT12b2lkIDA/Yi53aGVlbHx8Yi5jb250cm9sczohIWEucGluY2g7cmV0dXJuIGJ9c3RhdGljIHBhcnNlR3JpZE9wdGlvbnMoYSl7YT1hLmdyaWR8fHt9O2NvbnN0IGI9e307Yi5zcGFjaW5nPU51bWJlcihhLnNwYWNpbmcpfHxcbjA7Yi5jb2xvdXI9YS5jb2xvdXJ8fFwiIzg4OFwiO2IubGVuZ3RoPWEubGVuZ3RoPT09dm9pZCAwPzE6TnVtYmVyKGEubGVuZ3RoKTtiLnNuYXA9Yi5zcGFjaW5nPjAmJiEhYS5zbmFwO3JldHVybiBifXN0YXRpYyBwYXJzZVRoZW1lT3B0aW9ucyhhKXthPWEudGhlbWV8fENsYXNzaWMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSRjbGFzc2ljO3JldHVybiB0eXBlb2YgYT09PVwic3RyaW5nXCI/Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRIRU1FLGEpOmEgaW5zdGFuY2VvZiBUaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lP2E6VGhlbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZS5kZWZpbmVUaGVtZShhLm5hbWV8fFwiYnVpbHRpblwiK2dldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCksYSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucz1cbnt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zLk9wdGlvbnM9T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnM7dmFyIEJ1YmJsZURyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJ1YmJsZV9kcmFnX3N0cmF0ZWd5PWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5idWJibGU9YTt0aGlzLndvcmtzcGFjZT1iO3RoaXMuc3RhcnRMb2M9bnVsbH1pc01vdmFibGUoKXtyZXR1cm4hMH1zdGFydERyYWcoKXt0aGlzLnN0YXJ0TG9jPXRoaXMuYnViYmxlLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt0aGlzLndvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCghMSk7bGV0IGE7KGE9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxhLm1vdmVUb0RyYWdMYXllcih0aGlzLmJ1YmJsZSk7dGhpcy5idWJibGUuc2V0RHJhZ2dpbmcmJnRoaXMuYnViYmxlLnNldERyYWdnaW5nKCEwKX1kcmFnKGEpe3RoaXMuYnViYmxlLm1vdmVEdXJpbmdEcmFnKGEpfWVuZERyYWcoKXt0aGlzLndvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCghMCk7bGV0IGE7KGE9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1cbm51bGx8fGEubW92ZU9mZkRyYWdMYXllcih0aGlzLmJ1YmJsZSxCVUJCTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpO3RoaXMuYnViYmxlLnNldERyYWdnaW5nKCExKX1yZXZlcnREcmFnKCl7dGhpcy5zdGFydExvYyYmdGhpcy5idWJibGUubW92ZUR1cmluZ0RyYWcodGhpcy5zdGFydExvYyl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYnViYmxlX2RyYWdfc3RyYXRlZ3k9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJ1YmJsZV9kcmFnX3N0cmF0ZWd5LkJ1YmJsZURyYWdTdHJhdGVneT1CdWJibGVEcmFnU3RyYXRlZ3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRidWJibGVfZHJhZ19zdHJhdGVneTt2YXIgX2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZSxCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyxkLGUpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5hbmNob3I9Yjt0aGlzLm93bmVyUmVjdD1jO3RoaXMub3duZXI9ZTt0aGlzLnNpemU9bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDAsMCk7dGhpcy5jb2xvdXI9XCIjZmZmZmZmXCI7dGhpcy5kaXNwb3NlZD0hMTt0aGlzLnJlbGF0aXZlTGVmdD10aGlzLnJlbGF0aXZlVG9wPTA7dGhpcy5kcmFnU3RyYXRlZ3k9bmV3IEJ1YmJsZURyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJ1YmJsZV9kcmFnX3N0cmF0ZWd5KHRoaXMsdGhpcy53b3Jrc3BhY2UpO3RoaXMuaWQ9Z2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTt0aGlzLnN2Z1Jvb3Q9XG5jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtcImNsYXNzXCI6XCJibG9ja2x5QnViYmxlXCJ9LGEuZ2V0QnViYmxlQ2FudmFzKCkpO2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7XCJjbGFzc1wiOlwiYmxvY2tseUVtYm9zc1wifSx0aGlzLnN2Z1Jvb3QpO3RoaXMudGFpbD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5QnViYmxlVGFpbFwifSxhKTt0aGlzLmJhY2tncm91bmQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCxcbntcImNsYXNzXCI6XCJibG9ja2x5RHJhZ2dhYmxlXCIseDowLHk6MCxyeDpfYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSCxyeTpfYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSH0sYSk7dGhpcy5jb250ZW50Q29udGFpbmVyPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse30sdGhpcy5zdmdSb290KTt0aGlzLmZvY3VzYWJsZUVsZW1lbnQ9ZCE9bnVsbD9kOnRoaXMuc3ZnUm9vdDt0aGlzLmZvY3VzYWJsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmlkKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmJhY2tncm91bmQsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vbk1vdXNlRG93bik7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5mb2N1c2FibGVFbGVtZW50LFxuXCJrZXlkb3duXCIsdGhpcyx0aGlzLm9uS2V5RG93bil9ZGlzcG9zZSgpe3JlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290KTt0aGlzLmRpc3Bvc2VkPSEwfXNldEFuY2hvckxvY2F0aW9uKGEsYj0hMSl7dGhpcy5hbmNob3I9YTtiP3RoaXMucG9zaXRpb25CeVJlY3QodGhpcy5vd25lclJlY3QpOnRoaXMucG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKCk7dGhpcy5yZW5kZXJUYWlsKCl9c2V0UG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKGEsYil7dGhpcy5yZWxhdGl2ZUxlZnQ9YTt0aGlzLnJlbGF0aXZlVG9wPWI7dGhpcy5wb3NpdGlvblJlbGF0aXZlVG9BbmNob3IoKTt0aGlzLnJlbmRlclRhaWwoKX1nZXRTaXplKCl7cmV0dXJuIHRoaXMuc2l6ZX1zZXRTaXplKGEsYj0hMSl7YS53aWR0aD1NYXRoLm1heChhLndpZHRoLF9hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuTUlOX1NJWkUpO2EuaGVpZ2h0PU1hdGgubWF4KGEuaGVpZ2h0LFxuX2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5NSU5fU0laRSk7dGhpcy5zaXplPWE7dGhpcy5iYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYCR7YS53aWR0aH1gKTt0aGlzLmJhY2tncm91bmQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYCR7YS5oZWlnaHR9YCk7Yj90aGlzLnBvc2l0aW9uQnlSZWN0KHRoaXMub3duZXJSZWN0KTp0aGlzLnBvc2l0aW9uUmVsYXRpdmVUb0FuY2hvcigpO3RoaXMucmVuZGVyVGFpbCgpfWdldENvbG91cigpe3JldHVybiB0aGlzLmNvbG91cn1zZXRDb2xvdXIoYSl7dGhpcy5jb2xvdXI9YTt0aGlzLnRhaWwuc2V0QXR0cmlidXRlKFwiZmlsbFwiLGEpO3RoaXMuYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsYSl9b25Nb3VzZURvd24oYSl7bGV0IGI7KGI9dGhpcy53b3Jrc3BhY2UuZ2V0R2VzdHVyZShhKSk9PW51bGx8fGIuaGFuZGxlQnViYmxlU3RhcnQoYSx0aGlzKTskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcyl9b25LZXlEb3duKGEpe2Eua2V5PT09XG5cIkVzY2FwZVwiJiZ0aGlzLm93bmVyJiYodGhpcy5vd25lci5zZXRCdWJibGVWaXNpYmxlKCExKSwkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcy5vd25lcikpfXBvc2l0aW9uUmVsYXRpdmVUb0FuY2hvcigpe2xldCBhPXRoaXMuYW5jaG9yLng7YT10aGlzLndvcmtzcGFjZS5SVEw/YS0odGhpcy5yZWxhdGl2ZUxlZnQrdGhpcy5zaXplLndpZHRoKTphK3RoaXMucmVsYXRpdmVMZWZ0O3RoaXMubW92ZVRvKGEsdGhpcy5yZWxhdGl2ZVRvcCt0aGlzLmFuY2hvci55KX1tb3ZlVG8oYSxiKXt0aGlzLnN2Z1Jvb3Quc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYHRyYW5zbGF0ZSgke2F9LCAke2J9KWApfXBvc2l0aW9uQnlSZWN0KGE9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KDAsMCwwLDApKXt2YXIgYj10aGlzLndvcmtzcGFjZS5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFZpZXdNZXRyaWNzKCEwKSxcbmM9dGhpcy5nZXRPcHRpbWFsUmVsYXRpdmVMZWZ0KGIpLGQ9dGhpcy5nZXRPcHRpbWFsUmVsYXRpdmVUb3AoYik7Y29uc3QgZT17eDpjLHk6LXRoaXMuc2l6ZS5oZWlnaHQtdGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKS5NSU5fQkxPQ0tfSEVJR0hUfSxmPXt4Oi10aGlzLnNpemUud2lkdGgtMzAseTpkfTtkPXt4OmEuZ2V0V2lkdGgoKSx5OmR9O3ZhciBnPXt4OmMseTphLmdldEhlaWdodCgpfTtjPWEuZ2V0V2lkdGgoKTxhLmdldEhlaWdodCgpP2Q6ZzthPWEuZ2V0V2lkdGgoKTxhLmdldEhlaWdodCgpP2c6ZDtkPXRoaXMuZ2V0T3ZlcmxhcChlLGIpO2c9dGhpcy5nZXRPdmVybGFwKGYsYik7Y29uc3QgaD10aGlzLmdldE92ZXJsYXAoYyxiKTtiPXRoaXMuZ2V0T3ZlcmxhcChhLGIpO2I9TWF0aC5tYXgoZCxnLGgsYik7ZD09PWI/KHRoaXMucmVsYXRpdmVMZWZ0PWUueCx0aGlzLnJlbGF0aXZlVG9wPWUueSk6Zz09PWI/KHRoaXMucmVsYXRpdmVMZWZ0PVxuZi54LHRoaXMucmVsYXRpdmVUb3A9Zi55KTpoPT09Yj8odGhpcy5yZWxhdGl2ZUxlZnQ9Yy54LHRoaXMucmVsYXRpdmVUb3A9Yy55KToodGhpcy5yZWxhdGl2ZUxlZnQ9YS54LHRoaXMucmVsYXRpdmVUb3A9YS55KTt0aGlzLnBvc2l0aW9uUmVsYXRpdmVUb0FuY2hvcigpfWdldE92ZXJsYXAoYSxiKXt2YXIgYz10aGlzLndvcmtzcGFjZS5SVEw/dGhpcy5hbmNob3IueC1hLngtdGhpcy5zaXplLndpZHRoOmEueCt0aGlzLmFuY2hvci54O2E9YS55K3RoaXMuYW5jaG9yLnk7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoTWF0aC5taW4oYyt0aGlzLnNpemUud2lkdGgsYi5sZWZ0K2Iud2lkdGgpLU1hdGgubWF4KGMsYi5sZWZ0KSkqKE1hdGgubWluKGErdGhpcy5zaXplLmhlaWdodCxiLnRvcCtiLmhlaWdodCktTWF0aC5tYXgoYSxiLnRvcCkpLyh0aGlzLnNpemUud2lkdGgqdGhpcy5zaXplLmhlaWdodCkpKX1nZXRPcHRpbWFsUmVsYXRpdmVMZWZ0KGEpe2xldCBiPS10aGlzLnNpemUud2lkdGgvXG40O2lmKHRoaXMuc2l6ZS53aWR0aD5hLndpZHRoKXJldHVybiBiO2E9dGhpcy5nZXRXb3Jrc3BhY2VWaWV3UmVjdChhKTtpZih0aGlzLndvcmtzcGFjZS5SVEwpe3ZhciBjPXRoaXMuYW5jaG9yLngtYjtjLXRoaXMuc2l6ZS53aWR0aDxhLmxlZnQ/Yj0tKGEubGVmdC10aGlzLmFuY2hvci54K3RoaXMuc2l6ZS53aWR0aCk6Yz5hLnJpZ2h0JiYoYj0tKGEucmlnaHQtdGhpcy5hbmNob3IueCkpfWVsc2V7Yz1iK3RoaXMuYW5jaG9yLng7Y29uc3QgZD1jK3RoaXMuc2l6ZS53aWR0aDtjPGEubGVmdD9iPWEubGVmdC10aGlzLmFuY2hvci54OmQ+YS5yaWdodCYmKGI9YS5yaWdodC10aGlzLmFuY2hvci54LXRoaXMuc2l6ZS53aWR0aCl9cmV0dXJuIGJ9Z2V0T3B0aW1hbFJlbGF0aXZlVG9wKGEpe2xldCBiPS10aGlzLnNpemUuaGVpZ2h0LzQ7aWYodGhpcy5zaXplLmhlaWdodD5hLmhlaWdodClyZXR1cm4gYjtjb25zdCBjPXRoaXMuYW5jaG9yLnkrYixkPWMrdGhpcy5zaXplLmhlaWdodDthPXRoaXMuZ2V0V29ya3NwYWNlVmlld1JlY3QoYSk7XG5jPGEudG9wP2I9YS50b3AtdGhpcy5hbmNob3IueTpkPmEuYm90dG9tJiYoYj1hLmJvdHRvbS10aGlzLmFuY2hvci55LXRoaXMuc2l6ZS5oZWlnaHQpO3JldHVybiBifWdldFdvcmtzcGFjZVZpZXdSZWN0KGEpe2NvbnN0IGI9YS50b3A7bGV0IGM9YS50b3ArYS5oZWlnaHQsZD1hLmxlZnQ7YT1hLmxlZnQrYS53aWR0aDtjLT10aGlzLmdldFNjcm9sbGJhclRoaWNrbmVzcygpO3RoaXMud29ya3NwYWNlLlJUTD9kLT10aGlzLmdldFNjcm9sbGJhclRoaWNrbmVzcygpOmEtPXRoaXMuZ2V0U2Nyb2xsYmFyVGhpY2tuZXNzKCk7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChiLGMsZCxhKX1nZXRTY3JvbGxiYXJUaGlja25lc3MoKXtyZXR1cm4gU2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcy90aGlzLndvcmtzcGFjZS5zY2FsZX1yZW5kZXJUYWlsKCl7Y29uc3QgYT1bXTt2YXIgYj10aGlzLnNpemUud2lkdGgvXG4yLGM9dGhpcy5zaXplLmhlaWdodC8yLGQ9LXRoaXMucmVsYXRpdmVMZWZ0LGU9LXRoaXMucmVsYXRpdmVUb3A7aWYoYj09PWQmJmM9PT1lKWEucHVzaChcIk0gXCIrYitcIixcIitjKTtlbHNle2UtPWM7ZC09Yjt0aGlzLndvcmtzcGFjZS5SVEwmJihkKj0tMSk7dmFyIGY9TWF0aC5zcXJ0KGUqZStkKmQpLGc9TWF0aC5hY29zKGQvZik7ZTwwJiYoZz0yKk1hdGguUEktZyk7dmFyIGg9ZytNYXRoLlBJLzI7aD5NYXRoLlBJKjImJihoLT1NYXRoLlBJKjIpO3ZhciBrPU1hdGguc2luKGgpO2NvbnN0IG09TWF0aC5jb3MoaCk7bGV0IG49KHRoaXMuc2l6ZS53aWR0aCt0aGlzLnNpemUuaGVpZ2h0KS9fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLlRBSUxfVEhJQ0tORVNTO249TWF0aC5taW4obix0aGlzLnNpemUud2lkdGgsdGhpcy5zaXplLmhlaWdodCkvNDtoPTEtX2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5BTkNIT1JfUkFESVVTL2Y7ZD1iK1xuaCpkO2U9YytoKmU7aD1iK24qbTtjb25zdCBwPWMrbiprO2ItPW4qbTtjLT1uKms7az10b1JhZGlhbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoKHRoaXMud29ya3NwYWNlLlJUTD8tX2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5UQUlMX0FOR0xFOl9hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuVEFJTF9BTkdMRSk7az1nK2s7az5NYXRoLlBJKjImJihrLT1NYXRoLlBJKjIpO2c9TWF0aC5zaW4oaykqZi9fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLlRBSUxfQkVORDtmPU1hdGguY29zKGspKmYvX2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5UQUlMX0JFTkQ7YS5wdXNoKFwiTVwiK2grXCIsXCIrcCk7YS5wdXNoKFwiQ1wiKyhoK2YpK1wiLFwiKyhwK2cpK1wiIFwiK2QrXCIsXCIrZStcIiBcIitkK1wiLFwiK2UpO2EucHVzaChcIkNcIitkK1wiLFwiK2UrXCIgXCIrKGIrZikrXCIsXCIrKGMrZykrXCIgXCIrXG5iK1wiLFwiK2MpfWEucHVzaChcInpcIik7bGV0IGw7KGw9dGhpcy50YWlsKT09bnVsbHx8bC5zZXRBdHRyaWJ1dGUoXCJkXCIsYS5qb2luKFwiIFwiKSl9YnJpbmdUb0Zyb250KCl7bGV0IGE7Y29uc3QgYj0oYT10aGlzLnN2Z1Jvb3QpPT1udWxsP3ZvaWQgMDphLnBhcmVudE5vZGU7cmV0dXJuIHRoaXMuc3ZnUm9vdCYmKGI9PW51bGw/dm9pZCAwOmIubGFzdENoaWxkKSE9PXRoaXMuc3ZnUm9vdD8oYj09bnVsbHx8Yi5hcHBlbmRDaGlsZCh0aGlzLnN2Z1Jvb3QpLCEwKTohMX1nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCl7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSh0aGlzLndvcmtzcGFjZS5SVEw/LXRoaXMucmVsYXRpdmVMZWZ0K3RoaXMuYW5jaG9yLngtdGhpcy5zaXplLndpZHRoOnRoaXMuYW5jaG9yLngrdGhpcy5yZWxhdGl2ZUxlZnQsdGhpcy5hbmNob3IueSt0aGlzLnJlbGF0aXZlVG9wKX1nZXRTdmdSb290KCl7cmV0dXJuIHRoaXMuc3ZnUm9vdH1tb3ZlRHVyaW5nRHJhZyhhKXt0aGlzLm1vdmVUbyhhLngsXG5hLnkpO3RoaXMucmVsYXRpdmVMZWZ0PXRoaXMud29ya3NwYWNlLlJUTD90aGlzLmFuY2hvci54LWEueC10aGlzLnNpemUud2lkdGg6YS54LXRoaXMuYW5jaG9yLng7dGhpcy5yZWxhdGl2ZVRvcD1hLnktdGhpcy5hbmNob3IueTt0aGlzLnJlbmRlclRhaWwoKX1zZXREcmFnZ2luZyhhKXt9c2V0RGVsZXRlU3R5bGUoYSl7fWlzRGVsZXRhYmxlKCl7cmV0dXJuITF9c2hvd0NvbnRleHRNZW51KGEpe31pc01vdmFibGUoKXtyZXR1cm4hMH1zdGFydERyYWcoKXt0aGlzLmRyYWdTdHJhdGVneS5zdGFydERyYWcoKX1kcmFnKGEpe3RoaXMuZHJhZ1N0cmF0ZWd5LmRyYWcoYSl9ZW5kRHJhZygpe3RoaXMuZHJhZ1N0cmF0ZWd5LmVuZERyYWcoKX1yZXZlcnREcmFnKCl7dGhpcy5kcmFnU3RyYXRlZ3kucmV2ZXJ0RHJhZygpfXNlbGVjdCgpe2ZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKHRoaXMpfXVuc2VsZWN0KCl7ZmlyZVNlbGVjdGVkRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24obnVsbCl9Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmZvY3VzYWJsZUVsZW1lbnR9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe3RoaXMuc2VsZWN0KCk7XG50aGlzLmJyaW5nVG9Gcm9udCgpO3ZhciBhPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2NvbnN0IGI9dGhpcy5nZXRTaXplKCk7YT1uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS55LGEueStiLmhlaWdodCxhLngsYS54K2Iud2lkdGgpO3RoaXMud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KGEpfW9uTm9kZUJsdXIoKXt0aGlzLnVuc2VsZWN0KCl9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuITB9Z2V0T3duZXIoKXtyZXR1cm4gdGhpcy5vd25lcn19O19hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGU9QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGU7QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIPTY7XG5CdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSPV9hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIKjI7QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuTUlOX1NJWkU9X2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSO0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLlRBSUxfVEhJQ0tORVNTPTE7QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuVEFJTF9BTkdMRT0yMDtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5UQUlMX0JFTkQ9NDtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5BTkNIT1JfUkFESVVTPTg7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5CdWJibGU9QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGU7dmFyIE1pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZT1jbGFzcyBleHRlbmRzIEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxle2NvbnN0cnVjdG9yKGEsYixjLGQpe3N1cGVyKGIsYyxkKTt0aGlzLndvcmtzcGFjZT1iO3RoaXMuYW5jaG9yPWM7dGhpcy5vd25lclJlY3Q9ZDt0aGlzLmF1dG9MYXlvdXQ9ITA7Yj1uZXcgT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMoYSk7dGhpcy52YWxpZGF0ZVdvcmtzcGFjZU9wdGlvbnMoYik7dGhpcy5zdmdEaWFsb2c9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHLHt4OkJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSCx5OkJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSH0sXG50aGlzLmNvbnRlbnRDb250YWluZXIpO2EucGFyZW50V29ya3NwYWNlPXRoaXMud29ya3NwYWNlO3RoaXMubWluaVdvcmtzcGFjZT10aGlzLm5ld1dvcmtzcGFjZVN2ZyhuZXcgT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMoYSkpO3RoaXMubWluaVdvcmtzcGFjZS5pbnRlcm5hbElzTXV0YXRvcj0hMDthPXRoaXMubWluaVdvcmtzcGFjZS5jcmVhdGVEb20oXCJibG9ja2x5TXV0YXRvckJhY2tncm91bmRcIik7dGhpcy5zdmdEaWFsb2cuYXBwZW5kQ2hpbGQoYSk7Yi5sYW5ndWFnZVRyZWUmJihhLmluc2VydEJlZm9yZSh0aGlzLm1pbmlXb3Jrc3BhY2UuYWRkRmx5b3V0KFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HKSx0aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Q2FudmFzKCkpLGE9dGhpcy5taW5pV29ya3NwYWNlLmdldEZseW91dCgpLGE9PW51bGx8fGEuaW5pdCh0aGlzLm1pbmlXb3Jrc3BhY2UpLGE9PW51bGx8fGEuc2hvdyhiLmxhbmd1YWdlVHJlZSkpO1xuYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseU1pbmlXb3Jrc3BhY2VCdWJibGVcIik7dGhpcy5taW5pV29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25Xb3Jrc3BhY2VDaGFuZ2UuYmluZCh0aGlzKSk7bGV0IGUsZjsoZT10aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCkpPT1udWxsfHwoZj1lLmdldFdvcmtzcGFjZSgpKT09bnVsbHx8Zi5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uV29ya3NwYWNlQ2hhbmdlLmJpbmQodGhpcykpO3RoaXMudXBkYXRlQnViYmxlU2l6ZSgpfWRpc3Bvc2UoKXt0aGlzLm1pbmlXb3Jrc3BhY2UuZGlzcG9zZSgpO3N1cGVyLmRpc3Bvc2UoKX1nZXRXb3Jrc3BhY2UoKXtyZXR1cm4gdGhpcy5taW5pV29ya3NwYWNlfWFkZFdvcmtzcGFjZUNoYW5nZUxpc3RlbmVyKGEpe3RoaXMubWluaVdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcihhKX12YWxpZGF0ZVdvcmtzcGFjZU9wdGlvbnMoYSl7aWYoYS5oYXNDYXRlZ29yaWVzKXRocm93IEVycm9yKFwiVGhlIG1pbml3b3Jrc3BhY2UgYnViYmxlIGRvZXMgbm90IHN1cHBvcnQgdG9vbGJveGVzIHdpdGggY2F0ZWdvcmllc1wiKTtcbmlmKGEuaGFzVHJhc2hjYW4pdGhyb3cgRXJyb3IoXCJUaGUgbWluaXdvcmtzcGFjZSBidWJibGUgZG9lcyBub3Qgc3VwcG9ydCB0cmFzaGNhbnNcIik7aWYoYS56b29tT3B0aW9ucy5jb250cm9sc3x8YS56b29tT3B0aW9ucy53aGVlbHx8YS56b29tT3B0aW9ucy5waW5jaCl0aHJvdyBFcnJvcihcIlRoZSBtaW5pd29ya3NwYWNlIGJ1YmJsZSBkb2VzIG5vdCBzdXBwb3J0IHpvb21pbmdcIik7aWYoYS5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzfHxhLm1vdmVPcHRpb25zLndoZWVsfHxhLm1vdmVPcHRpb25zLmRyYWcpdGhyb3cgRXJyb3IoXCJUaGUgbWluaXdvcmtzcGFjZSBidWJibGUgZG9lcyBub3Qgc2Nyb2xsaW5nL21vdmluZyB0aGUgd29ya3NwYWNlXCIpO2lmKGEuaG9yaXpvbnRhbExheW91dCl0aHJvdyBFcnJvcihcIlRoZSBtaW5pd29ya3NwYWNlIGJ1YmJsZSBkb2VzIG5vdCBzdXBwb3J0IGhvcml6b250YWwgbGF5b3V0c1wiKTt9b25Xb3Jrc3BhY2VDaGFuZ2UoKXt0aGlzLmJ1bXBCbG9ja3NJbnRvQm91bmRzKCk7XG50aGlzLnVwZGF0ZUJ1YmJsZVNpemUoKX1idW1wQmxvY2tzSW50b0JvdW5kcygpe2lmKCF0aGlzLm1pbmlXb3Jrc3BhY2UuaXNEcmFnZ2luZygpfHx0aGlzLm1pbmlXb3Jrc3BhY2Uua2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcylmb3IoY29uc3QgYSBvZiB0aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKCExKSl7Y29uc3QgYj1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtiLnk8MjAmJmEubW92ZUJ5KDAsMjAtYi55KTtpZihhLlJUTCl7bGV0IGM9LTIwO2NvbnN0IGQ9dGhpcy5taW5pV29ya3NwYWNlLmdldEZseW91dCgpO2QmJihjLT1kLmdldFdpZHRoKCkpO2IueD5jJiZhLm1vdmVCeShjLWIueCwwKX1lbHNlIGIueDwyMCYmYS5tb3ZlQnkoMjAtYi54LDApfX11cGRhdGVCdWJibGVTaXplKCl7aWYoIXRoaXMubWluaVdvcmtzcGFjZS5pc0RyYWdnaW5nKCl8fHRoaXMubWluaVdvcmtzcGFjZS5rZXlib2FyZE1vdmVJblByb2dyZXNzKXt0aGlzLmF1dG9MYXlvdXQmJih0aGlzLmF1dG9MYXlvdXQ9XG4hdGhpcy5taW5pV29ya3NwYWNlLmtleWJvYXJkTW92ZUluUHJvZ3Jlc3MpO3ZhciBhPXRoaXMuZ2V0U2l6ZSgpLGI9dGhpcy5jYWxjdWxhdGVXb3Jrc3BhY2VTaXplKCk7TWF0aC5hYnMoYS53aWR0aC1iLndpZHRoKTxNaW5pV29ya3NwYWNlQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRtaW5pX3dvcmtzcGFjZV9idWJibGUuTUlOSU1VTV9WSUVXX0NIQU5HRSYmTWF0aC5hYnMoYS5oZWlnaHQtYi5oZWlnaHQpPE1pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NSU5JTVVNX1ZJRVdfQ0hBTkdFfHwodGhpcy5zdmdEaWFsb2cuc2V0QXR0cmlidXRlKFwid2lkdGhcIixgJHtiLndpZHRofXB4YCksdGhpcy5zdmdEaWFsb2cuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYCR7Yi5oZWlnaHR9cHhgKSx0aGlzLm1pbmlXb3Jrc3BhY2Uuc2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZShiLndpZHRoLGIuaGVpZ2h0KSxcbnRoaXMubWluaVdvcmtzcGFjZS5SVEwmJnRoaXMubWluaVdvcmtzcGFjZS5nZXRDYW52YXMoKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixgdHJhbnNsYXRlKCR7Yi53aWR0aH0sIDApYCksdGhpcy5zZXRTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShiLndpZHRoK0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVIsYi5oZWlnaHQrQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUiksdGhpcy5hdXRvTGF5b3V0KSx0aGlzLm1pbmlXb3Jrc3BhY2UucmVzaXplKCksdGhpcy5taW5pV29ya3NwYWNlLnJlY29yZERyYWdUYXJnZXRzKCkpfX1jYWxjdWxhdGVXb3Jrc3BhY2VTaXplKCl7dmFyIGE9dGhpcy5taW5pV29ya3NwYWNlLmdldENhbnZhcygpLmdldEJCb3goKTtsZXQgYj1hLndpZHRoK01pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NQVJHSU47XG5hPWEuaGVpZ2h0K01pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NQVJHSU47Y29uc3QgYz10aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7aWYoYyl7Y29uc3QgZD1jLmdldFdvcmtzcGFjZSgpLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0U2Nyb2xsTWV0cmljcygpO2E9TWF0aC5tYXgoYSxkLmhlaWdodCsyMCk7Yis9Yy5nZXRXaWR0aCgpfXJldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYixhKX11cGRhdGVCbG9ja1N0eWxlcygpe2Zvcih2YXIgYSBvZiB0aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKCExKSlhLnNldFN0eWxlKGEuZ2V0U3R5bGVOYW1lKCkpO2xldCBiO2lmKGE9KGI9dGhpcy5taW5pV29ya3NwYWNlLmdldEZseW91dCgpKT09bnVsbD92b2lkIDA6Yi5nZXRXb3Jrc3BhY2UoKSlmb3IoY29uc3QgYyBvZiBhLmdldEFsbEJsb2NrcyghMSkpYy5zZXRTdHlsZShjLmdldFN0eWxlTmFtZSgpKX1tb3ZlRHVyaW5nRHJhZyhhKXtzdXBlci5tb3ZlRHVyaW5nRHJhZyhhKTtcbnRoaXMuYXV0b0xheW91dD0hMX1tb3ZlVG8oYSxiKXtzdXBlci5tb3ZlVG8oYSxiKTt0aGlzLm1pbmlXb3Jrc3BhY2UucmVjb3JkRHJhZ1RhcmdldHMoKX1uZXdXb3Jrc3BhY2VTdmcoYSl7dGhyb3cgRXJyb3IoXCJUaGUgaW1wbGVtZW50YXRpb24gb2YgbmV3V29ya3NwYWNlU3ZnIHNob3VsZCBiZSBtb25rZXktcGF0Y2hlZCBpbiBieSBibG9ja2x5LnRzXCIpO319O01pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NSU5JTVVNX1ZJRVdfQ0hBTkdFPTEwO01pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NQVJHSU49QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUiozO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRtaW5pX3dvcmtzcGFjZV9idWJibGU9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRtaW5pX3dvcmtzcGFjZV9idWJibGUuTWluaVdvcmtzcGFjZUJ1YmJsZT1NaW5pV29ya3NwYWNlQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRtaW5pX3dvcmtzcGFjZV9idWJibGU7dmFyIEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuc291cmNlQmxvY2s9YTt0aGlzLm9mZnNldEluQmxvY2s9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy53b3Jrc3BhY2VMb2NhdGlvbj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTt0aGlzLnN2Z1Jvb3Q9bnVsbDt0aGlzLnRvb2x0aXA9YTt0aGlzLmlkPWdldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCl9Z2V0VHlwZSgpe3Rocm93IEVycm9yKFwiSWNvbnMgbXVzdCBpbXBsZW1lbnQgZ2V0VHlwZVwiKTt9aW5pdFZpZXcoYSl7aWYoIXRoaXMuc3ZnUm9vdCl7dmFyIGI9dGhpcy5zb3VyY2VCbG9jazt0aGlzLnN2Z1Jvb3Q9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyxcbntcImNsYXNzXCI6XCJibG9ja2x5SWNvbkdyb3VwXCIsaWQ6dGhpcy5pZH0pO2IuZ2V0U3ZnUm9vdCgpLmFwcGVuZENoaWxkKHRoaXMuc3ZnUm9vdCk7dGhpcy51cGRhdGVTdmdSb290T2Zmc2V0KCk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdSb290LFwicG9pbnRlcmRvd25cIix0aGlzLGEpO3RoaXMuc3ZnUm9vdC50b29sdGlwPXRoaXM7YmluZE1vdXNlRXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCh0aGlzLnN2Z1Jvb3QpfX1kaXNwb3NlKCl7dW5iaW5kTW91c2VFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKHRoaXMuc3ZnUm9vdCk7cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QpfWdldFdlaWdodCgpe3JldHVybi0xfWdldFNpemUoKXtyZXR1cm4gbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDAsMCl9c2V0VG9vbHRpcChhKXt0aGlzLnRvb2x0aXA9XG5hIT1udWxsP2E6dGhpcy5zb3VyY2VCbG9ja31nZXRUb29sdGlwKCl7cmV0dXJuIHRoaXMudG9vbHRpcH1hcHBseUNvbG91cigpe311cGRhdGVFZGl0YWJsZSgpe311cGRhdGVDb2xsYXBzZWQoKXt0aGlzLnN2Z1Jvb3QmJih0aGlzLnNvdXJjZUJsb2NrLmlzQ29sbGFwc2VkKCk/dGhpcy5zdmdSb290LnN0eWxlLmRpc3BsYXk9XCJub25lXCI6dGhpcy5zdmdSb290LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLGhhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlKHRoaXMpJiZ0aGlzLnNldEJ1YmJsZVZpc2libGUoITEpKX1oaWRlRm9ySW5zZXJ0aW9uTWFya2VyKCl7dGhpcy5zdmdSb290JiYodGhpcy5zdmdSb290LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfWlzU2hvd25XaGVuQ29sbGFwc2VkKCl7cmV0dXJuITF9c2V0T2Zmc2V0SW5CbG9jayhhKXt0aGlzLm9mZnNldEluQmxvY2s9YTt0aGlzLnVwZGF0ZVN2Z1Jvb3RPZmZzZXQoKX11cGRhdGVTdmdSb290T2Zmc2V0KCl7bGV0IGE7XG4oYT10aGlzLnN2Z1Jvb3QpPT1udWxsfHxhLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGB0cmFuc2xhdGUoJHt0aGlzLm9mZnNldEluQmxvY2sueH0sICR7dGhpcy5vZmZzZXRJbkJsb2NrLnl9KWApfW9uTG9jYXRpb25DaGFuZ2UoYSl7dGhpcy53b3Jrc3BhY2VMb2NhdGlvbj1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYSx0aGlzLm9mZnNldEluQmxvY2spfW9uQ2xpY2soKXt9aXNDbGlja2FibGVJbkZseW91dChhKXtyZXR1cm4hMH1nZXRGb2N1c2FibGVFbGVtZW50KCl7Y29uc3QgYT10aGlzLnN2Z1Jvb3Q7aWYoIWEpdGhyb3cgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIGZvY3VzIHVuaW5pdGlhbGl6ZWQgaWNvbi5cIik7cmV0dXJuIGF9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe3ZhciBhPXRoaXMuc291cmNlQmxvY2suZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtcbmE9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEudG9wK3RoaXMub2Zmc2V0SW5CbG9jay55LGEudG9wK3RoaXMub2Zmc2V0SW5CbG9jay55K3RoaXMuZ2V0U2l6ZSgpLmhlaWdodCxhLmxlZnQrdGhpcy5vZmZzZXRJbkJsb2NrLngsYS5sZWZ0K3RoaXMub2Zmc2V0SW5CbG9jay54K3RoaXMuZ2V0U2l6ZSgpLndpZHRoKTt0aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5zY3JvbGxCb3VuZHNJbnRvVmlldyhhKX1vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfWdldFNvdXJjZUJsb2NrKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2t9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbi5JY29uPUljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uO3ZhciBTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLFdPUktTUEFDRV9NQVJHSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb247U0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbj0xNztXT1JLU1BBQ0VfTUFSR0lOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uPTE2O1xuJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbj1jbGFzcyBleHRlbmRzIEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29ue2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYik7dGhpcy5mbHlvdXRCbG9ja1R5cGVzPWE7dGhpcy5zb3VyY2VCbG9jaz1iO3RoaXMuc2F2ZUNvbm5lY3Rpb25zTGlzdGVuZXI9dGhpcy51cGRhdGVXb3Jrc3BhY2VQaWQ9dGhpcy5yb290QmxvY2s9dGhpcy5taW5pV29ya3NwYWNlQnViYmxlPW51bGx9Z2V0VHlwZSgpe3JldHVybiAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLlRZUEV9aW5pdFZpZXcoYSl7dGhpcy5zdmdSb290fHwoc3VwZXIuaW5pdFZpZXcoYSksY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TaGFwZVwiLFxucng6XCI0XCIscnk6XCI0XCIsaGVpZ2h0OlwiMTZcIix3aWR0aDpcIjE2XCJ9LHRoaXMuc3ZnUm9vdCksY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCx7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TeW1ib2xcIixkOlwibTQuMjAzLDcuMjk2IDAsMS4zNjggLTAuOTIsMC42NzcgLTAuMTEsMC40MSAwLjksMS41NTkgMC40MSwwLjExIDEuMDQzLC0wLjQ1NyAxLjE4NywwLjY4MyAwLjEyNywxLjEzNCAwLjMsMC4zIDEuOCwwIDAuMywtMC4yOTkgMC4xMjcsLTEuMTM4IDEuMTg1LC0wLjY4MiAxLjA0NiwwLjQ1OCAwLjQwOSwtMC4xMSAwLjksLTEuNTU5IC0wLjExLC0wLjQxIC0wLjkyLC0wLjY3NyAwLC0xLjM2NiAwLjkyLC0wLjY3NyAwLjExLC0wLjQxIC0wLjksLTEuNTU5IC0wLjQwOSwtMC4xMDkgLTEuMDQ2LDAuNDU4IC0xLjE4NSwtMC42ODIgLTAuMTI3LC0xLjEzOCAtMC4zLC0wLjI5OSAtMS44LDAgLTAuMywwLjMgLTAuMTI2LDEuMTM1IC0xLjE4NywwLjY4MiAtMS4wNDMsLTAuNDU3IC0wLjQxLDAuMTEgLTAuODk5LDEuNTU5IDAuMTA4LDAuNDA5elwifSxcbnRoaXMuc3ZnUm9vdCksY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQ0lSQ0xFLHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblNoYXBlXCIscjpcIjIuN1wiLGN4OlwiOFwiLGN5OlwiOFwifSx0aGlzLnN2Z1Jvb3QpLGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlNdXRhdG9ySWNvblwiKSl9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKTtsZXQgYTsoYT10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsfHxhLmRpc3Bvc2UoKX1nZXRXZWlnaHQoKXtyZXR1cm4gJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5XRUlHSFR9Z2V0U2l6ZSgpe3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbixcblNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24pfWFwcGx5Q29sb3VyKCl7c3VwZXIuYXBwbHlDb2xvdXIoKTtsZXQgYTsoYT10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsfHxhLnNldENvbG91cih0aGlzLnNvdXJjZUJsb2NrLmdldENvbG91cigpKTtsZXQgYjsoYj10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsfHxiLnVwZGF0ZUJsb2NrU3R5bGVzKCl9dXBkYXRlQ29sbGFwc2VkKCl7c3VwZXIudXBkYXRlQ29sbGFwc2VkKCk7dGhpcy5zb3VyY2VCbG9jay5pc0NvbGxhcHNlZCgpJiZ0aGlzLnNldEJ1YmJsZVZpc2libGUoITEpfW9uTG9jYXRpb25DaGFuZ2UoYSl7c3VwZXIub25Mb2NhdGlvbkNoYW5nZShhKTtsZXQgYjsoYj10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsfHxiLnNldEFuY2hvckxvY2F0aW9uKHRoaXMuZ2V0QW5jaG9yTG9jYXRpb24oKSl9b25DbGljaygpe3N1cGVyLm9uQ2xpY2soKTt0aGlzLnNvdXJjZUJsb2NrLmlzRWRpdGFibGUoKSYmXG50aGlzLnNldEJ1YmJsZVZpc2libGUoIXRoaXMuYnViYmxlSXNWaXNpYmxlKCkpfWlzQ2xpY2thYmxlSW5GbHlvdXQoKXtyZXR1cm4hMX1idWJibGVJc1Zpc2libGUoKXtyZXR1cm4hIXRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZX1zZXRCdWJibGVWaXNpYmxlKGEpe2NvbnN0IGI9dGhpcztyZXR1cm4oMCwkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JGdW5jdGlvbikoZnVuY3Rpb24qKCl7aWYoYi5idWJibGVJc1Zpc2libGUoKSE9PWEpe3lpZWxkIGZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpO2lmKGEpe2IubWluaVdvcmtzcGFjZUJ1YmJsZT1uZXcgTWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlKGIuZ2V0TWluaVdvcmtzcGFjZUNvbmZpZygpLGIuc291cmNlQmxvY2sud29ya3NwYWNlLGIuZ2V0QW5jaG9yTG9jYXRpb24oKSxcbmIuZ2V0QnViYmxlT3duZXJSZWN0KCkpO2IuYXBwbHlDb2xvdXIoKTtiLmNyZWF0ZVJvb3RCbG9jaygpO2IuYWRkU2F2ZUNvbm5lY3Rpb25zTGlzdGVuZXIoKTtsZXQgYzsoYz1iLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsfHxjLmFkZFdvcmtzcGFjZUNoYW5nZUxpc3RlbmVyKGIuY3JlYXRlTWluaVdvcmtzcGFjZUNoYW5nZUxpc3RlbmVyKCkpfWVsc2V7bGV0IGM7KGM9Yi5taW5pV29ya3NwYWNlQnViYmxlKT09bnVsbHx8Yy5kaXNwb3NlKCk7Yi5taW5pV29ya3NwYWNlQnViYmxlPW51bGw7Yi5zYXZlQ29ubmVjdGlvbnNMaXN0ZW5lciYmYi5zb3VyY2VCbG9jay53b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIoYi5zYXZlQ29ubmVjdGlvbnNMaXN0ZW5lcik7Yi5zYXZlQ29ubmVjdGlvbnNMaXN0ZW5lcj1udWxsfWZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQlVCQkxFX09QRU4pKShiLnNvdXJjZUJsb2NrLFxuYSxcIm11dGF0b3JcIikpfX0pfWdldEJ1YmJsZSgpe3JldHVybiB0aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGV9Z2V0TWluaVdvcmtzcGFjZUNvbmZpZygpe2xldCBhO2NvbnN0IGI9e2Rpc2FibGU6ITEsbWVkaWE6dGhpcy5zb3VyY2VCbG9jay53b3Jrc3BhY2Uub3B0aW9ucy5wYXRoVG9NZWRpYSxydGw6dGhpcy5zb3VyY2VCbG9jay5SVEwscmVuZGVyZXI6dGhpcy5zb3VyY2VCbG9jay53b3Jrc3BhY2Uub3B0aW9ucy5yZW5kZXJlcixyZW5kZXJlck92ZXJyaWRlczooYT10aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5vcHRpb25zLnJlbmRlcmVyT3ZlcnJpZGVzKSE9bnVsbD9hOnZvaWQgMH07dGhpcy5mbHlvdXRCbG9ja1R5cGVzLmxlbmd0aCYmKGIudG9vbGJveD17a2luZDpcImZseW91dFRvb2xib3hcIixjb250ZW50czp0aGlzLmZseW91dEJsb2NrVHlwZXMubWFwKGM9Pih7a2luZDpcImJsb2NrXCIsdHlwZTpjfSkpfSk7cmV0dXJuIGJ9Z2V0QW5jaG9yTG9jYXRpb24oKXtjb25zdCBhPVNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24vXG4yO3JldHVybiBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0odGhpcy53b3Jrc3BhY2VMb2NhdGlvbixuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYSxhKSl9Z2V0QnViYmxlT3duZXJSZWN0KCl7Y29uc3QgYT10aGlzLnNvdXJjZUJsb2NrLmdldFN2Z1Jvb3QoKS5nZXRCQm94KCk7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLnksYS55K2EuaGVpZ2h0LGEueCxhLngrYS53aWR0aCl9Y3JlYXRlUm9vdEJsb2NrKCl7aWYoIXRoaXMuc291cmNlQmxvY2suZGVjb21wb3NlKXRocm93IEVycm9yKFwiQmxvY2tzIHdpdGggbXV0YXRvciBpY29ucyBtdXN0IGluY2x1ZGUgYSBkZWNvbXBvc2UgbWV0aG9kXCIpO3RoaXMucm9vdEJsb2NrPXRoaXMuc291cmNlQmxvY2suZGVjb21wb3NlKHRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZS5nZXRXb3Jrc3BhY2UoKSk7XG5mb3IodmFyIGEgb2YgdGhpcy5yb290QmxvY2suZ2V0RGVzY2VuZGFudHMoITEpKWEucXVldWVSZW5kZXIoKTt0aGlzLnJvb3RCbG9jay5zZXRNb3ZhYmxlKCExKTt0aGlzLnJvb3RCbG9jay5zZXREZWxldGFibGUoITEpO2xldCBiLGMsZCxlO2E9KGU9KGI9dGhpcy5taW5pV29ya3NwYWNlQnViYmxlKT09bnVsbD92b2lkIDA6KGM9Yi5nZXRXb3Jrc3BhY2UoKSk9PW51bGw/dm9pZCAwOihkPWMuZ2V0Rmx5b3V0KCkpPT1udWxsP3ZvaWQgMDpkLmdldFdpZHRoKCkpIT1udWxsP2U6MDt0aGlzLnJvb3RCbG9jay5tb3ZlQnkodGhpcy5yb290QmxvY2suUlRMPy0oYStXT1JLU1BBQ0VfTUFSR0lOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uKTpXT1JLU1BBQ0VfTUFSR0lOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLFdPUktTUEFDRV9NQVJHSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24pfWFkZFNhdmVDb25uZWN0aW9uc0xpc3RlbmVyKCl7dGhpcy5zb3VyY2VCbG9jay5zYXZlQ29ubmVjdGlvbnMmJlxudGhpcy5yb290QmxvY2smJih0aGlzLnNhdmVDb25uZWN0aW9uc0xpc3RlbmVyPSgpPT57dGhpcy5zb3VyY2VCbG9jay5zYXZlQ29ubmVjdGlvbnMmJnRoaXMucm9vdEJsb2NrJiZ0aGlzLnNvdXJjZUJsb2NrLnNhdmVDb25uZWN0aW9ucyh0aGlzLnJvb3RCbG9jayl9LHRoaXMuc2F2ZUNvbm5lY3Rpb25zTGlzdGVuZXIoKSx0aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLnNhdmVDb25uZWN0aW9uc0xpc3RlbmVyKSl9Y3JlYXRlTWluaVdvcmtzcGFjZUNoYW5nZUxpc3RlbmVyKCl7cmV0dXJuIGE9PnskLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLmlzSWdub3JhYmxlTXV0YXRvckV2ZW50KGEpfHx0aGlzLnVwZGF0ZVdvcmtzcGFjZVBpZHx8KHRoaXMudXBkYXRlV29ya3NwYWNlUGlkPXNldFRpbWVvdXQoKCk9Pnt0aGlzLnVwZGF0ZVdvcmtzcGFjZVBpZD1udWxsO3RoaXMucmVjb21wb3NlU291cmNlQmxvY2soKX0sXG4wKSl9fXN0YXRpYyBpc0lnbm9yYWJsZU11dGF0b3JFdmVudChhKXtyZXR1cm4gYS5pc1VpRXZlbnR8fGlzQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKXx8aXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpJiZhLmVsZW1lbnQ9PT1cImRpc2FibGVkXCJ9cmVjb21wb3NlU291cmNlQmxvY2soKXtpZih0aGlzLnJvb3RCbG9jayl7aWYoIXRoaXMuc291cmNlQmxvY2suY29tcG9zZSl0aHJvdyBFcnJvcihcIkJsb2NrcyB3aXRoIG11dGF0b3IgaWNvbnMgbXVzdCBpbmNsdWRlIGEgY29tcG9zZSBtZXRob2RcIik7dmFyIGE9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2F8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3ZhciBiPUJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2UuZ2V0RXh0cmFCbG9ja1N0YXRlXyh0aGlzLnNvdXJjZUJsb2NrKTtcbnRoaXMuc291cmNlQmxvY2suY29tcG9zZSh0aGlzLnJvb3RCbG9jayk7dmFyIGM9QmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NoYW5nZS5nZXRFeHRyYUJsb2NrU3RhdGVfKHRoaXMuc291cmNlQmxvY2spO2IhPT1jJiZmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSkpKHRoaXMuc291cmNlQmxvY2ssXCJtdXRhdGlvblwiLG51bGwsYixjKSk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX19Z2V0V29ya3NwYWNlKCl7bGV0IGE7cmV0dXJuKGE9dGhpcy5taW5pV29ya3NwYWNlQnViYmxlKT09bnVsbD92b2lkIDA6YS5nZXRXb3Jrc3BhY2UoKX19O1xuJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5UWVBFPUljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5NVVRBVE9SOyQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24uV0VJR0hUPTE7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5NdXRhdG9ySWNvbj0kLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uO3ZhciBhbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1PYmplY3QuY3JlYXRlKG51bGwpLFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9e2FsbEV4dGVuc2lvbnM6YWxsRXh0ZW5zaW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnN9OyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwicGFyZW50X3Rvb2x0aXBfd2hlbl9pbmxpbmVcIixleHRlbnNpb25QYXJlbnRUb29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPXtURVNUX09OTFk6VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMuYXBwbHk9YXBwbHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMuYnVpbGRUb29sdGlwRm9yRHJvcGRvd249JC5idWlsZFRvb2x0aXBGb3JEcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dD0kLmJ1aWxkVG9vbHRpcFdpdGhGaWVsZFRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLmlzUmVnaXN0ZXJlZD1pc1JlZ2lzdGVyZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLnJlZ2lzdGVyPSQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLnJlZ2lzdGVyTWl4aW49JC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLnJlZ2lzdGVyTXV0YXRvcj0kLnJlZ2lzdGVyTXV0YXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMucnVuQWZ0ZXJQYWdlTG9hZD1ydW5BZnRlclBhZ2VMb2FkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucy51bnJlZ2lzdGVyPXVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO3ZhciBLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzO1xuKGZ1bmN0aW9uKGEpe2FbYS5XSU5fS0VZX0ZGX0xJTlVYPTBdPVwiV0lOX0tFWV9GRl9MSU5VWFwiO2FbYS5NQUNfRU5URVI9M109XCJNQUNfRU5URVJcIjthW2EuQkFDS1NQQUNFPThdPVwiQkFDS1NQQUNFXCI7YVthLlRBQj05XT1cIlRBQlwiO2FbYS5OVU1fQ0VOVEVSPTEyXT1cIk5VTV9DRU5URVJcIjthW2EuRU5URVI9MTNdPVwiRU5URVJcIjthW2EuU0hJRlQ9MTZdPVwiU0hJRlRcIjthW2EuQ1RSTD0xN109XCJDVFJMXCI7YVthLkFMVD0xOF09XCJBTFRcIjthW2EuUEFVU0U9MTldPVwiUEFVU0VcIjthW2EuQ0FQU19MT0NLPTIwXT1cIkNBUFNfTE9DS1wiO2FbYS5FU0M9MjddPVwiRVNDXCI7YVthLlNQQUNFPTMyXT1cIlNQQUNFXCI7YVthLlBBR0VfVVA9MzNdPVwiUEFHRV9VUFwiO2FbYS5QQUdFX0RPV049MzRdPVwiUEFHRV9ET1dOXCI7YVthLkVORD0zNV09XCJFTkRcIjthW2EuSE9NRT0zNl09XCJIT01FXCI7YVthLkxFRlQ9MzddPVwiTEVGVFwiO2FbYS5VUD0zOF09XCJVUFwiO2FbYS5SSUdIVD0zOV09XCJSSUdIVFwiO2FbYS5ET1dOPTQwXT1cblwiRE9XTlwiO2FbYS5QTFVTX1NJR049NDNdPVwiUExVU19TSUdOXCI7YVthLlBSSU5UX1NDUkVFTj00NF09XCJQUklOVF9TQ1JFRU5cIjthW2EuSU5TRVJUPTQ1XT1cIklOU0VSVFwiO2FbYS5ERUxFVEU9NDZdPVwiREVMRVRFXCI7YVthLlpFUk89NDhdPVwiWkVST1wiO2FbYS5PTkU9NDldPVwiT05FXCI7YVthLlRXTz01MF09XCJUV09cIjthW2EuVEhSRUU9NTFdPVwiVEhSRUVcIjthW2EuRk9VUj01Ml09XCJGT1VSXCI7YVthLkZJVkU9NTNdPVwiRklWRVwiO2FbYS5TSVg9NTRdPVwiU0lYXCI7YVthLlNFVkVOPTU1XT1cIlNFVkVOXCI7YVthLkVJR0hUPTU2XT1cIkVJR0hUXCI7YVthLk5JTkU9NTddPVwiTklORVwiO2FbYS5GRl9TRU1JQ09MT049NTldPVwiRkZfU0VNSUNPTE9OXCI7YVthLkZGX0VRVUFMUz02MV09XCJGRl9FUVVBTFNcIjthW2EuRkZfREFTSD0xNzNdPVwiRkZfREFTSFwiO2FbYS5GRl9IQVNIPTE2M109XCJGRl9IQVNIXCI7YVthLlFVRVNUSU9OX01BUks9NjNdPVwiUVVFU1RJT05fTUFSS1wiO2FbYS5BVF9TSUdOPTY0XT1cIkFUX1NJR05cIjtcbmFbYS5BPTY1XT1cIkFcIjthW2EuQj02Nl09XCJCXCI7YVthLkM9NjddPVwiQ1wiO2FbYS5EPTY4XT1cIkRcIjthW2EuRT02OV09XCJFXCI7YVthLkY9NzBdPVwiRlwiO2FbYS5HPTcxXT1cIkdcIjthW2EuSD03Ml09XCJIXCI7YVthLkk9NzNdPVwiSVwiO2FbYS5KPTc0XT1cIkpcIjthW2EuSz03NV09XCJLXCI7YVthLkw9NzZdPVwiTFwiO2FbYS5NPTc3XT1cIk1cIjthW2EuTj03OF09XCJOXCI7YVthLk89NzldPVwiT1wiO2FbYS5QPTgwXT1cIlBcIjthW2EuUT04MV09XCJRXCI7YVthLlI9ODJdPVwiUlwiO2FbYS5TPTgzXT1cIlNcIjthW2EuVD04NF09XCJUXCI7YVthLlU9ODVdPVwiVVwiO2FbYS5WPTg2XT1cIlZcIjthW2EuVz04N109XCJXXCI7YVthLlg9ODhdPVwiWFwiO2FbYS5ZPTg5XT1cIllcIjthW2EuWj05MF09XCJaXCI7YVthLk1FVEE9OTFdPVwiTUVUQVwiO2FbYS5XSU5fS0VZX1JJR0hUPTkyXT1cIldJTl9LRVlfUklHSFRcIjthW2EuQ09OVEVYVF9NRU5VPTkzXT1cIkNPTlRFWFRfTUVOVVwiO2FbYS5OVU1fWkVSTz05Nl09XCJOVU1fWkVST1wiO2FbYS5OVU1fT05FPTk3XT1cblwiTlVNX09ORVwiO2FbYS5OVU1fVFdPPTk4XT1cIk5VTV9UV09cIjthW2EuTlVNX1RIUkVFPTk5XT1cIk5VTV9USFJFRVwiO2FbYS5OVU1fRk9VUj0xMDBdPVwiTlVNX0ZPVVJcIjthW2EuTlVNX0ZJVkU9MTAxXT1cIk5VTV9GSVZFXCI7YVthLk5VTV9TSVg9MTAyXT1cIk5VTV9TSVhcIjthW2EuTlVNX1NFVkVOPTEwM109XCJOVU1fU0VWRU5cIjthW2EuTlVNX0VJR0hUPTEwNF09XCJOVU1fRUlHSFRcIjthW2EuTlVNX05JTkU9MTA1XT1cIk5VTV9OSU5FXCI7YVthLk5VTV9NVUxUSVBMWT0xMDZdPVwiTlVNX01VTFRJUExZXCI7YVthLk5VTV9QTFVTPTEwN109XCJOVU1fUExVU1wiO2FbYS5OVU1fTUlOVVM9MTA5XT1cIk5VTV9NSU5VU1wiO2FbYS5OVU1fUEVSSU9EPTExMF09XCJOVU1fUEVSSU9EXCI7YVthLk5VTV9ESVZJU0lPTj0xMTFdPVwiTlVNX0RJVklTSU9OXCI7YVthLkYxPTExMl09XCJGMVwiO2FbYS5GMj0xMTNdPVwiRjJcIjthW2EuRjM9MTE0XT1cIkYzXCI7YVthLkY0PTExNV09XCJGNFwiO2FbYS5GNT0xMTZdPVwiRjVcIjthW2EuRjY9XG4xMTddPVwiRjZcIjthW2EuRjc9MTE4XT1cIkY3XCI7YVthLkY4PTExOV09XCJGOFwiO2FbYS5GOT0xMjBdPVwiRjlcIjthW2EuRjEwPTEyMV09XCJGMTBcIjthW2EuRjExPTEyMl09XCJGMTFcIjthW2EuRjEyPTEyM109XCJGMTJcIjthW2EuTlVNTE9DSz0xNDRdPVwiTlVNTE9DS1wiO2FbYS5TQ1JPTExfTE9DSz0xNDVdPVwiU0NST0xMX0xPQ0tcIjthW2EuRklSU1RfTUVESUFfS0VZPTE2Nl09XCJGSVJTVF9NRURJQV9LRVlcIjthW2EuTEFTVF9NRURJQV9LRVk9MTgzXT1cIkxBU1RfTUVESUFfS0VZXCI7YVthLlNFTUlDT0xPTj0xODZdPVwiU0VNSUNPTE9OXCI7YVthLkRBU0g9MTg5XT1cIkRBU0hcIjthW2EuRVFVQUxTPTE4N109XCJFUVVBTFNcIjthW2EuQ09NTUE9MTg4XT1cIkNPTU1BXCI7YVthLlBFUklPRD0xOTBdPVwiUEVSSU9EXCI7YVthLlNMQVNIPTE5MV09XCJTTEFTSFwiO2FbYS5BUE9TVFJPUEhFPTE5Ml09XCJBUE9TVFJPUEhFXCI7YVthLlRJTERFPTE5Ml09XCJUSUxERVwiO2FbYS5TSU5HTEVfUVVPVEU9MjIyXT1cIlNJTkdMRV9RVU9URVwiO1xuYVthLk9QRU5fU1FVQVJFX0JSQUNLRVQ9MjE5XT1cIk9QRU5fU1FVQVJFX0JSQUNLRVRcIjthW2EuQkFDS1NMQVNIPTIyMF09XCJCQUNLU0xBU0hcIjthW2EuQ0xPU0VfU1FVQVJFX0JSQUNLRVQ9MjIxXT1cIkNMT1NFX1NRVUFSRV9CUkFDS0VUXCI7YVthLldJTl9LRVk9MjI0XT1cIldJTl9LRVlcIjthW2EuTUFDX0ZGX01FVEE9MjI0XT1cIk1BQ19GRl9NRVRBXCI7YVthLk1BQ19XS19DTURfTEVGVD05MV09XCJNQUNfV0tfQ01EX0xFRlRcIjthW2EuTUFDX1dLX0NNRF9SSUdIVD05M109XCJNQUNfV0tfQ01EX1JJR0hUXCI7YVthLldJTl9JTUU9MjI5XT1cIldJTl9JTUVcIjthW2EuVktfTk9OQU1FPTI1Ml09XCJWS19OT05BTUVcIjthW2EuUEhBTlRPTT0yNTVdPVwiUEhBTlRPTVwifSkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlc3x8KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXM9e30pKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLktleUNvZGVzPUtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5hcmM9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMuY3VydmU9Y3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5saW5lPWxpbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5saW5lT25BeGlzPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5saW5lVG89bGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5tb3ZlQnk9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMubW92ZVRvPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRoczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLnBvaW50PXBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLkNvb3JkaW5hdGU9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLktleUNvZGVzPUtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLlJlY3Q9UmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3Q7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLlNpemU9U2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLlN2Zz1TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLmFyaWE9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuYXJyYXk9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5icm93c2VyRXZlbnRzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuY29sb3VyPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLmRlcHJlY2F0aW9uPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuZG9tPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLmV4dGVuc2lvbnM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLmlkR2VuZXJhdG9yPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5tYXRoPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5vYmplY3Q9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMucGFyc2luZz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuc3RyaW5nPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLnN0eWxlPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuc3ZnTWF0aD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLnN2Z1BhdGhzPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMudG9vbGJveD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMudXNlckFnZW50PW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLnhtbD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sO3ZhciBUZXh0SW5wdXRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRpbnB1dF9idWJibGU9Y2xhc3MgZXh0ZW5kcyBCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZXtjb25zdHJ1Y3RvcihhLGIsYyxkKXtzdXBlcihhLGIsYyx2b2lkIDAsZCk7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmFuY2hvcj1iO3RoaXMub3duZXJSZWN0PWM7dGhpcy5vd25lcj1kO3RoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lcj10aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyPW51bGw7dGhpcy5zaXplQ2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMubG9jYXRpb25DaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy5ERUZBVUxUX1NJWkU9bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDE2MCtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSLDgwK0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVIpO1xudGhpcy5NSU5fU0laRT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoNDUrQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUiwyMCtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSKTt0aGlzLmVkaXRhYmxlPSEwO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlUZXh0SW5wdXRCdWJibGVcIik7dGhpcy5lZGl0b3I9bmV3IENvbW1lbnRFZGl0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcihhLHRoaXMuaWQsKCk9PnskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcyl9KTt0aGlzLmNvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lZGl0b3IuZ2V0RG9tKCkpO1xudGhpcy5yZXNpemVHcm91cD10aGlzLmNyZWF0ZVJlc2l6ZUhhbmRsZSh0aGlzLnN2Z1Jvb3QsYSk7dGhpcy5zZXRTaXplKHRoaXMuREVGQVVMVF9TSVpFLCEwKX1nZXRUZXh0KCl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldFRleHQoKX1zZXRUZXh0KGEpe3RoaXMuZWRpdG9yLnNldFRleHQoYSl9c2V0RWRpdGFibGUoYSl7dGhpcy5lZGl0YWJsZT1hO3RoaXMuZWRpdG9yLnNldEVkaXRhYmxlKGEpfWlzRWRpdGFibGUoKXtyZXR1cm4gdGhpcy5lZGl0YWJsZX1hZGRUZXh0Q2hhbmdlTGlzdGVuZXIoYSl7dGhpcy5lZGl0b3IuYWRkVGV4dENoYW5nZUxpc3RlbmVyKGEpfWFkZFNpemVDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnMucHVzaChhKX1hZGRMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKGEpe3RoaXMubG9jYXRpb25DaGFuZ2VMaXN0ZW5lcnMucHVzaChhKX1jcmVhdGVSZXNpemVIYW5kbGUoYSxiKXthPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLklNQUdFLFxue1wiY2xhc3NcIjpcImJsb2NrbHlSZXNpemVIYW5kbGVcIixocmVmOmAke2Iub3B0aW9ucy5wYXRoVG9NZWRpYX1yZXNpemUtaGFuZGxlLnN2Z2B9LGEpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vblJlc2l6ZVBvaW50ZXJEb3duKTtyZXR1cm4gYX1zZXRTaXplKGEsYj0hMSl7YS53aWR0aD1NYXRoLm1heChhLndpZHRoLHRoaXMuTUlOX1NJWkUud2lkdGgpO2EuaGVpZ2h0PU1hdGgubWF4KGEuaGVpZ2h0LHRoaXMuTUlOX1NJWkUuaGVpZ2h0KTtjb25zdCBjPWEud2lkdGgtQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUixkPWEuaGVpZ2h0LUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVI7dGhpcy5lZGl0b3IudXBkYXRlU2l6ZShuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYyxcbmQpLG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgwLDApKTt0aGlzLmVkaXRvci5nZXREb20oKS5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUi8yfWApO3RoaXMuZWRpdG9yLmdldERvbSgpLnNldEF0dHJpYnV0ZShcInlcIixgJHtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSLzJ9YCk7dGhpcy5yZXNpemVHcm91cC5zZXRBdHRyaWJ1dGUoXCJ5XCIsYCR7ZH1gKTt0aGlzLndvcmtzcGFjZS5SVEw/dGhpcy5yZXNpemVHcm91cC5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7LUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVJ9YCk6dGhpcy5yZXNpemVHcm91cC5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7Y31gKTtzdXBlci5zZXRTaXplKGEsYik7dGhpcy5vblNpemVDaGFuZ2UoKX1nZXRTaXplKCl7cmV0dXJuIHN1cGVyLmdldFNpemUoKX1tb3ZlRHVyaW5nRHJhZyhhKXtzdXBlci5tb3ZlRHVyaW5nRHJhZyhhKTtcbnRoaXMub25Mb2NhdGlvbkNoYW5nZSgpfXNldFBvc2l0aW9uUmVsYXRpdmVUb0FuY2hvcihhLGIpe3N1cGVyLnNldFBvc2l0aW9uUmVsYXRpdmVUb0FuY2hvcihhLGIpO3RoaXMub25Mb2NhdGlvbkNoYW5nZSgpfXBvc2l0aW9uQnlSZWN0KGE9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KDAsMCwwLDApKXtzdXBlci5wb3NpdGlvbkJ5UmVjdChhKTt0aGlzLm9uTG9jYXRpb25DaGFuZ2UoKX1vblJlc2l6ZVBvaW50ZXJEb3duKGEpe3RoaXMuYnJpbmdUb0Zyb250KCk7aXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpfHwoc3RhcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnKHRoaXMud29ya3NwYWNlLGEsbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKHRoaXMud29ya3NwYWNlLlJUTD8tdGhpcy5nZXRTaXplKCkud2lkdGg6dGhpcy5nZXRTaXplKCkud2lkdGgsXG50aGlzLmdldFNpemUoKS5oZWlnaHQpKSx0aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGRvY3VtZW50LFwicG9pbnRlcnVwXCIsdGhpcyx0aGlzLm9uUmVzaXplUG9pbnRlclVwKSx0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVybW92ZVwiLHRoaXMsdGhpcy5vblJlc2l6ZVBvaW50ZXJNb3ZlKSx0aGlzLndvcmtzcGFjZS5oaWRlQ2hhZmYoKSk7YS5zdG9wUHJvcGFnYXRpb24oKX1vblJlc2l6ZVBvaW50ZXJVcChhKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7dGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMucmVzaXplUG9pbnRlclVwTGlzdGVuZXIpLFxudGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lcj1udWxsKTt0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXIpLHRoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lcj1udWxsKX1vblJlc2l6ZVBvaW50ZXJNb3ZlKGEpe2E9bW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcodGhpcy53b3Jrc3BhY2UsYSk7dGhpcy5zZXRTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSh0aGlzLndvcmtzcGFjZS5SVEw/LWEueDphLngsYS55KSwhMSk7dGhpcy5vblNpemVDaGFuZ2UoKX1vblNpemVDaGFuZ2UoKXtmb3IoY29uc3QgYSBvZiB0aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnMpYSgpfW9uTG9jYXRpb25DaGFuZ2UoKXtmb3IoY29uc3QgYSBvZiB0aGlzLmxvY2F0aW9uQ2hhbmdlTGlzdGVuZXJzKWEoKX1nZXRFZGl0b3IoKXtyZXR1cm4gdGhpcy5lZGl0b3J9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKFwiXFxuLmJsb2NrbHlUZXh0SW5wdXRCdWJibGUgLmJsb2NrbHlUZXh0YXJlYSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb21tZW50RmlsbENvbG91cik7XFxuICBib3JkZXI6IDA7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBvdXRsaW5lOiAwO1xcbiAgcGFkZGluZzogNXB4O1xcbiAgcmVzaXplOiBub25lO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblwiKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dGlucHV0X2J1YmJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0aW5wdXRfYnViYmxlLlRleHRJbnB1dEJ1YmJsZT1UZXh0SW5wdXRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRpbnB1dF9idWJibGU7dmFyIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlOyhmdW5jdGlvbihhKXthW2EuSU5QVVRfVkFMVUU9MV09XCJJTlBVVF9WQUxVRVwiO2FbYS5PVVRQVVRfVkFMVUU9Ml09XCJPVVRQVVRfVkFMVUVcIjthW2EuTkVYVF9TVEFURU1FTlQ9M109XCJORVhUX1NUQVRFTUVOVFwiO2FbYS5QUkVWSU9VU19TVEFURU1FTlQ9NF09XCJQUkVWSU9VU19TVEFURU1FTlRcIn0pKENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlfHwoQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGU9e30pKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLkNvbm5lY3Rpb25UeXBlPUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlO3ZhciBDb25uZWN0aW9uREIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuY29ubmVjdGlvbkNoZWNrZXI9YTt0aGlzLmNvbm5lY3Rpb25zPVtdfWFkZENvbm5lY3Rpb24oYSxiKXtiPXRoaXMuY2FsY3VsYXRlSW5kZXhGb3JZUG9zKGIpO3RoaXMuY29ubmVjdGlvbnMuc3BsaWNlKGIsMCxhKX1maW5kSW5kZXhPZkNvbm5lY3Rpb24oYSxiKXtpZighdGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpcmV0dXJuLTE7Y29uc3QgYz10aGlzLmNhbGN1bGF0ZUluZGV4Rm9yWVBvcyhiKTtpZihjPj10aGlzLmNvbm5lY3Rpb25zLmxlbmd0aClyZXR1cm4tMTtiPWEueTtsZXQgZD1jO2Zvcig7ZD49MCYmdGhpcy5jb25uZWN0aW9uc1tkXS55PT09Yjspe2lmKHRoaXMuY29ubmVjdGlvbnNbZF09PT1hKXJldHVybiBkO2QtLX1mb3IoZD1jO2Q8dGhpcy5jb25uZWN0aW9ucy5sZW5ndGgmJnRoaXMuY29ubmVjdGlvbnNbZF0ueT09PWI7KXtpZih0aGlzLmNvbm5lY3Rpb25zW2RdPT09XG5hKXJldHVybiBkO2QrK31yZXR1cm4tMX1jYWxjdWxhdGVJbmRleEZvcllQb3MoYSl7aWYoIXRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKXJldHVybiAwO2xldCBiPTAsYz10aGlzLmNvbm5lY3Rpb25zLmxlbmd0aDtmb3IoO2I8Yzspe2NvbnN0IGQ9TWF0aC5mbG9vcigoYitjKS8yKTtpZih0aGlzLmNvbm5lY3Rpb25zW2RdLnk8YSliPWQrMTtlbHNlIGlmKHRoaXMuY29ubmVjdGlvbnNbZF0ueT5hKWM9ZDtlbHNle2I9ZDticmVha319cmV0dXJuIGJ9cmVtb3ZlQ29ubmVjdGlvbihhLGIpe2E9dGhpcy5maW5kSW5kZXhPZkNvbm5lY3Rpb24oYSxiKTtpZihhPT09LTEpdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBjb25uZWN0aW9uIGluIGNvbm5lY3Rpb25EQi5cIik7dGhpcy5jb25uZWN0aW9ucy5zcGxpY2UoYSwxKX1nZXROZWlnaGJvdXJzKGEsYil7ZnVuY3Rpb24gYyhsKXtjb25zdCBtPWUtZFtsXS54LG49Zi1kW2xdLnk7TWF0aC5zcXJ0KG0qbStuKm4pPD1iJiZrLnB1c2goZFtsXSk7XG5yZXR1cm4gbjxifWNvbnN0IGQ9dGhpcy5jb25uZWN0aW9ucyxlPWEueCxmPWEueTthPTA7bGV0IGc9ZC5sZW5ndGgtMixoPWc7Zm9yKDthPGg7KWRbaF0ueTxmP2E9aDpnPWgsaD1NYXRoLmZsb29yKChhK2cpLzIpO2NvbnN0IGs9W107Zz1hPWg7aWYoZC5sZW5ndGgpe2Zvcig7YT49MCYmYyhhKTspYS0tO2RvIGcrKzt3aGlsZShnPGQubGVuZ3RoJiZjKGcpKX1yZXR1cm4ga31pc0luWVJhbmdlKGEsYixjKXtyZXR1cm4gTWF0aC5hYnModGhpcy5jb25uZWN0aW9uc1thXS55LWIpPD1jfXNlYXJjaEZvckNsb3Nlc3QoYSxiLGMpe2lmKCF0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aClyZXR1cm57Y29ubmVjdGlvbjpudWxsLHJhZGl1czpifTtjb25zdCBkPWEueSxlPWEueDthLng9ZStjLng7YS55PWQrYy55O3ZhciBmPXRoaXMuY2FsY3VsYXRlSW5kZXhGb3JZUG9zKGEueSk7Yz1udWxsO2xldCBnPWIsaCxrPWYtMTtmb3IoO2s+PTAmJnRoaXMuaXNJbllSYW5nZShrLGEueSxiKTspaD10aGlzLmNvbm5lY3Rpb25zW2tdLFxudGhpcy5jb25uZWN0aW9uQ2hlY2tlci5jYW5Db25uZWN0KGEsaCwhMCxnKSYmKGM9aCxnPWguZGlzdGFuY2VGcm9tKGEpKSxrLS07Zm9yKDtmPHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoJiZ0aGlzLmlzSW5ZUmFuZ2UoZixhLnksYik7KWg9dGhpcy5jb25uZWN0aW9uc1tmXSx0aGlzLmNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoYSxoLCEwLGcpJiYoYz1oLGc9aC5kaXN0YW5jZUZyb20oYSkpLGYrKzthLng9ZTthLnk9ZDtyZXR1cm57Y29ubmVjdGlvbjpjLHJhZGl1czpnfX1zdGF0aWMgaW5pdChhKXtjb25zdCBiPVtdO2JbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUVdPW5ldyBDb25uZWN0aW9uREIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiKGEpO2JbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFXT1uZXcgQ29ubmVjdGlvbkRCJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9kYihhKTtcbmJbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlRdPW5ldyBDb25uZWN0aW9uREIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiKGEpO2JbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UXT1uZXcgQ29ubmVjdGlvbkRCJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9kYihhKTtyZXR1cm4gYn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiLkNvbm5lY3Rpb25EQj1Db25uZWN0aW9uREIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiO3ZhciBTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQ9Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGMpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5TRUxFQ1RFRDt0aGlzLm9sZEVsZW1lbnRJZD1hIT1udWxsP2E6dm9pZCAwO3RoaXMubmV3RWxlbWVudElkPWIhPW51bGw/Yjp2b2lkIDB9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTthLm9sZEVsZW1lbnRJZD10aGlzLm9sZEVsZW1lbnRJZDthLm5ld0VsZW1lbnRJZD10aGlzLm5ld0VsZW1lbnRJZDtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgU2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3NlbGVjdGVkKTtcbmIub2xkRWxlbWVudElkPWEub2xkRWxlbWVudElkO2IubmV3RWxlbWVudElkPWEubmV3RWxlbWVudElkO3JldHVybiBifX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuU0VMRUNURUQsU2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3NlbGVjdGVkKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQuU2VsZWN0ZWQ9U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3NlbGVjdGVkO3ZhciBCbG9ja0RlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZGVsZXRlPWNsYXNzIGV4dGVuZHMgQmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEU7aWYoYSl7aWYoYS5nZXRQYXJlbnQoKSl0aHJvdyBFcnJvcihcIkNvbm5lY3RlZCBibG9ja3MgY2Fubm90IGJlIGRlbGV0ZWQuXCIpO2EuaXNTaGFkb3coKSYmKHRoaXMucmVjb3JkVW5kbz0hMSk7dGhpcy5vbGRYbWw9YmxvY2tUb0RvbVdpdGhYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhKTt0aGlzLmlkcz1nZXREZXNjZW5kYW50SWRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpO3RoaXMud2FzU2hhZG93PWEuaXNTaGFkb3coKTt0aGlzLm9sZEpzb249XG5zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSx7YWRkQ29vcmRpbmF0ZXM6ITB9KX19dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy5vbGRYbWwpdGhyb3cgRXJyb3IoXCJUaGUgb2xkIGJsb2NrIFhNTCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLmlkcyl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBJRHMgYXJlIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYodGhpcy53YXNTaGFkb3c9PT12b2lkIDApdGhyb3cgRXJyb3IoXCJXaGV0aGVyIHRoZSBibG9jayB3YXMgYSBzaGFkb3cgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5vbGRKc29uKXRocm93IEVycm9yKFwiVGhlIG9sZCBibG9jayBKU09OIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5hLm9sZFhtbD1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwodGhpcy5vbGRYbWwpO2EuaWRzPXRoaXMuaWRzO2Eud2FzU2hhZG93PXRoaXMud2FzU2hhZG93O2Eub2xkSnNvbj10aGlzLm9sZEpzb247dGhpcy5yZWNvcmRVbmRvfHwoYS5yZWNvcmRVbmRvPXRoaXMucmVjb3JkVW5kbyk7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IEJsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kZWxldGUpO2Iub2xkWG1sPSQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEub2xkWG1sKTtiLmlkcz1hLmlkcztiLndhc1NoYWRvdz1hLndhc1NoYWRvd3x8Yi5vbGRYbWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJzaGFkb3dcIjtiLm9sZEpzb249YS5vbGRKc29uO2EucmVjb3JkVW5kbyE9PXZvaWQgMCYmKGIucmVjb3JkVW5kbz1cbmEucmVjb3JkVW5kbyk7cmV0dXJuIGJ9cnVuKGEpe2NvbnN0IGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5pZHMpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSURzIGFyZSB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLm9sZEpzb24pdGhyb3cgRXJyb3IoXCJUaGUgb2xkIGJsb2NrIEpTT04gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZihhKWZvcihhPTA7YTx0aGlzLmlkcy5sZW5ndGg7YSsrKXtjb25zdCBjPXRoaXMuaWRzW2FdLGQ9Yi5nZXRCbG9ja0J5SWQoYyk7ZD9kLmRpc3Bvc2UoITEpOmM9PT10aGlzLmJsb2NrSWQmJmNvbnNvbGUud2FybihcIkNhbid0IGRlbGV0ZSBub24tZXhpc3RlbnQgYmxvY2s6IFwiK2MpfWVsc2UgYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3ModGhpcy5vbGRKc29uLFxuYil9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEUsQmxvY2tEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RlbGV0ZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RlbGV0ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kZWxldGUuQmxvY2tEZWxldGU9QmxvY2tEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RlbGV0ZTt2YXIgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb249Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLnR5cGU9Yjt0aGlzLnRhcmdldENvbm5lY3Rpb249bnVsbDt0aGlzLmRpc3Bvc2VkPSExO3RoaXMuc2hhZG93RG9tPXRoaXMuY2hlY2s9bnVsbDt0aGlzLnk9dGhpcy54PTA7dGhpcy5zaGFkb3dTdGF0ZT1udWxsO3RoaXMuc291cmNlQmxvY2tfPWE7aWYoYS5pZC5pbmNsdWRlcyhcIl9jb25uZWN0aW9uXCIpKXRocm93IEVycm9yKFwiQ29ubmVjdGlvbiBJRCBpbmRpY2F0b3IgaXMgY29udGFpbmVkIGluIGJsb2NrIElELiBUaGlzIHdpbGwgY2F1c2UgXCIrYHByb2JsZW1zIHdpdGggZm9jdXM6ICR7YS5pZH0uYCk7dGhpcy5pZD1gJHthLmlkfV9jb25uZWN0aW9uXyR7Z2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKX1gfWNvbm5lY3RfKGEpe2NvbnN0IGI9Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUUsXG5jPXRoaXMuZ2V0U291cmNlQmxvY2soKTt2YXIgZD1hLmdldFNvdXJjZUJsb2NrKCk7YS5pc0Nvbm5lY3RlZCgpJiZhLmRpc2Nvbm5lY3RJbnRlcm5hbCghMSk7bGV0IGU7aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXtjb25zdCBnPXRoaXMuc3Rhc2hTaGFkb3dTdGF0ZSgpLGg9dGhpcy50YXJnZXRCbG9jaygpO2guaXNTaGFkb3coKT9oLmRpc3Bvc2UoITEpOih0aGlzLmRpc2Nvbm5lY3RJbnRlcm5hbCgpLGU9aCk7dGhpcy5hcHBseVNoYWRvd1N0YXRlKGcpfWxldCBmO2lzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiYoZj1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFKSkoZCksZi5zZXRSZWFzb24oW1wiY29ubmVjdFwiXSkpO2Nvbm5lY3RSZWNpcHJvY2FsbHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uKHRoaXMsXG5hKTtkLnNldFBhcmVudChjKTtmJiYoZi5yZWNvcmROZXcoKSxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGYpKTtpZihlJiYoYT10aGlzLnR5cGU9PT1iP2Uub3V0cHV0Q29ubmVjdGlvbjplLnByZXZpb3VzQ29ubmVjdGlvbikpaWYoZD1Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5nZXRDb25uZWN0aW9uRm9yT3JwaGFuZWRDb25uZWN0aW9uKGQsYSkpYS5jb25uZWN0KGQpO2Vsc2UgYS5vbkZhaWxlZENvbm5lY3QodGhpcyl9ZGlzcG9zZSgpe2lmKHRoaXMuaXNDb25uZWN0ZWQoKSl7dGhpcy5pc1N1cGVyaW9yKCkmJnRoaXMuc2V0U2hhZG93U3RhdGVJbnRlcm5hbCgpO2NvbnN0IGE9dGhpcy50YXJnZXRCbG9jaygpO2EmJiFhLmlzRGVhZE9yRHlpbmcoKSYmYS51bnBsdWcoKX10aGlzLmRpc3Bvc2VkPSEwfWdldFNvdXJjZUJsb2NrKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2tffWlzU3VwZXJpb3IoKXtyZXR1cm4gdGhpcy50eXBlPT09XG5Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRXx8dGhpcy50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlR9aXNDb25uZWN0ZWQoKXtyZXR1cm4hIXRoaXMudGFyZ2V0Q29ubmVjdGlvbn1nZXRDb25uZWN0aW9uQ2hlY2tlcigpe3JldHVybiB0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXJ9b25GYWlsZWRDb25uZWN0KGEpe31jb25uZWN0KGEpe2lmKHRoaXMudGFyZ2V0Q29ubmVjdGlvbj09PWEpcmV0dXJuITA7aWYodGhpcy5nZXRDb25uZWN0aW9uQ2hlY2tlcigpLmNhbkNvbm5lY3QodGhpcyxhLCExKSl7Y29uc3QgYj0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7Ynx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7XG50aGlzLmlzU3VwZXJpb3IoKT90aGlzLmNvbm5lY3RfKGEpOmEuY29ubmVjdF8odGhpcyk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiKX1yZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZCgpfWRpc2Nvbm5lY3QoKXt0aGlzLmRpc2Nvbm5lY3RJbnRlcm5hbCgpfWRpc2Nvbm5lY3RJbnRlcm5hbChhPSEwKXtjb25zdCB7cGFyZW50Q29ubmVjdGlvbjpiLGNoaWxkQ29ubmVjdGlvbjpjfT10aGlzLmdldFBhcmVudEFuZENoaWxkQ29ubmVjdGlvbnMoKTtpZighYnx8IWMpdGhyb3cgRXJyb3IoXCJTb3VyY2UgY29ubmVjdGlvbiBub3QgY29ubmVjdGVkLlwiKTtjb25zdCBkPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtkfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtsZXQgZTtpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmKGU9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRSkpKGMuZ2V0U291cmNlQmxvY2soKSksXG5lLnNldFJlYXNvbihbXCJkaXNjb25uZWN0XCJdKSk7Y29uc3QgZj10aGlzLnRhcmdldENvbm5lY3Rpb247ZiYmKGYudGFyZ2V0Q29ubmVjdGlvbj1udWxsKTt0aGlzLnRhcmdldENvbm5lY3Rpb249bnVsbDthJiZjLmdldFNvdXJjZUJsb2NrKCkuc2V0UGFyZW50KG51bGwpO2UmJihlLnJlY29yZE5ldygpLGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZSkpO2MuZ2V0U291cmNlQmxvY2soKS5pc1NoYWRvdygpfHxiLnJlc3Bhd25TaGFkb3dfKCk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhkKX1nZXRQYXJlbnRBbmRDaGlsZENvbm5lY3Rpb25zKCl7cmV0dXJuIHRoaXMudGFyZ2V0Q29ubmVjdGlvbj90aGlzLmlzU3VwZXJpb3IoKT97cGFyZW50Q29ubmVjdGlvbjp0aGlzLGNoaWxkQ29ubmVjdGlvbjp0aGlzLnRhcmdldENvbm5lY3Rpb259OntwYXJlbnRDb25uZWN0aW9uOnRoaXMudGFyZ2V0Q29ubmVjdGlvbixjaGlsZENvbm5lY3Rpb246dGhpc306XG57fX1yZXNwYXduU2hhZG93Xygpe3RoaXMuY3JlYXRlU2hhZG93QmxvY2soITApfXJlY29ubmVjdChhLGIpe2lmKHRoaXMuZ2V0U291cmNlQmxvY2soKS5pc0RlYWRPckR5aW5nKCkpcmV0dXJuITE7dmFyIGM7Yj0oYz1hLmdldElucHV0KGIpKT09bnVsbD92b2lkIDA6Yy5jb25uZWN0aW9uO2M9dGhpcy50YXJnZXRCbG9jaygpO3JldHVybiBjJiZjIT09YXx8IWJ8fGIudGFyZ2V0Q29ubmVjdGlvbj09PXRoaXM/ITE6KGIuaXNDb25uZWN0ZWQoKSYmYi5kaXNjb25uZWN0KCksYi5jb25uZWN0KHRoaXMpLCEwKX10YXJnZXRCbG9jaygpe2lmKHRoaXMuaXNDb25uZWN0ZWQoKSl7bGV0IGEsYjtyZXR1cm4oYj0oYT10aGlzLnRhcmdldENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDphLmdldFNvdXJjZUJsb2NrKCkpIT1udWxsP2I6bnVsbH1yZXR1cm4gbnVsbH1vbkNoZWNrQ2hhbmdlZF8oKXshdGhpcy5pc0Nvbm5lY3RlZCgpfHx0aGlzLnRhcmdldENvbm5lY3Rpb24mJnRoaXMuZ2V0Q29ubmVjdGlvbkNoZWNrZXIoKS5jYW5Db25uZWN0KHRoaXMsXG50aGlzLnRhcmdldENvbm5lY3Rpb24sITEpfHwodGhpcy5pc1N1cGVyaW9yKCk/dGhpcy50YXJnZXRCbG9jaygpOnRoaXMuc291cmNlQmxvY2tfKS51bnBsdWcoKX1zZXRDaGVjayhhKXthPyhBcnJheS5pc0FycmF5KGEpfHwoYT1bYV0pLHRoaXMuY2hlY2s9YSx0aGlzLm9uQ2hlY2tDaGFuZ2VkXygpKTp0aGlzLmNoZWNrPW51bGw7cmV0dXJuIHRoaXN9Z2V0Q2hlY2soKXtyZXR1cm4gdGhpcy5jaGVja31zZXRTaGFkb3dEb20oYSl7dGhpcy5zZXRTaGFkb3dTdGF0ZUludGVybmFsKHtzaGFkb3dEb206YX0pfWdldFNoYWRvd0RvbShhKXtyZXR1cm4gYSYmdGhpcy50YXJnZXRCbG9jaygpLmlzU2hhZG93KCk/YmxvY2tUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCh0aGlzLnRhcmdldEJsb2NrKCkpOnRoaXMuc2hhZG93RG9tfXNldFNoYWRvd1N0YXRlKGEpe3RoaXMuc2V0U2hhZG93U3RhdGVJbnRlcm5hbCh7c2hhZG93U3RhdGU6YX0pfWdldFNoYWRvd1N0YXRlKGEpe3JldHVybiBhJiZcbnRoaXMudGFyZ2V0QmxvY2soKSYmdGhpcy50YXJnZXRCbG9jaygpLmlzU2hhZG93KCk/c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKHRoaXMudGFyZ2V0QmxvY2soKSk6dGhpcy5zaGFkb3dTdGF0ZX1uZWlnaGJvdXJzKGEpe3JldHVybltdfWdldFBhcmVudElucHV0KCl7bGV0IGE9bnVsbDtjb25zdCBiPXRoaXMuc291cmNlQmxvY2tfLmlucHV0TGlzdDtmb3IobGV0IGM9MDtjPGIubGVuZ3RoO2MrKylpZihiW2NdLmNvbm5lY3Rpb249PT10aGlzKXthPWJbY107YnJlYWt9cmV0dXJuIGF9dG9TdHJpbmcoKXtjb25zdCBhPXRoaXMuc291cmNlQmxvY2tfO2lmKCFhKXJldHVyblwiT3JwaGFuIENvbm5lY3Rpb25cIjtpZihhLm91dHB1dENvbm5lY3Rpb249PT10aGlzKXZhciBiPVwiT3V0cHV0IENvbm5lY3Rpb24gb2YgXCI7ZWxzZSBpZihhLnByZXZpb3VzQ29ubmVjdGlvbj09PXRoaXMpYj1cIlByZXZpb3VzIENvbm5lY3Rpb24gb2YgXCI7ZWxzZSBpZihhLm5leHRDb25uZWN0aW9uPT09XG50aGlzKWI9XCJOZXh0IENvbm5lY3Rpb24gb2YgXCI7ZWxzZXtiPW51bGw7Zm9yKGxldCBjPTAsZDtkPWEuaW5wdXRMaXN0W2NdO2MrKylpZihkLmNvbm5lY3Rpb249PT10aGlzKXtiPWQ7YnJlYWt9aWYoYiliPSdJbnB1dCBcIicrYi5uYW1lKydcIiBjb25uZWN0aW9uIG9uICc7ZWxzZSByZXR1cm4gY29uc29sZS53YXJuKFwiQ29ubmVjdGlvbiBub3QgYWN0dWFsbHkgY29ubmVjdGVkIHRvIHNvdXJjZUJsb2NrX1wiKSxcIk9ycGhhbiBDb25uZWN0aW9uXCJ9cmV0dXJuIGIrYS50b0RldlN0cmluZygpfXN0YXNoU2hhZG93U3RhdGUoKXtjb25zdCBhPXRoaXMuZ2V0U2hhZG93RG9tKCEwKSxiPXRoaXMuZ2V0U2hhZG93U3RhdGUoITApO3RoaXMuc2hhZG93U3RhdGU9dGhpcy5zaGFkb3dEb209bnVsbDtyZXR1cm57c2hhZG93RG9tOmEsc2hhZG93U3RhdGU6Yn19YXBwbHlTaGFkb3dTdGF0ZSh7c2hhZG93RG9tOmEsc2hhZG93U3RhdGU6Yn0pe3RoaXMuc2hhZG93RG9tPWE7dGhpcy5zaGFkb3dTdGF0ZT1cbmJ9c2V0U2hhZG93U3RhdGVJbnRlcm5hbCh7c2hhZG93RG9tOmE9bnVsbCxzaGFkb3dTdGF0ZTpiPW51bGx9PXt9KXt0aGlzLnNoYWRvd0RvbT1hO3RoaXMuc2hhZG93U3RhdGU9Yjt0aGlzLmdldFNvdXJjZUJsb2NrKCkuaXNEZWFkT3JEeWluZygpfHwoKGE9dGhpcy50YXJnZXRCbG9jaygpKT9hLmlzU2hhZG93KCk/KGEuZGlzcG9zZSghMSksdGhpcy5yZXNwYXduU2hhZG93XygpLHRoaXMudGFyZ2V0QmxvY2soKSYmdGhpcy50YXJnZXRCbG9jaygpLmlzU2hhZG93KCkmJnRoaXMuc2VyaWFsaXplU2hhZG93KHRoaXMudGFyZ2V0QmxvY2soKSkpOihhPXRoaXMuY3JlYXRlU2hhZG93QmxvY2soITEpLHRoaXMuc2VyaWFsaXplU2hhZG93KGEpLGEmJmEuZGlzcG9zZSghMSkpOih0aGlzLnJlc3Bhd25TaGFkb3dfKCksdGhpcy50YXJnZXRCbG9jaygpJiZ0aGlzLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKSYmdGhpcy5zZXJpYWxpemVTaGFkb3codGhpcy50YXJnZXRCbG9jaygpKSkpfWNyZWF0ZVNoYWRvd0Jsb2NrKGEpe3ZhciBiPVxudGhpcy5nZXRTb3VyY2VCbG9jaygpO2NvbnN0IGM9dGhpcy5nZXRTaGFkb3dTdGF0ZSgpLGQ9dGhpcy5nZXRTaGFkb3dEb20oKTtpZihiLmlzRGVhZE9yRHlpbmcoKXx8IWMmJiFkKXJldHVybiBudWxsO2lmKGMpcmV0dXJuIGI9YXBwZW5kSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhjLGIud29ya3NwYWNlLHtwYXJlbnRDb25uZWN0aW9uOmE/dGhpczp2b2lkIDAsaXNTaGFkb3c6ITAscmVjb3JkVW5kbzohMX0pO2lmKGQpe2I9ZG9tVG9CbG9ja0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGQsYi53b3Jrc3BhY2UpO2lmKGEpaWYodGhpcy50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUUpe2lmKCFiLm91dHB1dENvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJTaGFkb3cgYmxvY2sgaXMgbWlzc2luZyBhbiBvdXRwdXQgY29ubmVjdGlvblwiKTtcbmlmKCF0aGlzLmNvbm5lY3QoYi5vdXRwdXRDb25uZWN0aW9uKSl0aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBjb25uZWN0IHNoYWRvdyBibG9jayB0byBjb25uZWN0aW9uXCIpO31lbHNlIGlmKHRoaXMudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UKXtpZighYi5wcmV2aW91c0Nvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJTaGFkb3cgYmxvY2sgaXMgbWlzc2luZyBwcmV2aW91cyBjb25uZWN0aW9uXCIpO2lmKCF0aGlzLmNvbm5lY3QoYi5wcmV2aW91c0Nvbm5lY3Rpb24pKXRocm93IEVycm9yKFwiQ291bGQgbm90IGNvbm5lY3Qgc2hhZG93IGJsb2NrIHRvIGNvbm5lY3Rpb25cIik7fWVsc2UgdGhyb3cgRXJyb3IoXCJDYW5ub3QgY29ubmVjdCBhIHNoYWRvdyBibG9jayB0byBhIHByZXZpb3VzL291dHB1dCBjb25uZWN0aW9uXCIpO3JldHVybiBifXJldHVybiBudWxsfXNlcmlhbGl6ZVNoYWRvdyhhKXthJiYodGhpcy5zaGFkb3dEb209XG5ibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpLHRoaXMuc2hhZG93U3RhdGU9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEpKX1zdGF0aWMgZ2V0Q29ubmVjdGlvbkZvck9ycGhhbmVkQ29ubmVjdGlvbihhLGIpe2lmKGIudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRSlyZXR1cm4gZ2V0Q29ubmVjdGlvbkZvck9ycGhhbmVkT3V0cHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbihhLGIuZ2V0U291cmNlQmxvY2soKSk7YT1hLmxhc3RDb25uZWN0aW9uSW5TdGFjayghMCk7Y29uc3QgYz1iLmdldENvbm5lY3Rpb25DaGVja2VyKCk7cmV0dXJuIGEmJmMuY2FuQ29ubmVjdChiLGEsITEpP2E6bnVsbH19O0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLkNBTl9DT05ORUNUPTA7XG5Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fU0VMRl9DT05ORUNUSU9OPTE7Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1dST05HX1RZUEU9MjtDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fVEFSR0VUX05VTEw9MztDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fQ0hFQ0tTX0ZBSUxFRD00O0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9ESUZGRVJFTlRfV09SS1NQQUNFUz01O0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9TSEFET1dfUEFSRU5UPTY7Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0RSQUdfQ0hFQ0tTX0ZBSUxFRD03O1xuQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1BSRVZJT1VTX0FORF9PVVRQVVQ9ODt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uQ29ubmVjdGlvbj1Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbjt2YXIgRHVwbGljYXRlSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRleGNlcHRpb25zPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoYSl7c3VwZXIoYFRyaWVkIHRvIGFwcGVuZCBhbiBpY29uIG9mIHR5cGUgJHthLmdldFR5cGUoKX0gd2hlbiBhbiBpY29uIG9mIGArXCJ0aGF0IHR5cGUgYWxyZWFkeSBleGlzdHMgb24gdGhlIGJsb2NrLiBVc2UgZ2V0SWNvbiB0byBhY2Nlc3MgdGhlIGV4aXN0aW5nIGljb24uXCIpO3RoaXMuaWNvbj1hfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGV4Y2VwdGlvbnM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGV4Y2VwdGlvbnMuRHVwbGljYXRlSWNvblR5cGU9RHVwbGljYXRlSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRleGNlcHRpb25zOyhmdW5jdGlvbihhKXthW2EuTEVGVD0tMV09XCJMRUZUXCI7YVthLkNFTlRSRT0wXT1cIkNFTlRSRVwiO2FbYS5SSUdIVD0xXT1cIlJJR0hUXCJ9KSgkLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWdufHwoJC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbj17fSkpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uQWxpZ249JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbjt2YXIgRmllbGRMYWJlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsPWNsYXNzIGV4dGVuZHMgRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZHtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQKTt0aGlzLmNsYXNzPW51bGw7dGhpcy5FRElUQUJMRT0hMTt0aGlzLm1heERpc3BsYXlMZW5ndGg9SW5maW5pdHk7YSE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCYmKGM/dGhpcy5jb25maWd1cmVfKGMpOnRoaXMuY2xhc3M9Ynx8bnVsbCx0aGlzLnNldFZhbHVlKGEpKX1jb25maWd1cmVfKGEpe3N1cGVyLmNvbmZpZ3VyZV8oYSk7YS5jbGFzcyYmKHRoaXMuY2xhc3M9YS5jbGFzcyl9aW5pdFZpZXcoKXt0aGlzLmNyZWF0ZVRleHRFbGVtZW50XygpO3RoaXMuY2xhc3MmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0VGV4dEVsZW1lbnQoKSxcbnRoaXMuY2xhc3MpO3RoaXMuZmllbGRHcm91cF8mJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8sXCJibG9ja2x5TGFiZWxGaWVsZFwiKX1kb0NsYXNzVmFsaWRhdGlvbl8oYSl7cmV0dXJuIGE9PT1udWxsfHxhPT09dm9pZCAwP251bGw6YCR7YX1gfXNldENsYXNzKGEpe3RoaXMudGV4dEVsZW1lbnRfJiYodGhpcy5jbGFzcyYmcmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy50ZXh0RWxlbWVudF8sdGhpcy5jbGFzcyksYSYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy50ZXh0RWxlbWVudF8sYSkpO3RoaXMuY2xhc3M9YX1zdGF0aWMgZnJvbUpzb24oYSl7cmV0dXJuIG5ldyB0aGlzKHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYS50ZXh0KSx2b2lkIDAsYSl9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoXCJmaWVsZF9sYWJlbFwiLEZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbCk7RmllbGRMYWJlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsLnByb3RvdHlwZS5ERUZBVUxUX1ZBTFVFPVwiXCI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWwuRmllbGRMYWJlbD1GaWVsZExhYmVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWw7dmFyIENPTExBUFNFX0NIQVJTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzPTMwLE9QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHM9W107T1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50c1tDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRV09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFO09QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFXT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRTtcbk9QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlRdPUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVDtPUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzW0Nvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVF09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQ7XG52YXIgUkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzPVwiUkVOQU1FX1ZBUklBQkxFX0lEXCIsREVMRVRFX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzPVwiREVMRVRFX1ZBUklBQkxFX0lEXCIsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cz17Q09MTEFQU0VfQ0hBUlM6Q09MTEFQU0VfQ0hBUlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHMsREVMRVRFX1ZBUklBQkxFX0lEOkRFTEVURV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyxPUFBPU0lURV9UWVBFOk9QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHMsUkVOQU1FX1ZBUklBQkxFX0lEOlJFTkFNRV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50c307dmFyIEJVTVBfUkFORE9NTkVTUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb249MTAsUmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbj1jbGFzcyBleHRlbmRzIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9ue2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmhpZ2hsaWdodGVkPSExO3RoaXMudGFyZ2V0Q29ubmVjdGlvbj1udWxsO3RoaXMuZGI9YS53b3Jrc3BhY2UuY29ubmVjdGlvbkRCTGlzdFtiXTt0aGlzLmRiT3Bwb3NpdGU9YS53b3Jrc3BhY2UuY29ubmVjdGlvbkRCTGlzdFtPUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzW2JdXTt0aGlzLm9mZnNldEluQmxvY2s9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy50cmFja2VkU3RhdGU9XG5SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5XSUxMX1RSQUNLfWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCk7dGhpcy50cmFja2VkU3RhdGU9PT1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5UUkFDS0VEJiZ0aGlzLmRiLnJlbW92ZUNvbm5lY3Rpb24odGhpcyx0aGlzLnkpO2xldCBhLGI7KGI9KGE9dGhpcy5zb3VyY2VCbG9ja18ucGF0aE9iamVjdCkucmVtb3ZlQ29ubmVjdGlvbkhpZ2hsaWdodCk9PW51bGx8fGIuY2FsbChhLHRoaXMpfWdldFNvdXJjZUJsb2NrKCl7cmV0dXJuIHN1cGVyLmdldFNvdXJjZUJsb2NrKCl9dGFyZ2V0QmxvY2soKXtyZXR1cm4gc3VwZXIudGFyZ2V0QmxvY2soKX1kaXN0YW5jZUZyb20oYSl7Y29uc3QgYj10aGlzLngtYS54O2E9dGhpcy55LWEueTtyZXR1cm4gTWF0aC5zcXJ0KGIqXG5iK2EqYSl9YnVtcEF3YXlGcm9tKGEsYj0hMSl7aWYoIXRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5pc0RyYWdnaW5nKCkpe3ZhciBjPSQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXMrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkJVTVBfUkFORE9NTkVTUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24pLGQ9JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1cytNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqQlVNUF9SQU5ET01ORVNTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbiksZT1hLnNvdXJjZUJsb2NrXy5nZXRSb290QmxvY2soKSxmPXRoaXMuc291cmNlQmxvY2tfLmdldFJvb3RCbG9jaygpO2lmKCFlLmlzSW5GbHlvdXQmJiFmLmlzSW5GbHlvdXQpe3ZhciBnPSEwO2lmKGYuaXNNb3ZhYmxlKCkpZS5pc01vdmFibGUoKSYmYiYmKGQ9LWQpO1xuZWxzZSBpZihlLmlzTW92YWJsZSgpKWc9ITEsYz0tYyxkPS1kO2Vsc2UgcmV0dXJuO2I9Zz9hOnRoaXM7YT1nP3RoaXM6YTtlPWc/ZjplO2UuUlRMJiYoYz0tYyk7ZS5tb3ZlQnkoYi54K2MtYS54LGIueStkLWEueSxbXCJidW1wXCJdKX19fW1vdmVUbyhhLGIpe2xldCBjPSExO3RoaXMudHJhY2tlZFN0YXRlPT09UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuV0lMTF9UUkFDSz8odGhpcy5kYi5hZGRDb25uZWN0aW9uKHRoaXMsYiksdGhpcy50cmFja2VkU3RhdGU9UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRCxjPSEwKTp0aGlzLnRyYWNrZWRTdGF0ZT09PVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLlRSQUNLRUQmJlxuKHRoaXMuZGIucmVtb3ZlQ29ubmVjdGlvbih0aGlzLHRoaXMueSksdGhpcy5kYi5hZGRDb25uZWN0aW9uKHRoaXMsYiksYz0hMCk7dGhpcy54PWE7dGhpcy55PWI7cmV0dXJuIGN9bW92ZUJ5KGEsYil7cmV0dXJuIHRoaXMubW92ZVRvKHRoaXMueCthLHRoaXMueStiKX1tb3ZlVG9PZmZzZXQoYSl7cmV0dXJuIHRoaXMubW92ZVRvKGEueCt0aGlzLm9mZnNldEluQmxvY2sueCxhLnkrdGhpcy5vZmZzZXRJbkJsb2NrLnkpfXNldE9mZnNldEluQmxvY2soYSxiKXt0aGlzLm9mZnNldEluQmxvY2sueD1hO3RoaXMub2Zmc2V0SW5CbG9jay55PWJ9Z2V0T2Zmc2V0SW5CbG9jaygpe3JldHVybiB0aGlzLm9mZnNldEluQmxvY2t9dGlnaHRlbkVmZmljaWVudGx5KCl7dmFyIGE9dGhpcy50YXJnZXRDb25uZWN0aW9uO2NvbnN0IGI9dGhpcy50YXJnZXRCbG9jaygpO2EmJmImJihhPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UodGhpcy5vZmZzZXRJbkJsb2NrLFxuYS5vZmZzZXRJbkJsb2NrKSxiLnRyYW5zbGF0ZShhLngsYS55KSl9Y2xvc2VzdChhLGIpe3JldHVybiB0aGlzLmRiT3Bwb3NpdGUuc2VhcmNoRm9yQ2xvc2VzdCh0aGlzLGEsYil9aGlnaGxpZ2h0KCl7dGhpcy5oaWdobGlnaHRlZD0hMDtjb25zdCBhPXRoaXMuZmluZEhpZ2hsaWdodFN2ZygpO2EmJihhLnN0eWxlLmRpc3BsYXk9XCJcIil9dW5oaWdobGlnaHQoKXt0aGlzLmhpZ2hsaWdodGVkPSExO2NvbnN0IGE9dGhpcy5maW5kSGlnaGxpZ2h0U3ZnKCk7YSYmKGEuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9aXNIaWdobGlnaHRlZCgpe3JldHVybiB0aGlzLmhpZ2hsaWdodGVkfXNldFRyYWNraW5nKGEpe2EmJnRoaXMudHJhY2tlZFN0YXRlPT09UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRHx8IWEmJnRoaXMudHJhY2tlZFN0YXRlPT09UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVU5UUkFDS0VEfHxcbnRoaXMuc291cmNlQmxvY2tfLmlzSW5GbHlvdXR8fChhPyh0aGlzLmRiLmFkZENvbm5lY3Rpb24odGhpcyx0aGlzLnkpLHRoaXMudHJhY2tlZFN0YXRlPVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLlRSQUNLRUQpOih0aGlzLnRyYWNrZWRTdGF0ZT09PVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLlRSQUNLRUQmJnRoaXMuZGIucmVtb3ZlQ29ubmVjdGlvbih0aGlzLHRoaXMueSksdGhpcy50cmFja2VkU3RhdGU9UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVU5UUkFDS0VEKSl9c3RvcFRyYWNraW5nQWxsKCl7dGhpcy5zZXRUcmFja2luZyghMSk7aWYodGhpcy50YXJnZXRDb25uZWN0aW9uKXtjb25zdCBhPXRoaXMudGFyZ2V0QmxvY2soKS5nZXREZXNjZW5kYW50cyghMSk7XG5mb3IobGV0IGI9MDtiPGEubGVuZ3RoO2IrKyl7Y29uc3QgYz1hW2JdLGQ9Yy5nZXRDb25uZWN0aW9uc18oITApO2ZvcihsZXQgZT0wO2U8ZC5sZW5ndGg7ZSsrKWRbZV0uc2V0VHJhY2tpbmcoITEpO2Zvcihjb25zdCBlIG9mIGMuZ2V0SWNvbnMoKSloYXNCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaGFzX2J1YmJsZShlKSYmZS5zZXRCdWJibGVWaXNpYmxlKCExKX19fXN0YXJ0VHJhY2tpbmdBbGwoKXt0aGlzLnNldFRyYWNraW5nKCEwKTtsZXQgYT1bXTtpZih0aGlzLnR5cGUhPT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRSYmdGhpcy50eXBlIT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQpcmV0dXJuIGE7Y29uc3QgYj10aGlzLnRhcmdldEJsb2NrKCk7aWYoYil7bGV0IGM7Yi5pc0NvbGxhcHNlZCgpP1xuKGM9W10sYi5vdXRwdXRDb25uZWN0aW9uJiZjLnB1c2goYi5vdXRwdXRDb25uZWN0aW9uKSxiLm5leHRDb25uZWN0aW9uJiZjLnB1c2goYi5uZXh0Q29ubmVjdGlvbiksYi5wcmV2aW91c0Nvbm5lY3Rpb24mJmMucHVzaChiLnByZXZpb3VzQ29ubmVjdGlvbikpOmM9Yi5nZXRDb25uZWN0aW9uc18oITApO2ZvcihsZXQgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWEucHVzaCguLi5jW2RdLnN0YXJ0VHJhY2tpbmdBbGwoKSk7YS5sZW5ndGh8fChhPVtiXSl9cmV0dXJuIGF9b25GYWlsZWRDb25uZWN0KGEpe2NvbnN0IGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKGdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl7Y29uc3QgYz0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2IuaXNEaXNwb3NlZCgpfHxiLmdldFBhcmVudCgpfHwoJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKSxcbnRoaXMuYnVtcEF3YXlGcm9tKGEpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpKX0uYmluZCh0aGlzKSwkLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5idW1wRGVsYXkpfX1kaXNjb25uZWN0SW50ZXJuYWwoYT0hMCl7Y29uc3Qge3BhcmVudENvbm5lY3Rpb246YixjaGlsZENvbm5lY3Rpb246Y309dGhpcy5nZXRQYXJlbnRBbmRDaGlsZENvbm5lY3Rpb25zKCk7aWYoYiYmYyl7dmFyIGQ9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2R8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3ZhciBlPWIuZ2V0U291cmNlQmxvY2soKSxmPWMuZ2V0U291cmNlQmxvY2soKTtzdXBlci5kaXNjb25uZWN0SW50ZXJuYWwoYSk7ZS5xdWV1ZVJlbmRlcigpO2YudXBkYXRlRGlzYWJsZWQoKTtmLnF1ZXVlUmVuZGVyKCk7Zi5nZXRTdmdSb290KCkuc3R5bGUuZGlzcGxheT1cblwiYmxvY2tcIjskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGQpfX1yZXNwYXduU2hhZG93Xygpe3N1cGVyLnJlc3Bhd25TaGFkb3dfKCk7Y29uc3QgYT10aGlzLnRhcmdldEJsb2NrKCk7YSYmKGEuaW5pdFN2ZygpLGEucXVldWVSZW5kZXIoKSl9bmVpZ2hib3VycyhhKXtyZXR1cm4gdGhpcy5kYk9wcG9zaXRlLmdldE5laWdoYm91cnModGhpcyxhKX1jb25uZWN0XyhhKXtzdXBlci5jb25uZWN0XyhhKTt2YXIgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7YT1hLmdldFNvdXJjZUJsb2NrKCk7Yi51cGRhdGVEaXNhYmxlZCgpO2EudXBkYXRlRGlzYWJsZWQoKTthLnF1ZXVlUmVuZGVyKCk7aWYoYj1iLmdldElucHV0V2l0aEJsb2NrKGEpKWI9Yi5pc1Zpc2libGUoKSxhLmdldFN2Z1Jvb3QoKS5zdHlsZS5kaXNwbGF5PWI/XCJibG9ja1wiOlwibm9uZVwifW9uQ2hlY2tDaGFuZ2VkXygpeyF0aGlzLmlzQ29ubmVjdGVkKCl8fHRoaXMudGFyZ2V0Q29ubmVjdGlvbiYmXG50aGlzLmdldENvbm5lY3Rpb25DaGVja2VyKCkuY2FuQ29ubmVjdCh0aGlzLHRoaXMudGFyZ2V0Q29ubmVjdGlvbiwhMSl8fCh0aGlzLmlzU3VwZXJpb3IoKT90aGlzLnRhcmdldEJsb2NrKCk6dGhpcy5zb3VyY2VCbG9ja18pLnVucGx1ZygpfXNldENoZWNrKGEpe3N1cGVyLnNldENoZWNrKGEpO3RoaXMuc291cmNlQmxvY2tfLnF1ZXVlUmVuZGVyKCk7cmV0dXJuIHRoaXN9c2hvd0NvbnRleHRNZW51KGEpe2NvbnN0IGI9Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmdldENvbnRleHRNZW51T3B0aW9ucyh7Zm9jdXNlZE5vZGU6dGhpc30sYSk7aWYoYi5sZW5ndGgpe3ZhciBjPXRoaXMuZ2V0U291cmNlQmxvY2soKSxkPWMud29ya3NwYWNlO2lmKGEgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQpdmFyIGU9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEuY2xpZW50WCxcbmEuY2xpZW50WSk7ZWxzZSBlPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSh0aGlzLngsdGhpcy55KSxlPXdzVG9TY3JlZW5Db29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKGQsZSkudHJhbnNsYXRlKGMuUlRMPy01OjUsNSk7c2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KGEsYixjLlJUTCxkLGUpfX1nZXRGb2N1c2FibGVFbGVtZW50KCl7Y29uc3QgYT10aGlzLmZpbmRIaWdobGlnaHRTdmcoKTtpZihhKXJldHVybiBhO3Rocm93IEVycm9yKFwiTm8gaGlnaGxpZ2h0IFNWRyBmb3VuZCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgY29ubmVjdGlvbi5cIik7fWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpcy5nZXRTb3VyY2VCbG9jaygpLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe3RoaXMuaGlnaGxpZ2h0KCk7dGhpcy5nZXRTb3VyY2VCbG9jaygpLndvcmtzcGFjZS5zY3JvbGxCb3VuZHNJbnRvVmlldyh0aGlzLmdldFNvdXJjZUJsb2NrKCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGVXaXRob3V0Q2hpbGRyZW4oKSl9b25Ob2RlQmx1cigpe3RoaXMudW5oaWdobGlnaHQoKX1jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH1maW5kSGlnaGxpZ2h0U3ZnKCl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpfX07XG4oZnVuY3Rpb24oYSl7YT1hLlRyYWNrZWRTdGF0ZXx8KGEuVHJhY2tlZFN0YXRlPXt9KTthW2EuV0lMTF9UUkFDSz0tMV09XCJXSUxMX1RSQUNLXCI7YVthLlVOVFJBQ0tFRD0wXT1cIlVOVFJBQ0tFRFwiO2FbYS5UUkFDS0VEPTFdPVwiVFJBQ0tFRFwifSkoUmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbnx8KFJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb249e30pKTt2YXIgVHJhY2tlZFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbj1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbj17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlJlbmRlcmVkQ29ubmVjdGlvbj1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZT1UcmFja2VkU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uO3ZhciBJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dD1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMubmFtZT1hO3RoaXMuc291cmNlQmxvY2s9Yjt0aGlzLmZpZWxkUm93PVtdO3RoaXMuYWxpZ249JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5MRUZUO3RoaXMudmlzaWJsZT0hMDt0aGlzLnR5cGU9JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLkNVU1RPTTt0aGlzLmNvbm5lY3Rpb249bnVsbH1nZXRTb3VyY2VCbG9jaygpe3JldHVybiB0aGlzLnNvdXJjZUJsb2NrfWFwcGVuZEZpZWxkKGEsYil7dGhpcy5pbnNlcnRGaWVsZEF0KHRoaXMuZmllbGRSb3cubGVuZ3RoLGEsYik7cmV0dXJuIHRoaXN9aW5zZXJ0RmllbGRBdChhLGIsYyl7aWYoYTwwfHxhPnRoaXMuZmllbGRSb3cubGVuZ3RoKXRocm93IEVycm9yKFwiaW5kZXggXCIrYStcIiBvdXQgb2YgYm91bmRzLlwiKTtpZighKGJ8fFxuYj09PVwiXCImJmMpKXJldHVybiBhO3R5cGVvZiBiPT09XCJzdHJpbmdcIiYmKGI9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfbGFiZWxcIix0ZXh0OmJ9KSk7Yi5zZXRTb3VyY2VCbG9jayh0aGlzLnNvdXJjZUJsb2NrKTt0aGlzLnNvdXJjZUJsb2NrLmluaXRpYWxpemVkJiZ0aGlzLmluaXRGaWVsZChiKTtiLm5hbWU9YztiLnNldFZpc2libGUodGhpcy5pc1Zpc2libGUoKSk7Yi5wcmVmaXhGaWVsZCYmKGE9dGhpcy5pbnNlcnRGaWVsZEF0KGEsYi5wcmVmaXhGaWVsZCkpO3RoaXMuZmllbGRSb3cuc3BsaWNlKGEsMCxiKTthKys7Yi5zdWZmaXhGaWVsZCYmKGE9dGhpcy5pbnNlcnRGaWVsZEF0KGEsYi5zdWZmaXhGaWVsZCkpO3RoaXMuc291cmNlQmxvY2sucmVuZGVyZWQmJnRoaXMuc291cmNlQmxvY2sucXVldWVSZW5kZXIoKTtyZXR1cm4gYX1yZW1vdmVGaWVsZChhLGIpe2ZvcihsZXQgYz0wLGQ7ZD10aGlzLmZpZWxkUm93W2NdO2MrKylpZihkLm5hbWU9PT1cbmEpcmV0dXJuIGQuZGlzcG9zZSgpLHRoaXMuZmllbGRSb3cuc3BsaWNlKGMsMSksdGhpcy5zb3VyY2VCbG9jay5yZW5kZXJlZCYmdGhpcy5zb3VyY2VCbG9jay5xdWV1ZVJlbmRlcigpLCEwO2lmKGIpcmV0dXJuITE7dGhyb3cgRXJyb3IoJ0ZpZWxkIFwiJythKydcIiBub3QgZm91bmQuJyk7fWlzVmlzaWJsZSgpe3JldHVybiB0aGlzLnZpc2libGV9c2V0VmlzaWJsZShhKXtsZXQgYj1bXTtpZih0aGlzLnZpc2libGU9PT1hKXJldHVybiBiO3RoaXMudmlzaWJsZT1hO2ZvcihsZXQgYz0wLGQ7ZD10aGlzLmZpZWxkUm93W2NdO2MrKylkLnNldFZpc2libGUoYSk7aWYodGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBSZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uKXthP2I9dGhpcy5jb25uZWN0aW9uLnN0YXJ0VHJhY2tpbmdBbGwoKTp0aGlzLmNvbm5lY3Rpb24uc3RvcFRyYWNraW5nQWxsKCk7Y29uc3QgYz1cbnRoaXMuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2MmJihjLmdldFN2Z1Jvb3QoKS5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiKX1yZXR1cm4gYn1tYXJrRGlydHkoKXtmb3IobGV0IGE9MCxiO2I9dGhpcy5maWVsZFJvd1thXTthKyspYi5tYXJrRGlydHkoKX1zZXRDaGVjayhhKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IEVycm9yKFwiVGhpcyBpbnB1dCBkb2VzIG5vdCBoYXZlIGEgY29ubmVjdGlvbi5cIik7dGhpcy5jb25uZWN0aW9uLnNldENoZWNrKGEpO3JldHVybiB0aGlzfXNldEFsaWduKGEpe3RoaXMuYWxpZ249YTt0aGlzLnNvdXJjZUJsb2NrLnJlbmRlcmVkJiZ0aGlzLnNvdXJjZUJsb2NrLnF1ZXVlUmVuZGVyKCk7cmV0dXJuIHRoaXN9c2V0U2hhZG93RG9tKGEpe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJUaGlzIGlucHV0IGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uLlwiKTt0aGlzLmNvbm5lY3Rpb24uc2V0U2hhZG93RG9tKGEpO3JldHVybiB0aGlzfWdldFNoYWRvd0RvbSgpe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJUaGlzIGlucHV0IGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uLlwiKTtcbnJldHVybiB0aGlzLmNvbm5lY3Rpb24uZ2V0U2hhZG93RG9tKCl9aW5pdCgpe2Zvcihjb25zdCBhIG9mIHRoaXMuZmllbGRSb3cpYS5pbml0KCl9aW5pdE1vZGVsKCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5maWVsZFJvdylhLmluaXRNb2RlbCgpfWluaXRGaWVsZChhKXt0aGlzLnNvdXJjZUJsb2NrLnJlbmRlcmVkP2EuaW5pdCgpOmEuaW5pdE1vZGVsKCl9ZGlzcG9zZSgpe2ZvcihsZXQgYT0wLGI7Yj10aGlzLmZpZWxkUm93W2FdO2ErKyliLmRpc3Bvc2UoKTt0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5kaXNwb3NlKCl9bWFrZUNvbm5lY3Rpb24oYSl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2subWFrZUNvbm5lY3Rpb25fKGEpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0LklucHV0PUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0O3ZhciBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0PWNsYXNzIGV4dGVuZHMgSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXR7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMubmFtZT1hO3RoaXMudHlwZT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuRFVNTVl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQuRHVtbXlJbnB1dD1EdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0O3ZhciBFbmRSb3dJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRlbmRfcm93X2lucHV0PWNsYXNzIGV4dGVuZHMgSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXR7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMubmFtZT1hO3RoaXMudHlwZT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuRU5EX1JPV319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQuRW5kUm93SW5wdXQ9RW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dDt2YXIgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0PWNsYXNzIGV4dGVuZHMgSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXR7Y29uc3RydWN0b3IoYSxiKXtpZighYSl0aHJvdyBFcnJvcihcIlN0YXRlbWVudCBpbnB1dHMgbXVzdCBoYXZlIGEgbm9uLWVtcHR5IG5hbWVcIik7c3VwZXIoYSxiKTt0aGlzLm5hbWU9YTt0aGlzLnR5cGU9JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLlNUQVRFTUVOVDt0aGlzLmNvbm5lY3Rpb249dGhpcy5tYWtlQ29ubmVjdGlvbihDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dD17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0LlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDskLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dHtjb25zdHJ1Y3RvcihhLGIpe2lmKCFhKXRocm93IEVycm9yKFwiVmFsdWUgaW5wdXRzIG11c3QgaGF2ZSBhIG5vbi1lbXB0eSBuYW1lXCIpO3N1cGVyKGEsYik7dGhpcy5uYW1lPWE7dGhpcy50eXBlPSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5WQUxVRTt0aGlzLmNvbm5lY3Rpb249dGhpcy5tYWtlQ29ubmVjdGlvbihDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRSl9fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dC5WYWx1ZUlucHV0PSQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9pY29uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaWNvbi5pc0ljb249aXNJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ljb247dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29tbWVudF9pY29uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29tbWVudF9pY29uLmlzQ29tbWVudEljb249aXNDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb21tZW50X2ljb247dmFyIEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2s9Y2xhc3N7Y29uc3RydWN0b3IoYSxiLGMpe3RoaXMuZGF0YT1udWxsO3RoaXMuZGlzcG9zZWQ9ITE7dGhpcy5odWU9bnVsbDt0aGlzLmNvbG91cl89XCIjMDAwMDAwXCI7dGhpcy5zdHlsZU5hbWVfPVwiXCI7dGhpcy5zdXBwcmVzc1ByZWZpeFN1ZmZpeD0hMTt0aGlzLnByZXZpb3VzQ29ubmVjdGlvbj10aGlzLm5leHRDb25uZWN0aW9uPXRoaXMub3V0cHV0Q29ubmVjdGlvbj1udWxsO3RoaXMuaW5wdXRMaXN0PVtdO3RoaXMuaWNvbnM9W107dGhpcy5kaXNhYmxlZFJlYXNvbnM9bmV3IFNldDt0aGlzLnRvb2x0aXA9XCJcIjt0aGlzLmNvbnRleHRNZW51PSEwO3RoaXMucGFyZW50QmxvY2tfPW51bGw7dGhpcy5jaGlsZEJsb2Nrc189W107dGhpcy5lZGl0YWJsZT10aGlzLm1vdmFibGU9dGhpcy5kZWxldGFibGU9ITA7dGhpcy5jb2xsYXBzZWRfPXRoaXMuc2hhZG93PSExO3RoaXMub3V0cHV0U2hhcGVfPW51bGw7dGhpcy5yZW5kZXJlZD1cbnRoaXMuaXNJbnNlcnRpb25NYXJrZXJfPXRoaXMuaW5pdGlhbGl6ZWQ9dGhpcy5kaXNwb3Npbmc9ITE7dGhpcy5vbmNoYW5nZVdyYXBwZXI9dGhpcy5oZWxwVXJsPW51bGw7dGhpcy5zdGF0ZW1lbnRJbnB1dENvdW50PTA7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmlkPWMmJiFhLmdldEJsb2NrQnlJZChjKT9jOmdlblVpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCk7YS5zZXRCbG9ja0J5SWQodGhpcy5pZCx0aGlzKTt0aGlzLnh5PW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuaXNJbkZseW91dD1hLmlzRmx5b3V0O3RoaXMuaXNJbk11dGF0b3I9YS5pc011dGF0b3I7dGhpcy5SVEw9YS5SVEw7aWYoYil7dGhpcy50eXBlPWI7Yz1CbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3NbYl07aWYoIWN8fHR5cGVvZiBjIT09XCJvYmplY3RcIil0aHJvdyBUeXBlRXJyb3IoXCJJbnZhbGlkIGJsb2NrIGRlZmluaXRpb24gZm9yIHR5cGU6IFwiK1xuYik7T2JqZWN0LmFzc2lnbih0aGlzLGMpfWEuYWRkVG9wQmxvY2sodGhpcyk7YS5hZGRUeXBlZEJsb2NrKHRoaXMpO25ldy50YXJnZXQ9PT1CbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrJiZ0aGlzLmRvSW5pdF8oKX1kb0luaXRfKCl7Y29uc3QgYT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7YXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7Y29uc3QgYj1nZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dHJ5e3R5cGVvZiB0aGlzLmluaXQ9PT1cImZ1bmN0aW9uXCImJigkLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpLHRoaXMuaW5pdCgpLCQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiKSksaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJlxuZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEUpKSh0aGlzKSl9ZmluYWxseXskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpLCQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiKX10aGlzLmlucHV0c0lubGluZURlZmF1bHQ9dGhpcy5pbnB1dHNJbmxpbmU7dHlwZW9mIHRoaXMub25jaGFuZ2U9PT1cImZ1bmN0aW9uXCImJnRoaXMuc2V0T25DaGFuZ2UodGhpcy5vbmNoYW5nZSl9ZGlzcG9zZShhPSExKXt0aGlzLmRpc3Bvc2luZz0hMDt0aGlzLm9uY2hhbmdlV3JhcHBlciYmdGhpcy53b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbmNoYW5nZVdyYXBwZXIpO3RoaXMudW5wbHVnKGEpO1xuaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfREVMRVRFKSkodGhpcykpO3RoaXMud29ya3NwYWNlLnJlbW92ZVRvcEJsb2NrKHRoaXMpO3RoaXMuZGlzcG9zZUludGVybmFsKCl9ZGlzcG9zZUludGVybmFsKCl7dGhpcy5kaXNwb3Npbmc9ITA7dGhpcy5vbmNoYW5nZVdyYXBwZXImJnRoaXMud29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMub25jaGFuZ2VXcmFwcGVyKTt0aGlzLndvcmtzcGFjZS5yZW1vdmVUeXBlZEJsb2NrKHRoaXMpO3RoaXMud29ya3NwYWNlLnJlbW92ZUJsb2NrQnlJZCh0aGlzLmlkKTt0eXBlb2YgdGhpcy5kZXN0cm95PT09XCJmdW5jdGlvblwiJiZ0aGlzLmRlc3Ryb3koKTtcbnRoaXMuY2hpbGRCbG9ja3NfLmZvckVhY2goYT0+YS5kaXNwb3NlSW50ZXJuYWwoKSk7dGhpcy5pbnB1dExpc3QuZm9yRWFjaChhPT5hLmRpc3Bvc2UoKSk7dGhpcy5pbnB1dExpc3QubGVuZ3RoPTA7dGhpcy5nZXRDb25uZWN0aW9uc18oITApLmZvckVhY2goYT0+YS5kaXNwb3NlKCkpO3RoaXMuZGlzcG9zZWQ9ITB9aXNEZWFkT3JEeWluZygpe3JldHVybiB0aGlzLmRpc3Bvc2luZ3x8dGhpcy5kaXNwb3NlZH1pbml0TW9kZWwoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5pbnB1dExpc3QpYS5pbml0TW9kZWwoKTt0aGlzLmluaXRpYWxpemVkPSEwfX11bnBsdWcoYSl7dGhpcy5vdXRwdXRDb25uZWN0aW9uJiZ0aGlzLnVucGx1Z0Zyb21Sb3coYSk7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJnRoaXMudW5wbHVnRnJvbVN0YWNrKGEpfXVucGx1Z0Zyb21Sb3coYSl7bGV0IGI9bnVsbCxjO2lmKChjPXRoaXMub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/MDpcbmMuaXNDb25uZWN0ZWQoKSliPXRoaXMub3V0cHV0Q29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uLHRoaXMub3V0cHV0Q29ubmVjdGlvbi5kaXNjb25uZWN0KCk7YiYmYSYmKGE9dGhpcy5nZXRPbmx5VmFsdWVDb25uZWN0aW9uKCkpJiZhLmlzQ29ubmVjdGVkKCkmJiFhLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKSYmKGE9YS50YXJnZXRDb25uZWN0aW9uLGE9PW51bGx8fGEuZGlzY29ubmVjdCgpLHRoaXMud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoYSxiLCExKT9iLmNvbm5lY3QoYSk6YT09bnVsbHx8YS5vbkZhaWxlZENvbm5lY3QoYikpfWdldE9ubHlWYWx1ZUNvbm5lY3Rpb24oKXtsZXQgYT1udWxsO2ZvcihsZXQgYj0wO2I8dGhpcy5pbnB1dExpc3QubGVuZ3RoO2IrKyl7Y29uc3QgYz10aGlzLmlucHV0TGlzdFtiXS5jb25uZWN0aW9uO2lmKGMmJmMudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFJiZcbmMudGFyZ2V0Q29ubmVjdGlvbil7aWYoYSlyZXR1cm4gbnVsbDthPWN9fXJldHVybiBhfXVucGx1Z0Zyb21TdGFjayhhKXtsZXQgYj1udWxsLGM7aWYoKGM9dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsPzA6Yy5pc0Nvbm5lY3RlZCgpKWI9dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbix0aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5kaXNjb25uZWN0KCk7aWYoYSl7Zm9yKGE9dGhpcy5nZXROZXh0QmxvY2soKTthJiYoYS5pc1NoYWRvdygpfHwhYS5pc01vdmFibGUoKSk7KWE9YS5nZXROZXh0QmxvY2soKTtpZihhKXt2YXIgZCxlLGYsZzthPShnPShkPWEucHJldmlvdXNDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6KGU9ZC50YXJnZXRCbG9jaygpKT09bnVsbD92b2lkIDA6KGY9ZS5uZXh0Q29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmYudGFyZ2V0Q29ubmVjdGlvbikhPW51bGw/ZzpudWxsO2E9PW51bGx8fGEuZGlzY29ubmVjdCgpO2ImJnRoaXMud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoYixcbmEsITEpJiZiLmNvbm5lY3QoYSl9fX1nZXRDb25uZWN0aW9uc18oYSl7YT1bXTt0aGlzLm91dHB1dENvbm5lY3Rpb24mJmEucHVzaCh0aGlzLm91dHB1dENvbm5lY3Rpb24pO3RoaXMucHJldmlvdXNDb25uZWN0aW9uJiZhLnB1c2godGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24pO3RoaXMubmV4dENvbm5lY3Rpb24mJmEucHVzaCh0aGlzLm5leHRDb25uZWN0aW9uKTtmb3IobGV0IGI9MCxjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWMuY29ubmVjdGlvbiYmYS5wdXNoKGMuY29ubmVjdGlvbik7cmV0dXJuIGF9bGFzdENvbm5lY3Rpb25JblN0YWNrKGEpe2xldCBiPXRoaXMubmV4dENvbm5lY3Rpb247Zm9yKDtiOyl7Y29uc3QgYz1iLnRhcmdldEJsb2NrKCk7aWYoIWN8fGEmJmMuaXNTaGFkb3coKSlyZXR1cm4gYjtiPWMubmV4dENvbm5lY3Rpb259cmV0dXJuIG51bGx9YnVtcE5laWdoYm91cnMoKXt9Z2V0UGFyZW50KCl7cmV0dXJuIHRoaXMucGFyZW50QmxvY2tffWdldElucHV0V2l0aEJsb2NrKGEpe2ZvcihsZXQgYj1cbjAsYztjPXRoaXMuaW5wdXRMaXN0W2JdO2IrKylpZihjLmNvbm5lY3Rpb24mJmMuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpPT09YSlyZXR1cm4gYztyZXR1cm4gbnVsbH1nZXRTdXJyb3VuZFBhcmVudCgpe2xldCBhPXRoaXMsYjtkbyBpZihiPWEsYT1hLmdldFBhcmVudCgpLCFhKXJldHVybiBudWxsO3doaWxlKGEuZ2V0TmV4dEJsb2NrKCk9PT1iKTtyZXR1cm4gYX1nZXROZXh0QmxvY2soKXtyZXR1cm4gdGhpcy5uZXh0Q29ubmVjdGlvbiYmdGhpcy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpfWdldFByZXZpb3VzQmxvY2soKXtyZXR1cm4gdGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJnRoaXMucHJldmlvdXNDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9Z2V0Um9vdEJsb2NrKCl7bGV0IGEsYj10aGlzO2RvIGE9YixiPWEucGFyZW50QmxvY2tfO3doaWxlKGIpO3JldHVybiBhfWdldFRvcFN0YWNrQmxvY2soKXtsZXQgYT10aGlzLGI7ZG8gYj1hLmdldFByZXZpb3VzQmxvY2soKTtcbndoaWxlKGImJmIuZ2V0TmV4dEJsb2NrKCk9PT1hJiYoYT1iKSk7cmV0dXJuIGF9Z2V0Q2hpbGRyZW4oYSl7aWYoIWEpcmV0dXJuIHRoaXMuY2hpbGRCbG9ja3NfO2E9W107Zm9yKGxldCBjPTAsZDtkPXRoaXMuaW5wdXRMaXN0W2NdO2MrKylpZihkLmNvbm5lY3Rpb24pe3ZhciBiPWQuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2ImJmEucHVzaChiKX0oYj10aGlzLmdldE5leHRCbG9jaygpKSYmYS5wdXNoKGIpO3JldHVybiBhfXNldFBhcmVudChhKXtpZihhIT09dGhpcy5wYXJlbnRCbG9ja18pe3ZhciBiPXRoaXMucHJldmlvdXNDb25uZWN0aW9uJiZ0aGlzLnByZXZpb3VzQ29ubmVjdGlvbi50YXJnZXRCbG9jaygpfHx0aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMub3V0cHV0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpLGM9ISFiO2lmKGMmJmEmJmIhPT1hKXRocm93IEVycm9yKFwiQmxvY2sgY29ubmVjdGVkIHRvIHN1cGVyaW9yIG9uZSB0aGF0IGlzIG5vdCBuZXcgcGFyZW50LlwiKTtcbmlmKCFjJiZhKXRocm93IEVycm9yKFwiQmxvY2sgbm90IGNvbm5lY3RlZCB0byBuZXcgcGFyZW50LlwiKTtpZihjJiYhYSl0aHJvdyBFcnJvcihcIkNhbm5vdCBzZXQgcGFyZW50IHRvIG51bGwgd2hpbGUgYmxvY2sgaXMgc3RpbGwgY29ubmVjdGVkIHRvIHN1cGVyaW9yIGJsb2NrLlwiKTt0aGlzLnBhcmVudEJsb2NrXz9yZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy5wYXJlbnRCbG9ja18uY2hpbGRCbG9ja3NfLHRoaXMpOnRoaXMud29ya3NwYWNlLnJlbW92ZVRvcEJsb2NrKHRoaXMpOyh0aGlzLnBhcmVudEJsb2NrXz1hKT9hLmNoaWxkQmxvY2tzXy5wdXNoKHRoaXMpOnRoaXMud29ya3NwYWNlLmFkZFRvcEJsb2NrKHRoaXMpfX1nZXREZXNjZW5kYW50cyhhKXtjb25zdCBiPVt0aGlzXSxjPXRoaXMuZ2V0Q2hpbGRyZW4oYSk7Zm9yKGxldCBkLGU9MDtkPWNbZV07ZSsrKWIucHVzaCguLi5kLmdldERlc2NlbmRhbnRzKGEpKTtyZXR1cm4gYn1pc0RlbGV0YWJsZSgpe3JldHVybiB0aGlzLmRlbGV0YWJsZSYmXG4hdGhpcy5pc0luRmx5b3V0JiYhdGhpcy5zaGFkb3cmJiF0aGlzLmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKX1pc093bkRlbGV0YWJsZSgpe3JldHVybiB0aGlzLmRlbGV0YWJsZX1zZXREZWxldGFibGUoYSl7dGhpcy5kZWxldGFibGU9YX1pc01vdmFibGUoKXtyZXR1cm4gdGhpcy5tb3ZhYmxlJiYhdGhpcy5pc0luRmx5b3V0JiYhdGhpcy5zaGFkb3cmJiF0aGlzLmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKX1pc093bk1vdmFibGUoKXtyZXR1cm4gdGhpcy5tb3ZhYmxlfXNldE1vdmFibGUoYSl7dGhpcy5tb3ZhYmxlPWF9aXNEdXBsaWNhdGFibGUoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2UuaGFzQmxvY2tMaW1pdHMoKT90aGlzLndvcmtzcGFjZS5pc0NhcGFjaXR5QXZhaWxhYmxlKGdldEJsb2NrVHlwZUNvdW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzLCEwKSk6ITB9aXNTaGFkb3coKXtyZXR1cm4gdGhpcy5zaGFkb3d9c2V0U2hhZG93KGEpe3RoaXMuc2hhZG93PVxuYX1pc0luc2VydGlvbk1hcmtlcigpe3JldHVybiB0aGlzLmlzSW5zZXJ0aW9uTWFya2VyX31zZXRJbnNlcnRpb25NYXJrZXIoYSl7dGhpcy5pc0luc2VydGlvbk1hcmtlcl89YX1pc0VkaXRhYmxlKCl7cmV0dXJuIHRoaXMuZWRpdGFibGUmJiF0aGlzLmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKX1pc093bkVkaXRhYmxlKCl7cmV0dXJuIHRoaXMuZWRpdGFibGV9c2V0RWRpdGFibGUoYSl7dGhpcy5lZGl0YWJsZT1hO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0RmllbGRzKCkpYi51cGRhdGVFZGl0YWJsZSgpfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5kaXNwb3NlZH1pc1NpbXBsZVJlcG9ydGVyKCl7aWYoIXRoaXMub3V0cHV0Q29ubmVjdGlvbilyZXR1cm4hMTtmb3IoY29uc3QgYSBvZiB0aGlzLmlucHV0TGlzdClpZihhLmNvbm5lY3Rpb258fGEuZmllbGRSb3cubGVuZ3RoPjEpcmV0dXJuITE7cmV0dXJuITB9Z2V0TWF0Y2hpbmdDb25uZWN0aW9uKGEsXG5iKXtjb25zdCBjPXRoaXMuZ2V0Q29ubmVjdGlvbnNfKCEwKTthPWEuZ2V0Q29ubmVjdGlvbnNfKCEwKTtpZihjLmxlbmd0aCE9PWEubGVuZ3RoKXRocm93IEVycm9yKFwiQ29ubmVjdGlvbiBsaXN0cyBkaWQgbm90IG1hdGNoIGluIGxlbmd0aC5cIik7Zm9yKGxldCBkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYVtkXT09PWIpcmV0dXJuIGNbZF07cmV0dXJuIG51bGx9c2V0SGVscFVybChhKXt0aGlzLmhlbHBVcmw9YX1zZXRUb29sdGlwKGEpe3RoaXMudG9vbHRpcD1hfWdldFRvb2x0aXAoKXtyZXR1cm4gZ2V0VG9vbHRpcE9mT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCh0aGlzKX1nZXRDb2xvdXIoKXtyZXR1cm4gdGhpcy5jb2xvdXJffWdldFN0eWxlTmFtZSgpe3JldHVybiB0aGlzLnN0eWxlTmFtZV99Z2V0SHVlKCl7cmV0dXJuIHRoaXMuaHVlfXNldENvbG91cihhKXthPXBhcnNlQmxvY2tDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEpO1xudGhpcy5odWU9YS5odWU7dGhpcy5jb2xvdXJfPWEuaGV4fXNldFN0eWxlKGEpe3RoaXMuc3R5bGVOYW1lXz1hfXNldE9uQ2hhbmdlKGEpe2lmKGEmJnR5cGVvZiBhIT09XCJmdW5jdGlvblwiKXRocm93IEVycm9yKFwib25jaGFuZ2UgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt0aGlzLm9uY2hhbmdlV3JhcHBlciYmdGhpcy53b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbmNoYW5nZVdyYXBwZXIpO3RoaXMub25jaGFuZ2U9YTt0aGlzLm9uY2hhbmdlV3JhcHBlcj1hLmJpbmQodGhpcyk7dGhpcy53b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5vbmNoYW5nZVdyYXBwZXIpfWdldEZpZWxkKGEpe2lmKHR5cGVvZiBhIT09XCJzdHJpbmdcIil0aHJvdyBUeXBlRXJyb3IoXCJCbG9jay5wcm90b3R5cGUuZ2V0RmllbGQgZXhwZWN0cyBhIHN0cmluZyB3aXRoIHRoZSBmaWVsZCBuYW1lIGJ1dCByZWNlaXZlZCBcIisoYT09PXZvaWQgMD9cIm5vdGhpbmdcIjphK1wiIG9mIHR5cGUgXCIrXG50eXBlb2YgYSkrXCIgaW5zdGVhZFwiKTtmb3IoY29uc3QgYiBvZiB0aGlzLmdldEZpZWxkcygpKWlmKGIubmFtZT09PWEpcmV0dXJuIGI7cmV0dXJuIG51bGx9KmdldEZpZWxkcygpe2Zvcihjb25zdCBhIG9mIHRoaXMuaW5wdXRMaXN0KWZvcihjb25zdCBiIG9mIGEuZmllbGRSb3cpeWllbGQgYn1nZXRWYXJzKCl7Y29uc3QgYT1bXTtmb3IoY29uc3QgYiBvZiB0aGlzLmdldEZpZWxkcygpKWIucmVmZXJlbmNlc1ZhcmlhYmxlcygpJiZhLnB1c2goYi5nZXRWYWx1ZSgpKTtyZXR1cm4gYX1nZXRWYXJNb2RlbHMoKXtjb25zdCBhPVtdO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0RmllbGRzKCkpaWYoYi5yZWZlcmVuY2VzVmFyaWFibGVzKCkpe2NvbnN0IGM9dGhpcy53b3Jrc3BhY2UuZ2V0VmFyaWFibGVCeUlkKGIuZ2V0VmFsdWUoKSk7YyYmYS5wdXNoKGMpfXJldHVybiBhfXVwZGF0ZVZhck5hbWUoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRGaWVsZHMoKSliLnJlZmVyZW5jZXNWYXJpYWJsZXMoKSYmXG5hLmdldElkKCk9PT1iLmdldFZhbHVlKCkmJmIucmVmcmVzaFZhcmlhYmxlTmFtZSgpfXJlbmFtZVZhckJ5SWQoYSxiKXtmb3IoY29uc3QgYyBvZiB0aGlzLmdldEZpZWxkcygpKWMucmVmZXJlbmNlc1ZhcmlhYmxlcygpJiZhPT09Yy5nZXRWYWx1ZSgpJiZjLnNldFZhbHVlKGIpfWdldEZpZWxkVmFsdWUoYSl7cmV0dXJuKGE9dGhpcy5nZXRGaWVsZChhKSk/YS5nZXRWYWx1ZSgpOm51bGx9c2V0RmllbGRWYWx1ZShhLGIpe2NvbnN0IGM9dGhpcy5nZXRGaWVsZChiKTtpZighYyl0aHJvdyBFcnJvcignRmllbGQgXCInK2IrJ1wiIG5vdCBmb3VuZC4nKTtjLnNldFZhbHVlKGEpfXNldFByZXZpb3VzU3RhdGVtZW50KGEsYil7aWYoYSliPT09dm9pZCAwJiYoYj1udWxsKSx0aGlzLnByZXZpb3VzQ29ubmVjdGlvbnx8KHRoaXMucHJldmlvdXNDb25uZWN0aW9uPXRoaXMubWFrZUNvbm5lY3Rpb25fKENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVCkpLFxudGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24uc2V0Q2hlY2soYik7ZWxzZSBpZih0aGlzLnByZXZpb3VzQ29ubmVjdGlvbil7aWYodGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSl0aHJvdyBFcnJvcihcIk11c3QgZGlzY29ubmVjdCBwcmV2aW91cyBzdGF0ZW1lbnQgYmVmb3JlIHJlbW92aW5nIGNvbm5lY3Rpb24uXCIpO3RoaXMucHJldmlvdXNDb25uZWN0aW9uLmRpc3Bvc2UoKTt0aGlzLnByZXZpb3VzQ29ubmVjdGlvbj1udWxsfX1zZXROZXh0U3RhdGVtZW50KGEsYil7aWYoYSliPT09dm9pZCAwJiYoYj1udWxsKSx0aGlzLm5leHRDb25uZWN0aW9ufHwodGhpcy5uZXh0Q29ubmVjdGlvbj10aGlzLm1ha2VDb25uZWN0aW9uXyhDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVCkpLHRoaXMubmV4dENvbm5lY3Rpb24uc2V0Q2hlY2soYik7ZWxzZSBpZih0aGlzLm5leHRDb25uZWN0aW9uKXtpZih0aGlzLm5leHRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpdGhyb3cgRXJyb3IoXCJNdXN0IGRpc2Nvbm5lY3QgbmV4dCBzdGF0ZW1lbnQgYmVmb3JlIHJlbW92aW5nIGNvbm5lY3Rpb24uXCIpO1xudGhpcy5uZXh0Q29ubmVjdGlvbi5kaXNwb3NlKCk7dGhpcy5uZXh0Q29ubmVjdGlvbj1udWxsfX1zZXRPdXRwdXQoYSxiKXtpZihhKWI9PT12b2lkIDAmJihiPW51bGwpLHRoaXMub3V0cHV0Q29ubmVjdGlvbnx8KHRoaXMub3V0cHV0Q29ubmVjdGlvbj10aGlzLm1ha2VDb25uZWN0aW9uXyhDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUUpKSx0aGlzLm91dHB1dENvbm5lY3Rpb24uc2V0Q2hlY2soYik7ZWxzZSBpZih0aGlzLm91dHB1dENvbm5lY3Rpb24pe2lmKHRoaXMub3V0cHV0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKXRocm93IEVycm9yKFwiTXVzdCBkaXNjb25uZWN0IG91dHB1dCB2YWx1ZSBiZWZvcmUgcmVtb3ZpbmcgY29ubmVjdGlvbi5cIik7dGhpcy5vdXRwdXRDb25uZWN0aW9uLmRpc3Bvc2UoKTt0aGlzLm91dHB1dENvbm5lY3Rpb249bnVsbH19c2V0SW5wdXRzSW5saW5lKGEpe3RoaXMuaW5wdXRzSW5saW5lIT09XG5hJiYoZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKSh0aGlzLFwiaW5saW5lXCIsbnVsbCx0aGlzLmlucHV0c0lubGluZSxhKSksdGhpcy5pbnB1dHNJbmxpbmU9YSl9Z2V0SW5wdXRzSW5saW5lKCl7aWYodGhpcy5pbnB1dHNJbmxpbmUhPT12b2lkIDApcmV0dXJuIHRoaXMuaW5wdXRzSW5saW5lO2Zvcih2YXIgYT0xO2E8dGhpcy5pbnB1dExpc3QubGVuZ3RoO2ErKylpZih0aGlzLmlucHV0TGlzdFthLTFdaW5zdGFuY2VvZiBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0JiZ0aGlzLmlucHV0TGlzdFthXWluc3RhbmNlb2YgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dClyZXR1cm4hMTtcbmZvcihhPTE7YTx0aGlzLmlucHV0TGlzdC5sZW5ndGg7YSsrKWlmKHRoaXMuaW5wdXRMaXN0W2EtMV1pbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dCYmdGhpcy5pbnB1dExpc3RbYV1pbnN0YW5jZW9mIER1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQpcmV0dXJuITA7Zm9yKGE9MDthPHRoaXMuaW5wdXRMaXN0Lmxlbmd0aDthKyspaWYodGhpcy5pbnB1dExpc3RbYV1pbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQpcmV0dXJuITA7cmV0dXJuITF9c2V0T3V0cHV0U2hhcGUoYSl7dGhpcy5vdXRwdXRTaGFwZV89YX1nZXRPdXRwdXRTaGFwZSgpe3JldHVybiB0aGlzLm91dHB1dFNoYXBlX31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5kaXNhYmxlZFJlYXNvbnMuc2l6ZT09PTB9c2V0RGlzYWJsZWRSZWFzb24oYSxcbmIpe2F8fHRoaXMud29ya3NwYWNlLm9wdGlvbnMuZGlzYWJsZXx8IXRoaXMuaGFzRGlzYWJsZWRSZWFzb24oTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMpfHxiPT1NQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50c3x8dGhpcy5zZXREaXNhYmxlZFJlYXNvbighMSxNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyk7dGhpcy5kaXNhYmxlZFJlYXNvbnMuaGFzKGIpIT09YSYmKGE/dGhpcy5kaXNhYmxlZFJlYXNvbnMuYWRkKGIpOnRoaXMuZGlzYWJsZWRSZWFzb25zLmRlbGV0ZShiKSxhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSkpKHRoaXMsXCJkaXNhYmxlZFwiLG51bGwsIWEsYSksYS5zZXREaXNhYmxlZFJlYXNvbihiKSxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpKX1nZXRJbmhlcml0ZWREaXNhYmxlZCgpe2xldCBhPVxudGhpcy5nZXRTdXJyb3VuZFBhcmVudCgpO2Zvcig7YTspe2lmKCFhLmlzRW5hYmxlZCgpKXJldHVybiEwO2E9YS5nZXRTdXJyb3VuZFBhcmVudCgpfXJldHVybiExfWhhc0Rpc2FibGVkUmVhc29uKGEpe3JldHVybiB0aGlzLmRpc2FibGVkUmVhc29ucy5oYXMoYSl9Z2V0RGlzYWJsZWRSZWFzb25zKCl7cmV0dXJuIHRoaXMuZGlzYWJsZWRSZWFzb25zfWlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuY29sbGFwc2VkX31zZXRDb2xsYXBzZWQoYSl7dGhpcy5jb2xsYXBzZWRfIT09YSYmKGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcyxcImNvbGxhcHNlZFwiLG51bGwsdGhpcy5jb2xsYXBzZWRfLGEpKSx0aGlzLmNvbGxhcHNlZF89YSl9dG9TdHJpbmcoYSxiKXtiPXRoaXMudG9Ub2tlbnMoYik7XG5mb3IobGV0IGQ9MjtkPGIubGVuZ3RoO2QrKyliW2QtMl09PT1cIihcIiYmYltkXT09PVwiKVwiJiYoYltkLTJdPWJbZC0xXSxiLnNwbGljZShkLTEsMikpO2xldCBjPVwiXCI7Yj1iLnJlZHVjZSgoZCxlKT0+e2Q9ZCsoYz09PVwiKFwifHxlPT09XCIpXCI/XCJcIjpcIiBcIikrZTtjPWVbZS5sZW5ndGgtMV07cmV0dXJuIGR9LFwiXCIpO2I9Yi50cmltKCl8fFwiPz8/XCI7YSYmYi5sZW5ndGg+YSYmKGI9Yi5zdWJzdHJpbmcoMCxhLTMpK1wiLi4uXCIpO3JldHVybiBifXRvVG9rZW5zKGE9XCI/XCIpe2NvbnN0IGI9W107Zm9yKGNvbnN0IGQgb2YgdGhpcy5pbnB1dExpc3QpaWYoZC5uYW1lIT1DT0xMQVBTRURfSU5QVVRfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyl7Zm9yKGNvbnN0IGUgb2YgZC5maWVsZFJvdyliLnB1c2goZS5nZXRUZXh0KCkpO2lmKGQuY29ubmVjdGlvbil7Y29uc3QgZT1kLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtpZihlKXt2YXIgYz1kLmNvbm5lY3Rpb247bGV0IGY9Yy5nZXRDaGVjaygpO1xuIWYmJmMudGFyZ2V0Q29ubmVjdGlvbiYmKGY9Yy50YXJnZXRDb25uZWN0aW9uLmdldENoZWNrKCkpOyhjPSEhZiYmKGYuaW5jbHVkZXMoXCJCb29sZWFuXCIpfHxmLmluY2x1ZGVzKFwiTnVtYmVyXCIpKSkmJmIucHVzaChcIihcIik7Yi5wdXNoKC4uLmUudG9Ub2tlbnMoYSkpO2MmJmIucHVzaChcIilcIil9ZWxzZSBiLnB1c2goYSl9fXJldHVybiBifWFwcGVuZFZhbHVlSW5wdXQoYSl7cmV0dXJuIHRoaXMuYXBwZW5kSW5wdXQobmV3ICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dChhLHRoaXMpKX1hcHBlbmRTdGF0ZW1lbnRJbnB1dChhKXt0aGlzLnN0YXRlbWVudElucHV0Q291bnQrKztyZXR1cm4gdGhpcy5hcHBlbmRJbnB1dChuZXcgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0KGEsdGhpcykpfWFwcGVuZER1bW15SW5wdXQoYT1cIlwiKXtyZXR1cm4gdGhpcy5hcHBlbmRJbnB1dChuZXcgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dChhLFxudGhpcykpfWFwcGVuZEVuZFJvd0lucHV0KGE9XCJcIil7cmV0dXJuIHRoaXMuYXBwZW5kSW5wdXQobmV3IEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQoYSx0aGlzKSl9YXBwZW5kSW5wdXQoYSl7dGhpcy5pbnB1dExpc3QucHVzaChhKTtyZXR1cm4gYX1hcHBlbmRJbnB1dEZyb21SZWdpc3RyeShhLGIpe3JldHVybihhPWdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklOUFVULGEsITEpKT90aGlzLmFwcGVuZElucHV0KG5ldyBhKGIsdGhpcykpOm51bGx9anNvbkluaXQoYSl7dmFyIGI9YS50eXBlPydCbG9jayBcIicrYS50eXBlKydcIjogJzpcIlwiO2lmKGEub3V0cHV0JiZhLnByZXZpb3VzU3RhdGVtZW50KXRocm93IEVycm9yKGIrXCJNdXN0IG5vdCBoYXZlIGJvdGggYW4gb3V0cHV0IGFuZCBhIHByZXZpb3VzU3RhdGVtZW50LlwiKTtmb3IodmFyIGM9XG4wO2FbXCJhcmdzXCIrY107KXtpZihhW1wibWVzc2FnZVwiK2NdPT09dm9pZCAwKXRocm93IEVycm9yKGIrYGFyZ3Mke2N9IG11c3QgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgbWVzc2FnZSAobWVzc2FnZSR7Y30pLmApO2MrK31hLnN0eWxlJiZhLnN0eWxlLmhhdCYmKHRoaXMuaGF0PWEuc3R5bGUuaGF0LGEuc3R5bGU9bnVsbCk7aWYoYS5zdHlsZSYmYS5jb2xvdXIpdGhyb3cgRXJyb3IoYitcIk11c3Qgbm90IGhhdmUgYm90aCBhIGNvbG91ciBhbmQgYSBzdHlsZS5cIik7YS5zdHlsZT90aGlzLmpzb25Jbml0U3R5bGUoYSxiKTp0aGlzLmpzb25Jbml0Q29sb3VyKGEsYik7Zm9yKGM9MDthW1wibWVzc2FnZVwiK2NdIT09dm9pZCAwOyl0aGlzLmludGVycG9sYXRlKGFbXCJtZXNzYWdlXCIrY10sYVtcImFyZ3NcIitjXXx8W10sYVtcImltcGxpY2l0QWxpZ25cIitjXXx8YVtcImxhc3REdW1teUFsaWduXCIrY10sYiksYysrO2EuaW5wdXRzSW5saW5lIT09dm9pZCAwJiYoJC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCksXG50aGlzLnNldElucHV0c0lubGluZShhLmlucHV0c0lubGluZSksJC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSk7YS5vdXRwdXQhPT12b2lkIDAmJnRoaXMuc2V0T3V0cHV0KCEwLGEub3V0cHV0KTthLm91dHB1dFNoYXBlIT09dm9pZCAwJiZ0aGlzLnNldE91dHB1dFNoYXBlKGEub3V0cHV0U2hhcGUpO2EucHJldmlvdXNTdGF0ZW1lbnQhPT12b2lkIDAmJnRoaXMuc2V0UHJldmlvdXNTdGF0ZW1lbnQoITAsYS5wcmV2aW91c1N0YXRlbWVudCk7YS5uZXh0U3RhdGVtZW50IT09dm9pZCAwJiZ0aGlzLnNldE5leHRTdGF0ZW1lbnQoITAsYS5uZXh0U3RhdGVtZW50KTthLnRvb2x0aXAhPT12b2lkIDAmJihjPXJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYS50b29sdGlwKSx0aGlzLnNldFRvb2x0aXAoYykpO2EuZW5hYmxlQ29udGV4dE1lbnUhPT12b2lkIDAmJih0aGlzLmNvbnRleHRNZW51PVxuISFhLmVuYWJsZUNvbnRleHRNZW51KTthLnN1cHByZXNzUHJlZml4U3VmZml4IT09dm9pZCAwJiYodGhpcy5zdXBwcmVzc1ByZWZpeFN1ZmZpeD0hIWEuc3VwcHJlc3NQcmVmaXhTdWZmaXgpO2EuaGVscFVybCE9PXZvaWQgMCYmKGM9cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLmhlbHBVcmwpLHRoaXMuc2V0SGVscFVybChjKSk7dHlwZW9mIGEuZXh0ZW5zaW9ucz09PVwic3RyaW5nXCImJihjb25zb2xlLndhcm4oYitcIkpTT04gYXR0cmlidXRlICdleHRlbnNpb25zJyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gRm91bmQgcmF3IHN0cmluZyBpbiBKU09OIGZvciAnXCIrYS50eXBlK1wiJyBibG9jay5cIiksYS5leHRlbnNpb25zPVthLmV4dGVuc2lvbnNdKTthLm11dGF0b3IhPT12b2lkIDAmJmFwcGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLm11dGF0b3IsdGhpcywhMCk7YT1hLmV4dGVuc2lvbnM7XG5pZihBcnJheS5pc0FycmF5KGEpKWZvcihiPTA7YjxhLmxlbmd0aDtiKyspYXBwbHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGFbYl0sdGhpcywhMSl9anNvbkluaXRDb2xvdXIoYSxiKXtpZihcImNvbG91clwiaW4gYSlpZihhLmNvbG91cj09PXZvaWQgMCljb25zb2xlLndhcm4oYitcIlVuZGVmaW5lZCBjb2xvdXIgdmFsdWUuXCIpO2Vsc2V7YT1hLmNvbG91cjt0cnl7dGhpcy5zZXRDb2xvdXIoYSl9Y2F0Y2goYyl7Y29uc29sZS53YXJuKGIrXCJJbGxlZ2FsIGNvbG91ciB2YWx1ZTogXCIsYSl9fX1qc29uSW5pdFN0eWxlKGEsYil7YT1hLnN0eWxlO3RyeXt0aGlzLnNldFN0eWxlKGEpfWNhdGNoKGMpe2NvbnNvbGUud2FybihiK1wiU3R5bGUgZG9lcyBub3QgZXhpc3Q6IFwiLGEpfX1taXhpbihhLGIpe2lmKGIhPT12b2lkIDAmJnR5cGVvZiBiIT09XCJib29sZWFuXCIpdGhyb3cgRXJyb3IoXCJvcHRfZGlzYWJsZUNoZWNrIG11c3QgYmUgYSBib29sZWFuIGlmIHByb3ZpZGVkXCIpO2lmKCFiKXtiPVxuW107Zm9yKGNvbnN0IGMgaW4gYSl0aGlzW2NdIT09dm9pZCAwJiZiLnB1c2goYyk7aWYoYi5sZW5ndGgpdGhyb3cgRXJyb3IoXCJNaXhpbiB3aWxsIG92ZXJ3cml0ZSBibG9jayBtZW1iZXJzOiBcIitKU09OLnN0cmluZ2lmeShiKSk7fU9iamVjdC5hc3NpZ24odGhpcyxhKX1pbnRlcnBvbGF0ZShhLGIsYyxkKXthPXRva2VuaXplSW50ZXJwb2xhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSk7dGhpcy52YWxpZGF0ZVRva2VucyhhLGIubGVuZ3RoKTtiPXRoaXMuaW50ZXJwb2xhdGVBcmd1bWVudHMoYSxiLGMpO2M9W107Zm9yKGxldCBlPTAsZjtmPWJbZV07ZSsrKWlmKHRoaXMuaXNJbnB1dEtleXdvcmQoZi50eXBlKSl7aWYoYT10aGlzLmlucHV0RnJvbUpzb24oZixkKSl7Zm9yKGxldCBnPTAsaDtoPWNbZ107ZysrKWEuYXBwZW5kRmllbGQoaFswXSxoWzFdKTtjLmxlbmd0aD0wfX1lbHNlKGE9dGhpcy5maWVsZEZyb21Kc29uKGYpKSYmYy5wdXNoKFthLGYubmFtZV0pfXZhbGlkYXRlVG9rZW5zKGEsXG5iKXtjb25zdCBjPVtdO2xldCBkPTA7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspe2NvbnN0IGY9YVtlXTtpZih0eXBlb2YgZj09PVwibnVtYmVyXCIpe2lmKGY8MXx8Zj5iKXRocm93IEVycm9yKCdCbG9jayBcIicrdGhpcy50eXBlKydcIjogTWVzc2FnZSBpbmRleCAlJytmK1wiIG91dCBvZiByYW5nZS5cIik7aWYoY1tmXSl0aHJvdyBFcnJvcignQmxvY2sgXCInK3RoaXMudHlwZSsnXCI6IE1lc3NhZ2UgaW5kZXggJScrZitcIiBkdXBsaWNhdGVkLlwiKTtjW2ZdPSEwO2QrK319aWYoZCE9PWIpdGhyb3cgRXJyb3IoJ0Jsb2NrIFwiJyt0aGlzLnR5cGUrJ1wiOiBNZXNzYWdlIGRvZXMgbm90IHJlZmVyZW5jZSBhbGwgJytiK1wiIGFyZyhzKS5cIik7fWludGVycG9sYXRlQXJndW1lbnRzKGEsYixjKXtjb25zdCBkPVtdO2ZvcihsZXQgZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZT1hW2ZdO3R5cGVvZiBlPT09XCJudW1iZXJcIiYmKGU9YltlLTFdKTtpZih0eXBlb2YgZT09PVwic3RyaW5nXCIpaWYoZT09PVwiXFxuXCIpZT1cbnt0eXBlOlwiaW5wdXRfZW5kX3Jvd1wifSxjJiYoZS5hbGlnbj1jKTtlbHNlIGlmKGU9dGhpcy5zdHJpbmdUb0ZpZWxkSnNvbihlKSwhZSljb250aW51ZTtkLnB1c2goZSl9KGE9ZC5sZW5ndGgpJiYhdGhpcy5pc0lucHV0S2V5d29yZChkW2EtMV0udHlwZSkmJihhPXt0eXBlOlwiaW5wdXRfZHVtbXlcIn0sYyYmKGEuYWxpZ249YyksZC5wdXNoKGEpKTtyZXR1cm4gZH1maWVsZEZyb21Kc29uKGEpe2NvbnN0IGI9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KGEpO3JldHVybiFiJiZhLmFsdD90eXBlb2YgYS5hbHQ9PT1cInN0cmluZ1wiPyhhPXRoaXMuc3RyaW5nVG9GaWVsZEpzb24oYS5hbHQpKT90aGlzLmZpZWxkRnJvbUpzb24oYSk6bnVsbDp0aGlzLmZpZWxkRnJvbUpzb24oYS5hbHQpOmJ9aW5wdXRGcm9tSnNvbihhLGIpe3ZhciBjPXtMRUZUOiQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uTEVGVCxSSUdIVDokLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLlJJR0hULFxuQ0VOVFJFOiQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uQ0VOVFJFLENFTlRFUjokLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLkNFTlRSRX07bGV0IGQ7c3dpdGNoKGEudHlwZSl7Y2FzZSBcImlucHV0X3ZhbHVlXCI6ZD10aGlzLmFwcGVuZFZhbHVlSW5wdXQoYS5uYW1lKTticmVhaztjYXNlIFwiaW5wdXRfc3RhdGVtZW50XCI6ZD10aGlzLmFwcGVuZFN0YXRlbWVudElucHV0KGEubmFtZSk7YnJlYWs7Y2FzZSBcImlucHV0X2R1bW15XCI6ZD10aGlzLmFwcGVuZER1bW15SW5wdXQoYS5uYW1lKTticmVhaztjYXNlIFwiaW5wdXRfZW5kX3Jvd1wiOmQ9dGhpcy5hcHBlbmRFbmRSb3dJbnB1dChhLm5hbWUpO2JyZWFrO2RlZmF1bHQ6ZD10aGlzLmFwcGVuZElucHV0RnJvbVJlZ2lzdHJ5KGEudHlwZSxhLm5hbWUpfWlmKCFkKXJldHVybiBudWxsO2EuY2hlY2smJmQuc2V0Q2hlY2soYS5jaGVjayk7YS5hbGlnbiYmKGM9Y1thLmFsaWduLnRvVXBwZXJDYXNlKCldLFxuYz09PXZvaWQgMD9jb25zb2xlLndhcm4oYitcIklsbGVnYWwgYWxpZ24gdmFsdWU6IFwiLGEuYWxpZ24pOmQuc2V0QWxpZ24oYykpO3JldHVybiBkfWlzSW5wdXRLZXl3b3JkKGEpe3JldHVybiBhPT09XCJpbnB1dF92YWx1ZVwifHxhPT09XCJpbnB1dF9zdGF0ZW1lbnRcInx8YT09PVwiaW5wdXRfZHVtbXlcInx8YT09PVwiaW5wdXRfZW5kX3Jvd1wifHxoYXNJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklOUFVULGEpfXN0cmluZ1RvRmllbGRKc29uKGEpe3JldHVybihhPWEudHJpbSgpKT97dHlwZTpcImZpZWxkX2xhYmVsXCIsdGV4dDphfTpudWxsfW1vdmVJbnB1dEJlZm9yZShhLGIpe2lmKGEhPT1iKXt2YXIgYz0tMSxkPWI/LTE6dGhpcy5pbnB1dExpc3QubGVuZ3RoO2ZvcihsZXQgZT0wLGY7Zj10aGlzLmlucHV0TGlzdFtlXTtlKyspaWYoZi5uYW1lPT09YSl7aWYoYz1lLGQhPT0tMSlicmVha31lbHNlIGlmKGImJlxuZi5uYW1lPT09YiYmKGQ9ZSxjIT09LTEpKWJyZWFrO2lmKGM9PT0tMSl0aHJvdyBFcnJvcignTmFtZWQgaW5wdXQgXCInK2ErJ1wiIG5vdCBmb3VuZC4nKTtpZihkPT09LTEpdGhyb3cgRXJyb3IoJ1JlZmVyZW5jZSBpbnB1dCBcIicrYisnXCIgbm90IGZvdW5kLicpO3RoaXMubW92ZU51bWJlcmVkSW5wdXRCZWZvcmUoYyxkKX19bW92ZU51bWJlcmVkSW5wdXRCZWZvcmUoYSxiKXtpZihhPT09Yil0aHJvdyBFcnJvcihcIkNhbid0IG1vdmUgaW5wdXQgdG8gaXRzZWxmLlwiKTtpZihhPj10aGlzLmlucHV0TGlzdC5sZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklucHV0IGluZGV4IFwiK2ErXCIgb3V0IG9mIGJvdW5kcy5cIik7aWYoYj50aGlzLmlucHV0TGlzdC5sZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIlJlZmVyZW5jZSBpbnB1dCBcIitiK1wiIG91dCBvZiBib3VuZHMuXCIpO2NvbnN0IGM9dGhpcy5pbnB1dExpc3RbYV07dGhpcy5pbnB1dExpc3Quc3BsaWNlKGEsMSk7YTxiJiZiLS07dGhpcy5pbnB1dExpc3Quc3BsaWNlKGIsXG4wLGMpfXJlbW92ZUlucHV0KGEsYil7Zm9yKGxldCBjPTAsZDtkPXRoaXMuaW5wdXRMaXN0W2NdO2MrKylpZihkLm5hbWU9PT1hKXJldHVybiBkIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0JiZ0aGlzLnN0YXRlbWVudElucHV0Q291bnQtLSxkLmRpc3Bvc2UoKSx0aGlzLmlucHV0TGlzdC5zcGxpY2UoYywxKSwhMDtpZihiKXJldHVybiExO3Rocm93IEVycm9yKFwiSW5wdXQgbm90IGZvdW5kOiBcIithKTt9Z2V0SW5wdXQoYSl7Zm9yKGxldCBiPTAsYztjPXRoaXMuaW5wdXRMaXN0W2JdO2IrKylpZihjLm5hbWU9PT1hKXJldHVybiBjO3JldHVybiBudWxsfWdldElucHV0VGFyZ2V0QmxvY2soYSl7cmV0dXJuKGE9dGhpcy5nZXRJbnB1dChhKSkmJmEuY29ubmVjdGlvbiYmYS5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9Z2V0Q29tbWVudFRleHQoKXtsZXQgYSxiO3JldHVybihiPShhPXRoaXMuZ2V0SWNvbihJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuQ09NTUVOVCkpPT1cbm51bGw/dm9pZCAwOmEuZ2V0VGV4dCgpKSE9bnVsbD9iOm51bGx9c2V0Q29tbWVudFRleHQoYSl7dmFyIGI7bGV0IGM7Y29uc3QgZD0oYz0oYj10aGlzLmdldEljb24oSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlQpKT09bnVsbD92b2lkIDA6Yi5nZXRUZXh0KCkpIT1udWxsP2M6bnVsbDtpZihkIT09YSl7aWYoYSE9PW51bGwpe2I9dGhpcy5nZXRJY29uKEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5UKTtpZighYil7Yj1nZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5JQ09OLEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5ULnRvU3RyaW5nKCksITEpO2lmKCFiKXRocm93IEVycm9yKFwiTm8gY29tbWVudCBpY29uIGNsYXNzIGlzIHJlZ2lzdGVyZWQsIHNvIGEgY29tbWVudCBjYW5ub3QgYmUgc2V0XCIpO1xuYj1uZXcgYih0aGlzKTtpZighaXNDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb21tZW50X2ljb24oYikpdGhyb3cgRXJyb3IoXCJUaGUgY2xhc3MgcmVnaXN0ZXJlZCBhcyBhIGNvbW1lbnQgaWNvbiBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBJQ29tbWVudEljb24gaW50ZXJmYWNlXCIpO2I9dGhpcy5hZGRJY29uKGIpfSQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2Iuc2V0VGV4dChhKTskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfWVsc2UgdGhpcy5yZW1vdmVJY29uKEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5UKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSkpKHRoaXMsXG5cImNvbW1lbnRcIixudWxsLGQsYSkpfX1zZXRXYXJuaW5nVGV4dChhLGIpe31zZXRNdXRhdG9yKGEpe31hZGRJY29uKGEpe2lmKHRoaXMuaGFzSWNvbihhLmdldFR5cGUoKSkpdGhyb3cgbmV3IER1cGxpY2F0ZUljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkZXhjZXB0aW9ucyhhKTt0aGlzLmljb25zLnB1c2goYSk7dGhpcy5pY29ucy5zb3J0KChiLGMpPT5iLmdldFdlaWdodCgpLWMuZ2V0V2VpZ2h0KCkpO3JldHVybiBhfXJlbW92ZUljb24oYSl7aWYoIXRoaXMuaGFzSWNvbihhKSlyZXR1cm4hMTtsZXQgYjsoYj10aGlzLmdldEljb24oYSkpPT1udWxsfHxiLmRpc3Bvc2UoKTt0aGlzLmljb25zPXRoaXMuaWNvbnMuZmlsdGVyKGM9PiFjLmdldFR5cGUoKS5lcXVhbHMoYSkpO3JldHVybiEwfWhhc0ljb24oYSl7cmV0dXJuIHRoaXMuaWNvbnMuc29tZShiPT5iLmdldFR5cGUoKS5lcXVhbHMoYSkpfWdldEljb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXM/XG50aGlzLmljb25zLmZpbmQoYj0+Yi5nZXRUeXBlKCkuZXF1YWxzKGEpKTp0aGlzLmljb25zLmZpbmQoYj0+Yi5nZXRUeXBlKCkudG9TdHJpbmcoKT09PWEpfWdldEljb25zKCl7cmV0dXJuWy4uLnRoaXMuaWNvbnNdfWdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKXtyZXR1cm4gdGhpcy54eX1tb3ZlQnkoYSxiLGMpe2lmKHRoaXMucGFyZW50QmxvY2tfKXRocm93IEVycm9yKFwiQmxvY2sgaGFzIHBhcmVudFwiKTtjb25zdCBkPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkUpKSh0aGlzKTtjJiZkLnNldFJlYXNvbihjKTt0aGlzLnh5LnRyYW5zbGF0ZShhLGIpO2QucmVjb3JkTmV3KCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhkKX1tYWtlQ29ubmVjdGlvbl8oYSl7cmV0dXJuIG5ldyBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbih0aGlzLFxuYSl9YWxsSW5wdXRzRmlsbGVkKGEpe2E9PT12b2lkIDAmJihhPSEwKTtpZighYSYmdGhpcy5pc1NoYWRvdygpKXJldHVybiExO2ZvcihsZXQgYz0wLGQ7ZD10aGlzLmlucHV0TGlzdFtjXTtjKyspaWYoZC5jb25uZWN0aW9uKXt2YXIgYj1kLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtpZighYnx8IWIuYWxsSW5wdXRzRmlsbGVkKGEpKXJldHVybiExfXJldHVybihiPXRoaXMuZ2V0TmV4dEJsb2NrKCkpP2IuYWxsSW5wdXRzRmlsbGVkKGEpOiEwfXRvRGV2U3RyaW5nKCl7bGV0IGE9dGhpcy50eXBlPydcIicrdGhpcy50eXBlKydcIiBibG9jayc6XCJCbG9ja1wiO3RoaXMuaWQmJihhKz0nIChpZD1cIicrdGhpcy5pZCsnXCIpJyk7cmV0dXJuIGF9fTtCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrLkNPTExBUFNFRF9JTlBVVF9OQU1FPUNPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzO1xuQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9jay5DT0xMQVBTRURfRklFTERfTkFNRT1DT0xMQVBTRURfRklFTERfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50czt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9jay5CbG9jaz1CbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrO3ZhciBkaXNjb25uZWN0UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1udWxsLHdvYmJsaW5nQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPW51bGwsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMuY29ubmVjdGlvblVpRWZmZWN0PWNvbm5lY3Rpb25VaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMuZGlzY29ubmVjdFVpRWZmZWN0PWRpc2Nvbm5lY3RVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMuZGlzY29ubmVjdFVpU3RvcD1kaXNjb25uZWN0VWlTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLmRpc3Bvc2VVaUVmZmVjdD1kaXNwb3NlVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zO3ZhciBCbG9ja1Bhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXI9Y2xhc3N7cGFzdGUoYSxiLGMpe2lmKCFiLmlzQ2FwYWNpdHlBdmFpbGFibGUoYS50eXBlQ291bnRzKSlyZXR1cm4gbnVsbDtjJiYoYS5ibG9ja1N0YXRlLng9Yy54LGEuYmxvY2tTdGF0ZS55PWMueSk7Yz1jfHxuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5ibG9ja1N0YXRlLnh8fDAsYS5ibG9ja1N0YXRlLnl8fDApOyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2xldCBkO3RyeXtkPWFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEuYmxvY2tTdGF0ZSxiKSxtb3ZlQmxvY2tUb05vdENvbmZsaWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3RlcihkLGMpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX1pZighZClyZXR1cm4gZDtcbmlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiYhZC5pc1NoYWRvdygpJiZmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURSkpKGQpKTtjb25zdCBlPWQ7ZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCkudGhlbigoKT0+JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGUpKTtyZXR1cm4gZH19O0Jsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlci5UWVBFPVwiYmxvY2tcIjtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5KEJsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlci5UWVBFLG5ldyBCbG9ja1Bhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlci5CbG9ja1Bhc3Rlcj1CbG9ja1Bhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXIubW92ZUJsb2NrVG9Ob3RDb25mbGljdD1tb3ZlQmxvY2tUb05vdENvbmZsaWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcjt2YXIgYnVtcEludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHM9YnVtcE9iamVjdEludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzLmJ1bXBJbnRvQm91bmRzPWJ1bXBPYmplY3RJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzO21vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMuYnVtcEludG9Cb3VuZHNIYW5kbGVyPWJ1bXBJbnRvQm91bmRzSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzLmJ1bXBUb3BPYmplY3RzSW50b0JvdW5kcz1idW1wVG9wT2JqZWN0c0ludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHM7dmFyIEJsb2NrRHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYmxvY2tfZHJhZ19zdHJhdGVneT1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLmJsb2NrPWE7dGhpcy5jb25uZWN0aW9uUHJldmlld2VyPXRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZT10aGlzLnN0YXJ0TG9jPXRoaXMuc3RhcnRDaGlsZENvbm49dGhpcy5zdGFydFBhcmVudENvbm49bnVsbDt0aGlzLmRyYWdnaW5nPSExO3RoaXMuZHJhZ09mZnNldD1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTt0aGlzLm9yaWdpbmFsRXZlbnRHcm91cD1cIlwiO3RoaXMud29ya3NwYWNlPWEud29ya3NwYWNlfWlzTW92YWJsZSgpe2lmKHRoaXMuYmxvY2suaXNTaGFkb3coKSl7bGV0IGEsYjtyZXR1cm4oYj0oYT10aGlzLmJsb2NrLmdldFBhcmVudCgpKT09bnVsbD92b2lkIDA6YS5pc01vdmFibGUoKSkhPW51bGw/YjohMX1yZXR1cm4gdGhpcy5ibG9jay5pc093bk1vdmFibGUoKSYmXG4hdGhpcy5ibG9jay5pc0RlYWRPckR5aW5nKCkmJiF0aGlzLndvcmtzcGFjZS5pc1JlYWRPbmx5KCkmJiF0aGlzLmJsb2NrLmlzSW5GbHlvdXR9c3RhcnREcmFnKGEpe2lmKHRoaXMuYmxvY2suaXNTaGFkb3coKSl0aGlzLnN0YXJ0RHJhZ2dpbmdTaGFkb3coYSk7ZWxzZXt0aGlzLmRyYWdnaW5nPSEwO3RoaXMuZmlyZURyYWdTdGFydEV2ZW50KCk7dGhpcy5zdGFydExvYz10aGlzLmJsb2NrLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU9bnVsbDt0aGlzLmNvbm5lY3Rpb25QcmV2aWV3ZXI9bmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNPTk5FQ1RJT05fUFJFVklFV0VSLHRoaXMud29ya3NwYWNlLm9wdGlvbnMpKSh0aGlzLmJsb2NrKTtzdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCk7XG50aGlzLndvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCghMSk7ZGlzY29ubmVjdFVpU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMoKTthPXRoaXMuc2hvdWxkSGVhbFN0YWNrKGEpO3RoaXMuc2hvdWxkRGlzY29ubmVjdChhKSYmdGhpcy5kaXNjb25uZWN0QmxvY2soYSk7dGhpcy5ibG9jay5zZXREcmFnZ2luZyghMCk7dmFyIGI7KGI9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxiLm1vdmVUb0RyYWdMYXllcih0aGlzLmJsb2NrKX19c2hvdWxkSGVhbFN0YWNrKGEpe3JldHVybiEhYSYmKGEuYWx0S2V5fHxhLmN0cmxLZXl8fGEubWV0YUtleSl9c3RhcnREcmFnZ2luZ1NoYWRvdyhhKXtjb25zdCBiPXRoaXMuYmxvY2suZ2V0UGFyZW50KCk7aWYoIWIpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBkcmFnIGEgc2hhZG93IGJsb2NrIHdpdGggbm8gcGFyZW50LiBTaGFkb3cgYmxvY2tzIHNob3VsZCBhbHdheXMgaGF2ZSBwYXJlbnRzLlwiKTtcbnRoaXMuZHJhZ09mZnNldD1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaWZmZXJlbmNlKGIuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpLHRoaXMuYmxvY2suZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpKTtiLnN0YXJ0RHJhZyhhKX1zaG91bGREaXNjb25uZWN0KGEpe3JldHVybiEhKHRoaXMuYmxvY2suZ2V0UGFyZW50KCl8fGEmJnRoaXMuYmxvY2submV4dENvbm5lY3Rpb24mJnRoaXMuYmxvY2submV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKSl9ZGlzY29ubmVjdEJsb2NrKGEpe2xldCBiLGMsZDt0aGlzLnN0YXJ0UGFyZW50Q29ubj0oZD0oYj10aGlzLmJsb2NrLm91dHB1dENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpiLnRhcmdldENvbm5lY3Rpb24pIT1udWxsP2Q6KGM9dGhpcy5ibG9jay5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpjLnRhcmdldENvbm5lY3Rpb247aWYoYSl7bGV0IGU7dGhpcy5zdGFydENoaWxkQ29ubj1cbihlPXRoaXMuYmxvY2submV4dENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDplLnRhcmdldENvbm5lY3Rpb259dGhpcy5ibG9jay51bnBsdWcoYSk7ZGlzY29ubmVjdFVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucyh0aGlzLmJsb2NrKX1maXJlRHJhZ1N0YXJ0RXZlbnQoKXtjb25zdCBhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RSQUcpKSh0aGlzLmJsb2NrLCEwLHRoaXMuYmxvY2suZ2V0RGVzY2VuZGFudHMoITEpKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfWZpcmVEcmFnRW5kRXZlbnQoKXtjb25zdCBhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RSQUcpKSh0aGlzLmJsb2NrLFxuITEsdGhpcy5ibG9jay5nZXREZXNjZW5kYW50cyghMSkpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9ZmlyZU1vdmVFdmVudCgpe2lmKCF0aGlzLmJsb2NrLmlzRGVhZE9yRHlpbmcoKSl7dmFyIGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRSkpKHRoaXMuYmxvY2spO2Euc2V0UmVhc29uKFtcImRyYWdcIl0pO2Eub2xkQ29vcmRpbmF0ZT10aGlzLnN0YXJ0TG9jO2EucmVjb3JkTmV3KCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX19ZHJhZyhhKXtpZih0aGlzLmJsb2NrLmlzU2hhZG93KCkpe2xldCBiOyhiPXRoaXMuYmxvY2suZ2V0UGFyZW50KCkpPT1udWxsfHxiLmRyYWcoQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKGEsdGhpcy5kcmFnT2Zmc2V0KSl9ZWxzZSB0aGlzLmJsb2NrLm1vdmVEdXJpbmdEcmFnKGEpLFxudGhpcy51cGRhdGVDb25uZWN0aW9uUHJldmlldyh0aGlzLmJsb2NrLENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UoYSx0aGlzLnN0YXJ0TG9jKSl9dXBkYXRlQ29ubmVjdGlvblByZXZpZXcoYSxiKXt2YXIgYz10aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU7Y29uc3QgZD10aGlzLmdldENvbm5lY3Rpb25DYW5kaWRhdGUoYSxiKTtpZihkKXt0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU9Yj1jJiZ0aGlzLmN1cnJDYW5kaWRhdGVJc0JldHRlcihjLGIsZCk/YzpkO3ZhciB7bG9jYWw6ZSxuZWlnaGJvdXI6Zn09YjtiPWUudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRXx8ZS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UO3ZhciBnO2M9Zi5pc0Nvbm5lY3RlZCgpJiZcbiEoKGc9Zi50YXJnZXRCbG9jaygpKT09bnVsbD8wOmcuaXNJbnNlcnRpb25NYXJrZXIoKSk7aWYoYiYmYyYmIXRoaXMub3JwaGFuQ2FuQ29ubmVjdEF0RW5kKGEsZi50YXJnZXRCbG9jaygpLGUudHlwZSkpe2xldCBrOyhrPXRoaXMuY29ubmVjdGlvblByZXZpZXdlcik9PW51bGx8fGsucHJldmlld1JlcGxhY2VtZW50KGUsZixmLnRhcmdldEJsb2NrKCkpfWVsc2V7dmFyIGg7KGg9dGhpcy5jb25uZWN0aW9uUHJldmlld2VyKT09bnVsbHx8aC5wcmV2aWV3Q29ubmVjdGlvbihlLGYpfX1lbHNle2xldCBrOyhrPXRoaXMuY29ubmVjdGlvblByZXZpZXdlcik9PW51bGx8fGsuaGlkZVByZXZpZXcoKTt0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU9bnVsbH19b3JwaGFuQ2FuQ29ubmVjdEF0RW5kKGEsYixjKXtyZXR1cm4hIUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLmdldENvbm5lY3Rpb25Gb3JPcnBoYW5lZENvbm5lY3Rpb24oYSxjPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFP1xuYi5vdXRwdXRDb25uZWN0aW9uOmIucHJldmlvdXNDb25uZWN0aW9uKX1jdXJyQ2FuZGlkYXRlSXNCZXR0ZXIoYSxiLGMpe2NvbnN0IHtsb2NhbDpkLG5laWdoYm91cjplfT1hO2E9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGQueCxkLnkpO2NvbnN0IGY9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGUueCxlLnkpO2I9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlzdGFuY2UoQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKGEsYiksZik7cmV0dXJuIGMuZGlzdGFuY2U+Yi0kLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5jdXJyZW50Q29ubmVjdGlvblByZWZlcmVuY2V9Z2V0Q29ubmVjdGlvbkNhbmRpZGF0ZShhLGIpe2E9dGhpcy5nZXRMb2NhbENvbm5lY3Rpb25zKGEpO1xubGV0IGM9dGhpcy5nZXRTZWFyY2hSYWRpdXMoKSxkPW51bGw7Zm9yKGNvbnN0IGUgb2YgYSl7Y29uc3Qge2Nvbm5lY3Rpb246ZixyYWRpdXM6Z309ZS5jbG9zZXN0KGMsYik7ZiYmKGQ9e2xvY2FsOmUsbmVpZ2hib3VyOmYsZGlzdGFuY2U6Z30sYz1nKX1yZXR1cm4gZH1nZXRTZWFyY2hSYWRpdXMoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlPyQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLmNvbm5lY3RpbmdTbmFwUmFkaXVzOiQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXN9Z2V0TG9jYWxDb25uZWN0aW9ucyhhKXtjb25zdCBiPWEuZ2V0Q29ubmVjdGlvbnNfKCExKSxjPWEubGFzdENvbm5lY3Rpb25JblN0YWNrKCEwKTtjJiZjIT09YS5uZXh0Q29ubmVjdGlvbiYmYi5wdXNoKGMpO3JldHVybiBifWVuZERyYWcoYSl7aWYodGhpcy5ibG9jay5pc1NoYWRvdygpKXtsZXQgYzsoYz10aGlzLmJsb2NrLmdldFBhcmVudCgpKT09XG5udWxsfHxjLmVuZERyYWcoYSl9ZWxzZXt0aGlzLm9yaWdpbmFsRXZlbnRHcm91cD0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dGhpcy5maXJlRHJhZ0VuZEV2ZW50KCk7dGhpcy5maXJlTW92ZUV2ZW50KCk7c3RvcFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCk7ZGlzY29ubmVjdFVpU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMoKTt2YXIgYjsoYj10aGlzLmNvbm5lY3Rpb25QcmV2aWV3ZXIpPT1udWxsfHxiLmhpZGVQcmV2aWV3KCk7aWYoIXRoaXMuYmxvY2suaXNEZWFkT3JEeWluZygpJiZ0aGlzLmRyYWdnaW5nKXtsZXQgYzsoYz10aGlzLndvcmtzcGFjZS5nZXRMYXllck1hbmFnZXIoKSk9PW51bGx8fGMubW92ZU9mZkRyYWdMYXllcih0aGlzLmJsb2NrLEJMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzKTt0aGlzLmJsb2NrLnNldERyYWdnaW5nKCExKX10aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU/XG4odGhpcy5hcHBseUNvbm5lY3Rpb25zKHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZSksdGhpcy5kaXNwb3NlU3RlcCgpKTp0aGlzLmJsb2NrLnF1ZXVlUmVuZGVyKCkudGhlbigoKT0+dGhpcy5kaXNwb3NlU3RlcCgpKX19ZGlzcG9zZVN0ZXAoKXtjb25zdCBhPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKHRoaXMub3JpZ2luYWxFdmVudEdyb3VwKTt0aGlzLmJsb2NrLnNuYXBUb0dyaWQoKTtsZXQgYjsoYj10aGlzLmNvbm5lY3Rpb25QcmV2aWV3ZXIpPT1udWxsfHxiLmRpc3Bvc2UoKTt0aGlzLndvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCghMCk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX1hcHBseUNvbm5lY3Rpb25zKGEpe2NvbnN0IHtsb2NhbDpiLG5laWdoYm91cjpjfT1hO2IuY29ubmVjdChjKTtjb25zdCBkPVxuYi5pc1N1cGVyaW9yKCk/YzpiLGU9dGhpcy5ibG9jay5nZXRSb290QmxvY2soKTtmaW5pc2hRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKS50aGVuKCgpPT57Y29ubmVjdGlvblVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucyhkLmdldFNvdXJjZUJsb2NrKCkpO3NldFRpbWVvdXQoKCk9PntlLmJyaW5nVG9Gcm9udCgpfSwwKX0pfXJldmVydERyYWcoKXtpZih0aGlzLmJsb2NrLmlzU2hhZG93KCkpe2xldCBjOyhjPXRoaXMuYmxvY2suZ2V0UGFyZW50KCkpPT1udWxsfHxjLnJldmVydERyYWcoKX1lbHNle3ZhciBhOyhhPXRoaXMuY29ubmVjdGlvblByZXZpZXdlcik9PW51bGx8fGEuaGlkZVByZXZpZXcoKTt0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU9bnVsbDt2YXIgYjsoYj10aGlzLnN0YXJ0Q2hpbGRDb25uKT09bnVsbHx8Yi5jb25uZWN0KHRoaXMuYmxvY2submV4dENvbm5lY3Rpb24pO2lmKHRoaXMuc3RhcnRQYXJlbnRDb25uKXN3aXRjaCh0aGlzLnN0YXJ0UGFyZW50Q29ubi50eXBlKXtjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFOnRoaXMuc3RhcnRQYXJlbnRDb25uLmNvbm5lY3QodGhpcy5ibG9jay5vdXRwdXRDb25uZWN0aW9uKTtcbmJyZWFrO2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQ6dGhpcy5zdGFydFBhcmVudENvbm4uY29ubmVjdCh0aGlzLmJsb2NrLnByZXZpb3VzQ29ubmVjdGlvbil9ZWxzZXt0aGlzLmJsb2NrLm1vdmVUbyh0aGlzLnN0YXJ0TG9jLFtcImRyYWdcIl0pO2xldCBjOyhjPXRoaXMud29ya3NwYWNlLmdldExheWVyTWFuYWdlcigpKT09bnVsbHx8Yy5tb3ZlT2ZmRHJhZ0xheWVyKHRoaXMuYmxvY2ssQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpO2J1bXBPYmplY3RJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzKHRoaXMud29ya3NwYWNlLHRoaXMud29ya3NwYWNlLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0U2Nyb2xsTWV0cmljcyghMCksdGhpcy5ibG9jayl9dGhpcy5zdGFydFBhcmVudENvbm49dGhpcy5zdGFydENoaWxkQ29ubj1udWxsO3RoaXMuYmxvY2suc2V0RHJhZ2dpbmcoITEpO1xudGhpcy5kcmFnZ2luZz0hMX19fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYmxvY2tfZHJhZ19zdHJhdGVneT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYmxvY2tfZHJhZ19zdHJhdGVneS5CbG9ja0RyYWdTdHJhdGVneT1CbG9ja0RyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJsb2NrX2RyYWdfc3RyYXRlZ3k7dmFyIFRleHRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRfYnViYmxlPWNsYXNzIGV4dGVuZHMgQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGV7Y29uc3RydWN0b3IoYSxiLGMsZCl7c3VwZXIoYixjLGQpO3RoaXMudGV4dD1hO3RoaXMud29ya3NwYWNlPWI7dGhpcy5hbmNob3I9Yzt0aGlzLm93bmVyUmVjdD1kO3RoaXMucGFyYWdyYXBoPXRoaXMuc3RyaW5nVG9TdmcoYSx0aGlzLmNvbnRlbnRDb250YWluZXIpO3RoaXMudXBkYXRlQnViYmxlU2l6ZSgpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlUZXh0QnViYmxlXCIpfWdldFRleHQoKXtyZXR1cm4gdGhpcy50ZXh0fXNldFRleHQoYSl7dGhpcy50ZXh0PWE7cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnBhcmFncmFwaCk7dGhpcy5wYXJhZ3JhcGg9dGhpcy5zdHJpbmdUb1N2ZyhhLFxudGhpcy5jb250ZW50Q29udGFpbmVyKTt0aGlzLnVwZGF0ZUJ1YmJsZVNpemUoKX1zdHJpbmdUb1N2ZyhhLGIpe2I9dGhpcy5jcmVhdGVQYXJhZ3JhcGgoYik7YT10aGlzLmNyZWF0ZVRleHRGcmFnbWVudHMoYixhKTt0aGlzLndvcmtzcGFjZS5SVEwmJnRoaXMucmlnaHRBbGlnblRleHRGcmFnbWVudHMoYi5nZXRCQm94KCkud2lkdGgsYSk7cmV0dXJuIGJ9Y3JlYXRlUGFyYWdyYXBoKGEpe3JldHVybiBjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtcImNsYXNzXCI6XCJibG9ja2x5VGV4dCBibG9ja2x5QnViYmxlVGV4dCBibG9ja2x5Tm9Qb2ludGVyRXZlbnRzXCIsdHJhbnNmb3JtOmB0cmFuc2xhdGUoMCwke0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSH0pYCxzdHlsZTpgZGlyZWN0aW9uOiAke3RoaXMud29ya3NwYWNlLlJUTD9cblwicnRsXCI6XCJsdHJcIn1gfSxhKX1jcmVhdGVUZXh0RnJhZ21lbnRzKGEsYil7bGV0IGM9MTtyZXR1cm4gYi5zcGxpdChcIlxcblwiKS5tYXAoZD0+e2NvbnN0IGU9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuVEVYVCx7eTpgJHtjfWVtYCx4OkJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSH0sYSk7ZD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKTtlLmFwcGVuZENoaWxkKGQpO2MrPTE7cmV0dXJuIGV9KX1yaWdodEFsaWduVGV4dEZyYWdtZW50cyhhLGIpe2Zvcihjb25zdCBjIG9mIGIpYy5zZXRBdHRyaWJ1dGUoXCJ0ZXh0LWFuY2hvclwiLFwic3RhcnRcIiksYy5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7YStCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5CT1JERVJfV0lEVEh9YCl9dXBkYXRlQnViYmxlU2l6ZSgpe2NvbnN0IGE9XG50aGlzLnBhcmFncmFwaC5nZXRCQm94KCk7dGhpcy5zZXRTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShhLndpZHRoK0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSCoyLGEuaGVpZ2h0K0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSCoyKSwhMCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0X2J1YmJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0X2J1YmJsZS5UZXh0QnViYmxlPVRleHRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRfYnViYmxlO3ZhciBTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uPTE3LFdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uPWNsYXNzIGV4dGVuZHMgSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb257Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy5zb3VyY2VCbG9jaz1hO3RoaXMudGV4dE1hcD1uZXcgTWFwO3RoaXMudGV4dEJ1YmJsZT1udWxsfWdldFR5cGUoKXtyZXR1cm4gV2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24uVFlQRX1pbml0VmlldyhhKXt0aGlzLnN2Z1Jvb3R8fChzdXBlci5pbml0VmlldyhhKSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblNoYXBlXCIsZDpcIk0yLDE1US0xLDE1IDAuNSwxMkw2LjUsMS43UTgsLTEgOS41LDEuN0wxNS41LDEyUTE3LDE1IDE0LDE1elwifSxcbnRoaXMuc3ZnUm9vdCksY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCx7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TeW1ib2xcIixkOlwibTcsNC44djMuMTZsMC4yNywyLjI3aDEuNDZsMC4yNywtMi4yN3YtMy4xNnpcIn0sdGhpcy5zdmdSb290KSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblN5bWJvbFwiLHg6XCI3XCIseTpcIjExXCIsaGVpZ2h0OlwiMlwiLHdpZHRoOlwiMlwifSx0aGlzLnN2Z1Jvb3QpLGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlXYXJuaW5nSWNvblwiKSl9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKTtsZXQgYTsoYT10aGlzLnRleHRCdWJibGUpPT1udWxsfHxcbmEuZGlzcG9zZSgpfWdldFdlaWdodCgpe3JldHVybiBXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi5XRUlHSFR9Z2V0U2l6ZSgpe3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbixTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uKX1hcHBseUNvbG91cigpe3N1cGVyLmFwcGx5Q29sb3VyKCk7bGV0IGE7KGE9dGhpcy50ZXh0QnViYmxlKT09bnVsbHx8YS5zZXRDb2xvdXIodGhpcy5zb3VyY2VCbG9jay5nZXRDb2xvdXIoKSl9dXBkYXRlQ29sbGFwc2VkKCl7fWlzU2hvd25XaGVuQ29sbGFwc2VkKCl7cmV0dXJuITB9b25Mb2NhdGlvbkNoYW5nZShhKXtzdXBlci5vbkxvY2F0aW9uQ2hhbmdlKGEpO2xldCBiOyhiPXRoaXMudGV4dEJ1YmJsZSk9PW51bGx8fGIuc2V0QW5jaG9yTG9jYXRpb24odGhpcy5nZXRBbmNob3JMb2NhdGlvbigpKX1hZGRNZXNzYWdlKGEsXG5iKXtpZih0aGlzLnRleHRNYXAuZ2V0KGIpPT09YSlyZXR1cm4gdGhpczthP3RoaXMudGV4dE1hcC5zZXQoYixhKTp0aGlzLnRleHRNYXAuZGVsZXRlKGIpO2xldCBjOyhjPXRoaXMudGV4dEJ1YmJsZSk9PW51bGx8fGMuc2V0VGV4dCh0aGlzLmdldFRleHQoKSk7cmV0dXJuIHRoaXN9Z2V0VGV4dCgpe3JldHVyblsuLi50aGlzLnRleHRNYXAudmFsdWVzKCldLmpvaW4oXCJcXG5cIil9b25DbGljaygpe3N1cGVyLm9uQ2xpY2soKTt0aGlzLnNldEJ1YmJsZVZpc2libGUoIXRoaXMuYnViYmxlSXNWaXNpYmxlKCkpfWlzQ2xpY2thYmxlSW5GbHlvdXQoKXtyZXR1cm4hMX1idWJibGVJc1Zpc2libGUoKXtyZXR1cm4hIXRoaXMudGV4dEJ1YmJsZX1zZXRCdWJibGVWaXNpYmxlKGEpe2NvbnN0IGI9dGhpcztyZXR1cm4oMCwkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JGdW5jdGlvbikoZnVuY3Rpb24qKCl7aWYoYi5idWJibGVJc1Zpc2libGUoKSE9PWEpe3lpZWxkIGZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpO1xuaWYoYSliLnRleHRCdWJibGU9bmV3IFRleHRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRfYnViYmxlKGIuZ2V0VGV4dCgpLGIuc291cmNlQmxvY2sud29ya3NwYWNlLGIuZ2V0QW5jaG9yTG9jYXRpb24oKSxiLmdldEJ1YmJsZU93bmVyUmVjdCgpKSxiLmFwcGx5Q29sb3VyKCk7ZWxzZXtsZXQgYzsoYz1iLnRleHRCdWJibGUpPT1udWxsfHxjLmRpc3Bvc2UoKTtiLnRleHRCdWJibGU9bnVsbH1maXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJVQkJMRV9PUEVOKSkoYi5zb3VyY2VCbG9jayxhLFwid2FybmluZ1wiKSl9fSl9Z2V0QnViYmxlKCl7cmV0dXJuIHRoaXMudGV4dEJ1YmJsZX1nZXRBbmNob3JMb2NhdGlvbigpe2NvbnN0IGE9U0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi9cbjI7cmV0dXJuIENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bSh0aGlzLndvcmtzcGFjZUxvY2F0aW9uLG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLGEpKX1nZXRCdWJibGVPd25lclJlY3QoKXtjb25zdCBhPXRoaXMuc291cmNlQmxvY2suZ2V0U3ZnUm9vdCgpLmdldEJCb3goKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEueSxhLnkrYS5oZWlnaHQsYS54LGEueCthLndpZHRoKX19O1dhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLlRZUEU9SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLldBUk5JTkc7V2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24uV0VJR0hUPTI7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLldhcm5pbmdJY29uPVdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uO3ZhciBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz1jbGFzcyBleHRlbmRzIEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2t7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGEsYixjKTt0aGlzLmNoaWxkbGVzc1dpZHRoPXRoaXMud2lkdGg9dGhpcy5oZWlnaHQ9MDt0aGlzLndhcm5pbmdUZXh0RGI9bmV3IE1hcDt0aGlzLm11dGF0b3I9bnVsbDt0aGlzLnJlbmRlcmVkPSEwO3RoaXMudmlzdWFsbHlEaXNhYmxlZD0hMTt0aGlzLnRyYW5zbGF0aW9uPVwiXCI7dGhpcy5kcmFnZ2luZz0hMTt0aGlzLnJlbGF0aXZlQ29vcmRzPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuZHJhZ1N0cmF0ZWd5PW5ldyBCbG9ja0RyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJsb2NrX2RyYWdfc3RyYXRlZ3kodGhpcyk7aWYoIWEucmVuZGVyZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIHJlbmRlcmVkIGJsb2NrIGluIGEgaGVhZGxlc3Mgd29ya3NwYWNlXCIpO1xudGhpcy53b3Jrc3BhY2U9YTt0aGlzLnN2Z0dyb3VwPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse30pO2ImJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXAsYik7dGhpcy5zdHlsZT1hLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuZ2V0QmxvY2tTdHlsZShudWxsKTt0aGlzLnBhdGhPYmplY3Q9YS5nZXRSZW5kZXJlcigpLm1ha2VQYXRoT2JqZWN0KHRoaXMuc3ZnR3JvdXAsdGhpcy5zdHlsZSk7YT10aGlzLnBhdGhPYmplY3Quc3ZnUGF0aDthLnRvb2x0aXA9dGhpcztiaW5kTW91c2VFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKGEpO3RoaXMuc3ZnR3JvdXAuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLHRoaXMuaWQpO2EuaWQ9Z2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTtcbnRoaXMuZG9Jbml0XygpfWluaXRTdmcoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Zm9yKHZhciBhIG9mIHRoaXMuaW5wdXRMaXN0KWEuaW5pdCgpO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0SWNvbnMoKSliLmluaXRWaWV3KHRoaXMuY3JlYXRlSWNvblBvaW50ZXJEb3duTGlzdGVuZXIoYikpLGIudXBkYXRlRWRpdGFibGUoKTt0aGlzLmFwcGx5Q29sb3VyKCk7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZU1vdmFibGUodGhpcy5pc01vdmFibGUoKXx8dGhpcy5pc0luRmx5b3V0KTsoYT10aGlzLmdldFN2Z1Jvb3QoKSkmJmNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vbk1vdXNlRG93bik7YS5wYXJlbnROb2RlfHx0aGlzLndvcmtzcGFjZS5nZXRDYW52YXMoKS5hcHBlbmRDaGlsZChhKTt0aGlzLmluaXRpYWxpemVkPSEwfX1nZXRDb2xvdXJTZWNvbmRhcnkoKXtyZXR1cm4gdGhpcy5zdHlsZS5jb2xvdXJTZWNvbmRhcnl9Z2V0Q29sb3VyVGVydGlhcnkoKXtyZXR1cm4gdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeX1zZWxlY3QoKXt0aGlzLmFkZFNlbGVjdCgpO1xuZmlyZVNlbGVjdGVkRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24odGhpcyl9dW5zZWxlY3QoKXt0aGlzLnJlbW92ZVNlbGVjdCgpO2ZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKG51bGwpfXNldFBhcmVudChhKXt2YXIgYj10aGlzLnBhcmVudEJsb2NrXztpZihhIT09Yil7c3RhcnRUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSgpO3N1cGVyLnNldFBhcmVudChhKTtzdG9wVGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTt2YXIgYz10aGlzLmdldFN2Z1Jvb3QoKTtpZighdGhpcy53b3Jrc3BhY2UuaXNDbGVhcmluZyYmYyl7dmFyIGQ9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksZT0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpLGYsZz10aGlzLmdldFN2Z1Jvb3QoKS5jb250YWlucygoZj1cbmU9PW51bGw/dm9pZCAwOmUuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpKSE9bnVsbD9mOm51bGwpO2E/KGEuZ2V0U3ZnUm9vdCgpLmFwcGVuZENoaWxkKGMpLGcmJmUmJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShlKSk6YiYmKGE9dGhpcy53b3Jrc3BhY2UuZ2V0Q2FudmFzKCkucXVlcnlTZWxlY3RvcihcIi5ibG9ja2x5RHJhZ2dpbmdcIiksYj1hPT1udWxsP3ZvaWQgMDphLnBhcmVudEVsZW1lbnQsZj10aGlzLndvcmtzcGFjZS5nZXRDYW52YXMoKSxiPT09Zj9mLmluc2VydEJlZm9yZShjLGEpOihmLmFwcGVuZENoaWxkKGMpLGcmJmUmJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShlKSksdGhpcy50cmFuc2xhdGUoZC54LGQueSkpO3RoaXMuYXBwbHlDb2xvdXIoKX19fWdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKXtjb25zdCBhPXRoaXMud29ya3NwYWNlLmdldExheWVyTWFuYWdlcigpO1xuaWYoIWEpdGhyb3cgRXJyb3IoXCJDYW5ub3QgY2FsY3VsYXRlIHBvc2l0aW9uIGJlY2F1c2UgdGhlIHdvcmtzcGFjZSBoYXMgbm90IGJlZW4gYXBwZW5kZWRcIik7bGV0IGI9MCxjPTAsZD10aGlzLmdldFN2Z1Jvb3QoKTtpZihkKXtkb3tjb25zdCBlPWdldFJlbGF0aXZlWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aChkKTtiKz1lLng7Yys9ZS55O2Q9ZC5wYXJlbnROb2RlfXdoaWxlKGQmJiFhLmhhc0xheWVyKGQpKX1yZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGIsYyl9bW92ZUJ5KGEsYixjKXtpZih0aGlzLnBhcmVudEJsb2NrXyl0aHJvdyBFcnJvcihcIkJsb2NrIGhhcyBwYXJlbnRcIik7Y29uc3QgZD1pc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtsZXQgZT1udWxsO2QmJihlPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkUpKSh0aGlzKSxcbmMmJmUuc2V0UmVhc29uKGMpKTthPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLGIpO2I9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7YT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYixhKTt0aGlzLnRyYW5zbGF0ZShhLngsYS55KTt0aGlzLnVwZGF0ZUNvbXBvbmVudExvY2F0aW9ucyhhKTtkJiZlJiYoZS5yZWNvcmROZXcoKSxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGUpKTt0aGlzLndvcmtzcGFjZS5yZXNpemVDb250ZW50cygpfXRyYW5zbGF0ZShhLGIpe3RoaXMudHJhbnNsYXRpb249YHRyYW5zbGF0ZSgke2F9LCAke2J9KWA7dGhpcy5yZWxhdGl2ZUNvb3Jkcz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYSxiKTt0aGlzLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcbnRoaXMuZ2V0VHJhbnNsYXRpb24oKSl9Z2V0VHJhbnNsYXRpb24oKXtyZXR1cm4gdGhpcy50cmFuc2xhdGlvbn1tb3ZlVG8oYSxiKXtjb25zdCBjPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3RoaXMubW92ZUJ5KGEueC1jLngsYS55LWMueSxiKX1tb3ZlRHVyaW5nRHJhZyhhKXt0aGlzLnRyYW5zbGF0ZShhLngsYS55KTt0aGlzLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIix0aGlzLmdldFRyYW5zbGF0aW9uKCkpO3RoaXMudXBkYXRlQ29tcG9uZW50TG9jYXRpb25zKGEpfXNuYXBUb0dyaWQoKXtpZighdGhpcy5pc0RlYWRPckR5aW5nKCkmJiF0aGlzLmdldFBhcmVudCgpJiYhdGhpcy5pc0luRmx5b3V0KXt2YXIgYT10aGlzLndvcmtzcGFjZS5nZXRHcmlkKCk7aWYoYSE9bnVsbCYmYS5zaG91bGRTbmFwKCkpe3ZhciBiPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2E9YS5hbGlnblhZKGIpO2EhPT1iJiZ0aGlzLm1vdmVUbyhhLFtcInNuYXBcIl0pfX19Z2V0Qm91bmRpbmdSZWN0YW5nbGUoKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhEaW1lbnNpb25zKHRoaXMuZ2V0SGVpZ2h0V2lkdGgoKSl9Z2V0Qm91bmRpbmdSZWN0YW5nbGVXaXRob3V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhEaW1lbnNpb25zKHtoZWlnaHQ6dGhpcy5oZWlnaHQsXG53aWR0aDp0aGlzLmNoaWxkbGVzc1dpZHRofSl9Z2V0Qm91bmRpbmdSZWN0YW5nbGVXaXRoRGltZW5zaW9ucyhhKXtjb25zdCBiPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2xldCBjLGQ7dGhpcy5SVEw/KGM9Yi54LWEud2lkdGgsZD1iLngpOihjPWIueCxkPWIueCthLndpZHRoKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGIueSxiLnkrYS5oZWlnaHQsYyxkKX1tYXJrRGlydHkoKXt0aGlzLnBhdGhPYmplY3QuY29uc3RhbnRzPXRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCk7Zm9yKGxldCBhPTAsYjtiPXRoaXMuaW5wdXRMaXN0W2FdO2ErKyliLm1hcmtEaXJ0eSgpfXNldENvbGxhcHNlZChhKXt0aGlzLmNvbGxhcHNlZF8hPT1hJiYoc3VwZXIuc2V0Q29sbGFwc2VkKGEpLHRoaXMudXBkYXRlQ29sbGFwc2VkKCkpfWNoaWxkSGFzV2FybmluZygpe2NvbnN0IGE9dGhpcy5nZXRDaGlsZHJlbighMSk7XG5mb3IoY29uc3QgYiBvZiBhKWlmKGIuZ2V0SWNvbihXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi5UWVBFKXx8Yi5jaGlsZEhhc1dhcm5pbmcoKSlyZXR1cm4hMDtyZXR1cm4hMX11cGRhdGVDb2xsYXBzZWQoKXt2YXIgYT10aGlzLmlzQ29sbGFwc2VkKCk7Y29uc3QgYj1DT0xMQVBTRURfSU5QVVRfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyxjPUNPTExBUFNFRF9GSUVMRF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzO2ZvcihsZXQgZT0wLGY7Zj10aGlzLmlucHV0TGlzdFtlXTtlKyspZi5uYW1lIT09YiYmZi5zZXRWaXNpYmxlKCFhKTtmb3IodmFyIGQgb2YgdGhpcy5nZXRJY29ucygpKWQudXBkYXRlQ29sbGFwc2VkKCk7YT8oYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxcImJsb2NrbHlDb2xsYXBzZWRcIiksdGhpcy5jaGlsZEhhc1dhcm5pbmcoKSYmXG50aGlzLnNldFdhcm5pbmdUZXh0KCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTExBUFNFRF9XQVJOSU5HU19XQVJOSU5HLEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnLkNPTExBUFNFRF9XQVJOSU5HX0lEKSxhPXRoaXMudG9TdHJpbmcoQ09MTEFQU0VfQ0hBUlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHMpLChkPXRoaXMuZ2V0RmllbGQoYykpP2Quc2V0VmFsdWUoYSk6KHRoaXMuZ2V0SW5wdXQoYil8fHRoaXMuYXBwZW5kRHVtbXlJbnB1dChiKSkuYXBwZW5kRmllbGQobmV3IEZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbChhKSxjKSk6KHRoaXMudXBkYXRlRGlzYWJsZWQoKSx0aGlzLnJlbW92ZUlucHV0KGIpLHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXAsXCJibG9ja2x5Q29sbGFwc2VkXCIpLHRoaXMuc2V0V2FybmluZ1RleHQobnVsbCxcbkJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnLkNPTExBUFNFRF9XQVJOSU5HX0lEKSl9b25Nb3VzZURvd24oYSl7aWYoIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKSl7dmFyIGI9dGhpcy53b3Jrc3BhY2UuZ2V0R2VzdHVyZShhKTtiJiZiLmhhbmRsZUJsb2NrU3RhcnQoYSx0aGlzKX19c2hvd0hlbHAoKXtjb25zdCBhPXR5cGVvZiB0aGlzLmhlbHBVcmw9PT1cImZ1bmN0aW9uXCI/dGhpcy5oZWxwVXJsKCk6dGhpcy5oZWxwVXJsO2EmJndpbmRvdy5vcGVuKGEpfWdlbmVyYXRlQ29udGV4dE1lbnUoYSl7aWYodGhpcy53b3Jrc3BhY2UuaXNSZWFkT25seSgpfHwhdGhpcy5jb250ZXh0TWVudSlyZXR1cm4gbnVsbDthPUNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5nZXRDb250ZXh0TWVudU9wdGlvbnMoe2Jsb2NrOnRoaXMsZm9jdXNlZE5vZGU6dGhpc30sYSk7dGhpcy5jdXN0b21Db250ZXh0TWVudSYmXG50aGlzLmN1c3RvbUNvbnRleHRNZW51KGEpO3JldHVybiBhfWNhbGN1bGF0ZUNvbnRleHRNZW51TG9jYXRpb24oYSl7aWYoYSBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudClyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEuY2xpZW50WCxhLmNsaWVudFkpO2E9d3NUb1NjcmVlbkNvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgodGhpcy53b3Jrc3BhY2UsdGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpO2xldCBiLGM7Y29uc3QgZD0oYj10aGlzLmlucHV0TGlzdC5maWx0ZXIoZT0+ZS5pc1Zpc2libGUoKSkuZmxhdE1hcChlPT5lLmZpZWxkUm93KS5maW5kKGU9PmUuaXNWaXNpYmxlKCkpKT09bnVsbD92b2lkIDA6KGM9Yi5nZXRTdmdSb290KCkpPT1udWxsP3ZvaWQgMDpjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUodGhpcy5SVEw/XG5hLngtNTphLngrNSwoZCYmZC5oZWlnaHQ/ZC55K2QuaGVpZ2h0OmEueSt0aGlzLmhlaWdodCkrNSl9c2hvd0NvbnRleHRNZW51KGEpe2NvbnN0IGI9dGhpcy5nZW5lcmF0ZUNvbnRleHRNZW51KGEpLGM9dGhpcy5jYWxjdWxhdGVDb250ZXh0TWVudUxvY2F0aW9uKGEpO2ImJmIubGVuZ3RoJiYoc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KGEsYix0aGlzLlJUTCx0aGlzLndvcmtzcGFjZSxjKSxzZXRDdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSh0aGlzKSl9dXBkYXRlQ29tcG9uZW50TG9jYXRpb25zKGEpe3RoaXMuZHJhZ2dpbmd8fHRoaXMudXBkYXRlQ29ubmVjdGlvbkxvY2F0aW9ucyhhKTt0aGlzLnVwZGF0ZUljb25Mb2NhdGlvbnMoYSk7dGhpcy51cGRhdGVGaWVsZExvY2F0aW9ucyhhKTtmb3IoY29uc3QgYiBvZiB0aGlzLmdldENoaWxkcmVuKCExKSliLnVwZGF0ZUNvbXBvbmVudExvY2F0aW9ucyhDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYSxcbmIucmVsYXRpdmVDb29yZHMpKX11cGRhdGVDb25uZWN0aW9uTG9jYXRpb25zKGEpe2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0Q29ubmVjdGlvbnNfKCExKSliLm1vdmVUb09mZnNldChhKX11cGRhdGVJY29uTG9jYXRpb25zKGEpe2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0SWNvbnMoKSliLm9uTG9jYXRpb25DaGFuZ2UoYSl9dXBkYXRlRmllbGRMb2NhdGlvbnMoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy5pbnB1dExpc3QpZm9yKGNvbnN0IGMgb2YgYi5maWVsZFJvdyljLm9uTG9jYXRpb25DaGFuZ2UoYSl9YWRkQ2xhc3MoYSl7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxhKX1yZW1vdmVDbGFzcyhhKXtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLGEpfXNldERyYWdnaW5nKGEpeyh0aGlzLmRyYWdnaW5nPWEpPyh0aGlzLnRyYW5zbGF0aW9uPVwiXCIsZHJhZ2dpbmdDb25uZWN0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5wdXNoKC4uLnRoaXMuZ2V0Q29ubmVjdGlvbnNfKCEwKSksXG50aGlzLmFkZENsYXNzKFwiYmxvY2tseURyYWdnaW5nXCIpKTooZHJhZ2dpbmdDb25uZWN0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5sZW5ndGg9MCx0aGlzLnJlbW92ZUNsYXNzKFwiYmxvY2tseURyYWdnaW5nXCIpKTtmb3IobGV0IGI9MDtiPHRoaXMuY2hpbGRCbG9ja3NfLmxlbmd0aDtiKyspdGhpcy5jaGlsZEJsb2Nrc19bYl0uc2V0RHJhZ2dpbmcoYSl9c2V0TW92YWJsZShhKXtzdXBlci5zZXRNb3ZhYmxlKGEpO3RoaXMucGF0aE9iamVjdC51cGRhdGVNb3ZhYmxlKGEpfXNldEVkaXRhYmxlKGEpe3N1cGVyLnNldEVkaXRhYmxlKGEpO2E/cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxcImJsb2NrbHlOb3RFZGl0YWJsZVwiKTphZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLFwiYmxvY2tseU5vdEVkaXRhYmxlXCIpO2E9dGhpcy5nZXRJY29ucygpO2ZvcihsZXQgYj1cbjA7YjxhLmxlbmd0aDtiKyspYVtiXS51cGRhdGVFZGl0YWJsZSgpfXNldFNoYWRvdyhhKXtzdXBlci5zZXRTaGFkb3coYSk7dGhpcy5hcHBseUNvbG91cigpfXNldEluc2VydGlvbk1hcmtlcihhKXt0aGlzLmlzSW5zZXJ0aW9uTWFya2VyXyE9PWEmJih0aGlzLmlzSW5zZXJ0aW9uTWFya2VyXz1hKSYmKHRoaXMuc2V0Q29sb3VyKHRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuSU5TRVJUSU9OX01BUktFUl9DT0xPVVIpLHRoaXMucGF0aE9iamVjdC51cGRhdGVJbnNlcnRpb25NYXJrZXIoITApKX1nZXRTdmdSb290KCl7cmV0dXJuIHRoaXMuc3ZnR3JvdXB9ZGlzcG9zZShhLGIpe3RoaXMuZGlzcG9zaW5nPSEwO2Rpc3Bvc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCk7aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KCk7Y29uc3QgYz0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKTtcbnZhciBkLGU7aWYodGhpcy5nZXRTdmdSb290KCkuY29udGFpbnMoKGU9KGQ9Yy5nZXRGb2N1c2VkTm9kZSgpKT09bnVsbD92b2lkIDA6ZC5nZXRGb2N1c2FibGVFbGVtZW50KCkpIT1udWxsP2U6bnVsbCkpe2Q9dGhpcy5nZXRQYXJlbnQoKTtpZighZCl7bGV0IGY7aWYoZT0oZj10aGlzLm91dHB1dENvbm5lY3Rpb24pIT1udWxsP2Y6dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24pe2xldCBnO2Q9KGc9ZS5jbG9zZXN0KDAsbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCkpLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpnLmdldFNvdXJjZUJsb2NrKCl9fWQ/Yy5mb2N1c05vZGUoZCk6c2V0VGltZW91dCgoKT0+Yy5mb2N1c1RyZWUodGhpcy53b3Jrc3BhY2UpLDApfWImJih0aGlzLnVucGx1ZyhhKSxkaXNwb3NlVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKHRoaXMpKTtzdXBlci5kaXNwb3NlKCEhYSk7XG5yZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXApfWRpc3Bvc2VJbnRlcm5hbCgpe3RoaXMuZGlzcG9zaW5nPSEwO3N1cGVyLmRpc3Bvc2VJbnRlcm5hbCgpOyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCk9PT10aGlzJiZ0aGlzLndvcmtzcGFjZS5jYW5jZWxDdXJyZW50R2VzdHVyZSgpO1suLi50aGlzLndhcm5pbmdUZXh0RGIudmFsdWVzKCldLmZvckVhY2goYT0+Y2xlYXJUaW1lb3V0KGEpKTt0aGlzLndhcm5pbmdUZXh0RGIuY2xlYXIoKTt0aGlzLmdldEljb25zKCkuZm9yRWFjaChhPT5hLmRpc3Bvc2UoKSl9Y2hlY2tBbmREZWxldGUoKXt0aGlzLndvcmtzcGFjZS5pc0ZseW91dHx8KCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApLHRoaXMud29ya3NwYWNlLmhpZGVDaGFmZigpLHRoaXMub3V0cHV0Q29ubmVjdGlvbj9cbnRoaXMuZGlzcG9zZSghMSwhMCk6dGhpcy5kaXNwb3NlKCEwLCEwKSwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKSl9dG9Db3B5RGF0YShhPSExKXtyZXR1cm4gdGhpcy5pc0luc2VydGlvbk1hcmtlcl8/bnVsbDp7cGFzdGVyOkJsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlci5UWVBFLGJsb2NrU3RhdGU6c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKHRoaXMse2FkZENvb3JkaW5hdGVzOiEwLGFkZE5leHRCbG9ja3M6YSxzYXZlSWRzOiExfSksdHlwZUNvdW50czpnZXRCbG9ja1R5cGVDb3VudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24odGhpcywhMCl9fWFwcGx5Q29sb3VyKCl7dmFyIGEsYjsoYj0oYT10aGlzLnBhdGhPYmplY3QpLmFwcGx5Q29sb3VyKT09bnVsbHx8Yi5jYWxsKGEsdGhpcyk7YT10aGlzLmdldEljb25zKCk7Zm9yKGI9XG4wO2I8YS5sZW5ndGg7YisrKWFbYl0uYXBwbHlDb2xvdXIoKTtmb3IoY29uc3QgYyBvZiB0aGlzLmdldEZpZWxkcygpKWMuYXBwbHlDb2xvdXIoKX11cGRhdGVEaXNhYmxlZCgpe2NvbnN0IGE9IXRoaXMuaXNFbmFibGVkKCl8fHRoaXMuZ2V0SW5oZXJpdGVkRGlzYWJsZWQoKTtpZih0aGlzLnZpc3VhbGx5RGlzYWJsZWQ9PT1hKXtsZXQgYjsoYj10aGlzLmdldE5leHRCbG9jaygpKT09bnVsbHx8Yi51cGRhdGVEaXNhYmxlZCgpfWVsc2V7dGhpcy5hcHBseUNvbG91cigpO3RoaXMudmlzdWFsbHlEaXNhYmxlZD1hO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oITEpKWIudXBkYXRlRGlzYWJsZWQoKX19c2V0V2FybmluZ1RleHQoYSxiPVwiXCIpe2lmKGIpdGhpcy53YXJuaW5nVGV4dERiLmhhcyhiKSYmKGNsZWFyVGltZW91dCh0aGlzLndhcm5pbmdUZXh0RGIuZ2V0KGIpKSx0aGlzLndhcm5pbmdUZXh0RGIuZGVsZXRlKGIpKTtlbHNle2Zvcih2YXIgYyBvZiB0aGlzLndhcm5pbmdUZXh0RGIudmFsdWVzKCkpY2xlYXJUaW1lb3V0KGMpO1xudGhpcy53YXJuaW5nVGV4dERiLmNsZWFyKCl9aWYodGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZygpKXRoaXMud2FybmluZ1RleHREYi5zZXQoYixzZXRUaW1lb3V0KCgpPT57dGhpcy5pc0RlYWRPckR5aW5nKCl8fCh0aGlzLndhcm5pbmdUZXh0RGIuZGVsZXRlKGIpLHRoaXMuc2V0V2FybmluZ1RleHQoYSxiKSl9LDEwMCkpO2Vsc2UgaWYodGhpcy5pc0luRmx5b3V0JiYoYT1udWxsKSxjPXRoaXMuZ2V0SWNvbihXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi5UWVBFKSxhKXtsZXQgZD10aGlzLmdldFN1cnJvdW5kUGFyZW50KCksZT1udWxsO2Zvcig7ZDspZC5pc0NvbGxhcHNlZCgpJiYoZT1kKSxkPWQuZ2V0U3Vycm91bmRQYXJlbnQoKTtlJiZlLnNldFdhcm5pbmdUZXh0KCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTExBUFNFRF9XQVJOSU5HU19XQVJOSU5HLEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnLkNPTExBUFNFRF9XQVJOSU5HX0lEKTtcbmM/Yy5hZGRNZXNzYWdlKGEsYik6dGhpcy5hZGRJY29uKChuZXcgV2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24odGhpcykpLmFkZE1lc3NhZ2UoYSxiKSl9ZWxzZSBjJiYoYj8oYy5hZGRNZXNzYWdlKFwiXCIsYiksYy5nZXRUZXh0KCl8fHRoaXMucmVtb3ZlSWNvbihXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi5UWVBFKSk6dGhpcy5yZW1vdmVJY29uKFdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLlRZUEUpKX1zZXRNdXRhdG9yKGEpe3RoaXMucmVtb3ZlSWNvbigkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLlRZUEUpO2EmJnRoaXMuYWRkSWNvbihhKX1hZGRJY29uKGEpe3N1cGVyLmFkZEljb24oYSk7YSBpbnN0YW5jZW9mICQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24mJlxuKHRoaXMubXV0YXRvcj1hKTthLmluaXRWaWV3KHRoaXMuY3JlYXRlSWNvblBvaW50ZXJEb3duTGlzdGVuZXIoYSkpO2EuYXBwbHlDb2xvdXIoKTthLnVwZGF0ZUVkaXRhYmxlKCk7dGhpcy5xdWV1ZVJlbmRlcigpO3JldHVybiBhfWNyZWF0ZUljb25Qb2ludGVyRG93bkxpc3RlbmVyKGEpe3JldHVybiBiPT57dGhpcy5pc0RlYWRPckR5aW5nKCl8fChiPXRoaXMud29ya3NwYWNlLmdldEdlc3R1cmUoYikpJiZiLnNldFN0YXJ0SWNvbihhKX19cmVtb3ZlSWNvbihhKXtjb25zdCBiPXN1cGVyLnJlbW92ZUljb24oYSk7YS5lcXVhbHMoJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5UWVBFKSYmKHRoaXMubXV0YXRvcj1udWxsKTt0aGlzLnF1ZXVlUmVuZGVyKCk7cmV0dXJuIGJ9c2V0RGlzYWJsZWRSZWFzb24oYSxiKXtjb25zdCBjPXRoaXMuaXNFbmFibGVkKCk7c3VwZXIuc2V0RGlzYWJsZWRSZWFzb24oYSxiKTt0aGlzLmlzRW5hYmxlZCgpPT09XG5jfHx0aGlzLmdldEluaGVyaXRlZERpc2FibGVkKCl8fHRoaXMudXBkYXRlRGlzYWJsZWQoKX1zZXREZWxldGFibGUoYSl7c3VwZXIuc2V0RGVsZXRhYmxlKGEpO2E/cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxcImJsb2NrbHlOb3REZWxldGFibGVcIik6YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxcImJsb2NrbHlOb3REZWxldGFibGVcIil9c2V0SGlnaGxpZ2h0ZWQoYSl7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZUhpZ2hsaWdodGVkKGEpfWFkZFNlbGVjdCgpe3RoaXMucGF0aE9iamVjdC51cGRhdGVTZWxlY3RlZCghMCl9cmVtb3ZlU2VsZWN0KCl7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZVNlbGVjdGVkKCExKX1zZXREZWxldGVTdHlsZShhKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlRHJhZ2dpbmdEZWxldGUoYSl9Z2V0Q29sb3VyKCl7cmV0dXJuIHRoaXMuc3R5bGUuY29sb3VyUHJpbWFyeX1zZXRDb2xvdXIoYSl7c3VwZXIuc2V0Q29sb3VyKGEpO1xuYT10aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLmdldEJsb2NrU3R5bGVGb3JDb2xvdXIodGhpcy5jb2xvdXJfKTtsZXQgYixjOyhjPShiPXRoaXMucGF0aE9iamVjdCkuc2V0U3R5bGUpPT1udWxsfHxjLmNhbGwoYixhLnN0eWxlKTt0aGlzLnN0eWxlPWEuc3R5bGU7dGhpcy5zdHlsZU5hbWVfPWEubmFtZTt0aGlzLmFwcGx5Q29sb3VyKCl9c2V0U3R5bGUoYSl7Y29uc3QgYj10aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLmdldEJsb2NrU3R5bGUoYSk7dGhpcy5zdHlsZU5hbWVfJiZyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLHRoaXMuc3R5bGVOYW1lXyk7aWYoYil7dGhpcy5oYXQ9Yi5oYXQ7bGV0IGMsZDsoZD0oYz10aGlzLnBhdGhPYmplY3QpLnNldFN0eWxlKT09bnVsbHx8ZC5jYWxsKGMsYik7dGhpcy5jb2xvdXJfPWIuY29sb3VyUHJpbWFyeTt0aGlzLnN0eWxlPVxuYjt0aGlzLmFwcGx5Q29sb3VyKCk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxhKTt0aGlzLnN0eWxlTmFtZV89YX1lbHNlIHRocm93IEVycm9yKFwiSW52YWxpZCBzdHlsZSBuYW1lOiBcIithKTt9Z2V0U3R5bGUoKXtyZXR1cm4gdGhpcy5zdHlsZX1icmluZ1RvRnJvbnQoYT0hMSl7Y29uc3QgYj0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpO2xldCBjPXRoaXM7aWYoIWMuaXNEZWFkT3JEeWluZygpKXtkb3tjb25zdCBkPWMuZ2V0U3ZnUm9vdCgpLGU9ZC5wYXJlbnROb2RlLGY9ZS5jaGlsZE5vZGVzO2ZbZi5sZW5ndGgtMV0hPT1kJiZlLmFwcGVuZENoaWxkKGQpO2lmKGEpYnJlYWs7Yz1jLmdldFBhcmVudCgpfXdoaWxlKGMpO2ImJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShiKX19c2V0UHJldmlvdXNTdGF0ZW1lbnQoYSxcbmIpe3N1cGVyLnNldFByZXZpb3VzU3RhdGVtZW50KGEsYik7dGhpcy5xdWV1ZVJlbmRlcigpfXNldE5leHRTdGF0ZW1lbnQoYSxiKXtzdXBlci5zZXROZXh0U3RhdGVtZW50KGEsYik7dGhpcy5xdWV1ZVJlbmRlcigpfXNldE91dHB1dChhLGIpe3N1cGVyLnNldE91dHB1dChhLGIpO3RoaXMucXVldWVSZW5kZXIoKX1zZXRJbnB1dHNJbmxpbmUoYSl7c3VwZXIuc2V0SW5wdXRzSW5saW5lKGEpO3RoaXMucXVldWVSZW5kZXIoKX1yZW1vdmVJbnB1dChhLGIpe2E9c3VwZXIucmVtb3ZlSW5wdXQoYSxiKTt0aGlzLnF1ZXVlUmVuZGVyKCk7cmV0dXJuIGF9bW92ZU51bWJlcmVkSW5wdXRCZWZvcmUoYSxiKXtzdXBlci5tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZShhLGIpO3RoaXMucXVldWVSZW5kZXIoKX1hcHBlbmRJbnB1dChhKXtzdXBlci5hcHBlbmRJbnB1dChhKTt0aGlzLnF1ZXVlUmVuZGVyKCk7cmV0dXJuIGF9c2V0Q29ubmVjdGlvblRyYWNraW5nKGEpe3RoaXMucHJldmlvdXNDb25uZWN0aW9uJiZcbnRoaXMucHJldmlvdXNDb25uZWN0aW9uLnNldFRyYWNraW5nKGEpO3RoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldFRyYWNraW5nKGEpO2lmKHRoaXMubmV4dENvbm5lY3Rpb24pe3RoaXMubmV4dENvbm5lY3Rpb24uc2V0VHJhY2tpbmcoYSk7dmFyIGI9dGhpcy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2ImJmIuc2V0Q29ubmVjdGlvblRyYWNraW5nKGEpfWlmKCF0aGlzLmNvbGxhcHNlZF8pZm9yKGI9MDtiPHRoaXMuaW5wdXRMaXN0Lmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuaW5wdXRMaXN0W2JdLmNvbm5lY3Rpb247YyYmKGMuc2V0VHJhY2tpbmcoYSksKGM9Yy50YXJnZXRCbG9jaygpKSYmYy5zZXRDb25uZWN0aW9uVHJhY2tpbmcoYSkpfX1nZXRDb25uZWN0aW9uc18oYSl7Y29uc3QgYj1bXTt0aGlzLm91dHB1dENvbm5lY3Rpb24mJmIucHVzaCh0aGlzLm91dHB1dENvbm5lY3Rpb24pO3RoaXMucHJldmlvdXNDb25uZWN0aW9uJiZiLnB1c2godGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24pO1xudGhpcy5uZXh0Q29ubmVjdGlvbiYmYi5wdXNoKHRoaXMubmV4dENvbm5lY3Rpb24pO2lmKGF8fCF0aGlzLmNvbGxhcHNlZF8pZm9yKGxldCBjPTAsZDtkPXRoaXMuaW5wdXRMaXN0W2NdO2MrKylkLmNvbm5lY3Rpb24mJmIucHVzaChkLmNvbm5lY3Rpb24pO3JldHVybiBifWxhc3RDb25uZWN0aW9uSW5TdGFjayhhKXtyZXR1cm4gc3VwZXIubGFzdENvbm5lY3Rpb25JblN0YWNrKGEpfWdldE1hdGNoaW5nQ29ubmVjdGlvbihhLGIpe3JldHVybiBzdXBlci5nZXRNYXRjaGluZ0Nvbm5lY3Rpb24oYSxiKX1tYWtlQ29ubmVjdGlvbl8oYSl7cmV0dXJuIG5ldyBSZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uKHRoaXMsYSl9Z2V0TmV4dEJsb2NrKCl7cmV0dXJuIHN1cGVyLmdldE5leHRCbG9jaygpfWdldFByZXZpb3VzQmxvY2soKXtyZXR1cm4gc3VwZXIuZ2V0UHJldmlvdXNCbG9jaygpfWJ1bXBOZWlnaGJvdXJzKCl7Y29uc3QgYT1cbnRoaXMuZ2V0Um9vdEJsb2NrKCk7aWYoISh0aGlzLmlzRGVhZE9yRHlpbmcoKXx8dGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZygpfHxhLmlzSW5GbHlvdXQpKWZvcihjb25zdCBiIG9mIHRoaXMuZ2V0Q29ubmVjdGlvbnNfKCExKSl7aWYoYi5pc1N1cGVyaW9yKCkpe2xldCBjOyhjPWIudGFyZ2V0QmxvY2soKSk9PW51bGx8fGMuYnVtcE5laWdoYm91cnMoKX1mb3IoY29uc3QgYyBvZiBiLm5laWdoYm91cnMoJC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1cykpYy5nZXRTb3VyY2VCbG9jaygpLmdldFJvb3RCbG9jaygpIT09YSYmKGIuaXNDb25uZWN0ZWQoKSYmYy5pc0Nvbm5lY3RlZCgpfHwoYi5pc1N1cGVyaW9yKCk/Yy5idW1wQXdheUZyb20oYiwhMSk6Yi5idW1wQXdheUZyb20oYywhMCkpKX19c2NoZWR1bGVTbmFwQW5kQnVtcCgpe3RoaXMuc25hcFRvR3JpZCgpO3RoaXMuYnVtcE5laWdoYm91cnMoKX1wb3NpdGlvbk5lYXJDb25uZWN0aW9uKGEsXG5iLGMpe2lmKGEudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UfHxhLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRSl7bGV0IGQ9Yi54O2I9Yi55O2QrPWMueC1hLmdldE9mZnNldEluQmxvY2soKS54O2IrPWMueS1hLmdldE9mZnNldEluQmxvY2soKS55O3RoaXMubW92ZUJ5KGQsYil9fWdldENoaWxkcmVuKGEpe3JldHVybiBzdXBlci5nZXRDaGlsZHJlbihhKX1xdWV1ZVJlbmRlcigpe3JldHVybiBxdWV1ZVJlbmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KHRoaXMpfXJlbmRlcigpe3RoaXMucXVldWVSZW5kZXIoKTt0cmlnZ2VyUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCl9cmVuZGVyRWZmaWNpZW50bHkoKXtzdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCk7XG50aGlzLmlzQ29sbGFwc2VkKCkmJnRoaXMudXBkYXRlQ29sbGFwc2VkKCk7dGhpcy5pc0VuYWJsZWQoKXx8dGhpcy51cGRhdGVEaXNhYmxlZCgpO3RoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkucmVuZGVyKHRoaXMpO3RoaXMudGlnaHRlbkNoaWxkcmVuRWZmaWNpZW50bHkoKTtzdG9wVGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKX10aWdodGVuQ2hpbGRyZW5FZmZpY2llbnRseSgpe2Zvcihjb25zdCBhIG9mIHRoaXMuaW5wdXRMaXN0KXtjb25zdCBiPWEuY29ubmVjdGlvbjtiJiZiLnRpZ2h0ZW5FZmZpY2llbnRseSgpfXRoaXMubmV4dENvbm5lY3Rpb24mJnRoaXMubmV4dENvbm5lY3Rpb24udGlnaHRlbkVmZmljaWVudGx5KCl9Z2V0SGVpZ2h0V2lkdGgoKXtsZXQgYT10aGlzLmhlaWdodCxiPXRoaXMud2lkdGg7dmFyIGM9dGhpcy5nZXROZXh0QmxvY2soKTtpZihjKXtjPWMuZ2V0SGVpZ2h0V2lkdGgoKTtjb25zdCBkPXRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuTk9UQ0hfSEVJR0hUO1xuYSs9Yy5oZWlnaHQtZDtiPU1hdGgubWF4KGIsYy53aWR0aCl9cmV0dXJue2hlaWdodDphLHdpZHRoOmJ9fWZhZGVGb3JSZXBsYWNlbWVudChhKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlUmVwbGFjZW1lbnRGYWRlKGEpfWhpZ2hsaWdodFNoYXBlRm9ySW5wdXQoYSxiKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlU2hhcGVGb3JJbnB1dEhpZ2hsaWdodChhLGIpfWdldERyYWdTdHJhdGVneSgpe3JldHVybiB0aGlzLmRyYWdTdHJhdGVneX1zZXREcmFnU3RyYXRlZ3koYSl7dGhpcy5kcmFnU3RyYXRlZ3k9YX1pc0NvcHlhYmxlKCl7cmV0dXJuIHRoaXMuaXNPd25EZWxldGFibGUoKSYmdGhpcy5pc093bk1vdmFibGUoKX1pc01vdmFibGUoKXtyZXR1cm4gdGhpcy5kcmFnU3RyYXRlZ3kuaXNNb3ZhYmxlKCl9c3RhcnREcmFnKGEpe3RoaXMuZHJhZ1N0cmF0ZWd5LnN0YXJ0RHJhZyhhKX1kcmFnKGEsYil7dGhpcy5kcmFnU3RyYXRlZ3kuZHJhZyhhLGIpfWVuZERyYWcoYSl7dGhpcy5kcmFnU3RyYXRlZ3kuZW5kRHJhZyhhKX1yZXZlcnREcmFnKCl7dGhpcy5kcmFnU3RyYXRlZ3kucmV2ZXJ0RHJhZygpfXRvRmx5b3V0SW5mbygpe2NvbnN0IGE9XG5PYmplY3QuYXNzaWduKHt9LHtraW5kOlwiQkxPQ0tcIn0sc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKHRoaXMpKSxiPW5ldyBTZXQoW1wiaWRcIixcImhlaWdodFwiLFwid2lkdGhcIixcInBpbm5lZFwiLFwiZW5hYmxlZFwiXSksYz1mdW5jdGlvbihkKXtmb3IoY29uc3QgZSBpbiBkKWIuaGFzKGUpP2RlbGV0ZSBkW2VdOnR5cGVvZiBkW2VdPT09XCJvYmplY3RcIiYmYyhkW2VdKX07YyhhKTtyZXR1cm5bYV19anNvbkluaXQoYSl7c3VwZXIuanNvbkluaXQoYSk7YS5jbGFzc2VzJiZ0aGlzLmFkZENsYXNzKEFycmF5LmlzQXJyYXkoYS5jbGFzc2VzKT9hLmNsYXNzZXMuam9pbihcIiBcIik6YS5jbGFzc2VzKX1nZXRGb2N1c2FibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMucGF0aE9iamVjdC5zdmdQYXRofWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2V9b25Ob2RlRm9jdXMoKXt0aGlzLnNlbGVjdCgpO3RoaXMud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KHRoaXMuZ2V0Qm91bmRpbmdSZWN0YW5nbGVXaXRob3V0Q2hpbGRyZW4oKSl9b25Ob2RlQmx1cigpe3RoaXMudW5zZWxlY3QoKX1jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH19O1xuQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcuSU5MSU5FPS0xO0Jsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnLkNPTExBUFNFRF9XQVJOSU5HX0lEPVwiVEVNUF9DT0xMQVBTRURfV0FSTklOR19cIjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnLkJsb2NrU3ZnPUJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnO3ZhciBEcmFnVGFyZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ190YXJnZXQ9Y2xhc3N7Y29uc3RydWN0b3IoKXt9b25EcmFnRW50ZXIoYSl7fW9uRHJhZ092ZXIoYSl7fW9uRHJhZ0V4aXQoYSl7fW9uRHJvcChhKXt9Z2V0Q2xpZW50UmVjdCgpe3JldHVybiBudWxsfXNob3VsZFByZXZlbnRNb3ZlKGEpe3JldHVybiExfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdfdGFyZ2V0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnX3RhcmdldC5EcmFnVGFyZ2V0PURyYWdUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnX3RhcmdldDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUuaXNEZWxldGFibGU9aXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlO3ZhciBEZWxldGVBcmVhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGVsZXRlX2FyZWE9Y2xhc3MgZXh0ZW5kcyBEcmFnVGFyZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ190YXJnZXR7Y29uc3RydWN0b3IoKXtzdXBlcigpO3RoaXMud291bGREZWxldGVfPSExfXdvdWxkRGVsZXRlKGEpe2EgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz8oYT0hYS5nZXRQYXJlbnQoKSYmYS5pc0RlbGV0YWJsZSgpLHRoaXMudXBkYXRlV291bGREZWxldGVfKGEpKTp0aGlzLnVwZGF0ZVdvdWxkRGVsZXRlXyhpc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUoYSkmJmEuaXNEZWxldGFibGUoKSk7cmV0dXJuIHRoaXMud291bGREZWxldGVffXVwZGF0ZVdvdWxkRGVsZXRlXyhhKXt0aGlzLndvdWxkRGVsZXRlXz1hfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhLkRlbGV0ZUFyZWE9RGVsZXRlQXJlYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhO3ZhciBGbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW09Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmVsZW1lbnQ9YTt0aGlzLnR5cGU9Yn1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWxlbWVudH1nZXRUeXBlKCl7cmV0dXJuIHRoaXMudHlwZX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW0uRmx5b3V0SXRlbT1GbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW07dmFyIE1ldHJpY3NNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWV0cmljc19tYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMud29ya3NwYWNlXz1hfWdldERpbWVuc2lvbnNQeF8oYSl7bGV0IGI9MCxjPTA7YSYmKGI9YS5nZXRXaWR0aCgpLGM9YS5nZXRIZWlnaHQoKSk7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShiLGMpfWdldEZseW91dE1ldHJpY3MoYSl7YT10aGlzLmdldERpbWVuc2lvbnNQeF8odGhpcy53b3Jrc3BhY2VfLmdldEZseW91dChhKSk7cmV0dXJue3dpZHRoOmEud2lkdGgsaGVpZ2h0OmEuaGVpZ2h0LHBvc2l0aW9uOnRoaXMud29ya3NwYWNlXy50b29sYm94UG9zaXRpb259fWdldFRvb2xib3hNZXRyaWNzKCl7Y29uc3QgYT10aGlzLmdldERpbWVuc2lvbnNQeF8odGhpcy53b3Jrc3BhY2VfLmdldFRvb2xib3goKSk7cmV0dXJue3dpZHRoOmEud2lkdGgsaGVpZ2h0OmEuaGVpZ2h0LHBvc2l0aW9uOnRoaXMud29ya3NwYWNlXy50b29sYm94UG9zaXRpb259fWdldFN2Z01ldHJpY3MoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2VfLmdldENhY2hlZFBhcmVudFN2Z1NpemUoKX1nZXRBYnNvbHV0ZU1ldHJpY3MoKXtsZXQgYT1cbjAsYj0wO2NvbnN0IGM9dGhpcy5nZXRUb29sYm94TWV0cmljcygpLGQ9dGhpcy5nZXRGbHlvdXRNZXRyaWNzKCksZT0hIXRoaXMud29ya3NwYWNlXy5nZXRUb29sYm94KCk7dmFyIGY7Y29uc3QgZz0hKChmPXRoaXMud29ya3NwYWNlXy5nZXRGbHlvdXQoKSk9PW51bGw/MDpmLmF1dG9DbG9zZSk7Zj1lP2MucG9zaXRpb246ZC5wb3NpdGlvbjtjb25zdCBoPWY9PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QO2Y9PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVCYmKGUmJihhKz1jLndpZHRoKSxnJiYoYSs9ZC53aWR0aCkpO2gmJihlJiYoYis9Yy5oZWlnaHQpLGcmJihiKz1kLmhlaWdodCkpO3JldHVybnt0b3A6YixsZWZ0OmF9fWdldFZpZXdNZXRyaWNzKGEpe2E9YT90aGlzLndvcmtzcGFjZV8uc2NhbGU6MTtjb25zdCBiPXRoaXMuZ2V0U3ZnTWV0cmljcygpLGM9dGhpcy5nZXRUb29sYm94TWV0cmljcygpLFxuZD10aGlzLmdldEZseW91dE1ldHJpY3MoKSxlPSEhdGhpcy53b3Jrc3BhY2VfLmdldFRvb2xib3goKTt2YXIgZjtjb25zdCBnPSEoKGY9dGhpcy53b3Jrc3BhY2VfLmdldEZseW91dCgpKT09bnVsbD8wOmYuYXV0b0Nsb3NlKTtmPWU/Yy5wb3NpdGlvbjpkLnBvc2l0aW9uO2NvbnN0IGg9Zj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUfHxmPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hUO2lmKGY9PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QfHxmPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkJPVFRPTSllJiYoYi5oZWlnaHQtPWMuaGVpZ2h0KSxnJiYoYi5oZWlnaHQtPWQuaGVpZ2h0KTtoJiYoZSYmKGIud2lkdGgtPWMud2lkdGgpLGcmJihiLndpZHRoLT1kLndpZHRoKSk7cmV0dXJue2hlaWdodDpiLmhlaWdodC9cbmEsd2lkdGg6Yi53aWR0aC9hLHRvcDotdGhpcy53b3Jrc3BhY2VfLnNjcm9sbFkvYSxsZWZ0Oi10aGlzLndvcmtzcGFjZV8uc2Nyb2xsWC9hfX1nZXRDb250ZW50TWV0cmljcyhhKXthPWE/MTp0aGlzLndvcmtzcGFjZV8uc2NhbGU7Y29uc3QgYj10aGlzLndvcmtzcGFjZV8uZ2V0QmxvY2tzQm91bmRpbmdCb3goKTtyZXR1cm57aGVpZ2h0OihiLmJvdHRvbS1iLnRvcCkqYSx3aWR0aDooYi5yaWdodC1iLmxlZnQpKmEsdG9wOmIudG9wKmEsbGVmdDpiLmxlZnQqYX19aGFzRml4ZWRFZGdlcygpe3JldHVybiF0aGlzLndvcmtzcGFjZV8uaXNNb3ZhYmxlSG9yaXpvbnRhbGx5KCl8fCF0aGlzLndvcmtzcGFjZV8uaXNNb3ZhYmxlVmVydGljYWxseSgpfWdldENvbXB1dGVkRml4ZWRFZGdlc18oYSl7aWYoIXRoaXMuaGFzRml4ZWRFZGdlcygpKXJldHVybnt9O2NvbnN0IGI9dGhpcy53b3Jrc3BhY2VfLmlzTW92YWJsZUhvcml6b250YWxseSgpLGM9dGhpcy53b3Jrc3BhY2VfLmlzTW92YWJsZVZlcnRpY2FsbHkoKTtcbmE9YXx8dGhpcy5nZXRWaWV3TWV0cmljcyghMSk7Y29uc3QgZD17fTtjfHwoZC50b3A9YS50b3AsZC5ib3R0b209YS50b3ArYS5oZWlnaHQpO2J8fChkLmxlZnQ9YS5sZWZ0LGQucmlnaHQ9YS5sZWZ0K2Eud2lkdGgpO3JldHVybiBkfWdldFBhZGRlZENvbnRlbnRfKGEsYil7Y29uc3QgYz1iLnRvcCtiLmhlaWdodCxkPWIubGVmdCtiLndpZHRoLGU9YS53aWR0aDthPWEuaGVpZ2h0O2NvbnN0IGY9ZS8yLGc9YS8yO3JldHVybnt0b3A6TWF0aC5taW4oYi50b3AtZyxjLWEpLGJvdHRvbTpNYXRoLm1heChjK2csYi50b3ArYSksbGVmdDpNYXRoLm1pbihiLmxlZnQtZixkLWUpLHJpZ2h0Ok1hdGgubWF4KGQrZixiLmxlZnQrZSl9fWdldFNjcm9sbE1ldHJpY3MoYSxiLGMpe2E9YT90aGlzLndvcmtzcGFjZV8uc2NhbGU6MTtiPWJ8fHRoaXMuZ2V0Vmlld01ldHJpY3MoITEpO3ZhciBkPWN8fHRoaXMuZ2V0Q29udGVudE1ldHJpY3MoKTtjPXRoaXMuZ2V0Q29tcHV0ZWRGaXhlZEVkZ2VzXyhiKTtcbmI9dGhpcy5nZXRQYWRkZWRDb250ZW50XyhiLGQpO2Q9Yy50b3AhPT12b2lkIDA/Yy50b3A6Yi50b3A7Y29uc3QgZT1jLmxlZnQhPT12b2lkIDA/Yy5sZWZ0OmIubGVmdDtyZXR1cm57dG9wOmQvYSxsZWZ0OmUvYSx3aWR0aDooKGMucmlnaHQhPT12b2lkIDA/Yy5yaWdodDpiLnJpZ2h0KS1lKS9hLGhlaWdodDooKGMuYm90dG9tIT09dm9pZCAwP2MuYm90dG9tOmIuYm90dG9tKS1kKS9hfX1nZXRVaU1ldHJpY3MoKXtyZXR1cm57dmlld01ldHJpY3M6dGhpcy5nZXRWaWV3TWV0cmljcygpLGFic29sdXRlTWV0cmljczp0aGlzLmdldEFic29sdXRlTWV0cmljcygpLHRvb2xib3hNZXRyaWNzOnRoaXMuZ2V0VG9vbGJveE1ldHJpY3MoKX19Z2V0TWV0cmljcygpe2NvbnN0IGE9dGhpcy5nZXRUb29sYm94TWV0cmljcygpLGI9dGhpcy5nZXRGbHlvdXRNZXRyaWNzKCEwKSxjPXRoaXMuZ2V0U3ZnTWV0cmljcygpLGQ9dGhpcy5nZXRBYnNvbHV0ZU1ldHJpY3MoKSxlPXRoaXMuZ2V0Vmlld01ldHJpY3MoKSxcbmY9dGhpcy5nZXRDb250ZW50TWV0cmljcygpLGc9dGhpcy5nZXRTY3JvbGxNZXRyaWNzKCExLGUsZik7cmV0dXJue2NvbnRlbnRIZWlnaHQ6Zi5oZWlnaHQsY29udGVudFdpZHRoOmYud2lkdGgsY29udGVudFRvcDpmLnRvcCxjb250ZW50TGVmdDpmLmxlZnQsc2Nyb2xsSGVpZ2h0OmcuaGVpZ2h0LHNjcm9sbFdpZHRoOmcud2lkdGgsc2Nyb2xsVG9wOmcudG9wLHNjcm9sbExlZnQ6Zy5sZWZ0LHZpZXdIZWlnaHQ6ZS5oZWlnaHQsdmlld1dpZHRoOmUud2lkdGgsdmlld1RvcDplLnRvcCx2aWV3TGVmdDplLmxlZnQsYWJzb2x1dGVUb3A6ZC50b3AsYWJzb2x1dGVMZWZ0OmQubGVmdCxzdmdIZWlnaHQ6Yy5oZWlnaHQsc3ZnV2lkdGg6Yy53aWR0aCx0b29sYm94V2lkdGg6YS53aWR0aCx0b29sYm94SGVpZ2h0OmEuaGVpZ2h0LHRvb2xib3hQb3NpdGlvbjphLnBvc2l0aW9uLGZseW91dFdpZHRoOmIud2lkdGgsZmx5b3V0SGVpZ2h0OmIuaGVpZ2h0fX19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuTUVUUklDU19NQU5BR0VSLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxNZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1ldHJpY3NfbWFuYWdlcik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZXRyaWNzX21hbmFnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1ldHJpY3NfbWFuYWdlci5NZXRyaWNzTWFuYWdlcj1NZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1ldHJpY3NfbWFuYWdlcjt2YXIgRmx5b3V0TWV0cmljc01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfbWV0cmljc19tYW5hZ2VyPWNsYXNzIGV4dGVuZHMgTWV0cmljc01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZXRyaWNzX21hbmFnZXJ7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLmZseW91dF89Yn1nZXRCb3VuZGluZ0JveCgpe2xldCBhO3RyeXthPXRoaXMud29ya3NwYWNlXy5nZXRDYW52YXMoKS5nZXRCQm94KCl9Y2F0Y2goYil7YT17aGVpZ2h0OjAseTowLHdpZHRoOjAseDowfX1yZXR1cm4gYX1nZXRDb250ZW50TWV0cmljcyhhKXtjb25zdCBiPXRoaXMuZ2V0Qm91bmRpbmdCb3goKTthPWE/MTp0aGlzLndvcmtzcGFjZV8uc2NhbGU7cmV0dXJue2hlaWdodDpiLmhlaWdodCphLHdpZHRoOmIud2lkdGgqYSx0b3A6Yi55KmEsbGVmdDpiLngqYX19Z2V0U2Nyb2xsTWV0cmljcyhhLGIsYyl7Yj1jfHx0aGlzLmdldENvbnRlbnRNZXRyaWNzKCk7Yz10aGlzLmZseW91dF8uTUFSR0lOKlxudGhpcy53b3Jrc3BhY2VfLnNjYWxlO2E9YT90aGlzLndvcmtzcGFjZV8uc2NhbGU6MTtyZXR1cm57aGVpZ2h0OihiLmhlaWdodCsyKmMpL2Esd2lkdGg6KGIud2lkdGgrYi5sZWZ0K2MpL2EsdG9wOjAsbGVmdDowfX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfbWV0cmljc19tYW5hZ2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfbWV0cmljc19tYW5hZ2VyLkZseW91dE1ldHJpY3NNYW5hZ2VyPUZseW91dE1ldHJpY3NNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X21ldHJpY3NfbWFuYWdlcjt2YXIgRmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyxkKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMudGFyZ2V0V29ya3NwYWNlPWI7dGhpcy5pc0ZseW91dExhYmVsPWQ7dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD0wO3RoaXMuY3Vyc29yU3ZnPXRoaXMuc3ZnVGV4dD1udWxsO3RoaXMudGV4dD1jLnRleHQ7dGhpcy5wb3NpdGlvbj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTt0aGlzLmNhbGxiYWNrS2V5PWMuY2FsbGJhY2tLZXl8fGMuY2FsbGJhY2trZXk7dGhpcy5jc3NDbGFzcz1jW1wid2ViLWNsYXNzXCJdfHxudWxsO3RoaXMuaW5mbz1jO2E9dGhpcy5pc0ZseW91dExhYmVsP1wiYmxvY2tseUZseW91dExhYmVsXCI6XCJibG9ja2x5Rmx5b3V0QnV0dG9uXCI7dGhpcy5jc3NDbGFzcyYmKGErPVwiIFwiK3RoaXMuY3NzQ2xhc3MpO3RoaXMuaWQ9Z2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTtcbnRoaXMuc3ZnR3JvdXA9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7aWQ6dGhpcy5pZCxcImNsYXNzXCI6YX0sdGhpcy53b3Jrc3BhY2UuZ2V0Q2FudmFzKCkpO2xldCBlO3RoaXMuaXNGbHlvdXRMYWJlbHx8KGU9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseUZseW91dEJ1dHRvblNoYWRvd1wiLHJ4OkZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uQk9SREVSX1JBRElVUyxyeTpGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uLkJPUkRFUl9SQURJVVMseDoxLHk6MX0sdGhpcy5zdmdHcm91cCkpO2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCxcbntcImNsYXNzXCI6dGhpcy5pc0ZseW91dExhYmVsP1wiYmxvY2tseUZseW91dExhYmVsQmFja2dyb3VuZFwiOlwiYmxvY2tseUZseW91dEJ1dHRvbkJhY2tncm91bmRcIixyeDpGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uLkJPUkRFUl9SQURJVVMscnk6Rmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5CT1JERVJfUkFESVVTfSx0aGlzLnN2Z0dyb3VwKTtiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlRFWFQse1wiY2xhc3NcIjp0aGlzLmlzRmx5b3V0TGFiZWw/XCJibG9ja2x5Rmx5b3V0TGFiZWxUZXh0XCI6XCJibG9ja2x5VGV4dFwiLHg6MCx5OjAsXCJ0ZXh0LWFuY2hvclwiOlwibWlkZGxlXCJ9LHRoaXMuc3ZnR3JvdXApO2M9cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyh0aGlzLnRleHQpO1xudGhpcy53b3Jrc3BhY2UuUlRMJiYoYys9XCJcXHUyMDBmXCIpO2IudGV4dENvbnRlbnQ9Yzt0aGlzLmlzRmx5b3V0TGFiZWwmJih0aGlzLnN2Z1RleHQ9Yix0aGlzLndvcmtzcGFjZS5nZXRUaGVtZU1hbmFnZXIoKS5zdWJzY3JpYmUodGhpcy5zdmdUZXh0LFwiZmx5b3V0Rm9yZWdyb3VuZENvbG91clwiLFwiZmlsbFwiKSk7ZD1nZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYixcImZvbnRTaXplXCIpO2NvbnN0IGY9Z2V0Q29tcHV0ZWRTdHlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGIsXCJmb250V2VpZ2h0XCIpLGc9Z2V0Q29tcHV0ZWRTdHlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGIsXCJmb250RmFtaWx5XCIpO3RoaXMud2lkdGg9Z2V0RmFzdFRleHRXaWR0aFdpdGhTaXplU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGIsZCxmLGcpO2M9bWVhc3VyZUZvbnRNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGMsXG5kLGYsZyk7dGhpcy5oZWlnaHQ9dGhpcy5oZWlnaHR8fGMuaGVpZ2h0O2lmKCF0aGlzLmlzRmx5b3V0TGFiZWwpe3RoaXMud2lkdGgrPTIqRmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5URVhUX01BUkdJTl9YO3RoaXMuaGVpZ2h0Kz0yKkZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uVEVYVF9NQVJHSU5fWTtsZXQgaDsoaD1lKT09bnVsbHx8aC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFN0cmluZyh0aGlzLndpZHRoKSk7bGV0IGs7KGs9ZSk9PW51bGx8fGsuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsU3RyaW5nKHRoaXMuaGVpZ2h0KSl9YS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFN0cmluZyh0aGlzLndpZHRoKSk7YS5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixTdHJpbmcodGhpcy5oZWlnaHQpKTtiLnNldEF0dHJpYnV0ZShcInhcIixTdHJpbmcodGhpcy53aWR0aC8yKSk7Yi5zZXRBdHRyaWJ1dGUoXCJ5XCIsU3RyaW5nKHRoaXMuaGVpZ2h0L1xuMi1jLmhlaWdodC8yK2MuYmFzZWxpbmUpKTt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO3RoaXMub25Nb3VzZURvd25XcmFwcGVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnR3JvdXAsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vbk1vdXNlRG93bik7dGhpcy5vbk1vdXNlVXBXcmFwcGVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnR3JvdXAsXCJwb2ludGVydXBcIix0aGlzLHRoaXMub25Nb3VzZVVwKX1jcmVhdGVEb20oKXtyZXR1cm4gdGhpcy5zdmdHcm91cH1zaG93KCl7dGhpcy51cGRhdGVUcmFuc2Zvcm0oKTt0aGlzLnN2Z0dyb3VwLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIixcImJsb2NrXCIpfXVwZGF0ZVRyYW5zZm9ybSgpe3RoaXMuc3ZnR3JvdXAuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrdGhpcy5wb3NpdGlvbi54K1wiLFwiK3RoaXMucG9zaXRpb24ueStcblwiKVwiKX1tb3ZlVG8oYSxiKXt0aGlzLnBvc2l0aW9uLng9YTt0aGlzLnBvc2l0aW9uLnk9Yjt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpfW1vdmVCeShhLGIsYyl7dGhpcy5tb3ZlVG8odGhpcy5wb3NpdGlvbi54K2EsdGhpcy5wb3NpdGlvbi55K2IpfWlzTGFiZWwoKXtyZXR1cm4gdGhpcy5pc0ZseW91dExhYmVsfWdldFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb259Z2V0Qm91bmRpbmdSZWN0YW5nbGUoKXtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnkrdGhpcy5oZWlnaHQsdGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueCt0aGlzLndpZHRoKX1nZXRCdXR0b25UZXh0KCl7cmV0dXJuIHRoaXMudGV4dH1nZXRUYXJnZXRXb3Jrc3BhY2UoKXtyZXR1cm4gdGhpcy50YXJnZXRXb3Jrc3BhY2V9Z2V0V29ya3NwYWNlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlfWRpc3Bvc2UoKXt1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uTW91c2VEb3duV3JhcHBlcik7XG51bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uTW91c2VVcFdyYXBwZXIpO3RoaXMuc3ZnR3JvdXAmJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCk7dGhpcy5zdmdUZXh0JiZ0aGlzLndvcmtzcGFjZS5nZXRUaGVtZU1hbmFnZXIoKS51bnN1YnNjcmliZSh0aGlzLnN2Z1RleHQpfXNldEN1cnNvclN2ZyhhKXthP3RoaXMuc3ZnR3JvdXAmJih0aGlzLnN2Z0dyb3VwLmFwcGVuZENoaWxkKGEpLHRoaXMuY3Vyc29yU3ZnPWEpOnRoaXMuY3Vyc29yU3ZnPW51bGx9b25Nb3VzZVVwKGEpeyhhPXRoaXMudGFyZ2V0V29ya3NwYWNlLmdldEdlc3R1cmUoYSkpJiZhLmNhbmNlbCgpO3RoaXMuaXNGbHlvdXRMYWJlbCYmdGhpcy5jYWxsYmFja0tleT9jb25zb2xlLndhcm4oXCJMYWJlbHMgc2hvdWxkIG5vdCBoYXZlIGNhbGxiYWNrcy4gTGFiZWwgdGV4dDogXCIrdGhpcy50ZXh0KTp0aGlzLmlzRmx5b3V0TGFiZWx8fFxudGhpcy5jYWxsYmFja0tleSYmdGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0QnV0dG9uQ2FsbGJhY2sodGhpcy5jYWxsYmFja0tleSk/dGhpcy5pc0ZseW91dExhYmVsfHwoYT10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRCdXR0b25DYWxsYmFjayh0aGlzLmNhbGxiYWNrS2V5KSkmJmEodGhpcyk6Y29uc29sZS53YXJuKFwiQnV0dG9ucyBzaG91bGQgaGF2ZSBjYWxsYmFja3MuIEJ1dHRvbiB0ZXh0OiBcIit0aGlzLnRleHQpfW9uTW91c2VEb3duKGEpe2NvbnN0IGI9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0R2VzdHVyZShhKSxjPXRoaXMudGFyZ2V0V29ya3NwYWNlLmdldEZseW91dCgpO2ImJmMmJmIuaGFuZGxlRmx5b3V0U3RhcnQoYSxjKX1nZXRTdmdSb290KCl7cmV0dXJuIHRoaXMuc3ZnR3JvdXB9Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLnN2Z0dyb3VwfWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2V9b25Ob2RlRm9jdXMoKXt2YXIgYT10aGlzLmdldFBvc2l0aW9uKCk7XG5hPW5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLnksYS55K3RoaXMuaGVpZ2h0LGEueCxhLngrdGhpcy53aWR0aCk7dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcoYSl9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH19O0ZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uVEVYVF9NQVJHSU5fWD01O0ZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uVEVYVF9NQVJHSU5fWT0yO0ZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uQk9SREVSX1JBRElVUz00O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKFwiXFxuLmJsb2NrbHlGbHlvdXRCdXR0b24ge1xcbiAgZmlsbDogIzg4ODtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuXFxuLmJsb2NrbHlGbHlvdXRCdXR0b25TaGFkb3cge1xcbiAgZmlsbDogIzY2NjtcXG59XFxuXFxuLmJsb2NrbHlGbHlvdXRCdXR0b246aG92ZXIge1xcbiAgZmlsbDogI2FhYTtcXG59XFxuXFxuLmJsb2NrbHlGbHlvdXRMYWJlbCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi5ibG9ja2x5Rmx5b3V0TGFiZWxCYWNrZ3JvdW5kIHtcXG4gIG9wYWNpdHk6IDA7XFxufVxcblwiKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5GbHlvdXRCdXR0b249Rmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbjt2YXIgRmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIG51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBhLmdldFdvcmtzcGFjZSgpfWdldE5leHRTaWJsaW5nKGEpe3JldHVybiBudWxsfWdldFByZXZpb3VzU2libGluZyhhKXtyZXR1cm4gbnVsbH1pc05hdmlnYWJsZShhKXtyZXR1cm4gYS5jYW5CZUZvY3VzZWQoKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9ufX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5LkZseW91dEJ1dHRvbk5hdmlnYXRpb25Qb2xpY3k9Rmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5O3ZhciBGbHlvdXROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMucG9saWN5PWE7dGhpcy5mbHlvdXQ9Yn1nZXRGaXJzdENoaWxkKGEpe3JldHVybiBudWxsfWdldFBhcmVudChhKXtyZXR1cm4gdGhpcy5wb2xpY3kuZ2V0UGFyZW50KGEpfWdldE5leHRTaWJsaW5nKGEpe2NvbnN0IGI9dGhpcy5mbHlvdXQuZ2V0Q29udGVudHMoKTtpZighYilyZXR1cm4gbnVsbDtsZXQgYz1iLmZpbmRJbmRleChkPT5kLmdldEVsZW1lbnQoKT09PWEpO2lmKGM9PT0tMSlyZXR1cm4gbnVsbDtjKys7Yz49Yi5sZW5ndGgmJihjPTApO3JldHVybiBiW2NdLmdldEVsZW1lbnQoKX1nZXRQcmV2aW91c1NpYmxpbmcoYSl7Y29uc3QgYj10aGlzLmZseW91dC5nZXRDb250ZW50cygpO2lmKCFiKXJldHVybiBudWxsO2xldCBjPWIuZmluZEluZGV4KGQ9PmQuZ2V0RWxlbWVudCgpPT09XG5hKTtpZihjPT09LTEpcmV0dXJuIG51bGw7Yy0tO2M8MCYmKGM9Yi5sZW5ndGgtMSk7cmV0dXJuIGJbY10uZ2V0RWxlbWVudCgpfWlzTmF2aWdhYmxlKGEpe3JldHVybiB0aGlzLnBvbGljeS5pc05hdmlnYWJsZShhKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIHRoaXMucG9saWN5LmlzQXBwbGljYWJsZShhKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X25hdmlnYXRpb25fcG9saWN5PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X25hdmlnYXRpb25fcG9saWN5LkZseW91dE5hdmlnYXRpb25Qb2xpY3k9Rmx5b3V0TmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIEZseW91dFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3I9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmdhcD1hO3RoaXMuYXhpcz1iO3RoaXMueT10aGlzLng9MH1nZXRCb3VuZGluZ1JlY3RhbmdsZSgpe3N3aXRjaCh0aGlzLmF4aXMpe2Nhc2UgXCJ4XCI6cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCh0aGlzLnksdGhpcy55LHRoaXMueCx0aGlzLngrdGhpcy5nYXApO2Nhc2UgXCJ5XCI6cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCh0aGlzLnksdGhpcy55K3RoaXMuZ2FwLHRoaXMueCx0aGlzLngpfX1tb3ZlQnkoYSxiLGMpe3RoaXMueCs9YTt0aGlzLnkrPWJ9aXNOYXZpZ2FibGUoKXtyZXR1cm4hMX1nZXRGb2N1c2FibGVFbGVtZW50KCl7dGhyb3cgRXJyb3IoXCJDYW5ub3QgYmUgZm9jdXNlZFwiKTt9Z2V0Rm9jdXNhYmxlVHJlZSgpe3Rocm93IEVycm9yKFwiQ2Fubm90IGJlIGZvY3VzZWRcIik7XG59b25Ob2RlRm9jdXMoKXt9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfc2VwYXJhdG9yPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfc2VwYXJhdG9yLkZseW91dFNlcGFyYXRvcj1GbHlvdXRTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfc2VwYXJhdG9yO3ZhciBGbHlvdXRTZXBhcmF0b3JOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9zZXBhcmF0b3JfbmF2aWdhdGlvbl9wb2xpY3k9Y2xhc3N7Z2V0Rmlyc3RDaGlsZChhKXtyZXR1cm4gbnVsbH1nZXRQYXJlbnQoYSl7cmV0dXJuIG51bGx9Z2V0TmV4dFNpYmxpbmcoYSl7cmV0dXJuIG51bGx9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe3JldHVybiBudWxsfWlzTmF2aWdhYmxlKGEpe3JldHVybiExfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEZseW91dFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3J9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9zZXBhcmF0b3JfbmF2aWdhdGlvbl9wb2xpY3k9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9zZXBhcmF0b3JfbmF2aWdhdGlvbl9wb2xpY3kuRmx5b3V0U2VwYXJhdG9yTmF2aWdhdGlvblBvbGljeT1GbHlvdXRTZXBhcmF0b3JOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9zZXBhcmF0b3JfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIEJsb2NrQ29tbWVudE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfY29tbWVudF9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe3JldHVybiBhLmdldEVkaXRvcigpfWdldFBhcmVudChhKXtsZXQgYjtyZXR1cm4oYj1hLmdldE93bmVyKCkpIT1udWxsP2I6bnVsbH1nZXROZXh0U2libGluZyhhKXtyZXR1cm4gbnVsbH1nZXRQcmV2aW91c1NpYmxpbmcoYSl7cmV0dXJuIG51bGx9aXNOYXZpZ2FibGUoYSl7cmV0dXJuIGEuY2FuQmVGb2N1c2VkKCl9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgVGV4dElucHV0QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0aW5wdXRfYnViYmxlfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19jb21tZW50X25hdmlnYXRpb25fcG9saWN5PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19jb21tZW50X25hdmlnYXRpb25fcG9saWN5LkJsb2NrQ29tbWVudE5hdmlnYXRpb25Qb2xpY3k9QmxvY2tDb21tZW50TmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19jb21tZW50X25hdmlnYXRpb25fcG9saWN5O3ZhciBCbG9ja05hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3k9Y2xhc3N7Z2V0Rmlyc3RDaGlsZChhKXtyZXR1cm4gZ2V0QmxvY2tOYXZpZ2F0aW9uQ2FuZGlkYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLCEwKVswXX1nZXRQYXJlbnQoYSl7dmFyIGI7aWYoKGI9YS5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsPzA6Yi50YXJnZXRCbG9jaygpKXtpZihiPWEuZ2V0U3Vycm91bmRQYXJlbnQoKSlyZXR1cm4gYn1lbHNle2xldCBjO2lmKChjPWEub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/MDpjLnRhcmdldEJsb2NrKCkpcmV0dXJuIGEub3V0cHV0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpfXJldHVybiBhLndvcmtzcGFjZX1nZXROZXh0U2libGluZyhhKXtsZXQgYjtpZigoYj1hLm5leHRDb25uZWN0aW9uKT09bnVsbD8wOmIudGFyZ2V0QmxvY2soKSl7bGV0IGQ7XG5yZXR1cm4oZD1hLm5leHRDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6ZC50YXJnZXRCbG9jaygpfWxldCBjO3JldHVybigoYz1hLm91dHB1dENvbm5lY3Rpb24pPT1udWxsPzA6Yy50YXJnZXRCbG9jaygpKT9uYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsMSk6YS5nZXRTdXJyb3VuZFBhcmVudCgpP25hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYS5nZXRUb3BTdGFja0Jsb2NrKCksMSk6dGhpcy5nZXRQYXJlbnQoYSlpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc/bmF2aWdhdGVTdGFja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwxKTpudWxsfWdldFByZXZpb3VzU2libGluZyhhKXtsZXQgYjtcbmlmKChiPWEucHJldmlvdXNDb25uZWN0aW9uKT09bnVsbD8wOmIudGFyZ2V0QmxvY2soKSl7bGV0IGQ7cmV0dXJuKGQ9YS5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpkLnRhcmdldEJsb2NrKCl9bGV0IGM7cmV0dXJuKChjPWEub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/MDpjLnRhcmdldEJsb2NrKCkpP25hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwtMSk6dGhpcy5nZXRQYXJlbnQoYSlpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc/bmF2aWdhdGVTdGFja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwtMSk6bnVsbH1pc05hdmlnYWJsZShhKXtyZXR1cm4gYS5jYW5CZUZvY3VzZWQoKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Z319LFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5LkJsb2NrTmF2aWdhdGlvblBvbGljeT1CbG9ja05hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeS5uYXZpZ2F0ZUJsb2NrPW5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeS5uYXZpZ2F0ZVN0YWNrcz1uYXZpZ2F0ZVN0YWNrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeTt2YXIgQ29tbWVudEJhckJ1dHRvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29tbWVudF9iYXJfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIG51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBhLmdldENvbW1lbnRWaWV3KCkud29ya3NwYWNlLmdldENvbW1lbnRCeUlkKGEuZ2V0Q29tbWVudFZpZXcoKS5jb21tZW50SWQpfWdldE5leHRTaWJsaW5nKGEpe2NvbnN0IGI9YS5nZXRDb21tZW50VmlldygpLmdldENvbW1lbnRCYXJCdXR0b25zKCk7YT1iLmluZGV4T2YoYSk7cmV0dXJuIGE+PTAmJmErMTxiLmxlbmd0aD9iW2ErMV06bnVsbH1nZXRQcmV2aW91c1NpYmxpbmcoYSl7Y29uc3QgYj1hLmdldENvbW1lbnRWaWV3KCkuZ2V0Q29tbWVudEJhckJ1dHRvbnMoKTthPWIuaW5kZXhPZihhKTtyZXR1cm4gYT4wP2JbYS0xXTpudWxsfWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mXG5Db21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9ufX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2Jhcl9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2Jhcl9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3kuQ29tbWVudEJhckJ1dHRvbk5hdmlnYXRpb25Qb2xpY3k9Q29tbWVudEJhckJ1dHRvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29tbWVudF9iYXJfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5O3ZhciBDb21tZW50RWRpdG9yTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2VkaXRvcl9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe3JldHVybiBudWxsfWdldFBhcmVudChhKXtyZXR1cm4gbnVsbH1nZXROZXh0U2libGluZyhhKXtyZXR1cm4gbnVsbH1nZXRQcmV2aW91c1NpYmxpbmcoYSl7cmV0dXJuIG51bGx9aXNOYXZpZ2FibGUoYSl7cmV0dXJuIGEuY2FuQmVGb2N1c2VkKCl9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQ29tbWVudEVkaXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfZWRpdG9yfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2VkaXRvcl9uYXZpZ2F0aW9uX3BvbGljeT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29tbWVudF9lZGl0b3JfbmF2aWdhdGlvbl9wb2xpY3kuQ29tbWVudEVkaXRvck5hdmlnYXRpb25Qb2xpY3k9Q29tbWVudEVkaXRvck5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29tbWVudF9lZGl0b3JfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIENvbm5lY3Rpb25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbm5lY3Rpb25fbmF2aWdhdGlvbl9wb2xpY3k9Y2xhc3N7Z2V0Rmlyc3RDaGlsZChhKXtyZXR1cm4gYS5nZXRQYXJlbnRJbnB1dCgpP2EudGFyZ2V0Q29ubmVjdGlvbjpudWxsfWdldFBhcmVudChhKXtyZXR1cm4gYS5nZXRTb3VyY2VCbG9jaygpfWdldE5leHRTaWJsaW5nKGEpe2lmKGEuZ2V0UGFyZW50SW5wdXQoKSlyZXR1cm4gbmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLDEpO2lmKGEudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UKXtjb25zdCBjPWEudGFyZ2V0Q29ubmVjdGlvbjt2YXIgYj1hLmdldFNvdXJjZUJsb2NrKCk7aWYoIWMmJmIuZ2V0Um9vdEJsb2NrKCkubGFzdENvbm5lY3Rpb25JblN0YWNrKCExKT09PVxuYSl7YT1iLndvcmtzcGFjZS5nZXRUb3BCbG9ja3MoITApO2I9YS5pbmRleE9mKGIuZ2V0Um9vdEJsb2NrKCkpKzE7Yj49YS5sZW5ndGgmJihiPTApO2I9YVtiXTtsZXQgZDtyZXR1cm4oZD10aGlzLmdldFBhcmVudENvbm5lY3Rpb24oYikpIT1udWxsP2Q6Yn1yZXR1cm4gY31yZXR1cm4gYS5nZXRTb3VyY2VCbG9jaygpfWdldFByZXZpb3VzU2libGluZyhhKXtpZihhLmdldFBhcmVudElucHV0KCkpcmV0dXJuIG5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwtMSk7aWYoYS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UfHxhLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUUpe2NvbnN0IGM9YS50YXJnZXRDb25uZWN0aW9uJiZcbiFhLnRhcmdldENvbm5lY3Rpb24uZ2V0UGFyZW50SW5wdXQoKT9hLnRhcmdldENvbm5lY3Rpb246bnVsbDt2YXIgYj1hLmdldFNvdXJjZUJsb2NrKCk7aWYoIWMmJnRoaXMuZ2V0UGFyZW50Q29ubmVjdGlvbihiLmdldFJvb3RCbG9jaygpKT09PWEpe2E9Yi53b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKCEwKTtiPWEuaW5kZXhPZihiLmdldFJvb3RCbG9jaygpKS0xO2I8MCYmKGI9YS5sZW5ndGgtMSk7Yj1hW2JdO2xldCBkO3JldHVybihkPWIubGFzdENvbm5lY3Rpb25JblN0YWNrKCExKSkhPW51bGw/ZDpifXJldHVybiBjfXJldHVybiBhLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVD9hLmdldFNvdXJjZUJsb2NrKCk6bnVsbH1nZXRQYXJlbnRDb25uZWN0aW9uKGEpe2xldCBiO3JldHVybiFhLm91dHB1dENvbm5lY3Rpb258fCgoYj1hLnByZXZpb3VzQ29ubmVjdGlvbik9PW51bGw/MDpiLmlzQ29ubmVjdGVkKCkpP1xuYS5wcmV2aW91c0Nvbm5lY3Rpb246YS5vdXRwdXRDb25uZWN0aW9ufWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb259fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbm5lY3Rpb25fbmF2aWdhdGlvbl9wb2xpY3k9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb25uZWN0aW9uX25hdmlnYXRpb25fcG9saWN5LkNvbm5lY3Rpb25OYXZpZ2F0aW9uUG9saWN5PUNvbm5lY3Rpb25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbm5lY3Rpb25fbmF2aWdhdGlvbl9wb2xpY3k7dmFyIEZpZWxkTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmaWVsZF9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe3JldHVybiBudWxsfWdldFBhcmVudChhKXtyZXR1cm4gYS5nZXRTb3VyY2VCbG9jaygpfWdldE5leHRTaWJsaW5nKGEpe3JldHVybiBuYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsMSl9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe3JldHVybiBuYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsLTEpfWlzTmF2aWdhYmxlKGEpe2xldCBiO3JldHVybiBhLmNhbkJlRm9jdXNlZCgpJiZhLmlzVmlzaWJsZSgpJiYoYS5pc0NsaWNrYWJsZSgpfHxhLmlzQ3VycmVudGx5RWRpdGFibGUoKSkmJiEoKChiPWEuZ2V0U291cmNlQmxvY2soKSk9PVxubnVsbD8wOmIuaXNTaW1wbGVSZXBvcnRlcigpKSYmYS5pc0Z1bGxCbG9ja0ZpZWxkKCkpJiZhLmdldFBhcmVudElucHV0KCkuaXNWaXNpYmxlKCl9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmllbGRfbmF2aWdhdGlvbl9wb2xpY3k9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmaWVsZF9uYXZpZ2F0aW9uX3BvbGljeS5GaWVsZE5hdmlnYXRpb25Qb2xpY3k9RmllbGROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZpZWxkX25hdmlnYXRpb25fcG9saWN5O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5LnJlZ2lzdGVyPXJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5LnVucmVnaXN0ZXI9dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5O3ZhciBTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uPTE3LERFRkFVTFRfQlVCQkxFX1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uPTE2MCxERUZBVUxUX0JVQkJMRV9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb249ODAsQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb249Y2xhc3MgZXh0ZW5kcyBJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnNvdXJjZUJsb2NrPWE7dGhpcy50ZXh0SW5wdXRCdWJibGU9bnVsbDt0aGlzLnRleHQ9XCJcIjt0aGlzLmJ1YmJsZVNpemU9bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKERFRkFVTFRfQlVCQkxFX1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLERFRkFVTFRfQlVCQkxFX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbik7XG50aGlzLmJ1YmJsZVZpc2libGl0eT0hMX1nZXRUeXBlKCl7cmV0dXJuIENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLlRZUEV9aW5pdFZpZXcoYSl7dGhpcy5zdmdSb290fHwoc3VwZXIuaW5pdFZpZXcoYSksY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQ0lSQ0xFLHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblNoYXBlXCIscjpcIjhcIixjeDpcIjhcIixjeTpcIjhcIn0sdGhpcy5zdmdSb290KSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblN5bWJvbFwiLGQ6XCJtNi44LDEwaDJjMC4wMDMsLTAuNjE3IDAuMjcxLC0wLjk2MiAwLjYzMywtMS4yNjYgMi44NzUsLTIuNDA1MC42MDcsLTUuNTM0IC0zLjc2NSwtMy44NzR2MS43YzMuMTIsLTEuNjU3IDMuNjk4LDAuMTE4IDIuMzM2LDEuMjUtMS4yMDEsMC45OTggLTEuMjAxLDEuNTI4IC0xLjIwNCwyLjE5elwifSxcbnRoaXMuc3ZnUm9vdCksY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TeW1ib2xcIix4OlwiNi44XCIseTpcIjEwLjc4XCIsaGVpZ2h0OlwiMlwiLHdpZHRoOlwiMlwifSx0aGlzLnN2Z1Jvb3QpLGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlDb21tZW50SWNvblwiKSl9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKTtsZXQgYTsoYT10aGlzLnRleHRJbnB1dEJ1YmJsZSk9PW51bGx8fGEuZGlzcG9zZSgpfWdldFdlaWdodCgpe3JldHVybiBDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbi5XRUlHSFR9Z2V0U2l6ZSgpe3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbixcblNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24pfWFwcGx5Q29sb3VyKCl7c3VwZXIuYXBwbHlDb2xvdXIoKTtjb25zdCBhPXRoaXMuc291cmNlQmxvY2suZ2V0Q29sb3VyKCk7bGV0IGI7KGI9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxiLnNldENvbG91cihhKX11cGRhdGVFZGl0YWJsZSgpe2NvbnN0IGE9dGhpcyxiPSgpPT5zdXBlci51cGRhdGVFZGl0YWJsZTtyZXR1cm4oMCwkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JGdW5jdGlvbikoZnVuY3Rpb24qKCl7YigpLmNhbGwoYSk7YS5idWJibGVJc1Zpc2libGUoKSYmKHlpZWxkIGEuc2V0QnViYmxlVmlzaWJsZSghMSkseWllbGQgYS5zZXRCdWJibGVWaXNpYmxlKCEwKSl9KX1vbkxvY2F0aW9uQ2hhbmdlKGEpe2NvbnN0IGI9dGhpcy53b3Jrc3BhY2VMb2NhdGlvbjtzdXBlci5vbkxvY2F0aW9uQ2hhbmdlKGEpO3RoaXMuYnViYmxlTG9jYXRpb24mJihhPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UodGhpcy53b3Jrc3BhY2VMb2NhdGlvbixcbmIpLHRoaXMuYnViYmxlTG9jYXRpb249Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKHRoaXMuYnViYmxlTG9jYXRpb24sYSkpO2E9dGhpcy5nZXRBbmNob3JMb2NhdGlvbigpO2xldCBjOyhjPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8Yy5zZXRBbmNob3JMb2NhdGlvbihhKX1zZXRUZXh0KGEpe2NvbnN0IGI9dGhpcy50ZXh0O2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcy5zb3VyY2VCbG9jayxcImNvbW1lbnRcIixudWxsLGIsYSkpO3RoaXMudGV4dD1hO2xldCBjOyhjPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8Yy5zZXRUZXh0KHRoaXMudGV4dCl9Z2V0VGV4dCgpe3JldHVybiB0aGlzLnRleHR9c2V0QnViYmxlU2l6ZShhKXt0aGlzLmJ1YmJsZVNpemU9XG5hO2xldCBiOyhiPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8Yi5zZXRTaXplKHRoaXMuYnViYmxlU2l6ZSwhMCl9Z2V0QnViYmxlU2l6ZSgpe3JldHVybiB0aGlzLmJ1YmJsZVNpemV9c2V0QnViYmxlTG9jYXRpb24oYSl7dGhpcy5idWJibGVMb2NhdGlvbj1hO2xldCBiOyhiPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8Yi5tb3ZlRHVyaW5nRHJhZyhhKX1nZXRCdWJibGVMb2NhdGlvbigpe3JldHVybiB0aGlzLmJ1YmJsZUxvY2F0aW9ufXNhdmVTdGF0ZSgpe2lmKHRoaXMudGV4dCl7Y29uc3QgYT17dGV4dDp0aGlzLnRleHQscGlubmVkOnRoaXMuYnViYmxlSXNWaXNpYmxlKCksaGVpZ2h0OnRoaXMuYnViYmxlU2l6ZS5oZWlnaHQsd2lkdGg6dGhpcy5idWJibGVTaXplLndpZHRofSxiPXRoaXMuZ2V0QnViYmxlTG9jYXRpb24oKTtiJiYoYS54PXRoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLlJUTD90aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5nZXRXaWR0aCgpLShiLngrXG50aGlzLmJ1YmJsZVNpemUud2lkdGgpOmIueCxhLnk9Yi55KTtyZXR1cm4gYX1yZXR1cm4gbnVsbH1sb2FkU3RhdGUoYSl7bGV0IGI7dGhpcy50ZXh0PShiPWEudGV4dCkhPW51bGw/YjpcIlwiO2xldCBjLGQ7dGhpcy5idWJibGVTaXplPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgoYz1hLndpZHRoKSE9bnVsbD9jOkRFRkFVTFRfQlVCQkxFX1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLChkPWEuaGVpZ2h0KSE9bnVsbD9kOkRFRkFVTFRfQlVCQkxFX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbik7bGV0IGU7dGhpcy5idWJibGVWaXNpYmxpdHk9KGU9YS5waW5uZWQpIT1udWxsP2U6ITE7dGhpcy5zZXRCdWJibGVWaXNpYmxlKHRoaXMuYnViYmxlVmlzaWJsaXR5KTtsZXQgZj1hLng7Y29uc3QgZz1hLnk7ZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCkudGhlbigoKT0+XG57ZiYmZyYmKGY9dGhpcy5zb3VyY2VCbG9jay53b3Jrc3BhY2UuUlRMP3RoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLmdldFdpZHRoKCktKGYrdGhpcy5idWJibGVTaXplLndpZHRoKTpmLHRoaXMuc2V0QnViYmxlTG9jYXRpb24obmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGYsZykpKX0pfW9uQ2xpY2soKXtzdXBlci5vbkNsaWNrKCk7dGhpcy5zZXRCdWJibGVWaXNpYmxlKCF0aGlzLmJ1YmJsZUlzVmlzaWJsZSgpKX1pc0NsaWNrYWJsZUluRmx5b3V0KCl7cmV0dXJuITF9b25UZXh0Q2hhbmdlKCl7aWYodGhpcy50ZXh0SW5wdXRCdWJibGUpe3ZhciBhPXRoaXMudGV4dElucHV0QnViYmxlLmdldFRleHQoKTt0aGlzLnRleHQhPT1hJiYoZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKSh0aGlzLnNvdXJjZUJsb2NrLFxuXCJjb21tZW50XCIsbnVsbCx0aGlzLnRleHQsYSkpLHRoaXMudGV4dD1hKX19b25TaXplQ2hhbmdlKCl7dGhpcy50ZXh0SW5wdXRCdWJibGUmJih0aGlzLmJ1YmJsZVNpemU9dGhpcy50ZXh0SW5wdXRCdWJibGUuZ2V0U2l6ZSgpKX1vbkJ1YmJsZUxvY2F0aW9uQ2hhbmdlKCl7dGhpcy50ZXh0SW5wdXRCdWJibGUmJih0aGlzLmJ1YmJsZUxvY2F0aW9uPXRoaXMudGV4dElucHV0QnViYmxlLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSl9YnViYmxlSXNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuYnViYmxlVmlzaWJsaXR5fXNldEJ1YmJsZVZpc2libGUoYSl7Y29uc3QgYj10aGlzO3JldHVybigwLCRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvckZ1bmN0aW9uKShmdW5jdGlvbiooKXtiLmJ1YmJsZVZpc2libGl0eSE9PWEmJihiLmJ1YmJsZVZpc2libGl0eT1hLHlpZWxkIGZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpLFxuIWIuc291cmNlQmxvY2sucmVuZGVyZWR8fGIuc291cmNlQmxvY2suaXNJbkZseW91dHx8Yi5zb3VyY2VCbG9jay5pc0luc2VydGlvbk1hcmtlcigpfHwoYT8oYi5zb3VyY2VCbG9jay5pc0VkaXRhYmxlKCk/Yi5zaG93RWRpdGFibGVCdWJibGUoKTpiLnNob3dOb25FZGl0YWJsZUJ1YmJsZSgpLGIuYXBwbHlDb2xvdXIoKSk6Yi5oaWRlQnViYmxlKCksZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CVUJCTEVfT1BFTikpKGIuc291cmNlQmxvY2ssYSxcImNvbW1lbnRcIikpKSl9KX1nZXRCdWJibGUoKXtyZXR1cm4gdGhpcy50ZXh0SW5wdXRCdWJibGV9c2hvd0VkaXRhYmxlQnViYmxlKCl7dGhpcy5jcmVhdGVCdWJibGUoKTtsZXQgYTsoYT10aGlzLnRleHRJbnB1dEJ1YmJsZSk9PW51bGx8fGEuYWRkVGV4dENoYW5nZUxpc3RlbmVyKCgpPT5cbnRoaXMub25UZXh0Q2hhbmdlKCkpO2xldCBiOyhiPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8Yi5hZGRTaXplQ2hhbmdlTGlzdGVuZXIoKCk9PnRoaXMub25TaXplQ2hhbmdlKCkpfXNob3dOb25FZGl0YWJsZUJ1YmJsZSgpe3RoaXMuY3JlYXRlQnViYmxlKCk7bGV0IGE7KGE9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxhLnNldEVkaXRhYmxlKCExKX1jcmVhdGVCdWJibGUoKXt0aGlzLnRleHRJbnB1dEJ1YmJsZT1uZXcgVGV4dElucHV0QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0aW5wdXRfYnViYmxlKHRoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLHRoaXMuZ2V0QW5jaG9yTG9jYXRpb24oKSx0aGlzLmdldEJ1YmJsZU93bmVyUmVjdCgpLHRoaXMpO3RoaXMudGV4dElucHV0QnViYmxlLnNldFRleHQodGhpcy5nZXRUZXh0KCkpO3RoaXMudGV4dElucHV0QnViYmxlLnNldFNpemUodGhpcy5idWJibGVTaXplLCEwKTt0aGlzLmJ1YmJsZUxvY2F0aW9uJiZcbnRoaXMudGV4dElucHV0QnViYmxlLm1vdmVEdXJpbmdEcmFnKHRoaXMuYnViYmxlTG9jYXRpb24pO3RoaXMudGV4dElucHV0QnViYmxlLmFkZFRleHRDaGFuZ2VMaXN0ZW5lcigoKT0+dGhpcy5vblRleHRDaGFuZ2UoKSk7dGhpcy50ZXh0SW5wdXRCdWJibGUuYWRkU2l6ZUNoYW5nZUxpc3RlbmVyKCgpPT50aGlzLm9uU2l6ZUNoYW5nZSgpKTt0aGlzLnRleHRJbnB1dEJ1YmJsZS5hZGRMb2NhdGlvbkNoYW5nZUxpc3RlbmVyKCgpPT50aGlzLm9uQnViYmxlTG9jYXRpb25DaGFuZ2UoKSl9aGlkZUJ1YmJsZSgpe2xldCBhOyhhPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8YS5kaXNwb3NlKCk7dGhpcy50ZXh0SW5wdXRCdWJibGU9bnVsbH1nZXRBbmNob3JMb2NhdGlvbigpe2NvbnN0IGE9U0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbi8yO3JldHVybiBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0odGhpcy53b3Jrc3BhY2VMb2NhdGlvbixcbm5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLGEpKX1nZXRCdWJibGVPd25lclJlY3QoKXtyZXR1cm4gdGhpcy5zb3VyY2VCbG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhvdXRDaGlsZHJlbigpfX07Q29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24uVFlQRT1JY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuQ09NTUVOVDtDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbi5XRUlHSFQ9MztyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5KENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLlRZUEUsQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24pO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbi5Db21tZW50SWNvbj1Db21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbjt2YXIgSWNvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkaWNvbl9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe2lmKGEgaW5zdGFuY2VvZiAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uJiZhLmJ1YmJsZUlzVmlzaWJsZSgpJiYkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpPT09YSl7bGV0IGIsYztyZXR1cm4oYz0oYj1hLmdldEJ1YmJsZSgpKT09bnVsbD92b2lkIDA6Yi5nZXRXb3Jrc3BhY2UoKSkhPW51bGw/YzpudWxsfWlmKGEgaW5zdGFuY2VvZiBDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbiYmYS5idWJibGVJc1Zpc2libGUoKSYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZ2V0Rm9jdXNlZE5vZGUoKT09PVxuYSl7bGV0IGIsYztyZXR1cm4oYz0oYj1hLmdldEJ1YmJsZSgpKT09bnVsbD92b2lkIDA6Yi5nZXRFZGl0b3IoKSkhPW51bGw/YzpudWxsfXJldHVybiBudWxsfWdldFBhcmVudChhKXtyZXR1cm4gYS5nZXRTb3VyY2VCbG9jaygpfWdldE5leHRTaWJsaW5nKGEpe3JldHVybiBuYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsMSl9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe3JldHVybiBuYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsLTEpfWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29ufX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRpY29uX25hdmlnYXRpb25fcG9saWN5PVxue307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRpY29uX25hdmlnYXRpb25fcG9saWN5Lkljb25OYXZpZ2F0aW9uUG9saWN5PUljb25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGljb25fbmF2aWdhdGlvbl9wb2xpY3k7dmFyIFdvcmtzcGFjZUNvbW1lbnROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9jb21tZW50X25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIGEudmlldy5nZXRDb21tZW50QmFyQnV0dG9ucygpWzBdfWdldFBhcmVudChhKXtyZXR1cm4gYS53b3Jrc3BhY2V9Z2V0TmV4dFNpYmxpbmcoYSl7cmV0dXJuIG5hdmlnYXRlU3RhY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsMSl9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe3JldHVybiBuYXZpZ2F0ZVN0YWNrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLC0xKX1pc05hdmlnYWJsZShhKXtyZXR1cm4gYS5jYW5CZUZvY3VzZWQoKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBSZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudH19LFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiR3b3Jrc3BhY2VfY29tbWVudF9uYXZpZ2F0aW9uX3BvbGljeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9jb21tZW50X25hdmlnYXRpb25fcG9saWN5LldvcmtzcGFjZUNvbW1lbnROYXZpZ2F0aW9uUG9saWN5PVdvcmtzcGFjZUNvbW1lbnROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9jb21tZW50X25hdmlnYXRpb25fcG9saWN5O3ZhciBXb3Jrc3BhY2VOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe2E9YS5nZXRUb3BCbG9ja3MoITApO3JldHVybiBhLmxlbmd0aD9hWzBdOm51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBudWxsfWdldE5leHRTaWJsaW5nKGEpe3JldHVybiBudWxsfWdldFByZXZpb3VzU2libGluZyhhKXtyZXR1cm4gbnVsbH1pc05hdmlnYWJsZShhKXtyZXR1cm4gYS5jYW5CZUZvY3VzZWQoKSYmIWEuaXNNdXRhdG9yfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmd9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9uYXZpZ2F0aW9uX3BvbGljeT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX25hdmlnYXRpb25fcG9saWN5LldvcmtzcGFjZU5hdmlnYXRpb25Qb2xpY3k9V29ya3NwYWNlTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiR3b3Jrc3BhY2VfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hdmlnYXRvcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucnVsZXM9W25ldyBCbG9ja05hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3ksbmV3IEZpZWxkTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmaWVsZF9uYXZpZ2F0aW9uX3BvbGljeSxuZXcgQ29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29ubmVjdGlvbl9uYXZpZ2F0aW9uX3BvbGljeSxuZXcgV29ya3NwYWNlTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiR3b3Jrc3BhY2VfbmF2aWdhdGlvbl9wb2xpY3ksbmV3IEljb25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGljb25fbmF2aWdhdGlvbl9wb2xpY3ksXG5uZXcgV29ya3NwYWNlQ29tbWVudE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3ksbmV3IENvbW1lbnRCYXJCdXR0b25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbW1lbnRfYmFyX2J1dHRvbl9uYXZpZ2F0aW9uX3BvbGljeSxuZXcgQmxvY2tDb21tZW50TmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19jb21tZW50X25hdmlnYXRpb25fcG9saWN5LG5ldyBDb21tZW50RWRpdG9yTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2VkaXRvcl9uYXZpZ2F0aW9uX3BvbGljeV19YWRkTmF2aWdhdGlvblBvbGljeShhKXt0aGlzLnJ1bGVzLnB1c2goYSl9Z2V0KGEpe3JldHVybiB0aGlzLnJ1bGVzLmZpbmQoYj0+Yi5pc0FwcGxpY2FibGUoYSkpfWdldEZpcnN0Q2hpbGQoYSl7bGV0IGI7XG5jb25zdCBjPShiPXRoaXMuZ2V0KGEpKT09bnVsbD92b2lkIDA6Yi5nZXRGaXJzdENoaWxkKGEpO2lmKCFjKXJldHVybiBudWxsO2xldCBkO3JldHVybihkPXRoaXMuZ2V0KGMpKSE9bnVsbCYmZC5pc05hdmlnYWJsZShjKT9jOnRoaXMuZ2V0Rmlyc3RDaGlsZChjKXx8dGhpcy5nZXROZXh0U2libGluZyhjKX1nZXRQYXJlbnQoYSl7bGV0IGI7Y29uc3QgYz0oYj10aGlzLmdldChhKSk9PW51bGw/dm9pZCAwOmIuZ2V0UGFyZW50KGEpO2lmKCFjKXJldHVybiBudWxsO2xldCBkO3JldHVybihkPXRoaXMuZ2V0KGMpKSE9bnVsbCYmZC5pc05hdmlnYWJsZShjKT9jOnRoaXMuZ2V0UGFyZW50KGMpfWdldE5leHRTaWJsaW5nKGEpe2xldCBiO2NvbnN0IGM9KGI9dGhpcy5nZXQoYSkpPT1udWxsP3ZvaWQgMDpiLmdldE5leHRTaWJsaW5nKGEpO2lmKCFjKXJldHVybiBudWxsO2xldCBkO3JldHVybihkPXRoaXMuZ2V0KGMpKSE9bnVsbCYmZC5pc05hdmlnYWJsZShjKT9jOnRoaXMuZ2V0TmV4dFNpYmxpbmcoYyl9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe2xldCBiO1xuY29uc3QgYz0oYj10aGlzLmdldChhKSk9PW51bGw/dm9pZCAwOmIuZ2V0UHJldmlvdXNTaWJsaW5nKGEpO2lmKCFjKXJldHVybiBudWxsO2xldCBkO3JldHVybihkPXRoaXMuZ2V0KGMpKSE9bnVsbCYmZC5pc05hdmlnYWJsZShjKT9jOnRoaXMuZ2V0UHJldmlvdXNTaWJsaW5nKGMpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hdmlnYXRvcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmF2aWdhdG9yLk5hdmlnYXRvcj1OYXZpZ2F0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYXZpZ2F0b3I7dmFyIEZseW91dE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9uYXZpZ2F0b3I9Y2xhc3MgZXh0ZW5kcyBOYXZpZ2F0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYXZpZ2F0b3J7Y29uc3RydWN0b3IoYSl7c3VwZXIoKTt0aGlzLnJ1bGVzLnB1c2gobmV3IEZseW91dEJ1dHRvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X2J1dHRvbl9uYXZpZ2F0aW9uX3BvbGljeSxuZXcgRmx5b3V0U2VwYXJhdG9yTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfc2VwYXJhdG9yX25hdmlnYXRpb25fcG9saWN5KTt0aGlzLnJ1bGVzPXRoaXMucnVsZXMubWFwKGI9Pm5ldyBGbHlvdXROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9uYXZpZ2F0aW9uX3BvbGljeShiLGEpKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfbmF2aWdhdG9yPVxue307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9uYXZpZ2F0b3IuRmx5b3V0TmF2aWdhdG9yPUZseW91dE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9uYXZpZ2F0b3I7dmFyIFNjcm9sbGJhclBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXJfcGFpcj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyxkLGUpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5vbGRIb3N0TWV0cmljcz10aGlzLmNvcm5lcl89dGhpcy52U2Nyb2xsPXRoaXMuaFNjcm9sbD1udWxsO2I9Yj09PXZvaWQgMD8hMDpiO2M9Yz09PXZvaWQgMD8hMDpjO2NvbnN0IGY9YiYmYztiJiYodGhpcy5oU2Nyb2xsPW5ldyBTY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIoYSwhMCxmLGQsZSkpO2MmJih0aGlzLnZTY3JvbGw9bmV3IFNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcihhLCExLGYsZCxlKSk7ZiYmKHRoaXMuY29ybmVyXz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtoZWlnaHQ6U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyxcbndpZHRoOlNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MsXCJjbGFzc1wiOlwiYmxvY2tseVNjcm9sbGJhckJhY2tncm91bmRcIn0pLGluc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuY29ybmVyXyxhLmdldEJ1YmJsZUNhbnZhcygpKSl9ZGlzcG9zZSgpe3JlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5jb3JuZXJfKTt0aGlzLm9sZEhvc3RNZXRyaWNzPXRoaXMuY29ybmVyXz1udWxsO3RoaXMuaFNjcm9sbCYmKHRoaXMuaFNjcm9sbC5kaXNwb3NlKCksdGhpcy5oU2Nyb2xsPW51bGwpO3RoaXMudlNjcm9sbCYmKHRoaXMudlNjcm9sbC5kaXNwb3NlKCksdGhpcy52U2Nyb2xsPW51bGwpfXJlc2l6ZSgpe2NvbnN0IGE9dGhpcy53b3Jrc3BhY2UuZ2V0TWV0cmljcygpO2lmKGEpe3ZhciBiPSExLGM9ITE7dGhpcy5vbGRIb3N0TWV0cmljcyYmdGhpcy5vbGRIb3N0TWV0cmljcy52aWV3V2lkdGg9PT1cbmEudmlld1dpZHRoJiZ0aGlzLm9sZEhvc3RNZXRyaWNzLnZpZXdIZWlnaHQ9PT1hLnZpZXdIZWlnaHQmJnRoaXMub2xkSG9zdE1ldHJpY3MuYWJzb2x1dGVUb3A9PT1hLmFic29sdXRlVG9wJiZ0aGlzLm9sZEhvc3RNZXRyaWNzLmFic29sdXRlTGVmdD09PWEuYWJzb2x1dGVMZWZ0Pyh0aGlzLm9sZEhvc3RNZXRyaWNzJiZ0aGlzLm9sZEhvc3RNZXRyaWNzLnNjcm9sbFdpZHRoPT09YS5zY3JvbGxXaWR0aCYmdGhpcy5vbGRIb3N0TWV0cmljcy52aWV3TGVmdD09PWEudmlld0xlZnQmJnRoaXMub2xkSG9zdE1ldHJpY3Muc2Nyb2xsTGVmdD09PWEuc2Nyb2xsTGVmdHx8KGI9ITApLHRoaXMub2xkSG9zdE1ldHJpY3MmJnRoaXMub2xkSG9zdE1ldHJpY3Muc2Nyb2xsSGVpZ2h0PT09YS5zY3JvbGxIZWlnaHQmJnRoaXMub2xkSG9zdE1ldHJpY3Mudmlld1RvcD09PWEudmlld1RvcCYmdGhpcy5vbGRIb3N0TWV0cmljcy5zY3JvbGxUb3A9PT1hLnNjcm9sbFRvcHx8KGM9ITApKTpjPWI9ITA7aWYoYnx8XG5jKXt0cnl7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCksdGhpcy5oU2Nyb2xsJiZiJiZ0aGlzLmhTY3JvbGwucmVzaXplKGEpLHRoaXMudlNjcm9sbCYmYyYmdGhpcy52U2Nyb2xsLnJlc2l6ZShhKX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9dGhpcy53b3Jrc3BhY2UubWF5YmVGaXJlVmlld3BvcnRDaGFuZ2VFdmVudCgpfWlmKHRoaXMuaFNjcm9sbCYmdGhpcy52U2Nyb2xsKXtpZighdGhpcy5vbGRIb3N0TWV0cmljc3x8dGhpcy5vbGRIb3N0TWV0cmljcy52aWV3V2lkdGghPT1hLnZpZXdXaWR0aHx8dGhpcy5vbGRIb3N0TWV0cmljcy5hYnNvbHV0ZUxlZnQhPT1hLmFic29sdXRlTGVmdCl7bGV0IGQ7KGQ9dGhpcy5jb3JuZXJfKT09bnVsbHx8ZC5zZXRBdHRyaWJ1dGUoXCJ4XCIsU3RyaW5nKHRoaXMudlNjcm9sbC5wb3NpdGlvbi54KSl9aWYoIXRoaXMub2xkSG9zdE1ldHJpY3N8fHRoaXMub2xkSG9zdE1ldHJpY3Mudmlld0hlaWdodCE9PVxuYS52aWV3SGVpZ2h0fHx0aGlzLm9sZEhvc3RNZXRyaWNzLmFic29sdXRlVG9wIT09YS5hYnNvbHV0ZVRvcCl7bGV0IGQ7KGQ9dGhpcy5jb3JuZXJfKT09bnVsbHx8ZC5zZXRBdHRyaWJ1dGUoXCJ5XCIsU3RyaW5nKHRoaXMuaFNjcm9sbC5wb3NpdGlvbi55KSl9fXRoaXMub2xkSG9zdE1ldHJpY3M9YX19Y2FuU2Nyb2xsSG9yaXpvbnRhbGx5KCl7cmV0dXJuISF0aGlzLmhTY3JvbGx9Y2FuU2Nyb2xsVmVydGljYWxseSgpe3JldHVybiEhdGhpcy52U2Nyb2xsfXNldE9yaWdpbihhLGIpe3RoaXMuaFNjcm9sbCYmdGhpcy5oU2Nyb2xsLnNldE9yaWdpbihhLGIpO3RoaXMudlNjcm9sbCYmdGhpcy52U2Nyb2xsLnNldE9yaWdpbihhLGIpfXNldChhLGIsYyl7dGhpcy5oU2Nyb2xsJiZ0aGlzLmhTY3JvbGwuc2V0KGEsITEpO3RoaXMudlNjcm9sbCYmdGhpcy52U2Nyb2xsLnNldChiLCExKTtpZihjfHxjPT09dm9pZCAwKWE9e30sdGhpcy5oU2Nyb2xsJiYoYS54PXRoaXMuaFNjcm9sbC5nZXRSYXRpb18oKSksXG50aGlzLnZTY3JvbGwmJihhLnk9dGhpcy52U2Nyb2xsLmdldFJhdGlvXygpKSx0aGlzLndvcmtzcGFjZS5zZXRNZXRyaWNzKGEpfXNldFgoYSl7dGhpcy5oU2Nyb2xsJiZ0aGlzLmhTY3JvbGwuc2V0KGEsITApfXNldFkoYSl7dGhpcy52U2Nyb2xsJiZ0aGlzLnZTY3JvbGwuc2V0KGEsITApfXNldENvbnRhaW5lclZpc2libGUoYSl7dGhpcy5oU2Nyb2xsJiZ0aGlzLmhTY3JvbGwuc2V0Q29udGFpbmVyVmlzaWJsZShhKTt0aGlzLnZTY3JvbGwmJnRoaXMudlNjcm9sbC5zZXRDb250YWluZXJWaXNpYmxlKGEpfWlzVmlzaWJsZSgpe2xldCBhPSExO3RoaXMuaFNjcm9sbCYmKGE9dGhpcy5oU2Nyb2xsLmlzVmlzaWJsZSgpKTt0aGlzLnZTY3JvbGwmJihhPWF8fHRoaXMudlNjcm9sbC5pc1Zpc2libGUoKSk7cmV0dXJuIGF9c2V0VmlzaWJsZShhKXt0aGlzLmhTY3JvbGwmJnRoaXMuaFNjcm9sbC5zZXRWaXNpYmxlSW50ZXJuYWwoYSk7dGhpcy52U2Nyb2xsJiZ0aGlzLnZTY3JvbGwuc2V0VmlzaWJsZUludGVybmFsKGEpfXJlc2l6ZUNvbnRlbnQoYSl7dGhpcy5oU2Nyb2xsJiZcbnRoaXMuaFNjcm9sbC5yZXNpemVDb250ZW50SG9yaXpvbnRhbChhKTt0aGlzLnZTY3JvbGwmJnRoaXMudlNjcm9sbC5yZXNpemVDb250ZW50VmVydGljYWwoYSl9cmVzaXplVmlldyhhKXt0aGlzLmhTY3JvbGwmJnRoaXMuaFNjcm9sbC5yZXNpemVWaWV3SG9yaXpvbnRhbChhKTt0aGlzLnZTY3JvbGwmJnRoaXMudlNjcm9sbC5yZXNpemVWaWV3VmVydGljYWwoYSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyX3BhaXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcl9wYWlyLlNjcm9sbGJhclBhaXI9U2Nyb2xsYmFyUGFpciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcl9wYWlyO3ZhciBTRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXI9XCJzZXBcIixTZXBhcmF0b3JGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXI9Y2xhc3N7bG9hZChhLGIpe2E9bmV3IEZseW91dFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3IoMCxiLmhvcml6b250YWxMYXlvdXQ/XCJ4XCI6XCJ5XCIpO3JldHVybiBuZXcgRmx5b3V0SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9pdGVtKGEsU0VQQVJBVE9SX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyKX1nYXBGb3JJdGVtKGEsYil7bGV0IGM7cmV0dXJuKGM9cGFyc2VJbnQoU3RyaW5nKGEuZ2FwKSkpIT1udWxsP2M6Yn1kaXNwb3NlSXRlbShhKXt9Z2V0VHlwZSgpe3JldHVybiBTRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXJ9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVF9JTkZMQVRFUixTRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXIsU2VwYXJhdG9yRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXI9e1NFUEFSQVRPUl9UWVBFOlNFUEFSQVRPUl9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcn07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXIuU2VwYXJhdG9yRmx5b3V0SW5mbGF0ZXI9U2VwYXJhdG9yRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyO3ZhciBGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYmFzZT1jbGFzcyBleHRlbmRzIERlbGV0ZUFyZWEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkZWxldGVfYXJlYXtjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMuaG9yaXpvbnRhbExheW91dD0hMTt0aGlzLmJvdW5kRXZlbnRzPVtdO3RoaXMucmVmbG93V3JhcHBlcj1udWxsO3RoaXMuY29udGVudHM9W107dGhpcy5hdXRvQ2xvc2U9ITA7dGhpcy52aXNpYmxlPSExO3RoaXMuY29udGFpbmVyVmlzaWJsZT0hMDt0aGlzLkNPUk5FUl9SQURJVVM9ODt0aGlzLlNDUk9MTEJBUl9NQVJHSU49Mi41O3RoaXMuaGVpZ2h0Xz10aGlzLndpZHRoXz0wO3RoaXMuZHJhZ0FuZ2xlUmFuZ2VfPTcwO3RoaXMuc3ZnR3JvdXBfPXRoaXMuc3ZnQmFja2dyb3VuZF89bnVsbDt0aGlzLmluZmxhdGVycz1uZXcgTWFwO2Euc2V0TWV0cmljcz10aGlzLnNldE1ldHJpY3NfLmJpbmQodGhpcyk7dGhpcy53b3Jrc3BhY2VfPW5ldyBXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnKGEpO1xudGhpcy53b3Jrc3BhY2VfLnNldE1ldHJpY3NNYW5hZ2VyKG5ldyBGbHlvdXRNZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9tZXRyaWNzX21hbmFnZXIodGhpcy53b3Jrc3BhY2VfLHRoaXMpKTt0aGlzLndvcmtzcGFjZV8uaW50ZXJuYWxJc0ZseW91dD0hMDt0aGlzLndvcmtzcGFjZV8uc2V0VmlzaWJsZSh0aGlzLnZpc2libGUpO3RoaXMud29ya3NwYWNlXy5zZXROYXZpZ2F0b3IobmV3IEZseW91dE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9uYXZpZ2F0b3IodGhpcykpO3RoaXMuaWQ9Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTt0aGlzLlJUTD0hIWEuUlRMO3RoaXMudG9vbGJveFBvc2l0aW9uXz1hLnRvb2xib3hQb3NpdGlvbjt0aGlzLnRhYldpZHRoXz10aGlzLndvcmtzcGFjZV8uZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKS5UQUJfV0lEVEg7dGhpcy5NQVJHSU49dGhpcy5DT1JORVJfUkFESVVTO1xudGhpcy5HQVBfWD10aGlzLk1BUkdJTiozO3RoaXMuR0FQX1k9dGhpcy5NQVJHSU4qM31jcmVhdGVEb20oYSl7dGhpcy5zdmdHcm91cF89Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLHtcImNsYXNzXCI6XCJibG9ja2x5Rmx5b3V0XCJ9KTt0aGlzLnN2Z0dyb3VwXy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3RoaXMuc3ZnQmFja2dyb3VuZF89Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCx7XCJjbGFzc1wiOlwiYmxvY2tseUZseW91dEJhY2tncm91bmRcIn0sdGhpcy5zdmdHcm91cF8pO3RoaXMuc3ZnR3JvdXBfLmFwcGVuZENoaWxkKHRoaXMud29ya3NwYWNlXy5jcmVhdGVEb20oKSk7dGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnN1YnNjcmliZSh0aGlzLnN2Z0JhY2tncm91bmRfLFwiZmx5b3V0QmFja2dyb3VuZENvbG91clwiLFxuXCJmaWxsXCIpO3RoaXMud29ya3NwYWNlXy5nZXRUaGVtZU1hbmFnZXIoKS5zdWJzY3JpYmUodGhpcy5zdmdCYWNrZ3JvdW5kXyxcImZseW91dE9wYWNpdHlcIixcImZpbGwtb3BhY2l0eVwiKTtyZXR1cm4gdGhpcy5zdmdHcm91cF99aW5pdChhKXt0aGlzLnRhcmdldFdvcmtzcGFjZT1hO3RoaXMud29ya3NwYWNlXy50YXJnZXRXb3Jrc3BhY2U9YTt0aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyPW5ldyBTY3JvbGxiYXJQYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyX3BhaXIodGhpcy53b3Jrc3BhY2VfLHRoaXMuaG9yaXpvbnRhbExheW91dCwhdGhpcy5ob3Jpem9udGFsTGF5b3V0LFwiYmxvY2tseUZseW91dFNjcm9sbGJhclwiLHRoaXMuU0NST0xMQkFSX01BUkdJTik7dGhpcy5oaWRlKCk7dGhpcy5ib3VuZEV2ZW50cy5wdXNoKGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnR3JvdXBfLFwid2hlZWxcIix0aGlzLHRoaXMud2hlZWxfKSk7XG50aGlzLmJvdW5kRXZlbnRzLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdCYWNrZ3JvdW5kXyxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duKSk7dGhpcy53b3Jrc3BhY2VfLmdldEdlc3R1cmU9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0R2VzdHVyZS5iaW5kKHRoaXMudGFyZ2V0V29ya3NwYWNlKTt0aGlzLndvcmtzcGFjZV8uc2V0VmFyaWFibGVNYXAodGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKSk7dGhpcy53b3Jrc3BhY2VfLmNyZWF0ZVBvdGVudGlhbFZhcmlhYmxlTWFwKCk7YS5nZXRDb21wb25lbnRNYW5hZ2VyKCkuYWRkQ29tcG9uZW50KHtjb21wb25lbnQ6dGhpcyx3ZWlnaHQ6Q29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNvbXBvbmVudFdlaWdodC5GTFlPVVRfV0VJR0hULGNhcGFiaWxpdGllczpbQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuQVVUT0hJREVBQkxFLFxuQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuREVMRVRFX0FSRUEsQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuRFJBR19UQVJHRVRdfSl9ZGlzcG9zZSgpe3RoaXMuaGlkZSgpO3RoaXMudGFyZ2V0V29ya3NwYWNlLmdldENvbXBvbmVudE1hbmFnZXIoKS5yZW1vdmVDb21wb25lbnQodGhpcy5pZCk7Zm9yKGNvbnN0IGEgb2YgdGhpcy5ib3VuZEV2ZW50cyl1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKTt0aGlzLmJvdW5kRXZlbnRzLmxlbmd0aD0wO3RoaXMud29ya3NwYWNlXyYmKHRoaXMud29ya3NwYWNlXy5nZXRUaGVtZU1hbmFnZXIoKS51bnN1YnNjcmliZSh0aGlzLnN2Z0JhY2tncm91bmRfKSx0aGlzLndvcmtzcGFjZV8uZGlzcG9zZSgpKTt0aGlzLnN2Z0dyb3VwXyYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwXyl9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy53aWR0aF99Z2V0SGVpZ2h0KCl7cmV0dXJuIHRoaXMuaGVpZ2h0X31nZXRGbHlvdXRTY2FsZSgpe3JldHVybiB0aGlzLnRhcmdldFdvcmtzcGFjZS5zY2FsZX1nZXRXb3Jrc3BhY2UoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2VffXNldEF1dG9DbG9zZShhKXt0aGlzLmF1dG9DbG9zZT1cbmE7dGhpcy50YXJnZXRXb3Jrc3BhY2UucmVjb3JkRHJhZ1RhcmdldHMoKTt0aGlzLnRhcmdldFdvcmtzcGFjZS5yZXNpemVDb250ZW50cygpfWF1dG9IaWRlKGEpeyFhJiZ0aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRGbHlvdXQoITApPT09dGhpcyYmdGhpcy5hdXRvQ2xvc2UmJnRoaXMuaGlkZSgpfWdldFRhcmdldFdvcmtzcGFjZSgpe3JldHVybiB0aGlzLnRhcmdldFdvcmtzcGFjZX1pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy52aXNpYmxlfXNldFZpc2libGUoYSl7Y29uc3QgYj1hIT09dGhpcy5pc1Zpc2libGUoKTt0aGlzLnZpc2libGU9YTtiJiYodGhpcy5hdXRvQ2xvc2V8fHRoaXMudGFyZ2V0V29ya3NwYWNlLnJlY29yZERyYWdUYXJnZXRzKCksdGhpcy51cGRhdGVEaXNwbGF5KCkpfXNldENvbnRhaW5lclZpc2libGUoYSl7Y29uc3QgYj1hIT09dGhpcy5jb250YWluZXJWaXNpYmxlO3RoaXMuY29udGFpbmVyVmlzaWJsZT1hO2ImJnRoaXMudXBkYXRlRGlzcGxheSgpfWdldENvbnRlbnRzKCl7cmV0dXJuIHRoaXMuY29udGVudHN9c2V0Q29udGVudHMoYSl7dGhpcy5jb250ZW50cz1cbmF9dXBkYXRlRGlzcGxheSgpe2xldCBhO2E9dGhpcy5jb250YWluZXJWaXNpYmxlP3RoaXMuaXNWaXNpYmxlKCk6ITE7dGhpcy5zdmdHcm91cF8mJih0aGlzLnN2Z0dyb3VwXy5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiKTtsZXQgYjsoYj10aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyKT09bnVsbHx8Yi5zZXRDb250YWluZXJWaXNpYmxlKGEpfXBvc2l0aW9uQXRfKGEsYixjLGQpe2xldCBlOyhlPXRoaXMuc3ZnR3JvdXBfKT09bnVsbHx8ZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGAke2F9YCk7bGV0IGY7KGY9dGhpcy5zdmdHcm91cF8pPT1udWxsfHxmLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGAke2J9YCk7dGhpcy53b3Jrc3BhY2VfLnNldENhY2hlZFBhcmVudFN2Z1NpemUoYSxiKTt0aGlzLnN2Z0dyb3VwXyYmc2V0Q3NzVHJhbnNmb3JtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXBfLFwidHJhbnNsYXRlKFwiK2MrXCJweCxcIitkK1wicHgpXCIpO1xuaWYoYT10aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyKWEuc2V0T3JpZ2luKGMsZCksYS5yZXNpemUoKSxhLmhTY3JvbGwmJmEuaFNjcm9sbC5zZXRQb3NpdGlvbihhLmhTY3JvbGwucG9zaXRpb24ueCxhLmhTY3JvbGwucG9zaXRpb24ueSksYS52U2Nyb2xsJiZhLnZTY3JvbGwuc2V0UG9zaXRpb24oYS52U2Nyb2xsLnBvc2l0aW9uLngsYS52U2Nyb2xsLnBvc2l0aW9uLnkpfWhpZGUoKXt0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy5zZXRWaXNpYmxlKCExKSx0aGlzLnJlZmxvd1dyYXBwZXImJih0aGlzLndvcmtzcGFjZV8ucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5yZWZsb3dXcmFwcGVyKSx0aGlzLnJlZmxvd1dyYXBwZXI9bnVsbCkpfXNob3coYSl7dGhpcy53b3Jrc3BhY2VfLnNldFJlc2l6ZXNFbmFibGVkKCExKTt0aGlzLmhpZGUoKTt0aGlzLmNsZWFyT2xkQmxvY2tzKCk7dHlwZW9mIGE9PT1cInN0cmluZ1wiJiYoYT10aGlzLmdldER5bmFtaWNDYXRlZ29yeUNvbnRlbnRzKGEpKTtcbnRoaXMuc2V0VmlzaWJsZSghMCk7YT1jb252ZXJ0Rmx5b3V0RGVmVG9Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpO2E9dGhpcy5jcmVhdGVGbHlvdXRJbmZvKGEpO3RyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQodGhpcy53b3Jrc3BhY2VfKTt0aGlzLnNldENvbnRlbnRzKGEpO3RoaXMubGF5b3V0XyhhKTt0aGlzLmhvcml6b250YWxMYXlvdXQ/dGhpcy5oZWlnaHRfPTA6dGhpcy53aWR0aF89MDt0aGlzLnJlZmxvdygpO3RoaXMud29ya3NwYWNlXy5zZXRSZXNpemVzRW5hYmxlZCghMCk7dGhpcy5yZWZsb3dXcmFwcGVyPWI9PntiLnR5cGUhPT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UmJmIudHlwZSE9PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0ZJRUxEX0lOVEVSTUVESUFURV9DSEFOR0V8fFxudGhpcy5yZWZsb3coKX07dGhpcy53b3Jrc3BhY2VfLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMucmVmbG93V3JhcHBlcil9Y3JlYXRlRmx5b3V0SW5mbyhhKXtjb25zdCBiPVtdLGM9dGhpcy5ob3Jpem9udGFsTGF5b3V0P3RoaXMuR0FQX1g6dGhpcy5HQVBfWTtmb3IoY29uc3QgZCBvZiBhKWlmKFwiY3VzdG9tXCJpbiBkJiYoYT10aGlzLmdldER5bmFtaWNDYXRlZ29yeUNvbnRlbnRzKGQuY3VzdG9tKSxhPWNvbnZlcnRGbHlvdXREZWZUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSksYi5wdXNoKC4uLnRoaXMuY3JlYXRlRmx5b3V0SW5mbyhhKSkpLGE9ZC5raW5kLnRvTG93ZXJDYXNlKCksYT10aGlzLmdldEluZmxhdGVyRm9yVHlwZShhKSliLnB1c2goYS5sb2FkKGQsdGhpcykpLChhPWEuZ2FwRm9ySXRlbShkLGMpKSYmYi5wdXNoKG5ldyBGbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW0obmV3IEZseW91dFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3IoYSxcbnRoaXMuaG9yaXpvbnRhbExheW91dD9cInhcIjpcInlcIiksU0VQQVJBVE9SX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyKSk7cmV0dXJuIHRoaXMubm9ybWFsaXplU2VwYXJhdG9ycyhiKX1ub3JtYWxpemVTZXBhcmF0b3JzKGEpe2ZvcihsZXQgYj1hLmxlbmd0aC0xO2I+MDtiLS0pe2NvbnN0IGM9YVtiXS5nZXRUeXBlKCkudG9Mb3dlckNhc2UoKSxkPWFbYi0xXS5nZXRUeXBlKCkudG9Mb3dlckNhc2UoKTtjPT09U0VQQVJBVE9SX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyJiZkPT09U0VQQVJBVE9SX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyJiZhLnNwbGljZShiLTEsMSl9cmV0dXJuIGF9Z2V0RHluYW1pY0NhdGVnb3J5Q29udGVudHMoYSl7YT10aGlzLndvcmtzcGFjZV8udGFyZ2V0V29ya3NwYWNlLmdldFRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKGEpO1xuaWYodHlwZW9mIGEhPT1cImZ1bmN0aW9uXCIpdGhyb3cgVHlwZUVycm9yKFwiQ291bGRuJ3QgZmluZCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gb3BlbmluZyBhIHRvb2xib3ggY2F0ZWdvcnkuXCIpO3JldHVybiBhKHRoaXMud29ya3NwYWNlXy50YXJnZXRXb3Jrc3BhY2UpfWNsZWFyT2xkQmxvY2tzKCl7dGhpcy5nZXRDb250ZW50cygpLmZvckVhY2goYj0+e2xldCBjOyhjPXRoaXMuZ2V0SW5mbGF0ZXJGb3JUeXBlKGIuZ2V0VHlwZSgpKSk9PW51bGx8fGMuZGlzcG9zZUl0ZW0oYil9KTtsZXQgYTsoYT10aGlzLndvcmtzcGFjZV8uZ2V0UG90ZW50aWFsVmFyaWFibGVNYXAoKSk9PW51bGx8fGEuY2xlYXIoKX1vbk1vdXNlRG93bihhKXtjb25zdCBiPXRoaXMudGFyZ2V0V29ya3NwYWNlLmdldEdlc3R1cmUoYSk7YiYmYi5oYW5kbGVGbHlvdXRTdGFydChhLHRoaXMpfWlzQmxvY2tDcmVhdGFibGUoYSl7cmV0dXJuIGEuaXNFbmFibGVkKCkmJiF0aGlzLmdldFRhcmdldFdvcmtzcGFjZSgpLmlzUmVhZE9ubHkoKX1jcmVhdGVCbG9jayhhKXtsZXQgYj1cbm51bGw7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dmFyIGM9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0QWxsVmFyaWFibGVzKCk7dGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2V0UmVzaXplc0VuYWJsZWQoITEpO3RyeXtiPXRoaXMucGxhY2VOZXdCbG9jayhhKX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9dGhpcy50YXJnZXRXb3Jrc3BhY2UuaGlkZUNoYWZmKCk7YT1nZXRBZGRlZFZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLnRhcmdldFdvcmtzcGFjZSxjKTtpZihpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0NSRUFURSkpKGQpKX1maXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURSkpKGIpKX10aGlzLmF1dG9DbG9zZSYmXG50aGlzLmhpZGUoKTtyZXR1cm4gYn1yZWZsb3coKXt0aGlzLnJlZmxvd1dyYXBwZXImJnRoaXMud29ya3NwYWNlXy5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLnJlZmxvd1dyYXBwZXIpO3RoaXMucmVmbG93SW50ZXJuYWxfKCk7dGhpcy5yZWZsb3dXcmFwcGVyJiZ0aGlzLndvcmtzcGFjZV8uYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5yZWZsb3dXcmFwcGVyKX1pc1Njcm9sbGFibGUoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2VfLnNjcm9sbGJhcj90aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyLmlzVmlzaWJsZSgpOiExfXBsYWNlTmV3QmxvY2soYSl7dmFyIGI9dGhpcy50YXJnZXRXb3Jrc3BhY2U7aWYoIWEuZ2V0U3ZnUm9vdCgpKXRocm93IEVycm9yKFwib2xkQmxvY2sgaXMgbm90IHJlbmRlcmVkXCIpO2NvbnN0IGM9dGhpcy5zZXJpYWxpemVCbG9jayhhKTtiLnNldFJlc2l6ZXNFbmFibGVkKCExKTtiPWFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGMsXG5iKTt0aGlzLnBvc2l0aW9uTmV3QmxvY2soYSxiKTtyZXR1cm4gYn1zZXJpYWxpemVCbG9jayhhKXtyZXR1cm4gc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEpfXBvc2l0aW9uTmV3QmxvY2soYSxiKXtjb25zdCBjPXRoaXMudGFyZ2V0V29ya3NwYWNlO3ZhciBkPWMuZ2V0T3JpZ2luT2Zmc2V0SW5QaXhlbHMoKSxlPXRoaXMud29ya3NwYWNlXy5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpO2E9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7YS5zY2FsZSh0aGlzLndvcmtzcGFjZV8uc2NhbGUpO2U9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKGUsYSk7ZD1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaWZmZXJlbmNlKGUsZCk7ZC5zY2FsZSgxL2Muc2NhbGUpO2IubW92ZVRvKG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShkLngsXG5kLnkpKX1nZXRJbmZsYXRlckZvclR5cGUoYSl7aWYodGhpcy5pbmZsYXRlcnMuaGFzKGEpKXt2YXIgYjtyZXR1cm4oYj10aGlzLmluZmxhdGVycy5nZXQoYSkpIT1udWxsP2I6bnVsbH1yZXR1cm4oYj1nZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRfSU5GTEFURVIsYSkpPyhiPW5ldyBiLHRoaXMuaW5mbGF0ZXJzLnNldChhLGIpLGIpOm51bGx9Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe3Rocm93IEVycm9yKFwiRmx5b3V0cyBhcmUgbm90IGRpcmVjdGx5IGZvY3VzYWJsZS5cIik7fWdldEZvY3VzYWJsZVRyZWUoKXt0aHJvdyBFcnJvcihcIkZseW91dHMgYXJlIG5vdCBkaXJlY3RseSBmb2N1c2FibGUuXCIpO31vbk5vZGVGb2N1cygpe31vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiExfWdldFJvb3RGb2N1c2FibGVOb2RlKCl7dGhyb3cgRXJyb3IoXCJGbHlvdXRzIGFyZSBub3QgZGlyZWN0bHkgZm9jdXNhYmxlLlwiKTtcbn1nZXRSZXN0b3JlZEZvY3VzYWJsZU5vZGUoYSl7dGhyb3cgRXJyb3IoXCJGbHlvdXRzIGFyZSBub3QgZGlyZWN0bHkgZm9jdXNhYmxlLlwiKTt9Z2V0TmVzdGVkVHJlZXMoKXt0aHJvdyBFcnJvcihcIkZseW91dHMgYXJlIG5vdCBkaXJlY3RseSBmb2N1c2FibGUuXCIpO31sb29rVXBGb2N1c2FibGVOb2RlKGEpe3Rocm93IEVycm9yKFwiRmx5b3V0cyBhcmUgbm90IGRpcmVjdGx5IGZvY3VzYWJsZS5cIik7fW9uVHJlZUZvY3VzKGEsYil7fW9uVHJlZUJsdXIoYSl7dGhyb3cgRXJyb3IoXCJGbHlvdXRzIGFyZSBub3QgZGlyZWN0bHkgZm9jdXNhYmxlLlwiKTt9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2Jhc2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9iYXNlLkZseW91dD1GbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYmFzZTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGUuaXNEcmFnZ2FibGU9aXNEcmFnZ2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dhYmxlO3ZhciBLZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5pc0FjdGl2ZT0hMTt0aGlzLmFjdGl2ZUNsYXNzTmFtZT1cImJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb25cIn1zZXRJc0FjdGl2ZShhPSEwKXt0aGlzLmlzQWN0aXZlPWE7dGhpcy51cGRhdGVBY3RpdmVWaXN1YWxpemF0aW9uKCl9Z2V0SXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5pc0FjdGl2ZX11cGRhdGVBY3RpdmVWaXN1YWxpemF0aW9uKCl7dGhpcy5pc0FjdGl2ZT9kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQodGhpcy5hY3RpdmVDbGFzc05hbWUpOmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmFjdGl2ZUNsYXNzTmFtZSl9fSxrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyPVxubmV3IEtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdmlnYXRpb25fY29udHJvbGxlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyLktleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXI9S2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdmlnYXRpb25fY29udHJvbGxlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyLmtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXI9a2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdmlnYXRpb25fY29udHJvbGxlcjt2YXIgV29ya3NwYWNlRHJhZ2dlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9kcmFnZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5ob3Jpem9udGFsU2Nyb2xsRW5hYmxlZD10aGlzLndvcmtzcGFjZS5pc01vdmFibGVIb3Jpem9udGFsbHkoKTt0aGlzLnZlcnRpY2FsU2Nyb2xsRW5hYmxlZD10aGlzLndvcmtzcGFjZS5pc01vdmFibGVWZXJ0aWNhbGx5KCk7dGhpcy5zdGFydFNjcm9sbFhZXz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5zY3JvbGxYLGEuc2Nyb2xsWSl9ZGlzcG9zZSgpe3RoaXMud29ya3NwYWNlPW51bGx9c3RhcnREcmFnKCl7fWVuZERyYWcoYSl7dGhpcy5kcmFnKGEpfWRyYWcoYSl7YT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0odGhpcy5zdGFydFNjcm9sbFhZXyxhKTtpZih0aGlzLmhvcml6b250YWxTY3JvbGxFbmFibGVkJiZcbnRoaXMudmVydGljYWxTY3JvbGxFbmFibGVkKXRoaXMud29ya3NwYWNlLnNjcm9sbChhLngsYS55KTtlbHNlIGlmKHRoaXMuaG9yaXpvbnRhbFNjcm9sbEVuYWJsZWQpdGhpcy53b3Jrc3BhY2Uuc2Nyb2xsKGEueCx0aGlzLndvcmtzcGFjZS5zY3JvbGxZKTtlbHNlIGlmKHRoaXMudmVydGljYWxTY3JvbGxFbmFibGVkKXRoaXMud29ya3NwYWNlLnNjcm9sbCh0aGlzLndvcmtzcGFjZS5zY3JvbGxYLGEueSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBzdGF0ZS5cIik7fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9kcmFnZ2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfZHJhZ2dlci5Xb3Jrc3BhY2VEcmFnZ2VyPVdvcmtzcGFjZURyYWdnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfZHJhZ2dlcjt2YXIgWk9PTV9JTl9NVUxUSVBMSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZT01LFpPT01fT1VUX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlPTYsR2VzdHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlc3R1cmU9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmNyZWF0b3JXb3Jrc3BhY2U9Yjt0aGlzLm1vdXNlRG93blhZPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuc3RhcnRXb3Jrc3BhY2VfPXRoaXMudGFyZ2V0QmxvY2s9dGhpcy5zdGFydENvbW1lbnQ9dGhpcy5zdGFydEJsb2NrPXRoaXMuc3RhcnRJY29uPXRoaXMuc3RhcnRGaWVsZD10aGlzLnN0YXJ0QnViYmxlPW51bGw7dGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXM9ITE7dGhpcy5ib3VuZEV2ZW50cz1bXTt0aGlzLndvcmtzcGFjZURyYWdnZXI9dGhpcy5kcmFnZ2VyPW51bGw7dGhpcy5kcmFnZ2luZz1cbiExO3RoaXMuZmx5b3V0PW51bGw7dGhpcy5tdWx0aVRvdWNoPXRoaXMuaXNFbmRpbmdfPXRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQ9dGhpcy5jYWxsZWRVcGRhdGVJc0RyYWdnaW5nPSExO3RoaXMuY2FjaGVkUG9pbnRzPW5ldyBNYXA7dGhpcy5zdGFydERpc3RhbmNlPXRoaXMucHJldmlvdXNTY2FsZT0wO3RoaXMuY3VycmVudERyb3Bkb3duT3duZXI9dGhpcy5pc1BpbmNoWm9vbUVuYWJsZWQ9bnVsbDt0aGlzLm1vc3RSZWNlbnRFdmVudD1hO3RoaXMuY3VycmVudERyYWdEZWx0YVhZPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApfWRpc3Bvc2UoKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7dW5ibG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKTt0aGlzLmNyZWF0b3JXb3Jrc3BhY2UuY2xlYXJHZXN0dXJlKCk7Zm9yKGNvbnN0IGEgb2YgdGhpcy5ib3VuZEV2ZW50cyl1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKTtcbnRoaXMuYm91bmRFdmVudHMubGVuZ3RoPTA7dGhpcy53b3Jrc3BhY2VEcmFnZ2VyJiZ0aGlzLndvcmtzcGFjZURyYWdnZXIuZGlzcG9zZSgpfXVwZGF0ZUZyb21FdmVudChhKXtjb25zdCBiPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTt0aGlzLnVwZGF0ZURyYWdEZWx0YShiKSYmKHRoaXMudXBkYXRlSXNEcmFnZ2luZyhhKSxsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCkpO3RoaXMubW9zdFJlY2VudEV2ZW50PWF9dXBkYXRlRHJhZ0RlbHRhKGEpe3RoaXMuY3VycmVudERyYWdEZWx0YVhZPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UoYSx0aGlzLm1vdXNlRG93blhZKTtyZXR1cm4gdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXM/ITE6dGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXM9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUubWFnbml0dWRlKHRoaXMuY3VycmVudERyYWdEZWx0YVhZKT5cbih0aGlzLmZseW91dD8kLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5mbHlvdXREcmFnUmFkaXVzOiQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLmRyYWdSYWRpdXMpfXVwZGF0ZUlzRHJhZ2dpbmdGcm9tRmx5b3V0KCl7bGV0IGE7aWYoIXRoaXMudGFyZ2V0QmxvY2t8fChhPXRoaXMuZmx5b3V0KT09bnVsbHx8IWEuaXNCbG9ja0NyZWF0YWJsZSh0aGlzLnRhcmdldEJsb2NrKSlyZXR1cm4hMTtpZighdGhpcy5mbHlvdXQudGFyZ2V0V29ya3NwYWNlKXRocm93IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBkcmFnZ2luZyBmcm9tIHRoZSBmbHlvdXQgYmVjYXVzZSB0aGUgJyArXFxuICAgICAgICAgICdmbHlvdXQncyB0YXJnZXQgd29ya3NwYWNlIGlzIHVuZGVmaW5lZFwiKTtyZXR1cm4hdGhpcy5mbHlvdXQuaXNTY3JvbGxhYmxlKCl8fHRoaXMuZmx5b3V0LmlzRHJhZ1Rvd2FyZFdvcmtzcGFjZSh0aGlzLmN1cnJlbnREcmFnRGVsdGFYWSk/KHRoaXMuc3RhcnRXb3Jrc3BhY2VfPVxudGhpcy5mbHlvdXQudGFyZ2V0V29ya3NwYWNlLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLnVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9uc0lmU2Nyb2xsZWQoKSwkLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApLHRoaXMuc3RhcnRCbG9jaz1udWxsLHRoaXMudGFyZ2V0QmxvY2s9dGhpcy5mbHlvdXQuY3JlYXRlQmxvY2sodGhpcy50YXJnZXRCbG9jayksJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKHRoaXMudGFyZ2V0QmxvY2spLCEwKTohMX11cGRhdGVJc0RyYWdnaW5nV29ya3NwYWNlKCl7aWYoIXRoaXMuc3RhcnRXb3Jrc3BhY2VfKXRocm93IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBkcmFnZ2luZyB0aGUgd29ya3NwYWNlIGJlY2F1c2UgdGhlIHN0YXJ0IHdvcmtzcGFjZSBpcyB1bmRlZmluZWRcIik7XG5pZih0aGlzLmZseW91dD90aGlzLmZseW91dC5pc1Njcm9sbGFibGUoKTp0aGlzLnN0YXJ0V29ya3NwYWNlXyYmdGhpcy5zdGFydFdvcmtzcGFjZV8uaXNEcmFnZ2FibGUoKSl0aGlzLmRyYWdnaW5nPSEwLHRoaXMud29ya3NwYWNlRHJhZ2dlcj1uZXcgV29ya3NwYWNlRHJhZ2dlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9kcmFnZ2VyKHRoaXMuc3RhcnRXb3Jrc3BhY2VfKSx0aGlzLndvcmtzcGFjZURyYWdnZXIuc3RhcnREcmFnKCl9dXBkYXRlSXNEcmFnZ2luZyhhKXtpZighdGhpcy5zdGFydFdvcmtzcGFjZV8pdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGRyYWdnaW5nIGJlY2F1c2UgdGhlIHN0YXJ0IHdvcmtzcGFjZSBpcyB1bmRlZmluZWRcIik7aWYodGhpcy5jYWxsZWRVcGRhdGVJc0RyYWdnaW5nKXRocm93IEVycm9yKFwidXBkYXRlSXNEcmFnZ2luZ18gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGdlc3R1cmUuXCIpO3RoaXMuY2FsbGVkVXBkYXRlSXNEcmFnZ2luZz1cbiEwO3RoaXMuZmx5b3V0JiZ0aGlzLnVwZGF0ZUlzRHJhZ2dpbmdGcm9tRmx5b3V0KCk7Y29uc3QgYj1nZXRTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpO2ImJmlzRHJhZ2dhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZShiKSYmYi5pc01vdmFibGUoKT8odGhpcy5kcmFnZ2luZz0hMCx0aGlzLmRyYWdnZXI9dGhpcy5jcmVhdGVEcmFnZ2VyKGIsdGhpcy5zdGFydFdvcmtzcGFjZV8pLHRoaXMuZHJhZ2dlci5vbkRyYWdTdGFydChhKSx0aGlzLmRyYWdnZXIub25EcmFnKGEsdGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpKTp0aGlzLnVwZGF0ZUlzRHJhZ2dpbmdXb3Jrc3BhY2UoKX1jcmVhdGVEcmFnZ2VyKGEsYil7cmV0dXJuIG5ldyAoZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5CTE9DS19EUkFHR0VSLHRoaXMuY3JlYXRvcldvcmtzcGFjZS5vcHRpb25zLFxuITApKShhLGIpfWRvU3RhcnQoYSl7aWYoIXRoaXMuc3RhcnRXb3Jrc3BhY2VfKXRocm93IEVycm9yKFwiQ2Fubm90IHN0YXJ0IHRoZSB0b3VjaCBnZXN0dXJlIGJlY2F1YXNlIHRoZSBzdGFydCB3b3Jrc3BhY2UgaXMgdW5kZWZpbmVkXCIpO3RoaXMuaXNQaW5jaFpvb21FbmFibGVkPXRoaXMuc3RhcnRXb3Jrc3BhY2VfLm9wdGlvbnMuem9vbU9wdGlvbnMmJnRoaXMuc3RhcnRXb3Jrc3BhY2VfLm9wdGlvbnMuem9vbU9wdGlvbnMucGluY2g7aXNUYXJnZXRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpP3RoaXMuY2FuY2VsKCk6KHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQ9ITAsZGlzY29ubmVjdFVpU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMoKSx0aGlzLnN0YXJ0V29ya3NwYWNlXy51cGRhdGVTY3JlZW5DYWxjdWxhdGlvbnNJZlNjcm9sbGVkKCksdGhpcy5zdGFydFdvcmtzcGFjZV8uaXNNdXRhdG9yJiZ0aGlzLnN0YXJ0V29ya3NwYWNlXy5yZXNpemUoKSxcbnRoaXMuY3VycmVudERyb3Bkb3duT3duZXI9Z2V0T3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLmhpZGVDaGFmZighIXRoaXMuZmx5b3V0KSx0aGlzLnN0YXJ0V29ya3NwYWNlXy5tYXJrRm9jdXNlZCgpLHRoaXMubW9zdFJlY2VudEV2ZW50PWEsYmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCksaXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpP3RoaXMuaGFuZGxlUmlnaHRDbGljayhhKTooYS50eXBlLnRvTG93ZXJDYXNlKCk9PT1cInBvaW50ZXJkb3duXCImJmEucG9pbnRlclR5cGUhPT1cIm1vdXNlXCImJmxvbmdTdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEsdGhpcyksdGhpcy5tb3VzZURvd25YWT1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLGEuY2xpZW50WSksdGhpcy5iaW5kTW91c2VFdmVudHMoYSksXG50aGlzLmlzRW5kaW5nX3x8dGhpcy5oYW5kbGVUb3VjaFN0YXJ0KGEpKSl9YmluZE1vdXNlRXZlbnRzKGEpe3RoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJkb3duXCIsbnVsbCx0aGlzLmhhbmRsZVN0YXJ0LmJpbmQodGhpcyksITApKTt0aGlzLmJvdW5kRXZlbnRzLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVybW92ZVwiLG51bGwsdGhpcy5oYW5kbGVNb3ZlLmJpbmQodGhpcyksITApKTt0aGlzLmJvdW5kRXZlbnRzLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVydXBcIixudWxsLHRoaXMuaGFuZGxlVXAuYmluZCh0aGlzKSwhMCkpO2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfWhhbmRsZVN0YXJ0KGEpe3RoaXMuaXNEcmFnZ2luZygpfHxcbih0aGlzLmhhbmRsZVRvdWNoU3RhcnQoYSksdGhpcy5pc011bHRpVG91Y2goKSYmbG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpKX1oYW5kbGVNb3ZlKGEpe2lmKHRoaXMuaXNEcmFnZ2luZygpJiZzaG91bGRIYW5kbGVFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEpfHwhdGhpcy5pc011bHRpVG91Y2goKSl7dGhpcy51cGRhdGVGcm9tRXZlbnQoYSk7aWYodGhpcy53b3Jrc3BhY2VEcmFnZ2VyKXRoaXMud29ya3NwYWNlRHJhZ2dlci5kcmFnKHRoaXMuY3VycmVudERyYWdEZWx0YVhZKTtlbHNlIGlmKHRoaXMuZHJhZ2dlcil0aGlzLmRyYWdnZXIub25EcmFnKHRoaXMubW9zdFJlY2VudEV2ZW50LHRoaXMuY3VycmVudERyYWdEZWx0YVhZKTthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX1lbHNlIHRoaXMuaXNNdWx0aVRvdWNoKCkmJih0aGlzLmhhbmRsZVRvdWNoTW92ZShhKSxsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCkpfWhhbmRsZVVwKGEpe3RoaXMuaXNEcmFnZ2luZygpfHxcbnRoaXMuaGFuZGxlVG91Y2hFbmQoYSk7aWYoIXRoaXMuaXNNdWx0aVRvdWNoKCl8fHRoaXMuaXNEcmFnZ2luZygpKXtpZighc2hvdWxkSGFuZGxlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaChhKSlyZXR1cm47dGhpcy51cGRhdGVGcm9tRXZlbnQoYSk7bG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO2lmKHRoaXMuaXNFbmRpbmdfKXtjb25zb2xlLmxvZyhcIlRyeWluZyB0byBlbmQgYSBnZXN0dXJlIHJlY3Vyc2l2ZWx5LlwiKTtyZXR1cm59dGhpcy5pc0VuZGluZ189ITA7dGhpcy5kcmFnZ2VyPyhrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyLnNldElzQWN0aXZlKCExKSx0aGlzLmRyYWdnZXIub25EcmFnRW5kKGEsdGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpKTp0aGlzLndvcmtzcGFjZURyYWdnZXI/KGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIuc2V0SXNBY3RpdmUoITEpLFxudGhpcy53b3Jrc3BhY2VEcmFnZ2VyLmVuZERyYWcodGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpKTp0aGlzLmlzQnViYmxlQ2xpY2soKXx8dGhpcy5pc0NvbW1lbnRDbGljaygpfHwodGhpcy5pc0ZpZWxkQ2xpY2soKT90aGlzLmRvRmllbGRDbGljaygpOnRoaXMuaXNJY29uQ2xpY2soKT90aGlzLmRvSWNvbkNsaWNrKCk6dGhpcy5pc0Jsb2NrQ2xpY2soKT90aGlzLmRvQmxvY2tDbGljaygpOnRoaXMuaXNXb3Jrc3BhY2VDbGljaygpJiZ0aGlzLmRvV29ya3NwYWNlQ2xpY2soYSkpfWEucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpO3RoaXMuZGlzcG9zZSgpfWhhbmRsZVRvdWNoU3RhcnQoYSl7dmFyIGI9Z2V0VG91Y2hJZGVudGlmaWVyRnJvbUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goYSk7dGhpcy5jYWNoZWRQb2ludHMuc2V0KGIsdGhpcy5nZXRUb3VjaFBvaW50KGEpKTt2YXIgYz1BcnJheS5mcm9tKHRoaXMuY2FjaGVkUG9pbnRzLmtleXMoKSk7XG5jLmxlbmd0aD09PTImJihiPXRoaXMuY2FjaGVkUG9pbnRzLmdldChjWzBdKSxjPXRoaXMuY2FjaGVkUG9pbnRzLmdldChjWzFdKSx0aGlzLnN0YXJ0RGlzdGFuY2U9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlzdGFuY2UoYixjKSx0aGlzLm11bHRpVG91Y2g9ITAsYS5wcmV2ZW50RGVmYXVsdCgpKX1oYW5kbGVUb3VjaE1vdmUoYSl7Y29uc3QgYj1nZXRUb3VjaElkZW50aWZpZXJGcm9tRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaChhKTt0aGlzLmNhY2hlZFBvaW50cy5zZXQoYix0aGlzLmdldFRvdWNoUG9pbnQoYSkpO2lmKHRoaXMuaXNQaW5jaFpvb21FbmFibGVkJiZ0aGlzLmNhY2hlZFBvaW50cy5zaXplPT09Mil0aGlzLmhhbmRsZVBpbmNoKGEpO2Vsc2V7dGhpcy51cGRhdGVGcm9tRXZlbnQoYSk7aWYodGhpcy53b3Jrc3BhY2VEcmFnZ2VyKXRoaXMud29ya3NwYWNlRHJhZ2dlci5kcmFnKHRoaXMuY3VycmVudERyYWdEZWx0YVhZKTtcbmVsc2UgaWYodGhpcy5kcmFnZ2VyKXRoaXMuZHJhZ2dlci5vbkRyYWcodGhpcy5tb3N0UmVjZW50RXZlbnQsdGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpO2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfX1oYW5kbGVQaW5jaChhKXt2YXIgYj1BcnJheS5mcm9tKHRoaXMuY2FjaGVkUG9pbnRzLmtleXMoKSksYz10aGlzLmNhY2hlZFBvaW50cy5nZXQoYlswXSk7Yj10aGlzLmNhY2hlZFBvaW50cy5nZXQoYlsxXSk7Yz1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaXN0YW5jZShjLGIpL3RoaXMuc3RhcnREaXN0YW5jZTtpZih0aGlzLnByZXZpb3VzU2NhbGU+MCYmdGhpcy5wcmV2aW91c1NjYWxlPEluZmluaXR5KXtiPWMtdGhpcy5wcmV2aW91c1NjYWxlO2I9Yj4wP2IqWk9PTV9JTl9NVUxUSVBMSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZTpiKlpPT01fT1VUX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlO1xuaWYoIXRoaXMuc3RhcnRXb3Jrc3BhY2VfKXRocm93IEVycm9yKFwiQ2Fubm90IGhhbmRsZSBhIHBpbmNoIGJlY2F1c2UgdGhlIHN0YXJ0IHdvcmtzcGFjZSBpcyB1bmRlZmluZWRcIik7Y29uc3QgZD10aGlzLnN0YXJ0V29ya3NwYWNlXyxlPW1vdXNlVG9TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLGQuZ2V0UGFyZW50U3ZnKCksZC5nZXRJbnZlcnNlU2NyZWVuQ1RNKCkpO2Quem9vbShlLngsZS55LGIpfXRoaXMucHJldmlvdXNTY2FsZT1jO2EucHJldmVudERlZmF1bHQoKX1oYW5kbGVUb3VjaEVuZChhKXthPWdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEpO3RoaXMuY2FjaGVkUG9pbnRzLmhhcyhhKSYmdGhpcy5jYWNoZWRQb2ludHMuZGVsZXRlKGEpO3RoaXMuY2FjaGVkUG9pbnRzLnNpemU8MiYmKHRoaXMuY2FjaGVkUG9pbnRzLmNsZWFyKCksdGhpcy5wcmV2aW91c1NjYWxlPTApfWdldFRvdWNoUG9pbnQoYSl7cmV0dXJuIHRoaXMuc3RhcnRXb3Jrc3BhY2VfP1xubmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEucGFnZVgsYS5wYWdlWSk6bnVsbH1pc011bHRpVG91Y2goKXtyZXR1cm4gdGhpcy5tdWx0aVRvdWNofWNhbmNlbCgpe2lmKCF0aGlzLmlzRW5kaW5nXyl7bG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO2lmKHRoaXMuZHJhZ2dlcil0aGlzLmRyYWdnZXIub25EcmFnRW5kKHRoaXMubW9zdFJlY2VudEV2ZW50LHRoaXMuY3VycmVudERyYWdEZWx0YVhZKTtlbHNlIHRoaXMud29ya3NwYWNlRHJhZ2dlciYmdGhpcy53b3Jrc3BhY2VEcmFnZ2VyLmVuZERyYWcodGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpO3RoaXMuZGlzcG9zZSgpfX1oYW5kbGVSaWdodENsaWNrKGEpe3RoaXMudGFyZ2V0QmxvY2s/KHRoaXMuYnJpbmdCbG9ja1RvRnJvbnQoKSx0aGlzLnRhcmdldEJsb2NrLndvcmtzcGFjZS5oaWRlQ2hhZmYoISF0aGlzLmZseW91dCksdGhpcy50YXJnZXRCbG9jay5zaG93Q29udGV4dE1lbnUoYSkpOlxudGhpcy5zdGFydEJ1YmJsZT90aGlzLnN0YXJ0QnViYmxlLnNob3dDb250ZXh0TWVudShhKTp0aGlzLnN0YXJ0Q29tbWVudD8odGhpcy5zdGFydENvbW1lbnQud29ya3NwYWNlLmhpZGVDaGFmZigpLHRoaXMuc3RhcnRDb21tZW50LnNob3dDb250ZXh0TWVudShhKSk6dGhpcy5zdGFydFdvcmtzcGFjZV8mJiF0aGlzLmZseW91dCYmKHRoaXMuc3RhcnRXb3Jrc3BhY2VfLmhpZGVDaGFmZigpLCQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzLnN0YXJ0V29ya3NwYWNlXyksdGhpcy5zdGFydFdvcmtzcGFjZV8uc2hvd0NvbnRleHRNZW51KGEpKTthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKTtrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyLnNldElzQWN0aXZlKCExKTt0aGlzLmRpc3Bvc2UoKX1oYW5kbGVXc1N0YXJ0KGEsXG5iKXtpZih0aGlzLmdlc3R1cmVIYXNTdGFydGVkKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLmhhbmRsZVdzU3RhcnQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO3RoaXMuc2V0U3RhcnRXb3Jrc3BhY2UoYik7dGhpcy5tb3N0UmVjZW50RXZlbnQ9YTt0aGlzLnN0YXJ0QmxvY2t8fHRoaXMuc3RhcnRCdWJibGV8fHRoaXMuc3RhcnRDb21tZW50P3RoaXMuc3RhcnRCbG9jayYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKHRoaXMuc3RhcnRCbG9jayk6JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGIpO3RoaXMuZG9TdGFydChhKX1maXJlV29ya3NwYWNlQ2xpY2soYSl7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DTElDSykpKG51bGwsXG5hLmlkLFwid29ya3NwYWNlXCIpKX1oYW5kbGVGbHlvdXRTdGFydChhLGIpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuaGFuZGxlRmx5b3V0U3RhcnQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO3RoaXMuc2V0U3RhcnRGbHlvdXQoYik7dGhpcy5oYW5kbGVXc1N0YXJ0KGEsYi5nZXRXb3Jrc3BhY2UoKSl9aGFuZGxlQmxvY2tTdGFydChhLGIpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuaGFuZGxlQmxvY2tTdGFydCwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7dGhpcy5zZXRTdGFydEJsb2NrKGIpO3RoaXMubW9zdFJlY2VudEV2ZW50PWF9aGFuZGxlQnViYmxlU3RhcnQoYSxiKXtpZih0aGlzLmdlc3R1cmVIYXNTdGFydGVkKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLmhhbmRsZUJ1YmJsZVN0YXJ0LCBidXQgdGhlIGdlc3R1cmUgaGFkIGFscmVhZHkgYmVlbiBzdGFydGVkLlwiKTtcbnRoaXMuc2V0U3RhcnRCdWJibGUoYik7dGhpcy5tb3N0UmVjZW50RXZlbnQ9YX1oYW5kbGVDb21tZW50U3RhcnQoYSxiKXtpZih0aGlzLmdlc3R1cmVIYXNTdGFydGVkKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLmhhbmRsZUNvbW1lbnRTdGFydCwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7dGhpcy5zZXRTdGFydENvbW1lbnQoYik7dGhpcy5tb3N0UmVjZW50RXZlbnQ9YX1kb0ZpZWxkQ2xpY2soKXtpZighdGhpcy5zdGFydEZpZWxkKXRocm93IEVycm9yKFwiQ2Fubm90IGRvIGEgZmllbGQgY2xpY2sgYmVjYXVzZSB0aGUgc3RhcnQgZmllbGQgaXMgdW5kZWZpbmVkXCIpO3RoaXMuYnJpbmdCbG9ja1RvRnJvbnQoKTt0aGlzLmN1cnJlbnREcm9wZG93bk93bmVyIT09dGhpcy5zdGFydEZpZWxkJiZ0aGlzLnN0YXJ0RmllbGQuc2hvd0VkaXRvcih0aGlzLm1vc3RSZWNlbnRFdmVudCl9ZG9JY29uQ2xpY2soKXtpZighdGhpcy5zdGFydEljb24pdGhyb3cgRXJyb3IoXCJDYW5ub3QgZG8gYW4gaWNvbiBjbGljayBiZWNhdXNlIHRoZSBzdGFydCBpY29uIGlzIHVuZGVmaW5lZFwiKTtcbnRoaXMuYnJpbmdCbG9ja1RvRnJvbnQoKTt0aGlzLnN0YXJ0SWNvbi5vbkNsaWNrKCl9ZG9CbG9ja0NsaWNrKCl7aWYodGhpcy5mbHlvdXQmJnRoaXMuZmx5b3V0LmF1dG9DbG9zZSl7aWYoIXRoaXMudGFyZ2V0QmxvY2spdGhyb3cgRXJyb3IoXCJDYW5ub3QgZG8gYSBibG9jayBjbGljayBiZWNhdXNlIHRoZSB0YXJnZXQgYmxvY2sgaXMgdW5kZWZpbmVkXCIpO2lmKHRoaXMuZmx5b3V0LmlzQmxvY2tDcmVhdGFibGUodGhpcy50YXJnZXRCbG9jaykpeyQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dmFyIGE9dGhpcy5mbHlvdXQuY3JlYXRlQmxvY2sodGhpcy50YXJnZXRCbG9jayk7YS5zbmFwVG9HcmlkKCk7YS5idW1wTmVpZ2hib3VycygpOyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShhKX19ZWxzZXtpZighdGhpcy5zdGFydFdvcmtzcGFjZV8pdGhyb3cgRXJyb3IoXCJDYW5ub3QgZG8gYSBibG9jayBjbGljayBiZWNhdXNlIHRoZSBzdGFydCB3b3Jrc3BhY2UgaXMgdW5kZWZpbmVkXCIpO1xuYT1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DTElDSykpKHRoaXMuc3RhcnRCbG9jayx0aGlzLnN0YXJ0V29ya3NwYWNlXy5pZCxcImJsb2NrXCIpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9dGhpcy5icmluZ0Jsb2NrVG9Gcm9udCgpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpfWRvV29ya3NwYWNlQ2xpY2soYSl7dGhpcy5maXJlV29ya3NwYWNlQ2xpY2sodGhpcy5zdGFydFdvcmtzcGFjZV98fHRoaXMuY3JlYXRvcldvcmtzcGFjZSl9YnJpbmdCbG9ja1RvRnJvbnQoKXt0aGlzLnRhcmdldEJsb2NrJiYhdGhpcy5mbHlvdXQmJigkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcy50YXJnZXRCbG9jayksdGhpcy50YXJnZXRCbG9jay5icmluZ1RvRnJvbnQoKSl9c2V0U3RhcnRGaWVsZChhKXtpZih0aGlzLmdlc3R1cmVIYXNTdGFydGVkKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLnNldFN0YXJ0RmllbGQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO1xudGhpcy5zdGFydEZpZWxkfHwodGhpcy5zdGFydEZpZWxkPWEpfXNldFN0YXJ0SWNvbihhKXtpZih0aGlzLmdlc3R1cmVIYXNTdGFydGVkKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLnNldFN0YXJ0SWNvbiwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7dGhpcy5zdGFydEljb258fCh0aGlzLnN0YXJ0SWNvbj1hKX1zZXRTdGFydEJ1YmJsZShhKXt0aGlzLnN0YXJ0QnViYmxlfHwodGhpcy5zdGFydEJ1YmJsZT1hKX1zZXRTdGFydENvbW1lbnQoYSl7dGhpcy5zdGFydENvbW1lbnR8fCh0aGlzLnN0YXJ0Q29tbWVudD1hKX1zZXRTdGFydEJsb2NrKGEpe3RoaXMuc3RhcnRCbG9ja3x8dGhpcy5zdGFydEJ1YmJsZXx8KHRoaXMuc3RhcnRCbG9jaz1hLGEuaXNJbkZseW91dCYmYSE9PWEuZ2V0Um9vdEJsb2NrKCk/dGhpcy5zZXRUYXJnZXRCbG9jayhhLmdldFJvb3RCbG9jaygpKTp0aGlzLnNldFRhcmdldEJsb2NrKGEpKX1zZXRUYXJnZXRCbG9jayhhKXthLmlzU2hhZG93KCk/XG50aGlzLnNldFRhcmdldEJsb2NrKGEuZ2V0UGFyZW50KCkpOih0aGlzLnRhcmdldEJsb2NrPWEsJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpKX1zZXRTdGFydFdvcmtzcGFjZShhKXt0aGlzLnN0YXJ0V29ya3NwYWNlX3x8KHRoaXMuc3RhcnRXb3Jrc3BhY2VfPWEpfXNldFN0YXJ0Rmx5b3V0KGEpe3RoaXMuZmx5b3V0fHwodGhpcy5mbHlvdXQ9YSl9aXNCdWJibGVDbGljaygpe3JldHVybiEhdGhpcy5zdGFydEJ1YmJsZSYmIXRoaXMuaGFzRXhjZWVkZWREcmFnUmFkaXVzfWlzQ29tbWVudENsaWNrKCl7cmV0dXJuISF0aGlzLnN0YXJ0Q29tbWVudCYmIXRoaXMuaGFzRXhjZWVkZWREcmFnUmFkaXVzfWlzQmxvY2tDbGljaygpe3JldHVybiEhdGhpcy5zdGFydEJsb2NrJiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXMmJiF0aGlzLmlzRmllbGRDbGljaygpJiYhdGhpcy5pc0ljb25DbGljaygpfWlzRmllbGRDbGljaygpe3JldHVybiB0aGlzLnN0YXJ0RmllbGQ/XG50aGlzLnN0YXJ0RmllbGQuaXNDbGlja2FibGUoKSYmIXRoaXMuaGFzRXhjZWVkZWREcmFnUmFkaXVzJiYoIXRoaXMuZmx5b3V0fHx0aGlzLnN0YXJ0RmllbGQuaXNDbGlja2FibGVJbkZseW91dCh0aGlzLmZseW91dC5hdXRvQ2xvc2UpKTohMX1pc0ljb25DbGljaygpe2lmKCF0aGlzLnN0YXJ0SWNvbilyZXR1cm4hMTtjb25zdCBhPSF0aGlzLmZseW91dHx8IXRoaXMuc3RhcnRJY29uLmlzQ2xpY2thYmxlSW5GbHlvdXR8fHRoaXMuc3RhcnRJY29uLmlzQ2xpY2thYmxlSW5GbHlvdXQodGhpcy5mbHlvdXQuYXV0b0Nsb3NlKTtyZXR1cm4hdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXMmJmF9aXNXb3Jrc3BhY2VDbGljaygpe3JldHVybiF0aGlzLnN0YXJ0QmxvY2smJiF0aGlzLnN0YXJ0QnViYmxlJiYhdGhpcy5zdGFydEZpZWxkJiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXN9Z2V0Q3VycmVudERyYWdnZXIoKXtsZXQgYSxiO3JldHVybihiPShhPXRoaXMud29ya3NwYWNlRHJhZ2dlcikhPVxubnVsbD9hOnRoaXMuZHJhZ2dlcikhPW51bGw/YjpudWxsfWlzRHJhZ2dpbmcoKXtyZXR1cm4gdGhpcy5kcmFnZ2luZ31oYXNTdGFydGVkKCl7cmV0dXJuIHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWR9c3RhdGljIGluUHJvZ3Jlc3MoKXtjb25zdCBhPWdldEFsbFdvcmtzcGFjZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKTtmb3IobGV0IGI9MCxjO2M9YVtiXTtiKyspaWYoYy5jdXJyZW50R2VzdHVyZV8pcmV0dXJuITA7cmV0dXJuITF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZS5HZXN0dXJlPUdlc3R1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlO3ZhciBHcmlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ3JpZD1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMucGF0dGVybj1hO3RoaXMuc2NhbGU9MTtsZXQgYzt0aGlzLnNwYWNpbmc9KGM9Yi5zcGFjaW5nKSE9bnVsbD9jOjA7bGV0IGQ7dGhpcy5sZW5ndGg9KGQ9Yi5sZW5ndGgpIT1udWxsP2Q6MTt0aGlzLmxpbmUyPSh0aGlzLmxpbmUxPWEuZmlyc3RDaGlsZCkmJnRoaXMubGluZTEubmV4dFNpYmxpbmc7bGV0IGU7dGhpcy5zbmFwVG9HcmlkPShlPWIuc25hcCkhPW51bGw/ZTohMX1zZXRTcGFjaW5nKGEpe3RoaXMuc3BhY2luZz1hO3RoaXMudXBkYXRlKHRoaXMuc2NhbGUpfWdldFNwYWNpbmcoKXtyZXR1cm4gdGhpcy5zcGFjaW5nfXNldExlbmd0aChhKXt0aGlzLmxlbmd0aD1hO3RoaXMudXBkYXRlKHRoaXMuc2NhbGUpfWdldExlbmd0aCgpe3JldHVybiB0aGlzLmxlbmd0aH1zZXRTbmFwVG9HcmlkKGEpe3RoaXMuc25hcFRvR3JpZD1hfXNob3VsZFNuYXAoKXtyZXR1cm4gdGhpcy5zbmFwVG9HcmlkfWdldFBhdHRlcm5JZCgpe3JldHVybiB0aGlzLnBhdHRlcm4uaWR9dXBkYXRlKGEpe3RoaXMuc2NhbGU9XG5hO3ZhciBiPXRoaXMuc3BhY2luZyphO3RoaXMucGF0dGVybi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGAke2J9YCk7dGhpcy5wYXR0ZXJuLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGAke2J9YCk7Yj1NYXRoLmZsb29yKHRoaXMuc3BhY2luZy8yKSsuNTtsZXQgYz1iLXRoaXMubGVuZ3RoLzIsZD1iK3RoaXMubGVuZ3RoLzI7Yio9YTtjKj1hO2QqPWE7dGhpcy5zZXRMaW5lQXR0cmlidXRlcyh0aGlzLmxpbmUxLGEsYyxkLGIsYik7dGhpcy5zZXRMaW5lQXR0cmlidXRlcyh0aGlzLmxpbmUyLGEsYixiLGMsZCl9c2V0TGluZUF0dHJpYnV0ZXMoYSxiLGMsZCxlLGYpe2EmJihhLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLGAke2J9YCksYS5zZXRBdHRyaWJ1dGUoXCJ4MVwiLGAke2N9YCksYS5zZXRBdHRyaWJ1dGUoXCJ5MVwiLGAke2V9YCksYS5zZXRBdHRyaWJ1dGUoXCJ4MlwiLGAke2R9YCksYS5zZXRBdHRyaWJ1dGUoXCJ5MlwiLGAke2Z9YCkpfW1vdmVUbyhhLGIpe3RoaXMucGF0dGVybi5zZXRBdHRyaWJ1dGUoXCJ4XCIsXG5gJHthfWApO3RoaXMucGF0dGVybi5zZXRBdHRyaWJ1dGUoXCJ5XCIsYCR7Yn1gKX1hbGlnblhZKGEpe3ZhciBiPXRoaXMuZ2V0U3BhY2luZygpO2NvbnN0IGM9Yi8yLGQ9TWF0aC5yb3VuZChNYXRoLnJvdW5kKChhLngtYykvYikqYitjKTtiPU1hdGgucm91bmQoTWF0aC5yb3VuZCgoYS55LWMpL2IpKmIrYyk7cmV0dXJuIGQ9PT1hLngmJmI9PT1hLnk/YTpuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoZCxiKX1zdGF0aWMgY3JlYXRlRG9tKGEsYixjLGQpe2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUVEVSTix7aWQ6XCJibG9ja2x5R3JpZFBhdHRlcm5cIithLHBhdHRlcm5Vbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9LGMpO2xldCBlLGY7aWYoKChlPWIubGVuZ3RoKSE9bnVsbD9lOjEpPjAmJigoZj1iLnNwYWNpbmcpIT1udWxsP1xuZjowKT4wKXtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5MSU5FLHtzdHJva2U6Yi5jb2xvdXJ9LGEpO2xldCBnOyhnPWIubGVuZ3RoKSE9bnVsbCYmZyYmY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuTElORSx7c3Ryb2tlOmIuY29sb3VyfSxhKX1lbHNlIGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkxJTkUse30sYSk7ZCYmZC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYmxvY2tseUdyaWRQYXR0ZXJuXCIsYHVybCgjJHthLmlkfSlgKTtyZXR1cm4gYX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRncmlkPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdyaWQuR3JpZD1HcmlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ3JpZDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9hdXRvaGlkZWFibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9hdXRvaGlkZWFibGUuaXNBdXRvSGlkZWFibGU9aXNBdXRvSGlkZWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfYXV0b2hpZGVhYmxlO3ZhciBMYXllck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcl9tYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5sYXllcnM9bmV3IE1hcDtpZihhPWEuZ2V0SW5qZWN0aW9uRGl2KCkpdGhpcy5kcmFnTGF5ZXI9dGhpcy5jcmVhdGVEcmFnTGF5ZXIoYSksdGhpcy5hbmltYXRpb25MYXllcj10aGlzLmNyZWF0ZUFuaW1hdGlvbkxheWVyKGEpO2E9dGhpcy5jcmVhdGVMYXllcihCTE9DSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlCbG9ja0NhbnZhc1wiKTthPXRoaXMuY3JlYXRlTGF5ZXIoQlVCQkxFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseUJ1YmJsZUNhbnZhc1wiKX1jcmVhdGVEcmFnTGF5ZXIoYSl7Y29uc3QgYj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5TVkcsXG57XCJjbGFzc1wiOlwiYmxvY2tseUJsb2NrRHJhZ1N1cmZhY2VcIix4bWxuczpTVkdfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bWxuczpodG1sXCI6SFRNTF9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhtbG5zOnhsaW5rXCI6WExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sdmVyc2lvbjpcIjEuMVwifSk7YS5hcHBlbmQoYik7cmV0dXJuIGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse30sYil9Y3JlYXRlQW5pbWF0aW9uTGF5ZXIoYSl7Y29uc3QgYj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5TVkcse1wiY2xhc3NcIjpcImJsb2NrbHlBbmltYXRpb25MYXllclwiLHhtbG5zOlNWR19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcblwieG1sbnM6aHRtbFwiOkhUTUxfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bWxuczp4bGlua1wiOlhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHZlcnNpb246XCIxLjFcIn0pO2EuYXBwZW5kKGIpO3JldHVybiBjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHt9LGIpfWFwcGVuZFRvQW5pbWF0aW9uTGF5ZXIoYSl7bGV0IGI7Y29uc3QgYz0oYj10aGlzLmRyYWdMYXllcik9PW51bGw/dm9pZCAwOmIuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpO2lmKGMpe2xldCBlOyhlPXRoaXMuYW5pbWF0aW9uTGF5ZXIpPT1udWxsfHxlLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGMpfWxldCBkOyhkPXRoaXMuYW5pbWF0aW9uTGF5ZXIpPT1udWxsfHxkLmFwcGVuZENoaWxkKGEuZ2V0U3ZnUm9vdCgpKX10cmFuc2xhdGVMYXllcnMoYSxiKXthPVxuYHRyYW5zbGF0ZSgke2EueH0sICR7YS55fSkgc2NhbGUoJHtifSlgO2xldCBjOyhjPXRoaXMuZHJhZ0xheWVyKT09bnVsbHx8Yy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixhKTtmb3IoY29uc3QgWyxkXW9mIHRoaXMubGF5ZXJzKWQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYSl9bW92ZVRvRHJhZ0xheWVyKGEpe2xldCBiOyhiPXRoaXMuZHJhZ0xheWVyKT09bnVsbHx8Yi5hcHBlbmRDaGlsZChhLmdldFN2Z1Jvb3QoKSk7YS5jYW5CZUZvY3VzZWQoKSYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpfW1vdmVPZmZEcmFnTGF5ZXIoYSxiKXt0aGlzLmFwcGVuZChhLGIpO2EuY2FuQmVGb2N1c2VkKCkmJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShhKX1hcHBlbmQoYSxiKXt0aGlzLmxheWVycy5oYXMoYil8fHRoaXMuY3JlYXRlTGF5ZXIoYik7XG5hPWEuZ2V0U3ZnUm9vdCgpO2xldCBjO2lmKCgoYz10aGlzLmxheWVycy5nZXQoYikpPT1udWxsP3ZvaWQgMDpjLmxhc3RDaGlsZCkhPT1hKXtsZXQgZDsoZD10aGlzLmxheWVycy5nZXQoYikpPT1udWxsfHxkLmFwcGVuZENoaWxkKGEpfX1jcmVhdGVMYXllcihhKXtjb25zdCBiPXRoaXMud29ya3NwYWNlLmdldFN2Z0dyb3VwKCksYz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHt9KTtsZXQgZD0hMTtjb25zdCBlPVsuLi50aGlzLmxheWVyc10uc29ydCgoZixnKT0+ZlswXS1nWzBdKTtmb3IoY29uc3QgW2YsZ11vZiBlKWlmKGE8Zil7Yi5pbnNlcnRCZWZvcmUoYyxnKTtkPSEwO2JyZWFrfWR8fGIuYXBwZW5kQ2hpbGQoYyk7dGhpcy5sYXllcnMuc2V0KGEsYyk7cmV0dXJuIGN9aGFzTGF5ZXIoYSl7cmV0dXJuIGE9PT10aGlzLmRyYWdMYXllcnx8KG5ldyBTZXQodGhpcy5sYXllcnMudmFsdWVzKCkpKS5oYXMoYSl9Z2V0QmxvY2tMYXllcigpe3JldHVybiB0aGlzLmxheWVycy5nZXQoQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpfWdldEJ1YmJsZUxheWVyKCl7cmV0dXJuIHRoaXMubGF5ZXJzLmdldChCVUJCTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpfX0sXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJfbWFuYWdlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJfbWFuYWdlci5MYXllck1hbmFnZXI9TGF5ZXJNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJfbWFuYWdlcjt2YXIgTWFya2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JG1hcmtlcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuY3VyTm9kZT10aGlzLmNvbG91cj1udWxsO3RoaXMudHlwZT1cIm1hcmtlclwifWdldEN1ck5vZGUoKXtyZXR1cm4gdGhpcy5jdXJOb2RlfXNldEN1ck5vZGUoYSl7dGhpcy5jdXJOb2RlPWF9ZGlzcG9zZSgpe3RoaXMuY3VyTm9kZT1udWxsfWdldFNvdXJjZUJsb2NrRnJvbU5vZGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz9hOmEgaW5zdGFuY2VvZiBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkfHxhIGluc3RhbmNlb2YgUmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbj9hLmdldFNvdXJjZUJsb2NrKCk6bnVsbH1nZXRTb3VyY2VCbG9jaygpe3JldHVybiB0aGlzLmdldFNvdXJjZUJsb2NrRnJvbU5vZGUodGhpcy5nZXRDdXJOb2RlKCkpfX0sXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JG1hcmtlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JG1hcmtlci5NYXJrZXI9TWFya2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JG1hcmtlcjt2YXIgTGluZUN1cnNvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRsaW5lX2N1cnNvcj1jbGFzcyBleHRlbmRzIE1hcmtlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRtYXJrZXJ7Y29uc3RydWN0b3IoYSl7c3VwZXIoKTt0aGlzLndvcmtzcGFjZT1hO3RoaXMudHlwZT1cImN1cnNvclwiO3RoaXMucG90ZW50aWFsTm9kZXM9bnVsbH1uZXh0KCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuIG51bGw7KGE9dGhpcy5nZXROZXh0Tm9kZShhLGI9PntsZXQgYztyZXR1cm4gYiBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnJiYhKChjPWIub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/MDpjLnRhcmdldEJsb2NrKCkpfHxiIGluc3RhbmNlb2YgUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnR9LFxuITApKSYmdGhpcy5zZXRDdXJOb2RlKGEpO3JldHVybiBhfWluKCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuIG51bGw7KGE9dGhpcy5nZXROZXh0Tm9kZShhLCgpPT4hMCwhMCkpJiZ0aGlzLnNldEN1ck5vZGUoYSk7cmV0dXJuIGF9cHJldigpe3ZhciBhPXRoaXMuZ2V0Q3VyTm9kZSgpO2lmKCFhKXJldHVybiBudWxsOyhhPXRoaXMuZ2V0UHJldmlvdXNOb2RlKGEsYj0+e2xldCBjO3JldHVybiBiIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcmJiEoKGM9Yi5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD8wOmMudGFyZ2V0QmxvY2soKSl8fGIgaW5zdGFuY2VvZiBSZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudH0sITApKSYmdGhpcy5zZXRDdXJOb2RlKGEpO3JldHVybiBhfW91dCgpe3ZhciBhPXRoaXMuZ2V0Q3VyTm9kZSgpO1xuaWYoIWEpcmV0dXJuIG51bGw7KGE9dGhpcy5nZXRQcmV2aW91c05vZGUoYSwoKT0+ITAsITApKSYmdGhpcy5zZXRDdXJOb2RlKGEpO3JldHVybiBhfWF0RW5kT2ZMaW5lKCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuITE7Y29uc3QgYj10aGlzLmdldE5leHROb2RlKGEsKCk9PiEwLCEwKTthPXRoaXMuZ2V0TmV4dE5vZGUoYSxjPT57bGV0IGQ7cmV0dXJuIGMgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZyYmISgoZD1jLm91dHB1dENvbm5lY3Rpb24pPT1udWxsPzA6ZC50YXJnZXRCbG9jaygpKX0sITApO3JldHVybiBiPT09YX1nZXROZXh0Tm9kZUltcGwoYSxiLGM9bmV3IFNldCl7aWYoIWF8fGMuaGFzKGEpKXJldHVybiBudWxsO2xldCBkPXRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldEZpcnN0Q2hpbGQoYSl8fHRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldE5leHRTaWJsaW5nKGEpO2Zvcih2YXIgZT1cbmE7ZSYmIWQ7KXtlPXRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldFBhcmVudChlKTtpZighZSlicmVhaztkPXRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldE5leHRTaWJsaW5nKGUpfXJldHVybiBiKGQpP2Q6ZD8oYy5hZGQoYSksdGhpcy5nZXROZXh0Tm9kZUltcGwoZCxiLGMpKTpudWxsfWdldE5leHROb2RlKGEsYixjKXtyZXR1cm4hYXx8IWMmJnRoaXMuZ2V0TGFzdE5vZGUoKT09PWE/bnVsbDp0aGlzLmdldE5leHROb2RlSW1wbChhLGIpfWdldFByZXZpb3VzTm9kZUltcGwoYSxiLGM9bmV3IFNldCl7aWYoIWF8fGMuaGFzKGEpKXJldHVybiBudWxsO2NvbnN0IGQ9dGhpcy5nZXRSaWdodE1vc3RDaGlsZCh0aGlzLndvcmtzcGFjZS5nZXROYXZpZ2F0b3IoKS5nZXRQcmV2aW91c1NpYmxpbmcoYSksYSl8fHRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldFBhcmVudChhKTtyZXR1cm4gYihkKT9kOmQ/KGMuYWRkKGEpLHRoaXMuZ2V0UHJldmlvdXNOb2RlSW1wbChkLFxuYixjKSk6bnVsbH1nZXRQcmV2aW91c05vZGUoYSxiLGMpe3JldHVybiFhfHwhYyYmdGhpcy5nZXRGaXJzdE5vZGUoKT09PWE/bnVsbDp0aGlzLmdldFByZXZpb3VzTm9kZUltcGwoYSxiKX1nZXRSaWdodE1vc3RDaGlsZChhLGIpe2lmKCFhKXJldHVybiBhO2xldCBjPXRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldEZpcnN0Q2hpbGQoYSk7aWYoIWN8fGM9PT1iKXJldHVybiBhO2ZvcihhPWM7YSYmYSE9PWI7YT10aGlzLndvcmtzcGFjZS5nZXROYXZpZ2F0b3IoKS5nZXROZXh0U2libGluZyhjKSljPWE7cmV0dXJuIHRoaXMuZ2V0UmlnaHRNb3N0Q2hpbGQoYyxiKX1wcmVEZWxldGUoYSl7dmFyIGI9dGhpcy5nZXRDdXJOb2RlKCk7Yj1iP1tiXTpbXTt2YXIgYztsZXQgZCxlO2NvbnN0IGY9KGU9KGM9YS5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpjLnRhcmdldENvbm5lY3Rpb24pIT1udWxsP2U6KGQ9YS5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6XG5kLnRhcmdldENvbm5lY3Rpb247ZiYmYi5wdXNoKGYpOyhjPWEuZ2V0TmV4dEJsb2NrKCkpJiZiLnB1c2goYyk7KGE9YS5nZXRQYXJlbnQoKSkmJmIucHVzaChhKTtiLnB1c2godGhpcy53b3Jrc3BhY2UpO3RoaXMucG90ZW50aWFsTm9kZXM9Yn1wb3N0RGVsZXRlKCl7Y29uc3QgYT10aGlzLnBvdGVudGlhbE5vZGVzO3RoaXMucG90ZW50aWFsTm9kZXM9bnVsbDtpZighYSl0aHJvdyBFcnJvcihcIm11c3QgY2FsbCBwcmVEZWxldGUgZmlyc3RcIik7Zm9yKGNvbnN0IGIgb2YgYSl7bGV0IGM7aWYoKGM9dGhpcy5nZXRTb3VyY2VCbG9ja0Zyb21Ob2RlKGIpKT09bnVsbHx8IWMuZGlzcG9zZWQpe3RoaXMuc2V0Q3VyTm9kZShiKTtyZXR1cm59fXRocm93IEVycm9yKFwibm8gdmFsaWQgbm9kZXMgaW4gdGhpcy5wb3RlbnRpYWxOb2Rlc1wiKTt9Z2V0Q3VyTm9kZSgpe3JldHVybiAkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpfXNldEN1ck5vZGUoYSl7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpfWdldEZpcnN0Tm9kZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZS5nZXROYXZpZ2F0b3IoKS5nZXRGaXJzdENoaWxkKHRoaXMud29ya3NwYWNlKX1nZXRMYXN0Tm9kZSgpe2NvbnN0IGE9XG50aGlzLmdldEZpcnN0Tm9kZSgpO3JldHVybiB0aGlzLmdldFByZXZpb3VzTm9kZShhLCgpPT4hMCwhMCl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5DVVJTT1IsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LExpbmVDdXJzb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbGluZV9jdXJzb3IpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGxpbmVfY3Vyc29yPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbGluZV9jdXJzb3IuTGluZUN1cnNvcj1MaW5lQ3Vyc29yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGxpbmVfY3Vyc29yO3ZhciBNYXJrZXJNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWFya2VyX21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLm1hcmtlcnM9bmV3IE1hcDt0aGlzLmN1cnNvcj1uZXcgTGluZUN1cnNvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRsaW5lX2N1cnNvcih0aGlzLndvcmtzcGFjZSl9cmVnaXN0ZXJNYXJrZXIoYSxiKXt0aGlzLm1hcmtlcnMuaGFzKGEpJiZ0aGlzLnVucmVnaXN0ZXJNYXJrZXIoYSk7dGhpcy5tYXJrZXJzLnNldChhLGIpfXVucmVnaXN0ZXJNYXJrZXIoYSl7Y29uc3QgYj10aGlzLm1hcmtlcnMuZ2V0KGEpO2lmKGIpYi5kaXNwb3NlKCksdGhpcy5tYXJrZXJzLmRlbGV0ZShhKTtlbHNlIHRocm93IEVycm9yKFwiTWFya2VyIHdpdGggSUQgXCIrYStcIiBkb2VzIG5vdCBleGlzdC4gQ2FuIG9ubHkgdW5yZWdpc3RlciBtYXJrZXJzIHRoYXQgZXhpc3QuXCIpO31nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5jdXJzb3J9Z2V0TWFya2VyKGEpe3JldHVybiB0aGlzLm1hcmtlcnMuZ2V0KGEpfHxcbm51bGx9c2V0Q3Vyc29yKGEpe3RoaXMuY3Vyc29yPWF9ZGlzcG9zZSgpe2NvbnN0IGE9T2JqZWN0LmtleXModGhpcy5tYXJrZXJzKTtmb3IobGV0IGI9MCxjO2M9YVtiXTtiKyspdGhpcy51bnJlZ2lzdGVyTWFya2VyKGMpO3RoaXMubWFya2Vycy5jbGVhcigpO3RoaXMuY3Vyc29yLmRpc3Bvc2UoKX19O01hcmtlck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtYXJrZXJfbWFuYWdlci5MT0NBTF9NQVJLRVI9XCJsb2NhbF9tYXJrZXJfMVwiO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWFya2VyX21hbmFnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1hcmtlcl9tYW5hZ2VyLk1hcmtlck1hbmFnZXI9TWFya2VyTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1hcmtlcl9tYW5hZ2VyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLkNvbW1lbnRJY29uPUNvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uO21vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucy5JY29uPUljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uO21vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucy5JY29uVHlwZT1JY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLk11dGF0b3JJY29uPSQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLldhcm5pbmdJY29uPVdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLmV4Y2VwdGlvbnM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGV4Y2VwdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLnJlZ2lzdHJ5PW1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRyZWdpc3RyeTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2s9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2suaXNQcm9jZWR1cmVCbG9jaz1pc1Byb2NlZHVyZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jazskLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXM9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmRiPW5ldyBNYXA7dGhpcy5kYlJldmVyc2U9bmV3IFNldDt0aGlzLnZhcmlhYmxlTWFwPW51bGw7dGhpcy52YXJpYWJsZVByZWZpeD1ifHxcIlwiO3RoaXMucmVzZXJ2ZWRXb3Jkcz1uZXcgU2V0KGE/YS5zcGxpdChcIixcIik6W10pfXJlc2V0KCl7dGhpcy5kYi5jbGVhcigpO3RoaXMuZGJSZXZlcnNlLmNsZWFyKCk7dGhpcy52YXJpYWJsZU1hcD1udWxsfXNldFZhcmlhYmxlTWFwKGEpe3RoaXMudmFyaWFibGVNYXA9YX1nZXROYW1lRm9yVXNlclZhcmlhYmxlKGEpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwPyhhPXRoaXMudmFyaWFibGVNYXAuZ2V0VmFyaWFibGVCeUlkKGEpKT9hLmdldE5hbWUoKTpudWxsOihjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkIGNhbGwgdG8gTmFtZXMucHJvdG90eXBlLmdldE5hbWUgd2l0aG91dCBkZWZpbmluZyBhIHZhcmlhYmxlIG1hcC4gVG8gZml4LCBhZGQgdGhlIGZvbGxvd2luZyBjb2RlIGluIHlvdXIgZ2VuZXJhdG9yJ3MgaW5pdCgpIGZ1bmN0aW9uOlxcbkJsb2NrbHkuWW91ckdlbmVyYXRvck5hbWUubmFtZURCXy5zZXRWYXJpYWJsZU1hcCh3b3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKSk7XCIpLFxubnVsbCl9cG9wdWxhdGVWYXJpYWJsZXMoYSl7YT0kLmFsbFVzZWRWYXJNb2RlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSk7Zm9yKGxldCBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5nZXROYW1lKGFbYl0uZ2V0SWQoKSwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpfXBvcHVsYXRlUHJvY2VkdXJlcyhhKXt0aHJvdyBFcnJvcihcIlRoZSBpbXBsZW1lbnRhdGlvbiBvZiBwb3B1bGF0ZVByb2NlZHVyZXMgc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7fWdldE5hbWUoYSxiKXtsZXQgYz1hO2I9PT0kLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUmJihhPXRoaXMuZ2V0TmFtZUZvclVzZXJWYXJpYWJsZShhKSkmJihjPWEpO2E9Yy50b0xvd2VyQ2FzZSgpO2NvbnN0IGQ9Yj09PSQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRXx8XG5iPT09JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLkRFVkVMT1BFUl9WQVJJQUJMRT90aGlzLnZhcmlhYmxlUHJlZml4OlwiXCI7dGhpcy5kYi5oYXMoYil8fHRoaXMuZGIuc2V0KGIsbmV3IE1hcCk7Y29uc3QgZT10aGlzLmRiLmdldChiKTtpZihlLmhhcyhhKSlyZXR1cm4gZCtlLmdldChhKTtiPXRoaXMuZ2V0RGlzdGluY3ROYW1lKGMsYik7ZS5zZXQoYSxiLnN1YnN0cihkLmxlbmd0aCkpO3JldHVybiBifWdldFVzZXJOYW1lcyhhKXtsZXQgYjtyZXR1cm4oYT0oYj10aGlzLmRiLmdldChhKSk9PW51bGw/dm9pZCAwOmIua2V5cygpKT9BcnJheS5mcm9tKGEpOltdfWdldERpc3RpbmN0TmFtZShhLGIpe2E9dGhpcy5zYWZlTmFtZShhKTtsZXQgYz1udWxsLGQsZTtmb3IoO3RoaXMuZGJSZXZlcnNlLmhhcyhhKygoZD1jKSE9bnVsbD9kOlwiXCIpKXx8dGhpcy5yZXNlcnZlZFdvcmRzLmhhcyhhKygoZT1jKSE9bnVsbD9lOlwiXCIpKTspYz1jP2MrMToyO2xldCBmO2ErPShmPVxuYykhPW51bGw/ZjpcIlwiO3RoaXMuZGJSZXZlcnNlLmFkZChhKTtyZXR1cm4oYj09PSQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRXx8Yj09PSQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5ERVZFTE9QRVJfVkFSSUFCTEU/dGhpcy52YXJpYWJsZVByZWZpeDpcIlwiKSthfXNhZmVOYW1lKGEpe2E/KGE9ZW5jb2RlVVJJKGEucmVwbGFjZSgvIC9nLFwiX1wiKSkucmVwbGFjZSgvW15cXHddL2csXCJfXCIpLFwiMDEyMzQ1Njc4OVwiLmluY2x1ZGVzKGFbMF0pJiYoYT1cIm15X1wiK2EpKTphPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlVOTkFNRURfS0VZfHxcInVubmFtZWRcIjtyZXR1cm4gYX1zdGF0aWMgZXF1YWxzKGEsYil7cmV0dXJuIGEudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX19O1xuKGZ1bmN0aW9uKGEpe2E9YS5OYW1lVHlwZXx8KGEuTmFtZVR5cGU9e30pO2EuREVWRUxPUEVSX1ZBUklBQkxFPVwiREVWRUxPUEVSX1ZBUklBQkxFXCI7YS5WQVJJQUJMRT1cIlZBUklBQkxFXCI7YS5QUk9DRURVUkU9XCJQUk9DRURVUkVcIn0pKCQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lc3x8KCQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcz17fSkpOyQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcz0kLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuTmFtZVR5cGU7JC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLkRFVkVMT1BFUl9WQVJJQUJMRV9UWVBFPSQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5ERVZFTE9QRVJfVkFSSUFCTEU7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcz17TmFtZVR5cGU6JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzfTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5OYW1lcz0kLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfb2JzZXJ2YWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX29ic2VydmFibGUuaXNPYnNlcnZhYmxlPWlzT2JzZXJ2YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9vYnNlcnZhYmxlO3ZhciBPYnNlcnZhYmxlUHJvY2VkdXJlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb2JzZXJ2YWJsZV9wcm9jZWR1cmVfbWFwPWNsYXNzIGV4dGVuZHMgTWFwe2NvbnN0cnVjdG9yKCl7c3VwZXIoKX1zZXQoYSxiKXtpZih0aGlzLmdldChhKT09PWIpcmV0dXJuIHRoaXM7c3VwZXIuc2V0KGEsYik7aXNPYnNlcnZhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX29ic2VydmFibGUoYikmJmIuc3RhcnRQdWJsaXNoaW5nKCk7cmV0dXJuIHRoaXN9ZGVsZXRlKGEpe2NvbnN0IGI9dGhpcy5nZXQoYSk7YT1zdXBlci5kZWxldGUoYSk7aWYoIWEpcmV0dXJuIGE7aXNPYnNlcnZhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX29ic2VydmFibGUoYikmJmIuc3RvcFB1Ymxpc2hpbmcoKTtyZXR1cm4gYX1jbGVhcigpe2lmKHRoaXMuc2l6ZSlmb3IoY29uc3QgYSBvZiB0aGlzLmtleXMoKSl0aGlzLmRlbGV0ZShhKX1hZGQoYSl7cmV0dXJuIHRoaXMuc2V0KGEuZ2V0SWQoKSxcbmEpfWdldFByb2NlZHVyZXMoKXtyZXR1cm5bLi4udGhpcy52YWx1ZXMoKV19fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb2JzZXJ2YWJsZV9wcm9jZWR1cmVfbWFwPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRvYnNlcnZhYmxlX3Byb2NlZHVyZV9tYXAuT2JzZXJ2YWJsZVByb2NlZHVyZU1hcD1PYnNlcnZhYmxlUHJvY2VkdXJlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb2JzZXJ2YWJsZV9wcm9jZWR1cmVfbWFwO3ZhciBDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcztDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1cIlBST0NFRFVSRVwiOyQuREVGQVVMVF9BUkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPVwieFwiO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPXtDQVRFR09SWV9OQU1FOkNBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLERFRkFVTFRfQVJHOiQuREVGQVVMVF9BUkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5PYnNlcnZhYmxlUHJvY2VkdXJlTWFwPU9ic2VydmFibGVQcm9jZWR1cmVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvYnNlcnZhYmxlX3Byb2NlZHVyZV9tYXA7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5hbGxQcm9jZWR1cmVzPWFsbFByb2NlZHVyZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLmZpbmRMZWdhbE5hbWU9JC5maW5kTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5mbHlvdXRDYXRlZ29yeT1mbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMuZ2V0Q2FsbGVycz1nZXRDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5nZXREZWZpbml0aW9uPSQuZ2V0RGVmaW5pdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5pbnRlcm5hbEZseW91dENhdGVnb3J5PWludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLmlzTmFtZVVzZWQ9aXNOYW1lVXNlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMuaXNQcm9jZWR1cmVCbG9jaz1pc1Byb2NlZHVyZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jazttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5tdXRhdGVDYWxsZXJzPSQubXV0YXRlQ2FsbGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMubXV0YXRvck9wZW5MaXN0ZW5lcj1tdXRhdG9yT3Blbkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLnJlbmFtZT0kLnJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7dmFyIFR5cGVzQ29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5OT05FPTA7dGhpcy5GSUVMRD0xO3RoaXMuSEFUPTI7dGhpcy5JQ09OPTQ7dGhpcy5TUEFDRVI9ODt0aGlzLkJFVFdFRU5fUk9XX1NQQUNFUj0xNjt0aGlzLklOX1JPV19TUEFDRVI9MzI7dGhpcy5FWFRFUk5BTF9WQUxVRV9JTlBVVD02NDt0aGlzLklOUFVUPTEyODt0aGlzLklOTElORV9JTlBVVD0yNTY7dGhpcy5TVEFURU1FTlRfSU5QVVQ9NTEyO3RoaXMuQ09OTkVDVElPTj0xMDI0O3RoaXMuUFJFVklPVVNfQ09OTkVDVElPTj0yMDQ4O3RoaXMuTkVYVF9DT05ORUNUSU9OPTQwOTY7dGhpcy5PVVRQVVRfQ09OTkVDVElPTj04MTkyO3RoaXMuQ09STkVSPTE2Mzg0O3RoaXMuTEVGVF9TUVVBUkVfQ09STkVSPTMyNzY4O3RoaXMuTEVGVF9ST1VORF9DT1JORVI9NjU1MzY7dGhpcy5SSUdIVF9TUVVBUkVfQ09STkVSPTEzMTA3MjtcbnRoaXMuUklHSFRfUk9VTkRfQ09STkVSPTI2MjE0NDt0aGlzLkpBR0dFRF9FREdFPTUyNDI4ODt0aGlzLlJPVz0xMDQ4NTc2O3RoaXMuVE9QX1JPVz0yMDk3MTUyO3RoaXMuQk9UVE9NX1JPVz00MTk0MzA0O3RoaXMuSU5QVVRfUk9XPTgzODg2MDg7dGhpcy5MRUZUX0NPUk5FUj10aGlzLkxFRlRfU1FVQVJFX0NPUk5FUnx0aGlzLkxFRlRfUk9VTkRfQ09STkVSO3RoaXMuUklHSFRfQ09STkVSPXRoaXMuUklHSFRfU1FVQVJFX0NPUk5FUnx0aGlzLlJJR0hUX1JPVU5EX0NPUk5FUjt0aGlzLm5leHRUeXBlVmFsdWVfPTE2Nzc3MjE2fWdldFR5cGUoYSl7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsYSl8fCh0aGlzW2FdPXRoaXMubmV4dFR5cGVWYWx1ZV8sdGhpcy5uZXh0VHlwZVZhbHVlXzw8PTEpO3JldHVybiB0aGlzW2FdfWlzRmllbGQoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLkZJRUxEKT49MX1pc0hhdChhKXtyZXR1cm4oYS50eXBlJnRoaXMuSEFUKT49MX1pc0ljb24oYSl7cmV0dXJuKGEudHlwZSZcbnRoaXMuSUNPTik+PTF9aXNTcGFjZXIoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLlNQQUNFUik+PTF9aXNJblJvd1NwYWNlcihhKXtyZXR1cm4oYS50eXBlJnRoaXMuSU5fUk9XX1NQQUNFUik+PTF9aXNTcGFjZXJSb3coYSl7cmV0dXJuKGEudHlwZSZ0aGlzLkJFVFdFRU5fUk9XX1NQQUNFUik+PTF9aXNJbnB1dChhKXtyZXR1cm4oYS50eXBlJnRoaXMuSU5QVVQpPj0xfWlzRXh0ZXJuYWxJbnB1dChhKXtyZXR1cm4oYS50eXBlJnRoaXMuRVhURVJOQUxfVkFMVUVfSU5QVVQpPj0xfWlzSW5saW5lSW5wdXQoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLklOTElORV9JTlBVVCk+PTF9aXNTdGF0ZW1lbnRJbnB1dChhKXtyZXR1cm4oYS50eXBlJnRoaXMuU1RBVEVNRU5UX0lOUFVUKT49MX1pc1ByZXZpb3VzQ29ubmVjdGlvbihhKXtyZXR1cm4oYS50eXBlJnRoaXMuUFJFVklPVVNfQ09OTkVDVElPTik+PTF9aXNOZXh0Q29ubmVjdGlvbihhKXtyZXR1cm4oYS50eXBlJnRoaXMuTkVYVF9DT05ORUNUSU9OKT49XG4xfWlzUHJldmlvdXNPck5leHRDb25uZWN0aW9uKGEpe3JldHVybiB0aGlzLmlzUHJldmlvdXNDb25uZWN0aW9uKGEpfHx0aGlzLmlzTmV4dENvbm5lY3Rpb24oYSl9aXNSb3VuZENvcm5lcihhKXtyZXR1cm4oYS50eXBlJnRoaXMuTEVGVF9ST1VORF9DT1JORVIpPj0xfHwoYS50eXBlJnRoaXMuUklHSFRfUk9VTkRfQ09STkVSKT49MX1pc0xlZnRSb3VuZGVkQ29ybmVyKGEpe3JldHVybiB0aGlzLmlzUm91bmRDb3JuZXIoYSkmJihhLnR5cGUmdGhpcy5MRUZUX1JPVU5EX0NPUk5FUik+PTF9aXNSaWdodFJvdW5kZWRDb3JuZXIoYSl7cmV0dXJuIHRoaXMuaXNSb3VuZENvcm5lcihhKSYmKGEudHlwZSZ0aGlzLlJJR0hUX1JPVU5EX0NPUk5FUik+PTF9aXNMZWZ0U3F1YXJlQ29ybmVyKGEpe3JldHVybihhLnR5cGUmdGhpcy5MRUZUX1NRVUFSRV9DT1JORVIpPj0xfWlzUmlnaHRTcXVhcmVDb3JuZXIoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLlJJR0hUX1NRVUFSRV9DT1JORVIpPj0xfWlzQ29ybmVyKGEpe3JldHVybihhLnR5cGUmXG50aGlzLkNPUk5FUik+PTF9aXNKYWdnZWRFZGdlKGEpe3JldHVybihhLnR5cGUmdGhpcy5KQUdHRURfRURHRSk+PTF9aXNSb3coYSl7cmV0dXJuKGEudHlwZSZ0aGlzLlJPVyk+PTF9aXNCZXR3ZWVuUm93U3BhY2VyKGEpe3JldHVybihhLnR5cGUmdGhpcy5CRVRXRUVOX1JPV19TUEFDRVIpPj0xfWlzVG9wUm93KGEpe3JldHVybihhLnR5cGUmdGhpcy5UT1BfUk9XKT49MX1pc0JvdHRvbVJvdyhhKXtyZXR1cm4oYS50eXBlJnRoaXMuQk9UVE9NX1JPVyk+PTF9aXNUb3BPckJvdHRvbVJvdyhhKXtyZXR1cm4gdGhpcy5pc1RvcFJvdyhhKXx8dGhpcy5pc0JvdHRvbVJvdyhhKX1pc0lucHV0Um93KGEpe3JldHVybihhLnR5cGUmdGhpcy5JTlBVVF9ST1cpPj0xfX0sVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXM9bmV3IFR5cGVzQ29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXM9XG57VHlwZXM6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXN9O3ZhciBNZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2U9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5jZW50ZXJsaW5lPXRoaXMueFBvcz10aGlzLmhlaWdodD10aGlzLndpZHRoPTA7dGhpcy5jb25zdGFudHNfPWE7dGhpcy50eXBlPVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLk5PTkU7dGhpcy5ub3RjaE9mZnNldD10aGlzLmNvbnN0YW50c18uTk9UQ0hfT0ZGU0VUX0xFRlR9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNlLk1lYXN1cmFibGU9TWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNlO3ZhciBSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm93PWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuZWxlbWVudHM9W107dGhpcy54UG9zPXRoaXMueVBvcz10aGlzLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcz10aGlzLm1pbldpZHRoPXRoaXMubWluSGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5oZWlnaHQ9MDt0aGlzLmhhc1N0YXRlbWVudD10aGlzLmhhc0V4dGVybmFsSW5wdXQ9ITE7dGhpcy5zdGF0ZW1lbnRFZGdlPTA7dGhpcy5oYXNKYWdnZWRFZGdlPXRoaXMuaGFzRHVtbXlJbnB1dD10aGlzLmhhc0lubGluZUlucHV0PSExO3RoaXMuYWxpZ249bnVsbDt0aGlzLmNvbnN0YW50c189YTt0aGlzLnR5cGU9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuUk9XO3RoaXMubm90Y2hPZmZzZXQ9dGhpcy5jb25zdGFudHNfLk5PVENIX09GRlNFVF9MRUZUfWdldExhc3RJbnB1dCgpe2ZvcihsZXQgYT1cbnRoaXMuZWxlbWVudHMubGVuZ3RoLTE7YT49MDthLS0pe2NvbnN0IGI9dGhpcy5lbGVtZW50c1thXTtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGIpKXJldHVybiBifXJldHVybiBudWxsfW1lYXN1cmUoKXt0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgYXR0ZW1wdCB0byBtZWFzdXJlIGEgYmFzZSBSb3cuXCIpO31zdGFydHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiEwfWVuZHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiEwfWdldEZpcnN0U3BhY2VyKCl7Zm9yKGxldCBhPTA7YTx0aGlzLmVsZW1lbnRzLmxlbmd0aDthKyspe2NvbnN0IGI9dGhpcy5lbGVtZW50c1thXTtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0luUm93U3BhY2VyKGIpKXJldHVybiBifXJldHVybiBudWxsfWdldExhc3RTcGFjZXIoKXtmb3IobGV0IGE9dGhpcy5lbGVtZW50cy5sZW5ndGgtXG4xO2E+PTA7YS0tKXtjb25zdCBiPXRoaXMuZWxlbWVudHNbYV07aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJblJvd1NwYWNlcihiKSlyZXR1cm4gYn1yZXR1cm4gbnVsbH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm93PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm93LlJvdz1Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm93O3ZhciBCb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdz1jbGFzcyBleHRlbmRzIFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3d7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy5oYXNOZXh0Q29ubmVjdGlvbj0hMTt0aGlzLmNvbm5lY3Rpb249bnVsbDt0aGlzLmJhc2VsaW5lPXRoaXMuZGVzY2VuZGVySGVpZ2h0PTA7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5CT1RUT01fUk9XfWhhc0xlZnRTcXVhcmVDb3JuZXIoYSl7cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb258fCEhYS5nZXROZXh0QmxvY2soKX1oYXNSaWdodFNxdWFyZUNvcm5lcihhKXtyZXR1cm4hMH1tZWFzdXJlKCl7bGV0IGE9MCxiPTAsYz0wO2ZvcihsZXQgZD0wO2Q8dGhpcy5lbGVtZW50cy5sZW5ndGg7ZCsrKXtjb25zdCBlPVxudGhpcy5lbGVtZW50c1tkXTtiKz1lLndpZHRoO1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGUpfHwoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihlKT9jPU1hdGgubWF4KGMsZS5oZWlnaHQpOmE9TWF0aC5tYXgoYSxlLmhlaWdodCkpfXRoaXMud2lkdGg9TWF0aC5tYXgodGhpcy5taW5XaWR0aCxiKTt0aGlzLmhlaWdodD1NYXRoLm1heCh0aGlzLm1pbkhlaWdodCxhKStjO3RoaXMuZGVzY2VuZGVySGVpZ2h0PWM7dGhpcy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9dGhpcy53aWR0aH1zdGFydHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiExfWVuZHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiExfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRib3R0b21fcm93PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRib3R0b21fcm93LkJvdHRvbVJvdz1Cb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdzt2YXIgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uPWNsYXNzIGV4dGVuZHMgTWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNle2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSk7dGhpcy5jb25uZWN0aW9uTW9kZWw9Yjt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkNPTk5FQ1RJT047dGhpcy5zaGFwZT10aGlzLmNvbnN0YW50c18uc2hhcGVGb3IoYik7dGhpcy5pc0R5bmFtaWNTaGFwZT1cImlzRHluYW1pY1wiaW4gdGhpcy5zaGFwZSYmdGhpcy5zaGFwZS5pc0R5bmFtaWM7dGhpcy5oaWdobGlnaHRlZD1iLmlzSGlnaGxpZ2h0ZWQoKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbj17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbi5Db25uZWN0aW9uPUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbjt2YXIgSW5wdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X2Nvbm5lY3Rpb249Y2xhc3MgZXh0ZW5kcyBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGNvbm5lY3Rpb257Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIuY29ubmVjdGlvbik7dGhpcy5pbnB1dD1iO3RoaXMuY29ubmVjdGlvbk9mZnNldFk9dGhpcy5jb25uZWN0aW9uT2Zmc2V0WD0wO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuSU5QVVQ7dGhpcy5hbGlnbj1iLmFsaWduOyh0aGlzLmNvbm5lY3RlZEJsb2NrPWIuY29ubmVjdGlvbiYmYi5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk/Yi5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk6bnVsbCk/KGE9dGhpcy5jb25uZWN0ZWRCbG9jay5nZXRIZWlnaHRXaWR0aCgpLHRoaXMuY29ubmVjdGVkQmxvY2tXaWR0aD1cbmEud2lkdGgsdGhpcy5jb25uZWN0ZWRCbG9ja0hlaWdodD1hLmhlaWdodCk6dGhpcy5jb25uZWN0ZWRCbG9ja0hlaWdodD10aGlzLmNvbm5lY3RlZEJsb2NrV2lkdGg9MH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X2Nvbm5lY3Rpb24uSW5wdXRDb25uZWN0aW9uPUlucHV0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9jb25uZWN0aW9uO3ZhciBFeHRlcm5hbFZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZXh0ZXJuYWxfdmFsdWVfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5oZWlnaHQ9MDt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkVYVEVSTkFMX1ZBTFVFX0lOUFVUO3RoaXMuaGVpZ2h0PXRoaXMuY29ubmVjdGVkQmxvY2s/dGhpcy5jb25uZWN0ZWRCbG9ja0hlaWdodC10aGlzLmNvbnN0YW50c18uVEFCX09GRlNFVF9GUk9NX1RPUC10aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy53aWR0aD10aGlzLnNoYXBlLndpZHRoK3RoaXMuY29uc3RhbnRzXy5FWFRFUk5BTF9WQUxVRV9JTlBVVF9QQURESU5HO1xudGhpcy5jb25uZWN0aW9uT2Zmc2V0WT10aGlzLmNvbnN0YW50c18uVEFCX09GRlNFVF9GUk9NX1RPUDt0aGlzLmNvbm5lY3Rpb25IZWlnaHQ9dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy5jb25uZWN0aW9uV2lkdGg9dGhpcy5zaGFwZS53aWR0aH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZXh0ZXJuYWxfdmFsdWVfaW5wdXQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRleHRlcm5hbF92YWx1ZV9pbnB1dC5FeHRlcm5hbFZhbHVlSW5wdXQ9RXh0ZXJuYWxWYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGV4dGVybmFsX3ZhbHVlX2lucHV0O3ZhciBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRmaWVsZD1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSk7dGhpcy5maWVsZD1iO3RoaXMucGFyZW50SW5wdXQ9Yzt0aGlzLmlzRWRpdGFibGU9Yi5FRElUQUJMRTt0aGlzLmZsaXBSdGw9Yi5nZXRGbGlwUnRsKCk7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5GSUVMRDthPXRoaXMuZmllbGQuZ2V0U2l6ZSgpO3RoaXMuaGVpZ2h0PWEuaGVpZ2h0O3RoaXMud2lkdGg9YS53aWR0aH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZmllbGQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRmaWVsZC5GaWVsZD1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRmaWVsZDt2YXIgSGF0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGhhdD1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkhBVDt0aGlzLmhlaWdodD10aGlzLmNvbnN0YW50c18uU1RBUlRfSEFULmhlaWdodDt0aGlzLndpZHRoPXRoaXMuY29uc3RhbnRzXy5TVEFSVF9IQVQud2lkdGg7dGhpcy5hc2NlbmRlckhlaWdodD10aGlzLmhlaWdodH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaGF0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaGF0LkhhdD1IYXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaGF0O3ZhciBJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGljb249Y2xhc3MgZXh0ZW5kcyBNZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLmljb249Yjt0aGlzLmZsaXBSdGw9ITE7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5JQ09OO2E9Yi5nZXRTaXplKCk7dGhpcy5oZWlnaHQ9YS5oZWlnaHQ7dGhpcy53aWR0aD1hLndpZHRofX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpY29uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaWNvbi5JY29uPUljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaWNvbjt2YXIgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcj1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEpO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuU1BBQ0VSfFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLklOX1JPV19TUEFDRVI7dGhpcy53aWR0aD1iO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5TUEFDRVJfREVGQVVMVF9IRUlHSFR9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXI9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIuSW5Sb3dTcGFjZXI9SW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcjt2YXIgSW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0PWNsYXNzIGV4dGVuZHMgSW5wdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X2Nvbm5lY3Rpb257Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuSU5MSU5FX0lOUFVUO3RoaXMuY29ubmVjdGVkQmxvY2s/KHRoaXMud2lkdGg9dGhpcy5jb25uZWN0ZWRCbG9ja1dpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQpOih0aGlzLmhlaWdodD10aGlzLmNvbnN0YW50c18uRU1QVFlfSU5MSU5FX0lOUFVUX0hFSUdIVCx0aGlzLndpZHRoPXRoaXMuY29uc3RhbnRzXy5FTVBUWV9JTkxJTkVfSU5QVVRfUEFERElORyk7dGhpcy5jb25uZWN0aW9uSGVpZ2h0PVxudGhpcy5pc0R5bmFtaWNTaGFwZT90aGlzLnNoYXBlLmhlaWdodCh0aGlzLmhlaWdodCk6dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy5jb25uZWN0aW9uV2lkdGg9dGhpcy5pc0R5bmFtaWNTaGFwZT90aGlzLnNoYXBlLndpZHRoKHRoaXMuaGVpZ2h0KTp0aGlzLnNoYXBlLndpZHRoO3RoaXMuY29ubmVjdGVkQmxvY2t8fCh0aGlzLndpZHRoKz10aGlzLmNvbm5lY3Rpb25XaWR0aCoodGhpcy5pc0R5bmFtaWNTaGFwZT8yOjEpKTt0aGlzLmNvbm5lY3Rpb25PZmZzZXRZPVwiY29ubmVjdGlvbk9mZnNldFlcImluIHRoaXMuc2hhcGU/dGhpcy5zaGFwZS5jb25uZWN0aW9uT2Zmc2V0WSh0aGlzLmNvbm5lY3Rpb25IZWlnaHQpOnRoaXMuY29uc3RhbnRzXy5UQUJfT0ZGU0VUX0ZST01fVE9QO3RoaXMuY29ubmVjdGlvbk9mZnNldFg9XCJjb25uZWN0aW9uT2Zmc2V0WFwiaW4gdGhpcy5zaGFwZT90aGlzLnNoYXBlLmNvbm5lY3Rpb25PZmZzZXRYKHRoaXMuY29ubmVjdGlvbldpZHRoKTowfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbmxpbmVfaW5wdXQ9XG57fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dC5JbmxpbmVJbnB1dD1JbmxpbmVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbmxpbmVfaW5wdXQ7dmFyIElucHV0Um93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X3Jvdz1jbGFzcyBleHRlbmRzIFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3d7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy5jb25uZWN0ZWRCbG9ja1dpZHRocz0wO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuSU5QVVRfUk9XfW1lYXN1cmUoKXt0aGlzLndpZHRoPXRoaXMubWluV2lkdGg7dGhpcy5oZWlnaHQ9dGhpcy5taW5IZWlnaHQ7bGV0IGE9MDtmb3IobGV0IGI9MDtiPHRoaXMuZWxlbWVudHMubGVuZ3RoO2IrKyl7Y29uc3QgYz10aGlzLmVsZW1lbnRzW2JdO3RoaXMud2lkdGgrPWMud2lkdGg7VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChjKSYmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYyk/XG5hKz1jLmNvbm5lY3RlZEJsb2NrV2lkdGg6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNFeHRlcm5hbElucHV0KGMpJiZjLmNvbm5lY3RlZEJsb2NrV2lkdGghPT0wJiYoYSs9Yy5jb25uZWN0ZWRCbG9ja1dpZHRoLWMuY29ubmVjdGlvbldpZHRoKSk7VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoYyl8fCh0aGlzLmhlaWdodD1NYXRoLm1heCh0aGlzLmhlaWdodCxjLmhlaWdodCkpfXRoaXMuY29ubmVjdGVkQmxvY2tXaWR0aHM9YTt0aGlzLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcz10aGlzLndpZHRoK2F9ZW5kc1dpdGhFbGVtU3BhY2VyKCl7cmV0dXJuIXRoaXMuaGFzRXh0ZXJuYWxJbnB1dCYmIXRoaXMuaGFzU3RhdGVtZW50fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9yb3c9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X3Jvdy5JbnB1dFJvdz1JbnB1dFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9yb3c7dmFyIEphZ2dlZEVkZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkamFnZ2VkX2VkZ2U9Y2xhc3MgZXh0ZW5kcyBNZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5KQUdHRURfRURHRTt0aGlzLmhlaWdodD10aGlzLmNvbnN0YW50c18uSkFHR0VEX1RFRVRILmhlaWdodDt0aGlzLndpZHRoPXRoaXMuY29uc3RhbnRzXy5KQUdHRURfVEVFVEgud2lkdGh9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGphZ2dlZF9lZGdlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkamFnZ2VkX2VkZ2UuSmFnZ2VkRWRnZT1KYWdnZWRFZGdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGphZ2dlZF9lZGdlO3ZhciBOZXh0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRuZXh0X2Nvbm5lY3Rpb249Y2xhc3MgZXh0ZW5kcyBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGNvbm5lY3Rpb257Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuTkVYVF9DT05ORUNUSU9OO3RoaXMuaGVpZ2h0PXRoaXMuc2hhcGUuaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5zaGFwZS53aWR0aH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkbmV4dF9jb25uZWN0aW9uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkbmV4dF9jb25uZWN0aW9uLk5leHRDb25uZWN0aW9uPU5leHRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG5leHRfY29ubmVjdGlvbjt2YXIgT3V0cHV0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRvdXRwdXRfY29ubmVjdGlvbj1jbGFzcyBleHRlbmRzIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5jb25uZWN0aW9uT2Zmc2V0WD0wO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuT1VUUFVUX0NPTk5FQ1RJT047dGhpcy5oZWlnaHQ9dGhpcy5pc0R5bmFtaWNTaGFwZT8wOnRoaXMuc2hhcGUuaGVpZ2h0O3RoaXMuc3RhcnRYPXRoaXMud2lkdGg9dGhpcy5pc0R5bmFtaWNTaGFwZT8wOnRoaXMuc2hhcGUud2lkdGg7dGhpcy5jb25uZWN0aW9uT2Zmc2V0WT10aGlzLmNvbnN0YW50c18uVEFCX09GRlNFVF9GUk9NX1RPUH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkb3V0cHV0X2Nvbm5lY3Rpb249XG57fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG91dHB1dF9jb25uZWN0aW9uLk91dHB1dENvbm5lY3Rpb249T3V0cHV0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRvdXRwdXRfY29ubmVjdGlvbjt2YXIgUHJldmlvdXNDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHByZXZpb3VzX2Nvbm5lY3Rpb249Y2xhc3MgZXh0ZW5kcyBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGNvbm5lY3Rpb257Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuUFJFVklPVVNfQ09OTkVDVElPTjt0aGlzLmhlaWdodD10aGlzLnNoYXBlLmhlaWdodDt0aGlzLndpZHRoPXRoaXMuc2hhcGUud2lkdGh9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHByZXZpb3VzX2Nvbm5lY3Rpb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRwcmV2aW91c19jb25uZWN0aW9uLlByZXZpb3VzQ29ubmVjdGlvbj1QcmV2aW91c0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcHJldmlvdXNfY29ubmVjdGlvbjt2YXIgUm91bmRDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyPWNsYXNzIGV4dGVuZHMgTWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNle2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSk7dGhpcy50eXBlPShiJiZiIT09XCJsZWZ0XCI/VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuUklHSFRfUk9VTkRfQ09STkVSOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkxFRlRfUk9VTkRfQ09STkVSKXxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5DT1JORVI7dGhpcy53aWR0aD10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUzt0aGlzLmhlaWdodD10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUy8yfX0sXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lci5Sb3VuZENvcm5lcj1Sb3VuZENvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3VuZF9jb3JuZXI7dmFyIFNwYWNlclJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcGFjZXJfcm93PWNsYXNzIGV4dGVuZHMgUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvd3tjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSk7dGhpcy5oZWlnaHQ9Yjt0aGlzLndpZHRoPWM7dGhpcy5wcmVjZWRlc1N0YXRlbWVudD10aGlzLmZvbGxvd3NTdGF0ZW1lbnQ9ITE7dGhpcy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9MDt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLlNQQUNFUnxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5CRVRXRUVOX1JPV19TUEFDRVI7dGhpcy5lbGVtZW50cz1bbmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLFxuYyldfW1lYXN1cmUoKXt9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNwYWNlcl9yb3c9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcGFjZXJfcm93LlNwYWNlclJvdz1TcGFjZXJSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3BhY2VyX3Jvdzt2YXIgU3F1YXJlQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXI9Y2xhc3MgZXh0ZW5kcyBNZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLnR5cGU9KGImJmIhPT1cImxlZnRcIj9UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5SSUdIVF9TUVVBUkVfQ09STkVSOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkxFRlRfU1FVQVJFX0NPUk5FUil8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuQ09STkVSO3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ9dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkd9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXI9XG57fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXIuU3F1YXJlQ29ybmVyPVNxdWFyZUNvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcXVhcmVfY29ybmVyO3ZhciBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzdGF0ZW1lbnRfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5TVEFURU1FTlRfSU5QVVQ7dGhpcy5oZWlnaHQ9dGhpcy5jb25uZWN0ZWRCbG9jaz90aGlzLmNvbm5lY3RlZEJsb2NrSGVpZ2h0K3RoaXMuY29uc3RhbnRzXy5TVEFURU1FTlRfQk9UVE9NX1NQQUNFUjp0aGlzLmNvbnN0YW50c18uRU1QVFlfU1RBVEVNRU5UX0lOUFVUX0hFSUdIVDt0aGlzLndpZHRoPXRoaXMuY29uc3RhbnRzXy5TVEFURU1FTlRfSU5QVVRfTk9UQ0hfT0ZGU0VUK3RoaXMuc2hhcGUud2lkdGh9fSxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0LlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dDt2YXIgVG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHRvcF9yb3c9Y2xhc3MgZXh0ZW5kcyBSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm93e2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMuYXNjZW5kZXJIZWlnaHQ9dGhpcy5jYXBsaW5lPTA7dGhpcy5oYXNQcmV2aW91c0Nvbm5lY3Rpb249ITE7dGhpcy5jb25uZWN0aW9uPW51bGw7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5UT1BfUk9XfWhhc0xlZnRTcXVhcmVDb3JuZXIoYSl7Y29uc3QgYj0oYS5oYXQ/YS5oYXQ9PT1cImNhcFwiOnRoaXMuY29uc3RhbnRzXy5BRERfU1RBUlRfSEFUUykmJiFhLm91dHB1dENvbm5lY3Rpb24mJiFhLnByZXZpb3VzQ29ubmVjdGlvbixjPWEuZ2V0UHJldmlvdXNCbG9jaygpO3JldHVybiEhYS5vdXRwdXRDb25uZWN0aW9ufHxifHwoYz9cbmMuZ2V0TmV4dEJsb2NrKCk9PT1hOiExKX1oYXNSaWdodFNxdWFyZUNvcm5lcihhKXtyZXR1cm4hMH1tZWFzdXJlKCl7bGV0IGE9MCxiPTAsYz0wO2ZvcihsZXQgZD0wO2Q8dGhpcy5lbGVtZW50cy5sZW5ndGg7ZCsrKXtjb25zdCBlPXRoaXMuZWxlbWVudHNbZF07Yis9ZS53aWR0aDtUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihlKXx8KFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGUpP2M9TWF0aC5tYXgoYyxlLmFzY2VuZGVySGVpZ2h0KTphPU1hdGgubWF4KGEsZS5oZWlnaHQpKX10aGlzLndpZHRoPU1hdGgubWF4KHRoaXMubWluV2lkdGgsYik7dGhpcy5oZWlnaHQ9TWF0aC5tYXgodGhpcy5taW5IZWlnaHQsYSkrYzt0aGlzLmNhcGxpbmU9dGhpcy5hc2NlbmRlckhlaWdodD1jO3RoaXMud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPXRoaXMud2lkdGh9c3RhcnRzV2l0aEVsZW1TcGFjZXIoKXtyZXR1cm4hMX1lbmRzV2l0aEVsZW1TcGFjZXIoKXtyZXR1cm4hMX19LFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0b3Bfcm93PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdG9wX3Jvdy5Ub3BSb3c9VG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHRvcF9yb3c7dmFyIENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuTk9fUEFERElORz0wO3RoaXMuU01BTExfUEFERElORz0zO3RoaXMuTUVESVVNX1BBRERJTkc9NTt0aGlzLk1FRElVTV9MQVJHRV9QQURESU5HPTg7dGhpcy5MQVJHRV9QQURESU5HPTEwO3RoaXMuVEFCX0hFSUdIVD0xNTt0aGlzLlRBQl9PRkZTRVRfRlJPTV9UT1A9NTt0aGlzLlRBQl9WRVJUSUNBTF9PVkVSTEFQPTIuNTt0aGlzLlRBQl9XSURUSD04O3RoaXMuTk9UQ0hfV0lEVEg9MTU7dGhpcy5OT1RDSF9IRUlHSFQ9NDt0aGlzLk1JTl9CTE9DS19XSURUSD0xMjt0aGlzLkVNUFRZX0JMT0NLX1NQQUNFUl9IRUlHSFQ9MTY7dGhpcy5DT1JORVJfUkFESVVTPTg7dGhpcy5OT1RDSF9PRkZTRVRfTEVGVD0xNTt0aGlzLlNUQVRFTUVOVF9CT1RUT01fU1BBQ0VSPTA7dGhpcy5TVEFURU1FTlRfSU5QVVRfUEFERElOR19MRUZUPVxuMjA7dGhpcy5CRVRXRUVOX1NUQVRFTUVOVF9QQURESU5HX1k9NDt0aGlzLkFERF9TVEFSVF9IQVRTPSExO3RoaXMuU1RBUlRfSEFUX0hFSUdIVD0xNTt0aGlzLlNUQVJUX0hBVF9XSURUSD0xMDA7dGhpcy5TUEFDRVJfREVGQVVMVF9IRUlHSFQ9MTU7dGhpcy5NSU5fQkxPQ0tfSEVJR0hUPTI0O3RoaXMuRU1QVFlfSU5MSU5FX0lOUFVUX1BBRERJTkc9MTQuNTt0aGlzLkVYVEVSTkFMX1ZBTFVFX0lOUFVUX1BBRERJTkc9Mjt0aGlzLkpBR0dFRF9URUVUSF9IRUlHSFQ9MTI7dGhpcy5KQUdHRURfVEVFVEhfV0lEVEg9Njt0aGlzLkZJRUxEX1RFWFRfRk9OVFNJWkU9MTE7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFQ9XCJub3JtYWxcIjt0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWT1cInNhbnMtc2VyaWZcIjt0aGlzLkZJRUxEX1RFWFRfQkFTRUxJTkU9dGhpcy5GSUVMRF9URVhUX0hFSUdIVD0tMTt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1JBRElVUz00O3RoaXMuRklFTERfQk9SREVSX1JFQ1RfSEVJR0hUPVxuMTY7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9YX1BBRERJTkc9NTt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1lfUEFERElORz0zO3RoaXMuRklFTERfQk9SREVSX1JFQ1RfQ09MT1VSPVwiI2ZmZlwiO3RoaXMuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XPXRoaXMuRklFTERfRFJPUERPV05fQ09MT1VSRURfRElWPXRoaXMuRklFTERfRFJPUERPV05fTk9fQk9SREVSX1JFQ1RfU0hBRE9XPSExO3RoaXMuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1NJWkU9MTI7dGhpcy5GSUVMRF9DT0xPVVJfRlVMTF9CTE9DSz10aGlzLkZJRUxEX1RFWFRJTlBVVF9CT1hfU0hBRE9XPSExO3RoaXMuRklFTERfQ09MT1VSX0RFRkFVTFRfV0lEVEg9MjY7dGhpcy5kZWZzPW51bGw7dGhpcy5lbWJvc3NGaWx0ZXJJZD1cIlwiO3RoaXMuZW1ib3NzRmlsdGVyPW51bGw7dGhpcy5kaXNhYmxlZFBhdHRlcm5JZD1cIlwiO3RoaXMuZGlzYWJsZWRQYXR0ZXJuPW51bGw7dGhpcy5kZWJ1Z0ZpbHRlcklkPVwiXCI7dGhpcy5jc3NOb2RlPVxudGhpcy5kZWJ1Z0ZpbHRlcj1udWxsO3RoaXMuQ1VSU09SX0NPTE9VUj1cIiNjYzBhMGFcIjt0aGlzLk1BUktFUl9DT0xPVVI9XCIjNDI4NmY0XCI7dGhpcy5DVVJTT1JfV1NfV0lEVEg9MTAwO3RoaXMuV1NfQ1VSU09SX0hFSUdIVD01O3RoaXMuQ1VSU09SX1NUQUNLX1BBRERJTkc9MTA7dGhpcy5DVVJTT1JfQkxPQ0tfUEFERElORz0yO3RoaXMuQ1VSU09SX1NUUk9LRV9XSURUSD00O3RoaXMuRlVMTF9CTE9DS19GSUVMRFM9ITE7dGhpcy5JTlNFUlRJT05fTUFSS0VSX0NPTE9VUj1cIiMwMDAwMDBcIjt0aGlzLklOU0VSVElPTl9NQVJLRVJfT1BBQ0lUWT0uMjt0aGlzLlNIQVBFUz17UFVaWkxFOjEsTk9UQ0g6Mn07dGhpcy5UQUxMX0lOUFVUX0ZJRUxEX09GRlNFVF9ZPXRoaXMuTUVESVVNX1BBRERJTkc7dGhpcy5EVU1NWV9JTlBVVF9TSEFET1dfTUlOX0hFSUdIVD10aGlzLkRVTU1ZX0lOUFVUX01JTl9IRUlHSFQ9dGhpcy5UQUJfSEVJR0hUO3RoaXMuU1RBVEVNRU5UX0lOUFVUX05PVENIX09GRlNFVD1cbnRoaXMuTk9UQ0hfT0ZGU0VUX0xFRlQ7dGhpcy5UT1BfUk9XX01JTl9IRUlHSFQ9dGhpcy5NRURJVU1fUEFERElORzt0aGlzLlRPUF9ST1dfUFJFQ0VERVNfU1RBVEVNRU5UX01JTl9IRUlHSFQ9dGhpcy5MQVJHRV9QQURESU5HO3RoaXMuQk9UVE9NX1JPV19NSU5fSEVJR0hUPXRoaXMuTUVESVVNX1BBRERJTkc7dGhpcy5CT1RUT01fUk9XX0FGVEVSX1NUQVRFTUVOVF9NSU5fSEVJR0hUPXRoaXMuTEFSR0VfUEFERElORzt0aGlzLkVNUFRZX0lOTElORV9JTlBVVF9IRUlHSFQ9dGhpcy5UQUJfSEVJR0hUKzExO3RoaXMuRU1QVFlfU1RBVEVNRU5UX0lOUFVUX0hFSUdIVD10aGlzLk1JTl9CTE9DS19IRUlHSFQ7dGhpcy5TVEFSVF9QT0lOVD1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoMCwwKTt0aGlzLkZJRUxEX1RFWFRfQkFTRUxJTkVfQ0VOVEVSPSEwO3RoaXMuRklFTERfRFJPUERPV05fQk9SREVSX1JFQ1RfSEVJR0hUPXRoaXMuRklFTERfQk9SREVSX1JFQ1RfSEVJR0hUO1xudGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfUEFERElORz10aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzt0aGlzLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19EQVRBVVJJPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCcFpEMGlUR0Y1WlhKZk1TSWdaR0YwWVMxdVlXMWxQU0pNWVhsbGNpQXhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhNaTQzTVNJZ2FHVnBaMmgwUFNJNExqYzVJaUIyYVdWM1FtOTRQU0l3SURBZ01USXVOekVnT0M0M09TSStQSFJwZEd4bFBtUnliM0JrYjNkdUxXRnljbTkzUEM5MGFYUnNaVDQ4WnlCdmNHRmphWFI1UFNJd0xqRWlQanh3WVhSb0lHUTlJazB4TWk0M01Td3lMalEwUVRJdU5ERXNNaTQwTVN3d0xEQXNNU3d4TWl3MExqRTJURGd1TURnc09DNHdPR0V5TGpRMUxESXVORFVzTUN3d0xERXRNeTQwTlN3d1REQXVOeklzTkM0eE5rRXlMalF5TERJdU5ESXNNQ3d3TERFc01Dd3lMalEwTERJdU5EZ3NNaTQwT0N3d0xEQXNNU3d1TnpFdU56RkRNU3d3TGpRM0xERXVORE1zTUN3MkxqTTJMREJUTVRFdU56VXNNQzQwTml3eE1pd3VOekZCTWk0ME5Dd3lMalEwTERBc01Dd3hMREV5TGpjeExESXVORFJhSWlCbWFXeHNQU0lqTWpNeFpqSXdJaTgrUEM5blBqeHdZWFJvSUdROUlrMDJMak0yTERjdU56bGhNUzQwTXl3eExqUXpMREFzTUN3eExURXRMalF5VERFdU5ESXNNeTQwTldFeExqUTBMREV1TkRRc01Dd3dMREVzTUMweVl6QXVOVFl0TGpVMkxEa3VNekV0TUM0MU5pdzVMamczTERCaE1TNDBOQ3d4TGpRMExEQXNNQ3d4TERBc01rdzNMak0zTERjdU16ZEJNUzQwTXl3eExqUXpMREFzTUN3eExEWXVNellzTnk0M09Wb2lJR1pwYkd3OUlpTm1abVlpTHo0OEwzTjJaejQ9XCI7XG50aGlzLkZJRUxEX0NPTE9VUl9ERUZBVUxUX0hFSUdIVD10aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0hFSUdIVDt0aGlzLkZJRUxEX0NIRUNLQk9YX1hfT0ZGU0VUPXRoaXMuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HLTM7dGhpcy5yYW5kb21JZGVudGlmaWVyPVN0cmluZyhNYXRoLnJhbmRvbSgpKS5zdWJzdHJpbmcoMil9aW5pdCgpe3RoaXMuSkFHR0VEX1RFRVRIPXRoaXMubWFrZUphZ2dlZFRlZXRoKCk7dGhpcy5OT1RDSD10aGlzLm1ha2VOb3RjaCgpO3RoaXMuU1RBUlRfSEFUPXRoaXMubWFrZVN0YXJ0SGF0KCk7dGhpcy5QVVpaTEVfVEFCPXRoaXMubWFrZVB1enpsZVRhYigpO3RoaXMuSU5TSURFX0NPUk5FUlM9dGhpcy5tYWtlSW5zaWRlQ29ybmVycygpO3RoaXMuT1VUU0lERV9DT1JORVJTPXRoaXMubWFrZU91dHNpZGVDb3JuZXJzKCl9c2V0VGhlbWUoYSl7dGhpcy5ibG9ja1N0eWxlcz1PYmplY3QuY3JlYXRlKG51bGwpO2NvbnN0IGI9YS5ibG9ja1N0eWxlcztmb3IoY29uc3QgYyBpbiBiKXRoaXMuYmxvY2tTdHlsZXNbY109XG50aGlzLnZhbGlkYXRlZEJsb2NrU3R5bGVfKGJbY10pO3RoaXMuc2V0RHluYW1pY1Byb3BlcnRpZXNfKGEpfXNldER5bmFtaWNQcm9wZXJ0aWVzXyhhKXt0aGlzLnNldEZvbnRDb25zdGFudHNfKGEpO3RoaXMuc2V0Q29tcG9uZW50Q29uc3RhbnRzXyhhKTt0aGlzLkFERF9TVEFSVF9IQVRTPWEuc3RhcnRIYXRzIT09dm9pZCAwP2Euc3RhcnRIYXRzOnRoaXMuQUREX1NUQVJUX0hBVFN9c2V0Rm9udENvbnN0YW50c18oYSl7YS5mb250U3R5bGUmJmEuZm9udFN0eWxlLmZhbWlseSYmKHRoaXMuRklFTERfVEVYVF9GT05URkFNSUxZPWEuZm9udFN0eWxlLmZhbWlseSk7YS5mb250U3R5bGUmJmEuZm9udFN0eWxlLndlaWdodCYmKHRoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUPWEuZm9udFN0eWxlLndlaWdodCk7YS5mb250U3R5bGUmJmEuZm9udFN0eWxlLnNpemUmJih0aGlzLkZJRUxEX1RFWFRfRk9OVFNJWkU9YS5mb250U3R5bGUuc2l6ZSk7YT1tZWFzdXJlRm9udE1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oXCJIZ1wiLFxudGhpcy5GSUVMRF9URVhUX0ZPTlRTSVpFK1wicHRcIix0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVCx0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWSk7dGhpcy5GSUVMRF9URVhUX0hFSUdIVD1hLmhlaWdodDt0aGlzLkZJRUxEX1RFWFRfQkFTRUxJTkU9YS5iYXNlbGluZX1zZXRDb21wb25lbnRDb25zdGFudHNfKGEpe3RoaXMuQ1VSU09SX0NPTE9VUj1hLmdldENvbXBvbmVudFN0eWxlKFwiY3Vyc29yQ29sb3VyXCIpfHx0aGlzLkNVUlNPUl9DT0xPVVI7dGhpcy5NQVJLRVJfQ09MT1VSPWEuZ2V0Q29tcG9uZW50U3R5bGUoXCJtYXJrZXJDb2xvdXJcIil8fHRoaXMuTUFSS0VSX0NPTE9VUjt0aGlzLklOU0VSVElPTl9NQVJLRVJfQ09MT1VSPWEuZ2V0Q29tcG9uZW50U3R5bGUoXCJpbnNlcnRpb25NYXJrZXJDb2xvdXJcIil8fHRoaXMuSU5TRVJUSU9OX01BUktFUl9DT0xPVVI7dGhpcy5JTlNFUlRJT05fTUFSS0VSX09QQUNJVFk9TnVtYmVyKGEuZ2V0Q29tcG9uZW50U3R5bGUoXCJpbnNlcnRpb25NYXJrZXJPcGFjaXR5XCIpKXx8XG50aGlzLklOU0VSVElPTl9NQVJLRVJfT1BBQ0lUWX1nZXRCbG9ja1N0eWxlRm9yQ29sb3VyKGEpe2NvbnN0IGI9XCJhdXRvX1wiK2E7dGhpcy5ibG9ja1N0eWxlc1tiXXx8KHRoaXMuYmxvY2tTdHlsZXNbYl09dGhpcy5jcmVhdGVCbG9ja1N0eWxlXyhhKSk7cmV0dXJue3N0eWxlOnRoaXMuYmxvY2tTdHlsZXNbYl0sbmFtZTpifX1nZXRCbG9ja1N0eWxlKGEpe3JldHVybiB0aGlzLmJsb2NrU3R5bGVzW2F8fFwiXCJdfHwoYSYmYS5zdGFydHNXaXRoKFwiYXV0b19cIik/dGhpcy5nZXRCbG9ja1N0eWxlRm9yQ29sb3VyKGEuc3Vic3RyaW5nKDUpKS5zdHlsZTp0aGlzLmNyZWF0ZUJsb2NrU3R5bGVfKFwiIzAwMDAwMFwiKSl9Y3JlYXRlQmxvY2tTdHlsZV8oYSl7cmV0dXJuIHRoaXMudmFsaWRhdGVkQmxvY2tTdHlsZV8oe2NvbG91clByaW1hcnk6YX0pfXZhbGlkYXRlZEJsb2NrU3R5bGVfKGEpe2NvbnN0IGI9e307YSYmT2JqZWN0LmFzc2lnbihiLGEpO2E9cGFyc2VCbG9ja0NvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYi5jb2xvdXJQcmltYXJ5fHxcblwiIzAwMFwiKTtiLmNvbG91clByaW1hcnk9YS5oZXg7Yi5jb2xvdXJTZWNvbmRhcnk9Yi5jb2xvdXJTZWNvbmRhcnk/cGFyc2VCbG9ja0NvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYi5jb2xvdXJTZWNvbmRhcnkpLmhleDp0aGlzLmdlbmVyYXRlU2Vjb25kYXJ5Q29sb3VyXyhiLmNvbG91clByaW1hcnkpO2IuY29sb3VyVGVydGlhcnk9Yi5jb2xvdXJUZXJ0aWFyeT9wYXJzZUJsb2NrQ29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhiLmNvbG91clRlcnRpYXJ5KS5oZXg6dGhpcy5nZW5lcmF0ZVRlcnRpYXJ5Q29sb3VyXyhiLmNvbG91clByaW1hcnkpO2IuaGF0PWIuaGF0fHxcIlwiO3JldHVybiBifWdlbmVyYXRlU2Vjb25kYXJ5Q29sb3VyXyhhKXtyZXR1cm4gYmxlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoXCIjZmZmXCIsYSwuNil8fGF9Z2VuZXJhdGVUZXJ0aWFyeUNvbG91cl8oYSl7cmV0dXJuIGJsZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKFwiI2ZmZlwiLFxuYSwuMyl8fGF9ZGlzcG9zZSgpe3RoaXMuZW1ib3NzRmlsdGVyJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZW1ib3NzRmlsdGVyKTt0aGlzLmRpc2FibGVkUGF0dGVybiYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmRpc2FibGVkUGF0dGVybik7dGhpcy5kZWJ1Z0ZpbHRlciYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmRlYnVnRmlsdGVyKTt0aGlzLmNzc05vZGU9bnVsbH1tYWtlSmFnZ2VkVGVldGgoKXtjb25zdCBhPXRoaXMuSkFHR0VEX1RFRVRIX0hFSUdIVCxiPXRoaXMuSkFHR0VEX1RFRVRIX1dJRFRILGM9bGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYixhLzQpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1iKlxuMixhLzIpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIsYS80KV0pO3JldHVybntoZWlnaHQ6YSx3aWR0aDpiLHBhdGg6Y319bWFrZVN0YXJ0SGF0KCl7Y29uc3QgYT10aGlzLlNUQVJUX0hBVF9IRUlHSFQsYj10aGlzLlNUQVJUX0hBVF9XSURUSCxjPWN1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiY1wiLFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygzMCwtYSkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoNzAsLWEpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIsMCldKTtyZXR1cm57aGVpZ2h0OmEqLjc1LHdpZHRoOmIscGF0aDpjfX1tYWtlUHV6emxlVGFiKCl7ZnVuY3Rpb24gYShmKXtmPWY/LTE6MTtjb25zdCBnPS1mO3ZhciBoPWMvMjtjb25zdCBrPWgrMi41LGw9aCsuNSxtPXBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1iLFxuZipoKTtoPXBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIsZipoKTtyZXR1cm4gY3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDAsZiprKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYixnKmwpLG1dKStjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInNcIixbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYixnKjIuNSksaF0pfWNvbnN0IGI9dGhpcy5UQUJfV0lEVEgsYz10aGlzLlRBQl9IRUlHSFQsZD1hKCEwKSxlPWEoITEpO3JldHVybnt0eXBlOnRoaXMuU0hBUEVTLlBVWlpMRSx3aWR0aDpiLGhlaWdodDpjLHBhdGhEb3duOmUscGF0aFVwOmR9fW1ha2VOb3RjaCgpe2Z1bmN0aW9uIGEoZyl7cmV0dXJuIGxpbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGcqXG5kLGMpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGcqMywwKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhnKmQsLWMpXSl9Y29uc3QgYj10aGlzLk5PVENIX1dJRFRILGM9dGhpcy5OT1RDSF9IRUlHSFQsZD0oYi0zKS8yLGU9YSgxKSxmPWEoLTEpO3JldHVybnt0eXBlOnRoaXMuU0hBUEVTLk5PVENILHdpZHRoOmIsaGVpZ2h0OmMscGF0aExlZnQ6ZSxwYXRoUmlnaHQ6Zn19bWFrZUluc2lkZUNvcm5lcnMoKXtjb25zdCBhPXRoaXMuQ09STkVSX1JBRElVUyxiPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYSxhKSksYz1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMFwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSxcbmEpKTtyZXR1cm57d2lkdGg6YSxoZWlnaHQ6YSxwYXRoVG9wOmIscGF0aEJvdHRvbTpjfX1tYWtlT3V0c2lkZUNvcm5lcnMoKXtjb25zdCBhPXRoaXMuQ09STkVSX1JBRElVUyxiPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygwLGEpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwxXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLC1hKSksYz1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMVwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSxhKSksZD1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMVwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWEsLWEpKSxlPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcblwiMCAwLDFcIixhLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1hLGEpKTtyZXR1cm57dG9wTGVmdDpiLHRvcFJpZ2h0OmMsYm90dG9tUmlnaHQ6ZSxib3R0b21MZWZ0OmQscmlnaHRIZWlnaHQ6YX19c2hhcGVGb3IoYSl7c3dpdGNoKGEudHlwZSl7Y2FzZSBDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRTpjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRTpyZXR1cm4gdGhpcy5QVVpaTEVfVEFCO2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UOmNhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQ6cmV0dXJuIHRoaXMuTk9UQ0g7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gY29ubmVjdGlvbiB0eXBlXCIpO1xufX1jcmVhdGVEb20oYSxiLGMsZCl7dGhpcy5pbmplY3RDU1NfKGIsYyk7dGhpcy5kZWZzPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkRFRlMse30sYSk7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GSUxURVIse2lkOlwiYmxvY2tseUVtYm9zc0ZpbHRlclwiK3RoaXMucmFuZG9tSWRlbnRpZmllcn0sdGhpcy5kZWZzKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUdBVVNTSUFOQkxVUix7XCJpblwiOlwiU291cmNlQWxwaGFcIixzdGREZXZpYXRpb246MSxyZXN1bHQ6XCJibHVyXCJ9LGEpO2I9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVTUEVDVUxBUkxJR0hUSU5HLFxue1wiaW5cIjpcImJsdXJcIixzdXJmYWNlU2NhbGU6MSxzcGVjdWxhckNvbnN0YW50Oi41LHNwZWN1bGFyRXhwb25lbnQ6MTAsXCJsaWdodGluZy1jb2xvclwiOlwid2hpdGVcIixyZXN1bHQ6XCJzcGVjT3V0XCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFUE9JTlRMSUdIVCx7eDotNUUzLHk6LTFFNCx6OjJFNH0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEUse1wiaW5cIjpcInNwZWNPdXRcIixpbjI6XCJTb3VyY2VBbHBoYVwiLG9wZXJhdG9yOlwiaW5cIixyZXN1bHQ6XCJzcGVjT3V0XCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFQ09NUE9TSVRFLFxue1wiaW5cIjpcIlNvdXJjZUdyYXBoaWNcIixpbjI6XCJzcGVjT3V0XCIsb3BlcmF0b3I6XCJhcml0aG1ldGljXCIsazE6MCxrMjoxLGszOjEsazQ6MH0sYSk7dGhpcy5lbWJvc3NGaWx0ZXJJZD1hLmlkO3RoaXMuZW1ib3NzRmlsdGVyPWE7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRURVJOLHtpZDpcImJsb2NrbHlEaXNhYmxlZFBhdHRlcm5cIit0aGlzLnJhbmRvbUlkZW50aWZpZXIscGF0dGVyblVuaXRzOlwidXNlclNwYWNlT25Vc2VcIix3aWR0aDoxMCxoZWlnaHQ6MTB9LHRoaXMuZGVmcyk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7d2lkdGg6MTAsaGVpZ2h0OjEwLGZpbGw6XCIjYWFhXCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEgsXG57ZDpcIk0gMCAwIEwgMTAgMTAgTSAxMCAwIEwgMCAxMFwiLHN0cm9rZTpcIiNjYzBcIn0sYSk7dGhpcy5kaXNhYmxlZFBhdHRlcm5JZD1hLmlkO3RoaXMuZGlzYWJsZWRQYXR0ZXJuPWE7dGhpcy5jcmVhdGVEZWJ1Z0ZpbHRlcigpO2QmJihkLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ibG9ja2x5RW1ib3NzRmlsdGVyXCIsYHVybCgjJHt0aGlzLmVtYm9zc0ZpbHRlcklkfSlgKSxkLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ibG9ja2x5RGlzYWJsZWRQYXR0ZXJuXCIsYHVybCgjJHt0aGlzLmRpc2FibGVkUGF0dGVybklkfSlgKSxkLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ibG9ja2x5RGVidWdGaWx0ZXJcIixgdXJsKCMke3RoaXMuZGVidWdGaWx0ZXJJZH0pYCkpfWNyZWF0ZURlYnVnRmlsdGVyKCl7aWYoIXRoaXMuZGVidWdGaWx0ZXIpe2NvbnN0IGE9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRklMVEVSLFxue2lkOlwiYmxvY2tseURlYnVnRmlsdGVyXCIrdGhpcy5yYW5kb21JZGVudGlmaWVyLGhlaWdodDpcIjE2MCVcIix3aWR0aDpcIjE4MCVcIix5OlwiLTMwJVwiLHg6XCItNDAlXCJ9LHRoaXMuZGVmcyksYj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUNPTVBPTkVOVFRSQU5TRkVSLHtyZXN1bHQ6XCJvdXRCbHVyXCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFRlVOQ0Ese3R5cGU6XCJ0YWJsZVwiLHRhYmxlVmFsdWVzOlwiMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxXCJ9LGIpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFRkxPT0Qse1wiZmxvb2QtY29sb3JcIjpcIiNmZjAwMDBcIixcblwiZmxvb2Qtb3BhY2l0eVwiOi41LHJlc3VsdDpcIm91dENvbG9yXCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFQ09NUE9TSVRFLHtcImluXCI6XCJvdXRDb2xvclwiLGluMjpcIm91dEJsdXJcIixvcGVyYXRvcjpcImluXCIscmVzdWx0Olwib3V0R2xvd1wifSxhKTt0aGlzLmRlYnVnRmlsdGVySWQ9YS5pZDt0aGlzLmRlYnVnRmlsdGVyPWF9fWluamVjdENTU18oYSxiKXtiPXRoaXMuZ2V0Q1NTXyhiKTthPVwiYmxvY2tseS1yZW5kZXJlci1zdHlsZS1cIithO3RoaXMuY3NzTm9kZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKTtjb25zdCBjPWIuam9pbihcIlxcblwiKTt0aGlzLmNzc05vZGU/dGhpcy5jc3NOb2RlLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQ9YzooYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksYi5pZD1hLGE9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYyksYi5hcHBlbmRDaGlsZChhKSxcbmRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGIsZG9jdW1lbnQuaGVhZC5maXJzdENoaWxkKSx0aGlzLmNzc05vZGU9Yil9Z2V0Q1NTXyhhKXtyZXR1cm5bYCR7YX0gLmJsb2NrbHlUZXh0LCBgLGAke2F9IC5ibG9ja2x5Rmx5b3V0TGFiZWxUZXh0IHtgLGBmb250OiAke3RoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUfSBgK2Ake3RoaXMuRklFTERfVEVYVF9GT05UU0laRX1wdCAke3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZfTtgLFwifVwiLGAke2F9IC5ibG9ja2x5VGV4dCB7YCxcImZpbGw6ICNmZmY7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlOb25FZGl0YWJsZUZpZWxkPnJlY3QsYCxgJHthfSAuYmxvY2tseUVkaXRhYmxlRmllbGQ+cmVjdCB7YCxgZmlsbDogJHt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0NPTE9VUn07YCxcImZpbGwtb3BhY2l0eTogLjY7XCIsXCJzdHJva2U6IG5vbmU7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlOb25FZGl0YWJsZUZpZWxkPnRleHQsYCxgJHthfSAuYmxvY2tseUVkaXRhYmxlRmllbGQ+dGV4dCB7YCxcblwiZmlsbDogIzAwMDtcIixcIn1cIixgJHthfSAuYmxvY2tseUZseW91dExhYmVsVGV4dCB7YCxcImZpbGw6ICMwMDA7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlUZXh0LmJsb2NrbHlCdWJibGVUZXh0IHtgLFwiZmlsbDogIzAwMDtcIixcIn1cIixgJHthfSAuYmxvY2tseUVkaXRhYmxlRmllbGQ6bm90KC5ibG9ja2x5RWRpdGluZyk6aG92ZXI+cmVjdCB7YCxcInN0cm9rZTogI2ZmZjtcIixcInN0cm9rZS13aWR0aDogMjtcIixcIn1cIixgJHthfSAuYmxvY2tseUh0bWxJbnB1dCB7YCxgZm9udC1mYW1pbHk6ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFl9O2AsYGZvbnQtd2VpZ2h0OiAke3RoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUfTtgLFwifVwiLGAke2F9IC5ibG9ja2x5U2VsZWN0ZWQ+LmJsb2NrbHlQYXRoIHtgLFwic3Ryb2tlOiAjZmMzO1wiLFwic3Ryb2tlLXdpZHRoOiAzcHg7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoIHtgLFwic3Ryb2tlOiAjZmMzO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5UmVwbGFjZWFibGUgLmJsb2NrbHlQYXRoIHtgLFxuXCJmaWxsLW9wYWNpdHk6IC41O1wiLFwifVwiLGAke2F9IC5ibG9ja2x5UmVwbGFjZWFibGUgLmJsb2NrbHlQYXRoTGlnaHQsYCxgJHthfSAuYmxvY2tseVJlcGxhY2VhYmxlIC5ibG9ja2x5UGF0aERhcmsge2AsXCJkaXNwbGF5OiBub25lO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5SW5zZXJ0aW9uTWFya2VyPi5ibG9ja2x5UGF0aCB7YCxgZmlsbC1vcGFjaXR5OiAke3RoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZfTtgLFwic3Ryb2tlOiBub25lO1wiLFwifVwiXX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMuQ29uc3RhbnRQcm92aWRlcj1Db25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMuaXNEeW5hbWljU2hhcGU9aXNEeW5hbWljU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMuaXNOb3RjaD1pc05vdGNoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzLmlzUHV6emxlVGFiPWlzUHV6emxlVGFiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHM7dmFyIERyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kZHJhd2VyPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5pbmxpbmVQYXRoXz10aGlzLm91dGxpbmVQYXRoXz1cIlwiO3RoaXMuYmxvY2tfPWE7dGhpcy5pbmZvXz1iO3RoaXMudG9wTGVmdF89YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dGhpcy5jb25zdGFudHNfPWIuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKX1kcmF3KCl7dGhpcy5kcmF3T3V0bGluZV8oKTt0aGlzLmRyYXdJbnRlcm5hbHNfKCk7dGhpcy51cGRhdGVDb25uZWN0aW9uSGlnaGxpZ2h0cygpO3RoaXMuYmxvY2tfLnBhdGhPYmplY3Quc2V0UGF0aCh0aGlzLm91dGxpbmVQYXRoXytcIlxcblwiK3RoaXMuaW5saW5lUGF0aF8pO3RoaXMuaW5mb18uUlRMJiZ0aGlzLmJsb2NrXy5wYXRoT2JqZWN0LmZsaXBSVEwoKTt0aGlzLnJlY29yZFNpemVPbkJsb2NrXygpfXJlY29yZFNpemVPbkJsb2NrXygpe3RoaXMuYmxvY2tfLmhlaWdodD1cbnRoaXMuaW5mb18uaGVpZ2h0O3RoaXMuYmxvY2tfLndpZHRoPXRoaXMuaW5mb18ud2lkdGhXaXRoQ2hpbGRyZW47dGhpcy5ibG9ja18uY2hpbGRsZXNzV2lkdGg9dGhpcy5pbmZvXy53aWR0aH1kcmF3T3V0bGluZV8oKXt0aGlzLmRyYXdUb3BfKCk7Zm9yKGxldCBhPTE7YTx0aGlzLmluZm9fLnJvd3MubGVuZ3RoLTE7YSsrKXtjb25zdCBiPXRoaXMuaW5mb18ucm93c1thXTtiLmhhc0phZ2dlZEVkZ2U/dGhpcy5kcmF3SmFnZ2VkRWRnZV8oYik6Yi5oYXNTdGF0ZW1lbnQ/dGhpcy5kcmF3U3RhdGVtZW50SW5wdXRfKGIpOmIuaGFzRXh0ZXJuYWxJbnB1dD90aGlzLmRyYXdWYWx1ZUlucHV0XyhiKTp0aGlzLmRyYXdSaWdodFNpZGVSb3dfKGIpfXRoaXMuZHJhd0JvdHRvbV8oKTt0aGlzLmRyYXdMZWZ0XygpfWRyYXdUb3BfKCl7Y29uc3QgYT10aGlzLmluZm9fLnRvcFJvdyxiPWEuZWxlbWVudHM7dGhpcy5wb3NpdGlvblByZXZpb3VzQ29ubmVjdGlvbl8oKTt0aGlzLm91dGxpbmVQYXRoXys9XG5tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS54UG9zLHRoaXMuaW5mb18uc3RhcnRZKTtmb3IobGV0IGM9MCxkO2Q9YltjXTtjKyspVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihkKT90aGlzLm91dGxpbmVQYXRoXys9dGhpcy5jb25zdGFudHNfLk9VVFNJREVfQ09STkVSUy50b3BMZWZ0OlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUmlnaHRSb3VuZGVkQ29ybmVyKGQpP3RoaXMub3V0bGluZVBhdGhfKz10aGlzLmNvbnN0YW50c18uT1VUU0lERV9DT1JORVJTLnRvcFJpZ2h0OlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGQpP3RoaXMub3V0bGluZVBhdGhfKz1kLnNoYXBlLnBhdGhMZWZ0OlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGQpP1xudGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuY29uc3RhbnRzXy5TVEFSVF9IQVQucGF0aDpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihkKSYmKHRoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLGQud2lkdGgpKTt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixhLmhlaWdodC1hLmFzY2VuZGVySGVpZ2h0KX1kcmF3SmFnZ2VkRWRnZV8oYSl7dGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuY29uc3RhbnRzXy5KQUdHRURfVEVFVEgucGF0aCtsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGEuaGVpZ2h0LXRoaXMuY29uc3RhbnRzXy5KQUdHRURfVEVFVEguaGVpZ2h0KX1kcmF3VmFsdWVJbnB1dF8oYSl7Y29uc3QgYj1cbmEuZ2V0TGFzdElucHV0KCk7dGhpcy5wb3NpdGlvbkV4dGVybmFsVmFsdWVDb25uZWN0aW9uXyhhKTtjb25zdCBjPWlzRHluYW1pY1NoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMoYi5zaGFwZSk/Yi5zaGFwZS5wYXRoRG93bihiLmhlaWdodCk6Yi5zaGFwZS5wYXRoRG93bjt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixiLnhQb3MrYi53aWR0aCkrYytsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGEuaGVpZ2h0LWIuY29ubmVjdGlvbkhlaWdodCl9ZHJhd1N0YXRlbWVudElucHV0XyhhKXt2YXIgYj1hLmdldExhc3RJbnB1dCgpO2lmKGIpe3ZhciBjPWIueFBvcytiLm5vdGNoT2Zmc2V0K2Iuc2hhcGUud2lkdGg7Yj1iLnNoYXBlLnBhdGhSaWdodCtsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLFxuLShiLm5vdGNoT2Zmc2V0LXRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUy53aWR0aCkpK3RoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUy5wYXRoVG9wO3ZhciBkPWEuaGVpZ2h0LTIqdGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLmhlaWdodDt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixjKStiK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsZCkrdGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLnBhdGhCb3R0b20rbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixhLnhQb3MrYS53aWR0aCk7dGhpcy5wb3NpdGlvblN0YXRlbWVudElucHV0Q29ubmVjdGlvbl8oYSl9fWRyYXdSaWdodFNpZGVSb3dfKGEpe3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLFxuYS55UG9zK2EuaGVpZ2h0KX1kcmF3Qm90dG9tXygpe2NvbnN0IGE9dGhpcy5pbmZvXy5ib3R0b21Sb3csYj1hLmVsZW1lbnRzO3RoaXMucG9zaXRpb25OZXh0Q29ubmVjdGlvbl8oKTtsZXQgYz0wLGQ9XCJcIjtmb3IobGV0IGU9Yi5sZW5ndGgtMSxmO2Y9YltlXTtlLS0pVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihmKT9kKz1mLnNoYXBlLnBhdGhSaWdodDpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoZik/ZCs9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixhLnhQb3MpOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoZik/ZCs9dGhpcy5jb25zdGFudHNfLk9VVFNJREVfQ09STkVSUy5ib3R0b21MZWZ0OlxuVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNSaWdodFJvdW5kZWRDb3JuZXIoZik/KGQrPXRoaXMuY29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUlMuYm90dG9tUmlnaHQsYz10aGlzLmNvbnN0YW50c18uT1VUU0lERV9DT1JORVJTLnJpZ2h0SGVpZ2h0KTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihmKSYmKGQrPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsZi53aWR0aCotMSkpO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLGEuYmFzZWxpbmUtYyk7dGhpcy5vdXRsaW5lUGF0aF8rPWR9ZHJhd0xlZnRfKCl7dmFyIGE9dGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uO3RoaXMucG9zaXRpb25PdXRwdXRDb25uZWN0aW9uXygpO1xuaWYoYSl7Y29uc3QgYj1hLmNvbm5lY3Rpb25PZmZzZXRZK2EuaGVpZ2h0O2E9aXNEeW5hbWljU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cyhhLnNoYXBlKT9hLnNoYXBlLnBhdGhVcChhLmhlaWdodCk6YS5zaGFwZS5wYXRoVXA7dGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsYikrYX10aGlzLm91dGxpbmVQYXRoXys9XCJ6XCJ9ZHJhd0ludGVybmFsc18oKXtmb3IobGV0IGE9MCxiO2I9dGhpcy5pbmZvXy5yb3dzW2FdO2ErKylmb3IobGV0IGM9MCxkO2Q9Yi5lbGVtZW50c1tjXTtjKyspVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChkKT90aGlzLmRyYXdJbmxpbmVJbnB1dF8oZCk6KFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSWNvbihkKXx8XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGQpKSYmdGhpcy5sYXlvdXRGaWVsZF8oZCl9bGF5b3V0RmllbGRfKGEpe2NvbnN0IGI9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzI7bGV0IGM9YS54UG9zO3ZhciBkPVwiXCI7dGhpcy5pbmZvXy5SVEwmJihjPS0oYythLndpZHRoKSxhLmZsaXBSdGwmJihjKz1hLndpZHRoLGQ9XCJzY2FsZSgtMSAxKVwiKSk7VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJY29uKGEpPyhkPWEuaWNvbixkLnNldE9mZnNldEluQmxvY2sobmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGMsYikpLHRoaXMuaW5mb18uaXNJbnNlcnRpb25NYXJrZXImJmQuaGlkZUZvckluc2VydGlvbk1hcmtlcigpKTooYT1hLmZpZWxkLmdldFN2Z1Jvb3QoKSxhLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK1xuYytcIixcIitiK1wiKVwiK2QpLHRoaXMuaW5mb18uaXNJbnNlcnRpb25NYXJrZXImJmEuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwibm9uZVwiKSl9ZHJhd0lubGluZUlucHV0XyhhKXtjb25zdCBiPWEud2lkdGgsYz1hLmhlaWdodCxkPWEuY29ubmVjdGlvbk9mZnNldFksZT1hLmNvbm5lY3Rpb25IZWlnaHQrZDt0aGlzLmlubGluZVBhdGhfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS54UG9zK2EuY29ubmVjdGlvbldpZHRoLGEuY2VudGVybGluZS1jLzIpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsZCkrYS5zaGFwZS5wYXRoRG93bitsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGMtZSkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixiLWEuY29ubmVjdGlvbldpZHRoKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLFxuLWMpK1wielwiO3RoaXMucG9zaXRpb25JbmxpbmVJbnB1dENvbm5lY3Rpb25fKGEpfXBvc2l0aW9uSW5saW5lSW5wdXRDb25uZWN0aW9uXyhhKXtjb25zdCBiPWEuY2VudGVybGluZS1hLmhlaWdodC8yO2lmKGEuY29ubmVjdGlvbk1vZGVsKXtsZXQgYz1hLnhQb3MrYS5jb25uZWN0aW9uV2lkdGgrYS5jb25uZWN0aW9uT2Zmc2V0WDt0aGlzLmluZm9fLlJUTCYmKGMqPS0xKTthLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKGMsYithLmNvbm5lY3Rpb25PZmZzZXRZKX19cG9zaXRpb25TdGF0ZW1lbnRJbnB1dENvbm5lY3Rpb25fKGEpe2NvbnN0IGI9YS5nZXRMYXN0SW5wdXQoKTtpZihiPT1udWxsPzA6Yi5jb25uZWN0aW9uTW9kZWwpe2xldCBjPWEueFBvcythLnN0YXRlbWVudEVkZ2UrYi5ub3RjaE9mZnNldDt0aGlzLmluZm9fLlJUTCYmKGMqPS0xKTtiLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKGMsYS55UG9zKX19cG9zaXRpb25FeHRlcm5hbFZhbHVlQ29ubmVjdGlvbl8oYSl7Y29uc3QgYj1cbmEuZ2V0TGFzdElucHV0KCk7aWYoYiYmYi5jb25uZWN0aW9uTW9kZWwpe2xldCBjPWEueFBvcythLndpZHRoO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2IuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxhLnlQb3MpfX1wb3NpdGlvblByZXZpb3VzQ29ubmVjdGlvbl8oKXtjb25zdCBhPXRoaXMuaW5mb18udG9wUm93O2lmKGEuY29ubmVjdGlvbil7Y29uc3QgYj1hLnhQb3MrYS5ub3RjaE9mZnNldDthLmNvbm5lY3Rpb24uY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2sodGhpcy5pbmZvXy5SVEw/LWI6YiwwKX19cG9zaXRpb25OZXh0Q29ubmVjdGlvbl8oKXtjb25zdCBhPXRoaXMuaW5mb18uYm90dG9tUm93O2lmKGEuY29ubmVjdGlvbil7Y29uc3QgYj1hLmNvbm5lY3Rpb24sYz1iLnhQb3M7Yi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jayh0aGlzLmluZm9fLlJUTD8tYzpjLGEuYmFzZWxpbmUpfX1wb3NpdGlvbk91dHB1dENvbm5lY3Rpb25fKCl7aWYodGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uKXtjb25zdCBhPVxudGhpcy5pbmZvXy5zdGFydFgrdGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3Rpb25PZmZzZXRYO3RoaXMuYmxvY2tfLm91dHB1dENvbm5lY3Rpb24uc2V0T2Zmc2V0SW5CbG9jayh0aGlzLmluZm9fLlJUTD8tYTphLHRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5jb25uZWN0aW9uT2Zmc2V0WSl9fXVwZGF0ZUNvbm5lY3Rpb25IaWdobGlnaHRzKCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5pbmZvXy5yb3dzKWZvcihjb25zdCBiIG9mIGEuZWxlbWVudHMpe2lmKCEoYiBpbnN0YW5jZW9mIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbikpY29udGludWU7Y29uc3QgYz10aGlzLmRyYXdDb25uZWN0aW9uSGlnaGxpZ2h0UGF0aChiKTtjJiYoYy5zdHlsZS5kaXNwbGF5PWIuaGlnaGxpZ2h0ZWQ/XCJcIjpcIm5vbmVcIil9fWRyYXdDb25uZWN0aW9uSGlnaGxpZ2h0UGF0aChhKXtjb25zdCBiPWEuY29ubmVjdGlvbk1vZGVsO1xuYT1iLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRXx8Yi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFP3RoaXMuZ2V0RXhwcmVzc2lvbkNvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGEpOnRoaXMuZ2V0U3RhdGVtZW50Q29ubmVjdGlvbkhpZ2hsaWdodFBhdGgoYSk7Y29uc3QgYz1iLmdldFNvdXJjZUJsb2NrKCk7bGV0IGQsZTtyZXR1cm4oZT0oZD1jLnBhdGhPYmplY3QpLmFkZENvbm5lY3Rpb25IaWdobGlnaHQpPT1udWxsP3ZvaWQgMDplLmNhbGwoZCxiLGEsYi5nZXRPZmZzZXRJbkJsb2NrKCksYy5SVEwpfWdldEV4cHJlc3Npb25Db25uZWN0aW9uSGlnaGxpZ2h0UGF0aChhKXtsZXQgYj1cIlwiO2lzRHluYW1pY1NoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMoYS5zaGFwZSk/XG5iPWEuc2hhcGUucGF0aERvd24oYS5oZWlnaHQpOmlzUHV6emxlVGFiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMoYS5zaGFwZSkmJihiPWEuc2hhcGUucGF0aERvd24pO2E9dGhpcy5jb25zdGFudHNfLlRBQl9PRkZTRVRfRlJPTV9UT1A7cmV0dXJuIG1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygwLC1hKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGEpK2IrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixhKX1nZXRTdGF0ZW1lbnRDb25uZWN0aW9uSGlnaGxpZ2h0UGF0aChhKXtpZighaXNOb3RjaCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzKGEuc2hhcGUpKXRocm93IEVycm9yKFwiU3RhdGVtZW50IGNvbm5lY3Rpb25zIHNob3VsZCBoYXZlIG5vdGNoIHNoYXBlc1wiKTtcbmNvbnN0IGI9dGhpcy5jb25zdGFudHNfLk5PVENIX09GRlNFVF9MRUZULXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTO3JldHVybiBtb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWIsMCkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixiKSthLnNoYXBlLnBhdGhMZWZ0K2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsYil9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRkcmF3ZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kZHJhd2VyLkRyYXdlcj1EcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGRyYXdlcjt2YXIgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kaW5mbz1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuc3RhdGVtZW50RWRnZT10aGlzLndpZHRoPXRoaXMud2lkdGhXaXRoQ2hpbGRyZW49dGhpcy5oZWlnaHQ9MDt0aGlzLnJvd3M9W107dGhpcy5pbnB1dFJvd3M9W107dGhpcy5zdGFydFk9dGhpcy5zdGFydFg9MDt0aGlzLnJlbmRlcmVyXz1hO3RoaXMuYmxvY2tfPWI7dGhpcy5jb25zdGFudHNfPXRoaXMucmVuZGVyZXJfLmdldENvbnN0YW50cygpO3RoaXMub3V0cHV0Q29ubmVjdGlvbj1iLm91dHB1dENvbm5lY3Rpb24/bmV3IE91dHB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkb3V0cHV0X2Nvbm5lY3Rpb24odGhpcy5jb25zdGFudHNfLGIub3V0cHV0Q29ubmVjdGlvbik6bnVsbDt0aGlzLmlzSW5saW5lPWIuZ2V0SW5wdXRzSW5saW5lKCkmJiFiLmlzQ29sbGFwc2VkKCk7XG50aGlzLmlzQ29sbGFwc2VkPWIuaXNDb2xsYXBzZWQoKTt0aGlzLmlzSW5zZXJ0aW9uTWFya2VyPWIuaXNJbnNlcnRpb25NYXJrZXIoKTt0aGlzLlJUTD1iLlJUTDt0aGlzLnRvcFJvdz1uZXcgVG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHRvcF9yb3codGhpcy5jb25zdGFudHNfKTt0aGlzLmJvdHRvbVJvdz1uZXcgQm90dG9tUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJvdHRvbV9yb3codGhpcy5jb25zdGFudHNfKX1nZXRSZW5kZXJlcigpe3JldHVybiB0aGlzLnJlbmRlcmVyX31tZWFzdXJlKCl7dGhpcy5jcmVhdGVSb3dzXygpO3RoaXMuYWRkRWxlbVNwYWNpbmdfKCk7dGhpcy5hZGRSb3dTcGFjaW5nXygpO3RoaXMuY29tcHV0ZUJvdW5kc18oKTt0aGlzLmFsaWduUm93RWxlbWVudHNfKCk7dGhpcy5maW5hbGl6ZV8oKX1jcmVhdGVSb3dzXygpe3RoaXMucG9wdWxhdGVUb3BSb3dfKCk7dGhpcy5yb3dzLnB1c2godGhpcy50b3BSb3cpO1xubGV0IGE9bmV3IElucHV0Um93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X3Jvdyh0aGlzLmNvbnN0YW50c18pO3RoaXMuaW5wdXRSb3dzLnB1c2goYSk7dmFyIGI9dGhpcy5ibG9ja18uZ2V0SWNvbnMoKTtmb3IobGV0IGM9MCxkO2Q9YltjXTtjKyspe2NvbnN0IGU9bmV3IEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaWNvbih0aGlzLmNvbnN0YW50c18sZCk7dGhpcy5pc0NvbGxhcHNlZCYmIWQuaXNTaG93bldoZW5Db2xsYXBzZWQoKXx8YS5lbGVtZW50cy5wdXNoKGUpfWI9dm9pZCAwO2ZvcihsZXQgYz0wLGQ7ZD10aGlzLmJsb2NrXy5pbnB1dExpc3RbY107YysrKWlmKGQuaXNWaXNpYmxlKCkpe3RoaXMuc2hvdWxkU3RhcnROZXdSb3dfKGQsYikmJih0aGlzLnJvd3MucHVzaChhKSxhPW5ldyBJbnB1dFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9yb3codGhpcy5jb25zdGFudHNfKSxcbnRoaXMuaW5wdXRSb3dzLnB1c2goYSkpO2ZvcihsZXQgZT0wLGY7Zj1kLmZpZWxkUm93W2VdO2UrKylhLmVsZW1lbnRzLnB1c2gobmV3IEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGZpZWxkKHRoaXMuY29uc3RhbnRzXyxmLGQpKTt0aGlzLmFkZElucHV0XyhkLGEpO2I9ZH10aGlzLmlzQ29sbGFwc2VkJiYoYS5oYXNKYWdnZWRFZGdlPSEwLGEuZWxlbWVudHMucHVzaChuZXcgSmFnZ2VkRWRnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRqYWdnZWRfZWRnZSh0aGlzLmNvbnN0YW50c18pKSk7KGEuZWxlbWVudHMubGVuZ3RofHxhLmhhc0R1bW15SW5wdXQpJiZ0aGlzLnJvd3MucHVzaChhKTt0aGlzLnBvcHVsYXRlQm90dG9tUm93XygpO3RoaXMucm93cy5wdXNoKHRoaXMuYm90dG9tUm93KX1wb3B1bGF0ZVRvcFJvd18oKXt2YXIgYT0hIXRoaXMuYmxvY2tfLnByZXZpb3VzQ29ubmVjdGlvbjtjb25zdCBiPVxuKHRoaXMuYmxvY2tfLmhhdD90aGlzLmJsb2NrXy5oYXQ9PT1cImNhcFwiOnRoaXMuY29uc3RhbnRzXy5BRERfU1RBUlRfSEFUUykmJiF0aGlzLm91dHB1dENvbm5lY3Rpb24mJiFhO2xldCBjPXRoaXMudG9wUm93Lmhhc0xlZnRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP1NxdWFyZUNvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcXVhcmVfY29ybmVyOlJvdW5kQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lcjt0aGlzLnRvcFJvdy5lbGVtZW50cy5wdXNoKG5ldyBjKHRoaXMuY29uc3RhbnRzXykpO2I/KGE9bmV3IEhhdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRoYXQodGhpcy5jb25zdGFudHNfKSx0aGlzLnRvcFJvdy5lbGVtZW50cy5wdXNoKGEpKTphJiYodGhpcy50b3BSb3cuaGFzUHJldmlvdXNDb25uZWN0aW9uPSEwLHRoaXMudG9wUm93LmNvbm5lY3Rpb249XG5uZXcgUHJldmlvdXNDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHByZXZpb3VzX2Nvbm5lY3Rpb24odGhpcy5jb25zdGFudHNfLHRoaXMuYmxvY2tfLnByZXZpb3VzQ29ubmVjdGlvbiksdGhpcy50b3BSb3cuZWxlbWVudHMucHVzaCh0aGlzLnRvcFJvdy5jb25uZWN0aW9uKSk7dGhpcy5ibG9ja18uaW5wdXRMaXN0Lmxlbmd0aCYmdGhpcy5ibG9ja18uaW5wdXRMaXN0WzBdaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQmJiF0aGlzLmJsb2NrXy5pc0NvbGxhcHNlZCgpP3RoaXMudG9wUm93Lm1pbkhlaWdodD10aGlzLmNvbnN0YW50c18uVE9QX1JPV19QUkVDRURFU19TVEFURU1FTlRfTUlOX0hFSUdIVDp0aGlzLnRvcFJvdy5taW5IZWlnaHQ9dGhpcy5jb25zdGFudHNfLlRPUF9ST1dfTUlOX0hFSUdIVDtjPXRoaXMudG9wUm93Lmhhc1JpZ2h0U3F1YXJlQ29ybmVyKHRoaXMuYmxvY2tfKT9cblNxdWFyZUNvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcXVhcmVfY29ybmVyOlJvdW5kQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lcjt0aGlzLnRvcFJvdy5lbGVtZW50cy5wdXNoKG5ldyBjKHRoaXMuY29uc3RhbnRzXyxcInJpZ2h0XCIpKX1wb3B1bGF0ZUJvdHRvbVJvd18oKXt0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbj0hIXRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uO3RoaXMuYm90dG9tUm93Lm1pbkhlaWdodD10aGlzLmJsb2NrXy5pbnB1dExpc3QubGVuZ3RoJiZ0aGlzLmJsb2NrXy5pbnB1dExpc3RbdGhpcy5ibG9ja18uaW5wdXRMaXN0Lmxlbmd0aC0xXWluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0P3RoaXMuY29uc3RhbnRzXy5CT1RUT01fUk9XX0FGVEVSX1NUQVRFTUVOVF9NSU5fSEVJR0hUOlxudGhpcy5jb25zdGFudHNfLkJPVFRPTV9ST1dfTUlOX0hFSUdIVDt0aGlzLmJvdHRvbVJvdy5oYXNMZWZ0U3F1YXJlQ29ybmVyKHRoaXMuYmxvY2tfKT90aGlzLmJvdHRvbVJvdy5lbGVtZW50cy5wdXNoKG5ldyBTcXVhcmVDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3F1YXJlX2Nvcm5lcih0aGlzLmNvbnN0YW50c18pKTp0aGlzLmJvdHRvbVJvdy5lbGVtZW50cy5wdXNoKG5ldyBSb3VuZENvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3VuZF9jb3JuZXIodGhpcy5jb25zdGFudHNfKSk7dGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb24mJih0aGlzLmJvdHRvbVJvdy5jb25uZWN0aW9uPW5ldyBOZXh0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRuZXh0X2Nvbm5lY3Rpb24odGhpcy5jb25zdGFudHNfLHRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uKSxcbnRoaXMuYm90dG9tUm93LmVsZW1lbnRzLnB1c2godGhpcy5ib3R0b21Sb3cuY29ubmVjdGlvbikpO3RoaXMuYm90dG9tUm93Lmhhc1JpZ2h0U3F1YXJlQ29ybmVyKHRoaXMuYmxvY2tfKT90aGlzLmJvdHRvbVJvdy5lbGVtZW50cy5wdXNoKG5ldyBTcXVhcmVDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3F1YXJlX2Nvcm5lcih0aGlzLmNvbnN0YW50c18sXCJyaWdodFwiKSk6dGhpcy5ib3R0b21Sb3cuZWxlbWVudHMucHVzaChuZXcgUm91bmRDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyKHRoaXMuY29uc3RhbnRzXyxcInJpZ2h0XCIpKX1hZGRJbnB1dF8oYSxiKXtpZih0aGlzLmlzSW5saW5lJiZhIGluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0KWIuZWxlbWVudHMucHVzaChuZXcgSW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0KHRoaXMuY29uc3RhbnRzXyxcbmEpKSxiLmhhc0lubGluZUlucHV0PSEwO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dCliLmVsZW1lbnRzLnB1c2gobmV3IFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dCh0aGlzLmNvbnN0YW50c18sYSkpLGIuaGFzU3RhdGVtZW50PSEwO2Vsc2UgaWYoYSBpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dCliLmVsZW1lbnRzLnB1c2gobmV3IEV4dGVybmFsVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRleHRlcm5hbF92YWx1ZV9pbnB1dCh0aGlzLmNvbnN0YW50c18sYSkpLGIuaGFzRXh0ZXJuYWxJbnB1dD0hMDtlbHNlIGlmKGEgaW5zdGFuY2VvZiBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0fHxcbmEgaW5zdGFuY2VvZiBFbmRSb3dJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRlbmRfcm93X2lucHV0KWIubWluSGVpZ2h0PU1hdGgubWF4KGIubWluSGVpZ2h0LGEuZ2V0U291cmNlQmxvY2soKSYmYS5nZXRTb3VyY2VCbG9jaygpLmlzU2hhZG93KCk/dGhpcy5jb25zdGFudHNfLkRVTU1ZX0lOUFVUX1NIQURPV19NSU5fSEVJR0hUOnRoaXMuY29uc3RhbnRzXy5EVU1NWV9JTlBVVF9NSU5fSEVJR0hUKSxiLmhhc0R1bW15SW5wdXQ9ITA7Yi5hbGlnbj09PW51bGwmJihiLmFsaWduPWEuYWxpZ24pfXNob3VsZFN0YXJ0TmV3Um93XyhhLGIpe3JldHVybiBiP2IgaW5zdGFuY2VvZiBFbmRSb3dJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRlbmRfcm93X2lucHV0fHxhIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0fHxiIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0P1xuITA6YSBpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dHx8YSBpbnN0YW5jZW9mIER1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXR8fGIgaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQ/IXRoaXMuaXNJbmxpbmU6ITE6ITF9YWRkRWxlbVNwYWNpbmdfKCl7Zm9yKGxldCBhPTAsYjtiPXRoaXMucm93c1thXTthKyspe2NvbnN0IGM9Yi5lbGVtZW50cztiLmVsZW1lbnRzPVtdO2Iuc3RhcnRzV2l0aEVsZW1TcGFjZXIoKSYmYi5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyx0aGlzLmdldEluUm93U3BhY2luZ18obnVsbCxjWzBdKSkpO2lmKGMubGVuZ3RoKXtmb3IobGV0IGQ9XG4wO2Q8Yy5sZW5ndGgtMTtkKyspe2IuZWxlbWVudHMucHVzaChjW2RdKTtjb25zdCBlPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhjW2RdLGNbZCsxXSk7Yi5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyxlKSl9Yi5lbGVtZW50cy5wdXNoKGNbYy5sZW5ndGgtMV0pO2IuZW5kc1dpdGhFbGVtU3BhY2VyKCkmJmIuZWxlbWVudHMucHVzaChuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sdGhpcy5nZXRJblJvd1NwYWNpbmdfKGNbYy5sZW5ndGgtMV0sbnVsbCkpKX19fWdldEluUm93U3BhY2luZ18oYSxiKXtpZighYSYmYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ7XG5pZihhJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGEpJiYhYil7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNFeHRlcm5hbElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElOR31yZXR1cm4gYSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyKGEpJiZcbmImJihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihiKXx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKSk/Yi5ub3RjaE9mZnNldDphJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEpJiZiJiYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYil8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpP2Iubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM6YSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmXG5hLndpZHRoPT09MD90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9Y29tcHV0ZUJvdW5kc18oKXtsZXQgYT0wLGI9MCxjPTA7Zm9yKGxldCBlPTAsZjtmPXRoaXMucm93c1tlXTtlKyspe2YubWVhc3VyZSgpO2I9TWF0aC5tYXgoYixmLndpZHRoKTtpZihmLmhhc1N0YXRlbWVudCl7dmFyIGQ9Zi5nZXRMYXN0SW5wdXQoKTtsZXQgZyxoO2Q9Zi53aWR0aC0oKGg9KGc9ZCk9PW51bGw/dm9pZCAwOmcud2lkdGgpIT1udWxsP2g6MCk7YT1NYXRoLm1heChhLGQpfWM9TWF0aC5tYXgoYyxmLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcyl9dGhpcy5zdGF0ZW1lbnRFZGdlPWE7dGhpcy53aWR0aD1iO2ZvcihsZXQgZT0wLGY7Zj10aGlzLnJvd3NbZV07ZSsrKWYuaGFzU3RhdGVtZW50JiYoZi5zdGF0ZW1lbnRFZGdlPXRoaXMuc3RhdGVtZW50RWRnZSk7dGhpcy53aWR0aFdpdGhDaGlsZHJlbj1NYXRoLm1heChiLGMpO3RoaXMub3V0cHV0Q29ubmVjdGlvbiYmXG4odGhpcy5zdGFydFg9dGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoLHRoaXMud2lkdGgrPXRoaXMub3V0cHV0Q29ubmVjdGlvbi53aWR0aCx0aGlzLndpZHRoV2l0aENoaWxkcmVuKz10aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGgpfWFsaWduUm93RWxlbWVudHNfKCl7Zm9yKGxldCBiPTAsYztjPXRoaXMucm93c1tiXTtiKyspaWYoYy5oYXNTdGF0ZW1lbnQpdGhpcy5hbGlnblN0YXRlbWVudFJvd18oYyk7ZWxzZXt2YXIgYT1jLndpZHRoO2E9dGhpcy5nZXREZXNpcmVkUm93V2lkdGhfKGMpLWE7YT4wJiZ0aGlzLmFkZEFsaWdubWVudFBhZGRpbmdfKGMsYSk7VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNUb3BPckJvdHRvbVJvdyhjKSYmKGMud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPWMud2lkdGgpfX1nZXREZXNpcmVkUm93V2lkdGhfKGEpe3JldHVybiB0aGlzLndpZHRoLXRoaXMuc3RhcnRYfWFkZEFsaWdubWVudFBhZGRpbmdfKGEsXG5iKXtjb25zdCBjPWEuZ2V0Rmlyc3RTcGFjZXIoKSxkPWEuZ2V0TGFzdFNwYWNlcigpO2lmKGEuaGFzRXh0ZXJuYWxJbnB1dHx8YS5oYXNTdGF0ZW1lbnQpYS53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3MrPWI7aWYoYS5hbGlnbj09PSQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uTEVGVCYmZClkLndpZHRoKz1iO2Vsc2UgaWYoYS5hbGlnbj09PSQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uQ0VOVFJFJiZjJiZkKWMud2lkdGgrPWIvMixkLndpZHRoKz1iLzI7ZWxzZSBpZihhLmFsaWduPT09JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5SSUdIVCYmYyljLndpZHRoKz1iO2Vsc2UgaWYoZClkLndpZHRoKz1iO2Vsc2UgcmV0dXJuO2Eud2lkdGgrPWJ9YWxpZ25TdGF0ZW1lbnRSb3dfKGEpe2NvbnN0IGI9YS5nZXRMYXN0SW5wdXQoKTtpZihiKXt2YXIgYz1hLndpZHRoLWIud2lkdGgsZD10aGlzLnN0YXRlbWVudEVkZ2U7XG5jPWQtYztjPjAmJnRoaXMuYWRkQWxpZ25tZW50UGFkZGluZ18oYSxjKTtjPWEud2lkdGg7ZD10aGlzLmdldERlc2lyZWRSb3dXaWR0aF8oYSk7Yi53aWR0aCs9ZC1jO2IuaGVpZ2h0PU1hdGgubWF4KGIuaGVpZ2h0LGEuaGVpZ2h0KTthLndpZHRoKz1kLWM7YS53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9TWF0aC5tYXgoYS53aWR0aCx0aGlzLnN0YXRlbWVudEVkZ2UrYS5jb25uZWN0ZWRCbG9ja1dpZHRocyl9fWFkZFJvd1NwYWNpbmdfKCl7Y29uc3QgYT10aGlzLnJvd3M7dGhpcy5yb3dzPVtdO2ZvcihsZXQgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMucm93cy5wdXNoKGFbYl0pLGIhPT1hLmxlbmd0aC0xJiZ0aGlzLnJvd3MucHVzaCh0aGlzLm1ha2VTcGFjZXJSb3dfKGFbYl0sYVtiKzFdKSl9bWFrZVNwYWNlclJvd18oYSxiKXt2YXIgYz10aGlzLmdldFNwYWNlclJvd0hlaWdodF8oYSxiKTtjb25zdCBkPXRoaXMuZ2V0U3BhY2VyUm93V2lkdGhfKGEsYik7Yz1uZXcgU3BhY2VyUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNwYWNlcl9yb3codGhpcy5jb25zdGFudHNfLFxuYyxkKTthLmhhc1N0YXRlbWVudCYmKGMuZm9sbG93c1N0YXRlbWVudD0hMCk7Yi5oYXNTdGF0ZW1lbnQmJihjLnByZWNlZGVzU3RhdGVtZW50PSEwKTtyZXR1cm4gY31nZXRTcGFjZXJSb3dXaWR0aF8oYSxiKXtyZXR1cm4gdGhpcy53aWR0aC10aGlzLnN0YXJ0WH1nZXRTcGFjZXJSb3dIZWlnaHRfKGEsYil7cmV0dXJuIHRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR31nZXRFbGVtQ2VudGVybGluZV8oYSxiKXtyZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoYik/YS55UG9zK2IuaGVpZ2h0LzI6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYSk/KGE9YS55UG9zK2EuaGVpZ2h0LWEuZGVzY2VuZGVySGVpZ2h0LFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYik/XG5hK2IuaGVpZ2h0LzI6YS1iLmhlaWdodC8yKTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKT9UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChiKT9hLmNhcGxpbmUtYi5oZWlnaHQvMjphLmNhcGxpbmUrYi5oZWlnaHQvMjphLnlQb3MrYS5oZWlnaHQvMn1yZWNvcmRFbGVtUG9zaXRpb25zXyhhKXtsZXQgYj1hLnhQb3M7Zm9yKGxldCBjPTAsZDtkPWEuZWxlbWVudHNbY107YysrKVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGQpJiYoZC5oZWlnaHQ9YS5oZWlnaHQpLGQueFBvcz1iLGQuY2VudGVybGluZT10aGlzLmdldEVsZW1DZW50ZXJsaW5lXyhhLGQpLGIrPWQud2lkdGh9ZmluYWxpemVfKCl7bGV0IGE9MCxiPTA7Zm9yKGxldCBjPTAsZDtkPXRoaXMucm93c1tjXTtjKyspZC55UG9zPVxuYixkLnhQb3M9dGhpcy5zdGFydFgsYis9ZC5oZWlnaHQsYT1NYXRoLm1heChhLGQud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzKSx0aGlzLnJlY29yZEVsZW1Qb3NpdGlvbnNfKGQpO2lmKHRoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24pe2NvbnN0IGM9dGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtjJiYoYT1NYXRoLm1heChhLGMuZ2V0SGVpZ2h0V2lkdGgoKS53aWR0aCkpfXRoaXMud2lkdGhXaXRoQ2hpbGRyZW49YSt0aGlzLnN0YXJ0WDt0aGlzLmhlaWdodD1iO3RoaXMuc3RhcnRZPXRoaXMudG9wUm93LmNhcGxpbmU7dGhpcy5ib3R0b21Sb3cuYmFzZWxpbmU9Yi10aGlzLmJvdHRvbVJvdy5kZXNjZW5kZXJIZWlnaHR9Z2V0TWVhc3VyZWFibGVGb3JDb25uZWN0aW9uKGEpe2xldCBiO2lmKCgoYj10aGlzLm91dHB1dENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpiLmNvbm5lY3Rpb25Nb2RlbCk9PT1hKXJldHVybiB0aGlzLm91dHB1dENvbm5lY3Rpb247XG5mb3IoY29uc3QgYyBvZiB0aGlzLnJvd3MpZm9yKGNvbnN0IGQgb2YgYy5lbGVtZW50cylpZihkIGluc3RhbmNlb2YgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uJiZkLmNvbm5lY3Rpb25Nb2RlbD09PWEpcmV0dXJuIGQ7cmV0dXJuIG51bGx9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZvPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm8uUmVuZGVySW5mbz1SZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZvO3ZhciBQYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRwYXRoX29iamVjdD1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyl7dGhpcy5jb25uZWN0aW9uSGlnaGxpZ2h0cz1uZXcgV2Vha01hcDt0aGlzLmhpZ2hsaWdodE9mZnNldHM9bmV3IFdlYWtNYXA7dGhpcy5jb25zdGFudHM9Yzt0aGlzLnN0eWxlPWI7dGhpcy5zdmdSb290PWE7dGhpcy5zdmdQYXRoPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEgse1wiY2xhc3NcIjpcImJsb2NrbHlQYXRoXCJ9LHRoaXMuc3ZnUm9vdCk7dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5QmxvY2tcIiwhMCl9c2V0UGF0aChhKXt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZFwiLGEpfWZsaXBSVEwoKXt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJzY2FsZSgtMSAxKVwiKX1hcHBseUNvbG91cihhKXt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXG50aGlzLnN0eWxlLmNvbG91clRlcnRpYXJ5KTt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuc3R5bGUuY29sb3VyUHJpbWFyeSk7dGhpcy51cGRhdGVTaGFkb3dfKGEuaXNTaGFkb3coKSk7dGhpcy51cGRhdGVEaXNhYmxlZF8oIWEuaXNFbmFibGVkKCl8fGEuZ2V0SW5oZXJpdGVkRGlzYWJsZWQoKSl9c2V0U3R5bGUoYSl7dGhpcy5zdHlsZT1hfXNldENsYXNzXyhhLGIpe2EmJihiP2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxhKTpyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QsYSkpfXVwZGF0ZUhpZ2hsaWdodGVkKGEpe2E/dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5SGlnaGxpZ2h0ZWRcIiwhMCk6dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5SGlnaGxpZ2h0ZWRcIiwhMSl9dXBkYXRlU2hhZG93XyhhKXthPyh0aGlzLnNldENsYXNzXyhcImJsb2NrbHlTaGFkb3dcIixcbiEwKSx0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpLHRoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJTZWNvbmRhcnkpKTp0aGlzLnNldENsYXNzXyhcImJsb2NrbHlTaGFkb3dcIiwhMSl9dXBkYXRlRGlzYWJsZWRfKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseURpc2FibGVkXCIsYSk7dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5RGlzYWJsZWRQYXR0ZXJuXCIsYSl9dXBkYXRlU2VsZWN0ZWQoYSl7dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5U2VsZWN0ZWRcIixhKX11cGRhdGVEcmFnZ2luZ0RlbGV0ZShhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlEcmFnZ2luZ0RlbGV0ZVwiLGEpfXVwZGF0ZUluc2VydGlvbk1hcmtlcihhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlJbnNlcnRpb25NYXJrZXJcIixhKX11cGRhdGVNb3ZhYmxlKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseURyYWdnYWJsZVwiLGEpfXVwZGF0ZVJlcGxhY2VtZW50RmFkZShhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlSZXBsYWNlYWJsZVwiLFxuYSl9dXBkYXRlU2hhcGVGb3JJbnB1dEhpZ2hsaWdodChhLGIpe31hZGRDb25uZWN0aW9uSGlnaGxpZ2h0KGEsYixjLGQpe2M9YHRyYW5zbGF0ZSgke2MueH0sICR7Yy55fSlgKyhkP1wiIHNjYWxlKC0xIDEpXCI6XCJcIik7aWYoZD10aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRzLmdldChhKSlyZXR1cm4gZC5zZXRBdHRyaWJ1dGUoXCJkXCIsYiksZC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixjKSxkO2I9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCx7aWQ6YS5pZCxcImNsYXNzXCI6XCJibG9ja2x5SGlnaGxpZ2h0ZWRDb25uZWN0aW9uUGF0aFwiLHN0eWxlOlwiZGlzcGxheTogbm9uZTtcIixkOmIsdHJhbnNmb3JtOmN9LHRoaXMuc3ZnUm9vdCk7dGhpcy5jb25uZWN0aW9uSGlnaGxpZ2h0cy5zZXQoYSxiKTtyZXR1cm4gYn1yZW1vdmVDb25uZWN0aW9uSGlnaGxpZ2h0KGEpe2NvbnN0IGI9XG50aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRzLmdldChhKTtiJiYocmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShiKSx0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRzLmRlbGV0ZShhKSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRwYXRoX29iamVjdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRwYXRoX29iamVjdC5QYXRoT2JqZWN0PVBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0O3ZhciBSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcmVuZGVyZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5vdmVycmlkZXM9bnVsbDt0aGlzLm5hbWU9YX1nZXRDbGFzc05hbWUoKXtyZXR1cm4gdGhpcy5uYW1lK1wiLXJlbmRlcmVyXCJ9aW5pdChhLGIpe3RoaXMuY29uc3RhbnRzXz10aGlzLm1ha2VDb25zdGFudHNfKCk7YiYmKHRoaXMub3ZlcnJpZGVzPWIsT2JqZWN0LmFzc2lnbih0aGlzLmNvbnN0YW50c18sYikpO3RoaXMuY29uc3RhbnRzXy5zZXRUaGVtZShhKTt0aGlzLmNvbnN0YW50c18uaW5pdCgpfWNyZWF0ZURvbShhLGIsYyl7dGhpcy5jb25zdGFudHNfLmNyZWF0ZURvbShhLHRoaXMubmFtZStcIi1cIitiLm5hbWUsXCIuXCIrdGhpcy5nZXRDbGFzc05hbWUoKStcIi5cIitiLmdldENsYXNzTmFtZSgpLGMpfXJlZnJlc2hEb20oYSxiLGMpe2NvbnN0IGQ9dGhpcy5nZXRDb25zdGFudHMoKTtkLmRpc3Bvc2UoKTt0aGlzLmNvbnN0YW50c189XG50aGlzLm1ha2VDb25zdGFudHNfKCk7dGhpcy5vdmVycmlkZXMmJk9iamVjdC5hc3NpZ24odGhpcy5jb25zdGFudHNfLHRoaXMub3ZlcnJpZGVzKTt0aGlzLmNvbnN0YW50c18ucmFuZG9tSWRlbnRpZmllcj1kLnJhbmRvbUlkZW50aWZpZXI7dGhpcy5jb25zdGFudHNfLnNldFRoZW1lKGIpO3RoaXMuY29uc3RhbnRzXy5pbml0KCk7dGhpcy5jcmVhdGVEb20oYSxiLGMpfWRpc3Bvc2UoKXt0aGlzLmNvbnN0YW50c18mJnRoaXMuY29uc3RhbnRzXy5kaXNwb3NlKCl9bWFrZUNvbnN0YW50c18oKXtyZXR1cm4gbmV3IENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50c31tYWtlUmVuZGVySW5mb18oYSl7cmV0dXJuIG5ldyBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZvKHRoaXMsYSl9bWFrZURyYXdlcl8oYSxiKXtyZXR1cm4gbmV3IERyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kZHJhd2VyKGEsXG5iKX1tYWtlUGF0aE9iamVjdChhLGIpe3JldHVybiBuZXcgUGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcGF0aF9vYmplY3QoYSxiLHRoaXMuY29uc3RhbnRzXyl9Z2V0Q29uc3RhbnRzKCl7cmV0dXJuIHRoaXMuY29uc3RhbnRzX31zaG91bGRIaWdobGlnaHRDb25uZWN0aW9uKGEpe3JldHVybiEwfW9ycGhhbkNhbkNvbm5lY3RBdEVuZChhLGIsYyl7cmV0dXJuISFDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5nZXRDb25uZWN0aW9uRm9yT3JwaGFuZWRDb25uZWN0aW9uKGEsYz09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRT9iLm91dHB1dENvbm5lY3Rpb246Yi5wcmV2aW91c0Nvbm5lY3Rpb24pfXJlbmRlcihhKXtjb25zdCBiPXRoaXMubWFrZVJlbmRlckluZm9fKGEpO2IubWVhc3VyZSgpO3RoaXMubWFrZURyYXdlcl8oYSxiKS5kcmF3KCl9fSxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHJlbmRlcmVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHJlbmRlcmVyLlJlbmRlcmVyPVJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRyZW5kZXJlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5Cb3R0b21Sb3c9Qm90dG9tUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJvdHRvbV9yb3c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkNvbm5lY3Rpb249Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyPUNvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5EcmF3ZXI9RHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRkcmF3ZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkV4dGVybmFsVmFsdWVJbnB1dD1FeHRlcm5hbFZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZXh0ZXJuYWxfdmFsdWVfaW5wdXQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkZpZWxkPUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGZpZWxkO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5IYXQ9SGF0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGhhdDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5JY29uPUljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaWNvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuSW5Sb3dTcGFjZXI9SW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuSW5saW5lSW5wdXQ9SW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5JbnB1dENvbm5lY3Rpb249SW5wdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X2Nvbm5lY3Rpb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuSW5wdXRSb3c9SW5wdXRSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfcm93O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5KYWdnZWRFZGdlPUphZ2dlZEVkZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkamFnZ2VkX2VkZ2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLk1lYXN1cmFibGU9TWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNlO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5OZXh0Q29ubmVjdGlvbj1OZXh0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRuZXh0X2Nvbm5lY3Rpb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuT3V0cHV0Q29ubmVjdGlvbj1PdXRwdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG91dHB1dF9jb25uZWN0aW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5QYXRoT2JqZWN0PVBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5QcmV2aW91c0Nvbm5lY3Rpb249UHJldmlvdXNDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHByZXZpb3VzX2Nvbm5lY3Rpb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuUmVuZGVySW5mbz1SZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZvO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5SZW5kZXJlcj1SZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcmVuZGVyZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlJvdW5kQ29ybmVyPVJvdW5kQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuUm93PVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3c7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuU3BhY2VyUm93PVNwYWNlclJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcGFjZXJfcm93O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5TcXVhcmVDb3JuZXI9U3F1YXJlQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuVG9wUm93PVRvcFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0b3Bfcm93O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlR5cGVzPVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5pbml0PWluaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcucmVnaXN0ZXI9cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcudW5yZWdpc3Rlcj11bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmc7dmFyIFRoZW1lTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lX21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMudGhlbWU9Yjt0aGlzLnN1YnNjcmliZWRXb3Jrc3BhY2VzPVtdO3RoaXMuY29tcG9uZW50REI9bmV3IE1hcH1nZXRUaGVtZSgpe3JldHVybiB0aGlzLnRoZW1lfXNldFRoZW1lKGEpe3ZhciBiPXRoaXMudGhlbWU7dGhpcy50aGVtZT1hO2lmKGE9dGhpcy53b3Jrc3BhY2UuZ2V0SW5qZWN0aW9uRGl2KCkpYiYmKGI9Yi5nZXRDbGFzc05hbWUoKSkmJnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYiksKGI9dGhpcy50aGVtZS5nZXRDbGFzc05hbWUoKSkmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYik7Zm9yKGxldCBjPTAsZDtkPXRoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXNbY107YysrKWQucmVmcmVzaFRoZW1lKCk7Zm9yKGNvbnN0IFtjLFxuZF1vZiB0aGlzLmNvbXBvbmVudERCKWZvcihjb25zdCBlIG9mIGQpe2E9ZS5lbGVtZW50O2I9ZS5wcm9wZXJ0eU5hbWU7Y29uc3QgZj10aGlzLnRoZW1lJiZ0aGlzLnRoZW1lLmdldENvbXBvbmVudFN0eWxlKGMpO2Euc3R5bGUuc2V0UHJvcGVydHkoYixmfHxcIlwiKX1mb3IoY29uc3QgYyBvZiB0aGlzLnN1YnNjcmliZWRXb3Jrc3BhY2VzKWMuaGlkZUNoYWZmKCl9c3Vic2NyaWJlV29ya3NwYWNlKGEpe3RoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXMucHVzaChhKX11bnN1YnNjcmliZVdvcmtzcGFjZShhKXtpZighcmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXMsYSkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgdW5zdWJzY3JpYmUgYSB3b3Jrc3BhY2UgdGhhdCBoYXNuJ3QgYmVlbiBzdWJzY3JpYmVkLlwiKTt9c3Vic2NyaWJlKGEsYixjKXt0aGlzLmNvbXBvbmVudERCLmhhcyhiKXx8dGhpcy5jb21wb25lbnREQi5zZXQoYixcbltdKTt0aGlzLmNvbXBvbmVudERCLmdldChiKS5wdXNoKHtlbGVtZW50OmEscHJvcGVydHlOYW1lOmN9KTtiPXRoaXMudGhlbWUmJnRoaXMudGhlbWUuZ2V0Q29tcG9uZW50U3R5bGUoYik7YS5zdHlsZS5zZXRQcm9wZXJ0eShjLGJ8fFwiXCIpfXVuc3Vic2NyaWJlKGEpe2lmKGEpZm9yKGNvbnN0IFtiLGNdb2YgdGhpcy5jb21wb25lbnREQil7Zm9yKGxldCBkPWMubGVuZ3RoLTE7ZD49MDtkLS0pY1tkXS5lbGVtZW50PT09YSYmYy5zcGxpY2UoZCwxKTtjLmxlbmd0aHx8dGhpcy5jb21wb25lbnREQi5kZWxldGUoYil9fWRpc3Bvc2UoKXt0aGlzLnN1YnNjcmliZWRXb3Jrc3BhY2VzLmxlbmd0aD0wO3RoaXMuY29tcG9uZW50REIuY2xlYXIoKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZV9tYW5hZ2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZV9tYW5hZ2VyLlRoZW1lTWFuYWdlcj1UaGVtZU1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZV9tYW5hZ2VyO3ZhciBDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9XCJWQVJJQUJMRV9EWU5BTUlDXCIsb25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX1N0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljPXN0cmluZ0J1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLG9uQ3JlYXRlVmFyaWFibGVCdXR0b25DbGlja19OdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1udW1iZXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyxvbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfQ29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9Y29sb3VyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9e0NBVEVHT1JZX05BTUU6Q0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMuZmx5b3V0Q2F0ZWdvcnk9Zmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMuZmx5b3V0Q2F0ZWdvcnlCbG9ja3M9Zmx5b3V0Q2F0ZWdvcnlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMuaW50ZXJuYWxGbHlvdXRDYXRlZ29yeT1pbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMub25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX0NvbG91cj1jb2xvdXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMub25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX051bWJlcj1udW1iZXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMub25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX1N0cmluZz1zdHJpbmdCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYzt2YXIgQ29ubmVjdGlvbkNoZWNrZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2NoZWNrZXI9Y2xhc3N7Y2FuQ29ubmVjdChhLGIsYyxkKXtyZXR1cm4gdGhpcy5jYW5Db25uZWN0V2l0aFJlYXNvbihhLGIsYyxkKT09PUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLkNBTl9DT05ORUNUfWNhbkNvbm5lY3RXaXRoUmVhc29uKGEsYixjLGQpe2NvbnN0IGU9dGhpcy5kb1NhZmV0eUNoZWNrcyhhLGIpO3JldHVybiBlIT09Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uQ0FOX0NPTk5FQ1Q/ZTp0aGlzLmRvVHlwZUNoZWNrcyhhLGIpP2MmJiF0aGlzLmRvRHJhZ0NoZWNrcyhhLGIsZHx8MCk/Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0RSQUdfQ0hFQ0tTX0ZBSUxFRDpDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5DQU5fQ09OTkVDVDpcbkNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9DSEVDS1NfRkFJTEVEfWdldEVycm9yTWVzc2FnZShhLGIsYyl7c3dpdGNoKGEpe2Nhc2UgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1NFTEZfQ09OTkVDVElPTjpyZXR1cm5cIkF0dGVtcHRlZCB0byBjb25uZWN0IGEgYmxvY2sgdG8gaXRzZWxmLlwiO2Nhc2UgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0RJRkZFUkVOVF9XT1JLU1BBQ0VTOnJldHVyblwiQmxvY2tzIG5vdCBvbiBzYW1lIHdvcmtzcGFjZS5cIjtjYXNlIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9XUk9OR19UWVBFOnJldHVyblwiQXR0ZW1wdCB0byBjb25uZWN0IGluY29tcGF0aWJsZSB0eXBlcy5cIjtjYXNlIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9UQVJHRVRfTlVMTDpyZXR1cm5cIlRhcmdldCBjb25uZWN0aW9uIGlzIG51bGwuXCI7XG5jYXNlIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9DSEVDS1NfRkFJTEVEOnJldHVyblwiQ29ubmVjdGlvbiBjaGVja3MgZmFpbGVkLiBcIisoYitcIiBleHBlY3RlZCBcIitiLmdldENoZWNrKCkrXCIsIGZvdW5kIFwiK2MuZ2V0Q2hlY2soKSk7Y2FzZSBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fU0hBRE9XX1BBUkVOVDpyZXR1cm5cIkNvbm5lY3Rpbmcgbm9uLXNoYWRvdyB0byBzaGFkb3cgYmxvY2suXCI7Y2FzZSBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fRFJBR19DSEVDS1NfRkFJTEVEOnJldHVyblwiRHJhZyBjaGVja3MgZmFpbGVkLlwiO2Nhc2UgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1BSRVZJT1VTX0FORF9PVVRQVVQ6cmV0dXJuXCJCbG9jayB3b3VsZCBoYXZlIGFuIG91dHB1dCBhbmQgYSBwcmV2aW91cyBjb25uZWN0aW9uLlwiO1xuZGVmYXVsdDpyZXR1cm5cIlVua25vd24gY29ubmVjdGlvbiBmYWlsdXJlOiB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW4hXCJ9fWRvU2FmZXR5Q2hlY2tzKGEsYil7aWYoIWF8fCFiKXJldHVybiBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fVEFSR0VUX05VTEw7bGV0IGMsZCxlO2EuaXNTdXBlcmlvcigpPyhjPWEuZ2V0U291cmNlQmxvY2soKSxkPWIuZ2V0U291cmNlQmxvY2soKSxlPWIpOihkPWEuZ2V0U291cmNlQmxvY2soKSxjPWIuZ2V0U291cmNlQmxvY2soKSxlPWEsYT1iKTtyZXR1cm4gYz09PWQ/Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1NFTEZfQ09OTkVDVElPTjplLnR5cGUhPT1PUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzW2EudHlwZV0/Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1dST05HX1RZUEU6XG5jLndvcmtzcGFjZSE9PWQud29ya3NwYWNlP0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9ESUZGRVJFTlRfV09SS1NQQUNFUzpjLmlzU2hhZG93KCkmJiFkLmlzU2hhZG93KCk/Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1NIQURPV19QQVJFTlQ6ZS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFJiZkLnByZXZpb3VzQ29ubmVjdGlvbiYmZC5wcmV2aW91c0Nvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKXx8ZS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UJiZkLm91dHB1dENvbm5lY3Rpb24mJmQub3V0cHV0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpP0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9QUkVWSU9VU19BTkRfT1VUUFVUOlxuQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uQ0FOX0NPTk5FQ1R9ZG9UeXBlQ2hlY2tzKGEsYil7YT1hLmdldENoZWNrKCk7Yj1iLmdldENoZWNrKCk7aWYoIWF8fCFiKXJldHVybiEwO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGIuaW5jbHVkZXMoYVtjXSkpcmV0dXJuITA7cmV0dXJuITF9ZG9EcmFnQ2hlY2tzKGEsYixjKXtpZihhLmRpc3RhbmNlRnJvbShiKT5jfHxiLmdldFNvdXJjZUJsb2NrKCkuaXNJbnNlcnRpb25NYXJrZXIoKSlyZXR1cm4hMTtzd2l0Y2goYi50eXBlKXtjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVDpyZXR1cm4gdGhpcy5jYW5Db25uZWN0VG9QcmV2aW91c18oYSxiKTtjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRTppZihiLmlzQ29ubmVjdGVkKCkmJlxuIWIudGFyZ2V0QmxvY2soKS5pc0luc2VydGlvbk1hcmtlcigpfHxhLmlzQ29ubmVjdGVkKCkpcmV0dXJuITE7YnJlYWs7Y2FzZSBDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRTppZihiLmlzQ29ubmVjdGVkKCkmJiFiLnRhcmdldEJsb2NrKCkuaXNNb3ZhYmxlKCkmJiFiLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKSlyZXR1cm4hMTticmVhaztjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UOmlmKGIuaXNDb25uZWN0ZWQoKSYmIWEuZ2V0U291cmNlQmxvY2soKS5uZXh0Q29ubmVjdGlvbiYmIWIudGFyZ2V0QmxvY2soKS5pc1NoYWRvdygpJiZiLnRhcmdldEJsb2NrKCkubmV4dENvbm5lY3Rpb258fGIudGFyZ2V0QmxvY2soKSYmIWIudGFyZ2V0QmxvY2soKS5pc01vdmFibGUoKSYmIWIudGFyZ2V0QmxvY2soKS5pc1NoYWRvdygpKXJldHVybiExO1xuYnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4gZHJhZ2dpbmdDb25uZWN0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5pbmNsdWRlcyhiKT8hMTohMH1jYW5Db25uZWN0VG9QcmV2aW91c18oYSxiKXtpZihhLnRhcmdldENvbm5lY3Rpb258fGRyYWdnaW5nQ29ubmVjdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uaW5jbHVkZXMoYikpcmV0dXJuITE7aWYoIWIudGFyZ2V0Q29ubmVjdGlvbilyZXR1cm4hMDthPWIudGFyZ2V0QmxvY2soKTtyZXR1cm4gYS5pc0luc2VydGlvbk1hcmtlcigpPyFhLmdldFByZXZpb3VzQmxvY2soKTohMX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNPTk5FQ1RJT05fQ0hFQ0tFUixERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksQ29ubmVjdGlvbkNoZWNrZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2NoZWNrZXIpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2NoZWNrZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fY2hlY2tlci5Db25uZWN0aW9uQ2hlY2tlcj1Db25uZWN0aW9uQ2hlY2tlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fY2hlY2tlcjt2YXIgV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlPWNsYXNze2dldCBpc0ZseW91dCgpe3JldHVybiB0aGlzLmludGVybmFsSXNGbHlvdXR9Z2V0IGlzTXV0YXRvcigpe3JldHVybiB0aGlzLmludGVybmFsSXNNdXRhdG9yfWNvbnN0cnVjdG9yKGEpe3RoaXMuaXNDbGVhcmluZz10aGlzLmludGVybmFsSXNNdXRhdG9yPXRoaXMuaW50ZXJuYWxJc0ZseW91dD10aGlzLnJlbmRlcmVkPSExO3RoaXMuTUFYX1VORE89MTAyNDt0aGlzLmNvbm5lY3Rpb25EQkxpc3Q9W107dGhpcy50b3BCbG9ja3M9W107dGhpcy50b3BDb21tZW50cz1bXTt0aGlzLmNvbW1lbnREQj1uZXcgTWFwO3RoaXMubGlzdGVuZXJzPVtdO3RoaXMudW5kb1N0YWNrXz1bXTt0aGlzLnJlZG9TdGFja189W107dGhpcy5ibG9ja0RCPW5ldyBNYXA7dGhpcy50eXBlZEJsb2Nrc0RCPW5ldyBNYXA7dGhpcy5wcm9jZWR1cmVNYXA9bmV3IE9ic2VydmFibGVQcm9jZWR1cmVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvYnNlcnZhYmxlX3Byb2NlZHVyZV9tYXA7XG50aGlzLnJlYWRPbmx5PSExO3RoaXMucG90ZW50aWFsVmFyaWFibGVNYXA9bnVsbDt0aGlzLmlkPWdlblVpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCk7cmVnaXN0ZXJXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24odGhpcyk7dGhpcy5vcHRpb25zPWF8fG5ldyBPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucyh7fSk7dGhpcy5SVEw9ISF0aGlzLm9wdGlvbnMuUlRMO3RoaXMuaG9yaXpvbnRhbExheW91dD0hIXRoaXMub3B0aW9ucy5ob3Jpem9udGFsTGF5b3V0O3RoaXMudG9vbGJveFBvc2l0aW9uPXRoaXMub3B0aW9ucy50b29sYm94UG9zaXRpb247dGhpcy5jb25uZWN0aW9uQ2hlY2tlcj1uZXcgKGdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQ09OTkVDVElPTl9DSEVDS0VSLHRoaXMub3B0aW9ucyxcbiEwKSkodGhpcyk7dGhpcy52YXJpYWJsZU1hcD1uZXcgKHRoaXMuZ2V0VmFyaWFibGVNYXBDbGFzcygpKSh0aGlzKTt0aGlzLnNldElzUmVhZE9ubHkodGhpcy5vcHRpb25zLnJlYWRPbmx5KX1kaXNwb3NlKCl7dGhpcy5saXN0ZW5lcnMubGVuZ3RoPTA7dGhpcy5jbGVhcigpO3VucmVnaXN0ZXJXb3JrcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzKX1zb3J0T2JqZWN0cyhhLGIpe2NvbnN0IGM9ZD0+KHtnZXRCb3VuZGluZ1JlY3RhbmdsZTooKT0+e2NvbnN0IGU9ZC5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChlLnksZS55LGUueCxlLngpfSxtb3ZlQnk6KCk9Pnt9fSk7cmV0dXJuIHRoaXMuc29ydEJ5T3JpZ2luKGMoYSksYyhiKSl9c29ydEJ5T3JpZ2luKGEsYil7Y29uc3QgYz1NYXRoLnNpbih0b1JhZGlhbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoKFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZS5TQ0FOX0FOR0xFKSkqXG4odGhpcy5SVEw/LTE6MSk7YT1hLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkuZ2V0T3JpZ2luKCk7Yj1iLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkuZ2V0T3JpZ2luKCk7cmV0dXJuIGEueStjKmEueC0oYi55K2MqYi54KX1hZGRUb3BCbG9jayhhKXt0aGlzLnRvcEJsb2Nrcy5wdXNoKGEpfXJlbW92ZVRvcEJsb2NrKGEpe2lmKCFyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy50b3BCbG9ja3MsYSkpdGhyb3cgRXJyb3IoXCJCbG9jayBub3QgcHJlc2VudCBpbiB3b3Jrc3BhY2UncyBsaXN0IG9mIHRvcC1tb3N0IGJsb2Nrcy5cIik7fWdldFRvcEJsb2NrcyhhPSExKXtjb25zdCBiPVtdLmNvbmNhdCh0aGlzLnRvcEJsb2Nrcyk7YSYmYi5sZW5ndGg+MSYmYi5zb3J0KHRoaXMuc29ydE9iamVjdHMuYmluZCh0aGlzKSk7cmV0dXJuIGJ9YWRkVHlwZWRCbG9jayhhKXt0aGlzLnR5cGVkQmxvY2tzREIuaGFzKGEudHlwZSl8fHRoaXMudHlwZWRCbG9ja3NEQi5zZXQoYS50eXBlLFxuW10pO3RoaXMudHlwZWRCbG9ja3NEQi5nZXQoYS50eXBlKS5wdXNoKGEpfXJlbW92ZVR5cGVkQmxvY2soYSl7cmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMudHlwZWRCbG9ja3NEQi5nZXQoYS50eXBlKSxhKTt0aGlzLnR5cGVkQmxvY2tzREIuZ2V0KGEudHlwZSkubGVuZ3RofHx0aGlzLnR5cGVkQmxvY2tzREIuZGVsZXRlKGEudHlwZSl9Z2V0QmxvY2tzQnlUeXBlKGEsYj0hMSl7aWYoIXRoaXMudHlwZWRCbG9ja3NEQi5oYXMoYSkpcmV0dXJuW107YT10aGlzLnR5cGVkQmxvY2tzREIuZ2V0KGEpLnNsaWNlKDApO2ImJmEmJmEubGVuZ3RoPjEmJmEuc29ydCh0aGlzLnNvcnRPYmplY3RzLmJpbmQodGhpcykpO3JldHVybiBhLmZpbHRlcihjPT4hYy5pc0luc2VydGlvbk1hcmtlcigpKX1hZGRUb3BDb21tZW50KGEpe3RoaXMudG9wQ29tbWVudHMucHVzaChhKTt0aGlzLmNvbW1lbnREQi5oYXMoYS5pZCkmJmNvbnNvbGUud2FybignT3ZlcnJpZGluZyBhbiBleGlzdGluZyBjb21tZW50IG9uIHRoaXMgd29ya3NwYWNlLCB3aXRoIGlkIFwiJytcbmEuaWQrJ1wiJyk7dGhpcy5jb21tZW50REIuc2V0KGEuaWQsYSl9cmVtb3ZlVG9wQ29tbWVudChhKXtpZighcmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMudG9wQ29tbWVudHMsYSkpdGhyb3cgRXJyb3IoXCJDb21tZW50IG5vdCBwcmVzZW50IGluIHdvcmtzcGFjZSdzIGxpc3Qgb2YgdG9wLW1vc3QgY29tbWVudHMuXCIpO3RoaXMuY29tbWVudERCLmRlbGV0ZShhLmlkKX1nZXRUb3BDb21tZW50cyhhPSExKXtjb25zdCBiPVtdLmNvbmNhdCh0aGlzLnRvcENvbW1lbnRzKTthJiZiLmxlbmd0aD4xJiZiLnNvcnQodGhpcy5zb3J0T2JqZWN0cy5iaW5kKHRoaXMpKTtyZXR1cm4gYn1nZXRBbGxCbG9ja3MoYT0hMSl7aWYoYSl7dmFyIGI9dGhpcy5nZXRUb3BCbG9ja3MoITApO2E9W107Zm9yKGxldCBjPTA7YzxiLmxlbmd0aDtjKyspYS5wdXNoKC4uLmJbY10uZ2V0RGVzY2VuZGFudHMoITApKX1lbHNlIGZvcihhPXRoaXMuZ2V0VG9wQmxvY2tzKCExKSxcbmI9MDtiPGEubGVuZ3RoO2IrKylhLnB1c2goLi4uYVtiXS5nZXRDaGlsZHJlbighMSkpO3JldHVybiBhLmZpbHRlcihjPT4hYy5pc0luc2VydGlvbk1hcmtlcigpKX1jbGVhcigpe3RoaXMuaXNDbGVhcmluZz0hMDt0cnl7Y29uc3QgYT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7Zm9yKGF8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3RoaXMudG9wQmxvY2tzLmxlbmd0aDspdGhpcy50b3BCbG9ja3NbMF0uZGlzcG9zZSghMSk7Zm9yKDt0aGlzLnRvcENvbW1lbnRzLmxlbmd0aDspdGhpcy50b3BDb21tZW50c1t0aGlzLnRvcENvbW1lbnRzLmxlbmd0aC0xXS5kaXNwb3NlKCk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKTt0aGlzLmlzRmx5b3V0fHx0aGlzLnZhcmlhYmxlTWFwLmNsZWFyKCk7dGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcCYmdGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcC5jbGVhcigpfWZpbmFsbHl7dGhpcy5pc0NsZWFyaW5nPVxuITF9fXJlbmFtZVZhcmlhYmxlQnlJZChhLGIpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLnJlbmFtZVZhcmlhYmxlQnlJZFwiLFwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlTWFwKCkucmVuYW1lVmFyaWFibGVcIik7KGE9dGhpcy52YXJpYWJsZU1hcC5nZXRWYXJpYWJsZUJ5SWQoYSkpJiZ0aGlzLnZhcmlhYmxlTWFwLnJlbmFtZVZhcmlhYmxlKGEsYil9Y3JlYXRlVmFyaWFibGUoYSxiLGMpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmNyZWF0ZVZhcmlhYmxlXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5jcmVhdGVWYXJpYWJsZVwiKTtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcC5jcmVhdGVWYXJpYWJsZShhLGIhPW51bGw/Yjp2b2lkIDAsYyE9bnVsbD9jOnZvaWQgMCl9Z2V0VmFyaWFibGVVc2VzQnlJZChhKXt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRWYXJpYWJsZVVzZXNCeUlkXCIsXG5cInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LlZhcmlhYmxlcy5nZXRWYXJpYWJsZVVzZXNCeUlkXCIpO3JldHVybiBnZXRWYXJpYWJsZVVzZXNCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMsYSl9ZGVsZXRlVmFyaWFibGVCeUlkKGEpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmRlbGV0ZVZhcmlhYmxlQnlJZFwiLFwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlTWFwKCkuZGVsZXRlVmFyaWFibGVcIik7Y29uc3QgYj10aGlzLnZhcmlhYmxlTWFwLmdldFZhcmlhYmxlQnlJZChhKTtiPyQuZGVsZXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXModGhpcyxiKTpjb25zb2xlLndhcm4oYENhbid0IGRlbGV0ZSBub24tZXhpc3RlbnQgdmFyaWFibGU6ICR7YX1gKX1nZXRWYXJpYWJsZShhLGIpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlXCIsXG5cInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRWYXJpYWJsZU1hcCgpLmdldFZhcmlhYmxlXCIpO3JldHVybiB0aGlzLnZhcmlhYmxlTWFwLmdldFZhcmlhYmxlKGEsYil9Z2V0VmFyaWFibGVCeUlkKGEpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlQnlJZFwiLFwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlTWFwKCkuZ2V0VmFyaWFibGVCeUlkXCIpO3JldHVybiB0aGlzLnZhcmlhYmxlTWFwLmdldFZhcmlhYmxlQnlJZChhKX1nZXRWYXJpYWJsZXNPZlR5cGUoYSl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVzT2ZUeXBlXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5nZXRWYXJpYWJsZXNPZlR5cGVcIik7cmV0dXJuIHRoaXMudmFyaWFibGVNYXAuZ2V0VmFyaWFibGVzT2ZUeXBlKGEhPVxubnVsbD9hOlwiXCIpfWdldEFsbFZhcmlhYmxlcygpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmdldEFsbFZhcmlhYmxlc1wiLFwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlTWFwKCkuZ2V0QWxsVmFyaWFibGVzXCIpO3JldHVybiB0aGlzLnZhcmlhYmxlTWFwLmdldEFsbFZhcmlhYmxlcygpfWdldEFsbFZhcmlhYmxlTmFtZXMoKXt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRBbGxWYXJpYWJsZU5hbWVzXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXNcIik7cmV0dXJuIHRoaXMudmFyaWFibGVNYXAuZ2V0QWxsVmFyaWFibGVzKCkubWFwKGE9PmEuZ2V0TmFtZSgpKX1nZXRXaWR0aCgpe3JldHVybiAwfW5ld0Jsb2NrKGEsYil7dGhyb3cgRXJyb3IoXCJUaGUgaW1wbGVtZW50YXRpb24gb2YgbmV3QmxvY2sgc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7XG59bmV3Q29tbWVudChhKXt0aHJvdyBFcnJvcihcIlRoZSBpbXBsZW1lbnRhdGlvbiBvZiBuZXdDb21tZW50IHNob3VsZCBiZSBtb25rZXktcGF0Y2hlZCBpbiBieSBibG9ja2x5LnRzXCIpO31yZW1haW5pbmdDYXBhY2l0eSgpe3JldHVybiBpc05hTih0aGlzLm9wdGlvbnMubWF4QmxvY2tzKT9JbmZpbml0eTp0aGlzLm9wdGlvbnMubWF4QmxvY2tzLXRoaXMuZ2V0QWxsQmxvY2tzKCExKS5sZW5ndGh9cmVtYWluaW5nQ2FwYWNpdHlPZlR5cGUoYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhJbnN0YW5jZXM/KHRoaXMub3B0aW9ucy5tYXhJbnN0YW5jZXNbYV0hPT12b2lkIDA/dGhpcy5vcHRpb25zLm1heEluc3RhbmNlc1thXTpJbmZpbml0eSktdGhpcy5nZXRCbG9ja3NCeVR5cGUoYSwhMSkubGVuZ3RoOkluZmluaXR5fWlzQ2FwYWNpdHlBdmFpbGFibGUoYSl7aWYoIXRoaXMuaGFzQmxvY2tMaW1pdHMoKSlyZXR1cm4hMDtsZXQgYj0wO2Zvcihjb25zdCBjIGluIGEpe2lmKGFbY10+dGhpcy5yZW1haW5pbmdDYXBhY2l0eU9mVHlwZShjKSlyZXR1cm4hMTtcbmIrPWFbY119cmV0dXJuIGI+dGhpcy5yZW1haW5pbmdDYXBhY2l0eSgpPyExOiEwfWhhc0Jsb2NrTGltaXRzKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhCbG9ja3MhPT1JbmZpbml0eXx8ISF0aGlzLm9wdGlvbnMubWF4SW5zdGFuY2VzfWdldFVuZG9TdGFjaygpe3JldHVybiB0aGlzLnVuZG9TdGFja199Z2V0UmVkb1N0YWNrKCl7cmV0dXJuIHRoaXMucmVkb1N0YWNrX311bmRvKGEpe3ZhciBiPWE/dGhpcy5yZWRvU3RhY2tfOnRoaXMudW5kb1N0YWNrXyxjPWE/dGhpcy51bmRvU3RhY2tfOnRoaXMucmVkb1N0YWNrXztjb25zdCBkPWIucG9wKCk7aWYoZCl7Zm9yKHZhciBlPVtkXTtiLmxlbmd0aCYmZC5ncm91cCYmZC5ncm91cD09PWJbYi5sZW5ndGgtMV0uZ3JvdXA7KXtjb25zdCBmPWIucG9wKCk7ZiYmZS5wdXNoKGYpfWZvcihiPTA7YjxlLmxlbmd0aDtiKyspYy5wdXNoKGVbYl0pOyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSk7XG50cnl7Zm9yKGM9MDtjPGUubGVuZ3RoO2MrKyllW2NdLnJ1bihhKX1maW5hbGx5eyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCl9fX1jbGVhclVuZG8oKXt0aGlzLnVuZG9TdGFja18ubGVuZ3RoPTA7dGhpcy5yZWRvU3RhY2tfLmxlbmd0aD0wO2NsZWFyUGVuZGluZ1VuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX1hZGRDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLmxpc3RlbmVycy5wdXNoKGEpO3JldHVybiBhfXJlbW92ZUNoYW5nZUxpc3RlbmVyKGEpe3JlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheSh0aGlzLmxpc3RlbmVycyxhKX1maXJlQ2hhbmdlTGlzdGVuZXIoYSl7aWYoYS5yZWNvcmRVbmRvKWZvcih0aGlzLnVuZG9TdGFja18ucHVzaChhKSx0aGlzLnJlZG9TdGFja18ubGVuZ3RoPTA7dGhpcy51bmRvU3RhY2tfLmxlbmd0aD50aGlzLk1BWF9VTkRPJiZ0aGlzLk1BWF9VTkRPPj1cbjA7KXRoaXMudW5kb1N0YWNrXy5zaGlmdCgpO2ZvcihsZXQgYj0wO2I8dGhpcy5saXN0ZW5lcnMubGVuZ3RoO2IrKykoMCx0aGlzLmxpc3RlbmVyc1tiXSkoYSl9Z2V0QmxvY2tCeUlkKGEpe3JldHVybiB0aGlzLmJsb2NrREIuZ2V0KGEpfHxudWxsfXNldEJsb2NrQnlJZChhLGIpe3RoaXMuYmxvY2tEQi5zZXQoYSxiKX1yZW1vdmVCbG9ja0J5SWQoYSl7dGhpcy5ibG9ja0RCLmRlbGV0ZShhKX1nZXRDb21tZW50QnlJZChhKXtsZXQgYjtyZXR1cm4oYj10aGlzLmNvbW1lbnREQi5nZXQoYSkpIT1udWxsP2I6bnVsbH1hbGxJbnB1dHNGaWxsZWQoYSl7Y29uc3QgYj10aGlzLmdldFRvcEJsb2NrcyghMSk7Zm9yKGxldCBjPTA7YzxiLmxlbmd0aDtjKyspaWYoIWJbY10uYWxsSW5wdXRzRmlsbGVkKGEpKXJldHVybiExO3JldHVybiEwfWdldFBvdGVudGlhbFZhcmlhYmxlTWFwKCl7cmV0dXJuIHRoaXMucG90ZW50aWFsVmFyaWFibGVNYXB9Y3JlYXRlUG90ZW50aWFsVmFyaWFibGVNYXAoKXt0aGlzLnBvdGVudGlhbFZhcmlhYmxlTWFwPVxubmV3ICh0aGlzLmdldFZhcmlhYmxlTWFwQ2xhc3MoKSkodGhpcywhMCl9Z2V0VmFyaWFibGVNYXAoKXtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcH1zZXRWYXJpYWJsZU1hcChhKXt0aGlzLnZhcmlhYmxlTWFwPWF9Z2V0UHJvY2VkdXJlTWFwKCl7cmV0dXJuIHRoaXMucHJvY2VkdXJlTWFwfWdldFJvb3RXb3Jrc3BhY2UoKXtsZXQgYT1udWxsO2NvbnN0IGI9dGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZTt0aGlzLmlzRmx5b3V0P2ImJmIub3B0aW9ucyYmKGE9Yi5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSk6YiYmKGE9Yik7cmV0dXJuIGF9c3RhdGljIGdldEJ5SWQoYSl7cmV0dXJuIGdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYSl9c3RhdGljIGdldEFsbCgpe3JldHVybiBnZXRBbGxXb3Jrc3BhY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCl9Z2V0VmFyaWFibGVNYXBDbGFzcygpe2NvbnN0IGE9Z2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5WQVJJQUJMRV9NQVAsXG50aGlzLm9wdGlvbnMsITApO2lmKCFhKXRocm93IEVycm9yKFwiTm8gdmFyaWFibGUgbWFwIGlzIHJlZ2lzdGVyZWQuXCIpO3JldHVybiBhfWlzUmVhZE9ubHkoKXtyZXR1cm4gdGhpcy5yZWFkT25seX1zZXRJc1JlYWRPbmx5KGEpe3RoaXMucmVhZE9ubHk9YTt0aGlzLm9wdGlvbnMucmVhZE9ubHk9YX19O1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZS5TQ0FOX0FOR0xFPTM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZS5Xb3Jrc3BhY2U9V29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlO3ZhciBTT1VORF9MSU1JVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpbz0xMDAsV29ya3NwYWNlQXVkaW8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfYXVkaW89Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5wYXJlbnRXb3Jrc3BhY2U9YTt0aGlzLnNvdW5kcz1uZXcgTWFwO3RoaXMubGFzdFNvdW5kPW51bGw7dGhpcy5tdXRlZD0hMX1kaXNwb3NlKCl7dGhpcy5zb3VuZHMuY2xlYXIoKX1sb2FkKGEsYil7aWYoYS5sZW5ndGgpe3RyeXt2YXIgYz1uZXcgZ2xvYmFsVGhpcy5BdWRpb31jYXRjaChlKXtyZXR1cm59Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspe2NvbnN0IGY9YVtlXSxnPWYubWF0Y2goL1xcLihcXHcrKSQvKTtpZihnJiZjLmNhblBsYXlUeXBlKFwiYXVkaW8vXCIrZ1sxXSkpe3ZhciBkPW5ldyBnbG9iYWxUaGlzLkF1ZGlvKGYpO2JyZWFrfX1kJiZ0aGlzLnNvdW5kcy5zZXQoYixkKX19cHJlbG9hZCgpe2Zvcihjb25zdCBhIG9mIHRoaXMuc291bmRzLnZhbHVlcygpKXthLnZvbHVtZT1cbi4wMTtjb25zdCBiPWEucGxheSgpO2IhPT12b2lkIDA/Yi50aGVuKGEucGF1c2UpLmNhdGNoKGZ1bmN0aW9uKCl7fSk6YS5wYXVzZSgpO2lmKElQQUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnR8fElQSE9ORSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudClicmVha319cGxheShhLGIpe2lmKCF0aGlzLm11dGVkKXt2YXIgYz10aGlzLnNvdW5kcy5nZXQoYSk7Yz8oYT1uZXcgRGF0ZSx0aGlzLmxhc3RTb3VuZCE9PW51bGwmJmEuZ2V0VGltZSgpLXRoaXMubGFzdFNvdW5kLmdldFRpbWUoKTxTT1VORF9MSU1JVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpb3x8KHRoaXMubGFzdFNvdW5kPWEsYz1JUEFEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50fHxBTkRST0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50P2M6Yy5jbG9uZU5vZGUoKSxjLnZvbHVtZT1iPT09dm9pZCAwP1xuMTpiLGMucGxheSgpKSk6dGhpcy5wYXJlbnRXb3Jrc3BhY2UmJnRoaXMucGFyZW50V29ya3NwYWNlLmdldEF1ZGlvTWFuYWdlcigpLnBsYXkoYSxiKX19c2V0TXV0ZWQoYSl7dGhpcy5tdXRlZD1hfWdldE11dGVkKCl7cmV0dXJuIHRoaXMubXV0ZWR9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2F1ZGlvPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfYXVkaW8uV29ya3NwYWNlQXVkaW89V29ya3NwYWNlQXVkaW8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfYXVkaW87dmFyIFpPT01fVE9fRklUX01BUkdJTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc9MjAsV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zz1jbGFzcyBleHRlbmRzIFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyPW51bGw7dGhpcy5yZXNpemVzRW5hYmxlZD10aGlzLnZpc2libGU9dGhpcy5yZW5kZXJlZD0hMDt0aGlzLnN0YXJ0U2Nyb2xsWT10aGlzLnN0YXJ0U2Nyb2xsWD10aGlzLnNjcm9sbFk9dGhpcy5zY3JvbGxYPTA7dGhpcy5vbGRTY2FsZT10aGlzLnNjYWxlPTE7dGhpcy5vbGRMZWZ0PXRoaXMub2xkVG9wPTA7dGhpcy5pbnZlcnNlU2NyZWVuQ1RNPXRoaXMudGFyZ2V0V29ya3NwYWNlPXRoaXMuZHVtbXlXaGVlbExpc3RlbmVyPXRoaXMuY29uZmlndXJlQ29udGV4dE1lbnU9dGhpcy5sYXN0UmVjb3JkZWRQYWdlU2Nyb2xsPVxudGhpcy5pbmplY3Rpb25EaXY9dGhpcy5jdXJyZW50R2VzdHVyZV89dGhpcy50b29sYm94PXRoaXMuZmx5b3V0PXRoaXMuc2Nyb2xsYmFyPXRoaXMudHJhc2hjYW49bnVsbDt0aGlzLmludmVyc2VTY3JlZW5DVE1EaXJ0eT0hMDt0aGlzLmhpZ2hsaWdodGVkQmxvY2tzPVtdO3RoaXMudG9vbGJveENhdGVnb3J5Q2FsbGJhY2tzPW5ldyBNYXA7dGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3M9bmV3IE1hcDt0aGlzLmNhY2hlZFBhcmVudFN2Zz1udWxsO3RoaXMua2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcz10aGlzLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGU9ITE7dGhpcy50b3BCb3VuZGVkRWxlbWVudHM9W107dGhpcy5kcmFnVGFyZ2V0QXJlYXM9W107dGhpcy56b29tQ29udHJvbHNfPXRoaXMubGF5ZXJNYW5hZ2VyPW51bGw7dGhpcy5uYXZpZ2F0b3I9bmV3IE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hdmlnYXRvcjt0aGlzLm1ldHJpY3NNYW5hZ2VyPW5ldyAoZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5NRVRSSUNTX01BTkFHRVIsXG5hLCEwKSkodGhpcyk7dGhpcy5nZXRNZXRyaWNzPWEuZ2V0TWV0cmljc3x8dGhpcy5tZXRyaWNzTWFuYWdlci5nZXRNZXRyaWNzLmJpbmQodGhpcy5tZXRyaWNzTWFuYWdlcik7dGhpcy5zZXRNZXRyaWNzPWEuc2V0TWV0cmljc3x8V29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5zZXRUb3BMZXZlbFdvcmtzcGFjZU1ldHJpY3M7dGhpcy5jb21wb25lbnRNYW5hZ2VyPW5ldyBDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI7dGhpcy5jb25uZWN0aW9uREJMaXN0PUNvbm5lY3Rpb25EQiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGIuaW5pdCh0aGlzLmNvbm5lY3Rpb25DaGVja2VyKTt0aGlzLmF1ZGlvTWFuYWdlcj1uZXcgV29ya3NwYWNlQXVkaW8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfYXVkaW8oYS5wYXJlbnRXb3Jrc3BhY2UpO3RoaXMuZ3JpZD10aGlzLm9wdGlvbnMuZ3JpZFBhdHRlcm4/XG5uZXcgR3JpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdyaWQodGhpcy5vcHRpb25zLmdyaWRQYXR0ZXJuLGEuZ3JpZE9wdGlvbnMpOm51bGw7dGhpcy5tYXJrZXJNYW5hZ2VyPW5ldyBNYXJrZXJNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWFya2VyX21hbmFnZXIodGhpcyk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyYmaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyYmdGhpcy5yZWdpc3RlclRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKENBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljJiZpbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMmJnRoaXMucmVnaXN0ZXJUb29sYm94Q2F0ZWdvcnlDYWxsYmFjayhDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsXG5pbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMpO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzJiZpbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyYmKHRoaXMucmVnaXN0ZXJUb29sYm94Q2F0ZWdvcnlDYWxsYmFjayhDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxpbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyksdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihtdXRhdG9yT3Blbkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcykpO3RoaXMuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy52YXJpYWJsZUNoYW5nZUNhbGxiYWNrLmJpbmQodGhpcykpO3RoaXMudGhlbWVNYW5hZ2VyXz10aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlP3RoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UuZ2V0VGhlbWVNYW5hZ2VyKCk6XG5uZXcgVGhlbWVNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWVfbWFuYWdlcih0aGlzLHRoaXMub3B0aW9ucy50aGVtZXx8Q2xhc3NpYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWMpO3RoaXMudGhlbWVNYW5hZ2VyXy5zdWJzY3JpYmVXb3Jrc3BhY2UodGhpcyk7bGV0IGI7dGhpcy5yZW5kZXJlcj1pbml0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcodGhpcy5vcHRpb25zLnJlbmRlcmVyfHxcImdlcmFzXCIsdGhpcy5nZXRUaGVtZSgpLChiPXRoaXMub3B0aW9ucy5yZW5kZXJlck92ZXJyaWRlcykhPW51bGw/Yjp2b2lkIDApO3RoaXMuY2FjaGVkUGFyZW50U3ZnU2l6ZT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoMCwwKX1nZXRNYXJrZXJNYW5hZ2VyKCl7cmV0dXJuIHRoaXMubWFya2VyTWFuYWdlcn1nZXRNZXRyaWNzTWFuYWdlcigpe3JldHVybiB0aGlzLm1ldHJpY3NNYW5hZ2VyfXNldE1ldHJpY3NNYW5hZ2VyKGEpe3RoaXMubWV0cmljc01hbmFnZXI9XG5hO3RoaXMuZ2V0TWV0cmljcz10aGlzLm1ldHJpY3NNYW5hZ2VyLmdldE1ldHJpY3MuYmluZCh0aGlzLm1ldHJpY3NNYW5hZ2VyKX1nZXRDb21wb25lbnRNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50TWFuYWdlcn1nZXRNYXJrZXIoYSl7cmV0dXJuIHRoaXMubWFya2VyTWFuYWdlci5nZXRNYXJrZXIoYSl9Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMubWFya2VyTWFuYWdlci5nZXRDdXJzb3IoKX1nZXRSZW5kZXJlcigpe3JldHVybiB0aGlzLnJlbmRlcmVyfWdldFRoZW1lTWFuYWdlcigpe3JldHVybiB0aGlzLnRoZW1lTWFuYWdlcl99Z2V0VGhlbWUoKXtyZXR1cm4gdGhpcy50aGVtZU1hbmFnZXJfLmdldFRoZW1lKCl9c2V0VGhlbWUoYSl7YXx8KGE9Q2xhc3NpYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWMpO3RoaXMudGhlbWVNYW5hZ2VyXy5zZXRUaGVtZShhKX1yZWZyZXNoVGhlbWUoKXtpZih0aGlzLnN2Z0dyb3VwXyl7dmFyIGE9dGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZT09PVxubnVsbDt0aGlzLnJlbmRlcmVyLnJlZnJlc2hEb20odGhpcy5zdmdHcm91cF8sdGhpcy5nZXRUaGVtZSgpLGE/dGhpcy5nZXRJbmplY3Rpb25EaXYoKTp2b2lkIDApfXRoaXMudXBkYXRlQmxvY2tTdHlsZXModGhpcy5nZXRBbGxCbG9ja3MoITEpLmZpbHRlcihiPT4hIWIuZ2V0U3R5bGVOYW1lKCkpKTt0aGlzLnJlZnJlc2hUb29sYm94U2VsZWN0aW9uKCk7dGhpcy50b29sYm94JiZ0aGlzLnRvb2xib3gucmVmcmVzaFRoZW1lKCk7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5zZXRWaXNpYmxlKCEwKTthPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRIRU1FX0NIQU5HRSkpKHRoaXMuZ2V0VGhlbWUoKS5uYW1lLHRoaXMuaWQpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9dXBkYXRlQmxvY2tTdHlsZXMoYSl7Zm9yKGxldCBiPTAsYztjPWFbYl07YisrKXtjb25zdCBkPVxuYy5nZXRTdHlsZU5hbWUoKTtkJiZjLnNldFN0eWxlKGQpfX1nZXRJbnZlcnNlU2NyZWVuQ1RNKCl7aWYodGhpcy5pbnZlcnNlU2NyZWVuQ1RNRGlydHkpe2NvbnN0IGE9dGhpcy5nZXRQYXJlbnRTdmcoKS5nZXRTY3JlZW5DVE0oKTthJiYodGhpcy5pbnZlcnNlU2NyZWVuQ1RNPWEuaW52ZXJzZSgpLHRoaXMuaW52ZXJzZVNjcmVlbkNUTURpcnR5PSExKX1yZXR1cm4gdGhpcy5pbnZlcnNlU2NyZWVuQ1RNfXVwZGF0ZUludmVyc2VTY3JlZW5DVE0oKXt0aGlzLmludmVyc2VTY3JlZW5DVE1EaXJ0eT0hMH1pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy52aXNpYmxlfWdldFN2Z1hZKGEpe2xldCBiPTAsYz0wLGQ9MTtpZih0aGlzLmdldENhbnZhcygpLmNvbnRhaW5zKGEpfHx0aGlzLmdldEJ1YmJsZUNhbnZhcygpLmNvbnRhaW5zKGEpKWQ9dGhpcy5zY2FsZTtkb3tjb25zdCBlPWdldFJlbGF0aXZlWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aChhKTtpZihhPT09dGhpcy5nZXRDYW52YXMoKXx8XG5hPT09dGhpcy5nZXRCdWJibGVDYW52YXMoKSlkPTE7Yis9ZS54KmQ7Yys9ZS55KmQ7YT1hLnBhcmVudE5vZGV9d2hpbGUoYSYmYSE9PXRoaXMuZ2V0UGFyZW50U3ZnKCkmJmEhPT10aGlzLmdldEluamVjdGlvbkRpdigpKTtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGIsYyl9Z2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZSgpe2NvbnN0IGE9dGhpcy5jYWNoZWRQYXJlbnRTdmdTaXplO3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYS53aWR0aCxhLmhlaWdodCl9Z2V0T3JpZ2luT2Zmc2V0SW5QaXhlbHMoKXtyZXR1cm4gZ2V0SW5qZWN0aW9uRGl2WFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCh0aGlzLmdldENhbnZhcygpKX1nZXRJbmplY3Rpb25EaXYoKXtpZighdGhpcy5pbmplY3Rpb25EaXYpe2xldCBhPXRoaXMuc3ZnR3JvdXBfO2Zvcig7YTspe2lmKChcIiBcIitcbihhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikuaW5jbHVkZXMoXCIgaW5qZWN0aW9uRGl2IFwiKSl7dGhpcy5pbmplY3Rpb25EaXY9YTticmVha31hPWEucGFyZW50Tm9kZX19cmV0dXJuIHRoaXMuaW5qZWN0aW9uRGl2fWdldFN2Z0dyb3VwKCl7cmV0dXJuIHRoaXMuc3ZnR3JvdXBffWdldEJsb2NrQ2FudmFzKCl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzKCl9c2V0UmVzaXplSGFuZGxlcldyYXBwZXIoYSl7dGhpcy5yZXNpemVIYW5kbGVyV3JhcHBlcj1hfWNyZWF0ZURvbShhLGIpe3RoaXMuaW5qZWN0aW9uRGl2fHwodGhpcy5pbmplY3Rpb25EaXY9YiE9bnVsbD9iOm51bGwpO3RoaXMuc3ZnR3JvdXBfPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse1wiY2xhc3NcIjpcImJsb2NrbHlXb3Jrc3BhY2VcIixpZDp0aGlzLmlkfSk7YiYmc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuc3ZnR3JvdXBfLFxuU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkxBQkVMLCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLldPUktTUEFDRV9BUklBX0xBQkVMKTthJiYodGhpcy5zdmdCYWNrZ3JvdW5kXz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtoZWlnaHQ6XCIxMDAlXCIsd2lkdGg6XCIxMDAlXCIsXCJjbGFzc1wiOmF9LHRoaXMuc3ZnR3JvdXBfKSxhPT09XCJibG9ja2x5TWFpbkJhY2tncm91bmRcIiYmdGhpcy5ncmlkP3RoaXMuc3ZnQmFja2dyb3VuZF8uc3R5bGUuZmlsbD1cInZhcigtLWJsb2NrbHlHcmlkUGF0dGVybilcIjp0aGlzLnRoZW1lTWFuYWdlcl8uc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8sXCJ3b3Jrc3BhY2VCYWNrZ3JvdW5kQ29sb3VyXCIsXCJmaWxsXCIpKTt0aGlzLmxheWVyTWFuYWdlcj1uZXcgTGF5ZXJNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJfbWFuYWdlcih0aGlzKTtcbnRoaXMuc3ZnQmxvY2tDYW52YXNfPXRoaXMubGF5ZXJNYW5hZ2VyLmdldEJsb2NrTGF5ZXIoKTt0aGlzLnN2Z0J1YmJsZUNhbnZhc189dGhpcy5sYXllck1hbmFnZXIuZ2V0QnViYmxlTGF5ZXIoKTt0aGlzLmlzRmx5b3V0fHwoY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cF8sXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5vbk1vdXNlRG93biwhMSksdGhpcy5kdW1teVdoZWVsTGlzdGVuZXI9KCk9Pnt9LGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdGhpcy5kdW1teVdoZWVsTGlzdGVuZXIpLGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnR3JvdXBfLFwid2hlZWxcIix0aGlzLHRoaXMub25Nb3VzZVdoZWVsKSk7dGhpcy5vcHRpb25zLmhhc0NhdGVnb3JpZXMmJih0aGlzLnRvb2xib3g9bmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRPT0xCT1gsXG50aGlzLm9wdGlvbnMsITApKSh0aGlzKSk7dGhpcy5ncmlkJiZ0aGlzLmdyaWQudXBkYXRlKHRoaXMuc2NhbGUpO3RoaXMucmVjb3JkRHJhZ1RhcmdldHMoKTsoYT1nZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNVUlNPUix0aGlzLm9wdGlvbnMpKSYmdGhpcy5tYXJrZXJNYW5hZ2VyLnNldEN1cnNvcihuZXcgYSh0aGlzKSk7YT10aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlPT09bnVsbDt0aGlzLnJlbmRlcmVyLmNyZWF0ZURvbSh0aGlzLnN2Z0dyb3VwXyx0aGlzLmdldFRoZW1lKCksYT90aGlzLmdldEluamVjdGlvbkRpdigpOnZvaWQgMCk7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkucmVnaXN0ZXJUcmVlKHRoaXMsISF0aGlzLmluamVjdGlvbkRpdnx8dGhpcy5pc0ZseW91dCk7cmV0dXJuIHRoaXMuc3ZnR3JvdXBffWRpc3Bvc2UoKXt0aGlzLnJlbmRlcmVkPVxuITE7dGhpcy5jdXJyZW50R2VzdHVyZV8mJnRoaXMuY3VycmVudEdlc3R1cmVfLmNhbmNlbCgpO3RoaXMuc3ZnR3JvdXBfJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXBfKTt0aGlzLnRvb2xib3gmJih0aGlzLnRvb2xib3guZGlzcG9zZSgpLHRoaXMudG9vbGJveD1udWxsKTt0aGlzLmZseW91dCYmKHRoaXMuZmx5b3V0LmRpc3Bvc2UoKSx0aGlzLmZseW91dD1udWxsKTt0aGlzLnRyYXNoY2FuJiYodGhpcy50cmFzaGNhbi5kaXNwb3NlKCksdGhpcy50cmFzaGNhbj1udWxsKTt0aGlzLnNjcm9sbGJhciYmKHRoaXMuc2Nyb2xsYmFyLmRpc3Bvc2UoKSx0aGlzLnNjcm9sbGJhcj1udWxsKTt0aGlzLnpvb21Db250cm9sc18mJnRoaXMuem9vbUNvbnRyb2xzXy5kaXNwb3NlKCk7dGhpcy5hdWRpb01hbmFnZXImJnRoaXMuYXVkaW9NYW5hZ2VyLmRpc3Bvc2UoKTt0aGlzLmdyaWQmJih0aGlzLmdyaWQ9bnVsbCk7dGhpcy5yZW5kZXJlci5kaXNwb3NlKCk7XG50aGlzLm1hcmtlck1hbmFnZXIuZGlzcG9zZSgpO3N1cGVyLmRpc3Bvc2UoKTt0aGlzLnRoZW1lTWFuYWdlcl8mJih0aGlzLnRoZW1lTWFuYWdlcl8udW5zdWJzY3JpYmVXb3Jrc3BhY2UodGhpcyksdGhpcy50aGVtZU1hbmFnZXJfLnVuc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8pLHRoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2V8fHRoaXMudGhlbWVNYW5hZ2VyXy5kaXNwb3NlKCkpO3RoaXMuY29ubmVjdGlvbkRCTGlzdC5sZW5ndGg9MDt0aGlzLnRvb2xib3hDYXRlZ29yeUNhbGxiYWNrcy5jbGVhcigpO3RoaXMuZmx5b3V0QnV0dG9uQ2FsbGJhY2tzLmNsZWFyKCk7aWYoIXRoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2Upe2NvbnN0IGE9dGhpcy5nZXRQYXJlbnRTdmcoKTthJiZhLnBhcmVudE5vZGUmJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYS5wYXJlbnROb2RlKX10aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyJiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5yZXNpemVIYW5kbGVyV3JhcHBlciksXG50aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyPW51bGwpO3RoaXMuZHVtbXlXaGVlbExpc3RlbmVyJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLmR1bW15V2hlZWxMaXN0ZW5lciksdGhpcy5kdW1teVdoZWVsTGlzdGVuZXI9bnVsbCk7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuaXNSZWdpc3RlcmVkKHRoaXMpJiYkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS51bnJlZ2lzdGVyVHJlZSh0aGlzKX1hZGRUcmFzaGNhbigpe3RoaXMudHJhc2hjYW49V29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5uZXdUcmFzaGNhbih0aGlzKTtjb25zdCBhPXRoaXMudHJhc2hjYW4uY3JlYXRlRG9tKCk7dGhpcy5zdmdHcm91cF8uaW5zZXJ0QmVmb3JlKGEsdGhpcy5nZXRDYW52YXMoKSl9c3RhdGljIG5ld1RyYXNoY2FuKGEpe3Rocm93IEVycm9yKFwiVGhlIGltcGxlbWVudGF0aW9uIG9mIG5ld1RyYXNoY2FuIHNob3VsZCBiZSBtb25rZXktcGF0Y2hlZCBpbiBieSBibG9ja2x5LnRzXCIpO1xufWFkZFpvb21Db250cm9scygpe3RoaXMuem9vbUNvbnRyb2xzXz1uZXcgWm9vbUNvbnRyb2xzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkem9vbV9jb250cm9scyh0aGlzKTtjb25zdCBhPXRoaXMuem9vbUNvbnRyb2xzXy5jcmVhdGVEb20oKTt0aGlzLnN2Z0dyb3VwXy5hcHBlbmRDaGlsZChhKX1jb3B5T3B0aW9uc0ZvckZseW91dCgpe3JldHVybiBuZXcgT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMoe3BhcmVudFdvcmtzcGFjZTp0aGlzLHJ0bDp0aGlzLlJUTCxvbmVCYXNlZEluZGV4OnRoaXMub3B0aW9ucy5vbmVCYXNlZEluZGV4LGhvcml6b250YWxMYXlvdXQ6dGhpcy5ob3Jpem9udGFsTGF5b3V0LHJlbmRlcmVyOnRoaXMub3B0aW9ucy5yZW5kZXJlcixyZW5kZXJlck92ZXJyaWRlczp0aGlzLm9wdGlvbnMucmVuZGVyZXJPdmVycmlkZXMscGx1Z2luczp0aGlzLm9wdGlvbnMucGx1Z2lucyxtb2RhbElucHV0czp0aGlzLm9wdGlvbnMubW9kYWxJbnB1dHMsXG5tb3ZlOntzY3JvbGxiYXJzOiEwfX0pfWFkZEZseW91dChhKXtjb25zdCBiPXRoaXMuY29weU9wdGlvbnNGb3JGbHlvdXQoKTtiLnRvb2xib3hQb3NpdGlvbj10aGlzLm9wdGlvbnMudG9vbGJveFBvc2l0aW9uO3RoaXMuZmx5b3V0PXRoaXMuaG9yaXpvbnRhbExheW91dD9uZXcgKGdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19IT1JJWk9OVEFMX1RPT0xCT1gsdGhpcy5vcHRpb25zLCEwKSkoYik6bmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVFNfVkVSVElDQUxfVE9PTEJPWCx0aGlzLm9wdGlvbnMsITApKShiKTt0aGlzLmZseW91dC5hdXRvQ2xvc2U9ITE7dGhpcy5mbHlvdXQuZ2V0V29ya3NwYWNlKCkuc2V0VmlzaWJsZSghMCk7XG5yZXR1cm4gdGhpcy5mbHlvdXQuY3JlYXRlRG9tKGEpfWdldEZseW91dChhKXtyZXR1cm4gdGhpcy5mbHlvdXR8fGE/dGhpcy5mbHlvdXQ6dGhpcy50b29sYm94P3RoaXMudG9vbGJveC5nZXRGbHlvdXQoKTpudWxsfWdldFRvb2xib3goKXtyZXR1cm4gdGhpcy50b29sYm94fXVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9ucygpe3RoaXMudXBkYXRlSW52ZXJzZVNjcmVlbkNUTSgpO3RoaXMucmVjb3JkRHJhZ1RhcmdldHMoKX1yZXNpemVDb250ZW50cygpe3RoaXMucmVzaXplc0VuYWJsZWQmJnRoaXMucmVuZGVyZWQmJih0aGlzLnNjcm9sbGJhciYmdGhpcy5zY3JvbGxiYXIucmVzaXplKCksdGhpcy51cGRhdGVJbnZlcnNlU2NyZWVuQ1RNKCkpfXJlc2l6ZSgpe3RoaXMudG9vbGJveD90aGlzLnRvb2xib3gucG9zaXRpb24oKTp0aGlzLmZseW91dCYmdGhpcy5mbHlvdXQucG9zaXRpb24oKTtjb25zdCBhPXRoaXMuY29tcG9uZW50TWFuYWdlci5nZXRDb21wb25lbnRzKENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LlBPU0lUSU9OQUJMRSxcbiEwKSxiPXRoaXMuZ2V0TWV0cmljc01hbmFnZXIoKS5nZXRVaU1ldHJpY3MoKSxjPVtdO2ZvcihsZXQgZD0wLGU7ZT1hW2RdO2QrKyl7ZS5wb3NpdGlvbihiLGMpO2NvbnN0IGY9ZS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO2YmJmMucHVzaChmKX10aGlzLnNjcm9sbGJhciYmdGhpcy5zY3JvbGxiYXIucmVzaXplKCk7dGhpcy51cGRhdGVTY3JlZW5DYWxjdWxhdGlvbnMoKX11cGRhdGVTY3JlZW5DYWxjdWxhdGlvbnNJZlNjcm9sbGVkKCl7Y29uc3QgYT1nZXREb2N1bWVudFNjcm9sbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKCk7Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZXF1YWxzKHRoaXMubGFzdFJlY29yZGVkUGFnZVNjcm9sbCxhKXx8KHRoaXMubGFzdFJlY29yZGVkUGFnZVNjcm9sbD1hLHRoaXMudXBkYXRlU2NyZWVuQ2FsY3VsYXRpb25zKCkpfWdldExheWVyTWFuYWdlcigpe3JldHVybiB0aGlzLmxheWVyTWFuYWdlcn1nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5sYXllck1hbmFnZXIuZ2V0QmxvY2tMYXllcigpfXNldENhY2hlZFBhcmVudFN2Z1NpemUoYSxcbmIpe2NvbnN0IGM9dGhpcy5nZXRQYXJlbnRTdmcoKTthIT1udWxsJiYodGhpcy5jYWNoZWRQYXJlbnRTdmdTaXplLndpZHRoPWEsYy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNhY2hlZC13aWR0aFwiLGAke2F9YCkpO2IhPW51bGwmJih0aGlzLmNhY2hlZFBhcmVudFN2Z1NpemUuaGVpZ2h0PWIsYy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNhY2hlZC1oZWlnaHRcIixgJHtifWApKX1nZXRCdWJibGVDYW52YXMoKXtyZXR1cm4gdGhpcy5sYXllck1hbmFnZXIuZ2V0QnViYmxlTGF5ZXIoKX1nZXRQYXJlbnRTdmcoKXtpZighdGhpcy5jYWNoZWRQYXJlbnRTdmcpe2xldCBhPXRoaXMuc3ZnR3JvdXBfO2Zvcig7YTspe2lmKGEudGFnTmFtZT09PVwic3ZnXCIpe3RoaXMuY2FjaGVkUGFyZW50U3ZnPWE7YnJlYWt9YT1hLnBhcmVudE5vZGV9fXJldHVybiB0aGlzLmNhY2hlZFBhcmVudFN2Z31tYXliZUZpcmVWaWV3cG9ydENoYW5nZUV2ZW50KCl7aWYoaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpe3ZhciBhPVxudGhpcy5zY2FsZSxiPS10aGlzLnNjcm9sbFksYz0tdGhpcy5zY3JvbGxYO2lmKCEoYT09PXRoaXMub2xkU2NhbGUmJk1hdGguYWJzKGItdGhpcy5vbGRUb3ApPDEmJk1hdGguYWJzKGMtdGhpcy5vbGRMZWZ0KTwxKSl7dmFyIGQ9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVklFV1BPUlRfQ0hBTkdFKSkoYixjLGEsdGhpcy5pZCx0aGlzLm9sZFNjYWxlKTt0aGlzLm9sZFNjYWxlPWE7dGhpcy5vbGRUb3A9Yjt0aGlzLm9sZExlZnQ9YztmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGQpfX19dHJhbnNsYXRlKGEsYil7bGV0IGM7KGM9dGhpcy5sYXllck1hbmFnZXIpPT1udWxsfHxjLnRyYW5zbGF0ZUxheWVycyhuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYSxiKSx0aGlzLnNjYWxlKTtsZXQgZDtcbihkPXRoaXMuZ3JpZCk9PW51bGx8fGQubW92ZVRvKGEsYik7dGhpcy5tYXliZUZpcmVWaWV3cG9ydENoYW5nZUV2ZW50KCl9Z2V0V2lkdGgoKXtjb25zdCBhPXRoaXMuZ2V0TWV0cmljcygpO3JldHVybiBhP2Eudmlld1dpZHRoL3RoaXMuc2NhbGU6MH1zZXRWaXNpYmxlKGEpe3RoaXMudmlzaWJsZT1hO3RoaXMuc3ZnR3JvdXBfJiYodGhpcy5zY3JvbGxiYXImJnRoaXMuc2Nyb2xsYmFyLnNldENvbnRhaW5lclZpc2libGUoYSksdGhpcy5nZXRGbHlvdXQoKSYmdGhpcy5nZXRGbHlvdXQoKS5zZXRDb250YWluZXJWaXNpYmxlKGEpLHRoaXMuZ2V0UGFyZW50U3ZnKCkuc3R5bGUuZGlzcGxheT1hP1wiYmxvY2tcIjpcIm5vbmVcIix0aGlzLnRvb2xib3gmJnRoaXMudG9vbGJveC5zZXRWaXNpYmxlKGEpLGF8fHRoaXMuaGlkZUNoYWZmKCEwKSl9cmVuZGVyKCl7Y29uc3QgYT10aGlzLmdldEFsbEJsb2NrcyghMSk7Zm9yKGxldCBiPWEubGVuZ3RoLTE7Yj49MDtiLS0pYVtiXS5xdWV1ZVJlbmRlcigpO1xudGhpcy5nZXRUb3BCbG9ja3MoKS5mbGF0TWFwKGI9PmIuZ2V0RGVzY2VuZGFudHMoITEpKS5maWx0ZXIoYj0+Yi5pc0luc2VydGlvbk1hcmtlcigpKS5mb3JFYWNoKGI9PmIucXVldWVSZW5kZXIoKSl9aGlnaGxpZ2h0QmxvY2soYSxiKXtpZihiPT09dm9pZCAwKXtmb3IobGV0IGM9MCxkO2Q9dGhpcy5oaWdobGlnaHRlZEJsb2Nrc1tjXTtjKyspZC5zZXRIaWdobGlnaHRlZCghMSk7dGhpcy5oaWdobGlnaHRlZEJsb2Nrcy5sZW5ndGg9MH1pZihhPWE/dGhpcy5nZXRCbG9ja0J5SWQoYSk6bnVsbCkoYj1iPT09dm9pZCAwfHxiKT90aGlzLmhpZ2hsaWdodGVkQmxvY2tzLmluY2x1ZGVzKGEpfHx0aGlzLmhpZ2hsaWdodGVkQmxvY2tzLnB1c2goYSk6cmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMuaGlnaGxpZ2h0ZWRCbG9ja3MsYSksYS5zZXRIaWdobGlnaHRlZChiKX12YXJpYWJsZUNoYW5nZUNhbGxiYWNrKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2UgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0NSRUFURTpjYXNlIEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9ERUxFVEU6Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfUkVOQU1FOmNhc2UgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX1RZUEVfQ0hBTkdFOnRoaXMucmVmcmVzaFRvb2xib3hTZWxlY3Rpb24oKX19cmVmcmVzaFRvb2xib3hTZWxlY3Rpb24oKXtjb25zdCBhPVxudGhpcy5pc0ZseW91dD90aGlzLnRhcmdldFdvcmtzcGFjZTp0aGlzO2EmJiFhLmN1cnJlbnRHZXN0dXJlXyYmYS50b29sYm94JiZhLnRvb2xib3guZ2V0Rmx5b3V0KCkmJmEudG9vbGJveC5yZWZyZXNoU2VsZWN0aW9uKCl9cmVjb3JkRHJhZ1RhcmdldHMoKXtjb25zdCBhPXRoaXMuY29tcG9uZW50TWFuYWdlci5nZXRDb21wb25lbnRzKENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkRSQUdfVEFSR0VULCEwKTt0aGlzLmRyYWdUYXJnZXRBcmVhcz1bXTtmb3IobGV0IGI9MCxjO2M9YVtiXTtiKyspe2NvbnN0IGQ9Yy5nZXRDbGllbnRSZWN0KCk7ZCYmdGhpcy5kcmFnVGFyZ2V0QXJlYXMucHVzaCh7Y29tcG9uZW50OmMsY2xpZW50UmVjdDpkfSl9fW5ld0Jsb2NrKGEsYil7dGhyb3cgRXJyb3IoXCJUaGUgaW1wbGVtZW50YXRpb24gb2YgbmV3QmxvY2sgc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7XG59bmV3Q29tbWVudChhKXt0aHJvdyBFcnJvcihcIlRoZSBpbXBsZW1lbnRhdGlvbiBvZiBuZXdDb21tZW50IHNob3VsZCBiZSBtb25rZXktcGF0Y2hlZCBpbiBieSBibG9ja2x5LnRzXCIpO31nZXREcmFnVGFyZ2V0KGEpe2ZvcihsZXQgYj0wLGM7Yz10aGlzLmRyYWdUYXJnZXRBcmVhc1tiXTtiKyspaWYoYy5jbGllbnRSZWN0LmNvbnRhaW5zKGEuY2xpZW50WCxhLmNsaWVudFkpKXJldHVybiBjLmNvbXBvbmVudDtyZXR1cm4gbnVsbH1vbk1vdXNlRG93bihhKXtjb25zdCBiPXRoaXMuZ2V0R2VzdHVyZShhKTtiJiZiLmhhbmRsZVdzU3RhcnQoYSx0aGlzKX1zdGFydERyYWcoYSxiKXtzdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcodGhpcyxhLGIpfW1vdmVEcmFnKGEpe3JldHVybiBtb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyh0aGlzLGEpfXNldEtleWJvYXJkTW92ZUluUHJvZ3Jlc3MoYSl7dGhpcy5rZXlib2FyZE1vdmVJblByb2dyZXNzPVxuYX1pc0RyYWdnaW5nKCl7cmV0dXJuIHRoaXMua2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzc3x8dGhpcy5jdXJyZW50R2VzdHVyZV8hPT1udWxsJiZ0aGlzLmN1cnJlbnRHZXN0dXJlXy5pc0RyYWdnaW5nKCl9aXNEcmFnZ2FibGUoKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiZ0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMuZHJhZ31pc01vdmFibGUoKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiYhIXRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzfHx0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy53aGVlbHx8dGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiZ0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMuZHJhZ3x8dGhpcy5vcHRpb25zLnpvb21PcHRpb25zJiZ0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMud2hlZWx8fHRoaXMub3B0aW9ucy56b29tT3B0aW9ucyYmdGhpcy5vcHRpb25zLnpvb21PcHRpb25zLnBpbmNofWlzTW92YWJsZUhvcml6b250YWxseSgpe2NvbnN0IGE9XG4hIXRoaXMuc2Nyb2xsYmFyO3JldHVybiB0aGlzLmlzTW92YWJsZSgpJiYoIWF8fGEmJnRoaXMuc2Nyb2xsYmFyLmNhblNjcm9sbEhvcml6b250YWxseSgpKX1pc01vdmFibGVWZXJ0aWNhbGx5KCl7Y29uc3QgYT0hIXRoaXMuc2Nyb2xsYmFyO3JldHVybiB0aGlzLmlzTW92YWJsZSgpJiYoIWF8fGEmJnRoaXMuc2Nyb2xsYmFyLmNhblNjcm9sbFZlcnRpY2FsbHkoKSl9b25Nb3VzZVdoZWVsKGEpe2lmKEdlc3R1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlLmluUHJvZ3Jlc3MoKSlhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKTtlbHNle3ZhciBiPXRoaXMub3B0aW9ucy56b29tT3B0aW9ucyYmdGhpcy5vcHRpb25zLnpvb21PcHRpb25zLndoZWVsLGM9dGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiZ0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMud2hlZWw7aWYoYnx8Yyl7dmFyIGQ9Z2V0U2Nyb2xsRGVsdGFQaXhlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKTtcbmlmKE1BQyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCl2YXIgZT1hLm1ldGFLZXk7YiYmKGEuY3RybEtleXx8ZXx8IWMpPyhkPS1kLnkvNTAsYj1tb3VzZVRvU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSx0aGlzLmdldFBhcmVudFN2ZygpLHRoaXMuZ2V0SW52ZXJzZVNjcmVlbkNUTSgpKSx0aGlzLnpvb20oYi54LGIueSxkKSk6KGI9dGhpcy5zY3JvbGxYLWQueCxjPXRoaXMuc2Nyb2xsWS1kLnksYS5zaGlmdEtleSYmIWQueCYmKGI9dGhpcy5zY3JvbGxYLWQueSxjPXRoaXMuc2Nyb2xsWSksdGhpcy5zY3JvbGwoYixjKSk7YS5wcmV2ZW50RGVmYXVsdCgpfX19Z2V0QmxvY2tzQm91bmRpbmdCb3goKXtjb25zdCBhPXRoaXMuZ2V0VG9wQm91bmRlZEVsZW1lbnRzKCk7aWYoIWEubGVuZ3RoKXJldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoMCwwLDAsMCk7Y29uc3QgYj1hWzBdLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG5mb3IobGV0IGQ9MTtkPGEubGVuZ3RoO2QrKyl7dmFyIGM9YVtkXTtjLmlzSW5zZXJ0aW9uTWFya2VyJiZjLmlzSW5zZXJ0aW9uTWFya2VyKCl8fChjPWMuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSxjLnRvcDxiLnRvcCYmKGIudG9wPWMudG9wKSxjLmJvdHRvbT5iLmJvdHRvbSYmKGIuYm90dG9tPWMuYm90dG9tKSxjLmxlZnQ8Yi5sZWZ0JiYoYi5sZWZ0PWMubGVmdCksYy5yaWdodD5iLnJpZ2h0JiYoYi5yaWdodD1jLnJpZ2h0KSl9cmV0dXJuIGJ9Y2xlYW5VcCgpe3RoaXMuc2V0UmVzaXplc0VuYWJsZWQoITEpO2NvbnN0IGE9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2F8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3ZhciBiPXRoaXMuZ2V0VG9wQmxvY2tzKCEwKSxjPWIuZmlsdGVyKGc9PmcuaXNNb3ZhYmxlKCkpO2NvbnN0IGQ9Yi5maWx0ZXIoZz0+IWcuaXNNb3ZhYmxlKCkpLm1hcChnPT5cbmcuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSk7Yj1mdW5jdGlvbihnKXtmb3IoY29uc3QgaCBvZiBkKWlmKGcuaW50ZXJzZWN0cyhoKSlyZXR1cm4gaDtyZXR1cm4gbnVsbH07dmFyIGU9MDtjb25zdCBmPXRoaXMucmVuZGVyZXIuZ2V0Q29uc3RhbnRzKCkuTUlOX0JMT0NLX0hFSUdIVDtmb3IoY29uc3QgZyBvZiBjKXtjPWcuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtnLm1vdmVCeSgtYy5sZWZ0LGUtYy50b3AsW1wiY2xlYW51cFwiXSk7Zy5zbmFwVG9HcmlkKCk7Yz1nLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7Zm9yKGU9YihjKTtlIT1udWxsOyllPWUudG9wK2UuZ2V0SGVpZ2h0KCkrZixnLm1vdmVCeSgwLGUtYy50b3AsW1wiY2xlYW51cFwiXSksZy5zbmFwVG9HcmlkKCksYz1nLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCksZT1iKGMpO2U9Zy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkueStnLmdldEhlaWdodFdpZHRoKCkuaGVpZ2h0K2Z9JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKTtcbnRoaXMuc2V0UmVzaXplc0VuYWJsZWQoITApfXNob3dDb250ZXh0TWVudShhKXtpZighdGhpcy5pc1JlYWRPbmx5KCkmJiF0aGlzLmlzRmx5b3V0KXt2YXIgYj1Db250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkuZ2V0Q29udGV4dE1lbnVPcHRpb25zKHt3b3Jrc3BhY2U6dGhpcyxmb2N1c2VkTm9kZTp0aGlzfSxhKTt0aGlzLmNvbmZpZ3VyZUNvbnRleHRNZW51JiZ0aGlzLmNvbmZpZ3VyZUNvbnRleHRNZW51KGIsYSk7dmFyIGM9YSBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudD9uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLGEuY2xpZW50WSk6d3NUb1NjcmVlbkNvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgodGhpcyxuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoNSxcbjUpKTtzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoYSxiLHRoaXMuUlRMLHRoaXMsYyl9fXVwZGF0ZVRvb2xib3goYSl7aWYoYT1jb252ZXJ0VG9vbGJveERlZlRvSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSkpe2lmKCF0aGlzLm9wdGlvbnMubGFuZ3VhZ2VUcmVlKXRocm93IEVycm9yKFwiRXhpc3RpbmcgdG9vbGJveCBpcyBudWxsLiAgQ2FuJ3QgY3JlYXRlIG5ldyB0b29sYm94LlwiKTtpZihoYXNDYXRlZ29yaWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKSl7aWYoIXRoaXMudG9vbGJveCl0aHJvdyBFcnJvcihcIkV4aXN0aW5nIHRvb2xib3ggaGFzIG5vIGNhdGVnb3JpZXMuICBDYW4ndCBjaGFuZ2UgbW9kZS5cIik7dGhpcy5vcHRpb25zLmxhbmd1YWdlVHJlZT1hO3RoaXMudG9vbGJveC5yZW5kZXIoYSl9ZWxzZXtpZighdGhpcy5mbHlvdXQpdGhyb3cgRXJyb3IoXCJFeGlzdGluZyB0b29sYm94IGhhcyBjYXRlZ29yaWVzLiAgQ2FuJ3QgY2hhbmdlIG1vZGUuXCIpO1xudGhpcy5vcHRpb25zLmxhbmd1YWdlVHJlZT1hO3RoaXMuZmx5b3V0LnNob3coYSl9fWVsc2UgaWYodGhpcy5vcHRpb25zLmxhbmd1YWdlVHJlZSl0aHJvdyBFcnJvcihcIkNhbid0IG51bGxpZnkgYW4gZXhpc3RpbmcgdG9vbGJveC5cIik7fW1hcmtGb2N1c2VkKCl7dGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZT90aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlLm1hcmtGb2N1c2VkKCk6KHNldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24odGhpcyksdGhpcy5nZXRQYXJlbnRTdmcoKS5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pKX16b29tKGEsYixjKXtjPU1hdGgucG93KHRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5zY2FsZVNwZWVkLGMpO2NvbnN0IGQ9dGhpcy5zY2FsZSpjO2lmKHRoaXMuc2NhbGUhPT1kKXtkPnRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5tYXhTY2FsZT9jPXRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5tYXhTY2FsZS90aGlzLnNjYWxlOlxuZDx0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWluU2NhbGUmJihjPXRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZS90aGlzLnNjYWxlKTt2YXIgZT10aGlzLmdldENhbnZhcygpLmdldENUTSgpLGY9dGhpcy5nZXRQYXJlbnRTdmcoKS5jcmVhdGVTVkdQb2ludCgpO2YueD1hO2YueT1iO2Y9Zi5tYXRyaXhUcmFuc2Zvcm0oZS5pbnZlcnNlKCkpO2E9Zi54O2I9Zi55O2U9ZS50cmFuc2xhdGUoYSooMS1jKSxiKigxLWMpKS5zY2FsZShjKTt0aGlzLnNjcm9sbFg9ZS5lO3RoaXMuc2Nyb2xsWT1lLmY7dGhpcy5zZXRTY2FsZShkKX19em9vbUNlbnRlcihhKXt2YXIgYj10aGlzLmdldE1ldHJpY3MoKTtsZXQgYzt0aGlzLmZseW91dD8oYz1iLnN2Z1dpZHRoP2Iuc3ZnV2lkdGgvMjowLGI9Yi5zdmdIZWlnaHQ/Yi5zdmdIZWlnaHQvMjowKTooYz1iLnZpZXdXaWR0aC8yK2IuYWJzb2x1dGVMZWZ0LGI9Yi52aWV3SGVpZ2h0LzIrYi5hYnNvbHV0ZVRvcCk7dGhpcy56b29tKGMsYixhKX16b29tVG9GaXQoKXtpZih0aGlzLmlzTW92YWJsZSgpKXt2YXIgYT1cbnRoaXMuZ2V0TWV0cmljcygpLGI9YS52aWV3V2lkdGg7YT1hLnZpZXdIZWlnaHQ7dmFyIGM9dGhpcy5nZXRCbG9ja3NCb3VuZGluZ0JveCgpLGQ9Wk9PTV9UT19GSVRfTUFSR0lOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2ZyoyLGU9Yy5yaWdodC1jLmxlZnQrZDtjPWMuYm90dG9tLWMudG9wK2Q7aWYoZSl7dGhpcy5mbHlvdXQmJih0aGlzLmhvcml6b250YWxMYXlvdXQ/KGErPXRoaXMuZmx5b3V0LmdldEhlaWdodCgpLGMrPXRoaXMuZmx5b3V0LmdldEhlaWdodCgpL3RoaXMuc2NhbGUpOihiKz10aGlzLmZseW91dC5nZXRXaWR0aCgpLGUrPXRoaXMuZmx5b3V0LmdldFdpZHRoKCkvdGhpcy5zY2FsZSkpO2IvPWU7YS89YzskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7dGhpcy5zZXRTY2FsZShNYXRoLm1pbihiLGEpKSx0aGlzLnNjcm9sbENlbnRlcigpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX10aGlzLm1heWJlRmlyZVZpZXdwb3J0Q2hhbmdlRXZlbnQoKX19ZWxzZSBjb25zb2xlLndhcm4oXCJUcmllZCB0byBtb3ZlIGEgbm9uLW1vdmFibGUgd29ya3NwYWNlLiBUaGlzIGNvdWxkIHJlc3VsdCBpbiBibG9ja3MgYmVjb21pbmcgaW5hY2Nlc3NpYmxlLlwiKX1iZWdpbkNhbnZhc1RyYW5zaXRpb24oKXthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldENhbnZhcygpLFxuXCJibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZ1wiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldEJ1YmJsZUNhbnZhcygpLFwiYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmdcIil9ZW5kQ2FudmFzVHJhbnNpdGlvbigpe3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0Q2FudmFzKCksXCJibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZ1wiKTtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldEJ1YmJsZUNhbnZhcygpLFwiYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmdcIil9c2Nyb2xsQ2VudGVyKCl7aWYodGhpcy5pc01vdmFibGUoKSl7dmFyIGE9dGhpcy5nZXRNZXRyaWNzKCksYj0oYS5zY3JvbGxXaWR0aC1hLnZpZXdXaWR0aCkvMixjPShhLnNjcm9sbEhlaWdodC1hLnZpZXdIZWlnaHQpLzI7Yj0tYi1hLnNjcm9sbExlZnQ7Yz0tYy1hLnNjcm9sbFRvcDt0aGlzLnNjcm9sbChiLFxuYyl9ZWxzZSBjb25zb2xlLndhcm4oXCJUcmllZCB0byBtb3ZlIGEgbm9uLW1vdmFibGUgd29ya3NwYWNlLiBUaGlzIGNvdWxkIHJlc3VsdCBpbiBibG9ja3MgYmVjb21pbmcgaW5hY2Nlc3NpYmxlLlwiKX1jZW50ZXJPbkJsb2NrKGEsYil7aWYodGhpcy5pc01vdmFibGUoKSl7dmFyIGM9YT90aGlzLmdldEJsb2NrQnlJZChhKTpudWxsO2lmKGMpe2E9Yy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7Yz1iP3toZWlnaHQ6Yy5oZWlnaHQsd2lkdGg6Yy53aWR0aH06Yy5nZXRIZWlnaHRXaWR0aCgpO3ZhciBkPXRoaXMuc2NhbGU7Yj0oYS54Kyh0aGlzLlJUTD8tMToxKSpjLndpZHRoLzIpKmQ7YT0oYS55K2MuaGVpZ2h0LzIpKmQ7Yz10aGlzLmdldE1ldHJpY3MoKTt0aGlzLnNjcm9sbCgtKGItYy52aWV3V2lkdGgvMiksLShhLWMudmlld0hlaWdodC8yKSl9fWVsc2UgY29uc29sZS53YXJuKFwiVHJpZWQgdG8gbW92ZSBhIG5vbi1tb3ZhYmxlIHdvcmtzcGFjZS4gVGhpcyBjb3VsZCByZXN1bHQgaW4gYmxvY2tzIGJlY29taW5nIGluYWNjZXNzaWJsZS5cIil9c2V0U2NhbGUoYSl7dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlJiZcbmE+dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlP2E9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlOnRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZSYmYTx0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWluU2NhbGUmJihhPXRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZSk7dGhpcy5zY2FsZT1hO3RoaXMuaGlkZUNoYWZmKCExKTsoYT10aGlzLmdldEZseW91dCghMSkpJiZhLmlzVmlzaWJsZSgpJiYoYS5yZWZsb3coKSx0aGlzLnJlY29yZERyYWdUYXJnZXRzKCkpO3RoaXMuZ3JpZCYmdGhpcy5ncmlkLnVwZGF0ZSh0aGlzLnNjYWxlKTthPXRoaXMuZ2V0TWV0cmljcygpO3RoaXMuc2Nyb2xsWC09YS5hYnNvbHV0ZUxlZnQ7dGhpcy5zY3JvbGxZLT1hLmFic29sdXRlVG9wO2Eudmlld0xlZnQrPWEuYWJzb2x1dGVMZWZ0O2Eudmlld1RvcCs9YS5hYnNvbHV0ZVRvcDt0aGlzLnNjcm9sbCh0aGlzLnNjcm9sbFgsdGhpcy5zY3JvbGxZKTt0aGlzLnNjcm9sbGJhciYmXG4odGhpcy5mbHlvdXQ/dGhpcy5zY3JvbGxiYXIucmVzaXplVmlldyhhKTp0aGlzLnNjcm9sbGJhci5yZXNpemVDb250ZW50KGEpKX1nZXRTY2FsZSgpe3JldHVybiB0aGlzLnNjYWxlfWdldEFic29sdXRlU2NhbGUoKXtjb25zdCBhPWM9PntpZihjLmlzRmx5b3V0KXtsZXQgZDtjb25zdCBlPShkPWMudGFyZ2V0V29ya3NwYWNlKT09bnVsbD92b2lkIDA6ZC5nZXRGbHlvdXQoKTtpZihlIGluc3RhbmNlb2YgRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2Jhc2UpcmV0dXJuIGUuZ2V0Rmx5b3V0U2NhbGUoKX1yZXR1cm4gYy5nZXRTY2FsZSgpfSxiPShjLGQpPT5jLm9wdGlvbnMucGFyZW50V29ya3NwYWNlJiZjLm9wdGlvbnMucGFyZW50V29ya3NwYWNlLmdldFN2Z0dyb3VwKCkuY29udGFpbnMoYy5nZXRTdmdHcm91cCgpKT9iKGMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UsZCphKGMpKTpkKmEoYyk7cmV0dXJuIGIodGhpcywxKX1zY3JvbGwoYSxiKXt0aGlzLmhpZGVDaGFmZighMCk7XG5jb25zdCBjPXRoaXMuZ2V0TWV0cmljcygpO2E9TWF0aC5taW4oYSwtYy5zY3JvbGxMZWZ0KTtiPU1hdGgubWluKGIsLWMuc2Nyb2xsVG9wKTtjb25zdCBkPWMuc2Nyb2xsVG9wK01hdGgubWF4KDAsYy5zY3JvbGxIZWlnaHQtYy52aWV3SGVpZ2h0KTthPU1hdGgubWF4KGEsLShjLnNjcm9sbExlZnQrTWF0aC5tYXgoMCxjLnNjcm9sbFdpZHRoLWMudmlld1dpZHRoKSkpO2I9TWF0aC5tYXgoYiwtZCk7dGhpcy5zY3JvbGxYPWE7dGhpcy5zY3JvbGxZPWI7dGhpcy5zY3JvbGxiYXImJnRoaXMuc2Nyb2xsYmFyLnNldCgtKGErYy5zY3JvbGxMZWZ0KSwtKGIrYy5zY3JvbGxUb3ApLCExKTthKz1jLmFic29sdXRlTGVmdDtiKz1jLmFic29sdXRlVG9wO3RoaXMudHJhbnNsYXRlKGEsYil9Z2V0QmxvY2tCeUlkKGEpe3JldHVybiBzdXBlci5nZXRCbG9ja0J5SWQoYSl9Z2V0QWxsQmxvY2tzKGE9ITEpe3JldHVybiBzdXBlci5nZXRBbGxCbG9ja3MoYSl9Z2V0VG9wQmxvY2tzKGE9ITEpe3JldHVybiBzdXBlci5nZXRUb3BCbG9ja3MoYSl9YWRkVG9wQmxvY2soYSl7dGhpcy5hZGRUb3BCb3VuZGVkRWxlbWVudChhKTtcbnN1cGVyLmFkZFRvcEJsb2NrKGEpfXJlbW92ZVRvcEJsb2NrKGEpe3RoaXMucmVtb3ZlVG9wQm91bmRlZEVsZW1lbnQoYSk7c3VwZXIucmVtb3ZlVG9wQmxvY2soYSl9YWRkVG9wQ29tbWVudChhKXt0aGlzLmFkZFRvcEJvdW5kZWRFbGVtZW50KGEpO3N1cGVyLmFkZFRvcENvbW1lbnQoYSl9cmVtb3ZlVG9wQ29tbWVudChhKXt0aGlzLnJlbW92ZVRvcEJvdW5kZWRFbGVtZW50KGEpO3N1cGVyLnJlbW92ZVRvcENvbW1lbnQoYSl9Z2V0VG9wQ29tbWVudHMoYT0hMSl7cmV0dXJuIHN1cGVyLmdldFRvcENvbW1lbnRzKGEpfWdldENvbW1lbnRCeUlkKGEpe3JldHVybiBzdXBlci5nZXRDb21tZW50QnlJZChhKX1nZXRSb290V29ya3NwYWNlKCl7cmV0dXJuIHN1cGVyLmdldFJvb3RXb3Jrc3BhY2UoKX1hZGRUb3BCb3VuZGVkRWxlbWVudChhKXt0aGlzLnRvcEJvdW5kZWRFbGVtZW50cy5wdXNoKGEpfXJlbW92ZVRvcEJvdW5kZWRFbGVtZW50KGEpe3JlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheSh0aGlzLnRvcEJvdW5kZWRFbGVtZW50cyxcbmEpfWdldFRvcEJvdW5kZWRFbGVtZW50cyhhPSExKXtjb25zdCBiPVtdLmNvbmNhdCh0aGlzLnRvcEJvdW5kZWRFbGVtZW50cyk7YSYmYi5zb3J0KHRoaXMuc29ydEJ5T3JpZ2luLmJpbmQodGhpcykpO3JldHVybiBifXNldFJlc2l6ZXNFbmFibGVkKGEpe2NvbnN0IGI9IXRoaXMucmVzaXplc0VuYWJsZWQmJmE7dGhpcy5yZXNpemVzRW5hYmxlZD1hO2ImJnRoaXMucmVzaXplQ29udGVudHMoKX1jbGVhcigpe3RoaXMuc2V0UmVzaXplc0VuYWJsZWQoITEpO3N1cGVyLmNsZWFyKCk7dGhpcy50b3BCb3VuZGVkRWxlbWVudHM9W107dGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMCl9cmVnaXN0ZXJCdXR0b25DYWxsYmFjayhhLGIpe2lmKHR5cGVvZiBiIT09XCJmdW5jdGlvblwiKXRocm93IFR5cGVFcnJvcihcIkJ1dHRvbiBjYWxsYmFja3MgbXVzdCBiZSBmdW5jdGlvbnMuXCIpO3RoaXMuZmx5b3V0QnV0dG9uQ2FsbGJhY2tzLnNldChhLGIpfWdldEJ1dHRvbkNhbGxiYWNrKGEpe2xldCBiO3JldHVybihiPVxudGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3MuZ2V0KGEpKSE9bnVsbD9iOm51bGx9cmVtb3ZlQnV0dG9uQ2FsbGJhY2soYSl7dGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3MuZGVsZXRlKGEpfXJlZ2lzdGVyVG9vbGJveENhdGVnb3J5Q2FsbGJhY2soYSxiKXtpZih0eXBlb2YgYiE9PVwiZnVuY3Rpb25cIil0aHJvdyBUeXBlRXJyb3IoXCJUb29sYm94IGNhdGVnb3J5IGNhbGxiYWNrcyBtdXN0IGJlIGZ1bmN0aW9ucy5cIik7dGhpcy50b29sYm94Q2F0ZWdvcnlDYWxsYmFja3Muc2V0KGEsYil9Z2V0VG9vbGJveENhdGVnb3J5Q2FsbGJhY2soYSl7cmV0dXJuIHRoaXMudG9vbGJveENhdGVnb3J5Q2FsbGJhY2tzLmdldChhKXx8bnVsbH1yZW1vdmVUb29sYm94Q2F0ZWdvcnlDYWxsYmFjayhhKXt0aGlzLnRvb2xib3hDYXRlZ29yeUNhbGxiYWNrcy5kZWxldGUoYSl9Z2V0R2VzdHVyZShhKXtpZih0aGlzLmtleWJvYXJkTW92ZUluUHJvZ3Jlc3MpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpLFxubnVsbDtjb25zdCBiPWEudHlwZT09PVwicG9pbnRlcmRvd25cIjtsZXQgYztiJiYoKGM9dGhpcy5jdXJyZW50R2VzdHVyZV8pPT1udWxsPzA6Yy5oYXNTdGFydGVkKCkpJiYoY29uc29sZS53YXJuKFwiVHJpZWQgdG8gc3RhcnQgdGhlIHNhbWUgZ2VzdHVyZSB0d2ljZS5cIiksdGhpcy5jdXJyZW50R2VzdHVyZV8uY2FuY2VsKCkpOyF0aGlzLmN1cnJlbnRHZXN0dXJlXyYmYiYmKHRoaXMuY3VycmVudEdlc3R1cmVfPW5ldyBHZXN0dXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZShhLHRoaXMpKTtyZXR1cm4gdGhpcy5jdXJyZW50R2VzdHVyZV99Y2xlYXJHZXN0dXJlKCl7dGhpcy5jdXJyZW50R2VzdHVyZV89bnVsbH1jYW5jZWxDdXJyZW50R2VzdHVyZSgpe3RoaXMuY3VycmVudEdlc3R1cmVfJiZ0aGlzLmN1cnJlbnRHZXN0dXJlXy5jYW5jZWwoKX1nZXRBdWRpb01hbmFnZXIoKXtyZXR1cm4gdGhpcy5hdWRpb01hbmFnZXJ9Z2V0R3JpZCgpe3JldHVybiB0aGlzLmdyaWR9aGlkZUNoYWZmKGE9XG4hMSl7aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKTtoaWRlSWZPd25lcklzSW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYodGhpcyk7aGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpO3RoaXMuaGlkZUNvbXBvbmVudHMoYSl9aGlkZUNvbXBvbmVudHMoYT0hMSl7dGhpcy5nZXRDb21wb25lbnRNYW5hZ2VyKCkuZ2V0Q29tcG9uZW50cyhDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ2FwYWJpbGl0eS5BVVRPSElERUFCTEUsITApLmZvckVhY2goYj0+Yi5hdXRvSGlkZShhKSl9c3RhdGljIHNldFRvcExldmVsV29ya3NwYWNlTWV0cmljcyhhKXtjb25zdCBiPXRoaXMuZ2V0TWV0cmljcygpO3R5cGVvZiBhLng9PT1cIm51bWJlclwiJiYodGhpcy5zY3JvbGxYPS0oYi5zY3JvbGxMZWZ0KyhiLnNjcm9sbFdpZHRoLWIudmlld1dpZHRoKSpcbmEueCkpO3R5cGVvZiBhLnk9PT1cIm51bWJlclwiJiYodGhpcy5zY3JvbGxZPS0oYi5zY3JvbGxUb3ArKGIuc2Nyb2xsSGVpZ2h0LWIudmlld0hlaWdodCkqYS55KSk7dGhpcy50cmFuc2xhdGUodGhpcy5zY3JvbGxYK2IuYWJzb2x1dGVMZWZ0LHRoaXMuc2Nyb2xsWStiLmFic29sdXRlVG9wKX1hZGRDbGFzcyhhKXt0aGlzLmluamVjdGlvbkRpdiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5pbmplY3Rpb25EaXYsYSl9cmVtb3ZlQ2xhc3MoYSl7dGhpcy5pbmplY3Rpb25EaXYmJnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuaW5qZWN0aW9uRGl2LGEpfXNldElzUmVhZE9ubHkoYSl7c3VwZXIuc2V0SXNSZWFkT25seShhKTthP3RoaXMuYWRkQ2xhc3MoXCJibG9ja2x5UmVhZE9ubHlcIik6dGhpcy5yZW1vdmVDbGFzcyhcImJsb2NrbHlSZWFkT25seVwiKX1zY3JvbGxCb3VuZHNJbnRvVmlldyhhLGI9MTApe2lmKCFHZXN0dXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZS5pblByb2dyZXNzKCkpe3ZhciBjPVxudGhpcy5nZXRTY2FsZSgpLGQ9dGhpcy5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFZpZXdNZXRyaWNzKCEwKTtkPW5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChkLnRvcCxkLnRvcCtkLmhlaWdodCxkLmxlZnQsZC5sZWZ0K2Qud2lkdGgpO2lmKCEoYS5sZWZ0Pj1kLmxlZnQmJmEudG9wPj1kLnRvcCYmYS5yaWdodDw9ZC5yaWdodCYmYS5ib3R0b208PWQuYm90dG9tKSl7YT1hLmNsb25lKCk7YS50b3AtPWI7YS5ib3R0b20rPWI7YS5sZWZ0LT1iO2EucmlnaHQrPWI7dmFyIGU9Yj0wO2EubGVmdDxkLmxlZnQ/Yj10aGlzLlJUTD9NYXRoLm1pbihkLmxlZnQtYS5sZWZ0LGQucmlnaHQtYS5yaWdodCk6ZC5sZWZ0LWEubGVmdDphLnJpZ2h0PmQucmlnaHQmJihiPXRoaXMuUlRMP2QucmlnaHQtYS5yaWdodDpNYXRoLm1heChkLnJpZ2h0LWEucmlnaHQsZC5sZWZ0LWEubGVmdCkpO2EudG9wPGQudG9wP2U9ZC50b3AtYS50b3A6YS5ib3R0b20+ZC5ib3R0b20mJihlPVxuTWF0aC5tYXgoZC5ib3R0b20tYS5ib3R0b20sZC50b3AtYS50b3ApKTt0aGlzLnNjcm9sbCh0aGlzLnNjcm9sbFgrYipjLHRoaXMuc2Nyb2xsWStlKmMpfX19Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLnN2Z0dyb3VwX31nZXRGb2N1c2FibGVUcmVlKCl7cmV0dXJuIHRoaXMuaXNNdXRhdG9yJiZ0aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlfHx0aGlzfW9uTm9kZUZvY3VzKCl7fW9uTm9kZUJsdXIoKXt9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuITB9Z2V0Um9vdEZvY3VzYWJsZU5vZGUoKXtyZXR1cm4gdGhpc31nZXRSZXN0b3JlZEZvY3VzYWJsZU5vZGUoYSl7aWYoYSlyZXR1cm4gbnVsbDtsZXQgYjthPShiPXRoaXMudGFyZ2V0V29ya3NwYWNlKT09bnVsbD92b2lkIDA6Yi5nZXRGbHlvdXQoKTtpZih0aGlzLmlzRmx5b3V0JiZhKXtsZXQgZCxlO3JldHVybihlPShkPWEuZ2V0Q29udGVudHMoKS5maW5kKGY9PntmPWYuZ2V0RWxlbWVudCgpO3JldHVybiBpc0ZvY3VzYWJsZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGUoZikmJlxuZi5jYW5CZUZvY3VzZWQoKX0pKT09bnVsbD92b2lkIDA6ZC5nZXRFbGVtZW50KCkpIT1udWxsP2U6bnVsbH1sZXQgYztyZXR1cm4oYz10aGlzLmdldFRvcEJsb2NrcyghMClbMF0pIT1udWxsP2M6bnVsbH1nZXROZXN0ZWRUcmVlcygpe2NvbnN0IGE9dGhpcy5nZXRBbGxCbG9ja3MoKS5tYXAoYz0+Yy5nZXRJY29ucygpKS5mbGF0KCkuZmlsdGVyKGM9PmMgaW5zdGFuY2VvZiAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uJiZjLmJ1YmJsZUlzVmlzaWJsZSgpKS5tYXAoYz0+e2xldCBkO3JldHVybihkPWMuZ2V0QnViYmxlKCkpPT1udWxsP3ZvaWQgMDpkLmdldFdvcmtzcGFjZSgpfSkuZmlsdGVyKGM9PiEhYyksYj10aGlzLmdldEZseW91dCghMCk7YiYmYS5wdXNoKGIuZ2V0V29ya3NwYWNlKCkpO3JldHVybiBhfXNlYXJjaEZvcldvcmtzcGFjZUNvbW1lbnQoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRUb3BDb21tZW50cygpKWlmKGIgaW5zdGFuY2VvZlxuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQmJmIuY2FuQmVGb2N1c2VkKCkmJmIuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLmlkPT09YSlyZXR1cm4gYn1sb29rVXBGb2N1c2FibGVOb2RlKGEpe3ZhciBiO2NvbnN0IGM9KGI9dGhpcy50YXJnZXRXb3Jrc3BhY2UpPT1udWxsP3ZvaWQgMDpiLmdldEZseW91dCgpO2lmKHRoaXMuaXNGbHlvdXQmJmMpZm9yKHZhciBkIG9mIGMuZ2V0Q29udGVudHMoKSlpZihiPWQuZ2V0RWxlbWVudCgpLGlzRm9jdXNhYmxlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZShiKSYmYi5jYW5CZUZvY3VzZWQoKSYmYi5nZXRGb2N1c2FibGVFbGVtZW50KCkuaWQ9PT1hKXJldHVybiBiO2Q9YS5pbmRleE9mKFwiX2ZpZWxkX1wiKTtiPWEuaW5kZXhPZihcIl9jb25uZWN0aW9uX1wiKTtpZihkIT09LTEpe3ZhciBlPWEuc3Vic3RyaW5nKDAsXG5kKTtpZihlPXRoaXMuZ2V0QmxvY2tCeUlkKGUpKWZvcih2YXIgZiBvZiBlLmdldEZpZWxkcygpKWlmKGYuY2FuQmVGb2N1c2VkKCkmJmYuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLmlkPT09YSlyZXR1cm4gZjtyZXR1cm4gbnVsbH1pZihiIT09LTEpe2U9YS5zdWJzdHJpbmcoMCxiKTtpZihlPXRoaXMuZ2V0QmxvY2tCeUlkKGUpKWZvcihjb25zdCBoIG9mIGUuZ2V0Q29ubmVjdGlvbnNfKCEwKSlpZihoLmlkPT09YSlyZXR1cm4gaDtyZXR1cm4gbnVsbH1mPU1hdGgubWF4KGEuaW5kZXhPZihDT01NRU5UX0VESVRPUl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3IpLGEuaW5kZXhPZihDT01NRU5UX0NPTExBUFNFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbiksYS5pbmRleE9mKENPTU1FTlRfREVMRVRFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGRlbGV0ZV9jb21tZW50X2Jhcl9idXR0b24pKTtcbmlmKGYhPT0tMSYmKGY9YS5zdWJzdHJpbmcoMCxmKSxmPXRoaXMuc2VhcmNoRm9yV29ya3NwYWNlQ29tbWVudChmKSkpe2lmKGEuaW5kZXhPZihDT01NRU5UX0VESVRPUl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3IpPi0xKXJldHVybiBmLmdldEVkaXRvckZvY3VzYWJsZU5vZGUoKTt2YXIgZztyZXR1cm4oZz1mLnZpZXcuZ2V0Q29tbWVudEJhckJ1dHRvbnMoKS5maW5kKGg9PmguZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLmlkLmluY2x1ZGVzKGEpKSkhPW51bGw/ZzpudWxsfWlmKChnPXRoaXMuZ2V0QWxsQmxvY2tzKCExKS5maW5kKGg9PmguZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLmlkPT09YSkpfHwoZz10aGlzLnNlYXJjaEZvcldvcmtzcGFjZUNvbW1lbnQoYSkpKXJldHVybiBnO2c9dGhpcy5nZXRBbGxCbG9ja3MoKS5tYXAoaD0+aC5nZXRJY29ucygpKS5mbGF0KCk7Zm9yKGUgb2YgZyl7aWYoZS5jYW5CZUZvY3VzZWQoKSYmXG5lLmdldEZvY3VzYWJsZUVsZW1lbnQoKS5pZD09PWEpcmV0dXJuIGU7aWYoaGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGUoZSkpe2lmKChnPWUuZ2V0QnViYmxlKCkpJiZnLmNhbkJlRm9jdXNlZCgpJiZnLmdldEZvY3VzYWJsZUVsZW1lbnQoKS5pZD09PWEpcmV0dXJuIGc7aWYoZyBpbnN0YW5jZW9mIFRleHRJbnB1dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dGlucHV0X2J1YmJsZSYmZy5nZXRFZGl0b3IoKS5nZXRGb2N1c2FibGVFbGVtZW50KCkuaWQ9PT1hKXJldHVybiBnLmdldEVkaXRvcigpfX1yZXR1cm4gbnVsbH1vblRyZWVGb2N1cyhhLGIpe31vblRyZWVCbHVyKGEpe2lmKHRoaXMuaXNGbHlvdXQmJnRoaXMudGFyZ2V0V29ya3NwYWNlJiYhJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZXBoZW1lcmFsRm9jdXNUYWtlbigpKXt2YXIgYj1cbnRoaXMudGFyZ2V0V29ya3NwYWNlLmdldFRvb2xib3goKTtiJiZhPT09Ynx8aXNBdXRvSGlkZWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfYXV0b2hpZGVhYmxlKGIpJiZiLmF1dG9IaWRlKCExKX19Z2V0TmF2aWdhdG9yKCl7cmV0dXJuIHRoaXMubmF2aWdhdG9yfXNldE5hdmlnYXRvcihhKXt0aGlzLm5hdmlnYXRvcj1hfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmcuV29ya3NwYWNlU3ZnPVdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmcucmVzaXplU3ZnQ29udGVudHM9cmVzaXplU3ZnQ29udGVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnO3ZhciBWYXJCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfYmFzZT1jbGFzcyBleHRlbmRzIEFic3RyYWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdHtjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMuaXNCbGFuaz10eXBlb2YgYT09PVwidW5kZWZpbmVkXCI7YSYmKHRoaXMudmFySWQ9YS5nZXRJZCgpLHRoaXMud29ya3NwYWNlSWQ9YS5nZXRXb3Jrc3BhY2UoKS5pZCl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy52YXJJZCl0aHJvdyBFcnJvcihcIlRoZSB2YXIgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnZhcklkPXRoaXMudmFySWQ7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IFZhckJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNlKTtcbmIudmFySWQ9YS52YXJJZDtyZXR1cm4gYn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNlLlZhckJhc2U9VmFyQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2U7dmFyIFZhckNyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2NyZWF0ZT1jbGFzcyBleHRlbmRzIFZhckJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFO2EmJih0aGlzLnZhclR5cGU9YS5nZXRUeXBlKCksdGhpcy52YXJOYW1lPWEuZ2V0TmFtZSgpKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKHRoaXMudmFyVHlwZT09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSB2YXIgdHlwZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLnZhck5hbWUpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEudmFyVHlwZT10aGlzLnZhclR5cGU7YS52YXJOYW1lPXRoaXMudmFyTmFtZTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVmFyQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfY3JlYXRlKTtiLnZhclR5cGU9YS52YXJUeXBlO2IudmFyTmFtZT1hLnZhck5hbWU7cmV0dXJuIGJ9cnVuKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMudmFySWQpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMudmFyTmFtZSl0aHJvdyBFcnJvcihcIlRoZSB2YXIgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2I9Yi5nZXRWYXJpYWJsZU1hcCgpO1xuYT9iLmNyZWF0ZVZhcmlhYmxlKHRoaXMudmFyTmFtZSx0aGlzLnZhclR5cGUsdGhpcy52YXJJZCk6KGE9Yi5nZXRWYXJpYWJsZUJ5SWQodGhpcy52YXJJZCkpJiZiLmRlbGV0ZVZhcmlhYmxlKGEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0NSRUFURSxWYXJDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9jcmVhdGUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfY3JlYXRlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9jcmVhdGUuVmFyQ3JlYXRlPVZhckNyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2NyZWF0ZTt2YXIgVmFyaWFibGVNb2RlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21vZGVsPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5uYW1lPWI7dGhpcy50eXBlPWN8fFwiXCI7dGhpcy5pZD1kfHxnZW5VaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpfWdldElkKCl7cmV0dXJuIHRoaXMuaWR9Z2V0TmFtZSgpe3JldHVybiB0aGlzLm5hbWV9c2V0TmFtZShhKXt0aGlzLm5hbWU9YTtyZXR1cm4gdGhpc31nZXRUeXBlKCl7cmV0dXJuIHRoaXMudHlwZX1zZXRUeXBlKGEpe3RoaXMudHlwZT1hO3JldHVybiB0aGlzfWdldFdvcmtzcGFjZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1zYXZlKCl7Y29uc3QgYT17bmFtZTp0aGlzLmdldE5hbWUoKSxpZDp0aGlzLmdldElkKCl9LGI9dGhpcy5nZXRUeXBlKCk7YiYmKGEudHlwZT1iKTtyZXR1cm4gYX1zdGF0aWMgbG9hZChhLGIpe2E9bmV3IHRoaXMoYixhLm5hbWUsXG5hLnR5cGUsYS5pZCk7Yi5nZXRWYXJpYWJsZU1hcCgpLmFkZFZhcmlhYmxlKGEpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0NSRUFURSkpKGEpKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlZBUklBQkxFX01PREVMLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxWYXJpYWJsZU1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbW9kZWwpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbW9kZWw9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21vZGVsLlZhcmlhYmxlTW9kZWw9VmFyaWFibGVNb2RlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21vZGVsO3ZhciBWYXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9kZWxldGU9Y2xhc3MgZXh0ZW5kcyBWYXJCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0RFTEVURTthJiYodGhpcy52YXJUeXBlPWEuZ2V0VHlwZSgpLHRoaXMudmFyTmFtZT1hLmdldE5hbWUoKSl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZih0aGlzLnZhclR5cGU9PT12b2lkIDApdGhyb3cgRXJyb3IoXCJUaGUgdmFyIHR5cGUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy52YXJOYW1lKXRocm93IEVycm9yKFwiVGhlIHZhciBuYW1lIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5hLnZhclR5cGU9dGhpcy52YXJUeXBlO2EudmFyTmFtZT10aGlzLnZhck5hbWU7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IFZhckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2RlbGV0ZSk7Yi52YXJUeXBlPWEudmFyVHlwZTtiLnZhck5hbWU9YS52YXJOYW1lO3JldHVybiBifXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLnZhcklkKXRocm93IEVycm9yKFwiVGhlIHZhciBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLnZhck5hbWUpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtiPWIuZ2V0VmFyaWFibGVNYXAoKTtcbmE/KGE9Yi5nZXRWYXJpYWJsZUJ5SWQodGhpcy52YXJJZCkpJiZiLmRlbGV0ZVZhcmlhYmxlKGEpOmIuY3JlYXRlVmFyaWFibGUodGhpcy52YXJOYW1lLHRoaXMudmFyVHlwZSx0aGlzLnZhcklkKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9ERUxFVEUsVmFyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfZGVsZXRlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2RlbGV0ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfZGVsZXRlLlZhckRlbGV0ZT1WYXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9kZWxldGU7dmFyIFZhclJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3JlbmFtZT1jbGFzcyBleHRlbmRzIFZhckJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNle2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9SRU5BTUU7YSYmKHRoaXMub2xkTmFtZT1hLmdldE5hbWUoKSx0aGlzLm5ld05hbWU9dHlwZW9mIGI9PT1cInVuZGVmaW5lZFwiP1wiXCI6Yil9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy5vbGROYW1lKXRocm93IEVycm9yKFwiVGhlIG9sZCB2YXIgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLm5ld05hbWUpdGhyb3cgRXJyb3IoXCJUaGUgbmV3IHZhciBuYW1lIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5hLm9sZE5hbWU9dGhpcy5vbGROYW1lO2EubmV3TmFtZT10aGlzLm5ld05hbWU7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IFZhclJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3JlbmFtZSk7Yi5vbGROYW1lPWEub2xkTmFtZTtiLm5ld05hbWU9YS5uZXdOYW1lO3JldHVybiBifXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLnZhcklkKXRocm93IEVycm9yKFwiVGhlIHZhciBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLm9sZE5hbWUpdGhyb3cgRXJyb3IoXCJUaGUgb2xkIHZhciBuYW1lIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMubmV3TmFtZSl0aHJvdyBFcnJvcihcIlRoZSBuZXcgdmFyIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmI9Yi5nZXRWYXJpYWJsZU1hcCgpO2NvbnN0IGM9Yi5nZXRWYXJpYWJsZUJ5SWQodGhpcy52YXJJZCk7YT9jJiZiLnJlbmFtZVZhcmlhYmxlKGMsdGhpcy5uZXdOYW1lKTpjJiZiLnJlbmFtZVZhcmlhYmxlKGMsdGhpcy5vbGROYW1lKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9SRU5BTUUsVmFyUmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfcmVuYW1lKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3JlbmFtZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfcmVuYW1lLlZhclJlbmFtZT1WYXJSZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9yZW5hbWU7dmFyIFZhcmlhYmxlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbWFwPWNsYXNze2NvbnN0cnVjdG9yKGEsYj0hMSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLnBvdGVudGlhbE1hcD1iO3RoaXMudmFyaWFibGVNYXA9bmV3IE1hcH1jbGVhcigpe2Zvcihjb25zdCBhIG9mIHRoaXMudmFyaWFibGVNYXAudmFsdWVzKCkpZm9yKGNvbnN0IGIgb2YgYS52YWx1ZXMoKSl0aGlzLmRlbGV0ZVZhcmlhYmxlKGIpO2lmKHRoaXMudmFyaWFibGVNYXAuc2l6ZSE9PTApdGhyb3cgRXJyb3IoXCJOb24tZW1wdHkgdmFyaWFibGUgbWFwXCIpO31yZW5hbWVWYXJpYWJsZShhLGIpe2lmKGEuZ2V0TmFtZSgpPT09YilyZXR1cm4gYTt2YXIgYz1hLmdldFR5cGUoKTtjPXRoaXMuZ2V0VmFyaWFibGUoYixjKTtjb25zdCBkPXRoaXMud29ya3NwYWNlLmdldEFsbEJsb2NrcyghMSk7bGV0IGU9XCJcIjt0aGlzLnBvdGVudGlhbE1hcHx8KGU9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKXx8XG4kLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTt0cnl7YyYmYy5nZXRJZCgpIT09YS5nZXRJZCgpP3RoaXMucmVuYW1lVmFyaWFibGVXaXRoQ29uZmxpY3QoYSxiLGMsZCk6dGhpcy5yZW5hbWVWYXJpYWJsZUFuZFVzZXMoYSxiLGQpfWZpbmFsbHl7dGhpcy5wb3RlbnRpYWxNYXB8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZSl9cmV0dXJuIGF9Y2hhbmdlVmFyaWFibGVUeXBlKGEsYil7Y29uc3QgYz1hLmdldFR5cGUoKTtpZihjPT09YilyZXR1cm4gYTt2YXIgZDsoZD10aGlzLnZhcmlhYmxlTWFwLmdldChhLmdldFR5cGUoKSkpPT1udWxsfHxkLmRlbGV0ZShhLmdldElkKCkpO2Euc2V0VHlwZShiKTtsZXQgZTtkPShlPXRoaXMudmFyaWFibGVNYXAuZ2V0KGIpKSE9bnVsbD9lOm5ldyBNYXA7ZC5zZXQoYS5nZXRJZCgpLGEpO3RoaXMudmFyaWFibGVNYXAuaGFzKGIpfHx0aGlzLnZhcmlhYmxlTWFwLnNldChiLFxuZCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfVFlQRV9DSEFOR0UpKShhLGMsYikpO3JldHVybiBhfXJlbmFtZVZhcmlhYmxlQnlJZChhLGIpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIlZhcmlhYmxlTWFwLnJlbmFtZVZhcmlhYmxlQnlJZFwiLFwidjEyXCIsXCJ2MTNcIixcIlZhcmlhYmxlTWFwLnJlbmFtZVZhcmlhYmxlXCIpO2NvbnN0IGM9dGhpcy5nZXRWYXJpYWJsZUJ5SWQoYSk7aWYoIWMpdGhyb3cgRXJyb3IoXCJUcmllZCB0byByZW5hbWUgYSB2YXJpYWJsZSB0aGF0IGRpZG4ndCBleGlzdC4gSUQ6IFwiK2EpO3RoaXMucmVuYW1lVmFyaWFibGUoYyxiKX1yZW5hbWVWYXJpYWJsZUFuZFVzZXMoYSxiLGMpe3RoaXMucG90ZW50aWFsTWFwfHxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9SRU5BTUUpKShhLFxuYikpO2Euc2V0TmFtZShiKTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKWNbYl0udXBkYXRlVmFyTmFtZShhKX1yZW5hbWVWYXJpYWJsZVdpdGhDb25mbGljdChhLGIsYyxkKXtjb25zdCBlPWEuZ2V0VHlwZSgpLGY9Yy5nZXROYW1lKCk7YiE9PWYmJnRoaXMucmVuYW1lVmFyaWFibGVBbmRVc2VzKGMsYixkKTtmb3IoYj0wO2I8ZC5sZW5ndGg7YisrKWRbYl0ucmVuYW1lVmFyQnlJZChhLmdldElkKCksYy5nZXRJZCgpKTt0aGlzLnBvdGVudGlhbE1hcHx8ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfREVMRVRFKSkoYSkpO2xldCBnOyhnPXRoaXMudmFyaWFibGVNYXAuZ2V0KGUpKT09bnVsbHx8Zy5kZWxldGUoYS5nZXRJZCgpKX1jcmVhdGVWYXJpYWJsZShhLGIsYyl7dmFyIGQ9dGhpcy5nZXRWYXJpYWJsZShhLFxuYik7aWYoZCl7aWYoYyYmZC5nZXRJZCgpIT09Yyl0aHJvdyBFcnJvcignVmFyaWFibGUgXCInK2ErJ1wiIGlzIGFscmVhZHkgaW4gdXNlIGFuZCBpdHMgaWQgaXMgXCInK2QuZ2V0SWQoKSsnXCIgd2hpY2ggY29uZmxpY3RzIHdpdGggdGhlIHBhc3NlZCBpbiBpZCwgXCInK2MrJ1wiLicpO3JldHVybiBkfWlmKGMmJnRoaXMuZ2V0VmFyaWFibGVCeUlkKGMpKXRocm93IEVycm9yKCdWYXJpYWJsZSBpZCwgXCInK2MrJ1wiLCBpcyBhbHJlYWR5IGluIHVzZS4nKTtkPWN8fGdlblVpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCk7Yj1ifHxcIlwiO2M9Z2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5WQVJJQUJMRV9NT0RFTCx0aGlzLndvcmtzcGFjZS5vcHRpb25zLCEwKTtpZighYyl0aHJvdyBFcnJvcihcIk5vIHZhcmlhYmxlIG1vZGVsIGlzIHJlZ2lzdGVyZWQuXCIpO1xuZD1uZXcgYyh0aGlzLndvcmtzcGFjZSxhLGIsZCk7bGV0IGU7YT0oZT10aGlzLnZhcmlhYmxlTWFwLmdldChiKSkhPW51bGw/ZTpuZXcgTWFwO2Euc2V0KGQuZ2V0SWQoKSxkKTt0aGlzLnZhcmlhYmxlTWFwLmhhcyhiKXx8dGhpcy52YXJpYWJsZU1hcC5zZXQoYixhKTt0aGlzLnBvdGVudGlhbE1hcHx8ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFKSkoZCkpO3JldHVybiBkfWFkZFZhcmlhYmxlKGEpe2NvbnN0IGI9YS5nZXRUeXBlKCk7dGhpcy52YXJpYWJsZU1hcC5oYXMoYil8fHRoaXMudmFyaWFibGVNYXAuc2V0KGIsbmV3IE1hcCk7bGV0IGM7KGM9dGhpcy52YXJpYWJsZU1hcC5nZXQoYikpPT1udWxsfHxjLnNldChhLmdldElkKCksYSl9ZGVsZXRlVmFyaWFibGUoYSl7Y29uc3QgYj1cbmdldFZhcmlhYmxlVXNlc0J5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXModGhpcy53b3Jrc3BhY2UsYS5nZXRJZCgpKTtsZXQgYz1cIlwiO3RoaXMucG90ZW50aWFsTWFwfHwoYz0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTt0cnl7Zm9yKGxldCBlPTA7ZTxiLmxlbmd0aDtlKyspYltlXS5kaXNwb3NlKCEwKTtjb25zdCBkPXRoaXMudmFyaWFibGVNYXAuZ2V0KGEuZ2V0VHlwZSgpKTtkJiZkLmhhcyhhLmdldElkKCkpJiYoZC5kZWxldGUoYS5nZXRJZCgpKSx0aGlzLnBvdGVudGlhbE1hcHx8ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfREVMRVRFKSkoYSkpLFxuZC5zaXplPT09MCYmdGhpcy52YXJpYWJsZU1hcC5kZWxldGUoYS5nZXRUeXBlKCkpKX1maW5hbGx5e3RoaXMucG90ZW50aWFsTWFwfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGMpfX1kZWxldGVWYXJpYWJsZUJ5SWQoYSl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiVmFyaWFibGVNYXAuZGVsZXRlVmFyaWFibGVCeUlkXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5WYXJpYWJsZXMuZGVsZXRlVmFyaWFibGVcIik7KGE9dGhpcy5nZXRWYXJpYWJsZUJ5SWQoYSkpJiYkLmRlbGV0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMud29ya3NwYWNlLGEpfWdldFZhcmlhYmxlKGEsYil7Yj10aGlzLnZhcmlhYmxlTWFwLmdldChifHxcIlwiKTtpZighYilyZXR1cm4gbnVsbDtsZXQgYztyZXR1cm4oYz1bLi4uYi52YWx1ZXMoKV0uZmluZChkPT4kLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuZXF1YWxzKGQuZ2V0TmFtZSgpLFxuYSkpKSE9bnVsbD9jOm51bGx9Z2V0VmFyaWFibGVCeUlkKGEpe2Zvcihjb25zdCBiIG9mIHRoaXMudmFyaWFibGVNYXAudmFsdWVzKCkpaWYoYi5oYXMoYSkpe2xldCBjO3JldHVybihjPWIuZ2V0KGEpKSE9bnVsbD9jOm51bGx9cmV0dXJuIG51bGx9Z2V0VmFyaWFibGVzT2ZUeXBlKGEpe3JldHVybihhPXRoaXMudmFyaWFibGVNYXAuZ2V0KGF8fFwiXCIpKT9bLi4uYS52YWx1ZXMoKV06W119Z2V0VHlwZXMoKXtyZXR1cm5bLi4udGhpcy52YXJpYWJsZU1hcC5rZXlzKCldfWdldEFsbFZhcmlhYmxlcygpe2xldCBhPVtdO2Zvcihjb25zdCBiIG9mIHRoaXMudmFyaWFibGVNYXAudmFsdWVzKCkpYT1hLmNvbmNhdCguLi5iLnZhbHVlcygpKTtyZXR1cm4gYX1nZXRBbGxWYXJpYWJsZU5hbWVzKCl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiVmFyaWFibGVNYXAuZ2V0QWxsVmFyaWFibGVOYW1lc1wiLFwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuVmFyaWFibGVzLmdldEFsbFZhcmlhYmxlc1wiKTtcbmNvbnN0IGE9W107Zm9yKGNvbnN0IGIgb2YgdGhpcy52YXJpYWJsZU1hcC52YWx1ZXMoKSlmb3IoY29uc3QgYyBvZiBiLnZhbHVlcygpKWEucHVzaChjLmdldE5hbWUoKSk7cmV0dXJuIGF9Z2V0VmFyaWFibGVVc2VzQnlJZChhKXt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJWYXJpYWJsZU1hcC5nZXRWYXJpYWJsZVVzZXNCeUlkXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5WYXJpYWJsZXMuZ2V0VmFyaWFibGVVc2VzQnlJZFwiKTtyZXR1cm4gZ2V0VmFyaWFibGVVc2VzQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLndvcmtzcGFjZSxhKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlZBUklBQkxFX01BUCxERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksVmFyaWFibGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZV9tYXApO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZV9tYXA9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21hcC5WYXJpYWJsZU1hcD1WYXJpYWJsZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21hcDt2YXIgVHJhc2hjYW5PcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190cmFzaGNhbl9vcGVuPWNsYXNzIGV4dGVuZHMgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNle2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYik7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRSQVNIQ0FOX09QRU47dGhpcy5pc09wZW49YX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKHRoaXMuaXNPcGVuPT09dm9pZCAwKXRocm93IEVycm9yKFwiV2hldGhlciB0aGlzIGlzIGFscmVhZHkgb3BlbiBvciBub3QgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLmlzT3Blbj10aGlzLmlzT3BlbjtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/XG5jOm5ldyBUcmFzaGNhbk9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RyYXNoY2FuX29wZW4pO2IuaXNPcGVuPWEuaXNPcGVuO3JldHVybiBifX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVFJBU0hDQU5fT1BFTixUcmFzaGNhbk9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RyYXNoY2FuX29wZW4pO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190cmFzaGNhbl9vcGVuPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RyYXNoY2FuX29wZW4uVHJhc2hjYW5PcGVuPVRyYXNoY2FuT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdHJhc2hjYW5fb3Blbjt2YXIgVHJhc2hjYW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj1jbGFzcyBleHRlbmRzIERlbGV0ZUFyZWEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkZWxldGVfYXJlYXtjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMud29ya3NwYWNlPWE7dGhpcy5pZD1cInRyYXNoY2FuXCI7dGhpcy5jb250ZW50cz1bXTt0aGlzLmZseW91dD1udWxsO3RoaXMuaXNMaWRPcGVuPSExO3RoaXMubWluT3Blbm5lc3M9MDt0aGlzLmxpZFRhc2s9dGhpcy5zdmdMaWQ9dGhpcy5zdmdHcm91cD1udWxsO3RoaXMudG9wPXRoaXMubGVmdD10aGlzLmxpZE9wZW49MDt0aGlzLmluaXRpYWxpemVkPSExO3RoaXMud29ya3NwYWNlLm9wdGlvbnMubWF4VHJhc2hjYW5Db250ZW50czw9MHx8KGE9dGhpcy53b3Jrc3BhY2UuY29weU9wdGlvbnNGb3JGbHlvdXQoKSx0aGlzLndvcmtzcGFjZS5ob3Jpem9udGFsTGF5b3V0PyhhLnRvb2xib3hQb3NpdGlvbj10aGlzLndvcmtzcGFjZS50b29sYm94UG9zaXRpb249PT1cblBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A/UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkJPVFRPTTpQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QLHRoaXMuZmx5b3V0PW5ldyAoZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRTX0hPUklaT05UQUxfVE9PTEJPWCx0aGlzLndvcmtzcGFjZS5vcHRpb25zLCEwKSkoYSkpOihhLnRvb2xib3hQb3NpdGlvbj10aGlzLndvcmtzcGFjZS50b29sYm94UG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guUklHSFQ/UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlQ6UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hULFxudGhpcy5mbHlvdXQ9bmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVFNfVkVSVElDQUxfVE9PTEJPWCx0aGlzLndvcmtzcGFjZS5vcHRpb25zLCEwKSkoYSkpLHRoaXMud29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25EZWxldGUuYmluZCh0aGlzKSkpfWNyZWF0ZURvbSgpe3RoaXMuc3ZnR3JvdXA9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7XCJjbGFzc1wiOlwiYmxvY2tseVRyYXNoXCJ9KTtsZXQgYTtjb25zdCBiPVN0cmluZyhNYXRoLnJhbmRvbSgpKS5zdWJzdHJpbmcoMik7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DTElQUEFUSCxcbntpZDpcImJsb2NrbHlUcmFzaEJvZHlDbGlwUGF0aFwiK2J9LHRoaXMuc3ZnR3JvdXApO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse3dpZHRoOldJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4saGVpZ2h0OkJPRFlfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4seTpMSURfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW59LGEpO2NvbnN0IGM9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use3dpZHRoOlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMud2lkdGgseDotU1BSSVRFX0xFRlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixoZWlnaHQ6U1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy5oZWlnaHQsXG55Oi1TUFJJVEVfVE9QJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4sXCJjbGlwLXBhdGhcIjpcInVybCgjYmxvY2tseVRyYXNoQm9keUNsaXBQYXRoXCIrYitcIilcIn0sdGhpcy5zdmdHcm91cCk7Yy5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIix0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhdGhUb01lZGlhK1NQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMudXJsKTthPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkNMSVBQQVRILHtpZDpcImJsb2NrbHlUcmFzaExpZENsaXBQYXRoXCIrYn0sdGhpcy5zdmdHcm91cCk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7d2lkdGg6V0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixcbmhlaWdodDpMSURfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW59LGEpO3RoaXMuc3ZnTGlkPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLklNQUdFLHt3aWR0aDpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLndpZHRoLHg6LVNQUklURV9MRUZUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4saGVpZ2h0OlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMuaGVpZ2h0LHk6LVNQUklURV9UT1AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixcImNsaXAtcGF0aFwiOlwidXJsKCNibG9ja2x5VHJhc2hMaWRDbGlwUGF0aFwiK2IrXCIpXCJ9LHRoaXMuc3ZnR3JvdXApO3RoaXMuc3ZnTGlkLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLFxudGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXRoVG9NZWRpYStTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLnVybCk7YmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnR3JvdXAsXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5ibG9ja01vdXNlRG93bldoZW5PcGVuYWJsZSk7YmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuc3ZnR3JvdXAsXCJwb2ludGVydXBcIix0aGlzLHRoaXMuY2xpY2spO2JpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhjLFwicG9pbnRlcm92ZXJcIix0aGlzLHRoaXMubW91c2VPdmVyKTtiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYyxcInBvaW50ZXJvdXRcIix0aGlzLHRoaXMubW91c2VPdXQpO3RoaXMuYW5pbWF0ZUxpZCgpO3JldHVybiB0aGlzLnN2Z0dyb3VwfWluaXQoKXtpZih0aGlzLndvcmtzcGFjZS5vcHRpb25zLm1heFRyYXNoY2FuQ29udGVudHM+XG4wKXtjb25zdCBhPXRoaXMuZmx5b3V0LmNyZWF0ZURvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseVRyYXNoY2FuRmx5b3V0XCIpO2luc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsdGhpcy53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCkpO3RoaXMuZmx5b3V0LmluaXQodGhpcy53b3Jrc3BhY2UpfXRoaXMud29ya3NwYWNlLmdldENvbXBvbmVudE1hbmFnZXIoKS5hZGRDb21wb25lbnQoe2NvbXBvbmVudDp0aGlzLHdlaWdodDpDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ29tcG9uZW50V2VpZ2h0LlRSQVNIQ0FOX1dFSUdIVCxjYXBhYmlsaXRpZXM6W0NvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkFVVE9ISURFQUJMRSxcbkNvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkRFTEVURV9BUkVBLENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkRSQUdfVEFSR0VULENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LlBPU0lUSU9OQUJMRV19KTt0aGlzLmluaXRpYWxpemVkPSEwO3RoaXMuc2V0TGlkT3BlbighMSl9ZGlzcG9zZSgpe3RoaXMud29ya3NwYWNlLmdldENvbXBvbmVudE1hbmFnZXIoKS5yZW1vdmVDb21wb25lbnQoXCJ0cmFzaGNhblwiKTt0aGlzLnN2Z0dyb3VwJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXApO3RoaXMubGlkVGFzayYmY2xlYXJUaW1lb3V0KHRoaXMubGlkVGFzayl9aGFzQ29udGVudHMoKXtyZXR1cm4hIXRoaXMuY29udGVudHMubGVuZ3RofWNvbnRlbnRzSXNPcGVuKCl7cmV0dXJuISF0aGlzLmZseW91dCYmXG50aGlzLmZseW91dC5pc1Zpc2libGUoKX1vcGVuRmx5b3V0KCl7aWYoIXRoaXMuY29udGVudHNJc09wZW4oKSl7dmFyIGE9dGhpcy5jb250ZW50cy5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIEpTT04ucGFyc2UoYyl9KSxiPXRoaXMud29ya3NwYWNlLmdldFBhcmVudFN2ZygpLnN0eWxlO2IuY3Vyc29yPVwid2FpdFwiO3NldFRpbWVvdXQoKCk9PntsZXQgYzsoYz10aGlzLmZseW91dCk9PW51bGx8fGMuc2hvdyhhKTtiLmN1cnNvcj1cIlwiO2xldCBkOyhkPXRoaXMud29ya3NwYWNlLnNjcm9sbGJhcik9PW51bGx8fGQuc2V0VmlzaWJsZSghMSl9LDEwKTt0aGlzLmZpcmVVaUV2ZW50KCEwKX19Y2xvc2VGbHlvdXQoKXtpZih0aGlzLmNvbnRlbnRzSXNPcGVuKCkpe3ZhciBhOyhhPXRoaXMuZmx5b3V0KT09bnVsbHx8YS5oaWRlKCk7dmFyIGI7KGI9dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsYmFyKT09bnVsbHx8Yi5zZXRWaXNpYmxlKCEwKTt0aGlzLmZpcmVVaUV2ZW50KCExKTt0aGlzLndvcmtzcGFjZS5yZWNvcmREcmFnVGFyZ2V0cygpfX1hdXRvSGlkZShhKXshYSYmXG50aGlzLmZseW91dCYmdGhpcy5jbG9zZUZseW91dCgpfWVtcHR5Q29udGVudHMoKXt0aGlzLmhhc0NvbnRlbnRzKCkmJih0aGlzLmNvbnRlbnRzLmxlbmd0aD0wLHRoaXMuc2V0TWluT3Blbm5lc3MoMCksdGhpcy5jbG9zZUZseW91dCgpKX1wb3NpdGlvbihhLGIpe2lmKHRoaXMuaW5pdGlhbGl6ZWQpe3ZhciBjPWdldENvcm5lck9wcG9zaXRlVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzKHRoaXMud29ya3NwYWNlLGEpO2E9Z2V0U3RhcnRQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycyhjLG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShXSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLEJPRFlfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4rTElEX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKSxcbk1BUkdJTl9IT1JJWk9OVEFMJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4sTUFSR0lOX1ZFUlRJQ0FMJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4sYSx0aGlzLndvcmtzcGFjZSk7Yj1idW1wUG9zaXRpb25SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMoYSxNQVJHSU5fVkVSVElDQUwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixjLnZlcnRpY2FsPT09dmVydGljYWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLlRPUD9idW1wRGlyZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuRE9XTjpidW1wRGlyZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuVVAsYik7dGhpcy50b3A9Yi50b3A7dGhpcy5sZWZ0PWIubGVmdDt2YXIgZDsoZD10aGlzLnN2Z0dyb3VwKT09bnVsbHx8ZC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcblwidHJhbnNsYXRlKFwiK3RoaXMubGVmdCtcIixcIit0aGlzLnRvcCtcIilcIik7dmFyIGU7KGU9dGhpcy5mbHlvdXQpPT1udWxsfHxlLnBvc2l0aW9uKCl9fWdldEJvdW5kaW5nUmVjdGFuZ2xlKCl7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCh0aGlzLnRvcCx0aGlzLnRvcCtCT0RZX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuK0xJRF9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbix0aGlzLmxlZnQsdGhpcy5sZWZ0K1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4pfWdldENsaWVudFJlY3QoKXtpZighdGhpcy5zdmdHcm91cClyZXR1cm4gbnVsbDt2YXIgYT10aGlzLnN2Z0dyb3VwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IGI9YS50b3ArU1BSSVRFX1RPUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLU1BUkdJTl9IT1RTUE9UJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW47XG5hPWEubGVmdCtTUFJJVEVfTEVGVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLU1BUkdJTl9IT1RTUE9UJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW47cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChiLGIrTElEX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuK0JPRFlfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4rMipNQVJHSU5fSE9UU1BPVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLGEsYStXSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKzIqTUFSR0lOX0hPVFNQT1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbil9b25EcmFnT3ZlcihhKXt0aGlzLnNldExpZE9wZW4odGhpcy53b3VsZERlbGV0ZV8pfW9uRHJhZ0V4aXQoYSl7dGhpcy5zZXRMaWRPcGVuKCExKX1vbkRyb3AoYSl7c2V0VGltZW91dCh0aGlzLnNldExpZE9wZW4uYmluZCh0aGlzLFxuITEpLDEwMCl9c2V0TGlkT3BlbihhKXt0aGlzLmlzTGlkT3BlbiE9PWEmJih0aGlzLmxpZFRhc2smJmNsZWFyVGltZW91dCh0aGlzLmxpZFRhc2spLHRoaXMuaXNMaWRPcGVuPWEsdGhpcy5hbmltYXRlTGlkKCkpfWFuaW1hdGVMaWQoKXtjb25zdCBhPUFOSU1BVElPTl9GUkFNRVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbjt2YXIgYj0xLyhhKzEpO3RoaXMubGlkT3Blbis9dGhpcy5pc0xpZE9wZW4/YjotYjt0aGlzLmxpZE9wZW49TWF0aC5taW4oTWF0aC5tYXgodGhpcy5saWRPcGVuLHRoaXMubWluT3Blbm5lc3MpLDEpO3RoaXMuc2V0TGlkQW5nbGUodGhpcy5saWRPcGVuKk1BWF9MSURfQU5HTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbik7Yj1PUEFDSVRZX01JTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuK3RoaXMubGlkT3BlbiooT1BBQ0lUWV9NQVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbi1PUEFDSVRZX01JTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKTtcbnRoaXMuc3ZnR3JvdXAmJih0aGlzLnN2Z0dyb3VwLnN0eWxlLm9wYWNpdHk9YCR7Yn1gKTt0aGlzLmxpZE9wZW4+dGhpcy5taW5PcGVubmVzcyYmdGhpcy5saWRPcGVuPDEmJih0aGlzLmxpZFRhc2s9c2V0VGltZW91dCh0aGlzLmFuaW1hdGVMaWQuYmluZCh0aGlzKSxBTklNQVRJT05fTEVOR1RIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4vYSkpfXNldExpZEFuZ2xlKGEpe2NvbnN0IGI9dGhpcy53b3Jrc3BhY2UudG9vbGJveFBvc2l0aW9uPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hUfHx0aGlzLndvcmtzcGFjZS5ob3Jpem9udGFsTGF5b3V0JiZ0aGlzLndvcmtzcGFjZS5SVEw7bGV0IGM7KGM9dGhpcy5zdmdMaWQpPT1udWxsfHxjLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwicm90YXRlKFwiKyhiPy1hOmEpK1wiLFwiKyhiPzQ6V0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbi00KStcIixcIisoTElEX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLVxuMikrXCIpXCIpfXNldE1pbk9wZW5uZXNzKGEpe3RoaXMubWluT3Blbm5lc3M9YTt0aGlzLmlzTGlkT3Blbnx8dGhpcy5zZXRMaWRBbmdsZShhKk1BWF9MSURfQU5HTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbil9Y2xvc2VMaWQoKXt0aGlzLnNldExpZE9wZW4oITEpfWNsaWNrKCl7dGhpcy5oYXNDb250ZW50cygpJiYhdGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZygpJiZ0aGlzLm9wZW5GbHlvdXQoKX1maXJlVWlFdmVudChhKXthPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRSQVNIQ0FOX09QRU4pKShhLHRoaXMud29ya3NwYWNlLmlkKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfWJsb2NrTW91c2VEb3duV2hlbk9wZW5hYmxlKGEpeyF0aGlzLmNvbnRlbnRzSXNPcGVuKCkmJnRoaXMuaGFzQ29udGVudHMoKSYmYS5zdG9wUHJvcGFnYXRpb24oKX1tb3VzZU92ZXIoKXt0aGlzLmhhc0NvbnRlbnRzKCkmJlxudGhpcy5zZXRMaWRPcGVuKCEwKX1tb3VzZU91dCgpe3RoaXMuc2V0TGlkT3BlbighMSl9b25EZWxldGUoYSl7aWYoISh0aGlzLndvcmtzcGFjZS5vcHRpb25zLm1heFRyYXNoY2FuQ29udGVudHM8PTB8fCFpc0Jsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSl8fGEud2FzU2hhZG93KSl7aWYoIWEub2xkSnNvbil0aHJvdyBFcnJvcihcIkVuY291bnRlcmVkIGEgZGVsZXRlIGV2ZW50IHdpdGhvdXQgcHJvcGVyIG9sZEpzb25cIik7YT1KU09OLnN0cmluZ2lmeSh0aGlzLmNsZWFuQmxvY2tKc29uKGEub2xkSnNvbikpO2lmKCF0aGlzLmNvbnRlbnRzLmluY2x1ZGVzKGEpKXtmb3IodGhpcy5jb250ZW50cy51bnNoaWZ0KGEpO3RoaXMuY29udGVudHMubGVuZ3RoPnRoaXMud29ya3NwYWNlLm9wdGlvbnMubWF4VHJhc2hjYW5Db250ZW50czspdGhpcy5jb250ZW50cy5wb3AoKTt0aGlzLnNldE1pbk9wZW5uZXNzKEhBU19CTE9DS1NfTElEX0FOR0xFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4pfX19Y2xlYW5CbG9ja0pzb24oYSl7ZnVuY3Rpb24gYihjKXtpZihjKXtkZWxldGUgYy5pZDtcbmRlbGV0ZSBjLng7ZGVsZXRlIGMueTtkZWxldGUgYy5lbmFibGVkO2RlbGV0ZSBjLmRpc2FibGVkUmVhc29ucztpZihjLmljb25zJiZjLmljb25zLmNvbW1lbnQpe3ZhciBkPWMuaWNvbnMuY29tbWVudDtkZWxldGUgZC5oZWlnaHQ7ZGVsZXRlIGQud2lkdGg7ZGVsZXRlIGQucGlubmVkfWQ9Yy5pbnB1dHM7Zm9yKHZhciBlIGluIGQpe3ZhciBmPWRbZV07Y29uc3QgZz1mLmJsb2NrO2Y9Zi5zaGFkb3c7ZyYmYihnKTtmJiZiKGYpfWMubmV4dCYmKGU9Yy5uZXh0LGM9ZS5ibG9jayxlPWUuc2hhZG93LGMmJmIoYyksZSYmYihlKSl9fWE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhKSk7YihhKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx7a2luZDpcIkJMT0NLXCJ9LGEpfX0sV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj00NyxCT0RZX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTQ0LExJRF9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj1cbjE2LE1BUkdJTl9WRVJUSUNBTCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTIwLE1BUkdJTl9IT1JJWk9OVEFMJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49MjAsTUFSR0lOX0hPVFNQT1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj0xMCxTUFJJVEVfTEVGVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTAsU1BSSVRFX1RPUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTMyLEhBU19CTE9DS1NfTElEX0FOR0xFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49LjEsQU5JTUFUSU9OX0xFTkdUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTgwLEFOSU1BVElPTl9GUkFNRVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj00LE9QQUNJVFlfTUlOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49LjQsT1BBQ0lUWV9NQVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj0uOCxcbk1BWF9MSURfQU5HTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj00NSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLlRyYXNoY2FuPVRyYXNoY2FuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW47dmFyIHN0YXNoZWRDb3B5RGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1udWxsLHN0YXNoZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9bnVsbCxzdGFzaGVkQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9dm9pZCAwLG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5CbG9ja1Bhc3Rlcj1CbG9ja1Bhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5jb3B5PWNvcHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5nZXRMYXN0Q29waWVkRGF0YT1nZXRMYXN0Q29waWVkRGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQuZ2V0TGFzdENvcGllZExvY2F0aW9uPWdldExhc3RDb3BpZWRMb2NhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLmdldExhc3RDb3BpZWRXb3Jrc3BhY2U9Z2V0TGFzdENvcGllZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLnBhc3RlPXBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQucmVnaXN0cnk9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLnNldExhc3RDb3BpZWREYXRhPXNldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5zZXRMYXN0Q29waWVkTG9jYXRpb249c2V0TGFzdENvcGllZExvY2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQuc2V0TGFzdENvcGllZFdvcmtzcGFjZT1zZXRMYXN0Q29waWVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzLkNvbGxhcHNlQ29tbWVudEJhckJ1dHRvbj1Db2xsYXBzZUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb2xsYXBzZV9jb21tZW50X2Jhcl9idXR0b247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzLkNvbW1lbnRCYXJCdXR0b249Q29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfYmFyX2J1dHRvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuQ29tbWVudEVkaXRvcj1Db21tZW50RWRpdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzLkNvbW1lbnRWaWV3PUNvbW1lbnRWaWV3JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF92aWV3O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzLkRlbGV0ZUNvbW1lbnRCYXJCdXR0b249RGVsZXRlQ29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGRlbGV0ZV9jb21tZW50X2Jhcl9idXR0b247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzLlJlbmRlcmVkV29ya3NwYWNlQ29tbWVudD1SZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuV29ya3NwYWNlQ29tbWVudD1Xb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkd29ya3NwYWNlX2NvbW1lbnQ7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb3B5YWJsZS5pc0NvcHlhYmxlPWlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGU7dmFyIG5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7KGZ1bmN0aW9uKGEpe2EuRVNDQVBFPVwiZXNjYXBlXCI7YS5ERUxFVEU9XCJkZWxldGVcIjthLkNPUFk9XCJjb3B5XCI7YS5DVVQ9XCJjdXRcIjthLlBBU1RFPVwicGFzdGVcIjthLlVORE89XCJ1bmRvXCI7YS5SRURPPVwicmVkb1wifSkobmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtc3x8KG5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9e30pKTtyZWdpc3RlckRlZmF1bHRTaG9ydGN1dHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcygpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLm5hbWVzPW5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMucmVnaXN0ZXJDb3B5PXJlZ2lzdGVyQ29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5yZWdpc3RlckN1dD1yZWdpc3RlckN1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5yZWdpc3RlckRlZmF1bHRTaG9ydGN1dHM9cmVnaXN0ZXJEZWZhdWx0U2hvcnRjdXRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLnJlZ2lzdGVyRGVsZXRlPXJlZ2lzdGVyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLnJlZ2lzdGVyRXNjYXBlPXJlZ2lzdGVyRXNjYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMucmVnaXN0ZXJQYXN0ZT1yZWdpc3RlclBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLnJlZ2lzdGVyUmVkbz1yZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMucmVnaXN0ZXJVbmRvPXJlZ2lzdGVyVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zO3ZhciBQcm9jZWR1cmVTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5wcm9jZWR1cmVNb2RlbENsYXNzPWE7dGhpcy5wYXJhbWV0ZXJNb2RlbENsYXNzPWI7dGhpcy5wcmlvcml0eT1QUk9DRURVUkVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzfXNhdmUoYSl7YT1hLmdldFByb2NlZHVyZU1hcCgpLmdldFByb2NlZHVyZXMoKS5tYXAoYj0+c2F2ZVByb2NlZHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlcyhiKSk7cmV0dXJuIGEubGVuZ3RoP2E6bnVsbH1sb2FkKGEsYil7Y29uc3QgYz1iLmdldFByb2NlZHVyZU1hcCgpO2Zvcihjb25zdCBkIG9mIGEpYy5hZGQobG9hZFByb2NlZHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlcyh0aGlzLnByb2NlZHVyZU1vZGVsQ2xhc3MsXG50aGlzLnBhcmFtZXRlck1vZGVsQ2xhc3MsZCxiKSl9Y2xlYXIoYSl7YS5nZXRQcm9jZWR1cmVNYXAoKS5jbGVhcigpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzLlByb2NlZHVyZVNlcmlhbGl6ZXI9UHJvY2VkdXJlU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzLmxvYWRQcm9jZWR1cmU9bG9hZFByb2NlZHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzLnNhdmVQcm9jZWR1cmU9c2F2ZVByb2NlZHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlczt2YXIgVmFyaWFibGVTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR2YXJpYWJsZXM9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnByaW9yaXR5PVZBUklBQkxFUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllc31zYXZlKGEpe2E9YS5nZXRBbGxWYXJpYWJsZXMoKS5tYXAoYj0+Yi5zYXZlKCkpO3JldHVybiBhLmxlbmd0aD9hOm51bGx9bG9hZChhLGIpe2NvbnN0IGM9Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlZBUklBQkxFX01PREVMLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSk7YS5mb3JFYWNoKGQ9PntjPT1udWxsfHxjLmxvYWQoZCxiKX0pfWNsZWFyKGEpe2EuZ2V0VmFyaWFibGVNYXAoKS5jbGVhcigpfX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnkoXCJ2YXJpYWJsZXNcIixuZXcgVmFyaWFibGVTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR2YXJpYWJsZXMpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR2YXJpYWJsZXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kdmFyaWFibGVzLlZhcmlhYmxlU2VyaWFsaXplcj1WYXJpYWJsZVNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHZhcmlhYmxlczt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzLmxvYWQ9bG9hZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzLnNhdmU9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlczt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb249e2Jsb2Nrczptb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsZXhjZXB0aW9uczptb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zLHByaW9yaXRpZXM6bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcyxwcm9jZWR1cmVzOm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXMscmVnaXN0cnk6bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnksdmFyaWFibGVzOm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHZhcmlhYmxlcyx3b3Jrc3BhY2VDb21tZW50czptb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMsd29ya3NwYWNlczptb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzfTtcIkJsb2NrbHlcImluIGdsb2JhbFRoaXN8fChnbG9iYWxUaGlzLkJsb2NrbHk9e01zZzptb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnfSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRtYWluPXt9O3ZhciBMQUJFTF9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyPVwibGFiZWxcIixMYWJlbEZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyPWNsYXNze2xvYWQoYSxiKXthPW5ldyBGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uKGIuZ2V0V29ya3NwYWNlKCksYi50YXJnZXRXb3Jrc3BhY2UsYSwhMCk7YS5zaG93KCk7cmV0dXJuIG5ldyBGbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW0oYSxMQUJFTF9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyKX1nYXBGb3JJdGVtKGEsYil7cmV0dXJuIGJ9ZGlzcG9zZUl0ZW0oYSl7YT1hLmdldEVsZW1lbnQoKTthIGluc3RhbmNlb2YgRmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbiYmYS5kaXNwb3NlKCl9Z2V0VHlwZSgpe3JldHVybiBMQUJFTF9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyfX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRfSU5GTEFURVIsTEFCRUxfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxhYmVsX2ZseW91dF9pbmZsYXRlcixMYWJlbEZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxhYmVsX2ZseW91dF9pbmZsYXRlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyLkxhYmVsRmx5b3V0SW5mbGF0ZXI9TGFiZWxGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxhYmVsX2ZseW91dF9pbmZsYXRlcjt2YXIgQ29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRjb25zdGFudHM9Y2xhc3MgZXh0ZW5kcyBDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHN7Y29uc3RydWN0b3IoYSl7c3VwZXIoKTt0aGlzLkdSSURfVU5JVD00O3RoaXMuQ1VSU09SX0NPTE9VUj1cIiNmZmEyMDBcIjt0aGlzLkNVUlNPUl9SQURJVVM9NTt0aGlzLkpBR0dFRF9URUVUSF9XSURUSD10aGlzLkpBR0dFRF9URUVUSF9IRUlHSFQ9MDt0aGlzLlNUQVJUX0hBVF9IRUlHSFQ9MjI7dGhpcy5TVEFSVF9IQVRfV0lEVEg9OTY7dGhpcy5TSEFQRVM9e0hFWEFHT05BTDoxLFJPVU5EOjIsU1FVQVJFOjMsUFVaWkxFOjQsTk9UQ0g6NX07dGhpcy5TSEFQRV9JTl9TSEFQRV9QQURESU5HPXsxOnswOjUqdGhpcy5HUklEX1VOSVQsMToyKnRoaXMuR1JJRF9VTklULDI6NSp0aGlzLkdSSURfVU5JVCwzOjUqdGhpcy5HUklEX1VOSVR9LFxuMjp7MDozKnRoaXMuR1JJRF9VTklULDE6Myp0aGlzLkdSSURfVU5JVCwyOjEqdGhpcy5HUklEX1VOSVQsMzoyKnRoaXMuR1JJRF9VTklUfSwzOnswOjIqdGhpcy5HUklEX1VOSVQsMToyKnRoaXMuR1JJRF9VTklULDI6Mip0aGlzLkdSSURfVU5JVCwzOjIqdGhpcy5HUklEX1VOSVR9fTt0aGlzLkZVTExfQkxPQ0tfRklFTERTPSEwO3RoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUPVwiYm9sZFwiO3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZPSdcIkhlbHZldGljYSBOZXVlXCIsIFwiU2Vnb2UgVUlcIiwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJzt0aGlzLkZJRUxEX0NPTE9VUl9GVUxMX0JMT0NLPXRoaXMuRklFTERfVEVYVElOUFVUX0JPWF9TSEFET1c9dGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1c9dGhpcy5GSUVMRF9EUk9QRE9XTl9DT0xPVVJFRF9ESVY9dGhpcy5GSUVMRF9EUk9QRE9XTl9OT19CT1JERVJfUkVDVF9TSEFET1c9ITA7dGhpcy5TRUxFQ1RFRF9HTE9XX0NPTE9VUj1cIiNmZmYyMDBcIjtcbnRoaXMuU0VMRUNURURfR0xPV19TSVpFPS41O3RoaXMuUkVQTEFDRU1FTlRfR0xPV19DT0xPVVI9XCIjZmZmMjAwXCI7dGhpcy5SRVBMQUNFTUVOVF9HTE9XX1NJWkU9Mjt0aGlzLnNlbGVjdGVkR2xvd0ZpbHRlcklkPVwiXCI7dGhpcy5zZWxlY3RlZEdsb3dGaWx0ZXI9bnVsbDt0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcklkPVwiXCI7dGhpcy5TUVVBUkVEPXRoaXMuUk9VTkRFRD10aGlzLkhFWEFHT05BTD10aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcj1udWxsO2EmJih0aGlzLkdSSURfVU5JVD1hKTt0aGlzLlNNQUxMX1BBRERJTkc9dGhpcy5HUklEX1VOSVQ7dGhpcy5NRURJVU1fUEFERElORz0yKnRoaXMuR1JJRF9VTklUO3RoaXMuTUVESVVNX0xBUkdFX1BBRERJTkc9Myp0aGlzLkdSSURfVU5JVDt0aGlzLkxBUkdFX1BBRERJTkc9NCp0aGlzLkdSSURfVU5JVDt0aGlzLkNPUk5FUl9SQURJVVM9MSp0aGlzLkdSSURfVU5JVDt0aGlzLk5PVENIX1dJRFRIPTkqdGhpcy5HUklEX1VOSVQ7dGhpcy5OT1RDSF9IRUlHSFQ9XG4yKnRoaXMuR1JJRF9VTklUO3RoaXMuU1RBVEVNRU5UX0lOUFVUX05PVENIX09GRlNFVD10aGlzLk5PVENIX09GRlNFVF9MRUZUPTMqdGhpcy5HUklEX1VOSVQ7dGhpcy5NSU5fQkxPQ0tfV0lEVEg9Mip0aGlzLkdSSURfVU5JVDt0aGlzLk1JTl9CTE9DS19IRUlHSFQ9MTIqdGhpcy5HUklEX1VOSVQ7dGhpcy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUPTYqdGhpcy5HUklEX1VOSVQ7dGhpcy5UT1BfUk9XX01JTl9IRUlHSFQ9dGhpcy5DT1JORVJfUkFESVVTO3RoaXMuVE9QX1JPV19QUkVDRURFU19TVEFURU1FTlRfTUlOX0hFSUdIVD10aGlzLkxBUkdFX1BBRERJTkc7dGhpcy5CT1RUT01fUk9XX01JTl9IRUlHSFQ9dGhpcy5DT1JORVJfUkFESVVTO3RoaXMuQk9UVE9NX1JPV19BRlRFUl9TVEFURU1FTlRfTUlOX0hFSUdIVD02KnRoaXMuR1JJRF9VTklUO3RoaXMuU1RBVEVNRU5UX0JPVFRPTV9TUEFDRVI9LXRoaXMuTk9UQ0hfSEVJR0hUO3RoaXMuU1RBVEVNRU5UX0lOUFVUX1NQQUNFUl9NSU5fV0lEVEg9XG40MCp0aGlzLkdSSURfVU5JVDt0aGlzLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ9NCp0aGlzLkdSSURfVU5JVDt0aGlzLkVNUFRZX0lOTElORV9JTlBVVF9QQURESU5HPTQqdGhpcy5HUklEX1VOSVQ7dGhpcy5FTVBUWV9JTkxJTkVfSU5QVVRfSEVJR0hUPTgqdGhpcy5HUklEX1VOSVQ7dGhpcy5EVU1NWV9JTlBVVF9NSU5fSEVJR0hUPTgqdGhpcy5HUklEX1VOSVQ7dGhpcy5EVU1NWV9JTlBVVF9TSEFET1dfTUlOX0hFSUdIVD02KnRoaXMuR1JJRF9VTklUO3RoaXMuQ1VSU09SX1dTX1dJRFRIPTIwKnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfVEVYVF9GT05UU0laRT0zKnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfQk9SREVSX1JFQ1RfUkFESVVTPXRoaXMuQ09STkVSX1JBRElVUzt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORz0yKnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfQk9SREVSX1JFQ1RfWV9QQURESU5HPTEuNjI1KnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfQk9SREVSX1JFQ1RfSEVJR0hUPVxuOCp0aGlzLkdSSURfVU5JVDt0aGlzLkZJRUxEX0RST1BET1dOX0JPUkRFUl9SRUNUX0hFSUdIVD04KnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1BBRERJTkc9dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9YX1BBRERJTkc7dGhpcy5GSUVMRF9DT0xPVVJfREVGQVVMVF9XSURUSD02KnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfQ09MT1VSX0RFRkFVTFRfSEVJR0hUPTgqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9DSEVDS0JPWF9YX09GRlNFVD0xKnRoaXMuR1JJRF9VTklUO3RoaXMuTUFYX0RZTkFNSUNfQ09OTkVDVElPTl9TSEFQRV9XSURUSD0xMip0aGlzLkdSSURfVU5JVH1zZXRGb250Q29uc3RhbnRzXyhhKXtzdXBlci5zZXRGb250Q29uc3RhbnRzXyhhKTt0aGlzLkZJRUxEX0RST1BET1dOX0JPUkRFUl9SRUNUX0hFSUdIVD10aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0hFSUdIVD10aGlzLkZJRUxEX1RFWFRfSEVJR0hUK3RoaXMuRklFTERfQk9SREVSX1JFQ1RfWV9QQURESU5HKlxuMn1pbml0KCl7c3VwZXIuaW5pdCgpO3RoaXMuSEVYQUdPTkFMPXRoaXMubWFrZUhleGFnb25hbCgpO3RoaXMuUk9VTkRFRD10aGlzLm1ha2VSb3VuZGVkKCk7dGhpcy5TUVVBUkVEPXRoaXMubWFrZVNxdWFyZWQoKTt0aGlzLlNUQVRFTUVOVF9JTlBVVF9OT1RDSF9PRkZTRVQ9dGhpcy5OT1RDSF9PRkZTRVRfTEVGVCt0aGlzLklOU0lERV9DT1JORVJTLnJpZ2h0V2lkdGh9c2V0RHluYW1pY1Byb3BlcnRpZXNfKGEpe3N1cGVyLnNldER5bmFtaWNQcm9wZXJ0aWVzXyhhKTt0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSPWEuZ2V0Q29tcG9uZW50U3R5bGUoXCJzZWxlY3RlZEdsb3dDb2xvdXJcIil8fHRoaXMuU0VMRUNURURfR0xPV19DT0xPVVI7Y29uc3QgYj1OdW1iZXIoYS5nZXRDb21wb25lbnRTdHlsZShcInNlbGVjdGVkR2xvd1NpemVcIikpO3RoaXMuU0VMRUNURURfR0xPV19TSVpFPWImJiFpc05hTihiKT9iOnRoaXMuU0VMRUNURURfR0xPV19TSVpFO3RoaXMuUkVQTEFDRU1FTlRfR0xPV19DT0xPVVI9XG5hLmdldENvbXBvbmVudFN0eWxlKFwicmVwbGFjZW1lbnRHbG93Q29sb3VyXCIpfHx0aGlzLlJFUExBQ0VNRU5UX0dMT1dfQ09MT1VSO3RoaXMuUkVQTEFDRU1FTlRfR0xPV19TSVpFPShhPU51bWJlcihhLmdldENvbXBvbmVudFN0eWxlKFwicmVwbGFjZW1lbnRHbG93U2l6ZVwiKSkpJiYhaXNOYU4oYSk/YTp0aGlzLlJFUExBQ0VNRU5UX0dMT1dfU0laRX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpO3RoaXMuc2VsZWN0ZWRHbG93RmlsdGVyJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc2VsZWN0ZWRHbG93RmlsdGVyKTt0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlciYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcil9bWFrZVN0YXJ0SGF0KCl7Y29uc3QgYT10aGlzLlNUQVJUX0hBVF9IRUlHSFQsYj10aGlzLlNUQVJUX0hBVF9XSURUSCxjPWN1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiY1wiLFxuW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDI1LC1hKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg3MSwtYSkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYiwwKV0pO3JldHVybntoZWlnaHQ6YSouNzUsd2lkdGg6YixwYXRoOmN9fW1ha2VIZXhhZ29uYWwoKXtmdW5jdGlvbiBhKGMsZCxlKXt2YXIgZj1jLzI7Zj1mPmI/YjpmO2U9ZT8tMToxO2M9KGQ/LTE6MSkqYy8yO3JldHVybiBsaW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWUqZixjKStsaW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoZSpmLGMpfWNvbnN0IGI9dGhpcy5NQVhfRFlOQU1JQ19DT05ORUNUSU9OX1NIQVBFX1dJRFRIO3JldHVybnt0eXBlOnRoaXMuU0hBUEVTLkhFWEFHT05BTCxpc0R5bmFtaWM6ITAsd2lkdGgoYyl7Yy89MjtyZXR1cm4gYz5cbmI/YjpjfSxoZWlnaHQoYyl7cmV0dXJuIGN9LGNvbm5lY3Rpb25PZmZzZXRZKGMpe3JldHVybiBjLzJ9LGNvbm5lY3Rpb25PZmZzZXRYKGMpe3JldHVybi1jfSxwYXRoRG93bihjKXtyZXR1cm4gYShjLCExLCExKX0scGF0aFVwKGMpe3JldHVybiBhKGMsITAsITEpfSxwYXRoUmlnaHREb3duKGMpe3JldHVybiBhKGMsITEsITApfSxwYXRoUmlnaHRVcChjKXtyZXR1cm4gYShjLCExLCEwKX19fW1ha2VSb3VuZGVkKCl7ZnVuY3Rpb24gYShkLGUsZil7Y29uc3QgZz1kPmM/ZC1jOjA7ZD0oZD5jP2M6ZCkvMjtjb25zdCBoPWY9PT1lP1wiMFwiOlwiMVwiO3JldHVybiBhcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsXCIraCxkLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKChmPzE6LTEpKmQsKGU/LTE6MSkqZCkpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsKGU/LTE6XG4xKSpnKSthcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsXCIraCxkLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKChmPy0xOjEpKmQsKGU/LTE6MSkqZCkpfWNvbnN0IGI9dGhpcy5NQVhfRFlOQU1JQ19DT05ORUNUSU9OX1NIQVBFX1dJRFRILGM9YioyO3JldHVybnt0eXBlOnRoaXMuU0hBUEVTLlJPVU5ELGlzRHluYW1pYzohMCx3aWR0aChkKXtkLz0yO3JldHVybiBkPmI/YjpkfSxoZWlnaHQoZCl7cmV0dXJuIGR9LGNvbm5lY3Rpb25PZmZzZXRZKGQpe3JldHVybiBkLzJ9LGNvbm5lY3Rpb25PZmZzZXRYKGQpe3JldHVybi1kfSxwYXRoRG93bihkKXtyZXR1cm4gYShkLCExLCExKX0scGF0aFVwKGQpe3JldHVybiBhKGQsITAsITEpfSxwYXRoUmlnaHREb3duKGQpe3JldHVybiBhKGQsITEsITApfSxwYXRoUmlnaHRVcChkKXtyZXR1cm4gYShkLCExLCEwKX19fW1ha2VTcXVhcmVkKCl7ZnVuY3Rpb24gYShjLFxuZCxlKXtjLT1iKjI7Y29uc3QgZj1lPT09ZD9cIjBcIjpcIjFcIjtyZXR1cm4gYXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLFwiK2YsYixwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygoZT8xOi0xKSpiLChkPy0xOjEpKmIpKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLChkPy0xOjEpKmMpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCxcIitmLGIscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoKGU/LTE6MSkqYiwoZD8tMToxKSpiKSl9Y29uc3QgYj10aGlzLkNPUk5FUl9SQURJVVM7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuU1FVQVJFLGlzRHluYW1pYzohMCx3aWR0aChjKXtyZXR1cm4gYn0saGVpZ2h0KGMpe3JldHVybiBjfSxjb25uZWN0aW9uT2Zmc2V0WShjKXtyZXR1cm4gYy9cbjJ9LGNvbm5lY3Rpb25PZmZzZXRYKGMpe3JldHVybi1jfSxwYXRoRG93bihjKXtyZXR1cm4gYShjLCExLCExKX0scGF0aFVwKGMpe3JldHVybiBhKGMsITAsITEpfSxwYXRoUmlnaHREb3duKGMpe3JldHVybiBhKGMsITEsITApfSxwYXRoUmlnaHRVcChjKXtyZXR1cm4gYShjLCExLCEwKX19fXNoYXBlRm9yKGEpe2xldCBiPWEuZ2V0Q2hlY2soKTshYiYmYS50YXJnZXRDb25uZWN0aW9uJiYoYj1hLnRhcmdldENvbm5lY3Rpb24uZ2V0Q2hlY2soKSk7c3dpdGNoKGEudHlwZSl7Y2FzZSBDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRTpjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRTphPWEuZ2V0U291cmNlQmxvY2soKS5nZXRPdXRwdXRTaGFwZSgpO2lmKGEhPT1udWxsKXN3aXRjaChhKXtjYXNlIHRoaXMuU0hBUEVTLkhFWEFHT05BTDpyZXR1cm4gdGhpcy5IRVhBR09OQUw7XG5jYXNlIHRoaXMuU0hBUEVTLlJPVU5EOnJldHVybiB0aGlzLlJPVU5ERUQ7Y2FzZSB0aGlzLlNIQVBFUy5TUVVBUkU6cmV0dXJuIHRoaXMuU1FVQVJFRH1pZihiJiZiLmluY2x1ZGVzKFwiQm9vbGVhblwiKSlyZXR1cm4gdGhpcy5IRVhBR09OQUw7aWYoYiYmYi5pbmNsdWRlcyhcIk51bWJlclwiKSlyZXR1cm4gdGhpcy5ST1VOREVEO2ImJmIuaW5jbHVkZXMoXCJTdHJpbmdcIik7cmV0dXJuIHRoaXMuUk9VTkRFRDtjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVDpjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UOnJldHVybiB0aGlzLk5PVENIO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGVcIik7fX1tYWtlTm90Y2goKXtmdW5jdGlvbiBhKGwpe3JldHVybiBjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImNcIixcbltwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUvMiwwKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUqMy80LGcvMikscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLGcpXSkrbGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLGYpXSkrY3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZS80LGcvMikscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLzIsZykscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLGcpXSkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixcbmwqZCkrY3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZS8yLDApLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZSozLzQsLShnLzIpKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUsLWcpXSkrbGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLC1mKV0pK2N1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiY1wiLFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUvNCwtKGcvMikpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZS8yLC1nKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKlxuZSwtZyldKX1jb25zdCBiPXRoaXMuTk9UQ0hfV0lEVEgsYz10aGlzLk5PVENIX0hFSUdIVCxkPWIvMyxlPWQvMyxmPWMvMixnPWYvMixoPWEoMSksaz1hKC0xKTtyZXR1cm57dHlwZTp0aGlzLlNIQVBFUy5OT1RDSCx3aWR0aDpiLGhlaWdodDpjLHBhdGhMZWZ0OmgscGF0aFJpZ2h0Omt9fW1ha2VJbnNpZGVDb3JuZXJzKCl7Y29uc3QgYT10aGlzLkNPUk5FUl9SQURJVVMsYj1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMFwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWEsYSkpLGM9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDFcIixhLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1hLGEpKSxkPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLFxuYSkpLGU9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDFcIixhLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEsYSkpO3JldHVybnt3aWR0aDphLGhlaWdodDphLHBhdGhUb3A6YixwYXRoQm90dG9tOmQscmlnaHRXaWR0aDphLHJpZ2h0SGVpZ2h0OmEscGF0aFRvcFJpZ2h0OmMscGF0aEJvdHRvbVJpZ2h0OmV9fWdlbmVyYXRlU2Vjb25kYXJ5Q29sb3VyXyhhKXtyZXR1cm4gYmxlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoXCIjMDAwXCIsYSwuMTUpfHxhfWdlbmVyYXRlVGVydGlhcnlDb2xvdXJfKGEpe3JldHVybiBibGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihcIiMwMDBcIixhLC4yNSl8fGF9Y3JlYXRlRG9tKGEsYixjLGQpe3N1cGVyLmNyZWF0ZURvbShhLGIsYyxkKTthPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkRFRlMsXG57fSxhKTtiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZJTFRFUix7aWQ6XCJibG9ja2x5U2VsZWN0ZWRHbG93RmlsdGVyXCIrdGhpcy5yYW5kb21JZGVudGlmaWVyLGhlaWdodDpcIjE2MCVcIix3aWR0aDpcIjE4MCVcIix5OlwiLTMwJVwiLHg6XCItNDAlXCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFR0FVU1NJQU5CTFVSLHtcImluXCI6XCJTb3VyY2VHcmFwaGljXCIsc3RkRGV2aWF0aW9uOnRoaXMuU0VMRUNURURfR0xPV19TSVpFfSxiKTtjPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFQ09NUE9ORU5UVFJBTlNGRVIse3Jlc3VsdDpcIm91dEJsdXJcIn0sYik7XG5jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUZVTkNBLHt0eXBlOlwidGFibGVcIix0YWJsZVZhbHVlczpcIjAgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMVwifSxjKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUZMT09ELHtcImZsb29kLWNvbG9yXCI6dGhpcy5TRUxFQ1RFRF9HTE9XX0NPTE9VUixcImZsb29kLW9wYWNpdHlcIjoxLHJlc3VsdDpcIm91dENvbG9yXCJ9LGIpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFQ09NUE9TSVRFLHtcImluXCI6XCJvdXRDb2xvclwiLGluMjpcIm91dEJsdXJcIixvcGVyYXRvcjpcImluXCIscmVzdWx0Olwib3V0R2xvd1wifSxiKTtcbnRoaXMuc2VsZWN0ZWRHbG93RmlsdGVySWQ9Yi5pZDt0aGlzLnNlbGVjdGVkR2xvd0ZpbHRlcj1iO2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRklMVEVSLHtpZDpcImJsb2NrbHlSZXBsYWNlbWVudEdsb3dGaWx0ZXJcIit0aGlzLnJhbmRvbUlkZW50aWZpZXIsaGVpZ2h0OlwiMTYwJVwiLHdpZHRoOlwiMTgwJVwiLHk6XCItMzAlXCIseDpcIi00MCVcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVHQVVTU0lBTkJMVVIse1wiaW5cIjpcIlNvdXJjZUdyYXBoaWNcIixzdGREZXZpYXRpb246dGhpcy5SRVBMQUNFTUVOVF9HTE9XX1NJWkV9LGEpO2I9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT05FTlRUUkFOU0ZFUixcbntyZXN1bHQ6XCJvdXRCbHVyXCJ9LGEpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFRlVOQ0Ese3R5cGU6XCJ0YWJsZVwiLHRhYmxlVmFsdWVzOlwiMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxXCJ9LGIpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFRkxPT0Qse1wiZmxvb2QtY29sb3JcIjp0aGlzLlJFUExBQ0VNRU5UX0dMT1dfQ09MT1VSLFwiZmxvb2Qtb3BhY2l0eVwiOjEscmVzdWx0Olwib3V0Q29sb3JcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEUse1wiaW5cIjpcIm91dENvbG9yXCIsaW4yOlwib3V0Qmx1clwiLG9wZXJhdG9yOlwiaW5cIixcbnJlc3VsdDpcIm91dEdsb3dcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEUse1wiaW5cIjpcIlNvdXJjZUdyYXBoaWNcIixpbjI6XCJvdXRHbG93XCIsb3BlcmF0b3I6XCJvdmVyXCJ9LGEpO3RoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVySWQ9YS5pZDt0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcj1hO2QmJihkLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ibG9ja2x5U2VsZWN0ZWRHbG93RmlsdGVyXCIsYHVybCgjJHt0aGlzLnNlbGVjdGVkR2xvd0ZpbHRlcklkfSlgKSxkLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ibG9ja2x5UmVwbGFjZW1lbnRHbG93RmlsdGVyXCIsYHVybCgjJHt0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcklkfSlgKSl9Z2V0Q1NTXyhhKXtyZXR1cm5bYCR7YX0gLmJsb2NrbHlUZXh0LGAsYCR7YX0gLmJsb2NrbHlGbHlvdXRMYWJlbFRleHQge2AsYGZvbnQ6ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFR9ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRTSVpFfWArXG5gcHQgJHt0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWX07YCxcIn1cIixgJHthfSAuYmxvY2tseVRleHRJbnB1dEJ1YmJsZSB0ZXh0YXJlYSB7YCxcImZvbnQtd2VpZ2h0OiBub3JtYWw7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlUZXh0IHtgLFwiZmlsbDogI2ZmZjtcIixcIn1cIixgJHthfSAuYmxvY2tseU5vbkVkaXRhYmxlRmllbGQ+cmVjdDpub3QoLmJsb2NrbHlEcm9wZG93blJlY3QpLGAsYCR7YX0gLmJsb2NrbHlFZGl0YWJsZUZpZWxkPnJlY3Q6bm90KC5ibG9ja2x5RHJvcGRvd25SZWN0KSB7YCxgZmlsbDogJHt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0NPTE9VUn07YCxcIn1cIixgJHthfSAuYmxvY2tseU5vbkVkaXRhYmxlRmllbGQ+dGV4dCxgLGAke2F9IC5ibG9ja2x5RWRpdGFibGVGaWVsZD50ZXh0LGAsYCR7YX0gLmJsb2NrbHlOb25FZGl0YWJsZUZpZWxkPmc+dGV4dCxgLGAke2F9IC5ibG9ja2x5RWRpdGFibGVGaWVsZD5nPnRleHQge2AsXCJmaWxsOiAjNTc1RTc1O1wiLFwifVwiLGAke2F9IC5ibG9ja2x5Rmx5b3V0TGFiZWxUZXh0IHtgLFxuXCJmaWxsOiAjNTc1RTc1O1wiLFwifVwiLGAke2F9IC5ibG9ja2x5VGV4dC5ibG9ja2x5QnViYmxlVGV4dCB7YCxcImZpbGw6ICM1NzVFNzU7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlEcmFnZ2FibGU6bm90KC5ibG9ja2x5RGlzYWJsZWQpYCxcIiAuYmxvY2tseUVkaXRhYmxlRmllbGQ6bm90KC5ibG9ja2x5RWRpdGluZyk6aG92ZXI+cmVjdCxcIixgJHthfSAuYmxvY2tseURyYWdnYWJsZTpub3QoLmJsb2NrbHlEaXNhYmxlZClgLFwiIC5ibG9ja2x5RWRpdGFibGVGaWVsZDpub3QoLmJsb2NrbHlFZGl0aW5nKTpob3Zlcj4uYmxvY2tseVBhdGgge1wiLFwic3Ryb2tlOiAjZmZmO1wiLFwic3Ryb2tlLXdpZHRoOiAyO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5SHRtbElucHV0IHtgLGBmb250LWZhbWlseTogJHt0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWX07YCxgZm9udC13ZWlnaHQ6ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFR9O2AsXCJjb2xvcjogIzU3NUU3NTtcIixcIn1cIixgJHthfSAuYmxvY2tseURyb3Bkb3duVGV4dCB7YCxcblwiZmlsbDogI2ZmZiAhaW1wb3J0YW50O1wiLFwifVwiLGAke2F9LmJsb2NrbHlXaWRnZXREaXYgLmJsb2NrbHlNZW51SXRlbSxgLGAke2F9LmJsb2NrbHlEcm9wRG93bkRpdiAuYmxvY2tseU1lbnVJdGVtIHtgLGBmb250LWZhbWlseTogJHt0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWX07YCxcIn1cIixgJHthfS5ibG9ja2x5RHJvcERvd25EaXYgLmJsb2NrbHlNZW51SXRlbUNvbnRlbnQge2AsXCJjb2xvcjogI2ZmZjtcIixcIn1cIixgJHthfSAuYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGgge2AsYHN0cm9rZTogJHt0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSfTtgLFwifVwiLGAke2F9IC5ibG9ja2x5RGlzYWJsZWRQYXR0ZXJuID4gLmJsb2NrbHlPdXRsaW5lUGF0aCB7YCxcImZpbGw6IHZhcigtLWJsb2NrbHlEaXNhYmxlZFBhdHRlcm4pXCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoIHtgLGBmaWxsLW9wYWNpdHk6ICR7dGhpcy5JTlNFUlRJT05fTUFSS0VSX09QQUNJVFl9O2AsXG5cInN0cm9rZTogbm9uZTtcIixcIn1cIixgJHthfSAuYmxvY2tseVNlbGVjdGVkPi5ibG9ja2x5UGF0aC5ibG9ja2x5UGF0aFNlbGVjdGVkIHtgLFwiZmlsbDogbm9uZTtcIixcImZpbHRlcjogdmFyKC0tYmxvY2tseVNlbGVjdGVkR2xvd0ZpbHRlcik7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlSZXBsYWNlYWJsZT4uYmxvY2tseVBhdGgge2AsXCJmaWx0ZXI6IHZhcigtLWJsb2NrbHlSZXBsYWNlbWVudEdsb3dGaWx0ZXIpO1wiLFwifVwiXX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkY29uc3RhbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkY29uc3RhbnRzLkNvbnN0YW50UHJvdmlkZXI9Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRjb25zdGFudHM7dmFyIERyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRkcmF3ZXI9Y2xhc3MgZXh0ZW5kcyBEcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGRyYXdlcntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYil9ZHJhdygpe2NvbnN0IGE9dGhpcy5ibG9ja18ucGF0aE9iamVjdDthLmJlZ2luRHJhd2luZygpO3RoaXMuZHJhd091dGxpbmVfKCk7dGhpcy5kcmF3SW50ZXJuYWxzXygpO3RoaXMudXBkYXRlQ29ubmVjdGlvbkhpZ2hsaWdodHMoKTthLnNldFBhdGgodGhpcy5vdXRsaW5lUGF0aF8rXCJcXG5cIit0aGlzLmlubGluZVBhdGhfKTt0aGlzLmluZm9fLlJUTCYmYS5mbGlwUlRMKCk7dGhpcy5yZWNvcmRTaXplT25CbG9ja18oKTt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24mJihhLm91dHB1dFNoYXBlVHlwZT10aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uc2hhcGUudHlwZSk7YS5lbmREcmF3aW5nKCl9ZHJhd091dGxpbmVfKCl7dGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uJiZcbnRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5pc0R5bmFtaWNTaGFwZSYmIXRoaXMuaW5mb18uaGFzU3RhdGVtZW50SW5wdXQmJiF0aGlzLmluZm9fLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbj8odGhpcy5kcmF3RmxhdFRvcF8oKSx0aGlzLmRyYXdSaWdodER5bmFtaWNDb25uZWN0aW9uXygpLHRoaXMuZHJhd0ZsYXRCb3R0b21fKCksdGhpcy5kcmF3TGVmdER5bmFtaWNDb25uZWN0aW9uXygpKTpzdXBlci5kcmF3T3V0bGluZV8oKX1kcmF3TGVmdF8oKXt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24mJnRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5pc0R5bmFtaWNTaGFwZT90aGlzLmRyYXdMZWZ0RHluYW1pY0Nvbm5lY3Rpb25fKCk6c3VwZXIuZHJhd0xlZnRfKCl9ZHJhd1JpZ2h0U2lkZVJvd18oYSl7aWYoIShhLmhlaWdodDw9MCkpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGEpKXtjb25zdCBkPVxuYS5wcmVjZWRlc1N0YXRlbWVudDt2YXIgYj1hLmZvbGxvd3NTdGF0ZW1lbnQ7aWYoZHx8Yil7Y29uc3QgZT10aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlM7dmFyIGM9ZS5yaWdodEhlaWdodDtjPWEuaGVpZ2h0LShkP2M6MCk7Yj1iP2UucGF0aEJvdHRvbVJpZ2h0OlwiXCI7YT1jPjA/bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixhLnlQb3MrYyk6XCJcIjt0aGlzLm91dGxpbmVQYXRoXys9YithKyhkP2UucGF0aFRvcFJpZ2h0OlwiXCIpO3JldHVybn19dGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsYS55UG9zK2EuaGVpZ2h0KX19ZHJhd1JpZ2h0RHluYW1pY0Nvbm5lY3Rpb25fKCl7aWYoIXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbil0aHJvdyBFcnJvcihcIkNhbm5vdCBkcmF3IHRoZSBvdXRwdXQgY29ubmVjdGlvbiBvZiBhIGJsb2NrIHRoYXQgZG9lc24ndCBoYXZlIG9uZVwiKTtcbnRoaXMub3V0bGluZVBhdGhfKz10aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uc2hhcGUucGF0aFJpZ2h0RG93bih0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uaGVpZ2h0KX1kcmF3TGVmdER5bmFtaWNDb25uZWN0aW9uXygpe2lmKCF0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJDYW5ub3QgZHJhdyB0aGUgb3V0cHV0IGNvbm5lY3Rpb24gb2YgYSBibG9jayB0aGF0IGRvZXNuJ3QgaGF2ZSBvbmVcIik7dGhpcy5wb3NpdGlvbk91dHB1dENvbm5lY3Rpb25fKCk7dGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5zaGFwZS5wYXRoVXAodGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmhlaWdodCk7dGhpcy5vdXRsaW5lUGF0aF8rPVwielwifWRyYXdGbGF0VG9wXygpe2NvbnN0IGE9dGhpcy5pbmZvXy50b3BSb3c7dGhpcy5wb3NpdGlvblByZXZpb3VzQ29ubmVjdGlvbl8oKTt0aGlzLm91dGxpbmVQYXRoXys9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEueFBvcyxcbnRoaXMuaW5mb18uc3RhcnRZKTt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixhLndpZHRoKX1kcmF3RmxhdEJvdHRvbV8oKXtjb25zdCBhPXRoaXMuaW5mb18uYm90dG9tUm93O3RoaXMucG9zaXRpb25OZXh0Q29ubmVjdGlvbl8oKTt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixhLmJhc2VsaW5lKTt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIiwtYS53aWR0aCl9ZHJhd0lubGluZUlucHV0XyhhKXt0aGlzLnBvc2l0aW9uSW5saW5lSW5wdXRDb25uZWN0aW9uXyhhKTtjb25zdCBiPWEuaW5wdXQubmFtZTthLmNvbm5lY3RlZEJsb2NrfHx0aGlzLmluZm9fLmlzSW5zZXJ0aW9uTWFya2VyfHwoYT1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS54UG9zK1xuYS5jb25uZWN0aW9uV2lkdGgsYS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzIpK3RoaXMuZ2V0SW5saW5lSW5wdXRQYXRoKGEpLHRoaXMuYmxvY2tfLnBhdGhPYmplY3Quc2V0T3V0bGluZVBhdGgoYixhKSl9Z2V0SW5saW5lSW5wdXRQYXRoKGEpe2NvbnN0IGI9YS53aWR0aC1hLmNvbm5lY3Rpb25XaWR0aCoyLGM9YS5oZWlnaHQ7cmV0dXJuIGxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsYikrYS5zaGFwZS5wYXRoUmlnaHREb3duKGMpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsLWIpK2Euc2hhcGUucGF0aFVwKGMpK1wielwifWRyYXdTdGF0ZW1lbnRJbnB1dF8oYSl7dmFyIGI9YS5nZXRMYXN0SW5wdXQoKTtjb25zdCBjPWIueFBvcytiLm5vdGNoT2Zmc2V0K2Iuc2hhcGUud2lkdGgsZD10aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMsZT1iLnNoYXBlLnBhdGhSaWdodCtsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLFxuLShiLm5vdGNoT2Zmc2V0LWQud2lkdGgpKStkLnBhdGhUb3AsZj1hLmhlaWdodC0yKmQuaGVpZ2h0O2I9ZC5wYXRoQm90dG9tK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsYi5ub3RjaE9mZnNldC1kLndpZHRoKSsoYi5jb25uZWN0ZWRCb3R0b21OZXh0Q29ubmVjdGlvbj9cIlwiOmIuc2hhcGUucGF0aExlZnQpO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGMpK2UrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixmKStiK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJIXCIsYS54UG9zK2Eud2lkdGgpO3RoaXMucG9zaXRpb25TdGF0ZW1lbnRJbnB1dENvbm5lY3Rpb25fKGEpfWRyYXdDb25uZWN0aW9uSGlnaGxpZ2h0UGF0aChhKXtjb25zdCBiPWEuY29ubmVjdGlvbk1vZGVsO1xuaWYoYi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlR8fGIudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVHx8Yi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFJiYhYS5pc0R5bmFtaWNTaGFwZSlyZXR1cm4gc3VwZXIuZHJhd0Nvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGEpO2E9Yi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUU/bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEuY29ubmVjdGlvbldpZHRoLC1hLmhlaWdodC8yKSt0aGlzLmdldElubGluZUlucHV0UGF0aChhKTptb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS53aWR0aCxcbi1hLmhlaWdodC8yKSthLnNoYXBlLnBhdGhEb3duKGEuaGVpZ2h0KTtjb25zdCBjPWIuZ2V0U291cmNlQmxvY2soKTtsZXQgZCxlO3JldHVybihlPShkPWMucGF0aE9iamVjdCkuYWRkQ29ubmVjdGlvbkhpZ2hsaWdodCk9PW51bGw/dm9pZCAwOmUuY2FsbChkLGIsYSxiLmdldE9mZnNldEluQmxvY2soKSxjLlJUTCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGRyYXdlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGRyYXdlci5EcmF3ZXI9RHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGRyYXdlcjt2YXIgRmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlPWNsYXNzIGV4dGVuZHMgRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZHtjb25zdHJ1Y3RvcihhLGIsYyxkLGUsZixnKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMuaW1hZ2VFbGVtZW50PXRoaXMuY2xpY2tIYW5kbGVyPW51bGw7dGhpcy5mbGlwUnRsPXRoaXMuaXNEaXJ0eV89dGhpcy5FRElUQUJMRT0hMTt0aGlzLmFsdFRleHQ9XCJcIjtjPU51bWJlcihyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGMpKTtiPU51bWJlcihyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGIpKTtpZihpc05hTihjKXx8aXNOYU4oYikpdGhyb3cgRXJyb3IoXCJIZWlnaHQgYW5kIHdpZHRoIHZhbHVlcyBvZiBhbiBpbWFnZSBmaWVsZCBtdXN0IGNhc3QgdG8gbnVtYmVycy5cIik7XG5pZihjPD0wfHxiPD0wKXRocm93IEVycm9yKFwiSGVpZ2h0IGFuZCB3aWR0aCB2YWx1ZXMgb2YgYW4gaW1hZ2UgZmllbGQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC5cIik7dGhpcy5zaXplXz1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYixjK0ZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZS5ZX1BBRERJTkcpO3RoaXMuaW1hZ2VIZWlnaHQ9Yzt0eXBlb2YgZT09PVwiZnVuY3Rpb25cIiYmKHRoaXMuY2xpY2tIYW5kbGVyPWUpO2EhPT1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVAmJihnP3RoaXMuY29uZmlndXJlXyhnKToodGhpcy5mbGlwUnRsPSEhZix0aGlzLmFsdFRleHQ9cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhkKXx8XCJcIiksdGhpcy5zZXRWYWx1ZShyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEpKSl9Y29uZmlndXJlXyhhKXtzdXBlci5jb25maWd1cmVfKGEpO1xuYS5mbGlwUnRsJiYodGhpcy5mbGlwUnRsPWEuZmxpcFJ0bCk7YS5hbHQmJih0aGlzLmFsdFRleHQ9cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLmFsdCkpfWluaXRWaWV3KCl7dGhpcy5pbWFnZUVsZW1lbnQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use2hlaWdodDp0aGlzLmltYWdlSGVpZ2h0K1wicHhcIix3aWR0aDp0aGlzLnNpemVfLndpZHRoK1wicHhcIixhbHQ6dGhpcy5hbHRUZXh0fSx0aGlzLmZpZWxkR3JvdXBfKTt0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIix0aGlzLnZhbHVlXyk7dGhpcy5maWVsZEdyb3VwXyYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcblwiYmxvY2tseUltYWdlRmllbGRcIik7dGhpcy5jbGlja0hhbmRsZXImJih0aGlzLmltYWdlRWxlbWVudC5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCIpfXVwZGF0ZVNpemVfKCl7fWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtyZXR1cm4gdHlwZW9mIGEhPT1cInN0cmluZ1wiP251bGw6YX1kb1ZhbHVlVXBkYXRlXyhhKXt0aGlzLnZhbHVlXz1hO3RoaXMuaW1hZ2VFbGVtZW50JiZ0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIix0aGlzLnZhbHVlXyl9Z2V0RmxpcFJ0bCgpe3JldHVybiB0aGlzLmZsaXBSdGx9c2V0QWx0KGEpe2EhPT10aGlzLmFsdFRleHQmJih0aGlzLmFsdFRleHQ9YXx8XCJcIix0aGlzLmltYWdlRWxlbWVudCYmdGhpcy5pbWFnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYWx0XCIsdGhpcy5hbHRUZXh0KSl9aXNDbGlja2FibGUoKXtyZXR1cm4gc3VwZXIuaXNDbGlja2FibGUoKSYmISF0aGlzLmNsaWNrSGFuZGxlcn1zaG93RWRpdG9yXygpe3RoaXMuY2xpY2tIYW5kbGVyJiZcbnRoaXMuY2xpY2tIYW5kbGVyKHRoaXMpfXNldE9uQ2xpY2tIYW5kbGVyKGEpe3RoaXMuY2xpY2tIYW5kbGVyPWF9Z2V0VGV4dF8oKXtyZXR1cm4gdGhpcy5hbHRUZXh0fXN0YXRpYyBmcm9tSnNvbihhKXtpZighYS5zcmN8fCFhLndpZHRofHwhYS5oZWlnaHQpdGhyb3cgRXJyb3IoXCJzcmMsIHdpZHRoLCBhbmQgaGVpZ2h0IHZhbHVlcyBmb3IgYW4gaW1hZ2UgZmllbGQgYXJlcmVxdWlyZWQuIFRoZSB3aWR0aCBhbmQgaGVpZ2h0IG11c3QgYmUgbm9uLXplcm8uXCIpO3JldHVybiBuZXcgdGhpcyhhLnNyYyxhLndpZHRoLGEuaGVpZ2h0LHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEpfX07RmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlLllfUEFERElORz0xO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoXCJmaWVsZF9pbWFnZVwiLEZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZSk7XG5GaWVsZEltYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW1hZ2UucHJvdG90eXBlLkRFRkFVTFRfVkFMVUU9XCJcIjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZS5GaWVsZEltYWdlPUZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZTt2YXIgTUlOSU1VTV9XSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0PTE0LEZpZWxkSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dD1jbGFzcyBleHRlbmRzIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGR7c2V0IHNpemVfKGEpe3N1cGVyLnNpemVfPWF9Z2V0IHNpemVfKCl7Y29uc3QgYT1zdXBlci5zaXplXzthLndpZHRoPE1JTklNVU1fV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dCYmKGEud2lkdGg9TUlOSU1VTV9XSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0KTtyZXR1cm4gYX1jb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQKTt0aGlzLnNwZWxsY2hlY2tfPSEwO3RoaXMuaHRtbElucHV0Xz1udWxsO3RoaXMuaXNUZXh0VmFsaWRfPXRoaXMuaXNCZWluZ0VkaXRlZF89ITE7dGhpcy5vbklucHV0V3JhcHBlcj1cbnRoaXMub25LZXlEb3duV3JhcHBlcj10aGlzLnZhbHVlV2hlbkVkaXRvcldhc09wZW5lZF89bnVsbDt0aGlzLmZ1bGxCbG9ja0NsaWNrVGFyZ2V0Xz0hMTt0aGlzLndvcmtzcGFjZV89bnVsbDt0aGlzLlNFUklBTElaQUJMRT0hMDthIT09RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQJiYoYyYmdGhpcy5jb25maWd1cmVfKGMpLHRoaXMuc2V0VmFsdWUoYSksYiYmdGhpcy5zZXRWYWxpZGF0b3IoYikpfWNvbmZpZ3VyZV8oYSl7c3VwZXIuY29uZmlndXJlXyhhKTthLnNwZWxsY2hlY2shPT12b2lkIDAmJih0aGlzLnNwZWxsY2hlY2tfPWEuc3BlbGxjaGVjayl9aW5pdFZpZXcoKXtpZighdGhpcy5nZXRTb3VyY2VCbG9jaygpKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3N1cGVyLmluaXRWaWV3KCk7dGhpcy5pc0Z1bGxCbG9ja0ZpZWxkKCkmJih0aGlzLmNsaWNrVGFyZ2V0Xz10aGlzLnNvdXJjZUJsb2NrXy5nZXRTdmdSb290KCkpO1xudGhpcy5maWVsZEdyb3VwXyYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcImJsb2NrbHlJbnB1dEZpZWxkXCIpfWlzRnVsbEJsb2NrRmllbGQoKXtjb25zdCBhPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtsZXQgYjtyZXR1cm4gdGhpcy5mdWxsQmxvY2tDbGlja1RhcmdldF89ISgoYj10aGlzLmdldENvbnN0YW50cygpKT09bnVsbHx8IWIuRlVMTF9CTE9DS19GSUVMRFMpJiZhLmlzU2ltcGxlUmVwb3J0ZXIoKX1kb1ZhbHVlSW52YWxpZF8oYSxiPSEwKXt0aGlzLmlzQmVpbmdFZGl0ZWRfJiYodGhpcy5pc0RpcnR5Xz0hMCx0aGlzLmlzVGV4dFZhbGlkXz0hMSxhPXRoaXMudmFsdWVfLHRoaXMudmFsdWVfPXRoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXyx0aGlzLnNvdXJjZUJsb2NrXyYmaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJlxudGhpcy52YWx1ZV8hPT1hJiZiJiZmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSkpKHRoaXMuc291cmNlQmxvY2tfLFwiZmllbGRcIix0aGlzLm5hbWV8fG51bGwsYSx0aGlzLnZhbHVlXykpKX1kb1ZhbHVlVXBkYXRlXyhhKXt0aGlzLmlzVGV4dFZhbGlkXz10aGlzLmlzRGlydHlfPSEwO3RoaXMudmFsdWVfPWF9YXBwbHlDb2xvdXIoKXtjb25zdCBhPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDt0aGlzLmdldENvbnN0YW50cygpLkZVTExfQkxPQ0tfRklFTERTJiZ0aGlzLmZpZWxkR3JvdXBfJiYoIXRoaXMuaXNGdWxsQmxvY2tGaWVsZCgpJiZ0aGlzLmJvcmRlclJlY3RfP1xuKHRoaXMuYm9yZGVyUmVjdF8uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixhLmdldENvbG91clRlcnRpYXJ5KCkpKToodGhpcy5ib3JkZXJSZWN0Xy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEucGF0aE9iamVjdC5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX0NPTE9VUikpKX1nZXRTaXplKCl7bGV0IGE7aWYoKGE9dGhpcy5nZXRDb25zdGFudHMoKSk9PW51bGw/MDphLkZVTExfQkxPQ0tfRklFTERTKXRoaXMucmVuZGVyXygpLHRoaXMuaXNEaXJ0eV89ITE7cmV0dXJuIHN1cGVyLmdldFNpemUoKX1vbkxvY2F0aW9uQ2hhbmdlKCl7dGhpcy5pc0JlaW5nRWRpdGVkXyYmdGhpcy5yZXNpemVFZGl0b3JfKCl9cmVuZGVyXygpe3N1cGVyLnJlbmRlcl8oKTtpZih0aGlzLmlzQmVpbmdFZGl0ZWRfKXt2YXIgYT10aGlzLmh0bWxJbnB1dF87dGhpcy5pc1RleHRWYWxpZF8/XG4ocmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlJbnZhbGlkSW5wdXRcIiksc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGEsU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLklOVkFMSUQsITEpKTooYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlJbnZhbGlkSW5wdXRcIiksc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGEsU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLklOVkFMSUQsITApKX1hPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDt0aGlzLmdldENvbnN0YW50cygpLkZVTExfQkxPQ0tfRklFTERTJiZhLmFwcGx5Q29sb3VyKCl9c2V0U3BlbGxjaGVjayhhKXthIT09XG50aGlzLnNwZWxsY2hlY2tfJiYodGhpcy5zcGVsbGNoZWNrXz1hLHRoaXMuaHRtbElucHV0XyYmdGhpcy5odG1sSW5wdXRfLnNldEF0dHJpYnV0ZShcInNwZWxsY2hlY2tcIix0aGlzLnNwZWxsY2hlY2tfKSl9c2hvd0VkaXRvcl8oYSxiPSExLGM9ITApe3RoaXMud29ya3NwYWNlXz10aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2U7IWImJnRoaXMud29ya3NwYWNlXy5vcHRpb25zLm1vZGFsSW5wdXRzJiYoTU9CSUxFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50fHxBTkRST0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50fHxJUEFEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50KT90aGlzLnNob3dQcm9tcHRFZGl0b3IoKTp0aGlzLnNob3dJbmxpbmVFZGl0b3IoYixjKX1zaG93UHJvbXB0RWRpdG9yKCl7cHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNIQU5HRV9WQUxVRV9USVRMRSxcbnRoaXMuZ2V0VGV4dCgpLGE9PnthIT09bnVsbCYmdGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlRnJvbUVkaXRvclRleHRfKGEpKTt0aGlzLm9uRmluaXNoRWRpdGluZ18odGhpcy52YWx1ZV8pfSl9c2hvd0lubGluZUVkaXRvcihhLGIpe2NvbnN0IGM9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFjKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3Nob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYodGhpcyxjLlJUTCx0aGlzLndpZGdldERpc3Bvc2VfLmJpbmQodGhpcyksdGhpcy53b3Jrc3BhY2VfLGIpO3RoaXMuaHRtbElucHV0Xz10aGlzLndpZGdldENyZWF0ZV8oKTt0aGlzLmlzQmVpbmdFZGl0ZWRfPSEwO3RoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXz10aGlzLnZhbHVlXzthfHwodGhpcy5odG1sSW5wdXRfLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiEwfSksdGhpcy5odG1sSW5wdXRfLnNlbGVjdCgpKX13aWRnZXRDcmVhdGVfKCl7dmFyIGE9XG50aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWEpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7Y29uc3QgYj1nZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKTt2YXIgYz10aGlzLmdldENsaWNrVGFyZ2V0XygpO2lmKCFjKXRocm93IEVycm9yKFwiQSBjbGljayB0YXJnZXQgaGFzIG5vdCBiZWVuIHNldC5cIik7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYyxcImJsb2NrbHlFZGl0aW5nXCIpO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2MuY2xhc3NOYW1lPVwiYmxvY2tseUh0bWxJbnB1dFwiO2Muc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLHRoaXMuc3BlbGxjaGVja18pO2NvbnN0IGQ9dGhpcy53b3Jrc3BhY2VfLmdldEFic29sdXRlU2NhbGUoKTt2YXIgZT10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfRk9OVFNJWkUqXG5kK1wicHRcIjtiLnN0eWxlLmZvbnRTaXplPWU7Yy5zdHlsZS5mb250U2l6ZT1lO2U9RmllbGRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0LkJPUkRFUlJBRElVUypkK1wicHhcIjt0aGlzLmlzRnVsbEJsb2NrRmllbGQoKSYmKGU9dGhpcy5nZXRTY2FsZWRCQm94KCksZT0oZS5ib3R0b20tZS50b3ApLzIrXCJweFwiLGE9YS5nZXRQYXJlbnQoKT9hLmdldFBhcmVudCgpLmdldENvbG91clRlcnRpYXJ5KCk6dGhpcy5zb3VyY2VCbG9ja18uZ2V0Q29sb3VyVGVydGlhcnkoKSxjLnN0eWxlLmJvcmRlcj0xKmQrXCJweCBzb2xpZCBcIithLGIuc3R5bGUuYm9yZGVyUmFkaXVzPWUsYi5zdHlsZS50cmFuc2l0aW9uPVwiYm94LXNoYWRvdyAwLjI1cyBlYXNlIDBzXCIsdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUSU5QVVRfQk9YX1NIQURPVyYmKGIuc3R5bGUuYm94U2hhZG93PVwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpIDAgMCAwIFwiKzQqZCtcInB4XCIpKTtjLnN0eWxlLmJvcmRlclJhZGl1cz1cbmU7Yi5hcHBlbmRDaGlsZChjKTtjLnZhbHVlPWMuZGVmYXVsdFZhbHVlPXRoaXMuZ2V0RWRpdG9yVGV4dF8odGhpcy52YWx1ZV8pO2Muc2V0QXR0cmlidXRlKFwiZGF0YS11bnR5cGVkLWRlZmF1bHQtdmFsdWVcIixTdHJpbmcodGhpcy52YWx1ZV8pKTt0aGlzLnJlc2l6ZUVkaXRvcl8oKTt0aGlzLmJpbmRJbnB1dEV2ZW50c18oYyk7cmV0dXJuIGN9d2lkZ2V0RGlzcG9zZV8oKXt0aGlzLmlzQmVpbmdFZGl0ZWRfPSExO3RoaXMuaXNUZXh0VmFsaWRfPSEwO3RoaXMuZm9yY2VSZXJlbmRlcigpO3RoaXMub25GaW5pc2hFZGl0aW5nXyh0aGlzLnZhbHVlXyk7dGhpcy5zb3VyY2VCbG9ja18mJmlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiZ0aGlzLnZhbHVlV2hlbkVkaXRvcldhc09wZW5lZF8hPT1udWxsJiZ0aGlzLnZhbHVlV2hlbkVkaXRvcldhc09wZW5lZF8hPT10aGlzLnZhbHVlXyYmKGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcy5zb3VyY2VCbG9ja18sXG5cImZpZWxkXCIsdGhpcy5uYW1lfHxudWxsLHRoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXyx0aGlzLnZhbHVlXykpLHRoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXz1udWxsKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKTt0aGlzLnVuYmluZElucHV0RXZlbnRzXygpO3ZhciBhPWdldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpLnN0eWxlO2Eud2lkdGg9XCJhdXRvXCI7YS5oZWlnaHQ9XCJhdXRvXCI7YS5mb250U2l6ZT1cIlwiO2EudHJhbnNpdGlvbj1cIlwiO2EuYm94U2hhZG93PVwiXCI7dGhpcy5odG1sSW5wdXRfPW51bGw7YT10aGlzLmdldENsaWNrVGFyZ2V0XygpO2lmKCFhKXRocm93IEVycm9yKFwiQSBjbGljayB0YXJnZXQgaGFzIG5vdCBiZWVuIHNldC5cIik7cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlFZGl0aW5nXCIpfW9uRmluaXNoRWRpdGluZ18oYSl7fWJpbmRJbnB1dEV2ZW50c18oYSl7dGhpcy5vbktleURvd25XcmFwcGVyPVxuY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSxcImtleWRvd25cIix0aGlzLHRoaXMub25IdG1sSW5wdXRLZXlEb3duXyk7dGhpcy5vbklucHV0V3JhcHBlcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLFwiaW5wdXRcIix0aGlzLHRoaXMub25IdG1sSW5wdXRDaGFuZ2UpfXVuYmluZElucHV0RXZlbnRzXygpe3RoaXMub25LZXlEb3duV3JhcHBlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25LZXlEb3duV3JhcHBlciksdGhpcy5vbktleURvd25XcmFwcGVyPW51bGwpO3RoaXMub25JbnB1dFdyYXBwZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uSW5wdXRXcmFwcGVyKSx0aGlzLm9uSW5wdXRXcmFwcGVyPW51bGwpfW9uSHRtbElucHV0S2V5RG93bl8oYSl7aWYoYS5rZXk9PT1cIkVudGVyXCIpaGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYodGhpcyksXG5oaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCk7ZWxzZSBpZihhLmtleT09PVwiRXNjYXBlXCIpdGhpcy5zZXRWYWx1ZSh0aGlzLmh0bWxJbnB1dF8uZ2V0QXR0cmlidXRlKFwiZGF0YS11bnR5cGVkLWRlZmF1bHQtdmFsdWVcIiksITEpLGhpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KHRoaXMpLGhpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKTtlbHNlIGlmKGEua2V5PT09XCJUYWJcIil7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBiLGM9KGI9dGhpcy53b3Jrc3BhY2VfKT09bnVsbD92b2lkIDA6Yi5nZXRDdXJzb3IoKTtiPWQ9PihkIGluc3RhbmNlb2YgRmllbGRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0fHxkIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcmJmQuaXNTaW1wbGVSZXBvcnRlcigpKSYmXG5kIT09dGhpcy5nZXRTb3VyY2VCbG9jaygpO2E9YS5zaGlmdEtleT9jPT1udWxsP3ZvaWQgMDpjLmdldFByZXZpb3VzTm9kZSh0aGlzLGIsITEpOmM9PW51bGw/dm9pZCAwOmMuZ2V0TmV4dE5vZGUodGhpcyxiLCExKTthPWEgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZyYmYS5pc1NpbXBsZVJlcG9ydGVyKCk/YS5nZXRGaWVsZHMoKS5uZXh0KCkudmFsdWU6YTthIGluc3RhbmNlb2YgRmllbGRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0JiYoaGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYodGhpcyksaGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLGM9YS5nZXRTb3VyY2VCbG9jaygpLGEuaXNGdWxsQmxvY2tGaWVsZCgpJiZjJiZjIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc/XG4kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoYyk6JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpLGEuc2hvd0VkaXRvcigpKX19b25IdG1sSW5wdXRDaGFuZ2UoYSl7YT10aGlzLnZhbHVlXzt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWVGcm9tRWRpdG9yVGV4dF8odGhpcy5odG1sSW5wdXRfLnZhbHVlKSwhMSk7dGhpcy5zb3VyY2VCbG9ja18mJmlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiZ0aGlzLnZhbHVlXyE9PWEmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRSkpKHRoaXMuc291cmNlQmxvY2tfLFxudGhpcy5uYW1lfHxudWxsLGEsdGhpcy52YWx1ZV8pKX1zZXRFZGl0b3JWYWx1ZV8oYSxiPSEwKXt0aGlzLmlzRGlydHlfPSEwO3RoaXMuaXNCZWluZ0VkaXRlZF8mJih0aGlzLmh0bWxJbnB1dF8udmFsdWU9dGhpcy5nZXRFZGl0b3JUZXh0XyhhKSk7dGhpcy5zZXRWYWx1ZShhLGIpfXJlc2l6ZUVkaXRvcl8oKXtmaW5pc2hRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKS50aGVuKCgpPT57Y29uc3QgYT10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWEpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7Y29uc3QgYj1nZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKSxjPXRoaXMuZ2V0U2NhbGVkQkJveCgpO2Iuc3R5bGUud2lkdGg9Yy5yaWdodC1jLmxlZnQrXCJweFwiO2Iuc3R5bGUuaGVpZ2h0PWMuYm90dG9tLWMudG9wK1wicHhcIjtjb25zdCBkPWMudG9wO1xuYi5zdHlsZS5sZWZ0PWAke2EuUlRMP2MucmlnaHQtYi5vZmZzZXRXaWR0aDpjLmxlZnR9cHhgO2Iuc3R5bGUudG9wPWAke2R9cHhgfSl9cmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSgpe2xldCBhO2NvbnN0IGI9KGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpKT09bnVsbD92b2lkIDA6YS5nZXRSb290QmxvY2soKTtpZighKGIgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZykpcmV0dXJuITE7YnVtcE9iamVjdEludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHModGhpcy53b3Jrc3BhY2VfLHRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFZpZXdNZXRyaWNzKCEwKSxiKXx8dGhpcy5yZXNpemVFZGl0b3JfKCk7cmV0dXJuITB9cG9zaXRpb25UZXh0RWxlbWVudF8oYSxiKXtjb25zdCBjPWEqMitiO3N1cGVyLnBvc2l0aW9uVGV4dEVsZW1lbnRfKGErKGM8TUlOSU1VTV9XSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0P1xuKE1JTklNVU1fV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dC1jKS8yOjApLGIpfWdldFRleHRfKCl7cmV0dXJuIHRoaXMuaXNCZWluZ0VkaXRlZF8mJnRoaXMuaHRtbElucHV0Xz90aGlzLmh0bWxJbnB1dF8udmFsdWU6bnVsbH1nZXRFZGl0b3JUZXh0XyhhKXtyZXR1cm5gJHthfWB9Z2V0VmFsdWVGcm9tRWRpdG9yVGV4dF8oYSl7cmV0dXJuIGF9fTtGaWVsZElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQuQk9SREVSUkFESVVTPTQ7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQuRmllbGRJbnB1dD1GaWVsZElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQ7JC5GaWVsZFRleHRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dD1jbGFzcyBleHRlbmRzIEZpZWxkSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dHtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSxiLGMpfWluaXRWaWV3KCl7c3VwZXIuaW5pdFZpZXcoKTt0aGlzLmZpZWxkR3JvdXBfJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfLFwiYmxvY2tseVRleHRJbnB1dEZpZWxkXCIpfWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtyZXR1cm4gYT09PXZvaWQgMD9udWxsOmAke2F9YH1zdGF0aWMgZnJvbUpzb24oYSl7cmV0dXJuIG5ldyB0aGlzKHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYS50ZXh0KSx2b2lkIDAsYSl9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoXCJmaWVsZF9pbnB1dFwiLCQuRmllbGRUZXh0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF90ZXh0aW5wdXQpOyQuRmllbGRUZXh0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF90ZXh0aW5wdXQucHJvdG90eXBlLkRFRkFVTFRfVkFMVUU9XCJcIjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdGV4dGlucHV0LkZpZWxkVGV4dElucHV0PSQuRmllbGRUZXh0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF90ZXh0aW5wdXQ7dmFyIEJvdHRvbVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRib3R0b21fcm93PWNsYXNzIGV4dGVuZHMgQm90dG9tUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJvdHRvbV9yb3d7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSl9ZW5kc1dpdGhFbGVtU3BhY2VyKCl7cmV0dXJuITF9aGFzTGVmdFNxdWFyZUNvcm5lcihhKXtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbn1oYXNSaWdodFNxdWFyZUNvcm5lcihhKXtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbiYmIWEuc3RhdGVtZW50SW5wdXRDb3VudCYmIWEubmV4dENvbm5lY3Rpb259fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGJvdHRvbV9yb3c9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRib3R0b21fcm93LkJvdHRvbVJvdz1Cb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdzt2YXIgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkaW5wdXRzPWNsYXNzIGV4dGVuZHMgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0e2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmNvbm5lY3RlZEJvdHRvbU5leHRDb25uZWN0aW9uPSExO2lmKHRoaXMuY29ubmVjdGVkQmxvY2spe2ZvcihhPXRoaXMuY29ubmVjdGVkQmxvY2s7Yj1hLmdldE5leHRCbG9jaygpOylhPWI7YS5uZXh0Q29ubmVjdGlvbnx8KHRoaXMuaGVpZ2h0PXRoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQsdGhpcy5jb25uZWN0ZWRCb3R0b21OZXh0Q29ubmVjdGlvbj0hMCl9fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRpbnB1dHM9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGlucHV0cy5TdGF0ZW1lbnRJbnB1dD1TdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRpbnB1dHM7dmFyIFJpZ2h0Q29ubmVjdGlvblNoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHJvd19lbGVtZW50cz1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLndpZHRoPXRoaXMuaGVpZ2h0PTA7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5nZXRUeXBlKFwiUklHSFRfQ09OTkVDVElPTlwiKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkcm93X2VsZW1lbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkcm93X2VsZW1lbnRzLlJpZ2h0Q29ubmVjdGlvblNoYXBlPVJpZ2h0Q29ubmVjdGlvblNoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHJvd19lbGVtZW50czt2YXIgVG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHRvcF9yb3c9Y2xhc3MgZXh0ZW5kcyBUb3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdG9wX3Jvd3tjb25zdHJ1Y3RvcihhKXtzdXBlcihhKX1lbmRzV2l0aEVsZW1TcGFjZXIoKXtyZXR1cm4hMX1oYXNMZWZ0U3F1YXJlQ29ybmVyKGEpe2NvbnN0IGI9KGEuaGF0P2EuaGF0PT09XCJjYXBcIjp0aGlzLmNvbnN0YW50c18uQUREX1NUQVJUX0hBVFMpJiYhYS5vdXRwdXRDb25uZWN0aW9uJiYhYS5wcmV2aW91c0Nvbm5lY3Rpb247cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb258fGJ9aGFzUmlnaHRTcXVhcmVDb3JuZXIoYSl7cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb24mJiFhLnN0YXRlbWVudElucHV0Q291bnQmJiFhLm5leHRDb25uZWN0aW9ufX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyR0b3Bfcm93PVxue307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyR0b3Bfcm93LlRvcFJvdz1Ub3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkdG9wX3Jvdzt2YXIgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRpbmZvPWNsYXNzIGV4dGVuZHMgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kaW5mb3tjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5pc0lubGluZT0hMDt0aGlzLnJlbmRlcmVyXz1hO3RoaXMuY29uc3RhbnRzXz10aGlzLnJlbmRlcmVyXy5nZXRDb25zdGFudHMoKTt0aGlzLnRvcFJvdz1uZXcgVG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHRvcF9yb3codGhpcy5jb25zdGFudHNfKTt0aGlzLmJvdHRvbVJvdz1uZXcgQm90dG9tUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGJvdHRvbV9yb3codGhpcy5jb25zdGFudHNfKTt0aGlzLmlzTXVsdGlSb3c9IWIuZ2V0SW5wdXRzSW5saW5lKCl8fGIuaXNDb2xsYXBzZWQoKTt0aGlzLmhhc1N0YXRlbWVudElucHV0PVxuYi5zdGF0ZW1lbnRJbnB1dENvdW50PjA7dGhpcy5yaWdodFNpZGU9dGhpcy5vdXRwdXRDb25uZWN0aW9uP25ldyBSaWdodENvbm5lY3Rpb25TaGFwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRyb3dfZWxlbWVudHModGhpcy5jb25zdGFudHNfKTpudWxsO3RoaXMucmlnaHRBbGlnbmVkRHVtbXlJbnB1dHM9bmV3IFdlYWtNYXB9Z2V0UmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJlcl99bWVhc3VyZSgpe3RoaXMuY3JlYXRlUm93c18oKTt0aGlzLmFkZEVsZW1TcGFjaW5nXygpO3RoaXMuYWRkUm93U3BhY2luZ18oKTt0aGlzLmFkanVzdFhQb3NpdGlvbl8oKTt0aGlzLmNvbXB1dGVCb3VuZHNfKCk7dGhpcy5hbGlnblJvd0VsZW1lbnRzXygpO3RoaXMuZmluYWxpemVfKCl9c2hvdWxkU3RhcnROZXdSb3dfKGEsYil7cmV0dXJuIGI/YiBpbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXR8fFxuYSBpbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dHx8YiBpbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dD8hMDphIGluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0fHxhIGluc3RhbmNlb2YgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dHx8YSBpbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQ/IXRoaXMuaXNJbmxpbmV8fHRoaXMuaXNNdWx0aVJvdzohMTohMX1nZXREZXNpcmVkUm93V2lkdGhfKGEpe3JldHVybiBhLmhhc1N0YXRlbWVudD90aGlzLndpZHRoLXRoaXMuc3RhcnRYLSh0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucmlnaHRXaWR0aHx8XG4wKTpzdXBlci5nZXREZXNpcmVkUm93V2lkdGhfKGEpfWdldEluUm93U3BhY2luZ18oYSxiKXtyZXR1cm4gYSYmYnx8IXRoaXMub3V0cHV0Q29ubmVjdGlvbnx8IXRoaXMub3V0cHV0Q29ubmVjdGlvbi5pc0R5bmFtaWNTaGFwZXx8dGhpcy5oYXNTdGF0ZW1lbnRJbnB1dHx8dGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb24/IWEmJmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYik/dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ6YSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihhKSYmYiYmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGIpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc05leHRDb25uZWN0aW9uKGIpKT9cbmIubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM6YSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyKGEpJiZiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChiKXx8YSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmYS53aWR0aD09PTA/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HOnRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HfWdldFNwYWNlclJvd0hlaWdodF8oYSxiKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5FTVBUWV9CTE9DS19TUEFDRVJfSEVJR0hUO1xuY29uc3QgYz1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGEpJiZhLmhhc1N0YXRlbWVudCxkPVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXRSb3coYikmJmIuaGFzU3RhdGVtZW50O3JldHVybiBkfHxjPyhhPU1hdGgubWF4KHRoaXMuY29uc3RhbnRzXy5OT1RDSF9IRUlHSFQsdGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLnJpZ2h0SGVpZ2h0fHwwKSxkJiZjP01hdGgubWF4KGEsdGhpcy5jb25zdGFudHNfLkRVTU1ZX0lOUFVUX01JTl9IRUlHSFQpOmEpOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpP2EuaGFzUHJldmlvdXNDb25uZWN0aW9ufHx0aGlzLm91dHB1dENvbm5lY3Rpb24mJiF0aGlzLmhhc1N0YXRlbWVudElucHV0P3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOlxuTWF0aC5hYnModGhpcy5jb25zdGFudHNfLk5PVENIX0hFSUdIVC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUyk6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5vdXRwdXRDb25uZWN0aW9uPyFiLmhhc05leHRDb25uZWN0aW9uJiZ0aGlzLmhhc1N0YXRlbWVudElucHV0P01hdGguYWJzKHRoaXMuY29uc3RhbnRzXy5OT1RDSF9IRUlHSFQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVMpOnRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOk1hdGgubWF4KHRoaXMudG9wUm93Lm1pbkhlaWdodCxNYXRoLm1heCh0aGlzLmNvbnN0YW50c18uTk9UQ0hfSEVJR0hULHRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTKSktdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM6dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HfWdldFNwYWNlclJvd1dpZHRoXyhhLGIpe2NvbnN0IGM9dGhpcy53aWR0aC1cbnRoaXMuc3RhcnRYO3JldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGEpJiZhLmhhc1N0YXRlbWVudHx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dFJvdyhiKSYmYi5oYXNTdGF0ZW1lbnQ/TWF0aC5tYXgoYyx0aGlzLmNvbnN0YW50c18uU1RBVEVNRU5UX0lOUFVUX1NQQUNFUl9NSU5fV0lEVEgpOmN9Z2V0RWxlbUNlbnRlcmxpbmVfKGEsYil7aWYoYS5oYXNTdGF0ZW1lbnQmJiFUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihiKSYmIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYikpcmV0dXJuIGEueVBvcyt0aGlzLmNvbnN0YW50c18uRU1QVFlfU1RBVEVNRU5UX0lOUFVUX0hFSUdIVC9cbjI7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChiKSl7Y29uc3QgYz1iLmNvbm5lY3RlZEJsb2NrO2lmKGMmJmMub3V0cHV0Q29ubmVjdGlvbiYmYy5uZXh0Q29ubmVjdGlvbilyZXR1cm4gYS55UG9zK2MuaGVpZ2h0LzJ9cmV0dXJuIHN1cGVyLmdldEVsZW1DZW50ZXJsaW5lXyhhLGIpfWFkZElucHV0XyhhLGIpe2lmKChhIGluc3RhbmNlb2YgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dHx8YSBpbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQpJiZiLmhhc0R1bW15SW5wdXQmJmIuYWxpZ249PT0kLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLkxFRlQmJmEuYWxpZ249PT0kLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLlJJR0hUKXRoaXMucmlnaHRBbGlnbmVkRHVtbXlJbnB1dHMuc2V0KGIsXG5hKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQpe2IuZWxlbWVudHMucHVzaChuZXcgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkaW5wdXRzKHRoaXMuY29uc3RhbnRzXyxhKSk7Yi5oYXNTdGF0ZW1lbnQ9ITA7Yi5hbGlnbj09PW51bGwmJihiLmFsaWduPWEuYWxpZ24pO3JldHVybn1zdXBlci5hZGRJbnB1dF8oYSxiKX1hZGRBbGlnbm1lbnRQYWRkaW5nXyhhLGIpe2lmKHRoaXMucmlnaHRBbGlnbmVkRHVtbXlJbnB1dHMuZ2V0KGEpKXtsZXQgYztmb3IobGV0IGQ9MDtkPGEuZWxlbWVudHMubGVuZ3RoO2QrKyl7Y29uc3QgZT1hLmVsZW1lbnRzW2RdO1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGUpJiYoYz1lKTtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGUpJiZcbmUucGFyZW50SW5wdXQ9PT10aGlzLnJpZ2h0QWxpZ25lZER1bW15SW5wdXRzLmdldChhKSlicmVha31pZihjKXtjLndpZHRoKz1iO2Eud2lkdGgrPWI7cmV0dXJufX1zdXBlci5hZGRBbGlnbm1lbnRQYWRkaW5nXyhhLGIpfWFkanVzdFhQb3NpdGlvbl8oKXtjb25zdCBhPXRoaXMuY29uc3RhbnRzXy5OT1RDSF9PRkZTRVRfTEVGVCt0aGlzLmNvbnN0YW50c18uTk9UQ0hfV0lEVEg7bGV0IGI9YTtmb3IobGV0IGU9MjtlPHRoaXMucm93cy5sZW5ndGgtMTtlKz0yKXt2YXIgYz10aGlzLnJvd3NbZS0xXTtjb25zdCBmPXRoaXMucm93c1tlXTt2YXIgZD10aGlzLnJvd3NbZSsxXTtjPWU9PT0yPyEhdGhpcy50b3BSb3cuaGFzUHJldmlvdXNDb25uZWN0aW9uOiEhYy5mb2xsb3dzU3RhdGVtZW50O2Q9ZSsyPj10aGlzLnJvd3MubGVuZ3RoLTE/ISF0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbjohIWQucHJlY2VkZXNTdGF0ZW1lbnQ7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dFJvdyhmKSYmXG5mLmhhc1N0YXRlbWVudCl7Zi5tZWFzdXJlKCk7bGV0IGcsaDtiPWYud2lkdGgtKChoPShnPWYuZ2V0TGFzdElucHV0KCkpPT1udWxsP3ZvaWQgMDpnLndpZHRoKSE9bnVsbD9oOjApK2F9ZWxzZSBpZihjJiYoZT09PTJ8fGQpJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGYpJiYhZi5oYXNTdGF0ZW1lbnQpe2Q9Zi54UG9zO2M9bnVsbDtmb3IobGV0IGc9MDtnPGYuZWxlbWVudHMubGVuZ3RoO2crKyl7Y29uc3QgaD1mLmVsZW1lbnRzW2ddO1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGgpJiYoYz1oKTshKGMmJihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGgpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGgpKSYmXG5kPGIpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGgpJiYoaC5maWVsZCBpbnN0YW5jZW9mIEZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbHx8aC5maWVsZCBpbnN0YW5jZW9mIEZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZSl8fChjLndpZHRoKz1iLWQpO2QrPWgud2lkdGh9fX19ZmluYWxpemVPdXRwdXRDb25uZWN0aW9uXygpe2lmKHRoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5vdXRwdXRDb25uZWN0aW9uLmlzRHluYW1pY1NoYXBlKXt2YXIgYT10aGlzLm91dHB1dENvbm5lY3Rpb24uc2hhcGU7aWYoXCJpc0R5bmFtaWNcImluIGEmJmEuaXNEeW5hbWljKXt2YXIgYj0wO2Zvcih2YXIgYz0wO2M8dGhpcy5yb3dzLmxlbmd0aDtjKyspe2NvbnN0IGQ9dGhpcy5yb3dzW2NdO2QueVBvcz1iO2IrPWQuaGVpZ2h0fXRoaXMuaGVpZ2h0PWI7Yz10aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbj9cbnRoaXMuaGVpZ2h0LXRoaXMuYm90dG9tUm93LmRlc2NlbmRlckhlaWdodDp0aGlzLmhlaWdodDtiPWEuaGVpZ2h0KGMpO2M9YS53aWR0aChjKTt0aGlzLm91dHB1dENvbm5lY3Rpb24uaGVpZ2h0PWI7dGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoPWM7dGhpcy5vdXRwdXRDb25uZWN0aW9uLnN0YXJ0WD1jO3RoaXMub3V0cHV0Q29ubmVjdGlvbi5jb25uZWN0aW9uT2Zmc2V0WT1hLmNvbm5lY3Rpb25PZmZzZXRZKGIpO3RoaXMub3V0cHV0Q29ubmVjdGlvbi5jb25uZWN0aW9uT2Zmc2V0WD1hLmNvbm5lY3Rpb25PZmZzZXRYKGMpO2E9MDt0aGlzLmhhc1N0YXRlbWVudElucHV0fHx0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbnx8KGE9Yyx0aGlzLnJpZ2h0U2lkZS5oZWlnaHQ9Yix0aGlzLnJpZ2h0U2lkZS53aWR0aD1hLHRoaXMucmlnaHRTaWRlLmNlbnRlcmxpbmU9Yi8yLHRoaXMucmlnaHRTaWRlLnhQb3M9dGhpcy53aWR0aCthKTt0aGlzLnN0YXJ0WD1jO3RoaXMud2lkdGgrPVxuYythO3RoaXMud2lkdGhXaXRoQ2hpbGRyZW4rPWMrYX19fWZpbmFsaXplSG9yaXpvbnRhbEFsaWdubWVudF8oKXtpZih0aGlzLm91dHB1dENvbm5lY3Rpb24mJiF0aGlzLmhhc1N0YXRlbWVudElucHV0JiYhdGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb24pe3ZhciBhPTA7Zm9yKHZhciBiPTA7Yjx0aGlzLnJvd3MubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5yb3dzW2JdO2lmKCFUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGMpKWNvbnRpbnVlO2E9Yy5lbGVtZW50c1tjLmVsZW1lbnRzLmxlbmd0aC0yXTtsZXQgZD10aGlzLmdldE5lZ2F0aXZlU3BhY2luZ18oYy5lbGVtZW50c1sxXSksZT10aGlzLmdldE5lZ2F0aXZlU3BhY2luZ18oYSk7YT1kK2U7Y29uc3QgZj10aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX1dJRFRIK3RoaXMub3V0cHV0Q29ubmVjdGlvbi53aWR0aCoyO3RoaXMud2lkdGgtYTxmJiYoYT1cbnRoaXMud2lkdGgtZixkPWEvMixlPWEvMik7Yy5lbGVtZW50cy51bnNoaWZ0KG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXywtZCkpO2MuZWxlbWVudHMucHVzaChuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sLWUpKX1pZihhKWZvcih0aGlzLndpZHRoLT1hLHRoaXMud2lkdGhXaXRoQ2hpbGRyZW4tPWEsdGhpcy5yaWdodFNpZGUueFBvcy09YSxiPTA7Yjx0aGlzLnJvd3MubGVuZ3RoO2IrKyljPXRoaXMucm93c1tiXSxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcE9yQm90dG9tUm93KGMpJiYoYy5lbGVtZW50c1sxXS53aWR0aC09YSksYy53aWR0aC09YSxjLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcy09XG5hfX1nZXROZWdhdGl2ZVNwYWNpbmdfKGEpe2lmKCFhfHwhdGhpcy5vdXRwdXRDb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGI9dGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoO3ZhciBjPXRoaXMub3V0cHV0Q29ubmVjdGlvbi5zaGFwZS50eXBlO2NvbnN0IGQ9dGhpcy5jb25zdGFudHNfO2lmKHRoaXMuaW5wdXRSb3dzLmxlbmd0aD4xKXN3aXRjaChjKXtjYXNlIGQuU0hBUEVTLlJPVU5EOnJldHVybiBjPXRoaXMuY29uc3RhbnRzXy5NQVhfRFlOQU1JQ19DT05ORUNUSU9OX1NIQVBFX1dJRFRILGM9dGhpcy5oZWlnaHQvMj5jP2M6dGhpcy5oZWlnaHQvMixiLWMqKDEtTWF0aC5zaW4oTWF0aC5hY29zKChjLXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HKS9jKSkpO2RlZmF1bHQ6cmV0dXJuIDB9aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChhKSl7Y29uc3QgZT1hLmNvbm5lY3RlZEJsb2NrO2E9XG5lP2UucGF0aE9iamVjdC5vdXRwdXRTaGFwZVR5cGU6YS5zaGFwZS50eXBlO3JldHVybiBhPT1udWxsfHxlJiZlLm91dHB1dENvbm5lY3Rpb24mJihlLnN0YXRlbWVudElucHV0Q291bnR8fGUubmV4dENvbm5lY3Rpb24pfHxjPT09ZC5TSEFQRVMuSEVYQUdPTkFMJiZjIT09YT8wOmItdGhpcy5jb25zdGFudHNfLlNIQVBFX0lOX1NIQVBFX1BBRERJTkdbY11bYV19cmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYSk/Yz09PWQuU0hBUEVTLlJPVU5EJiZhLmZpZWxkIGluc3RhbmNlb2YgJC5GaWVsZFRleHRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dD9iLTIuNzUqZC5HUklEX1VOSVQ6Yi10aGlzLmNvbnN0YW50c18uU0hBUEVfSU5fU0hBUEVfUEFERElOR1tjXVswXTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYSk/XG50aGlzLmNvbnN0YW50c18uU01BTExfUEFERElORzowfWZpbmFsaXplVmVydGljYWxBbGlnbm1lbnRfKCl7aWYoIXRoaXMub3V0cHV0Q29ubmVjdGlvbilmb3IobGV0IGQ9MjtkPHRoaXMucm93cy5sZW5ndGgtMTtkKz0yKXtjb25zdCBlPXRoaXMucm93c1tkLTFdLGY9dGhpcy5yb3dzW2RdLGc9dGhpcy5yb3dzW2QrMV07dmFyIGE9ZD09PTIsYj1kKzI+PXRoaXMucm93cy5sZW5ndGgtMT8hIXRoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uOiEhZy5wcmVjZWRlc1N0YXRlbWVudDtpZihhP3RoaXMudG9wUm93Lmhhc1ByZXZpb3VzQ29ubmVjdGlvbjplLmZvbGxvd3NTdGF0ZW1lbnQpe3ZhciBjPWYuZWxlbWVudHNbMV07Yz1mLmVsZW1lbnRzLmxlbmd0aD09PTMmJmMgaW5zdGFuY2VvZiBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRmaWVsZCYmKGMuZmllbGQgaW5zdGFuY2VvZiBGaWVsZExhYmVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWx8fFxuYy5maWVsZCBpbnN0YW5jZW9mIEZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZSk7aWYoIWEmJmMpZS5oZWlnaHQtPXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HLGcuaGVpZ2h0LT10aGlzLmNvbnN0YW50c18uU01BTExfUEFERElORyxmLmhlaWdodC09dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HO2Vsc2UgaWYoIWEmJiFiKWUuaGVpZ2h0Kz10aGlzLmNvbnN0YW50c18uU01BTExfUEFERElORztlbHNlIGlmKGIpe2E9ITE7Zm9yKGI9MDtiPGYuZWxlbWVudHMubGVuZ3RoO2IrKylpZihjPWYuZWxlbWVudHNbYl0sVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChjKSYmYy5jb25uZWN0ZWRCbG9jayYmIWMuY29ubmVjdGVkQmxvY2suaXNTaGFkb3coKSYmYy5jb25uZWN0ZWRCbG9jay5nZXRIZWlnaHRXaWR0aCgpLmhlaWdodD49NDApe2E9ITA7YnJlYWt9YSYmXG4oZS5oZWlnaHQtPXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HLGcuaGVpZ2h0LT10aGlzLmNvbnN0YW50c18uU01BTExfUEFERElORyl9fX19ZmluYWxpemVfKCl7dGhpcy5maW5hbGl6ZU91dHB1dENvbm5lY3Rpb25fKCk7dGhpcy5maW5hbGl6ZUhvcml6b250YWxBbGlnbm1lbnRfKCk7dGhpcy5maW5hbGl6ZVZlcnRpY2FsQWxpZ25tZW50XygpO3N1cGVyLmZpbmFsaXplXygpO3RoaXMucmlnaHRTaWRlJiYodGhpcy53aWR0aFdpdGhDaGlsZHJlbis9dGhpcy5yaWdodFNpZGUud2lkdGgpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRpbmZvPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkaW5mby5SZW5kZXJJbmZvPVJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkaW5mbzt2YXIgUGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRwYXRoX29iamVjdD1jbGFzcyBleHRlbmRzIFBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0e2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhLGIsYyk7dGhpcy5zdmdQYXRoU2VsZWN0ZWQ9bnVsbDt0aGlzLm91dGxpbmVzPW5ldyBNYXA7dGhpcy5yZW1haW5pbmdPdXRsaW5lcz1uZXcgU2V0O3RoaXMub3V0cHV0U2hhcGVUeXBlPW51bGw7dGhpcy5jb25zdGFudHM9Y31zZXRQYXRoKGEpe3N1cGVyLnNldFBhdGgoYSk7dGhpcy5zdmdQYXRoU2VsZWN0ZWQmJnRoaXMuc3ZnUGF0aFNlbGVjdGVkLnNldEF0dHJpYnV0ZShcImRcIixhKX1hcHBseUNvbG91cihhKXtzdXBlci5hcHBseUNvbG91cihhKTtjb25zdCBiPWEuZ2V0UGFyZW50KCk7YS5pc1NoYWRvdygpJiZiJiZ0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsYi5nZXRDb2xvdXJUZXJ0aWFyeSgpKTtcbmZvcihjb25zdCBjIG9mIHRoaXMub3V0bGluZXMudmFsdWVzKCkpYy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeSl9ZmxpcFJUTCgpe3N1cGVyLmZsaXBSVEwoKTtmb3IoY29uc3QgYSBvZiB0aGlzLm91dGxpbmVzLnZhbHVlcygpKWEuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJzY2FsZSgtMSAxKVwiKX11cGRhdGVTZWxlY3RlZChhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlTZWxlY3RlZFwiLGEpO2E/dGhpcy5zdmdQYXRoU2VsZWN0ZWR8fCh0aGlzLnN2Z1BhdGhTZWxlY3RlZD10aGlzLnN2Z1BhdGguY2xvbmVOb2RlKCEwKSx0aGlzLnN2Z1BhdGhTZWxlY3RlZC5jbGFzc0xpc3QuYWRkKFwiYmxvY2tseVBhdGhTZWxlY3RlZFwiKSxyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1BhdGhTZWxlY3RlZCxGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLkFDVElWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKSxcbnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUGF0aFNlbGVjdGVkLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuUEFTU0lWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKSx0aGlzLnN2Z1BhdGhTZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSx0aGlzLnN2Z1BhdGhTZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKSx0aGlzLnN2Z1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5zdmdQYXRoU2VsZWN0ZWQpKTp0aGlzLnN2Z1BhdGhTZWxlY3RlZCYmKHRoaXMuc3ZnUm9vdC5yZW1vdmVDaGlsZCh0aGlzLnN2Z1BhdGhTZWxlY3RlZCksdGhpcy5zdmdQYXRoU2VsZWN0ZWQ9bnVsbCl9dXBkYXRlUmVwbGFjZW1lbnRGYWRlKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVJlcGxhY2VhYmxlXCIsYSl9dXBkYXRlU2hhcGVGb3JJbnB1dEhpZ2hsaWdodChhLGIpe2E9YS5nZXRQYXJlbnRJbnB1dCgpLm5hbWU7XG4oYT10aGlzLmdldE91dGxpbmVQYXRoKGEpKSYmKGI/YS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybCgjXCIrdGhpcy5jb25zdGFudHMucmVwbGFjZW1lbnRHbG93RmlsdGVySWQrXCIpXCIpOmEucmVtb3ZlQXR0cmlidXRlKFwiZmlsdGVyXCIpKX1iZWdpbkRyYXdpbmcoKXt0aGlzLnJlbWFpbmluZ091dGxpbmVzLmNsZWFyKCk7Zm9yKGNvbnN0IGEgb2YgdGhpcy5vdXRsaW5lcy5rZXlzKCkpdGhpcy5yZW1haW5pbmdPdXRsaW5lcy5hZGQoYSl9ZW5kRHJhd2luZygpe2lmKHRoaXMucmVtYWluaW5nT3V0bGluZXMuc2l6ZSlmb3IoY29uc3QgYSBvZiB0aGlzLnJlbWFpbmluZ091dGxpbmVzKXRoaXMucmVtb3ZlT3V0bGluZVBhdGgoYSk7dGhpcy5yZW1haW5pbmdPdXRsaW5lcy5jbGVhcigpfXNldE91dGxpbmVQYXRoKGEsYil7YT10aGlzLmdldE91dGxpbmVQYXRoKGEpO2Euc2V0QXR0cmlidXRlKFwiZFwiLGIpO2Euc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuc3R5bGUuY29sb3VyVGVydGlhcnkpfWdldE91dGxpbmVQYXRoKGEpe3RoaXMub3V0bGluZXMuaGFzKGEpfHxcbnRoaXMub3V0bGluZXMuc2V0KGEsY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCx7XCJjbGFzc1wiOlwiYmxvY2tseU91dGxpbmVQYXRoXCIsZDpcIlwifSx0aGlzLnN2Z1Jvb3QpKTt0aGlzLnJlbWFpbmluZ091dGxpbmVzLmRlbGV0ZShhKTtyZXR1cm4gdGhpcy5vdXRsaW5lcy5nZXQoYSl9cmVtb3ZlT3V0bGluZVBhdGgoYSl7bGV0IGIsYzsoYj10aGlzLm91dGxpbmVzLmdldChhKSk9PW51bGx8fChjPWIucGFyZW50Tm9kZSk9PW51bGx8fGMucmVtb3ZlQ2hpbGQodGhpcy5vdXRsaW5lcy5nZXQoYSkpO3RoaXMub3V0bGluZXMuZGVsZXRlKGEpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRwYXRoX29iamVjdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHBhdGhfb2JqZWN0LlBhdGhPYmplY3Q9UGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRwYXRoX29iamVjdDt2YXIgUmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkcmVuZGVyZXI9Y2xhc3MgZXh0ZW5kcyBSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcmVuZGVyZXJ7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSl9bWFrZUNvbnN0YW50c18oKXtyZXR1cm4gbmV3IENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkY29uc3RhbnRzfW1ha2VSZW5kZXJJbmZvXyhhKXtyZXR1cm4gbmV3IFJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkaW5mbyh0aGlzLGEpfW1ha2VEcmF3ZXJfKGEsYil7cmV0dXJuIG5ldyBEcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkZHJhd2VyKGEsYil9bWFrZVBhdGhPYmplY3QoYSxiKXtyZXR1cm4gbmV3IFBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkcGF0aF9vYmplY3QoYSxcbmIsdGhpcy5nZXRDb25zdGFudHMoKSl9Z2V0Q29uc3RhbnRzKCl7cmV0dXJuIHRoaXMuY29uc3RhbnRzX319O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcoXCJ6ZWxvc1wiLFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHJlbmRlcmVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRyZW5kZXJlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHJlbmRlcmVyLlJlbmRlcmVyPVJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHJlbmRlcmVyO3ZhciBJbnNlcnRpb25NYXJrZXJQcmV2aWV3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnNlcnRpb25fbWFya2VyX3ByZXZpZXdlcj1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLnN0YXRpY0Nvbm49dGhpcy5kcmFnZ2VkQ29ubj10aGlzLm1hcmtlckNvbm49dGhpcy5mYWRlZEJsb2NrPW51bGw7dGhpcy53b3Jrc3BhY2U9YS53b3Jrc3BhY2V9cHJldmlld1JlcGxhY2VtZW50KGEsYixjKXskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7dGhpcy5oaWRlUHJldmlldygpLHRoaXMuZmFkZWRCbG9jaz1jLGMuZmFkZUZvclJlcGxhY2VtZW50KCEwKSx0aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLnNob3VsZEhpZ2hsaWdodENvbm5lY3Rpb24oYikmJihiLmhpZ2hsaWdodCgpLHRoaXMuc3RhdGljQ29ubj1iKX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9fXByZXZpZXdDb25uZWN0aW9uKGEsXG5iKXtpZihhIT09dGhpcy5kcmFnZ2VkQ29ubnx8YiE9PXRoaXMuc3RhdGljQ29ubil7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dHJ5e3RoaXMuaGlkZVByZXZpZXcoKSx0aGlzLnNob3VsZFVzZU1hcmtlclByZXZpZXcoYSxiKSYmKHRoaXMubWFya2VyQ29ubj10aGlzLnByZXZpZXdNYXJrZXIoYSxiKSksdGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5zaG91bGRIaWdobGlnaHRDb25uZWN0aW9uKGIpJiZiLmhpZ2hsaWdodCgpLHRoaXMuZHJhZ2dlZENvbm49YSx0aGlzLnN0YXRpY0Nvbm49Yn1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9fX1zaG91bGRVc2VNYXJrZXJQcmV2aWV3KGEsYil7cmV0dXJuIGIudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVHx8Yi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlR8fFxuISh0aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpaW5zdGFuY2VvZiBSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRyZW5kZXJlcil9cHJldmlld01hcmtlcihhLGIpe2NvbnN0IGM9YS5nZXRTb3VyY2VCbG9jaygpLGQ9dGhpcy5jcmVhdGVJbnNlcnRpb25NYXJrZXIoYyksZT10aGlzLmdldE1hdGNoaW5nQ29ubmVjdGlvbihjLGQsYSk7aWYoIWUpcmV0dXJuIG51bGw7ZC5xdWV1ZVJlbmRlcigpO3RyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKTtlLmNvbm5lY3QoYik7Y29uc3QgZj17eDpiLngtZS54LHk6Yi55LWUueX0sZz1lLmdldE9mZnNldEluQmxvY2soKS5jbG9uZSgpO2ZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpLnRoZW4oKCk9PntpZighZC5pc0RlYWRPckR5aW5nKCkpeyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO1xudHJ5e2Q9PW51bGx8fGQucG9zaXRpb25OZWFyQ29ubmVjdGlvbihlLGYsZyksZD09bnVsbHx8ZC5nZXRTdmdSb290KCkuc2V0QXR0cmlidXRlKFwidmlzaWJpbGl0eVwiLFwidmlzaWJsZVwiKX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9fX0pO3JldHVybiBlfXNlcmlhbGl6ZUJsb2NrVG9JbnNlcnRpb25NYXJrZXIoYSl7Y29uc3QgYj1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSx7YWRkQ29vcmRpbmF0ZXM6ITEsYWRkSW5wdXRCbG9ja3M6ITEsYWRkTmV4dEJsb2NrczohMSxkb0Z1bGxTZXJpYWxpemF0aW9uOiExfSk7aWYoIWIpdGhyb3cgRXJyb3IoYEZhaWxlZCB0byBzZXJpYWxpemUgc291cmNlIGJsb2NrLiAke2EudG9EZXZTdHJpbmcoKX1gKTtyZXR1cm4gYn1jcmVhdGVJbnNlcnRpb25NYXJrZXIoYSl7YT10aGlzLnNlcmlhbGl6ZUJsb2NrVG9JbnNlcnRpb25NYXJrZXIoYSk7YT1hcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLFxudGhpcy53b3Jrc3BhY2UpO2Zvcihjb25zdCBiIG9mIGEuZ2V0RGVzY2VuZGFudHMoITEpKWIuc2V0SW5zZXJ0aW9uTWFya2VyKCEwKTthLmluaXRTdmcoKTthLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIik7cmV0dXJuIGF9Z2V0TWF0Y2hpbmdDb25uZWN0aW9uKGEsYixjKXthPWEuZ2V0Q29ubmVjdGlvbnNfKCEwKTtiPWIuZ2V0Q29ubmVjdGlvbnNfKCEwKTtpZihhLmxlbmd0aCE9PWIubGVuZ3RoKXJldHVybiBudWxsO2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF09PT1jKXJldHVybiBiW2RdO3JldHVybiBudWxsfWhpZGVQcmV2aWV3KCl7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dHJ5e3RoaXMuc3RhdGljQ29ubiYmKHRoaXMuc3RhdGljQ29ubi51bmhpZ2hsaWdodCgpLHRoaXMuc3RhdGljQ29ubj1udWxsKSx0aGlzLmZhZGVkQmxvY2smJih0aGlzLmZhZGVkQmxvY2suZmFkZUZvclJlcGxhY2VtZW50KCExKSxcbnRoaXMuZmFkZWRCbG9jaz1udWxsKSx0aGlzLm1hcmtlckNvbm4mJih0aGlzLmhpZGVJbnNlcnRpb25NYXJrZXIodGhpcy5tYXJrZXJDb25uKSx0aGlzLmRyYWdnZWRDb25uPXRoaXMubWFya2VyQ29ubj1udWxsKX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9fWhpZGVJbnNlcnRpb25NYXJrZXIoYSl7Y29uc3QgYj1hLmdldFNvdXJjZUJsb2NrKCksYz1iLm91dHB1dENvbm5lY3Rpb247bGV0IGQ7aWYoKChkPWIucHJldmlvdXNDb25uZWN0aW9uKT09bnVsbD8wOmQudGFyZ2V0Q29ubmVjdGlvbil8fChjPT1udWxsPzA6Yy50YXJnZXRDb25uZWN0aW9uKSliLnVucGx1ZyghMCk7ZWxzZXtsZXQgZTsoZT1hLnRhcmdldEJsb2NrKCkpPT1udWxsfHxlLnVucGx1ZyghMSl9Yi5kaXNwb3NlKCl9ZGlzcG9zZSgpe3RoaXMuaGlkZVByZXZpZXcoKX19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQ09OTkVDVElPTl9QUkVWSUVXRVIsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LEluc2VydGlvbk1hcmtlclByZXZpZXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluc2VydGlvbl9tYXJrZXJfcHJldmlld2VyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluc2VydGlvbl9tYXJrZXJfcHJldmlld2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnNlcnRpb25fbWFya2VyX3ByZXZpZXdlci5JbnNlcnRpb25NYXJrZXJQcmV2aWV3ZXI9SW5zZXJ0aW9uTWFya2VyUHJldmlld2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5zZXJ0aW9uX21hcmtlcl9wcmV2aWV3ZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cy5BbGlnbj0kLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduO21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMuRHVtbXlJbnB1dD1EdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMuRW5kUm93SW5wdXQ9RW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzLklucHV0PUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMuU3RhdGVtZW50SW5wdXQ9U3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cy5WYWx1ZUlucHV0PSQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzLmlucHV0VHlwZXM9JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzO3ZhciBkb2N1bWVudEV2ZW50c0JvdW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0PSExLG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdC5pbmplY3Q9aW5qZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yO1xuJC5Db2RlR2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuZm9yQmxvY2s9T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfPVwie2xlQ1VJOGh1dEhaSTQ0ODBEY31cIjt0aGlzLlNUQVRFTUVOVF9TVUZGSVg9dGhpcy5TVEFURU1FTlRfUFJFRklYPXRoaXMuSU5GSU5JVEVfTE9PUF9UUkFQPW51bGw7dGhpcy5JTkRFTlQ9XCIgIFwiO3RoaXMuQ09NTUVOVF9XUkFQPTYwO3RoaXMuT1JERVJfT1ZFUlJJREVTPVtdO3RoaXMuaXNJbml0aWFsaXplZD1udWxsO3RoaXMuUkVTRVJWRURfV09SRFNfPVwiXCI7dGhpcy5kZWZpbml0aW9uc189T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmZ1bmN0aW9uTmFtZXNfPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5uYW1lREJfPXZvaWQgMDt0aGlzLm5hbWVfPWE7dGhpcy5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX1JFR0VYUF89bmV3IFJlZ0V4cCh0aGlzLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfLFxuXCJnXCIpfXdvcmtzcGFjZVRvQ29kZShhKXthfHwoY29uc29sZS53YXJuKFwiTm8gd29ya3NwYWNlIHNwZWNpZmllZCBpbiB3b3Jrc3BhY2VUb0NvZGUgY2FsbC4gIEd1ZXNzaW5nLlwiKSxhPWdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKSk7dmFyIGI9W107dGhpcy5pbml0KGEpO2E9YS5nZXRUb3BCbG9ja3MoITApO2ZvcihsZXQgYz0wLGQ7ZD1hW2NdO2MrKyl7bGV0IGU9dGhpcy5ibG9ja1RvQ29kZShkKTtBcnJheS5pc0FycmF5KGUpJiYoZT1lWzBdKTtlJiYoZC5vdXRwdXRDb25uZWN0aW9uJiYoZT10aGlzLnNjcnViTmFrZWRWYWx1ZShlKSx0aGlzLlNUQVRFTUVOVF9QUkVGSVgmJiFkLnN1cHByZXNzUHJlZml4U3VmZml4JiYoZT10aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1BSRUZJWCxkKStlKSx0aGlzLlNUQVRFTUVOVF9TVUZGSVgmJiFkLnN1cHByZXNzUHJlZml4U3VmZml4JiYoZSs9dGhpcy5pbmplY3RJZCh0aGlzLlNUQVRFTUVOVF9TVUZGSVgsXG5kKSkpLGIucHVzaChlKSl9Yj1iLmpvaW4oXCJcXG5cIik7Yj10aGlzLmZpbmlzaChiKTtiPWIucmVwbGFjZSgvXlxccytcXG4vLFwiXCIpO2I9Yi5yZXBsYWNlKC9cXG5cXHMrJC8sXCJcXG5cIik7cmV0dXJuIGI9Yi5yZXBsYWNlKC9bIFxcdF0rXFxuL2csXCJcXG5cIil9cHJlZml4TGluZXMoYSxiKXtyZXR1cm4gYithLnJlcGxhY2UoLyg/IVxcbiQpXFxuL2csXCJcXG5cIitiKX1hbGxOZXN0ZWRDb21tZW50cyhhKXtjb25zdCBiPVtdO2E9YS5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspe2NvbnN0IGQ9YVtjXS5nZXRDb21tZW50VGV4dCgpO2QmJmIucHVzaChkKX1iLmxlbmd0aCYmYi5wdXNoKFwiXCIpO3JldHVybiBiLmpvaW4oXCJcXG5cIil9YmxvY2tUb0NvZGUoYSxiKXt0aGlzLmlzSW5pdGlhbGl6ZWQ9PT0hMSYmY29uc29sZS53YXJuKFwiQ29kZUdlbmVyYXRvciBpbml0IHdhcyBub3QgY2FsbGVkIGJlZm9yZSBibG9ja1RvQ29kZSB3YXMgY2FsbGVkLlwiKTtpZighYSlyZXR1cm5cIlwiO2lmKCFhLmlzRW5hYmxlZCgpKXJldHVybiBiP1xuXCJcIjp0aGlzLmJsb2NrVG9Db2RlKGEuZ2V0TmV4dEJsb2NrKCkpO2lmKGEuaXNJbnNlcnRpb25NYXJrZXIoKSlyZXR1cm4gYj9cIlwiOnRoaXMuYmxvY2tUb0NvZGUoYS5nZXRDaGlsZHJlbighMSlbMF0pO3ZhciBjPXRoaXMuZm9yQmxvY2tbYS50eXBlXTtpZih0eXBlb2YgYyE9PVwiZnVuY3Rpb25cIil0aHJvdyBFcnJvcihgJHt0aGlzLm5hbWVffSBnZW5lcmF0b3IgZG9lcyBub3Qga25vdyBob3cgdG8gZ2VuZXJhdGUgY29kZSBgK2Bmb3IgYmxvY2sgdHlwZSBcIiR7YS50eXBlfVwiLmApO2M9Yy5jYWxsKGEsYSx0aGlzKTtpZihBcnJheS5pc0FycmF5KGMpKXtpZighYS5vdXRwdXRDb25uZWN0aW9uKXRocm93IFR5cGVFcnJvcihcIkV4cGVjdGluZyBzdHJpbmcgZnJvbSBzdGF0ZW1lbnQgYmxvY2s6IFwiK2EudHlwZSk7cmV0dXJuW3RoaXMuc2NydWJfKGEsY1swXSxiKSxjWzFdXX1pZih0eXBlb2YgYz09PVwic3RyaW5nXCIpcmV0dXJuIHRoaXMuU1RBVEVNRU5UX1BSRUZJWCYmIWEuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJlxuKGM9dGhpcy5pbmplY3RJZCh0aGlzLlNUQVRFTUVOVF9QUkVGSVgsYSkrYyksdGhpcy5TVEFURU1FTlRfU1VGRklYJiYhYS5zdXBwcmVzc1ByZWZpeFN1ZmZpeCYmKGMrPXRoaXMuaW5qZWN0SWQodGhpcy5TVEFURU1FTlRfU1VGRklYLGEpKSx0aGlzLnNjcnViXyhhLGMsYik7aWYoYz09PW51bGwpcmV0dXJuXCJcIjt0aHJvdyBTeW50YXhFcnJvcihcIkludmFsaWQgY29kZSBnZW5lcmF0ZWQ6IFwiK2MpO312YWx1ZVRvQ29kZShhLGIsYyl7aWYoaXNOYU4oYykpdGhyb3cgVHlwZUVycm9yKFwiRXhwZWN0aW5nIHZhbGlkIG9yZGVyIGZyb20gYmxvY2s6IFwiK2EudHlwZSk7dmFyIGQ9YS5nZXRJbnB1dFRhcmdldEJsb2NrKGIpO2lmKCFkJiYhYS5nZXRJbnB1dChiKSl0aHJvdyBSZWZlcmVuY2VFcnJvcihgSW5wdXQgXCIke2J9XCIgZG9lc24ndCBleGlzdCBvbiBcIiR7YS50eXBlfVwiYCk7aWYoIWQpcmV0dXJuXCJcIjtiPXRoaXMuYmxvY2tUb0NvZGUoZCk7aWYoYj09PVwiXCIpcmV0dXJuXCJcIjtpZighQXJyYXkuaXNBcnJheShiKSl0aHJvdyBUeXBlRXJyb3IoYEV4cGVjdGluZyB0dXBsZSBmcm9tIHZhbHVlIGJsb2NrOiAke2QudHlwZX0gU2VlIGArXG5cImRldmVsb3BlcnMuZ29vZ2xlLmNvbS9ibG9ja2x5L2d1aWRlcy9jcmVhdGUtY3VzdG9tLWJsb2Nrcy9nZW5lcmF0aW5nLWNvZGUgZm9yIG1vcmUgaW5mb3JtYXRpb25cIik7YT1iWzBdO2I9YlsxXTtpZihpc05hTihiKSl0aHJvdyBUeXBlRXJyb3IoXCJFeHBlY3RpbmcgdmFsaWQgb3JkZXIgZnJvbSB2YWx1ZSBibG9jazogXCIrZC50eXBlKTtpZighYSlyZXR1cm5cIlwiO2Q9ITE7dmFyIGU9TWF0aC5mbG9vcihjKTtjb25zdCBmPU1hdGguZmxvb3IoYik7aWYoZTw9ZiYmKGUhPT1mfHxlIT09MCYmZSE9PTk5KSlmb3IoZD0hMCxlPTA7ZTx0aGlzLk9SREVSX09WRVJSSURFUy5sZW5ndGg7ZSsrKWlmKHRoaXMuT1JERVJfT1ZFUlJJREVTW2VdWzBdPT09YyYmdGhpcy5PUkRFUl9PVkVSUklERVNbZV1bMV09PT1iKXtkPSExO2JyZWFrfWQmJihhPVwiKFwiK2ErXCIpXCIpO3JldHVybiBhfXN0YXRlbWVudFRvQ29kZShhLGIpe2NvbnN0IGM9YS5nZXRJbnB1dFRhcmdldEJsb2NrKGIpO2lmKCFjJiYhYS5nZXRJbnB1dChiKSl0aHJvdyBSZWZlcmVuY2VFcnJvcihgSW5wdXQgXCIke2J9XCIgZG9lc24ndCBleGlzdCBvbiBcIiR7YS50eXBlfVwiYCk7XG5hPXRoaXMuYmxvY2tUb0NvZGUoYyk7aWYodHlwZW9mIGEhPT1cInN0cmluZ1wiKXRocm93IFR5cGVFcnJvcihcIkV4cGVjdGluZyBjb2RlIGZyb20gc3RhdGVtZW50IGJsb2NrOiBcIisoYyYmYy50eXBlKSk7YSYmKGE9dGhpcy5wcmVmaXhMaW5lcyhhLHRoaXMuSU5ERU5UKSk7cmV0dXJuIGF9YWRkTG9vcFRyYXAoYSxiKXt0aGlzLklORklOSVRFX0xPT1BfVFJBUCYmKGE9dGhpcy5wcmVmaXhMaW5lcyh0aGlzLmluamVjdElkKHRoaXMuSU5GSU5JVEVfTE9PUF9UUkFQLGIpLHRoaXMuSU5ERU5UKSthKTt0aGlzLlNUQVRFTUVOVF9TVUZGSVgmJiFiLnN1cHByZXNzUHJlZml4U3VmZml4JiYoYT10aGlzLnByZWZpeExpbmVzKHRoaXMuaW5qZWN0SWQodGhpcy5TVEFURU1FTlRfU1VGRklYLGIpLHRoaXMuSU5ERU5UKSthKTt0aGlzLlNUQVRFTUVOVF9QUkVGSVgmJiFiLnN1cHByZXNzUHJlZml4U3VmZml4JiYoYSs9dGhpcy5wcmVmaXhMaW5lcyh0aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1BSRUZJWCxcbmIpLHRoaXMuSU5ERU5UKSk7cmV0dXJuIGF9aW5qZWN0SWQoYSxiKXtiPWIuaWQucmVwbGFjZSgvXFwkL2csXCIkJCQkXCIpO3JldHVybiBhLnJlcGxhY2UoLyUxL2csXCInXCIrYitcIidcIil9YWRkUmVzZXJ2ZWRXb3JkcyhhKXt0aGlzLlJFU0VSVkVEX1dPUkRTXys9YStcIixcIn1wcm92aWRlRnVuY3Rpb25fKGEsYil7aWYoIXRoaXMuZGVmaW5pdGlvbnNfW2FdKXtjb25zdCBjPXRoaXMubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoYSwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuUFJPQ0VEVVJFKTt0aGlzLmZ1bmN0aW9uTmFtZXNfW2FdPWM7QXJyYXkuaXNBcnJheShiKSYmKGI9Yi5qb2luKFwiXFxuXCIpKTtiPWIudHJpbSgpLnJlcGxhY2UodGhpcy5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX1JFR0VYUF8sYyk7bGV0IGQ7Zm9yKDtkIT09YjspZD1iLGI9Yi5yZXBsYWNlKC9eKCggezJ9KSopIHsyfS9nbSxcIiQxXFx4MDBcIik7Yj1iLnJlcGxhY2UoL1xcMC9nLHRoaXMuSU5ERU5UKTtcbnRoaXMuZGVmaW5pdGlvbnNfW2FdPWJ9cmV0dXJuIHRoaXMuZnVuY3Rpb25OYW1lc19bYV19Z2V0VmFyaWFibGVOYW1lKGEpe3JldHVybiB0aGlzLmdldE5hbWUoYSwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpfWdldFByb2NlZHVyZU5hbWUoYSl7cmV0dXJuIHRoaXMuZ2V0TmFtZShhLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5QUk9DRURVUkUpfWdldE5hbWUoYSxiKXtpZighdGhpcy5uYW1lREJfKXRocm93IEVycm9yKFwiTmFtZSBkYXRhYmFzZSBpcyBub3QgZGVmaW5lZC4gWW91IG11c3QgaW5pdGlhbGl6ZSBgbmFtZURCX2AgaW4geW91ciBnZW5lcmF0b3IgY2xhc3MgYW5kIGNhbGwgYGluaXRgIGZpcnN0LlwiKTtyZXR1cm4gdGhpcy5uYW1lREJfLmdldE5hbWUoYSxiKX1pbml0KGEpe3RoaXMuZGVmaW5pdGlvbnNfPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5mdW5jdGlvbk5hbWVzXz1PYmplY3QuY3JlYXRlKG51bGwpfXNjcnViXyhhLFxuYixjKXtyZXR1cm4gYn1maW5pc2goYSl7dGhpcy5kZWZpbml0aW9uc189T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmZ1bmN0aW9uTmFtZXNfPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGF9c2NydWJOYWtlZFZhbHVlKGEpe3JldHVybiBhfX07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlbmVyYXRvcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yLkNvZGVHZW5lcmF0b3I9JC5Db2RlR2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yO3ZhciBWZXJ0aWNhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF92ZXJ0aWNhbD1jbGFzcyBleHRlbmRzIEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpfXNldE1ldHJpY3NfKGEpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciBiPXRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzTWFuYWdlcigpLGM9Yi5nZXRTY3JvbGxNZXRyaWNzKCksZD1iLmdldFZpZXdNZXRyaWNzKCk7Yj1iLmdldEFic29sdXRlTWV0cmljcygpO3R5cGVvZiBhLnk9PT1cIm51bWJlclwiJiYodGhpcy53b3Jrc3BhY2VfLnNjcm9sbFk9LShjLnRvcCsoYy5oZWlnaHQtZC5oZWlnaHQpKmEueSkpO3RoaXMud29ya3NwYWNlXy50cmFuc2xhdGUodGhpcy53b3Jrc3BhY2VfLnNjcm9sbFgrYi5sZWZ0LHRoaXMud29ya3NwYWNlXy5zY3JvbGxZK2IudG9wKX19Z2V0WCgpe2lmKCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiAwO3ZhciBhPXRoaXMudGFyZ2V0V29ya3NwYWNlLmdldE1ldHJpY3NNYW5hZ2VyKCk7XG5jb25zdCBiPWEuZ2V0QWJzb2x1dGVNZXRyaWNzKCksYz1hLmdldFZpZXdNZXRyaWNzKCk7YT1hLmdldFRvb2xib3hNZXRyaWNzKCk7cmV0dXJuIHRoaXMudGFyZ2V0V29ya3NwYWNlLnRvb2xib3hQb3NpdGlvbj09PXRoaXMudG9vbGJveFBvc2l0aW9uXz90aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRUb29sYm94KCk/dGhpcy50b29sYm94UG9zaXRpb25fPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlQ/YS53aWR0aDpjLndpZHRoLXRoaXMuZ2V0V2lkdGgoKTp0aGlzLnRvb2xib3hQb3NpdGlvbl89PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVD8wOmMud2lkdGg6dGhpcy50b29sYm94UG9zaXRpb25fPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlQ/MDpjLndpZHRoK2IubGVmdC10aGlzLmdldFdpZHRoKCl9Z2V0WSgpe3JldHVybiAwfXBvc2l0aW9uKCl7aWYodGhpcy5pc1Zpc2libGUoKSYmXG50aGlzLnRhcmdldFdvcmtzcGFjZS5pc1Zpc2libGUoKSl7dmFyIGE9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0TWV0cmljc01hbmFnZXIoKS5nZXRWaWV3TWV0cmljcygpO3RoaXMuaGVpZ2h0Xz1hLmhlaWdodDt2YXIgYj10aGlzLmdldFdpZHRoKCktdGhpcy5DT1JORVJfUkFESVVTO3RoaXMuc2V0QmFja2dyb3VuZFBhdGgoYixhLmhlaWdodC0yKnRoaXMuQ09STkVSX1JBRElVUyk7YT10aGlzLmdldFgoKTtiPXRoaXMuZ2V0WSgpO3RoaXMucG9zaXRpb25BdF8odGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCksYSxiKX19c2V0QmFja2dyb3VuZFBhdGgoYSxiKXtjb25zdCBjPXRoaXMudG9vbGJveFBvc2l0aW9uXz09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5SSUdIVDt2YXIgZD1hK3RoaXMuQ09STkVSX1JBRElVUztkPVtcIk0gXCIrKGM/ZDowKStcIiwwXCJdO2QucHVzaChcImhcIixjPy1hOmEpO2QucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsXG50aGlzLkNPUk5FUl9SQURJVVMsMCwwLGM/MDoxLGM/LXRoaXMuQ09STkVSX1JBRElVUzp0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTKTtkLnB1c2goXCJ2XCIsTWF0aC5tYXgoMCxiKSk7ZC5wdXNoKFwiYVwiLHRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMsMCwwLGM/MDoxLGM/dGhpcy5DT1JORVJfUkFESVVTOi10aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTKTtkLnB1c2goXCJoXCIsYz9hOi1hKTtkLnB1c2goXCJ6XCIpO3RoaXMuc3ZnQmFja2dyb3VuZF8uc2V0QXR0cmlidXRlKFwiZFwiLGQuam9pbihcIiBcIikpfXNjcm9sbFRvU3RhcnQoKXtsZXQgYTsoYT10aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyKT09bnVsbHx8YS5zZXRZKDApfXdoZWVsXyhhKXt2YXIgYj1nZXRTY3JvbGxEZWx0YVBpeGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpO2lmKGIueSl7Y29uc3QgYz10aGlzLndvcmtzcGFjZV8uZ2V0TWV0cmljc01hbmFnZXIoKSxcbmQ9Yy5nZXRTY3JvbGxNZXRyaWNzKCk7Yj1jLmdldFZpZXdNZXRyaWNzKCkudG9wLWQudG9wK2IueTtsZXQgZTsoZT10aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyKT09bnVsbHx8ZS5zZXRZKGIpO2hpZGVJZk93bmVySXNJbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzLndvcmtzcGFjZV8pO2hpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKX1hLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX1sYXlvdXRfKGEpe3RoaXMud29ya3NwYWNlXy5zY2FsZT10aGlzLnRhcmdldFdvcmtzcGFjZS5zY2FsZTt2YXIgYj10aGlzLk1BUkdJTjtjb25zdCBjPXRoaXMuUlRMP2I6Yit0aGlzLnRhYldpZHRoXztmb3IoY29uc3QgZCBvZiBhKWQuZ2V0RWxlbWVudCgpLm1vdmVCeShjLGIpLGIrPWQuZ2V0RWxlbWVudCgpLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkuZ2V0SGVpZ2h0KCl9aXNEcmFnVG93YXJkV29ya3NwYWNlKGEpe2E9XG5NYXRoLmF0YW4yKGEueSxhLngpL01hdGguUEkqMTgwO2NvbnN0IGI9dGhpcy5kcmFnQW5nbGVSYW5nZV87cmV0dXJuIGE8YiYmYT4tYnx8YTwtMTgwK2J8fGE+MTgwLWI/ITA6ITF9Z2V0Q2xpZW50UmVjdCgpe2lmKCF0aGlzLnN2Z0dyb3VwX3x8dGhpcy5hdXRvQ2xvc2V8fCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiBudWxsO2NvbnN0IGE9dGhpcy5zdmdHcm91cF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1hLmxlZnQ7cmV0dXJuIHRoaXMudG9vbGJveFBvc2l0aW9uXz09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUP25ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCgtMUU5LDFFOSwtMUU5LGIrYS53aWR0aCk6bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KC0xRTksMUU5LGIsMUU5KX1yZWZsb3dJbnRlcm5hbF8oKXt0aGlzLndvcmtzcGFjZV8uc2NhbGU9dGhpcy5nZXRGbHlvdXRTY2FsZSgpO1xubGV0IGE9dGhpcy5nZXRDb250ZW50cygpLnJlZHVjZSgoYixjKT0+TWF0aC5tYXgoYixjLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLmdldFdpZHRoKCkpLDApO2ErPXRoaXMuTUFSR0lOKjEuNSt0aGlzLnRhYldpZHRoXzthKj10aGlzLndvcmtzcGFjZV8uc2NhbGU7YSs9U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcztpZih0aGlzLmdldFdpZHRoKCkhPT1hKXtpZih0aGlzLlJUTClmb3IoY29uc3QgYiBvZiB0aGlzLmdldENvbnRlbnRzKCkpe2NvbnN0IGM9Yi5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5sZWZ0LGQ9YS90aGlzLndvcmtzcGFjZV8uc2NhbGUtYi5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5nZXRXaWR0aCgpLXRoaXMuTUFSR0lOLXRoaXMudGFiV2lkdGhfO2IuZ2V0RWxlbWVudCgpLm1vdmVCeShkLWMsMCl9dGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2Nyb2xsYmFyfHxcbnRoaXMuYXV0b0Nsb3NlfHx0aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRGbHlvdXQoKSE9PXRoaXN8fHRoaXMudG9vbGJveFBvc2l0aW9uXyE9PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUfHx0aGlzLnRhcmdldFdvcmtzcGFjZS50cmFuc2xhdGUodGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2Nyb2xsWCthLHRoaXMudGFyZ2V0V29ya3NwYWNlLnNjcm9sbFkpO3RoaXMud2lkdGhfPWE7dGhpcy5wb3NpdGlvbigpO3RoaXMudGFyZ2V0V29ya3NwYWNlLnJlc2l6ZUNvbnRlbnRzKCk7dGhpcy50YXJnZXRXb3Jrc3BhY2UucmVjb3JkRHJhZ1RhcmdldHMoKX19fTtWZXJ0aWNhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF92ZXJ0aWNhbC5yZWdpc3RyeU5hbWU9XCJ2ZXJ0aWNhbEZseW91dFwiO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19WRVJUSUNBTF9UT09MQk9YLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxWZXJ0aWNhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF92ZXJ0aWNhbCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfdmVydGljYWw9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF92ZXJ0aWNhbC5WZXJ0aWNhbEZseW91dD1WZXJ0aWNhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF92ZXJ0aWNhbDt2YXIgSG9yaXpvbnRhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9ob3Jpem9udGFsPWNsYXNzIGV4dGVuZHMgRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2Jhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy5ob3Jpem9udGFsTGF5b3V0PSEwfXNldE1ldHJpY3NfKGEpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciBiPXRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzTWFuYWdlcigpLGM9Yi5nZXRTY3JvbGxNZXRyaWNzKCksZD1iLmdldFZpZXdNZXRyaWNzKCk7Yj1iLmdldEFic29sdXRlTWV0cmljcygpO3R5cGVvZiBhLng9PT1cIm51bWJlclwiJiYodGhpcy53b3Jrc3BhY2VfLnNjcm9sbFg9LShjLmxlZnQrKGMud2lkdGgtZC53aWR0aCkqYS54KSk7dGhpcy53b3Jrc3BhY2VfLnRyYW5zbGF0ZSh0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWCtiLmxlZnQsdGhpcy53b3Jrc3BhY2VfLnNjcm9sbFkrYi50b3ApfX1nZXRYKCl7cmV0dXJuIDB9Z2V0WSgpe2lmKCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiAwO1xudmFyIGE9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0TWV0cmljc01hbmFnZXIoKTtjb25zdCBiPWEuZ2V0QWJzb2x1dGVNZXRyaWNzKCksYz1hLmdldFZpZXdNZXRyaWNzKCk7YT1hLmdldFRvb2xib3hNZXRyaWNzKCk7Y29uc3QgZD10aGlzLnRvb2xib3hQb3NpdGlvbl89PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QO3JldHVybiB0aGlzLnRhcmdldFdvcmtzcGFjZS50b29sYm94UG9zaXRpb249PT10aGlzLnRvb2xib3hQb3NpdGlvbl8/dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0VG9vbGJveCgpP2Q/YS5oZWlnaHQ6Yy5oZWlnaHQtdGhpcy5nZXRIZWlnaHQoKTpkPzA6Yy5oZWlnaHQ6ZD8wOmMuaGVpZ2h0K2IudG9wLXRoaXMuZ2V0SGVpZ2h0KCl9cG9zaXRpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLnRhcmdldFdvcmtzcGFjZS5pc1Zpc2libGUoKSl7dmFyIGE9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0TWV0cmljc01hbmFnZXIoKS5nZXRWaWV3TWV0cmljcygpO1xudGhpcy53aWR0aF89YS53aWR0aDthPWEud2lkdGgtMip0aGlzLkNPUk5FUl9SQURJVVM7dmFyIGI9dGhpcy5nZXRIZWlnaHQoKS10aGlzLkNPUk5FUl9SQURJVVM7dGhpcy5zZXRCYWNrZ3JvdW5kUGF0aChhLGIpO2E9dGhpcy5nZXRYKCk7Yj10aGlzLmdldFkoKTt0aGlzLnBvc2l0aW9uQXRfKHRoaXMuZ2V0V2lkdGgoKSx0aGlzLmdldEhlaWdodCgpLGEsYil9fXNldEJhY2tncm91bmRQYXRoKGEsYil7Y29uc3QgYz10aGlzLnRvb2xib3hQb3NpdGlvbl89PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QLGQ9W1wiTSAwLFwiKyhjPzA6dGhpcy5DT1JORVJfUkFESVVTKV07Yz8oZC5wdXNoKFwiaFwiLGErMip0aGlzLkNPUk5FUl9SQURJVVMpLGQucHVzaChcInZcIixiKSxkLnB1c2goXCJhXCIsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUywwLDAsMSwtdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUyksZC5wdXNoKFwiaFwiLFxuLWEpLGQucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTLDAsMCwxLC10aGlzLkNPUk5FUl9SQURJVVMsLXRoaXMuQ09STkVSX1JBRElVUykpOihkLnB1c2goXCJhXCIsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUywwLDAsMSx0aGlzLkNPUk5FUl9SQURJVVMsLXRoaXMuQ09STkVSX1JBRElVUyksZC5wdXNoKFwiaFwiLGEpLGQucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTLDAsMCwxLHRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMpLGQucHVzaChcInZcIixiKSxkLnB1c2goXCJoXCIsLWEtMip0aGlzLkNPUk5FUl9SQURJVVMpKTtkLnB1c2goXCJ6XCIpO3RoaXMuc3ZnQmFja2dyb3VuZF8uc2V0QXR0cmlidXRlKFwiZFwiLGQuam9pbihcIiBcIikpfXNjcm9sbFRvU3RhcnQoKXtsZXQgYTsoYT10aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyKT09bnVsbHx8YS5zZXRYKHRoaXMuUlRMP0luZmluaXR5OlxuMCl9d2hlZWxfKGEpe3ZhciBiPWdldFNjcm9sbERlbHRhUGl4ZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk7aWYoYj1iLnh8fGIueSl7Y29uc3QgYz10aGlzLndvcmtzcGFjZV8uZ2V0TWV0cmljc01hbmFnZXIoKSxkPWMuZ2V0U2Nyb2xsTWV0cmljcygpO2I9Yy5nZXRWaWV3TWV0cmljcygpLmxlZnQtZC5sZWZ0K2I7bGV0IGU7KGU9dGhpcy53b3Jrc3BhY2VfLnNjcm9sbGJhcik9PW51bGx8fGUuc2V0WChiKTtoaWRlSWZPd25lcklzSW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYodGhpcy53b3Jrc3BhY2VfKTtoaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCl9YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9bGF5b3V0XyhhKXt0aGlzLndvcmtzcGFjZV8uc2NhbGU9dGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2NhbGU7Y29uc3QgYj10aGlzLk1BUkdJTjtcbmxldCBjPWIrdGhpcy50YWJXaWR0aF87dGhpcy5SVEwmJihhPWEucmV2ZXJzZSgpKTtmb3IoY29uc3QgZCBvZiBhKWE9ZC5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSxhPXRoaXMuUlRMP2MrYS5nZXRXaWR0aCgpOmMsZC5nZXRFbGVtZW50KCkubW92ZUJ5KGEsYiksYys9ZC5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5nZXRXaWR0aCgpfWlzRHJhZ1Rvd2FyZFdvcmtzcGFjZShhKXthPU1hdGguYXRhbjIoYS55LGEueCkvTWF0aC5QSSoxODA7Y29uc3QgYj10aGlzLmRyYWdBbmdsZVJhbmdlXztyZXR1cm4gYTw5MCtiJiZhPjkwLWJ8fGE+LTkwLWImJmE8LTkwK2I/ITA6ITF9Z2V0Q2xpZW50UmVjdCgpe2lmKCF0aGlzLnN2Z0dyb3VwX3x8dGhpcy5hdXRvQ2xvc2V8fCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiBudWxsO2NvbnN0IGE9dGhpcy5zdmdHcm91cF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1hLnRvcDtyZXR1cm4gdGhpcy50b29sYm94UG9zaXRpb25fPT09XG5Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QP25ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCgtMUU5LGIrYS5oZWlnaHQsLTFFOSwxRTkpOm5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChiLDFFOSwtMUU5LDFFOSl9cmVmbG93SW50ZXJuYWxfKCl7dGhpcy53b3Jrc3BhY2VfLnNjYWxlPXRoaXMuZ2V0Rmx5b3V0U2NhbGUoKTtsZXQgYT10aGlzLmdldENvbnRlbnRzKCkucmVkdWNlKChiLGMpPT5NYXRoLm1heChiLGMuZ2V0RWxlbWVudCgpLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkuZ2V0SGVpZ2h0KCkpLDApO2ErPXRoaXMuTUFSR0lOKjEuNTthKj10aGlzLndvcmtzcGFjZV8uc2NhbGU7YSs9U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzczt0aGlzLmdldEhlaWdodCgpIT09YSYmKHRoaXMudGFyZ2V0V29ya3NwYWNlLnNjcm9sbGJhcnx8XG50aGlzLmF1dG9DbG9zZXx8dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCkhPT10aGlzfHx0aGlzLnRvb2xib3hQb3NpdGlvbl8hPT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QfHx0aGlzLnRhcmdldFdvcmtzcGFjZS50cmFuc2xhdGUodGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2Nyb2xsWCx0aGlzLnRhcmdldFdvcmtzcGFjZS5zY3JvbGxZK2EpLHRoaXMuaGVpZ2h0Xz1hLHRoaXMucG9zaXRpb24oKSx0aGlzLnRhcmdldFdvcmtzcGFjZS5yZXNpemVDb250ZW50cygpLHRoaXMudGFyZ2V0V29ya3NwYWNlLnJlY29yZERyYWdUYXJnZXRzKCkpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19IT1JJWk9OVEFMX1RPT0xCT1gsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LEhvcml6b250YWxGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaG9yaXpvbnRhbCk7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9ob3Jpem9udGFsPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaG9yaXpvbnRhbC5Ib3Jpem9udGFsRmx5b3V0PUhvcml6b250YWxGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaG9yaXpvbnRhbDt2YXIgRmllbGRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3ZhcmlhYmxlPWNsYXNzIGV4dGVuZHMgRmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3due2NvbnN0cnVjdG9yKGEsYixjLGQsZSl7c3VwZXIoRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQKTt0aGlzLmRlZmF1bHRUeXBlPVwiXCI7dGhpcy52YXJpYWJsZVR5cGVzPVtdO3RoaXMudmFyaWFibGU9bnVsbDt0aGlzLlNFUklBTElaQUJMRT0hMDt0aGlzLm1lbnVHZW5lcmF0b3JfPUZpZWxkVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZS5kcm9wZG93bkNyZWF0ZTt0aGlzLmRlZmF1bHRWYXJpYWJsZU5hbWU9dHlwZW9mIGE9PT1cInN0cmluZ1wiP2E6XCJcIjt0aGlzLnNpemVfPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgwLDApO2EhPT1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVAmJlxuKGU/dGhpcy5jb25maWd1cmVfKGUpOnRoaXMuc2V0VHlwZXMoYyxkKSxiJiZ0aGlzLnNldFZhbGlkYXRvcihiKSl9Y29uZmlndXJlXyhhKXtzdXBlci5jb25maWd1cmVfKGEpO3RoaXMuc2V0VHlwZXMoYS52YXJpYWJsZVR5cGVzLGEuZGVmYXVsdFR5cGUpfWluaXRNb2RlbCgpe3ZhciBhPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDt0aGlzLnZhcmlhYmxlfHwoYT0kLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEud29ya3NwYWNlLG51bGwsdGhpcy5kZWZhdWx0VmFyaWFibGVOYW1lLHRoaXMuZGVmYXVsdFR5cGUpLHRoaXMuZG9WYWx1ZVVwZGF0ZV8oYS5nZXRJZCgpKSl9aW5pdFZpZXcoKXtzdXBlci5pbml0VmlldygpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8sXG5cImJsb2NrbHlWYXJpYWJsZUZpZWxkXCIpfXNob3VsZEFkZEJvcmRlclJlY3RfKCl7Y29uc3QgYT10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWEpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7cmV0dXJuIHN1cGVyLnNob3VsZEFkZEJvcmRlclJlY3RfKCkmJighdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9OT19CT1JERVJfUkVDVF9TSEFET1d8fGEudHlwZSE9PVwidmFyaWFibGVzX2dldFwiKX1mcm9tWG1sKGEpe3ZhciBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYil0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtjb25zdCBjPWEuZ2V0QXR0cmlidXRlKFwiaWRcIiksZD1hLnRleHRDb250ZW50LGU9YS5nZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZXR5cGVcIil8fGEuZ2V0QXR0cmlidXRlKFwidmFyaWFibGVUeXBlXCIpfHxcIlwiO2I9JC5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLndvcmtzcGFjZSxcbmMsZCxlKTtpZihlIT09bnVsbCYmZSE9PWIuZ2V0VHlwZSgpKXRocm93IEVycm9yKFwiU2VyaWFsaXplZCB2YXJpYWJsZSB0eXBlIHdpdGggaWQgJ1wiK2IuZ2V0SWQoKStcIicgaGFkIHR5cGUgXCIrYi5nZXRUeXBlKCkrXCIsIGFuZCBkb2VzIG5vdCBtYXRjaCB2YXJpYWJsZSBmaWVsZCB0aGF0IHJlZmVyZW5jZXMgaXQ6IFwiK2RvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhKStcIi5cIik7dGhpcy5zZXRWYWx1ZShiLmdldElkKCkpfXRvWG1sKGEpe3RoaXMuaW5pdE1vZGVsKCk7YS5pZD10aGlzLnZhcmlhYmxlLmdldElkKCk7YS50ZXh0Q29udGVudD10aGlzLnZhcmlhYmxlLmdldE5hbWUoKTt0aGlzLnZhcmlhYmxlLmdldFR5cGUoKSYmYS5zZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZXR5cGVcIix0aGlzLnZhcmlhYmxlLmdldFR5cGUoKSk7cmV0dXJuIGF9c2F2ZVN0YXRlKGEpe3ZhciBiPXRoaXMuc2F2ZUxlZ2FjeVN0YXRlKEZpZWxkVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZSk7XG5pZihiIT09bnVsbClyZXR1cm4gYjt0aGlzLmluaXRNb2RlbCgpO2I9e2lkOnRoaXMudmFyaWFibGUuZ2V0SWQoKX07YSYmKGIubmFtZT10aGlzLnZhcmlhYmxlLmdldE5hbWUoKSxiLnR5cGU9dGhpcy52YXJpYWJsZS5nZXRUeXBlKCkpO3JldHVybiBifWxvYWRTdGF0ZShhKXtjb25zdCBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYil0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDt0aGlzLmxvYWRMZWdhY3lTdGF0ZShGaWVsZFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdmFyaWFibGUsYSl8fChhPSQuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYi53b3Jrc3BhY2UsYS5pZHx8bnVsbCxhLm5hbWUsYS50eXBlfHxcIlwiKSx0aGlzLnNldFZhbHVlKGEuZ2V0SWQoKSkpfXNldFNvdXJjZUJsb2NrKGEpe2lmKGEuaXNTaGFkb3coKSl0aHJvdyBFcnJvcihcIlZhcmlhYmxlIGZpZWxkcyBhcmUgbm90IGFsbG93ZWQgdG8gZXhpc3Qgb24gc2hhZG93IGJsb2Nrcy5cIik7XG5zdXBlci5zZXRTb3VyY2VCbG9jayhhKX1nZXRWYWx1ZSgpe3JldHVybiB0aGlzLnZhcmlhYmxlP3RoaXMudmFyaWFibGUuZ2V0SWQoKTpudWxsfWdldFRleHQoKXtyZXR1cm4gdGhpcy52YXJpYWJsZT90aGlzLnZhcmlhYmxlLmdldE5hbWUoKTpcIlwifWdldFZhcmlhYmxlKCl7cmV0dXJuIHRoaXMudmFyaWFibGV9Z2V0RGVmYXVsdFR5cGUoKXtyZXR1cm4gdGhpcy5kZWZhdWx0VHlwZX1nZXRWYWxpZGF0b3IoKXtyZXR1cm4gdGhpcy52YXJpYWJsZT90aGlzLnZhbGlkYXRvcl86bnVsbH1kb0NsYXNzVmFsaWRhdGlvbl8oYSl7aWYoYT09PW51bGwpcmV0dXJuIG51bGw7dmFyIGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2I9JC5nZXRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLndvcmtzcGFjZSxhKTtpZighYilyZXR1cm4gY29uc29sZS53YXJuKFwiVmFyaWFibGUgaWQgZG9lc24ndCBwb2ludCB0byBhIHJlYWwgdmFyaWFibGUhIElEIHdhcyBcIitcbmEpLG51bGw7Yj1iLmdldFR5cGUoKTtyZXR1cm4gdGhpcy50eXBlSXNBbGxvd2VkKGIpP2E6KGNvbnNvbGUud2FybihcIlZhcmlhYmxlIHR5cGUgZG9lc24ndCBtYXRjaCB0aGlzIGZpZWxkISAgVHlwZSB3YXMgXCIrYiksbnVsbCl9ZG9WYWx1ZVVwZGF0ZV8oYSl7Y29uc3QgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWIpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7dGhpcy52YXJpYWJsZT0kLmdldFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIud29ya3NwYWNlLGEpO3N1cGVyLmRvVmFsdWVVcGRhdGVfKGEpfXR5cGVJc0FsbG93ZWQoYSl7Y29uc3QgYj10aGlzLmdldFZhcmlhYmxlVHlwZXMoKTtpZighYilyZXR1cm4hMDtmb3IobGV0IGM9MDtjPGIubGVuZ3RoO2MrKylpZihhPT09YltjXSlyZXR1cm4hMDtyZXR1cm4hMX1nZXRWYXJpYWJsZVR5cGVzKCl7aWYodGhpcy52YXJpYWJsZVR5cGVzKXJldHVybiB0aGlzLnZhcmlhYmxlVHlwZXM7XG5pZighdGhpcy5zb3VyY2VCbG9ja198fHRoaXMuc291cmNlQmxvY2tfLmlzRGVhZE9yRHlpbmcoKSlyZXR1cm5bXCJcIl07bGV0IGE9dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmdldFZhcmlhYmxlTWFwKCkuZ2V0VHlwZXMoKTtpZih0aGlzLnNvdXJjZUJsb2NrXy5pc0luRmx5b3V0KXtjb25zdCBiPXRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5nZXRQb3RlbnRpYWxWYXJpYWJsZU1hcCgpO2lmKCFiKXJldHVybiBhO2E9QXJyYXkuZnJvbShuZXcgU2V0KFsuLi5hLC4uLmIuZ2V0VHlwZXMoKV0pKX1yZXR1cm4gYX1zZXRUeXBlcyhhPW51bGwsYj1cIlwiKXt2YXIgYz10aGlzLmdldFRleHQoKTtpZihBcnJheS5pc0FycmF5KGEpKXtpZihhLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoYCd2YXJpYWJsZVR5cGVzJyBvZiBmaWVsZCB2YXJpYWJsZSAke2N9IHdhcyBhbiBlbXB0eSBsaXN0LiBJZiB5b3Ugd2FudCB0byBpbmNsdWRlIGFsbCB2YXJpYWJsZSB0eXBlcywgcGFzcyAnbnVsbCcgaW5zdGVhZC5gKTtcbmM9ITE7Zm9yKGxldCBkPTA7ZDxhLmxlbmd0aDtkKyspYVtkXT09PWImJihjPSEwKTtpZighYyl0aHJvdyBFcnJvcihcIkludmFsaWQgZGVmYXVsdCB0eXBlICdcIitiK1wiJyBpbiB0aGUgZGVmaW5pdGlvbiBvZiBhIEZpZWxkVmFyaWFibGVcIik7fWVsc2UgaWYoYSE9PW51bGwpdGhyb3cgRXJyb3IoYCd2YXJpYWJsZVR5cGVzJyB3YXMgbm90IGFuIGFycmF5IG9yIG51bGwgaW4gdGhlIGRlZmluaXRpb24gb2YgRmllbGRWYXJpYWJsZSAke2N9YCk7dGhpcy5kZWZhdWx0VHlwZT1iO3RoaXMudmFyaWFibGVUeXBlcz1hfXJlZnJlc2hWYXJpYWJsZU5hbWUoKXt0aGlzLmZvcmNlUmVyZW5kZXIoKX1vbkl0ZW1TZWxlY3RlZF8oYSxiKXthPWIuZ2V0VmFsdWUoKTtpZih0aGlzLnNvdXJjZUJsb2NrXyYmIXRoaXMuc291cmNlQmxvY2tfLmlzRGVhZE9yRHlpbmcoKSl7aWYoYT09PVJFTkFNRV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyYmdGhpcy52YXJpYWJsZSl7JC5yZW5hbWVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UsXG50aGlzLnZhcmlhYmxlKTtyZXR1cm59aWYoYT09PURFTEVURV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyYmdGhpcy52YXJpYWJsZSl7YT10aGlzLnZhcmlhYmxlLmdldFdvcmtzcGFjZSgpOyQuZGVsZXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSx0aGlzLnZhcmlhYmxlLHRoaXMuc291cmNlQmxvY2tfKTtyZXR1cm59fXRoaXMuc2V0VmFsdWUoYSl9cmVmZXJlbmNlc1ZhcmlhYmxlcygpe3JldHVybiEwfXN0YXRpYyBmcm9tSnNvbihhKXtyZXR1cm4gbmV3IHRoaXMocmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLnZhcmlhYmxlKSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxhKX1zdGF0aWMgZHJvcGRvd25DcmVhdGUoKXtpZighdGhpcy52YXJpYWJsZSl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGNhbGwgZHJvcGRvd25DcmVhdGUgb24gYSB2YXJpYWJsZSBmaWVsZCB3aXRoIG5vIHZhcmlhYmxlIHNlbGVjdGVkLlwiKTtcbmNvbnN0IGE9dGhpcy5nZXRUZXh0KCk7bGV0IGI9W107dmFyIGM9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKGMmJiFjLmlzRGVhZE9yRHlpbmcoKSl7Yz1jLndvcmtzcGFjZTtjb25zdCBmPXRoaXMuZ2V0VmFyaWFibGVUeXBlcygpO2ZvcihsZXQgZz0wO2c8Zi5sZW5ndGg7ZysrKXtjb25zdCBoPWZbZ10saz1jLmdldFZhcmlhYmxlTWFwKCkuZ2V0VmFyaWFibGVzT2ZUeXBlKGgpO2I9Yi5jb25jYXQoayk7aWYoYy5pc0ZseW91dCl7dmFyIGQ9dm9pZCAwLGU9dm9pZCAwO2I9Yi5jb25jYXQoKGU9KGQ9Yy5nZXRQb3RlbnRpYWxWYXJpYWJsZU1hcCgpKT09bnVsbD92b2lkIDA6ZC5nZXRWYXJpYWJsZXNPZlR5cGUoaCkpIT1udWxsP2U6W10pfX19Yi5zb3J0KGNvbXBhcmVCeU5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMpO2Q9W107Zm9yKGU9MDtlPGIubGVuZ3RoO2UrKylkW2VdPVtiW2VdLmdldE5hbWUoKSxiW2VdLmdldElkKCldO2QucHVzaChbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUkVOQU1FX1ZBUklBQkxFLFxuUkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzXSk7JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX1ZBUklBQkxFJiZkLnB1c2goWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRFTEVURV9WQVJJQUJMRS5yZXBsYWNlKFwiJTFcIixhKSxERUxFVEVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNdKTtyZXR1cm4gZH19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoXCJmaWVsZF92YXJpYWJsZVwiLEZpZWxkVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdmFyaWFibGUuRmllbGRWYXJpYWJsZT1GaWVsZFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdmFyaWFibGU7dmFyIEZpZWxkTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbnVtYmVyPWNsYXNzIGV4dGVuZHMgRmllbGRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0e2NvbnN0cnVjdG9yKGEsYixjLGQsZSxmKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMubWluXz0tSW5maW5pdHk7dGhpcy5tYXhfPUluZmluaXR5O3RoaXMucHJlY2lzaW9uXz0wO3RoaXMuZGVjaW1hbFBsYWNlcz1udWxsO3RoaXMuc3BlbGxjaGVja189ITE7YSE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCYmKGY/dGhpcy5jb25maWd1cmVfKGYpOnRoaXMuc2V0Q29uc3RyYWludHMoYixjLGQpLHRoaXMuc2V0VmFsdWUoYSksZSYmdGhpcy5zZXRWYWxpZGF0b3IoZSkpfWNvbmZpZ3VyZV8oYSl7c3VwZXIuY29uZmlndXJlXyhhKTt0aGlzLnNldE1pbkludGVybmFsKGEubWluKTt0aGlzLnNldE1heEludGVybmFsKGEubWF4KTtcbnRoaXMuc2V0UHJlY2lzaW9uSW50ZXJuYWwoYS5wcmVjaXNpb24pfXNldENvbnN0cmFpbnRzKGEsYixjKXt0aGlzLnNldE1pbkludGVybmFsKGEpO3RoaXMuc2V0TWF4SW50ZXJuYWwoYik7dGhpcy5zZXRQcmVjaXNpb25JbnRlcm5hbChjKTt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKSl9c2V0TWluKGEpe3RoaXMuc2V0TWluSW50ZXJuYWwoYSk7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkpfXNldE1pbkludGVybmFsKGEpe2E9PW51bGw/dGhpcy5taW5fPS1JbmZpbml0eTooYT1OdW1iZXIoYSksaXNOYU4oYSl8fCh0aGlzLm1pbl89YSkpfWdldE1pbigpe3JldHVybiB0aGlzLm1pbl99c2V0TWF4KGEpe3RoaXMuc2V0TWF4SW50ZXJuYWwoYSk7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkpfXNldE1heEludGVybmFsKGEpe2E9PW51bGw/dGhpcy5tYXhfPUluZmluaXR5OihhPU51bWJlcihhKSxpc05hTihhKXx8KHRoaXMubWF4Xz1hKSl9Z2V0TWF4KCl7cmV0dXJuIHRoaXMubWF4X31zZXRQcmVjaXNpb24oYSl7dGhpcy5zZXRQcmVjaXNpb25JbnRlcm5hbChhKTtcbnRoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSgpKX1zZXRQcmVjaXNpb25JbnRlcm5hbChhKXt0aGlzLnByZWNpc2lvbl89TnVtYmVyKGEpfHwwO2xldCBiPVN0cmluZyh0aGlzLnByZWNpc2lvbl8pO2IuaW5jbHVkZXMoXCJlXCIpJiYoYj10aGlzLnByZWNpc2lvbl8udG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiLHttYXhpbXVtRnJhY3Rpb25EaWdpdHM6MjB9KSk7Y29uc3QgYz1iLmluZGV4T2YoXCIuXCIpO3RoaXMuZGVjaW1hbFBsYWNlcz1jPT09LTE/YT8wOm51bGw6Yi5sZW5ndGgtYy0xfWdldFByZWNpc2lvbigpe3JldHVybiB0aGlzLnByZWNpc2lvbl99ZG9DbGFzc1ZhbGlkYXRpb25fKGEpe2lmKGE9PT1udWxsKXJldHVybiBudWxsO2E9YCR7YX1gLnJlcGxhY2UoL08vZ2ksXCIwXCIpO2E9YS5yZXBsYWNlKC8sL2csXCJcIik7YT1hLnJlcGxhY2UoL2luZmluaXR5L2ksXCJJbmZpbml0eVwiKTthPU51bWJlcihhfHwwKTtpZihpc05hTihhKSlyZXR1cm4gbnVsbDthPU1hdGgubWluKE1hdGgubWF4KGEsXG50aGlzLm1pbl8pLHRoaXMubWF4Xyk7dGhpcy5wcmVjaXNpb25fJiZpc0Zpbml0ZShhKSYmKGE9TWF0aC5yb3VuZChhL3RoaXMucHJlY2lzaW9uXykqdGhpcy5wcmVjaXNpb25fKTt0aGlzLmRlY2ltYWxQbGFjZXMhPT1udWxsJiYoYT1OdW1iZXIoYS50b0ZpeGVkKHRoaXMuZGVjaW1hbFBsYWNlcykpKTtyZXR1cm4gYX13aWRnZXRDcmVhdGVfKCl7Y29uc3QgYT1zdXBlci53aWRnZXRDcmVhdGVfKCk7dGhpcy5taW5fPi1JbmZpbml0eSYmKGEubWluPWAke3RoaXMubWluX31gLHNldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShhLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5WQUxVRU1JTix0aGlzLm1pbl8pKTt0aGlzLm1heF88SW5maW5pdHkmJihhLm1heD1gJHt0aGlzLm1heF99YCxzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYSxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuVkFMVUVNQVgsXG50aGlzLm1heF8pKTtyZXR1cm4gYX1pbml0Vmlldygpe3N1cGVyLmluaXRWaWV3KCk7dGhpcy5maWVsZEdyb3VwXyYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcImJsb2NrbHlOdW1iZXJGaWVsZFwiKX1zdGF0aWMgZnJvbUpzb24oYSl7cmV0dXJuIG5ldyB0aGlzKGEudmFsdWUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX251bWJlclwiLEZpZWxkTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbnVtYmVyKTtGaWVsZE51bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX251bWJlci5wcm90b3R5cGUuREVGQVVMVF9WQUxVRT0wO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbnVtYmVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9udW1iZXIuRmllbGROdW1iZXI9RmllbGROdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9udW1iZXI7dmFyIEZpZWxkTGFiZWxTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbF9zZXJpYWxpemFibGU9Y2xhc3MgZXh0ZW5kcyBGaWVsZExhYmVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWx7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKFN0cmluZyhhIT1udWxsP2E6XCJcIiksYixjKTt0aGlzLkVESVRBQkxFPSExO3RoaXMuU0VSSUFMSVpBQkxFPSEwfXN0YXRpYyBmcm9tSnNvbihhKXtyZXR1cm4gbmV3IHRoaXMocmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLnRleHQpLHZvaWQgMCxhKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoXCJmaWVsZF9sYWJlbF9zZXJpYWxpemFibGVcIixGaWVsZExhYmVsU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWxfc2VyaWFsaXphYmxlKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWxfc2VyaWFsaXphYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbF9zZXJpYWxpemFibGUuRmllbGRMYWJlbFNlcmlhbGl6YWJsZT1GaWVsZExhYmVsU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWxfc2VyaWFsaXphYmxlO3ZhciBGaWVsZENoZWNrYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3g9Y2xhc3MgZXh0ZW5kcyBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxke2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMuU0VSSUFMSVpBQkxFPSEwO3RoaXMudmFsdWVfPXRoaXMudmFsdWVfO3RoaXMuY2hlY2tDaGFyPUZpZWxkQ2hlY2tib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveC5DSEVDS19DSEFSO2EhPT1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVAmJihjJiZ0aGlzLmNvbmZpZ3VyZV8oYyksdGhpcy5zZXRWYWx1ZShhKSxiJiZ0aGlzLnNldFZhbGlkYXRvcihiKSl9Y29uZmlndXJlXyhhKXtzdXBlci5jb25maWd1cmVfKGEpO2EuY2hlY2tDaGFyYWN0ZXImJih0aGlzLmNoZWNrQ2hhcj1hLmNoZWNrQ2hhcmFjdGVyKX1zYXZlU3RhdGUoKXtjb25zdCBhPVxudGhpcy5zYXZlTGVnYWN5U3RhdGUoRmllbGRDaGVja2JveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94KTtyZXR1cm4gYSE9PW51bGw/YTp0aGlzLmdldFZhbHVlQm9vbGVhbigpfWluaXRWaWV3KCl7c3VwZXIuaW5pdFZpZXcoKTtjb25zdCBhPXRoaXMuZ2V0VGV4dEVsZW1lbnQoKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfLFwiYmxvY2tseUNoZWNrYm94RmllbGRcIik7YS5zdHlsZS5kaXNwbGF5PXRoaXMudmFsdWVfP1wiYmxvY2tcIjpcIm5vbmVcIn1yZW5kZXJfKCl7dGhpcy50ZXh0Q29udGVudF8mJih0aGlzLnRleHRDb250ZW50Xy5ub2RlVmFsdWU9dGhpcy5nZXREaXNwbGF5VGV4dF8oKSk7dGhpcy51cGRhdGVTaXplXyh0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0NIRUNLQk9YX1hfT0ZGU0VUKX1nZXREaXNwbGF5VGV4dF8oKXtyZXR1cm4gdGhpcy5jaGVja0NoYXJ9c2V0Q2hlY2tDaGFyYWN0ZXIoYSl7dGhpcy5jaGVja0NoYXI9XG5hfHxGaWVsZENoZWNrYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3guQ0hFQ0tfQ0hBUjt0aGlzLmZvcmNlUmVyZW5kZXIoKX1zaG93RWRpdG9yXygpe3RoaXMuc2V0VmFsdWUoIXRoaXMudmFsdWVfKX1kb0NsYXNzVmFsaWRhdGlvbl8oYSl7cmV0dXJuIGE9PT0hMHx8YT09PVwiVFJVRVwiP1wiVFJVRVwiOmE9PT0hMXx8YT09PVwiRkFMU0VcIj9cIkZBTFNFXCI6bnVsbH1kb1ZhbHVlVXBkYXRlXyhhKXt0aGlzLnZhbHVlXz10aGlzLmNvbnZlcnRWYWx1ZVRvQm9vbChhKTt0aGlzLnRleHRFbGVtZW50XyYmKHRoaXMudGV4dEVsZW1lbnRfLnN0eWxlLmRpc3BsYXk9dGhpcy52YWx1ZV8/XCJibG9ja1wiOlwibm9uZVwiKX1nZXRWYWx1ZSgpe3JldHVybiB0aGlzLnZhbHVlXz9cIlRSVUVcIjpcIkZBTFNFXCJ9Z2V0VmFsdWVCb29sZWFuKCl7cmV0dXJuIHRoaXMudmFsdWVffWdldFRleHQoKXtyZXR1cm4gU3RyaW5nKHRoaXMuY29udmVydFZhbHVlVG9Cb29sKHRoaXMudmFsdWVfKSl9Y29udmVydFZhbHVlVG9Cb29sKGEpe3JldHVybiB0eXBlb2YgYT09PVxuXCJzdHJpbmdcIj9hPT09XCJUUlVFXCI6ISFhfXN0YXRpYyBmcm9tSnNvbihhKXtyZXR1cm4gbmV3IHRoaXMoYS5jaGVja2VkLHZvaWQgMCxhKX19O0ZpZWxkQ2hlY2tib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveC5DSEVDS19DSEFSPVwiXFx1MjcxM1wiO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoXCJmaWVsZF9jaGVja2JveFwiLEZpZWxkQ2hlY2tib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveCk7RmllbGRDaGVja2JveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94LnByb3RvdHlwZS5ERUZBVUxUX1ZBTFVFPSExO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3g9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94LkZpZWxkQ2hlY2tib3g9RmllbGRDaGVja2JveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94O3ZhciBEcmFnZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckZHJhZ2dlcj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuZHJhZ2dhYmxlPWE7dGhpcy53b3Jrc3BhY2U9Yjt0aGlzLmRyYWdUYXJnZXQ9bnVsbDt0aGlzLnN0YXJ0TG9jPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpfW9uRHJhZ1N0YXJ0KGEpeyQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dGhpcy5kcmFnZ2FibGUuc3RhcnREcmFnKGEpfW9uRHJhZyhhLGIpe3RoaXMubW92ZURyYWdnYWJsZShhLGIpO2I9dGhpcy5nZXRSb290KHRoaXMuZHJhZ2dhYmxlKTtpc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUoYikmJmIuc2V0RGVsZXRlU3R5bGUodGhpcy53b3VsZERlbGV0ZURyYWdnYWJsZShhLGIpKTt0aGlzLnVwZGF0ZURyYWdUYXJnZXQoYSl9dXBkYXRlRHJhZ1RhcmdldChhKXthPVxudGhpcy53b3Jrc3BhY2UuZ2V0RHJhZ1RhcmdldChhKTtjb25zdCBiPXRoaXMuZ2V0Um9vdCh0aGlzLmRyYWdnYWJsZSk7aWYodGhpcy5kcmFnVGFyZ2V0IT09YSl7bGV0IGM7KGM9dGhpcy5kcmFnVGFyZ2V0KT09bnVsbHx8Yy5vbkRyYWdFeGl0KGIpO2E9PW51bGx8fGEub25EcmFnRW50ZXIoYil9YT09bnVsbHx8YS5vbkRyYWdPdmVyKGIpO3RoaXMuZHJhZ1RhcmdldD1hfW1vdmVEcmFnZ2FibGUoYSxiKXtiPXRoaXMucGl4ZWxzVG9Xb3Jrc3BhY2VVbml0cyhiKTtiPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0TG9jLGIpO3RoaXMuZHJhZ2dhYmxlLmRyYWcoYixhKX13b3VsZERlbGV0ZURyYWdnYWJsZShhLGIpe3JldHVybihhPXRoaXMud29ya3NwYWNlLmdldERyYWdUYXJnZXQoYSkpJiZ0aGlzLndvcmtzcGFjZS5nZXRDb21wb25lbnRNYW5hZ2VyKCkuaGFzQ2FwYWJpbGl0eShhLmlkLENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkRFTEVURV9BUkVBKT9cbmEud291bGREZWxldGUoYik6ITF9b25EcmFnRW5kKGEpe2NvbnN0IGI9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO3ZhciBjPXRoaXMud29ya3NwYWNlLmdldERyYWdUYXJnZXQoYSk7Y29uc3QgZD10aGlzLmdldFJvb3QodGhpcy5kcmFnZ2FibGUpO2lmKGMpe2xldCBlOyhlPXRoaXMuZHJhZ1RhcmdldCk9PW51bGx8fGUub25Ecm9wKGQpfXRoaXMuc2hvdWxkUmV0dXJuVG9TdGFydChhLGQpJiZ0aGlzLmRyYWdnYWJsZS5yZXZlcnREcmFnKCk7KGM9aXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGQpJiZ0aGlzLndvdWxkRGVsZXRlRHJhZ2dhYmxlKGEsZCkpJiZ0aGlzLmRyYWdnYWJsZSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnJiZkaXNwb3NlVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKHRoaXMuZHJhZ2dhYmxlLmdldFJvb3RCbG9jaygpKTtcbnRoaXMuZHJhZ2dhYmxlLmVuZERyYWcoYSk7YyYmaXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGQpJiYoJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiKSxkLmRpc3Bvc2UoKSk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSk7IWMmJmlzRm9jdXNhYmxlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZSh0aGlzLmRyYWdnYWJsZSkmJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzLmRyYWdnYWJsZSl9Z2V0Um9vdChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnP2EuZ2V0Um9vdEJsb2NrKCk6YX1zaG91bGRSZXR1cm5Ub1N0YXJ0KGEsYil7cmV0dXJuKGE9XG50aGlzLndvcmtzcGFjZS5nZXREcmFnVGFyZ2V0KGEpKT9hLnNob3VsZFByZXZlbnRNb3ZlKGIpOiExfXBpeGVsc1RvV29ya3NwYWNlVW5pdHMoYSl7YT1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS54L3RoaXMud29ya3NwYWNlLnNjYWxlLGEueS90aGlzLndvcmtzcGFjZS5zY2FsZSk7dGhpcy53b3Jrc3BhY2UuaXNNdXRhdG9yJiZhLnNjYWxlKDEvdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2Uuc2NhbGUpO3JldHVybiBhfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQkxPQ0tfRFJBR0dFUixERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksRHJhZ2dlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGRyYWdnZXIpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRkcmFnZ2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRkcmFnZ2VyLkRyYWdnZXI9RHJhZ2dlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGRyYWdnZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmcuQmxvY2tEcmFnU3RyYXRlZ3k9QmxvY2tEcmFnU3RyYXRlZ3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRibG9ja19kcmFnX3N0cmF0ZWd5O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZy5CdWJibGVEcmFnU3RyYXRlZ3k9QnViYmxlRHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYnViYmxlX2RyYWdfc3RyYXRlZ3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nLkNvbW1lbnREcmFnU3RyYXRlZ3k9Q29tbWVudERyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGNvbW1lbnRfZHJhZ19zdHJhdGVneTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmcuRHJhZ2dlcj1EcmFnZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckZHJhZ2dlcjt2YXIgQmxvY2tEcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kcmFnPWNsYXNzIGV4dGVuZHMgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNle2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhP2Eud29ya3NwYWNlLmlkOnZvaWQgMCk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RSQUc7YSYmKHRoaXMuYmxvY2tJZD1hLmlkLHRoaXMuaXNTdGFydD1iLHRoaXMuYmxvY2tzPWMpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy5pc1N0YXJ0PT09dm9pZCAwKXRocm93IEVycm9yKFwiV2hldGhlciB0aGlzIGV2ZW50IGlzIHRoZSBzdGFydCBvZiBhIGRyYWcgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyB0aGUgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKHRoaXMuYmxvY2tJZD09PVxudm9pZCAwKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YS5pc1N0YXJ0PXRoaXMuaXNTdGFydDthLmJsb2NrSWQ9dGhpcy5ibG9ja0lkO2EuYmxvY2tzPXRoaXMuYmxvY2tzO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBCbG9ja0RyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RyYWcpO2IuaXNTdGFydD1hLmlzU3RhcnQ7Yi5ibG9ja0lkPWEuYmxvY2tJZDtiLmJsb2Nrcz1hLmJsb2NrcztyZXR1cm4gYn19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRFJBRyxCbG9ja0RyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RyYWcpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kcmFnPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RyYWcuQmxvY2tEcmFnPUJsb2NrRHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZHJhZzt2YXIgQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZT1jbGFzcyBleHRlbmRzIEJsb2NrQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfYmFzZXtjb25zdHJ1Y3RvcihhLGIsYyxkKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRTt0aGlzLnJlY29yZFVuZG89ITE7YSYmKHRoaXMubmFtZT1iLHRoaXMub2xkVmFsdWU9Yyx0aGlzLm5ld1ZhbHVlPWQpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYoIXRoaXMubmFtZSl0aHJvdyBFcnJvcihcIlRoZSBjaGFuZ2VkIGZpZWxkIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIG5hbWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uLlwiKTtcbmEubmFtZT10aGlzLm5hbWU7YS5vbGRWYWx1ZT10aGlzLm9sZFZhbHVlO2EubmV3VmFsdWU9dGhpcy5uZXdWYWx1ZTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZSk7Yi5uYW1lPWEubmFtZTtiLm9sZFZhbHVlPWEub2xkVmFsdWU7Yi5uZXdWYWx1ZT1hLm5ld1ZhbHVlO3JldHVybiBifWlzTnVsbCgpe3JldHVybiB0aGlzLm9sZFZhbHVlPT09dGhpcy5uZXdWYWx1ZX1ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5ibG9ja0lkKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5iPWIuZ2V0QmxvY2tCeUlkKHRoaXMuYmxvY2tJZCk7aWYoIWIpdGhyb3cgRXJyb3IoXCJUaGUgYXNzb2NpYXRlZCBibG9jayBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2E9YT90aGlzLm5ld1ZhbHVlOnRoaXMub2xkVmFsdWU7KGI9Yi5nZXRGaWVsZCh0aGlzLm5hbWUpKT9iLnNldFZhbHVlKGEpOmNvbnNvbGUud2FybihcIkNhbid0IHNldCBub24tZXhpc3RlbnQgZmllbGQ6IFwiK3RoaXMubmFtZSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFLEJsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2ZpZWxkX2ludGVybWVkaWF0ZV9jaGFuZ2UpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2ZpZWxkX2ludGVybWVkaWF0ZV9jaGFuZ2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZS5CbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlPUJsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2ZpZWxkX2ludGVybWVkaWF0ZV9jaGFuZ2U7dmFyIEJsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfbW92ZT1jbGFzcyBleHRlbmRzIEJsb2NrQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRTthJiYoYS5pc1NoYWRvdygpJiYodGhpcy5yZWNvcmRVbmRvPSExKSxhPXRoaXMuY3VycmVudExvY2F0aW9uKCksdGhpcy5vbGRQYXJlbnRJZD1hLnBhcmVudElkLHRoaXMub2xkSW5wdXROYW1lPWEuaW5wdXROYW1lLHRoaXMub2xkQ29vcmRpbmF0ZT1hLmNvb3JkaW5hdGUpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7YS5vbGRQYXJlbnRJZD10aGlzLm9sZFBhcmVudElkO2Eub2xkSW5wdXROYW1lPXRoaXMub2xkSW5wdXROYW1lO3RoaXMub2xkQ29vcmRpbmF0ZSYmKGEub2xkQ29vcmRpbmF0ZT1cbmAke01hdGgucm91bmQodGhpcy5vbGRDb29yZGluYXRlLngpfSwgYCtgJHtNYXRoLnJvdW5kKHRoaXMub2xkQ29vcmRpbmF0ZS55KX1gKTthLm5ld1BhcmVudElkPXRoaXMubmV3UGFyZW50SWQ7YS5uZXdJbnB1dE5hbWU9dGhpcy5uZXdJbnB1dE5hbWU7dGhpcy5uZXdDb29yZGluYXRlJiYoYS5uZXdDb29yZGluYXRlPWAke01hdGgucm91bmQodGhpcy5uZXdDb29yZGluYXRlLngpfSwgYCtgJHtNYXRoLnJvdW5kKHRoaXMubmV3Q29vcmRpbmF0ZS55KX1gKTt0aGlzLnJlYXNvbiYmKGEucmVhc29uPXRoaXMucmVhc29uKTt0aGlzLnJlY29yZFVuZG98fChhLnJlY29yZFVuZG89dGhpcy5yZWNvcmRVbmRvKTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19tb3ZlKTtiLm9sZFBhcmVudElkPWEub2xkUGFyZW50SWQ7Yi5vbGRJbnB1dE5hbWU9XG5hLm9sZElucHV0TmFtZTthLm9sZENvb3JkaW5hdGUmJihjPWEub2xkQ29vcmRpbmF0ZS5zcGxpdChcIixcIiksYi5vbGRDb29yZGluYXRlPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShOdW1iZXIoY1swXSksTnVtYmVyKGNbMV0pKSk7Yi5uZXdQYXJlbnRJZD1hLm5ld1BhcmVudElkO2IubmV3SW5wdXROYW1lPWEubmV3SW5wdXROYW1lO2EubmV3Q29vcmRpbmF0ZSYmKGM9YS5uZXdDb29yZGluYXRlLnNwbGl0KFwiLFwiKSxiLm5ld0Nvb3JkaW5hdGU9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKE51bWJlcihjWzBdKSxOdW1iZXIoY1sxXSkpKTthLnJlYXNvbiE9PXZvaWQgMCYmKGIucmVhc29uPWEucmVhc29uKTthLnJlY29yZFVuZG8hPT12b2lkIDAmJihiLnJlY29yZFVuZG89YS5yZWNvcmRVbmRvKTtyZXR1cm4gYn1yZWNvcmROZXcoKXtjb25zdCBhPXRoaXMuY3VycmVudExvY2F0aW9uKCk7XG50aGlzLm5ld1BhcmVudElkPWEucGFyZW50SWQ7dGhpcy5uZXdJbnB1dE5hbWU9YS5pbnB1dE5hbWU7dGhpcy5uZXdDb29yZGluYXRlPWEuY29vcmRpbmF0ZX1zZXRSZWFzb24oYSl7dGhpcy5yZWFzb249YX1jdXJyZW50TG9jYXRpb24oKXt2YXIgYT10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmJsb2NrSWQpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTt2YXIgYj1hLmdldEJsb2NrQnlJZCh0aGlzLmJsb2NrSWQpO2lmKCFiKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYmxvY2sgbW92ZSBldmVudCBjb3VsZCBub3QgYmUgZm91bmRcIik7YT17fTtjb25zdCBjPWIuZ2V0UGFyZW50KCk7aWYoYyl7aWYoYS5wYXJlbnRJZD1jLmlkLGI9Yy5nZXRJbnB1dFdpdGhCbG9jayhiKSlhLmlucHV0TmFtZT1iLm5hbWV9ZWxzZSBhLmNvb3JkaW5hdGU9XG5iLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtyZXR1cm4gYX1pc051bGwoKXtyZXR1cm4gdGhpcy5vbGRQYXJlbnRJZD09PXRoaXMubmV3UGFyZW50SWQmJnRoaXMub2xkSW5wdXROYW1lPT09dGhpcy5uZXdJbnB1dE5hbWUmJkNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmVxdWFscyh0aGlzLm9sZENvb3JkaW5hdGUsdGhpcy5uZXdDb29yZGluYXRlKX1ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5ibG9ja0lkKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7dmFyIGM9Yi5nZXRCbG9ja0J5SWQodGhpcy5ibG9ja0lkKTtpZihjKXt2YXIgZD1hP3RoaXMubmV3UGFyZW50SWQ6dGhpcy5vbGRQYXJlbnRJZCxlPWE/dGhpcy5uZXdJbnB1dE5hbWU6dGhpcy5vbGRJbnB1dE5hbWU7XG5hPWE/dGhpcy5uZXdDb29yZGluYXRlOnRoaXMub2xkQ29vcmRpbmF0ZTtpZihkKXt2YXIgZj1iLmdldEJsb2NrQnlJZChkKTtpZighZil7Y29uc29sZS53YXJuKFwiQ2FuJ3QgY29ubmVjdCB0byBub24tZXhpc3RlbnQgYmxvY2s6IFwiK2QpO3JldHVybn19Yy5nZXRQYXJlbnQoKSYmYy51bnBsdWcoKTtpZihhKWU9Yy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksYy5tb3ZlQnkoYS54LWUueCxhLnktZS55LHRoaXMucmVhc29uKTtlbHNle2I9Yy5vdXRwdXRDb25uZWN0aW9uO2lmKCFifHxjLnByZXZpb3VzQ29ubmVjdGlvbiYmYy5wcmV2aW91c0Nvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSliPWMucHJldmlvdXNDb25uZWN0aW9uO2xldCBnLGg7Yz0oaD1iKT09bnVsbD92b2lkIDA6aC50eXBlO2lmKGUpe2lmKGM9Zi5nZXRJbnB1dChlKSlnPWMuY29ubmVjdGlvbn1lbHNlIGM9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5QUkVWSU9VU19TVEFURU1FTlQmJlxuKGc9Zi5uZXh0Q29ubmVjdGlvbik7ZyYmYj9iLmNvbm5lY3QoZyk6Y29uc29sZS53YXJuKFwiQ2FuJ3QgY29ubmVjdCB0byBub24tZXhpc3RlbnQgaW5wdXQ6IFwiK2UpfX1lbHNlIGNvbnNvbGUud2FybihcIkNhbid0IG1vdmUgbm9uLWV4aXN0ZW50IGJsb2NrOiBcIit0aGlzLmJsb2NrSWQpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRSxCbG9ja01vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX21vdmUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19tb3ZlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX21vdmUuQmxvY2tNb3ZlPUJsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfbW92ZTt2YXIgQnViYmxlT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW49Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGE/YS53b3Jrc3BhY2UuaWQ6dm9pZCAwKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQlVCQkxFX09QRU47YSYmKHRoaXMuYmxvY2tJZD1hLmlkLHRoaXMuaXNPcGVuPWIsdGhpcy5idWJibGVUeXBlPWMpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy5pc09wZW49PT12b2lkIDApdGhyb3cgRXJyb3IoXCJXaGV0aGVyIHRoaXMgZXZlbnQgaXMgZm9yIG9wZW5pbmcgdGhlIGJ1YmJsZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIHRoZSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMuYnViYmxlVHlwZSl0aHJvdyBFcnJvcihcIlRoZSB0eXBlIG9mIGJ1YmJsZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIHRoZSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5hLmlzT3Blbj10aGlzLmlzT3BlbjthLmJ1YmJsZVR5cGU9dGhpcy5idWJibGVUeXBlO2EuYmxvY2tJZD10aGlzLmJsb2NrSWR8fFwiXCI7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IEJ1YmJsZU9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuKTtiLmlzT3Blbj1hLmlzT3BlbjtiLmJ1YmJsZVR5cGU9YS5idWJibGVUeXBlO2IuYmxvY2tJZD1hLmJsb2NrSWQ7cmV0dXJuIGJ9fSxCdWJibGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3BlbjtcbihmdW5jdGlvbihhKXthLk1VVEFUT1I9XCJtdXRhdG9yXCI7YS5DT01NRU5UPVwiY29tbWVudFwiO2EuV0FSTklORz1cIndhcm5pbmdcIn0pKEJ1YmJsZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVufHwoQnViYmxlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW49e30pKTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CVUJCTEVfT1BFTixCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW4uQnViYmxlT3Blbj1CdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbi5CdWJibGVUeXBlPUJ1YmJsZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuO3ZhciBDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNlPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0e2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5pc0JsYW5rPSFhO2EmJih0aGlzLmNvbW1lbnRJZD1hLmlkLHRoaXMud29ya3NwYWNlSWQ9YS53b3Jrc3BhY2UuaWQsdGhpcy5ncm91cD0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCksdGhpcy5yZWNvcmRVbmRvPWdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy5jb21tZW50SWQpdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5hLmNvbW1lbnRJZD10aGlzLmNvbW1lbnRJZDtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQ29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZSk7Yi5jb21tZW50SWQ9YS5jb21tZW50SWQ7cmV0dXJuIGJ9c3RhdGljIENvbW1lbnRDcmVhdGVEZWxldGVIZWxwZXIoYSxiKXtjb25zdCBjPWEuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoYil7aWYoIWEuanNvbil0aHJvdyBFcnJvcihcIkVuY291bnRlcmVkIGEgY29tbWVudCBldmVudCB3aXRob3V0IHByb3BlciBqc29uXCIpO2FwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzKGEuanNvbixjKX1lbHNle2lmKCFhLmNvbW1lbnRJZCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbihiPWMuZ2V0Q29tbWVudEJ5SWQoYS5jb21tZW50SWQpKT9iLmRpc3Bvc2UoKTpjb25zb2xlLndhcm4oXCJDYW4ndCBkZWxldGUgbm9uLWV4aXN0ZW50IGNvbW1lbnQ6IFwiK2EuY29tbWVudElkKX19fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNlLkNvbW1lbnRCYXNlPUNvbW1lbnRCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2U7dmFyIENvbW1lbnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY2hhbmdlPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZXtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ0hBTkdFO2EmJih0aGlzLm9sZENvbnRlbnRzXz10eXBlb2YgYj09PVwidW5kZWZpbmVkXCI/XCJcIjpiLHRoaXMubmV3Q29udGVudHNfPXR5cGVvZiBjPT09XCJ1bmRlZmluZWRcIj9cIlwiOmMpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYoIXRoaXMub2xkQ29udGVudHNfKXRocm93IEVycm9yKFwiVGhlIG9sZCBjb250ZW50cyBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLm5ld0NvbnRlbnRzXyl0aHJvdyBFcnJvcihcIlRoZSBuZXcgY29udGVudHMgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEub2xkQ29udGVudHM9dGhpcy5vbGRDb250ZW50c187YS5uZXdDb250ZW50cz10aGlzLm5ld0NvbnRlbnRzXztyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQ29tbWVudENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jaGFuZ2UpO2Iub2xkQ29udGVudHNfPWEub2xkQ29udGVudHM7Yi5uZXdDb250ZW50c189YS5uZXdDb250ZW50cztyZXR1cm4gYn1pc051bGwoKXtyZXR1cm4gdGhpcy5vbGRDb250ZW50c189PT10aGlzLm5ld0NvbnRlbnRzX31ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5jb21tZW50SWQpdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoYj1iLmdldENvbW1lbnRCeUlkKHRoaXMuY29tbWVudElkKSl7dmFyIGM9XG5hP3RoaXMubmV3Q29udGVudHNfOnRoaXMub2xkQ29udGVudHNfO2lmKGM9PT12b2lkIDApe2lmKGEpdGhyb3cgRXJyb3IoXCJUaGUgbmV3IGNvbnRlbnRzIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7dGhyb3cgRXJyb3IoXCJUaGUgb2xkIGNvbnRlbnRzIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7fWIuc2V0VGV4dChjKX1lbHNlIGNvbnNvbGUud2FybihcIkNhbid0IGNoYW5nZSBub24tZXhpc3RlbnQgY29tbWVudDogXCIrdGhpcy5jb21tZW50SWQpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DSEFOR0UsQ29tbWVudENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jaGFuZ2UpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY2hhbmdlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY2hhbmdlLkNvbW1lbnRDaGFuZ2U9Q29tbWVudENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jaGFuZ2U7dmFyIENvbW1lbnRDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jb2xsYXBzZT1jbGFzcyBleHRlbmRzIENvbW1lbnRCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLm5ld0NvbGxhcHNlZD1iO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NPTExBUFNFfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy5uZXdDb2xsYXBzZWQ9PT12b2lkIDApdGhyb3cgRXJyb3IoXCJUaGUgbmV3IGNvbGxhcHNlIHZhbHVlIHVuZGVmaW5lZC4gRWl0aGVyIGNhbGwgcmVjb3JkTmV3LCBvciBjYWxsIGZyb21Kc29uXCIpO2EubmV3Q29sbGFwc2VkPXRoaXMubmV3Q29sbGFwc2VkO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLFxuYixjIT1udWxsP2M6bmV3IENvbW1lbnRDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jb2xsYXBzZSk7Yi5uZXdDb2xsYXBzZWQ9YS5uZXdDb2xsYXBzZWQ7cmV0dXJuIGJ9cnVuKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMuY29tbWVudElkKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpOyhiPWIuZ2V0Q29tbWVudEJ5SWQodGhpcy5jb21tZW50SWQpKT9iLnNldENvbGxhcHNlZChhPyEhdGhpcy5uZXdDb2xsYXBzZWQ6IXRoaXMubmV3Q29sbGFwc2VkKTpjb25zb2xlLndhcm4oXCJDYW4ndCBjb2xsYXBzZSBvciB1bmNvbGxhcHNlIG5vbi1leGlzdGVudCBjb21tZW50OiBcIit0aGlzLmNvbW1lbnRJZCl9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ09MTEFQU0UsQ29tbWVudENvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NvbGxhcHNlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jb2xsYXBzZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NvbGxhcHNlLkNvbW1lbnRDb2xsYXBzZT1Db21tZW50Q29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY29sbGFwc2U7dmFyIENvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY3JlYXRlPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DUkVBVEU7YSYmKHRoaXMueG1sPXNhdmVXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpLHRoaXMuanNvbj1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMoYSx7YWRkQ29vcmRpbmF0ZXM6ITB9KSl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy54bWwpdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBYTUwgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuaWYoIXRoaXMuanNvbil0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IEpTT04gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnhtbD1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwodGhpcy54bWwpO2EuanNvbj10aGlzLmpzb247cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IENvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY3JlYXRlKTtiLnhtbD0kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhLnhtbCk7Yi5qc29uPWEuanNvbjtyZXR1cm4gYn1ydW4oYSl7Q29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZS5Db21tZW50Q3JlYXRlRGVsZXRlSGVscGVyKHRoaXMsXG5hKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ1JFQVRFLENvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY3JlYXRlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jcmVhdGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jcmVhdGUuQ29tbWVudENyZWF0ZT1Db21tZW50Q3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NyZWF0ZTt2YXIgQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kZWxldGU9Y2xhc3MgZXh0ZW5kcyBDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RFTEVURTthJiYodGhpcy54bWw9c2F2ZVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSksdGhpcy5qc29uPXNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cyhhLHthZGRDb29yZGluYXRlczohMH0pKX1ydW4oYSl7Q29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZS5Db21tZW50Q3JlYXRlRGVsZXRlSGVscGVyKHRoaXMsIWEpfXRvSnNvbigpe2NvbnN0IGE9XG5zdXBlci50b0pzb24oKTtpZighdGhpcy54bWwpdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBYTUwgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLmpzb24pdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBKU09OIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YS54bWw9ZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKHRoaXMueG1sKTthLmpzb249dGhpcy5qc29uO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RlbGV0ZSk7Yi54bWw9JC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYS54bWwpO1xuYi5qc29uPWEuanNvbjtyZXR1cm4gYn19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfREVMRVRFLENvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZGVsZXRlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kZWxldGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kZWxldGUuQ29tbWVudERlbGV0ZT1Db21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RlbGV0ZTt2YXIgQ29tbWVudERyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZHJhZz1jbGFzcyBleHRlbmRzIFVpQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGE/YS53b3Jrc3BhY2UuaWQ6dm9pZCAwKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9EUkFHO2EmJih0aGlzLmNvbW1lbnRJZD1hLmlkLHRoaXMuaXNTdGFydD1iKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKHRoaXMuaXNTdGFydD09PXZvaWQgMCl0aHJvdyBFcnJvcihcIldoZXRoZXIgdGhpcyBldmVudCBpcyB0aGUgc3RhcnQgb2YgYSBkcmFnIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgdGhlIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZih0aGlzLmNvbW1lbnRJZD09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEuaXNTdGFydD10aGlzLmlzU3RhcnQ7YS5jb21tZW50SWQ9dGhpcy5jb21tZW50SWQ7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IENvbW1lbnREcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RyYWcpO2IuaXNTdGFydD1hLmlzU3RhcnQ7Yi5jb21tZW50SWQ9YS5jb21tZW50SWQ7cmV0dXJuIGJ9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RSQUcsQ29tbWVudERyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZHJhZyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZHJhZz17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZHJhZy5Db21tZW50RHJhZz1Db21tZW50RHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kcmFnO3ZhciBDb21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFO2EmJih0aGlzLmNvbW1lbnRfPWEsdGhpcy5vbGRDb29yZGluYXRlXz1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSl9cmVjb3JkTmV3KCl7aWYodGhpcy5uZXdDb29yZGluYXRlXyl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIHJlY29yZCB0aGUgbmV3IHBvc2l0aW9uIG9mIGEgY29tbWVudCBvbiB0aGUgc2FtZSBldmVudCB0d2ljZS5cIik7aWYoIXRoaXMuY29tbWVudF8pdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBpcyB1bmRlZmluZWQuIFBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3RvciBpZiB5b3Ugd2FudCB0byB1c2UgdGhlIHJlY29yZCBmdW5jdGlvbmFsaXR5XCIpO1xudGhpcy5uZXdDb29yZGluYXRlXz10aGlzLmNvbW1lbnRfLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKX1zZXRSZWFzb24oYSl7dGhpcy5yZWFzb249YX1zZXRPbGRDb29yZGluYXRlKGEpe3RoaXMub2xkQ29vcmRpbmF0ZV89YX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLm9sZENvb3JkaW5hdGVfKXRocm93IEVycm9yKFwiVGhlIG9sZCBjb21tZW50IHBvc2l0aW9uIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5uZXdDb29yZGluYXRlXyl0aHJvdyBFcnJvcihcIlRoZSBuZXcgY29tbWVudCBwb3NpdGlvbiBpcyB1bmRlZmluZWQuIEVpdGhlciBjYWxsIHJlY29yZE5ldywgb3IgY2FsbCBmcm9tSnNvblwiKTthLm9sZENvb3JkaW5hdGU9YCR7TWF0aC5yb3VuZCh0aGlzLm9sZENvb3JkaW5hdGVfLngpfSwgYCtgJHtNYXRoLnJvdW5kKHRoaXMub2xkQ29vcmRpbmF0ZV8ueSl9YDtcbmEubmV3Q29vcmRpbmF0ZT1NYXRoLnJvdW5kKHRoaXMubmV3Q29vcmRpbmF0ZV8ueCkrXCIsXCIrTWF0aC5yb3VuZCh0aGlzLm5ld0Nvb3JkaW5hdGVfLnkpO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBDb21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlKTtjPWEub2xkQ29vcmRpbmF0ZS5zcGxpdChcIixcIik7Yi5vbGRDb29yZGluYXRlXz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoTnVtYmVyKGNbMF0pLE51bWJlcihjWzFdKSk7Yz1hLm5ld0Nvb3JkaW5hdGUuc3BsaXQoXCIsXCIpO2IubmV3Q29vcmRpbmF0ZV89bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKE51bWJlcihjWzBdKSxOdW1iZXIoY1sxXSkpO3JldHVybiBifWlzTnVsbCgpe3JldHVybiBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5lcXVhbHModGhpcy5vbGRDb29yZGluYXRlXyxcbnRoaXMubmV3Q29vcmRpbmF0ZV8pfXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmNvbW1lbnRJZCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZihiPWIuZ2V0Q29tbWVudEJ5SWQodGhpcy5jb21tZW50SWQpKXthPWE/dGhpcy5uZXdDb29yZGluYXRlXzp0aGlzLm9sZENvb3JkaW5hdGVfO2lmKCFhKXRocm93IEVycm9yKFwiRWl0aGVyIG9sZENvb3JkaW5hdGVfIG9yIG5ld0Nvb3JkaW5hdGVfIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3RvciBhbmQgY2FsbCByZWNvcmROZXcsIG9yIGNhbGwgZnJvbUpzb25cIik7Yi5tb3ZlVG8oYSl9ZWxzZSBjb25zb2xlLndhcm4oXCJDYW4ndCBtb3ZlIG5vbi1leGlzdGVudCBjb21tZW50OiBcIit0aGlzLmNvbW1lbnRJZCl9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfTU9WRSxDb21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfbW92ZS5Db21tZW50TW92ZT1Db21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlO3ZhciBDb21tZW50UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X3Jlc2l6ZT1jbGFzcyBleHRlbmRzIENvbW1lbnRCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfUkVTSVpFO2EmJih0aGlzLm9sZFNpemU9YS5nZXRTaXplKCkpfXJlY29yZEN1cnJlbnRTaXplQXNOZXdTaXplKCl7aWYodGhpcy5uZXdTaXplKXRocm93IEVycm9yKFwiVHJpZWQgdG8gcmVjb3JkIHRoZSBuZXcgc2l6ZSBvZiBhIGNvbW1lbnQgb24gdGhlIHNhbWUgZXZlbnQgdHdpY2UuXCIpO3ZhciBhPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMuY29tbWVudElkKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuYT1hLmdldENvbW1lbnRCeUlkKHRoaXMuY29tbWVudElkKTtpZighYSl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgY29tbWVudCByZXNpemUgZXZlbnQgY291bGQgbm90IGJlIGZvdW5kXCIpO3RoaXMubmV3U2l6ZT1hLmdldFNpemUoKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLm9sZFNpemUpdGhyb3cgRXJyb3IoXCJUaGUgb2xkIGNvbW1lbnQgc2l6ZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMubmV3U2l6ZSl0aHJvdyBFcnJvcihcIlRoZSBuZXcgY29tbWVudCBzaXplIGlzIHVuZGVmaW5lZC4gRWl0aGVyIGNhbGwgcmVjb3JkQ3VycmVudFNpemVBc05ld1NpemUsIG9yIGNhbGwgZnJvbUpzb25cIik7YS5vbGRXaWR0aD1NYXRoLnJvdW5kKHRoaXMub2xkU2l6ZS53aWR0aCk7YS5vbGRIZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLm9sZFNpemUuaGVpZ2h0KTtcbmEubmV3V2lkdGg9TWF0aC5yb3VuZCh0aGlzLm5ld1NpemUud2lkdGgpO2EubmV3SGVpZ2h0PU1hdGgucm91bmQodGhpcy5uZXdTaXplLmhlaWdodCk7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IENvbW1lbnRSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfcmVzaXplKTtiLm9sZFNpemU9bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGEub2xkV2lkdGgsYS5vbGRIZWlnaHQpO2IubmV3U2l6ZT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYS5uZXdXaWR0aCxhLm5ld0hlaWdodCk7cmV0dXJuIGJ9aXNOdWxsKCl7cmV0dXJuIFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplLmVxdWFscyh0aGlzLm9sZFNpemUsdGhpcy5uZXdTaXplKX1ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtcbmlmKCF0aGlzLmNvbW1lbnRJZCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZihiPWIuZ2V0Q29tbWVudEJ5SWQodGhpcy5jb21tZW50SWQpKXthPWE/dGhpcy5uZXdTaXplOnRoaXMub2xkU2l6ZTtpZighYSl0aHJvdyBFcnJvcihcIkVpdGhlciBvbGRTaXplIG9yIG5ld1NpemUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yIGFuZCBjYWxsIHJlY29yZEN1cnJlbnRTaXplQXNOZXdTaXplLCBvciBjYWxsIGZyb21Kc29uXCIpO2Iuc2V0U2l6ZShhKX1lbHNlIGNvbnNvbGUud2FybihcIkNhbid0IHJlc2l6ZSBub24tZXhpc3RlbnQgY29tbWVudDogXCIrdGhpcy5jb21tZW50SWQpfX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX1JFU0laRSxDb21tZW50UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X3Jlc2l6ZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfcmVzaXplPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfcmVzaXplLkNvbW1lbnRSZXNpemU9Q29tbWVudFJlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9yZXNpemU7dmFyIFRvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190b29sYm94X2l0ZW1fc2VsZWN0PWNsYXNzIGV4dGVuZHMgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNle2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihjKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVE9PTEJPWF9JVEVNX1NFTEVDVDt0aGlzLm9sZEl0ZW09YSE9bnVsbD9hOnZvaWQgMDt0aGlzLm5ld0l0ZW09YiE9bnVsbD9iOnZvaWQgMH10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2Eub2xkSXRlbT10aGlzLm9sZEl0ZW07YS5uZXdJdGVtPXRoaXMubmV3SXRlbTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVG9vbGJveEl0ZW1TZWxlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Rvb2xib3hfaXRlbV9zZWxlY3QpO1xuYi5vbGRJdGVtPWEub2xkSXRlbTtiLm5ld0l0ZW09YS5uZXdJdGVtO3JldHVybiBifX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVE9PTEJPWF9JVEVNX1NFTEVDVCxUb29sYm94SXRlbVNlbGVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdG9vbGJveF9pdGVtX3NlbGVjdCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Rvb2xib3hfaXRlbV9zZWxlY3Q9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdG9vbGJveF9pdGVtX3NlbGVjdC5Ub29sYm94SXRlbVNlbGVjdD1Ub29sYm94SXRlbVNlbGVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdG9vbGJveF9pdGVtX3NlbGVjdDt2YXIgVmFyVHlwZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3R5cGVfY2hhbmdlPWNsYXNzIGV4dGVuZHMgVmFyQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGEpO3RoaXMub2xkVHlwZT1iO3RoaXMubmV3VHlwZT1jO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfVFlQRV9DSEFOR0V9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy5vbGRUeXBlfHwhdGhpcy5uZXdUeXBlKXRocm93IEVycm9yKFwiVGhlIHZhcmlhYmxlJ3MgdHlwZXMgYXJlIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgdGhlbSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YS5vbGRUeXBlPXRoaXMub2xkVHlwZTthLm5ld1R5cGU9dGhpcy5uZXdUeXBlO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLFxuYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IFZhclR5cGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl90eXBlX2NoYW5nZSk7Yi5vbGRUeXBlPWEub2xkVHlwZTtiLm5ld1R5cGU9YS5uZXdUeXBlO3JldHVybiBifXJ1bihhKXtjb25zdCBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMudmFySWQpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMub2xkVHlwZXx8IXRoaXMubmV3VHlwZSl0aHJvdyBFcnJvcihcIlRoZSB2YXJpYWJsZSdzIHR5cGVzIGFyZSB1bmRlZmluZWQuIEVpdGhlciBwYXNzIHRoZW0gdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2NvbnN0IGM9Yi5nZXRWYXJpYWJsZU1hcCgpLmdldFZhcmlhYmxlQnlJZCh0aGlzLnZhcklkKTtcbmMmJihhP2IuZ2V0VmFyaWFibGVNYXAoKS5jaGFuZ2VWYXJpYWJsZVR5cGUoYyx0aGlzLm5ld1R5cGUpOmIuZ2V0VmFyaWFibGVNYXAoKS5jaGFuZ2VWYXJpYWJsZVR5cGUoYyx0aGlzLm9sZFR5cGUpKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9UWVBFX0NIQU5HRSxWYXJUeXBlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfdHlwZV9jaGFuZ2UpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfdHlwZV9jaGFuZ2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3R5cGVfY2hhbmdlLlZhclR5cGVDaGFuZ2U9VmFyVHlwZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3R5cGVfY2hhbmdlO3ZhciBGaW5pc2hlZExvYWRpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkd29ya3NwYWNlX2V2ZW50cz1jbGFzcyBleHRlbmRzIEFic3RyYWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdHtjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMuaXNCbGFuaz0hMDt0aGlzLnJlY29yZFVuZG89ITE7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkZJTklTSEVEX0xPQURJTkc7dGhpcy5pc0JsYW5rPSEhYTthJiYodGhpcy53b3Jrc3BhY2VJZD1hLmlkKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkZJTklTSEVEX0xPQURJTkcsRmluaXNoZWRMb2FkaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHdvcmtzcGFjZV9ldmVudHMpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkd29ya3NwYWNlX2V2ZW50cz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHdvcmtzcGFjZV9ldmVudHMuRmluaXNoZWRMb2FkaW5nPUZpbmlzaGVkTG9hZGluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR3b3Jrc3BhY2VfZXZlbnRzO3ZhciBCTE9DS19EUkFHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxCTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxCVUJCTEVfT1BFTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxDTElDSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsQ09NTUVOVF9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLENPTU1FTlRfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxDT01NRU5UX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsQ09NTUVOVF9NT1ZFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxDT01NRU5UX1JFU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsXG5DT01NRU5UX0RSQUckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLENSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxGSU5JU0hFRF9MT0FESU5HJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxNT1ZFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxTRUxFQ1RFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsVEhFTUVfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxUT09MQk9YX0lURU1fU0VMRUNUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxUUkFTSENBTl9PUEVOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxVSSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsVkFSX0NSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsXG5WQVJfREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxWQVJfUkVOQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxWSUVXUE9SVF9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzOyQuQkxPQ0tfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0U7JC5CTE9DS19DUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURTskLkJMT0NLX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfREVMRVRFO1xuQkxPQ0tfRFJBRyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRFJBRzskLkJMT0NLX01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkU7QkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRTtCVUJCTEVfT1BFTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQlVCQkxFX09QRU47XG5DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRTtDTElDSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ0xJQ0s7Q09NTUVOVF9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ0hBTkdFO0NPTU1FTlRfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NSRUFURTtDT01NRU5UX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9ERUxFVEU7XG5DT01NRU5UX01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfTU9WRTtDT01NRU5UX1JFU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9SRVNJWkU7Q09NTUVOVF9EUkFHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RSQUc7Q1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEU7REVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEU7XG5GSU5JU0hFRF9MT0FESU5HJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5GSU5JU0hFRF9MT0FESU5HO01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkU7U0VMRUNURUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlNFTEVDVEVEO1RIRU1FX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVEhFTUVfQ0hBTkdFO1RPT0xCT1hfSVRFTV9TRUxFQ1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRPT0xCT1hfSVRFTV9TRUxFQ1Q7XG5UUkFTSENBTl9PUEVOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5UUkFTSENBTl9PUEVOO1VJJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5VSTtWQVJfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFO1ZBUl9ERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9ERUxFVEU7VkFSX1JFTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX1JFTkFNRTtcblZJRVdQT1JUX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVklFV1BPUlRfQ0hBTkdFO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkFic3RyYWN0PUFic3RyYWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CTE9DS19DSEFOR0U9JC5CTE9DS19DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJMT0NLX0NSRUFURT0kLkJMT0NLX0NSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CTE9DS19ERUxFVEU9JC5CTE9DS19ERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJMT0NLX0RSQUc9QkxPQ0tfRFJBRyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRT1CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CTE9DS19NT1ZFPSQuQkxPQ0tfTU9WRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQlVCQkxFX09QRU49QlVCQkxFX09QRU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQlVNUF9FVkVOVFM9QlVNUF9FVkVOVFMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CbG9ja0Jhc2U9QmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJsb2NrQ2hhbmdlPUJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQmxvY2tDcmVhdGU9QmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CbG9ja0RlbGV0ZT1CbG9ja0RlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZGVsZXRlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQmxvY2tEcmFnPUJsb2NrRHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZHJhZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlPUJsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2ZpZWxkX2ludGVybWVkaWF0ZV9jaGFuZ2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQmxvY2tNb3ZlPUJsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfbW92ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CdWJibGVPcGVuPUJ1YmJsZU9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQnViYmxlVHlwZT1CdWJibGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DSEFOR0U9Q0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DTElDSz1DTElDSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ09NTUVOVF9DSEFOR0U9Q09NTUVOVF9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNPTU1FTlRfQ1JFQVRFPUNPTU1FTlRfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNPTU1FTlRfREVMRVRFPUNPTU1FTlRfREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DT01NRU5UX0RSQUc9Q09NTUVOVF9EUkFHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DT01NRU5UX01PVkU9Q09NTUVOVF9NT1ZFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DT01NRU5UX1JFU0laRT1DT01NRU5UX1JFU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ1JFQVRFPUNSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DbGljaz1DbGljayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2s7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ2xpY2tUYXJnZXQ9Q2xpY2tUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNvbW1lbnRCYXNlPUNvbW1lbnRCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ29tbWVudENoYW5nZT1Db21tZW50Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NoYW5nZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5Db21tZW50Q29sbGFwc2U9Q29tbWVudENvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NvbGxhcHNlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ29tbWVudENyZWF0ZT1Db21tZW50Q3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NyZWF0ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5Db21tZW50RGVsZXRlPUNvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZGVsZXRlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNvbW1lbnREcmFnPUNvbW1lbnREcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RyYWc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ29tbWVudE1vdmU9Q29tbWVudE1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfbW92ZTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNvbW1lbnRSZXNpemU9Q29tbWVudFJlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9yZXNpemU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuREVMRVRFPURFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuRklOSVNIRURfTE9BRElORz1GSU5JU0hFRF9MT0FESU5HJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5GaW5pc2hlZExvYWRpbmc9RmluaXNoZWRMb2FkaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHdvcmtzcGFjZV9ldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuTU9WRT1NT1ZFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlNFTEVDVEVEPVNFTEVDVEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5TZWxlY3RlZD1TZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVEhFTUVfQ0hBTkdFPVRIRU1FX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVE9PTEJPWF9JVEVNX1NFTEVDVD1UT09MQk9YX0lURU1fU0VMRUNUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5UUkFTSENBTl9PUEVOPVRSQVNIQ0FOX09QRU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVGhlbWVDaGFuZ2U9VGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5Ub29sYm94SXRlbVNlbGVjdD1Ub29sYm94SXRlbVNlbGVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdG9vbGJveF9pdGVtX3NlbGVjdDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5UcmFzaGNhbk9wZW49VHJhc2hjYW5PcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190cmFzaGNhbl9vcGVuO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlVJPVVJJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5VaUJhc2U9VWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVkFSX0NSRUFURT1WQVJfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5WQVJfREVMRVRFPVZBUl9ERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlZBUl9SRU5BTUU9VkFSX1JFTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVklFV1BPUlRfQ0hBTkdFPVZJRVdQT1JUX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVmFyQmFzZT1WYXJCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfYmFzZTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlZhckNyZWF0ZT1WYXJDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9jcmVhdGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVmFyRGVsZXRlPVZhckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2RlbGV0ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5WYXJSZW5hbWU9VmFyUmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfcmVuYW1lO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlZhclR5cGVDaGFuZ2U9VmFyVHlwZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3R5cGVfY2hhbmdlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlZpZXdwb3J0Q2hhbmdlPVZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192aWV3cG9ydDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmNsZWFyUGVuZGluZ1VuZG89Y2xlYXJQZW5kaW5nVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5kaXNhYmxlPSQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5kaXNhYmxlT3JwaGFucz1kaXNhYmxlT3JwaGFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5lbmFibGU9JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuZmlsdGVyPWZpbHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmZpcmU9ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5mcm9tSnNvbj1mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5nZXQ9Z2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmdldERlc2NlbmRhbnRJZHM9Z2V0RGVzY2VuZGFudElkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5nZXRHcm91cD0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmdldFJlY29yZFVuZG89Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmlzRW5hYmxlZD1pc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuc2V0R3JvdXA9JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5zZXRSZWNvcmRVbmRvPSQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyR6ZWxvcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLkJvdHRvbVJvdz1Cb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLkNvbnN0YW50UHJvdmlkZXI9Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRjb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyR6ZWxvcy5EcmF3ZXI9RHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGRyYXdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLlBhdGhPYmplY3Q9UGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRwYXRoX29iamVjdDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuUmVuZGVySW5mbz1SZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGluZm87bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyR6ZWxvcy5SZW5kZXJlcj1SZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRyZW5kZXJlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLlJpZ2h0Q29ubmVjdGlvblNoYXBlPVJpZ2h0Q29ubmVjdGlvblNoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHJvd19lbGVtZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGlucHV0cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuVG9wUm93PVRvcFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyR0b3Bfcm93O3JlZ2lzdGVyRGVmYXVsdE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyQ2xlYW51cD1yZWdpc3RlckNsZWFudXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJDb2xsYXBzZT1yZWdpc3RlckNvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyQ29sbGFwc2VFeHBhbmRCbG9jaz1yZWdpc3RlckNvbGxhcHNlRXhwYW5kQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckNvbW1lbnQ9cmVnaXN0ZXJDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyQ29tbWVudENyZWF0ZT1yZWdpc3RlckNvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJDb21tZW50RGVsZXRlPXJlZ2lzdGVyQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckNvbW1lbnREdXBsaWNhdGU9cmVnaXN0ZXJDb21tZW50RHVwbGljYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJDb21tZW50T3B0aW9ucz1yZWdpc3RlckNvbW1lbnRPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyRGVmYXVsdE9wdGlvbnM9cmVnaXN0ZXJEZWZhdWx0T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckRlbGV0ZT1yZWdpc3RlckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckRlbGV0ZUFsbD1yZWdpc3RlckRlbGV0ZUFsbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyRGlzYWJsZT1yZWdpc3RlckRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJEdXBsaWNhdGU9cmVnaXN0ZXJEdXBsaWNhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJFeHBhbmQ9cmVnaXN0ZXJFeHBhbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJIZWxwPXJlZ2lzdGVySGVscCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVySW5saW5lPXJlZ2lzdGVySW5saW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyUmVkbz1yZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJVbmRvPXJlZ2lzdGVyVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO3ZhciBCVVRUT05fVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1dHRvbl9mbHlvdXRfaW5mbGF0ZXI9XCJidXR0b25cIixCdXR0b25GbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1dHRvbl9mbHlvdXRfaW5mbGF0ZXI9Y2xhc3N7bG9hZChhLGIpe2E9bmV3IEZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24oYi5nZXRXb3Jrc3BhY2UoKSxiLnRhcmdldFdvcmtzcGFjZSxhLCExKTthLnNob3coKTtyZXR1cm4gbmV3IEZseW91dEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbShhLEJVVFRPTl9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnV0dG9uX2ZseW91dF9pbmZsYXRlcil9Z2FwRm9ySXRlbShhLGIpe3JldHVybiBifWRpc3Bvc2VJdGVtKGEpe2E9YS5nZXRFbGVtZW50KCk7YSBpbnN0YW5jZW9mIEZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24mJmEuZGlzcG9zZSgpfWdldFR5cGUoKXtyZXR1cm4gQlVUVE9OX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyfX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRfSU5GTEFURVIsQlVUVE9OX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyLEJ1dHRvbkZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnV0dG9uX2ZseW91dF9pbmZsYXRlcik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyLkJ1dHRvbkZseW91dEluZmxhdGVyPUJ1dHRvbkZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnV0dG9uX2ZseW91dF9pbmZsYXRlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMuQnViYmxlPUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlO21vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzLk1pbmlXb3Jrc3BhY2VCdWJibGU9TWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlO21vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzLlRleHRCdWJibGU9VGV4dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dF9idWJibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMuVGV4dElucHV0QnViYmxlPVRleHRJbnB1dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dGlucHV0X2J1YmJsZTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHlfb3B0aW9ucz17fTt2YXIgV09SS1NQQUNFX0FUX0JMT0NLX0NBUEFDSVRZX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2ZseW91dF9pbmZsYXRlcj1cIldPUktTUEFDRV9BVF9CTE9DS19DQVBBQ0lUWVwiLEJMT0NLX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXI9XCJibG9ja1wiLEJsb2NrRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnBlcm1hbmVudGx5RGlzYWJsZWRCbG9ja3M9bmV3IFNldDt0aGlzLmxpc3RlbmVycz1uZXcgTWFwO3RoaXMuY2FwYWNpdHlXcmFwcGVyPXRoaXMuZmlsdGVyRmx5b3V0QmFzZWRPbkNhcGFjaXR5LmJpbmQodGhpcyl9bG9hZChhLGIpe3RoaXMuc2V0Rmx5b3V0KGIpO2E9dGhpcy5jcmVhdGVCbG9jayhhLGIuZ2V0V29ya3NwYWNlKCkpO2EuaXNFbmFibGVkKCk/dGhpcy51cGRhdGVTdGF0ZUJhc2VkT25DYXBhY2l0eShhKTpcbnRoaXMucGVybWFuZW50bHlEaXNhYmxlZEJsb2Nrcy5hZGQoYSk7YS5nZXREZXNjZW5kYW50cyghMSkuZm9yRWFjaChjPT5jLmlzSW5GbHlvdXQ9ITApO3RoaXMuYWRkQmxvY2tMaXN0ZW5lcnMoYSk7cmV0dXJuIG5ldyBGbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW0oYSxCTE9DS19UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyKX1jcmVhdGVCbG9jayhhLGIpe2EuYmxvY2t4bWw/KGE9dHlwZW9mIGEuYmxvY2t4bWw9PT1cInN0cmluZ1wiPyQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEuYmxvY2t4bWwpOmEuYmxvY2t4bWwsYj1kb21Ub0Jsb2NrSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSxiKSk6KGEuZW5hYmxlZD09PXZvaWQgMCYmKGEuZW5hYmxlZD1hLmRpc2FibGVkIT09XCJ0cnVlXCImJmEuZGlzYWJsZWQhPT0hMCksYS5kaXNhYmxlZFJlYXNvbnM9PT1cbnZvaWQgMCYmYS5lbmFibGVkPT09ITEmJihhLmRpc2FibGVkUmVhc29ucz1bTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHNdKSxcInhcImluIGEmJmRlbGV0ZSBhLngsXCJ5XCJpbiBhJiZkZWxldGUgYS55LGI9YXBwZW5kSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLGIpKTtyZXR1cm4gYn1nYXBGb3JJdGVtKGEsYil7bGV0IGM7YS5nYXA/Yz1wYXJzZUludChTdHJpbmcoYS5nYXApKTphLmJsb2NreG1sJiYoYT10eXBlb2YgYS5ibG9ja3htbD09PVwic3RyaW5nXCI/JC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYS5ibG9ja3htbCk6YS5ibG9ja3htbCxjPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiZ2FwXCIpKSk7cmV0dXJuIWN8fGlzTmFOKGMpP2I6Y31kaXNwb3NlSXRlbShhKXthPWEuZ2V0RWxlbWVudCgpO2EgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZyYmXG4odGhpcy5yZW1vdmVMaXN0ZW5lcnMoYS5pZCksYS5kaXNwb3NlKCExLCExKSl9cmVtb3ZlTGlzdGVuZXJzKGEpe2xldCBiOygoYj10aGlzLmxpc3RlbmVycy5nZXQoYSkpIT1udWxsP2I6W10pLmZvckVhY2goYz0+dW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYykpO3RoaXMubGlzdGVuZXJzLmRlbGV0ZShhKX1zZXRGbHlvdXQoYSl7aWYodGhpcy5mbHlvdXQhPT1hKXtpZih0aGlzLmZseW91dCl7bGV0IGM7KGM9dGhpcy5mbHlvdXQudGFyZ2V0V29ya3NwYWNlKT09bnVsbHx8Yy5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLmNhcGFjaXR5V3JhcHBlcil9dGhpcy5mbHlvdXQ9YTt2YXIgYjsoYj10aGlzLmZseW91dC50YXJnZXRXb3Jrc3BhY2UpPT1udWxsfHxiLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuY2FwYWNpdHlXcmFwcGVyKX19dXBkYXRlU3RhdGVCYXNlZE9uQ2FwYWNpdHkoYSl7bGV0IGIsYztjb25zdCBkPShiPXRoaXMuZmx5b3V0KT09bnVsbD9cbnZvaWQgMDooYz1iLnRhcmdldFdvcmtzcGFjZSk9PW51bGw/dm9pZCAwOmMuaXNDYXBhY2l0eUF2YWlsYWJsZShnZXRCbG9ja1R5cGVDb3VudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYSkpO2Zvcig7YTspYS5zZXREaXNhYmxlZFJlYXNvbighZCxXT1JLU1BBQ0VfQVRfQkxPQ0tfQ0FQQUNJVFlfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyKSxhPWEuZ2V0TmV4dEJsb2NrKCl9YWRkQmxvY2tMaXN0ZW5lcnMoYSl7Y29uc3QgYj1bXTtiLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYS5nZXRTdmdSb290KCksXCJwb2ludGVyZG93blwiLGEsYz0+e2xldCBkLGU7Y29uc3QgZj0oZD10aGlzLmZseW91dCk9PW51bGw/dm9pZCAwOihlPWQudGFyZ2V0V29ya3NwYWNlKT09bnVsbD92b2lkIDA6ZS5nZXRHZXN0dXJlKGMpO2YmJnRoaXMuZmx5b3V0JiYoZi5zZXRTdGFydEJsb2NrKGEpLFxuZi5oYW5kbGVGbHlvdXRTdGFydChjLHRoaXMuZmx5b3V0KSl9KSk7Yi5wdXNoKGJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLmdldFN2Z1Jvb3QoKSxcInBvaW50ZXJtb3ZlXCIsbnVsbCwoKT0+e2xldCBjLGQ7KChjPXRoaXMuZmx5b3V0KT09bnVsbD8wOihkPWMudGFyZ2V0V29ya3NwYWNlKT09bnVsbD8wOmQuaXNEcmFnZ2luZygpKXx8YS5hZGRTZWxlY3QoKX0pKTtiLnB1c2goYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEuZ2V0U3ZnUm9vdCgpLFwicG9pbnRlcmxlYXZlXCIsbnVsbCwoKT0+e2xldCBjLGQ7KChjPXRoaXMuZmx5b3V0KT09bnVsbD8wOihkPWMudGFyZ2V0V29ya3NwYWNlKT09bnVsbD8wOmQuaXNEcmFnZ2luZygpKXx8YS5yZW1vdmVTZWxlY3QoKX0pKTt0aGlzLmxpc3RlbmVycy5zZXQoYS5pZCxiKX1maWx0ZXJGbHlvdXRCYXNlZE9uQ2FwYWNpdHkoYSl7IXRoaXMuZmx5b3V0fHxhJiZhLnR5cGUhPT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEUmJlxuYS50eXBlIT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfREVMRVRFfHx0aGlzLmZseW91dC5nZXRXb3Jrc3BhY2UoKS5nZXRUb3BCbG9ja3MoITEpLmZvckVhY2goYj0+e3RoaXMucGVybWFuZW50bHlEaXNhYmxlZEJsb2Nrcy5oYXMoYil8fHRoaXMudXBkYXRlU3RhdGVCYXNlZE9uQ2FwYWNpdHkoYil9KX1nZXRUeXBlKCl7cmV0dXJuIEJMT0NLX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXJ9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRfSU5GTEFURVIsQkxPQ0tfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2ZseW91dF9pbmZsYXRlcixCbG9ja0ZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXIuQmxvY2tGbHlvdXRJbmZsYXRlcj1CbG9ja0ZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Bhc3Rlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Bhc3Rlci5pc1Bhc3Rlcj1pc1Bhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wYXN0ZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcmVuZGVyZWRfZWxlbWVudD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3JlbmRlcmVkX2VsZW1lbnQuaXNSZW5kZXJlZEVsZW1lbnQ9aXNSZW5kZXJlZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcmVuZGVyZWRfZWxlbWVudDt2YXIgQ29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRjb25zdGFudHM9Y2xhc3MgZXh0ZW5kcyBDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHN7Y29uc3RydWN0b3IoKXtzdXBlcigpO3RoaXMuRklFTERfVEVYVF9CQVNFTElORV9DRU5URVI9ITE7dGhpcy5EQVJLX1BBVEhfT0ZGU0VUPTE7dGhpcy5NQVhfQk9UVE9NX1dJRFRIPTMwO3RoaXMuU1RBVEVNRU5UX0JPVFRPTV9TUEFDRVI9LXRoaXMuTk9UQ0hfSEVJR0hULzJ9Z2V0Q1NTXyhhKXtyZXR1cm4gc3VwZXIuZ2V0Q1NTXyhhKS5jb25jYXQoW2Ake2F9IC5ibG9ja2x5SW5zZXJ0aW9uTWFya2VyPi5ibG9ja2x5UGF0aExpZ2h0LGAsYCR7YX0gLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoRGFyayB7YCxgZmlsbC1vcGFjaXR5OiAke3RoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZfTtgLFwic3Ryb2tlOiBub25lO1wiLFxuXCJ9XCJdKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkY29uc3RhbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkY29uc3RhbnRzLkNvbnN0YW50UHJvdmlkZXI9Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRjb25zdGFudHM7dmFyIEhpZ2hsaWdodGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodGVyPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuaW5saW5lU3RlcHNfPXRoaXMuc3RlcHNfPVwiXCI7dGhpcy5pbmZvXz1hO3RoaXMuUlRMXz10aGlzLmluZm9fLlJUTDthPWEuZ2V0UmVuZGVyZXIoKTt0aGlzLmNvbnN0YW50c189YS5nZXRDb25zdGFudHMoKTt0aGlzLmhpZ2hsaWdodENvbnN0YW50c189YS5nZXRIaWdobGlnaHRDb25zdGFudHMoKTt0aGlzLmhpZ2hsaWdodE9mZnNldD10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uT0ZGU0VUO3RoaXMub3V0c2lkZUNvcm5lclBhdGhzXz10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uT1VUU0lERV9DT1JORVI7dGhpcy5pbnNpZGVDb3JuZXJQYXRoc189dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLklOU0lERV9DT1JORVI7dGhpcy5wdXp6bGVUYWJQYXRoc189dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLlBVWlpMRV9UQUI7dGhpcy5ub3RjaFBhdGhzXz1cbnRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5OT1RDSDt0aGlzLnN0YXJ0UGF0aHNfPXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5TVEFSVF9IQVQ7dGhpcy5qYWdnZWRUZWV0aFBhdGhzXz10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uSkFHR0VEX1RFRVRIfWdldFBhdGgoKXtyZXR1cm4gdGhpcy5zdGVwc18rXCJcXG5cIit0aGlzLmlubGluZVN0ZXBzX31kcmF3VG9wQ29ybmVyKGEpe3RoaXMuc3RlcHNfKz1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS54UG9zLHRoaXMuaW5mb18uc3RhcnRZKTtmb3IobGV0IGI9MCxjO2M9YS5lbGVtZW50c1tiXTtiKyspVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyKGMpP3RoaXMuc3RlcHNfKz10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uU1RBUlRfUE9JTlQ6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihjKT9cbnRoaXMuc3RlcHNfKz10aGlzLm91dHNpZGVDb3JuZXJQYXRoc18udG9wTGVmdCh0aGlzLlJUTF8pOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGMpP3RoaXMuc3RlcHNfKz10aGlzLm5vdGNoUGF0aHNfLnBhdGhMZWZ0OlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGMpP3RoaXMuc3RlcHNfKz10aGlzLnN0YXJ0UGF0aHNfLnBhdGgodGhpcy5SVExfKTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihjKSYmYy53aWR0aCE9PTAmJih0aGlzLnN0ZXBzXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixjLnhQb3MrYy53aWR0aC10aGlzLmhpZ2hsaWdodE9mZnNldCkpO3RoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLFxuYS54UG9zK2Eud2lkdGgtdGhpcy5oaWdobGlnaHRPZmZzZXQpfWRyYXdKYWdnZWRFZGdlXyhhKXt0aGlzLmluZm9fLlJUTCYmKHRoaXMuc3RlcHNfKz10aGlzLmphZ2dlZFRlZXRoUGF0aHNfLnBhdGhMZWZ0K2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYS5oZWlnaHQtdGhpcy5qYWdnZWRUZWV0aFBhdGhzXy5oZWlnaHQtdGhpcy5oaWdobGlnaHRPZmZzZXQpKX1kcmF3VmFsdWVJbnB1dChhKXtjb25zdCBiPWEuZ2V0TGFzdElucHV0KCk7aWYodGhpcy5SVExfKXtjb25zdCBjPWEuaGVpZ2h0LWIuY29ubmVjdGlvbkhlaWdodDt0aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIueFBvcytiLndpZHRoLXRoaXMuaGlnaGxpZ2h0T2Zmc2V0LGEueVBvcykrdGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aERvd24odGhpcy5SVExfKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLFxuYyl9ZWxzZSB0aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIueFBvcytiLndpZHRoLGEueVBvcykrdGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aERvd24odGhpcy5SVExfKX1kcmF3U3RhdGVtZW50SW5wdXQoYSl7Y29uc3QgYj1hLmdldExhc3RJbnB1dCgpO2lmKGIpaWYodGhpcy5SVExfKXtjb25zdCBjPWEuaGVpZ2h0LTIqdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18uaGVpZ2h0O3RoaXMuc3RlcHNfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYi54UG9zLGEueVBvcykrdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ucGF0aFRvcCh0aGlzLlJUTF8pK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYykrdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ucGF0aEJvdHRvbSh0aGlzLlJUTF8pK2xpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLndpZHRoLVxuYi54UG9zLXRoaXMuaW5zaWRlQ29ybmVyUGF0aHNfLndpZHRoLDApfWVsc2UgdGhpcy5zdGVwc18rPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhiLnhQb3MsYS55UG9zK2EuaGVpZ2h0KSt0aGlzLmluc2lkZUNvcm5lclBhdGhzXy5wYXRoQm90dG9tKHRoaXMuUlRMXykrbGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEud2lkdGgtYi54UG9zLXRoaXMuaW5zaWRlQ29ybmVyUGF0aHNfLndpZHRoLDApfWRyYXdSaWdodFNpZGVSb3coYSl7Y29uc3QgYj1hLnhQb3MrYS53aWR0aC10aGlzLmhpZ2hsaWdodE9mZnNldDthIGluc3RhbmNlb2YgU3BhY2VyUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNwYWNlcl9yb3cmJmEuZm9sbG93c1N0YXRlbWVudCYmKHRoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGIpKTtcbnRoaXMuUlRMXyYmKHRoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGIpLGEuaGVpZ2h0PnRoaXMuaGlnaGxpZ2h0T2Zmc2V0JiYodGhpcy5zdGVwc18rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsYS55UG9zK2EuaGVpZ2h0LXRoaXMuaGlnaGxpZ2h0T2Zmc2V0KSkpfWRyYXdCb3R0b21Sb3coYSl7aWYodGhpcy5SVExfKXRoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLGEuYmFzZWxpbmUtdGhpcy5oaWdobGlnaHRPZmZzZXQpO2Vsc2V7Y29uc3QgYj10aGlzLmluZm9fLmJvdHRvbVJvdy5lbGVtZW50c1swXTtUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYik/dGhpcy5zdGVwc18rPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MrXG50aGlzLmhpZ2hsaWdodE9mZnNldCxhLmJhc2VsaW5lLXRoaXMuaGlnaGxpZ2h0T2Zmc2V0KTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGIpJiYodGhpcy5zdGVwc18rPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MsYS5iYXNlbGluZSksdGhpcy5zdGVwc18rPXRoaXMub3V0c2lkZUNvcm5lclBhdGhzXy5ib3R0b21MZWZ0KCkpfX1kcmF3TGVmdCgpe3ZhciBhPXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbjthJiYoYT1hLmNvbm5lY3Rpb25PZmZzZXRZK2EuaGVpZ2h0LHRoaXMuUlRMXz90aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKHRoaXMuaW5mb18uc3RhcnRYLGEpOih0aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKHRoaXMuaW5mb18uc3RhcnRYK1xudGhpcy5oaWdobGlnaHRPZmZzZXQsdGhpcy5pbmZvXy5ib3R0b21Sb3cuYmFzZWxpbmUtdGhpcy5oaWdobGlnaHRPZmZzZXQpLHRoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLGEpKSx0aGlzLnN0ZXBzXys9dGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aFVwKHRoaXMuUlRMXykpO3RoaXMuUlRMX3x8KGE9dGhpcy5pbmZvXy50b3BSb3csVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihhLmVsZW1lbnRzWzBdKT90aGlzLnN0ZXBzXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIix0aGlzLm91dHNpZGVDb3JuZXJQYXRoc18uaGVpZ2h0KTp0aGlzLnN0ZXBzXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixhLmNhcGxpbmUrdGhpcy5oaWdobGlnaHRPZmZzZXQpKX1kcmF3SW5saW5lSW5wdXQoYSl7Y29uc3QgYj1cbnRoaXMuaGlnaGxpZ2h0T2Zmc2V0LGM9YS54UG9zK2EuY29ubmVjdGlvbldpZHRoO3ZhciBkPWEuY2VudGVybGluZS1hLmhlaWdodC8yO2NvbnN0IGU9YS53aWR0aC1hLmNvbm5lY3Rpb25XaWR0aCxmPWQrYjt0aGlzLlJUTF8/KGQ9YS5jb25uZWN0aW9uT2Zmc2V0WS1iLGE9YS5oZWlnaHQtKGEuY29ubmVjdGlvbk9mZnNldFkrYS5jb25uZWN0aW9uSGVpZ2h0KStiLHRoaXMuaW5saW5lU3RlcHNfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYy1iLGYpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsZCkrdGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aERvd24odGhpcy5SVExfKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGEpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsZSkpOnRoaXMuaW5saW5lU3RlcHNfKz1cbm1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MrYS53aWR0aCtiLGYpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYS5oZWlnaHQpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsLWUpK21vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhjLGQrYS5jb25uZWN0aW9uT2Zmc2V0WSkrdGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aERvd24odGhpcy5SVExfKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0ZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRlci5IaWdobGlnaHRlcj1IaWdobGlnaHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRlcjt2YXIgRHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGRyYXdlcj1jbGFzcyBleHRlbmRzIERyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kZHJhd2Vye2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmhpZ2hsaWdodGVyXz1uZXcgSGlnaGxpZ2h0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0ZXIoYil9ZHJhdygpe3RoaXMuZHJhd091dGxpbmVfKCk7dGhpcy5kcmF3SW50ZXJuYWxzXygpO3RoaXMudXBkYXRlQ29ubmVjdGlvbkhpZ2hsaWdodHMoKTtjb25zdCBhPXRoaXMuYmxvY2tfLnBhdGhPYmplY3Q7YS5zZXRQYXRoKHRoaXMub3V0bGluZVBhdGhfK1wiXFxuXCIrdGhpcy5pbmxpbmVQYXRoXyk7YS5zZXRIaWdobGlnaHRQYXRoKHRoaXMuaGlnaGxpZ2h0ZXJfLmdldFBhdGgoKSk7dGhpcy5pbmZvXy5SVEwmJmEuZmxpcFJUTCgpO3RoaXMucmVjb3JkU2l6ZU9uQmxvY2tfKCl9ZHJhd1RvcF8oKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3VG9wQ29ybmVyKHRoaXMuaW5mb18udG9wUm93KTtcbnRoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdSaWdodFNpZGVSb3codGhpcy5pbmZvXy50b3BSb3cpO3N1cGVyLmRyYXdUb3BfKCl9ZHJhd0phZ2dlZEVkZ2VfKGEpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdKYWdnZWRFZGdlXyhhKTtzdXBlci5kcmF3SmFnZ2VkRWRnZV8oYSl9ZHJhd1ZhbHVlSW5wdXRfKGEpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdWYWx1ZUlucHV0KGEpO3N1cGVyLmRyYXdWYWx1ZUlucHV0XyhhKX1kcmF3U3RhdGVtZW50SW5wdXRfKGEpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdTdGF0ZW1lbnRJbnB1dChhKTtzdXBlci5kcmF3U3RhdGVtZW50SW5wdXRfKGEpfWRyYXdSaWdodFNpZGVSb3dfKGEpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdSaWdodFNpZGVSb3coYSk7dGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJIXCIsYS54UG9zK2Eud2lkdGgpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsXG5hLnlQb3MrYS5oZWlnaHQpfWRyYXdCb3R0b21fKCl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd0JvdHRvbVJvdyh0aGlzLmluZm9fLmJvdHRvbVJvdyk7c3VwZXIuZHJhd0JvdHRvbV8oKX1kcmF3TGVmdF8oKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3TGVmdCgpO3N1cGVyLmRyYXdMZWZ0XygpfWRyYXdJbmxpbmVJbnB1dF8oYSl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd0lubGluZUlucHV0KGEpO3N1cGVyLmRyYXdJbmxpbmVJbnB1dF8oYSl9cG9zaXRpb25JbmxpbmVJbnB1dENvbm5lY3Rpb25fKGEpe2NvbnN0IGI9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzI7aWYoYS5jb25uZWN0aW9uTW9kZWwpe2xldCBjPWEueFBvcythLmNvbm5lY3Rpb25XaWR0aCt0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVDt0aGlzLmluZm9fLlJUTCYmKGMqPS0xKTthLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKGMsYithLmNvbm5lY3Rpb25PZmZzZXRZK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUKX19cG9zaXRpb25TdGF0ZW1lbnRJbnB1dENvbm5lY3Rpb25fKGEpe2NvbnN0IGI9XG5hLmdldExhc3RJbnB1dCgpO2lmKGI9PW51bGw/MDpiLmNvbm5lY3Rpb25Nb2RlbCl7bGV0IGM9YS54UG9zK2Euc3RhdGVtZW50RWRnZStiLm5vdGNoT2Zmc2V0O2M9dGhpcy5pbmZvXy5SVEw/YyotMTpjK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUO2IuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxhLnlQb3MrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpfX1wb3NpdGlvbkV4dGVybmFsVmFsdWVDb25uZWN0aW9uXyhhKXtjb25zdCBiPWEuZ2V0TGFzdElucHV0KCk7aWYoYiYmYi5jb25uZWN0aW9uTW9kZWwpe2xldCBjPWEueFBvcythLndpZHRoK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2IuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxhLnlQb3MpfX1wb3NpdGlvbk5leHRDb25uZWN0aW9uXygpe2NvbnN0IGE9dGhpcy5pbmZvXy5ib3R0b21Sb3c7aWYoYS5jb25uZWN0aW9uKXtjb25zdCBiPVxuYS5jb25uZWN0aW9uLGM9Yi54UG9zO2IuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soKHRoaXMuaW5mb18uUlRMPy1jOmMpK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VULzIsYS5iYXNlbGluZSt0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRkcmF3ZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRkcmF3ZXIuRHJhd2VyPURyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRkcmF3ZXI7dmFyIEhpZ2hsaWdodENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0X2NvbnN0YW50cz1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLk9GRlNFVD0uNTt0aGlzLmNvbnN0YW50UHJvdmlkZXI9YTt0aGlzLlNUQVJUX1BPSU5UPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyh0aGlzLk9GRlNFVCx0aGlzLk9GRlNFVCl9aW5pdCgpe3RoaXMuSU5TSURFX0NPUk5FUj10aGlzLm1ha2VJbnNpZGVDb3JuZXIoKTt0aGlzLk9VVFNJREVfQ09STkVSPXRoaXMubWFrZU91dHNpZGVDb3JuZXIoKTt0aGlzLlBVWlpMRV9UQUI9dGhpcy5tYWtlUHV6emxlVGFiKCk7dGhpcy5OT1RDSD10aGlzLm1ha2VOb3RjaCgpO3RoaXMuSkFHR0VEX1RFRVRIPXRoaXMubWFrZUphZ2dlZFRlZXRoKCk7dGhpcy5TVEFSVF9IQVQ9dGhpcy5tYWtlU3RhcnRIYXQoKX1tYWtlSW5zaWRlQ29ybmVyKCl7Y29uc3QgYT10aGlzLmNvbnN0YW50UHJvdmlkZXIuQ09STkVSX1JBRElVUyxcbmI9dGhpcy5PRkZTRVQsYz0oMS1NYXRoLlNRUlQxXzIpKihhK2IpLWIsZD1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYyxjKSthcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMFwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWMtYixhLWMpKSxlPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYStiLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGErYixhK2IpKSxmPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhjLC1jKSthcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMFwiLGErYixwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLWMsYytiKSk7cmV0dXJue3dpZHRoOmErXG5iLGhlaWdodDphLHBhdGhUb3AoZyl7cmV0dXJuIGc/ZDpcIlwifSxwYXRoQm90dG9tKGcpe3JldHVybiBnP2U6Zn19fW1ha2VPdXRzaWRlQ29ybmVyKCl7Y29uc3QgYT10aGlzLmNvbnN0YW50UHJvdmlkZXIuQ09STkVSX1JBRElVUyxiPXRoaXMuT0ZGU0VULGM9KDEtTWF0aC5TUVJUMV8yKSooYS1iKStiLGQ9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGMsYykrYXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDFcIixhLWIscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS1jLC1jK2IpKSxlPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhiLGEpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwxXCIsYS1iLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEsLWErXG5iKSksZj0tYyxnPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhjLGYpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwxXCIsYS1iLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1jK2IsLWYtYSkpO3JldHVybntoZWlnaHQ6YSx0b3BMZWZ0KGgpe3JldHVybiBoP2Q6ZX0sYm90dG9tTGVmdCgpe3JldHVybiBnfX19bWFrZVB1enpsZVRhYigpe2NvbnN0IGE9dGhpcy5jb25zdGFudFByb3ZpZGVyLlRBQl9XSURUSCxiPXRoaXMuY29uc3RhbnRQcm92aWRlci5UQUJfSEVJR0hULGM9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC0yLC1iKzIuNSsuOSkrbGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEqLS40NSwtMi4xKSxkPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsXG4yLjUpK21vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYSouOTcsMi41KStjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInFcIixbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWEqLjA1LDEwKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhKi4zLDkuNSldKSttb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSouNjcsLTEuOSkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIiwyLjUpLGU9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIiwtMS41KSttb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSotLjkyLC0uNSkrY3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJxXCIsXG5bcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSotLjE5LC01LjUpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDAsLTExKV0pK21vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhKi45MiwxKSxmPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtNSxiLS43KStsaW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSouNDYsLTIuMSk7cmV0dXJue3dpZHRoOmEsaGVpZ2h0OmIscGF0aFVwKGcpe3JldHVybiBnP2M6ZX0scGF0aERvd24oZyl7cmV0dXJuIGc/ZDpmfX19bWFrZU5vdGNoKCl7cmV0dXJue3BhdGhMZWZ0OmxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsdGhpcy5PRkZTRVQpK3RoaXMuY29uc3RhbnRQcm92aWRlci5OT1RDSC5wYXRoTGVmdH19bWFrZUphZ2dlZFRlZXRoKCl7cmV0dXJue3BhdGhMZWZ0OmxpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg1LjEsXG4yLjYpK21vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtMTAuMiw2LjgpK2xpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg1LjEsMi42KSxoZWlnaHQ6MTIsd2lkdGg6MTAuMn19bWFrZVN0YXJ0SGF0KCl7Y29uc3QgYT10aGlzLmNvbnN0YW50UHJvdmlkZXIuU1RBUlRfSEFULmhlaWdodCxiPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygyNSwtOC43KStjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImNcIixbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoMjkuNywtNi4yKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg1Ny4yLC0uNSkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoNzUsOC43KV0pLGM9Y3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsXG5bcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoMTcuOCwtOS4yKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg0NS4zLC0xNC45KSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg3NSwtOC43KV0pK21vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygxMDAuNSxhKy41KTtyZXR1cm57cGF0aChkKXtyZXR1cm4gZD9iOmN9fX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0X2NvbnN0YW50cz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodF9jb25zdGFudHMuSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlcj1IaWdobGlnaHRDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodF9jb25zdGFudHM7dmFyIElubGluZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dD1jbGFzcyBleHRlbmRzIElubGluZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dHtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5jb25zdGFudHNfPWE7dGhpcy5jb25uZWN0ZWRCbG9jayYmKHRoaXMud2lkdGgrPXRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VULHRoaXMuaGVpZ2h0Kz10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dC5JbmxpbmVJbnB1dD1JbmxpbmVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRtZWFzdXJhYmxlcyRpbmxpbmVfaW5wdXQ7dmFyIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dD1jbGFzcyBleHRlbmRzIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dHtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5jb25zdGFudHNfPWE7dGhpcy5jb25uZWN0ZWRCbG9jayYmKHRoaXMuaGVpZ2h0Kz10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dC5TdGF0ZW1lbnRJbnB1dD1TdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRtZWFzdXJhYmxlcyRzdGF0ZW1lbnRfaW5wdXQ7dmFyIFJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaW5mbz1jbGFzcyBleHRlbmRzIFJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm97Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMucmVuZGVyZXJfPWF9Z2V0UmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJlcl99cG9wdWxhdGVCb3R0b21Sb3dfKCl7c3VwZXIucG9wdWxhdGVCb3R0b21Sb3dfKCk7dGhpcy5ibG9ja18uaW5wdXRMaXN0Lmxlbmd0aCYmdGhpcy5ibG9ja18uaW5wdXRMaXN0W3RoaXMuYmxvY2tfLmlucHV0TGlzdC5sZW5ndGgtMV1pbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dHx8KHRoaXMuYm90dG9tUm93Lm1pbkhlaWdodD10aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkctdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpfWFkZElucHV0XyhhLFxuYil7aWYodGhpcy5pc0lubGluZSYmYSBpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dCliLmVsZW1lbnRzLnB1c2gobmV3IElubGluZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dCh0aGlzLmNvbnN0YW50c18sYSkpLGIuaGFzSW5saW5lSW5wdXQ9ITA7ZWxzZSBpZihhIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0KWIuZWxlbWVudHMucHVzaChuZXcgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0KHRoaXMuY29uc3RhbnRzXyxhKSksYi5oYXNTdGF0ZW1lbnQ9ITA7ZWxzZSBpZihhIGluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0KWIuZWxlbWVudHMucHVzaChuZXcgRXh0ZXJuYWxWYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGV4dGVybmFsX3ZhbHVlX2lucHV0KHRoaXMuY29uc3RhbnRzXyxcbmEpKSxiLmhhc0V4dGVybmFsSW5wdXQ9ITA7ZWxzZSBpZihhIGluc3RhbmNlb2YgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dHx8YSBpbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQpYi5taW5IZWlnaHQ9TWF0aC5tYXgoYi5taW5IZWlnaHQsdGhpcy5jb25zdGFudHNfLkRVTU1ZX0lOUFVUX01JTl9IRUlHSFQpLGIuaGFzRHVtbXlJbnB1dD0hMDt0aGlzLmlzSW5saW5lfHxiLmFsaWduIT09bnVsbHx8KGIuYWxpZ249YS5hbGlnbil9YWRkRWxlbVNwYWNpbmdfKCl7bGV0IGE9ITE7Zm9yKGxldCBjPTAsZDtkPXRoaXMucm93c1tjXTtjKyspZC5oYXNFeHRlcm5hbElucHV0JiYoYT0hMCk7Zm9yKGxldCBjPTAsZDtkPXRoaXMucm93c1tjXTtjKyspe3ZhciBiPWQuZWxlbWVudHM7ZC5lbGVtZW50cz1bXTtkLnN0YXJ0c1dpdGhFbGVtU3BhY2VyKCkmJmQuZWxlbWVudHMucHVzaChuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sXG50aGlzLmdldEluUm93U3BhY2luZ18obnVsbCxiWzBdKSkpO2lmKGIubGVuZ3RoKXtmb3IobGV0IGU9MDtlPGIubGVuZ3RoLTE7ZSsrKXtkLmVsZW1lbnRzLnB1c2goYltlXSk7Y29uc3QgZj10aGlzLmdldEluUm93U3BhY2luZ18oYltlXSxiW2UrMV0pO2QuZWxlbWVudHMucHVzaChuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sZikpfWQuZWxlbWVudHMucHVzaChiW2IubGVuZ3RoLTFdKTtkLmVuZHNXaXRoRWxlbVNwYWNlcigpJiYoYj10aGlzLmdldEluUm93U3BhY2luZ18oYltiLmxlbmd0aC0xXSxudWxsKSxhJiZkLmhhc0R1bW15SW5wdXQmJihiKz10aGlzLmNvbnN0YW50c18uVEFCX1dJRFRIKSxkLmVsZW1lbnRzLnB1c2gobmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLFxuYikpKX19fWdldEluUm93U3BhY2luZ18oYSxiKXtpZighYSlyZXR1cm4gYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChiKSYmYi5pc0VkaXRhYmxlP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzpiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fTEFSR0VfUEFERElORzpiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGIpP3RoaXMuY29uc3RhbnRzXy5TVEFURU1FTlRfSU5QVVRfUEFERElOR19MRUZUOnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKCFUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGEpJiYoIWJ8fFxuVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKSkpcmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYSkmJmEuaXNFZGl0YWJsZT9hLndpZHRoPT09MD90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJY29uKGEpP3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HKjIrMTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChhKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1ByZXZpb3VzT3JOZXh0Q29ubmVjdGlvbihhKT9cbnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSk/dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19XSURUSDpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0phZ2dlZEVkZ2UoYSk/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChhKSYmIWIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRXh0ZXJuYWxJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7XG5pZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElOR31pZighVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChhKSYmYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChiKSl7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmYS5pc0VkaXRhYmxlKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0V4dGVybmFsSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HfWVsc2V7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChiKXx8XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0V4dGVybmFsSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5NRURJVU1fTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElOR31yZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkctMX1pZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYSkmJmImJiFUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGEpJiZcbmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYikpcmV0dXJuIGIuaXNFZGl0YWJsZT90aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyKGEpJiZiKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYikpcmV0dXJuIGIubm90Y2hPZmZzZXQ7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKSlyZXR1cm4gYi5ub3RjaE9mZnNldCtcbih0aGlzLlJUTD8xOi0xKSp0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVC8yfWlmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSkmJmIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGIpKXJldHVybiBiLm5vdGNoT2Zmc2V0LXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpcmV0dXJuIGIubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVMrKHRoaXMuUlRMPzE6LTEpKnRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VULzJ9cmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYSkmJlxuYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChiKSYmYS5pc0VkaXRhYmxlPT09Yi5pc0VkaXRhYmxlP2Eud2lkdGg9PT0wP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSmFnZ2VkRWRnZShiKT90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9Z2V0U3BhY2VyUm93SGVpZ2h0XyhhLGIpe3JldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKSYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5jb25zdGFudHNfLkVNUFRZX0JMT0NLX1NQQUNFUl9IRUlHSFQ6XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKXx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6YS5oYXNFeHRlcm5hbElucHV0JiZiLmhhc0V4dGVybmFsSW5wdXQ/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6IWEuaGFzU3RhdGVtZW50JiZiLmhhc1N0YXRlbWVudD90aGlzLmNvbnN0YW50c18uQkVUV0VFTl9TVEFURU1FTlRfUEFERElOR19ZOmEuaGFzU3RhdGVtZW50JiZiLmhhc1N0YXRlbWVudHx8IWEuaGFzU3RhdGVtZW50JiZiLmhhc0R1bW15SW5wdXR8fGEuaGFzRHVtbXlJbnB1dD90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9Z2V0RWxlbUNlbnRlcmxpbmVfKGEsYil7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoYikpcmV0dXJuIGEueVBvcytcbmIuaGVpZ2h0LzI7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYSkpcmV0dXJuIGE9YS55UG9zK2EuaGVpZ2h0LWEuZGVzY2VuZGVySGVpZ2h0LFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYik/YStiLmhlaWdodC8yOmEtYi5oZWlnaHQvMjtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKSlyZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNIYXQoYik/YS5jYXBsaW5lLWIuaGVpZ2h0LzI6YS5jYXBsaW5lK2IuaGVpZ2h0LzI7bGV0IGM9YS55UG9zO1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYil8fFxuVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJY29uKGIpPyhjKz1iLmhlaWdodC8yLChhLmhhc0lubGluZUlucHV0fHxhLmhhc1N0YXRlbWVudCkmJmIuaGVpZ2h0K3RoaXMuY29uc3RhbnRzXy5UQUxMX0lOUFVUX0ZJRUxEX09GRlNFVF9ZPD1hLmhlaWdodCYmKGMrPXRoaXMuY29uc3RhbnRzXy5UQUxMX0lOUFVUX0ZJRUxEX09GRlNFVF9ZKSk6Yz1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpP2MrYi5oZWlnaHQvMjpjK2EuaGVpZ2h0LzI7cmV0dXJuIGN9YWxpZ25Sb3dFbGVtZW50c18oKXtpZih0aGlzLmlzSW5saW5lKXt2YXIgYT0wLGI9bmV3IFdlYWtNYXAsYz1udWxsO2ZvcihsZXQgZD10aGlzLnJvd3MubGVuZ3RoLTEsZTtlPXRoaXMucm93c1tkXTtkLS0pYi5zZXQoZSxhKSxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGUpJiZcbihlLmhhc1N0YXRlbWVudCYmdGhpcy5hbGlnblN0YXRlbWVudFJvd18oZSksYyYmYy5oYXNTdGF0ZW1lbnQmJmUud2lkdGg8Yy53aWR0aD9iLnNldChlLGMud2lkdGgpOmE9ZS5oYXNTdGF0ZW1lbnQ/ZS53aWR0aDpNYXRoLm1heChhLGUud2lkdGgpLGM9ZSk7YT0wO2ZvcihsZXQgZD0wLGU7ZT10aGlzLnJvd3NbZF07ZCsrKWUuaGFzU3RhdGVtZW50P2E9dGhpcy5nZXREZXNpcmVkUm93V2lkdGhfKGUpOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGUpP2Uud2lkdGg9TWF0aC5tYXgoYSxiLmdldChlKSk6KGM9ZS53aWR0aCxhPU1hdGgubWF4KGEsYi5nZXQoZSkpLWMsYT4wJiZ0aGlzLmFkZEFsaWdubWVudFBhZGRpbmdfKGUsYSksYT1lLndpZHRoKX1lbHNlIHN1cGVyLmFsaWduUm93RWxlbWVudHNfKCl9Z2V0RGVzaXJlZFJvd1dpZHRoXyhhKXtyZXR1cm4gdGhpcy5pc0lubGluZSYmYS5oYXNTdGF0ZW1lbnQ/dGhpcy5zdGF0ZW1lbnRFZGdlK1xudGhpcy5jb25zdGFudHNfLk1BWF9CT1RUT01fV0lEVEgrdGhpcy5zdGFydFg6c3VwZXIuZ2V0RGVzaXJlZFJvd1dpZHRoXyhhKX1maW5hbGl6ZV8oKXtsZXQgYT0wLGI9MDtmb3IobGV0IGQ9MCxlO2U9dGhpcy5yb3dzW2RdO2QrKyl7ZS55UG9zPWI7ZS54UG9zPXRoaXMuc3RhcnRYO2IrPWUuaGVpZ2h0O2E9TWF0aC5tYXgoYSxlLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcyk7dmFyIGM9Yi10aGlzLnRvcFJvdy5hc2NlbmRlckhlaWdodDtlPT09dGhpcy5ib3R0b21Sb3cmJmM8dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19IRUlHSFQmJihjPXRoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfSEVJR0hULWMsdGhpcy5ib3R0b21Sb3cuaGVpZ2h0Kz1jLGIrPWMpO3RoaXMucmVjb3JkRWxlbVBvc2l0aW9uc18oZSl9dGhpcy5vdXRwdXRDb25uZWN0aW9uJiZ0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbiYmdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSYmKGM9dGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKSkmJlxuKGE9TWF0aC5tYXgoYSxjLmdldEhlaWdodFdpZHRoKCkud2lkdGgtdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpKTt0aGlzLmJvdHRvbVJvdy5iYXNlbGluZT1iLXRoaXMuYm90dG9tUm93LmRlc2NlbmRlckhlaWdodDt0aGlzLndpZHRoV2l0aENoaWxkcmVuPWErdGhpcy5zdGFydFgrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQ7dGhpcy53aWR0aCs9dGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQ7dGhpcy5oZWlnaHQ9Yit0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVDt0aGlzLnN0YXJ0WT10aGlzLnRvcFJvdy5jYXBsaW5lfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRpbmZvPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaW5mby5SZW5kZXJJbmZvPVJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaW5mbzt2YXIgUGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRwYXRoX29iamVjdD1jbGFzcyBleHRlbmRzIFBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0e2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhLGIsYyk7dGhpcy5jb25zdGFudHM9Yzt0aGlzLmNvbG91ckRhcms9XCIjMDAwMDAwXCI7dGhpcy5zdmdQYXRoRGFyaz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5UGF0aERhcmtcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoMSwxKVwifSk7dGhpcy5zdmdSb290Lmluc2VydEJlZm9yZSh0aGlzLnN2Z1BhdGhEYXJrLHRoaXMuc3ZnUGF0aCk7dGhpcy5zdmdQYXRoTGlnaHQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCxcbntcImNsYXNzXCI6XCJibG9ja2x5UGF0aExpZ2h0XCJ9LHRoaXMuc3ZnUm9vdCl9c2V0UGF0aChhKXt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZFwiLGEpO3RoaXMuc3ZnUGF0aERhcmsuc2V0QXR0cmlidXRlKFwiZFwiLGEpfXNldEhpZ2hsaWdodFBhdGgoYSl7dGhpcy5zdmdQYXRoTGlnaHQuc2V0QXR0cmlidXRlKFwiZFwiLGEpfWZsaXBSVEwoKXt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJzY2FsZSgtMSAxKVwiKTt0aGlzLnN2Z1BhdGhMaWdodC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKC0xIDEpXCIpO3RoaXMuc3ZnUGF0aERhcmsuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMSwxKSBzY2FsZSgtMSAxKVwiKX1hcHBseUNvbG91cihhKXt0aGlzLnN2Z1BhdGhMaWdodC5zdHlsZS5kaXNwbGF5PVwiXCI7dGhpcy5zdmdQYXRoRGFyay5zdHlsZS5kaXNwbGF5PVwiXCI7aWYoIXRoaXMuc3R5bGUuY29sb3VyVGVydGlhcnkpdGhyb3cgRXJyb3IoXCJUaGUgcmVuZGVyZXIgZGlkIG5vdCBwcm9wZXJseSBpbml0aWFsaXplIHRoZSB0ZXJ0aWFyeSBjb2xvdXIgb2YgdGhlIGJsb2NrIHN0eWxlXCIpO1xudGhpcy5zdmdQYXRoTGlnaHQuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeSk7dGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5jb2xvdXJEYXJrKTtzdXBlci5hcHBseUNvbG91cihhKTt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpfXNldFN0eWxlKGEpe3RoaXMuc3R5bGU9YTt0aGlzLmNvbG91ckRhcms9YmxlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoXCIjMDAwXCIsdGhpcy5zdHlsZS5jb2xvdXJQcmltYXJ5LC4yKXx8dGhpcy5jb2xvdXJEYXJrfXVwZGF0ZUhpZ2hsaWdodGVkKGEpe3N1cGVyLnVwZGF0ZUhpZ2hsaWdodGVkKGEpO3RoaXMuc3ZnUGF0aExpZ2h0LnN0eWxlLmRpc3BsYXk9YT9cIm5vbmVcIjpcImlubGluZVwifXVwZGF0ZVNoYWRvd18oYSl7aWYoYSl7dGhpcy5zdmdQYXRoTGlnaHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtpZighdGhpcy5zdHlsZS5jb2xvdXJTZWNvbmRhcnkpdGhyb3cgRXJyb3IoXCJUaGUgcmVuZGVyZXIgZGlkIG5vdCBwcm9wZXJseSBpbml0aWFsaXplIHRoZSBzZWNvbmRhcnkgY29sb3VyIG9mIHRoZSBibG9jayBzdHlsZSBibG9jayBzdHlsZVwiKTtcbnRoaXMuc3ZnUGF0aERhcmsuc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuc3R5bGUuY29sb3VyU2Vjb25kYXJ5KTt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpO3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJTZWNvbmRhcnkpfX11cGRhdGVEaXNhYmxlZF8oYSl7c3VwZXIudXBkYXRlRGlzYWJsZWRfKGEpO2EmJnRoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIm5vbmVcIil9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHBhdGhfb2JqZWN0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkcGF0aF9vYmplY3QuUGF0aE9iamVjdD1QYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHBhdGhfb2JqZWN0O3ZhciBSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRyZW5kZXJlcj1jbGFzcyBleHRlbmRzIFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRyZW5kZXJlcntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLmhpZ2hsaWdodENvbnN0YW50cz1udWxsfWluaXQoYSxiKXtzdXBlci5pbml0KGEsYik7dGhpcy5oaWdobGlnaHRDb25zdGFudHM9dGhpcy5tYWtlSGlnaGxpZ2h0Q29uc3RhbnRzXygpO3RoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzLmluaXQoKX1yZWZyZXNoRG9tKGEsYixjKXtzdXBlci5yZWZyZXNoRG9tKGEsYixjKTt0aGlzLmdldEhpZ2hsaWdodENvbnN0YW50cygpLmluaXQoKX1tYWtlQ29uc3RhbnRzXygpe3JldHVybiBuZXcgQ29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRjb25zdGFudHN9bWFrZVJlbmRlckluZm9fKGEpe3JldHVybiBuZXcgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRpbmZvKHRoaXMsXG5hKX1tYWtlRHJhd2VyXyhhLGIpe3JldHVybiBuZXcgRHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGRyYXdlcihhLGIpfW1ha2VQYXRoT2JqZWN0KGEsYil7cmV0dXJuIG5ldyBQYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHBhdGhfb2JqZWN0KGEsYix0aGlzLmdldENvbnN0YW50cygpKX1tYWtlSGlnaGxpZ2h0Q29uc3RhbnRzXygpe3JldHVybiBuZXcgSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRfY29uc3RhbnRzKHRoaXMuZ2V0Q29uc3RhbnRzKCkpfWdldEhpZ2hsaWdodENvbnN0YW50cygpe2lmKCF0aGlzLmhpZ2hsaWdodENvbnN0YW50cyl0aHJvdyBFcnJvcihcIkNhbm5vdCBhY2Nlc3MgdGhlIGhpZ2hsaWdodCBjb25zdGFudHMgYmVjYXVzZSBpbml0IGhhcyBub3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzfX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nKFwiZ2VyYXNcIixSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRyZW5kZXJlcik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkcmVuZGVyZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRyZW5kZXJlci5SZW5kZXJlcj1SZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRyZW5kZXJlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRnZXJhcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLkNvbnN0YW50UHJvdmlkZXI9Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRjb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRnZXJhcy5EcmF3ZXI9RHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGRyYXdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLkhpZ2hsaWdodENvbnN0YW50UHJvdmlkZXI9SGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRfY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuSGlnaGxpZ2h0ZXI9SGlnaGxpZ2h0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0ZXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLklubGluZUlucHV0PUlubGluZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLlBhdGhPYmplY3Q9UGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRwYXRoX29iamVjdDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLlJlbmRlckluZm89UmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRpbmZvO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuUmVuZGVyZXI9UmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkcmVuZGVyZXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dDt2YXIgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJGluZm89Y2xhc3MgZXh0ZW5kcyBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZve2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKX1nZXRSZW5kZXJlcigpe3JldHVybiB0aGlzLnJlbmRlcmVyX31hZGRFbGVtU3BhY2luZ18oKXtsZXQgYT0hMTtmb3IodmFyIGI9MDtiPHRoaXMucm93cy5sZW5ndGg7YisrKWlmKHRoaXMucm93c1tiXS5oYXNFeHRlcm5hbElucHV0KXthPSEwO2JyZWFrfWZvcihiPTA7Yjx0aGlzLnJvd3MubGVuZ3RoO2IrKyl7Y29uc3QgZD10aGlzLnJvd3NbYl07dmFyIGM9ZC5lbGVtZW50cztkLmVsZW1lbnRzPVtdO2Quc3RhcnRzV2l0aEVsZW1TcGFjZXIoKSYmZC5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyxcbnRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhudWxsLGNbMF0pKSk7aWYoYy5sZW5ndGgpe2ZvcihsZXQgZT0wO2U8Yy5sZW5ndGgtMTtlKyspe2QuZWxlbWVudHMucHVzaChjW2VdKTtjb25zdCBmPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhjW2VdLGNbZSsxXSk7ZC5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyxmKSl9ZC5lbGVtZW50cy5wdXNoKGNbYy5sZW5ndGgtMV0pO2QuZW5kc1dpdGhFbGVtU3BhY2VyKCkmJihjPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhjW2MubGVuZ3RoLTFdLG51bGwpLGEmJmQuaGFzRHVtbXlJbnB1dCYmKGMrPXRoaXMuY29uc3RhbnRzXy5UQUJfV0lEVEgpLGQuZWxlbWVudHMucHVzaChuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sXG5jKSkpfX19Z2V0SW5Sb3dTcGFjaW5nXyhhLGIpe2lmKCFhKXJldHVybiBiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGIpJiZiLmlzRWRpdGFibGU/dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HOmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYik/dGhpcy5jb25zdGFudHNfLk1FRElVTV9MQVJHRV9QQURESU5HOmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYik/dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYSkmJiFiKXJldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGEpJiZcbmEuaXNFZGl0YWJsZT9hLndpZHRoPT09MD90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJY29uKGEpP3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HKjIrMTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChhKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1ByZXZpb3VzT3JOZXh0Q29ubmVjdGlvbihhKT90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEpP3RoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfV0lEVEg6XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0phZ2dlZEVkZ2UoYSk/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChhKSYmIWIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRXh0ZXJuYWxJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkd9aWYoIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYSkmJlxuYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChiKSl7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmYS5pc0VkaXRhYmxlKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0V4dGVybmFsSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HfWVsc2V7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChiKXx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNFeHRlcm5hbElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTUVESVVNX0xBUkdFX1BBRERJTkc7XG5pZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElOR31yZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkctMX1pZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYSkmJmImJiFUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGEpJiZiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGIpKXJldHVybiBiLmlzRWRpdGFibGU/XG50aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyKGEpJiZiKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYil8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpcmV0dXJuIGIubm90Y2hPZmZzZXR9cmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSkmJlxuYj9iLm5vdGNoT2Zmc2V0LXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYSkmJmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYikmJmEuaXNFZGl0YWJsZT09PWIuaXNFZGl0YWJsZT9hLndpZHRoPT09MD90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzpiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0phZ2dlZEVkZ2UoYik/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HfWdldFNwYWNlclJvd0hlaWdodF8oYSxiKXtyZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNUb3BSb3coYSkmJlxuVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5jb25zdGFudHNfLkVNUFRZX0JMT0NLX1NQQUNFUl9IRUlHSFQ6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNUb3BSb3coYSl8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzQm90dG9tUm93KGIpP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOmEuaGFzRXh0ZXJuYWxJbnB1dCYmYi5oYXNFeHRlcm5hbElucHV0P3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOiFhLmhhc1N0YXRlbWVudCYmYi5oYXNTdGF0ZW1lbnQ/dGhpcy5jb25zdGFudHNfLkJFVFdFRU5fU1RBVEVNRU5UX1BBRERJTkdfWTphLmhhc1N0YXRlbWVudCYmYi5oYXNTdGF0ZW1lbnR8fGEuaGFzRHVtbXlJbnB1dHx8Yi5oYXNEdW1teUlucHV0P3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOlxudGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HfWdldEVsZW1DZW50ZXJsaW5lXyhhLGIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGIpKXJldHVybiBhLnlQb3MrYi5oZWlnaHQvMjtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhhKSlyZXR1cm4gYT1hLnlQb3MrYS5oZWlnaHQtYS5kZXNjZW5kZXJIZWlnaHQsVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKT9hK2IuaGVpZ2h0LzI6YS1iLmhlaWdodC8yO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpKXJldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChiKT9cbmEuY2FwbGluZS1iLmhlaWdodC8yOmEuY2FwbGluZStiLmhlaWdodC8yO2xldCBjPWEueVBvcztyZXR1cm4gYz1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGIpJiZhLmhhc1N0YXRlbWVudD9jKyh0aGlzLmNvbnN0YW50c18uVEFMTF9JTlBVVF9GSUVMRF9PRkZTRVRfWStiLmhlaWdodC8yKTpjK2EuaGVpZ2h0LzJ9ZmluYWxpemVfKCl7bGV0IGE9MCxiPTA7Zm9yKHZhciBjPTA7Yzx0aGlzLnJvd3MubGVuZ3RoO2MrKyl7Y29uc3QgZT10aGlzLnJvd3NbY107ZS55UG9zPWI7ZS54UG9zPXRoaXMuc3RhcnRYO2IrPWUuaGVpZ2h0O2E9TWF0aC5tYXgoYSxlLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcyk7dmFyIGQ9Yi10aGlzLnRvcFJvdy5hc2NlbmRlckhlaWdodDtlPT09dGhpcy5ib3R0b21Sb3cmJmQ8dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19IRUlHSFQmJihkPXRoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfSEVJR0hULVxuZCx0aGlzLmJvdHRvbVJvdy5oZWlnaHQrPWQsYis9ZCk7dGhpcy5yZWNvcmRFbGVtUG9zaXRpb25zXyhlKX10aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uJiZ0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpJiYoYz10aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpKSYmKGE9TWF0aC5tYXgoYSxjLmdldEhlaWdodFdpZHRoKCkud2lkdGgpKTt0aGlzLmJvdHRvbVJvdy5iYXNlbGluZT1iLXRoaXMuYm90dG9tUm93LmRlc2NlbmRlckhlaWdodDt0aGlzLndpZHRoV2l0aENoaWxkcmVuPWErdGhpcy5zdGFydFg7dGhpcy5oZWlnaHQ9Yjt0aGlzLnN0YXJ0WT10aGlzLnRvcFJvdy5jYXBsaW5lfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJGluZm89e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJGluZm8uUmVuZGVySW5mbz1SZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkaW5mbzt2YXIgUmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyRyZW5kZXJlcj1jbGFzcyBleHRlbmRzIFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRyZW5kZXJlcntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKX1tYWtlUmVuZGVySW5mb18oYSl7cmV0dXJuIG5ldyBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkaW5mbyh0aGlzLGEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZyhcInRocmFzb3NcIixSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHJlbmRlcmVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHJlbmRlcmVyPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHJlbmRlcmVyLlJlbmRlcmVyPVJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkcmVuZGVyZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyR0aHJhc29zPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyR0aHJhc29zLlJlbmRlckluZm89UmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJGluZm87bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHRocmFzb3MuUmVuZGVyZXI9UmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyRyZW5kZXJlcjt2YXIgZGVmYXVsdEJsb2NrU3R5bGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkemVsb3M9e2NvbG91cl9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjQ0Y2M0NGXCIsY29sb3VyU2Vjb25kYXJ5OlwiI0M5NEZDOVwiLGNvbG91clRlcnRpYXJ5OlwiI0JENDJCRFwifSxsaXN0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM5OTY2RkZcIixjb2xvdXJTZWNvbmRhcnk6XCIjODU1Q0Q2XCIsY29sb3VyVGVydGlhcnk6XCIjNzc0RENCXCJ9LGxvZ2ljX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM0Qzk3RkZcIixjb2xvdXJTZWNvbmRhcnk6XCIjNDI4MEQ3XCIsY29sb3VyVGVydGlhcnk6XCIjMzM3M0NDXCJ9LGxvb3BfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzBmQkQ4Q1wiLGNvbG91clNlY29uZGFyeTpcIiMwREE1N0FcIixjb2xvdXJUZXJ0aWFyeTpcIiMwQjhFNjlcIn0sbWF0aF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjNTlDMDU5XCIsY29sb3VyU2Vjb25kYXJ5OlwiIzQ2Qjk0NlwiLGNvbG91clRlcnRpYXJ5OlwiIzM4OTQzOFwifSxcbnByb2NlZHVyZV9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjRkY2NjgwXCIsY29sb3VyU2Vjb25kYXJ5OlwiI0ZGNEQ2QVwiLGNvbG91clRlcnRpYXJ5OlwiI0ZGMzM1NVwifSx0ZXh0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiNGRkJGMDBcIixjb2xvdXJTZWNvbmRhcnk6XCIjRTZBQzAwXCIsY29sb3VyVGVydGlhcnk6XCIjQ0M5OTAwXCJ9LHZhcmlhYmxlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiNGRjhDMUFcIixjb2xvdXJTZWNvbmRhcnk6XCIjRkY4MDAwXCIsY29sb3VyVGVydGlhcnk6XCIjREI2RTAwXCJ9LHZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiI0ZGOEMxQVwiLGNvbG91clNlY29uZGFyeTpcIiNGRjgwMDBcIixjb2xvdXJUZXJ0aWFyeTpcIiNEQjZFMDBcIn0saGF0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM0Qzk3RkZcIixjb2xvdXJTZWNvbmRhcnk6XCIjNDI4MEQ3XCIsY29sb3VyVGVydGlhcnk6XCIjMzM3M0NDXCIsaGF0OlwiY2FwXCJ9fSxjYXRlZ29yeVN0eWxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zPVxue2NvbG91cl9jYXRlZ29yeTp7Y29sb3VyOlwiI0NGNjNDRlwifSxsaXN0X2NhdGVnb3J5Ontjb2xvdXI6XCIjOTk2NkZGXCJ9LGxvZ2ljX2NhdGVnb3J5Ontjb2xvdXI6XCIjNEM5N0ZGXCJ9LGxvb3BfY2F0ZWdvcnk6e2NvbG91cjpcIiMwZkJEOENcIn0sbWF0aF9jYXRlZ29yeTp7Y29sb3VyOlwiIzU5QzA1OVwifSxwcm9jZWR1cmVfY2F0ZWdvcnk6e2NvbG91cjpcIiNGRjY2ODBcIn0sdGV4dF9jYXRlZ29yeTp7Y29sb3VyOlwiI0ZGQkYwMFwifSx2YXJpYWJsZV9jYXRlZ29yeTp7Y29sb3VyOlwiI0ZGOEMxQVwifSx2YXJpYWJsZV9keW5hbWljX2NhdGVnb3J5Ontjb2xvdXI6XCIjRkY4QzFBXCJ9fSxaZWxvcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zPW5ldyBUaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lKFwiemVsb3NcIixkZWZhdWx0QmxvY2tTdHlsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSR6ZWxvcyxjYXRlZ29yeVN0eWxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zKSxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSR6ZWxvcz17WmVsb3M6WmVsb3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSR6ZWxvc307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSR0aGVtZXM9e0NsYXNzaWM6Q2xhc3NpYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWMsWmVsb3M6WmVsb3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSR6ZWxvc307dmFyIFRvb2xib3hJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94X2l0ZW09Y2xhc3N7Y29uc3RydWN0b3IoYSxiLGMpe3RoaXMuaWRfPWEudG9vbGJveGl0ZW1pZHx8Z2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTt0aGlzLmxldmVsXz0odGhpcy5wYXJlbnRfPWN8fG51bGwpP3RoaXMucGFyZW50Xy5nZXRMZXZlbCgpKzE6MDt0aGlzLnRvb2xib3hJdGVtRGVmXz1hO3RoaXMucGFyZW50VG9vbGJveF89Yjt0aGlzLndvcmtzcGFjZV89dGhpcy5wYXJlbnRUb29sYm94Xy5nZXRXb3Jrc3BhY2UoKX1pbml0KCl7fWdldERpdigpe3JldHVybiBudWxsfWdldENsaWNrVGFyZ2V0KCl7cmV0dXJuIG51bGx9Z2V0SWQoKXtyZXR1cm4gdGhpcy5pZF99Z2V0UGFyZW50KCl7cmV0dXJuIG51bGx9Z2V0TGV2ZWwoKXtyZXR1cm4gdGhpcy5sZXZlbF99aXNTZWxlY3RhYmxlKCl7cmV0dXJuITF9aXNDb2xsYXBzaWJsZSgpe3JldHVybiExfWRpc3Bvc2UoKXt9c2V0VmlzaWJsZV8oYSl7fWdldEZvY3VzYWJsZUVsZW1lbnQoKXtjb25zdCBhPVxudGhpcy5nZXREaXYoKTtpZighYSl0aHJvdyBFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgdG9vbGJveCBpdGVtIGJlZm9yZSBET00gaXMgaW5pdGlhbGl6ZWQuXCIpO2lmKCEoYSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvdyBFcnJvcihcIlRvb2xib3ggaXRlbSBkaXYgaXMgdW5leHBlY3RlZGx5IG5vdCBhbiBIVE1MIGVsZW1lbnQuXCIpO3JldHVybiBhfWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpcy5wYXJlbnRUb29sYm94X31vbk5vZGVGb2N1cygpe31vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveF9pdGVtPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3hfaXRlbS5Ub29sYm94SXRlbT1Ub29sYm94SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveF9pdGVtO3ZhciBUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5PWNsYXNzIGV4dGVuZHMgVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3hfaXRlbXtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSxiLGMpO3RoaXMuY29sb3VyXz10aGlzLm5hbWVfPVwiXCI7dGhpcy5sYWJlbERvbV89dGhpcy5pY29uRG9tXz10aGlzLnJvd0NvbnRlbnRzXz10aGlzLnJvd0Rpdl89dGhpcy5odG1sRGl2Xz1udWxsO3RoaXMuaXNEaXNhYmxlZF89dGhpcy5pc0hpZGRlbl89ITE7dGhpcy5mbHlvdXRJdGVtc189W107dGhpcy5jc3NDb25maWdfPXRoaXMubWFrZURlZmF1bHRDc3NDb25maWdfKCl9aW5pdCgpe3RoaXMucGFyc2VDYXRlZ29yeURlZl8odGhpcy50b29sYm94SXRlbURlZl8pO3RoaXMucGFyc2VDb250ZW50c18odGhpcy50b29sYm94SXRlbURlZl8pO3RoaXMuY3JlYXRlRG9tXygpO3RoaXMudG9vbGJveEl0ZW1EZWZfLmhpZGRlbj09PVxuXCJ0cnVlXCImJnRoaXMuaGlkZSgpfW1ha2VEZWZhdWx0Q3NzQ29uZmlnXygpe3JldHVybntjb250YWluZXI6XCJibG9ja2x5VG9vbGJveENhdGVnb3J5Q29udGFpbmVyXCIscm93OlwiYmxvY2tseVRvb2xib3hDYXRlZ29yeVwiLHJvd2NvbnRlbnRjb250YWluZXI6XCJibG9ja2x5VHJlZVJvd0NvbnRlbnRDb250YWluZXJcIixpY29uOlwiYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb25cIixsYWJlbDpcImJsb2NrbHlUb29sYm94Q2F0ZWdvcnlMYWJlbFwiLGNvbnRlbnRzOlwiYmxvY2tseVRvb2xib3hDYXRlZ29yeUdyb3VwXCIsc2VsZWN0ZWQ6XCJibG9ja2x5VG9vbGJveFNlbGVjdGVkXCIsb3Blbmljb246XCJibG9ja2x5VG9vbGJveENhdGVnb3J5SWNvbk9wZW5cIixjbG9zZWRpY29uOlwiYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb25DbG9zZWRcIn19cGFyc2VDb250ZW50c18oYSl7aWYoXCJjdXN0b21cImluIGEpdGhpcy5mbHlvdXRJdGVtc189YS5jdXN0b207ZWxzZSBpZihhPWEuY29udGVudHMpZm9yKGxldCBiPVxuMDtiPGEubGVuZ3RoO2IrKyl7Y29uc3QgYz1hW2JdO0FycmF5LmlzQXJyYXkodGhpcy5mbHlvdXRJdGVtc18pJiZ0aGlzLmZseW91dEl0ZW1zXy5wdXNoKGMpfX1wYXJzZUNhdGVnb3J5RGVmXyhhKXt0aGlzLm5hbWVfPVwibmFtZVwiaW4gYT9yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEubmFtZSk6XCJcIjt0aGlzLmNvbG91cl89dGhpcy5nZXRDb2xvdXJfKGEpO09iamVjdC5hc3NpZ24odGhpcy5jc3NDb25maWdfLGEuY3NzY29uZmlnfHxhLmNzc0NvbmZpZyl9Y3JlYXRlRG9tXygpe3RoaXMuaHRtbERpdl89dGhpcy5jcmVhdGVDb250YWluZXJfKCk7c2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5odG1sRGl2XyxSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5UUkVFSVRFTSk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaHRtbERpdl8sXG5TdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuU0VMRUNURUQsITEpO3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmh0bWxEaXZfLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5MRVZFTCx0aGlzLmxldmVsXysxKTt0aGlzLnJvd0Rpdl89dGhpcy5jcmVhdGVSb3dDb250YWluZXJfKCk7dGhpcy5yb3dEaXZfLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCI7dGhpcy5odG1sRGl2Xy5hcHBlbmRDaGlsZCh0aGlzLnJvd0Rpdl8pO3RoaXMucm93Q29udGVudHNfPXRoaXMuY3JlYXRlUm93Q29udGVudHNDb250YWluZXJfKCk7dGhpcy5yb3dDb250ZW50c18uc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIjt0aGlzLnJvd0Rpdl8uYXBwZW5kQ2hpbGQodGhpcy5yb3dDb250ZW50c18pO3RoaXMuaWNvbkRvbV89dGhpcy5jcmVhdGVJY29uRG9tXygpO3NldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaWNvbkRvbV8sXG5Sb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5QUkVTRU5UQVRJT04pO3RoaXMucm93Q29udGVudHNfLmFwcGVuZENoaWxkKHRoaXMuaWNvbkRvbV8pO3RoaXMubGFiZWxEb21fPXRoaXMuY3JlYXRlTGFiZWxEb21fKHRoaXMubmFtZV8pO3RoaXMucm93Q29udGVudHNfLmFwcGVuZENoaWxkKHRoaXMubGFiZWxEb21fKTtjb25zdCBhPXRoaXMubGFiZWxEb21fLmdldEF0dHJpYnV0ZShcImlkXCIpO2EmJnNldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmh0bWxEaXZfLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5MQUJFTExFREJZLGEpO3RoaXMuYWRkQ29sb3VyQm9yZGVyXyh0aGlzLmNvbG91cl8pO3JldHVybiB0aGlzLmh0bWxEaXZffWNyZWF0ZUNvbnRhaW5lcl8oKXtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS50YWJJbmRleD0tMTthLmlkPXRoaXMuZ2V0SWQoKTtjb25zdCBiPVxudGhpcy5jc3NDb25maWdfLmNvbnRhaW5lcjtiJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpO3JldHVybiBhfWNyZWF0ZVJvd0NvbnRhaW5lcl8oKXtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dmFyIGI9dGhpcy5jc3NDb25maWdfLnJvdztiJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpO2I9YCR7VG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeS5uZXN0ZWRQYWRkaW5nKnRoaXMuZ2V0TGV2ZWwoKX1weGA7dGhpcy53b3Jrc3BhY2VfLlJUTD9hLnN0eWxlLnBhZGRpbmdSaWdodD1iOmEuc3R5bGUucGFkZGluZ0xlZnQ9YjtyZXR1cm4gYX1jcmVhdGVSb3dDb250ZW50c0NvbnRhaW5lcl8oKXtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYj10aGlzLmNzc0NvbmZpZ18ucm93Y29udGVudGNvbnRhaW5lcjtiJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFxuYik7cmV0dXJuIGF9Y3JlYXRlSWNvbkRvbV8oKXtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2lmKCF0aGlzLnBhcmVudFRvb2xib3hfLmlzSG9yaXpvbnRhbCgpKXtjb25zdCBiPXRoaXMuY3NzQ29uZmlnXy5pY29uO2ImJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYil9YS5zdHlsZS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCI7cmV0dXJuIGF9Y3JlYXRlTGFiZWxEb21fKGEpe2NvbnN0IGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Yi5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuZ2V0SWQoKStcIi5sYWJlbFwiKTtiLnRleHRDb250ZW50PWE7KGE9dGhpcy5jc3NDb25maWdfLmxhYmVsKSYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYixhKTtyZXR1cm4gYn1yZWZyZXNoVGhlbWUoKXt0aGlzLmNvbG91cl89dGhpcy5nZXRDb2xvdXJfKHRoaXMudG9vbGJveEl0ZW1EZWZfKTt0aGlzLmFkZENvbG91ckJvcmRlcl8odGhpcy5jb2xvdXJfKX1hZGRDb2xvdXJCb3JkZXJfKGEpe2EmJlxuKGE9VG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeS5ib3JkZXJXaWR0aCtcInB4IHNvbGlkIFwiKyhhfHxcIiNkZGRcIiksdGhpcy53b3Jrc3BhY2VfLlJUTD90aGlzLnJvd0Rpdl8uc3R5bGUuYm9yZGVyUmlnaHQ9YTp0aGlzLnJvd0Rpdl8uc3R5bGUuYm9yZGVyTGVmdD1hKX1nZXRDb2xvdXJfKGEpe2NvbnN0IGI9YS5jYXRlZ29yeXN0eWxlfHxhLmNhdGVnb3J5U3R5bGU7aWYoKGE9YS5jb2xvdXIpJiZiKWNvbnNvbGUud2FybignVG9vbGJveCBjYXRlZ29yeSBcIicrdGhpcy5uYW1lXysnXCIgbXVzdCBub3QgaGF2ZSBib3RoIGEgc3R5bGUgYW5kIGEgY29sb3VyJyk7ZWxzZXtpZihiKXJldHVybiB0aGlzLmdldENvbG91cmZyb21TdHlsZShiKTtpZihhKXJldHVybiB0aGlzLnBhcnNlQ29sb3VyKGEpfXJldHVyblwiXCJ9Z2V0Q29sb3VyZnJvbVN0eWxlKGEpe3ZhciBiPXRoaXMud29ya3NwYWNlXy5nZXRUaGVtZSgpO2lmKGEmJmIpe2lmKChiPWIuY2F0ZWdvcnlTdHlsZXNbYV0pJiZcbmIuY29sb3VyKXJldHVybiB0aGlzLnBhcnNlQ29sb3VyKGIuY29sb3VyKTtjb25zb2xlLndhcm4oJ1N0eWxlIFwiJythKydcIiBtdXN0IGV4aXN0IGFuZCBjb250YWluIGEgY29sb3VyIHZhbHVlJyl9cmV0dXJuXCJcIn1nZXRDbGlja1RhcmdldCgpe3JldHVybiB0aGlzLnJvd0Rpdl99cGFyc2VDb2xvdXIoYSl7YT1yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEpO2lmKGE9PW51bGx8fGE9PT1cIlwiKXJldHVyblwiXCI7dmFyIGI9TnVtYmVyKGEpO2lmKGlzTmFOKGIpKXtpZihiPXBhcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGEpKXJldHVybiBiO2NvbnNvbGUud2FybignVG9vbGJveCBjYXRlZ29yeSBcIicrdGhpcy5uYW1lXysnXCIgaGFzIHVucmVjb2duaXplZCBjb2xvdXIgYXR0cmlidXRlOiAnK2EpO3JldHVyblwiXCJ9cmV0dXJuIGh1ZVRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGIpfW9wZW5JY29uXyhhKXtpZihhKXt2YXIgYj1cbnRoaXMuY3NzQ29uZmlnXy5jbG9zZWRpY29uO2ImJnJlbW92ZUNsYXNzZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKTsoYj10aGlzLmNzc0NvbmZpZ18ub3Blbmljb24pJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpfX1jbG9zZUljb25fKGEpe2lmKGEpe3ZhciBiPXRoaXMuY3NzQ29uZmlnXy5vcGVuaWNvbjtiJiZyZW1vdmVDbGFzc2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYik7KGI9dGhpcy5jc3NDb25maWdfLmNsb3NlZGljb24pJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpfX1zZXRWaXNpYmxlXyhhKXt0aGlzLmh0bWxEaXZfLnN0eWxlLmRpc3BsYXk9YT9cImJsb2NrXCI6XCJub25lXCI7dGhpcy5pc0hpZGRlbl89IWE7dGhpcy5wYXJlbnRUb29sYm94Xy5nZXRTZWxlY3RlZEl0ZW0oKT09PXRoaXMmJnRoaXMucGFyZW50VG9vbGJveF8uY2xlYXJTZWxlY3Rpb24oKX1oaWRlKCl7dGhpcy5zZXRWaXNpYmxlXyghMSl9c2hvdygpe3RoaXMuc2V0VmlzaWJsZV8oITApfWlzVmlzaWJsZSgpe3JldHVybiF0aGlzLmlzSGlkZGVuXyYmXG50aGlzLmFsbEFuY2VzdG9yc0V4cGFuZGVkXygpfWFsbEFuY2VzdG9yc0V4cGFuZGVkXygpe2xldCBhPXRoaXM7Zm9yKDthLmdldFBhcmVudCgpOylpZihhPWEuZ2V0UGFyZW50KCksIWEuaXNFeHBhbmRlZCgpKXJldHVybiExO3JldHVybiEwfWlzU2VsZWN0YWJsZSgpe3JldHVybiB0aGlzLmlzVmlzaWJsZSgpJiYhdGhpcy5pc0Rpc2FibGVkX31vbkNsaWNrKGEpe31zZXRTZWxlY3RlZChhKXtpZih0aGlzLnJvd0Rpdl8pe3ZhciBiPXRoaXMuY3NzQ29uZmlnXy5zZWxlY3RlZDtpZihhKXtjb25zdCBjPXRoaXMucGFyc2VDb2xvdXIoVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeS5kZWZhdWx0QmFja2dyb3VuZENvbG91cik7dGhpcy5yb3dEaXZfLnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLmNvbG91cl98fGM7YiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5yb3dEaXZfLGIpfWVsc2UgdGhpcy5yb3dEaXZfLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cblwiXCIsYiYmcmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5yb3dEaXZfLGIpO3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmh0bWxEaXZfLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5TRUxFQ1RFRCxhKX19c2V0RGlzYWJsZWQoYSl7dGhpcy5pc0Rpc2FibGVkXz1hO3RoaXMuZ2V0RGl2KCkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixgJHthfWApO2E/dGhpcy5nZXREaXYoKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTp0aGlzLmdldERpdigpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpfWdldE5hbWUoKXtyZXR1cm4gdGhpcy5uYW1lX31nZXRQYXJlbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnRffWdldERpdigpe3JldHVybiB0aGlzLmh0bWxEaXZffWdldENvbnRlbnRzKCl7cmV0dXJuIHRoaXMuZmx5b3V0SXRlbXNffXVwZGF0ZUZseW91dENvbnRlbnRzKGEpe3RoaXMuZmx5b3V0SXRlbXNfPVxuW107dGhpcy50b29sYm94SXRlbURlZl89dHlwZW9mIGE9PT1cInN0cmluZ1wiP3traW5kOnRoaXMudG9vbGJveEl0ZW1EZWZfLmtpbmQsY3VzdG9tOmEsaWQ6dGhpcy50b29sYm94SXRlbURlZl8uaWQsY2F0ZWdvcnlzdHlsZTp0aGlzLnRvb2xib3hJdGVtRGVmXy5jYXRlZ29yeXN0eWxlLGNvbG91cjp0aGlzLnRvb2xib3hJdGVtRGVmXy5jb2xvdXIsY3NzY29uZmlnOnRoaXMudG9vbGJveEl0ZW1EZWZfLmNzc2NvbmZpZyxoaWRkZW46dGhpcy50b29sYm94SXRlbURlZl8uaGlkZGVufTp7a2luZDp0aGlzLnRvb2xib3hJdGVtRGVmXy5raW5kLG5hbWU6XCJuYW1lXCJpbiB0aGlzLnRvb2xib3hJdGVtRGVmXz90aGlzLnRvb2xib3hJdGVtRGVmXy5uYW1lOlwiXCIsY29udGVudHM6Y29udmVydEZseW91dERlZlRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKSxpZDp0aGlzLnRvb2xib3hJdGVtRGVmXy5pZCxjYXRlZ29yeXN0eWxlOnRoaXMudG9vbGJveEl0ZW1EZWZfLmNhdGVnb3J5c3R5bGUsXG5jb2xvdXI6dGhpcy50b29sYm94SXRlbURlZl8uY29sb3VyLGNzc2NvbmZpZzp0aGlzLnRvb2xib3hJdGVtRGVmXy5jc3Njb25maWcsaGlkZGVuOnRoaXMudG9vbGJveEl0ZW1EZWZfLmhpZGRlbn07dGhpcy5wYXJzZUNvbnRlbnRzXyh0aGlzLnRvb2xib3hJdGVtRGVmXyl9ZGlzcG9zZSgpe3JlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5odG1sRGl2Xyl9fTtUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5LnJlZ2lzdHJhdGlvbk5hbWU9XCJjYXRlZ29yeVwiO1Rvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkubmVzdGVkUGFkZGluZz0xOTtUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5LmJvcmRlcldpZHRoPTg7XG5Ub29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5LmRlZmF1bHRCYWNrZ3JvdW5kQ29sb3VyPVwiIzU3ZVwiO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKCdcXG4uYmxvY2tseVRvb2xib3hDYXRlZ29yeTpub3QoLmJsb2NrbHlUb29sYm94U2VsZWN0ZWQpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjIpO1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hbbGF5b3V0PVwiaFwiXSAuYmxvY2tseVRvb2xib3hDYXRlZ29yeUNvbnRhaW5lciB7XFxuICBtYXJnaW46IDFweCA1cHggMXB4IDA7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFtkaXI9XCJSVExcIl1bbGF5b3V0PVwiaFwiXSAuYmxvY2tseVRvb2xib3hDYXRlZ29yeUNvbnRhaW5lciB7XFxuICBtYXJnaW46IDFweCAwIDFweCA1cHg7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveENhdGVnb3J5IHtcXG4gIGhlaWdodDogMjJweDtcXG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xcbiAgbWFyZ2luLWJvdHRvbTogM3B4O1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94W2Rpcj1cIlJUTFwiXSAuYmxvY2tseVRvb2xib3hDYXRlZ29yeSB7XFxuICBtYXJnaW4tbGVmdDogOHB4O1xcbiAgcGFkZGluZy1yaWdodDogMDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybCg8PDxQQVRIPj4+L3Nwcml0ZXMucG5nKTtcXG4gIGhlaWdodDogMTZweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICB3aWR0aDogMTZweDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uQ2xvc2VkIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xcHg7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFtkaXI9XCJSVExcIl0gLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uQ2xvc2VkIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTFweDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94U2VsZWN0ZWQ+LmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uQ2xvc2VkIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xN3B4O1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hbZGlyPVwiUlRMXCJdIC5ibG9ja2x5VG9vbGJveFNlbGVjdGVkPi5ibG9ja2x5VG9vbGJveENhdGVnb3J5SWNvbkNsb3NlZCB7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xN3B4O1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb25PcGVuIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC0xcHg7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFNlbGVjdGVkPi5ibG9ja2x5VG9vbGJveENhdGVnb3J5SWNvbk9wZW4ge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTE3cHg7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveENhdGVnb3J5TGFiZWwge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgZm9udDogMTZweCBzYW5zLXNlcmlmO1xcbiAgcGFkZGluZzogMCAzcHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hEZWxldGUgLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlMYWJlbCB7XFxuICBjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZGRlbGV0ZS5jdXJcIiksIGF1dG87XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFNlbGVjdGVkIC5ibG9ja2x5VG9vbGJveENhdGVnb3J5TGFiZWwge1xcbiAgY29sb3I6ICNmZmY7XFxufVxcbicpO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWF9JVEVNLFRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkucmVnaXN0cmF0aW9uTmFtZSxUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5KTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkuVG9vbGJveENhdGVnb3J5PVRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnk7dmFyIFRvb2xib3hTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvcj1jbGFzcyBleHRlbmRzIFRvb2xib3hJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94X2l0ZW17Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMuY3NzQ29uZmlnXz17Y29udGFpbmVyOlwiYmxvY2tseVRyZWVTZXBhcmF0b3JcIn07dGhpcy5odG1sRGl2PW51bGw7T2JqZWN0LmFzc2lnbih0aGlzLmNzc0NvbmZpZ18sYS5jc3Njb25maWd8fGEuY3NzQ29uZmlnKX1pbml0KCl7dGhpcy5jcmVhdGVEb21fKCl9Y3JlYXRlRG9tXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnRhYkluZGV4PS0xO2EuaWQ9dGhpcy5nZXRJZCgpO2NvbnN0IGI9dGhpcy5jc3NDb25maWdfLmNvbnRhaW5lcjtiJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpO3JldHVybiB0aGlzLmh0bWxEaXY9YX1nZXREaXYoKXtyZXR1cm4gdGhpcy5odG1sRGl2fWRpc3Bvc2UoKXtyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuaHRtbERpdil9fTtcblRvb2xib3hTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvci5yZWdpc3RyYXRpb25OYW1lPVwic2VwXCI7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoJ1xcbi5ibG9ja2x5VHJlZVNlcGFyYXRvciB7XFxuICBib3JkZXItYm90dG9tOiBzb2xpZCAjZTVlNWU1IDFweDtcXG4gIGhlaWdodDogMDtcXG4gIG1hcmdpbjogNXB4IDA7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFtsYXlvdXQ9XCJoXCJdIC5ibG9ja2x5VHJlZVNlcGFyYXRvciB7XFxuICBib3JkZXItcmlnaHQ6IHNvbGlkICNlNWU1ZTUgMXB4O1xcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG4gIGhlaWdodDogYXV0bztcXG4gIG1hcmdpbjogMCA1cHggMCA1cHg7XFxuICBwYWRkaW5nOiA1cHggMDtcXG4gIHdpZHRoOiAwO1xcbn1cXG4nKTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRPT0xCT1hfSVRFTSxUb29sYm94U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3IucmVnaXN0cmF0aW9uTmFtZSxUb29sYm94U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3IpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3I9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkc2VwYXJhdG9yLlRvb2xib3hTZXBhcmF0b3I9VG9vbGJveFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkc2VwYXJhdG9yO3ZhciBDb2xsYXBzaWJsZVRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY29sbGFwc2libGVfY2F0ZWdvcnk9Y2xhc3MgZXh0ZW5kcyBUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5e2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhLGIsYyk7dGhpcy5zdWJjYXRlZ29yaWVzRGl2Xz1udWxsO3RoaXMuZXhwYW5kZWRfPSExO3RoaXMudG9vbGJveEl0ZW1zXz1bXX1tYWtlRGVmYXVsdENzc0NvbmZpZ18oKXtjb25zdCBhPXN1cGVyLm1ha2VEZWZhdWx0Q3NzQ29uZmlnXygpO2EuY29udGVudHM9XCJibG9ja2x5VG9vbGJveENhdGVnb3J5R3JvdXBcIjtyZXR1cm4gYX1wYXJzZUNvbnRlbnRzXyhhKXtpZihcImN1c3RvbVwiaW4gYSl0aGlzLmZseW91dEl0ZW1zXz1hLmN1c3RvbTtlbHNle2NvbnN0IGI9YS5jb250ZW50cztpZihiKXt0aGlzLmZseW91dEl0ZW1zXz1bXTthPSEwO2ZvcihsZXQgYz0wO2M8Yi5sZW5ndGg7YysrKXtjb25zdCBkPVxuYltjXTshaGFzSXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5UT09MQk9YX0lURU0sZC5raW5kKXx8ZC5raW5kLnRvTG93ZXJDYXNlKCk9PT1Ub29sYm94U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3IucmVnaXN0cmF0aW9uTmFtZSYmYT8odGhpcy5mbHlvdXRJdGVtc18ucHVzaChkKSxhPSEwKToodGhpcy5jcmVhdGVUb29sYm94SXRlbShkKSxhPSExKX19fX1jcmVhdGVUb29sYm94SXRlbShhKXtsZXQgYj1hLmtpbmQ7Yi50b1VwcGVyQ2FzZSgpPT09XCJDQVRFR09SWVwiJiZpc0NhdGVnb3J5Q29sbGFwc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpJiYoYj1Db2xsYXBzaWJsZVRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY29sbGFwc2libGVfY2F0ZWdvcnkucmVnaXN0cmF0aW9uTmFtZSk7XG5hPW5ldyAoZ2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWF9JVEVNLGIpKShhLHRoaXMucGFyZW50VG9vbGJveF8sdGhpcyk7dGhpcy50b29sYm94SXRlbXNfLnB1c2goYSl9aW5pdCgpe3N1cGVyLmluaXQoKTt0aGlzLnNldEV4cGFuZGVkKHRoaXMudG9vbGJveEl0ZW1EZWZfLmV4cGFuZGVkPT09XCJ0cnVlXCJ8fHRoaXMudG9vbGJveEl0ZW1EZWZfLmV4cGFuZGVkPT09ITApfWNyZWF0ZURvbV8oKXtzdXBlci5jcmVhdGVEb21fKCk7Y29uc3QgYT10aGlzLmdldENoaWxkVG9vbGJveEl0ZW1zKCk7dGhpcy5zdWJjYXRlZ29yaWVzRGl2Xz10aGlzLmNyZWF0ZVN1YkNhdGVnb3JpZXNEb21fKGEpO3NldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuc3ViY2F0ZWdvcmllc0Rpdl8sUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuR1JPVVApO1xudGhpcy5odG1sRGl2Xy5hcHBlbmRDaGlsZCh0aGlzLnN1YmNhdGVnb3JpZXNEaXZfKTt0aGlzLmNsb3NlSWNvbl8odGhpcy5pY29uRG9tXyk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaHRtbERpdl8sU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkVYUEFOREVELCExKTtyZXR1cm4gdGhpcy5odG1sRGl2X31jcmVhdGVJY29uRG9tXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aWYoIXRoaXMucGFyZW50VG9vbGJveF8uaXNIb3Jpem9udGFsKCkpe2NvbnN0IGI9dGhpcy5jc3NDb25maWdfLmljb247YiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKTthLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCJ9YS5zdHlsZS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCI7cmV0dXJuIGF9Y3JlYXRlU3ViQ2F0ZWdvcmllc0RvbV8oYSl7Y29uc3QgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuYi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciBjPXRoaXMuY3NzQ29uZmlnXy5jb250ZW50cztjJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShiLGMpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspe2NvbnN0IGQ9YVtjXTtkLmluaXQoKTtjb25zdCBlPWQuZ2V0RGl2KCk7Yi5hcHBlbmRDaGlsZChlKTtpZihkLmdldENsaWNrVGFyZ2V0KXtsZXQgZjsoZj1kLmdldENsaWNrVGFyZ2V0KCkpPT1udWxsfHxmLnNldEF0dHJpYnV0ZShcImlkXCIsZC5nZXRJZCgpKX19cmV0dXJuIGJ9c2V0RXhwYW5kZWQoYSl7aWYodGhpcy5leHBhbmRlZF8hPT1hKXtpZih0aGlzLmV4cGFuZGVkXz1hKXRoaXMuc3ViY2F0ZWdvcmllc0Rpdl8uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5vcGVuSWNvbl8odGhpcy5pY29uRG9tXyk7ZWxzZXtsZXQgYjsoYj10aGlzLnBhcmVudFRvb2xib3hfLmdldEZseW91dCgpKT09bnVsbHx8Yi5zZXRWaXNpYmxlKCExKTt0aGlzLnN1YmNhdGVnb3JpZXNEaXZfLnN0eWxlLmRpc3BsYXk9XG5cIm5vbmVcIjt0aGlzLmNsb3NlSWNvbl8odGhpcy5pY29uRG9tXyl9c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaHRtbERpdl8sU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkVYUEFOREVELGEpO3RoaXMucGFyZW50VG9vbGJveF8uaGFuZGxlVG9vbGJveEl0ZW1SZXNpemUoKX19c2V0VmlzaWJsZV8oYSl7dGhpcy5odG1sRGl2Xy5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiO2NvbnN0IGI9dGhpcy5nZXRDaGlsZFRvb2xib3hJdGVtcygpO2ZvcihsZXQgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uc2V0VmlzaWJsZV8oYSk7dGhpcy5pc0hpZGRlbl89IWE7dGhpcy5wYXJlbnRUb29sYm94Xy5nZXRTZWxlY3RlZEl0ZW0oKT09PXRoaXMmJnRoaXMucGFyZW50VG9vbGJveF8uY2xlYXJTZWxlY3Rpb24oKX1pc0V4cGFuZGVkKCl7cmV0dXJuIHRoaXMuZXhwYW5kZWRffWlzQ29sbGFwc2libGUoKXtyZXR1cm4hMH1vbkNsaWNrKGEpe3RoaXMudG9nZ2xlRXhwYW5kZWQoKX10b2dnbGVFeHBhbmRlZCgpe3RoaXMuc2V0RXhwYW5kZWQoIXRoaXMuZXhwYW5kZWRfKX1nZXREaXYoKXtyZXR1cm4gdGhpcy5odG1sRGl2X31nZXRDaGlsZFRvb2xib3hJdGVtcygpe3JldHVybiB0aGlzLnRvb2xib3hJdGVtc199fTtcbkNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeS5yZWdpc3RyYXRpb25OYW1lPVwiY29sbGFwc2libGVDYXRlZ29yeVwiO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRPT0xCT1hfSVRFTSxDb2xsYXBzaWJsZVRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY29sbGFwc2libGVfY2F0ZWdvcnkucmVnaXN0cmF0aW9uTmFtZSxDb2xsYXBzaWJsZVRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY29sbGFwc2libGVfY2F0ZWdvcnkpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNvbGxhcHNpYmxlX2NhdGVnb3J5LkNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5PUNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlX3Rvb2xib3hfaXRlbT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGVfdG9vbGJveF9pdGVtLmlzU2VsZWN0YWJsZVRvb2xib3hJdGVtPWlzU2VsZWN0YWJsZVRvb2xib3hJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGVfdG9vbGJveF9pdGVtO3ZhciBUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94PWNsYXNzIGV4dGVuZHMgRGVsZXRlQXJlYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhe2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5pZD1cInRvb2xib3hcIjt0aGlzLmNvbnRlbnRzRGl2Xz10aGlzLkh0bWxEaXY9bnVsbDt0aGlzLmlzVmlzaWJsZV89ITE7dGhpcy5oZWlnaHRfPXRoaXMud2lkdGhfPTA7dGhpcy5mbHlvdXQ9bnVsbDt0aGlzLmNvbnRlbnRzPW5ldyBNYXA7dGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtXz10aGlzLnNlbGVjdGVkSXRlbV89bnVsbDt0aGlzLmJvdW5kRXZlbnRzXz1bXTt0aGlzLndvcmtzcGFjZV89YTt0aGlzLnRvb2xib3hEZWZfPWEub3B0aW9ucy5sYW5ndWFnZVRyZWV8fHtjb250ZW50czpbXX07dGhpcy5ob3Jpem9udGFsTGF5b3V0PWEub3B0aW9ucy5ob3Jpem9udGFsTGF5b3V0O3RoaXMuUlRMPWEub3B0aW9ucy5SVEw7dGhpcy50b29sYm94UG9zaXRpb249XG5hLm9wdGlvbnMudG9vbGJveFBvc2l0aW9ufW9uU2hvcnRjdXQoYSl7cmV0dXJuITF9aW5pdCgpe3ZhciBhPXRoaXMud29ya3NwYWNlXztjb25zdCBiPWEuZ2V0UGFyZW50U3ZnKCk7dGhpcy5mbHlvdXQ9dGhpcy5jcmVhdGVGbHlvdXRfKCk7dGhpcy5IdG1sRGl2PXRoaXMuY3JlYXRlRG9tXyh0aGlzLndvcmtzcGFjZV8pO2NvbnN0IGM9dGhpcy5mbHlvdXQuY3JlYXRlRG9tKFwic3ZnXCIpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGMsXCJibG9ja2x5VG9vbGJveEZseW91dFwiKTtpbnNlcnRBZnRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShjLGIpO3RoaXMuc2V0VmlzaWJsZSghMCk7dGhpcy5mbHlvdXQuaW5pdChhKTt0aGlzLnJlbmRlcih0aGlzLnRvb2xib3hEZWZfKTthPWEuZ2V0VGhlbWVNYW5hZ2VyKCk7YS5zdWJzY3JpYmUodGhpcy5IdG1sRGl2LFwidG9vbGJveEJhY2tncm91bmRDb2xvdXJcIixcImJhY2tncm91bmQtY29sb3JcIik7YS5zdWJzY3JpYmUodGhpcy5IdG1sRGl2LFxuXCJ0b29sYm94Rm9yZWdyb3VuZENvbG91clwiLFwiY29sb3JcIik7dGhpcy53b3Jrc3BhY2VfLmdldENvbXBvbmVudE1hbmFnZXIoKS5hZGRDb21wb25lbnQoe2NvbXBvbmVudDp0aGlzLHdlaWdodDpDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ29tcG9uZW50V2VpZ2h0LlRPT0xCT1hfV0VJR0hULGNhcGFiaWxpdGllczpbQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuQVVUT0hJREVBQkxFLENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkRFTEVURV9BUkVBLENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkRSQUdfVEFSR0VUXX0pOyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLnJlZ2lzdGVyVHJlZSh0aGlzLFxuITApfWNyZWF0ZURvbV8oYSl7YT1hLmdldFBhcmVudFN2ZygpO2NvbnN0IGI9dGhpcy5jcmVhdGVDb250YWluZXJfKCk7Yi5pZD1nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO3RoaXMuY29udGVudHNEaXZfPXRoaXMuY3JlYXRlQ29udGVudHNDb250YWluZXJfKCk7c2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5jb250ZW50c0Rpdl8sUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuVFJFRSk7Yi5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRzRGl2Xyk7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShiLGEpO3RoaXMuYXR0YWNoRXZlbnRzXyhiLHRoaXMuY29udGVudHNEaXZfKTtyZXR1cm4gYn1jcmVhdGVDb250YWluZXJfKCl7Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc2V0QXR0cmlidXRlKFwibGF5b3V0XCIsdGhpcy5pc0hvcml6b250YWwoKT9cblwiaFwiOlwidlwiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseVRvb2xib3hcIik7YS5zZXRBdHRyaWJ1dGUoXCJkaXJcIix0aGlzLlJUTD9cIlJUTFwiOlwiTFRSXCIpO3JldHVybiBhfWNyZWF0ZUNvbnRlbnRzQ29udGFpbmVyXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseVRvb2xib3hDYXRlZ29yeUdyb3VwXCIpO3RoaXMuaXNIb3Jpem9udGFsKCkmJihhLnN0eWxlLmZsZXhEaXJlY3Rpb249XCJyb3dcIik7cmV0dXJuIGF9YXR0YWNoRXZlbnRzXyhhLGIpe2E9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uQ2xpY2tfLCExKTt0aGlzLmJvdW5kRXZlbnRzXy5wdXNoKGEpO2I9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYixcblwia2V5ZG93blwiLHRoaXMsdGhpcy5vbktleURvd25fLCExKTt0aGlzLmJvdW5kRXZlbnRzXy5wdXNoKGIpfW9uQ2xpY2tfKGEpe2lmKGlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKXx8YS50YXJnZXQ9PT10aGlzLkh0bWxEaXYpZ2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpLmhpZGVDaGFmZighMSk7ZWxzZXt2YXIgYj1hLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtiJiYoYj10aGlzLmdldFRvb2xib3hJdGVtQnlJZChiKSxiLmlzU2VsZWN0YWJsZSgpJiYodGhpcy5zZXRTZWxlY3RlZEl0ZW0oYiksYi5vbkNsaWNrKGEpKSk7Z2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpLmhpZGVDaGFmZighMCl9Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpfW9uS2V5RG93bl8oYSl7bGV0IGI9ITE7c3dpdGNoKGEua2V5KXtjYXNlIFwiQXJyb3dEb3duXCI6Yj1cbnRoaXMuc2VsZWN0TmV4dCgpO2JyZWFrO2Nhc2UgXCJBcnJvd1VwXCI6Yj10aGlzLnNlbGVjdFByZXZpb3VzKCk7YnJlYWs7Y2FzZSBcIkFycm93TGVmdFwiOmI9dGhpcy5zZWxlY3RQYXJlbnQoKTticmVhaztjYXNlIFwiQXJyb3dSaWdodFwiOmI9dGhpcy5zZWxlY3RDaGlsZCgpO2JyZWFrO2Nhc2UgXCJFbnRlclwiOmNhc2UgXCIgXCI6dGhpcy5zZWxlY3RlZEl0ZW1fJiZ0aGlzLnNlbGVjdGVkSXRlbV8uaXNDb2xsYXBzaWJsZSgpJiYodGhpcy5zZWxlY3RlZEl0ZW1fLnRvZ2dsZUV4cGFuZGVkKCksYj0hMCk7YnJlYWs7ZGVmYXVsdDpiPSExfSFiJiZ0aGlzLnNlbGVjdGVkSXRlbV8mJnRoaXMuc2VsZWN0ZWRJdGVtXy5vbktleURvd24mJihiPXRoaXMuc2VsZWN0ZWRJdGVtXy5vbktleURvd24oYSkpO2ImJmEucHJldmVudERlZmF1bHQoKX1jcmVhdGVGbHlvdXRfKCl7Y29uc3QgYT10aGlzLndvcmtzcGFjZV8sYj1hLmNvcHlPcHRpb25zRm9yRmx5b3V0KCk7Yi50b29sYm94UG9zaXRpb249YS5vcHRpb25zLnRvb2xib3hQb3NpdGlvbjtcbnJldHVybiBuZXcgKGEuaG9yaXpvbnRhbExheW91dD9nZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVFNfSE9SSVpPTlRBTF9UT09MQk9YLGEub3B0aW9ucywhMCk6Z2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRTX1ZFUlRJQ0FMX1RPT0xCT1gsYS5vcHRpb25zLCEwKSkoYil9cmVuZGVyKGEpe3RoaXMudG9vbGJveERlZl89YTt0aGlzLmNvbnRlbnRzLmZvckVhY2goYj0+Yi5kaXNwb3NlKCkpO3RoaXMuY29udGVudHMuY2xlYXIoKTt0aGlzLnJlbmRlckNvbnRlbnRzXyhhLmNvbnRlbnRzKTt0aGlzLnBvc2l0aW9uKCk7dGhpcy5oYW5kbGVUb29sYm94SXRlbVJlc2l6ZSgpfXJlbmRlckNvbnRlbnRzXyhhKXtjb25zdCBiPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbmZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuY3JlYXRlVG9vbGJveEl0ZW0oYVtjXSxiKTt0aGlzLmNvbnRlbnRzRGl2Xy5hcHBlbmRDaGlsZChiKX1jcmVhdGVUb29sYm94SXRlbShhLGIpe3ZhciBjPWEua2luZDtjLnRvVXBwZXJDYXNlKCk9PT1cIkNBVEVHT1JZXCImJmlzQ2F0ZWdvcnlDb2xsYXBzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSkmJihjPUNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeS5yZWdpc3RyYXRpb25OYW1lKTtpZihjPWdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRPT0xCT1hfSVRFTSxjLnRvTG93ZXJDYXNlKCkpKWE9bmV3IGMoYSx0aGlzKSxhLmluaXQoKSx0aGlzLmFkZFRvb2xib3hJdGVtXyhhKSwoYz1hLmdldERpdigpKSYmYi5hcHBlbmRDaGlsZChjKSxcbmEuZ2V0Q2xpY2tUYXJnZXQoKSYmYS5nZXRDbGlja1RhcmdldCgpLnNldEF0dHJpYnV0ZShcImlkXCIsYS5nZXRJZCgpKX1hZGRUb29sYm94SXRlbV8oYSl7dGhpcy5jb250ZW50cy5zZXQoYS5nZXRJZCgpLGEpO2lmKGEuaXNDb2xsYXBzaWJsZSgpKXthPWEuZ2V0Q2hpbGRUb29sYm94SXRlbXMoKTtmb3IobGV0IGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmFkZFRvb2xib3hJdGVtXyhhW2JdKX19Z2V0VG9vbGJveEl0ZW1zKCl7cmV0dXJuWy4uLnRoaXMuY29udGVudHMudmFsdWVzKCldfWFkZFN0eWxlKGEpe2EmJnRoaXMuSHRtbERpdiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5IdG1sRGl2LGEpfXJlbW92ZVN0eWxlKGEpe2EmJnRoaXMuSHRtbERpdiYmcmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5IdG1sRGl2LGEpfWdldENsaWVudFJlY3QoKXtpZighdGhpcy5IdG1sRGl2fHwhdGhpcy5pc1Zpc2libGVfKXJldHVybiBudWxsO1xudmFyIGE9dGhpcy5IdG1sRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IGI9YS50b3AsYz1iK2EuaGVpZ2h0LGQ9YS5sZWZ0O2E9ZCthLndpZHRoO3JldHVybiB0aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A/bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KC0xRTcsYywtMUU3LDFFNyk6dGhpcy50b29sYm94UG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guQk9UVE9NP25ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChiLDFFNywtMUU3LDFFNyk6dGhpcy50b29sYm94UG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVD9uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoLTFFNywxRTcsLTFFNyxhKTpuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoLTFFNyxcbjFFNyxkLDFFNyl9d291bGREZWxldGUoYSl7YSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnP3RoaXMudXBkYXRlV291bGREZWxldGVfKCFhLmdldFBhcmVudCgpJiZhLmlzRGVsZXRhYmxlKCkpOnRoaXMudXBkYXRlV291bGREZWxldGVfKGlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShhKSYmYS5pc0RlbGV0YWJsZSgpKTtyZXR1cm4gdGhpcy53b3VsZERlbGV0ZV99b25EcmFnRW50ZXIoYSl7dGhpcy51cGRhdGVDdXJzb3JEZWxldGVTdHlsZV8oITApfW9uRHJhZ0V4aXQoYSl7dGhpcy51cGRhdGVDdXJzb3JEZWxldGVTdHlsZV8oITEpfW9uRHJvcChhKXt0aGlzLnVwZGF0ZUN1cnNvckRlbGV0ZVN0eWxlXyghMSl9dXBkYXRlV291bGREZWxldGVfKGEpe2EhPT10aGlzLndvdWxkRGVsZXRlXyYmKHRoaXMudXBkYXRlQ3Vyc29yRGVsZXRlU3R5bGVfKCExKSx0aGlzLndvdWxkRGVsZXRlXz1cbmEsdGhpcy51cGRhdGVDdXJzb3JEZWxldGVTdHlsZV8oITApKX11cGRhdGVDdXJzb3JEZWxldGVTdHlsZV8oYSl7Y29uc3QgYj10aGlzLndvdWxkRGVsZXRlXz9cImJsb2NrbHlUb29sYm94RGVsZXRlXCI6XCJibG9ja2x5VG9vbGJveEdyYWJcIjthP3RoaXMuYWRkU3R5bGUoYik6dGhpcy5yZW1vdmVTdHlsZShiKX1nZXRUb29sYm94SXRlbUJ5SWQoYSl7cmV0dXJuIHRoaXMuY29udGVudHMuZ2V0KGEpfHxudWxsfWdldFdpZHRoKCl7cmV0dXJuIHRoaXMud2lkdGhffWdldEhlaWdodCgpe3JldHVybiB0aGlzLmhlaWdodF99Z2V0Rmx5b3V0KCl7cmV0dXJuIHRoaXMuZmx5b3V0fWdldFdvcmtzcGFjZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZV99Z2V0U2VsZWN0ZWRJdGVtKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtX31nZXRQcmV2aW91c2x5U2VsZWN0ZWRJdGVtKCl7cmV0dXJuIHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbV99aXNIb3Jpem9udGFsKCl7cmV0dXJuIHRoaXMuaG9yaXpvbnRhbExheW91dH1wb3NpdGlvbigpe2NvbnN0IGE9XG50aGlzLndvcmtzcGFjZV8uZ2V0TWV0cmljcygpLGI9dGhpcy5IdG1sRGl2O2ImJih0aGlzLmhvcml6b250YWxMYXlvdXQ/KGIuc3R5bGUubGVmdD1cIjBcIixiLnN0eWxlLmhlaWdodD1cImF1dG9cIixiLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuaGVpZ2h0Xz1iLm9mZnNldEhlaWdodCx0aGlzLndpZHRoXz1hLnZpZXdXaWR0aCx0aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A/Yi5zdHlsZS50b3A9XCIwXCI6Yi5zdHlsZS5ib3R0b209XCIwXCIpOih0aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5SSUdIVD9iLnN0eWxlLnJpZ2h0PVwiMFwiOmIuc3R5bGUubGVmdD1cIjBcIixiLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLndpZHRoXz1iLm9mZnNldFdpZHRoLHRoaXMuaGVpZ2h0Xz1hLnZpZXdIZWlnaHQpLHRoaXMuZmx5b3V0LnBvc2l0aW9uKCkpfWhhbmRsZVRvb2xib3hJdGVtUmVzaXplKCl7Y29uc3QgYT1cbnRoaXMud29ya3NwYWNlXzt2YXIgYj10aGlzLkh0bWxEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Y29uc3QgYz10aGlzLmdldEZseW91dCgpLGQ9dGhpcy50b29sYm94UG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVD9hLnNjcm9sbFgrYi53aWR0aCsoKGM9PW51bGw/MDpjLmlzVmlzaWJsZSgpKT9jLmdldFdpZHRoKCk6MCk6YS5zY3JvbGxYO2I9dGhpcy50b29sYm94UG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QP2Euc2Nyb2xsWStiLmhlaWdodCsoKGM9PW51bGw/MDpjLmlzVmlzaWJsZSgpKT9jLmdldEhlaWdodCgpOjApOmEuc2Nyb2xsWTthLnRyYW5zbGF0ZShkLGIpO3N2Z1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihhKX1jbGVhclNlbGVjdGlvbigpe3RoaXMuc2V0U2VsZWN0ZWRJdGVtKG51bGwpfXJlZnJlc2hUaGVtZSgpe3RoaXMuY29udGVudHMuZm9yRWFjaChhPT5cbnthLnJlZnJlc2hUaGVtZSYmYS5yZWZyZXNoVGhlbWUoKX0pfXJlZnJlc2hTZWxlY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbV8mJnRoaXMuc2VsZWN0ZWRJdGVtXy5pc1NlbGVjdGFibGUoKSYmdGhpcy5zZWxlY3RlZEl0ZW1fLmdldENvbnRlbnRzKCkubGVuZ3RoJiZ0aGlzLmZseW91dC5zaG93KHRoaXMuc2VsZWN0ZWRJdGVtXy5nZXRDb250ZW50cygpKX1zZXRWaXNpYmxlKGEpe3RoaXMuaXNWaXNpYmxlXyE9PWEmJih0aGlzLkh0bWxEaXYuc3R5bGUuZGlzcGxheT1hP1wiYmxvY2tcIjpcIm5vbmVcIix0aGlzLmlzVmlzaWJsZV89YSx0aGlzLndvcmtzcGFjZV8ucmVjb3JkRHJhZ1RhcmdldHMoKSl9YXV0b0hpZGUoYSl7IWEmJnRoaXMuZmx5b3V0JiZ0aGlzLmZseW91dC5hdXRvQ2xvc2UmJnRoaXMuY2xlYXJTZWxlY3Rpb24oKX1zZXRTZWxlY3RlZEl0ZW0oYSl7Y29uc3QgYj10aGlzLnNlbGVjdGVkSXRlbV87IWEmJiFifHxhJiYhaXNTZWxlY3RhYmxlVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZV90b29sYm94X2l0ZW0oYSl8fFxuKHRoaXMuc2hvdWxkRGVzZWxlY3RJdGVtXyhiLGEpJiZiIT09bnVsbCYmdGhpcy5kZXNlbGVjdEl0ZW1fKGIpLHRoaXMuc2hvdWxkU2VsZWN0SXRlbV8oYixhKSYmYSE9PW51bGwmJnRoaXMuc2VsZWN0SXRlbV8oYixhKSx0aGlzLnVwZGF0ZUZseW91dF8oYixhKSx0aGlzLmZpcmVTZWxlY3RFdmVudChiLGEpKX1zaG91bGREZXNlbGVjdEl0ZW1fKGEsYil7cmV0dXJuIGEhPT1udWxsJiYoIWEuaXNDb2xsYXBzaWJsZSgpfHxhIT09Yil9c2hvdWxkU2VsZWN0SXRlbV8oYSxiKXtyZXR1cm4gYiE9PW51bGwmJmIhPT1hfWRlc2VsZWN0SXRlbV8oYSl7dGhpcy5zZWxlY3RlZEl0ZW1fPW51bGw7dGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtXz1hO2Euc2V0U2VsZWN0ZWQoITEpO3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmNvbnRlbnRzRGl2XyxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuQUNUSVZFREVTQ0VOREFOVCxcIlwiKX1zZWxlY3RJdGVtXyhhLFxuYil7dGhpcy5zZWxlY3RlZEl0ZW1fPWI7dGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtXz1hO2Iuc2V0U2VsZWN0ZWQoITApO3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmNvbnRlbnRzRGl2XyxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuQUNUSVZFREVTQ0VOREFOVCxiLmdldElkKCkpfXNlbGVjdEl0ZW1CeVBvc2l0aW9uKGEpeyhhPXRoaXMuZ2V0VG9vbGJveEl0ZW1zKClbYV0pJiZ0aGlzLnNldFNlbGVjdGVkSXRlbShhKX11cGRhdGVGbHlvdXRfKGEsYil7YiYmKGEhPT1ifHxiLmlzQ29sbGFwc2libGUoKSkmJmIuZ2V0Q29udGVudHMoKS5sZW5ndGg/KHRoaXMuZmx5b3V0LnNob3coYi5nZXRDb250ZW50cygpKSx0aGlzLmZseW91dC5zY3JvbGxUb1N0YXJ0KCkpOnRoaXMuZmx5b3V0LmhpZGUoKX1maXJlU2VsZWN0RXZlbnQoYSxiKXtjb25zdCBjPWEmJmEuZ2V0TmFtZSgpO2xldCBkPWImJmIuZ2V0TmFtZSgpO1xuYT09PWImJihkPW51bGwpO2E9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVE9PTEJPWF9JVEVNX1NFTEVDVCkpKGMsZCx0aGlzLndvcmtzcGFjZV8uaWQpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9c2VsZWN0UGFyZW50KCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtXz90aGlzLnNlbGVjdGVkSXRlbV8uaXNDb2xsYXBzaWJsZSgpJiZ0aGlzLnNlbGVjdGVkSXRlbV8uaXNFeHBhbmRlZCgpPyh0aGlzLnNlbGVjdGVkSXRlbV8udG9nZ2xlRXhwYW5kZWQoKSwhMCk6dGhpcy5zZWxlY3RlZEl0ZW1fLmdldFBhcmVudCgpJiZ0aGlzLnNlbGVjdGVkSXRlbV8uZ2V0UGFyZW50KCkuaXNTZWxlY3RhYmxlKCk/KHRoaXMuc2V0U2VsZWN0ZWRJdGVtKHRoaXMuc2VsZWN0ZWRJdGVtXy5nZXRQYXJlbnQoKSksITApOiExOiExfXNlbGVjdENoaWxkKCl7aWYoIXRoaXMuc2VsZWN0ZWRJdGVtX3x8XG4hdGhpcy5zZWxlY3RlZEl0ZW1fLmlzQ29sbGFwc2libGUoKSlyZXR1cm4hMTtjb25zdCBhPXRoaXMuc2VsZWN0ZWRJdGVtXzthLmlzRXhwYW5kZWQoKT90aGlzLnNlbGVjdE5leHQoKTphLnRvZ2dsZUV4cGFuZGVkKCk7cmV0dXJuITB9c2VsZWN0TmV4dCgpe2lmKCF0aGlzLnNlbGVjdGVkSXRlbV8pcmV0dXJuITE7Y29uc3QgYT1bLi4udGhpcy5jb250ZW50cy52YWx1ZXMoKV07bGV0IGI9YS5pbmRleE9mKHRoaXMuc2VsZWN0ZWRJdGVtXykrMTtpZihiPi0xJiZiPGEubGVuZ3RoKXtsZXQgYz1hW2JdO2Zvcig7YyYmIWMuaXNTZWxlY3RhYmxlKCk7KWM9YVsrK2JdO2lmKGMmJmMuaXNTZWxlY3RhYmxlKCkpcmV0dXJuIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKGMpLCEwfXJldHVybiExfXNlbGVjdFByZXZpb3VzKCl7aWYoIXRoaXMuc2VsZWN0ZWRJdGVtXylyZXR1cm4hMTtjb25zdCBhPVsuLi50aGlzLmNvbnRlbnRzLnZhbHVlcygpXTtsZXQgYj1hLmluZGV4T2YodGhpcy5zZWxlY3RlZEl0ZW1fKS1cbjE7aWYoYj4tMSYmYjxhLmxlbmd0aCl7bGV0IGM9YVtiXTtmb3IoO2MmJiFjLmlzU2VsZWN0YWJsZSgpOyljPWFbLS1iXTtpZihjJiZjLmlzU2VsZWN0YWJsZSgpKXJldHVybiB0aGlzLnNldFNlbGVjdGVkSXRlbShjKSwhMH1yZXR1cm4hMX1kaXNwb3NlKCl7dGhpcy53b3Jrc3BhY2VfLmdldENvbXBvbmVudE1hbmFnZXIoKS5yZW1vdmVDb21wb25lbnQoXCJ0b29sYm94XCIpO3RoaXMuZmx5b3V0LmRpc3Bvc2UoKTt0aGlzLmNvbnRlbnRzLmZvckVhY2goYT0+YS5kaXNwb3NlKCkpO2ZvcihsZXQgYT0wO2E8dGhpcy5ib3VuZEV2ZW50c18ubGVuZ3RoO2ErKyl1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmJvdW5kRXZlbnRzX1thXSk7dGhpcy5ib3VuZEV2ZW50c189W107dGhpcy5jb250ZW50cy5jbGVhcigpO3RoaXMuSHRtbERpdiYmKHRoaXMud29ya3NwYWNlXy5nZXRUaGVtZU1hbmFnZXIoKS51bnN1YnNjcmliZSh0aGlzLkh0bWxEaXYpLHJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5IdG1sRGl2KSk7XG4kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS51bnJlZ2lzdGVyVHJlZSh0aGlzKX1nZXRGb2N1c2FibGVFbGVtZW50KCl7aWYoIXRoaXMuSHRtbERpdil0aHJvdyBFcnJvcihcIlRvb2xib3ggRE9NIGhhcyBub3QgeWV0IGJlZW4gY3JlYXRlZC5cIik7cmV0dXJuIHRoaXMuSHRtbERpdn1nZXRGb2N1c2FibGVUcmVlKCl7cmV0dXJuIHRoaXN9b25Ob2RlRm9jdXMoKXt9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH1nZXRSb290Rm9jdXNhYmxlTm9kZSgpe3JldHVybiB0aGlzfWdldFJlc3RvcmVkRm9jdXNhYmxlTm9kZShhKXtpZighYXx8YT09PXRoaXMpe2xldCBiO3JldHVybihiPXRoaXMuZ2V0VG9vbGJveEl0ZW1zKCkuZmluZChjPT5jLmlzU2VsZWN0YWJsZSgpKSkhPW51bGw/YjpudWxsfXJldHVybiBudWxsfWdldE5lc3RlZFRyZWVzKCl7cmV0dXJuW119bG9va1VwRm9jdXNhYmxlTm9kZShhKXtyZXR1cm4gdGhpcy5nZXRUb29sYm94SXRlbUJ5SWQoYSl9b25UcmVlRm9jdXMoYSxcbmIpe2EhPT10aGlzP3RoaXMuZ2V0U2VsZWN0ZWRJdGVtKCkhPT1hJiZ0aGlzLnNldFNlbGVjdGVkSXRlbShhKTp0aGlzLmNsZWFyU2VsZWN0aW9uKCl9b25UcmVlQmx1cihhKXtsZXQgYjthJiZhPT09KChiPXRoaXMuZmx5b3V0KT09bnVsbD92b2lkIDA6Yi5nZXRXb3Jrc3BhY2UoKSl8fHRoaXMuYXV0b0hpZGUoITEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoJ1xcbi5ibG9ja2x5VG9vbGJveERlbGV0ZSB7XFxuICBjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZGRlbGV0ZS5jdXJcIiksIGF1dG87XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveEdyYWIge1xcbiAgY3Vyc29yOiB1cmwoXCI8PDxQQVRIPj4+L2hhbmRjbG9zZWQuY3VyXCIpLCBhdXRvO1xcbiAgY3Vyc29yOiBncmFiYmluZztcXG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiYmluZztcXG59XFxuXFxuLyogQ2F0ZWdvcnkgdHJlZSBpbiBUb29sYm94LiAqL1xcbi5ibG9ja2x5VG9vbGJveCB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcXG4gIG92ZXJmbG93LXg6IHZpc2libGU7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgcGFkZGluZzogNHB4IDAgNHB4IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA3MDsgIC8qIHNvIGJsb2NrcyBnbyB1bmRlciB0b29sYm94IHdoZW4gZHJhZ2dpbmcgKi9cXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7ICAvKiBpc3N1ZSAjMTM0NSAqL1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hDYXRlZ29yeUdyb3VwIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LXdyYXA6IHdyYXA7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hDYXRlZ29yeUdyb3VwOmZvY3VzIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbicpO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWCxERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3g9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveC5Ub29sYm94PVRvb2xib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3g7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbmF2aWdhdGlvbl9wb2xpY3k9e307dmFyIFZFUlNJT04kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PVwiMTIuMy4wXCIsSU5QVVRfVkFMVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFLE9VVFBVVF9WQUxVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFLE5FWFRfU1RBVEVNRU5UJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVCxQUkVWSU9VU19TVEFURU1FTlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVCxcblRPT0xCT1hfQVRfVE9QJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QLFRPT0xCT1hfQVRfQk9UVE9NJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guQk9UVE9NLFRPT0xCT1hfQVRfTEVGVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlQsVE9PTEJPWF9BVF9SSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hULHN2Z1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9c3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PVxuZ2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixnZXRTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Z2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9ZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixzZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PXNldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixDT0xMQVBTRV9DSEFSUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q09MTEFQU0VfQ0hBUlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHMsT1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9T1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyxcblJFTkFNRV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9UkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzLERFTEVURV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9REVMRVRFX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzLENPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1DT0xMQVBTRURfSU5QVVRfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyxDT0xMQVBTRURfRklFTERfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q09MTEFQU0VEX0ZJRUxEX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMsVkFSSUFCTEVfQ0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxcblZBUklBQkxFX0RZTkFNSUNfQ0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLFBST0NFRFVSRV9DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcztXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2UucHJvdG90eXBlLm5ld0Jsb2NrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrKHRoaXMsYSxiKX07V29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5wcm90b3R5cGUubmV3QmxvY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnKHRoaXMsYSxiKX07XG5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2UucHJvdG90eXBlLm5ld0NvbW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkd29ya3NwYWNlX2NvbW1lbnQodGhpcyxhKX07V29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5wcm90b3R5cGUubmV3Q29tbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50KHRoaXMsYSl9O1dvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmcubmV3VHJhc2hjYW49ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBUcmFzaGNhbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKGEpfTtcbk1pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5wcm90b3R5cGUubmV3V29ya3NwYWNlU3ZnPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2ZyhhKX07JC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLnByb3RvdHlwZS5wb3B1bGF0ZVByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7YT1hbGxQcm9jZWR1cmVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhKTthPWFbMF0uY29uY2F0KGFbMV0pO2ZvcihsZXQgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuZ2V0TmFtZShhW2JdWzBdLCQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5OYW1lVHlwZS5QUk9DRURVUkUpfTtcbnZhciBEcm9wRG93bkRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkJsb2NrPUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2s7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQmxvY2tGbHlvdXRJbmZsYXRlcj1CbG9ja0ZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkJsb2NrTmF2aWdhdGlvblBvbGljeT1CbG9ja05hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQmxvY2tTdmc9QmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5CbG9ja3M9QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkJ1dHRvbkZseW91dEluZmxhdGVyPUJ1dHRvbkZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnV0dG9uX2ZseW91dF9pbmZsYXRlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5DT0xMQVBTRURfRklFTERfTkFNRT1DT0xMQVBTRURfRklFTERfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5DT0xMQVBTRURfSU5QVVRfTkFNRT1DT0xMQVBTRURfSU5QVVRfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5DT0xMQVBTRV9DSEFSUz1DT0xMQVBTRV9DSEFSUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvZGVHZW5lcmF0b3I9JC5Db2RlR2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5PUNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db21wb25lbnRNYW5hZ2VyPUNvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db25uZWN0aW9uPUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbm5lY3Rpb25DaGVja2VyPUNvbm5lY3Rpb25DaGVja2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9jaGVja2VyO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQ29ubmVjdGlvbkRCPUNvbm5lY3Rpb25EQiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQ29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3k9Q29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29ubmVjdGlvbl9uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db25uZWN0aW9uVHlwZT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db250ZXh0TWVudT1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQ29udGV4dE1lbnVJdGVtcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db250ZXh0TWVudVJlZ2lzdHJ5PUNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Dc3M9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5ERUxFVEVfVkFSSUFCTEVfSUQ9REVMRVRFX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkRlbGV0ZUFyZWE9RGVsZXRlQXJlYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkRyYWdUYXJnZXQ9RHJhZ1RhcmdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdfdGFyZ2V0O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkRyb3BEb3duRGl2PW1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkV2ZW50cz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5FeHRlbnNpb25zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZpZWxkPUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmllbGRDaGVja2JveD1GaWVsZENoZWNrYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmllbGREcm9wZG93bj1GaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmllbGRJbWFnZT1GaWVsZEltYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW1hZ2U7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZExhYmVsPUZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZExhYmVsU2VyaWFsaXphYmxlPUZpZWxkTGFiZWxTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbF9zZXJpYWxpemFibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmllbGROYXZpZ2F0aW9uUG9saWN5PUZpZWxkTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmaWVsZF9uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZE51bWJlcj1GaWVsZE51bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX251bWJlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZFRleHRJbnB1dD0kLkZpZWxkVGV4dElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdGV4dGlucHV0O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmllbGRWYXJpYWJsZT1GaWVsZFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdmFyaWFibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0PUZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9iYXNlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZseW91dEJ1dHRvbj1GbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZseW91dEJ1dHRvbk5hdmlnYXRpb25Qb2xpY3k9Rmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZseW91dEl0ZW09Rmx5b3V0SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9pdGVtO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0TWV0cmljc01hbmFnZXI9Rmx5b3V0TWV0cmljc01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfbWV0cmljc19tYW5hZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZseW91dE5hdmlnYXRpb25Qb2xpY3k9Rmx5b3V0TmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfbmF2aWdhdGlvbl9wb2xpY3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0TmF2aWdhdG9yPUZseW91dE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9uYXZpZ2F0b3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0U2VwYXJhdG9yPUZseW91dFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3I7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GbHlvdXRTZXBhcmF0b3JOYXZpZ2F0aW9uUG9saWN5PUZseW91dFNlcGFyYXRvck5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X3NlcGFyYXRvcl9uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Gb2N1c01hbmFnZXI9Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Gb2N1c2FibGVUcmVlVHJhdmVyc2VyPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuR2VuZXJhdG9yPSQuQ29kZUdlbmVyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlbmVyYXRvcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lkdlc3R1cmU9R2VzdHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlc3R1cmU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuR3JpZD1HcmlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ3JpZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0PUhvcml6b250YWxGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaG9yaXpvbnRhbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5JTlBVVF9WQUxVRT1JTlBVVF9WQUxVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuSW5wdXQ9SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyUHJldmlld2VyPUluc2VydGlvbk1hcmtlclByZXZpZXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluc2VydGlvbl9tYXJrZXJfcHJldmlld2VyO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuS2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcj1LZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkxhYmVsRmx5b3V0SW5mbGF0ZXI9TGFiZWxGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxhYmVsX2ZseW91dF9pbmZsYXRlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5MaW5lQ3Vyc29yPUxpbmVDdXJzb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbGluZV9jdXJzb3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTWFya2VyPU1hcmtlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRtYXJrZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTWFya2VyTWFuYWdlcj1NYXJrZXJNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWFya2VyX21hbmFnZXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5NZW51PU1lbnUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk1lbnVJdGVtPU1lbnVJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudWl0ZW07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTWV0cmljc01hbmFnZXI9TWV0cmljc01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZXRyaWNzX21hbmFnZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTXNnPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk5FWFRfU1RBVEVNRU5UPU5FWFRfU1RBVEVNRU5UJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5OYW1lcz0kLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5OYXZpZ2F0b3I9TmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmF2aWdhdG9yO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk9QUE9TSVRFX1RZUEU9T1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5PVVRQVVRfVkFMVUU9T1VUUFVUX1ZBTFVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5PcHRpb25zPU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlBSRVZJT1VTX1NUQVRFTUVOVD1QUkVWSU9VU19TVEFURU1FTlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlBST0NFRFVSRV9DQVRFR09SWV9OQU1FPUNBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuUHJvY2VkdXJlcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5SRU5BTUVfVkFSSUFCTEVfSUQ9UkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbj1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlNjcm9sbGJhcj1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuU2Nyb2xsYmFyUGFpcj1TY3JvbGxiYXJQYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyX3BhaXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5TZXBhcmF0b3JGbHlvdXRJbmZsYXRlcj1TZXBhcmF0b3JGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuU2hvcnRjdXRJdGVtcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeT1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVE9PTEJPWF9BVF9CT1RUT009VE9PTEJPWF9BVF9CT1RUT00kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRPT0xCT1hfQVRfTEVGVD1UT09MQk9YX0FUX0xFRlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVE9PTEJPWF9BVF9SSUdIVD1UT09MQk9YX0FUX1JJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UT09MQk9YX0FUX1RPUD1UT09MQk9YX0FUX1RPUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVGhlbWU9VGhlbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UaGVtZU1hbmFnZXI9VGhlbWVNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWVfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UaGVtZXM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHRoZW1lczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Ub2FzdD1Ub2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVG9vbGJveD1Ub29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRvb2xib3hDYXRlZ29yeT1Ub29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRvb2xib3hJdGVtPVRvb2xib3hJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94X2l0ZW07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVG9vbGJveFNlcGFyYXRvcj1Ub29sYm94U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVG9vbHRpcD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Ub3VjaD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UcmFzaGNhbj1UcmFzaGNhbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlVuYXR0YWNoZWRGaWVsZEVycm9yPVVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRT1DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlZBUklBQkxFX0RZTkFNSUNfQ0FURUdPUllfTkFNRT1DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVkVSU0lPTj1WRVJTSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlZhcmlhYmxlTWFwPVZhcmlhYmxlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbWFwO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlZhcmlhYmxlTW9kZWw9VmFyaWFibGVNb2RlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21vZGVsO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlZhcmlhYmxlcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlZhcmlhYmxlc0R5bmFtaWM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlZlcnRpY2FsRmx5b3V0PVZlcnRpY2FsRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3ZlcnRpY2FsO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LldpZGdldERpdj1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuV29ya3NwYWNlPVdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Xb3Jrc3BhY2VBdWRpbz1Xb3Jrc3BhY2VBdWRpbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpbzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Xb3Jrc3BhY2VEcmFnZ2VyPVdvcmtzcGFjZURyYWdnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfZHJhZ2dlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Xb3Jrc3BhY2VOYXZpZ2F0aW9uUG9saWN5PVdvcmtzcGFjZU5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LldvcmtzcGFjZVN2Zz1Xb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuWG1sPW1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuWm9vbUNvbnRyb2xzPVpvb21Db250cm9scyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHpvb21fY29udHJvbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuYmxvY2tBbmltYXRpb25zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmJsb2NrUmVuZGVyaW5nPW1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5icm93c2VyRXZlbnRzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5idWJibGVzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuYnVtcE9iamVjdHM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5jbGlwYm9hcmQ9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5jb21tZW50cz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuY29tbW9uPW1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuY29uZmlnPSQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmNvbnN0YW50cz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXk9ZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmRpYWxvZz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmRyYWdnaW5nPW1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5maWVsZFJlZ2lzdHJ5PW1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5nZXJhcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmdldEZvY3VzTWFuYWdlcj0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZT1nZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuZ2V0U2VsZWN0ZWQ9Z2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaGFzQnViYmxlPWhhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmhpZGVDaGFmZj1oaWRlQ2hhZmYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lmljb25zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pbmplY3Q9aW5qZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlucHV0cz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNDb3B5YWJsZT1pc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvcHlhYmxlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzRGVsZXRhYmxlPWlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pc0RyYWdnYWJsZT1pc0RyYWdnYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNJY29uPWlzSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9pY29uO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzT2JzZXJ2YWJsZT1pc09ic2VydmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfb2JzZXJ2YWJsZTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzUGFzdGVyPWlzUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Bhc3Rlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pc1JlbmRlcmVkRWxlbWVudD1pc1JlbmRlcmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9yZW5kZXJlZF9lbGVtZW50O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzU2VsZWN0YWJsZT1pc1NlbGVjdGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pc1NlcmlhbGl6YWJsZT1pc1NlcmlhbGl6YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZXJpYWxpemFibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNWYXJpYWJsZUJhY2tlZFBhcmFtZXRlck1vZGVsPWlzVmFyaWFibGVCYWNrZWRQYXJhbWV0ZXJNb2RlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV92YXJpYWJsZV9iYWNrZWRfcGFyYW1ldGVyX21vZGVsO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkua2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcj1rZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmxheWVycz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lm5hdmlnYXRlQmxvY2s9bmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5uYXZpZ2F0ZVN0YWNrcz1uYXZpZ2F0ZVN0YWNrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5wcm9jZWR1cmVzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkucmVnaXN0cnk9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnJlbmRlck1hbmFnZW1lbnQ9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnNlcmlhbGl6YXRpb249bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuc2V0TG9jYWxlPXNldExvY2FsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5zZXRQYXJlbnRDb250YWluZXI9c2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnN2Z1Jlc2l6ZT1zdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS50aHJhc29zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyR0aHJhc29zO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnVpUG9zaXRpb249bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnV0aWxzPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS56ZWxvcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWV0cmljcz17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kaV9wYXRoX29iamVjdD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV92YXJpYWJsZV9tb2RlbD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV92YXJpYWJsZV9tYXA9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdG9vbGJveF9pdGVtPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Rvb2xib3g9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc3R5bGVhYmxlPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6ZXI9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcmVnaXN0cmFibGU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX21vZGVsPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9tYXA9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcG9zaXRpb25hYmxlPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3BhcmFtZXRlcl9tb2RlbD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9tb3ZhYmxlPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX21ldHJpY3NfbWFuYWdlcj17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9rZXlib2FyZF9hY2Nlc3NpYmxlPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV90cmVlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX3RyZWUuaXNGb2N1c2FibGVUcmVlPWlzRm9jdXNhYmxlVHJlZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfdHJlZTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mbHlvdXRfaW5mbGF0ZXI9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZmx5b3V0PXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnZXI9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ190YXJnZXQ9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRlX2FyZWE9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29udGV4dG1lbnU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29ubmVjdGlvbl9wcmV2aWV3ZXI9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29ubmVjdGlvbl9jaGVja2VyPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvbXBvbmVudD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb2xsYXBzaWJsZV90b29sYm94X2l0ZW09e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfYnViYmxlPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2JvdW5kZWRfZWxlbWVudD17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Ll9fbmFtZXNwYWNlX189JDtcbnJldHVybiBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTtcbn0pKTtcblxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9ja2x5X2NvbXByZXNzZWQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/blockly/blockly_compressed.js\n");

/***/ }),

/***/ "../../node_modules/blockly/blocks_compressed.js":
/*!*******************************************************!*\
  !*** ../../node_modules/blockly/blocks_compressed.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./blockly_compressed.js */ \"../../node_modules/blockly/blockly_compressed.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function(__parent__) {\nvar $=__parent__.__namespace__;\nvar blocks$$module$build$src$blocks$variables_dynamic=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"variables_get_dynamic\",message0:\"%1\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"}],output:null,style:\"variable_dynamic_blocks\",helpUrl:\"%{BKY_VARIABLES_GET_HELPURL}\",tooltip:\"%{BKY_VARIABLES_GET_TOOLTIP}\",extensions:[\"contextMenu_variableDynamicSetterGetter\"]},{type:\"variables_set_dynamic\",message0:\"%{BKY_VARIABLES_SET}\",args0:[{type:\"field_variable\",\nname:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"},{type:\"input_value\",name:\"VALUE\"}],previousStatement:null,nextStatement:null,style:\"variable_dynamic_blocks\",tooltip:\"%{BKY_VARIABLES_SET_TOOLTIP}\",helpUrl:\"%{BKY_VARIABLES_SET_HELPURL}\",extensions:[\"contextMenu_variableDynamicSetterGetter\"]}]),CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic={customContextMenu:function(a){if(!this.isInFlyout){if(this.type===\"variables_get_dynamic\"){var b=\"variables_set_dynamic\";\nvar c=$.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else b=\"variables_get_dynamic\",c=$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField(\"VAR\");b={type:b,fields:{VAR:d.saveState(!0)}};a.push({enabled:this.workspace.remainingCapacity()>0,text:c.replace(\"%1\",d.getText()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)})}else if(this.type===\"variables_get_dynamic\"||this.type===\"variables_get_reporter_dynamic\")c={text:$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,\nenabled:!0,callback:renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)},d=this.getField(\"VAR\").getText(),d={text:$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",d),enabled:!0,callback:deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)},a.unshift(c),a.unshift(d)},onchange:function(a){a=this.getFieldValue(\"VAR\");a=$.getVariable$$module$build$src$core$variables(this.workspace,a);this.type===\"variables_get_dynamic\"?this.outputConnection.setCheck(a.getType()):\nthis.getInput(\"VALUE\").connection.setCheck(a.getType())}},renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic=function(a){return function(){const b=a.workspace,c=a.getField(\"VAR\").getVariable();$.renameVariable$$module$build$src$core$variables(b,c)}},deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic=function(a){return function(){const b=a.getField(\"VAR\").getVariable();b&&$.deleteVariable$$module$build$src$core$variables(b.getWorkspace(),b,a)}};\n$.registerMixin$$module$build$src$core$extensions(\"contextMenu_variableDynamicSetterGetter\",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables_dynamic);var module$build$src$blocks$variables_dynamic={blocks:blocks$$module$build$src$blocks$variables_dynamic};var blocks$$module$build$src$blocks$variables=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"variables_get\",message0:\"%1\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"}],output:null,style:\"variable_blocks\",helpUrl:\"%{BKY_VARIABLES_GET_HELPURL}\",tooltip:\"%{BKY_VARIABLES_GET_TOOLTIP}\",extensions:[\"contextMenu_variableSetterGetter\"]},{type:\"variables_set\",message0:\"%{BKY_VARIABLES_SET}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"},\n{type:\"input_value\",name:\"VALUE\"}],previousStatement:null,nextStatement:null,style:\"variable_blocks\",tooltip:\"%{BKY_VARIABLES_SET_TOOLTIP}\",helpUrl:\"%{BKY_VARIABLES_SET_HELPURL}\",extensions:[\"contextMenu_variableSetterGetter\"]}]),CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables={customContextMenu:function(a){if(!this.isInFlyout){if(this.type===\"variables_get\"){var b=\"variables_set\";var c=$.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else b=\"variables_get\",\nc=$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField(\"VAR\");b={type:b,fields:{VAR:d.saveState(!0)}};a.push({enabled:this.workspace.remainingCapacity()>0,text:c.replace(\"%1\",d.getText()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)})}else if(this.type===\"variables_get\"||this.type===\"variables_get_reporter\")c={text:$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:renameOptionCallbackFactory$$module$build$src$blocks$variables(this)},\nd=this.getField(\"VAR\").getText(),d={text:$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",d),enabled:!0,callback:deleteOptionCallbackFactory$$module$build$src$blocks$variables(this)},a.unshift(c),a.unshift(d)}},renameOptionCallbackFactory$$module$build$src$blocks$variables=function(a){return function(){const b=a.workspace,c=a.getField(\"VAR\").getVariable();$.renameVariable$$module$build$src$core$variables(b,c)}},deleteOptionCallbackFactory$$module$build$src$blocks$variables=function(a){return function(){const b=\na.getField(\"VAR\").getVariable();b&&$.deleteVariable$$module$build$src$core$variables(b.getWorkspace(),b,a)}};$.registerMixin$$module$build$src$core$extensions(\"contextMenu_variableSetterGetter\",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables);var module$build$src$blocks$variables={blocks:blocks$$module$build$src$blocks$variables};var blocks$$module$build$src$blocks$text=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"text\",message0:\"%1\",args0:[{type:\"field_input\",name:\"TEXT\",text:\"\"}],output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_TEXT_HELPURL}\",tooltip:\"%{BKY_TEXT_TEXT_TOOLTIP}\",extensions:[\"text_quotes\",\"parent_tooltip_when_inline\"]},{type:\"text_join\",message0:\"\",output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_JOIN_HELPURL}\",tooltip:\"%{BKY_TEXT_JOIN_TOOLTIP}\",mutator:\"text_join_mutator\"},\n{type:\"text_create_join_container\",message0:\"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2\",args0:[{type:\"input_dummy\"},{type:\"input_statement\",name:\"STACK\"}],style:\"text_blocks\",tooltip:\"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}\",enableContextMenu:!1},{type:\"text_create_join_item\",message0:\"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}\",previousStatement:null,nextStatement:null,style:\"text_blocks\",tooltip:\"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}\",enableContextMenu:!1},{type:\"text_append\",message0:\"%{BKY_TEXT_APPEND_TITLE}\",\nargs0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_TEXT_APPEND_VARIABLE}\"},{type:\"input_value\",name:\"TEXT\"}],previousStatement:null,nextStatement:null,style:\"text_blocks\",extensions:[\"text_append_tooltip\"]},{type:\"text_length\",message0:\"%{BKY_TEXT_LENGTH_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Number\",style:\"text_blocks\",tooltip:\"%{BKY_TEXT_LENGTH_TOOLTIP}\",helpUrl:\"%{BKY_TEXT_LENGTH_HELPURL}\"},{type:\"text_isEmpty\",message0:\"%{BKY_TEXT_ISEMPTY_TITLE}\",\nargs0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Boolean\",style:\"text_blocks\",tooltip:\"%{BKY_TEXT_ISEMPTY_TOOLTIP}\",helpUrl:\"%{BKY_TEXT_ISEMPTY_HELPURL}\"},{type:\"text_indexOf\",message0:\"%{BKY_TEXT_INDEXOF_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"String\"},{type:\"field_dropdown\",name:\"END\",options:[[\"%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}\",\"FIRST\"],[\"%{BKY_TEXT_INDEXOF_OPERATOR_LAST}\",\"LAST\"]]},{type:\"input_value\",name:\"FIND\",check:\"String\"}],output:\"Number\",style:\"text_blocks\",\nhelpUrl:\"%{BKY_TEXT_INDEXOF_HELPURL}\",inputsInline:!0,extensions:[\"text_indexOf_tooltip\"]},{type:\"text_charAt\",message0:\"%{BKY_TEXT_CHARAT_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"String\"},{type:\"field_dropdown\",name:\"WHERE\",options:[[\"%{BKY_TEXT_CHARAT_FROM_START}\",\"FROM_START\"],[\"%{BKY_TEXT_CHARAT_FROM_END}\",\"FROM_END\"],[\"%{BKY_TEXT_CHARAT_FIRST}\",\"FIRST\"],[\"%{BKY_TEXT_CHARAT_LAST}\",\"LAST\"],[\"%{BKY_TEXT_CHARAT_RANDOM}\",\"RANDOM\"]]}],output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_CHARAT_HELPURL}\",\ninputsInline:!0,mutator:\"text_charAt_mutator\"}]),GET_SUBSTRING_BLOCK$$module$build$src$blocks$text={init:function(){this.WHERE_OPTIONS_1=[[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,\"FIRST\"]];this.WHERE_OPTIONS_2=[[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,\n\"FROM_END\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"STRING\").setCheck(\"String\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const a=b=>{const c=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this[\"WHERE_OPTIONS_\"+b]});c.setValidator(function(d){const e=this.getValue();d=d===\n\"FROM_START\"||d===\"FROM_END\";d!==(e===\"FROM_START\"||e===\"FROM_END\")&&this.getSourceBlock().updateAt_(b,d)});return c};this.appendDummyInput(\"WHERE1_INPUT\").appendField(a(1),\"WHERE1\");this.appendDummyInput(\"AT1\");this.appendDummyInput(\"WHERE2_INPUT\").appendField(a(2),\"WHERE2\");this.appendDummyInput(\"AT2\");$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL);this.setInputsInline(!0);this.setOutput(!0,\n\"String\");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");var b=this.getInput(\"AT1\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at1\",`${b}`);b=this.getInput(\"AT2\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at2\",`${b}`);return a},domToMutation:function(a){const b=\na.getAttribute(\"at1\")===\"true\";a=a.getAttribute(\"at2\")===\"true\";this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput(\"AT\"+a);this.removeInput(\"ORDINAL\"+a,!0);b?(this.appendValueInput(\"AT\"+a).setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\"+a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\"+a);a===2&&$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput(\"TAIL\",\n!0),this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));a===1&&(this.moveInputBefore(\"AT1\",\"WHERE2_INPUT\"),this.getInput(\"ORDINAL1\")&&this.moveInputBefore(\"ORDINAL1\",\"WHERE2_INPUT\"))}};blocks$$module$build$src$blocks$text.text_getSubstring=GET_SUBSTRING_BLOCK$$module$build$src$blocks$text;\nblocks$$module$build$src$blocks$text.text_changeCase={init:function(){const a=[[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,\"UPPERCASE\"],[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,\"LOWERCASE\"],[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,\"TITLECASE\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",\noptions:a}),\"CASE\");this.setOutput(!0,\"String\");this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}};\nblocks$$module$build$src$blocks$text.text_trim={init:function(){const a=[[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,\"BOTH\"],[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,\"LEFT\"],[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,\"RIGHT\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a}),\n\"MODE\");this.setOutput(!0,\"String\");this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}};blocks$$module$build$src$blocks$text.text_print={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:\"input_value\",name:\"TEXT\"}],previousStatement:null,nextStatement:null,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};\nvar PROMPT_COMMON$$module$build$src$blocks$text={updateType_:function(a){this.outputConnection.setCheck(a===\"NUMBER\"?\"Number\":\"String\")},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"type\",this.getFieldValue(\"TYPE\"));return a},domToMutation:function(a){this.updateType_(a.getAttribute(\"type\"))}};\nblocks$$module$build$src$blocks$text.text_prompt_ext=Object.assign({},PROMPT_COMMON$$module$build$src$blocks$text,{init:function(){var a=[[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,\"TEXT\"],[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,\"NUMBER\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);this.setStyle(\"text_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});a.setValidator(b=>{this.updateType_(b)});this.appendValueInput(\"TEXT\").appendField(a,\n\"TYPE\");this.setOutput(!0,\"String\");this.setTooltip(()=>this.getFieldValue(\"TYPE\")===\"TEXT\"?$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});\nblocks$$module$build$src$blocks$text.text_prompt=Object.assign({},PROMPT_COMMON$$module$build$src$blocks$text,{init:function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);var a=[[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,\"TEXT\"],[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,\"NUMBER\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);this.setStyle(\"text_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});\na.setValidator(b=>{this.updateType_(b)});this.appendDummyInput().appendField(a,\"TYPE\").appendField(this.newQuote_(!0)).appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:\"\"}),\"TEXT\").appendField(this.newQuote_(!1));this.setOutput(!0,\"String\");this.setTooltip(()=>this.getFieldValue(\"TYPE\")===\"TEXT\"?$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});\nblocks$$module$build$src$blocks$text.text_count={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:\"input_value\",name:\"SUB\",check:\"String\"},{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"Number\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}};\nblocks$$module$build$src$blocks$text.text_replace={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:\"input_value\",name:\"FROM\",check:\"String\"},{type:\"input_value\",name:\"TO\",check:\"String\"},{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"String\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}};\nblocks$$module$build$src$blocks$text.text_reverse={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"String\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};\nvar QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text={QUOTE_IMAGE_LEFT_DATAURI:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC\",QUOTE_IMAGE_RIGHT_DATAURI:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==\",\nQUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(a){for(let b=0,c;c=this.inputList[b];b++)for(let d=0,e;e=c.fieldRow[d];d++)if(a===e.name){c.insertFieldAt(d,this.newQuote_(!0));c.insertFieldAt(d+2,this.newQuote_(!1));return}console.warn('field named \"'+a+'\" not found in '+this.toDevString())},newQuote_:function(a){a=this.RTL?!a:a;return $.fromJson$$module$build$src$core$field_registry({type:\"field_image\",src:a?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,\nheight:this.QUOTE_IMAGE_HEIGHT,alt:a?\"\\u201c\":\"\\u201d\"})}},QUOTES_EXTENSION$$module$build$src$blocks$text=function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);this.quoteField_(\"TEXT\")},JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text={itemCount_:0,mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"items\",`${this.itemCount_}`);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute(\"items\"),10);this.updateShape_()},\nsaveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount;this.updateShape_()},decompose:function(a){const b=a.newBlock(\"text_create_join_container\");b.initSvg();let c=b.getInput(\"STACK\").connection;for(let d=0;d<this.itemCount_;d++){const e=a.newBlock(\"text_create_join_item\");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock(\"STACK\");for(a=[];b;)b.isInsertionMarker()||\na.push(b.valueConnection_),b=b.getNextBlock();for(b=0;b<this.itemCount_;b++){const c=this.getInput(\"ADD\"+b).connection.targetConnection;c&&!a.includes(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++){let c;(c=a[b])==null||c.reconnect(this,\"ADD\"+b)}},saveConnections:function(a){a=a.getInputTargetBlock(\"STACK\");let b=0;for(;a;){if(a.isInsertionMarker()){a=a.getNextBlock();continue}const c=this.getInput(\"ADD\"+b);a.valueConnection_=c&&c.connection.targetConnection;\na=a.getNextBlock();b++}},updateShape_:function(){this.itemCount_&&this.getInput(\"EMPTY\")?this.removeInput(\"EMPTY\"):this.itemCount_||this.getInput(\"EMPTY\")||this.appendDummyInput(\"EMPTY\").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput(\"ADD\"+a)){const b=this.appendValueInput(\"ADD\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);a===0&&b.appendField($.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(a=this.itemCount_;this.getInput(\"ADD\"+\na);a++)this.removeInput(\"ADD\"+a)}},JOIN_EXTENSION$$module$build$src$blocks$text=function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);this.itemCount_=2;this.updateShape_();this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"text_create_join_item\"],this))};$.register$$module$build$src$core$extensions(\"text_append_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_TEXT_APPEND_TOOLTIP}\",\"VAR\"));\nvar INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text=function(){this.setTooltip(()=>$.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\"0\":\"-1\"))},CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text={isAt_:!1,mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"at\",`${this.isAt_}`);return a},domToMutation:function(a){a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},updateAt_:function(a){this.removeInput(\"AT\",\n!0);this.removeInput(\"ORDINAL\",!0);a&&(this.appendValueInput(\"AT\").setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX));$.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput(\"TAIL\",!0),this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL));this.isAt_=a}},CHARAT_EXTENSION$$module$build$src$blocks$text=function(){this.getField(\"WHERE\").setValidator(function(a){a=\na===\"FROM_START\"||a===\"FROM_END\";const b=this.getSourceBlock();a!==b.isAt_&&b.updateAt_(a)});this.updateAt_(!0);this.setTooltip(()=>{var a=this.getFieldValue(\"WHERE\");let b=$.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;(a===\"FROM_START\"||a===\"FROM_END\")&&(a=a===\"FROM_START\"?$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(b+=\"  \"+a.replace(\"%1\",this.workspace.options.oneBasedIndex?\"#1\":\"#0\"));return b})};\n$.register$$module$build$src$core$extensions(\"text_indexOf_tooltip\",INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text);$.register$$module$build$src$core$extensions(\"text_quotes\",QUOTES_EXTENSION$$module$build$src$blocks$text);$.registerMixin$$module$build$src$core$extensions(\"quote_image_mixin\",QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);$.registerMutator$$module$build$src$core$extensions(\"text_join_mutator\",JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text,JOIN_EXTENSION$$module$build$src$blocks$text);\n$.registerMutator$$module$build$src$core$extensions(\"text_charAt_mutator\",CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text,CHARAT_EXTENSION$$module$build$src$blocks$text);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$text);var module$build$src$blocks$text={blocks:blocks$$module$build$src$blocks$text};var blocks$$module$build$src$blocks$procedures={},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures={setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput(\"STACK\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput(\"RETURN\")&&this.moveInputBefore(\"STACK\",\"RETURN\")):this.removeInput(\"STACK\",!0),this.hasStatements_=a)},updateParams_:function(){let a=\"\";this.arguments_.length&&(a=$.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+\n\" \"+this.arguments_.join(\", \"));$.disable$$module$build$src$core$events$utils();try{this.setFieldValue(a,\"PARAMS\")}finally{$.enable$$module$build$src$core$events$utils()}},mutationToDom:function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a&&b.setAttribute(\"name\",this.getFieldValue(\"NAME\"));for(let c=0;c<this.argumentVarModels_.length;c++){const d=$.createElement$$module$build$src$core$utils$xml(\"arg\"),e=this.argumentVarModels_[c];d.setAttribute(\"name\",e.getName());d.setAttribute(\"varid\",\ne.getId());a&&this.paramIds_&&d.setAttribute(\"paramId\",this.paramIds_[c]);b.appendChild(d)}this.hasStatements_||b.setAttribute(\"statements\",\"false\");return b},domToMutation:function(a){this.arguments_=[];this.argumentVarModels_=[];for(let c=0,d;d=a.childNodes[c];c++)if(d.nodeName.toLowerCase()===\"arg\"){var b=d;const e=b.getAttribute(\"name\");b=b.getAttribute(\"varid\")||b.getAttribute(\"varId\");this.arguments_.push(e);b=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,b,e,\n\"\");b!==null?this.argumentVarModels_.push(b):console.log(`Failed to create a variable named \"${e}\", ignoring.`)}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);this.setStatements_(a.getAttribute(\"statements\")!==\"false\")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const a=Object.create(null);if(this.argumentVarModels_.length){a.params=[];for(let b=0;b<this.argumentVarModels_.length;b++)a.params.push({name:this.argumentVarModels_[b].getName(),\nid:this.argumentVarModels_[b].getId()})}this.hasStatements_||(a.hasStatements=!1);return a},loadExtraState:function(a){this.arguments_=[];this.argumentVarModels_=[];if(a.params)for(let c=0;c<a.params.length;c++){var b=a.params[c];b=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,b.id,b.name,\"\");this.arguments_.push(b.getName());this.argumentVarModels_.push(b)}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);this.setStatements_(a.hasStatements===\n!1?!1:!0)},decompose:function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"block\");b.setAttribute(\"type\",\"procedures_mutatorcontainer\");var c=$.createElement$$module$build$src$core$utils$xml(\"statement\");c.setAttribute(\"name\",\"STACK\");b.appendChild(c);for(let e=0;e<this.arguments_.length;e++){const f=$.createElement$$module$build$src$core$utils$xml(\"block\");f.setAttribute(\"type\",\"procedures_mutatorarg\");var d=$.createElement$$module$build$src$core$utils$xml(\"field\");d.setAttribute(\"name\",\n\"NAME\");const g=$.createTextNode$$module$build$src$core$utils$xml(this.arguments_[e]);d.appendChild(g);f.appendChild(d);d=$.createElement$$module$build$src$core$utils$xml(\"next\");f.appendChild(d);c.appendChild(f);c=d}a=$.domToBlock$$module$build$src$core$xml(b,a);this.type===\"procedures_defreturn\"?a.setFieldValue(this.hasStatements_,\"STATEMENTS\"):a.removeInput(\"STATEMENT_INPUT\");$.mutateCallers$$module$build$src$core$procedures(this);return a},compose:function(a){this.arguments_=[];this.paramIds_=\n[];this.argumentVarModels_=[];let b=a.getInputTargetBlock(\"STACK\");for(;b&&!b.isInsertionMarker();){var c=b.getFieldValue(\"NAME\");this.arguments_.push(c);c=this.workspace.getVariable(c,\"\");this.argumentVarModels_.push(c);this.paramIds_.push(b.id);b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);a=a.getFieldValue(\"STATEMENTS\");if(a!==null&&(a=a===\"TRUE\",this.hasStatements_!==a))if(a){this.setStatements_(!0);var d;(d=this.statementConnection_)==\nnull||d.reconnect(this,\"STACK\");this.statementConnection_=null}else{d=this.getInput(\"STACK\").connection;if(this.statementConnection_=d.targetConnection)d=d.targetBlock(),d.unplug(),d.bumpNeighbours();this.setStatements_(!1)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(a,b){var c=this.workspace.getVariableById(a);if(c.getType()===\"\"){c=c.getName();b=this.workspace.getVariableById(b);var d=!1;for(let e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===\na&&(this.arguments_[e]=b.getName(),this.argumentVarModels_[e]=b,d=!0);d&&(this.displayRenamedVar_(c,b.getName()),$.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(a){const b=a.getName();let c=!1,d;for(let e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===a.getId()&&(d=this.arguments_[e],this.arguments_[e]=b,c=!0);c&&(this.displayRenamedVar_(d,b),$.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(a,b){this.updateParams_();\nvar c=this.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(c&&c.bubbleIsVisible()){c=c.getWorkspace().getAllBlocks(!1);for(let d=0,e;e=c[d];d++)e.type===\"procedures_mutatorarg\"&&$.Names$$module$build$src$core$names.equals(a,e.getFieldValue(\"NAME\"))&&e.setFieldValue(b,\"NAME\")}},customContextMenu:function(a){if(!this.isInFlyout){var b=this.getFieldValue(\"NAME\"),c={type:this.callType_,extraState:{name:b,params:this.arguments_}};a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace(\"%1\",\nb),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,c)});if(!this.isCollapsed())for(b=0;b<this.argumentVarModels_.length;b++){c=this.argumentVarModels_[b];const d={type:\"variables_get\",fields:{VAR:{name:c.getName(),id:c.getId(),type:c.getType()}}};a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace(\"%1\",c.getName()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,d)})}}}};\nblocks$$module$build$src$blocks$procedures.procedures_defnoreturn=Object.assign({},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures,{init:function(){var a=$.findLegalName$$module$build$src$core$procedures(\"\",this);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:a});a.setValidator($.rename$$module$build$src$core$procedures);a.setSpellcheck(!1);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,\"NAME\").appendField(\"\",\n\"PARAMS\");this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"procedures_mutatorarg\"],this));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT);this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP);\nthis.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue(\"NAME\"),this.arguments_,!1]},callType_:\"procedures_callnoreturn\"});\nblocks$$module$build$src$blocks$procedures.procedures_defreturn=Object.assign({},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures,{init:function(){var a=$.findLegalName$$module$build$src$core$procedures(\"\",this);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:a});a.setValidator($.rename$$module$build$src$core$procedures);a.setSpellcheck(!1);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,\"NAME\").appendField(\"\",\n\"PARAMS\");this.appendValueInput(\"RETURN\").setAlign($.Align$$module$build$src$core$inputs$align.RIGHT).appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"procedures_mutatorarg\"],this));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT);\nthis.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP);this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue(\"NAME\"),this.arguments_,!0]},callType_:\"procedures_callreturn\"});\nvar PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures={init:function(){this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE);this.appendStatementInput(\"STACK\");this.appendDummyInput(\"STATEMENT_INPUT\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_checkbox\",checked:!0}),\"STATEMENTS\");this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);\nthis.contextMenu=!1}};blocks$$module$build$src$blocks$procedures.procedures_mutatorcontainer=PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures;\nvar ProcedureArgumentField$$module$build$src$blocks$procedures=class extends $.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments);this.editingInteractively=!1}showEditor_(a){super.showEditor_(a);this.editingInteractively=!0;this.editingVariable=void 0}onFinishEditing_(a){super.onFinishEditing_(a);this.editingInteractively=!1}},PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures={init:function(){const a=new ProcedureArgumentField$$module$build$src$blocks$procedures($.DEFAULT_ARG$$module$build$src$core$procedures,\nthis.validator_);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,\"NAME\");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1},validator_:function(a){var b=this.getSourceBlock();const c=b.workspace.getRootWorkspace();a=a.replace(/[\\s\\xa0]+/g,\" \").replace(/^ | $/g,\"\");if(!a)return null;const d=(b.workspace.targetWorkspace||\nb.workspace).getAllBlocks(!1),e=a.toLowerCase();for(let f=0;f<d.length;f++){if(d[f].id===this.getSourceBlock().id)continue;const g=d[f].getFieldValue(\"NAME\");if(g&&g.toLowerCase()===e)return null}if(b.isInFlyout)return a;(b=c.getVariable(a,\"\"))&&b.getName()!==a&&c.renameVariableById(b.getId(),a);b||(this.editingInteractively?this.editingVariable?c.renameVariableById(this.editingVariable.getId(),a):this.editingVariable=c.createVariable(a,\"\"):c.createVariable(a,\"\"));return a}};\nblocks$$module$build$src$blocks$procedures.procedures_mutatorarg=PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures;\nvar DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures=\"DISABLED_PROCEDURE_DEFINITION\",PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures={getProcedureCall:function(){return this.getFieldValue(\"NAME\")},renameProcedure:function(a,b){$.Names$$module$build$src$core$names.equals(a,this.getProcedureCall())&&(this.setFieldValue(b,\"NAME\"),this.setTooltip((this.outputConnection?$.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:$.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace(\"%1\",\nb)))},setProcedureParameters_:function(a,b){var c=$.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);(c=(c=c&&c.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&c.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null);if(a.join(\"\\n\")===this.arguments_.join(\"\\n\"))this.quarkIds_=b;else{if(b.length!==a.length)throw RangeError(\"paramNames and paramIds must be the same length.\");this.quarkIds_||(this.quarkConnections_=\n{},this.quarkIds_=[]);for(let e=0;e<this.arguments_.length;e++){var d=this.getInput(\"ARG\"+e);d&&(d=d.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=d,c&&d&&!b.includes(this.quarkIds_[e])&&(d.disconnect(),d.getSourceBlock().bumpNeighbours()))}this.arguments_=[].concat(a);this.argumentVarModels_=[];for(a=0;a<this.arguments_.length;a++)c=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[a],\"\"),this.argumentVarModels_.push(c);this.updateShape_();\nif(this.quarkIds_=b)for(b=0;b<this.arguments_.length;b++)if(a=this.quarkIds_[b],a in this.quarkConnections_){let e;((e=this.quarkConnections_[a])==null?0:e.reconnect(this,\"ARG\"+b))||delete this.quarkConnections_[a]}}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField(\"ARGNAME\"+a);if(b){$.disable$$module$build$src$core$events$utils();try{b.setValue(this.arguments_[a])}finally{$.enable$$module$build$src$core$events$utils()}}else b=$.fromJson$$module$build$src$core$field_registry({type:\"field_label\",\ntext:this.arguments_[a]}),this.appendValueInput(\"ARG\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT).appendField(b,\"ARGNAME\"+a)}for(a=this.arguments_.length;this.getInput(\"ARG\"+a);a++)this.removeInput(\"ARG\"+a);(a=this.getInput(\"TOPROW\"))&&(this.arguments_.length?this.getField(\"WITH\")||a.appendField($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,\"WITH\"):this.getField(\"WITH\")&&a.removeField(\"WITH\"))},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");\na.setAttribute(\"name\",this.getProcedureCall());for(let b=0;b<this.arguments_.length;b++){const c=$.createElement$$module$build$src$core$utils$xml(\"arg\");c.setAttribute(\"name\",this.arguments_[b]);a.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute(\"name\");this.renameProcedure(this.getProcedureCall(),b);b=[];const c=[];for(let d=0,e;e=a.childNodes[d];d++)e.nodeName.toLowerCase()===\"arg\"&&(b.push(e.getAttribute(\"name\")),c.push(e.getAttribute(\"paramId\")));this.setProcedureParameters_(b,\nc)},saveExtraState:function(){const a=Object.create(null);a.name=this.getProcedureCall();this.arguments_.length&&(a.params=this.arguments_);return a},loadExtraState:function(a){this.renameProcedure(this.getProcedureCall(),a.name);if(a=a.params){const b=[];b.length=a.length;b.fill(null);this.setProcedureParameters_(a,b)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(a){if(this.workspace&&!this.workspace.isFlyout&&a.recordUndo)if(a.type===\n$.BLOCK_CREATE$$module$build$src$core$events$events&&a.ids.includes(this.id)){var b=this.getProcedureCall(),c=$.getDefinition$$module$build$src$core$procedures(b,this.workspace);!c||c.type===this.defType_&&JSON.stringify(c.getVars())===JSON.stringify(this.arguments_)||(c=null);if(c)c.isEnabled()||(this.setDisabledReason(!0,DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures),this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace(\"%1\",\nb)));else{$.setGroup$$module$build$src$core$events$utils(a.group);a=$.createElement$$module$build$src$core$utils$xml(\"xml\");b=$.createElement$$module$build$src$core$utils$xml(\"block\");b.setAttribute(\"type\",this.defType_);c=this.getRelativeToSurfaceXY();var d=c.y+$.config$$module$build$src$core$config.snapRadius*2;b.setAttribute(\"x\",`${c.x+$.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`);b.setAttribute(\"y\",`${d}`);c=this.mutationToDom();b.appendChild(c);c=$.createElement$$module$build$src$core$utils$xml(\"field\");\nc.setAttribute(\"name\",\"NAME\");d=this.getProcedureCall();const e=$.findLegalName$$module$build$src$core$procedures(d,this);d!==e&&this.renameProcedure(d,e);c.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));b.appendChild(c);a.appendChild(b);$.domToWorkspace$$module$build$src$core$xml(a,this.workspace);$.setGroup$$module$build$src$core$events$utils(!1)}}else a.type===$.BLOCK_DELETE$$module$build$src$core$events$events?(b=this.getProcedureCall(),$.getDefinition$$module$build$src$core$procedures(b,\nthis.workspace)||($.setGroup$$module$build$src$core$events$utils(a.group),this.dispose(!0),$.setGroup$$module$build$src$core$events$utils(!1))):a.type===$.BLOCK_CHANGE$$module$build$src$core$events$events&&a.element===\"disabled\"&&(b=this.getProcedureCall(),(d=$.getDefinition$$module$build$src$core$procedures(b,this.workspace))&&d.id===a.blockId&&((c=$.getGroup$$module$build$src$core$events$utils())&&console.log(\"Saw an existing group while responding to a definition change\"),$.setGroup$$module$build$src$core$events$utils(a.group),\na=d.isEnabled(),this.setDisabledReason(!a,DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures),this.setWarningText(a?null:$.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace(\"%1\",b)),$.setGroup$$module$build$src$core$events$utils(c)))},customContextMenu:function(a){if(this.workspace.isMovable()){var b=this.getProcedureCall(),c=this.workspace;a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const d=\n$.getDefinition$$module$build$src$core$procedures(b,c);d&&(c.centerOnBlock(d.id),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(d))}})}}};\nblocks$$module$build$src$blocks$procedures.procedures_callnoreturn=Object.assign({},PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures,{init:function(){this.appendDummyInput(\"TOPROW\").appendField(\"\",\"NAME\");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null},defType_:\"procedures_defnoreturn\"});\nblocks$$module$build$src$blocks$procedures.procedures_callreturn=Object.assign({},PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures,{init:function(){this.appendDummyInput(\"TOPROW\").appendField(\"\",\"NAME\");this.setOutput(!0);this.setStyle(\"procedure_blocks\");this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null},defType_:\"procedures_defreturn\"});\nvar UNPARENTED_IFRETURN_DISABLED_REASON$$module$build$src$blocks$procedures=\"UNPARENTED_IFRETURN\",PROCEDURES_IFRETURN$$module$build$src$blocks$procedures={init:function(){this.appendValueInput(\"CONDITION\").setCheck(\"Boolean\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF);this.appendValueInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");\nthis.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP);this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL);this.hasReturnValue_=!0},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"value\",String(Number(this.hasReturnValue_)));return a},domToMutation:function(a){this.hasReturnValue_=a.getAttribute(\"value\")===\"1\";this.hasReturnValue_||(this.removeInput(\"VALUE\"),this.appendDummyInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},\nonchange:function(a){if(!(this.workspace.isDragging&&this.workspace.isDragging()||a.type!==$.BLOCK_MOVE$$module$build$src$core$events$events&&a.type!==$.BLOCK_CREATE$$module$build$src$core$events$events)){a=!1;var b=this;do{if(this.FUNCTION_TYPES.includes(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?(b.type===\"procedures_defnoreturn\"&&this.hasReturnValue_?(this.removeInput(\"VALUE\"),this.appendDummyInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=\n!1):b.type!==\"procedures_defreturn\"||this.hasReturnValue_||(this.removeInput(\"VALUE\"),this.appendValueInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING);if(!this.isInFlyout)try{$.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!a,UNPARENTED_IFRETURN_DISABLED_REASON$$module$build$src$blocks$procedures)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}},\nFUNCTION_TYPES:[\"procedures_defnoreturn\",\"procedures_defreturn\"]};blocks$$module$build$src$blocks$procedures.procedures_ifreturn=PROCEDURES_IFRETURN$$module$build$src$blocks$procedures;$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$procedures);var module$build$src$blocks$procedures={blocks:blocks$$module$build$src$blocks$procedures};var blocks$$module$build$src$blocks$math=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"math_number\",message0:\"%1\",args0:[{type:\"field_number\",name:\"NUM\",value:0}],output:\"Number\",helpUrl:\"%{BKY_MATH_NUMBER_HELPURL}\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_NUMBER_TOOLTIP}\",extensions:[\"parent_tooltip_when_inline\"]},{type:\"math_arithmetic\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\",check:\"Number\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ADDITION_SYMBOL}\",\n\"ADD\"],[\"%{BKY_MATH_SUBTRACTION_SYMBOL}\",\"MINUS\"],[\"%{BKY_MATH_MULTIPLICATION_SYMBOL}\",\"MULTIPLY\"],[\"%{BKY_MATH_DIVISION_SYMBOL}\",\"DIVIDE\"],[\"%{BKY_MATH_POWER_SYMBOL}\",\"POWER\"]]},{type:\"input_value\",name:\"B\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ARITHMETIC_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_single\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_SINGLE_OP_ROOT}\",\"ROOT\"],[\"%{BKY_MATH_SINGLE_OP_ABSOLUTE}\",\n\"ABS\"],[\"-\",\"NEG\"],[\"ln\",\"LN\"],[\"log10\",\"LOG10\"],[\"e^\",\"EXP\"],[\"10^\",\"POW10\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_SINGLE_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_trig\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_TRIG_SIN}\",\"SIN\"],[\"%{BKY_MATH_TRIG_COS}\",\"COS\"],[\"%{BKY_MATH_TRIG_TAN}\",\"TAN\"],[\"%{BKY_MATH_TRIG_ASIN}\",\"ASIN\"],[\"%{BKY_MATH_TRIG_ACOS}\",\"ACOS\"],[\"%{BKY_MATH_TRIG_ATAN}\",\n\"ATAN\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_TRIG_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_constant\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"CONSTANT\",options:[[\"\\u03c0\",\"PI\"],[\"e\",\"E\"],[\"\\u03c6\",\"GOLDEN_RATIO\"],[\"sqrt(2)\",\"SQRT2\"],[\"sqrt(\\u00bd)\",\"SQRT1_2\"],[\"\\u221e\",\"INFINITY\"]]}],output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_CONSTANT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_CONSTANT_HELPURL}\"},{type:\"math_number_property\",\nmessage0:\"%1 %2\",args0:[{type:\"input_value\",name:\"NUMBER_TO_CHECK\",check:\"Number\"},{type:\"field_dropdown\",name:\"PROPERTY\",options:[[\"%{BKY_MATH_IS_EVEN}\",\"EVEN\"],[\"%{BKY_MATH_IS_ODD}\",\"ODD\"],[\"%{BKY_MATH_IS_PRIME}\",\"PRIME\"],[\"%{BKY_MATH_IS_WHOLE}\",\"WHOLE\"],[\"%{BKY_MATH_IS_POSITIVE}\",\"POSITIVE\"],[\"%{BKY_MATH_IS_NEGATIVE}\",\"NEGATIVE\"],[\"%{BKY_MATH_IS_DIVISIBLE_BY}\",\"DIVISIBLE_BY\"]]}],inputsInline:!0,output:\"Boolean\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_IS_TOOLTIP}\",mutator:\"math_is_divisibleby_mutator\"},\n{type:\"math_change\",message0:\"%{BKY_MATH_CHANGE_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_MATH_CHANGE_TITLE_ITEM}\"},{type:\"input_value\",name:\"DELTA\",check:\"Number\"}],previousStatement:null,nextStatement:null,style:\"variable_blocks\",helpUrl:\"%{BKY_MATH_CHANGE_HELPURL}\",extensions:[\"math_change_tooltip\"]},{type:\"math_round\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ROUND_OPERATOR_ROUND}\",\"ROUND\"],[\"%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}\",\"ROUNDUP\"],\n[\"%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}\",\"ROUNDDOWN\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ROUND_HELPURL}\",tooltip:\"%{BKY_MATH_ROUND_TOOLTIP}\"},{type:\"math_on_list\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ONLIST_OPERATOR_SUM}\",\"SUM\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MIN}\",\"MIN\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MAX}\",\"MAX\"],[\"%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}\",\"AVERAGE\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}\",\n\"MEDIAN\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MODE}\",\"MODE\"],[\"%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}\",\"STD_DEV\"],[\"%{BKY_MATH_ONLIST_OPERATOR_RANDOM}\",\"RANDOM\"]]},{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ONLIST_HELPURL}\",mutator:\"math_modes_of_list_mutator\",extensions:[\"math_op_tooltip\"]},{type:\"math_modulo\",message0:\"%{BKY_MATH_MODULO_TITLE}\",args0:[{type:\"input_value\",name:\"DIVIDEND\",check:\"Number\"},{type:\"input_value\",name:\"DIVISOR\",check:\"Number\"}],\ninputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_MODULO_TOOLTIP}\",helpUrl:\"%{BKY_MATH_MODULO_HELPURL}\"},{type:\"math_constrain\",message0:\"%{BKY_MATH_CONSTRAIN_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"Number\"},{type:\"input_value\",name:\"LOW\",check:\"Number\"},{type:\"input_value\",name:\"HIGH\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_CONSTRAIN_TOOLTIP}\",helpUrl:\"%{BKY_MATH_CONSTRAIN_HELPURL}\"},{type:\"math_random_int\",message0:\"%{BKY_MATH_RANDOM_INT_TITLE}\",\nargs0:[{type:\"input_value\",name:\"FROM\",check:\"Number\"},{type:\"input_value\",name:\"TO\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_RANDOM_INT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_RANDOM_INT_HELPURL}\"},{type:\"math_random_float\",message0:\"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}\",output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_RANDOM_FLOAT_HELPURL}\"},{type:\"math_atan2\",message0:\"%{BKY_MATH_ATAN2_TITLE}\",args0:[{type:\"input_value\",\nname:\"X\",check:\"Number\"},{type:\"input_value\",name:\"Y\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_ATAN2_TOOLTIP}\",helpUrl:\"%{BKY_MATH_ATAN2_HELPURL}\"}]),TOOLTIPS_BY_OP$$module$build$src$blocks$math={ADD:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}\",MINUS:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}\",MULTIPLY:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}\",DIVIDE:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}\",POWER:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}\",ROOT:\"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}\",\nABS:\"%{BKY_MATH_SINGLE_TOOLTIP_ABS}\",NEG:\"%{BKY_MATH_SINGLE_TOOLTIP_NEG}\",LN:\"%{BKY_MATH_SINGLE_TOOLTIP_LN}\",LOG10:\"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}\",EXP:\"%{BKY_MATH_SINGLE_TOOLTIP_EXP}\",POW10:\"%{BKY_MATH_SINGLE_TOOLTIP_POW10}\",SIN:\"%{BKY_MATH_TRIG_TOOLTIP_SIN}\",COS:\"%{BKY_MATH_TRIG_TOOLTIP_COS}\",TAN:\"%{BKY_MATH_TRIG_TOOLTIP_TAN}\",ASIN:\"%{BKY_MATH_TRIG_TOOLTIP_ASIN}\",ACOS:\"%{BKY_MATH_TRIG_TOOLTIP_ACOS}\",ATAN:\"%{BKY_MATH_TRIG_TOOLTIP_ATAN}\",SUM:\"%{BKY_MATH_ONLIST_TOOLTIP_SUM}\",MIN:\"%{BKY_MATH_ONLIST_TOOLTIP_MIN}\",\nMAX:\"%{BKY_MATH_ONLIST_TOOLTIP_MAX}\",AVERAGE:\"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}\",MEDIAN:\"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}\",MODE:\"%{BKY_MATH_ONLIST_TOOLTIP_MODE}\",STD_DEV:\"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}\",RANDOM:\"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}\"};$.register$$module$build$src$core$extensions(\"math_op_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\",TOOLTIPS_BY_OP$$module$build$src$blocks$math));\nvar IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math={mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\"),b=this.getFieldValue(\"PROPERTY\")===\"DIVISIBLE_BY\";a.setAttribute(\"divisor_input\",String(b));return a},domToMutation:function(a){a=a.getAttribute(\"divisor_input\")===\"true\";this.updateShape_(a)},updateShape_:function(a){const b=this.getInput(\"DIVISOR\");a?b||this.appendValueInput(\"DIVISOR\").setCheck(\"Number\"):b&&this.removeInput(\"DIVISOR\")}},IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math=\nfunction(){this.getField(\"PROPERTY\").setValidator(function(a){a=a===\"DIVISIBLE_BY\";this.getSourceBlock().updateShape_(a)})};$.registerMutator$$module$build$src$core$extensions(\"math_is_divisibleby_mutator\",IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math,IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math);$.register$$module$build$src$core$extensions(\"math_change_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_MATH_CHANGE_TOOLTIP}\",\"VAR\"));\nvar LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math={updateType_:function(a){a===\"MODE\"?this.outputConnection.setCheck(\"Array\"):this.outputConnection.setCheck(\"Number\")},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"op\",this.getFieldValue(\"OP\"));return a},domToMutation:function(a){a=a.getAttribute(\"op\");if(a===null)throw new TypeError(\"xmlElement had no op attribute\");this.updateType_(a)}},LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math=\nfunction(){this.getField(\"OP\").setValidator(function(a){this.updateType_(a)}.bind(this))};$.registerMutator$$module$build$src$core$extensions(\"math_modes_of_list_mutator\",LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math,LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$math);var module$build$src$blocks$math={blocks:blocks$$module$build$src$blocks$math};var blocks$$module$build$src$blocks$loops=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"controls_repeat_ext\",message0:\"%{BKY_CONTROLS_REPEAT_TITLE}\",args0:[{type:\"input_value\",name:\"TIMES\",check:\"Number\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",tooltip:\"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",helpUrl:\"%{BKY_CONTROLS_REPEAT_HELPURL}\"},{type:\"controls_repeat\",message0:\"%{BKY_CONTROLS_REPEAT_TITLE}\",\nargs0:[{type:\"field_number\",name:\"TIMES\",value:10,min:0,precision:1}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",tooltip:\"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",helpUrl:\"%{BKY_CONTROLS_REPEAT_HELPURL}\"},{type:\"controls_whileUntil\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"MODE\",options:[[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}\",\"WHILE\"],[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}\",\"UNTIL\"]]},\n{type:\"input_value\",name:\"BOOL\",check:\"Boolean\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}\",extensions:[\"controls_whileUntil_tooltip\"]},{type:\"controls_for\",message0:\"%{BKY_CONTROLS_FOR_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:null},{type:\"input_value\",name:\"FROM\",check:\"Number\",align:\"RIGHT\"},{type:\"input_value\",name:\"TO\",check:\"Number\",\nalign:\"RIGHT\"},{type:\"input_value\",name:\"BY\",check:\"Number\",align:\"RIGHT\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FOR_HELPURL}\",extensions:[\"contextMenu_newGetVariableBlock\",\"controls_for_tooltip\"]},{type:\"controls_forEach\",message0:\"%{BKY_CONTROLS_FOREACH_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:null},{type:\"input_value\",name:\"LIST\",\ncheck:\"Array\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FOREACH_HELPURL}\",extensions:[\"contextMenu_newGetVariableBlock\",\"controls_forEach_tooltip\"]},{type:\"controls_flow_statements\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"FLOW\",options:[[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}\",\"BREAK\"],[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}\",\"CONTINUE\"]]}],\npreviousStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}\",suppressPrefixSuffix:!0,extensions:[\"controls_flow_tooltip\",\"controls_flow_in_loop_check\"]}]),WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops={WHILE:\"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}\",UNTIL:\"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}\"};$.register$$module$build$src$core$extensions(\"controls_whileUntil_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"MODE\",WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops));\nvar BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops={BREAK:\"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}\",CONTINUE:\"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}\"};$.register$$module$build$src$core$extensions(\"controls_flow_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"FLOW\",BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops));\nvar CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getField(\"VAR\"),c=b.getVariable().getName();this.isCollapsed()||c===null||(b={type:\"variables_get\",fields:{VAR:b.saveState(!0)}},a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace(\"%1\",c),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)}))}}};\n$.registerMixin$$module$build$src$core$extensions(\"contextMenu_newGetVariableBlock\",CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops);$.register$$module$build$src$core$extensions(\"controls_for_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_CONTROLS_FOR_TOOLTIP}\",\"VAR\"));$.register$$module$build$src$core$extensions(\"controls_forEach_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_CONTROLS_FOREACH_TOOLTIP}\",\"VAR\"));\nvar loopTypes$$module$build$src$blocks$loops=new Set([\"controls_repeat\",\"controls_repeat_ext\",\"controls_forEach\",\"controls_for\",\"controls_whileUntil\"]),CONTROL_FLOW_NOT_IN_LOOP_DISABLED_REASON$$module$build$src$blocks$loops=\"CONTROL_FLOW_NOT_IN_LOOP\",CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops={getSurroundLoop:function(){let a=this;do{if(loopTypes$$module$build$src$blocks$loops.has(a.type))return a;a=a.getSurroundParent()}while(a);return null},onchange:function(a){const b=this.workspace;\nif(b.isDragging&&!b.isDragging()&&(a.type===$.BLOCK_MOVE$$module$build$src$core$events$events||a.type===$.BLOCK_CREATE$$module$build$src$core$events$events)&&(a=!!this.getSurroundLoop(),this.setWarningText(a?null:$.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{$.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!a,CONTROL_FLOW_NOT_IN_LOOP_DISABLED_REASON$$module$build$src$blocks$loops)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}};\n$.registerMixin$$module$build$src$core$extensions(\"controls_flow_in_loop_check\",CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$loops);var module$build$src$blocks$loops={blocks:blocks$$module$build$src$blocks$loops,loopTypes:loopTypes$$module$build$src$blocks$loops};var blocks$$module$build$src$blocks$logic=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"logic_boolean\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"BOOL\",options:[[\"%{BKY_LOGIC_BOOLEAN_TRUE}\",\"TRUE\"],[\"%{BKY_LOGIC_BOOLEAN_FALSE}\",\"FALSE\"]]}],output:\"Boolean\",style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_BOOLEAN_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_BOOLEAN_HELPURL}\"},{type:\"controls_if\",message0:\"%{BKY_CONTROLS_IF_MSG_IF} %1\",args0:[{type:\"input_value\",name:\"IF0\",check:\"Boolean\"}],\nmessage1:\"%{BKY_CONTROLS_IF_MSG_THEN} %1\",args1:[{type:\"input_statement\",name:\"DO0\"}],previousStatement:null,nextStatement:null,style:\"logic_blocks\",helpUrl:\"%{BKY_CONTROLS_IF_HELPURL}\",suppressPrefixSuffix:!0,mutator:\"controls_if_mutator\",extensions:[\"controls_if_tooltip\"]},{type:\"controls_ifelse\",message0:\"%{BKY_CONTROLS_IF_MSG_IF} %1\",args0:[{type:\"input_value\",name:\"IF0\",check:\"Boolean\"}],message1:\"%{BKY_CONTROLS_IF_MSG_THEN} %1\",args1:[{type:\"input_statement\",name:\"DO0\"}],message2:\"%{BKY_CONTROLS_IF_MSG_ELSE} %1\",\nargs2:[{type:\"input_statement\",name:\"ELSE\"}],previousStatement:null,nextStatement:null,style:\"logic_blocks\",tooltip:\"%{BKYCONTROLS_IF_TOOLTIP_2}\",helpUrl:\"%{BKY_CONTROLS_IF_HELPURL}\",suppressPrefixSuffix:!0,extensions:[\"controls_if_tooltip\"]},{type:\"logic_compare\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"=\",\"EQ\"],[\"\\u2260\",\"NEQ\"],[\"\\u200f<\",\"LT\"],[\"\\u200f\\u2264\",\"LTE\"],[\"\\u200f>\",\"GT\"],[\"\\u200f\\u2265\",\"GTE\"]]},{type:\"input_value\",name:\"B\"}],\ninputsInline:!0,output:\"Boolean\",style:\"logic_blocks\",helpUrl:\"%{BKY_LOGIC_COMPARE_HELPURL}\",extensions:[\"logic_compare\",\"logic_op_tooltip\"]},{type:\"logic_operation\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\",check:\"Boolean\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_LOGIC_OPERATION_AND}\",\"AND\"],[\"%{BKY_LOGIC_OPERATION_OR}\",\"OR\"]]},{type:\"input_value\",name:\"B\",check:\"Boolean\"}],inputsInline:!0,output:\"Boolean\",style:\"logic_blocks\",helpUrl:\"%{BKY_LOGIC_OPERATION_HELPURL}\",extensions:[\"logic_op_tooltip\"]},\n{type:\"logic_negate\",message0:\"%{BKY_LOGIC_NEGATE_TITLE}\",args0:[{type:\"input_value\",name:\"BOOL\",check:\"Boolean\"}],output:\"Boolean\",style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_NEGATE_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_NEGATE_HELPURL}\"},{type:\"logic_null\",message0:\"%{BKY_LOGIC_NULL}\",output:null,style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_NULL_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_NULL_HELPURL}\"},{type:\"logic_ternary\",message0:\"%{BKY_LOGIC_TERNARY_CONDITION} %1\",args0:[{type:\"input_value\",name:\"IF\",check:\"Boolean\"}],\nmessage1:\"%{BKY_LOGIC_TERNARY_IF_TRUE} %1\",args1:[{type:\"input_value\",name:\"THEN\"}],message2:\"%{BKY_LOGIC_TERNARY_IF_FALSE} %1\",args2:[{type:\"input_value\",name:\"ELSE\"}],output:null,style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_TERNARY_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_TERNARY_HELPURL}\",extensions:[\"logic_ternary\"]},{type:\"controls_if_if\",message0:\"%{BKY_CONTROLS_IF_IF_TITLE_IF}\",nextStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_IF_TOOLTIP}\"},{type:\"controls_if_elseif\",\nmessage0:\"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}\",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}\"},{type:\"controls_if_else\",message0:\"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}\",previousStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}\"}]),TOOLTIPS_BY_OP$$module$build$src$blocks$logic={EQ:\"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}\",NEQ:\"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}\",LT:\"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}\",\nLTE:\"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}\",GT:\"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}\",GTE:\"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}\",AND:\"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}\",OR:\"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}\"};$.register$$module$build$src$core$extensions(\"logic_op_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\",TOOLTIPS_BY_OP$$module$build$src$blocks$logic));\nvar CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");this.elseifCount_&&a.setAttribute(\"elseif\",String(this.elseifCount_));this.elseCount_&&a.setAttribute(\"else\",\"1\");return a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute(\"elseif\"),10)||0;this.elseCount_=parseInt(a.getAttribute(\"else\"),10)||0;this.rebuildShape_()},\nsaveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const a=Object.create(null);this.elseifCount_&&(a.elseIfCount=this.elseifCount_);this.elseCount_&&(a.hasElse=!0);return a},loadExtraState:function(a){this.elseifCount_=a.elseIfCount||0;this.elseCount_=a.hasElse?1:0;this.updateShape_()},decompose:function(a){const b=a.newBlock(\"controls_if_if\");b.initSvg();let c=b.nextConnection;for(let d=1;d<=this.elseifCount_;d++){const e=a.newBlock(\"controls_if_elseif\");e.initSvg();c.connect(e.previousConnection);\nc=e.nextConnection}this.elseCount_&&(a=a.newBlock(\"controls_if_else\"),a.initSvg(),c.connect(a.previousConnection));return b},compose:function(a){a=a.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0;const b=[null],c=[null];let d=null;for(;a;){if(!a.isInsertionMarker())switch(a.type){case \"controls_if_elseif\":this.elseifCount_++;b.push(a.valueConnection_);c.push(a.statementConnection_);break;case \"controls_if_else\":this.elseCount_++;d=a.statementConnection_;break;default:throw TypeError(\"Unknown block type: \"+\na.type);}a=a.getNextBlock()}this.updateShape_();this.reconnectChildBlocks_(b,c,d)},saveConnections:function(a){a=a.nextConnection.targetBlock();let b=1;for(;a;){if(!a.isInsertionMarker())switch(a.type){case \"controls_if_elseif\":var c=this.getInput(\"IF\"+b);const d=this.getInput(\"DO\"+b);a.valueConnection_=c&&c.connection.targetConnection;a.statementConnection_=d&&d.connection.targetConnection;b++;break;case \"controls_if_else\":c=this.getInput(\"ELSE\");a.statementConnection_=c&&c.connection.targetConnection;\nbreak;default:throw TypeError(\"Unknown block type: \"+a.type);}a=a.getNextBlock()}},rebuildShape_:function(){const a=[null],b=[null];let c=null;this.getInput(\"ELSE\")&&(c=this.getInput(\"ELSE\").connection.targetConnection);for(let d=1;this.getInput(\"IF\"+d);d++){const e=this.getInput(\"IF\"+d),f=this.getInput(\"DO\"+d);a.push(e.connection.targetConnection);b.push(f.connection.targetConnection)}this.updateShape_();this.reconnectChildBlocks_(a,b,c)},updateShape_:function(){this.getInput(\"ELSE\")&&this.removeInput(\"ELSE\");\nfor(var a=1;this.getInput(\"IF\"+a);a++)this.removeInput(\"IF\"+a),this.removeInput(\"DO\"+a);for(a=1;a<=this.elseifCount_;a++)this.appendValueInput(\"IF\"+a).setCheck(\"Boolean\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput(\"DO\"+a).appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput(\"ELSE\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(a,b,c){for(let d=\n1;d<=this.elseifCount_;d++){let e;(e=a[d])==null||e.reconnect(this,\"IF\"+d);let f;(f=b[d])==null||f.reconnect(this,\"DO\"+d)}c==null||c.reconnect(this,\"ELSE\")}};$.registerMutator$$module$build$src$core$extensions(\"controls_if_mutator\",CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic,null,[\"controls_if_elseif\",\"controls_if_else\"]);\nvar CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;\nreturn\"\"}.bind(this))};$.register$$module$build$src$core$extensions(\"controls_if_tooltip\",CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic);\nvar LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic={onchange:function(a){this.prevBlocks_||(this.prevBlocks_=[null,null]);var b=this.getInputTargetBlock(\"A\");const c=this.getInputTargetBlock(\"B\");b&&c&&!this.workspace.connectionChecker.doTypeChecks(b.outputConnection,c.outputConnection)&&($.setGroup$$module$build$src$core$events$utils(a.group),a=this.prevBlocks_[0],a!==b&&(b.unplug(),!a||a.isDisposed()||a.isShadow()||this.getInput(\"A\").connection.connect(a.outputConnection)),b=this.prevBlocks_[1],\nb!==c&&(c.unplug(),!b||b.isDisposed()||b.isShadow()||this.getInput(\"B\").connection.connect(b.outputConnection)),this.bumpNeighbours(),$.setGroup$$module$build$src$core$events$utils(!1));this.prevBlocks_[0]=this.getInputTargetBlock(\"A\");this.prevBlocks_[1]=this.getInputTargetBlock(\"B\")}},LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic=function(){this.mixin(LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic)};$.register$$module$build$src$core$extensions(\"logic_compare\",LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic);\nvar LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic={prevParentConnection_:null,onchange:function(a){const b=this.getInputTargetBlock(\"THEN\"),c=this.getInputTargetBlock(\"ELSE\"),d=this.outputConnection.targetConnection;if((b||c)&&d)for(let e=0;e<2;e++){const f=e===1?b:c;f&&!f.workspace.connectionChecker.doTypeChecks(f.outputConnection,d)&&($.setGroup$$module$build$src$core$events$utils(a.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours()):(f.unplug(),\nf.bumpNeighbours()),$.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=d}};$.registerMixin$$module$build$src$core$extensions(\"logic_ternary\",LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$logic);var module$build$src$blocks$logic={blocks:blocks$$module$build$src$blocks$logic};var blocks$$module$build$src$blocks$lists=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"lists_create_empty\",message0:\"%{BKY_LISTS_CREATE_EMPTY_TITLE}\",output:\"Array\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_CREATE_EMPTY_HELPURL}\"},{type:\"lists_repeat\",message0:\"%{BKY_LISTS_REPEAT_TITLE}\",args0:[{type:\"input_value\",name:\"ITEM\"},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Array\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_REPEAT_TOOLTIP}\",\nhelpUrl:\"%{BKY_LISTS_REPEAT_HELPURL}\"},{type:\"lists_reverse\",message0:\"%{BKY_LISTS_REVERSE_MESSAGE0}\",args0:[{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Array\",inputsInline:!0,style:\"list_blocks\",tooltip:\"%{BKY_LISTS_REVERSE_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_REVERSE_HELPURL}\"},{type:\"lists_isEmpty\",message0:\"%{BKY_LISTS_ISEMPTY_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Boolean\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_ISEMPTY_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_ISEMPTY_HELPURL}\"},\n{type:\"lists_length\",message0:\"%{BKY_LISTS_LENGTH_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Number\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_LENGTH_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_LENGTH_HELPURL}\"}]),LISTS_CREATE_WITH$$module$build$src$blocks$lists={init:function(){this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL);this.setStyle(\"list_blocks\");this.itemCount_=3;this.updateShape_();this.setOutput(!0,\"Array\");this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"lists_create_with_item\"],\nthis));this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"items\",String(this.itemCount_));return a},domToMutation:function(a){a=a.getAttribute(\"items\");if(!a)throw new TypeError(\"element did not have items\");this.itemCount_=parseInt(a,10);this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount;\nthis.updateShape_()},decompose:function(a){const b=a.newBlock(\"lists_create_with_container\");b.initSvg();let c=b.getInput(\"STACK\").connection;for(let d=0;d<this.itemCount_;d++){const e=a.newBlock(\"lists_create_with_item\");e.initSvg();if(!e.previousConnection)throw Error(\"itemBlock has no previousConnection\");c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock(\"STACK\");for(a=[];b;)b.isInsertionMarker()||a.push(b.valueConnection_),b=b.getNextBlock();\nfor(b=0;b<this.itemCount_;b++){const c=this.getInput(\"ADD\"+b).connection.targetConnection;c&&!a.includes(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++){let c;(c=a[b])==null||c.reconnect(this,\"ADD\"+b)}},saveConnections:function(a){a=a.getInputTargetBlock(\"STACK\");let b=0;for(;a;){if(a.isInsertionMarker()){a=a.getNextBlock();continue}const c=this.getInput(\"ADD\"+b);let d;a.valueConnection_=(d=c)==null?void 0:d.connection.targetConnection;a=a.getNextBlock();\nb++}},updateShape_:function(){this.itemCount_&&this.getInput(\"EMPTY\")?this.removeInput(\"EMPTY\"):this.itemCount_||this.getInput(\"EMPTY\")||this.appendDummyInput(\"EMPTY\").appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput(\"ADD\"+a)){const b=this.appendValueInput(\"ADD\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);a===0&&b.appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(a=this.itemCount_;this.getInput(\"ADD\"+\na);a++)this.removeInput(\"ADD\"+a)}};blocks$$module$build$src$blocks$lists.lists_create_with=LISTS_CREATE_WITH$$module$build$src$blocks$lists;var LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists={init:function(){this.setStyle(\"list_blocks\");this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.appendStatementInput(\"STACK\");this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};\nblocks$$module$build$src$blocks$lists.lists_create_with_container=LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists;var LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists={init:function(){this.setStyle(\"list_blocks\");this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};\nblocks$$module$build$src$blocks$lists.lists_create_with_item=LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists;\nvar LISTS_INDEXOF$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,\"FIRST\"],[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL);this.setStyle(\"list_blocks\");this.setOutput(!0,\"Number\");this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",\noptions:a});if(!a)throw Error(\"field_dropdown not found\");this.appendValueInput(\"FIND\").appendField(a,\"END\");this.setInputsInline(!0);this.setTooltip(()=>$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\"0\":\"-1\"))}};blocks$$module$build$src$blocks$lists.lists_indexOf=LISTS_INDEXOF$$module$build$src$blocks$lists;\nvar LISTS_GETINDEX$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,\"GET\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,\"GET_REMOVE\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,\"REMOVE\"]];this.WHERE_OPTIONS=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,\"FIRST\"],\n[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,\"LAST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,\"RANDOM\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL);this.setStyle(\"list_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});a.setValidator(function(b){b=b===\"REMOVE\";this.getSourceBlock().updateStatement_(b)});this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST);\nthis.appendDummyInput().appendField(a,\"MODE\").appendField(\"\",\"SPACE\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this.WHERE_OPTIONS});a.setValidator(function(b){const c=this.getValue();b=b===\"FROM_START\"||b===\"FROM_END\";b!==(c===\"FROM_START\"||c===\"FROM_END\")&&this.getSourceBlock().updateAt_(b)});this.appendDummyInput().appendField(a,\"WHERE\");this.appendDummyInput(\"AT\");$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL);\nthis.setInputsInline(!0);this.setOutput(!0);this.updateAt_(!0);this.setTooltip(()=>{const b=this.getFieldValue(\"MODE\"),c=this.getFieldValue(\"WHERE\");let d=\"\";switch(b+\" \"+c){case \"GET FROM_START\":case \"GET FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case \"GET FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case \"GET LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case \"GET RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;\nbreak;case \"GET_REMOVE FROM_START\":case \"GET_REMOVE FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case \"GET_REMOVE FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case \"GET_REMOVE LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case \"GET_REMOVE RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case \"REMOVE FROM_START\":case \"REMOVE FROM_END\":d=\n$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case \"REMOVE FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case \"REMOVE LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case \"REMOVE RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if(c===\"FROM_START\"||c===\"FROM_END\")d+=\"  \"+(c===\"FROM_START\"?$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace(\"%1\",\nthis.workspace.options.oneBasedIndex?\"#1\":\"#0\");return d})},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"statement\",String(!this.outputConnection));const b=this.getInput(\"AT\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at\",String(b));return a},domToMutation:function(a){const b=a.getAttribute(\"statement\")===\"true\";this.updateStatement_(b);a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},saveExtraState:function(){return this.outputConnection?\nnull:{isStatement:!0}},loadExtraState:function(a){a.isStatement?this.updateStatement_(!0):typeof a===\"string\"&&this.domToMutation($.textToDom$$module$build$src$core$utils$xml(a))},updateStatement_:function(a){a!==!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput(\"AT\");this.removeInput(\"ORDINAL\",!0);a?(this.appendValueInput(\"AT\").setCheck(\"Number\"),\n$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\");$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore(\"TAIL\",null)}};blocks$$module$build$src$blocks$lists.lists_getIndex=LISTS_GETINDEX$$module$build$src$blocks$lists;\nvar LISTS_SETINDEX$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,\"SET\"],[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,\"INSERT\"]];this.WHERE_OPTIONS=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,\"FIRST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,\"LAST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,\n\"RANDOM\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});this.appendDummyInput().appendField(a,\"MODE\").appendField(\"\",\"SPACE\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this.WHERE_OPTIONS});a.setValidator(function(b){const c=\nthis.getValue();b=b===\"FROM_START\"||b===\"FROM_END\";b!==(c===\"FROM_START\"||c===\"FROM_END\")&&this.getSourceBlock().updateAt_(b)});this.appendDummyInput().appendField(a,\"WHERE\");this.appendDummyInput(\"AT\");this.appendValueInput(\"TO\").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP);this.updateAt_(!0);this.setTooltip(()=>{const b=\nthis.getFieldValue(\"MODE\"),c=this.getFieldValue(\"WHERE\");let d=\"\";switch(b+\" \"+c){case \"SET FROM_START\":case \"SET FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case \"SET FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case \"SET LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case \"SET RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case \"INSERT FROM_START\":case \"INSERT FROM_END\":d=\n$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case \"INSERT FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case \"INSERT LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case \"INSERT RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if(c===\"FROM_START\"||c===\"FROM_END\")d+=\"  \"+$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\n\"#1\":\"#0\");return d})},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\"),b=this.getInput(\"AT\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at\",String(b));return a},domToMutation:function(a){a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(a){this.removeInput(\"AT\");this.removeInput(\"ORDINAL\",!0);a?(this.appendValueInput(\"AT\").setCheck(\"Number\"),\n$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\");this.moveInputBefore(\"AT\",\"TO\");this.getInput(\"ORDINAL\")&&this.moveInputBefore(\"ORDINAL\",\"TO\")}};blocks$$module$build$src$blocks$lists.lists_setIndex=LISTS_SETINDEX$$module$build$src$blocks$lists;\nvar LISTS_GETSUBLIST$$module$build$src$blocks$lists={init:function(){this.WHERE_OPTIONS_1=[[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,\"FIRST\"]];this.WHERE_OPTIONS_2=[[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,\"FROM_END\"],\n[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const a=b=>{const c=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this[\"WHERE_OPTIONS_\"+b]});c.setValidator(function(d){const e=this.getValue();d=d===\"FROM_START\"||d===\n\"FROM_END\";d!==(e===\"FROM_START\"||e===\"FROM_END\")&&this.getSourceBlock().updateAt_(b,d)});return c};this.appendDummyInput(\"WHERE1_INPUT\").appendField(a(1),\"WHERE1\");this.appendDummyInput(\"AT1\");this.appendDummyInput(\"WHERE2_INPUT\").appendField(a(2),\"WHERE2\");this.appendDummyInput(\"AT2\");$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL);this.setInputsInline(!0);this.setOutput(!0,\"Array\");this.updateAt_(1,\n!0);this.updateAt_(2,!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");var b=this.getInput(\"AT1\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at1\",String(b));b=this.getInput(\"AT2\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at2\",String(b));return a},domToMutation:function(a){const b=a.getAttribute(\"at1\")===\n\"true\";a=a.getAttribute(\"at2\")===\"true\";this.updateAt_(1,b);this.updateAt_(2,a)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(a,b){this.removeInput(\"AT\"+a);this.removeInput(\"ORDINAL\"+a,!0);b?(this.appendValueInput(\"AT\"+a).setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\"+a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\"+a);a===1&&(this.moveInputBefore(\"AT1\",\n\"WHERE2_INPUT\"),this.getInput(\"ORDINAL1\")&&this.moveInputBefore(\"ORDINAL1\",\"WHERE2_INPUT\"));$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore(\"TAIL\",null)}};blocks$$module$build$src$blocks$lists.lists_getSublist=LISTS_GETSUBLIST$$module$build$src$blocks$lists;\nblocks$$module$build$src$blocks$lists.lists_sort={init:function(){this.jsonInit({message0:\"%{BKY_LISTS_SORT_TITLE}\",args0:[{type:\"field_dropdown\",name:\"TYPE\",options:[[\"%{BKY_LISTS_SORT_TYPE_NUMERIC}\",\"NUMERIC\"],[\"%{BKY_LISTS_SORT_TYPE_TEXT}\",\"TEXT\"],[\"%{BKY_LISTS_SORT_TYPE_IGNORECASE}\",\"IGNORE_CASE\"]]},{type:\"field_dropdown\",name:\"DIRECTION\",options:[[\"%{BKY_LISTS_SORT_ORDER_ASCENDING}\",\"1\"],[\"%{BKY_LISTS_SORT_ORDER_DESCENDING}\",\"-1\"]]},{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Array\",\nstyle:\"list_blocks\",tooltip:\"%{BKY_LISTS_SORT_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_SORT_HELPURL}\"})}};\nblocks$$module$build$src$blocks$lists.lists_split={init:function(){const a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:[[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,\"SPLIT\"],[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,\"JOIN\"]]});if(!a)throw Error(\"field_dropdown not found\");a.setValidator(b=>{this.updateType_(b)});this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"INPUT\").setCheck(\"String\").appendField(a,\n\"MODE\");this.appendValueInput(\"DELIM\").setCheck(\"String\").appendField($.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER);this.setInputsInline(!0);this.setOutput(!0,\"Array\");this.setTooltip(()=>{const b=this.getFieldValue(\"MODE\");if(b===\"SPLIT\")return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(b===\"JOIN\")return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error(\"Unknown mode: \"+b);})},updateType_:function(a){if(this.getFieldValue(\"MODE\")!==a){const b=\nthis.getInput(\"INPUT\").connection;b.setShadowDom(null);const c=b.targetBlock();c&&(b.disconnect(),c.isShadow()?c.dispose(!1):this.bumpNeighbours())}a===\"SPLIT\"?(this.outputConnection.setCheck(\"Array\"),this.getInput(\"INPUT\").setCheck(\"String\")):(this.outputConnection.setCheck(\"String\"),this.getInput(\"INPUT\").setCheck(\"Array\"))},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"mode\",this.getFieldValue(\"MODE\"));return a},domToMutation:function(a){this.updateType_(a.getAttribute(\"mode\"))},\nsaveExtraState:function(){return{mode:this.getFieldValue(\"MODE\")}},loadExtraState:function(a){this.updateType_(a.mode)}};$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$lists);var module$build$src$blocks$lists={blocks:blocks$$module$build$src$blocks$lists};var blocks$$module$build$src$blocks$blocks=Object.assign({},blocks$$module$build$src$blocks$lists,blocks$$module$build$src$blocks$logic,blocks$$module$build$src$blocks$loops,blocks$$module$build$src$blocks$math,blocks$$module$build$src$blocks$procedures,blocks$$module$build$src$blocks$text,blocks$$module$build$src$blocks$variables,blocks$$module$build$src$blocks$variables_dynamic),module$build$src$blocks$blocks={blocks:blocks$$module$build$src$blocks$blocks,lists:module$build$src$blocks$lists,logic:module$build$src$blocks$logic,\nloops:module$build$src$blocks$loops,math:module$build$src$blocks$math,procedures:module$build$src$blocks$procedures,texts:module$build$src$blocks$text,variables:module$build$src$blocks$variables,variablesDynamic:module$build$src$blocks$variables_dynamic};\nmodule$build$src$blocks$blocks.__namespace__=$;\nreturn module$build$src$blocks$blocks;\n}));\n\n\n//# sourceMappingURL=blocks_compressed.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvYmxvY2tzX2NvbXByZXNzZWQuanMiLCJtYXBwaW5ncyI6IkFBQUEsMEhBQTBCOztBQUUxQjtBQUNBLENBQUM7QUFDRCxNQUFNLElBQTBDLElBQUk7QUFDcEQsSUFBSSxpQ0FBTyxDQUFDLHNHQUF5QixDQUFDLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDaEQsSUFBSSxLQUFLLEVBSU47QUFDSCxDQUFDO0FBQ0Q7QUFDQSw0SEFBNEgsbURBQW1ELDZDQUE2QywyQkFBMkIsRUFBRSx5REFBeUQsMEJBQTBCLGFBQWEsMEJBQTBCLHlEQUF5RCxFQUFFLHlDQUF5QyxrQkFBa0IsVUFBVTtBQUNuZix1QkFBdUIsMkJBQTJCLEVBQUUsRUFBRSxnQ0FBZ0MsdUZBQXVGLDBCQUEwQixhQUFhLDBCQUEwQix5REFBeUQsZ0dBQWdHLDhCQUE4QixxQkFBcUIsd0NBQXdDO0FBQ2xlLGdFQUFnRSwyRkFBMkYsMkJBQTJCLEdBQUcsZUFBZSxzQkFBc0IsUUFBUSxvSkFBb0osRUFBRSw2RkFBNkY7QUFDemQsaUdBQWlHLHFDQUFxQyx1S0FBdUssMkJBQTJCLHNCQUFzQiw0QkFBNEIsbUVBQW1FO0FBQzdiLHlEQUF5RCxvRkFBb0Ysa0JBQWtCLHNEQUFzRCx3REFBd0Qsb0ZBQW9GLGtCQUFrQix3Q0FBd0M7QUFDM1oseUxBQXlMLGdHQUFnRywrQ0FBK0MsMERBQTBELG9IQUFvSCwyQ0FBMkMsNkNBQTZDLDJCQUEyQixFQUFFLGlEQUFpRCwwQkFBMEIsYUFBYSwwQkFBMEIsa0RBQWtELEVBQUUsaUNBQWlDLGtCQUFrQixVQUFVLDZDQUE2QywyQkFBMkIsRUFBRTtBQUN4NUIsQ0FBQyxnQ0FBZ0MsK0VBQStFLDBCQUEwQixhQUFhLDBCQUEwQixrREFBa0Qsd0ZBQXdGLDhCQUE4QixxQkFBcUIsZ0NBQWdDLHNCQUFzQixnRUFBZ0U7QUFDcGUsNERBQTRELDJCQUEyQixHQUFHLGVBQWUsc0JBQXNCLFFBQVEsb0pBQW9KLEVB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c3NlZC5qcz9hZTg5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIERvIG5vdCBlZGl0IHRoaXMgZmlsZTsgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQuXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi9ibG9ja2x5X2NvbXByZXNzZWQuanNcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgeyAvLyBOb2RlLmpzXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2Jsb2NrbHlfY29tcHJlc3NlZC5qc1wiKSk7XG4gIH0gZWxzZSB7IC8vIFNjcmlwdFxuICAgIHJvb3QuQmxvY2tseS5saWJyYXJ5QmxvY2tzID0gZmFjdG9yeShyb290LkJsb2NrbHkpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKF9fcGFyZW50X18pIHtcbnZhciAkPV9fcGFyZW50X18uX19uYW1lc3BhY2VfXztcbnZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlc19keW5hbWljPSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oW3t0eXBlOlwidmFyaWFibGVzX2dldF9keW5hbWljXCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfVkFSSUFCTEVTX0RFRkFVTFRfTkFNRX1cIn1dLG91dHB1dDpudWxsLHN0eWxlOlwidmFyaWFibGVfZHluYW1pY19ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX0dFVF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9WQVJJQUJMRVNfR0VUX1RPT0xUSVB9XCIsZXh0ZW5zaW9uczpbXCJjb250ZXh0TWVudV92YXJpYWJsZUR5bmFtaWNTZXR0ZXJHZXR0ZXJcIl19LHt0eXBlOlwidmFyaWFibGVzX3NldF9keW5hbWljXCIsbWVzc2FnZTA6XCIle0JLWV9WQVJJQUJMRVNfU0VUfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsXG5uYW1lOlwiVkFSXCIsdmFyaWFibGU6XCIle0JLWV9WQVJJQUJMRVNfREVGQVVMVF9OQU1FfVwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19TRVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX1NFVF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udGV4dE1lbnVfdmFyaWFibGVEeW5hbWljU2V0dGVyR2V0dGVyXCJdfV0pLENVU1RPTV9DT05URVhUX01FTlVfVkFSSUFCTEVfR0VUVEVSX1NFVFRFUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWM9e2N1c3RvbUNvbnRleHRNZW51OmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzSW5GbHlvdXQpe2lmKHRoaXMudHlwZT09PVwidmFyaWFibGVzX2dldF9keW5hbWljXCIpe3ZhciBiPVwidmFyaWFibGVzX3NldF9keW5hbWljXCI7XG52YXIgYz0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRVNfR0VUX0NSRUFURV9TRVR9ZWxzZSBiPVwidmFyaWFibGVzX2dldF9keW5hbWljXCIsYz0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRVNfU0VUX0NSRUFURV9HRVQ7dmFyIGQ9dGhpcy5nZXRGaWVsZChcIlZBUlwiKTtiPXt0eXBlOmIsZmllbGRzOntWQVI6ZC5zYXZlU3RhdGUoITApfX07YS5wdXNoKHtlbmFibGVkOnRoaXMud29ya3NwYWNlLnJlbWFpbmluZ0NhcGFjaXR5KCk+MCx0ZXh0OmMucmVwbGFjZShcIiUxXCIsZC5nZXRUZXh0KCkpLGNhbGxiYWNrOiQuY2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUodGhpcyxiKX0pfWVsc2UgaWYodGhpcy50eXBlPT09XCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcInx8dGhpcy50eXBlPT09XCJ2YXJpYWJsZXNfZ2V0X3JlcG9ydGVyX2R5bmFtaWNcIiljPXt0ZXh0OiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlJFTkFNRV9WQVJJQUJMRSxcbmVuYWJsZWQ6ITAsY2FsbGJhY2s6cmVuYW1lT3B0aW9uQ2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYyh0aGlzKX0sZD10aGlzLmdldEZpZWxkKFwiVkFSXCIpLmdldFRleHQoKSxkPXt0ZXh0OiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRFTEVURV9WQVJJQUJMRS5yZXBsYWNlKFwiJTFcIixkKSxlbmFibGVkOiEwLGNhbGxiYWNrOmRlbGV0ZU9wdGlvbkNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWModGhpcyl9LGEudW5zaGlmdChjKSxhLnVuc2hpZnQoZCl9LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpO2E9JC5nZXRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLndvcmtzcGFjZSxhKTt0aGlzLnR5cGU9PT1cInZhcmlhYmxlc19nZXRfZHluYW1pY1wiP3RoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhhLmdldFR5cGUoKSk6XG50aGlzLmdldElucHV0KFwiVkFMVUVcIikuY29ubmVjdGlvbi5zZXRDaGVjayhhLmdldFR5cGUoKSl9fSxyZW5hbWVPcHRpb25DYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlc19keW5hbWljPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IGI9YS53b3Jrc3BhY2UsYz1hLmdldEZpZWxkKFwiVkFSXCIpLmdldFZhcmlhYmxlKCk7JC5yZW5hbWVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLGMpfX0sZGVsZXRlT3B0aW9uQ2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBiPWEuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VmFyaWFibGUoKTtiJiYkLmRlbGV0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIuZ2V0V29ya3NwYWNlKCksYixhKX19O1xuJC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRleHRNZW51X3ZhcmlhYmxlRHluYW1pY1NldHRlckdldHRlclwiLENVU1RPTV9DT05URVhUX01FTlVfVkFSSUFCTEVfR0VUVEVSX1NFVFRFUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWMpOyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWMpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYz17YmxvY2tzOmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWN9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlcz0kLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKFt7dHlwZTpcInZhcmlhYmxlc19nZXRcIixtZXNzYWdlMDpcIiUxXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixuYW1lOlwiVkFSXCIsdmFyaWFibGU6XCIle0JLWV9WQVJJQUJMRVNfREVGQVVMVF9OQU1FfVwifV0sb3V0cHV0Om51bGwsc3R5bGU6XCJ2YXJpYWJsZV9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX0dFVF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9WQVJJQUJMRVNfR0VUX1RPT0xUSVB9XCIsZXh0ZW5zaW9uczpbXCJjb250ZXh0TWVudV92YXJpYWJsZVNldHRlckdldHRlclwiXX0se3R5cGU6XCJ2YXJpYWJsZXNfc2V0XCIsbWVzc2FnZTA6XCIle0JLWV9WQVJJQUJMRVNfU0VUfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfVkFSSUFCTEVTX0RFRkFVTFRfTkFNRX1cIn0sXG57dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInZhcmlhYmxlX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9WQVJJQUJMRVNfU0VUX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX1ZBUklBQkxFU19TRVRfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X3ZhcmlhYmxlU2V0dGVyR2V0dGVyXCJdfV0pLENVU1RPTV9DT05URVhUX01FTlVfVkFSSUFCTEVfR0VUVEVSX1NFVFRFUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzPXtjdXN0b21Db250ZXh0TWVudTpmdW5jdGlvbihhKXtpZighdGhpcy5pc0luRmx5b3V0KXtpZih0aGlzLnR5cGU9PT1cInZhcmlhYmxlc19nZXRcIil7dmFyIGI9XCJ2YXJpYWJsZXNfc2V0XCI7dmFyIGM9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVTX0dFVF9DUkVBVEVfU0VUfWVsc2UgYj1cInZhcmlhYmxlc19nZXRcIixcbmM9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVTX1NFVF9DUkVBVEVfR0VUO3ZhciBkPXRoaXMuZ2V0RmllbGQoXCJWQVJcIik7Yj17dHlwZTpiLGZpZWxkczp7VkFSOmQuc2F2ZVN0YXRlKCEwKX19O2EucHVzaCh7ZW5hYmxlZDp0aGlzLndvcmtzcGFjZS5yZW1haW5pbmdDYXBhY2l0eSgpPjAsdGV4dDpjLnJlcGxhY2UoXCIlMVwiLGQuZ2V0VGV4dCgpKSxjYWxsYmFjazokLmNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KHRoaXMsYil9KX1lbHNlIGlmKHRoaXMudHlwZT09PVwidmFyaWFibGVzX2dldFwifHx0aGlzLnR5cGU9PT1cInZhcmlhYmxlc19nZXRfcmVwb3J0ZXJcIiljPXt0ZXh0OiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlJFTkFNRV9WQVJJQUJMRSxlbmFibGVkOiEwLGNhbGxiYWNrOnJlbmFtZU9wdGlvbkNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzKHRoaXMpfSxcbmQ9dGhpcy5nZXRGaWVsZChcIlZBUlwiKS5nZXRUZXh0KCksZD17dGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfVkFSSUFCTEUucmVwbGFjZShcIiUxXCIsZCksZW5hYmxlZDohMCxjYWxsYmFjazpkZWxldGVPcHRpb25DYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlcyh0aGlzKX0sYS51bnNoaWZ0KGMpLGEudW5zaGlmdChkKX19LHJlbmFtZU9wdGlvbkNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IGI9YS53b3Jrc3BhY2UsYz1hLmdldEZpZWxkKFwiVkFSXCIpLmdldFZhcmlhYmxlKCk7JC5yZW5hbWVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLGMpfX0sZGVsZXRlT3B0aW9uQ2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgYj1cbmEuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VmFyaWFibGUoKTtiJiYkLmRlbGV0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIuZ2V0V29ya3NwYWNlKCksYixhKX19OyQucmVnaXN0ZXJNaXhpbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250ZXh0TWVudV92YXJpYWJsZVNldHRlckdldHRlclwiLENVU1RPTV9DT05URVhUX01FTlVfVkFSSUFCTEVfR0VUVEVSX1NFVFRFUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzKTskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlcyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlcz17YmxvY2tzOmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzfTt2YXIgYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oW3t0eXBlOlwidGV4dFwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9pbnB1dFwiLG5hbWU6XCJURVhUXCIsdGV4dDpcIlwifV0sb3V0cHV0OlwiU3RyaW5nXCIsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9URVhUX1RFWFRfSEVMUFVSTH1cIix0b29sdGlwOlwiJXtCS1lfVEVYVF9URVhUX1RPT0xUSVB9XCIsZXh0ZW5zaW9uczpbXCJ0ZXh0X3F1b3Rlc1wiLFwicGFyZW50X3Rvb2x0aXBfd2hlbl9pbmxpbmVcIl19LHt0eXBlOlwidGV4dF9qb2luXCIsbWVzc2FnZTA6XCJcIixvdXRwdXQ6XCJTdHJpbmdcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX1RFWFRfSk9JTl9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9URVhUX0pPSU5fVE9PTFRJUH1cIixtdXRhdG9yOlwidGV4dF9qb2luX211dGF0b3JcIn0sXG57dHlwZTpcInRleHRfY3JlYXRlX2pvaW5fY29udGFpbmVyXCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0NSRUFURV9KT0lOX1RJVExFX0pPSU59ICUxICUyXCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfZHVtbXlcIn0se3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiU1RBQ0tcIn1dLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfVEVYVF9DUkVBVEVfSk9JTl9UT09MVElQfVwiLGVuYWJsZUNvbnRleHRNZW51OiExfSx7dHlwZTpcInRleHRfY3JlYXRlX2pvaW5faXRlbVwiLG1lc3NhZ2UwOlwiJXtCS1lfVEVYVF9DUkVBVEVfSk9JTl9JVEVNX1RJVExFX0lURU19XCIscHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9URVhUX0NSRUFURV9KT0lOX0lURU1fVE9PTFRJUH1cIixlbmFibGVDb250ZXh0TWVudTohMX0se3R5cGU6XCJ0ZXh0X2FwcGVuZFwiLG1lc3NhZ2UwOlwiJXtCS1lfVEVYVF9BUFBFTkRfVElUTEV9XCIsXG5hcmdzMDpbe3R5cGU6XCJmaWVsZF92YXJpYWJsZVwiLG5hbWU6XCJWQVJcIix2YXJpYWJsZTpcIiV7QktZX1RFWFRfQVBQRU5EX1ZBUklBQkxFfVwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwidGV4dF9ibG9ja3NcIixleHRlbnNpb25zOltcInRleHRfYXBwZW5kX3Rvb2x0aXBcIl19LHt0eXBlOlwidGV4dF9sZW5ndGhcIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfTEVOR1RIX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6W1wiU3RyaW5nXCIsXCJBcnJheVwiXX1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfVEVYVF9MRU5HVEhfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfVEVYVF9MRU5HVEhfSEVMUFVSTH1cIn0se3R5cGU6XCJ0ZXh0X2lzRW1wdHlcIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfSVNFTVBUWV9USVRMRX1cIixcbmFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6W1wiU3RyaW5nXCIsXCJBcnJheVwiXX1dLG91dHB1dDpcIkJvb2xlYW5cIixzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1RFWFRfSVNFTVBUWV9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9URVhUX0lTRU1QVFlfSEVMUFVSTH1cIn0se3R5cGU6XCJ0ZXh0X2luZGV4T2ZcIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfSU5ERVhPRl9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOlwiU3RyaW5nXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiRU5EXCIsb3B0aW9uczpbW1wiJXtCS1lfVEVYVF9JTkRFWE9GX09QRVJBVE9SX0ZJUlNUfVwiLFwiRklSU1RcIl0sW1wiJXtCS1lfVEVYVF9JTkRFWE9GX09QRVJBVE9SX0xBU1R9XCIsXCJMQVNUXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJGSU5EXCIsY2hlY2s6XCJTdHJpbmdcIn1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwidGV4dF9ibG9ja3NcIixcbmhlbHBVcmw6XCIle0JLWV9URVhUX0lOREVYT0ZfSEVMUFVSTH1cIixpbnB1dHNJbmxpbmU6ITAsZXh0ZW5zaW9uczpbXCJ0ZXh0X2luZGV4T2ZfdG9vbHRpcFwiXX0se3R5cGU6XCJ0ZXh0X2NoYXJBdFwiLG1lc3NhZ2UwOlwiJXtCS1lfVEVYVF9DSEFSQVRfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIldIRVJFXCIsb3B0aW9uczpbW1wiJXtCS1lfVEVYVF9DSEFSQVRfRlJPTV9TVEFSVH1cIixcIkZST01fU1RBUlRcIl0sW1wiJXtCS1lfVEVYVF9DSEFSQVRfRlJPTV9FTkR9XCIsXCJGUk9NX0VORFwiXSxbXCIle0JLWV9URVhUX0NIQVJBVF9GSVJTVH1cIixcIkZJUlNUXCJdLFtcIiV7QktZX1RFWFRfQ0hBUkFUX0xBU1R9XCIsXCJMQVNUXCJdLFtcIiV7QktZX1RFWFRfQ0hBUkFUX1JBTkRPTX1cIixcIlJBTkRPTVwiXV19XSxvdXRwdXQ6XCJTdHJpbmdcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX1RFWFRfQ0hBUkFUX0hFTFBVUkx9XCIsXG5pbnB1dHNJbmxpbmU6ITAsbXV0YXRvcjpcInRleHRfY2hhckF0X211dGF0b3JcIn1dKSxHRVRfU1VCU1RSSU5HX0JMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5XSEVSRV9PUFRJT05TXzE9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfU1RBUlRfRlJPTV9TVEFSVCxcIkZST01fU1RBUlRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GUk9NX0VORCxcIkZST01fRU5EXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfU1RBUlRfRklSU1QsXCJGSVJTVFwiXV07dGhpcy5XSEVSRV9PUFRJT05TXzI9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfRU5EX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfRU5EX0ZST01fRU5ELFxuXCJGUk9NX0VORFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX0VORF9MQVNULFwiTEFTVFwiXV07dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiU1RSSU5HXCIpLnNldENoZWNrKFwiU3RyaW5nXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19JTlBVVF9JTl9URVhUKTtjb25zdCBhPWI9Pntjb25zdCBjPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczp0aGlzW1wiV0hFUkVfT1BUSU9OU19cIitiXX0pO2Muc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGQpe2NvbnN0IGU9dGhpcy5nZXRWYWx1ZSgpO2Q9ZD09PVxuXCJGUk9NX1NUQVJUXCJ8fGQ9PT1cIkZST01fRU5EXCI7ZCE9PShlPT09XCJGUk9NX1NUQVJUXCJ8fGU9PT1cIkZST01fRU5EXCIpJiZ0aGlzLmdldFNvdXJjZUJsb2NrKCkudXBkYXRlQXRfKGIsZCl9KTtyZXR1cm4gY307dGhpcy5hcHBlbmREdW1teUlucHV0KFwiV0hFUkUxX0lOUFVUXCIpLmFwcGVuZEZpZWxkKGEoMSksXCJXSEVSRTFcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVQxXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIldIRVJFMl9JTlBVVFwiKS5hcHBlbmRGaWVsZChhKDIpLFwiV0hFUkUyXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUMlwiKTskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfVEFJTCYmdGhpcy5hcHBlbmREdW1teUlucHV0KFwiVEFJTFwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfVEFJTCk7dGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0T3V0cHV0KCEwLFxuXCJTdHJpbmdcIik7dGhpcy51cGRhdGVBdF8oMSwhMCk7dGhpcy51cGRhdGVBdF8oMiwhMCk7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19UT09MVElQKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7dmFyIGI9dGhpcy5nZXRJbnB1dChcIkFUMVwiKWluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O2Euc2V0QXR0cmlidXRlKFwiYXQxXCIsYCR7Yn1gKTtiPXRoaXMuZ2V0SW5wdXQoXCJBVDJcIilpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDthLnNldEF0dHJpYnV0ZShcImF0MlwiLGAke2J9YCk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7Y29uc3QgYj1cbmEuZ2V0QXR0cmlidXRlKFwiYXQxXCIpPT09XCJ0cnVlXCI7YT1hLmdldEF0dHJpYnV0ZShcImF0MlwiKT09PVwidHJ1ZVwiO3RoaXMudXBkYXRlQXRfKDEsYik7dGhpcy51cGRhdGVBdF8oMixhKX0sdXBkYXRlQXRfOmZ1bmN0aW9uKGEsYil7dGhpcy5yZW1vdmVJbnB1dChcIkFUXCIrYSk7dGhpcy5yZW1vdmVJbnB1dChcIk9SRElOQUxcIithLCEwKTtiPyh0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBVFwiK2EpLnNldENoZWNrKFwiTnVtYmVyXCIpLCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCYmdGhpcy5hcHBlbmREdW1teUlucHV0KFwiT1JESU5BTFwiK2EpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCkpOnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIrYSk7YT09PTImJiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19UQUlMJiYodGhpcy5yZW1vdmVJbnB1dChcIlRBSUxcIixcbiEwKSx0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19UQUlMKSk7YT09PTEmJih0aGlzLm1vdmVJbnB1dEJlZm9yZShcIkFUMVwiLFwiV0hFUkUyX0lOUFVUXCIpLHRoaXMuZ2V0SW5wdXQoXCJPUkRJTkFMMVwiKSYmdGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJPUkRJTkFMMVwiLFwiV0hFUkUyX0lOUFVUXCIpKX19O2Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dC50ZXh0X2dldFN1YnN0cmluZz1HRVRfU1VCU1RSSU5HX0JMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfY2hhbmdlQ2FzZT17aW5pdDpmdW5jdGlvbigpe2NvbnN0IGE9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0NIQU5HRUNBU0VfT1BFUkFUT1JfVVBQRVJDQVNFLFwiVVBQRVJDQVNFXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0NIQU5HRUNBU0VfT1BFUkFUT1JfTE9XRVJDQVNFLFwiTE9XRVJDQVNFXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0NIQU5HRUNBU0VfT1BFUkFUT1JfVElUTEVDQVNFLFwiVElUTEVDQVNFXCJdXTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DSEFOR0VDQVNFX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJ0ZXh0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJURVhUXCIpLnNldENoZWNrKFwiU3RyaW5nXCIpLmFwcGVuZEZpZWxkKCQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsXG5vcHRpb25zOmF9KSxcIkNBU0VcIik7dGhpcy5zZXRPdXRwdXQoITAsXCJTdHJpbmdcIik7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBTkdFQ0FTRV9UT09MVElQKX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfdHJpbT17aW5pdDpmdW5jdGlvbigpe2NvbnN0IGE9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1RSSU1fT1BFUkFUT1JfQk9USCxcIkJPVEhcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfVFJJTV9PUEVSQVRPUl9MRUZULFwiTEVGVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9UUklNX09QRVJBVE9SX1JJR0hULFwiUklHSFRcIl1dO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1RSSU1fSEVMUFVSTCk7dGhpcy5zZXRTdHlsZShcInRleHRfYmxvY2tzXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlRFWFRcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoJC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOmF9KSxcblwiTU9ERVwiKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9UUklNX1RPT0xUSVApfX07YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfcHJpbnQ9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KHttZXNzYWdlMDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BSSU5UX1RJVExFLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJJTlRfVE9PTFRJUCxoZWxwVXJsOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJJTlRfSEVMUFVSTH0pfX07XG52YXIgUFJPTVBUX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dD17dXBkYXRlVHlwZV86ZnVuY3Rpb24oYSl7dGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldENoZWNrKGE9PT1cIk5VTUJFUlwiP1wiTnVtYmVyXCI6XCJTdHJpbmdcIil9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwidHlwZVwiLHRoaXMuZ2V0RmllbGRWYWx1ZShcIlRZUEVcIikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlVHlwZV8oYS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfcHJvbXB0X2V4dD1PYmplY3QuYXNzaWduKHt9LFBST01QVF9DT01NT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQse2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJPTVBUX1RZUEVfVEVYVCxcIlRFWFRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJPTVBUX1RZUEVfTlVNQkVSLFwiTlVNQkVSXCJdXTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfSEVMUFVSTCk7dGhpcy5zZXRTdHlsZShcInRleHRfYmxvY2tzXCIpO2E9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOmF9KTthLnNldFZhbGlkYXRvcihiPT57dGhpcy51cGRhdGVUeXBlXyhiKX0pO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlRFWFRcIikuYXBwZW5kRmllbGQoYSxcblwiVFlQRVwiKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoKCk9PnRoaXMuZ2V0RmllbGRWYWx1ZShcIlRZUEVcIik9PT1cIlRFWFRcIj8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9UT09MVElQX1RFWFQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVE9PTFRJUF9OVU1CRVIpfX0pO1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfcHJvbXB0PU9iamVjdC5hc3NpZ24oe30sUFJPTVBUX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCx7aW5pdDpmdW5jdGlvbigpe3RoaXMubWl4aW4oUVVPVEVfSU1BR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpO3ZhciBhPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVFlQRV9URVhULFwiVEVYVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVFlQRV9OVU1CRVIsXCJOVU1CRVJcIl1dO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7YT0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG9wdGlvbnM6YX0pO1xuYS5zZXRWYWxpZGF0b3IoYj0+e3RoaXMudXBkYXRlVHlwZV8oYil9KTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChhLFwiVFlQRVwiKS5hcHBlbmRGaWVsZCh0aGlzLm5ld1F1b3RlXyghMCkpLmFwcGVuZEZpZWxkKCQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2lucHV0XCIsdGV4dDpcIlwifSksXCJURVhUXCIpLmFwcGVuZEZpZWxkKHRoaXMubmV3UXVvdGVfKCExKSk7dGhpcy5zZXRPdXRwdXQoITAsXCJTdHJpbmdcIik7dGhpcy5zZXRUb29sdGlwKCgpPT50aGlzLmdldEZpZWxkVmFsdWUoXCJUWVBFXCIpPT09XCJURVhUXCI/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVE9PTFRJUF9URVhUOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJPTVBUX1RPT0xUSVBfTlVNQkVSKX19KTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dC50ZXh0X2NvdW50PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DT1VOVF9NRVNTQUdFMCxhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJTVUJcIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIixjaGVjazpcIlN0cmluZ1wifV0sb3V0cHV0OlwiTnVtYmVyXCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ09VTlRfVE9PTFRJUCxoZWxwVXJsOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ09VTlRfSEVMUFVSTH0pfX07XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQudGV4dF9yZXBsYWNlPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9SRVBMQUNFX01FU1NBR0UwLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkZST01cIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRPXCIsY2hlY2s6XCJTdHJpbmdcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJURVhUXCIsY2hlY2s6XCJTdHJpbmdcIn1dLG91dHB1dDpcIlN0cmluZ1wiLGlucHV0c0lubGluZTohMCxzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1JFUExBQ0VfVE9PTFRJUCxoZWxwVXJsOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUkVQTEFDRV9IRUxQVVJMfSl9fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dC50ZXh0X3JldmVyc2U9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KHttZXNzYWdlMDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1JFVkVSU0VfTUVTU0FHRTAsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVEVYVFwiLGNoZWNrOlwiU3RyaW5nXCJ9XSxvdXRwdXQ6XCJTdHJpbmdcIixpbnB1dHNJbmxpbmU6ITAsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLHRvb2x0aXA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9SRVZFUlNFX1RPT0xUSVAsaGVscFVybDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1JFVkVSU0VfSEVMUFVSTH0pfX07XG52YXIgUVVPVEVfSU1BR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9e1FVT1RFX0lNQUdFX0xFRlRfREFUQVVSSTpcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBS0NBUUFBQUFxSlhkeEFBQUFuMGxFUVZRSTF6M09NYTVCVVJTRjRmL2NRaEFLalVRaHVRbUZOd0dKRVVpMFJLTjVyVTdGSEtocGpFSDNURU10a2RCU0NZMUVJdjhyN25GWDllMjlWN0VCQU92dTdSUGp3bVdHSC9WdUY4Q3lOOS9PQWR2cUlYWUx2dFJhTmp4OW1NVER5bytOakFOMUhOY2w5WlE1b1FNTTNkZ0RVcURvMWw4RHp2d210Wk43bW5EK1BrbUxhKzRtaHJ4VkE5ZlJvd0JXbVZCaEZ5NWdZRWpLTWZ6OUF5bHNhUlJnR3p2WkFBQUFBRWxGVGtTdVFtQ0NcIixRVU9URV9JTUFHRV9SSUdIVF9EQVRBVVJJOlwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFLQ0FRQUFBQXFKWGR4QUFBQXFVbEVRVlFJMXozS3ZVcENjUmlBOGVmOUU0Sk5IaEkwYUZFYWNtMW8wQnNJMFNseDh3YThnTGF1b0Rub0JocTdEY2ZXaGdnT05EbUpKZ3FDUEE3bmVKN3A5MzRFT09LT25NOFE3UERFbG8vNHg0bEZiMkRtdVVqY1V6UzNVUm5HaWI5cWFQTmJ1WHZCTzNzR1BISkRSRzZmR1ZkTVNlV0RQMnE5OUZRZEZyejI2R3U1VHE3ZEZNelV2Ylh5OEtYZUFqNTdjT2tsZ0ErdTFCNUFvc2xMdEdJSFFNYUNWbndEbkFEWklGSXJYc29YcmdBQUFBQkpSVTVFcmtKZ2dnPT1cIixcblFVT1RFX0lNQUdFX1dJRFRIOjEyLFFVT1RFX0lNQUdFX0hFSUdIVDoxMixxdW90ZUZpZWxkXzpmdW5jdGlvbihhKXtmb3IobGV0IGI9MCxjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWZvcihsZXQgZD0wLGU7ZT1jLmZpZWxkUm93W2RdO2QrKylpZihhPT09ZS5uYW1lKXtjLmluc2VydEZpZWxkQXQoZCx0aGlzLm5ld1F1b3RlXyghMCkpO2MuaW5zZXJ0RmllbGRBdChkKzIsdGhpcy5uZXdRdW90ZV8oITEpKTtyZXR1cm59Y29uc29sZS53YXJuKCdmaWVsZCBuYW1lZCBcIicrYSsnXCIgbm90IGZvdW5kIGluICcrdGhpcy50b0RldlN0cmluZygpKX0sbmV3UXVvdGVfOmZ1bmN0aW9uKGEpe2E9dGhpcy5SVEw/IWE6YTtyZXR1cm4gJC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfaW1hZ2VcIixzcmM6YT90aGlzLlFVT1RFX0lNQUdFX0xFRlRfREFUQVVSSTp0aGlzLlFVT1RFX0lNQUdFX1JJR0hUX0RBVEFVUkksd2lkdGg6dGhpcy5RVU9URV9JTUFHRV9XSURUSCxcbmhlaWdodDp0aGlzLlFVT1RFX0lNQUdFX0hFSUdIVCxhbHQ6YT9cIlxcdTIwMWNcIjpcIlxcdTIwMWRcIn0pfX0sUVVPVEVTX0VYVEVOU0lPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dD1mdW5jdGlvbigpe3RoaXMubWl4aW4oUVVPVEVfSU1BR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpO3RoaXMucXVvdGVGaWVsZF8oXCJURVhUXCIpfSxKT0lOX01VVEFUT1JfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9e2l0ZW1Db3VudF86MCxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcIml0ZW1zXCIsYCR7dGhpcy5pdGVtQ291bnRffWApO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaXRlbUNvdW50Xz1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcIml0ZW1zXCIpLDEwKTt0aGlzLnVwZGF0ZVNoYXBlXygpfSxcbnNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2l0ZW1Db3VudDp0aGlzLml0ZW1Db3VudF99fSxsb2FkRXh0cmFTdGF0ZTpmdW5jdGlvbihhKXt0aGlzLml0ZW1Db3VudF89YS5pdGVtQ291bnQ7dGhpcy51cGRhdGVTaGFwZV8oKX0sZGVjb21wb3NlOmZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5uZXdCbG9jayhcInRleHRfY3JlYXRlX2pvaW5fY29udGFpbmVyXCIpO2IuaW5pdFN2ZygpO2xldCBjPWIuZ2V0SW5wdXQoXCJTVEFDS1wiKS5jb25uZWN0aW9uO2ZvcihsZXQgZD0wO2Q8dGhpcy5pdGVtQ291bnRfO2QrKyl7Y29uc3QgZT1hLm5ld0Jsb2NrKFwidGV4dF9jcmVhdGVfam9pbl9pdGVtXCIpO2UuaW5pdFN2ZygpO2MuY29ubmVjdChlLnByZXZpb3VzQ29ubmVjdGlvbik7Yz1lLm5leHRDb25uZWN0aW9ufXJldHVybiBifSxjb21wb3NlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIlNUQUNLXCIpO2ZvcihhPVtdO2I7KWIuaXNJbnNlcnRpb25NYXJrZXIoKXx8XG5hLnB1c2goYi52YWx1ZUNvbm5lY3Rpb25fKSxiPWIuZ2V0TmV4dEJsb2NrKCk7Zm9yKGI9MDtiPHRoaXMuaXRlbUNvdW50XztiKyspe2NvbnN0IGM9dGhpcy5nZXRJbnB1dChcIkFERFwiK2IpLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtjJiYhYS5pbmNsdWRlcyhjKSYmYy5kaXNjb25uZWN0KCl9dGhpcy5pdGVtQ291bnRfPWEubGVuZ3RoO3RoaXMudXBkYXRlU2hhcGVfKCk7Zm9yKGI9MDtiPHRoaXMuaXRlbUNvdW50XztiKyspe2xldCBjOyhjPWFbYl0pPT1udWxsfHxjLnJlY29ubmVjdCh0aGlzLFwiQUREXCIrYil9fSxzYXZlQ29ubmVjdGlvbnM6ZnVuY3Rpb24oYSl7YT1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtsZXQgYj0wO2Zvcig7YTspe2lmKGEuaXNJbnNlcnRpb25NYXJrZXIoKSl7YT1hLmdldE5leHRCbG9jaygpO2NvbnRpbnVlfWNvbnN0IGM9dGhpcy5nZXRJbnB1dChcIkFERFwiK2IpO2EudmFsdWVDb25uZWN0aW9uXz1jJiZjLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtcbmE9YS5nZXROZXh0QmxvY2soKTtiKyt9fSx1cGRhdGVTaGFwZV86ZnVuY3Rpb24oKXt0aGlzLml0ZW1Db3VudF8mJnRoaXMuZ2V0SW5wdXQoXCJFTVBUWVwiKT90aGlzLnJlbW92ZUlucHV0KFwiRU1QVFlcIik6dGhpcy5pdGVtQ291bnRffHx0aGlzLmdldElucHV0KFwiRU1QVFlcIil8fHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkVNUFRZXCIpLmFwcGVuZEZpZWxkKHRoaXMubmV3UXVvdGVfKCEwKSkuYXBwZW5kRmllbGQodGhpcy5uZXdRdW90ZV8oITEpKTtmb3IodmFyIGE9MDthPHRoaXMuaXRlbUNvdW50XzthKyspaWYoIXRoaXMuZ2V0SW5wdXQoXCJBRERcIithKSl7Y29uc3QgYj10aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBRERcIithKS5zZXRBbGlnbigkLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLlJJR0hUKTthPT09MCYmYi5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0pPSU5fVElUTEVfQ1JFQVRFV0lUSCl9Zm9yKGE9dGhpcy5pdGVtQ291bnRfO3RoaXMuZ2V0SW5wdXQoXCJBRERcIitcbmEpO2ErKyl0aGlzLnJlbW92ZUlucHV0KFwiQUREXCIrYSl9fSxKT0lOX0VYVEVOU0lPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dD1mdW5jdGlvbigpe3RoaXMubWl4aW4oUVVPVEVfSU1BR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpO3RoaXMuaXRlbUNvdW50Xz0yO3RoaXMudXBkYXRlU2hhcGVfKCk7dGhpcy5zZXRNdXRhdG9yKG5ldyAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uKFtcInRleHRfY3JlYXRlX2pvaW5faXRlbVwiXSx0aGlzKSl9OyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwidGV4dF9hcHBlbmRfdG9vbHRpcFwiLCQuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCIle0JLWV9URVhUX0FQUEVORF9UT09MVElQfVwiLFwiVkFSXCIpKTtcbnZhciBJTkRFWE9GX1RPT0xUSVBfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PWZ1bmN0aW9uKCl7dGhpcy5zZXRUb29sdGlwKCgpPT4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0lOREVYT0ZfVE9PTFRJUC5yZXBsYWNlKFwiJTFcIix0aGlzLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXg/XCIwXCI6XCItMVwiKSl9LENIQVJBVF9NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PXtpc0F0XzohMSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcImF0XCIsYCR7dGhpcy5pc0F0X31gKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXthPWEuZ2V0QXR0cmlidXRlKFwiYXRcIikhPT1cImZhbHNlXCI7dGhpcy51cGRhdGVBdF8oYSl9LHVwZGF0ZUF0XzpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUlucHV0KFwiQVRcIixcbiEwKTt0aGlzLnJlbW92ZUlucHV0KFwiT1JESU5BTFwiLCEwKTthJiYodGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQVRcIikuc2V0Q2hlY2soXCJOdW1iZXJcIiksJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCkpOyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBUkFUX1RBSUwmJih0aGlzLnJlbW92ZUlucHV0KFwiVEFJTFwiLCEwKSx0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBUkFUX1RBSUwpKTt0aGlzLmlzQXRfPWF9fSxDSEFSQVRfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PWZ1bmN0aW9uKCl7dGhpcy5nZXRGaWVsZChcIldIRVJFXCIpLnNldFZhbGlkYXRvcihmdW5jdGlvbihhKXthPVxuYT09PVwiRlJPTV9TVEFSVFwifHxhPT09XCJGUk9NX0VORFwiO2NvbnN0IGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2EhPT1iLmlzQXRfJiZiLnVwZGF0ZUF0XyhhKX0pO3RoaXMudXBkYXRlQXRfKCEwKTt0aGlzLnNldFRvb2x0aXAoKCk9Pnt2YXIgYT10aGlzLmdldEZpZWxkVmFsdWUoXCJXSEVSRVwiKTtsZXQgYj0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0NIQVJBVF9UT09MVElQOyhhPT09XCJGUk9NX1NUQVJUXCJ8fGE9PT1cIkZST01fRU5EXCIpJiYoYT1hPT09XCJGUk9NX1NUQVJUXCI/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfSU5ERVhfRlJPTV9TVEFSVF9UT09MVElQOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0lOREVYX0ZST01fRU5EX1RPT0xUSVApJiYoYis9XCIgIFwiK2EucmVwbGFjZShcIiUxXCIsdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1wiIzFcIjpcIiMwXCIpKTtyZXR1cm4gYn0pfTtcbiQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwidGV4dF9pbmRleE9mX3Rvb2x0aXBcIixJTkRFWE9GX1RPT0xUSVBfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0KTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcInRleHRfcXVvdGVzXCIsUVVPVEVTX0VYVEVOU0lPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCk7JC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcInF1b3RlX2ltYWdlX21peGluXCIsUVVPVEVfSU1BR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpOyQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcInRleHRfam9pbl9tdXRhdG9yXCIsSk9JTl9NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LEpPSU5fRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0KTtcbiQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcInRleHRfY2hhckF0X211dGF0b3JcIixDSEFSQVRfTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCxDSEFSQVRfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0KTskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0fTt2YXIgYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXt9LFBST0NFRFVSRV9ERUZfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXtzZXRTdGF0ZW1lbnRzXzpmdW5jdGlvbihhKXt0aGlzLmhhc1N0YXRlbWVudHNfIT09YSYmKGE/KHRoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJTVEFDS1wiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX0RPKSx0aGlzLmdldElucHV0KFwiUkVUVVJOXCIpJiZ0aGlzLm1vdmVJbnB1dEJlZm9yZShcIlNUQUNLXCIsXCJSRVRVUk5cIikpOnRoaXMucmVtb3ZlSW5wdXQoXCJTVEFDS1wiLCEwKSx0aGlzLmhhc1N0YXRlbWVudHNfPWEpfSx1cGRhdGVQYXJhbXNfOmZ1bmN0aW9uKCl7bGV0IGE9XCJcIjt0aGlzLmFyZ3VtZW50c18ubGVuZ3RoJiYoYT0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0JFRk9SRV9QQVJBTVMrXG5cIiBcIit0aGlzLmFyZ3VtZW50c18uam9pbihcIiwgXCIpKTskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7dGhpcy5zZXRGaWVsZFZhbHVlKGEsXCJQQVJBTVNcIil9ZmluYWxseXskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbihhKXtjb25zdCBiPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2EmJmIuc2V0QXR0cmlidXRlKFwibmFtZVwiLHRoaXMuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpO2ZvcihsZXQgYz0wO2M8dGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoO2MrKyl7Y29uc3QgZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJhcmdcIiksZT10aGlzLmFyZ3VtZW50VmFyTW9kZWxzX1tjXTtkLnNldEF0dHJpYnV0ZShcIm5hbWVcIixlLmdldE5hbWUoKSk7ZC5zZXRBdHRyaWJ1dGUoXCJ2YXJpZFwiLFxuZS5nZXRJZCgpKTthJiZ0aGlzLnBhcmFtSWRzXyYmZC5zZXRBdHRyaWJ1dGUoXCJwYXJhbUlkXCIsdGhpcy5wYXJhbUlkc19bY10pO2IuYXBwZW5kQ2hpbGQoZCl9dGhpcy5oYXNTdGF0ZW1lbnRzX3x8Yi5zZXRBdHRyaWJ1dGUoXCJzdGF0ZW1lbnRzXCIsXCJmYWxzZVwiKTtyZXR1cm4gYn0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt0aGlzLmFyZ3VtZW50c189W107dGhpcy5hcmd1bWVudFZhck1vZGVsc189W107Zm9yKGxldCBjPTAsZDtkPWEuY2hpbGROb2Rlc1tjXTtjKyspaWYoZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJhcmdcIil7dmFyIGI9ZDtjb25zdCBlPWIuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtiPWIuZ2V0QXR0cmlidXRlKFwidmFyaWRcIil8fGIuZ2V0QXR0cmlidXRlKFwidmFySWRcIik7dGhpcy5hcmd1bWVudHNfLnB1c2goZSk7Yj0kLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMud29ya3NwYWNlLGIsZSxcblwiXCIpO2IhPT1udWxsP3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfLnB1c2goYik6Y29uc29sZS5sb2coYEZhaWxlZCB0byBjcmVhdGUgYSB2YXJpYWJsZSBuYW1lZCBcIiR7ZX1cIiwgaWdub3JpbmcuYCl9dGhpcy51cGRhdGVQYXJhbXNfKCk7JC5tdXRhdGVDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyh0aGlzKTt0aGlzLnNldFN0YXRlbWVudHNfKGEuZ2V0QXR0cmlidXRlKFwic3RhdGVtZW50c1wiKSE9PVwiZmFsc2VcIil9LHNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYXJndW1lbnRWYXJNb2RlbHNfLmxlbmd0aCYmdGhpcy5oYXNTdGF0ZW1lbnRzXylyZXR1cm4gbnVsbDtjb25zdCBhPU9iamVjdC5jcmVhdGUobnVsbCk7aWYodGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoKXthLnBhcmFtcz1bXTtmb3IobGV0IGI9MDtiPHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfLmxlbmd0aDtiKyspYS5wYXJhbXMucHVzaCh7bmFtZTp0aGlzLmFyZ3VtZW50VmFyTW9kZWxzX1tiXS5nZXROYW1lKCksXG5pZDp0aGlzLmFyZ3VtZW50VmFyTW9kZWxzX1tiXS5nZXRJZCgpfSl9dGhpcy5oYXNTdGF0ZW1lbnRzX3x8KGEuaGFzU3RhdGVtZW50cz0hMSk7cmV0dXJuIGF9LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKGEpe3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTtpZihhLnBhcmFtcylmb3IobGV0IGM9MDtjPGEucGFyYW1zLmxlbmd0aDtjKyspe3ZhciBiPWEucGFyYW1zW2NdO2I9JC5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLndvcmtzcGFjZSxiLmlkLGIubmFtZSxcIlwiKTt0aGlzLmFyZ3VtZW50c18ucHVzaChiLmdldE5hbWUoKSk7dGhpcy5hcmd1bWVudFZhck1vZGVsc18ucHVzaChiKX10aGlzLnVwZGF0ZVBhcmFtc18oKTskLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMpO3RoaXMuc2V0U3RhdGVtZW50c18oYS5oYXNTdGF0ZW1lbnRzPT09XG4hMT8hMTohMCl9LGRlY29tcG9zZTpmdW5jdGlvbihhKXtjb25zdCBiPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicHJvY2VkdXJlc19tdXRhdG9yY29udGFpbmVyXCIpO3ZhciBjPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcInN0YXRlbWVudFwiKTtjLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIlNUQUNLXCIpO2IuYXBwZW5kQ2hpbGQoYyk7Zm9yKGxldCBlPTA7ZTx0aGlzLmFyZ3VtZW50c18ubGVuZ3RoO2UrKyl7Y29uc3QgZj0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKTtmLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfbXV0YXRvcmFyZ1wiKTt2YXIgZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJmaWVsZFwiKTtkLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcblwiTkFNRVwiKTtjb25zdCBnPSQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwodGhpcy5hcmd1bWVudHNfW2VdKTtkLmFwcGVuZENoaWxkKGcpO2YuYXBwZW5kQ2hpbGQoZCk7ZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJuZXh0XCIpO2YuYXBwZW5kQ2hpbGQoZCk7Yy5hcHBlbmRDaGlsZChmKTtjPWR9YT0kLmRvbVRvQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYixhKTt0aGlzLnR5cGU9PT1cInByb2NlZHVyZXNfZGVmcmV0dXJuXCI/YS5zZXRGaWVsZFZhbHVlKHRoaXMuaGFzU3RhdGVtZW50c18sXCJTVEFURU1FTlRTXCIpOmEucmVtb3ZlSW5wdXQoXCJTVEFURU1FTlRfSU5QVVRcIik7JC5tdXRhdGVDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyh0aGlzKTtyZXR1cm4gYX0sY29tcG9zZTpmdW5jdGlvbihhKXt0aGlzLmFyZ3VtZW50c189W107dGhpcy5wYXJhbUlkc189XG5bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTtsZXQgYj1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtmb3IoO2ImJiFiLmlzSW5zZXJ0aW9uTWFya2VyKCk7KXt2YXIgYz1iLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpO3RoaXMuYXJndW1lbnRzXy5wdXNoKGMpO2M9dGhpcy53b3Jrc3BhY2UuZ2V0VmFyaWFibGUoYyxcIlwiKTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5wdXNoKGMpO3RoaXMucGFyYW1JZHNfLnB1c2goYi5pZCk7Yj1iLm5leHRDb25uZWN0aW9uJiZiLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9dGhpcy51cGRhdGVQYXJhbXNfKCk7JC5tdXRhdGVDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyh0aGlzKTthPWEuZ2V0RmllbGRWYWx1ZShcIlNUQVRFTUVOVFNcIik7aWYoYSE9PW51bGwmJihhPWE9PT1cIlRSVUVcIix0aGlzLmhhc1N0YXRlbWVudHNfIT09YSkpaWYoYSl7dGhpcy5zZXRTdGF0ZW1lbnRzXyghMCk7dmFyIGQ7KGQ9dGhpcy5zdGF0ZW1lbnRDb25uZWN0aW9uXyk9PVxubnVsbHx8ZC5yZWNvbm5lY3QodGhpcyxcIlNUQUNLXCIpO3RoaXMuc3RhdGVtZW50Q29ubmVjdGlvbl89bnVsbH1lbHNle2Q9dGhpcy5nZXRJbnB1dChcIlNUQUNLXCIpLmNvbm5lY3Rpb247aWYodGhpcy5zdGF0ZW1lbnRDb25uZWN0aW9uXz1kLnRhcmdldENvbm5lY3Rpb24pZD1kLnRhcmdldEJsb2NrKCksZC51bnBsdWcoKSxkLmJ1bXBOZWlnaGJvdXJzKCk7dGhpcy5zZXRTdGF0ZW1lbnRzXyghMSl9fSxnZXRWYXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJndW1lbnRzX30sZ2V0VmFyTW9kZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJndW1lbnRWYXJNb2RlbHNffSxyZW5hbWVWYXJCeUlkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy53b3Jrc3BhY2UuZ2V0VmFyaWFibGVCeUlkKGEpO2lmKGMuZ2V0VHlwZSgpPT09XCJcIil7Yz1jLmdldE5hbWUoKTtiPXRoaXMud29ya3NwYWNlLmdldFZhcmlhYmxlQnlJZChiKTt2YXIgZD0hMTtmb3IobGV0IGU9MDtlPHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfLmxlbmd0aDtlKyspdGhpcy5hcmd1bWVudFZhck1vZGVsc19bZV0uZ2V0SWQoKT09PVxuYSYmKHRoaXMuYXJndW1lbnRzX1tlXT1iLmdldE5hbWUoKSx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzX1tlXT1iLGQ9ITApO2QmJih0aGlzLmRpc3BsYXlSZW5hbWVkVmFyXyhjLGIuZ2V0TmFtZSgpKSwkLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMpKX19LHVwZGF0ZVZhck5hbWU6ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLmdldE5hbWUoKTtsZXQgYz0hMSxkO2ZvcihsZXQgZT0wO2U8dGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoO2UrKyl0aGlzLmFyZ3VtZW50VmFyTW9kZWxzX1tlXS5nZXRJZCgpPT09YS5nZXRJZCgpJiYoZD10aGlzLmFyZ3VtZW50c19bZV0sdGhpcy5hcmd1bWVudHNfW2VdPWIsYz0hMCk7YyYmKHRoaXMuZGlzcGxheVJlbmFtZWRWYXJfKGQsYiksJC5tdXRhdGVDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyh0aGlzKSl9LGRpc3BsYXlSZW5hbWVkVmFyXzpmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlUGFyYW1zXygpO1xudmFyIGM9dGhpcy5nZXRJY29uKCQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24uVFlQRSk7aWYoYyYmYy5idWJibGVJc1Zpc2libGUoKSl7Yz1jLmdldFdvcmtzcGFjZSgpLmdldEFsbEJsb2NrcyghMSk7Zm9yKGxldCBkPTAsZTtlPWNbZF07ZCsrKWUudHlwZT09PVwicHJvY2VkdXJlc19tdXRhdG9yYXJnXCImJiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoYSxlLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpKSYmZS5zZXRGaWVsZFZhbHVlKGIsXCJOQU1FXCIpfX0sY3VzdG9tQ29udGV4dE1lbnU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNJbkZseW91dCl7dmFyIGI9dGhpcy5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKSxjPXt0eXBlOnRoaXMuY2FsbFR5cGVfLGV4dHJhU3RhdGU6e25hbWU6YixwYXJhbXM6dGhpcy5hcmd1bWVudHNffX07YS5wdXNoKHtlbmFibGVkOiEwLHRleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DUkVBVEVfRE8ucmVwbGFjZShcIiUxXCIsXG5iKSxjYWxsYmFjazokLmNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KHRoaXMsYyl9KTtpZighdGhpcy5pc0NvbGxhcHNlZCgpKWZvcihiPTA7Yjx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGg7YisrKXtjPXRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2JdO2NvbnN0IGQ9e3R5cGU6XCJ2YXJpYWJsZXNfZ2V0XCIsZmllbGRzOntWQVI6e25hbWU6Yy5nZXROYW1lKCksaWQ6Yy5nZXRJZCgpLHR5cGU6Yy5nZXRUeXBlKCl9fX07YS5wdXNoKHtlbmFibGVkOiEwLHRleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVTX1NFVF9DUkVBVEVfR0VULnJlcGxhY2UoXCIlMVwiLGMuZ2V0TmFtZSgpKSxjYWxsYmFjazokLmNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KHRoaXMsZCl9KX19fX07XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMucHJvY2VkdXJlc19kZWZub3JldHVybj1PYmplY3QuYXNzaWduKHt9LFBST0NFRFVSRV9ERUZfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLHtpbml0OmZ1bmN0aW9uKCl7dmFyIGE9JC5maW5kTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhcIlwiLHRoaXMpO2E9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfaW5wdXRcIix0ZXh0OmF9KTthLnNldFZhbGlkYXRvcigkLnJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMpO2Euc2V0U3BlbGxjaGVjayghMSk7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9USVRMRSkuYXBwZW5kRmllbGQoYSxcIk5BTUVcIikuYXBwZW5kRmllbGQoXCJcIixcblwiUEFSQU1TXCIpO3RoaXMuc2V0TXV0YXRvcihuZXcgJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbihbXCJwcm9jZWR1cmVzX211dGF0b3JhcmdcIl0sdGhpcykpOyh0aGlzLndvcmtzcGFjZS5vcHRpb25zLmNvbW1lbnRzfHx0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSYmdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2Uub3B0aW9ucy5jb21tZW50cykmJiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fQ09NTUVOVCYmdGhpcy5zZXRDb21tZW50VGV4dCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX0NPTU1FTlQpO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX1RPT0xUSVApO1xudGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fSEVMUFVSTCk7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO3RoaXMuc2V0U3RhdGVtZW50c18oITApO3RoaXMuc3RhdGVtZW50Q29ubmVjdGlvbl89bnVsbH0sZ2V0UHJvY2VkdXJlRGVmOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIiksdGhpcy5hcmd1bWVudHNfLCExXX0sY2FsbFR5cGVfOlwicHJvY2VkdXJlc19jYWxsbm9yZXR1cm5cIn0pO1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLnByb2NlZHVyZXNfZGVmcmV0dXJuPU9iamVjdC5hc3NpZ24oe30sUFJPQ0VEVVJFX0RFRl9DT01NT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMse2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT0kLmZpbmRMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKFwiXCIsdGhpcyk7YT0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9pbnB1dFwiLHRleHQ6YX0pO2Euc2V0VmFsaWRhdG9yKCQucmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyk7YS5zZXRTcGVsbGNoZWNrKCExKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9USVRMRSkuYXBwZW5kRmllbGQoYSxcIk5BTUVcIikuYXBwZW5kRmllbGQoXCJcIixcblwiUEFSQU1TXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlJFVFVSTlwiKS5zZXRBbGlnbigkLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLlJJR0hUKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9SRVRVUk4pO3RoaXMuc2V0TXV0YXRvcihuZXcgJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbihbXCJwcm9jZWR1cmVzX211dGF0b3JhcmdcIl0sdGhpcykpOyh0aGlzLndvcmtzcGFjZS5vcHRpb25zLmNvbW1lbnRzfHx0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSYmdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2Uub3B0aW9ucy5jb21tZW50cykmJiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX0NPTU1FTlQmJnRoaXMuc2V0Q29tbWVudFRleHQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fQ09NTUVOVCk7XG50aGlzLnNldFN0eWxlKFwicHJvY2VkdXJlX2Jsb2Nrc1wiKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fVE9PTFRJUCk7dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX0hFTFBVUkwpO3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTt0aGlzLnNldFN0YXRlbWVudHNfKCEwKTt0aGlzLnN0YXRlbWVudENvbm5lY3Rpb25fPW51bGx9LGdldFByb2NlZHVyZURlZjpmdW5jdGlvbigpe3JldHVyblt0aGlzLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpLHRoaXMuYXJndW1lbnRzXywhMF19LGNhbGxUeXBlXzpcInByb2NlZHVyZXNfY2FsbHJldHVyblwifSk7XG52YXIgUFJPQ0VEVVJFU19NVVRBVE9SQ09OVEFJTkVSJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19NVVRBVE9SQ09OVEFJTkVSX1RJVExFKTt0aGlzLmFwcGVuZFN0YXRlbWVudElucHV0KFwiU1RBQ0tcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiU1RBVEVNRU5UX0lOUFVUXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQUxMT1dfU1RBVEVNRU5UUykuYXBwZW5kRmllbGQoJC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfY2hlY2tib3hcIixjaGVja2VkOiEwfSksXCJTVEFURU1FTlRTXCIpO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX01VVEFUT1JDT05UQUlORVJfVE9PTFRJUCk7XG50aGlzLmNvbnRleHRNZW51PSExfX07YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLnByb2NlZHVyZXNfbXV0YXRvcmNvbnRhaW5lcj1QUk9DRURVUkVTX01VVEFUT1JDT05UQUlORVIkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM7XG52YXIgUHJvY2VkdXJlQXJndW1lbnRGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcz1jbGFzcyBleHRlbmRzICQuRmllbGRUZXh0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF90ZXh0aW5wdXR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO3RoaXMuZWRpdGluZ0ludGVyYWN0aXZlbHk9ITF9c2hvd0VkaXRvcl8oYSl7c3VwZXIuc2hvd0VkaXRvcl8oYSk7dGhpcy5lZGl0aW5nSW50ZXJhY3RpdmVseT0hMDt0aGlzLmVkaXRpbmdWYXJpYWJsZT12b2lkIDB9b25GaW5pc2hFZGl0aW5nXyhhKXtzdXBlci5vbkZpbmlzaEVkaXRpbmdfKGEpO3RoaXMuZWRpdGluZ0ludGVyYWN0aXZlbHk9ITF9fSxQUk9DRURVUkVTX01VVEFUT1JBUkdVTUVOVCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcz17aW5pdDpmdW5jdGlvbigpe2NvbnN0IGE9bmV3IFByb2NlZHVyZUFyZ3VtZW50RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMoJC5ERUZBVUxUX0FSRyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsXG50aGlzLnZhbGlkYXRvcl8pO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfTVVUQVRPUkFSR19USVRMRSkuYXBwZW5kRmllbGQoYSxcIk5BTUVcIik7dGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMCk7dGhpcy5zZXROZXh0U3RhdGVtZW50KCEwKTt0aGlzLnNldFN0eWxlKFwicHJvY2VkdXJlX2Jsb2Nrc1wiKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19NVVRBVE9SQVJHX1RPT0xUSVApO3RoaXMuY29udGV4dE1lbnU9ITF9LHZhbGlkYXRvcl86ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2NvbnN0IGM9Yi53b3Jrc3BhY2UuZ2V0Um9vdFdvcmtzcGFjZSgpO2E9YS5yZXBsYWNlKC9bXFxzXFx4YTBdKy9nLFwiIFwiKS5yZXBsYWNlKC9eIHwgJC9nLFwiXCIpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IGQ9KGIud29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZXx8XG5iLndvcmtzcGFjZSkuZ2V0QWxsQmxvY2tzKCExKSxlPWEudG9Mb3dlckNhc2UoKTtmb3IobGV0IGY9MDtmPGQubGVuZ3RoO2YrKyl7aWYoZFtmXS5pZD09PXRoaXMuZ2V0U291cmNlQmxvY2soKS5pZCljb250aW51ZTtjb25zdCBnPWRbZl0uZ2V0RmllbGRWYWx1ZShcIk5BTUVcIik7aWYoZyYmZy50b0xvd2VyQ2FzZSgpPT09ZSlyZXR1cm4gbnVsbH1pZihiLmlzSW5GbHlvdXQpcmV0dXJuIGE7KGI9Yy5nZXRWYXJpYWJsZShhLFwiXCIpKSYmYi5nZXROYW1lKCkhPT1hJiZjLnJlbmFtZVZhcmlhYmxlQnlJZChiLmdldElkKCksYSk7Ynx8KHRoaXMuZWRpdGluZ0ludGVyYWN0aXZlbHk/dGhpcy5lZGl0aW5nVmFyaWFibGU/Yy5yZW5hbWVWYXJpYWJsZUJ5SWQodGhpcy5lZGl0aW5nVmFyaWFibGUuZ2V0SWQoKSxhKTp0aGlzLmVkaXRpbmdWYXJpYWJsZT1jLmNyZWF0ZVZhcmlhYmxlKGEsXCJcIik6Yy5jcmVhdGVWYXJpYWJsZShhLFwiXCIpKTtyZXR1cm4gYX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLnByb2NlZHVyZXNfbXV0YXRvcmFyZz1QUk9DRURVUkVTX01VVEFUT1JBUkdVTUVOVCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcztcbnZhciBESVNBQkxFRF9QUk9DRURVUkVfREVGSU5JVElPTl9ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM9XCJESVNBQkxFRF9QUk9DRURVUkVfREVGSU5JVElPTlwiLFBST0NFRFVSRV9DQUxMX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcz17Z2V0UHJvY2VkdXJlQ2FsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpfSxyZW5hbWVQcm9jZWR1cmU6ZnVuY3Rpb24oYSxiKXskLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuZXF1YWxzKGEsdGhpcy5nZXRQcm9jZWR1cmVDYWxsKCkpJiYodGhpcy5zZXRGaWVsZFZhbHVlKGIsXCJOQU1FXCIpLHRoaXMuc2V0VG9vbHRpcCgodGhpcy5vdXRwdXRDb25uZWN0aW9uPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQ0FMTFJFVFVSTl9UT09MVElQOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQ0FMTE5PUkVUVVJOX1RPT0xUSVApLnJlcGxhY2UoXCIlMVwiLFxuYikpKX0sc2V0UHJvY2VkdXJlUGFyYW1ldGVyc186ZnVuY3Rpb24oYSxiKXt2YXIgYz0kLmdldERlZmluaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMuZ2V0UHJvY2VkdXJlQ2FsbCgpLHRoaXMud29ya3NwYWNlKTsoYz0oYz1jJiZjLmdldEljb24oJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5UWVBFKSkmJmMuYnViYmxlSXNWaXNpYmxlKCkpP3RoaXMuc2V0Q29sbGFwc2VkKCExKToodGhpcy5xdWFya0Nvbm5lY3Rpb25zXz17fSx0aGlzLnF1YXJrSWRzXz1udWxsKTtpZihhLmpvaW4oXCJcXG5cIik9PT10aGlzLmFyZ3VtZW50c18uam9pbihcIlxcblwiKSl0aGlzLnF1YXJrSWRzXz1iO2Vsc2V7aWYoYi5sZW5ndGghPT1hLmxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwicGFyYW1OYW1lcyBhbmQgcGFyYW1JZHMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGguXCIpO3RoaXMucXVhcmtJZHNffHwodGhpcy5xdWFya0Nvbm5lY3Rpb25zXz1cbnt9LHRoaXMucXVhcmtJZHNfPVtdKTtmb3IobGV0IGU9MDtlPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7ZSsrKXt2YXIgZD10aGlzLmdldElucHV0KFwiQVJHXCIrZSk7ZCYmKGQ9ZC5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24sdGhpcy5xdWFya0Nvbm5lY3Rpb25zX1t0aGlzLnF1YXJrSWRzX1tlXV09ZCxjJiZkJiYhYi5pbmNsdWRlcyh0aGlzLnF1YXJrSWRzX1tlXSkmJihkLmRpc2Nvbm5lY3QoKSxkLmdldFNvdXJjZUJsb2NrKCkuYnVtcE5laWdoYm91cnMoKSkpfXRoaXMuYXJndW1lbnRzXz1bXS5jb25jYXQoYSk7dGhpcy5hcmd1bWVudFZhck1vZGVsc189W107Zm9yKGE9MDthPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7YSsrKWM9JC5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLndvcmtzcGFjZSxudWxsLHRoaXMuYXJndW1lbnRzX1thXSxcIlwiKSx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5wdXNoKGMpO3RoaXMudXBkYXRlU2hhcGVfKCk7XG5pZih0aGlzLnF1YXJrSWRzXz1iKWZvcihiPTA7Yjx0aGlzLmFyZ3VtZW50c18ubGVuZ3RoO2IrKylpZihhPXRoaXMucXVhcmtJZHNfW2JdLGEgaW4gdGhpcy5xdWFya0Nvbm5lY3Rpb25zXyl7bGV0IGU7KChlPXRoaXMucXVhcmtDb25uZWN0aW9uc19bYV0pPT1udWxsPzA6ZS5yZWNvbm5lY3QodGhpcyxcIkFSR1wiK2IpKXx8ZGVsZXRlIHRoaXMucXVhcmtDb25uZWN0aW9uc19bYV19fX0sdXBkYXRlU2hhcGVfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLmFyZ3VtZW50c18ubGVuZ3RoO2ErKyl7dmFyIGI9dGhpcy5nZXRGaWVsZChcIkFSR05BTUVcIithKTtpZihiKXskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7Yi5zZXRWYWx1ZSh0aGlzLmFyZ3VtZW50c19bYV0pfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX19ZWxzZSBiPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2xhYmVsXCIsXG50ZXh0OnRoaXMuYXJndW1lbnRzX1thXX0pLHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFSR1wiK2EpLnNldEFsaWduKCQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uUklHSFQpLmFwcGVuZEZpZWxkKGIsXCJBUkdOQU1FXCIrYSl9Zm9yKGE9dGhpcy5hcmd1bWVudHNfLmxlbmd0aDt0aGlzLmdldElucHV0KFwiQVJHXCIrYSk7YSsrKXRoaXMucmVtb3ZlSW5wdXQoXCJBUkdcIithKTsoYT10aGlzLmdldElucHV0KFwiVE9QUk9XXCIpKSYmKHRoaXMuYXJndW1lbnRzXy5sZW5ndGg/dGhpcy5nZXRGaWVsZChcIldJVEhcIil8fGEuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DQUxMX0JFRk9SRV9QQVJBTVMsXCJXSVRIXCIpOnRoaXMuZ2V0RmllbGQoXCJXSVRIXCIpJiZhLnJlbW92ZUZpZWxkKFwiV0lUSFwiKSl9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO1xuYS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsdGhpcy5nZXRQcm9jZWR1cmVDYWxsKCkpO2ZvcihsZXQgYj0wO2I8dGhpcy5hcmd1bWVudHNfLmxlbmd0aDtiKyspe2NvbnN0IGM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYXJnXCIpO2Muc2V0QXR0cmlidXRlKFwibmFtZVwiLHRoaXMuYXJndW1lbnRzX1tiXSk7YS5hcHBlbmRDaGlsZChjKX1yZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7dGhpcy5yZW5hbWVQcm9jZWR1cmUodGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksYik7Yj1bXTtjb25zdCBjPVtdO2ZvcihsZXQgZD0wLGU7ZT1hLmNoaWxkTm9kZXNbZF07ZCsrKWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PVwiYXJnXCImJihiLnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpKSxjLnB1c2goZS5nZXRBdHRyaWJ1dGUoXCJwYXJhbUlkXCIpKSk7dGhpcy5zZXRQcm9jZWR1cmVQYXJhbWV0ZXJzXyhiLFxuYyl9LHNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7Y29uc3QgYT1PYmplY3QuY3JlYXRlKG51bGwpO2EubmFtZT10aGlzLmdldFByb2NlZHVyZUNhbGwoKTt0aGlzLmFyZ3VtZW50c18ubGVuZ3RoJiYoYS5wYXJhbXM9dGhpcy5hcmd1bWVudHNfKTtyZXR1cm4gYX0sbG9hZEV4dHJhU3RhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZW5hbWVQcm9jZWR1cmUodGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksYS5uYW1lKTtpZihhPWEucGFyYW1zKXtjb25zdCBiPVtdO2IubGVuZ3RoPWEubGVuZ3RoO2IuZmlsbChudWxsKTt0aGlzLnNldFByb2NlZHVyZVBhcmFtZXRlcnNfKGEsYil9fSxnZXRWYXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJndW1lbnRzX30sZ2V0VmFyTW9kZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJndW1lbnRWYXJNb2RlbHNffSxvbmNoYW5nZTpmdW5jdGlvbihhKXtpZih0aGlzLndvcmtzcGFjZSYmIXRoaXMud29ya3NwYWNlLmlzRmx5b3V0JiZhLnJlY29yZFVuZG8paWYoYS50eXBlPT09XG4kLkJMT0NLX0NSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMmJmEuaWRzLmluY2x1ZGVzKHRoaXMuaWQpKXt2YXIgYj10aGlzLmdldFByb2NlZHVyZUNhbGwoKSxjPSQuZ2V0RGVmaW5pdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYix0aGlzLndvcmtzcGFjZSk7IWN8fGMudHlwZT09PXRoaXMuZGVmVHlwZV8mJkpTT04uc3RyaW5naWZ5KGMuZ2V0VmFycygpKT09PUpTT04uc3RyaW5naWZ5KHRoaXMuYXJndW1lbnRzXyl8fChjPW51bGwpO2lmKGMpYy5pc0VuYWJsZWQoKXx8KHRoaXMuc2V0RGlzYWJsZWRSZWFzb24oITAsRElTQUJMRURfUFJPQ0VEVVJFX0RFRklOSVRJT05fRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzKSx0aGlzLnNldFdhcm5pbmdUZXh0KCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQ0FMTF9ESVNBQkxFRF9ERUZfV0FSTklORy5yZXBsYWNlKFwiJTFcIixcbmIpKSk7ZWxzZXskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEuZ3JvdXApO2E9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwieG1sXCIpO2I9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdGhpcy5kZWZUeXBlXyk7Yz10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt2YXIgZD1jLnkrJC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1cyoyO2Iuc2V0QXR0cmlidXRlKFwieFwiLGAke2MueCskLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5zbmFwUmFkaXVzKih0aGlzLlJUTD8tMToxKX1gKTtiLnNldEF0dHJpYnV0ZShcInlcIixgJHtkfWApO2M9dGhpcy5tdXRhdGlvblRvRG9tKCk7Yi5hcHBlbmRDaGlsZChjKTtjPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImZpZWxkXCIpO1xuYy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJOQU1FXCIpO2Q9dGhpcy5nZXRQcm9jZWR1cmVDYWxsKCk7Y29uc3QgZT0kLmZpbmRMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGQsdGhpcyk7ZCE9PWUmJnRoaXMucmVuYW1lUHJvY2VkdXJlKGQsZSk7Yy5hcHBlbmRDaGlsZCgkLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGQpKTtiLmFwcGVuZENoaWxkKGMpO2EuYXBwZW5kQ2hpbGQoYik7JC5kb21Ub1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLHRoaXMud29ya3NwYWNlKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKX19ZWxzZSBhLnR5cGU9PT0kLkJMT0NLX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM/KGI9dGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksJC5nZXREZWZpbml0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhiLFxudGhpcy53b3Jrc3BhY2UpfHwoJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhLmdyb3VwKSx0aGlzLmRpc3Bvc2UoITApLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpKSk6YS50eXBlPT09JC5CTE9DS19DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzJiZhLmVsZW1lbnQ9PT1cImRpc2FibGVkXCImJihiPXRoaXMuZ2V0UHJvY2VkdXJlQ2FsbCgpLChkPSQuZ2V0RGVmaW5pdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYix0aGlzLndvcmtzcGFjZSkpJiZkLmlkPT09YS5ibG9ja0lkJiYoKGM9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKSYmY29uc29sZS5sb2coXCJTYXcgYW4gZXhpc3RpbmcgZ3JvdXAgd2hpbGUgcmVzcG9uZGluZyB0byBhIGRlZmluaXRpb24gY2hhbmdlXCIpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYS5ncm91cCksXG5hPWQuaXNFbmFibGVkKCksdGhpcy5zZXREaXNhYmxlZFJlYXNvbighYSxESVNBQkxFRF9QUk9DRURVUkVfREVGSU5JVElPTl9ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMpLHRoaXMuc2V0V2FybmluZ1RleHQoYT9udWxsOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQ0FMTF9ESVNBQkxFRF9ERUZfV0FSTklORy5yZXBsYWNlKFwiJTFcIixiKSksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKSkpfSxjdXN0b21Db250ZXh0TWVudTpmdW5jdGlvbihhKXtpZih0aGlzLndvcmtzcGFjZS5pc01vdmFibGUoKSl7dmFyIGI9dGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksYz10aGlzLndvcmtzcGFjZTthLnB1c2goe2VuYWJsZWQ6ITAsdGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0hJR0hMSUdIVF9ERUYsY2FsbGJhY2s6ZnVuY3Rpb24oKXtjb25zdCBkPVxuJC5nZXREZWZpbml0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhiLGMpO2QmJihjLmNlbnRlck9uQmxvY2soZC5pZCksJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGQpKX19KX19fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcy5wcm9jZWR1cmVzX2NhbGxub3JldHVybj1PYmplY3QuYXNzaWduKHt9LFBST0NFRFVSRV9DQUxMX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcyx7aW5pdDpmdW5jdGlvbigpe3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRPUFJPV1wiKS5hcHBlbmRGaWVsZChcIlwiLFwiTkFNRVwiKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0NBTExOT1JFVFVSTl9IRUxQVVJMKTt0aGlzLmFyZ3VtZW50c189W107dGhpcy5hcmd1bWVudFZhck1vZGVsc189W107dGhpcy5xdWFya0Nvbm5lY3Rpb25zXz17fTt0aGlzLnF1YXJrSWRzXz1udWxsfSxkZWZUeXBlXzpcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIn0pO1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLnByb2NlZHVyZXNfY2FsbHJldHVybj1PYmplY3QuYXNzaWduKHt9LFBST0NFRFVSRV9DQUxMX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcyx7aW5pdDpmdW5jdGlvbigpe3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRPUFJPV1wiKS5hcHBlbmRGaWVsZChcIlwiLFwiTkFNRVwiKTt0aGlzLnNldE91dHB1dCghMCk7dGhpcy5zZXRTdHlsZShcInByb2NlZHVyZV9ibG9ja3NcIik7dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQ0FMTFJFVFVSTl9IRUxQVVJMKTt0aGlzLmFyZ3VtZW50c189W107dGhpcy5hcmd1bWVudFZhck1vZGVsc189W107dGhpcy5xdWFya0Nvbm5lY3Rpb25zXz17fTt0aGlzLnF1YXJrSWRzXz1udWxsfSxkZWZUeXBlXzpcInByb2NlZHVyZXNfZGVmcmV0dXJuXCJ9KTtcbnZhciBVTlBBUkVOVEVEX0lGUkVUVVJOX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcz1cIlVOUEFSRU5URURfSUZSRVRVUk5cIixQUk9DRURVUkVTX0lGUkVUVVJOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQ09ORElUSU9OXCIpLnNldENoZWNrKFwiQm9vbGVhblwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9NU0dfSUYpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlZBTFVFXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTik7dGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0UHJldmlvdXNTdGF0ZW1lbnQoITApO3RoaXMuc2V0TmV4dFN0YXRlbWVudCghMCk7dGhpcy5zZXRTdHlsZShcInByb2NlZHVyZV9ibG9ja3NcIik7XG50aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19JRlJFVFVSTl9UT09MVElQKTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19JRlJFVFVSTl9IRUxQVVJMKTt0aGlzLmhhc1JldHVyblZhbHVlXz0hMH0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFN0cmluZyhOdW1iZXIodGhpcy5oYXNSZXR1cm5WYWx1ZV8pKSk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5oYXNSZXR1cm5WYWx1ZV89YS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT09PVwiMVwiO3RoaXMuaGFzUmV0dXJuVmFsdWVffHwodGhpcy5yZW1vdmVJbnB1dChcIlZBTFVFXCIpLHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlZBTFVFXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTikpfSxcbm9uY2hhbmdlOmZ1bmN0aW9uKGEpe2lmKCEodGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZyYmdGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZygpfHxhLnR5cGUhPT0kLkJMT0NLX01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzJiZhLnR5cGUhPT0kLkJMT0NLX0NSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMpKXthPSExO3ZhciBiPXRoaXM7ZG97aWYodGhpcy5GVU5DVElPTl9UWVBFUy5pbmNsdWRlcyhiLnR5cGUpKXthPSEwO2JyZWFrfWI9Yi5nZXRTdXJyb3VuZFBhcmVudCgpfXdoaWxlKGIpO2E/KGIudHlwZT09PVwicHJvY2VkdXJlc19kZWZub3JldHVyblwiJiZ0aGlzLmhhc1JldHVyblZhbHVlXz8odGhpcy5yZW1vdmVJbnB1dChcIlZBTFVFXCIpLHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlZBTFVFXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTiksdGhpcy5oYXNSZXR1cm5WYWx1ZV89XG4hMSk6Yi50eXBlIT09XCJwcm9jZWR1cmVzX2RlZnJldHVyblwifHx0aGlzLmhhc1JldHVyblZhbHVlX3x8KHRoaXMucmVtb3ZlSW5wdXQoXCJWQUxVRVwiKSx0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJWQUxVRVwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9SRVRVUk4pLHRoaXMuaGFzUmV0dXJuVmFsdWVfPSEwKSx0aGlzLnNldFdhcm5pbmdUZXh0KG51bGwpKTp0aGlzLnNldFdhcm5pbmdUZXh0KCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfSUZSRVRVUk5fV0FSTklORyk7aWYoIXRoaXMuaXNJbkZseW91dCl0cnl7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKSx0aGlzLnNldERpc2FibGVkUmVhc29uKCFhLFVOUEFSRU5URURfSUZSRVRVUk5fRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzKX1maW5hbGx5eyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCl9fX0sXG5GVU5DVElPTl9UWVBFUzpbXCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCIsXCJwcm9jZWR1cmVzX2RlZnJldHVyblwiXX07YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLnByb2NlZHVyZXNfaWZyZXR1cm49UFJPQ0VEVVJFU19JRlJFVFVSTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlczskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzfTt2YXIgYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoPSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oW3t0eXBlOlwibWF0aF9udW1iZXJcIixtZXNzYWdlMDpcIiUxXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfbnVtYmVyXCIsbmFtZTpcIk5VTVwiLHZhbHVlOjB9XSxvdXRwdXQ6XCJOdW1iZXJcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9OVU1CRVJfSEVMUFVSTH1cIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfTlVNQkVSX1RPT0xUSVB9XCIsZXh0ZW5zaW9uczpbXCJwYXJlbnRfdG9vbHRpcF93aGVuX2lubGluZVwiXX0se3R5cGU6XCJtYXRoX2FyaXRobWV0aWNcIixtZXNzYWdlMDpcIiUxICUyICUzXCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQVwiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiT1BcIixvcHRpb25zOltbXCIle0JLWV9NQVRIX0FERElUSU9OX1NZTUJPTH1cIixcblwiQUREXCJdLFtcIiV7QktZX01BVEhfU1VCVFJBQ1RJT05fU1lNQk9MfVwiLFwiTUlOVVNcIl0sW1wiJXtCS1lfTUFUSF9NVUxUSVBMSUNBVElPTl9TWU1CT0x9XCIsXCJNVUxUSVBMWVwiXSxbXCIle0JLWV9NQVRIX0RJVklTSU9OX1NZTUJPTH1cIixcIkRJVklERVwiXSxbXCIle0JLWV9NQVRIX1BPV0VSX1NZTUJPTH1cIixcIlBPV0VSXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJCXCIsY2hlY2s6XCJOdW1iZXJcIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wibWF0aF9vcF90b29sdGlwXCJdfSx7dHlwZTpcIm1hdGhfc2luZ2xlXCIsbWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIk9QXCIsb3B0aW9uczpbW1wiJXtCS1lfTUFUSF9TSU5HTEVfT1BfUk9PVH1cIixcIlJPT1RcIl0sW1wiJXtCS1lfTUFUSF9TSU5HTEVfT1BfQUJTT0xVVEV9XCIsXG5cIkFCU1wiXSxbXCItXCIsXCJORUdcIl0sW1wibG5cIixcIkxOXCJdLFtcImxvZzEwXCIsXCJMT0cxMFwiXSxbXCJlXlwiLFwiRVhQXCJdLFtcIjEwXlwiLFwiUE9XMTBcIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIk5VTVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX01BVEhfU0lOR0xFX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJtYXRoX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF90cmlnXCIsbWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIk9QXCIsb3B0aW9uczpbW1wiJXtCS1lfTUFUSF9UUklHX1NJTn1cIixcIlNJTlwiXSxbXCIle0JLWV9NQVRIX1RSSUdfQ09TfVwiLFwiQ09TXCJdLFtcIiV7QktZX01BVEhfVFJJR19UQU59XCIsXCJUQU5cIl0sW1wiJXtCS1lfTUFUSF9UUklHX0FTSU59XCIsXCJBU0lOXCJdLFtcIiV7QktZX01BVEhfVFJJR19BQ09TfVwiLFwiQUNPU1wiXSxbXCIle0JLWV9NQVRIX1RSSUdfQVRBTn1cIixcblwiQVRBTlwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTlVNXCIsY2hlY2s6XCJOdW1iZXJcIn1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9UUklHX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJtYXRoX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF9jb25zdGFudFwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJDT05TVEFOVFwiLG9wdGlvbnM6W1tcIlxcdTAzYzBcIixcIlBJXCJdLFtcImVcIixcIkVcIl0sW1wiXFx1MDNjNlwiLFwiR09MREVOX1JBVElPXCJdLFtcInNxcnQoMilcIixcIlNRUlQyXCJdLFtcInNxcnQoXFx1MDBiZClcIixcIlNRUlQxXzJcIl0sW1wiXFx1MjIxZVwiLFwiSU5GSU5JVFlcIl1dfV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX0NPTlNUQU5UX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfQ09OU1RBTlRfSEVMUFVSTH1cIn0se3R5cGU6XCJtYXRoX251bWJlcl9wcm9wZXJ0eVwiLFxubWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIk5VTUJFUl9UT19DSEVDS1wiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiUFJPUEVSVFlcIixvcHRpb25zOltbXCIle0JLWV9NQVRIX0lTX0VWRU59XCIsXCJFVkVOXCJdLFtcIiV7QktZX01BVEhfSVNfT0REfVwiLFwiT0REXCJdLFtcIiV7QktZX01BVEhfSVNfUFJJTUV9XCIsXCJQUklNRVwiXSxbXCIle0JLWV9NQVRIX0lTX1dIT0xFfVwiLFwiV0hPTEVcIl0sW1wiJXtCS1lfTUFUSF9JU19QT1NJVElWRX1cIixcIlBPU0lUSVZFXCJdLFtcIiV7QktZX01BVEhfSVNfTkVHQVRJVkV9XCIsXCJORUdBVElWRVwiXSxbXCIle0JLWV9NQVRIX0lTX0RJVklTSUJMRV9CWX1cIixcIkRJVklTSUJMRV9CWVwiXV19XSxpbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9JU19UT09MVElQfVwiLG11dGF0b3I6XCJtYXRoX2lzX2RpdmlzaWJsZWJ5X211dGF0b3JcIn0sXG57dHlwZTpcIm1hdGhfY2hhbmdlXCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX0NIQU5HRV9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJmaWVsZF92YXJpYWJsZVwiLG5hbWU6XCJWQVJcIix2YXJpYWJsZTpcIiV7QktZX01BVEhfQ0hBTkdFX1RJVExFX0lURU19XCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiREVMVEFcIixjaGVjazpcIk51bWJlclwifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJ2YXJpYWJsZV9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9DSEFOR0VfSEVMUFVSTH1cIixleHRlbnNpb25zOltcIm1hdGhfY2hhbmdlX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF9yb3VuZFwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX01BVEhfUk9VTkRfT1BFUkFUT1JfUk9VTkR9XCIsXCJST1VORFwiXSxbXCIle0JLWV9NQVRIX1JPVU5EX09QRVJBVE9SX1JPVU5EVVB9XCIsXCJST1VORFVQXCJdLFxuW1wiJXtCS1lfTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORERPV059XCIsXCJST1VORERPV05cIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIk5VTVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX01BVEhfUk9VTkRfSEVMUFVSTH1cIix0b29sdGlwOlwiJXtCS1lfTUFUSF9ST1VORF9UT09MVElQfVwifSx7dHlwZTpcIm1hdGhfb25fbGlzdFwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX1NVTX1cIixcIlNVTVwiXSxbXCIle0JLWV9NQVRIX09OTElTVF9PUEVSQVRPUl9NSU59XCIsXCJNSU5cIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfTUFYfVwiLFwiTUFYXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX0FWRVJBR0V9XCIsXCJBVkVSQUdFXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX01FRElBTn1cIixcblwiTUVESUFOXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX01PREV9XCIsXCJNT0RFXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX1NURF9ERVZ9XCIsXCJTVERfREVWXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX1JBTkRPTX1cIixcIlJBTkRPTVwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLGNoZWNrOlwiQXJyYXlcIn1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9PTkxJU1RfSEVMUFVSTH1cIixtdXRhdG9yOlwibWF0aF9tb2Rlc19vZl9saXN0X211dGF0b3JcIixleHRlbnNpb25zOltcIm1hdGhfb3BfdG9vbHRpcFwiXX0se3R5cGU6XCJtYXRoX21vZHVsb1wiLG1lc3NhZ2UwOlwiJXtCS1lfTUFUSF9NT0RVTE9fVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRElWSURFTkRcIixjaGVjazpcIk51bWJlclwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkRJVklTT1JcIixjaGVjazpcIk51bWJlclwifV0sXG5pbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX01PRFVMT19UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9NQVRIX01PRFVMT19IRUxQVVJMfVwifSx7dHlwZTpcIm1hdGhfY29uc3RyYWluXCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX0NPTlNUUkFJTl9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTE9XXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJISUdIXCIsY2hlY2s6XCJOdW1iZXJcIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfQ09OU1RSQUlOX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfQ09OU1RSQUlOX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9yYW5kb21faW50XCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX1JBTkRPTV9JTlRfVElUTEV9XCIsXG5hcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJGUk9NXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJUT1wiLGNoZWNrOlwiTnVtYmVyXCJ9XSxpbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX1JBTkRPTV9JTlRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9SQU5ET01fSU5UX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9yYW5kb21fZmxvYXRcIixtZXNzYWdlMDpcIiV7QktZX01BVEhfUkFORE9NX0ZMT0FUX1RJVExFX1JBTkRPTX1cIixvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfUkFORE9NX0ZMT0FUX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfUkFORE9NX0ZMT0FUX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9hdGFuMlwiLG1lc3NhZ2UwOlwiJXtCS1lfTUFUSF9BVEFOMl9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLFxubmFtZTpcIlhcIixjaGVjazpcIk51bWJlclwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIllcIixjaGVjazpcIk51bWJlclwifV0saW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9BVEFOMl9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9NQVRIX0FUQU4yX0hFTFBVUkx9XCJ9XSksVE9PTFRJUFNfQllfT1AkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGg9e0FERDpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19UT09MVElQX0FERH1cIixNSU5VUzpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19UT09MVElQX01JTlVTfVwiLE1VTFRJUExZOlwiJXtCS1lfTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfTVVMVElQTFl9XCIsRElWSURFOlwiJXtCS1lfTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfRElWSURFfVwiLFBPV0VSOlwiJXtCS1lfTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfUE9XRVJ9XCIsUk9PVDpcIiV7QktZX01BVEhfU0lOR0xFX1RPT0xUSVBfUk9PVH1cIixcbkFCUzpcIiV7QktZX01BVEhfU0lOR0xFX1RPT0xUSVBfQUJTfVwiLE5FRzpcIiV7QktZX01BVEhfU0lOR0xFX1RPT0xUSVBfTkVHfVwiLExOOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9MTn1cIixMT0cxMDpcIiV7QktZX01BVEhfU0lOR0xFX1RPT0xUSVBfTE9HMTB9XCIsRVhQOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9FWFB9XCIsUE9XMTA6XCIle0JLWV9NQVRIX1NJTkdMRV9UT09MVElQX1BPVzEwfVwiLFNJTjpcIiV7QktZX01BVEhfVFJJR19UT09MVElQX1NJTn1cIixDT1M6XCIle0JLWV9NQVRIX1RSSUdfVE9PTFRJUF9DT1N9XCIsVEFOOlwiJXtCS1lfTUFUSF9UUklHX1RPT0xUSVBfVEFOfVwiLEFTSU46XCIle0JLWV9NQVRIX1RSSUdfVE9PTFRJUF9BU0lOfVwiLEFDT1M6XCIle0JLWV9NQVRIX1RSSUdfVE9PTFRJUF9BQ09TfVwiLEFUQU46XCIle0JLWV9NQVRIX1RSSUdfVE9PTFRJUF9BVEFOfVwiLFNVTTpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfU1VNfVwiLE1JTjpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfTUlOfVwiLFxuTUFYOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9NQVh9XCIsQVZFUkFHRTpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfQVZFUkFHRX1cIixNRURJQU46XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX01FRElBTn1cIixNT0RFOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9NT0RFfVwiLFNURF9ERVY6XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX1NURF9ERVZ9XCIsUkFORE9NOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9SQU5ET019XCJ9OyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwibWF0aF9vcF90b29sdGlwXCIsJC5idWlsZFRvb2x0aXBGb3JEcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJPUFwiLFRPT0xUSVBTX0JZX09QJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoKSk7XG52YXIgSVNfRElWSVNJQkxFQllfTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aD17bXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIiksYj10aGlzLmdldEZpZWxkVmFsdWUoXCJQUk9QRVJUWVwiKT09PVwiRElWSVNJQkxFX0JZXCI7YS5zZXRBdHRyaWJ1dGUoXCJkaXZpc29yX2lucHV0XCIsU3RyaW5nKGIpKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXthPWEuZ2V0QXR0cmlidXRlKFwiZGl2aXNvcl9pbnB1dFwiKT09PVwidHJ1ZVwiO3RoaXMudXBkYXRlU2hhcGVfKGEpfSx1cGRhdGVTaGFwZV86ZnVuY3Rpb24oYSl7Y29uc3QgYj10aGlzLmdldElucHV0KFwiRElWSVNPUlwiKTthP2J8fHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkRJVklTT1JcIikuc2V0Q2hlY2soXCJOdW1iZXJcIik6YiYmdGhpcy5yZW1vdmVJbnB1dChcIkRJVklTT1JcIil9fSxJU19ESVZJU0lCTEVfTVVUQVRPUl9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGg9XG5mdW5jdGlvbigpe3RoaXMuZ2V0RmllbGQoXCJQUk9QRVJUWVwiKS5zZXRWYWxpZGF0b3IoZnVuY3Rpb24oYSl7YT1hPT09XCJESVZJU0lCTEVfQllcIjt0aGlzLmdldFNvdXJjZUJsb2NrKCkudXBkYXRlU2hhcGVfKGEpfSl9OyQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIm1hdGhfaXNfZGl2aXNpYmxlYnlfbXV0YXRvclwiLElTX0RJVklTSUJMRUJZX01VVEFUT1JfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGgsSVNfRElWSVNJQkxFX01VVEFUT1JfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoKTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIm1hdGhfY2hhbmdlX3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcFdpdGhGaWVsZFRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiJXtCS1lfTUFUSF9DSEFOR0VfVE9PTFRJUH1cIixcIlZBUlwiKSk7XG52YXIgTElTVF9NT0RFU19NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoPXt1cGRhdGVUeXBlXzpmdW5jdGlvbihhKXthPT09XCJNT0RFXCI/dGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldENoZWNrKFwiQXJyYXlcIik6dGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldENoZWNrKFwiTnVtYmVyXCIpfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcIm9wXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiT1BcIikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9YS5nZXRBdHRyaWJ1dGUoXCJvcFwiKTtpZihhPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwieG1sRWxlbWVudCBoYWQgbm8gb3AgYXR0cmlidXRlXCIpO3RoaXMudXBkYXRlVHlwZV8oYSl9fSxMSVNUX01PREVTX01VVEFUT1JfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoPVxuZnVuY3Rpb24oKXt0aGlzLmdldEZpZWxkKFwiT1BcIikuc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlVHlwZV8oYSl9LmJpbmQodGhpcykpfTskLnJlZ2lzdGVyTXV0YXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJtYXRoX21vZGVzX29mX2xpc3RfbXV0YXRvclwiLExJU1RfTU9ERVNfTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aCxMSVNUX01PREVTX01VVEFUT1JfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoKTskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGgpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoPXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRofTt2YXIgYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz0kLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKFt7dHlwZTpcImNvbnRyb2xzX3JlcGVhdF9leHRcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJUSU1FU1wiLGNoZWNrOlwiTnVtYmVyXCJ9XSxtZXNzYWdlMTpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9JTlBVVF9ET30gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE9cIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9IRUxQVVJMfVwifSx7dHlwZTpcImNvbnRyb2xzX3JlcGVhdFwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX1RJVExFfVwiLFxuYXJnczA6W3t0eXBlOlwiZmllbGRfbnVtYmVyXCIsbmFtZTpcIlRJTUVTXCIsdmFsdWU6MTAsbWluOjAscHJlY2lzaW9uOjF9XSxtZXNzYWdlMTpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9JTlBVVF9ET30gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE9cIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9IRUxQVVJMfVwifSx7dHlwZTpcImNvbnRyb2xzX3doaWxlVW50aWxcIixtZXNzYWdlMDpcIiUxICUyXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiTU9ERVwiLG9wdGlvbnM6W1tcIiV7QktZX0NPTlRST0xTX1dISUxFVU5USUxfT1BFUkFUT1JfV0hJTEV9XCIsXCJXSElMRVwiXSxbXCIle0JLWV9DT05UUk9MU19XSElMRVVOVElMX09QRVJBVE9SX1VOVElMfVwiLFwiVU5USUxcIl1dfSxcbnt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQk9PTFwiLGNoZWNrOlwiQm9vbGVhblwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfSU5QVVRfRE99ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkRPXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvb3BfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX0NPTlRST0xTX1dISUxFVU5USUxfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImNvbnRyb2xzX3doaWxlVW50aWxfdG9vbHRpcFwiXX0se3R5cGU6XCJjb250cm9sc19mb3JcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0ZPUl9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJmaWVsZF92YXJpYWJsZVwiLG5hbWU6XCJWQVJcIix2YXJpYWJsZTpudWxsfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkZST01cIixjaGVjazpcIk51bWJlclwiLGFsaWduOlwiUklHSFRcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJUT1wiLGNoZWNrOlwiTnVtYmVyXCIsXG5hbGlnbjpcIlJJR0hUXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQllcIixjaGVjazpcIk51bWJlclwiLGFsaWduOlwiUklHSFRcIn1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPfSAlMVwiLGFyZ3MxOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJET1wifV0saW5wdXRzSW5saW5lOiEwLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfRk9SX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJjb250ZXh0TWVudV9uZXdHZXRWYXJpYWJsZUJsb2NrXCIsXCJjb250cm9sc19mb3JfdG9vbHRpcFwiXX0se3R5cGU6XCJjb250cm9sc19mb3JFYWNoXCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19GT1JFQUNIX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOm51bGx9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLFxuY2hlY2s6XCJBcnJheVwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfSU5QVVRfRE99ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkRPXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvb3BfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX0NPTlRST0xTX0ZPUkVBQ0hfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X25ld0dldFZhcmlhYmxlQmxvY2tcIixcImNvbnRyb2xzX2ZvckVhY2hfdG9vbHRpcFwiXX0se3R5cGU6XCJjb250cm9sc19mbG93X3N0YXRlbWVudHNcIixtZXNzYWdlMDpcIiUxXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiRkxPV1wiLG9wdGlvbnM6W1tcIiV7QktZX0NPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19PUEVSQVRPUl9CUkVBS31cIixcIkJSRUFLXCJdLFtcIiV7QktZX0NPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19PUEVSQVRPUl9DT05USU5VRX1cIixcIkNPTlRJTlVFXCJdXX1dLFxucHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvb3BfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX0NPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19IRUxQVVJMfVwiLHN1cHByZXNzUHJlZml4U3VmZml4OiEwLGV4dGVuc2lvbnM6W1wiY29udHJvbHNfZmxvd190b29sdGlwXCIsXCJjb250cm9sc19mbG93X2luX2xvb3BfY2hlY2tcIl19XSksV0hJTEVfVU5USUxfVE9PTFRJUFMkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPXtXSElMRTpcIiV7QktZX0NPTlRST0xTX1dISUxFVU5USUxfVE9PTFRJUF9XSElMRX1cIixVTlRJTDpcIiV7QktZX0NPTlRST0xTX1dISUxFVU5USUxfVE9PTFRJUF9VTlRJTH1cIn07JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc193aGlsZVVudGlsX3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIk1PREVcIixXSElMRV9VTlRJTF9UT09MVElQUyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMpKTtcbnZhciBCUkVBS19DT05USU5VRV9UT09MVElQUyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHM9e0JSRUFLOlwiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX1RPT0xUSVBfQlJFQUt9XCIsQ09OVElOVUU6XCIle0JLWV9DT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfVE9PTFRJUF9DT05USU5VRX1cIn07JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc19mbG93X3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIkZMT1dcIixCUkVBS19DT05USU5VRV9UT09MVElQUyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMpKTtcbnZhciBDVVNUT01fQ09OVEVYVF9NRU5VX0NSRUFURV9WQVJJQUJMRVNfR0VUX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz17Y3VzdG9tQ29udGV4dE1lbnU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNJbkZseW91dCl7dmFyIGI9dGhpcy5nZXRGaWVsZChcIlZBUlwiKSxjPWIuZ2V0VmFyaWFibGUoKS5nZXROYW1lKCk7dGhpcy5pc0NvbGxhcHNlZCgpfHxjPT09bnVsbHx8KGI9e3R5cGU6XCJ2YXJpYWJsZXNfZ2V0XCIsZmllbGRzOntWQVI6Yi5zYXZlU3RhdGUoITApfX0sYS5wdXNoKHtlbmFibGVkOiEwLHRleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVTX1NFVF9DUkVBVEVfR0VULnJlcGxhY2UoXCIlMVwiLGMpLGNhbGxiYWNrOiQuY2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUodGhpcyxiKX0pKX19fTtcbiQucmVnaXN0ZXJNaXhpbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250ZXh0TWVudV9uZXdHZXRWYXJpYWJsZUJsb2NrXCIsQ1VTVE9NX0NPTlRFWFRfTUVOVV9DUkVBVEVfVkFSSUFCTEVTX0dFVF9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMpOyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiY29udHJvbHNfZm9yX3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcFdpdGhGaWVsZFRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiJXtCS1lfQ09OVFJPTFNfRk9SX1RPT0xUSVB9XCIsXCJWQVJcIikpOyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiY29udHJvbHNfZm9yRWFjaF90b29sdGlwXCIsJC5idWlsZFRvb2x0aXBXaXRoRmllbGRUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIiV7QktZX0NPTlRST0xTX0ZPUkVBQ0hfVE9PTFRJUH1cIixcIlZBUlwiKSk7XG52YXIgbG9vcFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz1uZXcgU2V0KFtcImNvbnRyb2xzX3JlcGVhdFwiLFwiY29udHJvbHNfcmVwZWF0X2V4dFwiLFwiY29udHJvbHNfZm9yRWFjaFwiLFwiY29udHJvbHNfZm9yXCIsXCJjb250cm9sc193aGlsZVVudGlsXCJdKSxDT05UUk9MX0ZMT1dfTk9UX0lOX0xPT1BfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz1cIkNPTlRST0xfRkxPV19OT1RfSU5fTE9PUFwiLENPTlRST0xfRkxPV19JTl9MT09QX0NIRUNLX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz17Z2V0U3Vycm91bmRMb29wOmZ1bmN0aW9uKCl7bGV0IGE9dGhpcztkb3tpZihsb29wVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzLmhhcyhhLnR5cGUpKXJldHVybiBhO2E9YS5nZXRTdXJyb3VuZFBhcmVudCgpfXdoaWxlKGEpO3JldHVybiBudWxsfSxvbmNoYW5nZTpmdW5jdGlvbihhKXtjb25zdCBiPXRoaXMud29ya3NwYWNlO1xuaWYoYi5pc0RyYWdnaW5nJiYhYi5pc0RyYWdnaW5nKCkmJihhLnR5cGU9PT0kLkJMT0NLX01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzfHxhLnR5cGU9PT0kLkJMT0NLX0NSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMpJiYoYT0hIXRoaXMuZ2V0U3Vycm91bmRMb29wKCksdGhpcy5zZXRXYXJuaW5nVGV4dChhP251bGw6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX1dBUk5JTkcpLCF0aGlzLmlzSW5GbHlvdXQpKXRyeXskLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpLHRoaXMuc2V0RGlzYWJsZWRSZWFzb24oIWEsQ09OVFJPTF9GTE9XX05PVF9JTl9MT09QX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMpfWZpbmFsbHl7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKX19fTtcbiQucmVnaXN0ZXJNaXhpbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc19mbG93X2luX2xvb3BfY2hlY2tcIixDT05UUk9MX0ZMT1dfSU5fTE9PUF9DSEVDS19NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMpOyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz17YmxvY2tzOmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMsbG9vcFR5cGVzOmxvb3BUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHN9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljPSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oW3t0eXBlOlwibG9naWNfYm9vbGVhblwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJCT09MXCIsb3B0aW9uczpbW1wiJXtCS1lfTE9HSUNfQk9PTEVBTl9UUlVFfVwiLFwiVFJVRVwiXSxbXCIle0JLWV9MT0dJQ19CT09MRUFOX0ZBTFNFfVwiLFwiRkFMU0VcIl1dfV0sb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xPR0lDX0JPT0xFQU5fVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTE9HSUNfQk9PTEVBTl9IRUxQVVJMfVwifSx7dHlwZTpcImNvbnRyb2xzX2lmXCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19JRl9NU0dfSUZ9ICUxXCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiSUYwXCIsY2hlY2s6XCJCb29sZWFuXCJ9XSxcbm1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfSUZfTVNHX1RIRU59ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkRPMFwifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb2dpY19ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfSUZfSEVMUFVSTH1cIixzdXBwcmVzc1ByZWZpeFN1ZmZpeDohMCxtdXRhdG9yOlwiY29udHJvbHNfaWZfbXV0YXRvclwiLGV4dGVuc2lvbnM6W1wiY29udHJvbHNfaWZfdG9vbHRpcFwiXX0se3R5cGU6XCJjb250cm9sc19pZmVsc2VcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0lGX01TR19JRn0gJTFcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJJRjBcIixjaGVjazpcIkJvb2xlYW5cIn1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfSUZfTVNHX1RIRU59ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkRPMFwifV0sbWVzc2FnZTI6XCIle0JLWV9DT05UUk9MU19JRl9NU0dfRUxTRX0gJTFcIixcbmFyZ3MyOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJFTFNFXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWUNPTlRST0xTX0lGX1RPT0xUSVBfMn1cIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfSUZfSEVMUFVSTH1cIixzdXBwcmVzc1ByZWZpeFN1ZmZpeDohMCxleHRlbnNpb25zOltcImNvbnRyb2xzX2lmX3Rvb2x0aXBcIl19LHt0eXBlOlwibG9naWNfY29tcGFyZVwiLG1lc3NhZ2UwOlwiJTEgJTIgJTNcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJBXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiT1BcIixvcHRpb25zOltbXCI9XCIsXCJFUVwiXSxbXCJcXHUyMjYwXCIsXCJORVFcIl0sW1wiXFx1MjAwZjxcIixcIkxUXCJdLFtcIlxcdTIwMGZcXHUyMjY0XCIsXCJMVEVcIl0sW1wiXFx1MjAwZj5cIixcIkdUXCJdLFtcIlxcdTIwMGZcXHUyMjY1XCIsXCJHVEVcIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkJcIn1dLFxuaW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIkJvb2xlYW5cIixzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19DT01QQVJFX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJsb2dpY19jb21wYXJlXCIsXCJsb2dpY19vcF90b29sdGlwXCJdfSx7dHlwZTpcImxvZ2ljX29wZXJhdGlvblwiLG1lc3NhZ2UwOlwiJTEgJTIgJTNcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJBXCIsY2hlY2s6XCJCb29sZWFuXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiT1BcIixvcHRpb25zOltbXCIle0JLWV9MT0dJQ19PUEVSQVRJT05fQU5EfVwiLFwiQU5EXCJdLFtcIiV7QktZX0xPR0lDX09QRVJBVElPTl9PUn1cIixcIk9SXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJCXCIsY2hlY2s6XCJCb29sZWFuXCJ9XSxpbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX0xPR0lDX09QRVJBVElPTl9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wibG9naWNfb3BfdG9vbHRpcFwiXX0sXG57dHlwZTpcImxvZ2ljX25lZ2F0ZVwiLG1lc3NhZ2UwOlwiJXtCS1lfTE9HSUNfTkVHQVRFX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkJPT0xcIixjaGVjazpcIkJvb2xlYW5cIn1dLG91dHB1dDpcIkJvb2xlYW5cIixzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MT0dJQ19ORUdBVEVfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTE9HSUNfTkVHQVRFX0hFTFBVUkx9XCJ9LHt0eXBlOlwibG9naWNfbnVsbFwiLG1lc3NhZ2UwOlwiJXtCS1lfTE9HSUNfTlVMTH1cIixvdXRwdXQ6bnVsbCxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MT0dJQ19OVUxMX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xPR0lDX05VTExfSEVMUFVSTH1cIn0se3R5cGU6XCJsb2dpY190ZXJuYXJ5XCIsbWVzc2FnZTA6XCIle0JLWV9MT0dJQ19URVJOQVJZX0NPTkRJVElPTn0gJTFcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJJRlwiLGNoZWNrOlwiQm9vbGVhblwifV0sXG5tZXNzYWdlMTpcIiV7QktZX0xPR0lDX1RFUk5BUllfSUZfVFJVRX0gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJUSEVOXCJ9XSxtZXNzYWdlMjpcIiV7QktZX0xPR0lDX1RFUk5BUllfSUZfRkFMU0V9ICUxXCIsYXJnczI6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRUxTRVwifV0sb3V0cHV0Om51bGwsc3R5bGU6XCJsb2dpY19ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTE9HSUNfVEVSTkFSWV9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19URVJOQVJZX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJsb2dpY190ZXJuYXJ5XCJdfSx7dHlwZTpcImNvbnRyb2xzX2lmX2lmXCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19JRl9JRl9USVRMRV9JRn1cIixuZXh0U3RhdGVtZW50Om51bGwsZW5hYmxlQ29udGV4dE1lbnU6ITEsc3R5bGU6XCJsb2dpY19ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfQ09OVFJPTFNfSUZfSUZfVE9PTFRJUH1cIn0se3R5cGU6XCJjb250cm9sc19pZl9lbHNlaWZcIixcbm1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfSUZfRUxTRUlGX1RJVExFX0VMU0VJRn1cIixwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxlbmFibGVDb250ZXh0TWVudTohMSxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19JRl9FTFNFSUZfVE9PTFRJUH1cIn0se3R5cGU6XCJjb250cm9sc19pZl9lbHNlXCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19JRl9FTFNFX1RJVExFX0VMU0V9XCIscHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxlbmFibGVDb250ZXh0TWVudTohMSxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19JRl9FTFNFX1RPT0xUSVB9XCJ9XSksVE9PTFRJUFNfQllfT1AkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljPXtFUTpcIiV7QktZX0xPR0lDX0NPTVBBUkVfVE9PTFRJUF9FUX1cIixORVE6XCIle0JLWV9MT0dJQ19DT01QQVJFX1RPT0xUSVBfTkVRfVwiLExUOlwiJXtCS1lfTE9HSUNfQ09NUEFSRV9UT09MVElQX0xUfVwiLFxuTFRFOlwiJXtCS1lfTE9HSUNfQ09NUEFSRV9UT09MVElQX0xURX1cIixHVDpcIiV7QktZX0xPR0lDX0NPTVBBUkVfVE9PTFRJUF9HVH1cIixHVEU6XCIle0JLWV9MT0dJQ19DT01QQVJFX1RPT0xUSVBfR1RFfVwiLEFORDpcIiV7QktZX0xPR0lDX09QRVJBVElPTl9UT09MVElQX0FORH1cIixPUjpcIiV7QktZX0xPR0lDX09QRVJBVElPTl9UT09MVElQX09SfVwifTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImxvZ2ljX29wX3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIk9QXCIsVE9PTFRJUFNfQllfT1AkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljKSk7XG52YXIgQ09OVFJPTFNfSUZfTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9e2Vsc2VpZkNvdW50XzowLGVsc2VDb3VudF86MCxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZWxzZWlmQ291bnRfJiYhdGhpcy5lbHNlQ291bnRfKXJldHVybiBudWxsO2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7dGhpcy5lbHNlaWZDb3VudF8mJmEuc2V0QXR0cmlidXRlKFwiZWxzZWlmXCIsU3RyaW5nKHRoaXMuZWxzZWlmQ291bnRfKSk7dGhpcy5lbHNlQ291bnRfJiZhLnNldEF0dHJpYnV0ZShcImVsc2VcIixcIjFcIik7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5lbHNlaWZDb3VudF89cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJlbHNlaWZcIiksMTApfHwwO3RoaXMuZWxzZUNvdW50Xz1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcImVsc2VcIiksMTApfHwwO3RoaXMucmVidWlsZFNoYXBlXygpfSxcbnNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZWxzZWlmQ291bnRfJiYhdGhpcy5lbHNlQ291bnRfKXJldHVybiBudWxsO2NvbnN0IGE9T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmVsc2VpZkNvdW50XyYmKGEuZWxzZUlmQ291bnQ9dGhpcy5lbHNlaWZDb3VudF8pO3RoaXMuZWxzZUNvdW50XyYmKGEuaGFzRWxzZT0hMCk7cmV0dXJuIGF9LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKGEpe3RoaXMuZWxzZWlmQ291bnRfPWEuZWxzZUlmQ291bnR8fDA7dGhpcy5lbHNlQ291bnRfPWEuaGFzRWxzZT8xOjA7dGhpcy51cGRhdGVTaGFwZV8oKX0sZGVjb21wb3NlOmZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5uZXdCbG9jayhcImNvbnRyb2xzX2lmX2lmXCIpO2IuaW5pdFN2ZygpO2xldCBjPWIubmV4dENvbm5lY3Rpb247Zm9yKGxldCBkPTE7ZDw9dGhpcy5lbHNlaWZDb3VudF87ZCsrKXtjb25zdCBlPWEubmV3QmxvY2soXCJjb250cm9sc19pZl9lbHNlaWZcIik7ZS5pbml0U3ZnKCk7Yy5jb25uZWN0KGUucHJldmlvdXNDb25uZWN0aW9uKTtcbmM9ZS5uZXh0Q29ubmVjdGlvbn10aGlzLmVsc2VDb3VudF8mJihhPWEubmV3QmxvY2soXCJjb250cm9sc19pZl9lbHNlXCIpLGEuaW5pdFN2ZygpLGMuY29ubmVjdChhLnByZXZpb3VzQ29ubmVjdGlvbikpO3JldHVybiBifSxjb21wb3NlOmZ1bmN0aW9uKGEpe2E9YS5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpO3RoaXMuZWxzZUNvdW50Xz10aGlzLmVsc2VpZkNvdW50Xz0wO2NvbnN0IGI9W251bGxdLGM9W251bGxdO2xldCBkPW51bGw7Zm9yKDthOyl7aWYoIWEuaXNJbnNlcnRpb25NYXJrZXIoKSlzd2l0Y2goYS50eXBlKXtjYXNlIFwiY29udHJvbHNfaWZfZWxzZWlmXCI6dGhpcy5lbHNlaWZDb3VudF8rKztiLnB1c2goYS52YWx1ZUNvbm5lY3Rpb25fKTtjLnB1c2goYS5zdGF0ZW1lbnRDb25uZWN0aW9uXyk7YnJlYWs7Y2FzZSBcImNvbnRyb2xzX2lmX2Vsc2VcIjp0aGlzLmVsc2VDb3VudF8rKztkPWEuc3RhdGVtZW50Q29ubmVjdGlvbl87YnJlYWs7ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJVbmtub3duIGJsb2NrIHR5cGU6IFwiK1xuYS50eXBlKTt9YT1hLmdldE5leHRCbG9jaygpfXRoaXMudXBkYXRlU2hhcGVfKCk7dGhpcy5yZWNvbm5lY3RDaGlsZEJsb2Nrc18oYixjLGQpfSxzYXZlQ29ubmVjdGlvbnM6ZnVuY3Rpb24oYSl7YT1hLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7bGV0IGI9MTtmb3IoO2E7KXtpZighYS5pc0luc2VydGlvbk1hcmtlcigpKXN3aXRjaChhLnR5cGUpe2Nhc2UgXCJjb250cm9sc19pZl9lbHNlaWZcIjp2YXIgYz10aGlzLmdldElucHV0KFwiSUZcIitiKTtjb25zdCBkPXRoaXMuZ2V0SW5wdXQoXCJET1wiK2IpO2EudmFsdWVDb25uZWN0aW9uXz1jJiZjLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjthLnN0YXRlbWVudENvbm5lY3Rpb25fPWQmJmQuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2IrKzticmVhaztjYXNlIFwiY29udHJvbHNfaWZfZWxzZVwiOmM9dGhpcy5nZXRJbnB1dChcIkVMU0VcIik7YS5zdGF0ZW1lbnRDb25uZWN0aW9uXz1jJiZjLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtcbmJyZWFrO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiVW5rbm93biBibG9jayB0eXBlOiBcIithLnR5cGUpO31hPWEuZ2V0TmV4dEJsb2NrKCl9fSxyZWJ1aWxkU2hhcGVfOmZ1bmN0aW9uKCl7Y29uc3QgYT1bbnVsbF0sYj1bbnVsbF07bGV0IGM9bnVsbDt0aGlzLmdldElucHV0KFwiRUxTRVwiKSYmKGM9dGhpcy5nZXRJbnB1dChcIkVMU0VcIikuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uKTtmb3IobGV0IGQ9MTt0aGlzLmdldElucHV0KFwiSUZcIitkKTtkKyspe2NvbnN0IGU9dGhpcy5nZXRJbnB1dChcIklGXCIrZCksZj10aGlzLmdldElucHV0KFwiRE9cIitkKTthLnB1c2goZS5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pO2IucHVzaChmLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbil9dGhpcy51cGRhdGVTaGFwZV8oKTt0aGlzLnJlY29ubmVjdENoaWxkQmxvY2tzXyhhLGIsYyl9LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXQoXCJFTFNFXCIpJiZ0aGlzLnJlbW92ZUlucHV0KFwiRUxTRVwiKTtcbmZvcih2YXIgYT0xO3RoaXMuZ2V0SW5wdXQoXCJJRlwiK2EpO2ErKyl0aGlzLnJlbW92ZUlucHV0KFwiSUZcIithKSx0aGlzLnJlbW92ZUlucHV0KFwiRE9cIithKTtmb3IoYT0xO2E8PXRoaXMuZWxzZWlmQ291bnRfO2ErKyl0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJJRlwiK2EpLnNldENoZWNrKFwiQm9vbGVhblwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9NU0dfRUxTRUlGKSx0aGlzLmFwcGVuZFN0YXRlbWVudElucHV0KFwiRE9cIithKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9NU0dfVEhFTik7dGhpcy5lbHNlQ291bnRfJiZ0aGlzLmFwcGVuZFN0YXRlbWVudElucHV0KFwiRUxTRVwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9NU0dfRUxTRSl9LHJlY29ubmVjdENoaWxkQmxvY2tzXzpmdW5jdGlvbihhLGIsYyl7Zm9yKGxldCBkPVxuMTtkPD10aGlzLmVsc2VpZkNvdW50XztkKyspe2xldCBlOyhlPWFbZF0pPT1udWxsfHxlLnJlY29ubmVjdCh0aGlzLFwiSUZcIitkKTtsZXQgZjsoZj1iW2RdKT09bnVsbHx8Zi5yZWNvbm5lY3QodGhpcyxcIkRPXCIrZCl9Yz09bnVsbHx8Yy5yZWNvbm5lY3QodGhpcyxcIkVMU0VcIil9fTskLnJlZ2lzdGVyTXV0YXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc19pZl9tdXRhdG9yXCIsQ09OVFJPTFNfSUZfTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWMsbnVsbCxbXCJjb250cm9sc19pZl9lbHNlaWZcIixcImNvbnRyb2xzX2lmX2Vsc2VcIl0pO1xudmFyIENPTlRST0xTX0lGX1RPT0xUSVBfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYz1mdW5jdGlvbigpe3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe2lmKHRoaXMuZWxzZWlmQ291bnRffHx0aGlzLmVsc2VDb3VudF8pe2lmKCF0aGlzLmVsc2VpZkNvdW50XyYmdGhpcy5lbHNlQ291bnRfKXJldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9UT09MVElQXzI7aWYodGhpcy5lbHNlaWZDb3VudF8mJiF0aGlzLmVsc2VDb3VudF8pcmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX1RPT0xUSVBfMztpZih0aGlzLmVsc2VpZkNvdW50XyYmdGhpcy5lbHNlQ291bnRfKXJldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9UT09MVElQXzR9ZWxzZSByZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ09OVFJPTFNfSUZfVE9PTFRJUF8xO1xucmV0dXJuXCJcIn0uYmluZCh0aGlzKSl9OyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiY29udHJvbHNfaWZfdG9vbHRpcFwiLENPTlRST0xTX0lGX1RPT0xUSVBfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyk7XG52YXIgTE9HSUNfQ09NUEFSRV9PTkNIQU5HRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9e29uY2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMucHJldkJsb2Nrc198fCh0aGlzLnByZXZCbG9ja3NfPVtudWxsLG51bGxdKTt2YXIgYj10aGlzLmdldElucHV0VGFyZ2V0QmxvY2soXCJBXCIpO2NvbnN0IGM9dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiQlwiKTtiJiZjJiYhdGhpcy53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXIuZG9UeXBlQ2hlY2tzKGIub3V0cHV0Q29ubmVjdGlvbixjLm91dHB1dENvbm5lY3Rpb24pJiYoJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhLmdyb3VwKSxhPXRoaXMucHJldkJsb2Nrc19bMF0sYSE9PWImJihiLnVucGx1ZygpLCFhfHxhLmlzRGlzcG9zZWQoKXx8YS5pc1NoYWRvdygpfHx0aGlzLmdldElucHV0KFwiQVwiKS5jb25uZWN0aW9uLmNvbm5lY3QoYS5vdXRwdXRDb25uZWN0aW9uKSksYj10aGlzLnByZXZCbG9ja3NfWzFdLFxuYiE9PWMmJihjLnVucGx1ZygpLCFifHxiLmlzRGlzcG9zZWQoKXx8Yi5pc1NoYWRvdygpfHx0aGlzLmdldElucHV0KFwiQlwiKS5jb25uZWN0aW9uLmNvbm5lY3QoYi5vdXRwdXRDb25uZWN0aW9uKSksdGhpcy5idW1wTmVpZ2hib3VycygpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpKTt0aGlzLnByZXZCbG9ja3NfWzBdPXRoaXMuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIkFcIik7dGhpcy5wcmV2QmxvY2tzX1sxXT10aGlzLmdldElucHV0VGFyZ2V0QmxvY2soXCJCXCIpfX0sTE9HSUNfQ09NUEFSRV9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljPWZ1bmN0aW9uKCl7dGhpcy5taXhpbihMT0dJQ19DT01QQVJFX09OQ0hBTkdFX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyl9OyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwibG9naWNfY29tcGFyZVwiLExPR0lDX0NPTVBBUkVfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyk7XG52YXIgTE9HSUNfVEVSTkFSWV9PTkNIQU5HRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9e3ByZXZQYXJlbnRDb25uZWN0aW9uXzpudWxsLG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2NvbnN0IGI9dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiVEhFTlwiKSxjPXRoaXMuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIkVMU0VcIiksZD10aGlzLm91dHB1dENvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtpZigoYnx8YykmJmQpZm9yKGxldCBlPTA7ZTwyO2UrKyl7Y29uc3QgZj1lPT09MT9iOmM7ZiYmIWYud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyLmRvVHlwZUNoZWNrcyhmLm91dHB1dENvbm5lY3Rpb24sZCkmJigkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEuZ3JvdXApLGQ9PT10aGlzLnByZXZQYXJlbnRDb25uZWN0aW9uXz8odGhpcy51bnBsdWcoKSxkLmdldFNvdXJjZUJsb2NrKCkuYnVtcE5laWdoYm91cnMoKSk6KGYudW5wbHVnKCksXG5mLmJ1bXBOZWlnaGJvdXJzKCkpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpKX10aGlzLnByZXZQYXJlbnRDb25uZWN0aW9uXz1kfX07JC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImxvZ2ljX3Rlcm5hcnlcIixMT0dJQ19URVJOQVJZX09OQ0hBTkdFX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyk7JC5kZWZpbmVCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljPXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpY307dmFyIGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM9JC5jcmVhdGVCbG9ja0RlZmluaXRpb25zRnJvbUpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihbe3R5cGU6XCJsaXN0c19jcmVhdGVfZW1wdHlcIixtZXNzYWdlMDpcIiV7QktZX0xJU1RTX0NSRUFURV9FTVBUWV9USVRMRX1cIixvdXRwdXQ6XCJBcnJheVwiLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfQ1JFQVRFX0VNUFRZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX0NSRUFURV9FTVBUWV9IRUxQVVJMfVwifSx7dHlwZTpcImxpc3RzX3JlcGVhdFwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfUkVQRUFUX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIklURU1cIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJOVU1cIixjaGVjazpcIk51bWJlclwifV0sb3V0cHV0OlwiQXJyYXlcIixzdHlsZTpcImxpc3RfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xJU1RTX1JFUEVBVF9UT09MVElQfVwiLFxuaGVscFVybDpcIiV7QktZX0xJU1RTX1JFUEVBVF9IRUxQVVJMfVwifSx7dHlwZTpcImxpc3RzX3JldmVyc2VcIixtZXNzYWdlMDpcIiV7QktZX0xJU1RTX1JFVkVSU0VfTUVTU0FHRTB9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLGNoZWNrOlwiQXJyYXlcIn1dLG91dHB1dDpcIkFycmF5XCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfUkVWRVJTRV9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MSVNUU19SRVZFUlNFX0hFTFBVUkx9XCJ9LHt0eXBlOlwibGlzdHNfaXNFbXB0eVwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfSVNFTVBUWV9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOltcIlN0cmluZ1wiLFwiQXJyYXlcIl19XSxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJsaXN0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MSVNUU19JU0VNUFRZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX0lTRU1QVFlfSEVMUFVSTH1cIn0sXG57dHlwZTpcImxpc3RzX2xlbmd0aFwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfTEVOR1RIX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6W1wiU3RyaW5nXCIsXCJBcnJheVwiXX1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfTEVOR1RIX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX0xFTkdUSF9IRUxQVVJMfVwifV0pLExJU1RTX0NSRUFURV9XSVRIJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17aW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19DUkVBVEVfV0lUSF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5pdGVtQ291bnRfPTM7dGhpcy51cGRhdGVTaGFwZV8oKTt0aGlzLnNldE91dHB1dCghMCxcIkFycmF5XCIpO3RoaXMuc2V0TXV0YXRvcihuZXcgJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbihbXCJsaXN0c19jcmVhdGVfd2l0aF9pdGVtXCJdLFxudGhpcykpO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19DUkVBVEVfV0lUSF9UT09MVElQKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJpdGVtc1wiLFN0cmluZyh0aGlzLml0ZW1Db3VudF8pKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXthPWEuZ2V0QXR0cmlidXRlKFwiaXRlbXNcIik7aWYoIWEpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVsZW1lbnQgZGlkIG5vdCBoYXZlIGl0ZW1zXCIpO3RoaXMuaXRlbUNvdW50Xz1wYXJzZUludChhLDEwKTt0aGlzLnVwZGF0ZVNoYXBlXygpfSxzYXZlRXh0cmFTdGF0ZTpmdW5jdGlvbigpe3JldHVybntpdGVtQ291bnQ6dGhpcy5pdGVtQ291bnRffX0sbG9hZEV4dHJhU3RhdGU6ZnVuY3Rpb24oYSl7dGhpcy5pdGVtQ291bnRfPWEuaXRlbUNvdW50O1xudGhpcy51cGRhdGVTaGFwZV8oKX0sZGVjb21wb3NlOmZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5uZXdCbG9jayhcImxpc3RzX2NyZWF0ZV93aXRoX2NvbnRhaW5lclwiKTtiLmluaXRTdmcoKTtsZXQgYz1iLmdldElucHV0KFwiU1RBQ0tcIikuY29ubmVjdGlvbjtmb3IobGV0IGQ9MDtkPHRoaXMuaXRlbUNvdW50XztkKyspe2NvbnN0IGU9YS5uZXdCbG9jayhcImxpc3RzX2NyZWF0ZV93aXRoX2l0ZW1cIik7ZS5pbml0U3ZnKCk7aWYoIWUucHJldmlvdXNDb25uZWN0aW9uKXRocm93IEVycm9yKFwiaXRlbUJsb2NrIGhhcyBubyBwcmV2aW91c0Nvbm5lY3Rpb25cIik7Yy5jb25uZWN0KGUucHJldmlvdXNDb25uZWN0aW9uKTtjPWUubmV4dENvbm5lY3Rpb259cmV0dXJuIGJ9LGNvbXBvc2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRJbnB1dFRhcmdldEJsb2NrKFwiU1RBQ0tcIik7Zm9yKGE9W107YjspYi5pc0luc2VydGlvbk1hcmtlcigpfHxhLnB1c2goYi52YWx1ZUNvbm5lY3Rpb25fKSxiPWIuZ2V0TmV4dEJsb2NrKCk7XG5mb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKyl7Y29uc3QgYz10aGlzLmdldElucHV0KFwiQUREXCIrYikuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2MmJiFhLmluY2x1ZGVzKGMpJiZjLmRpc2Nvbm5lY3QoKX10aGlzLml0ZW1Db3VudF89YS5sZW5ndGg7dGhpcy51cGRhdGVTaGFwZV8oKTtmb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKyl7bGV0IGM7KGM9YVtiXSk9PW51bGx8fGMucmVjb25uZWN0KHRoaXMsXCJBRERcIitiKX19LHNhdmVDb25uZWN0aW9uczpmdW5jdGlvbihhKXthPWEuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIlNUQUNLXCIpO2xldCBiPTA7Zm9yKDthOyl7aWYoYS5pc0luc2VydGlvbk1hcmtlcigpKXthPWEuZ2V0TmV4dEJsb2NrKCk7Y29udGludWV9Y29uc3QgYz10aGlzLmdldElucHV0KFwiQUREXCIrYik7bGV0IGQ7YS52YWx1ZUNvbm5lY3Rpb25fPShkPWMpPT1udWxsP3ZvaWQgMDpkLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjthPWEuZ2V0TmV4dEJsb2NrKCk7XG5iKyt9fSx1cGRhdGVTaGFwZV86ZnVuY3Rpb24oKXt0aGlzLml0ZW1Db3VudF8mJnRoaXMuZ2V0SW5wdXQoXCJFTVBUWVwiKT90aGlzLnJlbW92ZUlucHV0KFwiRU1QVFlcIik6dGhpcy5pdGVtQ291bnRffHx0aGlzLmdldElucHV0KFwiRU1QVFlcIil8fHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkVNUFRZXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9FTVBUWV9USVRMRSk7Zm9yKHZhciBhPTA7YTx0aGlzLml0ZW1Db3VudF87YSsrKWlmKCF0aGlzLmdldElucHV0KFwiQUREXCIrYSkpe2NvbnN0IGI9dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQUREXCIrYSkuc2V0QWxpZ24oJC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5SSUdIVCk7YT09PTAmJmIuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfQ1JFQVRFX1dJVEhfSU5QVVRfV0lUSCl9Zm9yKGE9dGhpcy5pdGVtQ291bnRfO3RoaXMuZ2V0SW5wdXQoXCJBRERcIitcbmEpO2ErKyl0aGlzLnJlbW92ZUlucHV0KFwiQUREXCIrYSl9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX2NyZWF0ZV93aXRoPUxJU1RTX0NSRUFURV9XSVRIJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0czt2YXIgTElTVFNfQ1JFQVRFX1dJVEhfQ09OVEFJTkVSJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17aW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19DUkVBVEVfV0lUSF9DT05UQUlORVJfVElUTEVfQUREKTt0aGlzLmFwcGVuZFN0YXRlbWVudElucHV0KFwiU1RBQ0tcIik7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9XSVRIX0NPTlRBSU5FUl9UT09MVElQKTt0aGlzLmNvbnRleHRNZW51PSExfX07XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX2NyZWF0ZV93aXRoX2NvbnRhaW5lcj1MSVNUU19DUkVBVEVfV0lUSF9DT05UQUlORVIkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzO3ZhciBMSVNUU19DUkVBVEVfV0lUSF9JVEVNJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17aW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RJVExFKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RPT0xUSVApO3RoaXMuY29udGV4dE1lbnU9ITF9fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMubGlzdHNfY3JlYXRlX3dpdGhfaXRlbT1MSVNUU19DUkVBVEVfV0lUSF9JVEVNJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cztcbnZhciBMSVNUU19JTkRFWE9GJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17aW5pdDpmdW5jdGlvbigpe3ZhciBhPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfSU5ERVhfT0ZfRklSU1QsXCJGSVJTVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfSU5ERVhfT0ZfTEFTVCxcIkxBU1RcIl1dO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9PRl9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5zZXRPdXRwdXQoITAsXCJOdW1iZXJcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVkFMVUVcIikuc2V0Q2hlY2soXCJBcnJheVwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9PRl9JTlBVVF9JTl9MSVNUKTthPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsXG5vcHRpb25zOmF9KTtpZighYSl0aHJvdyBFcnJvcihcImZpZWxkX2Ryb3Bkb3duIG5vdCBmb3VuZFwiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJGSU5EXCIpLmFwcGVuZEZpZWxkKGEsXCJFTkRcIik7dGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0VG9vbHRpcCgoKT0+JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfSU5ERVhfT0ZfVE9PTFRJUC5yZXBsYWNlKFwiJTFcIix0aGlzLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXg/XCIwXCI6XCItMVwiKSl9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX2luZGV4T2Y9TElTVFNfSU5ERVhPRiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM7XG52YXIgTElTVFNfR0VUSU5ERVgkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzPXtpbml0OmZ1bmN0aW9uKCl7dmFyIGE9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfR0VULFwiR0VUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfR0VUX1JFTU9WRSxcIkdFVF9SRU1PVkVcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9SRU1PVkUsXCJSRU1PVkVcIl1dO3RoaXMuV0hFUkVfT1BUSU9OUz1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9GUk9NX1NUQVJULFwiRlJPTV9TVEFSVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0ZST01fRU5ELFwiRlJPTV9FTkRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9GSVJTVCxcIkZJUlNUXCJdLFxuWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9MQVNULFwiTEFTVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1JBTkRPTSxcIlJBTkRPTVwiXV07dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7YT0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG9wdGlvbnM6YX0pO2Euc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGIpe2I9Yj09PVwiUkVNT1ZFXCI7dGhpcy5nZXRTb3VyY2VCbG9jaygpLnVwZGF0ZVN0YXRlbWVudF8oYil9KTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJWQUxVRVwiKS5zZXRDaGVjayhcIkFycmF5XCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9JTlBVVF9JTl9MSVNUKTtcbnRoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKGEsXCJNT0RFXCIpLmFwcGVuZEZpZWxkKFwiXCIsXCJTUEFDRVwiKTthPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczp0aGlzLldIRVJFX09QVElPTlN9KTthLnNldFZhbGlkYXRvcihmdW5jdGlvbihiKXtjb25zdCBjPXRoaXMuZ2V0VmFsdWUoKTtiPWI9PT1cIkZST01fU1RBUlRcInx8Yj09PVwiRlJPTV9FTkRcIjtiIT09KGM9PT1cIkZST01fU1RBUlRcInx8Yz09PVwiRlJPTV9FTkRcIikmJnRoaXMuZ2V0U291cmNlQmxvY2soKS51cGRhdGVBdF8oYil9KTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChhLFwiV0hFUkVcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVRcIik7JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RBSUwmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRBSUxcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RBSUwpO1xudGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0T3V0cHV0KCEwKTt0aGlzLnVwZGF0ZUF0XyghMCk7dGhpcy5zZXRUb29sdGlwKCgpPT57Y29uc3QgYj10aGlzLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpLGM9dGhpcy5nZXRGaWVsZFZhbHVlKFwiV0hFUkVcIik7bGV0IGQ9XCJcIjtzd2l0Y2goYitcIiBcIitjKXtjYXNlIFwiR0VUIEZST01fU1RBUlRcIjpjYXNlIFwiR0VUIEZST01fRU5EXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfRlJPTTticmVhaztjYXNlIFwiR0VUIEZJUlNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfRklSU1Q7YnJlYWs7Y2FzZSBcIkdFVCBMQVNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfTEFTVDticmVhaztjYXNlIFwiR0VUIFJBTkRPTVwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JBTkRPTTtcbmJyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIEZST01fU1RBUlRcIjpjYXNlIFwiR0VUX1JFTU9WRSBGUk9NX0VORFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9GUk9NO2JyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIEZJUlNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0ZJUlNUO2JyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIExBU1RcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfTEFTVDticmVhaztjYXNlIFwiR0VUX1JFTU9WRSBSQU5ET01cIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfUkFORE9NO2JyZWFrO2Nhc2UgXCJSRU1PVkUgRlJPTV9TVEFSVFwiOmNhc2UgXCJSRU1PVkUgRlJPTV9FTkRcIjpkPVxuJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0ZST007YnJlYWs7Y2FzZSBcIlJFTU9WRSBGSVJTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0ZJUlNUO2JyZWFrO2Nhc2UgXCJSRU1PVkUgTEFTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0xBU1Q7YnJlYWs7Y2FzZSBcIlJFTU9WRSBSQU5ET01cIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX1JFTU9WRV9SQU5ET019aWYoYz09PVwiRlJPTV9TVEFSVFwifHxjPT09XCJGUk9NX0VORFwiKWQrPVwiICBcIisoYz09PVwiRlJPTV9TVEFSVFwiPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0lOREVYX0ZST01fU1RBUlRfVE9PTFRJUDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9GUk9NX0VORF9UT09MVElQKS5yZXBsYWNlKFwiJTFcIixcbnRoaXMud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cIiMxXCI6XCIjMFwiKTtyZXR1cm4gZH0pfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcInN0YXRlbWVudFwiLFN0cmluZyghdGhpcy5vdXRwdXRDb25uZWN0aW9uKSk7Y29uc3QgYj10aGlzLmdldElucHV0KFwiQVRcIilpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDthLnNldEF0dHJpYnV0ZShcImF0XCIsU3RyaW5nKGIpKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXtjb25zdCBiPWEuZ2V0QXR0cmlidXRlKFwic3RhdGVtZW50XCIpPT09XCJ0cnVlXCI7dGhpcy51cGRhdGVTdGF0ZW1lbnRfKGIpO2E9YS5nZXRBdHRyaWJ1dGUoXCJhdFwiKSE9PVwiZmFsc2VcIjt0aGlzLnVwZGF0ZUF0XyhhKX0sc2F2ZUV4dHJhU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdXRwdXRDb25uZWN0aW9uP1xubnVsbDp7aXNTdGF0ZW1lbnQ6ITB9fSxsb2FkRXh0cmFTdGF0ZTpmdW5jdGlvbihhKXthLmlzU3RhdGVtZW50P3RoaXMudXBkYXRlU3RhdGVtZW50XyghMCk6dHlwZW9mIGE9PT1cInN0cmluZ1wiJiZ0aGlzLmRvbVRvTXV0YXRpb24oJC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYSkpfSx1cGRhdGVTdGF0ZW1lbnRfOmZ1bmN0aW9uKGEpe2EhPT0hdGhpcy5vdXRwdXRDb25uZWN0aW9uJiYodGhpcy51bnBsdWcoITAsITApLGE/KHRoaXMuc2V0T3V0cHV0KCExKSx0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKSx0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApKToodGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMSksdGhpcy5zZXROZXh0U3RhdGVtZW50KCExKSx0aGlzLnNldE91dHB1dCghMCkpKX0sdXBkYXRlQXRfOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlSW5wdXQoXCJBVFwiKTt0aGlzLnJlbW92ZUlucHV0KFwiT1JESU5BTFwiLCEwKTthPyh0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBVFwiKS5zZXRDaGVjayhcIk51bWJlclwiKSxcbiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCYmdGhpcy5hcHBlbmREdW1teUlucHV0KFwiT1JESU5BTFwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgpKTp0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVFwiKTskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVEFJTCYmdGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJUQUlMXCIsbnVsbCl9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX2dldEluZGV4PUxJU1RTX0dFVElOREVYJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cztcbnZhciBMSVNUU19TRVRJTkRFWCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9TRVQsXCJTRVRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9JTlNFUlQsXCJJTlNFUlRcIl1dO3RoaXMuV0hFUkVfT1BUSU9OUz1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9GUk9NX1NUQVJULFwiRlJPTV9TVEFSVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0ZST01fRU5ELFwiRlJPTV9FTkRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9GSVJTVCxcIkZJUlNUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfTEFTVCxcIkxBU1RcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9SQU5ET00sXG5cIlJBTkRPTVwiXV07dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiTElTVFwiKS5zZXRDaGVjayhcIkFycmF5XCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9JTlBVVF9JTl9MSVNUKTthPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczphfSk7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoYSxcIk1PREVcIikuYXBwZW5kRmllbGQoXCJcIixcIlNQQUNFXCIpO2E9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOnRoaXMuV0hFUkVfT1BUSU9OU30pO2Euc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGIpe2NvbnN0IGM9XG50aGlzLmdldFZhbHVlKCk7Yj1iPT09XCJGUk9NX1NUQVJUXCJ8fGI9PT1cIkZST01fRU5EXCI7YiE9PShjPT09XCJGUk9NX1NUQVJUXCJ8fGM9PT1cIkZST01fRU5EXCIpJiZ0aGlzLmdldFNvdXJjZUJsb2NrKCkudXBkYXRlQXRfKGIpfSk7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoYSxcIldIRVJFXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlRPXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9JTlBVVF9UTyk7dGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0UHJldmlvdXNTdGF0ZW1lbnQoITApO3RoaXMuc2V0TmV4dFN0YXRlbWVudCghMCk7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQKTt0aGlzLnVwZGF0ZUF0XyghMCk7dGhpcy5zZXRUb29sdGlwKCgpPT57Y29uc3QgYj1cbnRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIiksYz10aGlzLmdldEZpZWxkVmFsdWUoXCJXSEVSRVwiKTtsZXQgZD1cIlwiO3N3aXRjaChiK1wiIFwiK2Mpe2Nhc2UgXCJTRVQgRlJPTV9TVEFSVFwiOmNhc2UgXCJTRVQgRlJPTV9FTkRcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9GUk9NO2JyZWFrO2Nhc2UgXCJTRVQgRklSU1RcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9GSVJTVDticmVhaztjYXNlIFwiU0VUIExBU1RcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9MQVNUO2JyZWFrO2Nhc2UgXCJTRVQgUkFORE9NXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9TRVRfUkFORE9NO2JyZWFrO2Nhc2UgXCJJTlNFUlQgRlJPTV9TVEFSVFwiOmNhc2UgXCJJTlNFUlQgRlJPTV9FTkRcIjpkPVxuJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX0ZST007YnJlYWs7Y2FzZSBcIklOU0VSVCBGSVJTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX0ZJUlNUO2JyZWFrO2Nhc2UgXCJJTlNFUlQgTEFTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX0xBU1Q7YnJlYWs7Y2FzZSBcIklOU0VSVCBSQU5ET01cIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9SQU5ET019aWYoYz09PVwiRlJPTV9TVEFSVFwifHxjPT09XCJGUk9NX0VORFwiKWQrPVwiICBcIiskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9GUk9NX1NUQVJUX1RPT0xUSVAucmVwbGFjZShcIiUxXCIsdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1xuXCIjMVwiOlwiIzBcIik7cmV0dXJuIGR9KX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIiksYj10aGlzLmdldElucHV0KFwiQVRcIilpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDthLnNldEF0dHJpYnV0ZShcImF0XCIsU3RyaW5nKGIpKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXthPWEuZ2V0QXR0cmlidXRlKFwiYXRcIikhPT1cImZhbHNlXCI7dGhpcy51cGRhdGVBdF8oYSl9LHNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGVBdF86ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVJbnB1dChcIkFUXCIpO3RoaXMucmVtb3ZlSW5wdXQoXCJPUkRJTkFMXCIsITApO2E/KHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFUXCIpLnNldENoZWNrKFwiTnVtYmVyXCIpLFxuJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCkpOnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIpO3RoaXMubW92ZUlucHV0QmVmb3JlKFwiQVRcIixcIlRPXCIpO3RoaXMuZ2V0SW5wdXQoXCJPUkRJTkFMXCIpJiZ0aGlzLm1vdmVJbnB1dEJlZm9yZShcIk9SRElOQUxcIixcIlRPXCIpfX07YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cy5saXN0c19zZXRJbmRleD1MSVNUU19TRVRJTkRFWCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM7XG52YXIgTElTVFNfR0VUU1VCTElTVCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLldIRVJFX09QVElPTlNfMT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1NUQVJUX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GUk9NX0VORCxcIkZST01fRU5EXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GSVJTVCxcIkZJUlNUXCJdXTt0aGlzLldIRVJFX09QVElPTlNfMj1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX0VORF9GUk9NX1NUQVJULFwiRlJPTV9TVEFSVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfRU5EX0ZST01fRU5ELFwiRlJPTV9FTkRcIl0sXG5bJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfRU5EX0xBU1QsXCJMQVNUXCJdXTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfSEVMUFVSTCk7dGhpcy5zZXRTdHlsZShcImxpc3RfYmxvY2tzXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkxJU1RcIikuc2V0Q2hlY2soXCJBcnJheVwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9JTlBVVF9JTl9MSVNUKTtjb25zdCBhPWI9Pntjb25zdCBjPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczp0aGlzW1wiV0hFUkVfT1BUSU9OU19cIitiXX0pO2Muc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGQpe2NvbnN0IGU9dGhpcy5nZXRWYWx1ZSgpO2Q9ZD09PVwiRlJPTV9TVEFSVFwifHxkPT09XG5cIkZST01fRU5EXCI7ZCE9PShlPT09XCJGUk9NX1NUQVJUXCJ8fGU9PT1cIkZST01fRU5EXCIpJiZ0aGlzLmdldFNvdXJjZUJsb2NrKCkudXBkYXRlQXRfKGIsZCl9KTtyZXR1cm4gY307dGhpcy5hcHBlbmREdW1teUlucHV0KFwiV0hFUkUxX0lOUFVUXCIpLmFwcGVuZEZpZWxkKGEoMSksXCJXSEVSRTFcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVQxXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIldIRVJFMl9JTlBVVFwiKS5hcHBlbmRGaWVsZChhKDIpLFwiV0hFUkUyXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUMlwiKTskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9UQUlMJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1RBSUwpO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldE91dHB1dCghMCxcIkFycmF5XCIpO3RoaXMudXBkYXRlQXRfKDEsXG4hMCk7dGhpcy51cGRhdGVBdF8oMiwhMCk7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1RPT0xUSVApfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTt2YXIgYj10aGlzLmdldElucHV0KFwiQVQxXCIpaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQ7YS5zZXRBdHRyaWJ1dGUoXCJhdDFcIixTdHJpbmcoYikpO2I9dGhpcy5nZXRJbnB1dChcIkFUMlwiKWluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O2Euc2V0QXR0cmlidXRlKFwiYXQyXCIsU3RyaW5nKGIpKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXtjb25zdCBiPWEuZ2V0QXR0cmlidXRlKFwiYXQxXCIpPT09XG5cInRydWVcIjthPWEuZ2V0QXR0cmlidXRlKFwiYXQyXCIpPT09XCJ0cnVlXCI7dGhpcy51cGRhdGVBdF8oMSxiKTt0aGlzLnVwZGF0ZUF0XygyLGEpfSxzYXZlRXh0cmFTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxsb2FkRXh0cmFTdGF0ZTpmdW5jdGlvbigpe30sdXBkYXRlQXRfOmZ1bmN0aW9uKGEsYil7dGhpcy5yZW1vdmVJbnB1dChcIkFUXCIrYSk7dGhpcy5yZW1vdmVJbnB1dChcIk9SRElOQUxcIithLCEwKTtiPyh0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBVFwiK2EpLnNldENoZWNrKFwiTnVtYmVyXCIpLCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCYmdGhpcy5hcHBlbmREdW1teUlucHV0KFwiT1JESU5BTFwiK2EpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCkpOnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIrYSk7YT09PTEmJih0aGlzLm1vdmVJbnB1dEJlZm9yZShcIkFUMVwiLFxuXCJXSEVSRTJfSU5QVVRcIiksdGhpcy5nZXRJbnB1dChcIk9SRElOQUwxXCIpJiZ0aGlzLm1vdmVJbnB1dEJlZm9yZShcIk9SRElOQUwxXCIsXCJXSEVSRTJfSU5QVVRcIikpOyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1RBSUwmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiVEFJTFwiLG51bGwpfX07YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cy5saXN0c19nZXRTdWJsaXN0PUxJU1RTX0dFVFNVQkxJU1QkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzO1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cy5saXN0c19zb3J0PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6XCIle0JLWV9MSVNUU19TT1JUX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIlRZUEVcIixvcHRpb25zOltbXCIle0JLWV9MSVNUU19TT1JUX1RZUEVfTlVNRVJJQ31cIixcIk5VTUVSSUNcIl0sW1wiJXtCS1lfTElTVFNfU09SVF9UWVBFX1RFWFR9XCIsXCJURVhUXCJdLFtcIiV7QktZX0xJU1RTX1NPUlRfVFlQRV9JR05PUkVDQVNFfVwiLFwiSUdOT1JFX0NBU0VcIl1dfSx7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIkRJUkVDVElPTlwiLG9wdGlvbnM6W1tcIiV7QktZX0xJU1RTX1NPUlRfT1JERVJfQVNDRU5ESU5HfVwiLFwiMVwiXSxbXCIle0JLWV9MSVNUU19TT1JUX09SREVSX0RFU0NFTkRJTkd9XCIsXCItMVwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLGNoZWNrOlwiQXJyYXlcIn1dLG91dHB1dDpcIkFycmF5XCIsXG5zdHlsZTpcImxpc3RfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xJU1RTX1NPUlRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTElTVFNfU09SVF9IRUxQVVJMfVwifSl9fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMubGlzdHNfc3BsaXQ9e2luaXQ6ZnVuY3Rpb24oKXtjb25zdCBhPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczpbWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NQTElUX0xJU1RfRlJPTV9URVhULFwiU1BMSVRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NQTElUX1RFWFRfRlJPTV9MSVNULFwiSk9JTlwiXV19KTtpZighYSl0aHJvdyBFcnJvcihcImZpZWxkX2Ryb3Bkb3duIG5vdCBmb3VuZFwiKTthLnNldFZhbGlkYXRvcihiPT57dGhpcy51cGRhdGVUeXBlXyhiKX0pO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TUExJVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiSU5QVVRcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoYSxcblwiTU9ERVwiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJERUxJTVwiKS5zZXRDaGVjayhcIlN0cmluZ1wiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TUExJVF9XSVRIX0RFTElNSVRFUik7dGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0T3V0cHV0KCEwLFwiQXJyYXlcIik7dGhpcy5zZXRUb29sdGlwKCgpPT57Y29uc3QgYj10aGlzLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpO2lmKGI9PT1cIlNQTElUXCIpcmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NQTElUX1RPT0xUSVBfU1BMSVQ7aWYoYj09PVwiSk9JTlwiKXJldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TUExJVF9UT09MVElQX0pPSU47dGhyb3cgRXJyb3IoXCJVbmtub3duIG1vZGU6IFwiK2IpO30pfSx1cGRhdGVUeXBlXzpmdW5jdGlvbihhKXtpZih0aGlzLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpIT09YSl7Y29uc3QgYj1cbnRoaXMuZ2V0SW5wdXQoXCJJTlBVVFwiKS5jb25uZWN0aW9uO2Iuc2V0U2hhZG93RG9tKG51bGwpO2NvbnN0IGM9Yi50YXJnZXRCbG9jaygpO2MmJihiLmRpc2Nvbm5lY3QoKSxjLmlzU2hhZG93KCk/Yy5kaXNwb3NlKCExKTp0aGlzLmJ1bXBOZWlnaGJvdXJzKCkpfWE9PT1cIlNQTElUXCI/KHRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhcIkFycmF5XCIpLHRoaXMuZ2V0SW5wdXQoXCJJTlBVVFwiKS5zZXRDaGVjayhcIlN0cmluZ1wiKSk6KHRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhcIlN0cmluZ1wiKSx0aGlzLmdldElucHV0KFwiSU5QVVRcIikuc2V0Q2hlY2soXCJBcnJheVwiKSl9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwibW9kZVwiLHRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlVHlwZV8oYS5nZXRBdHRyaWJ1dGUoXCJtb2RlXCIpKX0sXG5zYXZlRXh0cmFTdGF0ZTpmdW5jdGlvbigpe3JldHVybnttb2RlOnRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIil9fSxsb2FkRXh0cmFTdGF0ZTpmdW5jdGlvbihhKXt0aGlzLnVwZGF0ZVR5cGVfKGEubW9kZSl9fTskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM9e2Jsb2NrczpibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzfTt2YXIgYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRibG9ja3M9T2JqZWN0LmFzc2lnbih7fSxibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWMsYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcyxibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGgsYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCxibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlcyxibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlc19keW5hbWljKSxtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRibG9ja3M9e2Jsb2NrczpibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGJsb2NrcyxsaXN0czptb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cyxsb2dpYzptb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyxcbmxvb3BzOm1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzLG1hdGg6bW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aCxwcm9jZWR1cmVzOm1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMsdGV4dHM6bW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCx2YXJpYWJsZXM6bW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzLHZhcmlhYmxlc0R5bmFtaWM6bW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWN9O1xubW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkYmxvY2tzLl9fbmFtZXNwYWNlX189JDtcbnJldHVybiBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRibG9ja3M7XG59KSk7XG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmxvY2tzX2NvbXByZXNzZWQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/blockly/blocks_compressed.js\n");

/***/ }),

/***/ "../../node_modules/blockly/index.js":
/*!*******************************************!*\
  !*** ../../node_modules/blockly/index.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! blockly/core */ \"../../node_modules/blockly/blockly_compressed.js\"), __webpack_require__(/*! blockly/msg/en */ \"../../node_modules/blockly/msg/en.js\"), __webpack_require__(/*! blockly/blocks */ \"../../node_modules/blockly/blocks_compressed.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function(Blockly, en, blocks) {\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Main entrypoint for blockly package.  Via its UMD wrapper,\n * this module loads blockly/core, blockly/blocks and blockly/msg/en\n * and then calls setLocale(en).\n *\n * This entrypoint previously also loaded one or more generators\n * (JavaScript in browser, all five in node.js environments) but it no\n * longer makes sense to do so because of changes to generators\n * exports (they no longer have the side effect of defining\n * Blockly.JavaScript, etc., when loaded as modules).\n */\n\n/* eslint-disable */\n'use strict';\n\n// Include the EN Locale by default.\nBlockly.setLocale(en);\n\nreturn Blockly;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxDQUFDO0FBQ0QsTUFBTSxJQUEwQyxJQUFJO0FBQ3BELElBQUksaUNBQU8sQ0FBQywyRkFBYyxFQUFFLGlGQUFnQixFQUFFLDRGQUFnQixDQUFDLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDekUsSUFBSSxLQUFLLEVBSU47QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvaW5kZXguanM/YjAyNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgLy8gQU1EXG4gICAgZGVmaW5lKFsnYmxvY2tseS9jb3JlJywgJ2Jsb2NrbHkvbXNnL2VuJywgJ2Jsb2NrbHkvYmxvY2tzJ10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgeyAvLyBOb2RlLmpzXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2Jsb2NrbHkvY29yZScpLCByZXF1aXJlKCdibG9ja2x5L21zZy9lbicpLCByZXF1aXJlKCdibG9ja2x5L2Jsb2NrcycpKTtcbiAgfSBlbHNlIHsgLy8gQnJvd3NlclxuICAgIHJvb3QuQmxvY2tseSA9IGZhY3Rvcnkocm9vdC5CbG9ja2x5LCByb290LkJsb2NrbHkuTXNnLCByb290LkJsb2NrbHkuQmxvY2tzKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbihCbG9ja2x5LCBlbiwgYmxvY2tzKSB7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGUgTWFpbiBlbnRyeXBvaW50IGZvciBibG9ja2x5IHBhY2thZ2UuICBWaWEgaXRzIFVNRCB3cmFwcGVyLFxuICogdGhpcyBtb2R1bGUgbG9hZHMgYmxvY2tseS9jb3JlLCBibG9ja2x5L2Jsb2NrcyBhbmQgYmxvY2tseS9tc2cvZW5cbiAqIGFuZCB0aGVuIGNhbGxzIHNldExvY2FsZShlbikuXG4gKlxuICogVGhpcyBlbnRyeXBvaW50IHByZXZpb3VzbHkgYWxzbyBsb2FkZWQgb25lIG9yIG1vcmUgZ2VuZXJhdG9yc1xuICogKEphdmFTY3JpcHQgaW4gYnJvd3NlciwgYWxsIGZpdmUgaW4gbm9kZS5qcyBlbnZpcm9ubWVudHMpIGJ1dCBpdCBub1xuICogbG9uZ2VyIG1ha2VzIHNlbnNlIHRvIGRvIHNvIGJlY2F1c2Ugb2YgY2hhbmdlcyB0byBnZW5lcmF0b3JzXG4gKiBleHBvcnRzICh0aGV5IG5vIGxvbmdlciBoYXZlIHRoZSBzaWRlIGVmZmVjdCBvZiBkZWZpbmluZ1xuICogQmxvY2tseS5KYXZhU2NyaXB0LCBldGMuLCB3aGVuIGxvYWRlZCBhcyBtb2R1bGVzKS5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJbmNsdWRlIHRoZSBFTiBMb2NhbGUgYnkgZGVmYXVsdC5cbkJsb2NrbHkuc2V0TG9jYWxlKGVuKTtcblxucmV0dXJuIEJsb2NrbHk7XG59KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/blockly/index.js\n");

/***/ }),

/***/ "../../node_modules/blockly/javascript_compressed.js":
/*!***********************************************************!*\
  !*** ../../node_modules/blockly/javascript_compressed.js ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./blockly_compressed.js */ \"../../node_modules/blockly/blockly_compressed.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function(__parent__) {\nvar $=__parent__.__namespace__;\nvar lists_create_empty$$module$build$src$generators$javascript$lists=function(a,b){return[\"[]\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},lists_create_with$$module$build$src$generators$javascript$lists=function(a,b){const c=Array(a.itemCount_);for(let d=0;d<a.itemCount_;d++)c[d]=b.valueToCode(a,\"ADD\"+d,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";return[\"[\"+c.join(\", \")+\"]\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},\nlists_repeat$$module$build$src$generators$javascript$lists=function(a,b){const c=b.provideFunction_(\"listsRepeat\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n`),d=b.valueToCode(a,\"ITEM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";a=b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[c+\"(\"+d+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_length$$module$build$src$generators$javascript$lists=function(a,b){return[(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\n\"[]\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER]},lists_isEmpty$$module$build$src$generators$javascript$lists=function(a,b){return[\"!\"+(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT]},lists_indexOf$$module$build$src$generators$javascript$lists=function(a,b){const c=a.getFieldValue(\"END\")===\"FIRST\"?\"indexOf\":\"lastIndexOf\",\nd=b.valueToCode(a,\"FIND\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";b=(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\")+\".\"+c+\"(\"+d+\")\";return a.workspace.options.oneBasedIndex?[b+\" + 1\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION]:[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_getIndex$$module$build$src$generators$javascript$lists=\nfunction(a,b){const c=a.getFieldValue(\"MODE\")||\"GET\",d=a.getFieldValue(\"WHERE\")||\"FROM_START\";var e=b.valueToCode(a,\"VALUE\",d===\"RANDOM\"?Order$$module$build$src$generators$javascript$javascript_generator.NONE:Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";switch(d){case \"FIRST\":if(c===\"GET\")return[e+\"[0]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\".shift()\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];\nif(c===\"REMOVE\")return e+\".shift();\\n\";break;case \"LAST\":if(c===\"GET\")return[e+\".slice(-1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\".pop()\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"REMOVE\")return e+\".pop();\\n\";break;case \"FROM_START\":a=b.getAdjusted(a,\"AT\");if(c===\"GET\")return[e+\"[\"+a+\"]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\n\".splice(\"+a+\", 1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\".splice(\"+a+\", 1);\\n\";break;case \"FROM_END\":a=b.getAdjusted(a,\"AT\",1,!0);if(c===\"GET\")return[e+\".slice(\"+a+\")[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"GET_REMOVE\")return[e+\".splice(\"+a+\", 1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\".splice(\"+a+\", 1);\";\nbreak;case \"RANDOM\":e=b.provideFunction_(\"listsGetRandomItem\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n`)+\"(\"+e+\", \"+(c!==\"GET\")+\")\";if(c===\"GET\"||c===\"GET_REMOVE\")return[e,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\";\\n\"}throw Error(\"Unhandled combination (lists_getIndex).\");},lists_setIndex$$module$build$src$generators$javascript$lists=function(a,b){function c(){if(d.match(/^\\w+$/))return\"\";const h=b.nameDB_.getDistinctName(\"tmpList\",$.NameType$$module$build$src$core$names.VARIABLE),k=\"var \"+h+\" = \"+d+\";\\n\";d=h;return k}let d=b.valueToCode(a,\n\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";const e=a.getFieldValue(\"MODE\")||\"GET\";var f=a.getFieldValue(\"WHERE\")||\"FROM_START\";const g=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"null\";switch(f){case \"FIRST\":if(e===\"SET\")return d+\"[0] = \"+g+\";\\n\";if(e===\"INSERT\")return d+\".unshift(\"+g+\");\\n\";break;case \"LAST\":if(e===\"SET\")return c()+(d+\"[\"+d+\".length - 1] = \"+g+\";\\n\");if(e===\"INSERT\")return d+\".push(\"+\ng+\");\\n\";break;case \"FROM_START\":a=b.getAdjusted(a,\"AT\");if(e===\"SET\")return d+\"[\"+a+\"] = \"+g+\";\\n\";if(e===\"INSERT\")return d+\".splice(\"+a+\", 0, \"+g+\");\\n\";break;case \"FROM_END\":a=b.getAdjusted(a,\"AT\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);f=c();if(e===\"SET\")return f+(d+\"[\"+d+\".length - \"+a+\"] = \"+g+\";\\n\");if(e===\"INSERT\")return f+(d+\".splice(\"+d+\".length - \"+a+\", 0, \"+g+\");\\n\");break;case \"RANDOM\":a=c();f=b.nameDB_.getDistinctName(\"tmpX\",$.NameType$$module$build$src$core$names.VARIABLE);\na+=\"var \"+f+\" = Math.floor(Math.random() * \"+d+\".length);\\n\";if(e===\"SET\")return a+(d+\"[\"+f+\"] = \"+g+\";\\n\");if(e===\"INSERT\")return a+(d+\".splice(\"+f+\", 0, \"+g+\");\\n\")}throw Error(\"Unhandled combination (lists_setIndex).\");},lists_getSublist$$module$build$src$generators$javascript$lists=function(a,b){var c={FIRST:\"First\",LAST:\"Last\",FROM_START:\"FromStart\",FROM_END:\"FromEnd\"},d=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";const e=a.getFieldValue(\"WHERE1\"),\nf=a.getFieldValue(\"WHERE2\");if(e===\"FIRST\"&&f===\"LAST\")d+=\".slice(0)\";else if(d.match(/^\\w+$/)||e!==\"FROM_END\"&&f===\"FROM_START\"){switch(e){case \"FROM_START\":c=b.getAdjusted(a,\"AT1\");break;case \"FROM_END\":c=b.getAdjusted(a,\"AT1\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);c=d+\".length - \"+c;break;case \"FIRST\":c=\"0\";break;default:throw Error(\"Unhandled option (lists_getSublist).\");}switch(f){case \"FROM_START\":b=b.getAdjusted(a,\"AT2\",1);break;case \"FROM_END\":b=\nb.getAdjusted(a,\"AT2\",0,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);b=d+\".length - \"+b;break;case \"LAST\":b=d+\".length\";break;default:throw Error(\"Unhandled option (lists_getSublist).\");}d=d+\".slice(\"+c+\", \"+b+\")\"}else{const g=b.getAdjusted(a,\"AT1\");a=b.getAdjusted(a,\"AT2\");d=b.provideFunction_(\"subsequence\"+c[e]+c[f],`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${e===\"FROM_END\"||e===\"FROM_START\"?\", at1\":\"\"}${f===\"FROM_END\"||f===\"FROM_START\"?\", at2\":\"\"}) {\n  var start = ${getSubstringIndex$$module$build$src$generators$javascript$lists(\"sequence\",e,\"at1\")};\n  var end = ${getSubstringIndex$$module$build$src$generators$javascript$lists(\"sequence\",f,\"at2\")} + 1;\n  return sequence.slice(start, end);\n}\n`)+\"(\"+d+(e===\"FROM_END\"||e===\"FROM_START\"?\", \"+g:\"\")+(f===\"FROM_END\"||f===\"FROM_START\"?\", \"+a:\"\")+\")\"}return[d,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_sort$$module$build$src$generators$javascript$lists=function(a,b){const c=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL)||\"[]\",d=a.getFieldValue(\"DIRECTION\")===\"1\"?1:-1;a=a.getFieldValue(\"TYPE\");b=b.provideFunction_(\"listsGetSortCompare\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return String(a) > String(b) ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      `);return[c+\".slice().sort(\"+b+'(\"'+a+'\", '+d+\"))\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_split$$module$build$src$generators$javascript$lists=function(a,b){let c=b.valueToCode(a,\"INPUT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER);b=b.valueToCode(a,\"DELIM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=a.getFieldValue(\"MODE\");if(a===\"SPLIT\")c||(c=\"''\"),a=\"split\";else if(a===\"JOIN\")c||\n(c=\"[]\"),a=\"join\";else throw Error(\"Unknown mode: \"+a);return[c+\".\"+a+\"(\"+b+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_reverse$$module$build$src$generators$javascript$lists=function(a,b){return[(b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL)||\"[]\")+\".slice().reverse()\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},controls_if$$module$build$src$generators$javascript$logic=\nfunction(a,b){var c=0;let d=\"\";b.STATEMENT_PREFIX&&(d+=b.injectId(b.STATEMENT_PREFIX,a));do{const e=b.valueToCode(a,\"IF\"+c,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\";let f=b.statementToCode(a,\"DO\"+c);b.STATEMENT_SUFFIX&&(f=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT)+f);d+=(c>0?\" else \":\"\")+\"if (\"+e+\") {\\n\"+f+\"}\";c++}while(a.getInput(\"IF\"+c));if(a.getInput(\"ELSE\")||b.STATEMENT_SUFFIX)c=a.getInput(\"ELSE\")?b.statementToCode(a,\"ELSE\"):\"\",b.STATEMENT_SUFFIX&&\n(c=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT)+c),d+=\" else {\\n\"+c+\"}\";return d+\"\\n\"},logic_compare$$module$build$src$generators$javascript$logic=function(a,b){const c={EQ:\"==\",NEQ:\"!=\",LT:\"<\",LTE:\"<=\",GT:\">\",GTE:\">=\"}[a.getFieldValue(\"OP\")],d=c===\"==\"||c===\"!=\"?Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY:Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,e=b.valueToCode(a,\"A\",d)||\"0\";a=b.valueToCode(a,\"B\",d)||\"0\";return[e+\" \"+\nc+\" \"+a,d]},logic_operation$$module$build$src$generators$javascript$logic=function(a,b){const c=a.getFieldValue(\"OP\")===\"AND\"?\"&&\":\"||\",d=c===\"&&\"?Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND:Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR;let e=b.valueToCode(a,\"A\",d);a=b.valueToCode(a,\"B\",d);e||a?(b=c===\"&&\"?\"true\":\"false\",e||(e=b),a||(a=b)):a=e=\"false\";return[e+\" \"+c+\" \"+a,d]},logic_negate$$module$build$src$generators$javascript$logic=\nfunction(a,b){const c=Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT;return[\"!\"+(b.valueToCode(a,\"BOOL\",c)||\"true\"),c]},logic_boolean$$module$build$src$generators$javascript$logic=function(a,b){return[a.getFieldValue(\"BOOL\")===\"TRUE\"?\"true\":\"false\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},logic_null$$module$build$src$generators$javascript$logic=function(a,b){return[\"null\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},\nlogic_ternary$$module$build$src$generators$javascript$logic=function(a,b){const c=b.valueToCode(a,\"IF\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"false\",d=b.valueToCode(a,\"THEN\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"null\";a=b.valueToCode(a,\"ELSE\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"null\";return[c+\" ? \"+d+\" : \"+a,Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL]},\ncontrols_repeat_ext$$module$build$src$generators$javascript$loops=function(a,b){let c;c=a.getField(\"TIMES\")?String(Number(a.getFieldValue(\"TIMES\"))):b.valueToCode(a,\"TIMES\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";let d=b.statementToCode(a,\"DO\");d=b.addLoopTrap(d,a);a=\"\";const e=b.nameDB_.getDistinctName(\"count\",$.NameType$$module$build$src$core$names.VARIABLE);let f=c;c.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(c)||(f=b.nameDB_.getDistinctName(\"repeat_end\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+f+\" = \"+c+\";\\n\");return a+(\"for (var \"+e+\" = 0; \"+e+\" < \"+f+\"; \"+e+\"++) {\\n\"+d+\"}\\n\")},controls_whileUntil$$module$build$src$generators$javascript$loops=function(a,b){const c=a.getFieldValue(\"MODE\")===\"UNTIL\";let d=b.valueToCode(a,\"BOOL\",c?Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT:Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\",e=b.statementToCode(a,\"DO\");e=b.addLoopTrap(e,\na);c&&(d=\"!\"+d);return\"while (\"+d+\") {\\n\"+e+\"}\\n\"},controls_for$$module$build$src$generators$javascript$loops=function(a,b){var c=b.getVariableName(a.getFieldValue(\"VAR\")),d=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\",e=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";const f=b.valueToCode(a,\"BY\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"1\";\nlet g=b.statementToCode(a,\"DO\");g=b.addLoopTrap(g,a);if($.isNumber$$module$build$src$core$utils$string(d)&&$.isNumber$$module$build$src$core$utils$string(e)&&$.isNumber$$module$build$src$core$utils$string(f))b=Number(d)<=Number(e),a=\"for (\"+c+\" = \"+d+\"; \"+c+(b?\" <= \":\" >= \")+e+\"; \"+c,c=Math.abs(Number(f)),a=c===1?a+(b?\"++\":\"--\"):a+((b?\" += \":\" -= \")+c),a+=\") {\\n\"+g+\"}\\n\";else{a=\"\";let h=d;d.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(d)||(h=b.nameDB_.getDistinctName(c+\"_start\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+h+\" = \"+d+\";\\n\");d=e;e.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(e)||(d=b.nameDB_.getDistinctName(c+\"_end\",$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+d+\" = \"+e+\";\\n\");e=b.nameDB_.getDistinctName(c+\"_inc\",$.NameType$$module$build$src$core$names.VARIABLE);a+=\"var \"+e+\" = \";a=$.isNumber$$module$build$src$core$utils$string(f)?a+(Math.abs(Number(f))+\";\\n\"):a+(\"Math.abs(\"+f+\");\\n\");a+=\"if (\"+h+\" > \"+d+\") {\\n\";\na+=b.INDENT+e+\" = -\"+e+\";\\n\";a=a+\"}\\nfor (\"+(c+\" = \"+h+\"; \"+e+\" >= 0 ? \"+c+\" <= \"+d+\" : \"+c+\" >= \"+d+\"; \"+c+\" += \"+e+\") {\\n\"+g+\"}\\n\")}return a},controls_forEach$$module$build$src$generators$javascript$loops=function(a,b){const c=b.getVariableName(a.getFieldValue(\"VAR\"));var d=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"[]\";let e=b.statementToCode(a,\"DO\");e=b.addLoopTrap(e,a);a=\"\";let f=d;d.match(/^\\w+$/)||(f=b.nameDB_.getDistinctName(c+\"_list\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+f+\" = \"+d+\";\\n\");d=b.nameDB_.getDistinctName(c+\"_index\",$.NameType$$module$build$src$core$names.VARIABLE);e=b.INDENT+c+\" = \"+f+\"[\"+d+\"];\\n\"+e;return a+(\"for (var \"+d+\" in \"+f+\") {\\n\"+e+\"}\\n\")},controls_flow_statements$$module$build$src$generators$javascript$loops=function(a,b){let c=\"\";b.STATEMENT_PREFIX&&(c+=b.injectId(b.STATEMENT_PREFIX,a));b.STATEMENT_SUFFIX&&(c+=b.injectId(b.STATEMENT_SUFFIX,a));if(b.STATEMENT_PREFIX){const d=a.getSurroundLoop();\nd&&!d.suppressPrefixSuffix&&(c+=b.injectId(b.STATEMENT_PREFIX,d))}switch(a.getFieldValue(\"FLOW\")){case \"BREAK\":return c+\"break;\\n\";case \"CONTINUE\":return c+\"continue;\\n\"}throw Error(\"Unknown flow statement.\");},math_number$$module$build$src$generators$javascript$math=function(a,b){a=Number(a.getFieldValue(\"NUM\"));return[String(a),a>=0?Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC:Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION]},math_arithmetic$$module$build$src$generators$javascript$math=\nfunction(a,b){var c={ADD:[\" + \",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],MINUS:[\" - \",Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION],MULTIPLY:[\" * \",Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],DIVIDE:[\" / \",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],POWER:[null,Order$$module$build$src$generators$javascript$javascript_generator.NONE]}[a.getFieldValue(\"OP\")];\nconst d=c[0];c=c[1];const e=b.valueToCode(a,\"A\",c)||\"0\";a=b.valueToCode(a,\"B\",c)||\"0\";return d?[e+d+a,c]:[\"Math.pow(\"+e+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_single$$module$build$src$generators$javascript$math=function(a,b){const c=a.getFieldValue(\"OP\");let d;if(c===\"NEG\")return a=b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION)||\"0\",a[0]===\"-\"&&(a=\" \"+a),[\"-\"+a,Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION];\na=c===\"SIN\"||c===\"COS\"||c===\"TAN\"?b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION)||\"0\":b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";switch(c){case \"ABS\":d=\"Math.abs(\"+a+\")\";break;case \"ROOT\":d=\"Math.sqrt(\"+a+\")\";break;case \"LN\":d=\"Math.log(\"+a+\")\";break;case \"EXP\":d=\"Math.exp(\"+a+\")\";break;case \"POW10\":d=\"Math.pow(10,\"+a+\")\";break;case \"ROUND\":d=\"Math.round(\"+a+\")\";break;case \"ROUNDUP\":d=\"Math.ceil(\"+\na+\")\";break;case \"ROUNDDOWN\":d=\"Math.floor(\"+a+\")\";break;case \"SIN\":d=\"Math.sin(\"+a+\" / 180 * Math.PI)\";break;case \"COS\":d=\"Math.cos(\"+a+\" / 180 * Math.PI)\";break;case \"TAN\":d=\"Math.tan(\"+a+\" / 180 * Math.PI)\"}if(d)return[d,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];switch(c){case \"LOG10\":d=\"Math.log(\"+a+\") / Math.log(10)\";break;case \"ASIN\":d=\"Math.asin(\"+a+\") / Math.PI * 180\";break;case \"ACOS\":d=\"Math.acos(\"+a+\") / Math.PI * 180\";break;case \"ATAN\":d=\"Math.atan(\"+\na+\") / Math.PI * 180\";break;default:throw Error(\"Unknown math operator: \"+c);}return[d,Order$$module$build$src$generators$javascript$javascript_generator.DIVISION]},math_constant$$module$build$src$generators$javascript$math=function(a,b){return{PI:[\"Math.PI\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],E:[\"Math.E\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],GOLDEN_RATIO:[\"(1 + Math.sqrt(5)) / 2\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],\nSQRT2:[\"Math.SQRT2\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],SQRT1_2:[\"Math.SQRT1_2\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],INFINITY:[\"Infinity\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]}[a.getFieldValue(\"CONSTANT\")]},math_number_property$$module$build$src$generators$javascript$math=function(a,b){var c={EVEN:[\" % 2 === 0\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,\nOrder$$module$build$src$generators$javascript$javascript_generator.EQUALITY],ODD:[\" % 2 === 1\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],WHOLE:[\" % 1 === 0\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],POSITIVE:[\" > 0\",Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,\nOrder$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],NEGATIVE:[\" < 0\",Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],DIVISIBLE_BY:[null,Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],PRIME:[null,Order$$module$build$src$generators$javascript$javascript_generator.NONE,\nOrder$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]};const d=a.getFieldValue(\"PROPERTY\"),[e,f,g]=c[d];c=b.valueToCode(a,\"NUMBER_TO_CHECK\",f)||\"0\";d===\"PRIME\"?a=b.provideFunction_(\"mathIsPrime\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`)+\"(\"+c+\")\":d===\"DIVISIBLE_BY\"?(a=b.valueToCode(a,\"DIVISOR\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\"0\",a=c+\" % \"+a+\" === 0\"):a=c+e;return[a,g]},math_change$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"DELTA\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION)||\"0\";a=b.getVariableName(a.getFieldValue(\"VAR\"));return a+\" = (typeof \"+a+\" === 'number' ? \"+a+\" : 0) + \"+c+\";\\n\"},math_on_list$$module$build$src$generators$javascript$math=\nfunction(a,b){var c=a.getFieldValue(\"OP\");switch(c){case \"SUM\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";a+=\".reduce(function(x, y) {return x + y;}, 0)\";break;case \"MIN\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=\"Math.min.apply(null, \"+a+\")\";break;case \"MAX\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=\"Math.max.apply(null, \"+\na+\")\";break;case \"AVERAGE\":c=b.provideFunction_(\"mathMean\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"MEDIAN\":c=b.provideFunction_(\"mathMedian\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"MODE\":c=b.provideFunction_(\"mathModes\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n      modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"STD_DEV\":c=b.provideFunction_(\"mathStandardDeviation\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance /= n;\n  return Math.sqrt(variance);\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"RANDOM\":c=b.provideFunction_(\"mathRandomList\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;default:throw Error(\"Unknown operator: \"+c);}return[a,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_modulo$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"DIVIDEND\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\"0\";a=b.valueToCode(a,\"DIVISOR\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\n\"0\";return[c+\" % \"+a,Order$$module$build$src$generators$javascript$javascript_generator.MODULUS]},math_constrain$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\",d=b.valueToCode(a,\"LOW\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";a=b.valueToCode(a,\"HIGH\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"Infinity\";return[\"Math.min(Math.max(\"+\nc+\", \"+d+\"), \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_random_int$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";a=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[b.provideFunction_(\"mathRandomInt\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n`)+\"(\"+c+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_random_float$$module$build$src$generators$javascript$math=function(a,b){return[\"Math.random()\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_atan2$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"X\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[\"Math.atan2(\"+(b.valueToCode(a,\"Y\",\nOrder$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\")+\", \"+c+\") / Math.PI * 180\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION]},procedures_defreturn$$module$build$src$generators$javascript$procedures=function(a,b){const c=b.getProcedureName(a.getFieldValue(\"NAME\"));var d=\"\";b.STATEMENT_PREFIX&&(d+=b.injectId(b.STATEMENT_PREFIX,a));b.STATEMENT_SUFFIX&&(d+=b.injectId(b.STATEMENT_SUFFIX,a));d&&(d=b.prefixLines(d,b.INDENT));let e=\"\";b.INFINITE_LOOP_TRAP&&\n(e=b.prefixLines(b.injectId(b.INFINITE_LOOP_TRAP,a),b.INDENT));let f=\"\";a.getInput(\"STACK\")&&(f=b.statementToCode(a,\"STACK\"));let g=\"\";a.getInput(\"RETURN\")&&(g=b.valueToCode(a,\"RETURN\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"\");let h=\"\";f&&g&&(h=d);g&&(g=b.INDENT+\"return \"+g+\";\\n\");const k=[],l=a.getVars();for(let m=0;m<l.length;m++)k[m]=b.getVariableName(l[m]);d=\"function \"+c+\"(\"+k.join(\", \")+\") {\\n\"+d+e+f+h+g+\"}\";d=b.scrub_(a,d);b.definitions_[\"%\"+c]=d;return null},\nprocedures_callreturn$$module$build$src$generators$javascript$procedures=function(a,b){const c=b.getProcedureName(a.getFieldValue(\"NAME\")),d=[],e=a.getVars();for(let f=0;f<e.length;f++)d[f]=b.valueToCode(a,\"ARG\"+f,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";return[c+\"(\"+d.join(\", \")+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},procedures_callnoreturn$$module$build$src$generators$javascript$procedures=function(a,b){return b.forBlock.procedures_callreturn(a,\nb)[0]+\";\\n\"},procedures_ifreturn$$module$build$src$generators$javascript$procedures=function(a,b){let c=\"if (\"+(b.valueToCode(a,\"CONDITION\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\")+\") {\\n\";b.STATEMENT_SUFFIX&&(c+=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT));a.hasReturnValue_?(a=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\",c+=b.INDENT+\"return \"+a+\";\\n\"):c+=b.INDENT+\"return;\\n\";return c+\n\"}\\n\"},text$$module$build$src$generators$javascript$text=function(a,b){return[b.quote_(a.getFieldValue(\"TEXT\")),Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},text_join$$module$build$src$generators$javascript$text=function(a,b){switch(a.itemCount_){case 0:return[\"''\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];case 1:return a=b.valueToCode(a,\"ADD0\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\",forceString$$module$build$src$generators$javascript$text(a);\ncase 2:var c=b.valueToCode(a,\"ADD0\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"ADD1\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[forceString$$module$build$src$generators$javascript$text(c)[0]+\" + \"+forceString$$module$build$src$generators$javascript$text(a)[0],Order$$module$build$src$generators$javascript$javascript_generator.ADDITION];default:c=Array(a.itemCount_);for(let d=0;d<a.itemCount_;d++)c[d]=\nb.valueToCode(a,\"ADD\"+d,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[\"[\"+c.join(\",\")+\"].join('')\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]}},text_append$$module$build$src$generators$javascript$text=function(a,b){const c=b.getVariableName(a.getFieldValue(\"VAR\"));a=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return c+\" += \"+forceString$$module$build$src$generators$javascript$text(a)[0]+\n\";\\n\"},text_length$$module$build$src$generators$javascript$text=function(a,b){return[(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER]},text_isEmpty$$module$build$src$generators$javascript$text=function(a,b){return[\"!\"+(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT]},\ntext_indexOf$$module$build$src$generators$javascript$text=function(a,b){const c=a.getFieldValue(\"END\")===\"FIRST\"?\"indexOf\":\"lastIndexOf\",d=b.valueToCode(a,\"FIND\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";b=(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".\"+c+\"(\"+d+\")\";return a.workspace.options.oneBasedIndex?[b+\" + 1\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION]:[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},\ntext_charAt$$module$build$src$generators$javascript$text=function(a,b){const c=a.getFieldValue(\"WHERE\")||\"FROM_START\",d=b.valueToCode(a,\"VALUE\",c===\"RANDOM\"?Order$$module$build$src$generators$javascript$javascript_generator.NONE:Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\";switch(c){case \"FIRST\":return[d+\".charAt(0)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"LAST\":return[d+\".slice(-1)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];\ncase \"FROM_START\":return a=b.getAdjusted(a,\"AT\"),[d+\".charAt(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"FROM_END\":return a=b.getAdjusted(a,\"AT\",1,!0),[d+\".slice(\"+a+\").charAt(0)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"RANDOM\":return[b.provideFunction_(\"textRandomLetter\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n`)+\"(\"+d+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]}throw Error(\"Unhandled option (text_charAt).\");},text_getSubstring$$module$build$src$generators$javascript$text=function(a,b){var c={FIRST:\"First\",LAST:\"Last\",FROM_START:\"FromStart\",FROM_END:\"FromEnd\"};const d=a.getFieldValue(\"WHERE1\"),e=a.getFieldValue(\"WHERE2\");var f=d!==\"FROM_END\"&&d!==\"LAST\"&&e!==\"FROM_END\"&&e!==\"LAST\",g=b.valueToCode(a,\"STRING\",f?Order$$module$build$src$generators$javascript$javascript_generator.MEMBER:\nOrder$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";if(d===\"FIRST\"&&e===\"LAST\")return[g,Order$$module$build$src$generators$javascript$javascript_generator.NONE];if(g.match(/^'?\\w+'?$/)||f){switch(d){case \"FROM_START\":c=b.getAdjusted(a,\"AT1\");break;case \"FROM_END\":c=b.getAdjusted(a,\"AT1\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);c=g+\".length - \"+c;break;case \"FIRST\":c=\"0\";break;default:throw Error(\"Unhandled option (text_getSubstring).\");\n}switch(e){case \"FROM_START\":b=b.getAdjusted(a,\"AT2\",1);break;case \"FROM_END\":b=b.getAdjusted(a,\"AT2\",0,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);b=g+\".length - \"+b;break;case \"LAST\":b=g+\".length\";break;default:throw Error(\"Unhandled option (text_getSubstring).\");}g=g+\".slice(\"+c+\", \"+b+\")\"}else f=b.getAdjusted(a,\"AT1\"),a=b.getAdjusted(a,\"AT2\"),g=b.provideFunction_(\"subsequence\"+c[d]+c[e],`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${d===\"FROM_END\"||d===\"FROM_START\"?\", at1\":\"\"}${e===\"FROM_END\"||e===\"FROM_START\"?\", at2\":\"\"}) {\n  var start = ${getSubstringIndex$$module$build$src$generators$javascript$text(\"sequence\",d,\"at1\")};\n  var end = ${getSubstringIndex$$module$build$src$generators$javascript$text(\"sequence\",e,\"at2\")} + 1;\n  return sequence.slice(start, end);\n}\n`)+\"(\"+g+(d===\"FROM_END\"||d===\"FROM_START\"?\", \"+f:\"\")+(e===\"FROM_END\"||e===\"FROM_START\"?\", \"+a:\"\")+\")\";return[g,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_changeCase$$module$build$src$generators$javascript$text=function(a,b){const c={UPPERCASE:\".toUpperCase()\",LOWERCASE:\".toLowerCase()\",TITLECASE:null}[a.getFieldValue(\"CASE\")];a=b.valueToCode(a,\"TEXT\",c?Order$$module$build$src$generators$javascript$javascript_generator.MEMBER:Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\n\"''\";return[c?a+c:b.provideFunction_(\"textToTitleCase\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(str) {\n  return str.replace(/\\\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n`)+\"(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_trim$$module$build$src$generators$javascript$text=function(a,b){const c={LEFT:\".replace(/^[\\\\s\\\\xa0]+/, '')\",RIGHT:\".replace(/[\\\\s\\\\xa0]+$/, '')\",BOTH:\".trim()\"}[a.getFieldValue(\"MODE\")];return[(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+c,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_print$$module$build$src$generators$javascript$text=\nfunction(a,b){return\"window.alert(\"+(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\")+\");\\n\"},text_prompt_ext$$module$build$src$generators$javascript$text=function(a,b){b=\"window.prompt(\"+(a.getField(\"TEXT\")?b.quote_(a.getFieldValue(\"TEXT\")):b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\")+\")\";a.getFieldValue(\"TYPE\")===\"NUMBER\"&&(b=\"Number(\"+b+\")\");return[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},\ntext_count$$module$build$src$generators$javascript$text=function(a,b){const c=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"SUB\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[b.provideFunction_(\"textCount\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n`)+\"(\"+c+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_replace$$module$build$src$generators$javascript$text=function(a,b){const c=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\",d=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[b.provideFunction_(\"textReplace\",\n`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\\\[\\\\]{}+?*.$\\\\^|,:#<!\\\\\\\\])/g, '\\\\\\\\$1')\n                 .replace(/\\\\x08/g, '\\\\\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n`)+\"(\"+c+\", \"+d+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_reverse$$module$build$src$generators$javascript$text=function(a,b){return[(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".split('').reverse().join('')\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},variables_get$$module$build$src$generators$javascript$variables=function(a,b){return[b.getVariableName(a.getFieldValue(\"VAR\")),\nOrder$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},variables_set$$module$build$src$generators$javascript$variables=function(a,b){const c=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";return b.getVariableName(a.getFieldValue(\"VAR\"))+\" = \"+c+\";\\n\"},Order$$module$build$src$generators$javascript$javascript_generator;\n(function(a){a[a.ATOMIC=0]=\"ATOMIC\";a[a.NEW=1.1]=\"NEW\";a[a.MEMBER=1.2]=\"MEMBER\";a[a.FUNCTION_CALL=2]=\"FUNCTION_CALL\";a[a.INCREMENT=3]=\"INCREMENT\";a[a.DECREMENT=3]=\"DECREMENT\";a[a.BITWISE_NOT=4.1]=\"BITWISE_NOT\";a[a.UNARY_PLUS=4.2]=\"UNARY_PLUS\";a[a.UNARY_NEGATION=4.3]=\"UNARY_NEGATION\";a[a.LOGICAL_NOT=4.4]=\"LOGICAL_NOT\";a[a.TYPEOF=4.5]=\"TYPEOF\";a[a.VOID=4.6]=\"VOID\";a[a.DELETE=4.7]=\"DELETE\";a[a.AWAIT=4.8]=\"AWAIT\";a[a.EXPONENTIATION=5]=\"EXPONENTIATION\";a[a.MULTIPLICATION=5.1]=\"MULTIPLICATION\";a[a.DIVISION=\n5.2]=\"DIVISION\";a[a.MODULUS=5.3]=\"MODULUS\";a[a.SUBTRACTION=6.1]=\"SUBTRACTION\";a[a.ADDITION=6.2]=\"ADDITION\";a[a.BITWISE_SHIFT=7]=\"BITWISE_SHIFT\";a[a.RELATIONAL=8]=\"RELATIONAL\";a[a.IN=8]=\"IN\";a[a.INSTANCEOF=8]=\"INSTANCEOF\";a[a.EQUALITY=9]=\"EQUALITY\";a[a.BITWISE_AND=10]=\"BITWISE_AND\";a[a.BITWISE_XOR=11]=\"BITWISE_XOR\";a[a.BITWISE_OR=12]=\"BITWISE_OR\";a[a.LOGICAL_AND=13]=\"LOGICAL_AND\";a[a.LOGICAL_OR=14]=\"LOGICAL_OR\";a[a.CONDITIONAL=15]=\"CONDITIONAL\";a[a.ASSIGNMENT=16]=\"ASSIGNMENT\";a[a.YIELD=17]=\"YIELD\";\na[a.COMMA=18]=\"COMMA\";a[a.NONE=99]=\"NONE\"})(Order$$module$build$src$generators$javascript$javascript_generator||(Order$$module$build$src$generators$javascript$javascript_generator={}));\nvar JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator=class extends $.CodeGenerator$$module$build$src$core$generator{constructor(a=\"JavaScript\"){super(a);this.ORDER_OVERRIDES=[[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL,Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL],\n[Order$$module$build$src$generators$javascript$javascript_generator.MEMBER,Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],[Order$$module$build$src$generators$javascript$javascript_generator.MEMBER,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT],[Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION,\nOrder$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],[Order$$module$build$src$generators$javascript$javascript_generator.ADDITION,Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR]];\nthis.isInitialized=!1;for(const b in Order$$module$build$src$generators$javascript$javascript_generator)a=Order$$module$build$src$generators$javascript$javascript_generator[b],typeof a!==\"string\"&&(this[\"ORDER_\"+b]=a);this.addReservedWords(\"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,\"+\nObject.getOwnPropertyNames(globalThis).join(\",\"))}init(a){super.init(a);this.nameDB_?this.nameDB_.reset():this.nameDB_=new $.Names$$module$build$src$core$names(this.RESERVED_WORDS_);this.nameDB_.setVariableMap(a.getVariableMap());this.nameDB_.populateVariables(a);this.nameDB_.populateProcedures(a);const b=[];var c=$.allDeveloperVariables$$module$build$src$core$variables(a);for(let d=0;d<c.length;d++)b.push(this.nameDB_.getName(c[d],$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));a=$.allUsedVarModels$$module$build$src$core$variables(a);\nfor(c=0;c<a.length;c++)b.push(this.nameDB_.getName(a[c].getId(),$.NameType$$module$build$src$core$names.VARIABLE));b.length&&(this.definitions_.variables=\"var \"+b.join(\", \")+\";\");this.isInitialized=!0}finish(a){const b=Object.values(this.definitions_);super.finish(a);this.isInitialized=!1;this.nameDB_.reset();return b.join(\"\\n\\n\")+\"\\n\\n\\n\"+a}scrubNakedValue(a){return a+\";\\n\"}quote_(a){a=a.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\n/g,\"\\\\\\n\").replace(/'/g,\"\\\\'\");return\"'\"+a+\"'\"}multiline_quote_(a){return a.split(/\\n/g).map(this.quote_).join(\" + '\\\\n' +\\n\")}scrub_(a,\nb,c=!1){let d=\"\";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(e=$.wrap$$module$build$src$core$utils$string(e,this.COMMENT_WRAP-3),d+=this.prefixLines(e+\"\\n\",\"// \"));for(let f=0;f<a.inputList.length;f++)a.inputList[f].type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=this.allNestedComments(e))&&(d+=this.prefixLines(e,\"// \"))}a=a.nextConnection&&a.nextConnection.targetBlock();c=c?\"\":this.blockToCode(a);\nreturn d+b+c}getAdjusted(a,b,c=0,d=!1,e=Order$$module$build$src$generators$javascript$javascript_generator.NONE){a.workspace.options.oneBasedIndex&&c--;const f=a.workspace.options.oneBasedIndex?\"1\":\"0\";let g=e;c>0?g=Order$$module$build$src$generators$javascript$javascript_generator.ADDITION:c<0?g=Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION:d&&(g=Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION);a=this.valueToCode(a,b,g)||f;if(c===\n0&&!d)return a;if($.isNumber$$module$build$src$core$utils$string(a))return a=String(Number(a)+c),d&&(a=String(-Number(a))),a;c>0?a=`${a} + ${c}`:c<0&&(a=`${a} - ${-c}`);d&&(a=c?`-(${a})`:`-${a}`);Math.floor(e)>=Math.floor(g)&&(a=`(${a})`);return a}},module$build$src$generators$javascript$javascript_generator={};module$build$src$generators$javascript$javascript_generator.JavascriptGenerator=JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;\nmodule$build$src$generators$javascript$javascript_generator.Order=Order$$module$build$src$generators$javascript$javascript_generator;var getSubstringIndex$$module$build$src$generators$javascript$lists=function(a,b,c){return b===\"FIRST\"?\"0\":b===\"FROM_END\"?a+\".length - 1 - \"+c:b===\"LAST\"?a+\".length - 1\":c},module$build$src$generators$javascript$lists={};module$build$src$generators$javascript$lists.lists_create_empty=lists_create_empty$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_create_with=lists_create_with$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_getIndex=lists_getIndex$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_getSublist=lists_getSublist$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_indexOf=lists_indexOf$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_isEmpty=lists_isEmpty$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_length=lists_length$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_repeat=lists_repeat$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_reverse=lists_reverse$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_setIndex=lists_setIndex$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_sort=lists_sort$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_split=lists_split$$module$build$src$generators$javascript$lists;var controls_ifelse$$module$build$src$generators$javascript$logic=controls_if$$module$build$src$generators$javascript$logic,module$build$src$generators$javascript$logic={};module$build$src$generators$javascript$logic.controls_if=controls_if$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.controls_ifelse=controls_if$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_boolean=logic_boolean$$module$build$src$generators$javascript$logic;\nmodule$build$src$generators$javascript$logic.logic_compare=logic_compare$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_negate=logic_negate$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_null=logic_null$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_operation=logic_operation$$module$build$src$generators$javascript$logic;\nmodule$build$src$generators$javascript$logic.logic_ternary=logic_ternary$$module$build$src$generators$javascript$logic;var controls_repeat$$module$build$src$generators$javascript$loops=controls_repeat_ext$$module$build$src$generators$javascript$loops,module$build$src$generators$javascript$loops={};module$build$src$generators$javascript$loops.controls_flow_statements=controls_flow_statements$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_for=controls_for$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_forEach=controls_forEach$$module$build$src$generators$javascript$loops;\nmodule$build$src$generators$javascript$loops.controls_repeat=controls_repeat_ext$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_repeat_ext=controls_repeat_ext$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_whileUntil=controls_whileUntil$$module$build$src$generators$javascript$loops;var math_round$$module$build$src$generators$javascript$math=math_single$$module$build$src$generators$javascript$math,math_trig$$module$build$src$generators$javascript$math=math_single$$module$build$src$generators$javascript$math,module$build$src$generators$javascript$math={};module$build$src$generators$javascript$math.math_arithmetic=math_arithmetic$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_atan2=math_atan2$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_change=math_change$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_constant=math_constant$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_constrain=math_constrain$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_modulo=math_modulo$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_number=math_number$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_number_property=math_number_property$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_on_list=math_on_list$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_random_float=math_random_float$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_random_int=math_random_int$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_round=math_single$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_single=math_single$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_trig=math_single$$module$build$src$generators$javascript$math;var procedures_defnoreturn$$module$build$src$generators$javascript$procedures=procedures_defreturn$$module$build$src$generators$javascript$procedures,module$build$src$generators$javascript$procedures={};module$build$src$generators$javascript$procedures.procedures_callnoreturn=procedures_callnoreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_callreturn=procedures_callreturn$$module$build$src$generators$javascript$procedures;\nmodule$build$src$generators$javascript$procedures.procedures_defnoreturn=procedures_defreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_defreturn=procedures_defreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_ifreturn=procedures_ifreturn$$module$build$src$generators$javascript$procedures;var strRegExp$$module$build$src$generators$javascript$text=/^\\s*'([^']|\\\\')*'\\s*$/,forceString$$module$build$src$generators$javascript$text=function(a){return strRegExp$$module$build$src$generators$javascript$text.test(a)?[a,Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]:[\"String(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},getSubstringIndex$$module$build$src$generators$javascript$text=function(a,b,c){return b===\"FIRST\"?\"0\":\nb===\"FROM_END\"?a+\".length - 1 - \"+c:b===\"LAST\"?a+\".length - 1\":c},text_prompt$$module$build$src$generators$javascript$text=text_prompt_ext$$module$build$src$generators$javascript$text,module$build$src$generators$javascript$text={};module$build$src$generators$javascript$text.text=text$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_append=text_append$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_changeCase=text_changeCase$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_charAt=text_charAt$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_count=text_count$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_getSubstring=text_getSubstring$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_indexOf=text_indexOf$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_isEmpty=text_isEmpty$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_join=text_join$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_length=text_length$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_print=text_print$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_prompt=text_prompt_ext$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_prompt_ext=text_prompt_ext$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_replace=text_replace$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_reverse=text_reverse$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_trim=text_trim$$module$build$src$generators$javascript$text;var module$build$src$generators$javascript$variables={};module$build$src$generators$javascript$variables.variables_get=variables_get$$module$build$src$generators$javascript$variables;module$build$src$generators$javascript$variables.variables_set=variables_set$$module$build$src$generators$javascript$variables;var module$build$src$generators$javascript$variables_dynamic={};module$build$src$generators$javascript$variables_dynamic.variables_get_dynamic=variables_get$$module$build$src$generators$javascript$variables;module$build$src$generators$javascript$variables_dynamic.variables_set_dynamic=variables_set$$module$build$src$generators$javascript$variables;var javascriptGenerator$$module$build$src$generators$javascript=new JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator,generators$$module$build$src$generators$javascript=Object.assign({},module$build$src$generators$javascript$lists,module$build$src$generators$javascript$logic,module$build$src$generators$javascript$loops,module$build$src$generators$javascript$math,module$build$src$generators$javascript$procedures,module$build$src$generators$javascript$text,module$build$src$generators$javascript$variables,\nmodule$build$src$generators$javascript$variables_dynamic);for(const a in generators$$module$build$src$generators$javascript)javascriptGenerator$$module$build$src$generators$javascript.forBlock[a]=generators$$module$build$src$generators$javascript[a];var module$build$src$generators$javascript={};module$build$src$generators$javascript.JavascriptGenerator=JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;module$build$src$generators$javascript.Order=Order$$module$build$src$generators$javascript$javascript_generator;\nmodule$build$src$generators$javascript.javascriptGenerator=javascriptGenerator$$module$build$src$generators$javascript;\nmodule$build$src$generators$javascript.__namespace__=$;\nreturn module$build$src$generators$javascript;\n}));\n\n\n//# sourceMappingURL=javascript_compressed.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvamF2YXNjcmlwdF9jb21wcmVzc2VkLmpzIiwibWFwcGluZ3MiOiJBQUFBLDBIQUEwQjs7QUFFMUI7QUFDQSxDQUFDO0FBQ0QsTUFBTSxJQUEwQyxJQUFJO0FBQ3BELElBQUksaUNBQU8sQ0FBQyxzR0FBeUIsQ0FBQyxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLGtHQUFDO0FBQ2hELElBQUksS0FBSyxFQUtOO0FBQ0gsQ0FBQztBQUNEO0FBQ0EsbUZBQW1GLHVGQUF1RiwrRUFBK0UsNEJBQTRCLFlBQVksZUFBZSxrSEFBa0gsdUdBQXVHO0FBQ3pnQix5RUFBeUU7QUFDekUsV0FBVyw2QkFBNkI7QUFDeEM7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxzR0FBc0csNEdBQTRHLDBFQUEwRTtBQUN6WSwyRkFBMkYsMkVBQTJFLGdOQUFnTiwyRUFBMkU7QUFDamMsd0dBQXdHLDZIQUE2SCxxTkFBcU47QUFDMWIsY0FBYyxnRkFBZ0Ysb01BQW9NLFVBQVUsb0hBQW9IO0FBQ2hhLG1DQUFtQyxJQUFJLE1BQU0sNkhBQTZILGlIQUFpSCxpQ0FBaUMsSUFBSSxNQUFNLDBDQUEwQywyR0FBMkc7QUFDM2QseUdBQXlHLDRDQUE0QyxJQUFJLE1BQU0sNkNBQTZDLDJIQUEySCxzSUFBc0ksNENBQTRDO0FBQ3pmLE1BQU07QUFDTixXQUFXLDZCQUE2QjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDBIQUEwSCwyQkFBMkIsSUFBSSx3REFBd0QsNEVBQTRFLGFBQWEsNkJBQTZCLG1IQUFtSCxJQUFJLElBQUksU0FBUztBQUN6ZSx3RkFBd0YsdUNBQXVDLDZDQUE2QyxvSEFBb0gsVUFBVSxnREFBZ0QsSUFBSSwwQ0FBMEMsSUFBSSxNQUFNLG1FQUFtRSxLQUFLO0FBQzFkLEtBQUssSUFBSSxNQUFNLDBDQUEwQyx1Q0FBdUMsSUFBSSxtREFB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RkFBZ0Y7QUFDNTRCLGlFQUFpRSxzS0FBc0ssbUdBQW1HO0FBQzFVLHlIQUF5SCxpSEFBaUgsK0dBQStHO0FBQ3pWLG1IQUFtSCxtSEFBbUgsNkdBQTZHO0FBQ25WLCtHQUErRyxxSEFBcUgseUhBQXlIO0FBQzdWLG1IQUFtSCw2R0FBNkcsd0RBQXdELCtIQUErSCwrSEFBK0gsZ0VBQWdFLCtJQUErSSwrSUFBK0ksd05BQXdOO0FBQzVrQywwREFBMEQsZ01BQWdNLDhDQUE4Qyw0SUFBNEk7QUFDcGI7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvamF2YXNjcmlwdF9jb21wcmVzc2VkLmpzP2VjNmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRG8gbm90IGVkaXQgdGhpcyBmaWxlOyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC5cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbXCIuL2Jsb2NrbHlfY29tcHJlc3NlZC5qc1wiXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vYmxvY2tseV9jb21wcmVzc2VkLmpzXCIpKTtcbiAgfSBlbHNlIHsgLy8gU2NyaXB0XG4gICAgcm9vdC5qYXZhc2NyaXB0ID0gZmFjdG9yeShyb290LkJsb2NrbHkpO1xuICAgIHJvb3QuQmxvY2tseS5KYXZhU2NyaXB0ID0gcm9vdC5qYXZhc2NyaXB0LmphdmFzY3JpcHRHZW5lcmF0b3I7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oX19wYXJlbnRfXykge1xudmFyICQ9X19wYXJlbnRfXy5fX25hbWVzcGFjZV9fO1xudmFyIGxpc3RzX2NyZWF0ZV9lbXB0eSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJbXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdfSxsaXN0c19jcmVhdGVfd2l0aCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPUFycmF5KGEuaXRlbUNvdW50Xyk7Zm9yKGxldCBkPTA7ZDxhLml0ZW1Db3VudF87ZCsrKWNbZF09Yi52YWx1ZVRvQ29kZShhLFwiQUREXCIrZCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwibnVsbFwiO3JldHVybltcIltcIitjLmpvaW4oXCIsIFwiKStcIl1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXX0sXG5saXN0c19yZXBlYXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnByb3ZpZGVGdW5jdGlvbl8oXCJsaXN0c1JlcGVhdFwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30odmFsdWUsIG4pIHtcbiAgdmFyIGFycmF5ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgYXJyYXlbaV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5gKSxkPWIudmFsdWVUb0NvZGUoYSxcIklURU1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwibnVsbFwiO2E9Yi52YWx1ZVRvQ29kZShhLFwiTlVNXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIjBcIjtyZXR1cm5bYytcIihcIitkK1wiLCBcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbGlzdHNfbGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe3JldHVyblsoYi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XG5cIltdXCIpK1wiLmxlbmd0aFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdfSxsaXN0c19pc0VtcHR5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe3JldHVybltcIiFcIisoYi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCJbXVwiKStcIi5sZW5ndGhcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9OT1RdfSxsaXN0c19pbmRleE9mJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9YS5nZXRGaWVsZFZhbHVlKFwiRU5EXCIpPT09XCJGSVJTVFwiP1wiaW5kZXhPZlwiOlwibGFzdEluZGV4T2ZcIixcbmQ9Yi52YWx1ZVRvQ29kZShhLFwiRklORFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO2I9KGIudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiW11cIikrXCIuXCIrYytcIihcIitkK1wiKVwiO3JldHVybiBhLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXg/W2IrXCIgKyAxXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFERElUSU9OXTpbYixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LGxpc3RzX2dldEluZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1cbmZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpfHxcIkdFVFwiLGQ9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkVcIil8fFwiRlJPTV9TVEFSVFwiO3ZhciBlPWIudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsZD09PVwiUkFORE9NXCI/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkU6T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiW11cIjtzd2l0Y2goZCl7Y2FzZSBcIkZJUlNUXCI6aWYoYz09PVwiR0VUXCIpcmV0dXJuW2UrXCJbMF1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSXTtpZihjPT09XCJHRVRfUkVNT1ZFXCIpcmV0dXJuW2UrXCIuc2hpZnQoKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdO1xuaWYoYz09PVwiUkVNT1ZFXCIpcmV0dXJuIGUrXCIuc2hpZnQoKTtcXG5cIjticmVhaztjYXNlIFwiTEFTVFwiOmlmKGM9PT1cIkdFVFwiKXJldHVybltlK1wiLnNsaWNlKC0xKVswXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdO2lmKGM9PT1cIkdFVF9SRU1PVkVcIilyZXR1cm5bZStcIi5wb3AoKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdO2lmKGM9PT1cIlJFTU9WRVwiKXJldHVybiBlK1wiLnBvcCgpO1xcblwiO2JyZWFrO2Nhc2UgXCJGUk9NX1NUQVJUXCI6YT1iLmdldEFkanVzdGVkKGEsXCJBVFwiKTtpZihjPT09XCJHRVRcIilyZXR1cm5bZStcIltcIithK1wiXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdO2lmKGM9PT1cIkdFVF9SRU1PVkVcIilyZXR1cm5bZStcblwiLnNwbGljZShcIithK1wiLCAxKVswXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXTtpZihjPT09XCJSRU1PVkVcIilyZXR1cm4gZStcIi5zcGxpY2UoXCIrYStcIiwgMSk7XFxuXCI7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6YT1iLmdldEFkanVzdGVkKGEsXCJBVFwiLDEsITApO2lmKGM9PT1cIkdFVFwiKXJldHVybltlK1wiLnNsaWNlKFwiK2ErXCIpWzBdXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdO2lmKGM9PT1cIkdFVF9SRU1PVkVcIilyZXR1cm5bZStcIi5zcGxpY2UoXCIrYStcIiwgMSlbMF1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07aWYoYz09PVwiUkVNT1ZFXCIpcmV0dXJuIGUrXCIuc3BsaWNlKFwiK2ErXCIsIDEpO1wiO1xuYnJlYWs7Y2FzZSBcIlJBTkRPTVwiOmU9Yi5wcm92aWRlRnVuY3Rpb25fKFwibGlzdHNHZXRSYW5kb21JdGVtXCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShsaXN0LCByZW1vdmUpIHtcbiAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCk7XG4gIGlmIChyZW1vdmUpIHtcbiAgICByZXR1cm4gbGlzdC5zcGxpY2UoeCwgMSlbMF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RbeF07XG4gIH1cbn1cbmApK1wiKFwiK2UrXCIsIFwiKyhjIT09XCJHRVRcIikrXCIpXCI7aWYoYz09PVwiR0VUXCJ8fGM9PT1cIkdFVF9SRU1PVkVcIilyZXR1cm5bZSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07aWYoYz09PVwiUkVNT1ZFXCIpcmV0dXJuIGUrXCI7XFxuXCJ9dGhyb3cgRXJyb3IoXCJVbmhhbmRsZWQgY29tYmluYXRpb24gKGxpc3RzX2dldEluZGV4KS5cIik7fSxsaXN0c19zZXRJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aWYoZC5tYXRjaCgvXlxcdyskLykpcmV0dXJuXCJcIjtjb25zdCBoPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoXCJ0bXBMaXN0XCIsJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFKSxrPVwidmFyIFwiK2grXCIgPSBcIitkK1wiO1xcblwiO2Q9aDtyZXR1cm4ga31sZXQgZD1iLnZhbHVlVG9Db2RlKGEsXG5cIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCJbXVwiO2NvbnN0IGU9YS5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKXx8XCJHRVRcIjt2YXIgZj1hLmdldEZpZWxkVmFsdWUoXCJXSEVSRVwiKXx8XCJGUk9NX1NUQVJUXCI7Y29uc3QgZz1iLnZhbHVlVG9Db2RlKGEsXCJUT1wiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCJudWxsXCI7c3dpdGNoKGYpe2Nhc2UgXCJGSVJTVFwiOmlmKGU9PT1cIlNFVFwiKXJldHVybiBkK1wiWzBdID0gXCIrZytcIjtcXG5cIjtpZihlPT09XCJJTlNFUlRcIilyZXR1cm4gZCtcIi51bnNoaWZ0KFwiK2crXCIpO1xcblwiO2JyZWFrO2Nhc2UgXCJMQVNUXCI6aWYoZT09PVwiU0VUXCIpcmV0dXJuIGMoKSsoZCtcIltcIitkK1wiLmxlbmd0aCAtIDFdID0gXCIrZytcIjtcXG5cIik7aWYoZT09PVwiSU5TRVJUXCIpcmV0dXJuIGQrXCIucHVzaChcIitcbmcrXCIpO1xcblwiO2JyZWFrO2Nhc2UgXCJGUk9NX1NUQVJUXCI6YT1iLmdldEFkanVzdGVkKGEsXCJBVFwiKTtpZihlPT09XCJTRVRcIilyZXR1cm4gZCtcIltcIithK1wiXSA9IFwiK2crXCI7XFxuXCI7aWYoZT09PVwiSU5TRVJUXCIpcmV0dXJuIGQrXCIuc3BsaWNlKFwiK2ErXCIsIDAsIFwiK2crXCIpO1xcblwiO2JyZWFrO2Nhc2UgXCJGUk9NX0VORFwiOmE9Yi5nZXRBZGp1c3RlZChhLFwiQVRcIiwxLCExLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTik7Zj1jKCk7aWYoZT09PVwiU0VUXCIpcmV0dXJuIGYrKGQrXCJbXCIrZCtcIi5sZW5ndGggLSBcIithK1wiXSA9IFwiK2crXCI7XFxuXCIpO2lmKGU9PT1cIklOU0VSVFwiKXJldHVybiBmKyhkK1wiLnNwbGljZShcIitkK1wiLmxlbmd0aCAtIFwiK2ErXCIsIDAsIFwiK2crXCIpO1xcblwiKTticmVhaztjYXNlIFwiUkFORE9NXCI6YT1jKCk7Zj1iLm5hbWVEQl8uZ2V0RGlzdGluY3ROYW1lKFwidG1wWFwiLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSk7XG5hKz1cInZhciBcIitmK1wiID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogXCIrZCtcIi5sZW5ndGgpO1xcblwiO2lmKGU9PT1cIlNFVFwiKXJldHVybiBhKyhkK1wiW1wiK2YrXCJdID0gXCIrZytcIjtcXG5cIik7aWYoZT09PVwiSU5TRVJUXCIpcmV0dXJuIGErKGQrXCIuc3BsaWNlKFwiK2YrXCIsIDAsIFwiK2crXCIpO1xcblwiKX10aHJvdyBFcnJvcihcIlVuaGFuZGxlZCBjb21iaW5hdGlvbiAobGlzdHNfc2V0SW5kZXgpLlwiKTt9LGxpc3RzX2dldFN1Ymxpc3QkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7dmFyIGM9e0ZJUlNUOlwiRmlyc3RcIixMQVNUOlwiTGFzdFwiLEZST01fU1RBUlQ6XCJGcm9tU3RhcnRcIixGUk9NX0VORDpcIkZyb21FbmRcIn0sZD1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiW11cIjtjb25zdCBlPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFMVwiKSxcbmY9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkUyXCIpO2lmKGU9PT1cIkZJUlNUXCImJmY9PT1cIkxBU1RcIilkKz1cIi5zbGljZSgwKVwiO2Vsc2UgaWYoZC5tYXRjaCgvXlxcdyskLyl8fGUhPT1cIkZST01fRU5EXCImJmY9PT1cIkZST01fU1RBUlRcIil7c3dpdGNoKGUpe2Nhc2UgXCJGUk9NX1NUQVJUXCI6Yz1iLmdldEFkanVzdGVkKGEsXCJBVDFcIik7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6Yz1iLmdldEFkanVzdGVkKGEsXCJBVDFcIiwxLCExLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTik7Yz1kK1wiLmxlbmd0aCAtIFwiK2M7YnJlYWs7Y2FzZSBcIkZJUlNUXCI6Yz1cIjBcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAobGlzdHNfZ2V0U3VibGlzdCkuXCIpO31zd2l0Y2goZil7Y2FzZSBcIkZST01fU1RBUlRcIjpiPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiLDEpO2JyZWFrO2Nhc2UgXCJGUk9NX0VORFwiOmI9XG5iLmdldEFkanVzdGVkKGEsXCJBVDJcIiwwLCExLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTik7Yj1kK1wiLmxlbmd0aCAtIFwiK2I7YnJlYWs7Y2FzZSBcIkxBU1RcIjpiPWQrXCIubGVuZ3RoXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuaGFuZGxlZCBvcHRpb24gKGxpc3RzX2dldFN1Ymxpc3QpLlwiKTt9ZD1kK1wiLnNsaWNlKFwiK2MrXCIsIFwiK2IrXCIpXCJ9ZWxzZXtjb25zdCBnPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiKTthPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiKTtkPWIucHJvdmlkZUZ1bmN0aW9uXyhcInN1YnNlcXVlbmNlXCIrY1tlXStjW2ZdLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30oc2VxdWVuY2Uke2U9PT1cIkZST01fRU5EXCJ8fGU9PT1cIkZST01fU1RBUlRcIj9cIiwgYXQxXCI6XCJcIn0ke2Y9PT1cIkZST01fRU5EXCJ8fGY9PT1cIkZST01fU1RBUlRcIj9cIiwgYXQyXCI6XCJcIn0pIHtcbiAgdmFyIHN0YXJ0ID0gJHtnZXRTdWJzdHJpbmdJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMoXCJzZXF1ZW5jZVwiLGUsXCJhdDFcIil9O1xuICB2YXIgZW5kID0gJHtnZXRTdWJzdHJpbmdJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMoXCJzZXF1ZW5jZVwiLGYsXCJhdDJcIil9ICsgMTtcbiAgcmV0dXJuIHNlcXVlbmNlLnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuYCkrXCIoXCIrZCsoZT09PVwiRlJPTV9FTkRcInx8ZT09PVwiRlJPTV9TVEFSVFwiP1wiLCBcIitnOlwiXCIpKyhmPT09XCJGUk9NX0VORFwifHxmPT09XCJGUk9NX1NUQVJUXCI/XCIsIFwiK2E6XCJcIikrXCIpXCJ9cmV0dXJuW2QsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxsaXN0c19zb3J0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMKXx8XCJbXVwiLGQ9YS5nZXRGaWVsZFZhbHVlKFwiRElSRUNUSU9OXCIpPT09XCIxXCI/MTotMTthPWEuZ2V0RmllbGRWYWx1ZShcIlRZUEVcIik7Yj1iLnByb3ZpZGVGdW5jdGlvbl8oXCJsaXN0c0dldFNvcnRDb21wYXJlXCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffSh0eXBlLCBkaXJlY3Rpb24pIHtcbiAgdmFyIGNvbXBhcmVGdW5jcyA9IHtcbiAgICAnTlVNRVJJQyc6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihhKSAtIE51bWJlcihiKTsgfSxcbiAgICAnVEVYVCc6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhhKSA+IFN0cmluZyhiKSA/IDEgOiAtMTsgfSxcbiAgICAnSUdOT1JFX0NBU0UnOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoYSkudG9Mb3dlckNhc2UoKSA+IFN0cmluZyhiKS50b0xvd2VyQ2FzZSgpID8gMSA6IC0xOyB9LFxuICB9O1xuICB2YXIgY29tcGFyZSA9IGNvbXBhcmVGdW5jc1t0eXBlXTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGNvbXBhcmUoYSwgYikgKiBkaXJlY3Rpb247IH07XG59XG4gICAgICBgKTtyZXR1cm5bYytcIi5zbGljZSgpLnNvcnQoXCIrYisnKFwiJythKydcIiwgJytkK1wiKSlcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LGxpc3RzX3NwbGl0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe2xldCBjPWIudmFsdWVUb0NvZGUoYSxcIklOUFVUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUik7Yj1iLnZhbHVlVG9Db2RlKGEsXCJERUxJTVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO2E9YS5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKTtpZihhPT09XCJTUExJVFwiKWN8fChjPVwiJydcIiksYT1cInNwbGl0XCI7ZWxzZSBpZihhPT09XCJKT0lOXCIpY3x8XG4oYz1cIltdXCIpLGE9XCJqb2luXCI7ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gbW9kZTogXCIrYSk7cmV0dXJuW2MrXCIuXCIrYStcIihcIitiK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbGlzdHNfcmV2ZXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bKGIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTCl8fFwiW11cIikrXCIuc2xpY2UoKS5yZXZlcnNlKClcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LGNvbnRyb2xzX2lmJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz1cbmZ1bmN0aW9uKGEsYil7dmFyIGM9MDtsZXQgZD1cIlwiO2IuU1RBVEVNRU5UX1BSRUZJWCYmKGQrPWIuaW5qZWN0SWQoYi5TVEFURU1FTlRfUFJFRklYLGEpKTtkb3tjb25zdCBlPWIudmFsdWVUb0NvZGUoYSxcIklGXCIrYyxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiZmFsc2VcIjtsZXQgZj1iLnN0YXRlbWVudFRvQ29kZShhLFwiRE9cIitjKTtiLlNUQVRFTUVOVF9TVUZGSVgmJihmPWIucHJlZml4TGluZXMoYi5pbmplY3RJZChiLlNUQVRFTUVOVF9TVUZGSVgsYSksYi5JTkRFTlQpK2YpO2QrPShjPjA/XCIgZWxzZSBcIjpcIlwiKStcImlmIChcIitlK1wiKSB7XFxuXCIrZitcIn1cIjtjKyt9d2hpbGUoYS5nZXRJbnB1dChcIklGXCIrYykpO2lmKGEuZ2V0SW5wdXQoXCJFTFNFXCIpfHxiLlNUQVRFTUVOVF9TVUZGSVgpYz1hLmdldElucHV0KFwiRUxTRVwiKT9iLnN0YXRlbWVudFRvQ29kZShhLFwiRUxTRVwiKTpcIlwiLGIuU1RBVEVNRU5UX1NVRkZJWCYmXG4oYz1iLnByZWZpeExpbmVzKGIuaW5qZWN0SWQoYi5TVEFURU1FTlRfU1VGRklYLGEpLGIuSU5ERU5UKStjKSxkKz1cIiBlbHNlIHtcXG5cIitjK1wifVwiO3JldHVybiBkK1wiXFxuXCJ9LGxvZ2ljX2NvbXBhcmUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz17RVE6XCI9PVwiLE5FUTpcIiE9XCIsTFQ6XCI8XCIsTFRFOlwiPD1cIixHVDpcIj5cIixHVEU6XCI+PVwifVthLmdldEZpZWxkVmFsdWUoXCJPUFwiKV0sZD1jPT09XCI9PVwifHxjPT09XCIhPVwiP09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5FUVVBTElUWTpPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuUkVMQVRJT05BTCxlPWIudmFsdWVUb0NvZGUoYSxcIkFcIixkKXx8XCIwXCI7YT1iLnZhbHVlVG9Db2RlKGEsXCJCXCIsZCl8fFwiMFwiO3JldHVybltlK1wiIFwiK1xuYytcIiBcIithLGRdfSxsb2dpY19vcGVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEZpZWxkVmFsdWUoXCJPUFwiKT09PVwiQU5EXCI/XCImJlwiOlwifHxcIixkPWM9PT1cIiYmXCI/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfQU5EOk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX09SO2xldCBlPWIudmFsdWVUb0NvZGUoYSxcIkFcIixkKTthPWIudmFsdWVUb0NvZGUoYSxcIkJcIixkKTtlfHxhPyhiPWM9PT1cIiYmXCI/XCJ0cnVlXCI6XCJmYWxzZVwiLGV8fChlPWIpLGF8fChhPWIpKTphPWU9XCJmYWxzZVwiO3JldHVybltlK1wiIFwiK2MrXCIgXCIrYSxkXX0sbG9naWNfbmVnYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz1cbmZ1bmN0aW9uKGEsYil7Y29uc3QgYz1PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9OT1Q7cmV0dXJuW1wiIVwiKyhiLnZhbHVlVG9Db2RlKGEsXCJCT09MXCIsYyl8fFwidHJ1ZVwiKSxjXX0sbG9naWNfYm9vbGVhbiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bYS5nZXRGaWVsZFZhbHVlKFwiQk9PTFwiKT09PVwiVFJVRVwiP1widHJ1ZVwiOlwiZmFsc2VcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXX0sbG9naWNfbnVsbCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJudWxsXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFUT01JQ119LFxubG9naWNfdGVybmFyeSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIudmFsdWVUb0NvZGUoYSxcIklGXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkNPTkRJVElPTkFMKXx8XCJmYWxzZVwiLGQ9Yi52YWx1ZVRvQ29kZShhLFwiVEhFTlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5DT05ESVRJT05BTCl8fFwibnVsbFwiO2E9Yi52YWx1ZVRvQ29kZShhLFwiRUxTRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5DT05ESVRJT05BTCl8fFwibnVsbFwiO3JldHVybltjK1wiID8gXCIrZCtcIiA6IFwiK2EsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkNPTkRJVElPTkFMXX0sXG5jb250cm9sc19yZXBlYXRfZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcz1mdW5jdGlvbihhLGIpe2xldCBjO2M9YS5nZXRGaWVsZChcIlRJTUVTXCIpP1N0cmluZyhOdW1iZXIoYS5nZXRGaWVsZFZhbHVlKFwiVElNRVNcIikpKTpiLnZhbHVlVG9Db2RlKGEsXCJUSU1FU1wiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCIwXCI7bGV0IGQ9Yi5zdGF0ZW1lbnRUb0NvZGUoYSxcIkRPXCIpO2Q9Yi5hZGRMb29wVHJhcChkLGEpO2E9XCJcIjtjb25zdCBlPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoXCJjb3VudFwiLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSk7bGV0IGY9YztjLm1hdGNoKC9eXFx3KyQvKXx8JC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhjKXx8KGY9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShcInJlcGVhdF9lbmRcIixcbiQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSksYSs9XCJ2YXIgXCIrZitcIiA9IFwiK2MrXCI7XFxuXCIpO3JldHVybiBhKyhcImZvciAodmFyIFwiK2UrXCIgPSAwOyBcIitlK1wiIDwgXCIrZitcIjsgXCIrZStcIisrKSB7XFxuXCIrZCtcIn1cXG5cIil9LGNvbnRyb2xzX3doaWxlVW50aWwkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpPT09XCJVTlRJTFwiO2xldCBkPWIudmFsdWVUb0NvZGUoYSxcIkJPT0xcIixjP09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX05PVDpPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiZmFsc2VcIixlPWIuc3RhdGVtZW50VG9Db2RlKGEsXCJET1wiKTtlPWIuYWRkTG9vcFRyYXAoZSxcbmEpO2MmJihkPVwiIVwiK2QpO3JldHVyblwid2hpbGUgKFwiK2QrXCIpIHtcXG5cIitlK1wifVxcblwifSxjb250cm9sc19mb3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRWYXJpYWJsZU5hbWUoYS5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpKSxkPWIudmFsdWVUb0NvZGUoYSxcIkZST01cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVNTSUdOTUVOVCl8fFwiMFwiLGU9Yi52YWx1ZVRvQ29kZShhLFwiVE9cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVNTSUdOTUVOVCl8fFwiMFwiO2NvbnN0IGY9Yi52YWx1ZVRvQ29kZShhLFwiQllcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVNTSUdOTUVOVCl8fFwiMVwiO1xubGV0IGc9Yi5zdGF0ZW1lbnRUb0NvZGUoYSxcIkRPXCIpO2c9Yi5hZGRMb29wVHJhcChnLGEpO2lmKCQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZCkmJiQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZSkmJiQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZikpYj1OdW1iZXIoZCk8PU51bWJlcihlKSxhPVwiZm9yIChcIitjK1wiID0gXCIrZCtcIjsgXCIrYysoYj9cIiA8PSBcIjpcIiA+PSBcIikrZStcIjsgXCIrYyxjPU1hdGguYWJzKE51bWJlcihmKSksYT1jPT09MT9hKyhiP1wiKytcIjpcIi0tXCIpOmErKChiP1wiICs9IFwiOlwiIC09IFwiKStjKSxhKz1cIikge1xcblwiK2crXCJ9XFxuXCI7ZWxzZXthPVwiXCI7bGV0IGg9ZDtkLm1hdGNoKC9eXFx3KyQvKXx8JC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhkKXx8KGg9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShjK1wiX3N0YXJ0XCIsXG4kLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpLGErPVwidmFyIFwiK2grXCIgPSBcIitkK1wiO1xcblwiKTtkPWU7ZS5tYXRjaCgvXlxcdyskLyl8fCQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZSl8fChkPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoYytcIl9lbmRcIiwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpLGErPVwidmFyIFwiK2QrXCIgPSBcIitlK1wiO1xcblwiKTtlPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoYytcIl9pbmNcIiwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpO2ErPVwidmFyIFwiK2UrXCIgPSBcIjthPSQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZik/YSsoTWF0aC5hYnMoTnVtYmVyKGYpKStcIjtcXG5cIik6YSsoXCJNYXRoLmFicyhcIitmK1wiKTtcXG5cIik7YSs9XCJpZiAoXCIraCtcIiA+IFwiK2QrXCIpIHtcXG5cIjtcbmErPWIuSU5ERU5UK2UrXCIgPSAtXCIrZStcIjtcXG5cIjthPWErXCJ9XFxuZm9yIChcIisoYytcIiA9IFwiK2grXCI7IFwiK2UrXCIgPj0gMCA/IFwiK2MrXCIgPD0gXCIrZCtcIiA6IFwiK2MrXCIgPj0gXCIrZCtcIjsgXCIrYytcIiArPSBcIitlK1wiKSB7XFxuXCIrZytcIn1cXG5cIil9cmV0dXJuIGF9LGNvbnRyb2xzX2ZvckVhY2gkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLmdldFZhcmlhYmxlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIikpO3ZhciBkPWIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVNTSUdOTUVOVCl8fFwiW11cIjtsZXQgZT1iLnN0YXRlbWVudFRvQ29kZShhLFwiRE9cIik7ZT1iLmFkZExvb3BUcmFwKGUsYSk7YT1cIlwiO2xldCBmPWQ7ZC5tYXRjaCgvXlxcdyskLyl8fChmPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoYytcIl9saXN0XCIsXG4kLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpLGErPVwidmFyIFwiK2YrXCIgPSBcIitkK1wiO1xcblwiKTtkPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoYytcIl9pbmRleFwiLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSk7ZT1iLklOREVOVCtjK1wiID0gXCIrZitcIltcIitkK1wiXTtcXG5cIitlO3JldHVybiBhKyhcImZvciAodmFyIFwiK2QrXCIgaW4gXCIrZitcIikge1xcblwiK2UrXCJ9XFxuXCIpfSxjb250cm9sc19mbG93X3N0YXRlbWVudHMkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzPWZ1bmN0aW9uKGEsYil7bGV0IGM9XCJcIjtiLlNUQVRFTUVOVF9QUkVGSVgmJihjKz1iLmluamVjdElkKGIuU1RBVEVNRU5UX1BSRUZJWCxhKSk7Yi5TVEFURU1FTlRfU1VGRklYJiYoYys9Yi5pbmplY3RJZChiLlNUQVRFTUVOVF9TVUZGSVgsYSkpO2lmKGIuU1RBVEVNRU5UX1BSRUZJWCl7Y29uc3QgZD1hLmdldFN1cnJvdW5kTG9vcCgpO1xuZCYmIWQuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJihjKz1iLmluamVjdElkKGIuU1RBVEVNRU5UX1BSRUZJWCxkKSl9c3dpdGNoKGEuZ2V0RmllbGRWYWx1ZShcIkZMT1dcIikpe2Nhc2UgXCJCUkVBS1wiOnJldHVybiBjK1wiYnJlYWs7XFxuXCI7Y2FzZSBcIkNPTlRJTlVFXCI6cmV0dXJuIGMrXCJjb250aW51ZTtcXG5cIn10aHJvdyBFcnJvcihcIlVua25vd24gZmxvdyBzdGF0ZW1lbnQuXCIpO30sbWF0aF9udW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXthPU51bWJlcihhLmdldEZpZWxkVmFsdWUoXCJOVU1cIikpO3JldHVybltTdHJpbmcoYSksYT49MD9PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDOk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5VTkFSWV9ORUdBVElPTl19LG1hdGhfYXJpdGhtZXRpYyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1cbmZ1bmN0aW9uKGEsYil7dmFyIGM9e0FERDpbXCIgKyBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQURESVRJT05dLE1JTlVTOltcIiAtIFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTl0sTVVMVElQTFk6W1wiICogXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1VTFRJUExJQ0FUSU9OXSxESVZJREU6W1wiIC8gXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkRJVklTSU9OXSxQT1dFUjpbbnVsbCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORV19W2EuZ2V0RmllbGRWYWx1ZShcIk9QXCIpXTtcbmNvbnN0IGQ9Y1swXTtjPWNbMV07Y29uc3QgZT1iLnZhbHVlVG9Db2RlKGEsXCJBXCIsYyl8fFwiMFwiO2E9Yi52YWx1ZVRvQ29kZShhLFwiQlwiLGMpfHxcIjBcIjtyZXR1cm4gZD9bZStkK2EsY106W1wiTWF0aC5wb3coXCIrZStcIiwgXCIrYStcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LG1hdGhfc2luZ2xlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEZpZWxkVmFsdWUoXCJPUFwiKTtsZXQgZDtpZihjPT09XCJORUdcIilyZXR1cm4gYT1iLnZhbHVlVG9Db2RlKGEsXCJOVU1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuVU5BUllfTkVHQVRJT04pfHxcIjBcIixhWzBdPT09XCItXCImJihhPVwiIFwiK2EpLFtcIi1cIithLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5VTkFSWV9ORUdBVElPTl07XG5hPWM9PT1cIlNJTlwifHxjPT09XCJDT1NcInx8Yz09PVwiVEFOXCI/Yi52YWx1ZVRvQ29kZShhLFwiTlVNXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkRJVklTSU9OKXx8XCIwXCI6Yi52YWx1ZVRvQ29kZShhLFwiTlVNXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIjBcIjtzd2l0Y2goYyl7Y2FzZSBcIkFCU1wiOmQ9XCJNYXRoLmFicyhcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJST09UXCI6ZD1cIk1hdGguc3FydChcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJMTlwiOmQ9XCJNYXRoLmxvZyhcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJFWFBcIjpkPVwiTWF0aC5leHAoXCIrYStcIilcIjticmVhaztjYXNlIFwiUE9XMTBcIjpkPVwiTWF0aC5wb3coMTAsXCIrYStcIilcIjticmVhaztjYXNlIFwiUk9VTkRcIjpkPVwiTWF0aC5yb3VuZChcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJST1VORFVQXCI6ZD1cIk1hdGguY2VpbChcIitcbmErXCIpXCI7YnJlYWs7Y2FzZSBcIlJPVU5ERE9XTlwiOmQ9XCJNYXRoLmZsb29yKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIlNJTlwiOmQ9XCJNYXRoLnNpbihcIithK1wiIC8gMTgwICogTWF0aC5QSSlcIjticmVhaztjYXNlIFwiQ09TXCI6ZD1cIk1hdGguY29zKFwiK2ErXCIgLyAxODAgKiBNYXRoLlBJKVwiO2JyZWFrO2Nhc2UgXCJUQU5cIjpkPVwiTWF0aC50YW4oXCIrYStcIiAvIDE4MCAqIE1hdGguUEkpXCJ9aWYoZClyZXR1cm5bZCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07c3dpdGNoKGMpe2Nhc2UgXCJMT0cxMFwiOmQ9XCJNYXRoLmxvZyhcIithK1wiKSAvIE1hdGgubG9nKDEwKVwiO2JyZWFrO2Nhc2UgXCJBU0lOXCI6ZD1cIk1hdGguYXNpbihcIithK1wiKSAvIE1hdGguUEkgKiAxODBcIjticmVhaztjYXNlIFwiQUNPU1wiOmQ9XCJNYXRoLmFjb3MoXCIrYStcIikgLyBNYXRoLlBJICogMTgwXCI7YnJlYWs7Y2FzZSBcIkFUQU5cIjpkPVwiTWF0aC5hdGFuKFwiK1xuYStcIikgLyBNYXRoLlBJICogMTgwXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gbWF0aCBvcGVyYXRvcjogXCIrYyk7fXJldHVybltkLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5ESVZJU0lPTl19LG1hdGhfY29uc3RhbnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm57UEk6W1wiTWF0aC5QSVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdLEU6W1wiTWF0aC5FXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl0sR09MREVOX1JBVElPOltcIigxICsgTWF0aC5zcXJ0KDUpKSAvIDJcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRElWSVNJT05dLFxuU1FSVDI6W1wiTWF0aC5TUVJUMlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdLFNRUlQxXzI6W1wiTWF0aC5TUVJUMV8yXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl0sSU5GSU5JVFk6W1wiSW5maW5pdHlcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXX1bYS5nZXRGaWVsZFZhbHVlKFwiQ09OU1RBTlRcIildfSxtYXRoX251bWJlcl9wcm9wZXJ0eSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPXtFVkVOOltcIiAlIDIgPT09IDBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVUyxcbk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5FUVVBTElUWV0sT0REOltcIiAlIDIgPT09IDFcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVUyxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRVFVQUxJVFldLFdIT0xFOltcIiAlIDEgPT09IDBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVUyxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRVFVQUxJVFldLFBPU0lUSVZFOltcIiA+IDBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuUkVMQVRJT05BTCxcbk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5SRUxBVElPTkFMXSxORUdBVElWRTpbXCIgPCAwXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlJFTEFUSU9OQUwsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlJFTEFUSU9OQUxdLERJVklTSUJMRV9CWTpbbnVsbCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVUyxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRVFVQUxJVFldLFBSSU1FOltudWxsLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FLFxuT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfTtjb25zdCBkPWEuZ2V0RmllbGRWYWx1ZShcIlBST1BFUlRZXCIpLFtlLGYsZ109Y1tkXTtjPWIudmFsdWVUb0NvZGUoYSxcIk5VTUJFUl9UT19DSEVDS1wiLGYpfHxcIjBcIjtkPT09XCJQUklNRVwiP2E9Yi5wcm92aWRlRnVuY3Rpb25fKFwibWF0aElzUHJpbWVcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KG4pIHtcbiAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJpbWFsaXR5X3Rlc3QjTmFpdmVfbWV0aG9kc1xuICBpZiAobiA9PSAyIHx8IG4gPT0gMykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIEZhbHNlIGlmIG4gaXMgTmFOLCBuZWdhdGl2ZSwgaXMgMSwgb3Igbm90IHdob2xlLlxuICAvLyBBbmQgZmFsc2UgaWYgbiBpcyBkaXZpc2libGUgYnkgMiBvciAzLlxuICBpZiAoaXNOYU4obikgfHwgbiA8PSAxIHx8IG4gJSAxICE9PSAwIHx8IG4gJSAyID09PSAwIHx8IG4gJSAzID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIENoZWNrIGFsbCB0aGUgbnVtYmVycyBvZiBmb3JtIDZrICsvLSAxLCB1cCB0byBzcXJ0KG4pLlxuICBmb3IgKHZhciB4ID0gNjsgeCA8PSBNYXRoLnNxcnQobikgKyAxOyB4ICs9IDYpIHtcbiAgICBpZiAobiAlICh4IC0gMSkgPT09IDAgfHwgbiAlICh4ICsgMSkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5gKStcIihcIitjK1wiKVwiOmQ9PT1cIkRJVklTSUJMRV9CWVwiPyhhPWIudmFsdWVUb0NvZGUoYSxcIkRJVklTT1JcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVUyl8fFwiMFwiLGE9YytcIiAlIFwiK2ErXCIgPT09IDBcIik6YT1jK2U7cmV0dXJuW2EsZ119LG1hdGhfY2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJERUxUQVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BRERJVElPTil8fFwiMFwiO2E9Yi5nZXRWYXJpYWJsZU5hbWUoYS5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpKTtyZXR1cm4gYStcIiA9ICh0eXBlb2YgXCIrYStcIiA9PT0gJ251bWJlcicgPyBcIithK1wiIDogMCkgKyBcIitjK1wiO1xcblwifSxtYXRoX29uX2xpc3QkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9XG5mdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0RmllbGRWYWx1ZShcIk9QXCIpO3N3aXRjaChjKXtjYXNlIFwiU1VNXCI6YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiW11cIjthKz1cIi5yZWR1Y2UoZnVuY3Rpb24oeCwgeSkge3JldHVybiB4ICsgeTt9LCAwKVwiO2JyZWFrO2Nhc2UgXCJNSU5cIjphPWIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiW11cIjthPVwiTWF0aC5taW4uYXBwbHkobnVsbCwgXCIrYStcIilcIjticmVhaztjYXNlIFwiTUFYXCI6YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIltdXCI7YT1cIk1hdGgubWF4LmFwcGx5KG51bGwsIFwiK1xuYStcIilcIjticmVhaztjYXNlIFwiQVZFUkFHRVwiOmM9Yi5wcm92aWRlRnVuY3Rpb25fKFwibWF0aE1lYW5cIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KG15TGlzdCkge1xuICByZXR1cm4gbXlMaXN0LnJlZHVjZShmdW5jdGlvbih4LCB5KSB7cmV0dXJuIHggKyB5O30sIDApIC8gbXlMaXN0Lmxlbmd0aDtcbn1cbmApO2E9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJbXVwiO2E9YytcIihcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJNRURJQU5cIjpjPWIucHJvdmlkZUZ1bmN0aW9uXyhcIm1hdGhNZWRpYW5cIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KG15TGlzdCkge1xuICB2YXIgbG9jYWxMaXN0ID0gbXlMaXN0LmZpbHRlcihmdW5jdGlvbiAoeCkge3JldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcic7fSk7XG4gIGlmICghbG9jYWxMaXN0Lmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gIGxvY2FsTGlzdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtyZXR1cm4gYiAtIGE7fSk7XG4gIGlmIChsb2NhbExpc3QubGVuZ3RoICUgMiA9PT0gMCkge1xuICAgIHJldHVybiAobG9jYWxMaXN0W2xvY2FsTGlzdC5sZW5ndGggLyAyIC0gMV0gKyBsb2NhbExpc3RbbG9jYWxMaXN0Lmxlbmd0aCAvIDJdKSAvIDI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxvY2FsTGlzdFsobG9jYWxMaXN0Lmxlbmd0aCAtIDEpIC8gMl07XG4gIH1cbn1cbmApO2E9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJbXVwiO2E9YytcIihcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJNT0RFXCI6Yz1iLnByb3ZpZGVGdW5jdGlvbl8oXCJtYXRoTW9kZXNcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KHZhbHVlcykge1xuICB2YXIgbW9kZXMgPSBbXTtcbiAgdmFyIGNvdW50cyA9IFtdO1xuICB2YXIgbWF4Q291bnQgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICB2YXIgdGhpc0NvdW50O1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY291bnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoY291bnRzW2pdWzBdID09PSB2YWx1ZSkge1xuICAgICAgICB0aGlzQ291bnQgPSArK2NvdW50c1tqXVsxXTtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgY291bnRzLnB1c2goW3ZhbHVlLCAxXSk7XG4gICAgICB0aGlzQ291bnQgPSAxO1xuICAgIH1cbiAgICBtYXhDb3VudCA9IE1hdGgubWF4KHRoaXNDb3VudCwgbWF4Q291bnQpO1xuICB9XG4gIGZvciAodmFyIGogPSAwOyBqIDwgY291bnRzLmxlbmd0aDsgaisrKSB7XG4gICAgaWYgKGNvdW50c1tqXVsxXSA9PT0gbWF4Q291bnQpIHtcbiAgICAgIG1vZGVzLnB1c2goY291bnRzW2pdWzBdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZGVzO1xufVxuYCk7YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIltdXCI7YT1jK1wiKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIlNURF9ERVZcIjpjPWIucHJvdmlkZUZ1bmN0aW9uXyhcIm1hdGhTdGFuZGFyZERldmlhdGlvblwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30obnVtYmVycykge1xuICB2YXIgbiA9IG51bWJlcnMubGVuZ3RoO1xuICBpZiAoIW4pIHJldHVybiBudWxsO1xuICB2YXIgbWVhbiA9IG51bWJlcnMucmVkdWNlKGZ1bmN0aW9uKHgsIHkpIHtyZXR1cm4geCArIHk7fSkgLyBuO1xuICB2YXIgdmFyaWFuY2UgPSAwO1xuICBmb3IgKHZhciBqID0gMDsgaiA8IG47IGorKykge1xuICAgIHZhcmlhbmNlICs9IE1hdGgucG93KG51bWJlcnNbal0gLSBtZWFuLCAyKTtcbiAgfVxuICB2YXJpYW5jZSAvPSBuO1xuICByZXR1cm4gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcbn1cbmApO2E9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJbXVwiO2E9YytcIihcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJSQU5ET01cIjpjPWIucHJvdmlkZUZ1bmN0aW9uXyhcIm1hdGhSYW5kb21MaXN0XCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShsaXN0KSB7XG4gIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGlzdC5sZW5ndGgpO1xuICByZXR1cm4gbGlzdFt4XTtcbn1cbmApO2E9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJbXVwiO2E9YytcIihcIithK1wiKVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIG9wZXJhdG9yOiBcIitjKTt9cmV0dXJuW2EsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxtYXRoX21vZHVsbyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi52YWx1ZVRvQ29kZShhLFwiRElWSURFTkRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVUyl8fFwiMFwiO2E9Yi52YWx1ZVRvQ29kZShhLFwiRElWSVNPUlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTKXx8XG5cIjBcIjtyZXR1cm5bYytcIiAlIFwiK2EsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1PRFVMVVNdfSxtYXRoX2NvbnN0cmFpbiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiLGQ9Yi52YWx1ZVRvQ29kZShhLFwiTE9XXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIjBcIjthPWIudmFsdWVUb0NvZGUoYSxcIkhJR0hcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiSW5maW5pdHlcIjtyZXR1cm5bXCJNYXRoLm1pbihNYXRoLm1heChcIitcbmMrXCIsIFwiK2QrXCIpLCBcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbWF0aF9yYW5kb21faW50JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJGUk9NXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIjBcIjthPWIudmFsdWVUb0NvZGUoYSxcIlRPXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIjBcIjtyZXR1cm5bYi5wcm92aWRlRnVuY3Rpb25fKFwibWF0aFJhbmRvbUludFwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30oYSwgYikge1xuICBpZiAoYSA+IGIpIHtcbiAgICAvLyBTd2FwIGEgYW5kIGIgdG8gZW5zdXJlIGEgaXMgc21hbGxlci5cbiAgICB2YXIgYyA9IGE7XG4gICAgYSA9IGI7XG4gICAgYiA9IGM7XG4gIH1cbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChiIC0gYSArIDEpICsgYSk7XG59XG5gKStcIihcIitjK1wiLCBcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbWF0aF9yYW5kb21fZmxvYXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCJNYXRoLnJhbmRvbSgpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxtYXRoX2F0YW4yJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJYXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIjBcIjtyZXR1cm5bXCJNYXRoLmF0YW4yKFwiKyhiLnZhbHVlVG9Db2RlKGEsXCJZXCIsXG5PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiKStcIiwgXCIrYytcIikgLyBNYXRoLlBJICogMTgwXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkRJVklTSU9OXX0scHJvY2VkdXJlc19kZWZyZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIuZ2V0UHJvY2VkdXJlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpKTt2YXIgZD1cIlwiO2IuU1RBVEVNRU5UX1BSRUZJWCYmKGQrPWIuaW5qZWN0SWQoYi5TVEFURU1FTlRfUFJFRklYLGEpKTtiLlNUQVRFTUVOVF9TVUZGSVgmJihkKz1iLmluamVjdElkKGIuU1RBVEVNRU5UX1NVRkZJWCxhKSk7ZCYmKGQ9Yi5wcmVmaXhMaW5lcyhkLGIuSU5ERU5UKSk7bGV0IGU9XCJcIjtiLklORklOSVRFX0xPT1BfVFJBUCYmXG4oZT1iLnByZWZpeExpbmVzKGIuaW5qZWN0SWQoYi5JTkZJTklURV9MT09QX1RSQVAsYSksYi5JTkRFTlQpKTtsZXQgZj1cIlwiO2EuZ2V0SW5wdXQoXCJTVEFDS1wiKSYmKGY9Yi5zdGF0ZW1lbnRUb0NvZGUoYSxcIlNUQUNLXCIpKTtsZXQgZz1cIlwiO2EuZ2V0SW5wdXQoXCJSRVRVUk5cIikmJihnPWIudmFsdWVUb0NvZGUoYSxcIlJFVFVSTlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJcIik7bGV0IGg9XCJcIjtmJiZnJiYoaD1kKTtnJiYoZz1iLklOREVOVCtcInJldHVybiBcIitnK1wiO1xcblwiKTtjb25zdCBrPVtdLGw9YS5nZXRWYXJzKCk7Zm9yKGxldCBtPTA7bTxsLmxlbmd0aDttKyspa1ttXT1iLmdldFZhcmlhYmxlTmFtZShsW21dKTtkPVwiZnVuY3Rpb24gXCIrYytcIihcIitrLmpvaW4oXCIsIFwiKStcIikge1xcblwiK2QrZStmK2grZytcIn1cIjtkPWIuc2NydWJfKGEsZCk7Yi5kZWZpbml0aW9uc19bXCIlXCIrY109ZDtyZXR1cm4gbnVsbH0sXG5wcm9jZWR1cmVzX2NhbGxyZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIuZ2V0UHJvY2VkdXJlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpKSxkPVtdLGU9YS5nZXRWYXJzKCk7Zm9yKGxldCBmPTA7ZjxlLmxlbmd0aDtmKyspZFtmXT1iLnZhbHVlVG9Db2RlKGEsXCJBUkdcIitmLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJudWxsXCI7cmV0dXJuW2MrXCIoXCIrZC5qb2luKFwiLCBcIikrXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxwcm9jZWR1cmVzX2NhbGxub3JldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIpe3JldHVybiBiLmZvckJsb2NrLnByb2NlZHVyZXNfY2FsbHJldHVybihhLFxuYilbMF0rXCI7XFxuXCJ9LHByb2NlZHVyZXNfaWZyZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtsZXQgYz1cImlmIChcIisoYi52YWx1ZVRvQ29kZShhLFwiQ09ORElUSU9OXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcImZhbHNlXCIpK1wiKSB7XFxuXCI7Yi5TVEFURU1FTlRfU1VGRklYJiYoYys9Yi5wcmVmaXhMaW5lcyhiLmluamVjdElkKGIuU1RBVEVNRU5UX1NVRkZJWCxhKSxiLklOREVOVCkpO2EuaGFzUmV0dXJuVmFsdWVfPyhhPWIudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIm51bGxcIixjKz1iLklOREVOVCtcInJldHVybiBcIithK1wiO1xcblwiKTpjKz1iLklOREVOVCtcInJldHVybjtcXG5cIjtyZXR1cm4gYytcblwifVxcblwifSx0ZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7cmV0dXJuW2IucXVvdGVfKGEuZ2V0RmllbGRWYWx1ZShcIlRFWFRcIikpLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdfSx0ZXh0X2pvaW4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYS5pdGVtQ291bnRfKXtjYXNlIDA6cmV0dXJuW1wiJydcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXTtjYXNlIDE6cmV0dXJuIGE9Yi52YWx1ZVRvQ29kZShhLFwiQUREMFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiLGZvcmNlU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0KGEpO1xuY2FzZSAyOnZhciBjPWIudmFsdWVUb0NvZGUoYSxcIkFERDBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjthPWIudmFsdWVUb0NvZGUoYSxcIkFERDFcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjtyZXR1cm5bZm9yY2VTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQoYylbMF0rXCIgKyBcIitmb3JjZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dChhKVswXSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQURESVRJT05dO2RlZmF1bHQ6Yz1BcnJheShhLml0ZW1Db3VudF8pO2ZvcihsZXQgZD0wO2Q8YS5pdGVtQ291bnRfO2QrKyljW2RdPVxuYi52YWx1ZVRvQ29kZShhLFwiQUREXCIrZCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjtyZXR1cm5bXCJbXCIrYy5qb2luKFwiLFwiKStcIl0uam9pbignJylcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19fSx0ZXh0X2FwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi5nZXRWYXJpYWJsZU5hbWUoYS5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpKTthPWIudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjtyZXR1cm4gYytcIiArPSBcIitmb3JjZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dChhKVswXStcblwiO1xcblwifSx0ZXh0X2xlbmd0aCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe3JldHVyblsoYi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCInJ1wiKStcIi5sZW5ndGhcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSXX0sdGV4dF9pc0VtcHR5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7cmV0dXJuW1wiIVwiKyhiLnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcIicnXCIpK1wiLmxlbmd0aFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX05PVF19LFxudGV4dF9pbmRleE9mJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEZpZWxkVmFsdWUoXCJFTkRcIik9PT1cIkZJUlNUXCI/XCJpbmRleE9mXCI6XCJsYXN0SW5kZXhPZlwiLGQ9Yi52YWx1ZVRvQ29kZShhLFwiRklORFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO2I9KGIudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiJydcIikrXCIuXCIrYytcIihcIitkK1wiKVwiO3JldHVybiBhLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXg/W2IrXCIgKyAxXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFERElUSU9OXTpbYixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LFxudGV4dF9jaGFyQXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpfHxcIkZST01fU1RBUlRcIixkPWIudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsYz09PVwiUkFORE9NXCI/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkU6T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiJydcIjtzd2l0Y2goYyl7Y2FzZSBcIkZJUlNUXCI6cmV0dXJuW2QrXCIuY2hhckF0KDApXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdO2Nhc2UgXCJMQVNUXCI6cmV0dXJuW2QrXCIuc2xpY2UoLTEpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdO1xuY2FzZSBcIkZST01fU1RBUlRcIjpyZXR1cm4gYT1iLmdldEFkanVzdGVkKGEsXCJBVFwiKSxbZCtcIi5jaGFyQXQoXCIrYStcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07Y2FzZSBcIkZST01fRU5EXCI6cmV0dXJuIGE9Yi5nZXRBZGp1c3RlZChhLFwiQVRcIiwxLCEwKSxbZCtcIi5zbGljZShcIithK1wiKS5jaGFyQXQoMClcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07Y2FzZSBcIlJBTkRPTVwiOnJldHVybltiLnByb3ZpZGVGdW5jdGlvbl8oXCJ0ZXh0UmFuZG9tTGV0dGVyXCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffSh0ZXh0KSB7XG4gIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGV4dC5sZW5ndGgpO1xuICByZXR1cm4gdGV4dFt4XTtcbn1cbmApK1wiKFwiK2QrXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfXRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAodGV4dF9jaGFyQXQpLlwiKTt9LHRleHRfZ2V0U3Vic3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7dmFyIGM9e0ZJUlNUOlwiRmlyc3RcIixMQVNUOlwiTGFzdFwiLEZST01fU1RBUlQ6XCJGcm9tU3RhcnRcIixGUk9NX0VORDpcIkZyb21FbmRcIn07Y29uc3QgZD1hLmdldEZpZWxkVmFsdWUoXCJXSEVSRTFcIiksZT1hLmdldEZpZWxkVmFsdWUoXCJXSEVSRTJcIik7dmFyIGY9ZCE9PVwiRlJPTV9FTkRcIiYmZCE9PVwiTEFTVFwiJiZlIT09XCJGUk9NX0VORFwiJiZlIT09XCJMQVNUXCIsZz1iLnZhbHVlVG9Db2RlKGEsXCJTVFJJTkdcIixmP09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVI6XG5PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjtpZihkPT09XCJGSVJTVFwiJiZlPT09XCJMQVNUXCIpcmV0dXJuW2csT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkVdO2lmKGcubWF0Y2goL14nP1xcdysnPyQvKXx8Zil7c3dpdGNoKGQpe2Nhc2UgXCJGUk9NX1NUQVJUXCI6Yz1iLmdldEFkanVzdGVkKGEsXCJBVDFcIik7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6Yz1iLmdldEFkanVzdGVkKGEsXCJBVDFcIiwxLCExLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTik7Yz1nK1wiLmxlbmd0aCAtIFwiK2M7YnJlYWs7Y2FzZSBcIkZJUlNUXCI6Yz1cIjBcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAodGV4dF9nZXRTdWJzdHJpbmcpLlwiKTtcbn1zd2l0Y2goZSl7Y2FzZSBcIkZST01fU1RBUlRcIjpiPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiLDEpO2JyZWFrO2Nhc2UgXCJGUk9NX0VORFwiOmI9Yi5nZXRBZGp1c3RlZChhLFwiQVQyXCIsMCwhMSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuU1VCVFJBQ1RJT04pO2I9ZytcIi5sZW5ndGggLSBcIitiO2JyZWFrO2Nhc2UgXCJMQVNUXCI6Yj1nK1wiLmxlbmd0aFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmhhbmRsZWQgb3B0aW9uICh0ZXh0X2dldFN1YnN0cmluZykuXCIpO31nPWcrXCIuc2xpY2UoXCIrYytcIiwgXCIrYitcIilcIn1lbHNlIGY9Yi5nZXRBZGp1c3RlZChhLFwiQVQxXCIpLGE9Yi5nZXRBZGp1c3RlZChhLFwiQVQyXCIpLGc9Yi5wcm92aWRlRnVuY3Rpb25fKFwic3Vic2VxdWVuY2VcIitjW2RdK2NbZV0sYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShzZXF1ZW5jZSR7ZD09PVwiRlJPTV9FTkRcInx8ZD09PVwiRlJPTV9TVEFSVFwiP1wiLCBhdDFcIjpcIlwifSR7ZT09PVwiRlJPTV9FTkRcInx8ZT09PVwiRlJPTV9TVEFSVFwiP1wiLCBhdDJcIjpcIlwifSkge1xuICB2YXIgc3RhcnQgPSAke2dldFN1YnN0cmluZ0luZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0KFwic2VxdWVuY2VcIixkLFwiYXQxXCIpfTtcbiAgdmFyIGVuZCA9ICR7Z2V0U3Vic3RyaW5nSW5kZXgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQoXCJzZXF1ZW5jZVwiLGUsXCJhdDJcIil9ICsgMTtcbiAgcmV0dXJuIHNlcXVlbmNlLnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuYCkrXCIoXCIrZysoZD09PVwiRlJPTV9FTkRcInx8ZD09PVwiRlJPTV9TVEFSVFwiP1wiLCBcIitmOlwiXCIpKyhlPT09XCJGUk9NX0VORFwifHxlPT09XCJGUk9NX1NUQVJUXCI/XCIsIFwiK2E6XCJcIikrXCIpXCI7cmV0dXJuW2csT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSx0ZXh0X2NoYW5nZUNhc2UkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPXtVUFBFUkNBU0U6XCIudG9VcHBlckNhc2UoKVwiLExPV0VSQ0FTRTpcIi50b0xvd2VyQ2FzZSgpXCIsVElUTEVDQVNFOm51bGx9W2EuZ2V0RmllbGRWYWx1ZShcIkNBU0VcIildO2E9Yi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLGM/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUjpPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFxuXCInJ1wiO3JldHVybltjP2ErYzpiLnByb3ZpZGVGdW5jdGlvbl8oXCJ0ZXh0VG9UaXRsZUNhc2VcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFxTKy9nLFxuICAgICAgZnVuY3Rpb24odHh0KSB7cmV0dXJuIHR4dFswXS50b1VwcGVyQ2FzZSgpICsgdHh0LnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpO30pO1xufVxuYCkrXCIoXCIrYStcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LHRleHRfdHJpbSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9e0xFRlQ6XCIucmVwbGFjZSgvXltcXFxcc1xcXFx4YTBdKy8sICcnKVwiLFJJR0hUOlwiLnJlcGxhY2UoL1tcXFxcc1xcXFx4YTBdKyQvLCAnJylcIixCT1RIOlwiLnRyaW0oKVwifVthLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpXTtyZXR1cm5bKGIudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCInJ1wiKStjLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sdGV4dF9wcmludCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1cbmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJ3aW5kb3cuYWxlcnQoXCIrKGIudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIikrXCIpO1xcblwifSx0ZXh0X3Byb21wdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtiPVwid2luZG93LnByb21wdChcIisoYS5nZXRGaWVsZChcIlRFWFRcIik/Yi5xdW90ZV8oYS5nZXRGaWVsZFZhbHVlKFwiVEVYVFwiKSk6Yi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiKStcIilcIjthLmdldEZpZWxkVmFsdWUoXCJUWVBFXCIpPT09XCJOVU1CRVJcIiYmKGI9XCJOdW1iZXIoXCIrYitcIilcIik7cmV0dXJuW2IsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxcbnRleHRfY291bnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjthPWIudmFsdWVUb0NvZGUoYSxcIlNVQlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO3JldHVybltiLnByb3ZpZGVGdW5jdGlvbl8oXCJ0ZXh0Q291bnRcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgaWYgKG5lZWRsZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaGF5c3RhY2subGVuZ3RoICsgMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaGF5c3RhY2suc3BsaXQobmVlZGxlKS5sZW5ndGggLSAxO1xuICB9XG59XG5gKStcIihcIitjK1wiLCBcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sdGV4dF9yZXBsYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCIsZD1iLnZhbHVlVG9Db2RlKGEsXCJGUk9NXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCI7YT1iLnZhbHVlVG9Db2RlKGEsXCJUT1wiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO3JldHVybltiLnByb3ZpZGVGdW5jdGlvbl8oXCJ0ZXh0UmVwbGFjZVwiLFxuYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShoYXlzdGFjaywgbmVlZGxlLCByZXBsYWNlbWVudCkge1xuICBuZWVkbGUgPSBuZWVkbGUucmVwbGFjZSgvKFstKClcXFxcW1xcXFxde30rPyouJFxcXFxefCw6IzwhXFxcXFxcXFxdKS9nLCAnXFxcXFxcXFwkMScpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxceDA4L2csICdcXFxcXFxcXHgwOCcpO1xuICByZXR1cm4gaGF5c3RhY2sucmVwbGFjZShuZXcgUmVnRXhwKG5lZWRsZSwgJ2cnKSwgcmVwbGFjZW1lbnQpO1xufVxuYCkrXCIoXCIrYytcIiwgXCIrZCtcIiwgXCIrYStcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LHRleHRfcmV2ZXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe3JldHVyblsoYi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcIicnXCIpK1wiLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJylcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LHZhcmlhYmxlc19nZXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe3JldHVybltiLmdldFZhcmlhYmxlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIikpLFxuT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFUT01JQ119LHZhcmlhYmxlc19zZXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVNTSUdOTUVOVCl8fFwiMFwiO3JldHVybiBiLmdldFZhcmlhYmxlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIikpK1wiID0gXCIrYytcIjtcXG5cIn0sT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yO1xuKGZ1bmN0aW9uKGEpe2FbYS5BVE9NSUM9MF09XCJBVE9NSUNcIjthW2EuTkVXPTEuMV09XCJORVdcIjthW2EuTUVNQkVSPTEuMl09XCJNRU1CRVJcIjthW2EuRlVOQ1RJT05fQ0FMTD0yXT1cIkZVTkNUSU9OX0NBTExcIjthW2EuSU5DUkVNRU5UPTNdPVwiSU5DUkVNRU5UXCI7YVthLkRFQ1JFTUVOVD0zXT1cIkRFQ1JFTUVOVFwiO2FbYS5CSVRXSVNFX05PVD00LjFdPVwiQklUV0lTRV9OT1RcIjthW2EuVU5BUllfUExVUz00LjJdPVwiVU5BUllfUExVU1wiO2FbYS5VTkFSWV9ORUdBVElPTj00LjNdPVwiVU5BUllfTkVHQVRJT05cIjthW2EuTE9HSUNBTF9OT1Q9NC40XT1cIkxPR0lDQUxfTk9UXCI7YVthLlRZUEVPRj00LjVdPVwiVFlQRU9GXCI7YVthLlZPSUQ9NC42XT1cIlZPSURcIjthW2EuREVMRVRFPTQuN109XCJERUxFVEVcIjthW2EuQVdBSVQ9NC44XT1cIkFXQUlUXCI7YVthLkVYUE9ORU5USUFUSU9OPTVdPVwiRVhQT05FTlRJQVRJT05cIjthW2EuTVVMVElQTElDQVRJT049NS4xXT1cIk1VTFRJUExJQ0FUSU9OXCI7YVthLkRJVklTSU9OPVxuNS4yXT1cIkRJVklTSU9OXCI7YVthLk1PRFVMVVM9NS4zXT1cIk1PRFVMVVNcIjthW2EuU1VCVFJBQ1RJT049Ni4xXT1cIlNVQlRSQUNUSU9OXCI7YVthLkFERElUSU9OPTYuMl09XCJBRERJVElPTlwiO2FbYS5CSVRXSVNFX1NISUZUPTddPVwiQklUV0lTRV9TSElGVFwiO2FbYS5SRUxBVElPTkFMPThdPVwiUkVMQVRJT05BTFwiO2FbYS5JTj04XT1cIklOXCI7YVthLklOU1RBTkNFT0Y9OF09XCJJTlNUQU5DRU9GXCI7YVthLkVRVUFMSVRZPTldPVwiRVFVQUxJVFlcIjthW2EuQklUV0lTRV9BTkQ9MTBdPVwiQklUV0lTRV9BTkRcIjthW2EuQklUV0lTRV9YT1I9MTFdPVwiQklUV0lTRV9YT1JcIjthW2EuQklUV0lTRV9PUj0xMl09XCJCSVRXSVNFX09SXCI7YVthLkxPR0lDQUxfQU5EPTEzXT1cIkxPR0lDQUxfQU5EXCI7YVthLkxPR0lDQUxfT1I9MTRdPVwiTE9HSUNBTF9PUlwiO2FbYS5DT05ESVRJT05BTD0xNV09XCJDT05ESVRJT05BTFwiO2FbYS5BU1NJR05NRU5UPTE2XT1cIkFTU0lHTk1FTlRcIjthW2EuWUlFTEQ9MTddPVwiWUlFTERcIjtcbmFbYS5DT01NQT0xOF09XCJDT01NQVwiO2FbYS5OT05FPTk5XT1cIk5PTkVcIn0pKE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcnx8KE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcj17fSkpO1xudmFyIEphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yPWNsYXNzIGV4dGVuZHMgJC5Db2RlR2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9ye2NvbnN0cnVjdG9yKGE9XCJKYXZhU2NyaXB0XCIpe3N1cGVyKGEpO3RoaXMuT1JERVJfT1ZFUlJJREVTPVtbT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTEwsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl0sW09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXSxcbltPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdLFtPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXSxbT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfTk9ULE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX05PVF0sW09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NVUxUSVBMSUNBVElPTixcbk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NVUxUSVBMSUNBVElPTl0sW09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BRERJVElPTixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQURESVRJT05dLFtPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9BTkQsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfQU5EXSxbT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfT1IsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfT1JdXTtcbnRoaXMuaXNJbml0aWFsaXplZD0hMTtmb3IoY29uc3QgYiBpbiBPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IpYT1PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3JbYl0sdHlwZW9mIGEhPT1cInN0cmluZ1wiJiYodGhpc1tcIk9SREVSX1wiK2JdPWEpO3RoaXMuYWRkUmVzZXJ2ZWRXb3JkcyhcImJyZWFrLGNhc2UsY2F0Y2gsY2xhc3MsY29uc3QsY29udGludWUsZGVidWdnZXIsZGVmYXVsdCxkZWxldGUsZG8sZWxzZSxleHBvcnQsZXh0ZW5kcyxmaW5hbGx5LGZvcixmdW5jdGlvbixpZixpbXBvcnQsaW4saW5zdGFuY2VvZixuZXcscmV0dXJuLHN1cGVyLHN3aXRjaCx0aGlzLHRocm93LHRyeSx0eXBlb2YsdmFyLHZvaWQsd2hpbGUsd2l0aCx5aWVsZCxlbnVtLGltcGxlbWVudHMsaW50ZXJmYWNlLGxldCxwYWNrYWdlLHByaXZhdGUscHJvdGVjdGVkLHB1YmxpYyxzdGF0aWMsYXdhaXQsbnVsbCx0cnVlLGZhbHNlLGFyZ3VtZW50cyxcIitcbk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGdsb2JhbFRoaXMpLmpvaW4oXCIsXCIpKX1pbml0KGEpe3N1cGVyLmluaXQoYSk7dGhpcy5uYW1lREJfP3RoaXMubmFtZURCXy5yZXNldCgpOnRoaXMubmFtZURCXz1uZXcgJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzKHRoaXMuUkVTRVJWRURfV09SRFNfKTt0aGlzLm5hbWVEQl8uc2V0VmFyaWFibGVNYXAoYS5nZXRWYXJpYWJsZU1hcCgpKTt0aGlzLm5hbWVEQl8ucG9wdWxhdGVWYXJpYWJsZXMoYSk7dGhpcy5uYW1lREJfLnBvcHVsYXRlUHJvY2VkdXJlcyhhKTtjb25zdCBiPVtdO3ZhciBjPSQuYWxsRGV2ZWxvcGVyVmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEpO2ZvcihsZXQgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWIucHVzaCh0aGlzLm5hbWVEQl8uZ2V0TmFtZShjW2RdLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5ERVZFTE9QRVJfVkFSSUFCTEUpKTthPSQuYWxsVXNlZFZhck1vZGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhKTtcbmZvcihjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKHRoaXMubmFtZURCXy5nZXROYW1lKGFbY10uZ2V0SWQoKSwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpKTtiLmxlbmd0aCYmKHRoaXMuZGVmaW5pdGlvbnNfLnZhcmlhYmxlcz1cInZhciBcIitiLmpvaW4oXCIsIFwiKStcIjtcIik7dGhpcy5pc0luaXRpYWxpemVkPSEwfWZpbmlzaChhKXtjb25zdCBiPU9iamVjdC52YWx1ZXModGhpcy5kZWZpbml0aW9uc18pO3N1cGVyLmZpbmlzaChhKTt0aGlzLmlzSW5pdGlhbGl6ZWQ9ITE7dGhpcy5uYW1lREJfLnJlc2V0KCk7cmV0dXJuIGIuam9pbihcIlxcblxcblwiKStcIlxcblxcblxcblwiK2F9c2NydWJOYWtlZFZhbHVlKGEpe3JldHVybiBhK1wiO1xcblwifXF1b3RlXyhhKXthPWEucmVwbGFjZSgvXFxcXC9nLFwiXFxcXFxcXFxcIikucmVwbGFjZSgvXFxuL2csXCJcXFxcXFxuXCIpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpO3JldHVyblwiJ1wiK2ErXCInXCJ9bXVsdGlsaW5lX3F1b3RlXyhhKXtyZXR1cm4gYS5zcGxpdCgvXFxuL2cpLm1hcCh0aGlzLnF1b3RlXykuam9pbihcIiArICdcXFxcbicgK1xcblwiKX1zY3J1Yl8oYSxcbmIsYz0hMSl7bGV0IGQ9XCJcIjtpZighYS5vdXRwdXRDb25uZWN0aW9ufHwhYS5vdXRwdXRDb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pe3ZhciBlPWEuZ2V0Q29tbWVudFRleHQoKTtlJiYoZT0kLndyYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZSx0aGlzLkNPTU1FTlRfV1JBUC0zKSxkKz10aGlzLnByZWZpeExpbmVzKGUrXCJcXG5cIixcIi8vIFwiKSk7Zm9yKGxldCBmPTA7ZjxhLmlucHV0TGlzdC5sZW5ndGg7ZisrKWEuaW5wdXRMaXN0W2ZdLnR5cGU9PT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuVkFMVUUmJihlPWEuaW5wdXRMaXN0W2ZdLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKSkmJihlPXRoaXMuYWxsTmVzdGVkQ29tbWVudHMoZSkpJiYoZCs9dGhpcy5wcmVmaXhMaW5lcyhlLFwiLy8gXCIpKX1hPWEubmV4dENvbm5lY3Rpb24mJmEubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtjPWM/XCJcIjp0aGlzLmJsb2NrVG9Db2RlKGEpO1xucmV0dXJuIGQrYitjfWdldEFkanVzdGVkKGEsYixjPTAsZD0hMSxlPU9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXthLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXgmJmMtLTtjb25zdCBmPWEud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cIjFcIjpcIjBcIjtsZXQgZz1lO2M+MD9nPU9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BRERJVElPTjpjPDA/Zz1PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuU1VCVFJBQ1RJT046ZCYmKGc9T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlVOQVJZX05FR0FUSU9OKTthPXRoaXMudmFsdWVUb0NvZGUoYSxiLGcpfHxmO2lmKGM9PT1cbjAmJiFkKXJldHVybiBhO2lmKCQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYSkpcmV0dXJuIGE9U3RyaW5nKE51bWJlcihhKStjKSxkJiYoYT1TdHJpbmcoLU51bWJlcihhKSkpLGE7Yz4wP2E9YCR7YX0gKyAke2N9YDpjPDAmJihhPWAke2F9IC0gJHstY31gKTtkJiYoYT1jP2AtKCR7YX0pYDpgLSR7YX1gKTtNYXRoLmZsb29yKGUpPj1NYXRoLmZsb29yKGcpJiYoYT1gKCR7YX0pYCk7cmV0dXJuIGF9fSxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcj17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5KYXZhc2NyaXB0R2VuZXJhdG9yPUphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuT3JkZXI9T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yO3ZhciBnZXRTdWJzdHJpbmdJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09XCJGSVJTVFwiP1wiMFwiOmI9PT1cIkZST01fRU5EXCI/YStcIi5sZW5ndGggLSAxIC0gXCIrYzpiPT09XCJMQVNUXCI/YStcIi5sZW5ndGggLSAxXCI6Y30sbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9e307bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfY3JlYXRlX2VtcHR5PWxpc3RzX2NyZWF0ZV9lbXB0eSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfY3JlYXRlX3dpdGg9bGlzdHNfY3JlYXRlX3dpdGgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfZ2V0SW5kZXg9bGlzdHNfZ2V0SW5kZXgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzLmxpc3RzX2dldFN1Ymxpc3Q9bGlzdHNfZ2V0U3VibGlzdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfaW5kZXhPZj1saXN0c19pbmRleE9mJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19pc0VtcHR5PWxpc3RzX2lzRW1wdHkkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfbGVuZ3RoPWxpc3RzX2xlbmd0aCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfcmVwZWF0PWxpc3RzX3JlcGVhdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfcmV2ZXJzZT1saXN0c19yZXZlcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19zZXRJbmRleD1saXN0c19zZXRJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19zb3J0PWxpc3RzX3NvcnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzLmxpc3RzX3NwbGl0PWxpc3RzX3NwbGl0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czt2YXIgY29udHJvbHNfaWZlbHNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz1jb250cm9sc19pZiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM9e307bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMuY29udHJvbHNfaWY9Y29udHJvbHNfaWYkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljLmNvbnRyb2xzX2lmZWxzZT1jb250cm9sc19pZiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMubG9naWNfYm9vbGVhbj1sb2dpY19ib29sZWFuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYztcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljLmxvZ2ljX2NvbXBhcmU9bG9naWNfY29tcGFyZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMubG9naWNfbmVnYXRlPWxvZ2ljX25lZ2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMubG9naWNfbnVsbD1sb2dpY19udWxsJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYzttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYy5sb2dpY19vcGVyYXRpb249bG9naWNfb3BlcmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYztcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljLmxvZ2ljX3Rlcm5hcnk9bG9naWNfdGVybmFyeSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM7dmFyIGNvbnRyb2xzX3JlcGVhdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM9Y29udHJvbHNfcmVwZWF0X2V4dCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM9e307bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMuY29udHJvbHNfZmxvd19zdGF0ZW1lbnRzPWNvbnRyb2xzX2Zsb3dfc3RhdGVtZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMuY29udHJvbHNfZm9yPWNvbnRyb2xzX2ZvciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMuY29udHJvbHNfZm9yRWFjaD1jb250cm9sc19mb3JFYWNoJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcztcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzLmNvbnRyb2xzX3JlcGVhdD1jb250cm9sc19yZXBlYXRfZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wczttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcy5jb250cm9sc19yZXBlYXRfZXh0PWNvbnRyb2xzX3JlcGVhdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzLmNvbnRyb2xzX3doaWxlVW50aWw9Y29udHJvbHNfd2hpbGVVbnRpbCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM7dmFyIG1hdGhfcm91bmQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9bWF0aF9zaW5nbGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgsbWF0aF90cmlnJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPW1hdGhfc2luZ2xlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9e307bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX2FyaXRobWV0aWM9bWF0aF9hcml0aG1ldGljJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9hdGFuMj1tYXRoX2F0YW4yJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX2NoYW5nZT1tYXRoX2NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfY29uc3RhbnQ9bWF0aF9jb25zdGFudCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfY29uc3RyYWluPW1hdGhfY29uc3RyYWluJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9tb2R1bG89bWF0aF9tb2R1bG8kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfbnVtYmVyPW1hdGhfbnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9udW1iZXJfcHJvcGVydHk9bWF0aF9udW1iZXJfcHJvcGVydHkkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX29uX2xpc3Q9bWF0aF9vbl9saXN0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9yYW5kb21fZmxvYXQ9bWF0aF9yYW5kb21fZmxvYXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfcmFuZG9tX2ludD1tYXRoX3JhbmRvbV9pbnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX3JvdW5kPW1hdGhfc2luZ2xlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9zaW5nbGU9bWF0aF9zaW5nbGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX3RyaWc9bWF0aF9zaW5nbGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7dmFyIHByb2NlZHVyZXNfZGVmbm9yZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM9cHJvY2VkdXJlc19kZWZyZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXMsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcz17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzLnByb2NlZHVyZXNfY2FsbG5vcmV0dXJuPXByb2NlZHVyZXNfY2FsbG5vcmV0dXJuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXMucHJvY2VkdXJlc19jYWxscmV0dXJuPXByb2NlZHVyZXNfY2FsbHJldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcztcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXMucHJvY2VkdXJlc19kZWZub3JldHVybj1wcm9jZWR1cmVzX2RlZnJldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzLnByb2NlZHVyZXNfZGVmcmV0dXJuPXByb2NlZHVyZXNfZGVmcmV0dXJuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXMucHJvY2VkdXJlc19pZnJldHVybj1wcm9jZWR1cmVzX2lmcmV0dXJuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzO3ZhciBzdHJSZWdFeHAkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9L15cXHMqJyhbXiddfFxcXFwnKSonXFxzKiQvLGZvcmNlU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiBzdHJSZWdFeHAkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGVzdChhKT9bYSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXTpbXCJTdHJpbmcoXCIrYStcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LGdldFN1YnN0cmluZ0luZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PVwiRklSU1RcIj9cIjBcIjpcbmI9PT1cIkZST01fRU5EXCI/YStcIi5sZW5ndGggLSAxIC0gXCIrYzpiPT09XCJMQVNUXCI/YStcIi5sZW5ndGggLSAxXCI6Y30sdGV4dF9wcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9dGV4dF9wcm9tcHRfZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9e307bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0PXRleHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X2FwcGVuZD10ZXh0X2FwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDtcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9jaGFuZ2VDYXNlPXRleHRfY2hhbmdlQ2FzZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfY2hhckF0PXRleHRfY2hhckF0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9jb3VudD10ZXh0X2NvdW50JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9nZXRTdWJzdHJpbmc9dGV4dF9nZXRTdWJzdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfaW5kZXhPZj10ZXh0X2luZGV4T2YkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X2lzRW1wdHk9dGV4dF9pc0VtcHR5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9qb2luPXRleHRfam9pbiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfbGVuZ3RoPXRleHRfbGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X3ByaW50PXRleHRfcHJpbnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X3Byb21wdD10ZXh0X3Byb21wdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X3Byb21wdF9leHQ9dGV4dF9wcm9tcHRfZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9yZXBsYWNlPXRleHRfcmVwbGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDtcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9yZXZlcnNlPXRleHRfcmV2ZXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfdHJpbT10ZXh0X3RyaW0kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7dmFyIG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlcz17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXMudmFyaWFibGVzX2dldD12YXJpYWJsZXNfZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzLnZhcmlhYmxlc19zZXQ9dmFyaWFibGVzX3NldCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXNfZHluYW1pYz17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXNfZHluYW1pYy52YXJpYWJsZXNfZ2V0X2R5bmFtaWM9dmFyaWFibGVzX2dldCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlc19keW5hbWljLnZhcmlhYmxlc19zZXRfZHluYW1pYz12YXJpYWJsZXNfc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXM7dmFyIGphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0PW5ldyBKYXZhc2NyaXB0R2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcixnZW5lcmF0b3JzJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdD1PYmplY3QuYXNzaWduKHt9LG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzLG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljLG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzLG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcyxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlcyxcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlc19keW5hbWljKTtmb3IoY29uc3QgYSBpbiBnZW5lcmF0b3JzJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdClqYXZhc2NyaXB0R2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdC5mb3JCbG9ja1thXT1nZW5lcmF0b3JzJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdFthXTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQ9e307bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQuSmF2YXNjcmlwdEdlbmVyYXRvcj1KYXZhc2NyaXB0R2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcjttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdC5PcmRlcj1PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3I7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdC5qYXZhc2NyaXB0R2VuZXJhdG9yPWphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0O1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQuX19uYW1lc3BhY2VfXz0kO1xucmV0dXJuIG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0O1xufSkpO1xuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWphdmFzY3JpcHRfY29tcHJlc3NlZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/blockly/javascript_compressed.js\n");

/***/ }),

/***/ "../../node_modules/blockly/msg/en.js":
/*!********************************************!*\
  !*** ../../node_modules/blockly/msg/en.js ***!
  \********************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var key, messages; }\n}(this, function() {\n// This file was automatically generated.  Do not modify.\n\n'use strict';\n\nvar Blockly = Blockly || { Msg: Object.create(null) };\n\nBlockly.Msg[\"ADD_COMMENT\"] = \"Add Comment\";\nBlockly.Msg[\"ALT_KEY\"] = \"Alt\";\nBlockly.Msg[\"CANNOT_DELETE_VARIABLE_PROCEDURE\"] = \"Can't delete the variable '%1' because it's part of the definition of the function '%2'\";\nBlockly.Msg[\"CHANGE_VALUE_TITLE\"] = \"Change value:\";\nBlockly.Msg[\"CHROME_OS\"] = \"ChromeOS\";\nBlockly.Msg[\"CLEAN_UP\"] = \"Clean up Blocks\";\nBlockly.Msg[\"CLOSE\"] = \"Close\";\nBlockly.Msg[\"COLLAPSED_WARNINGS_WARNING\"] = \"Collapsed blocks contain warnings.\";\nBlockly.Msg[\"COLLAPSE_ALL\"] = \"Collapse Blocks\";\nBlockly.Msg[\"COLLAPSE_BLOCK\"] = \"Collapse Block\";\nBlockly.Msg[\"COLOUR_BLEND_COLOUR1\"] = \"colour 1\";\nBlockly.Msg[\"COLOUR_BLEND_COLOUR2\"] = \"colour 2\";\nBlockly.Msg[\"COLOUR_BLEND_HELPURL\"] = \"https://meyerweb.com/eric/tools/color-blend/#:::rgbp\";\nBlockly.Msg[\"COLOUR_BLEND_RATIO\"] = \"ratio\";\nBlockly.Msg[\"COLOUR_BLEND_TITLE\"] = \"blend\";\nBlockly.Msg[\"COLOUR_BLEND_TOOLTIP\"] = \"Blends two colours together with a given ratio (0.0 - 1.0).\";\nBlockly.Msg[\"COLOUR_PICKER_HELPURL\"] = \"https://en.wikipedia.org/wiki/Color\";\nBlockly.Msg[\"COLOUR_PICKER_TOOLTIP\"] = \"Choose a colour from the palette.\";\nBlockly.Msg[\"COLOUR_RANDOM_HELPURL\"] = \"http://randomcolour.com\";\nBlockly.Msg[\"COLOUR_RANDOM_TITLE\"] = \"random colour\";\nBlockly.Msg[\"COLOUR_RANDOM_TOOLTIP\"] = \"Choose a colour at random.\";\nBlockly.Msg[\"COLOUR_RGB_BLUE\"] = \"blue\";\nBlockly.Msg[\"COLOUR_RGB_GREEN\"] = \"green\";\nBlockly.Msg[\"COLOUR_RGB_HELPURL\"] = \"https://www.december.com/html/spec/colorpercompact.html\";\nBlockly.Msg[\"COLOUR_RGB_RED\"] = \"red\";\nBlockly.Msg[\"COLOUR_RGB_TITLE\"] = \"colour with\";\nBlockly.Msg[\"COLOUR_RGB_TOOLTIP\"] = \"Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.\";\nBlockly.Msg[\"COMMAND_KEY\"] = \" Command\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#loop-termination-blocks\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK\"] = \"break out of loop\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE\"] = \"continue with next iteration of loop\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK\"] = \"Break out of the containing loop.\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE\"] = \"Skip the rest of this loop, and continue with the next iteration.\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_WARNING\"] = \"Warning: This block may only be used within a loop.\";\nBlockly.Msg[\"CONTROLS_FOREACH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#for-each\";\nBlockly.Msg[\"CONTROLS_FOREACH_TITLE\"] = \"for each item %1 in list %2\";\nBlockly.Msg[\"CONTROLS_FOREACH_TOOLTIP\"] = \"For each item in a list, set the variable '%1' to the item, and then do some statements.\";\nBlockly.Msg[\"CONTROLS_FOR_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#count-with\";\nBlockly.Msg[\"CONTROLS_FOR_TITLE\"] = \"count with %1 from %2 to %3 by %4\";\nBlockly.Msg[\"CONTROLS_FOR_TOOLTIP\"] = \"Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.\";\nBlockly.Msg[\"CONTROLS_IF_ELSEIF_TOOLTIP\"] = \"Add a condition to the if block.\";\nBlockly.Msg[\"CONTROLS_IF_ELSE_TOOLTIP\"] = \"Add a final, catch-all condition to the if block.\";\nBlockly.Msg[\"CONTROLS_IF_HELPURL\"] = \"https://github.com/google/blockly/wiki/IfElse\";\nBlockly.Msg[\"CONTROLS_IF_IF_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this if block.\";\nBlockly.Msg[\"CONTROLS_IF_MSG_ELSE\"] = \"else\";\nBlockly.Msg[\"CONTROLS_IF_MSG_ELSEIF\"] = \"else if\";\nBlockly.Msg[\"CONTROLS_IF_MSG_IF\"] = \"if\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_1\"] = \"If a value is true, then do some statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_2\"] = \"If a value is true, then do the first block of statements. Otherwise, do the second block of statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_3\"] = \"If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_4\"] = \"If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.\";\nBlockly.Msg[\"CONTROLS_REPEAT_HELPURL\"] = \"https://en.wikipedia.org/wiki/For_loop\";\nBlockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"] = \"do\";\nBlockly.Msg[\"CONTROLS_REPEAT_TITLE\"] = \"repeat %1 times\";\nBlockly.Msg[\"CONTROLS_REPEAT_TOOLTIP\"] = \"Do some statements several times.\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#repeat\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_OPERATOR_UNTIL\"] = \"repeat until\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_OPERATOR_WHILE\"] = \"repeat while\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL\"] = \"While a value is false, then do some statements.\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_TOOLTIP_WHILE\"] = \"While a value is true, then do some statements.\";\nBlockly.Msg[\"CONTROL_KEY\"] = \"Ctrl\";\nBlockly.Msg[\"COPY_SHORTCUT\"] = \"Copy\";\nBlockly.Msg[\"CUT_SHORTCUT\"] = \"Cut\";\nBlockly.Msg[\"DELETE_ALL_BLOCKS\"] = \"Delete all %1 blocks?\";\nBlockly.Msg[\"DELETE_BLOCK\"] = \"Delete Block\";\nBlockly.Msg[\"DELETE_VARIABLE\"] = \"Delete the '%1' variable\";\nBlockly.Msg[\"DELETE_VARIABLE_CONFIRMATION\"] = \"Delete %1 uses of the '%2' variable?\";\nBlockly.Msg[\"DELETE_X_BLOCKS\"] = \"Delete %1 Blocks\";\nBlockly.Msg[\"DIALOG_CANCEL\"] = \"Cancel\";\nBlockly.Msg[\"DIALOG_OK\"] = \"OK\";\nBlockly.Msg[\"DISABLE_BLOCK\"] = \"Disable Block\";\nBlockly.Msg[\"DUPLICATE_BLOCK\"] = \"Duplicate\";\nBlockly.Msg[\"DUPLICATE_COMMENT\"] = \"Duplicate Comment\";\nBlockly.Msg[\"EDIT_BLOCK_CONTENTS\"] = \"Edit Block contents\";\nBlockly.Msg[\"ENABLE_BLOCK\"] = \"Enable Block\";\nBlockly.Msg[\"EXPAND_ALL\"] = \"Expand Blocks\";\nBlockly.Msg[\"EXPAND_BLOCK\"] = \"Expand Block\";\nBlockly.Msg[\"EXTERNAL_INPUTS\"] = \"External Inputs\";\nBlockly.Msg[\"HELP\"] = \"Help\";\nBlockly.Msg[\"HELP_PROMPT\"] = \"Press %1 for help on keyboard controls\";\nBlockly.Msg[\"INLINE_INPUTS\"] = \"Inline Inputs\";\nBlockly.Msg[\"KEYBOARD_NAV_CONSTRAINED_MOVE_HINT\"] = \"Use the arrow keys to move, then %1 to accept the position\";\nBlockly.Msg[\"KEYBOARD_NAV_COPIED_HINT\"] = \"Copied. Press %1 to paste.\";\nBlockly.Msg[\"KEYBOARD_NAV_CUT_HINT\"] = \"Cut. Press %1 to paste.\";\nBlockly.Msg[\"KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT\"] = \"Hold %1 and use arrow keys to move freely, then %2 to accept the position\";\nBlockly.Msg[\"LINUX\"] = \"Linux\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-empty-list\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_TITLE\"] = \"create empty list\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_TOOLTIP\"] = \"Returns a list, of length 0, containing no data records\";\nBlockly.Msg[\"LISTS_CREATE_WITH_CONTAINER_TITLE_ADD\"] = \"list\";\nBlockly.Msg[\"LISTS_CREATE_WITH_CONTAINER_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this list block.\";\nBlockly.Msg[\"LISTS_CREATE_WITH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-list-with\";\nBlockly.Msg[\"LISTS_CREATE_WITH_INPUT_WITH\"] = \"create list with\";\nBlockly.Msg[\"LISTS_CREATE_WITH_ITEM_TOOLTIP\"] = \"Add an item to the list.\";\nBlockly.Msg[\"LISTS_CREATE_WITH_TOOLTIP\"] = \"Create a list with any number of items.\";\nBlockly.Msg[\"LISTS_GET_INDEX_FIRST\"] = \"first\";\nBlockly.Msg[\"LISTS_GET_INDEX_FROM_END\"] = \"# from end\";\nBlockly.Msg[\"LISTS_GET_INDEX_FROM_START\"] = \"#\";\nBlockly.Msg[\"LISTS_GET_INDEX_GET\"] = \"get\";\nBlockly.Msg[\"LISTS_GET_INDEX_GET_REMOVE\"] = \"get and remove\";\nBlockly.Msg[\"LISTS_GET_INDEX_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list\";\nBlockly.Msg[\"LISTS_GET_INDEX_LAST\"] = \"last\";\nBlockly.Msg[\"LISTS_GET_INDEX_RANDOM\"] = \"random\";\nBlockly.Msg[\"LISTS_GET_INDEX_REMOVE\"] = \"remove\";\nBlockly.Msg[\"LISTS_GET_INDEX_TAIL\"] = \"\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_FIRST\"] = \"Returns the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_FROM\"] = \"Returns the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_LAST\"] = \"Returns the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_RANDOM\"] = \"Returns a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST\"] = \"Removes and returns the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM\"] = \"Removes and returns the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST\"] = \"Removes and returns the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM\"] = \"Removes and returns a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST\"] = \"Removes the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM\"] = \"Removes the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST\"] = \"Removes the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM\"] = \"Removes a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_FROM_END\"] = \"to # from end\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_FROM_START\"] = \"to #\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_LAST\"] = \"to last\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#getting-a-sublist\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FIRST\"] = \"get sub-list from first\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FROM_END\"] = \"get sub-list from # from end\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FROM_START\"] = \"get sub-list from #\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_TAIL\"] = \"\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_TOOLTIP\"] = \"Creates a copy of the specified portion of a list.\";\nBlockly.Msg[\"LISTS_INDEX_FROM_END_TOOLTIP\"] = \"%1 is the last item.\";\nBlockly.Msg[\"LISTS_INDEX_FROM_START_TOOLTIP\"] = \"%1 is the first item.\";\nBlockly.Msg[\"LISTS_INDEX_OF_FIRST\"] = \"find first occurrence of item\";\nBlockly.Msg[\"LISTS_INDEX_OF_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list\";\nBlockly.Msg[\"LISTS_INDEX_OF_LAST\"] = \"find last occurrence of item\";\nBlockly.Msg[\"LISTS_INDEX_OF_TOOLTIP\"] = \"Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.\";\nBlockly.Msg[\"LISTS_INLIST\"] = \"in list\";\nBlockly.Msg[\"LISTS_ISEMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#is-empty\";\nBlockly.Msg[\"LISTS_ISEMPTY_TITLE\"] = \"%1 is empty\";\nBlockly.Msg[\"LISTS_ISEMPTY_TOOLTIP\"] = \"Returns true if the list is empty.\";\nBlockly.Msg[\"LISTS_LENGTH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#length-of\";\nBlockly.Msg[\"LISTS_LENGTH_TITLE\"] = \"length of %1\";\nBlockly.Msg[\"LISTS_LENGTH_TOOLTIP\"] = \"Returns the length of a list.\";\nBlockly.Msg[\"LISTS_REPEAT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-list-with\";\nBlockly.Msg[\"LISTS_REPEAT_TITLE\"] = \"create list with item %1 repeated %2 times\";\nBlockly.Msg[\"LISTS_REPEAT_TOOLTIP\"] = \"Creates a list consisting of the given value repeated the specified number of times.\";\nBlockly.Msg[\"LISTS_REVERSE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#reversing-a-list\";\nBlockly.Msg[\"LISTS_REVERSE_MESSAGE0\"] = \"reverse %1\";\nBlockly.Msg[\"LISTS_REVERSE_TOOLTIP\"] = \"Reverse a copy of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#in-list--set\";\nBlockly.Msg[\"LISTS_SET_INDEX_INPUT_TO\"] = \"as\";\nBlockly.Msg[\"LISTS_SET_INDEX_INSERT\"] = \"insert at\";\nBlockly.Msg[\"LISTS_SET_INDEX_SET\"] = \"set\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST\"] = \"Inserts the item at the start of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_FROM\"] = \"Inserts the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_LAST\"] = \"Append the item to the end of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM\"] = \"Inserts the item randomly in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_FIRST\"] = \"Sets the first item in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_FROM\"] = \"Sets the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_LAST\"] = \"Sets the last item in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_RANDOM\"] = \"Sets a random item in a list.\";\nBlockly.Msg[\"LISTS_SORT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#sorting-a-list\";\nBlockly.Msg[\"LISTS_SORT_ORDER_ASCENDING\"] = \"ascending\";\nBlockly.Msg[\"LISTS_SORT_ORDER_DESCENDING\"] = \"descending\";\nBlockly.Msg[\"LISTS_SORT_TITLE\"] = \"sort %1 %2 %3\";\nBlockly.Msg[\"LISTS_SORT_TOOLTIP\"] = \"Sort a copy of a list.\";\nBlockly.Msg[\"LISTS_SORT_TYPE_IGNORECASE\"] = \"alphabetic, ignore case\";\nBlockly.Msg[\"LISTS_SORT_TYPE_NUMERIC\"] = \"numeric\";\nBlockly.Msg[\"LISTS_SORT_TYPE_TEXT\"] = \"alphabetic\";\nBlockly.Msg[\"LISTS_SPLIT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists\";\nBlockly.Msg[\"LISTS_SPLIT_LIST_FROM_TEXT\"] = \"make list from text\";\nBlockly.Msg[\"LISTS_SPLIT_TEXT_FROM_LIST\"] = \"make text from list\";\nBlockly.Msg[\"LISTS_SPLIT_TOOLTIP_JOIN\"] = \"Join a list of texts into one text, separated by a delimiter.\";\nBlockly.Msg[\"LISTS_SPLIT_TOOLTIP_SPLIT\"] = \"Split text into a list of texts, breaking at each delimiter.\";\nBlockly.Msg[\"LISTS_SPLIT_WITH_DELIMITER\"] = \"with delimiter\";\nBlockly.Msg[\"LOGIC_BOOLEAN_FALSE\"] = \"false\";\nBlockly.Msg[\"LOGIC_BOOLEAN_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#values\";\nBlockly.Msg[\"LOGIC_BOOLEAN_TOOLTIP\"] = \"Returns either true or false.\";\nBlockly.Msg[\"LOGIC_BOOLEAN_TRUE\"] = \"true\";\nBlockly.Msg[\"LOGIC_COMPARE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Inequality_(mathematics)\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_EQ\"] = \"Return true if both inputs equal each other.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_GT\"] = \"Return true if the first input is greater than the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_GTE\"] = \"Return true if the first input is greater than or equal to the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_LT\"] = \"Return true if the first input is smaller than the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_LTE\"] = \"Return true if the first input is smaller than or equal to the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_NEQ\"] = \"Return true if both inputs are not equal to each other.\";\nBlockly.Msg[\"LOGIC_NEGATE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#not\";\nBlockly.Msg[\"LOGIC_NEGATE_TITLE\"] = \"not %1\";\nBlockly.Msg[\"LOGIC_NEGATE_TOOLTIP\"] = \"Returns true if the input is false. Returns false if the input is true.\";\nBlockly.Msg[\"LOGIC_NULL\"] = \"null\";\nBlockly.Msg[\"LOGIC_NULL_HELPURL\"] = \"https://en.wikipedia.org/wiki/Nullable_type\";\nBlockly.Msg[\"LOGIC_NULL_TOOLTIP\"] = \"Returns null.\";\nBlockly.Msg[\"LOGIC_OPERATION_AND\"] = \"and\";\nBlockly.Msg[\"LOGIC_OPERATION_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#logical-operations\";\nBlockly.Msg[\"LOGIC_OPERATION_OR\"] = \"or\";\nBlockly.Msg[\"LOGIC_OPERATION_TOOLTIP_AND\"] = \"Return true if both inputs are true.\";\nBlockly.Msg[\"LOGIC_OPERATION_TOOLTIP_OR\"] = \"Return true if at least one of the inputs is true.\";\nBlockly.Msg[\"LOGIC_TERNARY_CONDITION\"] = \"test\";\nBlockly.Msg[\"LOGIC_TERNARY_HELPURL\"] = \"https://en.wikipedia.org/wiki/%3F:\";\nBlockly.Msg[\"LOGIC_TERNARY_IF_FALSE\"] = \"if false\";\nBlockly.Msg[\"LOGIC_TERNARY_IF_TRUE\"] = \"if true\";\nBlockly.Msg[\"LOGIC_TERNARY_TOOLTIP\"] = \"Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.\";\nBlockly.Msg[\"MAC_OS\"] = \"macOS\";\nBlockly.Msg[\"MATH_ADDITION_SYMBOL\"] = \"+\";\nBlockly.Msg[\"MATH_ARITHMETIC_HELPURL\"] = \"https://en.wikipedia.org/wiki/Arithmetic\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_ADD\"] = \"Return the sum of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_DIVIDE\"] = \"Return the quotient of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_MINUS\"] = \"Return the difference of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_MULTIPLY\"] = \"Return the product of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_POWER\"] = \"Return the first number raised to the power of the second number.\";\nBlockly.Msg[\"MATH_ATAN2_HELPURL\"] = \"https://en.wikipedia.org/wiki/Atan2\";\nBlockly.Msg[\"MATH_ATAN2_TITLE\"] = \"atan2 of X:%1 Y:%2\";\nBlockly.Msg[\"MATH_ATAN2_TOOLTIP\"] = \"Return the arctangent of point (X, Y) in degrees from -180 to 180.\";\nBlockly.Msg[\"MATH_CHANGE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter\";\nBlockly.Msg[\"MATH_CHANGE_TITLE\"] = \"change %1 by %2\";\nBlockly.Msg[\"MATH_CHANGE_TOOLTIP\"] = \"Add a number to variable '%1'.\";\nBlockly.Msg[\"MATH_CONSTANT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Mathematical_constant\";\nBlockly.Msg[\"MATH_CONSTANT_TOOLTIP\"] = \"Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).\";\nBlockly.Msg[\"MATH_CONSTRAIN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Clamping_(graphics)\";\nBlockly.Msg[\"MATH_CONSTRAIN_TITLE\"] = \"constrain %1 low %2 high %3\";\nBlockly.Msg[\"MATH_CONSTRAIN_TOOLTIP\"] = \"Constrain a number to be between the specified limits (inclusive).\";\nBlockly.Msg[\"MATH_DIVISION_SYMBOL\"] = \"\";\nBlockly.Msg[\"MATH_IS_DIVISIBLE_BY\"] = \"is divisible by\";\nBlockly.Msg[\"MATH_IS_EVEN\"] = \"is even\";\nBlockly.Msg[\"MATH_IS_NEGATIVE\"] = \"is negative\";\nBlockly.Msg[\"MATH_IS_ODD\"] = \"is odd\";\nBlockly.Msg[\"MATH_IS_POSITIVE\"] = \"is positive\";\nBlockly.Msg[\"MATH_IS_PRIME\"] = \"is prime\";\nBlockly.Msg[\"MATH_IS_TOOLTIP\"] = \"Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.\";\nBlockly.Msg[\"MATH_IS_WHOLE\"] = \"is whole\";\nBlockly.Msg[\"MATH_MODULO_HELPURL\"] = \"https://en.wikipedia.org/wiki/Modulo_operation\";\nBlockly.Msg[\"MATH_MODULO_TITLE\"] = \"remainder of %1  %2\";\nBlockly.Msg[\"MATH_MODULO_TOOLTIP\"] = \"Return the remainder from dividing the two numbers.\";\nBlockly.Msg[\"MATH_MULTIPLICATION_SYMBOL\"] = \"\";\nBlockly.Msg[\"MATH_NUMBER_HELPURL\"] = \"https://en.wikipedia.org/wiki/Number\";\nBlockly.Msg[\"MATH_NUMBER_TOOLTIP\"] = \"A number.\";\nBlockly.Msg[\"MATH_ONLIST_HELPURL\"] = \"\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_AVERAGE\"] = \"average of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MAX\"] = \"max of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MEDIAN\"] = \"median of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MIN\"] = \"min of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MODE\"] = \"modes of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_RANDOM\"] = \"random item of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_STD_DEV\"] = \"standard deviation of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_SUM\"] = \"sum of list\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_AVERAGE\"] = \"Return the average (arithmetic mean) of the numeric values in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MAX\"] = \"Return the largest number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MEDIAN\"] = \"Return the median number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MIN\"] = \"Return the smallest number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MODE\"] = \"Return a list of the most common item(s) in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_RANDOM\"] = \"Return a random element from the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_STD_DEV\"] = \"Return the standard deviation of the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_SUM\"] = \"Return the sum of all the numbers in the list.\";\nBlockly.Msg[\"MATH_POWER_SYMBOL\"] = \"^\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Random_number_generation\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_TITLE_RANDOM\"] = \"random fraction\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_TOOLTIP\"] = \"Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).\";\nBlockly.Msg[\"MATH_RANDOM_INT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Random_number_generation\";\nBlockly.Msg[\"MATH_RANDOM_INT_TITLE\"] = \"random integer from %1 to %2\";\nBlockly.Msg[\"MATH_RANDOM_INT_TOOLTIP\"] = \"Return a random integer between the two specified limits, inclusive.\";\nBlockly.Msg[\"MATH_ROUND_HELPURL\"] = \"https://en.wikipedia.org/wiki/Rounding\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUND\"] = \"round\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUNDDOWN\"] = \"round down\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUNDUP\"] = \"round up\";\nBlockly.Msg[\"MATH_ROUND_TOOLTIP\"] = \"Round a number up or down.\";\nBlockly.Msg[\"MATH_SINGLE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Square_root\";\nBlockly.Msg[\"MATH_SINGLE_OP_ABSOLUTE\"] = \"absolute\";\nBlockly.Msg[\"MATH_SINGLE_OP_ROOT\"] = \"square root\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_ABS\"] = \"Return the absolute value of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_EXP\"] = \"Return e to the power of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_LN\"] = \"Return the natural logarithm of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_LOG10\"] = \"Return the base 10 logarithm of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_NEG\"] = \"Return the negation of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_POW10\"] = \"Return 10 to the power of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_ROOT\"] = \"Return the square root of a number.\";\nBlockly.Msg[\"MATH_SUBTRACTION_SYMBOL\"] = \"-\";\nBlockly.Msg[\"MATH_TRIG_ACOS\"] = \"acos\";\nBlockly.Msg[\"MATH_TRIG_ASIN\"] = \"asin\";\nBlockly.Msg[\"MATH_TRIG_ATAN\"] = \"atan\";\nBlockly.Msg[\"MATH_TRIG_COS\"] = \"cos\";\nBlockly.Msg[\"MATH_TRIG_HELPURL\"] = \"https://en.wikipedia.org/wiki/Trigonometric_functions\";\nBlockly.Msg[\"MATH_TRIG_SIN\"] = \"sin\";\nBlockly.Msg[\"MATH_TRIG_TAN\"] = \"tan\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ACOS\"] = \"Return the arccosine of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ASIN\"] = \"Return the arcsine of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ATAN\"] = \"Return the arctangent of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_COS\"] = \"Return the cosine of a degree (not radian).\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_SIN\"] = \"Return the sine of a degree (not radian).\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_TAN\"] = \"Return the tangent of a degree (not radian).\";\nBlockly.Msg[\"MOVE_BLOCK\"] = \"Move Block\";\nBlockly.Msg[\"NEW_COLOUR_VARIABLE\"] = \"Create colour variable...\";\nBlockly.Msg[\"NEW_NUMBER_VARIABLE\"] = \"Create number variable...\";\nBlockly.Msg[\"NEW_STRING_VARIABLE\"] = \"Create string variable...\";\nBlockly.Msg[\"NEW_VARIABLE\"] = \"Create variable...\";\nBlockly.Msg[\"NEW_VARIABLE_TITLE\"] = \"New variable name:\";\nBlockly.Msg[\"NEW_VARIABLE_TYPE_TITLE\"] = \"New variable type:\";\nBlockly.Msg[\"OPTION_KEY\"] = \" Option\";\nBlockly.Msg[\"ORDINAL_NUMBER_SUFFIX\"] = \"\";\nBlockly.Msg[\"PASTE_SHORTCUT\"] = \"Paste\";\nBlockly.Msg[\"PROCEDURES_ALLOW_STATEMENTS\"] = \"allow statements\";\nBlockly.Msg[\"PROCEDURES_BEFORE_PARAMS\"] = \"with:\";\nBlockly.Msg[\"PROCEDURES_CALLNORETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_CALLNORETURN_TOOLTIP\"] = \"Run the user-defined function '%1'.\";\nBlockly.Msg[\"PROCEDURES_CALLRETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_CALLRETURN_TOOLTIP\"] = \"Run the user-defined function '%1' and use its output.\";\nBlockly.Msg[\"PROCEDURES_CALL_BEFORE_PARAMS\"] = \"with:\";\nBlockly.Msg[\"PROCEDURES_CALL_DISABLED_DEF_WARNING\"] = \"Can't run the user-defined function '%1' because the definition block is disabled.\";\nBlockly.Msg[\"PROCEDURES_CREATE_DO\"] = \"Create '%1'\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_COMMENT\"] = \"Describe this function...\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_DO\"] = \"\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_PROCEDURE\"] = \"do something\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_TITLE\"] = \"to\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_TOOLTIP\"] = \"Creates a function with no output.\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_RETURN\"] = \"return\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_TOOLTIP\"] = \"Creates a function with an output.\";\nBlockly.Msg[\"PROCEDURES_DEF_DUPLICATE_WARNING\"] = \"Warning: This function has duplicate parameters.\";\nBlockly.Msg[\"PROCEDURES_HIGHLIGHT_DEF\"] = \"Highlight function definition\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_HELPURL\"] = \"https://c2.com/cgi/wiki?GuardClause\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_TOOLTIP\"] = \"If a value is true, then return a second value.\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_WARNING\"] = \"Warning: This block may be used only within a function definition.\";\nBlockly.Msg[\"PROCEDURES_MUTATORARG_TITLE\"] = \"input name:\";\nBlockly.Msg[\"PROCEDURES_MUTATORARG_TOOLTIP\"] = \"Add an input to the function.\";\nBlockly.Msg[\"PROCEDURES_MUTATORCONTAINER_TITLE\"] = \"inputs\";\nBlockly.Msg[\"PROCEDURES_MUTATORCONTAINER_TOOLTIP\"] = \"Add, remove, or reorder inputs to this function.\";\nBlockly.Msg[\"REDO\"] = \"Redo\";\nBlockly.Msg[\"REMOVE_COMMENT\"] = \"Remove Comment\";\nBlockly.Msg[\"RENAME_VARIABLE\"] = \"Rename variable...\";\nBlockly.Msg[\"RENAME_VARIABLE_TITLE\"] = \"Rename all '%1' variables to:\";\nBlockly.Msg[\"SHORTCUTS_CODE_NAVIGATION\"] = \"Code navigation\";\nBlockly.Msg[\"SHORTCUTS_EDITING\"] = \"Editing\";\nBlockly.Msg[\"SHORTCUTS_GENERAL\"] = \"General\";\nBlockly.Msg[\"TEXT_APPEND_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-modification\";\nBlockly.Msg[\"TEXT_APPEND_TITLE\"] = \"to %1 append text %2\";\nBlockly.Msg[\"TEXT_APPEND_TOOLTIP\"] = \"Append some text to variable '%1'.\";\nBlockly.Msg[\"TEXT_CHANGECASE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#adjusting-text-case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_LOWERCASE\"] = \"to lower case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_TITLECASE\"] = \"to Title Case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_UPPERCASE\"] = \"to UPPER CASE\";\nBlockly.Msg[\"TEXT_CHANGECASE_TOOLTIP\"] = \"Return a copy of the text in a different case.\";\nBlockly.Msg[\"TEXT_CHARAT_FIRST\"] = \"get first letter\";\nBlockly.Msg[\"TEXT_CHARAT_FROM_END\"] = \"get letter # from end\";\nBlockly.Msg[\"TEXT_CHARAT_FROM_START\"] = \"get letter #\";\nBlockly.Msg[\"TEXT_CHARAT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#extracting-text\";\nBlockly.Msg[\"TEXT_CHARAT_LAST\"] = \"get last letter\";\nBlockly.Msg[\"TEXT_CHARAT_RANDOM\"] = \"get random letter\";\nBlockly.Msg[\"TEXT_CHARAT_TAIL\"] = \"\";\nBlockly.Msg[\"TEXT_CHARAT_TITLE\"] = \"in text %1 %2\";\nBlockly.Msg[\"TEXT_CHARAT_TOOLTIP\"] = \"Returns the letter at the specified position.\";\nBlockly.Msg[\"TEXT_COUNT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#counting-substrings\";\nBlockly.Msg[\"TEXT_COUNT_MESSAGE0\"] = \"count %1 in %2\";\nBlockly.Msg[\"TEXT_COUNT_TOOLTIP\"] = \"Count how many times some text occurs within some other text.\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_ITEM_TOOLTIP\"] = \"Add an item to the text.\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_TITLE_JOIN\"] = \"join\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this text block.\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_FROM_END\"] = \"to letter # from end\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_FROM_START\"] = \"to letter #\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_LAST\"] = \"to last letter\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_INPUT_IN_TEXT\"] = \"in text\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FIRST\"] = \"get substring from first letter\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FROM_END\"] = \"get substring from letter # from end\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FROM_START\"] = \"get substring from letter #\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_TAIL\"] = \"\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_TOOLTIP\"] = \"Returns a specified portion of the text.\";\nBlockly.Msg[\"TEXT_INDEXOF_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#finding-text\";\nBlockly.Msg[\"TEXT_INDEXOF_OPERATOR_FIRST\"] = \"find first occurrence of text\";\nBlockly.Msg[\"TEXT_INDEXOF_OPERATOR_LAST\"] = \"find last occurrence of text\";\nBlockly.Msg[\"TEXT_INDEXOF_TITLE\"] = \"in text %1 %2 %3\";\nBlockly.Msg[\"TEXT_INDEXOF_TOOLTIP\"] = \"Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.\";\nBlockly.Msg[\"TEXT_ISEMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#checking-for-empty-text\";\nBlockly.Msg[\"TEXT_ISEMPTY_TITLE\"] = \"%1 is empty\";\nBlockly.Msg[\"TEXT_ISEMPTY_TOOLTIP\"] = \"Returns true if the provided text is empty.\";\nBlockly.Msg[\"TEXT_JOIN_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-creation\";\nBlockly.Msg[\"TEXT_JOIN_TITLE_CREATEWITH\"] = \"create text with\";\nBlockly.Msg[\"TEXT_JOIN_TOOLTIP\"] = \"Create a piece of text by joining together any number of items.\";\nBlockly.Msg[\"TEXT_LENGTH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-modification\";\nBlockly.Msg[\"TEXT_LENGTH_TITLE\"] = \"length of %1\";\nBlockly.Msg[\"TEXT_LENGTH_TOOLTIP\"] = \"Returns the number of letters (including spaces) in the provided text.\";\nBlockly.Msg[\"TEXT_PRINT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#printing-text\";\nBlockly.Msg[\"TEXT_PRINT_TITLE\"] = \"print %1\";\nBlockly.Msg[\"TEXT_PRINT_TOOLTIP\"] = \"Print the specified text, number or other value.\";\nBlockly.Msg[\"TEXT_PROMPT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#getting-input-from-the-user\";\nBlockly.Msg[\"TEXT_PROMPT_TOOLTIP_NUMBER\"] = \"Prompt for user for a number.\";\nBlockly.Msg[\"TEXT_PROMPT_TOOLTIP_TEXT\"] = \"Prompt for user for some text.\";\nBlockly.Msg[\"TEXT_PROMPT_TYPE_NUMBER\"] = \"prompt for number with message\";\nBlockly.Msg[\"TEXT_PROMPT_TYPE_TEXT\"] = \"prompt for text with message\";\nBlockly.Msg[\"TEXT_REPLACE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#replacing-substrings\";\nBlockly.Msg[\"TEXT_REPLACE_MESSAGE0\"] = \"replace %1 with %2 in %3\";\nBlockly.Msg[\"TEXT_REPLACE_TOOLTIP\"] = \"Replace all occurances of some text within some other text.\";\nBlockly.Msg[\"TEXT_REVERSE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#reversing-text\";\nBlockly.Msg[\"TEXT_REVERSE_MESSAGE0\"] = \"reverse %1\";\nBlockly.Msg[\"TEXT_REVERSE_TOOLTIP\"] = \"Reverses the order of the characters in the text.\";\nBlockly.Msg[\"TEXT_TEXT_HELPURL\"] = \"https://en.wikipedia.org/wiki/String_(computer_science)\";\nBlockly.Msg[\"TEXT_TEXT_TOOLTIP\"] = \"A letter, word, or line of text.\";\nBlockly.Msg[\"TEXT_TRIM_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#trimming-removing-spaces\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_BOTH\"] = \"trim spaces from both sides of\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_LEFT\"] = \"trim spaces from left side of\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_RIGHT\"] = \"trim spaces from right side of\";\nBlockly.Msg[\"TEXT_TRIM_TOOLTIP\"] = \"Return a copy of the text with spaces removed from one or both ends.\";\nBlockly.Msg[\"TODAY\"] = \"Today\";\nBlockly.Msg[\"UNDO\"] = \"Undo\";\nBlockly.Msg[\"UNKNOWN\"] = \"Unknown\";\nBlockly.Msg[\"UNNAMED_KEY\"] = \"unnamed\";\nBlockly.Msg[\"VARIABLES_DEFAULT_NAME\"] = \"item\";\nBlockly.Msg[\"VARIABLES_GET_CREATE_SET\"] = \"Create 'set %1'\";\nBlockly.Msg[\"VARIABLES_GET_HELPURL\"] = \"https://github.com/google/blockly/wiki/Variables#get\";\nBlockly.Msg[\"VARIABLES_GET_TOOLTIP\"] = \"Returns the value of this variable.\";\nBlockly.Msg[\"VARIABLES_SET\"] = \"set %1 to %2\";\nBlockly.Msg[\"VARIABLES_SET_CREATE_GET\"] = \"Create 'get %1'\";\nBlockly.Msg[\"VARIABLES_SET_HELPURL\"] = \"https://github.com/google/blockly/wiki/Variables#set\";\nBlockly.Msg[\"VARIABLES_SET_TOOLTIP\"] = \"Sets this variable to be equal to the input.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS\"] = \"A variable named '%1' already exists.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE\"] = \"A variable named '%1' already exists for another type: '%2'.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER\"] = \"A variable named '%1' already exists as a parameter in the procedure '%2'.\";\nBlockly.Msg[\"WINDOWS\"] = \"Windows\";\nBlockly.Msg[\"WORKSPACE_ARIA_LABEL\"] = \"Blockly Workspace\";\nBlockly.Msg[\"WORKSPACE_COMMENT_DEFAULT_TEXT\"] = \"Say something...\";\nBlockly.Msg[\"CONTROLS_FOREACH_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_FOR_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_IF_ELSEIF_TITLE_ELSEIF\"] = Blockly.Msg[\"CONTROLS_IF_MSG_ELSEIF\"];\nBlockly.Msg[\"CONTROLS_IF_ELSE_TITLE_ELSE\"] = Blockly.Msg[\"CONTROLS_IF_MSG_ELSE\"];\nBlockly.Msg[\"CONTROLS_IF_IF_TITLE_IF\"] = Blockly.Msg[\"CONTROLS_IF_MSG_IF\"];\nBlockly.Msg[\"CONTROLS_IF_MSG_THEN\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"LISTS_CREATE_WITH_ITEM_TITLE\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"LISTS_GET_INDEX_HELPURL\"] = Blockly.Msg[\"LISTS_INDEX_OF_HELPURL\"];\nBlockly.Msg[\"LISTS_GET_INDEX_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_GET_SUBLIST_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_INDEX_OF_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_SET_INDEX_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"MATH_CHANGE_TITLE_ITEM\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_COMMENT\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_COMMENT\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_DO\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_DO\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_PROCEDURE\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_PROCEDURE\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_TITLE\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_TITLE\"];\nBlockly.Msg[\"TEXT_APPEND_VARIABLE\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"TEXT_CREATE_JOIN_ITEM_TITLE_ITEM\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\n\nBlockly.Msg[\"MATH_HUE\"] = \"230\";\nBlockly.Msg[\"LOOPS_HUE\"] = \"120\";\nBlockly.Msg[\"LISTS_HUE\"] = \"260\";\nBlockly.Msg[\"LOGIC_HUE\"] = \"210\";\nBlockly.Msg[\"VARIABLES_HUE\"] = \"330\";\nBlockly.Msg[\"TEXTS_HUE\"] = \"160\";\nBlockly.Msg[\"PROCEDURES_HUE\"] = \"290\";\nBlockly.Msg[\"COLOUR_HUE\"] = \"20\";\nBlockly.Msg[\"VARIABLES_DYNAMIC_HUE\"] = \"310\";\nreturn Blockly.Msg;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvbXNnL2VuLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsQ0FBQztBQUNELE1BQU0sSUFBMEMsSUFBSTtBQUNwRCxJQUFJLGlDQUFPLEVBQUUsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxrR0FBQztBQUN2QixJQUFJLEtBQUssc0JBT047QUFDSCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUEsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEhBQThIO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvbXNnL2VuLmpzPzg1YTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHsgLy8gQnJvd3NlclxuICAgIHZhciBtZXNzYWdlcyA9IGZhY3RvcnkoKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gbWVzc2FnZXMpIHtcbiAgICAgIHJvb3QuQmxvY2tseS5Nc2dba2V5XSA9IG1lc3NhZ2VzW2tleV07XG4gICAgfVxuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuLy8gVGhpcyBmaWxlIHdhcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC4gIERvIG5vdCBtb2RpZnkuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEJsb2NrbHkgPSBCbG9ja2x5IHx8IHsgTXNnOiBPYmplY3QuY3JlYXRlKG51bGwpIH07XG5cbkJsb2NrbHkuTXNnW1wiQUREX0NPTU1FTlRcIl0gPSBcIkFkZCBDb21tZW50XCI7XG5CbG9ja2x5Lk1zZ1tcIkFMVF9LRVlcIl0gPSBcIkFsdFwiO1xuQmxvY2tseS5Nc2dbXCJDQU5OT1RfREVMRVRFX1ZBUklBQkxFX1BST0NFRFVSRVwiXSA9IFwiQ2FuJ3QgZGVsZXRlIHRoZSB2YXJpYWJsZSAnJTEnIGJlY2F1c2UgaXQncyBwYXJ0IG9mIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBmdW5jdGlvbiAnJTInXCI7XG5CbG9ja2x5Lk1zZ1tcIkNIQU5HRV9WQUxVRV9USVRMRVwiXSA9IFwiQ2hhbmdlIHZhbHVlOlwiO1xuQmxvY2tseS5Nc2dbXCJDSFJPTUVfT1NcIl0gPSBcIkNocm9tZU9TXCI7XG5CbG9ja2x5Lk1zZ1tcIkNMRUFOX1VQXCJdID0gXCJDbGVhbiB1cCBCbG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiQ0xPU0VcIl0gPSBcIkNsb3NlXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTExBUFNFRF9XQVJOSU5HU19XQVJOSU5HXCJdID0gXCJDb2xsYXBzZWQgYmxvY2tzIGNvbnRhaW4gd2FybmluZ3MuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTExBUFNFX0FMTFwiXSA9IFwiQ29sbGFwc2UgQmxvY2tzXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTExBUFNFX0JMT0NLXCJdID0gXCJDb2xsYXBzZSBCbG9ja1wiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfQkxFTkRfQ09MT1VSMVwiXSA9IFwiY29sb3VyIDFcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0JMRU5EX0NPTE9VUjJcIl0gPSBcImNvbG91ciAyXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9CTEVORF9IRUxQVVJMXCJdID0gXCJodHRwczovL21leWVyd2ViLmNvbS9lcmljL3Rvb2xzL2NvbG9yLWJsZW5kLyM6OjpyZ2JwXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9CTEVORF9SQVRJT1wiXSA9IFwicmF0aW9cIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0JMRU5EX1RJVExFXCJdID0gXCJibGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfQkxFTkRfVE9PTFRJUFwiXSA9IFwiQmxlbmRzIHR3byBjb2xvdXJzIHRvZ2V0aGVyIHdpdGggYSBnaXZlbiByYXRpbyAoMC4wIC0gMS4wKS5cIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1BJQ0tFUl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2xvclwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUElDS0VSX1RPT0xUSVBcIl0gPSBcIkNob29zZSBhIGNvbG91ciBmcm9tIHRoZSBwYWxldHRlLlwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkFORE9NX0hFTFBVUkxcIl0gPSBcImh0dHA6Ly9yYW5kb21jb2xvdXIuY29tXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9SQU5ET01fVElUTEVcIl0gPSBcInJhbmRvbSBjb2xvdXJcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JBTkRPTV9UT09MVElQXCJdID0gXCJDaG9vc2UgYSBjb2xvdXIgYXQgcmFuZG9tLlwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX0JMVUVcIl0gPSBcImJsdWVcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JHQl9HUkVFTlwiXSA9IFwiZ3JlZW5cIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JHQl9IRUxQVVJMXCJdID0gXCJodHRwczovL3d3dy5kZWNlbWJlci5jb20vaHRtbC9zcGVjL2NvbG9ycGVyY29tcGFjdC5odG1sXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9SR0JfUkVEXCJdID0gXCJyZWRcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JHQl9USVRMRVwiXSA9IFwiY29sb3VyIHdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JHQl9UT09MVElQXCJdID0gXCJDcmVhdGUgYSBjb2xvdXIgd2l0aCB0aGUgc3BlY2lmaWVkIGFtb3VudCBvZiByZWQsIGdyZWVuLCBhbmQgYmx1ZS4gQWxsIHZhbHVlcyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiO1xuQmxvY2tseS5Nc2dbXCJDT01NQU5EX0tFWVwiXSA9IFwi4oyYIENvbW1hbmRcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvb3BzI2xvb3AtdGVybWluYXRpb24tYmxvY2tzXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19PUEVSQVRPUl9CUkVBS1wiXSA9IFwiYnJlYWsgb3V0IG9mIGxvb3BcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX09QRVJBVE9SX0NPTlRJTlVFXCJdID0gXCJjb250aW51ZSB3aXRoIG5leHQgaXRlcmF0aW9uIG9mIGxvb3BcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX1RPT0xUSVBfQlJFQUtcIl0gPSBcIkJyZWFrIG91dCBvZiB0aGUgY29udGFpbmluZyBsb29wLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfVE9PTFRJUF9DT05USU5VRVwiXSA9IFwiU2tpcCB0aGUgcmVzdCBvZiB0aGlzIGxvb3AsIGFuZCBjb250aW51ZSB3aXRoIHRoZSBuZXh0IGl0ZXJhdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX1dBUk5JTkdcIl0gPSBcIldhcm5pbmc6IFRoaXMgYmxvY2sgbWF5IG9ubHkgYmUgdXNlZCB3aXRoaW4gYSBsb29wLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JFQUNIX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvb3BzI2Zvci1lYWNoXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUkVBQ0hfVElUTEVcIl0gPSBcImZvciBlYWNoIGl0ZW0gJTEgaW4gbGlzdCAlMlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JFQUNIX1RPT0xUSVBcIl0gPSBcIkZvciBlYWNoIGl0ZW0gaW4gYSBsaXN0LCBzZXQgdGhlIHZhcmlhYmxlICclMScgdG8gdGhlIGl0ZW0sIGFuZCB0aGVuIGRvIHNvbWUgc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvb3BzI2NvdW50LXdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SX1RJVExFXCJdID0gXCJjb3VudCB3aXRoICUxIGZyb20gJTIgdG8gJTMgYnkgJTRcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SX1RPT0xUSVBcIl0gPSBcIkhhdmUgdGhlIHZhcmlhYmxlICclMScgdGFrZSBvbiB0aGUgdmFsdWVzIGZyb20gdGhlIHN0YXJ0IG51bWJlciB0byB0aGUgZW5kIG51bWJlciwgY291bnRpbmcgYnkgdGhlIHNwZWNpZmllZCBpbnRlcnZhbCwgYW5kIGRvIHRoZSBzcGVjaWZpZWQgYmxvY2tzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9FTFNFSUZfVE9PTFRJUFwiXSA9IFwiQWRkIGEgY29uZGl0aW9uIHRvIHRoZSBpZiBibG9jay5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfRUxTRV9UT09MVElQXCJdID0gXCJBZGQgYSBmaW5hbCwgY2F0Y2gtYWxsIGNvbmRpdGlvbiB0byB0aGUgaWYgYmxvY2suXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0lmRWxzZVwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9JRl9UT09MVElQXCJdID0gXCJBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBzZWN0aW9ucyB0byByZWNvbmZpZ3VyZSB0aGlzIGlmIGJsb2NrLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfRUxTRVwiXSA9IFwiZWxzZVwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfRUxTRUlGXCJdID0gXCJlbHNlIGlmXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19JRlwiXSA9IFwiaWZcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfVE9PTFRJUF8xXCJdID0gXCJJZiBhIHZhbHVlIGlzIHRydWUsIHRoZW4gZG8gc29tZSBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9UT09MVElQXzJcIl0gPSBcIklmIGEgdmFsdWUgaXMgdHJ1ZSwgdGhlbiBkbyB0aGUgZmlyc3QgYmxvY2sgb2Ygc3RhdGVtZW50cy4gT3RoZXJ3aXNlLCBkbyB0aGUgc2Vjb25kIGJsb2NrIG9mIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX1RPT0xUSVBfM1wiXSA9IFwiSWYgdGhlIGZpcnN0IHZhbHVlIGlzIHRydWUsIHRoZW4gZG8gdGhlIGZpcnN0IGJsb2NrIG9mIHN0YXRlbWVudHMuIE90aGVyd2lzZSwgaWYgdGhlIHNlY29uZCB2YWx1ZSBpcyB0cnVlLCBkbyB0aGUgc2Vjb25kIGJsb2NrIG9mIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX1RPT0xUSVBfNFwiXSA9IFwiSWYgdGhlIGZpcnN0IHZhbHVlIGlzIHRydWUsIHRoZW4gZG8gdGhlIGZpcnN0IGJsb2NrIG9mIHN0YXRlbWVudHMuIE90aGVyd2lzZSwgaWYgdGhlIHNlY29uZCB2YWx1ZSBpcyB0cnVlLCBkbyB0aGUgc2Vjb25kIGJsb2NrIG9mIHN0YXRlbWVudHMuIElmIG5vbmUgb2YgdGhlIHZhbHVlcyBhcmUgdHJ1ZSwgZG8gdGhlIGxhc3QgYmxvY2sgb2Ygc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zvcl9sb29wXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9JTlBVVF9ET1wiXSA9IFwiZG9cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX1RJVExFXCJdID0gXCJyZXBlYXQgJTEgdGltZXNcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX1RPT0xUSVBcIl0gPSBcIkRvIHNvbWUgc3RhdGVtZW50cyBzZXZlcmFsIHRpbWVzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19XSElMRVVOVElMX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvb3BzI3JlcGVhdFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19XSElMRVVOVElMX09QRVJBVE9SX1VOVElMXCJdID0gXCJyZXBlYXQgdW50aWxcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfV0hJTEVVTlRJTF9PUEVSQVRPUl9XSElMRVwiXSA9IFwicmVwZWF0IHdoaWxlXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1dISUxFVU5USUxfVE9PTFRJUF9VTlRJTFwiXSA9IFwiV2hpbGUgYSB2YWx1ZSBpcyBmYWxzZSwgdGhlbiBkbyBzb21lIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1dISUxFVU5USUxfVE9PTFRJUF9XSElMRVwiXSA9IFwiV2hpbGUgYSB2YWx1ZSBpcyB0cnVlLCB0aGVuIGRvIHNvbWUgc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTF9LRVlcIl0gPSBcIkN0cmxcIjtcbkJsb2NrbHkuTXNnW1wiQ09QWV9TSE9SVENVVFwiXSA9IFwiQ29weVwiO1xuQmxvY2tseS5Nc2dbXCJDVVRfU0hPUlRDVVRcIl0gPSBcIkN1dFwiO1xuQmxvY2tseS5Nc2dbXCJERUxFVEVfQUxMX0JMT0NLU1wiXSA9IFwiRGVsZXRlIGFsbCAlMSBibG9ja3M/XCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9CTE9DS1wiXSA9IFwiRGVsZXRlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9WQVJJQUJMRVwiXSA9IFwiRGVsZXRlIHRoZSAnJTEnIHZhcmlhYmxlXCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9WQVJJQUJMRV9DT05GSVJNQVRJT05cIl0gPSBcIkRlbGV0ZSAlMSB1c2VzIG9mIHRoZSAnJTInIHZhcmlhYmxlP1wiO1xuQmxvY2tseS5Nc2dbXCJERUxFVEVfWF9CTE9DS1NcIl0gPSBcIkRlbGV0ZSAlMSBCbG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiRElBTE9HX0NBTkNFTFwiXSA9IFwiQ2FuY2VsXCI7XG5CbG9ja2x5Lk1zZ1tcIkRJQUxPR19PS1wiXSA9IFwiT0tcIjtcbkJsb2NrbHkuTXNnW1wiRElTQUJMRV9CTE9DS1wiXSA9IFwiRGlzYWJsZSBCbG9ja1wiO1xuQmxvY2tseS5Nc2dbXCJEVVBMSUNBVEVfQkxPQ0tcIl0gPSBcIkR1cGxpY2F0ZVwiO1xuQmxvY2tseS5Nc2dbXCJEVVBMSUNBVEVfQ09NTUVOVFwiXSA9IFwiRHVwbGljYXRlIENvbW1lbnRcIjtcbkJsb2NrbHkuTXNnW1wiRURJVF9CTE9DS19DT05URU5UU1wiXSA9IFwiRWRpdCBCbG9jayBjb250ZW50c1wiO1xuQmxvY2tseS5Nc2dbXCJFTkFCTEVfQkxPQ0tcIl0gPSBcIkVuYWJsZSBCbG9ja1wiO1xuQmxvY2tseS5Nc2dbXCJFWFBBTkRfQUxMXCJdID0gXCJFeHBhbmQgQmxvY2tzXCI7XG5CbG9ja2x5Lk1zZ1tcIkVYUEFORF9CTE9DS1wiXSA9IFwiRXhwYW5kIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkVYVEVSTkFMX0lOUFVUU1wiXSA9IFwiRXh0ZXJuYWwgSW5wdXRzXCI7XG5CbG9ja2x5Lk1zZ1tcIkhFTFBcIl0gPSBcIkhlbHBcIjtcbkJsb2NrbHkuTXNnW1wiSEVMUF9QUk9NUFRcIl0gPSBcIlByZXNzICUxIGZvciBoZWxwIG9uIGtleWJvYXJkIGNvbnRyb2xzXCI7XG5CbG9ja2x5Lk1zZ1tcIklOTElORV9JTlBVVFNcIl0gPSBcIklubGluZSBJbnB1dHNcIjtcbkJsb2NrbHkuTXNnW1wiS0VZQk9BUkRfTkFWX0NPTlNUUkFJTkVEX01PVkVfSElOVFwiXSA9IFwiVXNlIHRoZSBhcnJvdyBrZXlzIHRvIG1vdmUsIHRoZW4gJTEgdG8gYWNjZXB0IHRoZSBwb3NpdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJLRVlCT0FSRF9OQVZfQ09QSUVEX0hJTlRcIl0gPSBcIkNvcGllZC4gUHJlc3MgJTEgdG8gcGFzdGUuXCI7XG5CbG9ja2x5Lk1zZ1tcIktFWUJPQVJEX05BVl9DVVRfSElOVFwiXSA9IFwiQ3V0LiBQcmVzcyAlMSB0byBwYXN0ZS5cIjtcbkJsb2NrbHkuTXNnW1wiS0VZQk9BUkRfTkFWX1VOQ09OU1RSQUlORURfTU9WRV9ISU5UXCJdID0gXCJIb2xkICUxIGFuZCB1c2UgYXJyb3cga2V5cyB0byBtb3ZlIGZyZWVseSwgdGhlbiAlMiB0byBhY2NlcHQgdGhlIHBvc2l0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJTlVYXCJdID0gXCJMaW51eFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfRU1QVFlfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjY3JlYXRlLWVtcHR5LWxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX0VNUFRZX1RJVExFXCJdID0gXCJjcmVhdGUgZW1wdHkgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfRU1QVFlfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyBhIGxpc3QsIG9mIGxlbmd0aCAwLCBjb250YWluaW5nIG5vIGRhdGEgcmVjb3Jkc1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9DT05UQUlORVJfVElUTEVfQUREXCJdID0gXCJsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0NPTlRBSU5FUl9UT09MVElQXCJdID0gXCJBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBzZWN0aW9ucyB0byByZWNvbmZpZ3VyZSB0aGlzIGxpc3QgYmxvY2suXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2NyZWF0ZS1saXN0LXdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX1dJVEhfSU5QVVRfV0lUSFwiXSA9IFwiY3JlYXRlIGxpc3Qgd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RPT0xUSVBcIl0gPSBcIkFkZCBhbiBpdGVtIHRvIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9UT09MVElQXCJdID0gXCJDcmVhdGUgYSBsaXN0IHdpdGggYW55IG51bWJlciBvZiBpdGVtcy5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0ZJUlNUXCJdID0gXCJmaXJzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfRlJPTV9FTkRcIl0gPSBcIiMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0ZST01fU1RBUlRcIl0gPSBcIiNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0dFVFwiXSA9IFwiZ2V0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9HRVRfUkVNT1ZFXCJdID0gXCJnZXQgYW5kIHJlbW92ZVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjZ2V0dGluZy1pdGVtcy1mcm9tLWEtbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfTEFTVFwiXSA9IFwibGFzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfUkFORE9NXCJdID0gXCJyYW5kb21cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1JFTU9WRVwiXSA9IFwicmVtb3ZlXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UQUlMXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX0ZJUlNUXCJdID0gXCJSZXR1cm5zIHRoZSBmaXJzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX0ZST01cIl0gPSBcIlJldHVybnMgdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9MQVNUXCJdID0gXCJSZXR1cm5zIHRoZSBsYXN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkFORE9NXCJdID0gXCJSZXR1cm5zIGEgcmFuZG9tIGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0ZJUlNUXCJdID0gXCJSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBmaXJzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9GUk9NXCJdID0gXCJSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0xBU1RcIl0gPSBcIlJlbW92ZXMgYW5kIHJldHVybnMgdGhlIGxhc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfUkFORE9NXCJdID0gXCJSZW1vdmVzIGFuZCByZXR1cm5zIGEgcmFuZG9tIGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfRklSU1RcIl0gPSBcIlJlbW92ZXMgdGhlIGZpcnN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfRlJPTVwiXSA9IFwiUmVtb3ZlcyB0aGUgaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0xBU1RcIl0gPSBcIlJlbW92ZXMgdGhlIGxhc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX1JFTU9WRV9SQU5ET01cIl0gPSBcIlJlbW92ZXMgYSByYW5kb20gaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX0VORF9GUk9NX0VORFwiXSA9IFwidG8gIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9FTkRfRlJPTV9TVEFSVFwiXSA9IFwidG8gI1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9FTkRfTEFTVFwiXSA9IFwidG8gbGFzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNnZXR0aW5nLWEtc3VibGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GSVJTVFwiXSA9IFwiZ2V0IHN1Yi1saXN0IGZyb20gZmlyc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRlJPTV9FTkRcIl0gPSBcImdldCBzdWItbGlzdCBmcm9tICMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRlJPTV9TVEFSVFwiXSA9IFwiZ2V0IHN1Yi1saXN0IGZyb20gI1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9UQUlMXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfVE9PTFRJUFwiXSA9IFwiQ3JlYXRlcyBhIGNvcHkgb2YgdGhlIHNwZWNpZmllZCBwb3J0aW9uIG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfRlJPTV9FTkRfVE9PTFRJUFwiXSA9IFwiJTEgaXMgdGhlIGxhc3QgaXRlbS5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfRlJPTV9TVEFSVF9UT09MVElQXCJdID0gXCIlMSBpcyB0aGUgZmlyc3QgaXRlbS5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfRklSU1RcIl0gPSBcImZpbmQgZmlyc3Qgb2NjdXJyZW5jZSBvZiBpdGVtXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOREVYX09GX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2ZpbmRpbmctaXRlbXMtaW4tYS1saXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOREVYX09GX0xBU1RcIl0gPSBcImZpbmQgbGFzdCBvY2N1cnJlbmNlIG9mIGl0ZW1cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0L2xhc3Qgb2NjdXJyZW5jZSBvZiB0aGUgaXRlbSBpbiB0aGUgbGlzdC4gUmV0dXJucyAlMSBpZiBpdGVtIGlzIG5vdCBmb3VuZC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5MSVNUXCJdID0gXCJpbiBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0lTRU1QVFlfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjaXMtZW1wdHlcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSVNFTVBUWV9USVRMRVwiXSA9IFwiJTEgaXMgZW1wdHlcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSVNFTVBUWV9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRydWUgaWYgdGhlIGxpc3QgaXMgZW1wdHkuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0xFTkdUSF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNsZW5ndGgtb2ZcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfTEVOR1RIX1RJVExFXCJdID0gXCJsZW5ndGggb2YgJTFcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfTEVOR1RIX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdGhlIGxlbmd0aCBvZiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1JFUEVBVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNjcmVhdGUtbGlzdC13aXRoXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1JFUEVBVF9USVRMRVwiXSA9IFwiY3JlYXRlIGxpc3Qgd2l0aCBpdGVtICUxIHJlcGVhdGVkICUyIHRpbWVzXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1JFUEVBVF9UT09MVElQXCJdID0gXCJDcmVhdGVzIGEgbGlzdCBjb25zaXN0aW5nIG9mIHRoZSBnaXZlbiB2YWx1ZSByZXBlYXRlZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcy5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVWRVJTRV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNyZXZlcnNpbmctYS1saXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1JFVkVSU0VfTUVTU0FHRTBcIl0gPSBcInJldmVyc2UgJTFcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVWRVJTRV9UT09MVElQXCJdID0gXCJSZXZlcnNlIGEgY29weSBvZiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNpbi1saXN0LS1zZXRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX0lOUFVUX1RPXCJdID0gXCJhc1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfSU5TRVJUXCJdID0gXCJpbnNlcnQgYXRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1NFVFwiXSA9IFwic2V0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9GSVJTVFwiXSA9IFwiSW5zZXJ0cyB0aGUgaXRlbSBhdCB0aGUgc3RhcnQgb2YgYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfRlJPTVwiXSA9IFwiSW5zZXJ0cyB0aGUgaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX0xBU1RcIl0gPSBcIkFwcGVuZCB0aGUgaXRlbSB0byB0aGUgZW5kIG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX1JBTkRPTVwiXSA9IFwiSW5zZXJ0cyB0aGUgaXRlbSByYW5kb21seSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9GSVJTVFwiXSA9IFwiU2V0cyB0aGUgZmlyc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9GUk9NXCJdID0gXCJTZXRzIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9TRVRfTEFTVFwiXSA9IFwiU2V0cyB0aGUgbGFzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX1JBTkRPTVwiXSA9IFwiU2V0cyBhIHJhbmRvbSBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNzb3J0aW5nLWEtbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX09SREVSX0FTQ0VORElOR1wiXSA9IFwiYXNjZW5kaW5nXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfT1JERVJfREVTQ0VORElOR1wiXSA9IFwiZGVzY2VuZGluZ1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX1RJVExFXCJdID0gXCJzb3J0ICUxICUyICUzXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfVE9PTFRJUFwiXSA9IFwiU29ydCBhIGNvcHkgb2YgYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX1RZUEVfSUdOT1JFQ0FTRVwiXSA9IFwiYWxwaGFiZXRpYywgaWdub3JlIGNhc2VcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9UWVBFX05VTUVSSUNcIl0gPSBcIm51bWVyaWNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9UWVBFX1RFWFRcIl0gPSBcImFscGhhYmV0aWNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU1BMSVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjc3BsaXR0aW5nLXN0cmluZ3MtYW5kLWpvaW5pbmctbGlzdHNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU1BMSVRfTElTVF9GUk9NX1RFWFRcIl0gPSBcIm1ha2UgbGlzdCBmcm9tIHRleHRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU1BMSVRfVEVYVF9GUk9NX0xJU1RcIl0gPSBcIm1ha2UgdGV4dCBmcm9tIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU1BMSVRfVE9PTFRJUF9KT0lOXCJdID0gXCJKb2luIGEgbGlzdCBvZiB0ZXh0cyBpbnRvIG9uZSB0ZXh0LCBzZXBhcmF0ZWQgYnkgYSBkZWxpbWl0ZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NQTElUX1RPT0xUSVBfU1BMSVRcIl0gPSBcIlNwbGl0IHRleHQgaW50byBhIGxpc3Qgb2YgdGV4dHMsIGJyZWFraW5nIGF0IGVhY2ggZGVsaW1pdGVyLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9XSVRIX0RFTElNSVRFUlwiXSA9IFwid2l0aCBkZWxpbWl0ZXJcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQk9PTEVBTl9GQUxTRVwiXSA9IFwiZmFsc2VcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQk9PTEVBTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9Mb2dpYyN2YWx1ZXNcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQk9PTEVBTl9UT09MVElQXCJdID0gXCJSZXR1cm5zIGVpdGhlciB0cnVlIG9yIGZhbHNlLlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX1RSVUVcIl0gPSBcInRydWVcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQ09NUEFSRV9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbmVxdWFsaXR5XyhtYXRoZW1hdGljcylcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQ09NUEFSRV9UT09MVElQX0VRXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiBib3RoIGlucHV0cyBlcXVhbCBlYWNoIG90aGVyLlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfR1RcIl0gPSBcIlJldHVybiB0cnVlIGlmIHRoZSBmaXJzdCBpbnB1dCBpcyBncmVhdGVyIHRoYW4gdGhlIHNlY29uZCBpbnB1dC5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQ09NUEFSRV9UT09MVElQX0dURVwiXSA9IFwiUmV0dXJuIHRydWUgaWYgdGhlIGZpcnN0IGlucHV0IGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgc2Vjb25kIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfTFRcIl0gPSBcIlJldHVybiB0cnVlIGlmIHRoZSBmaXJzdCBpbnB1dCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNlY29uZCBpbnB1dC5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfQ09NUEFSRV9UT09MVElQX0xURVwiXSA9IFwiUmV0dXJuIHRydWUgaWYgdGhlIGZpcnN0IGlucHV0IGlzIHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgc2Vjb25kIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfTkVRXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiBib3RoIGlucHV0cyBhcmUgbm90IGVxdWFsIHRvIGVhY2ggb3RoZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX05FR0FURV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9Mb2dpYyNub3RcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTkVHQVRFX1RJVExFXCJdID0gXCJub3QgJTFcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTkVHQVRFX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdHJ1ZSBpZiB0aGUgaW5wdXQgaXMgZmFsc2UuIFJldHVybnMgZmFsc2UgaWYgdGhlIGlucHV0IGlzIHRydWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX05VTExcIl0gPSBcIm51bGxcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTlVMTF9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OdWxsYWJsZV90eXBlXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX05VTExfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyBudWxsLlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19PUEVSQVRJT05fQU5EXCJdID0gXCJhbmRcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfT1BFUkFUSU9OX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvZ2ljI2xvZ2ljYWwtb3BlcmF0aW9uc1wiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19PUEVSQVRJT05fT1JcIl0gPSBcIm9yXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX09QRVJBVElPTl9UT09MVElQX0FORFwiXSA9IFwiUmV0dXJuIHRydWUgaWYgYm90aCBpbnB1dHMgYXJlIHRydWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX09QRVJBVElPTl9UT09MVElQX09SXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGlucHV0cyBpcyB0cnVlLlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19URVJOQVJZX0NPTkRJVElPTlwiXSA9IFwidGVzdFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19URVJOQVJZX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpLyUzRjpcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfVEVSTkFSWV9JRl9GQUxTRVwiXSA9IFwiaWYgZmFsc2VcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfVEVSTkFSWV9JRl9UUlVFXCJdID0gXCJpZiB0cnVlXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX1RFUk5BUllfVE9PTFRJUFwiXSA9IFwiQ2hlY2sgdGhlIGNvbmRpdGlvbiBpbiAndGVzdCcuIElmIHRoZSBjb25kaXRpb24gaXMgdHJ1ZSwgcmV0dXJucyB0aGUgJ2lmIHRydWUnIHZhbHVlOyBvdGhlcndpc2UgcmV0dXJucyB0aGUgJ2lmIGZhbHNlJyB2YWx1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFDX09TXCJdID0gXCJtYWNPU1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FERElUSU9OX1NZTUJPTFwiXSA9IFwiK1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQXJpdGhtZXRpY1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9BRERcIl0gPSBcIlJldHVybiB0aGUgc3VtIG9mIHRoZSB0d28gbnVtYmVycy5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfRElWSURFXCJdID0gXCJSZXR1cm4gdGhlIHF1b3RpZW50IG9mIHRoZSB0d28gbnVtYmVycy5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfTUlOVVNcIl0gPSBcIlJldHVybiB0aGUgZGlmZmVyZW5jZSBvZiB0aGUgdHdvIG51bWJlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQVJJVEhNRVRJQ19UT09MVElQX01VTFRJUExZXCJdID0gXCJSZXR1cm4gdGhlIHByb2R1Y3Qgb2YgdGhlIHR3byBudW1iZXJzLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9QT1dFUlwiXSA9IFwiUmV0dXJuIHRoZSBmaXJzdCBudW1iZXIgcmFpc2VkIHRvIHRoZSBwb3dlciBvZiB0aGUgc2Vjb25kIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BVEFOMl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BdGFuMlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FUQU4yX1RJVExFXCJdID0gXCJhdGFuMiBvZiBYOiUxIFk6JTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BVEFOMl9UT09MVElQXCJdID0gXCJSZXR1cm4gdGhlIGFyY3RhbmdlbnQgb2YgcG9pbnQgKFgsIFkpIGluIGRlZ3JlZXMgZnJvbSAtMTgwIHRvIDE4MC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DSEFOR0VfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJvZ3JhbW1pbmdfaWRpb20jSW5jcmVtZW50aW5nX2FfY291bnRlclwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NIQU5HRV9USVRMRVwiXSA9IFwiY2hhbmdlICUxIGJ5ICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ0hBTkdFX1RPT0xUSVBcIl0gPSBcIkFkZCBhIG51bWJlciB0byB2YXJpYWJsZSAnJTEnLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUQU5UX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hdGhlbWF0aWNhbF9jb25zdGFudFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUQU5UX1RPT0xUSVBcIl0gPSBcIlJldHVybiBvbmUgb2YgdGhlIGNvbW1vbiBjb25zdGFudHM6IM+AICgzLjE0MeKApiksIGUgKDIuNzE44oCmKSwgz4YgKDEuNjE44oCmKSwgc3FydCgyKSAoMS40MTTigKYpLCBzcXJ0KMK9KSAoMC43MDfigKYpLCBvciDiiJ4gKGluZmluaXR5KS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DT05TVFJBSU5fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2xhbXBpbmdfKGdyYXBoaWNzKVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUUkFJTl9USVRMRVwiXSA9IFwiY29uc3RyYWluICUxIGxvdyAlMiBoaWdoICUzXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ09OU1RSQUlOX1RPT0xUSVBcIl0gPSBcIkNvbnN0cmFpbiBhIG51bWJlciB0byBiZSBiZXR3ZWVuIHRoZSBzcGVjaWZpZWQgbGltaXRzIChpbmNsdXNpdmUpLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0RJVklTSU9OX1NZTUJPTFwiXSA9IFwiw7dcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9JU19ESVZJU0lCTEVfQllcIl0gPSBcImlzIGRpdmlzaWJsZSBieVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX0VWRU5cIl0gPSBcImlzIGV2ZW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9JU19ORUdBVElWRVwiXSA9IFwiaXMgbmVnYXRpdmVcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9JU19PRERcIl0gPSBcImlzIG9kZFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1BPU0lUSVZFXCJdID0gXCJpcyBwb3NpdGl2ZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1BSSU1FXCJdID0gXCJpcyBwcmltZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1RPT0xUSVBcIl0gPSBcIkNoZWNrIGlmIGEgbnVtYmVyIGlzIGFuIGV2ZW4sIG9kZCwgcHJpbWUsIHdob2xlLCBwb3NpdGl2ZSwgbmVnYXRpdmUsIG9yIGlmIGl0IGlzIGRpdmlzaWJsZSBieSBjZXJ0YWluIG51bWJlci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1dIT0xFXCJdID0gXCJpcyB3aG9sZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX01PRFVMT19IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfTU9EVUxPX1RJVExFXCJdID0gXCJyZW1haW5kZXIgb2YgJTEgw7cgJTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9NT0RVTE9fVE9PTFRJUFwiXSA9IFwiUmV0dXJuIHRoZSByZW1haW5kZXIgZnJvbSBkaXZpZGluZyB0aGUgdHdvIG51bWJlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfTVVMVElQTElDQVRJT05fU1lNQk9MXCJdID0gXCLDl1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX05VTUJFUl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OdW1iZXJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9OVU1CRVJfVE9PTFRJUFwiXSA9IFwiQSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX0hFTFBVUkxcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9BVkVSQUdFXCJdID0gXCJhdmVyYWdlIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfTUFYXCJdID0gXCJtYXggb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9NRURJQU5cIl0gPSBcIm1lZGlhbiBvZiBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX09QRVJBVE9SX01JTlwiXSA9IFwibWluIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfTU9ERVwiXSA9IFwibW9kZXMgb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9SQU5ET01cIl0gPSBcInJhbmRvbSBpdGVtIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfU1REX0RFVlwiXSA9IFwic3RhbmRhcmQgZGV2aWF0aW9uIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfU1VNXCJdID0gXCJzdW0gb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX0FWRVJBR0VcIl0gPSBcIlJldHVybiB0aGUgYXZlcmFnZSAoYXJpdGhtZXRpYyBtZWFuKSBvZiB0aGUgbnVtZXJpYyB2YWx1ZXMgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfTUFYXCJdID0gXCJSZXR1cm4gdGhlIGxhcmdlc3QgbnVtYmVyIGluIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX01FRElBTlwiXSA9IFwiUmV0dXJuIHRoZSBtZWRpYW4gbnVtYmVyIGluIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX01JTlwiXSA9IFwiUmV0dXJuIHRoZSBzbWFsbGVzdCBudW1iZXIgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfTU9ERVwiXSA9IFwiUmV0dXJuIGEgbGlzdCBvZiB0aGUgbW9zdCBjb21tb24gaXRlbShzKSBpbiB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfVE9PTFRJUF9SQU5ET01cIl0gPSBcIlJldHVybiBhIHJhbmRvbSBlbGVtZW50IGZyb20gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfU1REX0RFVlwiXSA9IFwiUmV0dXJuIHRoZSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfU1VNXCJdID0gXCJSZXR1cm4gdGhlIHN1bSBvZiBhbGwgdGhlIG51bWJlcnMgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUE9XRVJfU1lNQk9MXCJdID0gXCJeXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUkFORE9NX0ZMT0FUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbmRvbV9udW1iZXJfZ2VuZXJhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9GTE9BVF9USVRMRV9SQU5ET01cIl0gPSBcInJhbmRvbSBmcmFjdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9GTE9BVF9UT09MVElQXCJdID0gXCJSZXR1cm4gYSByYW5kb20gZnJhY3Rpb24gYmV0d2VlbiAwLjAgKGluY2x1c2l2ZSkgYW5kIDEuMCAoZXhjbHVzaXZlKS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9SQU5ET01fSU5UX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbmRvbV9udW1iZXJfZ2VuZXJhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9JTlRfVElUTEVcIl0gPSBcInJhbmRvbSBpbnRlZ2VyIGZyb20gJTEgdG8gJTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9SQU5ET01fSU5UX1RPT0xUSVBcIl0gPSBcIlJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gdGhlIHR3byBzcGVjaWZpZWQgbGltaXRzLCBpbmNsdXNpdmUuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUk9VTkRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUm91bmRpbmdcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORFwiXSA9IFwicm91bmRcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORERPV05cIl0gPSBcInJvdW5kIGRvd25cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORFVQXCJdID0gXCJyb3VuZCB1cFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JPVU5EX1RPT0xUSVBcIl0gPSBcIlJvdW5kIGEgbnVtYmVyIHVwIG9yIGRvd24uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NxdWFyZV9yb290XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX09QX0FCU09MVVRFXCJdID0gXCJhYnNvbHV0ZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9PUF9ST09UXCJdID0gXCJzcXVhcmUgcm9vdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9UT09MVElQX0FCU1wiXSA9IFwiUmV0dXJuIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9FWFBcIl0gPSBcIlJldHVybiBlIHRvIHRoZSBwb3dlciBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9MTlwiXSA9IFwiUmV0dXJuIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9MT0cxMFwiXSA9IFwiUmV0dXJuIHRoZSBiYXNlIDEwIGxvZ2FyaXRobSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9ORUdcIl0gPSBcIlJldHVybiB0aGUgbmVnYXRpb24gb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX1RPT0xUSVBfUE9XMTBcIl0gPSBcIlJldHVybiAxMCB0byB0aGUgcG93ZXIgb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX1RPT0xUSVBfUk9PVFwiXSA9IFwiUmV0dXJuIHRoZSBzcXVhcmUgcm9vdCBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TVUJUUkFDVElPTl9TWU1CT0xcIl0gPSBcIi1cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0FDT1NcIl0gPSBcImFjb3NcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0FTSU5cIl0gPSBcImFzaW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0FUQU5cIl0gPSBcImF0YW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0NPU1wiXSA9IFwiY29zXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ucmlnb25vbWV0cmljX2Z1bmN0aW9uc1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfU0lOXCJdID0gXCJzaW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RBTlwiXSA9IFwidGFuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX0FDT1NcIl0gPSBcIlJldHVybiB0aGUgYXJjY29zaW5lIG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfVE9PTFRJUF9BU0lOXCJdID0gXCJSZXR1cm4gdGhlIGFyY3NpbmUgb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX0FUQU5cIl0gPSBcIlJldHVybiB0aGUgYXJjdGFuZ2VudCBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfQ09TXCJdID0gXCJSZXR1cm4gdGhlIGNvc2luZSBvZiBhIGRlZ3JlZSAobm90IHJhZGlhbikuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX1NJTlwiXSA9IFwiUmV0dXJuIHRoZSBzaW5lIG9mIGEgZGVncmVlIChub3QgcmFkaWFuKS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfVEFOXCJdID0gXCJSZXR1cm4gdGhlIHRhbmdlbnQgb2YgYSBkZWdyZWUgKG5vdCByYWRpYW4pLlwiO1xuQmxvY2tseS5Nc2dbXCJNT1ZFX0JMT0NLXCJdID0gXCJNb3ZlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIk5FV19DT0xPVVJfVkFSSUFCTEVcIl0gPSBcIkNyZWF0ZSBjb2xvdXIgdmFyaWFibGUuLi5cIjtcbkJsb2NrbHkuTXNnW1wiTkVXX05VTUJFUl9WQVJJQUJMRVwiXSA9IFwiQ3JlYXRlIG51bWJlciB2YXJpYWJsZS4uLlwiO1xuQmxvY2tseS5Nc2dbXCJORVdfU1RSSU5HX1ZBUklBQkxFXCJdID0gXCJDcmVhdGUgc3RyaW5nIHZhcmlhYmxlLi4uXCI7XG5CbG9ja2x5Lk1zZ1tcIk5FV19WQVJJQUJMRVwiXSA9IFwiQ3JlYXRlIHZhcmlhYmxlLi4uXCI7XG5CbG9ja2x5Lk1zZ1tcIk5FV19WQVJJQUJMRV9USVRMRVwiXSA9IFwiTmV3IHZhcmlhYmxlIG5hbWU6XCI7XG5CbG9ja2x5Lk1zZ1tcIk5FV19WQVJJQUJMRV9UWVBFX1RJVExFXCJdID0gXCJOZXcgdmFyaWFibGUgdHlwZTpcIjtcbkJsb2NrbHkuTXNnW1wiT1BUSU9OX0tFWVwiXSA9IFwi4oylIE9wdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJPUkRJTkFMX05VTUJFUl9TVUZGSVhcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJQQVNURV9TSE9SVENVVFwiXSA9IFwiUGFzdGVcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19BTExPV19TVEFURU1FTlRTXCJdID0gXCJhbGxvdyBzdGF0ZW1lbnRzXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQkVGT1JFX1BBUkFNU1wiXSA9IFwid2l0aDpcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DQUxMTk9SRVRVUk5fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Vicm91dGluZVwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NBTExOT1JFVFVSTl9UT09MVElQXCJdID0gXCJSdW4gdGhlIHVzZXItZGVmaW5lZCBmdW5jdGlvbiAnJTEnLlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NBTExSRVRVUk5fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Vicm91dGluZVwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NBTExSRVRVUk5fVE9PTFRJUFwiXSA9IFwiUnVuIHRoZSB1c2VyLWRlZmluZWQgZnVuY3Rpb24gJyUxJyBhbmQgdXNlIGl0cyBvdXRwdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQ0FMTF9CRUZPUkVfUEFSQU1TXCJdID0gXCJ3aXRoOlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NBTExfRElTQUJMRURfREVGX1dBUk5JTkdcIl0gPSBcIkNhbid0IHJ1biB0aGUgdXNlci1kZWZpbmVkIGZ1bmN0aW9uICclMScgYmVjYXVzZSB0aGUgZGVmaW5pdGlvbiBibG9jayBpcyBkaXNhYmxlZC5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DUkVBVEVfRE9cIl0gPSBcIkNyZWF0ZSAnJTEnXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fQ09NTUVOVFwiXSA9IFwiRGVzY3JpYmUgdGhpcyBmdW5jdGlvbi4uLlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX0RPXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdWJyb3V0aW5lXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fUFJPQ0VEVVJFXCJdID0gXCJkbyBzb21ldGhpbmdcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9USVRMRVwiXSA9IFwidG9cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9UT09MVElQXCJdID0gXCJDcmVhdGVzIGEgZnVuY3Rpb24gd2l0aCBubyBvdXRwdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGUkVUVVJOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1YnJvdXRpbmVcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fUkVUVVJOXCJdID0gXCJyZXR1cm5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fVE9PTFRJUFwiXSA9IFwiQ3JlYXRlcyBhIGZ1bmN0aW9uIHdpdGggYW4gb3V0cHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRl9EVVBMSUNBVEVfV0FSTklOR1wiXSA9IFwiV2FybmluZzogVGhpcyBmdW5jdGlvbiBoYXMgZHVwbGljYXRlIHBhcmFtZXRlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfSElHSExJR0hUX0RFRlwiXSA9IFwiSGlnaGxpZ2h0IGZ1bmN0aW9uIGRlZmluaXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19JRlJFVFVSTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2MyLmNvbS9jZ2kvd2lraT9HdWFyZENsYXVzZVwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0lGUkVUVVJOX1RPT0xUSVBcIl0gPSBcIklmIGEgdmFsdWUgaXMgdHJ1ZSwgdGhlbiByZXR1cm4gYSBzZWNvbmQgdmFsdWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfSUZSRVRVUk5fV0FSTklOR1wiXSA9IFwiV2FybmluZzogVGhpcyBibG9jayBtYXkgYmUgdXNlZCBvbmx5IHdpdGhpbiBhIGZ1bmN0aW9uIGRlZmluaXRpb24uXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfTVVUQVRPUkFSR19USVRMRVwiXSA9IFwiaW5wdXQgbmFtZTpcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQVJHX1RPT0xUSVBcIl0gPSBcIkFkZCBhbiBpbnB1dCB0byB0aGUgZnVuY3Rpb24uXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfTVVUQVRPUkNPTlRBSU5FUl9USVRMRVwiXSA9IFwiaW5wdXRzXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfTVVUQVRPUkNPTlRBSU5FUl9UT09MVElQXCJdID0gXCJBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBpbnB1dHMgdG8gdGhpcyBmdW5jdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiUkVET1wiXSA9IFwiUmVkb1wiO1xuQmxvY2tseS5Nc2dbXCJSRU1PVkVfQ09NTUVOVFwiXSA9IFwiUmVtb3ZlIENvbW1lbnRcIjtcbkJsb2NrbHkuTXNnW1wiUkVOQU1FX1ZBUklBQkxFXCJdID0gXCJSZW5hbWUgdmFyaWFibGUuLi5cIjtcbkJsb2NrbHkuTXNnW1wiUkVOQU1FX1ZBUklBQkxFX1RJVExFXCJdID0gXCJSZW5hbWUgYWxsICclMScgdmFyaWFibGVzIHRvOlwiO1xuQmxvY2tseS5Nc2dbXCJTSE9SVENVVFNfQ09ERV9OQVZJR0FUSU9OXCJdID0gXCJDb2RlIG5hdmlnYXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiU0hPUlRDVVRTX0VESVRJTkdcIl0gPSBcIkVkaXRpbmdcIjtcbkJsb2NrbHkuTXNnW1wiU0hPUlRDVVRTX0dFTkVSQUxcIl0gPSBcIkdlbmVyYWxcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9BUFBFTkRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCN0ZXh0LW1vZGlmaWNhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0FQUEVORF9USVRMRVwiXSA9IFwidG8gJTEgYXBwZW5kIHRleHQgJTJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9BUFBFTkRfVE9PTFRJUFwiXSA9IFwiQXBwZW5kIHNvbWUgdGV4dCB0byB2YXJpYWJsZSAnJTEnLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQU5HRUNBU0VfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNhZGp1c3RpbmctdGV4dC1jYXNlXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBTkdFQ0FTRV9PUEVSQVRPUl9MT1dFUkNBU0VcIl0gPSBcInRvIGxvd2VyIGNhc2VcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFOR0VDQVNFX09QRVJBVE9SX1RJVExFQ0FTRVwiXSA9IFwidG8gVGl0bGUgQ2FzZVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQU5HRUNBU0VfT1BFUkFUT1JfVVBQRVJDQVNFXCJdID0gXCJ0byBVUFBFUiBDQVNFXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBTkdFQ0FTRV9UT09MVElQXCJdID0gXCJSZXR1cm4gYSBjb3B5IG9mIHRoZSB0ZXh0IGluIGEgZGlmZmVyZW50IGNhc2UuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX0ZJUlNUXCJdID0gXCJnZXQgZmlyc3QgbGV0dGVyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX0ZST01fRU5EXCJdID0gXCJnZXQgbGV0dGVyICMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfRlJPTV9TVEFSVFwiXSA9IFwiZ2V0IGxldHRlciAjXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjZXh0cmFjdGluZy10ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX0xBU1RcIl0gPSBcImdldCBsYXN0IGxldHRlclwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9SQU5ET01cIl0gPSBcImdldCByYW5kb20gbGV0dGVyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX1RBSUxcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9USVRMRVwiXSA9IFwiaW4gdGV4dCAlMSAlMlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRoZSBsZXR0ZXIgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DT1VOVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2NvdW50aW5nLXN1YnN0cmluZ3NcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DT1VOVF9NRVNTQUdFMFwiXSA9IFwiY291bnQgJTEgaW4gJTJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DT1VOVF9UT09MVElQXCJdID0gXCJDb3VudCBob3cgbWFueSB0aW1lcyBzb21lIHRleHQgb2NjdXJzIHdpdGhpbiBzb21lIG90aGVyIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ1JFQVRFX0pPSU5fSVRFTV9UT09MVElQXCJdID0gXCJBZGQgYW4gaXRlbSB0byB0aGUgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DUkVBVEVfSk9JTl9USVRMRV9KT0lOXCJdID0gXCJqb2luXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ1JFQVRFX0pPSU5fVE9PTFRJUFwiXSA9IFwiQWRkLCByZW1vdmUsIG9yIHJlb3JkZXIgc2VjdGlvbnMgdG8gcmVjb25maWd1cmUgdGhpcyB0ZXh0IGJsb2NrLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfRU5EX0ZST01fRU5EXCJdID0gXCJ0byBsZXR0ZXIgIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfRU5EX0ZST01fU1RBUlRcIl0gPSBcInRvIGxldHRlciAjXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19FTkRfTEFTVFwiXSA9IFwidG8gbGFzdCBsZXR0ZXJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjZXh0cmFjdGluZy1hLXJlZ2lvbi1vZi10ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19JTlBVVF9JTl9URVhUXCJdID0gXCJpbiB0ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GSVJTVFwiXSA9IFwiZ2V0IHN1YnN0cmluZyBmcm9tIGZpcnN0IGxldHRlclwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfU1RBUlRfRlJPTV9FTkRcIl0gPSBcImdldCBzdWJzdHJpbmcgZnJvbSBsZXR0ZXIgIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfU1RBUlRfRlJPTV9TVEFSVFwiXSA9IFwiZ2V0IHN1YnN0cmluZyBmcm9tIGxldHRlciAjXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19UQUlMXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgYSBzcGVjaWZpZWQgcG9ydGlvbiBvZiB0aGUgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JTkRFWE9GX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjZmluZGluZy10ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSU5ERVhPRl9PUEVSQVRPUl9GSVJTVFwiXSA9IFwiZmluZCBmaXJzdCBvY2N1cnJlbmNlIG9mIHRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JTkRFWE9GX09QRVJBVE9SX0xBU1RcIl0gPSBcImZpbmQgbGFzdCBvY2N1cnJlbmNlIG9mIHRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JTkRFWE9GX1RJVExFXCJdID0gXCJpbiB0ZXh0ICUxICUyICUzXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSU5ERVhPRl9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QvbGFzdCBvY2N1cnJlbmNlIG9mIHRoZSBmaXJzdCB0ZXh0IGluIHRoZSBzZWNvbmQgdGV4dC4gUmV0dXJucyAlMSBpZiB0ZXh0IGlzIG5vdCBmb3VuZC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JU0VNUFRZX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjY2hlY2tpbmctZm9yLWVtcHR5LXRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JU0VNUFRZX1RJVExFXCJdID0gXCIlMSBpcyBlbXB0eVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lTRU1QVFlfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCB0ZXh0IGlzIGVtcHR5LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0pPSU5fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCN0ZXh0LWNyZWF0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSk9JTl9USVRMRV9DUkVBVEVXSVRIXCJdID0gXCJjcmVhdGUgdGV4dCB3aXRoXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSk9JTl9UT09MVElQXCJdID0gXCJDcmVhdGUgYSBwaWVjZSBvZiB0ZXh0IGJ5IGpvaW5pbmcgdG9nZXRoZXIgYW55IG51bWJlciBvZiBpdGVtcy5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9MRU5HVEhfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCN0ZXh0LW1vZGlmaWNhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0xFTkdUSF9USVRMRVwiXSA9IFwibGVuZ3RoIG9mICUxXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfTEVOR1RIX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdGhlIG51bWJlciBvZiBsZXR0ZXJzIChpbmNsdWRpbmcgc3BhY2VzKSBpbiB0aGUgcHJvdmlkZWQgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUklOVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3ByaW50aW5nLXRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUklOVF9USVRMRVwiXSA9IFwicHJpbnQgJTFcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUklOVF9UT09MVElQXCJdID0gXCJQcmludCB0aGUgc3BlY2lmaWVkIHRleHQsIG51bWJlciBvciBvdGhlciB2YWx1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUk9NUFRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNnZXR0aW5nLWlucHV0LWZyb20tdGhlLXVzZXJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUk9NUFRfVE9PTFRJUF9OVU1CRVJcIl0gPSBcIlByb21wdCBmb3IgdXNlciBmb3IgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJPTVBUX1RPT0xUSVBfVEVYVFwiXSA9IFwiUHJvbXB0IGZvciB1c2VyIGZvciBzb21lIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJPTVBUX1RZUEVfTlVNQkVSXCJdID0gXCJwcm9tcHQgZm9yIG51bWJlciB3aXRoIG1lc3NhZ2VcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUk9NUFRfVFlQRV9URVhUXCJdID0gXCJwcm9tcHQgZm9yIHRleHQgd2l0aCBtZXNzYWdlXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUkVQTEFDRV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3JlcGxhY2luZy1zdWJzdHJpbmdzXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUkVQTEFDRV9NRVNTQUdFMFwiXSA9IFwicmVwbGFjZSAlMSB3aXRoICUyIGluICUzXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUkVQTEFDRV9UT09MVElQXCJdID0gXCJSZXBsYWNlIGFsbCBvY2N1cmFuY2VzIG9mIHNvbWUgdGV4dCB3aXRoaW4gc29tZSBvdGhlciB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1JFVkVSU0VfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNyZXZlcnNpbmctdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1JFVkVSU0VfTUVTU0FHRTBcIl0gPSBcInJldmVyc2UgJTFcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9SRVZFUlNFX1RPT0xUSVBcIl0gPSBcIlJldmVyc2VzIHRoZSBvcmRlciBvZiB0aGUgY2hhcmFjdGVycyBpbiB0aGUgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9URVhUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N0cmluZ18oY29tcHV0ZXJfc2NpZW5jZSlcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9URVhUX1RPT0xUSVBcIl0gPSBcIkEgbGV0dGVyLCB3b3JkLCBvciBsaW5lIG9mIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVFJJTV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3RyaW1taW5nLXJlbW92aW5nLXNwYWNlc1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RSSU1fT1BFUkFUT1JfQk9USFwiXSA9IFwidHJpbSBzcGFjZXMgZnJvbSBib3RoIHNpZGVzIG9mXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVFJJTV9PUEVSQVRPUl9MRUZUXCJdID0gXCJ0cmltIHNwYWNlcyBmcm9tIGxlZnQgc2lkZSBvZlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RSSU1fT1BFUkFUT1JfUklHSFRcIl0gPSBcInRyaW0gc3BhY2VzIGZyb20gcmlnaHQgc2lkZSBvZlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RSSU1fVE9PTFRJUFwiXSA9IFwiUmV0dXJuIGEgY29weSBvZiB0aGUgdGV4dCB3aXRoIHNwYWNlcyByZW1vdmVkIGZyb20gb25lIG9yIGJvdGggZW5kcy5cIjtcbkJsb2NrbHkuTXNnW1wiVE9EQVlcIl0gPSBcIlRvZGF5XCI7XG5CbG9ja2x5Lk1zZ1tcIlVORE9cIl0gPSBcIlVuZG9cIjtcbkJsb2NrbHkuTXNnW1wiVU5LTk9XTlwiXSA9IFwiVW5rbm93blwiO1xuQmxvY2tseS5Nc2dbXCJVTk5BTUVEX0tFWVwiXSA9IFwidW5uYW1lZFwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfREVGQVVMVF9OQU1FXCJdID0gXCJpdGVtXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19HRVRfQ1JFQVRFX1NFVFwiXSA9IFwiQ3JlYXRlICdzZXQgJTEnXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19HRVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVmFyaWFibGVzI2dldFwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfR0VUX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdGhlIHZhbHVlIG9mIHRoaXMgdmFyaWFibGUuXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19TRVRcIl0gPSBcInNldCAlMSB0byAlMlwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfU0VUX0NSRUFURV9HRVRcIl0gPSBcIkNyZWF0ZSAnZ2V0ICUxJ1wiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfU0VUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1ZhcmlhYmxlcyNzZXRcIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX1NFVF9UT09MVElQXCJdID0gXCJTZXRzIHRoaXMgdmFyaWFibGUgdG8gYmUgZXF1YWwgdG8gdGhlIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRV9BTFJFQURZX0VYSVNUU1wiXSA9IFwiQSB2YXJpYWJsZSBuYW1lZCAnJTEnIGFscmVhZHkgZXhpc3RzLlwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRV9BTFJFQURZX0VYSVNUU19GT1JfQU5PVEhFUl9UWVBFXCJdID0gXCJBIHZhcmlhYmxlIG5hbWVkICclMScgYWxyZWFkeSBleGlzdHMgZm9yIGFub3RoZXIgdHlwZTogJyUyJy5cIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVfQUxSRUFEWV9FWElTVFNfRk9SX0FfUEFSQU1FVEVSXCJdID0gXCJBIHZhcmlhYmxlIG5hbWVkICclMScgYWxyZWFkeSBleGlzdHMgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlIHByb2NlZHVyZSAnJTInLlwiO1xuQmxvY2tseS5Nc2dbXCJXSU5ET1dTXCJdID0gXCJXaW5kb3dzXCI7XG5CbG9ja2x5Lk1zZ1tcIldPUktTUEFDRV9BUklBX0xBQkVMXCJdID0gXCJCbG9ja2x5IFdvcmtzcGFjZVwiO1xuQmxvY2tseS5Nc2dbXCJXT1JLU1BBQ0VfQ09NTUVOVF9ERUZBVUxUX1RFWFRcIl0gPSBcIlNheSBzb21ldGhpbmcuLi5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SRUFDSF9JTlBVVF9ET1wiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPXCJdO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JfSU5QVVRfRE9cIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9JTlBVVF9ET1wiXTtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfRUxTRUlGX1RJVExFX0VMU0VJRlwiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX0VMU0VJRlwiXTtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfRUxTRV9USVRMRV9FTFNFXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfRUxTRVwiXTtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfSUZfVElUTEVfSUZcIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19JRlwiXTtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX1RIRU5cIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9JTlBVVF9ET1wiXTtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfV0hJTEVVTlRJTF9JTlBVVF9ET1wiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPXCJdO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RJVExFXCJdID0gQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfREVGQVVMVF9OQU1FXCJdO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfSEVMUFVSTFwiXSA9IEJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfSEVMUFVSTFwiXTtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0lOUFVUX0lOX0xJU1RcIl0gPSBCbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOTElTVFwiXTtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfSU5QVVRfSU5fTElTVFwiXSA9IEJsb2NrbHkuTXNnW1wiTElTVFNfSU5MSVNUXCJdO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9PRl9JTlBVVF9JTl9MSVNUXCJdID0gQmxvY2tseS5Nc2dbXCJMSVNUU19JTkxJU1RcIl07XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9JTlBVVF9JTl9MSVNUXCJdID0gQmxvY2tseS5Nc2dbXCJMSVNUU19JTkxJU1RcIl07XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ0hBTkdFX1RJVExFX0lURU1cIl0gPSBCbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19ERUZBVUxUX05BTUVcIl07XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGUkVUVVJOX0NPTU1FTlRcIl0gPSBCbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fQ09NTUVOVFwiXTtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fRE9cIl0gPSBCbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fRE9cIl07XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGUkVUVVJOX1BST0NFRFVSRVwiXSA9IEJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9QUk9DRURVUkVcIl07XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGUkVUVVJOX1RJVExFXCJdID0gQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX1RJVExFXCJdO1xuQmxvY2tseS5Nc2dbXCJURVhUX0FQUEVORF9WQVJJQUJMRVwiXSA9IEJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0RFRkFVTFRfTkFNRVwiXTtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DUkVBVEVfSk9JTl9JVEVNX1RJVExFX0lURU1cIl0gPSBCbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19ERUZBVUxUX05BTUVcIl07XG5cbkJsb2NrbHkuTXNnW1wiTUFUSF9IVUVcIl0gPSBcIjIzMFwiO1xuQmxvY2tseS5Nc2dbXCJMT09QU19IVUVcIl0gPSBcIjEyMFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19IVUVcIl0gPSBcIjI2MFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19IVUVcIl0gPSBcIjIxMFwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfSFVFXCJdID0gXCIzMzBcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVFNfSFVFXCJdID0gXCIxNjBcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19IVUVcIl0gPSBcIjI5MFwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfSFVFXCJdID0gXCIyMFwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfRFlOQU1JQ19IVUVcIl0gPSBcIjMxMFwiO1xucmV0dXJuIEJsb2NrbHkuTXNnO1xufSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/blockly/msg/en.js\n");

/***/ }),

/***/ "../../node_modules/blockly/blockly.mjs":
/*!**********************************************!*\
  !*** ../../node_modules/blockly/blockly.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Block: () => (/* binding */ Block),\n/* harmony export */   BlockFlyoutInflater: () => (/* binding */ BlockFlyoutInflater),\n/* harmony export */   BlockNavigationPolicy: () => (/* binding */ BlockNavigationPolicy),\n/* harmony export */   BlockSvg: () => (/* binding */ BlockSvg),\n/* harmony export */   Blocks: () => (/* binding */ Blocks),\n/* harmony export */   ButtonFlyoutInflater: () => (/* binding */ ButtonFlyoutInflater),\n/* harmony export */   COLLAPSED_FIELD_NAME: () => (/* binding */ COLLAPSED_FIELD_NAME),\n/* harmony export */   COLLAPSED_INPUT_NAME: () => (/* binding */ COLLAPSED_INPUT_NAME),\n/* harmony export */   COLLAPSE_CHARS: () => (/* binding */ COLLAPSE_CHARS),\n/* harmony export */   CodeGenerator: () => (/* binding */ CodeGenerator),\n/* harmony export */   CollapsibleToolboxCategory: () => (/* binding */ CollapsibleToolboxCategory),\n/* harmony export */   ComponentManager: () => (/* binding */ ComponentManager),\n/* harmony export */   Connection: () => (/* binding */ Connection),\n/* harmony export */   ConnectionChecker: () => (/* binding */ ConnectionChecker),\n/* harmony export */   ConnectionDB: () => (/* binding */ ConnectionDB),\n/* harmony export */   ConnectionNavigationPolicy: () => (/* binding */ ConnectionNavigationPolicy),\n/* harmony export */   ConnectionType: () => (/* binding */ ConnectionType),\n/* harmony export */   ContextMenu: () => (/* binding */ ContextMenu),\n/* harmony export */   ContextMenuItems: () => (/* binding */ ContextMenuItems),\n/* harmony export */   ContextMenuRegistry: () => (/* binding */ ContextMenuRegistry),\n/* harmony export */   Css: () => (/* binding */ Css),\n/* harmony export */   DELETE_VARIABLE_ID: () => (/* binding */ DELETE_VARIABLE_ID),\n/* harmony export */   DeleteArea: () => (/* binding */ DeleteArea),\n/* harmony export */   DragTarget: () => (/* binding */ DragTarget),\n/* harmony export */   DropDownDiv: () => (/* binding */ DropDownDiv),\n/* harmony export */   Events: () => (/* binding */ Events),\n/* harmony export */   Extensions: () => (/* binding */ Extensions),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FieldCheckbox: () => (/* binding */ FieldCheckbox),\n/* harmony export */   FieldDropdown: () => (/* binding */ FieldDropdown),\n/* harmony export */   FieldImage: () => (/* binding */ FieldImage),\n/* harmony export */   FieldLabel: () => (/* binding */ FieldLabel),\n/* harmony export */   FieldLabelSerializable: () => (/* binding */ FieldLabelSerializable),\n/* harmony export */   FieldNavigationPolicy: () => (/* binding */ FieldNavigationPolicy),\n/* harmony export */   FieldNumber: () => (/* binding */ FieldNumber),\n/* harmony export */   FieldTextInput: () => (/* binding */ FieldTextInput),\n/* harmony export */   FieldVariable: () => (/* binding */ FieldVariable),\n/* harmony export */   Flyout: () => (/* binding */ Flyout),\n/* harmony export */   FlyoutButton: () => (/* binding */ FlyoutButton),\n/* harmony export */   FlyoutButtonNavigationPolicy: () => (/* binding */ FlyoutButtonNavigationPolicy),\n/* harmony export */   FlyoutItem: () => (/* binding */ FlyoutItem),\n/* harmony export */   FlyoutMetricsManager: () => (/* binding */ FlyoutMetricsManager),\n/* harmony export */   FlyoutNavigationPolicy: () => (/* binding */ FlyoutNavigationPolicy),\n/* harmony export */   FlyoutNavigator: () => (/* binding */ FlyoutNavigator),\n/* harmony export */   FlyoutSeparator: () => (/* binding */ FlyoutSeparator),\n/* harmony export */   FlyoutSeparatorNavigationPolicy: () => (/* binding */ FlyoutSeparatorNavigationPolicy),\n/* harmony export */   FocusManager: () => (/* binding */ FocusManager),\n/* harmony export */   FocusableTreeTraverser: () => (/* binding */ FocusableTreeTraverser),\n/* harmony export */   Generator: () => (/* binding */ Generator),\n/* harmony export */   Gesture: () => (/* binding */ Gesture),\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   HorizontalFlyout: () => (/* binding */ HorizontalFlyout),\n/* harmony export */   INPUT_VALUE: () => (/* binding */ INPUT_VALUE),\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   InsertionMarkerPreviewer: () => (/* binding */ InsertionMarkerPreviewer),\n/* harmony export */   KeyboardNavigationController: () => (/* binding */ KeyboardNavigationController),\n/* harmony export */   LabelFlyoutInflater: () => (/* binding */ LabelFlyoutInflater),\n/* harmony export */   LineCursor: () => (/* binding */ LineCursor),\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   MarkerManager: () => (/* binding */ MarkerManager),\n/* harmony export */   Menu: () => (/* binding */ Menu),\n/* harmony export */   MenuItem: () => (/* binding */ MenuItem),\n/* harmony export */   MetricsManager: () => (/* binding */ MetricsManager),\n/* harmony export */   Msg: () => (/* binding */ Msg),\n/* harmony export */   NEXT_STATEMENT: () => (/* binding */ NEXT_STATEMENT),\n/* harmony export */   Names: () => (/* binding */ Names),\n/* harmony export */   Navigator: () => (/* binding */ Navigator),\n/* harmony export */   OPPOSITE_TYPE: () => (/* binding */ OPPOSITE_TYPE),\n/* harmony export */   OUTPUT_VALUE: () => (/* binding */ OUTPUT_VALUE),\n/* harmony export */   Options: () => (/* binding */ Options),\n/* harmony export */   PREVIOUS_STATEMENT: () => (/* binding */ PREVIOUS_STATEMENT),\n/* harmony export */   PROCEDURE_CATEGORY_NAME: () => (/* binding */ PROCEDURE_CATEGORY_NAME),\n/* harmony export */   Procedures: () => (/* binding */ Procedures),\n/* harmony export */   RENAME_VARIABLE_ID: () => (/* binding */ RENAME_VARIABLE_ID),\n/* harmony export */   RenderedConnection: () => (/* binding */ RenderedConnection),\n/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar),\n/* harmony export */   ScrollbarPair: () => (/* binding */ ScrollbarPair),\n/* harmony export */   SeparatorFlyoutInflater: () => (/* binding */ SeparatorFlyoutInflater),\n/* harmony export */   ShortcutItems: () => (/* binding */ ShortcutItems),\n/* harmony export */   ShortcutRegistry: () => (/* binding */ ShortcutRegistry),\n/* harmony export */   TOOLBOX_AT_BOTTOM: () => (/* binding */ TOOLBOX_AT_BOTTOM),\n/* harmony export */   TOOLBOX_AT_LEFT: () => (/* binding */ TOOLBOX_AT_LEFT),\n/* harmony export */   TOOLBOX_AT_RIGHT: () => (/* binding */ TOOLBOX_AT_RIGHT),\n/* harmony export */   TOOLBOX_AT_TOP: () => (/* binding */ TOOLBOX_AT_TOP),\n/* harmony export */   Theme: () => (/* binding */ Theme),\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager),\n/* harmony export */   Themes: () => (/* binding */ Themes),\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   Toolbox: () => (/* binding */ Toolbox),\n/* harmony export */   ToolboxCategory: () => (/* binding */ ToolboxCategory),\n/* harmony export */   ToolboxItem: () => (/* binding */ ToolboxItem),\n/* harmony export */   ToolboxSeparator: () => (/* binding */ ToolboxSeparator),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   Touch: () => (/* binding */ Touch),\n/* harmony export */   Trashcan: () => (/* binding */ Trashcan),\n/* harmony export */   UnattachedFieldError: () => (/* binding */ UnattachedFieldError),\n/* harmony export */   VARIABLE_CATEGORY_NAME: () => (/* binding */ VARIABLE_CATEGORY_NAME),\n/* harmony export */   VARIABLE_DYNAMIC_CATEGORY_NAME: () => (/* binding */ VARIABLE_DYNAMIC_CATEGORY_NAME),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   VariableMap: () => (/* binding */ VariableMap),\n/* harmony export */   VariableModel: () => (/* binding */ VariableModel),\n/* harmony export */   Variables: () => (/* binding */ Variables),\n/* harmony export */   VariablesDynamic: () => (/* binding */ VariablesDynamic),\n/* harmony export */   VerticalFlyout: () => (/* binding */ VerticalFlyout),\n/* harmony export */   WidgetDiv: () => (/* binding */ WidgetDiv),\n/* harmony export */   Workspace: () => (/* binding */ Workspace),\n/* harmony export */   WorkspaceAudio: () => (/* binding */ WorkspaceAudio),\n/* harmony export */   WorkspaceDragger: () => (/* binding */ WorkspaceDragger),\n/* harmony export */   WorkspaceNavigationPolicy: () => (/* binding */ WorkspaceNavigationPolicy),\n/* harmony export */   WorkspaceSvg: () => (/* binding */ WorkspaceSvg),\n/* harmony export */   Xml: () => (/* binding */ Xml),\n/* harmony export */   ZoomControls: () => (/* binding */ ZoomControls),\n/* harmony export */   blockAnimations: () => (/* binding */ blockAnimations),\n/* harmony export */   blockRendering: () => (/* binding */ blockRendering),\n/* harmony export */   browserEvents: () => (/* binding */ browserEvents),\n/* harmony export */   bubbles: () => (/* binding */ bubbles),\n/* harmony export */   bumpObjects: () => (/* binding */ bumpObjects),\n/* harmony export */   clipboard: () => (/* binding */ clipboard),\n/* harmony export */   comments: () => (/* binding */ comments),\n/* harmony export */   common: () => (/* binding */ common),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   constants: () => (/* binding */ constants),\n/* harmony export */   defineBlocksWithJsonArray: () => (/* binding */ defineBlocksWithJsonArray),\n/* harmony export */   dialog: () => (/* binding */ dialog),\n/* harmony export */   dragging: () => (/* binding */ dragging),\n/* harmony export */   fieldRegistry: () => (/* binding */ fieldRegistry),\n/* harmony export */   geras: () => (/* binding */ geras),\n/* harmony export */   getFocusManager: () => (/* binding */ getFocusManager),\n/* harmony export */   getMainWorkspace: () => (/* binding */ getMainWorkspace),\n/* harmony export */   getSelected: () => (/* binding */ getSelected),\n/* harmony export */   hasBubble: () => (/* binding */ hasBubble),\n/* harmony export */   hideChaff: () => (/* binding */ hideChaff),\n/* harmony export */   icons: () => (/* binding */ icons),\n/* harmony export */   inject: () => (/* binding */ inject),\n/* harmony export */   inputs: () => (/* binding */ inputs),\n/* harmony export */   isCopyable: () => (/* binding */ isCopyable),\n/* harmony export */   isDeletable: () => (/* binding */ isDeletable),\n/* harmony export */   isDraggable: () => (/* binding */ isDraggable),\n/* harmony export */   isIcon: () => (/* binding */ isIcon),\n/* harmony export */   isObservable: () => (/* binding */ isObservable),\n/* harmony export */   isPaster: () => (/* binding */ isPaster),\n/* harmony export */   isRenderedElement: () => (/* binding */ isRenderedElement),\n/* harmony export */   isSelectable: () => (/* binding */ isSelectable),\n/* harmony export */   isSerializable: () => (/* binding */ isSerializable),\n/* harmony export */   isVariableBackedParameterModel: () => (/* binding */ isVariableBackedParameterModel),\n/* harmony export */   keyboardNavigationController: () => (/* binding */ keyboardNavigationController),\n/* harmony export */   layers: () => (/* binding */ layers),\n/* harmony export */   navigateBlock: () => (/* binding */ navigateBlock),\n/* harmony export */   navigateStacks: () => (/* binding */ navigateStacks),\n/* harmony export */   procedures: () => (/* binding */ procedures),\n/* harmony export */   registry: () => (/* binding */ registry),\n/* harmony export */   renderManagement: () => (/* binding */ renderManagement),\n/* harmony export */   serialization: () => (/* binding */ serialization),\n/* harmony export */   setLocale: () => (/* binding */ setLocale),\n/* harmony export */   setParentContainer: () => (/* binding */ setParentContainer),\n/* harmony export */   svgResize: () => (/* binding */ svgResize),\n/* harmony export */   thrasos: () => (/* binding */ thrasos),\n/* harmony export */   uiPosition: () => (/* binding */ uiPosition),\n/* harmony export */   utils: () => (/* binding */ utils),\n/* harmony export */   zelos: () => (/* binding */ zelos)\n/* harmony export */ });\n/* harmony import */ var _blockly_compressed_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blockly_compressed.js */ \"../../node_modules/blockly/blockly_compressed.js\");\n\nconst {\n  Block,\n  BlockFlyoutInflater,\n  BlockNavigationPolicy,\n  BlockSvg,\n  Blocks,\n  ButtonFlyoutInflater,\n  COLLAPSED_FIELD_NAME,\n  COLLAPSED_INPUT_NAME,\n  COLLAPSE_CHARS,\n  CodeGenerator,\n  CollapsibleToolboxCategory,\n  ComponentManager,\n  Connection,\n  ConnectionChecker,\n  ConnectionDB,\n  ConnectionNavigationPolicy,\n  ConnectionType,\n  ContextMenu,\n  ContextMenuItems,\n  ContextMenuRegistry,\n  Css,\n  DELETE_VARIABLE_ID,\n  DeleteArea,\n  DragTarget,\n  DropDownDiv,\n  Events,\n  Extensions,\n  Field,\n  FieldCheckbox,\n  FieldDropdown,\n  FieldImage,\n  FieldLabel,\n  FieldLabelSerializable,\n  FieldNavigationPolicy,\n  FieldNumber,\n  FieldTextInput,\n  FieldVariable,\n  Flyout,\n  FlyoutButton,\n  FlyoutButtonNavigationPolicy,\n  FlyoutItem,\n  FlyoutMetricsManager,\n  FlyoutNavigationPolicy,\n  FlyoutNavigator,\n  FlyoutSeparator,\n  FlyoutSeparatorNavigationPolicy,\n  FocusManager,\n  FocusableTreeTraverser,\n  Generator,\n  Gesture,\n  Grid,\n  HorizontalFlyout,\n  INPUT_VALUE,\n  Input,\n  InsertionMarkerPreviewer,\n  KeyboardNavigationController,\n  LabelFlyoutInflater,\n  LineCursor,\n  Marker,\n  MarkerManager,\n  Menu,\n  MenuItem,\n  MetricsManager,\n  Msg,\n  NEXT_STATEMENT,\n  Names,\n  Navigator,\n  OPPOSITE_TYPE,\n  OUTPUT_VALUE,\n  Options,\n  PREVIOUS_STATEMENT,\n  PROCEDURE_CATEGORY_NAME,\n  Procedures,\n  RENAME_VARIABLE_ID,\n  RenderedConnection,\n  Scrollbar,\n  ScrollbarPair,\n  SeparatorFlyoutInflater,\n  ShortcutItems,\n  ShortcutRegistry,\n  TOOLBOX_AT_BOTTOM,\n  TOOLBOX_AT_LEFT,\n  TOOLBOX_AT_RIGHT,\n  TOOLBOX_AT_TOP,\n  Theme,\n  ThemeManager,\n  Themes,\n  Toast,\n  Toolbox,\n  ToolboxCategory,\n  ToolboxItem,\n  ToolboxSeparator,\n  Tooltip,\n  Touch,\n  Trashcan,\n  UnattachedFieldError,\n  VARIABLE_CATEGORY_NAME,\n  VARIABLE_DYNAMIC_CATEGORY_NAME,\n  VERSION,\n  VariableMap,\n  VariableModel,\n  Variables,\n  VariablesDynamic,\n  VerticalFlyout,\n  WidgetDiv,\n  Workspace,\n  WorkspaceAudio,\n  WorkspaceDragger,\n  WorkspaceNavigationPolicy,\n  WorkspaceSvg,\n  Xml,\n  ZoomControls,\n  blockAnimations,\n  blockRendering,\n  browserEvents,\n  bubbles,\n  bumpObjects,\n  clipboard,\n  comments,\n  common,\n  config,\n  constants,\n  defineBlocksWithJsonArray,\n  dialog,\n  dragging,\n  fieldRegistry,\n  geras,\n  getFocusManager,\n  getMainWorkspace,\n  getSelected,\n  hasBubble,\n  hideChaff,\n  icons,\n  inject,\n  inputs,\n  isCopyable,\n  isDeletable,\n  isDraggable,\n  isIcon,\n  isObservable,\n  isPaster,\n  isRenderedElement,\n  isSelectable,\n  isSerializable,\n  isVariableBackedParameterModel,\n  keyboardNavigationController,\n  layers,\n  navigateBlock,\n  navigateStacks,\n  procedures,\n  registry,\n  renderManagement,\n  serialization,\n  setLocale,\n  setParentContainer,\n  svgResize,\n  thrasos,\n  uiPosition,\n  utils,\n  zelos,\n} = _blockly_compressed_js__WEBPACK_IMPORTED_MODULE_0__;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvYmxvY2tseS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEM7QUFDdkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtREFBTyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9ub2RlX21vZHVsZXMvYmxvY2tseS9ibG9ja2x5Lm1qcz85ZmUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCbG9ja2x5IGZyb20gJy4vYmxvY2tseV9jb21wcmVzc2VkLmpzJztcbmV4cG9ydCBjb25zdCB7XG4gIEJsb2NrLFxuICBCbG9ja0ZseW91dEluZmxhdGVyLFxuICBCbG9ja05hdmlnYXRpb25Qb2xpY3ksXG4gIEJsb2NrU3ZnLFxuICBCbG9ja3MsXG4gIEJ1dHRvbkZseW91dEluZmxhdGVyLFxuICBDT0xMQVBTRURfRklFTERfTkFNRSxcbiAgQ09MTEFQU0VEX0lOUFVUX05BTUUsXG4gIENPTExBUFNFX0NIQVJTLFxuICBDb2RlR2VuZXJhdG9yLFxuICBDb2xsYXBzaWJsZVRvb2xib3hDYXRlZ29yeSxcbiAgQ29tcG9uZW50TWFuYWdlcixcbiAgQ29ubmVjdGlvbixcbiAgQ29ubmVjdGlvbkNoZWNrZXIsXG4gIENvbm5lY3Rpb25EQixcbiAgQ29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3ksXG4gIENvbm5lY3Rpb25UeXBlLFxuICBDb250ZXh0TWVudSxcbiAgQ29udGV4dE1lbnVJdGVtcyxcbiAgQ29udGV4dE1lbnVSZWdpc3RyeSxcbiAgQ3NzLFxuICBERUxFVEVfVkFSSUFCTEVfSUQsXG4gIERlbGV0ZUFyZWEsXG4gIERyYWdUYXJnZXQsXG4gIERyb3BEb3duRGl2LFxuICBFdmVudHMsXG4gIEV4dGVuc2lvbnMsXG4gIEZpZWxkLFxuICBGaWVsZENoZWNrYm94LFxuICBGaWVsZERyb3Bkb3duLFxuICBGaWVsZEltYWdlLFxuICBGaWVsZExhYmVsLFxuICBGaWVsZExhYmVsU2VyaWFsaXphYmxlLFxuICBGaWVsZE5hdmlnYXRpb25Qb2xpY3ksXG4gIEZpZWxkTnVtYmVyLFxuICBGaWVsZFRleHRJbnB1dCxcbiAgRmllbGRWYXJpYWJsZSxcbiAgRmx5b3V0LFxuICBGbHlvdXRCdXR0b24sXG4gIEZseW91dEJ1dHRvbk5hdmlnYXRpb25Qb2xpY3ksXG4gIEZseW91dEl0ZW0sXG4gIEZseW91dE1ldHJpY3NNYW5hZ2VyLFxuICBGbHlvdXROYXZpZ2F0aW9uUG9saWN5LFxuICBGbHlvdXROYXZpZ2F0b3IsXG4gIEZseW91dFNlcGFyYXRvcixcbiAgRmx5b3V0U2VwYXJhdG9yTmF2aWdhdGlvblBvbGljeSxcbiAgRm9jdXNNYW5hZ2VyLFxuICBGb2N1c2FibGVUcmVlVHJhdmVyc2VyLFxuICBHZW5lcmF0b3IsXG4gIEdlc3R1cmUsXG4gIEdyaWQsXG4gIEhvcml6b250YWxGbHlvdXQsXG4gIElOUFVUX1ZBTFVFLFxuICBJbnB1dCxcbiAgSW5zZXJ0aW9uTWFya2VyUHJldmlld2VyLFxuICBLZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLFxuICBMYWJlbEZseW91dEluZmxhdGVyLFxuICBMaW5lQ3Vyc29yLFxuICBNYXJrZXIsXG4gIE1hcmtlck1hbmFnZXIsXG4gIE1lbnUsXG4gIE1lbnVJdGVtLFxuICBNZXRyaWNzTWFuYWdlcixcbiAgTXNnLFxuICBORVhUX1NUQVRFTUVOVCxcbiAgTmFtZXMsXG4gIE5hdmlnYXRvcixcbiAgT1BQT1NJVEVfVFlQRSxcbiAgT1VUUFVUX1ZBTFVFLFxuICBPcHRpb25zLFxuICBQUkVWSU9VU19TVEFURU1FTlQsXG4gIFBST0NFRFVSRV9DQVRFR09SWV9OQU1FLFxuICBQcm9jZWR1cmVzLFxuICBSRU5BTUVfVkFSSUFCTEVfSUQsXG4gIFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgU2Nyb2xsYmFyLFxuICBTY3JvbGxiYXJQYWlyLFxuICBTZXBhcmF0b3JGbHlvdXRJbmZsYXRlcixcbiAgU2hvcnRjdXRJdGVtcyxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgVE9PTEJPWF9BVF9CT1RUT00sXG4gIFRPT0xCT1hfQVRfTEVGVCxcbiAgVE9PTEJPWF9BVF9SSUdIVCxcbiAgVE9PTEJPWF9BVF9UT1AsXG4gIFRoZW1lLFxuICBUaGVtZU1hbmFnZXIsXG4gIFRoZW1lcyxcbiAgVG9hc3QsXG4gIFRvb2xib3gsXG4gIFRvb2xib3hDYXRlZ29yeSxcbiAgVG9vbGJveEl0ZW0sXG4gIFRvb2xib3hTZXBhcmF0b3IsXG4gIFRvb2x0aXAsXG4gIFRvdWNoLFxuICBUcmFzaGNhbixcbiAgVW5hdHRhY2hlZEZpZWxkRXJyb3IsXG4gIFZBUklBQkxFX0NBVEVHT1JZX05BTUUsXG4gIFZBUklBQkxFX0RZTkFNSUNfQ0FURUdPUllfTkFNRSxcbiAgVkVSU0lPTixcbiAgVmFyaWFibGVNYXAsXG4gIFZhcmlhYmxlTW9kZWwsXG4gIFZhcmlhYmxlcyxcbiAgVmFyaWFibGVzRHluYW1pYyxcbiAgVmVydGljYWxGbHlvdXQsXG4gIFdpZGdldERpdixcbiAgV29ya3NwYWNlLFxuICBXb3Jrc3BhY2VBdWRpbyxcbiAgV29ya3NwYWNlRHJhZ2dlcixcbiAgV29ya3NwYWNlTmF2aWdhdGlvblBvbGljeSxcbiAgV29ya3NwYWNlU3ZnLFxuICBYbWwsXG4gIFpvb21Db250cm9scyxcbiAgYmxvY2tBbmltYXRpb25zLFxuICBibG9ja1JlbmRlcmluZyxcbiAgYnJvd3NlckV2ZW50cyxcbiAgYnViYmxlcyxcbiAgYnVtcE9iamVjdHMsXG4gIGNsaXBib2FyZCxcbiAgY29tbWVudHMsXG4gIGNvbW1vbixcbiAgY29uZmlnLFxuICBjb25zdGFudHMsXG4gIGRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXksXG4gIGRpYWxvZyxcbiAgZHJhZ2dpbmcsXG4gIGZpZWxkUmVnaXN0cnksXG4gIGdlcmFzLFxuICBnZXRGb2N1c01hbmFnZXIsXG4gIGdldE1haW5Xb3Jrc3BhY2UsXG4gIGdldFNlbGVjdGVkLFxuICBoYXNCdWJibGUsXG4gIGhpZGVDaGFmZixcbiAgaWNvbnMsXG4gIGluamVjdCxcbiAgaW5wdXRzLFxuICBpc0NvcHlhYmxlLFxuICBpc0RlbGV0YWJsZSxcbiAgaXNEcmFnZ2FibGUsXG4gIGlzSWNvbixcbiAgaXNPYnNlcnZhYmxlLFxuICBpc1Bhc3RlcixcbiAgaXNSZW5kZXJlZEVsZW1lbnQsXG4gIGlzU2VsZWN0YWJsZSxcbiAgaXNTZXJpYWxpemFibGUsXG4gIGlzVmFyaWFibGVCYWNrZWRQYXJhbWV0ZXJNb2RlbCxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbiAgbGF5ZXJzLFxuICBuYXZpZ2F0ZUJsb2NrLFxuICBuYXZpZ2F0ZVN0YWNrcyxcbiAgcHJvY2VkdXJlcyxcbiAgcmVnaXN0cnksXG4gIHJlbmRlck1hbmFnZW1lbnQsXG4gIHNlcmlhbGl6YXRpb24sXG4gIHNldExvY2FsZSxcbiAgc2V0UGFyZW50Q29udGFpbmVyLFxuICBzdmdSZXNpemUsXG4gIHRocmFzb3MsXG4gIHVpUG9zaXRpb24sXG4gIHV0aWxzLFxuICB6ZWxvcyxcbn0gPSBCbG9ja2x5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/blockly/blockly.mjs\n");

/***/ }),

/***/ "../../node_modules/blockly/index.mjs":
/*!********************************************!*\
  !*** ../../node_modules/blockly/index.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Block: () => (/* binding */ Block),\n/* harmony export */   BlockFlyoutInflater: () => (/* binding */ BlockFlyoutInflater),\n/* harmony export */   BlockNavigationPolicy: () => (/* binding */ BlockNavigationPolicy),\n/* harmony export */   BlockSvg: () => (/* binding */ BlockSvg),\n/* harmony export */   Blocks: () => (/* binding */ Blocks),\n/* harmony export */   ButtonFlyoutInflater: () => (/* binding */ ButtonFlyoutInflater),\n/* harmony export */   COLLAPSED_FIELD_NAME: () => (/* binding */ COLLAPSED_FIELD_NAME),\n/* harmony export */   COLLAPSED_INPUT_NAME: () => (/* binding */ COLLAPSED_INPUT_NAME),\n/* harmony export */   COLLAPSE_CHARS: () => (/* binding */ COLLAPSE_CHARS),\n/* harmony export */   CodeGenerator: () => (/* binding */ CodeGenerator),\n/* harmony export */   CollapsibleToolboxCategory: () => (/* binding */ CollapsibleToolboxCategory),\n/* harmony export */   ComponentManager: () => (/* binding */ ComponentManager),\n/* harmony export */   Connection: () => (/* binding */ Connection),\n/* harmony export */   ConnectionChecker: () => (/* binding */ ConnectionChecker),\n/* harmony export */   ConnectionDB: () => (/* binding */ ConnectionDB),\n/* harmony export */   ConnectionNavigationPolicy: () => (/* binding */ ConnectionNavigationPolicy),\n/* harmony export */   ConnectionType: () => (/* binding */ ConnectionType),\n/* harmony export */   ContextMenu: () => (/* binding */ ContextMenu),\n/* harmony export */   ContextMenuItems: () => (/* binding */ ContextMenuItems),\n/* harmony export */   ContextMenuRegistry: () => (/* binding */ ContextMenuRegistry),\n/* harmony export */   Css: () => (/* binding */ Css),\n/* harmony export */   DELETE_VARIABLE_ID: () => (/* binding */ DELETE_VARIABLE_ID),\n/* harmony export */   DeleteArea: () => (/* binding */ DeleteArea),\n/* harmony export */   DragTarget: () => (/* binding */ DragTarget),\n/* harmony export */   DropDownDiv: () => (/* binding */ DropDownDiv),\n/* harmony export */   Events: () => (/* binding */ Events),\n/* harmony export */   Extensions: () => (/* binding */ Extensions),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FieldCheckbox: () => (/* binding */ FieldCheckbox),\n/* harmony export */   FieldDropdown: () => (/* binding */ FieldDropdown),\n/* harmony export */   FieldImage: () => (/* binding */ FieldImage),\n/* harmony export */   FieldLabel: () => (/* binding */ FieldLabel),\n/* harmony export */   FieldLabelSerializable: () => (/* binding */ FieldLabelSerializable),\n/* harmony export */   FieldNavigationPolicy: () => (/* binding */ FieldNavigationPolicy),\n/* harmony export */   FieldNumber: () => (/* binding */ FieldNumber),\n/* harmony export */   FieldTextInput: () => (/* binding */ FieldTextInput),\n/* harmony export */   FieldVariable: () => (/* binding */ FieldVariable),\n/* harmony export */   Flyout: () => (/* binding */ Flyout),\n/* harmony export */   FlyoutButton: () => (/* binding */ FlyoutButton),\n/* harmony export */   FlyoutButtonNavigationPolicy: () => (/* binding */ FlyoutButtonNavigationPolicy),\n/* harmony export */   FlyoutItem: () => (/* binding */ FlyoutItem),\n/* harmony export */   FlyoutMetricsManager: () => (/* binding */ FlyoutMetricsManager),\n/* harmony export */   FlyoutNavigationPolicy: () => (/* binding */ FlyoutNavigationPolicy),\n/* harmony export */   FlyoutNavigator: () => (/* binding */ FlyoutNavigator),\n/* harmony export */   FlyoutSeparator: () => (/* binding */ FlyoutSeparator),\n/* harmony export */   FlyoutSeparatorNavigationPolicy: () => (/* binding */ FlyoutSeparatorNavigationPolicy),\n/* harmony export */   FocusManager: () => (/* binding */ FocusManager),\n/* harmony export */   FocusableTreeTraverser: () => (/* binding */ FocusableTreeTraverser),\n/* harmony export */   Generator: () => (/* binding */ Generator),\n/* harmony export */   Gesture: () => (/* binding */ Gesture),\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   HorizontalFlyout: () => (/* binding */ HorizontalFlyout),\n/* harmony export */   INPUT_VALUE: () => (/* binding */ INPUT_VALUE),\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   InsertionMarkerPreviewer: () => (/* binding */ InsertionMarkerPreviewer),\n/* harmony export */   KeyboardNavigationController: () => (/* binding */ KeyboardNavigationController),\n/* harmony export */   LabelFlyoutInflater: () => (/* binding */ LabelFlyoutInflater),\n/* harmony export */   LineCursor: () => (/* binding */ LineCursor),\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   MarkerManager: () => (/* binding */ MarkerManager),\n/* harmony export */   Menu: () => (/* binding */ Menu),\n/* harmony export */   MenuItem: () => (/* binding */ MenuItem),\n/* harmony export */   MetricsManager: () => (/* binding */ MetricsManager),\n/* harmony export */   Msg: () => (/* binding */ Msg),\n/* harmony export */   NEXT_STATEMENT: () => (/* binding */ NEXT_STATEMENT),\n/* harmony export */   Names: () => (/* binding */ Names),\n/* harmony export */   Navigator: () => (/* binding */ Navigator),\n/* harmony export */   OPPOSITE_TYPE: () => (/* binding */ OPPOSITE_TYPE),\n/* harmony export */   OUTPUT_VALUE: () => (/* binding */ OUTPUT_VALUE),\n/* harmony export */   Options: () => (/* binding */ Options),\n/* harmony export */   PREVIOUS_STATEMENT: () => (/* binding */ PREVIOUS_STATEMENT),\n/* harmony export */   PROCEDURE_CATEGORY_NAME: () => (/* binding */ PROCEDURE_CATEGORY_NAME),\n/* harmony export */   Procedures: () => (/* binding */ Procedures),\n/* harmony export */   RENAME_VARIABLE_ID: () => (/* binding */ RENAME_VARIABLE_ID),\n/* harmony export */   RenderedConnection: () => (/* binding */ RenderedConnection),\n/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar),\n/* harmony export */   ScrollbarPair: () => (/* binding */ ScrollbarPair),\n/* harmony export */   SeparatorFlyoutInflater: () => (/* binding */ SeparatorFlyoutInflater),\n/* harmony export */   ShortcutItems: () => (/* binding */ ShortcutItems),\n/* harmony export */   ShortcutRegistry: () => (/* binding */ ShortcutRegistry),\n/* harmony export */   TOOLBOX_AT_BOTTOM: () => (/* binding */ TOOLBOX_AT_BOTTOM),\n/* harmony export */   TOOLBOX_AT_LEFT: () => (/* binding */ TOOLBOX_AT_LEFT),\n/* harmony export */   TOOLBOX_AT_RIGHT: () => (/* binding */ TOOLBOX_AT_RIGHT),\n/* harmony export */   TOOLBOX_AT_TOP: () => (/* binding */ TOOLBOX_AT_TOP),\n/* harmony export */   Theme: () => (/* binding */ Theme),\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager),\n/* harmony export */   Themes: () => (/* binding */ Themes),\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   Toolbox: () => (/* binding */ Toolbox),\n/* harmony export */   ToolboxCategory: () => (/* binding */ ToolboxCategory),\n/* harmony export */   ToolboxItem: () => (/* binding */ ToolboxItem),\n/* harmony export */   ToolboxSeparator: () => (/* binding */ ToolboxSeparator),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   Touch: () => (/* binding */ Touch),\n/* harmony export */   Trashcan: () => (/* binding */ Trashcan),\n/* harmony export */   UnattachedFieldError: () => (/* binding */ UnattachedFieldError),\n/* harmony export */   VARIABLE_CATEGORY_NAME: () => (/* binding */ VARIABLE_CATEGORY_NAME),\n/* harmony export */   VARIABLE_DYNAMIC_CATEGORY_NAME: () => (/* binding */ VARIABLE_DYNAMIC_CATEGORY_NAME),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   VariableMap: () => (/* binding */ VariableMap),\n/* harmony export */   VariableModel: () => (/* binding */ VariableModel),\n/* harmony export */   Variables: () => (/* binding */ Variables),\n/* harmony export */   VariablesDynamic: () => (/* binding */ VariablesDynamic),\n/* harmony export */   VerticalFlyout: () => (/* binding */ VerticalFlyout),\n/* harmony export */   WidgetDiv: () => (/* binding */ WidgetDiv),\n/* harmony export */   Workspace: () => (/* binding */ Workspace),\n/* harmony export */   WorkspaceAudio: () => (/* binding */ WorkspaceAudio),\n/* harmony export */   WorkspaceDragger: () => (/* binding */ WorkspaceDragger),\n/* harmony export */   WorkspaceNavigationPolicy: () => (/* binding */ WorkspaceNavigationPolicy),\n/* harmony export */   WorkspaceSvg: () => (/* binding */ WorkspaceSvg),\n/* harmony export */   Xml: () => (/* binding */ Xml),\n/* harmony export */   ZoomControls: () => (/* binding */ ZoomControls),\n/* harmony export */   blockAnimations: () => (/* binding */ blockAnimations),\n/* harmony export */   blockRendering: () => (/* binding */ blockRendering),\n/* harmony export */   browserEvents: () => (/* binding */ browserEvents),\n/* harmony export */   bubbles: () => (/* binding */ bubbles),\n/* harmony export */   bumpObjects: () => (/* binding */ bumpObjects),\n/* harmony export */   clipboard: () => (/* binding */ clipboard),\n/* harmony export */   comments: () => (/* binding */ comments),\n/* harmony export */   common: () => (/* binding */ common),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   constants: () => (/* binding */ constants),\n/* harmony export */   defineBlocksWithJsonArray: () => (/* binding */ defineBlocksWithJsonArray),\n/* harmony export */   dialog: () => (/* binding */ dialog),\n/* harmony export */   dragging: () => (/* binding */ dragging),\n/* harmony export */   fieldRegistry: () => (/* binding */ fieldRegistry),\n/* harmony export */   geras: () => (/* binding */ geras),\n/* harmony export */   getFocusManager: () => (/* binding */ getFocusManager),\n/* harmony export */   getMainWorkspace: () => (/* binding */ getMainWorkspace),\n/* harmony export */   getSelected: () => (/* binding */ getSelected),\n/* harmony export */   hasBubble: () => (/* binding */ hasBubble),\n/* harmony export */   hideChaff: () => (/* binding */ hideChaff),\n/* harmony export */   icons: () => (/* binding */ icons),\n/* harmony export */   inject: () => (/* binding */ inject),\n/* harmony export */   inputs: () => (/* binding */ inputs),\n/* harmony export */   isCopyable: () => (/* binding */ isCopyable),\n/* harmony export */   isDeletable: () => (/* binding */ isDeletable),\n/* harmony export */   isDraggable: () => (/* binding */ isDraggable),\n/* harmony export */   isIcon: () => (/* binding */ isIcon),\n/* harmony export */   isObservable: () => (/* binding */ isObservable),\n/* harmony export */   isPaster: () => (/* binding */ isPaster),\n/* harmony export */   isRenderedElement: () => (/* binding */ isRenderedElement),\n/* harmony export */   isSelectable: () => (/* binding */ isSelectable),\n/* harmony export */   isSerializable: () => (/* binding */ isSerializable),\n/* harmony export */   isVariableBackedParameterModel: () => (/* binding */ isVariableBackedParameterModel),\n/* harmony export */   keyboardNavigationController: () => (/* binding */ keyboardNavigationController),\n/* harmony export */   layers: () => (/* binding */ layers),\n/* harmony export */   navigateBlock: () => (/* binding */ navigateBlock),\n/* harmony export */   navigateStacks: () => (/* binding */ navigateStacks),\n/* harmony export */   procedures: () => (/* binding */ procedures),\n/* harmony export */   registry: () => (/* binding */ registry),\n/* harmony export */   renderManagement: () => (/* binding */ renderManagement),\n/* harmony export */   serialization: () => (/* binding */ serialization),\n/* harmony export */   setLocale: () => (/* binding */ setLocale),\n/* harmony export */   setParentContainer: () => (/* binding */ setParentContainer),\n/* harmony export */   svgResize: () => (/* binding */ svgResize),\n/* harmony export */   thrasos: () => (/* binding */ thrasos),\n/* harmony export */   uiPosition: () => (/* binding */ uiPosition),\n/* harmony export */   utils: () => (/* binding */ utils),\n/* harmony export */   zelos: () => (/* binding */ zelos)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ \"../../node_modules/blockly/index.js\");\n\nconst {\n  Block,\n  BlockFlyoutInflater,\n  BlockNavigationPolicy,\n  BlockSvg,\n  Blocks,\n  ButtonFlyoutInflater,\n  COLLAPSED_FIELD_NAME,\n  COLLAPSED_INPUT_NAME,\n  COLLAPSE_CHARS,\n  CodeGenerator,\n  CollapsibleToolboxCategory,\n  ComponentManager,\n  Connection,\n  ConnectionChecker,\n  ConnectionDB,\n  ConnectionNavigationPolicy,\n  ConnectionType,\n  ContextMenu,\n  ContextMenuItems,\n  ContextMenuRegistry,\n  Css,\n  DELETE_VARIABLE_ID,\n  DeleteArea,\n  DragTarget,\n  DropDownDiv,\n  Events,\n  Extensions,\n  Field,\n  FieldCheckbox,\n  FieldDropdown,\n  FieldImage,\n  FieldLabel,\n  FieldLabelSerializable,\n  FieldNavigationPolicy,\n  FieldNumber,\n  FieldTextInput,\n  FieldVariable,\n  Flyout,\n  FlyoutButton,\n  FlyoutButtonNavigationPolicy,\n  FlyoutItem,\n  FlyoutMetricsManager,\n  FlyoutNavigationPolicy,\n  FlyoutNavigator,\n  FlyoutSeparator,\n  FlyoutSeparatorNavigationPolicy,\n  FocusManager,\n  FocusableTreeTraverser,\n  Generator,\n  Gesture,\n  Grid,\n  HorizontalFlyout,\n  INPUT_VALUE,\n  Input,\n  InsertionMarkerPreviewer,\n  KeyboardNavigationController,\n  LabelFlyoutInflater,\n  LineCursor,\n  Marker,\n  MarkerManager,\n  Menu,\n  MenuItem,\n  MetricsManager,\n  Msg,\n  NEXT_STATEMENT,\n  Names,\n  Navigator,\n  OPPOSITE_TYPE,\n  OUTPUT_VALUE,\n  Options,\n  PREVIOUS_STATEMENT,\n  PROCEDURE_CATEGORY_NAME,\n  Procedures,\n  RENAME_VARIABLE_ID,\n  RenderedConnection,\n  Scrollbar,\n  ScrollbarPair,\n  SeparatorFlyoutInflater,\n  ShortcutItems,\n  ShortcutRegistry,\n  TOOLBOX_AT_BOTTOM,\n  TOOLBOX_AT_LEFT,\n  TOOLBOX_AT_RIGHT,\n  TOOLBOX_AT_TOP,\n  Theme,\n  ThemeManager,\n  Themes,\n  Toast,\n  Toolbox,\n  ToolboxCategory,\n  ToolboxItem,\n  ToolboxSeparator,\n  Tooltip,\n  Touch,\n  Trashcan,\n  UnattachedFieldError,\n  VARIABLE_CATEGORY_NAME,\n  VARIABLE_DYNAMIC_CATEGORY_NAME,\n  VERSION,\n  VariableMap,\n  VariableModel,\n  Variables,\n  VariablesDynamic,\n  VerticalFlyout,\n  WidgetDiv,\n  Workspace,\n  WorkspaceAudio,\n  WorkspaceDragger,\n  WorkspaceNavigationPolicy,\n  WorkspaceSvg,\n  Xml,\n  ZoomControls,\n  blockAnimations,\n  blockRendering,\n  browserEvents,\n  bubbles,\n  bumpObjects,\n  clipboard,\n  comments,\n  common,\n  config,\n  constants,\n  defineBlocksWithJsonArray,\n  dialog,\n  dragging,\n  fieldRegistry,\n  geras,\n  getFocusManager,\n  getMainWorkspace,\n  getSelected,\n  hasBubble,\n  hideChaff,\n  icons,\n  inject,\n  inputs,\n  isCopyable,\n  isDeletable,\n  isDraggable,\n  isIcon,\n  isObservable,\n  isPaster,\n  isRenderedElement,\n  isSelectable,\n  isSerializable,\n  isVariableBackedParameterModel,\n  keyboardNavigationController,\n  layers,\n  navigateBlock,\n  navigateStacks,\n  procedures,\n  registry,\n  renderManagement,\n  serialization,\n  setLocale,\n  setParentContainer,\n  svgResize,\n  thrasos,\n  uiPosition,\n  utils,\n  zelos,\n} = _index_js__WEBPACK_IMPORTED_MODULE_0__;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlDO0FBQzFCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEVBQUUsc0NBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvaW5kZXgubWpzP2E3MzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJsb2NrbHkgZnJvbSAnLi9pbmRleC5qcyc7XG5leHBvcnQgY29uc3Qge1xuICBCbG9jayxcbiAgQmxvY2tGbHlvdXRJbmZsYXRlcixcbiAgQmxvY2tOYXZpZ2F0aW9uUG9saWN5LFxuICBCbG9ja1N2ZyxcbiAgQmxvY2tzLFxuICBCdXR0b25GbHlvdXRJbmZsYXRlcixcbiAgQ09MTEFQU0VEX0ZJRUxEX05BTUUsXG4gIENPTExBUFNFRF9JTlBVVF9OQU1FLFxuICBDT0xMQVBTRV9DSEFSUyxcbiAgQ29kZUdlbmVyYXRvcixcbiAgQ29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnksXG4gIENvbXBvbmVudE1hbmFnZXIsXG4gIENvbm5lY3Rpb24sXG4gIENvbm5lY3Rpb25DaGVja2VyLFxuICBDb25uZWN0aW9uREIsXG4gIENvbm5lY3Rpb25OYXZpZ2F0aW9uUG9saWN5LFxuICBDb25uZWN0aW9uVHlwZSxcbiAgQ29udGV4dE1lbnUsXG4gIENvbnRleHRNZW51SXRlbXMsXG4gIENvbnRleHRNZW51UmVnaXN0cnksXG4gIENzcyxcbiAgREVMRVRFX1ZBUklBQkxFX0lELFxuICBEZWxldGVBcmVhLFxuICBEcmFnVGFyZ2V0LFxuICBEcm9wRG93bkRpdixcbiAgRXZlbnRzLFxuICBFeHRlbnNpb25zLFxuICBGaWVsZCxcbiAgRmllbGRDaGVja2JveCxcbiAgRmllbGREcm9wZG93bixcbiAgRmllbGRJbWFnZSxcbiAgRmllbGRMYWJlbCxcbiAgRmllbGRMYWJlbFNlcmlhbGl6YWJsZSxcbiAgRmllbGROYXZpZ2F0aW9uUG9saWN5LFxuICBGaWVsZE51bWJlcixcbiAgRmllbGRUZXh0SW5wdXQsXG4gIEZpZWxkVmFyaWFibGUsXG4gIEZseW91dCxcbiAgRmx5b3V0QnV0dG9uLFxuICBGbHlvdXRCdXR0b25OYXZpZ2F0aW9uUG9saWN5LFxuICBGbHlvdXRJdGVtLFxuICBGbHlvdXRNZXRyaWNzTWFuYWdlcixcbiAgRmx5b3V0TmF2aWdhdGlvblBvbGljeSxcbiAgRmx5b3V0TmF2aWdhdG9yLFxuICBGbHlvdXRTZXBhcmF0b3IsXG4gIEZseW91dFNlcGFyYXRvck5hdmlnYXRpb25Qb2xpY3ksXG4gIEZvY3VzTWFuYWdlcixcbiAgRm9jdXNhYmxlVHJlZVRyYXZlcnNlcixcbiAgR2VuZXJhdG9yLFxuICBHZXN0dXJlLFxuICBHcmlkLFxuICBIb3Jpem9udGFsRmx5b3V0LFxuICBJTlBVVF9WQUxVRSxcbiAgSW5wdXQsXG4gIEluc2VydGlvbk1hcmtlclByZXZpZXdlcixcbiAgS2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbiAgTGFiZWxGbHlvdXRJbmZsYXRlcixcbiAgTGluZUN1cnNvcixcbiAgTWFya2VyLFxuICBNYXJrZXJNYW5hZ2VyLFxuICBNZW51LFxuICBNZW51SXRlbSxcbiAgTWV0cmljc01hbmFnZXIsXG4gIE1zZyxcbiAgTkVYVF9TVEFURU1FTlQsXG4gIE5hbWVzLFxuICBOYXZpZ2F0b3IsXG4gIE9QUE9TSVRFX1RZUEUsXG4gIE9VVFBVVF9WQUxVRSxcbiAgT3B0aW9ucyxcbiAgUFJFVklPVVNfU1RBVEVNRU5ULFxuICBQUk9DRURVUkVfQ0FURUdPUllfTkFNRSxcbiAgUHJvY2VkdXJlcyxcbiAgUkVOQU1FX1ZBUklBQkxFX0lELFxuICBSZW5kZXJlZENvbm5lY3Rpb24sXG4gIFNjcm9sbGJhcixcbiAgU2Nyb2xsYmFyUGFpcixcbiAgU2VwYXJhdG9yRmx5b3V0SW5mbGF0ZXIsXG4gIFNob3J0Y3V0SXRlbXMsXG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIFRPT0xCT1hfQVRfQk9UVE9NLFxuICBUT09MQk9YX0FUX0xFRlQsXG4gIFRPT0xCT1hfQVRfUklHSFQsXG4gIFRPT0xCT1hfQVRfVE9QLFxuICBUaGVtZSxcbiAgVGhlbWVNYW5hZ2VyLFxuICBUaGVtZXMsXG4gIFRvYXN0LFxuICBUb29sYm94LFxuICBUb29sYm94Q2F0ZWdvcnksXG4gIFRvb2xib3hJdGVtLFxuICBUb29sYm94U2VwYXJhdG9yLFxuICBUb29sdGlwLFxuICBUb3VjaCxcbiAgVHJhc2hjYW4sXG4gIFVuYXR0YWNoZWRGaWVsZEVycm9yLFxuICBWQVJJQUJMRV9DQVRFR09SWV9OQU1FLFxuICBWQVJJQUJMRV9EWU5BTUlDX0NBVEVHT1JZX05BTUUsXG4gIFZFUlNJT04sXG4gIFZhcmlhYmxlTWFwLFxuICBWYXJpYWJsZU1vZGVsLFxuICBWYXJpYWJsZXMsXG4gIFZhcmlhYmxlc0R5bmFtaWMsXG4gIFZlcnRpY2FsRmx5b3V0LFxuICBXaWRnZXREaXYsXG4gIFdvcmtzcGFjZSxcbiAgV29ya3NwYWNlQXVkaW8sXG4gIFdvcmtzcGFjZURyYWdnZXIsXG4gIFdvcmtzcGFjZU5hdmlnYXRpb25Qb2xpY3ksXG4gIFdvcmtzcGFjZVN2ZyxcbiAgWG1sLFxuICBab29tQ29udHJvbHMsXG4gIGJsb2NrQW5pbWF0aW9ucyxcbiAgYmxvY2tSZW5kZXJpbmcsXG4gIGJyb3dzZXJFdmVudHMsXG4gIGJ1YmJsZXMsXG4gIGJ1bXBPYmplY3RzLFxuICBjbGlwYm9hcmQsXG4gIGNvbW1lbnRzLFxuICBjb21tb24sXG4gIGNvbmZpZyxcbiAgY29uc3RhbnRzLFxuICBkZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5LFxuICBkaWFsb2csXG4gIGRyYWdnaW5nLFxuICBmaWVsZFJlZ2lzdHJ5LFxuICBnZXJhcyxcbiAgZ2V0Rm9jdXNNYW5hZ2VyLFxuICBnZXRNYWluV29ya3NwYWNlLFxuICBnZXRTZWxlY3RlZCxcbiAgaGFzQnViYmxlLFxuICBoaWRlQ2hhZmYsXG4gIGljb25zLFxuICBpbmplY3QsXG4gIGlucHV0cyxcbiAgaXNDb3B5YWJsZSxcbiAgaXNEZWxldGFibGUsXG4gIGlzRHJhZ2dhYmxlLFxuICBpc0ljb24sXG4gIGlzT2JzZXJ2YWJsZSxcbiAgaXNQYXN0ZXIsXG4gIGlzUmVuZGVyZWRFbGVtZW50LFxuICBpc1NlbGVjdGFibGUsXG4gIGlzU2VyaWFsaXphYmxlLFxuICBpc1ZhcmlhYmxlQmFja2VkUGFyYW1ldGVyTW9kZWwsXG4gIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIsXG4gIGxheWVycyxcbiAgbmF2aWdhdGVCbG9jayxcbiAgbmF2aWdhdGVTdGFja3MsXG4gIHByb2NlZHVyZXMsXG4gIHJlZ2lzdHJ5LFxuICByZW5kZXJNYW5hZ2VtZW50LFxuICBzZXJpYWxpemF0aW9uLFxuICBzZXRMb2NhbGUsXG4gIHNldFBhcmVudENvbnRhaW5lcixcbiAgc3ZnUmVzaXplLFxuICB0aHJhc29zLFxuICB1aVBvc2l0aW9uLFxuICB1dGlscyxcbiAgemVsb3MsXG59ID0gQmxvY2tseTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/blockly/index.mjs\n");

/***/ }),

/***/ "../../node_modules/blockly/javascript.mjs":
/*!*************************************************!*\
  !*** ../../node_modules/blockly/javascript.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JavascriptGenerator: () => (/* binding */ JavascriptGenerator),\n/* harmony export */   Order: () => (/* binding */ Order),\n/* harmony export */   javascriptGenerator: () => (/* binding */ javascriptGenerator)\n/* harmony export */ });\n/* harmony import */ var _javascript_compressed_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./javascript_compressed.js */ \"../../node_modules/blockly/javascript_compressed.js\");\n\nconst {\n  JavascriptGenerator,\n  Order,\n  javascriptGenerator,\n} = _javascript_compressed_js__WEBPACK_IMPORTED_MODULE_0__;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvamF2YXNjcmlwdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRDtBQUM3QztBQUNQO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxzREFBVSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi9ub2RlX21vZHVsZXMvYmxvY2tseS9qYXZhc2NyaXB0Lm1qcz9hZmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqYXZhc2NyaXB0IGZyb20gJy4vamF2YXNjcmlwdF9jb21wcmVzc2VkLmpzJztcbmV4cG9ydCBjb25zdCB7XG4gIEphdmFzY3JpcHRHZW5lcmF0b3IsXG4gIE9yZGVyLFxuICBqYXZhc2NyaXB0R2VuZXJhdG9yLFxufSA9IGphdmFzY3JpcHQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/blockly/javascript.mjs\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.ts");
/******/ 	
/******/ })()
;