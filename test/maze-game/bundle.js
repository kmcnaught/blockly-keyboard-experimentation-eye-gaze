/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/actions/action_menu.ts":
/*!************************************!*\
  !*** ./src/actions/action_menu.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionMenu: () => (/* binding */ ActionMenu)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\nconst createSerializedKey = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.createSerializedKey.bind(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry);\n/**\n * Keyboard shortcut to show the action menu on Cmd/Ctrl/Alt+Enter key.\n */\nclass ActionMenu {\n    constructor(navigation) {\n        this.navigation = navigation;\n        /**\n         * Registration name for the keyboard shortcut.\n         */\n        this.shortcutName = _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MENU;\n    }\n    /**\n     * Install this action.\n     */\n    install() {\n        this.registerShortcut();\n    }\n    /**\n     * Uninstall this action.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(this.shortcutName);\n    }\n    /**\n     * Create and register the keyboard shortcut for this action.\n     */\n    registerShortcut() {\n        const menuShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MENU,\n            preconditionFn: (workspace) => {\n                return (this.navigation.canCurrentlyNavigate(workspace) &&\n                    !workspace.isDragging());\n            },\n            callback: (workspace) => {\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                        return this.openActionMenu(workspace);\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [\n                createSerializedKey(KeyCodes.ENTER, [KeyCodes.CTRL]),\n                createSerializedKey(KeyCodes.ENTER, [KeyCodes.ALT]),\n                createSerializedKey(KeyCodes.ENTER, [KeyCodes.META]),\n            ],\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(menuShortcut);\n    }\n    /**\n     * Show the action menu for the current node.\n     *\n     * The action menu will contain entries for relevant actions for the\n     * node's location.  If the location is a block, this will include\n     * the contents of the block's context menu (if any).\n     *\n     * Returns true if it is possible to open the action menu in the\n     * current location, even if the menu was not opened due there being\n     * no applicable menu items.\n     *\n     * @param workspace The workspace.\n     */\n    openActionMenu(workspace) {\n        // TODO(#362): Pass this through the precondition and callback instead of making it up.\n        const menuOpenEvent = new KeyboardEvent('keydown');\n        const node = workspace.getCursor().getCurNode();\n        if (!node)\n            return false;\n        // TODO(google/blockly#8847): Add typeguard for IContextMenu in core when this moves over\n        if ('showContextMenu' in node &&\n            typeof node.showContextMenu === 'function') {\n            node.showContextMenu(menuOpenEvent);\n        }\n        else {\n            console.info(`No action menu for node ${node}`);\n            return false;\n        }\n        setTimeout(() => {\n            var _a, _b;\n            (_b = (_a = blockly__WEBPACK_IMPORTED_MODULE_0__.WidgetDiv.getDiv()) === null || _a === void 0 ? void 0 : _a.querySelector('.blocklyMenu')) === null || _b === void 0 ? void 0 : _b.dispatchEvent(new KeyboardEvent('keydown', {\n                key: 'ArrowDown',\n                code: 'ArrowDown',\n                keyCode: KeyCodes.DOWN,\n                which: KeyCodes.DOWN,\n                bubbles: true,\n                cancelable: true,\n            }));\n        }, 10);\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FBYyxDQUFDLDBDQUM3QixhQUFhLENBQ2IsSUFBSSxhQUFhLENBQUMsU0FBUyxFQUFFO2dCQUMzQixHQUFHLEVBQUUsV0FBVztnQkFDaEIsSUFBSSxFQUFFLFdBQVc7Z0JBQ2pCLE9BQU8sRUFBRSxRQUFRLENBQUMsSUFBSTtnQkFDdEIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJO2dCQUNwQixPQUFPLEVBQUUsSUFBSTtnQkFDYixVQUFVLEVBQUUsSUFBSTthQUNqQixDQUFDLENBQ0gsQ0FBQztRQUNOLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNQLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9hY3Rpb25zL2FjdGlvbl9tZW51LnRzP2NjMTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1Nob3J0Y3V0UmVnaXN0cnksIHV0aWxzIGFzIEJsb2NrbHlVdGlscywgV2lkZ2V0RGl2fSBmcm9tICdibG9ja2x5JztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUge1dvcmtzcGFjZVN2Z30gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuXG5jb25zdCBLZXlDb2RlcyA9IEJsb2NrbHlVdGlscy5LZXlDb2RlcztcbmNvbnN0IGNyZWF0ZVNlcmlhbGl6ZWRLZXkgPSBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkuYmluZChcbiAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeSxcbik7XG5cbi8qKlxuICogS2V5Ym9hcmQgc2hvcnRjdXQgdG8gc2hvdyB0aGUgYWN0aW9uIG1lbnUgb24gQ21kL0N0cmwvQWx0K0VudGVyIGtleS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGlvbk1lbnUge1xuICAvKipcbiAgICogUmVnaXN0cmF0aW9uIG5hbWUgZm9yIHRoZSBrZXlib2FyZCBzaG9ydGN1dC5cbiAgICovXG4gIHByaXZhdGUgc2hvcnRjdXROYW1lID0gQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLk1FTlU7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uKSB7fVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoaXMgYWN0aW9uLlxuICAgKi9cbiAgaW5zdGFsbCgpIHtcbiAgICB0aGlzLnJlZ2lzdGVyU2hvcnRjdXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmluc3RhbGwgdGhpcyBhY3Rpb24uXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKHRoaXMuc2hvcnRjdXROYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHRoZSBrZXlib2FyZCBzaG9ydGN1dCBmb3IgdGhpcyBhY3Rpb24uXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyU2hvcnRjdXQoKSB7XG4gICAgY29uc3QgbWVudVNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTUVOVSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSkgJiZcbiAgICAgICAgICAhd29ya3NwYWNlLmlzRHJhZ2dpbmcoKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3BlbkFjdGlvbk1lbnUod29ya3NwYWNlKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFtcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5FTlRFUiwgW0tleUNvZGVzLkNUUkxdKSxcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5FTlRFUiwgW0tleUNvZGVzLkFMVF0pLFxuICAgICAgICBjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLkVOVEVSLCBbS2V5Q29kZXMuTUVUQV0pLFxuICAgICAgXSxcbiAgICB9O1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIobWVudVNob3J0Y3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBhY3Rpb24gbWVudSBmb3IgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICpcbiAgICogVGhlIGFjdGlvbiBtZW51IHdpbGwgY29udGFpbiBlbnRyaWVzIGZvciByZWxldmFudCBhY3Rpb25zIGZvciB0aGVcbiAgICogbm9kZSdzIGxvY2F0aW9uLiAgSWYgdGhlIGxvY2F0aW9uIGlzIGEgYmxvY2ssIHRoaXMgd2lsbCBpbmNsdWRlXG4gICAqIHRoZSBjb250ZW50cyBvZiB0aGUgYmxvY2sncyBjb250ZXh0IG1lbnUgKGlmIGFueSkuXG4gICAqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBpdCBpcyBwb3NzaWJsZSB0byBvcGVuIHRoZSBhY3Rpb24gbWVudSBpbiB0aGVcbiAgICogY3VycmVudCBsb2NhdGlvbiwgZXZlbiBpZiB0aGUgbWVudSB3YXMgbm90IG9wZW5lZCBkdWUgdGhlcmUgYmVpbmdcbiAgICogbm8gYXBwbGljYWJsZSBtZW51IGl0ZW1zLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gICAqL1xuICBwcml2YXRlIG9wZW5BY3Rpb25NZW51KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKTogYm9vbGVhbiB7XG4gICAgLy8gVE9ETygjMzYyKTogUGFzcyB0aGlzIHRocm91Z2ggdGhlIHByZWNvbmRpdGlvbiBhbmQgY2FsbGJhY2sgaW5zdGVhZCBvZiBtYWtpbmcgaXQgdXAuXG4gICAgY29uc3QgbWVudU9wZW5FdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJyk7XG5cbiAgICBjb25zdCBub2RlID0gd29ya3NwYWNlLmdldEN1cnNvcigpLmdldEN1ck5vZGUoKTtcbiAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBUT0RPKGdvb2dsZS9ibG9ja2x5Izg4NDcpOiBBZGQgdHlwZWd1YXJkIGZvciBJQ29udGV4dE1lbnUgaW4gY29yZSB3aGVuIHRoaXMgbW92ZXMgb3ZlclxuICAgIGlmIChcbiAgICAgICdzaG93Q29udGV4dE1lbnUnIGluIG5vZGUgJiZcbiAgICAgIHR5cGVvZiBub2RlLnNob3dDb250ZXh0TWVudSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgbm9kZS5zaG93Q29udGV4dE1lbnUobWVudU9wZW5FdmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhgTm8gYWN0aW9uIG1lbnUgZm9yIG5vZGUgJHtub2RlfWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgV2lkZ2V0RGl2LmdldERpdigpXG4gICAgICAgID8ucXVlcnlTZWxlY3RvcignLmJsb2NrbHlNZW51JylcbiAgICAgICAgPy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywge1xuICAgICAgICAgICAga2V5OiAnQXJyb3dEb3duJyxcbiAgICAgICAgICAgIGNvZGU6ICdBcnJvd0Rvd24nLFxuICAgICAgICAgICAga2V5Q29kZTogS2V5Q29kZXMuRE9XTixcbiAgICAgICAgICAgIHdoaWNoOiBLZXlDb2Rlcy5ET1dOLFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgfSwgMTApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/actions/action_menu.ts\n");

/***/ }),

/***/ "./src/actions/arrow_navigation.ts":
/*!*****************************************!*\
  !*** ./src/actions/arrow_navigation.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrowNavigation: () => (/* binding */ ArrowNavigation)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering shortcuts for navigating the workspace with arrow keys.\n */\nclass ArrowNavigation {\n    constructor(navigation) {\n        this.navigation = navigation;\n    }\n    /**\n     * Gives the cursor to the field to handle if the cursor is on a field.\n     *\n     * @param workspace The workspace to check.\n     * @param shortcut The shortcut\n     *     to give to the field.\n     * @returns True if the shortcut was handled by the field, false\n     *     otherwise.\n     */\n    fieldShortcutHandler(workspace, shortcut) {\n        const curNode = workspace.getCursor().getCurNode();\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field) {\n            return curNode.onShortcut(shortcut);\n        }\n        return false;\n    }\n    /**\n     * Adds all arrow key navigation shortcuts to the registry.\n     */\n    install() {\n        const navigateIn = (workspace, e, shortcut) => {\n            var _a;\n            const toolbox = workspace.getToolbox();\n            const flyout = workspace.isFlyout\n                ? (_a = workspace.targetWorkspace) === null || _a === void 0 ? void 0 : _a.getFlyout()\n                : workspace.getFlyout();\n            let isHandled = false;\n            switch (this.navigation.getState()) {\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                    isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                    if (!isHandled && workspace) {\n                        if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)) {\n                            workspace.getCursor().in();\n                        }\n                        isHandled = true;\n                    }\n                    return isHandled;\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX:\n                    // @ts-expect-error private method\n                    isHandled = toolbox && toolbox.selectChild();\n                    if (!isHandled && flyout) {\n                        this.navigation.defaultFlyoutCursorIfNeeded(workspace);\n                    }\n                    return true;\n                default:\n                    return false;\n            }\n        };\n        const navigateOut = (workspace, e, shortcut) => {\n            var _a;\n            const toolbox = workspace.isFlyout\n                ? (_a = workspace.targetWorkspace) === null || _a === void 0 ? void 0 : _a.getToolbox()\n                : workspace.getToolbox();\n            let isHandled = false;\n            switch (this.navigation.getState()) {\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                    isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                    if (!isHandled && workspace) {\n                        if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)) {\n                            workspace.getCursor().out();\n                        }\n                        isHandled = true;\n                    }\n                    return isHandled;\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                    if (toolbox) {\n                        blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(toolbox);\n                    }\n                    return true;\n                case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX:\n                    // @ts-expect-error private method\n                    return toolbox && toolbox.selectParent();\n                default:\n                    return false;\n            }\n        };\n        const shortcuts = {\n            /** Go to the next location to the right. */\n            right: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.RIGHT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    return workspace.RTL\n                        ? navigateOut(workspace, e, shortcut)\n                        : navigateIn(workspace, e, shortcut);\n                },\n                keyCodes: [KeyCodes.RIGHT],\n            },\n            /** Go to the next location to the left. */\n            left: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LEFT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    return workspace.RTL\n                        ? navigateIn(workspace, e, shortcut)\n                        : navigateOut(workspace, e, shortcut);\n                },\n                keyCodes: [KeyCodes.LEFT],\n            },\n            /** Go down to the next location. */\n            down: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DOWN,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    var _a;\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    let isHandled = false;\n                    switch (this.navigation.getState()) {\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled && workspace) {\n                                if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)) {\n                                    workspace.getCursor().next();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled && workspace.targetWorkspace) {\n                                if (!this.navigation.defaultFlyoutCursorIfNeeded(workspace.targetWorkspace)) {\n                                    workspace.getCursor().next();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX: {\n                            const toolbox = workspace.getToolbox();\n                            if (toolbox) {\n                                if (!toolbox.getSelectedItem()) {\n                                    const firstItem = (_a = toolbox\n                                        .getToolboxItems()\n                                        .find((item) => item.isSelectable())) !== null && _a !== void 0 ? _a : null;\n                                    toolbox.setSelectedItem(firstItem);\n                                    isHandled = true;\n                                }\n                                else {\n                                    // @ts-expect-error private method\n                                    isHandled = toolbox.selectNext();\n                                }\n                                const selectedItem = toolbox.getSelectedItem();\n                                if (selectedItem) {\n                                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusNode(selectedItem);\n                                }\n                            }\n                            return isHandled;\n                        }\n                        default:\n                            return false;\n                    }\n                },\n                keyCodes: [KeyCodes.DOWN],\n            },\n            /** Go up to the previous location. */\n            up: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.UP,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n                callback: (workspace, e, shortcut) => {\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    let isHandled = false;\n                    switch (this.navigation.getState()) {\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled) {\n                                if (!this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace, 'last')) {\n                                    workspace.getCursor().prev();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                            isHandled = this.fieldShortcutHandler(workspace, shortcut);\n                            if (!isHandled && workspace.targetWorkspace) {\n                                if (!this.navigation.defaultFlyoutCursorIfNeeded(workspace.targetWorkspace, 'last')) {\n                                    workspace.getCursor().prev();\n                                }\n                                isHandled = true;\n                            }\n                            return isHandled;\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX: {\n                            const toolbox = workspace.getToolbox();\n                            if (toolbox) {\n                                // @ts-expect-error private method\n                                isHandled = toolbox.selectPrevious();\n                                const selectedItem = toolbox.getSelectedItem();\n                                if (selectedItem) {\n                                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusNode(selectedItem);\n                                }\n                            }\n                            return isHandled;\n                        }\n                        default:\n                            return false;\n                    }\n                },\n                keyCodes: [KeyCodes.UP],\n            },\n        };\n        for (const shortcut of Object.values(shortcuts)) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n    }\n    /**\n     * Removes all the arrow navigation shortcuts.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LEFT);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.RIGHT);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DOWN);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.UP);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNqQixDQUFDO2dCQUNILENBQUM7Z0JBQ0QsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQzthQUN4QjtTQUNGLENBQUM7UUFFRixLQUFLLE1BQU0sUUFBUSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztZQUNoRCwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxTQUFTO1FBQ1AsMERBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxzREFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRSwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLHNEQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsc0RBQXdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEUsMERBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxzREFBd0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNwRSxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvYXJyb3dfbmF2aWdhdGlvbi50cz84NDZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgdXRpbHMgYXMgQmxvY2tseVV0aWxzLFxuICBGaWVsZCxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbn0gZnJvbSAnYmxvY2tseS9jb3JlJztcblxuaW1wb3J0IHR5cGUge1Rvb2xib3gsIFdvcmtzcGFjZVN2Z30gZnJvbSAnYmxvY2tseS9jb3JlJztcblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7TmF2aWdhdGlvbn0gZnJvbSAnLi4vbmF2aWdhdGlvbic7XG5cbmNvbnN0IEtleUNvZGVzID0gQmxvY2tseVV0aWxzLktleUNvZGVzO1xuXG4vKipcbiAqIENsYXNzIGZvciByZWdpc3RlcmluZyBzaG9ydGN1dHMgZm9yIG5hdmlnYXRpbmcgdGhlIHdvcmtzcGFjZSB3aXRoIGFycm93IGtleXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcnJvd05hdmlnYXRpb24ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hdmlnYXRpb246IE5hdmlnYXRpb24pIHt9XG5cbiAgLyoqXG4gICAqIEdpdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGZpZWxkIHRvIGhhbmRsZSBpZiB0aGUgY3Vyc29yIGlzIG9uIGEgZmllbGQuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byBjaGVjay5cbiAgICogQHBhcmFtIHNob3J0Y3V0IFRoZSBzaG9ydGN1dFxuICAgKiAgICAgdG8gZ2l2ZSB0byB0aGUgZmllbGQuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHNob3J0Y3V0IHdhcyBoYW5kbGVkIGJ5IHRoZSBmaWVsZCwgZmFsc2VcbiAgICogICAgIG90aGVyd2lzZS5cbiAgICovXG4gIGZpZWxkU2hvcnRjdXRIYW5kbGVyKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIHNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGN1ck5vZGUgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpO1xuICAgIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgRmllbGQpIHtcbiAgICAgIHJldHVybiBjdXJOb2RlLm9uU2hvcnRjdXQoc2hvcnRjdXQpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbGwgYXJyb3cga2V5IG5hdmlnYXRpb24gc2hvcnRjdXRzIHRvIHRoZSByZWdpc3RyeS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgY29uc3QgbmF2aWdhdGVJbiA9IChcbiAgICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgICAgZTogRXZlbnQsXG4gICAgICBzaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0LFxuICAgICk6IGJvb2xlYW4gPT4ge1xuICAgICAgY29uc3QgdG9vbGJveCA9IHdvcmtzcGFjZS5nZXRUb29sYm94KCkgYXMgVG9vbGJveDtcbiAgICAgIGNvbnN0IGZseW91dCA9IHdvcmtzcGFjZS5pc0ZseW91dFxuICAgICAgICA/IHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2U/LmdldEZseW91dCgpXG4gICAgICAgIDogd29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgICAgbGV0IGlzSGFuZGxlZCA9IGZhbHNlO1xuICAgICAgc3dpdGNoICh0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSkge1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6XG4gICAgICAgICAgaXNIYW5kbGVkID0gdGhpcy5maWVsZFNob3J0Y3V0SGFuZGxlcih3b3Jrc3BhY2UsIHNob3J0Y3V0KTtcbiAgICAgICAgICBpZiAoIWlzSGFuZGxlZCAmJiB3b3Jrc3BhY2UpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIXRoaXMubmF2aWdhdGlvbi5kZWZhdWx0V29ya3NwYWNlQ3Vyc29yUG9zaXRpb25JZk5lZWRlZCh3b3Jrc3BhY2UpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEN1cnNvcigpLmluKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNIYW5kbGVkO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5UT09MQk9YOlxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBtZXRob2RcbiAgICAgICAgICBpc0hhbmRsZWQgPSB0b29sYm94ICYmIHRvb2xib3guc2VsZWN0Q2hpbGQoKTtcbiAgICAgICAgICBpZiAoIWlzSGFuZGxlZCAmJiBmbHlvdXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5kZWZhdWx0Rmx5b3V0Q3Vyc29ySWZOZWVkZWQod29ya3NwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBuYXZpZ2F0ZU91dCA9IChcbiAgICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgICAgZTogRXZlbnQsXG4gICAgICBzaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0LFxuICAgICk6IGJvb2xlYW4gPT4ge1xuICAgICAgY29uc3QgdG9vbGJveCA9IHdvcmtzcGFjZS5pc0ZseW91dFxuICAgICAgICA/IHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2U/LmdldFRvb2xib3goKVxuICAgICAgICA6IHdvcmtzcGFjZS5nZXRUb29sYm94KCk7XG4gICAgICBsZXQgaXNIYW5kbGVkID0gZmFsc2U7XG4gICAgICBzd2l0Y2ggKHRoaXMubmF2aWdhdGlvbi5nZXRTdGF0ZSgpKSB7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRTpcbiAgICAgICAgICBpc0hhbmRsZWQgPSB0aGlzLmZpZWxkU2hvcnRjdXRIYW5kbGVyKHdvcmtzcGFjZSwgc2hvcnRjdXQpO1xuICAgICAgICAgIGlmICghaXNIYW5kbGVkICYmIHdvcmtzcGFjZSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhdGhpcy5uYXZpZ2F0aW9uLmRlZmF1bHRXb3Jrc3BhY2VDdXJzb3JQb3NpdGlvbklmTmVlZGVkKHdvcmtzcGFjZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkub3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNIYW5kbGVkO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5GTFlPVVQ6XG4gICAgICAgICAgaWYgKHRvb2xib3gpIHtcbiAgICAgICAgICAgIEJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNUcmVlKHRvb2xib3gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuVE9PTEJPWDpcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgbWV0aG9kXG4gICAgICAgICAgcmV0dXJuIHRvb2xib3ggJiYgdG9vbGJveC5zZWxlY3RQYXJlbnQoKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNob3J0Y3V0czoge1xuICAgICAgW25hbWU6IHN0cmluZ106IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dDtcbiAgICB9ID0ge1xuICAgICAgLyoqIEdvIHRvIHRoZSBuZXh0IGxvY2F0aW9uIHRvIHRoZSByaWdodC4gKi9cbiAgICAgIHJpZ2h0OiB7XG4gICAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5SSUdIVCxcbiAgICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSksXG4gICAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlLCBlLCBzaG9ydGN1dCkgPT4ge1xuICAgICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SXNBY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHdvcmtzcGFjZS5SVExcbiAgICAgICAgICAgID8gbmF2aWdhdGVPdXQod29ya3NwYWNlLCBlLCBzaG9ydGN1dClcbiAgICAgICAgICAgIDogbmF2aWdhdGVJbih3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0KTtcbiAgICAgICAgfSxcbiAgICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5SSUdIVF0sXG4gICAgICB9LFxuXG4gICAgICAvKiogR28gdG8gdGhlIG5leHQgbG9jYXRpb24gdG8gdGhlIGxlZnQuICovXG4gICAgICBsZWZ0OiB7XG4gICAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5MRUZULFxuICAgICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlKSxcbiAgICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0KSA9PiB7XG4gICAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRJc0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICByZXR1cm4gd29ya3NwYWNlLlJUTFxuICAgICAgICAgICAgPyBuYXZpZ2F0ZUluKHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQpXG4gICAgICAgICAgICA6IG5hdmlnYXRlT3V0KHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQpO1xuICAgICAgICB9LFxuICAgICAgICBrZXlDb2RlczogW0tleUNvZGVzLkxFRlRdLFxuICAgICAgfSxcblxuICAgICAgLyoqIEdvIGRvd24gdG8gdGhlIG5leHQgbG9jYXRpb24uICovXG4gICAgICBkb3duOiB7XG4gICAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5ET1dOLFxuICAgICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlKSxcbiAgICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0KSA9PiB7XG4gICAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRJc0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICBsZXQgaXNIYW5kbGVkID0gZmFsc2U7XG4gICAgICAgICAgc3dpdGNoICh0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSkge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0aGlzLmZpZWxkU2hvcnRjdXRIYW5kbGVyKHdvcmtzcGFjZSwgc2hvcnRjdXQpO1xuICAgICAgICAgICAgICBpZiAoIWlzSGFuZGxlZCAmJiB3b3Jrc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAhdGhpcy5uYXZpZ2F0aW9uLmRlZmF1bHRXb3Jrc3BhY2VDdXJzb3JQb3NpdGlvbklmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBpc0hhbmRsZWQ7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5GTFlPVVQ6XG4gICAgICAgICAgICAgIGlzSGFuZGxlZCA9IHRoaXMuZmllbGRTaG9ydGN1dEhhbmRsZXIod29ya3NwYWNlLCBzaG9ydGN1dCk7XG4gICAgICAgICAgICAgIGlmICghaXNIYW5kbGVkICYmIHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAhdGhpcy5uYXZpZ2F0aW9uLmRlZmF1bHRGbHlvdXRDdXJzb3JJZk5lZWRlZChcbiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLlRPT0xCT1g6IHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbGJveCA9IHdvcmtzcGFjZS5nZXRUb29sYm94KCkgYXMgVG9vbGJveDtcbiAgICAgICAgICAgICAgaWYgKHRvb2xib3gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRvb2xib3guZ2V0U2VsZWN0ZWRJdGVtKCkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbSA9XG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hcbiAgICAgICAgICAgICAgICAgICAgICAuZ2V0VG9vbGJveEl0ZW1zKClcbiAgICAgICAgICAgICAgICAgICAgICAuZmluZCgoaXRlbSkgPT4gaXRlbS5pc1NlbGVjdGFibGUoKSkgPz8gbnVsbDtcbiAgICAgICAgICAgICAgICAgIHRvb2xib3guc2V0U2VsZWN0ZWRJdGVtKGZpcnN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgbWV0aG9kXG4gICAgICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0b29sYm94LnNlbGVjdE5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdG9vbGJveC5nZXRTZWxlY3RlZEl0ZW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgICBCbG9ja2x5LmdldEZvY3VzTWFuYWdlcigpLmZvY3VzTm9kZShzZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaXNIYW5kbGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5ET1dOXSxcbiAgICAgIH0sXG4gICAgICAvKiogR28gdXAgdG8gdGhlIHByZXZpb3VzIGxvY2F0aW9uLiAqL1xuICAgICAgdXA6IHtcbiAgICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlVQLFxuICAgICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlKSxcbiAgICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UsIGUsIHNob3J0Y3V0KSA9PiB7XG4gICAgICAgICAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRJc0FjdGl2ZSh0cnVlKTtcbiAgICAgICAgICBsZXQgaXNIYW5kbGVkID0gZmFsc2U7XG4gICAgICAgICAgc3dpdGNoICh0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSkge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0aGlzLmZpZWxkU2hvcnRjdXRIYW5kbGVyKHdvcmtzcGFjZSwgc2hvcnRjdXQpO1xuICAgICAgICAgICAgICBpZiAoIWlzSGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICF0aGlzLm5hdmlnYXRpb24uZGVmYXVsdFdvcmtzcGFjZUN1cnNvclBvc2l0aW9uSWZOZWVkZWQoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgJ2xhc3QnLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEN1cnNvcigpLnByZXYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaXNIYW5kbGVkO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOlxuICAgICAgICAgICAgICBpc0hhbmRsZWQgPSB0aGlzLmZpZWxkU2hvcnRjdXRIYW5kbGVyKHdvcmtzcGFjZSwgc2hvcnRjdXQpO1xuICAgICAgICAgICAgICBpZiAoIWlzSGFuZGxlZCAmJiB3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIXRoaXMubmF2aWdhdGlvbi5kZWZhdWx0Rmx5b3V0Q3Vyc29ySWZOZWVkZWQoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICdsYXN0JyxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5wcmV2KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzSGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLlRPT0xCT1g6IHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbGJveCA9IHdvcmtzcGFjZS5nZXRUb29sYm94KCkgYXMgVG9vbGJveDtcbiAgICAgICAgICAgICAgaWYgKHRvb2xib3gpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgbWV0aG9kXG4gICAgICAgICAgICAgICAgaXNIYW5kbGVkID0gdG9vbGJveC5zZWxlY3RQcmV2aW91cygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHRvb2xib3guZ2V0U2VsZWN0ZWRJdGVtKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgQmxvY2tseS5nZXRGb2N1c01hbmFnZXIoKS5mb2N1c05vZGUoc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGlzSGFuZGxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuVVBdLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBzaG9ydGN1dCBvZiBPYmplY3QudmFsdWVzKHNob3J0Y3V0cykpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoc2hvcnRjdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCB0aGUgYXJyb3cgbmF2aWdhdGlvbiBzaG9ydGN1dHMuXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5MRUZUKTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlJJR0hUKTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRPV04pO1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuVVApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/actions/arrow_navigation.ts\n");

/***/ }),

/***/ "./src/actions/clipboard.ts":
/*!**********************************!*\
  !*** ./src/actions/clipboard.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Clipboard: () => (/* binding */ Clipboard)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints */ \"./src/hints.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n/**\n * Weight for the first of these three items in the context menu.\n * Changing base weight will change where this group goes in the context\n * menu; changing individual weights relative to base weight can change\n * the order within the clipboard group.\n */\nconst BASE_WEIGHT = 12;\n/**\n * Logic and state for cut/copy/paste actions as both keyboard shortcuts\n * and context menu items.\n * In the long term, this will likely merge with the clipboard code in core.\n */\nclass Clipboard {\n    constructor(navigation, options = {\n        allowCrossWorkspacePaste: false,\n    }) {\n        this.navigation = navigation;\n        this.options = options;\n    }\n    /**\n     * Install these actions as both keyboard shortcuts and context menu items.\n     */\n    install() {\n        this.registerCopyShortcut();\n        this.registerCopyContextMenuAction();\n        this.registerPasteShortcut();\n        this.registerPasteContextMenuAction();\n        this.registerCutShortcut();\n        this.registerCutContextMenuAction();\n    }\n    /**\n     * Uninstall this action as both a keyboard shortcut and a context menu item.\n     * Reinstall the original cut/copy/paste shortcuts.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('blockCutFromContextMenu');\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('blockCopyFromContextMenu');\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('blockPasteFromContextMenu');\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.COPY);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE);\n        if (this.oldCutShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(this.oldCutShortcut);\n        }\n        if (this.oldCopyShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(this.oldCopyShortcut);\n        }\n        if (this.oldPasteShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(this.oldPasteShortcut);\n        }\n    }\n    /**\n     * Create and register the keyboard shortcut for the cut action.\n     * Identical to the one in core but adds a toast after successful cut.\n     */\n    registerCutShortcut() {\n        this.oldCutShortcut =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.CUT];\n        if (!this.oldCutShortcut)\n            throw new Error('No cut keyboard shortcut registered initially');\n        const cutShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n            preconditionFn: this.oldCutShortcut.preconditionFn,\n            callback: this.cutCallback.bind(this),\n            keyCodes: this.oldCutShortcut.keyCodes,\n            allowCollision: false,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.CUT);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(cutShortcut);\n    }\n    /**\n     * Register the cut block action as a context menu item.\n     * The context menu uses its own preconditionFn (that doesn't check\n     * if a gesture is in progress, because one always is in the context\n     * menu). It calls the cut callback that is shared between keyboard\n     * and context menu.\n     */\n    registerCutContextMenuAction() {\n        const cutAction = {\n            displayText: (scope) => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['CUT_SHORTCUT'], _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT),\n            preconditionFn: (scope) => this.cutPrecondition(scope),\n            callback: (scope, menuOpenEvent) => {\n                if (!(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(scope.focusedNode))\n                    return false;\n                const ws = scope.focusedNode.workspace;\n                if (!(ws instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n                    return false;\n                return this.cutCallback(ws, menuOpenEvent, undefined, scope);\n            },\n            id: 'blockCutFromContextMenu',\n            weight: BASE_WEIGHT,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(cutAction);\n    }\n    /**\n     * Precondition function for the cut context menu. This wraps the core cut\n     * precondition to support context menus.\n     *\n     * @param scope scope of the shortcut or context menu item\n     * @returns 'enabled' if the node can be cut, 'disabled' otherwise.\n     */\n    cutPrecondition(scope) {\n        var _a;\n        const focused = scope.focusedNode;\n        if (!focused || !(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(focused))\n            return 'hidden';\n        const workspace = focused.workspace;\n        if (!(workspace instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n            return 'hidden';\n        if (((_a = this.oldCutShortcut) === null || _a === void 0 ? void 0 : _a.preconditionFn) &&\n            this.oldCutShortcut.preconditionFn(workspace, scope)) {\n            return 'enabled';\n        }\n        return 'disabled';\n    }\n    /**\n     * The callback for the cut action. Uses the registered version of the cut callback\n     * to perform the cut logic, then pops a toast if cut happened.\n     *\n     * @param workspace Workspace where shortcut happened.\n     * @param e menu open event or keyboard event\n     * @param shortcut keyboard shortcut or undefined for context menus\n     * @param scope scope of the shortcut or context menu item\n     * @returns true if a cut happened, false otherwise\n     */\n    cutCallback(workspace, e, shortcut = {\n        name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n    }, scope) {\n        var _a;\n        const didCut = !!((_a = this.oldCutShortcut) === null || _a === void 0 ? void 0 : _a.callback) &&\n            this.oldCutShortcut.callback(workspace, e, shortcut, scope);\n        if (didCut) {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showCutHint)(workspace);\n        }\n        return didCut;\n    }\n    /**\n     * Create and register the keyboard shortcut for the copy action.\n     * Identical to the one in core but pops a toast after succesful copy.\n     */\n    registerCopyShortcut() {\n        this.oldCopyShortcut =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.COPY];\n        if (!this.oldCopyShortcut)\n            throw new Error('No copy keyboard shortcut registered initially');\n        const copyShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.COPY,\n            preconditionFn: this.oldCopyShortcut.preconditionFn,\n            callback: this.copyCallback.bind(this),\n            keyCodes: this.oldCopyShortcut.keyCodes,\n            allowCollision: false,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.COPY);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(copyShortcut);\n    }\n    /**\n     * Register the copy block action as a context menu item.\n     * The context menu uses its own preconditionFn (that doesn't check\n     * if a gesture is in progress, because one always is in the context\n     * menu). It calls the copy callback that is shared between keyboard\n     * and context menu.\n     */\n    registerCopyContextMenuAction() {\n        const copyAction = {\n            displayText: (scope) => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['COPY_SHORTCUT'], _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.COPY),\n            preconditionFn: (scope) => this.copyPrecondition(scope),\n            callback: (scope, menuOpenEvent) => {\n                if (!(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(scope.focusedNode))\n                    return false;\n                const ws = scope.focusedNode.workspace;\n                if (!(ws instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n                    return false;\n                return this.copyCallback(ws, menuOpenEvent, undefined, scope);\n            },\n            id: 'blockCopyFromContextMenu',\n            weight: BASE_WEIGHT + 1,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(copyAction);\n    }\n    /**\n     * Precondition function for the copy context menu. This wraps the core copy\n     * precondition to support context menus.\n     *\n     * @param scope scope of the shortcut or context menu item\n     * @returns 'enabled' if the node can be copied, 'disabled' otherwise.\n     */\n    copyPrecondition(scope) {\n        var _a;\n        const focused = scope.focusedNode;\n        if (!focused || !(0,blockly__WEBPACK_IMPORTED_MODULE_0__.isCopyable)(focused))\n            return 'hidden';\n        const workspace = focused.workspace;\n        if (!(workspace instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n            return 'hidden';\n        if (((_a = this.oldCopyShortcut) === null || _a === void 0 ? void 0 : _a.preconditionFn) &&\n            this.oldCopyShortcut.preconditionFn(workspace, scope)) {\n            return 'enabled';\n        }\n        return 'disabled';\n    }\n    /**\n     * The callback for the copy action. Uses the registered version of the copy callback\n     * to perform the copy logic, then pops a toast if copy happened.\n     *\n     * @param workspace Workspace where shortcut happened.\n     * @param e menu open event or keyboard event\n     * @param shortcut keyboard shortcut or undefined for context menus\n     * @param scope scope of the shortcut or context menu item\n     * @returns true if a copy happened, false otherwise\n     */\n    copyCallback(workspace, e, shortcut = {\n        name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n    }, scope) {\n        var _a;\n        const didCopy = !!((_a = this.oldCopyShortcut) === null || _a === void 0 ? void 0 : _a.callback) &&\n            this.oldCopyShortcut.callback(workspace, e, shortcut, scope);\n        if (didCopy) {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showCopiedHint)(workspace);\n        }\n        return didCopy;\n    }\n    /**\n     * Create and register the keyboard shortcut for the paste action.\n     * Identical to the one in core but clears any paste toasts after.\n     */\n    registerPasteShortcut() {\n        this.oldPasteShortcut =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.PASTE];\n        if (!this.oldPasteShortcut)\n            throw new Error('No paste keyboard shortcut registered initially');\n        const pasteShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE,\n            preconditionFn: this.oldPasteShortcut.preconditionFn,\n            callback: this.pasteCallback.bind(this),\n            keyCodes: this.oldPasteShortcut.keyCodes,\n            allowCollision: false,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.PASTE);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(pasteShortcut);\n    }\n    /**\n     * Register the paste block action as a context menu item.\n     * The context menu uses its own preconditionFn (that doesn't check\n     * if a gesture is in progress, because one always is in the context\n     * menu). It calls the paste callback that is shared between keyboard\n     * and context menu.\n     */\n    registerPasteContextMenuAction() {\n        const pasteAction = {\n            displayText: (scope) => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['PASTE_SHORTCUT'], _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE),\n            preconditionFn: (scope) => this.pastePrecondition(scope),\n            callback: (scope, menuOpenEvent) => {\n                const workspace = this.getPasteWorkspace(scope);\n                if (!workspace)\n                    return false;\n                return this.pasteCallback(workspace, menuOpenEvent, undefined, scope);\n            },\n            id: 'blockPasteFromContextMenu',\n            weight: BASE_WEIGHT + 2,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(pasteAction);\n    }\n    /**\n     * Get the workspace to paste into based on which type of thing the menu was opened on.\n     *\n     * @param scope scope of shortcut or context menu item\n     * @returns WorkspaceSvg to paste into or undefined\n     */\n    getPasteWorkspace(scope) {\n        let workspace;\n        if (scope.focusedNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            workspace = scope.focusedNode;\n        }\n        else if ((0,blockly__WEBPACK_IMPORTED_MODULE_0__.isSelectable)(scope.focusedNode)) {\n            workspace = scope.focusedNode.workspace;\n        }\n        if (!workspace || !(workspace instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg))\n            return undefined;\n        return workspace;\n    }\n    /**\n     * Precondition function for the paste context menu. This wraps the core\n     * paste precondition to support context menus.\n     *\n     * @param scope scope of the shortcut or context menu item\n     * @returns 'enabled' if the node can be pasted, 'disabled' otherwise.\n     */\n    pastePrecondition(scope) {\n        var _a;\n        const workspace = this.getPasteWorkspace(scope);\n        // If we can't identify what workspace to paste into, hide.\n        if (!workspace)\n            return 'hidden';\n        // Don't paste into flyouts.\n        if (workspace.isFlyout)\n            return 'hidden';\n        if (!this.options.allowCrossWorkspacePaste) {\n            // Only paste into the same workspace that was copied from\n            // or the parent workspace of a flyout that was copied from.\n            let copiedWorkspace = blockly__WEBPACK_IMPORTED_MODULE_0__.clipboard.getLastCopiedWorkspace();\n            if (copiedWorkspace === null || copiedWorkspace === void 0 ? void 0 : copiedWorkspace.isFlyout)\n                copiedWorkspace = copiedWorkspace.targetWorkspace;\n            if (copiedWorkspace !== workspace)\n                return 'disabled';\n        }\n        if (((_a = this.oldPasteShortcut) === null || _a === void 0 ? void 0 : _a.preconditionFn) &&\n            this.oldPasteShortcut.preconditionFn(workspace, scope)) {\n            return 'enabled';\n        }\n        return 'disabled';\n    }\n    /**\n     * The callback for the paste action. Uses the registered version of the paste callback\n     * to perform the paste logic, then clears any toasts about pasting.\n     *\n     * @param workspace Workspace where shortcut happened.\n     * @param e menu open event or keyboard event\n     * @param shortcut keyboard shortcut or undefined for context menus\n     * @param scope scope of the shortcut or context menu item\n     * @returns true if a paste happened, false otherwise\n     */\n    pasteCallback(workspace, e, shortcut = {\n        name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CUT,\n    }, scope) {\n        var _a;\n        const didPaste = !!((_a = this.oldPasteShortcut) === null || _a === void 0 ? void 0 : _a.callback) &&\n            this.oldPasteShortcut.callback(workspace, e, shortcut, scope);\n        // Clear the paste hints regardless of whether something was pasted\n        // Some implementations of paste are async and we should clear the hint\n        // once the user initiates the paste action.\n        (0,_hints__WEBPACK_IMPORTED_MODULE_3__.clearPasteHints)(workspace);\n        return didPaste;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy9jbGlwYm9hcmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztHQUlHO0FBV2M7QUFDeUI7QUFFUztBQUNtQjtBQUV0RTs7Ozs7R0FLRztBQUNILE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUV2Qjs7OztHQUlHO0FBQ0ksTUFBTSxTQUFTO0lBS3BCLFlBQ1UsVUFBc0IsRUFDdEIsVUFBK0M7UUFDckQsd0JBQXdCLEVBQUUsS0FBSztLQUNoQztRQUhPLGVBQVUsR0FBVixVQUFVLENBQVk7UUFDdEIsWUFBTyxHQUFQLE9BQU8sQ0FFZDtJQUNBLENBQUM7SUFFSjs7T0FFRztJQUNILE9BQU87UUFDTCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsNkJBQTZCLEVBQUUsQ0FBQztRQUVyQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsOEJBQThCLEVBQUUsQ0FBQztRQUV0QyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsU0FBUztRQUNQLHdEQUFtQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUNuRSx3REFBbUIsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLDBCQUEwQixDQUFDLENBQUM7UUFDcEUsd0RBQW1CLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBRXJFLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsc0RBQXdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbkUscURBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxzREFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRSxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLHNEQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXJFLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3hCLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzFELENBQUM7UUFFRCxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN6QixxREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBRUQsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUMxQixxREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzVELENBQUM7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssbUJBQW1CO1FBQ3pCLElBQUksQ0FBQyxjQUFjO1lBQ2pCLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxrREFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWM7WUFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1FBRW5FLE1BQU0sV0FBVyxHQUFzQztZQUNyRCxJQUFJLEVBQUUsc0RBQXdCLENBQUMsR0FBRztZQUNsQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxjQUFjO1lBQ2xELFFBQVEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDckMsUUFBUSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUTtZQUN0QyxjQUFjLEVBQUUsS0FBSztTQUN0QixDQUFDO1FBRUYscURBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxrREFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM5RCxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSyw0QkFBNEI7UUFDbEMsTUFBTSxTQUFTLEdBQXFDO1lBQ2xELFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ3JCLGlFQUFXLENBQUMsd0NBQUcsQ0FBQyxjQUFjLENBQUMsRUFBRSxzREFBd0IsQ0FBQyxHQUFHLENBQUM7WUFDaEUsY0FBYyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQztZQUN0RCxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxtREFBVSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7b0JBQUUsT0FBTyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO2dCQUN2QyxJQUFJLENBQUMsQ0FBQyxFQUFFLFlBQVksaURBQVksQ0FBQztvQkFBRSxPQUFPLEtBQUssQ0FBQztnQkFFaEQsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQy9ELENBQUM7WUFDRCxFQUFFLEVBQUUseUJBQXlCO1lBQzdCLE1BQU0sRUFBRSxXQUFXO1NBQ3BCLENBQUM7UUFFRix3REFBbUIsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSyxlQUFlLENBQUMsS0FBZ0M7O1FBQ3RELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDbEMsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLG1EQUFVLENBQUMsT0FBTyxDQUFDO1lBQUUsT0FBTyxRQUFRLENBQUM7UUFFdEQsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUNwQyxJQUFJLENBQUMsQ0FBQyxTQUFTLFlBQVksaURBQVksQ0FBQztZQUFFLE9BQU8sUUFBUSxDQUFDO1FBRTFELElBQ0UsV0FBSSxDQUFDLGNBQWMsMENBQUUsY0FBYztZQUNuQyxJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLEVBQ3BELENBQUM7WUFDRCxPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBQ0QsT0FBTyxVQUFVLENBQUM7SUFDcEIsQ0FBQztJQUVEOzs7Ozs7Ozs7T0FTRztJQUNLLFdBQVcsQ0FDakIsU0FBdUIsRUFDdkIsQ0FBUSxFQUNSLFdBQThDO1FBQzVDLElBQUksRUFBRSxzREFBd0IsQ0FBQyxHQUFHO0tBQ25DLEVBQ0QsS0FBZ0M7O1FBRWhDLE1BQU0sTUFBTSxHQUNWLENBQUMsQ0FBQyxXQUFJLENBQUMsY0FBYywwQ0FBRSxRQUFRO1lBQy9CLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlELElBQUksTUFBTSxFQUFFLENBQUM7WUFDWCxtREFBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pCLENBQUM7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssb0JBQW9CO1FBQzFCLElBQUksQ0FBQyxlQUFlO1lBQ2xCLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxrREFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWU7WUFDdkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxnREFBZ0QsQ0FBQyxDQUFDO1FBRXBFLE1BQU0sWUFBWSxHQUFzQztZQUN0RCxJQUFJLEVBQUUsc0RBQXdCLENBQUMsSUFBSTtZQUNuQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjO1lBQ25ELFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDdEMsUUFBUSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUTtZQUN2QyxjQUFjLEVBQUUsS0FBSztTQUN0QixDQUFDO1FBRUYscURBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxrREFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvRCxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSyw2QkFBNkI7UUFDbkMsTUFBTSxVQUFVLEdBQXFDO1lBQ25ELFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ3JCLGlFQUFXLENBQUMsd0NBQUcsQ0FBQyxlQUFlLENBQUMsRUFBRSxzREFBd0IsQ0FBQyxJQUFJLENBQUM7WUFDbEUsY0FBYyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO1lBQ3ZELFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLG1EQUFVLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztvQkFBRSxPQUFPLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUM7Z0JBQ3ZDLElBQUksQ0FBQyxDQUFDLEVBQUUsWUFBWSxpREFBWSxDQUFDO29CQUFFLE9BQU8sS0FBSyxDQUFDO2dCQUVoRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEUsQ0FBQztZQUNELEVBQUUsRUFBRSwwQkFBMEI7WUFDOUIsTUFBTSxFQUFFLFdBQVcsR0FBRyxDQUFDO1NBQ3hCLENBQUM7UUFFRix3REFBbUIsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSyxnQkFBZ0IsQ0FBQyxLQUFnQzs7UUFDdkQsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQztRQUNsQyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsbURBQVUsQ0FBQyxPQUFPLENBQUM7WUFBRSxPQUFPLFFBQVEsQ0FBQztRQUV0RCxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxDQUFDLFNBQVMsWUFBWSxpREFBWSxDQUFDO1lBQUUsT0FBTyxRQUFRLENBQUM7UUFFMUQsSUFDRSxXQUFJLENBQUMsZUFBZSwwQ0FBRSxjQUFjO1lBQ3BDLElBQUksQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsRUFDckQsQ0FBQztZQUNELE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUM7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBRUQ7Ozs7Ozs7OztPQVNHO0lBQ0ssWUFBWSxDQUNsQixTQUF1QixFQUN2QixDQUFRLEVBQ1IsV0FBOEM7UUFDNUMsSUFBSSxFQUFFLHNEQUF3QixDQUFDLEdBQUc7S0FDbkMsRUFDRCxLQUFnQzs7UUFFaEMsTUFBTSxPQUFPLEdBQ1gsQ0FBQyxDQUFDLFdBQUksQ0FBQyxlQUFlLDBDQUFFLFFBQVE7WUFDaEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0QsSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUNaLHNEQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFFRDs7O09BR0c7SUFDSyxxQkFBcUI7UUFDM0IsSUFBSSxDQUFDLGdCQUFnQjtZQUNuQixxREFBZ0IsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsa0RBQWEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0I7WUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1FBRXJFLE1BQU0sYUFBYSxHQUFzQztZQUN2RCxJQUFJLEVBQUUsc0RBQXdCLENBQUMsS0FBSztZQUNwQyxjQUFjLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGNBQWM7WUFDcEQsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUN2QyxRQUFRLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVE7WUFDeEMsY0FBYyxFQUFFLEtBQUs7U0FDdEIsQ0FBQztRQUVGLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsa0RBQWEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEUscURBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ssOEJBQThCO1FBQ3BDLE1BQU0sV0FBVyxHQUFxQztZQUNwRCxXQUFXLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUNyQixpRUFBVyxDQUFDLHdDQUFHLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxzREFBd0IsQ0FBQyxLQUFLLENBQUM7WUFDcEUsY0FBYyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDO1lBQ3hELFFBQVEsRUFBRSxDQUFDLEtBQWdDLEVBQUUsYUFBb0IsRUFBRSxFQUFFO2dCQUNuRSxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxTQUFTO29CQUFFLE9BQU8sS0FBSyxDQUFDO2dCQUM3QixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDeEUsQ0FBQztZQUNELEVBQUUsRUFBRSwyQkFBMkI7WUFDL0IsTUFBTSxFQUFFLFdBQVcsR0FBRyxDQUFDO1NBQ3hCLENBQUM7UUFFRix3REFBbUIsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNLLGlCQUFpQixDQUN2QixLQUFnQztRQUVoQyxJQUFJLFNBQVMsQ0FBQztRQUNkLElBQUksS0FBSyxDQUFDLFdBQVcsWUFBWSxpREFBWSxFQUFFLENBQUM7WUFDOUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDaEMsQ0FBQzthQUFNLElBQUkscURBQVksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQztZQUMzQyxTQUFTLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUM7UUFDMUMsQ0FBQztRQUVELElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLFNBQVMsWUFBWSxpREFBWSxDQUFDO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDekUsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNLLGlCQUFpQixDQUFDLEtBQWdDOztRQUN4RCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEQsMkRBQTJEO1FBQzNELElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTyxRQUFRLENBQUM7UUFFaEMsNEJBQTRCO1FBQzVCLElBQUksU0FBUyxDQUFDLFFBQVE7WUFBRSxPQUFPLFFBQVEsQ0FBQztRQUV4QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1lBQzNDLDBEQUEwRDtZQUMxRCw0REFBNEQ7WUFDNUQsSUFBSSxlQUFlLEdBQUcsOENBQVMsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1lBQ3pELElBQUksZUFBZSxhQUFmLGVBQWUsdUJBQWYsZUFBZSxDQUFFLFFBQVE7Z0JBQzNCLGVBQWUsR0FBRyxlQUFlLENBQUMsZUFBZSxDQUFDO1lBQ3BELElBQUksZUFBZSxLQUFLLFNBQVM7Z0JBQUUsT0FBTyxVQUFVLENBQUM7UUFDdkQsQ0FBQztRQUVELElBQ0UsV0FBSSxDQUFDLGdCQUFnQiwwQ0FBRSxjQUFjO1lBQ3JDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUN0RCxDQUFDO1lBQ0QsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFRDs7Ozs7Ozs7O09BU0c7SUFDSyxhQUFhLENBQ25CLFNBQXVCLEVBQ3ZCLENBQVEsRUFDUixXQUE4QztRQUM1QyxJQUFJLEVBQUUsc0RBQXdCLENBQUMsR0FBRztLQUNuQyxFQUNELEtBQWdDOztRQUVoQyxNQUFNLFFBQVEsR0FDWixDQUFDLENBQUMsV0FBSSxDQUFDLGdCQUFnQiwwQ0FBRSxRQUFRO1lBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFaEUsbUVBQW1FO1FBQ25FLHVFQUF1RTtRQUN2RSw0Q0FBNEM7UUFDNUMsdURBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQixPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvY2xpcGJvYXJkLnRzP2FjOGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBDb250ZXh0TWVudVJlZ2lzdHJ5LFxuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICBpc0NvcHlhYmxlLFxuICBNc2csXG4gIFNob3J0Y3V0SXRlbXMsXG4gIFdvcmtzcGFjZVN2ZyxcbiAgY2xpcGJvYXJkLFxuICBpc1NlbGVjdGFibGUsXG59IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuaW1wb3J0IHtnZXRNZW51SXRlbX0gZnJvbSAnLi4vc2hvcnRjdXRfZm9ybWF0dGluZyc7XG5pbXBvcnQge2NsZWFyUGFzdGVIaW50cywgc2hvd0NvcGllZEhpbnQsIHNob3dDdXRIaW50fSBmcm9tICcuLi9oaW50cyc7XG5cbi8qKlxuICogV2VpZ2h0IGZvciB0aGUgZmlyc3Qgb2YgdGhlc2UgdGhyZWUgaXRlbXMgaW4gdGhlIGNvbnRleHQgbWVudS5cbiAqIENoYW5naW5nIGJhc2Ugd2VpZ2h0IHdpbGwgY2hhbmdlIHdoZXJlIHRoaXMgZ3JvdXAgZ29lcyBpbiB0aGUgY29udGV4dFxuICogbWVudTsgY2hhbmdpbmcgaW5kaXZpZHVhbCB3ZWlnaHRzIHJlbGF0aXZlIHRvIGJhc2Ugd2VpZ2h0IGNhbiBjaGFuZ2VcbiAqIHRoZSBvcmRlciB3aXRoaW4gdGhlIGNsaXBib2FyZCBncm91cC5cbiAqL1xuY29uc3QgQkFTRV9XRUlHSFQgPSAxMjtcblxuLyoqXG4gKiBMb2dpYyBhbmQgc3RhdGUgZm9yIGN1dC9jb3B5L3Bhc3RlIGFjdGlvbnMgYXMgYm90aCBrZXlib2FyZCBzaG9ydGN1dHNcbiAqIGFuZCBjb250ZXh0IG1lbnUgaXRlbXMuXG4gKiBJbiB0aGUgbG9uZyB0ZXJtLCB0aGlzIHdpbGwgbGlrZWx5IG1lcmdlIHdpdGggdGhlIGNsaXBib2FyZCBjb2RlIGluIGNvcmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGlwYm9hcmQge1xuICBwcml2YXRlIG9sZEN1dFNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgb2xkQ29weVNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgb2xkUGFzdGVTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbmF2aWdhdGlvbjogTmF2aWdhdGlvbixcbiAgICBwcml2YXRlIG9wdGlvbnM6IHthbGxvd0Nyb3NzV29ya3NwYWNlUGFzdGU6IGJvb2xlYW59ID0ge1xuICAgICAgYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlOiBmYWxzZSxcbiAgICB9LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEluc3RhbGwgdGhlc2UgYWN0aW9ucyBhcyBib3RoIGtleWJvYXJkIHNob3J0Y3V0cyBhbmQgY29udGV4dCBtZW51IGl0ZW1zLlxuICAgKi9cbiAgaW5zdGFsbCgpIHtcbiAgICB0aGlzLnJlZ2lzdGVyQ29weVNob3J0Y3V0KCk7XG4gICAgdGhpcy5yZWdpc3RlckNvcHlDb250ZXh0TWVudUFjdGlvbigpO1xuXG4gICAgdGhpcy5yZWdpc3RlclBhc3RlU2hvcnRjdXQoKTtcbiAgICB0aGlzLnJlZ2lzdGVyUGFzdGVDb250ZXh0TWVudUFjdGlvbigpO1xuXG4gICAgdGhpcy5yZWdpc3RlckN1dFNob3J0Y3V0KCk7XG4gICAgdGhpcy5yZWdpc3RlckN1dENvbnRleHRNZW51QWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogVW5pbnN0YWxsIHRoaXMgYWN0aW9uIGFzIGJvdGggYSBrZXlib2FyZCBzaG9ydGN1dCBhbmQgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICogUmVpbnN0YWxsIHRoZSBvcmlnaW5hbCBjdXQvY29weS9wYXN0ZSBzaG9ydGN1dHMuXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKCdibG9ja0N1dEZyb21Db250ZXh0TWVudScpO1xuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcignYmxvY2tDb3B5RnJvbUNvbnRleHRNZW51Jyk7XG4gICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKCdibG9ja1Bhc3RlRnJvbUNvbnRleHRNZW51Jyk7XG5cbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkNVVCk7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DT1BZKTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlBBU1RFKTtcblxuICAgIGlmICh0aGlzLm9sZEN1dFNob3J0Y3V0KSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHRoaXMub2xkQ3V0U2hvcnRjdXQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9sZENvcHlTaG9ydGN1dCkge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih0aGlzLm9sZENvcHlTaG9ydGN1dCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub2xkUGFzdGVTaG9ydGN1dCkge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih0aGlzLm9sZFBhc3RlU2hvcnRjdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHRoZSBrZXlib2FyZCBzaG9ydGN1dCBmb3IgdGhlIGN1dCBhY3Rpb24uXG4gICAqIElkZW50aWNhbCB0byB0aGUgb25lIGluIGNvcmUgYnV0IGFkZHMgYSB0b2FzdCBhZnRlciBzdWNjZXNzZnVsIGN1dC5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJDdXRTaG9ydGN1dCgpIHtcbiAgICB0aGlzLm9sZEN1dFNob3J0Y3V0ID1cbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuZ2V0UmVnaXN0cnkoKVtTaG9ydGN1dEl0ZW1zLm5hbWVzLkNVVF07XG4gICAgaWYgKCF0aGlzLm9sZEN1dFNob3J0Y3V0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjdXQga2V5Ym9hcmQgc2hvcnRjdXQgcmVnaXN0ZXJlZCBpbml0aWFsbHknKTtcblxuICAgIGNvbnN0IGN1dFNob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ1VULFxuICAgICAgcHJlY29uZGl0aW9uRm46IHRoaXMub2xkQ3V0U2hvcnRjdXQucHJlY29uZGl0aW9uRm4sXG4gICAgICBjYWxsYmFjazogdGhpcy5jdXRDYWxsYmFjay5iaW5kKHRoaXMpLFxuICAgICAga2V5Q29kZXM6IHRoaXMub2xkQ3V0U2hvcnRjdXQua2V5Q29kZXMsXG4gICAgICBhbGxvd0NvbGxpc2lvbjogZmFsc2UsXG4gICAgfTtcblxuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihTaG9ydGN1dEl0ZW1zLm5hbWVzLkNVVCk7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihjdXRTaG9ydGN1dCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlIGN1dCBibG9jayBhY3Rpb24gYXMgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICogVGhlIGNvbnRleHQgbWVudSB1c2VzIGl0cyBvd24gcHJlY29uZGl0aW9uRm4gKHRoYXQgZG9lc24ndCBjaGVja1xuICAgKiBpZiBhIGdlc3R1cmUgaXMgaW4gcHJvZ3Jlc3MsIGJlY2F1c2Ugb25lIGFsd2F5cyBpcyBpbiB0aGUgY29udGV4dFxuICAgKiBtZW51KS4gSXQgY2FsbHMgdGhlIGN1dCBjYWxsYmFjayB0aGF0IGlzIHNoYXJlZCBiZXR3ZWVuIGtleWJvYXJkXG4gICAqIGFuZCBjb250ZXh0IG1lbnUuXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyQ3V0Q29udGV4dE1lbnVBY3Rpb24oKSB7XG4gICAgY29uc3QgY3V0QWN0aW9uOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlJlZ2lzdHJ5SXRlbSA9IHtcbiAgICAgIGRpc3BsYXlUZXh0OiAoc2NvcGUpID0+XG4gICAgICAgIGdldE1lbnVJdGVtKE1zZ1snQ1VUX1NIT1JUQ1VUJ10sIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DVVQpLFxuICAgICAgcHJlY29uZGl0aW9uRm46IChzY29wZSkgPT4gdGhpcy5jdXRQcmVjb25kaXRpb24oc2NvcGUpLFxuICAgICAgY2FsbGJhY2s6IChzY29wZSwgbWVudU9wZW5FdmVudCkgPT4ge1xuICAgICAgICBpZiAoIWlzQ29weWFibGUoc2NvcGUuZm9jdXNlZE5vZGUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHdzID0gc2NvcGUuZm9jdXNlZE5vZGUud29ya3NwYWNlO1xuICAgICAgICBpZiAoISh3cyBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZykpIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jdXRDYWxsYmFjayh3cywgbWVudU9wZW5FdmVudCwgdW5kZWZpbmVkLCBzY29wZSk7XG4gICAgICB9LFxuICAgICAgaWQ6ICdibG9ja0N1dEZyb21Db250ZXh0TWVudScsXG4gICAgICB3ZWlnaHQ6IEJBU0VfV0VJR0hULFxuICAgIH07XG5cbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKGN1dEFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUHJlY29uZGl0aW9uIGZ1bmN0aW9uIGZvciB0aGUgY3V0IGNvbnRleHQgbWVudS4gVGhpcyB3cmFwcyB0aGUgY29yZSBjdXRcbiAgICogcHJlY29uZGl0aW9uIHRvIHN1cHBvcnQgY29udGV4dCBtZW51cy5cbiAgICpcbiAgICogQHBhcmFtIHNjb3BlIHNjb3BlIG9mIHRoZSBzaG9ydGN1dCBvciBjb250ZXh0IG1lbnUgaXRlbVxuICAgKiBAcmV0dXJucyAnZW5hYmxlZCcgaWYgdGhlIG5vZGUgY2FuIGJlIGN1dCwgJ2Rpc2FibGVkJyBvdGhlcndpc2UuXG4gICAqL1xuICBwcml2YXRlIGN1dFByZWNvbmRpdGlvbihzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSk6IHN0cmluZyB7XG4gICAgY29uc3QgZm9jdXNlZCA9IHNjb3BlLmZvY3VzZWROb2RlO1xuICAgIGlmICghZm9jdXNlZCB8fCAhaXNDb3B5YWJsZShmb2N1c2VkKSkgcmV0dXJuICdoaWRkZW4nO1xuXG4gICAgY29uc3Qgd29ya3NwYWNlID0gZm9jdXNlZC53b3Jrc3BhY2U7XG4gICAgaWYgKCEod29ya3NwYWNlIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnKSkgcmV0dXJuICdoaWRkZW4nO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vbGRDdXRTaG9ydGN1dD8ucHJlY29uZGl0aW9uRm4gJiZcbiAgICAgIHRoaXMub2xkQ3V0U2hvcnRjdXQucHJlY29uZGl0aW9uRm4od29ya3NwYWNlLCBzY29wZSlcbiAgICApIHtcbiAgICAgIHJldHVybiAnZW5hYmxlZCc7XG4gICAgfVxuICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayBmb3IgdGhlIGN1dCBhY3Rpb24uIFVzZXMgdGhlIHJlZ2lzdGVyZWQgdmVyc2lvbiBvZiB0aGUgY3V0IGNhbGxiYWNrXG4gICAqIHRvIHBlcmZvcm0gdGhlIGN1dCBsb2dpYywgdGhlbiBwb3BzIGEgdG9hc3QgaWYgY3V0IGhhcHBlbmVkLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFdvcmtzcGFjZSB3aGVyZSBzaG9ydGN1dCBoYXBwZW5lZC5cbiAgICogQHBhcmFtIGUgbWVudSBvcGVuIGV2ZW50IG9yIGtleWJvYXJkIGV2ZW50XG4gICAqIEBwYXJhbSBzaG9ydGN1dCBrZXlib2FyZCBzaG9ydGN1dCBvciB1bmRlZmluZWQgZm9yIGNvbnRleHQgbWVudXNcbiAgICogQHBhcmFtIHNjb3BlIHNjb3BlIG9mIHRoZSBzaG9ydGN1dCBvciBjb250ZXh0IG1lbnUgaXRlbVxuICAgKiBAcmV0dXJucyB0cnVlIGlmIGEgY3V0IGhhcHBlbmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIHByaXZhdGUgY3V0Q2FsbGJhY2soXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgZTogRXZlbnQsXG4gICAgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DVVQsXG4gICAgfSxcbiAgICBzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSxcbiAgKSB7XG4gICAgY29uc3QgZGlkQ3V0ID1cbiAgICAgICEhdGhpcy5vbGRDdXRTaG9ydGN1dD8uY2FsbGJhY2sgJiZcbiAgICAgIHRoaXMub2xkQ3V0U2hvcnRjdXQuY2FsbGJhY2sod29ya3NwYWNlLCBlLCBzaG9ydGN1dCwgc2NvcGUpO1xuICAgIGlmIChkaWRDdXQpIHtcbiAgICAgIHNob3dDdXRIaW50KHdvcmtzcGFjZSk7XG4gICAgfVxuICAgIHJldHVybiBkaWRDdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZWdpc3RlciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQgZm9yIHRoZSBjb3B5IGFjdGlvbi5cbiAgICogSWRlbnRpY2FsIHRvIHRoZSBvbmUgaW4gY29yZSBidXQgcG9wcyBhIHRvYXN0IGFmdGVyIHN1Y2Nlc2Z1bCBjb3B5LlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlckNvcHlTaG9ydGN1dCgpIHtcbiAgICB0aGlzLm9sZENvcHlTaG9ydGN1dCA9XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmdldFJlZ2lzdHJ5KClbU2hvcnRjdXRJdGVtcy5uYW1lcy5DT1BZXTtcbiAgICBpZiAoIXRoaXMub2xkQ29weVNob3J0Y3V0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb3B5IGtleWJvYXJkIHNob3J0Y3V0IHJlZ2lzdGVyZWQgaW5pdGlhbGx5Jyk7XG5cbiAgICBjb25zdCBjb3B5U2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DT1BZLFxuICAgICAgcHJlY29uZGl0aW9uRm46IHRoaXMub2xkQ29weVNob3J0Y3V0LnByZWNvbmRpdGlvbkZuLFxuICAgICAgY2FsbGJhY2s6IHRoaXMuY29weUNhbGxiYWNrLmJpbmQodGhpcyksXG4gICAgICBrZXlDb2RlczogdGhpcy5vbGRDb3B5U2hvcnRjdXQua2V5Q29kZXMsXG4gICAgICBhbGxvd0NvbGxpc2lvbjogZmFsc2UsXG4gICAgfTtcblxuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihTaG9ydGN1dEl0ZW1zLm5hbWVzLkNPUFkpO1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoY29weVNob3J0Y3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciB0aGUgY29weSBibG9jayBhY3Rpb24gYXMgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICogVGhlIGNvbnRleHQgbWVudSB1c2VzIGl0cyBvd24gcHJlY29uZGl0aW9uRm4gKHRoYXQgZG9lc24ndCBjaGVja1xuICAgKiBpZiBhIGdlc3R1cmUgaXMgaW4gcHJvZ3Jlc3MsIGJlY2F1c2Ugb25lIGFsd2F5cyBpcyBpbiB0aGUgY29udGV4dFxuICAgKiBtZW51KS4gSXQgY2FsbHMgdGhlIGNvcHkgY2FsbGJhY2sgdGhhdCBpcyBzaGFyZWQgYmV0d2VlbiBrZXlib2FyZFxuICAgKiBhbmQgY29udGV4dCBtZW51LlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlckNvcHlDb250ZXh0TWVudUFjdGlvbigpIHtcbiAgICBjb25zdCBjb3B5QWN0aW9uOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlJlZ2lzdHJ5SXRlbSA9IHtcbiAgICAgIGRpc3BsYXlUZXh0OiAoc2NvcGUpID0+XG4gICAgICAgIGdldE1lbnVJdGVtKE1zZ1snQ09QWV9TSE9SVENVVCddLCBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ09QWSksXG4gICAgICBwcmVjb25kaXRpb25GbjogKHNjb3BlKSA9PiB0aGlzLmNvcHlQcmVjb25kaXRpb24oc2NvcGUpLFxuICAgICAgY2FsbGJhY2s6IChzY29wZSwgbWVudU9wZW5FdmVudCkgPT4ge1xuICAgICAgICBpZiAoIWlzQ29weWFibGUoc2NvcGUuZm9jdXNlZE5vZGUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHdzID0gc2NvcGUuZm9jdXNlZE5vZGUud29ya3NwYWNlO1xuICAgICAgICBpZiAoISh3cyBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZykpIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5Q2FsbGJhY2sod3MsIG1lbnVPcGVuRXZlbnQsIHVuZGVmaW5lZCwgc2NvcGUpO1xuICAgICAgfSxcbiAgICAgIGlkOiAnYmxvY2tDb3B5RnJvbUNvbnRleHRNZW51JyxcbiAgICAgIHdlaWdodDogQkFTRV9XRUlHSFQgKyAxLFxuICAgIH07XG5cbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKGNvcHlBY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZWNvbmRpdGlvbiBmdW5jdGlvbiBmb3IgdGhlIGNvcHkgY29udGV4dCBtZW51LiBUaGlzIHdyYXBzIHRoZSBjb3JlIGNvcHlcbiAgICogcHJlY29uZGl0aW9uIHRvIHN1cHBvcnQgY29udGV4dCBtZW51cy5cbiAgICpcbiAgICogQHBhcmFtIHNjb3BlIHNjb3BlIG9mIHRoZSBzaG9ydGN1dCBvciBjb250ZXh0IG1lbnUgaXRlbVxuICAgKiBAcmV0dXJucyAnZW5hYmxlZCcgaWYgdGhlIG5vZGUgY2FuIGJlIGNvcGllZCwgJ2Rpc2FibGVkJyBvdGhlcndpc2UuXG4gICAqL1xuICBwcml2YXRlIGNvcHlQcmVjb25kaXRpb24oc2NvcGU6IENvbnRleHRNZW51UmVnaXN0cnkuU2NvcGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZvY3VzZWQgPSBzY29wZS5mb2N1c2VkTm9kZTtcbiAgICBpZiAoIWZvY3VzZWQgfHwgIWlzQ29weWFibGUoZm9jdXNlZCkpIHJldHVybiAnaGlkZGVuJztcblxuICAgIGNvbnN0IHdvcmtzcGFjZSA9IGZvY3VzZWQud29ya3NwYWNlO1xuICAgIGlmICghKHdvcmtzcGFjZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZykpIHJldHVybiAnaGlkZGVuJztcblxuICAgIGlmIChcbiAgICAgIHRoaXMub2xkQ29weVNob3J0Y3V0Py5wcmVjb25kaXRpb25GbiAmJlxuICAgICAgdGhpcy5vbGRDb3B5U2hvcnRjdXQucHJlY29uZGl0aW9uRm4od29ya3NwYWNlLCBzY29wZSlcbiAgICApIHtcbiAgICAgIHJldHVybiAnZW5hYmxlZCc7XG4gICAgfVxuICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayBmb3IgdGhlIGNvcHkgYWN0aW9uLiBVc2VzIHRoZSByZWdpc3RlcmVkIHZlcnNpb24gb2YgdGhlIGNvcHkgY2FsbGJhY2tcbiAgICogdG8gcGVyZm9ybSB0aGUgY29weSBsb2dpYywgdGhlbiBwb3BzIGEgdG9hc3QgaWYgY29weSBoYXBwZW5lZC5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBXb3Jrc3BhY2Ugd2hlcmUgc2hvcnRjdXQgaGFwcGVuZWQuXG4gICAqIEBwYXJhbSBlIG1lbnUgb3BlbiBldmVudCBvciBrZXlib2FyZCBldmVudFxuICAgKiBAcGFyYW0gc2hvcnRjdXQga2V5Ym9hcmQgc2hvcnRjdXQgb3IgdW5kZWZpbmVkIGZvciBjb250ZXh0IG1lbnVzXG4gICAqIEBwYXJhbSBzY29wZSBzY29wZSBvZiB0aGUgc2hvcnRjdXQgb3IgY29udGV4dCBtZW51IGl0ZW1cbiAgICogQHJldHVybnMgdHJ1ZSBpZiBhIGNvcHkgaGFwcGVuZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgcHJpdmF0ZSBjb3B5Q2FsbGJhY2soXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgZTogRXZlbnQsXG4gICAgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DVVQsXG4gICAgfSxcbiAgICBzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSxcbiAgKSB7XG4gICAgY29uc3QgZGlkQ29weSA9XG4gICAgICAhIXRoaXMub2xkQ29weVNob3J0Y3V0Py5jYWxsYmFjayAmJlxuICAgICAgdGhpcy5vbGRDb3B5U2hvcnRjdXQuY2FsbGJhY2sod29ya3NwYWNlLCBlLCBzaG9ydGN1dCwgc2NvcGUpO1xuICAgIGlmIChkaWRDb3B5KSB7XG4gICAgICBzaG93Q29waWVkSGludCh3b3Jrc3BhY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGlkQ29weTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHRoZSBrZXlib2FyZCBzaG9ydGN1dCBmb3IgdGhlIHBhc3RlIGFjdGlvbi5cbiAgICogSWRlbnRpY2FsIHRvIHRoZSBvbmUgaW4gY29yZSBidXQgY2xlYXJzIGFueSBwYXN0ZSB0b2FzdHMgYWZ0ZXIuXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUGFzdGVTaG9ydGN1dCgpIHtcbiAgICB0aGlzLm9sZFBhc3RlU2hvcnRjdXQgPVxuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5nZXRSZWdpc3RyeSgpW1Nob3J0Y3V0SXRlbXMubmFtZXMuUEFTVEVdO1xuICAgIGlmICghdGhpcy5vbGRQYXN0ZVNob3J0Y3V0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwYXN0ZSBrZXlib2FyZCBzaG9ydGN1dCByZWdpc3RlcmVkIGluaXRpYWxseScpO1xuXG4gICAgY29uc3QgcGFzdGVTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlBBU1RFLFxuICAgICAgcHJlY29uZGl0aW9uRm46IHRoaXMub2xkUGFzdGVTaG9ydGN1dC5wcmVjb25kaXRpb25GbixcbiAgICAgIGNhbGxiYWNrOiB0aGlzLnBhc3RlQ2FsbGJhY2suYmluZCh0aGlzKSxcbiAgICAgIGtleUNvZGVzOiB0aGlzLm9sZFBhc3RlU2hvcnRjdXQua2V5Q29kZXMsXG4gICAgICBhbGxvd0NvbGxpc2lvbjogZmFsc2UsXG4gICAgfTtcblxuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihTaG9ydGN1dEl0ZW1zLm5hbWVzLlBBU1RFKTtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHBhc3RlU2hvcnRjdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBwYXN0ZSBibG9jayBhY3Rpb24gYXMgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICogVGhlIGNvbnRleHQgbWVudSB1c2VzIGl0cyBvd24gcHJlY29uZGl0aW9uRm4gKHRoYXQgZG9lc24ndCBjaGVja1xuICAgKiBpZiBhIGdlc3R1cmUgaXMgaW4gcHJvZ3Jlc3MsIGJlY2F1c2Ugb25lIGFsd2F5cyBpcyBpbiB0aGUgY29udGV4dFxuICAgKiBtZW51KS4gSXQgY2FsbHMgdGhlIHBhc3RlIGNhbGxiYWNrIHRoYXQgaXMgc2hhcmVkIGJldHdlZW4ga2V5Ym9hcmRcbiAgICogYW5kIGNvbnRleHQgbWVudS5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJQYXN0ZUNvbnRleHRNZW51QWN0aW9uKCkge1xuICAgIGNvbnN0IHBhc3RlQWN0aW9uOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlJlZ2lzdHJ5SXRlbSA9IHtcbiAgICAgIGRpc3BsYXlUZXh0OiAoc2NvcGUpID0+XG4gICAgICAgIGdldE1lbnVJdGVtKE1zZ1snUEFTVEVfU0hPUlRDVVQnXSwgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlBBU1RFKSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAoc2NvcGUpID0+IHRoaXMucGFzdGVQcmVjb25kaXRpb24oc2NvcGUpLFxuICAgICAgY2FsbGJhY2s6IChzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSwgbWVudU9wZW5FdmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy5nZXRQYXN0ZVdvcmtzcGFjZShzY29wZSk7XG4gICAgICAgIGlmICghd29ya3NwYWNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLnBhc3RlQ2FsbGJhY2sod29ya3NwYWNlLCBtZW51T3BlbkV2ZW50LCB1bmRlZmluZWQsIHNjb3BlKTtcbiAgICAgIH0sXG4gICAgICBpZDogJ2Jsb2NrUGFzdGVGcm9tQ29udGV4dE1lbnUnLFxuICAgICAgd2VpZ2h0OiBCQVNFX1dFSUdIVCArIDIsXG4gICAgfTtcblxuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIocGFzdGVBY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgd29ya3NwYWNlIHRvIHBhc3RlIGludG8gYmFzZWQgb24gd2hpY2ggdHlwZSBvZiB0aGluZyB0aGUgbWVudSB3YXMgb3BlbmVkIG9uLlxuICAgKlxuICAgKiBAcGFyYW0gc2NvcGUgc2NvcGUgb2Ygc2hvcnRjdXQgb3IgY29udGV4dCBtZW51IGl0ZW1cbiAgICogQHJldHVybnMgV29ya3NwYWNlU3ZnIHRvIHBhc3RlIGludG8gb3IgdW5kZWZpbmVkXG4gICAqL1xuICBwcml2YXRlIGdldFBhc3RlV29ya3NwYWNlKFxuICAgIHNjb3BlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlLFxuICApOiBXb3Jrc3BhY2VTdmcgfCB1bmRlZmluZWQge1xuICAgIGxldCB3b3Jrc3BhY2U7XG4gICAgaWYgKHNjb3BlLmZvY3VzZWROb2RlIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnKSB7XG4gICAgICB3b3Jrc3BhY2UgPSBzY29wZS5mb2N1c2VkTm9kZTtcbiAgICB9IGVsc2UgaWYgKGlzU2VsZWN0YWJsZShzY29wZS5mb2N1c2VkTm9kZSkpIHtcbiAgICAgIHdvcmtzcGFjZSA9IHNjb3BlLmZvY3VzZWROb2RlLndvcmtzcGFjZTtcbiAgICB9XG5cbiAgICBpZiAoIXdvcmtzcGFjZSB8fCAhKHdvcmtzcGFjZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZykpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHdvcmtzcGFjZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVjb25kaXRpb24gZnVuY3Rpb24gZm9yIHRoZSBwYXN0ZSBjb250ZXh0IG1lbnUuIFRoaXMgd3JhcHMgdGhlIGNvcmVcbiAgICogcGFzdGUgcHJlY29uZGl0aW9uIHRvIHN1cHBvcnQgY29udGV4dCBtZW51cy5cbiAgICpcbiAgICogQHBhcmFtIHNjb3BlIHNjb3BlIG9mIHRoZSBzaG9ydGN1dCBvciBjb250ZXh0IG1lbnUgaXRlbVxuICAgKiBAcmV0dXJucyAnZW5hYmxlZCcgaWYgdGhlIG5vZGUgY2FuIGJlIHBhc3RlZCwgJ2Rpc2FibGVkJyBvdGhlcndpc2UuXG4gICAqL1xuICBwcml2YXRlIHBhc3RlUHJlY29uZGl0aW9uKHNjb3BlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlKTogc3RyaW5nIHtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSB0aGlzLmdldFBhc3RlV29ya3NwYWNlKHNjb3BlKTtcbiAgICAvLyBJZiB3ZSBjYW4ndCBpZGVudGlmeSB3aGF0IHdvcmtzcGFjZSB0byBwYXN0ZSBpbnRvLCBoaWRlLlxuICAgIGlmICghd29ya3NwYWNlKSByZXR1cm4gJ2hpZGRlbic7XG5cbiAgICAvLyBEb24ndCBwYXN0ZSBpbnRvIGZseW91dHMuXG4gICAgaWYgKHdvcmtzcGFjZS5pc0ZseW91dCkgcmV0dXJuICdoaWRkZW4nO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlKSB7XG4gICAgICAvLyBPbmx5IHBhc3RlIGludG8gdGhlIHNhbWUgd29ya3NwYWNlIHRoYXQgd2FzIGNvcGllZCBmcm9tXG4gICAgICAvLyBvciB0aGUgcGFyZW50IHdvcmtzcGFjZSBvZiBhIGZseW91dCB0aGF0IHdhcyBjb3BpZWQgZnJvbS5cbiAgICAgIGxldCBjb3BpZWRXb3Jrc3BhY2UgPSBjbGlwYm9hcmQuZ2V0TGFzdENvcGllZFdvcmtzcGFjZSgpO1xuICAgICAgaWYgKGNvcGllZFdvcmtzcGFjZT8uaXNGbHlvdXQpXG4gICAgICAgIGNvcGllZFdvcmtzcGFjZSA9IGNvcGllZFdvcmtzcGFjZS50YXJnZXRXb3Jrc3BhY2U7XG4gICAgICBpZiAoY29waWVkV29ya3NwYWNlICE9PSB3b3Jrc3BhY2UpIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMub2xkUGFzdGVTaG9ydGN1dD8ucHJlY29uZGl0aW9uRm4gJiZcbiAgICAgIHRoaXMub2xkUGFzdGVTaG9ydGN1dC5wcmVjb25kaXRpb25Gbih3b3Jrc3BhY2UsIHNjb3BlKVxuICAgICkge1xuICAgICAgcmV0dXJuICdlbmFibGVkJztcbiAgICB9XG4gICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIGZvciB0aGUgcGFzdGUgYWN0aW9uLiBVc2VzIHRoZSByZWdpc3RlcmVkIHZlcnNpb24gb2YgdGhlIHBhc3RlIGNhbGxiYWNrXG4gICAqIHRvIHBlcmZvcm0gdGhlIHBhc3RlIGxvZ2ljLCB0aGVuIGNsZWFycyBhbnkgdG9hc3RzIGFib3V0IHBhc3RpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgV29ya3NwYWNlIHdoZXJlIHNob3J0Y3V0IGhhcHBlbmVkLlxuICAgKiBAcGFyYW0gZSBtZW51IG9wZW4gZXZlbnQgb3Iga2V5Ym9hcmQgZXZlbnRcbiAgICogQHBhcmFtIHNob3J0Y3V0IGtleWJvYXJkIHNob3J0Y3V0IG9yIHVuZGVmaW5lZCBmb3IgY29udGV4dCBtZW51c1xuICAgKiBAcGFyYW0gc2NvcGUgc2NvcGUgb2YgdGhlIHNob3J0Y3V0IG9yIGNvbnRleHQgbWVudSBpdGVtXG4gICAqIEByZXR1cm5zIHRydWUgaWYgYSBwYXN0ZSBoYXBwZW5lZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBwcml2YXRlIHBhc3RlQ2FsbGJhY2soXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgZTogRXZlbnQsXG4gICAgc2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5DVVQsXG4gICAgfSxcbiAgICBzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSxcbiAgKSB7XG4gICAgY29uc3QgZGlkUGFzdGUgPVxuICAgICAgISF0aGlzLm9sZFBhc3RlU2hvcnRjdXQ/LmNhbGxiYWNrICYmXG4gICAgICB0aGlzLm9sZFBhc3RlU2hvcnRjdXQuY2FsbGJhY2sod29ya3NwYWNlLCBlLCBzaG9ydGN1dCwgc2NvcGUpO1xuXG4gICAgLy8gQ2xlYXIgdGhlIHBhc3RlIGhpbnRzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBzb21ldGhpbmcgd2FzIHBhc3RlZFxuICAgIC8vIFNvbWUgaW1wbGVtZW50YXRpb25zIG9mIHBhc3RlIGFyZSBhc3luYyBhbmQgd2Ugc2hvdWxkIGNsZWFyIHRoZSBoaW50XG4gICAgLy8gb25jZSB0aGUgdXNlciBpbml0aWF0ZXMgdGhlIHBhc3RlIGFjdGlvbi5cbiAgICBjbGVhclBhc3RlSGludHMod29ya3NwYWNlKTtcbiAgICByZXR1cm4gZGlkUGFzdGU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/clipboard.ts\n");

/***/ }),

/***/ "./src/actions/delete.ts":
/*!*******************************!*\
  !*** ./src/actions/delete.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteAction: () => (/* binding */ DeleteAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n/**\n * Action to delete the block the cursor is currently on.\n */\nclass DeleteAction {\n    constructor() {\n        /**\n         * Saved context menu item display text function, which is restored\n         * when this action is uninstalled.\n         */\n        this.oldDisplayText = undefined;\n        /**\n         * Saved context menu item, which has its display text restored when\n         * this action is uninstalled.\n         */\n        this.oldContextMenuItem = null;\n    }\n    /**\n     * Install this action as both a keyboard shortcut and a context menu item.\n     */\n    install() {\n        this.registerContextMenuAction();\n    }\n    /**\n     * Reinstall the original context menu display text if possible.\n     */\n    uninstall() {\n        if (this.oldContextMenuItem && this.oldDisplayText) {\n            this.oldContextMenuItem.displayText = this.oldDisplayText;\n        }\n    }\n    /**\n     * Updates the text of the context menu delete action to include\n     * the keyboard shortcut.\n     */\n    registerContextMenuAction() {\n        this.oldContextMenuItem =\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.getItem('blockDelete');\n        if (!this.oldContextMenuItem)\n            return;\n        this.oldDisplayText = this.oldContextMenuItem.displayText;\n        const displayText = (scope) => {\n            let label;\n            // Use the original item's text, which is dynamic based on the number\n            // of blocks that will be deleted.\n            if (typeof this.oldDisplayText === 'function') {\n                const result = this.oldDisplayText(scope);\n                if (result instanceof HTMLElement) {\n                    label = result.innerText;\n                }\n                else {\n                    label = result;\n                }\n            }\n            else if (typeof this.oldDisplayText === 'string') {\n                label = this.oldDisplayText;\n            }\n            else {\n                label = blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['DELETE_BLOCK'];\n            }\n            return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__.getMenuItem)(label, blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutItems.names.DELETE);\n        };\n        this.oldContextMenuItem.displayText = displayText;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy9kZWxldGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7R0FJRztBQUU2RDtBQUNiO0FBRW5EOztHQUVHO0FBQ0ksTUFBTSxZQUFZO0lBaUJ2QjtRQWhCQTs7O1dBR0c7UUFDSyxtQkFBYyxHQUlOLFNBQVMsQ0FBQztRQUUxQjs7O1dBR0c7UUFDSyx1QkFBa0IsR0FBNEMsSUFBSSxDQUFDO0lBRTVELENBQUM7SUFFaEI7O09BRUc7SUFDSCxPQUFPO1FBQ0wsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUztRQUNQLElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNuRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDNUQsQ0FBQztJQUNILENBQUM7SUFFRDs7O09BR0c7SUFDSyx5QkFBeUI7UUFDL0IsSUFBSSxDQUFDLGtCQUFrQjtZQUNyQix3REFBbUIsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRXRELElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCO1lBQUUsT0FBTztRQUVyQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxXQUFXLENBQUM7UUFFMUQsTUFBTSxXQUFXLEdBQUcsQ0FBQyxLQUFnQyxFQUFFLEVBQUU7WUFDdkQsSUFBSSxLQUFhLENBQUM7WUFDbEIscUVBQXFFO1lBQ3JFLGtDQUFrQztZQUNsQyxJQUFJLE9BQU8sSUFBSSxDQUFDLGNBQWMsS0FBSyxVQUFVLEVBQUUsQ0FBQztnQkFDOUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDMUMsSUFBSSxNQUFNLFlBQVksV0FBVyxFQUFFLENBQUM7b0JBQ2xDLEtBQUssR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2dCQUMzQixDQUFDO3FCQUFNLENBQUM7b0JBQ04sS0FBSyxHQUFHLE1BQU0sQ0FBQztnQkFDakIsQ0FBQztZQUNILENBQUM7aUJBQU0sSUFBSSxPQUFPLElBQUksQ0FBQyxjQUFjLEtBQUssUUFBUSxFQUFFLENBQUM7Z0JBQ25ELEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQzlCLENBQUM7aUJBQU0sQ0FBQztnQkFDTixLQUFLLEdBQUcsd0NBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM5QixDQUFDO1lBRUQsT0FBTyxpRUFBVyxDQUFDLEtBQUssRUFBRSxrREFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUNwRCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvZGVsZXRlLnRzP2YzYTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0NvbnRleHRNZW51UmVnaXN0cnksIE1zZywgU2hvcnRjdXRJdGVtc30gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge2dldE1lbnVJdGVtfSBmcm9tICcuLi9zaG9ydGN1dF9mb3JtYXR0aW5nJztcblxuLyoqXG4gKiBBY3Rpb24gdG8gZGVsZXRlIHRoZSBibG9jayB0aGUgY3Vyc29yIGlzIGN1cnJlbnRseSBvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIERlbGV0ZUFjdGlvbiB7XG4gIC8qKlxuICAgKiBTYXZlZCBjb250ZXh0IG1lbnUgaXRlbSBkaXNwbGF5IHRleHQgZnVuY3Rpb24sIHdoaWNoIGlzIHJlc3RvcmVkXG4gICAqIHdoZW4gdGhpcyBhY3Rpb24gaXMgdW5pbnN0YWxsZWQuXG4gICAqL1xuICBwcml2YXRlIG9sZERpc3BsYXlUZXh0OlxuICAgIHwgKChzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSkgPT4gc3RyaW5nIHwgSFRNTEVsZW1lbnQpXG4gICAgfCBzdHJpbmdcbiAgICB8IEhUTUxFbGVtZW50XG4gICAgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFNhdmVkIGNvbnRleHQgbWVudSBpdGVtLCB3aGljaCBoYXMgaXRzIGRpc3BsYXkgdGV4dCByZXN0b3JlZCB3aGVuXG4gICAqIHRoaXMgYWN0aW9uIGlzIHVuaW5zdGFsbGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBvbGRDb250ZXh0TWVudUl0ZW06IENvbnRleHRNZW51UmVnaXN0cnkuUmVnaXN0cnlJdGVtIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoaXMgYWN0aW9uIGFzIGJvdGggYSBrZXlib2FyZCBzaG9ydGN1dCBhbmQgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5yZWdpc3RlckNvbnRleHRNZW51QWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVpbnN0YWxsIHRoZSBvcmlnaW5hbCBjb250ZXh0IG1lbnUgZGlzcGxheSB0ZXh0IGlmIHBvc3NpYmxlLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIGlmICh0aGlzLm9sZENvbnRleHRNZW51SXRlbSAmJiB0aGlzLm9sZERpc3BsYXlUZXh0KSB7XG4gICAgICB0aGlzLm9sZENvbnRleHRNZW51SXRlbS5kaXNwbGF5VGV4dCA9IHRoaXMub2xkRGlzcGxheVRleHQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHRleHQgb2YgdGhlIGNvbnRleHQgbWVudSBkZWxldGUgYWN0aW9uIHRvIGluY2x1ZGVcbiAgICogdGhlIGtleWJvYXJkIHNob3J0Y3V0LlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlckNvbnRleHRNZW51QWN0aW9uKCkge1xuICAgIHRoaXMub2xkQ29udGV4dE1lbnVJdGVtID1cbiAgICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkuZ2V0SXRlbSgnYmxvY2tEZWxldGUnKTtcblxuICAgIGlmICghdGhpcy5vbGRDb250ZXh0TWVudUl0ZW0pIHJldHVybjtcblxuICAgIHRoaXMub2xkRGlzcGxheVRleHQgPSB0aGlzLm9sZENvbnRleHRNZW51SXRlbS5kaXNwbGF5VGV4dDtcblxuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gKHNjb3BlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlKSA9PiB7XG4gICAgICBsZXQgbGFiZWw6IHN0cmluZztcbiAgICAgIC8vIFVzZSB0aGUgb3JpZ2luYWwgaXRlbSdzIHRleHQsIHdoaWNoIGlzIGR5bmFtaWMgYmFzZWQgb24gdGhlIG51bWJlclxuICAgICAgLy8gb2YgYmxvY2tzIHRoYXQgd2lsbCBiZSBkZWxldGVkLlxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9sZERpc3BsYXlUZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMub2xkRGlzcGxheVRleHQoc2NvcGUpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICBsYWJlbCA9IHJlc3VsdC5pbm5lclRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFiZWwgPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub2xkRGlzcGxheVRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGxhYmVsID0gdGhpcy5vbGREaXNwbGF5VGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhYmVsID0gTXNnWydERUxFVEVfQkxPQ0snXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE1lbnVJdGVtKGxhYmVsLCBTaG9ydGN1dEl0ZW1zLm5hbWVzLkRFTEVURSk7XG4gICAgfTtcblxuICAgIHRoaXMub2xkQ29udGV4dE1lbnVJdGVtLmRpc3BsYXlUZXh0ID0gZGlzcGxheVRleHQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/delete.ts\n");

/***/ }),

/***/ "./src/actions/disconnect.ts":
/*!***********************************!*\
  !*** ./src/actions/disconnect.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DisconnectAction: () => (/* binding */ DisconnectAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Action to insert a block into the workspace.\n *\n * This action registers itself as both a keyboard shortcut and a context menu\n * item.\n */\nclass DisconnectAction {\n    constructor(navigation) {\n        this.navigation = navigation;\n        /**\n         * Registration name for the keyboard shortcut.\n         */\n        this.shortcutName = _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DISCONNECT;\n    }\n    /**\n     * Install this action as both a keyboard shortcut and a context menu item.\n     */\n    install() {\n        this.registerShortcut();\n    }\n    /**\n     * Uninstall this action as both a keyboard shortcut and a context menu item.\n     * Reinstall the original context menu action if possible.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(this.shortcutName);\n    }\n    /**\n     * Create and register the keyboard shortcut for this action.\n     */\n    registerShortcut() {\n        const disconnectShortcut = {\n            name: this.shortcutName,\n            preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n            callback: (workspace) => {\n                blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                        this.disconnectBlocks(workspace);\n                        return true;\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [KeyCodes.X],\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(disconnectShortcut);\n    }\n    /**\n     * Disconnects the connection that the cursor is pointing to, and bump blocks.\n     * This is a no-op if the connection cannot be broken or if the cursor is not\n     * pointing to a connection.\n     *\n     * @param workspace The workspace.\n     */\n    disconnectBlocks(workspace) {\n        var _a;\n        const cursor = workspace.getCursor();\n        const curNode = cursor.getCurNode();\n        if (!(curNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n            return;\n        const healStack = !((_a = curNode.outputConnection) === null || _a === void 0 ? void 0 : _a.isConnected());\n        blockly__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        curNode.unplug(healStack);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(false);\n        // Needed or we end up with passive focus.\n        cursor.setCurNode(curNode);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy9kaXNjb25uZWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0dBSUc7QUFRYztBQUN5QjtBQUkxQyxNQUFNLFFBQVEsR0FBRywwQ0FBWSxDQUFDLFFBQVEsQ0FBQztBQUV2Qzs7Ozs7R0FLRztBQUNJLE1BQU0sZ0JBQWdCO0lBTTNCLFlBQW9CLFVBQXNCO1FBQXRCLGVBQVUsR0FBVixVQUFVLENBQVk7UUFMMUM7O1dBRUc7UUFDSyxpQkFBWSxHQUFHLHNEQUF3QixDQUFDLFVBQVUsQ0FBQztJQUVkLENBQUM7SUFFOUM7O09BRUc7SUFDSCxPQUFPO1FBQ0wsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVEOzs7T0FHRztJQUNILFNBQVM7UUFDUCxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxnQkFBZ0I7UUFDdEIsTUFBTSxrQkFBa0IsR0FBc0M7WUFDNUQsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZO1lBQ3ZCLGNBQWMsRUFBRSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQzVCLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDO1lBQzdDLFFBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxFQUFFO2dCQUN0QixpRUFBNEIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQy9DLFFBQVEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO29CQUNuQyxLQUFLLDZDQUFlLENBQUMsU0FBUzt3QkFDNUIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUNqQyxPQUFPLElBQUksQ0FBQztvQkFDZDt3QkFDRSxPQUFPLEtBQUssQ0FBQztnQkFDakIsQ0FBQztZQUNILENBQUM7WUFDRCxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1NBQ3ZCLENBQUM7UUFDRixxREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDekQsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNILGdCQUFnQixDQUFDLFNBQXVCOztRQUN0QyxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckMsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxDQUFDLE9BQU8sWUFBWSw2Q0FBUSxDQUFDO1lBQUUsT0FBTztRQUUzQyxNQUFNLFNBQVMsR0FBRyxDQUFDLGNBQU8sQ0FBQyxnQkFBZ0IsMENBQUUsV0FBVyxFQUFFLEVBQUM7UUFDM0QsMkNBQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMxQiwyQ0FBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV2QiwwQ0FBMEM7UUFDMUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvZGlzY29ubmVjdC50cz81MmQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgQmxvY2tTdmcsXG4gIEV2ZW50cyxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgdXRpbHMgYXMgQmxvY2tseVV0aWxzLFxuICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLFxufSBmcm9tICdibG9ja2x5JztcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUge1dvcmtzcGFjZVN2Z30gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuXG5jb25zdCBLZXlDb2RlcyA9IEJsb2NrbHlVdGlscy5LZXlDb2RlcztcblxuLyoqXG4gKiBBY3Rpb24gdG8gaW5zZXJ0IGEgYmxvY2sgaW50byB0aGUgd29ya3NwYWNlLlxuICpcbiAqIFRoaXMgYWN0aW9uIHJlZ2lzdGVycyBpdHNlbGYgYXMgYm90aCBhIGtleWJvYXJkIHNob3J0Y3V0IGFuZCBhIGNvbnRleHQgbWVudVxuICogaXRlbS5cbiAqL1xuZXhwb3J0IGNsYXNzIERpc2Nvbm5lY3RBY3Rpb24ge1xuICAvKipcbiAgICogUmVnaXN0cmF0aW9uIG5hbWUgZm9yIHRoZSBrZXlib2FyZCBzaG9ydGN1dC5cbiAgICovXG4gIHByaXZhdGUgc2hvcnRjdXROYW1lID0gQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRJU0NPTk5FQ1Q7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uKSB7fVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoaXMgYWN0aW9uIGFzIGJvdGggYSBrZXlib2FyZCBzaG9ydGN1dCBhbmQgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5yZWdpc3RlclNob3J0Y3V0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW5pbnN0YWxsIHRoaXMgYWN0aW9uIGFzIGJvdGggYSBrZXlib2FyZCBzaG9ydGN1dCBhbmQgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICogUmVpbnN0YWxsIHRoZSBvcmlnaW5hbCBjb250ZXh0IG1lbnUgYWN0aW9uIGlmIHBvc3NpYmxlLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3Rlcih0aGlzLnNob3J0Y3V0TmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZWdpc3RlciB0aGUga2V5Ym9hcmQgc2hvcnRjdXQgZm9yIHRoaXMgYWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlclNob3J0Y3V0KCkge1xuICAgIGNvbnN0IGRpc2Nvbm5lY3RTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogdGhpcy5zaG9ydGN1dE5hbWUsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SXNBY3RpdmUodHJ1ZSk7XG4gICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RCbG9ja3Mod29ya3NwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLlhdLFxuICAgIH07XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihkaXNjb25uZWN0U2hvcnRjdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3RzIHRoZSBjb25uZWN0aW9uIHRoYXQgdGhlIGN1cnNvciBpcyBwb2ludGluZyB0bywgYW5kIGJ1bXAgYmxvY2tzLlxuICAgKiBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIGNvbm5lY3Rpb24gY2Fubm90IGJlIGJyb2tlbiBvciBpZiB0aGUgY3Vyc29yIGlzIG5vdFxuICAgKiBwb2ludGluZyB0byBhIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIGRpc2Nvbm5lY3RCbG9ja3Mod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICBjb25zdCBjdXJzb3IgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCk7XG4gICAgY29uc3QgY3VyTm9kZSA9IGN1cnNvci5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCEoY3VyTm9kZSBpbnN0YW5jZW9mIEJsb2NrU3ZnKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGVhbFN0YWNrID0gIWN1ck5vZGUub3V0cHV0Q29ubmVjdGlvbj8uaXNDb25uZWN0ZWQoKTtcbiAgICBFdmVudHMuc2V0R3JvdXAodHJ1ZSk7XG4gICAgY3VyTm9kZS51bnBsdWcoaGVhbFN0YWNrKTtcbiAgICBFdmVudHMuc2V0R3JvdXAoZmFsc2UpO1xuXG4gICAgLy8gTmVlZGVkIG9yIHdlIGVuZCB1cCB3aXRoIHBhc3NpdmUgZm9jdXMuXG4gICAgY3Vyc29yLnNldEN1ck5vZGUoY3VyTm9kZSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/disconnect.ts\n");

/***/ }),

/***/ "./src/actions/duplicate.ts":
/*!**********************************!*\
  !*** ./src/actions/duplicate.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DuplicateAction: () => (/* binding */ DuplicateAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n/**\n * Duplicate action that adds a keyboard shortcut for duplicate and overrides\n * the context menu item to show it if the context menu item is registered.\n */\nclass DuplicateAction {\n    constructor() {\n        this.duplicateShortcut = null;\n        this.uninstallHandlers = [];\n    }\n    /**\n     * Install the shortcuts and override context menu entries.\n     *\n     * No change is made if there's already a 'duplicate' shortcut.\n     */\n    install() {\n        this.duplicateShortcut = this.registerDuplicateShortcut();\n        if (this.duplicateShortcut) {\n            this.uninstallHandlers.push(overrideContextMenuItemForShortcutText('blockDuplicate', _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE));\n            this.uninstallHandlers.push(overrideContextMenuItemForShortcutText('commentDuplicate', _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE));\n        }\n    }\n    /**\n     * Unregister the shortcut and reinstate the original context menu entries.\n     */\n    uninstall() {\n        this.uninstallHandlers.forEach((handler) => handler());\n        this.uninstallHandlers.length = 0;\n        if (this.duplicateShortcut) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(this.duplicateShortcut.name);\n        }\n    }\n    /**\n     * Create and register the keyboard shortcut for the duplicate action.\n     * Same behaviour as for the core context menu.\n     * Skipped if there is a shortcut with a matching name already.\n     */\n    registerDuplicateShortcut() {\n        if (blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE]) {\n            return null;\n        }\n        const shortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DUPLICATE,\n            // Equivalent to the core context menu entry.\n            preconditionFn(workspace, scope) {\n                const { focusedNode } = scope;\n                if (focusedNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    return (!focusedNode.isInFlyout &&\n                        focusedNode.isDeletable() &&\n                        focusedNode.isMovable() &&\n                        focusedNode.isDuplicatable());\n                }\n                else if (focusedNode instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n                    return focusedNode.isMovable();\n                }\n                return false;\n            },\n            callback(workspace, e, shortcut, scope) {\n                const copyable = scope.focusedNode;\n                const data = copyable.toCopyData();\n                if (!data)\n                    return false;\n                return !!blockly__WEBPACK_IMPORTED_MODULE_0__.clipboard.paste(data, workspace);\n            },\n            keyCodes: [blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.D],\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        return shortcut;\n    }\n}\n/**\n * Replace a context menu item to add shortcut text to its displayText.\n *\n * Nothing happens if there is not a matching context menu item registered.\n *\n * @param registryId Context menu registry id to replace if present.\n * @param shortcutName The corresponding shortcut name.\n * @returns A function to reinstate the original context menu entry.\n */\nfunction overrideContextMenuItemForShortcutText(registryId, shortcutName) {\n    const original = blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.getItem(registryId);\n    if (!original || 'separator' in original) {\n        return () => { };\n    }\n    const override = Object.assign(Object.assign({}, original), { displayText: (scope) => {\n            const displayText = typeof original.displayText === 'function'\n                ? original.displayText(scope)\n                : original.displayText;\n            if (displayText instanceof HTMLElement) {\n                // We can't cope in this scenario.\n                return displayText;\n            }\n            return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getMenuItem)(displayText, shortcutName);\n        } });\n    blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister(registryId);\n    blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(override);\n    return () => {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister(registryId);\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(original);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y3Rpb25zL2R1cGxpY2F0ZS50cz9iNzNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgQmxvY2tTdmcsXG4gIGNsaXBib2FyZCxcbiAgQ29udGV4dE1lbnVSZWdpc3RyeSxcbiAgSUNvcHlhYmxlLFxuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICB1dGlscyxcbiAgY29tbWVudHMsXG4gIElDb3B5RGF0YSxcbn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0TWVudUl0ZW19IGZyb20gJy4uL3Nob3J0Y3V0X2Zvcm1hdHRpbmcnO1xuXG4vKipcbiAqIER1cGxpY2F0ZSBhY3Rpb24gdGhhdCBhZGRzIGEga2V5Ym9hcmQgc2hvcnRjdXQgZm9yIGR1cGxpY2F0ZSBhbmQgb3ZlcnJpZGVzXG4gKiB0aGUgY29udGV4dCBtZW51IGl0ZW0gdG8gc2hvdyBpdCBpZiB0aGUgY29udGV4dCBtZW51IGl0ZW0gaXMgcmVnaXN0ZXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIER1cGxpY2F0ZUFjdGlvbiB7XG4gIHByaXZhdGUgZHVwbGljYXRlU2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHVuaW5zdGFsbEhhbmRsZXJzOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoZSBzaG9ydGN1dHMgYW5kIG92ZXJyaWRlIGNvbnRleHQgbWVudSBlbnRyaWVzLlxuICAgKlxuICAgKiBObyBjaGFuZ2UgaXMgbWFkZSBpZiB0aGVyZSdzIGFscmVhZHkgYSAnZHVwbGljYXRlJyBzaG9ydGN1dC5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5kdXBsaWNhdGVTaG9ydGN1dCA9IHRoaXMucmVnaXN0ZXJEdXBsaWNhdGVTaG9ydGN1dCgpO1xuICAgIGlmICh0aGlzLmR1cGxpY2F0ZVNob3J0Y3V0KSB7XG4gICAgICB0aGlzLnVuaW5zdGFsbEhhbmRsZXJzLnB1c2goXG4gICAgICAgIG92ZXJyaWRlQ29udGV4dE1lbnVJdGVtRm9yU2hvcnRjdXRUZXh0KFxuICAgICAgICAgICdibG9ja0R1cGxpY2F0ZScsXG4gICAgICAgICAgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRVUExJQ0FURSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgICB0aGlzLnVuaW5zdGFsbEhhbmRsZXJzLnB1c2goXG4gICAgICAgIG92ZXJyaWRlQ29udGV4dE1lbnVJdGVtRm9yU2hvcnRjdXRUZXh0KFxuICAgICAgICAgICdjb21tZW50RHVwbGljYXRlJyxcbiAgICAgICAgICBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRFVQTElDQVRFLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlciB0aGUgc2hvcnRjdXQgYW5kIHJlaW5zdGF0ZSB0aGUgb3JpZ2luYWwgY29udGV4dCBtZW51IGVudHJpZXMuXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgdGhpcy51bmluc3RhbGxIYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyKCkpO1xuICAgIHRoaXMudW5pbnN0YWxsSGFuZGxlcnMubGVuZ3RoID0gMDtcbiAgICBpZiAodGhpcy5kdXBsaWNhdGVTaG9ydGN1dCkge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKHRoaXMuZHVwbGljYXRlU2hvcnRjdXQubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgdGhlIGtleWJvYXJkIHNob3J0Y3V0IGZvciB0aGUgZHVwbGljYXRlIGFjdGlvbi5cbiAgICogU2FtZSBiZWhhdmlvdXIgYXMgZm9yIHRoZSBjb3JlIGNvbnRleHQgbWVudS5cbiAgICogU2tpcHBlZCBpZiB0aGVyZSBpcyBhIHNob3J0Y3V0IHdpdGggYSBtYXRjaGluZyBuYW1lIGFscmVhZHkuXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyRHVwbGljYXRlU2hvcnRjdXQoKTogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0IHwgbnVsbCB7XG4gICAgaWYgKFxuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5nZXRSZWdpc3RyeSgpW1xuICAgICAgICBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRFVQTElDQVRFXG4gICAgICBdXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBzaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkRVUExJQ0FURSxcbiAgICAgIC8vIEVxdWl2YWxlbnQgdG8gdGhlIGNvcmUgY29udGV4dCBtZW51IGVudHJ5LlxuICAgICAgcHJlY29uZGl0aW9uRm4od29ya3NwYWNlLCBzY29wZSkge1xuICAgICAgICBjb25zdCB7Zm9jdXNlZE5vZGV9ID0gc2NvcGU7XG4gICAgICAgIGlmIChmb2N1c2VkTm9kZSBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICFmb2N1c2VkTm9kZS5pc0luRmx5b3V0ICYmXG4gICAgICAgICAgICBmb2N1c2VkTm9kZS5pc0RlbGV0YWJsZSgpICYmXG4gICAgICAgICAgICBmb2N1c2VkTm9kZS5pc01vdmFibGUoKSAmJlxuICAgICAgICAgICAgZm9jdXNlZE5vZGUuaXNEdXBsaWNhdGFibGUoKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNlZE5vZGUgaW5zdGFuY2VvZiBjb21tZW50cy5SZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gZm9jdXNlZE5vZGUuaXNNb3ZhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrKHdvcmtzcGFjZSwgZSwgc2hvcnRjdXQsIHNjb3BlKSB7XG4gICAgICAgIGNvbnN0IGNvcHlhYmxlID0gc2NvcGUuZm9jdXNlZE5vZGUgYXMgSUNvcHlhYmxlPElDb3B5RGF0YT47XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjb3B5YWJsZS50b0NvcHlEYXRhKCk7XG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gISFjbGlwYm9hcmQucGFzdGUoZGF0YSwgd29ya3NwYWNlKTtcbiAgICAgIH0sXG4gICAgICBrZXlDb2RlczogW3V0aWxzLktleUNvZGVzLkRdLFxuICAgIH07XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihzaG9ydGN1dCk7XG4gICAgcmV0dXJuIHNob3J0Y3V0O1xuICB9XG59XG5cbi8qKlxuICogUmVwbGFjZSBhIGNvbnRleHQgbWVudSBpdGVtIHRvIGFkZCBzaG9ydGN1dCB0ZXh0IHRvIGl0cyBkaXNwbGF5VGV4dC5cbiAqXG4gKiBOb3RoaW5nIGhhcHBlbnMgaWYgdGhlcmUgaXMgbm90IGEgbWF0Y2hpbmcgY29udGV4dCBtZW51IGl0ZW0gcmVnaXN0ZXJlZC5cbiAqXG4gKiBAcGFyYW0gcmVnaXN0cnlJZCBDb250ZXh0IG1lbnUgcmVnaXN0cnkgaWQgdG8gcmVwbGFjZSBpZiBwcmVzZW50LlxuICogQHBhcmFtIHNob3J0Y3V0TmFtZSBUaGUgY29ycmVzcG9uZGluZyBzaG9ydGN1dCBuYW1lLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB0byByZWluc3RhdGUgdGhlIG9yaWdpbmFsIGNvbnRleHQgbWVudSBlbnRyeS5cbiAqL1xuZnVuY3Rpb24gb3ZlcnJpZGVDb250ZXh0TWVudUl0ZW1Gb3JTaG9ydGN1dFRleHQoXG4gIHJlZ2lzdHJ5SWQ6IHN0cmluZyxcbiAgc2hvcnRjdXROYW1lOiBzdHJpbmcsXG4pOiAoKSA9PiB2b2lkIHtcbiAgY29uc3Qgb3JpZ2luYWwgPSBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LmdldEl0ZW0ocmVnaXN0cnlJZCk7XG4gIGlmICghb3JpZ2luYWwgfHwgJ3NlcGFyYXRvcicgaW4gb3JpZ2luYWwpIHtcbiAgICByZXR1cm4gKCkgPT4ge307XG4gIH1cblxuICBjb25zdCBvdmVycmlkZTogQ29udGV4dE1lbnVSZWdpc3RyeS5SZWdpc3RyeUl0ZW0gPSB7XG4gICAgLi4ub3JpZ2luYWwsXG4gICAgZGlzcGxheVRleHQ6IChzY29wZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZSkgPT4ge1xuICAgICAgY29uc3QgZGlzcGxheVRleHQgPVxuICAgICAgICB0eXBlb2Ygb3JpZ2luYWwuZGlzcGxheVRleHQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IG9yaWdpbmFsLmRpc3BsYXlUZXh0KHNjb3BlKVxuICAgICAgICAgIDogb3JpZ2luYWwuZGlzcGxheVRleHQ7XG4gICAgICBpZiAoZGlzcGxheVRleHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAvLyBXZSBjYW4ndCBjb3BlIGluIHRoaXMgc2NlbmFyaW8uXG4gICAgICAgIHJldHVybiBkaXNwbGF5VGV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRNZW51SXRlbShkaXNwbGF5VGV4dCwgc2hvcnRjdXROYW1lKTtcbiAgICB9LFxuICB9O1xuICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIocmVnaXN0cnlJZCk7XG4gIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIob3ZlcnJpZGUpO1xuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKHJlZ2lzdHJ5SWQpO1xuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIob3JpZ2luYWwpO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/actions/duplicate.ts\n");

/***/ }),

/***/ "./src/actions/edit.ts":
/*!*****************************!*\
  !*** ./src/actions/edit.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditAction: () => (/* binding */ EditAction)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n/**\n * Action to edit a block.  This just moves the cursor to the first\n * field or input (if there is one), and exists as an aid to\n * navigational discoverability:\n *\n * Any time there is a cursor position that can be accessed by\n * pressing the right-arrow key, which isn't accessible by pressing\n * the down-arrow key (these positions are typically fields and value\n * inputs), a context menu item \"Edit Block contents ()\" will be\n * shown in the block context menu.\n *\n * N.B.: This item is shown any time the cursor is on a block and not\n * in the rightmost position 'on the current line'; that means that\n * sometimes the label (\"Edit block contents\") is possibly misleading,\n * because it might not be the contents of the _current_ block that's\n * being edited, but rather that of a sibling or parent block.\n *\n * This action registers itself only as a context menu item, as there\n * is already a corresponding \"right\" shortcut item.\n */\nclass EditAction {\n    constructor(navigation) {\n        this.navigation = navigation;\n    }\n    /**\n     * Install this action as a context menu item.\n     */\n    install() {\n        this.registerContextMenuAction();\n    }\n    /**\n     * Uninstall this action as both a keyboard shortcut and a context menu item.\n     * Reinstall the original context menu action if possible.\n     */\n    uninstall() {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister('edit');\n    }\n    /**\n     * Register the edit block action as a context menu item on blocks.\n     */\n    registerContextMenuAction() {\n        const editAboveItem = {\n            displayText: (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_1__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['EDIT_BLOCK_CONTENTS'], _constants__WEBPACK_IMPORTED_MODULE_2__.SHORTCUT_NAMES.RIGHT),\n            preconditionFn: (scope, menuOpenEvent) => {\n                var _a;\n                if (menuOpenEvent instanceof PointerEvent)\n                    return 'hidden';\n                const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                if (!workspace || !this.navigation.canCurrentlyNavigate(workspace)) {\n                    return 'disabled';\n                }\n                const cursor = workspace.getCursor();\n                if (!cursor)\n                    return 'disabled';\n                return cursor.atEndOfLine() ? 'hidden' : 'enabled';\n            },\n            callback: (scope) => {\n                var _a, _b;\n                blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                if (!workspace)\n                    return false;\n                (_b = workspace.getCursor()) === null || _b === void 0 ? void 0 : _b.in();\n                return true;\n            },\n            scopeType: blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.ScopeType.BLOCK,\n            id: 'edit',\n            weight: 10,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(editAboveItem);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy9lZGl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztHQUlHO0FBRTRFO0FBRTVCO0FBQ1Q7QUFFMUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQkc7QUFDSSxNQUFNLFVBQVU7SUFDckIsWUFBb0IsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtJQUFHLENBQUM7SUFFOUM7O09BRUc7SUFDSCxPQUFPO1FBQ0wsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVEOzs7T0FHRztJQUNILFNBQVM7UUFDUCx3REFBbUIsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFFRDs7T0FFRztJQUNLLHlCQUF5QjtRQUMvQixNQUFNLGFBQWEsR0FBcUM7WUFDdEQsV0FBVyxFQUFFLGlFQUFXLENBQ3RCLHdDQUFHLENBQUMscUJBQXFCLENBQUMsRUFDMUIsc0RBQXdCLENBQUMsS0FBSyxDQUMvQjtZQUNELGNBQWMsRUFBRSxDQUFDLEtBQWdDLEVBQUUsYUFBYSxFQUFFLEVBQUU7O2dCQUNsRSxJQUFJLGFBQWEsWUFBWSxZQUFZO29CQUFFLE9BQU8sUUFBUSxDQUFDO2dCQUMzRCxNQUFNLFNBQVMsR0FBRyxXQUFLLENBQUMsS0FBSywwQ0FBRSxTQUFTLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7b0JBQ25FLE9BQU8sVUFBVSxDQUFDO2dCQUNwQixDQUFDO2dCQUNELE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDckMsSUFBSSxDQUFDLE1BQU07b0JBQUUsT0FBTyxVQUFVLENBQUM7Z0JBQy9CLE9BQU8sTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztZQUNyRCxDQUFDO1lBQ0QsUUFBUSxFQUFFLENBQUMsS0FBZ0MsRUFBRSxFQUFFOztnQkFDN0MsaUVBQTRCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvQyxNQUFNLFNBQVMsR0FBRyxXQUFLLENBQUMsS0FBSywwQ0FBRSxTQUFTLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxTQUFTO29CQUFFLE9BQU8sS0FBSyxDQUFDO2dCQUM3QixlQUFTLENBQUMsU0FBUyxFQUFFLDBDQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUM1QixPQUFPLElBQUksQ0FBQztZQUNkLENBQUM7WUFDRCxTQUFTLEVBQUUsd0RBQW1CLENBQUMsU0FBUyxDQUFDLEtBQUs7WUFDOUMsRUFBRSxFQUFFLE1BQU07WUFDVixNQUFNLEVBQUUsRUFBRTtTQUNYLENBQUM7UUFFRix3REFBbUIsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvYWN0aW9ucy9lZGl0LnRzPzY3MDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0NvbnRleHRNZW51UmVnaXN0cnksIE1zZywga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge05hdmlnYXRpb259IGZyb20gJy4uL25hdmlnYXRpb24nO1xuaW1wb3J0IHtnZXRNZW51SXRlbX0gZnJvbSAnLi4vc2hvcnRjdXRfZm9ybWF0dGluZyc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuLyoqXG4gKiBBY3Rpb24gdG8gZWRpdCBhIGJsb2NrLiAgVGhpcyBqdXN0IG1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGZpcnN0XG4gKiBmaWVsZCBvciBpbnB1dCAoaWYgdGhlcmUgaXMgb25lKSwgYW5kIGV4aXN0cyBhcyBhbiBhaWQgdG9cbiAqIG5hdmlnYXRpb25hbCBkaXNjb3ZlcmFiaWxpdHk6XG4gKlxuICogQW55IHRpbWUgdGhlcmUgaXMgYSBjdXJzb3IgcG9zaXRpb24gdGhhdCBjYW4gYmUgYWNjZXNzZWQgYnlcbiAqIHByZXNzaW5nIHRoZSByaWdodC1hcnJvdyBrZXksIHdoaWNoIGlzbid0IGFjY2Vzc2libGUgYnkgcHJlc3NpbmdcbiAqIHRoZSBkb3duLWFycm93IGtleSAodGhlc2UgcG9zaXRpb25zIGFyZSB0eXBpY2FsbHkgZmllbGRzIGFuZCB2YWx1ZVxuICogaW5wdXRzKSwgYSBjb250ZXh0IG1lbnUgaXRlbSBcIkVkaXQgQmxvY2sgY29udGVudHMgKOKGku+4jilcIiB3aWxsIGJlXG4gKiBzaG93biBpbiB0aGUgYmxvY2sgY29udGV4dCBtZW51LlxuICpcbiAqIE4uQi46IFRoaXMgaXRlbSBpcyBzaG93biBhbnkgdGltZSB0aGUgY3Vyc29yIGlzIG9uIGEgYmxvY2sgYW5kIG5vdFxuICogaW4gdGhlIHJpZ2h0bW9zdCBwb3NpdGlvbiAnb24gdGhlIGN1cnJlbnQgbGluZSc7IHRoYXQgbWVhbnMgdGhhdFxuICogc29tZXRpbWVzIHRoZSBsYWJlbCAoXCJFZGl0IGJsb2NrIGNvbnRlbnRzXCIpIGlzIHBvc3NpYmx5IG1pc2xlYWRpbmcsXG4gKiBiZWNhdXNlIGl0IG1pZ2h0IG5vdCBiZSB0aGUgY29udGVudHMgb2YgdGhlIF9jdXJyZW50XyBibG9jayB0aGF0J3NcbiAqIGJlaW5nIGVkaXRlZCwgYnV0IHJhdGhlciB0aGF0IG9mIGEgc2libGluZyBvciBwYXJlbnQgYmxvY2suXG4gKlxuICogVGhpcyBhY3Rpb24gcmVnaXN0ZXJzIGl0c2VsZiBvbmx5IGFzIGEgY29udGV4dCBtZW51IGl0ZW0sIGFzIHRoZXJlXG4gKiBpcyBhbHJlYWR5IGEgY29ycmVzcG9uZGluZyBcInJpZ2h0XCIgc2hvcnRjdXQgaXRlbS5cbiAqL1xuZXhwb3J0IGNsYXNzIEVkaXRBY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hdmlnYXRpb246IE5hdmlnYXRpb24pIHt9XG5cbiAgLyoqXG4gICAqIEluc3RhbGwgdGhpcyBhY3Rpb24gYXMgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgdGhpcy5yZWdpc3RlckNvbnRleHRNZW51QWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogVW5pbnN0YWxsIHRoaXMgYWN0aW9uIGFzIGJvdGggYSBrZXlib2FyZCBzaG9ydGN1dCBhbmQgYSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICogUmVpbnN0YWxsIHRoZSBvcmlnaW5hbCBjb250ZXh0IG1lbnUgYWN0aW9uIGlmIHBvc3NpYmxlLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcignZWRpdCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBlZGl0IGJsb2NrIGFjdGlvbiBhcyBhIGNvbnRleHQgbWVudSBpdGVtIG9uIGJsb2Nrcy5cbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJDb250ZXh0TWVudUFjdGlvbigpIHtcbiAgICBjb25zdCBlZGl0QWJvdmVJdGVtOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlJlZ2lzdHJ5SXRlbSA9IHtcbiAgICAgIGRpc3BsYXlUZXh0OiBnZXRNZW51SXRlbShcbiAgICAgICAgTXNnWydFRElUX0JMT0NLX0NPTlRFTlRTJ10sXG4gICAgICAgIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5SSUdIVCxcbiAgICAgICksXG4gICAgICBwcmVjb25kaXRpb25GbjogKHNjb3BlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlLCBtZW51T3BlbkV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChtZW51T3BlbkV2ZW50IGluc3RhbmNlb2YgUG9pbnRlckV2ZW50KSByZXR1cm4gJ2hpZGRlbic7XG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHNjb3BlLmJsb2NrPy53b3Jrc3BhY2U7XG4gICAgICAgIGlmICghd29ya3NwYWNlIHx8ICF0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlKSkge1xuICAgICAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKTtcbiAgICAgICAgaWYgKCFjdXJzb3IpIHJldHVybiAnZGlzYWJsZWQnO1xuICAgICAgICByZXR1cm4gY3Vyc29yLmF0RW5kT2ZMaW5lKCkgPyAnaGlkZGVuJyA6ICdlbmFibGVkJztcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHNjb3BlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlKSA9PiB7XG4gICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SXNBY3RpdmUodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHNjb3BlLmJsb2NrPy53b3Jrc3BhY2U7XG4gICAgICAgIGlmICghd29ya3NwYWNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKT8uaW4oKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAgc2NvcGVUeXBlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxcbiAgICAgIGlkOiAnZWRpdCcsXG4gICAgICB3ZWlnaHQ6IDEwLFxuICAgIH07XG5cbiAgICBDb250ZXh0TWVudVJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKGVkaXRBYm92ZUl0ZW0pO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/actions/edit.ts\n");

/***/ }),

/***/ "./src/actions/enter.ts":
/*!******************************!*\
  !*** ./src/actions/enter.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnterAction: () => (/* binding */ EnterAction)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _mover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mover */ \"./src/actions/mover.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hints */ \"./src/hints.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering a shortcut for the enter action.\n */\nclass EnterAction {\n    constructor(mover, navigation) {\n        this.mover = mover;\n        this.navigation = navigation;\n    }\n    /**\n     * Adds the enter action shortcut to the registry.\n     */\n    install() {\n        /**\n         * Enter key:\n         *\n         * - On the flyout: press a button or choose a block to place.\n         * - On a stack: open a block's context menu or field's editor.\n         * - On the workspace: open the context menu.\n         */\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register({\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n            preconditionFn: (workspace) => {\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                        return this.shouldHandleEnterForWS(workspace);\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT: {\n                        // If we're in the flyout the only supported actions are inserting\n                        // blocks or clicking buttons, so don't handle this if the\n                        // main workspace is read only.\n                        const targetWorkspace = workspace.isFlyout\n                            ? workspace.targetWorkspace\n                            : workspace;\n                        if (!targetWorkspace)\n                            return false;\n                        return this.navigation.canCurrentlyEdit(targetWorkspace);\n                    }\n                    default:\n                        return false;\n                }\n            },\n            callback: (workspace, event) => {\n                event.preventDefault();\n                const targetWorkspace = workspace.isFlyout\n                    ? workspace.targetWorkspace\n                    : workspace;\n                if (!targetWorkspace)\n                    return false;\n                let flyoutCursor;\n                let curNode;\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                        return this.handleEnterForWS(workspace);\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                        flyoutCursor = this.navigation.getFlyoutCursor(targetWorkspace);\n                        if (!flyoutCursor) {\n                            return false;\n                        }\n                        curNode = flyoutCursor.getCurNode();\n                        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                            this.insertFromFlyout(targetWorkspace);\n                        }\n                        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton) {\n                            this.triggerButtonCallback(targetWorkspace);\n                        }\n                        return true;\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [KeyCodes.ENTER, KeyCodes.SPACE],\n            allowCollision: true,\n        });\n    }\n    /**\n     * Checks if the enter key should do anything for this ws.\n     *\n     * @param workspace The workspace to check.\n     * @returns True if the enter action should be handled.\n     */\n    shouldHandleEnterForWS(workspace) {\n        if (!this.navigation.canCurrentlyNavigate(workspace))\n            return false;\n        if (workspace.isDragging())\n            return false;\n        const curNode = workspace.getCursor().getCurNode();\n        if (!curNode)\n            return false;\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field)\n            return curNode.isClickable();\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.RenderedConnection ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            return !workspace.isReadOnly();\n        }\n        // Returning true is sometimes incorrect for icons, but there's no API to check.\n        return (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.Icon ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.CommentBarButton ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment);\n    }\n    /**\n     * Handles hitting the enter key on the workspace.\n     *\n     * @param workspace The workspace.\n     * @returns True if the enter was handled, false otherwise.\n     */\n    handleEnterForWS(workspace) {\n        const cursor = workspace.getCursor();\n        const curNode = cursor.getCurNode();\n        if (!curNode)\n            return false;\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field) {\n            curNode.showEditor();\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            if (!this.tryShowFullBlockFieldEditor(curNode)) {\n                (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showHelpHint)(workspace);\n            }\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.RenderedConnection ||\n            curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            this.navigation.openToolboxOrFlyout(workspace);\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.Icon) {\n            // Calling the icon's click handler will trigger its action, generally\n            // opening a bubble of some sort. We then need to wait for the bubble to\n            // appear before attempting to navigate into it.\n            curNode.onClick();\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.renderManagement.finishQueuedRenders().then(() => {\n                if ((0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.hasBubble)(curNode) && curNode.bubbleIsVisible()) {\n                    cursor.in();\n                }\n            });\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.CommentBarButton) {\n            curNode.performAction();\n            return true;\n        }\n        else if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n            curNode.setCollapsed(false);\n            (0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(curNode.getEditorFocusableNode());\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Inserts a block from the flyout.\n     * Tries to find a connection on the block to connect to the marked\n     * location. If no connection has been marked, or there is not a compatible\n     * connection then the block is placed on the workspace.\n     * Trigger a toast per session if possible.\n     *\n     * @param workspace The main workspace. The workspace\n     *     the block will be placed on.\n     */\n    insertFromFlyout(workspace) {\n        var _a;\n        workspace.setResizesEnabled(false);\n        // Create a new event group or append to the existing group.\n        const existingGroup = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.getGroup();\n        if (!existingGroup) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        }\n        // If the workspace has never had focus default the stationary node.\n        const stationaryNode = (_a = blockly_core__WEBPACK_IMPORTED_MODULE_0__.FocusableTreeTraverser.findFocusedNode(workspace)) !== null && _a !== void 0 ? _a : workspace.getRestoredFocusableNode(null);\n        const newBlock = this.createNewBlock(workspace);\n        if (!newBlock)\n            return;\n        const insertStartPoint = stationaryNode\n            ? this.navigation.findInsertStartPoint(stationaryNode, newBlock)\n            : null;\n        if (workspace.getTopBlocks().includes(newBlock)) {\n            this.positionNewTopLevelBlock(workspace, newBlock);\n        }\n        workspace.setResizesEnabled(true);\n        this.mover.startMove(workspace, newBlock, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Insert, insertStartPoint);\n        const isStartBlock = !newBlock.outputConnection &&\n            !newBlock.nextConnection &&\n            !newBlock.previousConnection;\n        if (isStartBlock) {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showUnconstrainedMoveHint)(workspace, false);\n        }\n        else {\n            (0,_hints__WEBPACK_IMPORTED_MODULE_3__.showConstrainedMovementHint)(workspace);\n        }\n    }\n    /**\n     * Position a new top-level block to avoid overlap at the top left.\n     *\n     * Similar to `WorkspaceSvg.cleanUp()` but does not constrain itself to not\n     * affecting code ordering in order to use horizontal space.\n     *\n     * @param workspace The workspace.\n     * @param newBlock The top-level block to move to free space.\n     */\n    positionNewTopLevelBlock(workspace, newBlock) {\n        var _a;\n        const initialY = 10;\n        const initialX = 10;\n        const xSpacing = 80;\n        const filteredTopBlocks = workspace\n            .getTopBlocks(true)\n            .filter((block) => block.id !== newBlock.id);\n        const allBlockBounds = filteredTopBlocks.map((block) => block.getBoundingRectangle());\n        const toolboxWidth = (_a = workspace.getToolbox()) === null || _a === void 0 ? void 0 : _a.getWidth();\n        const workspaceWidth = workspace.getParentSvg().clientWidth - (toolboxWidth !== null && toolboxWidth !== void 0 ? toolboxWidth : 0);\n        const workspaceHeight = workspace.getParentSvg().clientHeight;\n        const { height: newBlockHeight, width: newBlockWidth } = newBlock.getHeightWidth();\n        const getNextIntersectingBlock = function (newBlockRect) {\n            for (const rect of allBlockBounds) {\n                if (newBlockRect.intersects(rect)) {\n                    return rect;\n                }\n            }\n            return null;\n        };\n        let cursorY = initialY;\n        let cursorX = initialX;\n        const minBlockHeight = workspace\n            .getRenderer()\n            .getConstants().MIN_BLOCK_HEIGHT;\n        // Make the initial movement of shifting the block to its best possible position.\n        let boundingRect = newBlock.getBoundingRectangle();\n        newBlock.moveBy(cursorX - boundingRect.left, cursorY - boundingRect.top, [\n            'cleanup',\n        ]);\n        newBlock.snapToGrid();\n        boundingRect = newBlock.getBoundingRectangle();\n        let conflictingRect = getNextIntersectingBlock(boundingRect);\n        while (conflictingRect != null) {\n            const newCursorX = conflictingRect.left + conflictingRect.getWidth() + xSpacing;\n            const newCursorY = conflictingRect.top + conflictingRect.getHeight() + minBlockHeight;\n            if (newCursorX + newBlockWidth <= workspaceWidth) {\n                cursorX = newCursorX;\n            }\n            else if (newCursorY + newBlockHeight <= workspaceHeight) {\n                cursorY = newCursorY;\n                cursorX = initialX;\n            }\n            else {\n                // Off screen, but new blocks will be selected which will scroll them\n                // into view.\n                cursorY = newCursorY;\n                cursorX = initialX;\n            }\n            newBlock.moveBy(cursorX - boundingRect.left, cursorY - boundingRect.top, [\n                'cleanup',\n            ]);\n            newBlock.snapToGrid();\n            boundingRect = newBlock.getBoundingRectangle();\n            conflictingRect = getNextIntersectingBlock(boundingRect);\n        }\n        newBlock.bringToFront();\n    }\n    /**\n     * Triggers a flyout button's callback.\n     *\n     * @param workspace The main workspace. The workspace\n     *     containing a flyout with a button.\n     */\n    triggerButtonCallback(workspace) {\n        var _a;\n        const button = (_a = this.navigation.getFlyoutCursor(workspace)) === null || _a === void 0 ? void 0 : _a.getCurNode();\n        if (!(button instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton))\n            return;\n        const flyoutButtonCallbacks = \n        // @ts-expect-error private field access\n        workspace.flyoutButtonCallbacks;\n        // TODO: Remove cast once blockly 12.4.0 is the minimum version of Blockly required.\n        // button.callbackKey is private until that version.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const callbackKey = button.callbackKey;\n        const buttonCallback = flyoutButtonCallbacks.get(callbackKey);\n        if (!buttonCallback) {\n            throw new Error('No callback function found for flyout button.');\n        }\n        buttonCallback(button);\n    }\n    /**\n     * If this block has a full block field then show its editor.\n     *\n     * @param block A block.\n     * @returns True if we showed the editor, false otherwise.\n     */\n    tryShowFullBlockFieldEditor(block) {\n        if (block.isSimpleReporter()) {\n            for (const input of block.inputList) {\n                for (const field of input.fieldRow) {\n                    if (field.isClickable() && field.isFullBlockField()) {\n                        field.showEditor();\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Creates a new block based on the current block the flyout cursor is on.\n     *\n     * @param workspace The main workspace. The workspace\n     *     the block will be placed on.\n     * @returns The newly created block.\n     */\n    createNewBlock(workspace) {\n        var _a;\n        const flyout = workspace.getFlyout();\n        if (!flyout || !flyout.isVisible()) {\n            console.warn('Trying to insert from the flyout when the flyout does not ' +\n                ' exist or is not visible');\n            return null;\n        }\n        const curBlock = (_a = this.navigation.getFlyoutCursor(workspace)) === null || _a === void 0 ? void 0 : _a.getCurNode();\n        if (!(curBlock instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) || !curBlock.isEnabled()) {\n            console.warn(\"Can't insert a disabled block.\");\n            return null;\n        }\n        const newBlock = flyout.createBlock(curBlock);\n        // Render to get the sizing right.\n        newBlock.render();\n        // Connections are not tracked when the block is first created.  Normally\n        // there's enough time for them to become tracked in the user's mouse\n        // movements, but not here.\n        newBlock.setConnectionTracking(true);\n        return newBlock;\n    }\n    /**\n     * Removes the enter action shortcut.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxJQUFJLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7UUFFRCxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLGtDQUFrQztRQUNsQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIseUVBQXlFO1FBQ3pFLHFFQUFxRTtRQUNyRSwyQkFBMkI7UUFDM0IsUUFBUSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUNsQyxzREFBd0IsQ0FBQyxlQUFlLENBQ3pDLENBQUM7SUFDSixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvZW50ZXIudHM/OTk3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIEV2ZW50cyxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgdXRpbHMgYXMgQmxvY2tseVV0aWxzLFxuICBCbG9ja1N2ZyxcbiAgRmx5b3V0QnV0dG9uLFxuICBSZW5kZXJlZENvbm5lY3Rpb24sXG4gIFdvcmtzcGFjZVN2ZyxcbiAgRmllbGQsXG4gIGljb25zLFxuICBGb2N1c2FibGVUcmVlVHJhdmVyc2VyLFxuICByZW5kZXJNYW5hZ2VtZW50LFxuICBjb21tZW50cyxcbiAgZ2V0Rm9jdXNNYW5hZ2VyLFxuICBoYXNCdWJibGUsXG59IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbmltcG9ydCB0eXBlIHtCbG9ja30gZnJvbSAnYmxvY2tseS9jb3JlJztcblxuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7TmF2aWdhdGlvbn0gZnJvbSAnLi4vbmF2aWdhdGlvbic7XG5pbXBvcnQge01vdmVyLCBNb3ZlVHlwZX0gZnJvbSAnLi9tb3Zlcic7XG5pbXBvcnQge1xuICBzaG93Q29uc3RyYWluZWRNb3ZlbWVudEhpbnQsXG4gIHNob3dIZWxwSGludCxcbiAgc2hvd1VuY29uc3RyYWluZWRNb3ZlSGludCxcbn0gZnJvbSAnLi4vaGludHMnO1xuXG5jb25zdCBLZXlDb2RlcyA9IEJsb2NrbHlVdGlscy5LZXlDb2RlcztcblxuLyoqXG4gKiBDbGFzcyBmb3IgcmVnaXN0ZXJpbmcgYSBzaG9ydGN1dCBmb3IgdGhlIGVudGVyIGFjdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEVudGVyQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBtb3ZlcjogTW92ZXIsXG4gICAgcHJpdmF0ZSBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGVudGVyIGFjdGlvbiBzaG9ydGN1dCB0byB0aGUgcmVnaXN0cnkuXG4gICAqL1xuICBpbnN0YWxsKCkge1xuICAgIC8qKlxuICAgICAqIEVudGVyIGtleTpcbiAgICAgKlxuICAgICAqIC0gT24gdGhlIGZseW91dDogcHJlc3MgYSBidXR0b24gb3IgY2hvb3NlIGEgYmxvY2sgdG8gcGxhY2UuXG4gICAgICogLSBPbiBhIHN0YWNrOiBvcGVuIGEgYmxvY2sncyBjb250ZXh0IG1lbnUgb3IgZmllbGQncyBlZGl0b3IuXG4gICAgICogLSBPbiB0aGUgd29ya3NwYWNlOiBvcGVuIHRoZSBjb250ZXh0IG1lbnUuXG4gICAgICovXG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRURJVF9PUl9DT05GSVJNLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpOiBib29sZWFuID0+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSkge1xuICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRTpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3VsZEhhbmRsZUVudGVyRm9yV1Mod29ya3NwYWNlKTtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5GTFlPVVQ6IHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGluIHRoZSBmbHlvdXQgdGhlIG9ubHkgc3VwcG9ydGVkIGFjdGlvbnMgYXJlIGluc2VydGluZ1xuICAgICAgICAgICAgLy8gYmxvY2tzIG9yIGNsaWNraW5nIGJ1dHRvbnMsIHNvIGRvbid0IGhhbmRsZSB0aGlzIGlmIHRoZVxuICAgICAgICAgICAgLy8gbWFpbiB3b3Jrc3BhY2UgaXMgcmVhZCBvbmx5LlxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0V29ya3NwYWNlID0gd29ya3NwYWNlLmlzRmx5b3V0XG4gICAgICAgICAgICAgID8gd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZVxuICAgICAgICAgICAgICA6IHdvcmtzcGFjZTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0V29ya3NwYWNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQodGFyZ2V0V29ya3NwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlLCBldmVudCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHRhcmdldFdvcmtzcGFjZSA9IHdvcmtzcGFjZS5pc0ZseW91dFxuICAgICAgICAgID8gd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZVxuICAgICAgICAgIDogd29ya3NwYWNlO1xuICAgICAgICBpZiAoIXRhcmdldFdvcmtzcGFjZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBmbHlvdXRDdXJzb3I7XG4gICAgICAgIGxldCBjdXJOb2RlO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5XT1JLU1BBQ0U6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFbnRlckZvcldTKHdvcmtzcGFjZSk7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuRkxZT1VUOlxuICAgICAgICAgICAgZmx5b3V0Q3Vyc29yID0gdGhpcy5uYXZpZ2F0aW9uLmdldEZseW91dEN1cnNvcih0YXJnZXRXb3Jrc3BhY2UpO1xuICAgICAgICAgICAgaWYgKCFmbHlvdXRDdXJzb3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyTm9kZSA9IGZseW91dEN1cnNvci5nZXRDdXJOb2RlKCk7XG4gICAgICAgICAgICBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5zZXJ0RnJvbUZseW91dCh0YXJnZXRXb3Jrc3BhY2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgRmx5b3V0QnV0dG9uKSB7XG4gICAgICAgICAgICAgIHRoaXMudHJpZ2dlckJ1dHRvbkNhbGxiYWNrKHRhcmdldFdvcmtzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5FTlRFUiwgS2V5Q29kZXMuU1BBQ0VdLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBlbnRlciBrZXkgc2hvdWxkIGRvIGFueXRoaW5nIGZvciB0aGlzIHdzLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVudGVyIGFjdGlvbiBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICovXG4gIHByaXZhdGUgc2hvdWxkSGFuZGxlRW50ZXJGb3JXUyh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zyk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseU5hdmlnYXRlKHdvcmtzcGFjZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAod29ya3NwYWNlLmlzRHJhZ2dpbmcoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgY3VyTm9kZSA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFjdXJOb2RlKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGN1ck5vZGUgaW5zdGFuY2VvZiBGaWVsZCkgcmV0dXJuIGN1ck5vZGUuaXNDbGlja2FibGUoKTtcbiAgICBpZiAoXG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgUmVuZGVyZWRDb25uZWN0aW9uIHx8XG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnXG4gICAgKSB7XG4gICAgICByZXR1cm4gIXdvcmtzcGFjZS5pc1JlYWRPbmx5KCk7XG4gICAgfVxuICAgIC8vIFJldHVybmluZyB0cnVlIGlzIHNvbWV0aW1lcyBpbmNvcnJlY3QgZm9yIGljb25zLCBidXQgdGhlcmUncyBubyBBUEkgdG8gY2hlY2suXG4gICAgcmV0dXJuIChcbiAgICAgIGN1ck5vZGUgaW5zdGFuY2VvZiBCbG9ja1N2ZyB8fFxuICAgICAgY3VyTm9kZSBpbnN0YW5jZW9mIGljb25zLkljb24gfHxcbiAgICAgIGN1ck5vZGUgaW5zdGFuY2VvZiBjb21tZW50cy5Db21tZW50QmFyQnV0dG9uIHx8XG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGhpdHRpbmcgdGhlIGVudGVyIGtleSBvbiB0aGUgd29ya3NwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVudGVyIHdhcyBoYW5kbGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUVudGVyRm9yV1Mod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjdXJzb3IgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCk7XG4gICAgY29uc3QgY3VyTm9kZSA9IGN1cnNvci5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFjdXJOb2RlKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGN1ck5vZGUgaW5zdGFuY2VvZiBGaWVsZCkge1xuICAgICAgY3VyTm9kZS5zaG93RWRpdG9yKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGN1ck5vZGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgaWYgKCF0aGlzLnRyeVNob3dGdWxsQmxvY2tGaWVsZEVkaXRvcihjdXJOb2RlKSkge1xuICAgICAgICBzaG93SGVscEhpbnQod29ya3NwYWNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgUmVuZGVyZWRDb25uZWN0aW9uIHx8XG4gICAgICBjdXJOb2RlIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnXG4gICAgKSB7XG4gICAgICB0aGlzLm5hdmlnYXRpb24ub3BlblRvb2xib3hPckZseW91dCh3b3Jrc3BhY2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgaWNvbnMuSWNvbikge1xuICAgICAgLy8gQ2FsbGluZyB0aGUgaWNvbidzIGNsaWNrIGhhbmRsZXIgd2lsbCB0cmlnZ2VyIGl0cyBhY3Rpb24sIGdlbmVyYWxseVxuICAgICAgLy8gb3BlbmluZyBhIGJ1YmJsZSBvZiBzb21lIHNvcnQuIFdlIHRoZW4gbmVlZCB0byB3YWl0IGZvciB0aGUgYnViYmxlIHRvXG4gICAgICAvLyBhcHBlYXIgYmVmb3JlIGF0dGVtcHRpbmcgdG8gbmF2aWdhdGUgaW50byBpdC5cbiAgICAgIGN1ck5vZGUub25DbGljaygpO1xuICAgICAgcmVuZGVyTWFuYWdlbWVudC5maW5pc2hRdWV1ZWRSZW5kZXJzKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChoYXNCdWJibGUoY3VyTm9kZSkgJiYgY3VyTm9kZS5idWJibGVJc1Zpc2libGUoKSkge1xuICAgICAgICAgIGN1cnNvci5pbigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY3VyTm9kZSBpbnN0YW5jZW9mIGNvbW1lbnRzLkNvbW1lbnRCYXJCdXR0b24pIHtcbiAgICAgIGN1ck5vZGUucGVyZm9ybUFjdGlvbigpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50KSB7XG4gICAgICBjdXJOb2RlLnNldENvbGxhcHNlZChmYWxzZSk7XG4gICAgICBnZXRGb2N1c01hbmFnZXIoKS5mb2N1c05vZGUoY3VyTm9kZS5nZXRFZGl0b3JGb2N1c2FibGVOb2RlKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIGEgYmxvY2sgZnJvbSB0aGUgZmx5b3V0LlxuICAgKiBUcmllcyB0byBmaW5kIGEgY29ubmVjdGlvbiBvbiB0aGUgYmxvY2sgdG8gY29ubmVjdCB0byB0aGUgbWFya2VkXG4gICAqIGxvY2F0aW9uLiBJZiBubyBjb25uZWN0aW9uIGhhcyBiZWVuIG1hcmtlZCwgb3IgdGhlcmUgaXMgbm90IGEgY29tcGF0aWJsZVxuICAgKiBjb25uZWN0aW9uIHRoZW4gdGhlIGJsb2NrIGlzIHBsYWNlZCBvbiB0aGUgd29ya3NwYWNlLlxuICAgKiBUcmlnZ2VyIGEgdG9hc3QgcGVyIHNlc3Npb24gaWYgcG9zc2libGUuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIG1haW4gd29ya3NwYWNlLiBUaGUgd29ya3NwYWNlXG4gICAqICAgICB0aGUgYmxvY2sgd2lsbCBiZSBwbGFjZWQgb24uXG4gICAqL1xuICBwcml2YXRlIGluc2VydEZyb21GbHlvdXQod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICB3b3Jrc3BhY2Uuc2V0UmVzaXplc0VuYWJsZWQoZmFsc2UpO1xuICAgIC8vIENyZWF0ZSBhIG5ldyBldmVudCBncm91cCBvciBhcHBlbmQgdG8gdGhlIGV4aXN0aW5nIGdyb3VwLlxuICAgIGNvbnN0IGV4aXN0aW5nR3JvdXAgPSBFdmVudHMuZ2V0R3JvdXAoKTtcbiAgICBpZiAoIWV4aXN0aW5nR3JvdXApIHtcbiAgICAgIEV2ZW50cy5zZXRHcm91cCh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgd29ya3NwYWNlIGhhcyBuZXZlciBoYWQgZm9jdXMgZGVmYXVsdCB0aGUgc3RhdGlvbmFyeSBub2RlLlxuICAgIGNvbnN0IHN0YXRpb25hcnlOb2RlID1cbiAgICAgIEZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIuZmluZEZvY3VzZWROb2RlKHdvcmtzcGFjZSkgPz9cbiAgICAgIHdvcmtzcGFjZS5nZXRSZXN0b3JlZEZvY3VzYWJsZU5vZGUobnVsbCk7XG4gICAgY29uc3QgbmV3QmxvY2sgPSB0aGlzLmNyZWF0ZU5ld0Jsb2NrKHdvcmtzcGFjZSk7XG4gICAgaWYgKCFuZXdCbG9jaykgcmV0dXJuO1xuICAgIGNvbnN0IGluc2VydFN0YXJ0UG9pbnQgPSBzdGF0aW9uYXJ5Tm9kZVxuICAgICAgPyB0aGlzLm5hdmlnYXRpb24uZmluZEluc2VydFN0YXJ0UG9pbnQoc3RhdGlvbmFyeU5vZGUsIG5ld0Jsb2NrKVxuICAgICAgOiBudWxsO1xuXG4gICAgaWYgKHdvcmtzcGFjZS5nZXRUb3BCbG9ja3MoKS5pbmNsdWRlcyhuZXdCbG9jaykpIHtcbiAgICAgIHRoaXMucG9zaXRpb25OZXdUb3BMZXZlbEJsb2NrKHdvcmtzcGFjZSwgbmV3QmxvY2spO1xuICAgIH1cblxuICAgIHdvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCh0cnVlKTtcblxuICAgIHRoaXMubW92ZXIuc3RhcnRNb3ZlKFxuICAgICAgd29ya3NwYWNlLFxuICAgICAgbmV3QmxvY2ssXG4gICAgICBNb3ZlVHlwZS5JbnNlcnQsXG4gICAgICBpbnNlcnRTdGFydFBvaW50LFxuICAgICk7XG5cbiAgICBjb25zdCBpc1N0YXJ0QmxvY2sgPVxuICAgICAgIW5ld0Jsb2NrLm91dHB1dENvbm5lY3Rpb24gJiZcbiAgICAgICFuZXdCbG9jay5uZXh0Q29ubmVjdGlvbiAmJlxuICAgICAgIW5ld0Jsb2NrLnByZXZpb3VzQ29ubmVjdGlvbjtcbiAgICBpZiAoaXNTdGFydEJsb2NrKSB7XG4gICAgICBzaG93VW5jb25zdHJhaW5lZE1vdmVIaW50KHdvcmtzcGFjZSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93Q29uc3RyYWluZWRNb3ZlbWVudEhpbnQod29ya3NwYWNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUG9zaXRpb24gYSBuZXcgdG9wLWxldmVsIGJsb2NrIHRvIGF2b2lkIG92ZXJsYXAgYXQgdGhlIHRvcCBsZWZ0LlxuICAgKlxuICAgKiBTaW1pbGFyIHRvIGBXb3Jrc3BhY2VTdmcuY2xlYW5VcCgpYCBidXQgZG9lcyBub3QgY29uc3RyYWluIGl0c2VsZiB0byBub3RcbiAgICogYWZmZWN0aW5nIGNvZGUgb3JkZXJpbmcgaW4gb3JkZXIgdG8gdXNlIGhvcml6b250YWwgc3BhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZS5cbiAgICogQHBhcmFtIG5ld0Jsb2NrIFRoZSB0b3AtbGV2ZWwgYmxvY2sgdG8gbW92ZSB0byBmcmVlIHNwYWNlLlxuICAgKi9cbiAgcHJpdmF0ZSBwb3NpdGlvbk5ld1RvcExldmVsQmxvY2soXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgbmV3QmxvY2s6IEJsb2NrU3ZnLFxuICApIHtcbiAgICBjb25zdCBpbml0aWFsWSA9IDEwO1xuICAgIGNvbnN0IGluaXRpYWxYID0gMTA7XG4gICAgY29uc3QgeFNwYWNpbmcgPSA4MDtcblxuICAgIGNvbnN0IGZpbHRlcmVkVG9wQmxvY2tzID0gd29ya3NwYWNlXG4gICAgICAuZ2V0VG9wQmxvY2tzKHRydWUpXG4gICAgICAuZmlsdGVyKChibG9jaykgPT4gYmxvY2suaWQgIT09IG5ld0Jsb2NrLmlkKTtcbiAgICBjb25zdCBhbGxCbG9ja0JvdW5kcyA9IGZpbHRlcmVkVG9wQmxvY2tzLm1hcCgoYmxvY2spID0+XG4gICAgICBibG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLFxuICAgICk7XG5cbiAgICBjb25zdCB0b29sYm94V2lkdGggPSB3b3Jrc3BhY2UuZ2V0VG9vbGJveCgpPy5nZXRXaWR0aCgpO1xuICAgIGNvbnN0IHdvcmtzcGFjZVdpZHRoID1cbiAgICAgIHdvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKS5jbGllbnRXaWR0aCAtICh0b29sYm94V2lkdGggPz8gMCk7XG4gICAgY29uc3Qgd29ya3NwYWNlSGVpZ2h0ID0gd29ya3NwYWNlLmdldFBhcmVudFN2ZygpLmNsaWVudEhlaWdodDtcbiAgICBjb25zdCB7aGVpZ2h0OiBuZXdCbG9ja0hlaWdodCwgd2lkdGg6IG5ld0Jsb2NrV2lkdGh9ID1cbiAgICAgIG5ld0Jsb2NrLmdldEhlaWdodFdpZHRoKCk7XG5cbiAgICBjb25zdCBnZXROZXh0SW50ZXJzZWN0aW5nQmxvY2sgPSBmdW5jdGlvbiAoXG4gICAgICBuZXdCbG9ja1JlY3Q6IEJsb2NrbHlVdGlscy5SZWN0LFxuICAgICk6IEJsb2NrbHlVdGlscy5SZWN0IHwgbnVsbCB7XG4gICAgICBmb3IgKGNvbnN0IHJlY3Qgb2YgYWxsQmxvY2tCb3VuZHMpIHtcbiAgICAgICAgaWYgKG5ld0Jsb2NrUmVjdC5pbnRlcnNlY3RzKHJlY3QpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICBsZXQgY3Vyc29yWSA9IGluaXRpYWxZO1xuICAgIGxldCBjdXJzb3JYID0gaW5pdGlhbFg7XG4gICAgY29uc3QgbWluQmxvY2tIZWlnaHQgPSB3b3Jrc3BhY2VcbiAgICAgIC5nZXRSZW5kZXJlcigpXG4gICAgICAuZ2V0Q29uc3RhbnRzKCkuTUlOX0JMT0NLX0hFSUdIVDtcbiAgICAvLyBNYWtlIHRoZSBpbml0aWFsIG1vdmVtZW50IG9mIHNoaWZ0aW5nIHRoZSBibG9jayB0byBpdHMgYmVzdCBwb3NzaWJsZSBwb3NpdGlvbi5cbiAgICBsZXQgYm91bmRpbmdSZWN0ID0gbmV3QmxvY2suZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtcbiAgICBuZXdCbG9jay5tb3ZlQnkoY3Vyc29yWCAtIGJvdW5kaW5nUmVjdC5sZWZ0LCBjdXJzb3JZIC0gYm91bmRpbmdSZWN0LnRvcCwgW1xuICAgICAgJ2NsZWFudXAnLFxuICAgIF0pO1xuICAgIG5ld0Jsb2NrLnNuYXBUb0dyaWQoKTtcblxuICAgIGJvdW5kaW5nUmVjdCA9IG5ld0Jsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgbGV0IGNvbmZsaWN0aW5nUmVjdCA9IGdldE5leHRJbnRlcnNlY3RpbmdCbG9jayhib3VuZGluZ1JlY3QpO1xuICAgIHdoaWxlIChjb25mbGljdGluZ1JlY3QgIT0gbnVsbCkge1xuICAgICAgY29uc3QgbmV3Q3Vyc29yWCA9XG4gICAgICAgIGNvbmZsaWN0aW5nUmVjdC5sZWZ0ICsgY29uZmxpY3RpbmdSZWN0LmdldFdpZHRoKCkgKyB4U3BhY2luZztcbiAgICAgIGNvbnN0IG5ld0N1cnNvclkgPVxuICAgICAgICBjb25mbGljdGluZ1JlY3QudG9wICsgY29uZmxpY3RpbmdSZWN0LmdldEhlaWdodCgpICsgbWluQmxvY2tIZWlnaHQ7XG4gICAgICBpZiAobmV3Q3Vyc29yWCArIG5ld0Jsb2NrV2lkdGggPD0gd29ya3NwYWNlV2lkdGgpIHtcbiAgICAgICAgY3Vyc29yWCA9IG5ld0N1cnNvclg7XG4gICAgICB9IGVsc2UgaWYgKG5ld0N1cnNvclkgKyBuZXdCbG9ja0hlaWdodCA8PSB3b3Jrc3BhY2VIZWlnaHQpIHtcbiAgICAgICAgY3Vyc29yWSA9IG5ld0N1cnNvclk7XG4gICAgICAgIGN1cnNvclggPSBpbml0aWFsWDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9mZiBzY3JlZW4sIGJ1dCBuZXcgYmxvY2tzIHdpbGwgYmUgc2VsZWN0ZWQgd2hpY2ggd2lsbCBzY3JvbGwgdGhlbVxuICAgICAgICAvLyBpbnRvIHZpZXcuXG4gICAgICAgIGN1cnNvclkgPSBuZXdDdXJzb3JZO1xuICAgICAgICBjdXJzb3JYID0gaW5pdGlhbFg7XG4gICAgICB9XG4gICAgICBuZXdCbG9jay5tb3ZlQnkoY3Vyc29yWCAtIGJvdW5kaW5nUmVjdC5sZWZ0LCBjdXJzb3JZIC0gYm91bmRpbmdSZWN0LnRvcCwgW1xuICAgICAgICAnY2xlYW51cCcsXG4gICAgICBdKTtcbiAgICAgIG5ld0Jsb2NrLnNuYXBUb0dyaWQoKTtcbiAgICAgIGJvdW5kaW5nUmVjdCA9IG5ld0Jsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgICBjb25mbGljdGluZ1JlY3QgPSBnZXROZXh0SW50ZXJzZWN0aW5nQmxvY2soYm91bmRpbmdSZWN0KTtcbiAgICB9XG5cbiAgICBuZXdCbG9jay5icmluZ1RvRnJvbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyBhIGZseW91dCBidXR0b24ncyBjYWxsYmFjay5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgbWFpbiB3b3Jrc3BhY2UuIFRoZSB3b3Jrc3BhY2VcbiAgICogICAgIGNvbnRhaW5pbmcgYSBmbHlvdXQgd2l0aCBhIGJ1dHRvbi5cbiAgICovXG4gIHByaXZhdGUgdHJpZ2dlckJ1dHRvbkNhbGxiYWNrKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5uYXZpZ2F0aW9uLmdldEZseW91dEN1cnNvcih3b3Jrc3BhY2UpPy5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCEoYnV0dG9uIGluc3RhbmNlb2YgRmx5b3V0QnV0dG9uKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgZmx5b3V0QnV0dG9uQ2FsbGJhY2tzOiBNYXA8c3RyaW5nLCAocDE6IEZseW91dEJ1dHRvbikgPT4gdm9pZD4gPVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIGZpZWxkIGFjY2Vzc1xuICAgICAgd29ya3NwYWNlLmZseW91dEJ1dHRvbkNhbGxiYWNrcztcblxuICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0IG9uY2UgYmxvY2tseSAxMi40LjAgaXMgdGhlIG1pbmltdW0gdmVyc2lvbiBvZiBCbG9ja2x5IHJlcXVpcmVkLlxuICAgIC8vIGJ1dHRvbi5jYWxsYmFja0tleSBpcyBwcml2YXRlIHVudGlsIHRoYXQgdmVyc2lvbi5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IGNhbGxiYWNrS2V5ID0gKGJ1dHRvbiBhcyBhbnkpLmNhbGxiYWNrS2V5O1xuICAgIGNvbnN0IGJ1dHRvbkNhbGxiYWNrID0gZmx5b3V0QnV0dG9uQ2FsbGJhY2tzLmdldChjYWxsYmFja0tleSk7XG4gICAgaWYgKCFidXR0b25DYWxsYmFjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjYWxsYmFjayBmdW5jdGlvbiBmb3VuZCBmb3IgZmx5b3V0IGJ1dHRvbi4nKTtcbiAgICB9XG4gICAgYnV0dG9uQ2FsbGJhY2soYnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGJsb2NrIGhhcyBhIGZ1bGwgYmxvY2sgZmllbGQgdGhlbiBzaG93IGl0cyBlZGl0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayBBIGJsb2NrLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHdlIHNob3dlZCB0aGUgZWRpdG9yLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBwcml2YXRlIHRyeVNob3dGdWxsQmxvY2tGaWVsZEVkaXRvcihibG9jazogQmxvY2spOiBib29sZWFuIHtcbiAgICBpZiAoYmxvY2suaXNTaW1wbGVSZXBvcnRlcigpKSB7XG4gICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIGJsb2NrLmlucHV0TGlzdCkge1xuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGlucHV0LmZpZWxkUm93KSB7XG4gICAgICAgICAgaWYgKGZpZWxkLmlzQ2xpY2thYmxlKCkgJiYgZmllbGQuaXNGdWxsQmxvY2tGaWVsZCgpKSB7XG4gICAgICAgICAgICBmaWVsZC5zaG93RWRpdG9yKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYmxvY2sgYmFzZWQgb24gdGhlIGN1cnJlbnQgYmxvY2sgdGhlIGZseW91dCBjdXJzb3IgaXMgb24uXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIG1haW4gd29ya3NwYWNlLiBUaGUgd29ya3NwYWNlXG4gICAqICAgICB0aGUgYmxvY2sgd2lsbCBiZSBwbGFjZWQgb24uXG4gICAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIGJsb2NrLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVOZXdCbG9jayh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zyk6IEJsb2NrU3ZnIHwgbnVsbCB7XG4gICAgY29uc3QgZmx5b3V0ID0gd29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgIGlmICghZmx5b3V0IHx8ICFmbHlvdXQuaXNWaXNpYmxlKCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1RyeWluZyB0byBpbnNlcnQgZnJvbSB0aGUgZmx5b3V0IHdoZW4gdGhlIGZseW91dCBkb2VzIG5vdCAnICtcbiAgICAgICAgICAnIGV4aXN0IG9yIGlzIG5vdCB2aXNpYmxlJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJCbG9jayA9IHRoaXMubmF2aWdhdGlvbi5nZXRGbHlvdXRDdXJzb3Iod29ya3NwYWNlKT8uZ2V0Q3VyTm9kZSgpO1xuICAgIGlmICghKGN1ckJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpIHx8ICFjdXJCbG9jay5pc0VuYWJsZWQoKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2FuJ3QgaW5zZXJ0IGEgZGlzYWJsZWQgYmxvY2suXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3QmxvY2sgPSBmbHlvdXQuY3JlYXRlQmxvY2soY3VyQmxvY2spO1xuICAgIC8vIFJlbmRlciB0byBnZXQgdGhlIHNpemluZyByaWdodC5cbiAgICBuZXdCbG9jay5yZW5kZXIoKTtcbiAgICAvLyBDb25uZWN0aW9ucyBhcmUgbm90IHRyYWNrZWQgd2hlbiB0aGUgYmxvY2sgaXMgZmlyc3QgY3JlYXRlZC4gIE5vcm1hbGx5XG4gICAgLy8gdGhlcmUncyBlbm91Z2ggdGltZSBmb3IgdGhlbSB0byBiZWNvbWUgdHJhY2tlZCBpbiB0aGUgdXNlcidzIG1vdXNlXG4gICAgLy8gbW92ZW1lbnRzLCBidXQgbm90IGhlcmUuXG4gICAgbmV3QmxvY2suc2V0Q29ubmVjdGlvblRyYWNraW5nKHRydWUpO1xuICAgIHJldHVybiBuZXdCbG9jaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBlbnRlciBhY3Rpb24gc2hvcnRjdXQuXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKFxuICAgICAgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkVESVRfT1JfQ09ORklSTSxcbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/actions/enter.ts\n");

/***/ }),

/***/ "./src/actions/exit.ts":
/*!*****************************!*\
  !*** ./src/actions/exit.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExitAction: () => (/* binding */ ExitAction)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering a shortcut for the exit action.\n */\nclass ExitAction {\n    constructor(navigation) {\n        this.navigation = navigation;\n    }\n    /**\n     * Adds the exit action shortcut to the registry.\n     */\n    install() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register({\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EXIT,\n            preconditionFn: (workspace) => this.navigation.canCurrentlyNavigate(workspace),\n            callback: (workspace) => {\n                var _a, _b;\n                switch (this.navigation.getState()) {\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT:\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX:\n                        (0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusTree((_a = workspace.targetWorkspace) !== null && _a !== void 0 ? _a : workspace);\n                        if (!blockly_core__WEBPACK_IMPORTED_MODULE_0__.Gesture.inProgress()) {\n                            workspace.hideChaff();\n                        }\n                        return true;\n                    case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE: {\n                        if (workspace.isMutator) {\n                            const parent = (_b = workspace.options.parentWorkspace) === null || _b === void 0 ? void 0 : _b.getAllBlocks().map((block) => block.getIcons()).flat().find((icon) => {\n                                var _a;\n                                return icon instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.MutatorIcon &&\n                                    icon.bubbleIsVisible() &&\n                                    ((_a = icon.getBubble()) === null || _a === void 0 ? void 0 : _a.getWorkspace()) === workspace;\n                            });\n                            if (parent) {\n                                parent.setBubbleVisible(false);\n                                (0,blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(parent);\n                                return true;\n                            }\n                        }\n                        return false;\n                    }\n                    default:\n                        return false;\n                }\n            },\n            keyCodes: [KeyCodes.ESC],\n            allowCollision: true,\n        });\n    }\n    /**\n     * Removes the exit action shortcut.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EXIT);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy9leGl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0dBSUc7QUFRbUI7QUFFb0I7QUFHMUMsTUFBTSxRQUFRLEdBQUcsK0NBQVksQ0FBQyxRQUFRLENBQUM7QUFFdkM7O0dBRUc7QUFDSSxNQUFNLFVBQVU7SUFDckIsWUFBb0IsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtJQUFHLENBQUM7SUFFOUM7O09BRUc7SUFDSCxPQUFPO1FBQ0wsMERBQWdCLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztZQUNqQyxJQUFJLEVBQUUsc0RBQXdCLENBQUMsSUFBSTtZQUNuQyxjQUFjLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQztZQUNqRCxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRTs7Z0JBQ3RCLFFBQVEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO29CQUNuQyxLQUFLLDZDQUFlLENBQUMsTUFBTSxDQUFDO29CQUM1QixLQUFLLDZDQUFlLENBQUMsT0FBTzt3QkFDMUIsNkRBQWUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxlQUFTLENBQUMsZUFBZSxtQ0FBSSxTQUFTLENBQUMsQ0FBQzt3QkFDcEUsSUFBSSxDQUFDLGlEQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQzs0QkFDMUIsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDO3dCQUN4QixDQUFDO3dCQUNELE9BQU8sSUFBSSxDQUFDO29CQUNkLEtBQUssNkNBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO3dCQUMvQixJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQzs0QkFDeEIsTUFBTSxNQUFNLEdBQUcsZUFBUyxDQUFDLE9BQU8sQ0FBQyxlQUFlLDBDQUM1QyxZQUFZLEdBQ2IsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQy9CLElBQUksR0FDSixJQUFJLENBQ0gsQ0FBQyxJQUFJLEVBQTZCLEVBQUU7O2dDQUNsQyxXQUFJLFlBQVksK0NBQUssQ0FBQyxXQUFXO29DQUNqQyxJQUFJLENBQUMsZUFBZSxFQUFFO29DQUN0QixXQUFJLENBQUMsU0FBUyxFQUFFLDBDQUFFLFlBQVksRUFBRSxNQUFLLFNBQVM7NkJBQUEsQ0FDakQsQ0FBQzs0QkFDSixJQUFJLE1BQU0sRUFBRSxDQUFDO2dDQUNYLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQ0FDL0IsNkRBQWUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQ0FDcEMsT0FBTyxJQUFJLENBQUM7NEJBQ2QsQ0FBQzt3QkFDSCxDQUFDO3dCQUNELE9BQU8sS0FBSyxDQUFDO29CQUNmLENBQUM7b0JBQ0Q7d0JBQ0UsT0FBTyxLQUFLLENBQUM7Z0JBQ2pCLENBQUM7WUFDSCxDQUFDO1lBQ0QsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztZQUN4QixjQUFjLEVBQUUsSUFBSTtTQUNyQixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxTQUFTO1FBQ1AsMERBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxzREFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RSxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvZXhpdC50cz83NDcwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgdXRpbHMgYXMgQmxvY2tseVV0aWxzLFxuICBnZXRGb2N1c01hbmFnZXIsXG4gIEdlc3R1cmUsXG4gIGljb25zLFxufSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHtOYXZpZ2F0aW9ufSBmcm9tICcuLi9uYXZpZ2F0aW9uJztcblxuY29uc3QgS2V5Q29kZXMgPSBCbG9ja2x5VXRpbHMuS2V5Q29kZXM7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHJlZ2lzdGVyaW5nIGEgc2hvcnRjdXQgZm9yIHRoZSBleGl0IGFjdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEV4aXRBY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hdmlnYXRpb246IE5hdmlnYXRpb24pIHt9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGV4aXQgYWN0aW9uIHNob3J0Y3V0IHRvIHRoZSByZWdpc3RyeS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRVhJVCxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5uYXZpZ2F0aW9uLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICBjYXNlIENvbnN0YW50cy5TVEFURS5GTFlPVVQ6XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuVE9PTEJPWDpcbiAgICAgICAgICAgIGdldEZvY3VzTWFuYWdlcigpLmZvY3VzVHJlZSh3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlID8/IHdvcmtzcGFjZSk7XG4gICAgICAgICAgICBpZiAoIUdlc3R1cmUuaW5Qcm9ncmVzcygpKSB7XG4gICAgICAgICAgICAgIHdvcmtzcGFjZS5oaWRlQ2hhZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIGNhc2UgQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRToge1xuICAgICAgICAgICAgaWYgKHdvcmtzcGFjZS5pc011dGF0b3IpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gd29ya3NwYWNlLm9wdGlvbnMucGFyZW50V29ya3NwYWNlXG4gICAgICAgICAgICAgICAgPy5nZXRBbGxCbG9ja3MoKVxuICAgICAgICAgICAgICAgIC5tYXAoKGJsb2NrKSA9PiBibG9jay5nZXRJY29ucygpKVxuICAgICAgICAgICAgICAgIC5mbGF0KClcbiAgICAgICAgICAgICAgICAuZmluZChcbiAgICAgICAgICAgICAgICAgIChpY29uKTogaWNvbiBpcyBpY29ucy5NdXRhdG9ySWNvbiA9PlxuICAgICAgICAgICAgICAgICAgICBpY29uIGluc3RhbmNlb2YgaWNvbnMuTXV0YXRvckljb24gJiZcbiAgICAgICAgICAgICAgICAgICAgaWNvbi5idWJibGVJc1Zpc2libGUoKSAmJlxuICAgICAgICAgICAgICAgICAgICBpY29uLmdldEJ1YmJsZSgpPy5nZXRXb3Jrc3BhY2UoKSA9PT0gd29ya3NwYWNlLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc2V0QnViYmxlVmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNOb2RlKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuRVNDXSxcbiAgICAgIGFsbG93Q29sbGlzaW9uOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGV4aXQgYWN0aW9uIHNob3J0Y3V0LlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRVhJVCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/exit.ts\n");

/***/ }),

/***/ "./src/actions/move.ts":
/*!*****************************!*\
  !*** ./src/actions/move.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveActions: () => (/* binding */ MoveActions)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _drag_direction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../drag_direction */ \"./src/drag_direction.ts\");\n/* harmony import */ var _mover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mover */ \"./src/actions/mover.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/* harmony import */ var _workspace_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../workspace_utilities */ \"./src/workspace_utilities.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\nconst createSerializedKey = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.createSerializedKey.bind(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry);\n/**\n * Actions for moving workspace elements with keyboard shortcuts.\n */\nclass MoveActions {\n    constructor(mover) {\n        this.mover = mover;\n        this.shortcuts = [\n            // Begin and end move.\n            {\n                name: 'start_move',\n                preconditionFn: (workspace) => {\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    return (!!startDraggable && this.mover.canMove(workspace, startDraggable));\n                },\n                callback: (workspace) => {\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    // Focus the root draggable in case one of its children\n                    // was focused when the move was triggered.\n                    if (startDraggable) {\n                        (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(startDraggable);\n                    }\n                    return (!!startDraggable &&\n                        this.mover.startMove(workspace, startDraggable, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Move, null));\n                },\n                keyCodes: [KeyCodes.M],\n            },\n            {\n                name: 'finish_move',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.finishMove(workspace),\n                keyCodes: [KeyCodes.ENTER, KeyCodes.SPACE],\n                allowCollision: true,\n            },\n            {\n                name: 'abort_move',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.abortMove(workspace),\n                keyCodes: [KeyCodes.ESC],\n                allowCollision: true,\n            },\n            // Constrained moves.\n            {\n                name: 'move_left_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Left),\n                keyCodes: [KeyCodes.LEFT],\n                allowCollision: true,\n            },\n            {\n                name: 'move_right_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Right),\n                keyCodes: [KeyCodes.RIGHT],\n                allowCollision: true,\n            },\n            {\n                name: 'move_up_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Up),\n                keyCodes: [KeyCodes.UP],\n                allowCollision: true,\n            },\n            {\n                name: 'move_down_constrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveConstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Down),\n                keyCodes: [KeyCodes.DOWN],\n                allowCollision: true,\n            },\n            // Unconstrained moves.\n            {\n                name: 'move_left_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Left),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.LEFT, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.LEFT, [KeyCodes.CTRL]),\n                ],\n            },\n            {\n                name: 'move_right_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Right),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.RIGHT, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.RIGHT, [KeyCodes.CTRL]),\n                ],\n            },\n            {\n                name: 'move_up_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Up),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.UP, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.UP, [KeyCodes.CTRL]),\n                ],\n            },\n            {\n                name: 'move_down_unconstrained',\n                preconditionFn: (workspace) => this.mover.isMoving(workspace),\n                callback: (workspace) => this.mover.moveUnconstrained(workspace, _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Down),\n                keyCodes: [\n                    createSerializedKey(KeyCodes.DOWN, [KeyCodes.ALT]),\n                    createSerializedKey(KeyCodes.DOWN, [KeyCodes.CTRL]),\n                ],\n            },\n        ];\n        this.menuItems = [\n            {\n                displayText: () => (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_3__.getMenuItem)(blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['MOVE_BLOCK'], 'start_move'),\n                preconditionFn: (scope, menuOpenEvent) => {\n                    var _a;\n                    const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                    if (!workspace || menuOpenEvent instanceof PointerEvent)\n                        return 'hidden';\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    return !!startDraggable && this.mover.canMove(workspace, startDraggable)\n                        ? 'enabled'\n                        : 'disabled';\n                },\n                callback: (scope) => {\n                    var _a;\n                    const workspace = (_a = scope.block) === null || _a === void 0 ? void 0 : _a.workspace;\n                    if (!workspace)\n                        return false;\n                    const startDraggable = this.getCurrentDraggable(workspace);\n                    // Focus the start block in case one of its fields or a shadow block\n                    // was focused when the move was triggered.\n                    if (startDraggable) {\n                        (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(startDraggable);\n                    }\n                    return (!!startDraggable &&\n                        this.mover.startMove(workspace, startDraggable, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Move, null));\n                },\n                scopeType: blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.ScopeType.BLOCK,\n                id: 'move',\n                weight: 8.5,\n            },\n            {\n                displayText: () => { var _a; return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_3__.getMenuItem)((_a = blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['MOVE_COMMENT']) !== null && _a !== void 0 ? _a : 'Move Comment', 'start_move'); },\n                preconditionFn: (scope, menuOpenEvent) => {\n                    const comment = scope.comment;\n                    if (!comment)\n                        return 'hidden';\n                    return this.mover.canMove(comment.workspace, comment)\n                        ? 'enabled'\n                        : 'disabled';\n                },\n                callback: (scope) => {\n                    const comment = scope.comment;\n                    if (!comment)\n                        return false;\n                    this.mover.startMove(comment.workspace, comment, _mover__WEBPACK_IMPORTED_MODULE_2__.MoveType.Move, null);\n                },\n                scopeType: blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.ScopeType.COMMENT,\n                id: 'move_comment',\n                weight: 8.5,\n            },\n        ];\n    }\n    registerShortcuts() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n    }\n    registerMenuItems() {\n        for (const menuItem of this.menuItems) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.register(menuItem);\n        }\n    }\n    /**\n     * Install the actions as both keyboard shortcuts and (where\n     * applicable) context menu items.\n     */\n    install() {\n        this.registerShortcuts();\n        this.registerMenuItems();\n    }\n    /**\n     * Uninstall these actions.\n     */\n    uninstall() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name);\n        }\n        for (const menuItem of this.menuItems) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ContextMenuRegistry.registry.unregister(menuItem.id);\n        }\n    }\n    /**\n     * Get the source draggable for the cursor location, or undefined if no\n     * source draggable can be found.\n     * If the cursor is on a shadow block, walks up the tree until it finds\n     * a non-shadow block to drag.\n     *\n     * @param workspace The workspace to inspect for a cursor.\n     * @returns The source draggable, or undefined if no appropriate draggable\n     *     could be found.\n     */\n    getCurrentDraggable(workspace) {\n        const node = (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().getFocusedNode();\n        if (node instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment)\n            return node;\n        const block = workspace.getCursor().getSourceBlock();\n        if (!block)\n            return undefined;\n        const nonShadowBlock = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_4__.getNonShadowBlock)(block);\n        if (!nonShadowBlock) {\n            throw new Error('Tried to drag a shadow block with no parent. ' +\n                'Shadow blocks should always have parents.');\n        }\n        return nonShadowBlock;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDekIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUztRQUNQLEtBQUssTUFBTSxRQUFRLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3RDLHFEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RELENBQUM7UUFDRCxLQUFLLE1BQU0sUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUN0Qyx3REFBbUIsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2RCxDQUFDO0lBQ0gsQ0FBQztJQUVEOzs7Ozs7Ozs7T0FTRztJQUNILG1CQUFtQixDQUNqQixTQUF1QjtRQUV2QixNQUFNLElBQUksR0FBRyx3REFBZSxFQUFFLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDaEQsSUFBSSxJQUFJLFlBQVksNkNBQVEsQ0FBQyx3QkFBd0I7WUFBRSxPQUFPLElBQUksQ0FBQztRQUVuRSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDckQsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUU3QixNQUFNLGNBQWMsR0FBRyx1RUFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDcEIsTUFBTSxJQUFJLEtBQUssQ0FDYiwrQ0FBK0M7Z0JBQzdDLDJDQUEyQyxDQUM5QyxDQUFDO1FBQ0osQ0FBQztRQUNELE9BQU8sY0FBYyxDQUFDO0lBQ3hCLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvYWN0aW9ucy9tb3ZlLnRzPzk5YWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBDb250ZXh0TWVudVJlZ2lzdHJ5LFxuICBNc2csXG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIHV0aWxzLFxuICBXb3Jrc3BhY2VTdmcsXG4gIGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIsXG4gIGdldEZvY3VzTWFuYWdlcixcbiAgY29tbWVudHMsXG4gIElEcmFnZ2FibGUsXG4gIElGb2N1c2FibGVOb2RlLFxuICBJQm91bmRlZEVsZW1lbnQsXG4gIElTZWxlY3RhYmxlLFxufSBmcm9tICdibG9ja2x5JztcbmltcG9ydCB7RGlyZWN0aW9ufSBmcm9tICcuLi9kcmFnX2RpcmVjdGlvbic7XG5pbXBvcnQge01vdmVyLCBNb3ZlVHlwZX0gZnJvbSAnLi9tb3Zlcic7XG5pbXBvcnQge2dldE1lbnVJdGVtfSBmcm9tICcuLi9zaG9ydGN1dF9mb3JtYXR0aW5nJztcbmltcG9ydCB7Z2V0Tm9uU2hhZG93QmxvY2t9IGZyb20gJy4uL3dvcmtzcGFjZV91dGlsaXRpZXMnO1xuXG5jb25zdCBLZXlDb2RlcyA9IHV0aWxzLktleUNvZGVzO1xuY29uc3QgY3JlYXRlU2VyaWFsaXplZEtleSA9IFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleS5iaW5kKFxuICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LFxuKTtcblxuLyoqXG4gKiBBY3Rpb25zIGZvciBtb3Zpbmcgd29ya3NwYWNlIGVsZW1lbnRzIHdpdGgga2V5Ym9hcmQgc2hvcnRjdXRzLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZUFjdGlvbnMge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1vdmVyOiBNb3Zlcikge31cblxuICBwcml2YXRlIHNob3J0Y3V0czogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0W10gPSBbXG4gICAgLy8gQmVnaW4gYW5kIGVuZCBtb3ZlLlxuICAgIHtcbiAgICAgIG5hbWU6ICdzdGFydF9tb3ZlJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0RHJhZ2dhYmxlID0gdGhpcy5nZXRDdXJyZW50RHJhZ2dhYmxlKHdvcmtzcGFjZSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgISFzdGFydERyYWdnYWJsZSAmJiB0aGlzLm1vdmVyLmNhbk1vdmUod29ya3NwYWNlLCBzdGFydERyYWdnYWJsZSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLnNldElzQWN0aXZlKHRydWUpO1xuICAgICAgICBjb25zdCBzdGFydERyYWdnYWJsZSA9IHRoaXMuZ2V0Q3VycmVudERyYWdnYWJsZSh3b3Jrc3BhY2UpO1xuICAgICAgICAvLyBGb2N1cyB0aGUgcm9vdCBkcmFnZ2FibGUgaW4gY2FzZSBvbmUgb2YgaXRzIGNoaWxkcmVuXG4gICAgICAgIC8vIHdhcyBmb2N1c2VkIHdoZW4gdGhlIG1vdmUgd2FzIHRyaWdnZXJlZC5cbiAgICAgICAgaWYgKHN0YXJ0RHJhZ2dhYmxlKSB7XG4gICAgICAgICAgZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNOb2RlKHN0YXJ0RHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICEhc3RhcnREcmFnZ2FibGUgJiZcbiAgICAgICAgICB0aGlzLm1vdmVyLnN0YXJ0TW92ZSh3b3Jrc3BhY2UsIHN0YXJ0RHJhZ2dhYmxlLCBNb3ZlVHlwZS5Nb3ZlLCBudWxsKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuTV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnZmluaXNoX21vdmUnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmZpbmlzaE1vdmUod29ya3NwYWNlKSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuRU5URVIsIEtleUNvZGVzLlNQQUNFXSxcbiAgICAgIGFsbG93Q29sbGlzaW9uOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2Fib3J0X21vdmUnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmFib3J0TW92ZSh3b3Jrc3BhY2UpLFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5FU0NdLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfSxcblxuICAgIC8vIENvbnN0cmFpbmVkIG1vdmVzLlxuICAgIHtcbiAgICAgIG5hbWU6ICdtb3ZlX2xlZnRfY29uc3RyYWluZWQnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm1vdmVyLm1vdmVDb25zdHJhaW5lZCh3b3Jrc3BhY2UsIERpcmVjdGlvbi5MZWZ0KSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuTEVGVF0sXG4gICAgICBhbGxvd0NvbGxpc2lvbjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtb3ZlX3JpZ2h0X2NvbnN0cmFpbmVkJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5tb3Zlci5tb3ZlQ29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uUmlnaHQpLFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5SSUdIVF0sXG4gICAgICBhbGxvd0NvbGxpc2lvbjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtb3ZlX3VwX2NvbnN0cmFpbmVkJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5tb3Zlci5tb3ZlQ29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uVXApLFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5VUF0sXG4gICAgICBhbGxvd0NvbGxpc2lvbjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtb3ZlX2Rvd25fY29uc3RyYWluZWQnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm1vdmVyLm1vdmVDb25zdHJhaW5lZCh3b3Jrc3BhY2UsIERpcmVjdGlvbi5Eb3duKSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuRE9XTl0sXG4gICAgICBhbGxvd0NvbGxpc2lvbjogdHJ1ZSxcbiAgICB9LFxuXG4gICAgLy8gVW5jb25zdHJhaW5lZCBtb3Zlcy5cbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV9sZWZ0X3VuY29uc3RyYWluZWQnLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+IHRoaXMubW92ZXIuaXNNb3Zpbmcod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PlxuICAgICAgICB0aGlzLm1vdmVyLm1vdmVVbmNvbnN0cmFpbmVkKHdvcmtzcGFjZSwgRGlyZWN0aW9uLkxlZnQpLFxuICAgICAga2V5Q29kZXM6IFtcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5MRUZULCBbS2V5Q29kZXMuQUxUXSksXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuTEVGVCwgW0tleUNvZGVzLkNUUkxdKSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbW92ZV9yaWdodF91bmNvbnN0cmFpbmVkJyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVyLmlzTW92aW5nKHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5tb3Zlci5tb3ZlVW5jb25zdHJhaW5lZCh3b3Jrc3BhY2UsIERpcmVjdGlvbi5SaWdodCksXG4gICAgICBrZXlDb2RlczogW1xuICAgICAgICBjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLlJJR0hULCBbS2V5Q29kZXMuQUxUXSksXG4gICAgICAgIGNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuUklHSFQsIFtLZXlDb2Rlcy5DVFJMXSksXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ21vdmVfdXBfdW5jb25zdHJhaW5lZCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5pc01vdmluZyh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubW92ZXIubW92ZVVuY29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uVXApLFxuICAgICAga2V5Q29kZXM6IFtcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5VUCwgW0tleUNvZGVzLkFMVF0pLFxuICAgICAgICBjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLlVQLCBbS2V5Q29kZXMuQ1RSTF0pLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtb3ZlX2Rvd25fdW5jb25zdHJhaW5lZCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3Zlci5pc01vdmluZyh3b3Jrc3BhY2UpLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubW92ZXIubW92ZVVuY29uc3RyYWluZWQod29ya3NwYWNlLCBEaXJlY3Rpb24uRG93biksXG4gICAgICBrZXlDb2RlczogW1xuICAgICAgICBjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLkRPV04sIFtLZXlDb2Rlcy5BTFRdKSxcbiAgICAgICAgY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5ET1dOLCBbS2V5Q29kZXMuQ1RSTF0pLFxuICAgICAgXSxcbiAgICB9LFxuICBdO1xuXG4gIHByaXZhdGUgbWVudUl0ZW1zOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlJlZ2lzdHJ5SXRlbVtdID0gW1xuICAgIHtcbiAgICAgIGRpc3BsYXlUZXh0OiAoKSA9PiBnZXRNZW51SXRlbShNc2dbJ01PVkVfQkxPQ0snXSwgJ3N0YXJ0X21vdmUnKSxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAoc2NvcGUsIG1lbnVPcGVuRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlID0gc2NvcGUuYmxvY2s/LndvcmtzcGFjZSBhcyBXb3Jrc3BhY2VTdmcgfCBudWxsO1xuICAgICAgICBpZiAoIXdvcmtzcGFjZSB8fCBtZW51T3BlbkV2ZW50IGluc3RhbmNlb2YgUG9pbnRlckV2ZW50KVxuICAgICAgICAgIHJldHVybiAnaGlkZGVuJztcblxuICAgICAgICBjb25zdCBzdGFydERyYWdnYWJsZSA9IHRoaXMuZ2V0Q3VycmVudERyYWdnYWJsZSh3b3Jrc3BhY2UpO1xuICAgICAgICByZXR1cm4gISFzdGFydERyYWdnYWJsZSAmJiB0aGlzLm1vdmVyLmNhbk1vdmUod29ya3NwYWNlLCBzdGFydERyYWdnYWJsZSlcbiAgICAgICAgICA/ICdlbmFibGVkJ1xuICAgICAgICAgIDogJ2Rpc2FibGVkJztcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHNjb3BlKSA9PiB7XG4gICAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHNjb3BlLmJsb2NrPy53b3Jrc3BhY2UgYXMgV29ya3NwYWNlU3ZnIHwgbnVsbDtcbiAgICAgICAgaWYgKCF3b3Jrc3BhY2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3Qgc3RhcnREcmFnZ2FibGUgPSB0aGlzLmdldEN1cnJlbnREcmFnZ2FibGUod29ya3NwYWNlKTtcbiAgICAgICAgLy8gRm9jdXMgdGhlIHN0YXJ0IGJsb2NrIGluIGNhc2Ugb25lIG9mIGl0cyBmaWVsZHMgb3IgYSBzaGFkb3cgYmxvY2tcbiAgICAgICAgLy8gd2FzIGZvY3VzZWQgd2hlbiB0aGUgbW92ZSB3YXMgdHJpZ2dlcmVkLlxuICAgICAgICBpZiAoc3RhcnREcmFnZ2FibGUpIHtcbiAgICAgICAgICBnZXRGb2N1c01hbmFnZXIoKS5mb2N1c05vZGUoc3RhcnREcmFnZ2FibGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgISFzdGFydERyYWdnYWJsZSAmJlxuICAgICAgICAgIHRoaXMubW92ZXIuc3RhcnRNb3ZlKHdvcmtzcGFjZSwgc3RhcnREcmFnZ2FibGUsIE1vdmVUeXBlLk1vdmUsIG51bGwpXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgc2NvcGVUeXBlOiBDb250ZXh0TWVudVJlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxcbiAgICAgIGlkOiAnbW92ZScsXG4gICAgICB3ZWlnaHQ6IDguNSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGRpc3BsYXlUZXh0OiAoKSA9PlxuICAgICAgICBnZXRNZW51SXRlbShNc2dbJ01PVkVfQ09NTUVOVCddID8/ICdNb3ZlIENvbW1lbnQnLCAnc3RhcnRfbW92ZScpLFxuICAgICAgcHJlY29uZGl0aW9uRm46IChzY29wZSwgbWVudU9wZW5FdmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjb21tZW50ID0gc2NvcGUuY29tbWVudDtcbiAgICAgICAgaWYgKCFjb21tZW50KSByZXR1cm4gJ2hpZGRlbic7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZXIuY2FuTW92ZShjb21tZW50LndvcmtzcGFjZSwgY29tbWVudClcbiAgICAgICAgICA/ICdlbmFibGVkJ1xuICAgICAgICAgIDogJ2Rpc2FibGVkJztcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKHNjb3BlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSBzY29wZS5jb21tZW50O1xuICAgICAgICBpZiAoIWNvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5tb3Zlci5zdGFydE1vdmUoY29tbWVudC53b3Jrc3BhY2UsIGNvbW1lbnQsIE1vdmVUeXBlLk1vdmUsIG51bGwpO1xuICAgICAgfSxcbiAgICAgIHNjb3BlVHlwZTogQ29udGV4dE1lbnVSZWdpc3RyeS5TY29wZVR5cGUuQ09NTUVOVCxcbiAgICAgIGlkOiAnbW92ZV9jb21tZW50JyxcbiAgICAgIHdlaWdodDogOC41LFxuICAgIH0sXG4gIF07XG5cbiAgcHJpdmF0ZSByZWdpc3RlclNob3J0Y3V0cygpIHtcbiAgICBmb3IgKGNvbnN0IHNob3J0Y3V0IG9mIHRoaXMuc2hvcnRjdXRzKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHNob3J0Y3V0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyTWVudUl0ZW1zKCkge1xuICAgIGZvciAoY29uc3QgbWVudUl0ZW0gb2YgdGhpcy5tZW51SXRlbXMpIHtcbiAgICAgIENvbnRleHRNZW51UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIobWVudUl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIHRoZSBhY3Rpb25zIGFzIGJvdGgga2V5Ym9hcmQgc2hvcnRjdXRzIGFuZCAod2hlcmVcbiAgICogYXBwbGljYWJsZSkgY29udGV4dCBtZW51IGl0ZW1zLlxuICAgKi9cbiAgaW5zdGFsbCgpIHtcbiAgICB0aGlzLnJlZ2lzdGVyU2hvcnRjdXRzKCk7XG4gICAgdGhpcy5yZWdpc3Rlck1lbnVJdGVtcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuaW5zdGFsbCB0aGVzZSBhY3Rpb25zLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIGZvciAoY29uc3Qgc2hvcnRjdXQgb2YgdGhpcy5zaG9ydGN1dHMpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihzaG9ydGN1dC5uYW1lKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBtZW51SXRlbSBvZiB0aGlzLm1lbnVJdGVtcykge1xuICAgICAgQ29udGV4dE1lbnVSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKG1lbnVJdGVtLmlkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzb3VyY2UgZHJhZ2dhYmxlIGZvciB0aGUgY3Vyc29yIGxvY2F0aW9uLCBvciB1bmRlZmluZWQgaWYgbm9cbiAgICogc291cmNlIGRyYWdnYWJsZSBjYW4gYmUgZm91bmQuXG4gICAqIElmIHRoZSBjdXJzb3IgaXMgb24gYSBzaGFkb3cgYmxvY2ssIHdhbGtzIHVwIHRoZSB0cmVlIHVudGlsIGl0IGZpbmRzXG4gICAqIGEgbm9uLXNoYWRvdyBibG9jayB0byBkcmFnLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gaW5zcGVjdCBmb3IgYSBjdXJzb3IuXG4gICAqIEByZXR1cm5zIFRoZSBzb3VyY2UgZHJhZ2dhYmxlLCBvciB1bmRlZmluZWQgaWYgbm8gYXBwcm9wcmlhdGUgZHJhZ2dhYmxlXG4gICAqICAgICBjb3VsZCBiZSBmb3VuZC5cbiAgICovXG4gIGdldEN1cnJlbnREcmFnZ2FibGUoXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICk6IChJRHJhZ2dhYmxlICYgSUZvY3VzYWJsZU5vZGUgJiBJQm91bmRlZEVsZW1lbnQgJiBJU2VsZWN0YWJsZSkgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IG5vZGUgPSBnZXRGb2N1c01hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpO1xuICAgIGlmIChub2RlIGluc3RhbmNlb2YgY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50KSByZXR1cm4gbm9kZTtcblxuICAgIGNvbnN0IGJsb2NrID0gd29ya3NwYWNlLmdldEN1cnNvcigpLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKCFibG9jaykgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IG5vblNoYWRvd0Jsb2NrID0gZ2V0Tm9uU2hhZG93QmxvY2soYmxvY2spO1xuICAgIGlmICghbm9uU2hhZG93QmxvY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RyaWVkIHRvIGRyYWcgYSBzaGFkb3cgYmxvY2sgd2l0aCBubyBwYXJlbnQuICcgK1xuICAgICAgICAgICdTaGFkb3cgYmxvY2tzIHNob3VsZCBhbHdheXMgaGF2ZSBwYXJlbnRzLicsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbm9uU2hhZG93QmxvY2s7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/move.ts\n");

/***/ }),

/***/ "./src/actions/mover.ts":
/*!******************************!*\
  !*** ./src/actions/mover.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMMIT_MOVE_SHORTCUT: () => (/* binding */ COMMIT_MOVE_SHORTCUT),\n/* harmony export */   MoveInfo: () => (/* binding */ MoveInfo),\n/* harmony export */   MoveType: () => (/* binding */ MoveType),\n/* harmony export */   Mover: () => (/* binding */ Mover)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/* harmony import */ var _drag_direction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../drag_direction */ \"./src/drag_direction.ts\");\n/* harmony import */ var _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../keyboard_drag_strategy */ \"./src/keyboard_drag_strategy.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hints */ \"./src/hints.ts\");\n/* harmony import */ var _move_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../move_indicator */ \"./src/move_indicator.ts\");\n/* harmony import */ var _dom_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom_utils */ \"./src/dom_utils.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n\n\n/**\n * The distance to move an item, in workspace coordinates, when\n * making an unconstrained move.\n */\nconst UNCONSTRAINED_MOVE_DISTANCE = 20;\n/**\n * The amount of additional padding to include during a constrained move.\n */\nconst CONSTRAINED_ADDITIONAL_PADDING = 70;\n/**\n * Identifier for a keyboard shortcut that commits the in-progress move.\n */\nconst COMMIT_MOVE_SHORTCUT = 'commitMove';\n/**\n * Whether this is an insert or a move.\n */\nvar MoveType;\n(function (MoveType) {\n    /**\n     * An insert will remove the block if the move is aborted.\n     */\n    MoveType[MoveType[\"Insert\"] = 0] = \"Insert\";\n    /**\n     * A regular move of a pre-existing block.\n     */\n    MoveType[MoveType[\"Move\"] = 1] = \"Move\";\n})(MoveType || (MoveType = {}));\n/**\n * Low-level code for moving elements with keyboard shortcuts.\n */\nclass Mover {\n    constructor(navigation, highlightConnections = true, shouldDisableAutoScroll) {\n        this.navigation = navigation;\n        /**\n         * Map of moves in progress.\n         *\n         * An entry for a given workspace in this map means that the this\n         * Mover is moving an element on that workspace, and will disable\n         * normal cursor movement until the move is complete.\n         */\n        this.moves = new Map();\n        /** Original drag strategies per-block (WeakMap for automatic garbage collection). */\n        this.oldDragStrategies = new WeakMap();\n        /** Whether to use fatter connection highlights with larger click targets. */\n        this.fatterConnections = true;\n        /** Connection highlight size: minimal, medium, or large. */\n        this.connectionSize = 'medium';\n        this.highlightConnections = highlightConnections;\n        this.shouldDisableAutoScroll = shouldDisableAutoScroll;\n    }\n    /**\n     * Returns true iff we are able to begin moving the draggable element which\n     * currently has focus on the given workspace.\n     *\n     * @param workspace The workspace to move on.\n     * @param draggable The draggable element to try to drag.\n     * @returns True iff we can begin a move.\n     */\n    canMove(workspace, draggable) {\n        return !!(this.navigation.getState() === _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE &&\n            this.navigation.canCurrentlyEdit(workspace) &&\n            !this.moves.has(workspace) && // No move in progress.\n            (draggable === null || draggable === void 0 ? void 0 : draggable.isMovable()));\n    }\n    /**\n     * Returns true iff we are currently moving an element on the given\n     * workspace.\n     *\n     * @param workspace The workspace we might be moving on.\n     * @returns True iff we are moving.\n     */\n    isMoving(workspace) {\n        return (this.navigation.canCurrentlyEdit(workspace) && this.moves.has(workspace));\n    }\n    /**\n     * Enable or disable connection highlighting during move operations.\n     *\n     * @param enabled Whether to show connection highlights.\n     */\n    setHighlightConnections(enabled) {\n        this.highlightConnections = enabled;\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.fatterConnections = enabled;\n        this.connectionSize = enabled ? 'medium' : 'minimal';\n        // Update any active drag strategies\n        for (const [_workspace, moveInfo] of this.moves) {\n            const dragStrategy = moveInfo.draggable.dragStrategy;\n            if (dragStrategy instanceof _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy) {\n                dragStrategy.setFatterConnections(enabled);\n            }\n        }\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.connectionSize = size;\n        this.fatterConnections = size !== 'minimal';\n        // Update any active drag strategies\n        for (const [_workspace, moveInfo] of this.moves) {\n            const dragStrategy = moveInfo.draggable.dragStrategy;\n            if (dragStrategy instanceof _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy) {\n                dragStrategy.setConnectionSize(size);\n            }\n        }\n    }\n    /**\n     * Start moving the currently-focused item on workspace, if\n     * possible.\n     *\n     * Should only be called if canMove has returned true.\n     *\n     * @param workspace The workspace we might be moving on.\n     * @param draggable The element to start dragging.\n     * @param moveType Whether this is an insert or a move.\n     * @param startPoint Where to start the move, or null to use the current\n     *     location if any.\n     * @returns True iff a move has successfully begun.\n     * @param onMoveFinished Optional callback when move finishes.\n     */\n    startMove(workspace, draggable, moveType, startPoint, onMoveFinished) {\n        if (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.patchDragStrategy(draggable, moveType, startPoint, onMoveFinished);\n        }\n        else if (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n            this.moveIndicator = new _move_indicator__WEBPACK_IMPORTED_MODULE_5__.MoveIndicatorBubble(draggable);\n        }\n        // Begin dragging element.\n        const DraggerClass = blockly__WEBPACK_IMPORTED_MODULE_0__.registry.getClassFromOptions(blockly__WEBPACK_IMPORTED_MODULE_0__.registry.Type.BLOCK_DRAGGER, workspace.options, true);\n        if (!DraggerClass)\n            throw new Error('no Dragger registered');\n        const dragger = new DraggerClass(draggable, workspace);\n        // Set up a blur listener to end the move if the user clicks away\n        const blurListener = (evt) => {\n            var _a;\n            const event = evt;\n            const dragStrategy = draggable.dragStrategy;\n            const isClickAndStick = (_a = dragStrategy === null || dragStrategy === void 0 ? void 0 : dragStrategy.isClickAndStickMode) === null || _a === void 0 ? void 0 : _a.call(dragStrategy);\n            const newFocusTarget = event.relatedTarget;\n            const activeElement = document.activeElement;\n            // Special case: if newFocusTarget is null and activeElement is body,\n            // it means we clicked on a non-focusable element (like divs in options panel).\n            // This is most likely clicking outside Blockly UI, so abort the move.\n            const blurredToBody = !newFocusTarget && (activeElement === null || activeElement === void 0 ? void 0 : activeElement.tagName) === 'BODY';\n            if (blurredToBody) {\n                this.abortMove(workspace);\n                return;\n            }\n            // Check if we explicitly clicked on a Blockly UI element\n            const newTargetIsBlockly = newFocusTarget ? (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isBlocklyUIElement)(newFocusTarget) : false;\n            const activeIsBlockly = activeElement && activeElement.tagName !== 'BODY' ? (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isBlocklyUIElement)(activeElement) : false;\n            const clickedOutsideBlockly = newFocusTarget && !newTargetIsBlockly && !activeIsBlockly;\n            if (clickedOutsideBlockly) {\n                // Abort the move if clicking outside the Blockly UI entirely\n                this.abortMove(workspace);\n                return;\n            }\n            if (!isClickAndStick) {\n                // In normal move mode: check if we're clicking on a connection highlight\n                // Check if the click target is a connection highlight or its descendant\n                const isConnectionHighlight = (newFocusTarget && this.isConnectionHighlightElement(newFocusTarget)) ||\n                    (activeElement && this.isConnectionHighlightElement(activeElement));\n                // Don't auto-finish if clicking on a connection highlight\n                // The connection click handler will finish the move\n                if (!isConnectionHighlight) {\n                    this.finishMove(workspace);\n                }\n                return;\n            }\n            // In click-and-stick mode: only auto-finish if focus moved to meaningful UI\n            const isWorkspaceBackground = (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isWorkspaceElement)(newFocusTarget) ||\n                (0,_dom_utils__WEBPACK_IMPORTED_MODULE_6__.isWorkspaceElement)(activeElement);\n            if (!isWorkspaceBackground) {\n                this.finishMove(workspace);\n            }\n        };\n        // Record that a move is in progress and start dragging.\n        workspace.setKeyboardMoveInProgress(true);\n        const info = new MoveInfo(workspace, draggable, dragger, blurListener, onMoveFinished);\n        this.moves.set(workspace, info);\n        // Begin drag.\n        dragger.onDragStart(info.fakePointerEvent('pointerdown'));\n        info.updateTotalDelta();\n        // In case a block is detached, ensure that it still retains focus\n        // (otherwise dragging will break). This is also the point a new block's\n        // initial insert position is scrolled into view.\n        workspace.getCursor().setCurNode(draggable);\n        draggable.getFocusableElement().addEventListener('blur', blurListener);\n        // Register a keyboard shortcut under the key combos of all existing\n        // keyboard shortcuts that commits the move before allowing the real\n        // shortcut to proceed. This avoids all kinds of fun brokenness when\n        // deleting/copying/otherwise acting on a element in move mode.\n        const shortcutKeys = Object.values(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry())\n            .flatMap((shortcut) => shortcut.keyCodes)\n            .filter((keyCode) => {\n            return (keyCode &&\n                ![\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.RIGHT,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.LEFT,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.UP,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.DOWN,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.ENTER,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.ESC,\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.M,\n                ].includes(typeof keyCode === 'number'\n                    ? keyCode\n                    : parseInt(`${keyCode.split('+').pop()}`)));\n        })\n            // Convince TS there aren't undefined values.\n            .filter((keyCode) => !!keyCode);\n        const commitMoveShortcut = {\n            name: COMMIT_MOVE_SHORTCUT,\n            preconditionFn: (workspace) => {\n                return !!this.moves.get(workspace);\n            },\n            callback: (workspace) => {\n                this.finishMove(workspace);\n                return false;\n            },\n            keyCodes: shortcutKeys,\n            allowCollision: true,\n        };\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(commitMoveShortcut);\n        return true;\n    }\n    /**\n     * Finish moving the currently-focused item on workspace.\n     *\n     * Should only be called if isMoving has returned true.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @returns True iff move successfully finished.\n     */\n    finishMove(workspace) {\n        if (!this.moves.has(workspace)) {\n            return false;\n        }\n        const info = this.preDragEndCleanup(workspace);\n        info.dragger.onDragEnd(info.fakePointerEvent('pointerup'), new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0));\n        this.postDragEndCleanup(workspace, info);\n        return true;\n    }\n    /**\n     * Abort moving the currently-focused item on workspace.\n     *\n     * Should only be called if isMoving has returned true.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @returns True iff move successfully aborted.\n     */\n    abortMove(workspace) {\n        var _a;\n        if (!this.moves.has(workspace)) {\n            return false;\n        }\n        const info = this.preDragEndCleanup(workspace);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const dragStrategy = info.draggable\n            .dragStrategy;\n        this.patchDragger(info.dragger, dragStrategy.moveType);\n        // Save the position so we can put the cursor in a reasonable spot.\n        // @ts-expect-error Access to private property connectionCandidate.\n        const target = (_a = dragStrategy.connectionCandidate) === null || _a === void 0 ? void 0 : _a.neighbour;\n        // Prevent the strategy connecting the block so we just delete one block.\n        // @ts-expect-error Access to private property connectionCandidate.\n        dragStrategy.connectionCandidate = null;\n        info.dragger.onDragEnd(info.fakePointerEvent('pointerup'), info.startLocation);\n        if (dragStrategy.moveType === MoveType.Insert && target) {\n            workspace.getCursor().setCurNode(target);\n        }\n        this.postDragEndCleanup(workspace, info);\n        return true;\n    }\n    /**\n     * Common clean-up for finish/abort.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @returns The info for the element.\n     */\n    preDragEndCleanup(workspace) {\n        blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(COMMIT_MOVE_SHORTCUT);\n        (0,_hints__WEBPACK_IMPORTED_MODULE_4__.clearMoveHints)(workspace);\n        const info = this.moves.get(workspace);\n        if (!info)\n            throw new Error('no move info for workspace');\n        // Remove the blur listener before ending the drag\n        info.draggable\n            .getFocusableElement()\n            .removeEventListener('blur', info.blurListener);\n        return info;\n    }\n    /**\n     * Common clean-up for finish/abort.\n     *\n     * @param workspace The workspace on which we are moving.\n     * @param info The info for the element.\n     */\n    postDragEndCleanup(workspace, info) {\n        var _a;\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.moveIndicator = undefined;\n        if (info.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.unpatchDragStrategy(info.draggable);\n        }\n        this.moves.delete(workspace);\n        workspace.setKeyboardMoveInProgress(false);\n        if (info.onMoveFinished) {\n            info.onMoveFinished();\n        }\n        // Render on next frame for proper block positioning\n        requestAnimationFrame(() => {\n            if (info.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                let rootBlock = info.draggable;\n                let parent = info.draggable.getParent();\n                while (parent instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    rootBlock = parent;\n                    parent = parent.getParent();\n                }\n                rootBlock.render();\n                if (rootBlock !== info.draggable) {\n                    info.draggable.render();\n                }\n            }\n            workspace.render();\n            this.scrollCurrentElementIntoView(workspace);\n            (0,blockly__WEBPACK_IMPORTED_MODULE_0__.getFocusManager)().focusNode(info.draggable);\n        });\n    }\n    /**\n     * Action to move the item being moved in the given direction,\n     * constrained to valid attachment points (if any).\n     *\n     * @param workspace The workspace to move on.\n     * @param direction The direction to move the dragged item.\n     * @returns True iff this action applies and has been performed.\n     */\n    moveConstrained(workspace, direction) {\n        if (!workspace)\n            return false;\n        const info = this.moves.get(workspace);\n        if (!info)\n            throw new Error('no move info for workspace');\n        if (info.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.comments.RenderedWorkspaceComment) {\n            return this.moveUnconstrained(workspace, direction);\n        }\n        info.dragger.onDrag(info.fakePointerEvent('pointermove', direction), info.totalDelta.clone().scale(workspace.scale));\n        info.updateTotalDelta();\n        this.scrollCurrentElementIntoView(workspace, CONSTRAINED_ADDITIONAL_PADDING);\n        return true;\n    }\n    /**\n     * Action to move the item being moved in the given direction,\n     * without constraint.\n     *\n     * @param workspace The workspace to move on.\n     * @param direction The direction to move the dragged item.\n     * @returns True iff this action applies and has been performed.\n     */\n    moveUnconstrained(workspace, direction) {\n        var _a;\n        if (!workspace)\n            return false;\n        const info = this.moves.get(workspace);\n        if (!info)\n            throw new Error('no move info for workspace');\n        const { x, y } = (0,_drag_direction__WEBPACK_IMPORTED_MODULE_2__.getXYFromDirection)(direction);\n        info.totalDelta.x += x * UNCONSTRAINED_MOVE_DISTANCE * workspace.scale;\n        info.totalDelta.y += y * UNCONSTRAINED_MOVE_DISTANCE * workspace.scale;\n        info.dragger.onDrag(info.fakePointerEvent('pointermove'), info.totalDelta.clone().scale(workspace.scale));\n        this.scrollCurrentElementIntoView(workspace);\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.updateLocation();\n        return true;\n    }\n    /**\n     * Monkeypatch: replace the block's drag strategy and cache the old value.\n     *\n     * @param block The block to patch.\n     * @param moveType Whether this is an insert or a move.\n     * @param startPoint Where to start the move, or null to use the current\n     *     location if any.\n     * @param onMoveFinished\n     */\n    patchDragStrategy(block, moveType, startPoint, onMoveFinished) {\n        // @ts-expect-error block.dragStrategy is private.\n        const currentStrategy = block.dragStrategy;\n        this.oldDragStrategies.set(block, currentStrategy);\n        const onMoveComplete = () => {\n            const workspace = block.workspace;\n            this.finishMove(workspace);\n        };\n        const keyboardDragStrategy = new _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy(block, moveType, startPoint, this.highlightConnections, onMoveComplete, onMoveFinished);\n        keyboardDragStrategy.setFatterConnections(this.fatterConnections);\n        keyboardDragStrategy.setConnectionSize(this.connectionSize);\n        block.setDragStrategy(keyboardDragStrategy);\n    }\n    /**\n     * Undo the monkeypatching of the block's drag strategy.\n     *\n     * @param block The block to patch.\n     */\n    unpatchDragStrategy(block) {\n        try {\n            // @ts-expect-error block.dragStrategy is private\n            const currentStrategy = block.dragStrategy;\n            if (currentStrategy instanceof _keyboard_drag_strategy__WEBPACK_IMPORTED_MODULE_3__.KeyboardDragStrategy) {\n                currentStrategy.setClickAndStickMode(false);\n                currentStrategy.connectionHighlighter.clearHighlights();\n            }\n            const oldStrategy = this.oldDragStrategies.get(block);\n            if (oldStrategy) {\n                block.setDragStrategy(oldStrategy);\n                this.oldDragStrategies.delete(block);\n            }\n        }\n        catch (error) {\n            // Silently fail during cleanup\n        }\n    }\n    /**\n     * Scrolls the current element into view.\n     *\n     * @param workspace The workspace to get current element from.\n     * @param padding Amount of spacing to put between the bounds and the edge of\n     *     the workspace's viewport.\n     */\n    scrollCurrentElementIntoView(workspace, padding = 0) {\n        var _a, _b;\n        if ((_a = this.shouldDisableAutoScroll) === null || _a === void 0 ? void 0 : _a.call(this)) {\n            return;\n        }\n        const draggable = (_b = this.moves.get(workspace)) === null || _b === void 0 ? void 0 : _b.draggable;\n        if (draggable) {\n            const bounds = (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg\n                ? draggable.getBoundingRectangleWithoutChildren()\n                : draggable.getBoundingRectangle()).clone();\n            bounds.top -= padding;\n            bounds.bottom += padding;\n            bounds.left -= padding;\n            bounds.right += padding;\n            workspace.scrollBoundsIntoView(bounds);\n        }\n    }\n    /**\n     * Checks if an element is a connection highlight or is contained within one.\n     *\n     * @param element The element to check.\n     * @returns True if the element is or is inside a connection highlight.\n     */\n    isConnectionHighlightElement(element) {\n        var _a, _b;\n        if (!element || !element.classList)\n            return false;\n        // Check if this element or any ancestor has the connection highlight class\n        let current = element;\n        while (current) {\n            if (((_a = current.classList) === null || _a === void 0 ? void 0 : _a.contains('blocklyPotentialConnection')) ||\n                ((_b = current.classList) === null || _b === void 0 ? void 0 : _b.contains('blocklyConnectionHighlightLayer'))) {\n                return true;\n            }\n            current = current.parentElement;\n        }\n        return false;\n    }\n    /**\n     * Monkeypatch: override either wouldDeleteDraggable or shouldReturnToStart,\n     * based on whether this was an insertion of a new block or a movement of\n     * an existing element.\n     *\n     * @param dragger The dragger to patch.\n     * @param moveType Whether this is an insert or a move.\n     */\n    patchDragger(dragger, moveType) {\n        if (moveType === MoveType.Insert) {\n            // Monkey patch dragger to trigger delete.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dragger.wouldDeleteDraggable = () => true;\n        }\n        else {\n            // Monkey patch dragger to trigger call to draggable.revertDrag.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dragger.shouldReturnToStart = () => true;\n        }\n    }\n}\n/**\n * Information about the currently in-progress move for a given\n * Workspace.\n */\nclass MoveInfo {\n    constructor(workspace, draggable, dragger, blurListener, onMoveFinished) {\n        var _a, _b, _c, _d;\n        this.workspace = workspace;\n        this.draggable = draggable;\n        this.dragger = dragger;\n        this.blurListener = blurListener;\n        /** Total distance moved, in workspace units. */\n        this.totalDelta = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0);\n        this.parentNext = null;\n        this.parentInput = null;\n        if (draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.parentNext = (_b = (_a = draggable.previousConnection) === null || _a === void 0 ? void 0 : _a.targetConnection) !== null && _b !== void 0 ? _b : null;\n            this.parentInput = (_d = (_c = draggable.outputConnection) === null || _c === void 0 ? void 0 : _c.targetConnection) !== null && _d !== void 0 ? _d : null;\n        }\n        this.startLocation = draggable.getRelativeToSurfaceXY();\n        this.onMoveFinished = onMoveFinished;\n    }\n    /**\n     * Create a fake pointer event for dragging.\n     *\n     * @param type Which type of pointer event to create.\n     * @param direction The direction if this movement is a constrained drag.\n     * @returns A synthetic PointerEvent that can be consumed by Blockly's\n     *     dragging code.\n     */\n    fakePointerEvent(type, direction) {\n        const coordinates = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.wsToScreenCoordinates(this.workspace, new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(this.startLocation.x + this.totalDelta.x, this.startLocation.y + this.totalDelta.y));\n        const tilts = (0,_drag_direction__WEBPACK_IMPORTED_MODULE_2__.getXYFromDirection)(direction);\n        return new PointerEvent(type, {\n            clientX: coordinates.x,\n            clientY: coordinates.y,\n            tiltX: tilts.x,\n            tiltY: tilts.y,\n        });\n    }\n    /**\n     * The keyboard drag may have moved a block to an appropriate location\n     * for a preview. Update the saved delta to reflect the element's new\n     * location, so that it does not jump during the next unconstrained move.\n     */\n    updateTotalDelta() {\n        if (this.draggable instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            this.totalDelta = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(this.draggable.relativeCoords.x - this.startLocation.x, this.draggable.relativeCoords.y - this.startLocation.y);\n        }\n        else {\n            this.totalDelta = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(this.draggable.getBoundingRectangle().left - this.startLocation.x, this.draggable.getBoundingRectangle().top - this.startLocation.y);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MENBQUssQ0FBQyxVQUFVLENBQ3BDLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQ2pFLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQ2pFLENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9hY3Rpb25zL21vdmVyLnRzPzEyNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgdHlwZSB7XG4gIElEcmFnZ2VyLFxuICBJRHJhZ1N0cmF0ZWd5LFxuICBSZW5kZXJlZENvbm5lY3Rpb24sXG4gIElEcmFnZ2FibGUsXG4gIElGb2N1c2FibGVOb2RlLFxuICBJQm91bmRlZEVsZW1lbnQsXG4gIElTZWxlY3RhYmxlLFxufSBmcm9tICdibG9ja2x5JztcbmltcG9ydCB7XG4gIENvbm5lY3Rpb24sXG4gIGRyYWdnaW5nLFxuICBnZXRGb2N1c01hbmFnZXIsXG4gIHJlZ2lzdHJ5LFxuICB1dGlscyxcbiAgV29ya3NwYWNlU3ZnLFxuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICBCbG9ja1N2ZyxcbiAgY29tbWVudHMsXG59IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQge0RpcmVjdGlvbiwgZ2V0WFlGcm9tRGlyZWN0aW9ufSBmcm9tICcuLi9kcmFnX2RpcmVjdGlvbic7XG5pbXBvcnQge0tleWJvYXJkRHJhZ1N0cmF0ZWd5fSBmcm9tICcuLi9rZXlib2FyZF9kcmFnX3N0cmF0ZWd5JztcbmltcG9ydCB7TmF2aWdhdGlvbn0gZnJvbSAnLi4vbmF2aWdhdGlvbic7XG5pbXBvcnQge2NsZWFyTW92ZUhpbnRzfSBmcm9tICcuLi9oaW50cyc7XG5pbXBvcnQge01vdmVJbmRpY2F0b3JCdWJibGV9IGZyb20gJy4uL21vdmVfaW5kaWNhdG9yJztcbmltcG9ydCB7aXNXb3Jrc3BhY2VFbGVtZW50LCBpc0Jsb2NrbHlVSUVsZW1lbnR9IGZyb20gJy4uL2RvbV91dGlscyc7XG5cbi8qKlxuICogVGhlIGRpc3RhbmNlIHRvIG1vdmUgYW4gaXRlbSwgaW4gd29ya3NwYWNlIGNvb3JkaW5hdGVzLCB3aGVuXG4gKiBtYWtpbmcgYW4gdW5jb25zdHJhaW5lZCBtb3ZlLlxuICovXG5jb25zdCBVTkNPTlNUUkFJTkVEX01PVkVfRElTVEFOQ0UgPSAyMDtcblxuLyoqXG4gKiBUaGUgYW1vdW50IG9mIGFkZGl0aW9uYWwgcGFkZGluZyB0byBpbmNsdWRlIGR1cmluZyBhIGNvbnN0cmFpbmVkIG1vdmUuXG4gKi9cbmNvbnN0IENPTlNUUkFJTkVEX0FERElUSU9OQUxfUEFERElORyA9IDcwO1xuXG4vKipcbiAqIElkZW50aWZpZXIgZm9yIGEga2V5Ym9hcmQgc2hvcnRjdXQgdGhhdCBjb21taXRzIHRoZSBpbi1wcm9ncmVzcyBtb3ZlLlxuICovXG5leHBvcnQgY29uc3QgQ09NTUlUX01PVkVfU0hPUlRDVVQgPSAnY29tbWl0TW92ZSc7XG5cbi8qKlxuICogV2hldGhlciB0aGlzIGlzIGFuIGluc2VydCBvciBhIG1vdmUuXG4gKi9cbmV4cG9ydCBlbnVtIE1vdmVUeXBlIHtcbiAgLyoqXG4gICAqIEFuIGluc2VydCB3aWxsIHJlbW92ZSB0aGUgYmxvY2sgaWYgdGhlIG1vdmUgaXMgYWJvcnRlZC5cbiAgICovXG4gIEluc2VydCxcbiAgLyoqXG4gICAqIEEgcmVndWxhciBtb3ZlIG9mIGEgcHJlLWV4aXN0aW5nIGJsb2NrLlxuICAgKi9cbiAgTW92ZSxcbn1cblxuLyoqXG4gKiBMb3ctbGV2ZWwgY29kZSBmb3IgbW92aW5nIGVsZW1lbnRzIHdpdGgga2V5Ym9hcmQgc2hvcnRjdXRzLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZXIge1xuICAvKipcbiAgICogTWFwIG9mIG1vdmVzIGluIHByb2dyZXNzLlxuICAgKlxuICAgKiBBbiBlbnRyeSBmb3IgYSBnaXZlbiB3b3Jrc3BhY2UgaW4gdGhpcyBtYXAgbWVhbnMgdGhhdCB0aGUgdGhpc1xuICAgKiBNb3ZlciBpcyBtb3ZpbmcgYW4gZWxlbWVudCBvbiB0aGF0IHdvcmtzcGFjZSwgYW5kIHdpbGwgZGlzYWJsZVxuICAgKiBub3JtYWwgY3Vyc29yIG1vdmVtZW50IHVudGlsIHRoZSBtb3ZlIGlzIGNvbXBsZXRlLlxuICAgKi9cbiAgcHJvdGVjdGVkIG1vdmVzOiBNYXA8V29ya3NwYWNlU3ZnLCBNb3ZlSW5mbz4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqIE9yaWdpbmFsIGRyYWcgc3RyYXRlZ2llcyBwZXItYmxvY2sgKFdlYWtNYXAgZm9yIGF1dG9tYXRpYyBnYXJiYWdlIGNvbGxlY3Rpb24pLiAqL1xuICBwcml2YXRlIG9sZERyYWdTdHJhdGVnaWVzOiBXZWFrTWFwPEJsb2NrU3ZnLCBJRHJhZ1N0cmF0ZWd5PiA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgcHJpdmF0ZSBtb3ZlSW5kaWNhdG9yPzogTW92ZUluZGljYXRvckJ1YmJsZTtcblxuICAvKiogV2hldGhlciBjb25uZWN0aW9uIGhpZ2hsaWdodGluZyBpcyBlbmFibGVkIGZvciBtb3Zlcy4gKi9cbiAgcHJpdmF0ZSBoaWdobGlnaHRDb25uZWN0aW9uczogYm9vbGVhbjtcblxuICAvKiogV2hldGhlciB0byB1c2UgZmF0dGVyIGNvbm5lY3Rpb24gaGlnaGxpZ2h0cyB3aXRoIGxhcmdlciBjbGljayB0YXJnZXRzLiAqL1xuICBwcml2YXRlIGZhdHRlckNvbm5lY3Rpb25zOiBib29sZWFuID0gdHJ1ZTtcblxuICAvKiogQ29ubmVjdGlvbiBoaWdobGlnaHQgc2l6ZTogbWluaW1hbCwgbWVkaXVtLCBvciBsYXJnZS4gKi9cbiAgcHJpdmF0ZSBjb25uZWN0aW9uU2l6ZTogJ21pbmltYWwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnID0gJ21lZGl1bSc7XG5cbiAgLyoqIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNoZWNrIGlmIGF1dG8tc2Nyb2xsaW5nIHNob3VsZCBiZSBkaXNhYmxlZC4gKi9cbiAgcHJpdmF0ZSBzaG91bGREaXNhYmxlQXV0b1Njcm9sbD86ICgpID0+IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIG5hdmlnYXRpb246IE5hdmlnYXRpb24sXG4gICAgaGlnaGxpZ2h0Q29ubmVjdGlvbnMgPSB0cnVlLFxuICAgIHNob3VsZERpc2FibGVBdXRvU2Nyb2xsPzogKCkgPT4gYm9vbGVhbixcbiAgKSB7XG4gICAgdGhpcy5oaWdobGlnaHRDb25uZWN0aW9ucyA9IGhpZ2hsaWdodENvbm5lY3Rpb25zO1xuICAgIHRoaXMuc2hvdWxkRGlzYWJsZUF1dG9TY3JvbGwgPSBzaG91bGREaXNhYmxlQXV0b1Njcm9sbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWZmIHdlIGFyZSBhYmxlIHRvIGJlZ2luIG1vdmluZyB0aGUgZHJhZ2dhYmxlIGVsZW1lbnQgd2hpY2hcbiAgICogY3VycmVudGx5IGhhcyBmb2N1cyBvbiB0aGUgZ2l2ZW4gd29ya3NwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gbW92ZSBvbi5cbiAgICogQHBhcmFtIGRyYWdnYWJsZSBUaGUgZHJhZ2dhYmxlIGVsZW1lbnQgdG8gdHJ5IHRvIGRyYWcuXG4gICAqIEByZXR1cm5zIFRydWUgaWZmIHdlIGNhbiBiZWdpbiBhIG1vdmUuXG4gICAqL1xuICBjYW5Nb3ZlKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLCBkcmFnZ2FibGU6IElEcmFnZ2FibGUpIHtcbiAgICByZXR1cm4gISEoXG4gICAgICB0aGlzLm5hdmlnYXRpb24uZ2V0U3RhdGUoKSA9PT0gQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRSAmJlxuICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlKSAmJlxuICAgICAgIXRoaXMubW92ZXMuaGFzKHdvcmtzcGFjZSkgJiYgLy8gTm8gbW92ZSBpbiBwcm9ncmVzcy5cbiAgICAgIGRyYWdnYWJsZT8uaXNNb3ZhYmxlKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZmYgd2UgYXJlIGN1cnJlbnRseSBtb3ZpbmcgYW4gZWxlbWVudCBvbiB0aGUgZ2l2ZW5cbiAgICogd29ya3NwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2Ugd2UgbWlnaHQgYmUgbW92aW5nIG9uLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmZiB3ZSBhcmUgbW92aW5nLlxuICAgKi9cbiAgaXNNb3Zpbmcod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlKSAmJiB0aGlzLm1vdmVzLmhhcyh3b3Jrc3BhY2UpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBjb25uZWN0aW9uIGhpZ2hsaWdodGluZyBkdXJpbmcgbW92ZSBvcGVyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZCBXaGV0aGVyIHRvIHNob3cgY29ubmVjdGlvbiBoaWdobGlnaHRzLlxuICAgKi9cbiAgc2V0SGlnaGxpZ2h0Q29ubmVjdGlvbnMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaGlnaGxpZ2h0Q29ubmVjdGlvbnMgPSBlbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGZhdHRlciBjb25uZWN0aW9uIGhpZ2hsaWdodHMuXG4gICAqXG4gICAqIEBwYXJhbSBlbmFibGVkIFdoZXRoZXIgdG8gdXNlIGZhdHRlciBjb25uZWN0aW9ucyB3aXRoIGxhcmdlciBjbGljayB0YXJnZXRzLlxuICAgKi9cbiAgc2V0RmF0dGVyQ29ubmVjdGlvbnMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZmF0dGVyQ29ubmVjdGlvbnMgPSBlbmFibGVkO1xuICAgIHRoaXMuY29ubmVjdGlvblNpemUgPSBlbmFibGVkID8gJ21lZGl1bScgOiAnbWluaW1hbCc7XG4gICAgLy8gVXBkYXRlIGFueSBhY3RpdmUgZHJhZyBzdHJhdGVnaWVzXG4gICAgZm9yIChjb25zdCBbX3dvcmtzcGFjZSwgbW92ZUluZm9dIG9mIHRoaXMubW92ZXMpIHtcbiAgICAgIGNvbnN0IGRyYWdTdHJhdGVneSA9IChtb3ZlSW5mby5kcmFnZ2FibGUgYXMgYW55KS5kcmFnU3RyYXRlZ3k7XG4gICAgICBpZiAoZHJhZ1N0cmF0ZWd5IGluc3RhbmNlb2YgS2V5Ym9hcmREcmFnU3RyYXRlZ3kpIHtcbiAgICAgICAgZHJhZ1N0cmF0ZWd5LnNldEZhdHRlckNvbm5lY3Rpb25zKGVuYWJsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IHNpemUuXG4gICAqXG4gICAqIEBwYXJhbSBzaXplIFRoZSBzaXplIGxldmVsOiAnbWluaW1hbCcsICdtZWRpdW0nLCBvciAnbGFyZ2UnLlxuICAgKi9cbiAgc2V0Q29ubmVjdGlvblNpemUoc2l6ZTogJ21pbmltYWwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnKTogdm9pZCB7XG4gICAgdGhpcy5jb25uZWN0aW9uU2l6ZSA9IHNpemU7XG4gICAgdGhpcy5mYXR0ZXJDb25uZWN0aW9ucyA9IHNpemUgIT09ICdtaW5pbWFsJztcbiAgICAvLyBVcGRhdGUgYW55IGFjdGl2ZSBkcmFnIHN0cmF0ZWdpZXNcbiAgICBmb3IgKGNvbnN0IFtfd29ya3NwYWNlLCBtb3ZlSW5mb10gb2YgdGhpcy5tb3Zlcykge1xuICAgICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gKG1vdmVJbmZvLmRyYWdnYWJsZSBhcyBhbnkpLmRyYWdTdHJhdGVneTtcbiAgICAgIGlmIChkcmFnU3RyYXRlZ3kgaW5zdGFuY2VvZiBLZXlib2FyZERyYWdTdHJhdGVneSkge1xuICAgICAgICBkcmFnU3RyYXRlZ3kuc2V0Q29ubmVjdGlvblNpemUoc2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IG1vdmluZyB0aGUgY3VycmVudGx5LWZvY3VzZWQgaXRlbSBvbiB3b3Jrc3BhY2UsIGlmXG4gICAqIHBvc3NpYmxlLlxuICAgKlxuICAgKiBTaG91bGQgb25seSBiZSBjYWxsZWQgaWYgY2FuTW92ZSBoYXMgcmV0dXJuZWQgdHJ1ZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHdlIG1pZ2h0IGJlIG1vdmluZyBvbi5cbiAgICogQHBhcmFtIGRyYWdnYWJsZSBUaGUgZWxlbWVudCB0byBzdGFydCBkcmFnZ2luZy5cbiAgICogQHBhcmFtIG1vdmVUeXBlIFdoZXRoZXIgdGhpcyBpcyBhbiBpbnNlcnQgb3IgYSBtb3ZlLlxuICAgKiBAcGFyYW0gc3RhcnRQb2ludCBXaGVyZSB0byBzdGFydCB0aGUgbW92ZSwgb3IgbnVsbCB0byB1c2UgdGhlIGN1cnJlbnRcbiAgICogICAgIGxvY2F0aW9uIGlmIGFueS5cbiAgICogQHJldHVybnMgVHJ1ZSBpZmYgYSBtb3ZlIGhhcyBzdWNjZXNzZnVsbHkgYmVndW4uXG4gICAqIEBwYXJhbSBvbk1vdmVGaW5pc2hlZCBPcHRpb25hbCBjYWxsYmFjayB3aGVuIG1vdmUgZmluaXNoZXMuXG4gICAqL1xuICBzdGFydE1vdmUoXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICAgZHJhZ2dhYmxlOiBJRHJhZ2dhYmxlICYgSUZvY3VzYWJsZU5vZGUgJiBJQm91bmRlZEVsZW1lbnQgJiBJU2VsZWN0YWJsZSxcbiAgICBtb3ZlVHlwZTogTW92ZVR5cGUsXG4gICAgc3RhcnRQb2ludDogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCxcbiAgICBvbk1vdmVGaW5pc2hlZD86ICgpID0+IHZvaWQsXG4gICkge1xuICAgIGlmIChkcmFnZ2FibGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgdGhpcy5wYXRjaERyYWdTdHJhdGVneShkcmFnZ2FibGUsIG1vdmVUeXBlLCBzdGFydFBvaW50LCBvbk1vdmVGaW5pc2hlZCk7XG4gICAgfSBlbHNlIGlmIChkcmFnZ2FibGUgaW5zdGFuY2VvZiBjb21tZW50cy5SZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQpIHtcbiAgICAgIHRoaXMubW92ZUluZGljYXRvciA9IG5ldyBNb3ZlSW5kaWNhdG9yQnViYmxlKGRyYWdnYWJsZSk7XG4gICAgfVxuICAgIC8vIEJlZ2luIGRyYWdnaW5nIGVsZW1lbnQuXG4gICAgY29uc3QgRHJhZ2dlckNsYXNzID0gcmVnaXN0cnkuZ2V0Q2xhc3NGcm9tT3B0aW9ucyhcbiAgICAgIHJlZ2lzdHJ5LlR5cGUuQkxPQ0tfRFJBR0dFUixcbiAgICAgIHdvcmtzcGFjZS5vcHRpb25zLFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICAgIGlmICghRHJhZ2dlckNsYXNzKSB0aHJvdyBuZXcgRXJyb3IoJ25vIERyYWdnZXIgcmVnaXN0ZXJlZCcpO1xuICAgIGNvbnN0IGRyYWdnZXIgPSBuZXcgRHJhZ2dlckNsYXNzKGRyYWdnYWJsZSwgd29ya3NwYWNlKTtcblxuICAgIC8vIFNldCB1cCBhIGJsdXIgbGlzdGVuZXIgdG8gZW5kIHRoZSBtb3ZlIGlmIHRoZSB1c2VyIGNsaWNrcyBhd2F5XG4gICAgICBjb25zdCBibHVyTGlzdGVuZXIgPSAoZXZ0OiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSBldnQgYXMgRm9jdXNFdmVudDtcblxuICAgICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gKGRyYWdnYWJsZSBhcyBhbnkpLmRyYWdTdHJhdGVneTtcbiAgICAgIGNvbnN0IGlzQ2xpY2tBbmRTdGljayA9IGRyYWdTdHJhdGVneT8uaXNDbGlja0FuZFN0aWNrTW9kZT8uKCk7XG5cbiAgICAgIGNvbnN0IG5ld0ZvY3VzVGFyZ2V0ID0gZXZlbnQucmVsYXRlZFRhcmdldCBhcyBhbnk7XG4gICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBpZiBuZXdGb2N1c1RhcmdldCBpcyBudWxsIGFuZCBhY3RpdmVFbGVtZW50IGlzIGJvZHksXG4gICAgICAvLyBpdCBtZWFucyB3ZSBjbGlja2VkIG9uIGEgbm9uLWZvY3VzYWJsZSBlbGVtZW50IChsaWtlIGRpdnMgaW4gb3B0aW9ucyBwYW5lbCkuXG4gICAgICAvLyBUaGlzIGlzIG1vc3QgbGlrZWx5IGNsaWNraW5nIG91dHNpZGUgQmxvY2tseSBVSSwgc28gYWJvcnQgdGhlIG1vdmUuXG4gICAgICBjb25zdCBibHVycmVkVG9Cb2R5ID0gIW5ld0ZvY3VzVGFyZ2V0ICYmIGFjdGl2ZUVsZW1lbnQ/LnRhZ05hbWUgPT09ICdCT0RZJztcblxuICAgICAgaWYgKGJsdXJyZWRUb0JvZHkpIHtcbiAgICAgICAgdGhpcy5hYm9ydE1vdmUod29ya3NwYWNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiB3ZSBleHBsaWNpdGx5IGNsaWNrZWQgb24gYSBCbG9ja2x5IFVJIGVsZW1lbnRcbiAgICAgIGNvbnN0IG5ld1RhcmdldElzQmxvY2tseSA9IG5ld0ZvY3VzVGFyZ2V0ID8gaXNCbG9ja2x5VUlFbGVtZW50KG5ld0ZvY3VzVGFyZ2V0KSA6IGZhbHNlO1xuICAgICAgY29uc3QgYWN0aXZlSXNCbG9ja2x5ID0gYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LnRhZ05hbWUgIT09ICdCT0RZJyA/IGlzQmxvY2tseVVJRWxlbWVudChhY3RpdmVFbGVtZW50KSA6IGZhbHNlO1xuICAgICAgY29uc3QgY2xpY2tlZE91dHNpZGVCbG9ja2x5ID0gbmV3Rm9jdXNUYXJnZXQgJiYgIW5ld1RhcmdldElzQmxvY2tseSAmJiAhYWN0aXZlSXNCbG9ja2x5O1xuXG4gICAgICBpZiAoY2xpY2tlZE91dHNpZGVCbG9ja2x5KSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSBtb3ZlIGlmIGNsaWNraW5nIG91dHNpZGUgdGhlIEJsb2NrbHkgVUkgZW50aXJlbHlcbiAgICAgICAgdGhpcy5hYm9ydE1vdmUod29ya3NwYWNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzQ2xpY2tBbmRTdGljaykge1xuICAgICAgICAvLyBJbiBub3JtYWwgbW92ZSBtb2RlOiBjaGVjayBpZiB3ZSdyZSBjbGlja2luZyBvbiBhIGNvbm5lY3Rpb24gaGlnaGxpZ2h0XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBjbGljayB0YXJnZXQgaXMgYSBjb25uZWN0aW9uIGhpZ2hsaWdodCBvciBpdHMgZGVzY2VuZGFudFxuICAgICAgICBjb25zdCBpc0Nvbm5lY3Rpb25IaWdobGlnaHQgPVxuICAgICAgICAgIChuZXdGb2N1c1RhcmdldCAmJiB0aGlzLmlzQ29ubmVjdGlvbkhpZ2hsaWdodEVsZW1lbnQobmV3Rm9jdXNUYXJnZXQpKSB8fFxuICAgICAgICAgIChhY3RpdmVFbGVtZW50ICYmIHRoaXMuaXNDb25uZWN0aW9uSGlnaGxpZ2h0RWxlbWVudChhY3RpdmVFbGVtZW50KSk7XG5cbiAgICAgICAgLy8gRG9uJ3QgYXV0by1maW5pc2ggaWYgY2xpY2tpbmcgb24gYSBjb25uZWN0aW9uIGhpZ2hsaWdodFxuICAgICAgICAvLyBUaGUgY29ubmVjdGlvbiBjbGljayBoYW5kbGVyIHdpbGwgZmluaXNoIHRoZSBtb3ZlXG4gICAgICAgIGlmICghaXNDb25uZWN0aW9uSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5maW5pc2hNb3ZlKHdvcmtzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJbiBjbGljay1hbmQtc3RpY2sgbW9kZTogb25seSBhdXRvLWZpbmlzaCBpZiBmb2N1cyBtb3ZlZCB0byBtZWFuaW5nZnVsIFVJXG4gICAgICBjb25zdCBpc1dvcmtzcGFjZUJhY2tncm91bmQgPVxuICAgICAgICBpc1dvcmtzcGFjZUVsZW1lbnQobmV3Rm9jdXNUYXJnZXQpIHx8XG4gICAgICAgIGlzV29ya3NwYWNlRWxlbWVudChhY3RpdmVFbGVtZW50KTtcblxuICAgICAgaWYgKCFpc1dvcmtzcGFjZUJhY2tncm91bmQpIHtcbiAgICAgICAgdGhpcy5maW5pc2hNb3ZlKHdvcmtzcGFjZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBSZWNvcmQgdGhhdCBhIG1vdmUgaXMgaW4gcHJvZ3Jlc3MgYW5kIHN0YXJ0IGRyYWdnaW5nLlxuICAgIHdvcmtzcGFjZS5zZXRLZXlib2FyZE1vdmVJblByb2dyZXNzKHRydWUpO1xuICAgIGNvbnN0IGluZm8gPSBuZXcgTW92ZUluZm8od29ya3NwYWNlLCBkcmFnZ2FibGUsIGRyYWdnZXIsIGJsdXJMaXN0ZW5lciwgb25Nb3ZlRmluaXNoZWQpO1xuICAgIHRoaXMubW92ZXMuc2V0KHdvcmtzcGFjZSwgaW5mbyk7XG4gICAgLy8gQmVnaW4gZHJhZy5cbiAgICBkcmFnZ2VyLm9uRHJhZ1N0YXJ0KGluZm8uZmFrZVBvaW50ZXJFdmVudCgncG9pbnRlcmRvd24nKSk7XG4gICAgaW5mby51cGRhdGVUb3RhbERlbHRhKCk7XG4gICAgLy8gSW4gY2FzZSBhIGJsb2NrIGlzIGRldGFjaGVkLCBlbnN1cmUgdGhhdCBpdCBzdGlsbCByZXRhaW5zIGZvY3VzXG4gICAgLy8gKG90aGVyd2lzZSBkcmFnZ2luZyB3aWxsIGJyZWFrKS4gVGhpcyBpcyBhbHNvIHRoZSBwb2ludCBhIG5ldyBibG9jaydzXG4gICAgLy8gaW5pdGlhbCBpbnNlcnQgcG9zaXRpb24gaXMgc2Nyb2xsZWQgaW50byB2aWV3LlxuICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKGRyYWdnYWJsZSk7XG4gICAgZHJhZ2dhYmxlLmdldEZvY3VzYWJsZUVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckxpc3RlbmVyKTtcblxuICAgIC8vIFJlZ2lzdGVyIGEga2V5Ym9hcmQgc2hvcnRjdXQgdW5kZXIgdGhlIGtleSBjb21ib3Mgb2YgYWxsIGV4aXN0aW5nXG4gICAgLy8ga2V5Ym9hcmQgc2hvcnRjdXRzIHRoYXQgY29tbWl0cyB0aGUgbW92ZSBiZWZvcmUgYWxsb3dpbmcgdGhlIHJlYWxcbiAgICAvLyBzaG9ydGN1dCB0byBwcm9jZWVkLiBUaGlzIGF2b2lkcyBhbGwga2luZHMgb2YgZnVuIGJyb2tlbm5lc3Mgd2hlblxuICAgIC8vIGRlbGV0aW5nL2NvcHlpbmcvb3RoZXJ3aXNlIGFjdGluZyBvbiBhIGVsZW1lbnQgaW4gbW92ZSBtb2RlLlxuICAgIGNvbnN0IHNob3J0Y3V0S2V5cyA9IE9iamVjdC52YWx1ZXMoU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5nZXRSZWdpc3RyeSgpKVxuICAgICAgLmZsYXRNYXAoKHNob3J0Y3V0KSA9PiBzaG9ydGN1dC5rZXlDb2RlcylcbiAgICAgIC5maWx0ZXIoKGtleUNvZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBrZXlDb2RlICYmXG4gICAgICAgICAgIVtcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLlJJR0hULFxuICAgICAgICAgICAgdXRpbHMuS2V5Q29kZXMuTEVGVCxcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLlVQLFxuICAgICAgICAgICAgdXRpbHMuS2V5Q29kZXMuRE9XTixcbiAgICAgICAgICAgIHV0aWxzLktleUNvZGVzLkVOVEVSLFxuICAgICAgICAgICAgdXRpbHMuS2V5Q29kZXMuRVNDLFxuICAgICAgICAgICAgdXRpbHMuS2V5Q29kZXMuTSxcbiAgICAgICAgICBdLmluY2x1ZGVzKFxuICAgICAgICAgICAgdHlwZW9mIGtleUNvZGUgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgID8ga2V5Q29kZVxuICAgICAgICAgICAgICA6IHBhcnNlSW50KGAke2tleUNvZGUuc3BsaXQoJysnKS5wb3AoKX1gKSxcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLy8gQ29udmluY2UgVFMgdGhlcmUgYXJlbid0IHVuZGVmaW5lZCB2YWx1ZXMuXG4gICAgICAuZmlsdGVyKChrZXlDb2RlKToga2V5Q29kZSBpcyBzdHJpbmcgfCBudW1iZXIgPT4gISFrZXlDb2RlKTtcblxuICAgIGNvbnN0IGNvbW1pdE1vdmVTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENPTU1JVF9NT1ZFX1NIT1JUQ1VULFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZykgPT4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLm1vdmVzLmdldCh3b3Jrc3BhY2UpO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpID0+IHtcbiAgICAgICAgdGhpcy5maW5pc2hNb3ZlKHdvcmtzcGFjZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBrZXlDb2Rlczogc2hvcnRjdXRLZXlzLFxuICAgICAgYWxsb3dDb2xsaXNpb246IHRydWUsXG4gICAgfTtcblxuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoY29tbWl0TW92ZVNob3J0Y3V0KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmlzaCBtb3ZpbmcgdGhlIGN1cnJlbnRseS1mb2N1c2VkIGl0ZW0gb24gd29ya3NwYWNlLlxuICAgKlxuICAgKiBTaG91bGQgb25seSBiZSBjYWxsZWQgaWYgaXNNb3ZpbmcgaGFzIHJldHVybmVkIHRydWUuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSBvbiB3aGljaCB3ZSBhcmUgbW92aW5nLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmZiBtb3ZlIHN1Y2Nlc3NmdWxseSBmaW5pc2hlZC5cbiAgICovXG4gIGZpbmlzaE1vdmUod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICBpZiAoIXRoaXMubW92ZXMuaGFzKHdvcmtzcGFjZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmZvID0gdGhpcy5wcmVEcmFnRW5kQ2xlYW51cCh3b3Jrc3BhY2UpO1xuXG4gICAgaW5mby5kcmFnZ2VyLm9uRHJhZ0VuZChcbiAgICAgIGluZm8uZmFrZVBvaW50ZXJFdmVudCgncG9pbnRlcnVwJyksXG4gICAgICBuZXcgdXRpbHMuQ29vcmRpbmF0ZSgwLCAwKSxcbiAgICApO1xuXG4gICAgdGhpcy5wb3N0RHJhZ0VuZENsZWFudXAod29ya3NwYWNlLCBpbmZvKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBYm9ydCBtb3ZpbmcgdGhlIGN1cnJlbnRseS1mb2N1c2VkIGl0ZW0gb24gd29ya3NwYWNlLlxuICAgKlxuICAgKiBTaG91bGQgb25seSBiZSBjYWxsZWQgaWYgaXNNb3ZpbmcgaGFzIHJldHVybmVkIHRydWUuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSBvbiB3aGljaCB3ZSBhcmUgbW92aW5nLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmZiBtb3ZlIHN1Y2Nlc3NmdWxseSBhYm9ydGVkLlxuICAgKi9cbiAgYWJvcnRNb3ZlKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgaWYgKCF0aGlzLm1vdmVzLmhhcyh3b3Jrc3BhY2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgaW5mbyA9IHRoaXMucHJlRHJhZ0VuZENsZWFudXAod29ya3NwYWNlKTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gKGluZm8uZHJhZ2dhYmxlIGFzIGFueSlcbiAgICAgIC5kcmFnU3RyYXRlZ3kgYXMgS2V5Ym9hcmREcmFnU3RyYXRlZ3k7XG4gICAgdGhpcy5wYXRjaERyYWdnZXIoaW5mby5kcmFnZ2VyIGFzIGRyYWdnaW5nLkRyYWdnZXIsIGRyYWdTdHJhdGVneS5tb3ZlVHlwZSk7XG5cbiAgICAvLyBTYXZlIHRoZSBwb3NpdGlvbiBzbyB3ZSBjYW4gcHV0IHRoZSBjdXJzb3IgaW4gYSByZWFzb25hYmxlIHNwb3QuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBY2Nlc3MgdG8gcHJpdmF0ZSBwcm9wZXJ0eSBjb25uZWN0aW9uQ2FuZGlkYXRlLlxuICAgIGNvbnN0IHRhcmdldCA9IGRyYWdTdHJhdGVneS5jb25uZWN0aW9uQ2FuZGlkYXRlPy5uZWlnaGJvdXI7XG5cbiAgICAvLyBQcmV2ZW50IHRoZSBzdHJhdGVneSBjb25uZWN0aW5nIHRoZSBibG9jayBzbyB3ZSBqdXN0IGRlbGV0ZSBvbmUgYmxvY2suXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBY2Nlc3MgdG8gcHJpdmF0ZSBwcm9wZXJ0eSBjb25uZWN0aW9uQ2FuZGlkYXRlLlxuICAgIGRyYWdTdHJhdGVneS5jb25uZWN0aW9uQ2FuZGlkYXRlID0gbnVsbDtcblxuICAgIGluZm8uZHJhZ2dlci5vbkRyYWdFbmQoXG4gICAgICBpbmZvLmZha2VQb2ludGVyRXZlbnQoJ3BvaW50ZXJ1cCcpLFxuICAgICAgaW5mby5zdGFydExvY2F0aW9uLFxuICAgICk7XG5cbiAgICBpZiAoZHJhZ1N0cmF0ZWd5Lm1vdmVUeXBlID09PSBNb3ZlVHlwZS5JbnNlcnQgJiYgdGFyZ2V0KSB7XG4gICAgICB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZSh0YXJnZXQpO1xuICAgIH1cblxuICAgIHRoaXMucG9zdERyYWdFbmRDbGVhbnVwKHdvcmtzcGFjZSwgaW5mbyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ29tbW9uIGNsZWFuLXVwIGZvciBmaW5pc2gvYWJvcnQuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSBvbiB3aGljaCB3ZSBhcmUgbW92aW5nLlxuICAgKiBAcmV0dXJucyBUaGUgaW5mbyBmb3IgdGhlIGVsZW1lbnQuXG4gICAqL1xuICBwcml2YXRlIHByZURyYWdFbmRDbGVhbnVwKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKENPTU1JVF9NT1ZFX1NIT1JUQ1VUKTtcbiAgICBjbGVhck1vdmVIaW50cyh3b3Jrc3BhY2UpO1xuXG4gICAgY29uc3QgaW5mbyA9IHRoaXMubW92ZXMuZ2V0KHdvcmtzcGFjZSk7XG4gICAgaWYgKCFpbmZvKSB0aHJvdyBuZXcgRXJyb3IoJ25vIG1vdmUgaW5mbyBmb3Igd29ya3NwYWNlJyk7XG5cbiAgICAvLyBSZW1vdmUgdGhlIGJsdXIgbGlzdGVuZXIgYmVmb3JlIGVuZGluZyB0aGUgZHJhZ1xuICAgIGluZm8uZHJhZ2dhYmxlXG4gICAgICAuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpXG4gICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGluZm8uYmx1ckxpc3RlbmVyKTtcblxuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbW1vbiBjbGVhbi11cCBmb3IgZmluaXNoL2Fib3J0LlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2Ugb24gd2hpY2ggd2UgYXJlIG1vdmluZy5cbiAgICogQHBhcmFtIGluZm8gVGhlIGluZm8gZm9yIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBwb3N0RHJhZ0VuZENsZWFudXAod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsIGluZm86IE1vdmVJbmZvKSB7XG4gICAgdGhpcy5tb3ZlSW5kaWNhdG9yPy5kaXNwb3NlKCk7XG4gICAgdGhpcy5tb3ZlSW5kaWNhdG9yID0gdW5kZWZpbmVkO1xuICAgIGlmIChpbmZvLmRyYWdnYWJsZSBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICB0aGlzLnVucGF0Y2hEcmFnU3RyYXRlZ3koaW5mby5kcmFnZ2FibGUpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVzLmRlbGV0ZSh3b3Jrc3BhY2UpO1xuICAgIHdvcmtzcGFjZS5zZXRLZXlib2FyZE1vdmVJblByb2dyZXNzKGZhbHNlKTtcblxuICAgIGlmIChpbmZvLm9uTW92ZUZpbmlzaGVkKSB7XG4gICAgICBpbmZvLm9uTW92ZUZpbmlzaGVkKCk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIG9uIG5leHQgZnJhbWUgZm9yIHByb3BlciBibG9jayBwb3NpdGlvbmluZ1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAoaW5mby5kcmFnZ2FibGUgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICBsZXQgcm9vdEJsb2NrID0gaW5mby5kcmFnZ2FibGU7XG4gICAgICAgIGxldCBwYXJlbnQgPSBpbmZvLmRyYWdnYWJsZS5nZXRQYXJlbnQoKTtcbiAgICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICAgICAgcm9vdEJsb2NrID0gcGFyZW50O1xuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnQoKSBhcyBCbG9ja1N2ZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3RCbG9jay5yZW5kZXIoKTtcblxuICAgICAgICBpZiAocm9vdEJsb2NrICE9PSBpbmZvLmRyYWdnYWJsZSkge1xuICAgICAgICAgIGluZm8uZHJhZ2dhYmxlLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdvcmtzcGFjZS5yZW5kZXIoKTtcbiAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudEVsZW1lbnRJbnRvVmlldyh3b3Jrc3BhY2UpO1xuICAgICAgZ2V0Rm9jdXNNYW5hZ2VyKCkuZm9jdXNOb2RlKGluZm8uZHJhZ2dhYmxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3Rpb24gdG8gbW92ZSB0aGUgaXRlbSBiZWluZyBtb3ZlZCBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLFxuICAgKiBjb25zdHJhaW5lZCB0byB2YWxpZCBhdHRhY2htZW50IHBvaW50cyAoaWYgYW55KS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIG1vdmUgb24uXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiB0byBtb3ZlIHRoZSBkcmFnZ2VkIGl0ZW0uXG4gICAqIEByZXR1cm5zIFRydWUgaWZmIHRoaXMgYWN0aW9uIGFwcGxpZXMgYW5kIGhhcyBiZWVuIHBlcmZvcm1lZC5cbiAgICovXG4gIG1vdmVDb25zdHJhaW5lZCh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZywgZGlyZWN0aW9uOiBEaXJlY3Rpb24pIHtcbiAgICBpZiAoIXdvcmtzcGFjZSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLm1vdmVzLmdldCh3b3Jrc3BhY2UpO1xuICAgIGlmICghaW5mbykgdGhyb3cgbmV3IEVycm9yKCdubyBtb3ZlIGluZm8gZm9yIHdvcmtzcGFjZScpO1xuXG4gICAgaWYgKGluZm8uZHJhZ2dhYmxlIGluc3RhbmNlb2YgY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3ZlVW5jb25zdHJhaW5lZCh3b3Jrc3BhY2UsIGRpcmVjdGlvbik7XG4gICAgfVxuXG4gICAgaW5mby5kcmFnZ2VyLm9uRHJhZyhcbiAgICAgIGluZm8uZmFrZVBvaW50ZXJFdmVudCgncG9pbnRlcm1vdmUnLCBkaXJlY3Rpb24pLFxuICAgICAgaW5mby50b3RhbERlbHRhLmNsb25lKCkuc2NhbGUod29ya3NwYWNlLnNjYWxlKSxcbiAgICApO1xuXG4gICAgaW5mby51cGRhdGVUb3RhbERlbHRhKCk7XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50RWxlbWVudEludG9WaWV3KFxuICAgICAgd29ya3NwYWNlLFxuICAgICAgQ09OU1RSQUlORURfQURESVRJT05BTF9QQURESU5HLFxuICAgICk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWN0aW9uIHRvIG1vdmUgdGhlIGl0ZW0gYmVpbmcgbW92ZWQgaW4gdGhlIGdpdmVuIGRpcmVjdGlvbixcbiAgICogd2l0aG91dCBjb25zdHJhaW50LlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gbW92ZSBvbi5cbiAgICogQHBhcmFtIGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIHRvIG1vdmUgdGhlIGRyYWdnZWQgaXRlbS5cbiAgICogQHJldHVybnMgVHJ1ZSBpZmYgdGhpcyBhY3Rpb24gYXBwbGllcyBhbmQgaGFzIGJlZW4gcGVyZm9ybWVkLlxuICAgKi9cbiAgbW92ZVVuY29uc3RyYWluZWQod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsIGRpcmVjdGlvbjogRGlyZWN0aW9uKTogYm9vbGVhbiB7XG4gICAgaWYgKCF3b3Jrc3BhY2UpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5tb3Zlcy5nZXQod29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHRocm93IG5ldyBFcnJvcignbm8gbW92ZSBpbmZvIGZvciB3b3Jrc3BhY2UnKTtcblxuICAgIGNvbnN0IHt4LCB5fSA9IGdldFhZRnJvbURpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgIGluZm8udG90YWxEZWx0YS54ICs9IHggKiBVTkNPTlNUUkFJTkVEX01PVkVfRElTVEFOQ0UgKiB3b3Jrc3BhY2Uuc2NhbGU7XG4gICAgaW5mby50b3RhbERlbHRhLnkgKz0geSAqIFVOQ09OU1RSQUlORURfTU9WRV9ESVNUQU5DRSAqIHdvcmtzcGFjZS5zY2FsZTtcblxuICAgIGluZm8uZHJhZ2dlci5vbkRyYWcoXG4gICAgICBpbmZvLmZha2VQb2ludGVyRXZlbnQoJ3BvaW50ZXJtb3ZlJyksXG4gICAgICBpbmZvLnRvdGFsRGVsdGEuY2xvbmUoKS5zY2FsZSh3b3Jrc3BhY2Uuc2NhbGUpLFxuICAgICk7XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50RWxlbWVudEludG9WaWV3KHdvcmtzcGFjZSk7XG4gICAgdGhpcy5tb3ZlSW5kaWNhdG9yPy51cGRhdGVMb2NhdGlvbigpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vbmtleXBhdGNoOiByZXBsYWNlIHRoZSBibG9jaydzIGRyYWcgc3RyYXRlZ3kgYW5kIGNhY2hlIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayBUaGUgYmxvY2sgdG8gcGF0Y2guXG4gICAqIEBwYXJhbSBtb3ZlVHlwZSBXaGV0aGVyIHRoaXMgaXMgYW4gaW5zZXJ0IG9yIGEgbW92ZS5cbiAgICogQHBhcmFtIHN0YXJ0UG9pbnQgV2hlcmUgdG8gc3RhcnQgdGhlIG1vdmUsIG9yIG51bGwgdG8gdXNlIHRoZSBjdXJyZW50XG4gICAqICAgICBsb2NhdGlvbiBpZiBhbnkuXG4gICAqIEBwYXJhbSBvbk1vdmVGaW5pc2hlZFxuICAgKi9cbiAgcHJpdmF0ZSBwYXRjaERyYWdTdHJhdGVneShcbiAgICBibG9jazogQmxvY2tTdmcsXG4gICAgbW92ZVR5cGU6IE1vdmVUeXBlLFxuICAgIHN0YXJ0UG9pbnQ6IFJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICAgb25Nb3ZlRmluaXNoZWQ/OiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGJsb2NrLmRyYWdTdHJhdGVneSBpcyBwcml2YXRlLlxuICAgIGNvbnN0IGN1cnJlbnRTdHJhdGVneSA9IGJsb2NrLmRyYWdTdHJhdGVneTtcblxuICAgIHRoaXMub2xkRHJhZ1N0cmF0ZWdpZXMuc2V0KGJsb2NrLCBjdXJyZW50U3RyYXRlZ3kpO1xuXG4gICAgY29uc3Qgb25Nb3ZlQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBjb25zdCB3b3Jrc3BhY2UgPSBibG9jay53b3Jrc3BhY2UgYXMgV29ya3NwYWNlU3ZnO1xuICAgICAgdGhpcy5maW5pc2hNb3ZlKHdvcmtzcGFjZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGtleWJvYXJkRHJhZ1N0cmF0ZWd5ID0gbmV3IEtleWJvYXJkRHJhZ1N0cmF0ZWd5KFxuICAgICAgYmxvY2ssXG4gICAgICBtb3ZlVHlwZSxcbiAgICAgIHN0YXJ0UG9pbnQsXG4gICAgICB0aGlzLmhpZ2hsaWdodENvbm5lY3Rpb25zLFxuICAgICAgb25Nb3ZlQ29tcGxldGUsXG4gICAgICBvbk1vdmVGaW5pc2hlZCxcbiAgICApO1xuICAgIGtleWJvYXJkRHJhZ1N0cmF0ZWd5LnNldEZhdHRlckNvbm5lY3Rpb25zKHRoaXMuZmF0dGVyQ29ubmVjdGlvbnMpO1xuICAgIGtleWJvYXJkRHJhZ1N0cmF0ZWd5LnNldENvbm5lY3Rpb25TaXplKHRoaXMuY29ubmVjdGlvblNpemUpO1xuICAgIGJsb2NrLnNldERyYWdTdHJhdGVneShrZXlib2FyZERyYWdTdHJhdGVneSk7XG4gIH1cblxuICAvKipcbiAgICogVW5kbyB0aGUgbW9ua2V5cGF0Y2hpbmcgb2YgdGhlIGJsb2NrJ3MgZHJhZyBzdHJhdGVneS5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBwYXRjaC5cbiAgICovXG4gIHByaXZhdGUgdW5wYXRjaERyYWdTdHJhdGVneShibG9jazogQmxvY2tTdmcpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBibG9jay5kcmFnU3RyYXRlZ3kgaXMgcHJpdmF0ZVxuICAgICAgY29uc3QgY3VycmVudFN0cmF0ZWd5ID0gYmxvY2suZHJhZ1N0cmF0ZWd5O1xuICAgICAgaWYgKGN1cnJlbnRTdHJhdGVneSBpbnN0YW5jZW9mIEtleWJvYXJkRHJhZ1N0cmF0ZWd5KSB7XG4gICAgICAgIGN1cnJlbnRTdHJhdGVneS5zZXRDbGlja0FuZFN0aWNrTW9kZShmYWxzZSk7XG4gICAgICAgIGN1cnJlbnRTdHJhdGVneS5jb25uZWN0aW9uSGlnaGxpZ2h0ZXIuY2xlYXJIaWdobGlnaHRzKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9sZFN0cmF0ZWd5ID0gdGhpcy5vbGREcmFnU3RyYXRlZ2llcy5nZXQoYmxvY2spO1xuICAgICAgaWYgKG9sZFN0cmF0ZWd5KSB7XG4gICAgICAgIGJsb2NrLnNldERyYWdTdHJhdGVneShvbGRTdHJhdGVneSk7XG4gICAgICAgIHRoaXMub2xkRHJhZ1N0cmF0ZWdpZXMuZGVsZXRlKGJsb2NrKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU2lsZW50bHkgZmFpbCBkdXJpbmcgY2xlYW51cFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRoZSBjdXJyZW50IGVsZW1lbnQgaW50byB2aWV3LlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gZ2V0IGN1cnJlbnQgZWxlbWVudCBmcm9tLlxuICAgKiBAcGFyYW0gcGFkZGluZyBBbW91bnQgb2Ygc3BhY2luZyB0byBwdXQgYmV0d2VlbiB0aGUgYm91bmRzIGFuZCB0aGUgZWRnZSBvZlxuICAgKiAgICAgdGhlIHdvcmtzcGFjZSdzIHZpZXdwb3J0LlxuICAgKi9cbiAgcHJpdmF0ZSBzY3JvbGxDdXJyZW50RWxlbWVudEludG9WaWV3KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLCBwYWRkaW5nID0gMCkge1xuICAgIGlmICh0aGlzLnNob3VsZERpc2FibGVBdXRvU2Nyb2xsPy4oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYWdnYWJsZSA9IHRoaXMubW92ZXMuZ2V0KHdvcmtzcGFjZSk/LmRyYWdnYWJsZTtcbiAgICBpZiAoZHJhZ2dhYmxlKSB7XG4gICAgICBjb25zdCBib3VuZHMgPSAoXG4gICAgICAgIGRyYWdnYWJsZSBpbnN0YW5jZW9mIEJsb2NrU3ZnXG4gICAgICAgICAgPyBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdSZWN0YW5nbGVXaXRob3V0Q2hpbGRyZW4oKVxuICAgICAgICAgIDogZHJhZ2dhYmxlLmdldEJvdW5kaW5nUmVjdGFuZ2xlKClcbiAgICAgICkuY2xvbmUoKTtcbiAgICAgIGJvdW5kcy50b3AgLT0gcGFkZGluZztcbiAgICAgIGJvdW5kcy5ib3R0b20gKz0gcGFkZGluZztcbiAgICAgIGJvdW5kcy5sZWZ0IC09IHBhZGRpbmc7XG4gICAgICBib3VuZHMucmlnaHQgKz0gcGFkZGluZztcbiAgICAgIHdvcmtzcGFjZS5zY3JvbGxCb3VuZHNJbnRvVmlldyhib3VuZHMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYW4gZWxlbWVudCBpcyBhIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IG9yIGlzIGNvbnRhaW5lZCB3aXRoaW4gb25lLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBjaGVjay5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyBvciBpcyBpbnNpZGUgYSBjb25uZWN0aW9uIGhpZ2hsaWdodC5cbiAgICovXG4gIHByaXZhdGUgaXNDb25uZWN0aW9uSGlnaGxpZ2h0RWxlbWVudChlbGVtZW50OiBhbnkpOiBib29sZWFuIHtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQuY2xhc3NMaXN0KSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGVsZW1lbnQgb3IgYW55IGFuY2VzdG9yIGhhcyB0aGUgY29ubmVjdGlvbiBoaWdobGlnaHQgY2xhc3NcbiAgICBsZXQgY3VycmVudCA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3Q/LmNvbnRhaW5zKCdibG9ja2x5UG90ZW50aWFsQ29ubmVjdGlvbicpIHx8XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0Py5jb250YWlucygnYmxvY2tseUNvbm5lY3Rpb25IaWdobGlnaHRMYXllcicpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogTW9ua2V5cGF0Y2g6IG92ZXJyaWRlIGVpdGhlciB3b3VsZERlbGV0ZURyYWdnYWJsZSBvciBzaG91bGRSZXR1cm5Ub1N0YXJ0LFxuICAgKiBiYXNlZCBvbiB3aGV0aGVyIHRoaXMgd2FzIGFuIGluc2VydGlvbiBvZiBhIG5ldyBibG9jayBvciBhIG1vdmVtZW50IG9mXG4gICAqIGFuIGV4aXN0aW5nIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBkcmFnZ2VyIFRoZSBkcmFnZ2VyIHRvIHBhdGNoLlxuICAgKiBAcGFyYW0gbW92ZVR5cGUgV2hldGhlciB0aGlzIGlzIGFuIGluc2VydCBvciBhIG1vdmUuXG4gICAqL1xuICBwcml2YXRlIHBhdGNoRHJhZ2dlcihkcmFnZ2VyOiBkcmFnZ2luZy5EcmFnZ2VyLCBtb3ZlVHlwZTogTW92ZVR5cGUpIHtcbiAgICBpZiAobW92ZVR5cGUgPT09IE1vdmVUeXBlLkluc2VydCkge1xuICAgICAgLy8gTW9ua2V5IHBhdGNoIGRyYWdnZXIgdG8gdHJpZ2dlciBkZWxldGUuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgKGRyYWdnZXIgYXMgYW55KS53b3VsZERlbGV0ZURyYWdnYWJsZSA9ICgpID0+IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1vbmtleSBwYXRjaCBkcmFnZ2VyIHRvIHRyaWdnZXIgY2FsbCB0byBkcmFnZ2FibGUucmV2ZXJ0RHJhZy5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAoZHJhZ2dlciBhcyBhbnkpLnNob3VsZFJldHVyblRvU3RhcnQgPSAoKSA9PiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50bHkgaW4tcHJvZ3Jlc3MgbW92ZSBmb3IgYSBnaXZlblxuICogV29ya3NwYWNlLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZUluZm8ge1xuICAvKiogVG90YWwgZGlzdGFuY2UgbW92ZWQsIGluIHdvcmtzcGFjZSB1bml0cy4gKi9cbiAgdG90YWxEZWx0YSA9IG5ldyB1dGlscy5Db29yZGluYXRlKDAsIDApO1xuICByZWFkb25seSBwYXJlbnROZXh0OiBDb25uZWN0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHJlYWRvbmx5IHBhcmVudElucHV0OiBDb25uZWN0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHJlYWRvbmx5IHN0YXJ0TG9jYXRpb246IHV0aWxzLkNvb3JkaW5hdGU7XG4gIHJlYWRvbmx5IG9uTW92ZUZpbmlzaGVkPzogKCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICByZWFkb25seSBkcmFnZ2FibGU6IElEcmFnZ2FibGUgJiBJRm9jdXNhYmxlTm9kZSAmIElCb3VuZGVkRWxlbWVudCxcbiAgICByZWFkb25seSBkcmFnZ2VyOiBJRHJhZ2dlcixcbiAgICByZWFkb25seSBibHVyTGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgb25Nb3ZlRmluaXNoZWQ/OiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICBpZiAoZHJhZ2dhYmxlIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgIHRoaXMucGFyZW50TmV4dCA9IGRyYWdnYWJsZS5wcmV2aW91c0Nvbm5lY3Rpb24/LnRhcmdldENvbm5lY3Rpb24gPz8gbnVsbDtcbiAgICAgIHRoaXMucGFyZW50SW5wdXQgPSBkcmFnZ2FibGUub3V0cHV0Q29ubmVjdGlvbj8udGFyZ2V0Q29ubmVjdGlvbiA/PyBudWxsO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0TG9jYXRpb24gPSBkcmFnZ2FibGUuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO1xuICAgIHRoaXMub25Nb3ZlRmluaXNoZWQgPSBvbk1vdmVGaW5pc2hlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBmYWtlIHBvaW50ZXIgZXZlbnQgZm9yIGRyYWdnaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSBXaGljaCB0eXBlIG9mIHBvaW50ZXIgZXZlbnQgdG8gY3JlYXRlLlxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gaWYgdGhpcyBtb3ZlbWVudCBpcyBhIGNvbnN0cmFpbmVkIGRyYWcuXG4gICAqIEByZXR1cm5zIEEgc3ludGhldGljIFBvaW50ZXJFdmVudCB0aGF0IGNhbiBiZSBjb25zdW1lZCBieSBCbG9ja2x5J3NcbiAgICogICAgIGRyYWdnaW5nIGNvZGUuXG4gICAqL1xuICBmYWtlUG9pbnRlckV2ZW50KHR5cGU6IHN0cmluZywgZGlyZWN0aW9uPzogRGlyZWN0aW9uKTogUG9pbnRlckV2ZW50IHtcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IHV0aWxzLnN2Z01hdGgud3NUb1NjcmVlbkNvb3JkaW5hdGVzKFxuICAgICAgdGhpcy53b3Jrc3BhY2UsXG4gICAgICBuZXcgdXRpbHMuQ29vcmRpbmF0ZShcbiAgICAgICAgdGhpcy5zdGFydExvY2F0aW9uLnggKyB0aGlzLnRvdGFsRGVsdGEueCxcbiAgICAgICAgdGhpcy5zdGFydExvY2F0aW9uLnkgKyB0aGlzLnRvdGFsRGVsdGEueSxcbiAgICAgICksXG4gICAgKTtcbiAgICBjb25zdCB0aWx0cyA9IGdldFhZRnJvbURpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgIHJldHVybiBuZXcgUG9pbnRlckV2ZW50KHR5cGUsIHtcbiAgICAgIGNsaWVudFg6IGNvb3JkaW5hdGVzLngsXG4gICAgICBjbGllbnRZOiBjb29yZGluYXRlcy55LFxuICAgICAgdGlsdFg6IHRpbHRzLngsXG4gICAgICB0aWx0WTogdGlsdHMueSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUga2V5Ym9hcmQgZHJhZyBtYXkgaGF2ZSBtb3ZlZCBhIGJsb2NrIHRvIGFuIGFwcHJvcHJpYXRlIGxvY2F0aW9uXG4gICAqIGZvciBhIHByZXZpZXcuIFVwZGF0ZSB0aGUgc2F2ZWQgZGVsdGEgdG8gcmVmbGVjdCB0aGUgZWxlbWVudCdzIG5ld1xuICAgKiBsb2NhdGlvbiwgc28gdGhhdCBpdCBkb2VzIG5vdCBqdW1wIGR1cmluZyB0aGUgbmV4dCB1bmNvbnN0cmFpbmVkIG1vdmUuXG4gICAqL1xuICB1cGRhdGVUb3RhbERlbHRhKCkge1xuICAgIGlmICh0aGlzLmRyYWdnYWJsZSBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICB0aGlzLnRvdGFsRGVsdGEgPSBuZXcgdXRpbHMuQ29vcmRpbmF0ZShcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUucmVsYXRpdmVDb29yZHMueCAtIHRoaXMuc3RhcnRMb2NhdGlvbi54LFxuICAgICAgICB0aGlzLmRyYWdnYWJsZS5yZWxhdGl2ZUNvb3Jkcy55IC0gdGhpcy5zdGFydExvY2F0aW9uLnksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRvdGFsRGVsdGEgPSBuZXcgdXRpbHMuQ29vcmRpbmF0ZShcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5sZWZ0IC0gdGhpcy5zdGFydExvY2F0aW9uLngsXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkudG9wIC0gdGhpcy5zdGFydExvY2F0aW9uLnksXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/actions/mover.ts\n");

/***/ }),

/***/ "./src/actions/stack_navigation.ts":
/*!*****************************************!*\
  !*** ./src/actions/stack_navigation.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StackNavigationAction: () => (/* binding */ StackNavigationAction)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n/**\n * Class for registering a shortcut for quick movement between top level bounds\n * in the workspace.\n */\nclass StackNavigationAction {\n    constructor() {\n        this.stackShortcuts = [];\n    }\n    install() {\n        const preconditionFn = (workspace) => !!getCurNodeRoot(workspace);\n        function getCurNodeRoot(workspace) {\n            var _a, _b;\n            const cursor = workspace.getCursor();\n            // The fallback case includes workspace comments.\n            return (_b = (_a = cursor.getSourceBlock()) === null || _a === void 0 ? void 0 : _a.getRootBlock()) !== null && _b !== void 0 ? _b : cursor.getCurNode();\n        }\n        const previousStackShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PREVIOUS_STACK,\n            preconditionFn,\n            callback: (workspace) => {\n                const curNodeRoot = getCurNodeRoot(workspace);\n                if (!curNodeRoot)\n                    return false;\n                const prevRoot = workspace\n                    .getNavigator()\n                    .getPreviousSibling(curNodeRoot);\n                if (!prevRoot)\n                    return false;\n                workspace.getCursor().setCurNode(prevRoot);\n                return true;\n            },\n            keyCodes: [blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.B],\n        };\n        const nextStackShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.NEXT_STACK,\n            preconditionFn,\n            callback: (workspace) => {\n                const curNodeRoot = getCurNodeRoot(workspace);\n                if (!curNodeRoot)\n                    return false;\n                const nextRoot = workspace.getNavigator().getNextSibling(curNodeRoot);\n                if (!nextRoot)\n                    return false;\n                workspace.getCursor().setCurNode(nextRoot);\n                return true;\n            },\n            keyCodes: [blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.N],\n        };\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(previousStackShortcut);\n        this.stackShortcuts.push(previousStackShortcut);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(nextStackShortcut);\n        this.stackShortcuts.push(nextStackShortcut);\n    }\n    /**\n     * Unregisters the shortcut.\n     */\n    uninstall() {\n        this.stackShortcuts.forEach((shortcut) => blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name));\n        this.stackShortcuts.length = 0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvc3RhY2tfbmF2aWdhdGlvbi50cz84ZmM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtTaG9ydGN1dFJlZ2lzdHJ5LCBXb3Jrc3BhY2VTdmcsIHV0aWxzfSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHJlZ2lzdGVyaW5nIGEgc2hvcnRjdXQgZm9yIHF1aWNrIG1vdmVtZW50IGJldHdlZW4gdG9wIGxldmVsIGJvdW5kc1xuICogaW4gdGhlIHdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0YWNrTmF2aWdhdGlvbkFjdGlvbiB7XG4gIHByaXZhdGUgc3RhY2tTaG9ydGN1dHM6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dFtdID0gW107XG5cbiAgaW5zdGFsbCgpIHtcbiAgICBjb25zdCBwcmVjb25kaXRpb25GbiA9ICh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZykgPT5cbiAgICAgICEhZ2V0Q3VyTm9kZVJvb3Qod29ya3NwYWNlKTtcblxuICAgIGZ1bmN0aW9uIGdldEN1ck5vZGVSb290KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgICBjb25zdCBjdXJzb3IgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCk7XG4gICAgICAvLyBUaGUgZmFsbGJhY2sgY2FzZSBpbmNsdWRlcyB3b3Jrc3BhY2UgY29tbWVudHMuXG4gICAgICByZXR1cm4gY3Vyc29yLmdldFNvdXJjZUJsb2NrKCk/LmdldFJvb3RCbG9jaygpID8/IGN1cnNvci5nZXRDdXJOb2RlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNTdGFja1Nob3J0Y3V0OiBTaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXQgPSB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuUFJFVklPVVNfU1RBQ0ssXG4gICAgICBwcmVjb25kaXRpb25GbixcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1ck5vZGVSb290ID0gZ2V0Q3VyTm9kZVJvb3Qod29ya3NwYWNlKTtcbiAgICAgICAgaWYgKCFjdXJOb2RlUm9vdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBwcmV2Um9vdCA9IHdvcmtzcGFjZVxuICAgICAgICAgIC5nZXROYXZpZ2F0b3IoKVxuICAgICAgICAgIC5nZXRQcmV2aW91c1NpYmxpbmcoY3VyTm9kZVJvb3QpO1xuICAgICAgICBpZiAoIXByZXZSb290KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKHByZXZSb290KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFt1dGlscy5LZXlDb2Rlcy5CXSxcbiAgICB9O1xuXG4gICAgY29uc3QgbmV4dFN0YWNrU2hvcnRjdXQ6IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dCA9IHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5ORVhUX1NUQUNLLFxuICAgICAgcHJlY29uZGl0aW9uRm4sXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJOb2RlUm9vdCA9IGdldEN1ck5vZGVSb290KHdvcmtzcGFjZSk7XG4gICAgICAgIGlmICghY3VyTm9kZVJvb3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgbmV4dFJvb3QgPSB3b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0TmV4dFNpYmxpbmcoY3VyTm9kZVJvb3QpO1xuICAgICAgICBpZiAoIW5leHRSb290KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKG5leHRSb290KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFt1dGlscy5LZXlDb2Rlcy5OXSxcbiAgICB9O1xuXG4gICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihwcmV2aW91c1N0YWNrU2hvcnRjdXQpO1xuICAgIHRoaXMuc3RhY2tTaG9ydGN1dHMucHVzaChwcmV2aW91c1N0YWNrU2hvcnRjdXQpO1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIobmV4dFN0YWNrU2hvcnRjdXQpO1xuICAgIHRoaXMuc3RhY2tTaG9ydGN1dHMucHVzaChuZXh0U3RhY2tTaG9ydGN1dCk7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgdGhlIHNob3J0Y3V0LlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIHRoaXMuc3RhY2tTaG9ydGN1dHMuZm9yRWFjaCgoc2hvcnRjdXQpID0+XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoc2hvcnRjdXQubmFtZSksXG4gICAgKTtcbiAgICB0aGlzLnN0YWNrU2hvcnRjdXRzLmxlbmd0aCA9IDA7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/stack_navigation.ts\n");

/***/ }),

/***/ "./src/actions/ws_movement.ts":
/*!************************************!*\
  !*** ./src/actions/ws_movement.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WorkspaceMovement: () => (/* binding */ WorkspaceMovement)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\nconst KeyCodes = blockly__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\nconst createSerializedKey = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.createSerializedKey.bind(blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry);\n/**\n * Logic for free movement of the cursor on the workspace with keyboard\n * shortcuts.\n */\nclass WorkspaceMovement {\n    constructor(navigation) {\n        this.navigation = navigation;\n        this.shortcuts = [\n            /** Move the cursor on the workspace to the left. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_LEFT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, -1, 0),\n                keyCodes: [createSerializedKey(KeyCodes.A, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor on the workspace to the right. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_RIGHT,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, 1, 0),\n                keyCodes: [createSerializedKey(KeyCodes.D, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor on the workspace up. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_UP,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, 0, -1),\n                keyCodes: [createSerializedKey(KeyCodes.W, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor on the workspace down. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.MOVE_WS_CURSOR_DOWN,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace),\n                callback: (workspace) => this.moveWSCursor(workspace, 0, 1),\n                keyCodes: [createSerializedKey(KeyCodes.S, [KeyCodes.SHIFT])],\n            },\n            /** Move the cursor to the workspace. */\n            {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CREATE_WS_CURSOR,\n                preconditionFn: (workspace) => {\n                    return true;\n                },\n                callback: (workspace) => {\n                    const targetWorkspace = workspace.isFlyout\n                        ? workspace.targetWorkspace\n                        : workspace;\n                    if (!targetWorkspace)\n                        return false;\n                    blockly__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    return this.createWSCursor(targetWorkspace);\n                },\n                keyCodes: [KeyCodes.W],\n            },\n        ];\n    }\n    /**\n     * Install the shortcuts.\n     */\n    install() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n    }\n    /**\n     * Uninstall the shortcuts.\n     */\n    uninstall() {\n        for (const shortcut of this.shortcuts) {\n            blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name);\n        }\n    }\n    /**\n     * Moves the workspace cursor in the given direction.\n     *\n     * @param workspace The workspace the cursor is on.\n     * @param xDirection -1 to move cursor left. 1 to move cursor right.\n     * @param yDirection -1 to move cursor up. 1 to move cursor down.\n     * @returns True if the current node is a workspace, false\n     *     otherwise.\n     */\n    moveWSCursor(workspace, xDirection, yDirection) {\n        return false;\n    }\n    /**\n     * Moves the cursor to the workspace near the origin.\n     *\n     * @param workspace The workspace the cursor is on.\n     */\n    createWSCursor(workspace) {\n        workspace.getCursor().setCurNode(workspace);\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy93c19tb3ZlbWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztHQUlHO0FBTWM7QUFDeUI7QUFJMUMsTUFBTSxRQUFRLEdBQUcsMENBQVksQ0FBQyxRQUFRLENBQUM7QUFDdkMsTUFBTSxtQkFBbUIsR0FBRyxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUM1RSxxREFBZ0IsQ0FBQyxRQUFRLENBQzFCLENBQUM7QUFFRjs7O0dBR0c7QUFDSSxNQUFNLGlCQUFpQjtJQUM1QixZQUFvQixVQUFzQjtRQUF0QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBRWxDLGNBQVMsR0FBd0M7WUFDdkQsb0RBQW9EO1lBQ3BEO2dCQUNFLElBQUksRUFBRSxzREFBd0IsQ0FBQyxtQkFBbUI7Z0JBQ2xELGNBQWMsRUFBRSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQzVCLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDO2dCQUM3QyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDNUQsUUFBUSxFQUFFLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQzlEO1lBQ0QscURBQXFEO1lBQ3JEO2dCQUNFLElBQUksRUFBRSxzREFBd0IsQ0FBQyxvQkFBb0I7Z0JBQ25ELGNBQWMsRUFBRSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQzVCLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDO2dCQUM3QyxRQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQzNELFFBQVEsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzthQUM5RDtZQUNELDJDQUEyQztZQUMzQztnQkFDRSxJQUFJLEVBQUUsc0RBQXdCLENBQUMsaUJBQWlCO2dCQUNoRCxjQUFjLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQztnQkFDN0MsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzVELFFBQVEsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzthQUM5RDtZQUVELDZDQUE2QztZQUM3QztnQkFDRSxJQUFJLEVBQUUsc0RBQXdCLENBQUMsbUJBQW1CO2dCQUNsRCxjQUFjLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQztnQkFDN0MsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUMzRCxRQUFRLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDOUQ7WUFFRCx3Q0FBd0M7WUFDeEM7Z0JBQ0UsSUFBSSxFQUFFLHNEQUF3QixDQUFDLGdCQUFnQjtnQkFDL0MsY0FBYyxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUU7b0JBQzVCLE9BQU8sSUFBSSxDQUFDO2dCQUNkLENBQUM7Z0JBQ0QsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUU7b0JBQ3RCLE1BQU0sZUFBZSxHQUFHLFNBQVMsQ0FBQyxRQUFRO3dCQUN4QyxDQUFDLENBQUMsU0FBUyxDQUFDLGVBQWU7d0JBQzNCLENBQUMsQ0FBQyxTQUFTLENBQUM7b0JBQ2QsSUFBSSxDQUFDLGVBQWU7d0JBQUUsT0FBTyxLQUFLLENBQUM7b0JBQ25DLGlFQUE0QixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDL0MsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUM5QyxDQUFDO2dCQUNELFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7YUFDdkI7U0FDRixDQUFDO0lBckQyQyxDQUFDO0lBdUQ5Qzs7T0FFRztJQUNILE9BQU87UUFDTCxLQUFLLE1BQU0sUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUN0QyxxREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxTQUFTO1FBQ1AsS0FBSyxNQUFNLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDdEMscURBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEQsQ0FBQztJQUNILENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNILFlBQVksQ0FDVixTQUF1QixFQUN2QixVQUFrQixFQUNsQixVQUFrQjtRQUVsQixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsY0FBYyxDQUFDLFNBQXVCO1FBQ3BDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDNUMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2FjdGlvbnMvd3NfbW92ZW1lbnQudHM/NzJkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIHV0aWxzIGFzIEJsb2NrbHlVdGlscyxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHtXb3Jrc3BhY2VTdmd9IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtOYXZpZ2F0aW9ufSBmcm9tICcuLi9uYXZpZ2F0aW9uJztcblxuY29uc3QgS2V5Q29kZXMgPSBCbG9ja2x5VXRpbHMuS2V5Q29kZXM7XG5jb25zdCBjcmVhdGVTZXJpYWxpemVkS2V5ID0gU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5LmJpbmQoXG4gIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnksXG4pO1xuXG4vKipcbiAqIExvZ2ljIGZvciBmcmVlIG1vdmVtZW50IG9mIHRoZSBjdXJzb3Igb24gdGhlIHdvcmtzcGFjZSB3aXRoIGtleWJvYXJkXG4gKiBzaG9ydGN1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VNb3ZlbWVudCB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmF2aWdhdGlvbjogTmF2aWdhdGlvbikge31cblxuICBwcml2YXRlIHNob3J0Y3V0czogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0W10gPSBbXG4gICAgLyoqIE1vdmUgdGhlIGN1cnNvciBvbiB0aGUgd29ya3NwYWNlIHRvIHRoZSBsZWZ0LiAqL1xuICAgIHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5NT1ZFX1dTX0NVUlNPUl9MRUZULFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3ZlV1NDdXJzb3Iod29ya3NwYWNlLCAtMSwgMCksXG4gICAgICBrZXlDb2RlczogW2NyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMuQSwgW0tleUNvZGVzLlNISUZUXSldLFxuICAgIH0sXG4gICAgLyoqIE1vdmUgdGhlIGN1cnNvciBvbiB0aGUgd29ya3NwYWNlIHRvIHRoZSByaWdodC4gKi9cbiAgICB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTU9WRV9XU19DVVJTT1JfUklHSFQsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVXU0N1cnNvcih3b3Jrc3BhY2UsIDEsIDApLFxuICAgICAga2V5Q29kZXM6IFtjcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzLkQsIFtLZXlDb2Rlcy5TSElGVF0pXSxcbiAgICB9LFxuICAgIC8qKiBNb3ZlIHRoZSBjdXJzb3Igb24gdGhlIHdvcmtzcGFjZSB1cC4gKi9cbiAgICB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTU9WRV9XU19DVVJTT1JfVVAsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlKSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB0aGlzLm1vdmVXU0N1cnNvcih3b3Jrc3BhY2UsIDAsIC0xKSxcbiAgICAgIGtleUNvZGVzOiBbY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5XLCBbS2V5Q29kZXMuU0hJRlRdKV0sXG4gICAgfSxcblxuICAgIC8qKiBNb3ZlIHRoZSBjdXJzb3Igb24gdGhlIHdvcmtzcGFjZSBkb3duLiAqL1xuICAgIHtcbiAgICAgIG5hbWU6IENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5NT1ZFX1dTX0NVUlNPUl9ET1dOLFxuICAgICAgcHJlY29uZGl0aW9uRm46ICh3b3Jrc3BhY2UpID0+XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jYW5DdXJyZW50bHlFZGl0KHdvcmtzcGFjZSksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4gdGhpcy5tb3ZlV1NDdXJzb3Iod29ya3NwYWNlLCAwLCAxKSxcbiAgICAgIGtleUNvZGVzOiBbY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2Rlcy5TLCBbS2V5Q29kZXMuU0hJRlRdKV0sXG4gICAgfSxcblxuICAgIC8qKiBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIHdvcmtzcGFjZS4gKi9cbiAgICB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ1JFQVRFX1dTX0NVUlNPUixcbiAgICAgIHByZWNvbmRpdGlvbkZuOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiAod29ya3NwYWNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldFdvcmtzcGFjZSA9IHdvcmtzcGFjZS5pc0ZseW91dFxuICAgICAgICAgID8gd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZVxuICAgICAgICAgIDogd29ya3NwYWNlO1xuICAgICAgICBpZiAoIXRhcmdldFdvcmtzcGFjZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLnNldElzQWN0aXZlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVXU0N1cnNvcih0YXJnZXRXb3Jrc3BhY2UpO1xuICAgICAgfSxcbiAgICAgIGtleUNvZGVzOiBbS2V5Q29kZXMuV10sXG4gICAgfSxcbiAgXTtcblxuICAvKipcbiAgICogSW5zdGFsbCB0aGUgc2hvcnRjdXRzLlxuICAgKi9cbiAgaW5zdGFsbCgpIHtcbiAgICBmb3IgKGNvbnN0IHNob3J0Y3V0IG9mIHRoaXMuc2hvcnRjdXRzKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHNob3J0Y3V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5pbnN0YWxsIHRoZSBzaG9ydGN1dHMuXG4gICAqL1xuICB1bmluc3RhbGwoKSB7XG4gICAgZm9yIChjb25zdCBzaG9ydGN1dCBvZiB0aGlzLnNob3J0Y3V0cykge1xuICAgICAgU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS51bnJlZ2lzdGVyKHNob3J0Y3V0Lm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgd29ya3NwYWNlIGN1cnNvciBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdGhlIGN1cnNvciBpcyBvbi5cbiAgICogQHBhcmFtIHhEaXJlY3Rpb24gLTEgdG8gbW92ZSBjdXJzb3IgbGVmdC4gMSB0byBtb3ZlIGN1cnNvciByaWdodC5cbiAgICogQHBhcmFtIHlEaXJlY3Rpb24gLTEgdG8gbW92ZSBjdXJzb3IgdXAuIDEgdG8gbW92ZSBjdXJzb3IgZG93bi5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY3VycmVudCBub2RlIGlzIGEgd29ya3NwYWNlLCBmYWxzZVxuICAgKiAgICAgb3RoZXJ3aXNlLlxuICAgKi9cbiAgbW92ZVdTQ3Vyc29yKFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIHhEaXJlY3Rpb246IG51bWJlcixcbiAgICB5RGlyZWN0aW9uOiBudW1iZXIsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSB3b3Jrc3BhY2UgbmVhciB0aGUgb3JpZ2luLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdGhlIGN1cnNvciBpcyBvbi5cbiAgICovXG4gIGNyZWF0ZVdTQ3Vyc29yKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gICAgd29ya3NwYWNlLmdldEN1cnNvcigpLnNldEN1ck5vZGUod29ya3NwYWNlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/actions/ws_movement.ts\n");

/***/ }),

/***/ "./src/build_info.ts":
/*!***************************!*\
  !*** ./src/build_info.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD_INFO: () => (/* binding */ BUILD_INFO)\n/* harmony export */ });\n/**\n * Auto-generated build information.\n * This file is generated at build time and should not be edited manually.\n */\nconst BUILD_INFO = {\n    gitSha: '7bcade6',\n    isDirty: true,\n    buildTime: '2025-11-21T13:03:20.198Z',\n    versionLabel: '7bcade6*',\n};\n// Hot reload integration: expose build info globally for development\n// This allows the UI to detect when build info has been updated\nif (typeof window !== 'undefined') {\n    window.__BUILD_INFO__ = BUILD_INFO;\n    // Also notify any existing build info components of the update\n    if (typeof window.dispatchEvent === 'function') {\n        setTimeout(() => {\n            const event = new CustomEvent('buildInfoUpdated', {\n                detail: BUILD_INFO\n            });\n            window.dispatchEvent(event);\n        }, 100);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYnVpbGRfaW5mby50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7OztHQUdHO0FBU0ksTUFBTSxVQUFVLEdBQWM7SUFDbkMsTUFBTSxFQUFFLFNBQVM7SUFDakIsT0FBTyxFQUFFLElBQUk7SUFDYixTQUFTLEVBQUUsMEJBQTBCO0lBQ3JDLFlBQVksRUFBRSxVQUFVO0NBQ3pCLENBQUM7QUFFRixxRUFBcUU7QUFDckUsZ0VBQWdFO0FBQ2hFLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFLENBQUM7SUFDakMsTUFBYyxDQUFDLGNBQWMsR0FBRyxVQUFVLENBQUM7SUFFNUMsK0RBQStEO0lBQy9ELElBQUksT0FBTyxNQUFNLENBQUMsYUFBYSxLQUFLLFVBQVUsRUFBRSxDQUFDO1FBQy9DLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLEtBQUssR0FBRyxJQUFJLFdBQVcsQ0FBQyxrQkFBa0IsRUFBRTtnQkFDaEQsTUFBTSxFQUFFLFVBQVU7YUFDbkIsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDVixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvYnVpbGRfaW5mby50cz81MjcyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXV0by1nZW5lcmF0ZWQgYnVpbGQgaW5mb3JtYXRpb24uXG4gKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGF0IGJ1aWxkIHRpbWUgYW5kIHNob3VsZCBub3QgYmUgZWRpdGVkIG1hbnVhbGx5LlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRJbmZvIHtcbiAgZ2l0U2hhOiBzdHJpbmc7XG4gIGlzRGlydHk6IGJvb2xlYW47XG4gIGJ1aWxkVGltZTogc3RyaW5nO1xuICB2ZXJzaW9uTGFiZWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEJVSUxEX0lORk86IEJ1aWxkSW5mbyA9IHtcbiAgZ2l0U2hhOiAnN2JjYWRlNicsXG4gIGlzRGlydHk6IHRydWUsXG4gIGJ1aWxkVGltZTogJzIwMjUtMTEtMjFUMTM6MDM6MjAuMTk4WicsXG4gIHZlcnNpb25MYWJlbDogJzdiY2FkZTYqJyxcbn07XG5cbi8vIEhvdCByZWxvYWQgaW50ZWdyYXRpb246IGV4cG9zZSBidWlsZCBpbmZvIGdsb2JhbGx5IGZvciBkZXZlbG9wbWVudFxuLy8gVGhpcyBhbGxvd3MgdGhlIFVJIHRvIGRldGVjdCB3aGVuIGJ1aWxkIGluZm8gaGFzIGJlZW4gdXBkYXRlZFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICh3aW5kb3cgYXMgYW55KS5fX0JVSUxEX0lORk9fXyA9IEJVSUxEX0lORk87XG5cbiAgLy8gQWxzbyBub3RpZnkgYW55IGV4aXN0aW5nIGJ1aWxkIGluZm8gY29tcG9uZW50cyBvZiB0aGUgdXBkYXRlXG4gIGlmICh0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdidWlsZEluZm9VcGRhdGVkJywge1xuICAgICAgICBkZXRhaWw6IEJVSUxEX0lORk9cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0sIDEwMCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/build_info.ts\n");

/***/ }),

/***/ "./src/build_info_component.ts":
/*!*************************************!*\
  !*** ./src/build_info_component.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBuildInfoComponent: () => (/* binding */ createBuildInfoComponent),\n/* harmony export */   registerBuildInfoStyles: () => (/* binding */ registerBuildInfoStyles),\n/* harmony export */   startBuildInfoAutoRefresh: () => (/* binding */ startBuildInfoAutoRefresh),\n/* harmony export */   updateBuildInfo: () => (/* binding */ updateBuildInfo)\n/* harmony export */ });\n/* harmony import */ var _build_info__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./build_info */ \"./src/build_info.ts\");\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Creates and returns a build info UI component showing git SHA and build time.\n * This component displays in the bottom-right corner of the page.\n *\n * @returns The build info DOM element.\n */\nfunction createBuildInfoComponent() {\n    const buildInfo = document.createElement('div');\n    buildInfo.id = 'build-info';\n    buildInfo.className = 'build-info';\n    // Format the build time for display\n    const buildDate = new Date(_build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.buildTime);\n    const timeString = buildDate.toLocaleString();\n    buildInfo.innerHTML = `\n    <div class=\"build-info-content\">\n      <div class=\"build-version\">\n        <span class=\"build-label\">Version:</span>\n        <span class=\"build-value\">${_build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.versionLabel}</span>\n      </div>\n      <div class=\"build-time\">\n        <span class=\"build-label\">Built:</span>\n        <span class=\"build-value\">${timeString}</span>\n      </div>\n    </div>\n  `;\n    return buildInfo;\n}\n/**\n * Registers CSS styles for the build info component.\n * Should be called before creating the component.\n */\nfunction registerBuildInfoStyles() {\n    const style = document.createElement('style');\n    style.textContent = `\n    .build-info {\n      position: fixed;\n      bottom: 10px;\n      right: 10px;\n      background: rgba(0, 0, 0, 0.8);\n      color: #ffffff;\n      padding: 8px 12px;\n      border-radius: 6px;\n      font-family: monospace;\n      font-size: 11px;\n      line-height: 1.4;\n      z-index: 10000;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      min-width: 200px;\n    }\n\n    .build-info-content {\n      display: flex;\n      flex-direction: column;\n      gap: 2px;\n    }\n\n    .build-info .build-version,\n    .build-info .build-time {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .build-info .build-label {\n      color: #aaaaaa;\n      margin-right: 8px;\n    }\n\n    .build-info .build-value {\n      color: #ffffff;\n      font-weight: bold;\n    }\n\n    /* Make build info hover-able for better UX */\n    .build-info:hover {\n      background: rgba(0, 0, 0, 0.9);\n      transform: scale(1.05);\n      transition: all 0.2s ease;\n    }\n\n    /* Mobile responsiveness */\n    @media (max-width: 768px) {\n      .build-info {\n        bottom: 5px;\n        right: 5px;\n        padding: 6px 8px;\n        font-size: 10px;\n        min-width: 150px;\n      }\n    }\n  `;\n    document.head.appendChild(style);\n}\n/**\n * Updates the build info component with fresh build information.\n * This can be called when hot reloading to refresh the build time.\n *\n * @param element The build info element to update.\n */\nfunction updateBuildInfo(element) {\n    const buildDate = new Date(_build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.buildTime);\n    const timeString = buildDate.toLocaleString();\n    const versionEl = element.querySelector('.build-version .build-value');\n    const timeEl = element.querySelector('.build-time .build-value');\n    if (versionEl) {\n        versionEl.textContent = _build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.versionLabel;\n    }\n    if (timeEl) {\n        timeEl.textContent = timeString;\n    }\n}\n/**\n * Gets fresh build info from the global scope (populated by webpack HMR)\n * or falls back to the static BUILD_INFO if not available.\n *\n * @returns The current build info.\n */\nfunction getFreshBuildInfo() {\n    // Check if there's a global build info (from webpack dev server hot reload)\n    if (typeof window !== 'undefined' && window.__BUILD_INFO__) {\n        return window.__BUILD_INFO__;\n    }\n    return _build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO;\n}\n/**\n * Starts auto-refresh functionality for the build info component.\n * This listens for build events from the webpack plugin and updates the UI immediately.\n *\n * @param element The build info element to update.\n * @param fallbackIntervalMs Fallback polling interval if events aren't available (default: 5000ms).\n * @returns A function to stop the auto-refresh.\n */\nfunction startBuildInfoAutoRefresh(element, fallbackIntervalMs = 5000) {\n    let lastBuildTime = _build_info__WEBPACK_IMPORTED_MODULE_0__.BUILD_INFO.buildTime;\n    // Function to update the UI with new build info\n    const updateUI = (buildInfo) => {\n        const buildDate = new Date(buildInfo.buildTime);\n        const timeString = buildDate.toLocaleString();\n        const versionEl = element.querySelector('.build-version .build-value');\n        const timeEl = element.querySelector('.build-time .build-value');\n        if (versionEl) {\n            versionEl.textContent = buildInfo.versionLabel;\n        }\n        if (timeEl) {\n            timeEl.textContent = timeString;\n        }\n        // Add a brief visual indication of the update\n        element.style.transform = 'scale(1.05)';\n        element.style.transition = 'transform 0.2s ease';\n        setTimeout(() => {\n            element.style.transform = 'scale(1)';\n        }, 200);\n        console.log(` Build info updated: ${buildInfo.versionLabel} (${timeString})`);\n    };\n    // Primary method: listen for custom events from webpack plugin\n    const eventListener = (event) => {\n        const freshBuildInfo = event.detail;\n        if (freshBuildInfo && freshBuildInfo.buildTime !== lastBuildTime) {\n            lastBuildTime = freshBuildInfo.buildTime;\n            updateUI(freshBuildInfo);\n        }\n    };\n    // Add event listener for webpack-triggered updates\n    if (typeof window !== 'undefined' && window.addEventListener) {\n        window.addEventListener('buildInfoUpdated', eventListener);\n    }\n    // Fallback method: periodic polling (for cases where webpack integration isn't available)\n    const intervalId = setInterval(() => {\n        const freshBuildInfo = getFreshBuildInfo();\n        if (freshBuildInfo && freshBuildInfo.buildTime !== lastBuildTime) {\n            lastBuildTime = freshBuildInfo.buildTime;\n            updateUI(freshBuildInfo);\n        }\n    }, fallbackIntervalMs);\n    // Return cleanup function\n    return () => {\n        if (typeof window !== 'undefined' && window.removeEventListener) {\n            window.removeEventListener('buildInfoUpdated', eventListener);\n        }\n        clearInterval(intervalId);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDakUsYUFBYSxHQUFHLGNBQWMsQ0FBQyxTQUFTLENBQUM7WUFDekMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzNCLENBQUM7SUFDSCxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUV2QiwwQkFBMEI7SUFDMUIsT0FBTyxHQUFHLEVBQUU7UUFDVixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUNoRSxNQUFNLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLEVBQUUsYUFBOEIsQ0FBQyxDQUFDO1FBQ2pGLENBQUM7UUFDRCxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvYnVpbGRfaW5mb19jb21wb25lbnQudHM/ZDJkMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7QlVJTERfSU5GT30gZnJvbSAnLi9idWlsZF9pbmZvJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgYnVpbGQgaW5mbyBVSSBjb21wb25lbnQgc2hvd2luZyBnaXQgU0hBIGFuZCBidWlsZCB0aW1lLlxuICogVGhpcyBjb21wb25lbnQgZGlzcGxheXMgaW4gdGhlIGJvdHRvbS1yaWdodCBjb3JuZXIgb2YgdGhlIHBhZ2UuXG4gKlxuICogQHJldHVybnMgVGhlIGJ1aWxkIGluZm8gRE9NIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCdWlsZEluZm9Db21wb25lbnQoKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBidWlsZEluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYnVpbGRJbmZvLmlkID0gJ2J1aWxkLWluZm8nO1xuICBidWlsZEluZm8uY2xhc3NOYW1lID0gJ2J1aWxkLWluZm8nO1xuXG4gIC8vIEZvcm1hdCB0aGUgYnVpbGQgdGltZSBmb3IgZGlzcGxheVxuICBjb25zdCBidWlsZERhdGUgPSBuZXcgRGF0ZShCVUlMRF9JTkZPLmJ1aWxkVGltZSk7XG4gIGNvbnN0IHRpbWVTdHJpbmcgPSBidWlsZERhdGUudG9Mb2NhbGVTdHJpbmcoKTtcblxuICBidWlsZEluZm8uaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJidWlsZC1pbmZvLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJidWlsZC12ZXJzaW9uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYnVpbGQtbGFiZWxcIj5WZXJzaW9uOjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJidWlsZC12YWx1ZVwiPiR7QlVJTERfSU5GTy52ZXJzaW9uTGFiZWx9PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYnVpbGQtdGltZVwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImJ1aWxkLWxhYmVsXCI+QnVpbHQ6PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImJ1aWxkLXZhbHVlXCI+JHt0aW1lU3RyaW5nfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIHJldHVybiBidWlsZEluZm87XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIENTUyBzdHlsZXMgZm9yIHRoZSBidWlsZCBpbmZvIGNvbXBvbmVudC5cbiAqIFNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIGNyZWF0aW5nIHRoZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckJ1aWxkSW5mb1N0eWxlcygpOiB2b2lkIHtcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAuYnVpbGQtaW5mbyB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICBib3R0b206IDEwcHg7XG4gICAgICByaWdodDogMTBweDtcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTtcbiAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xuICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICAgIHotaW5kZXg6IDEwMDAwO1xuICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgfVxuXG4gICAgLmJ1aWxkLWluZm8tY29udGVudCB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGdhcDogMnB4O1xuICAgIH1cblxuICAgIC5idWlsZC1pbmZvIC5idWlsZC12ZXJzaW9uLFxuICAgIC5idWlsZC1pbmZvIC5idWlsZC10aW1lIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5idWlsZC1pbmZvIC5idWlsZC1sYWJlbCB7XG4gICAgICBjb2xvcjogI2FhYWFhYTtcbiAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICAgIH1cblxuICAgIC5idWlsZC1pbmZvIC5idWlsZC12YWx1ZSB7XG4gICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cblxuICAgIC8qIE1ha2UgYnVpbGQgaW5mbyBob3Zlci1hYmxlIGZvciBiZXR0ZXIgVVggKi9cbiAgICAuYnVpbGQtaW5mbzpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOSk7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICB9XG5cbiAgICAvKiBNb2JpbGUgcmVzcG9uc2l2ZW5lc3MgKi9cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAgIC5idWlsZC1pbmZvIHtcbiAgICAgICAgYm90dG9tOiA1cHg7XG4gICAgICAgIHJpZ2h0OiA1cHg7XG4gICAgICAgIHBhZGRpbmc6IDZweCA4cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgbWluLXdpZHRoOiAxNTBweDtcbiAgICAgIH1cbiAgICB9XG4gIGA7XG5cbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgYnVpbGQgaW5mbyBjb21wb25lbnQgd2l0aCBmcmVzaCBidWlsZCBpbmZvcm1hdGlvbi5cbiAqIFRoaXMgY2FuIGJlIGNhbGxlZCB3aGVuIGhvdCByZWxvYWRpbmcgdG8gcmVmcmVzaCB0aGUgYnVpbGQgdGltZS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgYnVpbGQgaW5mbyBlbGVtZW50IHRvIHVwZGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUJ1aWxkSW5mbyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBidWlsZERhdGUgPSBuZXcgRGF0ZShCVUlMRF9JTkZPLmJ1aWxkVGltZSk7XG4gIGNvbnN0IHRpbWVTdHJpbmcgPSBidWlsZERhdGUudG9Mb2NhbGVTdHJpbmcoKTtcblxuICBjb25zdCB2ZXJzaW9uRWwgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWlsZC12ZXJzaW9uIC5idWlsZC12YWx1ZScpO1xuICBjb25zdCB0aW1lRWwgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWlsZC10aW1lIC5idWlsZC12YWx1ZScpO1xuXG4gIGlmICh2ZXJzaW9uRWwpIHtcbiAgICB2ZXJzaW9uRWwudGV4dENvbnRlbnQgPSBCVUlMRF9JTkZPLnZlcnNpb25MYWJlbDtcbiAgfVxuICBpZiAodGltZUVsKSB7XG4gICAgdGltZUVsLnRleHRDb250ZW50ID0gdGltZVN0cmluZztcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgZnJlc2ggYnVpbGQgaW5mbyBmcm9tIHRoZSBnbG9iYWwgc2NvcGUgKHBvcHVsYXRlZCBieSB3ZWJwYWNrIEhNUilcbiAqIG9yIGZhbGxzIGJhY2sgdG8gdGhlIHN0YXRpYyBCVUlMRF9JTkZPIGlmIG5vdCBhdmFpbGFibGUuXG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgYnVpbGQgaW5mby5cbiAqL1xuZnVuY3Rpb24gZ2V0RnJlc2hCdWlsZEluZm8oKTogdHlwZW9mIEJVSUxEX0lORk8ge1xuICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgZ2xvYmFsIGJ1aWxkIGluZm8gKGZyb20gd2VicGFjayBkZXYgc2VydmVyIGhvdCByZWxvYWQpXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAod2luZG93IGFzIGFueSkuX19CVUlMRF9JTkZPX18pIHtcbiAgICByZXR1cm4gKHdpbmRvdyBhcyBhbnkpLl9fQlVJTERfSU5GT19fO1xuICB9XG4gIHJldHVybiBCVUlMRF9JTkZPO1xufVxuXG4vKipcbiAqIFN0YXJ0cyBhdXRvLXJlZnJlc2ggZnVuY3Rpb25hbGl0eSBmb3IgdGhlIGJ1aWxkIGluZm8gY29tcG9uZW50LlxuICogVGhpcyBsaXN0ZW5zIGZvciBidWlsZCBldmVudHMgZnJvbSB0aGUgd2VicGFjayBwbHVnaW4gYW5kIHVwZGF0ZXMgdGhlIFVJIGltbWVkaWF0ZWx5LlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBidWlsZCBpbmZvIGVsZW1lbnQgdG8gdXBkYXRlLlxuICogQHBhcmFtIGZhbGxiYWNrSW50ZXJ2YWxNcyBGYWxsYmFjayBwb2xsaW5nIGludGVydmFsIGlmIGV2ZW50cyBhcmVuJ3QgYXZhaWxhYmxlIChkZWZhdWx0OiA1MDAwbXMpLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB0byBzdG9wIHRoZSBhdXRvLXJlZnJlc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEJ1aWxkSW5mb0F1dG9SZWZyZXNoKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgZmFsbGJhY2tJbnRlcnZhbE1zID0gNTAwMFxuKTogKCkgPT4gdm9pZCB7XG4gIGxldCBsYXN0QnVpbGRUaW1lID0gQlVJTERfSU5GTy5idWlsZFRpbWU7XG5cbiAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBVSSB3aXRoIG5ldyBidWlsZCBpbmZvXG4gIGNvbnN0IHVwZGF0ZVVJID0gKGJ1aWxkSW5mbzogdHlwZW9mIEJVSUxEX0lORk8pID0+IHtcbiAgICBjb25zdCBidWlsZERhdGUgPSBuZXcgRGF0ZShidWlsZEluZm8uYnVpbGRUaW1lKTtcbiAgICBjb25zdCB0aW1lU3RyaW5nID0gYnVpbGREYXRlLnRvTG9jYWxlU3RyaW5nKCk7XG5cbiAgICBjb25zdCB2ZXJzaW9uRWwgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWlsZC12ZXJzaW9uIC5idWlsZC12YWx1ZScpO1xuICAgIGNvbnN0IHRpbWVFbCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJ1aWxkLXRpbWUgLmJ1aWxkLXZhbHVlJyk7XG5cbiAgICBpZiAodmVyc2lvbkVsKSB7XG4gICAgICB2ZXJzaW9uRWwudGV4dENvbnRlbnQgPSBidWlsZEluZm8udmVyc2lvbkxhYmVsO1xuICAgIH1cbiAgICBpZiAodGltZUVsKSB7XG4gICAgICB0aW1lRWwudGV4dENvbnRlbnQgPSB0aW1lU3RyaW5nO1xuICAgIH1cblxuICAgIC8vIEFkZCBhIGJyaWVmIHZpc3VhbCBpbmRpY2F0aW9uIG9mIHRoZSB1cGRhdGVcbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgxLjA1KSc7XG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAwLjJzIGVhc2UnO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xuICAgIH0sIDIwMCk7XG5cbiAgICBjb25zb2xlLmxvZyhg8J+UhCBCdWlsZCBpbmZvIHVwZGF0ZWQ6ICR7YnVpbGRJbmZvLnZlcnNpb25MYWJlbH0gKCR7dGltZVN0cmluZ30pYCk7XG4gIH07XG5cbiAgLy8gUHJpbWFyeSBtZXRob2Q6IGxpc3RlbiBmb3IgY3VzdG9tIGV2ZW50cyBmcm9tIHdlYnBhY2sgcGx1Z2luXG4gIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgY29uc3QgZnJlc2hCdWlsZEluZm8gPSBldmVudC5kZXRhaWw7XG4gICAgaWYgKGZyZXNoQnVpbGRJbmZvICYmIGZyZXNoQnVpbGRJbmZvLmJ1aWxkVGltZSAhPT0gbGFzdEJ1aWxkVGltZSkge1xuICAgICAgbGFzdEJ1aWxkVGltZSA9IGZyZXNoQnVpbGRJbmZvLmJ1aWxkVGltZTtcbiAgICAgIHVwZGF0ZVVJKGZyZXNoQnVpbGRJbmZvKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIGZvciB3ZWJwYWNrLXRyaWdnZXJlZCB1cGRhdGVzXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdidWlsZEluZm9VcGRhdGVkJywgZXZlbnRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyKTtcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIG1ldGhvZDogcGVyaW9kaWMgcG9sbGluZyAoZm9yIGNhc2VzIHdoZXJlIHdlYnBhY2sgaW50ZWdyYXRpb24gaXNuJ3QgYXZhaWxhYmxlKVxuICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGNvbnN0IGZyZXNoQnVpbGRJbmZvID0gZ2V0RnJlc2hCdWlsZEluZm8oKTtcblxuICAgIGlmIChmcmVzaEJ1aWxkSW5mbyAmJiBmcmVzaEJ1aWxkSW5mby5idWlsZFRpbWUgIT09IGxhc3RCdWlsZFRpbWUpIHtcbiAgICAgIGxhc3RCdWlsZFRpbWUgPSBmcmVzaEJ1aWxkSW5mby5idWlsZFRpbWU7XG4gICAgICB1cGRhdGVVSShmcmVzaEJ1aWxkSW5mbyk7XG4gICAgfVxuICB9LCBmYWxsYmFja0ludGVydmFsTXMpO1xuXG4gIC8vIFJldHVybiBjbGVhbnVwIGZ1bmN0aW9uXG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYnVpbGRJbmZvVXBkYXRlZCcsIGV2ZW50TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgfVxuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/build_info_component.ts\n");

/***/ }),

/***/ "./src/connection_highlighter.ts":
/*!***************************************!*\
  !*** ./src/connection_highlighter.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionHighlighter: () => (/* binding */ ConnectionHighlighter)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/** Maximum number of connections to highlight for performance. */\nconst MAX_HIGHLIGHTED_CONNECTIONS = 50;\n/** Delay in milliseconds before retrying DOM insertion for highlights. */\nconst HIGHLIGHT_RETRY_DELAY_MS = 10;\n/**\n * Manages visual highlighting of valid connection points during block moves.\n * Provides visual feedback showing all possible destinations for a moving block.\n */\nclass ConnectionHighlighter {\n    constructor(workspace, onConnectionClick) {\n        /** Set of DOM elements that have highlighting applied. */\n        this.highlightedElements = new Set();\n        /** Map from highlight elements to their corresponding connections. */\n        this.elementToConnection = new WeakMap();\n        /** Map from highlight elements to their original connection coordinates for updating. */\n        this.elementToOriginalCoords = new WeakMap();\n        /** Connection highlight size: minimal, medium, or large. */\n        this.connectionSize = 'medium';\n        /** Separate SVG group layer for all highlights, rendered on top of blocks. */\n        this.highlightLayer = null;\n        /** Set of blocks that have highlights, used to detect overlapping descendants. */\n        this.highlightedBlocks = new Set();\n        this.workspace = workspace;\n        this.onConnectionClick = onConnectionClick;\n        // Zelos: ancestor connections visually overlap descendants\n        // Geras/Thrasos: connections render side-by-side without overlapping\n        const rendererName = workspace.getRenderer().constructor.name.toLowerCase();\n        this.ancestorConnectionsOverlap = rendererName.includes('zelos');\n        this.scrollListener = () => {\n            this.updateHighlights();\n        };\n        // Create a separate highlight layer at workspace level\n        this.createHighlightLayer();\n    }\n    /**\n     * Creates a dedicated SVG layer for highlights that renders on top of all blocks.\n     */\n    createHighlightLayer() {\n        // Append to parent SVG (above workspace group) to avoid coordinate transform issues\n        const parentSvg = this.workspace.getParentSvg();\n        if (parentSvg) {\n            this.highlightLayer = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n            this.highlightLayer.setAttribute('class', 'blocklyConnectionHighlightLayer');\n            parentSvg.appendChild(this.highlightLayer);\n        }\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     * Kept for backwards compatibility.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.connectionSize = enabled ? 'medium' : 'minimal';\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.connectionSize = size;\n    }\n    /**\n     * Highlights all valid connection points for the given moving block.\n     *\n     * @param movingBlock The block being moved.\n     * @param allConnections All available connections on the workspace.\n     * @param localConnections Connections available on the moving block.\n     */\n    highlightValidConnections(movingBlock, allConnections, localConnections) {\n        this.clearHighlights();\n        const validConnections = this.findAllValidConnections(movingBlock, allConnections, localConnections);\n        // Apply visual highlighting to each valid connection\n        // Sort by AST depth (parents first) so child highlights are added after and render on top\n        const validConnectionsSorted = validConnections.sort((a, b) => {\n            const depthA = this.getBlockDepth(a.neighbour.getSourceBlock());\n            const depthB = this.getBlockDepth(b.neighbour.getSourceBlock());\n            // Render shallower blocks first, then deeper blocks (child highlights added last)\n            return depthA - depthB;\n        });\n        for (const validConnection of validConnectionsSorted) {\n            const sourceBlock = validConnection.neighbour.getSourceBlock();\n            if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n                continue;\n            // Check if any ancestor block already has a highlight\n            const hasAncestorHighlight = this.hasAncestorWithHighlight(sourceBlock);\n            // Create the highlight (fully transparent if ancestor has one)\n            this.highlightConnection(validConnection.neighbour, hasAncestorHighlight);\n            // Track this block as having a highlight\n            this.highlightedBlocks.add(sourceBlock);\n        }\n        // Update highlight positions when workspace scrolls\n        if (this.scrollListener) {\n            const svgGroup = this.workspace.getSvgGroup();\n            if (svgGroup) {\n                this.workspace.addChangeListener(this.scrollListener);\n            }\n        }\n        return validConnections;\n    }\n    /**\n     * Finds all valid connections between the moving block and workspace connections.\n     *\n     * @param movingBlock The block being moved.\n     * @param allConnections All available connections on the workspace.\n     * @param localConnections Connections available on the moving block.\n     * @returns Array of valid connection pairs.\n     */\n    findAllValidConnections(movingBlock, allConnections, localConnections) {\n        const validConnections = [];\n        const connectionChecker = movingBlock.workspace.connectionChecker;\n        for (const localConn of localConnections) {\n            for (const potentialNeighbour of allConnections) {\n                // Skip connections on the moving block itself or its descendants\n                if (this.getFilterReason(potentialNeighbour, movingBlock)) {\n                    continue;\n                }\n                // Skip connections already occupied by the moving block\n                // (e.g., a color value block already in the moving block's color input)\n                if (potentialNeighbour.targetConnection &&\n                    localConnections.includes(potentialNeighbour.targetConnection)) {\n                    continue;\n                }\n                // Only highlight where the moving block can attach TO other blocks,\n                // not where other blocks would insert INTO the moving block's inputs.\n                // Valid: OUTPUTINPUT, PREVIOUSNEXT, NEXTPREVIOUS\n                const isValidDirection = (localConn.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE &&\n                    potentialNeighbour.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE) ||\n                    (localConn.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT &&\n                        potentialNeighbour.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT) ||\n                    (localConn.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT &&\n                        potentialNeighbour.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT);\n                if (!isValidDirection) {\n                    continue;\n                }\n                // Check type compatibility and add to results\n                if (connectionChecker.canConnect(localConn, potentialNeighbour, true, Infinity)) {\n                    validConnections.push({\n                        local: localConn,\n                        neighbour: potentialNeighbour,\n                        distance: this.calculateDistance(localConn, potentialNeighbour),\n                    });\n                }\n            }\n        }\n        // Sort by distance and limit for performance.\n        // Use stable sort to preserve spatial ordering when distances are equal.\n        // We track original indices to guarantee stability across all JS engines.\n        const indexed = validConnections.map((conn, index) => ({ conn, index }));\n        indexed.sort((a, b) => {\n            const distanceDiff = a.conn.distance - b.conn.distance;\n            // If distances differ, sort by distance (closer connections first)\n            if (distanceDiff !== 0)\n                return distanceDiff;\n            // If distances are equal, preserve original order from allConnections\n            return a.index - b.index;\n        });\n        return indexed.slice(0, MAX_HIGHLIGHTED_CONNECTIONS).map(item => item.conn);\n    }\n    /**\n     * Applies visual highlighting to a single connection.\n     *\n     * @param connection The connection to highlight.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     */\n    highlightConnection(connection, isOverlapping = false) {\n        try {\n            this.createConnectionVisualization(connection, isOverlapping);\n        }\n        catch (error) {\n            console.debug('Failed to highlight connection (non-critical):', error);\n        }\n    }\n    /**\n     * Creates connection-type-appropriate visual highlight.\n     *\n     * @param connection The connection to create a highlight for.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     */\n    createConnectionVisualization(connection, isOverlapping = false) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n            return;\n        const workspace = sourceBlock.workspace;\n        const svgGroup = workspace.getSvgGroup();\n        if (!svgGroup)\n            return;\n        let highlight;\n        switch (connection.type) {\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT:\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT:\n                highlight = this.createStatementNotch(connection, workspace, isOverlapping);\n                break;\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE:\n            case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE:\n                highlight = this.createValueOutline(connection, workspace, isOverlapping);\n                break;\n            default:\n                return;\n        }\n        if (highlight) {\n            // Store metadata for click handling\n            highlight.setAttribute('data-connection-x', connection.x.toString());\n            highlight.setAttribute('data-connection-y', connection.y.toString());\n            highlight.setAttribute('data-connection-type', connection.type.toString());\n            this.elementToConnection.set(highlight, connection);\n            this.elementToOriginalCoords.set(highlight, {\n                connection: connection,\n                type: highlight.tagName.toLowerCase(),\n            });\n            // Enable connection selection via click\n            if (this.onConnectionClick) {\n                const clickHandler = (event) => {\n                    event.stopPropagation();\n                    this.onConnectionClick(connection);\n                };\n                highlight.addEventListener('click', clickHandler);\n                highlight.addEventListener('pointerdown', clickHandler);\n            }\n        }\n    }\n    /**\n     * Creates a notch-style highlight for statement connections.\n     * Attached to block's SVG to follow block movement during stack rearrangement.\n     *\n     * @param connection The statement connection to highlight.\n     * @param workspace The workspace for coordinate transformation.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     * @returns The SVG element representing the notch.\n     */\n    createStatementNotch(connection, workspace, isOverlapping = false) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg)) {\n            throw new Error('Source block is not a BlockSvg');\n        }\n        const renderer = sourceBlock.workspace.getRenderer();\n        const constants = renderer.getConstants();\n        const connectionShape = constants.shapeFor(connection);\n        if (!connectionShape || !connectionShape.pathLeft) {\n            throw new Error('No connection shape available');\n        }\n        const xLen = constants.NOTCH_OFFSET_LEFT - constants.CORNER_RADIUS;\n        const pathLeft = connectionShape.pathLeft;\n        const notchWidth = connectionShape.width;\n        let highlightPath;\n        if (this.connectionSize === 'minimal') {\n            // Minimal: simple notch outline\n            highlightPath = (`M ${-xLen} 0 ` +\n                `h ${xLen} ` +\n                pathLeft +\n                `h ${xLen}`);\n        }\n        else {\n            // Medium/Large: flat-top, notched-bottom shape for larger click target\n            const topPadding = this.connectionSize === 'large' ? 6 : 4;\n            const bottomPadding = this.connectionSize === 'large' ? 6 : 4;\n            highlightPath = (`M ${-xLen} ${-topPadding} ` + // Start top-left\n                `v ${topPadding + bottomPadding} ` + // Go down left side\n                `h ${xLen} ` + // Go right to notch start (x=0)\n                pathLeft + // Draw notch at bottom\n                `h ${xLen} ` + // Go right from notch end\n                `v ${-(topPadding + bottomPadding)} ` + // Go up right side\n                `h ${-(notchWidth + xLen * 2)} ` + // Go left across top back to start\n                `Z` // Close path\n            );\n        }\n        const highlightSvg = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n        const coords = this.transformCoordinates(connection.x, connection.y, workspace);\n        const scale = workspace.scale;\n        const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n        const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n        highlightSvg.setAttribute('d', highlightPath);\n        highlightSvg.setAttribute('transform', transformation);\n        if (isOverlapping && this.ancestorConnectionsOverlap) {\n            highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n        }\n        else {\n            highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n        }\n        highlightSvg.setAttribute('stroke-width', '2.5');\n        highlightSvg.setAttribute('stroke-linejoin', 'round');\n        highlightSvg.setAttribute('stroke-linecap', 'round');\n        highlightSvg.setAttribute('class', 'blocklyPotentialConnection');\n        highlightSvg.style.pointerEvents = 'auto';\n        highlightSvg.style.cursor = 'pointer';\n        // Add to workspace highlight layer\n        if (this.highlightLayer) {\n            this.highlightLayer.appendChild(highlightSvg);\n            this.highlightedElements.add(highlightSvg);\n        }\n        return highlightSvg;\n    }\n    /**\n     * Creates a value connection highlight using the renderer's puzzle tab shape.\n     * Manages SVG independently to avoid core rendering lifecycle interference.\n     *\n     * @param connection The value connection to highlight.\n     * @param sourceBlock The block containing the connection.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     * @returns The SVG element created, or null if unsuccessful.\n     */\n    createCoreBasedValueHighlight(connection, sourceBlock, isOverlapping = false) {\n        try {\n            const renderer = sourceBlock.workspace.getRenderer();\n            const constants = renderer.getConstants();\n            const connectionShape = constants.shapeFor(connection);\n            if (!connectionShape) {\n                return null;\n            }\n            let connPath = '';\n            let measurableHeight = constants.TAB_HEIGHT;\n            if (connectionShape.isDynamic) {\n                const renderInfo = sourceBlock.renderInfo_;\n                if (renderInfo) {\n                    const connectionMeasurable = this.findConnectionMeasurable(connection, renderInfo);\n                    if (connectionMeasurable && connectionMeasurable.height) {\n                        measurableHeight = connectionMeasurable.height;\n                    }\n                }\n                connPath = connectionShape.pathDown(measurableHeight);\n            }\n            else if (connectionShape.pathDown) {\n                connPath = connectionShape.pathDown;\n            }\n            else {\n                return null;\n            }\n            const yLen = constants.TAB_OFFSET_FROM_TOP;\n            let highlightPath;\n            if (this.connectionSize === 'minimal') {\n                // Minimal: standard thin outline\n                highlightPath = (`M 0 ${-yLen} ` +\n                    `v ${yLen} ` +\n                    connPath +\n                    `v ${yLen}`);\n            }\n            else {\n                // Medium/Large: puzzle tab on left, rectangular extension to right\n                // Size to fit within an empty connection socket (similar to puzzle tab width)\n                const tabWidth = connectionShape.width || constants.TAB_WIDTH || 8;\n                const rightPadding = this.connectionSize === 'large' ? tabWidth * 1.5 : tabWidth;\n                const totalHeight = yLen * 2 + measurableHeight;\n                highlightPath = (`M 0 ${-yLen} ` + // Start above connection\n                    `v ${yLen} ` + // Down to connection point\n                    connPath + // Draw the puzzle tab (left side)\n                    `v ${yLen} ` + // Down to bottom-left\n                    `h ${rightPadding} ` + // Right to bottom-right (fits empty socket)\n                    `v ${-totalHeight} ` + // Up to top-right\n                    `h ${-rightPadding} ` + // Left back to top-left\n                    `Z` // Close the shape\n                );\n            }\n            const highlightSvg = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n            const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n            const scale = this.workspace.scale;\n            const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n            const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n            highlightSvg.setAttribute('d', highlightPath);\n            highlightSvg.setAttribute('transform', transformation);\n            if (isOverlapping && this.ancestorConnectionsOverlap) {\n                highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n            }\n            else {\n                highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n            }\n            highlightSvg.setAttribute('stroke-width', '8');\n            highlightSvg.setAttribute('class', 'blocklyPotentialConnection');\n            highlightSvg.style.pointerEvents = 'auto';\n            highlightSvg.style.cursor = 'pointer';\n            // Add to workspace highlight layer\n            if (this.highlightLayer) {\n                this.highlightLayer.appendChild(highlightSvg);\n                this.highlightedElements.add(highlightSvg);\n                this.elementToConnection.set(highlightSvg, connection);\n                this.elementToOriginalCoords.set(highlightSvg, {\n                    connection: connection,\n                    type: 'path',\n                });\n                if (this.onConnectionClick) {\n                    const clickHandler = (event) => {\n                        event.stopPropagation();\n                        this.onConnectionClick(connection);\n                    };\n                    highlightSvg.addEventListener('click', clickHandler);\n                    highlightSvg.addEventListener('pointerdown', clickHandler);\n                }\n                return highlightSvg;\n            }\n        }\n        catch (error) {\n            console.debug('Failed to create core-based value highlight, using fallback:', error);\n        }\n        return null;\n    }\n    /**\n     * Finds the connection measurable object from render info that corresponds to the given connection.\n     *\n     * @param connection The rendered connection to find.\n     * @param renderInfo The block's render info.\n     * @returns The connection measurable, or null if not found.\n     */\n    findConnectionMeasurable(connection, renderInfo) {\n        if (!renderInfo || !renderInfo.rows) {\n            return null;\n        }\n        // Search through all rows and elements to find the matching connection\n        for (const row of renderInfo.rows) {\n            if (row.elements) {\n                for (const element of row.elements) {\n                    if (element.connectionModel === connection) {\n                        return element;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Creates an outline highlight for value connections.\n     * Uses renderer-based shapes for Geras/Thrasos, falls back to rounded rect for Zelos.\n     *\n     * @param connection The value connection to highlight.\n     * @param workspace The workspace for coordinate transformation.\n     * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n     * @returns The SVG element representing the value outline.\n     */\n    createValueOutline(connection, workspace, isOverlapping = false) {\n        const sourceBlock = connection.getSourceBlock();\n        if (sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            const renderer = sourceBlock.workspace.getRenderer();\n            const rendererName = renderer.constructor.name;\n            const isZelos = rendererName.toLowerCase().includes('zelos');\n            // Use core shapes for Geras/Thrasos (Zelos requires unavailable renderInfo)\n            if (!isZelos) {\n                const shapeHighlight = this.createCoreBasedValueHighlight(connection, sourceBlock, isOverlapping);\n                if (shapeHighlight) {\n                    shapeHighlight.setAttribute('data-already-in-dom', 'true');\n                    return shapeHighlight;\n                }\n            }\n        }\n        // Fallback rounded rect for Zelos or if core shapes unavailable\n        // Add to workspace highlight layer for proper z-order\n        const socketBounds = this.getActualSocketBounds(connection, workspace);\n        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n        // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n        if (sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            const coords = this.transformCoordinates(socketBounds.x, socketBounds.y, workspace);\n            const scale = workspace.scale;\n            const cornerRadius = Math.min(socketBounds.height / 2, 25);\n            rect.setAttribute('x', coords.x.toString());\n            rect.setAttribute('y', coords.y.toString());\n            rect.setAttribute('width', (socketBounds.width * scale).toString());\n            rect.setAttribute('height', (socketBounds.height * scale).toString());\n            rect.setAttribute('rx', cornerRadius.toString());\n            rect.setAttribute('ry', cornerRadius.toString());\n            if (isOverlapping && this.ancestorConnectionsOverlap) {\n                rect.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n            }\n            else {\n                rect.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n            }\n            rect.setAttribute('stroke-width', '6');\n            rect.setAttribute('stroke-dasharray', '3,3');\n            rect.setAttribute('class', 'blocklyPotentialConnection');\n            rect.style.pointerEvents = 'auto';\n            rect.style.cursor = 'pointer';\n            // Add to workspace highlight layer\n            if (this.highlightLayer) {\n                this.highlightLayer.appendChild(rect);\n                this.highlightedElements.add(rect);\n                this.elementToConnection.set(rect, connection);\n                this.elementToOriginalCoords.set(rect, {\n                    connection: connection,\n                    type: 'rect',\n                });\n                if (this.onConnectionClick) {\n                    const clickHandler = (event) => {\n                        event.stopPropagation();\n                        this.onConnectionClick(connection);\n                    };\n                    rect.addEventListener('click', clickHandler);\n                    rect.addEventListener('pointerdown', clickHandler);\n                }\n                return rect;\n            }\n        }\n        // Fallback if highlight layer not available\n        throw new Error('Failed to add rect highlight to workspace layer');\n    }\n    /**\n     * Gets bounds for socket contents or reasonable defaults.\n     *\n     * @param connection The value connection to analyze.\n     * @param workspace The workspace for coordinate reference.\n     * @returns Bounds object with x, y, width, height.\n     */\n    getActualSocketBounds(connection, workspace) {\n        try {\n            const targetBlock = connection.targetBlock();\n            if (targetBlock && targetBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                const blockBounds = targetBlock.getBoundingRectangle();\n                return {\n                    x: blockBounds.left,\n                    y: blockBounds.top,\n                    width: blockBounds.right - blockBounds.left,\n                    height: blockBounds.bottom - blockBounds.top,\n                };\n            }\n            const shadowBlock = connection.getShadowDom();\n            if (shadowBlock && connection.targetConnection) {\n                const shadowTargetBlock = connection.targetConnection.getSourceBlock();\n                if (shadowTargetBlock && shadowTargetBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    const shadowBounds = shadowTargetBlock.getBoundingRectangle();\n                    return {\n                        x: shadowBounds.left,\n                        y: shadowBounds.top,\n                        width: shadowBounds.right - shadowBounds.left,\n                        height: shadowBounds.bottom - shadowBounds.top,\n                    };\n                }\n            }\n            const sourceBlock = connection.getSourceBlock();\n            if (sourceBlock && sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                const input = this.findInputForConnection(sourceBlock, connection);\n                if (input) {\n                    const estimatedBounds = this.estimateInputBounds(input, connection);\n                    if (estimatedBounds) {\n                        return estimatedBounds;\n                    }\n                }\n            }\n            return {\n                x: connection.x,\n                y: connection.y - 15,\n                width: 80,\n                height: 30,\n            };\n        }\n        catch (error) {\n            console.debug('Failed to get socket bounds, using defaults:', error);\n            return {\n                x: connection.x,\n                y: connection.y - 15,\n                width: 80,\n                height: 30,\n            };\n        }\n    }\n    /**\n     * Finds the input that contains the given connection.\n     *\n     * @param block The block to search.\n     * @param connection The connection to find.\n     * @returns The input containing the connection, or null.\n     */\n    findInputForConnection(block, connection) {\n        const inputs = block.inputList;\n        for (const input of inputs) {\n            if (input.connection === connection) {\n                return input;\n            }\n        }\n        return null;\n    }\n    /**\n     * Estimates bounds for an input based on field content.\n     *\n     * @param input The input to estimate bounds for.\n     * @param connection The connection for positioning reference.\n     * @returns Estimated bounds or null if cannot determine.\n     */\n    estimateInputBounds(input, connection) {\n        try {\n            if (input.fieldRow && input.fieldRow.length > 0) {\n                let totalWidth = 0;\n                const maxHeight = 30;\n                for (const field of input.fieldRow) {\n                    if (field.getText) {\n                        const text = field.getText();\n                        const fieldWidth = Math.max(text.length * 8 + 20, 40);\n                        totalWidth += fieldWidth;\n                    }\n                    else {\n                        totalWidth += 40;\n                    }\n                }\n                return {\n                    x: connection.x,\n                    y: connection.y - maxHeight / 2,\n                    width: totalWidth,\n                    height: maxHeight,\n                };\n            }\n            return null;\n        }\n        catch (error) {\n            console.debug('Failed to estimate input bounds:', error);\n            return null;\n        }\n    }\n    /**\n     * Transforms workspace coordinates to SVG coordinates.\n     *\n     * @param x Workspace x coordinate.\n     * @param y Workspace y coordinate.\n     * @param workspace The workspace for transformation parameters.\n     * @returns Transformed coordinates.\n     */\n    transformCoordinates(x, y, workspace) {\n        const scale = workspace.scale;\n        const translation = workspace.getOriginOffsetInPixels();\n        return {\n            x: x * scale + translation.x,\n            y: y * scale + translation.y,\n        };\n    }\n    /**\n     * Returns why a connection should be filtered, or null if valid.\n     *\n     * @param connection The connection to check.\n     * @param movingBlock The block being moved.\n     * @returns The filter reason string, or null if not filtered.\n     */\n    getFilterReason(connection, movingBlock) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!sourceBlock)\n            return 'no-source-block';\n        if (sourceBlock.isInsertionMarker())\n            return 'insertion-marker';\n        // Filter out connections that would require moving an immoveable block\n        // Case 1: PREVIOUS/OUTPUT connections on immoveable blocks (inserting before would push them)\n        if (!sourceBlock.isMovable() &&\n            (connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT ||\n                connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE)) {\n            return 'immoveable-block-source';\n        }\n        // Case 2: NEXT/INPUT connections that are already occupied by immoveable blocks\n        // (inserting would push the immoveable target aside)\n        const targetConnection = connection.targetConnection;\n        if (targetConnection) {\n            const targetBlock = targetConnection.getSourceBlock();\n            if (targetBlock && !targetBlock.isMovable()) {\n                if (connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT ||\n                    connection.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE) {\n                    return 'immoveable-block-target';\n                }\n            }\n        }\n        if (sourceBlock === movingBlock)\n            return 'moving-block';\n        // Include all descendants including input value blocks (true parameter)\n        // This prevents highlighting connections on blocks inside the moving block's inputs\n        const movingDescendants = movingBlock.getDescendants(true);\n        if (movingDescendants.includes(sourceBlock)) {\n            return 'moving-block-descendant';\n        }\n        return null;\n    }\n    /**\n     * Checks if connection should be filtered (on moving block or preview).\n     *\n     * @param connection The connection to check.\n     * @param movingBlock The block being moved.\n     * @returns True if the connection should be filtered out.\n     */\n    isConnectionOnMovingBlock(connection, movingBlock) {\n        return this.getFilterReason(connection, movingBlock) !== null;\n    }\n    /**\n     * Calculates the distance between two connections.\n     *\n     * @param conn1 First connection.\n     * @param conn2 Second connection.\n     * @returns The distance between the connections.\n     */\n    calculateDistance(conn1, conn2) {\n        const dx = conn1.x - conn2.x;\n        const dy = conn1.y - conn2.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n    /**\n     * Calculates the depth of a block in the AST (how many parents it has).\n     * Top-level blocks have depth 0, their children have depth 1, etc.\n     *\n     * @param block The block to measure depth for.\n     * @returns The depth of the block in the tree.\n     */\n    getBlockDepth(block) {\n        if (!block)\n            return 0;\n        let depth = 0;\n        let current = block;\n        // Walk up the parent chain counting levels\n        while (current) {\n            const parent = current.getParent();\n            if (!parent)\n                break;\n            depth++;\n            current = parent;\n        }\n        return depth;\n    }\n    /**\n     * Checks if any ancestor block has a highlight.\n     * Only follows OUTPUTINPUT value connection chains, not statement chains.\n     * Used to make descendant highlights transparent to avoid visual clutter.\n     *\n     * @param block The block to check.\n     * @returns True if any value parent has a highlight.\n     */\n    hasAncestorWithHighlight(block) {\n        let current = block;\n        // Only follow value parent chain (blocks connected via OUTPUT/INPUT)\n        while (current) {\n            const outputConnection = current.outputConnection;\n            if (!outputConnection || !outputConnection.isConnected()) {\n                // No output connection or not connected, stop searching\n                break;\n            }\n            // Get the parent block this output is connected to\n            const targetConnection = outputConnection.targetConnection;\n            if (!targetConnection)\n                break;\n            const parent = targetConnection.getSourceBlock();\n            if (!parent || !(parent instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n                break;\n            // Check if this parent has a highlight\n            if (this.highlightedBlocks.has(parent)) {\n                return true;\n            }\n            // Continue up the value parent chain\n            current = parent;\n        }\n        return false;\n    }\n    /**\n     * Removes all connection highlighting.\n     */\n    clearHighlights() {\n        if (this.scrollListener) {\n            this.workspace.removeChangeListener(this.scrollListener);\n        }\n        for (const element of this.highlightedElements) {\n            try {\n                if (element instanceof SVGElement) {\n                    element.remove();\n                }\n                else if (element.parentNode) {\n                    element.parentNode.removeChild(element);\n                }\n            }\n            catch (error) {\n                // Silently fail - element may have already been removed\n            }\n        }\n        this.highlightedElements.clear();\n        this.highlightedBlocks.clear();\n    }\n    /**\n     * Updates highlight positions based on workspace scroll and zoom.\n     */\n    updateHighlights() {\n        for (const element of this.highlightedElements) {\n            const coordsInfo = this.elementToOriginalCoords.get(element);\n            if (!coordsInfo)\n                continue;\n            const { connection, type } = coordsInfo;\n            try {\n                switch (type) {\n                    case 'circle':\n                        this.updateCirclePosition(element, connection);\n                        break;\n                    case 'path':\n                        this.updatePathPosition(element, connection);\n                        break;\n                    case 'rect':\n                        this.updateRectPosition(element, connection);\n                        break;\n                }\n            }\n            catch (error) {\n                console.debug('Failed to update highlight position:', error);\n            }\n        }\n    }\n    /**\n     * Updates the position of a circle highlight element.\n     *\n     * @param circle The circle element to update.\n     * @param connection The connection this circle represents.\n     */\n    updateCirclePosition(circle, connection) {\n        const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n        circle.setAttribute('cx', coords.x.toString());\n        circle.setAttribute('cy', coords.y.toString());\n    }\n    /**\n     * Updates the position of a path highlight element.\n     * Paths are in the highlight layer at parent SVG level.\n     *\n     * @param path The path element to update.\n     * @param connection The connection this path represents.\n     */\n    updatePathPosition(path, connection) {\n        const sourceBlock = connection.getSourceBlock();\n        if (!(sourceBlock instanceof blockly__WEBPACK_IMPORTED_MODULE_0__.BlockSvg))\n            return;\n        // Transform workspace coordinates to SVG coordinates\n        const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n        const scale = this.workspace.scale;\n        const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n        const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n        path.setAttribute('transform', transformation);\n    }\n    /**\n     * Updates the position of a rect highlight (value connections).\n     * Rects are in the highlight layer at parent SVG level.\n     *\n     * @param rect The rect element to update.\n     * @param connection The connection this rect represents.\n     */\n    updateRectPosition(rect, connection) {\n        const socketBounds = this.getActualSocketBounds(connection, this.workspace);\n        const coords = this.transformCoordinates(socketBounds.x, socketBounds.y, this.workspace);\n        const scale = this.workspace.scale;\n        rect.setAttribute('x', coords.x.toString());\n        rect.setAttribute('y', coords.y.toString());\n        rect.setAttribute('width', (socketBounds.width * scale).toString());\n        rect.setAttribute('height', (socketBounds.height * scale).toString());\n    }\n    /**\n     * Checks if a point (in screen coordinates) intersects with any highlighted connection.\n     *\n     * @param screenX Screen X coordinate.\n     * @param screenY Screen Y coordinate.\n     * @returns The connection at the point, or null if no connection found.\n     */\n    findConnectionAtPoint(screenX, screenY) {\n        for (const element of this.highlightedElements) {\n            const bounds = element.getBoundingClientRect();\n            if (screenX >= bounds.left && screenX <= bounds.right &&\n                screenY >= bounds.top && screenY <= bounds.bottom) {\n                const connection = this.elementToConnection.get(element);\n                if (connection) {\n                    return connection;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets bounding boxes for all currently highlighted connections.\n     *\n     * @returns Array of connection bounds information.\n     */\n    getHighlightedConnectionBounds() {\n        const results = [];\n        for (const element of this.highlightedElements) {\n            const connection = this.elementToConnection.get(element);\n            if (connection) {\n                const bounds = element.getBoundingClientRect();\n                results.push({\n                    connection,\n                    bounds,\n                    element\n                });\n            }\n        }\n        return results;\n    }\n    /**\n     * Disposes of the highlighter and cleans up all resources.\n     */\n    dispose() {\n        this.clearHighlights();\n        // Remove the highlight layer\n        if (this.highlightLayer && this.highlightLayer.parentNode) {\n            this.highlightLayer.parentNode.removeChild(this.highlightLayer);\n            this.highlightLayer = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2Nvbm5lY3Rpb25faGlnaGxpZ2h0ZXIudHM/ZGIxMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIEJsb2NrU3ZnLFxuICBSZW5kZXJlZENvbm5lY3Rpb24sXG4gIFdvcmtzcGFjZVN2ZyxcbiAgdXRpbHMsXG4gIENvbm5lY3Rpb25UeXBlLFxufSBmcm9tICdibG9ja2x5JztcblxuLyoqIE1heGltdW0gbnVtYmVyIG9mIGNvbm5lY3Rpb25zIHRvIGhpZ2hsaWdodCBmb3IgcGVyZm9ybWFuY2UuICovXG5jb25zdCBNQVhfSElHSExJR0hURURfQ09OTkVDVElPTlMgPSA1MDtcblxuLyoqIERlbGF5IGluIG1pbGxpc2Vjb25kcyBiZWZvcmUgcmV0cnlpbmcgRE9NIGluc2VydGlvbiBmb3IgaGlnaGxpZ2h0cy4gKi9cbmNvbnN0IEhJR0hMSUdIVF9SRVRSWV9ERUxBWV9NUyA9IDEwO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB2YWxpZCBjb25uZWN0aW9uIHBhaXIgYmV0d2VlbiBhIG1vdmluZyBibG9jayBhbmQgYSB0YXJnZXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRDb25uZWN0aW9uIHtcbiAgLyoqIEEgY29ubmVjdGlvbiBvbiB0aGUgZHJhZ2dpbmcgYmxvY2sgdGhhdCBjYW4gY29ubmVjdC4gKi9cbiAgbG9jYWw6IFJlbmRlcmVkQ29ubmVjdGlvbjtcbiAgLyoqIEEgY29ubmVjdGlvbiBvbiB0aGUgd29ya3NwYWNlIHRoYXQgY2FuIGFjY2VwdCB0aGUgbG9jYWwgY29ubmVjdGlvbi4gKi9cbiAgbmVpZ2hib3VyOiBSZW5kZXJlZENvbm5lY3Rpb247XG4gIC8qKiBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgY29ubmVjdGlvbnMgKGZvciBzb3J0aW5nL2ZpbHRlcmluZykuICovXG4gIGRpc3RhbmNlOiBudW1iZXI7XG59XG5cbi8qKlxuICogTWFuYWdlcyB2aXN1YWwgaGlnaGxpZ2h0aW5nIG9mIHZhbGlkIGNvbm5lY3Rpb24gcG9pbnRzIGR1cmluZyBibG9jayBtb3Zlcy5cbiAqIFByb3ZpZGVzIHZpc3VhbCBmZWVkYmFjayBzaG93aW5nIGFsbCBwb3NzaWJsZSBkZXN0aW5hdGlvbnMgZm9yIGEgbW92aW5nIGJsb2NrLlxuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkhpZ2hsaWdodGVyIHtcbiAgLyoqIFNldCBvZiBET00gZWxlbWVudHMgdGhhdCBoYXZlIGhpZ2hsaWdodGluZyBhcHBsaWVkLiAqL1xuICBwcml2YXRlIGhpZ2hsaWdodGVkRWxlbWVudHM6IFNldDxFbGVtZW50PiA9IG5ldyBTZXQoKTtcblxuICAvKiogTWFwIGZyb20gaGlnaGxpZ2h0IGVsZW1lbnRzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgY29ubmVjdGlvbnMuICovXG4gIHByaXZhdGUgZWxlbWVudFRvQ29ubmVjdGlvbjogV2Vha01hcDxFbGVtZW50LCBSZW5kZXJlZENvbm5lY3Rpb24+ID1cbiAgICBuZXcgV2Vha01hcCgpO1xuXG4gIC8qKiBNYXAgZnJvbSBoaWdobGlnaHQgZWxlbWVudHMgdG8gdGhlaXIgb3JpZ2luYWwgY29ubmVjdGlvbiBjb29yZGluYXRlcyBmb3IgdXBkYXRpbmcuICovXG4gIHByaXZhdGUgZWxlbWVudFRvT3JpZ2luYWxDb29yZHM6IFdlYWtNYXA8XG4gICAgRWxlbWVudCxcbiAgICB7Y29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uOyB0eXBlOiBzdHJpbmd9XG4gID4gPSBuZXcgV2Vha01hcCgpO1xuXG4gIC8qKiBUaGUgd29ya3NwYWNlIHRoaXMgaGlnaGxpZ2h0ZXIgaXMgb3BlcmF0aW5nIG9uLiAqL1xuICBwcml2YXRlIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnO1xuXG4gIC8qKiBDYWxsYmFjayBmb3IgaGFuZGxpbmcgY29ubmVjdGlvbiBjbGlja3MuICovXG4gIHByaXZhdGUgb25Db25uZWN0aW9uQ2xpY2s/OiAoY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uKSA9PiB2b2lkO1xuXG4gIC8qKiBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgZm9yIHVwZGF0aW5nIGhpZ2hsaWdodCBwb3NpdGlvbnMuICovXG4gIHByaXZhdGUgc2Nyb2xsTGlzdGVuZXI/OiAoKSA9PiB2b2lkO1xuXG4gIC8qKiBDb25uZWN0aW9uIGhpZ2hsaWdodCBzaXplOiBtaW5pbWFsLCBtZWRpdW0sIG9yIGxhcmdlLiAqL1xuICBwcml2YXRlIGNvbm5lY3Rpb25TaXplOiAnbWluaW1hbCcgfCAnbWVkaXVtJyB8ICdsYXJnZScgPSAnbWVkaXVtJztcblxuICAvKipcbiAgICogV2hldGhlciBhbmNlc3RvciBjb25uZWN0aW9ucyB2aXN1YWxseSBvdmVybGFwIGRlc2NlbmRhbnQgY29ubmVjdGlvbnMgaW4gdGhpcyByZW5kZXJlci5cbiAgICogVHJ1ZSBmb3IgWmVsb3MgKGNvbm5lY3Rpb25zIG92ZXJsYXApLCBmYWxzZSBmb3IgR2VyYXMvVGhyYXNvcyAoY29ubmVjdGlvbnMgZG9uJ3Qgb3ZlcmxhcCkuXG4gICAqL1xuICBwcml2YXRlIGFuY2VzdG9yQ29ubmVjdGlvbnNPdmVybGFwOiBib29sZWFuO1xuXG4gIC8qKiBTZXBhcmF0ZSBTVkcgZ3JvdXAgbGF5ZXIgZm9yIGFsbCBoaWdobGlnaHRzLCByZW5kZXJlZCBvbiB0b3Agb2YgYmxvY2tzLiAqL1xuICBwcml2YXRlIGhpZ2hsaWdodExheWVyOiBTVkdHRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBTZXQgb2YgYmxvY2tzIHRoYXQgaGF2ZSBoaWdobGlnaHRzLCB1c2VkIHRvIGRldGVjdCBvdmVybGFwcGluZyBkZXNjZW5kYW50cy4gKi9cbiAgcHJpdmF0ZSBoaWdobGlnaHRlZEJsb2NrczogU2V0PEJsb2NrU3ZnPiA9IG5ldyBTZXQoKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2ZyxcbiAgICBvbkNvbm5lY3Rpb25DbGljaz86IChjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24pID0+IHZvaWQsXG4gICkge1xuICAgIHRoaXMud29ya3NwYWNlID0gd29ya3NwYWNlO1xuICAgIHRoaXMub25Db25uZWN0aW9uQ2xpY2sgPSBvbkNvbm5lY3Rpb25DbGljaztcblxuICAgIC8vIFplbG9zOiBhbmNlc3RvciBjb25uZWN0aW9ucyB2aXN1YWxseSBvdmVybGFwIGRlc2NlbmRhbnRzXG4gICAgLy8gR2VyYXMvVGhyYXNvczogY29ubmVjdGlvbnMgcmVuZGVyIHNpZGUtYnktc2lkZSB3aXRob3V0IG92ZXJsYXBwaW5nXG4gICAgY29uc3QgcmVuZGVyZXJOYW1lID0gd29ya3NwYWNlLmdldFJlbmRlcmVyKCkuY29uc3RydWN0b3IubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMuYW5jZXN0b3JDb25uZWN0aW9uc092ZXJsYXAgPSByZW5kZXJlck5hbWUuaW5jbHVkZXMoJ3plbG9zJyk7XG5cbiAgICB0aGlzLnNjcm9sbExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVIaWdobGlnaHRzKCk7XG4gICAgfTtcblxuICAgIC8vIENyZWF0ZSBhIHNlcGFyYXRlIGhpZ2hsaWdodCBsYXllciBhdCB3b3Jrc3BhY2UgbGV2ZWxcbiAgICB0aGlzLmNyZWF0ZUhpZ2hsaWdodExheWVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGRlZGljYXRlZCBTVkcgbGF5ZXIgZm9yIGhpZ2hsaWdodHMgdGhhdCByZW5kZXJzIG9uIHRvcCBvZiBhbGwgYmxvY2tzLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVIaWdobGlnaHRMYXllcigpOiB2b2lkIHtcbiAgICAvLyBBcHBlbmQgdG8gcGFyZW50IFNWRyAoYWJvdmUgd29ya3NwYWNlIGdyb3VwKSB0byBhdm9pZCBjb29yZGluYXRlIHRyYW5zZm9ybSBpc3N1ZXNcbiAgICBjb25zdCBwYXJlbnRTdmcgPSB0aGlzLndvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKTtcbiAgICBpZiAocGFyZW50U3ZnKSB7XG4gICAgICB0aGlzLmhpZ2hsaWdodExheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICB0aGlzLmhpZ2hsaWdodExheWVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYmxvY2tseUNvbm5lY3Rpb25IaWdobGlnaHRMYXllcicpO1xuICAgICAgcGFyZW50U3ZnLmFwcGVuZENoaWxkKHRoaXMuaGlnaGxpZ2h0TGF5ZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBmYXR0ZXIgY29ubmVjdGlvbiBoaWdobGlnaHRzLlxuICAgKiBLZXB0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0byB1c2UgZmF0dGVyIGNvbm5lY3Rpb25zIHdpdGggbGFyZ2VyIGNsaWNrIHRhcmdldHMuXG4gICAqL1xuICBzZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5jb25uZWN0aW9uU2l6ZSA9IGVuYWJsZWQgPyAnbWVkaXVtJyA6ICdtaW5pbWFsJztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IHNpemUuXG4gICAqXG4gICAqIEBwYXJhbSBzaXplIFRoZSBzaXplIGxldmVsOiAnbWluaW1hbCcsICdtZWRpdW0nLCBvciAnbGFyZ2UnLlxuICAgKi9cbiAgc2V0Q29ubmVjdGlvblNpemUoc2l6ZTogJ21pbmltYWwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnKTogdm9pZCB7XG4gICAgdGhpcy5jb25uZWN0aW9uU2l6ZSA9IHNpemU7XG4gIH1cblxuICAvKipcbiAgICogSGlnaGxpZ2h0cyBhbGwgdmFsaWQgY29ubmVjdGlvbiBwb2ludHMgZm9yIHRoZSBnaXZlbiBtb3ZpbmcgYmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSBtb3ZpbmdCbG9jayBUaGUgYmxvY2sgYmVpbmcgbW92ZWQuXG4gICAqIEBwYXJhbSBhbGxDb25uZWN0aW9ucyBBbGwgYXZhaWxhYmxlIGNvbm5lY3Rpb25zIG9uIHRoZSB3b3Jrc3BhY2UuXG4gICAqIEBwYXJhbSBsb2NhbENvbm5lY3Rpb25zIENvbm5lY3Rpb25zIGF2YWlsYWJsZSBvbiB0aGUgbW92aW5nIGJsb2NrLlxuICAgKi9cbiAgaGlnaGxpZ2h0VmFsaWRDb25uZWN0aW9ucyhcbiAgICBtb3ZpbmdCbG9jazogQmxvY2tTdmcsXG4gICAgYWxsQ29ubmVjdGlvbnM6IFJlbmRlcmVkQ29ubmVjdGlvbltdLFxuICAgIGxvY2FsQ29ubmVjdGlvbnM6IFJlbmRlcmVkQ29ubmVjdGlvbltdLFxuICApOiBWYWxpZENvbm5lY3Rpb25bXSB7XG4gICAgdGhpcy5jbGVhckhpZ2hsaWdodHMoKTtcblxuICAgIGNvbnN0IHZhbGlkQ29ubmVjdGlvbnMgPSB0aGlzLmZpbmRBbGxWYWxpZENvbm5lY3Rpb25zKFxuICAgICAgbW92aW5nQmxvY2ssXG4gICAgICBhbGxDb25uZWN0aW9ucyxcbiAgICAgIGxvY2FsQ29ubmVjdGlvbnMsXG4gICAgKTtcblxuICAgIC8vIEFwcGx5IHZpc3VhbCBoaWdobGlnaHRpbmcgdG8gZWFjaCB2YWxpZCBjb25uZWN0aW9uXG4gICAgLy8gU29ydCBieSBBU1QgZGVwdGggKHBhcmVudHMgZmlyc3QpIHNvIGNoaWxkIGhpZ2hsaWdodHMgYXJlIGFkZGVkIGFmdGVyIGFuZCByZW5kZXIgb24gdG9wXG4gICAgY29uc3QgdmFsaWRDb25uZWN0aW9uc1NvcnRlZCA9IHZhbGlkQ29ubmVjdGlvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgZGVwdGhBID0gdGhpcy5nZXRCbG9ja0RlcHRoKGEubmVpZ2hib3VyLmdldFNvdXJjZUJsb2NrKCkpO1xuICAgICAgY29uc3QgZGVwdGhCID0gdGhpcy5nZXRCbG9ja0RlcHRoKGIubmVpZ2hib3VyLmdldFNvdXJjZUJsb2NrKCkpO1xuICAgICAgLy8gUmVuZGVyIHNoYWxsb3dlciBibG9ja3MgZmlyc3QsIHRoZW4gZGVlcGVyIGJsb2NrcyAoY2hpbGQgaGlnaGxpZ2h0cyBhZGRlZCBsYXN0KVxuICAgICAgcmV0dXJuIGRlcHRoQSAtIGRlcHRoQjtcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgdmFsaWRDb25uZWN0aW9uIG9mIHZhbGlkQ29ubmVjdGlvbnNTb3J0ZWQpIHtcbiAgICAgIGNvbnN0IHNvdXJjZUJsb2NrID0gdmFsaWRDb25uZWN0aW9uLm5laWdoYm91ci5nZXRTb3VyY2VCbG9jaygpO1xuICAgICAgaWYgKCEoc291cmNlQmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2ZykpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBDaGVjayBpZiBhbnkgYW5jZXN0b3IgYmxvY2sgYWxyZWFkeSBoYXMgYSBoaWdobGlnaHRcbiAgICAgIGNvbnN0IGhhc0FuY2VzdG9ySGlnaGxpZ2h0ID0gdGhpcy5oYXNBbmNlc3RvcldpdGhIaWdobGlnaHQoc291cmNlQmxvY2spO1xuXG4gICAgICAvLyBDcmVhdGUgdGhlIGhpZ2hsaWdodCAoZnVsbHkgdHJhbnNwYXJlbnQgaWYgYW5jZXN0b3IgaGFzIG9uZSlcbiAgICAgIHRoaXMuaGlnaGxpZ2h0Q29ubmVjdGlvbih2YWxpZENvbm5lY3Rpb24ubmVpZ2hib3VyLCBoYXNBbmNlc3RvckhpZ2hsaWdodCk7XG5cbiAgICAgIC8vIFRyYWNrIHRoaXMgYmxvY2sgYXMgaGF2aW5nIGEgaGlnaGxpZ2h0XG4gICAgICB0aGlzLmhpZ2hsaWdodGVkQmxvY2tzLmFkZChzb3VyY2VCbG9jayk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGhpZ2hsaWdodCBwb3NpdGlvbnMgd2hlbiB3b3Jrc3BhY2Ugc2Nyb2xsc1xuICAgIGlmICh0aGlzLnNjcm9sbExpc3RlbmVyKSB7XG4gICAgICBjb25zdCBzdmdHcm91cCA9IHRoaXMud29ya3NwYWNlLmdldFN2Z0dyb3VwKCk7XG4gICAgICBpZiAoc3ZnR3JvdXApIHtcbiAgICAgICAgdGhpcy53b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5zY3JvbGxMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkQ29ubmVjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYWxsIHZhbGlkIGNvbm5lY3Rpb25zIGJldHdlZW4gdGhlIG1vdmluZyBibG9jayBhbmQgd29ya3NwYWNlIGNvbm5lY3Rpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gbW92aW5nQmxvY2sgVGhlIGJsb2NrIGJlaW5nIG1vdmVkLlxuICAgKiBAcGFyYW0gYWxsQ29ubmVjdGlvbnMgQWxsIGF2YWlsYWJsZSBjb25uZWN0aW9ucyBvbiB0aGUgd29ya3NwYWNlLlxuICAgKiBAcGFyYW0gbG9jYWxDb25uZWN0aW9ucyBDb25uZWN0aW9ucyBhdmFpbGFibGUgb24gdGhlIG1vdmluZyBibG9jay5cbiAgICogQHJldHVybnMgQXJyYXkgb2YgdmFsaWQgY29ubmVjdGlvbiBwYWlycy5cbiAgICovXG4gIHByaXZhdGUgZmluZEFsbFZhbGlkQ29ubmVjdGlvbnMoXG4gICAgbW92aW5nQmxvY2s6IEJsb2NrU3ZnLFxuICAgIGFsbENvbm5lY3Rpb25zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSxcbiAgICBsb2NhbENvbm5lY3Rpb25zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSxcbiAgKTogVmFsaWRDb25uZWN0aW9uW10ge1xuICAgIGNvbnN0IHZhbGlkQ29ubmVjdGlvbnM6IFZhbGlkQ29ubmVjdGlvbltdID0gW107XG4gICAgY29uc3QgY29ubmVjdGlvbkNoZWNrZXIgPSBtb3ZpbmdCbG9jay53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXI7XG5cbiAgICBmb3IgKGNvbnN0IGxvY2FsQ29ubiBvZiBsb2NhbENvbm5lY3Rpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IHBvdGVudGlhbE5laWdoYm91ciBvZiBhbGxDb25uZWN0aW9ucykge1xuICAgICAgICAvLyBTa2lwIGNvbm5lY3Rpb25zIG9uIHRoZSBtb3ZpbmcgYmxvY2sgaXRzZWxmIG9yIGl0cyBkZXNjZW5kYW50c1xuICAgICAgICBpZiAodGhpcy5nZXRGaWx0ZXJSZWFzb24ocG90ZW50aWFsTmVpZ2hib3VyLCBtb3ZpbmdCbG9jaykpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNraXAgY29ubmVjdGlvbnMgYWxyZWFkeSBvY2N1cGllZCBieSB0aGUgbW92aW5nIGJsb2NrXG4gICAgICAgIC8vIChlLmcuLCBhIGNvbG9yIHZhbHVlIGJsb2NrIGFscmVhZHkgaW4gdGhlIG1vdmluZyBibG9jaydzIGNvbG9yIGlucHV0KVxuICAgICAgICBpZiAocG90ZW50aWFsTmVpZ2hib3VyLnRhcmdldENvbm5lY3Rpb24gJiZcbiAgICAgICAgICAgIGxvY2FsQ29ubmVjdGlvbnMuaW5jbHVkZXMocG90ZW50aWFsTmVpZ2hib3VyLnRhcmdldENvbm5lY3Rpb24gYXMgUmVuZGVyZWRDb25uZWN0aW9uKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT25seSBoaWdobGlnaHQgd2hlcmUgdGhlIG1vdmluZyBibG9jayBjYW4gYXR0YWNoIFRPIG90aGVyIGJsb2NrcyxcbiAgICAgICAgLy8gbm90IHdoZXJlIG90aGVyIGJsb2NrcyB3b3VsZCBpbnNlcnQgSU5UTyB0aGUgbW92aW5nIGJsb2NrJ3MgaW5wdXRzLlxuICAgICAgICAvLyBWYWxpZDogT1VUUFVU4oaSSU5QVVQsIFBSRVZJT1VT4oaSTkVYVCwgTkVYVOKGklBSRVZJT1VTXG4gICAgICAgIGNvbnN0IGlzVmFsaWREaXJlY3Rpb24gPVxuICAgICAgICAgIChsb2NhbENvbm4udHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuT1VUUFVUX1ZBTFVFICYmXG4gICAgICAgICAgIHBvdGVudGlhbE5laWdoYm91ci50eXBlID09PSBDb25uZWN0aW9uVHlwZS5JTlBVVF9WQUxVRSkgfHxcbiAgICAgICAgICAobG9jYWxDb25uLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLlBSRVZJT1VTX1NUQVRFTUVOVCAmJlxuICAgICAgICAgICBwb3RlbnRpYWxOZWlnaGJvdXIudHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuTkVYVF9TVEFURU1FTlQpIHx8XG4gICAgICAgICAgKGxvY2FsQ29ubi50eXBlID09PSBDb25uZWN0aW9uVHlwZS5ORVhUX1NUQVRFTUVOVCAmJlxuICAgICAgICAgICBwb3RlbnRpYWxOZWlnaGJvdXIudHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuUFJFVklPVVNfU1RBVEVNRU5UKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWREaXJlY3Rpb24pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIHR5cGUgY29tcGF0aWJpbGl0eSBhbmQgYWRkIHRvIHJlc3VsdHNcbiAgICAgICAgaWYgKGNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QobG9jYWxDb25uLCBwb3RlbnRpYWxOZWlnaGJvdXIsIHRydWUsIEluZmluaXR5KSkge1xuICAgICAgICAgIHZhbGlkQ29ubmVjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICBsb2NhbDogbG9jYWxDb25uLFxuICAgICAgICAgICAgbmVpZ2hib3VyOiBwb3RlbnRpYWxOZWlnaGJvdXIsXG4gICAgICAgICAgICBkaXN0YW5jZTogdGhpcy5jYWxjdWxhdGVEaXN0YW5jZShsb2NhbENvbm4sIHBvdGVudGlhbE5laWdoYm91ciksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTb3J0IGJ5IGRpc3RhbmNlIGFuZCBsaW1pdCBmb3IgcGVyZm9ybWFuY2UuXG4gICAgLy8gVXNlIHN0YWJsZSBzb3J0IHRvIHByZXNlcnZlIHNwYXRpYWwgb3JkZXJpbmcgd2hlbiBkaXN0YW5jZXMgYXJlIGVxdWFsLlxuICAgIC8vIFdlIHRyYWNrIG9yaWdpbmFsIGluZGljZXMgdG8gZ3VhcmFudGVlIHN0YWJpbGl0eSBhY3Jvc3MgYWxsIEpTIGVuZ2luZXMuXG4gICAgY29uc3QgaW5kZXhlZCA9IHZhbGlkQ29ubmVjdGlvbnMubWFwKChjb25uLCBpbmRleCkgPT4gKHtjb25uLCBpbmRleH0pKTtcbiAgICBpbmRleGVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlRGlmZiA9IGEuY29ubi5kaXN0YW5jZSAtIGIuY29ubi5kaXN0YW5jZTtcbiAgICAgIC8vIElmIGRpc3RhbmNlcyBkaWZmZXIsIHNvcnQgYnkgZGlzdGFuY2UgKGNsb3NlciBjb25uZWN0aW9ucyBmaXJzdClcbiAgICAgIGlmIChkaXN0YW5jZURpZmYgIT09IDApIHJldHVybiBkaXN0YW5jZURpZmY7XG4gICAgICAvLyBJZiBkaXN0YW5jZXMgYXJlIGVxdWFsLCBwcmVzZXJ2ZSBvcmlnaW5hbCBvcmRlciBmcm9tIGFsbENvbm5lY3Rpb25zXG4gICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5kZXhlZC5zbGljZSgwLCBNQVhfSElHSExJR0hURURfQ09OTkVDVElPTlMpLm1hcChpdGVtID0+IGl0ZW0uY29ubik7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyB2aXN1YWwgaGlnaGxpZ2h0aW5nIHRvIGEgc2luZ2xlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIGhpZ2hsaWdodC5cbiAgICogQHBhcmFtIGlzT3ZlcmxhcHBpbmcgV2hldGhlciB0aGlzIGNvbm5lY3Rpb24gb3ZlcmxhcHMgd2l0aCBhbiBhbmNlc3RvciBjb25uZWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBoaWdobGlnaHRDb25uZWN0aW9uKGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbiwgaXNPdmVybGFwcGluZzogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY3JlYXRlQ29ubmVjdGlvblZpc3VhbGl6YXRpb24oY29ubmVjdGlvbiwgaXNPdmVybGFwcGluZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0ZhaWxlZCB0byBoaWdobGlnaHQgY29ubmVjdGlvbiAobm9uLWNyaXRpY2FsKTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgY29ubmVjdGlvbi10eXBlLWFwcHJvcHJpYXRlIHZpc3VhbCBoaWdobGlnaHQuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIGNyZWF0ZSBhIGhpZ2hsaWdodCBmb3IuXG4gICAqIEBwYXJhbSBpc092ZXJsYXBwaW5nIFdoZXRoZXIgdGhpcyBjb25uZWN0aW9uIG92ZXJsYXBzIHdpdGggYW4gYW5jZXN0b3IgY29ubmVjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQ29ubmVjdGlvblZpc3VhbGl6YXRpb24oY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLCBpc092ZXJsYXBwaW5nOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBzb3VyY2VCbG9jayA9IGNvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICBpZiAoIShzb3VyY2VCbG9jayBpbnN0YW5jZW9mIEJsb2NrU3ZnKSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgd29ya3NwYWNlID0gc291cmNlQmxvY2sud29ya3NwYWNlO1xuICAgIGNvbnN0IHN2Z0dyb3VwID0gd29ya3NwYWNlLmdldFN2Z0dyb3VwKCk7XG4gICAgaWYgKCFzdmdHcm91cCkgcmV0dXJuO1xuXG4gICAgbGV0IGhpZ2hsaWdodDogU1ZHRWxlbWVudDtcblxuICAgIHN3aXRjaCAoY29ubmVjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIENvbm5lY3Rpb25UeXBlLlBSRVZJT1VTX1NUQVRFTUVOVDpcbiAgICAgIGNhc2UgQ29ubmVjdGlvblR5cGUuTkVYVF9TVEFURU1FTlQ6XG4gICAgICAgIGhpZ2hsaWdodCA9IHRoaXMuY3JlYXRlU3RhdGVtZW50Tm90Y2goY29ubmVjdGlvbiwgd29ya3NwYWNlLCBpc092ZXJsYXBwaW5nKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ29ubmVjdGlvblR5cGUuSU5QVVRfVkFMVUU6XG4gICAgICBjYXNlIENvbm5lY3Rpb25UeXBlLk9VVFBVVF9WQUxVRTpcbiAgICAgICAgaGlnaGxpZ2h0ID0gdGhpcy5jcmVhdGVWYWx1ZU91dGxpbmUoY29ubmVjdGlvbiwgd29ya3NwYWNlLCBpc092ZXJsYXBwaW5nKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaGlnaGxpZ2h0KSB7XG4gICAgICAvLyBTdG9yZSBtZXRhZGF0YSBmb3IgY2xpY2sgaGFuZGxpbmdcbiAgICAgIGhpZ2hsaWdodC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29ubmVjdGlvbi14JywgY29ubmVjdGlvbi54LnRvU3RyaW5nKCkpO1xuICAgICAgaGlnaGxpZ2h0LnNldEF0dHJpYnV0ZSgnZGF0YS1jb25uZWN0aW9uLXknLCBjb25uZWN0aW9uLnkudG9TdHJpbmcoKSk7XG4gICAgICBoaWdobGlnaHQuc2V0QXR0cmlidXRlKFxuICAgICAgICAnZGF0YS1jb25uZWN0aW9uLXR5cGUnLFxuICAgICAgICBjb25uZWN0aW9uLnR5cGUudG9TdHJpbmcoKSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuZWxlbWVudFRvQ29ubmVjdGlvbi5zZXQoaGlnaGxpZ2h0LCBjb25uZWN0aW9uKTtcbiAgICAgIHRoaXMuZWxlbWVudFRvT3JpZ2luYWxDb29yZHMuc2V0KGhpZ2hsaWdodCwge1xuICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICB0eXBlOiBoaWdobGlnaHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEVuYWJsZSBjb25uZWN0aW9uIHNlbGVjdGlvbiB2aWEgY2xpY2tcbiAgICAgIGlmICh0aGlzLm9uQ29ubmVjdGlvbkNsaWNrKSB7XG4gICAgICAgIGNvbnN0IGNsaWNrSGFuZGxlciA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkNsaWNrIShjb25uZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgaGlnaGxpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgaGlnaGxpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5vdGNoLXN0eWxlIGhpZ2hsaWdodCBmb3Igc3RhdGVtZW50IGNvbm5lY3Rpb25zLlxuICAgKiBBdHRhY2hlZCB0byBibG9jaydzIFNWRyB0byBmb2xsb3cgYmxvY2sgbW92ZW1lbnQgZHVyaW5nIHN0YWNrIHJlYXJyYW5nZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBzdGF0ZW1lbnQgY29ubmVjdGlvbiB0byBoaWdobGlnaHQuXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSBmb3IgY29vcmRpbmF0ZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICogQHBhcmFtIGlzT3ZlcmxhcHBpbmcgV2hldGhlciB0aGlzIGNvbm5lY3Rpb24gb3ZlcmxhcHMgd2l0aCBhbiBhbmNlc3RvciBjb25uZWN0aW9uLlxuICAgKiBAcmV0dXJucyBUaGUgU1ZHIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBub3RjaC5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlU3RhdGVtZW50Tm90Y2goXG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIGlzT3ZlcmxhcHBpbmc6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogU1ZHRWxlbWVudCB7XG4gICAgY29uc3Qgc291cmNlQmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKCEoc291cmNlQmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2ZykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGJsb2NrIGlzIG5vdCBhIEJsb2NrU3ZnJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyZXIgPSBzb3VyY2VCbG9jay53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKTtcbiAgICBjb25zdCBjb25zdGFudHMgPSByZW5kZXJlci5nZXRDb25zdGFudHMoKTtcbiAgICBjb25zdCBjb25uZWN0aW9uU2hhcGUgPSBjb25zdGFudHMuc2hhcGVGb3IoY29ubmVjdGlvbik7XG5cbiAgICBpZiAoIWNvbm5lY3Rpb25TaGFwZSB8fCAhKGNvbm5lY3Rpb25TaGFwZSBhcyBhbnkpLnBhdGhMZWZ0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbm5lY3Rpb24gc2hhcGUgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgeExlbiA9IGNvbnN0YW50cy5OT1RDSF9PRkZTRVRfTEVGVCAtIGNvbnN0YW50cy5DT1JORVJfUkFESVVTO1xuICAgIGNvbnN0IHBhdGhMZWZ0ID0gKGNvbm5lY3Rpb25TaGFwZSBhcyBhbnkpLnBhdGhMZWZ0O1xuICAgIGNvbnN0IG5vdGNoV2lkdGggPSAoY29ubmVjdGlvblNoYXBlIGFzIGFueSkud2lkdGg7XG5cbiAgICBsZXQgaGlnaGxpZ2h0UGF0aDogc3RyaW5nO1xuXG4gICAgaWYgKHRoaXMuY29ubmVjdGlvblNpemUgPT09ICdtaW5pbWFsJykge1xuICAgICAgLy8gTWluaW1hbDogc2ltcGxlIG5vdGNoIG91dGxpbmVcbiAgICAgIGhpZ2hsaWdodFBhdGggPSAoXG4gICAgICAgIGBNICR7LXhMZW59IDAgYCArXG4gICAgICAgIGBoICR7eExlbn0gYCArXG4gICAgICAgIHBhdGhMZWZ0ICtcbiAgICAgICAgYGggJHt4TGVufWBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1lZGl1bS9MYXJnZTogZmxhdC10b3AsIG5vdGNoZWQtYm90dG9tIHNoYXBlIGZvciBsYXJnZXIgY2xpY2sgdGFyZ2V0XG4gICAgICBjb25zdCB0b3BQYWRkaW5nID0gdGhpcy5jb25uZWN0aW9uU2l6ZSA9PT0gJ2xhcmdlJyA/IDYgOiA0O1xuICAgICAgY29uc3QgYm90dG9tUGFkZGluZyA9IHRoaXMuY29ubmVjdGlvblNpemUgPT09ICdsYXJnZScgPyA2IDogNDtcblxuICAgICAgaGlnaGxpZ2h0UGF0aCA9IChcbiAgICAgICAgYE0gJHsteExlbn0gJHstdG9wUGFkZGluZ30gYCArICAgICAgICAgICAvLyBTdGFydCB0b3AtbGVmdFxuICAgICAgICBgdiAke3RvcFBhZGRpbmcgKyBib3R0b21QYWRkaW5nfSBgICsgICAgIC8vIEdvIGRvd24gbGVmdCBzaWRlXG4gICAgICAgIGBoICR7eExlbn0gYCArICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR28gcmlnaHQgdG8gbm90Y2ggc3RhcnQgKHg9MClcbiAgICAgICAgcGF0aExlZnQgKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IG5vdGNoIGF0IGJvdHRvbVxuICAgICAgICBgaCAke3hMZW59IGAgKyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvIHJpZ2h0IGZyb20gbm90Y2ggZW5kXG4gICAgICAgIGB2ICR7LSh0b3BQYWRkaW5nICsgYm90dG9tUGFkZGluZyl9IGAgKyAgLy8gR28gdXAgcmlnaHQgc2lkZVxuICAgICAgICBgaCAkey0obm90Y2hXaWR0aCArIHhMZW4gKiAyKX0gYCArICAgICAgIC8vIEdvIGxlZnQgYWNyb3NzIHRvcCBiYWNrIHRvIHN0YXJ0XG4gICAgICAgIGBaYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgcGF0aFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBoaWdobGlnaHRTdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblxuICAgIC8vIFRyYW5zZm9ybSB3b3Jrc3BhY2UgY29vcmRpbmF0ZXMgdG8gU1ZHIGNvb3JkaW5hdGVzIChoaWdobGlnaHQgbGF5ZXIgaXMgYXQgcGFyZW50IFNWRyBsZXZlbClcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzKGNvbm5lY3Rpb24ueCwgY29ubmVjdGlvbi55LCB3b3Jrc3BhY2UpO1xuICAgIGNvbnN0IHNjYWxlID0gd29ya3NwYWNlLnNjYWxlO1xuICAgIGNvbnN0IHNjYWxlVHJhbnNmb3JtID0gc291cmNlQmxvY2suUlRMID8gYCBzY2FsZSgkey1zY2FsZX0gJHtzY2FsZX0pYCA6IGAgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IGB0cmFuc2xhdGUoJHtjb29yZHMueH0sICR7Y29vcmRzLnl9KSR7c2NhbGVUcmFuc2Zvcm19YDtcblxuICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ2QnLCBoaWdobGlnaHRQYXRoKTtcbiAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm1hdGlvbik7XG5cbiAgICBpZiAoaXNPdmVybGFwcGluZyAmJiB0aGlzLmFuY2VzdG9yQ29ubmVjdGlvbnNPdmVybGFwKSB7XG4gICAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3JnYmEoMCwgMjU1LCAwLCAwKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3JnYmEoMCwgMjU1LCAwLCAwLjcpJyk7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzIuNScpO1xuICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lam9pbicsICdyb3VuZCcpO1xuICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lY2FwJywgJ3JvdW5kJyk7XG4gICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYmxvY2tseVBvdGVudGlhbENvbm5lY3Rpb24nKTtcbiAgICBoaWdobGlnaHRTdmcuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICBoaWdobGlnaHRTdmcuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXG4gICAgLy8gQWRkIHRvIHdvcmtzcGFjZSBoaWdobGlnaHQgbGF5ZXJcbiAgICBpZiAodGhpcy5oaWdobGlnaHRMYXllcikge1xuICAgICAgdGhpcy5oaWdobGlnaHRMYXllci5hcHBlbmRDaGlsZChoaWdobGlnaHRTdmcpO1xuICAgICAgdGhpcy5oaWdobGlnaHRlZEVsZW1lbnRzLmFkZChoaWdobGlnaHRTdmcpO1xuICAgIH1cblxuICAgIHJldHVybiBoaWdobGlnaHRTdmc7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHZhbHVlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IHVzaW5nIHRoZSByZW5kZXJlcidzIHB1enpsZSB0YWIgc2hhcGUuXG4gICAqIE1hbmFnZXMgU1ZHIGluZGVwZW5kZW50bHkgdG8gYXZvaWQgY29yZSByZW5kZXJpbmcgbGlmZWN5Y2xlIGludGVyZmVyZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIHZhbHVlIGNvbm5lY3Rpb24gdG8gaGlnaGxpZ2h0LlxuICAgKiBAcGFyYW0gc291cmNlQmxvY2sgVGhlIGJsb2NrIGNvbnRhaW5pbmcgdGhlIGNvbm5lY3Rpb24uXG4gICAqIEBwYXJhbSBpc092ZXJsYXBwaW5nIFdoZXRoZXIgdGhpcyBjb25uZWN0aW9uIG92ZXJsYXBzIHdpdGggYW4gYW5jZXN0b3IgY29ubmVjdGlvbi5cbiAgICogQHJldHVybnMgVGhlIFNWRyBlbGVtZW50IGNyZWF0ZWQsIG9yIG51bGwgaWYgdW5zdWNjZXNzZnVsLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVDb3JlQmFzZWRWYWx1ZUhpZ2hsaWdodChcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgc291cmNlQmxvY2s6IEJsb2NrU3ZnLFxuICAgIGlzT3ZlcmxhcHBpbmc6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogU1ZHRWxlbWVudCB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZW5kZXJlciA9IHNvdXJjZUJsb2NrLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpO1xuICAgICAgY29uc3QgY29uc3RhbnRzID0gcmVuZGVyZXIuZ2V0Q29uc3RhbnRzKCk7XG5cbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25TaGFwZSA9IGNvbnN0YW50cy5zaGFwZUZvcihjb25uZWN0aW9uKTtcbiAgICAgIGlmICghY29ubmVjdGlvblNoYXBlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBsZXQgY29ublBhdGggPSAnJztcbiAgICAgIGxldCBtZWFzdXJhYmxlSGVpZ2h0ID0gY29uc3RhbnRzLlRBQl9IRUlHSFQ7XG5cbiAgICAgIGlmICgoY29ubmVjdGlvblNoYXBlIGFzIGFueSkuaXNEeW5hbWljKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlckluZm8gPSAoc291cmNlQmxvY2sgYXMgYW55KS5yZW5kZXJJbmZvXztcbiAgICAgICAgaWYgKHJlbmRlckluZm8pIHtcbiAgICAgICAgICBjb25zdCBjb25uZWN0aW9uTWVhc3VyYWJsZSA9IHRoaXMuZmluZENvbm5lY3Rpb25NZWFzdXJhYmxlKGNvbm5lY3Rpb24sIHJlbmRlckluZm8pO1xuICAgICAgICAgIGlmIChjb25uZWN0aW9uTWVhc3VyYWJsZSAmJiBjb25uZWN0aW9uTWVhc3VyYWJsZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIG1lYXN1cmFibGVIZWlnaHQgPSBjb25uZWN0aW9uTWVhc3VyYWJsZS5oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29ublBhdGggPSAoY29ubmVjdGlvblNoYXBlIGFzIGFueSkucGF0aERvd24obWVhc3VyYWJsZUhlaWdodCk7XG4gICAgICB9IGVsc2UgaWYgKChjb25uZWN0aW9uU2hhcGUgYXMgYW55KS5wYXRoRG93bikge1xuICAgICAgICBjb25uUGF0aCA9IChjb25uZWN0aW9uU2hhcGUgYXMgYW55KS5wYXRoRG93bjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB5TGVuID0gY29uc3RhbnRzLlRBQl9PRkZTRVRfRlJPTV9UT1A7XG5cbiAgICAgIGxldCBoaWdobGlnaHRQYXRoOiBzdHJpbmc7XG4gICAgICBpZiAodGhpcy5jb25uZWN0aW9uU2l6ZSA9PT0gJ21pbmltYWwnKSB7XG4gICAgICAgIC8vIE1pbmltYWw6IHN0YW5kYXJkIHRoaW4gb3V0bGluZVxuICAgICAgICBoaWdobGlnaHRQYXRoID0gKFxuICAgICAgICAgIGBNIDAgJHsteUxlbn0gYCArXG4gICAgICAgICAgYHYgJHt5TGVufSBgICtcbiAgICAgICAgICBjb25uUGF0aCArXG4gICAgICAgICAgYHYgJHt5TGVufWBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE1lZGl1bS9MYXJnZTogcHV6emxlIHRhYiBvbiBsZWZ0LCByZWN0YW5ndWxhciBleHRlbnNpb24gdG8gcmlnaHRcbiAgICAgICAgLy8gU2l6ZSB0byBmaXQgd2l0aGluIGFuIGVtcHR5IGNvbm5lY3Rpb24gc29ja2V0IChzaW1pbGFyIHRvIHB1enpsZSB0YWIgd2lkdGgpXG4gICAgICAgIGNvbnN0IHRhYldpZHRoID0gKGNvbm5lY3Rpb25TaGFwZSBhcyBhbnkpLndpZHRoIHx8IGNvbnN0YW50cy5UQUJfV0lEVEggfHwgODtcbiAgICAgICAgY29uc3QgcmlnaHRQYWRkaW5nID0gdGhpcy5jb25uZWN0aW9uU2l6ZSA9PT0gJ2xhcmdlJyA/IHRhYldpZHRoICogMS41IDogdGFiV2lkdGg7XG4gICAgICAgIGNvbnN0IHRvdGFsSGVpZ2h0ID0geUxlbiAqIDIgKyBtZWFzdXJhYmxlSGVpZ2h0O1xuXG4gICAgICAgIGhpZ2hsaWdodFBhdGggPSAoXG4gICAgICAgICAgYE0gMCAkey15TGVufSBgICsgICAgICAgICAgICAgIC8vIFN0YXJ0IGFib3ZlIGNvbm5lY3Rpb25cbiAgICAgICAgICBgdiAke3lMZW59IGAgKyAgICAgICAgICAgICAgICAgIC8vIERvd24gdG8gY29ubmVjdGlvbiBwb2ludFxuICAgICAgICAgIGNvbm5QYXRoICsgICAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyB0aGUgcHV6emxlIHRhYiAobGVmdCBzaWRlKVxuICAgICAgICAgIGB2ICR7eUxlbn0gYCArICAgICAgICAgICAgICAgICAgLy8gRG93biB0byBib3R0b20tbGVmdFxuICAgICAgICAgIGBoICR7cmlnaHRQYWRkaW5nfSBgICsgICAgICAgICAgLy8gUmlnaHQgdG8gYm90dG9tLXJpZ2h0IChmaXRzIGVtcHR5IHNvY2tldClcbiAgICAgICAgICBgdiAkey10b3RhbEhlaWdodH0gYCArICAgICAgICAgIC8vIFVwIHRvIHRvcC1yaWdodFxuICAgICAgICAgIGBoICR7LXJpZ2h0UGFkZGluZ30gYCArICAgICAgICAgLy8gTGVmdCBiYWNrIHRvIHRvcC1sZWZ0XG4gICAgICAgICAgYFpgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGUgc2hhcGVcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGlnaGxpZ2h0U3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSB3b3Jrc3BhY2UgY29vcmRpbmF0ZXMgdG8gU1ZHIGNvb3JkaW5hdGVzIChoaWdobGlnaHQgbGF5ZXIgaXMgYXQgcGFyZW50IFNWRyBsZXZlbClcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMudHJhbnNmb3JtQ29vcmRpbmF0ZXMoY29ubmVjdGlvbi54LCBjb25uZWN0aW9uLnksIHRoaXMud29ya3NwYWNlKTtcbiAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy53b3Jrc3BhY2Uuc2NhbGU7XG4gICAgICBjb25zdCBzY2FsZVRyYW5zZm9ybSA9IHNvdXJjZUJsb2NrLlJUTCA/IGAgc2NhbGUoJHstc2NhbGV9ICR7c2NhbGV9KWAgOiBgIHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IGB0cmFuc2xhdGUoJHtjb29yZHMueH0sICR7Y29vcmRzLnl9KSR7c2NhbGVUcmFuc2Zvcm19YDtcblxuICAgICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgnZCcsIGhpZ2hsaWdodFBhdGgpO1xuICAgICAgaGlnaGxpZ2h0U3ZnLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgdHJhbnNmb3JtYXRpb24pO1xuXG4gICAgICBpZiAoaXNPdmVybGFwcGluZyAmJiB0aGlzLmFuY2VzdG9yQ29ubmVjdGlvbnNPdmVybGFwKSB7XG4gICAgICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAncmdiYSgwLCAyNTUsIDAsIDApJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3JnYmEoMCwgMjU1LCAwLCAwLjcpJyk7XG4gICAgICB9XG5cbiAgICAgIGhpZ2hsaWdodFN2Zy5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICc4Jyk7XG4gICAgICBoaWdobGlnaHRTdmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICdibG9ja2x5UG90ZW50aWFsQ29ubmVjdGlvbicpO1xuICAgICAgaGlnaGxpZ2h0U3ZnLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICBoaWdobGlnaHRTdmcuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXG4gICAgICAvLyBBZGQgdG8gd29ya3NwYWNlIGhpZ2hsaWdodCBsYXllclxuICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0TGF5ZXIpIHtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRMYXllci5hcHBlbmRDaGlsZChoaWdobGlnaHRTdmcpO1xuXG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50cy5hZGQoaGlnaGxpZ2h0U3ZnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50VG9Db25uZWN0aW9uLnNldChoaWdobGlnaHRTdmcsIGNvbm5lY3Rpb24pO1xuICAgICAgICB0aGlzLmVsZW1lbnRUb09yaWdpbmFsQ29vcmRzLnNldChoaWdobGlnaHRTdmcsIHtcbiAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgIHR5cGU6ICdwYXRoJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub25Db25uZWN0aW9uQ2xpY2spIHtcbiAgICAgICAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uQ2xpY2shKGNvbm5lY3Rpb24pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaGlnaGxpZ2h0U3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICBoaWdobGlnaHRTdmcuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBjbGlja0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodFN2ZztcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdGYWlsZWQgdG8gY3JlYXRlIGNvcmUtYmFzZWQgdmFsdWUgaGlnaGxpZ2h0LCB1c2luZyBmYWxsYmFjazonLCBlcnJvcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIGNvbm5lY3Rpb24gbWVhc3VyYWJsZSBvYmplY3QgZnJvbSByZW5kZXIgaW5mbyB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgcmVuZGVyZWQgY29ubmVjdGlvbiB0byBmaW5kLlxuICAgKiBAcGFyYW0gcmVuZGVySW5mbyBUaGUgYmxvY2sncyByZW5kZXIgaW5mby5cbiAgICogQHJldHVybnMgVGhlIGNvbm5lY3Rpb24gbWVhc3VyYWJsZSwgb3IgbnVsbCBpZiBub3QgZm91bmQuXG4gICAqL1xuICBwcml2YXRlIGZpbmRDb25uZWN0aW9uTWVhc3VyYWJsZShjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sIHJlbmRlckluZm86IGFueSk6IGFueSB7XG4gICAgaWYgKCFyZW5kZXJJbmZvIHx8ICFyZW5kZXJJbmZvLnJvd3MpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlYXJjaCB0aHJvdWdoIGFsbCByb3dzIGFuZCBlbGVtZW50cyB0byBmaW5kIHRoZSBtYXRjaGluZyBjb25uZWN0aW9uXG4gICAgZm9yIChjb25zdCByb3cgb2YgcmVuZGVySW5mby5yb3dzKSB7XG4gICAgICBpZiAocm93LmVsZW1lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiByb3cuZWxlbWVudHMpIHtcbiAgICAgICAgICBpZiAoZWxlbWVudC5jb25uZWN0aW9uTW9kZWwgPT09IGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gb3V0bGluZSBoaWdobGlnaHQgZm9yIHZhbHVlIGNvbm5lY3Rpb25zLlxuICAgKiBVc2VzIHJlbmRlcmVyLWJhc2VkIHNoYXBlcyBmb3IgR2VyYXMvVGhyYXNvcywgZmFsbHMgYmFjayB0byByb3VuZGVkIHJlY3QgZm9yIFplbG9zLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgdmFsdWUgY29ubmVjdGlvbiB0byBoaWdobGlnaHQuXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSBmb3IgY29vcmRpbmF0ZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICogQHBhcmFtIGlzT3ZlcmxhcHBpbmcgV2hldGhlciB0aGlzIGNvbm5lY3Rpb24gb3ZlcmxhcHMgd2l0aCBhbiBhbmNlc3RvciBjb25uZWN0aW9uLlxuICAgKiBAcmV0dXJucyBUaGUgU1ZHIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvdXRsaW5lLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVWYWx1ZU91dGxpbmUoXG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICAgIGlzT3ZlcmxhcHBpbmc6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogU1ZHRWxlbWVudCB7XG4gICAgY29uc3Qgc291cmNlQmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKHNvdXJjZUJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgIGNvbnN0IHJlbmRlcmVyID0gc291cmNlQmxvY2sud29ya3NwYWNlLmdldFJlbmRlcmVyKCk7XG4gICAgICBjb25zdCByZW5kZXJlck5hbWUgPSByZW5kZXJlci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgY29uc3QgaXNaZWxvcyA9IHJlbmRlcmVyTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd6ZWxvcycpO1xuXG4gICAgICAvLyBVc2UgY29yZSBzaGFwZXMgZm9yIEdlcmFzL1RocmFzb3MgKFplbG9zIHJlcXVpcmVzIHVuYXZhaWxhYmxlIHJlbmRlckluZm8pXG4gICAgICBpZiAoIWlzWmVsb3MpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVIaWdobGlnaHQgPSB0aGlzLmNyZWF0ZUNvcmVCYXNlZFZhbHVlSGlnaGxpZ2h0KGNvbm5lY3Rpb24sIHNvdXJjZUJsb2NrLCBpc092ZXJsYXBwaW5nKTtcbiAgICAgICAgaWYgKHNoYXBlSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgc2hhcGVIaWdobGlnaHQuc2V0QXR0cmlidXRlKCdkYXRhLWFscmVhZHktaW4tZG9tJywgJ3RydWUnKTtcbiAgICAgICAgICByZXR1cm4gc2hhcGVIaWdobGlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayByb3VuZGVkIHJlY3QgZm9yIFplbG9zIG9yIGlmIGNvcmUgc2hhcGVzIHVuYXZhaWxhYmxlXG4gICAgLy8gQWRkIHRvIHdvcmtzcGFjZSBoaWdobGlnaHQgbGF5ZXIgZm9yIHByb3BlciB6LW9yZGVyXG4gICAgY29uc3Qgc29ja2V0Qm91bmRzID0gdGhpcy5nZXRBY3R1YWxTb2NrZXRCb3VuZHMoY29ubmVjdGlvbiwgd29ya3NwYWNlKTtcbiAgICBjb25zdCByZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdyZWN0Jyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gd29ya3NwYWNlIGNvb3JkaW5hdGVzIHRvIFNWRyBjb29yZGluYXRlcyAoaGlnaGxpZ2h0IGxheWVyIGlzIGF0IHBhcmVudCBTVkcgbGV2ZWwpXG4gICAgaWYgKHNvdXJjZUJsb2NrIGluc3RhbmNlb2YgQmxvY2tTdmcpIHtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMudHJhbnNmb3JtQ29vcmRpbmF0ZXMoc29ja2V0Qm91bmRzLngsIHNvY2tldEJvdW5kcy55LCB3b3Jrc3BhY2UpO1xuICAgICAgY29uc3Qgc2NhbGUgPSB3b3Jrc3BhY2Uuc2NhbGU7XG4gICAgICBjb25zdCBjb3JuZXJSYWRpdXMgPSBNYXRoLm1pbihzb2NrZXRCb3VuZHMuaGVpZ2h0IC8gMiwgMjUpO1xuXG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgneCcsIGNvb3Jkcy54LnRvU3RyaW5nKCkpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCBjb29yZHMueS50b1N0cmluZygpKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlKCd3aWR0aCcsIChzb2NrZXRCb3VuZHMud2lkdGggKiBzY2FsZSkudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgKHNvY2tldEJvdW5kcy5oZWlnaHQgKiBzY2FsZSkudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgncngnLCBjb3JuZXJSYWRpdXMudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgncnknLCBjb3JuZXJSYWRpdXMudG9TdHJpbmcoKSk7XG5cbiAgICAgIGlmIChpc092ZXJsYXBwaW5nICYmIHRoaXMuYW5jZXN0b3JDb25uZWN0aW9uc092ZXJsYXApIHtcbiAgICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAncmdiYSgwLCAyNTUsIDAsIDApJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN0LnNldEF0dHJpYnV0ZSgnZmlsbCcsICdyZ2JhKDAsIDI1NSwgMCwgMC43KScpO1xuICAgICAgfVxuXG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzYnKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgJzMsMycpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Jsb2NrbHlQb3RlbnRpYWxDb25uZWN0aW9uJyk7XG4gICAgICByZWN0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7XG4gICAgICByZWN0LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblxuICAgICAgLy8gQWRkIHRvIHdvcmtzcGFjZSBoaWdobGlnaHQgbGF5ZXJcbiAgICAgIGlmICh0aGlzLmhpZ2hsaWdodExheWVyKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0TGF5ZXIuYXBwZW5kQ2hpbGQocmVjdCk7XG5cbiAgICAgICAgdGhpcy5oaWdobGlnaHRlZEVsZW1lbnRzLmFkZChyZWN0KTtcbiAgICAgICAgdGhpcy5lbGVtZW50VG9Db25uZWN0aW9uLnNldChyZWN0LCBjb25uZWN0aW9uKTtcbiAgICAgICAgdGhpcy5lbGVtZW50VG9PcmlnaW5hbENvb3Jkcy5zZXQocmVjdCwge1xuICAgICAgICAgIGNvbm5lY3Rpb246IGNvbm5lY3Rpb24sXG4gICAgICAgICAgdHlwZTogJ3JlY3QnLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5vbkNvbm5lY3Rpb25DbGljaykge1xuICAgICAgICAgIGNvbnN0IGNsaWNrSGFuZGxlciA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25DbGljayEoY29ubmVjdGlvbik7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICByZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIGlmIGhpZ2hsaWdodCBsYXllciBub3QgYXZhaWxhYmxlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYWRkIHJlY3QgaGlnaGxpZ2h0IHRvIHdvcmtzcGFjZSBsYXllcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYm91bmRzIGZvciBzb2NrZXQgY29udGVudHMgb3IgcmVhc29uYWJsZSBkZWZhdWx0cy5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIHZhbHVlIGNvbm5lY3Rpb24gdG8gYW5hbHl6ZS5cbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIGZvciBjb29yZGluYXRlIHJlZmVyZW5jZS5cbiAgICogQHJldHVybnMgQm91bmRzIG9iamVjdCB3aXRoIHgsIHksIHdpZHRoLCBoZWlnaHQuXG4gICAqL1xuICBwcml2YXRlIGdldEFjdHVhbFNvY2tldEJvdW5kcyhcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgd29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcsXG4gICk6IHt4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXJ9IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGFyZ2V0QmxvY2sgPSBjb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7XG4gICAgICBpZiAodGFyZ2V0QmxvY2sgJiYgdGFyZ2V0QmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICBjb25zdCBibG9ja0JvdW5kcyA9IHRhcmdldEJsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogYmxvY2tCb3VuZHMubGVmdCxcbiAgICAgICAgICB5OiBibG9ja0JvdW5kcy50b3AsXG4gICAgICAgICAgd2lkdGg6IGJsb2NrQm91bmRzLnJpZ2h0IC0gYmxvY2tCb3VuZHMubGVmdCxcbiAgICAgICAgICBoZWlnaHQ6IGJsb2NrQm91bmRzLmJvdHRvbSAtIGJsb2NrQm91bmRzLnRvcCxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hhZG93QmxvY2sgPSBjb25uZWN0aW9uLmdldFNoYWRvd0RvbSgpO1xuICAgICAgaWYgKHNoYWRvd0Jsb2NrICYmIGNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbikge1xuICAgICAgICBjb25zdCBzaGFkb3dUYXJnZXRCbG9jayA9IGNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgICAgICBpZiAoc2hhZG93VGFyZ2V0QmxvY2sgJiYgc2hhZG93VGFyZ2V0QmxvY2sgaW5zdGFuY2VvZiBCbG9ja1N2Zykge1xuICAgICAgICAgIGNvbnN0IHNoYWRvd0JvdW5kcyA9IHNoYWRvd1RhcmdldEJsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHNoYWRvd0JvdW5kcy5sZWZ0LFxuICAgICAgICAgICAgeTogc2hhZG93Qm91bmRzLnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBzaGFkb3dCb3VuZHMucmlnaHQgLSBzaGFkb3dCb3VuZHMubGVmdCxcbiAgICAgICAgICAgIGhlaWdodDogc2hhZG93Qm91bmRzLmJvdHRvbSAtIHNoYWRvd0JvdW5kcy50b3AsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzb3VyY2VCbG9jayA9IGNvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICAgIGlmIChzb3VyY2VCbG9jayAmJiBzb3VyY2VCbG9jayBpbnN0YW5jZW9mIEJsb2NrU3ZnKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5maW5kSW5wdXRGb3JDb25uZWN0aW9uKHNvdXJjZUJsb2NrLCBjb25uZWN0aW9uKTtcbiAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgY29uc3QgZXN0aW1hdGVkQm91bmRzID0gdGhpcy5lc3RpbWF0ZUlucHV0Qm91bmRzKGlucHV0LCBjb25uZWN0aW9uKTtcbiAgICAgICAgICBpZiAoZXN0aW1hdGVkQm91bmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gZXN0aW1hdGVkQm91bmRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBjb25uZWN0aW9uLngsXG4gICAgICAgIHk6IGNvbm5lY3Rpb24ueSAtIDE1LFxuICAgICAgICB3aWR0aDogODAsXG4gICAgICAgIGhlaWdodDogMzAsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdGYWlsZWQgdG8gZ2V0IHNvY2tldCBib3VuZHMsIHVzaW5nIGRlZmF1bHRzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IGNvbm5lY3Rpb24ueCxcbiAgICAgICAgeTogY29ubmVjdGlvbi55IC0gMTUsXG4gICAgICAgIHdpZHRoOiA4MCxcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBpbnB1dCB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gZmluZC5cbiAgICogQHJldHVybnMgVGhlIGlucHV0IGNvbnRhaW5pbmcgdGhlIGNvbm5lY3Rpb24sIG9yIG51bGwuXG4gICAqL1xuICBwcml2YXRlIGZpbmRJbnB1dEZvckNvbm5lY3Rpb24oXG4gICAgYmxvY2s6IEJsb2NrU3ZnLFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKTogYW55IHtcbiAgICBjb25zdCBpbnB1dHMgPSBibG9jay5pbnB1dExpc3Q7XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgIGlmIChpbnB1dC5jb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRXN0aW1hdGVzIGJvdW5kcyBmb3IgYW4gaW5wdXQgYmFzZWQgb24gZmllbGQgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCB0byBlc3RpbWF0ZSBib3VuZHMgZm9yLlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiBmb3IgcG9zaXRpb25pbmcgcmVmZXJlbmNlLlxuICAgKiBAcmV0dXJucyBFc3RpbWF0ZWQgYm91bmRzIG9yIG51bGwgaWYgY2Fubm90IGRldGVybWluZS5cbiAgICovXG4gIHByaXZhdGUgZXN0aW1hdGVJbnB1dEJvdW5kcyhcbiAgICBpbnB1dDogYW55LFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKToge3g6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcn0gfCBudWxsIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGlucHV0LmZpZWxkUm93ICYmIGlucHV0LmZpZWxkUm93Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IHRvdGFsV2lkdGggPSAwO1xuICAgICAgICBjb25zdCBtYXhIZWlnaHQgPSAzMDtcblxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGlucHV0LmZpZWxkUm93KSB7XG4gICAgICAgICAgaWYgKGZpZWxkLmdldFRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBmaWVsZC5nZXRUZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFdpZHRoID0gTWF0aC5tYXgodGV4dC5sZW5ndGggKiA4ICsgMjAsIDQwKTtcbiAgICAgICAgICAgIHRvdGFsV2lkdGggKz0gZmllbGRXaWR0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG90YWxXaWR0aCArPSA0MDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IGNvbm5lY3Rpb24ueCxcbiAgICAgICAgICB5OiBjb25uZWN0aW9uLnkgLSBtYXhIZWlnaHQgLyAyLFxuICAgICAgICAgIHdpZHRoOiB0b3RhbFdpZHRoLFxuICAgICAgICAgIGhlaWdodDogbWF4SGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRmFpbGVkIHRvIGVzdGltYXRlIGlucHV0IGJvdW5kczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtcyB3b3Jrc3BhY2UgY29vcmRpbmF0ZXMgdG8gU1ZHIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcGFyYW0geCBXb3Jrc3BhY2UgeCBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0geSBXb3Jrc3BhY2UgeSBjb29yZGluYXRlLlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgZm9yIHRyYW5zZm9ybWF0aW9uIHBhcmFtZXRlcnMuXG4gICAqIEByZXR1cm5zIFRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgcHJpdmF0ZSB0cmFuc2Zvcm1Db29yZGluYXRlcyhcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICApOiB7eDogbnVtYmVyOyB5OiBudW1iZXJ9IHtcbiAgICBjb25zdCBzY2FsZSA9IHdvcmtzcGFjZS5zY2FsZTtcbiAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHdvcmtzcGFjZS5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggKiBzY2FsZSArIHRyYW5zbGF0aW9uLngsXG4gICAgICB5OiB5ICogc2NhbGUgKyB0cmFuc2xhdGlvbi55LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aHkgYSBjb25uZWN0aW9uIHNob3VsZCBiZSBmaWx0ZXJlZCwgb3IgbnVsbCBpZiB2YWxpZC5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gY2hlY2suXG4gICAqIEBwYXJhbSBtb3ZpbmdCbG9jayBUaGUgYmxvY2sgYmVpbmcgbW92ZWQuXG4gICAqIEByZXR1cm5zIFRoZSBmaWx0ZXIgcmVhc29uIHN0cmluZywgb3IgbnVsbCBpZiBub3QgZmlsdGVyZWQuXG4gICAqL1xuICBwcml2YXRlIGdldEZpbHRlclJlYXNvbihcbiAgICBjb25uZWN0aW9uOiBSZW5kZXJlZENvbm5lY3Rpb24sXG4gICAgbW92aW5nQmxvY2s6IEJsb2NrU3ZnLFxuICApOiBzdHJpbmcgfCBudWxsIHtcbiAgICBjb25zdCBzb3VyY2VCbG9jayA9IGNvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICBpZiAoIXNvdXJjZUJsb2NrKSByZXR1cm4gJ25vLXNvdXJjZS1ibG9jayc7XG5cbiAgICBpZiAoc291cmNlQmxvY2suaXNJbnNlcnRpb25NYXJrZXIoKSkgcmV0dXJuICdpbnNlcnRpb24tbWFya2VyJztcblxuICAgIC8vIEZpbHRlciBvdXQgY29ubmVjdGlvbnMgdGhhdCB3b3VsZCByZXF1aXJlIG1vdmluZyBhbiBpbW1vdmVhYmxlIGJsb2NrXG4gICAgLy8gQ2FzZSAxOiBQUkVWSU9VUy9PVVRQVVQgY29ubmVjdGlvbnMgb24gaW1tb3ZlYWJsZSBibG9ja3MgKGluc2VydGluZyBiZWZvcmUgd291bGQgcHVzaCB0aGVtKVxuICAgIGlmIChcbiAgICAgICFzb3VyY2VCbG9jay5pc01vdmFibGUoKSAmJlxuICAgICAgKGNvbm5lY3Rpb24udHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuUFJFVklPVVNfU1RBVEVNRU5UIHx8XG4gICAgICAgIGNvbm5lY3Rpb24udHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuT1VUUFVUX1ZBTFVFKVxuICAgICkge1xuICAgICAgcmV0dXJuICdpbW1vdmVhYmxlLWJsb2NrLXNvdXJjZSc7XG4gICAgfVxuXG4gICAgLy8gQ2FzZSAyOiBORVhUL0lOUFVUIGNvbm5lY3Rpb25zIHRoYXQgYXJlIGFscmVhZHkgb2NjdXBpZWQgYnkgaW1tb3ZlYWJsZSBibG9ja3NcbiAgICAvLyAoaW5zZXJ0aW5nIHdvdWxkIHB1c2ggdGhlIGltbW92ZWFibGUgdGFyZ2V0IGFzaWRlKVxuICAgIGNvbnN0IHRhcmdldENvbm5lY3Rpb24gPSBjb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb247XG4gICAgaWYgKHRhcmdldENvbm5lY3Rpb24pIHtcbiAgICAgIGNvbnN0IHRhcmdldEJsb2NrID0gdGFyZ2V0Q29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgICAgaWYgKHRhcmdldEJsb2NrICYmICF0YXJnZXRCbG9jay5pc01vdmFibGUoKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY29ubmVjdGlvbi50eXBlID09PSBDb25uZWN0aW9uVHlwZS5ORVhUX1NUQVRFTUVOVCB8fFxuICAgICAgICAgIGNvbm5lY3Rpb24udHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuSU5QVVRfVkFMVUVcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuICdpbW1vdmVhYmxlLWJsb2NrLXRhcmdldCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc291cmNlQmxvY2sgPT09IG1vdmluZ0Jsb2NrKSByZXR1cm4gJ21vdmluZy1ibG9jayc7XG5cbiAgICAvLyBJbmNsdWRlIGFsbCBkZXNjZW5kYW50cyBpbmNsdWRpbmcgaW5wdXQgdmFsdWUgYmxvY2tzICh0cnVlIHBhcmFtZXRlcilcbiAgICAvLyBUaGlzIHByZXZlbnRzIGhpZ2hsaWdodGluZyBjb25uZWN0aW9ucyBvbiBibG9ja3MgaW5zaWRlIHRoZSBtb3ZpbmcgYmxvY2sncyBpbnB1dHNcbiAgICBjb25zdCBtb3ZpbmdEZXNjZW5kYW50cyA9IG1vdmluZ0Jsb2NrLmdldERlc2NlbmRhbnRzKHRydWUpO1xuICAgIGlmIChtb3ZpbmdEZXNjZW5kYW50cy5pbmNsdWRlcyhzb3VyY2VCbG9jayBhcyBCbG9ja1N2ZykpIHtcbiAgICAgIHJldHVybiAnbW92aW5nLWJsb2NrLWRlc2NlbmRhbnQnO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBjb25uZWN0aW9uIHNob3VsZCBiZSBmaWx0ZXJlZCAob24gbW92aW5nIGJsb2NrIG9yIHByZXZpZXcpLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBjaGVjay5cbiAgICogQHBhcmFtIG1vdmluZ0Jsb2NrIFRoZSBibG9jayBiZWluZyBtb3ZlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29ubmVjdGlvbiBzaG91bGQgYmUgZmlsdGVyZWQgb3V0LlxuICAgKi9cbiAgcHJpdmF0ZSBpc0Nvbm5lY3Rpb25Pbk1vdmluZ0Jsb2NrKFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgICBtb3ZpbmdCbG9jazogQmxvY2tTdmcsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdldEZpbHRlclJlYXNvbihjb25uZWN0aW9uLCBtb3ZpbmdCbG9jaykgIT09IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gY29ubmVjdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uMSBGaXJzdCBjb25uZWN0aW9uLlxuICAgKiBAcGFyYW0gY29ubjIgU2Vjb25kIGNvbm5lY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBjb25uZWN0aW9ucy5cbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlRGlzdGFuY2UoXG4gICAgY29ubjE6IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgICBjb25uMjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IGR4ID0gY29ubjEueCAtIGNvbm4yLng7XG4gICAgY29uc3QgZHkgPSBjb25uMS55IC0gY29ubjIueTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBkZXB0aCBvZiBhIGJsb2NrIGluIHRoZSBBU1QgKGhvdyBtYW55IHBhcmVudHMgaXQgaGFzKS5cbiAgICogVG9wLWxldmVsIGJsb2NrcyBoYXZlIGRlcHRoIDAsIHRoZWlyIGNoaWxkcmVuIGhhdmUgZGVwdGggMSwgZXRjLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIG1lYXN1cmUgZGVwdGggZm9yLlxuICAgKiBAcmV0dXJucyBUaGUgZGVwdGggb2YgdGhlIGJsb2NrIGluIHRoZSB0cmVlLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRCbG9ja0RlcHRoKGJsb2NrOiBCbG9ja1N2ZyB8IG51bGwpOiBudW1iZXIge1xuICAgIGlmICghYmxvY2spIHJldHVybiAwO1xuXG4gICAgbGV0IGRlcHRoID0gMDtcbiAgICBsZXQgY3VycmVudCA9IGJsb2NrO1xuXG4gICAgLy8gV2FsayB1cCB0aGUgcGFyZW50IGNoYWluIGNvdW50aW5nIGxldmVsc1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBjdXJyZW50LmdldFBhcmVudCgpO1xuICAgICAgaWYgKCFwYXJlbnQpIGJyZWFrO1xuICAgICAgZGVwdGgrKztcbiAgICAgIGN1cnJlbnQgPSBwYXJlbnQgYXMgQmxvY2tTdmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlcHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhbnkgYW5jZXN0b3IgYmxvY2sgaGFzIGEgaGlnaGxpZ2h0LlxuICAgKiBPbmx5IGZvbGxvd3MgT1VUUFVU4oaSSU5QVVQgdmFsdWUgY29ubmVjdGlvbiBjaGFpbnMsIG5vdCBzdGF0ZW1lbnQgY2hhaW5zLlxuICAgKiBVc2VkIHRvIG1ha2UgZGVzY2VuZGFudCBoaWdobGlnaHRzIHRyYW5zcGFyZW50IHRvIGF2b2lkIHZpc3VhbCBjbHV0dGVyLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGFueSB2YWx1ZSBwYXJlbnQgaGFzIGEgaGlnaGxpZ2h0LlxuICAgKi9cbiAgcHJpdmF0ZSBoYXNBbmNlc3RvcldpdGhIaWdobGlnaHQoYmxvY2s6IEJsb2NrU3ZnKTogYm9vbGVhbiB7XG4gICAgbGV0IGN1cnJlbnQgPSBibG9jaztcblxuICAgIC8vIE9ubHkgZm9sbG93IHZhbHVlIHBhcmVudCBjaGFpbiAoYmxvY2tzIGNvbm5lY3RlZCB2aWEgT1VUUFVUL0lOUFVUKVxuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBjb25zdCBvdXRwdXRDb25uZWN0aW9uID0gY3VycmVudC5vdXRwdXRDb25uZWN0aW9uO1xuICAgICAgaWYgKCFvdXRwdXRDb25uZWN0aW9uIHx8ICFvdXRwdXRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgLy8gTm8gb3V0cHV0IGNvbm5lY3Rpb24gb3Igbm90IGNvbm5lY3RlZCwgc3RvcCBzZWFyY2hpbmdcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgcGFyZW50IGJsb2NrIHRoaXMgb3V0cHV0IGlzIGNvbm5lY3RlZCB0b1xuICAgICAgY29uc3QgdGFyZ2V0Q29ubmVjdGlvbiA9IG91dHB1dENvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtcbiAgICAgIGlmICghdGFyZ2V0Q29ubmVjdGlvbikgYnJlYWs7XG5cbiAgICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldENvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICAgIGlmICghcGFyZW50IHx8ICEocGFyZW50IGluc3RhbmNlb2YgQmxvY2tTdmcpKSBicmVhaztcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBwYXJlbnQgaGFzIGEgaGlnaGxpZ2h0XG4gICAgICBpZiAodGhpcy5oaWdobGlnaHRlZEJsb2Nrcy5oYXMocGFyZW50KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udGludWUgdXAgdGhlIHZhbHVlIHBhcmVudCBjaGFpblxuICAgICAgY3VycmVudCA9IHBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgY29ubmVjdGlvbiBoaWdobGlnaHRpbmcuXG4gICAqL1xuICBjbGVhckhpZ2hsaWdodHMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2Nyb2xsTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMud29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuc2Nyb2xsTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBTaWxlbnRseSBmYWlsIC0gZWxlbWVudCBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50cy5jbGVhcigpO1xuICAgIHRoaXMuaGlnaGxpZ2h0ZWRCbG9ja3MuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGhpZ2hsaWdodCBwb3NpdGlvbnMgYmFzZWQgb24gd29ya3NwYWNlIHNjcm9sbCBhbmQgem9vbS5cbiAgICovXG4gIHVwZGF0ZUhpZ2hsaWdodHMoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50cykge1xuICAgICAgY29uc3QgY29vcmRzSW5mbyA9IHRoaXMuZWxlbWVudFRvT3JpZ2luYWxDb29yZHMuZ2V0KGVsZW1lbnQpO1xuICAgICAgaWYgKCFjb29yZHNJbmZvKSBjb250aW51ZTtcblxuICAgICAgY29uc3Qge2Nvbm5lY3Rpb24sIHR5cGV9ID0gY29vcmRzSW5mbztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAnY2lyY2xlJzpcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2lyY2xlUG9zaXRpb24oZWxlbWVudCBhcyBTVkdDaXJjbGVFbGVtZW50LCBjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3BhdGgnOlxuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXRoUG9zaXRpb24oZWxlbWVudCBhcyBTVkdQYXRoRWxlbWVudCwgY29ubmVjdGlvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyZWN0JzpcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmVjdFBvc2l0aW9uKGVsZW1lbnQgYXMgU1ZHUmVjdEVsZW1lbnQsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ0ZhaWxlZCB0byB1cGRhdGUgaGlnaGxpZ2h0IHBvc2l0aW9uOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgYSBjaXJjbGUgaGlnaGxpZ2h0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjaXJjbGUgVGhlIGNpcmNsZSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdGhpcyBjaXJjbGUgcmVwcmVzZW50cy5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlQ2lyY2xlUG9zaXRpb24oXG4gICAgY2lyY2xlOiBTVkdDaXJjbGVFbGVtZW50LFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyhcbiAgICAgIGNvbm5lY3Rpb24ueCxcbiAgICAgIGNvbm5lY3Rpb24ueSxcbiAgICAgIHRoaXMud29ya3NwYWNlLFxuICAgICk7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCBjb29yZHMueC50b1N0cmluZygpKTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIGNvb3Jkcy55LnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIGEgcGF0aCBoaWdobGlnaHQgZWxlbWVudC5cbiAgICogUGF0aHMgYXJlIGluIHRoZSBoaWdobGlnaHQgbGF5ZXIgYXQgcGFyZW50IFNWRyBsZXZlbC5cbiAgICpcbiAgICogQHBhcmFtIHBhdGggVGhlIHBhdGggZWxlbWVudCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRoaXMgcGF0aCByZXByZXNlbnRzLlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVQYXRoUG9zaXRpb24oXG4gICAgcGF0aDogU1ZHUGF0aEVsZW1lbnQsXG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzb3VyY2VCbG9jayA9IGNvbm5lY3Rpb24uZ2V0U291cmNlQmxvY2soKTtcbiAgICBpZiAoIShzb3VyY2VCbG9jayBpbnN0YW5jZW9mIEJsb2NrU3ZnKSkgcmV0dXJuO1xuXG4gICAgLy8gVHJhbnNmb3JtIHdvcmtzcGFjZSBjb29yZGluYXRlcyB0byBTVkcgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzKGNvbm5lY3Rpb24ueCwgY29ubmVjdGlvbi55LCB0aGlzLndvcmtzcGFjZSk7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLndvcmtzcGFjZS5zY2FsZTtcbiAgICBjb25zdCBzY2FsZVRyYW5zZm9ybSA9IHNvdXJjZUJsb2NrLlJUTCA/IGAgc2NhbGUoJHstc2NhbGV9ICR7c2NhbGV9KWAgOiBgIHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBgdHJhbnNsYXRlKCR7Y29vcmRzLnh9LCAke2Nvb3Jkcy55fSkke3NjYWxlVHJhbnNmb3JtfWA7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybWF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiBhIHJlY3QgaGlnaGxpZ2h0ICh2YWx1ZSBjb25uZWN0aW9ucykuXG4gICAqIFJlY3RzIGFyZSBpbiB0aGUgaGlnaGxpZ2h0IGxheWVyIGF0IHBhcmVudCBTVkcgbGV2ZWwuXG4gICAqXG4gICAqIEBwYXJhbSByZWN0IFRoZSByZWN0IGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0aGlzIHJlY3QgcmVwcmVzZW50cy5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlUmVjdFBvc2l0aW9uKFxuICAgIHJlY3Q6IFNWR1JlY3RFbGVtZW50LFxuICAgIGNvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc29ja2V0Qm91bmRzID0gdGhpcy5nZXRBY3R1YWxTb2NrZXRCb3VuZHMoY29ubmVjdGlvbiwgdGhpcy53b3Jrc3BhY2UpO1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMudHJhbnNmb3JtQ29vcmRpbmF0ZXMoc29ja2V0Qm91bmRzLngsIHNvY2tldEJvdW5kcy55LCB0aGlzLndvcmtzcGFjZSk7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLndvcmtzcGFjZS5zY2FsZTtcblxuICAgIHJlY3Quc2V0QXR0cmlidXRlKCd4JywgY29vcmRzLngudG9TdHJpbmcoKSk7XG4gICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCBjb29yZHMueS50b1N0cmluZygpKTtcbiAgICByZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAoc29ja2V0Qm91bmRzLndpZHRoICogc2NhbGUpLnRvU3RyaW5nKCkpO1xuICAgIHJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAoc29ja2V0Qm91bmRzLmhlaWdodCAqIHNjYWxlKS50b1N0cmluZygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBwb2ludCAoaW4gc2NyZWVuIGNvb3JkaW5hdGVzKSBpbnRlcnNlY3RzIHdpdGggYW55IGhpZ2hsaWdodGVkIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBzY3JlZW5YIFNjcmVlbiBYIGNvb3JkaW5hdGUuXG4gICAqIEBwYXJhbSBzY3JlZW5ZIFNjcmVlbiBZIGNvb3JkaW5hdGUuXG4gICAqIEByZXR1cm5zIFRoZSBjb25uZWN0aW9uIGF0IHRoZSBwb2ludCwgb3IgbnVsbCBpZiBubyBjb25uZWN0aW9uIGZvdW5kLlxuICAgKi9cbiAgZmluZENvbm5lY3Rpb25BdFBvaW50KHNjcmVlblg6IG51bWJlciwgc2NyZWVuWTogbnVtYmVyKTogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuaGlnaGxpZ2h0ZWRFbGVtZW50cykge1xuICAgICAgY29uc3QgYm91bmRzID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGlmIChzY3JlZW5YID49IGJvdW5kcy5sZWZ0ICYmIHNjcmVlblggPD0gYm91bmRzLnJpZ2h0ICYmXG4gICAgICAgICAgc2NyZWVuWSA+PSBib3VuZHMudG9wICYmIHNjcmVlblkgPD0gYm91bmRzLmJvdHRvbSkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5lbGVtZW50VG9Db25uZWN0aW9uLmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGJvdW5kaW5nIGJveGVzIGZvciBhbGwgY3VycmVudGx5IGhpZ2hsaWdodGVkIGNvbm5lY3Rpb25zLlxuICAgKlxuICAgKiBAcmV0dXJucyBBcnJheSBvZiBjb25uZWN0aW9uIGJvdW5kcyBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGdldEhpZ2hsaWdodGVkQ29ubmVjdGlvbkJvdW5kcygpOiBBcnJheTx7XG4gICAgY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uO1xuICAgIGJvdW5kczogRE9NUmVjdDtcbiAgICBlbGVtZW50OiBFbGVtZW50O1xuICB9PiB7XG4gICAgY29uc3QgcmVzdWx0czogQXJyYXk8e2Nvbm5lY3Rpb246IFJlbmRlcmVkQ29ubmVjdGlvbjsgYm91bmRzOiBET01SZWN0OyBlbGVtZW50OiBFbGVtZW50fT4gPSBbXTtcblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmhpZ2hsaWdodGVkRWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmVsZW1lbnRUb0Nvbm5lY3Rpb24uZ2V0KGVsZW1lbnQpO1xuICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICAgIGJvdW5kcyxcbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIHRoZSBoaWdobGlnaHRlciBhbmQgY2xlYW5zIHVwIGFsbCByZXNvdXJjZXMuXG4gICAqL1xuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJIaWdobGlnaHRzKCk7XG5cbiAgICAvLyBSZW1vdmUgdGhlIGhpZ2hsaWdodCBsYXllclxuICAgIGlmICh0aGlzLmhpZ2hsaWdodExheWVyICYmIHRoaXMuaGlnaGxpZ2h0TGF5ZXIucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5oaWdobGlnaHRMYXllci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaGlnaGxpZ2h0TGF5ZXIpO1xuICAgICAgdGhpcy5oaWdobGlnaHRMYXllciA9IG51bGw7XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/connection_highlighter.ts\n");

/***/ }),

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LOGGING_MSG_TYPE: () => (/* binding */ LOGGING_MSG_TYPE),\n/* harmony export */   SHORTCUT_CATEGORIES: () => (/* binding */ SHORTCUT_CATEGORIES),\n/* harmony export */   SHORTCUT_NAMES: () => (/* binding */ SHORTCUT_NAMES),\n/* harmony export */   SHORTCUT_NAMES_TO_DISPLAY_TEXT: () => (/* binding */ SHORTCUT_NAMES_TO_DISPLAY_TEXT),\n/* harmony export */   STATE: () => (/* binding */ STATE)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* eslint-disable @typescript-eslint/naming-convention */\n// The rules expect camel or pascal case enum members and record properties.\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Constants for keyboard navigation.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n/**\n * Keyboard navigation states.\n * The different parts of Blockly that the user navigates between.\n */\nvar STATE;\n(function (STATE) {\n    STATE[\"NOWHERE\"] = \"nowhere\";\n    STATE[\"WORKSPACE\"] = \"workspace\";\n    STATE[\"FLYOUT\"] = \"flyout\";\n    STATE[\"TOOLBOX\"] = \"toolbox\";\n})(STATE || (STATE = {}));\n/**\n * Default keyboard navigation shortcut names.\n */\nvar SHORTCUT_NAMES;\n(function (SHORTCUT_NAMES) {\n    SHORTCUT_NAMES[\"UP\"] = \"up\";\n    SHORTCUT_NAMES[\"DOWN\"] = \"down\";\n    SHORTCUT_NAMES[\"RIGHT\"] = \"right\";\n    SHORTCUT_NAMES[\"LEFT\"] = \"left\";\n    SHORTCUT_NAMES[\"NEXT_STACK\"] = \"next_stack\";\n    SHORTCUT_NAMES[\"PREVIOUS_STACK\"] = \"previous_stack\";\n    // Unused.\n    SHORTCUT_NAMES[\"INSERT\"] = \"insert\";\n    SHORTCUT_NAMES[\"EDIT_OR_CONFIRM\"] = \"edit_or_confirm\";\n    SHORTCUT_NAMES[\"DISCONNECT\"] = \"disconnect\";\n    SHORTCUT_NAMES[\"TOOLBOX\"] = \"toolbox\";\n    SHORTCUT_NAMES[\"EXIT\"] = \"exit\";\n    SHORTCUT_NAMES[\"MENU\"] = \"menu\";\n    SHORTCUT_NAMES[\"COPY\"] = \"keyboard_nav_copy\";\n    SHORTCUT_NAMES[\"CUT\"] = \"keyboard_nav_cut\";\n    SHORTCUT_NAMES[\"PASTE\"] = \"keyboard_nav_paste\";\n    SHORTCUT_NAMES[\"DUPLICATE\"] = \"duplicate\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_UP\"] = \"workspace_up\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_DOWN\"] = \"workspace_down\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_LEFT\"] = \"workspace_left\";\n    SHORTCUT_NAMES[\"MOVE_WS_CURSOR_RIGHT\"] = \"workspace_right\";\n    SHORTCUT_NAMES[\"CREATE_WS_CURSOR\"] = \"to_workspace\";\n    SHORTCUT_NAMES[\"LIST_SHORTCUTS\"] = \"list_shortcuts\";\n    SHORTCUT_NAMES[\"CLEAN_UP\"] = \"clean_up_workspace\";\n    SHORTCUT_NAMES[\"START_MOVE\"] = \"start_move\";\n})(SHORTCUT_NAMES || (SHORTCUT_NAMES = {}));\nconst SHORTCUT_NAMES_TO_DISPLAY_TEXT = {\n    'keyboard_nav_copy': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['Copy'] || 'Copy',\n    'keyboard_nav_cut': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['Cut'] || 'Cut',\n    'keyboard_nav_paste': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['Paste'] || 'Paste',\n    'start_move': blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['MOVE_BLOCK'] || 'Move',\n};\n/**\n * Types of possible messages passed into the loggingCallback in the Navigation\n * class.\n */\nvar LOGGING_MSG_TYPE;\n(function (LOGGING_MSG_TYPE) {\n    LOGGING_MSG_TYPE[\"ERROR\"] = \"error\";\n    LOGGING_MSG_TYPE[\"WARN\"] = \"warn\";\n    LOGGING_MSG_TYPE[\"LOG\"] = \"log\";\n})(LOGGING_MSG_TYPE || (LOGGING_MSG_TYPE = {}));\n/**\n * Categories used to organised the shortcut dialog.\n * Shortcut name should match those obtained from the Blockly shortcut register.\n */\nconst SHORTCUT_CATEGORIES = {};\nSHORTCUT_CATEGORIES[blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_GENERAL']] = [\n    SHORTCUT_NAMES.MENU,\n    SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n    SHORTCUT_NAMES.EXIT,\n    SHORTCUT_NAMES.TOOLBOX,\n    SHORTCUT_NAMES.CLEAN_UP,\n    SHORTCUT_NAMES.LIST_SHORTCUTS,\n];\nSHORTCUT_CATEGORIES[blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_EDITING']] = [\n    'delete',\n    SHORTCUT_NAMES.DISCONNECT,\n    SHORTCUT_NAMES.START_MOVE,\n    SHORTCUT_NAMES.CUT,\n    SHORTCUT_NAMES.COPY,\n    SHORTCUT_NAMES.PASTE,\n    SHORTCUT_NAMES.DUPLICATE,\n    'undo',\n    'redo',\n];\nSHORTCUT_CATEGORIES[blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_CODE_NAVIGATION']] = [\n    SHORTCUT_NAMES.UP,\n    SHORTCUT_NAMES.DOWN,\n    SHORTCUT_NAMES.RIGHT,\n    SHORTCUT_NAMES.LEFT,\n    SHORTCUT_NAMES.NEXT_STACK,\n    SHORTCUT_NAMES.PREVIOUS_STACK,\n    SHORTCUT_NAMES.CREATE_WS_CURSOR,\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHlEQUF5RDtBQUN6RCw0RUFBNEU7QUFFNUU7Ozs7R0FJRztBQUVIOzs7R0FHRztBQUU4QjtBQUVqQzs7O0dBR0c7QUFDSCxJQUFZLEtBS1g7QUFMRCxXQUFZLEtBQUs7SUFDZiw0QkFBbUI7SUFDbkIsZ0NBQXVCO0lBQ3ZCLDBCQUFpQjtJQUNqQiw0QkFBbUI7QUFDckIsQ0FBQyxFQUxXLEtBQUssS0FBTCxLQUFLLFFBS2hCO0FBRUQ7O0dBRUc7QUFDSCxJQUFZLGNBMEJYO0FBMUJELFdBQVksY0FBYztJQUN4QiwyQkFBUztJQUNULCtCQUFhO0lBQ2IsaUNBQWU7SUFDZiwrQkFBYTtJQUNiLDJDQUF5QjtJQUN6QixtREFBaUM7SUFDakMsVUFBVTtJQUNWLG1DQUFpQjtJQUNqQixxREFBbUM7SUFDbkMsMkNBQXlCO0lBQ3pCLHFDQUFtQjtJQUNuQiwrQkFBYTtJQUNiLCtCQUFhO0lBQ2IsNENBQTBCO0lBQzFCLDBDQUF3QjtJQUN4Qiw4Q0FBNEI7SUFDNUIseUNBQXVCO0lBQ3ZCLG9EQUFrQztJQUNsQyx3REFBc0M7SUFDdEMsd0RBQXNDO0lBQ3RDLDBEQUF3QztJQUN4QyxtREFBaUM7SUFDakMsbURBQWlDO0lBQ2pDLGlEQUErQjtJQUMvQiwyQ0FBeUI7QUFDM0IsQ0FBQyxFQTFCVyxjQUFjLEtBQWQsY0FBYyxRQTBCekI7QUFFTSxNQUFNLDhCQUE4QixHQUEyQjtJQUNwRSxtQkFBbUIsRUFBRSw2Q0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLE1BQU07SUFDMUMsa0JBQWtCLEVBQUUsNkNBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLO0lBQ3ZDLG9CQUFvQixFQUFFLDZDQUFHLENBQUMsT0FBTyxDQUFDLElBQUksT0FBTztJQUM3QyxZQUFZLEVBQUUsNkNBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxNQUFNO0NBQzFDLENBQUM7QUFFRjs7O0dBR0c7QUFDSCxJQUFZLGdCQUlYO0FBSkQsV0FBWSxnQkFBZ0I7SUFDMUIsbUNBQWU7SUFDZixpQ0FBYTtJQUNiLCtCQUFXO0FBQ2IsQ0FBQyxFQUpXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFJM0I7QUFFRDs7O0dBR0c7QUFDSSxNQUFNLG1CQUFtQixHQU01QixFQUFFLENBQUM7QUFFUCxtQkFBbUIsQ0FBQyw2Q0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsR0FBRztJQUM5QyxjQUFjLENBQUMsSUFBSTtJQUNuQixjQUFjLENBQUMsZUFBZTtJQUM5QixjQUFjLENBQUMsSUFBSTtJQUNuQixjQUFjLENBQUMsT0FBTztJQUN0QixjQUFjLENBQUMsUUFBUTtJQUN2QixjQUFjLENBQUMsY0FBYztDQUM5QixDQUFDO0FBRUYsbUJBQW1CLENBQUMsNkNBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEdBQUc7SUFDOUMsUUFBUTtJQUNSLGNBQWMsQ0FBQyxVQUFVO0lBQ3pCLGNBQWMsQ0FBQyxVQUFVO0lBQ3pCLGNBQWMsQ0FBQyxHQUFHO0lBQ2xCLGNBQWMsQ0FBQyxJQUFJO0lBQ25CLGNBQWMsQ0FBQyxLQUFLO0lBQ3BCLGNBQWMsQ0FBQyxTQUFTO0lBQ3hCLE1BQU07SUFDTixNQUFNO0NBQ1AsQ0FBQztBQUVGLG1CQUFtQixDQUFDLDZDQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxHQUFHO0lBQ3RELGNBQWMsQ0FBQyxFQUFFO0lBQ2pCLGNBQWMsQ0FBQyxJQUFJO0lBQ25CLGNBQWMsQ0FBQyxLQUFLO0lBQ3BCLGNBQWMsQ0FBQyxJQUFJO0lBQ25CLGNBQWMsQ0FBQyxVQUFVO0lBQ3pCLGNBQWMsQ0FBQyxjQUFjO0lBQzdCLGNBQWMsQ0FBQyxnQkFBZ0I7Q0FDaEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvY29uc3RhbnRzLnRzPzg1ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uICovXG4vLyBUaGUgcnVsZXMgZXhwZWN0IGNhbWVsIG9yIHBhc2NhbCBjYXNlIGVudW0gbWVtYmVycyBhbmQgcmVjb3JkIHByb3BlcnRpZXMuXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IENvbnN0YW50cyBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAqIEBhdXRob3IgYXNjaG1pZWR0QGdvb2dsZS5jb20gKEFiYnkgU2NobWllZHQpXG4gKi9cblxuaW1wb3J0IHtNc2d9IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbi8qKlxuICogS2V5Ym9hcmQgbmF2aWdhdGlvbiBzdGF0ZXMuXG4gKiBUaGUgZGlmZmVyZW50IHBhcnRzIG9mIEJsb2NrbHkgdGhhdCB0aGUgdXNlciBuYXZpZ2F0ZXMgYmV0d2Vlbi5cbiAqL1xuZXhwb3J0IGVudW0gU1RBVEUge1xuICBOT1dIRVJFID0gJ25vd2hlcmUnLFxuICBXT1JLU1BBQ0UgPSAnd29ya3NwYWNlJyxcbiAgRkxZT1VUID0gJ2ZseW91dCcsXG4gIFRPT0xCT1ggPSAndG9vbGJveCcsXG59XG5cbi8qKlxuICogRGVmYXVsdCBrZXlib2FyZCBuYXZpZ2F0aW9uIHNob3J0Y3V0IG5hbWVzLlxuICovXG5leHBvcnQgZW51bSBTSE9SVENVVF9OQU1FUyB7XG4gIFVQID0gJ3VwJyxcbiAgRE9XTiA9ICdkb3duJyxcbiAgUklHSFQgPSAncmlnaHQnLFxuICBMRUZUID0gJ2xlZnQnLFxuICBORVhUX1NUQUNLID0gJ25leHRfc3RhY2snLFxuICBQUkVWSU9VU19TVEFDSyA9ICdwcmV2aW91c19zdGFjaycsXG4gIC8vIFVudXNlZC5cbiAgSU5TRVJUID0gJ2luc2VydCcsXG4gIEVESVRfT1JfQ09ORklSTSA9ICdlZGl0X29yX2NvbmZpcm0nLFxuICBESVNDT05ORUNUID0gJ2Rpc2Nvbm5lY3QnLFxuICBUT09MQk9YID0gJ3Rvb2xib3gnLFxuICBFWElUID0gJ2V4aXQnLFxuICBNRU5VID0gJ21lbnUnLFxuICBDT1BZID0gJ2tleWJvYXJkX25hdl9jb3B5JyxcbiAgQ1VUID0gJ2tleWJvYXJkX25hdl9jdXQnLFxuICBQQVNURSA9ICdrZXlib2FyZF9uYXZfcGFzdGUnLFxuICBEVVBMSUNBVEUgPSAnZHVwbGljYXRlJyxcbiAgTU9WRV9XU19DVVJTT1JfVVAgPSAnd29ya3NwYWNlX3VwJyxcbiAgTU9WRV9XU19DVVJTT1JfRE9XTiA9ICd3b3Jrc3BhY2VfZG93bicsXG4gIE1PVkVfV1NfQ1VSU09SX0xFRlQgPSAnd29ya3NwYWNlX2xlZnQnLFxuICBNT1ZFX1dTX0NVUlNPUl9SSUdIVCA9ICd3b3Jrc3BhY2VfcmlnaHQnLFxuICBDUkVBVEVfV1NfQ1VSU09SID0gJ3RvX3dvcmtzcGFjZScsXG4gIExJU1RfU0hPUlRDVVRTID0gJ2xpc3Rfc2hvcnRjdXRzJyxcbiAgQ0xFQU5fVVAgPSAnY2xlYW5fdXBfd29ya3NwYWNlJyxcbiAgU1RBUlRfTU9WRSA9ICdzdGFydF9tb3ZlJyxcbn1cblxuZXhwb3J0IGNvbnN0IFNIT1JUQ1VUX05BTUVTX1RPX0RJU1BMQVlfVEVYVDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgJ2tleWJvYXJkX25hdl9jb3B5JzogTXNnWydDb3B5J10gfHwgJ0NvcHknLFxuICAna2V5Ym9hcmRfbmF2X2N1dCc6IE1zZ1snQ3V0J10gfHwgJ0N1dCcsXG4gICdrZXlib2FyZF9uYXZfcGFzdGUnOiBNc2dbJ1Bhc3RlJ10gfHwgJ1Bhc3RlJyxcbiAgJ3N0YXJ0X21vdmUnOiBNc2dbJ01PVkVfQkxPQ0snXSB8fCAnTW92ZScsXG59O1xuXG4vKipcbiAqIFR5cGVzIG9mIHBvc3NpYmxlIG1lc3NhZ2VzIHBhc3NlZCBpbnRvIHRoZSBsb2dnaW5nQ2FsbGJhY2sgaW4gdGhlIE5hdmlnYXRpb25cbiAqIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBMT0dHSU5HX01TR19UWVBFIHtcbiAgRVJST1IgPSAnZXJyb3InLFxuICBXQVJOID0gJ3dhcm4nLFxuICBMT0cgPSAnbG9nJyxcbn1cblxuLyoqXG4gKiBDYXRlZ29yaWVzIHVzZWQgdG8gb3JnYW5pc2VkIHRoZSBzaG9ydGN1dCBkaWFsb2cuXG4gKiBTaG9ydGN1dCBuYW1lIHNob3VsZCBtYXRjaCB0aG9zZSBvYnRhaW5lZCBmcm9tIHRoZSBCbG9ja2x5IHNob3J0Y3V0IHJlZ2lzdGVyLlxuICovXG5leHBvcnQgY29uc3QgU0hPUlRDVVRfQ0FURUdPUklFUzogUmVjb3JkPFxuICBzdHJpbmcsXG4gIC8vIEFsc28gYWxsb3cgdW5kby9yZWRvLiBEb2N1bWVudCB0aGUgbm9uLWtleWJvYXJkLW5hdiB2ZXJzaW9ucyBvZiBvdGhlcnMgZm9yXG4gIC8vIGJldHRlciB0ZXh0IGJlY2F1c2UgdGVtcG9yYXJpbHkgdGhlIG5hbWUgaW4gdGhlIHRhYmxlIGlzIGRlcml2ZWQgZnJvbVxuICAvLyB0aGVzZSBpZC1saWtlIG5hbWVzLlxuICBBcnJheTxTSE9SVENVVF9OQU1FUyB8ICd1bmRvJyB8ICdyZWRvJyB8ICdkZWxldGUnPlxuPiA9IHt9O1xuXG5TSE9SVENVVF9DQVRFR09SSUVTW01zZ1snU0hPUlRDVVRTX0dFTkVSQUwnXV0gPSBbXG4gIFNIT1JUQ1VUX05BTUVTLk1FTlUsXG4gIFNIT1JUQ1VUX05BTUVTLkVESVRfT1JfQ09ORklSTSxcbiAgU0hPUlRDVVRfTkFNRVMuRVhJVCxcbiAgU0hPUlRDVVRfTkFNRVMuVE9PTEJPWCxcbiAgU0hPUlRDVVRfTkFNRVMuQ0xFQU5fVVAsXG4gIFNIT1JUQ1VUX05BTUVTLkxJU1RfU0hPUlRDVVRTLFxuXTtcblxuU0hPUlRDVVRfQ0FURUdPUklFU1tNc2dbJ1NIT1JUQ1VUU19FRElUSU5HJ11dID0gW1xuICAnZGVsZXRlJyxcbiAgU0hPUlRDVVRfTkFNRVMuRElTQ09OTkVDVCxcbiAgU0hPUlRDVVRfTkFNRVMuU1RBUlRfTU9WRSxcbiAgU0hPUlRDVVRfTkFNRVMuQ1VULFxuICBTSE9SVENVVF9OQU1FUy5DT1BZLFxuICBTSE9SVENVVF9OQU1FUy5QQVNURSxcbiAgU0hPUlRDVVRfTkFNRVMuRFVQTElDQVRFLFxuICAndW5kbycsXG4gICdyZWRvJyxcbl07XG5cblNIT1JUQ1VUX0NBVEVHT1JJRVNbTXNnWydTSE9SVENVVFNfQ09ERV9OQVZJR0FUSU9OJ11dID0gW1xuICBTSE9SVENVVF9OQU1FUy5VUCxcbiAgU0hPUlRDVVRfTkFNRVMuRE9XTixcbiAgU0hPUlRDVVRfTkFNRVMuUklHSFQsXG4gIFNIT1JUQ1VUX05BTUVTLkxFRlQsXG4gIFNIT1JUQ1VUX05BTUVTLk5FWFRfU1RBQ0ssXG4gIFNIT1JUQ1VUX05BTUVTLlBSRVZJT1VTX1NUQUNLLFxuICBTSE9SVENVVF9OQU1FUy5DUkVBVEVfV1NfQ1VSU09SLFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/constants.ts\n");

/***/ }),

/***/ "./src/disabled_blocks.ts":
/*!********************************!*\
  !*** ./src/disabled_blocks.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enableBlocksOnDrag: () => (/* binding */ enableBlocksOnDrag)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst lastBlockDisabledReasons = new Map();\n/**\n * A change listener that enables disabled blocks when they\n * are dragged, and re-disables them at the end of the drag.\n *\n * @param event Blockly event\n */\nfunction enableBlocksOnDrag(event) {\n    // This listener only runs on Drag events that have a valid\n    // workspace and block id.\n    if (!isBlockDrag(event))\n        return;\n    if (!event.blockId)\n        return;\n    const eventWorkspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.common.getWorkspaceById(event.workspaceId);\n    const block = eventWorkspace.getBlockById(event.blockId);\n    if (!block)\n        return;\n    const oldUndo = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.getRecordUndo();\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setRecordUndo(false);\n    if (event.isStart) {\n        // At start of drag, reset the lastBlockDisabledReasons\n        lastBlockDisabledReasons.clear();\n        // Enable all blocks including childeren\n        enableAllDraggedBlocks(block);\n    }\n    else {\n        // Re-disable the block for its original reasons. If the block is no\n        // longer an orphan, the disableOrphans handler will enable the block.\n        redisableAllDraggedBlocks(block);\n    }\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setRecordUndo(oldUndo);\n}\n/**\n * Enables all blocks including children of the dragged blocks.\n * Stores the reasons each block was disabled so they can be restored.\n *\n * @param block\n */\nfunction enableAllDraggedBlocks(block) {\n    // getDescendants includes the block itself.\n    block.getDescendants(false).forEach((descendant) => {\n        const reasons = new Set(descendant.getDisabledReasons());\n        lastBlockDisabledReasons.set(descendant.id, reasons);\n        reasons.forEach((reason) => descendant.setDisabledReason(false, reason));\n    });\n}\n/**\n * Re-disables all blocks using their original disabled reasons.\n *\n * @param block\n */\nfunction redisableAllDraggedBlocks(block) {\n    block.getDescendants(false).forEach((descendant) => {\n        var _a;\n        (_a = lastBlockDisabledReasons.get(descendant.id)) === null || _a === void 0 ? void 0 : _a.forEach((reason) => {\n            descendant.setDisabledReason(true, reason);\n        });\n    });\n}\n/**\n * Type guard for drag events.\n *\n * @param event\n * @returns true iff event.type is EventType.BLOCK_DRAG\n */\nfunction isBlockDrag(event) {\n    return event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.BLOCK_DRAG;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGlzYWJsZWRfYmxvY2tzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7R0FJRztBQUVxQztBQUV4QyxNQUFNLHdCQUF3QixHQUE2QixJQUFJLEdBQUcsRUFBRSxDQUFDO0FBRXJFOzs7OztHQUtHO0FBQ0ksU0FBUyxrQkFBa0IsQ0FBQyxLQUE4QjtJQUMvRCwyREFBMkQ7SUFDM0QsMEJBQTBCO0lBQzFCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1FBQUUsT0FBTztJQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU87UUFBRSxPQUFPO0lBQzNCLE1BQU0sY0FBYyxHQUFHLGdEQUFjLENBQUMsZ0JBQWdCLENBQ3BELEtBQUssQ0FBQyxXQUFXLENBQ00sQ0FBQztJQUMxQixNQUFNLEtBQUssR0FBRyxjQUFjLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN6RCxJQUFJLENBQUMsS0FBSztRQUFFLE9BQU87SUFFbkIsTUFBTSxPQUFPLEdBQUcsZ0RBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUMvQyxnREFBYyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUVwQyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNsQix1REFBdUQ7UUFDdkQsd0JBQXdCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFakMsd0NBQXdDO1FBQ3hDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUM7U0FBTSxDQUFDO1FBQ04sb0VBQW9FO1FBQ3BFLHNFQUFzRTtRQUN0RSx5QkFBeUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsZ0RBQWMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDeEMsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyxzQkFBc0IsQ0FBQyxLQUF1QjtJQUNyRCw0Q0FBNEM7SUFDNUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRTtRQUNqRCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUMzRSxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsU0FBUyx5QkFBeUIsQ0FBQyxLQUF1QjtJQUN4RCxLQUFLLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFOztRQUNqRCw4QkFBd0IsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQywwQ0FBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUM5RCxVQUFVLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFTLFdBQVcsQ0FDbEIsS0FBOEI7SUFFOUIsT0FBTyxLQUFLLENBQUMsSUFBSSxLQUFLLGdEQUFjLENBQUMsVUFBVSxDQUFDO0FBQ2xELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2Rpc2FibGVkX2Jsb2Nrcy50cz9iYmRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG5jb25zdCBsYXN0QmxvY2tEaXNhYmxlZFJlYXNvbnM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBBIGNoYW5nZSBsaXN0ZW5lciB0aGF0IGVuYWJsZXMgZGlzYWJsZWQgYmxvY2tzIHdoZW4gdGhleVxuICogYXJlIGRyYWdnZWQsIGFuZCByZS1kaXNhYmxlcyB0aGVtIGF0IHRoZSBlbmQgb2YgdGhlIGRyYWcuXG4gKlxuICogQHBhcmFtIGV2ZW50IEJsb2NrbHkgZXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUJsb2Nrc09uRHJhZyhldmVudDogQmxvY2tseS5FdmVudHMuQWJzdHJhY3QpIHtcbiAgLy8gVGhpcyBsaXN0ZW5lciBvbmx5IHJ1bnMgb24gRHJhZyBldmVudHMgdGhhdCBoYXZlIGEgdmFsaWRcbiAgLy8gd29ya3NwYWNlIGFuZCBibG9jayBpZC5cbiAgaWYgKCFpc0Jsb2NrRHJhZyhldmVudCkpIHJldHVybjtcbiAgaWYgKCFldmVudC5ibG9ja0lkKSByZXR1cm47XG4gIGNvbnN0IGV2ZW50V29ya3NwYWNlID0gQmxvY2tseS5jb21tb24uZ2V0V29ya3NwYWNlQnlJZChcbiAgICBldmVudC53b3Jrc3BhY2VJZCxcbiAgKSBhcyBCbG9ja2x5LldvcmtzcGFjZVN2ZztcbiAgY29uc3QgYmxvY2sgPSBldmVudFdvcmtzcGFjZS5nZXRCbG9ja0J5SWQoZXZlbnQuYmxvY2tJZCk7XG4gIGlmICghYmxvY2spIHJldHVybjtcblxuICBjb25zdCBvbGRVbmRvID0gQmxvY2tseS5FdmVudHMuZ2V0UmVjb3JkVW5kbygpO1xuICBCbG9ja2x5LkV2ZW50cy5zZXRSZWNvcmRVbmRvKGZhbHNlKTtcblxuICBpZiAoZXZlbnQuaXNTdGFydCkge1xuICAgIC8vIEF0IHN0YXJ0IG9mIGRyYWcsIHJlc2V0IHRoZSBsYXN0QmxvY2tEaXNhYmxlZFJlYXNvbnNcbiAgICBsYXN0QmxvY2tEaXNhYmxlZFJlYXNvbnMuY2xlYXIoKTtcblxuICAgIC8vIEVuYWJsZSBhbGwgYmxvY2tzIGluY2x1ZGluZyBjaGlsZGVyZW5cbiAgICBlbmFibGVBbGxEcmFnZ2VkQmxvY2tzKGJsb2NrKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBSZS1kaXNhYmxlIHRoZSBibG9jayBmb3IgaXRzIG9yaWdpbmFsIHJlYXNvbnMuIElmIHRoZSBibG9jayBpcyBub1xuICAgIC8vIGxvbmdlciBhbiBvcnBoYW4sIHRoZSBkaXNhYmxlT3JwaGFucyBoYW5kbGVyIHdpbGwgZW5hYmxlIHRoZSBibG9jay5cbiAgICByZWRpc2FibGVBbGxEcmFnZ2VkQmxvY2tzKGJsb2NrKTtcbiAgfVxuXG4gIEJsb2NrbHkuRXZlbnRzLnNldFJlY29yZFVuZG8ob2xkVW5kbyk7XG59XG5cbi8qKlxuICogRW5hYmxlcyBhbGwgYmxvY2tzIGluY2x1ZGluZyBjaGlsZHJlbiBvZiB0aGUgZHJhZ2dlZCBibG9ja3MuXG4gKiBTdG9yZXMgdGhlIHJlYXNvbnMgZWFjaCBibG9jayB3YXMgZGlzYWJsZWQgc28gdGhleSBjYW4gYmUgcmVzdG9yZWQuXG4gKlxuICogQHBhcmFtIGJsb2NrXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZUFsbERyYWdnZWRCbG9ja3MoYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcpIHtcbiAgLy8gZ2V0RGVzY2VuZGFudHMgaW5jbHVkZXMgdGhlIGJsb2NrIGl0c2VsZi5cbiAgYmxvY2suZ2V0RGVzY2VuZGFudHMoZmFsc2UpLmZvckVhY2goKGRlc2NlbmRhbnQpID0+IHtcbiAgICBjb25zdCByZWFzb25zID0gbmV3IFNldChkZXNjZW5kYW50LmdldERpc2FibGVkUmVhc29ucygpKTtcbiAgICBsYXN0QmxvY2tEaXNhYmxlZFJlYXNvbnMuc2V0KGRlc2NlbmRhbnQuaWQsIHJlYXNvbnMpO1xuICAgIHJlYXNvbnMuZm9yRWFjaCgocmVhc29uKSA9PiBkZXNjZW5kYW50LnNldERpc2FibGVkUmVhc29uKGZhbHNlLCByZWFzb24pKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmUtZGlzYWJsZXMgYWxsIGJsb2NrcyB1c2luZyB0aGVpciBvcmlnaW5hbCBkaXNhYmxlZCByZWFzb25zLlxuICpcbiAqIEBwYXJhbSBibG9ja1xuICovXG5mdW5jdGlvbiByZWRpc2FibGVBbGxEcmFnZ2VkQmxvY2tzKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gIGJsb2NrLmdldERlc2NlbmRhbnRzKGZhbHNlKS5mb3JFYWNoKChkZXNjZW5kYW50KSA9PiB7XG4gICAgbGFzdEJsb2NrRGlzYWJsZWRSZWFzb25zLmdldChkZXNjZW5kYW50LmlkKT8uZm9yRWFjaCgocmVhc29uKSA9PiB7XG4gICAgICBkZXNjZW5kYW50LnNldERpc2FibGVkUmVhc29uKHRydWUsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFR5cGUgZ3VhcmQgZm9yIGRyYWcgZXZlbnRzLlxuICpcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMgdHJ1ZSBpZmYgZXZlbnQudHlwZSBpcyBFdmVudFR5cGUuQkxPQ0tfRFJBR1xuICovXG5mdW5jdGlvbiBpc0Jsb2NrRHJhZyhcbiAgZXZlbnQ6IEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0LFxuKTogZXZlbnQgaXMgQmxvY2tseS5FdmVudHMuQmxvY2tEcmFnIHtcbiAgcmV0dXJuIGV2ZW50LnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLkJMT0NLX0RSQUc7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/disabled_blocks.ts\n");

/***/ }),

/***/ "./src/dom_utils.ts":
/*!**************************!*\
  !*** ./src/dom_utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isBlocklyUIElement: () => (/* binding */ isBlocklyUIElement),\n/* harmony export */   isWorkspaceElement: () => (/* binding */ isWorkspaceElement)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * Checks if a DOM element or SVG target is workspace-related.\n * Handles both regular DOM elements and SVG elements (which on touch devices\n * return SVGAnimatedString objects for className).\n *\n * @param target The element to check (can be Element, SVGAnimatedString, or null)\n * @returns True if the target is workspace-related or null/undefined\n */\nfunction isWorkspaceElement(target) {\n    // Null/undefined means clicked empty space  workspace\n    if (!target)\n        return true;\n    // Handle SVGAnimatedString (happens with SVG elements on touch devices)\n    // These have baseVal and animVal properties containing the actual class name\n    if (target.baseVal !== undefined) {\n        const className = target.baseVal || target.animVal || '';\n        return className.includes('blocklyWorkspace') ||\n            className.includes('blocklyMainBackground') ||\n            className.includes('blocklySvg');\n    }\n    // Handle regular DOM elements with classList\n    const classList = target.classList;\n    if (classList) {\n        return classList.contains('blocklyMainBackground') ||\n            classList.contains('blocklySvg') ||\n            classList.contains('blocklyWorkspace');\n    }\n    return false;\n}\n/**\n * Checks if a DOM element is part of the Blockly UI (workspace, toolbox, flyout, etc.)\n * or is completely outside the Blockly context (like control panels, instructions, etc.).\n *\n * @param target The element to check\n * @returns True if the element is part of the Blockly UI, false if it's external UI\n */\nfunction isBlocklyUIElement(target) {\n    if (!target)\n        return true; // Null/undefined means empty space\n    // Walk up the DOM tree to check if we're inside Blockly's container\n    let current = target;\n    while (current) {\n        // Check for Blockly-specific classes/IDs that indicate we're in the Blockly UI\n        if (current.classList) {\n            if (current.classList.contains('blocklyWorkspace') ||\n                current.classList.contains('blocklyMainBackground') ||\n                current.classList.contains('blocklySvg') ||\n                current.classList.contains('blocklyToolboxDiv') ||\n                current.classList.contains('blocklyFlyout') ||\n                current.classList.contains('blocklyFlyoutBackground') ||\n                current.classList.contains('blocklyWidgetDiv') ||\n                current.classList.contains('blocklyDropDownDiv') ||\n                current.classList.contains('blocklyBlockCanvas') ||\n                current.classList.contains('blocklyBubbleCanvas')) {\n                return true;\n            }\n        }\n        // Check for common Blockly container IDs\n        if (current.id === 'blocklyDiv') {\n            return true;\n        }\n        current = current.parentElement;\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZG9tX3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7R0FJRztBQUVIOzs7Ozs7O0dBT0c7QUFDSSxTQUFTLGtCQUFrQixDQUFDLE1BQVc7SUFDNUMsdURBQXVEO0lBQ3ZELElBQUksQ0FBQyxNQUFNO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFFekIsd0VBQXdFO0lBQ3hFLDZFQUE2RTtJQUM3RSxJQUFJLE1BQU0sQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFLENBQUM7UUFDakMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQztRQUN6RCxPQUFPLFNBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUM7WUFDdEMsU0FBUyxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQztZQUMzQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCw2Q0FBNkM7SUFDN0MsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUNuQyxJQUFJLFNBQVMsRUFBRSxDQUFDO1FBQ2QsT0FBTyxTQUFTLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDO1lBQzNDLFNBQVMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO1lBQ2hDLFNBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQ7Ozs7OztHQU1HO0FBQ0ksU0FBUyxrQkFBa0IsQ0FBQyxNQUFXO0lBQzVDLElBQUksQ0FBQyxNQUFNO1FBQUUsT0FBTyxJQUFJLENBQUMsQ0FBQyxtQ0FBbUM7SUFFN0Qsb0VBQW9FO0lBQ3BFLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQztJQUNyQixPQUFPLE9BQU8sRUFBRSxDQUFDO1FBQ2YsK0VBQStFO1FBQy9FLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3RCLElBQ0UsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUM7Z0JBQzlDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDO2dCQUNuRCxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUM7Z0JBQ3hDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDO2dCQUMvQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUM7Z0JBQzNDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLHlCQUF5QixDQUFDO2dCQUNyRCxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztnQkFDOUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUM7Z0JBQ2hELE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDO2dCQUNoRCxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxFQUNqRCxDQUFDO2dCQUNELE9BQU8sSUFBSSxDQUFDO1lBQ2QsQ0FBQztRQUNILENBQUM7UUFFRCx5Q0FBeUM7UUFDekMsSUFBSSxPQUFPLENBQUMsRUFBRSxLQUFLLFlBQVksRUFBRSxDQUFDO1lBQ2hDLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUVELE9BQU8sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2RvbV91dGlscy50cz9kMzhhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBET00gZWxlbWVudCBvciBTVkcgdGFyZ2V0IGlzIHdvcmtzcGFjZS1yZWxhdGVkLlxuICogSGFuZGxlcyBib3RoIHJlZ3VsYXIgRE9NIGVsZW1lbnRzIGFuZCBTVkcgZWxlbWVudHMgKHdoaWNoIG9uIHRvdWNoIGRldmljZXNcbiAqIHJldHVybiBTVkdBbmltYXRlZFN0cmluZyBvYmplY3RzIGZvciBjbGFzc05hbWUpLlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgVGhlIGVsZW1lbnQgdG8gY2hlY2sgKGNhbiBiZSBFbGVtZW50LCBTVkdBbmltYXRlZFN0cmluZywgb3IgbnVsbClcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHRhcmdldCBpcyB3b3Jrc3BhY2UtcmVsYXRlZCBvciBudWxsL3VuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNXb3Jrc3BhY2VFbGVtZW50KHRhcmdldDogYW55KTogYm9vbGVhbiB7XG4gIC8vIE51bGwvdW5kZWZpbmVkIG1lYW5zIGNsaWNrZWQgZW1wdHkgc3BhY2Ug4oaSIHdvcmtzcGFjZVxuICBpZiAoIXRhcmdldCkgcmV0dXJuIHRydWU7XG5cbiAgLy8gSGFuZGxlIFNWR0FuaW1hdGVkU3RyaW5nIChoYXBwZW5zIHdpdGggU1ZHIGVsZW1lbnRzIG9uIHRvdWNoIGRldmljZXMpXG4gIC8vIFRoZXNlIGhhdmUgYmFzZVZhbCBhbmQgYW5pbVZhbCBwcm9wZXJ0aWVzIGNvbnRhaW5pbmcgdGhlIGFjdHVhbCBjbGFzcyBuYW1lXG4gIGlmICh0YXJnZXQuYmFzZVZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gdGFyZ2V0LmJhc2VWYWwgfHwgdGFyZ2V0LmFuaW1WYWwgfHwgJyc7XG4gICAgcmV0dXJuIGNsYXNzTmFtZS5pbmNsdWRlcygnYmxvY2tseVdvcmtzcGFjZScpIHx8XG4gICAgICAgICAgIGNsYXNzTmFtZS5pbmNsdWRlcygnYmxvY2tseU1haW5CYWNrZ3JvdW5kJykgfHxcbiAgICAgICAgICAgY2xhc3NOYW1lLmluY2x1ZGVzKCdibG9ja2x5U3ZnJyk7XG4gIH1cblxuICAvLyBIYW5kbGUgcmVndWxhciBET00gZWxlbWVudHMgd2l0aCBjbGFzc0xpc3RcbiAgY29uc3QgY2xhc3NMaXN0ID0gdGFyZ2V0LmNsYXNzTGlzdDtcbiAgaWYgKGNsYXNzTGlzdCkge1xuICAgIHJldHVybiBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlNYWluQmFja2dyb3VuZCcpIHx8XG4gICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVN2ZycpIHx8XG4gICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVdvcmtzcGFjZScpO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIERPTSBlbGVtZW50IGlzIHBhcnQgb2YgdGhlIEJsb2NrbHkgVUkgKHdvcmtzcGFjZSwgdG9vbGJveCwgZmx5b3V0LCBldGMuKVxuICogb3IgaXMgY29tcGxldGVseSBvdXRzaWRlIHRoZSBCbG9ja2x5IGNvbnRleHQgKGxpa2UgY29udHJvbCBwYW5lbHMsIGluc3RydWN0aW9ucywgZXRjLikuXG4gKlxuICogQHBhcmFtIHRhcmdldCBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyBwYXJ0IG9mIHRoZSBCbG9ja2x5IFVJLCBmYWxzZSBpZiBpdCdzIGV4dGVybmFsIFVJXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrbHlVSUVsZW1lbnQodGFyZ2V0OiBhbnkpOiBib29sZWFuIHtcbiAgaWYgKCF0YXJnZXQpIHJldHVybiB0cnVlOyAvLyBOdWxsL3VuZGVmaW5lZCBtZWFucyBlbXB0eSBzcGFjZVxuXG4gIC8vIFdhbGsgdXAgdGhlIERPTSB0cmVlIHRvIGNoZWNrIGlmIHdlJ3JlIGluc2lkZSBCbG9ja2x5J3MgY29udGFpbmVyXG4gIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIC8vIENoZWNrIGZvciBCbG9ja2x5LXNwZWNpZmljIGNsYXNzZXMvSURzIHRoYXQgaW5kaWNhdGUgd2UncmUgaW4gdGhlIEJsb2NrbHkgVUlcbiAgICBpZiAoY3VycmVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlXb3Jrc3BhY2UnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseU1haW5CYWNrZ3JvdW5kJykgfHxcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlTdmcnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseVRvb2xib3hEaXYnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUZseW91dCcpIHx8XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5Rmx5b3V0QmFja2dyb3VuZCcpIHx8XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5V2lkZ2V0RGl2JykgfHxcbiAgICAgICAgY3VycmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlEcm9wRG93bkRpdicpIHx8XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5QmxvY2tDYW52YXMnKSB8fFxuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUJ1YmJsZUNhbnZhcycpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiBCbG9ja2x5IGNvbnRhaW5lciBJRHNcbiAgICBpZiAoY3VycmVudC5pZCA9PT0gJ2Jsb2NrbHlEaXYnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/dom_utils.ts\n");

/***/ }),

/***/ "./src/drag_direction.ts":
/*!*******************************!*\
  !*** ./src/drag_direction.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Direction: () => (/* binding */ Direction),\n/* harmony export */   getDirectionFromXY: () => (/* binding */ getDirectionFromXY),\n/* harmony export */   getXYFromDirection: () => (/* binding */ getXYFromDirection)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"Up\"] = 1] = \"Up\";\n    Direction[Direction[\"Down\"] = 2] = \"Down\";\n    Direction[Direction[\"Left\"] = 3] = \"Left\";\n    Direction[Direction[\"Right\"] = 4] = \"Right\";\n})(Direction || (Direction = {}));\n/**\n * Convert a direction enum into an XY pair.\n *\n * @param dir The direction, or undefined.\n * @returns An object containing x and y values corresponding to the input\n *     direction.\n */\nfunction getXYFromDirection(dir) {\n    if (!dir) {\n        return { x: 0, y: 0 };\n    }\n    switch (dir) {\n        case Direction.Up:\n            return { x: 0, y: -1 };\n        case Direction.Down:\n            return { x: 0, y: 1 };\n        case Direction.Left:\n            return { x: -1, y: 0 };\n        case Direction.Right:\n            return { x: 1, y: 0 };\n    }\n}\n/**\n * Convert an XY pair into a direction enum.\n *\n * @param xy The input pair.\n * @param xy.x The x direction, or undefined.\n * @param xy.y The y direction, or undefined.\n * @returns A direction corresponding to the XY pair, or null if they are invalid\n *     or undefined.\n */\nfunction getDirectionFromXY(xy) {\n    const { x, y } = xy;\n    if (x == 0) {\n        if (y == -1) {\n            return Direction.Up;\n        }\n        else if (y == 1) {\n            return Direction.Down;\n        }\n    }\n    else if (y == 0) {\n        if (x == -1) {\n            return Direction.Left;\n        }\n        else if (x == 1) {\n            return Direction.Right;\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZHJhZ19kaXJlY3Rpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7R0FJRztBQUVILElBQVksU0FLWDtBQUxELFdBQVksU0FBUztJQUNuQixxQ0FBTTtJQUNOLHlDQUFJO0lBQ0oseUNBQUk7SUFDSiwyQ0FBSztBQUNQLENBQUMsRUFMVyxTQUFTLEtBQVQsU0FBUyxRQUtwQjtBQUVEOzs7Ozs7R0FNRztBQUNJLFNBQVMsa0JBQWtCLENBQUMsR0FBMEI7SUFJM0QsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1QsT0FBTyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDO0lBQ3RCLENBQUM7SUFDRCxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ1osS0FBSyxTQUFTLENBQUMsRUFBRTtZQUNmLE9BQU8sRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBQyxDQUFDO1FBQ3ZCLEtBQUssU0FBUyxDQUFDLElBQUk7WUFDakIsT0FBTyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDO1FBQ3RCLEtBQUssU0FBUyxDQUFDLElBQUk7WUFDakIsT0FBTyxFQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDLENBQUM7UUFDdkIsS0FBSyxTQUFTLENBQUMsS0FBSztZQUNsQixPQUFPLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDLENBQUM7SUFDeEIsQ0FBQztBQUNILENBQUM7QUFFRDs7Ozs7Ozs7R0FRRztBQUNJLFNBQVMsa0JBQWtCLENBQUMsRUFHbEM7SUFDQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQyxHQUFHLEVBQUUsQ0FBQztJQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDWixPQUFPLFNBQVMsQ0FBQyxFQUFFLENBQUM7UUFDdEIsQ0FBQzthQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ2xCLE9BQU8sU0FBUyxDQUFDLElBQUksQ0FBQztRQUN4QixDQUFDO0lBQ0gsQ0FBQztTQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDWixPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFDeEIsQ0FBQzthQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ2xCLE9BQU8sU0FBUyxDQUFDLEtBQUssQ0FBQztRQUN6QixDQUFDO0lBQ0gsQ0FBQztJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvZHJhZ19kaXJlY3Rpb24udHM/ZTFhZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmV4cG9ydCBlbnVtIERpcmVjdGlvbiB7XG4gIFVwID0gMSxcbiAgRG93bixcbiAgTGVmdCxcbiAgUmlnaHQsXG59XG5cbi8qKlxuICogQ29udmVydCBhIGRpcmVjdGlvbiBlbnVtIGludG8gYW4gWFkgcGFpci5cbiAqXG4gKiBAcGFyYW0gZGlyIFRoZSBkaXJlY3Rpb24sIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHggYW5kIHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGlucHV0XG4gKiAgICAgZGlyZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0WFlGcm9tRGlyZWN0aW9uKGRpcjogRGlyZWN0aW9uIHwgdW5kZWZpbmVkKToge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn0ge1xuICBpZiAoIWRpcikge1xuICAgIHJldHVybiB7eDogMCwgeTogMH07XG4gIH1cbiAgc3dpdGNoIChkaXIpIHtcbiAgICBjYXNlIERpcmVjdGlvbi5VcDpcbiAgICAgIHJldHVybiB7eDogMCwgeTogLTF9O1xuICAgIGNhc2UgRGlyZWN0aW9uLkRvd246XG4gICAgICByZXR1cm4ge3g6IDAsIHk6IDF9O1xuICAgIGNhc2UgRGlyZWN0aW9uLkxlZnQ6XG4gICAgICByZXR1cm4ge3g6IC0xLCB5OiAwfTtcbiAgICBjYXNlIERpcmVjdGlvbi5SaWdodDpcbiAgICAgIHJldHVybiB7eDogMSwgeTogMH07XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIFhZIHBhaXIgaW50byBhIGRpcmVjdGlvbiBlbnVtLlxuICpcbiAqIEBwYXJhbSB4eSBUaGUgaW5wdXQgcGFpci5cbiAqIEBwYXJhbSB4eS54IFRoZSB4IGRpcmVjdGlvbiwgb3IgdW5kZWZpbmVkLlxuICogQHBhcmFtIHh5LnkgVGhlIHkgZGlyZWN0aW9uLCBvciB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyBBIGRpcmVjdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBYWSBwYWlyLCBvciBudWxsIGlmIHRoZXkgYXJlIGludmFsaWRcbiAqICAgICBvciB1bmRlZmluZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXJlY3Rpb25Gcm9tWFkoeHk6IHtcbiAgeDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICB5OiBudW1iZXIgfCB1bmRlZmluZWQ7XG59KTogRGlyZWN0aW9uIHwgbnVsbCB7XG4gIGNvbnN0IHt4LCB5fSA9IHh5O1xuICBpZiAoeCA9PSAwKSB7XG4gICAgaWYgKHkgPT0gLTEpIHtcbiAgICAgIHJldHVybiBEaXJlY3Rpb24uVXA7XG4gICAgfSBlbHNlIGlmICh5ID09IDEpIHtcbiAgICAgIHJldHVybiBEaXJlY3Rpb24uRG93bjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoeSA9PSAwKSB7XG4gICAgaWYgKHggPT0gLTEpIHtcbiAgICAgIHJldHVybiBEaXJlY3Rpb24uTGVmdDtcbiAgICB9IGVsc2UgaWYgKHggPT0gMSkge1xuICAgICAgcmV0dXJuIERpcmVjdGlvbi5SaWdodDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/drag_direction.ts\n");

/***/ }),

/***/ "./src/flyout_cursor.ts":
/*!******************************!*\
  !*** ./src/flyout_cursor.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlyoutCursor: () => (/* binding */ FlyoutCursor),\n/* harmony export */   pluginInfo: () => (/* binding */ pluginInfo),\n/* harmony export */   registerFlyoutCursor: () => (/* binding */ registerFlyoutCursor),\n/* harmony export */   registrationName: () => (/* binding */ registrationName),\n/* harmony export */   registrationType: () => (/* binding */ registrationType)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _workspace_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./workspace_utilities */ \"./src/workspace_utilities.ts\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview The class representing a cursor used to navigate the flyout.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n/**\n * Class for a flyout cursor.\n * This controls how a user navigates blocks in the flyout.\n * This cursor only allows a user to go to the previous or next stack.\n */\nclass FlyoutCursor extends blockly_core__WEBPACK_IMPORTED_MODULE_0__.LineCursor {\n    /**\n     * The constructor for the FlyoutCursor.\n     *\n     * @param flyout The flyout this cursor is for.\n     */\n    constructor(flyout) {\n        super(flyout.getWorkspace());\n        this.flyout = flyout;\n    }\n    /**\n     * Moves the cursor to the next stack of blocks in the flyout.\n     *\n     * @returns The next element, or null if the current node is\n     *     not set or there is no next value.\n     */\n    next() {\n        const curNode = this.getCurNode();\n        if (!curNode) {\n            return null;\n        }\n        const newNode = this.workspace.getNavigator().getNextSibling(curNode);\n        if (newNode) {\n            this.setCurNode(newNode);\n        }\n        return newNode;\n    }\n    /**\n     * Moves the cursor to the previous stack of blocks in the flyout.\n     *\n     * @returns The previous element, or null if the current\n     *     node is not set or there is no previous value.\n     */\n    prev() {\n        const curNode = this.getCurNode();\n        if (!curNode) {\n            return null;\n        }\n        const newNode = this.workspace.getNavigator().getPreviousSibling(curNode);\n        if (newNode) {\n            this.setCurNode(newNode);\n        }\n        return newNode;\n    }\n    setCurNode(node) {\n        super.setCurNode(node);\n        let bounds;\n        if (node &&\n            'getBoundingRectangle' in node &&\n            typeof node.getBoundingRectangle === 'function') {\n            bounds = node.getBoundingRectangle();\n        }\n        else if (node instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton) {\n            const { x, y } = node.getPosition();\n            bounds = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Rect(y, y + node.height, x, x + node.width);\n        }\n        if (!(bounds instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Rect))\n            return;\n        (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_1__.scrollBoundsIntoView)(bounds, this.flyout.getWorkspace());\n    }\n}\nconst registrationType = blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.Type.CURSOR;\nconst registrationName = 'FlyoutCursor';\nconst pluginInfo = {\n    [registrationType.toString()]: registrationName,\n};\n/**\n * Registers the FlyoutCursor with Blockly's registry.\n */\nfunction registerFlyoutCursor() {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.register(registrationType, registrationName, FlyoutCursor, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL2ZseW91dF9jdXJzb3IudHM/ZWFmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgY2xhc3MgcmVwcmVzZW50aW5nIGEgY3Vyc29yIHVzZWQgdG8gbmF2aWdhdGUgdGhlIGZseW91dC5cbiAqIEBhdXRob3IgYXNjaG1pZWR0QGdvb2dsZS5jb20gKEFiYnkgU2NobWllZHQpXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0IHtzY3JvbGxCb3VuZHNJbnRvVmlld30gZnJvbSAnLi93b3Jrc3BhY2VfdXRpbGl0aWVzJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgYSBmbHlvdXQgY3Vyc29yLlxuICogVGhpcyBjb250cm9scyBob3cgYSB1c2VyIG5hdmlnYXRlcyBibG9ja3MgaW4gdGhlIGZseW91dC5cbiAqIFRoaXMgY3Vyc29yIG9ubHkgYWxsb3dzIGEgdXNlciB0byBnbyB0byB0aGUgcHJldmlvdXMgb3IgbmV4dCBzdGFjay5cbiAqL1xuZXhwb3J0IGNsYXNzIEZseW91dEN1cnNvciBleHRlbmRzIEJsb2NrbHkuTGluZUN1cnNvciB7XG4gIC8qKlxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBGbHlvdXRDdXJzb3IuXG4gICAqXG4gICAqIEBwYXJhbSBmbHlvdXQgVGhlIGZseW91dCB0aGlzIGN1cnNvciBpcyBmb3IuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGZseW91dDogQmxvY2tseS5JRmx5b3V0KSB7XG4gICAgc3VwZXIoZmx5b3V0LmdldFdvcmtzcGFjZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBuZXh0IHN0YWNrIG9mIGJsb2NrcyBpbiB0aGUgZmx5b3V0LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgbmV4dCBlbGVtZW50LCBvciBudWxsIGlmIHRoZSBjdXJyZW50IG5vZGUgaXNcbiAgICogICAgIG5vdCBzZXQgb3IgdGhlcmUgaXMgbm8gbmV4dCB2YWx1ZS5cbiAgICovXG4gIG92ZXJyaWRlIG5leHQoKTogQmxvY2tseS5JRm9jdXNhYmxlTm9kZSB8IG51bGwge1xuICAgIGNvbnN0IGN1ck5vZGUgPSB0aGlzLmdldEN1ck5vZGUoKTtcbiAgICBpZiAoIWN1ck5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBuZXdOb2RlID0gdGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0TmV4dFNpYmxpbmcoY3VyTm9kZSk7XG5cbiAgICBpZiAobmV3Tm9kZSkge1xuICAgICAgdGhpcy5zZXRDdXJOb2RlKG5ld05vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBwcmV2aW91cyBzdGFjayBvZiBibG9ja3MgaW4gdGhlIGZseW91dC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHByZXZpb3VzIGVsZW1lbnQsIG9yIG51bGwgaWYgdGhlIGN1cnJlbnRcbiAgICogICAgIG5vZGUgaXMgbm90IHNldCBvciB0aGVyZSBpcyBubyBwcmV2aW91cyB2YWx1ZS5cbiAgICovXG4gIG92ZXJyaWRlIHByZXYoKTogQmxvY2tseS5JRm9jdXNhYmxlTm9kZSB8IG51bGwge1xuICAgIGNvbnN0IGN1ck5vZGUgPSB0aGlzLmdldEN1ck5vZGUoKTtcbiAgICBpZiAoIWN1ck5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBuZXdOb2RlID0gdGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0UHJldmlvdXNTaWJsaW5nKGN1ck5vZGUpO1xuXG4gICAgaWYgKG5ld05vZGUpIHtcbiAgICAgIHRoaXMuc2V0Q3VyTm9kZShuZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICBvdmVycmlkZSBzZXRDdXJOb2RlKG5vZGU6IEJsb2NrbHkuSUZvY3VzYWJsZU5vZGUpIHtcbiAgICBzdXBlci5zZXRDdXJOb2RlKG5vZGUpO1xuXG4gICAgbGV0IGJvdW5kczogQmxvY2tseS51dGlscy5SZWN0IHwgdW5kZWZpbmVkO1xuICAgIGlmIChcbiAgICAgIG5vZGUgJiZcbiAgICAgICdnZXRCb3VuZGluZ1JlY3RhbmdsZScgaW4gbm9kZSAmJlxuICAgICAgdHlwZW9mIG5vZGUuZ2V0Qm91bmRpbmdSZWN0YW5nbGUgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGJvdW5kcyA9IG5vZGUuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtcbiAgICB9IGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBCbG9ja2x5LkZseW91dEJ1dHRvbikge1xuICAgICAgY29uc3Qge3gsIHl9ID0gbm9kZS5nZXRQb3NpdGlvbigpO1xuICAgICAgYm91bmRzID0gbmV3IEJsb2NrbHkudXRpbHMuUmVjdCh5LCB5ICsgbm9kZS5oZWlnaHQsIHgsIHggKyBub2RlLndpZHRoKTtcbiAgICB9XG5cbiAgICBpZiAoIShib3VuZHMgaW5zdGFuY2VvZiBCbG9ja2x5LnV0aWxzLlJlY3QpKSByZXR1cm47XG5cbiAgICBzY3JvbGxCb3VuZHNJbnRvVmlldyhib3VuZHMsIHRoaXMuZmx5b3V0LmdldFdvcmtzcGFjZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVnaXN0cmF0aW9uVHlwZSA9IEJsb2NrbHkucmVnaXN0cnkuVHlwZS5DVVJTT1I7XG5leHBvcnQgY29uc3QgcmVnaXN0cmF0aW9uTmFtZSA9ICdGbHlvdXRDdXJzb3InO1xuXG5leHBvcnQgY29uc3QgcGx1Z2luSW5mbyA9IHtcbiAgW3JlZ2lzdHJhdGlvblR5cGUudG9TdHJpbmcoKV06IHJlZ2lzdHJhdGlvbk5hbWUsXG59O1xuXG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgRmx5b3V0Q3Vyc29yIHdpdGggQmxvY2tseSdzIHJlZ2lzdHJ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJGbHlvdXRDdXJzb3IoKSB7XG4gIEJsb2NrbHkucmVnaXN0cnkucmVnaXN0ZXIoXG4gICAgcmVnaXN0cmF0aW9uVHlwZSxcbiAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgIEZseW91dEN1cnNvcixcbiAgICB0cnVlLFxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/flyout_cursor.ts\n");

/***/ }),

/***/ "./src/hints.ts":
/*!**********************!*\
  !*** ./src/hints.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearHelpHint: () => (/* binding */ clearHelpHint),\n/* harmony export */   clearMoveHints: () => (/* binding */ clearMoveHints),\n/* harmony export */   clearPasteHints: () => (/* binding */ clearPasteHints),\n/* harmony export */   showConstrainedMovementHint: () => (/* binding */ showConstrainedMovementHint),\n/* harmony export */   showCopiedHint: () => (/* binding */ showCopiedHint),\n/* harmony export */   showCutHint: () => (/* binding */ showCutHint),\n/* harmony export */   showHelpHint: () => (/* binding */ showHelpHint),\n/* harmony export */   showUnconstrainedMoveHint: () => (/* binding */ showUnconstrainedMoveHint)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/**\n * Centralises hints that we show.\n *\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\nconst unconstrainedMoveHintId = 'unconstrainedMoveHint';\nconst constrainedMoveHintId = 'constrainedMoveHint';\nconst copiedHintId = 'copiedHint';\nconst cutHintId = 'cutHint';\nconst helpHintId = 'helpHint';\n/**\n * Nudge the user to use unconstrained movement.\n *\n * @param workspace Workspace.\n * @param force Set to show it even if previously shown.\n */\nfunction showUnconstrainedMoveHint(workspace, force = false) {\n    const enter = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n    const modifier = navigator.platform.startsWith('Mac') ? '' : 'Ctrl';\n    const message = `Hold ${modifier} and use arrow keys to move freely, then ${enter} to accept the position`;\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message,\n        id: unconstrainedMoveHintId,\n        oncePerSession: !force,\n    });\n}\n/**\n * Nudge the user to move a block that's in move mode.\n *\n * @param workspace Workspace.\n */\nfunction showConstrainedMovementHint(workspace) {\n    const enter = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n    const message = `Use the arrow keys to move, then ${enter} to accept the position`;\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message,\n        id: constrainedMoveHintId,\n        oncePerSession: true,\n    });\n}\n/**\n * Clear active move-related hints, if any.\n *\n * @param workspace The workspace.\n */\nfunction clearMoveHints(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, constrainedMoveHintId);\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, unconstrainedMoveHintId);\n}\n/**\n * Nudge the user to paste after a copy.\n *\n * @param workspace Workspace.\n */\nfunction showCopiedHint(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message: `Copied. Press ${(0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE)} to paste.`,\n        duration: 7,\n        id: copiedHintId,\n    });\n}\n/**\n * Nudge the user to paste after a cut.\n *\n * @param workspace Workspace.\n */\nfunction showCutHint(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, {\n        message: `Cut. Press ${(0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.PASTE)} to paste.`,\n        duration: 7,\n        id: cutHintId,\n    });\n}\n/**\n * Clear active paste-related hints, if any.\n *\n * @param workspace The workspace.\n */\nfunction clearPasteHints(workspace) {\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, cutHintId);\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, copiedHintId);\n}\n/**\n * Nudge the user to open the help.\n *\n * @param workspace The workspace.\n */\nfunction showHelpHint(workspace) {\n    const shortcut = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getShortActionShortcut)('list_shortcuts');\n    const message = blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['HELP_PROMPT'].replace('%1', shortcut);\n    const id = helpHintId;\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.show(workspace, { message, id });\n}\n/**\n * Clear the help hint.\n *\n * @param workspace The workspace.\n */\nfunction clearHelpHint(workspace) {\n    // TODO: We'd like to do this in MakeCode too as we override.\n    // Could have an option for showing help in the plugin?\n    blockly__WEBPACK_IMPORTED_MODULE_0__.Toast.hide(workspace, helpHintId);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRLENBQUMsQ0FBQztJQUMzRCxNQUFNLEVBQUUsR0FBRyxVQUFVLENBQUM7SUFDdEIsMENBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsT0FBTyxFQUFFLEVBQUUsRUFBQyxDQUFDLENBQUM7QUFDdkMsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSSxTQUFTLGFBQWEsQ0FBQyxTQUF1QjtJQUNuRCw2REFBNkQ7SUFDN0QsdURBQXVEO0lBQ3ZELDBDQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNwQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9oaW50cy50cz9jZTljIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2VudHJhbGlzZXMgaGludHMgdGhhdCB3ZSBzaG93LlxuICpcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7TXNnLCBXb3Jrc3BhY2VTdmcsIFRvYXN0fSBmcm9tICdibG9ja2x5JztcbmltcG9ydCB7U0hPUlRDVVRfTkFNRVN9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7Z2V0U2hvcnRBY3Rpb25TaG9ydGN1dH0gZnJvbSAnLi9zaG9ydGN1dF9mb3JtYXR0aW5nJztcblxuY29uc3QgdW5jb25zdHJhaW5lZE1vdmVIaW50SWQgPSAndW5jb25zdHJhaW5lZE1vdmVIaW50JztcbmNvbnN0IGNvbnN0cmFpbmVkTW92ZUhpbnRJZCA9ICdjb25zdHJhaW5lZE1vdmVIaW50JztcbmNvbnN0IGNvcGllZEhpbnRJZCA9ICdjb3BpZWRIaW50JztcbmNvbnN0IGN1dEhpbnRJZCA9ICdjdXRIaW50JztcbmNvbnN0IGhlbHBIaW50SWQgPSAnaGVscEhpbnQnO1xuXG4vKipcbiAqIE51ZGdlIHRoZSB1c2VyIHRvIHVzZSB1bmNvbnN0cmFpbmVkIG1vdmVtZW50LlxuICpcbiAqIEBwYXJhbSB3b3Jrc3BhY2UgV29ya3NwYWNlLlxuICogQHBhcmFtIGZvcmNlIFNldCB0byBzaG93IGl0IGV2ZW4gaWYgcHJldmlvdXNseSBzaG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dVbmNvbnN0cmFpbmVkTW92ZUhpbnQoXG4gIHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnLFxuICBmb3JjZSA9IGZhbHNlLFxuKSB7XG4gIGNvbnN0IGVudGVyID0gZ2V0U2hvcnRBY3Rpb25TaG9ydGN1dChTSE9SVENVVF9OQU1FUy5FRElUX09SX0NPTkZJUk0pO1xuICBjb25zdCBtb2RpZmllciA9IG5hdmlnYXRvci5wbGF0Zm9ybS5zdGFydHNXaXRoKCdNYWMnKSA/ICfijKUnIDogJ0N0cmwnO1xuICBjb25zdCBtZXNzYWdlID0gYEhvbGQgJHttb2RpZmllcn0gYW5kIHVzZSBhcnJvdyBrZXlzIHRvIG1vdmUgZnJlZWx5LCB0aGVuICR7ZW50ZXJ9IHRvIGFjY2VwdCB0aGUgcG9zaXRpb25gO1xuICBUb2FzdC5zaG93KHdvcmtzcGFjZSwge1xuICAgIG1lc3NhZ2UsXG4gICAgaWQ6IHVuY29uc3RyYWluZWRNb3ZlSGludElkLFxuICAgIG9uY2VQZXJTZXNzaW9uOiAhZm9yY2UsXG4gIH0pO1xufVxuXG4vKipcbiAqIE51ZGdlIHRoZSB1c2VyIHRvIG1vdmUgYSBibG9jayB0aGF0J3MgaW4gbW92ZSBtb2RlLlxuICpcbiAqIEBwYXJhbSB3b3Jrc3BhY2UgV29ya3NwYWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvd0NvbnN0cmFpbmVkTW92ZW1lbnRIaW50KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gIGNvbnN0IGVudGVyID0gZ2V0U2hvcnRBY3Rpb25TaG9ydGN1dChTSE9SVENVVF9OQU1FUy5FRElUX09SX0NPTkZJUk0pO1xuICBjb25zdCBtZXNzYWdlID0gYFVzZSB0aGUgYXJyb3cga2V5cyB0byBtb3ZlLCB0aGVuICR7ZW50ZXJ9IHRvIGFjY2VwdCB0aGUgcG9zaXRpb25gO1xuICBUb2FzdC5zaG93KHdvcmtzcGFjZSwge1xuICAgIG1lc3NhZ2UsXG4gICAgaWQ6IGNvbnN0cmFpbmVkTW92ZUhpbnRJZCxcbiAgICBvbmNlUGVyU2Vzc2lvbjogdHJ1ZSxcbiAgfSk7XG59XG5cbi8qKlxuICogQ2xlYXIgYWN0aXZlIG1vdmUtcmVsYXRlZCBoaW50cywgaWYgYW55LlxuICpcbiAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTW92ZUhpbnRzKHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gIFRvYXN0LmhpZGUod29ya3NwYWNlLCBjb25zdHJhaW5lZE1vdmVIaW50SWQpO1xuICBUb2FzdC5oaWRlKHdvcmtzcGFjZSwgdW5jb25zdHJhaW5lZE1vdmVIaW50SWQpO1xufVxuXG4vKipcbiAqIE51ZGdlIHRoZSB1c2VyIHRvIHBhc3RlIGFmdGVyIGEgY29weS5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dDb3BpZWRIaW50KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gIFRvYXN0LnNob3cod29ya3NwYWNlLCB7XG4gICAgbWVzc2FnZTogYENvcGllZC4gUHJlc3MgJHtnZXRTaG9ydEFjdGlvblNob3J0Y3V0KFNIT1JUQ1VUX05BTUVTLlBBU1RFKX0gdG8gcGFzdGUuYCxcbiAgICBkdXJhdGlvbjogNyxcbiAgICBpZDogY29waWVkSGludElkLFxuICB9KTtcbn1cblxuLyoqXG4gKiBOdWRnZSB0aGUgdXNlciB0byBwYXN0ZSBhZnRlciBhIGN1dC5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dDdXRIaW50KHdvcmtzcGFjZTogV29ya3NwYWNlU3ZnKSB7XG4gIFRvYXN0LnNob3cod29ya3NwYWNlLCB7XG4gICAgbWVzc2FnZTogYEN1dC4gUHJlc3MgJHtnZXRTaG9ydEFjdGlvblNob3J0Y3V0KFNIT1JUQ1VUX05BTUVTLlBBU1RFKX0gdG8gcGFzdGUuYCxcbiAgICBkdXJhdGlvbjogNyxcbiAgICBpZDogY3V0SGludElkLFxuICB9KTtcbn1cblxuLyoqXG4gKiBDbGVhciBhY3RpdmUgcGFzdGUtcmVsYXRlZCBoaW50cywgaWYgYW55LlxuICpcbiAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUGFzdGVIaW50cyh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICBUb2FzdC5oaWRlKHdvcmtzcGFjZSwgY3V0SGludElkKTtcbiAgVG9hc3QuaGlkZSh3b3Jrc3BhY2UsIGNvcGllZEhpbnRJZCk7XG59XG5cbi8qKlxuICogTnVkZ2UgdGhlIHVzZXIgdG8gb3BlbiB0aGUgaGVscC5cbiAqXG4gKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93SGVscEhpbnQod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgY29uc3Qgc2hvcnRjdXQgPSBnZXRTaG9ydEFjdGlvblNob3J0Y3V0KCdsaXN0X3Nob3J0Y3V0cycpO1xuICBjb25zdCBtZXNzYWdlID0gTXNnWydIRUxQX1BST01QVCddLnJlcGxhY2UoJyUxJywgc2hvcnRjdXQpO1xuICBjb25zdCBpZCA9IGhlbHBIaW50SWQ7XG4gIFRvYXN0LnNob3cod29ya3NwYWNlLCB7bWVzc2FnZSwgaWR9KTtcbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgaGVscCBoaW50LlxuICpcbiAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFySGVscEhpbnQod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgLy8gVE9ETzogV2UnZCBsaWtlIHRvIGRvIHRoaXMgaW4gTWFrZUNvZGUgdG9vIGFzIHdlIG92ZXJyaWRlLlxuICAvLyBDb3VsZCBoYXZlIGFuIG9wdGlvbiBmb3Igc2hvd2luZyBoZWxwIGluIHRoZSBwbHVnaW4/XG4gIFRvYXN0LmhpZGUod29ya3NwYWNlLCBoZWxwSGludElkKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/hints.ts\n");

/***/ }),

/***/ "./src/html_toast.ts":
/*!***************************!*\
  !*** ./src/html_toast.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerHtmlToast: () => (/* binding */ registerHtmlToast)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Custom toast implementation that supports HTML elements in toast messages.\n *\n * After registering, call\n  `Blockly.dialog.toast(workspace, {element: <html element>, message: <text>});`\n * to display an HTML-based toast.\n */\nclass HtmlToast extends blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toast {\n    /**\n     * Creates the body of the toast for display.\n     *\n     * @param workspace The workspace the toast will be displayed on.\n     * @param options Configuration options for toast appearance/behavior.\n     * @returns The body for the toast.\n     */\n    static createDom(workspace, options) {\n        const dom = super.createDom(workspace, options);\n        const contents = dom.querySelector('div');\n        if (contents &&\n            'element' in options &&\n            options.element instanceof HTMLElement) {\n            contents.innerHTML = '';\n            contents.appendChild(options.element);\n        }\n        return dom;\n    }\n}\n/**\n * Registers HtmlToast as the default toast implementation for Blockly.\n */\nfunction registerHtmlToast() {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.dialog.setToast(HtmlToast.show.bind(HtmlToast));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaHRtbF90b2FzdC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0dBSUc7QUFFcUM7QUFTeEM7Ozs7OztHQU1HO0FBQ0gsTUFBTSxTQUFVLFNBQVEsK0NBQWE7SUFDbkM7Ozs7OztPQU1HO0lBQ08sTUFBTSxDQUFVLFNBQVMsQ0FDakMsU0FBK0IsRUFDL0IsT0FBeUI7UUFFekIsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEQsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxQyxJQUNFLFFBQVE7WUFDUixTQUFTLElBQUksT0FBTztZQUNwQixPQUFPLENBQUMsT0FBTyxZQUFZLFdBQVcsRUFDdEMsQ0FBQztZQUNELFFBQVEsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQ3hCLFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7Q0FDRjtBQUVEOztHQUVHO0FBQ0ksU0FBUyxpQkFBaUI7SUFDL0IsZ0RBQWMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUMxRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9odG1sX3RvYXN0LnRzPzE0ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0b2FzdHMuXG4gKi9cbmludGVyZmFjZSBIdG1sVG9hc3RPcHRpb25zIGV4dGVuZHMgQmxvY2tseS5Ub2FzdE9wdGlvbnMge1xuICBlbGVtZW50PzogSFRNTEVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ3VzdG9tIHRvYXN0IGltcGxlbWVudGF0aW9uIHRoYXQgc3VwcG9ydHMgSFRNTCBlbGVtZW50cyBpbiB0b2FzdCBtZXNzYWdlcy5cbiAqXG4gKiBBZnRlciByZWdpc3RlcmluZywgY2FsbCBcbiAgYEJsb2NrbHkuZGlhbG9nLnRvYXN0KHdvcmtzcGFjZSwge2VsZW1lbnQ6IDxodG1sIGVsZW1lbnQ+LCBtZXNzYWdlOiA8dGV4dD59KTtgXG4gKiB0byBkaXNwbGF5IGFuIEhUTUwtYmFzZWQgdG9hc3QuXG4gKi9cbmNsYXNzIEh0bWxUb2FzdCBleHRlbmRzIEJsb2NrbHkuVG9hc3Qge1xuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgYm9keSBvZiB0aGUgdG9hc3QgZm9yIGRpc3BsYXkuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0aGUgdG9hc3Qgd2lsbCBiZSBkaXNwbGF5ZWQgb24uXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdG9hc3QgYXBwZWFyYW5jZS9iZWhhdmlvci5cbiAgICogQHJldHVybnMgVGhlIGJvZHkgZm9yIHRoZSB0b2FzdC5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgb3ZlcnJpZGUgY3JlYXRlRG9tKFxuICAgIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4gICAgb3B0aW9uczogSHRtbFRvYXN0T3B0aW9ucyxcbiAgKSB7XG4gICAgY29uc3QgZG9tID0gc3VwZXIuY3JlYXRlRG9tKHdvcmtzcGFjZSwgb3B0aW9ucyk7XG4gICAgY29uc3QgY29udGVudHMgPSBkb20ucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gICAgaWYgKFxuICAgICAgY29udGVudHMgJiZcbiAgICAgICdlbGVtZW50JyBpbiBvcHRpb25zICYmXG4gICAgICBvcHRpb25zLmVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICkge1xuICAgICAgY29udGVudHMuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb250ZW50cy5hcHBlbmRDaGlsZChvcHRpb25zLmVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZG9tO1xuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIEh0bWxUb2FzdCBhcyB0aGUgZGVmYXVsdCB0b2FzdCBpbXBsZW1lbnRhdGlvbiBmb3IgQmxvY2tseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVySHRtbFRvYXN0KCkge1xuICBCbG9ja2x5LmRpYWxvZy5zZXRUb2FzdChIdG1sVG9hc3Quc2hvdy5iaW5kKEh0bWxUb2FzdCkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/html_toast.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BUILD_INFO: () => (/* reexport safe */ _build_info__WEBPACK_IMPORTED_MODULE_6__.BUILD_INFO),\n/* harmony export */   KeyboardNavigation: () => (/* binding */ KeyboardNavigation),\n/* harmony export */   TriggerMode: () => (/* reexport safe */ _sticky_mode_controller__WEBPACK_IMPORTED_MODULE_4__.TriggerMode),\n/* harmony export */   createBuildInfoComponent: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.createBuildInfoComponent),\n/* harmony export */   registerBuildInfoStyles: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.registerBuildInfoStyles),\n/* harmony export */   startBuildInfoAutoRefresh: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.startBuildInfoAutoRefresh),\n/* harmony export */   updateBuildInfo: () => (/* reexport safe */ _build_info_component__WEBPACK_IMPORTED_MODULE_5__.updateBuildInfo)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _navigation_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./navigation_controller */ \"./src/navigation_controller.ts\");\n/* harmony import */ var _disabled_blocks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./disabled_blocks */ \"./src/disabled_blocks.ts\");\n/* harmony import */ var _html_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./html_toast */ \"./src/html_toast.ts\");\n/* harmony import */ var _sticky_mode_controller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sticky_mode_controller */ \"./src/sticky_mode_controller.ts\");\n/* harmony import */ var _build_info_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./build_info_component */ \"./src/build_info_component.ts\");\n/* harmony import */ var _build_info__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./build_info */ \"./src/build_info.ts\");\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n// Re-export TriggerMode for external use\n\n/** Plugin for keyboard navigation. */\nclass KeyboardNavigation {\n    /**\n     * Returns whether the plugin is currently in sticky mode (click-and-stick).\n     *\n     * @returns True if a block is in sticky mode, false otherwise.\n     */\n    get isInStickyMode() {\n        return this.stickyModeController.isActive();\n    }\n    /**\n     * Get the block currently in sticky mode, if any.\n     *\n     * @returns The block in sticky mode, or null if not in sticky mode.\n     */\n    get stickyBlock() {\n        return this.stickyModeController.getActiveBlock();\n    }\n    /**\n     * Constructs the keyboard navigation.\n     *\n     * @param workspace The workspace that the plugin will be added to.\n     * @param options Options for plugin\n     * @param options.allowCrossWorkspacePaste If true, will allow paste\n     * option to appear enabled when pasting in a different workspace\n     * than was copied from. Defaults to false. Set to true if using\n     * cross-tab-copy-paste plugin or similar.\n     * @param options.highlightConnections If true, will highlight all\n     * valid connection points when entering move mode. Defaults to true.\n     * Useful for improving mouse accessibility.\n     */\n    constructor(workspace, options = {\n        allowCrossWorkspacePaste: false,\n        highlightConnections: true,\n    }) {\n        var _a, _b, _c, _d;\n        /**\n         * Focus ring in the workspace.\n         */\n        this.workspaceFocusRing = null;\n        /**\n         * Selection ring inside the workspace.\n         */\n        this.workspaceSelectionRing = null;\n        /**\n         * Used to restore monkey patch.\n         */\n        this.oldWorkspaceResize = null;\n        this.workspace = workspace;\n        this.stickyModeController = new _sticky_mode_controller__WEBPACK_IMPORTED_MODULE_4__.StickyModeController(workspace, null);\n        this.navigationController = new _navigation_controller__WEBPACK_IMPORTED_MODULE_1__.NavigationController({\n            allowCrossWorkspacePaste: (_a = options.allowCrossWorkspacePaste) !== null && _a !== void 0 ? _a : false,\n            highlightConnections: (_b = options.highlightConnections) !== null && _b !== void 0 ? _b : true,\n            // Disable auto-scroll during sticky mode to prevent jarring jumps at viewport edges\n            shouldDisableAutoScroll: () => this.stickyModeController.isActive(),\n        });\n        this.navigationController.init();\n        this.navigationController.addWorkspace(workspace);\n        this.navigationController.enable(workspace);\n        // Now set the navigation controller on the sticky mode controller\n        this.stickyModeController.navigationController = this.navigationController;\n        this.cursor = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.LineCursor(workspace);\n        // Add the event listener to enable disabled blocks on drag.\n        workspace.addChangeListener(_disabled_blocks__WEBPACK_IMPORTED_MODULE_2__.enableBlocksOnDrag);\n        this.stickyModeController.install();\n        window.keyboardNavigation = this;\n        // Move the flyout for logical tab order.\n        const flyout = workspace.getFlyout();\n        if (flyout != null && flyout instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Flyout) {\n            // This relies on internals.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const flyoutElement = (_c = flyout.svgGroup_) !== null && _c !== void 0 ? _c : null;\n            (_d = flyoutElement === null || flyoutElement === void 0 ? void 0 : flyoutElement.parentElement) === null || _d === void 0 ? void 0 : _d.insertBefore(flyoutElement, workspace.getParentSvg());\n        }\n        this.oldWorkspaceResize = workspace.resize;\n        workspace.resize = () => {\n            var _a;\n            (_a = this.oldWorkspaceResize) === null || _a === void 0 ? void 0 : _a.call(this.workspace);\n            this.resizeWorkspaceRings();\n        };\n        this.workspaceSelectionRing = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('rect', {\n            fill: 'none',\n            class: 'blocklyWorkspaceSelectionRing',\n        });\n        workspace.getSvgGroup().appendChild(this.workspaceSelectionRing);\n        this.workspaceFocusRing = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('rect', {\n            fill: 'none',\n            class: 'blocklyWorkspaceFocusRing',\n        });\n        workspace.getSvgGroup().appendChild(this.workspaceFocusRing);\n        this.resizeWorkspaceRings();\n        (0,_html_toast__WEBPACK_IMPORTED_MODULE_3__.registerHtmlToast)();\n    }\n    resizeWorkspaceRings() {\n        if (!this.workspaceFocusRing || !this.workspaceSelectionRing)\n            return;\n        this.resizeFocusRingInternal(this.workspaceSelectionRing, 5);\n        this.resizeFocusRingInternal(this.workspaceFocusRing, 0);\n    }\n    resizeFocusRingInternal(ring, inset) {\n        const metrics = this.workspace.getMetrics();\n        ring.setAttribute('x', (metrics.absoluteLeft + inset).toString());\n        ring.setAttribute('y', (metrics.absoluteTop + inset).toString());\n        ring.setAttribute('width', Math.max(0, metrics.viewWidth - inset * 2).toString());\n        ring.setAttribute('height', Math.max(0, metrics.svgHeight - inset * 2).toString());\n    }\n    /**\n     * Disables keyboard navigation for this navigator's workspace.\n     */\n    dispose() {\n        var _a, _b;\n        (_a = this.workspaceFocusRing) === null || _a === void 0 ? void 0 : _a.remove();\n        (_b = this.workspaceSelectionRing) === null || _b === void 0 ? void 0 : _b.remove();\n        if (this.oldWorkspaceResize) {\n            this.workspace.resize = this.oldWorkspaceResize;\n        }\n        // Remove the event listener that enables blocks on drag\n        this.workspace.removeChangeListener(_disabled_blocks__WEBPACK_IMPORTED_MODULE_2__.enableBlocksOnDrag);\n        this.stickyModeController.uninstall();\n        this.navigationController.dispose();\n    }\n    /**\n     * Toggle visibility of a help dialog for the keyboard shortcuts.\n     */\n    toggleShortcutDialog() {\n        this.navigationController.shortcutDialog.toggle(this.workspace);\n    }\n    /**\n     * Enable or disable connection highlighting during move operations.\n     *\n     * @param enabled Whether to show connection highlights when moving blocks.\n     */\n    setHighlightConnections(enabled) {\n        this.navigationController.setHighlightConnections(enabled);\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.navigationController.setFatterConnections(enabled);\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.navigationController.setConnectionSize(size);\n    }\n    /**\n     * Set the trigger mode for entering sticky move mode.\n     *\n     * @param mode The trigger mode to use (DOUBLE_CLICK, SHIFT_CLICK, FOCUSED_CLICK, MODE_TOGGLE, or GRIP_CLICK).\n     */\n    setTriggerMode(mode) {\n        this.stickyModeController.setTriggerMode(mode);\n    }\n    /**\n     * Enable or disable keeping the block on the mouse cursor during sticky move.\n     *\n     * @param enabled Whether the block should follow the cursor (true) or stay at click position (false).\n     */\n    setKeepBlockOnMouse(enabled) {\n        this.stickyModeController.setKeepBlockOnMouse(enabled);\n    }\n    /**\n     * Registers a default toolbox implementation that doesn't handle\n     * keydown events, since we now handle them in this plugin. If you\n     * use the default toolbox, call this function before calling\n     * `Blockly.inject`. If you use a custom toolbox, override the\n     * `onKeyDown_` method in your toolbox implementation to make it a no-op.\n     */\n    static registerNavigationDeferringToolbox() {\n        this.registerNavigationDeferringToolbox();\n    }\n    /**\n     * Register CSS used by the plugin.\n     * This is broken up into sections by purpose, with some notes about\n     * where it should eventually live.\n     * Must be called before `Blockly.inject`.\n     */\n    static registerKeyboardNavigationStyles() {\n        // Enable the delete icon for comments.\n        //\n        // This should remain in the plugin for the time being because we do\n        // not want to display the delete icon by default.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  .blocklyDeleteIcon {\n    display: block;\n  }\n`);\n        // Set variables that will be used to control the appearance of the\n        // focus indicators.  Attach them to the injectionDiv since they will\n        // apply to things contained therein.\n        //\n        // This should be moved to core, either to core/css.ts\n        // or to core/renderers/.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  .injectionDiv {\n    --blockly-active-node-color: #fff200;\n    --blockly-active-tree-color: #60a5fa;\n    --blockly-selection-width: 3px;\n  }\n`);\n        // Styling focusing blocks, connections and fields.\n        //\n        // This should be moved to core, being integrated into the\n        // existing styling of renderers in core/renderers/*/constants.ts.\n        //\n        // Many selectors include .blocklyKeyboardNavigation to ensure keyboard\n        // nav is on (via the heuristic). This class is added/removed from body.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Active focus cases: */\n  /* Blocks with active focus. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus:is(.blocklyPath, .blocklyHighlightedConnectionPath),\n  /* Fields with active focus, */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus.blocklyField\n    > .blocklyFieldRect,\n  /* Icons with active focus. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus.blocklyIconGroup\n    > .blocklyIconShape:first-child {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n\n  /* Passive focus cases: */\n  /* Blocks with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus:is(\n      .blocklyPath:not(.blocklyFlyout .blocklyPath),\n      .blocklyHighlightedConnectionPath\n    ),\n  /* Fields with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus.blocklyField\n    > .blocklyFieldRect,\n  /* Icons with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus.blocklyIconGroup\n    > .blocklyIconShape:first-child {\n    stroke: var(--blockly-active-node-color);\n    stroke-dasharray: 5px 3px;\n    stroke-width: var(--blockly-selection-width);\n  }\n\n  /* Workaround for unexpectedly hidden connection path due to core style. */\n  .blocklyKeyboardNavigation\n    .blocklyPassiveFocus.blocklyHighlightedConnectionPath {\n    display: unset !important;\n  }\n`);\n        // Styling for focusing the toolbox and flyout.\n        //\n        // This should be moved to core, to core/css.ts if not to somewhere\n        // more specific in core/toolbox/.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Different ways for toolbox/flyout to be the active tree: */\n  /* Active focus in the flyout. */\n  .blocklyKeyboardNavigation .blocklyFlyout:has(.blocklyActiveFocus),\n  /* Active focus in the toolbox. */\n  .blocklyKeyboardNavigation .blocklyToolbox:has(.blocklyActiveFocus),\n  /* Active focus on the toolbox/flyout. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus:is(.blocklyFlyout, .blocklyToolbox) {\n    outline-offset: calc(var(--blockly-selection-width) * -1);\n    outline: var(--blockly-selection-width) solid\n      var(--blockly-active-tree-color);\n  }\n\n  /* Suppress default outline. */\n  .blocklyKeyboardNavigation\n    .blocklyToolboxCategoryContainer:focus-visible {\n    outline: none;\n  }\n`);\n        // Styling for focusing the Workspace.\n        //\n        // This should be move to core, probably to core/css.ts.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Different ways for the workspace to be the active tree: */\n  /* Active focus within workspace. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace:has(.blocklyActiveFocus)\n    .blocklyWorkspaceFocusRing,\n  /* Active focus within drag layer. */\n  .blocklyKeyboardNavigation\n    .blocklySvg:has(~ .blocklyBlockDragSurface .blocklyActiveFocus)\n    .blocklyWorkspaceFocusRing,\n  /* Active focus on workspace. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace.blocklyActiveFocus\n    .blocklyWorkspaceFocusRing,\n  /* Focus in widget/dropdown div considered to be in workspace. */\n  .blocklyKeyboardNavigation:has(\n    .blocklyWidgetDiv:focus-within,\n    .blocklyDropDownDiv:focus-within\n  )\n    .blocklyWorkspace\n    .blocklyWorkspaceFocusRing {\n    stroke: var(--blockly-active-tree-color);\n    stroke-width: calc(var(--blockly-selection-width) * 2);\n  }\n\n  /* The workspace itself is the active node. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace.blocklyActiveFocus\n    .blocklyWorkspaceSelectionRing {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n  \n  /* The workspace itself is the active node. */\n  .blocklyKeyboardNavigation\n    .blocklyBubble.blocklyActiveFocus\n    .blocklyDraggable {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n`);\n        // Keyboard-nav-specific styling for the context menu.\n        //\n        // This should remain in the plugin for the time being because the\n        // classes selected are currently only defined in the plugin.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  .blocklyRTL .blocklyMenuItemContent .blocklyShortcutContainer {\n    flex-direction: row-reverse;\n  }\n  .blocklyMenuItemContent .blocklyShortcutContainer {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    gap: 16px;\n  }\n  .blocklyMenuItemContent .blocklyShortcutContainer .blocklyShortcut {\n    color: #ccc;\n  }\n`);\n        // Styling for connection highlighting during move mode.\n        //\n        // This should remain in the plugin for the time being because these\n        // classes are specific to the keyboard navigation plugin's move functionality.\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n  /* Clean highlighting for potential connection points */\n  .blocklyPotentialConnection {\n    stroke: #00ff00 !important;\n    stroke-width: 3px !important;\n    stroke-dasharray: 4,2 !important;\n    /* fill is set inline to support overlapping connection logic - don't override here */\n    z-index: 9999 !important;\n    pointer-events: auto !important;\n    display: block !important;\n  }\n\n  /* Ensure highlights are visible in keyboard navigation mode */\n  .blocklyKeyboardNavigation .blocklyPotentialConnection {\n    display: block !important;\n    visibility: visible !important;\n    opacity: 1 !important;\n  }\n`);\n        // Register classes used by the shortcuts modal\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Css.register(`\n:root {\n  --divider-border-color: #eee;\n  --key-border-color: #ccc;\n  --shortcut-modal-border-color: #9aa0a6;\n}\n\n.shortcut-modal {\n  border: 1px solid var(--shortcut-modal-border-color);\n  border-radius: 12px;\n  box-shadow: 6px 6px 32px rgba(0,0,0,.5);\n  flex-direction: column;\n  gap: 12px;\n  margin: auto;\n  max-height: 82vh;\n  max-width: calc(100% - 10em);\n  padding: 24px 12px 24px 32px;\n  position: relative;\n  z-index: 99;\n}\n\n.shortcut-modal[open] {\n  display: flex;\n}\n\n.shortcut-modal .close-modal {\n  border: 0;\n  background: transparent;\n  float: inline-end;\n  margin: 0 0 0 0;\n  position: absolute;\n  top: 16px;\n  right: 24px;\n}\n\n.shortcut-modal h1 {\n  font-weight: 600;\n  font-size: 1.2em;\n}\n\n.shortcut-modal:before {\n  background: radial-gradient(rgba(244, 244, 244, 0.43), rgba(75, 75, 75, 0.51));\n  align-items: center;\n  display: block;\n  font-family: Roboto;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.shortcut-tables {\n  display: grid;\n  align-items: start;\n  grid-template-columns: 1fr;\n  row-gap: 1em;\n  column-gap: 2em;\n}\n\n@media (min-width: 950px) {\n  .shortcut-tables {\n    grid-template-columns: 1fr 1fr\n  }\n}\n\n@media (min-width: 1360px) {\n  .shortcut-tables {\n    grid-template-columns: 1fr 1fr 1fr\n  }\n}\n\n.shortcut-table {\n  border-collapse: collapse;\n  font-family: Roboto;\n  font-size: .9em;\n}\n\n.shortcut-table th {\n  padding-inline-end: 0.5em;\n  text-align: left;\n  text-wrap: nowrap;\n  vertical-align: baseline;\n}\n\n.shortcut-table td:first-child {\n  text-wrap: auto;\n  width: 40%;\n}\n\n.shortcut-table tr:has(+ .category) {\n  --divider-border-color: transparent;\n  margin-end: 1em;\n}\n\n.shortcut-table tr:not(.category, :last-child) {\n  border-bottom: 1px solid var(--divider-border-color);\n}\n\n.shortcut-table td {\n  padding: 0.2em 1em 0.3em 0;\n  text-wrap: nowrap;\n}\n\n.shortcut-table h2 {\n  border-bottom: 1px solid #999;\n  font-size: 1em;\n  padding-block-end: 0.5em;\n}\n\n.shortcut-table .key {\n  border: 1px solid var(--key-border-color);\n  border-radius: 8px;\n  display: inline-block;\n  margin: 0 4px;\n  min-width: 2em;\n  padding: .3em .5em;\n  text-align: center;\n}\n\n.shortcut-table .separator {\n  color: gray;\n  display: inline-block;\n  padding: 0 0.5em;\n}\n\n.shortcut-container {\n  font-size: 0.95em;\n  overflow: auto;\n  padding: 0.5em;\n}\n\n.shortcut-combo {\n  display: inline-block;\n  padding: 0.25em 0;\n  text-wrap: nowrap;\n}\n\n/* Styling for blocks in sticky mode (click and stick) */\n.blockly-sticky-mode {\n  filter: drop-shadow(0 0 10px rgba(0, 255, 0, 0.8)) !important;\n  opacity: 0.9 !important;\n}\n\n/* Use child combinator (>) to only style the immediate block, not descendants */\n.blockly-sticky-mode > .blocklyPath {\n  stroke: #00ff00 !important;\n  stroke-width: 3 !important;\n}\n\n/* Styling for move grip handle */\n.blockly-move-grip {\n  cursor: grab;\n  transition: opacity 0.2s ease;\n}\n\n.blockly-move-grip:hover {\n  opacity: 0.8;\n}\n\n.blockly-move-grip:active {\n  cursor: grabbing;\n}\n\n.blockly-move-grip-background {\n  pointer-events: all;\n}\n\n.blockly-move-grip-dot {\n  pointer-events: none;\n}\n\n/* Ensure grip is visible above block elements */\n.blocklyKeyboardNavigation .blockly-move-grip {\n  z-index: 100;\n}\n\n`);\n    }\n}\n// Export build info components for use by plugin consumers\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBeUR4QixDQUFDLENBQUM7UUFFQywrQ0FBK0M7UUFDL0MsRUFBRTtRQUNGLG1FQUFtRTtRQUNuRSxrQ0FBa0M7UUFDbEMsNkNBQVcsQ0FBQyxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FtQnhCLENBQUMsQ0FBQztRQUVDLHNDQUFzQztRQUN0QyxFQUFFO1FBQ0Ysd0RBQXdEO1FBQ3hELDZDQUFXLENBQUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBd0N4QixDQUFDLENBQUM7UUFFQyxzREFBc0Q7UUFDdEQsRUFBRTtRQUNGLGtFQUFrRTtRQUNsRSw2REFBNkQ7UUFDN0QsNkNBQVcsQ0FBQyxRQUFRLENBQUM7Ozs7Ozs7Ozs7Ozs7Q0FheEIsQ0FBQyxDQUFDO1FBRUMsd0RBQXdEO1FBQ3hELEVBQUU7UUFDRixvRUFBb0U7UUFDcEUsK0VBQStFO1FBQy9FLDZDQUFXLENBQUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrQnhCLENBQUMsQ0FBQztRQUVDLCtDQUErQztRQUMvQyw2Q0FBVyxDQUFDLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWtMeEIsQ0FBQyxDQUFDO0lBQ0QsQ0FBQztDQUVGO0FBRUQsMkRBQTJEO0FBQzBFO0FBQzdGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9pbmRleC50cz9mZmI0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0IHtOYXZpZ2F0aW9uQ29udHJvbGxlcn0gZnJvbSAnLi9uYXZpZ2F0aW9uX2NvbnRyb2xsZXInO1xuaW1wb3J0IHtlbmFibGVCbG9ja3NPbkRyYWd9IGZyb20gJy4vZGlzYWJsZWRfYmxvY2tzJztcbmltcG9ydCB7cmVnaXN0ZXJIdG1sVG9hc3R9IGZyb20gJy4vaHRtbF90b2FzdCc7XG5pbXBvcnQge1N0aWNreU1vZGVDb250cm9sbGVyLCBUcmlnZ2VyTW9kZX0gZnJvbSAnLi9zdGlja3lfbW9kZV9jb250cm9sbGVyJztcblxuLy8gUmUtZXhwb3J0IFRyaWdnZXJNb2RlIGZvciBleHRlcm5hbCB1c2VcbmV4cG9ydCB7VHJpZ2dlck1vZGV9O1xuXG4vKiogUGx1Z2luIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uLiAqL1xuZXhwb3J0IGNsYXNzIEtleWJvYXJkTmF2aWdhdGlvbiB7XG4gIC8qKiBUaGUgd29ya3NwYWNlLiAqL1xuICBwcm90ZWN0ZWQgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2ZztcblxuICAvKiogS2V5Ym9hcmQgbmF2aWdhdGlvbiBjb250cm9sbGVyIGluc3RhbmNlIGZvciB0aGUgd29ya3NwYWNlLiAqL1xuICBwcml2YXRlIG5hdmlnYXRpb25Db250cm9sbGVyOiBOYXZpZ2F0aW9uQ29udHJvbGxlcjtcblxuICAvKiogQ3Vyc29yIGZvciB0aGUgbWFpbiB3b3Jrc3BhY2UuICovXG4gIHByaXZhdGUgY3Vyc29yOiBCbG9ja2x5LkxpbmVDdXJzb3I7XG5cbiAgLyoqXG4gICAqIEZvY3VzIHJpbmcgaW4gdGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIHByaXZhdGUgd29ya3NwYWNlRm9jdXNSaW5nOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNlbGVjdGlvbiByaW5nIGluc2lkZSB0aGUgd29ya3NwYWNlLlxuICAgKi9cbiAgcHJpdmF0ZSB3b3Jrc3BhY2VTZWxlY3Rpb25SaW5nOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIENvbnRyb2xsZXIgZm9yIGNsaWNrLWFuZC1zdGljayBmdW5jdGlvbmFsaXR5LiAqL1xuICBwcml2YXRlIHN0aWNreU1vZGVDb250cm9sbGVyOiBTdGlja3lNb2RlQ29udHJvbGxlcjtcblxuICAvKipcbiAgICogVXNlZCB0byByZXN0b3JlIG1vbmtleSBwYXRjaC5cbiAgICovXG4gIHByaXZhdGUgb2xkV29ya3NwYWNlUmVzaXplOlxuICAgIHwgSW5zdGFuY2VUeXBlPHR5cGVvZiBCbG9ja2x5LldvcmtzcGFjZVN2Zz5bJ3Jlc2l6ZSddXG4gICAgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBwbHVnaW4gaXMgY3VycmVudGx5IGluIHN0aWNreSBtb2RlIChjbGljay1hbmQtc3RpY2spLlxuICAgKlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGEgYmxvY2sgaXMgaW4gc3RpY2t5IG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGdldCBpc0luU3RpY2t5TW9kZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlci5pc0FjdGl2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYmxvY2sgY3VycmVudGx5IGluIHN0aWNreSBtb2RlLCBpZiBhbnkuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBibG9jayBpbiBzdGlja3kgbW9kZSwgb3IgbnVsbCBpZiBub3QgaW4gc3RpY2t5IG1vZGUuXG4gICAqL1xuICBnZXQgc3RpY2t5QmxvY2soKTogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnN0aWNreU1vZGVDb250cm9sbGVyLmdldEFjdGl2ZUJsb2NrKCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRoYXQgdGhlIHBsdWdpbiB3aWxsIGJlIGFkZGVkIHRvLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciBwbHVnaW5cbiAgICogQHBhcmFtIG9wdGlvbnMuYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlIElmIHRydWUsIHdpbGwgYWxsb3cgcGFzdGVcbiAgICogb3B0aW9uIHRvIGFwcGVhciBlbmFibGVkIHdoZW4gcGFzdGluZyBpbiBhIGRpZmZlcmVudCB3b3Jrc3BhY2VcbiAgICogdGhhbiB3YXMgY29waWVkIGZyb20uIERlZmF1bHRzIHRvIGZhbHNlLiBTZXQgdG8gdHJ1ZSBpZiB1c2luZ1xuICAgKiBjcm9zcy10YWItY29weS1wYXN0ZSBwbHVnaW4gb3Igc2ltaWxhci5cbiAgICogQHBhcmFtIG9wdGlvbnMuaGlnaGxpZ2h0Q29ubmVjdGlvbnMgSWYgdHJ1ZSwgd2lsbCBoaWdobGlnaHQgYWxsXG4gICAqIHZhbGlkIGNvbm5lY3Rpb24gcG9pbnRzIHdoZW4gZW50ZXJpbmcgbW92ZSBtb2RlLiBEZWZhdWx0cyB0byB0cnVlLlxuICAgKiBVc2VmdWwgZm9yIGltcHJvdmluZyBtb3VzZSBhY2Nlc3NpYmlsaXR5LlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2ZyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBhbGxvd0Nyb3NzV29ya3NwYWNlUGFzdGU/OiBib29sZWFuO1xuICAgICAgaGlnaGxpZ2h0Q29ubmVjdGlvbnM/OiBib29sZWFuO1xuICAgIH0gPSB7XG4gICAgICBhbGxvd0Nyb3NzV29ya3NwYWNlUGFzdGU6IGZhbHNlLFxuICAgICAgaGlnaGxpZ2h0Q29ubmVjdGlvbnM6IHRydWUsXG4gICAgfSxcbiAgKSB7XG4gICAgdGhpcy53b3Jrc3BhY2UgPSB3b3Jrc3BhY2U7XG5cbiAgICB0aGlzLnN0aWNreU1vZGVDb250cm9sbGVyID0gbmV3IFN0aWNreU1vZGVDb250cm9sbGVyKFxuICAgICAgd29ya3NwYWNlLFxuICAgICAgbnVsbCBhcyBhbnksIC8vIFdpbGwgYmUgc2V0IGFmdGVyIG5hdmlnYXRpb25Db250cm9sbGVyIGlzIGNyZWF0ZWRcbiAgICApO1xuXG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlciA9IG5ldyBOYXZpZ2F0aW9uQ29udHJvbGxlcih7XG4gICAgICBhbGxvd0Nyb3NzV29ya3NwYWNlUGFzdGU6IG9wdGlvbnMuYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlID8/IGZhbHNlLFxuICAgICAgaGlnaGxpZ2h0Q29ubmVjdGlvbnM6IG9wdGlvbnMuaGlnaGxpZ2h0Q29ubmVjdGlvbnMgPz8gdHJ1ZSxcbiAgICAgIC8vIERpc2FibGUgYXV0by1zY3JvbGwgZHVyaW5nIHN0aWNreSBtb2RlIHRvIHByZXZlbnQgamFycmluZyBqdW1wcyBhdCB2aWV3cG9ydCBlZGdlc1xuICAgICAgc2hvdWxkRGlzYWJsZUF1dG9TY3JvbGw6ICgpID0+IHRoaXMuc3RpY2t5TW9kZUNvbnRyb2xsZXIuaXNBY3RpdmUoKSxcbiAgICB9KTtcbiAgICB0aGlzLm5hdmlnYXRpb25Db250cm9sbGVyLmluaXQoKTtcbiAgICB0aGlzLm5hdmlnYXRpb25Db250cm9sbGVyLmFkZFdvcmtzcGFjZSh3b3Jrc3BhY2UpO1xuICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIuZW5hYmxlKHdvcmtzcGFjZSk7XG5cbiAgICAvLyBOb3cgc2V0IHRoZSBuYXZpZ2F0aW9uIGNvbnRyb2xsZXIgb24gdGhlIHN0aWNreSBtb2RlIGNvbnRyb2xsZXJcbiAgICAodGhpcy5zdGlja3lNb2RlQ29udHJvbGxlciBhcyBhbnkpLm5hdmlnYXRpb25Db250cm9sbGVyID0gdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlcjtcblxuICAgIHRoaXMuY3Vyc29yID0gbmV3IEJsb2NrbHkuTGluZUN1cnNvcih3b3Jrc3BhY2UpO1xuXG4gICAgLy8gQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byBlbmFibGUgZGlzYWJsZWQgYmxvY2tzIG9uIGRyYWcuXG4gICAgd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGVuYWJsZUJsb2Nrc09uRHJhZyk7XG5cbiAgICB0aGlzLnN0aWNreU1vZGVDb250cm9sbGVyLmluc3RhbGwoKTtcblxuICAgICh3aW5kb3cgYXMgYW55KS5rZXlib2FyZE5hdmlnYXRpb24gPSB0aGlzO1xuXG4gICAgLy8gTW92ZSB0aGUgZmx5b3V0IGZvciBsb2dpY2FsIHRhYiBvcmRlci5cbiAgICBjb25zdCBmbHlvdXQgPSB3b3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgaWYgKGZseW91dCAhPSBudWxsICYmIGZseW91dCBpbnN0YW5jZW9mIEJsb2NrbHkuRmx5b3V0KSB7XG4gICAgICAvLyBUaGlzIHJlbGllcyBvbiBpbnRlcm5hbHMuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgY29uc3QgZmx5b3V0RWxlbWVudCA9ICgoZmx5b3V0IGFzIGFueSkuc3ZnR3JvdXBfIGFzIFNWR0VsZW1lbnQpID8/IG51bGw7XG4gICAgICBmbHlvdXRFbGVtZW50Py5wYXJlbnRFbGVtZW50Py5pbnNlcnRCZWZvcmUoXG4gICAgICAgIGZseW91dEVsZW1lbnQsXG4gICAgICAgIHdvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5vbGRXb3Jrc3BhY2VSZXNpemUgPSB3b3Jrc3BhY2UucmVzaXplO1xuICAgIHdvcmtzcGFjZS5yZXNpemUgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9sZFdvcmtzcGFjZVJlc2l6ZT8uY2FsbCh0aGlzLndvcmtzcGFjZSk7XG4gICAgICB0aGlzLnJlc2l6ZVdvcmtzcGFjZVJpbmdzKCk7XG4gICAgfTtcbiAgICB0aGlzLndvcmtzcGFjZVNlbGVjdGlvblJpbmcgPSBCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KCdyZWN0Jywge1xuICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgY2xhc3M6ICdibG9ja2x5V29ya3NwYWNlU2VsZWN0aW9uUmluZycsXG4gICAgfSk7XG4gICAgd29ya3NwYWNlLmdldFN2Z0dyb3VwKCkuYXBwZW5kQ2hpbGQodGhpcy53b3Jrc3BhY2VTZWxlY3Rpb25SaW5nKTtcbiAgICB0aGlzLndvcmtzcGFjZUZvY3VzUmluZyA9IEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoJ3JlY3QnLCB7XG4gICAgICBmaWxsOiAnbm9uZScsXG4gICAgICBjbGFzczogJ2Jsb2NrbHlXb3Jrc3BhY2VGb2N1c1JpbmcnLFxuICAgIH0pO1xuICAgIHdvcmtzcGFjZS5nZXRTdmdHcm91cCgpLmFwcGVuZENoaWxkKHRoaXMud29ya3NwYWNlRm9jdXNSaW5nKTtcbiAgICB0aGlzLnJlc2l6ZVdvcmtzcGFjZVJpbmdzKCk7XG5cbiAgICByZWdpc3Rlckh0bWxUb2FzdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNpemVXb3Jrc3BhY2VSaW5ncygpIHtcbiAgICBpZiAoIXRoaXMud29ya3NwYWNlRm9jdXNSaW5nIHx8ICF0aGlzLndvcmtzcGFjZVNlbGVjdGlvblJpbmcpIHJldHVybjtcbiAgICB0aGlzLnJlc2l6ZUZvY3VzUmluZ0ludGVybmFsKHRoaXMud29ya3NwYWNlU2VsZWN0aW9uUmluZywgNSk7XG4gICAgdGhpcy5yZXNpemVGb2N1c1JpbmdJbnRlcm5hbCh0aGlzLndvcmtzcGFjZUZvY3VzUmluZywgMCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2l6ZUZvY3VzUmluZ0ludGVybmFsKHJpbmc6IEVsZW1lbnQsIGluc2V0OiBudW1iZXIpIHtcbiAgICBjb25zdCBtZXRyaWNzID0gdGhpcy53b3Jrc3BhY2UuZ2V0TWV0cmljcygpO1xuICAgIHJpbmcuc2V0QXR0cmlidXRlKCd4JywgKG1ldHJpY3MuYWJzb2x1dGVMZWZ0ICsgaW5zZXQpLnRvU3RyaW5nKCkpO1xuICAgIHJpbmcuc2V0QXR0cmlidXRlKCd5JywgKG1ldHJpY3MuYWJzb2x1dGVUb3AgKyBpbnNldCkudG9TdHJpbmcoKSk7XG4gICAgcmluZy5zZXRBdHRyaWJ1dGUoXG4gICAgICAnd2lkdGgnLFxuICAgICAgTWF0aC5tYXgoMCwgbWV0cmljcy52aWV3V2lkdGggLSBpbnNldCAqIDIpLnRvU3RyaW5nKCksXG4gICAgKTtcbiAgICByaW5nLnNldEF0dHJpYnV0ZShcbiAgICAgICdoZWlnaHQnLFxuICAgICAgTWF0aC5tYXgoMCwgbWV0cmljcy5zdmdIZWlnaHQgLSBpbnNldCAqIDIpLnRvU3RyaW5nKCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBrZXlib2FyZCBuYXZpZ2F0aW9uIGZvciB0aGlzIG5hdmlnYXRvcidzIHdvcmtzcGFjZS5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy53b3Jrc3BhY2VGb2N1c1Jpbmc/LnJlbW92ZSgpO1xuICAgIHRoaXMud29ya3NwYWNlU2VsZWN0aW9uUmluZz8ucmVtb3ZlKCk7XG4gICAgaWYgKHRoaXMub2xkV29ya3NwYWNlUmVzaXplKSB7XG4gICAgICB0aGlzLndvcmtzcGFjZS5yZXNpemUgPSB0aGlzLm9sZFdvcmtzcGFjZVJlc2l6ZTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHRoYXQgZW5hYmxlcyBibG9ja3Mgb24gZHJhZ1xuICAgIHRoaXMud29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKGVuYWJsZUJsb2Nrc09uRHJhZyk7XG4gICAgdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlci51bmluc3RhbGwoKTtcbiAgICB0aGlzLm5hdmlnYXRpb25Db250cm9sbGVyLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdmlzaWJpbGl0eSBvZiBhIGhlbHAgZGlhbG9nIGZvciB0aGUga2V5Ym9hcmQgc2hvcnRjdXRzLlxuICAgKi9cbiAgdG9nZ2xlU2hvcnRjdXREaWFsb2coKTogdm9pZCB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlci5zaG9ydGN1dERpYWxvZy50b2dnbGUodGhpcy53b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0aW5nIGR1cmluZyBtb3ZlIG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBlbmFibGVkIFdoZXRoZXIgdG8gc2hvdyBjb25uZWN0aW9uIGhpZ2hsaWdodHMgd2hlbiBtb3ZpbmcgYmxvY2tzLlxuICAgKi9cbiAgc2V0SGlnaGxpZ2h0Q29ubmVjdGlvbnMoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIuc2V0SGlnaGxpZ2h0Q29ubmVjdGlvbnMoZW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgZmF0dGVyIGNvbm5lY3Rpb24gaGlnaGxpZ2h0cy5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0byB1c2UgZmF0dGVyIGNvbm5lY3Rpb25zIHdpdGggbGFyZ2VyIGNsaWNrIHRhcmdldHMuXG4gICAqL1xuICBzZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRGYXR0ZXJDb25uZWN0aW9ucyhlbmFibGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0IHNpemUuXG4gICAqXG4gICAqIEBwYXJhbSBzaXplIFRoZSBzaXplIGxldmVsOiAnbWluaW1hbCcsICdtZWRpdW0nLCBvciAnbGFyZ2UnLlxuICAgKi9cbiAgc2V0Q29ubmVjdGlvblNpemUoc2l6ZTogJ21pbmltYWwnIHwgJ21lZGl1bScgfCAnbGFyZ2UnKTogdm9pZCB7XG4gICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlci5zZXRDb25uZWN0aW9uU2l6ZShzaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRyaWdnZXIgbW9kZSBmb3IgZW50ZXJpbmcgc3RpY2t5IG1vdmUgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIG1vZGUgVGhlIHRyaWdnZXIgbW9kZSB0byB1c2UgKERPVUJMRV9DTElDSywgU0hJRlRfQ0xJQ0ssIEZPQ1VTRURfQ0xJQ0ssIE1PREVfVE9HR0xFLCBvciBHUklQX0NMSUNLKS5cbiAgICovXG4gIHNldFRyaWdnZXJNb2RlKG1vZGU6IFRyaWdnZXJNb2RlKTogdm9pZCB7XG4gICAgdGhpcy5zdGlja3lNb2RlQ29udHJvbGxlci5zZXRUcmlnZ2VyTW9kZShtb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBrZWVwaW5nIHRoZSBibG9jayBvbiB0aGUgbW91c2UgY3Vyc29yIGR1cmluZyBzdGlja3kgbW92ZS5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0aGUgYmxvY2sgc2hvdWxkIGZvbGxvdyB0aGUgY3Vyc29yICh0cnVlKSBvciBzdGF5IGF0IGNsaWNrIHBvc2l0aW9uIChmYWxzZSkuXG4gICAqL1xuICBzZXRLZWVwQmxvY2tPbk1vdXNlKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnN0aWNreU1vZGVDb250cm9sbGVyLnNldEtlZXBCbG9ja09uTW91c2UoZW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgZGVmYXVsdCB0b29sYm94IGltcGxlbWVudGF0aW9uIHRoYXQgZG9lc24ndCBoYW5kbGVcbiAgICoga2V5ZG93biBldmVudHMsIHNpbmNlIHdlIG5vdyBoYW5kbGUgdGhlbSBpbiB0aGlzIHBsdWdpbi4gSWYgeW91XG4gICAqIHVzZSB0aGUgZGVmYXVsdCB0b29sYm94LCBjYWxsIHRoaXMgZnVuY3Rpb24gYmVmb3JlIGNhbGxpbmdcbiAgICogYEJsb2NrbHkuaW5qZWN0YC4gSWYgeW91IHVzZSBhIGN1c3RvbSB0b29sYm94LCBvdmVycmlkZSB0aGVcbiAgICogYG9uS2V5RG93bl9gIG1ldGhvZCBpbiB5b3VyIHRvb2xib3ggaW1wbGVtZW50YXRpb24gdG8gbWFrZSBpdCBhIG5vLW9wLlxuICAgKi9cbiAgc3RhdGljIHJlZ2lzdGVyTmF2aWdhdGlvbkRlZmVycmluZ1Rvb2xib3goKSB7XG4gICAgdGhpcy5yZWdpc3Rlck5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgQ1NTIHVzZWQgYnkgdGhlIHBsdWdpbi5cbiAgICogVGhpcyBpcyBicm9rZW4gdXAgaW50byBzZWN0aW9ucyBieSBwdXJwb3NlLCB3aXRoIHNvbWUgbm90ZXMgYWJvdXRcbiAgICogd2hlcmUgaXQgc2hvdWxkIGV2ZW50dWFsbHkgbGl2ZS5cbiAgICogTXVzdCBiZSBjYWxsZWQgYmVmb3JlIGBCbG9ja2x5LmluamVjdGAuXG4gICAqL1xuICBzdGF0aWMgcmVnaXN0ZXJLZXlib2FyZE5hdmlnYXRpb25TdHlsZXMoKSB7XG4gICAgLy8gRW5hYmxlIHRoZSBkZWxldGUgaWNvbiBmb3IgY29tbWVudHMuXG4gICAgLy9cbiAgICAvLyBUaGlzIHNob3VsZCByZW1haW4gaW4gdGhlIHBsdWdpbiBmb3IgdGhlIHRpbWUgYmVpbmcgYmVjYXVzZSB3ZSBkb1xuICAgIC8vIG5vdCB3YW50IHRvIGRpc3BsYXkgdGhlIGRlbGV0ZSBpY29uIGJ5IGRlZmF1bHQuXG4gICAgQmxvY2tseS5Dc3MucmVnaXN0ZXIoYFxuICAuYmxvY2tseURlbGV0ZUljb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5gKTtcblxuICAgIC8vIFNldCB2YXJpYWJsZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29udHJvbCB0aGUgYXBwZWFyYW5jZSBvZiB0aGVcbiAgICAvLyBmb2N1cyBpbmRpY2F0b3JzLiAgQXR0YWNoIHRoZW0gdG8gdGhlIGluamVjdGlvbkRpdiBzaW5jZSB0aGV5IHdpbGxcbiAgICAvLyBhcHBseSB0byB0aGluZ3MgY29udGFpbmVkIHRoZXJlaW4uXG4gICAgLy9cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBtb3ZlZCB0byBjb3JlLCBlaXRoZXIgdG8gY29yZS9jc3MudHNcbiAgICAvLyBvciB0byBjb3JlL3JlbmRlcmVycy8uXG4gICAgQmxvY2tseS5Dc3MucmVnaXN0ZXIoYFxuICAuaW5qZWN0aW9uRGl2IHtcbiAgICAtLWJsb2NrbHktYWN0aXZlLW5vZGUtY29sb3I6ICNmZmYyMDA7XG4gICAgLS1ibG9ja2x5LWFjdGl2ZS10cmVlLWNvbG9yOiAjNjBhNWZhO1xuICAgIC0tYmxvY2tseS1zZWxlY3Rpb24td2lkdGg6IDNweDtcbiAgfVxuYCk7XG5cbiAgICAvLyBTdHlsaW5nIGZvY3VzaW5nIGJsb2NrcywgY29ubmVjdGlvbnMgYW5kIGZpZWxkcy5cbiAgICAvL1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIG1vdmVkIHRvIGNvcmUsIGJlaW5nIGludGVncmF0ZWQgaW50byB0aGVcbiAgICAvLyBleGlzdGluZyBzdHlsaW5nIG9mIHJlbmRlcmVycyBpbiBjb3JlL3JlbmRlcmVycy8qL2NvbnN0YW50cy50cy5cbiAgICAvL1xuICAgIC8vIE1hbnkgc2VsZWN0b3JzIGluY2x1ZGUgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb24gdG8gZW5zdXJlIGtleWJvYXJkXG4gICAgLy8gbmF2IGlzIG9uICh2aWEgdGhlIGhldXJpc3RpYykuIFRoaXMgY2xhc3MgaXMgYWRkZWQvcmVtb3ZlZCBmcm9tIGJvZHkuXG4gICAgQmxvY2tseS5Dc3MucmVnaXN0ZXIoYFxuICAvKiBBY3RpdmUgZm9jdXMgY2FzZXM6ICovXG4gIC8qIEJsb2NrcyB3aXRoIGFjdGl2ZSBmb2N1cy4gKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb25cbiAgICAuYmxvY2tseUFjdGl2ZUZvY3VzOmlzKC5ibG9ja2x5UGF0aCwgLmJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoKSxcbiAgLyogRmllbGRzIHdpdGggYWN0aXZlIGZvY3VzLCAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblxuICAgIC5ibG9ja2x5QWN0aXZlRm9jdXMuYmxvY2tseUZpZWxkXG4gICAgPiAuYmxvY2tseUZpZWxkUmVjdCxcbiAgLyogSWNvbnMgd2l0aCBhY3RpdmUgZm9jdXMuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlBY3RpdmVGb2N1cy5ibG9ja2x5SWNvbkdyb3VwXG4gICAgPiAuYmxvY2tseUljb25TaGFwZTpmaXJzdC1jaGlsZCB7XG4gICAgc3Ryb2tlOiB2YXIoLS1ibG9ja2x5LWFjdGl2ZS1ub2RlLWNvbG9yKTtcbiAgICBzdHJva2Utd2lkdGg6IHZhcigtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoKTtcbiAgfVxuXG4gIC8qIFBhc3NpdmUgZm9jdXMgY2FzZXM6ICovXG4gIC8qIEJsb2NrcyB3aXRoIHBhc3NpdmUgZm9jdXMgZXhjZXB0IHdoZW4gd2lkZ2V0L2Ryb3Bkb3duIGRpdiBpbiB1c2UuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uOm5vdChcbiAgICAgICAgICA6aGFzKFxuICAgICAgICAgICAgICAuYmxvY2tseURyb3BEb3duRGl2OmZvY3VzLXdpdGhpbixcbiAgICAgICAgICAgICAgLmJsb2NrbHlXaWRnZXREaXY6Zm9jdXMtd2l0aGluXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAuYmxvY2tseVBhc3NpdmVGb2N1czppcyhcbiAgICAgIC5ibG9ja2x5UGF0aDpub3QoLmJsb2NrbHlGbHlvdXQgLmJsb2NrbHlQYXRoKSxcbiAgICAgIC5ibG9ja2x5SGlnaGxpZ2h0ZWRDb25uZWN0aW9uUGF0aFxuICAgICksXG4gIC8qIEZpZWxkcyB3aXRoIHBhc3NpdmUgZm9jdXMgZXhjZXB0IHdoZW4gd2lkZ2V0L2Ryb3Bkb3duIGRpdiBpbiB1c2UuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uOm5vdChcbiAgICAgICAgICA6aGFzKFxuICAgICAgICAgICAgICAuYmxvY2tseURyb3BEb3duRGl2OmZvY3VzLXdpdGhpbixcbiAgICAgICAgICAgICAgLmJsb2NrbHlXaWRnZXREaXY6Zm9jdXMtd2l0aGluXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAuYmxvY2tseVBhc3NpdmVGb2N1cy5ibG9ja2x5RmllbGRcbiAgICA+IC5ibG9ja2x5RmllbGRSZWN0LFxuICAvKiBJY29ucyB3aXRoIHBhc3NpdmUgZm9jdXMgZXhjZXB0IHdoZW4gd2lkZ2V0L2Ryb3Bkb3duIGRpdiBpbiB1c2UuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uOm5vdChcbiAgICAgICAgICA6aGFzKFxuICAgICAgICAgICAgICAuYmxvY2tseURyb3BEb3duRGl2OmZvY3VzLXdpdGhpbixcbiAgICAgICAgICAgICAgLmJsb2NrbHlXaWRnZXREaXY6Zm9jdXMtd2l0aGluXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAuYmxvY2tseVBhc3NpdmVGb2N1cy5ibG9ja2x5SWNvbkdyb3VwXG4gICAgPiAuYmxvY2tseUljb25TaGFwZTpmaXJzdC1jaGlsZCB7XG4gICAgc3Ryb2tlOiB2YXIoLS1ibG9ja2x5LWFjdGl2ZS1ub2RlLWNvbG9yKTtcbiAgICBzdHJva2UtZGFzaGFycmF5OiA1cHggM3B4O1xuICAgIHN0cm9rZS13aWR0aDogdmFyKC0tYmxvY2tseS1zZWxlY3Rpb24td2lkdGgpO1xuICB9XG5cbiAgLyogV29ya2Fyb3VuZCBmb3IgdW5leHBlY3RlZGx5IGhpZGRlbiBjb25uZWN0aW9uIHBhdGggZHVlIHRvIGNvcmUgc3R5bGUuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlQYXNzaXZlRm9jdXMuYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGgge1xuICAgIGRpc3BsYXk6IHVuc2V0ICFpbXBvcnRhbnQ7XG4gIH1cbmApO1xuXG4gICAgLy8gU3R5bGluZyBmb3IgZm9jdXNpbmcgdGhlIHRvb2xib3ggYW5kIGZseW91dC5cbiAgICAvL1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIG1vdmVkIHRvIGNvcmUsIHRvIGNvcmUvY3NzLnRzIGlmIG5vdCB0byBzb21ld2hlcmVcbiAgICAvLyBtb3JlIHNwZWNpZmljIGluIGNvcmUvdG9vbGJveC8uXG4gICAgQmxvY2tseS5Dc3MucmVnaXN0ZXIoYFxuICAvKiBEaWZmZXJlbnQgd2F5cyBmb3IgdG9vbGJveC9mbHlvdXQgdG8gYmUgdGhlIGFjdGl2ZSB0cmVlOiAqL1xuICAvKiBBY3RpdmUgZm9jdXMgaW4gdGhlIGZseW91dC4gKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb24gLmJsb2NrbHlGbHlvdXQ6aGFzKC5ibG9ja2x5QWN0aXZlRm9jdXMpLFxuICAvKiBBY3RpdmUgZm9jdXMgaW4gdGhlIHRvb2xib3guICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uIC5ibG9ja2x5VG9vbGJveDpoYXMoLmJsb2NrbHlBY3RpdmVGb2N1cyksXG4gIC8qIEFjdGl2ZSBmb2N1cyBvbiB0aGUgdG9vbGJveC9mbHlvdXQuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlBY3RpdmVGb2N1czppcyguYmxvY2tseUZseW91dCwgLmJsb2NrbHlUb29sYm94KSB7XG4gICAgb3V0bGluZS1vZmZzZXQ6IGNhbGModmFyKC0tYmxvY2tseS1zZWxlY3Rpb24td2lkdGgpICogLTEpO1xuICAgIG91dGxpbmU6IHZhcigtLWJsb2NrbHktc2VsZWN0aW9uLXdpZHRoKSBzb2xpZFxuICAgICAgdmFyKC0tYmxvY2tseS1hY3RpdmUtdHJlZS1jb2xvcik7XG4gIH1cblxuICAvKiBTdXBwcmVzcyBkZWZhdWx0IG91dGxpbmUuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlDb250YWluZXI6Zm9jdXMtdmlzaWJsZSB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgfVxuYCk7XG5cbiAgICAvLyBTdHlsaW5nIGZvciBmb2N1c2luZyB0aGUgV29ya3NwYWNlLlxuICAgIC8vXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgbW92ZSB0byBjb3JlLCBwcm9iYWJseSB0byBjb3JlL2Nzcy50cy5cbiAgICBCbG9ja2x5LkNzcy5yZWdpc3RlcihgXG4gIC8qIERpZmZlcmVudCB3YXlzIGZvciB0aGUgd29ya3NwYWNlIHRvIGJlIHRoZSBhY3RpdmUgdHJlZTogKi9cbiAgLyogQWN0aXZlIGZvY3VzIHdpdGhpbiB3b3Jrc3BhY2UuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2U6aGFzKC5ibG9ja2x5QWN0aXZlRm9jdXMpXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2VGb2N1c1JpbmcsXG4gIC8qIEFjdGl2ZSBmb2N1cyB3aXRoaW4gZHJhZyBsYXllci4gKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb25cbiAgICAuYmxvY2tseVN2ZzpoYXMofiAuYmxvY2tseUJsb2NrRHJhZ1N1cmZhY2UgLmJsb2NrbHlBY3RpdmVGb2N1cylcbiAgICAuYmxvY2tseVdvcmtzcGFjZUZvY3VzUmluZyxcbiAgLyogQWN0aXZlIGZvY3VzIG9uIHdvcmtzcGFjZS4gKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb25cbiAgICAuYmxvY2tseVdvcmtzcGFjZS5ibG9ja2x5QWN0aXZlRm9jdXNcbiAgICAuYmxvY2tseVdvcmtzcGFjZUZvY3VzUmluZyxcbiAgLyogRm9jdXMgaW4gd2lkZ2V0L2Ryb3Bkb3duIGRpdiBjb25zaWRlcmVkIHRvIGJlIGluIHdvcmtzcGFjZS4gKi9cbiAgLmJsb2NrbHlLZXlib2FyZE5hdmlnYXRpb246aGFzKFxuICAgIC5ibG9ja2x5V2lkZ2V0RGl2OmZvY3VzLXdpdGhpbixcbiAgICAuYmxvY2tseURyb3BEb3duRGl2OmZvY3VzLXdpdGhpblxuICApXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2VcbiAgICAuYmxvY2tseVdvcmtzcGFjZUZvY3VzUmluZyB7XG4gICAgc3Ryb2tlOiB2YXIoLS1ibG9ja2x5LWFjdGl2ZS10cmVlLWNvbG9yKTtcbiAgICBzdHJva2Utd2lkdGg6IGNhbGModmFyKC0tYmxvY2tseS1zZWxlY3Rpb24td2lkdGgpICogMik7XG4gIH1cblxuICAvKiBUaGUgd29ya3NwYWNlIGl0c2VsZiBpcyB0aGUgYWN0aXZlIG5vZGUuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2UuYmxvY2tseUFjdGl2ZUZvY3VzXG4gICAgLmJsb2NrbHlXb3Jrc3BhY2VTZWxlY3Rpb25SaW5nIHtcbiAgICBzdHJva2U6IHZhcigtLWJsb2NrbHktYWN0aXZlLW5vZGUtY29sb3IpO1xuICAgIHN0cm9rZS13aWR0aDogdmFyKC0tYmxvY2tseS1zZWxlY3Rpb24td2lkdGgpO1xuICB9XG4gIFxuICAvKiBUaGUgd29ya3NwYWNlIGl0c2VsZiBpcyB0aGUgYWN0aXZlIG5vZGUuICovXG4gIC5ibG9ja2x5S2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgLmJsb2NrbHlCdWJibGUuYmxvY2tseUFjdGl2ZUZvY3VzXG4gICAgLmJsb2NrbHlEcmFnZ2FibGUge1xuICAgIHN0cm9rZTogdmFyKC0tYmxvY2tseS1hY3RpdmUtbm9kZS1jb2xvcik7XG4gICAgc3Ryb2tlLXdpZHRoOiB2YXIoLS1ibG9ja2x5LXNlbGVjdGlvbi13aWR0aCk7XG4gIH1cbmApO1xuXG4gICAgLy8gS2V5Ym9hcmQtbmF2LXNwZWNpZmljIHN0eWxpbmcgZm9yIHRoZSBjb250ZXh0IG1lbnUuXG4gICAgLy9cbiAgICAvLyBUaGlzIHNob3VsZCByZW1haW4gaW4gdGhlIHBsdWdpbiBmb3IgdGhlIHRpbWUgYmVpbmcgYmVjYXVzZSB0aGVcbiAgICAvLyBjbGFzc2VzIHNlbGVjdGVkIGFyZSBjdXJyZW50bHkgb25seSBkZWZpbmVkIGluIHRoZSBwbHVnaW4uXG4gICAgQmxvY2tseS5Dc3MucmVnaXN0ZXIoYFxuICAuYmxvY2tseVJUTCAuYmxvY2tseU1lbnVJdGVtQ29udGVudCAuYmxvY2tseVNob3J0Y3V0Q29udGFpbmVyIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gIH1cbiAgLmJsb2NrbHlNZW51SXRlbUNvbnRlbnQgLmJsb2NrbHlTaG9ydGN1dENvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgZ2FwOiAxNnB4O1xuICB9XG4gIC5ibG9ja2x5TWVudUl0ZW1Db250ZW50IC5ibG9ja2x5U2hvcnRjdXRDb250YWluZXIgLmJsb2NrbHlTaG9ydGN1dCB7XG4gICAgY29sb3I6ICNjY2M7XG4gIH1cbmApO1xuXG4gICAgLy8gU3R5bGluZyBmb3IgY29ubmVjdGlvbiBoaWdobGlnaHRpbmcgZHVyaW5nIG1vdmUgbW9kZS5cbiAgICAvL1xuICAgIC8vIFRoaXMgc2hvdWxkIHJlbWFpbiBpbiB0aGUgcGx1Z2luIGZvciB0aGUgdGltZSBiZWluZyBiZWNhdXNlIHRoZXNlXG4gICAgLy8gY2xhc3NlcyBhcmUgc3BlY2lmaWMgdG8gdGhlIGtleWJvYXJkIG5hdmlnYXRpb24gcGx1Z2luJ3MgbW92ZSBmdW5jdGlvbmFsaXR5LlxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbiAgLyogQ2xlYW4gaGlnaGxpZ2h0aW5nIGZvciBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludHMgKi9cbiAgLmJsb2NrbHlQb3RlbnRpYWxDb25uZWN0aW9uIHtcbiAgICBzdHJva2U6ICMwMGZmMDAgIWltcG9ydGFudDtcbiAgICBzdHJva2Utd2lkdGg6IDNweCAhaW1wb3J0YW50O1xuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDQsMiAhaW1wb3J0YW50O1xuICAgIC8qIGZpbGwgaXMgc2V0IGlubGluZSB0byBzdXBwb3J0IG92ZXJsYXBwaW5nIGNvbm5lY3Rpb24gbG9naWMgLSBkb24ndCBvdmVycmlkZSBoZXJlICovXG4gICAgei1pbmRleDogOTk5OSAhaW1wb3J0YW50O1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgfVxuXG4gIC8qIEVuc3VyZSBoaWdobGlnaHRzIGFyZSB2aXNpYmxlIGluIGtleWJvYXJkIG5hdmlnYXRpb24gbW9kZSAqL1xuICAuYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbiAuYmxvY2tseVBvdGVudGlhbENvbm5lY3Rpb24ge1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50O1xuICAgIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcbiAgfVxuYCk7XG5cbiAgICAvLyBSZWdpc3RlciBjbGFzc2VzIHVzZWQgYnkgdGhlIHNob3J0Y3V0cyBtb2RhbFxuICAgIEJsb2NrbHkuQ3NzLnJlZ2lzdGVyKGBcbjpyb290IHtcbiAgLS1kaXZpZGVyLWJvcmRlci1jb2xvcjogI2VlZTtcbiAgLS1rZXktYm9yZGVyLWNvbG9yOiAjY2NjO1xuICAtLXNob3J0Y3V0LW1vZGFsLWJvcmRlci1jb2xvcjogIzlhYTBhNjtcbn1cblxuLnNob3J0Y3V0LW1vZGFsIHtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tc2hvcnRjdXQtbW9kYWwtYm9yZGVyLWNvbG9yKTtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgYm94LXNoYWRvdzogNnB4IDZweCAzMnB4IHJnYmEoMCwwLDAsLjUpO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEycHg7XG4gIG1hcmdpbjogYXV0bztcbiAgbWF4LWhlaWdodDogODJ2aDtcbiAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAxMGVtKTtcbiAgcGFkZGluZzogMjRweCAxMnB4IDI0cHggMzJweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiA5OTtcbn1cblxuLnNob3J0Y3V0LW1vZGFsW29wZW5dIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnNob3J0Y3V0LW1vZGFsIC5jbG9zZS1tb2RhbCB7XG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGZsb2F0OiBpbmxpbmUtZW5kO1xuICBtYXJnaW46IDAgMCAwIDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxNnB4O1xuICByaWdodDogMjRweDtcbn1cblxuLnNob3J0Y3V0LW1vZGFsIGgxIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAxLjJlbTtcbn1cblxuLnNob3J0Y3V0LW1vZGFsOmJlZm9yZSB7XG4gIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChyZ2JhKDI0NCwgMjQ0LCAyNDQsIDAuNDMpLCByZ2JhKDc1LCA3NSwgNzUsIDAuNTEpKTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtZmFtaWx5OiBSb2JvdG87XG4gIGhlaWdodDogMTAwJTtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGxlZnQ6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnNob3J0Y3V0LXRhYmxlcyB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gIHJvdy1nYXA6IDFlbTtcbiAgY29sdW1uLWdhcDogMmVtO1xufVxuXG5AbWVkaWEgKG1pbi13aWR0aDogOTUwcHgpIHtcbiAgLnNob3J0Y3V0LXRhYmxlcyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyXG4gIH1cbn1cblxuQG1lZGlhIChtaW4td2lkdGg6IDEzNjBweCkge1xuICAuc2hvcnRjdXQtdGFibGVzIHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyXG4gIH1cbn1cblxuLnNob3J0Y3V0LXRhYmxlIHtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgZm9udC1mYW1pbHk6IFJvYm90bztcbiAgZm9udC1zaXplOiAuOWVtO1xufVxuXG4uc2hvcnRjdXQtdGFibGUgdGgge1xuICBwYWRkaW5nLWlubGluZS1lbmQ6IDAuNWVtO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB0ZXh0LXdyYXA6IG5vd3JhcDtcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xufVxuXG4uc2hvcnRjdXQtdGFibGUgdGQ6Zmlyc3QtY2hpbGQge1xuICB0ZXh0LXdyYXA6IGF1dG87XG4gIHdpZHRoOiA0MCU7XG59XG5cbi5zaG9ydGN1dC10YWJsZSB0cjpoYXMoKyAuY2F0ZWdvcnkpIHtcbiAgLS1kaXZpZGVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIG1hcmdpbi1lbmQ6IDFlbTtcbn1cblxuLnNob3J0Y3V0LXRhYmxlIHRyOm5vdCguY2F0ZWdvcnksIDpsYXN0LWNoaWxkKSB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWJvcmRlci1jb2xvcik7XG59XG5cbi5zaG9ydGN1dC10YWJsZSB0ZCB7XG4gIHBhZGRpbmc6IDAuMmVtIDFlbSAwLjNlbSAwO1xuICB0ZXh0LXdyYXA6IG5vd3JhcDtcbn1cblxuLnNob3J0Y3V0LXRhYmxlIGgyIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM5OTk7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBwYWRkaW5nLWJsb2NrLWVuZDogMC41ZW07XG59XG5cbi5zaG9ydGN1dC10YWJsZSAua2V5IHtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0ta2V5LWJvcmRlci1jb2xvcik7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IDAgNHB4O1xuICBtaW4td2lkdGg6IDJlbTtcbiAgcGFkZGluZzogLjNlbSAuNWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zaG9ydGN1dC10YWJsZSAuc2VwYXJhdG9yIHtcbiAgY29sb3I6IGdyYXk7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcGFkZGluZzogMCAwLjVlbTtcbn1cblxuLnNob3J0Y3V0LWNvbnRhaW5lciB7XG4gIGZvbnQtc2l6ZTogMC45NWVtO1xuICBvdmVyZmxvdzogYXV0bztcbiAgcGFkZGluZzogMC41ZW07XG59XG5cbi5zaG9ydGN1dC1jb21ibyB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcGFkZGluZzogMC4yNWVtIDA7XG4gIHRleHQtd3JhcDogbm93cmFwO1xufVxuXG4vKiBTdHlsaW5nIGZvciBibG9ja3MgaW4gc3RpY2t5IG1vZGUgKGNsaWNrIGFuZCBzdGljaykgKi9cbi5ibG9ja2x5LXN0aWNreS1tb2RlIHtcbiAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDAgMTBweCByZ2JhKDAsIDI1NSwgMCwgMC44KSkgIWltcG9ydGFudDtcbiAgb3BhY2l0eTogMC45ICFpbXBvcnRhbnQ7XG59XG5cbi8qIFVzZSBjaGlsZCBjb21iaW5hdG9yICg+KSB0byBvbmx5IHN0eWxlIHRoZSBpbW1lZGlhdGUgYmxvY2ssIG5vdCBkZXNjZW5kYW50cyAqL1xuLmJsb2NrbHktc3RpY2t5LW1vZGUgPiAuYmxvY2tseVBhdGgge1xuICBzdHJva2U6ICMwMGZmMDAgIWltcG9ydGFudDtcbiAgc3Ryb2tlLXdpZHRoOiAzICFpbXBvcnRhbnQ7XG59XG5cbi8qIFN0eWxpbmcgZm9yIG1vdmUgZ3JpcCBoYW5kbGUgKi9cbi5ibG9ja2x5LW1vdmUtZ3JpcCB7XG4gIGN1cnNvcjogZ3JhYjtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2U7XG59XG5cbi5ibG9ja2x5LW1vdmUtZ3JpcDpob3ZlciB7XG4gIG9wYWNpdHk6IDAuODtcbn1cblxuLmJsb2NrbHktbW92ZS1ncmlwOmFjdGl2ZSB7XG4gIGN1cnNvcjogZ3JhYmJpbmc7XG59XG5cbi5ibG9ja2x5LW1vdmUtZ3JpcC1iYWNrZ3JvdW5kIHtcbiAgcG9pbnRlci1ldmVudHM6IGFsbDtcbn1cblxuLmJsb2NrbHktbW92ZS1ncmlwLWRvdCB7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4vKiBFbnN1cmUgZ3JpcCBpcyB2aXNpYmxlIGFib3ZlIGJsb2NrIGVsZW1lbnRzICovXG4uYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbiAuYmxvY2tseS1tb3ZlLWdyaXAge1xuICB6LWluZGV4OiAxMDA7XG59XG5cbmApO1xuICB9XG5cbn1cblxuLy8gRXhwb3J0IGJ1aWxkIGluZm8gY29tcG9uZW50cyBmb3IgdXNlIGJ5IHBsdWdpbiBjb25zdW1lcnNcbmV4cG9ydCB7Y3JlYXRlQnVpbGRJbmZvQ29tcG9uZW50LCByZWdpc3RlckJ1aWxkSW5mb1N0eWxlcywgdXBkYXRlQnVpbGRJbmZvLCBzdGFydEJ1aWxkSW5mb0F1dG9SZWZyZXNofSBmcm9tICcuL2J1aWxkX2luZm9fY29tcG9uZW50JztcbmV4cG9ydCB7QlVJTERfSU5GT30gZnJvbSAnLi9idWlsZF9pbmZvJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/keyboard_drag_strategy.ts":
/*!***************************************!*\
  !*** ./src/keyboard_drag_strategy.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyboardDragStrategy: () => (/* binding */ KeyboardDragStrategy)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _drag_direction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drag_direction */ \"./src/drag_direction.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hints */ \"./src/hints.ts\");\n/* harmony import */ var _move_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./move_icon */ \"./src/move_icon.ts\");\n/* harmony import */ var _connection_highlighter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./connection_highlighter */ \"./src/connection_highlighter.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n/** X offset for positioning block preview near connections. */\nconst BLOCK_PREVIEW_OFFSET_X = 10;\n/** Y offset for positioning block preview near connections. */\nconst BLOCK_PREVIEW_OFFSET_Y = 10;\n// @ts-expect-error overrides a private function.\nclass KeyboardDragStrategy extends blockly__WEBPACK_IMPORTED_MODULE_0__.dragging.BlockDragStrategy {\n    constructor(block, moveType, startPoint, highlightingEnabled = true, onMoveComplete, onMoveFinished) {\n        super(block);\n        this.block = block;\n        this.moveType = moveType;\n        this.startPoint = startPoint;\n        /** Which direction the current constrained drag is in, if any. */\n        this.currentDragDirection = null;\n        /** Where a constrained movement should start when traversing the tree. */\n        this.searchNode = null;\n        /** List of all connections available on the workspace. */\n        this.allConnections = [];\n        /** Whether this drag is part of a click and stick operation. */\n        this.isClickAndStick = false;\n        /** The last connection candidate we refreshed highlights for. */\n        this.lastRefreshedCandidate = null;\n        /** Timestamp of last highlight refresh to throttle updates. */\n        this.lastRefreshTime = 0;\n        /** Minimum time between highlight refreshes in ms. */\n        this.REFRESH_THROTTLE = 100;\n        /** The initial connection where the block started (for comparison with current preview). */\n        this.initialConnectionNeighbour = null;\n        this.highlightingEnabled = highlightingEnabled;\n        this.onMoveComplete = onMoveComplete;\n        this.onMoveFinished = onMoveFinished;\n        // Create connection highlighter with click handler\n        const onConnectionClick = (connection) => {\n            this.handleConnectionClick(connection);\n        };\n        this.connectionHighlighter = new _connection_highlighter__WEBPACK_IMPORTED_MODULE_4__.ConnectionHighlighter(block.workspace, onConnectionClick);\n    }\n    startDrag(e) {\n        var _a;\n        super.startDrag(e);\n        for (const topBlock of this.block.workspace.getTopBlocks(true)) {\n            this.allConnections.push(...topBlock\n                .getDescendants(true)\n                .filter((block) => !block.isShadow())\n                .flatMap((block) => block.getConnections_(false))\n                .sort((a, b) => {\n                let delta = a.y - b.y;\n                if (delta === 0) {\n                    delta = a.x - b.x;\n                }\n                return delta;\n            }));\n        }\n        // Set position of the dragging block, so that it doesn't pop\n        // to the top left of the workspace.\n        // @ts-expect-error block and startLoc are private.\n        this.block.moveDuringDrag(this.startLoc);\n        // @ts-expect-error connectionCandidate is private.\n        this.connectionCandidate = this.createInitialCandidate();\n        // @ts-expect-error connectionCandidate is private.\n        const candidate = this.connectionCandidate;\n        this.initialConnectionNeighbour = (_a = candidate === null || candidate === void 0 ? void 0 : candidate.neighbour) !== null && _a !== void 0 ? _a : null;\n        this.forceShowPreview();\n        this.block.addIcon(new _move_icon__WEBPACK_IMPORTED_MODULE_3__.MoveIcon(this.block));\n        // Show connection highlights for normal keyboard moves if enabled\n        // (Sticky mode will override this via setClickAndStickMode)\n        if (this.highlightingEnabled) {\n            // @ts-expect-error getLocalConnections is private.\n            const localConnections = this.getLocalConnections(this.block);\n            this.connectionHighlighter.highlightValidConnections(this.block, this.allConnections, localConnections);\n        }\n    }\n    drag(newLoc, e) {\n        if (!e)\n            return;\n        // @ts-expect-error connectionCandidate is private.\n        const prevCandidate = this.connectionCandidate;\n        this.currentDragDirection = (0,_drag_direction__WEBPACK_IMPORTED_MODULE_1__.getDirectionFromXY)({ x: e.tiltX, y: e.tiltY });\n        super.drag(newLoc);\n        // @ts-expect-error connectionCandidate is private.\n        const newCandidate = this.connectionCandidate;\n        if (this.shouldRefreshHighlights(prevCandidate, newCandidate)) {\n            this.refreshHighlightsForPreview(newCandidate);\n        }\n        // Handle the case when an unconstrained drag found a connection candidate.\n        // @ts-expect-error connectionCandidate is private.\n        if (this.connectionCandidate) {\n            // @ts-expect-error connectionCandidate is private.\n            const neighbour = this.connectionCandidate\n                .neighbour;\n            this.searchNode = neighbour;\n            if (this.isConstrainedMovement()) {\n                this.block.moveDuringDrag(new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(neighbour.x + BLOCK_PREVIEW_OFFSET_X, neighbour.y + BLOCK_PREVIEW_OFFSET_Y));\n            }\n        }\n        else {\n            this.searchNode = null;\n            if (this.isConstrainedMovement()) {\n                // @ts-expect-error private field\n                const workspace = this.workspace;\n                (0,_hints__WEBPACK_IMPORTED_MODULE_2__.showUnconstrainedMoveHint)(workspace, true);\n            }\n        }\n    }\n    endDrag(e) {\n        super.endDrag(e);\n        this.allConnections = [];\n        this.block.removeIcon(_move_icon__WEBPACK_IMPORTED_MODULE_3__.MoveIcon.type);\n        // Clear highlights when drag ends (unless in click-and-stick mode)\n        // Sticky mode keeps highlights visible until explicitly cleared\n        if (!this.isClickAndStick) {\n            this.connectionHighlighter.clearHighlights();\n        }\n    }\n    /**\n     * Force clear all highlights regardless of click-and-stick mode.\n     */\n    forceClearHighlights() {\n        if (this.highlightingEnabled) {\n            this.connectionHighlighter.clearHighlights();\n        }\n    }\n    /**\n     * Set whether this drag strategy is being used for click and stick operations.\n     *\n     * @param enabled\n     */\n    setClickAndStickMode(enabled) {\n        this.isClickAndStick = enabled;\n        if (enabled && this.highlightingEnabled) {\n            // Show highlights in sticky mode if highlighting is enabled\n            // @ts-expect-error getLocalConnections is private.\n            const localConnections = this.getLocalConnections(this.block);\n            this.connectionHighlighter.highlightValidConnections(this.block, this.allConnections, localConnections);\n        }\n        else {\n            // When exiting sticky mode, clear highlights\n            // (They will be re-shown in normal mode if highlightingEnabled is true)\n            this.connectionHighlighter.clearHighlights();\n        }\n    }\n    /**\n     * Check if currently in click and stick mode.\n     */\n    isClickAndStickMode() {\n        return this.isClickAndStick;\n    }\n    /**\n     * Returns the next compatible connection in keyboard navigation order.\n     *\n     * @param draggingBlock The block where the drag started.\n     * @returns A valid connection candidate, or null if none was found.\n     */\n    getConstrainedConnectionCandidate(draggingBlock) {\n        // @ts-expect-error getLocalConnections is private.\n        const localConns = this.getLocalConnections(draggingBlock);\n        if (localConns.length == 0) {\n            return null;\n        }\n        let candidateConnection = this.findTraversalCandidate(draggingBlock, localConns);\n        // Fall back on a coordinate-based search if there was no good starting\n        // point for the search.\n        if (!candidateConnection && !this.searchNode) {\n            candidateConnection = this.findNearestCandidate(localConns);\n        }\n        return candidateConnection;\n    }\n    /**\n     * Get the nearest valid candidate connection, regardless of direction.\n     * TODO(github.com/google/blockly/issues/8869): Replace with an\n     * override of `getSearchRadius` when implemented in core.\n     *\n     * @param localConns The list of connections on the dragging block(s) that are\n     *     available to connect to.\n     * @returns A candidate connection and radius, or null if none was found.\n     */\n    findNearestCandidate(localConns) {\n        let radius = Infinity;\n        let candidate = null;\n        const dxy = new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0);\n        for (const conn of localConns) {\n            const { connection: neighbour, radius: rad } = conn.closest(radius, dxy);\n            if (neighbour) {\n                candidate = {\n                    local: conn,\n                    neighbour: neighbour,\n                    distance: rad,\n                };\n                radius = rad;\n            }\n        }\n        return candidate;\n    }\n    /**\n     * Get the nearest valid candidate connection in traversal order.\n     *\n     * @param draggingBlock The root block being dragged.\n     * @param localConns The list of connections on the dragging block(s) that are\n     *     available to connect to.\n     * @returns A candidate connection and radius, or null if none was found.\n     */\n    findTraversalCandidate(draggingBlock, localConns) {\n        var _a, _b;\n        const connectionChecker = draggingBlock.workspace.connectionChecker;\n        let candidateConnection = null;\n        let potential = this.searchNode;\n        const dir = this.currentDragDirection;\n        while (potential && !candidateConnection) {\n            const potentialIndex = this.allConnections.indexOf(potential);\n            if (dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Up || dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Left) {\n                potential =\n                    (_a = this.allConnections[potentialIndex - 1]) !== null && _a !== void 0 ? _a : this.allConnections[this.allConnections.length - 1];\n            }\n            else if (dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Down || dir === _drag_direction__WEBPACK_IMPORTED_MODULE_1__.Direction.Right) {\n                potential =\n                    (_b = this.allConnections[potentialIndex + 1]) !== null && _b !== void 0 ? _b : this.allConnections[0];\n            }\n            localConns.forEach((conn) => {\n                if (potential &&\n                    connectionChecker.canConnect(conn, potential, true, Infinity)) {\n                    candidateConnection = {\n                        local: conn,\n                        neighbour: potential,\n                        distance: 0,\n                    };\n                }\n            });\n            if (potential == this.searchNode)\n                break;\n        }\n        return candidateConnection;\n    }\n    currCandidateIsBetter(currCandidate, delta, newCandidate) {\n        if (this.isConstrainedMovement()) {\n            return false; // New connection is always better during a constrained drag.\n        }\n        // @ts-expect-error currCandidateIsBetter is private.\n        return super.currCandidateIsBetter(currCandidate, delta, newCandidate);\n    }\n    getConnectionCandidate(draggingBlock, delta) {\n        if (this.isConstrainedMovement()) {\n            return this.getConstrainedConnectionCandidate(draggingBlock);\n        }\n        // @ts-expect-error getConnctionCandidate is private.\n        return super.getConnectionCandidate(draggingBlock, delta);\n    }\n    /**\n     * Get whether the most recent drag event represents a constrained\n     * keyboard drag.\n     *\n     * @returns true if the current movement is constrained, otherwise false.\n     */\n    isConstrainedMovement() {\n        return !!this.currentDragDirection;\n    }\n    /**\n     * Force the preview (replacement or insertion marker) to be shown\n     * immediately. Keyboard drags should always show a preview, even when\n     * the drag has just started; this forces it.\n     */\n    forceShowPreview() {\n        // @ts-expect-error connectionPreviewer is private\n        const previewer = this.connectionPreviewer;\n        // @ts-expect-error connectionCandidate is private\n        const candidate = this.connectionCandidate;\n        if (!candidate || !previewer)\n            return;\n        const block = this.block;\n        // This is essentially a copy of the second half of updateConnectionPreview\n        // in BlockDragStrategy. It adds a `moveDuringDrag` call at the end.\n        const { local, neighbour } = candidate;\n        const localIsOutputOrPrevious = local.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.OUTPUT_VALUE ||\n            local.type === blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.PREVIOUS_STATEMENT;\n        const target = neighbour.targetBlock();\n        const neighbourIsConnectedToRealBlock = target && !target.isInsertionMarker();\n        const orphanCanConnectAtEnd = target &&\n            // @ts-expect-error orphanCanConnectAtEnd is private\n            this.orphanCanConnectAtEnd(block, target, local.type);\n        if (localIsOutputOrPrevious &&\n            neighbourIsConnectedToRealBlock &&\n            !orphanCanConnectAtEnd) {\n            previewer.previewReplacement(local, neighbour, target);\n        }\n        else {\n            previewer.previewConnection(local, neighbour);\n        }\n        // The moving block will be positioned slightly down and to the\n        // right of the connection it found.\n        block.moveDuringDrag(new blockly__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(neighbour.x + BLOCK_PREVIEW_OFFSET_X, neighbour.y + BLOCK_PREVIEW_OFFSET_Y));\n    }\n    /**\n     * Create a candidate representing where the block was previously connected.\n     * Used to render the block position after picking up the block but before\n     * moving during a drag.\n     *\n     * @returns A connection candidate representing where the block was at the\n     *     start of the drag.\n     */\n    createInitialCandidate() {\n        var _a;\n        // @ts-expect-error startParentConn is private.\n        const neighbour = (_a = this.startPoint) !== null && _a !== void 0 ? _a : this.startParentConn;\n        if (neighbour) {\n            this.searchNode = neighbour;\n            switch (neighbour.type) {\n                case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE: {\n                    if (this.block.outputConnection) {\n                        return {\n                            neighbour: neighbour,\n                            local: this.block.outputConnection,\n                            distance: 0,\n                        };\n                    }\n                    break;\n                }\n                case blockly__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.NEXT_STATEMENT: {\n                    if (this.block.previousConnection) {\n                        return {\n                            neighbour: neighbour,\n                            local: this.block.previousConnection,\n                            distance: 0,\n                        };\n                    }\n                    break;\n                }\n            }\n        }\n        return null;\n    }\n    shouldHealStack(e) {\n        return Boolean(this.block.previousConnection);\n    }\n    /**\n     * Checks if we should refresh connection highlights (throttled).\n     *\n     * @param prev\n     * @param curr\n     */\n    shouldRefreshHighlights(prev, curr) {\n        const hasChanged = this.hasConnectionChanged(prev, curr);\n        if (!hasChanged)\n            return false;\n        const now = Date.now();\n        if (now - this.lastRefreshTime < this.REFRESH_THROTTLE) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Checks if the connection candidate has changed.\n     *\n     * @param prev\n     * @param curr\n     */\n    hasConnectionChanged(prev, curr) {\n        if (!prev && !curr)\n            return false;\n        if (!prev || !curr)\n            return true;\n        return prev.neighbour !== curr.neighbour || prev.local !== curr.local;\n    }\n    /**\n     * Refreshes connection highlights after a preview change.\n     * Ensures highlights reflect current positions after stack rearrangement.\n     *\n     * @param currentCandidate\n     */\n    refreshHighlightsForPreview(currentCandidate) {\n        // Only refresh if highlights are enabled\n        if (!this.highlightingEnabled)\n            return;\n        this.lastRefreshedCandidate = currentCandidate;\n        this.lastRefreshTime = Date.now();\n        // Rebuild connections list to reflect current workspace state\n        const currentConnections = [];\n        const topBlocks = this.block.workspace.getTopBlocks(true);\n        for (const topBlock of topBlocks) {\n            const descendants = topBlock.getDescendants(true);\n            const nonShadowDescendants = descendants.filter((block) => !block.isShadow());\n            currentConnections.push(...nonShadowDescendants\n                .flatMap((block) => block.getConnections_(false))\n                .sort((a, b) => {\n                let delta = a.y - b.y;\n                if (delta === 0) {\n                    delta = a.x - b.x;\n                }\n                return delta;\n            }));\n        }\n        // @ts-expect-error getLocalConnections is private.\n        const localConnections = this.getLocalConnections(this.block);\n        this.connectionHighlighter.highlightValidConnections(this.block, currentConnections, localConnections);\n    }\n    /**\n     * Handles when a user clicks on a connection highlight to complete a move.\n     *\n     * @param targetConnection\n     */\n    handleConnectionClick(targetConnection) {\n        // @ts-expect-error getLocalConnections is private.\n        const localConnections = this.getLocalConnections(this.block);\n        const connectionChecker = this.block.workspace.connectionChecker;\n        let localConnection = null;\n        for (const local of localConnections) {\n            if (connectionChecker.canConnect(local, targetConnection, true, Infinity)) {\n                localConnection = local;\n                break;\n            }\n        }\n        if (localConnection) {\n            // Set the connection candidate that will be used when the drag ends\n            const candidate = {\n                local: localConnection,\n                neighbour: targetConnection,\n                distance: 0,\n            };\n            // @ts-expect-error connectionCandidate is private\n            this.connectionCandidate = candidate;\n            // Exit sticky mode first (before finishing the move) if we're in sticky mode\n            if (this.isClickAndStick) {\n                this.setClickAndStickMode(false);\n            }\n            // Finish the move, which will finalize the connection\n            if (this.onMoveComplete) {\n                this.onMoveComplete();\n            }\n            if (this.onMoveFinished) {\n                this.onMoveFinished();\n            }\n        }\n        else {\n            // No compatible connection found. This shouldn't happen since we use consistent\n            // validation when creating highlights, but if it does we must exit gracefully\n            // to avoid leaving the UI in a broken state.\n            if (this.isClickAndStick) {\n                this.setClickAndStickMode(false);\n            }\n            if (this.onMoveComplete) {\n                this.onMoveComplete();\n            }\n            if (this.onMoveFinished) {\n                this.onMoveFinished();\n            }\n        }\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        var _a;\n        (_a = this.connectionHighlighter) === null || _a === void 0 ? void 0 : _a.setFatterConnections(enabled);\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        var _a;\n        (_a = this.connectionHighlighter) === null || _a === void 0 ? void 0 : _a.setConnectionSize(size);\n    }\n    /**\n     * Gets the initial connection where the block started.\n     */\n    getInitialConnectionNeighbour() {\n        return this.initialConnectionNeighbour;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMva2V5Ym9hcmRfZHJhZ19zdHJhdGVneS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7OztHQUlHO0FBUWM7QUFDOEM7QUFDYjtBQUNiO0FBRTBCO0FBRS9ELCtEQUErRDtBQUMvRCxNQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUVsQywrREFBK0Q7QUFDL0QsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFjbEMsaURBQWlEO0FBQzFDLE1BQU0sb0JBQXFCLFNBQVEsNkNBQVEsQ0FBQyxpQkFBaUI7SUFxQ2xFLFlBQ1UsS0FBZSxFQUNoQixRQUFrQixFQUNqQixVQUFxQyxFQUM3QyxtQkFBbUIsR0FBRyxJQUFJLEVBQzFCLGNBQTJCLEVBQzNCLGNBQTJCO1FBRTNCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQVBMLFVBQUssR0FBTCxLQUFLLENBQVU7UUFDaEIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUNqQixlQUFVLEdBQVYsVUFBVSxDQUEyQjtRQXZDL0Msa0VBQWtFO1FBQzFELHlCQUFvQixHQUFxQixJQUFJLENBQUM7UUFFdEQsMEVBQTBFO1FBQ2xFLGVBQVUsR0FBOEIsSUFBSSxDQUFDO1FBRXJELDBEQUEwRDtRQUNsRCxtQkFBYyxHQUF5QixFQUFFLENBQUM7UUFjbEQsZ0VBQWdFO1FBQ3hELG9CQUFlLEdBQUcsS0FBSyxDQUFDO1FBRWhDLGlFQUFpRTtRQUN6RCwyQkFBc0IsR0FBK0IsSUFBSSxDQUFDO1FBRWxFLCtEQUErRDtRQUN2RCxvQkFBZSxHQUFHLENBQUMsQ0FBQztRQUU1QixzREFBc0Q7UUFDckMscUJBQWdCLEdBQUcsR0FBRyxDQUFDO1FBRXhDLDRGQUE0RjtRQUNwRiwrQkFBMEIsR0FBOEIsSUFBSSxDQUFDO1FBV25FLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxtQkFBbUIsQ0FBQztRQUMvQyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUVyQyxtREFBbUQ7UUFDbkQsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLFVBQThCLEVBQUUsRUFBRTtZQUMzRCxJQUFJLENBQUMscUJBQXFCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDekMsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksMEVBQXFCLENBQ3BELEtBQUssQ0FBQyxTQUFTLEVBQ2YsaUJBQWlCLENBQ2xCLENBQUM7SUFDSixDQUFDO0lBRVEsU0FBUyxDQUFDLENBQWdCOztRQUNqQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRW5CLEtBQUssTUFBTSxRQUFRLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDL0QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQ3RCLEdBQUcsUUFBUTtpQkFDUixjQUFjLENBQUMsSUFBSSxDQUFDO2lCQUNwQixNQUFNLENBQUMsQ0FBQyxLQUFlLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO2lCQUM5QyxPQUFPLENBQUMsQ0FBQyxLQUFlLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQzFELElBQUksQ0FBQyxDQUFDLENBQXFCLEVBQUUsQ0FBcUIsRUFBRSxFQUFFO2dCQUNyRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RCLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDO29CQUNoQixLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixDQUFDO2dCQUNELE9BQU8sS0FBSyxDQUFDO1lBQ2YsQ0FBQyxDQUFDLENBQ0wsQ0FBQztRQUNKLENBQUM7UUFFRCw2REFBNkQ7UUFDN0Qsb0NBQW9DO1FBQ3BDLG1EQUFtRDtRQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekMsbURBQW1EO1FBQ25ELElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUN6RCxtREFBbUQ7UUFDbkQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQzNDLElBQUksQ0FBQywwQkFBMEIsR0FBRyxlQUFTLGFBQVQsU0FBUyx1QkFBVCxTQUFTLENBQUUsU0FBUyxtQ0FBSSxJQUFJLENBQUM7UUFDL0QsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxnREFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRTdDLGtFQUFrRTtRQUNsRSw0REFBNEQ7UUFDNUQsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUM3QixtREFBbUQ7WUFDbkQsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRTlELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyx5QkFBeUIsQ0FDbEQsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsY0FBYyxFQUNuQixnQkFBZ0IsQ0FDakIsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBRVEsSUFBSSxDQUFDLE1BQXdCLEVBQUUsQ0FBZ0I7UUFDdEQsSUFBSSxDQUFDLENBQUM7WUFBRSxPQUFPO1FBRWYsbURBQW1EO1FBQ25ELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUUvQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsbUVBQWtCLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBQyxDQUFDLENBQUM7UUFDekUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVuQixtREFBbUQ7UUFDbkQsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBRTlDLElBQUksSUFBSSxDQUFDLHVCQUF1QixDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsRUFBRSxDQUFDO1lBQzlELElBQUksQ0FBQywyQkFBMkIsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNqRCxDQUFDO1FBRUQsMkVBQTJFO1FBQzNFLG1EQUFtRDtRQUNuRCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQzdCLG1EQUFtRDtZQUNuRCxNQUFNLFNBQVMsR0FBSSxJQUFJLENBQUMsbUJBQTJDO2lCQUNoRSxTQUFTLENBQUM7WUFDYixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztZQUM1QixJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxFQUFFLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUN2QixJQUFJLDBDQUFLLENBQUMsVUFBVSxDQUNsQixTQUFTLENBQUMsQ0FBQyxHQUFHLHNCQUFzQixFQUNwQyxTQUFTLENBQUMsQ0FBQyxHQUFHLHNCQUFzQixDQUNyQyxDQUNGLENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztZQUV2QixJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxFQUFFLENBQUM7Z0JBQ2pDLGlDQUFpQztnQkFDakMsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDakMsaUVBQXlCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzdDLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVRLE9BQU8sQ0FBQyxDQUFnQjtRQUMvQixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLGdEQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFckMsbUVBQW1FO1FBQ25FLGdFQUFnRTtRQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzFCLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUMvQyxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0gsb0JBQW9CO1FBQ2xCLElBQUksSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDN0IsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILG9CQUFvQixDQUFDLE9BQWdCO1FBQ25DLElBQUksQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDO1FBRS9CLElBQUksT0FBTyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQ3hDLDREQUE0RDtZQUM1RCxtREFBbUQ7WUFDbkQsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRTlELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyx5QkFBeUIsQ0FDbEQsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsY0FBYyxFQUNuQixnQkFBZ0IsQ0FDakIsQ0FBQztRQUNKLENBQUM7YUFBTSxDQUFDO1lBQ04sNkNBQTZDO1lBQzdDLHdFQUF3RTtZQUN4RSxJQUFJLENBQUMscUJBQXFCLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDL0MsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILG1CQUFtQjtRQUNqQixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDOUIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ssaUNBQWlDLENBQ3ZDLGFBQXVCO1FBRXZCLG1EQUFtRDtRQUNuRCxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDM0QsSUFBSSxVQUFVLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzNCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUVELElBQUksbUJBQW1CLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUNuRCxhQUFhLEVBQ2IsVUFBVSxDQUNYLENBQUM7UUFDRix1RUFBdUU7UUFDdkUsd0JBQXdCO1FBQ3hCLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUM3QyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQztRQUNELE9BQU8sbUJBQW1CLENBQUM7SUFDN0IsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0gsb0JBQW9CLENBQ2xCLFVBQWdDO1FBRWhDLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQztRQUN0QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDckIsTUFBTSxHQUFHLEdBQUcsSUFBSSwwQ0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFdkMsS0FBSyxNQUFNLElBQUksSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUM5QixNQUFNLEVBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDdkUsSUFBSSxTQUFTLEVBQUUsQ0FBQztnQkFDZCxTQUFTLEdBQUc7b0JBQ1YsS0FBSyxFQUFFLElBQUk7b0JBQ1gsU0FBUyxFQUFFLFNBQVM7b0JBQ3BCLFFBQVEsRUFBRSxHQUFHO2lCQUNkLENBQUM7Z0JBQ0YsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUNmLENBQUM7UUFDSCxDQUFDO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSCxzQkFBc0IsQ0FDcEIsYUFBdUIsRUFDdkIsVUFBZ0M7O1FBRWhDLE1BQU0saUJBQWlCLEdBQUcsYUFBYSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztRQUNwRSxJQUFJLG1CQUFtQixHQUErQixJQUFJLENBQUM7UUFDM0QsSUFBSSxTQUFTLEdBQThCLElBQUksQ0FBQyxVQUFVLENBQUM7UUFFM0QsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDO1FBQ3RDLE9BQU8sU0FBUyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUN6QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM5RCxJQUFJLEdBQUcsS0FBSyxzREFBUyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssc0RBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbkQsU0FBUztvQkFDUCxVQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUMsbUNBQ3ZDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDeEQsQ0FBQztpQkFBTSxJQUFJLEdBQUcsS0FBSyxzREFBUyxDQUFDLElBQUksSUFBSSxHQUFHLEtBQUssc0RBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDN0QsU0FBUztvQkFDUCxVQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUMsbUNBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RSxDQUFDO1lBRUQsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQXdCLEVBQUUsRUFBRTtnQkFDOUMsSUFDRSxTQUFTO29CQUNULGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsRUFDN0QsQ0FBQztvQkFDRCxtQkFBbUIsR0FBRzt3QkFDcEIsS0FBSyxFQUFFLElBQUk7d0JBQ1gsU0FBUyxFQUFFLFNBQVM7d0JBQ3BCLFFBQVEsRUFBRSxDQUFDO3FCQUNaLENBQUM7Z0JBQ0osQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDLFVBQVU7Z0JBQUUsTUFBTTtRQUMxQyxDQUFDO1FBQ0QsT0FBTyxtQkFBbUIsQ0FBQztJQUM3QixDQUFDO0lBRVEscUJBQXFCLENBQzVCLGFBQWtDLEVBQ2xDLEtBQXVCLEVBQ3ZCLFlBQWlDO1FBRWpDLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLEVBQUUsQ0FBQztZQUNqQyxPQUFPLEtBQUssQ0FBQyxDQUFDLDZEQUE2RDtRQUM3RSxDQUFDO1FBQ0QscURBQXFEO1FBQ3JELE9BQU8sS0FBSyxDQUFDLHFCQUFxQixDQUFDLGFBQWEsRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVRLHNCQUFzQixDQUM3QixhQUF1QixFQUN2QixLQUF1QjtRQUV2QixJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxFQUFFLENBQUM7WUFDakMsT0FBTyxJQUFJLENBQUMsaUNBQWlDLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDL0QsQ0FBQztRQUNELHFEQUFxRDtRQUNyRCxPQUFPLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0sscUJBQXFCO1FBQzNCLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztJQUNyQyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNLLGdCQUFnQjtRQUN0QixrREFBa0Q7UUFDbEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQzNDLGtEQUFrRDtRQUNsRCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsbUJBQTBDLENBQUM7UUFDbEUsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLFNBQVM7WUFBRSxPQUFPO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFekIsMkVBQTJFO1FBQzNFLG9FQUFvRTtRQUNwRSxNQUFNLEVBQUMsS0FBSyxFQUFFLFNBQVMsRUFBQyxHQUFHLFNBQVMsQ0FBQztRQUNyQyxNQUFNLHVCQUF1QixHQUMzQixLQUFLLENBQUMsSUFBSSxLQUFLLG1EQUFjLENBQUMsWUFBWTtZQUMxQyxLQUFLLENBQUMsSUFBSSxLQUFLLG1EQUFjLENBQUMsa0JBQWtCLENBQUM7UUFFbkQsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZDLE1BQU0sK0JBQStCLEdBQ25DLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRXhDLE1BQU0scUJBQXFCLEdBQ3pCLE1BQU07WUFDTixvREFBb0Q7WUFDcEQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELElBQ0UsdUJBQXVCO1lBQ3ZCLCtCQUErQjtZQUMvQixDQUFDLHFCQUFxQixFQUN0QixDQUFDO1lBQ0QsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDekQsQ0FBQzthQUFNLENBQUM7WUFDTixTQUFTLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELENBQUM7UUFDRCwrREFBK0Q7UUFDL0Qsb0NBQW9DO1FBQ3BDLEtBQUssQ0FBQyxjQUFjLENBQ2xCLElBQUksMENBQUssQ0FBQyxVQUFVLENBQ2xCLFNBQVMsQ0FBQyxDQUFDLEdBQUcsc0JBQXNCLEVBQ3BDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsc0JBQXNCLENBQ3JDLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ssc0JBQXNCOztRQUM1QiwrQ0FBK0M7UUFDL0MsTUFBTSxTQUFTLEdBQUcsVUFBSSxDQUFDLFVBQVUsbUNBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQztRQUMxRCxJQUFJLFNBQVMsRUFBRSxDQUFDO1lBQ2QsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7WUFDNUIsUUFBUSxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ3ZCLEtBQUssbURBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO29CQUNoQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQzt3QkFDaEMsT0FBTzs0QkFDTCxTQUFTLEVBQUUsU0FBUzs0QkFDcEIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCOzRCQUNsQyxRQUFRLEVBQUUsQ0FBQzt5QkFDWixDQUFDO29CQUNKLENBQUM7b0JBQ0QsTUFBTTtnQkFDUixDQUFDO2dCQUNELEtBQUssbURBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO29CQUNuQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsQ0FBQzt3QkFDbEMsT0FBTzs0QkFDTCxTQUFTLEVBQUUsU0FBUzs0QkFDcEIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCOzRCQUNwQyxRQUFRLEVBQUUsQ0FBQzt5QkFDWixDQUFDO29CQUNKLENBQUM7b0JBQ0QsTUFBTTtnQkFDUixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFUSxlQUFlLENBQUMsQ0FBMkI7UUFDbEQsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNLLHVCQUF1QixDQUM3QixJQUFnQyxFQUNoQyxJQUFnQztRQUVoQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQyxVQUFVO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFOUIsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFDdkQsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDO1FBRUQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxvQkFBb0IsQ0FDMUIsSUFBZ0MsRUFDaEMsSUFBZ0M7UUFFaEMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNqQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ2hDLE9BQU8sSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN4RSxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSywyQkFBMkIsQ0FDakMsZ0JBQTRDO1FBRTVDLHlDQUF5QztRQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQjtZQUFFLE9BQU87UUFFdEMsSUFBSSxDQUFDLHNCQUFzQixHQUFHLGdCQUFnQixDQUFDO1FBQy9DLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBRWxDLDhEQUE4RDtRQUM5RCxNQUFNLGtCQUFrQixHQUF5QixFQUFFLENBQUM7UUFDcEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTFELEtBQUssTUFBTSxRQUFRLElBQUksU0FBUyxFQUFFLENBQUM7WUFDakMsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNsRCxNQUFNLG9CQUFvQixHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQzdDLENBQUMsS0FBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FDdkMsQ0FBQztZQUVGLGtCQUFrQixDQUFDLElBQUksQ0FDckIsR0FBRyxvQkFBb0I7aUJBQ3BCLE9BQU8sQ0FBQyxDQUFDLEtBQWUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDMUQsSUFBSSxDQUFDLENBQUMsQ0FBcUIsRUFBRSxDQUFxQixFQUFFLEVBQUU7Z0JBQ3JELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLENBQUM7b0JBQ2hCLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLENBQUM7Z0JBQ0QsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUMsQ0FDTCxDQUFDO1FBQ0osQ0FBQztRQUVELG1EQUFtRDtRQUNuRCxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFOUQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLHlCQUF5QixDQUNsRCxJQUFJLENBQUMsS0FBSyxFQUNWLGtCQUFrQixFQUNsQixnQkFBZ0IsQ0FDakIsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0sscUJBQXFCLENBQUMsZ0JBQW9DO1FBQ2hFLG1EQUFtRDtRQUNuRCxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDOUQsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztRQUVqRSxJQUFJLGVBQWUsR0FBOEIsSUFBSSxDQUFDO1FBQ3RELEtBQUssTUFBTSxLQUFLLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztZQUNyQyxJQUNFLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxFQUNyRSxDQUFDO2dCQUNELGVBQWUsR0FBRyxLQUFLLENBQUM7Z0JBQ3hCLE1BQU07WUFDUixDQUFDO1FBQ0gsQ0FBQztRQUVELElBQUksZUFBZSxFQUFFLENBQUM7WUFDcEIsb0VBQW9FO1lBQ3BFLE1BQU0sU0FBUyxHQUFHO2dCQUNoQixLQUFLLEVBQUUsZUFBZTtnQkFDdEIsU0FBUyxFQUFFLGdCQUFnQjtnQkFDM0IsUUFBUSxFQUFFLENBQUM7YUFDWixDQUFDO1lBRUYsa0RBQWtEO1lBQ2xELElBQUksQ0FBQyxtQkFBbUIsR0FBRyxTQUFTLENBQUM7WUFFckMsNkVBQTZFO1lBQzdFLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUN6QixJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkMsQ0FBQztZQUVELHNEQUFzRDtZQUN0RCxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDeEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3hCLENBQUM7WUFFRCxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDeEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3hCLENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLGdGQUFnRjtZQUNoRiw4RUFBOEU7WUFDOUUsNkNBQTZDO1lBQzdDLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO2dCQUN6QixJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkMsQ0FBQztZQUVELElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN4QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDeEIsQ0FBQztZQUVELElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN4QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDeEIsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILG9CQUFvQixDQUFDLE9BQWdCOztRQUNuQyxVQUFJLENBQUMscUJBQXFCLDBDQUFFLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsaUJBQWlCLENBQUMsSUFBb0M7O1FBQ3BELFVBQUksQ0FBQyxxQkFBcUIsMENBQUUsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsNkJBQTZCO1FBQzNCLE9BQU8sSUFBSSxDQUFDLDBCQUEwQixDQUFDO0lBQ3pDLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMva2V5Ym9hcmRfZHJhZ19zdHJhdGVneS50cz9iNmU2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgQmxvY2tTdmcsXG4gIENvbm5lY3Rpb25UeXBlLFxuICBSZW5kZXJlZENvbm5lY3Rpb24sXG4gIGRyYWdnaW5nLFxuICB1dGlscyxcbn0gZnJvbSAnYmxvY2tseSc7XG5pbXBvcnQge0RpcmVjdGlvbiwgZ2V0RGlyZWN0aW9uRnJvbVhZfSBmcm9tICcuL2RyYWdfZGlyZWN0aW9uJztcbmltcG9ydCB7c2hvd1VuY29uc3RyYWluZWRNb3ZlSGludH0gZnJvbSAnLi9oaW50cyc7XG5pbXBvcnQge01vdmVJY29ufSBmcm9tICcuL21vdmVfaWNvbic7XG5pbXBvcnQge01vdmVUeXBlfSBmcm9tICcuL2FjdGlvbnMvbW92ZXInO1xuaW1wb3J0IHtDb25uZWN0aW9uSGlnaGxpZ2h0ZXJ9IGZyb20gJy4vY29ubmVjdGlvbl9oaWdobGlnaHRlcic7XG5cbi8qKiBYIG9mZnNldCBmb3IgcG9zaXRpb25pbmcgYmxvY2sgcHJldmlldyBuZWFyIGNvbm5lY3Rpb25zLiAqL1xuY29uc3QgQkxPQ0tfUFJFVklFV19PRkZTRVRfWCA9IDEwO1xuXG4vKiogWSBvZmZzZXQgZm9yIHBvc2l0aW9uaW5nIGJsb2NrIHByZXZpZXcgbmVhciBjb25uZWN0aW9ucy4gKi9cbmNvbnN0IEJMT0NLX1BSRVZJRVdfT0ZGU0VUX1kgPSAxMDtcblxuLy8gQ29waWVkIGluIGZyb20gY29yZSBiZWNhdXNlIGl0IGlzIG5vdCBleHBvcnRlZC5cbmludGVyZmFjZSBDb25uZWN0aW9uQ2FuZGlkYXRlIHtcbiAgLyoqIEEgY29ubmVjdGlvbiBvbiB0aGUgZHJhZ2dpbmcgc3RhY2sgdGhhdCBpcyBjb21wYXRpYmxlIHdpdGggbmVpZ2hib3VyLiAqL1xuICBsb2NhbDogUmVuZGVyZWRDb25uZWN0aW9uO1xuXG4gIC8qKiBBIG5lYXJieSBjb25uZWN0aW9uIHRoYXQgaXMgY29tcGF0aWJsZSB3aXRoIGxvY2FsLiAqL1xuICBuZWlnaGJvdXI6IFJlbmRlcmVkQ29ubmVjdGlvbjtcblxuICAvKiogVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGxvY2FsIGNvbm5lY3Rpb24gYW5kIHRoZSBuZWlnaGJvdXIgY29ubmVjdGlvbi4gKi9cbiAgZGlzdGFuY2U6IG51bWJlcjtcbn1cblxuLy8gQHRzLWV4cGVjdC1lcnJvciBvdmVycmlkZXMgYSBwcml2YXRlIGZ1bmN0aW9uLlxuZXhwb3J0IGNsYXNzIEtleWJvYXJkRHJhZ1N0cmF0ZWd5IGV4dGVuZHMgZHJhZ2dpbmcuQmxvY2tEcmFnU3RyYXRlZ3kge1xuICAvKiogV2hpY2ggZGlyZWN0aW9uIHRoZSBjdXJyZW50IGNvbnN0cmFpbmVkIGRyYWcgaXMgaW4sIGlmIGFueS4gKi9cbiAgcHJpdmF0ZSBjdXJyZW50RHJhZ0RpcmVjdGlvbjogRGlyZWN0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIFdoZXJlIGEgY29uc3RyYWluZWQgbW92ZW1lbnQgc2hvdWxkIHN0YXJ0IHdoZW4gdHJhdmVyc2luZyB0aGUgdHJlZS4gKi9cbiAgcHJpdmF0ZSBzZWFyY2hOb2RlOiBSZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsID0gbnVsbDtcblxuICAvKiogTGlzdCBvZiBhbGwgY29ubmVjdGlvbnMgYXZhaWxhYmxlIG9uIHRoZSB3b3Jrc3BhY2UuICovXG4gIHByaXZhdGUgYWxsQ29ubmVjdGlvbnM6IFJlbmRlcmVkQ29ubmVjdGlvbltdID0gW107XG5cbiAgLyoqIENvbm5lY3Rpb24gaGlnaGxpZ2h0ZXIgZm9yIHZpc3VhbCBmZWVkYmFjay4gKi9cbiAgY29ubmVjdGlvbkhpZ2hsaWdodGVyOiBDb25uZWN0aW9uSGlnaGxpZ2h0ZXI7XG5cbiAgLyoqIFdoZXRoZXIgY29ubmVjdGlvbiBoaWdobGlnaHRpbmcgaXMgZW5hYmxlZC4gKi9cbiAgcHJpdmF0ZSBoaWdobGlnaHRpbmdFbmFibGVkOiBib29sZWFuO1xuXG4gIC8qKiBDYWxsYmFjayB0byBjb21wbGV0ZSB0aGUgbW92ZSBmcm9tIG91dHNpZGUgdGhpcyBzdHJhdGVneS4gKi9cbiAgcHJpdmF0ZSBvbk1vdmVDb21wbGV0ZT86ICgpID0+IHZvaWQ7XG5cbiAgLyoqIENhbGxiYWNrIHRvIGV4aXQgc3RpY2t5IG1vZGUgYWZ0ZXIgbW92ZSBpcyBmaW5pc2hlZC4gKi9cbiAgcHJpdmF0ZSBvbk1vdmVGaW5pc2hlZD86ICgpID0+IHZvaWQ7XG5cbiAgLyoqIFdoZXRoZXIgdGhpcyBkcmFnIGlzIHBhcnQgb2YgYSBjbGljayBhbmQgc3RpY2sgb3BlcmF0aW9uLiAqL1xuICBwcml2YXRlIGlzQ2xpY2tBbmRTdGljayA9IGZhbHNlO1xuXG4gIC8qKiBUaGUgbGFzdCBjb25uZWN0aW9uIGNhbmRpZGF0ZSB3ZSByZWZyZXNoZWQgaGlnaGxpZ2h0cyBmb3IuICovXG4gIHByaXZhdGUgbGFzdFJlZnJlc2hlZENhbmRpZGF0ZTogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBUaW1lc3RhbXAgb2YgbGFzdCBoaWdobGlnaHQgcmVmcmVzaCB0byB0aHJvdHRsZSB1cGRhdGVzLiAqL1xuICBwcml2YXRlIGxhc3RSZWZyZXNoVGltZSA9IDA7XG5cbiAgLyoqIE1pbmltdW0gdGltZSBiZXR3ZWVuIGhpZ2hsaWdodCByZWZyZXNoZXMgaW4gbXMuICovXG4gIHByaXZhdGUgcmVhZG9ubHkgUkVGUkVTSF9USFJPVFRMRSA9IDEwMDtcblxuICAvKiogVGhlIGluaXRpYWwgY29ubmVjdGlvbiB3aGVyZSB0aGUgYmxvY2sgc3RhcnRlZCAoZm9yIGNvbXBhcmlzb24gd2l0aCBjdXJyZW50IHByZXZpZXcpLiAqL1xuICBwcml2YXRlIGluaXRpYWxDb25uZWN0aW9uTmVpZ2hib3VyOiBSZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGJsb2NrOiBCbG9ja1N2ZyxcbiAgICBwdWJsaWMgbW92ZVR5cGU6IE1vdmVUeXBlLFxuICAgIHByaXZhdGUgc3RhcnRQb2ludDogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCxcbiAgICBoaWdobGlnaHRpbmdFbmFibGVkID0gdHJ1ZSxcbiAgICBvbk1vdmVDb21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgb25Nb3ZlRmluaXNoZWQ/OiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICBzdXBlcihibG9jayk7XG4gICAgdGhpcy5oaWdobGlnaHRpbmdFbmFibGVkID0gaGlnaGxpZ2h0aW5nRW5hYmxlZDtcbiAgICB0aGlzLm9uTW92ZUNvbXBsZXRlID0gb25Nb3ZlQ29tcGxldGU7XG4gICAgdGhpcy5vbk1vdmVGaW5pc2hlZCA9IG9uTW92ZUZpbmlzaGVkO1xuXG4gICAgLy8gQ3JlYXRlIGNvbm5lY3Rpb24gaGlnaGxpZ2h0ZXIgd2l0aCBjbGljayBoYW5kbGVyXG4gICAgY29uc3Qgb25Db25uZWN0aW9uQ2xpY2sgPSAoY29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25DbGljayhjb25uZWN0aW9uKTtcbiAgICB9O1xuICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyID0gbmV3IENvbm5lY3Rpb25IaWdobGlnaHRlcihcbiAgICAgIGJsb2NrLndvcmtzcGFjZSxcbiAgICAgIG9uQ29ubmVjdGlvbkNsaWNrLFxuICAgICk7XG4gIH1cblxuICBvdmVycmlkZSBzdGFydERyYWcoZT86IFBvaW50ZXJFdmVudCkge1xuICAgIHN1cGVyLnN0YXJ0RHJhZyhlKTtcblxuICAgIGZvciAoY29uc3QgdG9wQmxvY2sgb2YgdGhpcy5ibG9jay53b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKHRydWUpKSB7XG4gICAgICB0aGlzLmFsbENvbm5lY3Rpb25zLnB1c2goXG4gICAgICAgIC4uLnRvcEJsb2NrXG4gICAgICAgICAgLmdldERlc2NlbmRhbnRzKHRydWUpXG4gICAgICAgICAgLmZpbHRlcigoYmxvY2s6IEJsb2NrU3ZnKSA9PiAhYmxvY2suaXNTaGFkb3coKSlcbiAgICAgICAgICAuZmxhdE1hcCgoYmxvY2s6IEJsb2NrU3ZnKSA9PiBibG9jay5nZXRDb25uZWN0aW9uc18oZmFsc2UpKVxuICAgICAgICAgIC5zb3J0KChhOiBSZW5kZXJlZENvbm5lY3Rpb24sIGI6IFJlbmRlcmVkQ29ubmVjdGlvbikgPT4ge1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gYS55IC0gYi55O1xuICAgICAgICAgICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICAgICAgICAgIGRlbHRhID0gYS54IC0gYi54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlbHRhO1xuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgcG9zaXRpb24gb2YgdGhlIGRyYWdnaW5nIGJsb2NrLCBzbyB0aGF0IGl0IGRvZXNuJ3QgcG9wXG4gICAgLy8gdG8gdGhlIHRvcCBsZWZ0IG9mIHRoZSB3b3Jrc3BhY2UuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBibG9jayBhbmQgc3RhcnRMb2MgYXJlIHByaXZhdGUuXG4gICAgdGhpcy5ibG9jay5tb3ZlRHVyaW5nRHJhZyh0aGlzLnN0YXJ0TG9jKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNvbm5lY3Rpb25DYW5kaWRhdGUgaXMgcHJpdmF0ZS5cbiAgICB0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGUgPSB0aGlzLmNyZWF0ZUluaXRpYWxDYW5kaWRhdGUoKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNvbm5lY3Rpb25DYW5kaWRhdGUgaXMgcHJpdmF0ZS5cbiAgICBjb25zdCBjYW5kaWRhdGUgPSB0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU7XG4gICAgdGhpcy5pbml0aWFsQ29ubmVjdGlvbk5laWdoYm91ciA9IGNhbmRpZGF0ZT8ubmVpZ2hib3VyID8/IG51bGw7XG4gICAgdGhpcy5mb3JjZVNob3dQcmV2aWV3KCk7XG4gICAgdGhpcy5ibG9jay5hZGRJY29uKG5ldyBNb3ZlSWNvbih0aGlzLmJsb2NrKSk7XG5cbiAgICAvLyBTaG93IGNvbm5lY3Rpb24gaGlnaGxpZ2h0cyBmb3Igbm9ybWFsIGtleWJvYXJkIG1vdmVzIGlmIGVuYWJsZWRcbiAgICAvLyAoU3RpY2t5IG1vZGUgd2lsbCBvdmVycmlkZSB0aGlzIHZpYSBzZXRDbGlja0FuZFN0aWNrTW9kZSlcbiAgICBpZiAodGhpcy5oaWdobGlnaHRpbmdFbmFibGVkKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldExvY2FsQ29ubmVjdGlvbnMgaXMgcHJpdmF0ZS5cbiAgICAgIGNvbnN0IGxvY2FsQ29ubmVjdGlvbnMgPSB0aGlzLmdldExvY2FsQ29ubmVjdGlvbnModGhpcy5ibG9jayk7XG5cbiAgICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyLmhpZ2hsaWdodFZhbGlkQ29ubmVjdGlvbnMoXG4gICAgICAgIHRoaXMuYmxvY2ssXG4gICAgICAgIHRoaXMuYWxsQ29ubmVjdGlvbnMsXG4gICAgICAgIGxvY2FsQ29ubmVjdGlvbnMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG92ZXJyaWRlIGRyYWcobmV3TG9jOiB1dGlscy5Db29yZGluYXRlLCBlPzogUG9pbnRlckV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCFlKSByZXR1cm47XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNvbm5lY3Rpb25DYW5kaWRhdGUgaXMgcHJpdmF0ZS5cbiAgICBjb25zdCBwcmV2Q2FuZGlkYXRlID0gdGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlO1xuXG4gICAgdGhpcy5jdXJyZW50RHJhZ0RpcmVjdGlvbiA9IGdldERpcmVjdGlvbkZyb21YWSh7eDogZS50aWx0WCwgeTogZS50aWx0WX0pO1xuICAgIHN1cGVyLmRyYWcobmV3TG9jKTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY29ubmVjdGlvbkNhbmRpZGF0ZSBpcyBwcml2YXRlLlxuICAgIGNvbnN0IG5ld0NhbmRpZGF0ZSA9IHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZTtcblxuICAgIGlmICh0aGlzLnNob3VsZFJlZnJlc2hIaWdobGlnaHRzKHByZXZDYW5kaWRhdGUsIG5ld0NhbmRpZGF0ZSkpIHtcbiAgICAgIHRoaXMucmVmcmVzaEhpZ2hsaWdodHNGb3JQcmV2aWV3KG5ld0NhbmRpZGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZW4gYW4gdW5jb25zdHJhaW5lZCBkcmFnIGZvdW5kIGEgY29ubmVjdGlvbiBjYW5kaWRhdGUuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjb25uZWN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGUuXG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZSkge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjb25uZWN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGUuXG4gICAgICBjb25zdCBuZWlnaGJvdXIgPSAodGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlIGFzIENvbm5lY3Rpb25DYW5kaWRhdGUpXG4gICAgICAgIC5uZWlnaGJvdXI7XG4gICAgICB0aGlzLnNlYXJjaE5vZGUgPSBuZWlnaGJvdXI7XG4gICAgICBpZiAodGhpcy5pc0NvbnN0cmFpbmVkTW92ZW1lbnQoKSkge1xuICAgICAgICB0aGlzLmJsb2NrLm1vdmVEdXJpbmdEcmFnKFxuICAgICAgICAgIG5ldyB1dGlscy5Db29yZGluYXRlKFxuICAgICAgICAgICAgbmVpZ2hib3VyLnggKyBCTE9DS19QUkVWSUVXX09GRlNFVF9YLFxuICAgICAgICAgICAgbmVpZ2hib3VyLnkgKyBCTE9DS19QUkVWSUVXX09GRlNFVF9ZLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VhcmNoTm9kZSA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLmlzQ29uc3RyYWluZWRNb3ZlbWVudCgpKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBmaWVsZFxuICAgICAgICBjb25zdCB3b3Jrc3BhY2UgPSB0aGlzLndvcmtzcGFjZTtcbiAgICAgICAgc2hvd1VuY29uc3RyYWluZWRNb3ZlSGludCh3b3Jrc3BhY2UsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG92ZXJyaWRlIGVuZERyYWcoZT86IFBvaW50ZXJFdmVudCkge1xuICAgIHN1cGVyLmVuZERyYWcoZSk7XG4gICAgdGhpcy5hbGxDb25uZWN0aW9ucyA9IFtdO1xuICAgIHRoaXMuYmxvY2sucmVtb3ZlSWNvbihNb3ZlSWNvbi50eXBlKTtcblxuICAgIC8vIENsZWFyIGhpZ2hsaWdodHMgd2hlbiBkcmFnIGVuZHMgKHVubGVzcyBpbiBjbGljay1hbmQtc3RpY2sgbW9kZSlcbiAgICAvLyBTdGlja3kgbW9kZSBrZWVwcyBoaWdobGlnaHRzIHZpc2libGUgdW50aWwgZXhwbGljaXRseSBjbGVhcmVkXG4gICAgaWYgKCF0aGlzLmlzQ2xpY2tBbmRTdGljaykge1xuICAgICAgdGhpcy5jb25uZWN0aW9uSGlnaGxpZ2h0ZXIuY2xlYXJIaWdobGlnaHRzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGNsZWFyIGFsbCBoaWdobGlnaHRzIHJlZ2FyZGxlc3Mgb2YgY2xpY2stYW5kLXN0aWNrIG1vZGUuXG4gICAqL1xuICBmb3JjZUNsZWFySGlnaGxpZ2h0cygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oaWdobGlnaHRpbmdFbmFibGVkKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlci5jbGVhckhpZ2hsaWdodHMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHdoZXRoZXIgdGhpcyBkcmFnIHN0cmF0ZWd5IGlzIGJlaW5nIHVzZWQgZm9yIGNsaWNrIGFuZCBzdGljayBvcGVyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZFxuICAgKi9cbiAgc2V0Q2xpY2tBbmRTdGlja01vZGUoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuaXNDbGlja0FuZFN0aWNrID0gZW5hYmxlZDtcblxuICAgIGlmIChlbmFibGVkICYmIHRoaXMuaGlnaGxpZ2h0aW5nRW5hYmxlZCkge1xuICAgICAgLy8gU2hvdyBoaWdobGlnaHRzIGluIHN0aWNreSBtb2RlIGlmIGhpZ2hsaWdodGluZyBpcyBlbmFibGVkXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldExvY2FsQ29ubmVjdGlvbnMgaXMgcHJpdmF0ZS5cbiAgICAgIGNvbnN0IGxvY2FsQ29ubmVjdGlvbnMgPSB0aGlzLmdldExvY2FsQ29ubmVjdGlvbnModGhpcy5ibG9jayk7XG5cbiAgICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyLmhpZ2hsaWdodFZhbGlkQ29ubmVjdGlvbnMoXG4gICAgICAgIHRoaXMuYmxvY2ssXG4gICAgICAgIHRoaXMuYWxsQ29ubmVjdGlvbnMsXG4gICAgICAgIGxvY2FsQ29ubmVjdGlvbnMsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXaGVuIGV4aXRpbmcgc3RpY2t5IG1vZGUsIGNsZWFyIGhpZ2hsaWdodHNcbiAgICAgIC8vIChUaGV5IHdpbGwgYmUgcmUtc2hvd24gaW4gbm9ybWFsIG1vZGUgaWYgaGlnaGxpZ2h0aW5nRW5hYmxlZCBpcyB0cnVlKVxuICAgICAgdGhpcy5jb25uZWN0aW9uSGlnaGxpZ2h0ZXIuY2xlYXJIaWdobGlnaHRzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGN1cnJlbnRseSBpbiBjbGljayBhbmQgc3RpY2sgbW9kZS5cbiAgICovXG4gIGlzQ2xpY2tBbmRTdGlja01vZGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNDbGlja0FuZFN0aWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5leHQgY29tcGF0aWJsZSBjb25uZWN0aW9uIGluIGtleWJvYXJkIG5hdmlnYXRpb24gb3JkZXIuXG4gICAqXG4gICAqIEBwYXJhbSBkcmFnZ2luZ0Jsb2NrIFRoZSBibG9jayB3aGVyZSB0aGUgZHJhZyBzdGFydGVkLlxuICAgKiBAcmV0dXJucyBBIHZhbGlkIGNvbm5lY3Rpb24gY2FuZGlkYXRlLCBvciBudWxsIGlmIG5vbmUgd2FzIGZvdW5kLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRDb25zdHJhaW5lZENvbm5lY3Rpb25DYW5kaWRhdGUoXG4gICAgZHJhZ2dpbmdCbG9jazogQmxvY2tTdmcsXG4gICk6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldExvY2FsQ29ubmVjdGlvbnMgaXMgcHJpdmF0ZS5cbiAgICBjb25zdCBsb2NhbENvbm5zID0gdGhpcy5nZXRMb2NhbENvbm5lY3Rpb25zKGRyYWdnaW5nQmxvY2spO1xuICAgIGlmIChsb2NhbENvbm5zLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgY2FuZGlkYXRlQ29ubmVjdGlvbiA9IHRoaXMuZmluZFRyYXZlcnNhbENhbmRpZGF0ZShcbiAgICAgIGRyYWdnaW5nQmxvY2ssXG4gICAgICBsb2NhbENvbm5zLFxuICAgICk7XG4gICAgLy8gRmFsbCBiYWNrIG9uIGEgY29vcmRpbmF0ZS1iYXNlZCBzZWFyY2ggaWYgdGhlcmUgd2FzIG5vIGdvb2Qgc3RhcnRpbmdcbiAgICAvLyBwb2ludCBmb3IgdGhlIHNlYXJjaC5cbiAgICBpZiAoIWNhbmRpZGF0ZUNvbm5lY3Rpb24gJiYgIXRoaXMuc2VhcmNoTm9kZSkge1xuICAgICAgY2FuZGlkYXRlQ29ubmVjdGlvbiA9IHRoaXMuZmluZE5lYXJlc3RDYW5kaWRhdGUobG9jYWxDb25ucyk7XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGVDb25uZWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmVhcmVzdCB2YWxpZCBjYW5kaWRhdGUgY29ubmVjdGlvbiwgcmVnYXJkbGVzcyBvZiBkaXJlY3Rpb24uXG4gICAqIFRPRE8oZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS9pc3N1ZXMvODg2OSk6IFJlcGxhY2Ugd2l0aCBhblxuICAgKiBvdmVycmlkZSBvZiBgZ2V0U2VhcmNoUmFkaXVzYCB3aGVuIGltcGxlbWVudGVkIGluIGNvcmUuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhbENvbm5zIFRoZSBsaXN0IG9mIGNvbm5lY3Rpb25zIG9uIHRoZSBkcmFnZ2luZyBibG9jayhzKSB0aGF0IGFyZVxuICAgKiAgICAgYXZhaWxhYmxlIHRvIGNvbm5lY3QgdG8uXG4gICAqIEByZXR1cm5zIEEgY2FuZGlkYXRlIGNvbm5lY3Rpb24gYW5kIHJhZGl1cywgb3IgbnVsbCBpZiBub25lIHdhcyBmb3VuZC5cbiAgICovXG4gIGZpbmROZWFyZXN0Q2FuZGlkYXRlKFxuICAgIGxvY2FsQ29ubnM6IFJlbmRlcmVkQ29ubmVjdGlvbltdLFxuICApOiBDb25uZWN0aW9uQ2FuZGlkYXRlIHwgbnVsbCB7XG4gICAgbGV0IHJhZGl1cyA9IEluZmluaXR5O1xuICAgIGxldCBjYW5kaWRhdGUgPSBudWxsO1xuICAgIGNvbnN0IGR4eSA9IG5ldyB1dGlscy5Db29yZGluYXRlKDAsIDApO1xuXG4gICAgZm9yIChjb25zdCBjb25uIG9mIGxvY2FsQ29ubnMpIHtcbiAgICAgIGNvbnN0IHtjb25uZWN0aW9uOiBuZWlnaGJvdXIsIHJhZGl1czogcmFkfSA9IGNvbm4uY2xvc2VzdChyYWRpdXMsIGR4eSk7XG4gICAgICBpZiAobmVpZ2hib3VyKSB7XG4gICAgICAgIGNhbmRpZGF0ZSA9IHtcbiAgICAgICAgICBsb2NhbDogY29ubixcbiAgICAgICAgICBuZWlnaGJvdXI6IG5laWdoYm91cixcbiAgICAgICAgICBkaXN0YW5jZTogcmFkLFxuICAgICAgICB9O1xuICAgICAgICByYWRpdXMgPSByYWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBuZWFyZXN0IHZhbGlkIGNhbmRpZGF0ZSBjb25uZWN0aW9uIGluIHRyYXZlcnNhbCBvcmRlci5cbiAgICpcbiAgICogQHBhcmFtIGRyYWdnaW5nQmxvY2sgVGhlIHJvb3QgYmxvY2sgYmVpbmcgZHJhZ2dlZC5cbiAgICogQHBhcmFtIGxvY2FsQ29ubnMgVGhlIGxpc3Qgb2YgY29ubmVjdGlvbnMgb24gdGhlIGRyYWdnaW5nIGJsb2NrKHMpIHRoYXQgYXJlXG4gICAqICAgICBhdmFpbGFibGUgdG8gY29ubmVjdCB0by5cbiAgICogQHJldHVybnMgQSBjYW5kaWRhdGUgY29ubmVjdGlvbiBhbmQgcmFkaXVzLCBvciBudWxsIGlmIG5vbmUgd2FzIGZvdW5kLlxuICAgKi9cbiAgZmluZFRyYXZlcnNhbENhbmRpZGF0ZShcbiAgICBkcmFnZ2luZ0Jsb2NrOiBCbG9ja1N2ZyxcbiAgICBsb2NhbENvbm5zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSxcbiAgKTogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwge1xuICAgIGNvbnN0IGNvbm5lY3Rpb25DaGVja2VyID0gZHJhZ2dpbmdCbG9jay53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXI7XG4gICAgbGV0IGNhbmRpZGF0ZUNvbm5lY3Rpb246IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgcG90ZW50aWFsOiBSZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsID0gdGhpcy5zZWFyY2hOb2RlO1xuXG4gICAgY29uc3QgZGlyID0gdGhpcy5jdXJyZW50RHJhZ0RpcmVjdGlvbjtcbiAgICB3aGlsZSAocG90ZW50aWFsICYmICFjYW5kaWRhdGVDb25uZWN0aW9uKSB7XG4gICAgICBjb25zdCBwb3RlbnRpYWxJbmRleCA9IHRoaXMuYWxsQ29ubmVjdGlvbnMuaW5kZXhPZihwb3RlbnRpYWwpO1xuICAgICAgaWYgKGRpciA9PT0gRGlyZWN0aW9uLlVwIHx8IGRpciA9PT0gRGlyZWN0aW9uLkxlZnQpIHtcbiAgICAgICAgcG90ZW50aWFsID1cbiAgICAgICAgICB0aGlzLmFsbENvbm5lY3Rpb25zW3BvdGVudGlhbEluZGV4IC0gMV0gPz9cbiAgICAgICAgICB0aGlzLmFsbENvbm5lY3Rpb25zW3RoaXMuYWxsQ29ubmVjdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICB9IGVsc2UgaWYgKGRpciA9PT0gRGlyZWN0aW9uLkRvd24gfHwgZGlyID09PSBEaXJlY3Rpb24uUmlnaHQpIHtcbiAgICAgICAgcG90ZW50aWFsID1cbiAgICAgICAgICB0aGlzLmFsbENvbm5lY3Rpb25zW3BvdGVudGlhbEluZGV4ICsgMV0gPz8gdGhpcy5hbGxDb25uZWN0aW9uc1swXTtcbiAgICAgIH1cblxuICAgICAgbG9jYWxDb25ucy5mb3JFYWNoKChjb25uOiBSZW5kZXJlZENvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvdGVudGlhbCAmJlxuICAgICAgICAgIGNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoY29ubiwgcG90ZW50aWFsLCB0cnVlLCBJbmZpbml0eSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FuZGlkYXRlQ29ubmVjdGlvbiA9IHtcbiAgICAgICAgICAgIGxvY2FsOiBjb25uLFxuICAgICAgICAgICAgbmVpZ2hib3VyOiBwb3RlbnRpYWwsXG4gICAgICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChwb3RlbnRpYWwgPT0gdGhpcy5zZWFyY2hOb2RlKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNhbmRpZGF0ZUNvbm5lY3Rpb247XG4gIH1cblxuICBvdmVycmlkZSBjdXJyQ2FuZGlkYXRlSXNCZXR0ZXIoXG4gICAgY3VyckNhbmRpZGF0ZTogQ29ubmVjdGlvbkNhbmRpZGF0ZSxcbiAgICBkZWx0YTogdXRpbHMuQ29vcmRpbmF0ZSxcbiAgICBuZXdDYW5kaWRhdGU6IENvbm5lY3Rpb25DYW5kaWRhdGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmlzQ29uc3RyYWluZWRNb3ZlbWVudCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIE5ldyBjb25uZWN0aW9uIGlzIGFsd2F5cyBiZXR0ZXIgZHVyaW5nIGEgY29uc3RyYWluZWQgZHJhZy5cbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjdXJyQ2FuZGlkYXRlSXNCZXR0ZXIgaXMgcHJpdmF0ZS5cbiAgICByZXR1cm4gc3VwZXIuY3VyckNhbmRpZGF0ZUlzQmV0dGVyKGN1cnJDYW5kaWRhdGUsIGRlbHRhLCBuZXdDYW5kaWRhdGUpO1xuICB9XG5cbiAgb3ZlcnJpZGUgZ2V0Q29ubmVjdGlvbkNhbmRpZGF0ZShcbiAgICBkcmFnZ2luZ0Jsb2NrOiBCbG9ja1N2ZyxcbiAgICBkZWx0YTogdXRpbHMuQ29vcmRpbmF0ZSxcbiAgKTogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwge1xuICAgIGlmICh0aGlzLmlzQ29uc3RyYWluZWRNb3ZlbWVudCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDb25zdHJhaW5lZENvbm5lY3Rpb25DYW5kaWRhdGUoZHJhZ2dpbmdCbG9jayk7XG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2V0Q29ubmN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGUuXG4gICAgcmV0dXJuIHN1cGVyLmdldENvbm5lY3Rpb25DYW5kaWRhdGUoZHJhZ2dpbmdCbG9jaywgZGVsdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSBtb3N0IHJlY2VudCBkcmFnIGV2ZW50IHJlcHJlc2VudHMgYSBjb25zdHJhaW5lZFxuICAgKiBrZXlib2FyZCBkcmFnLlxuICAgKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IG1vdmVtZW50IGlzIGNvbnN0cmFpbmVkLCBvdGhlcndpc2UgZmFsc2UuXG4gICAqL1xuICBwcml2YXRlIGlzQ29uc3RyYWluZWRNb3ZlbWVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmN1cnJlbnREcmFnRGlyZWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIHRoZSBwcmV2aWV3IChyZXBsYWNlbWVudCBvciBpbnNlcnRpb24gbWFya2VyKSB0byBiZSBzaG93blxuICAgKiBpbW1lZGlhdGVseS4gS2V5Ym9hcmQgZHJhZ3Mgc2hvdWxkIGFsd2F5cyBzaG93IGEgcHJldmlldywgZXZlbiB3aGVuXG4gICAqIHRoZSBkcmFnIGhhcyBqdXN0IHN0YXJ0ZWQ7IHRoaXMgZm9yY2VzIGl0LlxuICAgKi9cbiAgcHJpdmF0ZSBmb3JjZVNob3dQcmV2aWV3KCkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY29ubmVjdGlvblByZXZpZXdlciBpcyBwcml2YXRlXG4gICAgY29uc3QgcHJldmlld2VyID0gdGhpcy5jb25uZWN0aW9uUHJldmlld2VyO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY29ubmVjdGlvbkNhbmRpZGF0ZSBpcyBwcml2YXRlXG4gICAgY29uc3QgY2FuZGlkYXRlID0gdGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlIGFzIENvbm5lY3Rpb25DYW5kaWRhdGU7XG4gICAgaWYgKCFjYW5kaWRhdGUgfHwgIXByZXZpZXdlcikgcmV0dXJuO1xuICAgIGNvbnN0IGJsb2NrID0gdGhpcy5ibG9jaztcblxuICAgIC8vIFRoaXMgaXMgZXNzZW50aWFsbHkgYSBjb3B5IG9mIHRoZSBzZWNvbmQgaGFsZiBvZiB1cGRhdGVDb25uZWN0aW9uUHJldmlld1xuICAgIC8vIGluIEJsb2NrRHJhZ1N0cmF0ZWd5LiBJdCBhZGRzIGEgYG1vdmVEdXJpbmdEcmFnYCBjYWxsIGF0IHRoZSBlbmQuXG4gICAgY29uc3Qge2xvY2FsLCBuZWlnaGJvdXJ9ID0gY2FuZGlkYXRlO1xuICAgIGNvbnN0IGxvY2FsSXNPdXRwdXRPclByZXZpb3VzID1cbiAgICAgIGxvY2FsLnR5cGUgPT09IENvbm5lY3Rpb25UeXBlLk9VVFBVVF9WQUxVRSB8fFxuICAgICAgbG9jYWwudHlwZSA9PT0gQ29ubmVjdGlvblR5cGUuUFJFVklPVVNfU1RBVEVNRU5UO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gbmVpZ2hib3VyLnRhcmdldEJsb2NrKCk7XG4gICAgY29uc3QgbmVpZ2hib3VySXNDb25uZWN0ZWRUb1JlYWxCbG9jayA9XG4gICAgICB0YXJnZXQgJiYgIXRhcmdldC5pc0luc2VydGlvbk1hcmtlcigpO1xuXG4gICAgY29uc3Qgb3JwaGFuQ2FuQ29ubmVjdEF0RW5kID1cbiAgICAgIHRhcmdldCAmJlxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBvcnBoYW5DYW5Db25uZWN0QXRFbmQgaXMgcHJpdmF0ZVxuICAgICAgdGhpcy5vcnBoYW5DYW5Db25uZWN0QXRFbmQoYmxvY2ssIHRhcmdldCwgbG9jYWwudHlwZSk7XG4gICAgaWYgKFxuICAgICAgbG9jYWxJc091dHB1dE9yUHJldmlvdXMgJiZcbiAgICAgIG5laWdoYm91cklzQ29ubmVjdGVkVG9SZWFsQmxvY2sgJiZcbiAgICAgICFvcnBoYW5DYW5Db25uZWN0QXRFbmRcbiAgICApIHtcbiAgICAgIHByZXZpZXdlci5wcmV2aWV3UmVwbGFjZW1lbnQobG9jYWwsIG5laWdoYm91ciwgdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlld2VyLnByZXZpZXdDb25uZWN0aW9uKGxvY2FsLCBuZWlnaGJvdXIpO1xuICAgIH1cbiAgICAvLyBUaGUgbW92aW5nIGJsb2NrIHdpbGwgYmUgcG9zaXRpb25lZCBzbGlnaHRseSBkb3duIGFuZCB0byB0aGVcbiAgICAvLyByaWdodCBvZiB0aGUgY29ubmVjdGlvbiBpdCBmb3VuZC5cbiAgICBibG9jay5tb3ZlRHVyaW5nRHJhZyhcbiAgICAgIG5ldyB1dGlscy5Db29yZGluYXRlKFxuICAgICAgICBuZWlnaGJvdXIueCArIEJMT0NLX1BSRVZJRVdfT0ZGU0VUX1gsXG4gICAgICAgIG5laWdoYm91ci55ICsgQkxPQ0tfUFJFVklFV19PRkZTRVRfWSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjYW5kaWRhdGUgcmVwcmVzZW50aW5nIHdoZXJlIHRoZSBibG9jayB3YXMgcHJldmlvdXNseSBjb25uZWN0ZWQuXG4gICAqIFVzZWQgdG8gcmVuZGVyIHRoZSBibG9jayBwb3NpdGlvbiBhZnRlciBwaWNraW5nIHVwIHRoZSBibG9jayBidXQgYmVmb3JlXG4gICAqIG1vdmluZyBkdXJpbmcgYSBkcmFnLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIGNvbm5lY3Rpb24gY2FuZGlkYXRlIHJlcHJlc2VudGluZyB3aGVyZSB0aGUgYmxvY2sgd2FzIGF0IHRoZVxuICAgKiAgICAgc3RhcnQgb2YgdGhlIGRyYWcuXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUluaXRpYWxDYW5kaWRhdGUoKTogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igc3RhcnRQYXJlbnRDb25uIGlzIHByaXZhdGUuXG4gICAgY29uc3QgbmVpZ2hib3VyID0gdGhpcy5zdGFydFBvaW50ID8/IHRoaXMuc3RhcnRQYXJlbnRDb25uO1xuICAgIGlmIChuZWlnaGJvdXIpIHtcbiAgICAgIHRoaXMuc2VhcmNoTm9kZSA9IG5laWdoYm91cjtcbiAgICAgIHN3aXRjaCAobmVpZ2hib3VyLnR5cGUpIHtcbiAgICAgICAgY2FzZSBDb25uZWN0aW9uVHlwZS5JTlBVVF9WQUxVRToge1xuICAgICAgICAgIGlmICh0aGlzLmJsb2NrLm91dHB1dENvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIG5laWdoYm91cjogbmVpZ2hib3VyLFxuICAgICAgICAgICAgICBsb2NhbDogdGhpcy5ibG9jay5vdXRwdXRDb25uZWN0aW9uLFxuICAgICAgICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQ29ubmVjdGlvblR5cGUuTkVYVF9TVEFURU1FTlQ6IHtcbiAgICAgICAgICBpZiAodGhpcy5ibG9jay5wcmV2aW91c0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIG5laWdoYm91cjogbmVpZ2hib3VyLFxuICAgICAgICAgICAgICBsb2NhbDogdGhpcy5ibG9jay5wcmV2aW91c0Nvbm5lY3Rpb24sXG4gICAgICAgICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBvdmVycmlkZSBzaG91bGRIZWFsU3RhY2soZTogUG9pbnRlckV2ZW50IHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5ibG9jay5wcmV2aW91c0Nvbm5lY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB3ZSBzaG91bGQgcmVmcmVzaCBjb25uZWN0aW9uIGhpZ2hsaWdodHMgKHRocm90dGxlZCkuXG4gICAqXG4gICAqIEBwYXJhbSBwcmV2XG4gICAqIEBwYXJhbSBjdXJyXG4gICAqL1xuICBwcml2YXRlIHNob3VsZFJlZnJlc2hIaWdobGlnaHRzKFxuICAgIHByZXY6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsLFxuICAgIGN1cnI6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBoYXNDaGFuZ2VkID0gdGhpcy5oYXNDb25uZWN0aW9uQ2hhbmdlZChwcmV2LCBjdXJyKTtcbiAgICBpZiAoIWhhc0NoYW5nZWQpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdFJlZnJlc2hUaW1lIDwgdGhpcy5SRUZSRVNIX1RIUk9UVExFKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjb25uZWN0aW9uIGNhbmRpZGF0ZSBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHByZXZcbiAgICogQHBhcmFtIGN1cnJcbiAgICovXG4gIHByaXZhdGUgaGFzQ29ubmVjdGlvbkNoYW5nZWQoXG4gICAgcHJldjogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwsXG4gICAgY3VycjogQ29ubmVjdGlvbkNhbmRpZGF0ZSB8IG51bGwsXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghcHJldiAmJiAhY3VycikgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghcHJldiB8fCAhY3VycikgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHByZXYubmVpZ2hib3VyICE9PSBjdXJyLm5laWdoYm91ciB8fCBwcmV2LmxvY2FsICE9PSBjdXJyLmxvY2FsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyBjb25uZWN0aW9uIGhpZ2hsaWdodHMgYWZ0ZXIgYSBwcmV2aWV3IGNoYW5nZS5cbiAgICogRW5zdXJlcyBoaWdobGlnaHRzIHJlZmxlY3QgY3VycmVudCBwb3NpdGlvbnMgYWZ0ZXIgc3RhY2sgcmVhcnJhbmdlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRDYW5kaWRhdGVcbiAgICovXG4gIHByaXZhdGUgcmVmcmVzaEhpZ2hsaWdodHNGb3JQcmV2aWV3KFxuICAgIGN1cnJlbnRDYW5kaWRhdGU6IENvbm5lY3Rpb25DYW5kaWRhdGUgfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICAvLyBPbmx5IHJlZnJlc2ggaWYgaGlnaGxpZ2h0cyBhcmUgZW5hYmxlZFxuICAgIGlmICghdGhpcy5oaWdobGlnaHRpbmdFbmFibGVkKSByZXR1cm47XG5cbiAgICB0aGlzLmxhc3RSZWZyZXNoZWRDYW5kaWRhdGUgPSBjdXJyZW50Q2FuZGlkYXRlO1xuICAgIHRoaXMubGFzdFJlZnJlc2hUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIC8vIFJlYnVpbGQgY29ubmVjdGlvbnMgbGlzdCB0byByZWZsZWN0IGN1cnJlbnQgd29ya3NwYWNlIHN0YXRlXG4gICAgY29uc3QgY3VycmVudENvbm5lY3Rpb25zOiBSZW5kZXJlZENvbm5lY3Rpb25bXSA9IFtdO1xuICAgIGNvbnN0IHRvcEJsb2NrcyA9IHRoaXMuYmxvY2sud29ya3NwYWNlLmdldFRvcEJsb2Nrcyh0cnVlKTtcblxuICAgIGZvciAoY29uc3QgdG9wQmxvY2sgb2YgdG9wQmxvY2tzKSB7XG4gICAgICBjb25zdCBkZXNjZW5kYW50cyA9IHRvcEJsb2NrLmdldERlc2NlbmRhbnRzKHRydWUpO1xuICAgICAgY29uc3Qgbm9uU2hhZG93RGVzY2VuZGFudHMgPSBkZXNjZW5kYW50cy5maWx0ZXIoXG4gICAgICAgIChibG9jazogQmxvY2tTdmcpID0+ICFibG9jay5pc1NoYWRvdygpLFxuICAgICAgKTtcblxuICAgICAgY3VycmVudENvbm5lY3Rpb25zLnB1c2goXG4gICAgICAgIC4uLm5vblNoYWRvd0Rlc2NlbmRhbnRzXG4gICAgICAgICAgLmZsYXRNYXAoKGJsb2NrOiBCbG9ja1N2ZykgPT4gYmxvY2suZ2V0Q29ubmVjdGlvbnNfKGZhbHNlKSlcbiAgICAgICAgICAuc29ydCgoYTogUmVuZGVyZWRDb25uZWN0aW9uLCBiOiBSZW5kZXJlZENvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGEueSAtIGIueTtcbiAgICAgICAgICAgIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgICAgICAgICBkZWx0YSA9IGEueCAtIGIueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWx0YTtcbiAgICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRMb2NhbENvbm5lY3Rpb25zIGlzIHByaXZhdGUuXG4gICAgY29uc3QgbG9jYWxDb25uZWN0aW9ucyA9IHRoaXMuZ2V0TG9jYWxDb25uZWN0aW9ucyh0aGlzLmJsb2NrKTtcblxuICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyLmhpZ2hsaWdodFZhbGlkQ29ubmVjdGlvbnMoXG4gICAgICB0aGlzLmJsb2NrLFxuICAgICAgY3VycmVudENvbm5lY3Rpb25zLFxuICAgICAgbG9jYWxDb25uZWN0aW9ucyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgd2hlbiBhIHVzZXIgY2xpY2tzIG9uIGEgY29ubmVjdGlvbiBoaWdobGlnaHQgdG8gY29tcGxldGUgYSBtb3ZlLlxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0Q29ubmVjdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVDb25uZWN0aW9uQ2xpY2sodGFyZ2V0Q29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRMb2NhbENvbm5lY3Rpb25zIGlzIHByaXZhdGUuXG4gICAgY29uc3QgbG9jYWxDb25uZWN0aW9ucyA9IHRoaXMuZ2V0TG9jYWxDb25uZWN0aW9ucyh0aGlzLmJsb2NrKTtcbiAgICBjb25zdCBjb25uZWN0aW9uQ2hlY2tlciA9IHRoaXMuYmxvY2sud29ya3NwYWNlLmNvbm5lY3Rpb25DaGVja2VyO1xuXG4gICAgbGV0IGxvY2FsQ29ubmVjdGlvbjogUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCA9IG51bGw7XG4gICAgZm9yIChjb25zdCBsb2NhbCBvZiBsb2NhbENvbm5lY3Rpb25zKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QobG9jYWwsIHRhcmdldENvbm5lY3Rpb24sIHRydWUsIEluZmluaXR5KVxuICAgICAgKSB7XG4gICAgICAgIGxvY2FsQ29ubmVjdGlvbiA9IGxvY2FsO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobG9jYWxDb25uZWN0aW9uKSB7XG4gICAgICAvLyBTZXQgdGhlIGNvbm5lY3Rpb24gY2FuZGlkYXRlIHRoYXQgd2lsbCBiZSB1c2VkIHdoZW4gdGhlIGRyYWcgZW5kc1xuICAgICAgY29uc3QgY2FuZGlkYXRlID0ge1xuICAgICAgICBsb2NhbDogbG9jYWxDb25uZWN0aW9uLFxuICAgICAgICBuZWlnaGJvdXI6IHRhcmdldENvbm5lY3Rpb24sXG4gICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgfTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjb25uZWN0aW9uQ2FuZGlkYXRlIGlzIHByaXZhdGVcbiAgICAgIHRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZSA9IGNhbmRpZGF0ZTtcblxuICAgICAgLy8gRXhpdCBzdGlja3kgbW9kZSBmaXJzdCAoYmVmb3JlIGZpbmlzaGluZyB0aGUgbW92ZSkgaWYgd2UncmUgaW4gc3RpY2t5IG1vZGVcbiAgICAgIGlmICh0aGlzLmlzQ2xpY2tBbmRTdGljaykge1xuICAgICAgICB0aGlzLnNldENsaWNrQW5kU3RpY2tNb2RlKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgLy8gRmluaXNoIHRoZSBtb3ZlLCB3aGljaCB3aWxsIGZpbmFsaXplIHRoZSBjb25uZWN0aW9uXG4gICAgICBpZiAodGhpcy5vbk1vdmVDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLm9uTW92ZUNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9uTW92ZUZpbmlzaGVkKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlRmluaXNoZWQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gY29tcGF0aWJsZSBjb25uZWN0aW9uIGZvdW5kLiBUaGlzIHNob3VsZG4ndCBoYXBwZW4gc2luY2Ugd2UgdXNlIGNvbnNpc3RlbnRcbiAgICAgIC8vIHZhbGlkYXRpb24gd2hlbiBjcmVhdGluZyBoaWdobGlnaHRzLCBidXQgaWYgaXQgZG9lcyB3ZSBtdXN0IGV4aXQgZ3JhY2VmdWxseVxuICAgICAgLy8gdG8gYXZvaWQgbGVhdmluZyB0aGUgVUkgaW4gYSBicm9rZW4gc3RhdGUuXG4gICAgICBpZiAodGhpcy5pc0NsaWNrQW5kU3RpY2spIHtcbiAgICAgICAgdGhpcy5zZXRDbGlja0FuZFN0aWNrTW9kZShmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9uTW92ZUNvbXBsZXRlKSB7XG4gICAgICAgIHRoaXMub25Nb3ZlQ29tcGxldGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub25Nb3ZlRmluaXNoZWQpIHtcbiAgICAgICAgdGhpcy5vbk1vdmVGaW5pc2hlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBmYXR0ZXIgY29ubmVjdGlvbiBoaWdobGlnaHRzLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZCBXaGV0aGVyIHRvIHVzZSBmYXR0ZXIgY29ubmVjdGlvbnMgd2l0aCBsYXJnZXIgY2xpY2sgdGFyZ2V0cy5cbiAgICovXG4gIHNldEZhdHRlckNvbm5lY3Rpb25zKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRlcj8uc2V0RmF0dGVyQ29ubmVjdGlvbnMoZW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjb25uZWN0aW9uIGhpZ2hsaWdodCBzaXplLlxuICAgKlxuICAgKiBAcGFyYW0gc2l6ZSBUaGUgc2l6ZSBsZXZlbDogJ21pbmltYWwnLCAnbWVkaXVtJywgb3IgJ2xhcmdlJy5cbiAgICovXG4gIHNldENvbm5lY3Rpb25TaXplKHNpemU6ICdtaW5pbWFsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyk6IHZvaWQge1xuICAgIHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodGVyPy5zZXRDb25uZWN0aW9uU2l6ZShzaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbml0aWFsIGNvbm5lY3Rpb24gd2hlcmUgdGhlIGJsb2NrIHN0YXJ0ZWQuXG4gICAqL1xuICBnZXRJbml0aWFsQ29ubmVjdGlvbk5laWdoYm91cigpOiBSZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5pbml0aWFsQ29ubmVjdGlvbk5laWdoYm91cjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/keyboard_drag_strategy.ts\n");

/***/ }),

/***/ "./src/keynames.ts":
/*!*************************!*\
  !*** ./src/keynames.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keyNames: () => (/* binding */ keyNames)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * Key names for common characters. These should be used with keyup/keydown\n * events, since the .keyCode property on those is meant to indicate the\n * _physical key_ the user held down on the keyboard. Hence the mapping uses\n * only the unshifted version of each key (e.g. no '#', since that's shift+3).\n * Keypress events on the other hand generate (mostly) ASCII codes since they\n * correspond to *characters* the user typed.\n *\n * For further reference: http://unixpapa.com/js/key.html\n *\n * This list is not localized and therefore some of the key codes are not\n * correct for non-US keyboard layouts.\n *\n * Copied from goog.events.keynames\n */\nconst keyNames = {\n    /* eslint-disable @typescript-eslint/naming-convention */\n    8: 'backspace',\n    9: 'tab',\n    13: 'enter',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    19: 'pause',\n    20: 'caps-lock',\n    27: 'esc',\n    32: 'space',\n    33: 'pg-up',\n    34: 'pg-down',\n    35: 'end',\n    36: 'home',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    45: 'insert',\n    46: 'delete',\n    48: '0',\n    49: '1',\n    50: '2',\n    51: '3',\n    52: '4',\n    53: '5',\n    54: '6',\n    55: '7',\n    56: '8',\n    57: '9',\n    59: 'semicolon',\n    61: 'equals',\n    65: 'a',\n    66: 'b',\n    67: 'c',\n    68: 'd',\n    69: 'e',\n    70: 'f',\n    71: 'g',\n    72: 'h',\n    73: 'i',\n    74: 'j',\n    75: 'k',\n    76: 'l',\n    77: 'm',\n    78: 'n',\n    79: 'o',\n    80: 'p',\n    81: 'q',\n    82: 'r',\n    83: 's',\n    84: 't',\n    85: 'u',\n    86: 'v',\n    87: 'w',\n    88: 'x',\n    89: 'y',\n    90: 'z',\n    93: 'context',\n    96: 'num-0',\n    97: 'num-1',\n    98: 'num-2',\n    99: 'num-3',\n    100: 'num-4',\n    101: 'num-5',\n    102: 'num-6',\n    103: 'num-7',\n    104: 'num-8',\n    105: 'num-9',\n    106: 'num-multiply',\n    107: 'num-plus',\n    109: 'num-minus',\n    110: 'num-period',\n    111: 'num-division',\n    112: 'f1',\n    113: 'f2',\n    114: 'f3',\n    115: 'f4',\n    116: 'f5',\n    117: 'f6',\n    118: 'f7',\n    119: 'f8',\n    120: 'f9',\n    121: 'f10',\n    122: 'f11',\n    123: 'f12',\n    186: 'semicolon',\n    187: 'equals',\n    189: 'dash',\n    188: ',',\n    190: '.',\n    191: '/',\n    192: '`',\n    219: 'open-square-bracket',\n    220: '\\\\',\n    221: 'close-square-bracket',\n    222: 'single-quote',\n    224: 'win',\n    /* eslint-enable @typescript-eslint/naming-convention */\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsS0FBSztJQUNWLEdBQUcsRUFBRSxLQUFLO0lBQ1YsR0FBRyxFQUFFLEtBQUs7SUFDVixHQUFHLEVBQUUsV0FBVztJQUNoQixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxNQUFNO0lBQ1gsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUscUJBQXFCO0lBQzFCLEdBQUcsRUFBRSxJQUFJO0lBQ1QsR0FBRyxFQUFFLHNCQUFzQjtJQUMzQixHQUFHLEVBQUUsY0FBYztJQUNuQixHQUFHLEVBQUUsS0FBSztJQUNWLHdEQUF3RDtDQUN6RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9rZXluYW1lcy50cz80NmNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBLZXkgbmFtZXMgZm9yIGNvbW1vbiBjaGFyYWN0ZXJzLiBUaGVzZSBzaG91bGQgYmUgdXNlZCB3aXRoIGtleXVwL2tleWRvd25cbiAqIGV2ZW50cywgc2luY2UgdGhlIC5rZXlDb2RlIHByb3BlcnR5IG9uIHRob3NlIGlzIG1lYW50IHRvIGluZGljYXRlIHRoZVxuICogX3BoeXNpY2FsIGtleV8gdGhlIHVzZXIgaGVsZCBkb3duIG9uIHRoZSBrZXlib2FyZC4gSGVuY2UgdGhlIG1hcHBpbmcgdXNlc1xuICogb25seSB0aGUgdW5zaGlmdGVkIHZlcnNpb24gb2YgZWFjaCBrZXkgKGUuZy4gbm8gJyMnLCBzaW5jZSB0aGF0J3Mgc2hpZnQrMykuXG4gKiBLZXlwcmVzcyBldmVudHMgb24gdGhlIG90aGVyIGhhbmQgZ2VuZXJhdGUgKG1vc3RseSkgQVNDSUkgY29kZXMgc2luY2UgdGhleVxuICogY29ycmVzcG9uZCB0byAqY2hhcmFjdGVycyogdGhlIHVzZXIgdHlwZWQuXG4gKlxuICogRm9yIGZ1cnRoZXIgcmVmZXJlbmNlOiBodHRwOi8vdW5peHBhcGEuY29tL2pzL2tleS5odG1sXG4gKlxuICogVGhpcyBsaXN0IGlzIG5vdCBsb2NhbGl6ZWQgYW5kIHRoZXJlZm9yZSBzb21lIG9mIHRoZSBrZXkgY29kZXMgYXJlIG5vdFxuICogY29ycmVjdCBmb3Igbm9uLVVTIGtleWJvYXJkIGxheW91dHMuXG4gKlxuICogQ29waWVkIGZyb20gZ29vZy5ldmVudHMua2V5bmFtZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleU5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgODogJ2JhY2tzcGFjZScsXG4gIDk6ICd0YWInLFxuICAxMzogJ2VudGVyJyxcbiAgMTY6ICdzaGlmdCcsXG4gIDE3OiAnY3RybCcsXG4gIDE4OiAnYWx0JyxcbiAgMTk6ICdwYXVzZScsXG4gIDIwOiAnY2Fwcy1sb2NrJyxcbiAgMjc6ICdlc2MnLFxuICAzMjogJ3NwYWNlJyxcbiAgMzM6ICdwZy11cCcsXG4gIDM0OiAncGctZG93bicsXG4gIDM1OiAnZW5kJyxcbiAgMzY6ICdob21lJyxcbiAgMzc6ICdsZWZ0JyxcbiAgMzg6ICd1cCcsXG4gIDM5OiAncmlnaHQnLFxuICA0MDogJ2Rvd24nLFxuICA0NTogJ2luc2VydCcsXG4gIDQ2OiAnZGVsZXRlJyxcbiAgNDg6ICcwJyxcbiAgNDk6ICcxJyxcbiAgNTA6ICcyJyxcbiAgNTE6ICczJyxcbiAgNTI6ICc0JyxcbiAgNTM6ICc1JyxcbiAgNTQ6ICc2JyxcbiAgNTU6ICc3JyxcbiAgNTY6ICc4JyxcbiAgNTc6ICc5JyxcbiAgNTk6ICdzZW1pY29sb24nLFxuICA2MTogJ2VxdWFscycsXG4gIDY1OiAnYScsXG4gIDY2OiAnYicsXG4gIDY3OiAnYycsXG4gIDY4OiAnZCcsXG4gIDY5OiAnZScsXG4gIDcwOiAnZicsXG4gIDcxOiAnZycsXG4gIDcyOiAnaCcsXG4gIDczOiAnaScsXG4gIDc0OiAnaicsXG4gIDc1OiAnaycsXG4gIDc2OiAnbCcsXG4gIDc3OiAnbScsXG4gIDc4OiAnbicsXG4gIDc5OiAnbycsXG4gIDgwOiAncCcsXG4gIDgxOiAncScsXG4gIDgyOiAncicsXG4gIDgzOiAncycsXG4gIDg0OiAndCcsXG4gIDg1OiAndScsXG4gIDg2OiAndicsXG4gIDg3OiAndycsXG4gIDg4OiAneCcsXG4gIDg5OiAneScsXG4gIDkwOiAneicsXG4gIDkzOiAnY29udGV4dCcsXG4gIDk2OiAnbnVtLTAnLFxuICA5NzogJ251bS0xJyxcbiAgOTg6ICdudW0tMicsXG4gIDk5OiAnbnVtLTMnLFxuICAxMDA6ICdudW0tNCcsXG4gIDEwMTogJ251bS01JyxcbiAgMTAyOiAnbnVtLTYnLFxuICAxMDM6ICdudW0tNycsXG4gIDEwNDogJ251bS04JyxcbiAgMTA1OiAnbnVtLTknLFxuICAxMDY6ICdudW0tbXVsdGlwbHknLFxuICAxMDc6ICdudW0tcGx1cycsXG4gIDEwOTogJ251bS1taW51cycsXG4gIDExMDogJ251bS1wZXJpb2QnLFxuICAxMTE6ICdudW0tZGl2aXNpb24nLFxuICAxMTI6ICdmMScsXG4gIDExMzogJ2YyJyxcbiAgMTE0OiAnZjMnLFxuICAxMTU6ICdmNCcsXG4gIDExNjogJ2Y1JyxcbiAgMTE3OiAnZjYnLFxuICAxMTg6ICdmNycsXG4gIDExOTogJ2Y4JyxcbiAgMTIwOiAnZjknLFxuICAxMjE6ICdmMTAnLFxuICAxMjI6ICdmMTEnLFxuICAxMjM6ICdmMTInLFxuICAxODY6ICdzZW1pY29sb24nLFxuICAxODc6ICdlcXVhbHMnLFxuICAxODk6ICdkYXNoJyxcbiAgMTg4OiAnLCcsXG4gIDE5MDogJy4nLFxuICAxOTE6ICcvJyxcbiAgMTkyOiAnYCcsXG4gIDIxOTogJ29wZW4tc3F1YXJlLWJyYWNrZXQnLFxuICAyMjA6ICdcXFxcJyxcbiAgMjIxOiAnY2xvc2Utc3F1YXJlLWJyYWNrZXQnLFxuICAyMjI6ICdzaW5nbGUtcXVvdGUnLFxuICAyMjQ6ICd3aW4nLFxuICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/keynames.ts\n");

/***/ }),

/***/ "./src/move_grip.ts":
/*!**************************!*\
  !*** ./src/move_grip.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveGrip: () => (/* binding */ MoveGrip)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Minimum width threshold for showing full-width grip (in pixels).\n * Blocks narrower than this will get a compact grip.\n */\nconst MIN_BLOCK_WIDTH_FOR_FULL_GRIP = 30;\n/**\n * Width of the grip element in pixels.\n */\nconst GRIP_WIDTH = 20;\n/**\n * CSS class name for the grip element.\n */\nconst GRIP_CLASS = 'blockly-move-grip';\n/**\n * A visual grip handle that appears on focused blocks, allowing users to\n * click the grip to enter sticky move mode.\n */\nclass MoveGrip {\n    /**\n     * Constructs a MoveGrip for a block.\n     *\n     * @param block The block to attach the grip to.\n     * @param onGripClick Callback invoked when the grip is clicked.\n     */\n    constructor(block, onGripClick) {\n        this.block = block;\n        this.gripElement = null;\n        this.clickHandler = null;\n        this.clickHandler = (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            onGripClick(this.block, event);\n        };\n    }\n    /**\n     * Shows the grip on the block.\n     */\n    show() {\n        if (this.gripElement) {\n            // Already showing\n            return;\n        }\n        const blockSvgRoot = this.block.getSvgRoot();\n        if (!blockSvgRoot)\n            return;\n        // Create grip element\n        this.gripElement = this.createGripElement();\n        // Position the grip\n        this.positionGrip();\n        // Add to block's SVG root\n        blockSvgRoot.appendChild(this.gripElement);\n        // Add click handler\n        if (this.clickHandler) {\n            this.gripElement.addEventListener('click', this.clickHandler);\n        }\n    }\n    /**\n     * Hides and removes the grip from the block.\n     */\n    hide() {\n        if (!this.gripElement)\n            return;\n        // Remove click handler\n        if (this.clickHandler) {\n            this.gripElement.removeEventListener('click', this.clickHandler);\n        }\n        // Remove from DOM\n        this.gripElement.remove();\n        this.gripElement = null;\n    }\n    /**\n     * Updates the grip position based on the current block size.\n     * Should be called when the block is resized.\n     */\n    updatePosition() {\n        if (!this.gripElement)\n            return;\n        this.positionGrip();\n    }\n    /**\n     * Creates the SVG grip element.\n     *\n     * @returns The created SVG group element.\n     */\n    createGripElement() {\n        const gripGroup = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('g', {\n            class: GRIP_CLASS,\n        });\n        // Use the block's direct height/width properties to get just this block's size,\n        // not including blocks below it in the stack\n        const blockWidth = this.block.width;\n        const blockHeight = this.block.height;\n        // Determine if block is too narrow for full grip\n        const isNarrow = blockWidth < MIN_BLOCK_WIDTH_FOR_FULL_GRIP;\n        const gripWidth = isNarrow ? Math.min(GRIP_WIDTH, blockWidth * 0.5) : GRIP_WIDTH;\n        // Background rectangle for the grip area\n        const gripRect = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('rect', {\n            x: '0',\n            y: '0',\n            width: gripWidth.toString(),\n            height: blockHeight.toString(),\n            fill: 'rgba(0, 0, 0, 0.1)',\n            'stroke': 'rgba(0, 0, 0, 0.3)',\n            'stroke-width': '1',\n            rx: '3',\n            ry: '3',\n            class: 'blockly-move-grip-background',\n        });\n        gripGroup.appendChild(gripRect);\n        // Create grip dots ( icon - two vertical columns of dots)\n        const dotRadius = isNarrow ? 1.5 : 2;\n        const dotSpacing = isNarrow ? 6 : 8;\n        const numDots = Math.min(3, Math.floor(blockHeight / dotSpacing));\n        const startY = (blockHeight - (numDots - 1) * dotSpacing) / 2;\n        // Two columns of dots\n        const column1X = gripWidth * 0.35;\n        const column2X = gripWidth * 0.65;\n        for (let i = 0; i < numDots; i++) {\n            const y = startY + i * dotSpacing;\n            // First column\n            const dot1 = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('circle', {\n                cx: column1X.toString(),\n                cy: y.toString(),\n                r: dotRadius.toString(),\n                fill: 'rgba(0, 0, 0, 0.6)',\n                class: 'blockly-move-grip-dot',\n            });\n            gripGroup.appendChild(dot1);\n            // Second column\n            const dot2 = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement('circle', {\n                cx: column2X.toString(),\n                cy: y.toString(),\n                r: dotRadius.toString(),\n                fill: 'rgba(0, 0, 0, 0.6)',\n                class: 'blockly-move-grip-dot',\n            });\n            gripGroup.appendChild(dot2);\n        }\n        return gripGroup;\n    }\n    /**\n     * Positions the grip on the left edge of the block.\n     */\n    positionGrip() {\n        if (!this.gripElement)\n            return;\n        // Position at the top-left corner of the block\n        // The grip should be at (0, 0) relative to the block's SVG root\n        this.gripElement.setAttribute('transform', 'translate(0, 0)');\n    }\n    /**\n     * Checks if the given event target is the grip element or a child of it.\n     *\n     * @param target The event target to check.\n     * @returns True if the target is the grip or within the grip.\n     */\n    isGripTarget(target) {\n        if (!this.gripElement || !target)\n            return false;\n        const element = target;\n        return this.gripElement.contains(element) || element === this.gripElement;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7O09BS0c7SUFDSCxZQUFZLENBQUMsTUFBMEI7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxNQUFNO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFL0MsTUFBTSxPQUFPLEdBQUcsTUFBaUIsQ0FBQztRQUNsQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sS0FBSyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVFLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvbW92ZV9ncmlwLnRzP2VkNzYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbi8qKlxuICogTWluaW11bSB3aWR0aCB0aHJlc2hvbGQgZm9yIHNob3dpbmcgZnVsbC13aWR0aCBncmlwIChpbiBwaXhlbHMpLlxuICogQmxvY2tzIG5hcnJvd2VyIHRoYW4gdGhpcyB3aWxsIGdldCBhIGNvbXBhY3QgZ3JpcC5cbiAqL1xuY29uc3QgTUlOX0JMT0NLX1dJRFRIX0ZPUl9GVUxMX0dSSVAgPSAzMDtcblxuLyoqXG4gKiBXaWR0aCBvZiB0aGUgZ3JpcCBlbGVtZW50IGluIHBpeGVscy5cbiAqL1xuY29uc3QgR1JJUF9XSURUSCA9IDIwO1xuXG4vKipcbiAqIENTUyBjbGFzcyBuYW1lIGZvciB0aGUgZ3JpcCBlbGVtZW50LlxuICovXG5jb25zdCBHUklQX0NMQVNTID0gJ2Jsb2NrbHktbW92ZS1ncmlwJztcblxuLyoqXG4gKiBBIHZpc3VhbCBncmlwIGhhbmRsZSB0aGF0IGFwcGVhcnMgb24gZm9jdXNlZCBibG9ja3MsIGFsbG93aW5nIHVzZXJzIHRvXG4gKiBjbGljayB0aGUgZ3JpcCB0byBlbnRlciBzdGlja3kgbW92ZSBtb2RlLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZUdyaXAge1xuICBwcml2YXRlIGdyaXBFbGVtZW50OiBTVkdHRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNsaWNrSGFuZGxlcjogKChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIE1vdmVHcmlwIGZvciBhIGJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIGF0dGFjaCB0aGUgZ3JpcCB0by5cbiAgICogQHBhcmFtIG9uR3JpcENsaWNrIENhbGxiYWNrIGludm9rZWQgd2hlbiB0aGUgZ3JpcCBpcyBjbGlja2VkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBibG9jazogQmxvY2tseS5CbG9ja1N2ZyxcbiAgICBvbkdyaXBDbGljazogKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLCBldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCxcbiAgKSB7XG4gICAgdGhpcy5jbGlja0hhbmRsZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIG9uR3JpcENsaWNrKHRoaXMuYmxvY2ssIGV2ZW50KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSBncmlwIG9uIHRoZSBibG9jay5cbiAgICovXG4gIHNob3coKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ3JpcEVsZW1lbnQpIHtcbiAgICAgIC8vIEFscmVhZHkgc2hvd2luZ1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJsb2NrU3ZnUm9vdCA9IHRoaXMuYmxvY2suZ2V0U3ZnUm9vdCgpO1xuICAgIGlmICghYmxvY2tTdmdSb290KSByZXR1cm47XG5cbiAgICAvLyBDcmVhdGUgZ3JpcCBlbGVtZW50XG4gICAgdGhpcy5ncmlwRWxlbWVudCA9IHRoaXMuY3JlYXRlR3JpcEVsZW1lbnQoKTtcblxuICAgIC8vIFBvc2l0aW9uIHRoZSBncmlwXG4gICAgdGhpcy5wb3NpdGlvbkdyaXAoKTtcblxuICAgIC8vIEFkZCB0byBibG9jaydzIFNWRyByb290XG4gICAgYmxvY2tTdmdSb290LmFwcGVuZENoaWxkKHRoaXMuZ3JpcEVsZW1lbnQpO1xuXG4gICAgLy8gQWRkIGNsaWNrIGhhbmRsZXJcbiAgICBpZiAodGhpcy5jbGlja0hhbmRsZXIpIHtcbiAgICAgIHRoaXMuZ3JpcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIGFuZCByZW1vdmVzIHRoZSBncmlwIGZyb20gdGhlIGJsb2NrLlxuICAgKi9cbiAgaGlkZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZ3JpcEVsZW1lbnQpIHJldHVybjtcblxuICAgIC8vIFJlbW92ZSBjbGljayBoYW5kbGVyXG4gICAgaWYgKHRoaXMuY2xpY2tIYW5kbGVyKSB7XG4gICAgICB0aGlzLmdyaXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBmcm9tIERPTVxuICAgIHRoaXMuZ3JpcEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5ncmlwRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZ3JpcCBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgY3VycmVudCBibG9jayBzaXplLlxuICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGJsb2NrIGlzIHJlc2l6ZWQuXG4gICAqL1xuICB1cGRhdGVQb3NpdGlvbigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZ3JpcEVsZW1lbnQpIHJldHVybjtcbiAgICB0aGlzLnBvc2l0aW9uR3JpcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIFNWRyBncmlwIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIFNWRyBncm91cCBlbGVtZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVHcmlwRWxlbWVudCgpOiBTVkdHRWxlbWVudCB7XG4gICAgY29uc3QgZ3JpcEdyb3VwID0gQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudCgnZycsIHtcbiAgICAgIGNsYXNzOiBHUklQX0NMQVNTLFxuICAgIH0pIGFzIFNWR0dFbGVtZW50O1xuXG4gICAgLy8gVXNlIHRoZSBibG9jaydzIGRpcmVjdCBoZWlnaHQvd2lkdGggcHJvcGVydGllcyB0byBnZXQganVzdCB0aGlzIGJsb2NrJ3Mgc2l6ZSxcbiAgICAvLyBub3QgaW5jbHVkaW5nIGJsb2NrcyBiZWxvdyBpdCBpbiB0aGUgc3RhY2tcbiAgICBjb25zdCBibG9ja1dpZHRoID0gdGhpcy5ibG9jay53aWR0aDtcbiAgICBjb25zdCBibG9ja0hlaWdodCA9IHRoaXMuYmxvY2suaGVpZ2h0O1xuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIGJsb2NrIGlzIHRvbyBuYXJyb3cgZm9yIGZ1bGwgZ3JpcFxuICAgIGNvbnN0IGlzTmFycm93ID0gYmxvY2tXaWR0aCA8IE1JTl9CTE9DS19XSURUSF9GT1JfRlVMTF9HUklQO1xuICAgIGNvbnN0IGdyaXBXaWR0aCA9IGlzTmFycm93ID8gTWF0aC5taW4oR1JJUF9XSURUSCwgYmxvY2tXaWR0aCAqIDAuNSkgOiBHUklQX1dJRFRIO1xuXG4gICAgLy8gQmFja2dyb3VuZCByZWN0YW5nbGUgZm9yIHRoZSBncmlwIGFyZWFcbiAgICBjb25zdCBncmlwUmVjdCA9IEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoJ3JlY3QnLCB7XG4gICAgICB4OiAnMCcsXG4gICAgICB5OiAnMCcsXG4gICAgICB3aWR0aDogZ3JpcFdpZHRoLnRvU3RyaW5nKCksXG4gICAgICBoZWlnaHQ6IGJsb2NrSGVpZ2h0LnRvU3RyaW5nKCksXG4gICAgICBmaWxsOiAncmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICAgICdzdHJva2UnOiAncmdiYSgwLCAwLCAwLCAwLjMpJyxcbiAgICAgICdzdHJva2Utd2lkdGgnOiAnMScsXG4gICAgICByeDogJzMnLFxuICAgICAgcnk6ICczJyxcbiAgICAgIGNsYXNzOiAnYmxvY2tseS1tb3ZlLWdyaXAtYmFja2dyb3VuZCcsXG4gICAgfSk7XG4gICAgZ3JpcEdyb3VwLmFwcGVuZENoaWxkKGdyaXBSZWN0KTtcblxuICAgIC8vIENyZWF0ZSBncmlwIGRvdHMgKOKLruKLriBpY29uIC0gdHdvIHZlcnRpY2FsIGNvbHVtbnMgb2YgZG90cylcbiAgICBjb25zdCBkb3RSYWRpdXMgPSBpc05hcnJvdyA/IDEuNSA6IDI7XG4gICAgY29uc3QgZG90U3BhY2luZyA9IGlzTmFycm93ID8gNiA6IDg7XG4gICAgY29uc3QgbnVtRG90cyA9IE1hdGgubWluKDMsIE1hdGguZmxvb3IoYmxvY2tIZWlnaHQgLyBkb3RTcGFjaW5nKSk7XG4gICAgY29uc3Qgc3RhcnRZID0gKGJsb2NrSGVpZ2h0IC0gKG51bURvdHMgLSAxKSAqIGRvdFNwYWNpbmcpIC8gMjtcblxuICAgIC8vIFR3byBjb2x1bW5zIG9mIGRvdHNcbiAgICBjb25zdCBjb2x1bW4xWCA9IGdyaXBXaWR0aCAqIDAuMzU7XG4gICAgY29uc3QgY29sdW1uMlggPSBncmlwV2lkdGggKiAwLjY1O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Eb3RzOyBpKyspIHtcbiAgICAgIGNvbnN0IHkgPSBzdGFydFkgKyBpICogZG90U3BhY2luZztcblxuICAgICAgLy8gRmlyc3QgY29sdW1uXG4gICAgICBjb25zdCBkb3QxID0gQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudCgnY2lyY2xlJywge1xuICAgICAgICBjeDogY29sdW1uMVgudG9TdHJpbmcoKSxcbiAgICAgICAgY3k6IHkudG9TdHJpbmcoKSxcbiAgICAgICAgcjogZG90UmFkaXVzLnRvU3RyaW5nKCksXG4gICAgICAgIGZpbGw6ICdyZ2JhKDAsIDAsIDAsIDAuNiknLFxuICAgICAgICBjbGFzczogJ2Jsb2NrbHktbW92ZS1ncmlwLWRvdCcsXG4gICAgICB9KTtcbiAgICAgIGdyaXBHcm91cC5hcHBlbmRDaGlsZChkb3QxKTtcblxuICAgICAgLy8gU2Vjb25kIGNvbHVtblxuICAgICAgY29uc3QgZG90MiA9IEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoJ2NpcmNsZScsIHtcbiAgICAgICAgY3g6IGNvbHVtbjJYLnRvU3RyaW5nKCksXG4gICAgICAgIGN5OiB5LnRvU3RyaW5nKCksXG4gICAgICAgIHI6IGRvdFJhZGl1cy50b1N0cmluZygpLFxuICAgICAgICBmaWxsOiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcbiAgICAgICAgY2xhc3M6ICdibG9ja2x5LW1vdmUtZ3JpcC1kb3QnLFxuICAgICAgfSk7XG4gICAgICBncmlwR3JvdXAuYXBwZW5kQ2hpbGQoZG90Mik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaXBHcm91cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3NpdGlvbnMgdGhlIGdyaXAgb24gdGhlIGxlZnQgZWRnZSBvZiB0aGUgYmxvY2suXG4gICAqL1xuICBwcml2YXRlIHBvc2l0aW9uR3JpcCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZ3JpcEVsZW1lbnQpIHJldHVybjtcblxuICAgIC8vIFBvc2l0aW9uIGF0IHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIGJsb2NrXG4gICAgLy8gVGhlIGdyaXAgc2hvdWxkIGJlIGF0ICgwLCAwKSByZWxhdGl2ZSB0byB0aGUgYmxvY2sncyBTVkcgcm9vdFxuICAgIHRoaXMuZ3JpcEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsIDApJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBldmVudCB0YXJnZXQgaXMgdGhlIGdyaXAgZWxlbWVudCBvciBhIGNoaWxkIG9mIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSBldmVudCB0YXJnZXQgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHRhcmdldCBpcyB0aGUgZ3JpcCBvciB3aXRoaW4gdGhlIGdyaXAuXG4gICAqL1xuICBpc0dyaXBUYXJnZXQodGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGwpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuZ3JpcEVsZW1lbnQgfHwgIXRhcmdldCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IHRhcmdldCBhcyBFbGVtZW50O1xuICAgIHJldHVybiB0aGlzLmdyaXBFbGVtZW50LmNvbnRhaW5zKGVsZW1lbnQpIHx8IGVsZW1lbnQgPT09IHRoaXMuZ3JpcEVsZW1lbnQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/move_grip.ts\n");

/***/ }),

/***/ "./src/move_icon.ts":
/*!**************************!*\
  !*** ./src/move_icon.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveIcon: () => (/* binding */ MoveIcon)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _move_indicator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./move_indicator */ \"./src/move_indicator.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n/**\n * Invisible icon that acts as an anchor for a move indicator bubble.\n */\nclass MoveIcon {\n    /**\n     * Creates a new MoveIcon instance.\n     *\n     * @param sourceBlock The block this icon is attached to.\n     */\n    constructor(sourceBlock) {\n        this.sourceBlock = sourceBlock;\n        this.moveIndicator = new _move_indicator__WEBPACK_IMPORTED_MODULE_1__.MoveIndicatorBubble(this.sourceBlock);\n    }\n    /**\n     * Returns the type of this icon.\n     */\n    getType() {\n        return MoveIcon.type;\n    }\n    /**\n     * Returns the weight of this icon, which controls its position relative to\n     * other icons.\n     *\n     * @returns The weight of this icon.\n     */\n    getWeight() {\n        return -1;\n    }\n    /**\n     * Returns the size of this icon.\n     *\n     * @returns A rect with negative width and no height to offset the default\n     *     padding applied to icons.\n     */\n    getSize() {\n        // Awful hack to cancel out the default padding added to icons.\n        return new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Size(-8, 0);\n    }\n    /**\n     * Returns whether this icon is visible when its parent block is collapsed.\n     *\n     * @returns False since this icon is never visible.\n     */\n    isShownWhenCollapsed() {\n        return false;\n    }\n    /**\n     * Returns whether this icon can be clicked in the flyout.\n     *\n     * @returns False since this icon is invisible and not clickable.\n     */\n    isClickableInFlyout() {\n        return false;\n    }\n    /**\n     * Returns whether this icon's attached bubble is visible.\n     *\n     * @returns True because this icon only exists to host its bubble.\n     */\n    bubbleIsVisible() {\n        return true;\n    }\n    /**\n     * Returns this icon's bubble.\n     */\n    getBubble() {\n        return this.moveIndicator;\n    }\n    /**\n     * Called when the location of this icon's block changes.\n     *\n     * @param blockOrigin The new location of this icon's block.\n     */\n    onLocationChange(blockOrigin) {\n        var _a;\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.updateLocation();\n    }\n    /**\n     * Disposes of this icon.\n     */\n    dispose() {\n        var _a;\n        (_a = this.moveIndicator) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    // These methods are required by the interfaces, but intentionally have no\n    // implementation, largely because this icon has no visual representation.\n    applyColour() { }\n    hideForInsertionMarker() { }\n    updateEditable() { }\n    updateCollapsed() { }\n    setOffsetInBlock() { }\n    onClick() { }\n    setBubbleVisible(visible) {\n        return __awaiter(this, void 0, void 0, function* () { });\n    }\n    initView(pointerDownListener) { }\n    /** See IFocusableNode.getFocusableElement. */\n    getFocusableElement() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.getFocusableTree. */\n    getFocusableTree() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.onNodeFocus. */\n    onNodeFocus() { }\n    /** See IFocusableNode.onNodeBlur. */\n    onNodeBlur() { }\n    /** See IFocusableNode.canBeFocused. */\n    canBeFocused() {\n        return false;\n    }\n}\nMoveIcon.type = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.icons.IconType('moveIndicator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW92ZV9pY29uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0dBSUc7Ozs7Ozs7Ozs7QUFFcUM7QUFDYTtBQUVyRDs7R0FFRztBQUNJLE1BQU0sUUFBUTtJQUluQjs7OztPQUlHO0lBQ0gsWUFBb0IsV0FBNkI7UUFBN0IsZ0JBQVcsR0FBWCxXQUFXLENBQWtCO1FBQy9DLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxnRUFBbUIsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTztRQUNMLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQztJQUN2QixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxTQUFTO1FBQ1AsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILE9BQU87UUFDTCwrREFBK0Q7UUFDL0QsT0FBTyxJQUFJLCtDQUFhLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsb0JBQW9CO1FBQ2xCLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxtQkFBbUI7UUFDakIsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILGVBQWU7UUFDYixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDNUIsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxnQkFBZ0IsQ0FBQyxXQUFxQzs7UUFDcEQsVUFBSSxDQUFDLGFBQWEsMENBQUUsY0FBYyxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTzs7UUFDTCxVQUFJLENBQUMsYUFBYSwwQ0FBRSxPQUFPLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsMEVBQTBFO0lBQzFFLDBFQUEwRTtJQUMxRSxXQUFXLEtBQUksQ0FBQztJQUVoQixzQkFBc0IsS0FBSSxDQUFDO0lBRTNCLGNBQWMsS0FBSSxDQUFDO0lBRW5CLGVBQWUsS0FBSSxDQUFDO0lBRXBCLGdCQUFnQixLQUFJLENBQUM7SUFFckIsT0FBTyxLQUFJLENBQUM7SUFFTixnQkFBZ0IsQ0FBQyxPQUFnQjs4REFBRyxDQUFDO0tBQUE7SUFFM0MsUUFBUSxDQUFDLG1CQUE4QyxJQUFHLENBQUM7SUFFM0QsOENBQThDO0lBQzlDLG1CQUFtQjtRQUNqQixNQUFNLElBQUksS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELDJDQUEyQztJQUMzQyxnQkFBZ0I7UUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELHNDQUFzQztJQUN0QyxXQUFXLEtBQVUsQ0FBQztJQUV0QixxQ0FBcUM7SUFDckMsVUFBVSxLQUFVLENBQUM7SUFFckIsdUNBQXVDO0lBQ3ZDLFlBQVk7UUFDVixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7O0FBOUhlLGFBQUksR0FBRyxJQUFJLCtDQUFhLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9tb3ZlX2ljb24udHM/OTk3YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7TW92ZUluZGljYXRvckJ1YmJsZX0gZnJvbSAnLi9tb3ZlX2luZGljYXRvcic7XG5cbi8qKlxuICogSW52aXNpYmxlIGljb24gdGhhdCBhY3RzIGFzIGFuIGFuY2hvciBmb3IgYSBtb3ZlIGluZGljYXRvciBidWJibGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb3ZlSWNvbiBpbXBsZW1lbnRzIEJsb2NrbHkuSUljb24sIEJsb2NrbHkuSUhhc0J1YmJsZSB7XG4gIHByaXZhdGUgbW92ZUluZGljYXRvcjogTW92ZUluZGljYXRvckJ1YmJsZTtcbiAgc3RhdGljIHJlYWRvbmx5IHR5cGUgPSBuZXcgQmxvY2tseS5pY29ucy5JY29uVHlwZSgnbW92ZUluZGljYXRvcicpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IE1vdmVJY29uIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gc291cmNlQmxvY2sgVGhlIGJsb2NrIHRoaXMgaWNvbiBpcyBhdHRhY2hlZCB0by5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc291cmNlQmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcpIHtcbiAgICB0aGlzLm1vdmVJbmRpY2F0b3IgPSBuZXcgTW92ZUluZGljYXRvckJ1YmJsZSh0aGlzLnNvdXJjZUJsb2NrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB0eXBlIG9mIHRoaXMgaWNvbi5cbiAgICovXG4gIGdldFR5cGUoKTogQmxvY2tseS5pY29ucy5JY29uVHlwZTxNb3ZlSWNvbj4ge1xuICAgIHJldHVybiBNb3ZlSWNvbi50eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHdlaWdodCBvZiB0aGlzIGljb24sIHdoaWNoIGNvbnRyb2xzIGl0cyBwb3NpdGlvbiByZWxhdGl2ZSB0b1xuICAgKiBvdGhlciBpY29ucy5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHdlaWdodCBvZiB0aGlzIGljb24uXG4gICAqL1xuICBnZXRXZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGlzIGljb24uXG4gICAqXG4gICAqIEByZXR1cm5zIEEgcmVjdCB3aXRoIG5lZ2F0aXZlIHdpZHRoIGFuZCBubyBoZWlnaHQgdG8gb2Zmc2V0IHRoZSBkZWZhdWx0XG4gICAqICAgICBwYWRkaW5nIGFwcGxpZWQgdG8gaWNvbnMuXG4gICAqL1xuICBnZXRTaXplKCk6IEJsb2NrbHkudXRpbHMuU2l6ZSB7XG4gICAgLy8gQXdmdWwgaGFjayB0byBjYW5jZWwgb3V0IHRoZSBkZWZhdWx0IHBhZGRpbmcgYWRkZWQgdG8gaWNvbnMuXG4gICAgcmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLlNpemUoLTgsIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGlzIGljb24gaXMgdmlzaWJsZSB3aGVuIGl0cyBwYXJlbnQgYmxvY2sgaXMgY29sbGFwc2VkLlxuICAgKlxuICAgKiBAcmV0dXJucyBGYWxzZSBzaW5jZSB0aGlzIGljb24gaXMgbmV2ZXIgdmlzaWJsZS5cbiAgICovXG4gIGlzU2hvd25XaGVuQ29sbGFwc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBpY29uIGNhbiBiZSBjbGlja2VkIGluIHRoZSBmbHlvdXQuXG4gICAqXG4gICAqIEByZXR1cm5zIEZhbHNlIHNpbmNlIHRoaXMgaWNvbiBpcyBpbnZpc2libGUgYW5kIG5vdCBjbGlja2FibGUuXG4gICAqL1xuICBpc0NsaWNrYWJsZUluRmx5b3V0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBpY29uJ3MgYXR0YWNoZWQgYnViYmxlIGlzIHZpc2libGUuXG4gICAqXG4gICAqIEByZXR1cm5zIFRydWUgYmVjYXVzZSB0aGlzIGljb24gb25seSBleGlzdHMgdG8gaG9zdCBpdHMgYnViYmxlLlxuICAgKi9cbiAgYnViYmxlSXNWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhpcyBpY29uJ3MgYnViYmxlLlxuICAgKi9cbiAgZ2V0QnViYmxlKCk6IEJsb2NrbHkuSUJ1YmJsZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLm1vdmVJbmRpY2F0b3I7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIGxvY2F0aW9uIG9mIHRoaXMgaWNvbidzIGJsb2NrIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja09yaWdpbiBUaGUgbmV3IGxvY2F0aW9uIG9mIHRoaXMgaWNvbidzIGJsb2NrLlxuICAgKi9cbiAgb25Mb2NhdGlvbkNoYW5nZShibG9ja09yaWdpbjogQmxvY2tseS51dGlscy5Db29yZGluYXRlKSB7XG4gICAgdGhpcy5tb3ZlSW5kaWNhdG9yPy51cGRhdGVMb2NhdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIG9mIHRoaXMgaWNvbi5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5tb3ZlSW5kaWNhdG9yPy5kaXNwb3NlKCk7XG4gIH1cblxuICAvLyBUaGVzZSBtZXRob2RzIGFyZSByZXF1aXJlZCBieSB0aGUgaW50ZXJmYWNlcywgYnV0IGludGVudGlvbmFsbHkgaGF2ZSBub1xuICAvLyBpbXBsZW1lbnRhdGlvbiwgbGFyZ2VseSBiZWNhdXNlIHRoaXMgaWNvbiBoYXMgbm8gdmlzdWFsIHJlcHJlc2VudGF0aW9uLlxuICBhcHBseUNvbG91cigpIHt9XG5cbiAgaGlkZUZvckluc2VydGlvbk1hcmtlcigpIHt9XG5cbiAgdXBkYXRlRWRpdGFibGUoKSB7fVxuXG4gIHVwZGF0ZUNvbGxhcHNlZCgpIHt9XG5cbiAgc2V0T2Zmc2V0SW5CbG9jaygpIHt9XG5cbiAgb25DbGljaygpIHt9XG5cbiAgYXN5bmMgc2V0QnViYmxlVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKSB7fVxuXG4gIGluaXRWaWV3KHBvaW50ZXJEb3duTGlzdGVuZXI6IChlOiBQb2ludGVyRXZlbnQpID0+IHZvaWQpIHt9XG5cbiAgLyoqIFNlZSBJRm9jdXNhYmxlTm9kZS5nZXRGb2N1c2FibGVFbGVtZW50LiAqL1xuICBnZXRGb2N1c2FibGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG5vZGUgaXMgbm90IGZvY3VzYWJsZS4nKTtcbiAgfVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUuZ2V0Rm9jdXNhYmxlVHJlZS4gKi9cbiAgZ2V0Rm9jdXNhYmxlVHJlZSgpOiBCbG9ja2x5LklGb2N1c2FibGVUcmVlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbm9kZSBpcyBub3QgZm9jdXNhYmxlLicpO1xuICB9XG5cbiAgLyoqIFNlZSBJRm9jdXNhYmxlTm9kZS5vbk5vZGVGb2N1cy4gKi9cbiAgb25Ob2RlRm9jdXMoKTogdm9pZCB7fVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUub25Ob2RlQmx1ci4gKi9cbiAgb25Ob2RlQmx1cigpOiB2b2lkIHt9XG5cbiAgLyoqIFNlZSBJRm9jdXNhYmxlTm9kZS5jYW5CZUZvY3VzZWQuICovXG4gIGNhbkJlRm9jdXNlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/move_icon.ts\n");

/***/ }),

/***/ "./src/move_indicator.ts":
/*!*******************************!*\
  !*** ./src/move_indicator.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveIndicatorBubble: () => (/* binding */ MoveIndicatorBubble)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Bubble that displays a four-way arrow attached to a block to indicate that\n * it is in move mode.\n */\nclass MoveIndicatorBubble {\n    /**\n     * Creates a new move indicator bubble.\n     *\n     * @param sourceBlock The block this bubble should be associated with.\n     */\n    /* eslint-disable @typescript-eslint/naming-convention */\n    constructor(sourceElement) {\n        this.sourceElement = sourceElement;\n        /**\n         * The location of this bubble in workspace coordinates.\n         */\n        this.location = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(0, 0);\n        const workspace = sourceElement.workspace;\n        this.svgRoot = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement(blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Svg.G, {}, workspace.getBubbleCanvas());\n        this.svgRoot.classList.add('blocklyMoveIndicatorBubble');\n        const rtl = workspace.RTL;\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement(blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Svg.CIRCLE, {\n            'fill': 'white',\n            'fill-opacity': '0.8',\n            'stroke': 'grey',\n            'stroke-width': '1',\n            'r': 20,\n            'cx': 20 * (rtl ? -1 : 1),\n            'cy': 20,\n        }, this.svgRoot);\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.createSvgElement(blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Svg.PATH, {\n            'fill': 'none',\n            'stroke': 'black',\n            'stroke-linecap': 'round',\n            'stroke-linejoin': 'round',\n            'stroke-width': '2',\n            'd': 'm18 9l3 3l-3 3m-3-3h6M6 9l-3 3l3 3m-3-3h6m0 6l3 3l3-3m-3-3v6m3-15l-3-3l-3 3m3-3v6',\n            'transform': `translate(${(rtl ? -4 : 1) * 8} 8)`,\n        }, this.svgRoot);\n        this.updateLocation();\n    }\n    /**\n     * Returns whether this bubble is movable by the user.\n     *\n     * @returns Always returns false.\n     */\n    isMovable() {\n        return false;\n    }\n    /**\n     * Returns the root SVG element for this bubble.\n     *\n     * @returns The root SVG element.\n     */\n    getSvgRoot() {\n        return this.svgRoot;\n    }\n    /**\n     * Recalculates this bubble's location, keeping it adjacent to its block.\n     */\n    updateLocation() {\n        var _a;\n        const bounds = this.sourceElement instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg\n            ? this.sourceElement.getBoundingRectangleWithoutChildren()\n            : this.sourceElement.getBoundingRectangle();\n        const x = this.sourceElement.workspace.RTL\n            ? bounds.left + 20\n            : bounds.right - 20;\n        const y = bounds.top - 20;\n        this.moveTo(x, y);\n        (_a = this.sourceElement.workspace\n            .getLayerManager()) === null || _a === void 0 ? void 0 : _a.moveToDragLayer(this);\n    }\n    /**\n     * Moves this bubble to the specified location.\n     *\n     * @param x The location on the X axis to move to.\n     * @param y The location on the Y axis to move to.\n     */\n    moveTo(x, y) {\n        this.location.x = x;\n        this.location.y = y;\n        this.svgRoot.setAttribute('transform', `translate(${x}, ${y})`);\n    }\n    /**\n     * Returns this bubble's location in workspace coordinates.\n     *\n     * @returns The bubble's location.\n     */\n    getRelativeToSurfaceXY() {\n        return this.location;\n    }\n    /**\n     * Disposes of this move indicator bubble.\n     */\n    dispose() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.dom.removeNode(this.svgRoot);\n    }\n    // These methods are required by the interfaces, but intentionally have no\n    // implementation, largely because this bubble's location is fixed relative\n    // to its block and is not draggable by the user.\n    showContextMenu() { }\n    setDragging(dragging) { }\n    startDrag(event) { }\n    drag(newLocation, event) { }\n    moveDuringDrag(newLocation) { }\n    endDrag() { }\n    revertDrag() { }\n    setDeleteStyle(enable) { }\n    /** See IFocusableNode.getFocusableElement. */\n    getFocusableElement() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.getFocusableTree. */\n    getFocusableTree() {\n        throw new Error('This node is not focusable.');\n    }\n    /** See IFocusableNode.onNodeFocus. */\n    onNodeFocus() { }\n    /** See IFocusableNode.onNodeBlur. */\n    onNodeBlur() { }\n    /** See IFocusableNode.canBeFocused. */\n    canBeFocused() {\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQztJQUV0QixxQ0FBcUM7SUFDckMsVUFBVSxLQUFVLENBQUM7SUFFckIsdUNBQXVDO0lBQ3ZDLFlBQVk7UUFDVixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvbW92ZV9pbmRpY2F0b3IudHM/YWFhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuLyoqXG4gKiBCdWJibGUgdGhhdCBkaXNwbGF5cyBhIGZvdXItd2F5IGFycm93IGF0dGFjaGVkIHRvIGEgYmxvY2sgdG8gaW5kaWNhdGUgdGhhdFxuICogaXQgaXMgaW4gbW92ZSBtb2RlLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZUluZGljYXRvckJ1YmJsZVxuICBpbXBsZW1lbnRzIEJsb2NrbHkuSUJ1YmJsZSwgQmxvY2tseS5JUmVuZGVyZWRFbGVtZW50XG57XG4gIC8qKlxuICAgKiBSb290IFNWRyBlbGVtZW50IGZvciB0aGlzIGJ1YmJsZS5cbiAgICovXG4gIHN2Z1Jvb3Q6IFNWR0dFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBUaGUgbG9jYXRpb24gb2YgdGhpcyBidWJibGUgaW4gd29ya3NwYWNlIGNvb3JkaW5hdGVzLlxuICAgKi9cbiAgbG9jYXRpb24gPSBuZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKDAsIDApO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG1vdmUgaW5kaWNhdG9yIGJ1YmJsZS5cbiAgICpcbiAgICogQHBhcmFtIHNvdXJjZUJsb2NrIFRoZSBibG9jayB0aGlzIGJ1YmJsZSBzaG91bGQgYmUgYXNzb2NpYXRlZCB3aXRoLlxuICAgKi9cbiAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgc291cmNlRWxlbWVudDogQmxvY2tseS5JU2VsZWN0YWJsZSAmIEJsb2NrbHkuSUJvdW5kZWRFbGVtZW50LFxuICApIHtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBzb3VyY2VFbGVtZW50LndvcmtzcGFjZSBhcyBCbG9ja2x5LldvcmtzcGFjZVN2ZztcbiAgICB0aGlzLnN2Z1Jvb3QgPSBCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFxuICAgICAgQmxvY2tseS51dGlscy5TdmcuRyxcbiAgICAgIHt9LFxuICAgICAgd29ya3NwYWNlLmdldEJ1YmJsZUNhbnZhcygpLFxuICAgICk7XG4gICAgdGhpcy5zdmdSb290LmNsYXNzTGlzdC5hZGQoJ2Jsb2NrbHlNb3ZlSW5kaWNhdG9yQnViYmxlJyk7XG4gICAgY29uc3QgcnRsID0gd29ya3NwYWNlLlJUTDtcbiAgICBCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFxuICAgICAgQmxvY2tseS51dGlscy5TdmcuQ0lSQ0xFLFxuICAgICAge1xuICAgICAgICAnZmlsbCc6ICd3aGl0ZScsXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAnMC44JyxcbiAgICAgICAgJ3N0cm9rZSc6ICdncmV5JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcxJyxcbiAgICAgICAgJ3InOiAyMCxcbiAgICAgICAgJ2N4JzogMjAgKiAocnRsID8gLTEgOiAxKSxcbiAgICAgICAgJ2N5JzogMjAsXG4gICAgICB9LFxuICAgICAgdGhpcy5zdmdSb290LFxuICAgICk7XG4gICAgQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcbiAgICAgIEJsb2NrbHkudXRpbHMuU3ZnLlBBVEgsXG4gICAgICB7XG4gICAgICAgICdmaWxsJzogJ25vbmUnLFxuICAgICAgICAnc3Ryb2tlJzogJ2JsYWNrJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lam9pbic6ICdyb3VuZCcsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAnMicsXG4gICAgICAgICdkJzogJ20xOCA5bDMgM2wtMyAzbS0zLTNoNk02IDlsLTMgM2wzIDNtLTMtM2g2bTAgNmwzIDNsMy0zbS0zLTN2Nm0zLTE1bC0zLTNsLTMgM20zLTN2NicsXG4gICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7KHJ0bCA/IC00IDogMSkgKiA4fSA4KWAsXG4gICAgICB9LFxuICAgICAgdGhpcy5zdmdSb290LFxuICAgICk7XG5cbiAgICB0aGlzLnVwZGF0ZUxvY2F0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgYnViYmxlIGlzIG1vdmFibGUgYnkgdGhlIHVzZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIEFsd2F5cyByZXR1cm5zIGZhbHNlLlxuICAgKi9cbiAgaXNNb3ZhYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb290IFNWRyBlbGVtZW50IGZvciB0aGlzIGJ1YmJsZS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHJvb3QgU1ZHIGVsZW1lbnQuXG4gICAqL1xuICBnZXRTdmdSb290KCk6IFNWR0dFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5zdmdSb290O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlcyB0aGlzIGJ1YmJsZSdzIGxvY2F0aW9uLCBrZWVwaW5nIGl0IGFkamFjZW50IHRvIGl0cyBibG9jay5cbiAgICovXG4gIHVwZGF0ZUxvY2F0aW9uKCkge1xuICAgIGNvbnN0IGJvdW5kcyA9XG4gICAgICB0aGlzLnNvdXJjZUVsZW1lbnQgaW5zdGFuY2VvZiBCbG9ja2x5LkJsb2NrU3ZnXG4gICAgICAgID8gdGhpcy5zb3VyY2VFbGVtZW50LmdldEJvdW5kaW5nUmVjdGFuZ2xlV2l0aG91dENoaWxkcmVuKClcbiAgICAgICAgOiB0aGlzLnNvdXJjZUVsZW1lbnQuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtcbiAgICBjb25zdCB4ID0gdGhpcy5zb3VyY2VFbGVtZW50LndvcmtzcGFjZS5SVExcbiAgICAgID8gYm91bmRzLmxlZnQgKyAyMFxuICAgICAgOiBib3VuZHMucmlnaHQgLSAyMDtcbiAgICBjb25zdCB5ID0gYm91bmRzLnRvcCAtIDIwO1xuICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuICAgICh0aGlzLnNvdXJjZUVsZW1lbnQud29ya3NwYWNlIGFzIEJsb2NrbHkuV29ya3NwYWNlU3ZnKVxuICAgICAgLmdldExheWVyTWFuYWdlcigpXG4gICAgICA/Lm1vdmVUb0RyYWdMYXllcih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlcyB0aGlzIGJ1YmJsZSB0byB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geCBUaGUgbG9jYXRpb24gb24gdGhlIFggYXhpcyB0byBtb3ZlIHRvLlxuICAgKiBAcGFyYW0geSBUaGUgbG9jYXRpb24gb24gdGhlIFkgYXhpcyB0byBtb3ZlIHRvLlxuICAgKi9cbiAgbW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5sb2NhdGlvbi54ID0geDtcbiAgICB0aGlzLmxvY2F0aW9uLnkgPSB5O1xuICAgIHRoaXMuc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4fSwgJHt5fSlgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoaXMgYnViYmxlJ3MgbG9jYXRpb24gaW4gd29ya3NwYWNlIGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgYnViYmxlJ3MgbG9jYXRpb24uXG4gICAqL1xuICBnZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk6IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYXRpb247XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgb2YgdGhpcyBtb3ZlIGluZGljYXRvciBidWJibGUuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIEJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUodGhpcy5zdmdSb290KTtcbiAgfVxuXG4gIC8vIFRoZXNlIG1ldGhvZHMgYXJlIHJlcXVpcmVkIGJ5IHRoZSBpbnRlcmZhY2VzLCBidXQgaW50ZW50aW9uYWxseSBoYXZlIG5vXG4gIC8vIGltcGxlbWVudGF0aW9uLCBsYXJnZWx5IGJlY2F1c2UgdGhpcyBidWJibGUncyBsb2NhdGlvbiBpcyBmaXhlZCByZWxhdGl2ZVxuICAvLyB0byBpdHMgYmxvY2sgYW5kIGlzIG5vdCBkcmFnZ2FibGUgYnkgdGhlIHVzZXIuXG4gIHNob3dDb250ZXh0TWVudSgpIHt9XG5cbiAgc2V0RHJhZ2dpbmcoZHJhZ2dpbmc6IGJvb2xlYW4pIHt9XG5cbiAgc3RhcnREcmFnKGV2ZW50OiBQb2ludGVyRXZlbnQpIHt9XG5cbiAgZHJhZyhuZXdMb2NhdGlvbjogQmxvY2tseS51dGlscy5Db29yZGluYXRlLCBldmVudDogUG9pbnRlckV2ZW50KSB7fVxuXG4gIG1vdmVEdXJpbmdEcmFnKG5ld0xvY2F0aW9uOiBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUpIHt9XG5cbiAgZW5kRHJhZygpIHt9XG5cbiAgcmV2ZXJ0RHJhZygpIHt9XG5cbiAgc2V0RGVsZXRlU3R5bGUoZW5hYmxlOiBib29sZWFuKSB7fVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUuZ2V0Rm9jdXNhYmxlRWxlbWVudC4gKi9cbiAgZ2V0Rm9jdXNhYmxlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBub2RlIGlzIG5vdCBmb2N1c2FibGUuJyk7XG4gIH1cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLmdldEZvY3VzYWJsZVRyZWUuICovXG4gIGdldEZvY3VzYWJsZVRyZWUoKTogQmxvY2tseS5JRm9jdXNhYmxlVHJlZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG5vZGUgaXMgbm90IGZvY3VzYWJsZS4nKTtcbiAgfVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUub25Ob2RlRm9jdXMuICovXG4gIG9uTm9kZUZvY3VzKCk6IHZvaWQge31cblxuICAvKiogU2VlIElGb2N1c2FibGVOb2RlLm9uTm9kZUJsdXIuICovXG4gIG9uTm9kZUJsdXIoKTogdm9pZCB7fVxuXG4gIC8qKiBTZWUgSUZvY3VzYWJsZU5vZGUuY2FuQmVGb2N1c2VkLiAqL1xuICBjYW5CZUZvY3VzZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/move_indicator.ts\n");

/***/ }),

/***/ "./src/navigation.ts":
/*!***************************!*\
  !*** ./src/navigation.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Navigation: () => (/* binding */ Navigation)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _flyout_cursor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flyout_cursor */ \"./src/flyout_cursor.ts\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Holds all methods necessary to use Blockly through the\n * keyboard.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n/**\n * Class that holds all methods necessary for keyboard navigation to work.\n */\nclass Navigation {\n    /**\n     * Constructor for keyboard navigation.\n     */\n    constructor() {\n        /**\n         * The list of registered workspaces.\n         * Used when removing change listeners in dispose.\n         */\n        this.workspaces = [];\n        this.wsChangeWrapper = this.workspaceChangeListener.bind(this);\n        this.flyoutChangeWrapper = this.flyoutChangeListener.bind(this);\n    }\n    /**\n     * Adds all necessary change listeners and markers to a workspace for keyboard\n     * navigation to work. This must be called for keyboard navigation to work\n     * on a workspace.\n     *\n     * @param workspace The workspace to add keyboard navigation to.\n     */\n    addWorkspace(workspace) {\n        this.workspaces.push(workspace);\n        const flyout = workspace.getFlyout();\n        workspace.addChangeListener(this.wsChangeWrapper);\n        if (flyout) {\n            this.addFlyout(flyout);\n        }\n    }\n    /**\n     * Removes all keyboard navigation change listeners and markers.\n     *\n     * @param workspace The workspace to remove keyboard navigation from.\n     */\n    removeWorkspace(workspace) {\n        const workspaceIdx = this.workspaces.indexOf(workspace);\n        const flyout = workspace.getFlyout();\n        this.disableKeyboardAccessibility(workspace);\n        if (workspaceIdx > -1) {\n            this.workspaces.splice(workspaceIdx, 1);\n        }\n        workspace.removeChangeListener(this.wsChangeWrapper);\n        if (flyout) {\n            this.removeFlyout(flyout);\n        }\n    }\n    /**\n     * Gets the navigation state of the current workspace.\n     *\n     * Note that this assumes a workspace with passive focus (including for its\n     * toolbox or flyout) has a state of NOWHERE.\n     *\n     * @returns The state of the given workspace.\n     */\n    getState() {\n        const focusManager = blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager();\n        if (focusManager.ephemeralFocusTaken()) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.NOWHERE;\n        }\n        const focusedTree = focusManager.getFocusedTree();\n        if (focusedTree instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            if (focusedTree.isFlyout) {\n                return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT;\n            }\n            else {\n                return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE;\n            }\n        }\n        else if (focusedTree instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.TOOLBOX;\n        }\n        else if (focusedTree instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Flyout) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT;\n        }\n        // Either a non-Blockly element currently has DOM focus, or a different\n        // workspace holds it.\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.NOWHERE;\n    }\n    /**\n     * Adds all event listeners and cursors to the flyout that are needed for\n     * keyboard navigation to work.\n     *\n     * @param flyout The flyout to add a cursor and change listeners to.\n     */\n    addFlyout(flyout) {\n        const flyoutWorkspace = flyout.getWorkspace();\n        flyoutWorkspace.addChangeListener(this.flyoutChangeWrapper);\n        const FlyoutCursorClass = blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.getClass(_flyout_cursor__WEBPACK_IMPORTED_MODULE_2__.registrationType, _flyout_cursor__WEBPACK_IMPORTED_MODULE_2__.registrationName);\n        if (FlyoutCursorClass) {\n            flyoutWorkspace\n                .getMarkerManager()\n                .setCursor(new FlyoutCursorClass(flyout));\n        }\n    }\n    /**\n     * Removes all change listeners from the flyout that are needed for\n     * keyboard navigation to work.\n     *\n     * @param flyout The flyout to add a cursor and event listeners to.\n     */\n    removeFlyout(flyout) {\n        const flyoutWorkspace = flyout.getWorkspace();\n        flyoutWorkspace.removeChangeListener(this.flyoutChangeWrapper);\n    }\n    /**\n     * Updates the state of keyboard navigation and the position of the cursor\n     * based on workspace events.\n     *\n     * @param e The Blockly event to process.\n     */\n    workspaceChangeListener(e) {\n        if (!e.workspaceId) {\n            return;\n        }\n        const workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Workspace.getById(e.workspaceId);\n        if (!workspace || !workspace.keyboardAccessibilityMode) {\n            return;\n        }\n        if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.BLOCK_CHANGE) {\n            if (e.element === 'mutation') {\n                this.handleBlockMutation(workspace, e);\n            }\n        }\n    }\n    /**\n     * Updates the state of keyboard navigation and the position of the cursor\n     * based on events emitted from the flyout's workspace.\n     *\n     * @param e The Blockly event to process.\n     */\n    flyoutChangeListener(e) {\n        if (!e.workspaceId) {\n            return;\n        }\n        const flyoutWorkspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Workspace.getById(e.workspaceId);\n        const mainWorkspace = flyoutWorkspace === null || flyoutWorkspace === void 0 ? void 0 : flyoutWorkspace.targetWorkspace;\n        if (!mainWorkspace) {\n            return;\n        }\n        const flyout = mainWorkspace.getFlyout();\n        if (!flyout) {\n            return;\n        }\n        // This is called for simple toolboxes and for toolboxes that have a flyout\n        // that does not close. Autoclosing flyouts close before we need to focus\n        // the cursor on the block that was clicked.\n        if (mainWorkspace &&\n            mainWorkspace.keyboardAccessibilityMode &&\n            !flyout.autoClose) {\n            if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.CLICK &&\n                e.targetType === 'block') {\n                const { blockId } = e;\n                if (blockId) {\n                    const block = flyoutWorkspace.getBlockById(blockId);\n                    if (block) {\n                        this.handleBlockClickInFlyout(mainWorkspace, block);\n                    }\n                }\n            }\n            else if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.SELECTED) {\n                const { newElementId } = e;\n                if (newElementId) {\n                    const block = flyoutWorkspace.getBlockById(newElementId);\n                    if (block) {\n                        this.handleBlockClickInFlyout(mainWorkspace, block);\n                    }\n                }\n            }\n        }\n        else if (e.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.BLOCK_CREATE &&\n            this.getState() === _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.FLYOUT) {\n            // When variables are created, that recreates the flyout contents, leaving the\n            // cursor in an invalid state.\n            this.defaultFlyoutCursorIfNeeded(mainWorkspace);\n        }\n    }\n    isFlyoutItemDisposed(node, sourceBlock) {\n        if (sourceBlock === null || sourceBlock === void 0 ? void 0 : sourceBlock.disposed) {\n            return true;\n        }\n        if (node instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.FlyoutButton) {\n            return node.getSvgRoot().parentNode === null;\n        }\n        return false;\n    }\n    /**\n     * Moves the cursor to the block level when the block the cursor is on\n     * mutates.\n     *\n     * @param workspace The workspace the cursor belongs\n     *     to.\n     * @param e The Blockly event to process.\n     */\n    handleBlockMutation(workspace, e) {\n        const mutatedBlockId = e.blockId;\n        const cursor = workspace.getCursor();\n        const block = cursor.getSourceBlock();\n        if (block && block.id === mutatedBlockId) {\n            cursor.setCurNode(block);\n        }\n    }\n    /**\n     * Handles when a user clicks on a block in the flyout by moving the cursor\n     * to that stack of blocks and setting the state of navigation to the flyout.\n     *\n     * @param mainWorkspace The workspace the user clicked on.\n     * @param block The block the user clicked on.\n     */\n    handleBlockClickInFlyout(mainWorkspace, block) {\n        var _a;\n        if (!block) {\n            return;\n        }\n        const curNodeBlock = block.isShadow() ? block : block.getParent();\n        if (curNodeBlock) {\n            (_a = this.getFlyoutCursor(mainWorkspace)) === null || _a === void 0 ? void 0 : _a.setCurNode(curNodeBlock);\n        }\n        const flyout = mainWorkspace.getFlyout();\n        if (flyout) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(flyout.getWorkspace());\n        }\n    }\n    /**\n     * Move the flyout cursor to the preferred end if unset (as it is initially despite\n     * the types) or on a disposed item.\n     *\n     * @param workspace The workspace.\n     * @param prefer The preferred default position.\n     * @return true if the cursor location was defaulted.\n     */\n    defaultFlyoutCursorIfNeeded(workspace, prefer = 'first') {\n        const flyout = workspace.getFlyout();\n        if (!flyout)\n            return false;\n        const flyoutCursor = this.getFlyoutCursor(workspace);\n        if (!flyoutCursor)\n            return false;\n        const curNode = flyoutCursor.getCurNode();\n        const sourceBlock = flyoutCursor.getSourceBlock();\n        // If the current node is a child of the flyout, nothing needs to be done.\n        if (curNode &&\n            curNode !== flyout.getWorkspace() &&\n            curNode.getFocusableTree() === flyout.getWorkspace() &&\n            !this.isFlyoutItemDisposed(curNode, sourceBlock)) {\n            return false;\n        }\n        const flyoutContents = flyout.getContents();\n        const defaultFlyoutItem = prefer === 'first'\n            ? flyoutContents[0]\n            : flyoutContents[flyoutContents.length - 1];\n        if (!defaultFlyoutItem)\n            return false;\n        const defaultFlyoutItemElement = defaultFlyoutItem.getElement();\n        flyoutCursor.setCurNode(defaultFlyoutItemElement);\n        return true;\n    }\n    /**\n     * Sets the cursor location when focusing the workspace.\n     * Tries the following, in order, stopping after the first success:\n     *  - Resume editing by returning the cursor to its previous location, if valid.\n     *  - Move the cursor to the top connection point on on the first top block.\n     *  - Move the cursor to the default location on the workspace.\n     *\n     * @param workspace The main Blockly workspace.\n     * @param prefer The preferred default position.\n     * @return true if the cursor location was defaulted.\n     */\n    defaultWorkspaceCursorPositionIfNeeded(workspace, prefer = 'first') {\n        var _a;\n        const topBlocks = workspace.getTopBlocks(true);\n        const cursor = workspace.getCursor();\n        const disposed = (_a = cursor.getSourceBlock()) === null || _a === void 0 ? void 0 : _a.disposed;\n        if (cursor.getCurNode() && !disposed) {\n            // Retain the cursor's previous position since it's set, but only if not\n            // disposed (which can happen when blocks are reloaded).\n            return false;\n        }\n        if (topBlocks.length > 0) {\n            cursor.setCurNode(topBlocks[prefer === 'first' ? 0 : topBlocks.length - 1]);\n        }\n        else {\n            cursor.setCurNode(workspace);\n        }\n        return true;\n    }\n    /**\n     * Gets the cursor on the flyout's workspace.\n     *\n     * @param workspace The main workspace the flyout is on.\n     * @returns The flyout's cursor or null if no flyout exists.\n     */\n    getFlyoutCursor(workspace) {\n        const flyout = workspace.getFlyout();\n        const cursor = flyout ? flyout.getWorkspace().getCursor() : null;\n        return cursor;\n    }\n    /**\n     * Tries to intelligently connect the blocks or connections\n     * represented by the given nodes, based on node types and locations.\n     *\n     * @param stationaryNode The first node to connect.\n     * @param movingBlock The block we're moving.\n     * @returns True if the key was handled; false if something went\n     *     wrong.\n     */\n    findInsertStartPoint(stationaryNode, movingBlock) {\n        var _a, _b, _c, _d;\n        const movingHasOutput = !!movingBlock.outputConnection;\n        if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.Field) {\n            // Can't connect a block to a field, so try going up to the source block.\n            const sourceBlock = stationaryNode.getSourceBlock();\n            if (!sourceBlock)\n                return null;\n            return this.findInsertStartPoint(sourceBlock, movingBlock);\n        }\n        else if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.RenderedConnection) {\n            // Move to the block if we're trying to insert a statement block into\n            // a value connection.\n            if (!movingHasOutput &&\n                stationaryNode.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.ConnectionType.INPUT_VALUE) {\n                const sourceBlock = stationaryNode.getSourceBlock();\n                if (!sourceBlock)\n                    return null;\n                return this.findInsertStartPoint(sourceBlock, movingBlock);\n            }\n            // Connect the moving block to the stationary connection using\n            // the most plausible connection on the moving block.\n            return stationaryNode;\n        }\n        else if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.WorkspaceSvg) {\n            return null;\n        }\n        else if (stationaryNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            // 1. Connect blocks to first compatible input\n            const inputType = movingHasOutput\n                ? blockly_core__WEBPACK_IMPORTED_MODULE_0__.inputs.inputTypes.VALUE\n                : blockly_core__WEBPACK_IMPORTED_MODULE_0__.inputs.inputTypes.STATEMENT;\n            const compatibleConnections = stationaryNode.inputList\n                .filter((input) => input.type === inputType)\n                .map((input) => input.connection);\n            for (const connection of compatibleConnections) {\n                let targetConnection = connection;\n                if (inputType === blockly_core__WEBPACK_IMPORTED_MODULE_0__.inputs.inputTypes.STATEMENT) {\n                    while ((_a = targetConnection === null || targetConnection === void 0 ? void 0 : targetConnection.targetBlock()) === null || _a === void 0 ? void 0 : _a.nextConnection) {\n                        targetConnection = (_b = targetConnection === null || targetConnection === void 0 ? void 0 : targetConnection.targetBlock()) === null || _b === void 0 ? void 0 : _b.nextConnection;\n                    }\n                }\n                if (targetConnection &&\n                    movingBlock.workspace.connectionChecker.canConnect(movingHasOutput\n                        ? movingBlock.outputConnection\n                        : movingBlock.previousConnection, targetConnection, true, \n                    // Since we're connecting programmatically, we don't care how\n                    // close the blocks are when determining if they can be connected.\n                    Infinity)) {\n                    return targetConnection;\n                }\n            }\n            // 2. Connect statement blocks to next connection. Only return a next\n            // connection to which the statement block can actually connect; some\n            // may be ineligible because they are e.g. in the middle of an immovable\n            // stack.\n            if (stationaryNode.nextConnection && !movingHasOutput) {\n                let nextConnection = stationaryNode.nextConnection;\n                while (nextConnection) {\n                    if (movingBlock.workspace.connectionChecker.canConnect(movingBlock.previousConnection, nextConnection, true, \n                    // Since we're connecting programmatically, we don't care how\n                    // close the blocks are when determining if they can be connected.\n                    Infinity)) {\n                        return nextConnection;\n                    }\n                    nextConnection =\n                        (_d = (_c = nextConnection.getSourceBlock().getNextBlock()) === null || _c === void 0 ? void 0 : _c.nextConnection) !== null && _d !== void 0 ? _d : null;\n                }\n            }\n            // 3. Output connection. This will wrap around or displace.\n            if (stationaryNode.outputConnection) {\n                // Try to wrap.\n                const target = stationaryNode.outputConnection.targetConnection;\n                if (movingHasOutput && target) {\n                    return this.findInsertStartPoint(target, movingBlock);\n                }\n                else if (!movingHasOutput) {\n                    // Move to parent if we're trying to insert a statement block.\n                    const parent = stationaryNode.getParent();\n                    if (!parent)\n                        return null;\n                    return this.findInsertStartPoint(parent, movingBlock);\n                }\n                return stationaryNode.outputConnection;\n            }\n        }\n        this.warn(`Unexpected case in findInsertStartPoint ${stationaryNode}.`);\n        return null;\n    }\n    /**\n     * Tries to intelligently connect the blocks or connections\n     * represented by the given nodes, based on node types and locations.\n     *\n     * @param stationaryNode The first node to connect.\n     * @param movingBlock The block we're moving.\n     * @returns True if the connection was successful, false otherwise.\n     */\n    tryToConnectBlock(stationaryNode, movingBlock) {\n        const destConnection = this.findInsertStartPoint(stationaryNode, movingBlock);\n        if (!destConnection)\n            return false;\n        return this.insertBlock(movingBlock, destConnection);\n    }\n    /**\n     * Disconnects the child block from its parent block. No-op if the two given\n     * connections are unrelated.\n     *\n     * @param movingConnection The connection that is being moved.\n     * @param destConnection The connection to be moved to.\n     */\n    disconnectChild(movingConnection, destConnection) {\n        const movingBlock = movingConnection.getSourceBlock();\n        const destBlock = destConnection.getSourceBlock();\n        let inferiorConnection;\n        if (movingBlock.getRootBlock() === destBlock.getRootBlock()) {\n            if (movingBlock.getDescendants(false).includes(destBlock)) {\n                inferiorConnection = this.getInferiorConnection(destConnection);\n                if (inferiorConnection) {\n                    inferiorConnection.disconnect();\n                }\n            }\n            else {\n                inferiorConnection = this.getInferiorConnection(movingConnection);\n                if (inferiorConnection) {\n                    inferiorConnection.disconnect();\n                }\n            }\n        }\n    }\n    /**\n     * Tries to connect the  given connections.\n     *\n     * If the given connections are not compatible try finding compatible\n     * connections on the source blocks of the given connections.\n     *\n     * @param movingConnection The connection that is being moved.\n     * @param destConnection The connection to be moved to.\n     * @returns True if the two connections or their target connections\n     *     were connected, false otherwise.\n     */\n    connect(movingConnection, destConnection) {\n        if (!movingConnection || !destConnection) {\n            return false;\n        }\n        const movingInferior = this.getInferiorConnection(movingConnection);\n        const destSuperior = this.getSuperiorConnection(destConnection);\n        const movingSuperior = this.getSuperiorConnection(movingConnection);\n        const destInferior = this.getInferiorConnection(destConnection);\n        if (movingInferior &&\n            destSuperior &&\n            this.moveAndConnect(movingInferior, destSuperior)) {\n            return true;\n            // Try swapping the inferior and superior connections on the blocks.\n        }\n        else if (movingSuperior &&\n            destInferior &&\n            this.moveAndConnect(movingSuperior, destInferior)) {\n            return true;\n        }\n        else if (this.moveAndConnect(movingConnection, destConnection)) {\n            return true;\n        }\n        else {\n            const checker = movingConnection.getConnectionChecker();\n            const reason = checker.canConnectWithReason(movingConnection, destConnection, false);\n            this.warn('Connection failed with error: ' +\n                checker.getErrorMessage(reason, movingConnection, destConnection));\n            return false;\n        }\n    }\n    /**\n     * Finds the inferior connection on the source block if the given connection\n     * is superior.\n     *\n     * @param connection The connection trying to be connected.\n     * @returns The inferior connection or null if none exists.\n     */\n    getInferiorConnection(connection) {\n        if (!connection) {\n            return null;\n        }\n        const block = connection.getSourceBlock();\n        if (!connection.isSuperior()) {\n            return connection;\n        }\n        else if (block.previousConnection) {\n            return block.previousConnection;\n        }\n        else if (block.outputConnection) {\n            return block.outputConnection;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Finds a superior connection on the source block if the given connection is\n     * inferior.\n     *\n     * @param connection The connection trying to be connected.\n     * @returns The superior connection or null if none exists.\n     */\n    getSuperiorConnection(connection) {\n        if (!connection) {\n            return null;\n        }\n        if (connection.isSuperior()) {\n            return connection;\n        }\n        else if (connection.targetConnection) {\n            return connection.targetConnection;\n        }\n        return null;\n    }\n    /**\n     * Moves the moving connection to the target connection and connects them.\n     *\n     * @param movingConnection The connection that is being moved.\n     * @param destConnection The connection to be moved to.\n     * @returns True if the connections were connected, false otherwise.\n     */\n    moveAndConnect(movingConnection, destConnection) {\n        if (!movingConnection || !destConnection) {\n            return false;\n        }\n        const movingBlock = movingConnection.getSourceBlock();\n        const checker = movingConnection.getConnectionChecker();\n        if (checker.canConnect(movingConnection, destConnection, false) &&\n            !destConnection.getSourceBlock().isShadow()) {\n            this.disconnectChild(movingConnection, destConnection);\n            // Position the root block near the connection so it does not move the\n            // other block when they are connected.\n            if (!destConnection.isSuperior()) {\n                const rootBlock = movingBlock.getRootBlock();\n                const originalOffsetToTarget = {\n                    x: destConnection.x - movingConnection.x,\n                    y: destConnection.y - movingConnection.y,\n                };\n                const originalOffsetInBlock = movingConnection\n                    .getOffsetInBlock()\n                    .clone();\n                rootBlock.positionNearConnection(movingConnection, originalOffsetToTarget, originalOffsetInBlock);\n            }\n            destConnection.connect(movingConnection);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Tries to connect the given block to the destination connection, making an\n     * intelligent guess about which connection to use on the moving block.\n     *\n     * @param block The block to move.\n     * @param destConnection The connection to\n     *     connect to.\n     * @returns Whether the connection was successful.\n     */\n    insertBlock(block, destConnection) {\n        switch (destConnection.type) {\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.PREVIOUS_STATEMENT:\n                if (this.connect(block.nextConnection, destConnection)) {\n                    return true;\n                }\n                break;\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.NEXT_STATEMENT:\n                if (this.connect(block.previousConnection, destConnection)) {\n                    return true;\n                }\n                break;\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.INPUT_VALUE:\n                if (this.connect(block.outputConnection, destConnection)) {\n                    return true;\n                }\n                break;\n            case blockly_core__WEBPACK_IMPORTED_MODULE_0__.OUTPUT_VALUE:\n                for (let i = 0; i < block.inputList.length; i++) {\n                    const inputConnection = block.inputList[i].connection;\n                    if (inputConnection &&\n                        inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0__.INPUT_VALUE &&\n                        this.connect(inputConnection, destConnection)) {\n                        return true;\n                    }\n                }\n                // If there are no input values pass the output and destination\n                // connections to connect_ to find a way to connect the two.\n                if (block.outputConnection &&\n                    this.connect(block.outputConnection, destConnection)) {\n                    return true;\n                }\n                break;\n        }\n        this.warn('This block can not be inserted at the marked location.');\n        return false;\n    }\n    /**\n     * Enables accessibility mode.\n     *\n     * @param workspace The workspace to enable keyboard\n     *     accessibility mode on.\n     */\n    enableKeyboardAccessibility(workspace) {\n        if (this.workspaces.includes(workspace) &&\n            !workspace.keyboardAccessibilityMode) {\n            workspace.keyboardAccessibilityMode = true;\n        }\n    }\n    /**\n     * Disables accessibility mode.\n     *\n     * @param workspace The workspace to disable keyboard\n     *     accessibility mode on.\n     */\n    disableKeyboardAccessibility(workspace) {\n        if (this.workspaces.includes(workspace) &&\n            workspace.keyboardAccessibilityMode) {\n            workspace.keyboardAccessibilityMode = false;\n        }\n    }\n    /**\n     * Navigation log handler. If loggingCallback is defined, use it.\n     * Otherwise just log to the console.log.\n     *\n     * @param msg The message to log.\n     */\n    log(msg) {\n        console.log(msg);\n    }\n    /**\n     * Navigation warning handler. If loggingCallback is defined, use it.\n     * Otherwise call console.warn.\n     *\n     * @param msg The warning message.\n     */\n    warn(msg) {\n        console.warn(msg);\n    }\n    /**\n     * Navigation error handler. If loggingCallback is defined, use it.\n     * Otherwise call console.error.\n     *\n     * @param msg The error message.\n     */\n    error(msg) {\n        console.error(msg);\n    }\n    /**\n     * Save the current cursor location and open the toolbox or flyout\n     * to select and insert a block.\n     *\n     * @param workspace The active workspace.\n     */\n    openToolboxOrFlyout(workspace) {\n        const toolbox = workspace.getToolbox();\n        const flyout = workspace.getFlyout();\n        if (toolbox) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(toolbox);\n        }\n        else if (flyout) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree(flyout.getWorkspace());\n        }\n    }\n    /**\n     * Pastes the copied block to the marked location if possible or\n     * onto the workspace otherwise.\n     *\n     * @param copyData The data to paste into the workspace.\n     * @param workspace The workspace to paste the data into.\n     * @returns True if the paste was sucessful, false otherwise.\n     */\n    paste(copyData, workspace) {\n        // Do this before clipoard.paste due to cursor/focus workaround in getCurNode.\n        const targetNode = workspace.getCursor().getCurNode();\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        const block = blockly_core__WEBPACK_IMPORTED_MODULE_0__.clipboard.paste(copyData, workspace);\n        if (block) {\n            if (targetNode) {\n                this.tryToConnectBlock(targetNode, block);\n            }\n            return true;\n        }\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(false);\n        return false;\n    }\n    /**\n     * Determines whether keyboard navigation should be allowed based on the\n     * current state of the workspace.\n     *\n     * A return value of 'true' generally indicates that either the workspace,\n     * toolbox or flyout has enabled keyboard navigation and is currently in a\n     * state (e.g. focus) that can support keyboard navigation.\n     *\n     * @param workspace the workspace in which keyboard navigation may be allowed.\n     * @returns whether keyboard navigation is currently allowed.\n     */\n    canCurrentlyNavigate(workspace) {\n        var _a, _b, _c, _d;\n        // Only the main/root workspace has the accessibility mode bit set; for\n        // nested workspaces (mutators or flyouts) we need to walk up the tree.\n        // Default to the root workspace if present. Flyouts don't consider\n        // their workspaces to have a root workspace/be a nested child, so fall\n        // back to checking the target workspace's root (`.targetWorkspace` only\n        // exists on flyout workspaces) and then fall back to the target/main\n        // workspace itself.\n        const accessibilityMode = ((_d = (_c = (_a = workspace.getRootWorkspace()) !== null && _a !== void 0 ? _a : (_b = workspace.targetWorkspace) === null || _b === void 0 ? void 0 : _b.getRootWorkspace()) !== null && _c !== void 0 ? _c : workspace.targetWorkspace) !== null && _d !== void 0 ? _d : workspace).keyboardAccessibilityMode;\n        return !!accessibilityMode && this.getState() !== _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.NOWHERE;\n    }\n    /**\n     * Determines whether the provided workspace is currently keyboard navigable\n     * and editable.\n     *\n     * For the navigability criteria, see canCurrentlyKeyboardNavigate.\n     *\n     * @param workspace the workspace in which keyboard editing may be allowed.\n     * @returns whether keyboard navigation and editing is currently allowed.\n     */\n    canCurrentlyEdit(workspace) {\n        return this.canCurrentlyNavigate(workspace) && !workspace.isReadOnly();\n    }\n    /**\n     * Removes the change listeners on all registered workspaces.\n     */\n    dispose() {\n        for (const workspace of this.workspaces) {\n            this.removeWorkspace(workspace);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QStCOztRQUNsRCx1RUFBdUU7UUFDdkUsdUVBQXVFO1FBQ3ZFLG1FQUFtRTtRQUNuRSx1RUFBdUU7UUFDdkUsd0VBQXdFO1FBQ3hFLHFFQUFxRTtRQUNyRSxvQkFBb0I7UUFDcEIsTUFBTSxpQkFBaUIsR0FBRyxDQUN4QiwyQkFBUyxDQUFDLGdCQUFnQixFQUFFLG1DQUM1QixlQUFTLENBQUMsZUFBZSwwQ0FBRSxnQkFBZ0IsRUFBRSxtQ0FDN0MsU0FBUyxDQUFDLGVBQWUsbUNBQ3pCLFNBQVMsQ0FDVixDQUFDLHlCQUF5QixDQUFDO1FBQzVCLE9BQU8sQ0FBQyxDQUFDLGlCQUFpQixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyw2Q0FBZSxDQUFDLE9BQU8sQ0FBQztJQUM1RSxDQUFDO0lBRUQ7Ozs7Ozs7O09BUUc7SUFDSCxnQkFBZ0IsQ0FBQyxTQUErQjtRQUM5QyxPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUN6RSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxPQUFPO1FBQ0wsS0FBSyxNQUFNLFNBQVMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDeEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsQyxDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9uYXZpZ2F0aW9uLnRzP2RjNGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSG9sZHMgYWxsIG1ldGhvZHMgbmVjZXNzYXJ5IHRvIHVzZSBCbG9ja2x5IHRocm91Z2ggdGhlXG4gKiBrZXlib2FyZC5cbiAqIEBhdXRob3IgYXNjaG1pZWR0QGdvb2dsZS5jb20gKEFiYnkgU2NobWllZHQpXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIHJlZ2lzdHJhdGlvbk5hbWUgYXMgY3Vyc29yUmVnaXN0cmF0aW9uTmFtZSxcbiAgcmVnaXN0cmF0aW9uVHlwZSBhcyBjdXJzb3JSZWdpc3RyYXRpb25UeXBlLFxufSBmcm9tICcuL2ZseW91dF9jdXJzb3InO1xuXG4vKipcbiAqIENsYXNzIHRoYXQgaG9sZHMgYWxsIG1ldGhvZHMgbmVjZXNzYXJ5IGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvIHdvcmsuXG4gKi9cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uIHtcbiAgLyoqXG4gICAqIFdyYXBwZXIgZm9yIG1ldGhvZCB0aGF0IGRlYWxzIHdpdGggd29ya3NwYWNlIGNoYW5nZXMuXG4gICAqIFVzZWQgZm9yIHJlbW92aW5nIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG4gIHByb3RlY3RlZCB3c0NoYW5nZVdyYXBwZXI6IChlOiBCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogV3JhcHBlciBmb3IgbWV0aG9kIHRoYXQgZGVhbHMgd2l0aCBmbHlvdXQgY2hhbmdlcy5cbiAgICogVXNlZCBmb3IgcmVtb3ZpbmcgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgcHJvdGVjdGVkIGZseW91dENoYW5nZVdyYXBwZXI6IChlOiBCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcmVnaXN0ZXJlZCB3b3Jrc3BhY2VzLlxuICAgKiBVc2VkIHdoZW4gcmVtb3ZpbmcgY2hhbmdlIGxpc3RlbmVycyBpbiBkaXNwb3NlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHdvcmtzcGFjZXM6IEJsb2NrbHkuV29ya3NwYWNlU3ZnW10gPSBbXTtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLndzQ2hhbmdlV3JhcHBlciA9IHRoaXMud29ya3NwYWNlQ2hhbmdlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZseW91dENoYW5nZVdyYXBwZXIgPSB0aGlzLmZseW91dENoYW5nZUxpc3RlbmVyLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbGwgbmVjZXNzYXJ5IGNoYW5nZSBsaXN0ZW5lcnMgYW5kIG1hcmtlcnMgdG8gYSB3b3Jrc3BhY2UgZm9yIGtleWJvYXJkXG4gICAqIG5hdmlnYXRpb24gdG8gd29yay4gVGhpcyBtdXN0IGJlIGNhbGxlZCBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byB3b3JrXG4gICAqIG9uIGEgd29ya3NwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gYWRkIGtleWJvYXJkIG5hdmlnYXRpb24gdG8uXG4gICAqL1xuICBhZGRXb3Jrc3BhY2Uod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgIHRoaXMud29ya3NwYWNlcy5wdXNoKHdvcmtzcGFjZSk7XG4gICAgY29uc3QgZmx5b3V0ID0gd29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgIHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLndzQ2hhbmdlV3JhcHBlcik7XG5cbiAgICBpZiAoZmx5b3V0KSB7XG4gICAgICB0aGlzLmFkZEZseW91dChmbHlvdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBrZXlib2FyZCBuYXZpZ2F0aW9uIGNoYW5nZSBsaXN0ZW5lcnMgYW5kIG1hcmtlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byByZW1vdmUga2V5Ym9hcmQgbmF2aWdhdGlvbiBmcm9tLlxuICAgKi9cbiAgcmVtb3ZlV29ya3NwYWNlKHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcpIHtcbiAgICBjb25zdCB3b3Jrc3BhY2VJZHggPSB0aGlzLndvcmtzcGFjZXMuaW5kZXhPZih3b3Jrc3BhY2UpO1xuICAgIGNvbnN0IGZseW91dCA9IHdvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICB0aGlzLmRpc2FibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkod29ya3NwYWNlKTtcblxuICAgIGlmICh3b3Jrc3BhY2VJZHggPiAtMSkge1xuICAgICAgdGhpcy53b3Jrc3BhY2VzLnNwbGljZSh3b3Jrc3BhY2VJZHgsIDEpO1xuICAgIH1cbiAgICB3b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy53c0NoYW5nZVdyYXBwZXIpO1xuXG4gICAgaWYgKGZseW91dCkge1xuICAgICAgdGhpcy5yZW1vdmVGbHlvdXQoZmx5b3V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmF2aWdhdGlvbiBzdGF0ZSBvZiB0aGUgY3VycmVudCB3b3Jrc3BhY2UuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGlzIGFzc3VtZXMgYSB3b3Jrc3BhY2Ugd2l0aCBwYXNzaXZlIGZvY3VzIChpbmNsdWRpbmcgZm9yIGl0c1xuICAgKiB0b29sYm94IG9yIGZseW91dCkgaGFzIGEgc3RhdGUgb2YgTk9XSEVSRS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHN0YXRlIG9mIHRoZSBnaXZlbiB3b3Jrc3BhY2UuXG4gICAqL1xuICBnZXRTdGF0ZSgpOiBDb25zdGFudHMuU1RBVEUge1xuICAgIGNvbnN0IGZvY3VzTWFuYWdlciA9IEJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyKCk7XG4gICAgaWYgKGZvY3VzTWFuYWdlci5lcGhlbWVyYWxGb2N1c1Rha2VuKCkpIHtcbiAgICAgIHJldHVybiBDb25zdGFudHMuU1RBVEUuTk9XSEVSRTtcbiAgICB9XG5cbiAgICBjb25zdCBmb2N1c2VkVHJlZSA9IGZvY3VzTWFuYWdlci5nZXRGb2N1c2VkVHJlZSgpO1xuICAgIGlmIChmb2N1c2VkVHJlZSBpbnN0YW5jZW9mIEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgICBpZiAoZm9jdXNlZFRyZWUuaXNGbHlvdXQpIHtcbiAgICAgICAgcmV0dXJuIENvbnN0YW50cy5TVEFURS5GTFlPVVQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gQ29uc3RhbnRzLlNUQVRFLldPUktTUEFDRTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZvY3VzZWRUcmVlIGluc3RhbmNlb2YgQmxvY2tseS5Ub29sYm94KSB7XG4gICAgICByZXR1cm4gQ29uc3RhbnRzLlNUQVRFLlRPT0xCT1g7XG4gICAgfSBlbHNlIGlmIChmb2N1c2VkVHJlZSBpbnN0YW5jZW9mIEJsb2NrbHkuRmx5b3V0KSB7XG4gICAgICByZXR1cm4gQ29uc3RhbnRzLlNUQVRFLkZMWU9VVDtcbiAgICB9XG4gICAgLy8gRWl0aGVyIGEgbm9uLUJsb2NrbHkgZWxlbWVudCBjdXJyZW50bHkgaGFzIERPTSBmb2N1cywgb3IgYSBkaWZmZXJlbnRcbiAgICAvLyB3b3Jrc3BhY2UgaG9sZHMgaXQuXG4gICAgcmV0dXJuIENvbnN0YW50cy5TVEFURS5OT1dIRVJFO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYWxsIGV2ZW50IGxpc3RlbmVycyBhbmQgY3Vyc29ycyB0byB0aGUgZmx5b3V0IHRoYXQgYXJlIG5lZWRlZCBmb3JcbiAgICoga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byB3b3JrLlxuICAgKlxuICAgKiBAcGFyYW0gZmx5b3V0IFRoZSBmbHlvdXQgdG8gYWRkIGEgY3Vyc29yIGFuZCBjaGFuZ2UgbGlzdGVuZXJzIHRvLlxuICAgKi9cbiAgYWRkRmx5b3V0KGZseW91dDogQmxvY2tseS5JRmx5b3V0KSB7XG4gICAgY29uc3QgZmx5b3V0V29ya3NwYWNlID0gZmx5b3V0LmdldFdvcmtzcGFjZSgpO1xuICAgIGZseW91dFdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLmZseW91dENoYW5nZVdyYXBwZXIpO1xuICAgIGNvbnN0IEZseW91dEN1cnNvckNsYXNzID0gQmxvY2tseS5yZWdpc3RyeS5nZXRDbGFzcyhcbiAgICAgIGN1cnNvclJlZ2lzdHJhdGlvblR5cGUsXG4gICAgICBjdXJzb3JSZWdpc3RyYXRpb25OYW1lLFxuICAgICk7XG4gICAgaWYgKEZseW91dEN1cnNvckNsYXNzKSB7XG4gICAgICBmbHlvdXRXb3Jrc3BhY2VcbiAgICAgICAgLmdldE1hcmtlck1hbmFnZXIoKVxuICAgICAgICAuc2V0Q3Vyc29yKG5ldyBGbHlvdXRDdXJzb3JDbGFzcyhmbHlvdXQpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgY2hhbmdlIGxpc3RlbmVycyBmcm9tIHRoZSBmbHlvdXQgdGhhdCBhcmUgbmVlZGVkIGZvclxuICAgKiBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvIHdvcmsuXG4gICAqXG4gICAqIEBwYXJhbSBmbHlvdXQgVGhlIGZseW91dCB0byBhZGQgYSBjdXJzb3IgYW5kIGV2ZW50IGxpc3RlbmVycyB0by5cbiAgICovXG4gIHJlbW92ZUZseW91dChmbHlvdXQ6IEJsb2NrbHkuSUZseW91dCkge1xuICAgIGNvbnN0IGZseW91dFdvcmtzcGFjZSA9IGZseW91dC5nZXRXb3Jrc3BhY2UoKTtcbiAgICBmbHlvdXRXb3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5mbHlvdXRDaGFuZ2VXcmFwcGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBrZXlib2FyZCBuYXZpZ2F0aW9uIGFuZCB0aGUgcG9zaXRpb24gb2YgdGhlIGN1cnNvclxuICAgKiBiYXNlZCBvbiB3b3Jrc3BhY2UgZXZlbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gZSBUaGUgQmxvY2tseSBldmVudCB0byBwcm9jZXNzLlxuICAgKi9cbiAgd29ya3NwYWNlQ2hhbmdlTGlzdGVuZXIoZTogQmxvY2tseS5FdmVudHMuQWJzdHJhY3QpIHtcbiAgICBpZiAoIWUud29ya3NwYWNlSWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgd29ya3NwYWNlID0gQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0QnlJZChcbiAgICAgIGUud29ya3NwYWNlSWQsXG4gICAgKSBhcyBCbG9ja2x5LldvcmtzcGFjZVN2ZztcbiAgICBpZiAoIXdvcmtzcGFjZSB8fCAhd29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGUudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuQkxPQ0tfQ0hBTkdFKSB7XG4gICAgICBpZiAoKGUgYXMgQmxvY2tseS5FdmVudHMuQmxvY2tDaGFuZ2UpLmVsZW1lbnQgPT09ICdtdXRhdGlvbicpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVCbG9ja011dGF0aW9uKHdvcmtzcGFjZSwgZSBhcyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGtleWJvYXJkIG5hdmlnYXRpb24gYW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAqIGJhc2VkIG9uIGV2ZW50cyBlbWl0dGVkIGZyb20gdGhlIGZseW91dCdzIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIGUgVGhlIEJsb2NrbHkgZXZlbnQgdG8gcHJvY2Vzcy5cbiAgICovXG4gIGZseW91dENoYW5nZUxpc3RlbmVyKGU6IEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0KSB7XG4gICAgaWYgKCFlLndvcmtzcGFjZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZseW91dFdvcmtzcGFjZSA9IEJsb2NrbHkuV29ya3NwYWNlLmdldEJ5SWQoXG4gICAgICBlLndvcmtzcGFjZUlkLFxuICAgICkgYXMgQmxvY2tseS5Xb3Jrc3BhY2VTdmcgfCBudWxsO1xuICAgIGNvbnN0IG1haW5Xb3Jrc3BhY2UgPSBmbHlvdXRXb3Jrc3BhY2U/LnRhcmdldFdvcmtzcGFjZTtcbiAgICBpZiAoIW1haW5Xb3Jrc3BhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmx5b3V0ID0gbWFpbldvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAoIWZseW91dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRoaXMgaXMgY2FsbGVkIGZvciBzaW1wbGUgdG9vbGJveGVzIGFuZCBmb3IgdG9vbGJveGVzIHRoYXQgaGF2ZSBhIGZseW91dFxuICAgIC8vIHRoYXQgZG9lcyBub3QgY2xvc2UuIEF1dG9jbG9zaW5nIGZseW91dHMgY2xvc2UgYmVmb3JlIHdlIG5lZWQgdG8gZm9jdXNcbiAgICAvLyB0aGUgY3Vyc29yIG9uIHRoZSBibG9jayB0aGF0IHdhcyBjbGlja2VkLlxuICAgIGlmIChcbiAgICAgIG1haW5Xb3Jrc3BhY2UgJiZcbiAgICAgIG1haW5Xb3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSAmJlxuICAgICAgIWZseW91dC5hdXRvQ2xvc2VcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgZS50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5DTElDSyAmJlxuICAgICAgICAoZSBhcyBCbG9ja2x5LkV2ZW50cy5DbGljaykudGFyZ2V0VHlwZSA9PT0gJ2Jsb2NrJ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHtibG9ja0lkfSA9IGUgYXMgQmxvY2tseS5FdmVudHMuQ2xpY2s7XG4gICAgICAgIGlmIChibG9ja0lkKSB7XG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBmbHlvdXRXb3Jrc3BhY2UuZ2V0QmxvY2tCeUlkKGJsb2NrSWQpO1xuICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVCbG9ja0NsaWNrSW5GbHlvdXQobWFpbldvcmtzcGFjZSwgYmxvY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlLnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLlNFTEVDVEVEKSB7XG4gICAgICAgIGNvbnN0IHtuZXdFbGVtZW50SWR9ID0gZSBhcyBCbG9ja2x5LkV2ZW50cy5TZWxlY3RlZDtcbiAgICAgICAgaWYgKG5ld0VsZW1lbnRJZCkge1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gZmx5b3V0V29ya3NwYWNlLmdldEJsb2NrQnlJZChuZXdFbGVtZW50SWQpO1xuICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVCbG9ja0NsaWNrSW5GbHlvdXQobWFpbldvcmtzcGFjZSwgYmxvY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBlLnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLkJMT0NLX0NSRUFURSAmJlxuICAgICAgdGhpcy5nZXRTdGF0ZSgpID09PSBDb25zdGFudHMuU1RBVEUuRkxZT1VUXG4gICAgKSB7XG4gICAgICAvLyBXaGVuIHZhcmlhYmxlcyBhcmUgY3JlYXRlZCwgdGhhdCByZWNyZWF0ZXMgdGhlIGZseW91dCBjb250ZW50cywgbGVhdmluZyB0aGVcbiAgICAgIC8vIGN1cnNvciBpbiBhbiBpbnZhbGlkIHN0YXRlLlxuICAgICAgdGhpcy5kZWZhdWx0Rmx5b3V0Q3Vyc29ySWZOZWVkZWQobWFpbldvcmtzcGFjZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0ZseW91dEl0ZW1EaXNwb3NlZChcbiAgICBub2RlOiBCbG9ja2x5LklGb2N1c2FibGVOb2RlLFxuICAgIHNvdXJjZUJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnIHwgbnVsbCxcbiAgKSB7XG4gICAgaWYgKHNvdXJjZUJsb2NrPy5kaXNwb3NlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChub2RlIGluc3RhbmNlb2YgQmxvY2tseS5GbHlvdXRCdXR0b24pIHtcbiAgICAgIHJldHVybiBub2RlLmdldFN2Z1Jvb3QoKS5wYXJlbnROb2RlID09PSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmxvY2sgbGV2ZWwgd2hlbiB0aGUgYmxvY2sgdGhlIGN1cnNvciBpcyBvblxuICAgKiBtdXRhdGVzLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdGhlIGN1cnNvciBiZWxvbmdzXG4gICAqICAgICB0by5cbiAgICogQHBhcmFtIGUgVGhlIEJsb2NrbHkgZXZlbnQgdG8gcHJvY2Vzcy5cbiAgICovXG4gIGhhbmRsZUJsb2NrTXV0YXRpb24oXG4gICAgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2ZyxcbiAgICBlOiBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSxcbiAgKSB7XG4gICAgY29uc3QgbXV0YXRlZEJsb2NrSWQgPSBlLmJsb2NrSWQ7XG4gICAgY29uc3QgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgIGNvbnN0IGJsb2NrID0gY3Vyc29yLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLmlkID09PSBtdXRhdGVkQmxvY2tJZCkge1xuICAgICAgY3Vyc29yLnNldEN1ck5vZGUoYmxvY2spO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdoZW4gYSB1c2VyIGNsaWNrcyBvbiBhIGJsb2NrIGluIHRoZSBmbHlvdXQgYnkgbW92aW5nIHRoZSBjdXJzb3JcbiAgICogdG8gdGhhdCBzdGFjayBvZiBibG9ja3MgYW5kIHNldHRpbmcgdGhlIHN0YXRlIG9mIG5hdmlnYXRpb24gdG8gdGhlIGZseW91dC5cbiAgICpcbiAgICogQHBhcmFtIG1haW5Xb3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0aGUgdXNlciBjbGlja2VkIG9uLlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRoZSB1c2VyIGNsaWNrZWQgb24uXG4gICAqL1xuICBoYW5kbGVCbG9ja0NsaWNrSW5GbHlvdXQoXG4gICAgbWFpbldvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4gICAgYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcsXG4gICkge1xuICAgIGlmICghYmxvY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VyTm9kZUJsb2NrID0gYmxvY2suaXNTaGFkb3coKSA/IGJsb2NrIDogYmxvY2suZ2V0UGFyZW50KCk7XG4gICAgaWYgKGN1ck5vZGVCbG9jaykge1xuICAgICAgdGhpcy5nZXRGbHlvdXRDdXJzb3IobWFpbldvcmtzcGFjZSk/LnNldEN1ck5vZGUoY3VyTm9kZUJsb2NrKTtcbiAgICB9XG4gICAgY29uc3QgZmx5b3V0ID0gbWFpbldvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAoZmx5b3V0KSB7XG4gICAgICBCbG9ja2x5LmdldEZvY3VzTWFuYWdlcigpLmZvY3VzVHJlZShmbHlvdXQuZ2V0V29ya3NwYWNlKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBmbHlvdXQgY3Vyc29yIHRvIHRoZSBwcmVmZXJyZWQgZW5kIGlmIHVuc2V0IChhcyBpdCBpcyBpbml0aWFsbHkgZGVzcGl0ZVxuICAgKiB0aGUgdHlwZXMpIG9yIG9uIGEgZGlzcG9zZWQgaXRlbS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlLlxuICAgKiBAcGFyYW0gcHJlZmVyIFRoZSBwcmVmZXJyZWQgZGVmYXVsdCBwb3NpdGlvbi5cbiAgICogQHJldHVybiB0cnVlIGlmIHRoZSBjdXJzb3IgbG9jYXRpb24gd2FzIGRlZmF1bHRlZC5cbiAgICovXG4gIGRlZmF1bHRGbHlvdXRDdXJzb3JJZk5lZWRlZChcbiAgICB3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnLFxuICAgIHByZWZlcjogJ2ZpcnN0JyB8ICdsYXN0JyA9ICdmaXJzdCcsXG4gICkge1xuICAgIGNvbnN0IGZseW91dCA9IHdvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAoIWZseW91dCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGZseW91dEN1cnNvciA9IHRoaXMuZ2V0Rmx5b3V0Q3Vyc29yKHdvcmtzcGFjZSk7XG4gICAgaWYgKCFmbHlvdXRDdXJzb3IpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGN1ck5vZGUgPSBmbHlvdXRDdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgIGNvbnN0IHNvdXJjZUJsb2NrID0gZmx5b3V0Q3Vyc29yLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgLy8gSWYgdGhlIGN1cnJlbnQgbm9kZSBpcyBhIGNoaWxkIG9mIHRoZSBmbHlvdXQsIG5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZS5cbiAgICBpZiAoXG4gICAgICBjdXJOb2RlICYmXG4gICAgICBjdXJOb2RlICE9PSBmbHlvdXQuZ2V0V29ya3NwYWNlKCkgJiZcbiAgICAgIGN1ck5vZGUuZ2V0Rm9jdXNhYmxlVHJlZSgpID09PSBmbHlvdXQuZ2V0V29ya3NwYWNlKCkgJiZcbiAgICAgICF0aGlzLmlzRmx5b3V0SXRlbURpc3Bvc2VkKGN1ck5vZGUsIHNvdXJjZUJsb2NrKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGZseW91dENvbnRlbnRzID0gZmx5b3V0LmdldENvbnRlbnRzKCk7XG4gICAgY29uc3QgZGVmYXVsdEZseW91dEl0ZW0gPVxuICAgICAgcHJlZmVyID09PSAnZmlyc3QnXG4gICAgICAgID8gZmx5b3V0Q29udGVudHNbMF1cbiAgICAgICAgOiBmbHlvdXRDb250ZW50c1tmbHlvdXRDb250ZW50cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWRlZmF1bHRGbHlvdXRJdGVtKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgZGVmYXVsdEZseW91dEl0ZW1FbGVtZW50ID0gZGVmYXVsdEZseW91dEl0ZW0uZ2V0RWxlbWVudCgpO1xuICAgIGZseW91dEN1cnNvci5zZXRDdXJOb2RlKGRlZmF1bHRGbHlvdXRJdGVtRWxlbWVudCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3Vyc29yIGxvY2F0aW9uIHdoZW4gZm9jdXNpbmcgdGhlIHdvcmtzcGFjZS5cbiAgICogVHJpZXMgdGhlIGZvbGxvd2luZywgaW4gb3JkZXIsIHN0b3BwaW5nIGFmdGVyIHRoZSBmaXJzdCBzdWNjZXNzOlxuICAgKiAgLSBSZXN1bWUgZWRpdGluZyBieSByZXR1cm5pbmcgdGhlIGN1cnNvciB0byBpdHMgcHJldmlvdXMgbG9jYXRpb24sIGlmIHZhbGlkLlxuICAgKiAgLSBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIHRvcCBjb25uZWN0aW9uIHBvaW50IG9uIG9uIHRoZSBmaXJzdCB0b3AgYmxvY2suXG4gICAqICAtIE1vdmUgdGhlIGN1cnNvciB0byB0aGUgZGVmYXVsdCBsb2NhdGlvbiBvbiB0aGUgd29ya3NwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSBtYWluIEJsb2NrbHkgd29ya3NwYWNlLlxuICAgKiBAcGFyYW0gcHJlZmVyIFRoZSBwcmVmZXJyZWQgZGVmYXVsdCBwb3NpdGlvbi5cbiAgICogQHJldHVybiB0cnVlIGlmIHRoZSBjdXJzb3IgbG9jYXRpb24gd2FzIGRlZmF1bHRlZC5cbiAgICovXG4gIGRlZmF1bHRXb3Jrc3BhY2VDdXJzb3JQb3NpdGlvbklmTmVlZGVkKFxuICAgIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4gICAgcHJlZmVyOiAnZmlyc3QnIHwgJ2xhc3QnID0gJ2ZpcnN0JyxcbiAgKSB7XG4gICAgY29uc3QgdG9wQmxvY2tzID0gd29ya3NwYWNlLmdldFRvcEJsb2Nrcyh0cnVlKTtcbiAgICBjb25zdCBjdXJzb3IgPSB3b3Jrc3BhY2UuZ2V0Q3Vyc29yKCk7XG4gICAgY29uc3QgZGlzcG9zZWQgPSBjdXJzb3IuZ2V0U291cmNlQmxvY2soKT8uZGlzcG9zZWQ7XG4gICAgaWYgKGN1cnNvci5nZXRDdXJOb2RlKCkgJiYgIWRpc3Bvc2VkKSB7XG4gICAgICAvLyBSZXRhaW4gdGhlIGN1cnNvcidzIHByZXZpb3VzIHBvc2l0aW9uIHNpbmNlIGl0J3Mgc2V0LCBidXQgb25seSBpZiBub3RcbiAgICAgIC8vIGRpc3Bvc2VkICh3aGljaCBjYW4gaGFwcGVuIHdoZW4gYmxvY2tzIGFyZSByZWxvYWRlZCkuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0b3BCbG9ja3MubGVuZ3RoID4gMCkge1xuICAgICAgY3Vyc29yLnNldEN1ck5vZGUoXG4gICAgICAgIHRvcEJsb2Nrc1twcmVmZXIgPT09ICdmaXJzdCcgPyAwIDogdG9wQmxvY2tzLmxlbmd0aCAtIDFdLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3Vyc29yLnNldEN1ck5vZGUod29ya3NwYWNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3Vyc29yIG9uIHRoZSBmbHlvdXQncyB3b3Jrc3BhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIG1haW4gd29ya3NwYWNlIHRoZSBmbHlvdXQgaXMgb24uXG4gICAqIEByZXR1cm5zIFRoZSBmbHlvdXQncyBjdXJzb3Igb3IgbnVsbCBpZiBubyBmbHlvdXQgZXhpc3RzLlxuICAgKi9cbiAgZ2V0Rmx5b3V0Q3Vyc29yKHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcpOiBCbG9ja2x5LkxpbmVDdXJzb3IgfCBudWxsIHtcbiAgICBjb25zdCBmbHlvdXQgPSB3b3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7XG4gICAgY29uc3QgY3Vyc29yID0gZmx5b3V0ID8gZmx5b3V0LmdldFdvcmtzcGFjZSgpLmdldEN1cnNvcigpIDogbnVsbDtcblxuICAgIHJldHVybiBjdXJzb3I7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gaW50ZWxsaWdlbnRseSBjb25uZWN0IHRoZSBibG9ja3Mgb3IgY29ubmVjdGlvbnNcbiAgICogcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIG5vZGVzLCBiYXNlZCBvbiBub2RlIHR5cGVzIGFuZCBsb2NhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0aW9uYXJ5Tm9kZSBUaGUgZmlyc3Qgbm9kZSB0byBjb25uZWN0LlxuICAgKiBAcGFyYW0gbW92aW5nQmxvY2sgVGhlIGJsb2NrIHdlJ3JlIG1vdmluZy5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUga2V5IHdhcyBoYW5kbGVkOyBmYWxzZSBpZiBzb21ldGhpbmcgd2VudFxuICAgKiAgICAgd3JvbmcuXG4gICAqL1xuICBmaW5kSW5zZXJ0U3RhcnRQb2ludChcbiAgICBzdGF0aW9uYXJ5Tm9kZTogQmxvY2tseS5JRm9jdXNhYmxlTm9kZSxcbiAgICBtb3ZpbmdCbG9jazogQmxvY2tseS5CbG9ja1N2ZyxcbiAgKTogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsIHtcbiAgICBjb25zdCBtb3ZpbmdIYXNPdXRwdXQgPSAhIW1vdmluZ0Jsb2NrLm91dHB1dENvbm5lY3Rpb247XG5cbiAgICBpZiAoc3RhdGlvbmFyeU5vZGUgaW5zdGFuY2VvZiBCbG9ja2x5LkZpZWxkKSB7XG4gICAgICAvLyBDYW4ndCBjb25uZWN0IGEgYmxvY2sgdG8gYSBmaWVsZCwgc28gdHJ5IGdvaW5nIHVwIHRvIHRoZSBzb3VyY2UgYmxvY2suXG4gICAgICBjb25zdCBzb3VyY2VCbG9jayA9IHN0YXRpb25hcnlOb2RlLmdldFNvdXJjZUJsb2NrKCkgYXMgQmxvY2tseS5CbG9ja1N2ZztcbiAgICAgIGlmICghc291cmNlQmxvY2spIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuZmluZEluc2VydFN0YXJ0UG9pbnQoc291cmNlQmxvY2ssIG1vdmluZ0Jsb2NrKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRpb25hcnlOb2RlIGluc3RhbmNlb2YgQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24pIHtcbiAgICAgIC8vIE1vdmUgdG8gdGhlIGJsb2NrIGlmIHdlJ3JlIHRyeWluZyB0byBpbnNlcnQgYSBzdGF0ZW1lbnQgYmxvY2sgaW50b1xuICAgICAgLy8gYSB2YWx1ZSBjb25uZWN0aW9uLlxuICAgICAgaWYgKFxuICAgICAgICAhbW92aW5nSGFzT3V0cHV0ICYmXG4gICAgICAgIHN0YXRpb25hcnlOb2RlLnR5cGUgPT09IEJsb2NrbHkuQ29ubmVjdGlvblR5cGUuSU5QVVRfVkFMVUVcbiAgICAgICkge1xuICAgICAgICBjb25zdCBzb3VyY2VCbG9jayA9IHN0YXRpb25hcnlOb2RlLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgICAgIGlmICghc291cmNlQmxvY2spIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kSW5zZXJ0U3RhcnRQb2ludChzb3VyY2VCbG9jaywgbW92aW5nQmxvY2spO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25uZWN0IHRoZSBtb3ZpbmcgYmxvY2sgdG8gdGhlIHN0YXRpb25hcnkgY29ubmVjdGlvbiB1c2luZ1xuICAgICAgLy8gdGhlIG1vc3QgcGxhdXNpYmxlIGNvbm5lY3Rpb24gb24gdGhlIG1vdmluZyBibG9jay5cbiAgICAgIHJldHVybiBzdGF0aW9uYXJ5Tm9kZTtcbiAgICB9IGVsc2UgaWYgKHN0YXRpb25hcnlOb2RlIGluc3RhbmNlb2YgQmxvY2tseS5Xb3Jrc3BhY2VTdmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoc3RhdGlvbmFyeU5vZGUgaW5zdGFuY2VvZiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gICAgICAvLyAxLiBDb25uZWN0IGJsb2NrcyB0byBmaXJzdCBjb21wYXRpYmxlIGlucHV0XG4gICAgICBjb25zdCBpbnB1dFR5cGUgPSBtb3ZpbmdIYXNPdXRwdXRcbiAgICAgICAgPyBCbG9ja2x5LmlucHV0cy5pbnB1dFR5cGVzLlZBTFVFXG4gICAgICAgIDogQmxvY2tseS5pbnB1dHMuaW5wdXRUeXBlcy5TVEFURU1FTlQ7XG4gICAgICBjb25zdCBjb21wYXRpYmxlQ29ubmVjdGlvbnMgPSBzdGF0aW9uYXJ5Tm9kZS5pbnB1dExpc3RcbiAgICAgICAgLmZpbHRlcigoaW5wdXQpID0+IGlucHV0LnR5cGUgPT09IGlucHV0VHlwZSlcbiAgICAgICAgLm1hcCgoaW5wdXQpID0+IGlucHV0LmNvbm5lY3Rpb24pO1xuICAgICAgZm9yIChjb25zdCBjb25uZWN0aW9uIG9mIGNvbXBhdGlibGVDb25uZWN0aW9ucykge1xuICAgICAgICBsZXQgdGFyZ2V0Q29ubmVjdGlvbjogQmxvY2tseS5Db25uZWN0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZCA9XG4gICAgICAgICAgY29ubmVjdGlvbjtcbiAgICAgICAgaWYgKGlucHV0VHlwZSA9PT0gQmxvY2tseS5pbnB1dHMuaW5wdXRUeXBlcy5TVEFURU1FTlQpIHtcbiAgICAgICAgICB3aGlsZSAodGFyZ2V0Q29ubmVjdGlvbj8udGFyZ2V0QmxvY2soKT8ubmV4dENvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRhcmdldENvbm5lY3Rpb24gPSB0YXJnZXRDb25uZWN0aW9uPy50YXJnZXRCbG9jaygpPy5uZXh0Q29ubmVjdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGFyZ2V0Q29ubmVjdGlvbiAmJlxuICAgICAgICAgIG1vdmluZ0Jsb2NrLndvcmtzcGFjZS5jb25uZWN0aW9uQ2hlY2tlci5jYW5Db25uZWN0KFxuICAgICAgICAgICAgbW92aW5nSGFzT3V0cHV0XG4gICAgICAgICAgICAgID8gbW92aW5nQmxvY2sub3V0cHV0Q29ubmVjdGlvblxuICAgICAgICAgICAgICA6IG1vdmluZ0Jsb2NrLnByZXZpb3VzQ29ubmVjdGlvbixcbiAgICAgICAgICAgIHRhcmdldENvbm5lY3Rpb24sXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgLy8gU2luY2Ugd2UncmUgY29ubmVjdGluZyBwcm9ncmFtbWF0aWNhbGx5LCB3ZSBkb24ndCBjYXJlIGhvd1xuICAgICAgICAgICAgLy8gY2xvc2UgdGhlIGJsb2NrcyBhcmUgd2hlbiBkZXRlcm1pbmluZyBpZiB0aGV5IGNhbiBiZSBjb25uZWN0ZWQuXG4gICAgICAgICAgICBJbmZpbml0eSxcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRDb25uZWN0aW9uIGFzIEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDIuIENvbm5lY3Qgc3RhdGVtZW50IGJsb2NrcyB0byBuZXh0IGNvbm5lY3Rpb24uIE9ubHkgcmV0dXJuIGEgbmV4dFxuICAgICAgLy8gY29ubmVjdGlvbiB0byB3aGljaCB0aGUgc3RhdGVtZW50IGJsb2NrIGNhbiBhY3R1YWxseSBjb25uZWN0OyBzb21lXG4gICAgICAvLyBtYXkgYmUgaW5lbGlnaWJsZSBiZWNhdXNlIHRoZXkgYXJlIGUuZy4gaW4gdGhlIG1pZGRsZSBvZiBhbiBpbW1vdmFibGVcbiAgICAgIC8vIHN0YWNrLlxuICAgICAgaWYgKHN0YXRpb25hcnlOb2RlLm5leHRDb25uZWN0aW9uICYmICFtb3ZpbmdIYXNPdXRwdXQpIHtcbiAgICAgICAgbGV0IG5leHRDb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwgPVxuICAgICAgICAgIHN0YXRpb25hcnlOb2RlLm5leHRDb25uZWN0aW9uO1xuICAgICAgICB3aGlsZSAobmV4dENvbm5lY3Rpb24pIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBtb3ZpbmdCbG9jay53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXIuY2FuQ29ubmVjdChcbiAgICAgICAgICAgICAgbW92aW5nQmxvY2sucHJldmlvdXNDb25uZWN0aW9uLFxuICAgICAgICAgICAgICBuZXh0Q29ubmVjdGlvbixcbiAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgLy8gU2luY2Ugd2UncmUgY29ubmVjdGluZyBwcm9ncmFtbWF0aWNhbGx5LCB3ZSBkb24ndCBjYXJlIGhvd1xuICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgYmxvY2tzIGFyZSB3aGVuIGRldGVybWluaW5nIGlmIHRoZXkgY2FuIGJlIGNvbm5lY3RlZC5cbiAgICAgICAgICAgICAgSW5maW5pdHksXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dENvbm5lY3Rpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRDb25uZWN0aW9uID1cbiAgICAgICAgICAgIG5leHRDb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCkuZ2V0TmV4dEJsb2NrKCk/Lm5leHRDb25uZWN0aW9uID8/XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIE91dHB1dCBjb25uZWN0aW9uLiBUaGlzIHdpbGwgd3JhcCBhcm91bmQgb3IgZGlzcGxhY2UuXG4gICAgICBpZiAoc3RhdGlvbmFyeU5vZGUub3V0cHV0Q29ubmVjdGlvbikge1xuICAgICAgICAvLyBUcnkgdG8gd3JhcC5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gc3RhdGlvbmFyeU5vZGUub3V0cHV0Q29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO1xuICAgICAgICBpZiAobW92aW5nSGFzT3V0cHV0ICYmIHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRJbnNlcnRTdGFydFBvaW50KHRhcmdldCwgbW92aW5nQmxvY2spO1xuICAgICAgICB9IGVsc2UgaWYgKCFtb3ZpbmdIYXNPdXRwdXQpIHtcbiAgICAgICAgICAvLyBNb3ZlIHRvIHBhcmVudCBpZiB3ZSdyZSB0cnlpbmcgdG8gaW5zZXJ0IGEgc3RhdGVtZW50IGJsb2NrLlxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHN0YXRpb25hcnlOb2RlLmdldFBhcmVudCgpO1xuICAgICAgICAgIGlmICghcGFyZW50KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5maW5kSW5zZXJ0U3RhcnRQb2ludChwYXJlbnQsIG1vdmluZ0Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGlvbmFyeU5vZGUub3V0cHV0Q29ubmVjdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy53YXJuKGBVbmV4cGVjdGVkIGNhc2UgaW4gZmluZEluc2VydFN0YXJ0UG9pbnQgJHtzdGF0aW9uYXJ5Tm9kZX0uYCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gaW50ZWxsaWdlbnRseSBjb25uZWN0IHRoZSBibG9ja3Mgb3IgY29ubmVjdGlvbnNcbiAgICogcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIG5vZGVzLCBiYXNlZCBvbiBub2RlIHR5cGVzIGFuZCBsb2NhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0aW9uYXJ5Tm9kZSBUaGUgZmlyc3Qgbm9kZSB0byBjb25uZWN0LlxuICAgKiBAcGFyYW0gbW92aW5nQmxvY2sgVGhlIGJsb2NrIHdlJ3JlIG1vdmluZy5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29ubmVjdGlvbiB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgdHJ5VG9Db25uZWN0QmxvY2soXG4gICAgc3RhdGlvbmFyeU5vZGU6IEJsb2NrbHkuSUZvY3VzYWJsZU5vZGUsXG4gICAgbW92aW5nQmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGRlc3RDb25uZWN0aW9uID0gdGhpcy5maW5kSW5zZXJ0U3RhcnRQb2ludChcbiAgICAgIHN0YXRpb25hcnlOb2RlLFxuICAgICAgbW92aW5nQmxvY2ssXG4gICAgKTtcbiAgICBpZiAoIWRlc3RDb25uZWN0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0QmxvY2sobW92aW5nQmxvY2ssIGRlc3RDb25uZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgY2hpbGQgYmxvY2sgZnJvbSBpdHMgcGFyZW50IGJsb2NrLiBOby1vcCBpZiB0aGUgdHdvIGdpdmVuXG4gICAqIGNvbm5lY3Rpb25zIGFyZSB1bnJlbGF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBtb3ZpbmdDb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRoYXQgaXMgYmVpbmcgbW92ZWQuXG4gICAqIEBwYXJhbSBkZXN0Q29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBiZSBtb3ZlZCB0by5cbiAgICovXG4gIGRpc2Nvbm5lY3RDaGlsZChcbiAgICBtb3ZpbmdDb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbixcbiAgICBkZXN0Q29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24sXG4gICkge1xuICAgIGNvbnN0IG1vdmluZ0Jsb2NrID0gbW92aW5nQ29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGNvbnN0IGRlc3RCbG9jayA9IGRlc3RDb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgbGV0IGluZmVyaW9yQ29ubmVjdGlvbjtcblxuICAgIGlmIChtb3ZpbmdCbG9jay5nZXRSb290QmxvY2soKSA9PT0gZGVzdEJsb2NrLmdldFJvb3RCbG9jaygpKSB7XG4gICAgICBpZiAobW92aW5nQmxvY2suZ2V0RGVzY2VuZGFudHMoZmFsc2UpLmluY2x1ZGVzKGRlc3RCbG9jaykpIHtcbiAgICAgICAgaW5mZXJpb3JDb25uZWN0aW9uID0gdGhpcy5nZXRJbmZlcmlvckNvbm5lY3Rpb24oZGVzdENvbm5lY3Rpb24pO1xuICAgICAgICBpZiAoaW5mZXJpb3JDb25uZWN0aW9uKSB7XG4gICAgICAgICAgaW5mZXJpb3JDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5mZXJpb3JDb25uZWN0aW9uID0gdGhpcy5nZXRJbmZlcmlvckNvbm5lY3Rpb24obW92aW5nQ29ubmVjdGlvbik7XG4gICAgICAgIGlmIChpbmZlcmlvckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICBpbmZlcmlvckNvbm5lY3Rpb24uZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIGNvbm5lY3QgdGhlICBnaXZlbiBjb25uZWN0aW9ucy5cbiAgICpcbiAgICogSWYgdGhlIGdpdmVuIGNvbm5lY3Rpb25zIGFyZSBub3QgY29tcGF0aWJsZSB0cnkgZmluZGluZyBjb21wYXRpYmxlXG4gICAqIGNvbm5lY3Rpb25zIG9uIHRoZSBzb3VyY2UgYmxvY2tzIG9mIHRoZSBnaXZlbiBjb25uZWN0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIG1vdmluZ0Nvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdGhhdCBpcyBiZWluZyBtb3ZlZC5cbiAgICogQHBhcmFtIGRlc3RDb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIGJlIG1vdmVkIHRvLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB0d28gY29ubmVjdGlvbnMgb3IgdGhlaXIgdGFyZ2V0IGNvbm5lY3Rpb25zXG4gICAqICAgICB3ZXJlIGNvbm5lY3RlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgY29ubmVjdChcbiAgICBtb3ZpbmdDb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICAgZGVzdENvbm5lY3Rpb246IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFtb3ZpbmdDb25uZWN0aW9uIHx8ICFkZXN0Q29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IG1vdmluZ0luZmVyaW9yID0gdGhpcy5nZXRJbmZlcmlvckNvbm5lY3Rpb24obW92aW5nQ29ubmVjdGlvbik7XG4gICAgY29uc3QgZGVzdFN1cGVyaW9yID0gdGhpcy5nZXRTdXBlcmlvckNvbm5lY3Rpb24oZGVzdENvbm5lY3Rpb24pO1xuXG4gICAgY29uc3QgbW92aW5nU3VwZXJpb3IgPSB0aGlzLmdldFN1cGVyaW9yQ29ubmVjdGlvbihtb3ZpbmdDb25uZWN0aW9uKTtcbiAgICBjb25zdCBkZXN0SW5mZXJpb3IgPSB0aGlzLmdldEluZmVyaW9yQ29ubmVjdGlvbihkZXN0Q29ubmVjdGlvbik7XG5cbiAgICBpZiAoXG4gICAgICBtb3ZpbmdJbmZlcmlvciAmJlxuICAgICAgZGVzdFN1cGVyaW9yICYmXG4gICAgICB0aGlzLm1vdmVBbmRDb25uZWN0KG1vdmluZ0luZmVyaW9yLCBkZXN0U3VwZXJpb3IpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIFRyeSBzd2FwcGluZyB0aGUgaW5mZXJpb3IgYW5kIHN1cGVyaW9yIGNvbm5lY3Rpb25zIG9uIHRoZSBibG9ja3MuXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG1vdmluZ1N1cGVyaW9yICYmXG4gICAgICBkZXN0SW5mZXJpb3IgJiZcbiAgICAgIHRoaXMubW92ZUFuZENvbm5lY3QobW92aW5nU3VwZXJpb3IsIGRlc3RJbmZlcmlvcilcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlQW5kQ29ubmVjdChtb3ZpbmdDb25uZWN0aW9uLCBkZXN0Q29ubmVjdGlvbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGVja2VyID0gbW92aW5nQ29ubmVjdGlvbi5nZXRDb25uZWN0aW9uQ2hlY2tlcigpO1xuICAgICAgY29uc3QgcmVhc29uID0gY2hlY2tlci5jYW5Db25uZWN0V2l0aFJlYXNvbihcbiAgICAgICAgbW92aW5nQ29ubmVjdGlvbixcbiAgICAgICAgZGVzdENvbm5lY3Rpb24sXG4gICAgICAgIGZhbHNlLFxuICAgICAgKTtcbiAgICAgIHRoaXMud2FybihcbiAgICAgICAgJ0Nvbm5lY3Rpb24gZmFpbGVkIHdpdGggZXJyb3I6ICcgK1xuICAgICAgICAgIGNoZWNrZXIuZ2V0RXJyb3JNZXNzYWdlKHJlYXNvbiwgbW92aW5nQ29ubmVjdGlvbiwgZGVzdENvbm5lY3Rpb24pLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIGluZmVyaW9yIGNvbm5lY3Rpb24gb24gdGhlIHNvdXJjZSBibG9jayBpZiB0aGUgZ2l2ZW4gY29ubmVjdGlvblxuICAgKiBpcyBzdXBlcmlvci5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdHJ5aW5nIHRvIGJlIGNvbm5lY3RlZC5cbiAgICogQHJldHVybnMgVGhlIGluZmVyaW9yIGNvbm5lY3Rpb24gb3IgbnVsbCBpZiBub25lIGV4aXN0cy5cbiAgICovXG4gIGdldEluZmVyaW9yQ29ubmVjdGlvbihcbiAgICBjb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwsXG4gICk6IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCB7XG4gICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYmxvY2sgPSBjb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCkgYXMgQmxvY2tseS5CbG9ja1N2ZztcbiAgICBpZiAoIWNvbm5lY3Rpb24uaXNTdXBlcmlvcigpKSB7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICB9IGVsc2UgaWYgKGJsb2NrLnByZXZpb3VzQ29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIGJsb2NrLnByZXZpb3VzQ29ubmVjdGlvbjtcbiAgICB9IGVsc2UgaWYgKGJsb2NrLm91dHB1dENvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBibG9jay5vdXRwdXRDb25uZWN0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYSBzdXBlcmlvciBjb25uZWN0aW9uIG9uIHRoZSBzb3VyY2UgYmxvY2sgaWYgdGhlIGdpdmVuIGNvbm5lY3Rpb24gaXNcbiAgICogaW5mZXJpb3IuXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRyeWluZyB0byBiZSBjb25uZWN0ZWQuXG4gICAqIEByZXR1cm5zIFRoZSBzdXBlcmlvciBjb25uZWN0aW9uIG9yIG51bGwgaWYgbm9uZSBleGlzdHMuXG4gICAqL1xuICBnZXRTdXBlcmlvckNvbm5lY3Rpb24oXG4gICAgY29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsLFxuICApOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbiB8IG51bGwge1xuICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb25uZWN0aW9uLmlzU3VwZXJpb3IoKSkge1xuICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfSBlbHNlIGlmIChjb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBjb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb247XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmVzIHRoZSBtb3ZpbmcgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGNvbm5lY3Rpb24gYW5kIGNvbm5lY3RzIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSBtb3ZpbmdDb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRoYXQgaXMgYmVpbmcgbW92ZWQuXG4gICAqIEBwYXJhbSBkZXN0Q29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byBiZSBtb3ZlZCB0by5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29ubmVjdGlvbnMgd2VyZSBjb25uZWN0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIG1vdmVBbmRDb25uZWN0KFxuICAgIG1vdmluZ0Nvbm5lY3Rpb246IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uIHwgbnVsbCxcbiAgICBkZXN0Q29ubmVjdGlvbjogQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24gfCBudWxsLFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIW1vdmluZ0Nvbm5lY3Rpb24gfHwgIWRlc3RDb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IG1vdmluZ0Jsb2NrID0gbW92aW5nQ29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGNvbnN0IGNoZWNrZXIgPSBtb3ZpbmdDb25uZWN0aW9uLmdldENvbm5lY3Rpb25DaGVja2VyKCk7XG5cbiAgICBpZiAoXG4gICAgICBjaGVja2VyLmNhbkNvbm5lY3QobW92aW5nQ29ubmVjdGlvbiwgZGVzdENvbm5lY3Rpb24sIGZhbHNlKSAmJlxuICAgICAgIWRlc3RDb25uZWN0aW9uLmdldFNvdXJjZUJsb2NrKCkuaXNTaGFkb3coKVxuICAgICkge1xuICAgICAgdGhpcy5kaXNjb25uZWN0Q2hpbGQobW92aW5nQ29ubmVjdGlvbiwgZGVzdENvbm5lY3Rpb24pO1xuXG4gICAgICAvLyBQb3NpdGlvbiB0aGUgcm9vdCBibG9jayBuZWFyIHRoZSBjb25uZWN0aW9uIHNvIGl0IGRvZXMgbm90IG1vdmUgdGhlXG4gICAgICAvLyBvdGhlciBibG9jayB3aGVuIHRoZXkgYXJlIGNvbm5lY3RlZC5cbiAgICAgIGlmICghZGVzdENvbm5lY3Rpb24uaXNTdXBlcmlvcigpKSB7XG4gICAgICAgIGNvbnN0IHJvb3RCbG9jayA9IG1vdmluZ0Jsb2NrLmdldFJvb3RCbG9jaygpO1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsT2Zmc2V0VG9UYXJnZXQgPSB7XG4gICAgICAgICAgeDogZGVzdENvbm5lY3Rpb24ueCAtIG1vdmluZ0Nvbm5lY3Rpb24ueCxcbiAgICAgICAgICB5OiBkZXN0Q29ubmVjdGlvbi55IC0gbW92aW5nQ29ubmVjdGlvbi55LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvcmlnaW5hbE9mZnNldEluQmxvY2sgPSBtb3ZpbmdDb25uZWN0aW9uXG4gICAgICAgICAgLmdldE9mZnNldEluQmxvY2soKVxuICAgICAgICAgIC5jbG9uZSgpO1xuICAgICAgICByb290QmxvY2sucG9zaXRpb25OZWFyQ29ubmVjdGlvbihcbiAgICAgICAgICBtb3ZpbmdDb25uZWN0aW9uLFxuICAgICAgICAgIG9yaWdpbmFsT2Zmc2V0VG9UYXJnZXQsXG4gICAgICAgICAgb3JpZ2luYWxPZmZzZXRJbkJsb2NrLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZGVzdENvbm5lY3Rpb24uY29ubmVjdChtb3ZpbmdDb25uZWN0aW9uKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gY29ubmVjdCB0aGUgZ2l2ZW4gYmxvY2sgdG8gdGhlIGRlc3RpbmF0aW9uIGNvbm5lY3Rpb24sIG1ha2luZyBhblxuICAgKiBpbnRlbGxpZ2VudCBndWVzcyBhYm91dCB3aGljaCBjb25uZWN0aW9uIHRvIHVzZSBvbiB0aGUgbW92aW5nIGJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2sgVGhlIGJsb2NrIHRvIG1vdmUuXG4gICAqIEBwYXJhbSBkZXN0Q29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0b1xuICAgKiAgICAgY29ubmVjdCB0by5cbiAgICogQHJldHVybnMgV2hldGhlciB0aGUgY29ubmVjdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICovXG4gIGluc2VydEJsb2NrKFxuICAgIGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLFxuICAgIGRlc3RDb25uZWN0aW9uOiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbixcbiAgKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoIChkZXN0Q29ubmVjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIEJsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UOlxuICAgICAgICBpZiAodGhpcy5jb25uZWN0KGJsb2NrLm5leHRDb25uZWN0aW9uLCBkZXN0Q29ubmVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5ORVhUX1NUQVRFTUVOVDpcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdChibG9jay5wcmV2aW91c0Nvbm5lY3Rpb24sIGRlc3RDb25uZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LklOUFVUX1ZBTFVFOlxuICAgICAgICBpZiAodGhpcy5jb25uZWN0KGJsb2NrLm91dHB1dENvbm5lY3Rpb24sIGRlc3RDb25uZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5Lk9VVFBVVF9WQUxVRTpcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9jay5pbnB1dExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBpbnB1dENvbm5lY3Rpb24gPSBibG9jay5pbnB1dExpc3RbaV0uY29ubmVjdGlvbjtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpbnB1dENvbm5lY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0Q29ubmVjdGlvbi50eXBlID09PSBCbG9ja2x5LklOUFVUX1ZBTFVFICYmXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QoXG4gICAgICAgICAgICAgIGlucHV0Q29ubmVjdGlvbiBhcyBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgZGVzdENvbm5lY3Rpb24sXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGlucHV0IHZhbHVlcyBwYXNzIHRoZSBvdXRwdXQgYW5kIGRlc3RpbmF0aW9uXG4gICAgICAgIC8vIGNvbm5lY3Rpb25zIHRvIGNvbm5lY3RfIHRvIGZpbmQgYSB3YXkgdG8gY29ubmVjdCB0aGUgdHdvLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgYmxvY2sub3V0cHV0Q29ubmVjdGlvbiAmJlxuICAgICAgICAgIHRoaXMuY29ubmVjdChibG9jay5vdXRwdXRDb25uZWN0aW9uLCBkZXN0Q29ubmVjdGlvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMud2FybignVGhpcyBibG9jayBjYW4gbm90IGJlIGluc2VydGVkIGF0IHRoZSBtYXJrZWQgbG9jYXRpb24uJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgYWNjZXNzaWJpbGl0eSBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gZW5hYmxlIGtleWJvYXJkXG4gICAqICAgICBhY2Nlc3NpYmlsaXR5IG1vZGUgb24uXG4gICAqL1xuICBlbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgIGlmIChcbiAgICAgIHRoaXMud29ya3NwYWNlcy5pbmNsdWRlcyh3b3Jrc3BhY2UpICYmXG4gICAgICAhd29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGVcbiAgICApIHtcbiAgICAgIHdvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgYWNjZXNzaWJpbGl0eSBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gZGlzYWJsZSBrZXlib2FyZFxuICAgKiAgICAgYWNjZXNzaWJpbGl0eSBtb2RlIG9uLlxuICAgKi9cbiAgZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSh3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy53b3Jrc3BhY2VzLmluY2x1ZGVzKHdvcmtzcGFjZSkgJiZcbiAgICAgIHdvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlXG4gICAgKSB7XG4gICAgICB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0aW9uIGxvZyBoYW5kbGVyLiBJZiBsb2dnaW5nQ2FsbGJhY2sgaXMgZGVmaW5lZCwgdXNlIGl0LlxuICAgKiBPdGhlcndpc2UganVzdCBsb2cgdG8gdGhlIGNvbnNvbGUubG9nLlxuICAgKlxuICAgKiBAcGFyYW0gbXNnIFRoZSBtZXNzYWdlIHRvIGxvZy5cbiAgICovXG4gIGxvZyhtc2c6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGlvbiB3YXJuaW5nIGhhbmRsZXIuIElmIGxvZ2dpbmdDYWxsYmFjayBpcyBkZWZpbmVkLCB1c2UgaXQuXG4gICAqIE90aGVyd2lzZSBjYWxsIGNvbnNvbGUud2Fybi5cbiAgICpcbiAgICogQHBhcmFtIG1zZyBUaGUgd2FybmluZyBtZXNzYWdlLlxuICAgKi9cbiAgd2Fybihtc2c6IHN0cmluZykge1xuICAgIGNvbnNvbGUud2Fybihtc2cpO1xuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRpb24gZXJyb3IgaGFuZGxlci4gSWYgbG9nZ2luZ0NhbGxiYWNrIGlzIGRlZmluZWQsIHVzZSBpdC5cbiAgICogT3RoZXJ3aXNlIGNhbGwgY29uc29sZS5lcnJvci5cbiAgICpcbiAgICogQHBhcmFtIG1zZyBUaGUgZXJyb3IgbWVzc2FnZS5cbiAgICovXG4gIGVycm9yKG1zZzogc3RyaW5nKSB7XG4gICAgY29uc29sZS5lcnJvcihtc2cpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgdGhlIGN1cnJlbnQgY3Vyc29yIGxvY2F0aW9uIGFuZCBvcGVuIHRoZSB0b29sYm94IG9yIGZseW91dFxuICAgKiB0byBzZWxlY3QgYW5kIGluc2VydCBhIGJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSBhY3RpdmUgd29ya3NwYWNlLlxuICAgKi9cbiAgb3BlblRvb2xib3hPckZseW91dCh3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgY29uc3QgdG9vbGJveCA9IHdvcmtzcGFjZS5nZXRUb29sYm94KCk7XG4gICAgY29uc3QgZmx5b3V0ID0gd29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgIGlmICh0b29sYm94KSB7XG4gICAgICBCbG9ja2x5LmdldEZvY3VzTWFuYWdlcigpLmZvY3VzVHJlZSh0b29sYm94KTtcbiAgICB9IGVsc2UgaWYgKGZseW91dCkge1xuICAgICAgQmxvY2tseS5nZXRGb2N1c01hbmFnZXIoKS5mb2N1c1RyZWUoZmx5b3V0LmdldFdvcmtzcGFjZSgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFzdGVzIHRoZSBjb3BpZWQgYmxvY2sgdG8gdGhlIG1hcmtlZCBsb2NhdGlvbiBpZiBwb3NzaWJsZSBvclxuICAgKiBvbnRvIHRoZSB3b3Jrc3BhY2Ugb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAcGFyYW0gY29weURhdGEgVGhlIGRhdGEgdG8gcGFzdGUgaW50byB0aGUgd29ya3NwYWNlLlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gcGFzdGUgdGhlIGRhdGEgaW50by5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcGFzdGUgd2FzIHN1Y2Vzc2Z1bCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgcGFzdGUoY29weURhdGE6IEJsb2NrbHkuSUNvcHlEYXRhLCB3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKTogYm9vbGVhbiB7XG4gICAgLy8gRG8gdGhpcyBiZWZvcmUgY2xpcG9hcmQucGFzdGUgZHVlIHRvIGN1cnNvci9mb2N1cyB3b3JrYXJvdW5kIGluIGdldEN1ck5vZGUuXG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKS5nZXRDdXJOb2RlKCk7XG5cbiAgICBCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCh0cnVlKTtcbiAgICBjb25zdCBibG9jayA9IEJsb2NrbHkuY2xpcGJvYXJkLnBhc3RlKFxuICAgICAgY29weURhdGEsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgKSBhcyBCbG9ja2x5LkJsb2NrU3ZnO1xuICAgIGlmIChibG9jaykge1xuICAgICAgaWYgKHRhcmdldE5vZGUpIHtcbiAgICAgICAgdGhpcy50cnlUb0Nvbm5lY3RCbG9jayh0YXJnZXROb2RlLCBibG9jayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoZmFsc2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIga2V5Ym9hcmQgbmF2aWdhdGlvbiBzaG91bGQgYmUgYWxsb3dlZCBiYXNlZCBvbiB0aGVcbiAgICogY3VycmVudCBzdGF0ZSBvZiB0aGUgd29ya3NwYWNlLlxuICAgKlxuICAgKiBBIHJldHVybiB2YWx1ZSBvZiAndHJ1ZScgZ2VuZXJhbGx5IGluZGljYXRlcyB0aGF0IGVpdGhlciB0aGUgd29ya3NwYWNlLFxuICAgKiB0b29sYm94IG9yIGZseW91dCBoYXMgZW5hYmxlZCBrZXlib2FyZCBuYXZpZ2F0aW9uIGFuZCBpcyBjdXJyZW50bHkgaW4gYVxuICAgKiBzdGF0ZSAoZS5nLiBmb2N1cykgdGhhdCBjYW4gc3VwcG9ydCBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIHRoZSB3b3Jrc3BhY2UgaW4gd2hpY2gga2V5Ym9hcmQgbmF2aWdhdGlvbiBtYXkgYmUgYWxsb3dlZC5cbiAgICogQHJldHVybnMgd2hldGhlciBrZXlib2FyZCBuYXZpZ2F0aW9uIGlzIGN1cnJlbnRseSBhbGxvd2VkLlxuICAgKi9cbiAgY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2Zykge1xuICAgIC8vIE9ubHkgdGhlIG1haW4vcm9vdCB3b3Jrc3BhY2UgaGFzIHRoZSBhY2Nlc3NpYmlsaXR5IG1vZGUgYml0IHNldDsgZm9yXG4gICAgLy8gbmVzdGVkIHdvcmtzcGFjZXMgKG11dGF0b3JzIG9yIGZseW91dHMpIHdlIG5lZWQgdG8gd2FsayB1cCB0aGUgdHJlZS5cbiAgICAvLyBEZWZhdWx0IHRvIHRoZSByb290IHdvcmtzcGFjZSBpZiBwcmVzZW50LiBGbHlvdXRzIGRvbid0IGNvbnNpZGVyXG4gICAgLy8gdGhlaXIgd29ya3NwYWNlcyB0byBoYXZlIGEgcm9vdCB3b3Jrc3BhY2UvYmUgYSBuZXN0ZWQgY2hpbGQsIHNvIGZhbGxcbiAgICAvLyBiYWNrIHRvIGNoZWNraW5nIHRoZSB0YXJnZXQgd29ya3NwYWNlJ3Mgcm9vdCAoYC50YXJnZXRXb3Jrc3BhY2VgIG9ubHlcbiAgICAvLyBleGlzdHMgb24gZmx5b3V0IHdvcmtzcGFjZXMpIGFuZCB0aGVuIGZhbGwgYmFjayB0byB0aGUgdGFyZ2V0L21haW5cbiAgICAvLyB3b3Jrc3BhY2UgaXRzZWxmLlxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlNb2RlID0gKFxuICAgICAgd29ya3NwYWNlLmdldFJvb3RXb3Jrc3BhY2UoKSA/P1xuICAgICAgd29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZT8uZ2V0Um9vdFdvcmtzcGFjZSgpID8/XG4gICAgICB3b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlID8/XG4gICAgICB3b3Jrc3BhY2VcbiAgICApLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGU7XG4gICAgcmV0dXJuICEhYWNjZXNzaWJpbGl0eU1vZGUgJiYgdGhpcy5nZXRTdGF0ZSgpICE9PSBDb25zdGFudHMuU1RBVEUuTk9XSEVSRTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHdvcmtzcGFjZSBpcyBjdXJyZW50bHkga2V5Ym9hcmQgbmF2aWdhYmxlXG4gICAqIGFuZCBlZGl0YWJsZS5cbiAgICpcbiAgICogRm9yIHRoZSBuYXZpZ2FiaWxpdHkgY3JpdGVyaWEsIHNlZSBjYW5DdXJyZW50bHlLZXlib2FyZE5hdmlnYXRlLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIHRoZSB3b3Jrc3BhY2UgaW4gd2hpY2gga2V5Ym9hcmQgZWRpdGluZyBtYXkgYmUgYWxsb3dlZC5cbiAgICogQHJldHVybnMgd2hldGhlciBrZXlib2FyZCBuYXZpZ2F0aW9uIGFuZCBlZGl0aW5nIGlzIGN1cnJlbnRseSBhbGxvd2VkLlxuICAgKi9cbiAgY2FuQ3VycmVudGx5RWRpdCh3b3Jrc3BhY2U6IEJsb2NrbHkuV29ya3NwYWNlU3ZnKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FuQ3VycmVudGx5TmF2aWdhdGUod29ya3NwYWNlKSAmJiAhd29ya3NwYWNlLmlzUmVhZE9ubHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBjaGFuZ2UgbGlzdGVuZXJzIG9uIGFsbCByZWdpc3RlcmVkIHdvcmtzcGFjZXMuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIGZvciAoY29uc3Qgd29ya3NwYWNlIG9mIHRoaXMud29ya3NwYWNlcykge1xuICAgICAgdGhpcy5yZW1vdmVXb3Jrc3BhY2Uod29ya3NwYWNlKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/navigation.ts\n");

/***/ }),

/***/ "./src/navigation_controller.ts":
/*!**************************************!*\
  !*** ./src/navigation_controller.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavigationController: () => (/* binding */ NavigationController)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _actions_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./actions/clipboard */ \"./src/actions/clipboard.ts\");\n/* harmony import */ var _actions_delete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions/delete */ \"./src/actions/delete.ts\");\n/* harmony import */ var _actions_edit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/edit */ \"./src/actions/edit.ts\");\n/* harmony import */ var _navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./navigation */ \"./src/navigation.ts\");\n/* harmony import */ var _shortcut_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shortcut_dialog */ \"./src/shortcut_dialog.ts\");\n/* harmony import */ var _actions_ws_movement__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./actions/ws_movement */ \"./src/actions/ws_movement.ts\");\n/* harmony import */ var _actions_arrow_navigation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./actions/arrow_navigation */ \"./src/actions/arrow_navigation.ts\");\n/* harmony import */ var _actions_exit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./actions/exit */ \"./src/actions/exit.ts\");\n/* harmony import */ var _actions_enter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./actions/enter */ \"./src/actions/enter.ts\");\n/* harmony import */ var _actions_disconnect__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./actions/disconnect */ \"./src/actions/disconnect.ts\");\n/* harmony import */ var _actions_action_menu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./actions/action_menu */ \"./src/actions/action_menu.ts\");\n/* harmony import */ var _actions_move__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./actions/move */ \"./src/actions/move.ts\");\n/* harmony import */ var _actions_mover__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./actions/mover */ \"./src/actions/mover.ts\");\n/* harmony import */ var _actions_duplicate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./actions/duplicate */ \"./src/actions/duplicate.ts\");\n/* harmony import */ var _actions_stack_navigation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./actions/stack_navigation */ \"./src/actions/stack_navigation.ts\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Registers all of the keyboard shortcuts that are necessary for\n * navigating blockly using the keyboard.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst KeyCodes = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes;\n/**\n * Class for registering shortcuts for keyboard navigation.\n */\nclass NavigationController {\n    constructor(options = {\n        allowCrossWorkspacePaste: false,\n        highlightConnections: true,\n    }) {\n        var _a;\n        this.options = options;\n        this.navigation = new _navigation__WEBPACK_IMPORTED_MODULE_5__.Navigation();\n        this.shortcutDialog = new _shortcut_dialog__WEBPACK_IMPORTED_MODULE_6__.ShortcutDialog();\n        /** Context menu and keyboard action for deletion. */\n        this.deleteAction = new _actions_delete__WEBPACK_IMPORTED_MODULE_3__.DeleteAction();\n        /** Context menu and keyboard action for deletion. */\n        this.editAction = new _actions_edit__WEBPACK_IMPORTED_MODULE_4__.EditAction(this.navigation);\n        /** Keyboard shortcut for disconnection. */\n        this.disconnectAction = new _actions_disconnect__WEBPACK_IMPORTED_MODULE_11__.DisconnectAction(this.navigation);\n        this.duplicateAction = new _actions_duplicate__WEBPACK_IMPORTED_MODULE_15__.DuplicateAction();\n        this.workspaceMovement = new _actions_ws_movement__WEBPACK_IMPORTED_MODULE_7__.WorkspaceMovement(this.navigation);\n        /** Keyboard navigation actions for the arrow keys. */\n        this.arrowNavigation = new _actions_arrow_navigation__WEBPACK_IMPORTED_MODULE_8__.ArrowNavigation(this.navigation);\n        this.exitAction = new _actions_exit__WEBPACK_IMPORTED_MODULE_9__.ExitAction(this.navigation);\n        this.actionMenu = new _actions_action_menu__WEBPACK_IMPORTED_MODULE_12__.ActionMenu(this.navigation);\n        this.stackNavigationAction = new _actions_stack_navigation__WEBPACK_IMPORTED_MODULE_16__.StackNavigationAction();\n        /**\n         * Original Toolbox.prototype.onShortcut method, saved by\n         * addShortcutHandlers.\n         */\n        this.origToolboxOnShortcut = null;\n        /**\n         * Dictionary of KeyboardShortcuts.\n         */\n        this.shortcuts = {\n            /** Move focus to or from the toolbox. */\n            focusToolbox: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.TOOLBOX,\n                preconditionFn: (workspace) => !workspace.isDragging(),\n                callback: (workspace) => {\n                    var _a, _b, _c;\n                    blockly_core__WEBPACK_IMPORTED_MODULE_0__.keyboardNavigationController.setIsActive(true);\n                    switch (this.navigation.getState()) {\n                        case _constants__WEBPACK_IMPORTED_MODULE_1__.STATE.WORKSPACE:\n                            blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager().focusTree((_c = (_a = workspace.getToolbox()) !== null && _a !== void 0 ? _a : (_b = workspace.getFlyout()) === null || _b === void 0 ? void 0 : _b.getWorkspace()) !== null && _c !== void 0 ? _c : workspace);\n                            return true;\n                        default:\n                            return false;\n                    }\n                },\n                keyCodes: [KeyCodes.T],\n            },\n            /** Clean up the workspace. */\n            cleanup: {\n                name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.CLEAN_UP,\n                preconditionFn: (workspace) => this.navigation.canCurrentlyEdit(workspace) &&\n                    workspace.getTopBlocks(false).length > 0,\n                callback: (workspace) => {\n                    workspace.cleanUp();\n                    return true;\n                },\n                keyCodes: [KeyCodes.C],\n            },\n        };\n        this.mover = new _actions_mover__WEBPACK_IMPORTED_MODULE_14__.Mover(this.navigation, (_a = options.highlightConnections) !== null && _a !== void 0 ? _a : true, options.shouldDisableAutoScroll);\n        this.enterAction = new _actions_enter__WEBPACK_IMPORTED_MODULE_10__.EnterAction(this.mover, this.navigation);\n        this.moveActions = new _actions_move__WEBPACK_IMPORTED_MODULE_13__.MoveActions(this.mover);\n        this.clipboard = new _actions_clipboard__WEBPACK_IMPORTED_MODULE_2__.Clipboard(this.navigation, options);\n    }\n    /**\n     * Registers the default keyboard shortcuts for keyboard navigation.\n     */\n    init() {\n        this.addShortcutHandlers();\n        this.registerDefaults();\n    }\n    /**\n     * Monkeypatches core Blockly components to add methods that allow\n     * them to handle keyboard shortcuts when in keyboard navigation\n     * mode.\n     */\n    addShortcutHandlers() {\n        this.origToolboxOnShortcut = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox.prototype.onShortcut;\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox.prototype.onShortcut = this.toolboxHandler;\n    }\n    /**\n     * Removes monkeypatches from core Blockly components.\n     */\n    removeShortcutHandlers() {\n        if (!this.origToolboxOnShortcut) {\n            throw new Error('no original onShortcut method recorded');\n        }\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox.prototype.onShortcut = this.origToolboxOnShortcut;\n        this.origToolboxOnShortcut = null;\n    }\n    /**\n     * Handles the given keyboard shortcut.\n     * This is only triggered when keyboard accessibility mode is enabled.\n     *\n     * @param shortcut The shortcut to be handled.\n     * @returns True if the toolbox handled the shortcut, false otherwise.\n     */\n    toolboxHandler(shortcut) {\n        if (!this.selectedItem_) {\n            return false;\n        }\n        switch (shortcut.name) {\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.UP:\n                // @ts-expect-error private method\n                return this.selectPrevious();\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LEFT:\n                // @ts-expect-error private method\n                return this.selectParent();\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.DOWN:\n                // @ts-expect-error private method\n                return this.selectNext();\n            case _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.RIGHT:\n                // @ts-expect-error private method\n                return this.selectChild();\n            default:\n                return false;\n        }\n    }\n    /**\n     * Adds all necessary event listeners and markers to a workspace for keyboard\n     * navigation to work. This must be called for keyboard navigation to work\n     * on a workspace.\n     *\n     * @param workspace The workspace to add keyboard\n     *     navigation to.\n     */\n    addWorkspace(workspace) {\n        this.navigation.addWorkspace(workspace);\n    }\n    /**\n     * Removes all necessary event listeners and markers to a workspace for\n     * keyboard navigation to work.\n     *\n     * @param workspace The workspace to remove keyboard\n     *     navigation from.\n     */\n    removeWorkspace(workspace) {\n        this.navigation.removeWorkspace(workspace);\n    }\n    /**\n     * Turns on keyboard navigation.\n     *\n     * @param workspace The workspace to turn on keyboard\n     *     navigation for.\n     */\n    enable(workspace) {\n        this.navigation.enableKeyboardAccessibility(workspace);\n    }\n    /**\n     * Turns off keyboard navigation.\n     *\n     * @param workspace The workspace to turn off keyboard\n     *     navigation on.\n     */\n    disable(workspace) {\n        this.navigation.disableKeyboardAccessibility(workspace);\n    }\n    /**\n     * Registers all default keyboard shortcut items for keyboard\n     * navigation. This should be called once per instance of\n     * KeyboardShortcutRegistry.\n     */\n    registerDefaults() {\n        for (const shortcut of Object.values(this.shortcuts)) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(shortcut);\n        }\n        this.deleteAction.install();\n        this.workspaceMovement.install();\n        this.arrowNavigation.install();\n        this.editAction.install();\n        this.exitAction.install();\n        this.enterAction.install();\n        this.disconnectAction.install();\n        this.actionMenu.install();\n        this.clipboard.install();\n        this.duplicateAction.install();\n        this.moveActions.install();\n        this.shortcutDialog.install();\n        this.stackNavigationAction.install();\n        // Initialize the shortcut modal with available shortcuts.  Needs\n        // to be done separately rather at construction, as many shortcuts\n        // are not registered at that point.\n        this.shortcutDialog.createModalContent();\n    }\n    /**\n     * Enable or disable connection highlighting during move operations.\n     *\n     * @param enabled Whether to show connection highlights when moving blocks.\n     */\n    setHighlightConnections(enabled) {\n        this.mover.setHighlightConnections(enabled);\n    }\n    /**\n     * Enable or disable fatter connection highlights.\n     *\n     * @param enabled Whether to use fatter connections with larger click targets.\n     */\n    setFatterConnections(enabled) {\n        this.mover.setFatterConnections(enabled);\n    }\n    /**\n     * Set the connection highlight size.\n     *\n     * @param size The size level: 'minimal', 'medium', or 'large'.\n     */\n    setConnectionSize(size) {\n        this.mover.setConnectionSize(size);\n    }\n    /**\n     * Removes all the keyboard navigation shortcuts.\n     */\n    dispose() {\n        this.moveActions.uninstall();\n        this.deleteAction.uninstall();\n        this.editAction.uninstall();\n        this.disconnectAction.uninstall();\n        this.clipboard.uninstall();\n        this.duplicateAction.uninstall();\n        this.workspaceMovement.uninstall();\n        this.arrowNavigation.uninstall();\n        this.exitAction.uninstall();\n        this.enterAction.uninstall();\n        this.actionMenu.uninstall();\n        this.shortcutDialog.uninstall();\n        this.stackNavigationAction.uninstall();\n        // This should get unregistered when a move finishes,\n        // but it's possible the controller is disposed mid-move.\n        if (blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getRegistry()[_actions_mover__WEBPACK_IMPORTED_MODULE_14__.COMMIT_MOVE_SHORTCUT]) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_actions_mover__WEBPACK_IMPORTED_MODULE_14__.COMMIT_MOVE_SHORTCUT);\n        }\n        for (const shortcut of Object.values(this.shortcuts)) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(shortcut.name);\n        }\n        this.removeShortcutHandlers();\n        this.navigation.dispose();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsaUVBQW9CLENBQUMsRUFBRSxDQUFDO1lBQ2xFLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsaUVBQW9CLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBRUQsS0FBSyxNQUFNLFFBQVEsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO1lBQ3JELDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RELENBQUM7UUFDRCxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzVCLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvbmF2aWdhdGlvbl9jb250cm9sbGVyLnRzP2Y4ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUmVnaXN0ZXJzIGFsbCBvZiB0aGUga2V5Ym9hcmQgc2hvcnRjdXRzIHRoYXQgYXJlIG5lY2Vzc2FyeSBmb3JcbiAqIG5hdmlnYXRpbmcgYmxvY2tseSB1c2luZyB0aGUga2V5Ym9hcmQuXG4gKiBAYXV0aG9yIGFzY2htaWVkdEBnb29nbGUuY29tIChBYmJ5IFNjaG1pZWR0KVxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7XG4gIFNob3J0Y3V0UmVnaXN0cnksXG4gIFRvb2xib3gsXG4gIHV0aWxzIGFzIEJsb2NrbHlVdGlscyxcbiAgV29ya3NwYWNlU3ZnLFxuICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLFxufSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHtDbGlwYm9hcmR9IGZyb20gJy4vYWN0aW9ucy9jbGlwYm9hcmQnO1xuaW1wb3J0IHtEZWxldGVBY3Rpb259IGZyb20gJy4vYWN0aW9ucy9kZWxldGUnO1xuaW1wb3J0IHtFZGl0QWN0aW9ufSBmcm9tICcuL2FjdGlvbnMvZWRpdCc7XG5pbXBvcnQge05hdmlnYXRpb259IGZyb20gJy4vbmF2aWdhdGlvbic7XG5pbXBvcnQge1Nob3J0Y3V0RGlhbG9nfSBmcm9tICcuL3Nob3J0Y3V0X2RpYWxvZyc7XG5pbXBvcnQge1dvcmtzcGFjZU1vdmVtZW50fSBmcm9tICcuL2FjdGlvbnMvd3NfbW92ZW1lbnQnO1xuaW1wb3J0IHtBcnJvd05hdmlnYXRpb259IGZyb20gJy4vYWN0aW9ucy9hcnJvd19uYXZpZ2F0aW9uJztcbmltcG9ydCB7RXhpdEFjdGlvbn0gZnJvbSAnLi9hY3Rpb25zL2V4aXQnO1xuaW1wb3J0IHtFbnRlckFjdGlvbn0gZnJvbSAnLi9hY3Rpb25zL2VudGVyJztcbmltcG9ydCB7RGlzY29ubmVjdEFjdGlvbn0gZnJvbSAnLi9hY3Rpb25zL2Rpc2Nvbm5lY3QnO1xuaW1wb3J0IHtBY3Rpb25NZW51fSBmcm9tICcuL2FjdGlvbnMvYWN0aW9uX21lbnUnO1xuaW1wb3J0IHtNb3ZlQWN0aW9uc30gZnJvbSAnLi9hY3Rpb25zL21vdmUnO1xuaW1wb3J0IHtDT01NSVRfTU9WRV9TSE9SVENVVCwgTW92ZXJ9IGZyb20gJy4vYWN0aW9ucy9tb3Zlcic7XG5pbXBvcnQge0R1cGxpY2F0ZUFjdGlvbn0gZnJvbSAnLi9hY3Rpb25zL2R1cGxpY2F0ZSc7XG5pbXBvcnQge1N0YWNrTmF2aWdhdGlvbkFjdGlvbn0gZnJvbSAnLi9hY3Rpb25zL3N0YWNrX25hdmlnYXRpb24nO1xuXG5jb25zdCBLZXlDb2RlcyA9IEJsb2NrbHlVdGlscy5LZXlDb2RlcztcblxuLyoqXG4gKiBDbGFzcyBmb3IgcmVnaXN0ZXJpbmcgc2hvcnRjdXRzIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbkNvbnRyb2xsZXIge1xuICBwcml2YXRlIG5hdmlnYXRpb246IE5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbigpO1xuXG4gIHByaXZhdGUgbW92ZXI6IE1vdmVyO1xuXG4gIHNob3J0Y3V0RGlhbG9nOiBTaG9ydGN1dERpYWxvZyA9IG5ldyBTaG9ydGN1dERpYWxvZygpO1xuXG4gIC8qKiBDb250ZXh0IG1lbnUgYW5kIGtleWJvYXJkIGFjdGlvbiBmb3IgZGVsZXRpb24uICovXG4gIGRlbGV0ZUFjdGlvbjogRGVsZXRlQWN0aW9uID0gbmV3IERlbGV0ZUFjdGlvbigpO1xuXG4gIC8qKiBDb250ZXh0IG1lbnUgYW5kIGtleWJvYXJkIGFjdGlvbiBmb3IgZGVsZXRpb24uICovXG4gIGVkaXRBY3Rpb246IEVkaXRBY3Rpb24gPSBuZXcgRWRpdEFjdGlvbih0aGlzLm5hdmlnYXRpb24pO1xuXG4gIC8qKiBLZXlib2FyZCBzaG9ydGN1dCBmb3IgZGlzY29ubmVjdGlvbi4gKi9cbiAgZGlzY29ubmVjdEFjdGlvbjogRGlzY29ubmVjdEFjdGlvbiA9IG5ldyBEaXNjb25uZWN0QWN0aW9uKHRoaXMubmF2aWdhdGlvbik7XG5cbiAgY2xpcGJvYXJkOiBDbGlwYm9hcmQ7XG5cbiAgZHVwbGljYXRlQWN0aW9uID0gbmV3IER1cGxpY2F0ZUFjdGlvbigpO1xuXG4gIHdvcmtzcGFjZU1vdmVtZW50OiBXb3Jrc3BhY2VNb3ZlbWVudCA9IG5ldyBXb3Jrc3BhY2VNb3ZlbWVudCh0aGlzLm5hdmlnYXRpb24pO1xuXG4gIC8qKiBLZXlib2FyZCBuYXZpZ2F0aW9uIGFjdGlvbnMgZm9yIHRoZSBhcnJvdyBrZXlzLiAqL1xuICBhcnJvd05hdmlnYXRpb246IEFycm93TmF2aWdhdGlvbiA9IG5ldyBBcnJvd05hdmlnYXRpb24odGhpcy5uYXZpZ2F0aW9uKTtcblxuICBleGl0QWN0aW9uOiBFeGl0QWN0aW9uID0gbmV3IEV4aXRBY3Rpb24odGhpcy5uYXZpZ2F0aW9uKTtcblxuICBlbnRlckFjdGlvbjogRW50ZXJBY3Rpb247XG5cbiAgYWN0aW9uTWVudTogQWN0aW9uTWVudSA9IG5ldyBBY3Rpb25NZW51KHRoaXMubmF2aWdhdGlvbik7XG5cbiAgbW92ZUFjdGlvbnM6IE1vdmVBY3Rpb25zO1xuXG4gIHN0YWNrTmF2aWdhdGlvbkFjdGlvbjogU3RhY2tOYXZpZ2F0aW9uQWN0aW9uID0gbmV3IFN0YWNrTmF2aWdhdGlvbkFjdGlvbigpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgb3B0aW9uczoge1xuICAgICAgYWxsb3dDcm9zc1dvcmtzcGFjZVBhc3RlOiBib29sZWFuO1xuICAgICAgaGlnaGxpZ2h0Q29ubmVjdGlvbnM/OiBib29sZWFuO1xuICAgICAgc2hvdWxkRGlzYWJsZUF1dG9TY3JvbGw/OiAoKSA9PiBib29sZWFuO1xuICAgIH0gPSB7XG4gICAgICBhbGxvd0Nyb3NzV29ya3NwYWNlUGFzdGU6IGZhbHNlLFxuICAgICAgaGlnaGxpZ2h0Q29ubmVjdGlvbnM6IHRydWUsXG4gICAgfSxcbiAgKSB7XG4gICAgdGhpcy5tb3ZlciA9IG5ldyBNb3ZlcihcbiAgICAgIHRoaXMubmF2aWdhdGlvbixcbiAgICAgIG9wdGlvbnMuaGlnaGxpZ2h0Q29ubmVjdGlvbnMgPz8gdHJ1ZSxcbiAgICAgIG9wdGlvbnMuc2hvdWxkRGlzYWJsZUF1dG9TY3JvbGxcbiAgICApO1xuICAgIHRoaXMuZW50ZXJBY3Rpb24gPSBuZXcgRW50ZXJBY3Rpb24odGhpcy5tb3ZlciwgdGhpcy5uYXZpZ2F0aW9uKTtcbiAgICB0aGlzLm1vdmVBY3Rpb25zID0gbmV3IE1vdmVBY3Rpb25zKHRoaXMubW92ZXIpO1xuICAgIHRoaXMuY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCh0aGlzLm5hdmlnYXRpb24sIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9yaWdpbmFsIFRvb2xib3gucHJvdG90eXBlLm9uU2hvcnRjdXQgbWV0aG9kLCBzYXZlZCBieVxuICAgKiBhZGRTaG9ydGN1dEhhbmRsZXJzLlxuICAgKi9cbiAgcHJpdmF0ZSBvcmlnVG9vbGJveE9uU2hvcnRjdXQ6XG4gICAgfCB0eXBlb2YgQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5vblNob3J0Y3V0XG4gICAgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSBkZWZhdWx0IGtleWJvYXJkIHNob3J0Y3V0cyBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5hZGRTaG9ydGN1dEhhbmRsZXJzKCk7XG4gICAgdGhpcy5yZWdpc3RlckRlZmF1bHRzKCk7XG4gIH1cblxuICAvKipcbiAgICogTW9ua2V5cGF0Y2hlcyBjb3JlIEJsb2NrbHkgY29tcG9uZW50cyB0byBhZGQgbWV0aG9kcyB0aGF0IGFsbG93XG4gICAqIHRoZW0gdG8gaGFuZGxlIGtleWJvYXJkIHNob3J0Y3V0cyB3aGVuIGluIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICogbW9kZS5cbiAgICovXG4gIHByb3RlY3RlZCBhZGRTaG9ydGN1dEhhbmRsZXJzKCkge1xuICAgIHRoaXMub3JpZ1Rvb2xib3hPblNob3J0Y3V0ID0gVG9vbGJveC5wcm90b3R5cGUub25TaG9ydGN1dDtcbiAgICBUb29sYm94LnByb3RvdHlwZS5vblNob3J0Y3V0ID0gdGhpcy50b29sYm94SGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIG1vbmtleXBhdGNoZXMgZnJvbSBjb3JlIEJsb2NrbHkgY29tcG9uZW50cy5cbiAgICovXG4gIHByb3RlY3RlZCByZW1vdmVTaG9ydGN1dEhhbmRsZXJzKCkge1xuICAgIGlmICghdGhpcy5vcmlnVG9vbGJveE9uU2hvcnRjdXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbm8gb3JpZ2luYWwgb25TaG9ydGN1dCBtZXRob2QgcmVjb3JkZWQnKTtcbiAgICB9XG4gICAgQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5vblNob3J0Y3V0ID0gdGhpcy5vcmlnVG9vbGJveE9uU2hvcnRjdXQ7XG4gICAgdGhpcy5vcmlnVG9vbGJveE9uU2hvcnRjdXQgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGdpdmVuIGtleWJvYXJkIHNob3J0Y3V0LlxuICAgKiBUaGlzIGlzIG9ubHkgdHJpZ2dlcmVkIHdoZW4ga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSBtb2RlIGlzIGVuYWJsZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzaG9ydGN1dCBUaGUgc2hvcnRjdXQgdG8gYmUgaGFuZGxlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdG9vbGJveCBoYW5kbGVkIHRoZSBzaG9ydGN1dCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHRvb2xib3hIYW5kbGVyKFxuICAgIHRoaXM6IEJsb2NrbHkuVG9vbGJveCxcbiAgICBzaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0LFxuICApOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRJdGVtXykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzd2l0Y2ggKHNob3J0Y3V0Lm5hbWUpIHtcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlVQOlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgbWV0aG9kXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdFByZXZpb3VzKCk7XG4gICAgICBjYXNlIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5MRUZUOlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgbWV0aG9kXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdFBhcmVudCgpO1xuICAgICAgY2FzZSBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuRE9XTjpcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3ROZXh0KCk7XG4gICAgICBjYXNlIENvbnN0YW50cy5TSE9SVENVVF9OQU1FUy5SSUdIVDpcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIG1ldGhvZFxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RDaGlsZCgpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFsbCBuZWNlc3NhcnkgZXZlbnQgbGlzdGVuZXJzIGFuZCBtYXJrZXJzIHRvIGEgd29ya3NwYWNlIGZvciBrZXlib2FyZFxuICAgKiBuYXZpZ2F0aW9uIHRvIHdvcmsuIFRoaXMgbXVzdCBiZSBjYWxsZWQgZm9yIGtleWJvYXJkIG5hdmlnYXRpb24gdG8gd29ya1xuICAgKiBvbiBhIHdvcmtzcGFjZS5cbiAgICpcbiAgICogQHBhcmFtIHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRvIGFkZCBrZXlib2FyZFxuICAgKiAgICAgbmF2aWdhdGlvbiB0by5cbiAgICovXG4gIGFkZFdvcmtzcGFjZSh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgIHRoaXMubmF2aWdhdGlvbi5hZGRXb3Jrc3BhY2Uod29ya3NwYWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBuZWNlc3NhcnkgZXZlbnQgbGlzdGVuZXJzIGFuZCBtYXJrZXJzIHRvIGEgd29ya3NwYWNlIGZvclxuICAgKiBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvIHdvcmsuXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byByZW1vdmUga2V5Ym9hcmRcbiAgICogICAgIG5hdmlnYXRpb24gZnJvbS5cbiAgICovXG4gIHJlbW92ZVdvcmtzcGFjZSh3b3Jrc3BhY2U6IFdvcmtzcGFjZVN2Zykge1xuICAgIHRoaXMubmF2aWdhdGlvbi5yZW1vdmVXb3Jrc3BhY2Uod29ya3NwYWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUdXJucyBvbiBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdG8gdHVybiBvbiBrZXlib2FyZFxuICAgKiAgICAgbmF2aWdhdGlvbiBmb3IuXG4gICAqL1xuICBlbmFibGUod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24uZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KHdvcmtzcGFjZSk7XG4gIH1cblxuICAvKipcbiAgICogVHVybnMgb2ZmIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byB0dXJuIG9mZiBrZXlib2FyZFxuICAgKiAgICAgbmF2aWdhdGlvbiBvbi5cbiAgICovXG4gIGRpc2FibGUod29ya3NwYWNlOiBXb3Jrc3BhY2VTdmcpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24uZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSh3b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpY3Rpb25hcnkgb2YgS2V5Ym9hcmRTaG9ydGN1dHMuXG4gICAqL1xuICBwcm90ZWN0ZWQgc2hvcnRjdXRzOiB7XG4gICAgW25hbWU6IHN0cmluZ106IFNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dDtcbiAgfSA9IHtcbiAgICAvKiogTW92ZSBmb2N1cyB0byBvciBmcm9tIHRoZSB0b29sYm94LiAqL1xuICAgIGZvY3VzVG9vbGJveDoge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLlRPT0xCT1gsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT4gIXdvcmtzcGFjZS5pc0RyYWdnaW5nKCksXG4gICAgICBjYWxsYmFjazogKHdvcmtzcGFjZSkgPT4ge1xuICAgICAgICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLnNldElzQWN0aXZlKHRydWUpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMubmF2aWdhdGlvbi5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgY2FzZSBDb25zdGFudHMuU1RBVEUuV09SS1NQQUNFOlxuICAgICAgICAgICAgQmxvY2tseS5nZXRGb2N1c01hbmFnZXIoKS5mb2N1c1RyZWUoXG4gICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRUb29sYm94KCkgPz9cbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0Rmx5b3V0KCk/LmdldFdvcmtzcGFjZSgpID8/XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBrZXlDb2RlczogW0tleUNvZGVzLlRdLFxuICAgIH0sXG5cbiAgICAvKiogQ2xlYW4gdXAgdGhlIHdvcmtzcGFjZS4gKi9cbiAgICBjbGVhbnVwOiB7XG4gICAgICBuYW1lOiBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuQ0xFQU5fVVAsXG4gICAgICBwcmVjb25kaXRpb25GbjogKHdvcmtzcGFjZSkgPT5cbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNhbkN1cnJlbnRseUVkaXQod29ya3NwYWNlKSAmJlxuICAgICAgICB3b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKGZhbHNlKS5sZW5ndGggPiAwLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHtcbiAgICAgICAgd29ya3NwYWNlLmNsZWFuVXAoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFtLZXlDb2Rlcy5DXSxcbiAgICB9LFxuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYWxsIGRlZmF1bHQga2V5Ym9hcmQgc2hvcnRjdXQgaXRlbXMgZm9yIGtleWJvYXJkXG4gICAqIG5hdmlnYXRpb24uIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBvbmNlIHBlciBpbnN0YW5jZSBvZlxuICAgKiBLZXlib2FyZFNob3J0Y3V0UmVnaXN0cnkuXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVnaXN0ZXJEZWZhdWx0cygpIHtcbiAgICBmb3IgKGNvbnN0IHNob3J0Y3V0IG9mIE9iamVjdC52YWx1ZXModGhpcy5zaG9ydGN1dHMpKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHNob3J0Y3V0KTtcbiAgICB9XG4gICAgdGhpcy5kZWxldGVBY3Rpb24uaW5zdGFsbCgpO1xuICAgIHRoaXMud29ya3NwYWNlTW92ZW1lbnQuaW5zdGFsbCgpO1xuICAgIHRoaXMuYXJyb3dOYXZpZ2F0aW9uLmluc3RhbGwoKTtcbiAgICB0aGlzLmVkaXRBY3Rpb24uaW5zdGFsbCgpO1xuICAgIHRoaXMuZXhpdEFjdGlvbi5pbnN0YWxsKCk7XG4gICAgdGhpcy5lbnRlckFjdGlvbi5pbnN0YWxsKCk7XG4gICAgdGhpcy5kaXNjb25uZWN0QWN0aW9uLmluc3RhbGwoKTtcbiAgICB0aGlzLmFjdGlvbk1lbnUuaW5zdGFsbCgpO1xuXG4gICAgdGhpcy5jbGlwYm9hcmQuaW5zdGFsbCgpO1xuICAgIHRoaXMuZHVwbGljYXRlQWN0aW9uLmluc3RhbGwoKTtcbiAgICB0aGlzLm1vdmVBY3Rpb25zLmluc3RhbGwoKTtcbiAgICB0aGlzLnNob3J0Y3V0RGlhbG9nLmluc3RhbGwoKTtcbiAgICB0aGlzLnN0YWNrTmF2aWdhdGlvbkFjdGlvbi5pbnN0YWxsKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBzaG9ydGN1dCBtb2RhbCB3aXRoIGF2YWlsYWJsZSBzaG9ydGN1dHMuICBOZWVkc1xuICAgIC8vIHRvIGJlIGRvbmUgc2VwYXJhdGVseSByYXRoZXIgYXQgY29uc3RydWN0aW9uLCBhcyBtYW55IHNob3J0Y3V0c1xuICAgIC8vIGFyZSBub3QgcmVnaXN0ZXJlZCBhdCB0aGF0IHBvaW50LlxuICAgIHRoaXMuc2hvcnRjdXREaWFsb2cuY3JlYXRlTW9kYWxDb250ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgY29ubmVjdGlvbiBoaWdobGlnaHRpbmcgZHVyaW5nIG1vdmUgb3BlcmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQgV2hldGhlciB0byBzaG93IGNvbm5lY3Rpb24gaGlnaGxpZ2h0cyB3aGVuIG1vdmluZyBibG9ja3MuXG4gICAqL1xuICBzZXRIaWdobGlnaHRDb25uZWN0aW9ucyhlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5tb3Zlci5zZXRIaWdobGlnaHRDb25uZWN0aW9ucyhlbmFibGVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBmYXR0ZXIgY29ubmVjdGlvbiBoaWdobGlnaHRzLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZCBXaGV0aGVyIHRvIHVzZSBmYXR0ZXIgY29ubmVjdGlvbnMgd2l0aCBsYXJnZXIgY2xpY2sgdGFyZ2V0cy5cbiAgICovXG4gIHNldEZhdHRlckNvbm5lY3Rpb25zKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLm1vdmVyLnNldEZhdHRlckNvbm5lY3Rpb25zKGVuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY29ubmVjdGlvbiBoaWdobGlnaHQgc2l6ZS5cbiAgICpcbiAgICogQHBhcmFtIHNpemUgVGhlIHNpemUgbGV2ZWw6ICdtaW5pbWFsJywgJ21lZGl1bScsIG9yICdsYXJnZScuXG4gICAqL1xuICBzZXRDb25uZWN0aW9uU2l6ZShzaXplOiAnbWluaW1hbCcgfCAnbWVkaXVtJyB8ICdsYXJnZScpOiB2b2lkIHtcbiAgICB0aGlzLm1vdmVyLnNldENvbm5lY3Rpb25TaXplKHNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIHRoZSBrZXlib2FyZCBuYXZpZ2F0aW9uIHNob3J0Y3V0cy5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5tb3ZlQWN0aW9ucy51bmluc3RhbGwoKTtcbiAgICB0aGlzLmRlbGV0ZUFjdGlvbi51bmluc3RhbGwoKTtcbiAgICB0aGlzLmVkaXRBY3Rpb24udW5pbnN0YWxsKCk7XG4gICAgdGhpcy5kaXNjb25uZWN0QWN0aW9uLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuY2xpcGJvYXJkLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuZHVwbGljYXRlQWN0aW9uLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMud29ya3NwYWNlTW92ZW1lbnQudW5pbnN0YWxsKCk7XG4gICAgdGhpcy5hcnJvd05hdmlnYXRpb24udW5pbnN0YWxsKCk7XG4gICAgdGhpcy5leGl0QWN0aW9uLnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuZW50ZXJBY3Rpb24udW5pbnN0YWxsKCk7XG4gICAgdGhpcy5hY3Rpb25NZW51LnVuaW5zdGFsbCgpO1xuICAgIHRoaXMuc2hvcnRjdXREaWFsb2cudW5pbnN0YWxsKCk7XG4gICAgdGhpcy5zdGFja05hdmlnYXRpb25BY3Rpb24udW5pbnN0YWxsKCk7XG5cbiAgICAvLyBUaGlzIHNob3VsZCBnZXQgdW5yZWdpc3RlcmVkIHdoZW4gYSBtb3ZlIGZpbmlzaGVzLFxuICAgIC8vIGJ1dCBpdCdzIHBvc3NpYmxlIHRoZSBjb250cm9sbGVyIGlzIGRpc3Bvc2VkIG1pZC1tb3ZlLlxuICAgIGlmIChTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmdldFJlZ2lzdHJ5KClbQ09NTUlUX01PVkVfU0hPUlRDVVRdKSB7XG4gICAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoQ09NTUlUX01PVkVfU0hPUlRDVVQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc2hvcnRjdXQgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLnNob3J0Y3V0cykpIHtcbiAgICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkudW5yZWdpc3RlcihzaG9ydGN1dC5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVTaG9ydGN1dEhhbmRsZXJzKCk7XG4gICAgdGhpcy5uYXZpZ2F0aW9uLmRpc3Bvc2UoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/navigation_controller.ts\n");

/***/ }),

/***/ "./src/navigation_deferring_toolbox.ts":
/*!*********************************************!*\
  !*** ./src/navigation_deferring_toolbox.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavigationDeferringToolbox: () => (/* binding */ NavigationDeferringToolbox),\n/* harmony export */   registerNavigationDeferringToolbox: () => (/* binding */ registerNavigationDeferringToolbox)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Toolbox class that does not handle keyboard navigation.\n */\nclass NavigationDeferringToolbox extends blockly_core__WEBPACK_IMPORTED_MODULE_0__.Toolbox {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    onKeyDown_(e) {\n        // No-op, prevent keyboard handling by superclass in order to defer to\n        // global keyboard navigation.\n    }\n}\n/**\n * Registers the navigation-deferring toolbox with Blockly.\n */\nfunction registerNavigationDeferringToolbox() {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.register(blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.Type.TOOLBOX, blockly_core__WEBPACK_IMPORTED_MODULE_0__.registry.DEFAULT, NavigationDeferringToolbox, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbmF2aWdhdGlvbl9kZWZlcnJpbmdfdG9vbGJveC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztHQUlHO0FBRXFDO0FBRXhDOztHQUVHO0FBQ0ksTUFBTSwwQkFBMkIsU0FBUSxpREFBZTtJQUM3RCxnRUFBZ0U7SUFDN0MsVUFBVSxDQUFDLENBQWdCO1FBQzVDLHNFQUFzRTtRQUN0RSw4QkFBOEI7SUFDaEMsQ0FBQztDQUNGO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLGtDQUFrQztJQUNoRCxrREFBZ0IsQ0FBQyxRQUFRLENBQ3ZCLGtEQUFnQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQzdCLGtEQUFnQixDQUFDLE9BQU8sRUFDeEIsMEJBQTBCLEVBQzFCLElBQUksQ0FDTCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvbmF2aWdhdGlvbl9kZWZlcnJpbmdfdG9vbGJveC50cz9kZDVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG4vKipcbiAqIFRvb2xib3ggY2xhc3MgdGhhdCBkb2VzIG5vdCBoYW5kbGUga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94IGV4dGVuZHMgQmxvY2tseS5Ub29sYm94IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgb25LZXlEb3duXyhlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgLy8gTm8tb3AsIHByZXZlbnQga2V5Ym9hcmQgaGFuZGxpbmcgYnkgc3VwZXJjbGFzcyBpbiBvcmRlciB0byBkZWZlciB0b1xuICAgIC8vIGdsb2JhbCBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIHRoZSBuYXZpZ2F0aW9uLWRlZmVycmluZyB0b29sYm94IHdpdGggQmxvY2tseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyTmF2aWdhdGlvbkRlZmVycmluZ1Rvb2xib3goKSB7XG4gIEJsb2NrbHkucmVnaXN0cnkucmVnaXN0ZXIoXG4gICAgQmxvY2tseS5yZWdpc3RyeS5UeXBlLlRPT0xCT1gsXG4gICAgQmxvY2tseS5yZWdpc3RyeS5ERUZBVUxULFxuICAgIE5hdmlnYXRpb25EZWZlcnJpbmdUb29sYm94LFxuICAgIHRydWUsXG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/navigation_deferring_toolbox.ts\n");

/***/ }),

/***/ "./src/shortcut_dialog.ts":
/*!********************************!*\
  !*** ./src/shortcut_dialog.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ShortcutDialog: () => (/* binding */ ShortcutDialog)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shortcut_formatting */ \"./src/shortcut_formatting.ts\");\n/* harmony import */ var _hints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hints */ \"./src/hints.ts\");\n/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n/**\n * Class for handling the shortcuts dialog.\n */\nclass ShortcutDialog {\n    /**\n     * Constructor for a dialog that displays available keyboard shortcuts.\n     */\n    constructor() {\n        // For testing purposes, this assumes that the page has a\n        // div named 'shortcuts'.\n        this.outputDiv = document.getElementById('shortcuts');\n        this.open = false;\n        this.modalContainer = null;\n        this.shortcutDialog = null;\n        this.closeButton = null;\n    }\n    getPlatform() {\n        const { platform, userAgent } = navigator;\n        if (platform.startsWith('Win')) {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['WINDOWS'];\n        }\n        else if (platform.startsWith('Mac')) {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['MAC_OS'];\n        }\n        else if (/\\bCrOS\\b/.test(userAgent)) {\n            // Order is important because platform matches the Linux case below.\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['CHROME_OS'];\n        }\n        else if (platform.includes('Linux')) {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['LINUX'];\n        }\n        else {\n            return blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['UNKNOWN'];\n        }\n    }\n    toggle(workspace) {\n        (0,_hints__WEBPACK_IMPORTED_MODULE_3__.clearHelpHint)(workspace);\n        this.toggleInternal();\n    }\n    toggleInternal() {\n        if (this.modalContainer && this.shortcutDialog) {\n            // Use built in dialog methods.\n            if (this.shortcutDialog.hasAttribute('open')) {\n                this.shortcutDialog.close();\n            }\n            else {\n                this.shortcutDialog.showModal();\n            }\n        }\n    }\n    /**\n     * Munges a shortcut name into human readable text.\n     *\n     * @param shortcutName Shortcut name to convert.\n     * @returns A title case version of the name.\n     */\n    getReadableShortcutName(shortcutName) {\n        if (_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES_TO_DISPLAY_TEXT[shortcutName]) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES_TO_DISPLAY_TEXT[shortcutName];\n        }\n        return (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.upperCaseFirst)(shortcutName.replace(/_/gi, ' '));\n    }\n    /**\n     * List all currently registered shortcuts as a table.\n     */\n    createModalContent() {\n        let shortcutTables = ``;\n        // Display shortcuts by their categories.\n        for (const [key, categoryShortcuts] of Object.entries(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_CATEGORIES)) {\n            let shortcutTableRows = ``;\n            for (const keyboardShortcut of categoryShortcuts) {\n                shortcutTableRows += this.getTableRowForShortcut(keyboardShortcut);\n            }\n            shortcutTables += `\n        <table class=\"shortcut-table\">\n          <tbody>\n            <tr class=\"category\"><th colspan=\"3\"><h2>${key}</h2></th></tr>\n            ${shortcutTableRows}\n          </tbody>\n        </table>`;\n        }\n        const modalContents = `<div class=\"modal-container\">\n      <dialog class=\"shortcut-modal\">\n        <div class=\"shortcut-container\" tabindex=\"0\">\n          <div class=\"header\">\n            <button class=\"close-modal\">\n              <span class=\"material-symbols-outlined\">close</span>\n            </button>\n            <h1>${blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg['SHORTCUTS_HELP_HEADER'] || 'Keyboard shortcuts'}  <span class=\"platform\">${this.getPlatform()}</span></h1>\n          </div>\n          <div class=\"shortcut-tables\">\n          ${shortcutTables}\n          </div>\n        </dialog>\n      </div>`;\n        if (this.outputDiv) {\n            this.outputDiv.innerHTML = modalContents;\n            this.modalContainer = this.outputDiv.querySelector('.modal-container');\n            this.shortcutDialog = this.outputDiv.querySelector('.shortcut-modal');\n            this.closeButton = this.outputDiv.querySelector('.close-modal');\n            if (this.closeButton) {\n                this.closeButton.addEventListener('click', (e) => {\n                    this.toggleInternal();\n                });\n            }\n        }\n    }\n    getTableRowForShortcut(keyboardShortcut) {\n        const name = this.getReadableShortcutName(keyboardShortcut);\n        const keys = this.actionShortcutsToHTML(keyboardShortcut);\n        if (!name || !keys)\n            return '';\n        return `\n              <tr>\n                <td>${name}</td>\n                <td>${keys}</td>\n              </tr>`;\n    }\n    actionShortcutsToHTML(action) {\n        const shortcuts = (0,_shortcut_formatting__WEBPACK_IMPORTED_MODULE_2__.getLongActionShortcutsAsKeys)(action);\n        return shortcuts.map((keys) => this.keysToHTML(keys)).join(' / ');\n    }\n    keysToHTML(keys) {\n        const separator = navigator.platform.startsWith('Mac') ? '' : ' + ';\n        if (!keys || !keys.length)\n            return '';\n        return [\n            `<span class=\"shortcut-combo\">`,\n            ...keys.map((key, index) => {\n                return `<span class=\"key\">${key}</span>${index < keys.length - 1 ? separator : ''}`;\n            }),\n            `</span>`,\n        ].join('');\n    }\n    /**\n     * Registers an action to list shortcuts with the shortcut registry.\n     */\n    install() {\n        /** List all of the currently registered shortcuts. */\n        const announceShortcut = {\n            name: _constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LIST_SHORTCUTS,\n            callback: (workspace) => {\n                this.toggle(workspace);\n                return true;\n            },\n            keyCodes: [blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.KeyCodes.SLASH],\n        };\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.register(announceShortcut);\n    }\n    /**\n     * Unregisters the action to list shortcuts.\n     */\n    uninstall() {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.unregister(_constants__WEBPACK_IMPORTED_MODULE_1__.SHORTCUT_NAMES.LIST_SHORTCUTS);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ0QsUUFBUSxFQUFFLENBQUMsK0NBQWEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO1NBQ3pDLENBQUM7UUFDRiwwREFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsU0FBUztRQUNQLDBEQUFnQixDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQ2xDLHNEQUF3QixDQUFDLGNBQWMsQ0FDeEMsQ0FBQztJQUNKLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvc2hvcnRjdXRfZGlhbG9nLnRzP2JmMzYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHtNc2csIFNob3J0Y3V0UmVnaXN0cnl9IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge1xuICBnZXRMb25nQWN0aW9uU2hvcnRjdXRzQXNLZXlzLFxuICB1cHBlckNhc2VGaXJzdCxcbn0gZnJvbSAnLi9zaG9ydGN1dF9mb3JtYXR0aW5nJztcbmltcG9ydCB7Y2xlYXJIZWxwSGludH0gZnJvbSAnLi9oaW50cyc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBzaG9ydGN1dHMgZGlhbG9nLlxuICovXG5leHBvcnQgY2xhc3MgU2hvcnRjdXREaWFsb2cge1xuICBvdXRwdXREaXY6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgbW9kYWxDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgc2hvcnRjdXREaWFsb2c6IEhUTUxEaWFsb2dFbGVtZW50IHwgbnVsbDtcbiAgb3BlbjogYm9vbGVhbjtcbiAgY2xvc2VCdXR0b246IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBhIGRpYWxvZyB0aGF0IGRpc3BsYXlzIGF2YWlsYWJsZSBrZXlib2FyZCBzaG9ydGN1dHMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBGb3IgdGVzdGluZyBwdXJwb3NlcywgdGhpcyBhc3N1bWVzIHRoYXQgdGhlIHBhZ2UgaGFzIGFcbiAgICAvLyBkaXYgbmFtZWQgJ3Nob3J0Y3V0cycuXG4gICAgdGhpcy5vdXRwdXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvcnRjdXRzJyk7XG5cbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICB0aGlzLm1vZGFsQ29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLnNob3J0Y3V0RGlhbG9nID0gbnVsbDtcbiAgICB0aGlzLmNsb3NlQnV0dG9uID0gbnVsbDtcbiAgfVxuXG4gIGdldFBsYXRmb3JtKCkge1xuICAgIGNvbnN0IHtwbGF0Zm9ybSwgdXNlckFnZW50fSA9IG5hdmlnYXRvcjtcbiAgICBpZiAocGxhdGZvcm0uc3RhcnRzV2l0aCgnV2luJykpIHtcbiAgICAgIHJldHVybiBNc2dbJ1dJTkRPV1MnXTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLnN0YXJ0c1dpdGgoJ01hYycpKSB7XG4gICAgICByZXR1cm4gTXNnWydNQUNfT1MnXTtcbiAgICB9IGVsc2UgaWYgKC9cXGJDck9TXFxiLy50ZXN0KHVzZXJBZ2VudCkpIHtcbiAgICAgIC8vIE9yZGVyIGlzIGltcG9ydGFudCBiZWNhdXNlIHBsYXRmb3JtIG1hdGNoZXMgdGhlIExpbnV4IGNhc2UgYmVsb3cuXG4gICAgICByZXR1cm4gTXNnWydDSFJPTUVfT1MnXTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmluY2x1ZGVzKCdMaW51eCcpKSB7XG4gICAgICByZXR1cm4gTXNnWydMSU5VWCddO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTXNnWydVTktOT1dOJ107XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlKHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcpIHtcbiAgICBjbGVhckhlbHBIaW50KHdvcmtzcGFjZSk7XG4gICAgdGhpcy50b2dnbGVJbnRlcm5hbCgpO1xuICB9XG5cbiAgdG9nZ2xlSW50ZXJuYWwoKSB7XG4gICAgaWYgKHRoaXMubW9kYWxDb250YWluZXIgJiYgdGhpcy5zaG9ydGN1dERpYWxvZykge1xuICAgICAgLy8gVXNlIGJ1aWx0IGluIGRpYWxvZyBtZXRob2RzLlxuICAgICAgaWYgKHRoaXMuc2hvcnRjdXREaWFsb2cuaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcbiAgICAgICAgdGhpcy5zaG9ydGN1dERpYWxvZy5jbG9zZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaG9ydGN1dERpYWxvZy5zaG93TW9kYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTXVuZ2VzIGEgc2hvcnRjdXQgbmFtZSBpbnRvIGh1bWFuIHJlYWRhYmxlIHRleHQuXG4gICAqXG4gICAqIEBwYXJhbSBzaG9ydGN1dE5hbWUgU2hvcnRjdXQgbmFtZSB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyBBIHRpdGxlIGNhc2UgdmVyc2lvbiBvZiB0aGUgbmFtZS5cbiAgICovXG4gIGdldFJlYWRhYmxlU2hvcnRjdXROYW1lKHNob3J0Y3V0TmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKENvbnN0YW50cy5TSE9SVENVVF9OQU1FU19UT19ESVNQTEFZX1RFWFRbc2hvcnRjdXROYW1lXSkge1xuICAgICAgcmV0dXJuIENvbnN0YW50cy5TSE9SVENVVF9OQU1FU19UT19ESVNQTEFZX1RFWFRbc2hvcnRjdXROYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHVwcGVyQ2FzZUZpcnN0KHNob3J0Y3V0TmFtZS5yZXBsYWNlKC9fL2dpLCAnICcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IGFsbCBjdXJyZW50bHkgcmVnaXN0ZXJlZCBzaG9ydGN1dHMgYXMgYSB0YWJsZS5cbiAgICovXG4gIGNyZWF0ZU1vZGFsQ29udGVudCgpIHtcbiAgICBsZXQgc2hvcnRjdXRUYWJsZXMgPSBgYDtcblxuICAgIC8vIERpc3BsYXkgc2hvcnRjdXRzIGJ5IHRoZWlyIGNhdGVnb3JpZXMuXG4gICAgZm9yIChjb25zdCBba2V5LCBjYXRlZ29yeVNob3J0Y3V0c10gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICBDb25zdGFudHMuU0hPUlRDVVRfQ0FURUdPUklFUyxcbiAgICApKSB7XG4gICAgICBsZXQgc2hvcnRjdXRUYWJsZVJvd3MgPSBgYDtcbiAgICAgIGZvciAoY29uc3Qga2V5Ym9hcmRTaG9ydGN1dCBvZiBjYXRlZ29yeVNob3J0Y3V0cykge1xuICAgICAgICBzaG9ydGN1dFRhYmxlUm93cyArPSB0aGlzLmdldFRhYmxlUm93Rm9yU2hvcnRjdXQoXG4gICAgICAgICAga2V5Ym9hcmRTaG9ydGN1dCBhcyBzdHJpbmcsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBzaG9ydGN1dFRhYmxlcyArPSBgXG4gICAgICAgIDx0YWJsZSBjbGFzcz1cInNob3J0Y3V0LXRhYmxlXCI+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgPHRyIGNsYXNzPVwiY2F0ZWdvcnlcIj48dGggY29sc3Bhbj1cIjNcIj48aDI+JHtrZXl9PC9oMj48L3RoPjwvdHI+XG4gICAgICAgICAgICAke3Nob3J0Y3V0VGFibGVSb3dzfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+YDtcbiAgICB9XG5cbiAgICBjb25zdCBtb2RhbENvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cbiAgICAgIDxkaWFsb2cgY2xhc3M9XCJzaG9ydGN1dC1tb2RhbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcnRjdXQtY29udGFpbmVyXCIgdGFiaW5kZXg9XCIwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsb3NlLW1vZGFsXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZFwiPmNsb3NlPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDE+JHtNc2dbJ1NIT1JUQ1VUU19IRUxQX0hFQURFUiddIHx8ICdLZXlib2FyZCBzaG9ydGN1dHMnfSDigJMgPHNwYW4gY2xhc3M9XCJwbGF0Zm9ybVwiPiR7dGhpcy5nZXRQbGF0Zm9ybSgpfTwvc3Bhbj48L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaG9ydGN1dC10YWJsZXNcIj5cbiAgICAgICAgICAke3Nob3J0Y3V0VGFibGVzfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2RpYWxvZz5cbiAgICAgIDwvZGl2PmA7XG4gICAgaWYgKHRoaXMub3V0cHV0RGl2KSB7XG4gICAgICB0aGlzLm91dHB1dERpdi5pbm5lckhUTUwgPSBtb2RhbENvbnRlbnRzO1xuICAgICAgdGhpcy5tb2RhbENvbnRhaW5lciA9IHRoaXMub3V0cHV0RGl2LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250YWluZXInKTtcbiAgICAgIHRoaXMuc2hvcnRjdXREaWFsb2cgPSB0aGlzLm91dHB1dERpdi5xdWVyeVNlbGVjdG9yKCcuc2hvcnRjdXQtbW9kYWwnKTtcbiAgICAgIHRoaXMuY2xvc2VCdXR0b24gPSB0aGlzLm91dHB1dERpdi5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtbW9kYWwnKTtcbiAgICAgIGlmICh0aGlzLmNsb3NlQnV0dG9uKSB7XG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgIHRoaXMudG9nZ2xlSW50ZXJuYWwoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRUYWJsZVJvd0ZvclNob3J0Y3V0KGtleWJvYXJkU2hvcnRjdXQ6IHN0cmluZykge1xuICAgIGNvbnN0IG5hbWUgPSB0aGlzLmdldFJlYWRhYmxlU2hvcnRjdXROYW1lKGtleWJvYXJkU2hvcnRjdXQpO1xuICAgIGNvbnN0IGtleXMgPSB0aGlzLmFjdGlvblNob3J0Y3V0c1RvSFRNTChrZXlib2FyZFNob3J0Y3V0KTtcbiAgICBpZiAoIW5hbWUgfHwgIWtleXMpIHJldHVybiAnJztcbiAgICByZXR1cm4gYFxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPiR7bmFtZX08L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4ke2tleXN9PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5gO1xuICB9XG5cbiAgcHJpdmF0ZSBhY3Rpb25TaG9ydGN1dHNUb0hUTUwoYWN0aW9uOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaG9ydGN1dHMgPSBnZXRMb25nQWN0aW9uU2hvcnRjdXRzQXNLZXlzKGFjdGlvbik7XG4gICAgcmV0dXJuIHNob3J0Y3V0cy5tYXAoKGtleXMpID0+IHRoaXMua2V5c1RvSFRNTChrZXlzKSkuam9pbignIC8gJyk7XG4gIH1cblxuICBwcml2YXRlIGtleXNUb0hUTUwoa2V5czogc3RyaW5nW10pIHtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSBuYXZpZ2F0b3IucGxhdGZvcm0uc3RhcnRzV2l0aCgnTWFjJykgPyAnJyA6ICcgKyAnO1xuICAgIGlmICgha2V5cyB8fCAha2V5cy5sZW5ndGgpIHJldHVybiAnJztcbiAgICByZXR1cm4gW1xuICAgICAgYDxzcGFuIGNsYXNzPVwic2hvcnRjdXQtY29tYm9cIj5gLFxuICAgICAgLi4ua2V5cy5tYXAoKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cImtleVwiPiR7a2V5fTwvc3Bhbj4ke2luZGV4IDwga2V5cy5sZW5ndGggLSAxID8gc2VwYXJhdG9yIDogJyd9YDtcbiAgICAgIH0pLFxuICAgICAgYDwvc3Bhbj5gLFxuICAgIF0uam9pbignJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFuIGFjdGlvbiB0byBsaXN0IHNob3J0Y3V0cyB3aXRoIHRoZSBzaG9ydGN1dCByZWdpc3RyeS5cbiAgICovXG4gIGluc3RhbGwoKSB7XG4gICAgLyoqIExpc3QgYWxsIG9mIHRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBzaG9ydGN1dHMuICovXG4gICAgY29uc3QgYW5ub3VuY2VTaG9ydGN1dDogU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogQ29uc3RhbnRzLlNIT1JUQ1VUX05BTUVTLkxJU1RfU0hPUlRDVVRTLFxuICAgICAgY2FsbGJhY2s6ICh3b3Jrc3BhY2UpID0+IHtcbiAgICAgICAgdGhpcy50b2dnbGUod29ya3NwYWNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAga2V5Q29kZXM6IFtCbG9ja2x5LnV0aWxzLktleUNvZGVzLlNMQVNIXSxcbiAgICB9O1xuICAgIFNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoYW5ub3VuY2VTaG9ydGN1dCk7XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgdGhlIGFjdGlvbiB0byBsaXN0IHNob3J0Y3V0cy5cbiAgICovXG4gIHVuaW5zdGFsbCgpIHtcbiAgICBTaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoXG4gICAgICBDb25zdGFudHMuU0hPUlRDVVRfTkFNRVMuTElTVF9TSE9SVENVVFMsXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/shortcut_dialog.ts\n");

/***/ }),

/***/ "./src/shortcut_formatting.ts":
/*!************************************!*\
  !*** ./src/shortcut_formatting.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLongActionShortcutsAsKeys: () => (/* binding */ getLongActionShortcutsAsKeys),\n/* harmony export */   getMenuItem: () => (/* binding */ getMenuItem),\n/* harmony export */   getShortActionShortcut: () => (/* binding */ getShortActionShortcut),\n/* harmony export */   upperCaseFirst: () => (/* binding */ upperCaseFirst)\n/* harmony export */ });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/index.mjs\");\n/* harmony import */ var _keynames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keynames */ \"./src/keynames.ts\");\n\n\nconst isMacPlatform = navigator.platform.startsWith('Mac');\n/**\n * Returns an HTML menu item with a label and grey keyboard shortcut.\n *\n * @param labelText The text of the mneu item.\n * @param action The identifier of an action to use the keyboard shortcut of.\n * @returns A nicely formatted menu item.\n */\nfunction getMenuItem(labelText, action) {\n    // TODO: Once core is updated to remove the shortcut placeholders from the\n    // keyboard shortcut messages, remove this.\n    if (labelText.indexOf(')') === labelText.length - 1) {\n        labelText = labelText.split(' (')[0];\n    }\n    const container = document.createElement('div');\n    container.className = 'blocklyShortcutContainer';\n    const label = document.createElement('span');\n    label.textContent = labelText;\n    const shortcut = document.createElement('span');\n    shortcut.className = 'blocklyShortcut';\n    shortcut.textContent = ` ${getShortActionShortcut(action)}`;\n    container.appendChild(label);\n    container.appendChild(shortcut);\n    return container;\n}\n/**\n * Find the primary shortcut for this platform and return it as single string\n * in a short user facing format.\n *\n * @param action The action name, e.g. \"cut\".\n * @returns The formatted shortcut.\n */\nfunction getShortActionShortcut(action) {\n    const parts = getActionShortcutsAsKeys(action, shortModifierNames)[0];\n    return parts.join(isMacPlatform ? ' ' : ' + ');\n}\n/**\n * Find the relevant shortcuts for the given action for the current platform.\n * Keys are returned in a long user facing format.\n *\n * @param action The action name, e.g. \"cut\".\n * @returns The formatted shortcuts as individual keys.\n */\nfunction getLongActionShortcutsAsKeys(action) {\n    return getActionShortcutsAsKeys(action, longModifierNames);\n}\nconst longModifierNames = {\n    'Control': blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['CONTROL_KEY'],\n    'Meta': blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['COMMAND_KEY'],\n    'Alt': isMacPlatform ? blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['OPTION_KEY'] : blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['ALT_KEY'],\n};\nconst shortModifierNames = {\n    'Control': blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['CONTROL_KEY'],\n    'Meta': '',\n    'Alt': isMacPlatform ? '' : blockly__WEBPACK_IMPORTED_MODULE_0__.Msg['ALT_KEY'],\n};\n/**\n * Find the relevant shortcuts for the given action for the current platform.\n * Keys are returned in a user facing format.\n *\n * This could be considerably simpler if we only bound shortcuts relevant to the\n * current platform or tagged them with a platform.\n *\n * @param action The action name, e.g. \"cut\".\n * @param modifierNames The names to use for the Meta/Control/Alt modifiers.\n * @returns The formatted shortcuts.\n */\nfunction getActionShortcutsAsKeys(action, modifierNames) {\n    const shortcuts = blockly__WEBPACK_IMPORTED_MODULE_0__.ShortcutRegistry.registry.getKeyCodesByShortcutName(action);\n    if (shortcuts.length === 0) {\n        return [];\n    }\n    // See ShortcutRegistry.createSerializedKey for the starting format.\n    const shortcutsAsParts = shortcuts.map((shortcut) => shortcut.split('+'));\n    // Prefer e.g. Cmd+Shift to Shift+Cmd.\n    shortcutsAsParts.forEach((s) => s.sort((a, b) => {\n        const aValue = modifierOrder(a);\n        const bValue = modifierOrder(b);\n        return aValue - bValue;\n    }));\n    // Needed to prefer Command to Option where we've bound Alt.\n    shortcutsAsParts.sort((a, b) => {\n        const aValue = a.includes('Meta') ? 1 : 0;\n        const bValue = b.includes('Meta') ? 1 : 0;\n        return bValue - aValue;\n    });\n    let currentPlatform = shortcutsAsParts.filter((shortcut) => {\n        const isMacShortcut = shortcut.includes('Meta');\n        return isMacShortcut === isMacPlatform;\n    });\n    currentPlatform =\n        currentPlatform.length === 0 ? shortcutsAsParts : currentPlatform;\n    // Prefer simpler shortcuts. This promotes Ctrl+Y for redo.\n    currentPlatform.sort((a, b) => {\n        return a.length - b.length;\n    });\n    // If there are modifiers return only one shortcut on the assumption they are\n    // intended for different platforms. Otherwise assume they are alternatives.\n    const hasModifiers = currentPlatform.some((shortcut) => shortcut.some((key) => 'Meta' === key || 'Alt' === key || 'Control' === key));\n    const chosen = hasModifiers ? [currentPlatform[0]] : currentPlatform;\n    return chosen.map((shortcut) => {\n        return shortcut\n            .map((maybeNumeric) => { var _a; return (_a = _keynames__WEBPACK_IMPORTED_MODULE_1__.keyNames[maybeNumeric]) !== null && _a !== void 0 ? _a : maybeNumeric; })\n            .map((k) => { var _a; return upperCaseFirst((_a = modifierNames[k]) !== null && _a !== void 0 ? _a : k); });\n    });\n}\n/**\n * Convert the first character to uppercase.\n *\n * @param str String.\n * @returns The string in title case.\n */\nfunction upperCaseFirst(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n}\n/**\n * Preferred listing order of untranslated modifiers.\n */\nconst modifierOrdering = ['Meta', 'Control', 'Alt', 'Shift'];\nfunction modifierOrder(key) {\n    const order = modifierOrdering.indexOf(key);\n    // Regular keys at the end.\n    return order === -1 ? Number.MAX_VALUE : order;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztBQUV2RSxTQUFTLGFBQWEsQ0FBQyxHQUFXO0lBQ2hDLE1BQU0sS0FBSyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QywyQkFBMkI7SUFDM0IsT0FBTyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUNqRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL3NyYy9zaG9ydGN1dF9mb3JtYXR0aW5nLnRzPzVlMTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTaG9ydGN1dFJlZ2lzdHJ5LCBNc2d9IGZyb20gJ2Jsb2NrbHknO1xuaW1wb3J0IHtrZXlOYW1lc30gZnJvbSAnLi9rZXluYW1lcyc7XG5cbmNvbnN0IGlzTWFjUGxhdGZvcm0gPSBuYXZpZ2F0b3IucGxhdGZvcm0uc3RhcnRzV2l0aCgnTWFjJyk7XG5cbi8qKlxuICogUmV0dXJucyBhbiBIVE1MIG1lbnUgaXRlbSB3aXRoIGEgbGFiZWwgYW5kIGdyZXkga2V5Ym9hcmQgc2hvcnRjdXQuXG4gKlxuICogQHBhcmFtIGxhYmVsVGV4dCBUaGUgdGV4dCBvZiB0aGUgbW5ldSBpdGVtLlxuICogQHBhcmFtIGFjdGlvbiBUaGUgaWRlbnRpZmllciBvZiBhbiBhY3Rpb24gdG8gdXNlIHRoZSBrZXlib2FyZCBzaG9ydGN1dCBvZi5cbiAqIEByZXR1cm5zIEEgbmljZWx5IGZvcm1hdHRlZCBtZW51IGl0ZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW51SXRlbShsYWJlbFRleHQ6IHN0cmluZywgYWN0aW9uOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gIC8vIFRPRE86IE9uY2UgY29yZSBpcyB1cGRhdGVkIHRvIHJlbW92ZSB0aGUgc2hvcnRjdXQgcGxhY2Vob2xkZXJzIGZyb20gdGhlXG4gIC8vIGtleWJvYXJkIHNob3J0Y3V0IG1lc3NhZ2VzLCByZW1vdmUgdGhpcy5cbiAgaWYgKGxhYmVsVGV4dC5pbmRleE9mKCcpJykgPT09IGxhYmVsVGV4dC5sZW5ndGggLSAxKSB7XG4gICAgbGFiZWxUZXh0ID0gbGFiZWxUZXh0LnNwbGl0KCcgKCcpWzBdO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2Jsb2NrbHlTaG9ydGN1dENvbnRhaW5lcic7XG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBsYWJlbC50ZXh0Q29udGVudCA9IGxhYmVsVGV4dDtcbiAgY29uc3Qgc2hvcnRjdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHNob3J0Y3V0LmNsYXNzTmFtZSA9ICdibG9ja2x5U2hvcnRjdXQnO1xuICBzaG9ydGN1dC50ZXh0Q29udGVudCA9IGAgJHtnZXRTaG9ydEFjdGlvblNob3J0Y3V0KGFjdGlvbil9YDtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNob3J0Y3V0KTtcbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBwcmltYXJ5IHNob3J0Y3V0IGZvciB0aGlzIHBsYXRmb3JtIGFuZCByZXR1cm4gaXQgYXMgc2luZ2xlIHN0cmluZ1xuICogaW4gYSBzaG9ydCB1c2VyIGZhY2luZyBmb3JtYXQuXG4gKlxuICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIG5hbWUsIGUuZy4gXCJjdXRcIi5cbiAqIEByZXR1cm5zIFRoZSBmb3JtYXR0ZWQgc2hvcnRjdXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaG9ydEFjdGlvblNob3J0Y3V0KGFjdGlvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFydHMgPSBnZXRBY3Rpb25TaG9ydGN1dHNBc0tleXMoYWN0aW9uLCBzaG9ydE1vZGlmaWVyTmFtZXMpWzBdO1xuICByZXR1cm4gcGFydHMuam9pbihpc01hY1BsYXRmb3JtID8gJyAnIDogJyArICcpO1xufVxuXG4vKipcbiAqIEZpbmQgdGhlIHJlbGV2YW50IHNob3J0Y3V0cyBmb3IgdGhlIGdpdmVuIGFjdGlvbiBmb3IgdGhlIGN1cnJlbnQgcGxhdGZvcm0uXG4gKiBLZXlzIGFyZSByZXR1cm5lZCBpbiBhIGxvbmcgdXNlciBmYWNpbmcgZm9ybWF0LlxuICpcbiAqIEBwYXJhbSBhY3Rpb24gVGhlIGFjdGlvbiBuYW1lLCBlLmcuIFwiY3V0XCIuXG4gKiBAcmV0dXJucyBUaGUgZm9ybWF0dGVkIHNob3J0Y3V0cyBhcyBpbmRpdmlkdWFsIGtleXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb25nQWN0aW9uU2hvcnRjdXRzQXNLZXlzKGFjdGlvbjogc3RyaW5nKTogc3RyaW5nW11bXSB7XG4gIHJldHVybiBnZXRBY3Rpb25TaG9ydGN1dHNBc0tleXMoYWN0aW9uLCBsb25nTW9kaWZpZXJOYW1lcyk7XG59XG5cbmNvbnN0IGxvbmdNb2RpZmllck5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAnQ29udHJvbCc6IE1zZ1snQ09OVFJPTF9LRVknXSxcbiAgJ01ldGEnOiBNc2dbJ0NPTU1BTkRfS0VZJ10sXG4gICdBbHQnOiBpc01hY1BsYXRmb3JtID8gTXNnWydPUFRJT05fS0VZJ10gOiBNc2dbJ0FMVF9LRVknXSxcbn07XG5cbmNvbnN0IHNob3J0TW9kaWZpZXJOYW1lczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgJ0NvbnRyb2wnOiBNc2dbJ0NPTlRST0xfS0VZJ10sXG4gICdNZXRhJzogJ+KMmCcsXG4gICdBbHQnOiBpc01hY1BsYXRmb3JtID8gJ+KMpScgOiBNc2dbJ0FMVF9LRVknXSxcbn07XG5cbi8qKlxuICogRmluZCB0aGUgcmVsZXZhbnQgc2hvcnRjdXRzIGZvciB0aGUgZ2l2ZW4gYWN0aW9uIGZvciB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAqIEtleXMgYXJlIHJldHVybmVkIGluIGEgdXNlciBmYWNpbmcgZm9ybWF0LlxuICpcbiAqIFRoaXMgY291bGQgYmUgY29uc2lkZXJhYmx5IHNpbXBsZXIgaWYgd2Ugb25seSBib3VuZCBzaG9ydGN1dHMgcmVsZXZhbnQgdG8gdGhlXG4gKiBjdXJyZW50IHBsYXRmb3JtIG9yIHRhZ2dlZCB0aGVtIHdpdGggYSBwbGF0Zm9ybS5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gbmFtZSwgZS5nLiBcImN1dFwiLlxuICogQHBhcmFtIG1vZGlmaWVyTmFtZXMgVGhlIG5hbWVzIHRvIHVzZSBmb3IgdGhlIE1ldGEvQ29udHJvbC9BbHQgbW9kaWZpZXJzLlxuICogQHJldHVybnMgVGhlIGZvcm1hdHRlZCBzaG9ydGN1dHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFjdGlvblNob3J0Y3V0c0FzS2V5cyhcbiAgYWN0aW9uOiBzdHJpbmcsXG4gIG1vZGlmaWVyTmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4pOiBzdHJpbmdbXVtdIHtcbiAgY29uc3Qgc2hvcnRjdXRzID0gU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5nZXRLZXlDb2Rlc0J5U2hvcnRjdXROYW1lKGFjdGlvbik7XG4gIGlmIChzaG9ydGN1dHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIC8vIFNlZSBTaG9ydGN1dFJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkgZm9yIHRoZSBzdGFydGluZyBmb3JtYXQuXG4gIGNvbnN0IHNob3J0Y3V0c0FzUGFydHMgPSBzaG9ydGN1dHMubWFwKChzaG9ydGN1dCkgPT4gc2hvcnRjdXQuc3BsaXQoJysnKSk7XG5cbiAgLy8gUHJlZmVyIGUuZy4gQ21kK1NoaWZ0IHRvIFNoaWZ0K0NtZC5cbiAgc2hvcnRjdXRzQXNQYXJ0cy5mb3JFYWNoKChzKSA9PlxuICAgIHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYVZhbHVlID0gbW9kaWZpZXJPcmRlcihhKTtcbiAgICAgIGNvbnN0IGJWYWx1ZSA9IG1vZGlmaWVyT3JkZXIoYik7XG4gICAgICByZXR1cm4gYVZhbHVlIC0gYlZhbHVlO1xuICAgIH0pLFxuICApO1xuXG4gIC8vIE5lZWRlZCB0byBwcmVmZXIgQ29tbWFuZCB0byBPcHRpb24gd2hlcmUgd2UndmUgYm91bmQgQWx0LlxuICBzaG9ydGN1dHNBc1BhcnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBhVmFsdWUgPSBhLmluY2x1ZGVzKCdNZXRhJykgPyAxIDogMDtcbiAgICBjb25zdCBiVmFsdWUgPSBiLmluY2x1ZGVzKCdNZXRhJykgPyAxIDogMDtcbiAgICByZXR1cm4gYlZhbHVlIC0gYVZhbHVlO1xuICB9KTtcbiAgbGV0IGN1cnJlbnRQbGF0Zm9ybSA9IHNob3J0Y3V0c0FzUGFydHMuZmlsdGVyKChzaG9ydGN1dCkgPT4ge1xuICAgIGNvbnN0IGlzTWFjU2hvcnRjdXQgPSBzaG9ydGN1dC5pbmNsdWRlcygnTWV0YScpO1xuICAgIHJldHVybiBpc01hY1Nob3J0Y3V0ID09PSBpc01hY1BsYXRmb3JtO1xuICB9KTtcbiAgY3VycmVudFBsYXRmb3JtID1cbiAgICBjdXJyZW50UGxhdGZvcm0ubGVuZ3RoID09PSAwID8gc2hvcnRjdXRzQXNQYXJ0cyA6IGN1cnJlbnRQbGF0Zm9ybTtcblxuICAvLyBQcmVmZXIgc2ltcGxlciBzaG9ydGN1dHMuIFRoaXMgcHJvbW90ZXMgQ3RybCtZIGZvciByZWRvLlxuICBjdXJyZW50UGxhdGZvcm0uc29ydCgoYSwgYikgPT4ge1xuICAgIHJldHVybiBhLmxlbmd0aCAtIGIubGVuZ3RoO1xuICB9KTtcblxuICAvLyBJZiB0aGVyZSBhcmUgbW9kaWZpZXJzIHJldHVybiBvbmx5IG9uZSBzaG9ydGN1dCBvbiB0aGUgYXNzdW1wdGlvbiB0aGV5IGFyZVxuICAvLyBpbnRlbmRlZCBmb3IgZGlmZmVyZW50IHBsYXRmb3Jtcy4gT3RoZXJ3aXNlIGFzc3VtZSB0aGV5IGFyZSBhbHRlcm5hdGl2ZXMuXG4gIGNvbnN0IGhhc01vZGlmaWVycyA9IGN1cnJlbnRQbGF0Zm9ybS5zb21lKChzaG9ydGN1dCkgPT5cbiAgICBzaG9ydGN1dC5zb21lKFxuICAgICAgKGtleSkgPT4gJ01ldGEnID09PSBrZXkgfHwgJ0FsdCcgPT09IGtleSB8fCAnQ29udHJvbCcgPT09IGtleSxcbiAgICApLFxuICApO1xuICBjb25zdCBjaG9zZW4gPSBoYXNNb2RpZmllcnMgPyBbY3VycmVudFBsYXRmb3JtWzBdXSA6IGN1cnJlbnRQbGF0Zm9ybTtcbiAgcmV0dXJuIGNob3Nlbi5tYXAoKHNob3J0Y3V0KSA9PiB7XG4gICAgcmV0dXJuIHNob3J0Y3V0XG4gICAgICAubWFwKChtYXliZU51bWVyaWMpID0+IGtleU5hbWVzW21heWJlTnVtZXJpY10gPz8gbWF5YmVOdW1lcmljKVxuICAgICAgLm1hcCgoaykgPT4gdXBwZXJDYXNlRmlyc3QobW9kaWZpZXJOYW1lc1trXSA/PyBrKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgdGhlIGZpcnN0IGNoYXJhY3RlciB0byB1cHBlcmNhc2UuXG4gKlxuICogQHBhcmFtIHN0ciBTdHJpbmcuXG4gKiBAcmV0dXJucyBUaGUgc3RyaW5nIGluIHRpdGxlIGNhc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cHBlckNhc2VGaXJzdChzdHI6IHN0cmluZykge1xuICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTtcbn1cblxuLyoqXG4gKiBQcmVmZXJyZWQgbGlzdGluZyBvcmRlciBvZiB1bnRyYW5zbGF0ZWQgbW9kaWZpZXJzLlxuICovXG5jb25zdCBtb2RpZmllck9yZGVyaW5nOiBzdHJpbmdbXSA9IFsnTWV0YScsICdDb250cm9sJywgJ0FsdCcsICdTaGlmdCddO1xuXG5mdW5jdGlvbiBtb2RpZmllck9yZGVyKGtleTogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3Qgb3JkZXIgPSBtb2RpZmllck9yZGVyaW5nLmluZGV4T2Yoa2V5KTtcbiAgLy8gUmVndWxhciBrZXlzIGF0IHRoZSBlbmQuXG4gIHJldHVybiBvcmRlciA9PT0gLTEgPyBOdW1iZXIuTUFYX1ZBTFVFIDogb3JkZXI7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/shortcut_formatting.ts\n");

/***/ }),

/***/ "./src/sticky_mode_controller.ts":
/*!***************************************!*\
  !*** ./src/sticky_mode_controller.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StickyModeController: () => (/* binding */ StickyModeController),\n/* harmony export */   StickyModeInfo: () => (/* binding */ StickyModeInfo),\n/* harmony export */   TriggerMode: () => (/* binding */ TriggerMode)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var _actions_mover__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions/mover */ \"./src/actions/mover.ts\");\n/* harmony import */ var _workspace_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./workspace_utilities */ \"./src/workspace_utilities.ts\");\n/* harmony import */ var _move_grip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./move_grip */ \"./src/move_grip.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n/**\n * Trigger modes for entering sticky mode.\n */\nvar TriggerMode;\n(function (TriggerMode) {\n    /** Double-click to enter sticky mode (default behavior). */\n    TriggerMode[\"DOUBLE_CLICK\"] = \"double_click\";\n    /** Shift + single click to enter sticky mode. */\n    TriggerMode[\"SHIFT_CLICK\"] = \"shift_click\";\n    /** Single click on an already-focused block to enter sticky mode. */\n    TriggerMode[\"FOCUSED_CLICK\"] = \"focused_click\";\n    /** Any single click enters sticky mode when singleClickToMove is enabled. */\n    TriggerMode[\"MODE_TOGGLE\"] = \"mode_toggle\";\n    /** Click on the grip handle to enter sticky mode. */\n    TriggerMode[\"GRIP_CLICK\"] = \"grip_click\";\n})(TriggerMode || (TriggerMode = {}));\n/**\n * Information about an active sticky mode operation.\n */\nclass StickyModeInfo {\n    constructor(block, startClientX, startClientY) {\n        this.block = block;\n        this.startClientX = startClientX;\n        this.startClientY = startClientY;\n    }\n}\n/**\n * Controller for click-and-stick functionality.\n * Manages the lifecycle of sticky mode where blocks follow the cursor after double-click.\n * Follows the same architectural pattern as Mover (Map-based tracking, lifecycle methods).\n */\nclass StickyModeController {\n    constructor(workspace, navigationController) {\n        this.workspace = workspace;\n        this.navigationController = navigationController;\n        /** Map tracking active sticky mode operations per workspace. */\n        this.stickyModes = new Map();\n        /** Event listeners that need cleanup. */\n        this.listeners = [];\n        /** The current trigger mode for entering sticky mode. */\n        this.triggerMode = TriggerMode.DOUBLE_CLICK;\n        /** The block that was focused before pointerdown (for focused-click trigger mode). */\n        this.focusedBlockBeforePointerdown = null;\n        /** Flag to ignore the next click event after entering sticky mode via shift+click. */\n        this.ignoreNextClick = false;\n        /** The current move grip displayed on the focused block, if any. */\n        this.currentGrip = null;\n        /** The block that currently has a grip attached. */\n        this.gripBlock = null;\n        /** Whether the block should follow the mouse cursor during sticky move (default: true). */\n        this.keepBlockOnMouse = true;\n    }\n    /**\n     * Enable or disable keeping the block on the mouse during sticky move.\n     *\n     * @param enabled Whether the block should follow the cursor (true) or stay at click position (false).\n     */\n    setKeepBlockOnMouse(enabled) {\n        this.keepBlockOnMouse = enabled;\n    }\n    /**\n     * Gets the mover from the navigation controller.\n     */\n    get mover() {\n        return this.navigationController.mover;\n    }\n    /**\n     * Gets the drag strategy from a block.\n     *\n     * @param block\n     */\n    getDragStrategy(block) {\n        return block.dragStrategy;\n    }\n    /**\n     * Sets click-and-stick mode on a block's drag strategy.\n     *\n     * @param block\n     * @param enabled\n     */\n    setClickAndStickMode(block, enabled) {\n        const strategy = this.getDragStrategy(block);\n        if (strategy === null || strategy === void 0 ? void 0 : strategy.setClickAndStickMode) {\n            strategy.setClickAndStickMode(enabled);\n        }\n    }\n    /**\n     * Check if sticky mode is currently active for this workspace.\n     */\n    isActive() {\n        return this.stickyModes.has(this.workspace);\n    }\n    /**\n     * Get the block currently in sticky mode, if any.\n     */\n    getActiveBlock() {\n        const info = this.stickyModes.get(this.workspace);\n        return info ? info.block : null;\n    }\n    /**\n     * Set the trigger mode for entering sticky mode.\n     *\n     * @param mode The trigger mode to use.\n     */\n    setTriggerMode(mode) {\n        this.triggerMode = mode;\n    }\n    /**\n     * Check if the given block can enter sticky mode.\n     *\n     * @param block\n     */\n    canEnter(block) {\n        return !!(block &&\n            !block.isDisposed() &&\n            block.isMovable() &&\n            !this.mover.isMoving(this.workspace));\n    }\n    /**\n     * Sets up event listeners for click and stick functionality.\n     */\n    install() {\n        const workspaceElement = this.workspace.getParentSvg();\n        if (!workspaceElement)\n            return;\n        this.addListener(workspaceElement, 'dblclick', (event) => {\n            this.handleDoubleClick(event);\n        }, false);\n        this.addListener(document, 'pointermove', (event) => {\n            this.handlePointerMove(event);\n        }, false);\n        // Capture pointerdown BEFORE it changes focus (capture phase)\n        // Must be on document with capture:true to catch ALL pointerdowns before focus changes\n        // Blockly uses pointerdown (not mousedown) for blocks to support touch\n        this.addListener(document, 'pointerdown', (event) => {\n            this.handlePointerDown(event);\n        }, true);\n        this.addListener(document, 'click', (event) => {\n            this.handleClick(event);\n        }, true);\n        // Listen for focus changes to manage grip display\n        this.workspace.addChangeListener(this.handleFocusChange.bind(this));\n    }\n    /**\n     * Removes all event listeners.\n     */\n    uninstall() {\n        for (const { target, type, handler, options } of this.listeners) {\n            target.removeEventListener(type, handler, options);\n        }\n        this.listeners = [];\n        this.hideGrip();\n    }\n    /**\n     * Handles focus change events to show/hide grip on focused blocks.\n     *\n     * @param event\n     */\n    handleFocusChange(event) {\n        // Only show grip in GRIP_CLICK mode\n        if (this.triggerMode !== TriggerMode.GRIP_CLICK) {\n            return;\n        }\n        // Don't show grip during sticky mode\n        if (this.isActive()) {\n            return;\n        }\n        // Get the currently focused block\n        const cursor = this.workspace.getCursor();\n        if (!cursor) {\n            this.hideGrip();\n            return;\n        }\n        const curNode = cursor.getCurNode();\n        if (!curNode) {\n            this.hideGrip();\n            return;\n        }\n        // Get the block from the cursor node\n        let block = null;\n        if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n            block = curNode;\n        }\n        else if ('getSourceBlock' in curNode && typeof curNode.getSourceBlock === 'function') {\n            block = curNode.getSourceBlock();\n        }\n        if (!block) {\n            this.hideGrip();\n            return;\n        }\n        // If it's the same block, don't recreate the grip\n        if (this.gripBlock === block && this.currentGrip) {\n            return;\n        }\n        // Show grip on the new focused block\n        this.showGrip(block);\n    }\n    /**\n     * Shows the grip on the given block.\n     *\n     * @param block\n     */\n    showGrip(block) {\n        // Hide any existing grip first\n        this.hideGrip();\n        // Create and show new grip\n        this.currentGrip = new _move_grip__WEBPACK_IMPORTED_MODULE_3__.MoveGrip(block, (clickedBlock, event) => {\n            this.handleGripClick(clickedBlock, event);\n        });\n        this.currentGrip.show();\n        this.gripBlock = block;\n    }\n    /**\n     * Hides the current grip if one is showing.\n     */\n    hideGrip() {\n        if (this.currentGrip) {\n            this.currentGrip.hide();\n            this.currentGrip = null;\n        }\n        this.gripBlock = null;\n    }\n    /**\n     * Handles click events on the grip.\n     *\n     * @param block\n     * @param event\n     */\n    handleGripClick(block, event) {\n        const nonShadowBlock = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(block);\n        if (nonShadowBlock && nonShadowBlock.isMovable()) {\n            if (this.enter(nonShadowBlock, event.clientX, event.clientY)) {\n                // Hide grip when entering sticky mode\n                this.hideGrip();\n            }\n        }\n    }\n    /**\n     * Helper to add and track event listeners.\n     *\n     * @param target\n     * @param type\n     * @param handler\n     * @param options\n     */\n    addListener(target, type, handler, options) {\n        target.addEventListener(type, handler, options);\n        this.listeners.push({ target, type, handler, options });\n    }\n    /**\n     * Enters sticky mode where a block follows the cursor.\n     *\n     * @param block The block to enter sticky mode with.\n     * @param clientX Screen X coordinate where the block was grabbed.\n     * @param clientY Screen Y coordinate where the block was grabbed.\n     * @returns True if sticky mode was successfully entered.\n     */\n    enter(block, clientX, clientY) {\n        if (this.mover.isMoving(this.workspace)) {\n            this.mover.abortMove(this.workspace);\n        }\n        if (this.isActive()) {\n            this.exit('finish');\n        }\n        if (!block || block.isDisposed()) {\n            return false;\n        }\n        // Close any open fields before entering sticky mode\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.DropDownDiv.hide();\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.WidgetDiv.hide();\n        try {\n            const onMoveFinished = () => {\n                this.resetStickyState();\n            };\n            const success = this.mover.startMove(this.workspace, block, _actions_mover__WEBPACK_IMPORTED_MODULE_1__.MoveType.Move, null, onMoveFinished);\n            if (success) {\n                this.stickyModes.set(this.workspace, new StickyModeInfo(block, clientX, clientY));\n                block.getSvgRoot().classList.add('blockly-sticky-mode');\n                this.setClickAndStickMode(block, true);\n                return true;\n            }\n            return false;\n        }\n        catch (error) {\n            this.stickyModes.delete(this.workspace);\n            return false;\n        }\n    }\n    /**\n     * Exits sticky mode.\n     *\n     * @param action Whether to finish (commit) or abort the move.\n     */\n    exit(action) {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return;\n        this.setClickAndStickMode(info.block, false);\n        if (this.mover.isMoving(this.workspace)) {\n            if (action === 'finish') {\n                this.mover.finishMove(this.workspace);\n            }\n            else {\n                this.mover.abortMove(this.workspace);\n            }\n        }\n        this.resetStickyState();\n    }\n    /**\n     * Handles pointerdown to capture which block was focused BEFORE the click changes focus,\n     * and to handle shift+click trigger mode.\n     *\n     * @param event\n     */\n    handlePointerDown(event) {\n        // Handle shift+click mode - enter sticky mode immediately on pointerdown\n        if (this.triggerMode === TriggerMode.SHIFT_CLICK && event.shiftKey) {\n            const clickedBlock = this.getBlockFromEvent(event);\n            if (clickedBlock) {\n                const target = event.target;\n                if (target && this.isDoubleClickOnField(target)) {\n                    return;\n                }\n                const block = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(clickedBlock);\n                if (block && block.isMovable()) {\n                    // Prevent Blockly's gesture from starting\n                    event.preventDefault();\n                    event.stopPropagation();\n                    // Enter sticky mode immediately\n                    if (this.enter(block, event.clientX, event.clientY)) {\n                        // Set flag to ignore the next click event\n                        this.ignoreNextClick = true;\n                    }\n                }\n            }\n            return;\n        }\n        // Track focus state for FOCUSED_CLICK mode\n        if (this.triggerMode !== TriggerMode.FOCUSED_CLICK) {\n            return;\n        }\n        // Don't trigger sticky mode if clicking on a field\n        const target = event.target;\n        const isField = this.isClickOnField(target);\n        if (target && isField) {\n            this.focusedBlockBeforePointerdown = null;\n            return;\n        }\n        // Capture the currently focused/selected block before the pointerdown changes focus\n        // We need to check both:\n        // 1. Cursor position (if keyboard navigation is active)\n        // 2. Selected blocks (if using mouse-only workflow)\n        let focusedBlock = null;\n        // Try to get from cursor first (keyboard navigation)\n        const cursor = this.workspace.getCursor();\n        if (cursor) {\n            const curNode = cursor.getCurNode();\n            if (curNode) {\n                if (curNode instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                    focusedBlock = curNode;\n                }\n                else if ('getSourceBlock' in curNode && typeof curNode.getSourceBlock === 'function') {\n                    focusedBlock = curNode.getSourceBlock();\n                }\n            }\n        }\n        // If no cursor-based focus, check for selected blocks (mouse workflow)\n        if (!focusedBlock) {\n            const selected = blockly_core__WEBPACK_IMPORTED_MODULE_0__.common.getSelected();\n            if (selected && selected instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg && selected.workspace === this.workspace) {\n                focusedBlock = selected;\n            }\n        }\n        this.focusedBlockBeforePointerdown = focusedBlock;\n    }\n    /**\n     * Handles double-click events on blocks to enter sticky mode.\n     *\n     * @param event\n     */\n    handleDoubleClick(event) {\n        // Only handle double-clicks if trigger mode is set to DOUBLE_CLICK\n        if (this.triggerMode !== TriggerMode.DOUBLE_CLICK) {\n            return;\n        }\n        if (event.defaultPrevented)\n            return;\n        if (this.isActive()) {\n            event.preventDefault();\n            event.stopPropagation();\n            return;\n        }\n        const target = event.target;\n        const clickedBlock = this.getBlockFromEvent(event);\n        if (clickedBlock) {\n            this.workspace.getAudioManager().preload();\n        }\n        if (target && this.isDoubleClickOnField(target)) {\n            return;\n        }\n        const block = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(clickedBlock);\n        if (block && block.isMovable()) {\n            if (this.enter(block, event.clientX, event.clientY)) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }\n    }\n    /**\n     * Handles click events during sticky mode or to trigger sticky mode.\n     *\n     * @param event\n     */\n    handleClick(event) {\n        // If we just entered sticky mode via shift+click, ignore this click\n        if (this.ignoreNextClick) {\n            this.ignoreNextClick = false;\n            event.preventDefault();\n            event.stopPropagation();\n            return;\n        }\n        // If already in sticky mode, handle the drop/connect action\n        if (this.isActive()) {\n            this.handleStickyModeClick(event);\n            return;\n        }\n        // Get the clicked block once to avoid inconsistencies\n        const clickedBlock = this.getBlockFromEvent(event);\n        // Check if this is a flyout block - handle it specially\n        if (clickedBlock && this.isBlockFromFlyout(clickedBlock)) {\n            // Check if this click should trigger sticky mode based on trigger mode\n            const shouldTrigger = this.shouldTriggerStickyMode(event, clickedBlock);\n            if (shouldTrigger) {\n                const target = event.target;\n                this.workspace.getAudioManager().preload();\n                if (target && this.isDoubleClickOnField(target)) {\n                    return;\n                }\n                // Create block from flyout and enter sticky mode\n                this.insertFlyoutBlockIntoStickyMode(clickedBlock, event);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            return;\n        }\n        // Handle workspace blocks (existing logic)\n        // Check if this click should trigger sticky mode based on trigger mode\n        const shouldTrigger = this.shouldTriggerStickyMode(event, clickedBlock);\n        if (shouldTrigger && clickedBlock) {\n            const target = event.target;\n            this.workspace.getAudioManager().preload();\n            if (target && this.isDoubleClickOnField(target)) {\n                return;\n            }\n            const block = (0,_workspace_utilities__WEBPACK_IMPORTED_MODULE_2__.getNonShadowBlock)(clickedBlock);\n            if (block && block.isMovable()) {\n                if (this.enter(block, event.clientX, event.clientY)) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n            }\n        }\n    }\n    /**\n     * Check if the current click event should trigger sticky mode.\n     *\n     * @param event The click event.\n     * @param clickedBlock The block that was clicked (or null if no block).\n     * @returns True if sticky mode should be triggered.\n     */\n    shouldTriggerStickyMode(event, clickedBlock) {\n        var _a, _b, _c;\n        if (!clickedBlock)\n            return false;\n        switch (this.triggerMode) {\n            case TriggerMode.SHIFT_CLICK:\n                return event.shiftKey;\n            case TriggerMode.FOCUSED_CLICK:\n                // For flyout blocks, skip the focus check - any click triggers sticky mode\n                // This provides a simpler interaction model for flyout blocks\n                if (this.isBlockFromFlyout(clickedBlock)) {\n                    return true;\n                }\n                // For workspace blocks, check if the clicked block was the one that was focused BEFORE the pointerdown\n                // (clicking a block makes it focused, so we need to check the pre-click state)\n                // Note: Field detection happens earlier in handlePointerDown to set focusedBlockBeforePointerdown\n                if (this.focusedBlockBeforePointerdown !== clickedBlock) {\n                    return false;\n                }\n                // Trigger if the block has a VISIBLE highlight\n                // A block has a visible highlight based on CSS class combinations:\n                // 1. blocklySelected class (core Blockly selection - always visible)\n                // 2. blocklyActiveFocus OR blocklyPassiveFocus (keyboard nav - only visible when keyboard mode active)\n                //\n                // The visual highlight is determined by CSS rules, not by semantic focus state.\n                // We check the classes that control the CSS rules that make highlights visible.\n                const pathElement = clickedBlock.pathObject.svgPath;\n                const blockSvgGroup = clickedBlock.getSvgRoot();\n                // Core Blockly selection (always creates visible highlight)\n                // Note: blocklySelected class is on the parent <g> element, not the path\n                // The CSS rule is: .blocklySelected > .blocklyPath { stroke: #fc3; }\n                const hasSelectedClass = (_a = blockSvgGroup === null || blockSvgGroup === void 0 ? void 0 : blockSvgGroup.classList.contains('blocklySelected')) !== null && _a !== void 0 ? _a : false;\n                // Keyboard navigation highlights (only visible when keyboard mode is active)\n                const bodyHasKeyboardNav = document.body.classList.contains('blocklyKeyboardNavigation');\n                const hasActiveFocus = (_b = pathElement === null || pathElement === void 0 ? void 0 : pathElement.classList.contains('blocklyActiveFocus')) !== null && _b !== void 0 ? _b : false;\n                const hasPassiveFocus = (_c = pathElement === null || pathElement === void 0 ? void 0 : pathElement.classList.contains('blocklyPassiveFocus')) !== null && _c !== void 0 ? _c : false;\n                // Boolean logic: visible highlight exists if:\n                // - Block has blocklySelected class (core selection), OR\n                // - Keyboard nav is active AND block has active/passive focus\n                const hasVisibleHighlight = hasSelectedClass ||\n                    (bodyHasKeyboardNav && (hasActiveFocus || hasPassiveFocus));\n                // Block should trigger sticky mode if it has a visible highlight\n                return hasVisibleHighlight;\n            case TriggerMode.MODE_TOGGLE:\n                // MODE_TOGGLE requires explicit enablement through external state management\n                return false;\n            case TriggerMode.GRIP_CLICK:\n                // GRIP_CLICK is handled by handleGripClick() which is invoked directly\n                // when the grip element is clicked (with stopPropagation to prevent this\n                // method from being called). Regular clicks outside the grip don't trigger\n                // sticky mode in this mode.\n                return false;\n            case TriggerMode.DOUBLE_CLICK:\n            default:\n                // Double-click is handled separately\n                return false;\n        }\n    }\n    /**\n     * Handles pointer movement during sticky mode to make blocks follow the cursor.\n     *\n     * @param event\n     */\n    handlePointerMove(event) {\n        var _a, _b;\n        if (!this.isActive())\n            return;\n        // Only update block position if keepBlockOnMouse is enabled\n        if (!this.keepBlockOnMouse)\n            return;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const moveInfo = (_b = (_a = this.mover) === null || _a === void 0 ? void 0 : _a.moves) === null || _b === void 0 ? void 0 : _b.get(this.workspace);\n        if (!moveInfo)\n            return;\n        const targetWorkspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(event.clientX, event.clientY));\n        const deltaX = targetWorkspaceCoords.x - moveInfo.startLocation.x;\n        const deltaY = targetWorkspaceCoords.y - moveInfo.startLocation.y;\n        moveInfo.totalDelta.x = deltaX;\n        moveInfo.totalDelta.y = deltaY;\n        if (moveInfo.dragger) {\n            moveInfo.dragger.onDrag(event, moveInfo.totalDelta);\n        }\n    }\n    /**\n     * Handles clicks during sticky mode for drop/connect/delete actions.\n     *\n     * @param event\n     */\n    handleStickyModeClick(event) {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info) {\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        const clientX = event.clientX;\n        const clientY = event.clientY;\n        if (this.isClickOnBin(clientX, clientY)) {\n            this.deleteBlockOnBin();\n            return;\n        }\n        const connectionInfo = this.findConnectionAtPoint(clientX, clientY);\n        if (connectionInfo) {\n            this.connectToClickedConnection(connectionInfo, clientX, clientY);\n            return;\n        }\n        // Check if there's a connection preview\n        const dragStrategy = this.getDragStrategy(info.block);\n        if (this.keepBlockOnMouse) {\n            // Block is following mouse - preview changes as you move\n            // Accept any connection preview at current position\n            if (dragStrategy && dragStrategy.connectionCandidate) {\n                this.acceptConnectionCandidate();\n                return;\n            }\n        }\n        else {\n            // Block is NOT following mouse - preview is static at original location\n            // Only accept preview if clicking on the source block itself\n            const clickedBlock = this.getBlockFromEvent(event);\n            const isClickOnSourceBlock = clickedBlock === info.block;\n            if (isClickOnSourceBlock && dragStrategy && dragStrategy.connectionCandidate) {\n                this.acceptConnectionCandidate();\n                return;\n            }\n        }\n        // No connection preview to accept\n        // Check if click is inside the source block - if so, drop in place\n        const blockBounds = info.block.getBoundingRectangle();\n        const clickWorkspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(clientX, clientY));\n        if (blockBounds.contains(clickWorkspaceCoords.x, clickWorkspaceCoords.y)) {\n            // Click is inside the source block - don't move it\n            this.exitStickyModeAndDrop();\n        }\n        else {\n            // Click is outside the source block - move to click location\n            this.exitStickyModeAndDrop(clientX, clientY);\n        }\n    }\n    /**\n     * Gets a block from an event target.\n     * Searches both main workspace and flyout workspace blocks.\n     *\n     * @param event\n     * @param event.target\n     */\n    getBlockFromEvent(event) {\n        var _a;\n        const target = event.target;\n        if (!target)\n            return null;\n        // Get blocks from both main workspace and flyout\n        let blocks = this.workspace.getAllBlocks();\n        const flyout = this.workspace.getFlyout();\n        if (flyout && flyout.isVisible()) {\n            const flyoutWorkspace = flyout.getWorkspace();\n            if (flyoutWorkspace) {\n                blocks = blocks.concat(flyoutWorkspace.getAllBlocks());\n            }\n        }\n        const allBlockElements = [];\n        let currentElement = target;\n        while (currentElement) {\n            if ((_a = currentElement.classList) === null || _a === void 0 ? void 0 : _a.contains('blocklyBlock')) {\n                allBlockElements.push(currentElement);\n            }\n            currentElement = currentElement.parentElement;\n        }\n        if (allBlockElements.length > 0) {\n            const innermostBlockElement = allBlockElements[0];\n            const block = blocks.find((b) => b.getSvgRoot() === innermostBlockElement);\n            if (block && block instanceof blockly_core__WEBPACK_IMPORTED_MODULE_0__.BlockSvg) {\n                return block;\n            }\n        }\n        return null;\n    }\n    /**\n     * Checks if a block is from the flyout.\n     *\n     * @param block The block to check.\n     * @returns True if the block is from the flyout workspace.\n     */\n    isBlockFromFlyout(block) {\n        return block.workspace.isFlyout === true;\n    }\n    /**\n     * Creates a new block from a flyout template and immediately enters sticky mode.\n     * Used when clicking on flyout blocks with sticky mode triggers enabled.\n     *\n     * @param flyoutBlock The flyout block template to create from.\n     * @param event The click event.\n     */\n    insertFlyoutBlockIntoStickyMode(flyoutBlock, event) {\n        const flyout = this.workspace.getFlyout();\n        if (!flyout)\n            return;\n        // Create a new event group for this operation\n        const existingGroup = blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.getGroup();\n        if (!existingGroup) {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(true);\n        }\n        try {\n            // Create the block on the main workspace from the flyout template\n            const newBlock = flyout.createBlock(flyoutBlock);\n            // Render to get the sizing right\n            newBlock.render();\n            // Enable connection tracking (normally happens during drag, but we need it immediately)\n            newBlock.setConnectionTracking(true);\n            // Position the block at the click location\n            const workspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(event.clientX, event.clientY));\n            newBlock.moveTo(workspaceCoords);\n            // Enter sticky mode with the newly created block\n            this.enter(newBlock, event.clientX, event.clientY);\n        }\n        finally {\n            // Clean up event group if we created one\n            if (!existingGroup) {\n                blockly_core__WEBPACK_IMPORTED_MODULE_0__.Events.setGroup(false);\n            }\n        }\n    }\n    /**\n     * Checks if a click is on a field element by inspecting the DOM tree.\n     * More reliable than gesture-based detection for events that fire after gesture disposal.\n     * Only detects truly interactive/editable fields, not static text labels.\n     *\n     * @param target The event target element.\n     */\n    isClickOnField(target) {\n        if (!target)\n            return false;\n        // Walk up the DOM tree looking for interactive field elements\n        let currentElement = target;\n        let depth = 0;\n        const maxDepth = 10; // Prevent infinite loops\n        while (currentElement && depth < maxDepth) {\n            const classList = currentElement.classList;\n            if (classList) {\n                // Stop early if we hit the workspace - no fields beyond here\n                if (classList.contains('blocklyWorkspace') ||\n                    classList.contains('blocklyMainBackground') ||\n                    classList.contains('blocklySvg')) {\n                    return false;\n                }\n                // Stop at block boundary - don't search beyond the block\n                if (classList.contains('blocklyBlock')) {\n                    return false;\n                }\n                // Only check for EDITABLE/INTERACTIVE field CSS classes\n                // Do NOT include blocklyText or blocklyNonEditableText - those are static labels\n                if (classList.contains('blocklyEditableText') ||\n                    classList.contains('blocklyDropdownText') ||\n                    classList.contains('blocklyDropDownDiv')) {\n                    return true;\n                }\n                // Check for specific interactive field types\n                if (classList.contains('blocklyFieldTextInput') ||\n                    classList.contains('blocklyFieldNumber') ||\n                    classList.contains('blocklyFieldColour') ||\n                    classList.contains('blocklyFieldDropdown') ||\n                    classList.contains('blocklyFieldCheckbox') ||\n                    classList.contains('blocklyFieldAngle')) {\n                    return true;\n                }\n            }\n            currentElement = currentElement.parentElement;\n            depth++;\n        }\n        return false;\n    }\n    /**\n     * Checks if a double-click event is on a field element.\n     * Uses Blockly's gesture system for reliable field detection.\n     *\n     * @param target\n     */\n    isDoubleClickOnField(target) {\n        const workspace = this.workspace;\n        const currentGesture = workspace.currentGesture_;\n        if (currentGesture && currentGesture.startField) {\n            return true;\n        }\n        // Fall back to DOM-based detection\n        return this.isClickOnField(target);\n    }\n    /**\n     * Accepts the current connection candidate from the drag strategy.\n     */\n    acceptConnectionCandidate() {\n        if (!this.isActive())\n            return;\n        this.exit('finish');\n    }\n    /**\n     * Checks if the given screen coordinates are over the trashcan/bin.\n     *\n     * @param clientX Screen X coordinate.\n     * @param clientY Screen Y coordinate.\n     * @returns True if the coordinates are over the trashcan.\n     */\n    isClickOnBin(clientX, clientY) {\n        const trashcanElement = document.querySelector('.blocklyTrash');\n        if (!trashcanElement) {\n            return false;\n        }\n        const rect = trashcanElement.getBoundingClientRect();\n        return (clientX >= rect.left &&\n            clientX <= rect.right &&\n            clientY >= rect.top &&\n            clientY <= rect.bottom);\n    }\n    /**\n     * Deletes the sticky block when dropped on the bin.\n     */\n    deleteBlockOnBin() {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return;\n        const blockToDelete = info.block;\n        this.exit('abort');\n        // Unplug with healStack to preserve children\n        blockToDelete.unplug(true);\n        blockToDelete.dispose();\n    }\n    /**\n     * Finds a connection point at the given screen coordinates.\n     *\n     * @param clientX\n     * @param clientY\n     */\n    findConnectionAtPoint(clientX, clientY) {\n        var _a;\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return null;\n        const dragStrategy = (_a = info.block) === null || _a === void 0 ? void 0 : _a.dragStrategy;\n        if (dragStrategy && dragStrategy.connectionHighlighter) {\n            const highlightedConnection = dragStrategy.connectionHighlighter.findConnectionAtPoint(clientX, clientY);\n            if (highlightedConnection) {\n                const stickyConnections = info.block.getConnections_(true);\n                if (stickyConnections) {\n                    for (const stickyConnection of stickyConnections) {\n                        const connectionChecker = this.workspace.connectionChecker;\n                        if (connectionChecker.canConnect(stickyConnection, highlightedConnection, true, Infinity)) {\n                            return {\n                                connection: highlightedConnection,\n                                stickyConnection: stickyConnection,\n                                distance: 0,\n                                isHighlighted: true,\n                            };\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Connects the sticky block to a specific connection point.\n     *\n     * @param connectionInfo\n     * @param clientX\n     * @param clientY\n     */\n    connectToClickedConnection(connectionInfo, clientX, clientY) {\n        const info = this.stickyModes.get(this.workspace);\n        if (!info)\n            return;\n        const { connection, stickyConnection } = connectionInfo;\n        const dragStrategy = this.getDragStrategy(info.block);\n        if (dragStrategy) {\n            dragStrategy.connectionCandidate = {\n                local: stickyConnection,\n                neighbour: connection,\n                distance: 0,\n            };\n        }\n        this.exit('finish');\n    }\n    /**\n     * Resets the sticky mode UI state.\n     * Called after mover.finishMove() or mover.abortMove().\n     */\n    resetStickyState() {\n        const info = this.stickyModes.get(this.workspace);\n        if (info) {\n            info.block.getSvgRoot().classList.remove('blockly-sticky-mode');\n        }\n        this.stickyModes.delete(this.workspace);\n        this.ignoreNextClick = false;\n        // Focus the workspace root to properly blur the block\n        // This ensures subsequent clicks can re-focus and select the block correctly\n        const focusManager = blockly_core__WEBPACK_IMPORTED_MODULE_0__.getFocusManager();\n        focusManager.focusNode(this.workspace);\n        // Clear touch identifier to prevent stuck gestures\n        try {\n            blockly_core__WEBPACK_IMPORTED_MODULE_0__.Touch.clearTouchIdentifier();\n            setTimeout(() => {\n                blockly_core__WEBPACK_IMPORTED_MODULE_0__.Touch.clearTouchIdentifier();\n            }, 0);\n        }\n        catch (e) {\n            // Silently fail\n        }\n    }\n    /**\n     * Exits sticky mode by dropping the block at the specified or current position.\n     *\n     * @param clientX Optional screen X coordinate where to drop the block\n     * @param clientY Optional screen Y coordinate where to drop the block\n     */\n    exitStickyModeAndDrop(clientX, clientY) {\n        var _a, _b;\n        const info = this.stickyModes.get(this.workspace);\n        if (!info) {\n            return;\n        }\n        // Clear connection candidate - Blockly will recalculate from final position\n        const dragStrategy = this.getDragStrategy(info.block);\n        if (dragStrategy) {\n            dragStrategy.connectionCandidate = null;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const moveInfo = (_b = (_a = this.mover) === null || _a === void 0 ? void 0 : _a.moves) === null || _b === void 0 ? void 0 : _b.get(this.workspace);\n        // Update position if coordinates provided\n        if (clientX !== undefined &&\n            clientY !== undefined &&\n            info.block &&\n            !info.block.isDisposed()) {\n            const targetWorkspaceCoords = blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.svgMath.screenToWsCoordinates(this.workspace, new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Coordinate(clientX, clientY));\n            if (moveInfo) {\n                const currentX = moveInfo.startLocation.x + moveInfo.totalDelta.x;\n                const currentY = moveInfo.startLocation.y + moveInfo.totalDelta.y;\n                const additionalDeltaX = targetWorkspaceCoords.x - currentX;\n                const additionalDeltaY = targetWorkspaceCoords.y - currentY;\n                moveInfo.totalDelta.x += additionalDeltaX;\n                moveInfo.totalDelta.y += additionalDeltaY;\n                // Move block directly to ensure positioning is correct\n                info.block.moveBy(additionalDeltaX, additionalDeltaY);\n            }\n        }\n        this.setClickAndStickMode(info.block, false);\n        if (this.mover && this.mover.isMoving(this.workspace)) {\n            this.mover.finishMove(this.workspace);\n        }\n        this.resetStickyState();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsQ0FBQztJQUMxQixDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vc3JjL3N0aWNreV9tb2RlX2NvbnRyb2xsZXIudHM/YTE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7TmF2aWdhdGlvbkNvbnRyb2xsZXJ9IGZyb20gJy4vbmF2aWdhdGlvbl9jb250cm9sbGVyJztcbmltcG9ydCB7TW92ZXIsIE1vdmVUeXBlfSBmcm9tICcuL2FjdGlvbnMvbW92ZXInO1xuaW1wb3J0IHtnZXROb25TaGFkb3dCbG9ja30gZnJvbSAnLi93b3Jrc3BhY2VfdXRpbGl0aWVzJztcbmltcG9ydCB7TW92ZUdyaXB9IGZyb20gJy4vbW92ZV9ncmlwJztcblxuLyoqXG4gKiBUcmlnZ2VyIG1vZGVzIGZvciBlbnRlcmluZyBzdGlja3kgbW9kZS5cbiAqL1xuZXhwb3J0IGVudW0gVHJpZ2dlck1vZGUge1xuICAvKiogRG91YmxlLWNsaWNrIHRvIGVudGVyIHN0aWNreSBtb2RlIChkZWZhdWx0IGJlaGF2aW9yKS4gKi9cbiAgRE9VQkxFX0NMSUNLID0gJ2RvdWJsZV9jbGljaycsXG4gIC8qKiBTaGlmdCArIHNpbmdsZSBjbGljayB0byBlbnRlciBzdGlja3kgbW9kZS4gKi9cbiAgU0hJRlRfQ0xJQ0sgPSAnc2hpZnRfY2xpY2snLFxuICAvKiogU2luZ2xlIGNsaWNrIG9uIGFuIGFscmVhZHktZm9jdXNlZCBibG9jayB0byBlbnRlciBzdGlja3kgbW9kZS4gKi9cbiAgRk9DVVNFRF9DTElDSyA9ICdmb2N1c2VkX2NsaWNrJyxcbiAgLyoqIEFueSBzaW5nbGUgY2xpY2sgZW50ZXJzIHN0aWNreSBtb2RlIHdoZW4gc2luZ2xlQ2xpY2tUb01vdmUgaXMgZW5hYmxlZC4gKi9cbiAgTU9ERV9UT0dHTEUgPSAnbW9kZV90b2dnbGUnLFxuICAvKiogQ2xpY2sgb24gdGhlIGdyaXAgaGFuZGxlIHRvIGVudGVyIHN0aWNreSBtb2RlLiAqL1xuICBHUklQX0NMSUNLID0gJ2dyaXBfY2xpY2snLFxufVxuXG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IGFuIGFjdGl2ZSBzdGlja3kgbW9kZSBvcGVyYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGlja3lNb2RlSW5mbyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLFxuICAgIHJlYWRvbmx5IHN0YXJ0Q2xpZW50WDogbnVtYmVyLFxuICAgIHJlYWRvbmx5IHN0YXJ0Q2xpZW50WTogbnVtYmVyLFxuICApIHt9XG59XG5cbi8qKlxuICogQ29udHJvbGxlciBmb3IgY2xpY2stYW5kLXN0aWNrIGZ1bmN0aW9uYWxpdHkuXG4gKiBNYW5hZ2VzIHRoZSBsaWZlY3ljbGUgb2Ygc3RpY2t5IG1vZGUgd2hlcmUgYmxvY2tzIGZvbGxvdyB0aGUgY3Vyc29yIGFmdGVyIGRvdWJsZS1jbGljay5cbiAqIEZvbGxvd3MgdGhlIHNhbWUgYXJjaGl0ZWN0dXJhbCBwYXR0ZXJuIGFzIE1vdmVyIChNYXAtYmFzZWQgdHJhY2tpbmcsIGxpZmVjeWNsZSBtZXRob2RzKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0aWNreU1vZGVDb250cm9sbGVyIHtcbiAgLyoqIE1hcCB0cmFja2luZyBhY3RpdmUgc3RpY2t5IG1vZGUgb3BlcmF0aW9ucyBwZXIgd29ya3NwYWNlLiAqL1xuICBwcml2YXRlIHN0aWNreU1vZGVzOiBNYXA8QmxvY2tseS5Xb3Jrc3BhY2VTdmcsIFN0aWNreU1vZGVJbmZvPiA9IG5ldyBNYXAoKTtcblxuICAvKiogRXZlbnQgbGlzdGVuZXJzIHRoYXQgbmVlZCBjbGVhbnVwLiAqL1xuICBwcml2YXRlIGxpc3RlbmVyczogQXJyYXk8e1xuICAgIHRhcmdldDogRXZlbnRUYXJnZXQ7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXI7XG4gICAgb3B0aW9ucz86IGJvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucztcbiAgfT4gPSBbXTtcblxuICAvKiogVGhlIGN1cnJlbnQgdHJpZ2dlciBtb2RlIGZvciBlbnRlcmluZyBzdGlja3kgbW9kZS4gKi9cbiAgcHJpdmF0ZSB0cmlnZ2VyTW9kZTogVHJpZ2dlck1vZGUgPSBUcmlnZ2VyTW9kZS5ET1VCTEVfQ0xJQ0s7XG5cbiAgLyoqIFRoZSBibG9jayB0aGF0IHdhcyBmb2N1c2VkIGJlZm9yZSBwb2ludGVyZG93biAoZm9yIGZvY3VzZWQtY2xpY2sgdHJpZ2dlciBtb2RlKS4gKi9cbiAgcHJpdmF0ZSBmb2N1c2VkQmxvY2tCZWZvcmVQb2ludGVyZG93bjogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBGbGFnIHRvIGlnbm9yZSB0aGUgbmV4dCBjbGljayBldmVudCBhZnRlciBlbnRlcmluZyBzdGlja3kgbW9kZSB2aWEgc2hpZnQrY2xpY2suICovXG4gIHByaXZhdGUgaWdub3JlTmV4dENsaWNrOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqIFRoZSBjdXJyZW50IG1vdmUgZ3JpcCBkaXNwbGF5ZWQgb24gdGhlIGZvY3VzZWQgYmxvY2ssIGlmIGFueS4gKi9cbiAgcHJpdmF0ZSBjdXJyZW50R3JpcDogTW92ZUdyaXAgfCBudWxsID0gbnVsbDtcblxuICAvKiogVGhlIGJsb2NrIHRoYXQgY3VycmVudGx5IGhhcyBhIGdyaXAgYXR0YWNoZWQuICovXG4gIHByaXZhdGUgZ3JpcEJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIFdoZXRoZXIgdGhlIGJsb2NrIHNob3VsZCBmb2xsb3cgdGhlIG1vdXNlIGN1cnNvciBkdXJpbmcgc3RpY2t5IG1vdmUgKGRlZmF1bHQ6IHRydWUpLiAqL1xuICBwcml2YXRlIGtlZXBCbG9ja09uTW91c2U6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgd29ya3NwYWNlOiBCbG9ja2x5LldvcmtzcGFjZVN2ZyxcbiAgICBwcml2YXRlIG5hdmlnYXRpb25Db250cm9sbGVyOiBOYXZpZ2F0aW9uQ29udHJvbGxlcixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBrZWVwaW5nIHRoZSBibG9jayBvbiB0aGUgbW91c2UgZHVyaW5nIHN0aWNreSBtb3ZlLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlZCBXaGV0aGVyIHRoZSBibG9jayBzaG91bGQgZm9sbG93IHRoZSBjdXJzb3IgKHRydWUpIG9yIHN0YXkgYXQgY2xpY2sgcG9zaXRpb24gKGZhbHNlKS5cbiAgICovXG4gIHNldEtlZXBCbG9ja09uTW91c2UoZW5hYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMua2VlcEJsb2NrT25Nb3VzZSA9IGVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbW92ZXIgZnJvbSB0aGUgbmF2aWdhdGlvbiBjb250cm9sbGVyLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXQgbW92ZXIoKTogTW92ZXIge1xuICAgIHJldHVybiAodGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlciBhcyBhbnkpLm1vdmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRyYWcgc3RyYXRlZ3kgZnJvbSBhIGJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tcbiAgICovXG4gIHByaXZhdGUgZ2V0RHJhZ1N0cmF0ZWd5KGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gICAgcmV0dXJuIChibG9jayBhcyBhbnkpLmRyYWdTdHJhdGVneTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGNsaWNrLWFuZC1zdGljayBtb2RlIG9uIGEgYmxvY2sncyBkcmFnIHN0cmF0ZWd5LlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tcbiAgICogQHBhcmFtIGVuYWJsZWRcbiAgICovXG4gIHByaXZhdGUgc2V0Q2xpY2tBbmRTdGlja01vZGUoYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcsIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMuZ2V0RHJhZ1N0cmF0ZWd5KGJsb2NrKTtcbiAgICBpZiAoc3RyYXRlZ3k/LnNldENsaWNrQW5kU3RpY2tNb2RlKSB7XG4gICAgICBzdHJhdGVneS5zZXRDbGlja0FuZFN0aWNrTW9kZShlbmFibGVkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgc3RpY2t5IG1vZGUgaXMgY3VycmVudGx5IGFjdGl2ZSBmb3IgdGhpcyB3b3Jrc3BhY2UuXG4gICAqL1xuICBpc0FjdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGlja3lNb2Rlcy5oYXModGhpcy53b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYmxvY2sgY3VycmVudGx5IGluIHN0aWNreSBtb2RlLCBpZiBhbnkuXG4gICAqL1xuICBnZXRBY3RpdmVCbG9jaygpOiBCbG9ja2x5LkJsb2NrU3ZnIHwgbnVsbCB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICByZXR1cm4gaW5mbyA/IGluZm8uYmxvY2sgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdHJpZ2dlciBtb2RlIGZvciBlbnRlcmluZyBzdGlja3kgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIG1vZGUgVGhlIHRyaWdnZXIgbW9kZSB0byB1c2UuXG4gICAqL1xuICBzZXRUcmlnZ2VyTW9kZShtb2RlOiBUcmlnZ2VyTW9kZSk6IHZvaWQge1xuICAgIHRoaXMudHJpZ2dlck1vZGUgPSBtb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiBibG9jayBjYW4gZW50ZXIgc3RpY2t5IG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja1xuICAgKi9cbiAgY2FuRW50ZXIoYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISEoXG4gICAgICBibG9jayAmJlxuICAgICAgIWJsb2NrLmlzRGlzcG9zZWQoKSAmJlxuICAgICAgYmxvY2suaXNNb3ZhYmxlKCkgJiZcbiAgICAgICF0aGlzLm1vdmVyLmlzTW92aW5nKHRoaXMud29ya3NwYWNlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGNsaWNrIGFuZCBzdGljayBmdW5jdGlvbmFsaXR5LlxuICAgKi9cbiAgaW5zdGFsbCgpIHtcbiAgICBjb25zdCB3b3Jrc3BhY2VFbGVtZW50ID0gdGhpcy53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCk7XG4gICAgaWYgKCF3b3Jrc3BhY2VFbGVtZW50KSByZXR1cm47XG5cbiAgICB0aGlzLmFkZExpc3RlbmVyKHdvcmtzcGFjZUVsZW1lbnQsICdkYmxjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVEb3VibGVDbGljayhldmVudCBhcyBNb3VzZUV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICB0aGlzLmFkZExpc3RlbmVyKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUoZXZlbnQgYXMgUG9pbnRlckV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICAvLyBDYXB0dXJlIHBvaW50ZXJkb3duIEJFRk9SRSBpdCBjaGFuZ2VzIGZvY3VzIChjYXB0dXJlIHBoYXNlKVxuICAgIC8vIE11c3QgYmUgb24gZG9jdW1lbnQgd2l0aCBjYXB0dXJlOnRydWUgdG8gY2F0Y2ggQUxMIHBvaW50ZXJkb3ducyBiZWZvcmUgZm9jdXMgY2hhbmdlc1xuICAgIC8vIEJsb2NrbHkgdXNlcyBwb2ludGVyZG93biAobm90IG1vdXNlZG93bikgZm9yIGJsb2NrcyB0byBzdXBwb3J0IHRvdWNoXG4gICAgdGhpcy5hZGRMaXN0ZW5lcihkb2N1bWVudCwgJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZVBvaW50ZXJEb3duKGV2ZW50IGFzIFBvaW50ZXJFdmVudCk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICB0aGlzLmFkZExpc3RlbmVyKGRvY3VtZW50LCAnY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2soZXZlbnQgYXMgTW91c2VFdmVudCk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGZvY3VzIGNoYW5nZXMgdG8gbWFuYWdlIGdyaXAgZGlzcGxheVxuICAgIHRoaXMud29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuaGFuZGxlRm9jdXNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzLlxuICAgKi9cbiAgdW5pbnN0YWxsKCkge1xuICAgIGZvciAoY29uc3Qge3RhcmdldCwgdHlwZSwgaGFuZGxlciwgb3B0aW9uc30gb2YgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuaGlkZUdyaXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGZvY3VzIGNoYW5nZSBldmVudHMgdG8gc2hvdy9oaWRlIGdyaXAgb24gZm9jdXNlZCBibG9ja3MuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVGb2N1c0NoYW5nZShldmVudDogQmxvY2tseS5FdmVudHMuQWJzdHJhY3QpOiB2b2lkIHtcbiAgICAvLyBPbmx5IHNob3cgZ3JpcCBpbiBHUklQX0NMSUNLIG1vZGVcbiAgICBpZiAodGhpcy50cmlnZ2VyTW9kZSAhPT0gVHJpZ2dlck1vZGUuR1JJUF9DTElDSykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERvbid0IHNob3cgZ3JpcCBkdXJpbmcgc3RpY2t5IG1vZGVcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBjdXJyZW50bHkgZm9jdXNlZCBibG9ja1xuICAgIGNvbnN0IGN1cnNvciA9IHRoaXMud29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgIGlmICghY3Vyc29yKSB7XG4gICAgICB0aGlzLmhpZGVHcmlwKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VyTm9kZSA9IGN1cnNvci5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFjdXJOb2RlKSB7XG4gICAgICB0aGlzLmhpZGVHcmlwKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBibG9jayBmcm9tIHRoZSBjdXJzb3Igbm9kZVxuICAgIGxldCBibG9jazogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwgPSBudWxsO1xuICAgIGlmIChjdXJOb2RlIGluc3RhbmNlb2YgQmxvY2tseS5CbG9ja1N2Zykge1xuICAgICAgYmxvY2sgPSBjdXJOb2RlO1xuICAgIH0gZWxzZSBpZiAoJ2dldFNvdXJjZUJsb2NrJyBpbiBjdXJOb2RlICYmIHR5cGVvZiAoY3VyTm9kZSBhcyBhbnkpLmdldFNvdXJjZUJsb2NrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBibG9jayA9IChjdXJOb2RlIGFzIGFueSkuZ2V0U291cmNlQmxvY2soKTtcbiAgICB9XG5cbiAgICBpZiAoIWJsb2NrKSB7XG4gICAgICB0aGlzLmhpZGVHcmlwKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgaXQncyB0aGUgc2FtZSBibG9jaywgZG9uJ3QgcmVjcmVhdGUgdGhlIGdyaXBcbiAgICBpZiAodGhpcy5ncmlwQmxvY2sgPT09IGJsb2NrICYmIHRoaXMuY3VycmVudEdyaXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTaG93IGdyaXAgb24gdGhlIG5ldyBmb2N1c2VkIGJsb2NrXG4gICAgdGhpcy5zaG93R3JpcChibG9jayk7XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGdyaXAgb24gdGhlIGdpdmVuIGJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tcbiAgICovXG4gIHByaXZhdGUgc2hvd0dyaXAoYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcpOiB2b2lkIHtcbiAgICAvLyBIaWRlIGFueSBleGlzdGluZyBncmlwIGZpcnN0XG4gICAgdGhpcy5oaWRlR3JpcCgpO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBzaG93IG5ldyBncmlwXG4gICAgdGhpcy5jdXJyZW50R3JpcCA9IG5ldyBNb3ZlR3JpcChibG9jaywgKGNsaWNrZWRCbG9jaywgZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaGFuZGxlR3JpcENsaWNrKGNsaWNrZWRCbG9jaywgZXZlbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudEdyaXAuc2hvdygpO1xuICAgIHRoaXMuZ3JpcEJsb2NrID0gYmxvY2s7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIGN1cnJlbnQgZ3JpcCBpZiBvbmUgaXMgc2hvd2luZy5cbiAgICovXG4gIHByaXZhdGUgaGlkZUdyaXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY3VycmVudEdyaXApIHtcbiAgICAgIHRoaXMuY3VycmVudEdyaXAuaGlkZSgpO1xuICAgICAgdGhpcy5jdXJyZW50R3JpcCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuZ3JpcEJsb2NrID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrIGV2ZW50cyBvbiB0aGUgZ3JpcC5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVHcmlwQ2xpY2soYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcsIGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3Qgbm9uU2hhZG93QmxvY2sgPSBnZXROb25TaGFkb3dCbG9jayhibG9jayk7XG4gICAgaWYgKG5vblNoYWRvd0Jsb2NrICYmIG5vblNoYWRvd0Jsb2NrLmlzTW92YWJsZSgpKSB7XG4gICAgICBpZiAodGhpcy5lbnRlcihub25TaGFkb3dCbG9jaywgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSkpIHtcbiAgICAgICAgLy8gSGlkZSBncmlwIHdoZW4gZW50ZXJpbmcgc3RpY2t5IG1vZGVcbiAgICAgICAgdGhpcy5oaWRlR3JpcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gYWRkIGFuZCB0cmFjayBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXRcbiAgICogQHBhcmFtIHR5cGVcbiAgICogQHBhcmFtIGhhbmRsZXJcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYWRkTGlzdGVuZXIoXG4gICAgdGFyZ2V0OiBFdmVudFRhcmdldCxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgaGFuZGxlcjogRXZlbnRMaXN0ZW5lcixcbiAgICBvcHRpb25zPzogYm9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLFxuICApIHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKHt0YXJnZXQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnN9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnRlcnMgc3RpY2t5IG1vZGUgd2hlcmUgYSBibG9jayBmb2xsb3dzIHRoZSBjdXJzb3IuXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayBUaGUgYmxvY2sgdG8gZW50ZXIgc3RpY2t5IG1vZGUgd2l0aC5cbiAgICogQHBhcmFtIGNsaWVudFggU2NyZWVuIFggY29vcmRpbmF0ZSB3aGVyZSB0aGUgYmxvY2sgd2FzIGdyYWJiZWQuXG4gICAqIEBwYXJhbSBjbGllbnRZIFNjcmVlbiBZIGNvb3JkaW5hdGUgd2hlcmUgdGhlIGJsb2NrIHdhcyBncmFiYmVkLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHN0aWNreSBtb2RlIHdhcyBzdWNjZXNzZnVsbHkgZW50ZXJlZC5cbiAgICovXG4gIGVudGVyKGJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLCBjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm1vdmVyLmlzTW92aW5nKHRoaXMud29ya3NwYWNlKSkge1xuICAgICAgdGhpcy5tb3Zlci5hYm9ydE1vdmUodGhpcy53b3Jrc3BhY2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHRoaXMuZXhpdCgnZmluaXNoJyk7XG4gICAgfVxuXG4gICAgaWYgKCFibG9jayB8fCBibG9jay5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDbG9zZSBhbnkgb3BlbiBmaWVsZHMgYmVmb3JlIGVudGVyaW5nIHN0aWNreSBtb2RlXG4gICAgQmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlKCk7XG4gICAgQmxvY2tseS5XaWRnZXREaXYuaGlkZSgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9uTW92ZUZpbmlzaGVkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnJlc2V0U3RpY2t5U3RhdGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSB0aGlzLm1vdmVyLnN0YXJ0TW92ZShcbiAgICAgICAgdGhpcy53b3Jrc3BhY2UsXG4gICAgICAgIGJsb2NrLFxuICAgICAgICBNb3ZlVHlwZS5Nb3ZlLFxuICAgICAgICBudWxsLFxuICAgICAgICBvbk1vdmVGaW5pc2hlZCxcbiAgICAgICk7XG5cbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIHRoaXMuc3RpY2t5TW9kZXMuc2V0KFxuICAgICAgICAgIHRoaXMud29ya3NwYWNlLFxuICAgICAgICAgIG5ldyBTdGlja3lNb2RlSW5mbyhibG9jaywgY2xpZW50WCwgY2xpZW50WSksXG4gICAgICAgICk7XG4gICAgICAgIGJsb2NrLmdldFN2Z1Jvb3QoKS5jbGFzc0xpc3QuYWRkKCdibG9ja2x5LXN0aWNreS1tb2RlJyk7XG4gICAgICAgIHRoaXMuc2V0Q2xpY2tBbmRTdGlja01vZGUoYmxvY2ssIHRydWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zdGlja3lNb2Rlcy5kZWxldGUodGhpcy53b3Jrc3BhY2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGl0cyBzdGlja3kgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIGFjdGlvbiBXaGV0aGVyIHRvIGZpbmlzaCAoY29tbWl0KSBvciBhYm9ydCB0aGUgbW92ZS5cbiAgICovXG4gIGV4aXQoYWN0aW9uOiAnZmluaXNoJyB8ICdhYm9ydCcpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5zdGlja3lNb2Rlcy5nZXQodGhpcy53b3Jrc3BhY2UpO1xuICAgIGlmICghaW5mbykgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRDbGlja0FuZFN0aWNrTW9kZShpbmZvLmJsb2NrLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy5tb3Zlci5pc01vdmluZyh0aGlzLndvcmtzcGFjZSkpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09ICdmaW5pc2gnKSB7XG4gICAgICAgIHRoaXMubW92ZXIuZmluaXNoTW92ZSh0aGlzLndvcmtzcGFjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1vdmVyLmFib3J0TW92ZSh0aGlzLndvcmtzcGFjZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNldFN0aWNreVN0YXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBwb2ludGVyZG93biB0byBjYXB0dXJlIHdoaWNoIGJsb2NrIHdhcyBmb2N1c2VkIEJFRk9SRSB0aGUgY2xpY2sgY2hhbmdlcyBmb2N1cyxcbiAgICogYW5kIHRvIGhhbmRsZSBzaGlmdCtjbGljayB0cmlnZ2VyIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVQb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KSB7XG4gICAgLy8gSGFuZGxlIHNoaWZ0K2NsaWNrIG1vZGUgLSBlbnRlciBzdGlja3kgbW9kZSBpbW1lZGlhdGVseSBvbiBwb2ludGVyZG93blxuICAgIGlmICh0aGlzLnRyaWdnZXJNb2RlID09PSBUcmlnZ2VyTW9kZS5TSElGVF9DTElDSyAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgY29uc3QgY2xpY2tlZEJsb2NrID0gdGhpcy5nZXRCbG9ja0Zyb21FdmVudChldmVudCk7XG4gICAgICBpZiAoY2xpY2tlZEJsb2NrKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuICAgICAgICBpZiAodGFyZ2V0ICYmIHRoaXMuaXNEb3VibGVDbGlja09uRmllbGQodGFyZ2V0KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJsb2NrID0gZ2V0Tm9uU2hhZG93QmxvY2soY2xpY2tlZEJsb2NrKTtcbiAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLmlzTW92YWJsZSgpKSB7XG4gICAgICAgICAgLy8gUHJldmVudCBCbG9ja2x5J3MgZ2VzdHVyZSBmcm9tIHN0YXJ0aW5nXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIC8vIEVudGVyIHN0aWNreSBtb2RlIGltbWVkaWF0ZWx5XG4gICAgICAgICAgaWYgKHRoaXMuZW50ZXIoYmxvY2ssIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSB7XG4gICAgICAgICAgICAvLyBTZXQgZmxhZyB0byBpZ25vcmUgdGhlIG5leHQgY2xpY2sgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFjayBmb2N1cyBzdGF0ZSBmb3IgRk9DVVNFRF9DTElDSyBtb2RlXG4gICAgaWYgKHRoaXMudHJpZ2dlck1vZGUgIT09IFRyaWdnZXJNb2RlLkZPQ1VTRURfQ0xJQ0spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCB0cmlnZ2VyIHN0aWNreSBtb2RlIGlmIGNsaWNraW5nIG9uIGEgZmllbGRcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcbiAgICBjb25zdCBpc0ZpZWxkID0gdGhpcy5pc0NsaWNrT25GaWVsZCh0YXJnZXQpO1xuXG4gICAgaWYgKHRhcmdldCAmJiBpc0ZpZWxkKSB7XG4gICAgICB0aGlzLmZvY3VzZWRCbG9ja0JlZm9yZVBvaW50ZXJkb3duID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYXB0dXJlIHRoZSBjdXJyZW50bHkgZm9jdXNlZC9zZWxlY3RlZCBibG9jayBiZWZvcmUgdGhlIHBvaW50ZXJkb3duIGNoYW5nZXMgZm9jdXNcbiAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGJvdGg6XG4gICAgLy8gMS4gQ3Vyc29yIHBvc2l0aW9uIChpZiBrZXlib2FyZCBuYXZpZ2F0aW9uIGlzIGFjdGl2ZSlcbiAgICAvLyAyLiBTZWxlY3RlZCBibG9ja3MgKGlmIHVzaW5nIG1vdXNlLW9ubHkgd29ya2Zsb3cpXG5cbiAgICBsZXQgZm9jdXNlZEJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnIHwgbnVsbCA9IG51bGw7XG5cbiAgICAvLyBUcnkgdG8gZ2V0IGZyb20gY3Vyc29yIGZpcnN0IChrZXlib2FyZCBuYXZpZ2F0aW9uKVxuICAgIGNvbnN0IGN1cnNvciA9IHRoaXMud29ya3NwYWNlLmdldEN1cnNvcigpO1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIGNvbnN0IGN1ck5vZGUgPSBjdXJzb3IuZ2V0Q3VyTm9kZSgpO1xuICAgICAgaWYgKGN1ck5vZGUpIHtcbiAgICAgICAgaWYgKGN1ck5vZGUgaW5zdGFuY2VvZiBCbG9ja2x5LkJsb2NrU3ZnKSB7XG4gICAgICAgICAgZm9jdXNlZEJsb2NrID0gY3VyTm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICgnZ2V0U291cmNlQmxvY2snIGluIGN1ck5vZGUgJiYgdHlwZW9mIChjdXJOb2RlIGFzIGFueSkuZ2V0U291cmNlQmxvY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmb2N1c2VkQmxvY2sgPSAoY3VyTm9kZSBhcyBhbnkpLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBubyBjdXJzb3ItYmFzZWQgZm9jdXMsIGNoZWNrIGZvciBzZWxlY3RlZCBibG9ja3MgKG1vdXNlIHdvcmtmbG93KVxuICAgIGlmICghZm9jdXNlZEJsb2NrKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IEJsb2NrbHkuY29tbW9uLmdldFNlbGVjdGVkKCk7XG4gICAgICBpZiAoc2VsZWN0ZWQgJiYgc2VsZWN0ZWQgaW5zdGFuY2VvZiBCbG9ja2x5LkJsb2NrU3ZnICYmIHNlbGVjdGVkLndvcmtzcGFjZSA9PT0gdGhpcy53b3Jrc3BhY2UpIHtcbiAgICAgICAgZm9jdXNlZEJsb2NrID0gc2VsZWN0ZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5mb2N1c2VkQmxvY2tCZWZvcmVQb2ludGVyZG93biA9IGZvY3VzZWRCbG9jaztcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGRvdWJsZS1jbGljayBldmVudHMgb24gYmxvY2tzIHRvIGVudGVyIHN0aWNreSBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlRG91YmxlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAvLyBPbmx5IGhhbmRsZSBkb3VibGUtY2xpY2tzIGlmIHRyaWdnZXIgbW9kZSBpcyBzZXQgdG8gRE9VQkxFX0NMSUNLXG4gICAgaWYgKHRoaXMudHJpZ2dlck1vZGUgIT09IFRyaWdnZXJNb2RlLkRPVUJMRV9DTElDSykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgY2xpY2tlZEJsb2NrID0gdGhpcy5nZXRCbG9ja0Zyb21FdmVudChldmVudCk7XG5cbiAgICBpZiAoY2xpY2tlZEJsb2NrKSB7XG4gICAgICB0aGlzLndvcmtzcGFjZS5nZXRBdWRpb01hbmFnZXIoKS5wcmVsb2FkKCk7XG4gICAgfVxuXG4gICAgaWYgKHRhcmdldCAmJiB0aGlzLmlzRG91YmxlQ2xpY2tPbkZpZWxkKHRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBibG9jayA9IGdldE5vblNoYWRvd0Jsb2NrKGNsaWNrZWRCbG9jayk7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLmlzTW92YWJsZSgpKSB7XG4gICAgICBpZiAodGhpcy5lbnRlcihibG9jaywgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2sgZXZlbnRzIGR1cmluZyBzdGlja3kgbW9kZSBvciB0byB0cmlnZ2VyIHN0aWNreSBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAvLyBJZiB3ZSBqdXN0IGVudGVyZWQgc3RpY2t5IG1vZGUgdmlhIHNoaWZ0K2NsaWNrLCBpZ25vcmUgdGhpcyBjbGlja1xuICAgIGlmICh0aGlzLmlnbm9yZU5leHRDbGljaykge1xuICAgICAgdGhpcy5pZ25vcmVOZXh0Q2xpY2sgPSBmYWxzZTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhbHJlYWR5IGluIHN0aWNreSBtb2RlLCBoYW5kbGUgdGhlIGRyb3AvY29ubmVjdCBhY3Rpb25cbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLmhhbmRsZVN0aWNreU1vZGVDbGljayhldmVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBjbGlja2VkIGJsb2NrIG9uY2UgdG8gYXZvaWQgaW5jb25zaXN0ZW5jaWVzXG4gICAgY29uc3QgY2xpY2tlZEJsb2NrID0gdGhpcy5nZXRCbG9ja0Zyb21FdmVudChldmVudCk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZmx5b3V0IGJsb2NrIC0gaGFuZGxlIGl0IHNwZWNpYWxseVxuICAgIGlmIChjbGlja2VkQmxvY2sgJiYgdGhpcy5pc0Jsb2NrRnJvbUZseW91dChjbGlja2VkQmxvY2spKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGNsaWNrIHNob3VsZCB0cmlnZ2VyIHN0aWNreSBtb2RlIGJhc2VkIG9uIHRyaWdnZXIgbW9kZVxuICAgICAgY29uc3Qgc2hvdWxkVHJpZ2dlciA9IHRoaXMuc2hvdWxkVHJpZ2dlclN0aWNreU1vZGUoZXZlbnQsIGNsaWNrZWRCbG9jayk7XG5cbiAgICAgIGlmIChzaG91bGRUcmlnZ2VyKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBFbGVtZW50O1xuXG4gICAgICAgIHRoaXMud29ya3NwYWNlLmdldEF1ZGlvTWFuYWdlcigpLnByZWxvYWQoKTtcblxuICAgICAgICBpZiAodGFyZ2V0ICYmIHRoaXMuaXNEb3VibGVDbGlja09uRmllbGQodGFyZ2V0KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBibG9jayBmcm9tIGZseW91dCBhbmQgZW50ZXIgc3RpY2t5IG1vZGVcbiAgICAgICAgdGhpcy5pbnNlcnRGbHlvdXRCbG9ja0ludG9TdGlja3lNb2RlKGNsaWNrZWRCbG9jaywgZXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgd29ya3NwYWNlIGJsb2NrcyAoZXhpc3RpbmcgbG9naWMpXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBjbGljayBzaG91bGQgdHJpZ2dlciBzdGlja3kgbW9kZSBiYXNlZCBvbiB0cmlnZ2VyIG1vZGVcbiAgICBjb25zdCBzaG91bGRUcmlnZ2VyID0gdGhpcy5zaG91bGRUcmlnZ2VyU3RpY2t5TW9kZShldmVudCwgY2xpY2tlZEJsb2NrKTtcblxuICAgIGlmIChzaG91bGRUcmlnZ2VyICYmIGNsaWNrZWRCbG9jaykge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG5cbiAgICAgIHRoaXMud29ya3NwYWNlLmdldEF1ZGlvTWFuYWdlcigpLnByZWxvYWQoKTtcblxuICAgICAgaWYgKHRhcmdldCAmJiB0aGlzLmlzRG91YmxlQ2xpY2tPbkZpZWxkKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBibG9jayA9IGdldE5vblNoYWRvd0Jsb2NrKGNsaWNrZWRCbG9jayk7XG4gICAgICBpZiAoYmxvY2sgJiYgYmxvY2suaXNNb3ZhYmxlKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuZW50ZXIoYmxvY2ssIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCBjbGljayBldmVudCBzaG91bGQgdHJpZ2dlciBzdGlja3kgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IFRoZSBjbGljayBldmVudC5cbiAgICogQHBhcmFtIGNsaWNrZWRCbG9jayBUaGUgYmxvY2sgdGhhdCB3YXMgY2xpY2tlZCAob3IgbnVsbCBpZiBubyBibG9jaykuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgc3RpY2t5IG1vZGUgc2hvdWxkIGJlIHRyaWdnZXJlZC5cbiAgICovXG4gIHByaXZhdGUgc2hvdWxkVHJpZ2dlclN0aWNreU1vZGUoZXZlbnQ6IE1vdXNlRXZlbnQsIGNsaWNrZWRCbG9jazogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwpOiBib29sZWFuIHtcbiAgICBpZiAoIWNsaWNrZWRCbG9jaykgcmV0dXJuIGZhbHNlO1xuXG4gICAgc3dpdGNoICh0aGlzLnRyaWdnZXJNb2RlKSB7XG4gICAgICBjYXNlIFRyaWdnZXJNb2RlLlNISUZUX0NMSUNLOlxuICAgICAgICByZXR1cm4gZXZlbnQuc2hpZnRLZXk7XG5cbiAgICAgIGNhc2UgVHJpZ2dlck1vZGUuRk9DVVNFRF9DTElDSzpcbiAgICAgICAgLy8gRm9yIGZseW91dCBibG9ja3MsIHNraXAgdGhlIGZvY3VzIGNoZWNrIC0gYW55IGNsaWNrIHRyaWdnZXJzIHN0aWNreSBtb2RlXG4gICAgICAgIC8vIFRoaXMgcHJvdmlkZXMgYSBzaW1wbGVyIGludGVyYWN0aW9uIG1vZGVsIGZvciBmbHlvdXQgYmxvY2tzXG4gICAgICAgIGlmICh0aGlzLmlzQmxvY2tGcm9tRmx5b3V0KGNsaWNrZWRCbG9jaykpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciB3b3Jrc3BhY2UgYmxvY2tzLCBjaGVjayBpZiB0aGUgY2xpY2tlZCBibG9jayB3YXMgdGhlIG9uZSB0aGF0IHdhcyBmb2N1c2VkIEJFRk9SRSB0aGUgcG9pbnRlcmRvd25cbiAgICAgICAgLy8gKGNsaWNraW5nIGEgYmxvY2sgbWFrZXMgaXQgZm9jdXNlZCwgc28gd2UgbmVlZCB0byBjaGVjayB0aGUgcHJlLWNsaWNrIHN0YXRlKVxuICAgICAgICAvLyBOb3RlOiBGaWVsZCBkZXRlY3Rpb24gaGFwcGVucyBlYXJsaWVyIGluIGhhbmRsZVBvaW50ZXJEb3duIHRvIHNldCBmb2N1c2VkQmxvY2tCZWZvcmVQb2ludGVyZG93blxuICAgICAgICBpZiAodGhpcy5mb2N1c2VkQmxvY2tCZWZvcmVQb2ludGVyZG93biAhPT0gY2xpY2tlZEJsb2NrKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJpZ2dlciBpZiB0aGUgYmxvY2sgaGFzIGEgVklTSUJMRSBoaWdobGlnaHRcbiAgICAgICAgLy8gQSBibG9jayBoYXMgYSB2aXNpYmxlIGhpZ2hsaWdodCBiYXNlZCBvbiBDU1MgY2xhc3MgY29tYmluYXRpb25zOlxuICAgICAgICAvLyAxLiBibG9ja2x5U2VsZWN0ZWQgY2xhc3MgKGNvcmUgQmxvY2tseSBzZWxlY3Rpb24gLSBhbHdheXMgdmlzaWJsZSlcbiAgICAgICAgLy8gMi4gYmxvY2tseUFjdGl2ZUZvY3VzIE9SIGJsb2NrbHlQYXNzaXZlRm9jdXMgKGtleWJvYXJkIG5hdiAtIG9ubHkgdmlzaWJsZSB3aGVuIGtleWJvYXJkIG1vZGUgYWN0aXZlKVxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgdmlzdWFsIGhpZ2hsaWdodCBpcyBkZXRlcm1pbmVkIGJ5IENTUyBydWxlcywgbm90IGJ5IHNlbWFudGljIGZvY3VzIHN0YXRlLlxuICAgICAgICAvLyBXZSBjaGVjayB0aGUgY2xhc3NlcyB0aGF0IGNvbnRyb2wgdGhlIENTUyBydWxlcyB0aGF0IG1ha2UgaGlnaGxpZ2h0cyB2aXNpYmxlLlxuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGNsaWNrZWRCbG9jay5wYXRoT2JqZWN0LnN2Z1BhdGg7XG4gICAgICAgIGNvbnN0IGJsb2NrU3ZnR3JvdXAgPSBjbGlja2VkQmxvY2suZ2V0U3ZnUm9vdCgpO1xuXG4gICAgICAgIC8vIENvcmUgQmxvY2tseSBzZWxlY3Rpb24gKGFsd2F5cyBjcmVhdGVzIHZpc2libGUgaGlnaGxpZ2h0KVxuICAgICAgICAvLyBOb3RlOiBibG9ja2x5U2VsZWN0ZWQgY2xhc3MgaXMgb24gdGhlIHBhcmVudCA8Zz4gZWxlbWVudCwgbm90IHRoZSBwYXRoXG4gICAgICAgIC8vIFRoZSBDU1MgcnVsZSBpczogLmJsb2NrbHlTZWxlY3RlZCA+IC5ibG9ja2x5UGF0aCB7IHN0cm9rZTogI2ZjMzsgfVxuICAgICAgICBjb25zdCBoYXNTZWxlY3RlZENsYXNzID0gYmxvY2tTdmdHcm91cD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5U2VsZWN0ZWQnKSA/PyBmYWxzZTtcblxuICAgICAgICAvLyBLZXlib2FyZCBuYXZpZ2F0aW9uIGhpZ2hsaWdodHMgKG9ubHkgdmlzaWJsZSB3aGVuIGtleWJvYXJkIG1vZGUgaXMgYWN0aXZlKVxuICAgICAgICBjb25zdCBib2R5SGFzS2V5Ym9hcmROYXYgPSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvbicpO1xuICAgICAgICBjb25zdCBoYXNBY3RpdmVGb2N1cyA9IHBhdGhFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlBY3RpdmVGb2N1cycpID8/IGZhbHNlO1xuICAgICAgICBjb25zdCBoYXNQYXNzaXZlRm9jdXMgPSBwYXRoRWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5UGFzc2l2ZUZvY3VzJykgPz8gZmFsc2U7XG5cbiAgICAgICAgLy8gQm9vbGVhbiBsb2dpYzogdmlzaWJsZSBoaWdobGlnaHQgZXhpc3RzIGlmOlxuICAgICAgICAvLyAtIEJsb2NrIGhhcyBibG9ja2x5U2VsZWN0ZWQgY2xhc3MgKGNvcmUgc2VsZWN0aW9uKSwgT1JcbiAgICAgICAgLy8gLSBLZXlib2FyZCBuYXYgaXMgYWN0aXZlIEFORCBibG9jayBoYXMgYWN0aXZlL3Bhc3NpdmUgZm9jdXNcbiAgICAgICAgY29uc3QgaGFzVmlzaWJsZUhpZ2hsaWdodCA9IGhhc1NlbGVjdGVkQ2xhc3MgfHxcbiAgICAgICAgICAoYm9keUhhc0tleWJvYXJkTmF2ICYmIChoYXNBY3RpdmVGb2N1cyB8fCBoYXNQYXNzaXZlRm9jdXMpKTtcblxuICAgICAgICAvLyBCbG9jayBzaG91bGQgdHJpZ2dlciBzdGlja3kgbW9kZSBpZiBpdCBoYXMgYSB2aXNpYmxlIGhpZ2hsaWdodFxuICAgICAgICByZXR1cm4gaGFzVmlzaWJsZUhpZ2hsaWdodDtcblxuICAgICAgY2FzZSBUcmlnZ2VyTW9kZS5NT0RFX1RPR0dMRTpcbiAgICAgICAgLy8gTU9ERV9UT0dHTEUgcmVxdWlyZXMgZXhwbGljaXQgZW5hYmxlbWVudCB0aHJvdWdoIGV4dGVybmFsIHN0YXRlIG1hbmFnZW1lbnRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBjYXNlIFRyaWdnZXJNb2RlLkdSSVBfQ0xJQ0s6XG4gICAgICAgIC8vIEdSSVBfQ0xJQ0sgaXMgaGFuZGxlZCBieSBoYW5kbGVHcmlwQ2xpY2soKSB3aGljaCBpcyBpbnZva2VkIGRpcmVjdGx5XG4gICAgICAgIC8vIHdoZW4gdGhlIGdyaXAgZWxlbWVudCBpcyBjbGlja2VkICh3aXRoIHN0b3BQcm9wYWdhdGlvbiB0byBwcmV2ZW50IHRoaXNcbiAgICAgICAgLy8gbWV0aG9kIGZyb20gYmVpbmcgY2FsbGVkKS4gUmVndWxhciBjbGlja3Mgb3V0c2lkZSB0aGUgZ3JpcCBkb24ndCB0cmlnZ2VyXG4gICAgICAgIC8vIHN0aWNreSBtb2RlIGluIHRoaXMgbW9kZS5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBjYXNlIFRyaWdnZXJNb2RlLkRPVUJMRV9DTElDSzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIERvdWJsZS1jbGljayBpcyBoYW5kbGVkIHNlcGFyYXRlbHlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHBvaW50ZXIgbW92ZW1lbnQgZHVyaW5nIHN0aWNreSBtb2RlIHRvIG1ha2UgYmxvY2tzIGZvbGxvdyB0aGUgY3Vyc29yLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJFdmVudCkge1xuICAgIGlmICghdGhpcy5pc0FjdGl2ZSgpKSByZXR1cm47XG5cbiAgICAvLyBPbmx5IHVwZGF0ZSBibG9jayBwb3NpdGlvbiBpZiBrZWVwQmxvY2tPbk1vdXNlIGlzIGVuYWJsZWRcbiAgICBpZiAoIXRoaXMua2VlcEJsb2NrT25Nb3VzZSkgcmV0dXJuO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBtb3ZlSW5mbyA9ICh0aGlzLm1vdmVyIGFzIGFueSk/Lm1vdmVzPy5nZXQodGhpcy53b3Jrc3BhY2UpO1xuICAgIGlmICghbW92ZUluZm8pIHJldHVybjtcblxuICAgIGNvbnN0IHRhcmdldFdvcmtzcGFjZUNvb3JkcyA9XG4gICAgICBCbG9ja2x5LnV0aWxzLnN2Z01hdGguc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzKFxuICAgICAgICB0aGlzLndvcmtzcGFjZSxcbiAgICAgICAgbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKSxcbiAgICAgICk7XG5cbiAgICBjb25zdCBkZWx0YVggPSB0YXJnZXRXb3Jrc3BhY2VDb29yZHMueCAtIG1vdmVJbmZvLnN0YXJ0TG9jYXRpb24ueDtcbiAgICBjb25zdCBkZWx0YVkgPSB0YXJnZXRXb3Jrc3BhY2VDb29yZHMueSAtIG1vdmVJbmZvLnN0YXJ0TG9jYXRpb24ueTtcblxuICAgIG1vdmVJbmZvLnRvdGFsRGVsdGEueCA9IGRlbHRhWDtcbiAgICBtb3ZlSW5mby50b3RhbERlbHRhLnkgPSBkZWx0YVk7XG5cbiAgICBpZiAobW92ZUluZm8uZHJhZ2dlcikge1xuICAgICAgbW92ZUluZm8uZHJhZ2dlci5vbkRyYWcoXG4gICAgICAgIGV2ZW50IGFzIGFueSxcbiAgICAgICAgbW92ZUluZm8udG90YWxEZWx0YSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2tzIGR1cmluZyBzdGlja3kgbW9kZSBmb3IgZHJvcC9jb25uZWN0L2RlbGV0ZSBhY3Rpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlU3RpY2t5TW9kZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50IHwgUG9pbnRlckV2ZW50KSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgY29uc3QgY2xpZW50WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgY29uc3QgY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG5cbiAgICBpZiAodGhpcy5pc0NsaWNrT25CaW4oY2xpZW50WCwgY2xpZW50WSkpIHtcbiAgICAgIHRoaXMuZGVsZXRlQmxvY2tPbkJpbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbm5lY3Rpb25JbmZvID0gdGhpcy5maW5kQ29ubmVjdGlvbkF0UG9pbnQoY2xpZW50WCwgY2xpZW50WSk7XG4gICAgaWYgKGNvbm5lY3Rpb25JbmZvKSB7XG4gICAgICB0aGlzLmNvbm5lY3RUb0NsaWNrZWRDb25uZWN0aW9uKGNvbm5lY3Rpb25JbmZvLCBjbGllbnRYLCBjbGllbnRZKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgY29ubmVjdGlvbiBwcmV2aWV3XG4gICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gdGhpcy5nZXREcmFnU3RyYXRlZ3koaW5mby5ibG9jayk7XG5cbiAgICBpZiAodGhpcy5rZWVwQmxvY2tPbk1vdXNlKSB7XG4gICAgICAvLyBCbG9jayBpcyBmb2xsb3dpbmcgbW91c2UgLSBwcmV2aWV3IGNoYW5nZXMgYXMgeW91IG1vdmVcbiAgICAgIC8vIEFjY2VwdCBhbnkgY29ubmVjdGlvbiBwcmV2aWV3IGF0IGN1cnJlbnQgcG9zaXRpb25cbiAgICAgIGlmIChkcmFnU3RyYXRlZ3kgJiYgZHJhZ1N0cmF0ZWd5LmNvbm5lY3Rpb25DYW5kaWRhdGUpIHtcbiAgICAgICAgdGhpcy5hY2NlcHRDb25uZWN0aW9uQ2FuZGlkYXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQmxvY2sgaXMgTk9UIGZvbGxvd2luZyBtb3VzZSAtIHByZXZpZXcgaXMgc3RhdGljIGF0IG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAvLyBPbmx5IGFjY2VwdCBwcmV2aWV3IGlmIGNsaWNraW5nIG9uIHRoZSBzb3VyY2UgYmxvY2sgaXRzZWxmXG4gICAgICBjb25zdCBjbGlja2VkQmxvY2sgPSB0aGlzLmdldEJsb2NrRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgIGNvbnN0IGlzQ2xpY2tPblNvdXJjZUJsb2NrID0gY2xpY2tlZEJsb2NrID09PSBpbmZvLmJsb2NrO1xuXG4gICAgICBpZiAoaXNDbGlja09uU291cmNlQmxvY2sgJiYgZHJhZ1N0cmF0ZWd5ICYmIGRyYWdTdHJhdGVneS5jb25uZWN0aW9uQ2FuZGlkYXRlKSB7XG4gICAgICAgIHRoaXMuYWNjZXB0Q29ubmVjdGlvbkNhbmRpZGF0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gY29ubmVjdGlvbiBwcmV2aWV3IHRvIGFjY2VwdFxuICAgIC8vIENoZWNrIGlmIGNsaWNrIGlzIGluc2lkZSB0aGUgc291cmNlIGJsb2NrIC0gaWYgc28sIGRyb3AgaW4gcGxhY2VcbiAgICBjb25zdCBibG9ja0JvdW5kcyA9IGluZm8uYmxvY2suZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtcbiAgICBjb25zdCBjbGlja1dvcmtzcGFjZUNvb3JkcyA9IEJsb2NrbHkudXRpbHMuc3ZnTWF0aC5zY3JlZW5Ub1dzQ29vcmRpbmF0ZXMoXG4gICAgICB0aGlzLndvcmtzcGFjZSxcbiAgICAgIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoY2xpZW50WCwgY2xpZW50WSksXG4gICAgKTtcblxuICAgIGlmIChibG9ja0JvdW5kcy5jb250YWlucyhjbGlja1dvcmtzcGFjZUNvb3Jkcy54LCBjbGlja1dvcmtzcGFjZUNvb3Jkcy55KSkge1xuICAgICAgLy8gQ2xpY2sgaXMgaW5zaWRlIHRoZSBzb3VyY2UgYmxvY2sgLSBkb24ndCBtb3ZlIGl0XG4gICAgICB0aGlzLmV4aXRTdGlja3lNb2RlQW5kRHJvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDbGljayBpcyBvdXRzaWRlIHRoZSBzb3VyY2UgYmxvY2sgLSBtb3ZlIHRvIGNsaWNrIGxvY2F0aW9uXG4gICAgICB0aGlzLmV4aXRTdGlja3lNb2RlQW5kRHJvcChjbGllbnRYLCBjbGllbnRZKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIGJsb2NrIGZyb20gYW4gZXZlbnQgdGFyZ2V0LlxuICAgKiBTZWFyY2hlcyBib3RoIG1haW4gd29ya3NwYWNlIGFuZCBmbHlvdXQgd29ya3NwYWNlIGJsb2Nrcy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBldmVudC50YXJnZXRcbiAgICovXG4gIHByaXZhdGUgZ2V0QmxvY2tGcm9tRXZlbnQoZXZlbnQ6IHtcbiAgICB0YXJnZXQ6IEV2ZW50VGFyZ2V0IHwgbnVsbDtcbiAgfSk6IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBHZXQgYmxvY2tzIGZyb20gYm90aCBtYWluIHdvcmtzcGFjZSBhbmQgZmx5b3V0XG4gICAgbGV0IGJsb2NrcyA9IHRoaXMud29ya3NwYWNlLmdldEFsbEJsb2NrcygpO1xuICAgIGNvbnN0IGZseW91dCA9IHRoaXMud29ya3NwYWNlLmdldEZseW91dCgpO1xuICAgIGlmIChmbHlvdXQgJiYgZmx5b3V0LmlzVmlzaWJsZSgpKSB7XG4gICAgICBjb25zdCBmbHlvdXRXb3Jrc3BhY2UgPSBmbHlvdXQuZ2V0V29ya3NwYWNlKCk7XG4gICAgICBpZiAoZmx5b3V0V29ya3NwYWNlKSB7XG4gICAgICAgIGJsb2NrcyA9IGJsb2Nrcy5jb25jYXQoZmx5b3V0V29ya3NwYWNlLmdldEFsbEJsb2NrcygpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhbGxCbG9ja0VsZW1lbnRzOiBFbGVtZW50W10gPSBbXTtcbiAgICBsZXQgY3VycmVudEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gdGFyZ2V0O1xuXG4gICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICBpZiAoY3VycmVudEVsZW1lbnQuY2xhc3NMaXN0Py5jb250YWlucygnYmxvY2tseUJsb2NrJykpIHtcbiAgICAgICAgYWxsQmxvY2tFbGVtZW50cy5wdXNoKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBpZiAoYWxsQmxvY2tFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBpbm5lcm1vc3RCbG9ja0VsZW1lbnQgPSBhbGxCbG9ja0VsZW1lbnRzWzBdO1xuICAgICAgY29uc3QgYmxvY2sgPSBibG9ja3MuZmluZCgoYikgPT4gYi5nZXRTdmdSb290KCkgPT09IGlubmVybW9zdEJsb2NrRWxlbWVudCk7XG5cbiAgICAgIGlmIChibG9jayAmJiBibG9jayBpbnN0YW5jZW9mIEJsb2NrbHkuQmxvY2tTdmcpIHtcbiAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGJsb2NrIGlzIGZyb20gdGhlIGZseW91dC5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayB0byBjaGVjay5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgYmxvY2sgaXMgZnJvbSB0aGUgZmx5b3V0IHdvcmtzcGFjZS5cbiAgICovXG4gIHByaXZhdGUgaXNCbG9ja0Zyb21GbHlvdXQoYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYmxvY2sud29ya3NwYWNlLmlzRmx5b3V0ID09PSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYmxvY2sgZnJvbSBhIGZseW91dCB0ZW1wbGF0ZSBhbmQgaW1tZWRpYXRlbHkgZW50ZXJzIHN0aWNreSBtb2RlLlxuICAgKiBVc2VkIHdoZW4gY2xpY2tpbmcgb24gZmx5b3V0IGJsb2NrcyB3aXRoIHN0aWNreSBtb2RlIHRyaWdnZXJzIGVuYWJsZWQuXG4gICAqXG4gICAqIEBwYXJhbSBmbHlvdXRCbG9jayBUaGUgZmx5b3V0IGJsb2NrIHRlbXBsYXRlIHRvIGNyZWF0ZSBmcm9tLlxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBpbnNlcnRGbHlvdXRCbG9ja0ludG9TdGlja3lNb2RlKFxuICAgIGZseW91dEJsb2NrOiBCbG9ja2x5LkJsb2NrU3ZnLFxuICAgIGV2ZW50OiBNb3VzZUV2ZW50LFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBmbHlvdXQgPSB0aGlzLndvcmtzcGFjZS5nZXRGbHlvdXQoKTtcbiAgICBpZiAoIWZseW91dCkgcmV0dXJuO1xuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGV2ZW50IGdyb3VwIGZvciB0aGlzIG9wZXJhdGlvblxuICAgIGNvbnN0IGV4aXN0aW5nR3JvdXAgPSBCbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpO1xuICAgIGlmICghZXhpc3RpbmdHcm91cCkge1xuICAgICAgQmxvY2tseS5FdmVudHMuc2V0R3JvdXAodHJ1ZSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgYmxvY2sgb24gdGhlIG1haW4gd29ya3NwYWNlIGZyb20gdGhlIGZseW91dCB0ZW1wbGF0ZVxuICAgICAgY29uc3QgbmV3QmxvY2sgPSBmbHlvdXQuY3JlYXRlQmxvY2soZmx5b3V0QmxvY2spO1xuXG4gICAgICAvLyBSZW5kZXIgdG8gZ2V0IHRoZSBzaXppbmcgcmlnaHRcbiAgICAgIG5ld0Jsb2NrLnJlbmRlcigpO1xuXG4gICAgICAvLyBFbmFibGUgY29ubmVjdGlvbiB0cmFja2luZyAobm9ybWFsbHkgaGFwcGVucyBkdXJpbmcgZHJhZywgYnV0IHdlIG5lZWQgaXQgaW1tZWRpYXRlbHkpXG4gICAgICBuZXdCbG9jay5zZXRDb25uZWN0aW9uVHJhY2tpbmcodHJ1ZSk7XG5cbiAgICAgIC8vIFBvc2l0aW9uIHRoZSBibG9jayBhdCB0aGUgY2xpY2sgbG9jYXRpb25cbiAgICAgIGNvbnN0IHdvcmtzcGFjZUNvb3JkcyA9IEJsb2NrbHkudXRpbHMuc3ZnTWF0aC5zY3JlZW5Ub1dzQ29vcmRpbmF0ZXMoXG4gICAgICAgIHRoaXMud29ya3NwYWNlLFxuICAgICAgICBuZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpLFxuICAgICAgKTtcbiAgICAgIG5ld0Jsb2NrLm1vdmVUbyh3b3Jrc3BhY2VDb29yZHMpO1xuXG4gICAgICAvLyBFbnRlciBzdGlja3kgbW9kZSB3aXRoIHRoZSBuZXdseSBjcmVhdGVkIGJsb2NrXG4gICAgICB0aGlzLmVudGVyKG5ld0Jsb2NrLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gQ2xlYW4gdXAgZXZlbnQgZ3JvdXAgaWYgd2UgY3JlYXRlZCBvbmVcbiAgICAgIGlmICghZXhpc3RpbmdHcm91cCkge1xuICAgICAgICBCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGNsaWNrIGlzIG9uIGEgZmllbGQgZWxlbWVudCBieSBpbnNwZWN0aW5nIHRoZSBET00gdHJlZS5cbiAgICogTW9yZSByZWxpYWJsZSB0aGFuIGdlc3R1cmUtYmFzZWQgZGV0ZWN0aW9uIGZvciBldmVudHMgdGhhdCBmaXJlIGFmdGVyIGdlc3R1cmUgZGlzcG9zYWwuXG4gICAqIE9ubHkgZGV0ZWN0cyB0cnVseSBpbnRlcmFjdGl2ZS9lZGl0YWJsZSBmaWVsZHMsIG5vdCBzdGF0aWMgdGV4dCBsYWJlbHMuXG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXQgVGhlIGV2ZW50IHRhcmdldCBlbGVtZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBpc0NsaWNrT25GaWVsZCh0YXJnZXQ6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gV2FsayB1cCB0aGUgRE9NIHRyZWUgbG9va2luZyBmb3IgaW50ZXJhY3RpdmUgZmllbGQgZWxlbWVudHNcbiAgICBsZXQgY3VycmVudEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gdGFyZ2V0O1xuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgY29uc3QgbWF4RGVwdGggPSAxMDsgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wc1xuXG4gICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50ICYmIGRlcHRoIDwgbWF4RGVwdGgpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGN1cnJlbnRFbGVtZW50LmNsYXNzTGlzdDtcblxuICAgICAgaWYgKGNsYXNzTGlzdCkge1xuICAgICAgICAvLyBTdG9wIGVhcmx5IGlmIHdlIGhpdCB0aGUgd29ya3NwYWNlIC0gbm8gZmllbGRzIGJleW9uZCBoZXJlXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlXb3Jrc3BhY2UnKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5TWFpbkJhY2tncm91bmQnKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5U3ZnJykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9wIGF0IGJsb2NrIGJvdW5kYXJ5IC0gZG9uJ3Qgc2VhcmNoIGJleW9uZCB0aGUgYmxvY2tcbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUJsb2NrJykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmx5IGNoZWNrIGZvciBFRElUQUJMRS9JTlRFUkFDVElWRSBmaWVsZCBDU1MgY2xhc3Nlc1xuICAgICAgICAvLyBEbyBOT1QgaW5jbHVkZSBibG9ja2x5VGV4dCBvciBibG9ja2x5Tm9uRWRpdGFibGVUZXh0IC0gdGhvc2UgYXJlIHN0YXRpYyBsYWJlbHNcbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUVkaXRhYmxlVGV4dCcpIHx8XG4gICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlEcm9wZG93blRleHQnKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RHJvcERvd25EaXYnKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHNwZWNpZmljIGludGVyYWN0aXZlIGZpZWxkIHR5cGVzXG4gICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlGaWVsZFRleHRJbnB1dCcpIHx8XG4gICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlGaWVsZE51bWJlcicpIHx8XG4gICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlGaWVsZENvbG91cicpIHx8XG4gICAgICAgICAgICBjbGFzc0xpc3QuY29udGFpbnMoJ2Jsb2NrbHlGaWVsZERyb3Bkb3duJykgfHxcbiAgICAgICAgICAgIGNsYXNzTGlzdC5jb250YWlucygnYmxvY2tseUZpZWxkQ2hlY2tib3gnKSB8fFxuICAgICAgICAgICAgY2xhc3NMaXN0LmNvbnRhaW5zKCdibG9ja2x5RmllbGRBbmdsZScpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgZGVwdGgrKztcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZG91YmxlLWNsaWNrIGV2ZW50IGlzIG9uIGEgZmllbGQgZWxlbWVudC5cbiAgICogVXNlcyBCbG9ja2x5J3MgZ2VzdHVyZSBzeXN0ZW0gZm9yIHJlbGlhYmxlIGZpZWxkIGRldGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldFxuICAgKi9cbiAgcHJpdmF0ZSBpc0RvdWJsZUNsaWNrT25GaWVsZCh0YXJnZXQ6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSB0aGlzLndvcmtzcGFjZTtcbiAgICBjb25zdCBjdXJyZW50R2VzdHVyZSA9ICh3b3Jrc3BhY2UgYXMgYW55KS5jdXJyZW50R2VzdHVyZV87XG5cbiAgICBpZiAoY3VycmVudEdlc3R1cmUgJiYgKGN1cnJlbnRHZXN0dXJlIGFzIGFueSkuc3RhcnRGaWVsZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbCBiYWNrIHRvIERPTS1iYXNlZCBkZXRlY3Rpb25cbiAgICByZXR1cm4gdGhpcy5pc0NsaWNrT25GaWVsZCh0YXJnZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgdGhlIGN1cnJlbnQgY29ubmVjdGlvbiBjYW5kaWRhdGUgZnJvbSB0aGUgZHJhZyBzdHJhdGVneS5cbiAgICovXG4gIHByaXZhdGUgYWNjZXB0Q29ubmVjdGlvbkNhbmRpZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgIHRoaXMuZXhpdCgnZmluaXNoJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBzY3JlZW4gY29vcmRpbmF0ZXMgYXJlIG92ZXIgdGhlIHRyYXNoY2FuL2Jpbi5cbiAgICpcbiAgICogQHBhcmFtIGNsaWVudFggU2NyZWVuIFggY29vcmRpbmF0ZS5cbiAgICogQHBhcmFtIGNsaWVudFkgU2NyZWVuIFkgY29vcmRpbmF0ZS5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29vcmRpbmF0ZXMgYXJlIG92ZXIgdGhlIHRyYXNoY2FuLlxuICAgKi9cbiAgcHJpdmF0ZSBpc0NsaWNrT25CaW4oY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCB0cmFzaGNhbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmxvY2tseVRyYXNoJyk7XG4gICAgaWYgKCF0cmFzaGNhbkVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCByZWN0ID0gdHJhc2hjYW5FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIGNsaWVudFggPj0gcmVjdC5sZWZ0ICYmXG4gICAgICBjbGllbnRYIDw9IHJlY3QucmlnaHQgJiZcbiAgICAgIGNsaWVudFkgPj0gcmVjdC50b3AgJiZcbiAgICAgIGNsaWVudFkgPD0gcmVjdC5ib3R0b21cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgdGhlIHN0aWNreSBibG9jayB3aGVuIGRyb3BwZWQgb24gdGhlIGJpbi5cbiAgICovXG4gIHByaXZhdGUgZGVsZXRlQmxvY2tPbkJpbigpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5zdGlja3lNb2Rlcy5nZXQodGhpcy53b3Jrc3BhY2UpO1xuICAgIGlmICghaW5mbykgcmV0dXJuO1xuXG4gICAgY29uc3QgYmxvY2tUb0RlbGV0ZSA9IGluZm8uYmxvY2s7XG4gICAgdGhpcy5leGl0KCdhYm9ydCcpO1xuXG4gICAgLy8gVW5wbHVnIHdpdGggaGVhbFN0YWNrIHRvIHByZXNlcnZlIGNoaWxkcmVuXG4gICAgYmxvY2tUb0RlbGV0ZS51bnBsdWcodHJ1ZSk7XG4gICAgYmxvY2tUb0RlbGV0ZS5kaXNwb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYSBjb25uZWN0aW9uIHBvaW50IGF0IHRoZSBnaXZlbiBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBjbGllbnRYXG4gICAqIEBwYXJhbSBjbGllbnRZXG4gICAqL1xuICBwcml2YXRlIGZpbmRDb25uZWN0aW9uQXRQb2ludChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IGFueSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gKGluZm8uYmxvY2sgYXMgYW55KT8uZHJhZ1N0cmF0ZWd5O1xuICAgIGlmIChkcmFnU3RyYXRlZ3kgJiYgZHJhZ1N0cmF0ZWd5LmNvbm5lY3Rpb25IaWdobGlnaHRlcikge1xuICAgICAgY29uc3QgaGlnaGxpZ2h0ZWRDb25uZWN0aW9uID1cbiAgICAgICAgZHJhZ1N0cmF0ZWd5LmNvbm5lY3Rpb25IaWdobGlnaHRlci5maW5kQ29ubmVjdGlvbkF0UG9pbnQoXG4gICAgICAgICAgY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZLFxuICAgICAgICApO1xuXG4gICAgICBpZiAoaGlnaGxpZ2h0ZWRDb25uZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHN0aWNreUNvbm5lY3Rpb25zID0gaW5mby5ibG9jay5nZXRDb25uZWN0aW9uc18odHJ1ZSk7XG4gICAgICAgIGlmIChzdGlja3lDb25uZWN0aW9ucykge1xuICAgICAgICAgIGZvciAoY29uc3Qgc3RpY2t5Q29ubmVjdGlvbiBvZiBzdGlja3lDb25uZWN0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbkNoZWNrZXIgPSB0aGlzLndvcmtzcGFjZS5jb25uZWN0aW9uQ2hlY2tlcjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29ubmVjdGlvbkNoZWNrZXIuY2FuQ29ubmVjdChcbiAgICAgICAgICAgICAgICBzdGlja3lDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIEluZmluaXR5LFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uOiBoaWdobGlnaHRlZENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgc3RpY2t5Q29ubmVjdGlvbjogc3RpY2t5Q29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgICAgICAgICBpc0hpZ2hsaWdodGVkOiB0cnVlLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbm5lY3RzIHRoZSBzdGlja3kgYmxvY2sgdG8gYSBzcGVjaWZpYyBjb25uZWN0aW9uIHBvaW50LlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkluZm9cbiAgICogQHBhcmFtIGNsaWVudFhcbiAgICogQHBhcmFtIGNsaWVudFlcbiAgICovXG4gIHByaXZhdGUgY29ubmVjdFRvQ2xpY2tlZENvbm5lY3Rpb24oXG4gICAgY29ubmVjdGlvbkluZm86IGFueSxcbiAgICBjbGllbnRYOiBudW1iZXIsXG4gICAgY2xpZW50WTogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5zdGlja3lNb2Rlcy5nZXQodGhpcy53b3Jrc3BhY2UpO1xuICAgIGlmICghaW5mbykgcmV0dXJuO1xuXG4gICAgY29uc3Qge2Nvbm5lY3Rpb24sIHN0aWNreUNvbm5lY3Rpb259ID0gY29ubmVjdGlvbkluZm87XG5cbiAgICBjb25zdCBkcmFnU3RyYXRlZ3kgPSB0aGlzLmdldERyYWdTdHJhdGVneShpbmZvLmJsb2NrKTtcbiAgICBpZiAoZHJhZ1N0cmF0ZWd5KSB7XG4gICAgICBkcmFnU3RyYXRlZ3kuY29ubmVjdGlvbkNhbmRpZGF0ZSA9IHtcbiAgICAgICAgbG9jYWw6IHN0aWNreUNvbm5lY3Rpb24sXG4gICAgICAgIG5laWdoYm91cjogY29ubmVjdGlvbixcbiAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuZXhpdCgnZmluaXNoJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBzdGlja3kgbW9kZSBVSSBzdGF0ZS5cbiAgICogQ2FsbGVkIGFmdGVyIG1vdmVyLmZpbmlzaE1vdmUoKSBvciBtb3Zlci5hYm9ydE1vdmUoKS5cbiAgICovXG4gIHByaXZhdGUgcmVzZXRTdGlja3lTdGF0ZSgpIHtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5zdGlja3lNb2Rlcy5nZXQodGhpcy53b3Jrc3BhY2UpO1xuICAgIGlmIChpbmZvKSB7XG4gICAgICBpbmZvLmJsb2NrLmdldFN2Z1Jvb3QoKS5jbGFzc0xpc3QucmVtb3ZlKCdibG9ja2x5LXN0aWNreS1tb2RlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGlja3lNb2Rlcy5kZWxldGUodGhpcy53b3Jrc3BhY2UpO1xuICAgIHRoaXMuaWdub3JlTmV4dENsaWNrID0gZmFsc2U7XG5cbiAgICAvLyBGb2N1cyB0aGUgd29ya3NwYWNlIHJvb3QgdG8gcHJvcGVybHkgYmx1ciB0aGUgYmxvY2tcbiAgICAvLyBUaGlzIGVuc3VyZXMgc3Vic2VxdWVudCBjbGlja3MgY2FuIHJlLWZvY3VzIGFuZCBzZWxlY3QgdGhlIGJsb2NrIGNvcnJlY3RseVxuICAgIGNvbnN0IGZvY3VzTWFuYWdlciA9IEJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyKCk7XG4gICAgZm9jdXNNYW5hZ2VyLmZvY3VzTm9kZSh0aGlzLndvcmtzcGFjZSk7XG5cbiAgICAvLyBDbGVhciB0b3VjaCBpZGVudGlmaWVyIHRvIHByZXZlbnQgc3R1Y2sgZ2VzdHVyZXNcbiAgICB0cnkge1xuICAgICAgQmxvY2tseS5Ub3VjaC5jbGVhclRvdWNoSWRlbnRpZmllcigpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIEJsb2NrbHkuVG91Y2guY2xlYXJUb3VjaElkZW50aWZpZXIoKTtcbiAgICAgIH0sIDApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFNpbGVudGx5IGZhaWxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhpdHMgc3RpY2t5IG1vZGUgYnkgZHJvcHBpbmcgdGhlIGJsb2NrIGF0IHRoZSBzcGVjaWZpZWQgb3IgY3VycmVudCBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNsaWVudFggT3B0aW9uYWwgc2NyZWVuIFggY29vcmRpbmF0ZSB3aGVyZSB0byBkcm9wIHRoZSBibG9ja1xuICAgKiBAcGFyYW0gY2xpZW50WSBPcHRpb25hbCBzY3JlZW4gWSBjb29yZGluYXRlIHdoZXJlIHRvIGRyb3AgdGhlIGJsb2NrXG4gICAqL1xuICBwcml2YXRlIGV4aXRTdGlja3lNb2RlQW5kRHJvcChjbGllbnRYPzogbnVtYmVyLCBjbGllbnRZPzogbnVtYmVyKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuc3RpY2t5TW9kZXMuZ2V0KHRoaXMud29ya3NwYWNlKTtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBjb25uZWN0aW9uIGNhbmRpZGF0ZSAtIEJsb2NrbHkgd2lsbCByZWNhbGN1bGF0ZSBmcm9tIGZpbmFsIHBvc2l0aW9uXG4gICAgY29uc3QgZHJhZ1N0cmF0ZWd5ID0gdGhpcy5nZXREcmFnU3RyYXRlZ3koaW5mby5ibG9jayk7XG4gICAgaWYgKGRyYWdTdHJhdGVneSkge1xuICAgICAgZHJhZ1N0cmF0ZWd5LmNvbm5lY3Rpb25DYW5kaWRhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgbW92ZUluZm8gPSAodGhpcy5tb3ZlciBhcyBhbnkpPy5tb3Zlcz8uZ2V0KHRoaXMud29ya3NwYWNlKTtcblxuICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiBpZiBjb29yZGluYXRlcyBwcm92aWRlZFxuICAgIGlmIChcbiAgICAgIGNsaWVudFggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgY2xpZW50WSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBpbmZvLmJsb2NrICYmXG4gICAgICAhaW5mby5ibG9jay5pc0Rpc3Bvc2VkKClcbiAgICApIHtcbiAgICAgIGNvbnN0IHRhcmdldFdvcmtzcGFjZUNvb3JkcyA9XG4gICAgICAgIEJsb2NrbHkudXRpbHMuc3ZnTWF0aC5zY3JlZW5Ub1dzQ29vcmRpbmF0ZXMoXG4gICAgICAgICAgdGhpcy53b3Jrc3BhY2UsXG4gICAgICAgICAgbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShjbGllbnRYLCBjbGllbnRZKSxcbiAgICAgICAgKTtcblxuICAgICAgaWYgKG1vdmVJbmZvKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRYID0gbW92ZUluZm8uc3RhcnRMb2NhdGlvbi54ICsgbW92ZUluZm8udG90YWxEZWx0YS54O1xuICAgICAgICBjb25zdCBjdXJyZW50WSA9IG1vdmVJbmZvLnN0YXJ0TG9jYXRpb24ueSArIG1vdmVJbmZvLnRvdGFsRGVsdGEueTtcblxuICAgICAgICBjb25zdCBhZGRpdGlvbmFsRGVsdGFYID0gdGFyZ2V0V29ya3NwYWNlQ29vcmRzLnggLSBjdXJyZW50WDtcbiAgICAgICAgY29uc3QgYWRkaXRpb25hbERlbHRhWSA9IHRhcmdldFdvcmtzcGFjZUNvb3Jkcy55IC0gY3VycmVudFk7XG5cbiAgICAgICAgbW92ZUluZm8udG90YWxEZWx0YS54ICs9IGFkZGl0aW9uYWxEZWx0YVg7XG4gICAgICAgIG1vdmVJbmZvLnRvdGFsRGVsdGEueSArPSBhZGRpdGlvbmFsRGVsdGFZO1xuXG4gICAgICAgIC8vIE1vdmUgYmxvY2sgZGlyZWN0bHkgdG8gZW5zdXJlIHBvc2l0aW9uaW5nIGlzIGNvcnJlY3RcbiAgICAgICAgaW5mby5ibG9jay5tb3ZlQnkoYWRkaXRpb25hbERlbHRhWCwgYWRkaXRpb25hbERlbHRhWSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zZXRDbGlja0FuZFN0aWNrTW9kZShpbmZvLmJsb2NrLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy5tb3ZlciAmJiB0aGlzLm1vdmVyLmlzTW92aW5nKHRoaXMud29ya3NwYWNlKSkge1xuICAgICAgdGhpcy5tb3Zlci5maW5pc2hNb3ZlKHRoaXMud29ya3NwYWNlKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0U3RpY2t5U3RhdGUoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/sticky_mode_controller.ts\n");

/***/ }),

/***/ "./src/workspace_utilities.ts":
/*!************************************!*\
  !*** ./src/workspace_utilities.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNonShadowBlock: () => (/* binding */ getNonShadowBlock),\n/* harmony export */   scrollBoundsIntoView: () => (/* binding */ scrollBoundsIntoView)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Walks up the block tree from a shadow block to find the parent non-shadow block.\n * Shadow blocks should never be moved independently.\n *\n * @param block The block to start from (may be a shadow block)\n * @returns The first non-shadow block ancestor, or null if none found\n */\nfunction getNonShadowBlock(block) {\n    if (!block)\n        return null;\n    while (block.isShadow()) {\n        const parent = block.getParent();\n        if (!parent) {\n            return null;\n        }\n        block = parent;\n    }\n    return block;\n}\n/**\n * Scrolls the provided bounds into view.\n *\n * In the case of small workspaces/large bounds, this function prioritizes\n * getting the top left corner of the bounds into view. It also adds some\n * padding around the bounds to allow the element to be comfortably in view.\n *\n * @param bounds A rectangle to scroll into view, as best as possible.\n * @param workspace The workspace to scroll the given bounds into view in.\n */\nfunction scrollBoundsIntoView(bounds, workspace) {\n    if (blockly_core__WEBPACK_IMPORTED_MODULE_0__.Gesture.inProgress()) {\n        // This can cause jumps during a drag and it only suited for keyboard nav.\n        return;\n    }\n    const scale = workspace.getScale();\n    const rawViewport = workspace.getMetricsManager().getViewMetrics(true);\n    const viewport = new blockly_core__WEBPACK_IMPORTED_MODULE_0__.utils.Rect(rawViewport.top, rawViewport.top + rawViewport.height, rawViewport.left, rawViewport.left + rawViewport.width);\n    if (bounds.left >= viewport.left &&\n        bounds.top >= viewport.top &&\n        bounds.right <= viewport.right &&\n        bounds.bottom <= viewport.bottom) {\n        // Do nothing if the block is fully inside the viewport.\n        return;\n    }\n    // Add some padding to the bounds so the element is scrolled comfortably\n    // into view.\n    bounds = bounds.clone();\n    bounds.top -= 10;\n    bounds.bottom += 10;\n    bounds.left -= 10;\n    bounds.right += 10;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (bounds.left < viewport.left) {\n        deltaX = viewport.left - bounds.left;\n    }\n    else if (bounds.right > viewport.right) {\n        deltaX = viewport.right - bounds.right;\n    }\n    if (bounds.top < viewport.top) {\n        deltaY = viewport.top - bounds.top;\n    }\n    else if (bounds.bottom > viewport.bottom) {\n        deltaY = viewport.bottom - bounds.bottom;\n    }\n    deltaX *= scale;\n    deltaY *= scale;\n    workspace.scroll(workspace.scrollX + deltaX, workspace.scrollY + deltaY);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLENBQUM7SUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQztJQUNoQixTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsTUFBTSxFQUFFLFNBQVMsQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDM0UsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9zcmMvd29ya3NwYWNlX3V0aWxpdGllcy50cz8yMGJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuXG4vKipcbiAqIFdhbGtzIHVwIHRoZSBibG9jayB0cmVlIGZyb20gYSBzaGFkb3cgYmxvY2sgdG8gZmluZCB0aGUgcGFyZW50IG5vbi1zaGFkb3cgYmxvY2suXG4gKiBTaGFkb3cgYmxvY2tzIHNob3VsZCBuZXZlciBiZSBtb3ZlZCBpbmRlcGVuZGVudGx5LlxuICpcbiAqIEBwYXJhbSBibG9jayBUaGUgYmxvY2sgdG8gc3RhcnQgZnJvbSAobWF5IGJlIGEgc2hhZG93IGJsb2NrKVxuICogQHJldHVybnMgVGhlIGZpcnN0IG5vbi1zaGFkb3cgYmxvY2sgYW5jZXN0b3IsIG9yIG51bGwgaWYgbm9uZSBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9uU2hhZG93QmxvY2soYmxvY2s6IEJsb2NrbHkuQmxvY2tTdmcgfCBudWxsKTogQmxvY2tseS5CbG9ja1N2ZyB8IG51bGwge1xuICBpZiAoIWJsb2NrKSByZXR1cm4gbnVsbDtcblxuICB3aGlsZSAoYmxvY2suaXNTaGFkb3coKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGJsb2NrLmdldFBhcmVudCgpO1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYmxvY2sgPSBwYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gYmxvY2s7XG59XG5cbi8qKlxuICogU2Nyb2xscyB0aGUgcHJvdmlkZWQgYm91bmRzIGludG8gdmlldy5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBzbWFsbCB3b3Jrc3BhY2VzL2xhcmdlIGJvdW5kcywgdGhpcyBmdW5jdGlvbiBwcmlvcml0aXplc1xuICogZ2V0dGluZyB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBib3VuZHMgaW50byB2aWV3LiBJdCBhbHNvIGFkZHMgc29tZVxuICogcGFkZGluZyBhcm91bmQgdGhlIGJvdW5kcyB0byBhbGxvdyB0aGUgZWxlbWVudCB0byBiZSBjb21mb3J0YWJseSBpbiB2aWV3LlxuICpcbiAqIEBwYXJhbSBib3VuZHMgQSByZWN0YW5nbGUgdG8gc2Nyb2xsIGludG8gdmlldywgYXMgYmVzdCBhcyBwb3NzaWJsZS5cbiAqIEBwYXJhbSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0byBzY3JvbGwgdGhlIGdpdmVuIGJvdW5kcyBpbnRvIHZpZXcgaW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxCb3VuZHNJbnRvVmlldyhcbiAgYm91bmRzOiBCbG9ja2x5LnV0aWxzLlJlY3QsXG4gIHdvcmtzcGFjZTogQmxvY2tseS5Xb3Jrc3BhY2VTdmcsXG4pIHtcbiAgaWYgKEJsb2NrbHkuR2VzdHVyZS5pblByb2dyZXNzKCkpIHtcbiAgICAvLyBUaGlzIGNhbiBjYXVzZSBqdW1wcyBkdXJpbmcgYSBkcmFnIGFuZCBpdCBvbmx5IHN1aXRlZCBmb3Iga2V5Ym9hcmQgbmF2LlxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzY2FsZSA9IHdvcmtzcGFjZS5nZXRTY2FsZSgpO1xuXG4gIGNvbnN0IHJhd1ZpZXdwb3J0ID0gd29ya3NwYWNlLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0Vmlld01ldHJpY3ModHJ1ZSk7XG4gIGNvbnN0IHZpZXdwb3J0ID0gbmV3IEJsb2NrbHkudXRpbHMuUmVjdChcbiAgICByYXdWaWV3cG9ydC50b3AsXG4gICAgcmF3Vmlld3BvcnQudG9wICsgcmF3Vmlld3BvcnQuaGVpZ2h0LFxuICAgIHJhd1ZpZXdwb3J0LmxlZnQsXG4gICAgcmF3Vmlld3BvcnQubGVmdCArIHJhd1ZpZXdwb3J0LndpZHRoLFxuICApO1xuXG4gIGlmIChcbiAgICBib3VuZHMubGVmdCA+PSB2aWV3cG9ydC5sZWZ0ICYmXG4gICAgYm91bmRzLnRvcCA+PSB2aWV3cG9ydC50b3AgJiZcbiAgICBib3VuZHMucmlnaHQgPD0gdmlld3BvcnQucmlnaHQgJiZcbiAgICBib3VuZHMuYm90dG9tIDw9IHZpZXdwb3J0LmJvdHRvbVxuICApIHtcbiAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSBibG9jayBpcyBmdWxseSBpbnNpZGUgdGhlIHZpZXdwb3J0LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEFkZCBzb21lIHBhZGRpbmcgdG8gdGhlIGJvdW5kcyBzbyB0aGUgZWxlbWVudCBpcyBzY3JvbGxlZCBjb21mb3J0YWJseVxuICAvLyBpbnRvIHZpZXcuXG4gIGJvdW5kcyA9IGJvdW5kcy5jbG9uZSgpO1xuICBib3VuZHMudG9wIC09IDEwO1xuICBib3VuZHMuYm90dG9tICs9IDEwO1xuICBib3VuZHMubGVmdCAtPSAxMDtcbiAgYm91bmRzLnJpZ2h0ICs9IDEwO1xuXG4gIGxldCBkZWx0YVggPSAwO1xuICBsZXQgZGVsdGFZID0gMDtcblxuICBpZiAoYm91bmRzLmxlZnQgPCB2aWV3cG9ydC5sZWZ0KSB7XG4gICAgZGVsdGFYID0gdmlld3BvcnQubGVmdCAtIGJvdW5kcy5sZWZ0O1xuICB9IGVsc2UgaWYgKGJvdW5kcy5yaWdodCA+IHZpZXdwb3J0LnJpZ2h0KSB7XG4gICAgZGVsdGFYID0gdmlld3BvcnQucmlnaHQgLSBib3VuZHMucmlnaHQ7XG4gIH1cblxuICBpZiAoYm91bmRzLnRvcCA8IHZpZXdwb3J0LnRvcCkge1xuICAgIGRlbHRhWSA9IHZpZXdwb3J0LnRvcCAtIGJvdW5kcy50b3A7XG4gIH0gZWxzZSBpZiAoYm91bmRzLmJvdHRvbSA+IHZpZXdwb3J0LmJvdHRvbSkge1xuICAgIGRlbHRhWSA9IHZpZXdwb3J0LmJvdHRvbSAtIGJvdW5kcy5ib3R0b207XG4gIH1cblxuICBkZWx0YVggKj0gc2NhbGU7XG4gIGRlbHRhWSAqPSBzY2FsZTtcbiAgd29ya3NwYWNlLnNjcm9sbCh3b3Jrc3BhY2Uuc2Nyb2xsWCArIGRlbHRhWCwgd29ya3NwYWNlLnNjcm9sbFkgKyBkZWx0YVkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/workspace_utilities.ts\n");

/***/ }),

/***/ "./test/maze-game/blocks.ts":
/*!**********************************!*\
  !*** ./test/maze-game/blocks.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerMazeBlocks: () => (/* binding */ registerMazeBlocks)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var blockly_javascript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/javascript */ \"./node_modules/blockly/javascript.mjs\");\n/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Blocks for Maze game.\n * Adapted from blockly-games for use with modern Blockly and keyboard navigation.\n */\n\n\n/**\n * Counterclockwise arrow to be appended to left turn option.\n */\nconst LEFT_TURN = ' ';\n/**\n * Clockwise arrow to be appended to right turn option.\n */\nconst RIGHT_TURN = ' ';\n/**\n * Straight arrow for move forward.\n */\nconst MOVE_FORWARD = ' ';\n/**\n * Common HSV hue for all movement blocks.\n */\nconst MOVEMENT_HUE = 290;\n/**\n * HSV hue for loop block.\n */\nconst LOOPS_HUE = 120;\n/**\n * Common HSV hue for all logic blocks.\n */\nconst LOGIC_HUE = 210;\n/**\n * Register maze blocks with Blockly.\n */\nfunction registerMazeBlocks() {\n    const TURN_DIRECTIONS = [\n        ['%{BKY_MAZE_TURN_LEFT}', 'turnLeft'],\n        ['%{BKY_MAZE_TURN_RIGHT}', 'turnRight'],\n    ];\n    const PATH_DIRECTIONS = [\n        ['%{BKY_MAZE_PATH_AHEAD}', 'isPathForward'],\n        ['%{BKY_MAZE_PATH_LEFT}', 'isPathLeft'],\n        ['%{BKY_MAZE_PATH_RIGHT}', 'isPathRight'],\n    ];\n    // Add arrows to turn options after prefix/suffix have been separated.\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.Extensions.register('maze_turn_arrows', function () {\n        const field = this.getField('DIR');\n        const options = field.getOptions();\n        if (options.length >= 2) {\n            // Modify the display text to add arrows\n            const newOptions = options.map((option, index) => {\n                if (index === options.length - 2) {\n                    return [option[0] + LEFT_TURN, option[1]];\n                }\n                else if (index === options.length - 1) {\n                    return [option[0] + RIGHT_TURN, option[1]];\n                }\n                return option;\n            });\n            // Update the options using public API\n            field.menuGenerator_ = newOptions;\n        }\n    });\n    blockly_core__WEBPACK_IMPORTED_MODULE_0__.defineBlocksWithJsonArray([\n        // Block for moving forward.\n        {\n            type: 'maze_moveForward',\n            message0: '%{BKY_MAZE_MOVE_FORWARD}',\n            previousStatement: null,\n            nextStatement: null,\n            colour: MOVEMENT_HUE,\n            tooltip: '%{BKY_MAZE_MOVE_FORWARD_TOOLTIP}',\n        },\n        // Block for turning left or right.\n        {\n            type: 'maze_turn',\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DIR',\n                    options: TURN_DIRECTIONS,\n                },\n            ],\n            previousStatement: null,\n            nextStatement: null,\n            colour: MOVEMENT_HUE,\n            tooltip: '%{BKY_MAZE_TURN_TOOLTIP}',\n            extensions: ['maze_turn_arrows'],\n        },\n        // Block for conditional \"if there is a path\".\n        {\n            type: 'maze_if',\n            message0: '%1%2%{BKY_MAZE_DO} %3',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DIR',\n                    options: PATH_DIRECTIONS,\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            previousStatement: null,\n            nextStatement: null,\n            colour: LOGIC_HUE,\n            tooltip: '%{BKY_MAZE_IF_TOOLTIP}',\n            extensions: ['maze_turn_arrows'],\n        },\n        // Block for conditional \"if there is a path, else\".\n        {\n            type: 'maze_ifElse',\n            message0: '%1%2%{BKY_MAZE_DO} %3%{BKY_MAZE_ELSE} %4',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DIR',\n                    options: PATH_DIRECTIONS,\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'ELSE',\n                },\n            ],\n            previousStatement: null,\n            nextStatement: null,\n            colour: LOGIC_HUE,\n            tooltip: '%{BKY_MAZE_IFELSE_TOOLTIP}',\n            extensions: ['maze_turn_arrows'],\n        },\n        // Block for repeat loop.\n        {\n            type: 'maze_forever',\n            message0: '%{BKY_MAZE_REPEAT_UNTIL} %1%2%{BKY_MAZE_DO} %3',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAABGUlEQVQoU2NkwAIYGRn/MzAwMKCrZ2Fh+c/CwvIfXQ0DA8N/FhYWBlRNLCz//zMwMPxnYWH5jyoGVMMIVMPAwPCfhYXlP5oaFpaW/ywsLAyMjIwMDAwM/1lYWP6jqUHRwMDwn5mZmYGBgeE/MzMzA7oaRkZGBgYGhv8sLCz/0dQwMDAwMDMzMzAwMDBgqGFhYWFgZGRkYGBg+I+uhoGB4T8LCwsDAwMDg=',\n                    width: 12,\n                    height: 16,\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            previousStatement: null,\n            colour: LOOPS_HUE,\n            tooltip: '%{BKY_MAZE_WHILE_TOOLTIP}',\n        },\n    ]);\n    // JavaScript code generators\n    // DON'T use await - just call the functions directly\n    // They will queue the animations internally\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_moveForward'] = function (block) {\n        return `moveForward('block_id_${block.id}'); //${MOVE_FORWARD}\\n`;\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_turn'] = function (block) {\n        const dir = block.getFieldValue('DIR');\n        if (dir === 'turnLeft') {\n            return `turnLeft('block_id_${block.id}');    //${LEFT_TURN}\\n`;\n        }\n        else {\n            return `turnRight('block_id_${block.id}');   //${RIGHT_TURN}\\n`;\n        }\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_if'] = function (block) {\n        const argument = `${block.getFieldValue('DIR')}('block_id_${block.id}')`;\n        const branch = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'DO');\n        return `if (${argument}) {\\n${branch}}\\n`;\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_ifElse'] = function (block) {\n        const argument = `${block.getFieldValue('DIR')}('block_id_${block.id}')`;\n        const branch0 = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'DO');\n        const branch1 = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'ELSE');\n        return `if (${argument}) {\\n${branch0}} else {\\n${branch1}}\\n`;\n    };\n    blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.forBlock['maze_forever'] = function (block) {\n        const branch = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.statementToCode(block, 'DO');\n        if (branch) {\n            return 'while (notDone()) {\\n' + branch + '}\\n';\n        }\n        else {\n            return 'while (notDone()) {}\\n';\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsSUFBSSxDQUFDLENBQUM7UUFDaEUsT0FBTyxPQUFPLFFBQVEsUUFBUSxNQUFNLEtBQUssQ0FBQztJQUM1QyxDQUFDLENBQUM7SUFFRixtRUFBbUIsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsVUFBVSxLQUFLO1FBQzNELE1BQU0sUUFBUSxHQUFHLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsY0FBYyxLQUFLLENBQUMsRUFBRSxJQUFJLENBQUM7UUFDekUsTUFBTSxPQUFPLEdBQUcsbUVBQW1CLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRSxNQUFNLE9BQU8sR0FBRyxtRUFBbUIsQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ25FLE9BQU8sT0FBTyxRQUFRLFFBQVEsT0FBTyxhQUFhLE9BQU8sS0FBSyxDQUFDO0lBQ2pFLENBQUMsQ0FBQztJQUVGLG1FQUFtQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxVQUFVLEtBQUs7UUFDNUQsTUFBTSxNQUFNLEdBQUcsbUVBQW1CLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsT0FBTyx1QkFBdUIsR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2xELENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyx3QkFBd0IsQ0FBQztRQUNsQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi90ZXN0L21hemUtZ2FtZS9ibG9ja3MudHM/ZDU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxMiBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBCbG9ja3MgZm9yIE1hemUgZ2FtZS5cbiAqIEFkYXB0ZWQgZnJvbSBibG9ja2x5LWdhbWVzIGZvciB1c2Ugd2l0aCBtb2Rlcm4gQmxvY2tseSBhbmQga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge2phdmFzY3JpcHRHZW5lcmF0b3IsIE9yZGVyfSBmcm9tICdibG9ja2x5L2phdmFzY3JpcHQnO1xuXG4vKipcbiAqIENvdW50ZXJjbG9ja3dpc2UgYXJyb3cgdG8gYmUgYXBwZW5kZWQgdG8gbGVmdCB0dXJuIG9wdGlvbi5cbiAqL1xuY29uc3QgTEVGVF9UVVJOID0gJyDihronO1xuXG4vKipcbiAqIENsb2Nrd2lzZSBhcnJvdyB0byBiZSBhcHBlbmRlZCB0byByaWdodCB0dXJuIG9wdGlvbi5cbiAqL1xuY29uc3QgUklHSFRfVFVSTiA9ICcg4oa7JztcblxuLyoqXG4gKiBTdHJhaWdodCBhcnJvdyBmb3IgbW92ZSBmb3J3YXJkLlxuICovXG5jb25zdCBNT1ZFX0ZPUldBUkQgPSAnIOKGkSc7XG5cbi8qKlxuICogQ29tbW9uIEhTViBodWUgZm9yIGFsbCBtb3ZlbWVudCBibG9ja3MuXG4gKi9cbmNvbnN0IE1PVkVNRU5UX0hVRSA9IDI5MDtcblxuLyoqXG4gKiBIU1YgaHVlIGZvciBsb29wIGJsb2NrLlxuICovXG5jb25zdCBMT09QU19IVUUgPSAxMjA7XG5cbi8qKlxuICogQ29tbW9uIEhTViBodWUgZm9yIGFsbCBsb2dpYyBibG9ja3MuXG4gKi9cbmNvbnN0IExPR0lDX0hVRSA9IDIxMDtcblxuLyoqXG4gKiBSZWdpc3RlciBtYXplIGJsb2NrcyB3aXRoIEJsb2NrbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlck1hemVCbG9ja3MoKSB7XG4gIGNvbnN0IFRVUk5fRElSRUNUSU9OUzogQmxvY2tseS5NZW51T3B0aW9uW10gPSBbXG4gICAgWycle0JLWV9NQVpFX1RVUk5fTEVGVH0nLCAndHVybkxlZnQnXSxcbiAgICBbJyV7QktZX01BWkVfVFVSTl9SSUdIVH0nLCAndHVyblJpZ2h0J10sXG4gIF07XG5cbiAgY29uc3QgUEFUSF9ESVJFQ1RJT05TOiBCbG9ja2x5Lk1lbnVPcHRpb25bXSA9IFtcbiAgICBbJyV7QktZX01BWkVfUEFUSF9BSEVBRH0nLCAnaXNQYXRoRm9yd2FyZCddLFxuICAgIFsnJXtCS1lfTUFaRV9QQVRIX0xFRlR9JywgJ2lzUGF0aExlZnQnXSxcbiAgICBbJyV7QktZX01BWkVfUEFUSF9SSUdIVH0nLCAnaXNQYXRoUmlnaHQnXSxcbiAgXTtcblxuICAvLyBBZGQgYXJyb3dzIHRvIHR1cm4gb3B0aW9ucyBhZnRlciBwcmVmaXgvc3VmZml4IGhhdmUgYmVlbiBzZXBhcmF0ZWQuXG4gIEJsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcignbWF6ZV90dXJuX2Fycm93cycsIGZ1bmN0aW9uICh0aGlzOiBCbG9ja2x5LkJsb2NrKSB7XG4gICAgY29uc3QgZmllbGQgPSB0aGlzLmdldEZpZWxkKCdESVInKSBhcyBCbG9ja2x5LkZpZWxkRHJvcGRvd247XG4gICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkLmdldE9wdGlvbnMoKTtcbiAgICBpZiAob3B0aW9ucy5sZW5ndGggPj0gMikge1xuICAgICAgLy8gTW9kaWZ5IHRoZSBkaXNwbGF5IHRleHQgdG8gYWRkIGFycm93c1xuICAgICAgY29uc3QgbmV3T3B0aW9uczogQmxvY2tseS5NZW51T3B0aW9uW10gPSBvcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IG9wdGlvbnMubGVuZ3RoIC0gMikge1xuICAgICAgICAgIHJldHVybiBbb3B0aW9uWzBdICsgTEVGVF9UVVJOLCBvcHRpb25bMV1dO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBvcHRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICByZXR1cm4gW29wdGlvblswXSArIFJJR0hUX1RVUk4sIG9wdGlvblsxXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgIH0pO1xuICAgICAgLy8gVXBkYXRlIHRoZSBvcHRpb25zIHVzaW5nIHB1YmxpYyBBUElcbiAgICAgIChmaWVsZCBhcyBhbnkpLm1lbnVHZW5lcmF0b3JfID0gbmV3T3B0aW9ucztcbiAgICB9XG4gIH0pO1xuXG4gIEJsb2NrbHkuZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheShbXG4gICAgLy8gQmxvY2sgZm9yIG1vdmluZyBmb3J3YXJkLlxuICAgIHtcbiAgICAgIHR5cGU6ICdtYXplX21vdmVGb3J3YXJkJyxcbiAgICAgIG1lc3NhZ2UwOiAnJXtCS1lfTUFaRV9NT1ZFX0ZPUldBUkR9JyxcbiAgICAgIHByZXZpb3VzU3RhdGVtZW50OiBudWxsLFxuICAgICAgbmV4dFN0YXRlbWVudDogbnVsbCxcbiAgICAgIGNvbG91cjogTU9WRU1FTlRfSFVFLFxuICAgICAgdG9vbHRpcDogJyV7QktZX01BWkVfTU9WRV9GT1JXQVJEX1RPT0xUSVB9JyxcbiAgICB9LFxuXG4gICAgLy8gQmxvY2sgZm9yIHR1cm5pbmcgbGVmdCBvciByaWdodC5cbiAgICB7XG4gICAgICB0eXBlOiAnbWF6ZV90dXJuJyxcbiAgICAgIG1lc3NhZ2UwOiAnJTEnLFxuICAgICAgYXJnczA6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdmaWVsZF9kcm9wZG93bicsXG4gICAgICAgICAgbmFtZTogJ0RJUicsXG4gICAgICAgICAgb3B0aW9uczogVFVSTl9ESVJFQ1RJT05TLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIHByZXZpb3VzU3RhdGVtZW50OiBudWxsLFxuICAgICAgbmV4dFN0YXRlbWVudDogbnVsbCxcbiAgICAgIGNvbG91cjogTU9WRU1FTlRfSFVFLFxuICAgICAgdG9vbHRpcDogJyV7QktZX01BWkVfVFVSTl9UT09MVElQfScsXG4gICAgICBleHRlbnNpb25zOiBbJ21hemVfdHVybl9hcnJvd3MnXSxcbiAgICB9LFxuXG4gICAgLy8gQmxvY2sgZm9yIGNvbmRpdGlvbmFsIFwiaWYgdGhlcmUgaXMgYSBwYXRoXCIuXG4gICAge1xuICAgICAgdHlwZTogJ21hemVfaWYnLFxuICAgICAgbWVzc2FnZTA6ICclMSUyJXtCS1lfTUFaRV9ET30gJTMnLFxuICAgICAgYXJnczA6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdmaWVsZF9kcm9wZG93bicsXG4gICAgICAgICAgbmFtZTogJ0RJUicsXG4gICAgICAgICAgb3B0aW9uczogUEFUSF9ESVJFQ1RJT05TLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2lucHV0X2R1bW15JyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdpbnB1dF9zdGF0ZW1lbnQnLFxuICAgICAgICAgIG5hbWU6ICdETycsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcHJldmlvdXNTdGF0ZW1lbnQ6IG51bGwsXG4gICAgICBuZXh0U3RhdGVtZW50OiBudWxsLFxuICAgICAgY29sb3VyOiBMT0dJQ19IVUUsXG4gICAgICB0b29sdGlwOiAnJXtCS1lfTUFaRV9JRl9UT09MVElQfScsXG4gICAgICBleHRlbnNpb25zOiBbJ21hemVfdHVybl9hcnJvd3MnXSxcbiAgICB9LFxuXG4gICAgLy8gQmxvY2sgZm9yIGNvbmRpdGlvbmFsIFwiaWYgdGhlcmUgaXMgYSBwYXRoLCBlbHNlXCIuXG4gICAge1xuICAgICAgdHlwZTogJ21hemVfaWZFbHNlJyxcbiAgICAgIG1lc3NhZ2UwOiAnJTElMiV7QktZX01BWkVfRE99ICUzJXtCS1lfTUFaRV9FTFNFfSAlNCcsXG4gICAgICBhcmdzMDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2ZpZWxkX2Ryb3Bkb3duJyxcbiAgICAgICAgICBuYW1lOiAnRElSJyxcbiAgICAgICAgICBvcHRpb25zOiBQQVRIX0RJUkVDVElPTlMsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnaW5wdXRfZHVtbXknLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2lucHV0X3N0YXRlbWVudCcsXG4gICAgICAgICAgbmFtZTogJ0RPJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdpbnB1dF9zdGF0ZW1lbnQnLFxuICAgICAgICAgIG5hbWU6ICdFTFNFJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBwcmV2aW91c1N0YXRlbWVudDogbnVsbCxcbiAgICAgIG5leHRTdGF0ZW1lbnQ6IG51bGwsXG4gICAgICBjb2xvdXI6IExPR0lDX0hVRSxcbiAgICAgIHRvb2x0aXA6ICcle0JLWV9NQVpFX0lGRUxTRV9UT09MVElQfScsXG4gICAgICBleHRlbnNpb25zOiBbJ21hemVfdHVybl9hcnJvd3MnXSxcbiAgICB9LFxuXG4gICAgLy8gQmxvY2sgZm9yIHJlcGVhdCBsb29wLlxuICAgIHtcbiAgICAgIHR5cGU6ICdtYXplX2ZvcmV2ZXInLFxuICAgICAgbWVzc2FnZTA6ICcle0JLWV9NQVpFX1JFUEVBVF9VTlRJTH0gJTElMiV7QktZX01BWkVfRE99ICUzJyxcbiAgICAgIGFyZ3MwOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZmllbGRfaW1hZ2UnLFxuICAgICAgICAgIHNyYzogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBUUNBWUFBQUFpWVo0SEFBQUJHVWxFUVZRb1UyTmt3QUlZR1JuL016QXdNS0NyWjJGaCtjL0N3dklmWFEwREE4Ti9GaFlXQmxSTkxDei8vek13TVB4bllXSDVqeW9HVk1NSVZNUEF3UENmaFlYbFA1b2FGcGFXL3l3c0xBeU1qSXdNREF3TS8xbFlXUDZqcVVIUndNRHduNW1abVlHQmdlRS9Nek16QTdvYVJrWkdCZ1lHaHY4c0xDei8wZFF3TURBd01ETXpNekF3TURCZ3FHRmhZV0ZnWkdSa1lHQmcrSSt1aG9HQjRUOExDd3NEQXdNRGc9JyxcbiAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgaGVpZ2h0OiAxNixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdpbnB1dF9kdW1teScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnaW5wdXRfc3RhdGVtZW50JyxcbiAgICAgICAgICBuYW1lOiAnRE8nLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIHByZXZpb3VzU3RhdGVtZW50OiBudWxsLFxuICAgICAgY29sb3VyOiBMT09QU19IVUUsXG4gICAgICB0b29sdGlwOiAnJXtCS1lfTUFaRV9XSElMRV9UT09MVElQfScsXG4gICAgfSxcbiAgXSk7XG5cbiAgLy8gSmF2YVNjcmlwdCBjb2RlIGdlbmVyYXRvcnNcbiAgLy8gRE9OJ1QgdXNlIGF3YWl0IC0ganVzdCBjYWxsIHRoZSBmdW5jdGlvbnMgZGlyZWN0bHlcbiAgLy8gVGhleSB3aWxsIHF1ZXVlIHRoZSBhbmltYXRpb25zIGludGVybmFsbHlcbiAgamF2YXNjcmlwdEdlbmVyYXRvci5mb3JCbG9ja1snbWF6ZV9tb3ZlRm9yd2FyZCddID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgcmV0dXJuIGBtb3ZlRm9yd2FyZCgnYmxvY2tfaWRfJHtibG9jay5pZH0nKTsgLy8ke01PVkVfRk9SV0FSRH1cXG5gO1xuICB9O1xuXG4gIGphdmFzY3JpcHRHZW5lcmF0b3IuZm9yQmxvY2tbJ21hemVfdHVybiddID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgY29uc3QgZGlyID0gYmxvY2suZ2V0RmllbGRWYWx1ZSgnRElSJyk7XG4gICAgaWYgKGRpciA9PT0gJ3R1cm5MZWZ0Jykge1xuICAgICAgcmV0dXJuIGB0dXJuTGVmdCgnYmxvY2tfaWRfJHtibG9jay5pZH0nKTsgICAgLy8ke0xFRlRfVFVSTn1cXG5gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYHR1cm5SaWdodCgnYmxvY2tfaWRfJHtibG9jay5pZH0nKTsgICAvLyR7UklHSFRfVFVSTn1cXG5gO1xuICAgIH1cbiAgfTtcblxuICBqYXZhc2NyaXB0R2VuZXJhdG9yLmZvckJsb2NrWydtYXplX2lmJ10gPSBmdW5jdGlvbiAoYmxvY2spIHtcbiAgICBjb25zdCBhcmd1bWVudCA9IGAke2Jsb2NrLmdldEZpZWxkVmFsdWUoJ0RJUicpfSgnYmxvY2tfaWRfJHtibG9jay5pZH0nKWA7XG4gICAgY29uc3QgYnJhbmNoID0gamF2YXNjcmlwdEdlbmVyYXRvci5zdGF0ZW1lbnRUb0NvZGUoYmxvY2ssICdETycpO1xuICAgIHJldHVybiBgaWYgKCR7YXJndW1lbnR9KSB7XFxuJHticmFuY2h9fVxcbmA7XG4gIH07XG5cbiAgamF2YXNjcmlwdEdlbmVyYXRvci5mb3JCbG9ja1snbWF6ZV9pZkVsc2UnXSA9IGZ1bmN0aW9uIChibG9jaykge1xuICAgIGNvbnN0IGFyZ3VtZW50ID0gYCR7YmxvY2suZ2V0RmllbGRWYWx1ZSgnRElSJyl9KCdibG9ja19pZF8ke2Jsb2NrLmlkfScpYDtcbiAgICBjb25zdCBicmFuY2gwID0gamF2YXNjcmlwdEdlbmVyYXRvci5zdGF0ZW1lbnRUb0NvZGUoYmxvY2ssICdETycpO1xuICAgIGNvbnN0IGJyYW5jaDEgPSBqYXZhc2NyaXB0R2VuZXJhdG9yLnN0YXRlbWVudFRvQ29kZShibG9jaywgJ0VMU0UnKTtcbiAgICByZXR1cm4gYGlmICgke2FyZ3VtZW50fSkge1xcbiR7YnJhbmNoMH19IGVsc2Uge1xcbiR7YnJhbmNoMX19XFxuYDtcbiAgfTtcblxuICBqYXZhc2NyaXB0R2VuZXJhdG9yLmZvckJsb2NrWydtYXplX2ZvcmV2ZXInXSA9IGZ1bmN0aW9uIChibG9jaykge1xuICAgIGNvbnN0IGJyYW5jaCA9IGphdmFzY3JpcHRHZW5lcmF0b3Iuc3RhdGVtZW50VG9Db2RlKGJsb2NrLCAnRE8nKTtcbiAgICBpZiAoYnJhbmNoKSB7XG4gICAgICByZXR1cm4gJ3doaWxlIChub3REb25lKCkpIHtcXG4nICsgYnJhbmNoICsgJ31cXG4nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3doaWxlIChub3REb25lKCkpIHt9XFxuJztcbiAgICB9XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./test/maze-game/blocks.ts\n");

/***/ }),

/***/ "./test/maze-game/index.ts":
/*!*********************************!*\
  !*** ./test/maze-game/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/* harmony import */ var blockly_javascript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/javascript */ \"./node_modules/blockly/javascript.mjs\");\n/* harmony import */ var _src_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/index */ \"./src/index.ts\");\n/* harmony import */ var _src_flyout_cursor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/flyout_cursor */ \"./src/flyout_cursor.ts\");\n/* harmony import */ var _src_navigation_deferring_toolbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/navigation_deferring_toolbox */ \"./src/navigation_deferring_toolbox.ts\");\n/* harmony import */ var _blocks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blocks */ \"./test/maze-game/blocks.ts\");\n/* harmony import */ var _maze__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./maze */ \"./test/maze-game/maze.ts\");\n/* harmony import */ var _messages__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./messages */ \"./test/maze-game/messages.ts\");\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _a, _b, _c, _d;\n/**\n * @fileoverview Maze game with keyboard navigation support.\n * Simple maze game adapted from blockly-games.\n */\n\n\n\n\n\n\n\n\n// Initialize locale (browser detection or saved preference)\nlet currentLocale = localStorage.getItem('mazeGameLocale') || (0,_messages__WEBPACK_IMPORTED_MODULE_7__.getBrowserLocale)();\n// Load internationalized messages\n(0,_messages__WEBPACK_IMPORTED_MODULE_7__.loadMessages)(currentLocale);\n// Register maze-specific blocks\n(0,_blocks__WEBPACK_IMPORTED_MODULE_5__.registerMazeBlocks)();\n// CRITICAL: Register keyboard navigation components BEFORE Blockly injection\n_src_index__WEBPACK_IMPORTED_MODULE_2__.KeyboardNavigation.registerKeyboardNavigationStyles();\n(0,_src_flyout_cursor__WEBPACK_IMPORTED_MODULE_3__.registerFlyoutCursor)();\n(0,_src_navigation_deferring_toolbox__WEBPACK_IMPORTED_MODULE_4__.registerNavigationDeferringToolbox)();\n// Toolbox configuration\nconst toolbox = {\n    kind: 'flyoutToolbox',\n    contents: [\n        {\n            kind: 'block',\n            type: 'maze_moveForward',\n        },\n        {\n            kind: 'block',\n            type: 'maze_turn',\n        },\n        {\n            kind: 'block',\n            type: 'maze_if',\n        },\n        {\n            kind: 'block',\n            type: 'maze_ifElse',\n        },\n        {\n            kind: 'block',\n            type: 'maze_forever',\n        },\n    ],\n};\n// Initialize Blockly workspace\nconst workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0__.inject('blocklyDiv', {\n    toolbox: toolbox,\n    trashcan: true,\n    zoom: {\n        controls: true,\n        wheel: true,\n        startScale: 1.0,\n        maxScale: 3,\n        minScale: 0.3,\n        scaleSpeed: 1.2,\n    },\n    move: {\n        scrollbars: true,\n        drag: true,\n        wheel: true,\n    },\n});\n// Initialize keyboard navigation plugin\nconst keyboardNavigation = new _src_index__WEBPACK_IMPORTED_MODULE_2__.KeyboardNavigation(workspace, {\n    highlightConnections: true,\n});\n// Initialize maze game\nconst mazeGame = new _maze__WEBPACK_IMPORTED_MODULE_6__.MazeGame('mazeCanvas', 1);\n// Level titles for each level\nconst levelTitles = [\n    'Straight Path',\n    'Single Turn',\n    'Multiple Turns',\n    'S-Curve',\n    'T-Junction',\n    'Zigzag Path',\n    'Decision Points',\n    'Complex Maze',\n];\n// Update level display\nfunction updateLevelDisplay() {\n    const currentLevel = mazeGame.getLevel();\n    const maxLevel = _maze__WEBPACK_IMPORTED_MODULE_6__.MazeGame.getMaxLevel();\n    const levelTitle = document.getElementById('levelTitle');\n    const levelDisplay = document.getElementById('levelDisplay');\n    const prevButton = document.getElementById('prevLevel');\n    const nextButton = document.getElementById('nextLevel');\n    if (levelTitle) {\n        levelTitle.textContent = `Level ${currentLevel}: ${levelTitles[currentLevel - 1]}`;\n    }\n    if (levelDisplay) {\n        levelDisplay.textContent = `Level ${currentLevel} of ${maxLevel}`;\n    }\n    if (prevButton) {\n        prevButton.disabled = currentLevel <= 1;\n    }\n    if (nextButton) {\n        nextButton.disabled = currentLevel >= maxLevel;\n    }\n}\n// Previous level button handler\n(_a = document.getElementById('prevLevel')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', () => {\n    const currentLevel = mazeGame.getLevel();\n    if (currentLevel > 1) {\n        mazeGame.setLevel(currentLevel - 1);\n        updateLevelDisplay();\n    }\n});\n// Next level button handler\n(_b = document.getElementById('nextLevel')) === null || _b === void 0 ? void 0 : _b.addEventListener('click', () => {\n    const currentLevel = mazeGame.getLevel();\n    const maxLevel = _maze__WEBPACK_IMPORTED_MODULE_6__.MazeGame.getMaxLevel();\n    if (currentLevel < maxLevel) {\n        mazeGame.setLevel(currentLevel + 1);\n        updateLevelDisplay();\n    }\n});\n// Run button handler\n(_c = document.getElementById('runButton')) === null || _c === void 0 ? void 0 : _c.addEventListener('click', () => {\n    const code = blockly_javascript__WEBPACK_IMPORTED_MODULE_1__.javascriptGenerator.workspaceToCode(workspace);\n    mazeGame.execute(code);\n});\n// Reset button handler\n(_d = document.getElementById('resetButton')) === null || _d === void 0 ? void 0 : _d.addEventListener('click', () => {\n    mazeGame.reset();\n});\n// Initial level display update\nupdateLevelDisplay();\n// Language selector handler\nconst languageSelect = document.getElementById('languageSelect');\nif (languageSelect) {\n    // Set the current language in the dropdown\n    languageSelect.value = currentLocale;\n    languageSelect.addEventListener('change', () => {\n        const newLocale = languageSelect.value;\n        // Save preference\n        localStorage.setItem('mazeGameLocale', newLocale);\n        // Reload the page to apply new language\n        // (This is the simplest approach - Blockly blocks need to be re-registered with new messages)\n        window.location.reload();\n    });\n}\nconsole.log(`Maze game initialized with keyboard navigation support (locale: ${currentLocale})`);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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emUtZ2FtZS9pbmRleC50cz84ZGJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1hemUgZ2FtZSB3aXRoIGtleWJvYXJkIG5hdmlnYXRpb24gc3VwcG9ydC5cbiAqIFNpbXBsZSBtYXplIGdhbWUgYWRhcHRlZCBmcm9tIGJsb2NrbHktZ2FtZXMuXG4gKi9cblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0IHtqYXZhc2NyaXB0R2VuZXJhdG9yfSBmcm9tICdibG9ja2x5L2phdmFzY3JpcHQnO1xuaW1wb3J0IHtLZXlib2FyZE5hdmlnYXRpb259IGZyb20gJy4uLy4uL3NyYy9pbmRleCc7XG5pbXBvcnQge3JlZ2lzdGVyRmx5b3V0Q3Vyc29yfSBmcm9tICcuLi8uLi9zcmMvZmx5b3V0X2N1cnNvcic7XG5pbXBvcnQge3JlZ2lzdGVyTmF2aWdhdGlvbkRlZmVycmluZ1Rvb2xib3h9IGZyb20gJy4uLy4uL3NyYy9uYXZpZ2F0aW9uX2RlZmVycmluZ190b29sYm94JztcbmltcG9ydCB7cmVnaXN0ZXJNYXplQmxvY2tzfSBmcm9tICcuL2Jsb2Nrcyc7XG5pbXBvcnQge01hemVHYW1lfSBmcm9tICcuL21hemUnO1xuaW1wb3J0IHtsb2FkTWVzc2FnZXMsIGdldEJyb3dzZXJMb2NhbGUsIHR5cGUgU3VwcG9ydGVkTG9jYWxlfSBmcm9tICcuL21lc3NhZ2VzJztcblxuLy8gSW5pdGlhbGl6ZSBsb2NhbGUgKGJyb3dzZXIgZGV0ZWN0aW9uIG9yIHNhdmVkIHByZWZlcmVuY2UpXG5sZXQgY3VycmVudExvY2FsZTogU3VwcG9ydGVkTG9jYWxlID1cbiAgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtYXplR2FtZUxvY2FsZScpIGFzIFN1cHBvcnRlZExvY2FsZSkgfHwgZ2V0QnJvd3NlckxvY2FsZSgpO1xuXG4vLyBMb2FkIGludGVybmF0aW9uYWxpemVkIG1lc3NhZ2VzXG5sb2FkTWVzc2FnZXMoY3VycmVudExvY2FsZSk7XG5cbi8vIFJlZ2lzdGVyIG1hemUtc3BlY2lmaWMgYmxvY2tzXG5yZWdpc3Rlck1hemVCbG9ja3MoKTtcblxuLy8gQ1JJVElDQUw6IFJlZ2lzdGVyIGtleWJvYXJkIG5hdmlnYXRpb24gY29tcG9uZW50cyBCRUZPUkUgQmxvY2tseSBpbmplY3Rpb25cbktleWJvYXJkTmF2aWdhdGlvbi5yZWdpc3RlcktleWJvYXJkTmF2aWdhdGlvblN0eWxlcygpO1xucmVnaXN0ZXJGbHlvdXRDdXJzb3IoKTtcbnJlZ2lzdGVyTmF2aWdhdGlvbkRlZmVycmluZ1Rvb2xib3goKTtcblxuLy8gVG9vbGJveCBjb25maWd1cmF0aW9uXG5jb25zdCB0b29sYm94ID0ge1xuICBraW5kOiAnZmx5b3V0VG9vbGJveCcsXG4gIGNvbnRlbnRzOiBbXG4gICAge1xuICAgICAga2luZDogJ2Jsb2NrJyxcbiAgICAgIHR5cGU6ICdtYXplX21vdmVGb3J3YXJkJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtpbmQ6ICdibG9jaycsXG4gICAgICB0eXBlOiAnbWF6ZV90dXJuJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtpbmQ6ICdibG9jaycsXG4gICAgICB0eXBlOiAnbWF6ZV9pZicsXG4gICAgfSxcbiAgICB7XG4gICAgICBraW5kOiAnYmxvY2snLFxuICAgICAgdHlwZTogJ21hemVfaWZFbHNlJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtpbmQ6ICdibG9jaycsXG4gICAgICB0eXBlOiAnbWF6ZV9mb3JldmVyJyxcbiAgICB9LFxuICBdLFxufTtcblxuLy8gSW5pdGlhbGl6ZSBCbG9ja2x5IHdvcmtzcGFjZVxuY29uc3Qgd29ya3NwYWNlID0gQmxvY2tseS5pbmplY3QoJ2Jsb2NrbHlEaXYnLCB7XG4gIHRvb2xib3g6IHRvb2xib3gsXG4gIHRyYXNoY2FuOiB0cnVlLFxuICB6b29tOiB7XG4gICAgY29udHJvbHM6IHRydWUsXG4gICAgd2hlZWw6IHRydWUsXG4gICAgc3RhcnRTY2FsZTogMS4wLFxuICAgIG1heFNjYWxlOiAzLFxuICAgIG1pblNjYWxlOiAwLjMsXG4gICAgc2NhbGVTcGVlZDogMS4yLFxuICB9LFxuICBtb3ZlOiB7XG4gICAgc2Nyb2xsYmFyczogdHJ1ZSxcbiAgICBkcmFnOiB0cnVlLFxuICAgIHdoZWVsOiB0cnVlLFxuICB9LFxufSk7XG5cbi8vIEluaXRpYWxpemUga2V5Ym9hcmQgbmF2aWdhdGlvbiBwbHVnaW5cbmNvbnN0IGtleWJvYXJkTmF2aWdhdGlvbiA9IG5ldyBLZXlib2FyZE5hdmlnYXRpb24od29ya3NwYWNlLCB7XG4gIGhpZ2hsaWdodENvbm5lY3Rpb25zOiB0cnVlLFxufSk7XG5cbi8vIEluaXRpYWxpemUgbWF6ZSBnYW1lXG5jb25zdCBtYXplR2FtZSA9IG5ldyBNYXplR2FtZSgnbWF6ZUNhbnZhcycsIDEpO1xuXG4vLyBMZXZlbCB0aXRsZXMgZm9yIGVhY2ggbGV2ZWxcbmNvbnN0IGxldmVsVGl0bGVzID0gW1xuICAnU3RyYWlnaHQgUGF0aCcsXG4gICdTaW5nbGUgVHVybicsXG4gICdNdWx0aXBsZSBUdXJucycsXG4gICdTLUN1cnZlJyxcbiAgJ1QtSnVuY3Rpb24nLFxuICAnWmlnemFnIFBhdGgnLFxuICAnRGVjaXNpb24gUG9pbnRzJyxcbiAgJ0NvbXBsZXggTWF6ZScsXG5dO1xuXG4vLyBVcGRhdGUgbGV2ZWwgZGlzcGxheVxuZnVuY3Rpb24gdXBkYXRlTGV2ZWxEaXNwbGF5KCkge1xuICBjb25zdCBjdXJyZW50TGV2ZWwgPSBtYXplR2FtZS5nZXRMZXZlbCgpO1xuICBjb25zdCBtYXhMZXZlbCA9IE1hemVHYW1lLmdldE1heExldmVsKCk7XG5cbiAgY29uc3QgbGV2ZWxUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbFRpdGxlJyk7XG4gIGNvbnN0IGxldmVsRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbERpc3BsYXknKTtcbiAgY29uc3QgcHJldkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2TGV2ZWwnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0TGV2ZWwnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICBpZiAobGV2ZWxUaXRsZSkge1xuICAgIGxldmVsVGl0bGUudGV4dENvbnRlbnQgPSBgTGV2ZWwgJHtjdXJyZW50TGV2ZWx9OiAke2xldmVsVGl0bGVzW2N1cnJlbnRMZXZlbCAtIDFdfWA7XG4gIH1cblxuICBpZiAobGV2ZWxEaXNwbGF5KSB7XG4gICAgbGV2ZWxEaXNwbGF5LnRleHRDb250ZW50ID0gYExldmVsICR7Y3VycmVudExldmVsfSBvZiAke21heExldmVsfWA7XG4gIH1cblxuICBpZiAocHJldkJ1dHRvbikge1xuICAgIHByZXZCdXR0b24uZGlzYWJsZWQgPSBjdXJyZW50TGV2ZWwgPD0gMTtcbiAgfVxuXG4gIGlmIChuZXh0QnV0dG9uKSB7XG4gICAgbmV4dEJ1dHRvbi5kaXNhYmxlZCA9IGN1cnJlbnRMZXZlbCA+PSBtYXhMZXZlbDtcbiAgfVxufVxuXG4vLyBQcmV2aW91cyBsZXZlbCBidXR0b24gaGFuZGxlclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZMZXZlbCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgY3VycmVudExldmVsID0gbWF6ZUdhbWUuZ2V0TGV2ZWwoKTtcbiAgaWYgKGN1cnJlbnRMZXZlbCA+IDEpIHtcbiAgICBtYXplR2FtZS5zZXRMZXZlbChjdXJyZW50TGV2ZWwgLSAxKTtcbiAgICB1cGRhdGVMZXZlbERpc3BsYXkoKTtcbiAgfVxufSk7XG5cbi8vIE5leHQgbGV2ZWwgYnV0dG9uIGhhbmRsZXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0TGV2ZWwnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRMZXZlbCA9IG1hemVHYW1lLmdldExldmVsKCk7XG4gIGNvbnN0IG1heExldmVsID0gTWF6ZUdhbWUuZ2V0TWF4TGV2ZWwoKTtcbiAgaWYgKGN1cnJlbnRMZXZlbCA8IG1heExldmVsKSB7XG4gICAgbWF6ZUdhbWUuc2V0TGV2ZWwoY3VycmVudExldmVsICsgMSk7XG4gICAgdXBkYXRlTGV2ZWxEaXNwbGF5KCk7XG4gIH1cbn0pO1xuXG4vLyBSdW4gYnV0dG9uIGhhbmRsZXJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydW5CdXR0b24nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IGNvZGUgPSBqYXZhc2NyaXB0R2VuZXJhdG9yLndvcmtzcGFjZVRvQ29kZSh3b3Jrc3BhY2UpO1xuICBtYXplR2FtZS5leGVjdXRlKGNvZGUpO1xufSk7XG5cbi8vIFJlc2V0IGJ1dHRvbiBoYW5kbGVyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXRCdXR0b24nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIG1hemVHYW1lLnJlc2V0KCk7XG59KTtcblxuLy8gSW5pdGlhbCBsZXZlbCBkaXNwbGF5IHVwZGF0ZVxudXBkYXRlTGV2ZWxEaXNwbGF5KCk7XG5cbi8vIExhbmd1YWdlIHNlbGVjdG9yIGhhbmRsZXJcbmNvbnN0IGxhbmd1YWdlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhbmd1YWdlU2VsZWN0JykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG5pZiAobGFuZ3VhZ2VTZWxlY3QpIHtcbiAgLy8gU2V0IHRoZSBjdXJyZW50IGxhbmd1YWdlIGluIHRoZSBkcm9wZG93blxuICBsYW5ndWFnZVNlbGVjdC52YWx1ZSA9IGN1cnJlbnRMb2NhbGU7XG5cbiAgbGFuZ3VhZ2VTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IG5ld0xvY2FsZSA9IGxhbmd1YWdlU2VsZWN0LnZhbHVlIGFzIFN1cHBvcnRlZExvY2FsZTtcblxuICAgIC8vIFNhdmUgcHJlZmVyZW5jZVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtYXplR2FtZUxvY2FsZScsIG5ld0xvY2FsZSk7XG5cbiAgICAvLyBSZWxvYWQgdGhlIHBhZ2UgdG8gYXBwbHkgbmV3IGxhbmd1YWdlXG4gICAgLy8gKFRoaXMgaXMgdGhlIHNpbXBsZXN0IGFwcHJvYWNoIC0gQmxvY2tseSBibG9ja3MgbmVlZCB0byBiZSByZS1yZWdpc3RlcmVkIHdpdGggbmV3IG1lc3NhZ2VzKVxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfSk7XG59XG5cbmNvbnNvbGUubG9nKGBNYXplIGdhbWUgaW5pdGlhbGl6ZWQgd2l0aCBrZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnQgKGxvY2FsZTogJHtjdXJyZW50TG9jYWxlfSlgKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./test/maze-game/index.ts\n");

/***/ }),

/***/ "./test/maze-game/maze.ts":
/*!********************************!*\
  !*** ./test/maze-game/maze.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MazeGame: () => (/* binding */ MazeGame)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * @fileoverview Simple maze game engine.\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"NORTH\"] = 0] = \"NORTH\";\n    Direction[Direction[\"EAST\"] = 1] = \"EAST\";\n    Direction[Direction[\"SOUTH\"] = 2] = \"SOUTH\";\n    Direction[Direction[\"WEST\"] = 3] = \"WEST\";\n})(Direction || (Direction = {}));\nvar SquareType;\n(function (SquareType) {\n    SquareType[SquareType[\"WALL\"] = 0] = \"WALL\";\n    SquareType[SquareType[\"OPEN\"] = 1] = \"OPEN\";\n    SquareType[SquareType[\"START\"] = 2] = \"START\";\n    SquareType[SquareType[\"FINISH\"] = 3] = \"FINISH\";\n})(SquareType || (SquareType = {}));\n/**\n * Simple maze layouts by level.\n */\nconst MAZES = [\n    // Level 1: Simple straight path\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 1, 3, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 2: Single turn\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 3, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 3: Multiple turns\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 1, 0, 0],\n        [0, 0, 0, 0, 0, 1, 0, 0],\n        [0, 0, 0, 0, 0, 3, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 4: S-curve\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 1, 1, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 3, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 5: T-junction with conditional\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 3, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 6: Zigzag path\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 0, 0, 0, 0],\n        [0, 0, 0, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 1, 0, 0],\n        [0, 0, 1, 1, 1, 1, 0, 0],\n        [0, 0, 3, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 7: Multiple decision points\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 1, 1, 1, 1, 1, 0],\n        [0, 0, 1, 0, 0, 0, 0, 0],\n        [0, 0, 1, 1, 1, 1, 0, 0],\n        [0, 0, 0, 0, 0, 3, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n    // Level 8: Complex maze requiring loop\n    [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 2, 1, 0, 1, 1, 0, 0],\n        [0, 0, 1, 0, 1, 0, 0, 0],\n        [0, 0, 1, 1, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 1, 1, 0],\n        [0, 0, 0, 0, 0, 0, 3, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n    ],\n];\nclass MazeGame {\n    constructor(canvasId, level) {\n        this.squareSize = 50;\n        this.executing = false;\n        this.commandQueue = [];\n        this.pegmanImage = null;\n        this.markerImage = null;\n        this.imagesLoaded = false;\n        const canvas = document.getElementById(canvasId);\n        if (!canvas) {\n            throw new Error(`Canvas element ${canvasId} not found`);\n        }\n        this.canvas = canvas;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get canvas context');\n        }\n        this.ctx = ctx;\n        this.level = Math.min(Math.max(level, 1), MAZES.length) - 1;\n        this.maze = MAZES[this.level];\n        // Find start and finish positions\n        this.startPos = { x: 0, y: 0 };\n        this.finishPos = { x: 0, y: 0 };\n        for (let y = 0; y < this.maze.length; y++) {\n            for (let x = 0; x < this.maze[y].length; x++) {\n                if (this.maze[y][x] === SquareType.START) {\n                    this.startPos = { x, y };\n                }\n                else if (this.maze[y][x] === SquareType.FINISH) {\n                    this.finishPos = { x, y };\n                }\n            }\n        }\n        this.playerPos = Object.assign({}, this.startPos);\n        this.playerDir = Direction.EAST;\n        this.loadImages();\n    }\n    loadImages() {\n        let imagesLoadedCount = 0;\n        const totalImages = 2;\n        const onImageLoad = () => {\n            imagesLoadedCount++;\n            if (imagesLoadedCount === totalImages) {\n                this.imagesLoaded = true;\n                this.draw();\n            }\n        };\n        // Load pegman image\n        this.pegmanImage = new Image();\n        this.pegmanImage.onload = onImageLoad;\n        this.pegmanImage.src = 'assets/pegman.png';\n        // Load marker image\n        this.markerImage = new Image();\n        this.markerImage.onload = onImageLoad;\n        this.markerImage.src = 'assets/marker.png';\n        // Draw placeholder while loading\n        this.draw();\n    }\n    static getMaxLevel() {\n        return MAZES.length;\n    }\n    setLevel(level) {\n        this.level = Math.min(Math.max(level, 1), MAZES.length) - 1;\n        this.maze = MAZES[this.level];\n        // Find start and finish positions\n        this.startPos = { x: 0, y: 0 };\n        this.finishPos = { x: 0, y: 0 };\n        for (let y = 0; y < this.maze.length; y++) {\n            for (let x = 0; x < this.maze[y].length; x++) {\n                if (this.maze[y][x] === SquareType.START) {\n                    this.startPos = { x, y };\n                }\n                else if (this.maze[y][x] === SquareType.FINISH) {\n                    this.finishPos = { x, y };\n                }\n            }\n        }\n        this.reset();\n    }\n    getLevel() {\n        return this.level + 1;\n    }\n    draw() {\n        const width = this.maze[0].length * this.squareSize;\n        const height = this.maze.length * this.squareSize;\n        this.canvas.width = width;\n        this.canvas.height = height;\n        // Clear canvas with light background\n        this.ctx.fillStyle = '#F1EEE7';\n        this.ctx.fillRect(0, 0, width, height);\n        // Draw outer border\n        this.ctx.strokeStyle = '#CCB';\n        this.ctx.lineWidth = 1;\n        this.ctx.strokeRect(0, 0, width, height);\n        // Draw maze - only render path tiles (not walls)\n        for (let y = 0; y < this.maze.length; y++) {\n            for (let x = 0; x < this.maze[y].length; x++) {\n                const square = this.maze[y][x];\n                const px = x * this.squareSize;\n                const py = y * this.squareSize;\n                // Only draw non-wall tiles\n                if (square !== SquareType.WALL) {\n                    // Draw path tiles with bright yellow highlight\n                    this.ctx.fillStyle = '#FFE500';\n                    this.ctx.fillRect(px, py, this.squareSize, this.squareSize);\n                    // Add subtle darker border to separate tiles\n                    this.ctx.strokeStyle = '#D4C000';\n                    this.ctx.lineWidth = 2;\n                    this.ctx.strokeRect(px, py, this.squareSize, this.squareSize);\n                    // Draw finish marker with image if loaded\n                    if (square === SquareType.FINISH && this.markerImage && this.imagesLoaded) {\n                        const markerWidth = 20;\n                        const markerHeight = 34;\n                        this.ctx.drawImage(this.markerImage, px + (this.squareSize - markerWidth) / 2, py + (this.squareSize - markerHeight) / 2 - 5, markerWidth, markerHeight);\n                    }\n                    else if (square === SquareType.FINISH) {\n                        // Fallback if image not loaded\n                        this.ctx.fillStyle = '#F44336';\n                        this.ctx.beginPath();\n                        this.ctx.arc(px + this.squareSize / 2, py + this.squareSize / 2, this.squareSize / 3, 0, 2 * Math.PI);\n                        this.ctx.fill();\n                    }\n                }\n            }\n        }\n        // Draw player with pegman image if loaded\n        const px = this.playerPos.x * this.squareSize;\n        const py = this.playerPos.y * this.squareSize;\n        if (this.pegmanImage && this.imagesLoaded) {\n            // Pegman sprite sheet is 1029x51 with 21 frames (49x51 each)\n            // Frames 0-3: Facing North (different walking poses)\n            // Frames 4-7: Facing East\n            // Frames 8-11: Facing South\n            // Frames 12-15: Facing West\n            const PEGMAN_WIDTH = 49;\n            const PEGMAN_HEIGHT = 51;\n            // Map direction to frame number (use first frame of each direction)\n            const directionToFrame = {\n                [Direction.NORTH]: 0,\n                [Direction.EAST]: 4,\n                [Direction.SOUTH]: 8,\n                [Direction.WEST]: 12,\n            };\n            const frameIndex = directionToFrame[this.playerDir];\n            const srcX = frameIndex * PEGMAN_WIDTH;\n            const srcY = 0;\n            // Draw pegman at appropriate size\n            const destWidth = PEGMAN_WIDTH;\n            const destHeight = PEGMAN_HEIGHT;\n            const destX = px + (this.squareSize - destWidth) / 2;\n            const destY = py + (this.squareSize - destHeight) / 2;\n            this.ctx.drawImage(this.pegmanImage, srcX, srcY, PEGMAN_WIDTH, PEGMAN_HEIGHT, destX, destY, destWidth, destHeight);\n        }\n        else {\n            // Fallback rendering\n            const centerX = px + this.squareSize / 2;\n            const centerY = py + this.squareSize / 2;\n            // Draw green base\n            this.ctx.fillStyle = '#4CAF50';\n            this.ctx.beginPath();\n            this.ctx.arc(centerX, centerY + 10, this.squareSize / 5, 0, 2 * Math.PI);\n            this.ctx.fill();\n            // Draw player\n            this.ctx.fillStyle = '#2196F3';\n            this.ctx.beginPath();\n            this.ctx.arc(centerX, centerY, this.squareSize / 4, 0, 2 * Math.PI);\n            this.ctx.fill();\n            // Draw direction indicator\n            this.ctx.strokeStyle = '#2196F3';\n            this.ctx.lineWidth = 3;\n            this.ctx.beginPath();\n            this.ctx.moveTo(centerX, centerY);\n            const dirX = [0, 1, 0, -1][this.playerDir];\n            const dirY = [-1, 0, 1, 0][this.playerDir];\n            this.ctx.lineTo(centerX + dirX * (this.squareSize / 4 + 5), centerY + dirY * (this.squareSize / 4 + 5));\n            this.ctx.stroke();\n        }\n    }\n    isPathForward() {\n        const dirX = [0, 1, 0, -1][this.playerDir];\n        const dirY = [-1, 0, 1, 0][this.playerDir];\n        const newX = this.playerPos.x + dirX;\n        const newY = this.playerPos.y + dirY;\n        return this.isValidPosition(newX, newY);\n    }\n    isPathLeft() {\n        const leftDir = (this.playerDir + 3) % 4;\n        const dirX = [0, 1, 0, -1][leftDir];\n        const dirY = [-1, 0, 1, 0][leftDir];\n        const newX = this.playerPos.x + dirX;\n        const newY = this.playerPos.y + dirY;\n        return this.isValidPosition(newX, newY);\n    }\n    isPathRight() {\n        const rightDir = (this.playerDir + 1) % 4;\n        const dirX = [0, 1, 0, -1][rightDir];\n        const dirY = [-1, 0, 1, 0][rightDir];\n        const newX = this.playerPos.x + dirX;\n        const newY = this.playerPos.y + dirY;\n        return this.isValidPosition(newX, newY);\n    }\n    isValidPosition(x, y) {\n        if (x < 0 || x >= this.maze[0].length || y < 0 || y >= this.maze.length) {\n            return false;\n        }\n        return this.maze[y][x] !== SquareType.WALL;\n    }\n    moveForward() {\n        this.commandQueue.push(() => {\n            const dirX = [0, 1, 0, -1][this.playerDir];\n            const dirY = [-1, 0, 1, 0][this.playerDir];\n            const newX = this.playerPos.x + dirX;\n            const newY = this.playerPos.y + dirY;\n            if (!this.isValidPosition(newX, newY)) {\n                alert('Crashed into wall!');\n                return;\n            }\n            this.playerPos.x = newX;\n            this.playerPos.y = newY;\n            this.draw();\n        });\n    }\n    turnLeft() {\n        this.commandQueue.push(() => {\n            this.playerDir = ((this.playerDir + 3) % 4);\n            this.draw();\n        });\n    }\n    turnRight() {\n        this.commandQueue.push(() => {\n            this.playerDir = ((this.playerDir + 1) % 4);\n            this.draw();\n        });\n    }\n    notDone() {\n        return (this.playerPos.x !== this.finishPos.x ||\n            this.playerPos.y !== this.finishPos.y);\n    }\n    delay(ms) {\n        return new Promise((resolve) => setTimeout(resolve, ms));\n    }\n    reset() {\n        this.playerPos = Object.assign({}, this.startPos);\n        this.playerDir = Direction.EAST;\n        this.executing = false;\n        this.draw();\n    }\n    execute(code) {\n        if (this.executing) {\n            alert('Already executing!');\n            return;\n        }\n        this.executing = true;\n        this.reset();\n        this.commandQueue = [];\n        // Create execution context - functions queue commands\n        const context = {\n            moveForward: (blockId) => this.moveForward(),\n            turnLeft: (blockId) => this.turnLeft(),\n            turnRight: (blockId) => this.turnRight(),\n            isPathForward: (blockId) => this.isPathForward(),\n            isPathLeft: (blockId) => this.isPathLeft(),\n            isPathRight: (blockId) => this.isPathRight(),\n            notDone: () => this.notDone(),\n        };\n        try {\n            // Execute code to build command queue\n            const params = Object.keys(context);\n            const args = Object.values(context);\n            const fn = new Function(...params, code);\n            fn(...args);\n            // Animate the command queue\n            this.animateQueue();\n        }\n        catch (e) {\n            console.error('Error executing code:', e);\n            alert('Error executing code: ' + e);\n            this.executing = false;\n        }\n    }\n    animateQueue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (const command of this.commandQueue) {\n                command();\n                yield this.delay(300);\n            }\n            this.executing = false;\n            // Check if finished\n            if (!this.notDone()) {\n                alert('Success! You reached the goal!');\n            }\n            else {\n                alert('Program finished, but you did not reach the goal.');\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90ZXN0L21hemUtZ2FtZS9tYXplLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztHQUlHOzs7Ozs7Ozs7O0FBRUg7O0dBRUc7QUFFSCxJQUFLLFNBS0o7QUFMRCxXQUFLLFNBQVM7SUFDWiwyQ0FBUztJQUNULHlDQUFRO0lBQ1IsMkNBQVM7SUFDVCx5Q0FBUTtBQUNWLENBQUMsRUFMSSxTQUFTLEtBQVQsU0FBUyxRQUtiO0FBRUQsSUFBSyxVQUtKO0FBTEQsV0FBSyxVQUFVO0lBQ2IsMkNBQVE7SUFDUiwyQ0FBUTtJQUNSLDZDQUFTO0lBQ1QsK0NBQVU7QUFDWixDQUFDLEVBTEksVUFBVSxLQUFWLFVBQVUsUUFLZDtBQU9EOztHQUVHO0FBQ0gsTUFBTSxLQUFLLEdBQUc7SUFDWixnQ0FBZ0M7SUFDaEM7UUFDRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsdUJBQXVCO0lBQ3ZCO1FBQ0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUN6QjtJQUNELDBCQUEwQjtJQUMxQjtRQUNFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekI7SUFDRCxtQkFBbUI7SUFDbkI7UUFDRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsdUNBQXVDO0lBQ3ZDO1FBQ0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUN6QjtJQUNELHVCQUF1QjtJQUN2QjtRQUNFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekI7SUFDRCxvQ0FBb0M7SUFDcEM7UUFDRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsdUNBQXVDO0lBQ3ZDO1FBQ0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FB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QyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNyQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDckMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU8sZUFBZSxDQUFDLENBQVMsRUFBRSxDQUFTO1FBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN4RSxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssVUFBVSxDQUFDLElBQUksQ0FBQztJQUM3QyxDQUFDO0lBRU8sV0FBVztRQUNqQixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDMUIsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUMzQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxT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LENBQUMsQ0FBQztZQUM3RCxDQUFDO1FBQ0gsQ0FBQztLQUFBO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vdGVzdC9tYXplLWdhbWUvbWF6ZS50cz8yMmRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNpbXBsZSBtYXplIGdhbWUgZW5naW5lLlxuICovXG5cbmVudW0gRGlyZWN0aW9uIHtcbiAgTk9SVEggPSAwLFxuICBFQVNUID0gMSxcbiAgU09VVEggPSAyLFxuICBXRVNUID0gMyxcbn1cblxuZW51bSBTcXVhcmVUeXBlIHtcbiAgV0FMTCA9IDAsXG4gIE9QRU4gPSAxLFxuICBTVEFSVCA9IDIsXG4gIEZJTklTSCA9IDMsXG59XG5cbmludGVyZmFjZSBQb3NpdGlvbiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG4vKipcbiAqIFNpbXBsZSBtYXplIGxheW91dHMgYnkgbGV2ZWwuXG4gKi9cbmNvbnN0IE1BWkVTID0gW1xuICAvLyBMZXZlbCAxOiBTaW1wbGUgc3RyYWlnaHQgcGF0aFxuICBbXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDIsIDEsIDEsIDEsIDEsIDMsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXSxcbiAgLy8gTGV2ZWwgMjogU2luZ2xlIHR1cm5cbiAgW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDIsIDEsIDEsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDMsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIF0sXG4gIC8vIExldmVsIDM6IE11bHRpcGxlIHR1cm5zXG4gIFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDIsIDEsIDEsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAxLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMSwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDEsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMywgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdLFxuICAvLyBMZXZlbCA0OiBTLWN1cnZlXG4gIFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDIsIDEsIDEsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDEsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAxLCAxLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMywgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdLFxuICAvLyBMZXZlbCA1OiBULWp1bmN0aW9uIHdpdGggY29uZGl0aW9uYWxcbiAgW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDMsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAxLCAxLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIF0sXG4gIC8vIExldmVsIDY6IFppZ3phZyBwYXRoXG4gIFtcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDIsIDEsIDEsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAxLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMSwgMSwgMSwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDEsIDAsIDBdLFxuICAgIFswLCAwLCAxLCAxLCAxLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMywgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICBdLFxuICAvLyBMZXZlbCA3OiBNdWx0aXBsZSBkZWNpc2lvbiBwb2ludHNcbiAgW1xuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBbMCwgMiwgMSwgMSwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAxLCAxLCAxLCAxLCAxLCAwXSxcbiAgICBbMCwgMCwgMSwgMCwgMCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDEsIDEsIDEsIDEsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAzLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gIF0sXG4gIC8vIExldmVsIDg6IENvbXBsZXggbWF6ZSByZXF1aXJpbmcgbG9vcFxuICBbXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIFswLCAyLCAxLCAwLCAxLCAxLCAwLCAwXSxcbiAgICBbMCwgMCwgMSwgMCwgMSwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDEsIDEsIDEsIDAsIDAsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwXSxcbiAgICBbMCwgMCwgMCwgMCwgMSwgMSwgMSwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDAsIDAsIDMsIDBdLFxuICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgXSxcbl07XG5cbmV4cG9ydCBjbGFzcyBNYXplR2FtZSB7XG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyO1xuICBwcml2YXRlIG1hemU6IG51bWJlcltdW107XG4gIHByaXZhdGUgcGxheWVyUG9zOiBQb3NpdGlvbjtcbiAgcHJpdmF0ZSBwbGF5ZXJEaXI6IERpcmVjdGlvbjtcbiAgcHJpdmF0ZSBzdGFydFBvczogUG9zaXRpb247XG4gIHByaXZhdGUgZmluaXNoUG9zOiBQb3NpdGlvbjtcbiAgcHJpdmF0ZSBzcXVhcmVTaXplID0gNTA7XG4gIHByaXZhdGUgZXhlY3V0aW5nID0gZmFsc2U7XG4gIHByaXZhdGUgY29tbWFuZFF1ZXVlOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBwcml2YXRlIHBlZ21hbkltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbWFya2VySW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihjYW52YXNJZDogc3RyaW5nLCBsZXZlbDogbnVtYmVyKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzSWQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbnZhcyBlbGVtZW50ICR7Y2FudmFzSWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZ2V0IGNhbnZhcyBjb250ZXh0Jyk7XG4gICAgfVxuICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMubGV2ZWwgPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMSksIE1BWkVTLmxlbmd0aCkgLSAxO1xuICAgIHRoaXMubWF6ZSA9IE1BWkVTW3RoaXMubGV2ZWxdO1xuXG4gICAgLy8gRmluZCBzdGFydCBhbmQgZmluaXNoIHBvc2l0aW9uc1xuICAgIHRoaXMuc3RhcnRQb3MgPSB7eDogMCwgeTogMH07XG4gICAgdGhpcy5maW5pc2hQb3MgPSB7eDogMCwgeTogMH07XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLm1hemUubGVuZ3RoOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5tYXplW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGlmICh0aGlzLm1hemVbeV1beF0gPT09IFNxdWFyZVR5cGUuU1RBUlQpIHtcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zID0ge3gsIHl9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWF6ZVt5XVt4XSA9PT0gU3F1YXJlVHlwZS5GSU5JU0gpIHtcbiAgICAgICAgICB0aGlzLmZpbmlzaFBvcyA9IHt4LCB5fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGxheWVyUG9zID0gey4uLnRoaXMuc3RhcnRQb3N9O1xuICAgIHRoaXMucGxheWVyRGlyID0gRGlyZWN0aW9uLkVBU1Q7XG5cbiAgICB0aGlzLmxvYWRJbWFnZXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgbG9hZEltYWdlcygpOiB2b2lkIHtcbiAgICBsZXQgaW1hZ2VzTG9hZGVkQ291bnQgPSAwO1xuICAgIGNvbnN0IHRvdGFsSW1hZ2VzID0gMjtcblxuICAgIGNvbnN0IG9uSW1hZ2VMb2FkID0gKCkgPT4ge1xuICAgICAgaW1hZ2VzTG9hZGVkQ291bnQrKztcbiAgICAgIGlmIChpbWFnZXNMb2FkZWRDb3VudCA9PT0gdG90YWxJbWFnZXMpIHtcbiAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gTG9hZCBwZWdtYW4gaW1hZ2VcbiAgICB0aGlzLnBlZ21hbkltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5wZWdtYW5JbWFnZS5vbmxvYWQgPSBvbkltYWdlTG9hZDtcbiAgICB0aGlzLnBlZ21hbkltYWdlLnNyYyA9ICdhc3NldHMvcGVnbWFuLnBuZyc7XG5cbiAgICAvLyBMb2FkIG1hcmtlciBpbWFnZVxuICAgIHRoaXMubWFya2VySW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLm1hcmtlckltYWdlLm9ubG9hZCA9IG9uSW1hZ2VMb2FkO1xuICAgIHRoaXMubWFya2VySW1hZ2Uuc3JjID0gJ2Fzc2V0cy9tYXJrZXIucG5nJztcblxuICAgIC8vIERyYXcgcGxhY2Vob2xkZXIgd2hpbGUgbG9hZGluZ1xuICAgIHRoaXMuZHJhdygpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRNYXhMZXZlbCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNQVpFUy5sZW5ndGg7XG4gIH1cblxuICBwdWJsaWMgc2V0TGV2ZWwobGV2ZWw6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubGV2ZWwgPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMSksIE1BWkVTLmxlbmd0aCkgLSAxO1xuICAgIHRoaXMubWF6ZSA9IE1BWkVTW3RoaXMubGV2ZWxdO1xuXG4gICAgLy8gRmluZCBzdGFydCBhbmQgZmluaXNoIHBvc2l0aW9uc1xuICAgIHRoaXMuc3RhcnRQb3MgPSB7eDogMCwgeTogMH07XG4gICAgdGhpcy5maW5pc2hQb3MgPSB7eDogMCwgeTogMH07XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLm1hemUubGVuZ3RoOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5tYXplW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGlmICh0aGlzLm1hemVbeV1beF0gPT09IFNxdWFyZVR5cGUuU1RBUlQpIHtcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zID0ge3gsIHl9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWF6ZVt5XVt4XSA9PT0gU3F1YXJlVHlwZS5GSU5JU0gpIHtcbiAgICAgICAgICB0aGlzLmZpbmlzaFBvcyA9IHt4LCB5fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMZXZlbCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxldmVsICsgMTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhdygpIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMubWF6ZVswXS5sZW5ndGggKiB0aGlzLnNxdWFyZVNpemU7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5tYXplLmxlbmd0aCAqIHRoaXMuc3F1YXJlU2l6ZTtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIC8vIENsZWFyIGNhbnZhcyB3aXRoIGxpZ2h0IGJhY2tncm91bmRcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnI0YxRUVFNyc7XG4gICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAvLyBEcmF3IG91dGVyIGJvcmRlclxuICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gJyNDQ0InO1xuICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgdGhpcy5jdHguc3Ryb2tlUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIC8vIERyYXcgbWF6ZSAtIG9ubHkgcmVuZGVyIHBhdGggdGlsZXMgKG5vdCB3YWxscylcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMubWF6ZS5sZW5ndGg7IHkrKykge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLm1hemVbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlID0gdGhpcy5tYXplW3ldW3hdO1xuICAgICAgICBjb25zdCBweCA9IHggKiB0aGlzLnNxdWFyZVNpemU7XG4gICAgICAgIGNvbnN0IHB5ID0geSAqIHRoaXMuc3F1YXJlU2l6ZTtcblxuICAgICAgICAvLyBPbmx5IGRyYXcgbm9uLXdhbGwgdGlsZXNcbiAgICAgICAgaWYgKHNxdWFyZSAhPT0gU3F1YXJlVHlwZS5XQUxMKSB7XG4gICAgICAgICAgLy8gRHJhdyBwYXRoIHRpbGVzIHdpdGggYnJpZ2h0IHllbGxvdyBoaWdobGlnaHRcbiAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnI0ZGRTUwMCc7XG4gICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QocHgsIHB5LCB0aGlzLnNxdWFyZVNpemUsIHRoaXMuc3F1YXJlU2l6ZSk7XG5cbiAgICAgICAgICAvLyBBZGQgc3VidGxlIGRhcmtlciBib3JkZXIgdG8gc2VwYXJhdGUgdGlsZXNcbiAgICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9ICcjRDRDMDAwJztcbiAgICAgICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QocHgsIHB5LCB0aGlzLnNxdWFyZVNpemUsIHRoaXMuc3F1YXJlU2l6ZSk7XG5cbiAgICAgICAgICAvLyBEcmF3IGZpbmlzaCBtYXJrZXIgd2l0aCBpbWFnZSBpZiBsb2FkZWRcbiAgICAgICAgICBpZiAoc3F1YXJlID09PSBTcXVhcmVUeXBlLkZJTklTSCAmJiB0aGlzLm1hcmtlckltYWdlICYmIHRoaXMuaW1hZ2VzTG9hZGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXJXaWR0aCA9IDIwO1xuICAgICAgICAgICAgY29uc3QgbWFya2VySGVpZ2h0ID0gMzQ7XG4gICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgIHRoaXMubWFya2VySW1hZ2UsXG4gICAgICAgICAgICAgIHB4ICsgKHRoaXMuc3F1YXJlU2l6ZSAtIG1hcmtlcldpZHRoKSAvIDIsXG4gICAgICAgICAgICAgIHB5ICsgKHRoaXMuc3F1YXJlU2l6ZSAtIG1hcmtlckhlaWdodCkgLyAyIC0gNSxcbiAgICAgICAgICAgICAgbWFya2VyV2lkdGgsXG4gICAgICAgICAgICAgIG1hcmtlckhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZSA9PT0gU3F1YXJlVHlwZS5GSU5JU0gpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIGlmIGltYWdlIG5vdCBsb2FkZWRcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjRjQ0MzM2JztcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5jdHguYXJjKFxuICAgICAgICAgICAgICBweCArIHRoaXMuc3F1YXJlU2l6ZSAvIDIsXG4gICAgICAgICAgICAgIHB5ICsgdGhpcy5zcXVhcmVTaXplIC8gMixcbiAgICAgICAgICAgICAgdGhpcy5zcXVhcmVTaXplIC8gMyxcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgMiAqIE1hdGguUElcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRHJhdyBwbGF5ZXIgd2l0aCBwZWdtYW4gaW1hZ2UgaWYgbG9hZGVkXG4gICAgY29uc3QgcHggPSB0aGlzLnBsYXllclBvcy54ICogdGhpcy5zcXVhcmVTaXplO1xuICAgIGNvbnN0IHB5ID0gdGhpcy5wbGF5ZXJQb3MueSAqIHRoaXMuc3F1YXJlU2l6ZTtcblxuICAgIGlmICh0aGlzLnBlZ21hbkltYWdlICYmIHRoaXMuaW1hZ2VzTG9hZGVkKSB7XG4gICAgICAvLyBQZWdtYW4gc3ByaXRlIHNoZWV0IGlzIDEwMjl4NTEgd2l0aCAyMSBmcmFtZXMgKDQ5eDUxIGVhY2gpXG4gICAgICAvLyBGcmFtZXMgMC0zOiBGYWNpbmcgTm9ydGggKGRpZmZlcmVudCB3YWxraW5nIHBvc2VzKVxuICAgICAgLy8gRnJhbWVzIDQtNzogRmFjaW5nIEVhc3RcbiAgICAgIC8vIEZyYW1lcyA4LTExOiBGYWNpbmcgU291dGhcbiAgICAgIC8vIEZyYW1lcyAxMi0xNTogRmFjaW5nIFdlc3RcbiAgICAgIGNvbnN0IFBFR01BTl9XSURUSCA9IDQ5O1xuICAgICAgY29uc3QgUEVHTUFOX0hFSUdIVCA9IDUxO1xuXG4gICAgICAvLyBNYXAgZGlyZWN0aW9uIHRvIGZyYW1lIG51bWJlciAodXNlIGZpcnN0IGZyYW1lIG9mIGVhY2ggZGlyZWN0aW9uKVxuICAgICAgY29uc3QgZGlyZWN0aW9uVG9GcmFtZSA9IHtcbiAgICAgICAgW0RpcmVjdGlvbi5OT1JUSF06IDAsXG4gICAgICAgIFtEaXJlY3Rpb24uRUFTVF06IDQsXG4gICAgICAgIFtEaXJlY3Rpb24uU09VVEhdOiA4LFxuICAgICAgICBbRGlyZWN0aW9uLldFU1RdOiAxMixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGZyYW1lSW5kZXggPSBkaXJlY3Rpb25Ub0ZyYW1lW3RoaXMucGxheWVyRGlyXTtcbiAgICAgIGNvbnN0IHNyY1ggPSBmcmFtZUluZGV4ICogUEVHTUFOX1dJRFRIO1xuICAgICAgY29uc3Qgc3JjWSA9IDA7XG5cbiAgICAgIC8vIERyYXcgcGVnbWFuIGF0IGFwcHJvcHJpYXRlIHNpemVcbiAgICAgIGNvbnN0IGRlc3RXaWR0aCA9IFBFR01BTl9XSURUSDtcbiAgICAgIGNvbnN0IGRlc3RIZWlnaHQgPSBQRUdNQU5fSEVJR0hUO1xuICAgICAgY29uc3QgZGVzdFggPSBweCArICh0aGlzLnNxdWFyZVNpemUgLSBkZXN0V2lkdGgpIC8gMjtcbiAgICAgIGNvbnN0IGRlc3RZID0gcHkgKyAodGhpcy5zcXVhcmVTaXplIC0gZGVzdEhlaWdodCkgLyAyO1xuXG4gICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIHRoaXMucGVnbWFuSW1hZ2UsXG4gICAgICAgIHNyY1gsXG4gICAgICAgIHNyY1ksXG4gICAgICAgIFBFR01BTl9XSURUSCxcbiAgICAgICAgUEVHTUFOX0hFSUdIVCxcbiAgICAgICAgZGVzdFgsXG4gICAgICAgIGRlc3RZLFxuICAgICAgICBkZXN0V2lkdGgsXG4gICAgICAgIGRlc3RIZWlnaHRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZhbGxiYWNrIHJlbmRlcmluZ1xuICAgICAgY29uc3QgY2VudGVyWCA9IHB4ICsgdGhpcy5zcXVhcmVTaXplIC8gMjtcbiAgICAgIGNvbnN0IGNlbnRlclkgPSBweSArIHRoaXMuc3F1YXJlU2l6ZSAvIDI7XG5cbiAgICAgIC8vIERyYXcgZ3JlZW4gYmFzZVxuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJyM0Q0FGNTAnO1xuICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmN0eC5hcmMoY2VudGVyWCwgY2VudGVyWSArIDEwLCB0aGlzLnNxdWFyZVNpemUgLyA1LCAwLCAyICogTWF0aC5QSSk7XG4gICAgICB0aGlzLmN0eC5maWxsKCk7XG5cbiAgICAgIC8vIERyYXcgcGxheWVyXG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnIzIxOTZGMyc7XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4LmFyYyhjZW50ZXJYLCBjZW50ZXJZLCB0aGlzLnNxdWFyZVNpemUgLyA0LCAwLCAyICogTWF0aC5QSSk7XG4gICAgICB0aGlzLmN0eC5maWxsKCk7XG5cbiAgICAgIC8vIERyYXcgZGlyZWN0aW9uIGluZGljYXRvclxuICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnIzIxOTZGMyc7XG4gICAgICB0aGlzLmN0eC5saW5lV2lkdGggPSAzO1xuICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICB0aGlzLmN0eC5tb3ZlVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgICBjb25zdCBkaXJYID0gWzAsIDEsIDAsIC0xXVt0aGlzLnBsYXllckRpcl07XG4gICAgICBjb25zdCBkaXJZID0gWy0xLCAwLCAxLCAwXVt0aGlzLnBsYXllckRpcl07XG4gICAgICB0aGlzLmN0eC5saW5lVG8oXG4gICAgICAgIGNlbnRlclggKyBkaXJYICogKHRoaXMuc3F1YXJlU2l6ZSAvIDQgKyA1KSxcbiAgICAgICAgY2VudGVyWSArIGRpclkgKiAodGhpcy5zcXVhcmVTaXplIC8gNCArIDUpXG4gICAgICApO1xuICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc1BhdGhGb3J3YXJkKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGRpclggPSBbMCwgMSwgMCwgLTFdW3RoaXMucGxheWVyRGlyXTtcbiAgICBjb25zdCBkaXJZID0gWy0xLCAwLCAxLCAwXVt0aGlzLnBsYXllckRpcl07XG4gICAgY29uc3QgbmV3WCA9IHRoaXMucGxheWVyUG9zLnggKyBkaXJYO1xuICAgIGNvbnN0IG5ld1kgPSB0aGlzLnBsYXllclBvcy55ICsgZGlyWTtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkUG9zaXRpb24obmV3WCwgbmV3WSk7XG4gIH1cblxuICBwcml2YXRlIGlzUGF0aExlZnQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGVmdERpciA9ICh0aGlzLnBsYXllckRpciArIDMpICUgNDtcbiAgICBjb25zdCBkaXJYID0gWzAsIDEsIDAsIC0xXVtsZWZ0RGlyXTtcbiAgICBjb25zdCBkaXJZID0gWy0xLCAwLCAxLCAwXVtsZWZ0RGlyXTtcbiAgICBjb25zdCBuZXdYID0gdGhpcy5wbGF5ZXJQb3MueCArIGRpclg7XG4gICAgY29uc3QgbmV3WSA9IHRoaXMucGxheWVyUG9zLnkgKyBkaXJZO1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWRQb3NpdGlvbihuZXdYLCBuZXdZKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNQYXRoUmlnaHQoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmlnaHREaXIgPSAodGhpcy5wbGF5ZXJEaXIgKyAxKSAlIDQ7XG4gICAgY29uc3QgZGlyWCA9IFswLCAxLCAwLCAtMV1bcmlnaHREaXJdO1xuICAgIGNvbnN0IGRpclkgPSBbLTEsIDAsIDEsIDBdW3JpZ2h0RGlyXTtcbiAgICBjb25zdCBuZXdYID0gdGhpcy5wbGF5ZXJQb3MueCArIGRpclg7XG4gICAgY29uc3QgbmV3WSA9IHRoaXMucGxheWVyUG9zLnkgKyBkaXJZO1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWRQb3NpdGlvbihuZXdYLCBuZXdZKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNWYWxpZFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHggPCAwIHx8IHggPj0gdGhpcy5tYXplWzBdLmxlbmd0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMubWF6ZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubWF6ZVt5XVt4XSAhPT0gU3F1YXJlVHlwZS5XQUxMO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlRm9yd2FyZCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbW1hbmRRdWV1ZS5wdXNoKCgpID0+IHtcbiAgICAgIGNvbnN0IGRpclggPSBbMCwgMSwgMCwgLTFdW3RoaXMucGxheWVyRGlyXTtcbiAgICAgIGNvbnN0IGRpclkgPSBbLTEsIDAsIDEsIDBdW3RoaXMucGxheWVyRGlyXTtcbiAgICAgIGNvbnN0IG5ld1ggPSB0aGlzLnBsYXllclBvcy54ICsgZGlyWDtcbiAgICAgIGNvbnN0IG5ld1kgPSB0aGlzLnBsYXllclBvcy55ICsgZGlyWTtcblxuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRQb3NpdGlvbihuZXdYLCBuZXdZKSkge1xuICAgICAgICBhbGVydCgnQ3Jhc2hlZCBpbnRvIHdhbGwhJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5ZXJQb3MueCA9IG5ld1g7XG4gICAgICB0aGlzLnBsYXllclBvcy55ID0gbmV3WTtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB0dXJuTGVmdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbW1hbmRRdWV1ZS5wdXNoKCgpID0+IHtcbiAgICAgIHRoaXMucGxheWVyRGlyID0gKCh0aGlzLnBsYXllckRpciArIDMpICUgNCkgYXMgRGlyZWN0aW9uO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHR1cm5SaWdodCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbW1hbmRRdWV1ZS5wdXNoKCgpID0+IHtcbiAgICAgIHRoaXMucGxheWVyRGlyID0gKCh0aGlzLnBsYXllckRpciArIDEpICUgNCkgYXMgRGlyZWN0aW9uO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIG5vdERvbmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucGxheWVyUG9zLnggIT09IHRoaXMuZmluaXNoUG9zLnggfHxcbiAgICAgIHRoaXMucGxheWVyUG9zLnkgIT09IHRoaXMuZmluaXNoUG9zLnlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy5wbGF5ZXJQb3MgPSB7Li4udGhpcy5zdGFydFBvc307XG4gICAgdGhpcy5wbGF5ZXJEaXIgPSBEaXJlY3Rpb24uRUFTVDtcbiAgICB0aGlzLmV4ZWN1dGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhdygpO1xuICB9XG5cbiAgcHVibGljIGV4ZWN1dGUoY29kZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuZXhlY3V0aW5nKSB7XG4gICAgICBhbGVydCgnQWxyZWFkeSBleGVjdXRpbmchJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5leGVjdXRpbmcgPSB0cnVlO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLmNvbW1hbmRRdWV1ZSA9IFtdO1xuXG4gICAgLy8gQ3JlYXRlIGV4ZWN1dGlvbiBjb250ZXh0IC0gZnVuY3Rpb25zIHF1ZXVlIGNvbW1hbmRzXG4gICAgY29uc3QgY29udGV4dDogYW55ID0ge1xuICAgICAgbW92ZUZvcndhcmQ6IChibG9ja0lkPzogc3RyaW5nKSA9PiB0aGlzLm1vdmVGb3J3YXJkKCksXG4gICAgICB0dXJuTGVmdDogKGJsb2NrSWQ/OiBzdHJpbmcpID0+IHRoaXMudHVybkxlZnQoKSxcbiAgICAgIHR1cm5SaWdodDogKGJsb2NrSWQ/OiBzdHJpbmcpID0+IHRoaXMudHVyblJpZ2h0KCksXG4gICAgICBpc1BhdGhGb3J3YXJkOiAoYmxvY2tJZD86IHN0cmluZykgPT4gdGhpcy5pc1BhdGhGb3J3YXJkKCksXG4gICAgICBpc1BhdGhMZWZ0OiAoYmxvY2tJZD86IHN0cmluZykgPT4gdGhpcy5pc1BhdGhMZWZ0KCksXG4gICAgICBpc1BhdGhSaWdodDogKGJsb2NrSWQ/OiBzdHJpbmcpID0+IHRoaXMuaXNQYXRoUmlnaHQoKSxcbiAgICAgIG5vdERvbmU6ICgpID0+IHRoaXMubm90RG9uZSgpLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgLy8gRXhlY3V0ZSBjb2RlIHRvIGJ1aWxkIGNvbW1hbmQgcXVldWVcbiAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5rZXlzKGNvbnRleHQpO1xuICAgICAgY29uc3QgYXJncyA9IE9iamVjdC52YWx1ZXMoY29udGV4dCk7XG4gICAgICBjb25zdCBmbiA9IG5ldyBGdW5jdGlvbiguLi5wYXJhbXMsIGNvZGUpO1xuICAgICAgZm4oLi4uYXJncyk7XG5cbiAgICAgIC8vIEFuaW1hdGUgdGhlIGNvbW1hbmQgcXVldWVcbiAgICAgIHRoaXMuYW5pbWF0ZVF1ZXVlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZXhlY3V0aW5nIGNvZGU6JywgZSk7XG4gICAgICBhbGVydCgnRXJyb3IgZXhlY3V0aW5nIGNvZGU6ICcgKyBlKTtcbiAgICAgIHRoaXMuZXhlY3V0aW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBhbmltYXRlUXVldWUoKSB7XG4gICAgZm9yIChjb25zdCBjb21tYW5kIG9mIHRoaXMuY29tbWFuZFF1ZXVlKSB7XG4gICAgICBjb21tYW5kKCk7XG4gICAgICBhd2FpdCB0aGlzLmRlbGF5KDMwMCk7XG4gICAgfVxuXG4gICAgdGhpcy5leGVjdXRpbmcgPSBmYWxzZTtcblxuICAgIC8vIENoZWNrIGlmIGZpbmlzaGVkXG4gICAgaWYgKCF0aGlzLm5vdERvbmUoKSkge1xuICAgICAgYWxlcnQoJ1N1Y2Nlc3MhIFlvdSByZWFjaGVkIHRoZSBnb2FsIScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydCgnUHJvZ3JhbSBmaW5pc2hlZCwgYnV0IHlvdSBkaWQgbm90IHJlYWNoIHRoZSBnb2FsLicpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./test/maze-game/maze.ts\n");

/***/ }),

/***/ "./test/maze-game/messages.ts":
/*!************************************!*\
  !*** ./test/maze-game/messages.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBrowserLocale: () => (/* binding */ getBrowserLocale),\n/* harmony export */   loadMessages: () => (/* binding */ loadMessages)\n/* harmony export */ });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly.mjs\");\n/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n/**\n * @fileoverview Internationalization (i18n) messages for Maze game.\n * Adapted from blockly-games translations.\n */\n\n/**\n * Message definitions for all supported languages\n */\nconst MESSAGES = {\n    en: {\n        // Block text\n        MAZE_MOVE_FORWARD: 'move forward',\n        MAZE_TURN_LEFT: 'turn left',\n        MAZE_TURN_RIGHT: 'turn right',\n        MAZE_PATH_AHEAD: 'if path ahead',\n        MAZE_PATH_LEFT: 'if path to the left',\n        MAZE_PATH_RIGHT: 'if path to the right',\n        MAZE_DO: 'do',\n        MAZE_ELSE: 'else',\n        MAZE_REPEAT_UNTIL: 'repeat until',\n        // Tooltips\n        MAZE_MOVE_FORWARD_TOOLTIP: 'Moves the player forward one space.',\n        MAZE_TURN_TOOLTIP: 'Turns the player left or right by 90 degrees.',\n        MAZE_IF_TOOLTIP: 'If there is a path in the specified direction, then do some actions.',\n        MAZE_IFELSE_TOOLTIP: 'If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.',\n        MAZE_WHILE_TOOLTIP: 'Repeat the enclosed actions until the finish point is reached.',\n        // UI strings\n        MAZE_RUN_PROGRAM: 'Run Program',\n        MAZE_RESET_PROGRAM: 'Reset',\n        MAZE_CAPACITY: 'You have %1 blocks left.',\n        MAZE_CONGRATULATIONS: 'Congratulations!',\n    },\n    fr: {\n        // Block text\n        MAZE_MOVE_FORWARD: 'avancer',\n        MAZE_TURN_LEFT: 'tourner  gauche',\n        MAZE_TURN_RIGHT: 'tourner  droite',\n        MAZE_PATH_AHEAD: 'si chemin devant',\n        MAZE_PATH_LEFT: 'si chemin vers la gauche',\n        MAZE_PATH_RIGHT: 'si chemin vers la droite',\n        MAZE_DO: 'faire',\n        MAZE_ELSE: 'sinon',\n        MAZE_REPEAT_UNTIL: 'rpter jusqu\\'',\n        // Tooltips\n        MAZE_MOVE_FORWARD_TOOLTIP: 'Avance le joueur d\\'une case.',\n        MAZE_TURN_TOOLTIP: 'Tourne le joueur  gauche ou  droite de 90 degrs.',\n        MAZE_IF_TOOLTIP: 'S\\'il y a un chemin dans la direction spcifie, alors effectue ces actions.',\n        MAZE_IFELSE_TOOLTIP: 'S\\'il y a un chemin dans la direction spcifie, alors fais le premier bloc d\\'actions. Sinon fais le second bloc d\\'actions.',\n        MAZE_WHILE_TOOLTIP: 'Rpte les actions  l\\'intrieur du bloc jusqu\\' atteindre le but final.',\n        // UI strings\n        MAZE_RUN_PROGRAM: 'Excuter le programme',\n        MAZE_RESET_PROGRAM: 'Rinitialiser',\n        MAZE_CAPACITY: 'Il vous reste %1 blocs.',\n        MAZE_CONGRATULATIONS: 'Flicitations !',\n    },\n};\n/**\n * Load messages for the specified locale into Blockly.Msg\n * @param locale The locale to load (defaults to 'en')\n */\nfunction loadMessages(locale = 'en') {\n    const messages = MESSAGES[locale];\n    if (!messages) {\n        console.warn(`Locale '${locale}' not supported, falling back to English`);\n        locale = 'en';\n    }\n    // Load all messages into Blockly.Msg\n    Object.entries(MESSAGES[locale]).forEach(([key, value]) => {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0__.Msg[key] = value;\n    });\n    console.log(`Loaded maze game messages for locale: ${locale}`);\n}\n/**\n * Get the current browser locale, or default to English\n * @returns A supported locale code\n */\nfunction getBrowserLocale() {\n    const browserLang = navigator.language || navigator.userLanguage || 'en';\n    const langCode = browserLang.toLowerCase().split('-')[0];\n    // Check if we support this language\n    if (langCode === 'fr') {\n        return 'fr';\n    }\n    // Default to English\n    return 'en';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO0lBRUQscUJBQXFCO0lBQ3JCLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi90ZXN0L21hemUtZ2FtZS9tZXNzYWdlcy50cz8xZGQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDEyIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEludGVybmF0aW9uYWxpemF0aW9uIChpMThuKSBtZXNzYWdlcyBmb3IgTWF6ZSBnYW1lLlxuICogQWRhcHRlZCBmcm9tIGJsb2NrbHktZ2FtZXMgdHJhbnNsYXRpb25zLlxuICovXG5cbmltcG9ydCAqIGFzIEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuLyoqXG4gKiBTdXBwb3J0ZWQgbGFuZ3VhZ2VzIGZvciB0aGUgbWF6ZSBnYW1lXG4gKi9cbmV4cG9ydCB0eXBlIFN1cHBvcnRlZExvY2FsZSA9ICdlbicgfCAnZnInO1xuXG4vKipcbiAqIE1lc3NhZ2UgZGVmaW5pdGlvbnMgZm9yIGFsbCBzdXBwb3J0ZWQgbGFuZ3VhZ2VzXG4gKi9cbmNvbnN0IE1FU1NBR0VTOiBSZWNvcmQ8U3VwcG9ydGVkTG9jYWxlLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiA9IHtcbiAgZW46IHtcbiAgICAvLyBCbG9jayB0ZXh0XG4gICAgTUFaRV9NT1ZFX0ZPUldBUkQ6ICdtb3ZlIGZvcndhcmQnLFxuICAgIE1BWkVfVFVSTl9MRUZUOiAndHVybiBsZWZ0JyxcbiAgICBNQVpFX1RVUk5fUklHSFQ6ICd0dXJuIHJpZ2h0JyxcbiAgICBNQVpFX1BBVEhfQUhFQUQ6ICdpZiBwYXRoIGFoZWFkJyxcbiAgICBNQVpFX1BBVEhfTEVGVDogJ2lmIHBhdGggdG8gdGhlIGxlZnQnLFxuICAgIE1BWkVfUEFUSF9SSUdIVDogJ2lmIHBhdGggdG8gdGhlIHJpZ2h0JyxcbiAgICBNQVpFX0RPOiAnZG8nLFxuICAgIE1BWkVfRUxTRTogJ2Vsc2UnLFxuICAgIE1BWkVfUkVQRUFUX1VOVElMOiAncmVwZWF0IHVudGlsJyxcblxuICAgIC8vIFRvb2x0aXBzXG4gICAgTUFaRV9NT1ZFX0ZPUldBUkRfVE9PTFRJUDogJ01vdmVzIHRoZSBwbGF5ZXIgZm9yd2FyZCBvbmUgc3BhY2UuJyxcbiAgICBNQVpFX1RVUk5fVE9PTFRJUDogJ1R1cm5zIHRoZSBwbGF5ZXIgbGVmdCBvciByaWdodCBieSA5MCBkZWdyZWVzLicsXG4gICAgTUFaRV9JRl9UT09MVElQOiAnSWYgdGhlcmUgaXMgYSBwYXRoIGluIHRoZSBzcGVjaWZpZWQgZGlyZWN0aW9uLCB0aGVuIGRvIHNvbWUgYWN0aW9ucy4nLFxuICAgIE1BWkVfSUZFTFNFX1RPT0xUSVA6XG4gICAgICAnSWYgdGhlcmUgaXMgYSBwYXRoIGluIHRoZSBzcGVjaWZpZWQgZGlyZWN0aW9uLCB0aGVuIGRvIHRoZSBmaXJzdCBibG9jayBvZiBhY3Rpb25zLiBPdGhlcndpc2UsIGRvIHRoZSBzZWNvbmQgYmxvY2sgb2YgYWN0aW9ucy4nLFxuICAgIE1BWkVfV0hJTEVfVE9PTFRJUDogJ1JlcGVhdCB0aGUgZW5jbG9zZWQgYWN0aW9ucyB1bnRpbCB0aGUgZmluaXNoIHBvaW50IGlzIHJlYWNoZWQuJyxcblxuICAgIC8vIFVJIHN0cmluZ3NcbiAgICBNQVpFX1JVTl9QUk9HUkFNOiAnUnVuIFByb2dyYW0nLFxuICAgIE1BWkVfUkVTRVRfUFJPR1JBTTogJ1Jlc2V0JyxcbiAgICBNQVpFX0NBUEFDSVRZOiAnWW91IGhhdmUgJTEgYmxvY2tzIGxlZnQuJyxcbiAgICBNQVpFX0NPTkdSQVRVTEFUSU9OUzogJ0NvbmdyYXR1bGF0aW9ucyEnLFxuICB9LFxuXG4gIGZyOiB7XG4gICAgLy8gQmxvY2sgdGV4dFxuICAgIE1BWkVfTU9WRV9GT1JXQVJEOiAnYXZhbmNlcicsXG4gICAgTUFaRV9UVVJOX0xFRlQ6ICd0b3VybmVyIMOgIGdhdWNoZScsXG4gICAgTUFaRV9UVVJOX1JJR0hUOiAndG91cm5lciDDoCBkcm9pdGUnLFxuICAgIE1BWkVfUEFUSF9BSEVBRDogJ3NpIGNoZW1pbiBkZXZhbnQnLFxuICAgIE1BWkVfUEFUSF9MRUZUOiAnc2kgY2hlbWluIHZlcnMgbGEgZ2F1Y2hlJyxcbiAgICBNQVpFX1BBVEhfUklHSFQ6ICdzaSBjaGVtaW4gdmVycyBsYSBkcm9pdGUnLFxuICAgIE1BWkVfRE86ICdmYWlyZScsXG4gICAgTUFaRV9FTFNFOiAnc2lub24nLFxuICAgIE1BWkVfUkVQRUFUX1VOVElMOiAncsOpcMOpdGVyIGp1c3F1XFwnw6AnLFxuXG4gICAgLy8gVG9vbHRpcHNcbiAgICBNQVpFX01PVkVfRk9SV0FSRF9UT09MVElQOiAnQXZhbmNlIGxlIGpvdWV1ciBkXFwndW5lIGNhc2UuJyxcbiAgICBNQVpFX1RVUk5fVE9PTFRJUDogJ1RvdXJuZSBsZSBqb3VldXIgw6AgZ2F1Y2hlIG91IMOgIGRyb2l0ZSBkZSA5MCBkZWdyw6lzLicsXG4gICAgTUFaRV9JRl9UT09MVElQOlxuICAgICAgJ1NcXCdpbCB5IGEgdW4gY2hlbWluIGRhbnMgbGEgZGlyZWN0aW9uIHNww6ljaWZpw6llLCBhbG9ycyBlZmZlY3R1ZSBjZXMgYWN0aW9ucy4nLFxuICAgIE1BWkVfSUZFTFNFX1RPT0xUSVA6XG4gICAgICAnU1xcJ2lsIHkgYSB1biBjaGVtaW4gZGFucyBsYSBkaXJlY3Rpb24gc3DDqWNpZmnDqWUsIGFsb3JzIGZhaXMgbGUgcHJlbWllciBibG9jIGRcXCdhY3Rpb25zLiBTaW5vbiBmYWlzIGxlIHNlY29uZCBibG9jIGRcXCdhY3Rpb25zLicsXG4gICAgTUFaRV9XSElMRV9UT09MVElQOlxuICAgICAgJ1LDqXDDqHRlIGxlcyBhY3Rpb25zIMOgIGxcXCdpbnTDqXJpZXVyIGR1IGJsb2MganVzcXVcXCfDoCBhdHRlaW5kcmUgbGUgYnV0IGZpbmFsLicsXG5cbiAgICAvLyBVSSBzdHJpbmdzXG4gICAgTUFaRV9SVU5fUFJPR1JBTTogJ0V4w6ljdXRlciBsZSBwcm9ncmFtbWUnLFxuICAgIE1BWkVfUkVTRVRfUFJPR1JBTTogJ1LDqWluaXRpYWxpc2VyJyxcbiAgICBNQVpFX0NBUEFDSVRZOiAnSWwgdm91cyByZXN0ZSAlMSBibG9jcy4nLFxuICAgIE1BWkVfQ09OR1JBVFVMQVRJT05TOiAnRsOpbGljaXRhdGlvbnMgIScsXG4gIH0sXG59O1xuXG4vKipcbiAqIExvYWQgbWVzc2FnZXMgZm9yIHRoZSBzcGVjaWZpZWQgbG9jYWxlIGludG8gQmxvY2tseS5Nc2dcbiAqIEBwYXJhbSBsb2NhbGUgVGhlIGxvY2FsZSB0byBsb2FkIChkZWZhdWx0cyB0byAnZW4nKVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZE1lc3NhZ2VzKGxvY2FsZTogU3VwcG9ydGVkTG9jYWxlID0gJ2VuJyk6IHZvaWQge1xuICBjb25zdCBtZXNzYWdlcyA9IE1FU1NBR0VTW2xvY2FsZV07XG5cbiAgaWYgKCFtZXNzYWdlcykge1xuICAgIGNvbnNvbGUud2FybihgTG9jYWxlICcke2xvY2FsZX0nIG5vdCBzdXBwb3J0ZWQsIGZhbGxpbmcgYmFjayB0byBFbmdsaXNoYCk7XG4gICAgbG9jYWxlID0gJ2VuJztcbiAgfVxuXG4gIC8vIExvYWQgYWxsIG1lc3NhZ2VzIGludG8gQmxvY2tseS5Nc2dcbiAgT2JqZWN0LmVudHJpZXMoTUVTU0FHRVNbbG9jYWxlXSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgQmxvY2tseS5Nc2dba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICBjb25zb2xlLmxvZyhgTG9hZGVkIG1hemUgZ2FtZSBtZXNzYWdlcyBmb3IgbG9jYWxlOiAke2xvY2FsZX1gKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgYnJvd3NlciBsb2NhbGUsIG9yIGRlZmF1bHQgdG8gRW5nbGlzaFxuICogQHJldHVybnMgQSBzdXBwb3J0ZWQgbG9jYWxlIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJyb3dzZXJMb2NhbGUoKTogU3VwcG9ydGVkTG9jYWxlIHtcbiAgY29uc3QgYnJvd3NlckxhbmcgPSBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgKG5hdmlnYXRvciBhcyBhbnkpLnVzZXJMYW5ndWFnZSB8fCAnZW4nO1xuICBjb25zdCBsYW5nQ29kZSA9IGJyb3dzZXJMYW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy0nKVswXTtcblxuICAvLyBDaGVjayBpZiB3ZSBzdXBwb3J0IHRoaXMgbGFuZ3VhZ2VcbiAgaWYgKGxhbmdDb2RlID09PSAnZnInKSB7XG4gICAgcmV0dXJuICdmcic7XG4gIH1cblxuICAvLyBEZWZhdWx0IHRvIEVuZ2xpc2hcbiAgcmV0dXJuICdlbic7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./test/maze-game/messages.ts\n");

/***/ }),

/***/ "./node_modules/blockly/blockly_compressed.js":
/*!****************************************************!*\
  !*** ./node_modules/blockly/blockly_compressed.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function() {\nvar $={};\nvar register$$module$build$src$core$registry,validate$$module$build$src$core$registry,unregister$$module$build$src$core$registry,getItem$$module$build$src$core$registry,hasItem$$module$build$src$core$registry,getClass$$module$build$src$core$registry,getObject$$module$build$src$core$registry,getAllItems$$module$build$src$core$registry,getClassFromOptions$$module$build$src$core$registry,longStart$$module$build$src$core$touch,longStop$$module$build$src$core$touch,clearTouchIdentifier$$module$build$src$core$touch,\nshouldHandleEvent$$module$build$src$core$touch,getTouchIdentifierFromEvent$$module$build$src$core$touch,checkTouchIdentifier$$module$build$src$core$touch,conditionalBind$$module$build$src$core$browser_events,bind$$module$build$src$core$browser_events,unbind$$module$build$src$core$browser_events,isTargetInput$$module$build$src$core$browser_events,isRightButton$$module$build$src$core$browser_events,mouseToSvg$$module$build$src$core$browser_events,getScrollDeltaPixels$$module$build$src$core$browser_events,\ngetNextUniqueId$$module$build$src$core$utils$idgenerator,genUid$$module$build$src$core$utils$idgenerator,isBlockCreate$$module$build$src$core$events$predicates,isBlockDelete$$module$build$src$core$events$predicates,isBlockChange$$module$build$src$core$events$predicates,isBlockFieldIntermediateChange$$module$build$src$core$events$predicates,isBlockMove$$module$build$src$core$events$predicates,isVarCreate$$module$build$src$core$events$predicates,isVarDelete$$module$build$src$core$events$predicates,\nisVarRename$$module$build$src$core$events$predicates,isBlockDrag$$module$build$src$core$events$predicates,isSelected$$module$build$src$core$events$predicates,isClick$$module$build$src$core$events$predicates,isBubbleOpen$$module$build$src$core$events$predicates,isTrashcanOpen$$module$build$src$core$events$predicates,isToolboxItemSelect$$module$build$src$core$events$predicates,isThemeChange$$module$build$src$core$events$predicates,isViewportChange$$module$build$src$core$events$predicates,isCommentCreate$$module$build$src$core$events$predicates,\nisCommentDelete$$module$build$src$core$events$predicates,isCommentChange$$module$build$src$core$events$predicates,isCommentMove$$module$build$src$core$events$predicates,isCommentResize$$module$build$src$core$events$predicates,isCommentDrag$$module$build$src$core$events$predicates,isCommentCollapse$$module$build$src$core$events$predicates,isFinishedLoading$$module$build$src$core$events$predicates,getRecordUndo$$module$build$src$core$events$utils,fire$$module$build$src$core$events$utils,fireInternal$$module$build$src$core$events$utils,\nfireNow$$module$build$src$core$events$utils,enqueueEvent$$module$build$src$core$events$utils,filter$$module$build$src$core$events$utils,clearPendingUndo$$module$build$src$core$events$utils,isEnabled$$module$build$src$core$events$utils,setGroupInternal$$module$build$src$core$events$utils,getDescendantIds$$module$build$src$core$events$utils,fromJson$$module$build$src$core$events$utils,get$$module$build$src$core$events$utils,disableOrphans$$module$build$src$core$events$utils,createSvgElement$$module$build$src$core$utils$dom,\naddClass$$module$build$src$core$utils$dom,removeClasses$$module$build$src$core$utils$dom,removeClass$$module$build$src$core$utils$dom,hasClass$$module$build$src$core$utils$dom,removeNode$$module$build$src$core$utils$dom,insertAfter$$module$build$src$core$utils$dom,setCssTransform$$module$build$src$core$utils$dom,startTextWidthCache$$module$build$src$core$utils$dom,stopTextWidthCache$$module$build$src$core$utils$dom,getTextWidth$$module$build$src$core$utils$dom,getFastTextWidth$$module$build$src$core$utils$dom,\ngetFastTextWidthWithSizeString$$module$build$src$core$utils$dom,measureFontMetrics$$module$build$src$core$utils$dom,isFocusableNode$$module$build$src$core$interfaces$i_focusable_node,isSelectable$$module$build$src$core$interfaces$i_selectable,deepMerge$$module$build$src$core$utils$object,getWorkspaceById$$module$build$src$core$common,getAllWorkspaces$$module$build$src$core$common,registerWorkspace$$module$build$src$core$common,unregisterWorkpace$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$common,\nsetMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$common,setSelected$$module$build$src$core$common,fireSelectedEvent$$module$build$src$core$common,getParentContainer$$module$build$src$core$common,setParentContainer$$module$build$src$core$common,svgResize$$module$build$src$core$common,getBlockTypeCounts$$module$build$src$core$common,jsonInitFactory$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$common,defineBlocksWithJsonArrayInternal$$module$build$src$core$common,\nglobalShortcutHandler$$module$build$src$core$common,removeElem$$module$build$src$core$utils$array,register$$module$build$src$core$css,inject$$module$build$src$core$css,getSize$$module$build$src$core$utils$style,getSizeInternal$$module$build$src$core$utils$style,getSizeWithDisplay$$module$build$src$core$utils$style,getComputedStyle$$module$build$src$core$utils$style,getPageOffset$$module$build$src$core$utils$style,getViewportPageOffset$$module$build$src$core$utils$style,getBorderBox$$module$build$src$core$utils$style,\nscrollIntoContainerView$$module$build$src$core$utils$style,getContainerOffsetToScrollInto$$module$build$src$core$utils$style,getRelativeXY$$module$build$src$core$utils$svg_math,getInjectionDivXY$$module$build$src$core$utils$svg_math,getViewportBBox$$module$build$src$core$utils$svg_math,getDocumentScroll$$module$build$src$core$utils$svg_math,screenToWsCoordinates$$module$build$src$core$utils$svg_math,wsToScreenCoordinates$$module$build$src$core$utils$svg_math,injectDependencies$$module$build$src$core$utils$xml,\ndomToText$$module$build$src$core$utils$xml,sanitizeText$$module$build$src$core$utils$xml,convertToolboxDefToJson$$module$build$src$core$utils$toolbox,validateToolbox$$module$build$src$core$utils$toolbox,convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox,hasCategories$$module$build$src$core$utils$toolbox,hasCategoriesInternal$$module$build$src$core$utils$toolbox,isCategoryCollapsible$$module$build$src$core$utils$toolbox,convertToToolboxJson$$module$build$src$core$utils$toolbox,xmlToJsonArray$$module$build$src$core$utils$toolbox,\naddAttributes$$module$build$src$core$utils$toolbox,parseToolboxTree$$module$build$src$core$utils$toolbox,getStartPositionRect$$module$build$src$core$positionable_helpers,getCornerOppositeToolbox$$module$build$src$core$positionable_helpers,bumpPositionRect$$module$build$src$core$positionable_helpers,register$$module$build$src$core$serialization$registry,unregister$$module$build$src$core$serialization$registry,save$$module$build$src$core$serialization$workspace_comments,append$$module$build$src$core$serialization$workspace_comments,\nregister$$module$build$src$core$clipboard$registry,unregister$$module$build$src$core$clipboard$registry,moveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster,commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster,setRole$$module$build$src$core$utils$aria,setState$$module$build$src$core$utils$aria,isSerializable$$module$build$src$core$interfaces$i_serializable,queueRender$$module$build$src$core$render_management,finishQueuedRenders$$module$build$src$core$render_management,\ntriggerQueuedRenders$$module$build$src$core$render_management,alwaysImmediatelyRender$$module$build$src$core$render_management,queueBlock$$module$build$src$core$render_management,doRenders$$module$build$src$core$render_management,dequeueBlock$$module$build$src$core$render_management,shouldRenderRootBlock$$module$build$src$core$render_management,renderBlock$$module$build$src$core$render_management,alert$$module$build$src$core$dialog,setAlert$$module$build$src$core$dialog,confirm$$module$build$src$core$dialog,\nsetConfirm$$module$build$src$core$dialog,prompt$$module$build$src$core$dialog,setPrompt$$module$build$src$core$dialog,toast$$module$build$src$core$dialog,setToast$$module$build$src$core$dialog,isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model,warn$$module$build$src$core$utils$deprecation,\ninternalFlyoutCategory$$module$build$src$core$variables,flyoutCategory$$module$build$src$core$variables,generateVariableFieldJson$$module$build$src$core$variables,jsonFlyoutCategoryBlocks$$module$build$src$core$variables,xmlFlyoutCategory$$module$build$src$core$variables,flyoutCategoryBlocks$$module$build$src$core$variables,generateUniqueName$$module$build$src$core$variables,generateUniqueNameInternal$$module$build$src$core$variables,generateUniqueNameFromOptions$$module$build$src$core$variables,\ncreateVariableButtonHandler$$module$build$src$core$variables,promptName$$module$build$src$core$variables,nameUsedWithOtherType$$module$build$src$core$variables,nameUsedWithAnyType$$module$build$src$core$variables,nameUsedWithConflictingParam$$module$build$src$core$variables,checkForConflictingParamWithProcedureModels$$module$build$src$core$variables,checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables,generateVariableFieldDom$$module$build$src$core$variables,createVariable$$module$build$src$core$variables,\ngetAddedVariables$$module$build$src$core$variables,compareByName$$module$build$src$core$variables,getVariableUsesById$$module$build$src$core$variables,save$$module$build$src$core$serialization$blocks,saveAttributes$$module$build$src$core$serialization$blocks,saveCoords$$module$build$src$core$serialization$blocks,saveExtraState$$module$build$src$core$serialization$blocks,saveIcons$$module$build$src$core$serialization$blocks,saveFields$$module$build$src$core$serialization$blocks,saveInputBlocks$$module$build$src$core$serialization$blocks,\nsaveNextBlocks$$module$build$src$core$serialization$blocks,saveConnection$$module$build$src$core$serialization$blocks,append$$module$build$src$core$serialization$blocks,appendInternal$$module$build$src$core$serialization$blocks,appendPrivate$$module$build$src$core$serialization$blocks,checkNewVariables$$module$build$src$core$serialization$blocks,loadCoords$$module$build$src$core$serialization$blocks,loadAttributes$$module$build$src$core$serialization$blocks,loadExtraState$$module$build$src$core$serialization$blocks,\ntryToConnectParent$$module$build$src$core$serialization$blocks,loadIcons$$module$build$src$core$serialization$blocks,loadFields$$module$build$src$core$serialization$blocks,loadInputBlocks$$module$build$src$core$serialization$blocks,loadNextBlocks$$module$build$src$core$serialization$blocks,loadConnection$$module$build$src$core$serialization$blocks,initBlock$$module$build$src$core$serialization$blocks,hasBubble$$module$build$src$core$interfaces$i_has_bubble,toRadians$$module$build$src$core$utils$math,\ntoDegrees$$module$build$src$core$utils$math,clamp$$module$build$src$core$utils$math,createDom$$module$build$src$core$dropdowndiv,setBoundsElement$$module$build$src$core$dropdowndiv,getOwner$$module$build$src$core$dropdowndiv,getContentDiv$$module$build$src$core$dropdowndiv,clearContent$$module$build$src$core$dropdowndiv,setColour$$module$build$src$core$dropdowndiv,showPositionedByBlock$$module$build$src$core$dropdowndiv,showPositionedByField$$module$build$src$core$dropdowndiv,getScaledBboxOfBlock$$module$build$src$core$dropdowndiv,\ngetScaledBboxOfField$$module$build$src$core$dropdowndiv,showPositionedByRect$$module$build$src$core$dropdowndiv,show$$module$build$src$core$dropdowndiv,getPositionBelowMetrics$$module$build$src$core$dropdowndiv,getPositionAboveMetrics$$module$build$src$core$dropdowndiv,getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv,getPositionX$$module$build$src$core$dropdowndiv,isVisible$$module$build$src$core$dropdowndiv,hideIfOwner$$module$build$src$core$dropdowndiv,hide$$module$build$src$core$dropdowndiv,\nhideWithoutAnimation$$module$build$src$core$dropdowndiv,positionInternal$$module$build$src$core$dropdowndiv,repositionForWindowResize$$module$build$src$core$dropdowndiv,shortestStringLength$$module$build$src$core$utils$string,commonWordPrefix$$module$build$src$core$utils$string,commonWordSuffix$$module$build$src$core$utils$string,wrapLine$$module$build$src$core$utils$string,wrapScore$$module$build$src$core$utils$string,wrapMutate$$module$build$src$core$utils$string,wrapToText$$module$build$src$core$utils$string,\nsetCustomTooltip$$module$build$src$core$tooltip,getCustomTooltip$$module$build$src$core$tooltip,isVisible$$module$build$src$core$tooltip,getDiv$$module$build$src$core$tooltip,getTooltipOfObject$$module$build$src$core$tooltip,getTargetObject$$module$build$src$core$tooltip,createDom$$module$build$src$core$tooltip,bindMouseEvents$$module$build$src$core$tooltip,unbindMouseEvents$$module$build$src$core$tooltip,onMouseOver$$module$build$src$core$tooltip,onMouseOut$$module$build$src$core$tooltip,onMouseMove$$module$build$src$core$tooltip,\ndispose$$module$build$src$core$tooltip,hide$$module$build$src$core$tooltip,block$$module$build$src$core$tooltip,unblock$$module$build$src$core$tooltip,renderContent$$module$build$src$core$tooltip,renderDefaultContent$$module$build$src$core$tooltip,getPosition$$module$build$src$core$tooltip,show$$module$build$src$core$tooltip,getHsvSaturation$$module$build$src$core$utils$colour,setHsvSaturation$$module$build$src$core$utils$colour,getHsvValue$$module$build$src$core$utils$colour,setHsvValue$$module$build$src$core$utils$colour,\nparse$$module$build$src$core$utils$colour,rgbToHex$$module$build$src$core$utils$colour,hexToRgb$$module$build$src$core$utils$colour,hsvToHex$$module$build$src$core$utils$colour,blend$$module$build$src$core$utils$colour,hueToHex$$module$build$src$core$utils$colour,tokenizeInterpolationInternal$$module$build$src$core$utils$parsing,tokenizeInterpolation$$module$build$src$core$utils$parsing,replaceMessageReferences$$module$build$src$core$utils$parsing,checkMessageReferences$$module$build$src$core$utils$parsing,\nparseBlockColour$$module$build$src$core$utils$parsing,getDiv$$module$build$src$core$widgetdiv,testOnly_setDiv$$module$build$src$core$widgetdiv,createDom$$module$build$src$core$widgetdiv,show$$module$build$src$core$widgetdiv,hide$$module$build$src$core$widgetdiv,isVisible$$module$build$src$core$widgetdiv,hideIfOwner$$module$build$src$core$widgetdiv,hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv,positionInternal$$module$build$src$core$widgetdiv,positionWithAnchor$$module$build$src$core$widgetdiv,\ncalculateX$$module$build$src$core$widgetdiv,calculateY$$module$build$src$core$widgetdiv,isRepositionable$$module$build$src$core$widgetdiv,repositionForWindowResize$$module$build$src$core$widgetdiv,getCurrentBlock$$module$build$src$core$contextmenu,setCurrentBlock$$module$build$src$core$contextmenu,show$$module$build$src$core$contextmenu,populate_$$module$build$src$core$contextmenu,position_$$module$build$src$core$contextmenu,createWidget_$$module$build$src$core$contextmenu,haltPropagation$$module$build$src$core$contextmenu,\nhide$$module$build$src$core$contextmenu,dispose$$module$build$src$core$contextmenu,mouseToWorkspacePoint$$module$build$src$core$utils$drag,start$$module$build$src$core$utils$drag,move$$module$build$src$core$utils$drag,workspaceToDom$$module$build$src$core$xml,saveWorkspaceComment$$module$build$src$core$xml,variablesToDom$$module$build$src$core$xml,blockToDomWithXY$$module$build$src$core$xml,fieldToDom$$module$build$src$core$xml,allFieldsToDom$$module$build$src$core$xml,blockToDom$$module$build$src$core$xml,\ncloneShadow$$module$build$src$core$xml,domToText$$module$build$src$core$xml,domToPrettyText$$module$build$src$core$xml,clearWorkspaceAndLoadFromXml$$module$build$src$core$xml,loadWorkspaceComment$$module$build$src$core$xml,appendDomToWorkspace$$module$build$src$core$xml,domToBlockInternal$$module$build$src$core$xml,domToVariables$$module$build$src$core$xml,mapSupportedXmlTags$$module$build$src$core$xml,applyMutationTagNodes$$module$build$src$core$xml,applyCommentTagNodes$$module$build$src$core$xml,\napplyDataTagNodes$$module$build$src$core$xml,applyFieldTagNodes$$module$build$src$core$xml,findChildBlocks$$module$build$src$core$xml,applyInputTagNodes$$module$build$src$core$xml,applyNextTagNodes$$module$build$src$core$xml,domToBlockHeadless$$module$build$src$core$xml,domToField$$module$build$src$core$xml,deleteNext$$module$build$src$core$xml,isElement$$module$build$src$core$xml,register$$module$build$src$core$field_registry,unregister$$module$build$src$core$field_registry,fromJsonInternal$$module$build$src$core$field_registry,\nisImageProperties$$module$build$src$core$field_dropdown,unregister$$module$build$src$core$extensions,isRegistered$$module$build$src$core$extensions,apply$$module$build$src$core$extensions,checkNoMutatorProperties$$module$build$src$core$extensions,checkXmlHooks$$module$build$src$core$extensions,checkJsonHooks$$module$build$src$core$extensions,checkMutatorDialog$$module$build$src$core$extensions,checkHasFunctionPair$$module$build$src$core$extensions,checkHasMutatorProperties$$module$build$src$core$extensions,\ngetMutatorProperties$$module$build$src$core$extensions,mutatorPropertiesMatch$$module$build$src$core$extensions,runAfterPageLoad$$module$build$src$core$extensions,checkDropdownOptionsInTable$$module$build$src$core$extensions,extensionParentTooltip$$module$build$src$core$extensions,point$$module$build$src$core$utils$svg_paths,curve$$module$build$src$core$utils$svg_paths,moveTo$$module$build$src$core$utils$svg_paths,moveBy$$module$build$src$core$utils$svg_paths,lineTo$$module$build$src$core$utils$svg_paths,\nline$$module$build$src$core$utils$svg_paths,lineOnAxis$$module$build$src$core$utils$svg_paths,arc$$module$build$src$core$utils$svg_paths,connectReciprocally$$module$build$src$core$connection,getSingleConnection$$module$build$src$core$connection,getConnectionForOrphanedOutput$$module$build$src$core$connection,isIcon$$module$build$src$core$interfaces$i_icon,isCommentIcon$$module$build$src$core$interfaces$i_comment_icon,disposeUiEffect$$module$build$src$core$block_animations,disposeUiStep$$module$build$src$core$block_animations,\nconnectionUiEffect$$module$build$src$core$block_animations,disconnectUiEffect$$module$build$src$core$block_animations,disconnectUiStep$$module$build$src$core$block_animations,disconnectUiStop$$module$build$src$core$block_animations,moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster,blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster,blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster,bumpObjectIntoBounds$$module$build$src$core$bump_objects,bumpIntoBoundsHandler$$module$build$src$core$bump_objects,\nextractObjectFromEvent$$module$build$src$core$bump_objects,bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects,isDeletable$$module$build$src$core$interfaces$i_deletable,getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy,navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy,navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy,register$$module$build$src$core$icons$registry,unregister$$module$build$src$core$icons$registry,\nisDraggable$$module$build$src$core$interfaces$i_draggable,isAutoHideable$$module$build$src$core$interfaces$i_autohideable,isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block,isObservable$$module$build$src$core$interfaces$i_observable,allProcedures$$module$build$src$core$procedures,procTupleComparator$$module$build$src$core$procedures,isLegalName$$module$build$src$core$procedures,isNameUsed$$module$build$src$core$procedures,xmlFlyoutCategory$$module$build$src$core$procedures,internalFlyoutCategory$$module$build$src$core$procedures,\nflyoutCategory$$module$build$src$core$procedures,updateMutatorFlyout$$module$build$src$core$procedures,mutatorOpenListener$$module$build$src$core$procedures,mutatorChangeListener$$module$build$src$core$procedures,getCallers$$module$build$src$core$procedures,blockIsModernCallerFor$$module$build$src$core$procedures,isDynamicShape$$module$build$src$core$renderers$common$constants,isPuzzleTab$$module$build$src$core$renderers$common$constants,isNotch$$module$build$src$core$renderers$common$constants,register$$module$build$src$core$renderers$common$block_rendering,\nunregister$$module$build$src$core$renderers$common$block_rendering,init$$module$build$src$core$renderers$common$block_rendering,stringButtonClickHandler$$module$build$src$core$variables_dynamic,numberButtonClickHandler$$module$build$src$core$variables_dynamic,colourButtonClickHandler$$module$build$src$core$variables_dynamic,internalFlyoutCategory$$module$build$src$core$variables_dynamic,flyoutCategory$$module$build$src$core$variables_dynamic,xmlFlyoutCategory$$module$build$src$core$variables_dynamic,\nflyoutCategoryBlocks$$module$build$src$core$variables_dynamic,resizeSvgContents$$module$build$src$core$workspace_svg,copy$$module$build$src$core$clipboard,getLastCopiedData$$module$build$src$core$clipboard,setLastCopiedData$$module$build$src$core$clipboard,getLastCopiedWorkspace$$module$build$src$core$clipboard,setLastCopiedWorkspace$$module$build$src$core$clipboard,getLastCopiedLocation$$module$build$src$core$clipboard,setLastCopiedLocation$$module$build$src$core$clipboard,paste$$module$build$src$core$clipboard,\npasteFromData$$module$build$src$core$clipboard,isCopyable$$module$build$src$core$interfaces$i_copyable,registerEscape$$module$build$src$core$shortcut_items,registerDelete$$module$build$src$core$shortcut_items,isCopyable$$module$build$src$core$shortcut_items,isCuttable$$module$build$src$core$shortcut_items,registerCopy$$module$build$src$core$shortcut_items,registerCut$$module$build$src$core$shortcut_items,registerPaste$$module$build$src$core$shortcut_items,registerUndo$$module$build$src$core$shortcut_items,\nregisterRedo$$module$build$src$core$shortcut_items,registerDefaultShortcuts$$module$build$src$core$shortcut_items,saveProcedure$$module$build$src$core$serialization$procedures,loadProcedure$$module$build$src$core$serialization$procedures,save$$module$build$src$core$serialization$workspaces,load$$module$build$src$core$serialization$workspaces,inject$$module$build$src$core$inject,createDom$$module$build$src$core$inject,createMainWorkspace$$module$build$src$core$inject,init$$module$build$src$core$inject,\nbindDocumentEvents$$module$build$src$core$inject,loadSounds$$module$build$src$core$inject,isFullBlockField$$module$build$src$core$contextmenu_items,registerUndo$$module$build$src$core$contextmenu_items,registerRedo$$module$build$src$core$contextmenu_items,registerCleanup$$module$build$src$core$contextmenu_items,toggleOption_$$module$build$src$core$contextmenu_items,registerCollapse$$module$build$src$core$contextmenu_items,registerExpand$$module$build$src$core$contextmenu_items,addDeletableBlocks_$$module$build$src$core$contextmenu_items,\ngetDeletableBlocks_$$module$build$src$core$contextmenu_items,deleteNext_$$module$build$src$core$contextmenu_items,registerDeleteAll$$module$build$src$core$contextmenu_items,registerWorkspaceOptions_$$module$build$src$core$contextmenu_items,registerDuplicate$$module$build$src$core$contextmenu_items,registerComment$$module$build$src$core$contextmenu_items,registerInline$$module$build$src$core$contextmenu_items,registerCollapseExpandBlock$$module$build$src$core$contextmenu_items,registerDisable$$module$build$src$core$contextmenu_items,\nregisterDelete$$module$build$src$core$contextmenu_items,registerHelp$$module$build$src$core$contextmenu_items,registerCommentDelete$$module$build$src$core$contextmenu_items,registerCommentDuplicate$$module$build$src$core$contextmenu_items,registerCommentCreate$$module$build$src$core$contextmenu_items,registerBlockOptions_$$module$build$src$core$contextmenu_items,registerCommentOptions$$module$build$src$core$contextmenu_items,registerDefaultOptions$$module$build$src$core$contextmenu_items,isPaster$$module$build$src$core$interfaces$i_paster,\nisRenderedElement$$module$build$src$core$interfaces$i_rendered_element,isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item,hideChaff$$module$build$src$core$blockly,isFocusableTree$$module$build$src$core$interfaces$i_focusable_tree,$jscomp;\nregister$$module$build$src$core$registry=function(a,b,c,d){if(!(a instanceof Type$$module$build$src$core$registry)&&typeof a!==\"string\"||`${a}`.trim()===\"\")throw Error('Invalid type \"'+a+'\". The type must be a non-empty string or a Blockly.registry.Type.');a=`${a}`.toLowerCase();if(typeof b!==\"string\"||b.trim()===\"\")throw Error('Invalid name \"'+b+'\". The name must be a non-empty string.');const e=b.toLowerCase();if(!c)throw Error(\"Can not register a null value\");let f=typeMap$$module$build$src$core$registry[a],\ng=nameMap$$module$build$src$core$registry[a];f||(f=typeMap$$module$build$src$core$registry[a]=Object.create(null),g=nameMap$$module$build$src$core$registry[a]=Object.create(null));validate$$module$build$src$core$registry(a,c);if(!d&&f[e]&&f[e]!==c)throw Error('Name \"'+e+'\" with type \"'+a+'\" already registered.');f[e]=c;g[e]=b};\nvalidate$$module$build$src$core$registry=function(a,b){switch(a){case String(Type$$module$build$src$core$registry.FIELD):if(typeof b.fromJson!==\"function\")throw Error('Type \"'+a+'\" must have a fromJson function');}};\nunregister$$module$build$src$core$registry=function(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();const c=typeMap$$module$build$src$core$registry[a];c&&c[b]?(delete typeMap$$module$build$src$core$registry[a][b],delete nameMap$$module$build$src$core$registry[a][b]):console.warn(\"Unable to unregister [\"+b+\"][\"+a+\"] from the registry.\")};\ngetItem$$module$build$src$core$registry=function(a,b,c){a=`${a}`.toLowerCase();b=b.toLowerCase();const d=typeMap$$module$build$src$core$registry[a];if(!d||!d[b]){b=\"Unable to find [\"+b+\"][\"+a+\"] in the registry.\";if(c)throw Error(b+\" You must require or register a \"+a+\" plugin.\");console.warn(b);return null}return d[b]};hasItem$$module$build$src$core$registry=function(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();return(a=typeMap$$module$build$src$core$registry[a])?!!a[b]:!1};\ngetClass$$module$build$src$core$registry=function(a,b,c){return getItem$$module$build$src$core$registry(a,b,c)};getObject$$module$build$src$core$registry=function(a,b,c){return getItem$$module$build$src$core$registry(a,b,c)};\ngetAllItems$$module$build$src$core$registry=function(a,b,c){a=`${a}`.toLowerCase();var d=typeMap$$module$build$src$core$registry[a];if(!d){d=`Unable to find [${a}] in the registry.`;if(c)throw Error(`${d} You must require or register a ${a} plugin.`);console.warn(d);return null}if(!b)return d;a=nameMap$$module$build$src$core$registry[a];c=Object.create(null);for(const e of Object.keys(d))c[a[e]]=d[e];return c};\ngetClassFromOptions$$module$build$src$core$registry=function(a,b,c){b=b.plugins[String(a)]||DEFAULT$$module$build$src$core$registry;return typeof b===\"function\"?b:getClass$$module$build$src$core$registry(a,b,c)};longStart$$module$build$src$core$touch=function(a,b){longStop$$module$build$src$core$touch();longPid_$$module$build$src$core$touch=setTimeout(function(){b&&b.handleRightClick(a)},LONGPRESS$$module$build$src$core$touch)};\nlongStop$$module$build$src$core$touch=function(){longPid_$$module$build$src$core$touch&&(clearTimeout(longPid_$$module$build$src$core$touch),longPid_$$module$build$src$core$touch=0)};clearTouchIdentifier$$module$build$src$core$touch=function(){touchIdentifier_$$module$build$src$core$touch=null};shouldHandleEvent$$module$build$src$core$touch=function(a){return!a.type.startsWith(\"pointer\")||a instanceof PointerEvent&&checkTouchIdentifier$$module$build$src$core$touch(a)};\ngetTouchIdentifierFromEvent$$module$build$src$core$touch=function(a){return`${a.pointerId}`};checkTouchIdentifier$$module$build$src$core$touch=function(a){const b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);return touchIdentifier_$$module$build$src$core$touch?touchIdentifier_$$module$build$src$core$touch===b:a.type===\"pointerdown\"?(touchIdentifier_$$module$build$src$core$touch=b,!0):!1};\nconditionalBind$$module$build$src$core$browser_events=function(a,b,c,d,e){function f(h){if(e||shouldHandleEvent$$module$build$src$core$touch(h))c?d.call(c,h):d(h)}const g=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(let h=0;h<TOUCH_MAP$$module$build$src$core$touch[b].length;h++){const k=TOUCH_MAP$$module$build$src$core$touch[b][h];a.addEventListener(k,f,!1);g.push([a,k,f])}else a.addEventListener(b,f,!1),g.push([a,b,f]);return g};\nbind$$module$build$src$core$browser_events=function(a,b,c,d){function e(g){c?d.call(c,g):d(g)}const f=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(let g=0;g<TOUCH_MAP$$module$build$src$core$touch[b].length;g++){const h=TOUCH_MAP$$module$build$src$core$touch[b][g];a.addEventListener(h,e,!1);f.push([a,h,e])}else a.addEventListener(b,e,!1),f.push([a,b,e]);return f};\nunbind$$module$build$src$core$browser_events=function(a){const b=a[a.length-1][2];for(;a.length;){const [c,d,e]=a.pop();c.removeEventListener(d,e,!1)}return b};\nisTargetInput$$module$build$src$core$browser_events=function(a){if(a.target instanceof HTMLElement){if(a.target.isContentEditable||a.target.getAttribute(\"data-is-text-input\")===\"true\")return!0;if(a.target instanceof HTMLInputElement)return a=a.target,a.type===\"text\"||a.type===\"number\"||a.type===\"email\"||a.type===\"password\"||a.type===\"search\"||a.type===\"tel\"||a.type===\"url\";if(a.target instanceof HTMLTextAreaElement)return!0}return!1};\nisRightButton$$module$build$src$core$browser_events=function(a){return a.ctrlKey&&MAC$$module$build$src$core$utils$useragent?!0:a.button===2};mouseToSvg$$module$build$src$core$browser_events=function(a,b,c){const d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};\ngetScrollDeltaPixels$$module$build$src$core$browser_events=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events};case 2:return{x:a.deltaX*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events}}};\ngetNextUniqueId$$module$build$src$core$utils$idgenerator=function(){return\"blockly-\"+(nextId$$module$build$src$core$utils$idgenerator++).toString(36)};genUid$$module$build$src$core$utils$idgenerator=function(){return internal$$module$build$src$core$utils$idgenerator.genUid()};isBlockCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_CREATE};\nisBlockDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_DELETE};isBlockChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_CHANGE};isBlockFieldIntermediateChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE};\nisBlockMove$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_MOVE};isVarCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_CREATE};isVarDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_DELETE};isVarRename$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_RENAME};\nisBlockDrag$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_DRAG};isSelected$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.SELECTED};isClick$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.CLICK};isBubbleOpen$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BUBBLE_OPEN};\nisTrashcanOpen$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.TRASHCAN_OPEN};isToolboxItemSelect$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT};isThemeChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.THEME_CHANGE};\nisViewportChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE};isCommentCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_CREATE};isCommentDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_DELETE};\nisCommentChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_CHANGE};isCommentMove$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_MOVE};isCommentResize$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_RESIZE};\nisCommentDrag$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_DRAG};isCommentCollapse$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE};isFinishedLoading$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.FINISHED_LOADING};\n$.setRecordUndo$$module$build$src$core$events$utils=function(a){recordUndo$$module$build$src$core$events$utils=a};getRecordUndo$$module$build$src$core$events$utils=function(){return recordUndo$$module$build$src$core$events$utils};fire$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.fireInternal(a)};\nfireInternal$$module$build$src$core$events$utils=function(a){if(isEnabled$$module$build$src$core$events$utils()){if(!FIRE_QUEUE$$module$build$src$core$events$utils.length)try{requestAnimationFrame(()=>{setTimeout(fireNow$$module$build$src$core$events$utils,0)})}catch(b){setTimeout(fireNow$$module$build$src$core$events$utils,0)}enqueueEvent$$module$build$src$core$events$utils(a)}};\nfireNow$$module$build$src$core$events$utils=function(){const a=filter$$module$build$src$core$events$utils(FIRE_QUEUE$$module$build$src$core$events$utils);FIRE_QUEUE$$module$build$src$core$events$utils.length=0;for(const b of a){if(!b.workspaceId)continue;let c;(c=getWorkspaceById$$module$build$src$core$common(b.workspaceId))==null||c.fireChangeListener(b)}};\nenqueueEvent$$module$build$src$core$events$utils=function(a){if(isBlockChange$$module$build$src$core$events$predicates(a)&&a.element===\"mutation\"){let b;for(b=FIRE_QUEUE$$module$build$src$core$events$utils.length;b>0;b--){const c=FIRE_QUEUE$$module$build$src$core$events$utils[b-1];if(c.group!==a.group||c.workspaceId!==a.workspaceId||!isBlockMove$$module$build$src$core$events$predicates(c)||c.newParentId!==a.blockId)break}FIRE_QUEUE$$module$build$src$core$events$utils.splice(b,0,a)}else FIRE_QUEUE$$module$build$src$core$events$utils.push(a)};\nfilter$$module$build$src$core$events$utils=function(a){const b=[];for(const c of a)if(a=b[b.length-1],!c.isNull())if(a&&a.workspaceId===c.workspaceId&&a.group===c.group)if(isBlockMove$$module$build$src$core$events$predicates(c)&&isBlockMove$$module$build$src$core$events$predicates(a)&&c.blockId===a.blockId){if(a.newParentId=c.newParentId,a.newInputName=c.newInputName,a.newCoordinate=c.newCoordinate,a.reason||c.reason){let d,e;a.reason=Array.from(new Set(((d=a.reason)!=null?d:[]).concat((e=c.reason)!=\nnull?e:[])))}}else isBlockChange$$module$build$src$core$events$predicates(c)&&isBlockChange$$module$build$src$core$events$predicates(a)&&c.blockId===a.blockId&&c.element===a.element&&c.name===a.name?a.newValue=c.newValue:isViewportChange$$module$build$src$core$events$predicates(c)&&isViewportChange$$module$build$src$core$events$predicates(a)?(a.viewTop=c.viewTop,a.viewLeft=c.viewLeft,a.scale=c.scale,a.oldScale=c.oldScale):isClick$$module$build$src$core$events$predicates(c)&&isBubbleOpen$$module$build$src$core$events$predicates(a)||\nb.push(c);else b.push(c);return a=b.filter(c=>!c.isNull())};clearPendingUndo$$module$build$src$core$events$utils=function(){for(let a=0,b;b=FIRE_QUEUE$$module$build$src$core$events$utils[a];a++)b.recordUndo=!1};$.disable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils++};$.enable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils--};\nisEnabled$$module$build$src$core$events$utils=function(){return disabled$$module$build$src$core$events$utils===0};$.getGroup$$module$build$src$core$events$utils=function(){return group$$module$build$src$core$events$utils};$.setGroup$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.setGroupInternal(a)};\nsetGroupInternal$$module$build$src$core$events$utils=function(a){group$$module$build$src$core$events$utils=typeof a===\"boolean\"?a?genUid$$module$build$src$core$utils$idgenerator():\"\":a};getDescendantIds$$module$build$src$core$events$utils=function(a){const b=[];a=a.getDescendants(!1);for(let c=0,d;d=a[c];c++)b[c]=d.id;return b};\nfromJson$$module$build$src$core$events$utils=function(a,b){const c=get$$module$build$src$core$events$utils(a.type);if(!c)throw Error(\"Unknown event type.\");return c.fromJson(a,b)};get$$module$build$src$core$events$utils=function(a){const b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,a);if(!b)throw Error(`Event type ${a} not found in registry.`);return b};\ndisableOrphans$$module$build$src$core$events$utils=function(a){if((isBlockMove$$module$build$src$core$events$predicates(a)||isBlockCreate$$module$build$src$core$events$predicates(a))&&a.workspaceId){var b=getWorkspaceById$$module$build$src$core$common(a.workspaceId);if(!a.blockId)throw Error(\"Encountered a blockEvent without a proper blockId\");if(a=b.getBlockById(a.blockId)){const c=recordUndo$$module$build$src$core$events$utils;try{recordUndo$$module$build$src$core$events$utils=!1;const d=a.getParent();\nif(d&&!d.hasDisabledReason(ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils)){const e=a.getDescendants(!1);for(let f=0,g;g=e[f];f++)g.setDisabledReason(!1,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils)}else if((a.outputConnection||a.previousConnection)&&!b.isDragging()){do a.setDisabledReason(!0,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils),a=a.getNextBlock();while(a)}}finally{recordUndo$$module$build$src$core$events$utils=c}}}};\ncreateSvgElement$$module$build$src$core$utils$dom=function(a,b,c){a=document.createElementNS(SVG_NS$$module$build$src$core$utils$dom,`${a}`);for(const d in b)a.setAttribute(d,`${b[d]}`);c&&c.appendChild(a);return a};addClass$$module$build$src$core$utils$dom=function(a,b){b=b.split(\" \");if(b.every(c=>a.classList.contains(c)))return!1;a.classList.add(...b);return!0};removeClasses$$module$build$src$core$utils$dom=function(a,b){a.classList.remove(...b.split(\" \"))};\nremoveClass$$module$build$src$core$utils$dom=function(a,b){b=b.split(\" \");if(b.every(c=>!a.classList.contains(c)))return!1;a.classList.remove(...b);return!0};hasClass$$module$build$src$core$utils$dom=function(a,b){return a.classList.contains(b)};removeNode$$module$build$src$core$utils$dom=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};\ninsertAfter$$module$build$src$core$utils$dom=function(a,b){const c=b.nextSibling;b=b.parentNode;if(!b)throw Error(\"Reference node has no parent.\");c?b.insertBefore(a,c):b.appendChild(a)};setCssTransform$$module$build$src$core$utils$dom=function(a,b){a.style.transform=b;a.style[\"-webkit-transform\"]=b};\nstartTextWidthCache$$module$build$src$core$utils$dom=function(){cacheReference$$module$build$src$core$utils$dom++;cacheWidths$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=Object.create(null))};stopTextWidthCache$$module$build$src$core$utils$dom=function(){cacheReference$$module$build$src$core$utils$dom--;cacheReference$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=null)};\ngetTextWidth$$module$build$src$core$utils$dom=function(a){const b=a.textContent+\"\\n\"+a.className.baseVal;var c;if(cacheWidths$$module$build$src$core$utils$dom&&(c=cacheWidths$$module$build$src$core$utils$dom[b]))return c;c=window.getComputedStyle(a);c=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,c.fontSize,c.fontWeight,c.fontFamily);cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[b]=c);return c};\ngetFastTextWidth$$module$build$src$core$utils$dom=function(a,b,c,d){return getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,b+\"pt\",c,d)};\ngetFastTextWidthWithSizeString$$module$build$src$core$utils$dom=function(a,b,c,d){const e=a.textContent;a=e+\"\\n\"+a.className.baseVal;var f;if(cacheWidths$$module$build$src$core$utils$dom&&(f=cacheWidths$$module$build$src$core$utils$dom[a]))return f;canvasContext$$module$build$src$core$utils$dom||(f=document.createElement(\"canvas\"),f.className=\"blocklyComputeCanvas\",document.body.appendChild(f),canvasContext$$module$build$src$core$utils$dom=f.getContext(\"2d\"));e&&canvasContext$$module$build$src$core$utils$dom?\n(canvasContext$$module$build$src$core$utils$dom.font=c+\" \"+b+\" \"+d,f=canvasContext$$module$build$src$core$utils$dom.measureText(e).width):f=0;cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[a]=f);return f};\nmeasureFontMetrics$$module$build$src$core$utils$dom=function(a,b,c,d){const e=document.createElement(\"span\");e.style.font=c+\" \"+b+\" \"+d;e.textContent=a;a=document.createElement(\"div\");a.style.width=\"1px\";a.style.height=\"0\";b=document.createElement(\"div\");b.style.display=\"flex\";b.style.position=\"fixed\";b.style.top=\"0\";b.style.left=\"0\";b.appendChild(e);b.appendChild(a);document.body.appendChild(b);c={height:0,baseline:0};try{b.style.alignItems=\"baseline\",c.baseline=a.offsetTop-e.offsetTop,b.style.alignItems=\n\"flex-end\",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c};$.getFocusManager$$module$build$src$core$focus_manager=function(){return FocusManager$$module$build$src$core$focus_manager.getFocusManager()};isFocusableNode$$module$build$src$core$interfaces$i_focusable_node=function(a){return a&&typeof a.getFocusableElement===\"function\"&&typeof a.getFocusableTree===\"function\"&&typeof a.onNodeFocus===\"function\"&&typeof a.onNodeBlur===\"function\"&&typeof a.canBeFocused===\"function\"};\nisSelectable$$module$build$src$core$interfaces$i_selectable=function(a){return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(a)&&typeof a.id===\"string\"&&typeof a.workspace===\"object\"&&typeof a.select===\"function\"&&typeof a.unselect===\"function\"};\ndeepMerge$$module$build$src$core$utils$object=function(a,b){for(const c in b)b[c]!==null&&Array.isArray(b[c])?a[c]=deepMerge$$module$build$src$core$utils$object(a[c]||[],b[c]):a[c]=b[c]!==null&&typeof b[c]===\"object\"?deepMerge$$module$build$src$core$utils$object(a[c]||Object.create(null),b[c]):b[c];return a};getWorkspaceById$$module$build$src$core$common=function(a){return WorkspaceDB_$$module$build$src$core$common[a]||null};\ngetAllWorkspaces$$module$build$src$core$common=function(){const a=[];for(const b in WorkspaceDB_$$module$build$src$core$common)a.push(WorkspaceDB_$$module$build$src$core$common[b]);return a};registerWorkspace$$module$build$src$core$common=function(a){WorkspaceDB_$$module$build$src$core$common[a.id]=a};unregisterWorkpace$$module$build$src$core$common=function(a){delete WorkspaceDB_$$module$build$src$core$common[a.id]};getMainWorkspace$$module$build$src$core$common=function(){return mainWorkspace$$module$build$src$core$common};\nsetMainWorkspace$$module$build$src$core$common=function(a){mainWorkspace$$module$build$src$core$common=a};getSelected$$module$build$src$core$common=function(){const a=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return a&&isSelectable$$module$build$src$core$interfaces$i_selectable(a)?a:null};setSelected$$module$build$src$core$common=function(a){$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)};\nfireSelectedEvent$$module$build$src$core$common=function(a){const b=getSelected$$module$build$src$core$common();let c,d,e,f;const g=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.SELECTED))((c=b==null?void 0:b.id)!=null?c:null,(d=a==null?void 0:a.id)!=null?d:null,(f=(e=a==null?void 0:a.workspace.id)!=null?e:b==null?void 0:b.workspace.id)!=null?f:\"\");fire$$module$build$src$core$events$utils(g)};getParentContainer$$module$build$src$core$common=function(){return parentContainer$$module$build$src$core$common};\nsetParentContainer$$module$build$src$core$common=function(a){parentContainer$$module$build$src$core$common=a};\nsvgResize$$module$build$src$core$common=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;const b=a.getParentSvg(),c=a.getCachedParentSvgSize();var d=b.parentElement;if(d instanceof HTMLElement){var e=d.offsetWidth;d=d.offsetHeight;c.width!==e&&(b.setAttribute(\"width\",e+\"px\"),a.setCachedParentSvgSize(e,null));c.height!==d&&(b.setAttribute(\"height\",d+\"px\"),a.setCachedParentSvgSize(null,d));a.resize()}};\ngetBlockTypeCounts$$module$build$src$core$common=function(a,b){const c=Object.create(null),d=a.getDescendants(!0);b&&(a=a.getNextBlock())&&(a=d.indexOf(a),d.splice(a,d.length-a));for(let e=0,f;f=d[e];e++)c[f.type]?c[f.type]++:c[f.type]=1;return c};jsonInitFactory$$module$build$src$core$common=function(a){return function(){this.jsonInit(a)}};defineBlocksWithJsonArray$$module$build$src$core$common=function(a){TEST_ONLY$$module$build$src$core$common.defineBlocksWithJsonArrayInternal(a)};\ndefineBlocksWithJsonArrayInternal$$module$build$src$core$common=function(a){$.defineBlocks$$module$build$src$core$common($.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(a))};\n$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(a){const b={};for(let c=0;c<a.length;c++){const d=a[c];if(!d){console.warn(`Block definition #${c} in JSON array is ${d}. Skipping`);continue}const e=d.type;e?b[e]={init:jsonInitFactory$$module$build$src$core$common(d)}:console.warn(`Block definition #${c} in JSON array is missing a type attribute. `+\"Skipping.\")}return b};\n$.defineBlocks$$module$build$src$core$common=function(a){for(const b of Object.keys(a)){const c=a[b];b in Blocks$$module$build$src$core$blocks&&console.warn(`Block definition \"${b}\" overwrites previous definition.`);Blocks$$module$build$src$core$blocks[b]=c}};\nglobalShortcutHandler$$module$build$src$core$common=function(a){let b=getMainWorkspace$$module$build$src$core$common();const c=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const d of getAllWorkspaces$$module$build$src$core$common())if(c===d){b=d;break}if(!isTargetInput$$module$build$src$core$browser_events(a)&&b&&(!b.rendered||b.isFlyout||b.isVisible()))ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.onKeyDown(b,a)};\nremoveElem$$module$build$src$core$utils$array=function(a,b){b=a.indexOf(b);if(b===-1)return!1;a.splice(b,1);return!0};register$$module$build$src$core$css=function(a){if(injected$$module$build$src$core$css)throw Error(\"CSS already injected\");content$$module$build$src$core$css+=\"\\n\"+a};\ninject$$module$build$src$core$css=function(a,b){injected$$module$build$src$core$css||(injected$$module$build$src$core$css=!0,a&&(a=b.replace(/[\\\\/]$/,\"\"),b=content$$module$build$src$core$css.replace(/<<<PATH>>>/g,a),content$$module$build$src$core$css=\"\",a=document.createElement(\"style\"),a.id=\"blockly-common-style\",b=document.createTextNode(b),a.appendChild(b),document.head.insertBefore(a,document.head.firstChild)))};getSize$$module$build$src$core$utils$style=function(a){return TEST_ONLY$$module$build$src$core$utils$style.getSizeInternal(a)};\ngetSizeInternal$$module$build$src$core$utils$style=function(a){if(getComputedStyle$$module$build$src$core$utils$style(a,\"display\")!==\"none\")return getSizeWithDisplay$$module$build$src$core$utils$style(a);const b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility=\"hidden\";b.position=\"absolute\";b.display=\"inline\";const f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Size$$module$build$src$core$utils$size(f,a)};\ngetSizeWithDisplay$$module$build$src$core$utils$style=function(a){return new Size$$module$build$src$core$utils$size(a.offsetWidth,a.offsetHeight)};getComputedStyle$$module$build$src$core$utils$style=function(a,b){a=window.getComputedStyle(a);return a[b]||a.getPropertyValue(b)};\ngetPageOffset$$module$build$src$core$utils$style=function(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new Coordinate$$module$build$src$core$utils$coordinate(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};\ngetViewportPageOffset$$module$build$src$core$utils$style=function(){const a=document.body,b=document.documentElement;return new Coordinate$$module$build$src$core$utils$coordinate(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};\ngetBorderBox$$module$build$src$core$utils$style=function(a){const b=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderLeftWidth\")),c=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderRightWidth\")),d=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderTopWidth\"));a=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderBottomWidth\"));return new Rect$$module$build$src$core$utils$rect(d,a,b,c)};\nscrollIntoContainerView$$module$build$src$core$utils$style=function(a,b,c){a=getContainerOffsetToScrollInto$$module$build$src$core$utils$style(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};\ngetContainerOffsetToScrollInto$$module$build$src$core$utils$style=function(a,b,c){var d=getPageOffset$$module$build$src$core$utils$style(a),e=getPageOffset$$module$build$src$core$utils$style(b),f=getBorderBox$$module$build$src$core$utils$style(b);const g=d.x-e.x-f.left;d=d.y-e.y-f.top;e=getSizeWithDisplay$$module$build$src$core$utils$style(a);a=b.clientWidth-e.width;e=b.clientHeight-e.height;f=b.scrollLeft;b=b.scrollTop;c?(f+=g-a/2,b+=d-e/2):(f+=Math.min(g,Math.max(g-a,0)),b+=Math.min(d,Math.max(d-\ne,0)));return new Coordinate$$module$build$src$core$utils$coordinate(f,b)};\ngetRelativeXY$$module$build$src$core$utils$svg_math=function(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);var c=a.x&&a.getAttribute(\"x\");const d=a.y&&a.getAttribute(\"y\");c&&(b.x=parseInt(c));d&&(b.y=parseInt(d));if(c=(c=a.getAttribute(\"transform\"))&&c.match(XY_REGEX$$module$build$src$core$utils$svg_math))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute(\"style\"))&&a.includes(\"translate\")&&(a=a.match(XY_STYLE_REGEX$$module$build$src$core$utils$svg_math))&&(b.x+=\nNumber(a[1]),a[3]&&(b.y+=Number(a[3])));return b};getInjectionDivXY$$module$build$src$core$utils$svg_math=function(a){let b=0,c=0;for(;a;){const d=getRelativeXY$$module$build$src$core$utils$svg_math(a);b+=d.x;c+=d.y;if((\" \"+(a.getAttribute(\"class\")||\"\")+\" \").includes(\" injectionDiv \"))break;a=a.parentNode}return new Coordinate$$module$build$src$core$utils$coordinate(b,c)};\ngetViewportBBox$$module$build$src$core$utils$svg_math=function(){const a=getViewportPageOffset$$module$build$src$core$utils$style();return new Rect$$module$build$src$core$utils$rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};getDocumentScroll$$module$build$src$core$utils$svg_math=function(){const a=document.documentElement,b=window;return new Coordinate$$module$build$src$core$utils$coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};\nscreenToWsCoordinates$$module$build$src$core$utils$svg_math=function(a,b){var c=b.x;b=b.y;const d=a.getInjectionDiv().getBoundingClientRect();c=new Coordinate$$module$build$src$core$utils$coordinate(c-d.left,b-d.top);b=a.getOriginOffsetInPixels();return Coordinate$$module$build$src$core$utils$coordinate.difference(c,b).scale(1/a.scale)};\nwsToScreenCoordinates$$module$build$src$core$utils$svg_math=function(a,b){var c=b.scale(a.scale);b=c.x;c=c.y;const d=a.getInjectionDiv().getBoundingClientRect();a=a.getOriginOffsetInPixels();return new Coordinate$$module$build$src$core$utils$coordinate(b+d.left+a.x,c+d.top+a.y)};\ninjectDependencies$$module$build$src$core$utils$xml=function(a){({document:document$$module$build$src$core$utils$xml=document$$module$build$src$core$utils$xml,DOMParser:DOMParser$$module$build$src$core$utils$xml=DOMParser$$module$build$src$core$utils$xml,XMLSerializer:XMLSerializer$$module$build$src$core$utils$xml=XMLSerializer$$module$build$src$core$utils$xml}=a);domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml;xmlSerializer$$module$build$src$core$utils$xml=\nnew XMLSerializer$$module$build$src$core$utils$xml};$.createElement$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createElementNS(NAME_SPACE$$module$build$src$core$utils$xml,a)};$.createTextNode$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createTextNode(a)};\n$.textToDom$$module$build$src$core$utils$xml=function(a){let b=domParser$$module$build$src$core$utils$xml.parseFromString(a,\"text/xml\");if(b&&b.documentElement&&!b.getElementsByTagName(\"parsererror\").length)return b.documentElement;if((b=domParser$$module$build$src$core$utils$xml.parseFromString(a,\"text/html\"))&&b.body.firstChild&&b.body.firstChild.nodeName.toLowerCase()===\"xml\")return b.body.firstChild;throw Error(`DOMParser was unable to parse: ${a}`);};\ndomToText$$module$build$src$core$utils$xml=function(a){return sanitizeText$$module$build$src$core$utils$xml(xmlSerializer$$module$build$src$core$utils$xml.serializeToString(a))};sanitizeText$$module$build$src$core$utils$xml=function(a){return a.replace(INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml,b=>`&#${b.charCodeAt(0)};`)};\nconvertToolboxDefToJson$$module$build$src$core$utils$toolbox=function(a){if(!a)return null;if(a instanceof Element||typeof a===\"string\")a=parseToolboxTree$$module$build$src$core$utils$toolbox(a),a=convertToToolboxJson$$module$build$src$core$utils$toolbox(a);validateToolbox$$module$build$src$core$utils$toolbox(a);return a};\nvalidateToolbox$$module$build$src$core$utils$toolbox=function(a){const b=a.kind;a=a.contents;if(b&&b!==FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox&&b!==CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox)throw Error(\"Invalid toolbox kind \"+b+\". Please supply either \"+FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox+\" or \"+CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox);if(!a)throw Error(\"Toolbox must have a contents attribute.\");};\nconvertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox=function(a){return a?a.contents?a.contents:Array.isArray(a)&&a.length>0&&!a[0].nodeType?a:xmlToJsonArray$$module$build$src$core$utils$toolbox(a):[]};hasCategories$$module$build$src$core$utils$toolbox=function(a){return TEST_ONLY$$module$build$src$core$utils$toolbox.hasCategoriesInternal(a)};\nhasCategoriesInternal$$module$build$src$core$utils$toolbox=function(a){if(!a)return!1;const b=a.kind;return b?b===CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox:!!a.contents.filter(c=>c.kind.toUpperCase()===\"CATEGORY\").length};isCategoryCollapsible$$module$build$src$core$utils$toolbox=function(a){return a&&a.contents?!!a.contents.filter(function(b){return b.kind.toUpperCase()===\"CATEGORY\"}).length:!1};\nconvertToToolboxJson$$module$build$src$core$utils$toolbox=function(a){const b={contents:xmlToJsonArray$$module$build$src$core$utils$toolbox(a)};a instanceof Node&&addAttributes$$module$build$src$core$utils$toolbox(a,b);return b};\nxmlToJsonArray$$module$build$src$core$utils$toolbox=function(a){const b=[];let c=a.childNodes;c||(c=a);for(let d=0,e;e=c[d];d++){if(!e.tagName)continue;a={};const f=e.tagName.toUpperCase();a.kind=f;f===\"BLOCK\"?a.blockxml=e:e.childNodes&&e.childNodes.length>0&&(a.contents=xmlToJsonArray$$module$build$src$core$utils$toolbox(e));addAttributes$$module$build$src$core$utils$toolbox(e,a);b.push(a)}return b};\naddAttributes$$module$build$src$core$utils$toolbox=function(a,b){for(let c=0;c<a.attributes.length;c++){const d=a.attributes[c];d.nodeName.includes(\"css-\")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace(\"css-\",\"\")]=d.value):b[d.nodeName]=d.value}};\nparseToolboxTree$$module$build$src$core$utils$toolbox=function(a){let b=null;if(a)if(typeof a===\"string\"){if(b=$.textToDom$$module$build$src$core$utils$xml(a),b.nodeName.toLowerCase()!==\"xml\")throw TypeError(\"Toolbox should be an <xml> document.\");}else a instanceof Element&&(b=a);return b};\ngetStartPositionRect$$module$build$src$core$positionable_helpers=function(a,b,c,d,e,f){const g=f.scrollbar&&f.scrollbar.canScrollVertically();a.horizontal===horizontalPosition$$module$build$src$core$positionable_helpers.LEFT?(c=e.absoluteMetrics.left+c,g&&f.RTL&&(c+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness)):(c=e.absoluteMetrics.left+e.viewMetrics.width-b.width-c,g&&!f.RTL&&(c-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));a.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?\na=e.absoluteMetrics.top+d:(a=e.absoluteMetrics.top+e.viewMetrics.height-b.height-d,f.scrollbar&&f.scrollbar.canScrollHorizontally()&&(a-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));return new Rect$$module$build$src$core$utils$rect(a,a+b.height,c,c+b.width)};\ngetCornerOppositeToolbox$$module$build$src$core$positionable_helpers=function(a,b){return{horizontal:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.LEFT||a.horizontalLayout&&!a.RTL?horizontalPosition$$module$build$src$core$positionable_helpers.RIGHT:horizontalPosition$$module$build$src$core$positionable_helpers.LEFT,vertical:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.BOTTOM?verticalPosition$$module$build$src$core$positionable_helpers.TOP:verticalPosition$$module$build$src$core$positionable_helpers.BOTTOM}};\nbumpPositionRect$$module$build$src$core$positionable_helpers=function(a,b,c,d){const e=a.left,f=a.right-a.left,g=a.bottom-a.top;for(let h=0;h<d.length;h++){const k=d[h];a.intersects(k)&&(a=c===bumpDirection$$module$build$src$core$positionable_helpers.UP?k.top-g-b:k.bottom+b,a=new Rect$$module$build$src$core$utils$rect(a,a+g,e,e+f),h=-1)}return a};\nregister$$module$build$src$core$serialization$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a,b)};unregister$$module$build$src$core$serialization$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a)};\nsave$$module$build$src$core$serialization$workspace_comments=function(a,{addCoordinates:b=!1,saveIds:c=!0}={}){const d=a.workspace,e=Object.create(null);e.height=a.getSize().height;e.width=a.getSize().width;c&&(e.id=a.id);b&&(b=a.getRelativeToSurfaceXY(),e.x=d.RTL?d.getWidth()-b.x:b.x,e.y=b.y);a.getText()&&(e.text=a.getText());a.isCollapsed()&&(e.collapsed=!0);a.isOwnEditable()||(e.editable=!1);a.isOwnMovable()||(e.movable=!1);a.isOwnDeletable()||(e.deletable=!1);return e};\nappend$$module$build$src$core$serialization$workspace_comments=function(a,b,{recordUndo:c=!1}={}){const d=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(c);c=b.newComment(a.id);a.text!==void 0&&c.setText(a.text);if(a.x!==void 0||a.y!==void 0){const f=c.getRelativeToSurfaceXY();let g,h=(g=a.x)!=null?g:f.x;h=b.RTL?b.getWidth()-h:h;var e;b=(e=a.y)!=null?e:f.y;c.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(h,b))}if(a.width!==void 0||\na.height){e=c.getSize();let f,g;c.setSize(new Size$$module$build$src$core$utils$size((f=a.width)!=null?f:e.width,(g=a.height)!=null?g:e.height))}a.collapsed!==void 0&&c.setCollapsed(a.collapsed);a.editable!==void 0&&c.setEditable(a.editable);a.movable!==void 0&&c.setMovable(a.movable);a.deletable!==void 0&&c.setDeletable(a.deletable);$.setRecordUndo$$module$build$src$core$events$utils(d);return c};\nregister$$module$build$src$core$clipboard$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a,b)};unregister$$module$build$src$core$clipboard$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a)};\nmoveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster=function(a){const b=a.workspace,c=a.getRelativeToSurfaceXY(),d=new Coordinate$$module$build$src$core$utils$coordinate(0,0),e=b.getTopComments(!1).filter(f=>f.id!==a.id).map(f=>f.getRelativeToSurfaceXY());for(;commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(c,d),e);)d.translate(b.RTL?-30:30,30);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(c,\nd))};commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster=function(a,b){return b.some(c=>Math.abs(c.x-a.x)<=1&&Math.abs(c.y-a.y)<=1)};setRole$$module$build$src$core$utils$aria=function(a,b){a.setAttribute(ROLE_ATTRIBUTE$$module$build$src$core$utils$aria,b)};setState$$module$build$src$core$utils$aria=function(a,b,c){Array.isArray(c)&&(c=c.join(\" \"));a.setAttribute(ARIA_PREFIX$$module$build$src$core$utils$aria+b,`${c}`)};\nisSerializable$$module$build$src$core$interfaces$i_serializable=function(a){return a&&typeof a.saveState===\"function\"&&typeof a.loadState===\"function\"};\nqueueRender$$module$build$src$core$render_management=function(a){queueBlock$$module$build$src$core$render_management(a);if(alwaysImmediatelyRender$$module$build$src$core$render_management())return doRenders$$module$build$src$core$render_management(),Promise.resolve();afterRendersPromise$$module$build$src$core$render_management||(afterRendersPromise$$module$build$src$core$render_management=new Promise(b=>{afterRendersResolver$$module$build$src$core$render_management=b;animationRequestId$$module$build$src$core$render_management=\nwindow.requestAnimationFrame(()=>{doRenders$$module$build$src$core$render_management();b()})}));return afterRendersPromise$$module$build$src$core$render_management};finishQueuedRenders$$module$build$src$core$render_management=function(){return afterRendersPromise$$module$build$src$core$render_management?afterRendersPromise$$module$build$src$core$render_management:Promise.resolve()};\ntriggerQueuedRenders$$module$build$src$core$render_management=function(a){a||window.cancelAnimationFrame(animationRequestId$$module$build$src$core$render_management);doRenders$$module$build$src$core$render_management(a);!a&&afterRendersResolver$$module$build$src$core$render_management&&afterRendersResolver$$module$build$src$core$render_management()};alwaysImmediatelyRender$$module$build$src$core$render_management=function(){return JavaFx$$module$build$src$core$utils$useragent};\nqueueBlock$$module$build$src$core$render_management=function(a){dirtyBlocks$$module$build$src$core$render_management.add(a);eventGroups$$module$build$src$core$render_management.set(a,$.getGroup$$module$build$src$core$events$utils());const b=a.getParent();b?queueBlock$$module$build$src$core$render_management(b):rootBlocks$$module$build$src$core$render_management.add(a)};\ndoRenders$$module$build$src$core$render_management=function(a){const b=a?new Set([a]):new Set([...rootBlocks$$module$build$src$core$render_management].map(f=>f.workspace)),c=[...rootBlocks$$module$build$src$core$render_management].filter(shouldRenderRootBlock$$module$build$src$core$render_management).filter(f=>b.has(f.workspace));for(var d of c)renderBlock$$module$build$src$core$render_management(d);for(const f of b)f.resizeContents();for(var e of c)d=e.getRelativeToSurfaceXY(),e.updateComponentLocations(d);\nfor(const f of c)e=$.getGroup$$module$build$src$core$events$utils(),(d=eventGroups$$module$build$src$core$render_management.get(f))&&$.setGroup$$module$build$src$core$events$utils(d),f.bumpNeighbours(),$.setGroup$$module$build$src$core$events$utils(e);for(const f of c)dequeueBlock$$module$build$src$core$render_management(f);a||(afterRendersPromise$$module$build$src$core$render_management=null)};\ndequeueBlock$$module$build$src$core$render_management=function(a){rootBlocks$$module$build$src$core$render_management.delete(a);dirtyBlocks$$module$build$src$core$render_management.delete(a);eventGroups$$module$build$src$core$render_management.delete(a);for(const b of a.getChildren(!1))dequeueBlock$$module$build$src$core$render_management(b)};shouldRenderRootBlock$$module$build$src$core$render_management=function(a){return!a.isDisposed()&&!a.getParent()};\nrenderBlock$$module$build$src$core$render_management=function(a){if(dirtyBlocks$$module$build$src$core$render_management.has(a)&&a.initialized){for(const b of a.getChildren(!1))renderBlock$$module$build$src$core$render_management(b);a.renderEfficiently()}};alert$$module$build$src$core$dialog=function(a,b){alertImplementation$$module$build$src$core$dialog(a,b)};\nsetAlert$$module$build$src$core$dialog=function(a=defaultAlert$$module$build$src$core$dialog){alertImplementation$$module$build$src$core$dialog=a};confirm$$module$build$src$core$dialog=function(a,b){confirmImplementation$$module$build$src$core$dialog(a,b)};setConfirm$$module$build$src$core$dialog=function(a=defaultConfirm$$module$build$src$core$dialog){confirmImplementation$$module$build$src$core$dialog=a};\nprompt$$module$build$src$core$dialog=function(a,b,c){promptImplementation$$module$build$src$core$dialog(a,b,c)};setPrompt$$module$build$src$core$dialog=function(a=defaultPrompt$$module$build$src$core$dialog){promptImplementation$$module$build$src$core$dialog=a};toast$$module$build$src$core$dialog=function(a,b){toastImplementation$$module$build$src$core$dialog(a,b)};\nsetToast$$module$build$src$core$dialog=function(a=defaultToast$$module$build$src$core$dialog){toastImplementation$$module$build$src$core$dialog=a};isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function(a){return a&&typeof a.getProcedureDef===\"function\"};isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function(a){return a&&typeof a.getProcedureCall===\"function\"&&typeof a.renameProcedure===\"function\"};\nisVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model=function(a){return a.getVariableModel!==void 0};warn$$module$build$src$core$utils$deprecation=function(a,b,c,d){a=a+\" was deprecated in \"+b+\" and will be deleted in \"+c+\".\";d&&(a+=\"\\nUse \"+d+\" instead.\");previousWarnings$$module$build$src$core$utils$deprecation.has(a)||(previousWarnings$$module$build$src$core$utils$deprecation.add(a),console.warn(a))};\n$.allUsedVarModels$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);const b=new Set;for(let c=0;c<a.length;c++){const d=a[c].getVarModels();if(d)for(let e=0;e<d.length;e++){const f=d[e];f.getId()&&b.add(f)}}return Array.from(b.values())};$.allDeveloperVariables$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);const b=new Set;for(let d=0,e;e=a[d];d++){var c=e.getDeveloperVariables;if(c){c=c();for(let f=0;f<c.length;f++)b.add(c[f])}}return Array.from(b.values())};\ninternalFlyoutCategory$$module$build$src$core$variables=function(a){return flyoutCategory$$module$build$src$core$variables(a,!1)};\nflyoutCategory$$module$build$src$core$variables=function(a,b=!0){Blocks$$module$build$src$core$blocks.variables_set||Blocks$$module$build$src$core$blocks.variables_get||console.warn(\"There are no variable blocks, but there is a variable category.\");if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.Variables.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),xmlFlyoutCategory$$module$build$src$core$variables(a);\na.registerButtonCallback(\"CREATE_VARIABLE\",function(c){createVariableButtonHandler$$module$build$src$core$variables(c.getTargetWorkspace())});return[{kind:\"button\",text:\"%{BKY_NEW_VARIABLE}\",callbackkey:\"CREATE_VARIABLE\"},...jsonFlyoutCategoryBlocks$$module$build$src$core$variables(a,a.getVariableMap().getVariablesOfType(\"\"),!0)]};generateVariableFieldJson$$module$build$src$core$variables=function(a){return{VAR:{name:a.getName(),type:a.getType()}}};\njsonFlyoutCategoryBlocks$$module$build$src$core$variables=function(a,b,c,d=\"variables_get\",e=\"variables_set\"){c&&(c=Blocks$$module$build$src$core$blocks.math_change);a=[];const f=b.slice(-1)[0];f&&(Blocks$$module$build$src$core$blocks[e]&&a.push({kind:\"block\",type:e,gap:c?8:24,fields:generateVariableFieldJson$$module$build$src$core$variables(f)}),c&&a.push({kind:\"block\",type:\"math_change\",gap:Blocks$$module$build$src$core$blocks[d]?20:8,fields:generateVariableFieldJson$$module$build$src$core$variables(f),\ninputs:{DELTA:{shadow:{type:\"math_number\",fields:{NUM:1}}}}}));Blocks$$module$build$src$core$blocks[d]&&a.push(...b.sort(compareByName$$module$build$src$core$variables).map(g=>({kind:\"block\",type:d,gap:8,fields:generateVariableFieldJson$$module$build$src$core$variables(g)})));return a};\nxmlFlyoutCategory$$module$build$src$core$variables=function(a){let b=[];const c=document.createElement(\"button\");c.setAttribute(\"text\",\"%{BKY_NEW_VARIABLE}\");c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE\");a.registerButtonCallback(\"CREATE_VARIABLE\",function(d){createVariableButtonHandler$$module$build$src$core$variables(d.getTargetWorkspace())});b.push(c);a=flyoutCategoryBlocks$$module$build$src$core$variables(a);return b=b.concat(a)};\nflyoutCategoryBlocks$$module$build$src$core$variables=function(a){a=a.getVariableMap().getVariablesOfType(\"\");const b=[];if(a.length>0){var c=a[a.length-1];if(Blocks$$module$build$src$core$blocks.variables_set){var d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"variables_set\");d.setAttribute(\"gap\",Blocks$$module$build$src$core$blocks.math_change?\"8\":\"24\");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d)}Blocks$$module$build$src$core$blocks.math_change&&\n(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),d.setAttribute(\"type\",\"math_change\"),d.setAttribute(\"gap\",Blocks$$module$build$src$core$blocks.variables_get?\"20\":\"8\"),d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c)),c=$.textToDom$$module$build$src$core$utils$xml('<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Blocks$$module$build$src$core$blocks.variables_get){a.sort(compareByName$$module$build$src$core$variables);\nfor(let e=0,f;f=a[e];e++)c=$.createElement$$module$build$src$core$utils$xml(\"block\"),c.setAttribute(\"type\",\"variables_get\"),c.setAttribute(\"gap\",\"8\"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(f)),b.push(c)}}return b};generateUniqueName$$module$build$src$core$variables=function(a){return TEST_ONLY$$module$build$src$core$variables.generateUniqueNameInternal(a)};\ngenerateUniqueNameInternal$$module$build$src$core$variables=function(a){return generateUniqueNameFromOptions$$module$build$src$core$variables(VAR_LETTER_OPTIONS$$module$build$src$core$variables.charAt(0),a.getVariableMap().getAllVariables().map(b=>b.getName()))};\ngenerateUniqueNameFromOptions$$module$build$src$core$variables=function(a,b){if(!b.length)return a;const c=VAR_LETTER_OPTIONS$$module$build$src$core$variables;let d=\"\",e=c.indexOf(a);for(;;){let f=!1;for(let g=0;g<b.length;g++)if(b[g].toLowerCase()===a){f=!0;break}if(!f)break;e++;e===c.length&&(e=0,d=`${Number(d)+1}`);a=c.charAt(e)+d}return a};\ncreateVariableButtonHandler$$module$build$src$core$variables=function(a,b,c){function d(f){promptName$$module$build$src$core$variables($.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,f,function(g){if(g){var h=nameUsedWithAnyType$$module$build$src$core$variables(g,a);if(h){if(h.getType()===e)var k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace(\"%1\",h.getName());else k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,k=k.replace(\"%1\",h.getName()).replace(\"%2\",\nh.getType());alert$$module$build$src$core$dialog(k,function(){d(g)})}else a.getVariableMap().createVariable(g,e),b&&b(g)}else b&&b(null)})}const e=c||\"\";d(\"\")};\n$.renameVariable$$module$build$src$core$variables=function(a,b,c){function d(e){const f=$.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace(\"%1\",b.getName());promptName$$module$build$src$core$variables(f,e,function(g){if(g){var h=nameUsedWithOtherType$$module$build$src$core$variables(g,b.getType(),a),k=nameUsedWithConflictingParam$$module$build$src$core$variables(b.getName(),g,a);if(h||k){var l=\"\";h?l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace(\"%1\",\nh.getName()).replace(\"%2\",h.getType()):k&&(l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace(\"%1\",g).replace(\"%2\",k));alert$$module$build$src$core$dialog(l,function(){d(g)})}else a.getVariableMap().renameVariable(b,g),c&&c(g)}else c&&c(null)})}d(\"\")};\npromptName$$module$build$src$core$variables=function(a,b,c){prompt$$module$build$src$core$dialog(a,b,function(d){d&&(d=d.replace(/[\\s\\xa0]+/g,\" \").trim(),d===$.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===$.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null);c(d)})};nameUsedWithOtherType$$module$build$src$core$variables=function(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();for(let d=0,e;e=c[d];d++)if(e.getName().toLowerCase()===a&&e.getType()!==b)return e;return null};\nnameUsedWithAnyType$$module$build$src$core$variables=function(a,b){b=b.getVariableMap().getAllVariables();a=a.toLowerCase();for(let c=0,d;d=b[c];c++)if(d.getName().toLowerCase()===a)return d;return null};nameUsedWithConflictingParam$$module$build$src$core$variables=function(a,b,c){return c.getProcedureMap().getProcedures().length?checkForConflictingParamWithProcedureModels$$module$build$src$core$variables(a,b,c):checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables(a,b,c)};\ncheckForConflictingParamWithProcedureModels$$module$build$src$core$variables=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getProcedureMap().getProcedures();for(const e of c){var d=e.getParameters().filter(isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model).map(f=>f.getVariableModel().getName());if(d&&(c=d.some(f=>f.toLowerCase()===a),d=d.some(f=>f.toLowerCase()===b),c&&d))return e.getName()}return null};\ncheckForConflictingParamWithLegacyProcedures$$module$build$src$core$variables=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getAllBlocks(!1);for(const e of c){if(!isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(e))continue;c=e.getProcedureDef();var d=c[1];const f=d.some(g=>g.toLowerCase()===a);d=d.some(g=>g.toLowerCase()===b);if(f&&d)return c[0]}return null};\ngenerateVariableFieldDom$$module$build$src$core$variables=function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"field\");b.setAttribute(\"name\",\"VAR\");b.setAttribute(\"id\",a.getId());b.setAttribute(\"variabletype\",a.getType());a=$.createTextNode$$module$build$src$core$utils$xml(a.getName());b.appendChild(a);return b};\n$.getOrCreateVariablePackage$$module$build$src$core$variables=function(a,b,c,d){let e=$.getVariable$$module$build$src$core$variables(a,b,c,d);e||(e=createVariable$$module$build$src$core$variables(a,b,c,d));return e};\n$.getVariable$$module$build$src$core$variables=function(a,b,c,d){const e=a.getPotentialVariableMap();let f=null;if(b&&(f=a.getVariableById(b),!f&&e&&(f=e.getVariableById(b)),f))return f;if(c){if(d===void 0)throw Error(\"Tried to look up a variable by name without a type\");f=a.getVariable(c,d);!f&&e&&(f=e.getVariable(c,d))}return f};\ncreateVariable$$module$build$src$core$variables=function(a,b,c,d){const e=a.getVariableMap(),f=a.getPotentialVariableMap();c||(c=generateUniqueName$$module$build$src$core$variables(a.isFlyout?a.targetWorkspace:a));return f?f.createVariable(c,d,b!=null?b:void 0):e.createVariable(c,d,b)};getAddedVariables$$module$build$src$core$variables=function(a,b){a=a.getAllVariables();const c=[];if(b.length!==a.length)for(let d=0;d<a.length;d++){const e=a[d];b.includes(e)||c.push(e)}return c};\ncompareByName$$module$build$src$core$variables=function(a,b){return a.getName().localeCompare(b.getName(),void 0,{sensitivity:\"base\"})};getVariableUsesById$$module$build$src$core$variables=function(a,b){const c=[];a=a.getAllBlocks(!1);for(let d=0;d<a.length;d++){const e=a[d].getVarModels();if(e)for(let f=0;f<e.length;f++)e[f].getId()===b&&c.push(a[d])}return c};\n$.deleteVariable$$module$build$src$core$variables=function(a,b,c){var d=b.getName();const e=getVariableUsesById$$module$build$src$core$variables(a,b.getId());for(let f=e.length-1;f>=0;f--){const g=e[f];if(g.type===\"procedures_defnoreturn\"||g.type===\"procedures_defreturn\"){c=String(g.getFieldValue(\"NAME\"));d=$.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace(\"%1\",d).replace(\"%2\",c);alert$$module$build$src$core$dialog(d);return}g===c&&e.splice(f,1)}c&&e.length||e.length>1?(d=\n$.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace(\"%1\",String(e.length+(c&&!c.workspace.isFlyout?1:0))).replace(\"%2\",d),confirm$$module$build$src$core$dialog(d,f=>{f&&b&&a.getVariableMap().deleteVariable(b)})):a.getVariableMap().deleteVariable(b)};\nsave$$module$build$src$core$serialization$blocks=function(a,{addCoordinates:b=!1,addInputBlocks:c=!0,addNextBlocks:d=!0,doFullSerialization:e=!0,saveIds:f=!0}={}){if(a.isInsertionMarker())return null;const g={type:a.type,id:f?a.id:void 0};b&&saveCoords$$module$build$src$core$serialization$blocks(a,g);saveAttributes$$module$build$src$core$serialization$blocks(a,g);saveExtraState$$module$build$src$core$serialization$blocks(a,g,e);saveIcons$$module$build$src$core$serialization$blocks(a,g,e);saveFields$$module$build$src$core$serialization$blocks(a,\ng,e);c&&saveInputBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);d&&saveNextBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);return g};\nsaveAttributes$$module$build$src$core$serialization$blocks=function(a,b){a.isCollapsed()&&(b.collapsed=!0);a.isEnabled()||(b.disabledReasons=Array.from(a.getDisabledReasons()));a.isOwnDeletable()||(b.deletable=!1);a.isOwnMovable()||(b.movable=!1);a.isOwnEditable()||(b.editable=!1);a.inputsInline!==void 0&&a.inputsInline!==a.inputsInlineDefault&&(b.inline=a.inputsInline);a.data&&(b.data=a.data)};\nsaveCoords$$module$build$src$core$serialization$blocks=function(a,b){const c=a.workspace;a=a.getRelativeToSurfaceXY();b.x=Math.round(c.RTL?c.getWidth()-a.x:a.x);b.y=Math.round(a.y)};saveExtraState$$module$build$src$core$serialization$blocks=function(a,b,c){a.saveExtraState?(a=a.saveExtraState(c),a!==null&&(b.extraState=a)):a.mutationToDom&&(a=a.mutationToDom(),a!==null&&(b.extraState=domToText$$module$build$src$core$xml(a).replace(' xmlns=\"https://developers.google.com/blockly/xml\"',\"\")))};\nsaveIcons$$module$build$src$core$serialization$blocks=function(a,b,c){const d=Object.create(null);for(const e of a.getIcons())isSerializable$$module$build$src$core$interfaces$i_serializable(e)&&(a=e.saveState(c))&&(d[e.getType().toString()]=a);Object.keys(d).length&&(b.icons=d)};saveFields$$module$build$src$core$serialization$blocks=function(a,b,c){const d=Object.create(null);for(const e of a.getFields())e.isSerializable()&&(d[e.name]=e.saveState(c));Object.keys(d).length&&(b.fields=d)};\nsaveInputBlocks$$module$build$src$core$serialization$blocks=function(a,b,c,d){const e=Object.create(null);for(let f=0;f<a.inputList.length;f++){const g=a.inputList[f];if(!g.connection)continue;const h=saveConnection$$module$build$src$core$serialization$blocks(g.connection,c,d);h&&(e[g.name]=h)}Object.keys(e).length&&(b.inputs=e)};\nsaveNextBlocks$$module$build$src$core$serialization$blocks=function(a,b,c,d){a.nextConnection&&(a=saveConnection$$module$build$src$core$serialization$blocks(a.nextConnection,c,d))&&(b.next=a)};saveConnection$$module$build$src$core$serialization$blocks=function(a,b,c){const d=a.getShadowState(!0);a=a.targetBlock();if(!d&&!a)return null;const e=Object.create(null);d&&(e.shadow=d);a&&!a.isShadow()&&(e.block=save$$module$build$src$core$serialization$blocks(a,{doFullSerialization:b,saveIds:c}));return e};\nappend$$module$build$src$core$serialization$blocks=function(a,b,{recordUndo:c=!1}={}){a=appendInternal$$module$build$src$core$serialization$blocks(a,b,{recordUndo:c});b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a};\nappendInternal$$module$build$src$core$serialization$blocks=function(a,b,{parentConnection:c,isShadow:d=!1,recordUndo:e=!1}={}){const f=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(e);(e=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);$.disable$$module$build$src$core$events$utils();const g=b.getAllVariables();let h;try{h=appendPrivate$$module$build$src$core$serialization$blocks(a,b,{parentConnection:c,\nisShadow:d})}finally{$.enable$$module$build$src$core$events$utils()}checkNewVariables$$module$build$src$core$serialization$blocks(b,g);isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(h));$.setGroup$$module$build$src$core$events$utils(e);$.setRecordUndo$$module$build$src$core$events$utils(f);if(b.rendered){const k=h;setTimeout(()=>{k.disposed||k.setConnectionTracking(!0)},\n1)}return h};\nappendPrivate$$module$build$src$core$serialization$blocks=function(a,b,{parentConnection:c,isShadow:d=!1}={}){if(!a.type)throw new MissingBlockType$$module$build$src$core$serialization$exceptions(a);const e=b.newBlock(a.type,a.id);e.setShadow(d);loadCoords$$module$build$src$core$serialization$blocks(e,a);loadAttributes$$module$build$src$core$serialization$blocks(e,a);loadExtraState$$module$build$src$core$serialization$blocks(e,a);tryToConnectParent$$module$build$src$core$serialization$blocks(c,e,\na);loadIcons$$module$build$src$core$serialization$blocks(e,a);loadFields$$module$build$src$core$serialization$blocks(e,a);loadInputBlocks$$module$build$src$core$serialization$blocks(e,a);loadNextBlocks$$module$build$src$core$serialization$blocks(e,a);initBlock$$module$build$src$core$serialization$blocks(e,b.rendered);return e};\ncheckNewVariables$$module$build$src$core$serialization$blocks=function(a,b){if(isEnabled$$module$build$src$core$events$utils())for(a=getAddedVariables$$module$build$src$core$variables(a,b),b=0;b<a.length;b++){const c=a[b];fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(c))}};\nloadCoords$$module$build$src$core$serialization$blocks=function(a,b){let c=b.x===void 0?0:b.x;b=b.y===void 0?0:b.y;const d=a.workspace;c=d.RTL?d.getWidth()-c:c;a.moveBy(c,b)};\nloadAttributes$$module$build$src$core$serialization$blocks=function(a,b){b.collapsed&&a.setCollapsed(!0);b.deletable===!1&&a.setDeletable(!1);b.movable===!1&&a.setMovable(!1);b.editable===!1&&a.setEditable(!1);b.enabled===!1&&a.setDisabledReason(!0,MANUALLY_DISABLED$$module$build$src$core$constants);if(Array.isArray(b.disabledReasons))for(const c of b.disabledReasons)a.setDisabledReason(!0,c);b.inline!==void 0&&a.setInputsInline(b.inline);b.data!==void 0&&(a.data=b.data)};\nloadExtraState$$module$build$src$core$serialization$blocks=function(a,b){b.extraState&&(a.loadExtraState?a.loadExtraState(b.extraState):a.domToMutation&&a.domToMutation($.textToDom$$module$build$src$core$utils$xml(b.extraState)))};\ntryToConnectParent$$module$build$src$core$serialization$blocks=function(a,b,c){if(a){if(a.getSourceBlock().isShadow()&&!b.isShadow())throw new RealChildOfShadow$$module$build$src$core$serialization$exceptions(c);if(a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=b.outputConnection;if(!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"output\",b,c);}else if(d=b.previousConnection,!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"previous\",\nb,c);if(!a.connect(d)){const e=b.workspace.connectionChecker;throw new BadConnectionCheck$$module$build$src$core$serialization$exceptions(e.getErrorMessage(e.canConnectWithReason(d,a,!1),d,a),a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?\"output connection\":\"previous connection\",b,c);}}};\nloadIcons$$module$build$src$core$serialization$blocks=function(a,b){if(b.icons){var c=Object.keys(b.icons);for(const e of c){c=b.icons[e];var d=a.getIcon(e);if(!d){d=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,e,!1);if(!d)throw new UnregisteredIcon$$module$build$src$core$serialization$exceptions(e,a,b);d=new d(a);a.addIcon(d)}isSerializable$$module$build$src$core$interfaces$i_serializable(d)&&d.loadState(c)}}};\nloadFields$$module$build$src$core$serialization$blocks=function(a,b){if(b.fields){var c=Object.keys(b.fields);for(let d=0;d<c.length;d++){const e=c[d],f=b.fields[e],g=a.getField(e);g?g.loadState(f):console.warn(`Ignoring non-existant field ${e} in block ${a.type}`)}}};\nloadInputBlocks$$module$build$src$core$serialization$blocks=function(a,b){if(b.inputs){var c=Object.keys(b.inputs);for(let d=0;d<c.length;d++){const e=c[d],f=a.getInput(e);if(!f||!f.connection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(e,a,b);loadConnection$$module$build$src$core$serialization$blocks(f.connection,b.inputs[e])}}};\nloadNextBlocks$$module$build$src$core$serialization$blocks=function(a,b){if(b.next){if(!a.nextConnection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"next\",a,b);loadConnection$$module$build$src$core$serialization$blocks(a.nextConnection,b.next)}};loadConnection$$module$build$src$core$serialization$blocks=function(a,b){b.shadow&&a.setShadowState(b.shadow);b.block&&appendPrivate$$module$build$src$core$serialization$blocks(b.block,a.getSourceBlock().workspace,{parentConnection:a})};\ninitBlock$$module$build$src$core$serialization$blocks=function(a,b){if(b){a.setConnectionTracking(!1);a.initSvg();a.queueRender();for(const c of a.getIcons())c.onLocationChange(a.getRelativeToSurfaceXY())}else a.initModel()};hasBubble$$module$build$src$core$interfaces$i_has_bubble=function(a){return typeof a.bubbleIsVisible===\"function\"&&typeof a.setBubbleVisible===\"function\"&&typeof a.getBubble===\"function\"};toRadians$$module$build$src$core$utils$math=function(a){return a*Math.PI/180};\ntoDegrees$$module$build$src$core$utils$math=function(a){return a*180/Math.PI};clamp$$module$build$src$core$utils$math=function(a,b,c){if(c<a){const d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};\ncreateDom$$module$build$src$core$dropdowndiv=function(){document.querySelector(\".blocklyDropDownDiv\")||(div$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),div$$module$build$src$core$dropdowndiv.className=\"blocklyDropDownDiv\",div$$module$build$src$core$dropdowndiv.tabIndex=-1,(getParentContainer$$module$build$src$core$common()||document.body).appendChild(div$$module$build$src$core$dropdowndiv),content$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),content$$module$build$src$core$dropdowndiv.className=\n\"blocklyDropDownContent\",div$$module$build$src$core$dropdowndiv.appendChild(content$$module$build$src$core$dropdowndiv),keydownListener$$module$build$src$core$dropdowndiv=conditionalBind$$module$build$src$core$browser_events(content$$module$build$src$core$dropdowndiv,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common),arrow$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),arrow$$module$build$src$core$dropdowndiv.className=\"blocklyDropDownArrow\",div$$module$build$src$core$dropdowndiv.appendChild(arrow$$module$build$src$core$dropdowndiv),\ndiv$$module$build$src$core$dropdowndiv.style.opacity=\"0\",div$$module$build$src$core$dropdowndiv.style.transition=\"transform \"+ANIMATION_TIME$$module$build$src$core$dropdowndiv+\"s, opacity \"+ANIMATION_TIME$$module$build$src$core$dropdowndiv+\"s\")};setBoundsElement$$module$build$src$core$dropdowndiv=function(a){boundsElement$$module$build$src$core$dropdowndiv=a};getOwner$$module$build$src$core$dropdowndiv=function(){return owner$$module$build$src$core$dropdowndiv};\ngetContentDiv$$module$build$src$core$dropdowndiv=function(){return content$$module$build$src$core$dropdowndiv};clearContent$$module$build$src$core$dropdowndiv=function(){keydownListener$$module$build$src$core$dropdowndiv&&(unbind$$module$build$src$core$browser_events(keydownListener$$module$build$src$core$dropdowndiv),keydownListener$$module$build$src$core$dropdowndiv=null);div$$module$build$src$core$dropdowndiv.remove();createDom$$module$build$src$core$dropdowndiv()};\nsetColour$$module$build$src$core$dropdowndiv=function(a,b){div$$module$build$src$core$dropdowndiv.style.backgroundColor=a;div$$module$build$src$core$dropdowndiv.style.borderColor=b};showPositionedByBlock$$module$build$src$core$dropdowndiv=function(a,b,c,d,e=!0){return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(b),a,e,c,d)};\nshowPositionedByField$$module$build$src$core$dropdowndiv=function(a,b,c,d=!0){positionToField$$module$build$src$core$dropdowndiv=!0;return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfField$$module$build$src$core$dropdowndiv(a),a,d,b,c)};\ngetScaledBboxOfBlock$$module$build$src$core$dropdowndiv=function(a){var b=a.getSvgRoot();const c=a.workspace.scale,d=a.height*c;a=a.width*c;b=getPageOffset$$module$build$src$core$utils$style(b);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+d,b.x,b.x+a)};getScaledBboxOfField$$module$build$src$core$dropdowndiv=function(a){a=a.getScaledBBox();return new Rect$$module$build$src$core$utils$rect(a.top,a.bottom,a.left,a.right)};\nshowPositionedByRect$$module$build$src$core$dropdowndiv=function(a,b,c,d,e){const f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=b.getSourceBlock();let h=e.workspace;for(;h.options.parentWorkspace;)h=h.options.parentWorkspace;setBoundsElement$$module$build$src$core$dropdowndiv(h.getParentSvg().parentNode);return show$$module$build$src$core$dropdowndiv(b,e.RTL,f,g,f,a,c,d)};\nshow$$module$build$src$core$dropdowndiv=function(a,b,c,d,e,f,g,h){owner$$module$build$src$core$dropdowndiv=a;onHide$$module$build$src$core$dropdowndiv=h||null;div$$module$build$src$core$dropdowndiv.style.direction=b?\"rtl\":\"ltr\";a=getMainWorkspace$$module$build$src$core$common();renderedClassName$$module$build$src$core$dropdowndiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$dropdowndiv=a.getTheme().getClassName();addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,\nrenderedClassName$$module$build$src$core$dropdowndiv);addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,themeClassName$$module$build$src$core$dropdowndiv);c=positionInternal$$module$build$src$core$dropdowndiv(c,d,e,f);g&&(returnEphemeralFocus$$module$build$src$core$dropdowndiv=$.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(div$$module$build$src$core$dropdowndiv));return c};\ngetPositionBelowMetrics$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b,finalX:a.divX,finalY:b+PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:-(ARROW_SIZE$$module$build$src$core$dropdowndiv/2+BORDER_SIZE$$module$build$src$core$dropdowndiv),arrowAtTop:!0,arrowVisible:!0}};\ngetPositionAboveMetrics$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b-d.height,finalX:a.divX,finalY:b-d.height-PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:d.height-BORDER_SIZE$$module$build$src$core$dropdowndiv*2-ARROW_SIZE$$module$build$src$core$dropdowndiv/2,arrowAtTop:!1,arrowVisible:!0}};\ngetPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv=function(a,b,c){a=getPositionX$$module$build$src$core$dropdowndiv(a,b.left,b.right,c.width);return{initialX:a.divX,initialY:0,finalX:a.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}};\ngetPositionX$$module$build$src$core$dropdowndiv=function(a,b,c,d){b=clamp$$module$build$src$core$utils$math(b,a-d/2,c-d);a=a-ARROW_SIZE$$module$build$src$core$dropdowndiv/2-b;c=ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv;a=clamp$$module$build$src$core$utils$math(c,a,d-c-ARROW_SIZE$$module$build$src$core$dropdowndiv);return{arrowX:a,divX:b}};isVisible$$module$build$src$core$dropdowndiv=function(){return!!owner$$module$build$src$core$dropdowndiv};\nhideIfOwner$$module$build$src$core$dropdowndiv=function(a,b){return owner$$module$build$src$core$dropdowndiv===a?(b?hideWithoutAnimation$$module$build$src$core$dropdowndiv():hide$$module$build$src$core$dropdowndiv(),!0):!1};\nhide$$module$build$src$core$dropdowndiv=function(){div$$module$build$src$core$dropdowndiv.style.transform=\"translate(0, 0)\";div$$module$build$src$core$dropdowndiv.style.opacity=\"0\";animateOutTimer$$module$build$src$core$dropdowndiv=setTimeout(function(){hideWithoutAnimation$$module$build$src$core$dropdowndiv()},ANIMATION_TIME$$module$build$src$core$dropdowndiv*1E3);onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null)};\nhideWithoutAnimation$$module$build$src$core$dropdowndiv=function(){isVisible$$module$build$src$core$dropdowndiv()&&(animateOutTimer$$module$build$src$core$dropdowndiv&&clearTimeout(animateOutTimer$$module$build$src$core$dropdowndiv),onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null),clearContent$$module$build$src$core$dropdowndiv(),owner$$module$build$src$core$dropdowndiv=null,getMainWorkspace$$module$build$src$core$common().markFocused(),\nreturnEphemeralFocus$$module$build$src$core$dropdowndiv&&(returnEphemeralFocus$$module$build$src$core$dropdowndiv(),returnEphemeralFocus$$module$build$src$core$dropdowndiv=null))};\npositionInternal$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=internal$$module$build$src$core$dropdowndiv.getPositionMetrics(a,b,c,d);a.arrowVisible?(b=a.arrowX,c=a.arrowY,d=a.arrowAtTop?45:225,arrow$$module$build$src$core$dropdowndiv.style.display=\"\",arrow$$module$build$src$core$dropdowndiv.style.transform=`translate(${b}px, ${c}px) rotate(${d}deg)`,arrow$$module$build$src$core$dropdowndiv.setAttribute(\"class\",\"blocklyDropDownArrow\")):arrow$$module$build$src$core$dropdowndiv.style.display=\n\"none\";b=Math.floor(a.initialX);c=Math.floor(a.initialY);d=Math.floor(a.finalX);const e=Math.floor(a.finalY);div$$module$build$src$core$dropdowndiv.style.left=b+\"px\";div$$module$build$src$core$dropdowndiv.style.top=c+\"px\";div$$module$build$src$core$dropdowndiv.style.display=\"block\";div$$module$build$src$core$dropdowndiv.style.opacity=\"1\";div$$module$build$src$core$dropdowndiv.style.transform=\"translate(\"+(d-b)+\"px,\"+(e-c)+\"px)\";return!!a.arrowAtTop};\nrepositionForWindowResize$$module$build$src$core$dropdowndiv=function(){if(owner$$module$build$src$core$dropdowndiv){var a=owner$$module$build$src$core$dropdowndiv.getSourceBlock();a=positionToField$$module$build$src$core$dropdowndiv?getScaledBboxOfField$$module$build$src$core$dropdowndiv(owner$$module$build$src$core$dropdowndiv):getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(a);const b=a.left+(a.right-a.left)/2;positionInternal$$module$build$src$core$dropdowndiv(b,a.bottom,b,a.top)}else hide$$module$build$src$core$dropdowndiv()};\nshortestStringLength$$module$build$src$core$utils$string=function(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0};\ncommonWordPrefix$$module$build$src$core$utils$string=function(a,b){if(!a.length)return 0;if(a.length===1)return a[0].length;let c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);let d;for(d=0;d<b;d++){var e=a[0][d];for(var f=1;f<a.length;f++)if(e!==a[f][d])return c;e===\" \"&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e][d])&&f!==\" \")return c;return b};\ncommonWordSuffix$$module$build$src$core$utils$string=function(a,b){if(!a.length)return 0;if(a.length===1)return a[0].length;let c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);let d;for(d=0;d<b;d++){var e=a[0].substr(-d-1,1);for(var f=1;f<a.length;f++)if(e!==a[f].substr(-d-1,1))return c;e===\" \"&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e].charAt(a[e].length-d-1))&&f!==\" \")return c;return b};\n$.wrap$$module$build$src$core$utils$string=function(a,b){a=a.split(\"\\n\");for(let c=0;c<a.length;c++)a[c]=wrapLine$$module$build$src$core$utils$string(a[c],b);return a.join(\"\\n\")};\nwrapLine$$module$build$src$core$utils$string=function(a,b){if(a.length<=b)return a;const c=a.trim().split(/\\s+/);for(var d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);var e=-Infinity;let f,g=1;do{d=e;f=a;a=[];e=c.length/g;let h=1;for(let k=0;k<c.length-1;k++)h<(k+1.5)/e?(h++,a[k]=!0):a[k]=!1;a=wrapMutate$$module$build$src$core$utils$string(c,a,b);e=wrapScore$$module$build$src$core$utils$string(c,a,b);a=wrapToText$$module$build$src$core$utils$string(c,a);g++}while(e>d);return f};\nwrapScore$$module$build$src$core$utils$string=function(a,b,c){const d=[0],e=[];for(var f=0;f<a.length;f++)d[d.length-1]+=a[f].length,b[f]===!0?(d.push(0),e.push(a[f].charAt(a[f].length-1))):b[f]===!1&&d[d.length-1]++;a=Math.max(...d);b=0;for(f=0;f<d.length;f++)b-=Math.pow(Math.abs(c-d[f]),1.5)*2,b-=Math.pow(a-d[f],1.5),\".?!\".includes(e[f])?b+=c/3:\",;)]}\".includes(e[f])&&(b+=c/4);d.length>1&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};\nwrapMutate$$module$build$src$core$utils$string=function(a,b,c){let d=wrapScore$$module$build$src$core$utils$string(a,b,c),e;for(let f=0;f<b.length-1;f++){if(b[f]===b[f+1])continue;const g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];const h=wrapScore$$module$build$src$core$utils$string(a,g,c);h>d&&(d=h,e=g)}return e?wrapMutate$$module$build$src$core$utils$string(a,e,c):b};\nwrapToText$$module$build$src$core$utils$string=function(a,b){const c=[];for(let d=0;d<a.length;d++)c.push(a[d]),b[d]!==void 0&&c.push(b[d]?\"\\n\":\" \");return c.join(\"\")};$.isNumber$$module$build$src$core$utils$string=function(a){return/^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(a)};setCustomTooltip$$module$build$src$core$tooltip=function(a){customTooltip$$module$build$src$core$tooltip=a};getCustomTooltip$$module$build$src$core$tooltip=function(){return customTooltip$$module$build$src$core$tooltip};\nisVisible$$module$build$src$core$tooltip=function(){return visible$$module$build$src$core$tooltip};getDiv$$module$build$src$core$tooltip=function(){return containerDiv$$module$build$src$core$tooltip};getTooltipOfObject$$module$build$src$core$tooltip=function(a){if(a=getTargetObject$$module$build$src$core$tooltip(a)){for(a=a.tooltip;typeof a===\"function\";)a=a();if(typeof a!==\"string\")throw Error(\"Tooltip function must return a string.\");return a}return\"\"};\ngetTargetObject$$module$build$src$core$tooltip=function(a){for(;a&&a.tooltip;){if(typeof a.tooltip===\"string\"||typeof a.tooltip===\"function\")return a;a=a.tooltip}return null};createDom$$module$build$src$core$tooltip=function(){document.querySelector(\".blocklyTooltipDiv\")||(containerDiv$$module$build$src$core$tooltip=document.createElement(\"div\"),containerDiv$$module$build$src$core$tooltip.className=\"blocklyTooltipDiv\",(getParentContainer$$module$build$src$core$common()||document.body).appendChild(containerDiv$$module$build$src$core$tooltip))};\nbindMouseEvents$$module$build$src$core$tooltip=function(a){a.mouseOverWrapper_=bind$$module$build$src$core$browser_events(a,\"pointerover\",null,onMouseOver$$module$build$src$core$tooltip);a.mouseOutWrapper_=bind$$module$build$src$core$browser_events(a,\"pointerout\",null,onMouseOut$$module$build$src$core$tooltip);a.addEventListener(\"pointermove\",onMouseMove$$module$build$src$core$tooltip,!1)};\nunbindMouseEvents$$module$build$src$core$tooltip=function(a){a&&(unbind$$module$build$src$core$browser_events(a.mouseOverWrapper_),unbind$$module$build$src$core$browser_events(a.mouseOutWrapper_),a.removeEventListener(\"pointermove\",onMouseMove$$module$build$src$core$tooltip))};\nonMouseOver$$module$build$src$core$tooltip=function(a){blocked$$module$build$src$core$tooltip||(a=getTargetObject$$module$build$src$core$tooltip(a.currentTarget),element$$module$build$src$core$tooltip!==a&&(hide$$module$build$src$core$tooltip(),poisonedElement$$module$build$src$core$tooltip=null,element$$module$build$src$core$tooltip=a),clearTimeout(mouseOutPid$$module$build$src$core$tooltip))};\nonMouseOut$$module$build$src$core$tooltip=function(a){blocked$$module$build$src$core$tooltip||(mouseOutPid$$module$build$src$core$tooltip=setTimeout(function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip()},1),clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0)};\nonMouseMove$$module$build$src$core$tooltip=function(a){if(element$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip.tooltip&&!blocked$$module$build$src$core$tooltip)if(visible$$module$build$src$core$tooltip){const b=lastX$$module$build$src$core$tooltip-a.pageX;a=lastY$$module$build$src$core$tooltip-a.pageY;Math.sqrt(b*b+a*a)>RADIUS_OK$$module$build$src$core$tooltip&&hide$$module$build$src$core$tooltip()}else poisonedElement$$module$build$src$core$tooltip!==element$$module$build$src$core$tooltip&&\n(clearTimeout(showPid$$module$build$src$core$tooltip),lastX$$module$build$src$core$tooltip=a.pageX,lastY$$module$build$src$core$tooltip=a.pageY,showPid$$module$build$src$core$tooltip=setTimeout(show$$module$build$src$core$tooltip,HOVER_MS$$module$build$src$core$tooltip))};dispose$$module$build$src$core$tooltip=function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip()};\nhide$$module$build$src$core$tooltip=function(){visible$$module$build$src$core$tooltip&&(visible$$module$build$src$core$tooltip=!1,containerDiv$$module$build$src$core$tooltip&&(containerDiv$$module$build$src$core$tooltip.style.display=\"none\"));showPid$$module$build$src$core$tooltip&&(clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0)};\nblock$$module$build$src$core$tooltip=function(){hide$$module$build$src$core$tooltip();blocked$$module$build$src$core$tooltip=!0};unblock$$module$build$src$core$tooltip=function(){blocked$$module$build$src$core$tooltip=!1};\nrenderContent$$module$build$src$core$tooltip=function(){containerDiv$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip&&(typeof customTooltip$$module$build$src$core$tooltip===\"function\"?customTooltip$$module$build$src$core$tooltip(containerDiv$$module$build$src$core$tooltip,element$$module$build$src$core$tooltip):renderDefaultContent$$module$build$src$core$tooltip())};\nrenderDefaultContent$$module$build$src$core$tooltip=function(){var a=getTooltipOfObject$$module$build$src$core$tooltip(element$$module$build$src$core$tooltip);a=$.wrap$$module$build$src$core$utils$string(a,LIMIT$$module$build$src$core$tooltip);a=a.split(\"\\n\");for(let b=0;b<a.length;b++){const c=document.createElement(\"div\");c.appendChild(document.createTextNode(a[b]));containerDiv$$module$build$src$core$tooltip.appendChild(c)}};\ngetPosition$$module$build$src$core$tooltip=function(a){const b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;let d=lastX$$module$build$src$core$tooltip;d=a?d-(OFFSET_X$$module$build$src$core$tooltip+containerDiv$$module$build$src$core$tooltip.offsetWidth):d+OFFSET_X$$module$build$src$core$tooltip;let e=lastY$$module$build$src$core$tooltip+OFFSET_Y$$module$build$src$core$tooltip;e+containerDiv$$module$build$src$core$tooltip.offsetHeight>c+window.scrollY&&(e-=containerDiv$$module$build$src$core$tooltip.offsetHeight+\n2*OFFSET_Y$$module$build$src$core$tooltip);a?d=Math.max(MARGINS$$module$build$src$core$tooltip-window.scrollX,d):d+containerDiv$$module$build$src$core$tooltip.offsetWidth>b+window.scrollX-2*MARGINS$$module$build$src$core$tooltip&&(d=b-containerDiv$$module$build$src$core$tooltip.offsetWidth-2*MARGINS$$module$build$src$core$tooltip);return{x:d,y:e}};\nshow$$module$build$src$core$tooltip=function(){if(!blocked$$module$build$src$core$tooltip&&(poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip,containerDiv$$module$build$src$core$tooltip)){containerDiv$$module$build$src$core$tooltip.textContent=\"\";renderContent$$module$build$src$core$tooltip();var a=element$$module$build$src$core$tooltip.RTL;containerDiv$$module$build$src$core$tooltip.style.direction=a?\"rtl\":\"ltr\";containerDiv$$module$build$src$core$tooltip.style.display=\n\"block\";visible$$module$build$src$core$tooltip=!0;var {x:b,y:c}=getPosition$$module$build$src$core$tooltip(a);containerDiv$$module$build$src$core$tooltip.style.left=b+\"px\";containerDiv$$module$build$src$core$tooltip.style.top=c+\"px\"}};getHsvSaturation$$module$build$src$core$utils$colour=function(){return hsvSaturation$$module$build$src$core$utils$colour};setHsvSaturation$$module$build$src$core$utils$colour=function(a){hsvSaturation$$module$build$src$core$utils$colour=a};\ngetHsvValue$$module$build$src$core$utils$colour=function(){return hsvValue$$module$build$src$core$utils$colour};setHsvValue$$module$build$src$core$utils$colour=function(a){hsvValue$$module$build$src$core$utils$colour=a};\nparse$$module$build$src$core$utils$colour=function(a){a=`${a}`.toLowerCase().trim();var b=names$$module$build$src$core$utils$colour[a];if(b)return b;b=a.substring(0,2)===\"0x\"?\"#\"+a.substring(2):a;b=b[0]===\"#\"?b:\"#\"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return[\"#\",b[1],b[1],b[2],b[2],b[3],b[3]].join(\"\");var c=a.match(/^(?:rgb)?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),a>=0&&a<256&&b>=0&&b<256&&c>=0&&c<256)?rgbToHex$$module$build$src$core$utils$colour(a,\nb,c):null};rgbToHex$$module$build$src$core$utils$colour=function(a,b,c){b=a<<16|b<<8|c;return a<16?\"#\"+(16777216|b).toString(16).substr(1):\"#\"+b.toString(16)};hexToRgb$$module$build$src$core$utils$colour=function(a){a=parse$$module$build$src$core$utils$colour(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};\nhsvToHex$$module$build$src$core$utils$colour=function(a,b,c){let d=0,e=0,f=0;if(b===0)f=e=d=c;else{const g=Math.floor(a/60),h=a/60-g;a=c*(1-b);const k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return rgbToHex$$module$build$src$core$utils$colour(Math.floor(d),Math.floor(e),Math.floor(f))};\nblend$$module$build$src$core$utils$colour=function(a,b,c){a=parse$$module$build$src$core$utils$colour(a);if(!a)return null;b=parse$$module$build$src$core$utils$colour(b);if(!b)return null;a=hexToRgb$$module$build$src$core$utils$colour(a);b=hexToRgb$$module$build$src$core$utils$colour(b);return rgbToHex$$module$build$src$core$utils$colour(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))};\nhueToHex$$module$build$src$core$utils$colour=function(a){return hsvToHex$$module$build$src$core$utils$colour(a,hsvSaturation$$module$build$src$core$utils$colour,hsvValue$$module$build$src$core$utils$colour*255)};\ntokenizeInterpolationInternal$$module$build$src$core$utils$parsing=function(a,b,c){const d=[];var e=a.split(\"\");e.push(\"\");var f=0;a=[];let g=null;for(let l=0;l<e.length;l++){var h=e[l];if(f===0)if(h===\"%\")(f=a.join(\"\"))&&d.push(f),a.length=0,f=1;else if(c&&h===\"\\n\"){const m=a.join(\"\");m&&d.push(m);a.length=0;d.push(h)}else a.push(h);else if(f===1)h===\"%\"?(a.push(h),f=0):b&&\"0\"<=h&&h<=\"9\"?(f=2,g=h,(h=a.join(\"\"))&&d.push(h),a.length=0):h===\"{\"?f=3:(a.push(\"%\",h),f=0);else if(f===2)if(\"0\"<=h&&h<=\"9\")g+=\nh;else{var k=void 0;d.push(parseInt((k=g)!=null?k:\"\",10));l--;f=0}else f===3&&(h===\"\"?(a.splice(0,0,\"%{\"),l--,f=0):h!==\"}\"?a.push(h):(f=a.join(\"\"),/[A-Z]\\w*/i.test(f)?(h=f.toUpperCase(),(h=h.startsWith(\"BKY_\")?h.substring(4):null)&&h in $.Msg$$module$build$src$core$msg?(f=$.Msg$$module$build$src$core$msg[h],typeof f===\"string\"?Array.prototype.push.apply(d,tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(f,b,c)):b?d.push(`${f}`):d.push(f)):d.push(\"%{\"+f+\"}\")):d.push(\"%{\"+f+\"}\"),f=\na.length=0))}(b=a.join(\"\"))&&d.push(b);k=[];a.length=0;for(e=0;e<d.length;e++)typeof d[e]!==\"string\"||c&&d[e]===\"\\n\"?((b=a.join(\"\"))&&k.push(b),a.length=0,k.push(d[e])):a.push(d[e]);(b=a.join(\"\"))&&k.push(b);a.length=0;return k};tokenizeInterpolation$$module$build$src$core$utils$parsing=function(a){return tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!0,!0)};\nreplaceMessageReferences$$module$build$src$core$utils$parsing=function(a){if(typeof a!==\"string\")return a;a=tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!1,!1);return a.length?String(a[0]):\"\"};\ncheckMessageReferences$$module$build$src$core$utils$parsing=function(a){let b=!0;const c=$.Msg$$module$build$src$core$msg,d=a.match(/%{BKY_[A-Z]\\w*}/gi);if(d)for(let e=0;e<d.length;e++){const f=d[e].toUpperCase();c[f.slice(6,-1)]===void 0&&(console.warn(\"No message string for \"+d[e]+\" in \"+a),b=!1)}return b};\nparseBlockColour$$module$build$src$core$utils$parsing=function(a){const b=typeof a===\"string\"?replaceMessageReferences$$module$build$src$core$utils$parsing(a):a;var c=Number(b);if(!isNaN(c)&&0<=c&&c<=360)return{hue:c,hex:hsvToHex$$module$build$src$core$utils$colour(c,getHsvSaturation$$module$build$src$core$utils$colour(),getHsvValue$$module$build$src$core$utils$colour()*255)};if(c=parse$$module$build$src$core$utils$colour(b))return{hue:null,hex:c};c='Invalid colour: \"'+b+'\"';a!==b&&(c+=' (from \"'+\na+'\")');throw Error(c);};getDiv$$module$build$src$core$widgetdiv=function(){return containerDiv$$module$build$src$core$widgetdiv};testOnly_setDiv$$module$build$src$core$widgetdiv=function(a){containerDiv$$module$build$src$core$widgetdiv=a;if(a===null){let b;(b=document.querySelector(\".\"+containerClassName$$module$build$src$core$widgetdiv))==null||b.remove()}};\ncreateDom$$module$build$src$core$widgetdiv=function(){const a=getParentContainer$$module$build$src$core$common()||document.body,b=document.querySelector(\"div.\"+containerClassName$$module$build$src$core$widgetdiv);b?containerDiv$$module$build$src$core$widgetdiv=b:(containerDiv$$module$build$src$core$widgetdiv=document.createElement(\"div\"),containerDiv$$module$build$src$core$widgetdiv.className=containerClassName$$module$build$src$core$widgetdiv,containerDiv$$module$build$src$core$widgetdiv.tabIndex=\n-1);conditionalBind$$module$build$src$core$browser_events(containerDiv$$module$build$src$core$widgetdiv,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common);a.appendChild(containerDiv$$module$build$src$core$widgetdiv)};\nshow$$module$build$src$core$widgetdiv=function(a,b,c,d,e=!0){hide$$module$build$src$core$widgetdiv();owner$$module$build$src$core$widgetdiv=a;dispose$$module$build$src$core$widgetdiv=c;if(c=containerDiv$$module$build$src$core$widgetdiv){c.style.direction=b?\"rtl\":\"ltr\";c.style.display=\"block\";if(!d&&a instanceof Field$$module$build$src$core$field){let h;d=(h=a.getSourceBlock())==null?void 0:h.workspace}var f;ownerWorkspace$$module$build$src$core$widgetdiv=(f=d)!=null?f:null;var g;a=(g=d)!=null?g:getMainWorkspace$$module$build$src$core$common();\nrendererClassName$$module$build$src$core$widgetdiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$widgetdiv=a.getTheme().getClassName();rendererClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(c,rendererClassName$$module$build$src$core$widgetdiv);themeClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(c,themeClassName$$module$build$src$core$widgetdiv);e&&(returnEphemeralFocus$$module$build$src$core$widgetdiv=\n$.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(c))}};\nhide$$module$build$src$core$widgetdiv=function(){if(isVisible$$module$build$src$core$widgetdiv()){owner$$module$build$src$core$widgetdiv=null;var a=containerDiv$$module$build$src$core$widgetdiv;a&&(a.style.display=\"none\",a.style.left=\"\",a.style.top=\"\",dispose$$module$build$src$core$widgetdiv&&(dispose$$module$build$src$core$widgetdiv(),dispose$$module$build$src$core$widgetdiv=null),a.textContent=\"\",rendererClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,\nrendererClassName$$module$build$src$core$widgetdiv),rendererClassName$$module$build$src$core$widgetdiv=\"\"),themeClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,themeClassName$$module$build$src$core$widgetdiv),themeClassName$$module$build$src$core$widgetdiv=\"\"),getMainWorkspace$$module$build$src$core$common().markFocused(),returnEphemeralFocus$$module$build$src$core$widgetdiv&&(returnEphemeralFocus$$module$build$src$core$widgetdiv(),returnEphemeralFocus$$module$build$src$core$widgetdiv=\nnull))}};isVisible$$module$build$src$core$widgetdiv=function(){return!!owner$$module$build$src$core$widgetdiv};hideIfOwner$$module$build$src$core$widgetdiv=function(a){owner$$module$build$src$core$widgetdiv===a&&hide$$module$build$src$core$widgetdiv()};hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv=function(a){let b=ownerWorkspace$$module$build$src$core$widgetdiv===null,c=a;for(;!b&&c;){if(c===a){b=!0;break}c=a.options.parentWorkspace}b&&hide$$module$build$src$core$widgetdiv()};\npositionInternal$$module$build$src$core$widgetdiv=function(a,b,c){containerDiv$$module$build$src$core$widgetdiv.style.left=a+\"px\";containerDiv$$module$build$src$core$widgetdiv.style.top=b+\"px\";containerDiv$$module$build$src$core$widgetdiv.style.height=c+\"px\"};\npositionWithAnchor$$module$build$src$core$widgetdiv=function(a,b,c,d){const e=calculateY$$module$build$src$core$widgetdiv(a,b,c);a=calculateX$$module$build$src$core$widgetdiv(a,b,c,d);e<0?positionInternal$$module$build$src$core$widgetdiv(a,0,c.height+e):positionInternal$$module$build$src$core$widgetdiv(a,e,c.height)};calculateX$$module$build$src$core$widgetdiv=function(a,b,c,d){return d?Math.min(Math.max(b.right-c.width,a.left),a.right-c.width):Math.max(Math.min(b.left,a.right-c.width),a.left)};\ncalculateY$$module$build$src$core$widgetdiv=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};isRepositionable$$module$build$src$core$widgetdiv=function(a){return!(a==null||!a.repositionForWindowResize)};repositionForWindowResize$$module$build$src$core$widgetdiv=function(){isRepositionable$$module$build$src$core$widgetdiv(owner$$module$build$src$core$widgetdiv)&&owner$$module$build$src$core$widgetdiv.repositionForWindowResize()||hide$$module$build$src$core$widgetdiv()};\ngetCurrentBlock$$module$build$src$core$contextmenu=function(){return currentBlock$$module$build$src$core$contextmenu};setCurrentBlock$$module$build$src$core$contextmenu=function(a){currentBlock$$module$build$src$core$contextmenu=a};\nshow$$module$build$src$core$contextmenu=function(a,b,c,d,e){show$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu,c,dispose$$module$build$src$core$contextmenu,d);if(b.length){e||(a instanceof PointerEvent?e=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):(console.warn(\"Context menu opened with keyboard but no location given\"),e=new Coordinate$$module$build$src$core$utils$coordinate(0,0)));var f=populate_$$module$build$src$core$contextmenu(b,\nc,a,e);menu_$$module$build$src$core$contextmenu=f;position_$$module$build$src$core$contextmenu(f,c,e);setTimeout(function(){f.focus()},1);currentBlock$$module$build$src$core$contextmenu=null}else hide$$module$build$src$core$contextmenu()};\npopulate_$$module$build$src$core$contextmenu=function(a,b,c,d){const e=new Menu$$module$build$src$core$menu;e.setRole(Role$$module$build$src$core$utils$aria.MENU);for(let f=0;f<a.length;f++){const g=a[f];if(g.separator){e.addChild(new MenuSeparator$$module$build$src$core$menu_separator);continue}const h=new MenuItem$$module$build$src$core$menuitem(g.text);h.setRightToLeft(b);h.setRole(Role$$module$build$src$core$utils$aria.MENUITEM);e.addChild(h);h.setEnabled(g.enabled);if(g.enabled)h.onAction(function(k,\nl){hide$$module$build$src$core$contextmenu();requestAnimationFrame(()=>{setTimeout(()=>{g.callback(g.scope,c,l,d)},0)})},{})}return e};\nposition_$$module$build$src$core$contextmenu=function(a,b,c){const d=getViewportBBox$$module$build$src$core$utils$svg_math();c=new Rect$$module$build$src$core$utils$rect(c.y+d.top,c.y+d.top,c.x+d.left,c.x+d.left);createWidget_$$module$build$src$core$contextmenu(a);const e=a.getSize();b&&(c.left+=e.width,c.right+=e.width,d.left+=e.width,d.right+=e.width);positionWithAnchor$$module$build$src$core$widgetdiv(d,c,e,b);a.focus()};\ncreateWidget_$$module$build$src$core$contextmenu=function(a){var b=getDiv$$module$build$src$core$widgetdiv();if(!b)throw Error(\"Attempting to create a context menu when widget div is null\");b=a.render(b);addClass$$module$build$src$core$utils$dom(b,\"blocklyContextMenu\");conditionalBind$$module$build$src$core$browser_events(b,\"contextmenu\",null,haltPropagation$$module$build$src$core$contextmenu);a.focus()};haltPropagation$$module$build$src$core$contextmenu=function(a){a.preventDefault();a.stopPropagation()};\nhide$$module$build$src$core$contextmenu=function(){hideIfOwner$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu);currentBlock$$module$build$src$core$contextmenu=null};dispose$$module$build$src$core$contextmenu=function(){menu_$$module$build$src$core$contextmenu&&(menu_$$module$build$src$core$contextmenu.dispose(),menu_$$module$build$src$core$contextmenu=null)};\n$.callbackFactory$$module$build$src$core$contextmenu=function(a,b){return()=>{$.disable$$module$build$src$core$events$utils();let c;try{c=b instanceof Element?domToBlockInternal$$module$build$src$core$xml(b,a.workspace):appendInternal$$module$build$src$core$serialization$blocks(b,a.workspace);const d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-$.config$$module$build$src$core$config.snapRadius:d.x+$.config$$module$build$src$core$config.snapRadius;d.y+=$.config$$module$build$src$core$config.snapRadius*\n2;c.moveBy(d.x,d.y)}finally{$.enable$$module$build$src$core$events$utils()}isEnabled$$module$build$src$core$events$utils()&&!c.isShadow()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(c));$.getFocusManager$$module$build$src$core$focus_manager().focusNode(c);return c}};\nmouseToWorkspacePoint$$module$build$src$core$utils$drag=function(a,b){b=mouseToSvg$$module$build$src$core$browser_events(b,a.getParentSvg(),a.getInverseScreenCTM());b.x/=a.scale;b.y/=a.scale;return b};start$$module$build$src$core$utils$drag=function(a,b,c){b=mouseToWorkspacePoint$$module$build$src$core$utils$drag(a,b);workspaceToDragDelta$$module$build$src$core$utils$drag.set(a,Coordinate$$module$build$src$core$utils$coordinate.difference(c,b))};\nmove$$module$build$src$core$utils$drag=function(a,b){b=mouseToWorkspacePoint$$module$build$src$core$utils$drag(a,b);a=workspaceToDragDelta$$module$build$src$core$utils$drag.get(a);if(!a)throw Error(\"Drag not initialized\");return Coordinate$$module$build$src$core$utils$coordinate.sum(a,b)};\nworkspaceToDom$$module$build$src$core$xml=function(a,b=!1){const c=$.createElement$$module$build$src$core$utils$xml(\"xml\");var d=variablesToDom$$module$build$src$core$xml($.allUsedVarModels$$module$build$src$core$variables(a));d.hasChildNodes()&&c.appendChild(d);for(const e of a.getTopComments())c.appendChild(saveWorkspaceComment$$module$build$src$core$xml(e,b));a=a.getTopBlocks(!0);for(d=0;d<a.length;d++)c.appendChild(blockToDomWithXY$$module$build$src$core$xml(a[d],b));return c};\nsaveWorkspaceComment$$module$build$src$core$xml=function(a,b=!1){const c=$.createElement$$module$build$src$core$utils$xml(\"comment\");b||c.setAttribute(\"id\",a.id);b=a.workspace;const d=a.getRelativeToSurfaceXY().clone();d.x=b.RTL?b.getWidth()-d.x:d.x;c.setAttribute(\"x\",`${d.x}`);c.setAttribute(\"y\",`${d.y}`);c.setAttribute(\"w\",`${a.getSize().width}`);c.setAttribute(\"h\",`${a.getSize().height}`);a.getText()&&(c.textContent=a.getText());a.isCollapsed()&&c.setAttribute(\"collapsed\",\"true\");a.isOwnEditable()||\nc.setAttribute(\"editable\",\"false\");a.isOwnMovable()||c.setAttribute(\"movable\",\"false\");a.isOwnDeletable()||c.setAttribute(\"deletable\",\"false\");return c};\nvariablesToDom$$module$build$src$core$xml=function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"variables\");for(let c=0;c<a.length;c++){const d=a[c],e=$.createElement$$module$build$src$core$utils$xml(\"variable\");e.appendChild($.createTextNode$$module$build$src$core$utils$xml(d.getName()));d.getType()&&e.setAttribute(\"type\",d.getType());e.id=d.getId();b.appendChild(e)}return b};\nblockToDomWithXY$$module$build$src$core$xml=function(a,b){if(a.isInsertionMarker()&&(a=a.getChildren(!1)[0],!a))return new DocumentFragment;let c=0;a.workspace.RTL&&(c=a.workspace.getWidth());b=blockToDom$$module$build$src$core$xml(a,b);if(isElement$$module$build$src$core$xml(b)){const d=a.getRelativeToSurfaceXY();b.setAttribute(\"x\",String(Math.round(a.workspace.RTL?c-d.x:d.x)));b.setAttribute(\"y\",String(Math.round(d.y)))}return b};\nfieldToDom$$module$build$src$core$xml=function(a){if(a.isSerializable()){const b=$.createElement$$module$build$src$core$utils$xml(\"field\");b.setAttribute(\"name\",a.name||\"\");return a.toXml(b)}return null};allFieldsToDom$$module$build$src$core$xml=function(a,b){for(const c of a.getFields())(a=fieldToDom$$module$build$src$core$xml(c))&&b.appendChild(a)};\nblockToDom$$module$build$src$core$xml=function(a,b){if(a.isInsertionMarker())return(b=a.getChildren(!1)[0])?blockToDom$$module$build$src$core$xml(b):new DocumentFragment;const c=$.createElement$$module$build$src$core$utils$xml(a.isShadow()?\"shadow\":\"block\");c.setAttribute(\"type\",a.type);b||(c.id=a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}allFieldsToDom$$module$build$src$core$xml(a,c);if(d=a.getCommentText()){var e=a.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT),\nf=e.getBubbleSize(),g=e.bubbleIsVisible();e=e.getBubbleLocation();var h=$.createElement$$module$build$src$core$utils$xml(\"comment\");h.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));h.setAttribute(\"pinned\",`${g}`);h.setAttribute(\"h\",`${f.height}`);h.setAttribute(\"w\",`${f.width}`);e&&(h.setAttribute(\"x\",`${a.workspace.RTL?a.workspace.getWidth()-(e.x+f.width):e.x}`),h.setAttribute(\"y\",`${e.y}`));c.appendChild(h)}a.data&&(d=$.createElement$$module$build$src$core$utils$xml(\"data\"),d.appendChild($.createTextNode$$module$build$src$core$utils$xml(a.data)),\nc.appendChild(d));for(d=0;d<a.inputList.length;d++){f=a.inputList[d];var k=void 0;g=!0;f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(e=f.connection.targetBlock(),f.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?k=$.createElement$$module$build$src$core$utils$xml(\"value\"):f.type===$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(k=$.createElement$$module$build$src$core$utils$xml(\"statement\")),\nh=f.connection.getShadowDom(),!h||e&&e.isShadow()||k.appendChild(cloneShadow$$module$build$src$core$xml(h,b)),e&&(e=blockToDom$$module$build$src$core$xml(e,b),e.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(k.appendChild(e),g=!1)),k.setAttribute(\"name\",f.name),g||c.appendChild(k))}a.inputsInline!==void 0&&a.inputsInline!==a.inputsInlineDefault&&c.setAttribute(\"inline\",String(a.inputsInline));a.isCollapsed()&&c.setAttribute(\"collapsed\",\"true\");a.isEnabled()||c.setAttribute(\"disabled-reasons\",\nArray.from(a.getDisabledReasons()).map(encodeURIComponent).join(\",\"));a.isOwnDeletable()||c.setAttribute(\"deletable\",\"false\");a.isOwnMovable()||c.setAttribute(\"movable\",\"false\");a.isOwnEditable()||c.setAttribute(\"editable\",\"false\");k=a.getNextBlock();let l;k&&(d=blockToDom$$module$build$src$core$xml(k,b),d.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(l=$.createElement$$module$build$src$core$utils$xml(\"next\"),l.appendChild(d),c.appendChild(l)));a=a.nextConnection&&a.nextConnection.getShadowDom();\n!a||k&&k.isShadow()||l.appendChild(cloneShadow$$module$build$src$core$xml(a,b));return c};\ncloneShadow$$module$build$src$core$xml=function(a,b){let c=a=a.cloneNode(!0),d;for(;c;)if(b&&c.nodeName===\"shadow\"&&c.removeAttribute(\"id\"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;){d=c;c=c.parentNode;let e;d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&d.data.trim()===\"\"&&((e=c)==null?void 0:e.firstChild)!==d&&removeNode$$module$build$src$core$utils$dom(d)}c&&(d=c,c=c.nextSibling,d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&d.data.trim()===\n\"\"&&removeNode$$module$build$src$core$utils$dom(d))}return a};domToText$$module$build$src$core$xml=function(a){return domToText$$module$build$src$core$utils$xml(a).replace(/<(\\w+)([^<]*)\\/>/g,\"<$1$2></$1>\")};\ndomToPrettyText$$module$build$src$core$xml=function(a){a=domToText$$module$build$src$core$xml(a).split(\"<\");let b=\"\";for(let c=1;c<a.length;c++){const d=a[c];d[0]===\"/\"&&(b=b.substring(2));a[c]=b+\"<\"+d;d[0]!==\"/\"&&d.slice(-2)!==\"/>\"&&(b+=\"  \")}a=a.join(\"\\n\");a=a.replace(/(<(\\w+)\\b[^>]*>[^\\n]*)\\n *<\\/\\2>/g,\"$1</$2>\");return a.replace(/^\\n/,\"\")};\nclearWorkspaceAndLoadFromXml$$module$build$src$core$xml=function(a,b){b.setResizesEnabled(!1);b.clear();a=$.domToWorkspace$$module$build$src$core$xml(a,b);b.setResizesEnabled(!0);return a};\n$.domToWorkspace$$module$build$src$core$xml=function(a,b){let c=0;b.RTL&&(c=b.getWidth());const d=[];startTextWidthCache$$module$build$src$core$utils$dom();const e=$.getGroup$$module$build$src$core$events$utils();e||$.setGroup$$module$build$src$core$events$utils(!0);b.setResizesEnabled&&b.setResizesEnabled(!1);let f=!0;try{for(let g=0,h;h=a.childNodes[g];g++){const k=h.nodeName.toLowerCase(),l=h;if(k===\"block\"||k===\"shadow\"&&!getRecordUndo$$module$build$src$core$events$utils()){const m=domToBlockInternal$$module$build$src$core$xml(l,\nb);d.push(m.id);let n;const p=parseInt((n=l.getAttribute(\"x\"))!=null?n:\"10\",10);let r;const q=parseInt((r=l.getAttribute(\"y\"))!=null?r:\"10\",10);isNaN(p)||isNaN(q)||m.moveBy(b.RTL?c-p:p,q,[\"create\"]);f=!1}else{if(k===\"shadow\")throw TypeError(\"Shadow block cannot be a top-level block.\");if(k===\"comment\")loadWorkspaceComment$$module$build$src$core$xml(l,b);else if(k===\"variables\"){if(f)domToVariables$$module$build$src$core$xml(l,b);else throw Error(\"'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.\");\nf=!1}}}}finally{$.setGroup$$module$build$src$core$events$utils(e),b.setResizesEnabled&&b.setResizesEnabled(!0),b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management(),stopTextWidthCache$$module$build$src$core$utils$dom()}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.FINISHED_LOADING))(b));return d};\nloadWorkspaceComment$$module$build$src$core$xml=function(a,b){var c;const d=(c=a.getAttribute(\"id\"))!=null?c:void 0;c=b.rendered?new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(b,d):new WorkspaceComment$$module$build$src$core$comments$workspace_comment(b,d);var e;c.setText((e=a.textContent)!=null?e:\"\");var f;e=parseInt((f=a.getAttribute(\"x\"))!=null?f:\"\",10);let g;f=parseInt((g=a.getAttribute(\"y\"))!=null?g:\"\",10);isNaN(e)||isNaN(f)||(e=b.RTL?b.getWidth()-e:e,\nc.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(e,f)));var h;b=parseInt((h=a.getAttribute(\"w\"))!=null?h:\"\",10);let k;h=parseInt((k=a.getAttribute(\"h\"))!=null?k:\"\",10);isNaN(b)||isNaN(h)||c.setSize(new Size$$module$build$src$core$utils$size(b,h));a.getAttribute(\"collapsed\")===\"true\"&&c.setCollapsed(!0);a.getAttribute(\"editable\")===\"false\"&&c.setEditable(!1);a.getAttribute(\"movable\")===\"false\"&&c.setMovable(!1);a.getAttribute(\"deletable\")===\"false\"&&c.setDeletable(!1);return c};\nappendDomToWorkspace$$module$build$src$core$xml=function(a,b){if(!b.getBlocksBoundingBox)return $.domToWorkspace$$module$build$src$core$xml(a,b);var c=b.getBlocksBoundingBox();a=$.domToWorkspace$$module$build$src$core$xml(a,b);if(c&&c.top!==c.bottom){var d=c.bottom;c=b.RTL?c.right:c.left;var e=Infinity;let f=-Infinity,g=Infinity;for(let h=0;h<a.length;h++){const k=b.getBlockById(a[h]).getRelativeToSurfaceXY();k.y<g&&(g=k.y);k.x<e&&(e=k.x);k.x>f&&(f=k.x)}d=d-g+10;c=b.RTL?c-f:c-e;for(e=0;e<a.length;e++)b.getBlockById(a[e]).moveBy(c,\nd,[\"create\"])}return a};$.domToBlock$$module$build$src$core$xml=function(a,b){a=domToBlockInternal$$module$build$src$core$xml(a,b);b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a};\ndomToBlockInternal$$module$build$src$core$xml=function(a,b){$.disable$$module$build$src$core$events$utils();var c=b.getAllVariables();let d;try{if(d=domToBlockHeadless$$module$build$src$core$xml(a,b),b.rendered){const e=d,f=d.getDescendants(!1);e.setConnectionTracking(!1);for(let g=f.length-1;g>=0;g--)f[g].initSvg();for(let g=f.length-1;g>=0;g--)f[g].queueRender();setTimeout(function(){e.disposed||e.setConnectionTracking(!0)},1);b.resizeContents()}else{const e=d.getDescendants(!1);for(let f=e.length-\n1;f>=0;f--)e[f].initModel()}}finally{$.enable$$module$build$src$core$events$utils()}if(isEnabled$$module$build$src$core$events$utils()){a=getAddedVariables$$module$build$src$core$variables(b,c);for(b=0;b<a.length;b++)c=a[b],fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(c));fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(d))}return d};\ndomToVariables$$module$build$src$core$xml=function(a,b){for(let d=0;d<a.children.length;d++){var c=a.children[d];const e=c.getAttribute(\"type\"),f=c.getAttribute(\"id\");c=c.textContent;if(!c)break;let g;b.getVariableMap().createVariable(c,(g=e)!=null?g:void 0,f)}};\nmapSupportedXmlTags$$module$build$src$core$xml=function(a){const b={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let c=0;c<a.children.length;c++){const d=a.children[c];if(d.nodeType!==NodeType$$module$build$src$core$utils$dom.TEXT_NODE)switch(d.nodeName.toLowerCase()){case \"mutation\":b.mutation.push(d);break;case \"comment\":b.comment.push(d);break;case \"data\":b.data.push(d);break;case \"title\":case \"field\":b.field.push(d);break;case \"value\":case \"statement\":b.input.push(d);break;case \"next\":b.next.push(d);\nbreak;default:console.warn(\"Ignoring unknown tag: \"+d.nodeName)}}return b};applyMutationTagNodes$$module$build$src$core$xml=function(a,b){let c=!1;for(let d=0;d<a.length;d++){const e=a[d];b.domToMutation&&(b.domToMutation(e),b.initSvg&&(c=!0))}return c};\napplyCommentTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++){const d=a[c],e=d.textContent,f=d.getAttribute(\"pinned\")===\"true\";let g;const h=parseInt((g=d.getAttribute(\"w\"))!=null?g:\"50\",10);let k;const l=parseInt((k=d.getAttribute(\"h\"))!=null?k:\"50\",10);let m,n=parseInt((m=d.getAttribute(\"x\"))!=null?m:\"\",10),p;const r=parseInt((p=d.getAttribute(\"y\"))!=null?p:\"\",10);b.setCommentText(e);const q=b.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);isNaN(h)||\nisNaN(l)||q.setBubbleSize(new Size$$module$build$src$core$utils$size(h,l));q.setBubbleVisible(f);setTimeout(()=>{isNaN(n)||isNaN(r)||(n=b.workspace.RTL?b.workspace.getWidth()-(n+h):n,q.setBubbleLocation(new Coordinate$$module$build$src$core$utils$coordinate(n,r)));q.setBubbleVisible(f)},1)}};applyDataTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++)b.data=a[c].textContent};\napplyFieldTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++){const d=a[c],e=d.getAttribute(\"name\");e?domToField$$module$build$src$core$xml(b,e,d):console.warn(`Ignoring unnamed field in block ${b.type}`)}};\nfindChildBlocks$$module$build$src$core$xml=function(a){let b=null,c=null;for(let d=0;d<a.childNodes.length;d++){const e=a.childNodes[d];isElement$$module$build$src$core$xml(e)&&(e.nodeName.toLowerCase()===\"block\"?b=e:e.nodeName.toLowerCase()===\"shadow\"&&(c=e))}return{childBlockElement:b,childShadowElement:c}};\napplyInputTagNodes$$module$build$src$core$xml=function(a,b,c,d){for(let f=0;f<a.length;f++){var e=a[f];const g=e.getAttribute(\"name\"),h=g?c.getInput(g):null;if(!h){console.warn(\"Ignoring non-existent input \"+g+\" in block \"+d);break}e=findChildBlocks$$module$build$src$core$xml(e);if(e.childBlockElement){if(!h.connection)throw TypeError(\"Input connection does not exist.\");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,h.connection,!1)}if(e.childShadowElement){let k;(k=h.connection)==\nnull||k.setShadowDom(e.childShadowElement)}}};\napplyNextTagNodes$$module$build$src$core$xml=function(a,b,c){for(let d=0;d<a.length;d++){const e=findChildBlocks$$module$build$src$core$xml(a[d]);if(e.childBlockElement){if(!c.nextConnection)throw TypeError(\"Next statement does not exist.\");if(c.nextConnection.isConnected())throw TypeError(\"Next statement is already connected.\");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,c.nextConnection,!0)}e.childShadowElement&&c.nextConnection&&c.nextConnection.setShadowDom(e.childShadowElement)}};\ndomToBlockHeadless$$module$build$src$core$xml=function(a,b,c,d){var e;const f=a.getAttribute(\"type\");if(!f)throw TypeError(\"Block type unspecified: \"+a.outerHTML);var g=(e=a.getAttribute(\"id\"))!=null?e:void 0;e=b.newBlock(f,g);g=mapSupportedXmlTags$$module$build$src$core$xml(a);const h=applyMutationTagNodes$$module$build$src$core$xml(g.mutation,e);applyCommentTagNodes$$module$build$src$core$xml(g.comment,e);applyDataTagNodes$$module$build$src$core$xml(g.data,e);if(c)if(d)if(e.previousConnection)c.connect(e.previousConnection);\nelse throw TypeError(\"Next block does not have previous statement.\");else if(e.outputConnection)c.connect(e.outputConnection);else if(e.previousConnection)c.connect(e.previousConnection);else throw TypeError(\"Child block does not have output or previous statement.\");applyFieldTagNodes$$module$build$src$core$xml(g.field,e);applyInputTagNodes$$module$build$src$core$xml(g.input,b,e,f);applyNextTagNodes$$module$build$src$core$xml(g.next,b,e);h&&e.initSvg();(b=a.getAttribute(\"inline\"))&&e.setInputsInline(b===\n\"true\");(b=a.getAttribute(\"disabled\"))&&e.setDisabledReason(b===\"true\"||b===\"disabled\",MANUALLY_DISABLED$$module$build$src$core$constants);b=a.getAttribute(\"disabled-reasons\");if(b!==null)for(var k of b.split(\",\"))e.setDisabledReason(!0,decodeURIComponent(k));(k=a.getAttribute(\"deletable\"))&&e.setDeletable(k===\"true\");(k=a.getAttribute(\"movable\"))&&e.setMovable(k===\"true\");(k=a.getAttribute(\"editable\"))&&e.setEditable(k===\"true\");(k=a.getAttribute(\"collapsed\"))&&e.setCollapsed(k===\"true\");if(a.nodeName.toLowerCase()===\n\"shadow\"){a=e.getChildren(!1);for(k=0;k<a.length;k++)if(!a[k].isShadow())throw TypeError(\"Shadow block not allowed non-shadow child.\");e.setShadow(!0)}return e};domToField$$module$build$src$core$xml=function(a,b,c){const d=a.getField(b);d?d.fromXml(c):console.warn(\"Ignoring non-existent field \"+b+\" in block \"+a.type)};deleteNext$$module$build$src$core$xml=function(a){for(let b=0;b<a.childNodes.length;b++){const c=a.childNodes[b];if(c.nodeName.toLowerCase()===\"next\"){a.removeChild(c);break}}};\nisElement$$module$build$src$core$xml=function(a){return a.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE};register$$module$build$src$core$field_registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a,b,!0)};unregister$$module$build$src$core$field_registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a)};$.fromJson$$module$build$src$core$field_registry=function(a){return TEST_ONLY$$module$build$src$core$field_registry.fromJsonInternal(a)};\nfromJsonInternal$$module$build$src$core$field_registry=function(a){const b=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a.type);return b?b.fromJson(a):(console.warn(\"Blockly could not create a field of type \"+a.type+\". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached.\"),null)};\nisImageProperties$$module$build$src$core$field_dropdown=function(a){return a&&typeof a===\"object\"&&\"src\"in a&&typeof a.src===\"string\"&&\"alt\"in a&&typeof a.alt===\"string\"&&\"width\"in a&&typeof a.width===\"number\"&&\"height\"in a&&typeof a.height===\"number\"};\n$.register$$module$build$src$core$extensions=function(a,b){if(typeof a!==\"string\"||a.trim()===\"\")throw Error('Error: Invalid extension name \"'+a+'\"');if(allExtensions$$module$build$src$core$extensions[a])throw Error('Error: Extension \"'+a+'\" is already registered.');if(typeof b!==\"function\")throw Error('Error: Extension \"'+a+'\" must be a function');allExtensions$$module$build$src$core$extensions[a]=b};\n$.registerMixin$$module$build$src$core$extensions=function(a,b){if(!b||typeof b!==\"object\")throw Error('Error: Mixin \"'+a+'\" must be a object');$.register$$module$build$src$core$extensions(a,function(){this.mixin(b)})};\n$.registerMutator$$module$build$src$core$extensions=function(a,b,c,d){const e='Error when registering mutator \"'+a+'\": ';checkHasMutatorProperties$$module$build$src$core$extensions(e,b);const f=checkMutatorDialog$$module$build$src$core$extensions(b,e);if(c&&typeof c!==\"function\")throw Error(e+'Extension \"'+a+'\" is not a function');$.register$$module$build$src$core$extensions(a,function(){f&&this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this));this.mixin(b);c&&c.apply(this)})};\nunregister$$module$build$src$core$extensions=function(a){isRegistered$$module$build$src$core$extensions(a)?delete allExtensions$$module$build$src$core$extensions[a]:console.warn('No extension mapping for name \"'+a+'\" found to unregister')};isRegistered$$module$build$src$core$extensions=function(a){return!!allExtensions$$module$build$src$core$extensions[a]};\napply$$module$build$src$core$extensions=function(a,b,c){const d=allExtensions$$module$build$src$core$extensions[a];if(typeof d!==\"function\")throw Error('Error: Extension \"'+a+'\" not found.');let e;c?checkNoMutatorProperties$$module$build$src$core$extensions(a,b):e=getMutatorProperties$$module$build$src$core$extensions(b);d.apply(b);if(c)checkHasMutatorProperties$$module$build$src$core$extensions('Error after applying mutator \"'+a+'\": ',b);else if(!mutatorPropertiesMatch$$module$build$src$core$extensions(e,\nb))throw Error('Error when applying extension \"'+a+'\": mutation properties changed when applying a non-mutator extension.');};checkNoMutatorProperties$$module$build$src$core$extensions=function(a,b){if(getMutatorProperties$$module$build$src$core$extensions(b).length)throw Error('Error: tried to apply mutation \"'+a+'\" to a block that already has mutator functions.  Block id: '+b.id);};\ncheckXmlHooks$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.mutationToDom,a.domToMutation,b+\" mutationToDom/domToMutation\")};checkJsonHooks$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.saveExtraState,a.loadExtraState,b+\" saveExtraState/loadExtraState\")};\ncheckMutatorDialog$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.compose,a.decompose,b+\" compose/decompose\")};checkHasFunctionPair$$module$build$src$core$extensions=function(a,b,c){if(a&&b){if(typeof a!==\"function\"||typeof b!==\"function\")throw Error(c+\" must be a function\");return!0}if(!a&&!b)return!1;throw Error(c+\"Must have both or neither functions\");};\ncheckHasMutatorProperties$$module$build$src$core$extensions=function(a,b){const c=checkXmlHooks$$module$build$src$core$extensions(b,a),d=checkJsonHooks$$module$build$src$core$extensions(b,a);if(!c&&!d)throw Error(a+\"Mutations must contain either XML hooks, or JSON hooks, or both\");checkMutatorDialog$$module$build$src$core$extensions(b,a)};\ngetMutatorProperties$$module$build$src$core$extensions=function(a){const b=[];a.domToMutation!==void 0&&b.push(a.domToMutation);a.mutationToDom!==void 0&&b.push(a.mutationToDom);a.saveExtraState!==void 0&&b.push(a.saveExtraState);a.loadExtraState!==void 0&&b.push(a.loadExtraState);a.compose!==void 0&&b.push(a.compose);a.decompose!==void 0&&b.push(a.decompose);return b};\nmutatorPropertiesMatch$$module$build$src$core$extensions=function(a,b){b=getMutatorProperties$$module$build$src$core$extensions(b);if(b.length!==a.length)return!1;for(let c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0};\nrunAfterPageLoad$$module$build$src$core$extensions=function(a){if(typeof document!==\"object\")throw Error(\"runAfterPageLoad() requires browser document.\");if(document.readyState===\"complete\")a();else{const b=setInterval(function(){document.readyState===\"complete\"&&(clearInterval(b),a())},10)}};\n$.buildTooltipForDropdown$$module$build$src$core$extensions=function(a,b){const c=[];return function(){c.includes(this.type)||(checkDropdownOptionsInTable$$module$build$src$core$extensions(this,a,b),c.push(this.type));this.setTooltip(function(){const d=String(this.getFieldValue(a));return replaceMessageReferences$$module$build$src$core$utils$parsing(b[d])}.bind(this))}};\ncheckDropdownOptionsInTable$$module$build$src$core$extensions=function(a,b,c){var d=a.getField(b);if(d instanceof FieldDropdown$$module$build$src$core$field_dropdown&&!d.isOptionListDynamic()){d=d.getOptions();for(const e of d)e!==FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR&&([,d]=e,c[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field `+`${b} of block type ${a.type}.`))}};\n$.buildTooltipWithFieldText$$module$build$src$core$extensions=function(a,b){return function(){this.setTooltip(function(){const c=this.getField(b);return replaceMessageReferences$$module$build$src$core$utils$parsing(a).replace(\"%1\",c?c.getText():\"\")}.bind(this))}};extensionParentTooltip$$module$build$src$core$extensions=function(){const a=this.tooltip;this.setTooltip(function(){const b=this.getParent();return b&&b.getInputsInline()&&b.tooltip||a}.bind(this))};\npoint$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+\",\"+b+\" \"};curve$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+b.join(\"\")};moveTo$$module$build$src$core$utils$svg_paths=function(a,b){return\" M \"+a+\",\"+b+\" \"};moveBy$$module$build$src$core$utils$svg_paths=function(a,b){return\" m \"+a+\",\"+b+\" \"};lineTo$$module$build$src$core$utils$svg_paths=function(a,b){return\" l \"+a+\",\"+b+\" \"};line$$module$build$src$core$utils$svg_paths=function(a){return\" l\"+a.join(\"\")};\nlineOnAxis$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+\" \"+b+\" \"};arc$$module$build$src$core$utils$svg_paths=function(a,b,c,d){return a+\" \"+c+\" \"+c+\" \"+b+d};connectReciprocally$$module$build$src$core$connection=function(a,b){if(!a||!b)throw Error(\"Cannot connect null connections.\");a.targetConnection=b;b.targetConnection=a};\ngetSingleConnection$$module$build$src$core$connection=function(a,b){let c=null;b=b.outputConnection;const d=b==null?void 0:b.getConnectionChecker();for(let e=0,f;f=a.inputList[e];e++){const g=f.connection;let h;if(g&&((h=d)==null?0:h.canConnect(b,g,!1))){if(c)return null;c=g}}return c};getConnectionForOrphanedOutput$$module$build$src$core$connection=function(a,b){let c;for(;c=getSingleConnection$$module$build$src$core$connection(a,b);)if(a=c.targetBlock(),!a||a.isShadow())return c;return null};\nisIcon$$module$build$src$core$interfaces$i_icon=function(a){return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(a)&&typeof a.getType===\"function\"&&typeof a.initView===\"function\"&&typeof a.dispose===\"function\"&&typeof a.getWeight===\"function\"&&typeof a.getSize===\"function\"&&typeof a.applyColour===\"function\"&&typeof a.hideForInsertionMarker===\"function\"&&typeof a.updateEditable===\"function\"&&typeof a.updateCollapsed===\"function\"&&typeof a.isShownWhenCollapsed===\"function\"&&typeof a.setOffsetInBlock===\n\"function\"&&typeof a.onLocationChange===\"function\"&&typeof a.onClick===\"function\"};\nisCommentIcon$$module$build$src$core$interfaces$i_comment_icon=function(a){return isIcon$$module$build$src$core$interfaces$i_icon(a)&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(a)&&isSerializable$$module$build$src$core$interfaces$i_serializable(a)&&typeof a.setText===\"function\"&&typeof a.getText===\"function\"&&typeof a.setBubbleSize===\"function\"&&typeof a.getBubbleSize===\"function\"&&typeof a.setBubbleLocation===\"function\"&&typeof a.getBubbleLocation===\"function\"&&a.getType()===IconType$$module$build$src$core$icons$icon_types.COMMENT};\ndisposeUiEffect$$module$build$src$core$block_animations=function(a){if(!(a.getDescendants(!1).length>100)){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play(\"delete\");var d=a.getRelativeToSurfaceXY(),e=c.cloneNode(!0);e.setAttribute(\"transform\",\"translate(\"+d.x+\",\"+d.y+\")\");var f;(f=b.getLayerManager())==null||f.appendToAnimationLayer({getSvgRoot:()=>e});disposeUiStep$$module$build$src$core$block_animations(e,{x:d.x,y:d.y,width:a.width,height:a.height},b.RTL,new Date)}};\ndisposeUiStep$$module$build$src$core$block_animations=function(a,b,c,d){const e=((new Date).getTime()-d.getTime())/150;e>1?removeNode$$module$build$src$core$utils$dom(a):(a.setAttribute(\"transform\",\"translate(\"+(b.x+(c?-1:1)*b.width/2*e)+\",\"+(b.y+b.height/2*e)+\") scale(\"+(1-e)+\")\"),setTimeout(disposeUiStep$$module$build$src$core$block_animations,10,a,b,c,d))};\nconnectionUiEffect$$module$build$src$core$block_animations=function(a){var b=a.workspace;const c=b.scale;b.getAudioManager().play(\"click\");if(!(c<1)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c);var e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:\"none\",stroke:\"#888\",\"stroke-width\":10},b.getParentSvg());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,\n{id:\"animationCircle\",begin:\"indefinite\",attributeName:\"r\",dur:\"150ms\",from:0,to:25*c},e);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,{id:\"animationOpacity\",begin:\"indefinite\",attributeName:\"opacity\",dur:\"150ms\",from:1,to:0},e);a.beginElement();b.beginElement();setTimeout(()=>void removeNode$$module$build$src$core$utils$dom(e),150)}};\ndisconnectUiEffect$$module$build$src$core$block_animations=function(a){disconnectUiStop$$module$build$src$core$block_animations();a.workspace.getAudioManager().play(\"disconnect\");if(!(a.workspace.scale<1)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180;a.RTL||(b*=-1);wobblingBlock$$module$build$src$core$block_animations=a;disconnectUiStep$$module$build$src$core$block_animations(a,b,new Date,0)}};\ndisconnectUiStep$$module$build$src$core$block_animations=function(a,b,c,d){const e=[.66,1,.66,0,-.66,-1,-.66,0];let f=\"\";c.getTime()+200>(new Date).getTime()&&(f=`skewX(${Math.round(e[d%e.length]*b)})`,disconnectPid$$module$build$src$core$block_animations=setTimeout(disconnectUiStep$$module$build$src$core$block_animations,15,a,b,c,d+1));a.getSvgRoot().setAttribute(\"transform\",`${a.getTranslation()} ${f}`)};\ndisconnectUiStop$$module$build$src$core$block_animations=function(){wobblingBlock$$module$build$src$core$block_animations&&(disconnectPid$$module$build$src$core$block_animations&&(clearTimeout(disconnectPid$$module$build$src$core$block_animations),disconnectPid$$module$build$src$core$block_animations=null),wobblingBlock$$module$build$src$core$block_animations.getSvgRoot().setAttribute(\"transform\",wobblingBlock$$module$build$src$core$block_animations.getTranslation()),wobblingBlock$$module$build$src$core$block_animations=\nnull)};\nmoveBlockToNotConflict$$module$build$src$core$clipboard$block_paster=function(a,b){a.workspace.RTL&&(b.x=a.workspace.getWidth()-b.x);const c=a.workspace,d=$.config$$module$build$src$core$config.snapRadius,e=Coordinate$$module$build$src$core$utils$coordinate.difference(b,a.getRelativeToSurfaceXY()),f=new Coordinate$$module$build$src$core$utils$coordinate(0,0),g=c.getAllBlocks(!1).filter(h=>h.id!=a.id).map(h=>h.getRelativeToSurfaceXY());for(;blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(b,f),\ng)||blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster(a,Coordinate$$module$build$src$core$utils$coordinate.sum(e,f),d);)c.RTL?f.translate(-d,d*2):f.translate(d,d*2);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(b,f))};blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster=function(a,b){return b.some(c=>Math.abs(c.x-a.x)<=1&&Math.abs(c.y-a.y)<=1)};\nblockIsInSnapRadius$$module$build$src$core$clipboard$block_paster=function(a,b,c){return a.getConnections_(!1).some(d=>!!d.closest(c,b).connection)};\nbumpObjectIntoBounds$$module$build$src$core$bump_objects=function(a,b,c){const d=c.getBoundingRectangle(),e=d.right-d.left,f=clamp$$module$build$src$core$utils$math(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top;let g=b.left;b=b.left+b.width-e;a.RTL?g=Math.min(b,g):b=Math.max(g,b);return(a=clamp$$module$build$src$core$utils$math(g,d.left,b)-d.left)||f?(c.moveBy(a,f,[\"inbounds\"]),!0):!1};\nbumpIntoBoundsHandler$$module$build$src$core$bump_objects=function(a){return b=>{var c=a.getMetricsManager();if(c.hasFixedEdges()&&!a.isDragging()){var d;if(BUMP_EVENTS$$module$build$src$core$events$type.includes((d=b.type)!=null?d:\"\")){d=c.getScrollMetrics(!0);const e=extractObjectFromEvent$$module$build$src$core$bump_objects(a,b);e&&(c=$.getGroup$$module$build$src$core$events$utils()||!1,$.setGroup$$module$build$src$core$events$utils(b.group),bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,\nd,e)&&!b.group&&console.warn(\"Moved object in bounds but there was no event group. This may break undo.\"),$.setGroup$$module$build$src$core$events$utils(c))}else isViewportChange$$module$build$src$core$events$predicates(b)&&b.scale&&b.oldScale&&b.scale>b.oldScale&&bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a)}}};\nextractObjectFromEvent$$module$build$src$core$bump_objects=function(a,b){let c=null;switch(b.type){case EventType$$module$build$src$core$events$type.BLOCK_CREATE:case EventType$$module$build$src$core$events$type.BLOCK_MOVE:(c=a.getBlockById(b.blockId))&&(c=c.getRootBlock());break;case EventType$$module$build$src$core$events$type.COMMENT_CREATE:case EventType$$module$build$src$core$events$type.COMMENT_MOVE:case EventType$$module$build$src$core$events$type.COMMENT_RESIZE:c=a.getCommentById(b.commentId)}return c};\nbumpTopObjectsIntoBounds$$module$build$src$core$bump_objects=function(a){var b=a.getMetricsManager();if(b.hasFixedEdges()&&!a.isDragging()){b=b.getScrollMetrics(!0);var c=a.getTopBoundedElements();for(let d=0,e;e=c[d];d++)bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,b,e)}};isDeletable$$module$build$src$core$interfaces$i_deletable=function(a){return a&&typeof a.isDeletable===\"function\"&&typeof a.dispose===\"function\"&&typeof a.setDeleteStyle===\"function\"};\ngetBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){const c=a.getIcons();for(const d of a.inputList){if(!d.isVisible())continue;c.push(...d.fieldRow);let e;if((e=d.connection)==null?0:e.targetBlock())if(a=d.connection.targetBlock(),d.connection.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||b)c.push(a);else{let f;(a=(f=a.lastConnectionInStack(!1))==null?void 0:f.getSourceBlock())&&c.push(a)}else{let f;((f=d.connection)==\nnull?void 0:f.type)===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&c.push(d.connection)}}return c};\nnavigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){const c=a.workspace.getTopBoundedElements(!0).filter(e=>isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(e));a=c.indexOf(a instanceof BlockSvg$$module$build$src$core$block_svg?a.getRootBlock():a)+b;let d=null;a>=0&&a<c.length?d=c[a]:a<0?d=c[c.length-1]:a>=c.length&&(d=c[0]);if(b<0&&d instanceof BlockSvg$$module$build$src$core$block_svg){let e,f;return(f=(e=d.lastConnectionInStack(!1))==null?\nvoid 0:e.getSourceBlock())!=null?f:d}return d};\nnavigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){var c;let d;const e=a instanceof BlockSvg$$module$build$src$core$block_svg?(d=(c=a.outputConnection)==null?void 0:c.targetBlock())!=null?d:a.getSurroundParent():a.getSourceBlock();if(!(e instanceof BlockSvg$$module$build$src$core$block_svg))return null;c=getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy(e,b>0);a=c.indexOf(a);if(a===-1)return null;b=a+b;return b>=0&&b<c.length?\nc[b]:null};register$$module$build$src$core$icons$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a.toString(),b)};unregister$$module$build$src$core$icons$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a)};\nisDraggable$$module$build$src$core$interfaces$i_draggable=function(a){return a&&typeof a.getRelativeToSurfaceXY===\"function\"&&typeof a.isMovable===\"function\"&&typeof a.startDrag===\"function\"&&typeof a.drag===\"function\"&&typeof a.endDrag===\"function\"&&typeof a.revertDrag===\"function\"};isAutoHideable$$module$build$src$core$interfaces$i_autohideable=function(a){return a&&typeof a.autoHide===\"function\"};\nisProcedureBlock$$module$build$src$core$interfaces$i_procedure_block=function(a){return typeof a.getProcedureModel===\"function\"&&typeof a.doProcedureUpdate===\"function\"&&typeof a.isProcedureDef===\"function\"};isObservable$$module$build$src$core$interfaces$i_observable=function(a){return a&&typeof a.startPublishing===\"function\"&&typeof a.stopPublishing===\"function\"};\nallProcedures$$module$build$src$core$procedures=function(a){const b=a.getProcedureMap().getProcedures().filter(d=>!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(e=>e.getName()),!1]);a.getBlocksByType(\"procedures_defnoreturn\",!1).forEach(d=>{!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&b.push(d.getProcedureDef())});const c=a.getProcedureMap().getProcedures().filter(d=>\n!!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(e=>e.getName()),!0]);a.getBlocksByType(\"procedures_defreturn\",!1).forEach(d=>{!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&c.push(d.getProcedureDef())});b.sort(procTupleComparator$$module$build$src$core$procedures);c.sort(procTupleComparator$$module$build$src$core$procedures);return[b,c]};\nprocTupleComparator$$module$build$src$core$procedures=function(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:\"base\"})};$.findLegalName$$module$build$src$core$procedures=function(a,b){if(b.isInFlyout)return a;for(a=a||$.Msg$$module$build$src$core$msg.UNNAMED_KEY||\"unnamed\";!isLegalName$$module$build$src$core$procedures(a,b.workspace,b);){const c=a.match(/^(.*?)(\\d+)$/);a=c?c[1]+(parseInt(c[2])+1):a+\"2\"}return a};\nisLegalName$$module$build$src$core$procedures=function(a,b,c){return!isNameUsed$$module$build$src$core$procedures(a,b,c)};\nisNameUsed$$module$build$src$core$procedures=function(a,b,c){for(const d of b.getAllBlocks(!1))if(d!==c&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&$.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],a))return!0;c=c&&isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)?c==null?void 0:c.getProcedureModel():void 0;for(const d of b.getProcedureMap().getProcedures())if(d!==c&&$.Names$$module$build$src$core$names.equals(d.getName(),\na))return!0;return!1};\n$.rename$$module$build$src$core$procedures=function(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;a=a.trim();const c=$.findLegalName$$module$build$src$core$procedures(a,b);isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(b)&&!b.isInsertionMarker()&&b.getProcedureModel().setName(c);const d=this.getValue();if(d!==a&&d!==c)for(a=b.workspace.getAllBlocks(!1),b=0;b<a.length;b++){const e=a[b];e.renameProcedure&&e.renameProcedure(d,c)}return c};\nxmlFlyoutCategory$$module$build$src$core$procedures=function(a){function b(f,g){for(let k=0;k<f.length;k++){var h=f[k][0];const l=f[k][1],m=$.createElement$$module$build$src$core$utils$xml(\"block\");m.setAttribute(\"type\",g);m.setAttribute(\"gap\",\"16\");const n=$.createElement$$module$build$src$core$utils$xml(\"mutation\");n.setAttribute(\"name\",h);m.appendChild(n);for(h=0;h<l.length;h++){const p=$.createElement$$module$build$src$core$utils$xml(\"arg\");p.setAttribute(\"name\",l[h]);n.appendChild(p)}c.push(m)}}\nconst c=[];if(Blocks$$module$build$src$core$blocks.procedures_defnoreturn){var d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"procedures_defnoreturn\");d.setAttribute(\"gap\",\"16\");var e=$.createElement$$module$build$src$core$utils$xml(\"field\");e.setAttribute(\"name\",\"NAME\");e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d)}Blocks$$module$build$src$core$blocks.procedures_defreturn&&\n(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),d.setAttribute(\"type\",\"procedures_defreturn\"),d.setAttribute(\"gap\",\"16\"),e=$.createElement$$module$build$src$core$utils$xml(\"field\"),e.setAttribute(\"name\",\"NAME\"),e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));Blocks$$module$build$src$core$blocks.procedures_ifreturn&&(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),\nd.setAttribute(\"type\",\"procedures_ifreturn\"),d.setAttribute(\"gap\",\"16\"),c.push(d));c.length&&c[c.length-1].setAttribute(\"gap\",\"24\");a=allProcedures$$module$build$src$core$procedures(a);b(a[0],\"procedures_callnoreturn\");b(a[1],\"procedures_callreturn\");return c};internalFlyoutCategory$$module$build$src$core$procedures=function(a){return flyoutCategory$$module$build$src$core$procedures(a,!1)};\nflyoutCategory$$module$build$src$core$procedures=function(a,b=!0){function c(e,f){for(const [g,h]of e)d.push({kind:\"block\",type:f,gap:16,extraState:{name:g,params:h}})}if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.Procedures.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),xmlFlyoutCategory$$module$build$src$core$procedures(a);const d=[];Blocks$$module$build$src$core$blocks.procedures_defnoreturn&&\nd.push({kind:\"block\",type:\"procedures_defnoreturn\",gap:16,fields:{NAME:$.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}});Blocks$$module$build$src$core$blocks.procedures_defreturn&&d.push({kind:\"block\",type:\"procedures_defreturn\",gap:16,fields:{NAME:$.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}});Blocks$$module$build$src$core$blocks.procedures_ifreturn&&d.push({kind:\"block\",type:\"procedures_ifreturn\",gap:16});d.length&&(d[d.length-1].gap=24);a=allProcedures$$module$build$src$core$procedures(a);\nc(a[0],\"procedures_callnoreturn\");c(a[1],\"procedures_callreturn\");return d};\nupdateMutatorFlyout$$module$build$src$core$procedures=function(a){var b=[],c=a.getBlocksByType(\"procedures_mutatorarg\",!1);for(let f=0,g;g=c[f];f++)b.push(g.getFieldValue(\"NAME\"));c=$.createElement$$module$build$src$core$utils$xml(\"xml\");const d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"procedures_mutatorarg\");const e=$.createElement$$module$build$src$core$utils$xml(\"field\");e.setAttribute(\"name\",\"NAME\");b=generateUniqueNameFromOptions$$module$build$src$core$variables($.DEFAULT_ARG$$module$build$src$core$procedures,\nb);b=$.createTextNode$$module$build$src$core$utils$xml(b);e.appendChild(b);d.appendChild(e);c.appendChild(d);a.updateToolbox(c)};\nmutatorOpenListener$$module$build$src$core$procedures=function(a){if(isBubbleOpen$$module$build$src$core$events$predicates(a)&&a.bubbleType===\"mutator\"&&a.isOpen&&a.blockId){a=getWorkspaceById$$module$build$src$core$common(a.workspaceId).getBlockById(a.blockId);var b=a.type;if(b===\"procedures_defnoreturn\"||b===\"procedures_defreturn\")a=a.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),updateMutatorFlyout$$module$build$src$core$procedures(a),a.addChangeListener(mutatorChangeListener$$module$build$src$core$procedures)}};\nmutatorChangeListener$$module$build$src$core$procedures=function(a){if(isBlockCreate$$module$build$src$core$events$predicates(a)||isBlockDelete$$module$build$src$core$events$predicates(a)||isBlockChange$$module$build$src$core$events$predicates(a)||isBlockFieldIntermediateChange$$module$build$src$core$events$predicates(a))a=getWorkspaceById$$module$build$src$core$common(a.workspaceId),updateMutatorFlyout$$module$build$src$core$procedures(a)};\ngetCallers$$module$build$src$core$procedures=function(a,b){return b.getAllBlocks(!1).filter(c=>blockIsModernCallerFor$$module$build$src$core$procedures(c,a)||isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureCall(),a))};\nblockIsModernCallerFor$$module$build$src$core$procedures=function(a,b){return isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(a)&&!a.isProcedureDef()&&a.getProcedureModel()&&$.Names$$module$build$src$core$names.equals(a.getProcedureModel().getName(),b)};\n$.mutateCallers$$module$build$src$core$procedures=function(a){const b=getRecordUndo$$module$build$src$core$events$utils();var c=a.getProcedureDef()[0];const d=a.mutationToDom(!0);a=getCallers$$module$build$src$core$procedures(c,a.workspace);for(let f=0,g;g=a[f];f++){c=(c=g.mutationToDom())&&domToText$$module$build$src$core$utils$xml(c);g.domToMutation&&g.domToMutation(d);var e=g.mutationToDom();e=e&&domToText$$module$build$src$core$utils$xml(e);c!==e&&($.setRecordUndo$$module$build$src$core$events$utils(!1),\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(g,\"mutation\",null,c,e)),$.setRecordUndo$$module$build$src$core$events$utils(b))}};\n$.getDefinition$$module$build$src$core$procedures=function(a,b){for(const c of b.getAllBlocks(!1))if(isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)&&c.isProcedureDef()&&$.Names$$module$build$src$core$names.equals(c.getProcedureModel().getName(),a)||isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureDef()[0],a))return c;return null};\nisDynamicShape$$module$build$src$core$renderers$common$constants=function(a){return a.isDynamic};isPuzzleTab$$module$build$src$core$renderers$common$constants=function(a){return a.pathDown!==void 0&&a.pathUp!==void 0};isNotch$$module$build$src$core$renderers$common$constants=function(a){return a.pathLeft!==void 0&&a.pathRight!==void 0};\nregister$$module$build$src$core$renderers$common$block_rendering=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a,b)};unregister$$module$build$src$core$renderers$common$block_rendering=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a)};\ninit$$module$build$src$core$renderers$common$block_rendering=function(a,b,c){a=new (getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a))(a);a.init(b,c);return a};stringButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"String\")};\nnumberButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"Number\")};colourButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"Colour\")};\ninternalFlyoutCategory$$module$build$src$core$variables_dynamic=function(a){return flyoutCategory$$module$build$src$core$variables_dynamic(a,!1)};\nflyoutCategory$$module$build$src$core$variables_dynamic=function(a,b=!0){Blocks$$module$build$src$core$blocks.variables_set_dynamic||Blocks$$module$build$src$core$blocks.variables_get_dynamic||console.warn(\"There are no dynamic variable blocks, but there is a dynamic variable category.\");if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.VariablesDynamic.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),\nxmlFlyoutCategory$$module$build$src$core$variables_dynamic(a);a.registerButtonCallback(\"CREATE_VARIABLE_STRING\",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\",colourButtonClickHandler$$module$build$src$core$variables_dynamic);return[{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:\"CREATE_VARIABLE_STRING\"},\n{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:\"CREATE_VARIABLE_NUMBER\"},{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:\"CREATE_VARIABLE_COLOUR\"},...jsonFlyoutCategoryBlocks$$module$build$src$core$variables(a,a.getVariableMap().getAllVariables(),!1,\"variables_get_dynamic\",\"variables_set_dynamic\")]};\nxmlFlyoutCategory$$module$build$src$core$variables_dynamic=function(a){let b=[],c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE);c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_STRING\");b.push(c);c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE);c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_NUMBER\");b.push(c);c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE);\nc.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_COLOUR\");b.push(c);a.registerButtonCallback(\"CREATE_VARIABLE_STRING\",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\",colourButtonClickHandler$$module$build$src$core$variables_dynamic);a=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic(a);return b=b.concat(a)};\nflyoutCategoryBlocks$$module$build$src$core$variables_dynamic=function(a){a=a.getVariableMap().getAllVariables();const b=[];if(a.length>0){if(Blocks$$module$build$src$core$blocks.variables_set_dynamic){var c=a[a.length-1];const d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"variables_set_dynamic\");d.setAttribute(\"gap\",\"24\");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d)}if(Blocks$$module$build$src$core$blocks.variables_get_dynamic){a.sort(compareByName$$module$build$src$core$variables);\nfor(let d=0,e;e=a[d];d++)c=$.createElement$$module$build$src$core$utils$xml(\"block\"),c.setAttribute(\"type\",\"variables_get_dynamic\"),c.setAttribute(\"gap\",\"8\"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(e)),b.push(c)}}return b};resizeSvgContents$$module$build$src$core$workspace_svg=function(a){a.resizeContents()};\ncopy$$module$build$src$core$clipboard=function(a,b){const c=a.toCopyData();stashedCopyData$$module$build$src$core$clipboard=c;stashedWorkspace$$module$build$src$core$clipboard=isSelectable$$module$build$src$core$interfaces$i_selectable(a)&&a.workspace instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?a.workspace:null;stashedCoordinates$$module$build$src$core$clipboard=b;return c};getLastCopiedData$$module$build$src$core$clipboard=function(){return stashedCopyData$$module$build$src$core$clipboard};\nsetLastCopiedData$$module$build$src$core$clipboard=function(a){stashedCopyData$$module$build$src$core$clipboard=a};getLastCopiedWorkspace$$module$build$src$core$clipboard=function(){return stashedWorkspace$$module$build$src$core$clipboard};setLastCopiedWorkspace$$module$build$src$core$clipboard=function(a){stashedWorkspace$$module$build$src$core$clipboard=a};getLastCopiedLocation$$module$build$src$core$clipboard=function(){return stashedCoordinates$$module$build$src$core$clipboard};\nsetLastCopiedLocation$$module$build$src$core$clipboard=function(a){stashedCoordinates$$module$build$src$core$clipboard=a};\npaste$$module$build$src$core$clipboard=function(a,b,c){return a&&b?pasteFromData$$module$build$src$core$clipboard(a,b,c):stashedCopyData$$module$build$src$core$clipboard&&stashedWorkspace$$module$build$src$core$clipboard?pasteFromData$$module$build$src$core$clipboard(stashedCopyData$$module$build$src$core$clipboard,stashedWorkspace$$module$build$src$core$clipboard,stashedCoordinates$$module$build$src$core$clipboard):null};\npasteFromData$$module$build$src$core$clipboard=function(a,b,c){let d;b=b.isMutator?b:(d=b.options.parentWorkspace)!=null?d:b;let e,f;return(f=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a.paster,!1))==null?void 0:e.paste(a,b,c))!=null?f:null};isCopyable$$module$build$src$core$interfaces$i_copyable=function(a){return a&&typeof a.toCopyData===\"function\"};\nregisterEscape$$module$build$src$core$shortcut_items=function(){ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.ESCAPE,preconditionFn(a){return!a.isReadOnly()},callback(a){a.hideChaff();return!0},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.ESC]})};\nregisterDelete$$module$build$src$core$shortcut_items=function(){ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.DELETE,preconditionFn(a,b){b=b.focusedNode;return!a.isReadOnly()&&b!=null&&isDeletable$$module$build$src$core$interfaces$i_deletable(b)&&b.isDeletable()&&!a.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(a,b,c,d){b.preventDefault();a=d.focusedNode;a instanceof\nBlockSvg$$module$build$src$core$block_svg?a.checkAndDelete():isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable()&&($.setGroup$$module$build$src$core$events$utils(!0),a.dispose(),$.setGroup$$module$build$src$core$events$utils(!1));return!0},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.DELETE,KeyCodes$$module$build$src$core$utils$keycodes.BACKSPACE]})};\nisCopyable$$module$build$src$core$shortcut_items=function(a){return isCopyable$$module$build$src$core$interfaces$i_copyable(a)&&isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&isDraggable$$module$build$src$core$interfaces$i_draggable(a)?a.isCopyable?a.isCopyable():a instanceof BlockSvg$$module$build$src$core$block_svg||a instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment?a.isOwnDeletable()&&a.isOwnMovable():a.isDeletable()&&a.isMovable():!1};\nisCuttable$$module$build$src$core$shortcut_items=function(a){return isCopyable$$module$build$src$core$shortcut_items(a)&&isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable()};\nregisterCopy$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.COPY,\npreconditionFn(c,d){d=d.focusedNode;c=c.isFlyout?c.targetWorkspace:c;return!!d&&!!c&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&isCopyable$$module$build$src$core$shortcut_items(d)},callback(c,d,e,f){d.preventDefault();d=f.focusedNode;if(!d||!isCopyable$$module$build$src$core$interfaces$i_copyable(d)||!isCopyable$$module$build$src$core$shortcut_items(d))return!1;c=c.isFlyout?c.targetWorkspace:c;if(!c)return!1;d.workspace.isFlyout||c.hideChaff();\nc=isDraggable$$module$build$src$core$interfaces$i_draggable(d)&&d.workspace==c?d.getRelativeToSurfaceXY():void 0;return!!copy$$module$build$src$core$clipboard(d,c)},keyCodes:[a,b]})};\nregisterCut$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.CUT,\npreconditionFn(c,d){d=d.focusedNode;return!!d&&!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&isCuttable$$module$build$src$core$shortcut_items(d)},callback(c,d,e,f){c=f.focusedNode;if(!c||!isCuttable$$module$build$src$core$shortcut_items(c)||!isCopyable$$module$build$src$core$interfaces$i_copyable(c))return!1;d=isDraggable$$module$build$src$core$interfaces$i_draggable(c)?c.getRelativeToSurfaceXY():void 0;d=copy$$module$build$src$core$clipboard(c,\nd);c instanceof BlockSvg$$module$build$src$core$block_svg?c.checkAndDelete():isDeletable$$module$build$src$core$interfaces$i_deletable(c)&&c.dispose();return!!d},keyCodes:[a,b]})};\nregisterPaste$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.PASTE,\npreconditionFn(){var c=getLastCopiedWorkspace$$module$build$src$core$clipboard();if(!c||!c.rendered)return!1;c=c.isFlyout?c.targetWorkspace:c;return!!getLastCopiedData$$module$build$src$core$clipboard()&&!!c&&!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(c,d){c=getLastCopiedData$$module$build$src$core$clipboard();if(!c)return!1;var e=getLastCopiedWorkspace$$module$build$src$core$clipboard();if(!e)return!1;e=e.isFlyout?e.targetWorkspace:\ne;if(!e||e.isReadOnly())return!1;if(d instanceof PointerEvent)return d=screenToWsCoordinates$$module$build$src$core$utils$svg_math(e,new Coordinate$$module$build$src$core$utils$coordinate(d.clientX,d.clientY)),!!paste$$module$build$src$core$clipboard(c,e,d);d=getLastCopiedLocation$$module$build$src$core$clipboard();if(!d)return!!paste$$module$build$src$core$clipboard(c,e);const {left:f,top:g,width:h,height:k}=e.getMetricsManager().getViewMetrics(!0);if((new Rect$$module$build$src$core$utils$rect(g,\ng+k,f,f+h)).contains(d.x,d.y))return!!paste$$module$build$src$core$clipboard(c,e);d=new Coordinate$$module$build$src$core$utils$coordinate(f+h/2,g+k/2);return!!paste$$module$build$src$core$clipboard(c,e,d)},keyCodes:[a,b]})};\nregisterUndo$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.UNDO,\npreconditionFn(c){return!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(c,d){c.hideChaff();c.undo(!1);d.preventDefault();return!0},keyCodes:[a,b]})};\nregisterRedo$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL,KeyCodes$$module$build$src$core$utils$keycodes.SHIFT]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META,\nKeyCodes$$module$build$src$core$utils$keycodes.SHIFT]),c=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Y,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.REDO,preconditionFn(d){return!d.isDragging()&&!d.isReadOnly()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},\ncallback(d,e){d.hideChaff();d.undo(!0);e.preventDefault();return!0},keyCodes:[a,b,c]})};registerDefaultShortcuts$$module$build$src$core$shortcut_items=function(){registerEscape$$module$build$src$core$shortcut_items();registerDelete$$module$build$src$core$shortcut_items();registerCopy$$module$build$src$core$shortcut_items();registerCut$$module$build$src$core$shortcut_items();registerPaste$$module$build$src$core$shortcut_items();registerUndo$$module$build$src$core$shortcut_items();registerRedo$$module$build$src$core$shortcut_items()};\nsaveProcedure$$module$build$src$core$serialization$procedures=function(a){const b=a.saveState();if(!a.getParameters().length)return b;b.parameters=a.getParameters().map(c=>c.saveState());return b};loadProcedure$$module$build$src$core$serialization$procedures=function(a,b,c,d){a=a.loadState(c,d);if(!c.parameters)return a;for(const [e,f]of c.parameters.entries())a.insertParameter(b.loadState(f,d),e);return a};\nsave$$module$build$src$core$serialization$workspaces=function(a){const b=Object.create(null),c=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);for(const d in c){let e;const f=(e=c[d])==null?void 0:e.save(a);f&&(b[d]=f)}return b};\nload$$module$build$src$core$serialization$workspaces=function(a,b,{recordUndo:c=!1}={}){var d=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);if(d){d=Object.entries(d).sort((f,g)=>g[1].priority-f[1].priority);var e=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(c);(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);startTextWidthCache$$module$build$src$core$utils$dom();\nb instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!1);for(const [,f]of d.reverse()){let g;(g=f)==null||g.clear(b)}for(const [f,g]of d.reverse())if(a[f]){let h;(h=g)==null||h.load(a[f],b)}b instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!0);stopTextWidthCache$$module$build$src$core$utils$dom();fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.FINISHED_LOADING))(b));\n$.setGroup$$module$build$src$core$events$utils(c);$.setRecordUndo$$module$build$src$core$events$utils(e)}};\ninject$$module$build$src$core$inject=function(a,b){let c=null;c=typeof a===\"string\"?document.getElementById(a)||document.querySelector(a):a;var d;if(!document.contains(c)&&document!==((d=c)==null?void 0:d.ownerDocument))throw Error(\"Error: container is not in current document\");a=new Options$$module$build$src$core$options(b||{});d=document.createElement(\"div\");addClass$$module$build$src$core$utils$dom(d,\"injectionDiv\");(b==null?0:b.rtl)&&addClass$$module$build$src$core$utils$dom(d,\"blocklyRTL\");c.appendChild(d);\nb=createDom$$module$build$src$core$inject(d,a);const e=createMainWorkspace$$module$build$src$core$inject(d,b,a);init$$module$build$src$core$inject(e);setMainWorkspace$$module$build$src$core$common(e);svgResize$$module$build$src$core$common(e);d.addEventListener(\"focusin\",function(){setMainWorkspace$$module$build$src$core$common(e)});conditionalBind$$module$build$src$core$browser_events(d,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common);return e};\ncreateDom$$module$build$src$core$inject=function(a,b){a.setAttribute(\"dir\",\"LTR\");inject$$module$build$src$core$css(b.hasCss,b.pathToMedia);const c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{xmlns:SVG_NS$$module$build$src$core$utils$dom,\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\",\"class\":\"blocklySvg\"},a),d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,\n{},c),e=String(Math.random()).substring(2);b.gridPattern=Grid$$module$build$src$core$grid.createDom(e,b.gridOptions,d,a);return c};\ncreateMainWorkspace$$module$build$src$core$inject=function(a,b,c){c.parentWorkspace=null;c=new WorkspaceSvg$$module$build$src$core$workspace_svg(c);const d=c.options;c.scale=d.zoomOptions.startScale;b.appendChild(c.createDom(\"blocklyMainBackground\",a));var e=c.getRenderer().getClassName();e&&addClass$$module$build$src$core$utils$dom(a,e);(e=c.getTheme().getClassName())&&addClass$$module$build$src$core$utils$dom(a,e);!d.hasCategories&&d.languageTree&&(a=c.addFlyout(Svg$$module$build$src$core$utils$svg.SVG),\ninsertAfter$$module$build$src$core$utils$dom(a,b));d.hasTrashcan&&c.addTrashcan();d.zoomOptions&&d.zoomOptions.controls&&c.addZoomControls();c.getThemeManager().subscribe(b,\"workspaceBackgroundColour\",\"background-color\");c.translate(0,0);c.addChangeListener(bumpIntoBoundsHandler$$module$build$src$core$bump_objects(c));svgResize$$module$build$src$core$common(c);createDom$$module$build$src$core$widgetdiv();createDom$$module$build$src$core$dropdowndiv();createDom$$module$build$src$core$tooltip();return c};\ninit$$module$build$src$core$inject=function(a){const b=a.options;var c=a.getParentSvg();conditionalBind$$module$build$src$core$browser_events(c.parentNode,\"contextmenu\",null,function(d){isTargetInput$$module$build$src$core$browser_events(d)||d.preventDefault()});c=conditionalBind$$module$build$src$core$browser_events(window,\"resize\",null,function(){hide$$module$build$src$core$tooltip();a.hideComponents(!0);repositionForWindowResize$$module$build$src$core$dropdowndiv();repositionForWindowResize$$module$build$src$core$widgetdiv();\nsvgResize$$module$build$src$core$common(a);bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a)});a.setResizeHandlerWrapper(c);bindDocumentEvents$$module$build$src$core$inject();if(b.languageTree){c=a.getToolbox();const d=a.getFlyout(!0);c?c.init():d&&(d.init(a),d.show(b.languageTree),typeof d.scrollToStart===\"function\"&&d.scrollToStart())}b.hasTrashcan&&a.trashcan.init();b.zoomOptions&&b.zoomOptions.controls&&a.zoomControls_.init();b.moveOptions&&b.moveOptions.scrollbars?(a.scrollbar=\nnew ScrollbarPair$$module$build$src$core$scrollbar_pair(a,b.moveOptions.scrollbars===!0||!!b.moveOptions.scrollbars.horizontal,b.moveOptions.scrollbars===!0||!!b.moveOptions.scrollbars.vertical,\"blocklyMainWorkspaceScrollbar\"),a.scrollbar.resize()):a.setMetrics({x:.5,y:.5});b.hasSounds&&loadSounds$$module$build$src$core$inject(b.pathToMedia,a)};\nbindDocumentEvents$$module$build$src$core$inject=function(){documentEventsBound$$module$build$src$core$inject||(conditionalBind$$module$build$src$core$browser_events(document,\"scroll\",null,function(){const a=getAllWorkspaces$$module$build$src$core$common();for(let b=0,c;c=a[b];b++)c instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&c.updateInverseScreenCTM()}),bind$$module$build$src$core$browser_events(document,\"touchend\",null,longStop$$module$build$src$core$touch),bind$$module$build$src$core$browser_events(document,\n\"touchcancel\",null,longStop$$module$build$src$core$touch));documentEventsBound$$module$build$src$core$inject=!0};\nloadSounds$$module$build$src$core$inject=function(a,b){function c(){for(;e.length;){const f=e.pop();f&&unbind$$module$build$src$core$browser_events(f)}d.preload()}const d=b.getAudioManager();d.load([a+\"click.mp3\",a+\"click.wav\",a+\"click.ogg\"],\"click\");d.load([a+\"disconnect.wav\",a+\"disconnect.mp3\",a+\"disconnect.ogg\"],\"disconnect\");d.load([a+\"delete.mp3\",a+\"delete.ogg\",a+\"delete.wav\"],\"delete\");const e=[];e.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",null,c,!0));\ne.push(conditionalBind$$module$build$src$core$browser_events(document,\"touchstart\",null,c,!0))};isFullBlockField$$module$build$src$core$contextmenu_items=function(a){if(!a||!a.isSimpleReporter())return!1;let b;return(b=a.getFields().next().value)==null?void 0:b.isFullBlockField()};\nregisterUndo$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.UNDO},preconditionFn(a){return a.workspace.getUndoStack().length>0?\"enabled\":\"disabled\"},callback(a){a.workspace.undo(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"undoWorkspace\",weight:1})};\nregisterRedo$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.REDO},preconditionFn(a){return a.workspace.getRedoStack().length>0?\"enabled\":\"disabled\"},callback(a){a.workspace.undo(!0)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"redoWorkspace\",weight:2})};\nregisterCleanup$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(a){return a.workspace.isMovable()?a.workspace.getTopBlocks(!1).length>1?\"enabled\":\"disabled\":\"hidden\"},callback(a){a.workspace.cleanUp()},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"cleanWorkspace\",weight:3})};\ntoggleOption_$$module$build$src$core$contextmenu_items=function(a,b){function c(f){e--;f.setCollapsed(a);e===0&&$.setGroup$$module$build$src$core$events$utils(!1)}let d=0,e=0;$.setGroup$$module$build$src$core$events$utils(!0);for(let f=0;f<b.length;f++){let g=b[f];for(;g;)e++,setTimeout(c.bind(null,g),d),g=g.getNextBlock(),d+=10}};\nregisterCollapse$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(let b=0;b<a.length;b++){let c=a[b];for(;c;){if(!c.isCollapsed())return\"enabled\";c=c.getNextBlock()}}return\"disabled\"}return\"hidden\"},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!0,\na.workspace.getTopBlocks(!0))},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"collapseWorkspace\",weight:4})};\nregisterExpand$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(let b=0;b<a.length;b++){let c=a[b];for(;c;){if(c.isCollapsed())return\"enabled\";c=c.getNextBlock()}}return\"disabled\"}return\"hidden\"},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!1,\na.workspace.getTopBlocks(!0))},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"expandWorkspace\",weight:5})};addDeletableBlocks_$$module$build$src$core$contextmenu_items=function(a,b){if(a.isDeletable())Array.prototype.push.apply(b,a.getDescendants(!1));else{a=a.getChildren(!1);for(let c=0;c<a.length;c++)addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b)}};\ngetDeletableBlocks_$$module$build$src$core$contextmenu_items=function(a){const b=[];a=a.getTopBlocks(!0);for(let c=0;c<a.length;c++)addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b);return b};\ndeleteNext_$$module$build$src$core$contextmenu_items=function(a,b){b?$.setGroup$$module$build$src$core$events$utils(b):($.setGroup$$module$build$src$core$events$utils(!0),b=$.getGroup$$module$build$src$core$events$utils());const c=a.shift();c&&(c.isDeadOrDying()?deleteNext_$$module$build$src$core$contextmenu_items(a,b):(c.dispose(!1,!0),setTimeout(deleteNext_$$module$build$src$core$contextmenu_items,10,a,b)));$.setGroup$$module$build$src$core$events$utils(!1)};\nregisterDeleteAll$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){if(!a.workspace)return\"\";a=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length;return a===1?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace(\"%1\",`${a}`)},preconditionFn(a){return a.workspace?getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length>\n0?\"enabled\":\"disabled\":\"disabled\"},callback(a){if(a.workspace){a.workspace.cancelCurrentGesture();var b=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace);b.length<2?deleteNext_$$module$build$src$core$contextmenu_items(b):confirm$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace(\"%1\",String(b.length)),function(c){c&&deleteNext_$$module$build$src$core$contextmenu_items(b)})}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,\nid:\"workspaceDelete\",weight:6})};registerWorkspaceOptions_$$module$build$src$core$contextmenu_items=function(){registerUndo$$module$build$src$core$contextmenu_items();registerRedo$$module$build$src$core$contextmenu_items();registerCleanup$$module$build$src$core$contextmenu_items();registerCollapse$$module$build$src$core$contextmenu_items();registerExpand$$module$build$src$core$contextmenu_items();registerDeleteAll$$module$build$src$core$contextmenu_items()};\nregisterDuplicate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isDeletable()&&a.isMovable()?a.isDuplicatable()?\"enabled\":\"disabled\":\"hidden\"},callback(a){if(a.block){var b=a.block.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.block.workspace)}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,\nid:\"blockDuplicate\",weight:1})};\nregisterComment$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?$.Msg$$module$build$src$core$msg.REMOVE_COMMENT:$.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(a){a=a.block;return!a||a.isInFlyout||!a.workspace.options.comments||a.isCollapsed()||!a.isEditable()||!a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)&&isFullBlockField$$module$build$src$core$contextmenu_items(a)?\n\"hidden\":\"enabled\"},callback(a){(a=a.block)&&a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?a.setCommentText(null):a.setCommentText(\"\")},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockComment\",weight:2})};\nregisterInline$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.getInputsInline()?$.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:$.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.isMovable()&&!a.isCollapsed())for(let b=1;b<a.inputList.length;b++)if(!(a.inputList[b-1]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs||\na.inputList[b]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs))return\"enabled\";return\"hidden\"},callback(a){a.block.setInputsInline(!a.block.getInputsInline())},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockInline\",weight:3})};\nregisterCollapseExpandBlock$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.isCollapsed()?$.Msg$$module$build$src$core$msg.EXPAND_BLOCK:$.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isMovable()&&a.workspace.options.collapse?\"enabled\":\"hidden\"},callback(a){a.block.setCollapsed(!a.block.isCollapsed())},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,\nid:\"blockCollapseExpand\",weight:4})};\nregisterDisable$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants)?$.Msg$$module$build$src$core$msg.ENABLE_BLOCK:$.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.workspace.options.disable&&a.isEditable()){var b=a.getDisabledReasons();b=b.size>(b.has(MANUALLY_DISABLED$$module$build$src$core$constants)?\n1:0);return a.getInheritedDisabled()||b?\"disabled\":\"enabled\"}return\"hidden\"},callback(a){a=a.block;const b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);a.setDisabledReason(!a.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants),MANUALLY_DISABLED$$module$build$src$core$constants);$.setGroup$$module$build$src$core$events$utils(b)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockDisable\",\nweight:5})};\nregisterDelete$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){var b=a.block;a=b.getDescendants(!1).length;(b=b.getNextBlock())&&(a-=b.getDescendants(!1).length);return a===1?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace(\"%1\",`${a}`)},preconditionFn(a){return!a.block.isInFlyout&&a.block.isDeletable()?\"enabled\":\"hidden\"},callback(a){a.block&&a.block.checkAndDelete()},\nscopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockDelete\",weight:6})};\nregisterHelp$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.HELP},preconditionFn(a){a=a.block;return(typeof a.helpUrl===\"function\"?a.helpUrl():a.helpUrl)?\"enabled\":\"hidden\"},callback(a){a.block.showHelp()},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockHelp\",weight:7})};\nregisterCommentDelete$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(a){let b;return((b=a.comment)==null?0:b.isDeletable())?\"enabled\":\"hidden\"},callback(a){$.setGroup$$module$build$src$core$events$utils(!0);let b;(b=a.comment)==null||b.dispose();$.setGroup$$module$build$src$core$events$utils(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.COMMENT,\nid:\"commentDelete\",weight:6})};\nregisterCommentDuplicate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(a){let b;return((b=a.comment)==null?0:b.isMovable())?\"enabled\":\"hidden\"},callback(a){if(a.comment){var b=a.comment.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.comment.workspace)}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.COMMENT,id:\"commentDuplicate\",\nweight:1})};\nregisterCommentCreate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:a=>{let b;return((b=a.workspace)==null?0:b.isMutator)?\"hidden\":\"enabled\"},callback:(a,b,c,d)=>{if(a=a.workspace)$.setGroup$$module$build$src$core$events$utils(!0),b=new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(a),b.setPlaceholderText($.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),\nb.moveTo(screenToWsCoordinates$$module$build$src$core$utils$svg_math(a,new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y))),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b),$.setGroup$$module$build$src$core$events$utils(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"commentCreate\",weight:8})};\nregisterBlockOptions_$$module$build$src$core$contextmenu_items=function(){registerDuplicate$$module$build$src$core$contextmenu_items();registerComment$$module$build$src$core$contextmenu_items();registerInline$$module$build$src$core$contextmenu_items();registerCollapseExpandBlock$$module$build$src$core$contextmenu_items();registerDisable$$module$build$src$core$contextmenu_items();registerDelete$$module$build$src$core$contextmenu_items();registerHelp$$module$build$src$core$contextmenu_items()};\nregisterCommentOptions$$module$build$src$core$contextmenu_items=function(){registerCommentDuplicate$$module$build$src$core$contextmenu_items();registerCommentDelete$$module$build$src$core$contextmenu_items();registerCommentCreate$$module$build$src$core$contextmenu_items()};registerDefaultOptions$$module$build$src$core$contextmenu_items=function(){registerWorkspaceOptions_$$module$build$src$core$contextmenu_items();registerBlockOptions_$$module$build$src$core$contextmenu_items()};\nisPaster$$module$build$src$core$interfaces$i_paster=function(a){return a&&typeof a.paste===\"function\"};isRenderedElement$$module$build$src$core$interfaces$i_rendered_element=function(a){return a&&typeof a.getSvgRoot===\"function\"};isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item=function(a){return a.isSelectable()};hideChaff$$module$build$src$core$blockly=function(a){getMainWorkspace$$module$build$src$core$common().hideChaff(a)};\nisFocusableTree$$module$build$src$core$interfaces$i_focusable_tree=function(a){return a&&typeof a.getRootFocusableNode===\"function\"&&typeof a.getRestoredFocusableNode===\"function\"&&typeof a.getNestedTrees===\"function\"&&typeof a.lookUpFocusableNode===\"function\"&&typeof a.onTreeFocus===\"function\"&&typeof a.onTreeBlur===\"function\"};$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_ES6=!1;$jscomp.ASSUME_ES2020=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;\n$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.INSTRUMENT_ASYNC_CONTEXT=!0;$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create==\"function\"?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties==\"function\"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\n$jscomp.getGlobal=function(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");};$jscomp.global=$jscomp.ASSUME_ES2020?globalThis:$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol===\"function\"&&typeof Symbol(\"x\")===\"symbol\";$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;\n$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX=\"$jscp$\";var $jscomp$lookupPolyfilledValue=function(a,b,c){if(!c||a!=null){c=$jscomp.propertyToPolyfillSymbol[b];if(c==null)return a[b];c=a[c];return c!==void 0?c:a[b]}};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};\n$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(\".\");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};\n$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(\".\");a=e.length===1;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&c===\"es6\"?d[e]:null;b=b(c);b!=null&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]===void 0&&(c=Math.random()*1E9>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?\n$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+\"$\"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};\n$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect!=\"undefined\"&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){e===void 0&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||\ne}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.ASSUME_ES6||$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf==\"function\"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null;\n$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.ASSUME_ES6||$jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if(c!=\"prototype\")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};\n$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b=typeof Symbol!=\"undefined\"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length==\"number\")return $jscomp.arrayIterator(a);throw Error(String(a)+\" is not an iterable or ArrayLike\");};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};\n$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError(\"Iterator result \"+a+\" is not an object\");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};\n$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError(\"Generator is already running\");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};\n$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};\n$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;b!=void 0&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};\n$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};\n$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();b.jumpTo!=void 0&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};\n$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};\n$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_(\"return\"in b?b[\"return\"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_[\"throw\"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};\n$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};\n$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};\n$jscomp.polyfill(\"globalThis\",function(a){return a||$jscomp.global},\"es_2020\",\"es3\");$jscomp.polyfill(\"Array.prototype.includes\",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},\"es7\",\"es3\");\n$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&d==\"q\"&&e==b}}));return b.q===!0}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};\n$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.MapEntry=function(){};$jscomp.polyfill(\"Set.prototype.difference\",function(a){return a?a:function(b){$jscomp.checkIsSetInstance(this);$jscomp.checkIsSetLike(b);var c=$jscomp.getSmallerAndLargerSets(this,b);b=new Set(this);var d=c.smallerSetIterator;c=c.largerSet;for(var e=d.next();!e.done;)c.has(e.value)&&b.delete(e.value),e=d.next();return b}},\"es_next\",\"es6\");\n$jscomp.checkIsSetLike=function(a){if(typeof a!==\"object\"||a===null||typeof a.size!==\"number\"||a.size<0||typeof a.keys!==\"function\"||typeof a.has!==\"function\")throw new TypeError(\"Argument must be set-like\");};$jscomp.checkIsValidIterator=function(a){if(typeof a!==\"object\"||a===null||typeof a.next!==\"function\")throw new TypeError(\"Invalid iterator.\");return a};\n$jscomp.getSmallerAndLargerSets=function(a,b){return a.size<=b.size?{smallerSetIterator:a.keys(),largerSet:b}:{smallerSetIterator:$jscomp.checkIsValidIterator(b.keys()),largerSet:a}};$jscomp.checkIsSetInstance=function(a){if(!(a instanceof Set))throw new TypeError(\"Method must be called on an instance of Set.\");};\n$jscomp.iteratorFromArray=function(a,b){if($jscomp.ASSUME_ES6)return a[Symbol.iterator]();a instanceof String&&(a+=\"\");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill(\"Array.prototype.values\",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c})}},\"es8\",\"es3\");\n$jscomp.polyfill(\"Array.prototype.flatMap\",function(a){return a?a:function(b,c){var d=[];Array.prototype.forEach.call(this,function(e,f){e=b.call(c,e,f,this);Array.isArray(e)?d.push.apply(d,e):d.push(e)});return d}},\"es9\",\"es5\");$jscomp.polyfill(\"Array.prototype.flat\",function(a){return a?a:function(b){b=b===void 0?1:b;var c=[];Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&b>0?(d=Array.prototype.flat.call(d,b-1),c.push.apply(c,d)):c.push(d)});return c}},\"es9\",\"es5\");\n$jscomp.polyfill(\"Object.entries\",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push([d,b[d]]);return c}},\"es8\",\"es3\");$jscomp.polyfill(\"Object.values\",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push(b[d]);return c}},\"es8\",\"es3\");\nvar typeMap$$module$build$src$core$registry=Object.create(null),TEST_ONLY$$module$build$src$core$registry={typeMap:typeMap$$module$build$src$core$registry},nameMap$$module$build$src$core$registry=Object.create(null),DEFAULT$$module$build$src$core$registry=\"default\",Type$$module$build$src$core$registry=class{constructor(a){this.name=a}toString(){return this.name}};Type$$module$build$src$core$registry.CONNECTION_CHECKER=new Type$$module$build$src$core$registry(\"connectionChecker\");\nType$$module$build$src$core$registry.CONNECTION_PREVIEWER=new Type$$module$build$src$core$registry(\"connectionPreviewer\");Type$$module$build$src$core$registry.CURSOR=new Type$$module$build$src$core$registry(\"cursor\");Type$$module$build$src$core$registry.EVENT=new Type$$module$build$src$core$registry(\"event\");Type$$module$build$src$core$registry.FIELD=new Type$$module$build$src$core$registry(\"field\");Type$$module$build$src$core$registry.INPUT=new Type$$module$build$src$core$registry(\"input\");\nType$$module$build$src$core$registry.RENDERER=new Type$$module$build$src$core$registry(\"renderer\");Type$$module$build$src$core$registry.TOOLBOX=new Type$$module$build$src$core$registry(\"toolbox\");Type$$module$build$src$core$registry.THEME=new Type$$module$build$src$core$registry(\"theme\");Type$$module$build$src$core$registry.TOOLBOX_ITEM=new Type$$module$build$src$core$registry(\"toolboxItem\");Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX=new Type$$module$build$src$core$registry(\"flyoutsVerticalToolbox\");\nType$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX=new Type$$module$build$src$core$registry(\"flyoutsHorizontalToolbox\");Type$$module$build$src$core$registry.FLYOUT_INFLATER=new Type$$module$build$src$core$registry(\"flyoutInflater\");Type$$module$build$src$core$registry.METRICS_MANAGER=new Type$$module$build$src$core$registry(\"metricsManager\");Type$$module$build$src$core$registry.BLOCK_DRAGGER=new Type$$module$build$src$core$registry(\"blockDragger\");\nType$$module$build$src$core$registry.SERIALIZER=new Type$$module$build$src$core$registry(\"serializer\");Type$$module$build$src$core$registry.ICON=new Type$$module$build$src$core$registry(\"icon\");Type$$module$build$src$core$registry.PASTER=new Type$$module$build$src$core$registry(\"paster\");Type$$module$build$src$core$registry.VARIABLE_MODEL=new Type$$module$build$src$core$registry(\"variableModel\");Type$$module$build$src$core$registry.VARIABLE_MAP=new Type$$module$build$src$core$registry(\"variableMap\");\nvar module$build$src$core$registry={DEFAULT:DEFAULT$$module$build$src$core$registry,TEST_ONLY:TEST_ONLY$$module$build$src$core$registry};module$build$src$core$registry.Type=Type$$module$build$src$core$registry;module$build$src$core$registry.getAllItems=getAllItems$$module$build$src$core$registry;module$build$src$core$registry.getClass=getClass$$module$build$src$core$registry;module$build$src$core$registry.getClassFromOptions=getClassFromOptions$$module$build$src$core$registry;\nmodule$build$src$core$registry.getObject=getObject$$module$build$src$core$registry;module$build$src$core$registry.hasItem=hasItem$$module$build$src$core$registry;module$build$src$core$registry.register=register$$module$build$src$core$registry;module$build$src$core$registry.unregister=unregister$$module$build$src$core$registry;var Blocks$$module$build$src$core$blocks=Object.create(null),module$build$src$core$blocks={Blocks:Blocks$$module$build$src$core$blocks};var LONGPRESS$$module$build$src$core$touch=750,TOUCH_ENABLED$$module$build$src$core$touch=\"ontouchstart\"in globalThis||!!(globalThis.document&&document.documentElement&&\"ontouchstart\"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),touchIdentifier_$$module$build$src$core$touch=null,TOUCH_MAP$$module$build$src$core$touch={mousedown:[\"pointerdown\"],mouseenter:[\"pointerenter\"],mouseleave:[\"pointerleave\"],mousemove:[\"pointermove\"],\nmouseout:[\"pointerout\"],mouseover:[\"pointerover\"],mouseup:[\"pointerup\",\"pointercancel\"],touchend:[\"pointerup\"],touchcancel:[\"pointercancel\"],pointerup:[\"pointerup\",\"pointercancel\"]},longPid_$$module$build$src$core$touch=0,module$build$src$core$touch={TOUCH_ENABLED:TOUCH_ENABLED$$module$build$src$core$touch,TOUCH_MAP:TOUCH_MAP$$module$build$src$core$touch};module$build$src$core$touch.checkTouchIdentifier=checkTouchIdentifier$$module$build$src$core$touch;\nmodule$build$src$core$touch.clearTouchIdentifier=clearTouchIdentifier$$module$build$src$core$touch;module$build$src$core$touch.getTouchIdentifierFromEvent=getTouchIdentifierFromEvent$$module$build$src$core$touch;module$build$src$core$touch.longStart=longStart$$module$build$src$core$touch;module$build$src$core$touch.longStop=longStop$$module$build$src$core$touch;module$build$src$core$touch.shouldHandleEvent=shouldHandleEvent$$module$build$src$core$touch;var rawUserAgent$$module$build$src$core$utils$useragent,isJavaFx$$module$build$src$core$utils$useragent,isWebKit$$module$build$src$core$utils$useragent,isGecko$$module$build$src$core$utils$useragent,isAndroid$$module$build$src$core$utils$useragent,isIPad$$module$build$src$core$utils$useragent,isIPhone$$module$build$src$core$utils$useragent,isMac$$module$build$src$core$utils$useragent,isTablet$$module$build$src$core$utils$useragent,isMobile$$module$build$src$core$utils$useragent;\n(function(a){function b(d){return c.includes(d.toUpperCase())}rawUserAgent$$module$build$src$core$utils$useragent=a;const c=rawUserAgent$$module$build$src$core$utils$useragent.toUpperCase();isJavaFx$$module$build$src$core$utils$useragent=b(\"JavaFX\");isWebKit$$module$build$src$core$utils$useragent=b(\"WebKit\");isGecko$$module$build$src$core$utils$useragent=b(\"Gecko\")&&!isWebKit$$module$build$src$core$utils$useragent;isAndroid$$module$build$src$core$utils$useragent=b(\"Android\");a=globalThis.navigator&&\nglobalThis.navigator.maxTouchPoints;isIPad$$module$build$src$core$utils$useragent=b(\"iPad\")||b(\"Macintosh\")&&a>0;isIPhone$$module$build$src$core$utils$useragent=b(\"iPhone\")&&!isIPad$$module$build$src$core$utils$useragent;isMac$$module$build$src$core$utils$useragent=b(\"Macintosh\");isTablet$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent&&!b(\"Mobile\")||b(\"Silk\");isMobile$$module$build$src$core$utils$useragent=!isTablet$$module$build$src$core$utils$useragent&&\n(isIPhone$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent)})(globalThis.navigator&&globalThis.navigator.userAgent||\"\");\nvar raw$$module$build$src$core$utils$useragent=rawUserAgent$$module$build$src$core$utils$useragent,JavaFx$$module$build$src$core$utils$useragent=isJavaFx$$module$build$src$core$utils$useragent,GECKO$$module$build$src$core$utils$useragent=isGecko$$module$build$src$core$utils$useragent,ANDROID$$module$build$src$core$utils$useragent=isAndroid$$module$build$src$core$utils$useragent,IPAD$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent,IPHONE$$module$build$src$core$utils$useragent=\nisIPhone$$module$build$src$core$utils$useragent,MAC$$module$build$src$core$utils$useragent=isMac$$module$build$src$core$utils$useragent,MOBILE$$module$build$src$core$utils$useragent=isMobile$$module$build$src$core$utils$useragent,module$build$src$core$utils$useragent={ANDROID:ANDROID$$module$build$src$core$utils$useragent,GECKO:GECKO$$module$build$src$core$utils$useragent,IPAD:IPAD$$module$build$src$core$utils$useragent,IPHONE:IPHONE$$module$build$src$core$utils$useragent,JavaFx:JavaFx$$module$build$src$core$utils$useragent,\nMAC:MAC$$module$build$src$core$utils$useragent,MOBILE:MOBILE$$module$build$src$core$utils$useragent,raw:raw$$module$build$src$core$utils$useragent};var LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events=40,PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events=125,module$build$src$core$browser_events={};module$build$src$core$browser_events.bind=bind$$module$build$src$core$browser_events;module$build$src$core$browser_events.conditionalBind=conditionalBind$$module$build$src$core$browser_events;module$build$src$core$browser_events.getScrollDeltaPixels=getScrollDeltaPixels$$module$build$src$core$browser_events;\nmodule$build$src$core$browser_events.isRightButton=isRightButton$$module$build$src$core$browser_events;module$build$src$core$browser_events.isTargetInput=isTargetInput$$module$build$src$core$browser_events;module$build$src$core$browser_events.mouseToSvg=mouseToSvg$$module$build$src$core$browser_events;module$build$src$core$browser_events.unbind=unbind$$module$build$src$core$browser_events;var EventType$$module$build$src$core$events$type;\n(function(a){a.BLOCK_CREATE=\"create\";a.BLOCK_DELETE=\"delete\";a.BLOCK_CHANGE=\"change\";a.BLOCK_FIELD_INTERMEDIATE_CHANGE=\"block_field_intermediate_change\";a.BLOCK_MOVE=\"move\";a.VAR_CREATE=\"var_create\";a.VAR_DELETE=\"var_delete\";a.VAR_RENAME=\"var_rename\";a.VAR_TYPE_CHANGE=\"var_type_change\";a.UI=\"ui\";a.BLOCK_DRAG=\"drag\";a.SELECTED=\"selected\";a.CLICK=\"click\";a.MARKER_MOVE=\"marker_move\";a.BUBBLE_OPEN=\"bubble_open\";a.TRASHCAN_OPEN=\"trashcan_open\";a.TOOLBOX_ITEM_SELECT=\"toolbox_item_select\";a.THEME_CHANGE=\n\"theme_change\";a.VIEWPORT_CHANGE=\"viewport_change\";a.COMMENT_CREATE=\"comment_create\";a.COMMENT_DELETE=\"comment_delete\";a.COMMENT_CHANGE=\"comment_change\";a.COMMENT_MOVE=\"comment_move\";a.COMMENT_RESIZE=\"comment_resize\";a.COMMENT_DRAG=\"comment_drag\";a.COMMENT_COLLAPSE=\"comment_collapse\";a.FINISHED_LOADING=\"finished_loading\"})(EventType$$module$build$src$core$events$type||(EventType$$module$build$src$core$events$type={}));\nvar BUMP_EVENTS$$module$build$src$core$events$type=[EventType$$module$build$src$core$events$type.BLOCK_CREATE,EventType$$module$build$src$core$events$type.BLOCK_MOVE,EventType$$module$build$src$core$events$type.COMMENT_CREATE,EventType$$module$build$src$core$events$type.COMMENT_MOVE],module$build$src$core$events$type={BUMP_EVENTS:BUMP_EVENTS$$module$build$src$core$events$type};module$build$src$core$events$type.EventType=EventType$$module$build$src$core$events$type;var soup$$module$build$src$core$utils$idgenerator=\"!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",internal$$module$build$src$core$utils$idgenerator={genUid:()=>{const a=soup$$module$build$src$core$utils$idgenerator.length,b=[];for(let c=0;c<20;c++)b[c]=soup$$module$build$src$core$utils$idgenerator.charAt(Math.random()*a);return b.join(\"\")}},TEST_ONLY$$module$build$src$core$utils$idgenerator=internal$$module$build$src$core$utils$idgenerator,nextId$$module$build$src$core$utils$idgenerator=\n0,module$build$src$core$utils$idgenerator={TEST_ONLY:internal$$module$build$src$core$utils$idgenerator};module$build$src$core$utils$idgenerator.genUid=genUid$$module$build$src$core$utils$idgenerator;module$build$src$core$utils$idgenerator.getNextUniqueId=getNextUniqueId$$module$build$src$core$utils$idgenerator;var module$build$src$core$events$predicates={};module$build$src$core$events$predicates.isBlockChange=isBlockChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockCreate=isBlockCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockDelete=isBlockDelete$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockDrag=isBlockDrag$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isBlockFieldIntermediateChange=isBlockFieldIntermediateChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockMove=isBlockMove$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBubbleOpen=isBubbleOpen$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isClick=isClick$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isCommentChange=isCommentChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentCollapse=isCommentCollapse$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentCreate=isCommentCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentDelete=isCommentDelete$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isCommentDrag=isCommentDrag$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentMove=isCommentMove$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentResize=isCommentResize$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isFinishedLoading=isFinishedLoading$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isSelected=isSelected$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isThemeChange=isThemeChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isToolboxItemSelect=isToolboxItemSelect$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isTrashcanOpen=isTrashcanOpen$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isVarCreate=isVarCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isVarDelete=isVarDelete$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isVarRename=isVarRename$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isViewportChange=isViewportChange$$module$build$src$core$events$predicates;var group$$module$build$src$core$events$utils=\"\",recordUndo$$module$build$src$core$events$utils=!0,disabled$$module$build$src$core$events$utils=0,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils=\"ORPHANED_BLOCK\",FIRE_QUEUE$$module$build$src$core$events$utils=[],TEST_ONLY$$module$build$src$core$events$utils={FIRE_QUEUE:FIRE_QUEUE$$module$build$src$core$events$utils,enqueueEvent:enqueueEvent$$module$build$src$core$events$utils,fireNow:fireNow$$module$build$src$core$events$utils,fireInternal:fireInternal$$module$build$src$core$events$utils,\nsetGroupInternal:setGroupInternal$$module$build$src$core$events$utils},module$build$src$core$events$utils={TEST_ONLY:TEST_ONLY$$module$build$src$core$events$utils};module$build$src$core$events$utils.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$utils.disableOrphans=disableOrphans$$module$build$src$core$events$utils;\nmodule$build$src$core$events$utils.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$utils.filter=filter$$module$build$src$core$events$utils;module$build$src$core$events$utils.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$utils.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$utils.get=get$$module$build$src$core$events$utils;module$build$src$core$events$utils.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;\nmodule$build$src$core$events$utils.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$utils.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.setRecordUndo=$.setRecordUndo$$module$build$src$core$events$utils;var SVG_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/2000/svg\",HTML_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/1999/xhtml\",XLINK_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/1999/xlink\",NodeType$$module$build$src$core$utils$dom;(function(a){a[a.ELEMENT_NODE=1]=\"ELEMENT_NODE\";a[a.TEXT_NODE=3]=\"TEXT_NODE\";a[a.COMMENT_NODE=8]=\"COMMENT_NODE\"})(NodeType$$module$build$src$core$utils$dom||(NodeType$$module$build$src$core$utils$dom={}));\nvar cacheWidths$$module$build$src$core$utils$dom=null,cacheReference$$module$build$src$core$utils$dom=0,canvasContext$$module$build$src$core$utils$dom=null,module$build$src$core$utils$dom={HTML_NS:HTML_NS$$module$build$src$core$utils$dom};module$build$src$core$utils$dom.NodeType=NodeType$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.SVG_NS=SVG_NS$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.XLINK_NS=XLINK_NS$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.addClass=addClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.createSvgElement=createSvgElement$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidth=getFastTextWidth$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidthWithSizeString=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getTextWidth=getTextWidth$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.hasClass=hasClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.insertAfter=insertAfter$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.measureFontMetrics=measureFontMetrics$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClass=removeClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClasses=removeClasses$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeNode=removeNode$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.setCssTransform=setCssTransform$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.startTextWidthCache=startTextWidthCache$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.stopTextWidthCache=stopTextWidthCache$$module$build$src$core$utils$dom;var FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser=class{static findFocusedNode(a){var b=a.getRootFocusableNode();if(!b.canBeFocused())return null;var c=b.getFocusableElement();if(hasClass$$module$build$src$core$utils$dom(c,FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME)||hasClass$$module$build$src$core$utils$dom(c,FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME))return b;\nb=c.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR);if(b instanceof HTMLElement||b instanceof SVGElement)if(b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(b,a))return b;c=c.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR);if(c instanceof HTMLElement||c instanceof SVGElement)if(a=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(c,a))return a;return null}static findFocusableNodeFor(a,b){if(!a.id||\na.id===\"null\"||b.getNestedTrees().map(e=>FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(a,e)).findIndex(e=>!!e)!==-1)return null;var c=b.getRootFocusableNode();if(c.canBeFocused()&&a===c.getFocusableElement())return c;var d;if(c=(d=b.lookUpFocusableNode(a.id))!=null?d:null)return c;d=a.parentElement;return!c&&d?FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(d,b):null}};\nFocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME=\"blocklyActiveFocus\";FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME=\"blocklyPassiveFocus\";FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME}`;\nFocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME}`;var module$build$src$core$utils$focusable_tree_traverser={};module$build$src$core$utils$focusable_tree_traverser.FocusableTreeTraverser=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser;var TreeRegistration$$module$build$src$core$focus_manager=class{constructor(a,b){this.tree=a;this.rootShouldBeAutoTabbable=b}},FocusManager$$module$build$src$core$focus_manager=class{constructor(a){this.previouslyFocusedNode=this.focusedNode=null;this.registeredTrees=[];this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const b=c=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!c;var d=null;if(c instanceof HTMLElement||\nc instanceof SVGElement)for(var e of this.registeredTrees)if(d=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(c,e.tree))break;if(d&&d.canBeFocused()){c=d.getFocusableTree();let f;e=(f=this.focusedNode)==null?void 0:f.getFocusableTree();d===c.getRootFocusableNode()&&c!==e?this.focusTree(c):this.focusNode(d)}else this.defocusCurrentFocusedNode()}};a(\"focusin\",c=>{c instanceof FocusEvent&&b(document.activeElement)});a(\"focusout\",c=>{c instanceof FocusEvent&&\nb(c.relatedTarget)})}registerTree(a,b=!1){this.ensureManagerIsUnlocked();if(this.isRegistered(a))throw Error(`Attempted to re-register already registered tree: ${a}.`);this.registeredTrees.push(new TreeRegistration$$module$build$src$core$focus_manager(a,b));const c=a.getRootFocusableNode().getFocusableElement();if(!c.id||c.id===\"null\")throw Error(\"Attempting to register a tree with a root element that has an \"+`invalid ID: ${a}.`);b&&(c.tabIndex=0)}isRegistered(a){return!!this.lookUpRegistration(a)}lookUpRegistration(a){let b;\nreturn(b=this.registeredTrees.find(c=>c.tree===a))!=null?b:null}unregisterTree(a){this.ensureManagerIsUnlocked();if(!this.isRegistered(a))throw Error(`Attempted to unregister not registered tree: ${a}.`);var b=this.registeredTrees.findIndex(e=>e.tree===a);const c=this.registeredTrees[b];this.registeredTrees.splice(b,1);b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(a);const d=a.getRootFocusableNode();b&&this.removeHighlight(b);this.focusedNode!==b&&\nthis.focusedNode!==d||this.updateFocusedNode(null);this.removeHighlight(d);c.rootShouldBeAutoTabbable&&a.getRootFocusableNode().getFocusableElement().removeAttribute(\"tabindex\")}getFocusedTree(){let a,b;return(b=(a=this.focusedNode)==null?void 0:a.getFocusableTree())!=null?b:null}getFocusedNode(){return this.focusedNode}focusTree(a){this.ensureManagerIsUnlocked();if(!this.isRegistered(a))throw Error(`Attempted to focus unregistered tree: ${a}.`);const b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(a),\nc=a.getRestoredFocusableNode(b);a=a.getRootFocusableNode();let d;this.focusNode((d=c!=null?c:b)!=null?d:a)}focusNode(a){this.ensureManagerIsUnlocked();const b=!this.currentlyHoldsEphemeralFocus;b&&(this.isUpdatingFocusedNode=!0);var c,d=((c=this.focusedNode)==null?void 0:c.getFocusableElement())!==document.activeElement;if(this.focusedNode!==a||d)if(a.canBeFocused()){c=a.getFocusableTree();if(!this.isRegistered(c))throw Error(`Attempted to focus unregistered node: ${a}.`);d=a.getFocusableElement();\nd.id&&d.id!==\"null\"||console.warn(\"Trying to focus a node that has an invalid ID.\");var e=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(d,c);d=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(c);var f=a;if(e!==a){f=c.getRestoredFocusableNode(d);a=c.getRootFocusableNode();var g;f=(g=f!=null?f:d)!=null?g:a}a=this.focusedNode;g=a==null?void 0:a.getFocusableTree();a&&this.passivelyFocusNode(a,c);c=c.getRootFocusableNode();\nd&&this.removeHighlight(d);c!==f&&this.removeHighlight(c);this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(f,g!=null?g:null);this.updateFocusedNode(f)}else console.warn(\"Trying to focus a node that can't be focused.\");b&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(a){this.ensureManagerIsUnlocked();if(this.currentlyHoldsEphemeralFocus)throw Error(\"Attempted to take ephemeral focus when it's already held, \"+`with new element: ${a}.`);this.currentlyHoldsEphemeralFocus=!0;this.focusedNode&&\nthis.passivelyFocusNode(this.focusedNode,null);a.focus({preventScroll:!0});let b=!1;return()=>{if(b)throw Error(\"Attempted to finish ephemeral focus twice for element: \"+`${a}.`);b=!0;this.currentlyHoldsEphemeralFocus=!1;if(this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const c=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===c&&this.recentlyLostAllFocus&&this.focusNode(c)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error(\"FocusManager state changes cannot happen in a tree/node focus/blur callback.\");\n}updateFocusedNode(a){this.previouslyFocusedNode=this.focusedNode;this.focusedNode=a}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(a,b){this.lockFocusStateChanges=!0;const c=a.getFocusableTree(),d=a.getFocusableElement();let e;const f=(e=this.lookUpRegistration(c))==null?void 0:e.rootShouldBeAutoTabbable;c!==b&&(c.onTreeFocus(a,b),f&&(c.getRootFocusableNode().getFocusableElement().tabIndex=\n-1));a.onNodeFocus();this.lockFocusStateChanges=!1;f&&a===c.getRootFocusableNode()||d.hasAttribute(\"tabindex\")||(d.tabIndex=-1);this.setNodeToVisualActiveFocus(a);d.focus({preventScroll:!0})}passivelyFocusNode(a,b){this.lockFocusStateChanges=!0;const c=a.getFocusableTree();if(c!==b){c.onTreeBlur(b);let d;if((d=this.lookUpRegistration(c))==null?0:d.rootShouldBeAutoTabbable)c.getRootFocusableNode().getFocusableElement().tabIndex=0}a.onNodeBlur();this.lockFocusStateChanges=!1;c!==b&&this.setNodeToVisualPassiveFocus(a)}setNodeToVisualActiveFocus(a){a=\na.getFocusableElement();addClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(a){a=a.getFocusableElement();removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);addClass$$module$build$src$core$utils$dom(a,\nFocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(a){a=a.getFocusableElement();removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){FocusManager$$module$build$src$core$focus_manager.focusManager||(FocusManager$$module$build$src$core$focus_manager.focusManager=\nnew FocusManager$$module$build$src$core$focus_manager(document.addEventListener));return FocusManager$$module$build$src$core$focus_manager.focusManager}};FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME=\"blocklyActiveFocus\";FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME=\"blocklyPassiveFocus\";FocusManager$$module$build$src$core$focus_manager.focusManager=null;var module$build$src$core$focus_manager={};\nmodule$build$src$core$focus_manager.FocusManager=FocusManager$$module$build$src$core$focus_manager;module$build$src$core$focus_manager.getFocusManager=$.getFocusManager$$module$build$src$core$focus_manager;var module$build$src$core$interfaces$i_focusable_node={};module$build$src$core$interfaces$i_focusable_node.isFocusableNode=isFocusableNode$$module$build$src$core$interfaces$i_focusable_node;var module$build$src$core$interfaces$i_selectable={};module$build$src$core$interfaces$i_selectable.isSelectable=isSelectable$$module$build$src$core$interfaces$i_selectable;var module$build$src$core$utils$object={};module$build$src$core$utils$object.deepMerge=deepMerge$$module$build$src$core$utils$object;var ShortcutRegistry$$module$build$src$core$shortcut_registry=class{constructor(){this.shortcuts=new Map;this.keyMap=new Map;this.reset()}reset(){this.shortcuts.clear();this.keyMap.clear()}register(a,b){if(this.shortcuts.get(a.name)&&!b)throw Error(`Shortcut named \"${a.name}\" already exists.`);this.shortcuts.set(a.name,a);b=a.keyCodes;if(b==null?0:b.length)for(const c of b)this.addKeyMapping(c,a.name,!!a.allowCollision)}unregister(a){if(!this.shortcuts.get(a))return console.warn(`Keyboard shortcut named \"${a}\" not found.`),\n!1;this.removeAllKeyMappings(a);this.shortcuts.delete(a);return!0}addKeyMapping(a,b,c){a=`${a}`;const d=this.keyMap.get(a);if(d&&!c)throw Error(`Shortcut named \"${b}\" collides with shortcuts \"${d}\"`);d&&c?d.unshift(b):this.keyMap.set(a,[b])}removeKeyMapping(a,b,c){const d=this.keyMap.get(a);if(!d)return c||console.warn(`No keyboard shortcut named \"${b}\" registered with key code \"${a}\"`),!1;const e=d.indexOf(b);if(e>-1)return d.splice(e,1),d.length===0&&this.keyMap.delete(a),!0;c||console.warn(`No keyboard shortcut named \"${b}\" registered with key code \"${a}\"`);\nreturn!1}removeAllKeyMappings(a){for(const b of this.keyMap.keys())this.removeKeyMapping(b,a,!0)}setKeyMap(a){this.keyMap.clear();for(const b in a)this.keyMap.set(b,a[b])}getKeyMap(){const a=Object.create(null);for(const [b,c]of this.keyMap)a[b]=c;return a}getRegistry(){const a=Object.create(null);for(const [b,c]of this.shortcuts)a[b]=c;return deepMerge$$module$build$src$core$utils$object(Object.create(null),a)}onKeyDown(a,b){var c=this.serializeKeyEvent(b);c=this.getShortcutNamesByKeyCode(c);if(!c)return!1;\nfor(const d of c){c=this.shortcuts.get(d);let e;if(!c||c.preconditionFn&&!c.preconditionFn(a,{focusedNode:(e=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?e:void 0}))continue;let f,g,h;if((g=(f=c).callback)==null?0:g.call(f,a,b,c,{focusedNode:(h=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?h:void 0}))return!0}return!1}getShortcutNamesByKeyCode(a){let b;return((b=this.keyMap.get(a))==null?void 0:b.slice())||[]}getKeyCodesByShortcutName(a){const b=\n[];for(const [c,d]of this.keyMap)d.indexOf(a)>-1&&b.push(c);return b}serializeKeyEvent(a){let b=\"\";for(const c in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)a.getModifierState(c)&&(b!==\"\"&&(b+=\"+\"),b+=c);b!==\"\"&&a.keyCode?b+=\"+\"+a.keyCode:a.keyCode&&(b=String(a.keyCode));return b}checkModifiers(a){for(const b of a)if(!(b in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys))throw Error(b+\" is not a valid modifier key.\");}createSerializedKey(a,b){let c=\n\"\";if(b){this.checkModifiers(b);for(const d in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)b.includes(ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys[d])&&(c!==\"\"&&(c+=\"+\"),c+=d)}c!==\"\"&&a?c+=\"+\"+a:a&&(c=`${a}`);return c}};ShortcutRegistry$$module$build$src$core$shortcut_registry.registry=new ShortcutRegistry$$module$build$src$core$shortcut_registry;\n(function(a){a=a.modifierKeys||(a.modifierKeys={});a[a.Shift=16]=\"Shift\";a[a.Control=17]=\"Control\";a[a.Alt=18]=\"Alt\";a[a.Meta=91]=\"Meta\"})(ShortcutRegistry$$module$build$src$core$shortcut_registry||(ShortcutRegistry$$module$build$src$core$shortcut_registry={}));var module$build$src$core$shortcut_registry={};module$build$src$core$shortcut_registry.ShortcutRegistry=ShortcutRegistry$$module$build$src$core$shortcut_registry;var WorkspaceDB_$$module$build$src$core$common=Object.create(null),mainWorkspace$$module$build$src$core$common,parentContainer$$module$build$src$core$common,draggingConnections$$module$build$src$core$common=[],TEST_ONLY$$module$build$src$core$common={defineBlocksWithJsonArrayInternal:defineBlocksWithJsonArrayInternal$$module$build$src$core$common},module$build$src$core$common={TEST_ONLY:TEST_ONLY$$module$build$src$core$common};module$build$src$core$common.createBlockDefinitionsFromJsonArray=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common;\nmodule$build$src$core$common.defineBlocks=$.defineBlocks$$module$build$src$core$common;module$build$src$core$common.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;module$build$src$core$common.draggingConnections=draggingConnections$$module$build$src$core$common;module$build$src$core$common.fireSelectedEvent=fireSelectedEvent$$module$build$src$core$common;module$build$src$core$common.getAllWorkspaces=getAllWorkspaces$$module$build$src$core$common;\nmodule$build$src$core$common.getBlockTypeCounts=getBlockTypeCounts$$module$build$src$core$common;module$build$src$core$common.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;module$build$src$core$common.getParentContainer=getParentContainer$$module$build$src$core$common;module$build$src$core$common.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$common.getWorkspaceById=getWorkspaceById$$module$build$src$core$common;\nmodule$build$src$core$common.globalShortcutHandler=globalShortcutHandler$$module$build$src$core$common;module$build$src$core$common.registerWorkspace=registerWorkspace$$module$build$src$core$common;module$build$src$core$common.setMainWorkspace=setMainWorkspace$$module$build$src$core$common;module$build$src$core$common.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$common.setSelected=setSelected$$module$build$src$core$common;\nmodule$build$src$core$common.svgResize=svgResize$$module$build$src$core$common;module$build$src$core$common.unregisterWorkpace=unregisterWorkpace$$module$build$src$core$common;var Abstract$$module$build$src$core$events$events_abstract=class{constructor(){this.workspaceId=void 0;this.isUiEvent=!1;this.type=\"\";this.group=$.getGroup$$module$build$src$core$events$utils();this.recordUndo=getRecordUndo$$module$build$src$core$events$utils()}toJson(){return{type:this.type,group:this.group}}static fromJson(a,b,c){c.isBlank=!1;c.group=a.group||\"\";c.workspaceId=b.id;return c}isNull(){return!1}run(a){}getEventWorkspace_(){let a;this.workspaceId&&(a=getWorkspaceById$$module$build$src$core$common(this.workspaceId));\nif(!a)throw Error(\"Workspace is null. Event must have been generated from real Blockly events.\");return a}},module$build$src$core$events$events_abstract={};module$build$src$core$events$events_abstract.Abstract=Abstract$$module$build$src$core$events$events_abstract;var UiBase$$module$build$src$core$events$events_ui_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.recordUndo=!1;this.isUiEvent=!0;this.isBlank=typeof a===\"undefined\";this.workspaceId=a?a:\"\"}},module$build$src$core$events$events_ui_base={};module$build$src$core$events$events_ui_base.UiBase=UiBase$$module$build$src$core$events$events_ui_base;var Click$$module$build$src$core$events$events_click=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){b=a?a.workspace.id:b;b===null&&(b=void 0);super(b);this.type=EventType$$module$build$src$core$events$type.CLICK;this.blockId=a?a.id:void 0;this.targetType=c}toJson(){const a=super.toJson();if(!this.targetType)throw Error(\"The click target type is undefined. Either pass a block to the constructor, or call fromJson\");a.targetType=this.targetType;a.blockId=this.blockId;\nreturn a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new Click$$module$build$src$core$events$events_click);b.targetType=a.targetType;b.blockId=a.blockId;return b}},ClickTarget$$module$build$src$core$events$events_click;(function(a){a.BLOCK=\"block\";a.WORKSPACE=\"workspace\";a.ZOOM_CONTROLS=\"zoom_controls\"})(ClickTarget$$module$build$src$core$events$events_click||(ClickTarget$$module$build$src$core$events$events_click={}));\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.CLICK,Click$$module$build$src$core$events$events_click);var module$build$src$core$events$events_click={};module$build$src$core$events$events_click.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events_click.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;var module$build$src$core$utils$array={};module$build$src$core$utils$array.removeElem=removeElem$$module$build$src$core$utils$array;var Capability$$module$build$src$core$component_manager=class{constructor(a){this.name=a}toString(){return this.name}};Capability$$module$build$src$core$component_manager.POSITIONABLE=new Capability$$module$build$src$core$component_manager(\"positionable\");Capability$$module$build$src$core$component_manager.DRAG_TARGET=new Capability$$module$build$src$core$component_manager(\"drag_target\");Capability$$module$build$src$core$component_manager.DELETE_AREA=new Capability$$module$build$src$core$component_manager(\"delete_area\");\nCapability$$module$build$src$core$component_manager.AUTOHIDEABLE=new Capability$$module$build$src$core$component_manager(\"autohideable\");\nvar ComponentManager$$module$build$src$core$component_manager=class{constructor(){this.componentData=new Map;this.capabilityToComponentIds=new Map}addComponent(a,b){const c=a.component.id;if(!b&&this.componentData.has(c)){var d;throw Error('Plugin \"'+c+'\" with capabilities \"'+((d=this.componentData.get(c))==null?void 0:d.capabilities)+'\" already added.');}this.componentData.set(c,a);b=[];for(d=0;d<a.capabilities.length;d++){const e=String(a.capabilities[d]).toLowerCase();b.push(e);if(this.capabilityToComponentIds.has(e)){let f;\n(f=this.capabilityToComponentIds.get(e))==null||f.push(c)}else this.capabilityToComponentIds.set(e,[c])}this.componentData.get(c).capabilities=b}removeComponent(a){const b=this.componentData.get(a);if(b){for(let c=0;c<b.capabilities.length;c++){const d=String(b.capabilities[c]).toLowerCase();removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(d),a)}this.componentData.delete(a)}}addCapability(a,b){if(!this.getComponent(a))throw Error('Cannot add capability, \"'+b+'\". Plugin \"'+\na+'\" has not been added to the ComponentManager');if(this.hasCapability(a,b))console.warn('Plugin \"'+a+'already has capability \"'+b+'\"');else{b=`${b}`.toLowerCase();var c;(c=this.componentData.get(a))==null||c.capabilities.push(b);var d;(d=this.capabilityToComponentIds.get(b))==null||d.push(a)}}removeCapability(a,b){if(!this.getComponent(a))throw Error('Cannot remove capability, \"'+b+'\". Plugin \"'+a+'\" has not been added to the ComponentManager');this.hasCapability(a,b)?(b=`${b}`.toLowerCase(),removeElem$$module$build$src$core$utils$array(this.componentData.get(a).capabilities,\nb),removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(b),a)):console.warn('Plugin \"'+a+\"doesn't have capability \\\"\"+b+'\" to remove')}hasCapability(a,b){b=`${b}`.toLowerCase();return this.componentData.has(a)&&this.componentData.get(a).capabilities.includes(b)}getComponent(a){let b;return(b=this.componentData.get(a))==null?void 0:b.component}getComponents(a,b){a=`${a}`.toLowerCase();a=this.capabilityToComponentIds.get(a);if(!a)return[];const c=[];if(b){const d=[];a.forEach(e=>\n{d.push(this.componentData.get(e))});d.sort(function(e,f){return e.weight-f.weight});d.forEach(function(e){c.push(e.component)})}else a.forEach(d=>{c.push(this.componentData.get(d).component)});return c}};ComponentManager$$module$build$src$core$component_manager.Capability=Capability$$module$build$src$core$component_manager;\n(function(a){a=a.ComponentWeight||(a.ComponentWeight={});a[a.TOOLBOX_WEIGHT=0]=\"TOOLBOX_WEIGHT\";a[a.FLYOUT_WEIGHT=1]=\"FLYOUT_WEIGHT\";a[a.TRASHCAN_WEIGHT=2]=\"TRASHCAN_WEIGHT\";a[a.ZOOM_CONTROLS_WEIGHT=3]=\"ZOOM_CONTROLS_WEIGHT\"})(ComponentManager$$module$build$src$core$component_manager||(ComponentManager$$module$build$src$core$component_manager={}));\nvar ComponentWeight$$module$build$src$core$component_manager=ComponentManager$$module$build$src$core$component_manager.ComponentWeight,module$build$src$core$component_manager={};module$build$src$core$component_manager.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$component_manager.ComponentWeight=ComponentWeight$$module$build$src$core$component_manager;var injected$$module$build$src$core$css=!1,content$$module$build$src$core$css='\\n.blocklySvg {\\n  background-color: #fff;\\n  outline: none;\\n  overflow: hidden;  /* IE overflows by default. */\\n  position: absolute;\\n  display: block;\\n}\\n\\n.blocklyWidgetDiv {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\\n}\\n\\n.injectionDiv {\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\\n  touch-action: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n}\\n\\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\\n  transition: transform .5s;\\n}\\n\\n.blocklyEmboss {\\n  filter: var(--blocklyEmbossFilter);\\n}\\n\\n.blocklyTooltipDiv {\\n  background-color: #ffffc7;\\n  border: 1px solid #ddc;\\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\\n  color: #000;\\n  display: none;\\n  font: 9pt sans-serif;\\n  opacity: .9;\\n  padding: 2px;\\n  position: absolute;\\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\\n}\\n\\n.blocklyDropDownDiv {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1000;\\n  display: none;\\n  border: 1px solid;\\n  border-color: #dadce0;\\n  background-color: #fff;\\n  border-radius: 2px;\\n  padding: 4px;\\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownDiv:focus {\\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownContent {\\n  max-height: 300px;  /* @todo: spec for maximum height. */\\n}\\n\\n.blocklyDropDownArrow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 16px;\\n  height: 16px;\\n  z-index: -1;\\n  background-color: inherit;\\n  border-color: inherit;\\n  border-top: 1px solid;\\n  border-left: 1px solid;\\n  border-top-left-radius: 4px;\\n  border-color: inherit;\\n}\\n\\n.blocklyHighlighted>.blocklyPath {\\n  filter: var(--blocklyEmbossFilter);\\n}\\n\\n.blocklyHighlightedConnectionPath {\\n  fill: none;\\n  stroke: #fc3;\\n  stroke-width: 4px;\\n}\\n\\n.blocklyPathLight {\\n  fill: none;\\n  stroke-linecap: round;\\n  stroke-width: 1;\\n}\\n\\n.blocklySelected>.blocklyPathLight {\\n  display: none;\\n}\\n\\n.blocklyDraggable {\\n  cursor: grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.blocklyDragging {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n  /* Drag surface disables events to not block the toolbox, so we have to\\n   * reenable them here for the cursor values to work. */\\n  pointer-events: auto;\\n}\\n\\n  /* Changes cursor on mouse down. Not effective in Firefox because of\\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\\n.blocklyDraggable:active {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n.blocklyDragging.blocklyDraggingDelete,\\n.blocklyDragging.blocklyDraggingDelete .blocklyField {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyDragging>.blocklyPath,\\n.blocklyDragging>.blocklyPathLight {\\n  fill-opacity: .8;\\n  stroke-opacity: .8;\\n}\\n\\n.blocklyDragging>.blocklyPathDark {\\n  display: none;\\n}\\n\\n.blocklyDisabledPattern>.blocklyPath {\\n  fill: var(--blocklyDisabledPattern);\\n  fill-opacity: .5;\\n  stroke-opacity: .5;\\n}\\n\\n.blocklyDisabled>.blocklyPathLight,\\n.blocklyDisabled>.blocklyPathDark {\\n  display: none;\\n}\\n\\n.blocklyInsertionMarker>.blocklyPath,\\n.blocklyInsertionMarker>.blocklyPathLight,\\n.blocklyInsertionMarker>.blocklyPathDark {\\n  fill-opacity: .2;\\n  stroke: none;\\n}\\n\\n.blocklyNonEditableField>text {\\n  pointer-events: none;\\n}\\n\\n.blocklyFlyout {\\n  position: absolute;\\n  z-index: 20;\\n}\\n\\n.blocklyText text {\\n  cursor: default;\\n}\\n\\n/*\\n  Don\\'t allow users to select text.  It gets annoying when trying to\\n  drag a block and selected text moves instead.\\n*/\\n.blocklySvg text {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  cursor: inherit;\\n}\\n\\n.blocklyIconGroup {\\n  cursor: default;\\n}\\n\\n.blocklyIconGroup:not(:hover):not(:focus),\\n.blocklyIconGroupReadonly {\\n  opacity: .6;\\n}\\n\\n.blocklyIconShape {\\n  fill: #00f;\\n  stroke: #fff;\\n  stroke-width: 1px;\\n}\\n\\n.blocklyIconSymbol {\\n  fill: #fff;\\n}\\n\\n.blocklyMinimalBody {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.blocklyHtmlInput {\\n  border: none;\\n  border-radius: 4px;\\n  height: 100%;\\n  margin: 0;\\n  outline: none;\\n  padding: 0;\\n  width: 100%;\\n  text-align: center;\\n  display: block;\\n  box-sizing: border-box;\\n}\\n\\n/* Remove the increase and decrease arrows on the field number editor */\\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n\\ninput[type=number] {\\n  -moz-appearance: textfield;\\n}\\n\\n.blocklyMainBackground {\\n  stroke-width: 1;\\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\\n}\\n\\n.blocklyMutatorBackground {\\n  fill: #fff;\\n  stroke: #ddd;\\n  stroke-width: 1;\\n}\\n\\n.blocklyFlyoutBackground {\\n  fill: #ddd;\\n  fill-opacity: .8;\\n}\\n\\n.blocklyMainWorkspaceScrollbar {\\n  z-index: 20;\\n}\\n\\n.blocklyFlyoutScrollbar {\\n  z-index: 30;\\n}\\n\\n.blocklyScrollbarHorizontal,\\n.blocklyScrollbarVertical {\\n  position: absolute;\\n  outline: none;\\n}\\n\\n.blocklyScrollbarBackground {\\n  opacity: 0;\\n  pointer-events: none;\\n}\\n\\n.blocklyScrollbarHandle {\\n  fill: #ccc;\\n}\\n\\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\\n.blocklyScrollbarHandle:hover {\\n  fill: #bbb;\\n}\\n\\n/* Darken flyout scrollbars due to being on a grey background. */\\n/* By contrast, workspace scrollbars are on a white background. */\\n.blocklyFlyout .blocklyScrollbarHandle {\\n  fill: #bbb;\\n}\\n\\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\\n.blocklyFlyout .blocklyScrollbarHandle:hover {\\n  fill: #aaa;\\n}\\n\\n.blocklyInvalidInput {\\n  background: #faa;\\n}\\n\\n.blocklyVerticalMarker {\\n  stroke-width: 3px;\\n  fill: rgba(255,255,255,.5);\\n  pointer-events: none;\\n}\\n\\n.blocklyComputeCanvas {\\n  position: absolute;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.blocklyNoPointerEvents {\\n  pointer-events: none;\\n}\\n\\n.blocklyContextMenu {\\n  border-radius: 4px;\\n  max-height: 100%;\\n}\\n\\n.blocklyDropdownMenu {\\n  border-radius: 2px;\\n  padding: 0 !important;\\n}\\n\\n.blocklyDropdownMenu .blocklyMenuItem {\\n  /* 28px on the left for icon or checkbox. */\\n  padding-left: 28px;\\n}\\n\\n/* BiDi override for the resting state. */\\n.blocklyDropdownMenu .blocklyMenuItemRtl {\\n  /* Flip left/right padding for BiDi. */\\n  padding-left: 5px;\\n  padding-right: 28px;\\n}\\n\\n.blocklyWidgetDiv .blocklyMenu {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background: #fff;\\n  border: 1px solid transparent;\\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\\n  font: normal 13px Arial, sans-serif;\\n  margin: 0;\\n  outline: none;\\n  padding: 4px 0;\\n  position: absolute;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 100%;\\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\\n}\\n\\n.blocklyWidgetDiv .blocklyMenu:focus {\\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownDiv .blocklyMenu {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\\n  font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;\\n  outline: none;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 100%;\\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\\n}\\n\\n/* State: resting. */\\n.blocklyMenuItem {\\n  border: none;\\n  color: #000;\\n  cursor: pointer;\\n  list-style: none;\\n  margin: 0;\\n  /* 7em on the right for shortcut. */\\n  min-width: 7em;\\n  padding: 6px 15px;\\n  white-space: nowrap;\\n}\\n\\n/* State: disabled. */\\n.blocklyMenuItemDisabled {\\n  color: #ccc;\\n  cursor: inherit;\\n}\\n\\n/* State: hover. */\\n.blocklyMenuItemHighlight {\\n  background-color: rgba(0,0,0,.1);\\n}\\n\\n/* State: selected/checked. */\\n.blocklyMenuItemCheckbox {\\n  height: 16px;\\n  position: absolute;\\n  width: 16px;\\n}\\n\\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\\n  float: left;\\n  margin-left: -24px;\\n  position: static;  /* Scroll with the menu. */\\n}\\n\\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\\n  float: right;\\n  margin-right: -24px;\\n}\\n\\n.blocklyMenuSeparator {\\n  background-color: #ccc;\\n  height: 1px;\\n  border: 0;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n.blocklyBlockDragSurface, .blocklyAnimationLayer {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: visible !important;\\n  z-index: 80;\\n  pointer-events: none;\\n}\\n\\n.blocklyField {\\n  cursor: default;\\n}\\n\\n.blocklyInputField {\\n  cursor: text;\\n}\\n\\n.blocklyDragging .blocklyField,\\n.blocklyDragging .blocklyIconGroup {\\n  cursor: grabbing;\\n}\\n\\n.blocklyActiveFocus:is(\\n  .blocklyFlyout,\\n  .blocklyWorkspace,\\n  .blocklyField,\\n  .blocklyPath,\\n  .blocklyHighlightedConnectionPath,\\n  .blocklyComment,\\n  .blocklyBubble,\\n  .blocklyIconGroup,\\n  .blocklyTextarea\\n) {\\n  outline: none;\\n}\\n',\nmodule$build$src$core$css={};module$build$src$core$css.inject=inject$$module$build$src$core$css;module$build$src$core$css.register=register$$module$build$src$core$css;var Coordinate$$module$build$src$core$utils$coordinate=class{constructor(a,b){this.x=a;this.y=b}clone(){return new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y)}scale(a){this.x*=a;this.y*=a;return this}translate(a,b){this.x+=a;this.y+=b;return this}static equals(a,b){return a===b?!0:a&&b?a.x===b.x&&a.y===b.y:!1}static distance(a,b){const c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}static magnitude(a){return Math.sqrt(a.x*a.x+a.y*a.y)}static difference(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x-\nb.x,a.y-b.y)}static sum(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x+b.x,a.y+b.y)}},module$build$src$core$utils$coordinate={};module$build$src$core$utils$coordinate.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;var Svg$$module$build$src$core$utils$svg=class{constructor(a){this.tagName=a}toString(){return this.tagName}};Svg$$module$build$src$core$utils$svg.ANIMATE=new Svg$$module$build$src$core$utils$svg(\"animate\");Svg$$module$build$src$core$utils$svg.CIRCLE=new Svg$$module$build$src$core$utils$svg(\"circle\");Svg$$module$build$src$core$utils$svg.CLIPPATH=new Svg$$module$build$src$core$utils$svg(\"clipPath\");Svg$$module$build$src$core$utils$svg.DEFS=new Svg$$module$build$src$core$utils$svg(\"defs\");\nSvg$$module$build$src$core$utils$svg.FECOMPOSITE=new Svg$$module$build$src$core$utils$svg(\"feComposite\");Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER=new Svg$$module$build$src$core$utils$svg(\"feComponentTransfer\");Svg$$module$build$src$core$utils$svg.FEFLOOD=new Svg$$module$build$src$core$utils$svg(\"feFlood\");Svg$$module$build$src$core$utils$svg.FEFUNCA=new Svg$$module$build$src$core$utils$svg(\"feFuncA\");Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR=new Svg$$module$build$src$core$utils$svg(\"feGaussianBlur\");\nSvg$$module$build$src$core$utils$svg.FEPOINTLIGHT=new Svg$$module$build$src$core$utils$svg(\"fePointLight\");Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING=new Svg$$module$build$src$core$utils$svg(\"feSpecularLighting\");Svg$$module$build$src$core$utils$svg.FILTER=new Svg$$module$build$src$core$utils$svg(\"filter\");Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT=new Svg$$module$build$src$core$utils$svg(\"foreignObject\");Svg$$module$build$src$core$utils$svg.G=new Svg$$module$build$src$core$utils$svg(\"g\");\nSvg$$module$build$src$core$utils$svg.IMAGE=new Svg$$module$build$src$core$utils$svg(\"image\");Svg$$module$build$src$core$utils$svg.LINE=new Svg$$module$build$src$core$utils$svg(\"line\");Svg$$module$build$src$core$utils$svg.PATH=new Svg$$module$build$src$core$utils$svg(\"path\");Svg$$module$build$src$core$utils$svg.PATTERN=new Svg$$module$build$src$core$utils$svg(\"pattern\");Svg$$module$build$src$core$utils$svg.POLYGON=new Svg$$module$build$src$core$utils$svg(\"polygon\");\nSvg$$module$build$src$core$utils$svg.RECT=new Svg$$module$build$src$core$utils$svg(\"rect\");Svg$$module$build$src$core$utils$svg.SVG=new Svg$$module$build$src$core$utils$svg(\"svg\");Svg$$module$build$src$core$utils$svg.TEXT=new Svg$$module$build$src$core$utils$svg(\"text\");Svg$$module$build$src$core$utils$svg.TSPAN=new Svg$$module$build$src$core$utils$svg(\"tspan\");var module$build$src$core$utils$svg={};module$build$src$core$utils$svg.Svg=Svg$$module$build$src$core$utils$svg;var Rect$$module$build$src$core$utils$rect=class{constructor(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}static from(a){return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}clone(){return new Rect$$module$build$src$core$utils$rect(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Coordinate$$module$build$src$core$utils$coordinate(this.left,this.top)}contains(a,\nb){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom}intersects(a){return this.left<=a.right&&this.right>=a.left&&this.bottom>=a.top&&this.top<=a.bottom}static equals(a,b){return a===b?!0:a&&b?a.top===b.top&&a.bottom===b.bottom&&a.left===b.left&&a.right===b.right:!1}static createFromPoint(a,b,c){const d=a.x;a=a.y;return new Rect$$module$build$src$core$utils$rect(a,a+c,d,d+b)}},module$build$src$core$utils$rect={};module$build$src$core$utils$rect.Rect=Rect$$module$build$src$core$utils$rect;var Size$$module$build$src$core$utils$size=class{constructor(a,b){this.width=a;this.height=b}static equals(a,b){return a===b?!0:a&&b?a.width===b.width&&a.height===b.height:!1}static max(a,b){return new Size$$module$build$src$core$utils$size(Math.max(a.width,b.width),Math.max(a.height,b.height))}static min(a,b){return new Size$$module$build$src$core$utils$size(Math.min(a.width,b.width),Math.min(a.height,b.height))}},module$build$src$core$utils$size={};module$build$src$core$utils$size.Size=Size$$module$build$src$core$utils$size;var TEST_ONLY$$module$build$src$core$utils$style={getSizeInternal:getSizeInternal$$module$build$src$core$utils$style},module$build$src$core$utils$style={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$style};module$build$src$core$utils$style.getBorderBox=getBorderBox$$module$build$src$core$utils$style;module$build$src$core$utils$style.getComputedStyle=getComputedStyle$$module$build$src$core$utils$style;module$build$src$core$utils$style.getContainerOffsetToScrollInto=getContainerOffsetToScrollInto$$module$build$src$core$utils$style;\nmodule$build$src$core$utils$style.getPageOffset=getPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.getSize=getSize$$module$build$src$core$utils$style;module$build$src$core$utils$style.getViewportPageOffset=getViewportPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.scrollIntoContainerView=scrollIntoContainerView$$module$build$src$core$utils$style;var XY_REGEX$$module$build$src$core$utils$svg_math=/translate\\(\\s*([-+\\d.e]+)([ ,]\\s*([-+\\d.e]+)\\s*)?/,XY_STYLE_REGEX$$module$build$src$core$utils$svg_math=/transform:\\s*translate(?:3d)?\\(\\s*([-+\\d.e]+)\\s*px([ ,]\\s*([-+\\d.e]+)\\s*px)?/,TEST_ONLY$$module$build$src$core$utils$svg_math={XY_REGEX:XY_REGEX$$module$build$src$core$utils$svg_math,XY_STYLE_REGEX:XY_STYLE_REGEX$$module$build$src$core$utils$svg_math},module$build$src$core$utils$svg_math={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$svg_math};\nmodule$build$src$core$utils$svg_math.getDocumentScroll=getDocumentScroll$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getInjectionDivXY=getInjectionDivXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getRelativeXY=getRelativeXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getViewportBBox=getViewportBBox$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.screenToWsCoordinates=screenToWsCoordinates$$module$build$src$core$utils$svg_math;\nmodule$build$src$core$utils$svg_math.wsToScreenCoordinates=wsToScreenCoordinates$$module$build$src$core$utils$svg_math;var Scrollbar$$module$build$src$core$scrollbar=class{constructor(a,b,c,d,e){this.workspace=a;this.horizontal=b;this.oldHostMetrics=null;this.ratio=1;this.origin=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0;this.containerVisible=this.isHandleVisible=!0;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null;this.pair=\nc||!1;this.margin=e!==void 0?e:Scrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN;a=\"blocklyScrollbar\"+(this.horizontal?\"Horizontal\":\"Vertical\");d&&(a+=\" \"+d);this.outerSvg=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{\"class\":a});d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.outerSvg);this.svgBackground=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":\"blocklyScrollbarBackground\"},d);a=Math.floor((Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-5)/2);this.svgHandle=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyScrollbarHandle\",rx:a,ry:a},d);this.workspace.getThemeManager().subscribe(this.svgHandle,\"scrollbarColour\",\"fill\");this.workspace.getThemeManager().subscribe(this.svgHandle,\"scrollbarOpacity\",\"fill-opacity\");insertAfter$$module$build$src$core$utils$dom(this.outerSvg,\nthis.workspace.getParentSvg());this.setInitialThickness();b?(this.lengthAttribute_=\"width\",this.positionAttribute_=\"x\"):(this.lengthAttribute_=\"height\",this.positionAttribute_=\"y\");this.onMouseDownBarWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgBackground,\"pointerdown\",this,this.onMouseDownBar);this.onMouseDownHandleWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgHandle,\"pointerdown\",this,this.onMouseDownHandle)}setInitialThickness(){const a=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;\nthis.horizontal?(this.svgBackground.setAttribute(\"height\",String(a)),this.outerSvg.setAttribute(\"height\",String(a)),this.svgHandle.setAttribute(\"height\",String(a-5)),this.svgHandle.setAttribute(\"y\",\"2.5\")):(this.svgBackground.setAttribute(\"width\",String(a)),this.outerSvg.setAttribute(\"width\",String(a)),this.svgHandle.setAttribute(\"width\",String(a-5)),this.svgHandle.setAttribute(\"x\",\"2.5\"))}dispose(){this.cleanUp();unbind$$module$build$src$core$browser_events(this.onMouseDownBarWrapper_);unbind$$module$build$src$core$browser_events(this.onMouseDownHandleWrapper_);\nremoveNode$$module$build$src$core$utils$dom(this.outerSvg);this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(a){return a=a<=0||isNaN(a)?0:Math.min(a,this.scrollbarLength)}setHandleLength(a){this.handleLength=a;this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(a){return a=a<=0||isNaN(a)?0:Math.min(a,this.scrollbarLength-this.handleLength)}setHandlePosition(a){this.handlePosition=a;this.svgHandle.setAttribute(this.positionAttribute_,\nString(this.handlePosition))}setScrollbarLength(a){this.scrollbarLength=a;this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength));this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(a,b){this.position.x=a;this.position.y=b;setCssTransform$$module$build$src$core$utils$dom(this.outerSvg,\"translate(\"+(this.position.x+this.origin.x)+\"px,\"+(this.position.y+this.origin.y)+\"px)\")}resize(a){if(!a&&(a=this.workspace.getMetrics(),!a))return;\nthis.oldHostMetrics&&Scrollbar$$module$build$src$core$scrollbar.metricsAreEquivalent(a,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(a):this.resizeVertical(a),this.oldHostMetrics=a,this.updateMetrics())}requiresViewResize(a){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.viewHeight!==a.viewHeight||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft||this.oldHostMetrics.absoluteTop!==a.absoluteTop:!0}resizeHorizontal(a){this.requiresViewResize(a)?\nthis.resizeViewHorizontal(a):this.resizeContentHorizontal(a)}resizeViewHorizontal(a){var b=a.viewWidth-this.margin*2;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));b=a.absoluteLeft+this.margin;this.pair&&this.workspace.RTL&&(b+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setPosition(b,a.absoluteTop+a.viewHeight-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin);this.resizeContentHorizontal(a)}resizeContentHorizontal(a){if(a.viewWidth>=\na.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewWidth/a.scrollWidth;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollWidth-a.viewWidth;var c=this.scrollbarLength-this.handleLength;a=(a.viewLeft-a.scrollLeft)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b}}resizeVertical(a){this.requiresViewResize(a)?this.resizeViewVertical(a):\nthis.resizeContentVertical(a)}resizeViewVertical(a){let b=a.viewHeight-this.margin*2;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));this.setPosition(this.workspace.RTL?a.absoluteLeft+this.margin:a.absoluteLeft+a.viewWidth-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin,a.absoluteTop+this.margin);this.resizeContentVertical(a)}resizeContentVertical(a){if(a.viewHeight>=a.scrollHeight)this.setHandleLength(this.scrollbarLength),\nthis.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewHeight/a.scrollHeight;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollHeight-a.viewHeight;var c=this.scrollbarLength-this.handleLength;a=(a.viewTop-a.scrollTop)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b}}isVisible(){return this.isHandleVisible}setContainerVisible(a){const b=a!==this.containerVisible;this.containerVisible=\na;b&&this.updateDisplay_()}setVisible(a){if(this.pair)throw Error(\"Unable to toggle visibility of paired scrollbars.\");this.setVisibleInternal(a)}setVisibleInternal(a){const b=a!==this.isVisible();this.isHandleVisible=a;b&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute(\"display\",\"block\"):this.outerSvg.setAttribute(\"display\",\"none\")}onMouseDownBar(a){this.workspace.markFocused();clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp();\nif(isRightButton$$module$build$src$core$browser_events(a))a.stopPropagation();else{var b=mouseToSvg$$module$build$src$core$browser_events(a,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());b=this.horizontal?b.x:b.y;var c=getInjectionDivXY$$module$build$src$core$utils$svg_math(this.svgHandle);c=this.horizontal?c.x:c.y;var d=this.handlePosition,e=this.handleLength*.95;b<=c?d-=e:b>=c+this.handleLength&&(d+=e);this.setHandlePosition(this.constrainHandlePosition(d));this.updateMetrics();\na.stopPropagation();a.preventDefault()}}onMouseDownHandle(a){this.workspace.markFocused();this.cleanUp();isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?a.clientX:a.clientY,this.onMouseUpWrapper_=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",\nthis,this.onMouseMoveHandle),a.stopPropagation(),a.preventDefault())}onMouseMoveHandle(a){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?a.clientX:a.clientY)-this.startDragMouse)));this.updateMetrics()}onMouseUpHandle(){clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0);this.onMouseUpWrapper_&&(unbind$$module$build$src$core$browser_events(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null);this.onMouseMoveWrapper_&&\n(unbind$$module$build$src$core$browser_events(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let a=this.handlePosition/(this.scrollbarLength-this.handleLength);isNaN(a)&&(a=0);return a}updateMetrics(){const a=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:a}):this.workspace.setMetrics({y:a})}set(a,b){this.setHandlePosition(this.constrainHandlePosition(a*this.ratio));(b||b===void 0)&&this.updateMetrics()}setOrigin(a,b){this.origin=new Coordinate$$module$build$src$core$utils$coordinate(a,\nb)}static metricsAreEquivalent(a,b){return a.viewWidth===b.viewWidth&&a.viewHeight===b.viewHeight&&a.viewLeft===b.viewLeft&&a.viewTop===b.viewTop&&a.absoluteTop===b.absoluteTop&&a.absoluteLeft===b.absoluteLeft&&a.scrollWidth===b.scrollWidth&&a.scrollHeight===b.scrollHeight&&a.scrollLeft===b.scrollLeft&&a.scrollTop===b.scrollTop}};Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness=TOUCH_ENABLED$$module$build$src$core$touch?25:15;\nScrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5;var module$build$src$core$scrollbar={};module$build$src$core$scrollbar.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;var domParser$$module$build$src$core$utils$xml={parseFromString:function(){throw Error(\"DOMParser was not found in the global scope and was not properly injected using injectDependencies\");}},xmlSerializer$$module$build$src$core$utils$xml={serializeToString:function(){throw Error(\"XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies\");}},{document:document$$module$build$src$core$utils$xml,DOMParser:DOMParser$$module$build$src$core$utils$xml,XMLSerializer:XMLSerializer$$module$build$src$core$utils$xml}=\nglobalThis;DOMParser$$module$build$src$core$utils$xml&&(domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml);XMLSerializer$$module$build$src$core$utils$xml&&(xmlSerializer$$module$build$src$core$utils$xml=new XMLSerializer$$module$build$src$core$utils$xml);\nvar NAME_SPACE$$module$build$src$core$utils$xml=\"https://developers.google.com/blockly/xml\",INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml=/[\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F]/g,module$build$src$core$utils$xml={NAME_SPACE:NAME_SPACE$$module$build$src$core$utils$xml};module$build$src$core$utils$xml.createElement=$.createElement$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.createTextNode=$.createTextNode$$module$build$src$core$utils$xml;\nmodule$build$src$core$utils$xml.domToText=domToText$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.injectDependencies=injectDependencies$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.textToDom=$.textToDom$$module$build$src$core$utils$xml;var CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox=\"categoryToolbox\",FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox=\"flyoutToolbox\",Position$$module$build$src$core$utils$toolbox;(function(a){a[a.TOP=0]=\"TOP\";a[a.BOTTOM=1]=\"BOTTOM\";a[a.LEFT=2]=\"LEFT\";a[a.RIGHT=3]=\"RIGHT\"})(Position$$module$build$src$core$utils$toolbox||(Position$$module$build$src$core$utils$toolbox={}));\nvar TEST_ONLY$$module$build$src$core$utils$toolbox={hasCategoriesInternal:hasCategoriesInternal$$module$build$src$core$utils$toolbox},module$build$src$core$utils$toolbox={};module$build$src$core$utils$toolbox.Position=Position$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.TEST_ONLY=TEST_ONLY$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.convertFlyoutDefToJsonArray=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox;\nmodule$build$src$core$utils$toolbox.convertToolboxDefToJson=convertToolboxDefToJson$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.hasCategories=hasCategories$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.isCategoryCollapsible=isCategoryCollapsible$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.parseToolboxTree=parseToolboxTree$$module$build$src$core$utils$toolbox;var verticalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.TOP=0]=\"TOP\";a[a.BOTTOM=1]=\"BOTTOM\"})(verticalPosition$$module$build$src$core$positionable_helpers||(verticalPosition$$module$build$src$core$positionable_helpers={}));var horizontalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.LEFT=0]=\"LEFT\";a[a.RIGHT=1]=\"RIGHT\"})(horizontalPosition$$module$build$src$core$positionable_helpers||(horizontalPosition$$module$build$src$core$positionable_helpers={}));\nvar bumpDirection$$module$build$src$core$positionable_helpers;(function(a){a[a.UP=0]=\"UP\";a[a.DOWN=1]=\"DOWN\"})(bumpDirection$$module$build$src$core$positionable_helpers||(bumpDirection$$module$build$src$core$positionable_helpers={}));var module$build$src$core$positionable_helpers={};module$build$src$core$positionable_helpers.bumpDirection=bumpDirection$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.bumpPositionRect=bumpPositionRect$$module$build$src$core$positionable_helpers;\nmodule$build$src$core$positionable_helpers.getCornerOppositeToolbox=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.getStartPositionRect=getStartPositionRect$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.horizontalPosition=horizontalPosition$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.verticalPosition=verticalPosition$$module$build$src$core$positionable_helpers;var SPRITE$$module$build$src$core$sprites={width:96,height:124,url:\"sprites.png\"},module$build$src$core$sprites={SPRITE:SPRITE$$module$build$src$core$sprites};var ZoomControls$$module$build$src$core$zoom_controls=class{constructor(a){this.workspace=a;this.id=\"zoomControls\";this.boundEvents=[];this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null;this.HEIGHT=this.WIDTH=32;this.SMALL_SPACING=2;this.LARGE_SPACING=11;this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20;this.svgGroup=null;this.top=this.left=0;this.initialized=!1}createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});const a=String(Math.random()).substring(2);\nthis.createZoomOutSvg(a);this.createZoomInSvg(a);this.workspace.isMovable()&&this.createZoomResetSvg(a);return this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent(\"zoomControls\");this.svgGroup&&\nremoveNode$$module$build$src$core$utils$dom(this.svgGroup);for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);this.boundEvents.length=0}getBoundingRectangle(){let a=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT);return new Rect$$module$build$src$core$utils$rect(this.top,this.top+a,this.left,this.left+this.WIDTH)}position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,\na),d=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,a,this.workspace);c=c.vertical;b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,this.MARGIN_VERTICAL,c===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:\nbumpDirection$$module$build$src$core$positionable_helpers.UP,b);if(c===verticalPosition$$module$build$src$core$positionable_helpers.TOP){var e=this.SMALL_SPACING+this.HEIGHT,f;(f=this.zoomInGroup)==null||f.setAttribute(\"transform\",\"translate(0, \"+e+\")\");this.zoomResetGroup&&this.zoomResetGroup.setAttribute(\"transform\",\"translate(0, \"+(e+this.LARGE_SPACING+this.HEIGHT)+\")\")}else{f=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let h;(h=this.zoomInGroup)==null||h.setAttribute(\"transform\",\"translate(0, \"+\nf+\")\");f=f+this.SMALL_SPACING+this.HEIGHT;(e=this.zoomOutGroup)==null||e.setAttribute(\"transform\",\"translate(0, \"+f+\")\")}this.top=b.top;this.left=b.left;var g;(g=this.svgGroup)==null||g.setAttribute(\"transform\",\"translate(\"+this.left+\",\"+this.top+\")\")}}createZoomOutSvg(a){this.zoomOutGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomOut\"},this.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,\n{id:\"blocklyZoomoutClipPath\"+a},this.zoomOutGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-64,y:-92,\"clip-path\":\"url(#blocklyZoomoutClipPath\"+a+\")\"},this.zoomOutGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomOutGroup,\"pointerdown\",null,this.zoom.bind(this,-1)))}createZoomInSvg(a){this.zoomInGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomIn\"},this.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyZoominClipPath\"+\na},this.zoomInGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-32,y:-92,\"clip-path\":\"url(#blocklyZoominClipPath\"+a+\")\"},this.zoomInGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+\nSPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomInGroup,\"pointerdown\",null,this.zoom.bind(this,1)))}zoom(a,b){this.workspace.markFocused();this.workspace.zoomCenter(a);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();b.stopPropagation();b.preventDefault()}createZoomResetSvg(a){this.zoomResetGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomReset\"},\nthis.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyZoomresetClipPath\"+a},this.zoomResetGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,y:-92,\"clip-path\":\"url(#blocklyZoomresetClipPath\"+\na+\")\"},this.zoomResetGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomResetGroup,\"pointerdown\",null,this.resetZoom.bind(this)))}resetZoom(a){this.workspace.markFocused();const b=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);\nthis.workspace.beginCanvasTransition();this.workspace.zoomCenter(b);this.workspace.scrollCenter();setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();a.stopPropagation();a.preventDefault()}fireZoomEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(null,this.workspace.id,\"zoom_controls\");fire$$module$build$src$core$events$utils(a)}};register$$module$build$src$core$css(\"\\n.blocklyZoom>image, .blocklyZoom>svg>image {\\n  opacity: .4;\\n}\\n\\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\\n  opacity: .6;\\n}\\n\\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\\n  opacity: .8;\\n}\\n\");\nvar module$build$src$core$zoom_controls={};module$build$src$core$zoom_controls.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;var VARIABLES$$module$build$src$core$serialization$priorities=100,PROCEDURES$$module$build$src$core$serialization$priorities=75,BLOCKS$$module$build$src$core$serialization$priorities=50,WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities=25,module$build$src$core$serialization$priorities={BLOCKS:BLOCKS$$module$build$src$core$serialization$priorities,PROCEDURES:PROCEDURES$$module$build$src$core$serialization$priorities,VARIABLES:VARIABLES$$module$build$src$core$serialization$priorities,\nWORKSPACE_COMMENTS:WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities};var module$build$src$core$serialization$registry={};module$build$src$core$serialization$registry.register=register$$module$build$src$core$serialization$registry;module$build$src$core$serialization$registry.unregister=unregister$$module$build$src$core$serialization$registry;var saveComment$$module$build$src$core$serialization$workspace_comments=save$$module$build$src$core$serialization$workspace_comments,WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments=class{constructor(){this.priority=WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities}save(a){const b=[];for(const c of a.getTopComments())(a=save$$module$build$src$core$serialization$workspace_comments(c,{addCoordinates:!0,saveIds:!0}))&&b.push(a);return b.length?b:null}load(a,\nb){for(const c of a)append$$module$build$src$core$serialization$workspace_comments(c,b,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()})}clear(a){for(const b of a.getTopComments())b.dispose()}};register$$module$build$src$core$serialization$registry(\"workspaceComments\",new WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments);var module$build$src$core$serialization$workspace_comments={};\nmodule$build$src$core$serialization$workspace_comments.WorkspaceCommentSerializer=WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments;module$build$src$core$serialization$workspace_comments.append=append$$module$build$src$core$serialization$workspace_comments;module$build$src$core$serialization$workspace_comments.save=save$$module$build$src$core$serialization$workspace_comments;var module$build$src$core$clipboard$registry={};module$build$src$core$clipboard$registry.register=register$$module$build$src$core$clipboard$registry;module$build$src$core$clipboard$registry.unregister=unregister$$module$build$src$core$clipboard$registry;var WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster=class{paste(a,b,c){a=a.commentState;c&&(a.x=c.x,a.y=c.y);$.disable$$module$build$src$core$events$utils();let d;try{d=append$$module$build$src$core$serialization$workspace_comments(a,b),moveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster(d)}finally{$.enable$$module$build$src$core$events$utils()}if(!d)return null;isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CREATE))(d));\n$.getFocusManager$$module$build$src$core$focus_manager().focusNode(d);return d}};WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE=\"workspace-comment\";register$$module$build$src$core$clipboard$registry(WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,new WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster);var module$build$src$core$clipboard$workspace_comment_paster={};\nmodule$build$src$core$clipboard$workspace_comment_paster.WorkspaceCommentPaster=WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster;var DEFAULT_SNAP_RADIUS$$module$build$src$core$config,module$build$src$core$config;DEFAULT_SNAP_RADIUS$$module$build$src$core$config=28;$.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,connectingSnapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,currentConnectionPreference:8,bumpDelay:250};module$build$src$core$config={config:$.config$$module$build$src$core$config};var ARIA_PREFIX$$module$build$src$core$utils$aria=\"aria-\",ROLE_ATTRIBUTE$$module$build$src$core$utils$aria=\"role\",Role$$module$build$src$core$utils$aria;\n(function(a){a.GRID=\"grid\";a.GRIDCELL=\"gridcell\";a.GROUP=\"group\";a.LISTBOX=\"listbox\";a.MENU=\"menu\";a.MENUITEM=\"menuitem\";a.MENUITEMCHECKBOX=\"menuitemcheckbox\";a.OPTION=\"option\";a.PRESENTATION=\"presentation\";a.ROW=\"row\";a.TREE=\"tree\";a.TREEITEM=\"treeitem\";a.SEPARATOR=\"separator\";a.STATUS=\"status\"})(Role$$module$build$src$core$utils$aria||(Role$$module$build$src$core$utils$aria={}));var State$$module$build$src$core$utils$aria;\n(function(a){a.ACTIVEDESCENDANT=\"activedescendant\";a.COLCOUNT=\"colcount\";a.DISABLED=\"disabled\";a.EXPANDED=\"expanded\";a.INVALID=\"invalid\";a.LABEL=\"label\";a.LABELLEDBY=\"labelledby\";a.LEVEL=\"level\";a.ORIENTATION=\"orientation\";a.POSINSET=\"posinset\";a.ROWCOUNT=\"rowcount\";a.SELECTED=\"selected\";a.SETSIZE=\"setsize\";a.VALUEMAX=\"valuemax\";a.VALUEMIN=\"valuemin\";a.LIVE=\"live\";a.HIDDEN=\"hidden\"})(State$$module$build$src$core$utils$aria||(State$$module$build$src$core$utils$aria={}));\nvar module$build$src$core$utils$aria={};module$build$src$core$utils$aria.Role=Role$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.State=State$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setRole=setRole$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setState=setState$$module$build$src$core$utils$aria;var MenuItem$$module$build$src$core$menuitem=class{constructor(a,b){this.content=a;this.opt_value=b;this.enabled=!0;this.element=null;this.rightToLeft=!1;this.roleName=null;this.highlight=this.checked=this.checkable=!1;this.actionHandler=null}createDom(){const a=document.createElement(\"div\");a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.element=a;a.className=\"blocklyMenuItem \"+(this.enabled?\"\":\"blocklyMenuItemDisabled \")+(this.checked?\"blocklyMenuItemSelected \":\"\")+(this.highlight?\n\"blocklyMenuItemHighlight \":\"\")+(this.rightToLeft?\"blocklyMenuItemRtl \":\"\");const b=document.createElement(\"div\");b.className=\"blocklyMenuItemContent\";if(this.checkable){var c=document.createElement(\"div\");c.className=\"blocklyMenuItemCheckbox \";b.appendChild(c)}c=this.content;typeof this.content===\"string\"&&(c=document.createTextNode(this.content));b.appendChild(c);a.appendChild(b);this.roleName&&setRole$$module$build$src$core$utils$aria(a,this.roleName);setState$$module$build$src$core$utils$aria(a,\nState$$module$build$src$core$utils$aria.SELECTED,this.checkable&&this.checked||!1);setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.DISABLED,!this.enabled);return a}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let a;return(a=this.opt_value)!=null?a:null}setRightToLeft(a){this.rightToLeft=a}setRole(a){this.roleName=a}setCheckable(a){this.checkable=a}setChecked(a){this.checked=a}setHighlighted(a){this.highlight=\na;const b=this.getElement();b&&this.isEnabled()&&(a?addClass$$module$build$src$core$utils$dom(b,\"blocklyMenuItemHighlight\"):removeClass$$module$build$src$core$utils$dom(b,\"blocklyMenuItemHighlight\"))}isEnabled(){return this.enabled}setEnabled(a){this.enabled=a}performAction(a){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,a)}onAction(a,b){this.actionHandler=a.bind(b)}},module$build$src$core$menuitem={};module$build$src$core$menuitem.MenuItem=MenuItem$$module$build$src$core$menuitem;var Menu$$module$build$src$core$menu=class{constructor(){this.menuItems=[];this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(a){this.menuItems.push(a)}render(a){const b=document.createElement(\"div\");b.className=\"blocklyMenu\";b.tabIndex=0;this.roleName&&setRole$$module$build$src$core$utils$aria(b,this.roleName);this.element=b;for(let c=0,d;d=this.menuItems[c];c++)b.appendChild(d.createDom());\nthis.pointerMoveHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointermove\",this,this.handlePointerMove,!0);this.clickHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerup\",this,this.handleClick,!0);this.pointerEnterHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerenter\",this,this.handlePointerEnter,!0);this.pointerLeaveHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerleave\",this,this.handlePointerLeave,!0);this.onKeyDownHandler=\nconditionalBind$$module$build$src$core$browser_events(b,\"keydown\",this,this.handleKeyEvent);a.appendChild(b);return b}getElement(){return this.element}focus(){const a=this.getElement();a&&a.focus({preventScroll:!0})}blur(){const a=this.getElement();a&&a.blur()}setRole(a){this.roleName=a}dispose(){this.pointerMoveHandler&&(unbind$$module$build$src$core$browser_events(this.pointerMoveHandler),this.pointerMoveHandler=null);this.clickHandler&&(unbind$$module$build$src$core$browser_events(this.clickHandler),\nthis.clickHandler=null);this.pointerEnterHandler&&(unbind$$module$build$src$core$browser_events(this.pointerEnterHandler),this.pointerEnterHandler=null);this.pointerLeaveHandler&&(unbind$$module$build$src$core$browser_events(this.pointerLeaveHandler),this.pointerLeaveHandler=null);this.onKeyDownHandler&&(unbind$$module$build$src$core$browser_events(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let a=0,b;b=this.menuItems[a];a++)b.dispose();this.element=null}getMenuItem(a){const b=this.getElement();\nfor(;a&&a!==b;){if(a.classList.contains(\"blocklyMenuItem\")){const c=this.getMenuItems();for(let d=0,e;e=c[d];d++)if(e.getElement()===a)return e}a=a.parentElement}return null}setHighlighted(a){var b=this.highlightedItem;b&&(b.setHighlighted(!1),this.highlightedItem=null);if(a){a.setHighlighted(!0);this.highlightedItem=a;b=this.getElement();const c=a.getElement();b&&c&&(scrollIntoContainerView$$module$build$src$core$utils$style(c,b),setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,\na.getId()))}}highlightNext(){const a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a,1)}highlightPrevious(){const a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a<0?this.menuItems.length:a,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(a,b){a+=b;let c;const d=this.getMenuItems();for(;c=d[a];){if(c.isEnabled()){this.setHighlighted(c);\nbreak}a+=b}}handlePointerMove(a){Math.max(Math.abs(a.movementX),Math.abs(a.movementY))!==0&&(a=this.getMenuItem(a.target))&&(a.isEnabled()?this.highlightedItem!==a&&this.setHighlighted(a):this.setHighlighted(null))}handleClick(a){var b=this.openingCoords;this.openingCoords=null;if(b&&typeof a.clientX===\"number\"){const c=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);if(Coordinate$$module$build$src$core$utils$coordinate.distance(b,c)<1)return}(b=this.getMenuItem(a.target))&&\nb.performAction(a)}handlePointerEnter(a){this.focus()}handlePointerLeave(a){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(a){if(this.menuItems.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.highlightedItem;switch(a.key){case \"Enter\":case \" \":b&&b.performAction(a);break;case \"ArrowUp\":this.highlightPrevious();break;case \"ArrowDown\":this.highlightNext();break;case \"PageUp\":case \"Home\":this.highlightFirst();break;case \"PageDown\":case \"End\":this.highlightLast();break;\ndefault:return}a.preventDefault();a.stopPropagation()}}getSize(){const a=this.getElement(),b=getSize$$module$build$src$core$utils$style(a);b.height=a.scrollHeight;return b}getMenuItems(){return this.menuItems.filter(a=>a instanceof MenuItem$$module$build$src$core$menuitem)}},module$build$src$core$menu={};module$build$src$core$menu.Menu=Menu$$module$build$src$core$menu;var MenuSeparator$$module$build$src$core$menu_separator=class{constructor(){this.element=null}createDom(){this.element=document.createElement(\"hr\");this.element.className=\"blocklyMenuSeparator\";setRole$$module$build$src$core$utils$aria(this.element,Role$$module$build$src$core$utils$aria.SEPARATOR);return this.element}dispose(){let a;(a=this.element)==null||a.remove();this.element=null}},module$build$src$core$menu_separator={};module$build$src$core$menu_separator.MenuSeparator=MenuSeparator$$module$build$src$core$menu_separator;var COLLAPSED_INPUT_NAME$$module$build$src$core$constants=\"_TEMP_COLLAPSED_INPUT\",COLLAPSED_FIELD_NAME$$module$build$src$core$constants=\"_TEMP_COLLAPSED_FIELD\",MANUALLY_DISABLED$$module$build$src$core$constants=\"MANUALLY_DISABLED\",module$build$src$core$constants={COLLAPSED_FIELD_NAME:COLLAPSED_FIELD_NAME$$module$build$src$core$constants,COLLAPSED_INPUT_NAME:COLLAPSED_INPUT_NAME$$module$build$src$core$constants,MANUALLY_DISABLED:MANUALLY_DISABLED$$module$build$src$core$constants};(function(a){a[a.VALUE=1]=\"VALUE\";a[a.STATEMENT=3]=\"STATEMENT\";a[a.DUMMY=5]=\"DUMMY\";a[a.CUSTOM=6]=\"CUSTOM\";a[a.END_ROW=7]=\"END_ROW\"})($.inputTypes$$module$build$src$core$inputs$input_types||($.inputTypes$$module$build$src$core$inputs$input_types={}));var module$build$src$core$inputs$input_types={};module$build$src$core$inputs$input_types.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var module$build$src$core$interfaces$i_serializable={};module$build$src$core$interfaces$i_serializable.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;var rootBlocks$$module$build$src$core$render_management=new Set,dirtyBlocks$$module$build$src$core$render_management=new WeakSet,eventGroups$$module$build$src$core$render_management=new WeakMap,afterRendersPromise$$module$build$src$core$render_management=null,afterRendersResolver$$module$build$src$core$render_management=null,animationRequestId$$module$build$src$core$render_management=0,module$build$src$core$render_management={};module$build$src$core$render_management.finishQueuedRenders=finishQueuedRenders$$module$build$src$core$render_management;\nmodule$build$src$core$render_management.queueRender=queueRender$$module$build$src$core$render_management;module$build$src$core$render_management.triggerQueuedRenders=triggerQueuedRenders$$module$build$src$core$render_management;var setLocale$$module$build$src$core$msg,module$build$src$core$msg;$.Msg$$module$build$src$core$msg=Object.create(null);setLocale$$module$build$src$core$msg=function(a){Object.keys(a).forEach(function(b){$.Msg$$module$build$src$core$msg[b]=a[b]})};module$build$src$core$msg={Msg:$.Msg$$module$build$src$core$msg,setLocale:setLocale$$module$build$src$core$msg};var CLASS_NAME$$module$build$src$core$toast=\"blocklyToast\",MESSAGE_CLASS_NAME$$module$build$src$core$toast=\"blocklyToastMessage\",CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast=\"blocklyToastCloseButton\",Toast$$module$build$src$core$toast=class{static show(a,b){if(b.oncePerSession&&b.id){if(this.shownIds.has(b.id))return;this.shownIds.add(b.id)}this.hide(a);const c=this.createDom(a,b);requestAnimationFrame(()=>{c.style.bottom=\"2rem\"})}static createDom(a,b){const {message:c,duration:d=5,assertiveness:e=\nToast$$module$build$src$core$toast.Assertiveness.POLITE}=b,f=document.createElement(\"div\");a.getInjectionDiv().appendChild(f);f.dataset.toastId=b.id;f.className=CLASS_NAME$$module$build$src$core$toast;setRole$$module$build$src$core$utils$aria(f,Role$$module$build$src$core$utils$aria.STATUS);setState$$module$build$src$core$utils$aria(f,State$$module$build$src$core$utils$aria.LIVE,e);b=f.appendChild(document.createElement(\"div\"));b.className=MESSAGE_CLASS_NAME$$module$build$src$core$toast;b.innerText=\nc;b=f.appendChild(document.createElement(\"button\"));b.className=CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast;setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.CLOSE);var g=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\"},b);setState$$module$build$src$core$utils$aria(g,State$$module$build$src$core$utils$aria.HIDDEN,!0);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{x:19.7782,y:2.80762,width:2,height:24,transform:\"rotate(45, 19.7782, 2.80762)\",fill:\"black\"},g);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:\"rotate(-45, 2.80762, 4.22183)\",fill:\"black\"},g);b.addEventListener(\"click\",()=>{f.remove();a.markFocused()});let h;b=()=>{h=setTimeout(()=>f.remove(),d*1E3)};g=()=>clearTimeout(h);f.addEventListener(\"focusin\",g);f.addEventListener(\"focusout\",b);f.addEventListener(\"mouseenter\",\ng);f.addEventListener(\"mousemove\",g);f.addEventListener(\"mouseleave\",b);b();return f}static hide(a,b){a=a.getInjectionDiv().querySelector(`.${CLASS_NAME$$module$build$src$core$toast}`);a instanceof HTMLElement&&(!b||b===a.dataset.toastId)&&a.remove()}};Toast$$module$build$src$core$toast.shownIds=new Set;(function(a){a=a.Assertiveness||(a.Assertiveness={});a.ASSERTIVE=\"assertive\";a.POLITE=\"polite\"})(Toast$$module$build$src$core$toast||(Toast$$module$build$src$core$toast={}));register$$module$build$src$core$css(`\n.${CLASS_NAME$$module$build$src$core$toast} {\n  font-size: 1.2rem;\n  position: absolute;\n  bottom: -10rem;\n  right: 2rem;\n  padding: 1rem;\n  color: black;\n  background-color: white;\n  border: 2px solid black;\n  border-radius: 0.4rem;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  gap: 0.8rem;\n  line-height: 1.5;\n  transition: bottom 0.3s ease-out;\n}\n\n.${CLASS_NAME$$module$build$src$core$toast} .${MESSAGE_CLASS_NAME$$module$build$src$core$toast} {\n  maxWidth: 18rem;\n}\n\n.${CLASS_NAME$$module$build$src$core$toast} .${CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast} {\n  margin: 0;\n  padding: 0.2rem;\n  background-color: transparent;\n  color: black;\n  border: none;\n  cursor: pointer;\n}\n`);var module$build$src$core$toast={};module$build$src$core$toast.Toast=Toast$$module$build$src$core$toast;var defaultAlert$$module$build$src$core$dialog=function(a,b){window.alert(a);b&&b()},alertImplementation$$module$build$src$core$dialog=defaultAlert$$module$build$src$core$dialog,defaultConfirm$$module$build$src$core$dialog=function(a,b){b(window.confirm(a))},confirmImplementation$$module$build$src$core$dialog=defaultConfirm$$module$build$src$core$dialog,defaultPrompt$$module$build$src$core$dialog=function(a,b,c){c(window.prompt(a,b))},promptImplementation$$module$build$src$core$dialog=defaultPrompt$$module$build$src$core$dialog,\ndefaultToast$$module$build$src$core$dialog=Toast$$module$build$src$core$toast.show.bind(Toast$$module$build$src$core$toast),toastImplementation$$module$build$src$core$dialog=defaultToast$$module$build$src$core$dialog,module$build$src$core$dialog={};module$build$src$core$dialog.alert=alert$$module$build$src$core$dialog;module$build$src$core$dialog.confirm=confirm$$module$build$src$core$dialog;module$build$src$core$dialog.prompt=prompt$$module$build$src$core$dialog;\nmodule$build$src$core$dialog.setAlert=setAlert$$module$build$src$core$dialog;module$build$src$core$dialog.setConfirm=setConfirm$$module$build$src$core$dialog;module$build$src$core$dialog.setPrompt=setPrompt$$module$build$src$core$dialog;module$build$src$core$dialog.setToast=setToast$$module$build$src$core$dialog;module$build$src$core$dialog.toast=toast$$module$build$src$core$dialog;var module$build$src$core$interfaces$i_legacy_procedure_blocks={};module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureCallBlock=isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureDefBlock=isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;var module$build$src$core$interfaces$i_variable_backed_parameter_model={};module$build$src$core$interfaces$i_variable_backed_parameter_model.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;var previousWarnings$$module$build$src$core$utils$deprecation=new Set,module$build$src$core$utils$deprecation={};module$build$src$core$utils$deprecation.warn=warn$$module$build$src$core$utils$deprecation;var CATEGORY_NAME$$module$build$src$core$variables=\"VARIABLE\",VAR_LETTER_OPTIONS$$module$build$src$core$variables=\"ijkmnopqrstuvwxyzabcdefgh\",TEST_ONLY$$module$build$src$core$variables={generateUniqueNameInternal:generateUniqueNameInternal$$module$build$src$core$variables},module$build$src$core$variables={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables,TEST_ONLY:TEST_ONLY$$module$build$src$core$variables,VAR_LETTER_OPTIONS:VAR_LETTER_OPTIONS$$module$build$src$core$variables};\nmodule$build$src$core$variables.allDeveloperVariables=$.allDeveloperVariables$$module$build$src$core$variables;module$build$src$core$variables.allUsedVarModels=$.allUsedVarModels$$module$build$src$core$variables;module$build$src$core$variables.compareByName=compareByName$$module$build$src$core$variables;module$build$src$core$variables.createVariableButtonHandler=createVariableButtonHandler$$module$build$src$core$variables;module$build$src$core$variables.deleteVariable=$.deleteVariable$$module$build$src$core$variables;\nmodule$build$src$core$variables.flyoutCategory=flyoutCategory$$module$build$src$core$variables;module$build$src$core$variables.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueName=generateUniqueName$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueNameFromOptions=generateUniqueNameFromOptions$$module$build$src$core$variables;module$build$src$core$variables.generateVariableFieldDom=generateVariableFieldDom$$module$build$src$core$variables;\nmodule$build$src$core$variables.getAddedVariables=getAddedVariables$$module$build$src$core$variables;module$build$src$core$variables.getOrCreateVariablePackage=$.getOrCreateVariablePackage$$module$build$src$core$variables;module$build$src$core$variables.getVariable=$.getVariable$$module$build$src$core$variables;module$build$src$core$variables.getVariableUsesById=getVariableUsesById$$module$build$src$core$variables;module$build$src$core$variables.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$variables;\nmodule$build$src$core$variables.jsonFlyoutCategoryBlocks=jsonFlyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithAnyType=nameUsedWithAnyType$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithConflictingParam=nameUsedWithConflictingParam$$module$build$src$core$variables;module$build$src$core$variables.promptName=promptName$$module$build$src$core$variables;module$build$src$core$variables.renameVariable=$.renameVariable$$module$build$src$core$variables;var DeserializationError$$module$build$src$core$serialization$exceptions=class extends Error{},MissingBlockType$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a){super(\"Expected to find a 'type' property, defining the block type\");this.state=a}},MissingConnection$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,\nb,c){super(`The block ${b.toDevString()} is missing a(n) ${a}\nconnection`);this.block=b;this.state=c}},BadConnectionCheck$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,b,c,d){super(`The block ${c.toDevString()} could not connect its\n${b} to its parent, because: ${a}`);this.childBlock=c;this.childState=d}},RealChildOfShadow$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a){super(\"Encountered a real block which is defined as a child of a shadow\\nblock. It is an invariant of Blockly that shadow blocks only have shadow\\nchildren\");this.state=a}},UnregisteredIcon$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,\nb,c){super(`Cannot add an icon of type '${a}' to the block `+`${b.toDevString()}, because there is no icon registered with `+`type '${a}'. Make sure that all of your icons have been `+\"registered.\");this.block=b;this.state=c}},module$build$src$core$serialization$exceptions={};module$build$src$core$serialization$exceptions.BadConnectionCheck=BadConnectionCheck$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.DeserializationError=DeserializationError$$module$build$src$core$serialization$exceptions;\nmodule$build$src$core$serialization$exceptions.MissingBlockType=MissingBlockType$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.MissingConnection=MissingConnection$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.RealChildOfShadow=RealChildOfShadow$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.UnregisteredIcon=UnregisteredIcon$$module$build$src$core$serialization$exceptions;var saveBlock$$module$build$src$core$serialization$blocks=save$$module$build$src$core$serialization$blocks,BlockSerializer$$module$build$src$core$serialization$blocks=class{constructor(){this.priority=BLOCKS$$module$build$src$core$serialization$priorities}save(a){const b=[];for(const c of a.getTopBlocks(!1))(a=save$$module$build$src$core$serialization$blocks(c,{addCoordinates:!0,doFullSerialization:!1}))&&b.push(a);return b.length?{languageVersion:0,blocks:b}:null}load(a,b){a=a.blocks;for(const c of a)append$$module$build$src$core$serialization$blocks(c,\nb,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()})}clear(a){for(const b of a.getTopBlocks(!1))b.dispose(!1)}};register$$module$build$src$core$serialization$registry(\"blocks\",new BlockSerializer$$module$build$src$core$serialization$blocks);var module$build$src$core$serialization$blocks={};module$build$src$core$serialization$blocks.BlockSerializer=BlockSerializer$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.append=append$$module$build$src$core$serialization$blocks;\nmodule$build$src$core$serialization$blocks.appendInternal=appendInternal$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.save=save$$module$build$src$core$serialization$blocks;var IconType$$module$build$src$core$icons$icon_types=class{constructor(a){this.name=a}toString(){return this.name}equals(a){return this.name===a.toString()}};IconType$$module$build$src$core$icons$icon_types.MUTATOR=new IconType$$module$build$src$core$icons$icon_types(\"mutator\");IconType$$module$build$src$core$icons$icon_types.WARNING=new IconType$$module$build$src$core$icons$icon_types(\"warning\");IconType$$module$build$src$core$icons$icon_types.COMMENT=new IconType$$module$build$src$core$icons$icon_types(\"comment\");\nvar module$build$src$core$icons$icon_types={};module$build$src$core$icons$icon_types.IconType=IconType$$module$build$src$core$icons$icon_types;var module$build$src$core$interfaces$i_has_bubble={};module$build$src$core$interfaces$i_has_bubble.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;var BlockBase$$module$build$src$core$events$events_block_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!a;a&&(this.blockId=a.id,this.workspaceId=a.workspace.id)}toJson(){const a=super.toJson();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");a.blockId=this.blockId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockBase$$module$build$src$core$events$events_block_base);\nb.blockId=a.blockId;return b}},module$build$src$core$events$events_block_base={};module$build$src$core$events$events_block_base.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;var BlockChange$$module$build$src$core$events$events_block_change=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a,b,c,d,e){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;a&&(this.element=b,this.name=c||void 0,this.oldValue=d,this.newValue=e)}toJson(){const a=super.toJson();if(!this.element)throw Error(\"The changed element is undefined. Either pass an element to the constructor, or call fromJson\");a.element=this.element;a.name=this.name;\na.oldValue=this.oldValue;a.newValue=this.newValue;this.disabledReason&&(a.disabledReason=this.disabledReason);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockChange$$module$build$src$core$events$events_block_change);b.element=a.element;b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;a.disabledReason!==void 0&&(b.disabledReason=a.disabledReason);return b}setDisabledReason(a){if(this.element!==\"disabled\")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not \"disabled\".');\nthis.disabledReason=a}isNull(){return this.oldValue===this.newValue}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");b=b.getBlockById(this.blockId);if(!b)throw Error(\"The associated block is undefined. Either pass a block to the constructor, or call fromJson\");const c=b.getIcon(IconType$$module$build$src$core$icons$icon_types.MUTATOR);c&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(c)&&\nc.bubbleIsVisible()&&c.setBubbleVisible(!1);a=a?this.newValue:this.oldValue;switch(this.element){case \"field\":(b=b.getField(this.name))?b.setValue(a):console.warn(\"Can't set non-existent field: \"+this.name);break;case \"comment\":b.setCommentText(a||null);break;case \"collapsed\":b.setCollapsed(!!a);break;case \"disabled\":var d;b.setDisabledReason(!!a,(d=this.disabledReason)!=null?d:MANUALLY_DISABLED$$module$build$src$core$constants);break;case \"inline\":b.setInputsInline(!!a);break;case \"mutation\":d=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(b);\nb.loadExtraState?b.loadExtraState(JSON.parse(a||\"{}\")):b.domToMutation&&b.domToMutation($.textToDom$$module$build$src$core$utils$xml(a||\"<mutation/>\"));fire$$module$build$src$core$events$utils(new BlockChange$$module$build$src$core$events$events_block_change(b,\"mutation\",null,d,a));break;default:console.warn(\"Unknown change type: \"+this.element)}}static getExtraBlockState_(a){return a.saveExtraState?(a=a.saveExtraState(!0))?JSON.stringify(a):\"\":a.mutationToDom?(a=a.mutationToDom())?domToText$$module$build$src$core$xml(a):\n\"\":\"\"}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_CHANGE,BlockChange$$module$build$src$core$events$events_block_change);var module$build$src$core$events$events_block_change={};module$build$src$core$events$events_block_change.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;var module$build$src$core$utils$math={};module$build$src$core$utils$math.clamp=clamp$$module$build$src$core$utils$math;module$build$src$core$utils$math.toDegrees=toDegrees$$module$build$src$core$utils$math;module$build$src$core$utils$math.toRadians=toRadians$$module$build$src$core$utils$math;var ARROW_SIZE$$module$build$src$core$dropdowndiv=16,BORDER_SIZE$$module$build$src$core$dropdowndiv=1,ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv=12,PADDING_Y$$module$build$src$core$dropdowndiv=16,ANIMATION_TIME$$module$build$src$core$dropdowndiv=.25,animateOutTimer$$module$build$src$core$dropdowndiv=null,onHide$$module$build$src$core$dropdowndiv=null,renderedClassName$$module$build$src$core$dropdowndiv=\"\",themeClassName$$module$build$src$core$dropdowndiv=\"\",div$$module$build$src$core$dropdowndiv,\ncontent$$module$build$src$core$dropdowndiv,arrow$$module$build$src$core$dropdowndiv,boundsElement$$module$build$src$core$dropdowndiv=null,owner$$module$build$src$core$dropdowndiv=null,positionToField$$module$build$src$core$dropdowndiv=null,returnEphemeralFocus$$module$build$src$core$dropdowndiv=null,keydownListener$$module$build$src$core$dropdowndiv=null,internal$$module$build$src$core$dropdowndiv={getBoundsInfo:function(){const a=getPageOffset$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv),\nb=getSize$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv);return{left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height}},getPositionMetrics:function(a,b,c,d){const e=internal$$module$build$src$core$dropdowndiv.getBoundsInfo(),f=getSize$$module$build$src$core$utils$style(div$$module$build$src$core$dropdowndiv);return b+f.height<e.bottom?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>e.top?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,\nd,e,f):b+f.height<document.documentElement.clientHeight?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>document.documentElement.clientTop?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,d,e,f):getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv(a,e,f)}},TEST_ONLY$$module$build$src$core$dropdowndiv=internal$$module$build$src$core$dropdowndiv,module$build$src$core$dropdowndiv={ANIMATION_TIME:ANIMATION_TIME$$module$build$src$core$dropdowndiv,ARROW_HORIZONTAL_PADDING:ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv,\nARROW_SIZE:ARROW_SIZE$$module$build$src$core$dropdowndiv,BORDER_SIZE:BORDER_SIZE$$module$build$src$core$dropdowndiv,PADDING_Y:PADDING_Y$$module$build$src$core$dropdowndiv,TEST_ONLY:internal$$module$build$src$core$dropdowndiv};module$build$src$core$dropdowndiv.clearContent=clearContent$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.createDom=createDom$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getContentDiv=getContentDiv$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.getOwner=getOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getPositionX=getPositionX$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hide=hide$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideIfOwner=hideIfOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideWithoutAnimation=hideWithoutAnimation$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.isVisible=isVisible$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setBoundsElement=setBoundsElement$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setColour=setColour$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.show=show$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.showPositionedByBlock=showPositionedByBlock$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.showPositionedByField=showPositionedByField$$module$build$src$core$dropdowndiv;var module$build$src$core$utils$string={};module$build$src$core$utils$string.commonWordPrefix=commonWordPrefix$$module$build$src$core$utils$string;module$build$src$core$utils$string.commonWordSuffix=commonWordSuffix$$module$build$src$core$utils$string;module$build$src$core$utils$string.isNumber=$.isNumber$$module$build$src$core$utils$string;module$build$src$core$utils$string.shortestStringLength=shortestStringLength$$module$build$src$core$utils$string;module$build$src$core$utils$string.wrap=$.wrap$$module$build$src$core$utils$string;var customTooltip$$module$build$src$core$tooltip=void 0,visible$$module$build$src$core$tooltip=!1,blocked$$module$build$src$core$tooltip=!1,LIMIT$$module$build$src$core$tooltip=50,mouseOutPid$$module$build$src$core$tooltip=0,showPid$$module$build$src$core$tooltip=0,lastX$$module$build$src$core$tooltip=0,lastY$$module$build$src$core$tooltip=0,element$$module$build$src$core$tooltip=null,poisonedElement$$module$build$src$core$tooltip=null,OFFSET_X$$module$build$src$core$tooltip=0,OFFSET_Y$$module$build$src$core$tooltip=\n10,RADIUS_OK$$module$build$src$core$tooltip=10,HOVER_MS$$module$build$src$core$tooltip=750,MARGINS$$module$build$src$core$tooltip=5,containerDiv$$module$build$src$core$tooltip=null,module$build$src$core$tooltip={HOVER_MS:HOVER_MS$$module$build$src$core$tooltip,LIMIT:LIMIT$$module$build$src$core$tooltip,MARGINS:MARGINS$$module$build$src$core$tooltip,OFFSET_X:OFFSET_X$$module$build$src$core$tooltip,OFFSET_Y:OFFSET_Y$$module$build$src$core$tooltip,RADIUS_OK:RADIUS_OK$$module$build$src$core$tooltip};\nmodule$build$src$core$tooltip.bindMouseEvents=bindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.block=block$$module$build$src$core$tooltip;module$build$src$core$tooltip.createDom=createDom$$module$build$src$core$tooltip;module$build$src$core$tooltip.dispose=dispose$$module$build$src$core$tooltip;module$build$src$core$tooltip.getCustomTooltip=getCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.getDiv=getDiv$$module$build$src$core$tooltip;\nmodule$build$src$core$tooltip.getTooltipOfObject=getTooltipOfObject$$module$build$src$core$tooltip;module$build$src$core$tooltip.hide=hide$$module$build$src$core$tooltip;module$build$src$core$tooltip.isVisible=isVisible$$module$build$src$core$tooltip;module$build$src$core$tooltip.setCustomTooltip=setCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.unbindMouseEvents=unbindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.unblock=unblock$$module$build$src$core$tooltip;var hsvSaturation$$module$build$src$core$utils$colour=.45,hsvValue$$module$build$src$core$utils$colour=.65,names$$module$build$src$core$utils$colour={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\"},module$build$src$core$utils$colour={};module$build$src$core$utils$colour.blend=blend$$module$build$src$core$utils$colour;\nmodule$build$src$core$utils$colour.getHsvSaturation=getHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.getHsvValue=getHsvValue$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hexToRgb=hexToRgb$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hsvToHex=hsvToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hueToHex=hueToHex$$module$build$src$core$utils$colour;\nmodule$build$src$core$utils$colour.names=names$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.parse=parse$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.rgbToHex=rgbToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvSaturation=setHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvValue=setHsvValue$$module$build$src$core$utils$colour;var module$build$src$core$utils$parsing={};module$build$src$core$utils$parsing.checkMessageReferences=checkMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.parseBlockColour=parseBlockColour$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.replaceMessageReferences=replaceMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.tokenizeInterpolation=tokenizeInterpolation$$module$build$src$core$utils$parsing;var Field$$module$build$src$core$field=class{get size_(){return this.size}set size_(a){this.size=a}constructor(a,b,c){this.DEFAULT_VALUE=null;this.name=void 0;this.tooltip=this.validator_=null;this.size=new Size$$module$build$src$core$utils$size(0,0);this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null;this.disposed=!1;this.maxDisplayLength=50;this.sourceBlock_=null;this.enabled_=this.visible_=this.isDirty_=!0;this.suffixField=this.prefixField=\nthis.clickTarget_=null;this.EDITABLE=!0;this.SERIALIZABLE=!1;this.id_=null;this.value_=\"DEFAULT_VALUE\"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE;this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){a.tooltip&&this.setTooltip(replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip))}setSourceBlock(a){if(this.sourceBlock_)throw Error(\"Field already bound to a block\");\nthis.sourceBlock_=a;if(a.id.includes(\"_field\"))throw Error(\"Field ID indicator is contained in block ID. This may cause \"+`problems with focus: ${a.id}.`);this.id_=`${a.id}_field_${getNextUniqueId$$module$build$src$core$utils$idgenerator()}`}getConstants(){!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants());return this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var a=\nthis.id_;if(!a)throw Error(\"Expected ID to be defined prior to init.\");this.fieldGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{id:a});this.isVisible()||(this.fieldGroup_.style.display=\"none\");this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);this.initView();this.updateEditable();this.setTooltip(this.tooltip);this.bindEvents_();this.initModel();this.applyColour()}}initView(){this.createBorderRect_();this.createTextElement_();this.fieldGroup_&&\naddClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyField\")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,\"class\":\"blocklyFieldRect\"},this.fieldGroup_)}createTextElement_(){this.textElement_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,\n{\"class\":\"blocklyText blocklyFieldText\"},this.fieldGroup_);this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute(\"dominant-baseline\",\"central\");this.textContent_=document.createTextNode(\"\");this.textElement_.appendChild(this.textContent_)}bindEvents_(){const a=this.getClickTarget_();if(!a)throw Error(\"A click target has not been set.\");bindMouseEvents$$module$build$src$core$tooltip(a);this.mouseDownWrapper=conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",\nthis,this.onMouseDown_)}fromXml(a){this.setValue(a.textContent)}toXml(a){a.textContent=this.getValue();return a}saveState(a){a=this.saveLegacyState(Field$$module$build$src$core$field);return a!==null?a:this.getValue()}loadState(a){this.loadLegacyState(Field$$module$build$src$core$field,a)||this.setValue(a)}saveLegacyState(a){return a.prototype.saveState===this.saveState&&a.prototype.toXml!==this.toXml?(a=$.createElement$$module$build$src$core$utils$xml(\"field\"),a.setAttribute(\"name\",this.name||\"\"),\ndomToText$$module$build$src$core$utils$xml(this.toXml(a)).replace(' xmlns=\"https://developers.google.com/blockly/xml\"',\"\")):null}loadLegacyState(a,b){return a.prototype.loadState===this.loadState&&a.prototype.fromXml!==this.fromXml?(this.fromXml($.textToDom$$module$build$src$core$utils$xml(b)),!0):!1}dispose(){hideIfOwner$$module$build$src$core$dropdowndiv(this);hideIfOwner$$module$build$src$core$widgetdiv(this);let a;((a=this.getSourceBlock())==null?0:a.isDeadOrDying())||removeNode$$module$build$src$core$utils$dom(this.fieldGroup_);\nthis.disposed=!0}updateEditable(){const a=this.fieldGroup_,b=this.getSourceBlock();this.EDITABLE&&a&&b&&(this.enabled_&&b.isEditable()?(addClass$$module$build$src$core$utils$dom(a,\"blocklyEditableField\"),removeClass$$module$build$src$core$utils$dom(a,\"blocklyNonEditableField\")):(addClass$$module$build$src$core$utils$dom(a,\"blocklyNonEditableField\"),removeClass$$module$build$src$core$utils$dom(a,\"blocklyEditableField\")))}setEnabled(a){this.enabled_=a;this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&\n!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Field$$module$build$src$core$field.prototype.showEditor_}isClickableInFlyout(a){return!a}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let a=!1;this.name&&(this.SERIALIZABLE?a=!0:this.EDITABLE&&(console.warn(\"Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization.\"),\na=!0));return a}isVisible(){return this.visible_}setVisible(a){if(this.visible_!==a){this.visible_=a;var b=this.fieldGroup_;b&&(b.style.display=a?\"block\":\"none\")}}setValidator(a){this.validator_=a}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);\nreturn this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_()}showEditor(a){this.isClickable()&&this.showEditor_(a)}showEditor_(a){}repositionForWindowResize(){return!1}updateSize_(a){const b=this.getConstants();a=a!==void 0?a:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let c=a*2,d=b.FIELD_TEXT_HEIGHT,e=0;this.textElement_&&(e=getTextWidth$$module$build$src$core$utils$dom(this.textElement_),\nc+=e);this.isFullBlockField()||(d=Math.max(d,b.FIELD_BORDER_RECT_HEIGHT));this.size_=new Size$$module$build$src$core$utils$size(c,d);this.positionTextElement_(a,e);this.positionBorderRect_()}positionTextElement_(a,b){if(this.textElement_){var c=this.getConstants(),d=this.size_.height/2,e;this.textElement_.setAttribute(\"x\",String(((e=this.getSourceBlock())==null?0:e.RTL)?this.size_.width-b-a:a));this.textElement_.setAttribute(\"y\",String(c.FIELD_TEXT_BASELINE_CENTER?d:d-c.FIELD_TEXT_HEIGHT/2+c.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&\n(this.borderRect_.setAttribute(\"width\",String(this.size_.width)),this.borderRect_.setAttribute(\"height\",String(this.size_.height)),this.borderRect_.setAttribute(\"rx\",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute(\"ry\",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){if(!this.isVisible())return new Size$$module$build$src$core$utils$size(0,0);this.isDirty_&&(this.render_(),this.isDirty_=!1);return this.size_}getScaledBBox(){let a;var b=this.getSourceBlock();\nif(!b)throw new UnattachedFieldError$$module$build$src$core$field;if(this.isFullBlockField()){var c=this.sourceBlock_.getHeightWidth();const d=b.workspace.scale;a=this.getAbsoluteXY_();b=(c.width+1)*d;c=(c.height+1)*d;GECKO$$module$build$src$core$utils$useragent?(a.x+=1.5*d,a.y+=1.5*d):(a.x-=.5*d,a.y-=.5*d)}else c=this.borderRect_.getBoundingClientRect(),a=getPageOffset$$module$build$src$core$utils$style(this.borderRect_),b=c.width,c=c.height;return new Rect$$module$build$src$core$utils$rect(a.y,\na.y+c,a.x,a.x+b)}onLocationChange(a){}getDisplayText_(){let a=this.getText();a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+\"\\u2026\");a=a.replace(/\\s/g,Field$$module$build$src$core$field.NBSP);this.sourceBlock_&&this.sourceBlock_.RTL&&(a+=\"\\u200f\");return a}getText(){const a=this.getText_();return a!==null?String(a):String(this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0;this.constants_=null}forceRerender(){this.isDirty_=!0;this.sourceBlock_&&this.sourceBlock_.rendered&&\nthis.sourceBlock_.queueRender()}setValue(a,b=!0){if(a!==null){var c=$.getGroup$$module$build$src$core$events$utils();c||$.setGroup$$module$build$src$core$events$utils(!0);try{const k=this.doClassValidation_(a),l=this.processValidation(a,k,b);if(!(l instanceof Error)){var d,e=(d=this.getValidator())==null?void 0:d.call(this,l),f=this.processValidation(l,e,b);if(!(f instanceof Error)){var g=this.sourceBlock_;if(!g||!g.disposed){var h=this.getValue();h===f?this.doValueUpdate_(f):(this.doValueUpdate_(f),\nb&&g&&isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(g,\"field\",this.name||null,h,f)),this.isDirty_&&this.forceRerender())}}}}finally{$.setGroup$$module$build$src$core$events$utils(c)}}}processValidation(a,b,c){return b===null?(this.doValueInvalid_(a,c),this.isDirty_&&this.forceRerender(),Error()):b===void 0?a:b}getValue(){return this.value_}doClassValidation_(a){return a===\nnull||a===void 0?null:a}doValueUpdate_(a){this.value_=a;this.isDirty_=!0}doValueInvalid_(a,b){}onMouseDown_(a){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this)}setTooltip(a){a||a===\"\"||(a=this.sourceBlock_);const b=this.getClickTarget_();b?b.tooltip=a:this.tooltip=a}getTooltip(){const a=this.getClickTarget_();return a?getTooltipOfObject$$module$build$src$core$tooltip(a):getTooltipOfObject$$module$build$src$core$tooltip({tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||\nthis.getSvgRoot()}getAbsoluteXY_(){return getPageOffset$$module$build$src$core$utils$style(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let a=null;const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;const c=b.inputList;for(let d=0;d<b.inputList.length;d++){const e=c[d],f=e.fieldRow;for(let g=0;g<f.length;g++)if(f[g]===this){a=e;break}}return a}getFlipRtl(){return!1}onShortcut(a){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error(\"This field currently has no representative DOM element.\");\nreturn this.fieldGroup_}getFocusableTree(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;return a.workspace}onNodeFocus(){const a=this.getSourceBlock();a.workspace.scrollBoundsIntoView(a.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(a){throw Error(\"Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.\");}};Field$$module$build$src$core$field.NBSP=\"\\u00a0\";\nField$$module$build$src$core$field.SKIP_SETUP=Symbol(\"SKIP_SETUP\");var UnattachedFieldError$$module$build$src$core$field=class extends Error{constructor(){super(\"The field has not yet been attached to its input. Call appendField to attach it.\")}},module$build$src$core$field={};module$build$src$core$field.Field=Field$$module$build$src$core$field;module$build$src$core$field.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;var owner$$module$build$src$core$widgetdiv=null,ownerWorkspace$$module$build$src$core$widgetdiv=null,dispose$$module$build$src$core$widgetdiv=null,containerClassName$$module$build$src$core$widgetdiv=\"blocklyWidgetDiv\",rendererClassName$$module$build$src$core$widgetdiv=\"\",themeClassName$$module$build$src$core$widgetdiv=\"\",containerDiv$$module$build$src$core$widgetdiv,returnEphemeralFocus$$module$build$src$core$widgetdiv=null,module$build$src$core$widgetdiv={};\nmodule$build$src$core$widgetdiv.createDom=createDom$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.getDiv=getDiv$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hide=hide$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwner=hideIfOwner$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwnerIsInWorkspace=hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.isVisible=isVisible$$module$build$src$core$widgetdiv;\nmodule$build$src$core$widgetdiv.positionWithAnchor=positionWithAnchor$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.show=show$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.testOnly_setDiv=testOnly_setDiv$$module$build$src$core$widgetdiv;var currentBlock$$module$build$src$core$contextmenu=null,dummyOwner$$module$build$src$core$contextmenu={},menu_$$module$build$src$core$contextmenu=null,module$build$src$core$contextmenu={};module$build$src$core$contextmenu.callbackFactory=$.callbackFactory$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.dispose=dispose$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.getCurrentBlock=getCurrentBlock$$module$build$src$core$contextmenu;\nmodule$build$src$core$contextmenu.hide=hide$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.setCurrentBlock=setCurrentBlock$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.show=show$$module$build$src$core$contextmenu;var ContextMenuRegistry$$module$build$src$core$contextmenu_registry=class{constructor(){this.registeredItems=new Map;this.reset()}reset(){this.registeredItems.clear()}register(a){if(this.registeredItems.has(a.id))throw Error('Menu item with ID \"'+a.id+'\" is already registered.');this.registeredItems.set(a.id,a)}unregister(a){if(!this.registeredItems.has(a))throw Error('Menu item with ID \"'+a+'\" not found.');this.registeredItems.delete(a)}getItem(a){let b;return(b=this.registeredItems.get(a))!=null?\nb:null}getContextMenuOptions(a,b){const c=[];for(const d of this.registeredItems.values()){if(d.scopeType){if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.BLOCK&&!a.block)continue;if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.COMMENT&&!a.comment)continue;if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.WORKSPACE&&!a.workspace)continue}let e;e={scope:a,weight:d.weight};if(d.separator)e=Object.assign({},e,{separator:!0});else{const f=\nd.preconditionFn(a,b);if(f===\"hidden\")continue;const g=typeof d.displayText===\"function\"?d.displayText(a):d.displayText;e=Object.assign({},e,{text:g,callback:d.callback,enabled:f===\"enabled\"})}c.push(e)}c.sort(function(d,e){return d.weight-e.weight});return c}};\n(function(a){var b=a.ScopeType||(a.ScopeType={});b.BLOCK=\"block\";b.WORKSPACE=\"workspace\";b.COMMENT=\"comment\";a.registry=new a})(ContextMenuRegistry$$module$build$src$core$contextmenu_registry||(ContextMenuRegistry$$module$build$src$core$contextmenu_registry={}));var ScopeType$$module$build$src$core$contextmenu_registry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType,module$build$src$core$contextmenu_registry={};\nmodule$build$src$core$contextmenu_registry.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$contextmenu_registry.ScopeType=ScopeType$$module$build$src$core$contextmenu_registry;var BLOCK$$module$build$src$core$layers=50,BUBBLE$$module$build$src$core$layers=100,module$build$src$core$layers={BLOCK:BLOCK$$module$build$src$core$layers,BUBBLE:BUBBLE$$module$build$src$core$layers};var CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy=class{constructor(a){this.comment=a;this.startLoc=null;this.workspace=a.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent();this.startLoc=this.comment.getRelativeToSurfaceXY();this.workspace.setResizesEnabled(!1);let a;(a=this.workspace.getLayerManager())==null||a.moveToDragLayer(this.comment);this.comment.setDragging(!0)}drag(a){this.comment.moveDuringDrag(a)}endDrag(){this.fireDragEndEvent();\nthis.fireMoveEvent();let a;(a=this.workspace.getLayerManager())==null||a.moveOffDragLayer(this.comment,BLOCK$$module$build$src$core$layers);this.comment.setDragging(!1);this.comment.snapToGrid();this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DRAG))(this.comment,!0);fire$$module$build$src$core$events$utils(a)}fireDragEndEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DRAG))(this.comment,\n!1);fire$$module$build$src$core$events$utils(a)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_MOVE))(this.comment);a.setReason([\"drag\"]);a.oldCoordinate_=this.startLoc;a.recordNew();fire$$module$build$src$core$events$utils(a)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},module$build$src$core$dragging$comment_drag_strategy={};\nmodule$build$src$core$dragging$comment_drag_strategy.CommentDragStrategy=CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy;var workspaceToDragDelta$$module$build$src$core$utils$drag=new WeakMap,module$build$src$core$utils$drag={};module$build$src$core$utils$drag.move=move$$module$build$src$core$utils$drag;module$build$src$core$utils$drag.start=start$$module$build$src$core$utils$drag;var CommentBarButton$$module$build$src$core$comments$comment_bar_button=class{constructor(a,b,c,d){this.id=a;this.workspace=b;this.container=c;this.commentView=d}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(a=!1){var b=this.icon.getBBox();b=Rect$$module$build$src$core$utils$rect.from(b);a&&(a=this.getMargin(),b.left-=a,b.top-=a,b.bottom+=a,b.right+=a);return b}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const a=\nthis.getCommentView();var b=a.getRelativeToSurfaceXY();const c=a.getSize();b=new Rect$$module$build$src$core$utils$rect(b.y,b.y+c.height,b.x,b.x+c.width);a.workspace.scrollBoundsIntoView(b)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},module$build$src$core$comments$comment_bar_button={};module$build$src$core$comments$comment_bar_button.CommentBarButton=CommentBarButton$$module$build$src$core$comments$comment_bar_button;var COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button=\"_collapse_bar_button\",CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button=class extends CommentBarButton$$module$build$src$core$comments$comment_bar_button{constructor(a,b,c,d){super(a,b,c,d);this.id=a;this.workspace=b;this.container=c;this.commentView=d;this.icon=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,\n{\"class\":\"blocklyFoldoutIcon\",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button}`},this.container);this.bindId=conditionalBind$$module$build$src$core$browser_events(this.icon,\"pointerdown\",this,this.performAction.bind(this))}dispose(){unbind$$module$build$src$core$browser_events(this.bindId)}reposition(){const a=this.getMargin();this.icon.setAttribute(\"y\",`${a}`);this.icon.setAttribute(\"x\",\n`${a}`)}performAction(a){clearTouchIdentifier$$module$build$src$core$touch();this.getCommentView().bringToFront();a&&a instanceof PointerEvent&&isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),a==null||a.stopPropagation())}},module$build$src$core$comments$collapse_comment_bar_button={COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER:COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button};\nmodule$build$src$core$comments$collapse_comment_bar_button.CollapseCommentBarButton=CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button;var COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor=\"_comment_textarea_\",CommentEditor$$module$build$src$core$comments$comment_editor=class{constructor(a,b,c){this.workspace=a;this.onFinishEditing=c;this.textChangeListeners=[];this.text=\"\";this.foreignObject=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT,{\"class\":\"blocklyCommentForeignObject\"});a=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,\"body\");\na.setAttribute(\"xmlns\",HTML_NS$$module$build$src$core$utils$dom);a.className=\"blocklyMinimalBody\";this.textArea=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,\"textarea\");this.textArea.setAttribute(\"tabindex\",\"-1\");this.textArea.setAttribute(\"dir\",this.workspace.RTL?\"RTL\":\"LTR\");addClass$$module$build$src$core$utils$dom(this.textArea,\"blocklyCommentText\");addClass$$module$build$src$core$utils$dom(this.textArea,\"blocklyTextarea\");addClass$$module$build$src$core$utils$dom(this.textArea,\n\"blocklyText\");a.appendChild(this.textArea);this.foreignObject.appendChild(a);b&&(this.id=b+COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor,this.textArea.setAttribute(\"id\",this.id));conditionalBind$$module$build$src$core$browser_events(this.textArea,\"change\",this,this.onTextChange);conditionalBind$$module$build$src$core$browser_events(this.textArea,\"pointerdown\",this,d=>{d.stopPropagation();$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this);clearTouchIdentifier$$module$build$src$core$touch()});\nconditionalBind$$module$build$src$core$browser_events(this.textArea,\"wheel\",this,d=>{d.stopPropagation()});conditionalBind$$module$build$src$core$browser_events(this.textArea,\"keydown\",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(a){this.textArea.value=a;this.onTextChange()}onTextChange(){const a=this.text;this.text=this.textArea.value;for(let b=this.textChangeListeners.length-1;b>=0;b--)this.textChangeListeners[b](a,this.text)}handleKeyDown(a){if(a.key===\n\"Escape\"||a.key===\"Enter\"&&(a.ctrlKey||a.metaKey)){if(this.onFinishEditing)this.onFinishEditing();a.stopPropagation()}}addTextChangeListener(a){this.textChangeListeners.push(a)}removeTextChangeListener(a){this.textChangeListeners.splice(this.textChangeListeners.indexOf(a),1)}setPlaceholderText(a){this.textArea.placeholder=a}setEditable(a){a?this.textArea.removeAttribute(\"readonly\"):this.textArea.setAttribute(\"readonly\",\"true\")}updateSize(a,b){this.foreignObject.setAttribute(\"height\",`${a.height-b.height}`);\nthis.foreignObject.setAttribute(\"width\",`${a.width}`);this.foreignObject.setAttribute(\"y\",`${b.height}`);this.workspace.RTL&&this.foreignObject.setAttribute(\"x\",`${-a.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const a=Rect$$module$build$src$core$utils$rect.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(Rect$$module$build$src$core$utils$rect.createFromPoint(screenToWsCoordinates$$module$build$src$core$utils$svg_math(this.workspace,\na.getOrigin()),a.getWidth(),a.getHeight()))}onNodeBlur(){}canBeFocused(){return this.id?!0:!1}},module$build$src$core$comments$comment_editor={COMMENT_EDITOR_FOCUS_IDENTIFIER:COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor};module$build$src$core$comments$comment_editor.CommentEditor=CommentEditor$$module$build$src$core$comments$comment_editor;var COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button=\"_delete_bar_button\",DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button=class extends CommentBarButton$$module$build$src$core$comments$comment_bar_button{constructor(a,b,c,d){super(a,b,c,d);this.id=a;this.workspace=b;this.container=c;this.commentView=d;this.icon=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{\"class\":\"blocklyDeleteIcon\",\nhref:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button}`},c);this.bindId=conditionalBind$$module$build$src$core$browser_events(this.icon,\"pointerdown\",this,this.performAction.bind(this))}dispose(){unbind$$module$build$src$core$browser_events(this.bindId)}reposition(){const a=this.getMargin();this.icon.setAttribute(\"x\",\"0\");const b=this.container.getBBox();this.icon.setAttribute(\"y\",\n`${a}`);this.icon.setAttribute(\"x\",`${b.width-this.getSize(!0).getWidth()}`)}performAction(a){clearTouchIdentifier$$module$build$src$core$touch();a&&a instanceof PointerEvent&&isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.getCommentView().dispose(),a==null||a.stopPropagation(),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},module$build$src$core$comments$delete_comment_bar_button={COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER:COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button};\nmodule$build$src$core$comments$delete_comment_bar_button.DeleteCommentBarButton=DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button;var CommentView$$module$build$src$core$comments$comment_view=class{constructor(a,b){this.workspace=a;this.commentId=b;this.collapsed=!1;this.editable=!0;this.location=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.sizeChangeListeners=[];this.disposeListeners=[];this.collapseChangeListeners=[];this.resizePointerMoveListener=this.resizePointerUpListener=null;this.disposed=this.disposing=!1;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyComment blocklyEditable blocklyDraggable\"});this.highlightRect=this.createHighlightRect(this.svgRoot);({topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot));this.commentEditor=this.createTextArea();this.resizeHandle=this.createResizeHandle(this.svgRoot,a);let c;(c=a.getLayerManager())==null||c.append(this,\nBLOCK$$module$build$src$core$layers);this.size=CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize;this.setSizeWithoutFiringEvents(this.size);this.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(0,0))}createHighlightRect(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyCommentHighlight\"},a)}createTopBar(a){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyCommentTopbar\"},a);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyCommentTopbarBackground\"},a),c=new DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button(this.commentId,this.workspace,a,this),d=new CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button(this.commentId,this.workspace,a,this);this.addDisposeListener(()=>{c.dispose();d.dispose()});const e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,\n{\"class\":\"blocklyCommentPreview blocklyCommentText blocklyText\"},a),f=document.createTextNode(\"\");e.appendChild(f);return{topBarGroup:a,topBarBackground:b,deleteButton:c,foldoutButton:d,textPreview:e,textPreviewNode:f}}createTextArea(){const a=new CommentEditor$$module$build$src$core$comments$comment_editor(this.workspace,this.commentId,()=>this.svgRoot.focus());this.svgRoot.appendChild(a.getDom());a.addTextChangeListener((b,c)=>{this.updateTextPreview(c);this.setSize(this.size)});return a}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(a,\nb){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{\"class\":\"blocklyResizeHandle\",href:`${b.options.pathToMedia}resize-handle.svg`},a);conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onResizePointerDown);return a}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(a){const b=this.topBarBackground.getBBox(),c=this.textPreview.getBBox(),d=this.resizeHandle.getBBox();\nthis.size=a=Size$$module$build$src$core$utils$size.max(a,this.calcMinSize(b));this.svgRoot.setAttribute(\"height\",`${a.height}`);this.svgRoot.setAttribute(\"width\",`${a.width}`);this.updateHighlightRect(a);this.updateTopBarSize(a);this.commentEditor.updateSize(a,b);this.deleteButton.reposition();this.foldoutButton.reposition();this.updateTextPreviewSize(a,b,c);this.updateResizeHandlePosition(a,d)}setSize(a){const b=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(a);this.onSizeChange(b,\nthis.size)}calcMinSize(a){var b;this.updateTextPreview((b=this.commentEditor.getText())!=null?b:\"\");let c=b=getTextWidth$$module$build$src$core$utils$dom(this.textPreview);this.foldoutButton.isVisible()?c+=this.foldoutButton.getSize(!0).getWidth():b&&(c+=4);this.deleteButton.isVisible()?c+=this.deleteButton.getSize(!0).getWidth():b&&(c+=4);return new Size$$module$build$src$core$utils$size(c,a.height+20)}updateHighlightRect(a){this.highlightRect.setAttribute(\"height\",`${a.height}`);this.highlightRect.setAttribute(\"width\",\n`${a.width}`);this.workspace.RTL&&this.highlightRect.setAttribute(\"x\",`${-a.width}`)}updateTopBarSize(a){this.topBarBackground.setAttribute(\"width\",`${a.width}`)}updateTextPreviewSize(a,b,c){b=(b.height-c.height)/2;const d=this.foldoutButton.getSize(!0),e=this.deleteButton.getSize(!0);a=a.width-d.getWidth()-e.getWidth();this.textPreview.setAttribute(\"x\",`${(this.workspace.RTL?-1:1)*d.getWidth()}`);this.textPreview.setAttribute(\"y\",`${b+c.height/2}`);this.textPreview.setAttribute(\"width\",`${a}`)}updateResizeHandlePosition(a,\nb){this.resizeHandle.setAttribute(\"y\",`${a.height-b.height}`);this.resizeHandle.setAttribute(\"x\",`${a.width-b.width}`)}onSizeChange(a,b){for(let c=this.sizeChangeListeners.length-1;c>=0;c--)this.sizeChangeListeners[c](a,b)}addSizeChangeListener(a){this.sizeChangeListeners.push(a)}removeSizeChangeListener(a){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(a),1)}onResizePointerDown(a){this.isEditable()&&(this.bringToFront(),isRightButton$$module$build$src$core$browser_events(a)||(this.preResizeSize=\nthis.getSize(),start$$module$build$src$core$utils$drag(this.workspace,a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",this,this.onResizePointerMove),this.workspace.hideChaff()),\na.stopPropagation())}onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),this.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null);this.setSize(this.size);this.preResizeSize=void 0}onResizePointerMove(a){a=move$$module$build$src$core$utils$drag(this.workspace,\na);this.setSizeWithoutFiringEvents(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y))}isCollapsed(){return this.collapsed}setCollapsed(a){(this.collapsed=a)?addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCollapsed\"):removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCollapsed\");this.setSizeWithoutFiringEvents(this.size);this.onCollapse()}onCollapse(){for(let a=this.collapseChangeListeners.length-1;a>=0;a--)this.collapseChangeListeners[a](this.collapsed)}addOnCollapseListener(a){this.collapseChangeListeners.push(a)}removeOnCollapseListener(a){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(a),\n1)}isEditable(){return this.editable}setEditable(a){(this.editable=a)?(addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyEditable\"),removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyReadonly\")):(removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyEditable\"),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyReadonly\"));this.commentEditor.setEditable(a)}getRelativeToSurfaceXY(){return this.location}moveTo(a){this.location=a;this.svgRoot.setAttribute(\"transform\",\n`translate(${a.x}, ${a.y})`)}getText(){return this.commentEditor.getText()}setText(a){this.commentEditor.setText(a)}setPlaceholderText(a){this.commentEditor.setPlaceholderText(a)}addTextChangeListener(a){this.commentEditor.addTextChangeListener(a)}removeTextChangeListener(a){this.commentEditor.removeTextChangeListener(a)}updateTextPreview(a){this.textPreviewNode.textContent=this.truncateText(a)}truncateText(a){return a.length>=12?`${a.substring(0,9)}...`:a}bringToFront(){const a=this.svgRoot.parentNode,\nb=a.childNodes;b[b.length-1]!==this.svgRoot&&a.appendChild(this.svgRoot)}onDeleteDown(a){clearTouchIdentifier$$module$build$src$core$touch();isRightButton$$module$build$src$core$browser_events(a)||this.dispose();a.stopPropagation()}dispose(){this.disposing=!0;removeNode$$module$build$src$core$utils$dom(this.svgRoot);for(let a=this.disposeListeners.length-1;a>=0;a--)this.disposeListeners[a]();this.disposeListeners.length=0;this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||\nthis.disposed}addDisposeListener(a){this.disposeListeners.push(a)}removeDisposeListener(a){this.disposeListeners.splice(this.disposeListeners.indexOf(a),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize=new Size$$module$build$src$core$utils$size(120,100);register$$module$build$src$core$css(\"\\n.injectionDiv {\\n  --commentFillColour: #FFFCC7;\\n  --commentBorderColour: #F2E49B;\\n}\\n\\n.blocklyComment .blocklyTextarea {\\n  background-color: var(--commentFillColour);\\n  border: 1px solid var(--commentBorderColour);\\n  box-sizing: border-box;\\n  display: block;\\n  outline: 0;\\n  padding: 5px;\\n  resize: none;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.blocklyReadonly.blocklyComment .blocklyTextarea {\\n  cursor: inherit;\\n}\\n\\n.blocklyDeleteIcon {\\n  width: 20px;\\n  height: 20px;\\n  display: none;\\n  cursor: pointer;\\n}\\n\\n.blocklyFoldoutIcon {\\n  width: 20px;\\n  height: 20px;\\n  transform-origin: 12px 12px;\\n  cursor: pointer;\\n}\\n.blocklyResizeHandle {\\n  width: 12px;\\n  height: 12px;\\n  cursor: se-resize;\\n}\\n.blocklyReadonly.blocklyComment .blocklyResizeHandle {\\n  cursor: inherit;\\n}\\n\\n.blocklyCommentTopbarBackground {\\n  fill: var(--commentBorderColour);\\n  height: 24px;\\n}\\n\\n.blocklyComment .blocklyCommentPreview.blocklyText {\\n  fill: #000;\\n  dominant-baseline: middle;\\n  visibility: hidden;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyCommentPreview {\\n  visibility: visible;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,\\n.blocklyCollapsed.blocklyComment .blocklyResizeHandle {\\n  display: none;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {\\n  transform: rotate(-90deg);\\n}\\n\\n.blocklyRTL .blocklyCommentTopbar {\\n  transform: scale(-1, 1);\\n}\\n\\n.blocklyRTL .blocklyCommentForeignObject {\\n  direction: rtl;\\n}\\n\\n.blocklyRTL .blocklyCommentPreview {\\n  /* Revert the scale and control RTL using direction instead. */\\n  transform: scale(-1, 1);\\n  direction: rtl;\\n}\\n\\n.blocklyRTL .blocklyResizeHandle {\\n  transform: scale(-1, 1);\\n  cursor: sw-resize;\\n}\\n\\n.blocklyCommentHighlight {\\n  fill: none;\\n}\\n\\n.blocklyCommentText.blocklyActiveFocus {\\n  border-color: #fc3;\\n  border-width: 2px;\\n}\\n\\n.blocklySelected .blocklyCommentHighlight {\\n  stroke: #fc3;\\n  stroke-width: 3px;\\n}\\n\\n.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {\\n  stroke: none;\\n}\\n\\n.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {\\n  stroke: #fc3;\\n  stroke-width: 3px;\\n}\\n\");\nvar module$build$src$core$comments$comment_view={};module$build$src$core$comments$comment_view.CommentView=CommentView$$module$build$src$core$comments$comment_view;var WorkspaceComment$$module$build$src$core$comments$workspace_comment=class{constructor(a,b){this.workspace=a;this.text=\"\";this.collapsed=!1;this.deletable=this.movable=this.editable=!0;this.location=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.disposing=this.disposed=!1;this.id=b&&!a.getCommentById(b)?b:genUid$$module$build$src$core$utils$idgenerator();this.size=CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize;a.addTopComment(this);this.fireCreateEvent()}fireCreateEvent(){isEnabled$$module$build$src$core$events$utils()&&\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CREATE))(this))}fireDeleteEvent(){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DELETE))(this))}fireChangeEvent(a,b){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CHANGE))(this,\na,b))}fireCollapseEvent(a){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE))(this,a))}setText(a){const b=this.text;this.text=a;this.fireChangeEvent(b,a)}getText(){return this.text}setSize(a){const b=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_RESIZE))(this);this.size=a;b.recordCurrentSizeAsNewSize();\nfire$$module$build$src$core$events$utils(b)}getSize(){return this.size}setCollapsed(a){this.collapsed=a;this.fireCollapseEvent(a)}isCollapsed(){return this.collapsed}setEditable(a){this.editable=a}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(a){this.movable=a}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(a){this.deletable=a}isDeletable(){return this.isOwnDeletable()&&\n!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(a,b){const c=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_MOVE))(this);b&&c.setReason(b);this.location=a;c.recordNew();fire$$module$build$src$core$events$utils(c)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0;this.fireDeleteEvent();this.workspace.removeTopComment(this);this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||\nthis.disposed}},module$build$src$core$comments$workspace_comment={};module$build$src$core$comments$workspace_comment.WorkspaceComment=WorkspaceComment$$module$build$src$core$comments$workspace_comment;var RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment=class extends WorkspaceComment$$module$build$src$core$comments$workspace_comment{constructor(a,b){super(a,b);this.dragStrategy=new CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy(this);this.workspace=a;this.view=new CommentView$$module$build$src$core$comments$comment_view(a,this.id);this.view.setSize(this.getSize());this.view.setEditable(this.isEditable());this.view.getSvgRoot().setAttribute(\"data-id\",\nthis.id);this.view.getSvgRoot().setAttribute(\"id\",this.id);this.addModelUpdateBindings();conditionalBind$$module$build$src$core$browser_events(this.view.getSvgRoot(),\"pointerdown\",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((a,b)=>void super.setText(b));this.view.addSizeChangeListener((a,b)=>void super.setSize(b));this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed()));this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(a){this.view.setText(a)}setPlaceholderText(a){this.view.setPlaceholderText(a)}setSize(a){this.view.setSize(a)}setCollapsed(a){this.view.setCollapsed(a)}setEditable(a){super.setEditable(a);\nthis.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const a=this.getRelativeToSurfaceXY();var b,c;const d=(c=(b=this.view)==null?void 0:b.getSize())!=null?c:this.getSize();this.workspace.RTL?(b=a.x-d.width,c=a.x):(b=a.x,c=a.x+d.width);return new Rect$$module$build$src$core$utils$rect(a.y,a.y+d.height,b,c)}moveBy(a,b,c){const d=this.getRelativeToSurfaceXY();a=new Coordinate$$module$build$src$core$utils$coordinate(d.x+\na,d.y+b);this.moveTo(a,c)}moveTo(a,b){super.moveTo(a,b);this.view.moveTo(a)}moveDuringDrag(a){this.location=a;this.view.moveTo(a)}setDragging(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDragging\"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDragging\")}dispose(){this.disposing=!0;const a=$.getFocusManager$$module$build$src$core$focus_manager();a.getFocusedNode()===this&&setTimeout(()=>a.focusTree(this.workspace),0);this.view.isDeadOrDying()||\nthis.view.dispose();super.dispose()}startGesture(a){const b=this.workspace.getGesture(a);b&&(b.handleCommentStart(a,this),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDraggingDelete\"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDraggingDelete\")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(a){this.dragStrategy.drag(a)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\n\"blocklySelected\");fireSelectedEvent$$module$build$src$core$common(this)}unselect(){removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklySelected\");fireSelectedEvent$$module$build$src$core$common(null)}toCopyData(){return{paster:WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,commentState:save$$module$build$src$core$serialization$workspace_comments(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(a){const b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({comment:this,\nfocusedNode:this},a);let c;c=a instanceof PointerEvent?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10);show$$module$build$src$core$contextmenu(a,b,this.workspace.RTL,this.workspace,c)}snapToGrid(){if(!this.isDeadOrDying()){var a=this.workspace.getGrid();if(a!=null&&a.shouldSnap()){var b=this.getRelativeToSurfaceXY();a=a.alignXY(b);a!==b&&this.moveTo(a,\n[\"snap\"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let a;(a=this.workspace.getLayerManager())==null||a.append(this,BLOCK$$module$build$src$core$layers);this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},module$build$src$core$comments$rendered_workspace_comment={};\nmodule$build$src$core$comments$rendered_workspace_comment.RenderedWorkspaceComment=RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment;var module$build$src$core$xml={};module$build$src$core$xml.appendDomToWorkspace=appendDomToWorkspace$$module$build$src$core$xml;module$build$src$core$xml.blockToDom=blockToDom$$module$build$src$core$xml;module$build$src$core$xml.blockToDomWithXY=blockToDomWithXY$$module$build$src$core$xml;module$build$src$core$xml.clearWorkspaceAndLoadFromXml=clearWorkspaceAndLoadFromXml$$module$build$src$core$xml;module$build$src$core$xml.deleteNext=deleteNext$$module$build$src$core$xml;\nmodule$build$src$core$xml.domToBlock=$.domToBlock$$module$build$src$core$xml;module$build$src$core$xml.domToBlockInternal=domToBlockInternal$$module$build$src$core$xml;module$build$src$core$xml.domToPrettyText=domToPrettyText$$module$build$src$core$xml;module$build$src$core$xml.domToText=domToText$$module$build$src$core$xml;module$build$src$core$xml.domToVariables=domToVariables$$module$build$src$core$xml;module$build$src$core$xml.domToWorkspace=$.domToWorkspace$$module$build$src$core$xml;\nmodule$build$src$core$xml.loadWorkspaceComment=loadWorkspaceComment$$module$build$src$core$xml;module$build$src$core$xml.saveWorkspaceComment=saveWorkspaceComment$$module$build$src$core$xml;module$build$src$core$xml.variablesToDom=variablesToDom$$module$build$src$core$xml;module$build$src$core$xml.workspaceToDom=workspaceToDom$$module$build$src$core$xml;var BlockCreate$$module$build$src$core$events$events_block_create=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_CREATE;a&&(a.isShadow()&&(this.recordUndo=!1),this.xml=blockToDomWithXY$$module$build$src$core$xml(a),this.ids=getDescendantIds$$module$build$src$core$events$utils(a),this.json=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0}))}toJson(){const a=super.toJson();\nif(!this.xml)throw Error(\"The block XML is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(!this.json)throw Error(\"The block JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.ids=this.ids;a.json=this.json;this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,\nb,c){b=super.fromJson(a,b,c!=null?c:new BlockCreate$$module$build$src$core$events$events_block_create);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.ids=a.ids;b.json=a.json;a.recordUndo!==void 0&&(b.recordUndo=a.recordUndo);return b}run(a){const b=this.getEventWorkspace_();if(!this.json)throw Error(\"The block JSON is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");\nif(!allShadowBlocks$$module$build$src$core$events$events_block_create(b,this.ids))if(a)append$$module$build$src$core$serialization$blocks(this.json,b);else for(a=0;a<this.ids.length;a++){const c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn(\"Can't uncreate non-existent block: \"+c)}}},allShadowBlocks$$module$build$src$core$events$events_block_create=function(a,b){return b.map(c=>a.getBlockById(c)).filter(c=>c&&c.isShadow()).length===b.length};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_CREATE,BlockCreate$$module$build$src$core$events$events_block_create);var module$build$src$core$events$events_block_create={};module$build$src$core$events$events_block_create.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;var ThemeChange$$module$build$src$core$events$events_theme_change=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(b);this.type=EventType$$module$build$src$core$events$type.THEME_CHANGE;this.themeName=a}toJson(){const a=super.toJson();if(!this.themeName)throw Error(\"The theme name is undefined. Either pass a theme name to the constructor, or call fromJson\");a.themeName=this.themeName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ThemeChange$$module$build$src$core$events$events_theme_change);\nb.themeName=a.themeName;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.THEME_CHANGE,ThemeChange$$module$build$src$core$events$events_theme_change);var module$build$src$core$events$events_theme_change={};module$build$src$core$events$events_theme_change.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;var ViewportChange$$module$build$src$core$events$events_viewport=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c,d,e){super(d);this.type=EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE;this.viewTop=a;this.viewLeft=b;this.scale=c;this.oldScale=e}toJson(){const a=super.toJson();if(this.viewTop===void 0)throw Error(\"The view top is undefined. Either pass a value to the constructor, or call fromJson\");if(this.viewLeft===void 0)throw Error(\"The view left is undefined. Either pass a value to the constructor, or call fromJson\");\nif(this.scale===void 0)throw Error(\"The scale is undefined. Either pass a value to the constructor, or call fromJson\");if(this.oldScale===void 0)throw Error(\"The old scale is undefined. Either pass a value to the constructor, or call fromJson\");a.viewTop=this.viewTop;a.viewLeft=this.viewLeft;a.scale=this.scale;a.oldScale=this.oldScale;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ViewportChange$$module$build$src$core$events$events_viewport);b.viewTop=a.viewTop;b.viewLeft=a.viewLeft;\nb.scale=a.scale;b.oldScale=a.oldScale;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE,ViewportChange$$module$build$src$core$events$events_viewport);var module$build$src$core$events$events_viewport={};module$build$src$core$events$events_viewport.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;var TEST_ONLY$$module$build$src$core$field_registry={fromJsonInternal:fromJsonInternal$$module$build$src$core$field_registry},module$build$src$core$field_registry={TEST_ONLY:TEST_ONLY$$module$build$src$core$field_registry};module$build$src$core$field_registry.fromJson=$.fromJson$$module$build$src$core$field_registry;module$build$src$core$field_registry.register=register$$module$build$src$core$field_registry;module$build$src$core$field_registry.unregister=unregister$$module$build$src$core$field_registry;var FieldDropdown$$module$build$src$core$field_dropdown=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null;this.SERIALIZABLE=!0;this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(this.setOptions(a),c&&this.configure_(c),b&&this.setValidator(b))}fromXml(a){this.isOptionListDynamic()&&\nthis.getOptions(!1);this.setValue(a.textContent)}loadState(a){this.loadLegacyState(FieldDropdown$$module$build$src$core$field_dropdown,a)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(a))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot();this.createTextElement_();this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{},this.fieldGroup_);this.getConstants().FIELD_DROPDOWN_SVG_ARROW?\nthis.createSVGArrow_():this.createTextArrow_();this.borderRect_&&addClass$$module$build$src$core$utils$dom(this.borderRect_,\"blocklyDropdownRect\");this.fieldGroup_&&(addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyField\"),addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyDropdownField\"))}shouldAddBorderRect_(){let a;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((a=this.getSourceBlock())==\nnull?0:a.isShadow())}createTextArrow_(){this.arrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TSPAN,{},this.textElement_);let a;this.arrow.appendChild(document.createTextNode(((a=this.getSourceBlock())==null?0:a.RTL)?FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR+\" \":\" \"+FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR));this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute(\"dominant-baseline\",\"central\");let b;\n((b=this.getSourceBlock())==null?0:b.RTL)?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+\"px\",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+\"px\"},this.fieldGroup_);this.svgArrow.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.dropdownCreate();this.menu_&&(this.menu_.openingCoords=a&&typeof a.clientX===\"number\"?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):null,clearContent$$module$build$src$core$dropdowndiv(),a=this.menu_.render(getContentDiv$$module$build$src$core$dropdowndiv()),addClass$$module$build$src$core$utils$dom(a,\n\"blocklyDropdownMenu\"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(b=b.getColour(),a=this.sourceBlock_.getColourTertiary(),setColour$$module$build$src$core$dropdowndiv(b,a)),showPositionedByField$$module$build$src$core$dropdowndiv(this,this.dropdownDispose_.bind(this)),getContentDiv$$module$build$src$core$dropdowndiv().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const a=\nthis.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;const b=new Menu$$module$build$src$core$menu;b.setRole(Role$$module$build$src$core$utils$aria.LISTBOX);this.menu_=b;const c=this.getOptions(!1);this.selectedMenuItem=null;for(let e=0;e<c.length;e++){var d=c[e];if(d===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR){b.addChild(new MenuSeparator$$module$build$src$core$menu_separator);continue}const [f,g]=d;isImageProperties$$module$build$src$core$field_dropdown(f)?\n(d=new Image(f.width,f.height),d.src=f.src,d.alt=f.alt):d=f;d=new MenuItem$$module$build$src$core$menuitem(d,g);d.setRole(Role$$module$build$src$core$utils$aria.OPTION);d.setRightToLeft(a.RTL);d.setCheckable(!0);b.addChild(d);d.setChecked(g===this.value_);g===this.value_&&(this.selectedMenuItem=d);d.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose();this.selectedMenuItem=this.menu_=null;this.applyColour()}handleMenuActionEvent(a){hideIfOwner$$module$build$src$core$dropdowndiv(this,\n!0);this.onItemSelected_(this.menu_,a)}onItemSelected_(a,b){this.setValue(b.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_===\"function\"}getOptions(a){if(!this.menuGenerator_)throw TypeError(\"A menu generator was never defined.\");if(Array.isArray(this.menuGenerator_))return this.menuGenerator_;if(a&&this.generatedOptions)return this.generatedOptions;this.generatedOptions=this.menuGenerator_();this.validateOptions(this.generatedOptions);return this.generatedOptions}setOptions(a){Array.isArray(a)?\n(this.validateOptions(a),a=this.trimOptions(a),this.menuGenerator_=a.options,this.prefixField=a.prefix||null,this.suffixField=a.suffix||null):this.menuGenerator_=a;this.selectedOption=this.getOptions(!1)[0];this.setValue(this.selectedOption[1])}doClassValidation_(a){return this.getOptions(!0).some(b=>b[1]===a)?a:(this.sourceBlock_&&console.warn(\"Cannot set the dropdown's value to an unavailable option. Block type: \"+this.sourceBlock_.type+\", Field name: \"+this.name+\", Value: \"+a),null)}doValueUpdate_(a){super.doValueUpdate_(a);\na=this.getOptions(!0);for(let b=0,c;c=a[b];b++)c[1]===this.value_&&(this.selectedOption=c)}applyColour(){const a=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute(\"stroke\",a.getColourTertiary()),this.menu_?this.borderRect_.setAttribute(\"fill\",a.getColourTertiary()):this.borderRect_.setAttribute(\"fill\",\"transparent\"));a&&this.arrow&&(a.isShadow()?this.arrow.style.fill=a.getColourSecondary():this.arrow.style.fill=a.getColour())}render_(){this.getTextContent().nodeValue=\"\";this.imageElement.style.display=\n\"none\";const a=this.selectedOption&&this.selectedOption[0];isImageProperties$$module$build$src$core$field_dropdown(a)?this.renderSelectedImage(a):this.renderSelectedText();this.positionBorderRect_()}renderSelectedImage(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.imageElement.style.display=\"\";this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",a.src);this.imageElement.setAttribute(\"height\",String(a.height));\nthis.imageElement.setAttribute(\"width\",String(a.width));const c=Number(a.height);a=Number(a.width);var d=!!this.borderRect_;const e=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,c+FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_PADDING);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let f;f=this.svgArrow?this.positionSVGArrow(a+d,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):getTextWidth$$module$build$src$core$utils$dom(this.arrow);this.size_=new Size$$module$build$src$core$utils$size(a+\nf+d*2,e);let g=0;b.RTL?this.imageElement.setAttribute(\"x\",`${d+f}`):(g=a+f,this.getTextElement().setAttribute(\"text-anchor\",\"end\"),this.imageElement.setAttribute(\"x\",`${d}`));this.imageElement.setAttribute(\"y\",String(e/2-c/2));this.positionTextElement_(g+d,a+f)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var a=this.getTextElement();addClass$$module$build$src$core$utils$dom(a,\"blocklyDropdownText\");a.setAttribute(\"text-anchor\",\"start\");var b=!!this.borderRect_;a=Math.max(b?\nthis.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const c=getTextWidth$$module$build$src$core$utils$dom(this.getTextElement());b=b?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let d=0;this.svgArrow&&(d=this.positionSVGArrow(c+b,a/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2));this.size_=new Size$$module$build$src$core$utils$size(c+d+b*2,a);this.positionTextElement_(b,c)}positionSVGArrow(a,b){if(!this.svgArrow)return 0;const c=this.getSourceBlock();\nif(!c)throw new UnattachedFieldError$$module$build$src$core$field;const d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,e=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,f=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;this.svgArrow.setAttribute(\"transform\",\"translate(\"+(c.RTL?d:a+e)+\",\"+b+\")\");return f+e}getText_(){if(!this.selectedOption)return null;const a=this.selectedOption[0];if(isImageProperties$$module$build$src$core$field_dropdown(a))return a.alt;if(typeof HTMLElement!==\n\"undefined\"&&a instanceof HTMLElement){let b,c;return(c=(b=a.title)!=null?b:a.ariaLabel)!=null?c:a.innerText}if(typeof a===\"string\")return a;console.warn(\"Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar.\");return null}static fromJson(a){if(!a.options)throw Error(\"options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.\");\nreturn new this(a.options,void 0,a)}trimOptions(a){let b=!1;const c=a.map(g=>{if(g===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR)return b=!0,g;const [h,k]=g;if(typeof h===\"string\")return[replaceMessageReferences$$module$build$src$core$utils$parsing(h),k];b=!0;return[isImageProperties$$module$build$src$core$field_dropdown(h)?Object.assign({},h,{alt:replaceMessageReferences$$module$build$src$core$utils$parsing(h.alt)}):h,k]});if(b||a.length<2)return{options:c};var d=c.map(([g])=>g),\ne=shortestStringLength$$module$build$src$core$utils$string(d);a=commonWordPrefix$$module$build$src$core$utils$string(d,e);const f=commonWordSuffix$$module$build$src$core$utils$string(d,e);if(!a&&!f||e<=a+f)return{options:c};e=a?d[0].substring(0,a-1):void 0;d=f?d[0].substr(1-f):void 0;return{options:this.applyTrim(c,a,f),prefix:e,suffix:d}}applyTrim(a,b,c){return a.map(([d,e])=>[d.substring(b,d.length-c),e])}validateOptions(a){if(!Array.isArray(a))throw TypeError(\"FieldDropdown options must be an array.\");\nif(!a.length)throw TypeError(\"FieldDropdown options must not be an empty array.\");let b=!1;for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)||d===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR?typeof d[1]!==\"string\"?(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option id must be a string.\n          Found ${d[1]} in: ${d}`)):!d[0]||typeof d[0]===\"string\"||isImageProperties$$module$build$src$core$field_dropdown(d[0])||typeof HTMLElement!==\"undefined\"&&d[0]instanceof HTMLElement||(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option must have a string\n          label, image description, or HTML element. Found ${d[0]} in: ${d}`)):(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option must be an array or\n          the string literal 'separator'. Found: ${d}`))}if(b)throw TypeError(\"Found invalid FieldDropdown options.\");}};FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR=\"separator\";FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR=\"\\u25be\";FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_OFFSET=5;FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_PADDING=FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_OFFSET*2;\nregister$$module$build$src$core$field_registry(\"field_dropdown\",FieldDropdown$$module$build$src$core$field_dropdown);var module$build$src$core$field_dropdown={};module$build$src$core$field_dropdown.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;var Theme$$module$build$src$core$theme=class{constructor(a,b,c,d){this.name=a;this.startHats=!1;this.blockStyles=b||Object.create(null);this.categoryStyles=c||Object.create(null);this.componentStyles=d||Object.create(null);this.fontStyle=Object.create(null);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a,this,!0)}getClassName(){return this.name+\"-theme\"}setBlockStyle(a,b){this.blockStyles[a]=b}setCategoryStyle(a,b){this.categoryStyles[a]=b}getComponentStyle(a){a=\nthis.componentStyles[a];if(!a)return null;if(typeof a===\"string\"){const b=this.getComponentStyle(a);if(b)return b}return`${a}`}setComponentStyle(a,b){this.componentStyles[a]=b}setFontStyle(a){this.fontStyle=a}setStartHats(a){this.startHats=a}static defineTheme(a,b){a=a.toLowerCase();const c=new Theme$$module$build$src$core$theme(a);let d=b.base;if(d){if(typeof d===\"string\"){let e;d=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,d))!=null?e:void 0}d instanceof\nTheme$$module$build$src$core$theme&&(deepMerge$$module$build$src$core$utils$object(c,d),c.name=a)}deepMerge$$module$build$src$core$utils$object(c.blockStyles,b.blockStyles);deepMerge$$module$build$src$core$utils$object(c.categoryStyles,b.categoryStyles);deepMerge$$module$build$src$core$utils$object(c.componentStyles,b.componentStyles);deepMerge$$module$build$src$core$utils$object(c.fontStyle,b.fontStyle);b.startHats!==null&&(c.startHats=b.startHats);return c}},module$build$src$core$theme={};\nmodule$build$src$core$theme.Theme=Theme$$module$build$src$core$theme;var defaultBlockStyles$$module$build$src$core$theme$classic={colour_blocks:{colourPrimary:\"20\"},list_blocks:{colourPrimary:\"260\"},logic_blocks:{colourPrimary:\"210\"},loop_blocks:{colourPrimary:\"120\"},math_blocks:{colourPrimary:\"230\"},procedure_blocks:{colourPrimary:\"290\"},text_blocks:{colourPrimary:\"160\"},variable_blocks:{colourPrimary:\"330\"},variable_dynamic_blocks:{colourPrimary:\"310\"},hat_blocks:{colourPrimary:\"330\",hat:\"cap\"}},categoryStyles$$module$build$src$core$theme$classic={colour_category:{colour:\"20\"},\nlist_category:{colour:\"260\"},logic_category:{colour:\"210\"},loop_category:{colour:\"120\"},math_category:{colour:\"230\"},procedure_category:{colour:\"290\"},text_category:{colour:\"160\"},variable_category:{colour:\"330\"},variable_dynamic_category:{colour:\"310\"}},Classic$$module$build$src$core$theme$classic=new Theme$$module$build$src$core$theme(\"classic\",defaultBlockStyles$$module$build$src$core$theme$classic,categoryStyles$$module$build$src$core$theme$classic),module$build$src$core$theme$classic={Classic:Classic$$module$build$src$core$theme$classic};var Options$$module$build$src$core$options=class{constructor(a){this.gridPattern=null;this.getMetrics=this.setMetrics=void 0;let b=null,c=!1;var d=!1,e=!1,f=!1,g=!1,h=!1;const k=!!a.readOnly;if(!k){var l;b=convertToolboxDefToJson$$module$build$src$core$utils$toolbox((l=a.toolbox)!=null?l:null);c=hasCategories$$module$build$src$core$utils$toolbox(b);d=a.trashcan;d=d===void 0?c:d;e=a.collapse;e=e===void 0?c:e;f=a.comments;f=f===void 0?c:f;g=a.disable;g=g===void 0?c:g;h=a.sounds;h=h===void 0?!0:h}l=\na.maxTrashcanContents;d?l===void 0&&(l=32):l=0;const m=!!a.rtl;let n=a.horizontalLayout;n===void 0&&(n=!1);var p=a.toolboxPosition!==\"end\";p=n?p?Position$$module$build$src$core$utils$toolbox.TOP:Position$$module$build$src$core$utils$toolbox.BOTTOM:p===m?Position$$module$build$src$core$utils$toolbox.RIGHT:Position$$module$build$src$core$utils$toolbox.LEFT;let r=a.css;r===void 0&&(r=!0);let q=\"https://blockly-demo.appspot.com/static/media/\";a.media&&(q=a.media.endsWith(\"/\")?a.media:a.media+\"/\");const u=\na.oneBasedIndex,y=a.renderer||\"geras\",z=a.plugins||{};let t=a.modalInputs;t===void 0&&(t=!0);this.RTL=m;this.oneBasedIndex=u===void 0?!0:u;this.collapse=e;this.comments=f;this.disable=g;this.readOnly=k;this.maxBlocks=a.maxBlocks||Infinity;let v;this.maxInstances=(v=a.maxInstances)!=null?v:null;this.modalInputs=t;this.pathToMedia=q;this.hasCategories=c;this.moveOptions=Options$$module$build$src$core$options.parseMoveOptions(a,c);this.hasScrollbars=!!this.moveOptions.scrollbars;this.hasTrashcan=d;this.maxTrashcanContents=\nl;this.hasSounds=h;this.hasCss=r;this.horizontalLayout=n;this.languageTree=b;this.gridOptions=Options$$module$build$src$core$options.parseGridOptions(a);this.zoomOptions=Options$$module$build$src$core$options.parseZoomOptions(a);this.toolboxPosition=p;this.theme=Options$$module$build$src$core$options.parseThemeOptions(a);this.renderer=y;let w;this.rendererOverrides=(w=a.rendererOverrides)!=null?w:null;let x;this.parentWorkspace=(x=a.parentWorkspace)!=null?x:null;this.plugins=z}static parseMoveOptions(a,\nb){const c=a.move||{},d={};c.scrollbars===void 0&&a.scrollbars===void 0?d.scrollbars=b:typeof c.scrollbars===\"object\"?(d.scrollbars={horizontal:!!c.scrollbars.horizontal,vertical:!!c.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!c.scrollbars||!!a.scrollbars;d.wheel=d.scrollbars&&c.wheel!==void 0?!!c.wheel:typeof d.scrollbars===\"object\";d.drag=d.scrollbars?c.drag===void 0?!0:!!c.drag:\n!1;return d}static parseZoomOptions(a){a=a.zoom||{};const b={};b.controls=a.controls===void 0?!1:!!a.controls;b.wheel=a.wheel===void 0?!1:!!a.wheel;b.startScale=a.startScale===void 0?1:Number(a.startScale);b.maxScale=a.maxScale===void 0?3:Number(a.maxScale);b.minScale=a.minScale===void 0?.3:Number(a.minScale);b.scaleSpeed=a.scaleSpeed===void 0?1.2:Number(a.scaleSpeed);b.pinch=a.pinch===void 0?b.wheel||b.controls:!!a.pinch;return b}static parseGridOptions(a){a=a.grid||{};const b={};b.spacing=Number(a.spacing)||\n0;b.colour=a.colour||\"#888\";b.length=a.length===void 0?1:Number(a.length);b.snap=b.spacing>0&&!!a.snap;return b}static parseThemeOptions(a){a=a.theme||Classic$$module$build$src$core$theme$classic;return typeof a===\"string\"?getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a):a instanceof Theme$$module$build$src$core$theme?a:Theme$$module$build$src$core$theme.defineTheme(a.name||\"builtin\"+getNextUniqueId$$module$build$src$core$utils$idgenerator(),a)}},module$build$src$core$options=\n{};module$build$src$core$options.Options=Options$$module$build$src$core$options;var BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy=class{constructor(a,b){this.bubble=a;this.workspace=b;this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY();this.workspace.setResizesEnabled(!1);let a;(a=this.workspace.getLayerManager())==null||a.moveToDragLayer(this.bubble);this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(a){this.bubble.moveDuringDrag(a)}endDrag(){this.workspace.setResizesEnabled(!0);let a;(a=this.workspace.getLayerManager())==\nnull||a.moveOffDragLayer(this.bubble,BUBBLE$$module$build$src$core$layers);this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},module$build$src$core$dragging$bubble_drag_strategy={};module$build$src$core$dragging$bubble_drag_strategy.BubbleDragStrategy=BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy;var _a$$module$build$src$core$bubbles$bubble,Bubble$$module$build$src$core$bubbles$bubble=class{constructor(a,b,c,d,e){this.workspace=a;this.anchor=b;this.ownerRect=c;this.owner=e;this.size=new Size$$module$build$src$core$utils$size(0,0);this.colour=\"#ffffff\";this.disposed=!1;this.relativeLeft=this.relativeTop=0;this.dragStrategy=new BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy(this,this.workspace);this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.svgRoot=\ncreateSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyBubble\"},a.getBubbleCanvas());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyEmboss\"},this.svgRoot);this.tail=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyBubbleTail\"},a);this.background=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":\"blocklyDraggable\",x:0,y:0,rx:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,ry:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);this.contentContainer=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.svgRoot);this.focusableElement=d!=null?d:this.svgRoot;this.focusableElement.setAttribute(\"id\",this.id);conditionalBind$$module$build$src$core$browser_events(this.background,\"pointerdown\",this,this.onMouseDown);conditionalBind$$module$build$src$core$browser_events(this.focusableElement,\n\"keydown\",this,this.onKeyDown)}dispose(){removeNode$$module$build$src$core$utils$dom(this.svgRoot);this.disposed=!0}setAnchorLocation(a,b=!1){this.anchor=a;b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail()}setPositionRelativeToAnchor(a,b){this.relativeLeft=a;this.relativeTop=b;this.positionRelativeToAnchor();this.renderTail()}getSize(){return this.size}setSize(a,b=!1){a.width=Math.max(a.width,_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);a.height=Math.max(a.height,\n_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);this.size=a;this.background.setAttribute(\"width\",`${a.width}`);this.background.setAttribute(\"height\",`${a.height}`);b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail()}getColour(){return this.colour}setColour(a){this.colour=a;this.tail.setAttribute(\"fill\",a);this.background.setAttribute(\"fill\",a)}onMouseDown(a){let b;(b=this.workspace.getGesture(a))==null||b.handleBubbleStart(a,this);$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(a){a.key===\n\"Escape\"&&this.owner&&(this.owner.setBubbleVisible(!1),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let a=this.anchor.x;a=this.workspace.RTL?a-(this.relativeLeft+this.size.width):a+this.relativeLeft;this.moveTo(a,this.relativeTop+this.anchor.y)}moveTo(a,b){this.svgRoot.setAttribute(\"transform\",`translate(${a}, ${b})`)}positionByRect(a=new Rect$$module$build$src$core$utils$rect(0,0,0,0)){var b=this.workspace.getMetricsManager().getViewMetrics(!0),\nc=this.getOptimalRelativeLeft(b),d=this.getOptimalRelativeTop(b);const e={x:c,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.size.width-30,y:d};d={x:a.getWidth(),y:d};var g={x:c,y:a.getHeight()};c=a.getWidth()<a.getHeight()?d:g;a=a.getWidth()<a.getHeight()?g:d;d=this.getOverlap(e,b);g=this.getOverlap(f,b);const h=this.getOverlap(c,b);b=this.getOverlap(a,b);b=Math.max(d,g,h,b);d===b?(this.relativeLeft=e.x,this.relativeTop=e.y):g===b?(this.relativeLeft=\nf.x,this.relativeTop=f.y):h===b?(this.relativeLeft=c.x,this.relativeTop=c.y):(this.relativeLeft=a.x,this.relativeTop=a.y);this.positionRelativeToAnchor()}getOverlap(a,b){var c=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x+this.anchor.x;a=a.y+this.anchor.y;return Math.max(0,Math.min(1,(Math.min(c+this.size.width,b.left+b.width)-Math.max(c,b.left))*(Math.min(a+this.size.height,b.top+b.height)-Math.max(a,b.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(a){let b=-this.size.width/\n4;if(this.size.width>a.width)return b;a=this.getWorkspaceViewRect(a);if(this.workspace.RTL){var c=this.anchor.x-b;c-this.size.width<a.left?b=-(a.left-this.anchor.x+this.size.width):c>a.right&&(b=-(a.right-this.anchor.x))}else{c=b+this.anchor.x;const d=c+this.size.width;c<a.left?b=a.left-this.anchor.x:d>a.right&&(b=a.right-this.anchor.x-this.size.width)}return b}getOptimalRelativeTop(a){let b=-this.size.height/4;if(this.size.height>a.height)return b;const c=this.anchor.y+b,d=c+this.size.height;a=this.getWorkspaceViewRect(a);\nc<a.top?b=a.top-this.anchor.y:d>a.bottom&&(b=a.bottom-this.anchor.y-this.size.height);return b}getWorkspaceViewRect(a){const b=a.top;let c=a.top+a.height,d=a.left;a=a.left+a.width;c-=this.getScrollbarThickness();this.workspace.RTL?d-=this.getScrollbarThickness():a-=this.getScrollbarThickness();return new Rect$$module$build$src$core$utils$rect(b,c,d,a)}getScrollbarThickness(){return Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness/this.workspace.scale}renderTail(){const a=[];var b=this.size.width/\n2,c=this.size.height/2,d=-this.relativeLeft,e=-this.relativeTop;if(b===d&&c===e)a.push(\"M \"+b+\",\"+c);else{e-=c;d-=b;this.workspace.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);e<0&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>Math.PI*2&&(h-=Math.PI*2);var k=Math.sin(h);const m=Math.cos(h);let n=(this.size.width+this.size.height)/_a$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS;n=Math.min(n,this.size.width,this.size.height)/4;h=1-_a$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS/f;d=b+\nh*d;e=c+h*e;h=b+n*m;const p=c+n*k;b-=n*m;c-=n*k;k=toRadians$$module$build$src$core$utils$math(this.workspace.RTL?-_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE:_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE);k=g+k;k>Math.PI*2&&(k-=Math.PI*2);g=Math.sin(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;f=Math.cos(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;a.push(\"M\"+h+\",\"+p);a.push(\"C\"+(h+f)+\",\"+(p+g)+\" \"+d+\",\"+e+\" \"+d+\",\"+e);a.push(\"C\"+d+\",\"+e+\" \"+(b+f)+\",\"+(c+g)+\" \"+\nb+\",\"+c)}a.push(\"z\");let l;(l=this.tail)==null||l.setAttribute(\"d\",a.join(\" \"))}bringToFront(){let a;const b=(a=this.svgRoot)==null?void 0:a.parentNode;return this.svgRoot&&(b==null?void 0:b.lastChild)!==this.svgRoot?(b==null||b.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(a){this.moveTo(a.x,\na.y);this.relativeLeft=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x-this.anchor.x;this.relativeTop=a.y-this.anchor.y;this.renderTail()}setDragging(a){}setDeleteStyle(a){}isDeletable(){return!1}showContextMenu(a){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(a){this.dragStrategy.drag(a)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){fireSelectedEvent$$module$build$src$core$common(this)}unselect(){fireSelectedEvent$$module$build$src$core$common(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();\nthis.bringToFront();var a=this.getRelativeToSurfaceXY();const b=this.getSize();a=new Rect$$module$build$src$core$utils$rect(a.y,a.y+b.height,a.x,a.x+b.width);this.workspace.scrollBoundsIntoView(a)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};_a$$module$build$src$core$bubbles$bubble=Bubble$$module$build$src$core$bubbles$bubble;Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH=6;\nBubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER=_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2;Bubble$$module$build$src$core$bubbles$bubble.MIN_SIZE=_a$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;Bubble$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS=1;Bubble$$module$build$src$core$bubbles$bubble.TAIL_ANGLE=20;Bubble$$module$build$src$core$bubbles$bubble.TAIL_BEND=4;Bubble$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS=8;\nvar module$build$src$core$bubbles$bubble={};module$build$src$core$bubbles$bubble.Bubble=Bubble$$module$build$src$core$bubbles$bubble;var MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(b,c,d);this.workspace=b;this.anchor=c;this.ownerRect=d;this.autoLayout=!0;b=new Options$$module$build$src$core$options(a);this.validateWorkspaceOptions(b);this.svgDialog=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,y:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},\nthis.contentContainer);a.parentWorkspace=this.workspace;this.miniWorkspace=this.newWorkspaceSvg(new Options$$module$build$src$core$options(a));this.miniWorkspace.internalIsMutator=!0;a=this.miniWorkspace.createDom(\"blocklyMutatorBackground\");this.svgDialog.appendChild(a);b.languageTree&&(a.insertBefore(this.miniWorkspace.addFlyout(Svg$$module$build$src$core$utils$svg.G),this.miniWorkspace.getCanvas()),a=this.miniWorkspace.getFlyout(),a==null||a.init(this.miniWorkspace),a==null||a.show(b.languageTree));\naddClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyMiniWorkspaceBubble\");this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let e,f;(e=this.miniWorkspace.getFlyout())==null||(f=e.getWorkspace())==null||f.addChangeListener(this.onWorkspaceChange.bind(this));this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose();super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(a){this.miniWorkspace.addChangeListener(a)}validateWorkspaceOptions(a){if(a.hasCategories)throw Error(\"The miniworkspace bubble does not support toolboxes with categories\");\nif(a.hasTrashcan)throw Error(\"The miniworkspace bubble does not support trashcans\");if(a.zoomOptions.controls||a.zoomOptions.wheel||a.zoomOptions.pinch)throw Error(\"The miniworkspace bubble does not support zooming\");if(a.moveOptions.scrollbars||a.moveOptions.wheel||a.moveOptions.drag)throw Error(\"The miniworkspace bubble does not scrolling/moving the workspace\");if(a.horizontalLayout)throw Error(\"The miniworkspace bubble does not support horizontal layouts\");}onWorkspaceChange(){this.bumpBlocksIntoBounds();\nthis.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const a of this.miniWorkspace.getTopBlocks(!1)){const b=a.getRelativeToSurfaceXY();b.y<20&&a.moveBy(0,20-b.y);if(a.RTL){let c=-20;const d=this.miniWorkspace.getFlyout();d&&(c-=d.getWidth());b.x>c&&a.moveBy(c-b.x,0)}else b.x<20&&a.moveBy(20-b.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=\n!this.miniWorkspace.keyboardMoveInProgress);var a=this.getSize(),b=this.calculateWorkspaceSize();Math.abs(a.width-b.width)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE&&Math.abs(a.height-b.height)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute(\"width\",`${b.width}px`),this.svgDialog.setAttribute(\"height\",`${b.height}px`),this.miniWorkspace.setCachedParentSvgSize(b.width,b.height),\nthis.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute(\"transform\",`translate(${b.width}, 0)`),this.setSize(new Size$$module$build$src$core$utils$size(b.width+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,b.height+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var a=this.miniWorkspace.getCanvas().getBBox();let b=a.width+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;\na=a.height+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;const c=this.miniWorkspace.getFlyout();if(c){const d=c.getWorkspace().getMetricsManager().getScrollMetrics();a=Math.max(a,d.height+20);b+=c.getWidth()}return new Size$$module$build$src$core$utils$size(b,a)}updateBlockStyles(){for(var a of this.miniWorkspace.getAllBlocks(!1))a.setStyle(a.getStyleName());let b;if(a=(b=this.miniWorkspace.getFlyout())==null?void 0:b.getWorkspace())for(const c of a.getAllBlocks(!1))c.setStyle(c.getStyleName())}moveDuringDrag(a){super.moveDuringDrag(a);\nthis.autoLayout=!1}moveTo(a,b){super.moveTo(a,b);this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(a){throw Error(\"The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts\");}};MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE=10;MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN=Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER*3;var module$build$src$core$bubbles$mini_workspace_bubble={};\nmodule$build$src$core$bubbles$mini_workspace_bubble.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;var Icon$$module$build$src$core$icons$icon=class{constructor(a){this.sourceBlock=a;this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.workspaceLocation=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.svgRoot=null;this.tooltip=a;this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator()}getType(){throw Error(\"Icons must implement getType\");}initView(a){if(!this.svgRoot){var b=this.sourceBlock;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyIconGroup\",id:this.id});b.getSvgRoot().appendChild(this.svgRoot);this.updateSvgRootOffset();conditionalBind$$module$build$src$core$browser_events(this.svgRoot,\"pointerdown\",this,a);this.svgRoot.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(this.svgRoot)}}dispose(){unbindMouseEvents$$module$build$src$core$tooltip(this.svgRoot);removeNode$$module$build$src$core$utils$dom(this.svgRoot)}getWeight(){return-1}getSize(){return new Size$$module$build$src$core$utils$size(0,0)}setTooltip(a){this.tooltip=\na!=null?a:this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display=\"none\":this.svgRoot.style.display=\"block\",hasBubble$$module$build$src$core$interfaces$i_has_bubble(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display=\"none\")}isShownWhenCollapsed(){return!1}setOffsetInBlock(a){this.offsetInBlock=a;this.updateSvgRootOffset()}updateSvgRootOffset(){let a;\n(a=this.svgRoot)==null||a.setAttribute(\"transform\",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(a){this.workspaceLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.offsetInBlock)}onClick(){}isClickableInFlyout(a){return!0}getFocusableElement(){const a=this.svgRoot;if(!a)throw Error(\"Attempting to focus uninitialized icon.\");return a}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var a=this.sourceBlock.getBoundingRectangle();\na=new Rect$$module$build$src$core$utils$rect(a.top+this.offsetInBlock.y,a.top+this.offsetInBlock.y+this.getSize().height,a.left+this.offsetInBlock.x,a.left+this.offsetInBlock.x+this.getSize().width);this.sourceBlock.workspace.scrollBoundsIntoView(a)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},module$build$src$core$icons$icon={};module$build$src$core$icons$icon.Icon=Icon$$module$build$src$core$icons$icon;var SIZE$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon;SIZE$$module$build$src$core$icons$mutator_icon=17;WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon=16;\n$.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a,b){super(b);this.flyoutBlockTypes=a;this.sourceBlock=b;this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconShape\",\nrx:\"4\",ry:\"4\",height:\"16\",width:\"16\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{\"class\":\"blocklyIconShape\",r:\"2.7\",cx:\"8\",cy:\"8\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyMutatorIcon\"))}dispose(){super.dispose();let a;(a=this.miniWorkspaceBubble)==null||a.dispose()}getWeight(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$mutator_icon,\nSIZE$$module$build$src$core$icons$mutator_icon)}applyColour(){super.applyColour();let a;(a=this.miniWorkspaceBubble)==null||a.setColour(this.sourceBlock.getColour());let b;(b=this.miniWorkspaceBubble)==null||b.updateBlockStyles()}updateCollapsed(){super.updateCollapsed();this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(a){super.onLocationChange(a);let b;(b=this.miniWorkspaceBubble)==null||b.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick();this.sourceBlock.isEditable()&&\nthis.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){if(b.bubbleIsVisible()!==a){yield finishQueuedRenders$$module$build$src$core$render_management();if(a){b.miniWorkspaceBubble=new MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble(b.getMiniWorkspaceConfig(),b.sourceBlock.workspace,b.getAnchorLocation(),\nb.getBubbleOwnerRect());b.applyColour();b.createRootBlock();b.addSaveConnectionsListener();let c;(c=b.miniWorkspaceBubble)==null||c.addWorkspaceChangeListener(b.createMiniWorkspaceChangeListener())}else{let c;(c=b.miniWorkspaceBubble)==null||c.dispose();b.miniWorkspaceBubble=null;b.saveConnectionsListener&&b.sourceBlock.workspace.removeChangeListener(b.saveConnectionsListener);b.saveConnectionsListener=null}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,\na,\"mutator\"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let a;const b={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(a=this.sourceBlock.workspace.options.rendererOverrides)!=null?a:void 0};this.flyoutBlockTypes.length&&(b.toolbox={kind:\"flyoutToolbox\",contents:this.flyoutBlockTypes.map(c=>({kind:\"block\",type:c}))});return b}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$mutator_icon/\n2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){const a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error(\"Blocks with mutator icons must include a decompose method\");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());\nfor(var a of this.rootBlock.getDescendants(!1))a.queueRender();this.rootBlock.setMovable(!1);this.rootBlock.setDeletable(!1);let b,c,d,e;a=(e=(b=this.miniWorkspaceBubble)==null?void 0:(c=b.getWorkspace())==null?void 0:(d=c.getFlyout())==null?void 0:d.getWidth())!=null?e:0;this.rootBlock.moveBy(this.rootBlock.RTL?-(a+WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon):WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&\nthis.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return a=>{$.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(a)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null;this.recomposeSourceBlock()},\n0))}}static isIgnorableMutatorEvent(a){return a.isUiEvent||isBlockCreate$$module$build$src$core$events$predicates(a)||isBlockChange$$module$build$src$core$events$predicates(a)&&a.element===\"disabled\"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error(\"Blocks with mutator icons must include a compose method\");var a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);\nthis.sourceBlock.compose(this.rootBlock);var c=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);b!==c&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\"mutation\",null,b,c));$.setGroup$$module$build$src$core$events$utils(a)}}getWorkspace(){let a;return(a=this.miniWorkspaceBubble)==null?void 0:a.getWorkspace()}};\n$.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.MUTATOR;$.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1;var module$build$src$core$icons$mutator_icon={};module$build$src$core$icons$mutator_icon.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;var allExtensions$$module$build$src$core$extensions=Object.create(null),TEST_ONLY$$module$build$src$core$extensions={allExtensions:allExtensions$$module$build$src$core$extensions};$.register$$module$build$src$core$extensions(\"parent_tooltip_when_inline\",extensionParentTooltip$$module$build$src$core$extensions);var module$build$src$core$extensions={TEST_ONLY:TEST_ONLY$$module$build$src$core$extensions};module$build$src$core$extensions.apply=apply$$module$build$src$core$extensions;\nmodule$build$src$core$extensions.buildTooltipForDropdown=$.buildTooltipForDropdown$$module$build$src$core$extensions;module$build$src$core$extensions.buildTooltipWithFieldText=$.buildTooltipWithFieldText$$module$build$src$core$extensions;module$build$src$core$extensions.isRegistered=isRegistered$$module$build$src$core$extensions;module$build$src$core$extensions.register=$.register$$module$build$src$core$extensions;module$build$src$core$extensions.registerMixin=$.registerMixin$$module$build$src$core$extensions;\nmodule$build$src$core$extensions.registerMutator=$.registerMutator$$module$build$src$core$extensions;module$build$src$core$extensions.runAfterPageLoad=runAfterPageLoad$$module$build$src$core$extensions;module$build$src$core$extensions.unregister=unregister$$module$build$src$core$extensions;var KeyCodes$$module$build$src$core$utils$keycodes;\n(function(a){a[a.WIN_KEY_FF_LINUX=0]=\"WIN_KEY_FF_LINUX\";a[a.MAC_ENTER=3]=\"MAC_ENTER\";a[a.BACKSPACE=8]=\"BACKSPACE\";a[a.TAB=9]=\"TAB\";a[a.NUM_CENTER=12]=\"NUM_CENTER\";a[a.ENTER=13]=\"ENTER\";a[a.SHIFT=16]=\"SHIFT\";a[a.CTRL=17]=\"CTRL\";a[a.ALT=18]=\"ALT\";a[a.PAUSE=19]=\"PAUSE\";a[a.CAPS_LOCK=20]=\"CAPS_LOCK\";a[a.ESC=27]=\"ESC\";a[a.SPACE=32]=\"SPACE\";a[a.PAGE_UP=33]=\"PAGE_UP\";a[a.PAGE_DOWN=34]=\"PAGE_DOWN\";a[a.END=35]=\"END\";a[a.HOME=36]=\"HOME\";a[a.LEFT=37]=\"LEFT\";a[a.UP=38]=\"UP\";a[a.RIGHT=39]=\"RIGHT\";a[a.DOWN=40]=\n\"DOWN\";a[a.PLUS_SIGN=43]=\"PLUS_SIGN\";a[a.PRINT_SCREEN=44]=\"PRINT_SCREEN\";a[a.INSERT=45]=\"INSERT\";a[a.DELETE=46]=\"DELETE\";a[a.ZERO=48]=\"ZERO\";a[a.ONE=49]=\"ONE\";a[a.TWO=50]=\"TWO\";a[a.THREE=51]=\"THREE\";a[a.FOUR=52]=\"FOUR\";a[a.FIVE=53]=\"FIVE\";a[a.SIX=54]=\"SIX\";a[a.SEVEN=55]=\"SEVEN\";a[a.EIGHT=56]=\"EIGHT\";a[a.NINE=57]=\"NINE\";a[a.FF_SEMICOLON=59]=\"FF_SEMICOLON\";a[a.FF_EQUALS=61]=\"FF_EQUALS\";a[a.FF_DASH=173]=\"FF_DASH\";a[a.FF_HASH=163]=\"FF_HASH\";a[a.QUESTION_MARK=63]=\"QUESTION_MARK\";a[a.AT_SIGN=64]=\"AT_SIGN\";\na[a.A=65]=\"A\";a[a.B=66]=\"B\";a[a.C=67]=\"C\";a[a.D=68]=\"D\";a[a.E=69]=\"E\";a[a.F=70]=\"F\";a[a.G=71]=\"G\";a[a.H=72]=\"H\";a[a.I=73]=\"I\";a[a.J=74]=\"J\";a[a.K=75]=\"K\";a[a.L=76]=\"L\";a[a.M=77]=\"M\";a[a.N=78]=\"N\";a[a.O=79]=\"O\";a[a.P=80]=\"P\";a[a.Q=81]=\"Q\";a[a.R=82]=\"R\";a[a.S=83]=\"S\";a[a.T=84]=\"T\";a[a.U=85]=\"U\";a[a.V=86]=\"V\";a[a.W=87]=\"W\";a[a.X=88]=\"X\";a[a.Y=89]=\"Y\";a[a.Z=90]=\"Z\";a[a.META=91]=\"META\";a[a.WIN_KEY_RIGHT=92]=\"WIN_KEY_RIGHT\";a[a.CONTEXT_MENU=93]=\"CONTEXT_MENU\";a[a.NUM_ZERO=96]=\"NUM_ZERO\";a[a.NUM_ONE=97]=\n\"NUM_ONE\";a[a.NUM_TWO=98]=\"NUM_TWO\";a[a.NUM_THREE=99]=\"NUM_THREE\";a[a.NUM_FOUR=100]=\"NUM_FOUR\";a[a.NUM_FIVE=101]=\"NUM_FIVE\";a[a.NUM_SIX=102]=\"NUM_SIX\";a[a.NUM_SEVEN=103]=\"NUM_SEVEN\";a[a.NUM_EIGHT=104]=\"NUM_EIGHT\";a[a.NUM_NINE=105]=\"NUM_NINE\";a[a.NUM_MULTIPLY=106]=\"NUM_MULTIPLY\";a[a.NUM_PLUS=107]=\"NUM_PLUS\";a[a.NUM_MINUS=109]=\"NUM_MINUS\";a[a.NUM_PERIOD=110]=\"NUM_PERIOD\";a[a.NUM_DIVISION=111]=\"NUM_DIVISION\";a[a.F1=112]=\"F1\";a[a.F2=113]=\"F2\";a[a.F3=114]=\"F3\";a[a.F4=115]=\"F4\";a[a.F5=116]=\"F5\";a[a.F6=\n117]=\"F6\";a[a.F7=118]=\"F7\";a[a.F8=119]=\"F8\";a[a.F9=120]=\"F9\";a[a.F10=121]=\"F10\";a[a.F11=122]=\"F11\";a[a.F12=123]=\"F12\";a[a.NUMLOCK=144]=\"NUMLOCK\";a[a.SCROLL_LOCK=145]=\"SCROLL_LOCK\";a[a.FIRST_MEDIA_KEY=166]=\"FIRST_MEDIA_KEY\";a[a.LAST_MEDIA_KEY=183]=\"LAST_MEDIA_KEY\";a[a.SEMICOLON=186]=\"SEMICOLON\";a[a.DASH=189]=\"DASH\";a[a.EQUALS=187]=\"EQUALS\";a[a.COMMA=188]=\"COMMA\";a[a.PERIOD=190]=\"PERIOD\";a[a.SLASH=191]=\"SLASH\";a[a.APOSTROPHE=192]=\"APOSTROPHE\";a[a.TILDE=192]=\"TILDE\";a[a.SINGLE_QUOTE=222]=\"SINGLE_QUOTE\";\na[a.OPEN_SQUARE_BRACKET=219]=\"OPEN_SQUARE_BRACKET\";a[a.BACKSLASH=220]=\"BACKSLASH\";a[a.CLOSE_SQUARE_BRACKET=221]=\"CLOSE_SQUARE_BRACKET\";a[a.WIN_KEY=224]=\"WIN_KEY\";a[a.MAC_FF_META=224]=\"MAC_FF_META\";a[a.MAC_WK_CMD_LEFT=91]=\"MAC_WK_CMD_LEFT\";a[a.MAC_WK_CMD_RIGHT=93]=\"MAC_WK_CMD_RIGHT\";a[a.WIN_IME=229]=\"WIN_IME\";a[a.VK_NONAME=252]=\"VK_NONAME\";a[a.PHANTOM=255]=\"PHANTOM\"})(KeyCodes$$module$build$src$core$utils$keycodes||(KeyCodes$$module$build$src$core$utils$keycodes={}));\nvar module$build$src$core$utils$keycodes={};module$build$src$core$utils$keycodes.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;var module$build$src$core$utils$svg_paths={};module$build$src$core$utils$svg_paths.arc=arc$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.curve=curve$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.line=line$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineOnAxis=lineOnAxis$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineTo=lineTo$$module$build$src$core$utils$svg_paths;\nmodule$build$src$core$utils$svg_paths.moveBy=moveBy$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.moveTo=moveTo$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.point=point$$module$build$src$core$utils$svg_paths;var module$build$src$core$utils={};module$build$src$core$utils.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;module$build$src$core$utils.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;module$build$src$core$utils.Rect=Rect$$module$build$src$core$utils$rect;module$build$src$core$utils.Size=Size$$module$build$src$core$utils$size;module$build$src$core$utils.Svg=Svg$$module$build$src$core$utils$svg;module$build$src$core$utils.aria=module$build$src$core$utils$aria;\nmodule$build$src$core$utils.array=module$build$src$core$utils$array;module$build$src$core$utils.browserEvents=module$build$src$core$browser_events;module$build$src$core$utils.colour=module$build$src$core$utils$colour;module$build$src$core$utils.deprecation=module$build$src$core$utils$deprecation;module$build$src$core$utils.dom=module$build$src$core$utils$dom;module$build$src$core$utils.extensions=module$build$src$core$extensions;module$build$src$core$utils.idGenerator=module$build$src$core$utils$idgenerator;\nmodule$build$src$core$utils.math=module$build$src$core$utils$math;module$build$src$core$utils.object=module$build$src$core$utils$object;module$build$src$core$utils.parsing=module$build$src$core$utils$parsing;module$build$src$core$utils.string=module$build$src$core$utils$string;module$build$src$core$utils.style=module$build$src$core$utils$style;module$build$src$core$utils.svgMath=module$build$src$core$utils$svg_math;module$build$src$core$utils.svgPaths=module$build$src$core$utils$svg_paths;\nmodule$build$src$core$utils.toolbox=module$build$src$core$utils$toolbox;module$build$src$core$utils.userAgent=module$build$src$core$utils$useragent;module$build$src$core$utils.xml=module$build$src$core$utils$xml;var TextInputBubble$$module$build$src$core$bubbles$textinput_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(a,b,c,void 0,d);this.workspace=a;this.anchor=b;this.ownerRect=c;this.owner=d;this.resizePointerMoveListener=this.resizePointerUpListener=null;this.sizeChangeListeners=[];this.locationChangeListeners=[];this.DEFAULT_SIZE=new Size$$module$build$src$core$utils$size(160+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,80+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);\nthis.MIN_SIZE=new Size$$module$build$src$core$utils$size(45+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,20+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);this.editable=!0;addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyTextInputBubble\");this.editor=new CommentEditor$$module$build$src$core$comments$comment_editor(a,this.id,()=>{$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)});this.contentContainer.appendChild(this.editor.getDom());\nthis.resizeGroup=this.createResizeHandle(this.svgRoot,a);this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(a){this.editor.setText(a)}setEditable(a){this.editable=a;this.editor.setEditable(a)}isEditable(){return this.editable}addTextChangeListener(a){this.editor.addTextChangeListener(a)}addSizeChangeListener(a){this.sizeChangeListeners.push(a)}addLocationChangeListener(a){this.locationChangeListeners.push(a)}createResizeHandle(a,b){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,\n{\"class\":\"blocklyResizeHandle\",href:`${b.options.pathToMedia}resize-handle.svg`},a);conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onResizePointerDown);return a}setSize(a,b=!1){a.width=Math.max(a.width,this.MIN_SIZE.width);a.height=Math.max(a.height,this.MIN_SIZE.height);const c=a.width-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,d=a.height-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;this.editor.updateSize(new Size$$module$build$src$core$utils$size(c,\nd),new Size$$module$build$src$core$utils$size(0,0));this.editor.getDom().setAttribute(\"x\",`${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER/2}`);this.editor.getDom().setAttribute(\"y\",`${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER/2}`);this.resizeGroup.setAttribute(\"y\",`${d}`);this.workspace.RTL?this.resizeGroup.setAttribute(\"x\",`${-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER}`):this.resizeGroup.setAttribute(\"x\",`${c}`);super.setSize(a,b);this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(a){super.moveDuringDrag(a);\nthis.onLocationChange()}setPositionRelativeToAnchor(a,b){super.setPositionRelativeToAnchor(a,b);this.onLocationChange()}positionByRect(a=new Rect$$module$build$src$core$utils$rect(0,0,0,0)){super.positionByRect(a);this.onLocationChange()}onResizePointerDown(a){this.bringToFront();isRightButton$$module$build$src$core$browser_events(a)||(start$$module$build$src$core$utils$drag(this.workspace,a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,\nthis.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",this,this.onResizePointerMove),this.workspace.hideChaff());a.stopPropagation()}onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),\nthis.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(a){a=move$$module$build$src$core$utils$drag(this.workspace,a);this.setSize(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y),!1);this.onSizeChange()}onSizeChange(){for(const a of this.sizeChangeListeners)a()}onLocationChange(){for(const a of this.locationChangeListeners)a()}getEditor(){return this.editor}};\nregister$$module$build$src$core$css(\"\\n.blocklyTextInputBubble .blocklyTextarea {\\n  background-color: var(--commentFillColour);\\n  border: 0;\\n  box-sizing: border-box;\\n  display: block;\\n  outline: 0;\\n  padding: 5px;\\n  resize: none;\\n  width: 100%;\\n  height: 100%;\\n}\\n\");var module$build$src$core$bubbles$textinput_bubble={};module$build$src$core$bubbles$textinput_bubble.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var ConnectionType$$module$build$src$core$connection_type;(function(a){a[a.INPUT_VALUE=1]=\"INPUT_VALUE\";a[a.OUTPUT_VALUE=2]=\"OUTPUT_VALUE\";a[a.NEXT_STATEMENT=3]=\"NEXT_STATEMENT\";a[a.PREVIOUS_STATEMENT=4]=\"PREVIOUS_STATEMENT\"})(ConnectionType$$module$build$src$core$connection_type||(ConnectionType$$module$build$src$core$connection_type={}));var module$build$src$core$connection_type={};module$build$src$core$connection_type.ConnectionType=ConnectionType$$module$build$src$core$connection_type;var ConnectionDB$$module$build$src$core$connection_db=class{constructor(a){this.connectionChecker=a;this.connections=[]}addConnection(a,b){b=this.calculateIndexForYPos(b);this.connections.splice(b,0,a)}findIndexOfConnection(a,b){if(!this.connections.length)return-1;const c=this.calculateIndexForYPos(b);if(c>=this.connections.length)return-1;b=a.y;let d=c;for(;d>=0&&this.connections[d].y===b;){if(this.connections[d]===a)return d;d--}for(d=c;d<this.connections.length&&this.connections[d].y===b;){if(this.connections[d]===\na)return d;d++}return-1}calculateIndexForYPos(a){if(!this.connections.length)return 0;let b=0,c=this.connections.length;for(;b<c;){const d=Math.floor((b+c)/2);if(this.connections[d].y<a)b=d+1;else if(this.connections[d].y>a)c=d;else{b=d;break}}return b}removeConnection(a,b){a=this.findIndexOfConnection(a,b);if(a===-1)throw Error(\"Unable to find connection in connectionDB.\");this.connections.splice(a,1)}getNeighbours(a,b){function c(l){const m=e-d[l].x,n=f-d[l].y;Math.sqrt(m*m+n*n)<=b&&k.push(d[l]);\nreturn n<b}const d=this.connections,e=a.x,f=a.y;a=0;let g=d.length-2,h=g;for(;a<h;)d[h].y<f?a=h:g=h,h=Math.floor((a+g)/2);const k=[];g=a=h;if(d.length){for(;a>=0&&c(a);)a--;do g++;while(g<d.length&&c(g))}return k}isInYRange(a,b,c){return Math.abs(this.connections[a].y-b)<=c}searchForClosest(a,b,c){if(!this.connections.length)return{connection:null,radius:b};const d=a.y,e=a.x;a.x=e+c.x;a.y=d+c.y;var f=this.calculateIndexForYPos(a.y);c=null;let g=b,h,k=f-1;for(;k>=0&&this.isInYRange(k,a.y,b);)h=this.connections[k],\nthis.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.connections.length&&this.isInYRange(f,a.y,b);)h=this.connections[f],this.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),f++;a.x=e;a.y=d;return{connection:c,radius:g}}static init(a){const b=[];b[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);\nb[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);return b}},module$build$src$core$connection_db={};module$build$src$core$connection_db.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;var Selected$$module$build$src$core$events$events_selected=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(c);this.type=EventType$$module$build$src$core$events$type.SELECTED;this.oldElementId=a!=null?a:void 0;this.newElementId=b!=null?b:void 0}toJson(){const a=super.toJson();a.oldElementId=this.oldElementId;a.newElementId=this.newElementId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new Selected$$module$build$src$core$events$events_selected);\nb.oldElementId=a.oldElementId;b.newElementId=a.newElementId;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.SELECTED,Selected$$module$build$src$core$events$events_selected);var module$build$src$core$events$events_selected={};module$build$src$core$events$events_selected.Selected=Selected$$module$build$src$core$events$events_selected;var BlockDelete$$module$build$src$core$events$events_block_delete=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_DELETE;if(a){if(a.getParent())throw Error(\"Connected blocks cannot be deleted.\");a.isShadow()&&(this.recordUndo=!1);this.oldXml=blockToDomWithXY$$module$build$src$core$xml(a);this.ids=getDescendantIds$$module$build$src$core$events$utils(a);this.wasShadow=a.isShadow();this.oldJson=\nsave$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0})}}toJson(){const a=super.toJson();if(!this.oldXml)throw Error(\"The old block XML is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(this.wasShadow===void 0)throw Error(\"Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.oldJson)throw Error(\"The old block JSON is undefined. Either pass a block to the constructor, or call fromJson\");\na.oldXml=domToText$$module$build$src$core$xml(this.oldXml);a.ids=this.ids;a.wasShadow=this.wasShadow;a.oldJson=this.oldJson;this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockDelete$$module$build$src$core$events$events_block_delete);b.oldXml=$.textToDom$$module$build$src$core$utils$xml(a.oldXml);b.ids=a.ids;b.wasShadow=a.wasShadow||b.oldXml.tagName.toLowerCase()===\"shadow\";b.oldJson=a.oldJson;a.recordUndo!==void 0&&(b.recordUndo=\na.recordUndo);return b}run(a){const b=this.getEventWorkspace_();if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(!this.oldJson)throw Error(\"The old block JSON is undefined. Either pass a block to the constructor, or call fromJson\");if(a)for(a=0;a<this.ids.length;a++){const c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn(\"Can't delete non-existent block: \"+c)}else append$$module$build$src$core$serialization$blocks(this.oldJson,\nb)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_DELETE,BlockDelete$$module$build$src$core$events$events_block_delete);var module$build$src$core$events$events_block_delete={};module$build$src$core$events$events_block_delete.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;var Connection$$module$build$src$core$connection=class{constructor(a,b){this.type=b;this.targetConnection=null;this.disposed=!1;this.shadowDom=this.check=null;this.y=this.x=0;this.shadowState=null;this.sourceBlock_=a;if(a.id.includes(\"_connection\"))throw Error(\"Connection ID indicator is contained in block ID. This will cause \"+`problems with focus: ${a.id}.`);this.id=`${a.id}_connection_${getNextUniqueId$$module$build$src$core$utils$idgenerator()}`}connect_(a){const b=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,\nc=this.getSourceBlock();var d=a.getSourceBlock();a.isConnected()&&a.disconnectInternal(!1);let e;if(this.isConnected()){const g=this.stashShadowState(),h=this.targetBlock();h.isShadow()?h.dispose(!1):(this.disconnectInternal(),e=h);this.applyShadowState(g)}let f;isEnabled$$module$build$src$core$events$utils()&&(f=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(d),f.setReason([\"connect\"]));connectReciprocally$$module$build$src$core$connection(this,\na);d.setParent(c);f&&(f.recordNew(),fire$$module$build$src$core$events$utils(f));if(e&&(a=this.type===b?e.outputConnection:e.previousConnection))if(d=Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(d,a))a.connect(d);else a.onFailedConnect(this)}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const a=this.targetBlock();a&&!a.isDeadOrDying()&&a.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===\nConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(a){}connect(a){if(this.targetConnection===a)return!0;if(this.getConnectionChecker().canConnect(this,a,!1)){const b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);\nthis.isSuperior()?this.connect_(a):a.connect_(this);$.setGroup$$module$build$src$core$events$utils(b)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(a=!0){const {parentConnection:b,childConnection:c}=this.getParentAndChildConnections();if(!b||!c)throw Error(\"Source connection not connected.\");const d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);let e;isEnabled$$module$build$src$core$events$utils()&&(e=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(c.getSourceBlock()),\ne.setReason([\"disconnect\"]));const f=this.targetConnection;f&&(f.targetConnection=null);this.targetConnection=null;a&&c.getSourceBlock().setParent(null);e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));c.getSourceBlock().isShadow()||b.respawnShadow_();$.setGroup$$module$build$src$core$events$utils(d)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:\n{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(a,b){if(this.getSourceBlock().isDeadOrDying())return!1;var c;b=(c=a.getInput(b))==null?void 0:c.connection;c=this.targetBlock();return c&&c!==a||!b||b.targetConnection===this?!1:(b.isConnected()&&b.disconnect(),b.connect(this),!0)}targetBlock(){if(this.isConnected()){let a,b;return(b=(a=this.targetConnection)==null?void 0:a.getSourceBlock())!=null?b:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,\nthis.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(a){a?(Array.isArray(a)||(a=[a]),this.check=a,this.onCheckChanged_()):this.check=null;return this}getCheck(){return this.check}setShadowDom(a){this.setShadowStateInternal({shadowDom:a})}getShadowDom(a){return a&&this.targetBlock().isShadow()?blockToDom$$module$build$src$core$xml(this.targetBlock()):this.shadowDom}setShadowState(a){this.setShadowStateInternal({shadowState:a})}getShadowState(a){return a&&\nthis.targetBlock()&&this.targetBlock().isShadow()?save$$module$build$src$core$serialization$blocks(this.targetBlock()):this.shadowState}neighbours(a){return[]}getParentInput(){let a=null;const b=this.sourceBlock_.inputList;for(let c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a}toString(){const a=this.sourceBlock_;if(!a)return\"Orphan Connection\";if(a.outputConnection===this)var b=\"Output Connection of \";else if(a.previousConnection===this)b=\"Previous Connection of \";else if(a.nextConnection===\nthis)b=\"Next Connection of \";else{b=null;for(let c=0,d;d=a.inputList[c];c++)if(d.connection===this){b=d;break}if(b)b='Input \"'+b.name+'\" connection on ';else return console.warn(\"Connection not actually connected to sourceBlock_\"),\"Orphan Connection\"}return b+a.toDevString()}stashShadowState(){const a=this.getShadowDom(!0),b=this.getShadowState(!0);this.shadowState=this.shadowDom=null;return{shadowDom:a,shadowState:b}}applyShadowState({shadowDom:a,shadowState:b}){this.shadowDom=a;this.shadowState=\nb}setShadowStateInternal({shadowDom:a=null,shadowState:b=null}={}){this.shadowDom=a;this.shadowState=b;this.getSourceBlock().isDeadOrDying()||((a=this.targetBlock())?a.isShadow()?(a.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(a=this.createShadowBlock(!1),this.serializeShadow(a),a&&a.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(a){var b=\nthis.getSourceBlock();const c=this.getShadowState(),d=this.getShadowDom();if(b.isDeadOrDying()||!c&&!d)return null;if(c)return b=appendInternal$$module$build$src$core$serialization$blocks(c,b.workspace,{parentConnection:a?this:void 0,isShadow:!0,recordUndo:!1});if(d){b=domToBlockInternal$$module$build$src$core$xml(d,b.workspace);if(a)if(this.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){if(!b.outputConnection)throw Error(\"Shadow block is missing an output connection\");\nif(!this.connect(b.outputConnection))throw Error(\"Could not connect shadow block to connection\");}else if(this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){if(!b.previousConnection)throw Error(\"Shadow block is missing previous connection\");if(!this.connect(b.previousConnection))throw Error(\"Could not connect shadow block to connection\");}else throw Error(\"Cannot connect a shadow block to a previous/output connection\");return b}return null}serializeShadow(a){a&&(this.shadowDom=\nblockToDom$$module$build$src$core$xml(a),this.shadowState=save$$module$build$src$core$serialization$blocks(a))}static getConnectionForOrphanedConnection(a,b){if(b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)return getConnectionForOrphanedOutput$$module$build$src$core$connection(a,b.getSourceBlock());a=a.lastConnectionInStack(!0);const c=b.getConnectionChecker();return a&&c.canConnect(b,a,!1)?a:null}};Connection$$module$build$src$core$connection.CAN_CONNECT=0;\nConnection$$module$build$src$core$connection.REASON_SELF_CONNECTION=1;Connection$$module$build$src$core$connection.REASON_WRONG_TYPE=2;Connection$$module$build$src$core$connection.REASON_TARGET_NULL=3;Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED=4;Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES=5;Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT=6;Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED=7;\nConnection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT=8;var module$build$src$core$connection={};module$build$src$core$connection.Connection=Connection$$module$build$src$core$connection;var DuplicateIconType$$module$build$src$core$icons$exceptions=class extends Error{constructor(a){super(`Tried to append an icon of type ${a.getType()} when an icon of `+\"that type already exists on the block. Use getIcon to access the existing icon.\");this.icon=a}},module$build$src$core$icons$exceptions={};module$build$src$core$icons$exceptions.DuplicateIconType=DuplicateIconType$$module$build$src$core$icons$exceptions;(function(a){a[a.LEFT=-1]=\"LEFT\";a[a.CENTRE=0]=\"CENTRE\";a[a.RIGHT=1]=\"RIGHT\"})($.Align$$module$build$src$core$inputs$align||($.Align$$module$build$src$core$inputs$align={}));var module$build$src$core$inputs$align={};module$build$src$core$inputs$align.Align=$.Align$$module$build$src$core$inputs$align;var FieldLabel$$module$build$src$core$field_label=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.class=null;this.EDITABLE=!1;this.maxDisplayLength=Infinity;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c?this.configure_(c):this.class=b||null,this.setValue(a))}configure_(a){super.configure_(a);a.class&&(this.class=a.class)}initView(){this.createTextElement_();this.class&&addClass$$module$build$src$core$utils$dom(this.getTextElement(),\nthis.class);this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyLabelField\")}doClassValidation_(a){return a===null||a===void 0?null:`${a}`}setClass(a){this.textElement_&&(this.class&&removeClass$$module$build$src$core$utils$dom(this.textElement_,this.class),a&&addClass$$module$build$src$core$utils$dom(this.textElement_,a));this.class=a}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};\nregister$$module$build$src$core$field_registry(\"field_label\",FieldLabel$$module$build$src$core$field_label);FieldLabel$$module$build$src$core$field_label.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_label={};module$build$src$core$field_label.FieldLabel=FieldLabel$$module$build$src$core$field_label;var COLLAPSE_CHARS$$module$build$src$core$internal_constants=30,OPPOSITE_TYPE$$module$build$src$core$internal_constants=[];OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE;\nOPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT;\nvar RENAME_VARIABLE_ID$$module$build$src$core$internal_constants=\"RENAME_VARIABLE_ID\",DELETE_VARIABLE_ID$$module$build$src$core$internal_constants=\"DELETE_VARIABLE_ID\",module$build$src$core$internal_constants={COLLAPSE_CHARS:COLLAPSE_CHARS$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID:DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,OPPOSITE_TYPE:OPPOSITE_TYPE$$module$build$src$core$internal_constants,RENAME_VARIABLE_ID:RENAME_VARIABLE_ID$$module$build$src$core$internal_constants};var BUMP_RANDOMNESS$$module$build$src$core$rendered_connection=10,RenderedConnection$$module$build$src$core$rendered_connection=class extends Connection$$module$build$src$core$connection{constructor(a,b){super(a,b);this.highlighted=!1;this.targetConnection=null;this.db=a.workspace.connectionDBList[b];this.dbOpposite=a.workspace.connectionDBList[OPPOSITE_TYPE$$module$build$src$core$internal_constants[b]];this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.trackedState=\nRenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK}dispose(){super.dispose();this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let a,b;(b=(a=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||b.call(a,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(a){const b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*\nb+a*a)}bumpAwayFrom(a,b=!1){if(!this.sourceBlock_.workspace.isDragging()){var c=$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection),d=$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection),e=a.sourceBlock_.getRootBlock(),f=this.sourceBlock_.getRootBlock();if(!e.isInFlyout&&!f.isInFlyout){var g=!0;if(f.isMovable())e.isMovable()&&b&&(d=-d);\nelse if(e.isMovable())g=!1,c=-c,d=-d;else return;b=g?a:this;a=g?this:a;e=g?f:e;e.RTL&&(c=-c);e.moveBy(b.x+c-a.x,b.y+d-a.y,[\"bump\"])}}}moveTo(a,b){let c=!1;this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK?(this.db.addConnection(this,b),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED,c=!0):this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&\n(this.db.removeConnection(this,this.y),this.db.addConnection(this,b),c=!0);this.x=a;this.y=b;return c}moveBy(a,b){return this.moveTo(this.x+a,this.y+b)}moveToOffset(a){return this.moveTo(a.x+this.offsetInBlock.x,a.y+this.offsetInBlock.y)}setOffsetInBlock(a,b){this.offsetInBlock.x=a;this.offsetInBlock.y=b}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var a=this.targetConnection;const b=this.targetBlock();a&&b&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.offsetInBlock,\na.offsetInBlock),b.translate(a.x,a.y))}closest(a,b){return this.dbOpposite.searchForClosest(this,a,b)}highlight(){this.highlighted=!0;const a=this.findHighlightSvg();a&&(a.style.display=\"\")}unhighlight(){this.highlighted=!1;const a=this.findHighlightSvg();a&&(a.style.display=\"none\")}isHighlighted(){return this.highlighted}setTracking(a){a&&this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED||!a&&this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED||\nthis.sourceBlock_.isInFlyout||(a?(this.db.addConnection(this,this.y),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED):(this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED))}stopTrackingAll(){this.setTracking(!1);if(this.targetConnection){const a=this.targetBlock().getDescendants(!1);\nfor(let b=0;b<a.length;b++){const c=a[b],d=c.getConnections_(!0);for(let e=0;e<d.length;e++)d[e].setTracking(!1);for(const e of c.getIcons())hasBubble$$module$build$src$core$interfaces$i_has_bubble(e)&&e.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let a=[];if(this.type!==ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&this.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)return a;const b=this.targetBlock();if(b){let c;b.isCollapsed()?\n(c=[],b.outputConnection&&c.push(b.outputConnection),b.nextConnection&&c.push(b.nextConnection),b.previousConnection&&c.push(b.previousConnection)):c=b.getConnections_(!0);for(let d=0;d<c.length;d++)a.push(...c[d].startTrackingAll());a.length||(a=[b])}return a}onFailedConnect(a){const b=this.getSourceBlock();if(getRecordUndo$$module$build$src$core$events$utils()){const c=$.getGroup$$module$build$src$core$events$utils();setTimeout(function(){b.isDisposed()||b.getParent()||($.setGroup$$module$build$src$core$events$utils(c),\nthis.bumpAwayFrom(a),$.setGroup$$module$build$src$core$events$utils(!1))}.bind(this),$.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(a=!0){const {parentConnection:b,childConnection:c}=this.getParentAndChildConnections();if(b&&c){var d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);var e=b.getSourceBlock(),f=c.getSourceBlock();super.disconnectInternal(a);e.queueRender();f.updateDisabled();f.queueRender();f.getSvgRoot().style.display=\n\"block\";$.setGroup$$module$build$src$core$events$utils(d)}}respawnShadow_(){super.respawnShadow_();const a=this.targetBlock();a&&(a.initSvg(),a.queueRender())}neighbours(a){return this.dbOpposite.getNeighbours(this,a)}connect_(a){super.connect_(a);var b=this.getSourceBlock();a=a.getSourceBlock();b.updateDisabled();a.updateDisabled();a.queueRender();if(b=b.getInputWithBlock(a))b=b.isVisible(),a.getSvgRoot().style.display=b?\"block\":\"none\"}onCheckChanged_(){!this.isConnected()||this.targetConnection&&\nthis.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(a){super.setCheck(a);this.sourceBlock_.queueRender();return this}showContextMenu(a){const b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({focusedNode:this},a);if(b.length){var c=this.getSourceBlock(),d=c.workspace;if(a instanceof PointerEvent)var e=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,\na.clientY);else e=new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y),e=wsToScreenCoordinates$$module$build$src$core$utils$svg_math(d,e).translate(c.RTL?-5:5,5);show$$module$build$src$core$contextmenu(a,b,c.RTL,d,e)}}getFocusableElement(){const a=this.findHighlightSvg();if(a)return a;throw Error(\"No highlight SVG found corresponding to this connection.\");}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight();this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};\n(function(a){a=a.TrackedState||(a.TrackedState={});a[a.WILL_TRACK=-1]=\"WILL_TRACK\";a[a.UNTRACKED=0]=\"UNTRACKED\";a[a.TRACKED=1]=\"TRACKED\"})(RenderedConnection$$module$build$src$core$rendered_connection||(RenderedConnection$$module$build$src$core$rendered_connection={}));var TrackedState$$module$build$src$core$rendered_connection=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState,module$build$src$core$rendered_connection={};\nmodule$build$src$core$rendered_connection.RenderedConnection=RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$rendered_connection.TrackedState=TrackedState$$module$build$src$core$rendered_connection;var Input$$module$build$src$core$inputs$input=class{constructor(a,b){this.name=a;this.sourceBlock=b;this.fieldRow=[];this.align=$.Align$$module$build$src$core$inputs$align.LEFT;this.visible=!0;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM;this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this}insertFieldAt(a,b,c){if(a<0||a>this.fieldRow.length)throw Error(\"index \"+a+\" out of bounds.\");if(!(b||\nb===\"\"&&c))return a;typeof b===\"string\"&&(b=$.fromJson$$module$build$src$core$field_registry({type:\"field_label\",text:b}));b.setSourceBlock(this.sourceBlock);this.sourceBlock.initialized&&this.initField(b);b.name=c;b.setVisible(this.isVisible());b.prefixField&&(a=this.insertFieldAt(a,b.prefixField));this.fieldRow.splice(a,0,b);a++;b.suffixField&&(a=this.insertFieldAt(a,b.suffixField));this.sourceBlock.rendered&&this.sourceBlock.queueRender();return a}removeField(a,b){for(let c=0,d;d=this.fieldRow[c];c++)if(d.name===\na)return d.dispose(),this.fieldRow.splice(c,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(b)return!1;throw Error('Field \"'+a+'\" not found.');}isVisible(){return this.visible}setVisible(a){let b=[];if(this.visible===a)return b;this.visible=a;for(let c=0,d;d=this.fieldRow[c];c++)d.setVisible(a);if(this.connection&&this.connection instanceof RenderedConnection$$module$build$src$core$rendered_connection){a?b=this.connection.startTrackingAll():this.connection.stopTrackingAll();const c=\nthis.connection.targetBlock();c&&(c.getSvgRoot().style.display=a?\"block\":\"none\")}return b}markDirty(){for(let a=0,b;b=this.fieldRow[a];a++)b.markDirty()}setCheck(a){if(!this.connection)throw Error(\"This input does not have a connection.\");this.connection.setCheck(a);return this}setAlign(a){this.align=a;this.sourceBlock.rendered&&this.sourceBlock.queueRender();return this}setShadowDom(a){if(!this.connection)throw Error(\"This input does not have a connection.\");this.connection.setShadowDom(a);return this}getShadowDom(){if(!this.connection)throw Error(\"This input does not have a connection.\");\nreturn this.connection.getShadowDom()}init(){for(const a of this.fieldRow)a.init()}initModel(){for(const a of this.fieldRow)a.initModel()}initField(a){this.sourceBlock.rendered?a.init():a.initModel()}dispose(){for(let a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose()}makeConnection(a){return this.sourceBlock.makeConnection_(a)}},module$build$src$core$inputs$input={};module$build$src$core$inputs$input.Input=Input$$module$build$src$core$inputs$input;var DummyInput$$module$build$src$core$inputs$dummy_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},module$build$src$core$inputs$dummy_input={};module$build$src$core$inputs$dummy_input.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;var EndRowInput$$module$build$src$core$inputs$end_row_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},module$build$src$core$inputs$end_row_input={};module$build$src$core$inputs$end_row_input.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;var StatementInput$$module$build$src$core$inputs$statement_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){if(!a)throw Error(\"Statement inputs must have a non-empty name\");super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT;this.connection=this.makeConnection(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)}},module$build$src$core$inputs$statement_input={};\nmodule$build$src$core$inputs$statement_input.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;var module$build$src$core$inputs$value_input;$.ValueInput$$module$build$src$core$inputs$value_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){if(!a)throw Error(\"Value inputs must have a non-empty name\");super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.VALUE;this.connection=this.makeConnection(ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE)}};module$build$src$core$inputs$value_input={};\nmodule$build$src$core$inputs$value_input.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;var module$build$src$core$interfaces$i_icon={};module$build$src$core$interfaces$i_icon.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;var module$build$src$core$interfaces$i_comment_icon={};module$build$src$core$interfaces$i_comment_icon.isCommentIcon=isCommentIcon$$module$build$src$core$interfaces$i_comment_icon;var Block$$module$build$src$core$block=class{constructor(a,b,c){this.data=null;this.disposed=!1;this.hue=null;this.colour_=\"#000000\";this.styleName_=\"\";this.suppressPrefixSuffix=!1;this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.icons=[];this.disabledReasons=new Set;this.tooltip=\"\";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable=this.movable=this.deletable=!0;this.collapsed_=this.shadow=!1;this.outputShape_=null;this.rendered=\nthis.isInsertionMarker_=this.initialized=this.disposing=!1;this.onchangeWrapper=this.helpUrl=null;this.statementInputCount=0;this.workspace=a;this.id=c&&!a.getBlockById(c)?c:genUid$$module$build$src$core$utils$idgenerator();a.setBlockById(this.id,this);this.xy=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.isInFlyout=a.isFlyout;this.isInMutator=a.isMutator;this.RTL=a.RTL;if(b){this.type=b;c=Blocks$$module$build$src$core$blocks[b];if(!c||typeof c!==\"object\")throw TypeError(\"Invalid block definition for type: \"+\nb);Object.assign(this,c)}a.addTopBlock(this);a.addTypedBlock(this);new.target===Block$$module$build$src$core$block&&this.doInit_()}doInit_(){const a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);const b=getRecordUndo$$module$build$src$core$events$utils();try{typeof this.init===\"function\"&&($.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),$.setRecordUndo$$module$build$src$core$events$utils(b)),isEnabled$$module$build$src$core$events$utils()&&\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(this))}finally{$.setGroup$$module$build$src$core$events$utils(a),$.setRecordUndo$$module$build$src$core$events$utils(b)}this.inputsInlineDefault=this.inputsInline;typeof this.onchange===\"function\"&&this.setOnChange(this.onchange)}dispose(a=!1){this.disposing=!0;this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.unplug(a);\nisEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DELETE))(this));this.workspace.removeTopBlock(this);this.disposeInternal()}disposeInternal(){this.disposing=!0;this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.workspace.removeTypedBlock(this);this.workspace.removeBlockById(this.id);typeof this.destroy===\"function\"&&this.destroy();\nthis.childBlocks_.forEach(a=>a.disposeInternal());this.inputList.forEach(a=>a.dispose());this.inputList.length=0;this.getConnections_(!0).forEach(a=>a.dispose());this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const a of this.inputList)a.initModel();this.initialized=!0}}unplug(a){this.outputConnection&&this.unplugFromRow(a);this.previousConnection&&this.unplugFromStack(a)}unplugFromRow(a){let b=null,c;if((c=this.outputConnection)==null?0:\nc.isConnected())b=this.outputConnection.targetConnection,this.outputConnection.disconnect();b&&a&&(a=this.getOnlyValueConnection())&&a.isConnected()&&!a.targetBlock().isShadow()&&(a=a.targetConnection,a==null||a.disconnect(),this.workspace.connectionChecker.canConnect(a,b,!1)?b.connect(a):a==null||a.onFailedConnect(b))}getOnlyValueConnection(){let a=null;for(let b=0;b<this.inputList.length;b++){const c=this.inputList[b].connection;if(c&&c.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&\nc.targetConnection){if(a)return null;a=c}}return a}unplugFromStack(a){let b=null,c;if((c=this.previousConnection)==null?0:c.isConnected())b=this.previousConnection.targetConnection,this.previousConnection.disconnect();if(a){for(a=this.getNextBlock();a&&(a.isShadow()||!a.isMovable());)a=a.getNextBlock();if(a){var d,e,f,g;a=(g=(d=a.previousConnection)==null?void 0:(e=d.targetBlock())==null?void 0:(f=e.nextConnection)==null?void 0:f.targetConnection)!=null?g:null;a==null||a.disconnect();b&&this.workspace.connectionChecker.canConnect(b,\na,!1)&&b.connect(a)}}}getConnections_(a){a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(let b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a}lastConnectionInStack(a){let b=this.nextConnection;for(;b;){const c=b.targetBlock();if(!c||a&&c.isShadow())return b;b=c.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(a){for(let b=\n0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()===a)return c;return null}getSurroundParent(){let a=this,b;do if(b=a,a=a.getParent(),!a)return null;while(a.getNextBlock()===b);return a}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let a,b=this;do a=b,b=a.parentBlock_;while(b);return a}getTopStackBlock(){let a=this,b;do b=a.getPreviousBlock();\nwhile(b&&b.getNextBlock()===a&&(a=b));return a}getChildren(a){if(!a)return this.childBlocks_;a=[];for(let c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();b&&a.push(b)}(b=this.getNextBlock())&&a.push(b);return a}setParent(a){if(a!==this.parentBlock_){var b=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),c=!!b;if(c&&a&&b!==a)throw Error(\"Block connected to superior one that is not new parent.\");\nif(!c&&a)throw Error(\"Block not connected to new parent.\");if(c&&!a)throw Error(\"Cannot set parent to null while block is still connected to superior block.\");this.parentBlock_?removeElem$$module$build$src$core$utils$array(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(a){const b=[this],c=this.getChildren(a);for(let d,e=0;d=c[e];e++)b.push(...d.getDescendants(a));return b}isDeletable(){return this.deletable&&\n!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(a){this.deletable=a}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(a){this.movable=a}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(this,!0)):!0}isShadow(){return this.shadow}setShadow(a){this.shadow=\na}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(a){this.isInsertionMarker_=a}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(a){this.editable=a;for(const b of this.getFields())b.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const a of this.inputList)if(a.connection||a.fieldRow.length>1)return!1;return!0}getMatchingConnection(a,\nb){const c=this.getConnections_(!0);a=a.getConnections_(!0);if(c.length!==a.length)throw Error(\"Connection lists did not match in length.\");for(let d=0;d<a.length;d++)if(a[d]===b)return c[d];return null}setHelpUrl(a){this.helpUrl=a}setTooltip(a){this.tooltip=a}getTooltip(){return getTooltipOfObject$$module$build$src$core$tooltip(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(a){a=parseBlockColour$$module$build$src$core$utils$parsing(a);\nthis.hue=a.hue;this.colour_=a.hex}setStyle(a){this.styleName_=a}setOnChange(a){if(a&&typeof a!==\"function\")throw Error(\"onchange must be a function.\");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.onchange=a;this.onchangeWrapper=a.bind(this);this.workspace.addChangeListener(this.onchangeWrapper)}getField(a){if(typeof a!==\"string\")throw TypeError(\"Block.prototype.getField expects a string with the field name but received \"+(a===void 0?\"nothing\":a+\" of type \"+\ntypeof a)+\" instead\");for(const b of this.getFields())if(b.name===a)return b;return null}*getFields(){for(const a of this.inputList)for(const b of a.fieldRow)yield b}getVars(){const a=[];for(const b of this.getFields())b.referencesVariables()&&a.push(b.getValue());return a}getVarModels(){const a=[];for(const b of this.getFields())if(b.referencesVariables()){const c=this.workspace.getVariableById(b.getValue());c&&a.push(c)}return a}updateVarName(a){for(const b of this.getFields())b.referencesVariables()&&\na.getId()===b.getValue()&&b.refreshVariableName()}renameVarById(a,b){for(const c of this.getFields())c.referencesVariables()&&a===c.getValue()&&c.setValue(b)}getFieldValue(a){return(a=this.getField(a))?a.getValue():null}setFieldValue(a,b){const c=this.getField(b);if(!c)throw Error('Field \"'+b+'\" not found.');c.setValue(a)}setPreviousStatement(a,b){if(a)b===void 0&&(b=null),this.previousConnection||(this.previousConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT)),\nthis.previousConnection.setCheck(b);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error(\"Must disconnect previous statement before removing connection.\");this.previousConnection.dispose();this.previousConnection=null}}setNextStatement(a,b){if(a)b===void 0&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error(\"Must disconnect next statement before removing connection.\");\nthis.nextConnection.dispose();this.nextConnection=null}}setOutput(a,b){if(a)b===void 0&&(b=null),this.outputConnection||(this.outputConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)),this.outputConnection.setCheck(b);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error(\"Must disconnect output value before removing connection.\");this.outputConnection.dispose();this.outputConnection=null}}setInputsInline(a){this.inputsInline!==\na&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"inline\",null,this.inputsInline,a)),this.inputsInline=a)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof DummyInput$$module$build$src$core$inputs$dummy_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!1;\nfor(a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof $.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!0;for(a=0;a<this.inputList.length;a++)if(this.inputList[a]instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)return!0;return!1}setOutputShape(a){this.outputShape_=a}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(a,\nb){a||this.workspace.options.disable||!this.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants)||b==MANUALLY_DISABLED$$module$build$src$core$constants||this.setDisabledReason(!1,MANUALLY_DISABLED$$module$build$src$core$constants);this.disabledReasons.has(b)!==a&&(a?this.disabledReasons.add(b):this.disabledReasons.delete(b),a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"disabled\",null,!a,a),a.setDisabledReason(b),fire$$module$build$src$core$events$utils(a))}getInheritedDisabled(){let a=\nthis.getSurroundParent();for(;a;){if(!a.isEnabled())return!0;a=a.getSurroundParent()}return!1}hasDisabledReason(a){return this.disabledReasons.has(a)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(a){this.collapsed_!==a&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"collapsed\",null,this.collapsed_,a)),this.collapsed_=a)}toString(a,b){b=this.toTokens(b);\nfor(let d=2;d<b.length;d++)b[d-2]===\"(\"&&b[d]===\")\"&&(b[d-2]=b[d-1],b.splice(d-1,2));let c=\"\";b=b.reduce((d,e)=>{d=d+(c===\"(\"||e===\")\"?\"\":\" \")+e;c=e[e.length-1];return d},\"\");b=b.trim()||\"???\";a&&b.length>a&&(b=b.substring(0,a-3)+\"...\");return b}toTokens(a=\"?\"){const b=[];for(const d of this.inputList)if(d.name!=COLLAPSED_INPUT_NAME$$module$build$src$core$constants){for(const e of d.fieldRow)b.push(e.getText());if(d.connection){const e=d.connection.targetBlock();if(e){var c=d.connection;let f=c.getCheck();\n!f&&c.targetConnection&&(f=c.targetConnection.getCheck());(c=!!f&&(f.includes(\"Boolean\")||f.includes(\"Number\")))&&b.push(\"(\");b.push(...e.toTokens(a));c&&b.push(\")\")}else b.push(a)}}return b}appendValueInput(a){return this.appendInput(new $.ValueInput$$module$build$src$core$inputs$value_input(a,this))}appendStatementInput(a){this.statementInputCount++;return this.appendInput(new StatementInput$$module$build$src$core$inputs$statement_input(a,this))}appendDummyInput(a=\"\"){return this.appendInput(new DummyInput$$module$build$src$core$inputs$dummy_input(a,\nthis))}appendEndRowInput(a=\"\"){return this.appendInput(new EndRowInput$$module$build$src$core$inputs$end_row_input(a,this))}appendInput(a){this.inputList.push(a);return a}appendInputFromRegistry(a,b){return(a=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a,!1))?this.appendInput(new a(b,this)):null}jsonInit(a){var b=a.type?'Block \"'+a.type+'\": ':\"\";if(a.output&&a.previousStatement)throw Error(b+\"Must not have both an output and a previousStatement.\");for(var c=\n0;a[\"args\"+c];){if(a[\"message\"+c]===void 0)throw Error(b+`args${c} must have a corresponding message (message${c}).`);c++}a.style&&a.style.hat&&(this.hat=a.style.hat,a.style=null);if(a.style&&a.colour)throw Error(b+\"Must not have both a colour and a style.\");a.style?this.jsonInitStyle(a,b):this.jsonInitColour(a,b);for(c=0;a[\"message\"+c]!==void 0;)this.interpolate(a[\"message\"+c],a[\"args\"+c]||[],a[\"implicitAlign\"+c]||a[\"lastDummyAlign\"+c],b),c++;a.inputsInline!==void 0&&($.disable$$module$build$src$core$events$utils(),\nthis.setInputsInline(a.inputsInline),$.enable$$module$build$src$core$events$utils());a.output!==void 0&&this.setOutput(!0,a.output);a.outputShape!==void 0&&this.setOutputShape(a.outputShape);a.previousStatement!==void 0&&this.setPreviousStatement(!0,a.previousStatement);a.nextStatement!==void 0&&this.setNextStatement(!0,a.nextStatement);a.tooltip!==void 0&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip),this.setTooltip(c));a.enableContextMenu!==void 0&&(this.contextMenu=\n!!a.enableContextMenu);a.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!a.suppressPrefixSuffix);a.helpUrl!==void 0&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.helpUrl),this.setHelpUrl(c));typeof a.extensions===\"string\"&&(console.warn(b+\"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '\"+a.type+\"' block.\"),a.extensions=[a.extensions]);a.mutator!==void 0&&apply$$module$build$src$core$extensions(a.mutator,this,!0);a=a.extensions;\nif(Array.isArray(a))for(b=0;b<a.length;b++)apply$$module$build$src$core$extensions(a[b],this,!1)}jsonInitColour(a,b){if(\"colour\"in a)if(a.colour===void 0)console.warn(b+\"Undefined colour value.\");else{a=a.colour;try{this.setColour(a)}catch(c){console.warn(b+\"Illegal colour value: \",a)}}}jsonInitStyle(a,b){a=a.style;try{this.setStyle(a)}catch(c){console.warn(b+\"Style does not exist: \",a)}}mixin(a,b){if(b!==void 0&&typeof b!==\"boolean\")throw Error(\"opt_disableCheck must be a boolean if provided\");if(!b){b=\n[];for(const c in a)this[c]!==void 0&&b.push(c);if(b.length)throw Error(\"Mixin will overwrite block members: \"+JSON.stringify(b));}Object.assign(this,a)}interpolate(a,b,c,d){a=tokenizeInterpolation$$module$build$src$core$utils$parsing(a);this.validateTokens(a,b.length);b=this.interpolateArguments(a,b,c);c=[];for(let e=0,f;f=b[e];e++)if(this.isInputKeyword(f.type)){if(a=this.inputFromJson(f,d)){for(let g=0,h;h=c[g];g++)a.appendField(h[0],h[1]);c.length=0}}else(a=this.fieldFromJson(f))&&c.push([a,f.name])}validateTokens(a,\nb){const c=[];let d=0;for(let e=0;e<a.length;e++){const f=a[e];if(typeof f===\"number\"){if(f<1||f>b)throw Error('Block \"'+this.type+'\": Message index %'+f+\" out of range.\");if(c[f])throw Error('Block \"'+this.type+'\": Message index %'+f+\" duplicated.\");c[f]=!0;d++}}if(d!==b)throw Error('Block \"'+this.type+'\": Message does not reference all '+b+\" arg(s).\");}interpolateArguments(a,b,c){const d=[];for(let f=0;f<a.length;f++){var e=a[f];typeof e===\"number\"&&(e=b[e-1]);if(typeof e===\"string\")if(e===\"\\n\")e=\n{type:\"input_end_row\"},c&&(e.align=c);else if(e=this.stringToFieldJson(e),!e)continue;d.push(e)}(a=d.length)&&!this.isInputKeyword(d[a-1].type)&&(a={type:\"input_dummy\"},c&&(a.align=c),d.push(a));return d}fieldFromJson(a){const b=$.fromJson$$module$build$src$core$field_registry(a);return!b&&a.alt?typeof a.alt===\"string\"?(a=this.stringToFieldJson(a.alt))?this.fieldFromJson(a):null:this.fieldFromJson(a.alt):b}inputFromJson(a,b){var c={LEFT:$.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:$.Align$$module$build$src$core$inputs$align.RIGHT,\nCENTRE:$.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:$.Align$$module$build$src$core$inputs$align.CENTRE};let d;switch(a.type){case \"input_value\":d=this.appendValueInput(a.name);break;case \"input_statement\":d=this.appendStatementInput(a.name);break;case \"input_dummy\":d=this.appendDummyInput(a.name);break;case \"input_end_row\":d=this.appendEndRowInput(a.name);break;default:d=this.appendInputFromRegistry(a.type,a.name)}if(!d)return null;a.check&&d.setCheck(a.check);a.align&&(c=c[a.align.toUpperCase()],\nc===void 0?console.warn(b+\"Illegal align value: \",a.align):d.setAlign(c));return d}isInputKeyword(a){return a===\"input_value\"||a===\"input_statement\"||a===\"input_dummy\"||a===\"input_end_row\"||hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a)}stringToFieldJson(a){return(a=a.trim())?{type:\"field_label\",text:a}:null}moveInputBefore(a,b){if(a!==b){var c=-1,d=b?-1:this.inputList.length;for(let e=0,f;f=this.inputList[e];e++)if(f.name===a){if(c=e,d!==-1)break}else if(b&&\nf.name===b&&(d=e,c!==-1))break;if(c===-1)throw Error('Named input \"'+a+'\" not found.');if(d===-1)throw Error('Reference input \"'+b+'\" not found.');this.moveNumberedInputBefore(c,d)}}moveNumberedInputBefore(a,b){if(a===b)throw Error(\"Can't move input to itself.\");if(a>=this.inputList.length)throw RangeError(\"Input index \"+a+\" out of bounds.\");if(b>this.inputList.length)throw RangeError(\"Reference input \"+b+\" out of bounds.\");const c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,\n0,c)}removeInput(a,b){for(let c=0,d;d=this.inputList[c];c++)if(d.name===a)return d instanceof StatementInput$$module$build$src$core$inputs$statement_input&&this.statementInputCount--,d.dispose(),this.inputList.splice(c,1),!0;if(b)return!1;throw Error(\"Input not found: \"+a);}getInput(a){for(let b=0,c;c=this.inputList[b];b++)if(c.name===a)return c;return null}getInputTargetBlock(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()}getCommentText(){let a,b;return(b=(a=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT))==\nnull?void 0:a.getText())!=null?b:null}setCommentText(a){var b;let c;const d=(c=(b=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT))==null?void 0:b.getText())!=null?c:null;if(d!==a){if(a!==null){b=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);if(!b){b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,IconType$$module$build$src$core$icons$icon_types.COMMENT.toString(),!1);if(!b)throw Error(\"No comment icon class is registered, so a comment cannot be set\");\nb=new b(this);if(!isCommentIcon$$module$build$src$core$interfaces$i_comment_icon(b))throw Error(\"The class registered as a comment icon does not conform to the ICommentIcon interface\");b=this.addIcon(b)}$.disable$$module$build$src$core$events$utils();b.setText(a);$.enable$$module$build$src$core$events$utils()}else this.removeIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\n\"comment\",null,d,a))}}setWarningText(a,b){}setMutator(a){}addIcon(a){if(this.hasIcon(a.getType()))throw new DuplicateIconType$$module$build$src$core$icons$exceptions(a);this.icons.push(a);this.icons.sort((b,c)=>b.getWeight()-c.getWeight());return a}removeIcon(a){if(!this.hasIcon(a))return!1;let b;(b=this.getIcon(a))==null||b.dispose();this.icons=this.icons.filter(c=>!c.getType().equals(a));return!0}hasIcon(a){return this.icons.some(b=>b.getType().equals(a))}getIcon(a){return a instanceof IconType$$module$build$src$core$icons$icon_types?\nthis.icons.find(b=>b.getType().equals(a)):this.icons.find(b=>b.getType().toString()===a)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(a,b,c){if(this.parentBlock_)throw Error(\"Block has parent\");const d=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this);c&&d.setReason(c);this.xy.translate(a,b);d.recordNew();fire$$module$build$src$core$events$utils(d)}makeConnection_(a){return new Connection$$module$build$src$core$connection(this,\na)}allInputsFilled(a){a===void 0&&(a=!0);if(!a&&this.isShadow())return!1;for(let c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();if(!b||!b.allInputsFilled(a))return!1}return(b=this.getNextBlock())?b.allInputsFilled(a):!0}toDevString(){let a=this.type?'\"'+this.type+'\" block':\"Block\";this.id&&(a+=' (id=\"'+this.id+'\")');return a}};Block$$module$build$src$core$block.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;\nBlock$$module$build$src$core$block.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;var module$build$src$core$block={};module$build$src$core$block.Block=Block$$module$build$src$core$block;var disconnectPid$$module$build$src$core$block_animations=null,wobblingBlock$$module$build$src$core$block_animations=null,module$build$src$core$block_animations={};module$build$src$core$block_animations.connectionUiEffect=connectionUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiEffect=disconnectUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiStop=disconnectUiStop$$module$build$src$core$block_animations;\nmodule$build$src$core$block_animations.disposeUiEffect=disposeUiEffect$$module$build$src$core$block_animations;var BlockPaster$$module$build$src$core$clipboard$block_paster=class{paste(a,b,c){if(!b.isCapacityAvailable(a.typeCounts))return null;c&&(a.blockState.x=c.x,a.blockState.y=c.y);c=c||new Coordinate$$module$build$src$core$utils$coordinate(a.blockState.x||0,a.blockState.y||0);$.disable$$module$build$src$core$events$utils();let d;try{d=append$$module$build$src$core$serialization$blocks(a.blockState,b),moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster(d,c)}finally{$.enable$$module$build$src$core$events$utils()}if(!d)return d;\nisEnabled$$module$build$src$core$events$utils()&&!d.isShadow()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(d));const e=d;finishQueuedRenders$$module$build$src$core$render_management().then(()=>$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e));return d}};BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE=\"block\";\nregister$$module$build$src$core$clipboard$registry(BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,new BlockPaster$$module$build$src$core$clipboard$block_paster);var module$build$src$core$clipboard$block_paster={};module$build$src$core$clipboard$block_paster.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard$block_paster.moveBlockToNotConflict=moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster;var bumpIntoBounds$$module$build$src$core$bump_objects=bumpObjectIntoBounds$$module$build$src$core$bump_objects,module$build$src$core$bump_objects={};module$build$src$core$bump_objects.bumpIntoBounds=bumpObjectIntoBounds$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpIntoBoundsHandler=bumpIntoBoundsHandler$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpTopObjectsIntoBounds=bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects;var BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy=class{constructor(a){this.block=a;this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null;this.dragging=!1;this.dragOffset=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.originalEventGroup=\"\";this.workspace=a.workspace}isMovable(){if(this.block.isShadow()){let a,b;return(b=(a=this.block.getParent())==null?void 0:a.isMovable())!=null?b:!1}return this.block.isOwnMovable()&&\n!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(a){if(this.block.isShadow())this.startDraggingShadow(a);else{this.dragging=!0;this.fireDragStartEvent();this.startLoc=this.block.getRelativeToSurfaceXY();this.connectionCandidate=null;this.connectionPreviewer=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_PREVIEWER,this.workspace.options))(this.block);startTextWidthCache$$module$build$src$core$utils$dom();\nthis.workspace.setResizesEnabled(!1);disconnectUiStop$$module$build$src$core$block_animations();a=this.shouldHealStack(a);this.shouldDisconnect(a)&&this.disconnectBlock(a);this.block.setDragging(!0);var b;(b=this.workspace.getLayerManager())==null||b.moveToDragLayer(this.block)}}shouldHealStack(a){return!!a&&(a.altKey||a.ctrlKey||a.metaKey)}startDraggingShadow(a){const b=this.block.getParent();if(!b)throw Error(\"Tried to drag a shadow block with no parent. Shadow blocks should always have parents.\");\nthis.dragOffset=Coordinate$$module$build$src$core$utils$coordinate.difference(b.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY());b.startDrag(a)}shouldDisconnect(a){return!!(this.block.getParent()||a&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(a){let b,c,d;this.startParentConn=(d=(b=this.block.outputConnection)==null?void 0:b.targetConnection)!=null?d:(c=this.block.previousConnection)==null?void 0:c.targetConnection;if(a){let e;this.startChildConn=\n(e=this.block.nextConnection)==null?void 0:e.targetConnection}this.block.unplug(a);disconnectUiEffect$$module$build$src$core$block_animations(this.block)}fireDragStartEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));fire$$module$build$src$core$events$utils(a)}fireDragEndEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DRAG))(this.block,\n!1,this.block.getDescendants(!1));fire$$module$build$src$core$events$utils(a)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this.block);a.setReason([\"drag\"]);a.oldCoordinate=this.startLoc;a.recordNew();fire$$module$build$src$core$events$utils(a)}}drag(a){if(this.block.isShadow()){let b;(b=this.block.getParent())==null||b.drag(Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.dragOffset))}else this.block.moveDuringDrag(a),\nthis.updateConnectionPreview(this.block,Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.startLoc))}updateConnectionPreview(a,b){var c=this.connectionCandidate;const d=this.getConnectionCandidate(a,b);if(d){this.connectionCandidate=b=c&&this.currCandidateIsBetter(c,b,d)?c:d;var {local:e,neighbour:f}=b;b=e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;var g;c=f.isConnected()&&\n!((g=f.targetBlock())==null?0:g.isInsertionMarker());if(b&&c&&!this.orphanCanConnectAtEnd(a,f.targetBlock(),e.type)){let k;(k=this.connectionPreviewer)==null||k.previewReplacement(e,f,f.targetBlock())}else{var h;(h=this.connectionPreviewer)==null||h.previewConnection(e,f)}}else{let k;(k=this.connectionPreviewer)==null||k.hidePreview();this.connectionCandidate=null}}orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?\nb.outputConnection:b.previousConnection)}currCandidateIsBetter(a,b,c){const {local:d,neighbour:e}=a;a=new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y);const f=new Coordinate$$module$build$src$core$utils$coordinate(e.x,e.y);b=Coordinate$$module$build$src$core$utils$coordinate.distance(Coordinate$$module$build$src$core$utils$coordinate.sum(a,b),f);return c.distance>b-$.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(a,b){a=this.getLocalConnections(a);\nlet c=this.getSearchRadius(),d=null;for(const e of a){const {connection:f,radius:g}=e.closest(c,b);f&&(d={local:e,neighbour:f,distance:g},c=g)}return d}getSearchRadius(){return this.connectionCandidate?$.config$$module$build$src$core$config.connectingSnapRadius:$.config$$module$build$src$core$config.snapRadius}getLocalConnections(a){const b=a.getConnections_(!1),c=a.lastConnectionInStack(!0);c&&c!==a.nextConnection&&b.push(c);return b}endDrag(a){if(this.block.isShadow()){let c;(c=this.block.getParent())==\nnull||c.endDrag(a)}else{this.originalEventGroup=$.getGroup$$module$build$src$core$events$utils();this.fireDragEndEvent();this.fireMoveEvent();stopTextWidthCache$$module$build$src$core$utils$dom();disconnectUiStop$$module$build$src$core$block_animations();var b;(b=this.connectionPreviewer)==null||b.hidePreview();if(!this.block.isDeadOrDying()&&this.dragging){let c;(c=this.workspace.getLayerManager())==null||c.moveOffDragLayer(this.block,BLOCK$$module$build$src$core$layers);this.block.setDragging(!1)}this.connectionCandidate?\n(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const a=$.getGroup$$module$build$src$core$events$utils();$.setGroup$$module$build$src$core$events$utils(this.originalEventGroup);this.block.snapToGrid();let b;(b=this.connectionPreviewer)==null||b.dispose();this.workspace.setResizesEnabled(!0);$.setGroup$$module$build$src$core$events$utils(a)}applyConnections(a){const {local:b,neighbour:c}=a;b.connect(c);const d=\nb.isSuperior()?c:b,e=this.block.getRootBlock();finishQueuedRenders$$module$build$src$core$render_management().then(()=>{connectionUiEffect$$module$build$src$core$block_animations(d.getSourceBlock());setTimeout(()=>{e.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let c;(c=this.block.getParent())==null||c.revertDrag()}else{var a;(a=this.connectionPreviewer)==null||a.hidePreview();this.connectionCandidate=null;var b;(b=this.startChildConn)==null||b.connect(this.block.nextConnection);if(this.startParentConn)switch(this.startParentConn.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);\nbreak;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,[\"drag\"]);let c;(c=this.workspace.getLayerManager())==null||c.moveOffDragLayer(this.block,BLOCK$$module$build$src$core$layers);bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null;this.block.setDragging(!1);\nthis.dragging=!1}}},module$build$src$core$dragging$block_drag_strategy={};module$build$src$core$dragging$block_drag_strategy.BlockDragStrategy=BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy;var TextBubble$$module$build$src$core$bubbles$text_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(b,c,d);this.text=a;this.workspace=b;this.anchor=c;this.ownerRect=d;this.paragraph=this.stringToSvg(a,this.contentContainer);this.updateBubbleSize();addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyTextBubble\")}getText(){return this.text}setText(a){this.text=a;removeNode$$module$build$src$core$utils$dom(this.paragraph);this.paragraph=this.stringToSvg(a,\nthis.contentContainer);this.updateBubbleSize()}stringToSvg(a,b){b=this.createParagraph(b);a=this.createTextFragments(b,a);this.workspace.RTL&&this.rightAlignTextFragments(b.getBBox().width,a);return b}createParagraph(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyText blocklyBubbleText blocklyNoPointerEvents\",transform:`translate(0,${Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?\n\"rtl\":\"ltr\"}`},a)}createTextFragments(a,b){let c=1;return b.split(\"\\n\").map(d=>{const e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{y:`${c}em`,x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);d=document.createTextNode(d);e.appendChild(d);c+=1;return e})}rightAlignTextFragments(a,b){for(const c of b)c.setAttribute(\"text-anchor\",\"start\"),c.setAttribute(\"x\",`${a+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH}`)}updateBubbleSize(){const a=\nthis.paragraph.getBBox();this.setSize(new Size$$module$build$src$core$utils$size(a.width+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2,a.height+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2),!0)}},module$build$src$core$bubbles$text_bubble={};module$build$src$core$bubbles$text_bubble.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;var SIZE$$module$build$src$core$icons$warning_icon=17,WarningIcon$$module$build$src$core$icons$warning_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a){super(a);this.sourceBlock=a;this.textMap=new Map;this.textBubble=null}getType(){return WarningIcon$$module$build$src$core$icons$warning_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconShape\",d:\"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconSymbol\",x:\"7\",y:\"11\",height:\"2\",width:\"2\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyWarningIcon\"))}dispose(){super.dispose();let a;(a=this.textBubble)==null||\na.dispose()}getWeight(){return WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$warning_icon,SIZE$$module$build$src$core$icons$warning_icon)}applyColour(){super.applyColour();let a;(a=this.textBubble)==null||a.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(a){super.onLocationChange(a);let b;(b=this.textBubble)==null||b.setAnchorLocation(this.getAnchorLocation())}addMessage(a,\nb){if(this.textMap.get(b)===a)return this;a?this.textMap.set(b,a):this.textMap.delete(b);let c;(c=this.textBubble)==null||c.setText(this.getText());return this}getText(){return[...this.textMap.values()].join(\"\\n\")}onClick(){super.onClick();this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){if(b.bubbleIsVisible()!==a){yield finishQueuedRenders$$module$build$src$core$render_management();\nif(a)b.textBubble=new TextBubble$$module$build$src$core$bubbles$text_bubble(b.getText(),b.sourceBlock.workspace,b.getAnchorLocation(),b.getBubbleOwnerRect()),b.applyColour();else{let c;(c=b.textBubble)==null||c.dispose();b.textBubble=null}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,a,\"warning\"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$warning_icon/\n2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){const a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}};WarningIcon$$module$build$src$core$icons$warning_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.WARNING;WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT=2;\nvar module$build$src$core$icons$warning_icon={};module$build$src$core$icons$warning_icon.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;var BlockSvg$$module$build$src$core$block_svg=class extends Block$$module$build$src$core$block{constructor(a,b,c){super(a,b,c);this.childlessWidth=this.width=this.height=0;this.warningTextDb=new Map;this.mutator=null;this.rendered=!0;this.visuallyDisabled=!1;this.translation=\"\";this.dragging=!1;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.dragStrategy=new BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy(this);if(!a.rendered)throw TypeError(\"Cannot create a rendered block in a headless workspace\");\nthis.workspace=a;this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});b&&addClass$$module$build$src$core$utils$dom(this.svgGroup,b);this.style=a.getRenderer().getConstants().getBlockStyle(null);this.pathObject=a.getRenderer().makePathObject(this.svgGroup,this.style);a=this.pathObject.svgPath;a.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(a);this.svgGroup.setAttribute(\"data-id\",this.id);a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();\nthis.doInit_()}initSvg(){if(!this.initialized){for(var a of this.inputList)a.init();for(const b of this.getIcons())b.initView(this.createIconPointerDownListener(b)),b.updateEditable();this.applyColour();this.pathObject.updateMovable(this.isMovable()||this.isInFlyout);(a=this.getSvgRoot())&&conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onMouseDown);a.parentNode||this.workspace.getCanvas().appendChild(a);this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect();\nfireSelectedEvent$$module$build$src$core$common(this)}unselect(){this.removeSelect();fireSelectedEvent$$module$build$src$core$common(null)}setParent(a){var b=this.parentBlock_;if(a!==b){startTextWidthCache$$module$build$src$core$utils$dom();super.setParent(a);stopTextWidthCache$$module$build$src$core$utils$dom();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY(),e=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),f,g=this.getSvgRoot().contains((f=\ne==null?void 0:e.getFocusableElement())!=null?f:null);a?(a.getSvgRoot().appendChild(c),g&&e&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)):b&&(a=this.workspace.getCanvas().querySelector(\".blocklyDragging\"),b=a==null?void 0:a.parentElement,f=this.workspace.getCanvas(),b===f?f.insertBefore(c,a):(f.appendChild(c),g&&e&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)),this.translate(d.x,d.y));this.applyColour()}}}getRelativeToSurfaceXY(){const a=this.workspace.getLayerManager();\nif(!a)throw Error(\"Cannot calculate position because the workspace has not been appended\");let b=0,c=0,d=this.getSvgRoot();if(d){do{const e=getRelativeXY$$module$build$src$core$utils$svg_math(d);b+=e.x;c+=e.y;d=d.parentNode}while(d&&!a.hasLayer(d))}return new Coordinate$$module$build$src$core$utils$coordinate(b,c)}moveBy(a,b,c){if(this.parentBlock_)throw Error(\"Block has parent\");const d=isEnabled$$module$build$src$core$events$utils();let e=null;d&&(e=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this),\nc&&e.setReason(c));a=new Coordinate$$module$build$src$core$utils$coordinate(a,b);b=this.getRelativeToSurfaceXY();a=Coordinate$$module$build$src$core$utils$coordinate.sum(b,a);this.translate(a.x,a.y);this.updateComponentLocations(a);d&&e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));this.workspace.resizeContents()}translate(a,b){this.translation=`translate(${a}, ${b})`;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(a,b);this.getSvgRoot().setAttribute(\"transform\",\nthis.getTranslation())}getTranslation(){return this.translation}moveTo(a,b){const c=this.getRelativeToSurfaceXY();this.moveBy(a.x-c.x,a.y-c.y,b)}moveDuringDrag(a){this.translate(a.x,a.y);this.getSvgRoot().setAttribute(\"transform\",this.getTranslation());this.updateComponentLocations(a)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var a=this.workspace.getGrid();if(a!=null&&a.shouldSnap()){var b=this.getRelativeToSurfaceXY();a=a.alignXY(b);a!==b&&this.moveTo(a,[\"snap\"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,\nwidth:this.childlessWidth})}getBoundingRectangleWithDimensions(a){const b=this.getRelativeToSurfaceXY();let c,d;this.RTL?(c=b.x-a.width,d=b.x):(c=b.x,d=b.x+a.width);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+a.height,c,d)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let a=0,b;b=this.inputList[a];a++)b.markDirty()}setCollapsed(a){this.collapsed_!==a&&(super.setCollapsed(a),this.updateCollapsed())}childHasWarning(){const a=this.getChildren(!1);\nfor(const b of a)if(b.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)||b.childHasWarning())return!0;return!1}updateCollapsed(){var a=this.isCollapsed();const b=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,c=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;for(let e=0,f;f=this.inputList[e];e++)f.name!==b&&f.setVisible(!a);for(var d of this.getIcons())d.updateCollapsed();a?(addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyCollapsed\"),this.childHasWarning()&&\nthis.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID),a=this.toString(COLLAPSE_CHARS$$module$build$src$core$internal_constants),(d=this.getField(c))?d.setValue(a):(this.getInput(b)||this.appendDummyInput(b)).appendField(new FieldLabel$$module$build$src$core$field_label(a),c)):(this.updateDisabled(),this.removeInput(b),removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyCollapsed\"),this.setWarningText(null,\nBlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID))}onMouseDown(a){if(!this.workspace.isReadOnly()){var b=this.workspace.getGesture(a);b&&b.handleBlockStart(a,this)}}showHelp(){const a=typeof this.helpUrl===\"function\"?this.helpUrl():this.helpUrl;a&&window.open(a)}generateContextMenu(a){if(this.workspace.isReadOnly()||!this.contextMenu)return null;a=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({block:this,focusedNode:this},a);this.customContextMenu&&\nthis.customContextMenu(a);return a}calculateContextMenuLocation(a){if(a instanceof PointerEvent)return new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);a=wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this.workspace,this.getRelativeToSurfaceXY());let b,c;const d=(b=this.inputList.filter(e=>e.isVisible()).flatMap(e=>e.fieldRow).find(e=>e.isVisible()))==null?void 0:(c=b.getSvgRoot())==null?void 0:c.getBoundingClientRect();return new Coordinate$$module$build$src$core$utils$coordinate(this.RTL?\na.x-5:a.x+5,(d&&d.height?d.y+d.height:a.y+this.height)+5)}showContextMenu(a){const b=this.generateContextMenu(a),c=this.calculateContextMenuLocation(a);b&&b.length&&(show$$module$build$src$core$contextmenu(a,b,this.RTL,this.workspace,c),setCurrentBlock$$module$build$src$core$contextmenu(this))}updateComponentLocations(a){this.dragging||this.updateConnectionLocations(a);this.updateIconLocations(a);this.updateFieldLocations(a);for(const b of this.getChildren(!1))b.updateComponentLocations(Coordinate$$module$build$src$core$utils$coordinate.sum(a,\nb.relativeCoords))}updateConnectionLocations(a){for(const b of this.getConnections_(!1))b.moveToOffset(a)}updateIconLocations(a){for(const b of this.getIcons())b.onLocationChange(a)}updateFieldLocations(a){for(const b of this.inputList)for(const c of b.fieldRow)c.onLocationChange(a)}addClass(a){addClass$$module$build$src$core$utils$dom(this.svgGroup,a)}removeClass(a){removeClass$$module$build$src$core$utils$dom(this.svgGroup,a)}setDragging(a){(this.dragging=a)?(this.translation=\"\",draggingConnections$$module$build$src$core$common.push(...this.getConnections_(!0)),\nthis.addClass(\"blocklyDragging\")):(draggingConnections$$module$build$src$core$common.length=0,this.removeClass(\"blocklyDragging\"));for(let b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a)}setMovable(a){super.setMovable(a);this.pathObject.updateMovable(a)}setEditable(a){super.setEditable(a);a?removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotEditable\"):addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotEditable\");a=this.getIcons();for(let b=\n0;b<a.length;b++)a[b].updateEditable()}setShadow(a){super.setShadow(a);this.applyColour()}setInsertionMarker(a){this.isInsertionMarker_!==a&&(this.isInsertionMarker_=a)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(a,b){this.disposing=!0;dispose$$module$build$src$core$tooltip();hide$$module$build$src$core$contextmenu();const c=$.getFocusManager$$module$build$src$core$focus_manager();\nvar d,e;if(this.getSvgRoot().contains((e=(d=c.getFocusedNode())==null?void 0:d.getFocusableElement())!=null?e:null)){d=this.getParent();if(!d){let f;if(e=(f=this.outputConnection)!=null?f:this.previousConnection){let g;d=(g=e.closest(0,new Coordinate$$module$build$src$core$utils$coordinate(0,0)).connection)==null?void 0:g.getSourceBlock()}}d?c.focusNode(d):setTimeout(()=>c.focusTree(this.workspace),0)}b&&(this.unplug(a),disposeUiEffect$$module$build$src$core$block_animations(this));super.dispose(!!a);\nremoveNode$$module$build$src$core$utils$dom(this.svgGroup)}disposeInternal(){this.disposing=!0;super.disposeInternal();$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture();[...this.warningTextDb.values()].forEach(a=>clearTimeout(a));this.warningTextDb.clear();this.getIcons().forEach(a=>a.dispose())}checkAndDelete(){this.workspace.isFlyout||($.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?\nthis.dispose(!1,!0):this.dispose(!0,!0),$.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(a=!1){return this.isInsertionMarker_?null:{paster:BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,blockState:save$$module$build$src$core$serialization$blocks(this,{addCoordinates:!0,addNextBlocks:a,saveIds:!1}),typeCounts:getBlockTypeCounts$$module$build$src$core$common(this,!0)}}applyColour(){var a,b;(b=(a=this.pathObject).applyColour)==null||b.call(a,this);a=this.getIcons();for(b=\n0;b<a.length;b++)a[b].applyColour();for(const c of this.getFields())c.applyColour()}updateDisabled(){const a=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===a){let b;(b=this.getNextBlock())==null||b.updateDisabled()}else{this.applyColour();this.visuallyDisabled=a;for(const b of this.getChildren(!1))b.updateDisabled()}}setWarningText(a,b=\"\"){if(b)this.warningTextDb.has(b)&&(clearTimeout(this.warningTextDb.get(b)),this.warningTextDb.delete(b));else{for(var c of this.warningTextDb.values())clearTimeout(c);\nthis.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(b,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(b),this.setWarningText(a,b))},100));else if(this.isInFlyout&&(a=null),c=this.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE),a){let d=this.getSurroundParent(),e=null;for(;d;)d.isCollapsed()&&(e=d),d=d.getSurroundParent();e&&e.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID);\nc?c.addMessage(a,b):this.addIcon((new WarningIcon$$module$build$src$core$icons$warning_icon(this)).addMessage(a,b))}else c&&(b?(c.addMessage(\"\",b),c.getText()||this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)):this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE))}setMutator(a){this.removeIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);a&&this.addIcon(a)}addIcon(a){super.addIcon(a);a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&\n(this.mutator=a);a.initView(this.createIconPointerDownListener(a));a.applyColour();a.updateEditable();this.queueRender();return a}createIconPointerDownListener(a){return b=>{this.isDeadOrDying()||(b=this.workspace.getGesture(b))&&b.setStartIcon(a)}}removeIcon(a){const b=super.removeIcon(a);a.equals($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null);this.queueRender();return b}setDisabledReason(a,b){const c=this.isEnabled();super.setDisabledReason(a,b);this.isEnabled()===\nc||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(a){super.setDeletable(a);a?removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotDeletable\"):addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotDeletable\")}setHighlighted(a){this.pathObject.updateHighlighted(a)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(a){this.pathObject.updateDraggingDelete(a)}getColour(){return this.style.colourPrimary}setColour(a){super.setColour(a);\na=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let b,c;(c=(b=this.pathObject).setStyle)==null||c.call(b,a.style);this.style=a.style;this.styleName_=a.name;this.applyColour()}setStyle(a){const b=this.workspace.getRenderer().getConstants().getBlockStyle(a);this.styleName_&&removeClass$$module$build$src$core$utils$dom(this.svgGroup,this.styleName_);if(b){this.hat=b.hat;let c,d;(d=(c=this.pathObject).setStyle)==null||d.call(c,b);this.colour_=b.colourPrimary;this.style=\nb;this.applyColour();addClass$$module$build$src$core$utils$dom(this.svgGroup,a);this.styleName_=a}else throw Error(\"Invalid style name: \"+a);}getStyle(){return this.style}bringToFront(a=!1){const b=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let c=this;if(!c.isDeadOrDying()){do{const d=c.getSvgRoot(),e=d.parentNode,f=e.childNodes;f[f.length-1]!==d&&e.appendChild(d);if(a)break;c=c.getParent()}while(c);b&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b)}}setPreviousStatement(a,\nb){super.setPreviousStatement(a,b);this.queueRender()}setNextStatement(a,b){super.setNextStatement(a,b);this.queueRender()}setOutput(a,b){super.setOutput(a,b);this.queueRender()}setInputsInline(a){super.setInputsInline(a);this.queueRender()}removeInput(a,b){a=super.removeInput(a,b);this.queueRender();return a}moveNumberedInputBefore(a,b){super.moveNumberedInputBefore(a,b);this.queueRender()}appendInput(a){super.appendInput(a);this.queueRender();return a}setConnectionTracking(a){this.previousConnection&&\nthis.previousConnection.setTracking(a);this.outputConnection&&this.outputConnection.setTracking(a);if(this.nextConnection){this.nextConnection.setTracking(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionTracking(a)}if(!this.collapsed_)for(b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.setTracking(a),(c=c.targetBlock())&&c.setConnectionTracking(a))}}getConnections_(a){const b=[];this.outputConnection&&b.push(this.outputConnection);this.previousConnection&&b.push(this.previousConnection);\nthis.nextConnection&&b.push(this.nextConnection);if(a||!this.collapsed_)for(let c=0,d;d=this.inputList[c];c++)d.connection&&b.push(d.connection);return b}lastConnectionInStack(a){return super.lastConnectionInStack(a)}getMatchingConnection(a,b){return super.getMatchingConnection(a,b)}makeConnection_(a){return new RenderedConnection$$module$build$src$core$rendered_connection(this,a)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const a=\nthis.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||a.isInFlyout))for(const b of this.getConnections_(!1)){if(b.isSuperior()){let c;(c=b.targetBlock())==null||c.bumpNeighbours()}for(const c of b.neighbours($.config$$module$build$src$core$config.snapRadius))c.getSourceBlock().getRootBlock()!==a&&(b.isConnected()&&c.isConnected()||(b.isSuperior()?c.bumpAwayFrom(b,!1):b.bumpAwayFrom(c,!0)))}}scheduleSnapAndBump(){this.snapToGrid();this.bumpNeighbours()}positionNearConnection(a,\nb,c){if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){let d=b.x;b=b.y;d+=c.x-a.getOffsetInBlock().x;b+=c.y-a.getOffsetInBlock().y;this.moveBy(d,b)}}getChildren(a){return super.getChildren(a)}queueRender(){return queueRender$$module$build$src$core$render_management(this)}render(){this.queueRender();triggerQueuedRenders$$module$build$src$core$render_management()}renderEfficiently(){startTextWidthCache$$module$build$src$core$utils$dom();\nthis.isCollapsed()&&this.updateCollapsed();this.isEnabled()||this.updateDisabled();this.workspace.getRenderer().render(this);this.tightenChildrenEfficiently();stopTextWidthCache$$module$build$src$core$utils$dom()}tightenChildrenEfficiently(){for(const a of this.inputList){const b=a.connection;b&&b.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let a=this.height,b=this.width;var c=this.getNextBlock();if(c){c=c.getHeightWidth();const d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;\na+=c.height-d;b=Math.max(b,c.width)}return{height:a,width:b}}fadeForReplacement(a){this.pathObject.updateReplacementFade(a)}highlightShapeForInput(a,b){this.pathObject.updateShapeForInputHighlight(a,b)}getDragStrategy(){return this.dragStrategy}setDragStrategy(a){this.dragStrategy=a}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(a){this.dragStrategy.startDrag(a)}drag(a,b){this.dragStrategy.drag(a,b)}endDrag(a){this.dragStrategy.endDrag(a)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const a=\nObject.assign({},{kind:\"BLOCK\"},save$$module$build$src$core$serialization$blocks(this)),b=new Set([\"id\",\"height\",\"width\",\"pinned\",\"enabled\"]),c=function(d){for(const e in d)b.has(e)?delete d[e]:typeof d[e]===\"object\"&&c(d[e])};c(a);return[a]}jsonInit(a){super.jsonInit(a);a.classes&&this.addClass(Array.isArray(a.classes)?a.classes.join(\" \"):a.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};\nBlockSvg$$module$build$src$core$block_svg.INLINE=-1;BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID=\"TEMP_COLLAPSED_WARNING_\";var module$build$src$core$block_svg={};module$build$src$core$block_svg.BlockSvg=BlockSvg$$module$build$src$core$block_svg;var DragTarget$$module$build$src$core$drag_target=class{constructor(){}onDragEnter(a){}onDragOver(a){}onDragExit(a){}onDrop(a){}getClientRect(){return null}shouldPreventMove(a){return!1}},module$build$src$core$drag_target={};module$build$src$core$drag_target.DragTarget=DragTarget$$module$build$src$core$drag_target;var module$build$src$core$interfaces$i_deletable={};module$build$src$core$interfaces$i_deletable.isDeletable=isDeletable$$module$build$src$core$interfaces$i_deletable;var DeleteArea$$module$build$src$core$delete_area=class extends DragTarget$$module$build$src$core$drag_target{constructor(){super();this.wouldDelete_=!1}wouldDelete(a){a instanceof BlockSvg$$module$build$src$core$block_svg?(a=!a.getParent()&&a.isDeletable(),this.updateWouldDelete_(a)):this.updateWouldDelete_(isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable());return this.wouldDelete_}updateWouldDelete_(a){this.wouldDelete_=a}},module$build$src$core$delete_area={};\nmodule$build$src$core$delete_area.DeleteArea=DeleteArea$$module$build$src$core$delete_area;var FlyoutItem$$module$build$src$core$flyout_item=class{constructor(a,b){this.element=a;this.type=b}getElement(){return this.element}getType(){return this.type}},module$build$src$core$flyout_item={};module$build$src$core$flyout_item.FlyoutItem=FlyoutItem$$module$build$src$core$flyout_item;var MetricsManager$$module$build$src$core$metrics_manager=class{constructor(a){this.workspace_=a}getDimensionsPx_(a){let b=0,c=0;a&&(b=a.getWidth(),c=a.getHeight());return new Size$$module$build$src$core$utils$size(b,c)}getFlyoutMetrics(a){a=this.getDimensionsPx_(this.workspace_.getFlyout(a));return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const a=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let a=\n0,b=0;const c=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;const g=!((f=this.workspace_.getFlyout())==null?0:f.autoClose);f=e?c.position:d.position;const h=f===Position$$module$build$src$core$utils$toolbox.TOP;f===Position$$module$build$src$core$utils$toolbox.LEFT&&(e&&(a+=c.width),g&&(a+=d.width));h&&(e&&(b+=c.height),g&&(b+=d.height));return{top:b,left:a}}getViewMetrics(a){a=a?this.workspace_.scale:1;const b=this.getSvgMetrics(),c=this.getToolboxMetrics(),\nd=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;const g=!((f=this.workspace_.getFlyout())==null?0:f.autoClose);f=e?c.position:d.position;const h=f===Position$$module$build$src$core$utils$toolbox.LEFT||f===Position$$module$build$src$core$utils$toolbox.RIGHT;if(f===Position$$module$build$src$core$utils$toolbox.TOP||f===Position$$module$build$src$core$utils$toolbox.BOTTOM)e&&(b.height-=c.height),g&&(b.height-=d.height);h&&(e&&(b.width-=c.width),g&&(b.width-=d.width));return{height:b.height/\na,width:b.width/a,top:-this.workspace_.scrollY/a,left:-this.workspace_.scrollX/a}}getContentMetrics(a){a=a?1:this.workspace_.scale;const b=this.workspace_.getBlocksBoundingBox();return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(a){if(!this.hasFixedEdges())return{};const b=this.workspace_.isMovableHorizontally(),c=this.workspace_.isMovableVertically();\na=a||this.getViewMetrics(!1);const d={};c||(d.top=a.top,d.bottom=a.top+a.height);b||(d.left=a.left,d.right=a.left+a.width);return d}getPaddedContent_(a,b){const c=b.top+b.height,d=b.left+b.width,e=a.width;a=a.height;const f=e/2,g=a/2;return{top:Math.min(b.top-g,c-a),bottom:Math.max(c+g,b.top+a),left:Math.min(b.left-f,d-e),right:Math.max(d+f,b.left+e)}}getScrollMetrics(a,b,c){a=a?this.workspace_.scale:1;b=b||this.getViewMetrics(!1);var d=c||this.getContentMetrics();c=this.getComputedFixedEdges_(b);\nb=this.getPaddedContent_(b,d);d=c.top!==void 0?c.top:b.top;const e=c.left!==void 0?c.left:b.left;return{top:d/a,left:e/a,width:((c.right!==void 0?c.right:b.right)-e)/a,height:((c.bottom!==void 0?c.bottom:b.bottom)-d)/a}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const a=this.getToolboxMetrics(),b=this.getFlyoutMetrics(!0),c=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),e=this.getViewMetrics(),\nf=this.getContentMetrics(),g=this.getScrollMetrics(!1,e,f);return{contentHeight:f.height,contentWidth:f.width,contentTop:f.top,contentLeft:f.left,scrollHeight:g.height,scrollWidth:g.width,scrollTop:g.top,scrollLeft:g.left,viewHeight:e.height,viewWidth:e.width,viewTop:e.top,viewLeft:e.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,toolboxPosition:a.position,flyoutWidth:b.width,flyoutHeight:b.height}}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,DEFAULT$$module$build$src$core$registry,MetricsManager$$module$build$src$core$metrics_manager);var module$build$src$core$metrics_manager={};module$build$src$core$metrics_manager.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;var FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager=class extends MetricsManager$$module$build$src$core$metrics_manager{constructor(a,b){super(a);this.flyout_=b}getBoundingBox(){let a;try{a=this.workspace_.getCanvas().getBBox()}catch(b){a={height:0,y:0,width:0,x:0}}return a}getContentMetrics(a){const b=this.getBoundingBox();a=a?1:this.workspace_.scale;return{height:b.height*a,width:b.width*a,top:b.y*a,left:b.x*a}}getScrollMetrics(a,b,c){b=c||this.getContentMetrics();c=this.flyout_.MARGIN*\nthis.workspace_.scale;a=a?this.workspace_.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}}},module$build$src$core$flyout_metrics_manager={};module$build$src$core$flyout_metrics_manager.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;var FlyoutButton$$module$build$src$core$flyout_button=class{constructor(a,b,c,d){this.workspace=a;this.targetWorkspace=b;this.isFlyoutLabel=d;this.height=this.width=0;this.cursorSvg=this.svgText=null;this.text=c.text;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.callbackKey=c.callbackKey||c.callbackkey;this.cssClass=c[\"web-class\"]||null;this.info=c;a=this.isFlyoutLabel?\"blocklyFlyoutLabel\":\"blocklyFlyoutButton\";this.cssClass&&(a+=\" \"+this.cssClass);this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();\nthis.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{id:this.id,\"class\":a},this.workspace.getCanvas());let e;this.isFlyoutLabel||(e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyFlyoutButtonShadow\",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,x:1,y:1},this.svgGroup));a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":this.isFlyoutLabel?\"blocklyFlyoutLabelBackground\":\"blocklyFlyoutButtonBackground\",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS},this.svgGroup);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{\"class\":this.isFlyoutLabel?\"blocklyFlyoutLabelText\":\"blocklyText\",x:0,y:0,\"text-anchor\":\"middle\"},this.svgGroup);c=replaceMessageReferences$$module$build$src$core$utils$parsing(this.text);\nthis.workspace.RTL&&(c+=\"\\u200f\");b.textContent=c;this.isFlyoutLabel&&(this.svgText=b,this.workspace.getThemeManager().subscribe(this.svgText,\"flyoutForegroundColour\",\"fill\"));d=getComputedStyle$$module$build$src$core$utils$style(b,\"fontSize\");const f=getComputedStyle$$module$build$src$core$utils$style(b,\"fontWeight\"),g=getComputedStyle$$module$build$src$core$utils$style(b,\"fontFamily\");this.width=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(b,d,f,g);c=measureFontMetrics$$module$build$src$core$utils$dom(c,\nd,f,g);this.height=this.height||c.height;if(!this.isFlyoutLabel){this.width+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X;this.height+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y;let h;(h=e)==null||h.setAttribute(\"width\",String(this.width));let k;(k=e)==null||k.setAttribute(\"height\",String(this.height))}a.setAttribute(\"width\",String(this.width));a.setAttribute(\"height\",String(this.height));b.setAttribute(\"x\",String(this.width/2));b.setAttribute(\"y\",String(this.height/\n2-c.height/2+c.baseline));this.updateTransform();this.onMouseDownWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,\"pointerdown\",this,this.onMouseDown);this.onMouseUpWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,\"pointerup\",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform();this.svgGroup.setAttribute(\"display\",\"block\")}updateTransform(){this.svgGroup.setAttribute(\"transform\",\"translate(\"+this.position.x+\",\"+this.position.y+\n\")\")}moveTo(a,b){this.position.x=a;this.position.y=b;this.updateTransform()}moveBy(a,b,c){this.moveTo(this.position.x+a,this.position.y+b)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){unbind$$module$build$src$core$browser_events(this.onMouseDownWrapper);\nunbind$$module$build$src$core$browser_events(this.onMouseUpWrapper);this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(a){a?this.svgGroup&&(this.svgGroup.appendChild(a),this.cursorSvg=a):this.cursorSvg=null}onMouseUp(a){(a=this.targetWorkspace.getGesture(a))&&a.cancel();this.isFlyoutLabel&&this.callbackKey?console.warn(\"Labels should not have callbacks. Label text: \"+this.text):this.isFlyoutLabel||\nthis.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(a=this.targetWorkspace.getButtonCallback(this.callbackKey))&&a(this):console.warn(\"Buttons should have callbacks. Button text: \"+this.text)}onMouseDown(a){const b=this.targetWorkspace.getGesture(a),c=this.targetWorkspace.getFlyout();b&&c&&b.handleFlyoutStart(a,c)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var a=this.getPosition();\na=new Rect$$module$build$src$core$utils$rect(a.y,a.y+this.height,a.x,a.x+this.width);this.workspace.scrollBoundsIntoView(a)}onNodeBlur(){}canBeFocused(){return!0}};FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X=5;FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y=2;FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS=4;register$$module$build$src$core$css(\"\\n.blocklyFlyoutButton {\\n  fill: #888;\\n  cursor: default;\\n}\\n\\n.blocklyFlyoutButtonShadow {\\n  fill: #666;\\n}\\n\\n.blocklyFlyoutButton:hover {\\n  fill: #aaa;\\n}\\n\\n.blocklyFlyoutLabel {\\n  cursor: default;\\n}\\n\\n.blocklyFlyoutLabelBackground {\\n  opacity: 0;\\n}\\n\");\nvar module$build$src$core$flyout_button={};module$build$src$core$flyout_button.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;var FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getWorkspace()}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof FlyoutButton$$module$build$src$core$flyout_button}},module$build$src$core$keyboard_nav$flyout_button_navigation_policy={};\nmodule$build$src$core$keyboard_nav$flyout_button_navigation_policy.FlyoutButtonNavigationPolicy=FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy;var FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy=class{constructor(a,b){this.policy=a;this.flyout=b}getFirstChild(a){return null}getParent(a){return this.policy.getParent(a)}getNextSibling(a){const b=this.flyout.getContents();if(!b)return null;let c=b.findIndex(d=>d.getElement()===a);if(c===-1)return null;c++;c>=b.length&&(c=0);return b[c].getElement()}getPreviousSibling(a){const b=this.flyout.getContents();if(!b)return null;let c=b.findIndex(d=>d.getElement()===\na);if(c===-1)return null;c--;c<0&&(c=b.length-1);return b[c].getElement()}isNavigable(a){return this.policy.isNavigable(a)}isApplicable(a){return this.policy.isApplicable(a)}},module$build$src$core$keyboard_nav$flyout_navigation_policy={};module$build$src$core$keyboard_nav$flyout_navigation_policy.FlyoutNavigationPolicy=FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy;var FlyoutSeparator$$module$build$src$core$flyout_separator=class{constructor(a,b){this.gap=a;this.axis=b;this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case \"x\":return new Rect$$module$build$src$core$utils$rect(this.y,this.y,this.x,this.x+this.gap);case \"y\":return new Rect$$module$build$src$core$utils$rect(this.y,this.y+this.gap,this.x,this.x)}}moveBy(a,b,c){this.x+=a;this.y+=b}isNavigable(){return!1}getFocusableElement(){throw Error(\"Cannot be focused\");}getFocusableTree(){throw Error(\"Cannot be focused\");\n}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},module$build$src$core$flyout_separator={};module$build$src$core$flyout_separator.FlyoutSeparator=FlyoutSeparator$$module$build$src$core$flyout_separator;var FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy=class{getFirstChild(a){return null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return!1}isApplicable(a){return a instanceof FlyoutSeparator$$module$build$src$core$flyout_separator}},module$build$src$core$keyboard_nav$flyout_separator_navigation_policy={};\nmodule$build$src$core$keyboard_nav$flyout_separator_navigation_policy.FlyoutSeparatorNavigationPolicy=FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy;var BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy=class{getFirstChild(a){return a.getEditor()}getParent(a){let b;return(b=a.getOwner())!=null?b:null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof TextInputBubble$$module$build$src$core$bubbles$textinput_bubble}},module$build$src$core$keyboard_nav$block_comment_navigation_policy={};\nmodule$build$src$core$keyboard_nav$block_comment_navigation_policy.BlockCommentNavigationPolicy=BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy;var BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy=class{getFirstChild(a){return getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy(a,!0)[0]}getParent(a){var b;if((b=a.previousConnection)==null?0:b.targetBlock()){if(b=a.getSurroundParent())return b}else{let c;if((c=a.outputConnection)==null?0:c.targetBlock())return a.outputConnection.targetBlock()}return a.workspace}getNextSibling(a){let b;if((b=a.nextConnection)==null?0:b.targetBlock()){let d;\nreturn(d=a.nextConnection)==null?void 0:d.targetBlock()}let c;return((c=a.outputConnection)==null?0:c.targetBlock())?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1):a.getSurroundParent()?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a.getTopStackBlock(),1):this.getParent(a)instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1):null}getPreviousSibling(a){let b;\nif((b=a.previousConnection)==null?0:b.targetBlock()){let d;return(d=a.previousConnection)==null?void 0:d.targetBlock()}let c;return((c=a.outputConnection)==null?0:c.targetBlock())?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1):this.getParent(a)instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1):null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof BlockSvg$$module$build$src$core$block_svg}},\nmodule$build$src$core$keyboard_nav$block_navigation_policy={};module$build$src$core$keyboard_nav$block_navigation_policy.BlockNavigationPolicy=BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$keyboard_nav$block_navigation_policy.navigateBlock=navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$keyboard_nav$block_navigation_policy.navigateStacks=navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy;var CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getCommentView().workspace.getCommentById(a.getCommentView().commentId)}getNextSibling(a){const b=a.getCommentView().getCommentBarButtons();a=b.indexOf(a);return a>=0&&a+1<b.length?b[a+1]:null}getPreviousSibling(a){const b=a.getCommentView().getCommentBarButtons();a=b.indexOf(a);return a>0?b[a-1]:null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof\nCommentBarButton$$module$build$src$core$comments$comment_bar_button}},module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy={};module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy.CommentBarButtonNavigationPolicy=CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy;var CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy=class{getFirstChild(a){return null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof CommentEditor$$module$build$src$core$comments$comment_editor}},module$build$src$core$keyboard_nav$comment_editor_navigation_policy={};\nmodule$build$src$core$keyboard_nav$comment_editor_navigation_policy.CommentEditorNavigationPolicy=CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy;var ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy=class{getFirstChild(a){return a.getParentInput()?a.targetConnection:null}getParent(a){return a.getSourceBlock()}getNextSibling(a){if(a.getParentInput())return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1);if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){const c=a.targetConnection;var b=a.getSourceBlock();if(!c&&b.getRootBlock().lastConnectionInStack(!1)===\na){a=b.workspace.getTopBlocks(!0);b=a.indexOf(b.getRootBlock())+1;b>=a.length&&(b=0);b=a[b];let d;return(d=this.getParentConnection(b))!=null?d:b}return c}return a.getSourceBlock()}getPreviousSibling(a){if(a.getParentInput())return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1);if(a.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE){const c=a.targetConnection&&\n!a.targetConnection.getParentInput()?a.targetConnection:null;var b=a.getSourceBlock();if(!c&&this.getParentConnection(b.getRootBlock())===a){a=b.workspace.getTopBlocks(!0);b=a.indexOf(b.getRootBlock())-1;b<0&&(b=a.length-1);b=a[b];let d;return(d=b.lastConnectionInStack(!1))!=null?d:b}return c}return a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT?a.getSourceBlock():null}getParentConnection(a){let b;return!a.outputConnection||((b=a.previousConnection)==null?0:b.isConnected())?\na.previousConnection:a.outputConnection}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof RenderedConnection$$module$build$src$core$rendered_connection}},module$build$src$core$keyboard_nav$connection_navigation_policy={};module$build$src$core$keyboard_nav$connection_navigation_policy.ConnectionNavigationPolicy=ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy;var FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getSourceBlock()}getNextSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){let b;return a.canBeFocused()&&a.isVisible()&&(a.isClickable()||a.isCurrentlyEditable())&&!(((b=a.getSourceBlock())==\nnull?0:b.isSimpleReporter())&&a.isFullBlockField())&&a.getParentInput().isVisible()}isApplicable(a){return a instanceof Field$$module$build$src$core$field}},module$build$src$core$keyboard_nav$field_navigation_policy={};module$build$src$core$keyboard_nav$field_navigation_policy.FieldNavigationPolicy=FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy;var module$build$src$core$icons$registry={};module$build$src$core$icons$registry.register=register$$module$build$src$core$icons$registry;module$build$src$core$icons$registry.unregister=unregister$$module$build$src$core$icons$registry;var SIZE$$module$build$src$core$icons$comment_icon=17,DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon=160,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon=80,CommentIcon$$module$build$src$core$icons$comment_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a){super(a);this.sourceBlock=a;this.textInputBubble=null;this.text=\"\";this.bubbleSize=new Size$$module$build$src$core$utils$size(DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);\nthis.bubbleVisiblity=!1}getType(){return CommentIcon$$module$build$src$core$icons$comment_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{\"class\":\"blocklyIconShape\",r:\"8\",cx:\"8\",cy:\"8\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconSymbol\",x:\"6.8\",y:\"10.78\",height:\"2\",width:\"2\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCommentIcon\"))}dispose(){super.dispose();let a;(a=this.textInputBubble)==null||a.dispose()}getWeight(){return CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$comment_icon,\nSIZE$$module$build$src$core$icons$comment_icon)}applyColour(){super.applyColour();const a=this.sourceBlock.getColour();let b;(b=this.textInputBubble)==null||b.setColour(a)}updateEditable(){const a=this,b=()=>super.updateEditable;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){b().call(a);a.bubbleIsVisible()&&(yield a.setBubbleVisible(!1),yield a.setBubbleVisible(!0))})}onLocationChange(a){const b=this.workspaceLocation;super.onLocationChange(a);this.bubbleLocation&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.workspaceLocation,\nb),this.bubbleLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(this.bubbleLocation,a));a=this.getAnchorLocation();let c;(c=this.textInputBubble)==null||c.setAnchorLocation(a)}setText(a){const b=this.text;fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\"comment\",null,b,a));this.text=a;let c;(c=this.textInputBubble)==null||c.setText(this.text)}getText(){return this.text}setBubbleSize(a){this.bubbleSize=\na;let b;(b=this.textInputBubble)==null||b.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(a){this.bubbleLocation=a;let b;(b=this.textInputBubble)==null||b.moveDuringDrag(a)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const a={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},b=this.getBubbleLocation();b&&(a.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(b.x+\nthis.bubbleSize.width):b.x,a.y=b.y);return a}return null}loadState(a){let b;this.text=(b=a.text)!=null?b:\"\";let c,d;this.bubbleSize=new Size$$module$build$src$core$utils$size((c=a.width)!=null?c:DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,(d=a.height)!=null?d:DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);let e;this.bubbleVisiblity=(e=a.pinned)!=null?e:!1;this.setBubbleVisible(this.bubbleVisiblity);let f=a.x;const g=a.y;finishQueuedRenders$$module$build$src$core$render_management().then(()=>\n{f&&g&&(f=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(f+this.bubbleSize.width):f,this.setBubbleLocation(new Coordinate$$module$build$src$core$utils$coordinate(f,g)))})}onClick(){super.onClick();this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var a=this.textInputBubble.getText();this.text!==a&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\n\"comment\",null,this.text,a)),this.text=a)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){b.bubbleVisiblity!==a&&(b.bubbleVisiblity=a,yield finishQueuedRenders$$module$build$src$core$render_management(),\n!b.sourceBlock.rendered||b.sourceBlock.isInFlyout||b.sourceBlock.isInsertionMarker()||(a?(b.sourceBlock.isEditable()?b.showEditableBubble():b.showNonEditableBubble(),b.applyColour()):b.hideBubble(),fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,a,\"comment\"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let a;(a=this.textInputBubble)==null||a.addTextChangeListener(()=>\nthis.onTextChange());let b;(b=this.textInputBubble)==null||b.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let a;(a=this.textInputBubble)==null||a.setEditable(!1)}createBubble(){this.textInputBubble=new TextInputBubble$$module$build$src$core$bubbles$textinput_bubble(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this);this.textInputBubble.setText(this.getText());this.textInputBubble.setSize(this.bubbleSize,!0);this.bubbleLocation&&\nthis.textInputBubble.moveDuringDrag(this.bubbleLocation);this.textInputBubble.addTextChangeListener(()=>this.onTextChange());this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange());this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let a;(a=this.textInputBubble)==null||a.dispose();this.textInputBubble=null}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$comment_icon/2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,\nnew Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};CommentIcon$$module$build$src$core$icons$comment_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.COMMENT;CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT=3;register$$module$build$src$core$icons$registry(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE,CommentIcon$$module$build$src$core$icons$comment_icon);\nvar module$build$src$core$icons$comment_icon={};module$build$src$core$icons$comment_icon.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;var IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy=class{getFirstChild(a){if(a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&a.bubbleIsVisible()&&$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===a){let b,c;return(c=(b=a.getBubble())==null?void 0:b.getWorkspace())!=null?c:null}if(a instanceof CommentIcon$$module$build$src$core$icons$comment_icon&&a.bubbleIsVisible()&&$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===\na){let b,c;return(c=(b=a.getBubble())==null?void 0:b.getEditor())!=null?c:null}return null}getParent(a){return a.getSourceBlock()}getNextSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof Icon$$module$build$src$core$icons$icon}},module$build$src$core$keyboard_nav$icon_navigation_policy=\n{};module$build$src$core$keyboard_nav$icon_navigation_policy.IconNavigationPolicy=IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy;var WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy=class{getFirstChild(a){return a.view.getCommentBarButtons()[0]}getParent(a){return a.workspace}getNextSibling(a){return navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment}},\nmodule$build$src$core$keyboard_nav$workspace_comment_navigation_policy={};module$build$src$core$keyboard_nav$workspace_comment_navigation_policy.WorkspaceCommentNavigationPolicy=WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy;var WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy=class{getFirstChild(a){a=a.getTopBlocks(!0);return a.length?a[0]:null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()&&!a.isMutator}isApplicable(a){return a instanceof WorkspaceSvg$$module$build$src$core$workspace_svg}},module$build$src$core$keyboard_nav$workspace_navigation_policy={};\nmodule$build$src$core$keyboard_nav$workspace_navigation_policy.WorkspaceNavigationPolicy=WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy;var Navigator$$module$build$src$core$navigator=class{constructor(){this.rules=[new BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy,new FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy,new ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy,new WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy,new IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy,\nnew WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy,new CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy,new BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy,new CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy]}addNavigationPolicy(a){this.rules.push(a)}get(a){return this.rules.find(b=>b.isApplicable(a))}getFirstChild(a){let b;\nconst c=(b=this.get(a))==null?void 0:b.getFirstChild(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getFirstChild(c)||this.getNextSibling(c)}getParent(a){let b;const c=(b=this.get(a))==null?void 0:b.getParent(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getParent(c)}getNextSibling(a){let b;const c=(b=this.get(a))==null?void 0:b.getNextSibling(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getNextSibling(c)}getPreviousSibling(a){let b;\nconst c=(b=this.get(a))==null?void 0:b.getPreviousSibling(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getPreviousSibling(c)}},module$build$src$core$navigator={};module$build$src$core$navigator.Navigator=Navigator$$module$build$src$core$navigator;var FlyoutNavigator$$module$build$src$core$flyout_navigator=class extends Navigator$$module$build$src$core$navigator{constructor(a){super();this.rules.push(new FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy,new FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy);this.rules=this.rules.map(b=>new FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy(b,a))}},module$build$src$core$flyout_navigator=\n{};module$build$src$core$flyout_navigator.FlyoutNavigator=FlyoutNavigator$$module$build$src$core$flyout_navigator;var ScrollbarPair$$module$build$src$core$scrollbar_pair=class{constructor(a,b,c,d,e){this.workspace=a;this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null;b=b===void 0?!0:b;c=c===void 0?!0:c;const f=b&&c;b&&(this.hScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!0,f,d,e));c&&(this.vScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!1,f,d,e));f&&(this.corner_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,\nwidth:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,\"class\":\"blocklyScrollbarBackground\"}),insertAfter$$module$build$src$core$utils$dom(this.corner_,a.getBubbleCanvas()))}dispose(){removeNode$$module$build$src$core$utils$dom(this.corner_);this.oldHostMetrics=this.corner_=null;this.hScroll&&(this.hScroll.dispose(),this.hScroll=null);this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const a=this.workspace.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics&&this.oldHostMetrics.viewWidth===\na.viewWidth&&this.oldHostMetrics.viewHeight===a.viewHeight&&this.oldHostMetrics.absoluteTop===a.absoluteTop&&this.oldHostMetrics.absoluteLeft===a.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===a.scrollWidth&&this.oldHostMetrics.viewLeft===a.viewLeft&&this.oldHostMetrics.scrollLeft===a.scrollLeft||(b=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===a.scrollHeight&&this.oldHostMetrics.viewTop===a.viewTop&&this.oldHostMetrics.scrollTop===a.scrollTop||(c=!0)):c=b=!0;if(b||\nc){try{$.disable$$module$build$src$core$events$utils(),this.hScroll&&b&&this.hScroll.resize(a),this.vScroll&&c&&this.vScroll.resize(a)}finally{$.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft){let d;(d=this.corner_)==null||d.setAttribute(\"x\",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==\na.viewHeight||this.oldHostMetrics.absoluteTop!==a.absoluteTop){let d;(d=this.corner_)==null||d.setAttribute(\"y\",String(this.hScroll.position.y))}}this.oldHostMetrics=a}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(a,b){this.hScroll&&this.hScroll.setOrigin(a,b);this.vScroll&&this.vScroll.setOrigin(a,b)}set(a,b,c){this.hScroll&&this.hScroll.set(a,!1);this.vScroll&&this.vScroll.set(b,!1);if(c||c===void 0)a={},this.hScroll&&(a.x=this.hScroll.getRatio_()),\nthis.vScroll&&(a.y=this.vScroll.getRatio_()),this.workspace.setMetrics(a)}setX(a){this.hScroll&&this.hScroll.set(a,!0)}setY(a){this.vScroll&&this.vScroll.set(a,!0)}setContainerVisible(a){this.hScroll&&this.hScroll.setContainerVisible(a);this.vScroll&&this.vScroll.setContainerVisible(a)}isVisible(){let a=!1;this.hScroll&&(a=this.hScroll.isVisible());this.vScroll&&(a=a||this.vScroll.isVisible());return a}setVisible(a){this.hScroll&&this.hScroll.setVisibleInternal(a);this.vScroll&&this.vScroll.setVisibleInternal(a)}resizeContent(a){this.hScroll&&\nthis.hScroll.resizeContentHorizontal(a);this.vScroll&&this.vScroll.resizeContentVertical(a)}resizeView(a){this.hScroll&&this.hScroll.resizeViewHorizontal(a);this.vScroll&&this.vScroll.resizeViewVertical(a)}},module$build$src$core$scrollbar_pair={};module$build$src$core$scrollbar_pair.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;var SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater=\"sep\",SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater=class{load(a,b){a=new FlyoutSeparator$$module$build$src$core$flyout_separator(0,b.horizontalLayout?\"x\":\"y\");return new FlyoutItem$$module$build$src$core$flyout_item(a,SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater)}gapForItem(a,b){let c;return(c=parseInt(String(a.gap)))!=null?c:b}disposeItem(a){}getType(){return SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater,SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater);var module$build$src$core$separator_flyout_inflater={SEPARATOR_TYPE:SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater};module$build$src$core$separator_flyout_inflater.SeparatorFlyoutInflater=SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater;var Flyout$$module$build$src$core$flyout_base=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.horizontalLayout=!1;this.boundEvents=[];this.reflowWrapper=null;this.contents=[];this.autoClose=!0;this.visible=!1;this.containerVisible=!0;this.CORNER_RADIUS=8;this.SCROLLBAR_MARGIN=2.5;this.height_=this.width_=0;this.dragAngleRange_=70;this.svgGroup_=this.svgBackground_=null;this.inflaters=new Map;a.setMetrics=this.setMetrics_.bind(this);this.workspace_=new WorkspaceSvg$$module$build$src$core$workspace_svg(a);\nthis.workspace_.setMetricsManager(new FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager(this.workspace_,this));this.workspace_.internalIsFlyout=!0;this.workspace_.setVisible(this.visible);this.workspace_.setNavigator(new FlyoutNavigator$$module$build$src$core$flyout_navigator(this));this.id=genUid$$module$build$src$core$utils$idgenerator();this.RTL=!!a.RTL;this.toolboxPosition_=a.toolboxPosition;this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH;this.MARGIN=this.CORNER_RADIUS;\nthis.GAP_X=this.MARGIN*3;this.GAP_Y=this.MARGIN*3}createDom(a){this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(a,{\"class\":\"blocklyFlyout\"});this.svgGroup_.style.display=\"none\";this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyFlyoutBackground\"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());this.workspace_.getThemeManager().subscribe(this.svgBackground_,\"flyoutBackgroundColour\",\n\"fill\");this.workspace_.getThemeManager().subscribe(this.svgBackground_,\"flyoutOpacity\",\"fill-opacity\");return this.svgGroup_}init(a){this.targetWorkspace=a;this.workspace_.targetWorkspace=a;this.workspace_.scrollbar=new ScrollbarPair$$module$build$src$core$scrollbar_pair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,\"blocklyFlyoutScrollbar\",this.SCROLLBAR_MARGIN);this.hide();this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"wheel\",this,this.wheel_));\nthis.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgBackground_,\"pointerdown\",this,this.onMouseDown));this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace);this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap());this.workspace_.createPotentialVariableMap();a.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.FLYOUT_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,\nComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]})}dispose(){this.hide();this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);this.boundEvents.length=0;this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose());this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(a){this.autoClose=\na;this.targetWorkspace.recordDragTargets();this.targetWorkspace.resizeContents()}autoHide(a){!a&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(a){const b=a!==this.isVisible();this.visible=a;b&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(a){const b=a!==this.containerVisible;this.containerVisible=a;b&&this.updateDisplay()}getContents(){return this.contents}setContents(a){this.contents=\na}updateDisplay(){let a;a=this.containerVisible?this.isVisible():!1;this.svgGroup_&&(this.svgGroup_.style.display=a?\"block\":\"none\");let b;(b=this.workspace_.scrollbar)==null||b.setContainerVisible(a)}positionAt_(a,b,c,d){let e;(e=this.svgGroup_)==null||e.setAttribute(\"width\",`${a}`);let f;(f=this.svgGroup_)==null||f.setAttribute(\"height\",`${b}`);this.workspace_.setCachedParentSvgSize(a,b);this.svgGroup_&&setCssTransform$$module$build$src$core$utils$dom(this.svgGroup_,\"translate(\"+c+\"px,\"+d+\"px)\");\nif(a=this.workspace_.scrollbar)a.setOrigin(c,d),a.resize(),a.hScroll&&a.hScroll.setPosition(a.hScroll.position.x,a.hScroll.position.y),a.vScroll&&a.vScroll.setPosition(a.vScroll.position.x,a.vScroll.position.y)}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(a){this.workspace_.setResizesEnabled(!1);this.hide();this.clearOldBlocks();typeof a===\"string\"&&(a=this.getDynamicCategoryContents(a));\nthis.setVisible(!0);a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a);a=this.createFlyoutInfo(a);triggerQueuedRenders$$module$build$src$core$render_management(this.workspace_);this.setContents(a);this.layout_(a);this.horizontalLayout?this.height_=0:this.width_=0;this.reflow();this.workspace_.setResizesEnabled(!0);this.reflowWrapper=b=>{b.type!==EventType$$module$build$src$core$events$type.BLOCK_CHANGE&&b.type!==EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE||\nthis.reflow()};this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(a){const b=[],c=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of a)if(\"custom\"in d&&(a=this.getDynamicCategoryContents(d.custom),a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),b.push(...this.createFlyoutInfo(a))),a=d.kind.toLowerCase(),a=this.getInflaterForType(a))b.push(a.load(d,this)),(a=a.gapForItem(d,c))&&b.push(new FlyoutItem$$module$build$src$core$flyout_item(new FlyoutSeparator$$module$build$src$core$flyout_separator(a,\nthis.horizontalLayout?\"x\":\"y\"),SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater));return this.normalizeSeparators(b)}normalizeSeparators(a){for(let b=a.length-1;b>0;b--){const c=a[b].getType().toLowerCase(),d=a[b-1].getType().toLowerCase();c===SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater&&d===SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater&&a.splice(b-1,1)}return a}getDynamicCategoryContents(a){a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);\nif(typeof a!==\"function\")throw TypeError(\"Couldn't find a callback function when opening a toolbox category.\");return a(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(b=>{let c;(c=this.getInflaterForType(b.getType()))==null||c.disposeItem(b)});let a;(a=this.workspace_.getPotentialVariableMap())==null||a.clear()}onMouseDown(a){const b=this.targetWorkspace.getGesture(a);b&&b.handleFlyoutStart(a,this)}isBlockCreatable(a){return a.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(a){let b=\nnull;$.disable$$module$build$src$core$events$utils();var c=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{b=this.placeNewBlock(a)}finally{$.enable$$module$build$src$core$events$utils()}this.targetWorkspace.hideChaff();a=getAddedVariables$$module$build$src$core$variables(this.targetWorkspace,c);if(isEnabled$$module$build$src$core$events$utils()){$.setGroup$$module$build$src$core$events$utils(!0);for(c=0;c<a.length;c++){const d=a[c];fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(d))}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(b))}this.autoClose&&\nthis.hide();return b}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper);this.reflowInternal_();this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(a){var b=this.targetWorkspace;if(!a.getSvgRoot())throw Error(\"oldBlock is not rendered\");const c=this.serializeBlock(a);b.setResizesEnabled(!1);b=append$$module$build$src$core$serialization$blocks(c,\nb);this.positionNewBlock(a,b);return b}serializeBlock(a){return save$$module$build$src$core$serialization$blocks(a)}positionNewBlock(a,b){const c=this.targetWorkspace;var d=c.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY();a.scale(this.workspace_.scale);e=Coordinate$$module$build$src$core$utils$coordinate.sum(e,a);d=Coordinate$$module$build$src$core$utils$coordinate.difference(e,d);d.scale(1/c.scale);b.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(d.x,\nd.y))}getInflaterForType(a){if(this.inflaters.has(a)){var b;return(b=this.inflaters.get(a))!=null?b:null}return(b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,a))?(b=new b,this.inflaters.set(a,b),b):null}getFocusableElement(){throw Error(\"Flyouts are not directly focusable.\");}getFocusableTree(){throw Error(\"Flyouts are not directly focusable.\");}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error(\"Flyouts are not directly focusable.\");\n}getRestoredFocusableNode(a){throw Error(\"Flyouts are not directly focusable.\");}getNestedTrees(){throw Error(\"Flyouts are not directly focusable.\");}lookUpFocusableNode(a){throw Error(\"Flyouts are not directly focusable.\");}onTreeFocus(a,b){}onTreeBlur(a){throw Error(\"Flyouts are not directly focusable.\");}},module$build$src$core$flyout_base={};module$build$src$core$flyout_base.Flyout=Flyout$$module$build$src$core$flyout_base;var module$build$src$core$interfaces$i_draggable={};module$build$src$core$interfaces$i_draggable.isDraggable=isDraggable$$module$build$src$core$interfaces$i_draggable;var KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller=class{constructor(){this.isActive=!1;this.activeClassName=\"blocklyKeyboardNavigation\"}setIsActive(a=!0){this.isActive=a;this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller=\nnew KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller,module$build$src$core$keyboard_navigation_controller={};module$build$src$core$keyboard_navigation_controller.KeyboardNavigationController=KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$keyboard_navigation_controller.keyboardNavigationController=keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;var WorkspaceDragger$$module$build$src$core$workspace_dragger=class{constructor(a){this.workspace=a;this.horizontalScrollEnabled=this.workspace.isMovableHorizontally();this.verticalScrollEnabled=this.workspace.isMovableVertically();this.startScrollXY_=new Coordinate$$module$build$src$core$utils$coordinate(a.scrollX,a.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(a){this.drag(a)}drag(a){a=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startScrollXY_,a);if(this.horizontalScrollEnabled&&\nthis.verticalScrollEnabled)this.workspace.scroll(a.x,a.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(a.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,a.y);else throw new TypeError(\"Invalid state.\");}},module$build$src$core$workspace_dragger={};module$build$src$core$workspace_dragger.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;var ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture=5,ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture=6,Gesture$$module$build$src$core$gesture=class{constructor(a,b){this.creatorWorkspace=b;this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null;this.hasExceededDragRadius=!1;this.boundEvents=[];this.workspaceDragger=this.dragger=null;this.dragging=\n!1;this.flyout=null;this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1;this.cachedPoints=new Map;this.startDistance=this.previousScale=0;this.currentDropdownOwner=this.isPinchZoomEnabled=null;this.mostRecentEvent=a;this.currentDragDeltaXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0)}dispose(){clearTouchIdentifier$$module$build$src$core$touch();unblock$$module$build$src$core$tooltip();this.creatorWorkspace.clearGesture();for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);\nthis.boundEvents.length=0;this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);this.updateDragDelta(b)&&(this.updateIsDragging(a),longStop$$module$build$src$core$touch());this.mostRecentEvent=a}updateDragDelta(a){this.currentDragDeltaXY=Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.mouseDownXY);return this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Coordinate$$module$build$src$core$utils$coordinate.magnitude(this.currentDragDeltaXY)>\n(this.flyout?$.config$$module$build$src$core$config.flyoutDragRadius:$.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let a;if(!this.targetBlock||(a=this.flyout)==null||!a.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(\"Cannot update dragging from the flyout because the ' +\\n          'flyout's target workspace is undefined\");return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=\nthis.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error(\"Cannot update dragging the workspace because the start workspace is undefined\");\nif(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())this.dragging=!0,this.workspaceDragger=new WorkspaceDragger$$module$build$src$core$workspace_dragger(this.startWorkspace_),this.workspaceDragger.startDrag()}updateIsDragging(a){if(!this.startWorkspace_)throw Error(\"Cannot update dragging because the start workspace is undefined\");if(this.calledUpdateIsDragging)throw Error(\"updateIsDragging_ should only be called once per gesture.\");this.calledUpdateIsDragging=\n!0;this.flyout&&this.updateIsDraggingFromFlyout();const b=getSelected$$module$build$src$core$common();b&&isDraggable$$module$build$src$core$interfaces$i_draggable(b)&&b.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(b,this.startWorkspace_),this.dragger.onDragStart(a),this.dragger.onDrag(a,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(a,b){return new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,this.creatorWorkspace.options,\n!0))(a,b)}doStart(a){if(!this.startWorkspace_)throw Error(\"Cannot start the touch gesture becauase the start workspace is undefined\");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch;isTargetInput$$module$build$src$core$browser_events(a)?this.cancel():(this.gestureHasStarted=!0,disconnectUiStop$$module$build$src$core$block_animations(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),\nthis.currentDropdownOwner=getOwner$$module$build$src$core$dropdowndiv(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=a,block$$module$build$src$core$tooltip(),isRightButton$$module$build$src$core$browser_events(a)?this.handleRightClick(a):(a.type.toLowerCase()===\"pointerdown\"&&a.pointerType!==\"mouse\"&&longStart$$module$build$src$core$touch(a,this),this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY),this.bindMouseEvents(a),\nthis.isEnding_||this.handleTouchStart(a)))}bindMouseEvents(a){this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointerdown\",null,this.handleStart.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",null,this.handleMove.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",null,this.handleUp.bind(this),!0));a.preventDefault();a.stopPropagation()}handleStart(a){this.isDragging()||\n(this.handleTouchStart(a),this.isMultiTouch()&&longStop$$module$build$src$core$touch())}handleMove(a){if(this.isDragging()&&shouldHandleEvent$$module$build$src$core$touch(a)||!this.isMultiTouch()){this.updateFromEvent(a);if(this.workspaceDragger)this.workspaceDragger.drag(this.currentDragDeltaXY);else if(this.dragger)this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY);a.preventDefault();a.stopPropagation()}else this.isMultiTouch()&&(this.handleTouchMove(a),longStop$$module$build$src$core$touch())}handleUp(a){this.isDragging()||\nthis.handleTouchEnd(a);if(!this.isMultiTouch()||this.isDragging()){if(!shouldHandleEvent$$module$build$src$core$touch(a))return;this.updateFromEvent(a);longStop$$module$build$src$core$touch();if(this.isEnding_){console.log(\"Trying to end a gesture recursively.\");return}this.isEnding_=!0;this.dragger?(keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1),this.dragger.onDragEnd(a,this.currentDragDeltaXY)):this.workspaceDragger?(keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1),\nthis.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(a))}a.preventDefault();a.stopPropagation();this.dispose()}handleTouchStart(a){var b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));var c=Array.from(this.cachedPoints.keys());\nc.length===2&&(b=this.cachedPoints.get(c[0]),c=this.cachedPoints.get(c[1]),this.startDistance=Coordinate$$module$build$src$core$utils$coordinate.distance(b,c),this.multiTouch=!0,a.preventDefault())}handleTouchMove(a){const b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));if(this.isPinchZoomEnabled&&this.cachedPoints.size===2)this.handlePinch(a);else{this.updateFromEvent(a);if(this.workspaceDragger)this.workspaceDragger.drag(this.currentDragDeltaXY);\nelse if(this.dragger)this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY);a.preventDefault();a.stopPropagation()}}handlePinch(a){var b=Array.from(this.cachedPoints.keys()),c=this.cachedPoints.get(b[0]);b=this.cachedPoints.get(b[1]);c=Coordinate$$module$build$src$core$utils$coordinate.distance(c,b)/this.startDistance;if(this.previousScale>0&&this.previousScale<Infinity){b=c-this.previousScale;b=b>0?b*ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture:b*ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture;\nif(!this.startWorkspace_)throw Error(\"Cannot handle a pinch because the start workspace is undefined\");const d=this.startWorkspace_,e=mouseToSvg$$module$build$src$core$browser_events(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,b)}this.previousScale=c;a.preventDefault()}handleTouchEnd(a){a=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.has(a)&&this.cachedPoints.delete(a);this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(a){return this.startWorkspace_?\nnew Coordinate$$module$build$src$core$utils$coordinate(a.pageX,a.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){if(!this.isEnding_){longStop$$module$build$src$core$touch();if(this.dragger)this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY);else this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY);this.dispose()}}handleRightClick(a){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(a)):\nthis.startBubble?this.startBubble.showContextMenu(a):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(a)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(a));a.preventDefault();a.stopPropagation();keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1);this.dispose()}handleWsStart(a,\nb){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleWsStart, but the gesture had already been started.\");this.setStartWorkspace(b);this.mostRecentEvent=a;this.startBlock||this.startBubble||this.startComment?this.startBlock&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b);this.doStart(a)}fireWorkspaceClick(a){fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(null,\na.id,\"workspace\"))}handleFlyoutStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleFlyoutStart, but the gesture had already been started.\");this.setStartFlyout(b);this.handleWsStart(a,b.getWorkspace())}handleBlockStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleBlockStart, but the gesture had already been started.\");this.setStartBlock(b);this.mostRecentEvent=a}handleBubbleStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleBubbleStart, but the gesture had already been started.\");\nthis.setStartBubble(b);this.mostRecentEvent=a}handleCommentStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleCommentStart, but the gesture had already been started.\");this.setStartComment(b);this.mostRecentEvent=a}doFieldClick(){if(!this.startField)throw Error(\"Cannot do a field click because the start field is undefined\");this.bringBlockToFront();this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error(\"Cannot do an icon click because the start icon is undefined\");\nthis.bringBlockToFront();this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error(\"Cannot do a block click because the target block is undefined\");if(this.flyout.isBlockCreatable(this.targetBlock)){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);var a=this.flyout.createBlock(this.targetBlock);a.snapToGrid();a.bumpNeighbours();$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}}else{if(!this.startWorkspace_)throw Error(\"Cannot do a block click because the start workspace is undefined\");\na=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(this.startBlock,this.startWorkspace_.id,\"block\");fire$$module$build$src$core$events$utils(a)}this.bringBlockToFront();$.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(a){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&($.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(a){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.setStartField, but the gesture had already been started.\");\nthis.startField||(this.startField=a)}setStartIcon(a){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.setStartIcon, but the gesture had already been started.\");this.startIcon||(this.startIcon=a)}setStartBubble(a){this.startBubble||(this.startBubble=a)}setStartComment(a){this.startComment||(this.startComment=a)}setStartBlock(a){this.startBlock||this.startBubble||(this.startBlock=a,a.isInFlyout&&a!==a.getRootBlock()?this.setTargetBlock(a.getRootBlock()):this.setTargetBlock(a))}setTargetBlock(a){a.isShadow()?\nthis.setTargetBlock(a.getParent()):(this.targetBlock=a,$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a))}setStartWorkspace(a){this.startWorkspace_||(this.startWorkspace_=a)}setStartFlyout(a){this.flyout||(this.flyout=a)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?\nthis.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const a=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&a}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let a,b;return(b=(a=this.workspaceDragger)!=\nnull?a:this.dragger)!=null?b:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const a=getAllWorkspaces$$module$build$src$core$common();for(let b=0,c;c=a[b];b++)if(c.currentGesture_)return!0;return!1}},module$build$src$core$gesture={};module$build$src$core$gesture.Gesture=Gesture$$module$build$src$core$gesture;var Grid$$module$build$src$core$grid=class{constructor(a,b){this.pattern=a;this.scale=1;let c;this.spacing=(c=b.spacing)!=null?c:0;let d;this.length=(d=b.length)!=null?d:1;this.line2=(this.line1=a.firstChild)&&this.line1.nextSibling;let e;this.snapToGrid=(e=b.snap)!=null?e:!1}setSpacing(a){this.spacing=a;this.update(this.scale)}getSpacing(){return this.spacing}setLength(a){this.length=a;this.update(this.scale)}getLength(){return this.length}setSnapToGrid(a){this.snapToGrid=a}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(a){this.scale=\na;var b=this.spacing*a;this.pattern.setAttribute(\"width\",`${b}`);this.pattern.setAttribute(\"height\",`${b}`);b=Math.floor(this.spacing/2)+.5;let c=b-this.length/2,d=b+this.length/2;b*=a;c*=a;d*=a;this.setLineAttributes(this.line1,a,c,d,b,b);this.setLineAttributes(this.line2,a,b,b,c,d)}setLineAttributes(a,b,c,d,e,f){a&&(a.setAttribute(\"stroke-width\",`${b}`),a.setAttribute(\"x1\",`${c}`),a.setAttribute(\"y1\",`${e}`),a.setAttribute(\"x2\",`${d}`),a.setAttribute(\"y2\",`${f}`))}moveTo(a,b){this.pattern.setAttribute(\"x\",\n`${a}`);this.pattern.setAttribute(\"y\",`${b}`)}alignXY(a){var b=this.getSpacing();const c=b/2,d=Math.round(Math.round((a.x-c)/b)*b+c);b=Math.round(Math.round((a.y-c)/b)*b+c);return d===a.x&&b===a.y?a:new Coordinate$$module$build$src$core$utils$coordinate(d,b)}static createDom(a,b,c,d){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:\"blocklyGridPattern\"+a,patternUnits:\"userSpaceOnUse\"},c);let e,f;if(((e=b.length)!=null?e:1)>0&&((f=b.spacing)!=null?\nf:0)>0){createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a);let g;(g=b.length)!=null&&g&&createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a)}else createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{},a);d&&d.style.setProperty(\"--blocklyGridPattern\",`url(#${a.id})`);return a}},module$build$src$core$grid={};\nmodule$build$src$core$grid.Grid=Grid$$module$build$src$core$grid;var module$build$src$core$interfaces$i_autohideable={};module$build$src$core$interfaces$i_autohideable.isAutoHideable=isAutoHideable$$module$build$src$core$interfaces$i_autohideable;var LayerManager$$module$build$src$core$layer_manager=class{constructor(a){this.workspace=a;this.layers=new Map;if(a=a.getInjectionDiv())this.dragLayer=this.createDragLayer(a),this.animationLayer=this.createAnimationLayer(a);a=this.createLayer(BLOCK$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,\"blocklyBlockCanvas\");a=this.createLayer(BUBBLE$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,\"blocklyBubbleCanvas\")}createDragLayer(a){const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,\n{\"class\":\"blocklyBlockDragSurface\",xmlns:SVG_NS$$module$build$src$core$utils$dom,\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b)}createAnimationLayer(a){const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{\"class\":\"blocklyAnimationLayer\",xmlns:SVG_NS$$module$build$src$core$utils$dom,\n\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b)}appendToAnimationLayer(a){let b;const c=(b=this.dragLayer)==null?void 0:b.getAttribute(\"transform\");if(c){let e;(e=this.animationLayer)==null||e.setAttribute(\"transform\",c)}let d;(d=this.animationLayer)==null||d.appendChild(a.getSvgRoot())}translateLayers(a,b){a=\n`translate(${a.x}, ${a.y}) scale(${b})`;let c;(c=this.dragLayer)==null||c.setAttribute(\"transform\",a);for(const [,d]of this.layers)d.setAttribute(\"transform\",a)}moveToDragLayer(a){let b;(b=this.dragLayer)==null||b.appendChild(a.getSvgRoot());a.canBeFocused()&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}moveOffDragLayer(a,b){this.append(a,b);a.canBeFocused()&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}append(a,b){this.layers.has(b)||this.createLayer(b);\na=a.getSvgRoot();let c;if(((c=this.layers.get(b))==null?void 0:c.lastChild)!==a){let d;(d=this.layers.get(b))==null||d.appendChild(a)}}createLayer(a){const b=this.workspace.getSvgGroup(),c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});let d=!1;const e=[...this.layers].sort((f,g)=>f[0]-g[0]);for(const [f,g]of e)if(a<f){b.insertBefore(c,g);d=!0;break}d||b.appendChild(c);this.layers.set(a,c);return c}hasLayer(a){return a===this.dragLayer||(new Set(this.layers.values())).has(a)}getBlockLayer(){return this.layers.get(BLOCK$$module$build$src$core$layers)}getBubbleLayer(){return this.layers.get(BUBBLE$$module$build$src$core$layers)}},\nmodule$build$src$core$layer_manager={};module$build$src$core$layer_manager.LayerManager=LayerManager$$module$build$src$core$layer_manager;var Marker$$module$build$src$core$keyboard_nav$marker=class{constructor(){this.curNode=this.colour=null;this.type=\"marker\"}getCurNode(){return this.curNode}setCurNode(a){this.curNode=a}dispose(){this.curNode=null}getSourceBlockFromNode(a){return a instanceof BlockSvg$$module$build$src$core$block_svg?a:a instanceof Field$$module$build$src$core$field||a instanceof RenderedConnection$$module$build$src$core$rendered_connection?a.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},\nmodule$build$src$core$keyboard_nav$marker={};module$build$src$core$keyboard_nav$marker.Marker=Marker$$module$build$src$core$keyboard_nav$marker;var LineCursor$$module$build$src$core$keyboard_nav$line_cursor=class extends Marker$$module$build$src$core$keyboard_nav$marker{constructor(a){super();this.workspace=a;this.type=\"cursor\";this.potentialNodes=null}next(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode(a,b=>{let c;return b instanceof BlockSvg$$module$build$src$core$block_svg&&!((c=b.outputConnection)==null?0:c.targetBlock())||b instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment},\n!0))&&this.setCurNode(a);return a}in(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode(a,()=>!0,!0))&&this.setCurNode(a);return a}prev(){var a=this.getCurNode();if(!a)return null;(a=this.getPreviousNode(a,b=>{let c;return b instanceof BlockSvg$$module$build$src$core$block_svg&&!((c=b.outputConnection)==null?0:c.targetBlock())||b instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment},!0))&&this.setCurNode(a);return a}out(){var a=this.getCurNode();\nif(!a)return null;(a=this.getPreviousNode(a,()=>!0,!0))&&this.setCurNode(a);return a}atEndOfLine(){var a=this.getCurNode();if(!a)return!1;const b=this.getNextNode(a,()=>!0,!0);a=this.getNextNode(a,c=>{let d;return c instanceof BlockSvg$$module$build$src$core$block_svg&&!((d=c.outputConnection)==null?0:d.targetBlock())},!0);return b===a}getNextNodeImpl(a,b,c=new Set){if(!a||c.has(a))return null;let d=this.workspace.getNavigator().getFirstChild(a)||this.workspace.getNavigator().getNextSibling(a);for(var e=\na;e&&!d;){e=this.workspace.getNavigator().getParent(e);if(!e)break;d=this.workspace.getNavigator().getNextSibling(e)}return b(d)?d:d?(c.add(a),this.getNextNodeImpl(d,b,c)):null}getNextNode(a,b,c){return!a||!c&&this.getLastNode()===a?null:this.getNextNodeImpl(a,b)}getPreviousNodeImpl(a,b,c=new Set){if(!a||c.has(a))return null;const d=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(a),a)||this.workspace.getNavigator().getParent(a);return b(d)?d:d?(c.add(a),this.getPreviousNodeImpl(d,\nb,c)):null}getPreviousNode(a,b,c){return!a||!c&&this.getFirstNode()===a?null:this.getPreviousNodeImpl(a,b)}getRightMostChild(a,b){if(!a)return a;let c=this.workspace.getNavigator().getFirstChild(a);if(!c||c===b)return a;for(a=c;a&&a!==b;a=this.workspace.getNavigator().getNextSibling(c))c=a;return this.getRightMostChild(c,b)}preDelete(a){var b=this.getCurNode();b=b?[b]:[];var c;let d,e;const f=(e=(c=a.previousConnection)==null?void 0:c.targetConnection)!=null?e:(d=a.outputConnection)==null?void 0:\nd.targetConnection;f&&b.push(f);(c=a.getNextBlock())&&b.push(c);(a=a.getParent())&&b.push(a);b.push(this.workspace);this.potentialNodes=b}postDelete(){const a=this.potentialNodes;this.potentialNodes=null;if(!a)throw Error(\"must call preDelete first\");for(const b of a){let c;if((c=this.getSourceBlockFromNode(b))==null||!c.disposed){this.setCurNode(b);return}}throw Error(\"no valid nodes in this.potentialNodes\");}getCurNode(){return $.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(a){$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const a=\nthis.getFirstNode();return this.getPreviousNode(a,()=>!0,!0)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,DEFAULT$$module$build$src$core$registry,LineCursor$$module$build$src$core$keyboard_nav$line_cursor);var module$build$src$core$keyboard_nav$line_cursor={};module$build$src$core$keyboard_nav$line_cursor.LineCursor=LineCursor$$module$build$src$core$keyboard_nav$line_cursor;var MarkerManager$$module$build$src$core$marker_manager=class{constructor(a){this.workspace=a;this.markers=new Map;this.cursor=new LineCursor$$module$build$src$core$keyboard_nav$line_cursor(this.workspace)}registerMarker(a,b){this.markers.has(a)&&this.unregisterMarker(a);this.markers.set(a,b)}unregisterMarker(a){const b=this.markers.get(a);if(b)b.dispose(),this.markers.delete(a);else throw Error(\"Marker with ID \"+a+\" does not exist. Can only unregister markers that exist.\");}getCursor(){return this.cursor}getMarker(a){return this.markers.get(a)||\nnull}setCursor(a){this.cursor=a}dispose(){const a=Object.keys(this.markers);for(let b=0,c;c=a[b];b++)this.unregisterMarker(c);this.markers.clear();this.cursor.dispose()}};MarkerManager$$module$build$src$core$marker_manager.LOCAL_MARKER=\"local_marker_1\";var module$build$src$core$marker_manager={};module$build$src$core$marker_manager.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;var module$build$src$core$icons={};module$build$src$core$icons.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;module$build$src$core$icons.Icon=Icon$$module$build$src$core$icons$icon;module$build$src$core$icons.IconType=IconType$$module$build$src$core$icons$icon_types;module$build$src$core$icons.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;module$build$src$core$icons.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;\nmodule$build$src$core$icons.exceptions=module$build$src$core$icons$exceptions;module$build$src$core$icons.registry=module$build$src$core$icons$registry;var module$build$src$core$interfaces$i_procedure_block={};module$build$src$core$interfaces$i_procedure_block.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;$.Names$$module$build$src$core$names=class{constructor(a,b){this.db=new Map;this.dbReverse=new Set;this.variableMap=null;this.variablePrefix=b||\"\";this.reservedWords=new Set(a?a.split(\",\"):[])}reset(){this.db.clear();this.dbReverse.clear();this.variableMap=null}setVariableMap(a){this.variableMap=a}getNameForUserVariable(a){return this.variableMap?(a=this.variableMap.getVariableById(a))?a.getName():null:(console.warn(\"Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());\"),\nnull)}populateVariables(a){a=$.allUsedVarModels$$module$build$src$core$variables(a);for(let b=0;b<a.length;b++)this.getName(a[b].getId(),$.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(a){throw Error(\"The implementation of populateProcedures should be monkey-patched in by blockly.ts\");}getName(a,b){let c=a;b===$.NameType$$module$build$src$core$names.VARIABLE&&(a=this.getNameForUserVariable(a))&&(c=a);a=c.toLowerCase();const d=b===$.NameType$$module$build$src$core$names.VARIABLE||\nb===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:\"\";this.db.has(b)||this.db.set(b,new Map);const e=this.db.get(b);if(e.has(a))return d+e.get(a);b=this.getDistinctName(c,b);e.set(a,b.substr(d.length));return b}getUserNames(a){let b;return(a=(b=this.db.get(a))==null?void 0:b.keys())?Array.from(a):[]}getDistinctName(a,b){a=this.safeName(a);let c=null,d,e;for(;this.dbReverse.has(a+((d=c)!=null?d:\"\"))||this.reservedWords.has(a+((e=c)!=null?e:\"\"));)c=c?c+1:2;let f;a+=(f=\nc)!=null?f:\"\";this.dbReverse.add(a);return(b===$.NameType$$module$build$src$core$names.VARIABLE||b===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:\"\")+a}safeName(a){a?(a=encodeURI(a.replace(/ /g,\"_\")).replace(/[^\\w]/g,\"_\"),\"0123456789\".includes(a[0])&&(a=\"my_\"+a)):a=$.Msg$$module$build$src$core$msg.UNNAMED_KEY||\"unnamed\";return a}static equals(a,b){return a.toLowerCase()===b.toLowerCase()}};\n(function(a){a=a.NameType||(a.NameType={});a.DEVELOPER_VARIABLE=\"DEVELOPER_VARIABLE\";a.VARIABLE=\"VARIABLE\";a.PROCEDURE=\"PROCEDURE\"})($.Names$$module$build$src$core$names||($.Names$$module$build$src$core$names={}));$.NameType$$module$build$src$core$names=$.Names$$module$build$src$core$names.NameType;$.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE;var module$build$src$core$names={NameType:$.NameType$$module$build$src$core$names};\nmodule$build$src$core$names.Names=$.Names$$module$build$src$core$names;var module$build$src$core$interfaces$i_observable={};module$build$src$core$interfaces$i_observable.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;var ObservableProcedureMap$$module$build$src$core$observable_procedure_map=class extends Map{constructor(){super()}set(a,b){if(this.get(a)===b)return this;super.set(a,b);isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.startPublishing();return this}delete(a){const b=this.get(a);a=super.delete(a);if(!a)return a;isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.stopPublishing();return a}clear(){if(this.size)for(const a of this.keys())this.delete(a)}add(a){return this.set(a.getId(),\na)}getProcedures(){return[...this.values()]}},module$build$src$core$observable_procedure_map={};module$build$src$core$observable_procedure_map.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;var CATEGORY_NAME$$module$build$src$core$procedures,module$build$src$core$procedures;CATEGORY_NAME$$module$build$src$core$procedures=\"PROCEDURE\";$.DEFAULT_ARG$$module$build$src$core$procedures=\"x\";module$build$src$core$procedures={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$procedures,DEFAULT_ARG:$.DEFAULT_ARG$$module$build$src$core$procedures};module$build$src$core$procedures.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;\nmodule$build$src$core$procedures.allProcedures=allProcedures$$module$build$src$core$procedures;module$build$src$core$procedures.findLegalName=$.findLegalName$$module$build$src$core$procedures;module$build$src$core$procedures.flyoutCategory=flyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.getCallers=getCallers$$module$build$src$core$procedures;module$build$src$core$procedures.getDefinition=$.getDefinition$$module$build$src$core$procedures;\nmodule$build$src$core$procedures.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.isNameUsed=isNameUsed$$module$build$src$core$procedures;module$build$src$core$procedures.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;module$build$src$core$procedures.mutateCallers=$.mutateCallers$$module$build$src$core$procedures;module$build$src$core$procedures.mutatorOpenListener=mutatorOpenListener$$module$build$src$core$procedures;\nmodule$build$src$core$procedures.rename=$.rename$$module$build$src$core$procedures;var TypesContainer$$module$build$src$core$renderers$measurables$types=class{constructor(){this.NONE=0;this.FIELD=1;this.HAT=2;this.ICON=4;this.SPACER=8;this.BETWEEN_ROW_SPACER=16;this.IN_ROW_SPACER=32;this.EXTERNAL_VALUE_INPUT=64;this.INPUT=128;this.INLINE_INPUT=256;this.STATEMENT_INPUT=512;this.CONNECTION=1024;this.PREVIOUS_CONNECTION=2048;this.NEXT_CONNECTION=4096;this.OUTPUT_CONNECTION=8192;this.CORNER=16384;this.LEFT_SQUARE_CORNER=32768;this.LEFT_ROUND_CORNER=65536;this.RIGHT_SQUARE_CORNER=131072;\nthis.RIGHT_ROUND_CORNER=262144;this.JAGGED_EDGE=524288;this.ROW=1048576;this.TOP_ROW=2097152;this.BOTTOM_ROW=4194304;this.INPUT_ROW=8388608;this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER;this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER;this.nextTypeValue_=16777216}getType(a){Object.prototype.hasOwnProperty.call(this,a)||(this[a]=this.nextTypeValue_,this.nextTypeValue_<<=1);return this[a]}isField(a){return(a.type&this.FIELD)>=1}isHat(a){return(a.type&this.HAT)>=1}isIcon(a){return(a.type&\nthis.ICON)>=1}isSpacer(a){return(a.type&this.SPACER)>=1}isInRowSpacer(a){return(a.type&this.IN_ROW_SPACER)>=1}isSpacerRow(a){return(a.type&this.BETWEEN_ROW_SPACER)>=1}isInput(a){return(a.type&this.INPUT)>=1}isExternalInput(a){return(a.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(a){return(a.type&this.INLINE_INPUT)>=1}isStatementInput(a){return(a.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(a){return(a.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(a){return(a.type&this.NEXT_CONNECTION)>=\n1}isPreviousOrNextConnection(a){return this.isPreviousConnection(a)||this.isNextConnection(a)}isRoundCorner(a){return(a.type&this.LEFT_ROUND_CORNER)>=1||(a.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(a){return this.isRoundCorner(a)&&(a.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(a){return this.isRoundCorner(a)&&(a.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(a){return(a.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(a){return(a.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(a){return(a.type&\nthis.CORNER)>=1}isJaggedEdge(a){return(a.type&this.JAGGED_EDGE)>=1}isRow(a){return(a.type&this.ROW)>=1}isBetweenRowSpacer(a){return(a.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(a){return(a.type&this.TOP_ROW)>=1}isBottomRow(a){return(a.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(a){return this.isTopRow(a)||this.isBottomRow(a)}isInputRow(a){return(a.type&this.INPUT_ROW)>=1}},Types$$module$build$src$core$renderers$measurables$types=new TypesContainer$$module$build$src$core$renderers$measurables$types,module$build$src$core$renderers$measurables$types=\n{Types:Types$$module$build$src$core$renderers$measurables$types};var Measurable$$module$build$src$core$renderers$measurables$base=class{constructor(a){this.centerline=this.xPos=this.height=this.width=0;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.NONE;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},module$build$src$core$renderers$measurables$base={};module$build$src$core$renderers$measurables$base.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;var Row$$module$build$src$core$renderers$measurables$row=class{constructor(a){this.elements=[];this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0;this.hasStatement=this.hasExternalInput=!1;this.statementEdge=0;this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1;this.align=null;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.ROW;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let a=\nthis.elements.length-1;a>=0;a--){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInput(b))return b}return null}measure(){throw Error(\"Unexpected attempt to measure a base Row.\");}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let a=0;a<this.elements.length;a++){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInRowSpacer(b))return b}return null}getLastSpacer(){for(let a=this.elements.length-\n1;a>=0;a--){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInRowSpacer(b))return b}return null}},module$build$src$core$renderers$measurables$row={};module$build$src$core$renderers$measurables$row.Row=Row$$module$build$src$core$renderers$measurables$row;var BottomRow$$module$build$src$core$renderers$measurables$bottom_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.hasNextConnection=!1;this.connection=null;this.baseline=this.descenderHeight=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.BOTTOM_ROW}hasLeftSquareCorner(a){return!!a.outputConnection||!!a.getNextBlock()}hasRightSquareCorner(a){return!0}measure(){let a=0,b=0,c=0;for(let d=0;d<this.elements.length;d++){const e=\nthis.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(e)?c=Math.max(c,e.height):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.descenderHeight=c;this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},module$build$src$core$renderers$measurables$bottom_row={};\nmodule$build$src$core$renderers$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;var Connection$$module$build$src$core$renderers$measurables$connection=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.connectionModel=b;this.type|=Types$$module$build$src$core$renderers$measurables$types.CONNECTION;this.shape=this.constants_.shapeFor(b);this.isDynamicShape=\"isDynamic\"in this.shape&&this.shape.isDynamic;this.highlighted=b.isHighlighted()}},module$build$src$core$renderers$measurables$connection={};\nmodule$build$src$core$renderers$measurables$connection.Connection=Connection$$module$build$src$core$renderers$measurables$connection;var InputConnection$$module$build$src$core$renderers$measurables$input_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b.connection);this.input=b;this.connectionOffsetY=this.connectionOffsetX=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT;this.align=b.align;(this.connectedBlock=b.connection&&b.connection.targetBlock()?b.connection.targetBlock():null)?(a=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=\na.width,this.connectedBlockHeight=a.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},module$build$src$core$renderers$measurables$input_connection={};module$build$src$core$renderers$measurables$input_connection.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;var ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.height=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.EXTERNAL_VALUE_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height;this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING;\nthis.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP;this.connectionHeight=this.shape.height;this.connectionWidth=this.shape.width}},module$build$src$core$renderers$measurables$external_value_input={};module$build$src$core$renderers$measurables$external_value_input.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;var Field$$module$build$src$core$renderers$measurables$field=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b,c){super(a);this.field=b;this.parentInput=c;this.isEditable=b.EDITABLE;this.flipRtl=b.getFlipRtl();this.type|=Types$$module$build$src$core$renderers$measurables$types.FIELD;a=this.field.getSize();this.height=a.height;this.width=a.width}},module$build$src$core$renderers$measurables$field={};module$build$src$core$renderers$measurables$field.Field=Field$$module$build$src$core$renderers$measurables$field;var Hat$$module$build$src$core$renderers$measurables$hat=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.HAT;this.height=this.constants_.START_HAT.height;this.width=this.constants_.START_HAT.width;this.ascenderHeight=this.height}},module$build$src$core$renderers$measurables$hat={};module$build$src$core$renderers$measurables$hat.Hat=Hat$$module$build$src$core$renderers$measurables$hat;var Icon$$module$build$src$core$renderers$measurables$icon=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.icon=b;this.flipRtl=!1;this.type|=Types$$module$build$src$core$renderers$measurables$types.ICON;a=b.getSize();this.height=a.height;this.width=a.width}},module$build$src$core$renderers$measurables$icon={};module$build$src$core$renderers$measurables$icon.Icon=Icon$$module$build$src$core$renderers$measurables$icon;var InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.IN_ROW_SPACER;this.width=b;this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},module$build$src$core$renderers$measurables$in_row_spacer={};\nmodule$build$src$core$renderers$measurables$in_row_spacer.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;var InlineInput$$module$build$src$core$renderers$measurables$inline_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.INLINE_INPUT;this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING);this.connectionHeight=\nthis.isDynamicShape?this.shape.height(this.height):this.shape.height;this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width;this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1));this.connectionOffsetY=\"connectionOffsetY\"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP;this.connectionOffsetX=\"connectionOffsetX\"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},module$build$src$core$renderers$measurables$inline_input=\n{};module$build$src$core$renderers$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;var InputRow$$module$build$src$core$renderers$measurables$input_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.connectedBlockWidths=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT_ROW}measure(){this.width=this.minWidth;this.height=this.minHeight;let a=0;for(let b=0;b<this.elements.length;b++){const c=this.elements[b];this.width+=c.width;Types$$module$build$src$core$renderers$measurables$types.isInput(c)&&(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(c)?\na+=c.connectedBlockWidth:Types$$module$build$src$core$renderers$measurables$types.isExternalInput(c)&&c.connectedBlockWidth!==0&&(a+=c.connectedBlockWidth-c.connectionWidth));Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)||(this.height=Math.max(this.height,c.height))}this.connectedBlockWidths=a;this.widthWithConnectedBlocks=this.width+a}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},module$build$src$core$renderers$measurables$input_row={};\nmodule$build$src$core$renderers$measurables$input_row.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;var JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.JAGGED_EDGE;this.height=this.constants_.JAGGED_TEETH.height;this.width=this.constants_.JAGGED_TEETH.width}},module$build$src$core$renderers$measurables$jagged_edge={};module$build$src$core$renderers$measurables$jagged_edge.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;var NextConnection$$module$build$src$core$renderers$measurables$next_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.NEXT_CONNECTION;this.height=this.shape.height;this.width=this.shape.width}},module$build$src$core$renderers$measurables$next_connection={};module$build$src$core$renderers$measurables$next_connection.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;var OutputConnection$$module$build$src$core$renderers$measurables$output_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.connectionOffsetX=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.OUTPUT_CONNECTION;this.height=this.isDynamicShape?0:this.shape.height;this.startX=this.width=this.isDynamicShape?0:this.shape.width;this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},module$build$src$core$renderers$measurables$output_connection=\n{};module$build$src$core$renderers$measurables$output_connection.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;var PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.PREVIOUS_CONNECTION;this.height=this.shape.height;this.width=this.shape.width}},module$build$src$core$renderers$measurables$previous_connection={};module$build$src$core$renderers$measurables$previous_connection.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;var RoundCorner$$module$build$src$core$renderers$measurables$round_corner=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type=(b&&b!==\"left\"?Types$$module$build$src$core$renderers$measurables$types.RIGHT_ROUND_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_ROUND_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;this.width=this.constants_.CORNER_RADIUS;this.height=this.constants_.CORNER_RADIUS/2}},\nmodule$build$src$core$renderers$measurables$round_corner={};module$build$src$core$renderers$measurables$round_corner.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;var SpacerRow$$module$build$src$core$renderers$measurables$spacer_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a,b,c){super(a);this.height=b;this.width=c;this.precedesStatement=this.followsStatement=!1;this.widthWithConnectedBlocks=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.BETWEEN_ROW_SPACER;this.elements=[new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nc)]}measure(){}},module$build$src$core$renderers$measurables$spacer_row={};module$build$src$core$renderers$measurables$spacer_row.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;var SquareCorner$$module$build$src$core$renderers$measurables$square_corner=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type=(b&&b!==\"left\"?Types$$module$build$src$core$renderers$measurables$types.RIGHT_SQUARE_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_SQUARE_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;this.width=this.height=this.constants_.NO_PADDING}},module$build$src$core$renderers$measurables$square_corner=\n{};module$build$src$core$renderers$measurables$square_corner.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;var StatementInput$$module$build$src$core$renderers$measurables$statement_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.STATEMENT_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT;this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},\nmodule$build$src$core$renderers$measurables$statement_input={};module$build$src$core$renderers$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;var TopRow$$module$build$src$core$renderers$measurables$top_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.ascenderHeight=this.capline=0;this.hasPreviousConnection=!1;this.connection=null;this.type|=Types$$module$build$src$core$renderers$measurables$types.TOP_ROW}hasLeftSquareCorner(a){const b=(a.hat?a.hat===\"cap\":this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||(c?\nc.getNextBlock()===a:!1)}hasRightSquareCorner(a){return!0}measure(){let a=0,b=0,c=0;for(let d=0;d<this.elements.length;d++){const e=this.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isHat(e)?c=Math.max(c,e.ascenderHeight):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.capline=this.ascenderHeight=c;this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},\nmodule$build$src$core$renderers$measurables$top_row={};module$build$src$core$renderers$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;var ConstantProvider$$module$build$src$core$renderers$common$constants=class{constructor(){this.NO_PADDING=0;this.SMALL_PADDING=3;this.MEDIUM_PADDING=5;this.MEDIUM_LARGE_PADDING=8;this.LARGE_PADDING=10;this.TAB_HEIGHT=15;this.TAB_OFFSET_FROM_TOP=5;this.TAB_VERTICAL_OVERLAP=2.5;this.TAB_WIDTH=8;this.NOTCH_WIDTH=15;this.NOTCH_HEIGHT=4;this.MIN_BLOCK_WIDTH=12;this.EMPTY_BLOCK_SPACER_HEIGHT=16;this.CORNER_RADIUS=8;this.NOTCH_OFFSET_LEFT=15;this.STATEMENT_BOTTOM_SPACER=0;this.STATEMENT_INPUT_PADDING_LEFT=\n20;this.BETWEEN_STATEMENT_PADDING_Y=4;this.ADD_START_HATS=!1;this.START_HAT_HEIGHT=15;this.START_HAT_WIDTH=100;this.SPACER_DEFAULT_HEIGHT=15;this.MIN_BLOCK_HEIGHT=24;this.EMPTY_INLINE_INPUT_PADDING=14.5;this.EXTERNAL_VALUE_INPUT_PADDING=2;this.JAGGED_TEETH_HEIGHT=12;this.JAGGED_TEETH_WIDTH=6;this.FIELD_TEXT_FONTSIZE=11;this.FIELD_TEXT_FONTWEIGHT=\"normal\";this.FIELD_TEXT_FONTFAMILY=\"sans-serif\";this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1;this.FIELD_BORDER_RECT_RADIUS=4;this.FIELD_BORDER_RECT_HEIGHT=\n16;this.FIELD_BORDER_RECT_X_PADDING=5;this.FIELD_BORDER_RECT_Y_PADDING=3;this.FIELD_BORDER_RECT_COLOUR=\"#fff\";this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1;this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12;this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1;this.FIELD_COLOUR_DEFAULT_WIDTH=26;this.defs=null;this.embossFilterId=\"\";this.embossFilter=null;this.disabledPatternId=\"\";this.disabledPattern=null;this.debugFilterId=\"\";this.cssNode=\nthis.debugFilter=null;this.CURSOR_COLOUR=\"#cc0a0a\";this.MARKER_COLOUR=\"#4286f4\";this.CURSOR_WS_WIDTH=100;this.WS_CURSOR_HEIGHT=5;this.CURSOR_STACK_PADDING=10;this.CURSOR_BLOCK_PADDING=2;this.CURSOR_STROKE_WIDTH=4;this.FULL_BLOCK_FIELDS=!1;this.INSERTION_MARKER_COLOUR=\"#000000\";this.INSERTION_MARKER_OPACITY=.2;this.SHAPES={PUZZLE:1,NOTCH:2};this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT;this.STATEMENT_INPUT_NOTCH_OFFSET=\nthis.NOTCH_OFFSET_LEFT;this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11;this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(0,0);this.FIELD_TEXT_BASELINE_CENTER=!0;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;\nthis.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_DROPDOWN_SVG_ARROW_DATAURI=\"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=\";\nthis.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3;this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth();this.NOTCH=this.makeNotch();this.START_HAT=this.makeStartHat();this.PUZZLE_TAB=this.makePuzzleTab();this.INSIDE_CORNERS=this.makeInsideCorners();this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(a){this.blockStyles=Object.create(null);const b=a.blockStyles;for(const c in b)this.blockStyles[c]=\nthis.validatedBlockStyle_(b[c]);this.setDynamicProperties_(a)}setDynamicProperties_(a){this.setFontConstants_(a);this.setComponentConstants_(a);this.ADD_START_HATS=a.startHats!==void 0?a.startHats:this.ADD_START_HATS}setFontConstants_(a){a.fontStyle&&a.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=a.fontStyle.family);a.fontStyle&&a.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=a.fontStyle.weight);a.fontStyle&&a.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=a.fontStyle.size);a=measureFontMetrics$$module$build$src$core$utils$dom(\"Hg\",\nthis.FIELD_TEXT_FONTSIZE+\"pt\",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY);this.FIELD_TEXT_HEIGHT=a.height;this.FIELD_TEXT_BASELINE=a.baseline}setComponentConstants_(a){this.CURSOR_COLOUR=a.getComponentStyle(\"cursorColour\")||this.CURSOR_COLOUR;this.MARKER_COLOUR=a.getComponentStyle(\"markerColour\")||this.MARKER_COLOUR;this.INSERTION_MARKER_COLOUR=a.getComponentStyle(\"insertionMarkerColour\")||this.INSERTION_MARKER_COLOUR;this.INSERTION_MARKER_OPACITY=Number(a.getComponentStyle(\"insertionMarkerOpacity\"))||\nthis.INSERTION_MARKER_OPACITY}getBlockStyleForColour(a){const b=\"auto_\"+a;this.blockStyles[b]||(this.blockStyles[b]=this.createBlockStyle_(a));return{style:this.blockStyles[b],name:b}}getBlockStyle(a){return this.blockStyles[a||\"\"]||(a&&a.startsWith(\"auto_\")?this.getBlockStyleForColour(a.substring(5)).style:this.createBlockStyle_(\"#000000\"))}createBlockStyle_(a){return this.validatedBlockStyle_({colourPrimary:a})}validatedBlockStyle_(a){const b={};a&&Object.assign(b,a);a=parseBlockColour$$module$build$src$core$utils$parsing(b.colourPrimary||\n\"#000\");b.colourPrimary=a.hex;b.colourSecondary=b.colourSecondary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourSecondary).hex:this.generateSecondaryColour_(b.colourPrimary);b.colourTertiary=b.colourTertiary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourTertiary).hex:this.generateTertiaryColour_(b.colourPrimary);b.hat=b.hat||\"\";return b}generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#fff\",a,.6)||a}generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#fff\",\na,.3)||a}dispose(){this.embossFilter&&removeNode$$module$build$src$core$utils$dom(this.embossFilter);this.disabledPattern&&removeNode$$module$build$src$core$utils$dom(this.disabledPattern);this.debugFilter&&removeNode$$module$build$src$core$utils$dom(this.debugFilter);this.cssNode=null}makeJaggedTeeth(){const a=this.JAGGED_TEETH_HEIGHT,b=this.JAGGED_TEETH_WIDTH,c=line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(b,a/4),point$$module$build$src$core$utils$svg_paths(-b*\n2,a/2),point$$module$build$src$core$utils$svg_paths(b,a/4)]);return{height:a,width:b,path:c}}makeStartHat(){const a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(30,-a),point$$module$build$src$core$utils$svg_paths(70,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a*.75,width:b,path:c}}makePuzzleTab(){function a(f){f=f?-1:1;const g=-f;var h=c/2;const k=h+2.5,l=h+.5,m=point$$module$build$src$core$utils$svg_paths(-b,\nf*h);h=point$$module$build$src$core$utils$svg_paths(b,f*h);return curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(0,f*k),point$$module$build$src$core$utils$svg_paths(-b,g*l),m])+curve$$module$build$src$core$utils$svg_paths(\"s\",[point$$module$build$src$core$utils$svg_paths(b,g*2.5),h])}const b=this.TAB_WIDTH,c=this.TAB_HEIGHT,d=a(!0),e=a(!1);return{type:this.SHAPES.PUZZLE,width:b,height:c,pathDown:e,pathUp:d}}makeNotch(){function a(g){return line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(g*\nd,c),point$$module$build$src$core$utils$svg_paths(g*3,0),point$$module$build$src$core$utils$svg_paths(g*d,-c)])}const b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:e,pathRight:f}}makeInsideCorners(){const a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(a,\na));return{width:a,height:a,pathTop:b,pathBottom:c}}makeOutsideCorners(){const a=this.CORNER_RADIUS,b=moveBy$$module$build$src$core$utils$svg_paths(0,a)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,-a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,a)),d=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,-a)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\n\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,a));return{topLeft:b,topRight:c,bottomRight:e,bottomLeft:d,rightHeight:a}}shapeFor(a){switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:return this.PUZZLE_TAB;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error(\"Unknown connection type\");\n}}createDom(a,b,c,d){this.injectCSS_(b,c);this.defs=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,{},a);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklyEmbossFilter\"+this.randomIdentifier},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceAlpha\",stdDeviation:1,result:\"blur\"},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING,\n{\"in\":\"blur\",surfaceScale:1,specularConstant:.5,specularExponent:10,\"lighting-color\":\"white\",result:\"specOut\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEPOINTLIGHT,{x:-5E3,y:-1E4,z:2E4},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"specOut\",in2:\"SourceAlpha\",operator:\"in\",result:\"specOut\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,\n{\"in\":\"SourceGraphic\",in2:\"specOut\",operator:\"arithmetic\",k1:0,k2:1,k3:1,k4:0},a);this.embossFilterId=a.id;this.embossFilter=a;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:\"blocklyDisabledPattern\"+this.randomIdentifier,patternUnits:\"userSpaceOnUse\",width:10,height:10},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:10,height:10,fill:\"#aaa\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,\n{d:\"M 0 0 L 10 10 M 10 0 L 0 10\",stroke:\"#cc0\"},a);this.disabledPatternId=a.id;this.disabledPattern=a;this.createDebugFilter();d&&(d.style.setProperty(\"--blocklyEmbossFilter\",`url(#${this.embossFilterId})`),d.style.setProperty(\"--blocklyDisabledPattern\",`url(#${this.disabledPatternId})`),d.style.setProperty(\"--blocklyDebugFilter\",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,\n{id:\"blocklyDebugFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},this.defs),b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:\"outBlur\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":\"#ff0000\",\n\"flood-opacity\":.5,result:\"outColor\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",result:\"outGlow\"},a);this.debugFilterId=a.id;this.debugFilter=a}}injectCSS_(a,b){b=this.getCSS_(b);a=\"blockly-renderer-style-\"+a;this.cssNode=document.getElementById(a);const c=b.join(\"\\n\");this.cssNode?this.cssNode.firstChild.textContent=c:(b=document.createElement(\"style\"),b.id=a,a=document.createTextNode(c),b.appendChild(a),\ndocument.head.insertBefore(b,document.head.firstChild),this.cssNode=b)}getCSS_(a){return[`${a} .blocklyText, `,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} `+`${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a} .blocklyText {`,\"fill: #fff;\",\"}\",`${a} .blocklyNonEditableField>rect,`,`${a} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,\"fill-opacity: .6;\",\"stroke: none;\",\"}\",`${a} .blocklyNonEditableField>text,`,`${a} .blocklyEditableField>text {`,\n\"fill: #000;\",\"}\",`${a} .blocklyFlyoutLabelText {`,\"fill: #000;\",\"}\",`${a} .blocklyText.blocklyBubbleText {`,\"fill: #000;\",\"}\",`${a} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,\"stroke: #fff;\",\"stroke-width: 2;\",\"}\",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,\"}\",`${a} .blocklySelected>.blocklyPath {`,\"stroke: #fc3;\",\"stroke-width: 3px;\",\"}\",`${a} .blocklyHighlightedConnectionPath {`,\"stroke: #fc3;\",\"}\",`${a} .blocklyReplaceable .blocklyPath {`,\n\"fill-opacity: .5;\",\"}\",`${a} .blocklyReplaceable .blocklyPathLight,`,`${a} .blocklyReplaceable .blocklyPathDark {`,\"display: none;\",\"}\",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\"stroke: none;\",\"}\"]}},module$build$src$core$renderers$common$constants={};module$build$src$core$renderers$common$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;\nmodule$build$src$core$renderers$common$constants.isDynamicShape=isDynamicShape$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isNotch=isNotch$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isPuzzleTab=isPuzzleTab$$module$build$src$core$renderers$common$constants;var Drawer$$module$build$src$core$renderers$common$drawer=class{constructor(a,b){this.inlinePath_=this.outlinePath_=\"\";this.block_=a;this.info_=b;this.topLeft_=a.getRelativeToSurfaceXY();this.constants_=b.getRenderer().getConstants()}draw(){this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();this.block_.pathObject.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);this.info_.RTL&&this.block_.pathObject.flipRTL();this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=\nthis.info_.height;this.block_.width=this.info_.widthWithChildren;this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let a=1;a<this.info_.rows.length-1;a++){const b=this.info_.rows[a];b.hasJaggedEdge?this.drawJaggedEdge_(b):b.hasStatement?this.drawStatementInput_(b):b.hasExternalInput?this.drawValueInput_(b):this.drawRightSideRow_(b)}this.drawBottom_();this.drawLeft_()}drawTop_(){const a=this.info_.topRow,b=a.elements;this.positionPreviousConnection_();this.outlinePath_+=\nmoveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(let c=0,d;d=b[c];c++)Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Types$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(d)?this.outlinePath_+=d.shape.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(d)?\nthis.outlinePath_+=this.constants_.START_HAT.path:Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",d.width));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-a.ascenderHeight)}drawJaggedEdge_(a){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(a){const b=\na.getLastInput();this.positionExternalValueConnection_(a);const c=isDynamicShape$$module$build$src$core$renderers$common$constants(b.shape)?b.shape.pathDown(b.height):b.shape.pathDown;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b.xPos+b.width)+c+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-b.connectionHeight)}drawStatementInput_(a){var b=a.getLastInput();if(b){var c=b.xPos+b.notchOffset+b.shape.width;b=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\n-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=a.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+this.constants_.INSIDE_CORNERS.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width);this.positionStatementInputConnection_(a)}}drawRightSideRow_(a){this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",\na.yPos+a.height)}drawBottom_(){const a=this.info_.bottomRow,b=a.elements;this.positionNextConnection_();let c=0,d=\"\";for(let e=b.length-1,f;f=b[e];e--)Types$$module$build$src$core$renderers$measurables$types.isNextConnection(f)?d+=f.shape.pathRight:Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(f)?d+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(f)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:\nTypes$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(f)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,c=this.constants_.OUTSIDE_CORNERS.rightHeight):Types$$module$build$src$core$renderers$measurables$types.isSpacer(f)&&(d+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",f.width*-1));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline-c);this.outlinePath_+=d}drawLeft_(){var a=this.info_.outputConnection;this.positionOutputConnection_();\nif(a){const b=a.connectionOffsetY+a.height;a=isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?a.shape.pathUp(a.height):a.shape.pathUp;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",b)+a}this.outlinePath_+=\"z\"}drawInternals_(){for(let a=0,b;b=this.info_.rows[a];a++)for(let c=0,d;d=b.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isInlineInput(d)?this.drawInlineInput_(d):(Types$$module$build$src$core$renderers$measurables$types.isIcon(d)||\nTypes$$module$build$src$core$renderers$measurables$types.isField(d))&&this.layoutField_(d)}layoutField_(a){const b=a.centerline-a.height/2;let c=a.xPos;var d=\"\";this.info_.RTL&&(c=-(c+a.width),a.flipRtl&&(c+=a.width,d=\"scale(-1 1)\"));Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?(d=a.icon,d.setOffsetInBlock(new Coordinate$$module$build$src$core$utils$coordinate(c,b)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(a=a.field.getSvgRoot(),a.setAttribute(\"transform\",\"translate(\"+\nc+\",\"+b+\")\"+d),this.info_.isInsertionMarker&&a.setAttribute(\"display\",\"none\"))}drawInlineInput_(a){const b=a.width,c=a.height,d=a.connectionOffsetY,e=a.connectionHeight+d;this.inlinePath_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.connectionWidth,a.centerline-c/2)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+a.shape.pathDown+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",c-e)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b-a.connectionWidth)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\n-c)+\"z\";this.positionInlineInputConnection_(a)}positionInlineInputConnection_(a){const b=a.centerline-a.height/2;if(a.connectionModel){let c=a.xPos+a.connectionWidth+a.connectionOffsetX;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY)}}positionStatementInputConnection_(a){const b=a.getLastInput();if(b==null?0:b.connectionModel){let c=a.xPos+a.statementEdge+b.notchOffset;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionExternalValueConnection_(a){const b=\na.getLastInput();if(b&&b.connectionModel){let c=a.xPos+a.width;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionPreviousConnection_(){const a=this.info_.topRow;if(a.connection){const b=a.xPos+a.notchOffset;a.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-b:b,0)}}positionNextConnection_(){const a=this.info_.bottomRow;if(a.connection){const b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock(this.info_.RTL?-c:c,a.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const a=\nthis.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-a:a,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const a of this.info_.rows)for(const b of a.elements){if(!(b instanceof Connection$$module$build$src$core$renderers$measurables$connection))continue;const c=this.drawConnectionHighlightPath(b);c&&(c.style.display=b.highlighted?\"\":\"none\")}}drawConnectionHighlightPath(a){const b=a.connectionModel;\na=b.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(a):this.getStatementConnectionHighlightPath(a);const c=b.getSourceBlock();let d,e;return(e=(d=c.pathObject).addConnectionHighlight)==null?void 0:e.call(d,b,a,b.getOffsetInBlock(),c.RTL)}getExpressionConnectionHighlightPath(a){let b=\"\";isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?\nb=a.shape.pathDown(a.height):isPuzzleTab$$module$build$src$core$renderers$common$constants(a.shape)&&(b=a.shape.pathDown);a=this.constants_.TAB_OFFSET_FROM_TOP;return moveBy$$module$build$src$core$utils$svg_paths(0,-a)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)}getStatementConnectionHighlightPath(a){if(!isNotch$$module$build$src$core$renderers$common$constants(a.shape))throw Error(\"Statement connections should have notch shapes\");\nconst b=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return moveBy$$module$build$src$core$utils$svg_paths(-b,0)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)+a.shape.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)}},module$build$src$core$renderers$common$drawer={};module$build$src$core$renderers$common$drawer.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;var RenderInfo$$module$build$src$core$renderers$common$info=class{constructor(a,b){this.statementEdge=this.width=this.widthWithChildren=this.height=0;this.rows=[];this.inputRows=[];this.startY=this.startX=0;this.renderer_=a;this.block_=b;this.constants_=this.renderer_.getConstants();this.outputConnection=b.outputConnection?new OutputConnection$$module$build$src$core$renderers$measurables$output_connection(this.constants_,b.outputConnection):null;this.isInline=b.getInputsInline()&&!b.isCollapsed();\nthis.isCollapsed=b.isCollapsed();this.isInsertionMarker=b.isInsertionMarker();this.RTL=b.RTL;this.topRow=new TopRow$$module$build$src$core$renderers$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$measurables$bottom_row(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.computeBounds_();this.alignRowElements_();this.finalize_()}createRows_(){this.populateTopRow_();this.rows.push(this.topRow);\nlet a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_);this.inputRows.push(a);var b=this.block_.getIcons();for(let c=0,d;d=b[c];c++){const e=new Icon$$module$build$src$core$renderers$measurables$icon(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||a.elements.push(e)}b=void 0;for(let c=0,d;d=this.block_.inputList[c];c++)if(d.isVisible()){this.shouldStartNewRow_(d,b)&&(this.rows.push(a),a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_),\nthis.inputRows.push(a));for(let e=0,f;f=d.fieldRow[e];e++)a.elements.push(new Field$$module$build$src$core$renderers$measurables$field(this.constants_,f,d));this.addInput_(d,a);b=d}this.isCollapsed&&(a.hasJaggedEdge=!0,a.elements.push(new JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge(this.constants_)));(a.elements.length||a.hasDummyInput)&&this.rows.push(a);this.populateBottomRow_();this.rows.push(this.bottomRow)}populateTopRow_(){var a=!!this.block_.previousConnection;const b=\n(this.block_.hat?this.block_.hat===\"cap\":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!a;let c=this.topRow.hasLeftSquareCorner(this.block_)?SquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_));b?(a=new Hat$$module$build$src$core$renderers$measurables$hat(this.constants_),this.topRow.elements.push(a)):a&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=\nnew PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection));this.block_.inputList.length&&this.block_.inputList[0]instanceof StatementInput$$module$build$src$core$inputs$statement_input&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT;c=this.topRow.hasRightSquareCorner(this.block_)?\nSquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_,\"right\"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection;this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:\nthis.constants_.BOTTOM_ROW_MIN_HEIGHT;this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_)):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_));this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new NextConnection$$module$build$src$core$renderers$measurables$next_connection(this.constants_,this.block_.nextConnection),\nthis.bottomRow.elements.push(this.bottomRow.connection));this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_,\"right\")):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_,\"right\"))}addInput_(a,b){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$measurables$inline_input(this.constants_,\na)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,a)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||\na instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,a.getSourceBlock()&&a.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;b.align===null&&(b.align=a.align)}shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||a instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?\n!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||b instanceof $.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let a=0,b;b=this.rows[a];a++){const c=b.elements;b.elements=[];b.startsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(null,c[0])));if(c.length){for(let d=\n0;d<c.length-1;d++){b.elements.push(c[d]);const e=this.getInRowSpacing_(c[d],c[d+1]);b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,e))}b.elements.push(c[c.length-1]);b.endsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(c[c.length-1],null)))}}}getInRowSpacing_(a,b){if(!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;\nif(a&&Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}return a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&\nb&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\na.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let a=0,b=0,c=0;for(let e=0,f;f=this.rows[e];e++){f.measure();b=Math.max(b,f.width);if(f.hasStatement){var d=f.getLastInput();let g,h;d=f.width-((h=(g=d)==null?void 0:g.width)!=null?h:0);a=Math.max(a,d)}c=Math.max(c,f.widthWithConnectedBlocks)}this.statementEdge=a;this.width=b;for(let e=0,f;f=this.rows[e];e++)f.hasStatement&&(f.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(b,c);this.outputConnection&&\n(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let b=0,c;c=this.rows[b];b++)if(c.hasStatement)this.alignStatementRow_(c);else{var a=c.width;a=this.getDesiredRowWidth_(c)-a;a>0&&this.addAlignmentPadding_(c,a);Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.widthWithConnectedBlocks=c.width)}}getDesiredRowWidth_(a){return this.width-this.startX}addAlignmentPadding_(a,\nb){const c=a.getFirstSpacer(),d=a.getLastSpacer();if(a.hasExternalInput||a.hasStatement)a.widthWithConnectedBlocks+=b;if(a.align===$.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=b;else if(a.align===$.Align$$module$build$src$core$inputs$align.CENTRE&&c&&d)c.width+=b/2,d.width+=b/2;else if(a.align===$.Align$$module$build$src$core$inputs$align.RIGHT&&c)c.width+=b;else if(d)d.width+=b;else return;a.width+=b}alignStatementRow_(a){const b=a.getLastInput();if(b){var c=a.width-b.width,d=this.statementEdge;\nc=d-c;c>0&&this.addAlignmentPadding_(a,c);c=a.width;d=this.getDesiredRowWidth_(a);b.width+=d-c;b.height=Math.max(b.height,a.height);a.width+=d-c;a.widthWithConnectedBlocks=Math.max(a.width,this.statementEdge+a.connectedBlockWidths)}}addRowSpacing_(){const a=this.rows;this.rows=[];for(let b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(this.makeSpacerRow_(a[b],a[b+1]))}makeSpacerRow_(a,b){var c=this.getSpacerRowHeight_(a,b);const d=this.getSpacerRowWidth_(a,b);c=new SpacerRow$$module$build$src$core$renderers$measurables$spacer_row(this.constants_,\nc,d);a.hasStatement&&(c.followsStatement=!0);b.hasStatement&&(c.precedesStatement=!0);return c}getSpacerRowWidth_(a,b){return this.width-this.startX}getSpacerRowHeight_(a,b){return this.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)?a.yPos+b.height/2:Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a)?(a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?\na+b.height/2:a-b.height/2):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2:a.yPos+a.height/2}recordElemPositions_(a){let b=a.xPos;for(let c=0,d;d=a.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(d.height=a.height),d.xPos=b,d.centerline=this.getElemCenterline_(a,d),b+=d.width}finalize_(){let a=0,b=0;for(let c=0,d;d=this.rows[c];c++)d.yPos=\nb,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){const c=this.block_.nextConnection.targetBlock();c&&(a=Math.max(a,c.getHeightWidth().width))}this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline;this.bottomRow.baseline=b-this.bottomRow.descenderHeight}getMeasureableForConnection(a){let b;if(((b=this.outputConnection)==null?void 0:b.connectionModel)===a)return this.outputConnection;\nfor(const c of this.rows)for(const d of c.elements)if(d instanceof Connection$$module$build$src$core$renderers$measurables$connection&&d.connectionModel===a)return d;return null}},module$build$src$core$renderers$common$info={};module$build$src$core$renderers$common$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;var PathObject$$module$build$src$core$renderers$common$path_object=class{constructor(a,b,c){this.connectionHighlights=new WeakMap;this.highlightOffsets=new WeakMap;this.constants=c;this.style=b;this.svgRoot=a;this.svgPath=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyPath\"},this.svgRoot);this.setClass_(\"blocklyBlock\",!0)}setPath(a){this.svgPath.setAttribute(\"d\",a)}flipRTL(){this.svgPath.setAttribute(\"transform\",\"scale(-1 1)\")}applyColour(a){this.svgPath.setAttribute(\"stroke\",\nthis.style.colourTertiary);this.svgPath.setAttribute(\"fill\",this.style.colourPrimary);this.updateShadow_(a.isShadow());this.updateDisabled_(!a.isEnabled()||a.getInheritedDisabled())}setStyle(a){this.style=a}setClass_(a,b){a&&(b?addClass$$module$build$src$core$utils$dom(this.svgRoot,a):removeClass$$module$build$src$core$utils$dom(this.svgRoot,a))}updateHighlighted(a){a?this.setClass_(\"blocklyHighlighted\",!0):this.setClass_(\"blocklyHighlighted\",!1)}updateShadow_(a){a?(this.setClass_(\"blocklyShadow\",\n!0),this.svgPath.setAttribute(\"stroke\",\"none\"),this.svgPath.setAttribute(\"fill\",this.style.colourSecondary)):this.setClass_(\"blocklyShadow\",!1)}updateDisabled_(a){this.setClass_(\"blocklyDisabled\",a);this.setClass_(\"blocklyDisabledPattern\",a)}updateSelected(a){this.setClass_(\"blocklySelected\",a)}updateDraggingDelete(a){this.setClass_(\"blocklyDraggingDelete\",a)}updateInsertionMarker(a){this.setClass_(\"blocklyInsertionMarker\",a)}updateMovable(a){this.setClass_(\"blocklyDraggable\",a)}updateReplacementFade(a){this.setClass_(\"blocklyReplaceable\",\na)}updateShapeForInputHighlight(a,b){}addConnectionHighlight(a,b,c,d){c=`translate(${c.x}, ${c.y})`+(d?\" scale(-1 1)\":\"\");if(d=this.connectionHighlights.get(a))return d.setAttribute(\"d\",b),d.setAttribute(\"transform\",c),d;b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{id:a.id,\"class\":\"blocklyHighlightedConnectionPath\",style:\"display: none;\",d:b,transform:c},this.svgRoot);this.connectionHighlights.set(a,b);return b}removeConnectionHighlight(a){const b=\nthis.connectionHighlights.get(a);b&&(removeNode$$module$build$src$core$utils$dom(b),this.connectionHighlights.delete(a))}},module$build$src$core$renderers$common$path_object={};module$build$src$core$renderers$common$path_object.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;var Renderer$$module$build$src$core$renderers$common$renderer=class{constructor(a){this.overrides=null;this.name=a}getClassName(){return this.name+\"-renderer\"}init(a,b){this.constants_=this.makeConstants_();b&&(this.overrides=b,Object.assign(this.constants_,b));this.constants_.setTheme(a);this.constants_.init()}createDom(a,b,c){this.constants_.createDom(a,this.name+\"-\"+b.name,\".\"+this.getClassName()+\".\"+b.getClassName(),c)}refreshDom(a,b,c){const d=this.getConstants();d.dispose();this.constants_=\nthis.makeConstants_();this.overrides&&Object.assign(this.constants_,this.overrides);this.constants_.randomIdentifier=d.randomIdentifier;this.constants_.setTheme(b);this.constants_.init();this.createDom(a,b,c)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$common$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$common$info(this,a)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$common$drawer(a,\nb)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$common$path_object(a,b,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(a){return!0}orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?b.outputConnection:b.previousConnection)}render(a){const b=this.makeRenderInfo_(a);b.measure();this.makeDrawer_(a,b).draw()}},\nmodule$build$src$core$renderers$common$renderer={};module$build$src$core$renderers$common$renderer.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;var module$build$src$core$renderers$common$block_rendering={};module$build$src$core$renderers$common$block_rendering.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;module$build$src$core$renderers$common$block_rendering.Connection=Connection$$module$build$src$core$renderers$measurables$connection;module$build$src$core$renderers$common$block_rendering.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;\nmodule$build$src$core$renderers$common$block_rendering.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;module$build$src$core$renderers$common$block_rendering.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;module$build$src$core$renderers$common$block_rendering.Field=Field$$module$build$src$core$renderers$measurables$field;module$build$src$core$renderers$common$block_rendering.Hat=Hat$$module$build$src$core$renderers$measurables$hat;\nmodule$build$src$core$renderers$common$block_rendering.Icon=Icon$$module$build$src$core$renderers$measurables$icon;module$build$src$core$renderers$common$block_rendering.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;module$build$src$core$renderers$common$block_rendering.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;module$build$src$core$renderers$common$block_rendering.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;\nmodule$build$src$core$renderers$common$block_rendering.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;module$build$src$core$renderers$common$block_rendering.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;module$build$src$core$renderers$common$block_rendering.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;module$build$src$core$renderers$common$block_rendering.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;\nmodule$build$src$core$renderers$common$block_rendering.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;module$build$src$core$renderers$common$block_rendering.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;module$build$src$core$renderers$common$block_rendering.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;\nmodule$build$src$core$renderers$common$block_rendering.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;module$build$src$core$renderers$common$block_rendering.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;module$build$src$core$renderers$common$block_rendering.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;module$build$src$core$renderers$common$block_rendering.Row=Row$$module$build$src$core$renderers$measurables$row;\nmodule$build$src$core$renderers$common$block_rendering.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;module$build$src$core$renderers$common$block_rendering.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;module$build$src$core$renderers$common$block_rendering.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;module$build$src$core$renderers$common$block_rendering.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;\nmodule$build$src$core$renderers$common$block_rendering.Types=Types$$module$build$src$core$renderers$measurables$types;module$build$src$core$renderers$common$block_rendering.init=init$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.register=register$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.unregister=unregister$$module$build$src$core$renderers$common$block_rendering;var ThemeManager$$module$build$src$core$theme_manager=class{constructor(a,b){this.workspace=a;this.theme=b;this.subscribedWorkspaces=[];this.componentDB=new Map}getTheme(){return this.theme}setTheme(a){var b=this.theme;this.theme=a;if(a=this.workspace.getInjectionDiv())b&&(b=b.getClassName())&&removeClass$$module$build$src$core$utils$dom(a,b),(b=this.theme.getClassName())&&addClass$$module$build$src$core$utils$dom(a,b);for(let c=0,d;d=this.subscribedWorkspaces[c];c++)d.refreshTheme();for(const [c,\nd]of this.componentDB)for(const e of d){a=e.element;b=e.propertyName;const f=this.theme&&this.theme.getComponentStyle(c);a.style.setProperty(b,f||\"\")}for(const c of this.subscribedWorkspaces)c.hideChaff()}subscribeWorkspace(a){this.subscribedWorkspaces.push(a)}unsubscribeWorkspace(a){if(!removeElem$$module$build$src$core$utils$array(this.subscribedWorkspaces,a))throw Error(\"Cannot unsubscribe a workspace that hasn't been subscribed.\");}subscribe(a,b,c){this.componentDB.has(b)||this.componentDB.set(b,\n[]);this.componentDB.get(b).push({element:a,propertyName:c});b=this.theme&&this.theme.getComponentStyle(b);a.style.setProperty(c,b||\"\")}unsubscribe(a){if(a)for(const [b,c]of this.componentDB){for(let d=c.length-1;d>=0;d--)c[d].element===a&&c.splice(d,1);c.length||this.componentDB.delete(b)}}dispose(){this.subscribedWorkspaces.length=0;this.componentDB.clear()}},module$build$src$core$theme_manager={};module$build$src$core$theme_manager.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;var CATEGORY_NAME$$module$build$src$core$variables_dynamic=\"VARIABLE_DYNAMIC\",onCreateVariableButtonClick_String$$module$build$src$core$variables_dynamic=stringButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Number$$module$build$src$core$variables_dynamic=numberButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Colour$$module$build$src$core$variables_dynamic=colourButtonClickHandler$$module$build$src$core$variables_dynamic,\nmodule$build$src$core$variables_dynamic={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables_dynamic};module$build$src$core$variables_dynamic.flyoutCategory=flyoutCategory$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$variables_dynamic;\nmodule$build$src$core$variables_dynamic.onCreateVariableButtonClick_Colour=colourButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_Number=numberButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_String=stringButtonClickHandler$$module$build$src$core$variables_dynamic;var ConnectionChecker$$module$build$src$core$connection_checker=class{canConnect(a,b,c,d){return this.canConnectWithReason(a,b,c,d)===Connection$$module$build$src$core$connection.CAN_CONNECT}canConnectWithReason(a,b,c,d){const e=this.doSafetyChecks(a,b);return e!==Connection$$module$build$src$core$connection.CAN_CONNECT?e:this.doTypeChecks(a,b)?c&&!this.doDragChecks(a,b,d||0)?Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:Connection$$module$build$src$core$connection.CAN_CONNECT:\nConnection$$module$build$src$core$connection.REASON_CHECKS_FAILED}getErrorMessage(a,b,c){switch(a){case Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:return\"Attempted to connect a block to itself.\";case Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:return\"Blocks not on same workspace.\";case Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:return\"Attempt to connect incompatible types.\";case Connection$$module$build$src$core$connection.REASON_TARGET_NULL:return\"Target connection is null.\";\ncase Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED:return\"Connection checks failed. \"+(b+\" expected \"+b.getCheck()+\", found \"+c.getCheck());case Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:return\"Connecting non-shadow to shadow block.\";case Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:return\"Drag checks failed.\";case Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:return\"Block would have an output and a previous connection.\";\ndefault:return\"Unknown connection failure: this should never happen!\"}}doSafetyChecks(a,b){if(!a||!b)return Connection$$module$build$src$core$connection.REASON_TARGET_NULL;let c,d,e;a.isSuperior()?(c=a.getSourceBlock(),d=b.getSourceBlock(),e=b):(d=a.getSourceBlock(),c=b.getSourceBlock(),e=a,a=b);return c===d?Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:e.type!==OPPOSITE_TYPE$$module$build$src$core$internal_constants[a.type]?Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:\nc.workspace!==d.workspace?Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:c.isShadow()&&!d.isShadow()?Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:\nConnection$$module$build$src$core$connection.CAN_CONNECT}doTypeChecks(a,b){a=a.getCheck();b=b.getCheck();if(!a||!b)return!0;for(let c=0;c<a.length;c++)if(b.includes(a[c]))return!0;return!1}doDragChecks(a,b,c){if(a.distanceFrom(b)>c||b.getSourceBlock().isInsertionMarker())return!1;switch(b.type){case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(a,b);case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:if(b.isConnected()&&\n!b.targetBlock().isInsertionMarker()||a.isConnected())return!1;break;case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;break;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:if(b.isConnected()&&!a.getSourceBlock().nextConnection&&!b.targetBlock().isShadow()&&b.targetBlock().nextConnection||b.targetBlock()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;\nbreak;default:return!1}return draggingConnections$$module$build$src$core$common.includes(b)?!1:!0}canConnectToPrevious_(a,b){if(a.targetConnection||draggingConnections$$module$build$src$core$common.includes(b))return!1;if(!b.targetConnection)return!0;a=b.targetBlock();return a.isInsertionMarker()?!a.getPreviousBlock():!1}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,DEFAULT$$module$build$src$core$registry,ConnectionChecker$$module$build$src$core$connection_checker);\nvar module$build$src$core$connection_checker={};module$build$src$core$connection_checker.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;var Workspace$$module$build$src$core$workspace=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(a){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1;this.MAX_UNDO=1024;this.connectionDBList=[];this.topBlocks=[];this.topComments=[];this.commentDB=new Map;this.listeners=[];this.undoStack_=[];this.redoStack_=[];this.blockDB=new Map;this.typedBlocksDB=new Map;this.procedureMap=new ObservableProcedureMap$$module$build$src$core$observable_procedure_map;\nthis.readOnly=!1;this.potentialVariableMap=null;this.id=genUid$$module$build$src$core$utils$idgenerator();registerWorkspace$$module$build$src$core$common(this);this.options=a||new Options$$module$build$src$core$options({});this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.connectionChecker=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,this.options,\n!0))(this);this.variableMap=new (this.getVariableMapClass())(this);this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0;this.clear();unregisterWorkpace$$module$build$src$core$common(this)}sortObjects(a,b){const c=d=>({getBoundingRectangle:()=>{const e=d.getRelativeToSurfaceXY();return new Rect$$module$build$src$core$utils$rect(e.y,e.y,e.x,e.x)},moveBy:()=>{}});return this.sortByOrigin(c(a),c(b))}sortByOrigin(a,b){const c=Math.sin(toRadians$$module$build$src$core$utils$math(Workspace$$module$build$src$core$workspace.SCAN_ANGLE))*\n(this.RTL?-1:1);a=a.getBoundingRectangle().getOrigin();b=b.getBoundingRectangle().getOrigin();return a.y+c*a.x-(b.y+c*b.x)}addTopBlock(a){this.topBlocks.push(a)}removeTopBlock(a){if(!removeElem$$module$build$src$core$utils$array(this.topBlocks,a))throw Error(\"Block not present in workspace's list of top-most blocks.\");}getTopBlocks(a=!1){const b=[].concat(this.topBlocks);a&&b.length>1&&b.sort(this.sortObjects.bind(this));return b}addTypedBlock(a){this.typedBlocksDB.has(a.type)||this.typedBlocksDB.set(a.type,\n[]);this.typedBlocksDB.get(a.type).push(a)}removeTypedBlock(a){removeElem$$module$build$src$core$utils$array(this.typedBlocksDB.get(a.type),a);this.typedBlocksDB.get(a.type).length||this.typedBlocksDB.delete(a.type)}getBlocksByType(a,b=!1){if(!this.typedBlocksDB.has(a))return[];a=this.typedBlocksDB.get(a).slice(0);b&&a&&a.length>1&&a.sort(this.sortObjects.bind(this));return a.filter(c=>!c.isInsertionMarker())}addTopComment(a){this.topComments.push(a);this.commentDB.has(a.id)&&console.warn('Overriding an existing comment on this workspace, with id \"'+\na.id+'\"');this.commentDB.set(a.id,a)}removeTopComment(a){if(!removeElem$$module$build$src$core$utils$array(this.topComments,a))throw Error(\"Comment not present in workspace's list of top-most comments.\");this.commentDB.delete(a.id)}getTopComments(a=!1){const b=[].concat(this.topComments);a&&b.length>1&&b.sort(this.sortObjects.bind(this));return b}getAllBlocks(a=!1){if(a){var b=this.getTopBlocks(!0);a=[];for(let c=0;c<b.length;c++)a.push(...b[c].getDescendants(!0))}else for(a=this.getTopBlocks(!1),\nb=0;b<a.length;b++)a.push(...a[b].getChildren(!1));return a.filter(c=>!c.isInsertionMarker())}clear(){this.isClearing=!0;try{const a=$.getGroup$$module$build$src$core$events$utils();for(a||$.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();$.setGroup$$module$build$src$core$events$utils(a);this.isFlyout||this.variableMap.clear();this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=\n!1}}renameVariableById(a,b){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.renameVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().renameVariable\");(a=this.variableMap.getVariableById(a))&&this.variableMap.renameVariable(a,b)}createVariable(a,b,c){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.createVariable\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().createVariable\");return this.variableMap.createVariable(a,b!=null?b:void 0,c!=null?c:void 0)}getVariableUsesById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariableUsesById\",\n\"v12\",\"v13\",\"Blockly.Variables.getVariableUsesById\");return getVariableUsesById$$module$build$src$core$variables(this,a)}deleteVariableById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.deleteVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().deleteVariable\");const b=this.variableMap.getVariableById(a);b?$.deleteVariable$$module$build$src$core$variables(this,b):console.warn(`Can't delete non-existent variable: ${a}`)}getVariable(a,b){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariable\",\n\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariable\");return this.variableMap.getVariable(a,b)}getVariableById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariableById\");return this.variableMap.getVariableById(a)}getVariablesOfType(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariablesOfType\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariablesOfType\");return this.variableMap.getVariablesOfType(a!=\nnull?a:\"\")}getAllVariables(){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getAllVariables\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getAllVariables\");return this.variableMap.getAllVariables()}getAllVariableNames(){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getAllVariableNames\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getAllVariables\");return this.variableMap.getAllVariables().map(a=>a.getName())}getWidth(){return 0}newBlock(a,b){throw Error(\"The implementation of newBlock should be monkey-patched in by blockly.ts\");\n}newComment(a){throw Error(\"The implementation of newComment should be monkey-patched in by blockly.ts\");}remainingCapacity(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(a){return this.options.maxInstances?(this.options.maxInstances[a]!==void 0?this.options.maxInstances[a]:Infinity)-this.getBlocksByType(a,!1).length:Infinity}isCapacityAvailable(a){if(!this.hasBlockLimits())return!0;let b=0;for(const c in a){if(a[c]>this.remainingCapacityOfType(c))return!1;\nb+=a[c]}return b>this.remainingCapacity()?!1:!0}hasBlockLimits(){return this.options.maxBlocks!==Infinity||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_;const d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group===b[b.length-1].group;){const f=b.pop();f&&e.push(f)}for(b=0;b<e.length;b++)c.push(e[b]);$.setRecordUndo$$module$build$src$core$events$utils(!1);\ntry{for(c=0;c<e.length;c++)e[c].run(a)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0;this.redoStack_.length=0;clearPendingUndo$$module$build$src$core$events$utils()}addChangeListener(a){this.listeners.push(a);return a}removeChangeListener(a){removeElem$$module$build$src$core$utils$array(this.listeners,a)}fireChangeListener(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=\n0;)this.undoStack_.shift();for(let b=0;b<this.listeners.length;b++)(0,this.listeners[b])(a)}getBlockById(a){return this.blockDB.get(a)||null}setBlockById(a,b){this.blockDB.set(a,b)}removeBlockById(a){this.blockDB.delete(a)}getCommentById(a){let b;return(b=this.commentDB.get(a))!=null?b:null}allInputsFilled(a){const b=this.getTopBlocks(!1);for(let c=0;c<b.length;c++)if(!b[c].allInputsFilled(a))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=\nnew (this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(a){this.variableMap=a}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let a=null;const b=this.options.parentWorkspace;this.isFlyout?b&&b.options&&(a=b.options.parentWorkspace):b&&(a=b);return a}static getById(a){return getWorkspaceById$$module$build$src$core$common(a)}static getAll(){return getAllWorkspaces$$module$build$src$core$common()}getVariableMapClass(){const a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MAP,\nthis.options,!0);if(!a)throw Error(\"No variable map is registered.\");return a}isReadOnly(){return this.readOnly}setIsReadOnly(a){this.readOnly=a;this.options.readOnly=a}};Workspace$$module$build$src$core$workspace.SCAN_ANGLE=3;var module$build$src$core$workspace={};module$build$src$core$workspace.Workspace=Workspace$$module$build$src$core$workspace;var SOUND_LIMIT$$module$build$src$core$workspace_audio=100,WorkspaceAudio$$module$build$src$core$workspace_audio=class{constructor(a){this.parentWorkspace=a;this.sounds=new Map;this.lastSound=null;this.muted=!1}dispose(){this.sounds.clear()}load(a,b){if(a.length){try{var c=new globalThis.Audio}catch(e){return}for(let e=0;e<a.length;e++){const f=a[e],g=f.match(/\\.(\\w+)$/);if(g&&c.canPlayType(\"audio/\"+g[1])){var d=new globalThis.Audio(f);break}}d&&this.sounds.set(b,d)}}preload(){for(const a of this.sounds.values()){a.volume=\n.01;const b=a.play();b!==void 0?b.then(a.pause).catch(function(){}):a.pause();if(IPAD$$module$build$src$core$utils$useragent||IPHONE$$module$build$src$core$utils$useragent)break}}play(a,b){if(!this.muted){var c=this.sounds.get(a);c?(a=new Date,this.lastSound!==null&&a.getTime()-this.lastSound.getTime()<SOUND_LIMIT$$module$build$src$core$workspace_audio||(this.lastSound=a,c=IPAD$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent?c:c.cloneNode(),c.volume=b===void 0?\n1:b,c.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(a,b)}}setMuted(a){this.muted=a}getMuted(){return this.muted}},module$build$src$core$workspace_audio={};module$build$src$core$workspace_audio.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;var ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg=20,WorkspaceSvg$$module$build$src$core$workspace_svg=class extends Workspace$$module$build$src$core$workspace{constructor(a){super(a);this.resizeHandlerWrapper=null;this.resizesEnabled=this.visible=this.rendered=!0;this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0;this.oldScale=this.scale=1;this.oldLeft=this.oldTop=0;this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=\nthis.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null;this.inverseScreenCTMDirty=!0;this.highlightedBlocks=[];this.toolboxCategoryCallbacks=new Map;this.flyoutButtonCallbacks=new Map;this.cachedParentSvg=null;this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1;this.topBoundedElements=[];this.dragTargetAreas=[];this.zoomControls_=this.layerManager=null;this.navigator=new Navigator$$module$build$src$core$navigator;this.metricsManager=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,\na,!0))(this);this.getMetrics=a.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager);this.setMetrics=a.setMetrics||WorkspaceSvg$$module$build$src$core$workspace_svg.setTopLevelWorkspaceMetrics;this.componentManager=new ComponentManager$$module$build$src$core$component_manager;this.connectionDBList=ConnectionDB$$module$build$src$core$connection_db.init(this.connectionChecker);this.audioManager=new WorkspaceAudio$$module$build$src$core$workspace_audio(a.parentWorkspace);this.grid=this.options.gridPattern?\nnew Grid$$module$build$src$core$grid(this.options.gridPattern,a.gridOptions):null;this.markerManager=new MarkerManager$$module$build$src$core$marker_manager(this);module$build$src$core$variables&&internalFlyoutCategory$$module$build$src$core$variables&&this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables,internalFlyoutCategory$$module$build$src$core$variables);module$build$src$core$variables_dynamic&&internalFlyoutCategory$$module$build$src$core$variables_dynamic&&this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables_dynamic,\ninternalFlyoutCategory$$module$build$src$core$variables_dynamic);module$build$src$core$procedures&&internalFlyoutCategory$$module$build$src$core$procedures&&(this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$procedures,internalFlyoutCategory$$module$build$src$core$procedures),this.addChangeListener(mutatorOpenListener$$module$build$src$core$procedures));this.addChangeListener(this.variableChangeCallback.bind(this));this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():\nnew ThemeManager$$module$build$src$core$theme_manager(this,this.options.theme||Classic$$module$build$src$core$theme$classic);this.themeManager_.subscribeWorkspace(this);let b;this.renderer=init$$module$build$src$core$renderers$common$block_rendering(this.options.renderer||\"geras\",this.getTheme(),(b=this.options.rendererOverrides)!=null?b:void 0);this.cachedParentSvgSize=new Size$$module$build$src$core$utils$size(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(a){this.metricsManager=\na;this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(a){return this.markerManager.getMarker(a)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(a){a||(a=Classic$$module$build$src$core$theme$classic);this.themeManager_.setTheme(a)}refreshTheme(){if(this.svgGroup_){var a=this.options.parentWorkspace===\nnull;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),a?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(b=>!!b.getStyleName()));this.refreshToolboxSelection();this.toolbox&&this.toolbox.refreshTheme();this.isVisible()&&this.setVisible(!0);a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.THEME_CHANGE))(this.getTheme().name,this.id);fire$$module$build$src$core$events$utils(a)}updateBlockStyles(a){for(let b=0,c;c=a[b];b++){const d=\nc.getStyleName();d&&c.setStyle(d)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM=a.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(a){let b=0,c=0,d=1;if(this.getCanvas().contains(a)||this.getBubbleCanvas().contains(a))d=this.scale;do{const e=getRelativeXY$$module$build$src$core$utils$svg_math(a);if(a===this.getCanvas()||\na===this.getBubbleCanvas())d=1;b+=e.x*d;c+=e.y*d;a=a.parentNode}while(a&&a!==this.getParentSvg()&&a!==this.getInjectionDiv());return new Coordinate$$module$build$src$core$utils$coordinate(b,c)}getCachedParentSvgSize(){const a=this.cachedParentSvgSize;return new Size$$module$build$src$core$utils$size(a.width,a.height)}getOriginOffsetInPixels(){return getInjectionDivXY$$module$build$src$core$utils$svg_math(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let a=this.svgGroup_;for(;a;){if((\" \"+\n(a.getAttribute(\"class\")||\"\")+\" \").includes(\" injectionDiv \")){this.injectionDiv=a;break}a=a.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(a){this.resizeHandlerWrapper=a}createDom(a,b){this.injectionDiv||(this.injectionDiv=b!=null?b:null);this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyWorkspace\",id:this.id});b&&setState$$module$build$src$core$utils$aria(this.svgGroup_,\nState$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL);a&&(this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:\"100%\",width:\"100%\",\"class\":a},this.svgGroup_),a===\"blocklyMainBackground\"&&this.grid?this.svgBackground_.style.fill=\"var(--blocklyGridPattern)\":this.themeManager_.subscribe(this.svgBackground_,\"workspaceBackgroundColour\",\"fill\"));this.layerManager=new LayerManager$$module$build$src$core$layer_manager(this);\nthis.svgBlockCanvas_=this.layerManager.getBlockLayer();this.svgBubbleCanvas_=this.layerManager.getBubbleLayer();this.isFlyout||(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"pointerdown\",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener(\"wheel\",this.dummyWheelListener),conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"wheel\",this,this.onMouseWheel));this.options.hasCategories&&(this.toolbox=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,\nthis.options,!0))(this));this.grid&&this.grid.update(this.scale);this.recordDragTargets();(a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,this.options))&&this.markerManager.setCursor(new a(this));a=this.options.parentWorkspace===null;this.renderer.createDom(this.svgGroup_,this.getTheme(),a?this.getInjectionDiv():void 0);$.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout);return this.svgGroup_}dispose(){this.rendered=\n!1;this.currentGesture_&&this.currentGesture_.cancel();this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_);this.toolbox&&(this.toolbox.dispose(),this.toolbox=null);this.flyout&&(this.flyout.dispose(),this.flyout=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null);this.zoomControls_&&this.zoomControls_.dispose();this.audioManager&&this.audioManager.dispose();this.grid&&(this.grid=null);this.renderer.dispose();\nthis.markerManager.dispose();super.dispose();this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose());this.connectionDBList.length=0;this.toolboxCategoryCallbacks.clear();this.flyoutButtonCallbacks.clear();if(!this.options.parentWorkspace){const a=this.getParentSvg();a&&a.parentNode&&removeNode$$module$build$src$core$utils$dom(a.parentNode)}this.resizeHandlerWrapper&&(unbind$$module$build$src$core$browser_events(this.resizeHandlerWrapper),\nthis.resizeHandlerWrapper=null);this.dummyWheelListener&&(document.body.removeEventListener(\"wheel\",this.dummyWheelListener),this.dummyWheelListener=null);$.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&$.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan(this);const a=this.trashcan.createDom();this.svgGroup_.insertBefore(a,this.getCanvas())}static newTrashcan(a){throw Error(\"The implementation of newTrashcan should be monkey-patched in by blockly.ts\");\n}addZoomControls(){this.zoomControls_=new ZoomControls$$module$build$src$core$zoom_controls(this);const a=this.zoomControls_.createDom();this.svgGroup_.appendChild(a)}copyOptionsForFlyout(){return new Options$$module$build$src$core$options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,\nmove:{scrollbars:!0}})}addFlyout(a){const b=this.copyOptionsForFlyout();b.toolboxPosition=this.options.toolboxPosition;this.flyout=this.horizontalLayout?new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(b):new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(b);this.flyout.autoClose=!1;this.flyout.getWorkspace().setVisible(!0);\nreturn this.flyout.createDom(a)}getFlyout(a){return this.flyout||a?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM();this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE,\n!0),b=this.getMetricsManager().getUiMetrics(),c=[];for(let d=0,e;e=a[d];d++){e.position(b,c);const f=e.getBoundingRectangle();f&&c.push(f)}this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const a=getDocumentScroll$$module$build$src$core$utils$svg_math();Coordinate$$module$build$src$core$utils$coordinate.equals(this.lastRecordedPageScroll,a)||(this.lastRecordedPageScroll=a,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(a,\nb){const c=this.getParentSvg();a!=null&&(this.cachedParentSvgSize.width=a,c.setAttribute(\"data-cached-width\",`${a}`));b!=null&&(this.cachedParentSvgSize.height=b,c.setAttribute(\"data-cached-height\",`${b}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let a=this.svgGroup_;for(;a;){if(a.tagName===\"svg\"){this.cachedParentSvg=a;break}a=a.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(isEnabled$$module$build$src$core$events$utils()){var a=\nthis.scale,b=-this.scrollY,c=-this.scrollX;if(!(a===this.oldScale&&Math.abs(b-this.oldTop)<1&&Math.abs(c-this.oldLeft)<1)){var d=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE))(b,c,a,this.id,this.oldScale);this.oldScale=a;this.oldTop=b;this.oldLeft=c;fire$$module$build$src$core$events$utils(d)}}}translate(a,b){let c;(c=this.layerManager)==null||c.translateLayers(new Coordinate$$module$build$src$core$utils$coordinate(a,b),this.scale);let d;\n(d=this.grid)==null||d.moveTo(a,b);this.maybeFireViewportChangeEvent()}getWidth(){const a=this.getMetrics();return a?a.viewWidth/this.scale:0}setVisible(a){this.visible=a;this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(a),this.getFlyout()&&this.getFlyout().setContainerVisible(a),this.getParentSvg().style.display=a?\"block\":\"none\",this.toolbox&&this.toolbox.setVisible(a),a||this.hideChaff(!0))}render(){const a=this.getAllBlocks(!1);for(let b=a.length-1;b>=0;b--)a[b].queueRender();\nthis.getTopBlocks().flatMap(b=>b.getDescendants(!1)).filter(b=>b.isInsertionMarker()).forEach(b=>b.queueRender())}highlightBlock(a,b){if(b===void 0){for(let c=0,d;d=this.highlightedBlocks[c];c++)d.setHighlighted(!1);this.highlightedBlocks.length=0}if(a=a?this.getBlockById(a):null)(b=b===void 0||b)?this.highlightedBlocks.includes(a)||this.highlightedBlocks.push(a):removeElem$$module$build$src$core$utils$array(this.highlightedBlocks,a),a.setHighlighted(b)}variableChangeCallback(a){switch(a.type){case EventType$$module$build$src$core$events$type.VAR_CREATE:case EventType$$module$build$src$core$events$type.VAR_DELETE:case EventType$$module$build$src$core$events$type.VAR_RENAME:case EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const a=\nthis.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox&&a.toolbox.getFlyout()&&a.toolbox.refreshSelection()}recordDragTargets(){const a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let b=0,c;c=a[b];b++){const d=c.getClientRect();d&&this.dragTargetAreas.push({component:c,clientRect:d})}}newBlock(a,b){throw Error(\"The implementation of newBlock should be monkey-patched in by blockly.ts\");\n}newComment(a){throw Error(\"The implementation of newComment should be monkey-patched in by blockly.ts\");}getDragTarget(a){for(let b=0,c;c=this.dragTargetAreas[b];b++)if(c.clientRect.contains(a.clientX,a.clientY))return c.component;return null}onMouseDown(a){const b=this.getGesture(a);b&&b.handleWsStart(a,this)}startDrag(a,b){start$$module$build$src$core$utils$drag(this,a,b)}moveDrag(a){return move$$module$build$src$core$utils$drag(this,a)}setKeyboardMoveInProgress(a){this.keyboardMoveInProgress=\na}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const a=\n!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollVertically())}onMouseWheel(a){if(Gesture$$module$build$src$core$gesture.inProgress())a.preventDefault(),a.stopPropagation();else{var b=this.options.zoomOptions&&this.options.zoomOptions.wheel,c=this.options.moveOptions&&this.options.moveOptions.wheel;if(b||c){var d=getScrollDeltaPixels$$module$build$src$core$browser_events(a);\nif(MAC$$module$build$src$core$utils$useragent)var e=a.metaKey;b&&(a.ctrlKey||e||!c)?(d=-d.y/50,b=mouseToSvg$$module$build$src$core$browser_events(a,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(b.x,b.y,d)):(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c));a.preventDefault()}}}getBlocksBoundingBox(){const a=this.getTopBoundedElements();if(!a.length)return new Rect$$module$build$src$core$utils$rect(0,0,0,0);const b=a[0].getBoundingRectangle();\nfor(let d=1;d<a.length;d++){var c=a[d];c.isInsertionMarker&&c.isInsertionMarker()||(c=c.getBoundingRectangle(),c.top<b.top&&(b.top=c.top),c.bottom>b.bottom&&(b.bottom=c.bottom),c.left<b.left&&(b.left=c.left),c.right>b.right&&(b.right=c.right))}return b}cleanUp(){this.setResizesEnabled(!1);const a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=this.getTopBlocks(!0),c=b.filter(g=>g.isMovable());const d=b.filter(g=>!g.isMovable()).map(g=>\ng.getBoundingRectangle());b=function(g){for(const h of d)if(g.intersects(h))return h;return null};var e=0;const f=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const g of c){c=g.getBoundingRectangle();g.moveBy(-c.left,e-c.top,[\"cleanup\"]);g.snapToGrid();c=g.getBoundingRectangle();for(e=b(c);e!=null;)e=e.top+e.getHeight()+f,g.moveBy(0,e-c.top,[\"cleanup\"]),g.snapToGrid(),c=g.getBoundingRectangle(),e=b(c);e=g.getRelativeToSurfaceXY().y+g.getHeightWidth().height+f}$.setGroup$$module$build$src$core$events$utils(a);\nthis.setResizesEnabled(!0)}showContextMenu(a){if(!this.isReadOnly()&&!this.isFlyout){var b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({workspace:this,focusedNode:this},a);this.configureContextMenu&&this.configureContextMenu(b,a);var c=a instanceof PointerEvent?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this,new Coordinate$$module$build$src$core$utils$coordinate(5,\n5));show$$module$build$src$core$contextmenu(a,b,this.RTL,this,c)}}updateToolbox(a){if(a=convertToolboxDefToJson$$module$build$src$core$utils$toolbox(a)){if(!this.options.languageTree)throw Error(\"Existing toolbox is null.  Can't create new toolbox.\");if(hasCategories$$module$build$src$core$utils$toolbox(a)){if(!this.toolbox)throw Error(\"Existing toolbox has no categories.  Can't change mode.\");this.options.languageTree=a;this.toolbox.render(a)}else{if(!this.flyout)throw Error(\"Existing toolbox has categories.  Can't change mode.\");\nthis.options.languageTree=a;this.flyout.show(a)}}else if(this.options.languageTree)throw Error(\"Can't nullify an existing toolbox.\");}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(setMainWorkspace$$module$build$src$core$common(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(a,b,c){c=Math.pow(this.options.zoomOptions.scaleSpeed,c);const d=this.scale*c;if(this.scale!==d){d>this.options.zoomOptions.maxScale?c=this.options.zoomOptions.maxScale/this.scale:\nd<this.options.zoomOptions.minScale&&(c=this.options.zoomOptions.minScale/this.scale);var e=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}}zoomCenter(a){var b=this.getMetrics();let c;this.flyout?(c=b.svgWidth?b.svgWidth/2:0,b=b.svgHeight?b.svgHeight/2:0):(c=b.viewWidth/2+b.absoluteLeft,b=b.viewHeight/2+b.absoluteTop);this.zoom(c,b,a)}zoomToFit(){if(this.isMovable()){var a=\nthis.getMetrics(),b=a.viewWidth;a=a.viewHeight;var c=this.getBlocksBoundingBox(),d=ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg*2,e=c.right-c.left+d;c=c.bottom-c.top+d;if(e){this.flyout&&(this.horizontalLayout?(a+=this.flyout.getHeight(),c+=this.flyout.getHeight()/this.scale):(b+=this.flyout.getWidth(),e+=this.flyout.getWidth()/this.scale));b/=e;a/=c;$.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(b,a)),this.scrollCenter()}finally{$.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}beginCanvasTransition(){addClass$$module$build$src$core$utils$dom(this.getCanvas(),\n\"blocklyCanvasTransitioning\");addClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),\"blocklyCanvasTransitioning\")}endCanvasTransition(){removeClass$$module$build$src$core$utils$dom(this.getCanvas(),\"blocklyCanvasTransitioning\");removeClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),\"blocklyCanvasTransitioning\")}scrollCenter(){if(this.isMovable()){var a=this.getMetrics(),b=(a.scrollWidth-a.viewWidth)/2,c=(a.scrollHeight-a.viewHeight)/2;b=-b-a.scrollLeft;c=-c-a.scrollTop;this.scroll(b,\nc)}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}centerOnBlock(a,b){if(this.isMovable()){var c=a?this.getBlockById(a):null;if(c){a=c.getRelativeToSurfaceXY();c=b?{height:c.height,width:c.width}:c.getHeightWidth();var d=this.scale;b=(a.x+(this.RTL?-1:1)*c.width/2)*d;a=(a.y+c.height/2)*d;c=this.getMetrics();this.scroll(-(b-c.viewWidth/2),-(a-c.viewHeight/2))}}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}setScale(a){this.options.zoomOptions.maxScale&&\na>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;this.hideChaff(!1);(a=this.getFlyout(!1))&&a.isVisible()&&(a.reflow(),this.recordDragTargets());this.grid&&this.grid.update(this.scale);a=this.getMetrics();this.scrollX-=a.absoluteLeft;this.scrollY-=a.absoluteTop;a.viewLeft+=a.absoluteLeft;a.viewTop+=a.absoluteTop;this.scroll(this.scrollX,this.scrollY);this.scrollbar&&\n(this.flyout?this.scrollbar.resizeView(a):this.scrollbar.resizeContent(a))}getScale(){return this.scale}getAbsoluteScale(){const a=c=>{if(c.isFlyout){let d;const e=(d=c.targetWorkspace)==null?void 0:d.getFlyout();if(e instanceof Flyout$$module$build$src$core$flyout_base)return e.getFlyoutScale()}return c.getScale()},b=(c,d)=>c.options.parentWorkspace&&c.options.parentWorkspace.getSvgGroup().contains(c.getSvgGroup())?b(c.options.parentWorkspace,d*a(c)):d*a(c);return b(this,1)}scroll(a,b){this.hideChaff(!0);\nconst c=this.getMetrics();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);const d=c.scrollTop+Math.max(0,c.scrollHeight-c.viewHeight);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.viewWidth)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.scrollbar&&this.scrollbar.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.absoluteLeft;b+=c.absoluteTop;this.translate(a,b)}getBlockById(a){return super.getBlockById(a)}getAllBlocks(a=!1){return super.getAllBlocks(a)}getTopBlocks(a=!1){return super.getTopBlocks(a)}addTopBlock(a){this.addTopBoundedElement(a);\nsuper.addTopBlock(a)}removeTopBlock(a){this.removeTopBoundedElement(a);super.removeTopBlock(a)}addTopComment(a){this.addTopBoundedElement(a);super.addTopComment(a)}removeTopComment(a){this.removeTopBoundedElement(a);super.removeTopComment(a)}getTopComments(a=!1){return super.getTopComments(a)}getCommentById(a){return super.getCommentById(a)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(a){this.topBoundedElements.push(a)}removeTopBoundedElement(a){removeElem$$module$build$src$core$utils$array(this.topBoundedElements,\na)}getTopBoundedElements(a=!1){const b=[].concat(this.topBoundedElements);a&&b.sort(this.sortByOrigin.bind(this));return b}setResizesEnabled(a){const b=!this.resizesEnabled&&a;this.resizesEnabled=a;b&&this.resizeContents()}clear(){this.setResizesEnabled(!1);super.clear();this.topBoundedElements=[];this.setResizesEnabled(!0)}registerButtonCallback(a,b){if(typeof b!==\"function\")throw TypeError(\"Button callbacks must be functions.\");this.flyoutButtonCallbacks.set(a,b)}getButtonCallback(a){let b;return(b=\nthis.flyoutButtonCallbacks.get(a))!=null?b:null}removeButtonCallback(a){this.flyoutButtonCallbacks.delete(a)}registerToolboxCategoryCallback(a,b){if(typeof b!==\"function\")throw TypeError(\"Toolbox category callbacks must be functions.\");this.toolboxCategoryCallbacks.set(a,b)}getToolboxCategoryCallback(a){return this.toolboxCategoryCallbacks.get(a)||null}removeToolboxCategoryCallback(a){this.toolboxCategoryCallbacks.delete(a)}getGesture(a){if(this.keyboardMoveInProgress)return a.preventDefault(),a.stopPropagation(),\nnull;const b=a.type===\"pointerdown\";let c;b&&((c=this.currentGesture_)==null?0:c.hasStarted())&&(console.warn(\"Tried to start the same gesture twice.\"),this.currentGesture_.cancel());!this.currentGesture_&&b&&(this.currentGesture_=new Gesture$$module$build$src$core$gesture(a,this));return this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(a=\n!1){hide$$module$build$src$core$tooltip();hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this);hideWithoutAnimation$$module$build$src$core$dropdowndiv();this.hideComponents(a)}hideComponents(a=!1){this.getComponentManager().getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,!0).forEach(b=>b.autoHide(a))}static setTopLevelWorkspaceMetrics(a){const b=this.getMetrics();typeof a.x===\"number\"&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.viewWidth)*\na.x));typeof a.y===\"number\"&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.viewHeight)*a.y));this.translate(this.scrollX+b.absoluteLeft,this.scrollY+b.absoluteTop)}addClass(a){this.injectionDiv&&addClass$$module$build$src$core$utils$dom(this.injectionDiv,a)}removeClass(a){this.injectionDiv&&removeClass$$module$build$src$core$utils$dom(this.injectionDiv,a)}setIsReadOnly(a){super.setIsReadOnly(a);a?this.addClass(\"blocklyReadOnly\"):this.removeClass(\"blocklyReadOnly\")}scrollBoundsIntoView(a,b=10){if(!Gesture$$module$build$src$core$gesture.inProgress()){var c=\nthis.getScale(),d=this.getMetricsManager().getViewMetrics(!0);d=new Rect$$module$build$src$core$utils$rect(d.top,d.top+d.height,d.left,d.left+d.width);if(!(a.left>=d.left&&a.top>=d.top&&a.right<=d.right&&a.bottom<=d.bottom)){a=a.clone();a.top-=b;a.bottom+=b;a.left-=b;a.right+=b;var e=b=0;a.left<d.left?b=this.RTL?Math.min(d.left-a.left,d.right-a.right):d.left-a.left:a.right>d.right&&(b=this.RTL?d.right-a.right:Math.max(d.right-a.right,d.left-a.left));a.top<d.top?e=d.top-a.top:a.bottom>d.bottom&&(e=\nMath.max(d.bottom-a.bottom,d.top-a.top));this.scroll(this.scrollX+b*c,this.scrollY+e*c)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(a){if(a)return null;let b;a=(b=this.targetWorkspace)==null?void 0:b.getFlyout();if(this.isFlyout&&a){let d,e;return(e=(d=a.getContents().find(f=>{f=f.getElement();return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(f)&&\nf.canBeFocused()}))==null?void 0:d.getElement())!=null?e:null}let c;return(c=this.getTopBlocks(!0)[0])!=null?c:null}getNestedTrees(){const a=this.getAllBlocks().map(c=>c.getIcons()).flat().filter(c=>c instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&c.bubbleIsVisible()).map(c=>{let d;return(d=c.getBubble())==null?void 0:d.getWorkspace()}).filter(c=>!!c),b=this.getFlyout(!0);b&&a.push(b.getWorkspace());return a}searchForWorkspaceComment(a){for(const b of this.getTopComments())if(b instanceof\nRenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment&&b.canBeFocused()&&b.getFocusableElement().id===a)return b}lookUpFocusableNode(a){var b;const c=(b=this.targetWorkspace)==null?void 0:b.getFlyout();if(this.isFlyout&&c)for(var d of c.getContents())if(b=d.getElement(),isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(b)&&b.canBeFocused()&&b.getFocusableElement().id===a)return b;d=a.indexOf(\"_field_\");b=a.indexOf(\"_connection_\");if(d!==-1){var e=a.substring(0,\nd);if(e=this.getBlockById(e))for(var f of e.getFields())if(f.canBeFocused()&&f.getFocusableElement().id===a)return f;return null}if(b!==-1){e=a.substring(0,b);if(e=this.getBlockById(e))for(const h of e.getConnections_(!0))if(h.id===a)return h;return null}f=Math.max(a.indexOf(COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor),a.indexOf(COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button),a.indexOf(COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button));\nif(f!==-1&&(f=a.substring(0,f),f=this.searchForWorkspaceComment(f))){if(a.indexOf(COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor)>-1)return f.getEditorFocusableNode();var g;return(g=f.view.getCommentBarButtons().find(h=>h.getFocusableElement().id.includes(a)))!=null?g:null}if((g=this.getAllBlocks(!1).find(h=>h.getFocusableElement().id===a))||(g=this.searchForWorkspaceComment(a)))return g;g=this.getAllBlocks().map(h=>h.getIcons()).flat();for(e of g){if(e.canBeFocused()&&\ne.getFocusableElement().id===a)return e;if(hasBubble$$module$build$src$core$interfaces$i_has_bubble(e)){if((g=e.getBubble())&&g.canBeFocused()&&g.getFocusableElement().id===a)return g;if(g instanceof TextInputBubble$$module$build$src$core$bubbles$textinput_bubble&&g.getEditor().getFocusableElement().id===a)return g.getEditor()}}return null}onTreeFocus(a,b){}onTreeBlur(a){if(this.isFlyout&&this.targetWorkspace&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var b=\nthis.targetWorkspace.getToolbox();b&&a===b||isAutoHideable$$module$build$src$core$interfaces$i_autohideable(b)&&b.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(a){this.navigator=a}},module$build$src$core$workspace_svg={};module$build$src$core$workspace_svg.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;module$build$src$core$workspace_svg.resizeSvgContents=resizeSvgContents$$module$build$src$core$workspace_svg;var VarBase$$module$build$src$core$events$events_var_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=typeof a===\"undefined\";a&&(this.varId=a.getId(),this.workspaceId=a.getWorkspace().id)}toJson(){const a=super.toJson();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");a.varId=this.varId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarBase$$module$build$src$core$events$events_var_base);\nb.varId=a.varId;return b}},module$build$src$core$events$events_var_base={};module$build$src$core$events$events_var_base.VarBase=VarBase$$module$build$src$core$events$events_var_base;var VarCreate$$module$build$src$core$events$events_var_create=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_CREATE;a&&(this.varType=a.getType(),this.varName=a.getName())}toJson(){const a=super.toJson();if(this.varType===void 0)throw Error(\"The var type is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");\na.varType=this.varType;a.varName=this.varName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarCreate$$module$build$src$core$events$events_var_create);b.varType=a.varType;b.varName=a.varName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");b=b.getVariableMap();\na?b.createVariable(this.varName,this.varType,this.varId):(a=b.getVariableById(this.varId))&&b.deleteVariable(a)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_CREATE,VarCreate$$module$build$src$core$events$events_var_create);var module$build$src$core$events$events_var_create={};module$build$src$core$events$events_var_create.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;var VariableModel$$module$build$src$core$variable_model=class{constructor(a,b,c,d){this.workspace=a;this.name=b;this.type=c||\"\";this.id=d||genUid$$module$build$src$core$utils$idgenerator()}getId(){return this.id}getName(){return this.name}setName(a){this.name=a;return this}getType(){return this.type}setType(a){this.type=a;return this}getWorkspace(){return this.workspace}save(){const a={name:this.getName(),id:this.getId()},b=this.getType();b&&(a.type=b);return a}static load(a,b){a=new this(b,a.name,\na.type,a.id);b.getVariableMap().addVariable(a);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(a))}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,DEFAULT$$module$build$src$core$registry,VariableModel$$module$build$src$core$variable_model);var module$build$src$core$variable_model={};module$build$src$core$variable_model.VariableModel=VariableModel$$module$build$src$core$variable_model;var VarDelete$$module$build$src$core$events$events_var_delete=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_DELETE;a&&(this.varType=a.getType(),this.varName=a.getName())}toJson(){const a=super.toJson();if(this.varType===void 0)throw Error(\"The var type is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");\na.varType=this.varType;a.varName=this.varName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarDelete$$module$build$src$core$events$events_var_delete);b.varType=a.varType;b.varName=a.varName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");b=b.getVariableMap();\na?(a=b.getVariableById(this.varId))&&b.deleteVariable(a):b.createVariable(this.varName,this.varType,this.varId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_DELETE,VarDelete$$module$build$src$core$events$events_var_delete);var module$build$src$core$events$events_var_delete={};module$build$src$core$events$events_var_delete.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;var VarRename$$module$build$src$core$events$events_var_rename=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a,b){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_RENAME;a&&(this.oldName=a.getName(),this.newName=typeof b===\"undefined\"?\"\":b)}toJson(){const a=super.toJson();if(!this.oldName)throw Error(\"The old var name is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.newName)throw Error(\"The new var name is undefined. Either pass a value to the constructor, or call fromJson\");\na.oldName=this.oldName;a.newName=this.newName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarRename$$module$build$src$core$events$events_var_rename);b.oldName=a.oldName;b.newName=a.newName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.oldName)throw Error(\"The old var name is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.newName)throw Error(\"The new var name is undefined. Either pass a value to the constructor, or call fromJson\");\nb=b.getVariableMap();const c=b.getVariableById(this.varId);a?c&&b.renameVariable(c,this.newName):c&&b.renameVariable(c,this.oldName)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_RENAME,VarRename$$module$build$src$core$events$events_var_rename);var module$build$src$core$events$events_var_rename={};module$build$src$core$events$events_var_rename.VarRename=VarRename$$module$build$src$core$events$events_var_rename;var VariableMap$$module$build$src$core$variable_map=class{constructor(a,b=!1){this.workspace=a;this.potentialMap=b;this.variableMap=new Map}clear(){for(const a of this.variableMap.values())for(const b of a.values())this.deleteVariable(b);if(this.variableMap.size!==0)throw Error(\"Non-empty variable map\");}renameVariable(a,b){if(a.getName()===b)return a;var c=a.getType();c=this.getVariable(b,c);const d=this.workspace.getAllBlocks(!1);let e=\"\";this.potentialMap||(e=$.getGroup$$module$build$src$core$events$utils())||\n$.setGroup$$module$build$src$core$events$utils(!0);try{c&&c.getId()!==a.getId()?this.renameVariableWithConflict(a,b,c,d):this.renameVariableAndUses(a,b,d)}finally{this.potentialMap||$.setGroup$$module$build$src$core$events$utils(e)}return a}changeVariableType(a,b){const c=a.getType();if(c===b)return a;var d;(d=this.variableMap.get(a.getType()))==null||d.delete(a.getId());a.setType(b);let e;d=(e=this.variableMap.get(b))!=null?e:new Map;d.set(a.getId(),a);this.variableMap.has(b)||this.variableMap.set(b,\nd);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE))(a,c,b));return a}renameVariableById(a,b){warn$$module$build$src$core$utils$deprecation(\"VariableMap.renameVariableById\",\"v12\",\"v13\",\"VariableMap.renameVariable\");const c=this.getVariableById(a);if(!c)throw Error(\"Tried to rename a variable that didn't exist. ID: \"+a);this.renameVariable(c,b)}renameVariableAndUses(a,b,c){this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_RENAME))(a,\nb));a.setName(b);for(b=0;b<c.length;b++)c[b].updateVarName(a)}renameVariableWithConflict(a,b,c,d){const e=a.getType(),f=c.getName();b!==f&&this.renameVariableAndUses(c,b,d);for(b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_DELETE))(a));let g;(g=this.variableMap.get(e))==null||g.delete(a.getId())}createVariable(a,b,c){var d=this.getVariable(a,\nb);if(d){if(c&&d.getId()!==c)throw Error('Variable \"'+a+'\" is already in use and its id is \"'+d.getId()+'\" which conflicts with the passed in id, \"'+c+'\".');return d}if(c&&this.getVariableById(c))throw Error('Variable id, \"'+c+'\", is already in use.');d=c||genUid$$module$build$src$core$utils$idgenerator();b=b||\"\";c=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,this.workspace.options,!0);if(!c)throw Error(\"No variable model is registered.\");\nd=new c(this.workspace,a,b,d);let e;a=(e=this.variableMap.get(b))!=null?e:new Map;a.set(d.getId(),d);this.variableMap.has(b)||this.variableMap.set(b,a);this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(d));return d}addVariable(a){const b=a.getType();this.variableMap.has(b)||this.variableMap.set(b,new Map);let c;(c=this.variableMap.get(b))==null||c.set(a.getId(),a)}deleteVariable(a){const b=\ngetVariableUsesById$$module$build$src$core$variables(this.workspace,a.getId());let c=\"\";this.potentialMap||(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);try{for(let e=0;e<b.length;e++)b[e].dispose(!0);const d=this.variableMap.get(a.getType());d&&d.has(a.getId())&&(d.delete(a.getId()),this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_DELETE))(a)),\nd.size===0&&this.variableMap.delete(a.getType()))}finally{this.potentialMap||$.setGroup$$module$build$src$core$events$utils(c)}}deleteVariableById(a){warn$$module$build$src$core$utils$deprecation(\"VariableMap.deleteVariableById\",\"v12\",\"v13\",\"Blockly.Variables.deleteVariable\");(a=this.getVariableById(a))&&$.deleteVariable$$module$build$src$core$variables(this.workspace,a)}getVariable(a,b){b=this.variableMap.get(b||\"\");if(!b)return null;let c;return(c=[...b.values()].find(d=>$.Names$$module$build$src$core$names.equals(d.getName(),\na)))!=null?c:null}getVariableById(a){for(const b of this.variableMap.values())if(b.has(a)){let c;return(c=b.get(a))!=null?c:null}return null}getVariablesOfType(a){return(a=this.variableMap.get(a||\"\"))?[...a.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let a=[];for(const b of this.variableMap.values())a=a.concat(...b.values());return a}getAllVariableNames(){warn$$module$build$src$core$utils$deprecation(\"VariableMap.getAllVariableNames\",\"v12\",\"v13\",\"Blockly.Variables.getAllVariables\");\nconst a=[];for(const b of this.variableMap.values())for(const c of b.values())a.push(c.getName());return a}getVariableUsesById(a){warn$$module$build$src$core$utils$deprecation(\"VariableMap.getVariableUsesById\",\"v12\",\"v13\",\"Blockly.Variables.getVariableUsesById\");return getVariableUsesById$$module$build$src$core$variables(this.workspace,a)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MAP,DEFAULT$$module$build$src$core$registry,VariableMap$$module$build$src$core$variable_map);\nvar module$build$src$core$variable_map={};module$build$src$core$variable_map.VariableMap=VariableMap$$module$build$src$core$variable_map;var TrashcanOpen$$module$build$src$core$events$events_trashcan_open=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(b);this.type=EventType$$module$build$src$core$events$type.TRASHCAN_OPEN;this.isOpen=a}toJson(){const a=super.toJson();if(this.isOpen===void 0)throw Error(\"Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson\");a.isOpen=this.isOpen;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?\nc:new TrashcanOpen$$module$build$src$core$events$events_trashcan_open);b.isOpen=a.isOpen;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.TRASHCAN_OPEN,TrashcanOpen$$module$build$src$core$events$events_trashcan_open);var module$build$src$core$events$events_trashcan_open={};module$build$src$core$events$events_trashcan_open.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;var Trashcan$$module$build$src$core$trashcan=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.workspace=a;this.id=\"trashcan\";this.contents=[];this.flyout=null;this.isLidOpen=!1;this.minOpenness=0;this.lidTask=this.svgLid=this.svgGroup=null;this.top=this.left=this.lidOpen=0;this.initialized=!1;this.workspace.options.maxTrashcanContents<=0||(a=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(a.toolboxPosition=this.workspace.toolboxPosition===\nPosition$$module$build$src$core$utils$toolbox.TOP?Position$$module$build$src$core$utils$toolbox.BOTTOM:Position$$module$build$src$core$utils$toolbox.TOP,this.flyout=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(a)):(a.toolboxPosition=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?Position$$module$build$src$core$utils$toolbox.LEFT:Position$$module$build$src$core$utils$toolbox.RIGHT,\nthis.flyout=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(a)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyTrash\"});let a;const b=String(Math.random()).substring(2);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,\n{id:\"blocklyTrashBodyClipPath\"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,height:BODY_HEIGHT$$module$build$src$core$trashcan,y:LID_HEIGHT$$module$build$src$core$trashcan},a);const c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,\ny:-SPRITE_TOP$$module$build$src$core$trashcan,\"clip-path\":\"url(#blocklyTrashBodyClipPath\"+b+\")\"},this.svgGroup);c.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyTrashLidClipPath\"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,\nheight:LID_HEIGHT$$module$build$src$core$trashcan},a);this.svgLid=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,y:-SPRITE_TOP$$module$build$src$core$trashcan,\"clip-path\":\"url(#blocklyTrashLidClipPath\"+b+\")\"},this.svgGroup);this.svgLid.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);bind$$module$build$src$core$browser_events(this.svgGroup,\"pointerdown\",this,this.blockMouseDownWhenOpenable);bind$$module$build$src$core$browser_events(this.svgGroup,\"pointerup\",this,this.click);bind$$module$build$src$core$browser_events(c,\"pointerover\",this,this.mouseOver);bind$$module$build$src$core$browser_events(c,\"pointerout\",this,this.mouseOut);this.animateLid();return this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>\n0){const a=this.flyout.createDom(Svg$$module$build$src$core$utils$svg.SVG);addClass$$module$build$src$core$utils$dom(a,\"blocklyTrashcanFlyout\");insertAfter$$module$build$src$core$utils$dom(a,this.workspace.getParentSvg());this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,\nComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0;this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent(\"trashcan\");this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&\nthis.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var a=this.contents.map(function(c){return JSON.parse(c)}),b=this.workspace.getParentSvg().style;b.cursor=\"wait\";setTimeout(()=>{let c;(c=this.flyout)==null||c.show(a);b.cursor=\"\";let d;(d=this.workspace.scrollbar)==null||d.setVisible(!1)},10);this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var a;(a=this.flyout)==null||a.hide();var b;(b=this.workspace.scrollbar)==null||b.setVisible(!0);this.fireUiEvent(!1);this.workspace.recordDragTargets()}}autoHide(a){!a&&\nthis.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,a);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(WIDTH$$module$build$src$core$trashcan,BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan),\nMARGIN_HORIZONTAL$$module$build$src$core$trashcan,MARGIN_VERTICAL$$module$build$src$core$trashcan,a,this.workspace);b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,MARGIN_VERTICAL$$module$build$src$core$trashcan,c.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:bumpDirection$$module$build$src$core$positionable_helpers.UP,b);this.top=b.top;this.left=b.left;var d;(d=this.svgGroup)==null||d.setAttribute(\"transform\",\n\"translate(\"+this.left+\",\"+this.top+\")\");var e;(e=this.flyout)==null||e.position()}}getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.top,this.top+BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan,this.left,this.left+WIDTH$$module$build$src$core$trashcan)}getClientRect(){if(!this.svgGroup)return null;var a=this.svgGroup.getBoundingClientRect();const b=a.top+SPRITE_TOP$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;\na=a.left+SPRITE_LEFT$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;return new Rect$$module$build$src$core$utils$rect(b,b+LID_HEIGHT$$module$build$src$core$trashcan+BODY_HEIGHT$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan,a,a+WIDTH$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan)}onDragOver(a){this.setLidOpen(this.wouldDelete_)}onDragExit(a){this.setLidOpen(!1)}onDrop(a){setTimeout(this.setLidOpen.bind(this,\n!1),100)}setLidOpen(a){this.isLidOpen!==a&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=a,this.animateLid())}animateLid(){const a=ANIMATION_FRAMES$$module$build$src$core$trashcan;var b=1/(a+1);this.lidOpen+=this.isLidOpen?b:-b;this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1);this.setLidAngle(this.lidOpen*MAX_LID_ANGLE$$module$build$src$core$trashcan);b=OPACITY_MIN$$module$build$src$core$trashcan+this.lidOpen*(OPACITY_MAX$$module$build$src$core$trashcan-OPACITY_MIN$$module$build$src$core$trashcan);\nthis.svgGroup&&(this.svgGroup.style.opacity=`${b}`);this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),ANIMATION_LENGTH$$module$build$src$core$trashcan/a))}setLidAngle(a){const b=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let c;(c=this.svgLid)==null||c.setAttribute(\"transform\",\"rotate(\"+(b?-a:a)+\",\"+(b?4:WIDTH$$module$build$src$core$trashcan-4)+\",\"+(LID_HEIGHT$$module$build$src$core$trashcan-\n2)+\")\")}setMinOpenness(a){this.minOpenness=a;this.isLidOpen||this.setLidAngle(a*MAX_LID_ANGLE$$module$build$src$core$trashcan)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(a){a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.TRASHCAN_OPEN))(a,this.workspace.id);fire$$module$build$src$core$events$utils(a)}blockMouseDownWhenOpenable(a){!this.contentsIsOpen()&&this.hasContents()&&a.stopPropagation()}mouseOver(){this.hasContents()&&\nthis.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(a){if(!(this.workspace.options.maxTrashcanContents<=0||!isBlockDelete$$module$build$src$core$events$predicates(a)||a.wasShadow)){if(!a.oldJson)throw Error(\"Encountered a delete event without proper oldJson\");a=JSON.stringify(this.cleanBlockJson(a.oldJson));if(!this.contents.includes(a)){for(this.contents.unshift(a);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan)}}}cleanBlockJson(a){function b(c){if(c){delete c.id;\ndelete c.x;delete c.y;delete c.enabled;delete c.disabledReasons;if(c.icons&&c.icons.comment){var d=c.icons.comment;delete d.height;delete d.width;delete d.pinned}d=c.inputs;for(var e in d){var f=d[e];const g=f.block;f=f.shadow;g&&b(g);f&&b(f)}c.next&&(e=c.next,c=e.block,e=e.shadow,c&&b(c),e&&b(e))}}a=JSON.parse(JSON.stringify(a));b(a);return Object.assign({},{kind:\"BLOCK\"},a)}},WIDTH$$module$build$src$core$trashcan=47,BODY_HEIGHT$$module$build$src$core$trashcan=44,LID_HEIGHT$$module$build$src$core$trashcan=\n16,MARGIN_VERTICAL$$module$build$src$core$trashcan=20,MARGIN_HORIZONTAL$$module$build$src$core$trashcan=20,MARGIN_HOTSPOT$$module$build$src$core$trashcan=10,SPRITE_LEFT$$module$build$src$core$trashcan=0,SPRITE_TOP$$module$build$src$core$trashcan=32,HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan=.1,ANIMATION_LENGTH$$module$build$src$core$trashcan=80,ANIMATION_FRAMES$$module$build$src$core$trashcan=4,OPACITY_MIN$$module$build$src$core$trashcan=.4,OPACITY_MAX$$module$build$src$core$trashcan=.8,\nMAX_LID_ANGLE$$module$build$src$core$trashcan=45,module$build$src$core$trashcan={};module$build$src$core$trashcan.Trashcan=Trashcan$$module$build$src$core$trashcan;var stashedCopyData$$module$build$src$core$clipboard=null,stashedWorkspace$$module$build$src$core$clipboard=null,stashedCoordinates$$module$build$src$core$clipboard=void 0,module$build$src$core$clipboard={};module$build$src$core$clipboard.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard.copy=copy$$module$build$src$core$clipboard;module$build$src$core$clipboard.getLastCopiedData=getLastCopiedData$$module$build$src$core$clipboard;\nmodule$build$src$core$clipboard.getLastCopiedLocation=getLastCopiedLocation$$module$build$src$core$clipboard;module$build$src$core$clipboard.getLastCopiedWorkspace=getLastCopiedWorkspace$$module$build$src$core$clipboard;module$build$src$core$clipboard.paste=paste$$module$build$src$core$clipboard;module$build$src$core$clipboard.registry=module$build$src$core$clipboard$registry;module$build$src$core$clipboard.setLastCopiedData=setLastCopiedData$$module$build$src$core$clipboard;\nmodule$build$src$core$clipboard.setLastCopiedLocation=setLastCopiedLocation$$module$build$src$core$clipboard;module$build$src$core$clipboard.setLastCopiedWorkspace=setLastCopiedWorkspace$$module$build$src$core$clipboard;var module$build$src$core$comments={};module$build$src$core$comments.CollapseCommentBarButton=CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button;module$build$src$core$comments.CommentBarButton=CommentBarButton$$module$build$src$core$comments$comment_bar_button;module$build$src$core$comments.CommentEditor=CommentEditor$$module$build$src$core$comments$comment_editor;module$build$src$core$comments.CommentView=CommentView$$module$build$src$core$comments$comment_view;\nmodule$build$src$core$comments.DeleteCommentBarButton=DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button;module$build$src$core$comments.RenderedWorkspaceComment=RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment;module$build$src$core$comments.WorkspaceComment=WorkspaceComment$$module$build$src$core$comments$workspace_comment;var module$build$src$core$interfaces$i_copyable={};module$build$src$core$interfaces$i_copyable.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;var names$$module$build$src$core$shortcut_items;(function(a){a.ESCAPE=\"escape\";a.DELETE=\"delete\";a.COPY=\"copy\";a.CUT=\"cut\";a.PASTE=\"paste\";a.UNDO=\"undo\";a.REDO=\"redo\"})(names$$module$build$src$core$shortcut_items||(names$$module$build$src$core$shortcut_items={}));registerDefaultShortcuts$$module$build$src$core$shortcut_items();var module$build$src$core$shortcut_items={};module$build$src$core$shortcut_items.names=names$$module$build$src$core$shortcut_items;\nmodule$build$src$core$shortcut_items.registerCopy=registerCopy$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerCut=registerCut$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDefaultShortcuts=registerDefaultShortcuts$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDelete=registerDelete$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerEscape=registerEscape$$module$build$src$core$shortcut_items;\nmodule$build$src$core$shortcut_items.registerPaste=registerPaste$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerRedo=registerRedo$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerUndo=registerUndo$$module$build$src$core$shortcut_items;var ProcedureSerializer$$module$build$src$core$serialization$procedures=class{constructor(a,b){this.procedureModelClass=a;this.parameterModelClass=b;this.priority=PROCEDURES$$module$build$src$core$serialization$priorities}save(a){a=a.getProcedureMap().getProcedures().map(b=>saveProcedure$$module$build$src$core$serialization$procedures(b));return a.length?a:null}load(a,b){const c=b.getProcedureMap();for(const d of a)c.add(loadProcedure$$module$build$src$core$serialization$procedures(this.procedureModelClass,\nthis.parameterModelClass,d,b))}clear(a){a.getProcedureMap().clear()}},module$build$src$core$serialization$procedures={};module$build$src$core$serialization$procedures.ProcedureSerializer=ProcedureSerializer$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.loadProcedure=loadProcedure$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.saveProcedure=saveProcedure$$module$build$src$core$serialization$procedures;var VariableSerializer$$module$build$src$core$serialization$variables=class{constructor(){this.priority=VARIABLES$$module$build$src$core$serialization$priorities}save(a){a=a.getAllVariables().map(b=>b.save());return a.length?a:null}load(a,b){const c=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,DEFAULT$$module$build$src$core$registry);a.forEach(d=>{c==null||c.load(d,b)})}clear(a){a.getVariableMap().clear()}};\nregister$$module$build$src$core$serialization$registry(\"variables\",new VariableSerializer$$module$build$src$core$serialization$variables);var module$build$src$core$serialization$variables={};module$build$src$core$serialization$variables.VariableSerializer=VariableSerializer$$module$build$src$core$serialization$variables;var module$build$src$core$serialization$workspaces={};module$build$src$core$serialization$workspaces.load=load$$module$build$src$core$serialization$workspaces;module$build$src$core$serialization$workspaces.save=save$$module$build$src$core$serialization$workspaces;var module$build$src$core$serialization={blocks:module$build$src$core$serialization$blocks,exceptions:module$build$src$core$serialization$exceptions,priorities:module$build$src$core$serialization$priorities,procedures:module$build$src$core$serialization$procedures,registry:module$build$src$core$serialization$registry,variables:module$build$src$core$serialization$variables,workspaceComments:module$build$src$core$serialization$workspace_comments,workspaces:module$build$src$core$serialization$workspaces};\"Blockly\"in globalThis||(globalThis.Blockly={Msg:module$build$src$core$msg});var module$build$src$core$main={};var LABEL_TYPE$$module$build$src$core$label_flyout_inflater=\"label\",LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater=class{load(a,b){a=new FlyoutButton$$module$build$src$core$flyout_button(b.getWorkspace(),b.targetWorkspace,a,!0);a.show();return new FlyoutItem$$module$build$src$core$flyout_item(a,LABEL_TYPE$$module$build$src$core$label_flyout_inflater)}gapForItem(a,b){return b}disposeItem(a){a=a.getElement();a instanceof FlyoutButton$$module$build$src$core$flyout_button&&a.dispose()}getType(){return LABEL_TYPE$$module$build$src$core$label_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,LABEL_TYPE$$module$build$src$core$label_flyout_inflater,LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater);var module$build$src$core$label_flyout_inflater={};module$build$src$core$label_flyout_inflater.LabelFlyoutInflater=LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater;var ConstantProvider$$module$build$src$core$renderers$zelos$constants=class extends ConstantProvider$$module$build$src$core$renderers$common$constants{constructor(a){super();this.GRID_UNIT=4;this.CURSOR_COLOUR=\"#ffa200\";this.CURSOR_RADIUS=5;this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0;this.START_HAT_HEIGHT=22;this.START_HAT_WIDTH=96;this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5};this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},\n2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}};this.FULL_BLOCK_FIELDS=!0;this.FIELD_TEXT_FONTWEIGHT=\"bold\";this.FIELD_TEXT_FONTFAMILY='\"Helvetica Neue\", \"Segoe UI\", Helvetica, sans-serif';this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0;this.SELECTED_GLOW_COLOUR=\"#fff200\";\nthis.SELECTED_GLOW_SIZE=.5;this.REPLACEMENT_GLOW_COLOUR=\"#fff200\";this.REPLACEMENT_GLOW_SIZE=2;this.selectedGlowFilterId=\"\";this.selectedGlowFilter=null;this.replacementGlowFilterId=\"\";this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null;a&&(this.GRID_UNIT=a);this.SMALL_PADDING=this.GRID_UNIT;this.MEDIUM_PADDING=2*this.GRID_UNIT;this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT;this.LARGE_PADDING=4*this.GRID_UNIT;this.CORNER_RADIUS=1*this.GRID_UNIT;this.NOTCH_WIDTH=9*this.GRID_UNIT;this.NOTCH_HEIGHT=\n2*this.GRID_UNIT;this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT;this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT;this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT;this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT;this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT;this.STATEMENT_INPUT_SPACER_MIN_WIDTH=\n40*this.GRID_UNIT;this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT;this.CURSOR_WS_WIDTH=20*this.GRID_UNIT;this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT;this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS;this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT;this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT;this.FIELD_BORDER_RECT_HEIGHT=\n8*this.GRID_UNIT;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT;this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT;this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT;this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT;this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(a){super.setFontConstants_(a);this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*\n2}init(){super.init();this.HEXAGONAL=this.makeHexagonal();this.ROUNDED=this.makeRounded();this.SQUARED=this.makeSquared();this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(a){super.setDynamicProperties_(a);this.SELECTED_GLOW_COLOUR=a.getComponentStyle(\"selectedGlowColour\")||this.SELECTED_GLOW_COLOUR;const b=Number(a.getComponentStyle(\"selectedGlowSize\"));this.SELECTED_GLOW_SIZE=b&&!isNaN(b)?b:this.SELECTED_GLOW_SIZE;this.REPLACEMENT_GLOW_COLOUR=\na.getComponentStyle(\"replacementGlowColour\")||this.REPLACEMENT_GLOW_COLOUR;this.REPLACEMENT_GLOW_SIZE=(a=Number(a.getComponentStyle(\"replacementGlowSize\")))&&!isNaN(a)?a:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose();this.selectedGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.selectedGlowFilter);this.replacementGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.replacementGlowFilter)}makeStartHat(){const a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(25,-a),point$$module$build$src$core$utils$svg_paths(71,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a*.75,width:b,path:c}}makeHexagonal(){function a(c,d,e){var f=c/2;f=f>b?b:f;e=e?-1:1;c=(d?-1:1)*c/2;return lineTo$$module$build$src$core$utils$svg_paths(-e*f,c)+lineTo$$module$build$src$core$utils$svg_paths(e*f,c)}const b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(c){c/=2;return c>\nb?b:c},height(c){return c},connectionOffsetY(c){return c/2},connectionOffsetX(c){return-c},pathDown(c){return a(c,!1,!1)},pathUp(c){return a(c,!0,!1)},pathRightDown(c){return a(c,!1,!0)},pathRightUp(c){return a(c,!1,!0)}}}makeRounded(){function a(d,e,f){const g=d>c?d-c:0;d=(d>c?c:d)/2;const h=f===e?\"0\":\"1\";return arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+h,d,point$$module$build$src$core$utils$svg_paths((f?1:-1)*d,(e?-1:1)*d))+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",(e?-1:\n1)*g)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+h,d,point$$module$build$src$core$utils$svg_paths((f?-1:1)*d,(e?-1:1)*d))}const b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=b*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){d/=2;return d>b?b:d},height(d){return d},connectionOffsetY(d){return d/2},connectionOffsetX(d){return-d},pathDown(d){return a(d,!1,!1)},pathUp(d){return a(d,!0,!1)},pathRightDown(d){return a(d,!1,!0)},pathRightUp(d){return a(d,!1,!0)}}}makeSquared(){function a(c,\nd,e){c-=b*2;const f=e===d?\"0\":\"1\";return arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+f,b,point$$module$build$src$core$utils$svg_paths((e?1:-1)*b,(d?-1:1)*b))+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",(d?-1:1)*c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+f,b,point$$module$build$src$core$utils$svg_paths((e?-1:1)*b,(d?-1:1)*b))}const b=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(c){return b},height(c){return c},connectionOffsetY(c){return c/\n2},connectionOffsetX(c){return-c},pathDown(c){return a(c,!1,!1)},pathUp(c){return a(c,!0,!1)},pathRightDown(c){return a(c,!1,!0)},pathRightUp(c){return a(c,!1,!0)}}}shapeFor(a){let b=a.getCheck();!b&&a.targetConnection&&(b=a.targetConnection.getCheck());switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:a=a.getSourceBlock().getOutputShape();if(a!==null)switch(a){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;\ncase this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}if(b&&b.includes(\"Boolean\"))return this.HEXAGONAL;if(b&&b.includes(\"Number\"))return this.ROUNDED;b&&b.includes(\"String\");return this.ROUNDED;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error(\"Unknown type\");}}makeNotch(){function a(l){return curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e,g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,f)])+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e/2,g),point$$module$build$src$core$utils$svg_paths(l*e,g)])+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\nl*d)+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e,-g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,-f)])+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e/2,-g),point$$module$build$src$core$utils$svg_paths(l*\ne,-g)])}const b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=b/3,e=d/3,f=c/2,g=f/2,h=a(1),k=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:h,pathRight:k}}makeInsideCorners(){const a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),d=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(a,\na)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,a));return{width:a,height:a,pathTop:b,pathBottom:d,rightWidth:a,rightHeight:a,pathTopRight:c,pathBottomRight:e}}generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#000\",a,.15)||a}generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#000\",a,.25)||a}createDom(a,b,c,d){super.createDom(a,b,c,d);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,\n{},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklySelectedGlowFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceGraphic\",stdDeviation:this.SELECTED_GLOW_SIZE},b);c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:\"outBlur\"},b);\ncreateSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},c);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":this.SELECTED_GLOW_COLOUR,\"flood-opacity\":1,result:\"outColor\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",result:\"outGlow\"},b);\nthis.selectedGlowFilterId=b.id;this.selectedGlowFilter=b;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklyReplacementGlowFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceGraphic\",stdDeviation:this.REPLACEMENT_GLOW_SIZE},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,\n{result:\"outBlur\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":this.REPLACEMENT_GLOW_COLOUR,\"flood-opacity\":1,result:\"outColor\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",\nresult:\"outGlow\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"SourceGraphic\",in2:\"outGlow\",operator:\"over\"},a);this.replacementGlowFilterId=a.id;this.replacementGlowFilter=a;d&&(d.style.setProperty(\"--blocklySelectedGlowFilter\",`url(#${this.selectedGlowFilterId})`),d.style.setProperty(\"--blocklyReplacementGlowFilter\",`url(#${this.replacementGlowFilterId})`))}getCSS_(a){return[`${a} .blocklyText,`,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}`+\n`pt ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a} .blocklyTextInputBubble textarea {`,\"font-weight: normal;\",\"}\",`${a} .blocklyText {`,\"fill: #fff;\",\"}\",`${a} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${a} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,\"}\",`${a} .blocklyNonEditableField>text,`,`${a} .blocklyEditableField>text,`,`${a} .blocklyNonEditableField>g>text,`,`${a} .blocklyEditableField>g>text {`,\"fill: #575E75;\",\"}\",`${a} .blocklyFlyoutLabelText {`,\n\"fill: #575E75;\",\"}\",`${a} .blocklyText.blocklyBubbleText {`,\"fill: #575E75;\",\"}\",`${a} .blocklyDraggable:not(.blocklyDisabled)`,\" .blocklyEditableField:not(.blocklyEditing):hover>rect,\",`${a} .blocklyDraggable:not(.blocklyDisabled)`,\" .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {\",\"stroke: #fff;\",\"stroke-width: 2;\",\"}\",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,\"color: #575E75;\",\"}\",`${a} .blocklyDropdownText {`,\n\"fill: #fff !important;\",\"}\",`${a}.blocklyWidgetDiv .blocklyMenuItem,`,`${a}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a}.blocklyDropDownDiv .blocklyMenuItemContent {`,\"color: #fff;\",\"}\",`${a} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,\"}\",`${a} .blocklyDisabledPattern > .blocklyOutlinePath {`,\"fill: var(--blocklyDisabledPattern)\",\"}\",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\n\"stroke: none;\",\"}\",`${a} .blocklySelected>.blocklyPath.blocklyPathSelected {`,\"fill: none;\",\"filter: var(--blocklySelectedGlowFilter);\",\"}\",`${a} .blocklyReplaceable>.blocklyPath {`,\"filter: var(--blocklyReplacementGlowFilter);\",\"}\"]}},module$build$src$core$renderers$zelos$constants={};module$build$src$core$renderers$zelos$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;var Drawer$$module$build$src$core$renderers$zelos$drawer=class extends Drawer$$module$build$src$core$renderers$common$drawer{constructor(a,b){super(a,b)}draw(){const a=this.block_.pathObject;a.beginDrawing();this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();a.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_();this.info_.outputConnection&&(a.outputShapeType=this.info_.outputConnection.shape.type);a.endDrawing()}drawOutline_(){this.info_.outputConnection&&\nthis.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(a){if(!(a.height<=0)){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(a)){const d=\na.precedesStatement;var b=a.followsStatement;if(d||b){const e=this.constants_.INSIDE_CORNERS;var c=e.rightHeight;c=a.height-(d?c:0);b=b?e.pathBottomRight:\"\";a=c>0?lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+c):\"\";this.outlinePath_+=b+a+(d?e.pathTopRight:\"\");return}}this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+a.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error(\"Cannot draw the output connection of a block that doesn't have one\");\nthis.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error(\"Cannot draw the output connection of a block that doesn't have one\");this.positionOutputConnection_();this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);this.outlinePath_+=\"z\"}drawFlatTop_(){const a=this.info_.topRow;this.positionPreviousConnection_();this.outlinePath_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,\nthis.info_.startY);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",a.width)}drawFlatBottom_(){const a=this.info_.bottomRow;this.positionNextConnection_();this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-a.width)}drawInlineInput_(a){this.positionInlineInputConnection_(a);const b=a.input.name;a.connectedBlock||this.info_.isInsertionMarker||(a=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+\na.connectionWidth,a.centerline-a.height/2)+this.getInlineInputPath(a),this.block_.pathObject.setOutlinePath(b,a))}getInlineInputPath(a){const b=a.width-a.connectionWidth*2,c=a.height;return lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)+a.shape.pathRightDown(c)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-b)+a.shape.pathUp(c)+\"z\"}drawStatementInput_(a){var b=a.getLastInput();const c=b.xPos+b.notchOffset+b.shape.width,d=this.constants_.INSIDE_CORNERS,e=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\n-(b.notchOffset-d.width))+d.pathTop,f=a.height-2*d.height;b=d.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b.notchOffset-d.width)+(b.connectedBottomNextConnection?\"\":b.shape.pathLeft);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c)+e+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",f)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width);this.positionStatementInputConnection_(a)}drawConnectionHighlightPath(a){const b=a.connectionModel;\nif(b.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&!a.isDynamicShape)return super.drawConnectionHighlightPath(a);a=b.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE?moveTo$$module$build$src$core$utils$svg_paths(a.connectionWidth,-a.height/2)+this.getInlineInputPath(a):moveTo$$module$build$src$core$utils$svg_paths(a.width,\n-a.height/2)+a.shape.pathDown(a.height);const c=b.getSourceBlock();let d,e;return(e=(d=c.pathObject).addConnectionHighlight)==null?void 0:e.call(d,b,a,b.getOffsetInBlock(),c.RTL)}},module$build$src$core$renderers$zelos$drawer={};module$build$src$core$renderers$zelos$drawer.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;var FieldImage$$module$build$src$core$field_image=class extends Field$$module$build$src$core$field{constructor(a,b,c,d,e,f,g){super(Field$$module$build$src$core$field.SKIP_SETUP);this.imageElement=this.clickHandler=null;this.flipRtl=this.isDirty_=this.EDITABLE=!1;this.altText=\"\";c=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(c));b=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(b));if(isNaN(c)||isNaN(b))throw Error(\"Height and width values of an image field must cast to numbers.\");\nif(c<=0||b<=0)throw Error(\"Height and width values of an image field must be greater than 0.\");this.size_=new Size$$module$build$src$core$utils$size(b,c+FieldImage$$module$build$src$core$field_image.Y_PADDING);this.imageHeight=c;typeof e===\"function\"&&(this.clickHandler=e);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(g?this.configure_(g):(this.flipRtl=!!f,this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(d)||\"\"),this.setValue(replaceMessageReferences$$module$build$src$core$utils$parsing(a)))}configure_(a){super.configure_(a);\na.flipRtl&&(this.flipRtl=a.flipRtl);a.alt&&(this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(a.alt))}initView(){this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.imageHeight+\"px\",width:this.size_.width+\"px\",alt:this.altText},this.fieldGroup_);this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.value_);this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\n\"blocklyImageField\");this.clickHandler&&(this.imageElement.style.cursor=\"pointer\")}updateSize_(){}doClassValidation_(a){return typeof a!==\"string\"?null:a}doValueUpdate_(a){this.value_=a;this.imageElement&&this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(a){a!==this.altText&&(this.altText=a||\"\",this.imageElement&&this.imageElement.setAttribute(\"alt\",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&\nthis.clickHandler(this)}setOnClickHandler(a){this.clickHandler=a}getText_(){return this.altText}static fromJson(a){if(!a.src||!a.width||!a.height)throw Error(\"src, width, and height values for an image field arerequired. The width and height must be non-zero.\");return new this(a.src,a.width,a.height,void 0,void 0,void 0,a)}};FieldImage$$module$build$src$core$field_image.Y_PADDING=1;register$$module$build$src$core$field_registry(\"field_image\",FieldImage$$module$build$src$core$field_image);\nFieldImage$$module$build$src$core$field_image.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_image={};module$build$src$core$field_image.FieldImage=FieldImage$$module$build$src$core$field_image;var MINIMUM_WIDTH$$module$build$src$core$field_input=14,FieldInput$$module$build$src$core$field_input=class extends Field$$module$build$src$core$field{set size_(a){super.size_=a}get size_(){const a=super.size_;a.width<MINIMUM_WIDTH$$module$build$src$core$field_input&&(a.width=MINIMUM_WIDTH$$module$build$src$core$field_input);return a}constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.spellcheck_=!0;this.htmlInput_=null;this.isTextValid_=this.isBeingEdited_=!1;this.onInputWrapper=\nthis.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null;this.fullBlockClickTarget_=!1;this.workspace_=null;this.SERIALIZABLE=!0;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){super.configure_(a);a.spellcheck!==void 0&&(this.spellcheck_=a.spellcheck)}initView(){if(!this.getSourceBlock())throw new UnattachedFieldError$$module$build$src$core$field;super.initView();this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot());\nthis.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyInputField\")}isFullBlockField(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;let b;return this.fullBlockClickTarget_=!((b=this.getConstants())==null||!b.FULL_BLOCK_FIELDS)&&a.isSimpleReporter()}doValueInvalid_(a,b=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,a=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&\nthis.value_!==a&&b&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock_,\"field\",this.name||null,a,this.value_)))}doValueUpdate_(a){this.isTextValid_=this.isDirty_=!0;this.value_=a}applyColour(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?\n(this.borderRect_.style.display=\"block\",this.borderRect_.setAttribute(\"stroke\",a.getColourTertiary())):(this.borderRect_.style.display=\"none\",a.pathObject.svgPath.setAttribute(\"fill\",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let a;if((a=this.getConstants())==null?0:a.FULL_BLOCK_FIELDS)this.render_(),this.isDirty_=!1;return super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){super.render_();if(this.isBeingEdited_){var a=this.htmlInput_;this.isTextValid_?\n(removeClass$$module$build$src$core$utils$dom(a,\"blocklyInvalidInput\"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!1)):(addClass$$module$build$src$core$utils$dom(a,\"blocklyInvalidInput\"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!0))}a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.getConstants().FULL_BLOCK_FIELDS&&a.applyColour()}setSpellcheck(a){a!==\nthis.spellcheck_&&(this.spellcheck_=a,this.htmlInput_&&this.htmlInput_.setAttribute(\"spellcheck\",this.spellcheck_))}showEditor_(a,b=!1,c=!0){this.workspace_=this.sourceBlock_.workspace;!b&&this.workspace_.options.modalInputs&&(MOBILE$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent||IPAD$$module$build$src$core$utils$useragent)?this.showPromptEditor():this.showInlineEditor(b,c)}showPromptEditor(){prompt$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,\nthis.getText(),a=>{a!==null&&this.setValue(this.getValueFromEditorText_(a));this.onFinishEditing_(this.value_)})}showInlineEditor(a,b){const c=this.getSourceBlock();if(!c)throw new UnattachedFieldError$$module$build$src$core$field;show$$module$build$src$core$widgetdiv(this,c.RTL,this.widgetDispose_.bind(this),this.workspace_,b);this.htmlInput_=this.widgetCreate_();this.isBeingEdited_=!0;this.valueWhenEditorWasOpened_=this.value_;a||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var a=\nthis.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;$.setGroup$$module$build$src$core$events$utils(!0);const b=getDiv$$module$build$src$core$widgetdiv();var c=this.getClickTarget_();if(!c)throw Error(\"A click target has not been set.\");addClass$$module$build$src$core$utils$dom(c,\"blocklyEditing\");c=document.createElement(\"input\");c.className=\"blocklyHtmlInput\";c.setAttribute(\"spellcheck\",this.spellcheck_);const d=this.workspace_.getAbsoluteScale();var e=this.getConstants().FIELD_TEXT_FONTSIZE*\nd+\"pt\";b.style.fontSize=e;c.style.fontSize=e;e=FieldInput$$module$build$src$core$field_input.BORDERRADIUS*d+\"px\";this.isFullBlockField()&&(e=this.getScaledBBox(),e=(e.bottom-e.top)/2+\"px\",a=a.getParent()?a.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),c.style.border=1*d+\"px solid \"+a,b.style.borderRadius=e,b.style.transition=\"box-shadow 0.25s ease 0s\",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(b.style.boxShadow=\"rgba(255, 255, 255, 0.3) 0 0 0 \"+4*d+\"px\"));c.style.borderRadius=\ne;b.appendChild(c);c.value=c.defaultValue=this.getEditorText_(this.value_);c.setAttribute(\"data-untyped-default-value\",String(this.value_));this.resizeEditor_();this.bindInputEvents_(c);return c}widgetDispose_(){this.isBeingEdited_=!1;this.isTextValid_=!0;this.forceRerender();this.onFinishEditing_(this.value_);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock_,\n\"field\",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null);$.setGroup$$module$build$src$core$events$utils(!1);this.unbindInputEvents_();var a=getDiv$$module$build$src$core$widgetdiv().style;a.width=\"auto\";a.height=\"auto\";a.fontSize=\"\";a.transition=\"\";a.boxShadow=\"\";this.htmlInput_=null;a=this.getClickTarget_();if(!a)throw Error(\"A click target has not been set.\");removeClass$$module$build$src$core$utils$dom(a,\"blocklyEditing\")}onFinishEditing_(a){}bindInputEvents_(a){this.onKeyDownWrapper=\nconditionalBind$$module$build$src$core$browser_events(a,\"keydown\",this,this.onHtmlInputKeyDown_);this.onInputWrapper=conditionalBind$$module$build$src$core$browser_events(a,\"input\",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(unbind$$module$build$src$core$browser_events(this.onKeyDownWrapper),this.onKeyDownWrapper=null);this.onInputWrapper&&(unbind$$module$build$src$core$browser_events(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(a){if(a.key===\"Enter\")hideIfOwner$$module$build$src$core$widgetdiv(this),\nhideWithoutAnimation$$module$build$src$core$dropdowndiv();else if(a.key===\"Escape\")this.setValue(this.htmlInput_.getAttribute(\"data-untyped-default-value\"),!1),hideIfOwner$$module$build$src$core$widgetdiv(this),hideWithoutAnimation$$module$build$src$core$dropdowndiv();else if(a.key===\"Tab\"){a.preventDefault();var b,c=(b=this.workspace_)==null?void 0:b.getCursor();b=d=>(d instanceof FieldInput$$module$build$src$core$field_input||d instanceof BlockSvg$$module$build$src$core$block_svg&&d.isSimpleReporter())&&\nd!==this.getSourceBlock();a=a.shiftKey?c==null?void 0:c.getPreviousNode(this,b,!1):c==null?void 0:c.getNextNode(this,b,!1);a=a instanceof BlockSvg$$module$build$src$core$block_svg&&a.isSimpleReporter()?a.getFields().next().value:a;a instanceof FieldInput$$module$build$src$core$field_input&&(hideIfOwner$$module$build$src$core$widgetdiv(this),hideWithoutAnimation$$module$build$src$core$dropdowndiv(),c=a.getSourceBlock(),a.isFullBlockField()&&c&&c instanceof BlockSvg$$module$build$src$core$block_svg?\n$.getFocusManager$$module$build$src$core$focus_manager().focusNode(c):$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a),a.showEditor())}}onHtmlInputChange(a){a=this.value_;this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.value_!==a&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,\nthis.name||null,a,this.value_))}setEditorValue_(a,b=!0){this.isDirty_=!0;this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(a));this.setValue(a,b)}resizeEditor_(){finishQueuedRenders$$module$build$src$core$render_management().then(()=>{const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;const b=getDiv$$module$build$src$core$widgetdiv(),c=this.getScaledBBox();b.style.width=c.right-c.left+\"px\";b.style.height=c.bottom-c.top+\"px\";const d=c.top;\nb.style.left=`${a.RTL?c.right-b.offsetWidth:c.left}px`;b.style.top=`${d}px`})}repositionForWindowResize(){let a;const b=(a=this.getSourceBlock())==null?void 0:a.getRootBlock();if(!(b instanceof BlockSvg$$module$build$src$core$block_svg))return!1;bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),b)||this.resizeEditor_();return!0}positionTextElement_(a,b){const c=a*2+b;super.positionTextElement_(a+(c<MINIMUM_WIDTH$$module$build$src$core$field_input?\n(MINIMUM_WIDTH$$module$build$src$core$field_input-c)/2:0),b)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(a){return`${a}`}getValueFromEditorText_(a){return a}};FieldInput$$module$build$src$core$field_input.BORDERRADIUS=4;var module$build$src$core$field_input={};module$build$src$core$field_input.FieldInput=FieldInput$$module$build$src$core$field_input;$.FieldTextInput$$module$build$src$core$field_textinput=class extends FieldInput$$module$build$src$core$field_input{constructor(a,b,c){super(a,b,c)}initView(){super.initView();this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyTextInputField\")}doClassValidation_(a){return a===void 0?null:`${a}`}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};\nregister$$module$build$src$core$field_registry(\"field_input\",$.FieldTextInput$$module$build$src$core$field_textinput);$.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_textinput={};module$build$src$core$field_textinput.FieldTextInput=$.FieldTextInput$$module$build$src$core$field_textinput;var BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row=class extends BottomRow$$module$build$src$core$renderers$measurables$bottom_row{constructor(a){super(a)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(a){return!!a.outputConnection}hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection}},module$build$src$core$renderers$zelos$measurables$bottom_row={};module$build$src$core$renderers$zelos$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;var StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs=class extends StatementInput$$module$build$src$core$renderers$measurables$statement_input{constructor(a,b){super(a,b);this.connectedBottomNextConnection=!1;if(this.connectedBlock){for(a=this.connectedBlock;b=a.getNextBlock();)a=b;a.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},module$build$src$core$renderers$zelos$measurables$inputs={};\nmodule$build$src$core$renderers$zelos$measurables$inputs.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;var RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.width=this.height=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.getType(\"RIGHT_CONNECTION\")}},module$build$src$core$renderers$zelos$measurables$row_elements={};module$build$src$core$renderers$zelos$measurables$row_elements.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;var TopRow$$module$build$src$core$renderers$zelos$measurables$top_row=class extends TopRow$$module$build$src$core$renderers$measurables$top_row{constructor(a){super(a)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(a){const b=(a.hat?a.hat===\"cap\":this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection;return!!a.outputConnection||b}hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection}},module$build$src$core$renderers$zelos$measurables$top_row=\n{};module$build$src$core$renderers$zelos$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;var RenderInfo$$module$build$src$core$renderers$zelos$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b);this.isInline=!0;this.renderer_=a;this.constants_=this.renderer_.getConstants();this.topRow=new TopRow$$module$build$src$core$renderers$zelos$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row(this.constants_);this.isMultiRow=!b.getInputsInline()||b.isCollapsed();this.hasStatementInput=\nb.statementInputCount>0;this.rightSide=this.outputConnection?new RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements(this.constants_):null;this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.adjustXPosition_();this.computeBounds_();this.alignRowElements_();this.finalize_()}shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||\na instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(a){return a.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||\n0):super.getDesiredRowWidth_(a)}getInRowSpacing_(a,b){return a&&b||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?\nb.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isHat(b)||a&&Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;\nconst c=Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement,d=Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement;return d||c?(a=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&c?Math.max(a,this.constants_.DUMMY_INPUT_MIN_HEIGHT):a):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?a.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:\nMath.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.outputConnection?!b.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(a,b){const c=this.width-\nthis.startX;return Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement||Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement?Math.max(c,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):c}getElemCenterline_(a,b){if(a.hasStatement&&!Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)&&!Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return a.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/\n2;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)){const c=b.connectedBlock;if(c&&c.outputConnection&&c.nextConnection)return a.yPos+c.height/2}return super.getElemCenterline_(a,b)}addInput_(a,b){if((a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)&&b.hasDummyInput&&b.align===$.Align$$module$build$src$core$inputs$align.LEFT&&a.align===$.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(b,\na);else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input){b.elements.push(new StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs(this.constants_,a));b.hasStatement=!0;b.align===null&&(b.align=a.align);return}super.addInput_(a,b)}addAlignmentPadding_(a,b){if(this.rightAlignedDummyInputs.get(a)){let c;for(let d=0;d<a.elements.length;d++){const e=a.elements[d];Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)&&(c=e);if(Types$$module$build$src$core$renderers$measurables$types.isField(e)&&\ne.parentInput===this.rightAlignedDummyInputs.get(a))break}if(c){c.width+=b;a.width+=b;return}}super.addAlignmentPadding_(a,b)}adjustXPosition_(){const a=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let b=a;for(let e=2;e<this.rows.length-1;e+=2){var c=this.rows[e-1];const f=this.rows[e];var d=this.rows[e+1];c=e===2?!!this.topRow.hasPreviousConnection:!!c.followsStatement;d=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement;if(Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&\nf.hasStatement){f.measure();let g,h;b=f.width-((h=(g=f.getLastInput())==null?void 0:g.width)!=null?h:0)+a}else if(c&&(e===2||d)&&Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&!f.hasStatement){d=f.xPos;c=null;for(let g=0;g<f.elements.length;g++){const h=f.elements[g];Types$$module$build$src$core$renderers$measurables$types.isSpacer(h)&&(c=h);!(c&&(Types$$module$build$src$core$renderers$measurables$types.isField(h)||Types$$module$build$src$core$renderers$measurables$types.isInput(h))&&\nd<b)||Types$$module$build$src$core$renderers$measurables$types.isField(h)&&(h.field instanceof FieldLabel$$module$build$src$core$field_label||h.field instanceof FieldImage$$module$build$src$core$field_image)||(c.width+=b-d);d+=h.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var a=this.outputConnection.shape;if(\"isDynamic\"in a&&a.isDynamic){var b=0;for(var c=0;c<this.rows.length;c++){const d=this.rows[c];d.yPos=b;b+=d.height}this.height=b;c=this.bottomRow.hasNextConnection?\nthis.height-this.bottomRow.descenderHeight:this.height;b=a.height(c);c=a.width(c);this.outputConnection.height=b;this.outputConnection.width=c;this.outputConnection.startX=c;this.outputConnection.connectionOffsetY=a.connectionOffsetY(b);this.outputConnection.connectionOffsetX=a.connectionOffsetX(c);a=0;this.hasStatementInput||this.bottomRow.hasNextConnection||(a=c,this.rightSide.height=b,this.rightSide.width=a,this.rightSide.centerline=b/2,this.rightSide.xPos=this.width+a);this.startX=c;this.width+=\nc+a;this.widthWithChildren+=c+a}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){var a=0;for(var b=0;b<this.rows.length;b++){var c=this.rows[b];if(!Types$$module$build$src$core$renderers$measurables$types.isInputRow(c))continue;a=c.elements[c.elements.length-2];let d=this.getNegativeSpacing_(c.elements[1]),e=this.getNegativeSpacing_(a);a=d+e;const f=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-a<f&&(a=\nthis.width-f,d=a/2,e=a/2);c.elements.unshift(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-d));c.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-e))}if(a)for(this.width-=a,this.widthWithChildren-=a,this.rightSide.xPos-=a,b=0;b<this.rows.length;b++)c=this.rows[b],Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.elements[1].width-=a),c.width-=a,c.widthWithConnectedBlocks-=\na}}getNegativeSpacing_(a){if(!a||!this.outputConnection)return 0;const b=this.outputConnection.width;var c=this.outputConnection.shape.type;const d=this.constants_;if(this.inputRows.length>1)switch(c){case d.SHAPES.ROUND:return c=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=this.height/2>c?c:this.height/2,b-c*(1-Math.sin(Math.acos((c-this.constants_.SMALL_PADDING)/c)));default:return 0}if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)){const e=a.connectedBlock;a=\ne?e.pathObject.outputShapeType:a.shape.type;return a==null||e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||c===d.SHAPES.HEXAGONAL&&c!==a?0:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][a]}return Types$$module$build$src$core$renderers$measurables$types.isField(a)?c===d.SHAPES.ROUND&&a.field instanceof $.FieldTextInput$$module$build$src$core$field_textinput?b-2.75*d.GRID_UNIT:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][0]:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?\nthis.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let d=2;d<this.rows.length-1;d+=2){const e=this.rows[d-1],f=this.rows[d],g=this.rows[d+1];var a=d===2,b=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!g.precedesStatement;if(a?this.topRow.hasPreviousConnection:e.followsStatement){var c=f.elements[1];c=f.elements.length===3&&c instanceof Field$$module$build$src$core$renderers$measurables$field&&(c.field instanceof FieldLabel$$module$build$src$core$field_label||\nc.field instanceof FieldImage$$module$build$src$core$field_image);if(!a&&c)e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.MEDIUM_PADDING;else if(!a&&!b)e.height+=this.constants_.SMALL_PADDING;else if(b){a=!1;for(b=0;b<f.elements.length;b++)if(c=f.elements[b],Types$$module$build$src$core$renderers$measurables$types.isInlineInput(c)&&c.connectedBlock&&!c.connectedBlock.isShadow()&&c.connectedBlock.getHeightWidth().height>=40){a=!0;break}a&&\n(e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_();this.finalizeHorizontalAlignment_();this.finalizeVerticalAlignment_();super.finalize_();this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},module$build$src$core$renderers$zelos$info={};module$build$src$core$renderers$zelos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;var PathObject$$module$build$src$core$renderers$zelos$path_object=class extends PathObject$$module$build$src$core$renderers$common$path_object{constructor(a,b,c){super(a,b,c);this.svgPathSelected=null;this.outlines=new Map;this.remainingOutlines=new Set;this.outputShapeType=null;this.constants=c}setPath(a){super.setPath(a);this.svgPathSelected&&this.svgPathSelected.setAttribute(\"d\",a)}applyColour(a){super.applyColour(a);const b=a.getParent();a.isShadow()&&b&&this.svgPath.setAttribute(\"stroke\",b.getColourTertiary());\nfor(const c of this.outlines.values())c.setAttribute(\"fill\",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const a of this.outlines.values())a.setAttribute(\"transform\",\"scale(-1 1)\")}updateSelected(a){this.setClass_(\"blocklySelected\",a);a?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add(\"blocklyPathSelected\"),removeClass$$module$build$src$core$utils$dom(this.svgPathSelected,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),\nremoveClass$$module$build$src$core$utils$dom(this.svgPathSelected,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute(\"tabindex\"),this.svgPathSelected.removeAttribute(\"id\"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(a){this.setClass_(\"blocklyReplaceable\",a)}updateShapeForInputHighlight(a,b){a=a.getParentInput().name;\n(a=this.getOutlinePath(a))&&(b?a.setAttribute(\"filter\",\"url(#\"+this.constants.replacementGlowFilterId+\")\"):a.removeAttribute(\"filter\"))}beginDrawing(){this.remainingOutlines.clear();for(const a of this.outlines.keys())this.remainingOutlines.add(a)}endDrawing(){if(this.remainingOutlines.size)for(const a of this.remainingOutlines)this.removeOutlinePath(a);this.remainingOutlines.clear()}setOutlinePath(a,b){a=this.getOutlinePath(a);a.setAttribute(\"d\",b);a.setAttribute(\"fill\",this.style.colourTertiary)}getOutlinePath(a){this.outlines.has(a)||\nthis.outlines.set(a,createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyOutlinePath\",d:\"\"},this.svgRoot));this.remainingOutlines.delete(a);return this.outlines.get(a)}removeOutlinePath(a){let b,c;(b=this.outlines.get(a))==null||(c=b.parentNode)==null||c.removeChild(this.outlines.get(a));this.outlines.delete(a)}},module$build$src$core$renderers$zelos$path_object={};module$build$src$core$renderers$zelos$path_object.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;var Renderer$$module$build$src$core$renderers$zelos$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a)}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$zelos$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$zelos$info(this,a)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$zelos$drawer(a,b)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$zelos$path_object(a,\nb,this.getConstants())}getConstants(){return this.constants_}};register$$module$build$src$core$renderers$common$block_rendering(\"zelos\",Renderer$$module$build$src$core$renderers$zelos$renderer);var module$build$src$core$renderers$zelos$renderer={};module$build$src$core$renderers$zelos$renderer.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;var InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer=class{constructor(a){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null;this.workspace=a.workspace}previewReplacement(a,b,c){$.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=c,c.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(b)&&(b.highlight(),this.staticConn=b)}finally{$.enable$$module$build$src$core$events$utils()}}previewConnection(a,\nb){if(a!==this.draggedConn||b!==this.staticConn){$.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(a,b)&&(this.markerConn=this.previewMarker(a,b)),this.workspace.getRenderer().shouldHighlightConnection(b)&&b.highlight(),this.draggedConn=a,this.staticConn=b}finally{$.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(a,b){return b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||\n!(this.workspace.getRenderer()instanceof Renderer$$module$build$src$core$renderers$zelos$renderer)}previewMarker(a,b){const c=a.getSourceBlock(),d=this.createInsertionMarker(c),e=this.getMatchingConnection(c,d,a);if(!e)return null;d.queueRender();triggerQueuedRenders$$module$build$src$core$render_management();e.connect(b);const f={x:b.x-e.x,y:b.y-e.y},g=e.getOffsetInBlock().clone();finishQueuedRenders$$module$build$src$core$render_management().then(()=>{if(!d.isDeadOrDying()){$.disable$$module$build$src$core$events$utils();\ntry{d==null||d.positionNearConnection(e,f,g),d==null||d.getSvgRoot().setAttribute(\"visibility\",\"visible\")}finally{$.enable$$module$build$src$core$events$utils()}}});return e}serializeBlockToInsertionMarker(a){const b=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!b)throw Error(`Failed to serialize source block. ${a.toDevString()}`);return b}createInsertionMarker(a){a=this.serializeBlockToInsertionMarker(a);a=append$$module$build$src$core$serialization$blocks(a,\nthis.workspace);for(const b of a.getDescendants(!1))b.setInsertionMarker(!0);a.initSvg();a.getSvgRoot().setAttribute(\"visibility\",\"hidden\");return a}getMatchingConnection(a,b,c){a=a.getConnections_(!0);b=b.getConnections_(!0);if(a.length!==b.length)return null;for(let d=0;d<a.length;d++)if(a[d]===c)return b[d];return null}hidePreview(){$.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),\nthis.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{$.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(a){const b=a.getSourceBlock(),c=b.outputConnection;let d;if(((d=b.previousConnection)==null?0:d.targetConnection)||(c==null?0:c.targetConnection))b.unplug(!0);else{let e;(e=a.targetBlock())==null||e.unplug(!1)}b.dispose()}dispose(){this.hidePreview()}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_PREVIEWER,DEFAULT$$module$build$src$core$registry,InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer);var module$build$src$core$insertion_marker_previewer={};module$build$src$core$insertion_marker_previewer.InsertionMarkerPreviewer=InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer;var module$build$src$core$inputs={};module$build$src$core$inputs.Align=$.Align$$module$build$src$core$inputs$align;module$build$src$core$inputs.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;module$build$src$core$inputs.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;module$build$src$core$inputs.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$inputs.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;\nmodule$build$src$core$inputs.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;module$build$src$core$inputs.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var documentEventsBound$$module$build$src$core$inject=!1,module$build$src$core$inject={};module$build$src$core$inject.inject=inject$$module$build$src$core$inject;var module$build$src$core$generator;\n$.CodeGenerator$$module$build$src$core$generator=class{constructor(a){this.forBlock=Object.create(null);this.FUNCTION_NAME_PLACEHOLDER_=\"{leCUI8hutHZI4480Dc}\";this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null;this.INDENT=\"  \";this.COMMENT_WRAP=60;this.ORDER_OVERRIDES=[];this.isInitialized=null;this.RESERVED_WORDS_=\"\";this.definitions_=Object.create(null);this.functionNames_=Object.create(null);this.nameDB_=void 0;this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,\n\"g\")}workspaceToCode(a){a||(console.warn(\"No workspace specified in workspaceToCode call.  Guessing.\"),a=getMainWorkspace$$module$build$src$core$common());var b=[];this.init(a);a=a.getTopBlocks(!0);for(let c=0,d;d=a[c];c++){let e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,d)+e),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,\nd))),b.push(e))}b=b.join(\"\\n\");b=this.finish(b);b=b.replace(/^\\s+\\n/,\"\");b=b.replace(/\\n\\s+$/,\"\\n\");return b=b.replace(/[ \\t]+\\n/g,\"\\n\")}prefixLines(a,b){return b+a.replace(/(?!\\n$)\\n/g,\"\\n\"+b)}allNestedComments(a){const b=[];a=a.getDescendants(!0);for(let c=0;c<a.length;c++){const d=a[c].getCommentText();d&&b.push(d)}b.length&&b.push(\"\");return b.join(\"\\n\")}blockToCode(a,b){this.isInitialized===!1&&console.warn(\"CodeGenerator init was not called before blockToCode was called.\");if(!a)return\"\";if(!a.isEnabled())return b?\n\"\":this.blockToCode(a.getNextBlock());if(a.isInsertionMarker())return b?\"\":this.blockToCode(a.getChildren(!1)[0]);var c=this.forBlock[a.type];if(typeof c!==\"function\")throw Error(`${this.name_} generator does not know how to generate code `+`for block type \"${a.type}\".`);c=c.call(a,a,this);if(Array.isArray(c)){if(!a.outputConnection)throw TypeError(\"Expecting string from statement block: \"+a.type);return[this.scrub_(a,c[0],b),c[1]]}if(typeof c===\"string\")return this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&\n(c=this.injectId(this.STATEMENT_PREFIX,a)+c),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(c+=this.injectId(this.STATEMENT_SUFFIX,a)),this.scrub_(a,c,b);if(c===null)return\"\";throw SyntaxError(\"Invalid code generated: \"+c);}valueToCode(a,b,c){if(isNaN(c))throw TypeError(\"Expecting valid order from block: \"+a.type);var d=a.getInputTargetBlock(b);if(!d&&!a.getInput(b))throw ReferenceError(`Input \"${b}\" doesn't exist on \"${a.type}\"`);if(!d)return\"\";b=this.blockToCode(d);if(b===\"\")return\"\";if(!Array.isArray(b))throw TypeError(`Expecting tuple from value block: ${d.type} See `+\n\"developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information\");a=b[0];b=b[1];if(isNaN(b))throw TypeError(\"Expecting valid order from value block: \"+d.type);if(!a)return\"\";d=!1;var e=Math.floor(c);const f=Math.floor(b);if(e<=f&&(e!==f||e!==0&&e!==99))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]===c&&this.ORDER_OVERRIDES[e][1]===b){d=!1;break}d&&(a=\"(\"+a+\")\");return a}statementToCode(a,b){const c=a.getInputTargetBlock(b);if(!c&&!a.getInput(b))throw ReferenceError(`Input \"${b}\" doesn't exist on \"${a.type}\"`);\na=this.blockToCode(c);if(typeof a!==\"string\")throw TypeError(\"Expecting code from statement block: \"+(c&&c.type));a&&(a=this.prefixLines(a,this.INDENT));return a}addLoopTrap(a,b){this.INFINITE_LOOP_TRAP&&(a=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,b),this.INDENT)+a);this.STATEMENT_SUFFIX&&!b.suppressPrefixSuffix&&(a=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,b),this.INDENT)+a);this.STATEMENT_PREFIX&&!b.suppressPrefixSuffix&&(a+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,\nb),this.INDENT));return a}injectId(a,b){b=b.id.replace(/\\$/g,\"$$$$\");return a.replace(/%1/g,\"'\"+b+\"'\")}addReservedWords(a){this.RESERVED_WORDS_+=a+\",\"}provideFunction_(a,b){if(!this.definitions_[a]){const c=this.nameDB_.getDistinctName(a,$.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[a]=c;Array.isArray(b)&&(b=b.join(\"\\n\"));b=b.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);let d;for(;d!==b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,\"$1\\x00\");b=b.replace(/\\0/g,this.INDENT);\nthis.definitions_[a]=b}return this.functionNames_[a]}getVariableName(a){return this.getName(a,$.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(a){return this.getName(a,$.NameType$$module$build$src$core$names.PROCEDURE)}getName(a,b){if(!this.nameDB_)throw Error(\"Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.\");return this.nameDB_.getName(a,b)}init(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null)}scrub_(a,\nb,c){return b}finish(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null);return a}scrubNakedValue(a){return a}};module$build$src$core$generator={};module$build$src$core$generator.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;var VerticalFlyout$$module$build$src$core$flyout_vertical=class extends Flyout$$module$build$src$core$flyout_base{constructor(a){super(a)}setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();typeof a.y===\"number\"&&(this.workspace_.scrollY=-(c.top+(c.height-d.height)*a.y));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}}getX(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager();\nconst b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?a.width:c.width-this.getWidth():this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width:this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width+b.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&\nthis.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=a.height;var b=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(b,a.height-2*this.CORNER_RADIUS);a=this.getX();b=this.getY();this.positionAt_(this.getWidth(),this.getHeight(),a,b)}}setBackgroundPath(a,b){const c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.RIGHT;var d=a+this.CORNER_RADIUS;d=[\"M \"+(c?d:0)+\",0\"];d.push(\"h\",c?-a:a);d.push(\"a\",this.CORNER_RADIUS,\nthis.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push(\"v\",Math.max(0,b));d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push(\"h\",c?a:-a);d.push(\"z\");this.svgBackground_.setAttribute(\"d\",d.join(\" \"))}scrollToStart(){let a;(a=this.workspace_.scrollbar)==null||a.setY(0)}wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b.y){const c=this.workspace_.getMetricsManager(),\nd=c.getScrollMetrics();b=c.getViewMetrics().top-d.top+b.y;let e;(e=this.workspace_.scrollbar)==null||e.setY(b);hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this.workspace_);hideWithoutAnimation$$module$build$src$core$dropdowndiv()}a.preventDefault();a.stopPropagation()}layout_(a){this.workspace_.scale=this.targetWorkspace.scale;var b=this.MARGIN;const c=this.RTL?b:b+this.tabWidth_;for(const d of a)d.getElement().moveBy(c,b),b+=d.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(a){a=\nMath.atan2(a.y,a.x)/Math.PI*180;const b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const a=this.svgGroup_.getBoundingClientRect(),b=a.left;return this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E9,1E9,-1E9,b+a.width):new Rect$$module$build$src$core$utils$rect(-1E9,1E9,b,1E9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();\nlet a=this.getContents().reduce((b,c)=>Math.max(b,c.getElement().getBoundingRectangle().getWidth()),0);a+=this.MARGIN*1.5+this.tabWidth_;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;if(this.getWidth()!==a){if(this.RTL)for(const b of this.getContents()){const c=b.getElement().getBoundingRectangle().left,d=a/this.workspace_.scale-b.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;b.getElement().moveBy(d-c,0)}this.targetWorkspace.scrollbar||\nthis.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+a,this.targetWorkspace.scrollY);this.width_=a;this.position();this.targetWorkspace.resizeContents();this.targetWorkspace.recordDragTargets()}}};VerticalFlyout$$module$build$src$core$flyout_vertical.registryName=\"verticalFlyout\";\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,VerticalFlyout$$module$build$src$core$flyout_vertical);var module$build$src$core$flyout_vertical={};module$build$src$core$flyout_vertical.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;var HorizontalFlyout$$module$build$src$core$flyout_horizontal=class extends Flyout$$module$build$src$core$flyout_base{constructor(a){super(a);this.horizontalLayout=!0}setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();typeof a.x===\"number\"&&(this.workspace_.scrollX=-(c.left+(c.width-d.width)*a.x));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;\nvar a=this.targetWorkspace.getMetricsManager();const b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();const d=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?a.height:c.height-this.getHeight():d?0:c.height:d?0:c.height+b.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();\nthis.width_=a.width;a=a.width-2*this.CORNER_RADIUS;var b=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(a,b);a=this.getX();b=this.getY();this.positionAt_(this.getWidth(),this.getHeight(),a,b)}}setBackgroundPath(a,b){const c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP,d=[\"M 0,\"+(c?0:this.CORNER_RADIUS)];c?(d.push(\"h\",a+2*this.CORNER_RADIUS),d.push(\"v\",b),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push(\"h\",\n-a),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push(\"h\",a),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push(\"v\",b),d.push(\"h\",-a-2*this.CORNER_RADIUS));d.push(\"z\");this.svgBackground_.setAttribute(\"d\",d.join(\" \"))}scrollToStart(){let a;(a=this.workspace_.scrollbar)==null||a.setX(this.RTL?Infinity:\n0)}wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b=b.x||b.y){const c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().left-d.left+b;let e;(e=this.workspace_.scrollbar)==null||e.setX(b);hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this.workspace_);hideWithoutAnimation$$module$build$src$core$dropdowndiv()}a.preventDefault();a.stopPropagation()}layout_(a){this.workspace_.scale=this.targetWorkspace.scale;const b=this.MARGIN;\nlet c=b+this.tabWidth_;this.RTL&&(a=a.reverse());for(const d of a)a=d.getElement().getBoundingRectangle(),a=this.RTL?c+a.getWidth():c,d.getElement().moveBy(a,b),c+=d.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(a){a=Math.atan2(a.y,a.x)/Math.PI*180;const b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const a=this.svgGroup_.getBoundingClientRect(),b=a.top;return this.toolboxPosition_===\nPosition$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E9,b+a.height,-1E9,1E9):new Rect$$module$build$src$core$utils$rect(b,1E9,-1E9,1E9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let a=this.getContents().reduce((b,c)=>Math.max(b,c.getElement().getBoundingRectangle().getHeight()),0);a+=this.MARGIN*1.5;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;this.getHeight()!==a&&(this.targetWorkspace.scrollbar||\nthis.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+a),this.height_=a,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,HorizontalFlyout$$module$build$src$core$flyout_horizontal);\nvar module$build$src$core$flyout_horizontal={};module$build$src$core$flyout_horizontal.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;var FieldVariable$$module$build$src$core$field_variable=class extends FieldDropdown$$module$build$src$core$field_dropdown{constructor(a,b,c,d,e){super(Field$$module$build$src$core$field.SKIP_SETUP);this.defaultType=\"\";this.variableTypes=[];this.variable=null;this.SERIALIZABLE=!0;this.menuGenerator_=FieldVariable$$module$build$src$core$field_variable.dropdownCreate;this.defaultVariableName=typeof a===\"string\"?a:\"\";this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&\n(e?this.configure_(e):this.setTypes(c,d),b&&this.setValidator(b))}configure_(a){super.configure_(a);this.setTypes(a.variableTypes,a.defaultType)}initModel(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.variable||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(a.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(a.getId()))}initView(){super.initView();addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\n\"blocklyVariableField\")}shouldAddBorderRect_(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||a.type!==\"variables_get\")}fromXml(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;const c=a.getAttribute(\"id\"),d=a.textContent,e=a.getAttribute(\"variabletype\")||a.getAttribute(\"variableType\")||\"\";b=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,\nc,d,e);if(e!==null&&e!==b.getType())throw Error(\"Serialized variable type with id '\"+b.getId()+\"' had type \"+b.getType()+\", and does not match variable field that references it: \"+domToText$$module$build$src$core$xml(a)+\".\");this.setValue(b.getId())}toXml(a){this.initModel();a.id=this.variable.getId();a.textContent=this.variable.getName();this.variable.getType()&&a.setAttribute(\"variabletype\",this.variable.getType());return a}saveState(a){var b=this.saveLegacyState(FieldVariable$$module$build$src$core$field_variable);\nif(b!==null)return b;this.initModel();b={id:this.variable.getId()};a&&(b.name=this.variable.getName(),b.type=this.variable.getType());return b}loadState(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.loadLegacyState(FieldVariable$$module$build$src$core$field_variable,a)||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,a.id||null,a.name,a.type||\"\"),this.setValue(a.getId()))}setSourceBlock(a){if(a.isShadow())throw Error(\"Variable fields are not allowed to exist on shadow blocks.\");\nsuper.setSourceBlock(a)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():\"\"}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(a){if(a===null)return null;var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;b=$.getVariable$$module$build$src$core$variables(b.workspace,a);if(!b)return console.warn(\"Variable id doesn't point to a real variable! ID was \"+\na),null;b=b.getType();return this.typeIsAllowed(b)?a:(console.warn(\"Variable type doesn't match this field!  Type was \"+b),null)}doValueUpdate_(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.variable=$.getVariable$$module$build$src$core$variables(b.workspace,a);super.doValueUpdate_(a)}typeIsAllowed(a){const b=this.getVariableTypes();if(!b)return!0;for(let c=0;c<b.length;c++)if(a===b[c])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;\nif(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[\"\"];let a=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const b=this.sourceBlock_.workspace.getPotentialVariableMap();if(!b)return a;a=Array.from(new Set([...a,...b.getTypes()]))}return a}setTypes(a=null,b=\"\"){var c=this.getText();if(Array.isArray(a)){if(a.length===0)throw Error(`'variableTypes' of field variable ${c} was an empty list. If you want to include all variable types, pass 'null' instead.`);\nc=!1;for(let d=0;d<a.length;d++)a[d]===b&&(c=!0);if(!c)throw Error(\"Invalid default type '\"+b+\"' in the definition of a FieldVariable\");}else if(a!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${c}`);this.defaultType=b;this.variableTypes=a}refreshVariableName(){this.forceRerender()}onItemSelected_(a,b){a=b.getValue();if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(a===RENAME_VARIABLE_ID$$module$build$src$core$internal_constants&&this.variable){$.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,\nthis.variable);return}if(a===DELETE_VARIABLE_ID$$module$build$src$core$internal_constants&&this.variable){a=this.variable.getWorkspace();$.deleteVariable$$module$build$src$core$variables(a,this.variable,this.sourceBlock_);return}}this.setValue(a)}referencesVariables(){return!0}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.variable),void 0,void 0,void 0,a)}static dropdownCreate(){if(!this.variable)throw Error(\"Tried to call dropdownCreate on a variable field with no variable selected.\");\nconst a=this.getText();let b=[];var c=this.getSourceBlock();if(c&&!c.isDeadOrDying()){c=c.workspace;const f=this.getVariableTypes();for(let g=0;g<f.length;g++){const h=f[g],k=c.getVariableMap().getVariablesOfType(h);b=b.concat(k);if(c.isFlyout){var d=void 0,e=void 0;b=b.concat((e=(d=c.getPotentialVariableMap())==null?void 0:d.getVariablesOfType(h))!=null?e:[])}}}b.sort(compareByName$$module$build$src$core$variables);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].getName(),b[e].getId()];d.push([$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,\nRENAME_VARIABLE_ID$$module$build$src$core$internal_constants]);$.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&d.push([$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",a),DELETE_VARIABLE_ID$$module$build$src$core$internal_constants]);return d}};register$$module$build$src$core$field_registry(\"field_variable\",FieldVariable$$module$build$src$core$field_variable);var module$build$src$core$field_variable={};module$build$src$core$field_variable.FieldVariable=FieldVariable$$module$build$src$core$field_variable;var FieldNumber$$module$build$src$core$field_number=class extends FieldInput$$module$build$src$core$field_input{constructor(a,b,c,d,e,f){super(Field$$module$build$src$core$field.SKIP_SETUP);this.min_=-Infinity;this.max_=Infinity;this.precision_=0;this.decimalPlaces=null;this.spellcheck_=!1;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(f?this.configure_(f):this.setConstraints(b,c,d),this.setValue(a),e&&this.setValidator(e))}configure_(a){super.configure_(a);this.setMinInternal(a.min);this.setMaxInternal(a.max);\nthis.setPrecisionInternal(a.precision)}setConstraints(a,b,c){this.setMinInternal(a);this.setMaxInternal(b);this.setPrecisionInternal(c);this.setValue(this.getValue())}setMin(a){this.setMinInternal(a);this.setValue(this.getValue())}setMinInternal(a){a==null?this.min_=-Infinity:(a=Number(a),isNaN(a)||(this.min_=a))}getMin(){return this.min_}setMax(a){this.setMaxInternal(a);this.setValue(this.getValue())}setMaxInternal(a){a==null?this.max_=Infinity:(a=Number(a),isNaN(a)||(this.max_=a))}getMax(){return this.max_}setPrecision(a){this.setPrecisionInternal(a);\nthis.setValue(this.getValue())}setPrecisionInternal(a){this.precision_=Number(a)||0;let b=String(this.precision_);b.includes(\"e\")&&(b=this.precision_.toLocaleString(\"en-US\",{maximumFractionDigits:20}));const c=b.indexOf(\".\");this.decimalPlaces=c===-1?a?0:null:b.length-c-1}getPrecision(){return this.precision_}doClassValidation_(a){if(a===null)return null;a=`${a}`.replace(/O/gi,\"0\");a=a.replace(/,/g,\"\");a=a.replace(/infinity/i,\"Infinity\");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,\nthis.min_),this.max_);this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);this.decimalPlaces!==null&&(a=Number(a.toFixed(this.decimalPlaces)));return a}widgetCreate_(){const a=super.widgetCreate_();this.min_>-Infinity&&(a.min=`${this.min_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMIN,this.min_));this.max_<Infinity&&(a.max=`${this.max_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMAX,\nthis.max_));return a}initView(){super.initView();this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyNumberField\")}static fromJson(a){return new this(a.value,void 0,void 0,void 0,void 0,a)}};register$$module$build$src$core$field_registry(\"field_number\",FieldNumber$$module$build$src$core$field_number);FieldNumber$$module$build$src$core$field_number.prototype.DEFAULT_VALUE=0;var module$build$src$core$field_number={};module$build$src$core$field_number.FieldNumber=FieldNumber$$module$build$src$core$field_number;var FieldLabelSerializable$$module$build$src$core$field_label_serializable=class extends FieldLabel$$module$build$src$core$field_label{constructor(a,b,c){super(String(a!=null?a:\"\"),b,c);this.EDITABLE=!1;this.SERIALIZABLE=!0}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};register$$module$build$src$core$field_registry(\"field_label_serializable\",FieldLabelSerializable$$module$build$src$core$field_label_serializable);\nvar module$build$src$core$field_label_serializable={};module$build$src$core$field_label_serializable.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;var FieldCheckbox$$module$build$src$core$field_checkbox=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.SERIALIZABLE=!0;this.value_=this.value_;this.checkChar=FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){super.configure_(a);a.checkCharacter&&(this.checkChar=a.checkCharacter)}saveState(){const a=\nthis.saveLegacyState(FieldCheckbox$$module$build$src$core$field_checkbox);return a!==null?a:this.getValueBoolean()}initView(){super.initView();const a=this.getTextElement();addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyCheckboxField\");a.style.display=this.value_?\"block\":\"none\"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(a){this.checkChar=\na||FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(a){return a===!0||a===\"TRUE\"?\"TRUE\":a===!1||a===\"FALSE\"?\"FALSE\":null}doValueUpdate_(a){this.value_=this.convertValueToBool(a);this.textElement_&&(this.textElement_.style.display=this.value_?\"block\":\"none\")}getValue(){return this.value_?\"TRUE\":\"FALSE\"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(a){return typeof a===\n\"string\"?a===\"TRUE\":!!a}static fromJson(a){return new this(a.checked,void 0,a)}};FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR=\"\\u2713\";register$$module$build$src$core$field_registry(\"field_checkbox\",FieldCheckbox$$module$build$src$core$field_checkbox);FieldCheckbox$$module$build$src$core$field_checkbox.prototype.DEFAULT_VALUE=!1;var module$build$src$core$field_checkbox={};module$build$src$core$field_checkbox.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;var Dragger$$module$build$src$core$dragging$dragger=class{constructor(a,b){this.draggable=a;this.workspace=b;this.dragTarget=null;this.startLoc=a.getRelativeToSurfaceXY()}onDragStart(a){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);this.draggable.startDrag(a)}onDrag(a,b){this.moveDraggable(a,b);b=this.getRoot(this.draggable);isDeletable$$module$build$src$core$interfaces$i_deletable(b)&&b.setDeleteStyle(this.wouldDeleteDraggable(a,b));this.updateDragTarget(a)}updateDragTarget(a){a=\nthis.workspace.getDragTarget(a);const b=this.getRoot(this.draggable);if(this.dragTarget!==a){let c;(c=this.dragTarget)==null||c.onDragExit(b);a==null||a.onDragEnter(b)}a==null||a.onDragOver(b);this.dragTarget=a}moveDraggable(a,b){b=this.pixelsToWorkspaceUnits(b);b=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startLoc,b);this.draggable.drag(b,a)}wouldDeleteDraggable(a,b){return(a=this.workspace.getDragTarget(a))&&this.workspace.getComponentManager().hasCapability(a.id,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA)?\na.wouldDelete(b):!1}onDragEnd(a){const b=$.getGroup$$module$build$src$core$events$utils();var c=this.workspace.getDragTarget(a);const d=this.getRoot(this.draggable);if(c){let e;(e=this.dragTarget)==null||e.onDrop(d)}this.shouldReturnToStart(a,d)&&this.draggable.revertDrag();(c=isDeletable$$module$build$src$core$interfaces$i_deletable(d)&&this.wouldDeleteDraggable(a,d))&&this.draggable instanceof BlockSvg$$module$build$src$core$block_svg&&disposeUiEffect$$module$build$src$core$block_animations(this.draggable.getRootBlock());\nthis.draggable.endDrag(a);c&&isDeletable$$module$build$src$core$interfaces$i_deletable(d)&&($.setGroup$$module$build$src$core$events$utils(b),d.dispose());$.setGroup$$module$build$src$core$events$utils(!1);!c&&isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(this.draggable)&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(a){return a instanceof BlockSvg$$module$build$src$core$block_svg?a.getRootBlock():a}shouldReturnToStart(a,b){return(a=\nthis.workspace.getDragTarget(a))?a.shouldPreventMove(b):!1}pixelsToWorkspaceUnits(a){a=new Coordinate$$module$build$src$core$utils$coordinate(a.x/this.workspace.scale,a.y/this.workspace.scale);this.workspace.isMutator&&a.scale(1/this.workspace.options.parentWorkspace.scale);return a}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,DEFAULT$$module$build$src$core$registry,Dragger$$module$build$src$core$dragging$dragger);\nvar module$build$src$core$dragging$dragger={};module$build$src$core$dragging$dragger.Dragger=Dragger$$module$build$src$core$dragging$dragger;var module$build$src$core$dragging={};module$build$src$core$dragging.BlockDragStrategy=BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy;module$build$src$core$dragging.BubbleDragStrategy=BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy;module$build$src$core$dragging.CommentDragStrategy=CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy;module$build$src$core$dragging.Dragger=Dragger$$module$build$src$core$dragging$dragger;var BlockDrag$$module$build$src$core$events$events_block_drag=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.BLOCK_DRAG;a&&(this.blockId=a.id,this.isStart=b,this.blocks=c)}toJson(){const a=super.toJson();if(this.isStart===void 0)throw Error(\"Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson\");if(this.blockId===\nvoid 0)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");a.isStart=this.isStart;a.blockId=this.blockId;a.blocks=this.blocks;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockDrag$$module$build$src$core$events$events_block_drag);b.isStart=a.isStart;b.blockId=a.blockId;b.blocks=a.blocks;return b}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_DRAG,BlockDrag$$module$build$src$core$events$events_block_drag);var module$build$src$core$events$events_block_drag={};module$build$src$core$events$events_block_drag.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;var BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a,b,c,d){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE;this.recordUndo=!1;a&&(this.name=b,this.oldValue=c,this.newValue=d)}toJson(){const a=super.toJson();if(!this.name)throw Error(\"The changed field name is undefined. Either pass a name to the constructor, or call fromJson.\");\na.name=this.name;a.oldValue=this.oldValue;a.newValue=this.newValue;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;return b}isNull(){return this.oldValue===this.newValue}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");\nb=b.getBlockById(this.blockId);if(!b)throw Error(\"The associated block is undefined. Either pass a block to the constructor, or call fromJson\");a=a?this.newValue:this.oldValue;(b=b.getField(this.name))?b.setValue(a):console.warn(\"Can't set non-existent field: \"+this.name)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE,BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);\nvar module$build$src$core$events$events_block_field_intermediate_change={};module$build$src$core$events$events_block_field_intermediate_change.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;var BlockMove$$module$build$src$core$events$events_block_move=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_MOVE;a&&(a.isShadow()&&(this.recordUndo=!1),a=this.currentLocation(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate)}toJson(){const a=super.toJson();a.oldParentId=this.oldParentId;a.oldInputName=this.oldInputName;this.oldCoordinate&&(a.oldCoordinate=\n`${Math.round(this.oldCoordinate.x)}, `+`${Math.round(this.oldCoordinate.y)}`);a.newParentId=this.newParentId;a.newInputName=this.newInputName;this.newCoordinate&&(a.newCoordinate=`${Math.round(this.newCoordinate.x)}, `+`${Math.round(this.newCoordinate.y)}`);this.reason&&(a.reason=this.reason);this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockMove$$module$build$src$core$events$events_block_move);b.oldParentId=a.oldParentId;b.oldInputName=\na.oldInputName;a.oldCoordinate&&(c=a.oldCoordinate.split(\",\"),b.oldCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));b.newParentId=a.newParentId;b.newInputName=a.newInputName;a.newCoordinate&&(c=a.newCoordinate.split(\",\"),b.newCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));a.reason!==void 0&&(b.reason=a.reason);a.recordUndo!==void 0&&(b.recordUndo=a.recordUndo);return b}recordNew(){const a=this.currentLocation();\nthis.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate}setReason(a){this.reason=a}currentLocation(){var a=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");var b=a.getBlockById(this.blockId);if(!b)throw Error(\"The block associated with the block move event could not be found\");a={};const c=b.getParent();if(c){if(a.parentId=c.id,b=c.getInputWithBlock(b))a.inputName=b.name}else a.coordinate=\nb.getRelativeToSurfaceXY();return a}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate,this.newCoordinate)}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");var c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;\na=a?this.newCoordinate:this.oldCoordinate;if(d){var f=b.getBlockById(d);if(!f){console.warn(\"Can't connect to non-existent block: \"+d);return}}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y,this.reason);else{b=c.outputConnection;if(!b||c.previousConnection&&c.previousConnection.isConnected())b=c.previousConnection;let g,h;c=(h=b)==null?void 0:h.type;if(e){if(c=f.getInput(e))g=c.connection}else c===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&\n(g=f.nextConnection);g&&b?b.connect(g):console.warn(\"Can't connect to non-existent input: \"+e)}}else console.warn(\"Can't move non-existent block: \"+this.blockId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_MOVE,BlockMove$$module$build$src$core$events$events_block_move);var module$build$src$core$events$events_block_move={};module$build$src$core$events$events_block_move.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;var BubbleOpen$$module$build$src$core$events$events_bubble_open=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.BUBBLE_OPEN;a&&(this.blockId=a.id,this.isOpen=b,this.bubbleType=c)}toJson(){const a=super.toJson();if(this.isOpen===void 0)throw Error(\"Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson\");if(!this.bubbleType)throw Error(\"The type of bubble is undefined. Either pass the value to the constructor, or call fromJson\");\na.isOpen=this.isOpen;a.bubbleType=this.bubbleType;a.blockId=this.blockId||\"\";return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BubbleOpen$$module$build$src$core$events$events_bubble_open);b.isOpen=a.isOpen;b.bubbleType=a.bubbleType;b.blockId=a.blockId;return b}},BubbleType$$module$build$src$core$events$events_bubble_open;\n(function(a){a.MUTATOR=\"mutator\";a.COMMENT=\"comment\";a.WARNING=\"warning\"})(BubbleType$$module$build$src$core$events$events_bubble_open||(BubbleType$$module$build$src$core$events$events_bubble_open={}));register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BUBBLE_OPEN,BubbleOpen$$module$build$src$core$events$events_bubble_open);var module$build$src$core$events$events_bubble_open={};\nmodule$build$src$core$events$events_bubble_open.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events_bubble_open.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;var CommentBase$$module$build$src$core$events$events_comment_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!a;a&&(this.commentId=a.id,this.workspaceId=a.workspace.id,this.group=$.getGroup$$module$build$src$core$events$utils(),this.recordUndo=getRecordUndo$$module$build$src$core$events$utils())}toJson(){const a=super.toJson();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na.commentId=this.commentId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentBase$$module$build$src$core$events$events_comment_base);b.commentId=a.commentId;return b}static CommentCreateDeleteHelper(a,b){const c=a.getEventWorkspace_();if(b){if(!a.json)throw Error(\"Encountered a comment event without proper json\");append$$module$build$src$core$serialization$workspace_comments(a.json,c)}else{if(!a.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\n(b=c.getCommentById(a.commentId))?b.dispose():console.warn(\"Can't delete non-existent comment: \"+a.commentId)}}},module$build$src$core$events$events_comment_base={};module$build$src$core$events$events_comment_base.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;var CommentChange$$module$build$src$core$events$events_comment_change=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a,b,c){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_CHANGE;a&&(this.oldContents_=typeof b===\"undefined\"?\"\":b,this.newContents_=typeof c===\"undefined\"?\"\":c)}toJson(){const a=super.toJson();if(!this.oldContents_)throw Error(\"The old contents is undefined. Either pass a value to the constructor, or call fromJson\");if(!this.newContents_)throw Error(\"The new contents is undefined. Either pass a value to the constructor, or call fromJson\");\na.oldContents=this.oldContents_;a.newContents=this.newContents_;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentChange$$module$build$src$core$events$events_comment_change);b.oldContents_=a.oldContents;b.newContents_=a.newContents;return b}isNull(){return this.oldContents_===this.newContents_}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){var c=\na?this.newContents_:this.oldContents_;if(c===void 0){if(a)throw Error(\"The new contents is undefined. Either pass a value to the constructor, or call fromJson\");throw Error(\"The old contents is undefined. Either pass a value to the constructor, or call fromJson\");}b.setText(c)}else console.warn(\"Can't change non-existent comment: \"+this.commentId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_CHANGE,CommentChange$$module$build$src$core$events$events_comment_change);\nvar module$build$src$core$events$events_comment_change={};module$build$src$core$events$events_comment_change.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;var CommentCollapse$$module$build$src$core$events$events_comment_collapse=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a,b){super(a);this.newCollapsed=b;this.type=EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE}toJson(){const a=super.toJson();if(this.newCollapsed===void 0)throw Error(\"The new collapse value undefined. Either call recordNew, or call fromJson\");a.newCollapsed=this.newCollapsed;return a}static fromJson(a,b,c){b=super.fromJson(a,\nb,c!=null?c:new CommentCollapse$$module$build$src$core$events$events_comment_collapse);b.newCollapsed=a.newCollapsed;return b}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");(b=b.getCommentById(this.commentId))?b.setCollapsed(a?!!this.newCollapsed:!this.newCollapsed):console.warn(\"Can't collapse or uncollapse non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE,CommentCollapse$$module$build$src$core$events$events_comment_collapse);var module$build$src$core$events$events_comment_collapse={};module$build$src$core$events$events_comment_collapse.CommentCollapse=CommentCollapse$$module$build$src$core$events$events_comment_collapse;var CommentCreate$$module$build$src$core$events$events_comment_create=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_CREATE;a&&(this.xml=saveWorkspaceComment$$module$build$src$core$xml(a),this.json=save$$module$build$src$core$serialization$workspace_comments(a,{addCoordinates:!0}))}toJson(){const a=super.toJson();if(!this.xml)throw Error(\"The comment XML is undefined. Either pass a comment to the constructor, or call fromJson\");\nif(!this.json)throw Error(\"The comment JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.json=this.json;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentCreate$$module$build$src$core$events$events_comment_create);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.json=a.json;return b}run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,\na)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_CREATE,CommentCreate$$module$build$src$core$events$events_comment_create);var module$build$src$core$events$events_comment_create={};module$build$src$core$events$events_comment_create.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;var CommentDelete$$module$build$src$core$events$events_comment_delete=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_DELETE;a&&(this.xml=saveWorkspaceComment$$module$build$src$core$xml(a),this.json=save$$module$build$src$core$serialization$workspace_comments(a,{addCoordinates:!0}))}run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,!a)}toJson(){const a=\nsuper.toJson();if(!this.xml)throw Error(\"The comment XML is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.json)throw Error(\"The comment JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.json=this.json;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentDelete$$module$build$src$core$events$events_comment_delete);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);\nb.json=a.json;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_DELETE,CommentDelete$$module$build$src$core$events$events_comment_delete);var module$build$src$core$events$events_comment_delete={};module$build$src$core$events$events_comment_delete.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;var CommentDrag$$module$build$src$core$events$events_comment_drag=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.COMMENT_DRAG;a&&(this.commentId=a.id,this.isStart=b)}toJson(){const a=super.toJson();if(this.isStart===void 0)throw Error(\"Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson\");if(this.commentId===void 0)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na.isStart=this.isStart;a.commentId=this.commentId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentDrag$$module$build$src$core$events$events_comment_drag);b.isStart=a.isStart;b.commentId=a.commentId;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_DRAG,CommentDrag$$module$build$src$core$events$events_comment_drag);var module$build$src$core$events$events_comment_drag={};\nmodule$build$src$core$events$events_comment_drag.CommentDrag=CommentDrag$$module$build$src$core$events$events_comment_drag;var CommentMove$$module$build$src$core$events$events_comment_move=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_MOVE;a&&(this.comment_=a,this.oldCoordinate_=a.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error(\"Tried to record the new position of a comment on the same event twice.\");if(!this.comment_)throw Error(\"The comment is undefined. Pass a comment to the constructor if you want to use the record functionality\");\nthis.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(a){this.reason=a}setOldCoordinate(a){this.oldCoordinate_=a}toJson(){const a=super.toJson();if(!this.oldCoordinate_)throw Error(\"The old comment position is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.newCoordinate_)throw Error(\"The new comment position is undefined. Either call recordNew, or call fromJson\");a.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, `+`${Math.round(this.oldCoordinate_.y)}`;\na.newCoordinate=Math.round(this.newCoordinate_.x)+\",\"+Math.round(this.newCoordinate_.y);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentMove$$module$build$src$core$events$events_comment_move);c=a.oldCoordinate.split(\",\");b.oldCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));c=a.newCoordinate.split(\",\");b.newCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));return b}isNull(){return Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate_,\nthis.newCoordinate_)}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){a=a?this.newCoordinate_:this.oldCoordinate_;if(!a)throw Error(\"Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson\");b.moveTo(a)}else console.warn(\"Can't move non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_MOVE,CommentMove$$module$build$src$core$events$events_comment_move);var module$build$src$core$events$events_comment_move={};module$build$src$core$events$events_comment_move.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;var CommentResize$$module$build$src$core$events$events_comment_resize=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_RESIZE;a&&(this.oldSize=a.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error(\"Tried to record the new size of a comment on the same event twice.\");var a=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na=a.getCommentById(this.commentId);if(!a)throw Error(\"The comment associated with the comment resize event could not be found\");this.newSize=a.getSize()}toJson(){const a=super.toJson();if(!this.oldSize)throw Error(\"The old comment size is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.newSize)throw Error(\"The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson\");a.oldWidth=Math.round(this.oldSize.width);a.oldHeight=Math.round(this.oldSize.height);\na.newWidth=Math.round(this.newSize.width);a.newHeight=Math.round(this.newSize.height);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentResize$$module$build$src$core$events$events_comment_resize);b.oldSize=new Size$$module$build$src$core$utils$size(a.oldWidth,a.oldHeight);b.newSize=new Size$$module$build$src$core$utils$size(a.newWidth,a.newHeight);return b}isNull(){return Size$$module$build$src$core$utils$size.equals(this.oldSize,this.newSize)}run(a){var b=this.getEventWorkspace_();\nif(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){a=a?this.newSize:this.oldSize;if(!a)throw Error(\"Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson\");b.setSize(a)}else console.warn(\"Can't resize non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_RESIZE,CommentResize$$module$build$src$core$events$events_comment_resize);var module$build$src$core$events$events_comment_resize={};module$build$src$core$events$events_comment_resize.CommentResize=CommentResize$$module$build$src$core$events$events_comment_resize;var ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(c);this.type=EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT;this.oldItem=a!=null?a:void 0;this.newItem=b!=null?b:void 0}toJson(){const a=super.toJson();a.oldItem=this.oldItem;a.newItem=this.newItem;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);\nb.oldItem=a.oldItem;b.newItem=a.newItem;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT,ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);var module$build$src$core$events$events_toolbox_item_select={};module$build$src$core$events$events_toolbox_item_select.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;var VarTypeChange$$module$build$src$core$events$events_var_type_change=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a,b,c){super(a);this.oldType=b;this.newType=c;this.type=EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE}toJson(){const a=super.toJson();if(!this.oldType||!this.newType)throw Error(\"The variable's types are undefined. Either pass them to the constructor, or call fromJson\");a.oldType=this.oldType;a.newType=this.newType;return a}static fromJson(a,\nb,c){b=super.fromJson(a,b,c!=null?c:new VarTypeChange$$module$build$src$core$events$events_var_type_change);b.oldType=a.oldType;b.newType=a.newType;return b}run(a){const b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.oldType||!this.newType)throw Error(\"The variable's types are undefined. Either pass them to the constructor, or call fromJson\");const c=b.getVariableMap().getVariableById(this.varId);\nc&&(a?b.getVariableMap().changeVariableType(c,this.newType):b.getVariableMap().changeVariableType(c,this.oldType))}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE,VarTypeChange$$module$build$src$core$events$events_var_type_change);var module$build$src$core$events$events_var_type_change={};module$build$src$core$events$events_var_type_change.VarTypeChange=VarTypeChange$$module$build$src$core$events$events_var_type_change;var FinishedLoading$$module$build$src$core$events$workspace_events=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!0;this.recordUndo=!1;this.type=EventType$$module$build$src$core$events$type.FINISHED_LOADING;this.isBlank=!!a;a&&(this.workspaceId=a.id)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.FINISHED_LOADING,FinishedLoading$$module$build$src$core$events$workspace_events);\nvar module$build$src$core$events$workspace_events={};module$build$src$core$events$workspace_events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;var BLOCK_DRAG$$module$build$src$core$events$events,BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events,BUBBLE_OPEN$$module$build$src$core$events$events,CHANGE$$module$build$src$core$events$events,CLICK$$module$build$src$core$events$events,COMMENT_CHANGE$$module$build$src$core$events$events,COMMENT_CREATE$$module$build$src$core$events$events,COMMENT_DELETE$$module$build$src$core$events$events,COMMENT_MOVE$$module$build$src$core$events$events,COMMENT_RESIZE$$module$build$src$core$events$events,\nCOMMENT_DRAG$$module$build$src$core$events$events,CREATE$$module$build$src$core$events$events,DELETE$$module$build$src$core$events$events,FINISHED_LOADING$$module$build$src$core$events$events,MOVE$$module$build$src$core$events$events,SELECTED$$module$build$src$core$events$events,THEME_CHANGE$$module$build$src$core$events$events,TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events,TRASHCAN_OPEN$$module$build$src$core$events$events,UI$$module$build$src$core$events$events,VAR_CREATE$$module$build$src$core$events$events,\nVAR_DELETE$$module$build$src$core$events$events,VAR_RENAME$$module$build$src$core$events$events,VIEWPORT_CHANGE$$module$build$src$core$events$events,module$build$src$core$events$events;$.BLOCK_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;$.BLOCK_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CREATE;$.BLOCK_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DELETE;\nBLOCK_DRAG$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DRAG;$.BLOCK_MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_MOVE;BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE;BUBBLE_OPEN$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BUBBLE_OPEN;\nCHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;CLICK$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.CLICK;COMMENT_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_CHANGE;COMMENT_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_CREATE;COMMENT_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_DELETE;\nCOMMENT_MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_MOVE;COMMENT_RESIZE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_RESIZE;COMMENT_DRAG$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_DRAG;CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CREATE;DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DELETE;\nFINISHED_LOADING$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.FINISHED_LOADING;MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_MOVE;SELECTED$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.SELECTED;THEME_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.THEME_CHANGE;TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT;\nTRASHCAN_OPEN$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.TRASHCAN_OPEN;UI$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.UI;VAR_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_CREATE;VAR_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_DELETE;VAR_RENAME$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_RENAME;\nVIEWPORT_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE;module$build$src$core$events$events={};module$build$src$core$events$events.Abstract=Abstract$$module$build$src$core$events$events_abstract;module$build$src$core$events$events.BLOCK_CHANGE=$.BLOCK_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_CREATE=$.BLOCK_CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.BLOCK_DELETE=$.BLOCK_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_DRAG=BLOCK_DRAG$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_FIELD_INTERMEDIATE_CHANGE=BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_MOVE=$.BLOCK_MOVE$$module$build$src$core$events$events;module$build$src$core$events$events.BUBBLE_OPEN=BUBBLE_OPEN$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.BUMP_EVENTS=BUMP_EVENTS$$module$build$src$core$events$type;module$build$src$core$events$events.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;module$build$src$core$events$events.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;module$build$src$core$events$events.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;module$build$src$core$events$events.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;\nmodule$build$src$core$events$events.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;module$build$src$core$events$events.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;module$build$src$core$events$events.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;module$build$src$core$events$events.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;\nmodule$build$src$core$events$events.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events.CHANGE=CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.CLICK=CLICK$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_CHANGE=COMMENT_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_CREATE=COMMENT_CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.COMMENT_DELETE=COMMENT_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_DRAG=COMMENT_DRAG$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_MOVE=COMMENT_MOVE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_RESIZE=COMMENT_RESIZE$$module$build$src$core$events$events;module$build$src$core$events$events.CREATE=CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;module$build$src$core$events$events.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;module$build$src$core$events$events.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;module$build$src$core$events$events.CommentCollapse=CommentCollapse$$module$build$src$core$events$events_comment_collapse;\nmodule$build$src$core$events$events.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;module$build$src$core$events$events.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;module$build$src$core$events$events.CommentDrag=CommentDrag$$module$build$src$core$events$events_comment_drag;module$build$src$core$events$events.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;\nmodule$build$src$core$events$events.CommentResize=CommentResize$$module$build$src$core$events$events_comment_resize;module$build$src$core$events$events.DELETE=DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.FINISHED_LOADING=FINISHED_LOADING$$module$build$src$core$events$events;module$build$src$core$events$events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;module$build$src$core$events$events.MOVE=MOVE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.SELECTED=SELECTED$$module$build$src$core$events$events;module$build$src$core$events$events.Selected=Selected$$module$build$src$core$events$events_selected;module$build$src$core$events$events.THEME_CHANGE=THEME_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events;module$build$src$core$events$events.TRASHCAN_OPEN=TRASHCAN_OPEN$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;module$build$src$core$events$events.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;module$build$src$core$events$events.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;module$build$src$core$events$events.UI=UI$$module$build$src$core$events$events;module$build$src$core$events$events.UiBase=UiBase$$module$build$src$core$events$events_ui_base;\nmodule$build$src$core$events$events.VAR_CREATE=VAR_CREATE$$module$build$src$core$events$events;module$build$src$core$events$events.VAR_DELETE=VAR_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.VAR_RENAME=VAR_RENAME$$module$build$src$core$events$events;module$build$src$core$events$events.VIEWPORT_CHANGE=VIEWPORT_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.VarBase=VarBase$$module$build$src$core$events$events_var_base;\nmodule$build$src$core$events$events.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;module$build$src$core$events$events.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;module$build$src$core$events$events.VarRename=VarRename$$module$build$src$core$events$events_var_rename;module$build$src$core$events$events.VarTypeChange=VarTypeChange$$module$build$src$core$events$events_var_type_change;module$build$src$core$events$events.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;\nmodule$build$src$core$events$events.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$events.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$events.disableOrphans=disableOrphans$$module$build$src$core$events$utils;module$build$src$core$events$events.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$events.filter=filter$$module$build$src$core$events$utils;\nmodule$build$src$core$events$events.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$events.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$events.get=get$$module$build$src$core$events$utils;module$build$src$core$events$events.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;module$build$src$core$events$events.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;\nmodule$build$src$core$events$events.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$events.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.setRecordUndo=$.setRecordUndo$$module$build$src$core$events$utils;var module$build$src$core$renderers$zelos$zelos={};module$build$src$core$renderers$zelos$zelos.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;module$build$src$core$renderers$zelos$zelos.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;module$build$src$core$renderers$zelos$zelos.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;module$build$src$core$renderers$zelos$zelos.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;\nmodule$build$src$core$renderers$zelos$zelos.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;module$build$src$core$renderers$zelos$zelos.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;module$build$src$core$renderers$zelos$zelos.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;module$build$src$core$renderers$zelos$zelos.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;\nmodule$build$src$core$renderers$zelos$zelos.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;registerDefaultOptions$$module$build$src$core$contextmenu_items();var module$build$src$core$contextmenu_items={};module$build$src$core$contextmenu_items.registerCleanup=registerCleanup$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapse=registerCollapse$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapseExpandBlock=registerCollapseExpandBlock$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerComment=registerComment$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentCreate=registerCommentCreate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentDelete=registerCommentDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentDuplicate=registerCommentDuplicate$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerCommentOptions=registerCommentOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDefaultOptions=registerDefaultOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDelete=registerDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDeleteAll=registerDeleteAll$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerDisable=registerDisable$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDuplicate=registerDuplicate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerExpand=registerExpand$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerHelp=registerHelp$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerInline=registerInline$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerRedo=registerRedo$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerUndo=registerUndo$$module$build$src$core$contextmenu_items;var BUTTON_TYPE$$module$build$src$core$button_flyout_inflater=\"button\",ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater=class{load(a,b){a=new FlyoutButton$$module$build$src$core$flyout_button(b.getWorkspace(),b.targetWorkspace,a,!1);a.show();return new FlyoutItem$$module$build$src$core$flyout_item(a,BUTTON_TYPE$$module$build$src$core$button_flyout_inflater)}gapForItem(a,b){return b}disposeItem(a){a=a.getElement();a instanceof FlyoutButton$$module$build$src$core$flyout_button&&a.dispose()}getType(){return BUTTON_TYPE$$module$build$src$core$button_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,BUTTON_TYPE$$module$build$src$core$button_flyout_inflater,ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater);var module$build$src$core$button_flyout_inflater={};module$build$src$core$button_flyout_inflater.ButtonFlyoutInflater=ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater;var module$build$src$core$bubbles={};module$build$src$core$bubbles.Bubble=Bubble$$module$build$src$core$bubbles$bubble;module$build$src$core$bubbles.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;module$build$src$core$bubbles.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;module$build$src$core$bubbles.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var module$build$src$core$blockly_options={};var WORKSPACE_AT_BLOCK_CAPACITY_DISABLED_REASON$$module$build$src$core$block_flyout_inflater=\"WORKSPACE_AT_BLOCK_CAPACITY\",BLOCK_TYPE$$module$build$src$core$block_flyout_inflater=\"block\",BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater=class{constructor(){this.permanentlyDisabledBlocks=new Set;this.listeners=new Map;this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(a,b){this.setFlyout(b);a=this.createBlock(a,b.getWorkspace());a.isEnabled()?this.updateStateBasedOnCapacity(a):\nthis.permanentlyDisabledBlocks.add(a);a.getDescendants(!1).forEach(c=>c.isInFlyout=!0);this.addBlockListeners(a);return new FlyoutItem$$module$build$src$core$flyout_item(a,BLOCK_TYPE$$module$build$src$core$block_flyout_inflater)}createBlock(a,b){a.blockxml?(a=typeof a.blockxml===\"string\"?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,b=domToBlockInternal$$module$build$src$core$xml(a,b)):(a.enabled===void 0&&(a.enabled=a.disabled!==\"true\"&&a.disabled!==!0),a.disabledReasons===\nvoid 0&&a.enabled===!1&&(a.disabledReasons=[MANUALLY_DISABLED$$module$build$src$core$constants]),\"x\"in a&&delete a.x,\"y\"in a&&delete a.y,b=appendInternal$$module$build$src$core$serialization$blocks(a,b));return b}gapForItem(a,b){let c;a.gap?c=parseInt(String(a.gap)):a.blockxml&&(a=typeof a.blockxml===\"string\"?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,c=parseInt(a.getAttribute(\"gap\")));return!c||isNaN(c)?b:c}disposeItem(a){a=a.getElement();a instanceof BlockSvg$$module$build$src$core$block_svg&&\n(this.removeListeners(a.id),a.dispose(!1,!1))}removeListeners(a){let b;((b=this.listeners.get(a))!=null?b:[]).forEach(c=>unbind$$module$build$src$core$browser_events(c));this.listeners.delete(a)}setFlyout(a){if(this.flyout!==a){if(this.flyout){let c;(c=this.flyout.targetWorkspace)==null||c.removeChangeListener(this.capacityWrapper)}this.flyout=a;var b;(b=this.flyout.targetWorkspace)==null||b.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(a){let b,c;const d=(b=this.flyout)==null?\nvoid 0:(c=b.targetWorkspace)==null?void 0:c.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(a));for(;a;)a.setDisabledReason(!d,WORKSPACE_AT_BLOCK_CAPACITY_DISABLED_REASON$$module$build$src$core$block_flyout_inflater),a=a.getNextBlock()}addBlockListeners(a){const b=[];b.push(conditionalBind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointerdown\",a,c=>{let d,e;const f=(d=this.flyout)==null?void 0:(e=d.targetWorkspace)==null?void 0:e.getGesture(c);f&&this.flyout&&(f.setStartBlock(a),\nf.handleFlyoutStart(c,this.flyout))}));b.push(bind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointermove\",null,()=>{let c,d;((c=this.flyout)==null?0:(d=c.targetWorkspace)==null?0:d.isDragging())||a.addSelect()}));b.push(bind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointerleave\",null,()=>{let c,d;((c=this.flyout)==null?0:(d=c.targetWorkspace)==null?0:d.isDragging())||a.removeSelect()}));this.listeners.set(a.id,b)}filterFlyoutBasedOnCapacity(a){!this.flyout||a&&a.type!==EventType$$module$build$src$core$events$type.BLOCK_CREATE&&\na.type!==EventType$$module$build$src$core$events$type.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(b=>{this.permanentlyDisabledBlocks.has(b)||this.updateStateBasedOnCapacity(b)})}getType(){return BLOCK_TYPE$$module$build$src$core$block_flyout_inflater}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,BLOCK_TYPE$$module$build$src$core$block_flyout_inflater,BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater);\nvar module$build$src$core$block_flyout_inflater={};module$build$src$core$block_flyout_inflater.BlockFlyoutInflater=BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater;var module$build$src$core$interfaces$i_paster={};module$build$src$core$interfaces$i_paster.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;var module$build$src$core$interfaces$i_rendered_element={};module$build$src$core$interfaces$i_rendered_element.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;var ConstantProvider$$module$build$src$core$renderers$geras$constants=class extends ConstantProvider$$module$build$src$core$renderers$common$constants{constructor(){super();this.FIELD_TEXT_BASELINE_CENTER=!1;this.DARK_PATH_OFFSET=1;this.MAX_BOTTOM_WIDTH=30;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(a){return super.getCSS_(a).concat([`${a} .blocklyInsertionMarker>.blocklyPathLight,`,`${a} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\"stroke: none;\",\n\"}\"])}},module$build$src$core$renderers$geras$constants={};module$build$src$core$renderers$geras$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;var Highlighter$$module$build$src$core$renderers$geras$highlighter=class{constructor(a){this.inlineSteps_=this.steps_=\"\";this.info_=a;this.RTL_=this.info_.RTL;a=a.getRenderer();this.constants_=a.getConstants();this.highlightConstants_=a.getHighlightConstants();this.highlightOffset=this.highlightConstants_.OFFSET;this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER;this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER;this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB;this.notchPaths_=\nthis.highlightConstants_.NOTCH;this.startPaths_=this.highlightConstants_.START_HAT;this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+\"\\n\"+this.inlineSteps_}drawTopCorner(a){this.steps_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(let b=0,c;c=a.elements[b];b++)Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(c)?this.steps_+=this.highlightConstants_.START_POINT:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(c)?\nthis.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(c)?this.steps_+=this.notchPaths_.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(c)?this.steps_+=this.startPaths_.path(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)&&c.width!==0&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c.xPos+c.width-this.highlightOffset));this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",\na.xPos+a.width-this.highlightOffset)}drawJaggedEdge_(a){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(a){const b=a.getLastInput();if(this.RTL_){const c=a.height-b.connectionHeight;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width-this.highlightOffset,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\nc)}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(a){const b=a.getLastInput();if(b)if(this.RTL_){const c=a.height-2*this.insideCornerPaths_.height;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-\nb.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-b.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(a){const b=a.xPos+a.width-this.highlightOffset;a instanceof SpacerRow$$module$build$src$core$renderers$measurables$spacer_row&&a.followsStatement&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b));\nthis.RTL_&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b),a.height>this.highlightOffset&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+a.height-this.highlightOffset)))}drawBottomRow(a){if(this.RTL_)this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline-this.highlightOffset);else{const b=this.info_.bottomRow.elements[0];Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(b)?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+\nthis.highlightOffset,a.baseline-this.highlightOffset):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(b)&&(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos,a.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var a=this.info_.outputConnection;a&&(a=a.connectionOffsetY+a.height,this.RTL_?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX,a):(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX+\nthis.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_));this.RTL_||(a=this.info_.topRow,Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a.elements[0])?this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",this.outsideCornerPaths_.height):this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.capline+this.highlightOffset))}drawInlineInput(a){const b=\nthis.highlightOffset,c=a.xPos+a.connectionWidth;var d=a.centerline-a.height/2;const e=a.width-a.connectionWidth,f=d+b;this.RTL_?(d=a.connectionOffsetY-b,a=a.height-(a.connectionOffsetY+a.connectionHeight)+b,this.inlineSteps_+=moveTo$$module$build$src$core$utils$svg_paths(c-b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",e)):this.inlineSteps_+=\nmoveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.width+b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-e)+moveTo$$module$build$src$core$utils$svg_paths(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},module$build$src$core$renderers$geras$highlighter={};module$build$src$core$renderers$geras$highlighter.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;var Drawer$$module$build$src$core$renderers$geras$drawer=class extends Drawer$$module$build$src$core$renderers$common$drawer{constructor(a,b){super(a,b);this.highlighter_=new Highlighter$$module$build$src$core$renderers$geras$highlighter(b)}draw(){this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();const a=this.block_.pathObject;a.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);a.setHighlightPath(this.highlighter_.getPath());this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow);\nthis.highlighter_.drawRightSideRow(this.info_.topRow);super.drawTop_()}drawJaggedEdge_(a){this.highlighter_.drawJaggedEdge_(a);super.drawJaggedEdge_(a)}drawValueInput_(a){this.highlighter_.drawValueInput(a);super.drawValueInput_(a)}drawStatementInput_(a){this.highlighter_.drawStatementInput(a);super.drawStatementInput_(a)}drawRightSideRow_(a){this.highlighter_.drawRightSideRow(a);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",\na.yPos+a.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow);super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft();super.drawLeft_()}drawInlineInput_(a){this.highlighter_.drawInlineInput(a);super.drawInlineInput_(a)}positionInlineInputConnection_(a){const b=a.centerline-a.height/2;if(a.connectionModel){let c=a.xPos+a.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(a){const b=\na.getLastInput();if(b==null?0:b.connectionModel){let c=a.xPos+a.statementEdge+b.notchOffset;c=this.info_.RTL?c*-1:c+this.constants_.DARK_PATH_OFFSET;b.connectionModel.setOffsetInBlock(c,a.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(a){const b=a.getLastInput();if(b&&b.connectionModel){let c=a.xPos+a.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionNextConnection_(){const a=this.info_.bottomRow;if(a.connection){const b=\na.connection,c=b.xPos;b.connectionModel.setOffsetInBlock((this.info_.RTL?-c:c)+this.constants_.DARK_PATH_OFFSET/2,a.baseline+this.constants_.DARK_PATH_OFFSET)}}},module$build$src$core$renderers$geras$drawer={};module$build$src$core$renderers$geras$drawer.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;var HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants=class{constructor(a){this.OFFSET=.5;this.constantProvider=a;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner();this.OUTSIDE_CORNER=this.makeOutsideCorner();this.PUZZLE_TAB=this.makePuzzleTab();this.NOTCH=this.makeNotch();this.JAGGED_TEETH=this.makeJaggedTeeth();this.START_HAT=this.makeStartHat()}makeInsideCorner(){const a=this.constantProvider.CORNER_RADIUS,\nb=this.OFFSET,c=(1-Math.SQRT1_2)*(a+b)-b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-c-b,a-c)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a+b,point$$module$build$src$core$utils$svg_paths(a+b,a+b)),f=moveBy$$module$build$src$core$utils$svg_paths(c,-c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a+b,point$$module$build$src$core$utils$svg_paths(a-c,c+b));return{width:a+\nb,height:a,pathTop(g){return g?d:\"\"},pathBottom(g){return g?e:f}}}makeOutsideCorner(){const a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a-b)+b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(a-c,-c+b)),e=moveBy$$module$build$src$core$utils$svg_paths(b,a)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(a,-a+\nb)),f=-c,g=moveBy$$module$build$src$core$utils$svg_paths(c,f)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(-c+b,-f-a));return{height:a,topLeft(h){return h?d:e},bottomLeft(){return g}}}makePuzzleTab(){const a=this.constantProvider.TAB_WIDTH,b=this.constantProvider.TAB_HEIGHT,c=moveBy$$module$build$src$core$utils$svg_paths(-2,-b+2.5+.9)+lineTo$$module$build$src$core$utils$svg_paths(a*-.45,-2.1),d=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\n2.5)+moveBy$$module$build$src$core$utils$svg_paths(-a*.97,2.5)+curve$$module$build$src$core$utils$svg_paths(\"q\",[point$$module$build$src$core$utils$svg_paths(-a*.05,10),point$$module$build$src$core$utils$svg_paths(a*.3,9.5)])+moveBy$$module$build$src$core$utils$svg_paths(a*.67,-1.9)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",2.5),e=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",-1.5)+moveBy$$module$build$src$core$utils$svg_paths(a*-.92,-.5)+curve$$module$build$src$core$utils$svg_paths(\"q\",\n[point$$module$build$src$core$utils$svg_paths(a*-.19,-5.5),point$$module$build$src$core$utils$svg_paths(0,-11)])+moveBy$$module$build$src$core$utils$svg_paths(a*.92,1),f=moveBy$$module$build$src$core$utils$svg_paths(-5,b-.7)+lineTo$$module$build$src$core$utils$svg_paths(a*.46,-2.1);return{width:a,height:b,pathUp(g){return g?c:e},pathDown(g){return g?d:f}}}makeNotch(){return{pathLeft:lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:lineTo$$module$build$src$core$utils$svg_paths(5.1,\n2.6)+moveBy$$module$build$src$core$utils$svg_paths(-10.2,6.8)+lineTo$$module$build$src$core$utils$svg_paths(5.1,2.6),height:12,width:10.2}}makeStartHat(){const a=this.constantProvider.START_HAT.height,b=moveBy$$module$build$src$core$utils$svg_paths(25,-8.7)+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(29.7,-6.2),point$$module$build$src$core$utils$svg_paths(57.2,-.5),point$$module$build$src$core$utils$svg_paths(75,8.7)]),c=curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(17.8,-9.2),point$$module$build$src$core$utils$svg_paths(45.3,-14.9),point$$module$build$src$core$utils$svg_paths(75,-8.7)])+moveTo$$module$build$src$core$utils$svg_paths(100.5,a+.5);return{path(d){return d?b:c}}}},module$build$src$core$renderers$geras$highlight_constants={};module$build$src$core$renderers$geras$highlight_constants.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;var InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input=class extends InlineInput$$module$build$src$core$renderers$measurables$inline_input{constructor(a,b){super(a,b);this.constants_=a;this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},module$build$src$core$renderers$geras$measurables$inline_input={};module$build$src$core$renderers$geras$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;var StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input=class extends StatementInput$$module$build$src$core$renderers$measurables$statement_input{constructor(a,b){super(a,b);this.constants_=a;this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},module$build$src$core$renderers$geras$measurables$statement_input={};module$build$src$core$renderers$geras$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$geras$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b);this.renderer_=a}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_();this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(a,\nb){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input(this.constants_,a)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,\na)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;this.isInline||b.align!==null||(b.align=a.align)}addElemSpacing_(){let a=!1;for(let c=0,d;d=this.rows[c];c++)d.hasExternalInput&&(a=!0);for(let c=0,d;d=this.rows[c];c++){var b=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nthis.getInRowSpacing_(null,b[0])));if(b.length){for(let e=0;e<b.length-1;e++){d.elements.push(b[e]);const f=this.getInRowSpacing_(b[e],b[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f))}d.elements.push(b[b.length-1]);d.endsWithElemSpacer()&&(b=this.getInRowSpacing_(b[b.length-1],null),a&&d.hasDummyInput&&(b+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nb)))}}}getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&(!b||\nTypes$$module$build$src$core$renderers$measurables$types.isStatementInput(b)))return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.LARGE_PADDING*2+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?\nthis.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;\nif(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||\nTypes$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset+\n(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:\nTypes$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||!a.hasStatement&&b.hasDummyInput||a.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+\nb.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;let c=a.yPos;Types$$module$build$src$core$renderers$measurables$types.isField(b)||\nTypes$$module$build$src$core$renderers$measurables$types.isIcon(b)?(c+=b.height/2,(a.hasInlineInput||a.hasStatement)&&b.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=a.height&&(c+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):c=Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?c+b.height/2:c+a.height/2;return c}alignRowElements_(){if(this.isInline){var a=0,b=new WeakMap,c=null;for(let d=this.rows.length-1,e;e=this.rows[d];d--)b.set(e,a),Types$$module$build$src$core$renderers$measurables$types.isInputRow(e)&&\n(e.hasStatement&&this.alignStatementRow_(e),c&&c.hasStatement&&e.width<c.width?b.set(e,c.width):a=e.hasStatement?e.width:Math.max(a,e.width),c=e);a=0;for(let d=0,e;e=this.rows[d];d++)e.hasStatement?a=this.getDesiredRowWidth_(e):Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)?e.width=Math.max(a,b.get(e)):(c=e.width,a=Math.max(a,b.get(e))-c,a>0&&this.addAlignmentPadding_(e,a),a=e.width)}else super.alignRowElements_()}getDesiredRowWidth_(a){return this.isInline&&a.hasStatement?this.statementEdge+\nthis.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(a)}finalize_(){let a=0,b=0;for(let d=0,e;e=this.rows[d];d++){e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var c=b-this.topRow.ascenderHeight;e===this.bottomRow&&c<this.constants_.MIN_BLOCK_HEIGHT&&(c=this.constants_.MIN_BLOCK_HEIGHT-c,this.bottomRow.height+=c,b+=c);this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&\n(a=Math.max(a,c.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX+this.constants_.DARK_PATH_OFFSET;this.width+=this.constants_.DARK_PATH_OFFSET;this.height=b+this.constants_.DARK_PATH_OFFSET;this.startY=this.topRow.capline}},module$build$src$core$renderers$geras$info={};module$build$src$core$renderers$geras$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;var PathObject$$module$build$src$core$renderers$geras$path_object=class extends PathObject$$module$build$src$core$renderers$common$path_object{constructor(a,b,c){super(a,b,c);this.constants=c;this.colourDark=\"#000000\";this.svgPathDark=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyPathDark\",transform:\"translate(1,1)\"});this.svgRoot.insertBefore(this.svgPathDark,this.svgPath);this.svgPathLight=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,\n{\"class\":\"blocklyPathLight\"},this.svgRoot)}setPath(a){this.svgPath.setAttribute(\"d\",a);this.svgPathDark.setAttribute(\"d\",a)}setHighlightPath(a){this.svgPathLight.setAttribute(\"d\",a)}flipRTL(){this.svgPath.setAttribute(\"transform\",\"scale(-1 1)\");this.svgPathLight.setAttribute(\"transform\",\"scale(-1 1)\");this.svgPathDark.setAttribute(\"transform\",\"translate(1,1) scale(-1 1)\")}applyColour(a){this.svgPathLight.style.display=\"\";this.svgPathDark.style.display=\"\";if(!this.style.colourTertiary)throw Error(\"The renderer did not properly initialize the tertiary colour of the block style\");\nthis.svgPathLight.setAttribute(\"stroke\",this.style.colourTertiary);this.svgPathDark.setAttribute(\"fill\",this.colourDark);super.applyColour(a);this.svgPath.setAttribute(\"stroke\",\"none\")}setStyle(a){this.style=a;this.colourDark=blend$$module$build$src$core$utils$colour(\"#000\",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(a){super.updateHighlighted(a);this.svgPathLight.style.display=a?\"none\":\"inline\"}updateShadow_(a){if(a){this.svgPathLight.style.display=\"none\";if(!this.style.colourSecondary)throw Error(\"The renderer did not properly initialize the secondary colour of the block style block style\");\nthis.svgPathDark.setAttribute(\"fill\",this.style.colourSecondary);this.svgPath.setAttribute(\"stroke\",\"none\");this.svgPath.setAttribute(\"fill\",this.style.colourSecondary)}}updateDisabled_(a){super.updateDisabled_(a);a&&this.svgPath.setAttribute(\"stroke\",\"none\")}},module$build$src$core$renderers$geras$path_object={};module$build$src$core$renderers$geras$path_object.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;var Renderer$$module$build$src$core$renderers$geras$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a);this.highlightConstants=null}init(a,b){super.init(a,b);this.highlightConstants=this.makeHighlightConstants_();this.highlightConstants.init()}refreshDom(a,b,c){super.refreshDom(a,b,c);this.getHighlightConstants().init()}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$geras$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$geras$info(this,\na)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$geras$drawer(a,b)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$geras$path_object(a,b,this.getConstants())}makeHighlightConstants_(){return new HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error(\"Cannot access the highlight constants because init has not been called\");return this.highlightConstants}};\nregister$$module$build$src$core$renderers$common$block_rendering(\"geras\",Renderer$$module$build$src$core$renderers$geras$renderer);var module$build$src$core$renderers$geras$renderer={};module$build$src$core$renderers$geras$renderer.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;var module$build$src$core$renderers$geras$geras={};module$build$src$core$renderers$geras$geras.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;module$build$src$core$renderers$geras$geras.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;module$build$src$core$renderers$geras$geras.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;module$build$src$core$renderers$geras$geras.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;\nmodule$build$src$core$renderers$geras$geras.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;module$build$src$core$renderers$geras$geras.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;module$build$src$core$renderers$geras$geras.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;module$build$src$core$renderers$geras$geras.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;\nmodule$build$src$core$renderers$geras$geras.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$thrasos$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b)}getRenderer(){return this.renderer_}addElemSpacing_(){let a=!1;for(var b=0;b<this.rows.length;b++)if(this.rows[b].hasExternalInput){a=!0;break}for(b=0;b<this.rows.length;b++){const d=this.rows[b];var c=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nthis.getInRowSpacing_(null,c[0])));if(c.length){for(let e=0;e<c.length-1;e++){d.elements.push(c[e]);const f=this.getInRowSpacing_(c[e],c[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f))}d.elements.push(c[c.length-1]);d.endsWithElemSpacer()&&(c=this.getInRowSpacing_(c[c.length-1],null),a&&d.hasDummyInput&&(c+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nc)))}}}getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b)return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\na.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.LARGE_PADDING*2+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:\nTypes$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;\nif(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?\nthis.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset}return Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&\nb?b.notchOffset-this.constants_.CORNER_RADIUS:Types$$module$build$src$core$renderers$measurables$types.isField(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&\nTypes$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||a.hasDummyInput||b.hasDummyInput?this.constants_.LARGE_PADDING:\nthis.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?\na.capline-b.height/2:a.capline+b.height/2;let c=a.yPos;return c=Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.hasStatement?c+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+b.height/2):c+a.height/2}finalize_(){let a=0,b=0;for(var c=0;c<this.rows.length;c++){const e=this.rows[c];e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var d=b-this.topRow.ascenderHeight;e===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-\nd,this.bottomRow.height+=d,b+=d);this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&(a=Math.max(a,c.getHeightWidth().width));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline}},module$build$src$core$renderers$thrasos$info={};module$build$src$core$renderers$thrasos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;var Renderer$$module$build$src$core$renderers$thrasos$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a)}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$thrasos$info(this,a)}};register$$module$build$src$core$renderers$common$block_rendering(\"thrasos\",Renderer$$module$build$src$core$renderers$thrasos$renderer);var module$build$src$core$renderers$thrasos$renderer={};\nmodule$build$src$core$renderers$thrasos$renderer.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var module$build$src$core$renderers$thrasos$thrasos={};module$build$src$core$renderers$thrasos$thrasos.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;module$build$src$core$renderers$thrasos$thrasos.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var defaultBlockStyles$$module$build$src$core$theme$zelos={colour_blocks:{colourPrimary:\"#CF63CF\",colourSecondary:\"#C94FC9\",colourTertiary:\"#BD42BD\"},list_blocks:{colourPrimary:\"#9966FF\",colourSecondary:\"#855CD6\",colourTertiary:\"#774DCB\"},logic_blocks:{colourPrimary:\"#4C97FF\",colourSecondary:\"#4280D7\",colourTertiary:\"#3373CC\"},loop_blocks:{colourPrimary:\"#0fBD8C\",colourSecondary:\"#0DA57A\",colourTertiary:\"#0B8E69\"},math_blocks:{colourPrimary:\"#59C059\",colourSecondary:\"#46B946\",colourTertiary:\"#389438\"},\nprocedure_blocks:{colourPrimary:\"#FF6680\",colourSecondary:\"#FF4D6A\",colourTertiary:\"#FF3355\"},text_blocks:{colourPrimary:\"#FFBF00\",colourSecondary:\"#E6AC00\",colourTertiary:\"#CC9900\"},variable_blocks:{colourPrimary:\"#FF8C1A\",colourSecondary:\"#FF8000\",colourTertiary:\"#DB6E00\"},variable_dynamic_blocks:{colourPrimary:\"#FF8C1A\",colourSecondary:\"#FF8000\",colourTertiary:\"#DB6E00\"},hat_blocks:{colourPrimary:\"#4C97FF\",colourSecondary:\"#4280D7\",colourTertiary:\"#3373CC\",hat:\"cap\"}},categoryStyles$$module$build$src$core$theme$zelos=\n{colour_category:{colour:\"#CF63CF\"},list_category:{colour:\"#9966FF\"},logic_category:{colour:\"#4C97FF\"},loop_category:{colour:\"#0fBD8C\"},math_category:{colour:\"#59C059\"},procedure_category:{colour:\"#FF6680\"},text_category:{colour:\"#FFBF00\"},variable_category:{colour:\"#FF8C1A\"},variable_dynamic_category:{colour:\"#FF8C1A\"}},Zelos$$module$build$src$core$theme$zelos=new Theme$$module$build$src$core$theme(\"zelos\",defaultBlockStyles$$module$build$src$core$theme$zelos,categoryStyles$$module$build$src$core$theme$zelos),\nmodule$build$src$core$theme$zelos={Zelos:Zelos$$module$build$src$core$theme$zelos};var module$build$src$core$theme$themes={Classic:Classic$$module$build$src$core$theme$classic,Zelos:Zelos$$module$build$src$core$theme$zelos};var ToolboxItem$$module$build$src$core$toolbox$toolbox_item=class{constructor(a,b,c){this.id_=a.toolboxitemid||getNextUniqueId$$module$build$src$core$utils$idgenerator();this.level_=(this.parent_=c||null)?this.parent_.getLevel()+1:0;this.toolboxItemDef_=a;this.parentToolbox_=b;this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(a){}getFocusableElement(){const a=\nthis.getDiv();if(!a)throw Error(\"Trying to access toolbox item before DOM is initialized.\");if(!(a instanceof HTMLElement))throw Error(\"Toolbox item div is unexpectedly not an HTML element.\");return a}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},module$build$src$core$toolbox$toolbox_item={};module$build$src$core$toolbox$toolbox_item.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;var ToolboxCategory$$module$build$src$core$toolbox$category=class extends ToolboxItem$$module$build$src$core$toolbox$toolbox_item{constructor(a,b,c){super(a,b,c);this.colour_=this.name_=\"\";this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null;this.isDisabled_=this.isHidden_=!1;this.flyoutItems_=[];this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_);this.parseContents_(this.toolboxItemDef_);this.createDom_();this.toolboxItemDef_.hidden===\n\"true\"&&this.hide()}makeDefaultCssConfig_(){return{container:\"blocklyToolboxCategoryContainer\",row:\"blocklyToolboxCategory\",rowcontentcontainer:\"blocklyTreeRowContentContainer\",icon:\"blocklyToolboxCategoryIcon\",label:\"blocklyToolboxCategoryLabel\",contents:\"blocklyToolboxCategoryGroup\",selected:\"blocklyToolboxSelected\",openicon:\"blocklyToolboxCategoryIconOpen\",closedicon:\"blocklyToolboxCategoryIconClosed\"}}parseContents_(a){if(\"custom\"in a)this.flyoutItems_=a.custom;else if(a=a.contents)for(let b=\n0;b<a.length;b++){const c=a[b];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(c)}}parseCategoryDef_(a){this.name_=\"name\"in a?replaceMessageReferences$$module$build$src$core$utils$parsing(a.name):\"\";this.colour_=this.getColour_(a);Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_();setRole$$module$build$src$core$utils$aria(this.htmlDiv_,Role$$module$build$src$core$utils$aria.TREEITEM);setState$$module$build$src$core$utils$aria(this.htmlDiv_,\nState$$module$build$src$core$utils$aria.SELECTED,!1);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LEVEL,this.level_+1);this.rowDiv_=this.createRowContainer_();this.rowDiv_.style.pointerEvents=\"auto\";this.htmlDiv_.appendChild(this.rowDiv_);this.rowContents_=this.createRowContentsContainer_();this.rowContents_.style.pointerEvents=\"none\";this.rowDiv_.appendChild(this.rowContents_);this.iconDom_=this.createIconDom_();setRole$$module$build$src$core$utils$aria(this.iconDom_,\nRole$$module$build$src$core$utils$aria.PRESENTATION);this.rowContents_.appendChild(this.iconDom_);this.labelDom_=this.createLabelDom_(this.name_);this.rowContents_.appendChild(this.labelDom_);const a=this.labelDom_.getAttribute(\"id\");a&&setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LABELLEDBY,a);this.addColourBorder_(this.colour_);return this.htmlDiv_}createContainer_(){const a=document.createElement(\"div\");a.tabIndex=-1;a.id=this.getId();const b=\nthis.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return a}createRowContainer_(){const a=document.createElement(\"div\");var b=this.cssConfig_.row;b&&addClass$$module$build$src$core$utils$dom(a,b);b=`${ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding*this.getLevel()}px`;this.workspace_.RTL?a.style.paddingRight=b:a.style.paddingLeft=b;return a}createRowContentsContainer_(){const a=document.createElement(\"div\"),b=this.cssConfig_.rowcontentcontainer;b&&addClass$$module$build$src$core$utils$dom(a,\nb);return a}createIconDom_(){const a=document.createElement(\"span\");if(!this.parentToolbox_.isHorizontal()){const b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b)}a.style.display=\"inline-block\";return a}createLabelDom_(a){const b=document.createElement(\"span\");b.setAttribute(\"id\",this.getId()+\".label\");b.textContent=a;(a=this.cssConfig_.label)&&addClass$$module$build$src$core$utils$dom(b,a);return b}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_);this.addColourBorder_(this.colour_)}addColourBorder_(a){a&&\n(a=ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth+\"px solid \"+(a||\"#ddd\"),this.workspace_.RTL?this.rowDiv_.style.borderRight=a:this.rowDiv_.style.borderLeft=a)}getColour_(a){const b=a.categorystyle||a.categoryStyle;if((a=a.colour)&&b)console.warn('Toolbox category \"'+this.name_+'\" must not have both a style and a colour');else{if(b)return this.getColourfromStyle(b);if(a)return this.parseColour(a)}return\"\"}getColourfromStyle(a){var b=this.workspace_.getTheme();if(a&&b){if((b=b.categoryStyles[a])&&\nb.colour)return this.parseColour(b.colour);console.warn('Style \"'+a+'\" must exist and contain a colour value')}return\"\"}getClickTarget(){return this.rowDiv_}parseColour(a){a=replaceMessageReferences$$module$build$src$core$utils$parsing(a);if(a==null||a===\"\")return\"\";var b=Number(a);if(isNaN(b)){if(b=parse$$module$build$src$core$utils$colour(a))return b;console.warn('Toolbox category \"'+this.name_+'\" has unrecognized colour attribute: '+a);return\"\"}return hueToHex$$module$build$src$core$utils$colour(b)}openIcon_(a){if(a){var b=\nthis.cssConfig_.closedicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.openicon)&&addClass$$module$build$src$core$utils$dom(a,b)}}closeIcon_(a){if(a){var b=this.cssConfig_.openicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.closedicon)&&addClass$$module$build$src$core$utils$dom(a,b)}}setVisible_(a){this.htmlDiv_.style.display=a?\"block\":\"none\";this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&\nthis.allAncestorsExpanded_()}allAncestorsExpanded_(){let a=this;for(;a.getParent();)if(a=a.getParent(),!a.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(a){}setSelected(a){if(this.rowDiv_){var b=this.cssConfig_.selected;if(a){const c=this.parseColour(ToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||c;b&&addClass$$module$build$src$core$utils$dom(this.rowDiv_,b)}else this.rowDiv_.style.backgroundColor=\n\"\",b&&removeClass$$module$build$src$core$utils$dom(this.rowDiv_,b);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.SELECTED,a)}}setDisabled(a){this.isDisabled_=a;this.getDiv().setAttribute(\"disabled\",`${a}`);a?this.getDiv().setAttribute(\"disabled\",\"true\"):this.getDiv().removeAttribute(\"disabled\")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(a){this.flyoutItems_=\n[];this.toolboxItemDef_=typeof a===\"string\"?{kind:this.toolboxItemDef_.kind,custom:a,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:\"name\"in this.toolboxItemDef_?this.toolboxItemDef_.name:\"\",contents:convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,\ncolour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden};this.parseContents_(this.toolboxItemDef_)}dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv_)}};ToolboxCategory$$module$build$src$core$toolbox$category.registrationName=\"category\";ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding=19;ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth=8;\nToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour=\"#57e\";register$$module$build$src$core$css('\\n.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {\\n  background-color: rgba(255, 255, 255, .2);\\n}\\n\\n.blocklyToolbox[layout=\"h\"] .blocklyToolboxCategoryContainer {\\n  margin: 1px 5px 1px 0;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"][layout=\"h\"] .blocklyToolboxCategoryContainer {\\n  margin: 1px 0 1px 5px;\\n}\\n\\n.blocklyToolboxCategory {\\n  height: 22px;\\n  line-height: 22px;\\n  margin-bottom: 3px;\\n  padding-right: 8px;\\n  white-space: nowrap;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxCategory {\\n  margin-left: 8px;\\n  padding-right: 0;\\n}\\n\\n.blocklyToolboxCategoryIcon {\\n  background-image: url(<<<PATH>>>/sprites.png);\\n  height: 16px;\\n  vertical-align: middle;\\n  visibility: hidden;\\n  width: 16px;\\n}\\n\\n.blocklyToolboxCategoryIconClosed {\\n  background-position: -32px -1px;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxCategoryIconClosed {\\n  background-position: 0 -1px;\\n}\\n\\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\\n  background-position: -32px -17px;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\\n  background-position: 0 -17px;\\n}\\n\\n.blocklyToolboxCategoryIconOpen {\\n  background-position: -16px -1px;\\n}\\n\\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {\\n  background-position: -16px -17px;\\n}\\n\\n.blocklyToolboxCategoryLabel {\\n  cursor: default;\\n  font: 16px sans-serif;\\n  padding: 0 3px;\\n  vertical-align: middle;\\n}\\n\\n.blocklyToolboxDelete .blocklyToolboxCategoryLabel {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyToolboxSelected .blocklyToolboxCategoryLabel {\\n  color: #fff;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxCategory$$module$build$src$core$toolbox$category.registrationName,ToolboxCategory$$module$build$src$core$toolbox$category);var module$build$src$core$toolbox$category={};module$build$src$core$toolbox$category.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;var ToolboxSeparator$$module$build$src$core$toolbox$separator=class extends ToolboxItem$$module$build$src$core$toolbox$toolbox_item{constructor(a,b){super(a,b);this.cssConfig_={container:\"blocklyTreeSeparator\"};this.htmlDiv=null;Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig)}init(){this.createDom_()}createDom_(){const a=document.createElement(\"div\");a.tabIndex=-1;a.id=this.getId();const b=this.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return this.htmlDiv=a}getDiv(){return this.htmlDiv}dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv)}};\nToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName=\"sep\";register$$module$build$src$core$css('\\n.blocklyTreeSeparator {\\n  border-bottom: solid #e5e5e5 1px;\\n  height: 0;\\n  margin: 5px 0;\\n}\\n\\n.blocklyToolbox[layout=\"h\"] .blocklyTreeSeparator {\\n  border-right: solid #e5e5e5 1px;\\n  border-bottom: none;\\n  height: auto;\\n  margin: 0 5px 0 5px;\\n  padding: 5px 0;\\n  width: 0;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName,ToolboxSeparator$$module$build$src$core$toolbox$separator);var module$build$src$core$toolbox$separator={};module$build$src$core$toolbox$separator.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;var CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category=class extends ToolboxCategory$$module$build$src$core$toolbox$category{constructor(a,b,c){super(a,b,c);this.subcategoriesDiv_=null;this.expanded_=!1;this.toolboxItems_=[]}makeDefaultCssConfig_(){const a=super.makeDefaultCssConfig_();a.contents=\"blocklyToolboxCategoryGroup\";return a}parseContents_(a){if(\"custom\"in a)this.flyoutItems_=a.custom;else{const b=a.contents;if(b){this.flyoutItems_=[];a=!0;for(let c=0;c<b.length;c++){const d=\nb[c];!hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName&&a?(this.flyoutItems_.push(d),a=!0):(this.createToolboxItem(d),a=!1)}}}}createToolboxItem(a){let b=a.kind;b.toUpperCase()===\"CATEGORY\"&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(b=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);\na=new (getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,b))(a,this.parentToolbox_,this);this.toolboxItems_.push(a)}init(){super.init();this.setExpanded(this.toolboxItemDef_.expanded===\"true\"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const a=this.getChildToolboxItems();this.subcategoriesDiv_=this.createSubCategoriesDom_(a);setRole$$module$build$src$core$utils$aria(this.subcategoriesDiv_,Role$$module$build$src$core$utils$aria.GROUP);\nthis.htmlDiv_.appendChild(this.subcategoriesDiv_);this.closeIcon_(this.iconDom_);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,!1);return this.htmlDiv_}createIconDom_(){const a=document.createElement(\"span\");if(!this.parentToolbox_.isHorizontal()){const b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b);a.style.visibility=\"visible\"}a.style.display=\"inline-block\";return a}createSubCategoriesDom_(a){const b=document.createElement(\"div\");\nb.style.display=\"none\";var c=this.cssConfig_.contents;c&&addClass$$module$build$src$core$utils$dom(b,c);for(c=0;c<a.length;c++){const d=a[c];d.init();const e=d.getDiv();b.appendChild(e);if(d.getClickTarget){let f;(f=d.getClickTarget())==null||f.setAttribute(\"id\",d.getId())}}return b}setExpanded(a){if(this.expanded_!==a){if(this.expanded_=a)this.subcategoriesDiv_.style.display=\"block\",this.openIcon_(this.iconDom_);else{let b;(b=this.parentToolbox_.getFlyout())==null||b.setVisible(!1);this.subcategoriesDiv_.style.display=\n\"none\";this.closeIcon_(this.iconDom_)}setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,a);this.parentToolbox_.handleToolboxItemResize()}}setVisible_(a){this.htmlDiv_.style.display=a?\"block\":\"none\";const b=this.getChildToolboxItems();for(let c=0;c<b.length;c++)b[c].setVisible_(a);this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(a){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};\nCollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName=\"collapsibleCategory\";register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category);var module$build$src$core$toolbox$collapsible_category={};\nmodule$build$src$core$toolbox$collapsible_category.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;var module$build$src$core$interfaces$i_selectable_toolbox_item={};module$build$src$core$interfaces$i_selectable_toolbox_item.isSelectableToolboxItem=isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item;var Toolbox$$module$build$src$core$toolbox$toolbox=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.id=\"toolbox\";this.contentsDiv_=this.HtmlDiv=null;this.isVisible_=!1;this.height_=this.width_=0;this.flyout=null;this.contents=new Map;this.previouslySelectedItem_=this.selectedItem_=null;this.boundEvents_=[];this.workspace_=a;this.toolboxDef_=a.options.languageTree||{contents:[]};this.horizontalLayout=a.options.horizontalLayout;this.RTL=a.options.RTL;this.toolboxPosition=\na.options.toolboxPosition}onShortcut(a){return!1}init(){var a=this.workspace_;const b=a.getParentSvg();this.flyout=this.createFlyout_();this.HtmlDiv=this.createDom_(this.workspace_);const c=this.flyout.createDom(\"svg\");addClass$$module$build$src$core$utils$dom(c,\"blocklyToolboxFlyout\");insertAfter$$module$build$src$core$utils$dom(c,b);this.setVisible(!0);this.flyout.init(a);this.render(this.toolboxDef_);a=a.getThemeManager();a.subscribe(this.HtmlDiv,\"toolboxBackgroundColour\",\"background-color\");a.subscribe(this.HtmlDiv,\n\"toolboxForegroundColour\",\"color\");this.workspace_.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]});$.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,\n!0)}createDom_(a){a=a.getParentSvg();const b=this.createContainer_();b.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.contentsDiv_=this.createContentsContainer_();setRole$$module$build$src$core$utils$aria(this.contentsDiv_,Role$$module$build$src$core$utils$aria.TREE);b.appendChild(this.contentsDiv_);a.parentNode.insertBefore(b,a);this.attachEvents_(b,this.contentsDiv_);return b}createContainer_(){const a=document.createElement(\"div\");a.setAttribute(\"layout\",this.isHorizontal()?\n\"h\":\"v\");addClass$$module$build$src$core$utils$dom(a,\"blocklyToolbox\");a.setAttribute(\"dir\",this.RTL?\"RTL\":\"LTR\");return a}createContentsContainer_(){const a=document.createElement(\"div\");addClass$$module$build$src$core$utils$dom(a,\"blocklyToolboxCategoryGroup\");this.isHorizontal()&&(a.style.flexDirection=\"row\");return a}attachEvents_(a,b){a=conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onClick_,!1);this.boundEvents_.push(a);b=conditionalBind$$module$build$src$core$browser_events(b,\n\"keydown\",this,this.onKeyDown_,!1);this.boundEvents_.push(b)}onClick_(a){if(isRightButton$$module$build$src$core$browser_events(a)||a.target===this.HtmlDiv)getMainWorkspace$$module$build$src$core$common().hideChaff(!1);else{var b=a.target.getAttribute(\"id\");b&&(b=this.getToolboxItemById(b),b.isSelectable()&&(this.setSelectedItem(b),b.onClick(a)));getMainWorkspace$$module$build$src$core$common().hideChaff(!0)}clearTouchIdentifier$$module$build$src$core$touch()}onKeyDown_(a){let b=!1;switch(a.key){case \"ArrowDown\":b=\nthis.selectNext();break;case \"ArrowUp\":b=this.selectPrevious();break;case \"ArrowLeft\":b=this.selectParent();break;case \"ArrowRight\":b=this.selectChild();break;case \"Enter\":case \" \":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),b=!0);break;default:b=!1}!b&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(b=this.selectedItem_.onKeyDown(a));b&&a.preventDefault()}createFlyout_(){const a=this.workspace_,b=a.copyOptionsForFlyout();b.toolboxPosition=a.options.toolboxPosition;\nreturn new (a.horizontalLayout?getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,a.options,!0):getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,a.options,!0))(b)}render(a){this.toolboxDef_=a;this.contents.forEach(b=>b.dispose());this.contents.clear();this.renderContents_(a.contents);this.position();this.handleToolboxItemResize()}renderContents_(a){const b=document.createDocumentFragment();\nfor(let c=0;c<a.length;c++)this.createToolboxItem(a[c],b);this.contentsDiv_.appendChild(b)}createToolboxItem(a,b){var c=a.kind;c.toUpperCase()===\"CATEGORY\"&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(c=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);if(c=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,c.toLowerCase()))a=new c(a,this),a.init(),this.addToolboxItem_(a),(c=a.getDiv())&&b.appendChild(c),\na.getClickTarget()&&a.getClickTarget().setAttribute(\"id\",a.getId())}addToolboxItem_(a){this.contents.set(a.getId(),a);if(a.isCollapsible()){a=a.getChildToolboxItems();for(let b=0;b<a.length;b++)this.addToolboxItem_(a[b])}}getToolboxItems(){return[...this.contents.values()]}addStyle(a){a&&this.HtmlDiv&&addClass$$module$build$src$core$utils$dom(this.HtmlDiv,a)}removeStyle(a){a&&this.HtmlDiv&&removeClass$$module$build$src$core$utils$dom(this.HtmlDiv,a)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;\nvar a=this.HtmlDiv.getBoundingClientRect();const b=a.top,c=b+a.height,d=a.left;a=d+a.width;return this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E7,c,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.BOTTOM?new Rect$$module$build$src$core$utils$rect(b,1E7,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E7,1E7,-1E7,a):new Rect$$module$build$src$core$utils$rect(-1E7,\n1E7,d,1E7)}wouldDelete(a){a instanceof BlockSvg$$module$build$src$core$block_svg?this.updateWouldDelete_(!a.getParent()&&a.isDeletable()):this.updateWouldDelete_(isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable());return this.wouldDelete_}onDragEnter(a){this.updateCursorDeleteStyle_(!0)}onDragExit(a){this.updateCursorDeleteStyle_(!1)}onDrop(a){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(a){a!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=\na,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(a){const b=this.wouldDelete_?\"blocklyToolboxDelete\":\"blocklyToolboxGrab\";a?this.addStyle(b):this.removeStyle(b)}getToolboxItemById(a){return this.contents.get(a)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const a=\nthis.workspace_.getMetrics(),b=this.HtmlDiv;b&&(this.horizontalLayout?(b.style.left=\"0\",b.style.height=\"auto\",b.style.width=\"100%\",this.height_=b.offsetHeight,this.width_=a.viewWidth,this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?b.style.top=\"0\":b.style.bottom=\"0\"):(this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?b.style.right=\"0\":b.style.left=\"0\",b.style.height=\"100%\",this.width_=b.offsetWidth,this.height_=a.viewHeight),this.flyout.position())}handleToolboxItemResize(){const a=\nthis.workspace_;var b=this.HtmlDiv.getBoundingClientRect();const c=this.getFlyout(),d=this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?a.scrollX+b.width+((c==null?0:c.isVisible())?c.getWidth():0):a.scrollX;b=this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?a.scrollY+b.height+((c==null?0:c.isVisible())?c.getHeight():0):a.scrollY;a.translate(d,b);svgResize$$module$build$src$core$common(a)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(a=>\n{a.refreshTheme&&a.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(a){this.isVisible_!==a&&(this.HtmlDiv.style.display=a?\"block\":\"none\",this.isVisible_=a,this.workspace_.recordDragTargets())}autoHide(a){!a&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(a){const b=this.selectedItem_;!a&&!b||a&&!isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item(a)||\n(this.shouldDeselectItem_(b,a)&&b!==null&&this.deselectItem_(b),this.shouldSelectItem_(b,a)&&a!==null&&this.selectItem_(b,a),this.updateFlyout_(b,a),this.fireSelectEvent(b,a))}shouldDeselectItem_(a,b){return a!==null&&(!a.isCollapsible()||a!==b)}shouldSelectItem_(a,b){return b!==null&&b!==a}deselectItem_(a){this.selectedItem_=null;this.previouslySelectedItem_=a;a.setSelected(!1);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,\"\")}selectItem_(a,\nb){this.selectedItem_=b;this.previouslySelectedItem_=a;b.setSelected(!0);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,b.getId())}selectItemByPosition(a){(a=this.getToolboxItems()[a])&&this.setSelectedItem(a)}updateFlyout_(a,b){b&&(a!==b||b.isCollapsible())&&b.getContents().length?(this.flyout.show(b.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(a,b){const c=a&&a.getName();let d=b&&b.getName();\na===b&&(d=null);a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT))(c,d,this.workspace_.id);fire$$module$build$src$core$events$utils(a)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||\n!this.selectedItem_.isCollapsible())return!1;const a=this.selectedItem_;a.isExpanded()?this.selectNext():a.toggleExpanded();return!0}selectNext(){if(!this.selectedItem_)return!1;const a=[...this.contents.values()];let b=a.indexOf(this.selectedItem_)+1;if(b>-1&&b<a.length){let c=a[b];for(;c&&!c.isSelectable();)c=a[++b];if(c&&c.isSelectable())return this.setSelectedItem(c),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const a=[...this.contents.values()];let b=a.indexOf(this.selectedItem_)-\n1;if(b>-1&&b<a.length){let c=a[b];for(;c&&!c.isSelectable();)c=a[--b];if(c&&c.isSelectable())return this.setSelectedItem(c),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent(\"toolbox\");this.flyout.dispose();this.contents.forEach(a=>a.dispose());for(let a=0;a<this.boundEvents_.length;a++)unbind$$module$build$src$core$browser_events(this.boundEvents_[a]);this.boundEvents_=[];this.contents.clear();this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),removeNode$$module$build$src$core$utils$dom(this.HtmlDiv));\n$.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error(\"Toolbox DOM has not yet been created.\");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(a){if(!a||a===this){let b;return(b=this.getToolboxItems().find(c=>c.isSelectable()))!=null?b:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(a){return this.getToolboxItemById(a)}onTreeFocus(a,\nb){a!==this?this.getSelectedItem()!==a&&this.setSelectedItem(a):this.clearSelection()}onTreeBlur(a){let b;a&&a===((b=this.flyout)==null?void 0:b.getWorkspace())||this.autoHide(!1)}};register$$module$build$src$core$css('\\n.blocklyToolboxDelete {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyToolboxGrab {\\n  cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n/* Category tree in Toolbox. */\\n.blocklyToolbox {\\n  box-sizing: border-box;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background-color: #ddd;\\n  overflow-x: visible;\\n  overflow-y: auto;\\n  padding: 4px 0 4px 0;\\n  position: absolute;\\n  z-index: 70;  /* so blocks go under toolbox when dragging */\\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\\n}\\n\\n.blocklyToolboxCategoryGroup {\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: column;\\n}\\n\\n.blocklyToolboxCategoryGroup:focus {\\n  outline: none;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,DEFAULT$$module$build$src$core$registry,Toolbox$$module$build$src$core$toolbox$toolbox);var module$build$src$core$toolbox$toolbox={};module$build$src$core$toolbox$toolbox.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;var module$build$src$core$interfaces$i_navigation_policy={};var VERSION$$module$build$src$core$blockly=\"12.3.0\",INPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,OUTPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE,NEXT_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT,PREVIOUS_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT,\nTOOLBOX_AT_TOP$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.TOP,TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.BOTTOM,TOOLBOX_AT_LEFT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.LEFT,TOOLBOX_AT_RIGHT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.RIGHT,svgResize$$module$build$src$core$blockly=svgResize$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$blockly=\ngetMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$blockly=getSelected$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$blockly=defineBlocksWithJsonArray$$module$build$src$core$common,setParentContainer$$module$build$src$core$blockly=setParentContainer$$module$build$src$core$common,COLLAPSE_CHARS$$module$build$src$core$blockly=COLLAPSE_CHARS$$module$build$src$core$internal_constants,OPPOSITE_TYPE$$module$build$src$core$blockly=OPPOSITE_TYPE$$module$build$src$core$internal_constants,\nRENAME_VARIABLE_ID$$module$build$src$core$blockly=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID$$module$build$src$core$blockly=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,COLLAPSED_INPUT_NAME$$module$build$src$core$blockly=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,COLLAPSED_FIELD_NAME$$module$build$src$core$blockly=COLLAPSED_FIELD_NAME$$module$build$src$core$constants,VARIABLE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables,\nVARIABLE_DYNAMIC_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables_dynamic,PROCEDURE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$procedures;Workspace$$module$build$src$core$workspace.prototype.newBlock=function(a,b){return new Block$$module$build$src$core$block(this,a,b)};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newBlock=function(a,b){return new BlockSvg$$module$build$src$core$block_svg(this,a,b)};\nWorkspace$$module$build$src$core$workspace.prototype.newComment=function(a){return new WorkspaceComment$$module$build$src$core$comments$workspace_comment(this,a)};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newComment=function(a){return new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(this,a)};WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan=function(a){return new Trashcan$$module$build$src$core$trashcan(a)};\nMiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype.newWorkspaceSvg=function(a){return new WorkspaceSvg$$module$build$src$core$workspace_svg(a)};$.Names$$module$build$src$core$names.prototype.populateProcedures=function(a){a=allProcedures$$module$build$src$core$procedures(a);a=a[0].concat(a[1]);for(let b=0;b<a.length;b++)this.getName(a[b][0],$.Names$$module$build$src$core$names.NameType.PROCEDURE)};\nvar DropDownDiv$$module$build$src$core$blockly=module$build$src$core$dropdowndiv,module$build$src$core$blockly={};module$build$src$core$blockly.Block=Block$$module$build$src$core$block;module$build$src$core$blockly.BlockFlyoutInflater=BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater;module$build$src$core$blockly.BlockNavigationPolicy=BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.BlockSvg=BlockSvg$$module$build$src$core$block_svg;\nmodule$build$src$core$blockly.Blocks=Blocks$$module$build$src$core$blocks;module$build$src$core$blockly.ButtonFlyoutInflater=ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater;module$build$src$core$blockly.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSE_CHARS=COLLAPSE_CHARS$$module$build$src$core$internal_constants;\nmodule$build$src$core$blockly.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;module$build$src$core$blockly.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;module$build$src$core$blockly.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$blockly.Connection=Connection$$module$build$src$core$connection;module$build$src$core$blockly.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;\nmodule$build$src$core$blockly.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;module$build$src$core$blockly.ConnectionNavigationPolicy=ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy;module$build$src$core$blockly.ConnectionType=ConnectionType$$module$build$src$core$connection_type;module$build$src$core$blockly.ContextMenu=module$build$src$core$contextmenu;module$build$src$core$blockly.ContextMenuItems=module$build$src$core$contextmenu_items;\nmodule$build$src$core$blockly.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$blockly.Css=module$build$src$core$css;module$build$src$core$blockly.DELETE_VARIABLE_ID=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.DeleteArea=DeleteArea$$module$build$src$core$delete_area;module$build$src$core$blockly.DragTarget=DragTarget$$module$build$src$core$drag_target;module$build$src$core$blockly.DropDownDiv=module$build$src$core$dropdowndiv;\nmodule$build$src$core$blockly.Events=module$build$src$core$events$events;module$build$src$core$blockly.Extensions=module$build$src$core$extensions;module$build$src$core$blockly.Field=Field$$module$build$src$core$field;module$build$src$core$blockly.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;module$build$src$core$blockly.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;module$build$src$core$blockly.FieldImage=FieldImage$$module$build$src$core$field_image;\nmodule$build$src$core$blockly.FieldLabel=FieldLabel$$module$build$src$core$field_label;module$build$src$core$blockly.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;module$build$src$core$blockly.FieldNavigationPolicy=FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy;module$build$src$core$blockly.FieldNumber=FieldNumber$$module$build$src$core$field_number;module$build$src$core$blockly.FieldTextInput=$.FieldTextInput$$module$build$src$core$field_textinput;\nmodule$build$src$core$blockly.FieldVariable=FieldVariable$$module$build$src$core$field_variable;module$build$src$core$blockly.Flyout=Flyout$$module$build$src$core$flyout_base;module$build$src$core$blockly.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;module$build$src$core$blockly.FlyoutButtonNavigationPolicy=FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy;module$build$src$core$blockly.FlyoutItem=FlyoutItem$$module$build$src$core$flyout_item;\nmodule$build$src$core$blockly.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;module$build$src$core$blockly.FlyoutNavigationPolicy=FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy;module$build$src$core$blockly.FlyoutNavigator=FlyoutNavigator$$module$build$src$core$flyout_navigator;module$build$src$core$blockly.FlyoutSeparator=FlyoutSeparator$$module$build$src$core$flyout_separator;\nmodule$build$src$core$blockly.FlyoutSeparatorNavigationPolicy=FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy;module$build$src$core$blockly.FocusManager=FocusManager$$module$build$src$core$focus_manager;module$build$src$core$blockly.FocusableTreeTraverser=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser;module$build$src$core$blockly.Generator=$.CodeGenerator$$module$build$src$core$generator;\nmodule$build$src$core$blockly.Gesture=Gesture$$module$build$src$core$gesture;module$build$src$core$blockly.Grid=Grid$$module$build$src$core$grid;module$build$src$core$blockly.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;module$build$src$core$blockly.INPUT_VALUE=INPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$blockly.InsertionMarkerPreviewer=InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer;\nmodule$build$src$core$blockly.KeyboardNavigationController=KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$blockly.LabelFlyoutInflater=LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater;module$build$src$core$blockly.LineCursor=LineCursor$$module$build$src$core$keyboard_nav$line_cursor;module$build$src$core$blockly.Marker=Marker$$module$build$src$core$keyboard_nav$marker;module$build$src$core$blockly.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;\nmodule$build$src$core$blockly.Menu=Menu$$module$build$src$core$menu;module$build$src$core$blockly.MenuItem=MenuItem$$module$build$src$core$menuitem;module$build$src$core$blockly.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;module$build$src$core$blockly.Msg=$.Msg$$module$build$src$core$msg;module$build$src$core$blockly.NEXT_STATEMENT=NEXT_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.Names=$.Names$$module$build$src$core$names;\nmodule$build$src$core$blockly.Navigator=Navigator$$module$build$src$core$navigator;module$build$src$core$blockly.OPPOSITE_TYPE=OPPOSITE_TYPE$$module$build$src$core$internal_constants;module$build$src$core$blockly.OUTPUT_VALUE=OUTPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Options=Options$$module$build$src$core$options;module$build$src$core$blockly.PREVIOUS_STATEMENT=PREVIOUS_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.PROCEDURE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$procedures;\nmodule$build$src$core$blockly.Procedures=module$build$src$core$procedures;module$build$src$core$blockly.RENAME_VARIABLE_ID=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.RenderedConnection=RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$blockly.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;module$build$src$core$blockly.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;\nmodule$build$src$core$blockly.SeparatorFlyoutInflater=SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater;module$build$src$core$blockly.ShortcutItems=module$build$src$core$shortcut_items;module$build$src$core$blockly.ShortcutRegistry=ShortcutRegistry$$module$build$src$core$shortcut_registry;module$build$src$core$blockly.TOOLBOX_AT_BOTTOM=TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_LEFT=TOOLBOX_AT_LEFT$$module$build$src$core$blockly;\nmodule$build$src$core$blockly.TOOLBOX_AT_RIGHT=TOOLBOX_AT_RIGHT$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_TOP=TOOLBOX_AT_TOP$$module$build$src$core$blockly;module$build$src$core$blockly.Theme=Theme$$module$build$src$core$theme;module$build$src$core$blockly.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;module$build$src$core$blockly.Themes=module$build$src$core$theme$themes;module$build$src$core$blockly.Toast=Toast$$module$build$src$core$toast;\nmodule$build$src$core$blockly.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;module$build$src$core$blockly.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;module$build$src$core$blockly.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;module$build$src$core$blockly.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;module$build$src$core$blockly.Tooltip=module$build$src$core$tooltip;module$build$src$core$blockly.Touch=module$build$src$core$touch;\nmodule$build$src$core$blockly.Trashcan=Trashcan$$module$build$src$core$trashcan;module$build$src$core$blockly.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;module$build$src$core$blockly.VARIABLE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables;module$build$src$core$blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables_dynamic;module$build$src$core$blockly.VERSION=VERSION$$module$build$src$core$blockly;\nmodule$build$src$core$blockly.VariableMap=VariableMap$$module$build$src$core$variable_map;module$build$src$core$blockly.VariableModel=VariableModel$$module$build$src$core$variable_model;module$build$src$core$blockly.Variables=module$build$src$core$variables;module$build$src$core$blockly.VariablesDynamic=module$build$src$core$variables_dynamic;module$build$src$core$blockly.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;module$build$src$core$blockly.WidgetDiv=module$build$src$core$widgetdiv;\nmodule$build$src$core$blockly.Workspace=Workspace$$module$build$src$core$workspace;module$build$src$core$blockly.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;module$build$src$core$blockly.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;module$build$src$core$blockly.WorkspaceNavigationPolicy=WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy;module$build$src$core$blockly.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;\nmodule$build$src$core$blockly.Xml=module$build$src$core$xml;module$build$src$core$blockly.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;module$build$src$core$blockly.blockAnimations=module$build$src$core$block_animations;module$build$src$core$blockly.blockRendering=module$build$src$core$renderers$common$block_rendering;module$build$src$core$blockly.browserEvents=module$build$src$core$browser_events;module$build$src$core$blockly.bubbles=module$build$src$core$bubbles;\nmodule$build$src$core$blockly.bumpObjects=module$build$src$core$bump_objects;module$build$src$core$blockly.clipboard=module$build$src$core$clipboard;module$build$src$core$blockly.comments=module$build$src$core$comments;module$build$src$core$blockly.common=module$build$src$core$common;module$build$src$core$blockly.config=$.config$$module$build$src$core$config;module$build$src$core$blockly.constants=module$build$src$core$constants;module$build$src$core$blockly.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;\nmodule$build$src$core$blockly.dialog=module$build$src$core$dialog;module$build$src$core$blockly.dragging=module$build$src$core$dragging;module$build$src$core$blockly.fieldRegistry=module$build$src$core$field_registry;module$build$src$core$blockly.geras=module$build$src$core$renderers$geras$geras;module$build$src$core$blockly.getFocusManager=$.getFocusManager$$module$build$src$core$focus_manager;module$build$src$core$blockly.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;\nmodule$build$src$core$blockly.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$blockly.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;module$build$src$core$blockly.hideChaff=hideChaff$$module$build$src$core$blockly;module$build$src$core$blockly.icons=module$build$src$core$icons;module$build$src$core$blockly.inject=inject$$module$build$src$core$inject;module$build$src$core$blockly.inputs=module$build$src$core$inputs;\nmodule$build$src$core$blockly.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;module$build$src$core$blockly.isDeletable=isDeletable$$module$build$src$core$interfaces$i_deletable;module$build$src$core$blockly.isDraggable=isDraggable$$module$build$src$core$interfaces$i_draggable;module$build$src$core$blockly.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;module$build$src$core$blockly.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;\nmodule$build$src$core$blockly.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;module$build$src$core$blockly.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;module$build$src$core$blockly.isSelectable=isSelectable$$module$build$src$core$interfaces$i_selectable;module$build$src$core$blockly.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;module$build$src$core$blockly.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;\nmodule$build$src$core$blockly.keyboardNavigationController=keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$blockly.layers=module$build$src$core$layers;module$build$src$core$blockly.navigateBlock=navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.navigateStacks=navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.procedures=module$build$src$core$procedures;\nmodule$build$src$core$blockly.registry=module$build$src$core$registry;module$build$src$core$blockly.renderManagement=module$build$src$core$render_management;module$build$src$core$blockly.serialization=module$build$src$core$serialization;module$build$src$core$blockly.setLocale=setLocale$$module$build$src$core$msg;module$build$src$core$blockly.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$blockly.svgResize=svgResize$$module$build$src$core$common;\nmodule$build$src$core$blockly.thrasos=module$build$src$core$renderers$thrasos$thrasos;module$build$src$core$blockly.uiPosition=module$build$src$core$positionable_helpers;module$build$src$core$blockly.utils=module$build$src$core$utils;module$build$src$core$blockly.zelos=module$build$src$core$renderers$zelos$zelos;var module$build$src$core$utils$metrics={};var module$build$src$core$renderers$common$i_path_object={};var module$build$src$core$interfaces$i_variable_model={};var module$build$src$core$interfaces$i_variable_map={};var module$build$src$core$interfaces$i_toolbox_item={};var module$build$src$core$interfaces$i_toolbox={};var module$build$src$core$interfaces$i_styleable={};var module$build$src$core$interfaces$i_serializer={};var module$build$src$core$interfaces$i_registrable={};var module$build$src$core$interfaces$i_procedure_model={};var module$build$src$core$interfaces$i_procedure_map={};var module$build$src$core$interfaces$i_positionable={};var module$build$src$core$interfaces$i_parameter_model={};var module$build$src$core$interfaces$i_movable={};var module$build$src$core$interfaces$i_metrics_manager={};var module$build$src$core$interfaces$i_keyboard_accessible={};var module$build$src$core$interfaces$i_focusable_tree={};module$build$src$core$interfaces$i_focusable_tree.isFocusableTree=isFocusableTree$$module$build$src$core$interfaces$i_focusable_tree;var module$build$src$core$interfaces$i_flyout_inflater={};var module$build$src$core$interfaces$i_flyout={};var module$build$src$core$interfaces$i_dragger={};var module$build$src$core$interfaces$i_drag_target={};var module$build$src$core$interfaces$i_delete_area={};var module$build$src$core$interfaces$i_contextmenu={};var module$build$src$core$interfaces$i_connection_previewer={};var module$build$src$core$interfaces$i_connection_checker={};var module$build$src$core$interfaces$i_component={};var module$build$src$core$interfaces$i_collapsible_toolbox_item={};var module$build$src$core$interfaces$i_bubble={};var module$build$src$core$interfaces$i_bounded_element={};\nmodule$build$src$core$blockly.__namespace__=$;\nreturn module$build$src$core$blockly;\n}));\n\n\n//# sourceMappingURL=blockly_compressed.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9ibG9ja2x5X2NvbXByZXNzZWQuanMiLCJtYXBwaW5ncyI6IkFBQUEsMEhBQTBCOztBQUUxQjtBQUNBLENBQUM7QUFDRCxNQUFNLElBQTBDLElBQUk7QUFDcEQsSUFBSSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDdkIsSUFBSSxLQUFLLEVBSU47QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGlGQUFpRixFQUFFLG1IQUFtSCxLQUFLLEVBQUUsZ0JBQWdCLGdIQUFnSCx3QkFBd0IsbURBQW1EO0FBQ25kLDZDQUE2Qyx1SUFBdUksOENBQThDLHdGQUF3RixPQUFPO0FBQ2pVLHVEQUF1RCxVQUFVO0FBQ2pFLHlEQUF5RCxLQUFLLEVBQUUsZ0JBQWdCLGtCQUFrQixtREFBbUQ7QUFDckosd0RBQXdELEtBQUssRUFBRSxnQkFBZ0Isa0JBQWtCLG1EQUFtRCxjQUFjLG1EQUFtRCxvRUFBb0UsZ0JBQWdCLFlBQVksYUFBYSxzREFBc0QsS0FBSyxFQUFFLGdCQUFnQixrQkFBa0I7QUFDamEseURBQXlELHVEQUF1RCwwREFBMEQ7QUFDMUssNERBQTRELEtBQUssRUFBRSxnQkFBZ0IsaURBQWlELE9BQU8scUJBQXFCLEVBQUUsb0JBQW9CLG9CQUFvQixHQUFHLGlDQUFpQyxHQUFHLFVBQVUsZ0JBQWdCLFlBQVksZUFBZSw2Q0FBNkMsc0JBQXNCLDJDQUEyQztBQUNwWixvRUFB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RyxpR0FBaUc7QUFDMVosK0ZBQStGLDJGQUEyRix1RUFBdUUsNkZBQTZGLHdFQUF3RTtBQUN0YSxxRkFBcUYsc0dBQXNHLGtHQUFrRyx5R0FBeUcsb0VBQW9FO0FBQzFjLGdGQUFnRixxR0FBcUcsb0dBQW9HLG9IQUFvSDtBQUM3WSwwRkFBMEYsZ0dBQWdHLHdFQUF3RSx1RkFBdUYsbUdBQW1HO0FBQzViLG1GQUFtRixtR0FBbUcseUdBQXlHLGtKQUFrSjtBQUNqYiw0REFBNEQsNkZBQTZGLHFGQUFxRixvR0FBb0csaUZBQWlGO0FBQ25hLDZFQUE2RSx3RUFBd0Usc0VBQXNFLGtFQUFrRSw0RUFBNEUsd0VBQXdFO0FBQ2piLGtFQUFrRSxzRUFBc0UsaUZBQWlGLGdGQUFnRixxR0FBcUc7QUFDOVksb0ZBQW9GLGlHQUFpRyxpRkFBaUYsZ0VBQWdFLDBFQUEwRTtBQUNoWixpR0FBaUcsb0dBQW9HLG9HQUFvRyxxRkFBcUY7QUFDOVgsMkZBQTJGLHVIQUF1SCx1R0FBdUcsNkdBQTZHO0FBQ3RhLDhJQUE4SSxrRUFBa0Usc0hBQXNILHdIQUF3SDtBQUM5YixzRUFBc0UsdUZBQXVGLGdGQUFnRiw2RUFBNkUsa0dBQWtHO0FBQzVaLHNGQUFzRixvRkFBb0YsZ0VBQWdFLGdGQUFnRiwyQ0FBMkMsNERBQTRELHlEQUF5RCx1REFBdUQsdURBQXVELGtEQUFrRCxvREFBb0QscURBQXFELHNEQUFzRCwwREFBMEQsd0RBQXdELHVEQUF1RCwwREFBMEQsa0RBQWtELDBEQUEwRCw4REFBOEQseURBQXlELHFJQUFxSSwwREFBMEQsaURBQWlELGtEQUFrRCxzREFBc0Qsc0RBQXNELHNEQUFzRCwrREFBK0QsNkRBQTZELG9EQUFvRCxtRUFBbUUsaURBQWlEO0FBQ3Y4RDtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmxvY2tseS9rZXlib2FyZC1uYXZpZ2F0aW9uLy4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvYmxvY2tseV9jb21wcmVzc2VkLmpzPzYyNzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRG8gbm90IGVkaXQgdGhpcyBmaWxlOyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC5cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHsgLy8gU2NyaXB0XG4gICAgcm9vdC5CbG9ja2x5ID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xudmFyICQ9e307XG52YXIgcmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSx2YWxpZGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LHVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxnZXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksaGFzSXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LGdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksZ2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksZ2V0QWxsSXRlbXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksbG9uZ1N0YXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gsbG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCxjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLFxuc2hvdWxkSGFuZGxlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCxnZXRUb3VjaElkZW50aWZpZXJGcm9tRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCxjaGVja1RvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLGJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyx1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyxpc1RhcmdldElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMsaXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLG1vdXNlVG9TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyxnZXRTY3JvbGxEZWx0YVBpeGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLFxuZ2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IsZ2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IsaXNCbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQmxvY2tEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0Jsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNCbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNCbG9ja01vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc1ZhckNyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzVmFyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsXG5pc1ZhclJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQmxvY2tEcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0J1YmJsZU9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc1RyYXNoY2FuT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzVG9vbGJveEl0ZW1TZWxlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc1RoZW1lQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLFxuaXNDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNDb21tZW50Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsaXNDb21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQ29tbWVudFJlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzQ29tbWVudERyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyxpc0NvbW1lbnRDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLGlzRmluaXNoZWRMb2FkaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMsZ2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGZpcmVJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxcbmZpcmVOb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsZW5xdWV1ZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGZpbHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxjbGVhclBlbmRpbmdVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyxzZXRHcm91cEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGdldERlc2NlbmRhbnRJZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGRpc2FibGVPcnBoYW5zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXG5hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxyZW1vdmVDbGFzc2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLGhhc0NsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20saW5zZXJ0QWZ0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sc2V0Q3NzVHJhbnNmb3JtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLHN0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sc3RvcFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLGdldFRleHRXaWR0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxnZXRGYXN0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFxuZ2V0RmFzdFRleHRXaWR0aFdpdGhTaXplU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLG1lYXN1cmVGb250TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxpc0ZvY3VzYWJsZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGUsaXNTZWxlY3RhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGUsZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0LGdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZ2V0QWxsV29ya3NwYWNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixyZWdpc3RlcldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbix1bnJlZ2lzdGVyV29ya3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZ2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixcbnNldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZ2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sc2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZmlyZVNlbGVjdGVkRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZ2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLHNldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixzdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZ2V0QmxvY2tUeXBlQ291bnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGpzb25Jbml0RmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixkZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXlJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixcbmdsb2JhbFNob3J0Y3V0SGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkscmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MsaW5qZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzLGdldFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRTaXplSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRTaXplV2l0aERpc3BsYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUsZ2V0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLGdldFZpZXdwb3J0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLGdldEJvcmRlckJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLFxuc2Nyb2xsSW50b0NvbnRhaW5lclZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZSxnZXRSZWxhdGl2ZVhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgsZ2V0SW5qZWN0aW9uRGl2WFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCxnZXRWaWV3cG9ydEJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCxnZXREb2N1bWVudFNjcm9sbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLHNjcmVlblRvV3NDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLHdzVG9TY3JlZW5Db29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLGluamVjdERlcGVuZGVuY2llcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxcbmRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxzYW5pdGl6ZVRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsY29udmVydFRvb2xib3hEZWZUb0pzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LHZhbGlkYXRlVG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gsY29udmVydEZseW91dERlZlRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCxoYXNDYXRlZ29yaWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCxoYXNDYXRlZ29yaWVzSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LGlzQ2F0ZWdvcnlDb2xsYXBzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gsY29udmVydFRvVG9vbGJveEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LHhtbFRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCxcbmFkZEF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LHBhcnNlVG9vbGJveFRyZWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LGdldFN0YXJ0UG9zaXRpb25SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMsZ2V0Q29ybmVyT3Bwb3NpdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMsYnVtcFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLHJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeSx1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeSxzYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMsYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMsXG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeSx1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5LG1vdmVDb21tZW50VG9Ob3RDb25mbGljdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIsY29tbWVudE92ZXJsYXBzT3RoZXJFeGFjdGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHdvcmtzcGFjZV9jb21tZW50X3Bhc3RlcixzZXRSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSxzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEsaXNTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VyaWFsaXphYmxlLHF1ZXVlUmVuZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQsZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LFxudHJpZ2dlclF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxhbHdheXNJbW1lZGlhdGVseVJlbmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LHF1ZXVlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxkb1JlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxkZXF1ZXVlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxzaG91bGRSZW5kZXJSb290QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCxyZW5kZXJCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LGFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLHNldEFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLGNvbmZpcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csXG5zZXRDb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLHByb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxzZXRQcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csdG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csc2V0VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csaXNMZWdhY3lQcm9jZWR1cmVEZWZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2Nrcyxpc0xlZ2FjeVByb2NlZHVyZUNhbGxCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2Nrcyxpc1ZhcmlhYmxlQmFja2VkUGFyYW1ldGVyTW9kZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdmFyaWFibGVfYmFja2VkX3BhcmFtZXRlcl9tb2RlbCx3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24sXG5pbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGdlbmVyYXRlVmFyaWFibGVGaWVsZEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsanNvbkZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLHhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGdlbmVyYXRlVW5pcXVlTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxnZW5lcmF0ZVVuaXF1ZU5hbWVJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxnZW5lcmF0ZVVuaXF1ZU5hbWVGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxcbmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxwcm9tcHROYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLG5hbWVVc2VkV2l0aE90aGVyVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxuYW1lVXNlZFdpdGhBbnlUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLG5hbWVVc2VkV2l0aENvbmZsaWN0aW5nUGFyYW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsY2hlY2tGb3JDb25mbGljdGluZ1BhcmFtV2l0aFByb2NlZHVyZU1vZGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxjaGVja0ZvckNvbmZsaWN0aW5nUGFyYW1XaXRoTGVnYWN5UHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxnZW5lcmF0ZVZhcmlhYmxlRmllbGREb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsY3JlYXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsXG5nZXRBZGRlZFZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxjb21wYXJlQnlOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLGdldFZhcmlhYmxlVXNlc0J5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLHNhdmVBdHRyaWJ1dGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3Msc2F2ZUNvb3JkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLHNhdmVFeHRyYVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3Msc2F2ZUljb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3Msc2F2ZUZpZWxkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLHNhdmVJbnB1dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLFxuc2F2ZU5leHRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxzYXZlQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGFwcGVuZEludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsYXBwZW5kUHJpdmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGNoZWNrTmV3VmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsbG9hZENvb3JkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGxvYWRBdHRyaWJ1dGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsbG9hZEV4dHJhU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxcbnRyeVRvQ29ubmVjdFBhcmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGxvYWRJY29ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGxvYWRGaWVsZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyxsb2FkSW5wdXRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyxsb2FkTmV4dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLGxvYWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsaW5pdEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MsaGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGUsdG9SYWRpYW5zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aCxcbnRvRGVncmVlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgsY2xhbXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoLGNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LHNldEJvdW5kc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixnZXRPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGdldENvbnRlbnREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixjbGVhckNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixzZXRDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixzaG93UG9zaXRpb25lZEJ5QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixzaG93UG9zaXRpb25lZEJ5RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixnZXRTY2FsZWRCYm94T2ZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LFxuZ2V0U2NhbGVkQmJveE9mRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixzaG93UG9zaXRpb25lZEJ5UmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LHNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixnZXRQb3NpdGlvbkJlbG93TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGdldFBvc2l0aW9uQWJvdmVNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsZ2V0UG9zaXRpb25Ub3BPZlBhZ2VNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsZ2V0UG9zaXRpb25YJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsaXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsaGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsXG5oaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LHBvc2l0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixyZXBvc2l0aW9uRm9yV2luZG93UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsc2hvcnRlc3RTdHJpbmdMZW5ndGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcsY29tbW9uV29yZFByZWZpeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyxjb21tb25Xb3JkU3VmZml4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLHdyYXBMaW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLHdyYXBTY29yZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyx3cmFwTXV0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLHdyYXBUb1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcsXG5zZXRDdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxnZXRDdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxpc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGdldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsZ2V0VG9vbHRpcE9mT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxnZXRUYXJnZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsYmluZE1vdXNlRXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCx1bmJpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsb25Nb3VzZU92ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLG9uTW91c2VPdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLG9uTW91c2VNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxcbmRpc3Bvc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCx1bmJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxyZW5kZXJDb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxyZW5kZXJEZWZhdWx0Q29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsZ2V0UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLHNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGdldEhzdlNhdHVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIsc2V0SHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixnZXRIc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixzZXRIc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cixcbnBhcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLHJnYlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLGhleFRvUmdiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLGhzdlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLGJsZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLGh1ZVRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLHRva2VuaXplSW50ZXJwb2xhdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyx0b2tlbml6ZUludGVycG9sYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nLHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcsY2hlY2tNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcsXG5wYXJzZUJsb2NrQ29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyxnZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsdGVzdE9ubHlfc2V0RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsaXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGhpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LGhpZGVJZk93bmVySXNJbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixwb3NpdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LHBvc2l0aW9uV2l0aEFuY2hvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixcbmNhbGN1bGF0ZVgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsY2FsY3VsYXRlWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixpc1JlcG9zaXRpb25hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LHJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYsZ2V0Q3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsc2V0Q3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LHBvcHVsYXRlXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LHBvc2l0aW9uXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LGNyZWF0ZVdpZGdldF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSxoYWx0UHJvcGFnYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSxcbmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSxkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsbW91c2VUb1dvcmtzcGFjZVBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyxzdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcsbW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcsd29ya3NwYWNlVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsc2F2ZVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsdmFyaWFibGVzVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsYmxvY2tUb0RvbVdpdGhYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxmaWVsZFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGFsbEZpZWxkc1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGJsb2NrVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsXG5jbG9uZVNoYWRvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxkb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsZG9tVG9QcmV0dHlUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGNsZWFyV29ya3NwYWNlQW5kTG9hZEZyb21YbWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsbG9hZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsYXBwZW5kRG9tVG9Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsZG9tVG9CbG9ja0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGRvbVRvVmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLG1hcFN1cHBvcnRlZFhtbFRhZ3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsYXBwbHlNdXRhdGlvblRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGFwcGx5Q29tbWVudFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLFxuYXBwbHlEYXRhVGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsYXBwbHlGaWVsZFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGZpbmRDaGlsZEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxhcHBseUlucHV0VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsYXBwbHlOZXh0VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsZG9tVG9CbG9ja0hlYWRsZXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLGRvbVRvRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwsZGVsZXRlTmV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCxpc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwscmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSx1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnksZnJvbUpzb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5LFxuaXNJbWFnZVByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bix1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxpc1JlZ2lzdGVyZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLGFwcGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja05vTXV0YXRvclByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLGNoZWNrWG1sSG9va3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLGNoZWNrSnNvbkhvb2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja011dGF0b3JEaWFsb2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLGNoZWNrSGFzRnVuY3Rpb25QYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja0hhc011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxcbmdldE11dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxtdXRhdG9yUHJvcGVydGllc01hdGNoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxydW5BZnRlclBhZ2VMb2FkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyxjaGVja0Ryb3Bkb3duT3B0aW9uc0luVGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLGV4dGVuc2lvblBhcmVudFRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLGN1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLG1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxtb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMsbGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLFxubGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLGFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyxjb25uZWN0UmVjaXByb2NhbGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbixnZXRTaW5nbGVDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbixnZXRDb25uZWN0aW9uRm9yT3JwaGFuZWRPdXRwdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLGlzSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9pY29uLGlzQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29tbWVudF9pY29uLGRpc3Bvc2VVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsZGlzcG9zZVVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsXG5jb25uZWN0aW9uVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLGRpc2Nvbm5lY3RVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsZGlzY29ubmVjdFVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsZGlzY29ubmVjdFVpU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsbW92ZUJsb2NrVG9Ob3RDb25mbGljdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXIsYmxvY2tPdmVybGFwc090aGVyRXhhY3RseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXIsYmxvY2tJc0luU25hcFJhZGl1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXIsYnVtcE9iamVjdEludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMsYnVtcEludG9Cb3VuZHNIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzLFxuZXh0cmFjdE9iamVjdEZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyxidW1wVG9wT2JqZWN0c0ludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMsaXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlLGdldEJsb2NrTmF2aWdhdGlvbkNhbmRpZGF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3ksbmF2aWdhdGVTdGFja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3ksbmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeSxyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5LHVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRyZWdpc3RyeSxcbmlzRHJhZ2dhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZSxpc0F1dG9IaWRlYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9hdXRvaGlkZWFibGUsaXNQcm9jZWR1cmVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2ssaXNPYnNlcnZhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX29ic2VydmFibGUsYWxsUHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMscHJvY1R1cGxlQ29tcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsaXNMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLGlzTmFtZVVzZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLHhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxpbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxcbmZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyx1cGRhdGVNdXRhdG9yRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxtdXRhdG9yT3Blbkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxtdXRhdG9yQ2hhbmdlTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLGdldENhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLGJsb2NrSXNNb2Rlcm5DYWxsZXJGb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLGlzRHluYW1pY1NoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMsaXNQdXp6bGVUYWIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cyxpc05vdGNoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMscmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZyxcbnVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZyxpbml0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcsc3RyaW5nQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsbnVtYmVyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsY29sb3VyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLGZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMseG1sRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyxcbmZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMscmVzaXplU3ZnQ29udGVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnLGNvcHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsZ2V0TGFzdENvcGllZERhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsc2V0TGFzdENvcGllZERhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsZ2V0TGFzdENvcGllZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCxzZXRMYXN0Q29waWVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLGdldExhc3RDb3BpZWRMb2NhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCxzZXRMYXN0Q29waWVkTG9jYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQscGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsXG5wYXN0ZUZyb21EYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLGlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGUscmVnaXN0ZXJFc2NhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyxyZWdpc3RlckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLGlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyxpc0N1dHRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMscmVnaXN0ZXJDb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMscmVnaXN0ZXJDdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyxyZWdpc3RlclBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMscmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMsXG5yZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyxyZWdpc3RlckRlZmF1bHRTaG9ydGN1dHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyxzYXZlUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzLGxvYWRQcm9jZWR1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXMsc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlcyxsb2FkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzLGluamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdCxjcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QsY3JlYXRlTWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdCxpbml0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0LFxuYmluZERvY3VtZW50RXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0LGxvYWRTb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QsaXNGdWxsQmxvY2tGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyUmVkbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ2xlYW51cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHRvZ2dsZU9wdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckNvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJFeHBhbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxhZGREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMsXG5nZXREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMsZGVsZXRlTmV4dF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckRlbGV0ZUFsbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyV29ya3NwYWNlT3B0aW9uc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckR1cGxpY2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVySW5saW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJDb2xsYXBzZUV4cGFuZEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMscmVnaXN0ZXJEaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMsXG5yZWdpc3RlckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVySGVscCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ29tbWVudER1cGxpY2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQmxvY2tPcHRpb25zXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLHJlZ2lzdGVyQ29tbWVudE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyxyZWdpc3RlckRlZmF1bHRPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMsaXNQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcGFzdGVyLFxuaXNSZW5kZXJlZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcmVuZGVyZWRfZWxlbWVudCxpc1NlbGVjdGFibGVUb29sYm94SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlX3Rvb2xib3hfaXRlbSxoaWRlQ2hhZmYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LGlzRm9jdXNhYmxlVHJlZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfdHJlZSwkanNjb21wO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1mdW5jdGlvbihhLGIsYyxkKXtpZighKGEgaW5zdGFuY2VvZiBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkpJiZ0eXBlb2YgYSE9PVwic3RyaW5nXCJ8fGAke2F9YC50cmltKCk9PT1cIlwiKXRocm93IEVycm9yKCdJbnZhbGlkIHR5cGUgXCInK2ErJ1wiLiBUaGUgdHlwZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIEJsb2NrbHkucmVnaXN0cnkuVHlwZS4nKTthPWAke2F9YC50b0xvd2VyQ2FzZSgpO2lmKHR5cGVvZiBiIT09XCJzdHJpbmdcInx8Yi50cmltKCk9PT1cIlwiKXRocm93IEVycm9yKCdJbnZhbGlkIG5hbWUgXCInK2IrJ1wiLiBUaGUgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nKTtjb25zdCBlPWIudG9Mb3dlckNhc2UoKTtpZighYyl0aHJvdyBFcnJvcihcIkNhbiBub3QgcmVnaXN0ZXIgYSBudWxsIHZhbHVlXCIpO2xldCBmPXR5cGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXSxcbmc9bmFtZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdO2Z8fChmPXR5cGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXT1PYmplY3QuY3JlYXRlKG51bGwpLGc9bmFtZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdPU9iamVjdC5jcmVhdGUobnVsbCkpO3ZhbGlkYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoYSxjKTtpZighZCYmZltlXSYmZltlXSE9PWMpdGhyb3cgRXJyb3IoJ05hbWUgXCInK2UrJ1wiIHdpdGggdHlwZSBcIicrYSsnXCIgYWxyZWFkeSByZWdpc3RlcmVkLicpO2ZbZV09YztnW2VdPWJ9O1xudmFsaWRhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1mdW5jdGlvbihhLGIpe3N3aXRjaChhKXtjYXNlIFN0cmluZyhUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRklFTEQpOmlmKHR5cGVvZiBiLmZyb21Kc29uIT09XCJmdW5jdGlvblwiKXRocm93IEVycm9yKCdUeXBlIFwiJythKydcIiBtdXN0IGhhdmUgYSBmcm9tSnNvbiBmdW5jdGlvbicpO319O1xudW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYil7YT1gJHthfWAudG9Mb3dlckNhc2UoKTtiPWIudG9Mb3dlckNhc2UoKTtjb25zdCBjPXR5cGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXTtjJiZjW2JdPyhkZWxldGUgdHlwZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdW2JdLGRlbGV0ZSBuYW1lTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV1bYl0pOmNvbnNvbGUud2FybihcIlVuYWJsZSB0byB1bnJlZ2lzdGVyIFtcIitiK1wiXVtcIithK1wiXSBmcm9tIHRoZSByZWdpc3RyeS5cIil9O1xuZ2V0SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEsYixjKXthPWAke2F9YC50b0xvd2VyQ2FzZSgpO2I9Yi50b0xvd2VyQ2FzZSgpO2NvbnN0IGQ9dHlwZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5W2FdO2lmKCFkfHwhZFtiXSl7Yj1cIlVuYWJsZSB0byBmaW5kIFtcIitiK1wiXVtcIithK1wiXSBpbiB0aGUgcmVnaXN0cnkuXCI7aWYoYyl0aHJvdyBFcnJvcihiK1wiIFlvdSBtdXN0IHJlcXVpcmUgb3IgcmVnaXN0ZXIgYSBcIithK1wiIHBsdWdpbi5cIik7Y29uc29sZS53YXJuKGIpO3JldHVybiBudWxsfXJldHVybiBkW2JdfTtoYXNJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiKXthPWAke2F9YC50b0xvd2VyQ2FzZSgpO2I9Yi50b0xvd2VyQ2FzZSgpO3JldHVybihhPXR5cGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeVthXSk/ISFhW2JdOiExfTtcbmdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBnZXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoYSxiLGMpfTtnZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGdldEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShhLGIsYyl9O1xuZ2V0QWxsSXRlbXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1mdW5jdGlvbihhLGIsYyl7YT1gJHthfWAudG9Mb3dlckNhc2UoKTt2YXIgZD10eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV07aWYoIWQpe2Q9YFVuYWJsZSB0byBmaW5kIFske2F9XSBpbiB0aGUgcmVnaXN0cnkuYDtpZihjKXRocm93IEVycm9yKGAke2R9IFlvdSBtdXN0IHJlcXVpcmUgb3IgcmVnaXN0ZXIgYSAke2F9IHBsdWdpbi5gKTtjb25zb2xlLndhcm4oZCk7cmV0dXJuIG51bGx9aWYoIWIpcmV0dXJuIGQ7YT1uYW1lTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnlbYV07Yz1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKGQpKWNbYVtlXV09ZFtlXTtyZXR1cm4gY307XG5nZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiLGMpe2I9Yi5wbHVnaW5zW1N0cmluZyhhKV18fERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTtyZXR1cm4gdHlwZW9mIGI9PT1cImZ1bmN0aW9uXCI/YjpnZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KGEsYixjKX07bG9uZ1N0YXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9ZnVuY3Rpb24oYSxiKXtsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7bG9uZ1BpZF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YiYmYi5oYW5kbGVSaWdodENsaWNrKGEpfSxMT05HUFJFU1MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCl9O1xubG9uZ1N0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1mdW5jdGlvbigpe2xvbmdQaWRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2gmJihjbGVhclRpbWVvdXQobG9uZ1BpZF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCksbG9uZ1BpZF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD0wKX07Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1mdW5jdGlvbigpe3RvdWNoSWRlbnRpZmllcl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1udWxsfTtzaG91bGRIYW5kbGVFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPWZ1bmN0aW9uKGEpe3JldHVybiFhLnR5cGUuc3RhcnRzV2l0aChcInBvaW50ZXJcIil8fGEgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQmJmNoZWNrVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goYSl9O1xuZ2V0VG91Y2hJZGVudGlmaWVyRnJvbUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9ZnVuY3Rpb24oYSl7cmV0dXJuYCR7YS5wb2ludGVySWR9YH07Y2hlY2tUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1mdW5jdGlvbihhKXtjb25zdCBiPWdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEpO3JldHVybiB0b3VjaElkZW50aWZpZXJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g/dG91Y2hJZGVudGlmaWVyXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPT09YjphLnR5cGU9PT1cInBvaW50ZXJkb3duXCI/KHRvdWNoSWRlbnRpZmllcl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD1iLCEwKTohMX07XG5jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhLGIsYyxkLGUpe2Z1bmN0aW9uIGYoaCl7aWYoZXx8c2hvdWxkSGFuZGxlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaChoKSljP2QuY2FsbChjLGgpOmQoaCl9Y29uc3QgZz1bXTtpZihiIGluIFRPVUNIX01BUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKWZvcihsZXQgaD0wO2g8VE9VQ0hfTUFQJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2hbYl0ubGVuZ3RoO2grKyl7Y29uc3Qgaz1UT1VDSF9NQVAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaFtiXVtoXTthLmFkZEV2ZW50TGlzdGVuZXIoayxmLCExKTtnLnB1c2goW2EsayxmXSl9ZWxzZSBhLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSxnLnB1c2goW2EsYixmXSk7cmV0dXJuIGd9O1xuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzPWZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoZyl7Yz9kLmNhbGwoYyxnKTpkKGcpfWNvbnN0IGY9W107aWYoYiBpbiBUT1VDSF9NQVAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaClmb3IobGV0IGc9MDtnPFRPVUNIX01BUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoW2JdLmxlbmd0aDtnKyspe2NvbnN0IGg9VE9VQ0hfTUFQJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2hbYl1bZ107YS5hZGRFdmVudExpc3RlbmVyKGgsZSwhMSk7Zi5wdXNoKFthLGgsZV0pfWVsc2UgYS5hZGRFdmVudExpc3RlbmVyKGIsZSwhMSksZi5wdXNoKFthLGIsZV0pO3JldHVybiBmfTtcbnVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzPWZ1bmN0aW9uKGEpe2NvbnN0IGI9YVthLmxlbmd0aC0xXVsyXTtmb3IoO2EubGVuZ3RoOyl7Y29uc3QgW2MsZCxlXT1hLnBvcCgpO2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGUsITEpfXJldHVybiBifTtcbmlzVGFyZ2V0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhKXtpZihhLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtpZihhLnRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZXx8YS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pcy10ZXh0LWlucHV0XCIpPT09XCJ0cnVlXCIpcmV0dXJuITA7aWYoYS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KXJldHVybiBhPWEudGFyZ2V0LGEudHlwZT09PVwidGV4dFwifHxhLnR5cGU9PT1cIm51bWJlclwifHxhLnR5cGU9PT1cImVtYWlsXCJ8fGEudHlwZT09PVwicGFzc3dvcmRcInx8YS50eXBlPT09XCJzZWFyY2hcInx8YS50eXBlPT09XCJ0ZWxcInx8YS50eXBlPT09XCJ1cmxcIjtpZihhLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpcmV0dXJuITB9cmV0dXJuITF9O1xuaXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLmN0cmxLZXkmJk1BQyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD8hMDphLmJ1dHRvbj09PTJ9O21vdXNlVG9TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1iLmNyZWF0ZVNWR1BvaW50KCk7ZC54PWEuY2xpZW50WDtkLnk9YS5jbGllbnRZO2N8fChjPWIuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtyZXR1cm4gZC5tYXRyaXhUcmFuc2Zvcm0oYyl9O1xuZ2V0U2Nyb2xsRGVsdGFQaXhlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz1mdW5jdGlvbihhKXtzd2l0Y2goYS5kZWx0YU1vZGUpe2RlZmF1bHQ6cmV0dXJue3g6YS5kZWx0YVgseTphLmRlbHRhWX07Y2FzZSAxOnJldHVybnt4OmEuZGVsdGFYKkxJTkVfTU9ERV9NVUxUSVBMSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMseTphLmRlbHRhWSpMSU5FX01PREVfTVVMVElQTElFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzfTtjYXNlIDI6cmV0dXJue3g6YS5kZWx0YVgqUEFHRV9NT0RFX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyx5OmEuZGVsdGFZKlBBR0VfTU9ERV9NVUxUSVBMSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHN9fX07XG5nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcj1mdW5jdGlvbigpe3JldHVyblwiYmxvY2tseS1cIisobmV4dElkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IrKykudG9TdHJpbmcoMzYpfTtnZW5VaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBpbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yLmdlblVpZCgpfTtpc0Jsb2NrQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURX07XG5pc0Jsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RFTEVURX07aXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0V9O2lzQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFfTtcbmlzQmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkV9O2lzVmFyQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9DUkVBVEV9O2lzVmFyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9ERUxFVEV9O2lzVmFyUmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9SRU5BTUV9O1xuaXNCbG9ja0RyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRFJBR307aXNTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5TRUxFQ1RFRH07aXNDbGljayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DTElDS307aXNCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJVQkJMRV9PUEVOfTtcbmlzVHJhc2hjYW5PcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRSQVNIQ0FOX09QRU59O2lzVG9vbGJveEl0ZW1TZWxlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVE9PTEJPWF9JVEVNX1NFTEVDVH07aXNUaGVtZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5USEVNRV9DSEFOR0V9O1xuaXNWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WSUVXUE9SVF9DSEFOR0V9O2lzQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NSRUFURX07aXNDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfREVMRVRFfTtcbmlzQ29tbWVudENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NIQU5HRX07aXNDb21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX01PVkV9O2lzQ29tbWVudFJlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX1JFU0laRX07XG5pc0NvbW1lbnREcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfRFJBR307aXNDb21tZW50Q29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DT0xMQVBTRX07aXNGaW5pc2hlZExvYWRpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuRklOSVNIRURfTE9BRElOR307XG4kLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7cmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1hfTtnZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHN9O2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmZpcmVJbnRlcm5hbChhKX07XG5maXJlSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7aWYoaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpe2lmKCFGSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmxlbmd0aCl0cnl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57c2V0VGltZW91dChmaXJlTm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLDApfSl9Y2F0Y2goYil7c2V0VGltZW91dChmaXJlTm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLDApfWVucXVldWVFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX19O1xuZmlyZU5vdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbigpe2NvbnN0IGE9ZmlsdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEZJUkVfUVVFVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMpO0ZJUkVfUVVFVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMubGVuZ3RoPTA7Zm9yKGNvbnN0IGIgb2YgYSl7aWYoIWIud29ya3NwYWNlSWQpY29udGludWU7bGV0IGM7KGM9Z2V0V29ya3NwYWNlQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihiLndvcmtzcGFjZUlkKSk9PW51bGx8fGMuZmlyZUNoYW5nZUxpc3RlbmVyKGIpfX07XG5lbnF1ZXVlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7aWYoaXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpJiZhLmVsZW1lbnQ9PT1cIm11dGF0aW9uXCIpe2xldCBiO2ZvcihiPUZJUkVfUVVFVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMubGVuZ3RoO2I+MDtiLS0pe2NvbnN0IGM9RklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsc1tiLTFdO2lmKGMuZ3JvdXAhPT1hLmdyb3VwfHxjLndvcmtzcGFjZUlkIT09YS53b3Jrc3BhY2VJZHx8IWlzQmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYyl8fGMubmV3UGFyZW50SWQhPT1hLmJsb2NrSWQpYnJlYWt9RklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5zcGxpY2UoYiwwLGEpfWVsc2UgRklSRV9RVUVVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5wdXNoKGEpfTtcbmZpbHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbihhKXtjb25zdCBiPVtdO2Zvcihjb25zdCBjIG9mIGEpaWYoYT1iW2IubGVuZ3RoLTFdLCFjLmlzTnVsbCgpKWlmKGEmJmEud29ya3NwYWNlSWQ9PT1jLndvcmtzcGFjZUlkJiZhLmdyb3VwPT09Yy5ncm91cClpZihpc0Jsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGMpJiZpc0Jsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpJiZjLmJsb2NrSWQ9PT1hLmJsb2NrSWQpe2lmKGEubmV3UGFyZW50SWQ9Yy5uZXdQYXJlbnRJZCxhLm5ld0lucHV0TmFtZT1jLm5ld0lucHV0TmFtZSxhLm5ld0Nvb3JkaW5hdGU9Yy5uZXdDb29yZGluYXRlLGEucmVhc29ufHxjLnJlYXNvbil7bGV0IGQsZTthLnJlYXNvbj1BcnJheS5mcm9tKG5ldyBTZXQoKChkPWEucmVhc29uKSE9bnVsbD9kOltdKS5jb25jYXQoKGU9Yy5yZWFzb24pIT1cbm51bGw/ZTpbXSkpKX19ZWxzZSBpc0Jsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYykmJmlzQmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKSYmYy5ibG9ja0lkPT09YS5ibG9ja0lkJiZjLmVsZW1lbnQ9PT1hLmVsZW1lbnQmJmMubmFtZT09PWEubmFtZT9hLm5ld1ZhbHVlPWMubmV3VmFsdWU6aXNWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGMpJiZpc1ZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSk/KGEudmlld1RvcD1jLnZpZXdUb3AsYS52aWV3TGVmdD1jLnZpZXdMZWZ0LGEuc2NhbGU9Yy5zY2FsZSxhLm9sZFNjYWxlPWMub2xkU2NhbGUpOmlzQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhjKSYmaXNCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSl8fFxuYi5wdXNoKGMpO2Vsc2UgYi5wdXNoKGMpO3JldHVybiBhPWIuZmlsdGVyKGM9PiFjLmlzTnVsbCgpKX07Y2xlYXJQZW5kaW5nVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbigpe2ZvcihsZXQgYT0wLGI7Yj1GSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzW2FdO2ErKyliLnJlY29yZFVuZG89ITF9OyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1mdW5jdGlvbigpe2Rpc2FibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKyt9OyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKCl7ZGlzYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMtLX07XG5pc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gZGlzYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9PT0wfTskLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKCl7cmV0dXJuIGdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzfTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe1RFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5zZXRHcm91cEludGVybmFsKGEpfTtcbnNldEdyb3VwSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7Z3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9dHlwZW9mIGE9PT1cImJvb2xlYW5cIj9hP2dlblVpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCk6XCJcIjphfTtnZXREZXNjZW5kYW50SWRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe2NvbnN0IGI9W107YT1hLmdldERlc2NlbmRhbnRzKCExKTtmb3IobGV0IGM9MCxkO2Q9YVtjXTtjKyspYltjXT1kLmlkO3JldHVybiBifTtcbmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1nZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYS50eXBlKTtpZighYyl0aHJvdyBFcnJvcihcIlVua25vd24gZXZlbnQgdHlwZS5cIik7cmV0dXJuIGMuZnJvbUpzb24oYSxiKX07Z2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPWZ1bmN0aW9uKGEpe2NvbnN0IGI9Z2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsYSk7aWYoIWIpdGhyb3cgRXJyb3IoYEV2ZW50IHR5cGUgJHthfSBub3QgZm91bmQgaW4gcmVnaXN0cnkuYCk7cmV0dXJuIGJ9O1xuZGlzYWJsZU9ycGhhbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ZnVuY3Rpb24oYSl7aWYoKGlzQmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSl8fGlzQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKSkmJmEud29ya3NwYWNlSWQpe3ZhciBiPWdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYS53b3Jrc3BhY2VJZCk7aWYoIWEuYmxvY2tJZCl0aHJvdyBFcnJvcihcIkVuY291bnRlcmVkIGEgYmxvY2tFdmVudCB3aXRob3V0IGEgcHJvcGVyIGJsb2NrSWRcIik7aWYoYT1iLmdldEJsb2NrQnlJZChhLmJsb2NrSWQpKXtjb25zdCBjPXJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7dHJ5e3JlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9ITE7Y29uc3QgZD1hLmdldFBhcmVudCgpO1xuaWYoZCYmIWQuaGFzRGlzYWJsZWRSZWFzb24oT1JQSEFORURfQkxPQ0tfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKSl7Y29uc3QgZT1hLmdldERlc2NlbmRhbnRzKCExKTtmb3IobGV0IGY9MCxnO2c9ZVtmXTtmKyspZy5zZXREaXNhYmxlZFJlYXNvbighMSxPUlBIQU5FRF9CTE9DS19ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMpfWVsc2UgaWYoKGEub3V0cHV0Q29ubmVjdGlvbnx8YS5wcmV2aW91c0Nvbm5lY3Rpb24pJiYhYi5pc0RyYWdnaW5nKCkpe2RvIGEuc2V0RGlzYWJsZWRSZWFzb24oITAsT1JQSEFORURfQkxPQ0tfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKSxhPWEuZ2V0TmV4dEJsb2NrKCk7d2hpbGUoYSl9fWZpbmFsbHl7cmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz1jfX19fTtcbmNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSxiLGMpe2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxgJHthfWApO2Zvcihjb25zdCBkIGluIGIpYS5zZXRBdHRyaWJ1dGUoZCxgJHtiW2RdfWApO2MmJmMuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGF9O2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYil7Yj1iLnNwbGl0KFwiIFwiKTtpZihiLmV2ZXJ5KGM9PmEuY2xhc3NMaXN0LmNvbnRhaW5zKGMpKSlyZXR1cm4hMTthLmNsYXNzTGlzdC5hZGQoLi4uYik7cmV0dXJuITB9O3JlbW92ZUNsYXNzZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSxiKXthLmNsYXNzTGlzdC5yZW1vdmUoLi4uYi5zcGxpdChcIiBcIikpfTtcbnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYil7Yj1iLnNwbGl0KFwiIFwiKTtpZihiLmV2ZXJ5KGM9PiFhLmNsYXNzTGlzdC5jb250YWlucyhjKSkpcmV0dXJuITE7YS5jbGFzc0xpc3QucmVtb3ZlKC4uLmIpO3JldHVybiEwfTtoYXNDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmNsYXNzTGlzdC5jb250YWlucyhiKX07cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5wYXJlbnROb2RlP2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTpudWxsfTtcbmluc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLm5leHRTaWJsaW5nO2I9Yi5wYXJlbnROb2RlO2lmKCFiKXRocm93IEVycm9yKFwiUmVmZXJlbmNlIG5vZGUgaGFzIG5vIHBhcmVudC5cIik7Yz9iLmluc2VydEJlZm9yZShhLGMpOmIuYXBwZW5kQ2hpbGQoYSl9O3NldENzc1RyYW5zZm9ybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIpe2Euc3R5bGUudHJhbnNmb3JtPWI7YS5zdHlsZVtcIi13ZWJraXQtdHJhbnNmb3JtXCJdPWJ9O1xuc3RhcnRUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbigpe2NhY2hlUmVmZXJlbmNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKys7Y2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb218fChjYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1PYmplY3QuY3JlYXRlKG51bGwpKX07c3RvcFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKCl7Y2FjaGVSZWZlcmVuY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20tLTtjYWNoZVJlZmVyZW5jZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbXx8KGNhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPW51bGwpfTtcbmdldFRleHRXaWR0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhKXtjb25zdCBiPWEudGV4dENvbnRlbnQrXCJcXG5cIithLmNsYXNzTmFtZS5iYXNlVmFsO3ZhciBjO2lmKGNhY2hlV2lkdGhzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tJiYoYz1jYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbVtiXSkpcmV0dXJuIGM7Yz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKTtjPWdldEZhc3RUZXh0V2lkdGhXaXRoU2l6ZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGMuZm9udFNpemUsYy5mb250V2VpZ2h0LGMuZm9udEZhbWlseSk7Y2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20mJihjYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbVtiXT1jKTtyZXR1cm4gY307XG5nZXRGYXN0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBnZXRGYXN0VGV4dFdpZHRoV2l0aFNpemVTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiK1wicHRcIixjLGQpfTtcbmdldEZhc3RUZXh0V2lkdGhXaXRoU2l6ZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPWEudGV4dENvbnRlbnQ7YT1lK1wiXFxuXCIrYS5jbGFzc05hbWUuYmFzZVZhbDt2YXIgZjtpZihjYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSYmKGY9Y2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb21bYV0pKXJldHVybiBmO2NhbnZhc0NvbnRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb218fChmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksZi5jbGFzc05hbWU9XCJibG9ja2x5Q29tcHV0ZUNhbnZhc1wiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZiksY2FudmFzQ29udGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1mLmdldENvbnRleHQoXCIyZFwiKSk7ZSYmY2FudmFzQ29udGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT9cbihjYW52YXNDb250ZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmZvbnQ9YytcIiBcIitiK1wiIFwiK2QsZj1jYW52YXNDb250ZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLm1lYXN1cmVUZXh0KGUpLndpZHRoKTpmPTA7Y2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20mJihjYWNoZVdpZHRocyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbVthXT1mKTtyZXR1cm4gZn07XG5tZWFzdXJlRm9udE1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtlLnN0eWxlLmZvbnQ9YytcIiBcIitiK1wiIFwiK2Q7ZS50ZXh0Q29udGVudD1hO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnN0eWxlLndpZHRoPVwiMXB4XCI7YS5zdHlsZS5oZWlnaHQ9XCIwXCI7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Iuc3R5bGUuZGlzcGxheT1cImZsZXhcIjtiLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIjtiLnN0eWxlLnRvcD1cIjBcIjtiLnN0eWxlLmxlZnQ9XCIwXCI7Yi5hcHBlbmRDaGlsZChlKTtiLmFwcGVuZENoaWxkKGEpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYik7Yz17aGVpZ2h0OjAsYmFzZWxpbmU6MH07dHJ5e2Iuc3R5bGUuYWxpZ25JdGVtcz1cImJhc2VsaW5lXCIsYy5iYXNlbGluZT1hLm9mZnNldFRvcC1lLm9mZnNldFRvcCxiLnN0eWxlLmFsaWduSXRlbXM9XG5cImZsZXgtZW5kXCIsYy5oZWlnaHQ9YS5vZmZzZXRUb3AtZS5vZmZzZXRUb3B9ZmluYWxseXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGIpfXJldHVybiBjfTskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5nZXRGb2N1c01hbmFnZXIoKX07aXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYS5nZXRGb2N1c2FibGVFbGVtZW50PT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5nZXRGb2N1c2FibGVUcmVlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5vbk5vZGVGb2N1cz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEub25Ob2RlQmx1cj09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuY2FuQmVGb2N1c2VkPT09XCJmdW5jdGlvblwifTtcbmlzU2VsZWN0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBpc0ZvY3VzYWJsZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGUoYSkmJnR5cGVvZiBhLmlkPT09XCJzdHJpbmdcIiYmdHlwZW9mIGEud29ya3NwYWNlPT09XCJvYmplY3RcIiYmdHlwZW9mIGEuc2VsZWN0PT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS51bnNlbGVjdD09PVwiZnVuY3Rpb25cIn07XG5kZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3Q9ZnVuY3Rpb24oYSxiKXtmb3IoY29uc3QgYyBpbiBiKWJbY10hPT1udWxsJiZBcnJheS5pc0FycmF5KGJbY10pP2FbY109ZGVlcE1lcmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0KGFbY118fFtdLGJbY10pOmFbY109YltjXSE9PW51bGwmJnR5cGVvZiBiW2NdPT09XCJvYmplY3RcIj9kZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoYVtjXXx8T2JqZWN0LmNyZWF0ZShudWxsKSxiW2NdKTpiW2NdO3JldHVybiBhfTtnZXRXb3Jrc3BhY2VCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe3JldHVybiBXb3Jrc3BhY2VEQl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb25bYV18fG51bGx9O1xuZ2V0QWxsV29ya3NwYWNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbigpe2NvbnN0IGE9W107Zm9yKGNvbnN0IGIgaW4gV29ya3NwYWNlREJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKWEucHVzaChXb3Jrc3BhY2VEQl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb25bYl0pO3JldHVybiBhfTtyZWdpc3RlcldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtXb3Jrc3BhY2VEQl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb25bYS5pZF09YX07dW5yZWdpc3RlcldvcmtwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe2RlbGV0ZSBXb3Jrc3BhY2VEQl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb25bYS5pZF19O2dldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oKXtyZXR1cm4gbWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbn07XG5zZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe21haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249YX07Z2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oKXtjb25zdCBhPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCk7cmV0dXJuIGEmJmlzU2VsZWN0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlKGEpP2E6bnVsbH07c2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpfTtcbmZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe2NvbnN0IGI9Z2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKTtsZXQgYyxkLGUsZjtjb25zdCBnPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlNFTEVDVEVEKSkoKGM9Yj09bnVsbD92b2lkIDA6Yi5pZCkhPW51bGw/YzpudWxsLChkPWE9PW51bGw/dm9pZCAwOmEuaWQpIT1udWxsP2Q6bnVsbCwoZj0oZT1hPT1udWxsP3ZvaWQgMDphLndvcmtzcGFjZS5pZCkhPW51bGw/ZTpiPT1udWxsP3ZvaWQgMDpiLndvcmtzcGFjZS5pZCkhPW51bGw/ZjpcIlwiKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGcpfTtnZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oKXtyZXR1cm4gcGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9ufTtcbnNldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtwYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249YX07XG5zdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7Zm9yKDthLm9wdGlvbnMucGFyZW50V29ya3NwYWNlOylhPWEub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2U7Y29uc3QgYj1hLmdldFBhcmVudFN2ZygpLGM9YS5nZXRDYWNoZWRQYXJlbnRTdmdTaXplKCk7dmFyIGQ9Yi5wYXJlbnRFbGVtZW50O2lmKGQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7dmFyIGU9ZC5vZmZzZXRXaWR0aDtkPWQub2Zmc2V0SGVpZ2h0O2Mud2lkdGghPT1lJiYoYi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGUrXCJweFwiKSxhLnNldENhY2hlZFBhcmVudFN2Z1NpemUoZSxudWxsKSk7Yy5oZWlnaHQhPT1kJiYoYi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixkK1wicHhcIiksYS5zZXRDYWNoZWRQYXJlbnRTdmdTaXplKG51bGwsZCkpO2EucmVzaXplKCl9fTtcbmdldEJsb2NrVHlwZUNvdW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhLGIpe2NvbnN0IGM9T2JqZWN0LmNyZWF0ZShudWxsKSxkPWEuZ2V0RGVzY2VuZGFudHMoITApO2ImJihhPWEuZ2V0TmV4dEJsb2NrKCkpJiYoYT1kLmluZGV4T2YoYSksZC5zcGxpY2UoYSxkLmxlbmd0aC1hKSk7Zm9yKGxldCBlPTAsZjtmPWRbZV07ZSsrKWNbZi50eXBlXT9jW2YudHlwZV0rKzpjW2YudHlwZV09MTtyZXR1cm4gY307anNvbkluaXRGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuanNvbkluaXQoYSl9fTtkZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpe1RFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5SW50ZXJuYWwoYSl9O1xuZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPWZ1bmN0aW9uKGEpeyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYSkpfTtcbiQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7Y29uc3QgYj17fTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdO2lmKCFkKXtjb25zb2xlLndhcm4oYEJsb2NrIGRlZmluaXRpb24gIyR7Y30gaW4gSlNPTiBhcnJheSBpcyAke2R9LiBTa2lwcGluZ2ApO2NvbnRpbnVlfWNvbnN0IGU9ZC50eXBlO2U/YltlXT17aW5pdDpqc29uSW5pdEZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oZCl9OmNvbnNvbGUud2FybihgQmxvY2sgZGVmaW5pdGlvbiAjJHtjfSBpbiBKU09OIGFycmF5IGlzIG1pc3NpbmcgYSB0eXBlIGF0dHJpYnV0ZS4gYCtcIlNraXBwaW5nLlwiKX1yZXR1cm4gYn07XG4kLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1mdW5jdGlvbihhKXtmb3IoY29uc3QgYiBvZiBPYmplY3Qua2V5cyhhKSl7Y29uc3QgYz1hW2JdO2IgaW4gQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzJiZjb25zb2xlLndhcm4oYEJsb2NrIGRlZmluaXRpb24gXCIke2J9XCIgb3ZlcndyaXRlcyBwcmV2aW91cyBkZWZpbml0aW9uLmApO0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrc1tiXT1jfX07XG5nbG9iYWxTaG9ydGN1dEhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249ZnVuY3Rpb24oYSl7bGV0IGI9Z2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpO2NvbnN0IGM9JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZ2V0Rm9jdXNlZFRyZWUoKTtmb3IoY29uc3QgZCBvZiBnZXRBbGxXb3Jrc3BhY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCkpaWYoYz09PWQpe2I9ZDticmVha31pZighaXNUYXJnZXRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpJiZiJiYoIWIucmVuZGVyZWR8fGIuaXNGbHlvdXR8fGIuaXNWaXNpYmxlKCkpKVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5vbktleURvd24oYixhKX07XG5yZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXk9ZnVuY3Rpb24oYSxiKXtiPWEuaW5kZXhPZihiKTtpZihiPT09LTEpcmV0dXJuITE7YS5zcGxpY2UoYiwxKTtyZXR1cm4hMH07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3M9ZnVuY3Rpb24oYSl7aWYoaW5qZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MpdGhyb3cgRXJyb3IoXCJDU1MgYWxyZWFkeSBpbmplY3RlZFwiKTtjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKz1cIlxcblwiK2F9O1xuaW5qZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzPWZ1bmN0aW9uKGEsYil7aW5qZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3N8fChpbmplY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcz0hMCxhJiYoYT1iLnJlcGxhY2UoL1tcXFxcL10kLyxcIlwiKSxiPWNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MucmVwbGFjZSgvPDw8UEFUSD4+Pi9nLGEpLGNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3M9XCJcIixhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxhLmlkPVwiYmxvY2tseS1jb21tb24tc3R5bGVcIixiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGIpLGEuYXBwZW5kQ2hpbGQoYiksZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUoYSxkb2N1bWVudC5oZWFkLmZpcnN0Q2hpbGQpKSl9O2dldFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT1mdW5jdGlvbihhKXtyZXR1cm4gVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuZ2V0U2l6ZUludGVybmFsKGEpfTtcbmdldFNpemVJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlPWZ1bmN0aW9uKGEpe2lmKGdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhLFwiZGlzcGxheVwiKSE9PVwibm9uZVwiKXJldHVybiBnZXRTaXplV2l0aERpc3BsYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhKTtjb25zdCBiPWEuc3R5bGUsYz1iLmRpc3BsYXksZD1iLnZpc2liaWxpdHksZT1iLnBvc2l0aW9uO2IudmlzaWJpbGl0eT1cImhpZGRlblwiO2IucG9zaXRpb249XCJhYnNvbHV0ZVwiO2IuZGlzcGxheT1cImlubGluZVwiO2NvbnN0IGY9YS5vZmZzZXRXaWR0aDthPWEub2Zmc2V0SGVpZ2h0O2IuZGlzcGxheT1jO2IucG9zaXRpb249ZTtiLnZpc2liaWxpdHk9ZDtyZXR1cm4gbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGYsYSl9O1xuZ2V0U2l6ZVdpdGhEaXNwbGF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShhLm9mZnNldFdpZHRoLGEub2Zmc2V0SGVpZ2h0KX07Z2V0Q29tcHV0ZWRTdHlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlPWZ1bmN0aW9uKGEsYil7YT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKTtyZXR1cm4gYVtiXXx8YS5nZXRQcm9wZXJ0eVZhbHVlKGIpfTtcbmdldFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT1mdW5jdGlvbihhKXtjb25zdCBiPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO2E9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Yz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUod2luZG93LnBhZ2VYT2Zmc2V0fHxjLnNjcm9sbExlZnQsd2luZG93LnBhZ2VZT2Zmc2V0fHxjLnNjcm9sbFRvcCk7Yi54PWEubGVmdCtjLng7Yi55PWEudG9wK2MueTtyZXR1cm4gYn07XG5nZXRWaWV3cG9ydFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT1mdW5jdGlvbigpe2NvbnN0IGE9ZG9jdW1lbnQuYm9keSxiPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEuc2Nyb2xsTGVmdHx8Yi5zY3JvbGxMZWZ0LGEuc2Nyb2xsVG9wfHxiLnNjcm9sbFRvcCl9O1xuZ2V0Qm9yZGVyQm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oYSl7Y29uc3QgYj1wYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhLFwiYm9yZGVyTGVmdFdpZHRoXCIpKSxjPXBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGEsXCJib3JkZXJSaWdodFdpZHRoXCIpKSxkPXBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGEsXCJib3JkZXJUb3BXaWR0aFwiKSk7YT1wYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhLFwiYm9yZGVyQm90dG9tV2lkdGhcIikpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoZCxhLGIsYyl9O1xuc2Nyb2xsSW50b0NvbnRhaW5lclZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT1mdW5jdGlvbihhLGIsYyl7YT1nZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhLGIsYyk7Yi5zY3JvbGxMZWZ0PWEueDtiLnNjcm9sbFRvcD1hLnl9O1xuZ2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWdldFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShhKSxlPWdldFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShiKSxmPWdldEJvcmRlckJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGIpO2NvbnN0IGc9ZC54LWUueC1mLmxlZnQ7ZD1kLnktZS55LWYudG9wO2U9Z2V0U2l6ZVdpdGhEaXNwbGF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSk7YT1iLmNsaWVudFdpZHRoLWUud2lkdGg7ZT1iLmNsaWVudEhlaWdodC1lLmhlaWdodDtmPWIuc2Nyb2xsTGVmdDtiPWIuc2Nyb2xsVG9wO2M/KGYrPWctYS8yLGIrPWQtZS8yKTooZis9TWF0aC5taW4oZyxNYXRoLm1heChnLWEsMCkpLGIrPU1hdGgubWluKGQsTWF0aC5tYXgoZC1cbmUsMCkpKTtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGYsYil9O1xuZ2V0UmVsYXRpdmVYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPWZ1bmN0aW9uKGEpe2NvbnN0IGI9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dmFyIGM9YS54JiZhLmdldEF0dHJpYnV0ZShcInhcIik7Y29uc3QgZD1hLnkmJmEuZ2V0QXR0cmlidXRlKFwieVwiKTtjJiYoYi54PXBhcnNlSW50KGMpKTtkJiYoYi55PXBhcnNlSW50KGQpKTtpZihjPShjPWEuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpKSYmYy5tYXRjaChYWV9SRUdFWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKSliLngrPU51bWJlcihjWzFdKSxjWzNdJiYoYi55Kz1OdW1iZXIoY1szXSkpOyhhPWEuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpJiZhLmluY2x1ZGVzKFwidHJhbnNsYXRlXCIpJiYoYT1hLm1hdGNoKFhZX1NUWUxFX1JFR0VYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgpKSYmKGIueCs9XG5OdW1iZXIoYVsxXSksYVszXSYmKGIueSs9TnVtYmVyKGFbM10pKSk7cmV0dXJuIGJ9O2dldEluamVjdGlvbkRpdlhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg9ZnVuY3Rpb24oYSl7bGV0IGI9MCxjPTA7Zm9yKDthOyl7Y29uc3QgZD1nZXRSZWxhdGl2ZVhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgoYSk7Yis9ZC54O2MrPWQueTtpZigoXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5pbmNsdWRlcyhcIiBpbmplY3Rpb25EaXYgXCIpKWJyZWFrO2E9YS5wYXJlbnROb2RlfXJldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYixjKX07XG5nZXRWaWV3cG9ydEJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD1mdW5jdGlvbigpe2NvbnN0IGE9Z2V0Vmlld3BvcnRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEueSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0K2EueSxhLngsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoK2EueCl9O2dldERvY3VtZW50U2Nyb2xsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg9ZnVuY3Rpb24oKXtjb25zdCBhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxiPXdpbmRvdztyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGIucGFnZVhPZmZzZXR8fGEuc2Nyb2xsTGVmdCxiLnBhZ2VZT2Zmc2V0fHxhLnNjcm9sbFRvcCl9O1xuc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLng7Yj1iLnk7Y29uc3QgZD1hLmdldEluamVjdGlvbkRpdigpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2M9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGMtZC5sZWZ0LGItZC50b3ApO2I9YS5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpO3JldHVybiBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaWZmZXJlbmNlKGMsYikuc2NhbGUoMS9hLnNjYWxlKX07XG53c1RvU2NyZWVuQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPWIuc2NhbGUoYS5zY2FsZSk7Yj1jLng7Yz1jLnk7Y29uc3QgZD1hLmdldEluamVjdGlvbkRpdigpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2E9YS5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpO3JldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYitkLmxlZnQrYS54LGMrZC50b3ArYS55KX07XG5pbmplY3REZXBlbmRlbmNpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9ZnVuY3Rpb24oYSl7KHtkb2N1bWVudDpkb2N1bWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1kb2N1bWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxET01QYXJzZXI6RE9NUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPURPTVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxYTUxTZXJpYWxpemVyOlhNTFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9WE1MU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbH09YSk7ZG9tUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPW5ldyBET01QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw7eG1sU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1cbm5ldyBYTUxTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sfTskLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGRvY3VtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLmNyZWF0ZUVsZW1lbnROUyhOQU1FX1NQQUNFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLGEpfTskLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbC5jcmVhdGVUZXh0Tm9kZShhKX07XG4kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1mdW5jdGlvbihhKXtsZXQgYj1kb21QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwucGFyc2VGcm9tU3RyaW5nKGEsXCJ0ZXh0L3htbFwiKTtpZihiJiZiLmRvY3VtZW50RWxlbWVudCYmIWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGgpcmV0dXJuIGIuZG9jdW1lbnRFbGVtZW50O2lmKChiPWRvbVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbC5wYXJzZUZyb21TdHJpbmcoYSxcInRleHQvaHRtbFwiKSkmJmIuYm9keS5maXJzdENoaWxkJiZiLmJvZHkuZmlyc3RDaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJ4bWxcIilyZXR1cm4gYi5ib2R5LmZpcnN0Q2hpbGQ7dGhyb3cgRXJyb3IoYERPTVBhcnNlciB3YXMgdW5hYmxlIHRvIHBhcnNlOiAke2F9YCk7fTtcbmRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1mdW5jdGlvbihhKXtyZXR1cm4gc2FuaXRpemVUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKHhtbFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwuc2VyaWFsaXplVG9TdHJpbmcoYSkpfTtzYW5pdGl6ZVRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShJTlZBTElEX0NPTlRST0xfQ0hBUlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwsYj0+YCYjJHtiLmNoYXJDb2RlQXQoMCl9O2ApfTtcbmNvbnZlcnRUb29sYm94RGVmVG9Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4gbnVsbDtpZihhIGluc3RhbmNlb2YgRWxlbWVudHx8dHlwZW9mIGE9PT1cInN0cmluZ1wiKWE9cGFyc2VUb29sYm94VHJlZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSksYT1jb252ZXJ0VG9Ub29sYm94SnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSk7dmFsaWRhdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKTtyZXR1cm4gYX07XG52YWxpZGF0ZVRvb2xib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PWZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5raW5kO2E9YS5jb250ZW50cztpZihiJiZiIT09RkxZT1VUX1RPT0xCT1hfS0lORCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3gmJmIhPT1DQVRFR09SWV9UT09MQk9YX0tJTkQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KXRocm93IEVycm9yKFwiSW52YWxpZCB0b29sYm94IGtpbmQgXCIrYitcIi4gUGxlYXNlIHN1cHBseSBlaXRoZXIgXCIrRkxZT1VUX1RPT0xCT1hfS0lORCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3grXCIgb3IgXCIrQ0FURUdPUllfVE9PTEJPWF9LSU5EJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveCk7aWYoIWEpdGhyb3cgRXJyb3IoXCJUb29sYm94IG11c3QgaGF2ZSBhIGNvbnRlbnRzIGF0dHJpYnV0ZS5cIik7fTtcbmNvbnZlcnRGbHlvdXREZWZUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS5jb250ZW50cz9hLmNvbnRlbnRzOkFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjAmJiFhWzBdLm5vZGVUeXBlP2E6eG1sVG9Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpOltdfTtoYXNDYXRlZ29yaWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtyZXR1cm4gVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5oYXNDYXRlZ29yaWVzSW50ZXJuYWwoYSl9O1xuaGFzQ2F0ZWdvcmllc0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4hMTtjb25zdCBiPWEua2luZDtyZXR1cm4gYj9iPT09Q0FURUdPUllfVE9PTEJPWF9LSU5EJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveDohIWEuY29udGVudHMuZmlsdGVyKGM9PmMua2luZC50b1VwcGVyQ2FzZSgpPT09XCJDQVRFR09SWVwiKS5sZW5ndGh9O2lzQ2F0ZWdvcnlDb2xsYXBzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuY29udGVudHM/ISFhLmNvbnRlbnRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5raW5kLnRvVXBwZXJDYXNlKCk9PT1cIkNBVEVHT1JZXCJ9KS5sZW5ndGg6ITF9O1xuY29udmVydFRvVG9vbGJveEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PWZ1bmN0aW9uKGEpe2NvbnN0IGI9e2NvbnRlbnRzOnhtbFRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKX07YSBpbnN0YW5jZW9mIE5vZGUmJmFkZEF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEsYik7cmV0dXJuIGJ9O1xueG1sVG9Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94PWZ1bmN0aW9uKGEpe2NvbnN0IGI9W107bGV0IGM9YS5jaGlsZE5vZGVzO2N8fChjPWEpO2ZvcihsZXQgZD0wLGU7ZT1jW2RdO2QrKyl7aWYoIWUudGFnTmFtZSljb250aW51ZTthPXt9O2NvbnN0IGY9ZS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7YS5raW5kPWY7Zj09PVwiQkxPQ0tcIj9hLmJsb2NreG1sPWU6ZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoPjAmJihhLmNvbnRlbnRzPXhtbFRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChlKSk7YWRkQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goZSxhKTtiLnB1c2goYSl9cmV0dXJuIGJ9O1xuYWRkQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9ZnVuY3Rpb24oYSxiKXtmb3IobGV0IGM9MDtjPGEuYXR0cmlidXRlcy5sZW5ndGg7YysrKXtjb25zdCBkPWEuYXR0cmlidXRlc1tjXTtkLm5vZGVOYW1lLmluY2x1ZGVzKFwiY3NzLVwiKT8oYi5jc3Njb25maWc9Yi5jc3Njb25maWd8fHt9LGIuY3NzY29uZmlnW2Qubm9kZU5hbWUucmVwbGFjZShcImNzcy1cIixcIlwiKV09ZC52YWx1ZSk6YltkLm5vZGVOYW1lXT1kLnZhbHVlfX07XG5wYXJzZVRvb2xib3hUcmVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1mdW5jdGlvbihhKXtsZXQgYj1udWxsO2lmKGEpaWYodHlwZW9mIGE9PT1cInN0cmluZ1wiKXtpZihiPSQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEpLGIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PVwieG1sXCIpdGhyb3cgVHlwZUVycm9yKFwiVG9vbGJveCBzaG91bGQgYmUgYW4gPHhtbD4gZG9jdW1lbnQuXCIpO31lbHNlIGEgaW5zdGFuY2VvZiBFbGVtZW50JiYoYj1hKTtyZXR1cm4gYn07XG5nZXRTdGFydFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjb25zdCBnPWYuc2Nyb2xsYmFyJiZmLnNjcm9sbGJhci5jYW5TY3JvbGxWZXJ0aWNhbGx5KCk7YS5ob3Jpem9udGFsPT09aG9yaXpvbnRhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuTEVGVD8oYz1lLmFic29sdXRlTWV0cmljcy5sZWZ0K2MsZyYmZi5SVEwmJihjKz1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzKSk6KGM9ZS5hYnNvbHV0ZU1ldHJpY3MubGVmdCtlLnZpZXdNZXRyaWNzLndpZHRoLWIud2lkdGgtYyxnJiYhZi5SVEwmJihjLT1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzKSk7YS52ZXJ0aWNhbD09PXZlcnRpY2FsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5UT1A/XG5hPWUuYWJzb2x1dGVNZXRyaWNzLnRvcCtkOihhPWUuYWJzb2x1dGVNZXRyaWNzLnRvcCtlLnZpZXdNZXRyaWNzLmhlaWdodC1iLmhlaWdodC1kLGYuc2Nyb2xsYmFyJiZmLnNjcm9sbGJhci5jYW5TY3JvbGxIb3Jpem9udGFsbHkoKSYmKGEtPVNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MpKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEsYStiLmhlaWdodCxjLGMrYi53aWR0aCl9O1xuZ2V0Q29ybmVyT3Bwb3NpdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm57aG9yaXpvbnRhbDpiLnRvb2xib3hNZXRyaWNzLnBvc2l0aW9uPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlR8fGEuaG9yaXpvbnRhbExheW91dCYmIWEuUlRMP2hvcml6b250YWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLlJJR0hUOmhvcml6b250YWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLkxFRlQsdmVydGljYWw6Yi50b29sYm94TWV0cmljcy5wb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5CT1RUT00/dmVydGljYWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLlRPUDp2ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuQk9UVE9NfX07XG5idW1wUG9zaXRpb25SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM9ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT1hLmxlZnQsZj1hLnJpZ2h0LWEubGVmdCxnPWEuYm90dG9tLWEudG9wO2ZvcihsZXQgaD0wO2g8ZC5sZW5ndGg7aCsrKXtjb25zdCBrPWRbaF07YS5pbnRlcnNlY3RzKGspJiYoYT1jPT09YnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLlVQP2sudG9wLWctYjprLmJvdHRvbStiLGE9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEsYStnLGUsZStmKSxoPS0xKX1yZXR1cm4gYX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnk9ZnVuY3Rpb24oYSxiKXtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5TRVJJQUxJWkVSLGEsYil9O3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEpe3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuU0VSSUFMSVpFUixhKX07XG5zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM9ZnVuY3Rpb24oYSx7YWRkQ29vcmRpbmF0ZXM6Yj0hMSxzYXZlSWRzOmM9ITB9PXt9KXtjb25zdCBkPWEud29ya3NwYWNlLGU9T2JqZWN0LmNyZWF0ZShudWxsKTtlLmhlaWdodD1hLmdldFNpemUoKS5oZWlnaHQ7ZS53aWR0aD1hLmdldFNpemUoKS53aWR0aDtjJiYoZS5pZD1hLmlkKTtiJiYoYj1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxlLng9ZC5SVEw/ZC5nZXRXaWR0aCgpLWIueDpiLngsZS55PWIueSk7YS5nZXRUZXh0KCkmJihlLnRleHQ9YS5nZXRUZXh0KCkpO2EuaXNDb2xsYXBzZWQoKSYmKGUuY29sbGFwc2VkPSEwKTthLmlzT3duRWRpdGFibGUoKXx8KGUuZWRpdGFibGU9ITEpO2EuaXNPd25Nb3ZhYmxlKCl8fChlLm1vdmFibGU9ITEpO2EuaXNPd25EZWxldGFibGUoKXx8KGUuZGVsZXRhYmxlPSExKTtyZXR1cm4gZX07XG5hcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cz1mdW5jdGlvbihhLGIse3JlY29yZFVuZG86Yz0hMX09e30pe2NvbnN0IGQ9Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpOyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKTtjPWIubmV3Q29tbWVudChhLmlkKTthLnRleHQhPT12b2lkIDAmJmMuc2V0VGV4dChhLnRleHQpO2lmKGEueCE9PXZvaWQgMHx8YS55IT09dm9pZCAwKXtjb25zdCBmPWMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2xldCBnLGg9KGc9YS54KSE9bnVsbD9nOmYueDtoPWIuUlRMP2IuZ2V0V2lkdGgoKS1oOmg7dmFyIGU7Yj0oZT1hLnkpIT1udWxsP2U6Zi55O2MubW92ZVRvKG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShoLGIpKX1pZihhLndpZHRoIT09dm9pZCAwfHxcbmEuaGVpZ2h0KXtlPWMuZ2V0U2l6ZSgpO2xldCBmLGc7Yy5zZXRTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgoZj1hLndpZHRoKSE9bnVsbD9mOmUud2lkdGgsKGc9YS5oZWlnaHQpIT1udWxsP2c6ZS5oZWlnaHQpKX1hLmNvbGxhcHNlZCE9PXZvaWQgMCYmYy5zZXRDb2xsYXBzZWQoYS5jb2xsYXBzZWQpO2EuZWRpdGFibGUhPT12b2lkIDAmJmMuc2V0RWRpdGFibGUoYS5lZGl0YWJsZSk7YS5tb3ZhYmxlIT09dm9pZCAwJiZjLnNldE1vdmFibGUoYS5tb3ZhYmxlKTthLmRlbGV0YWJsZSE9PXZvaWQgMCYmYy5zZXREZWxldGFibGUoYS5kZWxldGFibGUpOyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhkKTtyZXR1cm4gY307XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeT1mdW5jdGlvbihhLGIpe3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlBBU1RFUixhLGIpfTt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEpe3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuUEFTVEVSLGEpfTtcbm1vdmVDb21tZW50VG9Ob3RDb25mbGljdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXI9ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLndvcmtzcGFjZSxjPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpLGQ9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCksZT1iLmdldFRvcENvbW1lbnRzKCExKS5maWx0ZXIoZj0+Zi5pZCE9PWEuaWQpLm1hcChmPT5mLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSk7Zm9yKDtjb21tZW50T3ZlcmxhcHNPdGhlckV4YWN0bHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyKENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShjLGQpLGUpOylkLnRyYW5zbGF0ZShiLlJUTD8tMzA6MzAsMzApO2EubW92ZVRvKENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShjLFxuZCkpfTtjb21tZW50T3ZlcmxhcHNPdGhlckV4YWN0bHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc29tZShjPT5NYXRoLmFicyhjLngtYS54KTw9MSYmTWF0aC5hYnMoYy55LWEueSk8PTEpfTtzZXRSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYT1mdW5jdGlvbihhLGIpe2Euc2V0QXR0cmlidXRlKFJPTEVfQVRUUklCVVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSxiKX07c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhPWZ1bmN0aW9uKGEsYixjKXtBcnJheS5pc0FycmF5KGMpJiYoYz1jLmpvaW4oXCIgXCIpKTthLnNldEF0dHJpYnV0ZShBUklBX1BSRUZJWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWErYixgJHtjfWApfTtcbmlzU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuc2F2ZVN0YXRlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5sb2FkU3RhdGU9PT1cImZ1bmN0aW9uXCJ9O1xucXVldWVSZW5kZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1mdW5jdGlvbihhKXtxdWV1ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoYSk7aWYoYWx3YXlzSW1tZWRpYXRlbHlSZW5kZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpKXJldHVybiBkb1JlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpLFByb21pc2UucmVzb2x2ZSgpO2FmdGVyUmVuZGVyc1Byb21pc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudHx8KGFmdGVyUmVuZGVyc1Byb21pc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1uZXcgUHJvbWlzZShiPT57YWZ0ZXJSZW5kZXJzUmVzb2x2ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1iO2FuaW1hdGlvblJlcXVlc3RJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PVxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e2RvUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCk7YigpfSl9KSk7cmV0dXJuIGFmdGVyUmVuZGVyc1Byb21pc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudH07ZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGFmdGVyUmVuZGVyc1Byb21pc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD9hZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ6UHJvbWlzZS5yZXNvbHZlKCl9O1xudHJpZ2dlclF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1mdW5jdGlvbihhKXthfHx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uUmVxdWVzdElkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQpO2RvUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KGEpOyFhJiZhZnRlclJlbmRlcnNSZXNvbHZlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50JiZhZnRlclJlbmRlcnNSZXNvbHZlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCl9O2Fsd2F5c0ltbWVkaWF0ZWx5UmVuZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gSmF2YUZ4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50fTtcbnF1ZXVlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1mdW5jdGlvbihhKXtkaXJ0eUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmFkZChhKTtldmVudEdyb3VwcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LnNldChhLCQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSk7Y29uc3QgYj1hLmdldFBhcmVudCgpO2I/cXVldWVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KGIpOnJvb3RCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudC5hZGQoYSl9O1xuZG9SZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oYSl7Y29uc3QgYj1hP25ldyBTZXQoW2FdKTpuZXcgU2V0KFsuLi5yb290QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnRdLm1hcChmPT5mLndvcmtzcGFjZSkpLGM9Wy4uLnJvb3RCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudF0uZmlsdGVyKHNob3VsZFJlbmRlclJvb3RCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KS5maWx0ZXIoZj0+Yi5oYXMoZi53b3Jrc3BhY2UpKTtmb3IodmFyIGQgb2YgYylyZW5kZXJCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KGQpO2Zvcihjb25zdCBmIG9mIGIpZi5yZXNpemVDb250ZW50cygpO2Zvcih2YXIgZSBvZiBjKWQ9ZS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksZS51cGRhdGVDb21wb25lbnRMb2NhdGlvbnMoZCk7XG5mb3IoY29uc3QgZiBvZiBjKWU9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpLChkPWV2ZW50R3JvdXBzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQuZ2V0KGYpKSYmJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhkKSxmLmJ1bXBOZWlnaGJvdXJzKCksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKTtmb3IoY29uc3QgZiBvZiBjKWRlcXVldWVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KGYpO2F8fChhZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9bnVsbCl9O1xuZGVxdWV1ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oYSl7cm9vdEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmRlbGV0ZShhKTtkaXJ0eUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmRlbGV0ZShhKTtldmVudEdyb3VwcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmRlbGV0ZShhKTtmb3IoY29uc3QgYiBvZiBhLmdldENoaWxkcmVuKCExKSlkZXF1ZXVlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudChiKX07c2hvdWxkUmVuZGVyUm9vdEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuaXNEaXNwb3NlZCgpJiYhYS5nZXRQYXJlbnQoKX07XG5yZW5kZXJCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PWZ1bmN0aW9uKGEpe2lmKGRpcnR5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQuaGFzKGEpJiZhLmluaXRpYWxpemVkKXtmb3IoY29uc3QgYiBvZiBhLmdldENoaWxkcmVuKCExKSlyZW5kZXJCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KGIpO2EucmVuZGVyRWZmaWNpZW50bHkoKX19O2FsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYil7YWxlcnRJbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhhLGIpfTtcbnNldEFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGE9ZGVmYXVsdEFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKXthbGVydEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWF9O2NvbmZpcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYSxiKXtjb25maXJtSW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2coYSxiKX07c2V0Q29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1mdW5jdGlvbihhPWRlZmF1bHRDb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKXtjb25maXJtSW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9YX07XG5wcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYSxiLGMpe3Byb21wdEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKGEsYixjKX07c2V0UHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGE9ZGVmYXVsdFByb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyl7cHJvbXB0SW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9YX07dG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYSxiKXt0b2FzdEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKGEsYil9O1xuc2V0VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYT1kZWZhdWx0VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cpe3RvYXN0SW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9YX07aXNMZWdhY3lQcm9jZWR1cmVEZWZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2Nrcz1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0UHJvY2VkdXJlRGVmPT09XCJmdW5jdGlvblwifTtpc0xlZ2FjeVByb2NlZHVyZUNhbGxCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2Nrcz1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0UHJvY2VkdXJlQ2FsbD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEucmVuYW1lUHJvY2VkdXJlPT09XCJmdW5jdGlvblwifTtcbmlzVmFyaWFibGVCYWNrZWRQYXJhbWV0ZXJNb2RlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV92YXJpYWJsZV9iYWNrZWRfcGFyYW1ldGVyX21vZGVsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFZhcmlhYmxlTW9kZWwhPT12b2lkIDB9O3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbj1mdW5jdGlvbihhLGIsYyxkKXthPWErXCIgd2FzIGRlcHJlY2F0ZWQgaW4gXCIrYitcIiBhbmQgd2lsbCBiZSBkZWxldGVkIGluIFwiK2MrXCIuXCI7ZCYmKGErPVwiXFxuVXNlIFwiK2QrXCIgaW5zdGVhZC5cIik7cHJldmlvdXNXYXJuaW5ncyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uLmhhcyhhKXx8KHByZXZpb3VzV2FybmluZ3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbi5hZGQoYSksY29uc29sZS53YXJuKGEpKX07XG4kLmFsbFVzZWRWYXJNb2RlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7YT1hLmdldEFsbEJsb2NrcyghMSk7Y29uc3QgYj1uZXcgU2V0O2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY10uZ2V0VmFyTW9kZWxzKCk7aWYoZClmb3IobGV0IGU9MDtlPGQubGVuZ3RoO2UrKyl7Y29uc3QgZj1kW2VdO2YuZ2V0SWQoKSYmYi5hZGQoZil9fXJldHVybiBBcnJheS5mcm9tKGIudmFsdWVzKCkpfTskLmFsbERldmVsb3BlclZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXthPWEuZ2V0QWxsQmxvY2tzKCExKTtjb25zdCBiPW5ldyBTZXQ7Zm9yKGxldCBkPTAsZTtlPWFbZF07ZCsrKXt2YXIgYz1lLmdldERldmVsb3BlclZhcmlhYmxlcztpZihjKXtjPWMoKTtmb3IobGV0IGY9MDtmPGMubGVuZ3RoO2YrKyliLmFkZChjW2ZdKX19cmV0dXJuIEFycmF5LmZyb20oYi52YWx1ZXMoKSl9O1xuaW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXtyZXR1cm4gZmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSwhMSl9O1xuZmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiPSEwKXtCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX3NldHx8QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnZhcmlhYmxlc19nZXR8fGNvbnNvbGUud2FybihcIlRoZXJlIGFyZSBubyB2YXJpYWJsZSBibG9ja3MsIGJ1dCB0aGVyZSBpcyBhIHZhcmlhYmxlIGNhdGVnb3J5LlwiKTtpZihiKXJldHVybiB3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJUaGUgWE1MIHJldHVybiB2YWx1ZSBvZiBCbG9ja2x5LlZhcmlhYmxlcy5mbHlvdXRDYXRlZ29yeSgpXCIsXCJ2MTJcIixcInYxM1wiLFwidGhlIHNhbWUgbWV0aG9kLCBidXQgaGFuZGxlIGEgcmV0dXJuIHR5cGUgb2YgRmx5b3V0SXRlbUluZm9bXSAoSlNPTikgaW5zdGVhZC5cIikseG1sRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSk7XG5hLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVcIixmdW5jdGlvbihjKXtjcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYy5nZXRUYXJnZXRXb3Jrc3BhY2UoKSl9KTtyZXR1cm5be2tpbmQ6XCJidXR0b25cIix0ZXh0OlwiJXtCS1lfTkVXX1ZBUklBQkxFfVwiLGNhbGxiYWNra2V5OlwiQ1JFQVRFX1ZBUklBQkxFXCJ9LC4uLmpzb25GbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLGEuZ2V0VmFyaWFibGVNYXAoKS5nZXRWYXJpYWJsZXNPZlR5cGUoXCJcIiksITApXX07Z2VuZXJhdGVWYXJpYWJsZUZpZWxkSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXtyZXR1cm57VkFSOntuYW1lOmEuZ2V0TmFtZSgpLHR5cGU6YS5nZXRUeXBlKCl9fX07XG5qc29uRmx5b3V0Q2F0ZWdvcnlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMsZD1cInZhcmlhYmxlc19nZXRcIixlPVwidmFyaWFibGVzX3NldFwiKXtjJiYoYz1CbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MubWF0aF9jaGFuZ2UpO2E9W107Y29uc3QgZj1iLnNsaWNlKC0xKVswXTtmJiYoQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzW2VdJiZhLnB1c2goe2tpbmQ6XCJibG9ja1wiLHR5cGU6ZSxnYXA6Yz84OjI0LGZpZWxkczpnZW5lcmF0ZVZhcmlhYmxlRmllbGRKc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGYpfSksYyYmYS5wdXNoKHtraW5kOlwiYmxvY2tcIix0eXBlOlwibWF0aF9jaGFuZ2VcIixnYXA6QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzW2RdPzIwOjgsZmllbGRzOmdlbmVyYXRlVmFyaWFibGVGaWVsZEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZiksXG5pbnB1dHM6e0RFTFRBOntzaGFkb3c6e3R5cGU6XCJtYXRoX251bWJlclwiLGZpZWxkczp7TlVNOjF9fX19fSkpO0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrc1tkXSYmYS5wdXNoKC4uLmIuc29ydChjb21wYXJlQnlOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKS5tYXAoZz0+KHtraW5kOlwiYmxvY2tcIix0eXBlOmQsZ2FwOjgsZmllbGRzOmdlbmVyYXRlVmFyaWFibGVGaWVsZEpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZyl9KSkpO3JldHVybiBhfTtcbnhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEpe2xldCBiPVtdO2NvbnN0IGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInRleHRcIixcIiV7QktZX05FV19WQVJJQUJMRX1cIik7Yy5zZXRBdHRyaWJ1dGUoXCJjYWxsYmFja0tleVwiLFwiQ1JFQVRFX1ZBUklBQkxFXCIpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRVwiLGZ1bmN0aW9uKGQpe2NyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhkLmdldFRhcmdldFdvcmtzcGFjZSgpKX0pO2IucHVzaChjKTthPWZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEpO3JldHVybiBiPWIuY29uY2F0KGEpfTtcbmZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEpe2E9YS5nZXRWYXJpYWJsZU1hcCgpLmdldFZhcmlhYmxlc09mVHlwZShcIlwiKTtjb25zdCBiPVtdO2lmKGEubGVuZ3RoPjApe3ZhciBjPWFbYS5sZW5ndGgtMV07aWYoQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnZhcmlhYmxlc19zZXQpe3ZhciBkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpO2Quc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidmFyaWFibGVzX3NldFwiKTtkLnNldEF0dHJpYnV0ZShcImdhcFwiLEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy5tYXRoX2NoYW5nZT9cIjhcIjpcIjI0XCIpO2QuYXBwZW5kQ2hpbGQoZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGMpKTtiLnB1c2goZCl9QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLm1hdGhfY2hhbmdlJiZcbihkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpLGQuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwibWF0aF9jaGFuZ2VcIiksZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX2dldD9cIjIwXCI6XCI4XCIpLGQuYXBwZW5kQ2hpbGQoZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGMpKSxjPSQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKCc8dmFsdWUgbmFtZT1cIkRFTFRBXCI+PHNoYWRvdyB0eXBlPVwibWF0aF9udW1iZXJcIj48ZmllbGQgbmFtZT1cIk5VTVwiPjE8L2ZpZWxkPjwvc2hhZG93PjwvdmFsdWU+JyksZC5hcHBlbmRDaGlsZChjKSxiLnB1c2goZCkpO2lmKEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy52YXJpYWJsZXNfZ2V0KXthLnNvcnQoY29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyk7XG5mb3IobGV0IGU9MCxmO2Y9YVtlXTtlKyspYz0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKSxjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInZhcmlhYmxlc19nZXRcIiksYy5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjhcIiksYy5hcHBlbmRDaGlsZChnZW5lcmF0ZVZhcmlhYmxlRmllbGREb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZikpLGIucHVzaChjKX19cmV0dXJuIGJ9O2dlbmVyYXRlVW5pcXVlTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhKXtyZXR1cm4gVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmdlbmVyYXRlVW5pcXVlTmFtZUludGVybmFsKGEpfTtcbmdlbmVyYXRlVW5pcXVlTmFtZUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEpe3JldHVybiBnZW5lcmF0ZVVuaXF1ZU5hbWVGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhWQVJfTEVUVEVSX09QVElPTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuY2hhckF0KDApLGEuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXMoKS5tYXAoYj0+Yi5nZXROYW1lKCkpKX07XG5nZW5lcmF0ZVVuaXF1ZU5hbWVGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe2lmKCFiLmxlbmd0aClyZXR1cm4gYTtjb25zdCBjPVZBUl9MRVRURVJfT1BUSU9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcztsZXQgZD1cIlwiLGU9Yy5pbmRleE9mKGEpO2Zvcig7Oyl7bGV0IGY9ITE7Zm9yKGxldCBnPTA7ZzxiLmxlbmd0aDtnKyspaWYoYltnXS50b0xvd2VyQ2FzZSgpPT09YSl7Zj0hMDticmVha31pZighZilicmVhaztlKys7ZT09PWMubGVuZ3RoJiYoZT0wLGQ9YCR7TnVtYmVyKGQpKzF9YCk7YT1jLmNoYXJBdChlKStkfXJldHVybiBhfTtcbmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChmKXtwcm9tcHROYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk5FV19WQVJJQUJMRV9USVRMRSxmLGZ1bmN0aW9uKGcpe2lmKGcpe3ZhciBoPW5hbWVVc2VkV2l0aEFueVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoZyxhKTtpZihoKXtpZihoLmdldFR5cGUoKT09PWUpdmFyIGs9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFMucmVwbGFjZShcIiUxXCIsaC5nZXROYW1lKCkpO2Vsc2Ugaz0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRV9BTFJFQURZX0VYSVNUU19GT1JfQU5PVEhFUl9UWVBFLGs9ay5yZXBsYWNlKFwiJTFcIixoLmdldE5hbWUoKSkucmVwbGFjZShcIiUyXCIsXG5oLmdldFR5cGUoKSk7YWxlcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2coayxmdW5jdGlvbigpe2QoZyl9KX1lbHNlIGEuZ2V0VmFyaWFibGVNYXAoKS5jcmVhdGVWYXJpYWJsZShnLGUpLGImJmIoZyl9ZWxzZSBiJiZiKG51bGwpfSl9Y29uc3QgZT1jfHxcIlwiO2QoXCJcIil9O1xuJC5yZW5hbWVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChlKXtjb25zdCBmPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlJFTkFNRV9WQVJJQUJMRV9USVRMRS5yZXBsYWNlKFwiJTFcIixiLmdldE5hbWUoKSk7cHJvbXB0TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhmLGUsZnVuY3Rpb24oZyl7aWYoZyl7dmFyIGg9bmFtZVVzZWRXaXRoT3RoZXJUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGcsYi5nZXRUeXBlKCksYSksaz1uYW1lVXNlZFdpdGhDb25mbGljdGluZ1BhcmFtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIuZ2V0TmFtZSgpLGcsYSk7aWYoaHx8ayl7dmFyIGw9XCJcIjtoP2w9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFNfRk9SX0FOT1RIRVJfVFlQRS5yZXBsYWNlKFwiJTFcIixcbmguZ2V0TmFtZSgpKS5yZXBsYWNlKFwiJTJcIixoLmdldFR5cGUoKSk6ayYmKGw9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFNfRk9SX0FfUEFSQU1FVEVSLnJlcGxhY2UoXCIlMVwiLGcpLnJlcGxhY2UoXCIlMlwiLGspKTthbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhsLGZ1bmN0aW9uKCl7ZChnKX0pfWVsc2UgYS5nZXRWYXJpYWJsZU1hcCgpLnJlbmFtZVZhcmlhYmxlKGIsZyksYyYmYyhnKX1lbHNlIGMmJmMobnVsbCl9KX1kKFwiXCIpfTtcbnByb21wdE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMpe3Byb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhhLGIsZnVuY3Rpb24oZCl7ZCYmKGQ9ZC5yZXBsYWNlKC9bXFxzXFx4YTBdKy9nLFwiIFwiKS50cmltKCksZD09PSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlJFTkFNRV9WQVJJQUJMRXx8ZD09PSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk5FV19WQVJJQUJMRSkmJihkPW51bGwpO2MoZCl9KX07bmFtZVVzZWRXaXRoT3RoZXJUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjKXtjPWMuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXMoKTthPWEudG9Mb3dlckNhc2UoKTtmb3IobGV0IGQ9MCxlO2U9Y1tkXTtkKyspaWYoZS5nZXROYW1lKCkudG9Mb3dlckNhc2UoKT09PWEmJmUuZ2V0VHlwZSgpIT09YilyZXR1cm4gZTtyZXR1cm4gbnVsbH07XG5uYW1lVXNlZFdpdGhBbnlUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYil7Yj1iLmdldFZhcmlhYmxlTWFwKCkuZ2V0QWxsVmFyaWFibGVzKCk7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKGxldCBjPTAsZDtkPWJbY107YysrKWlmKGQuZ2V0TmFtZSgpLnRvTG93ZXJDYXNlKCk9PT1hKXJldHVybiBkO3JldHVybiBudWxsfTtuYW1lVXNlZFdpdGhDb25mbGljdGluZ1BhcmFtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYy5nZXRQcm9jZWR1cmVNYXAoKS5nZXRQcm9jZWR1cmVzKCkubGVuZ3RoP2NoZWNrRm9yQ29uZmxpY3RpbmdQYXJhbVdpdGhQcm9jZWR1cmVNb2RlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSxiLGMpOmNoZWNrRm9yQ29uZmxpY3RpbmdQYXJhbVdpdGhMZWdhY3lQcm9jZWR1cmVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYixjKX07XG5jaGVja0ZvckNvbmZsaWN0aW5nUGFyYW1XaXRoUHJvY2VkdXJlTW9kZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjKXthPWEudG9Mb3dlckNhc2UoKTtiPWIudG9Mb3dlckNhc2UoKTtjPWMuZ2V0UHJvY2VkdXJlTWFwKCkuZ2V0UHJvY2VkdXJlcygpO2Zvcihjb25zdCBlIG9mIGMpe3ZhciBkPWUuZ2V0UGFyYW1ldGVycygpLmZpbHRlcihpc1ZhcmlhYmxlQmFja2VkUGFyYW1ldGVyTW9kZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdmFyaWFibGVfYmFja2VkX3BhcmFtZXRlcl9tb2RlbCkubWFwKGY9PmYuZ2V0VmFyaWFibGVNb2RlbCgpLmdldE5hbWUoKSk7aWYoZCYmKGM9ZC5zb21lKGY9PmYudG9Mb3dlckNhc2UoKT09PWEpLGQ9ZC5zb21lKGY9PmYudG9Mb3dlckNhc2UoKT09PWIpLGMmJmQpKXJldHVybiBlLmdldE5hbWUoKX1yZXR1cm4gbnVsbH07XG5jaGVja0ZvckNvbmZsaWN0aW5nUGFyYW1XaXRoTGVnYWN5UHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyl7YT1hLnRvTG93ZXJDYXNlKCk7Yj1iLnRvTG93ZXJDYXNlKCk7Yz1jLmdldEFsbEJsb2NrcyghMSk7Zm9yKGNvbnN0IGUgb2YgYyl7aWYoIWlzTGVnYWN5UHJvY2VkdXJlRGVmQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MoZSkpY29udGludWU7Yz1lLmdldFByb2NlZHVyZURlZigpO3ZhciBkPWNbMV07Y29uc3QgZj1kLnNvbWUoZz0+Zy50b0xvd2VyQ2FzZSgpPT09YSk7ZD1kLnNvbWUoZz0+Zy50b0xvd2VyQ2FzZSgpPT09Yik7aWYoZiYmZClyZXR1cm4gY1swXX1yZXR1cm4gbnVsbH07XG5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7Y29uc3QgYj0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJmaWVsZFwiKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIlZBUlwiKTtiLnNldEF0dHJpYnV0ZShcImlkXCIsYS5nZXRJZCgpKTtiLnNldEF0dHJpYnV0ZShcInZhcmlhYmxldHlwZVwiLGEuZ2V0VHlwZSgpKTthPSQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYS5nZXROYW1lKCkpO2IuYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIGJ9O1xuJC5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIsYyxkKXtsZXQgZT0kLmdldFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYixjLGQpO2V8fChlPWNyZWF0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYixjLGQpKTtyZXR1cm4gZX07XG4kLmdldFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9YS5nZXRQb3RlbnRpYWxWYXJpYWJsZU1hcCgpO2xldCBmPW51bGw7aWYoYiYmKGY9YS5nZXRWYXJpYWJsZUJ5SWQoYiksIWYmJmUmJihmPWUuZ2V0VmFyaWFibGVCeUlkKGIpKSxmKSlyZXR1cm4gZjtpZihjKXtpZihkPT09dm9pZCAwKXRocm93IEVycm9yKFwiVHJpZWQgdG8gbG9vayB1cCBhIHZhcmlhYmxlIGJ5IG5hbWUgd2l0aG91dCBhIHR5cGVcIik7Zj1hLmdldFZhcmlhYmxlKGMsZCk7IWYmJmUmJihmPWUuZ2V0VmFyaWFibGUoYyxkKSl9cmV0dXJuIGZ9O1xuY3JlYXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT1hLmdldFZhcmlhYmxlTWFwKCksZj1hLmdldFBvdGVudGlhbFZhcmlhYmxlTWFwKCk7Y3x8KGM9Z2VuZXJhdGVVbmlxdWVOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEuaXNGbHlvdXQ/YS50YXJnZXRXb3Jrc3BhY2U6YSkpO3JldHVybiBmP2YuY3JlYXRlVmFyaWFibGUoYyxkLGIhPW51bGw/Yjp2b2lkIDApOmUuY3JlYXRlVmFyaWFibGUoYyxkLGIpfTtnZXRBZGRlZFZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe2E9YS5nZXRBbGxWYXJpYWJsZXMoKTtjb25zdCBjPVtdO2lmKGIubGVuZ3RoIT09YS5sZW5ndGgpZm9yKGxldCBkPTA7ZDxhLmxlbmd0aDtkKyspe2NvbnN0IGU9YVtkXTtiLmluY2x1ZGVzKGUpfHxjLnB1c2goZSl9cmV0dXJuIGN9O1xuY29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhLmdldE5hbWUoKS5sb2NhbGVDb21wYXJlKGIuZ2V0TmFtZSgpLHZvaWQgMCx7c2Vuc2l0aXZpdHk6XCJiYXNlXCJ9KX07Z2V0VmFyaWFibGVVc2VzQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9W107YT1hLmdldEFsbEJsb2NrcyghMSk7Zm9yKGxldCBkPTA7ZDxhLmxlbmd0aDtkKyspe2NvbnN0IGU9YVtkXS5nZXRWYXJNb2RlbHMoKTtpZihlKWZvcihsZXQgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0uZ2V0SWQoKT09PWImJmMucHVzaChhW2RdKX1yZXR1cm4gY307XG4kLmRlbGV0ZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmdldE5hbWUoKTtjb25zdCBlPWdldFZhcmlhYmxlVXNlc0J5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSxiLmdldElkKCkpO2ZvcihsZXQgZj1lLmxlbmd0aC0xO2Y+PTA7Zi0tKXtjb25zdCBnPWVbZl07aWYoZy50eXBlPT09XCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCJ8fGcudHlwZT09PVwicHJvY2VkdXJlc19kZWZyZXR1cm5cIil7Yz1TdHJpbmcoZy5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKSk7ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DQU5OT1RfREVMRVRFX1ZBUklBQkxFX1BST0NFRFVSRS5yZXBsYWNlKFwiJTFcIixkKS5yZXBsYWNlKFwiJTJcIixjKTthbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyhkKTtyZXR1cm59Zz09PWMmJmUuc3BsaWNlKGYsMSl9YyYmZS5sZW5ndGh8fGUubGVuZ3RoPjE/KGQ9XG4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfVkFSSUFCTEVfQ09ORklSTUFUSU9OLnJlcGxhY2UoXCIlMVwiLFN0cmluZyhlLmxlbmd0aCsoYyYmIWMud29ya3NwYWNlLmlzRmx5b3V0PzE6MCkpKS5yZXBsYWNlKFwiJTJcIixkKSxjb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKGQsZj0+e2YmJmImJmEuZ2V0VmFyaWFibGVNYXAoKS5kZWxldGVWYXJpYWJsZShiKX0pKTphLmdldFZhcmlhYmxlTWFwKCkuZGVsZXRlVmFyaWFibGUoYil9O1xuc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEse2FkZENvb3JkaW5hdGVzOmI9ITEsYWRkSW5wdXRCbG9ja3M6Yz0hMCxhZGROZXh0QmxvY2tzOmQ9ITAsZG9GdWxsU2VyaWFsaXphdGlvbjplPSEwLHNhdmVJZHM6Zj0hMH09e30pe2lmKGEuaXNJbnNlcnRpb25NYXJrZXIoKSlyZXR1cm4gbnVsbDtjb25zdCBnPXt0eXBlOmEudHlwZSxpZDpmP2EuaWQ6dm9pZCAwfTtiJiZzYXZlQ29vcmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxnKTtzYXZlQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsZyk7c2F2ZUV4dHJhU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLGcsZSk7c2F2ZUljb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxnLGUpO3NhdmVGaWVsZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLFxuZyxlKTtjJiZzYXZlSW5wdXRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLGcsZSxmKTtkJiZzYXZlTmV4dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsZyxlLGYpO3JldHVybiBnfTtcbnNhdmVBdHRyaWJ1dGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXthLmlzQ29sbGFwc2VkKCkmJihiLmNvbGxhcHNlZD0hMCk7YS5pc0VuYWJsZWQoKXx8KGIuZGlzYWJsZWRSZWFzb25zPUFycmF5LmZyb20oYS5nZXREaXNhYmxlZFJlYXNvbnMoKSkpO2EuaXNPd25EZWxldGFibGUoKXx8KGIuZGVsZXRhYmxlPSExKTthLmlzT3duTW92YWJsZSgpfHwoYi5tb3ZhYmxlPSExKTthLmlzT3duRWRpdGFibGUoKXx8KGIuZWRpdGFibGU9ITEpO2EuaW5wdXRzSW5saW5lIT09dm9pZCAwJiZhLmlucHV0c0lubGluZSE9PWEuaW5wdXRzSW5saW5lRGVmYXVsdCYmKGIuaW5saW5lPWEuaW5wdXRzSW5saW5lKTthLmRhdGEmJihiLmRhdGE9YS5kYXRhKX07XG5zYXZlQ29vcmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEud29ya3NwYWNlO2E9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7Yi54PU1hdGgucm91bmQoYy5SVEw/Yy5nZXRXaWR0aCgpLWEueDphLngpO2IueT1NYXRoLnJvdW5kKGEueSl9O3NhdmVFeHRyYVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiLGMpe2Euc2F2ZUV4dHJhU3RhdGU/KGE9YS5zYXZlRXh0cmFTdGF0ZShjKSxhIT09bnVsbCYmKGIuZXh0cmFTdGF0ZT1hKSk6YS5tdXRhdGlvblRvRG9tJiYoYT1hLm11dGF0aW9uVG9Eb20oKSxhIT09bnVsbCYmKGIuZXh0cmFTdGF0ZT1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSkucmVwbGFjZSgnIHhtbG5zPVwiaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYmxvY2tseS94bWxcIicsXCJcIikpKX07XG5zYXZlSWNvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBlIG9mIGEuZ2V0SWNvbnMoKSlpc1NlcmlhbGl6YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZXJpYWxpemFibGUoZSkmJihhPWUuc2F2ZVN0YXRlKGMpKSYmKGRbZS5nZXRUeXBlKCkudG9TdHJpbmcoKV09YSk7T2JqZWN0LmtleXMoZCkubGVuZ3RoJiYoYi5pY29ucz1kKX07c2F2ZUZpZWxkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYixjKXtjb25zdCBkPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IGUgb2YgYS5nZXRGaWVsZHMoKSllLmlzU2VyaWFsaXphYmxlKCkmJihkW2UubmFtZV09ZS5zYXZlU3RhdGUoYykpO09iamVjdC5rZXlzKGQpLmxlbmd0aCYmKGIuZmllbGRzPWQpfTtcbnNhdmVJbnB1dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IobGV0IGY9MDtmPGEuaW5wdXRMaXN0Lmxlbmd0aDtmKyspe2NvbnN0IGc9YS5pbnB1dExpc3RbZl07aWYoIWcuY29ubmVjdGlvbiljb250aW51ZTtjb25zdCBoPXNhdmVDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoZy5jb25uZWN0aW9uLGMsZCk7aCYmKGVbZy5uYW1lXT1oKX1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJihiLmlucHV0cz1lKX07XG5zYXZlTmV4dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYixjLGQpe2EubmV4dENvbm5lY3Rpb24mJihhPXNhdmVDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYS5uZXh0Q29ubmVjdGlvbixjLGQpKSYmKGIubmV4dD1hKX07c2F2ZUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1hLmdldFNoYWRvd1N0YXRlKCEwKTthPWEudGFyZ2V0QmxvY2soKTtpZighZCYmIWEpcmV0dXJuIG51bGw7Y29uc3QgZT1PYmplY3QuY3JlYXRlKG51bGwpO2QmJihlLnNoYWRvdz1kKTthJiYhYS5pc1NoYWRvdygpJiYoZS5ibG9jaz1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSx7ZG9GdWxsU2VyaWFsaXphdGlvbjpiLHNhdmVJZHM6Y30pKTtyZXR1cm4gZX07XG5hcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIse3JlY29yZFVuZG86Yz0hMX09e30pe2E9YXBwZW5kSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLGIse3JlY29yZFVuZG86Y30pO2IucmVuZGVyZWQmJnRyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKTtyZXR1cm4gYX07XG5hcHBlbmRJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYix7cGFyZW50Q29ubmVjdGlvbjpjLGlzU2hhZG93OmQ9ITEscmVjb3JkVW5kbzplPSExfT17fSl7Y29uc3QgZj1nZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGUpOyhlPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApOyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2NvbnN0IGc9Yi5nZXRBbGxWYXJpYWJsZXMoKTtsZXQgaDt0cnl7aD1hcHBlbmRQcml2YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSxiLHtwYXJlbnRDb25uZWN0aW9uOmMsXG5pc1NoYWRvdzpkfSl9ZmluYWxseXskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfWNoZWNrTmV3VmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYixnKTtpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEUpKShoKSk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKTskLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZik7aWYoYi5yZW5kZXJlZCl7Y29uc3Qgaz1oO3NldFRpbWVvdXQoKCk9PntrLmRpc3Bvc2VkfHxrLnNldENvbm5lY3Rpb25UcmFja2luZyghMCl9LFxuMSl9cmV0dXJuIGh9O1xuYXBwZW5kUHJpdmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYix7cGFyZW50Q29ubmVjdGlvbjpjLGlzU2hhZG93OmQ9ITF9PXt9KXtpZighYS50eXBlKXRocm93IG5ldyBNaXNzaW5nQmxvY2tUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zKGEpO2NvbnN0IGU9Yi5uZXdCbG9jayhhLnR5cGUsYS5pZCk7ZS5zZXRTaGFkb3coZCk7bG9hZENvb3JkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGUsYSk7bG9hZEF0dHJpYnV0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGEpO2xvYWRFeHRyYVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoZSxhKTt0cnlUb0Nvbm5lY3RQYXJlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhjLGUsXG5hKTtsb2FkSWNvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGEpO2xvYWRGaWVsZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGEpO2xvYWRJbnB1dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGUsYSk7bG9hZE5leHRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhlLGEpO2luaXRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGUsYi5yZW5kZXJlZCk7cmV0dXJuIGV9O1xuY2hlY2tOZXdWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIpe2lmKGlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKWZvcihhPWdldEFkZGVkVmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYiksYj0wO2I8YS5sZW5ndGg7YisrKXtjb25zdCBjPWFbYl07ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFKSkoYykpfX07XG5sb2FkQ29vcmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtsZXQgYz1iLng9PT12b2lkIDA/MDpiLng7Yj1iLnk9PT12b2lkIDA/MDpiLnk7Y29uc3QgZD1hLndvcmtzcGFjZTtjPWQuUlRMP2QuZ2V0V2lkdGgoKS1jOmM7YS5tb3ZlQnkoYyxiKX07XG5sb2FkQXR0cmlidXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7Yi5jb2xsYXBzZWQmJmEuc2V0Q29sbGFwc2VkKCEwKTtiLmRlbGV0YWJsZT09PSExJiZhLnNldERlbGV0YWJsZSghMSk7Yi5tb3ZhYmxlPT09ITEmJmEuc2V0TW92YWJsZSghMSk7Yi5lZGl0YWJsZT09PSExJiZhLnNldEVkaXRhYmxlKCExKTtiLmVuYWJsZWQ9PT0hMSYmYS5zZXREaXNhYmxlZFJlYXNvbighMCxNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyk7aWYoQXJyYXkuaXNBcnJheShiLmRpc2FibGVkUmVhc29ucykpZm9yKGNvbnN0IGMgb2YgYi5kaXNhYmxlZFJlYXNvbnMpYS5zZXREaXNhYmxlZFJlYXNvbighMCxjKTtiLmlubGluZSE9PXZvaWQgMCYmYS5zZXRJbnB1dHNJbmxpbmUoYi5pbmxpbmUpO2IuZGF0YSE9PXZvaWQgMCYmKGEuZGF0YT1iLmRhdGEpfTtcbmxvYWRFeHRyYVN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtiLmV4dHJhU3RhdGUmJihhLmxvYWRFeHRyYVN0YXRlP2EubG9hZEV4dHJhU3RhdGUoYi5leHRyYVN0YXRlKTphLmRvbVRvTXV0YXRpb24mJmEuZG9tVG9NdXRhdGlvbigkLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChiLmV4dHJhU3RhdGUpKSl9O1xudHJ5VG9Db25uZWN0UGFyZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiLGMpe2lmKGEpe2lmKGEuZ2V0U291cmNlQmxvY2soKS5pc1NoYWRvdygpJiYhYi5pc1NoYWRvdygpKXRocm93IG5ldyBSZWFsQ2hpbGRPZlNoYWRvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucyhjKTtpZihhLnR5cGU9PT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuVkFMVUUpe3ZhciBkPWIub3V0cHV0Q29ubmVjdGlvbjtpZighZCl0aHJvdyBuZXcgTWlzc2luZ0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMoXCJvdXRwdXRcIixiLGMpO31lbHNlIGlmKGQ9Yi5wcmV2aW91c0Nvbm5lY3Rpb24sIWQpdGhyb3cgbmV3IE1pc3NpbmdDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zKFwicHJldmlvdXNcIixcbmIsYyk7aWYoIWEuY29ubmVjdChkKSl7Y29uc3QgZT1iLndvcmtzcGFjZS5jb25uZWN0aW9uQ2hlY2tlcjt0aHJvdyBuZXcgQmFkQ29ubmVjdGlvbkNoZWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zKGUuZ2V0RXJyb3JNZXNzYWdlKGUuY2FuQ29ubmVjdFdpdGhSZWFzb24oZCxhLCExKSxkLGEpLGEudHlwZT09PSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5WQUxVRT9cIm91dHB1dCBjb25uZWN0aW9uXCI6XCJwcmV2aW91cyBjb25uZWN0aW9uXCIsYixjKTt9fX07XG5sb2FkSWNvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIpe2lmKGIuaWNvbnMpe3ZhciBjPU9iamVjdC5rZXlzKGIuaWNvbnMpO2Zvcihjb25zdCBlIG9mIGMpe2M9Yi5pY29uc1tlXTt2YXIgZD1hLmdldEljb24oZSk7aWYoIWQpe2Q9Z2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuSUNPTixlLCExKTtpZighZCl0aHJvdyBuZXcgVW5yZWdpc3RlcmVkSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucyhlLGEsYik7ZD1uZXcgZChhKTthLmFkZEljb24oZCl9aXNTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VyaWFsaXphYmxlKGQpJiZkLmxvYWRTdGF0ZShjKX19fTtcbmxvYWRGaWVsZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIpe2lmKGIuZmllbGRzKXt2YXIgYz1PYmplY3Qua2V5cyhiLmZpZWxkcyk7Zm9yKGxldCBkPTA7ZDxjLmxlbmd0aDtkKyspe2NvbnN0IGU9Y1tkXSxmPWIuZmllbGRzW2VdLGc9YS5nZXRGaWVsZChlKTtnP2cubG9hZFN0YXRlKGYpOmNvbnNvbGUud2FybihgSWdub3Jpbmcgbm9uLWV4aXN0YW50IGZpZWxkICR7ZX0gaW4gYmxvY2sgJHthLnR5cGV9YCl9fX07XG5sb2FkSW5wdXRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz1mdW5jdGlvbihhLGIpe2lmKGIuaW5wdXRzKXt2YXIgYz1PYmplY3Qua2V5cyhiLmlucHV0cyk7Zm9yKGxldCBkPTA7ZDxjLmxlbmd0aDtkKyspe2NvbnN0IGU9Y1tkXSxmPWEuZ2V0SW5wdXQoZSk7aWYoIWZ8fCFmLmNvbm5lY3Rpb24pdGhyb3cgbmV3IE1pc3NpbmdDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zKGUsYSxiKTtsb2FkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGYuY29ubmVjdGlvbixiLmlucHV0c1tlXSl9fX07XG5sb2FkTmV4dEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWZ1bmN0aW9uKGEsYil7aWYoYi5uZXh0KXtpZighYS5uZXh0Q29ubmVjdGlvbil0aHJvdyBuZXcgTWlzc2luZ0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMoXCJuZXh0XCIsYSxiKTtsb2FkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEubmV4dENvbm5lY3Rpb24sYi5uZXh0KX19O2xvYWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtiLnNoYWRvdyYmYS5zZXRTaGFkb3dTdGF0ZShiLnNoYWRvdyk7Yi5ibG9jayYmYXBwZW5kUHJpdmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGIuYmxvY2ssYS5nZXRTb3VyY2VCbG9jaygpLndvcmtzcGFjZSx7cGFyZW50Q29ubmVjdGlvbjphfSl9O1xuaW5pdEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9ZnVuY3Rpb24oYSxiKXtpZihiKXthLnNldENvbm5lY3Rpb25UcmFja2luZyghMSk7YS5pbml0U3ZnKCk7YS5xdWV1ZVJlbmRlcigpO2Zvcihjb25zdCBjIG9mIGEuZ2V0SWNvbnMoKSljLm9uTG9jYXRpb25DaGFuZ2UoYS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpfWVsc2UgYS5pbml0TW9kZWwoKX07aGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBhLmJ1YmJsZUlzVmlzaWJsZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuc2V0QnViYmxlVmlzaWJsZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0QnViYmxlPT09XCJmdW5jdGlvblwifTt0b1JhZGlhbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoPWZ1bmN0aW9uKGEpe3JldHVybiBhKk1hdGguUEkvMTgwfTtcbnRvRGVncmVlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGEqMTgwL01hdGguUEl9O2NsYW1wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aD1mdW5jdGlvbihhLGIsYyl7aWYoYzxhKXtjb25zdCBkPWM7Yz1hO2E9ZH1yZXR1cm4gTWF0aC5tYXgoYSxNYXRoLm1pbihiLGMpKX07XG5jcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmxvY2tseURyb3BEb3duRGl2XCIpfHwoZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5jbGFzc05hbWU9XCJibG9ja2x5RHJvcERvd25EaXZcIixkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi50YWJJbmRleD0tMSwoZ2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCl8fGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KSxjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuY2xhc3NOYW1lPVxuXCJibG9ja2x5RHJvcERvd25Db250ZW50XCIsZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuYXBwZW5kQ2hpbGQoY29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KSxrZXlkb3duTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsXCJrZXlkb3duXCIsbnVsbCxnbG9iYWxTaG9ydGN1dEhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24pLGFycm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmNsYXNzTmFtZT1cImJsb2NrbHlEcm9wRG93bkFycm93XCIsZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuYXBwZW5kQ2hpbGQoYXJyb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiksXG5kaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5vcGFjaXR5PVwiMFwiLGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLnRyYW5zaXRpb249XCJ0cmFuc2Zvcm0gXCIrQU5JTUFUSU9OX1RJTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpditcInMsIG9wYWNpdHkgXCIrQU5JTUFUSU9OX1RJTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpditcInNcIil9O3NldEJvdW5kc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhKXtib3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9YX07Z2V0T3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe3JldHVybiBvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2fTtcbmdldENvbnRlbnREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe3JldHVybiBjb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXZ9O2NsZWFyQ29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKCl7a2V5ZG93bkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYmJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhrZXlkb3duTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiksa2V5ZG93bkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCk7ZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYucmVtb3ZlKCk7Y3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKX07XG5zZXRDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIpe2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvcj1hO2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLmJvcmRlckNvbG9yPWJ9O3Nob3dQb3NpdGlvbmVkQnlCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYixjLGQsZT0hMCl7cmV0dXJuIHNob3dQb3NpdGlvbmVkQnlSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoZ2V0U2NhbGVkQmJveE9mQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihiKSxhLGUsYyxkKX07XG5zaG93UG9zaXRpb25lZEJ5RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIsYyxkPSEwKXtwb3NpdGlvblRvRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj0hMDtyZXR1cm4gc2hvd1Bvc2l0aW9uZWRCeVJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihnZXRTY2FsZWRCYm94T2ZGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEpLGEsZCxiLGMpfTtcbmdldFNjYWxlZEJib3hPZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTdmdSb290KCk7Y29uc3QgYz1hLndvcmtzcGFjZS5zY2FsZSxkPWEuaGVpZ2h0KmM7YT1hLndpZHRoKmM7Yj1nZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYik7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChiLnksYi55K2QsYi54LGIueCthKX07Z2V0U2NhbGVkQmJveE9mRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhKXthPWEuZ2V0U2NhbGVkQkJveCgpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS50b3AsYS5ib3R0b20sYS5sZWZ0LGEucmlnaHQpfTtcbnNob3dQb3NpdGlvbmVkQnlSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZCxlKXtjb25zdCBmPWEubGVmdCsoYS5yaWdodC1hLmxlZnQpLzIsZz1hLmJvdHRvbTthPWEudG9wO2UmJihhKz1lKTtlPWIuZ2V0U291cmNlQmxvY2soKTtsZXQgaD1lLndvcmtzcGFjZTtmb3IoO2gub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2U7KWg9aC5vcHRpb25zLnBhcmVudFdvcmtzcGFjZTtzZXRCb3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoaC5nZXRQYXJlbnRTdmcoKS5wYXJlbnROb2RlKTtyZXR1cm4gc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGIsZS5SVEwsZixnLGYsYSxjLGQpfTtcbnNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe293bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9YTtvbkhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1ofHxudWxsO2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLmRpcmVjdGlvbj1iP1wicnRsXCI6XCJsdHJcIjthPWdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKTtyZW5kZXJlZENsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWEuZ2V0UmVuZGVyZXIoKS5nZXRDbGFzc05hbWUoKTt0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWEuZ2V0VGhlbWUoKS5nZXRDbGFzc05hbWUoKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixcbnJlbmRlcmVkQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LHRoZW1lQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpO2M9cG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGMsZCxlLGYpO2cmJihyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLnRha2VFcGhlbWVyYWxGb2N1cyhkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdikpO3JldHVybiBjfTtcbmdldFBvc2l0aW9uQmVsb3dNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZCl7YT1nZXRQb3NpdGlvblgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihhLGMubGVmdCxjLnJpZ2h0LGQud2lkdGgpO3JldHVybntpbml0aWFsWDphLmRpdlgsaW5pdGlhbFk6YixmaW5hbFg6YS5kaXZYLGZpbmFsWTpiK1BBRERJTkdfWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGFycm93WDphLmFycm93WCxhcnJvd1k6LShBUlJPV19TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYvMitCT1JERVJfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KSxhcnJvd0F0VG9wOiEwLGFycm93VmlzaWJsZTohMH19O1xuZ2V0UG9zaXRpb25BYm92ZU1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbihhLGIsYyxkKXthPWdldFBvc2l0aW9uWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEsYy5sZWZ0LGMucmlnaHQsZC53aWR0aCk7cmV0dXJue2luaXRpYWxYOmEuZGl2WCxpbml0aWFsWTpiLWQuaGVpZ2h0LGZpbmFsWDphLmRpdlgsZmluYWxZOmItZC5oZWlnaHQtUEFERElOR19ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsYXJyb3dYOmEuYXJyb3dYLGFycm93WTpkLmhlaWdodC1CT1JERVJfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KjItQVJST1dfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LzIsYXJyb3dBdFRvcDohMSxhcnJvd1Zpc2libGU6ITB9fTtcbmdldFBvc2l0aW9uVG9wT2ZQYWdlTWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYixjKXthPWdldFBvc2l0aW9uWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEsYi5sZWZ0LGIucmlnaHQsYy53aWR0aCk7cmV0dXJue2luaXRpYWxYOmEuZGl2WCxpbml0aWFsWTowLGZpbmFsWDphLmRpdlgsZmluYWxZOjAsYXJyb3dBdFRvcDpudWxsLGFycm93WDpudWxsLGFycm93WTpudWxsLGFycm93VmlzaWJsZTohMX19O1xuZ2V0UG9zaXRpb25YJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZCl7Yj1jbGFtcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgoYixhLWQvMixjLWQpO2E9YS1BUlJPV19TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYvMi1iO2M9QVJST1dfSE9SSVpPTlRBTF9QQURESU5HJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7YT1jbGFtcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgoYyxhLGQtYy1BUlJPV19TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpO3JldHVybnthcnJvd1g6YSxkaXZYOmJ9fTtpc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1mdW5jdGlvbigpe3JldHVybiEhb3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdn07XG5oaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9PT1hPyhiP2hpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKTpoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKSwhMCk6ITF9O1xuaGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKCl7ZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsIDApXCI7ZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc3R5bGUub3BhY2l0eT1cIjBcIjthbmltYXRlT3V0VGltZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpfSxBTklNQVRJT05fVElNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KjFFMyk7b25IaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYmJihvbkhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLG9uSGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwpfTtcbmhpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oKXtpc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpJiYoYW5pbWF0ZU91dFRpbWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYmJmNsZWFyVGltZW91dChhbmltYXRlT3V0VGltZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiksb25IaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYmJihvbkhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLG9uSGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwpLGNsZWFyQ29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCksb3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsLGdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKS5tYXJrRm9jdXNlZCgpLFxucmV0dXJuRXBoZW1lcmFsRm9jdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdiYmKHJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKSxyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwpKX07XG5wb3NpdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9ZnVuY3Rpb24oYSxiLGMsZCl7YT1pbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmdldFBvc2l0aW9uTWV0cmljcyhhLGIsYyxkKTthLmFycm93VmlzaWJsZT8oYj1hLmFycm93WCxjPWEuYXJyb3dZLGQ9YS5hcnJvd0F0VG9wPzQ1OjIyNSxhcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLmRpc3BsYXk9XCJcIixhcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlKCR7Yn1weCwgJHtjfXB4KSByb3RhdGUoJHtkfWRlZylgLGFycm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImJsb2NrbHlEcm9wRG93bkFycm93XCIpKTphcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLmRpc3BsYXk9XG5cIm5vbmVcIjtiPU1hdGguZmxvb3IoYS5pbml0aWFsWCk7Yz1NYXRoLmZsb29yKGEuaW5pdGlhbFkpO2Q9TWF0aC5mbG9vcihhLmZpbmFsWCk7Y29uc3QgZT1NYXRoLmZsb29yKGEuZmluYWxZKTtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5sZWZ0PWIrXCJweFwiO2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLnRvcD1jK1wicHhcIjtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zdHlsZS5vcGFjaXR5PVwiMVwiO2RpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZShcIisoZC1iKStcInB4LFwiKyhlLWMpK1wicHgpXCI7cmV0dXJuISFhLmFycm93QXRUb3B9O1xucmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PWZ1bmN0aW9uKCl7aWYob3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdil7dmFyIGE9b3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5nZXRTb3VyY2VCbG9jaygpO2E9cG9zaXRpb25Ub0ZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY/Z2V0U2NhbGVkQmJveE9mRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdihvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KTpnZXRTY2FsZWRCYm94T2ZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGEpO2NvbnN0IGI9YS5sZWZ0KyhhLnJpZ2h0LWEubGVmdCkvMjtwb3NpdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYixhLmJvdHRvbSxiLGEudG9wKX1lbHNlIGhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpfTtcbnNob3J0ZXN0U3RyaW5nTGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBhLmxlbmd0aD9hLnJlZHVjZShmdW5jdGlvbihiLGMpe3JldHVybiBiLmxlbmd0aDxjLmxlbmd0aD9iOmN9KS5sZW5ndGg6MH07XG5jb21tb25Xb3JkUHJlZml4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYoIWEubGVuZ3RoKXJldHVybiAwO2lmKGEubGVuZ3RoPT09MSlyZXR1cm4gYVswXS5sZW5ndGg7bGV0IGM9MDtiPWJ8fHNob3J0ZXN0U3RyaW5nTGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGEpO2xldCBkO2ZvcihkPTA7ZDxiO2QrKyl7dmFyIGU9YVswXVtkXTtmb3IodmFyIGY9MTtmPGEubGVuZ3RoO2YrKylpZihlIT09YVtmXVtkXSlyZXR1cm4gYztlPT09XCIgXCImJihjPWQrMSl9Zm9yKGU9MTtlPGEubGVuZ3RoO2UrKylpZigoZj1hW2VdW2RdKSYmZiE9PVwiIFwiKXJldHVybiBjO3JldHVybiBifTtcbmNvbW1vbldvcmRTdWZmaXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc9ZnVuY3Rpb24oYSxiKXtpZighYS5sZW5ndGgpcmV0dXJuIDA7aWYoYS5sZW5ndGg9PT0xKXJldHVybiBhWzBdLmxlbmd0aDtsZXQgYz0wO2I9Ynx8c2hvcnRlc3RTdHJpbmdMZW5ndGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYSk7bGV0IGQ7Zm9yKGQ9MDtkPGI7ZCsrKXt2YXIgZT1hWzBdLnN1YnN0cigtZC0xLDEpO2Zvcih2YXIgZj0xO2Y8YS5sZW5ndGg7ZisrKWlmKGUhPT1hW2ZdLnN1YnN0cigtZC0xLDEpKXJldHVybiBjO2U9PT1cIiBcIiYmKGM9ZCsxKX1mb3IoZT0xO2U8YS5sZW5ndGg7ZSsrKWlmKChmPWFbZV0uY2hhckF0KGFbZV0ubGVuZ3RoLWQtMSkpJiZmIT09XCIgXCIpcmV0dXJuIGM7cmV0dXJuIGJ9O1xuJC53cmFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEsYil7YT1hLnNwbGl0KFwiXFxuXCIpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKWFbY109d3JhcExpbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYVtjXSxiKTtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfTtcbndyYXBMaW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGg8PWIpcmV0dXJuIGE7Y29uc3QgYz1hLnRyaW0oKS5zcGxpdCgvXFxzKy8pO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0ubGVuZ3RoPmImJihiPWNbZF0ubGVuZ3RoKTt2YXIgZT0tSW5maW5pdHk7bGV0IGYsZz0xO2Rve2Q9ZTtmPWE7YT1bXTtlPWMubGVuZ3RoL2c7bGV0IGg9MTtmb3IobGV0IGs9MDtrPGMubGVuZ3RoLTE7aysrKWg8KGsrMS41KS9lPyhoKyssYVtrXT0hMCk6YVtrXT0hMTthPXdyYXBNdXRhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYyxhLGIpO2U9d3JhcFNjb3JlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGMsYSxiKTthPXdyYXBUb1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYyxhKTtnKyt9d2hpbGUoZT5kKTtyZXR1cm4gZn07XG53cmFwU2NvcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9WzBdLGU9W107Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspZFtkLmxlbmd0aC0xXSs9YVtmXS5sZW5ndGgsYltmXT09PSEwPyhkLnB1c2goMCksZS5wdXNoKGFbZl0uY2hhckF0KGFbZl0ubGVuZ3RoLTEpKSk6YltmXT09PSExJiZkW2QubGVuZ3RoLTFdKys7YT1NYXRoLm1heCguLi5kKTtiPTA7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKyliLT1NYXRoLnBvdyhNYXRoLmFicyhjLWRbZl0pLDEuNSkqMixiLT1NYXRoLnBvdyhhLWRbZl0sMS41KSxcIi4/IVwiLmluY2x1ZGVzKGVbZl0pP2IrPWMvMzpcIiw7KV19XCIuaW5jbHVkZXMoZVtmXSkmJihiKz1jLzQpO2QubGVuZ3RoPjEmJmRbZC5sZW5ndGgtMV08PWRbZC5sZW5ndGgtMl0mJihiKz0uNSk7cmV0dXJuIGJ9O1xud3JhcE11dGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhLGIsYyl7bGV0IGQ9d3JhcFNjb3JlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGEsYixjKSxlO2ZvcihsZXQgZj0wO2Y8Yi5sZW5ndGgtMTtmKyspe2lmKGJbZl09PT1iW2YrMV0pY29udGludWU7Y29uc3QgZz1bXS5jb25jYXQoYik7Z1tmXT0hZ1tmXTtnW2YrMV09IWdbZisxXTtjb25zdCBoPXdyYXBTY29yZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhhLGcsYyk7aD5kJiYoZD1oLGU9Zyl9cmV0dXJuIGU/d3JhcE11dGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhhLGUsYyk6Yn07XG53cmFwVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1bXTtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKyljLnB1c2goYVtkXSksYltkXSE9PXZvaWQgMCYmYy5wdXNoKGJbZF0/XCJcXG5cIjpcIiBcIik7cmV0dXJuIGMuam9pbihcIlwiKX07JC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4vXlxccyotP1xcZCsoXFwuXFxkKyk/XFxzKiQvLnRlc3QoYSl9O3NldEN1c3RvbVRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKGEpe2N1c3RvbVRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWF9O2dldEN1c3RvbVRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7cmV0dXJuIGN1c3RvbVRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwfTtcbmlzVmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtyZXR1cm4gdmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXB9O2dldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtyZXR1cm4gY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcH07Z2V0VG9vbHRpcE9mT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtpZihhPWdldFRhcmdldE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoYSkpe2ZvcihhPWEudG9vbHRpcDt0eXBlb2YgYT09PVwiZnVuY3Rpb25cIjspYT1hKCk7aWYodHlwZW9mIGEhPT1cInN0cmluZ1wiKXRocm93IEVycm9yKFwiVG9vbHRpcCBmdW5jdGlvbiBtdXN0IHJldHVybiBhIHN0cmluZy5cIik7cmV0dXJuIGF9cmV0dXJuXCJcIn07XG5nZXRUYXJnZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKGEpe2Zvcig7YSYmYS50b29sdGlwOyl7aWYodHlwZW9mIGEudG9vbHRpcD09PVwic3RyaW5nXCJ8fHR5cGVvZiBhLnRvb2x0aXA9PT1cImZ1bmN0aW9uXCIpcmV0dXJuIGE7YT1hLnRvb2x0aXB9cmV0dXJuIG51bGx9O2NyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrbHlUb29sdGlwRGl2XCIpfHwoY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuY2xhc3NOYW1lPVwiYmxvY2tseVRvb2x0aXBEaXZcIiwoZ2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCl8fGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApKX07XG5iaW5kTW91c2VFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKGEpe2EubW91c2VPdmVyV3JhcHBlcl89YmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJwb2ludGVyb3ZlclwiLG51bGwsb25Nb3VzZU92ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKTthLm1vdXNlT3V0V3JhcHBlcl89YmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJwb2ludGVyb3V0XCIsbnVsbCxvbk1vdXNlT3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCk7YS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixvbk1vdXNlTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsITEpfTtcbnVuYmluZE1vdXNlRXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXthJiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYS5tb3VzZU92ZXJXcmFwcGVyXyksdW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYS5tb3VzZU91dFdyYXBwZXJfKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLG9uTW91c2VNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCkpfTtcbm9uTW91c2VPdmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtibG9ja2VkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcHx8KGE9Z2V0VGFyZ2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcChhLmN1cnJlbnRUYXJnZXQpLGVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwIT09YSYmKGhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCkscG9pc29uZWRFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1udWxsLGVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWEpLGNsZWFyVGltZW91dChtb3VzZU91dFBpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApKX07XG5vbk1vdXNlT3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtibG9ja2VkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcHx8KG1vdXNlT3V0UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cG9pc29uZWRFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1lbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1udWxsO2hpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCl9LDEpLGNsZWFyVGltZW91dChzaG93UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCksc2hvd1BpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9MCl9O1xub25Nb3VzZU1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKGEpe2lmKGVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwJiZlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC50b29sdGlwJiYhYmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApaWYodmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApe2NvbnN0IGI9bGFzdFgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLWEucGFnZVg7YT1sYXN0WSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAtYS5wYWdlWTtNYXRoLnNxcnQoYipiK2EqYSk+UkFESVVTX09LJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmaGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKX1lbHNlIHBvaXNvbmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAhPT1lbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmXG4oY2xlYXJUaW1lb3V0KHNob3dQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKSxsYXN0WCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9YS5wYWdlWCxsYXN0WSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9YS5wYWdlWSxzaG93UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1zZXRUaW1lb3V0KHNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLEhPVkVSX01TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCkpfTtkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe3BvaXNvbmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9bnVsbDtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpfTtcbmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7dmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJih2aXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0hMSxjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwJiYoY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSk7c2hvd1BpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAmJihjbGVhclRpbWVvdXQoc2hvd1BpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApLHNob3dQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTApfTtcbmJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe2hpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKCk7YmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ITB9O3VuYmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7YmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ITF9O1xucmVuZGVyQ29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZnVuY3Rpb24oKXtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwJiZlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmKHR5cGVvZiBjdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD09PVwiZnVuY3Rpb25cIj9jdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcChjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLGVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKTpyZW5kZXJEZWZhdWx0Q29udGVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKSl9O1xucmVuZGVyRGVmYXVsdENvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPWZ1bmN0aW9uKCl7dmFyIGE9Z2V0VG9vbHRpcE9mT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcChlbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCk7YT0kLndyYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoYSxMSU1JVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApO2E9YS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGI9MDtiPGEubGVuZ3RoO2IrKyl7Y29uc3QgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYVtiXSkpO2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuYXBwZW5kQ2hpbGQoYyl9fTtcbmdldFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbihhKXtjb25zdCBiPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7bGV0IGQ9bGFzdFgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO2Q9YT9kLShPRkZTRVRfWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXArY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5vZmZzZXRXaWR0aCk6ZCtPRkZTRVRfWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bGV0IGU9bGFzdFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwK09GRlNFVF9ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDtlK2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAub2Zmc2V0SGVpZ2h0PmMrd2luZG93LnNjcm9sbFkmJihlLT1jb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLm9mZnNldEhlaWdodCtcbjIqT0ZGU0VUX1kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKTthP2Q9TWF0aC5tYXgoTUFSR0lOUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAtd2luZG93LnNjcm9sbFgsZCk6ZCtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLm9mZnNldFdpZHRoPmIrd2luZG93LnNjcm9sbFgtMipNQVJHSU5TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmKGQ9Yi1jb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLm9mZnNldFdpZHRoLTIqTUFSR0lOUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXApO3JldHVybnt4OmQseTplfX07XG5zaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1mdW5jdGlvbigpe2lmKCFibG9ja2VkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCYmKHBvaXNvbmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCkpe2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAudGV4dENvbnRlbnQ9XCJcIjtyZW5kZXJDb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpO3ZhciBhPWVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLlJUTDtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLnN0eWxlLmRpcmVjdGlvbj1hP1wicnRsXCI6XCJsdHJcIjtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLnN0eWxlLmRpc3BsYXk9XG5cImJsb2NrXCI7dmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ITA7dmFyIHt4OmIseTpjfT1nZXRQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoYSk7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5zdHlsZS5sZWZ0PWIrXCJweFwiO2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuc3R5bGUudG9wPWMrXCJweFwifX07Z2V0SHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbigpe3JldHVybiBoc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyfTtzZXRIc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWZ1bmN0aW9uKGEpe2hzdlNhdHVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9YX07XG5nZXRIc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbigpe3JldHVybiBoc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cn07c2V0SHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oYSl7aHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9YX07XG5wYXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbihhKXthPWAke2F9YC50b0xvd2VyQ2FzZSgpLnRyaW0oKTt2YXIgYj1uYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91clthXTtpZihiKXJldHVybiBiO2I9YS5zdWJzdHJpbmcoMCwyKT09PVwiMHhcIj9cIiNcIithLnN1YnN0cmluZygyKTphO2I9YlswXT09PVwiI1wiP2I6XCIjXCIrYjtpZigvXiNbMC05YS1mXXs2fSQvLnRlc3QoYikpcmV0dXJuIGI7aWYoL14jWzAtOWEtZl17M30kLy50ZXN0KGIpKXJldHVybltcIiNcIixiWzFdLGJbMV0sYlsyXSxiWzJdLGJbM10sYlszXV0uam9pbihcIlwiKTt2YXIgYz1hLm1hdGNoKC9eKD86cmdiKT9cXHMqXFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccypcXCkkLyk7cmV0dXJuIGMmJihhPU51bWJlcihjWzFdKSxiPU51bWJlcihjWzJdKSxjPU51bWJlcihjWzNdKSxhPj0wJiZhPDI1NiYmYj49MCYmYjwyNTYmJmM+PTAmJmM8MjU2KT9yZ2JUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihhLFxuYixjKTpudWxsfTtyZ2JUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbihhLGIsYyl7Yj1hPDwxNnxiPDw4fGM7cmV0dXJuIGE8MTY/XCIjXCIrKDE2Nzc3MjE2fGIpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk6XCIjXCIrYi50b1N0cmluZygxNil9O2hleFRvUmdiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWZ1bmN0aW9uKGEpe2E9cGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYSk7aWYoIWEpcmV0dXJuWzAsMCwwXTthPXBhcnNlSW50KGEuc3Vic3RyKDEpLDE2KTtyZXR1cm5bYT4+MTYsYT4+OCYyNTUsYSYyNTVdfTtcbmhzdlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPWZ1bmN0aW9uKGEsYixjKXtsZXQgZD0wLGU9MCxmPTA7aWYoYj09PTApZj1lPWQ9YztlbHNle2NvbnN0IGc9TWF0aC5mbG9vcihhLzYwKSxoPWEvNjAtZzthPWMqKDEtYik7Y29uc3Qgaz1jKigxLWIqaCk7Yj1jKigxLWIqKDEtaCkpO3N3aXRjaChnKXtjYXNlIDE6ZD1rO2U9YztmPWE7YnJlYWs7Y2FzZSAyOmQ9YTtlPWM7Zj1iO2JyZWFrO2Nhc2UgMzpkPWE7ZT1rO2Y9YzticmVhaztjYXNlIDQ6ZD1iO2U9YTtmPWM7YnJlYWs7Y2FzZSA1OmQ9YztlPWE7Zj1rO2JyZWFrO2Nhc2UgNjpjYXNlIDA6ZD1jLGU9YixmPWF9fXJldHVybiByZ2JUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihNYXRoLmZsb29yKGQpLE1hdGguZmxvb3IoZSksTWF0aC5mbG9vcihmKSl9O1xuYmxlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9ZnVuY3Rpb24oYSxiLGMpe2E9cGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYSk7aWYoIWEpcmV0dXJuIG51bGw7Yj1wYXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihiKTtpZighYilyZXR1cm4gbnVsbDthPWhleFRvUmdiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGEpO2I9aGV4VG9SZ2IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYik7cmV0dXJuIHJnYlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKE1hdGgucm91bmQoYlswXStjKihhWzBdLWJbMF0pKSxNYXRoLnJvdW5kKGJbMV0rYyooYVsxXS1iWzFdKSksTWF0aC5yb3VuZChiWzJdK2MqKGFbMl0tYlsyXSkpKX07XG5odWVUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj1mdW5jdGlvbihhKXtyZXR1cm4gaHN2VG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYSxoc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLGhzdlZhbHVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKjI1NSl9O1xudG9rZW5pemVJbnRlcnBvbGF0aW9uSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nPWZ1bmN0aW9uKGEsYixjKXtjb25zdCBkPVtdO3ZhciBlPWEuc3BsaXQoXCJcIik7ZS5wdXNoKFwiXCIpO3ZhciBmPTA7YT1bXTtsZXQgZz1udWxsO2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7bCsrKXt2YXIgaD1lW2xdO2lmKGY9PT0wKWlmKGg9PT1cIiVcIikoZj1hLmpvaW4oXCJcIikpJiZkLnB1c2goZiksYS5sZW5ndGg9MCxmPTE7ZWxzZSBpZihjJiZoPT09XCJcXG5cIil7Y29uc3QgbT1hLmpvaW4oXCJcIik7bSYmZC5wdXNoKG0pO2EubGVuZ3RoPTA7ZC5wdXNoKGgpfWVsc2UgYS5wdXNoKGgpO2Vsc2UgaWYoZj09PTEpaD09PVwiJVwiPyhhLnB1c2goaCksZj0wKTpiJiZcIjBcIjw9aCYmaDw9XCI5XCI/KGY9MixnPWgsKGg9YS5qb2luKFwiXCIpKSYmZC5wdXNoKGgpLGEubGVuZ3RoPTApOmg9PT1cIntcIj9mPTM6KGEucHVzaChcIiVcIixoKSxmPTApO2Vsc2UgaWYoZj09PTIpaWYoXCIwXCI8PWgmJmg8PVwiOVwiKWcrPVxuaDtlbHNle3ZhciBrPXZvaWQgMDtkLnB1c2gocGFyc2VJbnQoKGs9ZykhPW51bGw/azpcIlwiLDEwKSk7bC0tO2Y9MH1lbHNlIGY9PT0zJiYoaD09PVwiXCI/KGEuc3BsaWNlKDAsMCxcIiV7XCIpLGwtLSxmPTApOmghPT1cIn1cIj9hLnB1c2goaCk6KGY9YS5qb2luKFwiXCIpLC9bQS1aXVxcdyovaS50ZXN0KGYpPyhoPWYudG9VcHBlckNhc2UoKSwoaD1oLnN0YXJ0c1dpdGgoXCJCS1lfXCIpP2guc3Vic3RyaW5nKDQpOm51bGwpJiZoIGluICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnPyhmPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnW2hdLHR5cGVvZiBmPT09XCJzdHJpbmdcIj9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLHRva2VuaXplSW50ZXJwb2xhdGlvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhmLGIsYykpOmI/ZC5wdXNoKGAke2Z9YCk6ZC5wdXNoKGYpKTpkLnB1c2goXCIle1wiK2YrXCJ9XCIpKTpkLnB1c2goXCIle1wiK2YrXCJ9XCIpLGY9XG5hLmxlbmd0aD0wKSl9KGI9YS5qb2luKFwiXCIpKSYmZC5wdXNoKGIpO2s9W107YS5sZW5ndGg9MDtmb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKXR5cGVvZiBkW2VdIT09XCJzdHJpbmdcInx8YyYmZFtlXT09PVwiXFxuXCI/KChiPWEuam9pbihcIlwiKSkmJmsucHVzaChiKSxhLmxlbmd0aD0wLGsucHVzaChkW2VdKSk6YS5wdXNoKGRbZV0pOyhiPWEuam9pbihcIlwiKSkmJmsucHVzaChiKTthLmxlbmd0aD0wO3JldHVybiBrfTt0b2tlbml6ZUludGVycG9sYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nPWZ1bmN0aW9uKGEpe3JldHVybiB0b2tlbml6ZUludGVycG9sYXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSwhMCwhMCl9O1xucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZz1mdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9PVwic3RyaW5nXCIpcmV0dXJuIGE7YT10b2tlbml6ZUludGVycG9sYXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSwhMSwhMSk7cmV0dXJuIGEubGVuZ3RoP1N0cmluZyhhWzBdKTpcIlwifTtcbmNoZWNrTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nPWZ1bmN0aW9uKGEpe2xldCBiPSEwO2NvbnN0IGM9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2csZD1hLm1hdGNoKC8le0JLWV9bQS1aXVxcdyp9L2dpKTtpZihkKWZvcihsZXQgZT0wO2U8ZC5sZW5ndGg7ZSsrKXtjb25zdCBmPWRbZV0udG9VcHBlckNhc2UoKTtjW2Yuc2xpY2UoNiwtMSldPT09dm9pZCAwJiYoY29uc29sZS53YXJuKFwiTm8gbWVzc2FnZSBzdHJpbmcgZm9yIFwiK2RbZV0rXCIgaW4gXCIrYSksYj0hMSl9cmV0dXJuIGJ9O1xucGFyc2VCbG9ja0NvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmc9ZnVuY3Rpb24oYSl7Y29uc3QgYj10eXBlb2YgYT09PVwic3RyaW5nXCI/cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhKTphO3ZhciBjPU51bWJlcihiKTtpZighaXNOYU4oYykmJjA8PWMmJmM8PTM2MClyZXR1cm57aHVlOmMsaGV4OmhzdlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKGMsZ2V0SHN2U2F0dXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cigpLGdldEhzdlZhbHVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKCkqMjU1KX07aWYoYz1wYXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihiKSlyZXR1cm57aHVlOm51bGwsaGV4OmN9O2M9J0ludmFsaWQgY29sb3VyOiBcIicrYisnXCInO2EhPT1iJiYoYys9JyAoZnJvbSBcIicrXG5hKydcIiknKTt0aHJvdyBFcnJvcihjKTt9O2dldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbigpe3JldHVybiBjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXZ9O3Rlc3RPbmx5X3NldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhKXtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9YTtpZihhPT09bnVsbCl7bGV0IGI7KGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5cIitjb250YWluZXJDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYpKT09bnVsbHx8Yi5yZW1vdmUoKX19O1xuY3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKCl7Y29uc3QgYT1nZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKXx8ZG9jdW1lbnQuYm9keSxiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuXCIrY29udGFpbmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KTtiP2NvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1iOihjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYuY2xhc3NOYW1lPWNvbnRhaW5lckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdixjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYudGFiSW5kZXg9XG4tMSk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LFwia2V5ZG93blwiLG51bGwsZ2xvYmFsU2hvcnRjdXRIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKTthLmFwcGVuZENoaWxkKGNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdil9O1xuc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhLGIsYyxkLGU9ITApe2hpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKTtvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1hO2Rpc3Bvc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9YztpZihjPWNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdil7Yy5zdHlsZS5kaXJlY3Rpb249Yj9cInJ0bFwiOlwibHRyXCI7Yy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtpZighZCYmYSBpbnN0YW5jZW9mIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQpe2xldCBoO2Q9KGg9YS5nZXRTb3VyY2VCbG9jaygpKT09bnVsbD92b2lkIDA6aC53b3Jrc3BhY2V9dmFyIGY7b3duZXJXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9KGY9ZCkhPW51bGw/ZjpudWxsO3ZhciBnO2E9KGc9ZCkhPW51bGw/ZzpnZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCk7XG5yZW5kZXJlckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1hLmdldFJlbmRlcmVyKCkuZ2V0Q2xhc3NOYW1lKCk7dGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9YS5nZXRUaGVtZSgpLmdldENsYXNzTmFtZSgpO3JlbmRlcmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2JiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShjLHJlbmRlcmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KTt0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYyx0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdik7ZSYmKHJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PVxuJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkudGFrZUVwaGVtZXJhbEZvY3VzKGMpKX19O1xuaGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbigpe2lmKGlzVmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpKXtvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1udWxsO3ZhciBhPWNvbnRhaW5lckRpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjthJiYoYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEuc3R5bGUubGVmdD1cIlwiLGEuc3R5bGUudG9wPVwiXCIsZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdiYmKGRpc3Bvc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKSxkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PW51bGwpLGEudGV4dENvbnRlbnQ9XCJcIixyZW5kZXJlckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdiYmKHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXG5yZW5kZXJlckNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdikscmVuZGVyZXJDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9XCJcIiksdGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYmJihyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLHRoZW1lQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KSx0aGVtZUNsYXNzTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1cIlwiKSxnZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCkubWFya0ZvY3VzZWQoKSxyZXR1cm5FcGhlbWVyYWxGb2N1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdiYmKHJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCkscmV0dXJuRXBoZW1lcmFsRm9jdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9XG5udWxsKSl9fTtpc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oKXtyZXR1cm4hIW93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2fTtoaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhKXtvd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj09PWEmJmhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKX07aGlkZUlmT3duZXJJc0luV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKGEpe2xldCBiPW93bmVyV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PT09bnVsbCxjPWE7Zm9yKDshYiYmYzspe2lmKGM9PT1hKXtiPSEwO2JyZWFrfWM9YS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZX1iJiZoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCl9O1xucG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhLGIsYyl7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LnN0eWxlLmxlZnQ9YStcInB4XCI7Y29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LnN0eWxlLnRvcD1iK1wicHhcIjtjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYuc3R5bGUuaGVpZ2h0PWMrXCJweFwifTtcbnBvc2l0aW9uV2l0aEFuY2hvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdj1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPWNhbGN1bGF0ZVkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoYSxiLGMpO2E9Y2FsY3VsYXRlWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdihhLGIsYyxkKTtlPDA/cG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdihhLDAsYy5oZWlnaHQrZSk6cG9zaXRpb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdihhLGUsYy5oZWlnaHQpfTtjYWxjdWxhdGVYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBkP01hdGgubWluKE1hdGgubWF4KGIucmlnaHQtYy53aWR0aCxhLmxlZnQpLGEucmlnaHQtYy53aWR0aCk6TWF0aC5tYXgoTWF0aC5taW4oYi5sZWZ0LGEucmlnaHQtYy53aWR0aCksYS5sZWZ0KX07XG5jYWxjdWxhdGVZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5ib3R0b20rYy5oZWlnaHQ+PWEuYm90dG9tP2IudG9wLWMuaGVpZ2h0OmIuYm90dG9tfTtpc1JlcG9zaXRpb25hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PWZ1bmN0aW9uKGEpe3JldHVybiEoYT09bnVsbHx8IWEucmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSl9O3JlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9ZnVuY3Rpb24oKXtpc1JlcG9zaXRpb25hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KG93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KSYmb3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYucmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSgpfHxoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCl9O1xuZ2V0Q3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9ZnVuY3Rpb24oKXtyZXR1cm4gY3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnV9O3NldEN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKGEpe2N1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWF9O1xuc2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKGEsYixjLGQsZSl7c2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdihkdW1teU93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsYyxkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUsZCk7aWYoYi5sZW5ndGgpe2V8fChhIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50P2U9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEuY2xpZW50WCxhLmNsaWVudFkpOihjb25zb2xlLndhcm4oXCJDb250ZXh0IG1lbnUgb3BlbmVkIHdpdGgga2V5Ym9hcmQgYnV0IG5vIGxvY2F0aW9uIGdpdmVuXCIpLGU9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCkpKTt2YXIgZj1wb3B1bGF0ZV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudShiLFxuYyxhLGUpO21lbnVfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9Zjtwb3NpdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudShmLGMsZSk7c2V0VGltZW91dChmdW5jdGlvbigpe2YuZm9jdXMoKX0sMSk7Y3VycmVudEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9bnVsbH1lbHNlIGhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSgpfTtcbnBvcHVsYXRlXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9bmV3IE1lbnUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51O2Uuc2V0Um9sZShSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5NRU5VKTtmb3IobGV0IGY9MDtmPGEubGVuZ3RoO2YrKyl7Y29uc3QgZz1hW2ZdO2lmKGcuc2VwYXJhdG9yKXtlLmFkZENoaWxkKG5ldyBNZW51U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudV9zZXBhcmF0b3IpO2NvbnRpbnVlfWNvbnN0IGg9bmV3IE1lbnVJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudWl0ZW0oZy50ZXh0KTtoLnNldFJpZ2h0VG9MZWZ0KGIpO2guc2V0Um9sZShSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5NRU5VSVRFTSk7ZS5hZGRDaGlsZChoKTtoLnNldEVuYWJsZWQoZy5lbmFibGVkKTtpZihnLmVuYWJsZWQpaC5vbkFjdGlvbihmdW5jdGlvbihrLFxubCl7aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KCk7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57c2V0VGltZW91dCgoKT0+e2cuY2FsbGJhY2soZy5zY29wZSxjLGwsZCl9LDApfSl9LHt9KX1yZXR1cm4gZX07XG5wb3NpdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1nZXRWaWV3cG9ydEJCb3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCgpO2M9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGMueStkLnRvcCxjLnkrZC50b3AsYy54K2QubGVmdCxjLngrZC5sZWZ0KTtjcmVhdGVXaWRnZXRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoYSk7Y29uc3QgZT1hLmdldFNpemUoKTtiJiYoYy5sZWZ0Kz1lLndpZHRoLGMucmlnaHQrPWUud2lkdGgsZC5sZWZ0Kz1lLndpZHRoLGQucmlnaHQrPWUud2lkdGgpO3Bvc2l0aW9uV2l0aEFuY2hvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdihkLGMsZSxiKTthLmZvY3VzKCl9O1xuY3JlYXRlV2lkZ2V0XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKGEpe3ZhciBiPWdldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpO2lmKCFiKXRocm93IEVycm9yKFwiQXR0ZW1wdGluZyB0byBjcmVhdGUgYSBjb250ZXh0IG1lbnUgd2hlbiB3aWRnZXQgZGl2IGlzIG51bGxcIik7Yj1hLnJlbmRlcihiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShiLFwiYmxvY2tseUNvbnRleHRNZW51XCIpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGIsXCJjb250ZXh0bWVudVwiLG51bGwsaGFsdFByb3BhZ2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUpO2EuZm9jdXMoKX07aGFsdFByb3BhZ2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9O1xuaGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKCl7aGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoZHVtbXlPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KTtjdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1udWxsfTtkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU9ZnVuY3Rpb24oKXttZW51XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51JiYobWVudV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudS5kaXNwb3NlKCksbWVudV8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1udWxsKX07XG4kLmNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PWZ1bmN0aW9uKGEsYil7cmV0dXJuKCk9PnskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtsZXQgYzt0cnl7Yz1iIGluc3RhbmNlb2YgRWxlbWVudD9kb21Ub0Jsb2NrSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYixhLndvcmtzcGFjZSk6YXBwZW5kSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhiLGEud29ya3NwYWNlKTtjb25zdCBkPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2QueD1hLlJUTD9kLngtJC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1czpkLngrJC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1cztkLnkrPSQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXMqXG4yO2MubW92ZUJ5KGQueCxkLnkpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX1pc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmIWMuaXNTaGFkb3coKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEUpKShjKSk7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGMpO3JldHVybiBjfX07XG5tb3VzZVRvV29ya3NwYWNlUG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnPWZ1bmN0aW9uKGEsYil7Yj1tb3VzZVRvU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYixhLmdldFBhcmVudFN2ZygpLGEuZ2V0SW52ZXJzZVNjcmVlbkNUTSgpKTtiLngvPWEuc2NhbGU7Yi55Lz1hLnNjYWxlO3JldHVybiBifTtzdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWc9ZnVuY3Rpb24oYSxiLGMpe2I9bW91c2VUb1dvcmtzcGFjZVBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyhhLGIpO3dvcmtzcGFjZVRvRHJhZ0RlbHRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZy5zZXQoYSxDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaWZmZXJlbmNlKGMsYikpfTtcbm1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnPWZ1bmN0aW9uKGEsYil7Yj1tb3VzZVRvV29ya3NwYWNlUG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnKGEsYik7YT13b3Jrc3BhY2VUb0RyYWdEZWx0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcuZ2V0KGEpO2lmKCFhKXRocm93IEVycm9yKFwiRHJhZyBub3QgaW5pdGlhbGl6ZWRcIik7cmV0dXJuIENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShhLGIpfTtcbndvcmtzcGFjZVRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYj0hMSl7Y29uc3QgYz0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJ4bWxcIik7dmFyIGQ9dmFyaWFibGVzVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoJC5hbGxVc2VkVmFyTW9kZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEpKTtkLmhhc0NoaWxkTm9kZXMoKSYmYy5hcHBlbmRDaGlsZChkKTtmb3IoY29uc3QgZSBvZiBhLmdldFRvcENvbW1lbnRzKCkpYy5hcHBlbmRDaGlsZChzYXZlV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChlLGIpKTthPWEuZ2V0VG9wQmxvY2tzKCEwKTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWMuYXBwZW5kQ2hpbGQoYmxvY2tUb0RvbVdpdGhYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhW2RdLGIpKTtyZXR1cm4gY307XG5zYXZlV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGI9ITEpe2NvbnN0IGM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiY29tbWVudFwiKTtifHxjLnNldEF0dHJpYnV0ZShcImlkXCIsYS5pZCk7Yj1hLndvcmtzcGFjZTtjb25zdCBkPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpLmNsb25lKCk7ZC54PWIuUlRMP2IuZ2V0V2lkdGgoKS1kLng6ZC54O2Muc2V0QXR0cmlidXRlKFwieFwiLGAke2QueH1gKTtjLnNldEF0dHJpYnV0ZShcInlcIixgJHtkLnl9YCk7Yy5zZXRBdHRyaWJ1dGUoXCJ3XCIsYCR7YS5nZXRTaXplKCkud2lkdGh9YCk7Yy5zZXRBdHRyaWJ1dGUoXCJoXCIsYCR7YS5nZXRTaXplKCkuaGVpZ2h0fWApO2EuZ2V0VGV4dCgpJiYoYy50ZXh0Q29udGVudD1hLmdldFRleHQoKSk7YS5pc0NvbGxhcHNlZCgpJiZjLnNldEF0dHJpYnV0ZShcImNvbGxhcHNlZFwiLFwidHJ1ZVwiKTthLmlzT3duRWRpdGFibGUoKXx8XG5jLnNldEF0dHJpYnV0ZShcImVkaXRhYmxlXCIsXCJmYWxzZVwiKTthLmlzT3duTW92YWJsZSgpfHxjLnNldEF0dHJpYnV0ZShcIm1vdmFibGVcIixcImZhbHNlXCIpO2EuaXNPd25EZWxldGFibGUoKXx8Yy5zZXRBdHRyaWJ1dGUoXCJkZWxldGFibGVcIixcImZhbHNlXCIpO3JldHVybiBjfTtcbnZhcmlhYmxlc1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe2NvbnN0IGI9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwidmFyaWFibGVzXCIpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY10sZT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJ2YXJpYWJsZVwiKTtlLmFwcGVuZENoaWxkKCQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoZC5nZXROYW1lKCkpKTtkLmdldFR5cGUoKSYmZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsZC5nZXRUeXBlKCkpO2UuaWQ9ZC5nZXRJZCgpO2IuYXBwZW5kQ2hpbGQoZSl9cmV0dXJuIGJ9O1xuYmxvY2tUb0RvbVdpdGhYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2lmKGEuaXNJbnNlcnRpb25NYXJrZXIoKSYmKGE9YS5nZXRDaGlsZHJlbighMSlbMF0sIWEpKXJldHVybiBuZXcgRG9jdW1lbnRGcmFnbWVudDtsZXQgYz0wO2Eud29ya3NwYWNlLlJUTCYmKGM9YS53b3Jrc3BhY2UuZ2V0V2lkdGgoKSk7Yj1ibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEsYik7aWYoaXNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGIpKXtjb25zdCBkPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2Iuc2V0QXR0cmlidXRlKFwieFwiLFN0cmluZyhNYXRoLnJvdW5kKGEud29ya3NwYWNlLlJUTD9jLWQueDpkLngpKSk7Yi5zZXRBdHRyaWJ1dGUoXCJ5XCIsU3RyaW5nKE1hdGgucm91bmQoZC55KSkpfXJldHVybiBifTtcbmZpZWxkVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSl7aWYoYS5pc1NlcmlhbGl6YWJsZSgpKXtjb25zdCBiPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImZpZWxkXCIpO2Iuc2V0QXR0cmlidXRlKFwibmFtZVwiLGEubmFtZXx8XCJcIik7cmV0dXJuIGEudG9YbWwoYil9cmV0dXJuIG51bGx9O2FsbEZpZWxkc1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7Zm9yKGNvbnN0IGMgb2YgYS5nZXRGaWVsZHMoKSkoYT1maWVsZFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGMpKSYmYi5hcHBlbmRDaGlsZChhKX07XG5ibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7aWYoYS5pc0luc2VydGlvbk1hcmtlcigpKXJldHVybihiPWEuZ2V0Q2hpbGRyZW4oITEpWzBdKT9ibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGIpOm5ldyBEb2N1bWVudEZyYWdtZW50O2NvbnN0IGM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEuaXNTaGFkb3coKT9cInNoYWRvd1wiOlwiYmxvY2tcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYS50eXBlKTtifHwoYy5pZD1hLmlkKTtpZihhLm11dGF0aW9uVG9Eb20pe3ZhciBkPWEubXV0YXRpb25Ub0RvbSgpO2QmJihkLmhhc0NoaWxkTm9kZXMoKXx8ZC5oYXNBdHRyaWJ1dGVzKCkpJiZjLmFwcGVuZENoaWxkKGQpfWFsbEZpZWxkc1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEsYyk7aWYoZD1hLmdldENvbW1lbnRUZXh0KCkpe3ZhciBlPWEuZ2V0SWNvbihJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuQ09NTUVOVCksXG5mPWUuZ2V0QnViYmxlU2l6ZSgpLGc9ZS5idWJibGVJc1Zpc2libGUoKTtlPWUuZ2V0QnViYmxlTG9jYXRpb24oKTt2YXIgaD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJjb21tZW50XCIpO2guYXBwZW5kQ2hpbGQoJC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChkKSk7aC5zZXRBdHRyaWJ1dGUoXCJwaW5uZWRcIixgJHtnfWApO2guc2V0QXR0cmlidXRlKFwiaFwiLGAke2YuaGVpZ2h0fWApO2guc2V0QXR0cmlidXRlKFwid1wiLGAke2Yud2lkdGh9YCk7ZSYmKGguc2V0QXR0cmlidXRlKFwieFwiLGAke2Eud29ya3NwYWNlLlJUTD9hLndvcmtzcGFjZS5nZXRXaWR0aCgpLShlLngrZi53aWR0aCk6ZS54fWApLGguc2V0QXR0cmlidXRlKFwieVwiLGAke2UueX1gKSk7Yy5hcHBlbmRDaGlsZChoKX1hLmRhdGEmJihkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImRhdGFcIiksZC5hcHBlbmRDaGlsZCgkLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEuZGF0YSkpLFxuYy5hcHBlbmRDaGlsZChkKSk7Zm9yKGQ9MDtkPGEuaW5wdXRMaXN0Lmxlbmd0aDtkKyspe2Y9YS5pbnB1dExpc3RbZF07dmFyIGs9dm9pZCAwO2c9ITA7Zi50eXBlIT09JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLkRVTU1ZJiZmLnR5cGUhPT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuRU5EX1JPVyYmKGU9Zi5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCksZi50eXBlPT09JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLlZBTFVFP2s9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwidmFsdWVcIik6Zi50eXBlPT09JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLlNUQVRFTUVOVCYmKGs9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwic3RhdGVtZW50XCIpKSxcbmg9Zi5jb25uZWN0aW9uLmdldFNoYWRvd0RvbSgpLCFofHxlJiZlLmlzU2hhZG93KCl8fGsuYXBwZW5kQ2hpbGQoY2xvbmVTaGFkb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoaCxiKSksZSYmKGU9YmxvY2tUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChlLGIpLGUubm9kZVR5cGU9PT1Ob2RlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5FTEVNRU5UX05PREUmJihrLmFwcGVuZENoaWxkKGUpLGc9ITEpKSxrLnNldEF0dHJpYnV0ZShcIm5hbWVcIixmLm5hbWUpLGd8fGMuYXBwZW5kQ2hpbGQoaykpfWEuaW5wdXRzSW5saW5lIT09dm9pZCAwJiZhLmlucHV0c0lubGluZSE9PWEuaW5wdXRzSW5saW5lRGVmYXVsdCYmYy5zZXRBdHRyaWJ1dGUoXCJpbmxpbmVcIixTdHJpbmcoYS5pbnB1dHNJbmxpbmUpKTthLmlzQ29sbGFwc2VkKCkmJmMuc2V0QXR0cmlidXRlKFwiY29sbGFwc2VkXCIsXCJ0cnVlXCIpO2EuaXNFbmFibGVkKCl8fGMuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWQtcmVhc29uc1wiLFxuQXJyYXkuZnJvbShhLmdldERpc2FibGVkUmVhc29ucygpKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiLFwiKSk7YS5pc093bkRlbGV0YWJsZSgpfHxjLnNldEF0dHJpYnV0ZShcImRlbGV0YWJsZVwiLFwiZmFsc2VcIik7YS5pc093bk1vdmFibGUoKXx8Yy5zZXRBdHRyaWJ1dGUoXCJtb3ZhYmxlXCIsXCJmYWxzZVwiKTthLmlzT3duRWRpdGFibGUoKXx8Yy5zZXRBdHRyaWJ1dGUoXCJlZGl0YWJsZVwiLFwiZmFsc2VcIik7az1hLmdldE5leHRCbG9jaygpO2xldCBsO2smJihkPWJsb2NrVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoayxiKSxkLm5vZGVUeXBlPT09Tm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uRUxFTUVOVF9OT0RFJiYobD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJuZXh0XCIpLGwuYXBwZW5kQ2hpbGQoZCksYy5hcHBlbmRDaGlsZChsKSkpO2E9YS5uZXh0Q29ubmVjdGlvbiYmYS5uZXh0Q29ubmVjdGlvbi5nZXRTaGFkb3dEb20oKTtcbiFhfHxrJiZrLmlzU2hhZG93KCl8fGwuYXBwZW5kQ2hpbGQoY2xvbmVTaGFkb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSxiKSk7cmV0dXJuIGN9O1xuY2xvbmVTaGFkb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXtsZXQgYz1hPWEuY2xvbmVOb2RlKCEwKSxkO2Zvcig7YzspaWYoYiYmYy5ub2RlTmFtZT09PVwic2hhZG93XCImJmMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiksYy5maXJzdENoaWxkKWM9Yy5maXJzdENoaWxkO2Vsc2V7Zm9yKDtjJiYhYy5uZXh0U2libGluZzspe2Q9YztjPWMucGFyZW50Tm9kZTtsZXQgZTtkLm5vZGVUeXBlPT09Tm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uVEVYVF9OT0RFJiZkLmRhdGEudHJpbSgpPT09XCJcIiYmKChlPWMpPT1udWxsP3ZvaWQgMDplLmZpcnN0Q2hpbGQpIT09ZCYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShkKX1jJiYoZD1jLGM9Yy5uZXh0U2libGluZyxkLm5vZGVUeXBlPT09Tm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uVEVYVF9OT0RFJiZkLmRhdGEudHJpbSgpPT09XG5cIlwiJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGQpKX1yZXR1cm4gYX07ZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe3JldHVybiBkb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYSkucmVwbGFjZSgvPChcXHcrKShbXjxdKilcXC8+L2csXCI8JDEkMj48LyQxPlwiKX07XG5kb21Ub1ByZXR0eVRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSl7YT1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSkuc3BsaXQoXCI8XCIpO2xldCBiPVwiXCI7Zm9yKGxldCBjPTE7YzxhLmxlbmd0aDtjKyspe2NvbnN0IGQ9YVtjXTtkWzBdPT09XCIvXCImJihiPWIuc3Vic3RyaW5nKDIpKTthW2NdPWIrXCI8XCIrZDtkWzBdIT09XCIvXCImJmQuc2xpY2UoLTIpIT09XCIvPlwiJiYoYis9XCIgIFwiKX1hPWEuam9pbihcIlxcblwiKTthPWEucmVwbGFjZSgvKDwoXFx3KylcXGJbXj5dKj5bXlxcbl0qKVxcbiAqPFxcL1xcMj4vZyxcIiQxPC8kMj5cIik7cmV0dXJuIGEucmVwbGFjZSgvXlxcbi8sXCJcIil9O1xuY2xlYXJXb3Jrc3BhY2VBbmRMb2FkRnJvbVhtbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2Iuc2V0UmVzaXplc0VuYWJsZWQoITEpO2IuY2xlYXIoKTthPSQuZG9tVG9Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSxiKTtiLnNldFJlc2l6ZXNFbmFibGVkKCEwKTtyZXR1cm4gYX07XG4kLmRvbVRvV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7bGV0IGM9MDtiLlJUTCYmKGM9Yi5nZXRXaWR0aCgpKTtjb25zdCBkPVtdO3N0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTtjb25zdCBlPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtlfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtiLnNldFJlc2l6ZXNFbmFibGVkJiZiLnNldFJlc2l6ZXNFbmFibGVkKCExKTtsZXQgZj0hMDt0cnl7Zm9yKGxldCBnPTAsaDtoPWEuY2hpbGROb2Rlc1tnXTtnKyspe2NvbnN0IGs9aC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw9aDtpZihrPT09XCJibG9ja1wifHxrPT09XCJzaGFkb3dcIiYmIWdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl7Y29uc3QgbT1kb21Ub0Jsb2NrSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwobCxcbmIpO2QucHVzaChtLmlkKTtsZXQgbjtjb25zdCBwPXBhcnNlSW50KChuPWwuZ2V0QXR0cmlidXRlKFwieFwiKSkhPW51bGw/bjpcIjEwXCIsMTApO2xldCByO2NvbnN0IHE9cGFyc2VJbnQoKHI9bC5nZXRBdHRyaWJ1dGUoXCJ5XCIpKSE9bnVsbD9yOlwiMTBcIiwxMCk7aXNOYU4ocCl8fGlzTmFOKHEpfHxtLm1vdmVCeShiLlJUTD9jLXA6cCxxLFtcImNyZWF0ZVwiXSk7Zj0hMX1lbHNle2lmKGs9PT1cInNoYWRvd1wiKXRocm93IFR5cGVFcnJvcihcIlNoYWRvdyBibG9jayBjYW5ub3QgYmUgYSB0b3AtbGV2ZWwgYmxvY2suXCIpO2lmKGs9PT1cImNvbW1lbnRcIilsb2FkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChsLGIpO2Vsc2UgaWYoaz09PVwidmFyaWFibGVzXCIpe2lmKGYpZG9tVG9WYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwobCxiKTtlbHNlIHRocm93IEVycm9yKFwiJ3ZhcmlhYmxlcycgdGFnIG11c3QgZXhpc3Qgb25jZSBiZWZvcmUgYmxvY2sgYW5kIHNoYWRvdyB0YWcgZWxlbWVudHMgaW4gdGhlIHdvcmtzcGFjZSBYTUwsIGJ1dCBpdCB3YXMgZm91bmQgaW4gYW5vdGhlciBsb2NhdGlvbi5cIik7XG5mPSExfX19fWZpbmFsbHl7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKSxiLnNldFJlc2l6ZXNFbmFibGVkJiZiLnNldFJlc2l6ZXNFbmFibGVkKCEwKSxiLnJlbmRlcmVkJiZ0cmlnZ2VyUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCksc3RvcFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCl9ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5GSU5JU0hFRF9MT0FESU5HKSkoYikpO3JldHVybiBkfTtcbmxvYWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7dmFyIGM7Y29uc3QgZD0oYz1hLmdldEF0dHJpYnV0ZShcImlkXCIpKSE9bnVsbD9jOnZvaWQgMDtjPWIucmVuZGVyZWQ/bmV3IFJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50KGIsZCk6bmV3IFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudChiLGQpO3ZhciBlO2Muc2V0VGV4dCgoZT1hLnRleHRDb250ZW50KSE9bnVsbD9lOlwiXCIpO3ZhciBmO2U9cGFyc2VJbnQoKGY9YS5nZXRBdHRyaWJ1dGUoXCJ4XCIpKSE9bnVsbD9mOlwiXCIsMTApO2xldCBnO2Y9cGFyc2VJbnQoKGc9YS5nZXRBdHRyaWJ1dGUoXCJ5XCIpKSE9bnVsbD9nOlwiXCIsMTApO2lzTmFOKGUpfHxpc05hTihmKXx8KGU9Yi5SVEw/Yi5nZXRXaWR0aCgpLWU6ZSxcbmMubW92ZVRvKG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShlLGYpKSk7dmFyIGg7Yj1wYXJzZUludCgoaD1hLmdldEF0dHJpYnV0ZShcIndcIikpIT1udWxsP2g6XCJcIiwxMCk7bGV0IGs7aD1wYXJzZUludCgoaz1hLmdldEF0dHJpYnV0ZShcImhcIikpIT1udWxsP2s6XCJcIiwxMCk7aXNOYU4oYil8fGlzTmFOKGgpfHxjLnNldFNpemUobmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGIsaCkpO2EuZ2V0QXR0cmlidXRlKFwiY29sbGFwc2VkXCIpPT09XCJ0cnVlXCImJmMuc2V0Q29sbGFwc2VkKCEwKTthLmdldEF0dHJpYnV0ZShcImVkaXRhYmxlXCIpPT09XCJmYWxzZVwiJiZjLnNldEVkaXRhYmxlKCExKTthLmdldEF0dHJpYnV0ZShcIm1vdmFibGVcIik9PT1cImZhbHNlXCImJmMuc2V0TW92YWJsZSghMSk7YS5nZXRBdHRyaWJ1dGUoXCJkZWxldGFibGVcIik9PT1cImZhbHNlXCImJmMuc2V0RGVsZXRhYmxlKCExKTtyZXR1cm4gY307XG5hcHBlbmREb21Ub1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2lmKCFiLmdldEJsb2Nrc0JvdW5kaW5nQm94KXJldHVybiAkLmRvbVRvV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEsYik7dmFyIGM9Yi5nZXRCbG9ja3NCb3VuZGluZ0JveCgpO2E9JC5kb21Ub1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGIpO2lmKGMmJmMudG9wIT09Yy5ib3R0b20pe3ZhciBkPWMuYm90dG9tO2M9Yi5SVEw/Yy5yaWdodDpjLmxlZnQ7dmFyIGU9SW5maW5pdHk7bGV0IGY9LUluZmluaXR5LGc9SW5maW5pdHk7Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGs9Yi5nZXRCbG9ja0J5SWQoYVtoXSkuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2sueTxnJiYoZz1rLnkpO2sueDxlJiYoZT1rLngpO2sueD5mJiYoZj1rLngpfWQ9ZC1nKzEwO2M9Yi5SVEw/Yy1mOmMtZTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKWIuZ2V0QmxvY2tCeUlkKGFbZV0pLm1vdmVCeShjLFxuZCxbXCJjcmVhdGVcIl0pfXJldHVybiBhfTskLmRvbVRvQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXthPWRvbVRvQmxvY2tJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGIpO2IucmVuZGVyZWQmJnRyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKTtyZXR1cm4gYX07XG5kb21Ub0Jsb2NrSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiKXskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt2YXIgYz1iLmdldEFsbFZhcmlhYmxlcygpO2xldCBkO3RyeXtpZihkPWRvbVRvQmxvY2tIZWFkbGVzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGIpLGIucmVuZGVyZWQpe2NvbnN0IGU9ZCxmPWQuZ2V0RGVzY2VuZGFudHMoITEpO2Uuc2V0Q29ubmVjdGlvblRyYWNraW5nKCExKTtmb3IobGV0IGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSlmW2ddLmluaXRTdmcoKTtmb3IobGV0IGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSlmW2ddLnF1ZXVlUmVuZGVyKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2UuZGlzcG9zZWR8fGUuc2V0Q29ubmVjdGlvblRyYWNraW5nKCEwKX0sMSk7Yi5yZXNpemVDb250ZW50cygpfWVsc2V7Y29uc3QgZT1kLmdldERlc2NlbmRhbnRzKCExKTtmb3IobGV0IGY9ZS5sZW5ndGgtXG4xO2Y+PTA7Zi0tKWVbZl0uaW5pdE1vZGVsKCl9fWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX1pZihpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl7YT1nZXRBZGRlZFZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLGMpO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYz1hW2JdLGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0NSRUFURSkpKGMpKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURSkpKGQpKX1yZXR1cm4gZH07XG5kb21Ub1ZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2ZvcihsZXQgZD0wO2Q8YS5jaGlsZHJlbi5sZW5ndGg7ZCsrKXt2YXIgYz1hLmNoaWxkcmVuW2RdO2NvbnN0IGU9Yy5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGY9Yy5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtjPWMudGV4dENvbnRlbnQ7aWYoIWMpYnJlYWs7bGV0IGc7Yi5nZXRWYXJpYWJsZU1hcCgpLmNyZWF0ZVZhcmlhYmxlKGMsKGc9ZSkhPW51bGw/Zzp2b2lkIDAsZil9fTtcbm1hcFN1cHBvcnRlZFhtbFRhZ3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSl7Y29uc3QgYj17bXV0YXRpb246W10sY29tbWVudDpbXSxkYXRhOltdLGZpZWxkOltdLGlucHV0OltdLG5leHQ6W119O2ZvcihsZXQgYz0wO2M8YS5jaGlsZHJlbi5sZW5ndGg7YysrKXtjb25zdCBkPWEuY2hpbGRyZW5bY107aWYoZC5ub2RlVHlwZSE9PU5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLlRFWFRfTk9ERSlzd2l0Y2goZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtjYXNlIFwibXV0YXRpb25cIjpiLm11dGF0aW9uLnB1c2goZCk7YnJlYWs7Y2FzZSBcImNvbW1lbnRcIjpiLmNvbW1lbnQucHVzaChkKTticmVhaztjYXNlIFwiZGF0YVwiOmIuZGF0YS5wdXNoKGQpO2JyZWFrO2Nhc2UgXCJ0aXRsZVwiOmNhc2UgXCJmaWVsZFwiOmIuZmllbGQucHVzaChkKTticmVhaztjYXNlIFwidmFsdWVcIjpjYXNlIFwic3RhdGVtZW50XCI6Yi5pbnB1dC5wdXNoKGQpO2JyZWFrO2Nhc2UgXCJuZXh0XCI6Yi5uZXh0LnB1c2goZCk7XG5icmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihcIklnbm9yaW5nIHVua25vd24gdGFnOiBcIitkLm5vZGVOYW1lKX19cmV0dXJuIGJ9O2FwcGx5TXV0YXRpb25UYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2xldCBjPSExO2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtjb25zdCBlPWFbZF07Yi5kb21Ub011dGF0aW9uJiYoYi5kb21Ub011dGF0aW9uKGUpLGIuaW5pdFN2ZyYmKGM9ITApKX1yZXR1cm4gY307XG5hcHBseUNvbW1lbnRUYWdOb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIpe2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY10sZT1kLnRleHRDb250ZW50LGY9ZC5nZXRBdHRyaWJ1dGUoXCJwaW5uZWRcIik9PT1cInRydWVcIjtsZXQgZztjb25zdCBoPXBhcnNlSW50KChnPWQuZ2V0QXR0cmlidXRlKFwid1wiKSkhPW51bGw/ZzpcIjUwXCIsMTApO2xldCBrO2NvbnN0IGw9cGFyc2VJbnQoKGs9ZC5nZXRBdHRyaWJ1dGUoXCJoXCIpKSE9bnVsbD9rOlwiNTBcIiwxMCk7bGV0IG0sbj1wYXJzZUludCgobT1kLmdldEF0dHJpYnV0ZShcInhcIikpIT1udWxsP206XCJcIiwxMCkscDtjb25zdCByPXBhcnNlSW50KChwPWQuZ2V0QXR0cmlidXRlKFwieVwiKSkhPW51bGw/cDpcIlwiLDEwKTtiLnNldENvbW1lbnRUZXh0KGUpO2NvbnN0IHE9Yi5nZXRJY29uKEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5UKTtpc05hTihoKXx8XG5pc05hTihsKXx8cS5zZXRCdWJibGVTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShoLGwpKTtxLnNldEJ1YmJsZVZpc2libGUoZik7c2V0VGltZW91dCgoKT0+e2lzTmFOKG4pfHxpc05hTihyKXx8KG49Yi53b3Jrc3BhY2UuUlRMP2Iud29ya3NwYWNlLmdldFdpZHRoKCktKG4raCk6bixxLnNldEJ1YmJsZUxvY2F0aW9uKG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShuLHIpKSk7cS5zZXRCdWJibGVWaXNpYmxlKGYpfSwxKX19O2FwcGx5RGF0YVRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspYi5kYXRhPWFbY10udGV4dENvbnRlbnR9O1xuYXBwbHlGaWVsZFRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEsYil7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspe2NvbnN0IGQ9YVtjXSxlPWQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtlP2RvbVRvRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYixlLGQpOmNvbnNvbGUud2FybihgSWdub3JpbmcgdW5uYW1lZCBmaWVsZCBpbiBibG9jayAke2IudHlwZX1gKX19O1xuZmluZENoaWxkQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe2xldCBiPW51bGwsYz1udWxsO2ZvcihsZXQgZD0wO2Q8YS5jaGlsZE5vZGVzLmxlbmd0aDtkKyspe2NvbnN0IGU9YS5jaGlsZE5vZGVzW2RdO2lzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChlKSYmKGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PVwiYmxvY2tcIj9iPWU6ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJzaGFkb3dcIiYmKGM9ZSkpfXJldHVybntjaGlsZEJsb2NrRWxlbWVudDpiLGNoaWxkU2hhZG93RWxlbWVudDpjfX07XG5hcHBseUlucHV0VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKGxldCBmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBlPWFbZl07Y29uc3QgZz1lLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksaD1nP2MuZ2V0SW5wdXQoZyk6bnVsbDtpZighaCl7Y29uc29sZS53YXJuKFwiSWdub3Jpbmcgbm9uLWV4aXN0ZW50IGlucHV0IFwiK2crXCIgaW4gYmxvY2sgXCIrZCk7YnJlYWt9ZT1maW5kQ2hpbGRCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZSk7aWYoZS5jaGlsZEJsb2NrRWxlbWVudCl7aWYoIWguY29ubmVjdGlvbil0aHJvdyBUeXBlRXJyb3IoXCJJbnB1dCBjb25uZWN0aW9uIGRvZXMgbm90IGV4aXN0LlwiKTtkb21Ub0Jsb2NrSGVhZGxlc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZS5jaGlsZEJsb2NrRWxlbWVudCxiLGguY29ubmVjdGlvbiwhMSl9aWYoZS5jaGlsZFNoYWRvd0VsZW1lbnQpe2xldCBrOyhrPWguY29ubmVjdGlvbik9PVxubnVsbHx8ay5zZXRTaGFkb3dEb20oZS5jaGlsZFNoYWRvd0VsZW1lbnQpfX19O1xuYXBwbHlOZXh0VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiLGMpe2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtjb25zdCBlPWZpbmRDaGlsZEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhW2RdKTtpZihlLmNoaWxkQmxvY2tFbGVtZW50KXtpZighYy5uZXh0Q29ubmVjdGlvbil0aHJvdyBUeXBlRXJyb3IoXCJOZXh0IHN0YXRlbWVudCBkb2VzIG5vdCBleGlzdC5cIik7aWYoYy5uZXh0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKXRocm93IFR5cGVFcnJvcihcIk5leHQgc3RhdGVtZW50IGlzIGFscmVhZHkgY29ubmVjdGVkLlwiKTtkb21Ub0Jsb2NrSGVhZGxlc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZS5jaGlsZEJsb2NrRWxlbWVudCxiLGMubmV4dENvbm5lY3Rpb24sITApfWUuY2hpbGRTaGFkb3dFbGVtZW50JiZjLm5leHRDb25uZWN0aW9uJiZjLm5leHRDb25uZWN0aW9uLnNldFNoYWRvd0RvbShlLmNoaWxkU2hhZG93RWxlbWVudCl9fTtcbmRvbVRvQmxvY2tIZWFkbGVzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZTtjb25zdCBmPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtpZighZil0aHJvdyBUeXBlRXJyb3IoXCJCbG9jayB0eXBlIHVuc3BlY2lmaWVkOiBcIithLm91dGVySFRNTCk7dmFyIGc9KGU9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkhPW51bGw/ZTp2b2lkIDA7ZT1iLm5ld0Jsb2NrKGYsZyk7Zz1tYXBTdXBwb3J0ZWRYbWxUYWdzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpO2NvbnN0IGg9YXBwbHlNdXRhdGlvblRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGcubXV0YXRpb24sZSk7YXBwbHlDb21tZW50VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZy5jb21tZW50LGUpO2FwcGx5RGF0YVRhZ05vZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGcuZGF0YSxlKTtpZihjKWlmKGQpaWYoZS5wcmV2aW91c0Nvbm5lY3Rpb24pYy5jb25uZWN0KGUucHJldmlvdXNDb25uZWN0aW9uKTtcbmVsc2UgdGhyb3cgVHlwZUVycm9yKFwiTmV4dCBibG9jayBkb2VzIG5vdCBoYXZlIHByZXZpb3VzIHN0YXRlbWVudC5cIik7ZWxzZSBpZihlLm91dHB1dENvbm5lY3Rpb24pYy5jb25uZWN0KGUub3V0cHV0Q29ubmVjdGlvbik7ZWxzZSBpZihlLnByZXZpb3VzQ29ubmVjdGlvbiljLmNvbm5lY3QoZS5wcmV2aW91c0Nvbm5lY3Rpb24pO2Vsc2UgdGhyb3cgVHlwZUVycm9yKFwiQ2hpbGQgYmxvY2sgZG9lcyBub3QgaGF2ZSBvdXRwdXQgb3IgcHJldmlvdXMgc3RhdGVtZW50LlwiKTthcHBseUZpZWxkVGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZy5maWVsZCxlKTthcHBseUlucHV0VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZy5pbnB1dCxiLGUsZik7YXBwbHlOZXh0VGFnTm9kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZy5uZXh0LGIsZSk7aCYmZS5pbml0U3ZnKCk7KGI9YS5nZXRBdHRyaWJ1dGUoXCJpbmxpbmVcIikpJiZlLnNldElucHV0c0lubGluZShiPT09XG5cInRydWVcIik7KGI9YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkmJmUuc2V0RGlzYWJsZWRSZWFzb24oYj09PVwidHJ1ZVwifHxiPT09XCJkaXNhYmxlZFwiLE1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKTtiPWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWQtcmVhc29uc1wiKTtpZihiIT09bnVsbClmb3IodmFyIGsgb2YgYi5zcGxpdChcIixcIikpZS5zZXREaXNhYmxlZFJlYXNvbighMCxkZWNvZGVVUklDb21wb25lbnQoaykpOyhrPWEuZ2V0QXR0cmlidXRlKFwiZGVsZXRhYmxlXCIpKSYmZS5zZXREZWxldGFibGUoaz09PVwidHJ1ZVwiKTsoaz1hLmdldEF0dHJpYnV0ZShcIm1vdmFibGVcIikpJiZlLnNldE1vdmFibGUoaz09PVwidHJ1ZVwiKTsoaz1hLmdldEF0dHJpYnV0ZShcImVkaXRhYmxlXCIpKSYmZS5zZXRFZGl0YWJsZShrPT09XCJ0cnVlXCIpOyhrPWEuZ2V0QXR0cmlidXRlKFwiY29sbGFwc2VkXCIpKSYmZS5zZXRDb2xsYXBzZWQoaz09PVwidHJ1ZVwiKTtpZihhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1cblwic2hhZG93XCIpe2E9ZS5nZXRDaGlsZHJlbighMSk7Zm9yKGs9MDtrPGEubGVuZ3RoO2srKylpZighYVtrXS5pc1NoYWRvdygpKXRocm93IFR5cGVFcnJvcihcIlNoYWRvdyBibG9jayBub3QgYWxsb3dlZCBub24tc2hhZG93IGNoaWxkLlwiKTtlLnNldFNoYWRvdyghMCl9cmV0dXJuIGV9O2RvbVRvRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9ZnVuY3Rpb24oYSxiLGMpe2NvbnN0IGQ9YS5nZXRGaWVsZChiKTtkP2QuZnJvbVhtbChjKTpjb25zb2xlLndhcm4oXCJJZ25vcmluZyBub24tZXhpc3RlbnQgZmllbGQgXCIrYitcIiBpbiBibG9jayBcIithLnR5cGUpfTtkZWxldGVOZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe2ZvcihsZXQgYj0wO2I8YS5jaGlsZE5vZGVzLmxlbmd0aDtiKyspe2NvbnN0IGM9YS5jaGlsZE5vZGVzW2JdO2lmKGMubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PVwibmV4dFwiKXthLnJlbW92ZUNoaWxkKGMpO2JyZWFrfX19O1xuaXNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sPWZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVUeXBlPT09Tm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uRUxFTUVOVF9OT0RFfTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5PWZ1bmN0aW9uKGEsYil7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRklFTEQsYSxiLCEwKX07dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5PWZ1bmN0aW9uKGEpe3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRklFTEQsYSl9OyQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeT1mdW5jdGlvbihhKXtyZXR1cm4gVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkuZnJvbUpzb25JbnRlcm5hbChhKX07XG5mcm9tSnNvbkludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk9ZnVuY3Rpb24oYSl7Y29uc3QgYj1nZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRklFTEQsYS50eXBlKTtyZXR1cm4gYj9iLmZyb21Kc29uKGEpOihjb25zb2xlLndhcm4oXCJCbG9ja2x5IGNvdWxkIG5vdCBjcmVhdGUgYSBmaWVsZCBvZiB0eXBlIFwiK2EudHlwZStcIi4gVGhlIGZpZWxkIGlzIHByb2JhYmx5IG5vdCBiZWluZyByZWdpc3RlcmVkLiBUaGlzIGNvdWxkIGJlIGJlY2F1c2UgdGhlIGZpbGUgaXMgbm90IGxvYWRlZCwgdGhlIGZpZWxkIGRvZXMgbm90IHJlZ2lzdGVyIGl0c2VsZiAoSXNzdWUgIzE1ODQpLCBvciB0aGUgcmVnaXN0cmF0aW9uIGlzIG5vdCBiZWluZyByZWFjaGVkLlwiKSxudWxsKX07XG5pc0ltYWdlUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYT09PVwib2JqZWN0XCImJlwic3JjXCJpbiBhJiZ0eXBlb2YgYS5zcmM9PT1cInN0cmluZ1wiJiZcImFsdFwiaW4gYSYmdHlwZW9mIGEuYWx0PT09XCJzdHJpbmdcIiYmXCJ3aWR0aFwiaW4gYSYmdHlwZW9mIGEud2lkdGg9PT1cIm51bWJlclwiJiZcImhlaWdodFwiaW4gYSYmdHlwZW9mIGEuaGVpZ2h0PT09XCJudW1iZXJcIn07XG4kLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBhIT09XCJzdHJpbmdcInx8YS50cmltKCk9PT1cIlwiKXRocm93IEVycm9yKCdFcnJvcjogSW52YWxpZCBleHRlbnNpb24gbmFtZSBcIicrYSsnXCInKTtpZihhbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc1thXSl0aHJvdyBFcnJvcignRXJyb3I6IEV4dGVuc2lvbiBcIicrYSsnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO2lmKHR5cGVvZiBiIT09XCJmdW5jdGlvblwiKXRocm93IEVycm9yKCdFcnJvcjogRXh0ZW5zaW9uIFwiJythKydcIiBtdXN0IGJlIGEgZnVuY3Rpb24nKTthbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc1thXT1ifTtcbiQucmVnaXN0ZXJNaXhpbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtpZighYnx8dHlwZW9mIGIhPT1cIm9iamVjdFwiKXRocm93IEVycm9yKCdFcnJvcjogTWl4aW4gXCInK2ErJ1wiIG11c3QgYmUgYSBvYmplY3QnKTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLGZ1bmN0aW9uKCl7dGhpcy5taXhpbihiKX0pfTtcbiQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPSdFcnJvciB3aGVuIHJlZ2lzdGVyaW5nIG11dGF0b3IgXCInK2ErJ1wiOiAnO2NoZWNrSGFzTXV0YXRvclByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGUsYik7Y29uc3QgZj1jaGVja011dGF0b3JEaWFsb2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGIsZSk7aWYoYyYmdHlwZW9mIGMhPT1cImZ1bmN0aW9uXCIpdGhyb3cgRXJyb3IoZSsnRXh0ZW5zaW9uIFwiJythKydcIiBpcyBub3QgYSBmdW5jdGlvbicpOyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGEsZnVuY3Rpb24oKXtmJiZ0aGlzLnNldE11dGF0b3IobmV3ICQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24oZHx8W10sdGhpcykpO3RoaXMubWl4aW4oYik7YyYmYy5hcHBseSh0aGlzKX0pfTtcbnVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEpe2lzUmVnaXN0ZXJlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYSk/ZGVsZXRlIGFsbEV4dGVuc2lvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zW2FdOmNvbnNvbGUud2FybignTm8gZXh0ZW5zaW9uIG1hcHBpbmcgZm9yIG5hbWUgXCInK2ErJ1wiIGZvdW5kIHRvIHVucmVnaXN0ZXInKX07aXNSZWdpc3RlcmVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhKXtyZXR1cm4hIWFsbEV4dGVuc2lvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zW2FdfTtcbmFwcGx5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIsYyl7Y29uc3QgZD1hbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc1thXTtpZih0eXBlb2YgZCE9PVwiZnVuY3Rpb25cIil0aHJvdyBFcnJvcignRXJyb3I6IEV4dGVuc2lvbiBcIicrYSsnXCIgbm90IGZvdW5kLicpO2xldCBlO2M/Y2hlY2tOb011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLGIpOmU9Z2V0TXV0YXRvclByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGIpO2QuYXBwbHkoYik7aWYoYyljaGVja0hhc011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucygnRXJyb3IgYWZ0ZXIgYXBwbHlpbmcgbXV0YXRvciBcIicrYSsnXCI6ICcsYik7ZWxzZSBpZighbXV0YXRvclByb3BlcnRpZXNNYXRjaCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoZSxcbmIpKXRocm93IEVycm9yKCdFcnJvciB3aGVuIGFwcGx5aW5nIGV4dGVuc2lvbiBcIicrYSsnXCI6IG11dGF0aW9uIHByb3BlcnRpZXMgY2hhbmdlZCB3aGVuIGFwcGx5aW5nIGEgbm9uLW11dGF0b3IgZXh0ZW5zaW9uLicpO307Y2hlY2tOb011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIpe2lmKGdldE11dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhiKS5sZW5ndGgpdGhyb3cgRXJyb3IoJ0Vycm9yOiB0cmllZCB0byBhcHBseSBtdXRhdGlvbiBcIicrYSsnXCIgdG8gYSBibG9jayB0aGF0IGFscmVhZHkgaGFzIG11dGF0b3IgZnVuY3Rpb25zLiAgQmxvY2sgaWQ6ICcrYi5pZCk7fTtcbmNoZWNrWG1sSG9va3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGNoZWNrSGFzRnVuY3Rpb25QYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhhLm11dGF0aW9uVG9Eb20sYS5kb21Ub011dGF0aW9uLGIrXCIgbXV0YXRpb25Ub0RvbS9kb21Ub011dGF0aW9uXCIpfTtjaGVja0pzb25Ib29rcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gY2hlY2tIYXNGdW5jdGlvblBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGEuc2F2ZUV4dHJhU3RhdGUsYS5sb2FkRXh0cmFTdGF0ZSxiK1wiIHNhdmVFeHRyYVN0YXRlL2xvYWRFeHRyYVN0YXRlXCIpfTtcbmNoZWNrTXV0YXRvckRpYWxvZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gY2hlY2tIYXNGdW5jdGlvblBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGEuY29tcG9zZSxhLmRlY29tcG9zZSxiK1wiIGNvbXBvc2UvZGVjb21wb3NlXCIpfTtjaGVja0hhc0Z1bmN0aW9uUGFpciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiLGMpe2lmKGEmJmIpe2lmKHR5cGVvZiBhIT09XCJmdW5jdGlvblwifHx0eXBlb2YgYiE9PVwiZnVuY3Rpb25cIil0aHJvdyBFcnJvcihjK1wiIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4hMH1pZighYSYmIWIpcmV0dXJuITE7dGhyb3cgRXJyb3IoYytcIk11c3QgaGF2ZSBib3RoIG9yIG5laXRoZXIgZnVuY3Rpb25zXCIpO307XG5jaGVja0hhc011dGF0b3JQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Y2hlY2tYbWxIb29rcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYixhKSxkPWNoZWNrSnNvbkhvb2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhiLGEpO2lmKCFjJiYhZCl0aHJvdyBFcnJvcihhK1wiTXV0YXRpb25zIG11c3QgY29udGFpbiBlaXRoZXIgWE1MIGhvb2tzLCBvciBKU09OIGhvb2tzLCBvciBib3RoXCIpO2NoZWNrTXV0YXRvckRpYWxvZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYixhKX07XG5nZXRNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1bXTthLmRvbVRvTXV0YXRpb24hPT12b2lkIDAmJmIucHVzaChhLmRvbVRvTXV0YXRpb24pO2EubXV0YXRpb25Ub0RvbSE9PXZvaWQgMCYmYi5wdXNoKGEubXV0YXRpb25Ub0RvbSk7YS5zYXZlRXh0cmFTdGF0ZSE9PXZvaWQgMCYmYi5wdXNoKGEuc2F2ZUV4dHJhU3RhdGUpO2EubG9hZEV4dHJhU3RhdGUhPT12b2lkIDAmJmIucHVzaChhLmxvYWRFeHRyYVN0YXRlKTthLmNvbXBvc2UhPT12b2lkIDAmJmIucHVzaChhLmNvbXBvc2UpO2EuZGVjb21wb3NlIT09dm9pZCAwJiZiLnB1c2goYS5kZWNvbXBvc2UpO3JldHVybiBifTtcbm11dGF0b3JQcm9wZXJ0aWVzTWF0Y2gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKGEsYil7Yj1nZXRNdXRhdG9yUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYik7aWYoYi5sZW5ndGghPT1hLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGM9MDtjPGIubGVuZ3RoO2MrKylpZihhW2NdIT09YltjXSlyZXR1cm4hMTtyZXR1cm4hMH07XG5ydW5BZnRlclBhZ2VMb2FkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhKXtpZih0eXBlb2YgZG9jdW1lbnQhPT1cIm9iamVjdFwiKXRocm93IEVycm9yKFwicnVuQWZ0ZXJQYWdlTG9hZCgpIHJlcXVpcmVzIGJyb3dzZXIgZG9jdW1lbnQuXCIpO2lmKGRvY3VtZW50LnJlYWR5U3RhdGU9PT1cImNvbXBsZXRlXCIpYSgpO2Vsc2V7Y29uc3QgYj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2RvY3VtZW50LnJlYWR5U3RhdGU9PT1cImNvbXBsZXRlXCImJihjbGVhckludGVydmFsKGIpLGEoKSl9LDEwKX19O1xuJC5idWlsZFRvb2x0aXBGb3JEcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPVtdO3JldHVybiBmdW5jdGlvbigpe2MuaW5jbHVkZXModGhpcy50eXBlKXx8KGNoZWNrRHJvcGRvd25PcHRpb25zSW5UYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnModGhpcyxhLGIpLGMucHVzaCh0aGlzLnR5cGUpKTt0aGlzLnNldFRvb2x0aXAoZnVuY3Rpb24oKXtjb25zdCBkPVN0cmluZyh0aGlzLmdldEZpZWxkVmFsdWUoYSkpO3JldHVybiByZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGJbZF0pfS5iaW5kKHRoaXMpKX19O1xuY2hlY2tEcm9wZG93bk9wdGlvbnNJblRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRGaWVsZChiKTtpZihkIGluc3RhbmNlb2YgRmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duJiYhZC5pc09wdGlvbkxpc3REeW5hbWljKCkpe2Q9ZC5nZXRPcHRpb25zKCk7Zm9yKGNvbnN0IGUgb2YgZCllIT09RmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLlNFUEFSQVRPUiYmKFssZF09ZSxjW2RdPT09dm9pZCAwJiZjb25zb2xlLndhcm4oYE5vIHRvb2x0aXAgbWFwcGluZyBmb3IgdmFsdWUgJHtkfSBvZiBmaWVsZCBgK2Ake2J9IG9mIGJsb2NrIHR5cGUgJHthLnR5cGV9LmApKX19O1xuJC5idWlsZFRvb2x0aXBXaXRoRmllbGRUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe2NvbnN0IGM9dGhpcy5nZXRGaWVsZChiKTtyZXR1cm4gcmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhKS5yZXBsYWNlKFwiJTFcIixjP2MuZ2V0VGV4dCgpOlwiXCIpfS5iaW5kKHRoaXMpKX19O2V4dGVuc2lvblBhcmVudFRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPWZ1bmN0aW9uKCl7Y29uc3QgYT10aGlzLnRvb2x0aXA7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7Y29uc3QgYj10aGlzLmdldFBhcmVudCgpO3JldHVybiBiJiZiLmdldElucHV0c0lubGluZSgpJiZiLnRvb2x0aXB8fGF9LmJpbmQodGhpcykpfTtcbnBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgXCIrYStcIixcIitiK1wiIFwifTtjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhLGIpe3JldHVyblwiIFwiK2ErYi5qb2luKFwiXCIpfTttb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIiBNIFwiK2ErXCIsXCIrYitcIiBcIn07bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgbSBcIithK1wiLFwiK2IrXCIgXCJ9O2xpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhLGIpe3JldHVyblwiIGwgXCIrYStcIixcIitiK1wiIFwifTtsaW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzPWZ1bmN0aW9uKGEpe3JldHVyblwiIGxcIithLmpvaW4oXCJcIil9O1xubGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz1mdW5jdGlvbihhLGIpe3JldHVyblwiIFwiK2ErXCIgXCIrYitcIiBcIn07YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBhK1wiIFwiK2MrXCIgXCIrYytcIiBcIitiK2R9O2Nvbm5lY3RSZWNpcHJvY2FsbHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7aWYoIWF8fCFiKXRocm93IEVycm9yKFwiQ2Fubm90IGNvbm5lY3QgbnVsbCBjb25uZWN0aW9ucy5cIik7YS50YXJnZXRDb25uZWN0aW9uPWI7Yi50YXJnZXRDb25uZWN0aW9uPWF9O1xuZ2V0U2luZ2xlQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb249ZnVuY3Rpb24oYSxiKXtsZXQgYz1udWxsO2I9Yi5vdXRwdXRDb25uZWN0aW9uO2NvbnN0IGQ9Yj09bnVsbD92b2lkIDA6Yi5nZXRDb25uZWN0aW9uQ2hlY2tlcigpO2ZvcihsZXQgZT0wLGY7Zj1hLmlucHV0TGlzdFtlXTtlKyspe2NvbnN0IGc9Zi5jb25uZWN0aW9uO2xldCBoO2lmKGcmJigoaD1kKT09bnVsbD8wOmguY2FuQ29ubmVjdChiLGcsITEpKSl7aWYoYylyZXR1cm4gbnVsbDtjPWd9fXJldHVybiBjfTtnZXRDb25uZWN0aW9uRm9yT3JwaGFuZWRPdXRwdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7bGV0IGM7Zm9yKDtjPWdldFNpbmdsZUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uKGEsYik7KWlmKGE9Yy50YXJnZXRCbG9jaygpLCFhfHxhLmlzU2hhZG93KCkpcmV0dXJuIGM7cmV0dXJuIG51bGx9O1xuaXNJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ljb249ZnVuY3Rpb24oYSl7cmV0dXJuIGlzRm9jdXNhYmxlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZShhKSYmdHlwZW9mIGEuZ2V0VHlwZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuaW5pdFZpZXc9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmRpc3Bvc2U9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmdldFdlaWdodD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0U2l6ZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuYXBwbHlDb2xvdXI9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmhpZGVGb3JJbnNlcnRpb25NYXJrZXI9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLnVwZGF0ZUVkaXRhYmxlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS51cGRhdGVDb2xsYXBzZWQ9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmlzU2hvd25XaGVuQ29sbGFwc2VkPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5zZXRPZmZzZXRJbkJsb2NrPT09XG5cImZ1bmN0aW9uXCImJnR5cGVvZiBhLm9uTG9jYXRpb25DaGFuZ2U9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLm9uQ2xpY2s9PT1cImZ1bmN0aW9uXCJ9O1xuaXNDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb21tZW50X2ljb249ZnVuY3Rpb24oYSl7cmV0dXJuIGlzSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9pY29uKGEpJiZoYXNCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaGFzX2J1YmJsZShhKSYmaXNTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VyaWFsaXphYmxlKGEpJiZ0eXBlb2YgYS5zZXRUZXh0PT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5nZXRUZXh0PT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5zZXRCdWJibGVTaXplPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5nZXRCdWJibGVTaXplPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5zZXRCdWJibGVMb2NhdGlvbj09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZ2V0QnViYmxlTG9jYXRpb249PT1cImZ1bmN0aW9uXCImJmEuZ2V0VHlwZSgpPT09SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlR9O1xuZGlzcG9zZVVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1mdW5jdGlvbihhKXtpZighKGEuZ2V0RGVzY2VuZGFudHMoITEpLmxlbmd0aD4xMDApKXt2YXIgYj1hLndvcmtzcGFjZSxjPWEuZ2V0U3ZnUm9vdCgpO2IuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShcImRlbGV0ZVwiKTt2YXIgZD1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxlPWMuY2xvbmVOb2RlKCEwKTtlLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK2QueCtcIixcIitkLnkrXCIpXCIpO3ZhciBmOyhmPWIuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxmLmFwcGVuZFRvQW5pbWF0aW9uTGF5ZXIoe2dldFN2Z1Jvb3Q6KCk9PmV9KTtkaXNwb3NlVWlTdGVwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucyhlLHt4OmQueCx5OmQueSx3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodH0sYi5SVEwsbmV3IERhdGUpfX07XG5kaXNwb3NlVWlTdGVwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1mdW5jdGlvbihhLGIsYyxkKXtjb25zdCBlPSgobmV3IERhdGUpLmdldFRpbWUoKS1kLmdldFRpbWUoKSkvMTUwO2U+MT9yZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEpOihhLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiKyhiLngrKGM/LTE6MSkqYi53aWR0aC8yKmUpK1wiLFwiKyhiLnkrYi5oZWlnaHQvMiplKStcIikgc2NhbGUoXCIrKDEtZSkrXCIpXCIpLHNldFRpbWVvdXQoZGlzcG9zZVVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMsMTAsYSxiLGMsZCkpfTtcbmNvbm5lY3Rpb25VaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3Jrc3BhY2U7Y29uc3QgYz1iLnNjYWxlO2IuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShcImNsaWNrXCIpO2lmKCEoYzwxKSl7dmFyIGQ9Yi5nZXRTdmdYWShhLmdldFN2Z1Jvb3QoKSk7YS5vdXRwdXRDb25uZWN0aW9uPyhkLngrPShhLlJUTD8zOi0zKSpjLGQueSs9MTMqYyk6YS5wcmV2aW91c0Nvbm5lY3Rpb24mJihkLngrPShhLlJUTD8tMjM6MjMpKmMsZC55Kz0zKmMpO3ZhciBlPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkNJUkNMRSx7Y3g6ZC54LGN5OmQueSxyOjAsZmlsbDpcIm5vbmVcIixzdHJva2U6XCIjODg4XCIsXCJzdHJva2Utd2lkdGhcIjoxMH0sYi5nZXRQYXJlbnRTdmcoKSk7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5BTklNQVRFLFxue2lkOlwiYW5pbWF0aW9uQ2lyY2xlXCIsYmVnaW46XCJpbmRlZmluaXRlXCIsYXR0cmlidXRlTmFtZTpcInJcIixkdXI6XCIxNTBtc1wiLGZyb206MCx0bzoyNSpjfSxlKTtiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkFOSU1BVEUse2lkOlwiYW5pbWF0aW9uT3BhY2l0eVwiLGJlZ2luOlwiaW5kZWZpbml0ZVwiLGF0dHJpYnV0ZU5hbWU6XCJvcGFjaXR5XCIsZHVyOlwiMTUwbXNcIixmcm9tOjEsdG86MH0sZSk7YS5iZWdpbkVsZW1lbnQoKTtiLmJlZ2luRWxlbWVudCgpO3NldFRpbWVvdXQoKCk9PnZvaWQgcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShlKSwxNTApfX07XG5kaXNjb25uZWN0VWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPWZ1bmN0aW9uKGEpe2Rpc2Nvbm5lY3RVaVN0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKCk7YS53b3Jrc3BhY2UuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShcImRpc2Nvbm5lY3RcIik7aWYoIShhLndvcmtzcGFjZS5zY2FsZTwxKSl7dmFyIGI9YS5nZXRIZWlnaHRXaWR0aCgpLmhlaWdodDtiPU1hdGguYXRhbigxMC9iKS9NYXRoLlBJKjE4MDthLlJUTHx8KGIqPS0xKTt3b2JibGluZ0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1hO2Rpc2Nvbm5lY3RVaVN0ZXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKGEsYixuZXcgRGF0ZSwwKX19O1xuZGlzY29ubmVjdFVpU3RlcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7Y29uc3QgZT1bLjY2LDEsLjY2LDAsLS42NiwtMSwtLjY2LDBdO2xldCBmPVwiXCI7Yy5nZXRUaW1lKCkrMjAwPihuZXcgRGF0ZSkuZ2V0VGltZSgpJiYoZj1gc2tld1goJHtNYXRoLnJvdW5kKGVbZCVlLmxlbmd0aF0qYil9KWAsZGlzY29ubmVjdFBpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9c2V0VGltZW91dChkaXNjb25uZWN0VWlTdGVwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucywxNSxhLGIsYyxkKzEpKTthLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixgJHthLmdldFRyYW5zbGF0aW9uKCl9ICR7Zn1gKX07XG5kaXNjb25uZWN0VWlTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1mdW5jdGlvbigpe3dvYmJsaW5nQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zJiYoZGlzY29ubmVjdFBpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMmJihjbGVhclRpbWVvdXQoZGlzY29ubmVjdFBpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMpLGRpc2Nvbm5lY3RQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPW51bGwpLHdvYmJsaW5nQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIix3b2JibGluZ0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucy5nZXRUcmFuc2xhdGlvbigpKSx3b2JibGluZ0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz1cbm51bGwpfTtcbm1vdmVCbG9ja1RvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyPWZ1bmN0aW9uKGEsYil7YS53b3Jrc3BhY2UuUlRMJiYoYi54PWEud29ya3NwYWNlLmdldFdpZHRoKCktYi54KTtjb25zdCBjPWEud29ya3NwYWNlLGQ9JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1cyxlPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UoYixhLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSksZj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKSxnPWMuZ2V0QWxsQmxvY2tzKCExKS5maWx0ZXIoaD0+aC5pZCE9YS5pZCkubWFwKGg9PmguZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpKTtmb3IoO2Jsb2NrT3ZlcmxhcHNPdGhlckV4YWN0bHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyKENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShiLGYpLFxuZyl8fGJsb2NrSXNJblNuYXBSYWRpdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyKGEsQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKGUsZiksZCk7KWMuUlRMP2YudHJhbnNsYXRlKC1kLGQqMik6Zi50cmFuc2xhdGUoZCxkKjIpO2EubW92ZVRvKENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShiLGYpKX07YmxvY2tPdmVybGFwc090aGVyRXhhY3RseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5zb21lKGM9Pk1hdGguYWJzKGMueC1hLngpPD0xJiZNYXRoLmFicyhjLnktYS55KTw9MSl9O1xuYmxvY2tJc0luU25hcFJhZGl1cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRibG9ja19wYXN0ZXI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLmdldENvbm5lY3Rpb25zXyghMSkuc29tZShkPT4hIWQuY2xvc2VzdChjLGIpLmNvbm5lY3Rpb24pfTtcbmJ1bXBPYmplY3RJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzPWZ1bmN0aW9uKGEsYixjKXtjb25zdCBkPWMuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSxlPWQucmlnaHQtZC5sZWZ0LGY9Y2xhbXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoKGIudG9wLGQudG9wLGIudG9wK2IuaGVpZ2h0LShkLmJvdHRvbS1kLnRvcCkpLWQudG9wO2xldCBnPWIubGVmdDtiPWIubGVmdCtiLndpZHRoLWU7YS5SVEw/Zz1NYXRoLm1pbihiLGcpOmI9TWF0aC5tYXgoZyxiKTtyZXR1cm4oYT1jbGFtcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgoZyxkLmxlZnQsYiktZC5sZWZ0KXx8Zj8oYy5tb3ZlQnkoYSxmLFtcImluYm91bmRzXCJdKSwhMCk6ITF9O1xuYnVtcEludG9Cb3VuZHNIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzPWZ1bmN0aW9uKGEpe3JldHVybiBiPT57dmFyIGM9YS5nZXRNZXRyaWNzTWFuYWdlcigpO2lmKGMuaGFzRml4ZWRFZGdlcygpJiYhYS5pc0RyYWdnaW5nKCkpe3ZhciBkO2lmKEJVTVBfRVZFTlRTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuaW5jbHVkZXMoKGQ9Yi50eXBlKSE9bnVsbD9kOlwiXCIpKXtkPWMuZ2V0U2Nyb2xsTWV0cmljcyghMCk7Y29uc3QgZT1leHRyYWN0T2JqZWN0RnJvbUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzKGEsYik7ZSYmKGM9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfHwhMSwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIuZ3JvdXApLGJ1bXBPYmplY3RJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzKGEsXG5kLGUpJiYhYi5ncm91cCYmY29uc29sZS53YXJuKFwiTW92ZWQgb2JqZWN0IGluIGJvdW5kcyBidXQgdGhlcmUgd2FzIG5vIGV2ZW50IGdyb3VwLiBUaGlzIG1heSBicmVhayB1bmRvLlwiKSwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGMpKX1lbHNlIGlzVmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhiKSYmYi5zY2FsZSYmYi5vbGRTY2FsZSYmYi5zY2FsZT5iLm9sZFNjYWxlJiZidW1wVG9wT2JqZWN0c0ludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMoYSl9fX07XG5leHRyYWN0T2JqZWN0RnJvbUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzPWZ1bmN0aW9uKGEsYil7bGV0IGM9bnVsbDtzd2l0Y2goYi50eXBlKXtjYXNlIEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURTpjYXNlIEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkU6KGM9YS5nZXRCbG9ja0J5SWQoYi5ibG9ja0lkKSkmJihjPWMuZ2V0Um9vdEJsb2NrKCkpO2JyZWFrO2Nhc2UgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DUkVBVEU6Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX01PVkU6Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX1JFU0laRTpjPWEuZ2V0Q29tbWVudEJ5SWQoYi5jb21tZW50SWQpfXJldHVybiBjfTtcbmJ1bXBUb3BPYmplY3RzSW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldE1ldHJpY3NNYW5hZ2VyKCk7aWYoYi5oYXNGaXhlZEVkZ2VzKCkmJiFhLmlzRHJhZ2dpbmcoKSl7Yj1iLmdldFNjcm9sbE1ldHJpY3MoITApO3ZhciBjPWEuZ2V0VG9wQm91bmRlZEVsZW1lbnRzKCk7Zm9yKGxldCBkPTAsZTtlPWNbZF07ZCsrKWJ1bXBPYmplY3RJbnRvQm91bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzKGEsYixlKX19O2lzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuaXNEZWxldGFibGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmRpc3Bvc2U9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLnNldERlbGV0ZVN0eWxlPT09XCJmdW5jdGlvblwifTtcbmdldEJsb2NrTmF2aWdhdGlvbkNhbmRpZGF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3k9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0SWNvbnMoKTtmb3IoY29uc3QgZCBvZiBhLmlucHV0TGlzdCl7aWYoIWQuaXNWaXNpYmxlKCkpY29udGludWU7Yy5wdXNoKC4uLmQuZmllbGRSb3cpO2xldCBlO2lmKChlPWQuY29ubmVjdGlvbik9PW51bGw/MDplLnRhcmdldEJsb2NrKCkpaWYoYT1kLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKSxkLmNvbm5lY3Rpb24udHlwZSE9PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UfHxiKWMucHVzaChhKTtlbHNle2xldCBmOyhhPShmPWEubGFzdENvbm5lY3Rpb25JblN0YWNrKCExKSk9PW51bGw/dm9pZCAwOmYuZ2V0U291cmNlQmxvY2soKSkmJmMucHVzaChhKX1lbHNle2xldCBmOygoZj1kLmNvbm5lY3Rpb24pPT1cbm51bGw/dm9pZCAwOmYudHlwZSk9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRSYmYy5wdXNoKGQuY29ubmVjdGlvbil9fXJldHVybiBjfTtcbm5hdmlnYXRlU3RhY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5PWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLndvcmtzcGFjZS5nZXRUb3BCb3VuZGVkRWxlbWVudHMoITApLmZpbHRlcihlPT5pc0ZvY3VzYWJsZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGUoZSkpO2E9Yy5pbmRleE9mKGEgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz9hLmdldFJvb3RCbG9jaygpOmEpK2I7bGV0IGQ9bnVsbDthPj0wJiZhPGMubGVuZ3RoP2Q9Y1thXTphPDA/ZD1jW2MubGVuZ3RoLTFdOmE+PWMubGVuZ3RoJiYoZD1jWzBdKTtpZihiPDAmJmQgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zyl7bGV0IGUsZjtyZXR1cm4oZj0oZT1kLmxhc3RDb25uZWN0aW9uSW5TdGFjayghMSkpPT1udWxsP1xudm9pZCAwOmUuZ2V0U291cmNlQmxvY2soKSkhPW51bGw/ZjpkfXJldHVybiBkfTtcbm5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3k9ZnVuY3Rpb24oYSxiKXt2YXIgYztsZXQgZDtjb25zdCBlPWEgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz8oZD0oYz1hLm91dHB1dENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpjLnRhcmdldEJsb2NrKCkpIT1udWxsP2Q6YS5nZXRTdXJyb3VuZFBhcmVudCgpOmEuZ2V0U291cmNlQmxvY2soKTtpZighKGUgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZykpcmV0dXJuIG51bGw7Yz1nZXRCbG9ja05hdmlnYXRpb25DYW5kaWRhdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGUsYj4wKTthPWMuaW5kZXhPZihhKTtpZihhPT09LTEpcmV0dXJuIG51bGw7Yj1hK2I7cmV0dXJuIGI+PTAmJmI8Yy5sZW5ndGg/XG5jW2JdOm51bGx9O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnk9ZnVuY3Rpb24oYSxiKXtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5JQ09OLGEudG9TdHJpbmcoKSxiKX07dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5PWZ1bmN0aW9uKGEpe3VucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuSUNPTixhKX07XG5pc0RyYWdnYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldFJlbGF0aXZlVG9TdXJmYWNlWFk9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmlzTW92YWJsZT09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuc3RhcnREcmFnPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5kcmFnPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5lbmREcmFnPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5yZXZlcnREcmFnPT09XCJmdW5jdGlvblwifTtpc0F1dG9IaWRlYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9hdXRvaGlkZWFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmF1dG9IaWRlPT09XCJmdW5jdGlvblwifTtcbmlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYS5nZXRQcm9jZWR1cmVNb2RlbD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEuZG9Qcm9jZWR1cmVVcGRhdGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmlzUHJvY2VkdXJlRGVmPT09XCJmdW5jdGlvblwifTtpc09ic2VydmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfb2JzZXJ2YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuc3RhcnRQdWJsaXNoaW5nPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5zdG9wUHVibGlzaGluZz09PVwiZnVuY3Rpb25cIn07XG5hbGxQcm9jZWR1cmVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhKXtjb25zdCBiPWEuZ2V0UHJvY2VkdXJlTWFwKCkuZ2V0UHJvY2VkdXJlcygpLmZpbHRlcihkPT4hZC5nZXRSZXR1cm5UeXBlcygpKS5tYXAoZD0+W2QuZ2V0TmFtZSgpLGQuZ2V0UGFyYW1ldGVycygpLm1hcChlPT5lLmdldE5hbWUoKSksITFdKTthLmdldEJsb2Nrc0J5VHlwZShcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIiwhMSkuZm9yRWFjaChkPT57IWlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrKGQpJiZpc0xlZ2FjeVByb2NlZHVyZURlZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzKGQpJiZiLnB1c2goZC5nZXRQcm9jZWR1cmVEZWYoKSl9KTtjb25zdCBjPWEuZ2V0UHJvY2VkdXJlTWFwKCkuZ2V0UHJvY2VkdXJlcygpLmZpbHRlcihkPT5cbiEhZC5nZXRSZXR1cm5UeXBlcygpKS5tYXAoZD0+W2QuZ2V0TmFtZSgpLGQuZ2V0UGFyYW1ldGVycygpLm1hcChlPT5lLmdldE5hbWUoKSksITBdKTthLmdldEJsb2Nrc0J5VHlwZShcInByb2NlZHVyZXNfZGVmcmV0dXJuXCIsITEpLmZvckVhY2goZD0+eyFpc1Byb2NlZHVyZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jayhkKSYmaXNMZWdhY3lQcm9jZWR1cmVEZWZCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2NrcyhkKSYmYy5wdXNoKGQuZ2V0UHJvY2VkdXJlRGVmKCkpfSk7Yi5zb3J0KHByb2NUdXBsZUNvbXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKTtjLnNvcnQocHJvY1R1cGxlQ29tcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMpO3JldHVybltiLGNdfTtcbnByb2NUdXBsZUNvbXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0ubG9jYWxlQ29tcGFyZShiWzBdLHZvaWQgMCx7c2Vuc2l0aXZpdHk6XCJiYXNlXCJ9KX07JC5maW5kTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIpe2lmKGIuaXNJbkZseW91dClyZXR1cm4gYTtmb3IoYT1hfHwkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5VTk5BTUVEX0tFWXx8XCJ1bm5hbWVkXCI7IWlzTGVnYWxOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhLGIud29ya3NwYWNlLGIpOyl7Y29uc3QgYz1hLm1hdGNoKC9eKC4qPykoXFxkKykkLyk7YT1jP2NbMV0rKHBhcnNlSW50KGNbMl0pKzEpOmErXCIyXCJ9cmV0dXJuIGF9O1xuaXNMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4haXNOYW1lVXNlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYSxiLGMpfTtcbmlzTmFtZVVzZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYixjKXtmb3IoY29uc3QgZCBvZiBiLmdldEFsbEJsb2NrcyghMSkpaWYoZCE9PWMmJmlzTGVnYWN5UHJvY2VkdXJlRGVmQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MoZCkmJiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoZC5nZXRQcm9jZWR1cmVEZWYoKVswXSxhKSlyZXR1cm4hMDtjPWMmJmlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrKGMpP2M9PW51bGw/dm9pZCAwOmMuZ2V0UHJvY2VkdXJlTW9kZWwoKTp2b2lkIDA7Zm9yKGNvbnN0IGQgb2YgYi5nZXRQcm9jZWR1cmVNYXAoKS5nZXRQcm9jZWR1cmVzKCkpaWYoZCE9PWMmJiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoZC5nZXROYW1lKCksXG5hKSlyZXR1cm4hMDtyZXR1cm4hMX07XG4kLnJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2E9YS50cmltKCk7Y29uc3QgYz0kLmZpbmRMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEsYik7aXNQcm9jZWR1cmVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2soYikmJiFiLmlzSW5zZXJ0aW9uTWFya2VyKCkmJmIuZ2V0UHJvY2VkdXJlTW9kZWwoKS5zZXROYW1lKGMpO2NvbnN0IGQ9dGhpcy5nZXRWYWx1ZSgpO2lmKGQhPT1hJiZkIT09Yylmb3IoYT1iLndvcmtzcGFjZS5nZXRBbGxCbG9ja3MoITEpLGI9MDtiPGEubGVuZ3RoO2IrKyl7Y29uc3QgZT1hW2JdO2UucmVuYW1lUHJvY2VkdXJlJiZlLnJlbmFtZVByb2NlZHVyZShkLGMpfXJldHVybiBjfTtcbnhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGYsZyl7Zm9yKGxldCBrPTA7azxmLmxlbmd0aDtrKyspe3ZhciBoPWZba11bMF07Y29uc3QgbD1mW2tdWzFdLG09JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIik7bS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsZyk7bS5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjE2XCIpO2NvbnN0IG49JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7bi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsaCk7bS5hcHBlbmRDaGlsZChuKTtmb3IoaD0wO2g8bC5sZW5ndGg7aCsrKXtjb25zdCBwPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImFyZ1wiKTtwLnNldEF0dHJpYnV0ZShcIm5hbWVcIixsW2hdKTtuLmFwcGVuZENoaWxkKHApfWMucHVzaChtKX19XG5jb25zdCBjPVtdO2lmKEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuKXt2YXIgZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKTtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIik7ZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjE2XCIpO3ZhciBlPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImZpZWxkXCIpO2Uuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiTkFNRVwiKTtlLmFwcGVuZENoaWxkKCQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9QUk9DRURVUkUpKTtkLmFwcGVuZENoaWxkKGUpO2MucHVzaChkKX1CbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MucHJvY2VkdXJlc19kZWZyZXR1cm4mJlxuKGQ9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIiksZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJwcm9jZWR1cmVzX2RlZnJldHVyblwiKSxkLnNldEF0dHJpYnV0ZShcImdhcFwiLFwiMTZcIiksZT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJmaWVsZFwiKSxlLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIk5BTUVcIiksZS5hcHBlbmRDaGlsZCgkLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1BST0NFRFVSRSkpLGQuYXBwZW5kQ2hpbGQoZSksYy5wdXNoKGQpKTtCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MucHJvY2VkdXJlc19pZnJldHVybiYmKGQ9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIiksXG5kLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfaWZyZXR1cm5cIiksZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixcIjE2XCIpLGMucHVzaChkKSk7Yy5sZW5ndGgmJmNbYy5sZW5ndGgtMV0uc2V0QXR0cmlidXRlKFwiZ2FwXCIsXCIyNFwiKTthPWFsbFByb2NlZHVyZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEpO2IoYVswXSxcInByb2NlZHVyZXNfY2FsbG5vcmV0dXJuXCIpO2IoYVsxXSxcInByb2NlZHVyZXNfY2FsbHJldHVyblwiKTtyZXR1cm4gY307aW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhLCExKX07XG5mbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiPSEwKXtmdW5jdGlvbiBjKGUsZil7Zm9yKGNvbnN0IFtnLGhdb2YgZSlkLnB1c2goe2tpbmQ6XCJibG9ja1wiLHR5cGU6ZixnYXA6MTYsZXh0cmFTdGF0ZTp7bmFtZTpnLHBhcmFtczpofX0pfWlmKGIpcmV0dXJuIHdhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIlRoZSBYTUwgcmV0dXJuIHZhbHVlIG9mIEJsb2NrbHkuUHJvY2VkdXJlcy5mbHlvdXRDYXRlZ29yeSgpXCIsXCJ2MTJcIixcInYxM1wiLFwidGhlIHNhbWUgbWV0aG9kLCBidXQgaGFuZGxlIGEgcmV0dXJuIHR5cGUgb2YgRmx5b3V0SXRlbUluZm9bXSAoSlNPTikgaW5zdGVhZC5cIikseG1sRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEpO2NvbnN0IGQ9W107QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnByb2NlZHVyZXNfZGVmbm9yZXR1cm4mJlxuZC5wdXNoKHtraW5kOlwiYmxvY2tcIix0eXBlOlwicHJvY2VkdXJlc19kZWZub3JldHVyblwiLGdhcDoxNixmaWVsZHM6e05BTUU6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9QUk9DRURVUkV9fSk7QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzLnByb2NlZHVyZXNfZGVmcmV0dXJuJiZkLnB1c2goe2tpbmQ6XCJibG9ja1wiLHR5cGU6XCJwcm9jZWR1cmVzX2RlZnJldHVyblwiLGdhcDoxNixmaWVsZHM6e05BTUU6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fUFJPQ0VEVVJFfX0pO0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy5wcm9jZWR1cmVzX2lmcmV0dXJuJiZkLnB1c2goe2tpbmQ6XCJibG9ja1wiLHR5cGU6XCJwcm9jZWR1cmVzX2lmcmV0dXJuXCIsZ2FwOjE2fSk7ZC5sZW5ndGgmJihkW2QubGVuZ3RoLTFdLmdhcD0yNCk7YT1hbGxQcm9jZWR1cmVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhhKTtcbmMoYVswXSxcInByb2NlZHVyZXNfY2FsbG5vcmV0dXJuXCIpO2MoYVsxXSxcInByb2NlZHVyZXNfY2FsbHJldHVyblwiKTtyZXR1cm4gZH07XG51cGRhdGVNdXRhdG9yRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPWEuZ2V0QmxvY2tzQnlUeXBlKFwicHJvY2VkdXJlc19tdXRhdG9yYXJnXCIsITEpO2ZvcihsZXQgZj0wLGc7Zz1jW2ZdO2YrKyliLnB1c2goZy5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKSk7Yz0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJ4bWxcIik7Y29uc3QgZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKTtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfbXV0YXRvcmFyZ1wiKTtjb25zdCBlPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImZpZWxkXCIpO2Uuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiTkFNRVwiKTtiPWdlbmVyYXRlVW5pcXVlTmFtZUZyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKCQuREVGQVVMVF9BUkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLFxuYik7Yj0kLmNyZWF0ZVRleHROb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGIpO2UuYXBwZW5kQ2hpbGQoYik7ZC5hcHBlbmRDaGlsZChlKTtjLmFwcGVuZENoaWxkKGQpO2EudXBkYXRlVG9vbGJveChjKX07XG5tdXRhdG9yT3Blbkxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhKXtpZihpc0J1YmJsZU9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKSYmYS5idWJibGVUeXBlPT09XCJtdXRhdG9yXCImJmEuaXNPcGVuJiZhLmJsb2NrSWQpe2E9Z2V0V29ya3NwYWNlQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihhLndvcmtzcGFjZUlkKS5nZXRCbG9ja0J5SWQoYS5ibG9ja0lkKTt2YXIgYj1hLnR5cGU7aWYoYj09PVwicHJvY2VkdXJlc19kZWZub3JldHVyblwifHxiPT09XCJwcm9jZWR1cmVzX2RlZnJldHVyblwiKWE9YS5nZXRJY29uKCQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24uVFlQRSkuZ2V0V29ya3NwYWNlKCksdXBkYXRlTXV0YXRvckZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYSksYS5hZGRDaGFuZ2VMaXN0ZW5lcihtdXRhdG9yQ2hhbmdlTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKX19O1xubXV0YXRvckNoYW5nZUxpc3RlbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcz1mdW5jdGlvbihhKXtpZihpc0Jsb2NrQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSl8fGlzQmxvY2tEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKXx8aXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpfHxpc0Jsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKSlhPWdldFdvcmtzcGFjZUJ5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYS53b3Jrc3BhY2VJZCksdXBkYXRlTXV0YXRvckZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoYSl9O1xuZ2V0Q2FsbGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5nZXRBbGxCbG9ja3MoITEpLmZpbHRlcihjPT5ibG9ja0lzTW9kZXJuQ2FsbGVyRm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhjLGEpfHxpc0xlZ2FjeVByb2NlZHVyZUNhbGxCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2NrcyhjKSYmJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLmVxdWFscyhjLmdldFByb2NlZHVyZUNhbGwoKSxhKSl9O1xuYmxvY2tJc01vZGVybkNhbGxlckZvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaXNQcm9jZWR1cmVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2soYSkmJiFhLmlzUHJvY2VkdXJlRGVmKCkmJmEuZ2V0UHJvY2VkdXJlTW9kZWwoKSYmJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLmVxdWFscyhhLmdldFByb2NlZHVyZU1vZGVsKCkuZ2V0TmFtZSgpLGIpfTtcbiQubXV0YXRlQ2FsbGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1nZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dmFyIGM9YS5nZXRQcm9jZWR1cmVEZWYoKVswXTtjb25zdCBkPWEubXV0YXRpb25Ub0RvbSghMCk7YT1nZXRDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhjLGEud29ya3NwYWNlKTtmb3IobGV0IGY9MCxnO2c9YVtmXTtmKyspe2M9KGM9Zy5tdXRhdGlvblRvRG9tKCkpJiZkb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYyk7Zy5kb21Ub011dGF0aW9uJiZnLmRvbVRvTXV0YXRpb24oZCk7dmFyIGU9Zy5tdXRhdGlvblRvRG9tKCk7ZT1lJiZkb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoZSk7YyE9PWUmJigkLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpLFxuZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKShnLFwibXV0YXRpb25cIixudWxsLGMsZSkpLCQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhiKSl9fTtcbiQuZ2V0RGVmaW5pdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSxiKXtmb3IoY29uc3QgYyBvZiBiLmdldEFsbEJsb2NrcyghMSkpaWYoaXNQcm9jZWR1cmVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfYmxvY2soYykmJmMuaXNQcm9jZWR1cmVEZWYoKSYmJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLmVxdWFscyhjLmdldFByb2NlZHVyZU1vZGVsKCkuZ2V0TmFtZSgpLGEpfHxpc0xlZ2FjeVByb2NlZHVyZURlZkJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzKGMpJiYkLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuZXF1YWxzKGMuZ2V0UHJvY2VkdXJlRGVmKClbMF0sYSkpcmV0dXJuIGM7cmV0dXJuIG51bGx9O1xuaXNEeW5hbWljU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cz1mdW5jdGlvbihhKXtyZXR1cm4gYS5pc0R5bmFtaWN9O2lzUHV6emxlVGFiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGF0aERvd24hPT12b2lkIDAmJmEucGF0aFVwIT09dm9pZCAwfTtpc05vdGNoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGF0aExlZnQhPT12b2lkIDAmJmEucGF0aFJpZ2h0IT09dm9pZCAwfTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmc9ZnVuY3Rpb24oYSxiKXtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5SRU5ERVJFUixhLGIpfTt1bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmc9ZnVuY3Rpb24oYSl7dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5SRU5ERVJFUixhKX07XG5pbml0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmc9ZnVuY3Rpb24oYSxiLGMpe2E9bmV3IChnZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5SRU5ERVJFUixhKSkoYSk7YS5pbml0KGIsYyk7cmV0dXJuIGF9O3N0cmluZ0J1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljPWZ1bmN0aW9uKGEpe2NyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLmdldFRhcmdldFdvcmtzcGFjZSgpLHZvaWQgMCxcIlN0cmluZ1wiKX07XG5udW1iZXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1mdW5jdGlvbihhKXtjcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYS5nZXRUYXJnZXRXb3Jrc3BhY2UoKSx2b2lkIDAsXCJOdW1iZXJcIil9O2NvbG91ckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljPWZ1bmN0aW9uKGEpe2NyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLmdldFRhcmdldFdvcmtzcGFjZSgpLHZvaWQgMCxcIkNvbG91clwiKX07XG5pbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMoYSwhMSl9O1xuZmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1mdW5jdGlvbihhLGI9ITApe0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy52YXJpYWJsZXNfc2V0X2R5bmFtaWN8fEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy52YXJpYWJsZXNfZ2V0X2R5bmFtaWN8fGNvbnNvbGUud2FybihcIlRoZXJlIGFyZSBubyBkeW5hbWljIHZhcmlhYmxlIGJsb2NrcywgYnV0IHRoZXJlIGlzIGEgZHluYW1pYyB2YXJpYWJsZSBjYXRlZ29yeS5cIik7aWYoYilyZXR1cm4gd2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiVGhlIFhNTCByZXR1cm4gdmFsdWUgb2YgQmxvY2tseS5WYXJpYWJsZXNEeW5hbWljLmZseW91dENhdGVnb3J5KClcIixcInYxMlwiLFwidjEzXCIsXCJ0aGUgc2FtZSBtZXRob2QsIGJ1dCBoYW5kbGUgYSByZXR1cm4gdHlwZSBvZiBGbHlvdXRJdGVtSW5mb1tdIChKU09OKSBpbnN0ZWFkLlwiKSxcbnhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMoYSk7YS5yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKFwiQ1JFQVRFX1ZBUklBQkxFX1NUUklOR1wiLHN0cmluZ0J1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKTthLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVfTlVNQkVSXCIsbnVtYmVyQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRV9DT0xPVVJcIixjb2xvdXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyk7cmV0dXJuW3traW5kOlwiYnV0dG9uXCIsdGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ORVdfU1RSSU5HX1ZBUklBQkxFLGNhbGxiYWNra2V5OlwiQ1JFQVRFX1ZBUklBQkxFX1NUUklOR1wifSxcbntraW5kOlwiYnV0dG9uXCIsdGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ORVdfTlVNQkVSX1ZBUklBQkxFLGNhbGxiYWNra2V5OlwiQ1JFQVRFX1ZBUklBQkxFX05VTUJFUlwifSx7a2luZDpcImJ1dHRvblwiLHRleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTkVXX0NPTE9VUl9WQVJJQUJMRSxjYWxsYmFja2tleTpcIkNSRUFURV9WQVJJQUJMRV9DT0xPVVJcIn0sLi4uanNvbkZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEsYS5nZXRWYXJpYWJsZU1hcCgpLmdldEFsbFZhcmlhYmxlcygpLCExLFwidmFyaWFibGVzX2dldF9keW5hbWljXCIsXCJ2YXJpYWJsZXNfc2V0X2R5bmFtaWNcIildfTtcbnhtbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9ZnVuY3Rpb24oYSl7bGV0IGI9W10sYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Muc2V0QXR0cmlidXRlKFwidGV4dFwiLCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk5FV19TVFJJTkdfVkFSSUFCTEUpO2Muc2V0QXR0cmlidXRlKFwiY2FsbGJhY2tLZXlcIixcIkNSRUFURV9WQVJJQUJMRV9TVFJJTkdcIik7Yi5wdXNoKGMpO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInRleHRcIiwkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ORVdfTlVNQkVSX1ZBUklBQkxFKTtjLnNldEF0dHJpYnV0ZShcImNhbGxiYWNrS2V5XCIsXCJDUkVBVEVfVkFSSUFCTEVfTlVNQkVSXCIpO2IucHVzaChjKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIsJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTkVXX0NPTE9VUl9WQVJJQUJMRSk7XG5jLnNldEF0dHJpYnV0ZShcImNhbGxiYWNrS2V5XCIsXCJDUkVBVEVfVkFSSUFCTEVfQ09MT1VSXCIpO2IucHVzaChjKTthLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVfU1RSSU5HXCIsc3RyaW5nQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRV9OVU1CRVJcIixudW1iZXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyk7YS5yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKFwiQ1JFQVRFX1ZBUklBQkxFX0NPTE9VUlwiLGNvbG91ckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljKTthPWZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMoYSk7cmV0dXJuIGI9Yi5jb25jYXQoYSl9O1xuZmx5b3V0Q2F0ZWdvcnlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1mdW5jdGlvbihhKXthPWEuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXMoKTtjb25zdCBiPVtdO2lmKGEubGVuZ3RoPjApe2lmKEJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcy52YXJpYWJsZXNfc2V0X2R5bmFtaWMpe3ZhciBjPWFbYS5sZW5ndGgtMV07Y29uc3QgZD0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKTtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInZhcmlhYmxlc19zZXRfZHluYW1pY1wiKTtkLnNldEF0dHJpYnV0ZShcImdhcFwiLFwiMjRcIik7ZC5hcHBlbmRDaGlsZChnZW5lcmF0ZVZhcmlhYmxlRmllbGREb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYykpO2IucHVzaChkKX1pZihCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3MudmFyaWFibGVzX2dldF9keW5hbWljKXthLnNvcnQoY29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyk7XG5mb3IobGV0IGQ9MCxlO2U9YVtkXTtkKyspYz0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKSxjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInZhcmlhYmxlc19nZXRfZHluYW1pY1wiKSxjLnNldEF0dHJpYnV0ZShcImdhcFwiLFwiOFwiKSxjLmFwcGVuZENoaWxkKGdlbmVyYXRlVmFyaWFibGVGaWVsZERvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhlKSksYi5wdXNoKGMpfX1yZXR1cm4gYn07cmVzaXplU3ZnQ29udGVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnPWZ1bmN0aW9uKGEpe2EucmVzaXplQ29udGVudHMoKX07XG5jb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLnRvQ29weURhdGEoKTtzdGFzaGVkQ29weURhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9YztzdGFzaGVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWlzU2VsZWN0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlKGEpJiZhLndvcmtzcGFjZSBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc/YS53b3Jrc3BhY2U6bnVsbDtzdGFzaGVkQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9YjtyZXR1cm4gY307Z2V0TGFzdENvcGllZERhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc3Rhc2hlZENvcHlEYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkfTtcbnNldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKGEpe3N0YXNoZWRDb3B5RGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1hfTtnZXRMYXN0Q29waWVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHN0YXNoZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmR9O3NldExhc3RDb3BpZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9ZnVuY3Rpb24oYSl7c3Rhc2hlZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1hfTtnZXRMYXN0Q29waWVkTG9jYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9ZnVuY3Rpb24oKXtyZXR1cm4gc3Rhc2hlZENvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkfTtcbnNldExhc3RDb3BpZWRMb2NhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1mdW5jdGlvbihhKXtzdGFzaGVkQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9YX07XG5wYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEmJmI/cGFzdGVGcm9tRGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChhLGIsYyk6c3Rhc2hlZENvcHlEYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJiZzdGFzaGVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkP3Bhc3RlRnJvbURhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoc3Rhc2hlZENvcHlEYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLHN0YXNoZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQsc3Rhc2hlZENvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKTpudWxsfTtcbnBhc3RlRnJvbURhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ9ZnVuY3Rpb24oYSxiLGMpe2xldCBkO2I9Yi5pc011dGF0b3I/YjooZD1iLm9wdGlvbnMucGFyZW50V29ya3NwYWNlKSE9bnVsbD9kOmI7bGV0IGUsZjtyZXR1cm4oZj0oZT1nZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuUEFTVEVSLGEucGFzdGVyLCExKSk9PW51bGw/dm9pZCAwOmUucGFzdGUoYSxiLGMpKSE9bnVsbD9mOm51bGx9O2lzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLnRvQ29weURhdGE9PT1cImZ1bmN0aW9uXCJ9O1xucmVnaXN0ZXJFc2NhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe1Nob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7bmFtZTpuYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLkVTQ0FQRSxwcmVjb25kaXRpb25GbihhKXtyZXR1cm4hYS5pc1JlYWRPbmx5KCl9LGNhbGxiYWNrKGEpe2EuaGlkZUNoYWZmKCk7cmV0dXJuITB9LGtleUNvZGVzOltLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkVTQ119KX07XG5yZWdpc3RlckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zPWZ1bmN0aW9uKCl7U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtuYW1lOm5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMuREVMRVRFLHByZWNvbmRpdGlvbkZuKGEsYil7Yj1iLmZvY3VzZWROb2RlO3JldHVybiFhLmlzUmVhZE9ubHkoKSYmYiE9bnVsbCYmaXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGIpJiZiLmlzRGVsZXRhYmxlKCkmJiFhLmlzRHJhZ2dpbmcoKSYmISQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmVwaGVtZXJhbEZvY3VzVGFrZW4oKX0sY2FsbGJhY2soYSxiLGMsZCl7Yi5wcmV2ZW50RGVmYXVsdCgpO2E9ZC5mb2N1c2VkTm9kZTthIGluc3RhbmNlb2ZcbkJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnP2EuY2hlY2tBbmREZWxldGUoKTppc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUoYSkmJmEuaXNEZWxldGFibGUoKSYmKCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApLGEuZGlzcG9zZSgpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpKTtyZXR1cm4hMH0sa2V5Q29kZXM6W0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuREVMRVRFLEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuQkFDS1NQQUNFXX0pfTtcbmlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbihhKXtyZXR1cm4gaXNDb3B5YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb3B5YWJsZShhKSYmaXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGEpJiZpc0RyYWdnYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGUoYSk/YS5pc0NvcHlhYmxlP2EuaXNDb3B5YWJsZSgpOmEgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Z3x8YSBpbnN0YW5jZW9mIFJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50P2EuaXNPd25EZWxldGFibGUoKSYmYS5pc093bk1vdmFibGUoKTphLmlzRGVsZXRhYmxlKCkmJmEuaXNNb3ZhYmxlKCk6ITF9O1xuaXNDdXR0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zPWZ1bmN0aW9uKGEpe3JldHVybiBpc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoYSkmJmlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShhKSYmYS5pc0RlbGV0YWJsZSgpfTtcbnJlZ2lzdGVyQ29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zPWZ1bmN0aW9uKCl7Y29uc3QgYT1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkMsW0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuQ1RSTF0pLGI9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5DLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLk1FVEFdKTtTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe25hbWU6bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5DT1BZLFxucHJlY29uZGl0aW9uRm4oYyxkKXtkPWQuZm9jdXNlZE5vZGU7Yz1jLmlzRmx5b3V0P2MudGFyZ2V0V29ya3NwYWNlOmM7cmV0dXJuISFkJiYhIWMmJiFjLmlzRHJhZ2dpbmcoKSYmISQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmVwaGVtZXJhbEZvY3VzVGFrZW4oKSYmaXNDb3B5YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKGQpfSxjYWxsYmFjayhjLGQsZSxmKXtkLnByZXZlbnREZWZhdWx0KCk7ZD1mLmZvY3VzZWROb2RlO2lmKCFkfHwhaXNDb3B5YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb3B5YWJsZShkKXx8IWlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcyhkKSlyZXR1cm4hMTtjPWMuaXNGbHlvdXQ/Yy50YXJnZXRXb3Jrc3BhY2U6YztpZighYylyZXR1cm4hMTtkLndvcmtzcGFjZS5pc0ZseW91dHx8Yy5oaWRlQ2hhZmYoKTtcbmM9aXNEcmFnZ2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dhYmxlKGQpJiZkLndvcmtzcGFjZT09Yz9kLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTp2b2lkIDA7cmV0dXJuISFjb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKGQsYyl9LGtleUNvZGVzOlthLGJdfSl9O1xucmVnaXN0ZXJDdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe2NvbnN0IGE9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5YLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkNUUkxdKSxiPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWCxbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5NRVRBXSk7U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtuYW1lOm5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMuQ1VULFxucHJlY29uZGl0aW9uRm4oYyxkKXtkPWQuZm9jdXNlZE5vZGU7cmV0dXJuISFkJiYhYy5pc1JlYWRPbmx5KCkmJiFjLmlzRHJhZ2dpbmcoKSYmISQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmVwaGVtZXJhbEZvY3VzVGFrZW4oKSYmaXNDdXR0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKGQpfSxjYWxsYmFjayhjLGQsZSxmKXtjPWYuZm9jdXNlZE5vZGU7aWYoIWN8fCFpc0N1dHRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoYyl8fCFpc0NvcHlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvcHlhYmxlKGMpKXJldHVybiExO2Q9aXNEcmFnZ2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dhYmxlKGMpP2MuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpOnZvaWQgMDtkPWNvcHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoYyxcbmQpO2MgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz9jLmNoZWNrQW5kRGVsZXRlKCk6aXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGMpJiZjLmRpc3Bvc2UoKTtyZXR1cm4hIWR9LGtleUNvZGVzOlthLGJdfSl9O1xucmVnaXN0ZXJQYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zPWZ1bmN0aW9uKCl7Y29uc3QgYT1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLlYsW0tleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuQ1RSTF0pLGI9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5WLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLk1FVEFdKTtTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe25hbWU6bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5QQVNURSxcbnByZWNvbmRpdGlvbkZuKCl7dmFyIGM9Z2V0TGFzdENvcGllZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCgpO2lmKCFjfHwhYy5yZW5kZXJlZClyZXR1cm4hMTtjPWMuaXNGbHlvdXQ/Yy50YXJnZXRXb3Jrc3BhY2U6YztyZXR1cm4hIWdldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKCkmJiEhYyYmIWMuaXNSZWFkT25seSgpJiYhYy5pc0RyYWdnaW5nKCkmJiEkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5lcGhlbWVyYWxGb2N1c1Rha2VuKCl9LGNhbGxiYWNrKGMsZCl7Yz1nZXRMYXN0Q29waWVkRGF0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCgpO2lmKCFjKXJldHVybiExO3ZhciBlPWdldExhc3RDb3BpZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoKTtpZighZSlyZXR1cm4hMTtlPWUuaXNGbHlvdXQ/ZS50YXJnZXRXb3Jrc3BhY2U6XG5lO2lmKCFlfHxlLmlzUmVhZE9ubHkoKSlyZXR1cm4hMTtpZihkIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50KXJldHVybiBkPXNjcmVlblRvV3NDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKGUsbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGQuY2xpZW50WCxkLmNsaWVudFkpKSwhIXBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKGMsZSxkKTtkPWdldExhc3RDb3BpZWRMb2NhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCgpO2lmKCFkKXJldHVybiEhcGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQoYyxlKTtjb25zdCB7bGVmdDpmLHRvcDpnLHdpZHRoOmgsaGVpZ2h0Omt9PWUuZ2V0TWV0cmljc01hbmFnZXIoKS5nZXRWaWV3TWV0cmljcyghMCk7aWYoKG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChnLFxuZytrLGYsZitoKSkuY29udGFpbnMoZC54LGQueSkpcmV0dXJuISFwYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChjLGUpO2Q9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGYraC8yLGcray8yKTtyZXR1cm4hIXBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKGMsZSxkKX0sa2V5Q29kZXM6W2EsYl19KX07XG5yZWdpc3RlclVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe2NvbnN0IGE9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5aLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkNUUkxdKSxiPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWixbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5NRVRBXSk7U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtuYW1lOm5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMuVU5ETyxcbnByZWNvbmRpdGlvbkZuKGMpe3JldHVybiFjLmlzUmVhZE9ubHkoKSYmIWMuaXNEcmFnZ2luZygpJiYhJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZXBoZW1lcmFsRm9jdXNUYWtlbigpfSxjYWxsYmFjayhjLGQpe2MuaGlkZUNoYWZmKCk7Yy51bmRvKCExKTtkLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuITB9LGtleUNvZGVzOlthLGJdfSl9O1xucmVnaXN0ZXJSZWRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM9ZnVuY3Rpb24oKXtjb25zdCBhPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWixbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5DVFJMLEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuU0hJRlRdKSxiPVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuWixbS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5NRVRBLFxuS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5TSElGVF0pLGM9U2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcy5ZLFtLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzLkNUUkxdKTtTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe25hbWU6bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5SRURPLHByZWNvbmRpdGlvbkZuKGQpe3JldHVybiFkLmlzRHJhZ2dpbmcoKSYmIWQuaXNSZWFkT25seSgpJiYhJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZXBoZW1lcmFsRm9jdXNUYWtlbigpfSxcbmNhbGxiYWNrKGQsZSl7ZC5oaWRlQ2hhZmYoKTtkLnVuZG8oITApO2UucHJldmVudERlZmF1bHQoKTtyZXR1cm4hMH0sa2V5Q29kZXM6W2EsYixjXX0pfTtyZWdpc3RlckRlZmF1bHRTaG9ydGN1dHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz1mdW5jdGlvbigpe3JlZ2lzdGVyRXNjYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoKTtyZWdpc3RlckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7cmVnaXN0ZXJDb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoKTtyZWdpc3RlckN1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7cmVnaXN0ZXJQYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7cmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMoKTtyZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcygpfTtcbnNhdmVQcm9jZWR1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLnNhdmVTdGF0ZSgpO2lmKCFhLmdldFBhcmFtZXRlcnMoKS5sZW5ndGgpcmV0dXJuIGI7Yi5wYXJhbWV0ZXJzPWEuZ2V0UGFyYW1ldGVycygpLm1hcChjPT5jLnNhdmVTdGF0ZSgpKTtyZXR1cm4gYn07bG9hZFByb2NlZHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIsYyxkKXthPWEubG9hZFN0YXRlKGMsZCk7aWYoIWMucGFyYW1ldGVycylyZXR1cm4gYTtmb3IoY29uc3QgW2UsZl1vZiBjLnBhcmFtZXRlcnMuZW50cmllcygpKWEuaW5zZXJ0UGFyYW1ldGVyKGIubG9hZFN0YXRlKGYsZCksZSk7cmV0dXJuIGF9O1xuc2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlcz1mdW5jdGlvbihhKXtjb25zdCBiPU9iamVjdC5jcmVhdGUobnVsbCksYz1nZXRBbGxJdGVtcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5TRVJJQUxJWkVSLCEwKTtmb3IoY29uc3QgZCBpbiBjKXtsZXQgZTtjb25zdCBmPShlPWNbZF0pPT1udWxsP3ZvaWQgMDplLnNhdmUoYSk7ZiYmKGJbZF09Zil9cmV0dXJuIGJ9O1xubG9hZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlcz1mdW5jdGlvbihhLGIse3JlY29yZFVuZG86Yz0hMX09e30pe3ZhciBkPWdldEFsbEl0ZW1zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlNFUklBTElaRVIsITApO2lmKGQpe2Q9T2JqZWN0LmVudHJpZXMoZCkuc29ydCgoZixnKT0+Z1sxXS5wcmlvcml0eS1mWzFdLnByaW9yaXR5KTt2YXIgZT1nZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGMpOyhjPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3N0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTtcbmIgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnJiZiLnNldFJlc2l6ZXNFbmFibGVkKCExKTtmb3IoY29uc3QgWyxmXW9mIGQucmV2ZXJzZSgpKXtsZXQgZzsoZz1mKT09bnVsbHx8Zy5jbGVhcihiKX1mb3IoY29uc3QgW2YsZ11vZiBkLnJldmVyc2UoKSlpZihhW2ZdKXtsZXQgaDsoaD1nKT09bnVsbHx8aC5sb2FkKGFbZl0sYil9YiBpbnN0YW5jZW9mIFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmcmJmIuc2V0UmVzaXplc0VuYWJsZWQoITApO3N0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSgpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuRklOSVNIRURfTE9BRElORykpKGIpKTtcbiQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYyk7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGUpfX07XG5pbmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ZnVuY3Rpb24oYSxiKXtsZXQgYz1udWxsO2M9dHlwZW9mIGE9PT1cInN0cmluZ1wiP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEpOmE7dmFyIGQ7aWYoIWRvY3VtZW50LmNvbnRhaW5zKGMpJiZkb2N1bWVudCE9PSgoZD1jKT09bnVsbD92b2lkIDA6ZC5vd25lckRvY3VtZW50KSl0aHJvdyBFcnJvcihcIkVycm9yOiBjb250YWluZXIgaXMgbm90IGluIGN1cnJlbnQgZG9jdW1lbnRcIik7YT1uZXcgT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMoYnx8e30pO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShkLFwiaW5qZWN0aW9uRGl2XCIpOyhiPT1udWxsPzA6Yi5ydGwpJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShkLFwiYmxvY2tseVJUTFwiKTtjLmFwcGVuZENoaWxkKGQpO1xuYj1jcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QoZCxhKTtjb25zdCBlPWNyZWF0ZU1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QoZCxiLGEpO2luaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QoZSk7c2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihlKTtzdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oZSk7ZC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLGZ1bmN0aW9uKCl7c2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihlKX0pO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGQsXCJrZXlkb3duXCIsbnVsbCxnbG9iYWxTaG9ydGN1dEhhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24pO3JldHVybiBlfTtcbmNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdD1mdW5jdGlvbihhLGIpe2Euc2V0QXR0cmlidXRlKFwiZGlyXCIsXCJMVFJcIik7aW5qZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKGIuaGFzQ3NzLGIucGF0aFRvTWVkaWEpO2NvbnN0IGM9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHLHt4bWxuczpTVkdfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bWxuczpodG1sXCI6SFRNTF9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhtbG5zOnhsaW5rXCI6WExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sdmVyc2lvbjpcIjEuMVwiLFwiY2xhc3NcIjpcImJsb2NrbHlTdmdcIn0sYSksZD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5ERUZTLFxue30sYyksZT1TdHJpbmcoTWF0aC5yYW5kb20oKSkuc3Vic3RyaW5nKDIpO2IuZ3JpZFBhdHRlcm49R3JpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdyaWQuY3JlYXRlRG9tKGUsYi5ncmlkT3B0aW9ucyxkLGEpO3JldHVybiBjfTtcbmNyZWF0ZU1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ZnVuY3Rpb24oYSxiLGMpe2MucGFyZW50V29ya3NwYWNlPW51bGw7Yz1uZXcgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2ZyhjKTtjb25zdCBkPWMub3B0aW9ucztjLnNjYWxlPWQuem9vbU9wdGlvbnMuc3RhcnRTY2FsZTtiLmFwcGVuZENoaWxkKGMuY3JlYXRlRG9tKFwiYmxvY2tseU1haW5CYWNrZ3JvdW5kXCIsYSkpO3ZhciBlPWMuZ2V0UmVuZGVyZXIoKS5nZXRDbGFzc05hbWUoKTtlJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGUpOyhlPWMuZ2V0VGhlbWUoKS5nZXRDbGFzc05hbWUoKSkmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsZSk7IWQuaGFzQ2F0ZWdvcmllcyYmZC5sYW5ndWFnZVRyZWUmJihhPWMuYWRkRmx5b3V0KFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5TVkcpLFxuaW5zZXJ0QWZ0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKSk7ZC5oYXNUcmFzaGNhbiYmYy5hZGRUcmFzaGNhbigpO2Quem9vbU9wdGlvbnMmJmQuem9vbU9wdGlvbnMuY29udHJvbHMmJmMuYWRkWm9vbUNvbnRyb2xzKCk7Yy5nZXRUaGVtZU1hbmFnZXIoKS5zdWJzY3JpYmUoYixcIndvcmtzcGFjZUJhY2tncm91bmRDb2xvdXJcIixcImJhY2tncm91bmQtY29sb3JcIik7Yy50cmFuc2xhdGUoMCwwKTtjLmFkZENoYW5nZUxpc3RlbmVyKGJ1bXBJbnRvQm91bmRzSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyhjKSk7c3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGMpO2NyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpO2NyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCk7Y3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpO3JldHVybiBjfTtcbmluaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLm9wdGlvbnM7dmFyIGM9YS5nZXRQYXJlbnRTdmcoKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhjLnBhcmVudE5vZGUsXCJjb250ZXh0bWVudVwiLG51bGwsZnVuY3Rpb24oZCl7aXNUYXJnZXRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGQpfHxkLnByZXZlbnREZWZhdWx0KCl9KTtjPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHdpbmRvdyxcInJlc2l6ZVwiLG51bGwsZnVuY3Rpb24oKXtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpO2EuaGlkZUNvbXBvbmVudHMoITApO3JlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpO3JlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYoKTtcbnN2Z1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihhKTtidW1wVG9wT2JqZWN0c0ludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMoYSl9KTthLnNldFJlc2l6ZUhhbmRsZXJXcmFwcGVyKGMpO2JpbmREb2N1bWVudEV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdCgpO2lmKGIubGFuZ3VhZ2VUcmVlKXtjPWEuZ2V0VG9vbGJveCgpO2NvbnN0IGQ9YS5nZXRGbHlvdXQoITApO2M/Yy5pbml0KCk6ZCYmKGQuaW5pdChhKSxkLnNob3coYi5sYW5ndWFnZVRyZWUpLHR5cGVvZiBkLnNjcm9sbFRvU3RhcnQ9PT1cImZ1bmN0aW9uXCImJmQuc2Nyb2xsVG9TdGFydCgpKX1iLmhhc1RyYXNoY2FuJiZhLnRyYXNoY2FuLmluaXQoKTtiLnpvb21PcHRpb25zJiZiLnpvb21PcHRpb25zLmNvbnRyb2xzJiZhLnpvb21Db250cm9sc18uaW5pdCgpO2IubW92ZU9wdGlvbnMmJmIubW92ZU9wdGlvbnMuc2Nyb2xsYmFycz8oYS5zY3JvbGxiYXI9XG5uZXcgU2Nyb2xsYmFyUGFpciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcl9wYWlyKGEsYi5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzPT09ITB8fCEhYi5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzLmhvcml6b250YWwsYi5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzPT09ITB8fCEhYi5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzLnZlcnRpY2FsLFwiYmxvY2tseU1haW5Xb3Jrc3BhY2VTY3JvbGxiYXJcIiksYS5zY3JvbGxiYXIucmVzaXplKCkpOmEuc2V0TWV0cmljcyh7eDouNSx5Oi41fSk7Yi5oYXNTb3VuZHMmJmxvYWRTb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3QoYi5wYXRoVG9NZWRpYSxhKX07XG5iaW5kRG9jdW1lbnRFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ZnVuY3Rpb24oKXtkb2N1bWVudEV2ZW50c0JvdW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0fHwoY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJzY3JvbGxcIixudWxsLGZ1bmN0aW9uKCl7Y29uc3QgYT1nZXRBbGxXb3Jrc3BhY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCk7Zm9yKGxldCBiPTAsYztjPWFbYl07YisrKWMgaW5zdGFuY2VvZiBXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnJiZjLnVwZGF0ZUludmVyc2VTY3JlZW5DVE0oKX0pLGJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInRvdWNoZW5kXCIsbnVsbCxsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKSxiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXG5cInRvdWNoY2FuY2VsXCIsbnVsbCxsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKSk7ZG9jdW1lbnRFdmVudHNCb3VuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdD0hMH07XG5sb2FkU291bmRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2Zvcig7ZS5sZW5ndGg7KXtjb25zdCBmPWUucG9wKCk7ZiYmdW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZil9ZC5wcmVsb2FkKCl9Y29uc3QgZD1iLmdldEF1ZGlvTWFuYWdlcigpO2QubG9hZChbYStcImNsaWNrLm1wM1wiLGErXCJjbGljay53YXZcIixhK1wiY2xpY2sub2dnXCJdLFwiY2xpY2tcIik7ZC5sb2FkKFthK1wiZGlzY29ubmVjdC53YXZcIixhK1wiZGlzY29ubmVjdC5tcDNcIixhK1wiZGlzY29ubmVjdC5vZ2dcIl0sXCJkaXNjb25uZWN0XCIpO2QubG9hZChbYStcImRlbGV0ZS5tcDNcIixhK1wiZGVsZXRlLm9nZ1wiLGErXCJkZWxldGUud2F2XCJdLFwiZGVsZXRlXCIpO2NvbnN0IGU9W107ZS5wdXNoKGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGRvY3VtZW50LFwicG9pbnRlcm1vdmVcIixudWxsLGMsITApKTtcbmUucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInRvdWNoc3RhcnRcIixudWxsLGMsITApKX07aXNGdWxsQmxvY2tGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKGEpe2lmKCFhfHwhYS5pc1NpbXBsZVJlcG9ydGVyKCkpcmV0dXJuITE7bGV0IGI7cmV0dXJuKGI9YS5nZXRGaWVsZHMoKS5uZXh0KCkudmFsdWUpPT1udWxsP3ZvaWQgMDpiLmlzRnVsbEJsb2NrRmllbGQoKX07XG5yZWdpc3RlclVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoKXtyZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVU5ET30scHJlY29uZGl0aW9uRm4oYSl7cmV0dXJuIGEud29ya3NwYWNlLmdldFVuZG9TdGFjaygpLmxlbmd0aD4wP1wiZW5hYmxlZFwiOlwiZGlzYWJsZWRcIn0sY2FsbGJhY2soYSl7YS53b3Jrc3BhY2UudW5kbyghMSl9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLldPUktTUEFDRSxpZDpcInVuZG9Xb3Jrc3BhY2VcIix3ZWlnaHQ6MX0pfTtcbnJlZ2lzdGVyUmVkbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dCgpe3JldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5SRURPfSxwcmVjb25kaXRpb25GbihhKXtyZXR1cm4gYS53b3Jrc3BhY2UuZ2V0UmVkb1N0YWNrKCkubGVuZ3RoPjA/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwifSxjYWxsYmFjayhhKXthLndvcmtzcGFjZS51bmRvKCEwKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuV09SS1NQQUNFLGlkOlwicmVkb1dvcmtzcGFjZVwiLHdlaWdodDoyfSl9O1xucmVnaXN0ZXJDbGVhbnVwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KCl7cmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNMRUFOX1VQfSxwcmVjb25kaXRpb25GbihhKXtyZXR1cm4gYS53b3Jrc3BhY2UuaXNNb3ZhYmxlKCk/YS53b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKCExKS5sZW5ndGg+MT9cImVuYWJsZWRcIjpcImRpc2FibGVkXCI6XCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7YS53b3Jrc3BhY2UuY2xlYW5VcCgpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5XT1JLU1BBQ0UsaWQ6XCJjbGVhbldvcmtzcGFjZVwiLHdlaWdodDozfSl9O1xudG9nZ2xlT3B0aW9uXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhmKXtlLS07Zi5zZXRDb2xsYXBzZWQoYSk7ZT09PTAmJiQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpfWxldCBkPTAsZT0wOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO2ZvcihsZXQgZj0wO2Y8Yi5sZW5ndGg7ZisrKXtsZXQgZz1iW2ZdO2Zvcig7ZzspZSsrLHNldFRpbWVvdXQoYy5iaW5kKG51bGwsZyksZCksZz1nLmdldE5leHRCbG9jaygpLGQrPTEwfX07XG5yZWdpc3RlckNvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KCl7cmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTExBUFNFX0FMTH0scHJlY29uZGl0aW9uRm4oYSl7aWYoYS53b3Jrc3BhY2Uub3B0aW9ucy5jb2xsYXBzZSl7YT1hLndvcmtzcGFjZS5nZXRUb3BCbG9ja3MoITEpO2ZvcihsZXQgYj0wO2I8YS5sZW5ndGg7YisrKXtsZXQgYz1hW2JdO2Zvcig7Yzspe2lmKCFjLmlzQ29sbGFwc2VkKCkpcmV0dXJuXCJlbmFibGVkXCI7Yz1jLmdldE5leHRCbG9jaygpfX1yZXR1cm5cImRpc2FibGVkXCJ9cmV0dXJuXCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7dG9nZ2xlT3B0aW9uXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCEwLFxuYS53b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKCEwKSl9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLldPUktTUEFDRSxpZDpcImNvbGxhcHNlV29ya3NwYWNlXCIsd2VpZ2h0OjR9KX07XG5yZWdpc3RlckV4cGFuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dCgpe3JldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5FWFBBTkRfQUxMfSxwcmVjb25kaXRpb25GbihhKXtpZihhLndvcmtzcGFjZS5vcHRpb25zLmNvbGxhcHNlKXthPWEud29ya3NwYWNlLmdldFRvcEJsb2NrcyghMSk7Zm9yKGxldCBiPTA7YjxhLmxlbmd0aDtiKyspe2xldCBjPWFbYl07Zm9yKDtjOyl7aWYoYy5pc0NvbGxhcHNlZCgpKXJldHVyblwiZW5hYmxlZFwiO2M9Yy5nZXROZXh0QmxvY2soKX19cmV0dXJuXCJkaXNhYmxlZFwifXJldHVyblwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpe3RvZ2dsZU9wdGlvbl8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyghMSxcbmEud29ya3NwYWNlLmdldFRvcEJsb2NrcyghMCkpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5XT1JLU1BBQ0UsaWQ6XCJleHBhbmRXb3Jrc3BhY2VcIix3ZWlnaHQ6NX0pfTthZGREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oYSxiKXtpZihhLmlzRGVsZXRhYmxlKCkpQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYixhLmdldERlc2NlbmRhbnRzKCExKSk7ZWxzZXthPWEuZ2V0Q2hpbGRyZW4oITEpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKWFkZERlbGV0YWJsZUJsb2Nrc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyhhW2NdLGIpfX07XG5nZXREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oYSl7Y29uc3QgYj1bXTthPWEuZ2V0VG9wQmxvY2tzKCEwKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKylhZGREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYVtjXSxiKTtyZXR1cm4gYn07XG5kZWxldGVOZXh0XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKGEsYil7Yj8kLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpOigkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKSxiPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSk7Y29uc3QgYz1hLnNoaWZ0KCk7YyYmKGMuaXNEZWFkT3JEeWluZygpP2RlbGV0ZU5leHRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYSxiKTooYy5kaXNwb3NlKCExLCEwKSxzZXRUaW1lb3V0KGRlbGV0ZU5leHRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMsMTAsYSxiKSkpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpfTtcbnJlZ2lzdGVyRGVsZXRlQWxsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KGEpe2lmKCFhLndvcmtzcGFjZSlyZXR1cm5cIlwiO2E9Z2V0RGVsZXRhYmxlQmxvY2tzXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKGEud29ya3NwYWNlKS5sZW5ndGg7cmV0dXJuIGE9PT0xPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRFTEVURV9CTE9DSzokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfWF9CTE9DS1MucmVwbGFjZShcIiUxXCIsYCR7YX1gKX0scHJlY29uZGl0aW9uRm4oYSl7cmV0dXJuIGEud29ya3NwYWNlP2dldERlbGV0YWJsZUJsb2Nrc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyhhLndvcmtzcGFjZSkubGVuZ3RoPlxuMD9cImVuYWJsZWRcIjpcImRpc2FibGVkXCI6XCJkaXNhYmxlZFwifSxjYWxsYmFjayhhKXtpZihhLndvcmtzcGFjZSl7YS53b3Jrc3BhY2UuY2FuY2VsQ3VycmVudEdlc3R1cmUoKTt2YXIgYj1nZXREZWxldGFibGVCbG9ja3NfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYS53b3Jrc3BhY2UpO2IubGVuZ3RoPDI/ZGVsZXRlTmV4dF8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyhiKTpjb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRFTEVURV9BTExfQkxPQ0tTLnJlcGxhY2UoXCIlMVwiLFN0cmluZyhiLmxlbmd0aCkpLGZ1bmN0aW9uKGMpe2MmJmRlbGV0ZU5leHRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoYil9KX19LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLldPUktTUEFDRSxcbmlkOlwid29ya3NwYWNlRGVsZXRlXCIsd2VpZ2h0OjZ9KX07cmVnaXN0ZXJXb3Jrc3BhY2VPcHRpb25zXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7cmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlclJlZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyQ2xlYW51cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJFeHBhbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyRGVsZXRlQWxsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKX07XG5yZWdpc3RlckR1cGxpY2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dCgpe3JldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5EVVBMSUNBVEVfQkxPQ0t9LHByZWNvbmRpdGlvbkZuKGEpe2E9YS5ibG9jaztyZXR1cm4hYS5pc0luRmx5b3V0JiZhLmlzRGVsZXRhYmxlKCkmJmEuaXNNb3ZhYmxlKCk/YS5pc0R1cGxpY2F0YWJsZSgpP1wiZW5hYmxlZFwiOlwiZGlzYWJsZWRcIjpcImhpZGRlblwifSxjYWxsYmFjayhhKXtpZihhLmJsb2NrKXt2YXIgYj1hLmJsb2NrLnRvQ29weURhdGEoKTtiJiZwYXN0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZChiLGEuYmxvY2sud29ya3NwYWNlKX19LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLkJMT0NLLFxuaWQ6XCJibG9ja0R1cGxpY2F0ZVwiLHdlaWdodDoxfSl9O1xucmVnaXN0ZXJDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KGEpe3JldHVybiBhLmJsb2NrLmhhc0ljb24oQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24uVFlQRSk/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUkVNT1ZFX0NPTU1FTlQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQUREX0NPTU1FTlR9LHByZWNvbmRpdGlvbkZuKGEpe2E9YS5ibG9jaztyZXR1cm4hYXx8YS5pc0luRmx5b3V0fHwhYS53b3Jrc3BhY2Uub3B0aW9ucy5jb21tZW50c3x8YS5pc0NvbGxhcHNlZCgpfHwhYS5pc0VkaXRhYmxlKCl8fCFhLmhhc0ljb24oQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24uVFlQRSkmJmlzRnVsbEJsb2NrRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcyhhKT9cblwiaGlkZGVuXCI6XCJlbmFibGVkXCJ9LGNhbGxiYWNrKGEpeyhhPWEuYmxvY2spJiZhLmhhc0ljb24oQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24uVFlQRSk/YS5zZXRDb21tZW50VGV4dChudWxsKTphLnNldENvbW1lbnRUZXh0KFwiXCIpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5CTE9DSyxpZDpcImJsb2NrQ29tbWVudFwiLHdlaWdodDoyfSl9O1xucmVnaXN0ZXJJbmxpbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoYSl7cmV0dXJuIGEuYmxvY2suZ2V0SW5wdXRzSW5saW5lKCk/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuRVhURVJOQUxfSU5QVVRTOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLklOTElORV9JTlBVVFN9LHByZWNvbmRpdGlvbkZuKGEpe2E9YS5ibG9jaztpZighYS5pc0luRmx5b3V0JiZhLmlzTW92YWJsZSgpJiYhYS5pc0NvbGxhcHNlZCgpKWZvcihsZXQgYj0xO2I8YS5pbnB1dExpc3QubGVuZ3RoO2IrKylpZighKGEuaW5wdXRMaXN0W2ItMV1pbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGlucHV0c3x8XG5hLmlucHV0TGlzdFtiXWluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkaW5wdXRzKSlyZXR1cm5cImVuYWJsZWRcIjtyZXR1cm5cImhpZGRlblwifSxjYWxsYmFjayhhKXthLmJsb2NrLnNldElucHV0c0lubGluZSghYS5ibG9jay5nZXRJbnB1dHNJbmxpbmUoKSl9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLkJMT0NLLGlkOlwiYmxvY2tJbmxpbmVcIix3ZWlnaHQ6M30pfTtcbnJlZ2lzdGVyQ29sbGFwc2VFeHBhbmRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dChhKXtyZXR1cm4gYS5ibG9jay5pc0NvbGxhcHNlZCgpPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkVYUEFORF9CTE9DSzokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT0xMQVBTRV9CTE9DS30scHJlY29uZGl0aW9uRm4oYSl7YT1hLmJsb2NrO3JldHVybiFhLmlzSW5GbHlvdXQmJmEuaXNNb3ZhYmxlKCkmJmEud29ya3NwYWNlLm9wdGlvbnMuY29sbGFwc2U/XCJlbmFibGVkXCI6XCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7YS5ibG9jay5zZXRDb2xsYXBzZWQoIWEuYmxvY2suaXNDb2xsYXBzZWQoKSl9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLkJMT0NLLFxuaWQ6XCJibG9ja0NvbGxhcHNlRXhwYW5kXCIsd2VpZ2h0OjR9KX07XG5yZWdpc3RlckRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQoYSl7cmV0dXJuIGEuYmxvY2suaGFzRGlzYWJsZWRSZWFzb24oTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMpPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkVOQUJMRV9CTE9DSzokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ESVNBQkxFX0JMT0NLfSxwcmVjb25kaXRpb25GbihhKXthPWEuYmxvY2s7aWYoIWEuaXNJbkZseW91dCYmYS53b3Jrc3BhY2Uub3B0aW9ucy5kaXNhYmxlJiZhLmlzRWRpdGFibGUoKSl7dmFyIGI9YS5nZXREaXNhYmxlZFJlYXNvbnMoKTtiPWIuc2l6ZT4oYi5oYXMoTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMpP1xuMTowKTtyZXR1cm4gYS5nZXRJbmhlcml0ZWREaXNhYmxlZCgpfHxiP1wiZGlzYWJsZWRcIjpcImVuYWJsZWRcIn1yZXR1cm5cImhpZGRlblwifSxjYWxsYmFjayhhKXthPWEuYmxvY2s7Y29uc3QgYj0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7Ynx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7YS5zZXREaXNhYmxlZFJlYXNvbighYS5oYXNEaXNhYmxlZFJlYXNvbihNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyksTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHMpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYil9LHNjb3BlVHlwZTpDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLkJMT0NLLGlkOlwiYmxvY2tEaXNhYmxlXCIsXG53ZWlnaHQ6NX0pfTtcbnJlZ2lzdGVyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KGEpe3ZhciBiPWEuYmxvY2s7YT1iLmdldERlc2NlbmRhbnRzKCExKS5sZW5ndGg7KGI9Yi5nZXROZXh0QmxvY2soKSkmJihhLT1iLmdldERlc2NlbmRhbnRzKCExKS5sZW5ndGgpO3JldHVybiBhPT09MT8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfQkxPQ0s6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX1hfQkxPQ0tTLnJlcGxhY2UoXCIlMVwiLGAke2F9YCl9LHByZWNvbmRpdGlvbkZuKGEpe3JldHVybiFhLmJsb2NrLmlzSW5GbHlvdXQmJmEuYmxvY2suaXNEZWxldGFibGUoKT9cImVuYWJsZWRcIjpcImhpZGRlblwifSxjYWxsYmFjayhhKXthLmJsb2NrJiZhLmJsb2NrLmNoZWNrQW5kRGVsZXRlKCl9LFxuc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuQkxPQ0ssaWQ6XCJibG9ja0RlbGV0ZVwiLHdlaWdodDo2fSl9O1xucmVnaXN0ZXJIZWxwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM9ZnVuY3Rpb24oKXtDb250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoe2Rpc3BsYXlUZXh0KCl7cmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkhFTFB9LHByZWNvbmRpdGlvbkZuKGEpe2E9YS5ibG9jaztyZXR1cm4odHlwZW9mIGEuaGVscFVybD09PVwiZnVuY3Rpb25cIj9hLmhlbHBVcmwoKTphLmhlbHBVcmwpP1wiZW5hYmxlZFwiOlwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpe2EuYmxvY2suc2hvd0hlbHAoKX0sc2NvcGVUeXBlOkNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5TY29wZVR5cGUuQkxPQ0ssaWQ6XCJibG9ja0hlbHBcIix3ZWlnaHQ6N30pfTtcbnJlZ2lzdGVyQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHtkaXNwbGF5VGV4dDooKT0+JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUkVNT1ZFX0NPTU1FTlQscHJlY29uZGl0aW9uRm4oYSl7bGV0IGI7cmV0dXJuKChiPWEuY29tbWVudCk9PW51bGw/MDpiLmlzRGVsZXRhYmxlKCkpP1wiZW5hYmxlZFwiOlwiaGlkZGVuXCJ9LGNhbGxiYWNrKGEpeyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO2xldCBiOyhiPWEuY29tbWVudCk9PW51bGx8fGIuZGlzcG9zZSgpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5DT01NRU5ULFxuaWQ6XCJjb21tZW50RGVsZXRlXCIsd2VpZ2h0OjZ9KX07XG5yZWdpc3RlckNvbW1lbnREdXBsaWNhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQ6KCk9PiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRVUExJQ0FURV9DT01NRU5ULHByZWNvbmRpdGlvbkZuKGEpe2xldCBiO3JldHVybigoYj1hLmNvbW1lbnQpPT1udWxsPzA6Yi5pc01vdmFibGUoKSk/XCJlbmFibGVkXCI6XCJoaWRkZW5cIn0sY2FsbGJhY2soYSl7aWYoYS5jb21tZW50KXt2YXIgYj1hLmNvbW1lbnQudG9Db3B5RGF0YSgpO2ImJnBhc3RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkKGIsYS5jb21tZW50LndvcmtzcGFjZSl9fSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5DT01NRU5ULGlkOlwiY29tbWVudER1cGxpY2F0ZVwiLFxud2VpZ2h0OjF9KX07XG5yZWdpc3RlckNvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe0NvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3Rlcih7ZGlzcGxheVRleHQ6KCk9PiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkFERF9DT01NRU5ULHByZWNvbmRpdGlvbkZuOmE9PntsZXQgYjtyZXR1cm4oKGI9YS53b3Jrc3BhY2UpPT1udWxsPzA6Yi5pc011dGF0b3IpP1wiaGlkZGVuXCI6XCJlbmFibGVkXCJ9LGNhbGxiYWNrOihhLGIsYyxkKT0+e2lmKGE9YS53b3Jrc3BhY2UpJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCksYj1uZXcgUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQoYSksYi5zZXRQbGFjZWhvbGRlclRleHQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuV09SS1NQQUNFX0NPTU1FTlRfREVGQVVMVF9URVhUKSxcbmIubW92ZVRvKHNjcmVlblRvV3NDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKGEsbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGQueCxkLnkpKSksJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGIpLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpfSxzY29wZVR5cGU6Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LlNjb3BlVHlwZS5XT1JLU1BBQ0UsaWQ6XCJjb21tZW50Q3JlYXRlXCIsd2VpZ2h0Ojh9KX07XG5yZWdpc3RlckJsb2NrT3B0aW9uc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe3JlZ2lzdGVyRHVwbGljYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVySW5saW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckNvbGxhcHNlRXhwYW5kQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyRGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7cmVnaXN0ZXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVySGVscCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCl9O1xucmVnaXN0ZXJDb21tZW50T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zPWZ1bmN0aW9uKCl7cmVnaXN0ZXJDb21tZW50RHVwbGljYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMoKTtyZWdpc3RlckNvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCl9O3JlZ2lzdGVyRGVmYXVsdE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz1mdW5jdGlvbigpe3JlZ2lzdGVyV29ya3NwYWNlT3B0aW9uc18kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcygpO3JlZ2lzdGVyQmxvY2tPcHRpb25zXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCl9O1xuaXNQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcGFzdGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYS5wYXN0ZT09PVwiZnVuY3Rpb25cIn07aXNSZW5kZXJlZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcmVuZGVyZWRfZWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0U3ZnUm9vdD09PVwiZnVuY3Rpb25cIn07aXNTZWxlY3RhYmxlVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZV90b29sYm94X2l0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaXNTZWxlY3RhYmxlKCl9O2hpZGVDaGFmZiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9ZnVuY3Rpb24oYSl7Z2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpLmhpZGVDaGFmZihhKX07XG5pc0ZvY3VzYWJsZVRyZWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX3RyZWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldFJvb3RGb2N1c2FibGVOb2RlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5nZXRSZXN0b3JlZEZvY3VzYWJsZU5vZGU9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBhLmdldE5lc3RlZFRyZWVzPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5sb29rVXBGb2N1c2FibGVOb2RlPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgYS5vblRyZWVGb2N1cz09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIGEub25UcmVlQmx1cj09PVwiZnVuY3Rpb25cIn07JGpzY29tcD0kanNjb21wfHx7fTskanNjb21wLnNjb3BlPXt9OyRqc2NvbXAuQVNTVU1FX0VTNT0hMTskanNjb21wLkFTU1VNRV9FUzY9ITE7JGpzY29tcC5BU1NVTUVfRVMyMDIwPSExOyRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9NQVA9ITE7JGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX1NFVD0hMTtcbiRqc2NvbXAuSVNPTEFURV9QT0xZRklMTFM9ITE7JGpzY29tcC5GT1JDRV9QT0xZRklMTF9QUk9NSVNFPSExOyRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRV9XSEVOX05PX1VOSEFORExFRF9SRUpFQ1RJT049ITE7JGpzY29tcC5JTlNUUlVNRU5UX0FTWU5DX0NPTlRFWFQ9ITA7JGpzY29tcC5vYmplY3RDcmVhdGU9JGpzY29tcC5BU1NVTUVfRVM1fHx0eXBlb2YgT2JqZWN0LmNyZWF0ZT09XCJmdW5jdGlvblwiP09iamVjdC5jcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oKXt9O2IucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBifTskanNjb21wLmRlZmluZVByb3BlcnR5PSRqc2NvbXAuQVNTVU1FX0VTNXx8dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzPT1cImZ1bmN0aW9uXCI/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixjKXtpZihhPT1BcnJheS5wcm90b3R5cGV8fGE9PU9iamVjdC5wcm90b3R5cGUpcmV0dXJuIGE7YVtiXT1jLnZhbHVlO3JldHVybiBhfTtcbiRqc2NvbXAuZ2V0R2xvYmFsPWZ1bmN0aW9uKGEpe2E9W1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLGEsXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbF07Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2Ipe3ZhciBjPWFbYl07aWYoYyYmYy5NYXRoPT1NYXRoKXJldHVybiBjfXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKTt9OyRqc2NvbXAuZ2xvYmFsPSRqc2NvbXAuQVNTVU1FX0VTMjAyMD9nbG9iYWxUaGlzOiRqc2NvbXAuZ2V0R2xvYmFsKHRoaXMpOyRqc2NvbXAuSVNfU1lNQk9MX05BVElWRT10eXBlb2YgU3ltYm9sPT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgU3ltYm9sKFwieFwiKT09PVwic3ltYm9sXCI7JGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTPSEkanNjb21wLklTT0xBVEVfUE9MWUZJTExTfHwkanNjb21wLklTX1NZTUJPTF9OQVRJVkU7XG4kanNjb21wLnBvbHlmaWxscz17fTskanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbD17fTskanNjb21wLlBPTFlGSUxMX1BSRUZJWD1cIiRqc2NwJFwiO3ZhciAkanNjb21wJGxvb2t1cFBvbHlmaWxsZWRWYWx1ZT1mdW5jdGlvbihhLGIsYyl7aWYoIWN8fGEhPW51bGwpe2M9JGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbYl07aWYoYz09bnVsbClyZXR1cm4gYVtiXTtjPWFbY107cmV0dXJuIGMhPT12b2lkIDA/YzphW2JdfX07JGpzY29tcC5wb2x5ZmlsbD1mdW5jdGlvbihhLGIsYyxkKXtiJiYoJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUz8kanNjb21wLnBvbHlmaWxsSXNvbGF0ZWQoYSxiLGMsZCk6JGpzY29tcC5wb2x5ZmlsbFVuaXNvbGF0ZWQoYSxiLGMsZCkpfTtcbiRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkPWZ1bmN0aW9uKGEsYixjLGQpe2M9JGpzY29tcC5nbG9iYWw7YT1hLnNwbGl0KFwiLlwiKTtmb3IoZD0wO2Q8YS5sZW5ndGgtMTtkKyspe3ZhciBlPWFbZF07aWYoIShlIGluIGMpKXJldHVybjtjPWNbZV19YT1hW2EubGVuZ3RoLTFdO2Q9Y1thXTtiPWIoZCk7YiE9ZCYmYiE9bnVsbCYmJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShjLGEse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpifSl9O1xuJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEuc3BsaXQoXCIuXCIpO2E9ZS5sZW5ndGg9PT0xO2Q9ZVswXTtkPSFhJiZkIGluICRqc2NvbXAucG9seWZpbGxzPyRqc2NvbXAucG9seWZpbGxzOiRqc2NvbXAuZ2xvYmFsO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGgtMTtmKyspe3ZhciBnPWVbZl07aWYoIShnIGluIGQpKXJldHVybjtkPWRbZ119ZT1lW2UubGVuZ3RoLTFdO2M9JGpzY29tcC5JU19TWU1CT0xfTkFUSVZFJiZjPT09XCJlczZcIj9kW2VdOm51bGw7Yj1iKGMpO2IhPW51bGwmJihhPyRqc2NvbXAuZGVmaW5lUHJvcGVydHkoJGpzY29tcC5wb2x5ZmlsbHMsZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KTpiIT09YyYmKCRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW2VdPT09dm9pZCAwJiYoYz1NYXRoLnJhbmRvbSgpKjFFOT4+PjAsJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbZV09JGpzY29tcC5JU19TWU1CT0xfTkFUSVZFP1xuJGpzY29tcC5nbG9iYWwuU3ltYm9sKGUpOiRqc2NvbXAuUE9MWUZJTExfUFJFRklYK2MrXCIkXCIrZSksJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShkLCRqc2NvbXAucHJvcGVydHlUb1BvbHlmaWxsU3ltYm9sW2VdLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pKSl9O1xuJGpzY29tcC5nZXRDb25zdHJ1Y3RJbXBsZW1lbnRhdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtmdW5jdGlvbiBjKCl7fW5ldyBjO1JlZmxlY3QuY29uc3RydWN0KGMsW10sZnVuY3Rpb24oKXt9KTtyZXR1cm4gbmV3IGMgaW5zdGFuY2VvZiBjfWlmKCRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUyYmdHlwZW9mIFJlZmxlY3QhPVwidW5kZWZpbmVkXCImJlJlZmxlY3QuY29uc3RydWN0KXtpZihhKCkpcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0O3ZhciBiPVJlZmxlY3QuY29uc3RydWN0O3JldHVybiBmdW5jdGlvbihjLGQsZSl7Yz1iKGMsZCk7ZSYmUmVmbGVjdC5zZXRQcm90b3R5cGVPZihjLGUucHJvdG90eXBlKTtyZXR1cm4gY319cmV0dXJuIGZ1bmN0aW9uKGMsZCxlKXtlPT09dm9pZCAwJiYoZT1jKTtlPSRqc2NvbXAub2JqZWN0Q3JlYXRlKGUucHJvdG90eXBlfHxPYmplY3QucHJvdG90eXBlKTtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoYyxlLGQpfHxcbmV9fTskanNjb21wLmNvbnN0cnVjdD17dmFsdWVPZjokanNjb21wLmdldENvbnN0cnVjdEltcGxlbWVudGF0aW9ufS52YWx1ZU9mKCk7JGpzY29tcC51bmRlcnNjb3JlUHJvdG9DYW5CZVNldD1mdW5jdGlvbigpe3ZhciBhPXthOiEwfSxiPXt9O3RyeXtyZXR1cm4gYi5fX3Byb3RvX189YSxiLmF9Y2F0Y2goYyl7fXJldHVybiExfTskanNjb21wLnNldFByb3RvdHlwZU9mPSRqc2NvbXAuQVNTVU1FX0VTNnx8JGpzY29tcC5UUlVTVF9FUzZfUE9MWUZJTExTJiZ0eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mPT1cImZ1bmN0aW9uXCI/T2JqZWN0LnNldFByb3RvdHlwZU9mOiRqc2NvbXAudW5kZXJzY29yZVByb3RvQ2FuQmVTZXQoKT9mdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWI7aWYoYS5fX3Byb3RvX18hPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoYStcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtyZXR1cm4gYX06bnVsbDtcbiRqc2NvbXAuaW5oZXJpdHM9ZnVuY3Rpb24oYSxiKXthLnByb3RvdHlwZT0kanNjb21wLm9iamVjdENyZWF0ZShiLnByb3RvdHlwZSk7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTtpZigkanNjb21wLkFTU1VNRV9FUzZ8fCRqc2NvbXAuc2V0UHJvdG90eXBlT2Ype3ZhciBjPSRqc2NvbXAuc2V0UHJvdG90eXBlT2Y7YyhhLGIpfWVsc2UgZm9yKGMgaW4gYilpZihjIT1cInByb3RvdHlwZVwiKWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYyk7ZCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxkKX1lbHNlIGFbY109YltjXTthLnN1cGVyQ2xhc3NfPWIucHJvdG90eXBlfTskanNjb21wLmFycmF5SXRlcmF0b3JJbXBsPWZ1bmN0aW9uKGEpe3ZhciBiPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGI8YS5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6YVtiKytdfTp7ZG9uZTohMH19fTtcbiRqc2NvbXAuYXJyYXlJdGVyYXRvcj1mdW5jdGlvbihhKXtyZXR1cm57bmV4dDokanNjb21wLmFycmF5SXRlcmF0b3JJbXBsKGEpfX07JGpzY29tcC5tYWtlSXRlcmF0b3I9ZnVuY3Rpb24oYSl7dmFyIGI9dHlwZW9mIFN5bWJvbCE9XCJ1bmRlZmluZWRcIiYmU3ltYm9sLml0ZXJhdG9yJiZhW1N5bWJvbC5pdGVyYXRvcl07aWYoYilyZXR1cm4gYi5jYWxsKGEpO2lmKHR5cGVvZiBhLmxlbmd0aD09XCJudW1iZXJcIilyZXR1cm4gJGpzY29tcC5hcnJheUl0ZXJhdG9yKGEpO3Rocm93IEVycm9yKFN0cmluZyhhKStcIiBpcyBub3QgYW4gaXRlcmFibGUgb3IgQXJyYXlMaWtlXCIpO307JGpzY29tcC5hcnJheUZyb21JdGVyYXRvcj1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz1bXTshKGI9YS5uZXh0KCkpLmRvbmU7KWMucHVzaChiLnZhbHVlKTtyZXR1cm4gY307JGpzY29tcC5hcnJheUZyb21JdGVyYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5P2E6JGpzY29tcC5hcnJheUZyb21JdGVyYXRvcigkanNjb21wLm1ha2VJdGVyYXRvcihhKSl9O1xuJGpzY29tcC5nZW5lcmF0b3I9e307JGpzY29tcC5nZW5lcmF0b3IuZW5zdXJlSXRlcmF0b3JSZXN1bHRJc09iamVjdF89ZnVuY3Rpb24oYSl7aWYoIShhIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSXRlcmF0b3IgcmVzdWx0IFwiK2ErXCIgaXMgbm90IGFuIG9iamVjdFwiKTt9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQ9ZnVuY3Rpb24oKXt0aGlzLmlzUnVubmluZ189ITE7dGhpcy55aWVsZEFsbEl0ZXJhdG9yXz1udWxsO3RoaXMueWllbGRSZXN1bHQ9dm9pZCAwO3RoaXMubmV4dEFkZHJlc3M9MTt0aGlzLmZpbmFsbHlBZGRyZXNzXz10aGlzLmNhdGNoQWRkcmVzc189MDt0aGlzLmZpbmFsbHlDb250ZXh0c189dGhpcy5hYnJ1cHRDb21wbGV0aW9uXz1udWxsfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnN0YXJ0Xz1mdW5jdGlvbigpe2lmKHRoaXMuaXNSdW5uaW5nXyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTt0aGlzLmlzUnVubmluZ189ITB9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnN0b3BfPWZ1bmN0aW9uKCl7dGhpcy5pc1J1bm5pbmdfPSExfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVG9FcnJvckhhbmRsZXJfPWZ1bmN0aW9uKCl7dGhpcy5uZXh0QWRkcmVzcz10aGlzLmNhdGNoQWRkcmVzc198fHRoaXMuZmluYWxseUFkZHJlc3NffTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5uZXh0Xz1mdW5jdGlvbihhKXt0aGlzLnlpZWxkUmVzdWx0PWF9O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUudGhyb3dfPWZ1bmN0aW9uKGEpe3RoaXMuYWJydXB0Q29tcGxldGlvbl89e2V4Y2VwdGlvbjphLGlzRXhjZXB0aW9uOiEwfTt0aGlzLmp1bXBUb0Vycm9ySGFuZGxlcl8oKX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGEpe3RoaXMuYWJydXB0Q29tcGxldGlvbl89e3JldHVybjphfTt0aGlzLm5leHRBZGRyZXNzPXRoaXMuZmluYWxseUFkZHJlc3NffTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVGhyb3VnaEZpbmFsbHlCbG9ja3M9ZnVuY3Rpb24oYSl7dGhpcy5hYnJ1cHRDb21wbGV0aW9uXz17anVtcFRvOmF9O3RoaXMubmV4dEFkZHJlc3M9dGhpcy5maW5hbGx5QWRkcmVzc199OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnlpZWxkPWZ1bmN0aW9uKGEsYil7dGhpcy5uZXh0QWRkcmVzcz1iO3JldHVybnt2YWx1ZTphfX07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS55aWVsZEFsbD1mdW5jdGlvbihhLGIpe2E9JGpzY29tcC5tYWtlSXRlcmF0b3IoYSk7dmFyIGM9YS5uZXh0KCk7JGpzY29tcC5nZW5lcmF0b3IuZW5zdXJlSXRlcmF0b3JSZXN1bHRJc09iamVjdF8oYyk7aWYoYy5kb25lKXRoaXMueWllbGRSZXN1bHQ9Yy52YWx1ZSx0aGlzLm5leHRBZGRyZXNzPWI7ZWxzZSByZXR1cm4gdGhpcy55aWVsZEFsbEl0ZXJhdG9yXz1hLHRoaXMueWllbGQoYy52YWx1ZSxiKX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvPWZ1bmN0aW9uKGEpe3RoaXMubmV4dEFkZHJlc3M9YX07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuanVtcFRvRW5kPWZ1bmN0aW9uKCl7dGhpcy5uZXh0QWRkcmVzcz0wfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnNldENhdGNoRmluYWxseUJsb2Nrcz1mdW5jdGlvbihhLGIpe3RoaXMuY2F0Y2hBZGRyZXNzXz1hO2IhPXZvaWQgMCYmKHRoaXMuZmluYWxseUFkZHJlc3NfPWIpfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5zZXRGaW5hbGx5QmxvY2s9ZnVuY3Rpb24oYSl7dGhpcy5jYXRjaEFkZHJlc3NfPTA7dGhpcy5maW5hbGx5QWRkcmVzc189YXx8MH07JGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUubGVhdmVUcnlCbG9jaz1mdW5jdGlvbihhLGIpe3RoaXMubmV4dEFkZHJlc3M9YTt0aGlzLmNhdGNoQWRkcmVzc189Ynx8MH07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5lbnRlckNhdGNoQmxvY2s9ZnVuY3Rpb24oYSl7dGhpcy5jYXRjaEFkZHJlc3NfPWF8fDA7YT10aGlzLmFicnVwdENvbXBsZXRpb25fLmV4Y2VwdGlvbjt0aGlzLmFicnVwdENvbXBsZXRpb25fPW51bGw7cmV0dXJuIGF9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmVudGVyRmluYWxseUJsb2NrPWZ1bmN0aW9uKGEsYixjKXtjP3RoaXMuZmluYWxseUNvbnRleHRzX1tjXT10aGlzLmFicnVwdENvbXBsZXRpb25fOnRoaXMuZmluYWxseUNvbnRleHRzXz1bdGhpcy5hYnJ1cHRDb21wbGV0aW9uX107dGhpcy5jYXRjaEFkZHJlc3NfPWF8fDA7dGhpcy5maW5hbGx5QWRkcmVzc189Ynx8MH07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5sZWF2ZUZpbmFsbHlCbG9jaz1mdW5jdGlvbihhLGIpe2I9dGhpcy5maW5hbGx5Q29udGV4dHNfLnNwbGljZShifHwwKVswXTtpZihiPXRoaXMuYWJydXB0Q29tcGxldGlvbl89dGhpcy5hYnJ1cHRDb21wbGV0aW9uX3x8Yil7aWYoYi5pc0V4Y2VwdGlvbilyZXR1cm4gdGhpcy5qdW1wVG9FcnJvckhhbmRsZXJfKCk7Yi5qdW1wVG8hPXZvaWQgMCYmdGhpcy5maW5hbGx5QWRkcmVzc188Yi5qdW1wVG8/KHRoaXMubmV4dEFkZHJlc3M9Yi5qdW1wVG8sdGhpcy5hYnJ1cHRDb21wbGV0aW9uXz1udWxsKTp0aGlzLm5leHRBZGRyZXNzPXRoaXMuZmluYWxseUFkZHJlc3NffWVsc2UgdGhpcy5uZXh0QWRkcmVzcz1hfTskanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5mb3JJbj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvcihhKX07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LlByb3BlcnR5SXRlcmF0b3I9ZnVuY3Rpb24oYSl7dGhpcy5vYmplY3RfPWE7dGhpcy5wcm9wZXJ0aWVzXz1bXTtmb3IodmFyIGIgaW4gYSl0aGlzLnByb3BlcnRpZXNfLnB1c2goYik7dGhpcy5wcm9wZXJ0aWVzXy5yZXZlcnNlKCl9OyRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvci5wcm90b3R5cGUuZ2V0TmV4dD1mdW5jdGlvbigpe2Zvcig7dGhpcy5wcm9wZXJ0aWVzXy5sZW5ndGg+MDspe3ZhciBhPXRoaXMucHJvcGVydGllc18ucG9wKCk7aWYoYSBpbiB0aGlzLm9iamVjdF8pcmV0dXJuIGF9cmV0dXJuIG51bGx9OyRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV89ZnVuY3Rpb24oYSl7dGhpcy5jb250ZXh0Xz1uZXcgJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dDt0aGlzLnByb2dyYW1fPWF9O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUubmV4dF89ZnVuY3Rpb24oYSl7dGhpcy5jb250ZXh0Xy5zdGFydF8oKTtpZih0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfKXJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8odGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXy5uZXh0LGEsdGhpcy5jb250ZXh0Xy5uZXh0Xyk7dGhpcy5jb250ZXh0Xy5uZXh0XyhhKTtyZXR1cm4gdGhpcy5uZXh0U3RlcF8oKX07XG4kanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS5yZXR1cm5fPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dF8uc3RhcnRfKCk7dmFyIGI9dGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXztpZihiKXJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8oXCJyZXR1cm5cImluIGI/YltcInJldHVyblwiXTpmdW5jdGlvbihjKXtyZXR1cm57dmFsdWU6Yyxkb25lOiEwfX0sYSx0aGlzLmNvbnRleHRfLnJldHVybik7dGhpcy5jb250ZXh0Xy5yZXR1cm4oYSk7cmV0dXJuIHRoaXMubmV4dFN0ZXBfKCl9O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUudGhyb3dfPWZ1bmN0aW9uKGEpe3RoaXMuY29udGV4dF8uc3RhcnRfKCk7aWYodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXylyZXR1cm4gdGhpcy55aWVsZEFsbFN0ZXBfKHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl9bXCJ0aHJvd1wiXSxhLHRoaXMuY29udGV4dF8ubmV4dF8pO3RoaXMuY29udGV4dF8udGhyb3dfKGEpO3JldHVybiB0aGlzLm5leHRTdGVwXygpfTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnlpZWxkQWxsU3RlcF89ZnVuY3Rpb24oYSxiLGMpe3RyeXt2YXIgZD1hLmNhbGwodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXyxiKTskanNjb21wLmdlbmVyYXRvci5lbnN1cmVJdGVyYXRvclJlc3VsdElzT2JqZWN0XyhkKTtpZighZC5kb25lKXJldHVybiB0aGlzLmNvbnRleHRfLnN0b3BfKCksZDt2YXIgZT1kLnZhbHVlfWNhdGNoKGYpe3JldHVybiB0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfPW51bGwsdGhpcy5jb250ZXh0Xy50aHJvd18oZiksdGhpcy5uZXh0U3RlcF8oKX10aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfPW51bGw7Yy5jYWxsKHRoaXMuY29udGV4dF8sZSk7cmV0dXJuIHRoaXMubmV4dFN0ZXBfKCl9O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUubmV4dFN0ZXBfPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNvbnRleHRfLm5leHRBZGRyZXNzOyl0cnl7dmFyIGE9dGhpcy5wcm9ncmFtXyh0aGlzLmNvbnRleHRfKTtpZihhKXJldHVybiB0aGlzLmNvbnRleHRfLnN0b3BfKCkse3ZhbHVlOmEudmFsdWUsZG9uZTohMX19Y2F0Y2goYil7dGhpcy5jb250ZXh0Xy55aWVsZFJlc3VsdD12b2lkIDAsdGhpcy5jb250ZXh0Xy50aHJvd18oYil9dGhpcy5jb250ZXh0Xy5zdG9wXygpO2lmKHRoaXMuY29udGV4dF8uYWJydXB0Q29tcGxldGlvbl8pe2E9dGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXzt0aGlzLmNvbnRleHRfLmFicnVwdENvbXBsZXRpb25fPW51bGw7aWYoYS5pc0V4Y2VwdGlvbil0aHJvdyBhLmV4Y2VwdGlvbjtyZXR1cm57dmFsdWU6YS5yZXR1cm4sZG9uZTohMH19cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX07XG4kanNjb21wLmdlbmVyYXRvci5HZW5lcmF0b3JfPWZ1bmN0aW9uKGEpe3RoaXMubmV4dD1mdW5jdGlvbihiKXtyZXR1cm4gYS5uZXh0XyhiKX07dGhpcy50aHJvdz1mdW5jdGlvbihiKXtyZXR1cm4gYS50aHJvd18oYil9O3RoaXMucmV0dXJuPWZ1bmN0aW9uKGIpe3JldHVybiBhLnJldHVybl8oYil9O3RoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfX07JGpzY29tcC5nZW5lcmF0b3IuY3JlYXRlR2VuZXJhdG9yPWZ1bmN0aW9uKGEsYil7Yj1uZXcgJGpzY29tcC5nZW5lcmF0b3IuR2VuZXJhdG9yXyhuZXcgJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXyhiKSk7JGpzY29tcC5zZXRQcm90b3R5cGVPZiYmYS5wcm90b3R5cGUmJiRqc2NvbXAuc2V0UHJvdG90eXBlT2YoYixhLnByb3RvdHlwZSk7cmV0dXJuIGJ9O1xuJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7cmV0dXJuIGEubmV4dChkKX1mdW5jdGlvbiBjKGQpe3JldHVybiBhLnRocm93KGQpfXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGUpe2Z1bmN0aW9uIGYoZyl7Zy5kb25lP2QoZy52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGcudmFsdWUpLnRoZW4oYixjKS50aGVuKGYsZSl9ZihhLm5leHQoKSl9KX07JGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvcihhKCkpfTskanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtPWZ1bmN0aW9uKGEpe3JldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3IobmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkdlbmVyYXRvcl8obmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8oYSkpKX07XG4kanNjb21wLnBvbHlmaWxsKFwiZ2xvYmFsVGhpc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhfHwkanNjb21wLmdsb2JhbH0sXCJlc18yMDIwXCIsXCJlczNcIik7JGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzO2QgaW5zdGFuY2VvZiBTdHJpbmcmJihkPVN0cmluZyhkKSk7dmFyIGU9ZC5sZW5ndGg7Yz1jfHwwO2ZvcihjPDAmJihjPU1hdGgubWF4KGMrZSwwKSk7YzxlO2MrKyl7dmFyIGY9ZFtjXTtpZihmPT09Ynx8T2JqZWN0LmlzKGYsYikpcmV0dXJuITB9cmV0dXJuITF9fSxcImVzN1wiLFwiZXMzXCIpO1xuJGpzY29tcC5jaGVja0VzNkNvbmZvcm1hbmNlVmlhUHJveHk9ZnVuY3Rpb24oKXt0cnl7dmFyIGE9e30sYj1PYmplY3QuY3JlYXRlKG5ldyAkanNjb21wLmdsb2JhbC5Qcm94eShhLHtnZXQ6ZnVuY3Rpb24oYyxkLGUpe3JldHVybiBjPT1hJiZkPT1cInFcIiYmZT09Yn19KSk7cmV0dXJuIGIucT09PSEwfWNhdGNoKGMpe3JldHVybiExfX07JGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1M9ITE7JGpzY29tcC5FUzZfQ09ORk9STUFOQ0U9JGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1MmJiRqc2NvbXAuY2hlY2tFczZDb25mb3JtYW5jZVZpYVByb3h5KCk7JGpzY29tcC5pbml0U3ltYm9sPWZ1bmN0aW9uKCl7fTskanNjb21wLml0ZXJhdG9yUHJvdG90eXBlPWZ1bmN0aW9uKGEpe2E9e25leHQ6YX07YVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3JldHVybiBhfTtcbiRqc2NvbXAub3ducz1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX07JGpzY29tcC5NYXBFbnRyeT1mdW5jdGlvbigpe307JGpzY29tcC5wb2x5ZmlsbChcIlNldC5wcm90b3R5cGUuZGlmZmVyZW5jZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYil7JGpzY29tcC5jaGVja0lzU2V0SW5zdGFuY2UodGhpcyk7JGpzY29tcC5jaGVja0lzU2V0TGlrZShiKTt2YXIgYz0kanNjb21wLmdldFNtYWxsZXJBbmRMYXJnZXJTZXRzKHRoaXMsYik7Yj1uZXcgU2V0KHRoaXMpO3ZhciBkPWMuc21hbGxlclNldEl0ZXJhdG9yO2M9Yy5sYXJnZXJTZXQ7Zm9yKHZhciBlPWQubmV4dCgpOyFlLmRvbmU7KWMuaGFzKGUudmFsdWUpJiZiLmRlbGV0ZShlLnZhbHVlKSxlPWQubmV4dCgpO3JldHVybiBifX0sXCJlc19uZXh0XCIsXCJlczZcIik7XG4kanNjb21wLmNoZWNrSXNTZXRMaWtlPWZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhIT09XCJvYmplY3RcInx8YT09PW51bGx8fHR5cGVvZiBhLnNpemUhPT1cIm51bWJlclwifHxhLnNpemU8MHx8dHlwZW9mIGEua2V5cyE9PVwiZnVuY3Rpb25cInx8dHlwZW9mIGEuaGFzIT09XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIHNldC1saWtlXCIpO307JGpzY29tcC5jaGVja0lzVmFsaWRJdGVyYXRvcj1mdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9PVwib2JqZWN0XCJ8fGE9PT1udWxsfHx0eXBlb2YgYS5uZXh0IT09XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGl0ZXJhdG9yLlwiKTtyZXR1cm4gYX07XG4kanNjb21wLmdldFNtYWxsZXJBbmRMYXJnZXJTZXRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc2l6ZTw9Yi5zaXplP3tzbWFsbGVyU2V0SXRlcmF0b3I6YS5rZXlzKCksbGFyZ2VyU2V0OmJ9OntzbWFsbGVyU2V0SXRlcmF0b3I6JGpzY29tcC5jaGVja0lzVmFsaWRJdGVyYXRvcihiLmtleXMoKSksbGFyZ2VyU2V0OmF9fTskanNjb21wLmNoZWNrSXNTZXRJbnN0YW5jZT1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTZXQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNZXRob2QgbXVzdCBiZSBjYWxsZWQgb24gYW4gaW5zdGFuY2Ugb2YgU2V0LlwiKTt9O1xuJGpzY29tcC5pdGVyYXRvckZyb21BcnJheT1mdW5jdGlvbihhLGIpe2lmKCRqc2NvbXAuQVNTVU1FX0VTNilyZXR1cm4gYVtTeW1ib2wuaXRlcmF0b3JdKCk7YSBpbnN0YW5jZW9mIFN0cmluZyYmKGErPVwiXCIpO3ZhciBjPTAsZD0hMSxlPXtuZXh0OmZ1bmN0aW9uKCl7aWYoIWQmJmM8YS5sZW5ndGgpe3ZhciBmPWMrKztyZXR1cm57dmFsdWU6YihmLGFbZl0pLGRvbmU6ITF9fWQ9ITA7cmV0dXJue2RvbmU6ITAsdmFsdWU6dm9pZCAwfX19O2VbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gZX07JGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS52YWx1ZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKCl7cmV0dXJuICRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBjfSl9fSxcImVzOFwiLFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5mbGF0TWFwXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe3ZhciBkPVtdO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodGhpcyxmdW5jdGlvbihlLGYpe2U9Yi5jYWxsKGMsZSxmLHRoaXMpO0FycmF5LmlzQXJyYXkoZSk/ZC5wdXNoLmFwcGx5KGQsZSk6ZC5wdXNoKGUpfSk7cmV0dXJuIGR9fSxcImVzOVwiLFwiZXM1XCIpOyRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUuZmxhdFwiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYil7Yj1iPT09dm9pZCAwPzE6Yjt2YXIgYz1bXTtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHRoaXMsZnVuY3Rpb24oZCl7QXJyYXkuaXNBcnJheShkKSYmYj4wPyhkPUFycmF5LnByb3RvdHlwZS5mbGF0LmNhbGwoZCxiLTEpLGMucHVzaC5hcHBseShjLGQpKTpjLnB1c2goZCl9KTtyZXR1cm4gY319LFwiZXM5XCIsXCJlczVcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LmVudHJpZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYikkanNjb21wLm93bnMoYixkKSYmYy5wdXNoKFtkLGJbZF1dKTtyZXR1cm4gY319LFwiZXM4XCIsXCJlczNcIik7JGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC52YWx1ZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIpe3ZhciBjPVtdLGQ7Zm9yKGQgaW4gYikkanNjb21wLm93bnMoYixkKSYmYy5wdXNoKGJbZF0pO3JldHVybiBjfX0sXCJlczhcIixcImVzM1wiKTtcbnZhciB0eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9T2JqZWN0LmNyZWF0ZShudWxsKSxURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT17dHlwZU1hcDp0eXBlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnl9LG5hbWVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1PYmplY3QuY3JlYXRlKG51bGwpLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeT1cImRlZmF1bHRcIixUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5uYW1lPWF9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfX07VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNPTk5FQ1RJT05fQ0hFQ0tFUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwiY29ubmVjdGlvbkNoZWNrZXJcIik7XG5UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQ09OTkVDVElPTl9QUkVWSUVXRVI9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImNvbm5lY3Rpb25QcmV2aWV3ZXJcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNVUlNPUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwiY3Vyc29yXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVD1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwiZXZlbnRcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZJRUxEPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJmaWVsZFwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuSU5QVVQ9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImlucHV0XCIpO1xuVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlJFTkRFUkVSPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJyZW5kZXJlclwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWD1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwidG9vbGJveFwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVEhFTUU9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcInRoZW1lXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5UT09MQk9YX0lURU09bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcInRvb2xib3hJdGVtXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRTX1ZFUlRJQ0FMX1RPT0xCT1g9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImZseW91dHNWZXJ0aWNhbFRvb2xib3hcIik7XG5UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19IT1JJWk9OVEFMX1RPT0xCT1g9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImZseW91dHNIb3Jpem9udGFsVG9vbGJveFwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUX0lORkxBVEVSPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJmbHlvdXRJbmZsYXRlclwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuTUVUUklDU19NQU5BR0VSPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJtZXRyaWNzTWFuYWdlclwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQkxPQ0tfRFJBR0dFUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwiYmxvY2tEcmFnZ2VyXCIpO1xuVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlNFUklBTElaRVI9bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcInNlcmlhbGl6ZXJcIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklDT049bmV3IFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShcImljb25cIik7VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlBBU1RFUj1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwicGFzdGVyXCIpO1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5WQVJJQUJMRV9NT0RFTD1uZXcgVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFwidmFyaWFibGVNb2RlbFwiKTtUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVkFSSUFCTEVfTUFQPW5ldyBUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoXCJ2YXJpYWJsZU1hcFwiKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk9e0RFRkFVTFQ6REVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LFRFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeX07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlR5cGU9VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5nZXRBbGxJdGVtcz1nZXRBbGxJdGVtcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5nZXRDbGFzcz1nZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5nZXRDbGFzc0Zyb21PcHRpb25zPWdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5nZXRPYmplY3Q9Z2V0T2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5Lmhhc0l0ZW09aGFzSXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5yZWdpc3Rlcj1yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS51bnJlZ2lzdGVyPXVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeTt2YXIgQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tzPU9iamVjdC5jcmVhdGUobnVsbCksbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrcz17QmxvY2tzOkJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrc307dmFyIExPTkdQUkVTUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoPTc1MCxUT1VDSF9FTkFCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9XCJvbnRvdWNoc3RhcnRcImluIGdsb2JhbFRoaXN8fCEhKGdsb2JhbFRoaXMuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmXCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl8fCEoIWdsb2JhbFRoaXMubmF2aWdhdG9yfHwhZ2xvYmFsVGhpcy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJiFnbG9iYWxUaGlzLm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzKSx0b3VjaElkZW50aWZpZXJfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9bnVsbCxUT1VDSF9NQVAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD17bW91c2Vkb3duOltcInBvaW50ZXJkb3duXCJdLG1vdXNlZW50ZXI6W1wicG9pbnRlcmVudGVyXCJdLG1vdXNlbGVhdmU6W1wicG9pbnRlcmxlYXZlXCJdLG1vdXNlbW92ZTpbXCJwb2ludGVybW92ZVwiXSxcbm1vdXNlb3V0OltcInBvaW50ZXJvdXRcIl0sbW91c2VvdmVyOltcInBvaW50ZXJvdmVyXCJdLG1vdXNldXA6W1wicG9pbnRlcnVwXCIsXCJwb2ludGVyY2FuY2VsXCJdLHRvdWNoZW5kOltcInBvaW50ZXJ1cFwiXSx0b3VjaGNhbmNlbDpbXCJwb2ludGVyY2FuY2VsXCJdLHBvaW50ZXJ1cDpbXCJwb2ludGVydXBcIixcInBvaW50ZXJjYW5jZWxcIl19LGxvbmdQaWRfJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9MCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g9e1RPVUNIX0VOQUJMRUQ6VE9VQ0hfRU5BQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLFRPVUNIX01BUDpUT1VDSF9NQVAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaH07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLmNoZWNrVG91Y2hJZGVudGlmaWVyPWNoZWNrVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2guY2xlYXJUb3VjaElkZW50aWZpZXI9Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2guZ2V0VG91Y2hJZGVudGlmaWVyRnJvbUV2ZW50PWdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaC5sb25nU3RhcnQ9bG9uZ1N0YXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLmxvbmdTdG9wPWxvbmdTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoLnNob3VsZEhhbmRsZUV2ZW50PXNob3VsZEhhbmRsZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2g7dmFyIHJhd1VzZXJBZ2VudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxpc0phdmFGeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxpc1dlYktpdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxpc0dlY2tvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LGlzQW5kcm9pZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxpc0lQYWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNJUGhvbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNNYWMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNUYWJsZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsaXNNb2JpbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ7XG4oZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXtyZXR1cm4gYy5pbmNsdWRlcyhkLnRvVXBwZXJDYXNlKCkpfXJhd1VzZXJBZ2VudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1hO2NvbnN0IGM9cmF3VXNlckFnZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LnRvVXBwZXJDYXNlKCk7aXNKYXZhRngkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9YihcIkphdmFGWFwiKTtpc1dlYktpdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1iKFwiV2ViS2l0XCIpO2lzR2Vja28kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9YihcIkdlY2tvXCIpJiYhaXNXZWJLaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ7aXNBbmRyb2lkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWIoXCJBbmRyb2lkXCIpO2E9Z2xvYmFsVGhpcy5uYXZpZ2F0b3ImJlxuZ2xvYmFsVGhpcy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM7aXNJUGFkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWIoXCJpUGFkXCIpfHxiKFwiTWFjaW50b3NoXCIpJiZhPjA7aXNJUGhvbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9YihcImlQaG9uZVwiKSYmIWlzSVBhZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudDtpc01hYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1iKFwiTWFjaW50b3NoXCIpO2lzVGFibGV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWlzSVBhZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudHx8aXNBbmRyb2lkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50JiYhYihcIk1vYmlsZVwiKXx8YihcIlNpbGtcIik7aXNNb2JpbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ9IWlzVGFibGV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50JiZcbihpc0lQaG9uZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudHx8aXNBbmRyb2lkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50KX0pKGdsb2JhbFRoaXMubmF2aWdhdG9yJiZnbG9iYWxUaGlzLm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIpO1xudmFyIHJhdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1yYXdVc2VyQWdlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsSmF2YUZ4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWlzSmF2YUZ4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LEdFQ0tPJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWlzR2Vja28kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsQU5EUk9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc0FuZHJvaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsSVBBRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc0lQYWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsSVBIT05FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PVxuaXNJUGhvbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsTUFDJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PWlzTWFjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LE1PQklMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD1pc01vYmlsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50PXtBTkRST0lEOkFORFJPSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsR0VDS086R0VDS08kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsSVBBRDpJUEFEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50LElQSE9ORTpJUEhPTkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsSmF2YUZ4OkphdmFGeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxcbk1BQzpNQUMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQsTU9CSUxFOk1PQklMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudCxyYXc6cmF3JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50fTt2YXIgTElORV9NT0RFX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cz00MCxQQUdFX01PREVfTVVMVElQTElFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzPTEyNSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLmJpbmQ9YmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cy5jb25kaXRpb25hbEJpbmQ9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLmdldFNjcm9sbERlbHRhUGl4ZWxzPWdldFNjcm9sbERlbHRhUGl4ZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMuaXNSaWdodEJ1dHRvbj1pc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzLmlzVGFyZ2V0SW5wdXQ9aXNUYXJnZXRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cy5tb3VzZVRvU3ZnPW1vdXNlVG9TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMudW5iaW5kPXVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO3ZhciBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZTtcbihmdW5jdGlvbihhKXthLkJMT0NLX0NSRUFURT1cImNyZWF0ZVwiO2EuQkxPQ0tfREVMRVRFPVwiZGVsZXRlXCI7YS5CTE9DS19DSEFOR0U9XCJjaGFuZ2VcIjthLkJMT0NLX0ZJRUxEX0lOVEVSTUVESUFURV9DSEFOR0U9XCJibG9ja19maWVsZF9pbnRlcm1lZGlhdGVfY2hhbmdlXCI7YS5CTE9DS19NT1ZFPVwibW92ZVwiO2EuVkFSX0NSRUFURT1cInZhcl9jcmVhdGVcIjthLlZBUl9ERUxFVEU9XCJ2YXJfZGVsZXRlXCI7YS5WQVJfUkVOQU1FPVwidmFyX3JlbmFtZVwiO2EuVkFSX1RZUEVfQ0hBTkdFPVwidmFyX3R5cGVfY2hhbmdlXCI7YS5VST1cInVpXCI7YS5CTE9DS19EUkFHPVwiZHJhZ1wiO2EuU0VMRUNURUQ9XCJzZWxlY3RlZFwiO2EuQ0xJQ0s9XCJjbGlja1wiO2EuTUFSS0VSX01PVkU9XCJtYXJrZXJfbW92ZVwiO2EuQlVCQkxFX09QRU49XCJidWJibGVfb3BlblwiO2EuVFJBU0hDQU5fT1BFTj1cInRyYXNoY2FuX29wZW5cIjthLlRPT0xCT1hfSVRFTV9TRUxFQ1Q9XCJ0b29sYm94X2l0ZW1fc2VsZWN0XCI7YS5USEVNRV9DSEFOR0U9XG5cInRoZW1lX2NoYW5nZVwiO2EuVklFV1BPUlRfQ0hBTkdFPVwidmlld3BvcnRfY2hhbmdlXCI7YS5DT01NRU5UX0NSRUFURT1cImNvbW1lbnRfY3JlYXRlXCI7YS5DT01NRU5UX0RFTEVURT1cImNvbW1lbnRfZGVsZXRlXCI7YS5DT01NRU5UX0NIQU5HRT1cImNvbW1lbnRfY2hhbmdlXCI7YS5DT01NRU5UX01PVkU9XCJjb21tZW50X21vdmVcIjthLkNPTU1FTlRfUkVTSVpFPVwiY29tbWVudF9yZXNpemVcIjthLkNPTU1FTlRfRFJBRz1cImNvbW1lbnRfZHJhZ1wiO2EuQ09NTUVOVF9DT0xMQVBTRT1cImNvbW1lbnRfY29sbGFwc2VcIjthLkZJTklTSEVEX0xPQURJTkc9XCJmaW5pc2hlZF9sb2FkaW5nXCJ9KShFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZXx8KEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlPXt9KSk7XG52YXIgQlVNUF9FVkVOVFMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZT1bRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFLEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkUsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DUkVBVEUsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFXSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGU9e0JVTVBfRVZFTlRTOkJVTVBfRVZFTlRTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGV9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5FdmVudFR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGU7dmFyIHNvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcj1cIiEjJCUoKSorLC0uLzo7PT9AW11eX2B7fH1+QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIixpbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yPXtnZW5VaWQ6KCk9Pntjb25zdCBhPXNvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvci5sZW5ndGgsYj1bXTtmb3IobGV0IGM9MDtjPDIwO2MrKyliW2NdPXNvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvci5jaGFyQXQoTWF0aC5yYW5kb20oKSphKTtyZXR1cm4gYi5qb2luKFwiXCIpfX0sVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3I9aW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcixuZXh0SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcj1cbjAsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yPXtURVNUX09OTFk6aW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcn07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yLmdlblVpZD1nZW5VaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IuZ2V0TmV4dFVuaXF1ZUlkPWdldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQmxvY2tDaGFuZ2U9aXNCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0Jsb2NrQ3JlYXRlPWlzQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNCbG9ja0RlbGV0ZT1pc0Jsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQmxvY2tEcmFnPWlzQmxvY2tEcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNCbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlPWlzQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0Jsb2NrTW92ZT1pc0Jsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0J1YmJsZU9wZW49aXNCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQ2xpY2s9aXNDbGljayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQ29tbWVudENoYW5nZT1pc0NvbW1lbnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNDb21tZW50Q29sbGFwc2U9aXNDb21tZW50Q29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNDb21tZW50Q3JlYXRlPWlzQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0NvbW1lbnREZWxldGU9aXNDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNDb21tZW50RHJhZz1pc0NvbW1lbnREcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzQ29tbWVudE1vdmU9aXNDb21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc0NvbW1lbnRSZXNpemU9aXNDb21tZW50UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzRmluaXNoZWRMb2FkaW5nPWlzRmluaXNoZWRMb2FkaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzU2VsZWN0ZWQ9aXNTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzLmlzVGhlbWVDaGFuZ2U9aXNUaGVtZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc1Rvb2xib3hJdGVtU2VsZWN0PWlzVG9vbGJveEl0ZW1TZWxlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNUcmFzaGNhbk9wZW49aXNUcmFzaGNhbk9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNWYXJDcmVhdGU9aXNWYXJDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMuaXNWYXJEZWxldGU9aXNWYXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc1ZhclJlbmFtZT1pc1ZhclJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcy5pc1ZpZXdwb3J0Q2hhbmdlPWlzVmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlczt2YXIgZ3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9XCJcIixyZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPSEwLGRpc2FibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPTAsT1JQSEFORURfQkxPQ0tfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPVwiT1JQSEFORURfQkxPQ0tcIixGSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzPVtdLFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscz17RklSRV9RVUVVRTpGSVJFX1FVRVVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGVucXVldWVFdmVudDplbnF1ZXVlRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsZmlyZU5vdzpmaXJlTm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLGZpcmVJbnRlcm5hbDpmaXJlSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMsXG5zZXRHcm91cEludGVybmFsOnNldEdyb3VwSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHN9LG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM9e1RFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHN9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuY2xlYXJQZW5kaW5nVW5kbz1jbGVhclBlbmRpbmdVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuZGlzYWJsZT0kLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5kaXNhYmxlT3JwaGFucz1kaXNhYmxlT3JwaGFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuZW5hYmxlPSQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuZmlsdGVyPWZpbHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmZpcmU9ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmZyb21Kc29uPWZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuZ2V0PWdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmdldERlc2NlbmRhbnRJZHM9Z2V0RGVzY2VuZGFudElkcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuZ2V0R3JvdXA9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmdldFJlY29yZFVuZG89Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzLmlzRW5hYmxlZD1pc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscy5zZXRHcm91cD0kLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMuc2V0UmVjb3JkVW5kbz0kLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7dmFyIFNWR19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsSFRNTF9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixOb2RlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTsoZnVuY3Rpb24oYSl7YVthLkVMRU1FTlRfTk9ERT0xXT1cIkVMRU1FTlRfTk9ERVwiO2FbYS5URVhUX05PREU9M109XCJURVhUX05PREVcIjthW2EuQ09NTUVOVF9OT0RFPThdPVwiQ09NTUVOVF9OT0RFXCJ9KShOb2RlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbXx8KE5vZGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPXt9KSk7XG52YXIgY2FjaGVXaWR0aHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209bnVsbCxjYWNoZVJlZmVyZW5jZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbT0wLGNhbnZhc0NvbnRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb209bnVsbCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tPXtIVE1MX05TOkhUTUxfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb219O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uTm9kZVR5cGU9Tm9kZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5TVkdfTlM9U1ZHX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uWExJTktfTlM9WExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmFkZENsYXNzPWFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uY3JlYXRlU3ZnRWxlbWVudD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uZ2V0RmFzdFRleHRXaWR0aD1nZXRGYXN0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uZ2V0RmFzdFRleHRXaWR0aFdpdGhTaXplU3RyaW5nPWdldEZhc3RUZXh0V2lkdGhXaXRoU2l6ZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmdldFRleHRXaWR0aD1nZXRUZXh0V2lkdGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLmhhc0NsYXNzPWhhc0NsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20uaW5zZXJ0QWZ0ZXI9aW5zZXJ0QWZ0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5tZWFzdXJlRm9udE1ldHJpY3M9bWVhc3VyZUZvbnRNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20ucmVtb3ZlQ2xhc3M9cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5yZW1vdmVDbGFzc2VzPXJlbW92ZUNsYXNzZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5yZW1vdmVOb2RlPXJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLnNldENzc1RyYW5zZm9ybT1zZXRDc3NUcmFuc2Zvcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5zdGFydFRleHRXaWR0aENhY2hlPXN0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb207bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbS5zdG9wVGV4dFdpZHRoQ2FjaGU9c3RvcFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tO3ZhciBGb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyPWNsYXNze3N0YXRpYyBmaW5kRm9jdXNlZE5vZGUoYSl7dmFyIGI9YS5nZXRSb290Rm9jdXNhYmxlTm9kZSgpO2lmKCFiLmNhbkJlRm9jdXNlZCgpKXJldHVybiBudWxsO3ZhciBjPWIuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpO2lmKGhhc0NsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGMsRm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5BQ1RJVkVfQ0xBU1NfTkFNRSl8fGhhc0NsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGMsRm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5QQVNTSVZFX0NTU19DTEFTU19OQU1FKSlyZXR1cm4gYjtcbmI9Yy5xdWVyeVNlbGVjdG9yKHRoaXMuQUNUSVZFX0ZPQ1VTX05PREVfQ1NTX1NFTEVDVE9SKTtpZihiIGluc3RhbmNlb2YgSFRNTEVsZW1lbnR8fGIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KWlmKGI9Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5maW5kRm9jdXNhYmxlTm9kZUZvcihiLGEpKXJldHVybiBiO2M9Yy5xdWVyeVNlbGVjdG9yKHRoaXMuUEFTU0lWRV9GT0NVU19OT0RFX0NTU19TRUxFQ1RPUik7aWYoYyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50fHxjIGluc3RhbmNlb2YgU1ZHRWxlbWVudClpZihhPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzYWJsZU5vZGVGb3IoYyxhKSlyZXR1cm4gYTtyZXR1cm4gbnVsbH1zdGF0aWMgZmluZEZvY3VzYWJsZU5vZGVGb3IoYSxiKXtpZighYS5pZHx8XG5hLmlkPT09XCJudWxsXCJ8fGIuZ2V0TmVzdGVkVHJlZXMoKS5tYXAoZT0+Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5maW5kRm9jdXNhYmxlTm9kZUZvcihhLGUpKS5maW5kSW5kZXgoZT0+ISFlKSE9PS0xKXJldHVybiBudWxsO3ZhciBjPWIuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKTtpZihjLmNhbkJlRm9jdXNlZCgpJiZhPT09Yy5nZXRGb2N1c2FibGVFbGVtZW50KCkpcmV0dXJuIGM7dmFyIGQ7aWYoYz0oZD1iLmxvb2tVcEZvY3VzYWJsZU5vZGUoYS5pZCkpIT1udWxsP2Q6bnVsbClyZXR1cm4gYztkPWEucGFyZW50RWxlbWVudDtyZXR1cm4hYyYmZD9Gb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLmZpbmRGb2N1c2FibGVOb2RlRm9yKGQsYik6bnVsbH19O1xuRm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5BQ1RJVkVfQ0xBU1NfTkFNRT1cImJsb2NrbHlBY3RpdmVGb2N1c1wiO0ZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuUEFTU0lWRV9DU1NfQ0xBU1NfTkFNRT1cImJsb2NrbHlQYXNzaXZlRm9jdXNcIjtGb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLkFDVElWRV9GT0NVU19OT0RFX0NTU19TRUxFQ1RPUj1gLiR7Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5BQ1RJVkVfQ0xBU1NfTkFNRX1gO1xuRm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5QQVNTSVZFX0ZPQ1VTX05PREVfQ1NTX1NFTEVDVE9SPWAuJHtGb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLlBBU1NJVkVfQ1NTX0NMQVNTX05BTUV9YDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLkZvY3VzYWJsZVRyZWVUcmF2ZXJzZXI9Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlcjt2YXIgVHJlZVJlZ2lzdHJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLnRyZWU9YTt0aGlzLnJvb3RTaG91bGRCZUF1dG9UYWJiYWJsZT1ifX0sRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLnByZXZpb3VzbHlGb2N1c2VkTm9kZT10aGlzLmZvY3VzZWROb2RlPW51bGw7dGhpcy5yZWdpc3RlcmVkVHJlZXM9W107dGhpcy5pc1VwZGF0aW5nRm9jdXNlZE5vZGU9dGhpcy5yZWNlbnRseUxvc3RBbGxGb2N1cz10aGlzLmxvY2tGb2N1c1N0YXRlQ2hhbmdlcz10aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXM9ITE7Y29uc3QgYj1jPT57aWYoIXRoaXMuaXNVcGRhdGluZ0ZvY3VzZWROb2RlKXt0aGlzLnJlY2VudGx5TG9zdEFsbEZvY3VzPSFjO3ZhciBkPW51bGw7aWYoYyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50fHxcbmMgaW5zdGFuY2VvZiBTVkdFbGVtZW50KWZvcih2YXIgZSBvZiB0aGlzLnJlZ2lzdGVyZWRUcmVlcylpZihkPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzYWJsZU5vZGVGb3IoYyxlLnRyZWUpKWJyZWFrO2lmKGQmJmQuY2FuQmVGb2N1c2VkKCkpe2M9ZC5nZXRGb2N1c2FibGVUcmVlKCk7bGV0IGY7ZT0oZj10aGlzLmZvY3VzZWROb2RlKT09bnVsbD92b2lkIDA6Zi5nZXRGb2N1c2FibGVUcmVlKCk7ZD09PWMuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKSYmYyE9PWU/dGhpcy5mb2N1c1RyZWUoYyk6dGhpcy5mb2N1c05vZGUoZCl9ZWxzZSB0aGlzLmRlZm9jdXNDdXJyZW50Rm9jdXNlZE5vZGUoKX19O2EoXCJmb2N1c2luXCIsYz0+e2MgaW5zdGFuY2VvZiBGb2N1c0V2ZW50JiZiKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpfSk7YShcImZvY3Vzb3V0XCIsYz0+e2MgaW5zdGFuY2VvZiBGb2N1c0V2ZW50JiZcbmIoYy5yZWxhdGVkVGFyZ2V0KX0pfXJlZ2lzdGVyVHJlZShhLGI9ITEpe3RoaXMuZW5zdXJlTWFuYWdlcklzVW5sb2NrZWQoKTtpZih0aGlzLmlzUmVnaXN0ZXJlZChhKSl0aHJvdyBFcnJvcihgQXR0ZW1wdGVkIHRvIHJlLXJlZ2lzdGVyIGFscmVhZHkgcmVnaXN0ZXJlZCB0cmVlOiAke2F9LmApO3RoaXMucmVnaXN0ZXJlZFRyZWVzLnB1c2gobmV3IFRyZWVSZWdpc3RyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKGEsYikpO2NvbnN0IGM9YS5nZXRSb290Rm9jdXNhYmxlTm9kZSgpLmdldEZvY3VzYWJsZUVsZW1lbnQoKTtpZighYy5pZHx8Yy5pZD09PVwibnVsbFwiKXRocm93IEVycm9yKFwiQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHRyZWUgd2l0aCBhIHJvb3QgZWxlbWVudCB0aGF0IGhhcyBhbiBcIitgaW52YWxpZCBJRDogJHthfS5gKTtiJiYoYy50YWJJbmRleD0wKX1pc1JlZ2lzdGVyZWQoYSl7cmV0dXJuISF0aGlzLmxvb2tVcFJlZ2lzdHJhdGlvbihhKX1sb29rVXBSZWdpc3RyYXRpb24oYSl7bGV0IGI7XG5yZXR1cm4oYj10aGlzLnJlZ2lzdGVyZWRUcmVlcy5maW5kKGM9PmMudHJlZT09PWEpKSE9bnVsbD9iOm51bGx9dW5yZWdpc3RlclRyZWUoYSl7dGhpcy5lbnN1cmVNYW5hZ2VySXNVbmxvY2tlZCgpO2lmKCF0aGlzLmlzUmVnaXN0ZXJlZChhKSl0aHJvdyBFcnJvcihgQXR0ZW1wdGVkIHRvIHVucmVnaXN0ZXIgbm90IHJlZ2lzdGVyZWQgdHJlZTogJHthfS5gKTt2YXIgYj10aGlzLnJlZ2lzdGVyZWRUcmVlcy5maW5kSW5kZXgoZT0+ZS50cmVlPT09YSk7Y29uc3QgYz10aGlzLnJlZ2lzdGVyZWRUcmVlc1tiXTt0aGlzLnJlZ2lzdGVyZWRUcmVlcy5zcGxpY2UoYiwxKTtiPUZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRmb2N1c2FibGVfdHJlZV90cmF2ZXJzZXIuZmluZEZvY3VzZWROb2RlKGEpO2NvbnN0IGQ9YS5nZXRSb290Rm9jdXNhYmxlTm9kZSgpO2ImJnRoaXMucmVtb3ZlSGlnaGxpZ2h0KGIpO3RoaXMuZm9jdXNlZE5vZGUhPT1iJiZcbnRoaXMuZm9jdXNlZE5vZGUhPT1kfHx0aGlzLnVwZGF0ZUZvY3VzZWROb2RlKG51bGwpO3RoaXMucmVtb3ZlSGlnaGxpZ2h0KGQpO2Mucm9vdFNob3VsZEJlQXV0b1RhYmJhYmxlJiZhLmdldFJvb3RGb2N1c2FibGVOb2RlKCkuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpfWdldEZvY3VzZWRUcmVlKCl7bGV0IGEsYjtyZXR1cm4oYj0oYT10aGlzLmZvY3VzZWROb2RlKT09bnVsbD92b2lkIDA6YS5nZXRGb2N1c2FibGVUcmVlKCkpIT1udWxsP2I6bnVsbH1nZXRGb2N1c2VkTm9kZSgpe3JldHVybiB0aGlzLmZvY3VzZWROb2RlfWZvY3VzVHJlZShhKXt0aGlzLmVuc3VyZU1hbmFnZXJJc1VubG9ja2VkKCk7aWYoIXRoaXMuaXNSZWdpc3RlcmVkKGEpKXRocm93IEVycm9yKGBBdHRlbXB0ZWQgdG8gZm9jdXMgdW5yZWdpc3RlcmVkIHRyZWU6ICR7YX0uYCk7Y29uc3QgYj1Gb2N1c2FibGVUcmVlVHJhdmVyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZm9jdXNhYmxlX3RyZWVfdHJhdmVyc2VyLmZpbmRGb2N1c2VkTm9kZShhKSxcbmM9YS5nZXRSZXN0b3JlZEZvY3VzYWJsZU5vZGUoYik7YT1hLmdldFJvb3RGb2N1c2FibGVOb2RlKCk7bGV0IGQ7dGhpcy5mb2N1c05vZGUoKGQ9YyE9bnVsbD9jOmIpIT1udWxsP2Q6YSl9Zm9jdXNOb2RlKGEpe3RoaXMuZW5zdXJlTWFuYWdlcklzVW5sb2NrZWQoKTtjb25zdCBiPSF0aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXM7YiYmKHRoaXMuaXNVcGRhdGluZ0ZvY3VzZWROb2RlPSEwKTt2YXIgYyxkPSgoYz10aGlzLmZvY3VzZWROb2RlKT09bnVsbD92b2lkIDA6Yy5nZXRGb2N1c2FibGVFbGVtZW50KCkpIT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtpZih0aGlzLmZvY3VzZWROb2RlIT09YXx8ZClpZihhLmNhbkJlRm9jdXNlZCgpKXtjPWEuZ2V0Rm9jdXNhYmxlVHJlZSgpO2lmKCF0aGlzLmlzUmVnaXN0ZXJlZChjKSl0aHJvdyBFcnJvcihgQXR0ZW1wdGVkIHRvIGZvY3VzIHVucmVnaXN0ZXJlZCBub2RlOiAke2F9LmApO2Q9YS5nZXRGb2N1c2FibGVFbGVtZW50KCk7XG5kLmlkJiZkLmlkIT09XCJudWxsXCJ8fGNvbnNvbGUud2FybihcIlRyeWluZyB0byBmb2N1cyBhIG5vZGUgdGhhdCBoYXMgYW4gaW52YWxpZCBJRC5cIik7dmFyIGU9Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5maW5kRm9jdXNhYmxlTm9kZUZvcihkLGMpO2Q9Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlci5maW5kRm9jdXNlZE5vZGUoYyk7dmFyIGY9YTtpZihlIT09YSl7Zj1jLmdldFJlc3RvcmVkRm9jdXNhYmxlTm9kZShkKTthPWMuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKTt2YXIgZztmPShnPWYhPW51bGw/ZjpkKSE9bnVsbD9nOmF9YT10aGlzLmZvY3VzZWROb2RlO2c9YT09bnVsbD92b2lkIDA6YS5nZXRGb2N1c2FibGVUcmVlKCk7YSYmdGhpcy5wYXNzaXZlbHlGb2N1c05vZGUoYSxjKTtjPWMuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKTtcbmQmJnRoaXMucmVtb3ZlSGlnaGxpZ2h0KGQpO2MhPT1mJiZ0aGlzLnJlbW92ZUhpZ2hsaWdodChjKTt0aGlzLmN1cnJlbnRseUhvbGRzRXBoZW1lcmFsRm9jdXN8fHRoaXMuYWN0aXZlbHlGb2N1c05vZGUoZixnIT1udWxsP2c6bnVsbCk7dGhpcy51cGRhdGVGb2N1c2VkTm9kZShmKX1lbHNlIGNvbnNvbGUud2FybihcIlRyeWluZyB0byBmb2N1cyBhIG5vZGUgdGhhdCBjYW4ndCBiZSBmb2N1c2VkLlwiKTtiJiYodGhpcy5pc1VwZGF0aW5nRm9jdXNlZE5vZGU9ITEpfXRha2VFcGhlbWVyYWxGb2N1cyhhKXt0aGlzLmVuc3VyZU1hbmFnZXJJc1VubG9ja2VkKCk7aWYodGhpcy5jdXJyZW50bHlIb2xkc0VwaGVtZXJhbEZvY3VzKXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHRha2UgZXBoZW1lcmFsIGZvY3VzIHdoZW4gaXQncyBhbHJlYWR5IGhlbGQsIFwiK2B3aXRoIG5ldyBlbGVtZW50OiAke2F9LmApO3RoaXMuY3VycmVudGx5SG9sZHNFcGhlbWVyYWxGb2N1cz0hMDt0aGlzLmZvY3VzZWROb2RlJiZcbnRoaXMucGFzc2l2ZWx5Rm9jdXNOb2RlKHRoaXMuZm9jdXNlZE5vZGUsbnVsbCk7YS5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pO2xldCBiPSExO3JldHVybigpPT57aWYoYil0aHJvdyBFcnJvcihcIkF0dGVtcHRlZCB0byBmaW5pc2ggZXBoZW1lcmFsIGZvY3VzIHR3aWNlIGZvciBlbGVtZW50OiBcIitgJHthfS5gKTtiPSEwO3RoaXMuY3VycmVudGx5SG9sZHNFcGhlbWVyYWxGb2N1cz0hMTtpZih0aGlzLmZvY3VzZWROb2RlKXt0aGlzLmFjdGl2ZWx5Rm9jdXNOb2RlKHRoaXMuZm9jdXNlZE5vZGUsbnVsbCk7Y29uc3QgYz10aGlzLmZvY3VzZWROb2RlO3NldFRpbWVvdXQoKCk9PnshdGhpcy5mb2N1c2VkTm9kZSYmdGhpcy5wcmV2aW91c2x5Rm9jdXNlZE5vZGU9PT1jJiZ0aGlzLnJlY2VudGx5TG9zdEFsbEZvY3VzJiZ0aGlzLmZvY3VzTm9kZShjKX0sMCl9fX1lcGhlbWVyYWxGb2N1c1Rha2VuKCl7cmV0dXJuIHRoaXMuY3VycmVudGx5SG9sZHNFcGhlbWVyYWxGb2N1c31lbnN1cmVNYW5hZ2VySXNVbmxvY2tlZCgpe2lmKHRoaXMubG9ja0ZvY3VzU3RhdGVDaGFuZ2VzKXRocm93IEVycm9yKFwiRm9jdXNNYW5hZ2VyIHN0YXRlIGNoYW5nZXMgY2Fubm90IGhhcHBlbiBpbiBhIHRyZWUvbm9kZSBmb2N1cy9ibHVyIGNhbGxiYWNrLlwiKTtcbn11cGRhdGVGb2N1c2VkTm9kZShhKXt0aGlzLnByZXZpb3VzbHlGb2N1c2VkTm9kZT10aGlzLmZvY3VzZWROb2RlO3RoaXMuZm9jdXNlZE5vZGU9YX1kZWZvY3VzQ3VycmVudEZvY3VzZWROb2RlKCl7dGhpcy5mb2N1c2VkTm9kZSYmIXRoaXMuY3VycmVudGx5SG9sZHNFcGhlbWVyYWxGb2N1cyYmKHRoaXMucGFzc2l2ZWx5Rm9jdXNOb2RlKHRoaXMuZm9jdXNlZE5vZGUsbnVsbCksdGhpcy51cGRhdGVGb2N1c2VkTm9kZShudWxsKSl9YWN0aXZlbHlGb2N1c05vZGUoYSxiKXt0aGlzLmxvY2tGb2N1c1N0YXRlQ2hhbmdlcz0hMDtjb25zdCBjPWEuZ2V0Rm9jdXNhYmxlVHJlZSgpLGQ9YS5nZXRGb2N1c2FibGVFbGVtZW50KCk7bGV0IGU7Y29uc3QgZj0oZT10aGlzLmxvb2tVcFJlZ2lzdHJhdGlvbihjKSk9PW51bGw/dm9pZCAwOmUucm9vdFNob3VsZEJlQXV0b1RhYmJhYmxlO2MhPT1iJiYoYy5vblRyZWVGb2N1cyhhLGIpLGYmJihjLmdldFJvb3RGb2N1c2FibGVOb2RlKCkuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLnRhYkluZGV4PVxuLTEpKTthLm9uTm9kZUZvY3VzKCk7dGhpcy5sb2NrRm9jdXNTdGF0ZUNoYW5nZXM9ITE7ZiYmYT09PWMuZ2V0Um9vdEZvY3VzYWJsZU5vZGUoKXx8ZC5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8KGQudGFiSW5kZXg9LTEpO3RoaXMuc2V0Tm9kZVRvVmlzdWFsQWN0aXZlRm9jdXMoYSk7ZC5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pfXBhc3NpdmVseUZvY3VzTm9kZShhLGIpe3RoaXMubG9ja0ZvY3VzU3RhdGVDaGFuZ2VzPSEwO2NvbnN0IGM9YS5nZXRGb2N1c2FibGVUcmVlKCk7aWYoYyE9PWIpe2Mub25UcmVlQmx1cihiKTtsZXQgZDtpZigoZD10aGlzLmxvb2tVcFJlZ2lzdHJhdGlvbihjKSk9PW51bGw/MDpkLnJvb3RTaG91bGRCZUF1dG9UYWJiYWJsZSljLmdldFJvb3RGb2N1c2FibGVOb2RlKCkuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLnRhYkluZGV4PTB9YS5vbk5vZGVCbHVyKCk7dGhpcy5sb2NrRm9jdXNTdGF0ZUNoYW5nZXM9ITE7YyE9PWImJnRoaXMuc2V0Tm9kZVRvVmlzdWFsUGFzc2l2ZUZvY3VzKGEpfXNldE5vZGVUb1Zpc3VhbEFjdGl2ZUZvY3VzKGEpe2E9XG5hLmdldEZvY3VzYWJsZUVsZW1lbnQoKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuQUNUSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpO3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5QQVNTSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpfXNldE5vZGVUb1Zpc3VhbFBhc3NpdmVGb2N1cyhhKXthPWEuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpO3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5BQ1RJVkVfRk9DVVNfTk9ERV9DU1NfQ0xBU1NfTkFNRSk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcbkZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuUEFTU0lWRV9GT0NVU19OT0RFX0NTU19DTEFTU19OQU1FKX1yZW1vdmVIaWdobGlnaHQoYSl7YT1hLmdldEZvY3VzYWJsZUVsZW1lbnQoKTtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuQUNUSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpO3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5QQVNTSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpfXN0YXRpYyBnZXRGb2N1c01hbmFnZXIoKXtGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLmZvY3VzTWFuYWdlcnx8KEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuZm9jdXNNYW5hZ2VyPVxubmV3IEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikpO3JldHVybiBGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLmZvY3VzTWFuYWdlcn19O0ZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuQUNUSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUU9XCJibG9ja2x5QWN0aXZlRm9jdXNcIjtGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLlBBU1NJVkVfRk9DVVNfTk9ERV9DU1NfQ0xBU1NfTkFNRT1cImJsb2NrbHlQYXNzaXZlRm9jdXNcIjtGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLmZvY3VzTWFuYWdlcj1udWxsO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcj17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLkZvY3VzTWFuYWdlcj1Gb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyLmdldEZvY3VzTWFuYWdlcj0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX25vZGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZS5pc0ZvY3VzYWJsZU5vZGU9aXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlLmlzU2VsZWN0YWJsZT1pc1NlbGVjdGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0LmRlZXBNZXJnZT1kZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3Q7dmFyIFNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeT1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc2hvcnRjdXRzPW5ldyBNYXA7dGhpcy5rZXlNYXA9bmV3IE1hcDt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLnNob3J0Y3V0cy5jbGVhcigpO3RoaXMua2V5TWFwLmNsZWFyKCl9cmVnaXN0ZXIoYSxiKXtpZih0aGlzLnNob3J0Y3V0cy5nZXQoYS5uYW1lKSYmIWIpdGhyb3cgRXJyb3IoYFNob3J0Y3V0IG5hbWVkIFwiJHthLm5hbWV9XCIgYWxyZWFkeSBleGlzdHMuYCk7dGhpcy5zaG9ydGN1dHMuc2V0KGEubmFtZSxhKTtiPWEua2V5Q29kZXM7aWYoYj09bnVsbD8wOmIubGVuZ3RoKWZvcihjb25zdCBjIG9mIGIpdGhpcy5hZGRLZXlNYXBwaW5nKGMsYS5uYW1lLCEhYS5hbGxvd0NvbGxpc2lvbil9dW5yZWdpc3RlcihhKXtpZighdGhpcy5zaG9ydGN1dHMuZ2V0KGEpKXJldHVybiBjb25zb2xlLndhcm4oYEtleWJvYXJkIHNob3J0Y3V0IG5hbWVkIFwiJHthfVwiIG5vdCBmb3VuZC5gKSxcbiExO3RoaXMucmVtb3ZlQWxsS2V5TWFwcGluZ3MoYSk7dGhpcy5zaG9ydGN1dHMuZGVsZXRlKGEpO3JldHVybiEwfWFkZEtleU1hcHBpbmcoYSxiLGMpe2E9YCR7YX1gO2NvbnN0IGQ9dGhpcy5rZXlNYXAuZ2V0KGEpO2lmKGQmJiFjKXRocm93IEVycm9yKGBTaG9ydGN1dCBuYW1lZCBcIiR7Yn1cIiBjb2xsaWRlcyB3aXRoIHNob3J0Y3V0cyBcIiR7ZH1cImApO2QmJmM/ZC51bnNoaWZ0KGIpOnRoaXMua2V5TWFwLnNldChhLFtiXSl9cmVtb3ZlS2V5TWFwcGluZyhhLGIsYyl7Y29uc3QgZD10aGlzLmtleU1hcC5nZXQoYSk7aWYoIWQpcmV0dXJuIGN8fGNvbnNvbGUud2FybihgTm8ga2V5Ym9hcmQgc2hvcnRjdXQgbmFtZWQgXCIke2J9XCIgcmVnaXN0ZXJlZCB3aXRoIGtleSBjb2RlIFwiJHthfVwiYCksITE7Y29uc3QgZT1kLmluZGV4T2YoYik7aWYoZT4tMSlyZXR1cm4gZC5zcGxpY2UoZSwxKSxkLmxlbmd0aD09PTAmJnRoaXMua2V5TWFwLmRlbGV0ZShhKSwhMDtjfHxjb25zb2xlLndhcm4oYE5vIGtleWJvYXJkIHNob3J0Y3V0IG5hbWVkIFwiJHtifVwiIHJlZ2lzdGVyZWQgd2l0aCBrZXkgY29kZSBcIiR7YX1cImApO1xucmV0dXJuITF9cmVtb3ZlQWxsS2V5TWFwcGluZ3MoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy5rZXlNYXAua2V5cygpKXRoaXMucmVtb3ZlS2V5TWFwcGluZyhiLGEsITApfXNldEtleU1hcChhKXt0aGlzLmtleU1hcC5jbGVhcigpO2Zvcihjb25zdCBiIGluIGEpdGhpcy5rZXlNYXAuc2V0KGIsYVtiXSl9Z2V0S2V5TWFwKCl7Y29uc3QgYT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBbYixjXW9mIHRoaXMua2V5TWFwKWFbYl09YztyZXR1cm4gYX1nZXRSZWdpc3RyeSgpe2NvbnN0IGE9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgW2IsY11vZiB0aGlzLnNob3J0Y3V0cylhW2JdPWM7cmV0dXJuIGRlZXBNZXJnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpLGEpfW9uS2V5RG93bihhLGIpe3ZhciBjPXRoaXMuc2VyaWFsaXplS2V5RXZlbnQoYik7Yz10aGlzLmdldFNob3J0Y3V0TmFtZXNCeUtleUNvZGUoYyk7aWYoIWMpcmV0dXJuITE7XG5mb3IoY29uc3QgZCBvZiBjKXtjPXRoaXMuc2hvcnRjdXRzLmdldChkKTtsZXQgZTtpZighY3x8Yy5wcmVjb25kaXRpb25GbiYmIWMucHJlY29uZGl0aW9uRm4oYSx7Zm9jdXNlZE5vZGU6KGU9JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZ2V0Rm9jdXNlZE5vZGUoKSkhPW51bGw/ZTp2b2lkIDB9KSljb250aW51ZTtsZXQgZixnLGg7aWYoKGc9KGY9YykuY2FsbGJhY2spPT1udWxsPzA6Zy5jYWxsKGYsYSxiLGMse2ZvY3VzZWROb2RlOihoPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCkpIT1udWxsP2g6dm9pZCAwfSkpcmV0dXJuITB9cmV0dXJuITF9Z2V0U2hvcnRjdXROYW1lc0J5S2V5Q29kZShhKXtsZXQgYjtyZXR1cm4oKGI9dGhpcy5rZXlNYXAuZ2V0KGEpKT09bnVsbD92b2lkIDA6Yi5zbGljZSgpKXx8W119Z2V0S2V5Q29kZXNCeVNob3J0Y3V0TmFtZShhKXtjb25zdCBiPVxuW107Zm9yKGNvbnN0IFtjLGRdb2YgdGhpcy5rZXlNYXApZC5pbmRleE9mKGEpPi0xJiZiLnB1c2goYyk7cmV0dXJuIGJ9c2VyaWFsaXplS2V5RXZlbnQoYSl7bGV0IGI9XCJcIjtmb3IoY29uc3QgYyBpbiBTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkubW9kaWZpZXJLZXlzKWEuZ2V0TW9kaWZpZXJTdGF0ZShjKSYmKGIhPT1cIlwiJiYoYis9XCIrXCIpLGIrPWMpO2IhPT1cIlwiJiZhLmtleUNvZGU/Yis9XCIrXCIrYS5rZXlDb2RlOmEua2V5Q29kZSYmKGI9U3RyaW5nKGEua2V5Q29kZSkpO3JldHVybiBifWNoZWNrTW9kaWZpZXJzKGEpe2Zvcihjb25zdCBiIG9mIGEpaWYoIShiIGluIFNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5tb2RpZmllcktleXMpKXRocm93IEVycm9yKGIrXCIgaXMgbm90IGEgdmFsaWQgbW9kaWZpZXIga2V5LlwiKTt9Y3JlYXRlU2VyaWFsaXplZEtleShhLGIpe2xldCBjPVxuXCJcIjtpZihiKXt0aGlzLmNoZWNrTW9kaWZpZXJzKGIpO2Zvcihjb25zdCBkIGluIFNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5tb2RpZmllcktleXMpYi5pbmNsdWRlcyhTaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkubW9kaWZpZXJLZXlzW2RdKSYmKGMhPT1cIlwiJiYoYys9XCIrXCIpLGMrPWQpfWMhPT1cIlwiJiZhP2MrPVwiK1wiK2E6YSYmKGM9YCR7YX1gKTtyZXR1cm4gY319O1Nob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeS5yZWdpc3RyeT1uZXcgU2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5O1xuKGZ1bmN0aW9uKGEpe2E9YS5tb2RpZmllcktleXN8fChhLm1vZGlmaWVyS2V5cz17fSk7YVthLlNoaWZ0PTE2XT1cIlNoaWZ0XCI7YVthLkNvbnRyb2w9MTddPVwiQ29udHJvbFwiO2FbYS5BbHQ9MThdPVwiQWx0XCI7YVthLk1ldGE9OTFdPVwiTWV0YVwifSkoU2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5fHwoU2hvcnRjdXRSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X3JlZ2lzdHJ5PXt9KSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnkuU2hvcnRjdXRSZWdpc3RyeT1TaG9ydGN1dFJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfcmVnaXN0cnk7dmFyIFdvcmtzcGFjZURCXyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbj1PYmplY3QuY3JlYXRlKG51bGwpLG1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24scGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGRyYWdnaW5nQ29ubmVjdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb249W10sVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPXtkZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5SW50ZXJuYWw6ZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9ufSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uPXtURVNUX09OTFk6VEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9ufTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5PSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmRlZmluZUJsb2Nrcz0kLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXk9ZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmRyYWdnaW5nQ29ubmVjdGlvbnM9ZHJhZ2dpbmdDb25uZWN0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmZpcmVTZWxlY3RlZEV2ZW50PWZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZ2V0QWxsV29ya3NwYWNlcz1nZXRBbGxXb3Jrc3BhY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5nZXRCbG9ja1R5cGVDb3VudHM9Z2V0QmxvY2tUeXBlQ291bnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZ2V0TWFpbldvcmtzcGFjZT1nZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZ2V0UGFyZW50Q29udGFpbmVyPWdldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmdldFNlbGVjdGVkPWdldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uZ2V0V29ya3NwYWNlQnlJZD1nZXRXb3Jrc3BhY2VCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5nbG9iYWxTaG9ydGN1dEhhbmRsZXI9Z2xvYmFsU2hvcnRjdXRIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24ucmVnaXN0ZXJXb3Jrc3BhY2U9cmVnaXN0ZXJXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5zZXRNYWluV29ya3NwYWNlPXNldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5zZXRQYXJlbnRDb250YWluZXI9c2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24uc2V0U2VsZWN0ZWQ9c2V0U2VsZWN0ZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLnN2Z1Jlc2l6ZT1zdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi51bnJlZ2lzdGVyV29ya3BhY2U9dW5yZWdpc3RlcldvcmtwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO3ZhciBBYnN0cmFjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYWJzdHJhY3Q9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLndvcmtzcGFjZUlkPXZvaWQgMDt0aGlzLmlzVWlFdmVudD0hMTt0aGlzLnR5cGU9XCJcIjt0aGlzLmdyb3VwPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0aGlzLnJlY29yZFVuZG89Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfXRvSnNvbigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxncm91cDp0aGlzLmdyb3VwfX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2MuaXNCbGFuaz0hMTtjLmdyb3VwPWEuZ3JvdXB8fFwiXCI7Yy53b3Jrc3BhY2VJZD1iLmlkO3JldHVybiBjfWlzTnVsbCgpe3JldHVybiExfXJ1bihhKXt9Z2V0RXZlbnRXb3Jrc3BhY2VfKCl7bGV0IGE7dGhpcy53b3Jrc3BhY2VJZCYmKGE9Z2V0V29ya3NwYWNlQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzLndvcmtzcGFjZUlkKSk7XG5pZighYSl0aHJvdyBFcnJvcihcIldvcmtzcGFjZSBpcyBudWxsLiBFdmVudCBtdXN0IGhhdmUgYmVlbiBnZW5lcmF0ZWQgZnJvbSByZWFsIEJsb2NrbHkgZXZlbnRzLlwiKTtyZXR1cm4gYX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0LkFic3RyYWN0PUFic3RyYWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19hYnN0cmFjdDt2YXIgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNlPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0e2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5yZWNvcmRVbmRvPSExO3RoaXMuaXNVaUV2ZW50PSEwO3RoaXMuaXNCbGFuaz10eXBlb2YgYT09PVwidW5kZWZpbmVkXCI7dGhpcy53b3Jrc3BhY2VJZD1hP2E6XCJcIn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZS5VaUJhc2U9VWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNlO3ZhciBDbGljayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2s9Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMpe2I9YT9hLndvcmtzcGFjZS5pZDpiO2I9PT1udWxsJiYoYj12b2lkIDApO3N1cGVyKGIpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DTElDSzt0aGlzLmJsb2NrSWQ9YT9hLmlkOnZvaWQgMDt0aGlzLnRhcmdldFR5cGU9Y310b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLnRhcmdldFR5cGUpdGhyb3cgRXJyb3IoXCJUaGUgY2xpY2sgdGFyZ2V0IHR5cGUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnRhcmdldFR5cGU9dGhpcy50YXJnZXRUeXBlO2EuYmxvY2tJZD10aGlzLmJsb2NrSWQ7XG5yZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQ2xpY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrKTtiLnRhcmdldFR5cGU9YS50YXJnZXRUeXBlO2IuYmxvY2tJZD1hLmJsb2NrSWQ7cmV0dXJuIGJ9fSxDbGlja1RhcmdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2s7KGZ1bmN0aW9uKGEpe2EuQkxPQ0s9XCJibG9ja1wiO2EuV09SS1NQQUNFPVwid29ya3NwYWNlXCI7YS5aT09NX0NPTlRST0xTPVwiem9vbV9jb250cm9sc1wifSkoQ2xpY2tUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrfHwoQ2xpY2tUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrPXt9KSk7XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DTElDSyxDbGljayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2spO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGljaz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGljay5DbGljaz1DbGljayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2s7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2suQ2xpY2tUYXJnZXQ9Q2xpY2tUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NsaWNrO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5LnJlbW92ZUVsZW09cmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5O3ZhciBDYXBhYmlsaXR5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5uYW1lPWF9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfX07Q2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLlBPU0lUSU9OQUJMRT1uZXcgQ2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyKFwicG9zaXRpb25hYmxlXCIpO0NhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5EUkFHX1RBUkdFVD1uZXcgQ2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyKFwiZHJhZ190YXJnZXRcIik7Q2FwYWJpbGl0eSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkRFTEVURV9BUkVBPW5ldyBDYXBhYmlsaXR5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIoXCJkZWxldGVfYXJlYVwiKTtcbkNhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5BVVRPSElERUFCTEU9bmV3IENhcGFiaWxpdHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcihcImF1dG9oaWRlYWJsZVwiKTtcbnZhciBDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmNvbXBvbmVudERhdGE9bmV3IE1hcDt0aGlzLmNhcGFiaWxpdHlUb0NvbXBvbmVudElkcz1uZXcgTWFwfWFkZENvbXBvbmVudChhLGIpe2NvbnN0IGM9YS5jb21wb25lbnQuaWQ7aWYoIWImJnRoaXMuY29tcG9uZW50RGF0YS5oYXMoYykpe3ZhciBkO3Rocm93IEVycm9yKCdQbHVnaW4gXCInK2MrJ1wiIHdpdGggY2FwYWJpbGl0aWVzIFwiJysoKGQ9dGhpcy5jb21wb25lbnREYXRhLmdldChjKSk9PW51bGw/dm9pZCAwOmQuY2FwYWJpbGl0aWVzKSsnXCIgYWxyZWFkeSBhZGRlZC4nKTt9dGhpcy5jb21wb25lbnREYXRhLnNldChjLGEpO2I9W107Zm9yKGQ9MDtkPGEuY2FwYWJpbGl0aWVzLmxlbmd0aDtkKyspe2NvbnN0IGU9U3RyaW5nKGEuY2FwYWJpbGl0aWVzW2RdKS50b0xvd2VyQ2FzZSgpO2IucHVzaChlKTtpZih0aGlzLmNhcGFiaWxpdHlUb0NvbXBvbmVudElkcy5oYXMoZSkpe2xldCBmO1xuKGY9dGhpcy5jYXBhYmlsaXR5VG9Db21wb25lbnRJZHMuZ2V0KGUpKT09bnVsbHx8Zi5wdXNoKGMpfWVsc2UgdGhpcy5jYXBhYmlsaXR5VG9Db21wb25lbnRJZHMuc2V0KGUsW2NdKX10aGlzLmNvbXBvbmVudERhdGEuZ2V0KGMpLmNhcGFiaWxpdGllcz1ifXJlbW92ZUNvbXBvbmVudChhKXtjb25zdCBiPXRoaXMuY29tcG9uZW50RGF0YS5nZXQoYSk7aWYoYil7Zm9yKGxldCBjPTA7YzxiLmNhcGFiaWxpdGllcy5sZW5ndGg7YysrKXtjb25zdCBkPVN0cmluZyhiLmNhcGFiaWxpdGllc1tjXSkudG9Mb3dlckNhc2UoKTtyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy5jYXBhYmlsaXR5VG9Db21wb25lbnRJZHMuZ2V0KGQpLGEpfXRoaXMuY29tcG9uZW50RGF0YS5kZWxldGUoYSl9fWFkZENhcGFiaWxpdHkoYSxiKXtpZighdGhpcy5nZXRDb21wb25lbnQoYSkpdGhyb3cgRXJyb3IoJ0Nhbm5vdCBhZGQgY2FwYWJpbGl0eSwgXCInK2IrJ1wiLiBQbHVnaW4gXCInK1xuYSsnXCIgaGFzIG5vdCBiZWVuIGFkZGVkIHRvIHRoZSBDb21wb25lbnRNYW5hZ2VyJyk7aWYodGhpcy5oYXNDYXBhYmlsaXR5KGEsYikpY29uc29sZS53YXJuKCdQbHVnaW4gXCInK2ErJ2FscmVhZHkgaGFzIGNhcGFiaWxpdHkgXCInK2IrJ1wiJyk7ZWxzZXtiPWAke2J9YC50b0xvd2VyQ2FzZSgpO3ZhciBjOyhjPXRoaXMuY29tcG9uZW50RGF0YS5nZXQoYSkpPT1udWxsfHxjLmNhcGFiaWxpdGllcy5wdXNoKGIpO3ZhciBkOyhkPXRoaXMuY2FwYWJpbGl0eVRvQ29tcG9uZW50SWRzLmdldChiKSk9PW51bGx8fGQucHVzaChhKX19cmVtb3ZlQ2FwYWJpbGl0eShhLGIpe2lmKCF0aGlzLmdldENvbXBvbmVudChhKSl0aHJvdyBFcnJvcignQ2Fubm90IHJlbW92ZSBjYXBhYmlsaXR5LCBcIicrYisnXCIuIFBsdWdpbiBcIicrYSsnXCIgaGFzIG5vdCBiZWVuIGFkZGVkIHRvIHRoZSBDb21wb25lbnRNYW5hZ2VyJyk7dGhpcy5oYXNDYXBhYmlsaXR5KGEsYik/KGI9YCR7Yn1gLnRvTG93ZXJDYXNlKCkscmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMuY29tcG9uZW50RGF0YS5nZXQoYSkuY2FwYWJpbGl0aWVzLFxuYikscmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMuY2FwYWJpbGl0eVRvQ29tcG9uZW50SWRzLmdldChiKSxhKSk6Y29uc29sZS53YXJuKCdQbHVnaW4gXCInK2ErXCJkb2Vzbid0IGhhdmUgY2FwYWJpbGl0eSBcXFwiXCIrYisnXCIgdG8gcmVtb3ZlJyl9aGFzQ2FwYWJpbGl0eShhLGIpe2I9YCR7Yn1gLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHRoaXMuY29tcG9uZW50RGF0YS5oYXMoYSkmJnRoaXMuY29tcG9uZW50RGF0YS5nZXQoYSkuY2FwYWJpbGl0aWVzLmluY2x1ZGVzKGIpfWdldENvbXBvbmVudChhKXtsZXQgYjtyZXR1cm4oYj10aGlzLmNvbXBvbmVudERhdGEuZ2V0KGEpKT09bnVsbD92b2lkIDA6Yi5jb21wb25lbnR9Z2V0Q29tcG9uZW50cyhhLGIpe2E9YCR7YX1gLnRvTG93ZXJDYXNlKCk7YT10aGlzLmNhcGFiaWxpdHlUb0NvbXBvbmVudElkcy5nZXQoYSk7aWYoIWEpcmV0dXJuW107Y29uc3QgYz1bXTtpZihiKXtjb25zdCBkPVtdO2EuZm9yRWFjaChlPT5cbntkLnB1c2godGhpcy5jb21wb25lbnREYXRhLmdldChlKSl9KTtkLnNvcnQoZnVuY3Rpb24oZSxmKXtyZXR1cm4gZS53ZWlnaHQtZi53ZWlnaHR9KTtkLmZvckVhY2goZnVuY3Rpb24oZSl7Yy5wdXNoKGUuY29tcG9uZW50KX0pfWVsc2UgYS5mb3JFYWNoKGQ9PntjLnB1c2godGhpcy5jb21wb25lbnREYXRhLmdldChkKS5jb21wb25lbnQpfSk7cmV0dXJuIGN9fTtDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ2FwYWJpbGl0eT1DYXBhYmlsaXR5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI7XG4oZnVuY3Rpb24oYSl7YT1hLkNvbXBvbmVudFdlaWdodHx8KGEuQ29tcG9uZW50V2VpZ2h0PXt9KTthW2EuVE9PTEJPWF9XRUlHSFQ9MF09XCJUT09MQk9YX1dFSUdIVFwiO2FbYS5GTFlPVVRfV0VJR0hUPTFdPVwiRkxZT1VUX1dFSUdIVFwiO2FbYS5UUkFTSENBTl9XRUlHSFQ9Ml09XCJUUkFTSENBTl9XRUlHSFRcIjthW2EuWk9PTV9DT05UUk9MU19XRUlHSFQ9M109XCJaT09NX0NPTlRST0xTX1dFSUdIVFwifSkoQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyfHwoQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyPXt9KSk7XG52YXIgQ29tcG9uZW50V2VpZ2h0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI9Q29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNvbXBvbmVudFdlaWdodCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNvbXBvbmVudE1hbmFnZXI9Q29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5Db21wb25lbnRXZWlnaHQ9Q29tcG9uZW50V2VpZ2h0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXI7dmFyIGluamVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzPSExLGNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3M9J1xcbi5ibG9ja2x5U3ZnIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgIC8qIElFIG92ZXJmbG93cyBieSBkZWZhdWx0LiAqL1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5ibG9ja2x5V2lkZ2V0RGl2IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA5OTk5OTsgIC8qIGJpZyB2YWx1ZSBmb3IgYm9vdHN0cmFwMyBjb21wYXRpYmlsaXR5ICovXFxufVxcblxcbi5pbmplY3Rpb25EaXYge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgIC8qIFNvIGJsb2NrcyBpbiBkcmFnIHN1cmZhY2UgZGlzYXBwZWFyIGF0IGVkZ2VzICovXFxuICB0b3VjaC1hY3Rpb246IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5QmxvY2tDYW52YXMuYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmcsXFxuLmJsb2NrbHlCdWJibGVDYW52YXMuYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmcge1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC41cztcXG59XFxuXFxuLmJsb2NrbHlFbWJvc3Mge1xcbiAgZmlsdGVyOiB2YXIoLS1ibG9ja2x5RW1ib3NzRmlsdGVyKTtcXG59XFxuXFxuLmJsb2NrbHlUb29sdGlwRGl2IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmYzc7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRjO1xcbiAgYm94LXNoYWRvdzogNHB4IDRweCAyMHB4IDFweCByZ2JhKDAsMCwwLC4xNSk7XFxuICBjb2xvcjogIzAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmb250OiA5cHQgc2Fucy1zZXJpZjtcXG4gIG9wYWNpdHk6IC45O1xcbiAgcGFkZGluZzogMnB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTAwMDAwOyAgLyogYmlnIHZhbHVlIGZvciBib290c3RyYXAzIGNvbXBhdGliaWxpdHkgKi9cXG59XFxuXFxuLmJsb2NrbHlEcm9wRG93bkRpdiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgei1pbmRleDogMTAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBib3JkZXI6IDFweCBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogI2RhZGNlMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBib3gtc2hhZG93OiAwIDAgM3B4IDFweCByZ2JhKDAsMCwwLC4zKTtcXG59XFxuXFxuLmJsb2NrbHlEcm9wRG93bkRpdjpmb2N1cyB7XFxuICBib3gtc2hhZG93OiAwIDAgNnB4IDFweCByZ2JhKDAsMCwwLC4zKTtcXG59XFxuXFxuLmJsb2NrbHlEcm9wRG93bkNvbnRlbnQge1xcbiAgbWF4LWhlaWdodDogMzAwcHg7ICAvKiBAdG9kbzogc3BlYyBmb3IgbWF4aW11bSBoZWlnaHQuICovXFxufVxcblxcbi5ibG9ja2x5RHJvcERvd25BcnJvdyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICB6LWluZGV4OiAtMTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxuICBib3JkZXItY29sb3I6IGluaGVyaXQ7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQ7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xcbiAgYm9yZGVyLWNvbG9yOiBpbmhlcml0O1xcbn1cXG5cXG4uYmxvY2tseUhpZ2hsaWdodGVkPi5ibG9ja2x5UGF0aCB7XFxuICBmaWx0ZXI6IHZhcigtLWJsb2NrbHlFbWJvc3NGaWx0ZXIpO1xcbn1cXG5cXG4uYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGgge1xcbiAgZmlsbDogbm9uZTtcXG4gIHN0cm9rZTogI2ZjMztcXG4gIHN0cm9rZS13aWR0aDogNHB4O1xcbn1cXG5cXG4uYmxvY2tseVBhdGhMaWdodCB7XFxuICBmaWxsOiBub25lO1xcbiAgc3Ryb2tlLWxpbmVjYXA6IHJvdW5kO1xcbiAgc3Ryb2tlLXdpZHRoOiAxO1xcbn1cXG5cXG4uYmxvY2tseVNlbGVjdGVkPi5ibG9ja2x5UGF0aExpZ2h0IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5RHJhZ2dhYmxlIHtcXG4gIGN1cnNvcjogZ3JhYjtcXG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiO1xcbn1cXG5cXG4uYmxvY2tseURyYWdnaW5nIHtcXG4gIGN1cnNvcjogZ3JhYmJpbmc7XFxuICBjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XFxuICAvKiBEcmFnIHN1cmZhY2UgZGlzYWJsZXMgZXZlbnRzIHRvIG5vdCBibG9jayB0aGUgdG9vbGJveCwgc28gd2UgaGF2ZSB0b1xcbiAgICogcmVlbmFibGUgdGhlbSBoZXJlIGZvciB0aGUgY3Vyc29yIHZhbHVlcyB0byB3b3JrLiAqL1xcbiAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxufVxcblxcbiAgLyogQ2hhbmdlcyBjdXJzb3Igb24gbW91c2UgZG93bi4gTm90IGVmZmVjdGl2ZSBpbiBGaXJlZm94IGJlY2F1c2Ugb2ZcXG4gICAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTc3MTI0MSAqL1xcbi5ibG9ja2x5RHJhZ2dhYmxlOmFjdGl2ZSB7XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbiAgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nO1xcbn1cXG5cXG4uYmxvY2tseURyYWdnaW5nLmJsb2NrbHlEcmFnZ2luZ0RlbGV0ZSxcXG4uYmxvY2tseURyYWdnaW5nLmJsb2NrbHlEcmFnZ2luZ0RlbGV0ZSAuYmxvY2tseUZpZWxkIHtcXG4gIGN1cnNvcjogdXJsKFwiPDw8UEFUSD4+Pi9oYW5kZGVsZXRlLmN1clwiKSwgYXV0bztcXG59XFxuXFxuLmJsb2NrbHlEcmFnZ2luZz4uYmxvY2tseVBhdGgsXFxuLmJsb2NrbHlEcmFnZ2luZz4uYmxvY2tseVBhdGhMaWdodCB7XFxuICBmaWxsLW9wYWNpdHk6IC44O1xcbiAgc3Ryb2tlLW9wYWNpdHk6IC44O1xcbn1cXG5cXG4uYmxvY2tseURyYWdnaW5nPi5ibG9ja2x5UGF0aERhcmsge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlEaXNhYmxlZFBhdHRlcm4+LmJsb2NrbHlQYXRoIHtcXG4gIGZpbGw6IHZhcigtLWJsb2NrbHlEaXNhYmxlZFBhdHRlcm4pO1xcbiAgZmlsbC1vcGFjaXR5OiAuNTtcXG4gIHN0cm9rZS1vcGFjaXR5OiAuNTtcXG59XFxuXFxuLmJsb2NrbHlEaXNhYmxlZD4uYmxvY2tseVBhdGhMaWdodCxcXG4uYmxvY2tseURpc2FibGVkPi5ibG9ja2x5UGF0aERhcmsge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoLFxcbi5ibG9ja2x5SW5zZXJ0aW9uTWFya2VyPi5ibG9ja2x5UGF0aExpZ2h0LFxcbi5ibG9ja2x5SW5zZXJ0aW9uTWFya2VyPi5ibG9ja2x5UGF0aERhcmsge1xcbiAgZmlsbC1vcGFjaXR5OiAuMjtcXG4gIHN0cm9rZTogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlOb25FZGl0YWJsZUZpZWxkPnRleHQge1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5Rmx5b3V0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDIwO1xcbn1cXG5cXG4uYmxvY2tseVRleHQgdGV4dCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi8qXFxuICBEb25cXCd0IGFsbG93IHVzZXJzIHRvIHNlbGVjdCB0ZXh0LiAgSXQgZ2V0cyBhbm5veWluZyB3aGVuIHRyeWluZyB0b1xcbiAgZHJhZyBhIGJsb2NrIGFuZCBzZWxlY3RlZCB0ZXh0IG1vdmVzIGluc3RlYWQuXFxuKi9cXG4uYmxvY2tseVN2ZyB0ZXh0IHtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIGN1cnNvcjogaW5oZXJpdDtcXG59XFxuXFxuLmJsb2NrbHlJY29uR3JvdXAge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5cXG4uYmxvY2tseUljb25Hcm91cDpub3QoOmhvdmVyKTpub3QoOmZvY3VzKSxcXG4uYmxvY2tseUljb25Hcm91cFJlYWRvbmx5IHtcXG4gIG9wYWNpdHk6IC42O1xcbn1cXG5cXG4uYmxvY2tseUljb25TaGFwZSB7XFxuICBmaWxsOiAjMDBmO1xcbiAgc3Ryb2tlOiAjZmZmO1xcbiAgc3Ryb2tlLXdpZHRoOiAxcHg7XFxufVxcblxcbi5ibG9ja2x5SWNvblN5bWJvbCB7XFxuICBmaWxsOiAjZmZmO1xcbn1cXG5cXG4uYmxvY2tseU1pbmltYWxCb2R5IHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5ibG9ja2x5SHRtbElucHV0IHtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG1hcmdpbjogMDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBwYWRkaW5nOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi8qIFJlbW92ZSB0aGUgaW5jcmVhc2UgYW5kIGRlY3JlYXNlIGFycm93cyBvbiB0aGUgZmllbGQgbnVtYmVyIGVkaXRvciAqL1xcbmlucHV0LmJsb2NrbHlIdG1sSW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxcbmlucHV0LmJsb2NrbHlIdG1sSW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uIHtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIG1hcmdpbjogMDtcXG59XFxuXFxuaW5wdXRbdHlwZT1udW1iZXJdIHtcXG4gIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xcbn1cXG5cXG4uYmxvY2tseU1haW5CYWNrZ3JvdW5kIHtcXG4gIHN0cm9rZS13aWR0aDogMTtcXG4gIHN0cm9rZTogI2M2YzZjNjsgIC8qIEVxdWF0ZXMgdG8gI2RkZCBkdWUgdG8gYm9yZGVyIGJlaW5nIG9mZi1waXhlbC4gKi9cXG59XFxuXFxuLmJsb2NrbHlNdXRhdG9yQmFja2dyb3VuZCB7XFxuICBmaWxsOiAjZmZmO1xcbiAgc3Ryb2tlOiAjZGRkO1xcbiAgc3Ryb2tlLXdpZHRoOiAxO1xcbn1cXG5cXG4uYmxvY2tseUZseW91dEJhY2tncm91bmQge1xcbiAgZmlsbDogI2RkZDtcXG4gIGZpbGwtb3BhY2l0eTogLjg7XFxufVxcblxcbi5ibG9ja2x5TWFpbldvcmtzcGFjZVNjcm9sbGJhciB7XFxuICB6LWluZGV4OiAyMDtcXG59XFxuXFxuLmJsb2NrbHlGbHlvdXRTY3JvbGxiYXIge1xcbiAgei1pbmRleDogMzA7XFxufVxcblxcbi5ibG9ja2x5U2Nyb2xsYmFySG9yaXpvbnRhbCxcXG4uYmxvY2tseVNjcm9sbGJhclZlcnRpY2FsIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5U2Nyb2xsYmFyQmFja2dyb3VuZCB7XFxuICBvcGFjaXR5OiAwO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbi5ibG9ja2x5U2Nyb2xsYmFySGFuZGxlIHtcXG4gIGZpbGw6ICNjY2M7XFxufVxcblxcbi5ibG9ja2x5U2Nyb2xsYmFyQmFja2dyb3VuZDpob3ZlcisuYmxvY2tseVNjcm9sbGJhckhhbmRsZSxcXG4uYmxvY2tseVNjcm9sbGJhckhhbmRsZTpob3ZlciB7XFxuICBmaWxsOiAjYmJiO1xcbn1cXG5cXG4vKiBEYXJrZW4gZmx5b3V0IHNjcm9sbGJhcnMgZHVlIHRvIGJlaW5nIG9uIGEgZ3JleSBiYWNrZ3JvdW5kLiAqL1xcbi8qIEJ5IGNvbnRyYXN0LCB3b3Jrc3BhY2Ugc2Nyb2xsYmFycyBhcmUgb24gYSB3aGl0ZSBiYWNrZ3JvdW5kLiAqL1xcbi5ibG9ja2x5Rmx5b3V0IC5ibG9ja2x5U2Nyb2xsYmFySGFuZGxlIHtcXG4gIGZpbGw6ICNiYmI7XFxufVxcblxcbi5ibG9ja2x5Rmx5b3V0IC5ibG9ja2x5U2Nyb2xsYmFyQmFja2dyb3VuZDpob3ZlcisuYmxvY2tseVNjcm9sbGJhckhhbmRsZSxcXG4uYmxvY2tseUZseW91dCAuYmxvY2tseVNjcm9sbGJhckhhbmRsZTpob3ZlciB7XFxuICBmaWxsOiAjYWFhO1xcbn1cXG5cXG4uYmxvY2tseUludmFsaWRJbnB1dCB7XFxuICBiYWNrZ3JvdW5kOiAjZmFhO1xcbn1cXG5cXG4uYmxvY2tseVZlcnRpY2FsTWFya2VyIHtcXG4gIHN0cm9rZS13aWR0aDogM3B4O1xcbiAgZmlsbDogcmdiYSgyNTUsMjU1LDI1NSwuNSk7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlDb21wdXRlQ2FudmFzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbn1cXG5cXG4uYmxvY2tseU5vUG9pbnRlckV2ZW50cyB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlDb250ZXh0TWVudSB7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uYmxvY2tseURyb3Bkb3duTWVudSB7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XFxufVxcblxcbi5ibG9ja2x5RHJvcGRvd25NZW51IC5ibG9ja2x5TWVudUl0ZW0ge1xcbiAgLyogMjhweCBvbiB0aGUgbGVmdCBmb3IgaWNvbiBvciBjaGVja2JveC4gKi9cXG4gIHBhZGRpbmctbGVmdDogMjhweDtcXG59XFxuXFxuLyogQmlEaSBvdmVycmlkZSBmb3IgdGhlIHJlc3Rpbmcgc3RhdGUuICovXFxuLmJsb2NrbHlEcm9wZG93bk1lbnUgLmJsb2NrbHlNZW51SXRlbVJ0bCB7XFxuICAvKiBGbGlwIGxlZnQvcmlnaHQgcGFkZGluZyBmb3IgQmlEaS4gKi9cXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgcGFkZGluZy1yaWdodDogMjhweDtcXG59XFxuXFxuLmJsb2NrbHlXaWRnZXREaXYgLmJsb2NrbHlNZW51IHtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJveC1zaGFkb3c6IDAgMCAzcHggMXB4IHJnYmEoMCwwLDAsLjMpO1xcbiAgZm9udDogbm9ybWFsIDEzcHggQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBtYXJnaW46IDA7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgcGFkZGluZzogNHB4IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDIwMDAwOyAgLyogQXJiaXRyYXJ5LCBidXQgc29tZSBhcHBzIGRlcGVuZCBvbiBpdC4uLiAqL1xcbn1cXG5cXG4uYmxvY2tseVdpZGdldERpdiAuYmxvY2tseU1lbnU6Zm9jdXMge1xcbiAgYm94LXNoYWRvdzogMCAwIDZweCAxcHggcmdiYSgwLDAsMCwuMyk7XFxufVxcblxcbi5ibG9ja2x5RHJvcERvd25EaXYgLmJsb2NrbHlNZW51IHtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIGJhY2tncm91bmQ6IGluaGVyaXQ7ICAvKiBDb21wYXRpYmlsaXR5IHdpdGggZ2FwaSwgcmVzZXQgZnJvbSBnb29nLW1lbnUgKi9cXG4gIGJvcmRlcjogaW5oZXJpdDsgIC8qIENvbXBhdGliaWxpdHkgd2l0aCBnYXBpLCByZXNldCBmcm9tIGdvb2ctbWVudSAqL1xcbiAgZm9udDogbm9ybWFsIDEzcHggXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiAyMDAwMDsgIC8qIEFyYml0cmFyeSwgYnV0IHNvbWUgYXBwcyBkZXBlbmQgb24gaXQuLi4gKi9cXG59XFxuXFxuLyogU3RhdGU6IHJlc3RpbmcuICovXFxuLmJsb2NrbHlNZW51SXRlbSB7XFxuICBib3JkZXI6IG5vbmU7XFxuICBjb2xvcjogIzAwMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBtYXJnaW46IDA7XFxuICAvKiA3ZW0gb24gdGhlIHJpZ2h0IGZvciBzaG9ydGN1dC4gKi9cXG4gIG1pbi13aWR0aDogN2VtO1xcbiAgcGFkZGluZzogNnB4IDE1cHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5cXG4vKiBTdGF0ZTogZGlzYWJsZWQuICovXFxuLmJsb2NrbHlNZW51SXRlbURpc2FibGVkIHtcXG4gIGNvbG9yOiAjY2NjO1xcbiAgY3Vyc29yOiBpbmhlcml0O1xcbn1cXG5cXG4vKiBTdGF0ZTogaG92ZXIuICovXFxuLmJsb2NrbHlNZW51SXRlbUhpZ2hsaWdodCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLC4xKTtcXG59XFxuXFxuLyogU3RhdGU6IHNlbGVjdGVkL2NoZWNrZWQuICovXFxuLmJsb2NrbHlNZW51SXRlbUNoZWNrYm94IHtcXG4gIGhlaWdodDogMTZweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxNnB4O1xcbn1cXG5cXG4uYmxvY2tseU1lbnVJdGVtU2VsZWN0ZWQgLmJsb2NrbHlNZW51SXRlbUNoZWNrYm94IHtcXG4gIGJhY2tncm91bmQ6IHVybCg8PDxQQVRIPj4+L3Nwcml0ZXMucG5nKSBuby1yZXBlYXQgLTQ4cHggLTE2cHg7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi1sZWZ0OiAtMjRweDtcXG4gIHBvc2l0aW9uOiBzdGF0aWM7ICAvKiBTY3JvbGwgd2l0aCB0aGUgbWVudS4gKi9cXG59XFxuXFxuLmJsb2NrbHlNZW51SXRlbVJ0bCAuYmxvY2tseU1lbnVJdGVtQ2hlY2tib3gge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luLXJpZ2h0OiAtMjRweDtcXG59XFxuXFxuLmJsb2NrbHlNZW51U2VwYXJhdG9yIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XFxuICBoZWlnaHQ6IDFweDtcXG4gIGJvcmRlcjogMDtcXG4gIG1hcmdpbi1sZWZ0OiA0cHg7XFxuICBtYXJnaW4tcmlnaHQ6IDRweDtcXG59XFxuXFxuLmJsb2NrbHlCbG9ja0RyYWdTdXJmYWNlLCAuYmxvY2tseUFuaW1hdGlvbkxheWVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XFxuICB6LWluZGV4OiA4MDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG5cXG4uYmxvY2tseUZpZWxkIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuXFxuLmJsb2NrbHlJbnB1dEZpZWxkIHtcXG4gIGN1cnNvcjogdGV4dDtcXG59XFxuXFxuLmJsb2NrbHlEcmFnZ2luZyAuYmxvY2tseUZpZWxkLFxcbi5ibG9ja2x5RHJhZ2dpbmcgLmJsb2NrbHlJY29uR3JvdXAge1xcbiAgY3Vyc29yOiBncmFiYmluZztcXG59XFxuXFxuLmJsb2NrbHlBY3RpdmVGb2N1czppcyhcXG4gIC5ibG9ja2x5Rmx5b3V0LFxcbiAgLmJsb2NrbHlXb3Jrc3BhY2UsXFxuICAuYmxvY2tseUZpZWxkLFxcbiAgLmJsb2NrbHlQYXRoLFxcbiAgLmJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoLFxcbiAgLmJsb2NrbHlDb21tZW50LFxcbiAgLmJsb2NrbHlCdWJibGUsXFxuICAuYmxvY2tseUljb25Hcm91cCxcXG4gIC5ibG9ja2x5VGV4dGFyZWFcXG4pIHtcXG4gIG91dGxpbmU6IG5vbmU7XFxufVxcbicsXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MuaW5qZWN0PWluamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzLnJlZ2lzdGVyPXJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzO3ZhciBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMueD1hO3RoaXMueT1ifWNsb25lKCl7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSh0aGlzLngsdGhpcy55KX1zY2FsZShhKXt0aGlzLngqPWE7dGhpcy55Kj1hO3JldHVybiB0aGlzfXRyYW5zbGF0ZShhLGIpe3RoaXMueCs9YTt0aGlzLnkrPWI7cmV0dXJuIHRoaXN9c3RhdGljIGVxdWFscyhhLGIpe3JldHVybiBhPT09Yj8hMDphJiZiP2EueD09PWIueCYmYS55PT09Yi55OiExfXN0YXRpYyBkaXN0YW5jZShhLGIpe2NvbnN0IGM9YS54LWIueDthPWEueS1iLnk7cmV0dXJuIE1hdGguc3FydChjKmMrYSphKX1zdGF0aWMgbWFnbml0dWRlKGEpe3JldHVybiBNYXRoLnNxcnQoYS54KmEueCthLnkqYS55KX1zdGF0aWMgZGlmZmVyZW5jZShhLGIpe3JldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS54LVxuYi54LGEueS1iLnkpfXN0YXRpYyBzdW0oYSxiKXtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEueCtiLngsYS55K2IueSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5Db29yZGluYXRlPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlO3ZhciBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmc9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy50YWdOYW1lPWF9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy50YWdOYW1lfX07U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkFOSU1BVEU9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImFuaW1hdGVcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkNJUkNMRT1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiY2lyY2xlXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DTElQUEFUSD1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiY2xpcFBhdGhcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkRFRlM9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImRlZnNcIik7XG5TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEU9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImZlQ29tcG9zaXRlXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUNPTVBPTkVOVFRSQU5TRkVSPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJmZUNvbXBvbmVudFRyYW5zZmVyXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUZMT09EPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJmZUZsb29kXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUZVTkNBPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJmZUZ1bmNBXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUdBVVNTSUFOQkxVUj1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZmVHYXVzc2lhbkJsdXJcIik7XG5TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVQT0lOVExJR0hUPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJmZVBvaW50TGlnaHRcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFU1BFQ1VMQVJMSUdIVElORz1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZmVTcGVjdWxhckxpZ2h0aW5nXCIpO1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GSUxURVI9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImZpbHRlclwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRk9SRUlHTk9CSkVDVD1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZm9yZWlnbk9iamVjdFwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRz1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiZ1wiKTtcblN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRT1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwiaW1hZ2VcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkxJTkU9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcImxpbmVcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEg9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcInBhdGhcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVFRFUk49bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcInBhdHRlcm5cIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBPTFlHT049bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcInBvbHlnb25cIik7XG5TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVD1uZXcgU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnKFwicmVjdFwiKTtTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJzdmdcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlRFWFQ9bmV3IFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2ZyhcInRleHRcIik7U3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlRTUEFOPW5ldyBTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcoXCJ0c3BhblwiKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlN2Zz1TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmc7dmFyIFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0PWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQpe3RoaXMudG9wPWE7dGhpcy5ib3R0b209Yjt0aGlzLmxlZnQ9Yzt0aGlzLnJpZ2h0PWR9c3RhdGljIGZyb20oYSl7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLnksYS55K2EuaGVpZ2h0LGEueCxhLngrYS53aWR0aCl9Y2xvbmUoKXtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX1nZXRIZWlnaHQoKXtyZXR1cm4gdGhpcy5ib3R0b20tdGhpcy50b3B9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy5yaWdodC10aGlzLmxlZnR9Z2V0T3JpZ2luKCl7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSh0aGlzLmxlZnQsdGhpcy50b3ApfWNvbnRhaW5zKGEsXG5iKXtyZXR1cm4gYT49dGhpcy5sZWZ0JiZhPD10aGlzLnJpZ2h0JiZiPj10aGlzLnRvcCYmYjw9dGhpcy5ib3R0b219aW50ZXJzZWN0cyhhKXtyZXR1cm4gdGhpcy5sZWZ0PD1hLnJpZ2h0JiZ0aGlzLnJpZ2h0Pj1hLmxlZnQmJnRoaXMuYm90dG9tPj1hLnRvcCYmdGhpcy50b3A8PWEuYm90dG9tfXN0YXRpYyBlcXVhbHMoYSxiKXtyZXR1cm4gYT09PWI/ITA6YSYmYj9hLnRvcD09PWIudG9wJiZhLmJvdHRvbT09PWIuYm90dG9tJiZhLmxlZnQ9PT1iLmxlZnQmJmEucmlnaHQ9PT1iLnJpZ2h0OiExfXN0YXRpYyBjcmVhdGVGcm9tUG9pbnQoYSxiLGMpe2NvbnN0IGQ9YS54O2E9YS55O3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYSxhK2MsZCxkK2IpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3Q9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QuUmVjdD1SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdDt2YXIgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemU9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLndpZHRoPWE7dGhpcy5oZWlnaHQ9Yn1zdGF0aWMgZXF1YWxzKGEsYil7cmV0dXJuIGE9PT1iPyEwOmEmJmI/YS53aWR0aD09PWIud2lkdGgmJmEuaGVpZ2h0PT09Yi5oZWlnaHQ6ITF9c3RhdGljIG1heChhLGIpe3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoTWF0aC5tYXgoYS53aWR0aCxiLndpZHRoKSxNYXRoLm1heChhLmhlaWdodCxiLmhlaWdodCkpfXN0YXRpYyBtaW4oYSxiKXtyZXR1cm4gbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKE1hdGgubWluKGEud2lkdGgsYi53aWR0aCksTWF0aC5taW4oYS5oZWlnaHQsYi5oZWlnaHQpKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplLlNpemU9U2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemU7dmFyIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlPXtnZXRTaXplSW50ZXJuYWw6Z2V0U2l6ZUludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGV9LG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZT17VEVTVF9PTkxZOlRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuZ2V0Qm9yZGVyQm94PWdldEJvcmRlckJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZS5nZXRDb21wdXRlZFN0eWxlPWdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuZ2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvPWdldENvbnRhaW5lck9mZnNldFRvU2Nyb2xsSW50byQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlLmdldFBhZ2VPZmZzZXQ9Z2V0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZS5nZXRTaXplPWdldFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUuZ2V0Vmlld3BvcnRQYWdlT2Zmc2V0PWdldFZpZXdwb3J0UGFnZU9mZnNldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZS5zY3JvbGxJbnRvQ29udGFpbmVyVmlldz1zY3JvbGxJbnRvQ29udGFpbmVyVmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlO3ZhciBYWV9SRUdFWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPS90cmFuc2xhdGVcXChcXHMqKFstK1xcZC5lXSspKFsgLF1cXHMqKFstK1xcZC5lXSspXFxzKik/LyxYWV9TVFlMRV9SRUdFWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPS90cmFuc2Zvcm06XFxzKnRyYW5zbGF0ZSg/OjNkKT9cXChcXHMqKFstK1xcZC5lXSspXFxzKnB4KFsgLF1cXHMqKFstK1xcZC5lXSspXFxzKnB4KT8vLFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoPXtYWV9SRUdFWDpYWV9SRUdFWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoLFhZX1NUWUxFX1JFR0VYOlhZX1NUWUxFX1JFR0VYJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGh9LG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aD17VEVTVF9PTkxZOlRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRofTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aC5nZXREb2N1bWVudFNjcm9sbD1nZXREb2N1bWVudFNjcm9sbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aC5nZXRJbmplY3Rpb25EaXZYWT1nZXRJbmplY3Rpb25EaXZYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aC5nZXRSZWxhdGl2ZVhZPWdldFJlbGF0aXZlWFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGguZ2V0Vmlld3BvcnRCQm94PWdldFZpZXdwb3J0QkJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aC5zY3JlZW5Ub1dzQ29vcmRpbmF0ZXM9c2NyZWVuVG9Xc0Nvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGg7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgud3NUb1NjcmVlbkNvb3JkaW5hdGVzPXdzVG9TY3JlZW5Db29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoO3ZhciBTY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXI9Y2xhc3N7Y29uc3RydWN0b3IoYSxiLGMsZCxlKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMuaG9yaXpvbnRhbD1iO3RoaXMub2xkSG9zdE1ldHJpY3M9bnVsbDt0aGlzLnJhdGlvPTE7dGhpcy5vcmlnaW49bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5zdGFydERyYWdIYW5kbGU9dGhpcy5oYW5kbGVQb3NpdGlvbj10aGlzLmhhbmRsZUxlbmd0aD10aGlzLnNjcm9sbGJhckxlbmd0aD10aGlzLnN0YXJ0RHJhZ01vdXNlPTA7dGhpcy5jb250YWluZXJWaXNpYmxlPXRoaXMuaXNIYW5kbGVWaXNpYmxlPSEwO3RoaXMucG9zaXRpb249bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5vbk1vdXNlTW92ZVdyYXBwZXJfPXRoaXMub25Nb3VzZVVwV3JhcHBlcl89bnVsbDt0aGlzLnBhaXI9XG5jfHwhMTt0aGlzLm1hcmdpbj1lIT09dm9pZCAwP2U6U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLkRFRkFVTFRfU0NST0xMQkFSX01BUkdJTjthPVwiYmxvY2tseVNjcm9sbGJhclwiKyh0aGlzLmhvcml6b250YWw/XCJIb3Jpem9udGFsXCI6XCJWZXJ0aWNhbFwiKTtkJiYoYSs9XCIgXCIrZCk7dGhpcy5vdXRlclN2Zz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5TVkcse1wiY2xhc3NcIjphfSk7ZD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHt9LHRoaXMub3V0ZXJTdmcpO3RoaXMuc3ZnQmFja2dyb3VuZD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULFxue1wiY2xhc3NcIjpcImJsb2NrbHlTY3JvbGxiYXJCYWNrZ3JvdW5kXCJ9LGQpO2E9TWF0aC5mbG9vcigoU2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcy01KS8yKTt0aGlzLnN2Z0hhbmRsZT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtcImNsYXNzXCI6XCJibG9ja2x5U2Nyb2xsYmFySGFuZGxlXCIscng6YSxyeTphfSxkKTt0aGlzLndvcmtzcGFjZS5nZXRUaGVtZU1hbmFnZXIoKS5zdWJzY3JpYmUodGhpcy5zdmdIYW5kbGUsXCJzY3JvbGxiYXJDb2xvdXJcIixcImZpbGxcIik7dGhpcy53b3Jrc3BhY2UuZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKHRoaXMuc3ZnSGFuZGxlLFwic2Nyb2xsYmFyT3BhY2l0eVwiLFwiZmlsbC1vcGFjaXR5XCIpO2luc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMub3V0ZXJTdmcsXG50aGlzLndvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKSk7dGhpcy5zZXRJbml0aWFsVGhpY2tuZXNzKCk7Yj8odGhpcy5sZW5ndGhBdHRyaWJ1dGVfPVwid2lkdGhcIix0aGlzLnBvc2l0aW9uQXR0cmlidXRlXz1cInhcIik6KHRoaXMubGVuZ3RoQXR0cmlidXRlXz1cImhlaWdodFwiLHRoaXMucG9zaXRpb25BdHRyaWJ1dGVfPVwieVwiKTt0aGlzLm9uTW91c2VEb3duQmFyV3JhcHBlcl89Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdCYWNrZ3JvdW5kLFwicG9pbnRlcmRvd25cIix0aGlzLHRoaXMub25Nb3VzZURvd25CYXIpO3RoaXMub25Nb3VzZURvd25IYW5kbGVXcmFwcGVyXz1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnN2Z0hhbmRsZSxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duSGFuZGxlKX1zZXRJbml0aWFsVGhpY2tuZXNzKCl7Y29uc3QgYT1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzO1xudGhpcy5ob3Jpem9udGFsPyh0aGlzLnN2Z0JhY2tncm91bmQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsU3RyaW5nKGEpKSx0aGlzLm91dGVyU3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFN0cmluZyhhKSksdGhpcy5zdmdIYW5kbGUuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsU3RyaW5nKGEtNSkpLHRoaXMuc3ZnSGFuZGxlLnNldEF0dHJpYnV0ZShcInlcIixcIjIuNVwiKSk6KHRoaXMuc3ZnQmFja2dyb3VuZC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFN0cmluZyhhKSksdGhpcy5vdXRlclN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFN0cmluZyhhKSksdGhpcy5zdmdIYW5kbGUuc2V0QXR0cmlidXRlKFwid2lkdGhcIixTdHJpbmcoYS01KSksdGhpcy5zdmdIYW5kbGUuc2V0QXR0cmlidXRlKFwieFwiLFwiMi41XCIpKX1kaXNwb3NlKCl7dGhpcy5jbGVhblVwKCk7dW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5vbk1vdXNlRG93bkJhcldyYXBwZXJfKTt1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uTW91c2VEb3duSGFuZGxlV3JhcHBlcl8pO1xucmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLm91dGVyU3ZnKTt0aGlzLndvcmtzcGFjZS5nZXRUaGVtZU1hbmFnZXIoKS51bnN1YnNjcmliZSh0aGlzLnN2Z0hhbmRsZSl9Y29uc3RyYWluSGFuZGxlTGVuZ3RoKGEpe3JldHVybiBhPWE8PTB8fGlzTmFOKGEpPzA6TWF0aC5taW4oYSx0aGlzLnNjcm9sbGJhckxlbmd0aCl9c2V0SGFuZGxlTGVuZ3RoKGEpe3RoaXMuaGFuZGxlTGVuZ3RoPWE7dGhpcy5zdmdIYW5kbGUuc2V0QXR0cmlidXRlKHRoaXMubGVuZ3RoQXR0cmlidXRlXyxTdHJpbmcodGhpcy5oYW5kbGVMZW5ndGgpKX1jb25zdHJhaW5IYW5kbGVQb3NpdGlvbihhKXtyZXR1cm4gYT1hPD0wfHxpc05hTihhKT8wOk1hdGgubWluKGEsdGhpcy5zY3JvbGxiYXJMZW5ndGgtdGhpcy5oYW5kbGVMZW5ndGgpfXNldEhhbmRsZVBvc2l0aW9uKGEpe3RoaXMuaGFuZGxlUG9zaXRpb249YTt0aGlzLnN2Z0hhbmRsZS5zZXRBdHRyaWJ1dGUodGhpcy5wb3NpdGlvbkF0dHJpYnV0ZV8sXG5TdHJpbmcodGhpcy5oYW5kbGVQb3NpdGlvbikpfXNldFNjcm9sbGJhckxlbmd0aChhKXt0aGlzLnNjcm9sbGJhckxlbmd0aD1hO3RoaXMub3V0ZXJTdmcuc2V0QXR0cmlidXRlKHRoaXMubGVuZ3RoQXR0cmlidXRlXyxTdHJpbmcodGhpcy5zY3JvbGxiYXJMZW5ndGgpKTt0aGlzLnN2Z0JhY2tncm91bmQuc2V0QXR0cmlidXRlKHRoaXMubGVuZ3RoQXR0cmlidXRlXyxTdHJpbmcodGhpcy5zY3JvbGxiYXJMZW5ndGgpKX1zZXRQb3NpdGlvbihhLGIpe3RoaXMucG9zaXRpb24ueD1hO3RoaXMucG9zaXRpb24ueT1iO3NldENzc1RyYW5zZm9ybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLm91dGVyU3ZnLFwidHJhbnNsYXRlKFwiKyh0aGlzLnBvc2l0aW9uLngrdGhpcy5vcmlnaW4ueCkrXCJweCxcIisodGhpcy5wb3NpdGlvbi55K3RoaXMub3JpZ2luLnkpK1wicHgpXCIpfXJlc2l6ZShhKXtpZighYSYmKGE9dGhpcy53b3Jrc3BhY2UuZ2V0TWV0cmljcygpLCFhKSlyZXR1cm47XG50aGlzLm9sZEhvc3RNZXRyaWNzJiZTY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIubWV0cmljc0FyZUVxdWl2YWxlbnQoYSx0aGlzLm9sZEhvc3RNZXRyaWNzKXx8KHRoaXMuaG9yaXpvbnRhbD90aGlzLnJlc2l6ZUhvcml6b250YWwoYSk6dGhpcy5yZXNpemVWZXJ0aWNhbChhKSx0aGlzLm9sZEhvc3RNZXRyaWNzPWEsdGhpcy51cGRhdGVNZXRyaWNzKCkpfXJlcXVpcmVzVmlld1Jlc2l6ZShhKXtyZXR1cm4gdGhpcy5vbGRIb3N0TWV0cmljcz90aGlzLm9sZEhvc3RNZXRyaWNzLnZpZXdXaWR0aCE9PWEudmlld1dpZHRofHx0aGlzLm9sZEhvc3RNZXRyaWNzLnZpZXdIZWlnaHQhPT1hLnZpZXdIZWlnaHR8fHRoaXMub2xkSG9zdE1ldHJpY3MuYWJzb2x1dGVMZWZ0IT09YS5hYnNvbHV0ZUxlZnR8fHRoaXMub2xkSG9zdE1ldHJpY3MuYWJzb2x1dGVUb3AhPT1hLmFic29sdXRlVG9wOiEwfXJlc2l6ZUhvcml6b250YWwoYSl7dGhpcy5yZXF1aXJlc1ZpZXdSZXNpemUoYSk/XG50aGlzLnJlc2l6ZVZpZXdIb3Jpem9udGFsKGEpOnRoaXMucmVzaXplQ29udGVudEhvcml6b250YWwoYSl9cmVzaXplVmlld0hvcml6b250YWwoYSl7dmFyIGI9YS52aWV3V2lkdGgtdGhpcy5tYXJnaW4qMjt0aGlzLnBhaXImJihiLT1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzKTt0aGlzLnNldFNjcm9sbGJhckxlbmd0aChNYXRoLm1heCgwLGIpKTtiPWEuYWJzb2x1dGVMZWZ0K3RoaXMubWFyZ2luO3RoaXMucGFpciYmdGhpcy53b3Jrc3BhY2UuUlRMJiYoYis9U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyk7dGhpcy5zZXRQb3NpdGlvbihiLGEuYWJzb2x1dGVUb3ArYS52aWV3SGVpZ2h0LVNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MtdGhpcy5tYXJnaW4pO3RoaXMucmVzaXplQ29udGVudEhvcml6b250YWwoYSl9cmVzaXplQ29udGVudEhvcml6b250YWwoYSl7aWYoYS52aWV3V2lkdGg+PVxuYS5zY3JvbGxXaWR0aCl0aGlzLnNldEhhbmRsZUxlbmd0aCh0aGlzLnNjcm9sbGJhckxlbmd0aCksdGhpcy5zZXRIYW5kbGVQb3NpdGlvbigwKSx0aGlzLnBhaXJ8fHRoaXMuc2V0VmlzaWJsZSghMSk7ZWxzZXt0aGlzLnBhaXJ8fHRoaXMuc2V0VmlzaWJsZSghMCk7dmFyIGI9dGhpcy5zY3JvbGxiYXJMZW5ndGgqYS52aWV3V2lkdGgvYS5zY3JvbGxXaWR0aDtiPXRoaXMuY29uc3RyYWluSGFuZGxlTGVuZ3RoKGIpO3RoaXMuc2V0SGFuZGxlTGVuZ3RoKGIpO2I9YS5zY3JvbGxXaWR0aC1hLnZpZXdXaWR0aDt2YXIgYz10aGlzLnNjcm9sbGJhckxlbmd0aC10aGlzLmhhbmRsZUxlbmd0aDthPShhLnZpZXdMZWZ0LWEuc2Nyb2xsTGVmdCkvYipjO2E9dGhpcy5jb25zdHJhaW5IYW5kbGVQb3NpdGlvbihhKTt0aGlzLnNldEhhbmRsZVBvc2l0aW9uKGEpO3RoaXMucmF0aW89Yy9ifX1yZXNpemVWZXJ0aWNhbChhKXt0aGlzLnJlcXVpcmVzVmlld1Jlc2l6ZShhKT90aGlzLnJlc2l6ZVZpZXdWZXJ0aWNhbChhKTpcbnRoaXMucmVzaXplQ29udGVudFZlcnRpY2FsKGEpfXJlc2l6ZVZpZXdWZXJ0aWNhbChhKXtsZXQgYj1hLnZpZXdIZWlnaHQtdGhpcy5tYXJnaW4qMjt0aGlzLnBhaXImJihiLT1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzKTt0aGlzLnNldFNjcm9sbGJhckxlbmd0aChNYXRoLm1heCgwLGIpKTt0aGlzLnNldFBvc2l0aW9uKHRoaXMud29ya3NwYWNlLlJUTD9hLmFic29sdXRlTGVmdCt0aGlzLm1hcmdpbjphLmFic29sdXRlTGVmdCthLnZpZXdXaWR0aC1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLXRoaXMubWFyZ2luLGEuYWJzb2x1dGVUb3ArdGhpcy5tYXJnaW4pO3RoaXMucmVzaXplQ29udGVudFZlcnRpY2FsKGEpfXJlc2l6ZUNvbnRlbnRWZXJ0aWNhbChhKXtpZihhLnZpZXdIZWlnaHQ+PWEuc2Nyb2xsSGVpZ2h0KXRoaXMuc2V0SGFuZGxlTGVuZ3RoKHRoaXMuc2Nyb2xsYmFyTGVuZ3RoKSxcbnRoaXMuc2V0SGFuZGxlUG9zaXRpb24oMCksdGhpcy5wYWlyfHx0aGlzLnNldFZpc2libGUoITEpO2Vsc2V7dGhpcy5wYWlyfHx0aGlzLnNldFZpc2libGUoITApO3ZhciBiPXRoaXMuc2Nyb2xsYmFyTGVuZ3RoKmEudmlld0hlaWdodC9hLnNjcm9sbEhlaWdodDtiPXRoaXMuY29uc3RyYWluSGFuZGxlTGVuZ3RoKGIpO3RoaXMuc2V0SGFuZGxlTGVuZ3RoKGIpO2I9YS5zY3JvbGxIZWlnaHQtYS52aWV3SGVpZ2h0O3ZhciBjPXRoaXMuc2Nyb2xsYmFyTGVuZ3RoLXRoaXMuaGFuZGxlTGVuZ3RoO2E9KGEudmlld1RvcC1hLnNjcm9sbFRvcCkvYipjO2E9dGhpcy5jb25zdHJhaW5IYW5kbGVQb3NpdGlvbihhKTt0aGlzLnNldEhhbmRsZVBvc2l0aW9uKGEpO3RoaXMucmF0aW89Yy9ifX1pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5pc0hhbmRsZVZpc2libGV9c2V0Q29udGFpbmVyVmlzaWJsZShhKXtjb25zdCBiPWEhPT10aGlzLmNvbnRhaW5lclZpc2libGU7dGhpcy5jb250YWluZXJWaXNpYmxlPVxuYTtiJiZ0aGlzLnVwZGF0ZURpc3BsYXlfKCl9c2V0VmlzaWJsZShhKXtpZih0aGlzLnBhaXIpdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gdG9nZ2xlIHZpc2liaWxpdHkgb2YgcGFpcmVkIHNjcm9sbGJhcnMuXCIpO3RoaXMuc2V0VmlzaWJsZUludGVybmFsKGEpfXNldFZpc2libGVJbnRlcm5hbChhKXtjb25zdCBiPWEhPT10aGlzLmlzVmlzaWJsZSgpO3RoaXMuaXNIYW5kbGVWaXNpYmxlPWE7YiYmdGhpcy51cGRhdGVEaXNwbGF5XygpfXVwZGF0ZURpc3BsYXlfKCl7dGhpcy5jb250YWluZXJWaXNpYmxlJiZ0aGlzLmlzVmlzaWJsZSgpP3RoaXMub3V0ZXJTdmcuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik6dGhpcy5vdXRlclN2Zy5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfW9uTW91c2VEb3duQmFyKGEpe3RoaXMud29ya3NwYWNlLm1hcmtGb2N1c2VkKCk7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO3RoaXMuY2xlYW5VcCgpO1xuaWYoaXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpKWEuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZXt2YXIgYj1tb3VzZVRvU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSx0aGlzLndvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKSx0aGlzLndvcmtzcGFjZS5nZXRJbnZlcnNlU2NyZWVuQ1RNKCkpO2I9dGhpcy5ob3Jpem9udGFsP2IueDpiLnk7dmFyIGM9Z2V0SW5qZWN0aW9uRGl2WFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCh0aGlzLnN2Z0hhbmRsZSk7Yz10aGlzLmhvcml6b250YWw/Yy54OmMueTt2YXIgZD10aGlzLmhhbmRsZVBvc2l0aW9uLGU9dGhpcy5oYW5kbGVMZW5ndGgqLjk1O2I8PWM/ZC09ZTpiPj1jK3RoaXMuaGFuZGxlTGVuZ3RoJiYoZCs9ZSk7dGhpcy5zZXRIYW5kbGVQb3NpdGlvbih0aGlzLmNvbnN0cmFpbkhhbmRsZVBvc2l0aW9uKGQpKTt0aGlzLnVwZGF0ZU1ldHJpY3MoKTtcbmEuc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfX1vbk1vdXNlRG93bkhhbmRsZShhKXt0aGlzLndvcmtzcGFjZS5tYXJrRm9jdXNlZCgpO3RoaXMuY2xlYW5VcCgpO2lzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKT9hLnN0b3BQcm9wYWdhdGlvbigpOih0aGlzLnN0YXJ0RHJhZ0hhbmRsZT10aGlzLmhhbmRsZVBvc2l0aW9uLHRoaXMuc3RhcnREcmFnTW91c2U9dGhpcy5ob3Jpem9udGFsP2EuY2xpZW50WDphLmNsaWVudFksdGhpcy5vbk1vdXNlVXBXcmFwcGVyXz1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJ1cFwiLHRoaXMsdGhpcy5vbk1vdXNlVXBIYW5kbGUpLHRoaXMub25Nb3VzZU1vdmVXcmFwcGVyXz1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJtb3ZlXCIsXG50aGlzLHRoaXMub25Nb3VzZU1vdmVIYW5kbGUpLGEuc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpKX1vbk1vdXNlTW92ZUhhbmRsZShhKXt0aGlzLnNldEhhbmRsZVBvc2l0aW9uKHRoaXMuY29uc3RyYWluSGFuZGxlUG9zaXRpb24odGhpcy5zdGFydERyYWdIYW5kbGUrKCh0aGlzLmhvcml6b250YWw/YS5jbGllbnRYOmEuY2xpZW50WSktdGhpcy5zdGFydERyYWdNb3VzZSkpKTt0aGlzLnVwZGF0ZU1ldHJpY3MoKX1vbk1vdXNlVXBIYW5kbGUoKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7dGhpcy5jbGVhblVwKCl9Y2xlYW5VcCgpe3RoaXMud29ya3NwYWNlLmhpZGVDaGFmZighMCk7dGhpcy5vbk1vdXNlVXBXcmFwcGVyXyYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25Nb3VzZVVwV3JhcHBlcl8pLHRoaXMub25Nb3VzZVVwV3JhcHBlcl89bnVsbCk7dGhpcy5vbk1vdXNlTW92ZVdyYXBwZXJfJiZcbih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLm9uTW91c2VNb3ZlV3JhcHBlcl8pLHRoaXMub25Nb3VzZU1vdmVXcmFwcGVyXz1udWxsKX1nZXRSYXRpb18oKXtsZXQgYT10aGlzLmhhbmRsZVBvc2l0aW9uLyh0aGlzLnNjcm9sbGJhckxlbmd0aC10aGlzLmhhbmRsZUxlbmd0aCk7aXNOYU4oYSkmJihhPTApO3JldHVybiBhfXVwZGF0ZU1ldHJpY3MoKXtjb25zdCBhPXRoaXMuZ2V0UmF0aW9fKCk7dGhpcy5ob3Jpem9udGFsP3RoaXMud29ya3NwYWNlLnNldE1ldHJpY3Moe3g6YX0pOnRoaXMud29ya3NwYWNlLnNldE1ldHJpY3Moe3k6YX0pfXNldChhLGIpe3RoaXMuc2V0SGFuZGxlUG9zaXRpb24odGhpcy5jb25zdHJhaW5IYW5kbGVQb3NpdGlvbihhKnRoaXMucmF0aW8pKTsoYnx8Yj09PXZvaWQgMCkmJnRoaXMudXBkYXRlTWV0cmljcygpfXNldE9yaWdpbihhLGIpe3RoaXMub3JpZ2luPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLFxuYil9c3RhdGljIG1ldHJpY3NBcmVFcXVpdmFsZW50KGEsYil7cmV0dXJuIGEudmlld1dpZHRoPT09Yi52aWV3V2lkdGgmJmEudmlld0hlaWdodD09PWIudmlld0hlaWdodCYmYS52aWV3TGVmdD09PWIudmlld0xlZnQmJmEudmlld1RvcD09PWIudmlld1RvcCYmYS5hYnNvbHV0ZVRvcD09PWIuYWJzb2x1dGVUb3AmJmEuYWJzb2x1dGVMZWZ0PT09Yi5hYnNvbHV0ZUxlZnQmJmEuc2Nyb2xsV2lkdGg9PT1iLnNjcm9sbFdpZHRoJiZhLnNjcm9sbEhlaWdodD09PWIuc2Nyb2xsSGVpZ2h0JiZhLnNjcm9sbExlZnQ9PT1iLnNjcm9sbExlZnQmJmEuc2Nyb2xsVG9wPT09Yi5zY3JvbGxUb3B9fTtTY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzPVRPVUNIX0VOQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaD8yNToxNTtcblNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5ERUZBVUxUX1NDUk9MTEJBUl9NQVJHSU49LjU7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhci5TY3JvbGxiYXI9U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyO3ZhciBkb21QYXJzZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw9e3BhcnNlRnJvbVN0cmluZzpmdW5jdGlvbigpe3Rocm93IEVycm9yKFwiRE9NUGFyc2VyIHdhcyBub3QgZm91bmQgaW4gdGhlIGdsb2JhbCBzY29wZSBhbmQgd2FzIG5vdCBwcm9wZXJseSBpbmplY3RlZCB1c2luZyBpbmplY3REZXBlbmRlbmNpZXNcIik7fX0seG1sU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD17c2VyaWFsaXplVG9TdHJpbmc6ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIlhNTFNlcmlhbGl6ZXIgd2FzIG5vdCBmb3VuZGluIHRoZSBnbG9iYWwgc2NvcGUgYW5kIHdhcyBub3QgcHJvcGVybHkgaW5qZWN0ZWQgdXNpbmcgaW5qZWN0RGVwZW5kZW5jaWVzXCIpO319LHtkb2N1bWVudDpkb2N1bWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCxET01QYXJzZXI6RE9NUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLFhNTFNlcmlhbGl6ZXI6WE1MU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbH09XG5nbG9iYWxUaGlzO0RPTVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCYmKGRvbVBhcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1uZXcgRE9NUGFyc2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKTtYTUxTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sJiYoeG1sU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1uZXcgWE1MU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCk7XG52YXIgTkFNRV9TUEFDRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD1cImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2Jsb2NrbHkveG1sXCIsSU5WQUxJRF9DT05UUk9MX0NIQVJTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sPS9bXFx4MDAtXFx4MDlcXHgwQlxceDBDXFx4MEUtXFx4MUZdL2csbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbD17TkFNRV9TUEFDRTpOQU1FX1NQQUNFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLmNyZWF0ZUVsZW1lbnQ9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwuY3JlYXRlVGV4dE5vZGU9JC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwuZG9tVG9UZXh0PWRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sLmluamVjdERlcGVuZGVuY2llcz1pbmplY3REZXBlbmRlbmNpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbC50ZXh0VG9Eb209JC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw7dmFyIENBVEVHT1JZX1RPT0xCT1hfS0lORCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9XCJjYXRlZ29yeVRvb2xib3hcIixGTFlPVVRfVE9PTEJPWF9LSU5EJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD1cImZseW91dFRvb2xib3hcIixQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7KGZ1bmN0aW9uKGEpe2FbYS5UT1A9MF09XCJUT1BcIjthW2EuQk9UVE9NPTFdPVwiQk9UVE9NXCI7YVthLkxFRlQ9Ml09XCJMRUZUXCI7YVthLlJJR0hUPTNdPVwiUklHSFRcIn0pKFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveHx8KFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD17fSkpO1xudmFyIFRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g9e2hhc0NhdGVnb3JpZXNJbnRlcm5hbDpoYXNDYXRlZ29yaWVzSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5Qb3NpdGlvbj1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVEVTVF9PTkxZPVRFU1RfT05MWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guY29udmVydEZseW91dERlZlRvSnNvbkFycmF5PWNvbnZlcnRGbHlvdXREZWZUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5jb252ZXJ0VG9vbGJveERlZlRvSnNvbj1jb252ZXJ0VG9vbGJveERlZlRvSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guaGFzQ2F0ZWdvcmllcz1oYXNDYXRlZ29yaWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5pc0NhdGVnb3J5Q29sbGFwc2libGU9aXNDYXRlZ29yeUNvbGxhcHNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5wYXJzZVRvb2xib3hUcmVlPXBhcnNlVG9vbGJveFRyZWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94O3ZhciB2ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7KGZ1bmN0aW9uKGEpe2FbYS5UT1A9MF09XCJUT1BcIjthW2EuQk9UVE9NPTFdPVwiQk9UVE9NXCJ9KSh2ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnN8fCh2ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM9e30pKTt2YXIgaG9yaXpvbnRhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7KGZ1bmN0aW9uKGEpe2FbYS5MRUZUPTBdPVwiTEVGVFwiO2FbYS5SSUdIVD0xXT1cIlJJR0hUXCJ9KShob3Jpem9udGFsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyc3x8KGhvcml6b250YWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzPXt9KSk7XG52YXIgYnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzOyhmdW5jdGlvbihhKXthW2EuVVA9MF09XCJVUFwiO2FbYS5ET1dOPTFdPVwiRE9XTlwifSkoYnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzfHwoYnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzPXt9KSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuYnVtcERpcmVjdGlvbj1idW1wRGlyZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLmJ1bXBQb3NpdGlvblJlY3Q9YnVtcFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLmdldENvcm5lck9wcG9zaXRlVG9vbGJveD1nZXRDb3JuZXJPcHBvc2l0ZVRvb2xib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuZ2V0U3RhcnRQb3NpdGlvblJlY3Q9Z2V0U3RhcnRQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuaG9yaXpvbnRhbFBvc2l0aW9uPWhvcml6b250YWxQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzO21vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy52ZXJ0aWNhbFBvc2l0aW9uPXZlcnRpY2FsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVyczt2YXIgU1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcz17d2lkdGg6OTYsaGVpZ2h0OjEyNCx1cmw6XCJzcHJpdGVzLnBuZ1wifSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcz17U1BSSVRFOlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXN9O3ZhciBab29tQ29udHJvbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR6b29tX2NvbnRyb2xzPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5pZD1cInpvb21Db250cm9sc1wiO3RoaXMuYm91bmRFdmVudHM9W107dGhpcy56b29tUmVzZXRHcm91cD10aGlzLnpvb21PdXRHcm91cD10aGlzLnpvb21Jbkdyb3VwPW51bGw7dGhpcy5IRUlHSFQ9dGhpcy5XSURUSD0zMjt0aGlzLlNNQUxMX1NQQUNJTkc9Mjt0aGlzLkxBUkdFX1NQQUNJTkc9MTE7dGhpcy5NQVJHSU5fSE9SSVpPTlRBTD10aGlzLk1BUkdJTl9WRVJUSUNBTD0yMDt0aGlzLnN2Z0dyb3VwPW51bGw7dGhpcy50b3A9dGhpcy5sZWZ0PTA7dGhpcy5pbml0aWFsaXplZD0hMX1jcmVhdGVEb20oKXt0aGlzLnN2Z0dyb3VwPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse30pO2NvbnN0IGE9U3RyaW5nKE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKTtcbnRoaXMuY3JlYXRlWm9vbU91dFN2ZyhhKTt0aGlzLmNyZWF0ZVpvb21JblN2ZyhhKTt0aGlzLndvcmtzcGFjZS5pc01vdmFibGUoKSYmdGhpcy5jcmVhdGVab29tUmVzZXRTdmcoYSk7cmV0dXJuIHRoaXMuc3ZnR3JvdXB9aW5pdCgpe3RoaXMud29ya3NwYWNlLmdldENvbXBvbmVudE1hbmFnZXIoKS5hZGRDb21wb25lbnQoe2NvbXBvbmVudDp0aGlzLHdlaWdodDpDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ29tcG9uZW50V2VpZ2h0LlpPT01fQ09OVFJPTFNfV0VJR0hULGNhcGFiaWxpdGllczpbQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuUE9TSVRJT05BQkxFXX0pO3RoaXMuaW5pdGlhbGl6ZWQ9ITB9ZGlzcG9zZSgpe3RoaXMud29ya3NwYWNlLmdldENvbXBvbmVudE1hbmFnZXIoKS5yZW1vdmVDb21wb25lbnQoXCJ6b29tQ29udHJvbHNcIik7dGhpcy5zdmdHcm91cCYmXG5yZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXApO2Zvcihjb25zdCBhIG9mIHRoaXMuYm91bmRFdmVudHMpdW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk7dGhpcy5ib3VuZEV2ZW50cy5sZW5ndGg9MH1nZXRCb3VuZGluZ1JlY3RhbmdsZSgpe2xldCBhPXRoaXMuU01BTExfU1BBQ0lORysyKnRoaXMuSEVJR0hUO3RoaXMuem9vbVJlc2V0R3JvdXAmJihhKz10aGlzLkxBUkdFX1NQQUNJTkcrdGhpcy5IRUlHSFQpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QodGhpcy50b3AsdGhpcy50b3ArYSx0aGlzLmxlZnQsdGhpcy5sZWZ0K3RoaXMuV0lEVEgpfXBvc2l0aW9uKGEsYil7aWYodGhpcy5pbml0aWFsaXplZCl7dmFyIGM9Z2V0Q29ybmVyT3Bwb3NpdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnModGhpcy53b3Jrc3BhY2UsXG5hKSxkPXRoaXMuU01BTExfU1BBQ0lORysyKnRoaXMuSEVJR0hUO3RoaXMuem9vbVJlc2V0R3JvdXAmJihkKz10aGlzLkxBUkdFX1NQQUNJTkcrdGhpcy5IRUlHSFQpO2E9Z2V0U3RhcnRQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycyhjLG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSh0aGlzLldJRFRILGQpLHRoaXMuTUFSR0lOX0hPUklaT05UQUwsdGhpcy5NQVJHSU5fVkVSVElDQUwsYSx0aGlzLndvcmtzcGFjZSk7Yz1jLnZlcnRpY2FsO2I9YnVtcFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzKGEsdGhpcy5NQVJHSU5fVkVSVElDQUwsYz09PXZlcnRpY2FsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5UT1A/YnVtcERpcmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzLkRPV046XG5idW1wRGlyZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuVVAsYik7aWYoYz09PXZlcnRpY2FsUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5UT1Ape3ZhciBlPXRoaXMuU01BTExfU1BBQ0lORyt0aGlzLkhFSUdIVCxmOyhmPXRoaXMuem9vbUluR3JvdXApPT1udWxsfHxmLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKDAsIFwiK2UrXCIpXCIpO3RoaXMuem9vbVJlc2V0R3JvdXAmJnRoaXMuem9vbVJlc2V0R3JvdXAuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCwgXCIrKGUrdGhpcy5MQVJHRV9TUEFDSU5HK3RoaXMuSEVJR0hUKStcIilcIil9ZWxzZXtmPXRoaXMuem9vbVJlc2V0R3JvdXA/dGhpcy5MQVJHRV9TUEFDSU5HK3RoaXMuSEVJR0hUOjA7bGV0IGg7KGg9dGhpcy56b29tSW5Hcm91cCk9PW51bGx8fGguc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCwgXCIrXG5mK1wiKVwiKTtmPWYrdGhpcy5TTUFMTF9TUEFDSU5HK3RoaXMuSEVJR0hUOyhlPXRoaXMuem9vbU91dEdyb3VwKT09bnVsbHx8ZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCBcIitmK1wiKVwiKX10aGlzLnRvcD1iLnRvcDt0aGlzLmxlZnQ9Yi5sZWZ0O3ZhciBnOyhnPXRoaXMuc3ZnR3JvdXApPT1udWxsfHxnLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK3RoaXMubGVmdCtcIixcIit0aGlzLnRvcCtcIilcIil9fWNyZWF0ZVpvb21PdXRTdmcoYSl7dGhpcy56b29tT3V0R3JvdXA9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7XCJjbGFzc1wiOlwiYmxvY2tseVpvb20gYmxvY2tseVpvb21PdXRcIn0sdGhpcy5zdmdHcm91cCk7Y29uc3QgYj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DTElQUEFUSCxcbntpZDpcImJsb2NrbHlab29tb3V0Q2xpcFBhdGhcIithfSx0aGlzLnpvb21PdXRHcm91cCk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7d2lkdGg6MzIsaGVpZ2h0OjMyfSxiKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSx7d2lkdGg6U1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy53aWR0aCxoZWlnaHQ6U1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy5oZWlnaHQseDotNjQseTotOTIsXCJjbGlwLXBhdGhcIjpcInVybCgjYmxvY2tseVpvb21vdXRDbGlwUGF0aFwiK2ErXCIpXCJ9LHRoaXMuem9vbU91dEdyb3VwKS5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIixcbnRoaXMud29ya3NwYWNlLm9wdGlvbnMucGF0aFRvTWVkaWErU1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy51cmwpO3RoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnpvb21PdXRHcm91cCxcInBvaW50ZXJkb3duXCIsbnVsbCx0aGlzLnpvb20uYmluZCh0aGlzLC0xKSkpfWNyZWF0ZVpvb21JblN2ZyhhKXt0aGlzLnpvb21Jbkdyb3VwPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse1wiY2xhc3NcIjpcImJsb2NrbHlab29tIGJsb2NrbHlab29tSW5cIn0sdGhpcy5zdmdHcm91cCk7Y29uc3QgYj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DTElQUEFUSCx7aWQ6XCJibG9ja2x5Wm9vbWluQ2xpcFBhdGhcIitcbmF9LHRoaXMuem9vbUluR3JvdXApO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse3dpZHRoOjMyLGhlaWdodDozMn0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use3dpZHRoOlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMud2lkdGgsaGVpZ2h0OlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMuaGVpZ2h0LHg6LTMyLHk6LTkyLFwiY2xpcC1wYXRoXCI6XCJ1cmwoI2Jsb2NrbHlab29taW5DbGlwUGF0aFwiK2ErXCIpXCJ9LHRoaXMuem9vbUluR3JvdXApLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLHRoaXMud29ya3NwYWNlLm9wdGlvbnMucGF0aFRvTWVkaWErXG5TUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLnVybCk7dGhpcy5ib3VuZEV2ZW50cy5wdXNoKGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuem9vbUluR3JvdXAsXCJwb2ludGVyZG93blwiLG51bGwsdGhpcy56b29tLmJpbmQodGhpcywxKSkpfXpvb20oYSxiKXt0aGlzLndvcmtzcGFjZS5tYXJrRm9jdXNlZCgpO3RoaXMud29ya3NwYWNlLnpvb21DZW50ZXIoYSk7dGhpcy5maXJlWm9vbUV2ZW50KCk7Y2xlYXJUb3VjaElkZW50aWZpZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCk7Yi5wcmV2ZW50RGVmYXVsdCgpfWNyZWF0ZVpvb21SZXNldFN2ZyhhKXt0aGlzLnpvb21SZXNldEdyb3VwPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse1wiY2xhc3NcIjpcImJsb2NrbHlab29tIGJsb2NrbHlab29tUmVzZXRcIn0sXG50aGlzLnN2Z0dyb3VwKTtjb25zdCBiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkNMSVBQQVRILHtpZDpcImJsb2NrbHlab29tcmVzZXRDbGlwUGF0aFwiK2F9LHRoaXMuem9vbVJlc2V0R3JvdXApO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse3dpZHRoOjMyLGhlaWdodDozMn0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use3dpZHRoOlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMud2lkdGgsaGVpZ2h0OlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMuaGVpZ2h0LHk6LTkyLFwiY2xpcC1wYXRoXCI6XCJ1cmwoI2Jsb2NrbHlab29tcmVzZXRDbGlwUGF0aFwiK1xuYStcIilcIn0sdGhpcy56b29tUmVzZXRHcm91cCkuc2V0QXR0cmlidXRlTlMoWExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bGluazpocmVmXCIsdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXRoVG9NZWRpYStTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLnVybCk7dGhpcy5ib3VuZEV2ZW50cy5wdXNoKGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuem9vbVJlc2V0R3JvdXAsXCJwb2ludGVyZG93blwiLG51bGwsdGhpcy5yZXNldFpvb20uYmluZCh0aGlzKSkpfXJlc2V0Wm9vbShhKXt0aGlzLndvcmtzcGFjZS5tYXJrRm9jdXNlZCgpO2NvbnN0IGI9TWF0aC5sb2codGhpcy53b3Jrc3BhY2Uub3B0aW9ucy56b29tT3B0aW9ucy5zdGFydFNjYWxlL3RoaXMud29ya3NwYWNlLnNjYWxlKS9NYXRoLmxvZyh0aGlzLndvcmtzcGFjZS5vcHRpb25zLnpvb21PcHRpb25zLnNjYWxlU3BlZWQpO1xudGhpcy53b3Jrc3BhY2UuYmVnaW5DYW52YXNUcmFuc2l0aW9uKCk7dGhpcy53b3Jrc3BhY2Uuem9vbUNlbnRlcihiKTt0aGlzLndvcmtzcGFjZS5zY3JvbGxDZW50ZXIoKTtzZXRUaW1lb3V0KHRoaXMud29ya3NwYWNlLmVuZENhbnZhc1RyYW5zaXRpb24uYmluZCh0aGlzLndvcmtzcGFjZSksNTAwKTt0aGlzLmZpcmVab29tRXZlbnQoKTtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9ZmlyZVpvb21FdmVudCgpe2NvbnN0IGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ0xJQ0spKShudWxsLHRoaXMud29ya3NwYWNlLmlkLFwiem9vbV9jb250cm9sc1wiKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoXCJcXG4uYmxvY2tseVpvb20+aW1hZ2UsIC5ibG9ja2x5Wm9vbT5zdmc+aW1hZ2Uge1xcbiAgb3BhY2l0eTogLjQ7XFxufVxcblxcbi5ibG9ja2x5Wm9vbT5pbWFnZTpob3ZlciwgLmJsb2NrbHlab29tPnN2Zz5pbWFnZTpob3ZlciB7XFxuICBvcGFjaXR5OiAuNjtcXG59XFxuXFxuLmJsb2NrbHlab29tPmltYWdlOmFjdGl2ZSwgLmJsb2NrbHlab29tPnN2Zz5pbWFnZTphY3RpdmUge1xcbiAgb3BhY2l0eTogLjg7XFxufVxcblwiKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkem9vbV9jb250cm9scz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkem9vbV9jb250cm9scy5ab29tQ29udHJvbHM9Wm9vbUNvbnRyb2xzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkem9vbV9jb250cm9sczt2YXIgVkFSSUFCTEVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzPTEwMCxQUk9DRURVUkVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzPTc1LEJMT0NLUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcz01MCxXT1JLU1BBQ0VfQ09NTUVOVFMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXM9MjUsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcz17QkxPQ0tTOkJMT0NLUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcyxQUk9DRURVUkVTOlBST0NFRFVSRVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXMsVkFSSUFCTEVTOlZBUklBQkxFUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJpb3JpdGllcyxcbldPUktTUEFDRV9DT01NRU5UUzpXT1JLU1BBQ0VfQ09NTUVOVFMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXN9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeS5yZWdpc3Rlcj1yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcmVnaXN0cnkudW5yZWdpc3Rlcj11bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeTt2YXIgc2F2ZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cz1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMsV29ya3NwYWNlQ29tbWVudFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucHJpb3JpdHk9V09SS1NQQUNFX0NPTU1FTlRTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzfXNhdmUoYSl7Y29uc3QgYj1bXTtmb3IoY29uc3QgYyBvZiBhLmdldFRvcENvbW1lbnRzKCkpKGE9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzKGMse2FkZENvb3JkaW5hdGVzOiEwLHNhdmVJZHM6ITB9KSkmJmIucHVzaChhKTtyZXR1cm4gYi5sZW5ndGg/YjpudWxsfWxvYWQoYSxcbmIpe2Zvcihjb25zdCBjIG9mIGEpYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMoYyxiLHtyZWNvcmRVbmRvOmdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX0pfWNsZWFyKGEpe2Zvcihjb25zdCBiIG9mIGEuZ2V0VG9wQ29tbWVudHMoKSliLmRpc3Bvc2UoKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeShcIndvcmtzcGFjZUNvbW1lbnRzXCIsbmV3IFdvcmtzcGFjZUNvbW1lbnRTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHM9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMuV29ya3NwYWNlQ29tbWVudFNlcmlhbGl6ZXI9V29ya3NwYWNlQ29tbWVudFNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMuYXBwZW5kPWFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cy5zYXZlPXNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50czt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCRyZWdpc3RyeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5LnJlZ2lzdGVyPXJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkcmVnaXN0cnkudW5yZWdpc3Rlcj11bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5O3ZhciBXb3Jrc3BhY2VDb21tZW50UGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHdvcmtzcGFjZV9jb21tZW50X3Bhc3Rlcj1jbGFzc3twYXN0ZShhLGIsYyl7YT1hLmNvbW1lbnRTdGF0ZTtjJiYoYS54PWMueCxhLnk9Yy55KTskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtsZXQgZDt0cnl7ZD1hcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cyhhLGIpLG1vdmVDb21tZW50VG9Ob3RDb25mbGljdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIoZCl9ZmluYWxseXskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfWlmKCFkKXJldHVybiBudWxsO2lzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiZmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ1JFQVRFKSkoZCkpO1xuJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGQpO3JldHVybiBkfX07V29ya3NwYWNlQ29tbWVudFBhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIuVFlQRT1cIndvcmtzcGFjZS1jb21tZW50XCI7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkcmVnaXN0cnkoV29ya3NwYWNlQ29tbWVudFBhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIuVFlQRSxuZXcgV29ya3NwYWNlQ29tbWVudFBhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHdvcmtzcGFjZV9jb21tZW50X3Bhc3Rlcj17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkd29ya3NwYWNlX2NvbW1lbnRfcGFzdGVyLldvcmtzcGFjZUNvbW1lbnRQYXN0ZXI9V29ya3NwYWNlQ29tbWVudFBhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXI7dmFyIERFRkFVTFRfU05BUF9SQURJVVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZztERUZBVUxUX1NOQVBfUkFESVVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnPTI4OyQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnPXtkcmFnUmFkaXVzOjUsZmx5b3V0RHJhZ1JhZGl1czoxMCxzbmFwUmFkaXVzOkRFRkFVTFRfU05BUF9SQURJVVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcsY29ubmVjdGluZ1NuYXBSYWRpdXM6REVGQVVMVF9TTkFQX1JBRElVUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZyxjdXJyZW50Q29ubmVjdGlvblByZWZlcmVuY2U6OCxidW1wRGVsYXk6MjUwfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnPXtjb25maWc6JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWd9O3ZhciBBUklBX1BSRUZJWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE9XCJhcmlhLVwiLFJPTEVfQVRUUklCVVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYT1cInJvbGVcIixSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYTtcbihmdW5jdGlvbihhKXthLkdSSUQ9XCJncmlkXCI7YS5HUklEQ0VMTD1cImdyaWRjZWxsXCI7YS5HUk9VUD1cImdyb3VwXCI7YS5MSVNUQk9YPVwibGlzdGJveFwiO2EuTUVOVT1cIm1lbnVcIjthLk1FTlVJVEVNPVwibWVudWl0ZW1cIjthLk1FTlVJVEVNQ0hFQ0tCT1g9XCJtZW51aXRlbWNoZWNrYm94XCI7YS5PUFRJT049XCJvcHRpb25cIjthLlBSRVNFTlRBVElPTj1cInByZXNlbnRhdGlvblwiO2EuUk9XPVwicm93XCI7YS5UUkVFPVwidHJlZVwiO2EuVFJFRUlURU09XCJ0cmVlaXRlbVwiO2EuU0VQQVJBVE9SPVwic2VwYXJhdG9yXCI7YS5TVEFUVVM9XCJzdGF0dXNcIn0pKFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhfHwoUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE9e30pKTt2YXIgU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhO1xuKGZ1bmN0aW9uKGEpe2EuQUNUSVZFREVTQ0VOREFOVD1cImFjdGl2ZWRlc2NlbmRhbnRcIjthLkNPTENPVU5UPVwiY29sY291bnRcIjthLkRJU0FCTEVEPVwiZGlzYWJsZWRcIjthLkVYUEFOREVEPVwiZXhwYW5kZWRcIjthLklOVkFMSUQ9XCJpbnZhbGlkXCI7YS5MQUJFTD1cImxhYmVsXCI7YS5MQUJFTExFREJZPVwibGFiZWxsZWRieVwiO2EuTEVWRUw9XCJsZXZlbFwiO2EuT1JJRU5UQVRJT049XCJvcmllbnRhdGlvblwiO2EuUE9TSU5TRVQ9XCJwb3NpbnNldFwiO2EuUk9XQ09VTlQ9XCJyb3djb3VudFwiO2EuU0VMRUNURUQ9XCJzZWxlY3RlZFwiO2EuU0VUU0laRT1cInNldHNpemVcIjthLlZBTFVFTUFYPVwidmFsdWVtYXhcIjthLlZBTFVFTUlOPVwidmFsdWVtaW5cIjthLkxJVkU9XCJsaXZlXCI7YS5ISURERU49XCJoaWRkZW5cIn0pKFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYXx8KFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYT17fSkpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlJvbGU9Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuU3RhdGU9U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLnNldFJvbGU9c2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWE7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuc2V0U3RhdGU9c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhO3ZhciBNZW51SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVpdGVtPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5jb250ZW50PWE7dGhpcy5vcHRfdmFsdWU9Yjt0aGlzLmVuYWJsZWQ9ITA7dGhpcy5lbGVtZW50PW51bGw7dGhpcy5yaWdodFRvTGVmdD0hMTt0aGlzLnJvbGVOYW1lPW51bGw7dGhpcy5oaWdobGlnaHQ9dGhpcy5jaGVja2VkPXRoaXMuY2hlY2thYmxlPSExO3RoaXMuYWN0aW9uSGFuZGxlcj1udWxsfWNyZWF0ZURvbSgpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmlkPWdldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCk7dGhpcy5lbGVtZW50PWE7YS5jbGFzc05hbWU9XCJibG9ja2x5TWVudUl0ZW0gXCIrKHRoaXMuZW5hYmxlZD9cIlwiOlwiYmxvY2tseU1lbnVJdGVtRGlzYWJsZWQgXCIpKyh0aGlzLmNoZWNrZWQ/XCJibG9ja2x5TWVudUl0ZW1TZWxlY3RlZCBcIjpcIlwiKSsodGhpcy5oaWdobGlnaHQ/XG5cImJsb2NrbHlNZW51SXRlbUhpZ2hsaWdodCBcIjpcIlwiKSsodGhpcy5yaWdodFRvTGVmdD9cImJsb2NrbHlNZW51SXRlbVJ0bCBcIjpcIlwiKTtjb25zdCBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yi5jbGFzc05hbWU9XCJibG9ja2x5TWVudUl0ZW1Db250ZW50XCI7aWYodGhpcy5jaGVja2FibGUpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5jbGFzc05hbWU9XCJibG9ja2x5TWVudUl0ZW1DaGVja2JveCBcIjtiLmFwcGVuZENoaWxkKGMpfWM9dGhpcy5jb250ZW50O3R5cGVvZiB0aGlzLmNvbnRlbnQ9PT1cInN0cmluZ1wiJiYoYz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmNvbnRlbnQpKTtiLmFwcGVuZENoaWxkKGMpO2EuYXBwZW5kQ2hpbGQoYik7dGhpcy5yb2xlTmFtZSYmc2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYSx0aGlzLnJvbGVOYW1lKTtzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYSxcblN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5TRUxFQ1RFRCx0aGlzLmNoZWNrYWJsZSYmdGhpcy5jaGVja2VkfHwhMSk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGEsU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkRJU0FCTEVELCF0aGlzLmVuYWJsZWQpO3JldHVybiBhfWRpc3Bvc2UoKXt0aGlzLmVsZW1lbnQ9bnVsbH1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWxlbWVudH1nZXRJZCgpe3JldHVybiB0aGlzLmVsZW1lbnQuaWR9Z2V0VmFsdWUoKXtsZXQgYTtyZXR1cm4oYT10aGlzLm9wdF92YWx1ZSkhPW51bGw/YTpudWxsfXNldFJpZ2h0VG9MZWZ0KGEpe3RoaXMucmlnaHRUb0xlZnQ9YX1zZXRSb2xlKGEpe3RoaXMucm9sZU5hbWU9YX1zZXRDaGVja2FibGUoYSl7dGhpcy5jaGVja2FibGU9YX1zZXRDaGVja2VkKGEpe3RoaXMuY2hlY2tlZD1hfXNldEhpZ2hsaWdodGVkKGEpe3RoaXMuaGlnaGxpZ2h0PVxuYTtjb25zdCBiPXRoaXMuZ2V0RWxlbWVudCgpO2ImJnRoaXMuaXNFbmFibGVkKCkmJihhP2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGIsXCJibG9ja2x5TWVudUl0ZW1IaWdobGlnaHRcIik6cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYixcImJsb2NrbHlNZW51SXRlbUhpZ2hsaWdodFwiKSl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH1zZXRFbmFibGVkKGEpe3RoaXMuZW5hYmxlZD1hfXBlcmZvcm1BY3Rpb24oYSl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5hY3Rpb25IYW5kbGVyJiZ0aGlzLmFjdGlvbkhhbmRsZXIodGhpcyxhKX1vbkFjdGlvbihhLGIpe3RoaXMuYWN0aW9uSGFuZGxlcj1hLmJpbmQoYil9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudWl0ZW09e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVpdGVtLk1lbnVJdGVtPU1lbnVJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudWl0ZW07dmFyIE1lbnUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5tZW51SXRlbXM9W107dGhpcy5yb2xlTmFtZT10aGlzLmVsZW1lbnQ9dGhpcy5vbktleURvd25IYW5kbGVyPXRoaXMucG9pbnRlckxlYXZlSGFuZGxlcj10aGlzLnBvaW50ZXJFbnRlckhhbmRsZXI9dGhpcy5jbGlja0hhbmRsZXI9dGhpcy5wb2ludGVyTW92ZUhhbmRsZXI9dGhpcy5oaWdobGlnaHRlZEl0ZW09dGhpcy5vcGVuaW5nQ29vcmRzPW51bGx9YWRkQ2hpbGQoYSl7dGhpcy5tZW51SXRlbXMucHVzaChhKX1yZW5kZXIoYSl7Y29uc3QgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2IuY2xhc3NOYW1lPVwiYmxvY2tseU1lbnVcIjtiLnRhYkluZGV4PTA7dGhpcy5yb2xlTmFtZSYmc2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYix0aGlzLnJvbGVOYW1lKTt0aGlzLmVsZW1lbnQ9Yjtmb3IobGV0IGM9MCxkO2Q9dGhpcy5tZW51SXRlbXNbY107YysrKWIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVEb20oKSk7XG50aGlzLnBvaW50ZXJNb3ZlSGFuZGxlcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFwicG9pbnRlcm1vdmVcIix0aGlzLHRoaXMuaGFuZGxlUG9pbnRlck1vdmUsITApO3RoaXMuY2xpY2tIYW5kbGVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGIsXCJwb2ludGVydXBcIix0aGlzLHRoaXMuaGFuZGxlQ2xpY2ssITApO3RoaXMucG9pbnRlckVudGVySGFuZGxlcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFwicG9pbnRlcmVudGVyXCIsdGhpcyx0aGlzLmhhbmRsZVBvaW50ZXJFbnRlciwhMCk7dGhpcy5wb2ludGVyTGVhdmVIYW5kbGVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGIsXCJwb2ludGVybGVhdmVcIix0aGlzLHRoaXMuaGFuZGxlUG9pbnRlckxlYXZlLCEwKTt0aGlzLm9uS2V5RG93bkhhbmRsZXI9XG5jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFwia2V5ZG93blwiLHRoaXMsdGhpcy5oYW5kbGVLZXlFdmVudCk7YS5hcHBlbmRDaGlsZChiKTtyZXR1cm4gYn1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWxlbWVudH1mb2N1cygpe2NvbnN0IGE9dGhpcy5nZXRFbGVtZW50KCk7YSYmYS5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pfWJsdXIoKXtjb25zdCBhPXRoaXMuZ2V0RWxlbWVudCgpO2EmJmEuYmx1cigpfXNldFJvbGUoYSl7dGhpcy5yb2xlTmFtZT1hfWRpc3Bvc2UoKXt0aGlzLnBvaW50ZXJNb3ZlSGFuZGxlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMucG9pbnRlck1vdmVIYW5kbGVyKSx0aGlzLnBvaW50ZXJNb3ZlSGFuZGxlcj1udWxsKTt0aGlzLmNsaWNrSGFuZGxlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuY2xpY2tIYW5kbGVyKSxcbnRoaXMuY2xpY2tIYW5kbGVyPW51bGwpO3RoaXMucG9pbnRlckVudGVySGFuZGxlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMucG9pbnRlckVudGVySGFuZGxlciksdGhpcy5wb2ludGVyRW50ZXJIYW5kbGVyPW51bGwpO3RoaXMucG9pbnRlckxlYXZlSGFuZGxlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMucG9pbnRlckxlYXZlSGFuZGxlciksdGhpcy5wb2ludGVyTGVhdmVIYW5kbGVyPW51bGwpO3RoaXMub25LZXlEb3duSGFuZGxlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25LZXlEb3duSGFuZGxlciksdGhpcy5vbktleURvd25IYW5kbGVyPW51bGwpO2ZvcihsZXQgYT0wLGI7Yj10aGlzLm1lbnVJdGVtc1thXTthKyspYi5kaXNwb3NlKCk7dGhpcy5lbGVtZW50PW51bGx9Z2V0TWVudUl0ZW0oYSl7Y29uc3QgYj10aGlzLmdldEVsZW1lbnQoKTtcbmZvcig7YSYmYSE9PWI7KXtpZihhLmNsYXNzTGlzdC5jb250YWlucyhcImJsb2NrbHlNZW51SXRlbVwiKSl7Y29uc3QgYz10aGlzLmdldE1lbnVJdGVtcygpO2ZvcihsZXQgZD0wLGU7ZT1jW2RdO2QrKylpZihlLmdldEVsZW1lbnQoKT09PWEpcmV0dXJuIGV9YT1hLnBhcmVudEVsZW1lbnR9cmV0dXJuIG51bGx9c2V0SGlnaGxpZ2h0ZWQoYSl7dmFyIGI9dGhpcy5oaWdobGlnaHRlZEl0ZW07YiYmKGIuc2V0SGlnaGxpZ2h0ZWQoITEpLHRoaXMuaGlnaGxpZ2h0ZWRJdGVtPW51bGwpO2lmKGEpe2Euc2V0SGlnaGxpZ2h0ZWQoITApO3RoaXMuaGlnaGxpZ2h0ZWRJdGVtPWE7Yj10aGlzLmdldEVsZW1lbnQoKTtjb25zdCBjPWEuZ2V0RWxlbWVudCgpO2ImJmMmJihzY3JvbGxJbnRvQ29udGFpbmVyVmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlKGMsYiksc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGIsU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkFDVElWRURFU0NFTkRBTlQsXG5hLmdldElkKCkpKX19aGlnaGxpZ2h0TmV4dCgpe2NvbnN0IGE9dGhpcy5oaWdobGlnaHRlZEl0ZW0/dGhpcy5tZW51SXRlbXMuaW5kZXhPZih0aGlzLmhpZ2hsaWdodGVkSXRlbSk6LTE7dGhpcy5oaWdobGlnaHRIZWxwZXIoYSwxKX1oaWdobGlnaHRQcmV2aW91cygpe2NvbnN0IGE9dGhpcy5oaWdobGlnaHRlZEl0ZW0/dGhpcy5tZW51SXRlbXMuaW5kZXhPZih0aGlzLmhpZ2hsaWdodGVkSXRlbSk6LTE7dGhpcy5oaWdobGlnaHRIZWxwZXIoYTwwP3RoaXMubWVudUl0ZW1zLmxlbmd0aDphLC0xKX1oaWdobGlnaHRGaXJzdCgpe3RoaXMuaGlnaGxpZ2h0SGVscGVyKC0xLDEpfWhpZ2hsaWdodExhc3QoKXt0aGlzLmhpZ2hsaWdodEhlbHBlcih0aGlzLm1lbnVJdGVtcy5sZW5ndGgsLTEpfWhpZ2hsaWdodEhlbHBlcihhLGIpe2ErPWI7bGV0IGM7Y29uc3QgZD10aGlzLmdldE1lbnVJdGVtcygpO2Zvcig7Yz1kW2FdOyl7aWYoYy5pc0VuYWJsZWQoKSl7dGhpcy5zZXRIaWdobGlnaHRlZChjKTtcbmJyZWFrfWErPWJ9fWhhbmRsZVBvaW50ZXJNb3ZlKGEpe01hdGgubWF4KE1hdGguYWJzKGEubW92ZW1lbnRYKSxNYXRoLmFicyhhLm1vdmVtZW50WSkpIT09MCYmKGE9dGhpcy5nZXRNZW51SXRlbShhLnRhcmdldCkpJiYoYS5pc0VuYWJsZWQoKT90aGlzLmhpZ2hsaWdodGVkSXRlbSE9PWEmJnRoaXMuc2V0SGlnaGxpZ2h0ZWQoYSk6dGhpcy5zZXRIaWdobGlnaHRlZChudWxsKSl9aGFuZGxlQ2xpY2soYSl7dmFyIGI9dGhpcy5vcGVuaW5nQ29vcmRzO3RoaXMub3BlbmluZ0Nvb3Jkcz1udWxsO2lmKGImJnR5cGVvZiBhLmNsaWVudFg9PT1cIm51bWJlclwiKXtjb25zdCBjPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTtpZihDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaXN0YW5jZShiLGMpPDEpcmV0dXJufShiPXRoaXMuZ2V0TWVudUl0ZW0oYS50YXJnZXQpKSYmXG5iLnBlcmZvcm1BY3Rpb24oYSl9aGFuZGxlUG9pbnRlckVudGVyKGEpe3RoaXMuZm9jdXMoKX1oYW5kbGVQb2ludGVyTGVhdmUoYSl7dGhpcy5nZXRFbGVtZW50KCkmJnRoaXMuc2V0SGlnaGxpZ2h0ZWQobnVsbCl9aGFuZGxlS2V5RXZlbnQoYSl7aWYodGhpcy5tZW51SXRlbXMubGVuZ3RoJiYhKGEuc2hpZnRLZXl8fGEuY3RybEtleXx8YS5tZXRhS2V5fHxhLmFsdEtleSkpe3ZhciBiPXRoaXMuaGlnaGxpZ2h0ZWRJdGVtO3N3aXRjaChhLmtleSl7Y2FzZSBcIkVudGVyXCI6Y2FzZSBcIiBcIjpiJiZiLnBlcmZvcm1BY3Rpb24oYSk7YnJlYWs7Y2FzZSBcIkFycm93VXBcIjp0aGlzLmhpZ2hsaWdodFByZXZpb3VzKCk7YnJlYWs7Y2FzZSBcIkFycm93RG93blwiOnRoaXMuaGlnaGxpZ2h0TmV4dCgpO2JyZWFrO2Nhc2UgXCJQYWdlVXBcIjpjYXNlIFwiSG9tZVwiOnRoaXMuaGlnaGxpZ2h0Rmlyc3QoKTticmVhaztjYXNlIFwiUGFnZURvd25cIjpjYXNlIFwiRW5kXCI6dGhpcy5oaWdobGlnaHRMYXN0KCk7YnJlYWs7XG5kZWZhdWx0OnJldHVybn1hLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX19Z2V0U2l6ZSgpe2NvbnN0IGE9dGhpcy5nZXRFbGVtZW50KCksYj1nZXRTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYSk7Yi5oZWlnaHQ9YS5zY3JvbGxIZWlnaHQ7cmV0dXJuIGJ9Z2V0TWVudUl0ZW1zKCl7cmV0dXJuIHRoaXMubWVudUl0ZW1zLmZpbHRlcihhPT5hIGluc3RhbmNlb2YgTWVudUl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51aXRlbSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudS5NZW51PU1lbnUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51O3ZhciBNZW51U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudV9zZXBhcmF0b3I9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmVsZW1lbnQ9bnVsbH1jcmVhdGVEb20oKXt0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO3RoaXMuZWxlbWVudC5jbGFzc05hbWU9XCJibG9ja2x5TWVudVNlcGFyYXRvclwiO3NldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuZWxlbWVudCxSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5TRVBBUkFUT1IpO3JldHVybiB0aGlzLmVsZW1lbnR9ZGlzcG9zZSgpe2xldCBhOyhhPXRoaXMuZWxlbWVudCk9PW51bGx8fGEucmVtb3ZlKCk7dGhpcy5lbGVtZW50PW51bGx9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudV9zZXBhcmF0b3I9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVfc2VwYXJhdG9yLk1lbnVTZXBhcmF0b3I9TWVudVNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVfc2VwYXJhdG9yO3ZhciBDT0xMQVBTRURfSU5QVVRfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cz1cIl9URU1QX0NPTExBUFNFRF9JTlBVVFwiLENPTExBUFNFRF9GSUVMRF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzPVwiX1RFTVBfQ09MTEFQU0VEX0ZJRUxEXCIsTUFOVUFMTFlfRElTQUJMRUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHM9XCJNQU5VQUxMWV9ESVNBQkxFRFwiLG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHM9e0NPTExBUFNFRF9GSUVMRF9OQU1FOkNPTExBUFNFRF9GSUVMRF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzLENPTExBUFNFRF9JTlBVVF9OQU1FOkNPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzLE1BTlVBTExZX0RJU0FCTEVEOk1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzfTsoZnVuY3Rpb24oYSl7YVthLlZBTFVFPTFdPVwiVkFMVUVcIjthW2EuU1RBVEVNRU5UPTNdPVwiU1RBVEVNRU5UXCI7YVthLkRVTU1ZPTVdPVwiRFVNTVlcIjthW2EuQ1VTVE9NPTZdPVwiQ1VTVE9NXCI7YVthLkVORF9ST1c9N109XCJFTkRfUk9XXCJ9KSgkLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXN8fCgkLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXM9e30pKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLmlucHV0VHlwZXM9JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZS5pc1NlcmlhbGl6YWJsZT1pc1NlcmlhbGl6YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZXJpYWxpemFibGU7dmFyIHJvb3RCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1uZXcgU2V0LGRpcnR5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9bmV3IFdlYWtTZXQsZXZlbnRHcm91cHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudD1uZXcgV2Vha01hcCxhZnRlclJlbmRlcnNQcm9taXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9bnVsbCxhZnRlclJlbmRlcnNSZXNvbHZlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50PW51bGwsYW5pbWF0aW9uUmVxdWVzdElkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9MCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LmZpbmlzaFF1ZXVlZFJlbmRlcnM9ZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LnF1ZXVlUmVuZGVyPXF1ZXVlUmVuZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50LnRyaWdnZXJRdWV1ZWRSZW5kZXJzPXRyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ7dmFyIHNldExvY2FsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZyxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnOyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnPU9iamVjdC5jcmVhdGUobnVsbCk7c2V0TG9jYWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2dbYl09YVtiXX0pfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnPXtNc2c6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2csc2V0TG9jYWxlOnNldExvY2FsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZ307dmFyIENMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdD1cImJsb2NrbHlUb2FzdFwiLE1FU1NBR0VfQ0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0PVwiYmxvY2tseVRvYXN0TWVzc2FnZVwiLENMT1NFX0JVVFRPTl9DTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q9XCJibG9ja2x5VG9hc3RDbG9zZUJ1dHRvblwiLFRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q9Y2xhc3N7c3RhdGljIHNob3coYSxiKXtpZihiLm9uY2VQZXJTZXNzaW9uJiZiLmlkKXtpZih0aGlzLnNob3duSWRzLmhhcyhiLmlkKSlyZXR1cm47dGhpcy5zaG93bklkcy5hZGQoYi5pZCl9dGhpcy5oaWRlKGEpO2NvbnN0IGM9dGhpcy5jcmVhdGVEb20oYSxiKTtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntjLnN0eWxlLmJvdHRvbT1cIjJyZW1cIn0pfXN0YXRpYyBjcmVhdGVEb20oYSxiKXtjb25zdCB7bWVzc2FnZTpjLGR1cmF0aW9uOmQ9NSxhc3NlcnRpdmVuZXNzOmU9XG5Ub2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0LkFzc2VydGl2ZW5lc3MuUE9MSVRFfT1iLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmdldEluamVjdGlvbkRpdigpLmFwcGVuZENoaWxkKGYpO2YuZGF0YXNldC50b2FzdElkPWIuaWQ7Zi5jbGFzc05hbWU9Q0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0O3NldFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGYsUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuU1RBVFVTKTtzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoZixTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuTElWRSxlKTtiPWYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7Yi5jbGFzc05hbWU9TUVTU0FHRV9DTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q7Yi5pbm5lclRleHQ9XG5jO2I9Zi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpKTtiLmNsYXNzTmFtZT1DTE9TRV9CVVRUT05fQ0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0O3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShiLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5MQUJFTCwkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DTE9TRSk7dmFyIGc9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuU1ZHLHt3aWR0aDoyNCxoZWlnaHQ6MjQsdmlld0JveDpcIjAgMCAyNCAyNFwiLGZpbGw6XCJub25lXCJ9LGIpO3NldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShnLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5ISURERU4sITApO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1QsXG57eDoxOS43NzgyLHk6Mi44MDc2Mix3aWR0aDoyLGhlaWdodDoyNCx0cmFuc2Zvcm06XCJyb3RhdGUoNDUsIDE5Ljc3ODIsIDIuODA3NjIpXCIsZmlsbDpcImJsYWNrXCJ9LGcpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse3g6Mi44MDc2Mix5OjQuMjIxODMsd2lkdGg6MixoZWlnaHQ6MjQsdHJhbnNmb3JtOlwicm90YXRlKC00NSwgMi44MDc2MiwgNC4yMjE4MylcIixmaWxsOlwiYmxhY2tcIn0sZyk7Yi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKT0+e2YucmVtb3ZlKCk7YS5tYXJrRm9jdXNlZCgpfSk7bGV0IGg7Yj0oKT0+e2g9c2V0VGltZW91dCgoKT0+Zi5yZW1vdmUoKSxkKjFFMyl9O2c9KCk9PmNsZWFyVGltZW91dChoKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsZyk7Zi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIixiKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsXG5nKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixnKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsYik7YigpO3JldHVybiBmfXN0YXRpYyBoaWRlKGEsYil7YT1hLmdldEluamVjdGlvbkRpdigpLnF1ZXJ5U2VsZWN0b3IoYC4ke0NMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdH1gKTthIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJighYnx8Yj09PWEuZGF0YXNldC50b2FzdElkKSYmYS5yZW1vdmUoKX19O1RvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Quc2hvd25JZHM9bmV3IFNldDsoZnVuY3Rpb24oYSl7YT1hLkFzc2VydGl2ZW5lc3N8fChhLkFzc2VydGl2ZW5lc3M9e30pO2EuQVNTRVJUSVZFPVwiYXNzZXJ0aXZlXCI7YS5QT0xJVEU9XCJwb2xpdGVcIn0pKFRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3R8fChUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0PXt9KSk7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoYFxuLiR7Q0xBU1NfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0fSB7XG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogLTEwcmVtO1xuICByaWdodDogMnJlbTtcbiAgcGFkZGluZzogMXJlbTtcbiAgY29sb3I6IGJsYWNrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XG4gIGJvcmRlci1yYWRpdXM6IDAuNHJlbTtcbiAgei1pbmRleDogOTk5O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDAuOHJlbTtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgdHJhbnNpdGlvbjogYm90dG9tIDAuM3MgZWFzZS1vdXQ7XG59XG5cbi4ke0NMQVNTX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdH0gLiR7TUVTU0FHRV9DTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3R9IHtcbiAgbWF4V2lkdGg6IDE4cmVtO1xufVxuXG4uJHtDTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3R9IC4ke0NMT1NFX0JVVFRPTl9DTEFTU19OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3R9IHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwLjJyZW07XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogYmxhY2s7XG4gIGJvcmRlcjogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuYCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3QuVG9hc3Q9VG9hc3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b2FzdDt2YXIgZGVmYXVsdEFsZXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWZ1bmN0aW9uKGEsYil7d2luZG93LmFsZXJ0KGEpO2ImJmIoKX0sYWxlcnRJbXBsZW1lbnRhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1kZWZhdWx0QWxlcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2csZGVmYXVsdENvbmZpcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYSxiKXtiKHdpbmRvdy5jb25maXJtKGEpKX0sY29uZmlybUltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWRlZmF1bHRDb25maXJtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLGRlZmF1bHRQcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZnVuY3Rpb24oYSxiLGMpe2Mod2luZG93LnByb21wdChhLGIpKX0scHJvbXB0SW1wbGVtZW50YXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c9ZGVmYXVsdFByb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxcbmRlZmF1bHRUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZz1Ub2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0LnNob3cuYmluZChUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvYXN0KSx0b2FzdEltcGxlbWVudGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPWRlZmF1bHRUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZyxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2cuYWxlcnQ9YWxlcnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy5jb25maXJtPWNvbmZpcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy5wcm9tcHQ9cHJvbXB0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy5zZXRBbGVydD1zZXRBbGVydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLnNldENvbmZpcm09c2V0Q29uZmlybSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLnNldFByb21wdD1zZXRQcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZy5zZXRUb2FzdD1zZXRUb2FzdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRpYWxvZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nLnRvYXN0PXRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGlhbG9nO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2xlZ2FjeV9wcm9jZWR1cmVfYmxvY2tzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3MuaXNMZWdhY3lQcm9jZWR1cmVDYWxsQmxvY2s9aXNMZWdhY3lQcm9jZWR1cmVDYWxsQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3M7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9sZWdhY3lfcHJvY2VkdXJlX2Jsb2Nrcy5pc0xlZ2FjeVByb2NlZHVyZURlZkJsb2NrPWlzTGVnYWN5UHJvY2VkdXJlRGVmQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbGVnYWN5X3Byb2NlZHVyZV9ibG9ja3M7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdmFyaWFibGVfYmFja2VkX3BhcmFtZXRlcl9tb2RlbD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX2JhY2tlZF9wYXJhbWV0ZXJfbW9kZWwuaXNWYXJpYWJsZUJhY2tlZFBhcmFtZXRlck1vZGVsPWlzVmFyaWFibGVCYWNrZWRQYXJhbWV0ZXJNb2RlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV92YXJpYWJsZV9iYWNrZWRfcGFyYW1ldGVyX21vZGVsO3ZhciBwcmV2aW91c1dhcm5pbmdzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb249bmV3IFNldCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uLndhcm49d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uO3ZhciBDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPVwiVkFSSUFCTEVcIixWQVJfTEVUVEVSX09QVElPTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM9XCJpamttbm9wcXJzdHV2d3h5emFiY2RlZmdoXCIsVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzPXtnZW5lcmF0ZVVuaXF1ZU5hbWVJbnRlcm5hbDpnZW5lcmF0ZVVuaXF1ZU5hbWVJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc30sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcz17Q0FURUdPUllfTkFNRTpDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLFRFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMsVkFSX0xFVFRFUl9PUFRJT05TOlZBUl9MRVRURVJfT1BUSU9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmFsbERldmVsb3BlclZhcmlhYmxlcz0kLmFsbERldmVsb3BlclZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmFsbFVzZWRWYXJNb2RlbHM9JC5hbGxVc2VkVmFyTW9kZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuY29tcGFyZUJ5TmFtZT1jb21wYXJlQnlOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuY3JlYXRlVmFyaWFibGVCdXR0b25IYW5kbGVyPWNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmRlbGV0ZVZhcmlhYmxlPSQuZGVsZXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmZseW91dENhdGVnb3J5PWZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZmx5b3V0Q2F0ZWdvcnlCbG9ja3M9Zmx5b3V0Q2F0ZWdvcnlCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5nZW5lcmF0ZVVuaXF1ZU5hbWU9Z2VuZXJhdGVVbmlxdWVOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZ2VuZXJhdGVVbmlxdWVOYW1lRnJvbU9wdGlvbnM9Z2VuZXJhdGVVbmlxdWVOYW1lRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb209Z2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5nZXRBZGRlZFZhcmlhYmxlcz1nZXRBZGRlZFZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlPSQuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5nZXRWYXJpYWJsZT0kLmdldFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuZ2V0VmFyaWFibGVVc2VzQnlJZD1nZXRWYXJpYWJsZVVzZXNCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMuaW50ZXJuYWxGbHlvdXRDYXRlZ29yeT1pbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcy5qc29uRmx5b3V0Q2F0ZWdvcnlCbG9ja3M9anNvbkZseW91dENhdGVnb3J5QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMubmFtZVVzZWRXaXRoQW55VHlwZT1uYW1lVXNlZFdpdGhBbnlUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMubmFtZVVzZWRXaXRoQ29uZmxpY3RpbmdQYXJhbT1uYW1lVXNlZFdpdGhDb25mbGljdGluZ1BhcmFtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMucHJvbXB0TmFtZT1wcm9tcHROYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMucmVuYW1lVmFyaWFibGU9JC5yZW5hbWVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlczt2YXIgRGVzZXJpYWxpemF0aW9uRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM9Y2xhc3MgZXh0ZW5kcyBFcnJvcnt9LE1pc3NpbmdCbG9ja1R5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM9Y2xhc3MgZXh0ZW5kcyBEZXNlcmlhbGl6YXRpb25FcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9uc3tjb25zdHJ1Y3RvcihhKXtzdXBlcihcIkV4cGVjdGVkIHRvIGZpbmQgYSAndHlwZScgcHJvcGVydHksIGRlZmluaW5nIHRoZSBibG9jayB0eXBlXCIpO3RoaXMuc3RhdGU9YX19LE1pc3NpbmdDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zPWNsYXNzIGV4dGVuZHMgRGVzZXJpYWxpemF0aW9uRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnN7Y29uc3RydWN0b3IoYSxcbmIsYyl7c3VwZXIoYFRoZSBibG9jayAke2IudG9EZXZTdHJpbmcoKX0gaXMgbWlzc2luZyBhKG4pICR7YX1cbmNvbm5lY3Rpb25gKTt0aGlzLmJsb2NrPWI7dGhpcy5zdGF0ZT1jfX0sQmFkQ29ubmVjdGlvbkNoZWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zPWNsYXNzIGV4dGVuZHMgRGVzZXJpYWxpemF0aW9uRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnN7Y29uc3RydWN0b3IoYSxiLGMsZCl7c3VwZXIoYFRoZSBibG9jayAke2MudG9EZXZTdHJpbmcoKX0gY291bGQgbm90IGNvbm5lY3QgaXRzXG4ke2J9IHRvIGl0cyBwYXJlbnQsIGJlY2F1c2U6ICR7YX1gKTt0aGlzLmNoaWxkQmxvY2s9Yzt0aGlzLmNoaWxkU3RhdGU9ZH19LFJlYWxDaGlsZE9mU2hhZG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zPWNsYXNzIGV4dGVuZHMgRGVzZXJpYWxpemF0aW9uRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnN7Y29uc3RydWN0b3IoYSl7c3VwZXIoXCJFbmNvdW50ZXJlZCBhIHJlYWwgYmxvY2sgd2hpY2ggaXMgZGVmaW5lZCBhcyBhIGNoaWxkIG9mIGEgc2hhZG93XFxuYmxvY2suIEl0IGlzIGFuIGludmFyaWFudCBvZiBCbG9ja2x5IHRoYXQgc2hhZG93IGJsb2NrcyBvbmx5IGhhdmUgc2hhZG93XFxuY2hpbGRyZW5cIik7dGhpcy5zdGF0ZT1hfX0sVW5yZWdpc3RlcmVkSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucz1jbGFzcyBleHRlbmRzIERlc2VyaWFsaXphdGlvbkVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25ze2NvbnN0cnVjdG9yKGEsXG5iLGMpe3N1cGVyKGBDYW5ub3QgYWRkIGFuIGljb24gb2YgdHlwZSAnJHthfScgdG8gdGhlIGJsb2NrIGArYCR7Yi50b0RldlN0cmluZygpfSwgYmVjYXVzZSB0aGVyZSBpcyBubyBpY29uIHJlZ2lzdGVyZWQgd2l0aCBgK2B0eXBlICcke2F9Jy4gTWFrZSBzdXJlIHRoYXQgYWxsIG9mIHlvdXIgaWNvbnMgaGF2ZSBiZWVuIGArXCJyZWdpc3RlcmVkLlwiKTt0aGlzLmJsb2NrPWI7dGhpcy5zdGF0ZT1jfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zLkJhZENvbm5lY3Rpb25DaGVjaz1CYWRDb25uZWN0aW9uQ2hlY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucy5EZXNlcmlhbGl6YXRpb25FcnJvcj1EZXNlcmlhbGl6YXRpb25FcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMuTWlzc2luZ0Jsb2NrVHlwZT1NaXNzaW5nQmxvY2tUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMuTWlzc2luZ0Nvbm5lY3Rpb249TWlzc2luZ0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9ucy5SZWFsQ2hpbGRPZlNoYWRvdz1SZWFsQ2hpbGRPZlNoYWRvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRleGNlcHRpb25zLlVucmVnaXN0ZXJlZEljb249VW5yZWdpc3RlcmVkSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kZXhjZXB0aW9uczt2YXIgc2F2ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M9c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzLEJsb2NrU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5wcmlvcml0eT1CTE9DS1MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXN9c2F2ZShhKXtjb25zdCBiPVtdO2Zvcihjb25zdCBjIG9mIGEuZ2V0VG9wQmxvY2tzKCExKSkoYT1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYyx7YWRkQ29vcmRpbmF0ZXM6ITAsZG9GdWxsU2VyaWFsaXphdGlvbjohMX0pKSYmYi5wdXNoKGEpO3JldHVybiBiLmxlbmd0aD97bGFuZ3VhZ2VWZXJzaW9uOjAsYmxvY2tzOmJ9Om51bGx9bG9hZChhLGIpe2E9YS5ibG9ja3M7Zm9yKGNvbnN0IGMgb2YgYSlhcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhjLFxuYix7cmVjb3JkVW5kbzpnZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9KX1jbGVhcihhKXtmb3IoY29uc3QgYiBvZiBhLmdldFRvcEJsb2NrcyghMSkpYi5kaXNwb3NlKCExKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeShcImJsb2Nrc1wiLG5ldyBCbG9ja1NlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MuQmxvY2tTZXJpYWxpemVyPUJsb2NrU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcy5hcHBlbmQ9YXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MuYXBwZW5kSW50ZXJuYWw9YXBwZW5kSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3Muc2F2ZT1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3M7dmFyIEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcz1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLm5hbWU9YX10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9ZXF1YWxzKGEpe3JldHVybiB0aGlzLm5hbWU9PT1hLnRvU3RyaW5nKCl9fTtJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuTVVUQVRPUj1uZXcgSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzKFwibXV0YXRvclwiKTtJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuV0FSTklORz1uZXcgSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzKFwid2FybmluZ1wiKTtJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuQ09NTUVOVD1uZXcgSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzKFwiY29tbWVudFwiKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5JY29uVHlwZT1JY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaGFzX2J1YmJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGUuaGFzQnViYmxlPWhhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlO3ZhciBCbG9ja0Jhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2U9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYWJzdHJhY3R7Y29uc3RydWN0b3IoYSl7c3VwZXIoKTt0aGlzLmlzQmxhbms9IWE7YSYmKHRoaXMuYmxvY2tJZD1hLmlkLHRoaXMud29ya3NwYWNlSWQ9YS53b3Jrc3BhY2UuaWQpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYoIXRoaXMuYmxvY2tJZCl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2EuYmxvY2tJZD10aGlzLmJsb2NrSWQ7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IEJsb2NrQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfYmFzZSk7XG5iLmJsb2NrSWQ9YS5ibG9ja0lkO3JldHVybiBifX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfYmFzZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNlLkJsb2NrQmFzZT1CbG9ja0Jhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2U7dmFyIEJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2U9Y2xhc3MgZXh0ZW5kcyBCbG9ja0Jhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMsZCxlKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFO2EmJih0aGlzLmVsZW1lbnQ9Yix0aGlzLm5hbWU9Y3x8dm9pZCAwLHRoaXMub2xkVmFsdWU9ZCx0aGlzLm5ld1ZhbHVlPWUpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYoIXRoaXMuZWxlbWVudCl0aHJvdyBFcnJvcihcIlRoZSBjaGFuZ2VkIGVsZW1lbnQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhbiBlbGVtZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLmVsZW1lbnQ9dGhpcy5lbGVtZW50O2EubmFtZT10aGlzLm5hbWU7XG5hLm9sZFZhbHVlPXRoaXMub2xkVmFsdWU7YS5uZXdWYWx1ZT10aGlzLm5ld1ZhbHVlO3RoaXMuZGlzYWJsZWRSZWFzb24mJihhLmRpc2FibGVkUmVhc29uPXRoaXMuZGlzYWJsZWRSZWFzb24pO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBCbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlKTtiLmVsZW1lbnQ9YS5lbGVtZW50O2IubmFtZT1hLm5hbWU7Yi5vbGRWYWx1ZT1hLm9sZFZhbHVlO2IubmV3VmFsdWU9YS5uZXdWYWx1ZTthLmRpc2FibGVkUmVhc29uIT09dm9pZCAwJiYoYi5kaXNhYmxlZFJlYXNvbj1hLmRpc2FibGVkUmVhc29uKTtyZXR1cm4gYn1zZXREaXNhYmxlZFJlYXNvbihhKXtpZih0aGlzLmVsZW1lbnQhPT1cImRpc2FibGVkXCIpdGhyb3cgRXJyb3IoJ0Nhbm5vdCBzZXQgdGhlIGRpc2FibGVkIHJlYXNvbiBmb3IgYSBCbG9ja0NoYW5nZSBldmVudCBpZiB0aGUgZWxlbWVudCBpcyBub3QgXCJkaXNhYmxlZFwiLicpO1xudGhpcy5kaXNhYmxlZFJlYXNvbj1hfWlzTnVsbCgpe3JldHVybiB0aGlzLm9sZFZhbHVlPT09dGhpcy5uZXdWYWx1ZX1ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5ibG9ja0lkKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7Yj1iLmdldEJsb2NrQnlJZCh0aGlzLmJsb2NrSWQpO2lmKCFiKXRocm93IEVycm9yKFwiVGhlIGFzc29jaWF0ZWQgYmxvY2sgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtjb25zdCBjPWIuZ2V0SWNvbihJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuTVVUQVRPUik7YyYmaGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGUoYykmJlxuYy5idWJibGVJc1Zpc2libGUoKSYmYy5zZXRCdWJibGVWaXNpYmxlKCExKTthPWE/dGhpcy5uZXdWYWx1ZTp0aGlzLm9sZFZhbHVlO3N3aXRjaCh0aGlzLmVsZW1lbnQpe2Nhc2UgXCJmaWVsZFwiOihiPWIuZ2V0RmllbGQodGhpcy5uYW1lKSk/Yi5zZXRWYWx1ZShhKTpjb25zb2xlLndhcm4oXCJDYW4ndCBzZXQgbm9uLWV4aXN0ZW50IGZpZWxkOiBcIit0aGlzLm5hbWUpO2JyZWFrO2Nhc2UgXCJjb21tZW50XCI6Yi5zZXRDb21tZW50VGV4dChhfHxudWxsKTticmVhaztjYXNlIFwiY29sbGFwc2VkXCI6Yi5zZXRDb2xsYXBzZWQoISFhKTticmVhaztjYXNlIFwiZGlzYWJsZWRcIjp2YXIgZDtiLnNldERpc2FibGVkUmVhc29uKCEhYSwoZD10aGlzLmRpc2FibGVkUmVhc29uKSE9bnVsbD9kOk1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKTticmVhaztjYXNlIFwiaW5saW5lXCI6Yi5zZXRJbnB1dHNJbmxpbmUoISFhKTticmVhaztjYXNlIFwibXV0YXRpb25cIjpkPUJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2UuZ2V0RXh0cmFCbG9ja1N0YXRlXyhiKTtcbmIubG9hZEV4dHJhU3RhdGU/Yi5sb2FkRXh0cmFTdGF0ZShKU09OLnBhcnNlKGF8fFwie31cIikpOmIuZG9tVG9NdXRhdGlvbiYmYi5kb21Ub011dGF0aW9uKCQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGF8fFwiPG11dGF0aW9uLz5cIikpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IEJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2UoYixcIm11dGF0aW9uXCIsbnVsbCxkLGEpKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybihcIlVua25vd24gY2hhbmdlIHR5cGU6IFwiK3RoaXMuZWxlbWVudCl9fXN0YXRpYyBnZXRFeHRyYUJsb2NrU3RhdGVfKGEpe3JldHVybiBhLnNhdmVFeHRyYVN0YXRlPyhhPWEuc2F2ZUV4dHJhU3RhdGUoITApKT9KU09OLnN0cmluZ2lmeShhKTpcIlwiOmEubXV0YXRpb25Ub0RvbT8oYT1hLm11dGF0aW9uVG9Eb20oKSk/ZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpOlxuXCJcIjpcIlwifX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFLEJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2UpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlLkJsb2NrQ2hhbmdlPUJsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jaGFuZ2U7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtYXRoLmNsYW1wPWNsYW1wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aC50b0RlZ3JlZXM9dG9EZWdyZWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aC50b1JhZGlhbnM9dG9SYWRpYW5zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkbWF0aDt2YXIgQVJST1dfU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PTE2LEJPUkRFUl9TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9MSxBUlJPV19IT1JJWk9OVEFMX1BBRERJTkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj0xMixQQURESU5HX1kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj0xNixBTklNQVRJT05fVElNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PS4yNSxhbmltYXRlT3V0VGltZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsLG9uSGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2PW51bGwscmVuZGVyZWRDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1cIlwiLHRoZW1lQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9XCJcIixkaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixcbmNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixhcnJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LGJvdW5kc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsLG93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxwb3NpdGlvblRvRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsLHJldHVybkVwaGVtZXJhbEZvY3VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9bnVsbCxrZXlkb3duTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdj1udWxsLGludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9e2dldEJvdW5kc0luZm86ZnVuY3Rpb24oKXtjb25zdCBhPWdldFBhZ2VPZmZzZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShib3VuZHNFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpLFxuYj1nZXRTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYm91bmRzRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KTtyZXR1cm57bGVmdDphLngscmlnaHQ6YS54K2Iud2lkdGgsdG9wOmEueSxib3R0b206YS55K2IuaGVpZ2h0LHdpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fX0sZ2V0UG9zaXRpb25NZXRyaWNzOmZ1bmN0aW9uKGEsYixjLGQpe2NvbnN0IGU9aW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5nZXRCb3VuZHNJbmZvKCksZj1nZXRTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoZGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYpO3JldHVybiBiK2YuaGVpZ2h0PGUuYm90dG9tP2dldFBvc2l0aW9uQmVsb3dNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYSxiLGUsZik6ZC1mLmhlaWdodD5lLnRvcD9nZXRQb3NpdGlvbkFib3ZlTWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGMsXG5kLGUsZik6YitmLmhlaWdodDxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0P2dldFBvc2l0aW9uQmVsb3dNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYSxiLGUsZik6ZC1mLmhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wP2dldFBvc2l0aW9uQWJvdmVNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYyxkLGUsZik6Z2V0UG9zaXRpb25Ub3BPZlBhZ2VNZXRyaWNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoYSxlLGYpfX0sVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9aW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY9e0FOSU1BVElPTl9USU1FOkFOSU1BVElPTl9USU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsQVJST1dfSE9SSVpPTlRBTF9QQURESU5HOkFSUk9XX0hPUklaT05UQUxfUEFERElORyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LFxuQVJST1dfU0laRTpBUlJPV19TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsQk9SREVSX1NJWkU6Qk9SREVSX1NJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdixQQURESU5HX1k6UEFERElOR19ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsVEVTVF9PTkxZOmludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXZ9O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5jbGVhckNvbnRlbnQ9Y2xlYXJDb250ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LmNyZWF0ZURvbT1jcmVhdGVEb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuZ2V0Q29udGVudERpdj1nZXRDb250ZW50RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuZ2V0T3duZXI9Z2V0T3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuZ2V0UG9zaXRpb25YPWdldFBvc2l0aW9uWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5oaWRlPWhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuaGlkZUlmT3duZXI9aGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuaGlkZVdpdGhvdXRBbmltYXRpb249aGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5pc1Zpc2libGU9aXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemU9cmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zZXRCb3VuZHNFbGVtZW50PXNldEJvdW5kc0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYuc2V0Q29sb3VyPXNldENvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zaG93PXNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdi5zaG93UG9zaXRpb25lZEJ5QmxvY2s9c2hvd1Bvc2l0aW9uZWRCeUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2LnNob3dQb3NpdGlvbmVkQnlGaWVsZD1zaG93UG9zaXRpb25lZEJ5RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLmNvbW1vbldvcmRQcmVmaXg9Y29tbW9uV29yZFByZWZpeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLmNvbW1vbldvcmRTdWZmaXg9Y29tbW9uV29yZFN1ZmZpeCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLmlzTnVtYmVyPSQuaXNOdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZy5zaG9ydGVzdFN0cmluZ0xlbmd0aD1zaG9ydGVzdFN0cmluZ0xlbmd0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nLndyYXA9JC53cmFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nO3ZhciBjdXN0b21Ub29sdGlwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD12b2lkIDAsdmlzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ITEsYmxvY2tlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9ITEsTElNSVQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTUwLG1vdXNlT3V0UGlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0wLHNob3dQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTAsbGFzdFgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTAsbGFzdFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTAsZWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9bnVsbCxwb2lzb25lZEVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPW51bGwsT0ZGU0VUX1gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTAsT0ZGU0VUX1kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPVxuMTAsUkFESVVTX09LJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD0xMCxIT1ZFUl9NUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA9NzUwLE1BUkdJTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPTUsY29udGFpbmVyRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcD1udWxsLG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwPXtIT1ZFUl9NUzpIT1ZFUl9NUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsTElNSVQ6TElNSVQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLE1BUkdJTlM6TUFSR0lOUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAsT0ZGU0VUX1g6T0ZGU0VUX1gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLE9GRlNFVF9ZOk9GRlNFVF9ZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCxSQURJVVNfT0s6UkFESVVTX09LJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcH07XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5iaW5kTW91c2VFdmVudHM9YmluZE1vdXNlRXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5ibG9jaz1ibG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuY3JlYXRlRG9tPWNyZWF0ZURvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuZGlzcG9zZT1kaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5nZXRDdXN0b21Ub29sdGlwPWdldEN1c3RvbVRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLmdldERpdj1nZXREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuZ2V0VG9vbHRpcE9mT2JqZWN0PWdldFRvb2x0aXBPZk9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAuaGlkZT1oaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5pc1Zpc2libGU9aXNWaXNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC5zZXRDdXN0b21Ub29sdGlwPXNldEN1c3RvbVRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO21vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwLnVuYmluZE1vdXNlRXZlbnRzPXVuYmluZE1vdXNlRXZlbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcC51bmJsb2NrPXVuYmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO3ZhciBoc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyPS40NSxoc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj0uNjUsbmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI9e2FxdWE6XCIjMDBmZmZmXCIsYmxhY2s6XCIjMDAwMDAwXCIsYmx1ZTpcIiMwMDAwZmZcIixmdWNoc2lhOlwiI2ZmMDBmZlwiLGdyYXk6XCIjODA4MDgwXCIsZ3JlZW46XCIjMDA4MDAwXCIsbGltZTpcIiMwMGZmMDBcIixtYXJvb246XCIjODAwMDAwXCIsbmF2eTpcIiMwMDAwODBcIixvbGl2ZTpcIiM4MDgwMDBcIixwdXJwbGU6XCIjODAwMDgwXCIscmVkOlwiI2ZmMDAwMFwiLHNpbHZlcjpcIiNjMGMwYzBcIix0ZWFsOlwiIzAwODA4MFwiLHdoaXRlOlwiI2ZmZmZmZlwiLHllbGxvdzpcIiNmZmZmMDBcIn0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLmJsZW5kPWJsZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5nZXRIc3ZTYXR1cmF0aW9uPWdldEhzdlNhdHVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5nZXRIc3ZWYWx1ZT1nZXRIc3ZWYWx1ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLmhleFRvUmdiPWhleFRvUmdiJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIuaHN2VG9IZXg9aHN2VG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5odWVUb0hleD1odWVUb0hleCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIubmFtZXM9bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91ci5wYXJzZT1wYXJzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyLnJnYlRvSGV4PXJnYlRvSGV4JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIuc2V0SHN2U2F0dXJhdGlvbj1zZXRIc3ZTYXR1cmF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIuc2V0SHN2VmFsdWU9c2V0SHN2VmFsdWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nLmNoZWNrTWVzc2FnZVJlZmVyZW5jZXM9Y2hlY2tNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcucGFyc2VCbG9ja0NvbG91cj1wYXJzZUJsb2NrQ29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZy5yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXM9cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZy50b2tlbml6ZUludGVycG9sYXRpb249dG9rZW5pemVJbnRlcnBvbGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZzt2YXIgRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZD1jbGFzc3tnZXQgc2l6ZV8oKXtyZXR1cm4gdGhpcy5zaXplfXNldCBzaXplXyhhKXt0aGlzLnNpemU9YX1jb25zdHJ1Y3RvcihhLGIsYyl7dGhpcy5ERUZBVUxUX1ZBTFVFPW51bGw7dGhpcy5uYW1lPXZvaWQgMDt0aGlzLnRvb2x0aXA9dGhpcy52YWxpZGF0b3JfPW51bGw7dGhpcy5zaXplPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgwLDApO3RoaXMuY29uc3RhbnRzXz10aGlzLm1vdXNlRG93bldyYXBwZXI9dGhpcy50ZXh0Q29udGVudF89dGhpcy50ZXh0RWxlbWVudF89dGhpcy5ib3JkZXJSZWN0Xz10aGlzLmZpZWxkR3JvdXBfPW51bGw7dGhpcy5kaXNwb3NlZD0hMTt0aGlzLm1heERpc3BsYXlMZW5ndGg9NTA7dGhpcy5zb3VyY2VCbG9ja189bnVsbDt0aGlzLmVuYWJsZWRfPXRoaXMudmlzaWJsZV89dGhpcy5pc0RpcnR5Xz0hMDt0aGlzLnN1ZmZpeEZpZWxkPXRoaXMucHJlZml4RmllbGQ9XG50aGlzLmNsaWNrVGFyZ2V0Xz1udWxsO3RoaXMuRURJVEFCTEU9ITA7dGhpcy5TRVJJQUxJWkFCTEU9ITE7dGhpcy5pZF89bnVsbDt0aGlzLnZhbHVlXz1cIkRFRkFVTFRfVkFMVUVcImluIG5ldy50YXJnZXQucHJvdG90eXBlP25ldy50YXJnZXQucHJvdG90eXBlLkRFRkFVTFRfVkFMVUU6dGhpcy5ERUZBVUxUX1ZBTFVFO3RoaXMuc2l6ZV89bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDAsMCk7YSE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCYmKGMmJnRoaXMuY29uZmlndXJlXyhjKSx0aGlzLnNldFZhbHVlKGEpLGImJnRoaXMuc2V0VmFsaWRhdG9yKGIpKX1jb25maWd1cmVfKGEpe2EudG9vbHRpcCYmdGhpcy5zZXRUb29sdGlwKHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYS50b29sdGlwKSl9c2V0U291cmNlQmxvY2soYSl7aWYodGhpcy5zb3VyY2VCbG9ja18pdGhyb3cgRXJyb3IoXCJGaWVsZCBhbHJlYWR5IGJvdW5kIHRvIGEgYmxvY2tcIik7XG50aGlzLnNvdXJjZUJsb2NrXz1hO2lmKGEuaWQuaW5jbHVkZXMoXCJfZmllbGRcIikpdGhyb3cgRXJyb3IoXCJGaWVsZCBJRCBpbmRpY2F0b3IgaXMgY29udGFpbmVkIGluIGJsb2NrIElELiBUaGlzIG1heSBjYXVzZSBcIitgcHJvYmxlbXMgd2l0aCBmb2N1czogJHthLmlkfS5gKTt0aGlzLmlkXz1gJHthLmlkfV9maWVsZF8ke2dldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCl9YH1nZXRDb25zdGFudHMoKXshdGhpcy5jb25zdGFudHNfJiZ0aGlzLnNvdXJjZUJsb2NrXyYmIXRoaXMuc291cmNlQmxvY2tfLmlzRGVhZE9yRHlpbmcoKSYmdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLnJlbmRlcmVkJiYodGhpcy5jb25zdGFudHNfPXRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpKTtyZXR1cm4gdGhpcy5jb25zdGFudHNffWdldFNvdXJjZUJsb2NrKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2tffWluaXQoKXtpZighdGhpcy5maWVsZEdyb3VwXyl7dmFyIGE9XG50aGlzLmlkXztpZighYSl0aHJvdyBFcnJvcihcIkV4cGVjdGVkIElEIHRvIGJlIGRlZmluZWQgcHJpb3IgdG8gaW5pdC5cIik7dGhpcy5maWVsZEdyb3VwXz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtpZDphfSk7dGhpcy5pc1Zpc2libGUoKXx8KHRoaXMuZmllbGRHcm91cF8uc3R5bGUuZGlzcGxheT1cIm5vbmVcIik7dGhpcy5zb3VyY2VCbG9ja18uZ2V0U3ZnUm9vdCgpLmFwcGVuZENoaWxkKHRoaXMuZmllbGRHcm91cF8pO3RoaXMuaW5pdFZpZXcoKTt0aGlzLnVwZGF0ZUVkaXRhYmxlKCk7dGhpcy5zZXRUb29sdGlwKHRoaXMudG9vbHRpcCk7dGhpcy5iaW5kRXZlbnRzXygpO3RoaXMuaW5pdE1vZGVsKCk7dGhpcy5hcHBseUNvbG91cigpfX1pbml0Vmlldygpe3RoaXMuY3JlYXRlQm9yZGVyUmVjdF8oKTt0aGlzLmNyZWF0ZVRleHRFbGVtZW50XygpO3RoaXMuZmllbGRHcm91cF8mJlxuYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcImJsb2NrbHlGaWVsZFwiKX1pbml0TW9kZWwoKXt9aXNGdWxsQmxvY2tGaWVsZCgpe3JldHVybiF0aGlzLmJvcmRlclJlY3RffWNyZWF0ZUJvcmRlclJlY3RfKCl7dGhpcy5ib3JkZXJSZWN0Xz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtyeDp0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1JBRElVUyxyeTp0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1JBRElVUyx4OjAseTowLGhlaWdodDp0aGlzLnNpemVfLmhlaWdodCx3aWR0aDp0aGlzLnNpemVfLndpZHRoLFwiY2xhc3NcIjpcImJsb2NrbHlGaWVsZFJlY3RcIn0sdGhpcy5maWVsZEdyb3VwXyl9Y3JlYXRlVGV4dEVsZW1lbnRfKCl7dGhpcy50ZXh0RWxlbWVudF89Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuVEVYVCxcbntcImNsYXNzXCI6XCJibG9ja2x5VGV4dCBibG9ja2x5RmllbGRUZXh0XCJ9LHRoaXMuZmllbGRHcm91cF8pO3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9CQVNFTElORV9DRU5URVImJnRoaXMudGV4dEVsZW1lbnRfLnNldEF0dHJpYnV0ZShcImRvbWluYW50LWJhc2VsaW5lXCIsXCJjZW50cmFsXCIpO3RoaXMudGV4dENvbnRlbnRfPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO3RoaXMudGV4dEVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMudGV4dENvbnRlbnRfKX1iaW5kRXZlbnRzXygpe2NvbnN0IGE9dGhpcy5nZXRDbGlja1RhcmdldF8oKTtpZighYSl0aHJvdyBFcnJvcihcIkEgY2xpY2sgdGFyZ2V0IGhhcyBub3QgYmVlbiBzZXQuXCIpO2JpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoYSk7dGhpcy5tb3VzZURvd25XcmFwcGVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJwb2ludGVyZG93blwiLFxudGhpcyx0aGlzLm9uTW91c2VEb3duXyl9ZnJvbVhtbChhKXt0aGlzLnNldFZhbHVlKGEudGV4dENvbnRlbnQpfXRvWG1sKGEpe2EudGV4dENvbnRlbnQ9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBhfXNhdmVTdGF0ZShhKXthPXRoaXMuc2F2ZUxlZ2FjeVN0YXRlKEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQpO3JldHVybiBhIT09bnVsbD9hOnRoaXMuZ2V0VmFsdWUoKX1sb2FkU3RhdGUoYSl7dGhpcy5sb2FkTGVnYWN5U3RhdGUoRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZCxhKXx8dGhpcy5zZXRWYWx1ZShhKX1zYXZlTGVnYWN5U3RhdGUoYSl7cmV0dXJuIGEucHJvdG90eXBlLnNhdmVTdGF0ZT09PXRoaXMuc2F2ZVN0YXRlJiZhLnByb3RvdHlwZS50b1htbCE9PXRoaXMudG9YbWw/KGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiZmllbGRcIiksYS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsdGhpcy5uYW1lfHxcIlwiKSxcbmRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCh0aGlzLnRvWG1sKGEpKS5yZXBsYWNlKCcgeG1sbnM9XCJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9ibG9ja2x5L3htbFwiJyxcIlwiKSk6bnVsbH1sb2FkTGVnYWN5U3RhdGUoYSxiKXtyZXR1cm4gYS5wcm90b3R5cGUubG9hZFN0YXRlPT09dGhpcy5sb2FkU3RhdGUmJmEucHJvdG90eXBlLmZyb21YbWwhPT10aGlzLmZyb21YbWw/KHRoaXMuZnJvbVhtbCgkLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChiKSksITApOiExfWRpc3Bvc2UoKXtoaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KHRoaXMpO2hpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KHRoaXMpO2xldCBhOygoYT10aGlzLmdldFNvdXJjZUJsb2NrKCkpPT1udWxsPzA6YS5pc0RlYWRPckR5aW5nKCkpfHxyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8pO1xudGhpcy5kaXNwb3NlZD0hMH11cGRhdGVFZGl0YWJsZSgpe2NvbnN0IGE9dGhpcy5maWVsZEdyb3VwXyxiPXRoaXMuZ2V0U291cmNlQmxvY2soKTt0aGlzLkVESVRBQkxFJiZhJiZiJiYodGhpcy5lbmFibGVkXyYmYi5pc0VkaXRhYmxlKCk/KGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5RWRpdGFibGVGaWVsZFwiKSxyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseU5vbkVkaXRhYmxlRmllbGRcIikpOihhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseU5vbkVkaXRhYmxlRmllbGRcIikscmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlFZGl0YWJsZUZpZWxkXCIpKSl9c2V0RW5hYmxlZChhKXt0aGlzLmVuYWJsZWRfPWE7dGhpcy51cGRhdGVFZGl0YWJsZSgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLmVuYWJsZWRffWlzQ2xpY2thYmxlKCl7cmV0dXJuIHRoaXMuZW5hYmxlZF8mJlxuISF0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18uaXNFZGl0YWJsZSgpJiZ0aGlzLnNob3dFZGl0b3JfIT09RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5wcm90b3R5cGUuc2hvd0VkaXRvcl99aXNDbGlja2FibGVJbkZseW91dChhKXtyZXR1cm4hYX1pc0N1cnJlbnRseUVkaXRhYmxlKCl7cmV0dXJuIHRoaXMuZW5hYmxlZF8mJnRoaXMuRURJVEFCTEUmJiEhdGhpcy5zb3VyY2VCbG9ja18mJnRoaXMuc291cmNlQmxvY2tfLmlzRWRpdGFibGUoKX1pc1NlcmlhbGl6YWJsZSgpe2xldCBhPSExO3RoaXMubmFtZSYmKHRoaXMuU0VSSUFMSVpBQkxFP2E9ITA6dGhpcy5FRElUQUJMRSYmKGNvbnNvbGUud2FybihcIkRldGVjdGVkIGFuIGVkaXRhYmxlIGZpZWxkIHRoYXQgd2FzIG5vdCBzZXJpYWxpemFibGUuIFBsZWFzZSBkZWZpbmUgU0VSSUFMSVpBQkxFIHByb3BlcnR5IGFzIHRydWUgb24gYWxsIGVkaXRhYmxlIGN1c3RvbSBmaWVsZHMuIFByb2NlZWRpbmcgd2l0aCBzZXJpYWxpemF0aW9uLlwiKSxcbmE9ITApKTtyZXR1cm4gYX1pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy52aXNpYmxlX31zZXRWaXNpYmxlKGEpe2lmKHRoaXMudmlzaWJsZV8hPT1hKXt0aGlzLnZpc2libGVfPWE7dmFyIGI9dGhpcy5maWVsZEdyb3VwXztiJiYoYi5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiKX19c2V0VmFsaWRhdG9yKGEpe3RoaXMudmFsaWRhdG9yXz1hfWdldFZhbGlkYXRvcigpe3JldHVybiB0aGlzLnZhbGlkYXRvcl99Z2V0U3ZnUm9vdCgpe3JldHVybiB0aGlzLmZpZWxkR3JvdXBffWdldEJvcmRlclJlY3QoKXtpZighdGhpcy5ib3JkZXJSZWN0Xyl0aHJvdyBFcnJvcihgVGhlIGJvcmRlciByZWN0YW5nbGUgaXMgJHt0aGlzLmJvcmRlclJlY3RffS5gKTtyZXR1cm4gdGhpcy5ib3JkZXJSZWN0X31nZXRUZXh0RWxlbWVudCgpe2lmKCF0aGlzLnRleHRFbGVtZW50Xyl0aHJvdyBFcnJvcihgVGhlIHRleHQgZWxlbWVudCBpcyAke3RoaXMudGV4dEVsZW1lbnRffS5gKTtyZXR1cm4gdGhpcy50ZXh0RWxlbWVudF99Z2V0VGV4dENvbnRlbnQoKXtpZighdGhpcy50ZXh0Q29udGVudF8pdGhyb3cgRXJyb3IoYFRoZSB0ZXh0IGNvbnRlbnQgaXMgJHt0aGlzLnRleHRDb250ZW50X30uYCk7XG5yZXR1cm4gdGhpcy50ZXh0Q29udGVudF99YXBwbHlDb2xvdXIoKXt9cmVuZGVyXygpe3RoaXMudGV4dENvbnRlbnRfJiYodGhpcy50ZXh0Q29udGVudF8ubm9kZVZhbHVlPXRoaXMuZ2V0RGlzcGxheVRleHRfKCkpO3RoaXMudXBkYXRlU2l6ZV8oKX1zaG93RWRpdG9yKGEpe3RoaXMuaXNDbGlja2FibGUoKSYmdGhpcy5zaG93RWRpdG9yXyhhKX1zaG93RWRpdG9yXyhhKXt9cmVwb3NpdGlvbkZvcldpbmRvd1Jlc2l6ZSgpe3JldHVybiExfXVwZGF0ZVNpemVfKGEpe2NvbnN0IGI9dGhpcy5nZXRDb25zdGFudHMoKTthPWEhPT12b2lkIDA/YTp0aGlzLmlzRnVsbEJsb2NrRmllbGQoKT8wOnRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HO2xldCBjPWEqMixkPWIuRklFTERfVEVYVF9IRUlHSFQsZT0wO3RoaXMudGV4dEVsZW1lbnRfJiYoZT1nZXRUZXh0V2lkdGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy50ZXh0RWxlbWVudF8pLFxuYys9ZSk7dGhpcy5pc0Z1bGxCbG9ja0ZpZWxkKCl8fChkPU1hdGgubWF4KGQsYi5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQpKTt0aGlzLnNpemVfPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShjLGQpO3RoaXMucG9zaXRpb25UZXh0RWxlbWVudF8oYSxlKTt0aGlzLnBvc2l0aW9uQm9yZGVyUmVjdF8oKX1wb3NpdGlvblRleHRFbGVtZW50XyhhLGIpe2lmKHRoaXMudGV4dEVsZW1lbnRfKXt2YXIgYz10aGlzLmdldENvbnN0YW50cygpLGQ9dGhpcy5zaXplXy5oZWlnaHQvMixlO3RoaXMudGV4dEVsZW1lbnRfLnNldEF0dHJpYnV0ZShcInhcIixTdHJpbmcoKChlPXRoaXMuZ2V0U291cmNlQmxvY2soKSk9PW51bGw/MDplLlJUTCk/dGhpcy5zaXplXy53aWR0aC1iLWE6YSkpO3RoaXMudGV4dEVsZW1lbnRfLnNldEF0dHJpYnV0ZShcInlcIixTdHJpbmcoYy5GSUVMRF9URVhUX0JBU0VMSU5FX0NFTlRFUj9kOmQtYy5GSUVMRF9URVhUX0hFSUdIVC8yK2MuRklFTERfVEVYVF9CQVNFTElORSkpfX1wb3NpdGlvbkJvcmRlclJlY3RfKCl7dGhpcy5ib3JkZXJSZWN0XyYmXG4odGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFN0cmluZyh0aGlzLnNpemVfLndpZHRoKSksdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixTdHJpbmcodGhpcy5zaXplXy5oZWlnaHQpKSx0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcInJ4XCIsU3RyaW5nKHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfUkFESVVTKSksdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJyeVwiLFN0cmluZyh0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1JBRElVUykpKX1nZXRTaXplKCl7aWYoIXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgwLDApO3RoaXMuaXNEaXJ0eV8mJih0aGlzLnJlbmRlcl8oKSx0aGlzLmlzRGlydHlfPSExKTtyZXR1cm4gdGhpcy5zaXplX31nZXRTY2FsZWRCQm94KCl7bGV0IGE7dmFyIGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO1xuaWYoIWIpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7aWYodGhpcy5pc0Z1bGxCbG9ja0ZpZWxkKCkpe3ZhciBjPXRoaXMuc291cmNlQmxvY2tfLmdldEhlaWdodFdpZHRoKCk7Y29uc3QgZD1iLndvcmtzcGFjZS5zY2FsZTthPXRoaXMuZ2V0QWJzb2x1dGVYWV8oKTtiPShjLndpZHRoKzEpKmQ7Yz0oYy5oZWlnaHQrMSkqZDtHRUNLTyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudD8oYS54Kz0xLjUqZCxhLnkrPTEuNSpkKTooYS54LT0uNSpkLGEueS09LjUqZCl9ZWxzZSBjPXRoaXMuYm9yZGVyUmVjdF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT1nZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUodGhpcy5ib3JkZXJSZWN0XyksYj1jLndpZHRoLGM9Yy5oZWlnaHQ7cmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLnksXG5hLnkrYyxhLngsYS54K2IpfW9uTG9jYXRpb25DaGFuZ2UoYSl7fWdldERpc3BsYXlUZXh0Xygpe2xldCBhPXRoaXMuZ2V0VGV4dCgpO2EubGVuZ3RoPnRoaXMubWF4RGlzcGxheUxlbmd0aCYmKGE9YS5zdWJzdHJpbmcoMCx0aGlzLm1heERpc3BsYXlMZW5ndGgtMikrXCJcXHUyMDI2XCIpO2E9YS5yZXBsYWNlKC9cXHMvZyxGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLk5CU1ApO3RoaXMuc291cmNlQmxvY2tfJiZ0aGlzLnNvdXJjZUJsb2NrXy5SVEwmJihhKz1cIlxcdTIwMGZcIik7cmV0dXJuIGF9Z2V0VGV4dCgpe2NvbnN0IGE9dGhpcy5nZXRUZXh0XygpO3JldHVybiBhIT09bnVsbD9TdHJpbmcoYSk6U3RyaW5nKHRoaXMuZ2V0VmFsdWUoKSl9Z2V0VGV4dF8oKXtyZXR1cm4gbnVsbH1tYXJrRGlydHkoKXt0aGlzLmlzRGlydHlfPSEwO3RoaXMuY29uc3RhbnRzXz1udWxsfWZvcmNlUmVyZW5kZXIoKXt0aGlzLmlzRGlydHlfPSEwO3RoaXMuc291cmNlQmxvY2tfJiZ0aGlzLnNvdXJjZUJsb2NrXy5yZW5kZXJlZCYmXG50aGlzLnNvdXJjZUJsb2NrXy5xdWV1ZVJlbmRlcigpfXNldFZhbHVlKGEsYj0hMCl7aWYoYSE9PW51bGwpe3ZhciBjPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtjfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTt0cnl7Y29uc3Qgaz10aGlzLmRvQ2xhc3NWYWxpZGF0aW9uXyhhKSxsPXRoaXMucHJvY2Vzc1ZhbGlkYXRpb24oYSxrLGIpO2lmKCEobCBpbnN0YW5jZW9mIEVycm9yKSl7dmFyIGQsZT0oZD10aGlzLmdldFZhbGlkYXRvcigpKT09bnVsbD92b2lkIDA6ZC5jYWxsKHRoaXMsbCksZj10aGlzLnByb2Nlc3NWYWxpZGF0aW9uKGwsZSxiKTtpZighKGYgaW5zdGFuY2VvZiBFcnJvcikpe3ZhciBnPXRoaXMuc291cmNlQmxvY2tfO2lmKCFnfHwhZy5kaXNwb3NlZCl7dmFyIGg9dGhpcy5nZXRWYWx1ZSgpO2g9PT1mP3RoaXMuZG9WYWx1ZVVwZGF0ZV8oZik6KHRoaXMuZG9WYWx1ZVVwZGF0ZV8oZiksXG5iJiZnJiZpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKShnLFwiZmllbGRcIix0aGlzLm5hbWV8fG51bGwsaCxmKSksdGhpcy5pc0RpcnR5XyYmdGhpcy5mb3JjZVJlcmVuZGVyKCkpfX19fWZpbmFsbHl7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKX19fXByb2Nlc3NWYWxpZGF0aW9uKGEsYixjKXtyZXR1cm4gYj09PW51bGw/KHRoaXMuZG9WYWx1ZUludmFsaWRfKGEsYyksdGhpcy5pc0RpcnR5XyYmdGhpcy5mb3JjZVJlcmVuZGVyKCksRXJyb3IoKSk6Yj09PXZvaWQgMD9hOmJ9Z2V0VmFsdWUoKXtyZXR1cm4gdGhpcy52YWx1ZV99ZG9DbGFzc1ZhbGlkYXRpb25fKGEpe3JldHVybiBhPT09XG5udWxsfHxhPT09dm9pZCAwP251bGw6YX1kb1ZhbHVlVXBkYXRlXyhhKXt0aGlzLnZhbHVlXz1hO3RoaXMuaXNEaXJ0eV89ITB9ZG9WYWx1ZUludmFsaWRfKGEsYil7fW9uTW91c2VEb3duXyhhKXt0aGlzLnNvdXJjZUJsb2NrXyYmIXRoaXMuc291cmNlQmxvY2tfLmlzRGVhZE9yRHlpbmcoKSYmKGE9dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmdldEdlc3R1cmUoYSkpJiZhLnNldFN0YXJ0RmllbGQodGhpcyl9c2V0VG9vbHRpcChhKXthfHxhPT09XCJcInx8KGE9dGhpcy5zb3VyY2VCbG9ja18pO2NvbnN0IGI9dGhpcy5nZXRDbGlja1RhcmdldF8oKTtiP2IudG9vbHRpcD1hOnRoaXMudG9vbHRpcD1hfWdldFRvb2x0aXAoKXtjb25zdCBhPXRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCk7cmV0dXJuIGE/Z2V0VG9vbHRpcE9mT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcChhKTpnZXRUb29sdGlwT2ZPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKHt0b29sdGlwOnRoaXMudG9vbHRpcH0pfWdldENsaWNrVGFyZ2V0Xygpe3JldHVybiB0aGlzLmNsaWNrVGFyZ2V0X3x8XG50aGlzLmdldFN2Z1Jvb3QoKX1nZXRBYnNvbHV0ZVhZXygpe3JldHVybiBnZXRQYWdlT2Zmc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUodGhpcy5nZXRDbGlja1RhcmdldF8oKSl9cmVmZXJlbmNlc1ZhcmlhYmxlcygpe3JldHVybiExfXJlZnJlc2hWYXJpYWJsZU5hbWUoKXt9Z2V0UGFyZW50SW5wdXQoKXtsZXQgYT1udWxsO2NvbnN0IGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2NvbnN0IGM9Yi5pbnB1dExpc3Q7Zm9yKGxldCBkPTA7ZDxiLmlucHV0TGlzdC5sZW5ndGg7ZCsrKXtjb25zdCBlPWNbZF0sZj1lLmZpZWxkUm93O2ZvcihsZXQgZz0wO2c8Zi5sZW5ndGg7ZysrKWlmKGZbZ109PT10aGlzKXthPWU7YnJlYWt9fXJldHVybiBhfWdldEZsaXBSdGwoKXtyZXR1cm4hMX1vblNob3J0Y3V0KGEpe3JldHVybiExfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtpZighdGhpcy5maWVsZEdyb3VwXyl0aHJvdyBFcnJvcihcIlRoaXMgZmllbGQgY3VycmVudGx5IGhhcyBubyByZXByZXNlbnRhdGl2ZSBET00gZWxlbWVudC5cIik7XG5yZXR1cm4gdGhpcy5maWVsZEdyb3VwX31nZXRGb2N1c2FibGVUcmVlKCl7Y29uc3QgYT10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWEpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7cmV0dXJuIGEud29ya3NwYWNlfW9uTm9kZUZvY3VzKCl7Y29uc3QgYT10aGlzLmdldFNvdXJjZUJsb2NrKCk7YS53b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcoYS5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhvdXRDaGlsZHJlbigpKX1vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfXN0YXRpYyBmcm9tSnNvbihhKXt0aHJvdyBFcnJvcihcIkF0dGVtcHRlZCB0byBpbnN0YW50aWF0ZSBhIGZpZWxkIGZyb20gdGhlIHJlZ2lzdHJ5IHRoYXQgaGFzbid0IGRlZmluZWQgYSAnZnJvbUpzb24nIG1ldGhvZC5cIik7fX07RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5OQlNQPVwiXFx1MDBhMFwiO1xuRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQPVN5bWJvbChcIlNLSVBfU0VUVVBcIik7dmFyIFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiVGhlIGZpZWxkIGhhcyBub3QgeWV0IGJlZW4gYXR0YWNoZWQgdG8gaXRzIGlucHV0LiBDYWxsIGFwcGVuZEZpZWxkIHRvIGF0dGFjaCBpdC5cIil9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLkZpZWxkPUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlVuYXR0YWNoZWRGaWVsZEVycm9yPVVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7dmFyIG93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PW51bGwsb3duZXJXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9bnVsbCxkaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PW51bGwsY29udGFpbmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PVwiYmxvY2tseVdpZGdldERpdlwiLHJlbmRlcmVyQ2xhc3NOYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PVwiXCIsdGhlbWVDbGFzc05hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9XCJcIixjb250YWluZXJEaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYscmV0dXJuRXBoZW1lcmFsRm9jdXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY9bnVsbCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5jcmVhdGVEb209Y3JlYXRlRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYuZ2V0RGl2PWdldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LmhpZGU9aGlkZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LmhpZGVJZk93bmVyPWhpZGVJZk93bmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O21vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYuaGlkZUlmT3duZXJJc0luV29ya3NwYWNlPWhpZGVJZk93bmVySXNJbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LmlzVmlzaWJsZT1pc1Zpc2libGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2LnBvc2l0aW9uV2l0aEFuY2hvcj1wb3NpdGlvbldpdGhBbmNob3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5yZXBvc2l0aW9uRm9yV2luZG93UmVzaXplPXJlcG9zaXRpb25Gb3JXaW5kb3dSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi5zaG93PXNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdi50ZXN0T25seV9zZXREaXY9dGVzdE9ubHlfc2V0RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2O3ZhciBjdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT1udWxsLGR1bW15T3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudT17fSxtZW51XyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PW51bGwsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudS5jYWxsYmFja0ZhY3Rvcnk9JC5jYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUuZGlzcG9zZT1kaXNwb3NlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51LmdldEN1cnJlbnRCbG9jaz1nZXRDdXJyZW50QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudS5oaWRlPWhpZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUuc2V0Q3VycmVudEJsb2NrPXNldEN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudS5zaG93PXNob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudTt2YXIgQ29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5yZWdpc3RlcmVkSXRlbXM9bmV3IE1hcDt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLnJlZ2lzdGVyZWRJdGVtcy5jbGVhcigpfXJlZ2lzdGVyKGEpe2lmKHRoaXMucmVnaXN0ZXJlZEl0ZW1zLmhhcyhhLmlkKSl0aHJvdyBFcnJvcignTWVudSBpdGVtIHdpdGggSUQgXCInK2EuaWQrJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTt0aGlzLnJlZ2lzdGVyZWRJdGVtcy5zZXQoYS5pZCxhKX11bnJlZ2lzdGVyKGEpe2lmKCF0aGlzLnJlZ2lzdGVyZWRJdGVtcy5oYXMoYSkpdGhyb3cgRXJyb3IoJ01lbnUgaXRlbSB3aXRoIElEIFwiJythKydcIiBub3QgZm91bmQuJyk7dGhpcy5yZWdpc3RlcmVkSXRlbXMuZGVsZXRlKGEpfWdldEl0ZW0oYSl7bGV0IGI7cmV0dXJuKGI9dGhpcy5yZWdpc3RlcmVkSXRlbXMuZ2V0KGEpKSE9bnVsbD9cbmI6bnVsbH1nZXRDb250ZXh0TWVudU9wdGlvbnMoYSxiKXtjb25zdCBjPVtdO2Zvcihjb25zdCBkIG9mIHRoaXMucmVnaXN0ZXJlZEl0ZW1zLnZhbHVlcygpKXtpZihkLnNjb3BlVHlwZSl7aWYoZC5zY29wZVR5cGU9PT1TY29wZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5CTE9DSyYmIWEuYmxvY2spY29udGludWU7aWYoZC5zY29wZVR5cGU9PT1TY29wZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5DT01NRU5UJiYhYS5jb21tZW50KWNvbnRpbnVlO2lmKGQuc2NvcGVUeXBlPT09U2NvcGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuV09SS1NQQUNFJiYhYS53b3Jrc3BhY2UpY29udGludWV9bGV0IGU7ZT17c2NvcGU6YSx3ZWlnaHQ6ZC53ZWlnaHR9O2lmKGQuc2VwYXJhdG9yKWU9T2JqZWN0LmFzc2lnbih7fSxlLHtzZXBhcmF0b3I6ITB9KTtlbHNle2NvbnN0IGY9XG5kLnByZWNvbmRpdGlvbkZuKGEsYik7aWYoZj09PVwiaGlkZGVuXCIpY29udGludWU7Y29uc3QgZz10eXBlb2YgZC5kaXNwbGF5VGV4dD09PVwiZnVuY3Rpb25cIj9kLmRpc3BsYXlUZXh0KGEpOmQuZGlzcGxheVRleHQ7ZT1PYmplY3QuYXNzaWduKHt9LGUse3RleHQ6ZyxjYWxsYmFjazpkLmNhbGxiYWNrLGVuYWJsZWQ6Zj09PVwiZW5hYmxlZFwifSl9Yy5wdXNoKGUpfWMuc29ydChmdW5jdGlvbihkLGUpe3JldHVybiBkLndlaWdodC1lLndlaWdodH0pO3JldHVybiBjfX07XG4oZnVuY3Rpb24oYSl7dmFyIGI9YS5TY29wZVR5cGV8fChhLlNjb3BlVHlwZT17fSk7Yi5CTE9DSz1cImJsb2NrXCI7Yi5XT1JLU1BBQ0U9XCJ3b3Jrc3BhY2VcIjtiLkNPTU1FTlQ9XCJjb21tZW50XCI7YS5yZWdpc3RyeT1uZXcgYX0pKENvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeXx8KENvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeT17fSkpO3ZhciBTY29wZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeT1Db250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlLG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5Db250ZXh0TWVudVJlZ2lzdHJ5PUNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkuU2NvcGVUeXBlPVNjb3BlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5O3ZhciBCTE9DSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycz01MCxCVUJCTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnM9MTAwLG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnM9e0JMT0NLOkJMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzLEJVQkJMRTpCVUJCTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnN9O3ZhciBDb21tZW50RHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckY29tbWVudF9kcmFnX3N0cmF0ZWd5PWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuY29tbWVudD1hO3RoaXMuc3RhcnRMb2M9bnVsbDt0aGlzLndvcmtzcGFjZT1hLndvcmtzcGFjZX1pc01vdmFibGUoKXtyZXR1cm4gdGhpcy5jb21tZW50LmlzT3duTW92YWJsZSgpJiYhdGhpcy5jb21tZW50LmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKX1zdGFydERyYWcoKXt0aGlzLmZpcmVEcmFnU3RhcnRFdmVudCgpO3RoaXMuc3RhcnRMb2M9dGhpcy5jb21tZW50LmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt0aGlzLndvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCghMSk7bGV0IGE7KGE9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxhLm1vdmVUb0RyYWdMYXllcih0aGlzLmNvbW1lbnQpO3RoaXMuY29tbWVudC5zZXREcmFnZ2luZyghMCl9ZHJhZyhhKXt0aGlzLmNvbW1lbnQubW92ZUR1cmluZ0RyYWcoYSl9ZW5kRHJhZygpe3RoaXMuZmlyZURyYWdFbmRFdmVudCgpO1xudGhpcy5maXJlTW92ZUV2ZW50KCk7bGV0IGE7KGE9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxhLm1vdmVPZmZEcmFnTGF5ZXIodGhpcy5jb21tZW50LEJMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzKTt0aGlzLmNvbW1lbnQuc2V0RHJhZ2dpbmcoITEpO3RoaXMuY29tbWVudC5zbmFwVG9HcmlkKCk7dGhpcy53b3Jrc3BhY2Uuc2V0UmVzaXplc0VuYWJsZWQoITApfWZpcmVEcmFnU3RhcnRFdmVudCgpe2NvbnN0IGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9EUkFHKSkodGhpcy5jb21tZW50LCEwKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfWZpcmVEcmFnRW5kRXZlbnQoKXtjb25zdCBhPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfRFJBRykpKHRoaXMuY29tbWVudCxcbiExKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfWZpcmVNb3ZlRXZlbnQoKXtpZighdGhpcy5jb21tZW50LmlzRGVhZE9yRHlpbmcoKSl7dmFyIGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFKSkodGhpcy5jb21tZW50KTthLnNldFJlYXNvbihbXCJkcmFnXCJdKTthLm9sZENvb3JkaW5hdGVfPXRoaXMuc3RhcnRMb2M7YS5yZWNvcmROZXcoKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfX1yZXZlcnREcmFnKCl7dGhpcy5zdGFydExvYyYmdGhpcy5jb21tZW50Lm1vdmVEdXJpbmdEcmFnKHRoaXMuc3RhcnRMb2MpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGNvbW1lbnRfZHJhZ19zdHJhdGVneT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRjb21tZW50X2RyYWdfc3RyYXRlZ3kuQ29tbWVudERyYWdTdHJhdGVneT1Db21tZW50RHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckY29tbWVudF9kcmFnX3N0cmF0ZWd5O3ZhciB3b3Jrc3BhY2VUb0RyYWdEZWx0YSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWc9bmV3IFdlYWtNYXAsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWc9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcubW92ZT1tb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZy5zdGFydD1zdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWc7dmFyIENvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2Jhcl9idXR0b249Y2xhc3N7Y29uc3RydWN0b3IoYSxiLGMsZCl7dGhpcy5pZD1hO3RoaXMud29ya3NwYWNlPWI7dGhpcy5jb250YWluZXI9Yzt0aGlzLmNvbW1lbnRWaWV3PWR9aXNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuaWNvbi5jaGVja1Zpc2liaWxpdHkoKX1nZXRDb21tZW50Vmlldygpe3JldHVybiB0aGlzLmNvbW1lbnRWaWV3fWdldFNpemUoYT0hMSl7dmFyIGI9dGhpcy5pY29uLmdldEJCb3goKTtiPVJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0LmZyb20oYik7YSYmKGE9dGhpcy5nZXRNYXJnaW4oKSxiLmxlZnQtPWEsYi50b3AtPWEsYi5ib3R0b20rPWEsYi5yaWdodCs9YSk7cmV0dXJuIGJ9Z2V0TWFyZ2luKCl7cmV0dXJuKHRoaXMuY29udGFpbmVyLmdldEJCb3goKS5oZWlnaHQtdGhpcy5pY29uLmdldEJCb3goKS5oZWlnaHQpLzJ9Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmljb259Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe2NvbnN0IGE9XG50aGlzLmdldENvbW1lbnRWaWV3KCk7dmFyIGI9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7Y29uc3QgYz1hLmdldFNpemUoKTtiPW5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChiLnksYi55K2MuaGVpZ2h0LGIueCxiLngrYy53aWR0aCk7YS53b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcoYil9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4gdGhpcy5pc1Zpc2libGUoKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2Jhcl9idXR0b249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfYmFyX2J1dHRvbi5Db21tZW50QmFyQnV0dG9uPUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2Jhcl9idXR0b247dmFyIENPTU1FTlRfQ09MTEFQU0VfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uPVwiX2NvbGxhcHNlX2Jhcl9idXR0b25cIixDb2xsYXBzZUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb2xsYXBzZV9jb21tZW50X2Jhcl9idXR0b249Y2xhc3MgZXh0ZW5kcyBDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9ue2NvbnN0cnVjdG9yKGEsYixjLGQpe3N1cGVyKGEsYixjLGQpO3RoaXMuaWQ9YTt0aGlzLndvcmtzcGFjZT1iO3RoaXMuY29udGFpbmVyPWM7dGhpcy5jb21tZW50Vmlldz1kO3RoaXMuaWNvbj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSxcbntcImNsYXNzXCI6XCJibG9ja2x5Rm9sZG91dEljb25cIixocmVmOmAke3RoaXMud29ya3NwYWNlLm9wdGlvbnMucGF0aFRvTWVkaWF9Zm9sZG91dC1pY29uLnN2Z2AsaWQ6YCR7dGhpcy5pZH0ke0NPTU1FTlRfQ09MTEFQU0VfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9ufWB9LHRoaXMuY29udGFpbmVyKTt0aGlzLmJpbmRJZD1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmljb24sXCJwb2ludGVyZG93blwiLHRoaXMsdGhpcy5wZXJmb3JtQWN0aW9uLmJpbmQodGhpcykpfWRpc3Bvc2UoKXt1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmJpbmRJZCl9cmVwb3NpdGlvbigpe2NvbnN0IGE9dGhpcy5nZXRNYXJnaW4oKTt0aGlzLmljb24uc2V0QXR0cmlidXRlKFwieVwiLGAke2F9YCk7dGhpcy5pY29uLnNldEF0dHJpYnV0ZShcInhcIixcbmAke2F9YCl9cGVyZm9ybUFjdGlvbihhKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7dGhpcy5nZXRDb21tZW50VmlldygpLmJyaW5nVG9Gcm9udCgpO2EmJmEgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQmJmlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKT9hLnN0b3BQcm9wYWdhdGlvbigpOih0aGlzLmdldENvbW1lbnRWaWV3KCkuc2V0Q29sbGFwc2VkKCF0aGlzLmdldENvbW1lbnRWaWV3KCkuaXNDb2xsYXBzZWQoKSksdGhpcy53b3Jrc3BhY2UuaGlkZUNoYWZmKCksYT09bnVsbHx8YS5zdG9wUHJvcGFnYXRpb24oKSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uPXtDT01NRU5UX0NPTExBUFNFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUjpDT01NRU5UX0NPTExBUFNFX0JBUl9CVVRUT05fRk9DVVNfSURFTlRJRklFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbn07XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uLkNvbGxhcHNlQ29tbWVudEJhckJ1dHRvbj1Db2xsYXBzZUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb2xsYXBzZV9jb21tZW50X2Jhcl9idXR0b247dmFyIENPTU1FTlRfRURJVE9SX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcj1cIl9jb21tZW50X3RleHRhcmVhX1wiLENvbW1lbnRFZGl0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLm9uRmluaXNoRWRpdGluZz1jO3RoaXMudGV4dENoYW5nZUxpc3RlbmVycz1bXTt0aGlzLnRleHQ9XCJcIjt0aGlzLmZvcmVpZ25PYmplY3Q9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRk9SRUlHTk9CSkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseUNvbW1lbnRGb3JlaWduT2JqZWN0XCJ9KTthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhIVE1MX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwiYm9keVwiKTtcbmEuc2V0QXR0cmlidXRlKFwieG1sbnNcIixIVE1MX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKTthLmNsYXNzTmFtZT1cImJsb2NrbHlNaW5pbWFsQm9keVwiO3RoaXMudGV4dEFyZWE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEhUTUxfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ0ZXh0YXJlYVwiKTt0aGlzLnRleHRBcmVhLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKTt0aGlzLnRleHRBcmVhLnNldEF0dHJpYnV0ZShcImRpclwiLHRoaXMud29ya3NwYWNlLlJUTD9cIlJUTFwiOlwiTFRSXCIpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMudGV4dEFyZWEsXCJibG9ja2x5Q29tbWVudFRleHRcIik7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy50ZXh0QXJlYSxcImJsb2NrbHlUZXh0YXJlYVwiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnRleHRBcmVhLFxuXCJibG9ja2x5VGV4dFwiKTthLmFwcGVuZENoaWxkKHRoaXMudGV4dEFyZWEpO3RoaXMuZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChhKTtiJiYodGhpcy5pZD1iK0NPTU1FTlRfRURJVE9SX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcix0aGlzLnRleHRBcmVhLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5pZCkpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMudGV4dEFyZWEsXCJjaGFuZ2VcIix0aGlzLHRoaXMub25UZXh0Q2hhbmdlKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnRleHRBcmVhLFwicG9pbnRlcmRvd25cIix0aGlzLGQ9PntkLnN0b3BQcm9wYWdhdGlvbigpOyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzKTtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCl9KTtcbmNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMudGV4dEFyZWEsXCJ3aGVlbFwiLHRoaXMsZD0+e2Quc3RvcFByb3BhZ2F0aW9uKCl9KTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnRleHRBcmVhLFwia2V5ZG93blwiLHRoaXMsdGhpcy5oYW5kbGVLZXlEb3duKX1nZXREb20oKXtyZXR1cm4gdGhpcy5mb3JlaWduT2JqZWN0fWdldFRleHQoKXtyZXR1cm4gdGhpcy50ZXh0fXNldFRleHQoYSl7dGhpcy50ZXh0QXJlYS52YWx1ZT1hO3RoaXMub25UZXh0Q2hhbmdlKCl9b25UZXh0Q2hhbmdlKCl7Y29uc3QgYT10aGlzLnRleHQ7dGhpcy50ZXh0PXRoaXMudGV4dEFyZWEudmFsdWU7Zm9yKGxldCBiPXRoaXMudGV4dENoYW5nZUxpc3RlbmVycy5sZW5ndGgtMTtiPj0wO2ItLSl0aGlzLnRleHRDaGFuZ2VMaXN0ZW5lcnNbYl0oYSx0aGlzLnRleHQpfWhhbmRsZUtleURvd24oYSl7aWYoYS5rZXk9PT1cblwiRXNjYXBlXCJ8fGEua2V5PT09XCJFbnRlclwiJiYoYS5jdHJsS2V5fHxhLm1ldGFLZXkpKXtpZih0aGlzLm9uRmluaXNoRWRpdGluZyl0aGlzLm9uRmluaXNoRWRpdGluZygpO2Euc3RvcFByb3BhZ2F0aW9uKCl9fWFkZFRleHRDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLnRleHRDaGFuZ2VMaXN0ZW5lcnMucHVzaChhKX1yZW1vdmVUZXh0Q2hhbmdlTGlzdGVuZXIoYSl7dGhpcy50ZXh0Q2hhbmdlTGlzdGVuZXJzLnNwbGljZSh0aGlzLnRleHRDaGFuZ2VMaXN0ZW5lcnMuaW5kZXhPZihhKSwxKX1zZXRQbGFjZWhvbGRlclRleHQoYSl7dGhpcy50ZXh0QXJlYS5wbGFjZWhvbGRlcj1hfXNldEVkaXRhYmxlKGEpe2E/dGhpcy50ZXh0QXJlYS5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTp0aGlzLnRleHRBcmVhLnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsXCJ0cnVlXCIpfXVwZGF0ZVNpemUoYSxiKXt0aGlzLmZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYCR7YS5oZWlnaHQtYi5oZWlnaHR9YCk7XG50aGlzLmZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIixgJHthLndpZHRofWApO3RoaXMuZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoXCJ5XCIsYCR7Yi5oZWlnaHR9YCk7dGhpcy53b3Jrc3BhY2UuUlRMJiZ0aGlzLmZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwieFwiLGAkey1hLndpZHRofWApfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy50ZXh0QXJlYX1nZXRGb2N1c2FibGVUcmVlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlfW9uTm9kZUZvY3VzKCl7Y29uc3QgYT1SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdC5mcm9tKHRoaXMuZm9yZWlnbk9iamVjdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcoUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QuY3JlYXRlRnJvbVBvaW50KHNjcmVlblRvV3NDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKHRoaXMud29ya3NwYWNlLFxuYS5nZXRPcmlnaW4oKSksYS5nZXRXaWR0aCgpLGEuZ2V0SGVpZ2h0KCkpKX1vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiB0aGlzLmlkPyEwOiExfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfZWRpdG9yPXtDT01NRU5UX0VESVRPUl9GT0NVU19JREVOVElGSUVSOkNPTU1FTlRfRURJVE9SX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcn07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfZWRpdG9yLkNvbW1lbnRFZGl0b3I9Q29tbWVudEVkaXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfZWRpdG9yO3ZhciBDT01NRU5UX0RFTEVURV9CQVJfQlVUVE9OX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRkZWxldGVfY29tbWVudF9iYXJfYnV0dG9uPVwiX2RlbGV0ZV9iYXJfYnV0dG9uXCIsRGVsZXRlQ29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGRlbGV0ZV9jb21tZW50X2Jhcl9idXR0b249Y2xhc3MgZXh0ZW5kcyBDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9ue2NvbnN0cnVjdG9yKGEsYixjLGQpe3N1cGVyKGEsYixjLGQpO3RoaXMuaWQ9YTt0aGlzLndvcmtzcGFjZT1iO3RoaXMuY29udGFpbmVyPWM7dGhpcy5jb21tZW50Vmlldz1kO3RoaXMuaWNvbj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSx7XCJjbGFzc1wiOlwiYmxvY2tseURlbGV0ZUljb25cIixcbmhyZWY6YCR7dGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXRoVG9NZWRpYX1kZWxldGUtaWNvbi5zdmdgLGlkOmAke3RoaXMuaWR9JHtDT01NRU5UX0RFTEVURV9CQVJfQlVUVE9OX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRkZWxldGVfY29tbWVudF9iYXJfYnV0dG9ufWB9LGMpO3RoaXMuYmluZElkPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuaWNvbixcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLnBlcmZvcm1BY3Rpb24uYmluZCh0aGlzKSl9ZGlzcG9zZSgpe3VuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuYmluZElkKX1yZXBvc2l0aW9uKCl7Y29uc3QgYT10aGlzLmdldE1hcmdpbigpO3RoaXMuaWNvbi5zZXRBdHRyaWJ1dGUoXCJ4XCIsXCIwXCIpO2NvbnN0IGI9dGhpcy5jb250YWluZXIuZ2V0QkJveCgpO3RoaXMuaWNvbi5zZXRBdHRyaWJ1dGUoXCJ5XCIsXG5gJHthfWApO3RoaXMuaWNvbi5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7Yi53aWR0aC10aGlzLmdldFNpemUoITApLmdldFdpZHRoKCl9YCl9cGVyZm9ybUFjdGlvbihhKXtjbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7YSYmYSBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudCYmaXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpP2Euc3RvcFByb3BhZ2F0aW9uKCk6KHRoaXMuZ2V0Q29tbWVudFZpZXcoKS5kaXNwb3NlKCksYT09bnVsbHx8YS5zdG9wUHJvcGFnYXRpb24oKSwkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcy53b3Jrc3BhY2UpKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRkZWxldGVfY29tbWVudF9iYXJfYnV0dG9uPXtDT01NRU5UX0RFTEVURV9CQVJfQlVUVE9OX0ZPQ1VTX0lERU5USUZJRVI6Q09NTUVOVF9ERUxFVEVfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbn07XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbi5EZWxldGVDb21tZW50QmFyQnV0dG9uPURlbGV0ZUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRkZWxldGVfY29tbWVudF9iYXJfYnV0dG9uO3ZhciBDb21tZW50VmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfdmlldz1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5jb21tZW50SWQ9Yjt0aGlzLmNvbGxhcHNlZD0hMTt0aGlzLmVkaXRhYmxlPSEwO3RoaXMubG9jYXRpb249bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5zaXplQ2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMuZGlzcG9zZUxpc3RlbmVycz1bXTt0aGlzLmNvbGxhcHNlQ2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lcj10aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyPW51bGw7dGhpcy5kaXNwb3NlZD10aGlzLmRpc3Bvc2luZz0hMTt0aGlzLnN2Z1Jvb3Q9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyxcbntcImNsYXNzXCI6XCJibG9ja2x5Q29tbWVudCBibG9ja2x5RWRpdGFibGUgYmxvY2tseURyYWdnYWJsZVwifSk7dGhpcy5oaWdobGlnaHRSZWN0PXRoaXMuY3JlYXRlSGlnaGxpZ2h0UmVjdCh0aGlzLnN2Z1Jvb3QpOyh7dG9wQmFyR3JvdXA6dGhpcy50b3BCYXJHcm91cCx0b3BCYXJCYWNrZ3JvdW5kOnRoaXMudG9wQmFyQmFja2dyb3VuZCxkZWxldGVCdXR0b246dGhpcy5kZWxldGVCdXR0b24sZm9sZG91dEJ1dHRvbjp0aGlzLmZvbGRvdXRCdXR0b24sdGV4dFByZXZpZXc6dGhpcy50ZXh0UHJldmlldyx0ZXh0UHJldmlld05vZGU6dGhpcy50ZXh0UHJldmlld05vZGV9PXRoaXMuY3JlYXRlVG9wQmFyKHRoaXMuc3ZnUm9vdCkpO3RoaXMuY29tbWVudEVkaXRvcj10aGlzLmNyZWF0ZVRleHRBcmVhKCk7dGhpcy5yZXNpemVIYW5kbGU9dGhpcy5jcmVhdGVSZXNpemVIYW5kbGUodGhpcy5zdmdSb290LGEpO2xldCBjOyhjPWEuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxjLmFwcGVuZCh0aGlzLFxuQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpO3RoaXMuc2l6ZT1Db21tZW50VmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfdmlldy5kZWZhdWx0Q29tbWVudFNpemU7dGhpcy5zZXRTaXplV2l0aG91dEZpcmluZ0V2ZW50cyh0aGlzLnNpemUpO3RoaXMubW92ZVRvKG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApKX1jcmVhdGVIaWdobGlnaHRSZWN0KGEpe3JldHVybiBjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtcImNsYXNzXCI6XCJibG9ja2x5Q29tbWVudEhpZ2hsaWdodFwifSxhKX1jcmVhdGVUb3BCYXIoYSl7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLFxue1wiY2xhc3NcIjpcImJsb2NrbHlDb21tZW50VG9wYmFyXCJ9LGEpO2NvbnN0IGI9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7XCJjbGFzc1wiOlwiYmxvY2tseUNvbW1lbnRUb3BiYXJCYWNrZ3JvdW5kXCJ9LGEpLGM9bmV3IERlbGV0ZUNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRkZWxldGVfY29tbWVudF9iYXJfYnV0dG9uKHRoaXMuY29tbWVudElkLHRoaXMud29ya3NwYWNlLGEsdGhpcyksZD1uZXcgQ29sbGFwc2VDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uKHRoaXMuY29tbWVudElkLHRoaXMud29ya3NwYWNlLGEsdGhpcyk7dGhpcy5hZGREaXNwb3NlTGlzdGVuZXIoKCk9PntjLmRpc3Bvc2UoKTtkLmRpc3Bvc2UoKX0pO2NvbnN0IGU9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuVEVYVCxcbntcImNsYXNzXCI6XCJibG9ja2x5Q29tbWVudFByZXZpZXcgYmxvY2tseUNvbW1lbnRUZXh0IGJsb2NrbHlUZXh0XCJ9LGEpLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7ZS5hcHBlbmRDaGlsZChmKTtyZXR1cm57dG9wQmFyR3JvdXA6YSx0b3BCYXJCYWNrZ3JvdW5kOmIsZGVsZXRlQnV0dG9uOmMsZm9sZG91dEJ1dHRvbjpkLHRleHRQcmV2aWV3OmUsdGV4dFByZXZpZXdOb2RlOmZ9fWNyZWF0ZVRleHRBcmVhKCl7Y29uc3QgYT1uZXcgQ29tbWVudEVkaXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfZWRpdG9yKHRoaXMud29ya3NwYWNlLHRoaXMuY29tbWVudElkLCgpPT50aGlzLnN2Z1Jvb3QuZm9jdXMoKSk7dGhpcy5zdmdSb290LmFwcGVuZENoaWxkKGEuZ2V0RG9tKCkpO2EuYWRkVGV4dENoYW5nZUxpc3RlbmVyKChiLGMpPT57dGhpcy51cGRhdGVUZXh0UHJldmlldyhjKTt0aGlzLnNldFNpemUodGhpcy5zaXplKX0pO3JldHVybiBhfWdldEVkaXRvckZvY3VzYWJsZU5vZGUoKXtyZXR1cm4gdGhpcy5jb21tZW50RWRpdG9yfWNyZWF0ZVJlc2l6ZUhhbmRsZShhLFxuYil7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSx7XCJjbGFzc1wiOlwiYmxvY2tseVJlc2l6ZUhhbmRsZVwiLGhyZWY6YCR7Yi5vcHRpb25zLnBhdGhUb01lZGlhfXJlc2l6ZS1oYW5kbGUuc3ZnYH0sYSk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uUmVzaXplUG9pbnRlckRvd24pO3JldHVybiBhfWdldFN2Z1Jvb3QoKXtyZXR1cm4gdGhpcy5zdmdSb290fWdldFNpemUoKXtyZXR1cm4gdGhpcy5jb2xsYXBzZWQ/dGhpcy50b3BCYXJCYWNrZ3JvdW5kLmdldEJCb3goKTp0aGlzLnNpemV9c2V0U2l6ZVdpdGhvdXRGaXJpbmdFdmVudHMoYSl7Y29uc3QgYj10aGlzLnRvcEJhckJhY2tncm91bmQuZ2V0QkJveCgpLGM9dGhpcy50ZXh0UHJldmlldy5nZXRCQm94KCksZD10aGlzLnJlc2l6ZUhhbmRsZS5nZXRCQm94KCk7XG50aGlzLnNpemU9YT1TaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZS5tYXgoYSx0aGlzLmNhbGNNaW5TaXplKGIpKTt0aGlzLnN2Z1Jvb3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYCR7YS5oZWlnaHR9YCk7dGhpcy5zdmdSb290LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYCR7YS53aWR0aH1gKTt0aGlzLnVwZGF0ZUhpZ2hsaWdodFJlY3QoYSk7dGhpcy51cGRhdGVUb3BCYXJTaXplKGEpO3RoaXMuY29tbWVudEVkaXRvci51cGRhdGVTaXplKGEsYik7dGhpcy5kZWxldGVCdXR0b24ucmVwb3NpdGlvbigpO3RoaXMuZm9sZG91dEJ1dHRvbi5yZXBvc2l0aW9uKCk7dGhpcy51cGRhdGVUZXh0UHJldmlld1NpemUoYSxiLGMpO3RoaXMudXBkYXRlUmVzaXplSGFuZGxlUG9zaXRpb24oYSxkKX1zZXRTaXplKGEpe2NvbnN0IGI9dGhpcy5wcmVSZXNpemVTaXplfHx0aGlzLnNpemU7dGhpcy5zZXRTaXplV2l0aG91dEZpcmluZ0V2ZW50cyhhKTt0aGlzLm9uU2l6ZUNoYW5nZShiLFxudGhpcy5zaXplKX1jYWxjTWluU2l6ZShhKXt2YXIgYjt0aGlzLnVwZGF0ZVRleHRQcmV2aWV3KChiPXRoaXMuY29tbWVudEVkaXRvci5nZXRUZXh0KCkpIT1udWxsP2I6XCJcIik7bGV0IGM9Yj1nZXRUZXh0V2lkdGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy50ZXh0UHJldmlldyk7dGhpcy5mb2xkb3V0QnV0dG9uLmlzVmlzaWJsZSgpP2MrPXRoaXMuZm9sZG91dEJ1dHRvbi5nZXRTaXplKCEwKS5nZXRXaWR0aCgpOmImJihjKz00KTt0aGlzLmRlbGV0ZUJ1dHRvbi5pc1Zpc2libGUoKT9jKz10aGlzLmRlbGV0ZUJ1dHRvbi5nZXRTaXplKCEwKS5nZXRXaWR0aCgpOmImJihjKz00KTtyZXR1cm4gbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGMsYS5oZWlnaHQrMjApfXVwZGF0ZUhpZ2hsaWdodFJlY3QoYSl7dGhpcy5oaWdobGlnaHRSZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGAke2EuaGVpZ2h0fWApO3RoaXMuaGlnaGxpZ2h0UmVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFxuYCR7YS53aWR0aH1gKTt0aGlzLndvcmtzcGFjZS5SVEwmJnRoaXMuaGlnaGxpZ2h0UmVjdC5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7LWEud2lkdGh9YCl9dXBkYXRlVG9wQmFyU2l6ZShhKXt0aGlzLnRvcEJhckJhY2tncm91bmQuc2V0QXR0cmlidXRlKFwid2lkdGhcIixgJHthLndpZHRofWApfXVwZGF0ZVRleHRQcmV2aWV3U2l6ZShhLGIsYyl7Yj0oYi5oZWlnaHQtYy5oZWlnaHQpLzI7Y29uc3QgZD10aGlzLmZvbGRvdXRCdXR0b24uZ2V0U2l6ZSghMCksZT10aGlzLmRlbGV0ZUJ1dHRvbi5nZXRTaXplKCEwKTthPWEud2lkdGgtZC5nZXRXaWR0aCgpLWUuZ2V0V2lkdGgoKTt0aGlzLnRleHRQcmV2aWV3LnNldEF0dHJpYnV0ZShcInhcIixgJHsodGhpcy53b3Jrc3BhY2UuUlRMPy0xOjEpKmQuZ2V0V2lkdGgoKX1gKTt0aGlzLnRleHRQcmV2aWV3LnNldEF0dHJpYnV0ZShcInlcIixgJHtiK2MuaGVpZ2h0LzJ9YCk7dGhpcy50ZXh0UHJldmlldy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGAke2F9YCl9dXBkYXRlUmVzaXplSGFuZGxlUG9zaXRpb24oYSxcbmIpe3RoaXMucmVzaXplSGFuZGxlLnNldEF0dHJpYnV0ZShcInlcIixgJHthLmhlaWdodC1iLmhlaWdodH1gKTt0aGlzLnJlc2l6ZUhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7YS53aWR0aC1iLndpZHRofWApfW9uU2l6ZUNoYW5nZShhLGIpe2ZvcihsZXQgYz10aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnMubGVuZ3RoLTE7Yz49MDtjLS0pdGhpcy5zaXplQ2hhbmdlTGlzdGVuZXJzW2NdKGEsYil9YWRkU2l6ZUNoYW5nZUxpc3RlbmVyKGEpe3RoaXMuc2l6ZUNoYW5nZUxpc3RlbmVycy5wdXNoKGEpfXJlbW92ZVNpemVDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnMuc3BsaWNlKHRoaXMuc2l6ZUNoYW5nZUxpc3RlbmVycy5pbmRleE9mKGEpLDEpfW9uUmVzaXplUG9pbnRlckRvd24oYSl7dGhpcy5pc0VkaXRhYmxlKCkmJih0aGlzLmJyaW5nVG9Gcm9udCgpLGlzUmlnaHRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKXx8KHRoaXMucHJlUmVzaXplU2l6ZT1cbnRoaXMuZ2V0U2l6ZSgpLHN0YXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyh0aGlzLndvcmtzcGFjZSxhLG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSh0aGlzLndvcmtzcGFjZS5SVEw/LXRoaXMuZ2V0U2l6ZSgpLndpZHRoOnRoaXMuZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZ2V0U2l6ZSgpLmhlaWdodCkpLHRoaXMucmVzaXplUG9pbnRlclVwTGlzdGVuZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVydXBcIix0aGlzLHRoaXMub25SZXNpemVQb2ludGVyVXApLHRoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJtb3ZlXCIsdGhpcyx0aGlzLm9uUmVzaXplUG9pbnRlck1vdmUpLHRoaXMud29ya3NwYWNlLmhpZGVDaGFmZigpKSxcbmEuc3RvcFByb3BhZ2F0aW9uKCkpfW9uUmVzaXplUG9pbnRlclVwKGEpe2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKTt0aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyJiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lciksdGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lcj1udWxsKTt0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnJlc2l6ZVBvaW50ZXJNb3ZlTGlzdGVuZXIpLHRoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lcj1udWxsKTt0aGlzLnNldFNpemUodGhpcy5zaXplKTt0aGlzLnByZVJlc2l6ZVNpemU9dm9pZCAwfW9uUmVzaXplUG9pbnRlck1vdmUoYSl7YT1tb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyh0aGlzLndvcmtzcGFjZSxcbmEpO3RoaXMuc2V0U2l6ZVdpdGhvdXRGaXJpbmdFdmVudHMobmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKHRoaXMud29ya3NwYWNlLlJUTD8tYS54OmEueCxhLnkpKX1pc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLmNvbGxhcHNlZH1zZXRDb2xsYXBzZWQoYSl7KHRoaXMuY29sbGFwc2VkPWEpP2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlDb2xsYXBzZWRcIik6cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseUNvbGxhcHNlZFwiKTt0aGlzLnNldFNpemVXaXRob3V0RmlyaW5nRXZlbnRzKHRoaXMuc2l6ZSk7dGhpcy5vbkNvbGxhcHNlKCl9b25Db2xsYXBzZSgpe2ZvcihsZXQgYT10aGlzLmNvbGxhcHNlQ2hhbmdlTGlzdGVuZXJzLmxlbmd0aC0xO2E+PTA7YS0tKXRoaXMuY29sbGFwc2VDaGFuZ2VMaXN0ZW5lcnNbYV0odGhpcy5jb2xsYXBzZWQpfWFkZE9uQ29sbGFwc2VMaXN0ZW5lcihhKXt0aGlzLmNvbGxhcHNlQ2hhbmdlTGlzdGVuZXJzLnB1c2goYSl9cmVtb3ZlT25Db2xsYXBzZUxpc3RlbmVyKGEpe3RoaXMuY29sbGFwc2VDaGFuZ2VMaXN0ZW5lcnMuc3BsaWNlKHRoaXMuY29sbGFwc2VDaGFuZ2VMaXN0ZW5lcnMuaW5kZXhPZihhKSxcbjEpfWlzRWRpdGFibGUoKXtyZXR1cm4gdGhpcy5lZGl0YWJsZX1zZXRFZGl0YWJsZShhKXsodGhpcy5lZGl0YWJsZT1hKT8oYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseUVkaXRhYmxlXCIpLHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlSZWFkb25seVwiKSk6KHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxcImJsb2NrbHlFZGl0YWJsZVwiKSxhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QsXCJibG9ja2x5UmVhZG9ubHlcIikpO3RoaXMuY29tbWVudEVkaXRvci5zZXRFZGl0YWJsZShhKX1nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCl7cmV0dXJuIHRoaXMubG9jYXRpb259bW92ZVRvKGEpe3RoaXMubG9jYXRpb249YTt0aGlzLnN2Z1Jvb3Quc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXG5gdHJhbnNsYXRlKCR7YS54fSwgJHthLnl9KWApfWdldFRleHQoKXtyZXR1cm4gdGhpcy5jb21tZW50RWRpdG9yLmdldFRleHQoKX1zZXRUZXh0KGEpe3RoaXMuY29tbWVudEVkaXRvci5zZXRUZXh0KGEpfXNldFBsYWNlaG9sZGVyVGV4dChhKXt0aGlzLmNvbW1lbnRFZGl0b3Iuc2V0UGxhY2Vob2xkZXJUZXh0KGEpfWFkZFRleHRDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLmNvbW1lbnRFZGl0b3IuYWRkVGV4dENoYW5nZUxpc3RlbmVyKGEpfXJlbW92ZVRleHRDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLmNvbW1lbnRFZGl0b3IucmVtb3ZlVGV4dENoYW5nZUxpc3RlbmVyKGEpfXVwZGF0ZVRleHRQcmV2aWV3KGEpe3RoaXMudGV4dFByZXZpZXdOb2RlLnRleHRDb250ZW50PXRoaXMudHJ1bmNhdGVUZXh0KGEpfXRydW5jYXRlVGV4dChhKXtyZXR1cm4gYS5sZW5ndGg+PTEyP2Ake2Euc3Vic3RyaW5nKDAsOSl9Li4uYDphfWJyaW5nVG9Gcm9udCgpe2NvbnN0IGE9dGhpcy5zdmdSb290LnBhcmVudE5vZGUsXG5iPWEuY2hpbGROb2RlcztiW2IubGVuZ3RoLTFdIT09dGhpcy5zdmdSb290JiZhLmFwcGVuZENoaWxkKHRoaXMuc3ZnUm9vdCl9b25EZWxldGVEb3duKGEpe2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKTtpc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSl8fHRoaXMuZGlzcG9zZSgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9ZGlzcG9zZSgpe3RoaXMuZGlzcG9zaW5nPSEwO3JlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290KTtmb3IobGV0IGE9dGhpcy5kaXNwb3NlTGlzdGVuZXJzLmxlbmd0aC0xO2E+PTA7YS0tKXRoaXMuZGlzcG9zZUxpc3RlbmVyc1thXSgpO3RoaXMuZGlzcG9zZUxpc3RlbmVycy5sZW5ndGg9MDt0aGlzLmRpc3Bvc2VkPSEwfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5kaXNwb3NlZH1pc0RlYWRPckR5aW5nKCl7cmV0dXJuIHRoaXMuZGlzcG9zaW5nfHxcbnRoaXMuZGlzcG9zZWR9YWRkRGlzcG9zZUxpc3RlbmVyKGEpe3RoaXMuZGlzcG9zZUxpc3RlbmVycy5wdXNoKGEpfXJlbW92ZURpc3Bvc2VMaXN0ZW5lcihhKXt0aGlzLmRpc3Bvc2VMaXN0ZW5lcnMuc3BsaWNlKHRoaXMuZGlzcG9zZUxpc3RlbmVycy5pbmRleE9mKGEpLDEpfWdldENvbW1lbnRCYXJCdXR0b25zKCl7cmV0dXJuW3RoaXMuZm9sZG91dEJ1dHRvbix0aGlzLmRlbGV0ZUJ1dHRvbl19fTtDb21tZW50VmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfdmlldy5kZWZhdWx0Q29tbWVudFNpemU9bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDEyMCwxMDApO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzKFwiXFxuLmluamVjdGlvbkRpdiB7XFxuICAtLWNvbW1lbnRGaWxsQ29sb3VyOiAjRkZGQ0M3O1xcbiAgLS1jb21tZW50Qm9yZGVyQ29sb3VyOiAjRjJFNDlCO1xcbn1cXG5cXG4uYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlUZXh0YXJlYSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb21tZW50RmlsbENvbG91cik7XFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb21tZW50Qm9yZGVyQ29sb3VyKTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG91dGxpbmU6IDA7XFxuICBwYWRkaW5nOiA1cHg7XFxuICByZXNpemU6IG5vbmU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLmJsb2NrbHlSZWFkb25seS5ibG9ja2x5Q29tbWVudCAuYmxvY2tseVRleHRhcmVhIHtcXG4gIGN1cnNvcjogaW5oZXJpdDtcXG59XFxuXFxuLmJsb2NrbHlEZWxldGVJY29uIHtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgaGVpZ2h0OiAyMHB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmJsb2NrbHlGb2xkb3V0SWNvbiB7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIHRyYW5zZm9ybS1vcmlnaW46IDEycHggMTJweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmJsb2NrbHlSZXNpemVIYW5kbGUge1xcbiAgd2lkdGg6IDEycHg7XFxuICBoZWlnaHQ6IDEycHg7XFxuICBjdXJzb3I6IHNlLXJlc2l6ZTtcXG59XFxuLmJsb2NrbHlSZWFkb25seS5ibG9ja2x5Q29tbWVudCAuYmxvY2tseVJlc2l6ZUhhbmRsZSB7XFxuICBjdXJzb3I6IGluaGVyaXQ7XFxufVxcblxcbi5ibG9ja2x5Q29tbWVudFRvcGJhckJhY2tncm91bmQge1xcbiAgZmlsbDogdmFyKC0tY29tbWVudEJvcmRlckNvbG91cik7XFxuICBoZWlnaHQ6IDI0cHg7XFxufVxcblxcbi5ibG9ja2x5Q29tbWVudCAuYmxvY2tseUNvbW1lbnRQcmV2aWV3LmJsb2NrbHlUZXh0IHtcXG4gIGZpbGw6ICMwMDA7XFxuICBkb21pbmFudC1iYXNlbGluZTogbWlkZGxlO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG5cXG4uYmxvY2tseUNvbGxhcHNlZC5ibG9ja2x5Q29tbWVudCAuYmxvY2tseUNvbW1lbnRQcmV2aWV3IHtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcblxcbi5ibG9ja2x5Q29sbGFwc2VkLmJsb2NrbHlDb21tZW50IC5ibG9ja2x5Q29tbWVudEZvcmVpZ25PYmplY3QsXFxuLmJsb2NrbHlDb2xsYXBzZWQuYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlSZXNpemVIYW5kbGUge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlDb2xsYXBzZWQuYmxvY2tseUNvbW1lbnQgLmJsb2NrbHlGb2xkb3V0SWNvbiB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgtOTBkZWcpO1xcbn1cXG5cXG4uYmxvY2tseVJUTCAuYmxvY2tseUNvbW1lbnRUb3BiYXIge1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgtMSwgMSk7XFxufVxcblxcbi5ibG9ja2x5UlRMIC5ibG9ja2x5Q29tbWVudEZvcmVpZ25PYmplY3Qge1xcbiAgZGlyZWN0aW9uOiBydGw7XFxufVxcblxcbi5ibG9ja2x5UlRMIC5ibG9ja2x5Q29tbWVudFByZXZpZXcge1xcbiAgLyogUmV2ZXJ0IHRoZSBzY2FsZSBhbmQgY29udHJvbCBSVEwgdXNpbmcgZGlyZWN0aW9uIGluc3RlYWQuICovXFxuICB0cmFuc2Zvcm06IHNjYWxlKC0xLCAxKTtcXG4gIGRpcmVjdGlvbjogcnRsO1xcbn1cXG5cXG4uYmxvY2tseVJUTCAuYmxvY2tseVJlc2l6ZUhhbmRsZSB7XFxuICB0cmFuc2Zvcm06IHNjYWxlKC0xLCAxKTtcXG4gIGN1cnNvcjogc3ctcmVzaXplO1xcbn1cXG5cXG4uYmxvY2tseUNvbW1lbnRIaWdobGlnaHQge1xcbiAgZmlsbDogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlDb21tZW50VGV4dC5ibG9ja2x5QWN0aXZlRm9jdXMge1xcbiAgYm9yZGVyLWNvbG9yOiAjZmMzO1xcbiAgYm9yZGVyLXdpZHRoOiAycHg7XFxufVxcblxcbi5ibG9ja2x5U2VsZWN0ZWQgLmJsb2NrbHlDb21tZW50SGlnaGxpZ2h0IHtcXG4gIHN0cm9rZTogI2ZjMztcXG4gIHN0cm9rZS13aWR0aDogM3B4O1xcbn1cXG5cXG4uYmxvY2tseUNvbGxhcHNlZC5ibG9ja2x5U2VsZWN0ZWQgLmJsb2NrbHlDb21tZW50SGlnaGxpZ2h0IHtcXG4gIHN0cm9rZTogbm9uZTtcXG59XFxuXFxuLmJsb2NrbHlDb2xsYXBzZWQuYmxvY2tseVNlbGVjdGVkIC5ibG9ja2x5Q29tbWVudFRvcGJhckJhY2tncm91bmQge1xcbiAgc3Ryb2tlOiAjZmMzO1xcbiAgc3Ryb2tlLXdpZHRoOiAzcHg7XFxufVxcblwiKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF92aWV3PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXcuQ29tbWVudFZpZXc9Q29tbWVudFZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXc7dmFyIFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudD1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMud29ya3NwYWNlPWE7dGhpcy50ZXh0PVwiXCI7dGhpcy5jb2xsYXBzZWQ9ITE7dGhpcy5kZWxldGFibGU9dGhpcy5tb3ZhYmxlPXRoaXMuZWRpdGFibGU9ITA7dGhpcy5sb2NhdGlvbj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTt0aGlzLmRpc3Bvc2luZz10aGlzLmRpc3Bvc2VkPSExO3RoaXMuaWQ9YiYmIWEuZ2V0Q29tbWVudEJ5SWQoYik/YjpnZW5VaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO3RoaXMuc2l6ZT1Db21tZW50VmlldyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfdmlldy5kZWZhdWx0Q29tbWVudFNpemU7YS5hZGRUb3BDb21tZW50KHRoaXMpO3RoaXMuZmlyZUNyZWF0ZUV2ZW50KCl9ZmlyZUNyZWF0ZUV2ZW50KCl7aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJlxuZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NSRUFURSkpKHRoaXMpKX1maXJlRGVsZXRlRXZlbnQoKXtpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RFTEVURSkpKHRoaXMpKX1maXJlQ2hhbmdlRXZlbnQoYSxiKXtpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NIQU5HRSkpKHRoaXMsXG5hLGIpKX1maXJlQ29sbGFwc2VFdmVudChhKXtpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NPTExBUFNFKSkodGhpcyxhKSl9c2V0VGV4dChhKXtjb25zdCBiPXRoaXMudGV4dDt0aGlzLnRleHQ9YTt0aGlzLmZpcmVDaGFuZ2VFdmVudChiLGEpfWdldFRleHQoKXtyZXR1cm4gdGhpcy50ZXh0fXNldFNpemUoYSl7Y29uc3QgYj1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX1JFU0laRSkpKHRoaXMpO3RoaXMuc2l6ZT1hO2IucmVjb3JkQ3VycmVudFNpemVBc05ld1NpemUoKTtcbmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYil9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLnNpemV9c2V0Q29sbGFwc2VkKGEpe3RoaXMuY29sbGFwc2VkPWE7dGhpcy5maXJlQ29sbGFwc2VFdmVudChhKX1pc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLmNvbGxhcHNlZH1zZXRFZGl0YWJsZShhKXt0aGlzLmVkaXRhYmxlPWF9aXNFZGl0YWJsZSgpe3JldHVybiB0aGlzLmlzT3duRWRpdGFibGUoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKX1pc093bkVkaXRhYmxlKCl7cmV0dXJuIHRoaXMuZWRpdGFibGV9c2V0TW92YWJsZShhKXt0aGlzLm1vdmFibGU9YX1pc01vdmFibGUoKXtyZXR1cm4gdGhpcy5pc093bk1vdmFibGUoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKSYmIXRoaXMud29ya3NwYWNlLmlzRmx5b3V0fWlzT3duTW92YWJsZSgpe3JldHVybiB0aGlzLm1vdmFibGV9c2V0RGVsZXRhYmxlKGEpe3RoaXMuZGVsZXRhYmxlPWF9aXNEZWxldGFibGUoKXtyZXR1cm4gdGhpcy5pc093bkRlbGV0YWJsZSgpJiZcbiF0aGlzLmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKSYmIXRoaXMud29ya3NwYWNlLmlzRmx5b3V0fWlzT3duRGVsZXRhYmxlKCl7cmV0dXJuIHRoaXMuZGVsZXRhYmxlfW1vdmVUbyhhLGIpe2NvbnN0IGM9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFKSkodGhpcyk7YiYmYy5zZXRSZWFzb24oYik7dGhpcy5sb2NhdGlvbj1hO2MucmVjb3JkTmV3KCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhjKX1nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCl7cmV0dXJuIHRoaXMubG9jYXRpb259ZGlzcG9zZSgpe3RoaXMuZGlzcG9zaW5nPSEwO3RoaXMuZmlyZURlbGV0ZUV2ZW50KCk7dGhpcy53b3Jrc3BhY2UucmVtb3ZlVG9wQ29tbWVudCh0aGlzKTt0aGlzLmRpc3Bvc2VkPSEwfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5kaXNwb3NlZH1pc0RlYWRPckR5aW5nKCl7cmV0dXJuIHRoaXMuZGlzcG9zaW5nfHxcbnRoaXMuZGlzcG9zZWR9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkd29ya3NwYWNlX2NvbW1lbnQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHdvcmtzcGFjZV9jb21tZW50LldvcmtzcGFjZUNvbW1lbnQ9V29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHdvcmtzcGFjZV9jb21tZW50O3ZhciBSZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudD1jbGFzcyBleHRlbmRzIFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudHtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5kcmFnU3RyYXRlZ3k9bmV3IENvbW1lbnREcmFnU3RyYXRlZ3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRjb21tZW50X2RyYWdfc3RyYXRlZ3kodGhpcyk7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLnZpZXc9bmV3IENvbW1lbnRWaWV3JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF92aWV3KGEsdGhpcy5pZCk7dGhpcy52aWV3LnNldFNpemUodGhpcy5nZXRTaXplKCkpO3RoaXMudmlldy5zZXRFZGl0YWJsZSh0aGlzLmlzRWRpdGFibGUoKSk7dGhpcy52aWV3LmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsXG50aGlzLmlkKTt0aGlzLnZpZXcuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5pZCk7dGhpcy5hZGRNb2RlbFVwZGF0ZUJpbmRpbmdzKCk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy52aWV3LmdldFN2Z1Jvb3QoKSxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLnN0YXJ0R2VzdHVyZSl9YWRkTW9kZWxVcGRhdGVCaW5kaW5ncygpe3RoaXMudmlldy5hZGRUZXh0Q2hhbmdlTGlzdGVuZXIoKGEsYik9PnZvaWQgc3VwZXIuc2V0VGV4dChiKSk7dGhpcy52aWV3LmFkZFNpemVDaGFuZ2VMaXN0ZW5lcigoYSxiKT0+dm9pZCBzdXBlci5zZXRTaXplKGIpKTt0aGlzLnZpZXcuYWRkT25Db2xsYXBzZUxpc3RlbmVyKCgpPT52b2lkIHN1cGVyLnNldENvbGxhcHNlZCh0aGlzLnZpZXcuaXNDb2xsYXBzZWQoKSkpO3RoaXMudmlldy5hZGREaXNwb3NlTGlzdGVuZXIoKCk9Pnt0aGlzLmlzRGVhZE9yRHlpbmcoKXx8dGhpcy5kaXNwb3NlKCl9KX1zZXRUZXh0KGEpe3RoaXMudmlldy5zZXRUZXh0KGEpfXNldFBsYWNlaG9sZGVyVGV4dChhKXt0aGlzLnZpZXcuc2V0UGxhY2Vob2xkZXJUZXh0KGEpfXNldFNpemUoYSl7dGhpcy52aWV3LnNldFNpemUoYSl9c2V0Q29sbGFwc2VkKGEpe3RoaXMudmlldy5zZXRDb2xsYXBzZWQoYSl9c2V0RWRpdGFibGUoYSl7c3VwZXIuc2V0RWRpdGFibGUoYSk7XG50aGlzLnZpZXcuc2V0RWRpdGFibGUodGhpcy5pc0VkaXRhYmxlKCkpfWdldFN2Z1Jvb3QoKXtyZXR1cm4gdGhpcy52aWV3LmdldFN2Z1Jvb3QoKX1nZXRTaXplKCl7cmV0dXJuIHN1cGVyLmdldFNpemUoKX1nZXRCb3VuZGluZ1JlY3RhbmdsZSgpe2NvbnN0IGE9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dmFyIGIsYztjb25zdCBkPShjPShiPXRoaXMudmlldyk9PW51bGw/dm9pZCAwOmIuZ2V0U2l6ZSgpKSE9bnVsbD9jOnRoaXMuZ2V0U2l6ZSgpO3RoaXMud29ya3NwYWNlLlJUTD8oYj1hLngtZC53aWR0aCxjPWEueCk6KGI9YS54LGM9YS54K2Qud2lkdGgpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS55LGEueStkLmhlaWdodCxiLGMpfW1vdmVCeShhLGIsYyl7Y29uc3QgZD10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTthPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShkLngrXG5hLGQueStiKTt0aGlzLm1vdmVUbyhhLGMpfW1vdmVUbyhhLGIpe3N1cGVyLm1vdmVUbyhhLGIpO3RoaXMudmlldy5tb3ZlVG8oYSl9bW92ZUR1cmluZ0RyYWcoYSl7dGhpcy5sb2NhdGlvbj1hO3RoaXMudmlldy5tb3ZlVG8oYSl9c2V0RHJhZ2dpbmcoYSl7YT9hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldFN2Z1Jvb3QoKSxcImJsb2NrbHlEcmFnZ2luZ1wiKTpyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldFN2Z1Jvb3QoKSxcImJsb2NrbHlEcmFnZ2luZ1wiKX1kaXNwb3NlKCl7dGhpcy5kaXNwb3Npbmc9ITA7Y29uc3QgYT0kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKTthLmdldEZvY3VzZWROb2RlKCk9PT10aGlzJiZzZXRUaW1lb3V0KCgpPT5hLmZvY3VzVHJlZSh0aGlzLndvcmtzcGFjZSksMCk7dGhpcy52aWV3LmlzRGVhZE9yRHlpbmcoKXx8XG50aGlzLnZpZXcuZGlzcG9zZSgpO3N1cGVyLmRpc3Bvc2UoKX1zdGFydEdlc3R1cmUoYSl7Y29uc3QgYj10aGlzLndvcmtzcGFjZS5nZXRHZXN0dXJlKGEpO2ImJihiLmhhbmRsZUNvbW1lbnRTdGFydChhLHRoaXMpLCQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzKSl9c2V0RGVsZXRlU3R5bGUoYSl7YT9hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldFN2Z1Jvb3QoKSxcImJsb2NrbHlEcmFnZ2luZ0RlbGV0ZVwiKTpyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldFN2Z1Jvb3QoKSxcImJsb2NrbHlEcmFnZ2luZ0RlbGV0ZVwiKX1pc0NvcHlhYmxlKCl7cmV0dXJuIHRoaXMuaXNPd25Nb3ZhYmxlKCkmJnRoaXMuaXNPd25EZWxldGFibGUoKX1pc01vdmFibGUoKXtyZXR1cm4gdGhpcy5kcmFnU3RyYXRlZ3kuaXNNb3ZhYmxlKCl9c3RhcnREcmFnKCl7dGhpcy5kcmFnU3RyYXRlZ3kuc3RhcnREcmFnKCl9ZHJhZyhhKXt0aGlzLmRyYWdTdHJhdGVneS5kcmFnKGEpfWVuZERyYWcoKXt0aGlzLmRyYWdTdHJhdGVneS5lbmREcmFnKCl9cmV2ZXJ0RHJhZygpe3RoaXMuZHJhZ1N0cmF0ZWd5LnJldmVydERyYWcoKX1zZWxlY3QoKXthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmdldFN2Z1Jvb3QoKSxcblwiYmxvY2tseVNlbGVjdGVkXCIpO2ZpcmVTZWxlY3RlZEV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKHRoaXMpfXVuc2VsZWN0KCl7cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRTdmdSb290KCksXCJibG9ja2x5U2VsZWN0ZWRcIik7ZmlyZVNlbGVjdGVkRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24obnVsbCl9dG9Db3B5RGF0YSgpe3JldHVybntwYXN0ZXI6V29ya3NwYWNlQ29tbWVudFBhc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZCR3b3Jrc3BhY2VfY29tbWVudF9wYXN0ZXIuVFlQRSxjb21tZW50U3RhdGU6c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzKHRoaXMse2FkZENvb3JkaW5hdGVzOiEwLHNhdmVJZHM6ITF9KX19c2hvd0NvbnRleHRNZW51KGEpe2NvbnN0IGI9Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmdldENvbnRleHRNZW51T3B0aW9ucyh7Y29tbWVudDp0aGlzLFxuZm9jdXNlZE5vZGU6dGhpc30sYSk7bGV0IGM7Yz1hIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50P25ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTp3c1RvU2NyZWVuQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCh0aGlzLndvcmtzcGFjZSx0aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSkudHJhbnNsYXRlKDEwLDEwKTtzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoYSxiLHRoaXMud29ya3NwYWNlLlJUTCx0aGlzLndvcmtzcGFjZSxjKX1zbmFwVG9HcmlkKCl7aWYoIXRoaXMuaXNEZWFkT3JEeWluZygpKXt2YXIgYT10aGlzLndvcmtzcGFjZS5nZXRHcmlkKCk7aWYoYSE9bnVsbCYmYS5zaG91bGRTbmFwKCkpe3ZhciBiPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2E9YS5hbGlnblhZKGIpO2EhPT1iJiZ0aGlzLm1vdmVUbyhhLFxuW1wic25hcFwiXSl9fX1nZXRFZGl0b3JGb2N1c2FibGVOb2RlKCl7cmV0dXJuIHRoaXMudmlldy5nZXRFZGl0b3JGb2N1c2FibGVOb2RlKCl9Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmdldFN2Z1Jvb3QoKX1nZXRGb2N1c2FibGVUcmVlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlfW9uTm9kZUZvY3VzKCl7dGhpcy5zZWxlY3QoKTtsZXQgYTsoYT10aGlzLndvcmtzcGFjZS5nZXRMYXllck1hbmFnZXIoKSk9PW51bGx8fGEuYXBwZW5kKHRoaXMsQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpO3RoaXMud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KHRoaXMuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSl9b25Ob2RlQmx1cigpe3RoaXMudW5zZWxlY3QoKX1jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudD17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudC5SZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQ9UmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQ7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5hcHBlbmREb21Ub1dvcmtzcGFjZT1hcHBlbmREb21Ub1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmJsb2NrVG9Eb209YmxvY2tUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmJsb2NrVG9Eb21XaXRoWFk9YmxvY2tUb0RvbVdpdGhYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmNsZWFyV29ya3NwYWNlQW5kTG9hZEZyb21YbWw9Y2xlYXJXb3Jrc3BhY2VBbmRMb2FkRnJvbVhtbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmRlbGV0ZU5leHQ9ZGVsZXRlTmV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwuZG9tVG9CbG9jaz0kLmRvbVRvQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5kb21Ub0Jsb2NrSW50ZXJuYWw9ZG9tVG9CbG9ja0ludGVybmFsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwuZG9tVG9QcmV0dHlUZXh0PWRvbVRvUHJldHR5VGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmRvbVRvVGV4dD1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC5kb21Ub1ZhcmlhYmxlcz1kb21Ub1ZhcmlhYmxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmRvbVRvV29ya3NwYWNlPSQuZG9tVG9Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLmxvYWRXb3Jrc3BhY2VDb21tZW50PWxvYWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO21vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwuc2F2ZVdvcmtzcGFjZUNvbW1lbnQ9c2F2ZVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbC52YXJpYWJsZXNUb0RvbT12YXJpYWJsZXNUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sLndvcmtzcGFjZVRvRG9tPXdvcmtzcGFjZVRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sO3ZhciBCbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY3JlYXRlPWNsYXNzIGV4dGVuZHMgQmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEU7YSYmKGEuaXNTaGFkb3coKSYmKHRoaXMucmVjb3JkVW5kbz0hMSksdGhpcy54bWw9YmxvY2tUb0RvbVdpdGhYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhKSx0aGlzLmlkcz1nZXREZXNjZW5kYW50SWRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpLHRoaXMuanNvbj1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSx7YWRkQ29vcmRpbmF0ZXM6ITB9KSl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtcbmlmKCF0aGlzLnhtbCl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBYTUwgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5pZHMpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSURzIGFyZSB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLmpzb24pdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSlNPTiBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2EueG1sPWRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCh0aGlzLnhtbCk7YS5pZHM9dGhpcy5pZHM7YS5qc29uPXRoaXMuanNvbjt0aGlzLnJlY29yZFVuZG98fChhLnJlY29yZFVuZG89dGhpcy5yZWNvcmRVbmRvKTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxcbmIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBCbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY3JlYXRlKTtiLnhtbD0kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhLnhtbCk7Yi5pZHM9YS5pZHM7Yi5qc29uPWEuanNvbjthLnJlY29yZFVuZG8hPT12b2lkIDAmJihiLnJlY29yZFVuZG89YS5yZWNvcmRVbmRvKTtyZXR1cm4gYn1ydW4oYSl7Y29uc3QgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmpzb24pdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSlNPTiBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLmlkcyl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBJRHMgYXJlIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5pZighYWxsU2hhZG93QmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jcmVhdGUoYix0aGlzLmlkcykpaWYoYSlhcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyh0aGlzLmpzb24sYik7ZWxzZSBmb3IoYT0wO2E8dGhpcy5pZHMubGVuZ3RoO2ErKyl7Y29uc3QgYz10aGlzLmlkc1thXSxkPWIuZ2V0QmxvY2tCeUlkKGMpO2Q/ZC5kaXNwb3NlKCExKTpjPT09dGhpcy5ibG9ja0lkJiZjb25zb2xlLndhcm4oXCJDYW4ndCB1bmNyZWF0ZSBub24tZXhpc3RlbnQgYmxvY2s6IFwiK2MpfX19LGFsbFNoYWRvd0Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY3JlYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubWFwKGM9PmEuZ2V0QmxvY2tCeUlkKGMpKS5maWx0ZXIoYz0+YyYmYy5pc1NoYWRvdygpKS5sZW5ndGg9PT1iLmxlbmd0aH07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DUkVBVEUsQmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19jcmVhdGUuQmxvY2tDcmVhdGU9QmxvY2tDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NyZWF0ZTt2YXIgVGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZT1jbGFzcyBleHRlbmRzIFVpQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGIpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5USEVNRV9DSEFOR0U7dGhpcy50aGVtZU5hbWU9YX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLnRoZW1lTmFtZSl0aHJvdyBFcnJvcihcIlRoZSB0aGVtZSBuYW1lIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB0aGVtZSBuYW1lIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnRoZW1lTmFtZT10aGlzLnRoZW1lTmFtZTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVGhlbWVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZSk7XG5iLnRoZW1lTmFtZT1hLnRoZW1lTmFtZTtyZXR1cm4gYn19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRIRU1FX0NIQU5HRSxUaGVtZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdGhlbWVfY2hhbmdlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdGhlbWVfY2hhbmdlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RoZW1lX2NoYW5nZS5UaGVtZUNoYW5nZT1UaGVtZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdGhlbWVfY2hhbmdlO3ZhciBWaWV3cG9ydENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmlld3BvcnQ9Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMsZCxlKXtzdXBlcihkKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVklFV1BPUlRfQ0hBTkdFO3RoaXMudmlld1RvcD1hO3RoaXMudmlld0xlZnQ9Yjt0aGlzLnNjYWxlPWM7dGhpcy5vbGRTY2FsZT1lfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy52aWV3VG9wPT09dm9pZCAwKXRocm93IEVycm9yKFwiVGhlIHZpZXcgdG9wIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYodGhpcy52aWV3TGVmdD09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSB2aWV3IGxlZnQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmlmKHRoaXMuc2NhbGU9PT12b2lkIDApdGhyb3cgRXJyb3IoXCJUaGUgc2NhbGUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZih0aGlzLm9sZFNjYWxlPT09dm9pZCAwKXRocm93IEVycm9yKFwiVGhlIG9sZCBzY2FsZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2Eudmlld1RvcD10aGlzLnZpZXdUb3A7YS52aWV3TGVmdD10aGlzLnZpZXdMZWZ0O2Euc2NhbGU9dGhpcy5zY2FsZTthLm9sZFNjYWxlPXRoaXMub2xkU2NhbGU7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IFZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192aWV3cG9ydCk7Yi52aWV3VG9wPWEudmlld1RvcDtiLnZpZXdMZWZ0PWEudmlld0xlZnQ7XG5iLnNjYWxlPWEuc2NhbGU7Yi5vbGRTY2FsZT1hLm9sZFNjYWxlO3JldHVybiBifX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVklFV1BPUlRfQ0hBTkdFLFZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192aWV3cG9ydCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3ZpZXdwb3J0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3ZpZXdwb3J0LlZpZXdwb3J0Q2hhbmdlPVZpZXdwb3J0Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192aWV3cG9ydDt2YXIgVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk9e2Zyb21Kc29uSW50ZXJuYWw6ZnJvbUpzb25JbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk9e1RFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeX07bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5LmZyb21Kc29uPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkucmVnaXN0ZXI9cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkudW5yZWdpc3Rlcj11bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnk7dmFyIEZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bj1jbGFzcyBleHRlbmRzIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGR7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCk7dGhpcy5zdmdBcnJvdz10aGlzLmFycm93PXRoaXMuaW1hZ2VFbGVtZW50PXRoaXMubWVudV89dGhpcy5zZWxlY3RlZE1lbnVJdGVtPW51bGw7dGhpcy5TRVJJQUxJWkFCTEU9ITA7dGhpcy5jbGlja1RhcmdldF89dGhpcy5zdWZmaXhGaWVsZD10aGlzLnByZWZpeEZpZWxkPXRoaXMuZ2VuZXJhdGVkT3B0aW9ucz1udWxsO2EhPT1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVAmJih0aGlzLnNldE9wdGlvbnMoYSksYyYmdGhpcy5jb25maWd1cmVfKGMpLGImJnRoaXMuc2V0VmFsaWRhdG9yKGIpKX1mcm9tWG1sKGEpe3RoaXMuaXNPcHRpb25MaXN0RHluYW1pYygpJiZcbnRoaXMuZ2V0T3B0aW9ucyghMSk7dGhpcy5zZXRWYWx1ZShhLnRleHRDb250ZW50KX1sb2FkU3RhdGUoYSl7dGhpcy5sb2FkTGVnYWN5U3RhdGUoRmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLGEpfHwodGhpcy5pc09wdGlvbkxpc3REeW5hbWljKCkmJnRoaXMuZ2V0T3B0aW9ucyghMSksdGhpcy5zZXRWYWx1ZShhKSl9aW5pdFZpZXcoKXt0aGlzLnNob3VsZEFkZEJvcmRlclJlY3RfKCk/dGhpcy5jcmVhdGVCb3JkZXJSZWN0XygpOnRoaXMuY2xpY2tUYXJnZXRfPXRoaXMuc291cmNlQmxvY2tfLmdldFN2Z1Jvb3QoKTt0aGlzLmNyZWF0ZVRleHRFbGVtZW50XygpO3RoaXMuaW1hZ2VFbGVtZW50PWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLklNQUdFLHt9LHRoaXMuZmllbGRHcm91cF8pO3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XP1xudGhpcy5jcmVhdGVTVkdBcnJvd18oKTp0aGlzLmNyZWF0ZVRleHRBcnJvd18oKTt0aGlzLmJvcmRlclJlY3RfJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmJvcmRlclJlY3RfLFwiYmxvY2tseURyb3Bkb3duUmVjdFwiKTt0aGlzLmZpZWxkR3JvdXBfJiYoYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcImJsb2NrbHlGaWVsZFwiKSxhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfLFwiYmxvY2tseURyb3Bkb3duRmllbGRcIikpfXNob3VsZEFkZEJvcmRlclJlY3RfKCl7bGV0IGE7cmV0dXJuIXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fTk9fQk9SREVSX1JFQ1RfU0hBRE9XfHx0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX05PX0JPUkRFUl9SRUNUX1NIQURPVyYmISgoYT10aGlzLmdldFNvdXJjZUJsb2NrKCkpPT1cbm51bGw/MDphLmlzU2hhZG93KCkpfWNyZWF0ZVRleHRBcnJvd18oKXt0aGlzLmFycm93PWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlRTUEFOLHt9LHRoaXMudGV4dEVsZW1lbnRfKTtsZXQgYTt0aGlzLmFycm93LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCgoYT10aGlzLmdldFNvdXJjZUJsb2NrKCkpPT1udWxsPzA6YS5SVEwpP0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5BUlJPV19DSEFSK1wiIFwiOlwiIFwiK0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5BUlJPV19DSEFSKSk7dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0JBU0VMSU5FX0NFTlRFUiYmdGhpcy5hcnJvdy5zZXRBdHRyaWJ1dGUoXCJkb21pbmFudC1iYXNlbGluZVwiLFwiY2VudHJhbFwiKTtsZXQgYjtcbigoYj10aGlzLmdldFNvdXJjZUJsb2NrKCkpPT1udWxsPzA6Yi5SVEwpP3RoaXMuZ2V0VGV4dEVsZW1lbnQoKS5pbnNlcnRCZWZvcmUodGhpcy5hcnJvdyx0aGlzLnRleHRDb250ZW50Xyk6dGhpcy5nZXRUZXh0RWxlbWVudCgpLmFwcGVuZENoaWxkKHRoaXMuYXJyb3cpfWNyZWF0ZVNWR0Fycm93Xygpe3RoaXMuc3ZnQXJyb3c9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use2hlaWdodDp0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFK1wicHhcIix3aWR0aDp0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFK1wicHhcIn0sdGhpcy5maWVsZEdyb3VwXyk7dGhpcy5zdmdBcnJvdy5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhsaW5rOmhyZWZcIixcbnRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX0RBVEFVUkkpfXNob3dFZGl0b3JfKGEpe3ZhciBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYil0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDt0aGlzLmRyb3Bkb3duQ3JlYXRlKCk7dGhpcy5tZW51XyYmKHRoaXMubWVudV8ub3BlbmluZ0Nvb3Jkcz1hJiZ0eXBlb2YgYS5jbGllbnRYPT09XCJudW1iZXJcIj9uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLGEuY2xpZW50WSk6bnVsbCxjbGVhckNvbnRlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLGE9dGhpcy5tZW51Xy5yZW5kZXIoZ2V0Q29udGVudERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCkpLGFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXG5cImJsb2NrbHlEcm9wZG93bk1lbnVcIiksdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9DT0xPVVJFRF9ESVYmJihiPWIuZ2V0Q29sb3VyKCksYT10aGlzLnNvdXJjZUJsb2NrXy5nZXRDb2xvdXJUZXJ0aWFyeSgpLHNldENvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KGIsYSkpLHNob3dQb3NpdGlvbmVkQnlGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KHRoaXMsdGhpcy5kcm9wZG93bkRpc3Bvc2VfLmJpbmQodGhpcykpLGdldENvbnRlbnREaXYkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpLnN0eWxlLmhlaWdodD1gJHt0aGlzLm1lbnVfLmdldFNpemUoKS5oZWlnaHR9cHhgLHRoaXMubWVudV8uZm9jdXMoKSx0aGlzLnNlbGVjdGVkTWVudUl0ZW0mJnRoaXMubWVudV8uc2V0SGlnaGxpZ2h0ZWQodGhpcy5zZWxlY3RlZE1lbnVJdGVtKSx0aGlzLmFwcGx5Q29sb3VyKCkpfWRyb3Bkb3duQ3JlYXRlKCl7Y29uc3QgYT1cbnRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtjb25zdCBiPW5ldyBNZW51JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWVudTtiLnNldFJvbGUoUm9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuTElTVEJPWCk7dGhpcy5tZW51Xz1iO2NvbnN0IGM9dGhpcy5nZXRPcHRpb25zKCExKTt0aGlzLnNlbGVjdGVkTWVudUl0ZW09bnVsbDtmb3IobGV0IGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGQ9Y1tlXTtpZihkPT09RmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLlNFUEFSQVRPUil7Yi5hZGRDaGlsZChuZXcgTWVudVNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVfc2VwYXJhdG9yKTtjb250aW51ZX1jb25zdCBbZixnXT1kO2lzSW1hZ2VQcm9wZXJ0aWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24oZik/XG4oZD1uZXcgSW1hZ2UoZi53aWR0aCxmLmhlaWdodCksZC5zcmM9Zi5zcmMsZC5hbHQ9Zi5hbHQpOmQ9ZjtkPW5ldyBNZW51SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnVpdGVtKGQsZyk7ZC5zZXRSb2xlKFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLk9QVElPTik7ZC5zZXRSaWdodFRvTGVmdChhLlJUTCk7ZC5zZXRDaGVja2FibGUoITApO2IuYWRkQ2hpbGQoZCk7ZC5zZXRDaGVja2VkKGc9PT10aGlzLnZhbHVlXyk7Zz09PXRoaXMudmFsdWVfJiYodGhpcy5zZWxlY3RlZE1lbnVJdGVtPWQpO2Qub25BY3Rpb24odGhpcy5oYW5kbGVNZW51QWN0aW9uRXZlbnQsdGhpcyl9fWRyb3Bkb3duRGlzcG9zZV8oKXt0aGlzLm1lbnVfJiZ0aGlzLm1lbnVfLmRpc3Bvc2UoKTt0aGlzLnNlbGVjdGVkTWVudUl0ZW09dGhpcy5tZW51Xz1udWxsO3RoaXMuYXBwbHlDb2xvdXIoKX1oYW5kbGVNZW51QWN0aW9uRXZlbnQoYSl7aGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdih0aGlzLFxuITApO3RoaXMub25JdGVtU2VsZWN0ZWRfKHRoaXMubWVudV8sYSl9b25JdGVtU2VsZWN0ZWRfKGEsYil7dGhpcy5zZXRWYWx1ZShiLmdldFZhbHVlKCkpfWlzT3B0aW9uTGlzdER5bmFtaWMoKXtyZXR1cm4gdHlwZW9mIHRoaXMubWVudUdlbmVyYXRvcl89PT1cImZ1bmN0aW9uXCJ9Z2V0T3B0aW9ucyhhKXtpZighdGhpcy5tZW51R2VuZXJhdG9yXyl0aHJvdyBUeXBlRXJyb3IoXCJBIG1lbnUgZ2VuZXJhdG9yIHdhcyBuZXZlciBkZWZpbmVkLlwiKTtpZihBcnJheS5pc0FycmF5KHRoaXMubWVudUdlbmVyYXRvcl8pKXJldHVybiB0aGlzLm1lbnVHZW5lcmF0b3JfO2lmKGEmJnRoaXMuZ2VuZXJhdGVkT3B0aW9ucylyZXR1cm4gdGhpcy5nZW5lcmF0ZWRPcHRpb25zO3RoaXMuZ2VuZXJhdGVkT3B0aW9ucz10aGlzLm1lbnVHZW5lcmF0b3JfKCk7dGhpcy52YWxpZGF0ZU9wdGlvbnModGhpcy5nZW5lcmF0ZWRPcHRpb25zKTtyZXR1cm4gdGhpcy5nZW5lcmF0ZWRPcHRpb25zfXNldE9wdGlvbnMoYSl7QXJyYXkuaXNBcnJheShhKT9cbih0aGlzLnZhbGlkYXRlT3B0aW9ucyhhKSxhPXRoaXMudHJpbU9wdGlvbnMoYSksdGhpcy5tZW51R2VuZXJhdG9yXz1hLm9wdGlvbnMsdGhpcy5wcmVmaXhGaWVsZD1hLnByZWZpeHx8bnVsbCx0aGlzLnN1ZmZpeEZpZWxkPWEuc3VmZml4fHxudWxsKTp0aGlzLm1lbnVHZW5lcmF0b3JfPWE7dGhpcy5zZWxlY3RlZE9wdGlvbj10aGlzLmdldE9wdGlvbnMoITEpWzBdO3RoaXMuc2V0VmFsdWUodGhpcy5zZWxlY3RlZE9wdGlvblsxXSl9ZG9DbGFzc1ZhbGlkYXRpb25fKGEpe3JldHVybiB0aGlzLmdldE9wdGlvbnMoITApLnNvbWUoYj0+YlsxXT09PWEpP2E6KHRoaXMuc291cmNlQmxvY2tfJiZjb25zb2xlLndhcm4oXCJDYW5ub3Qgc2V0IHRoZSBkcm9wZG93bidzIHZhbHVlIHRvIGFuIHVuYXZhaWxhYmxlIG9wdGlvbi4gQmxvY2sgdHlwZTogXCIrdGhpcy5zb3VyY2VCbG9ja18udHlwZStcIiwgRmllbGQgbmFtZTogXCIrdGhpcy5uYW1lK1wiLCBWYWx1ZTogXCIrYSksbnVsbCl9ZG9WYWx1ZVVwZGF0ZV8oYSl7c3VwZXIuZG9WYWx1ZVVwZGF0ZV8oYSk7XG5hPXRoaXMuZ2V0T3B0aW9ucyghMCk7Zm9yKGxldCBiPTAsYztjPWFbYl07YisrKWNbMV09PT10aGlzLnZhbHVlXyYmKHRoaXMuc2VsZWN0ZWRPcHRpb249Yyl9YXBwbHlDb2xvdXIoKXtjb25zdCBhPXRoaXMuc291cmNlQmxvY2tfO3RoaXMuYm9yZGVyUmVjdF8mJih0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLGEuZ2V0Q29sb3VyVGVydGlhcnkoKSksdGhpcy5tZW51Xz90aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcImZpbGxcIixhLmdldENvbG91clRlcnRpYXJ5KCkpOnRoaXMuYm9yZGVyUmVjdF8uc2V0QXR0cmlidXRlKFwiZmlsbFwiLFwidHJhbnNwYXJlbnRcIikpO2EmJnRoaXMuYXJyb3cmJihhLmlzU2hhZG93KCk/dGhpcy5hcnJvdy5zdHlsZS5maWxsPWEuZ2V0Q29sb3VyU2Vjb25kYXJ5KCk6dGhpcy5hcnJvdy5zdHlsZS5maWxsPWEuZ2V0Q29sb3VyKCkpfXJlbmRlcl8oKXt0aGlzLmdldFRleHRDb250ZW50KCkubm9kZVZhbHVlPVwiXCI7dGhpcy5pbWFnZUVsZW1lbnQuc3R5bGUuZGlzcGxheT1cblwibm9uZVwiO2NvbnN0IGE9dGhpcy5zZWxlY3RlZE9wdGlvbiYmdGhpcy5zZWxlY3RlZE9wdGlvblswXTtpc0ltYWdlUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duKGEpP3RoaXMucmVuZGVyU2VsZWN0ZWRJbWFnZShhKTp0aGlzLnJlbmRlclNlbGVjdGVkVGV4dCgpO3RoaXMucG9zaXRpb25Cb3JkZXJSZWN0XygpfXJlbmRlclNlbGVjdGVkSW1hZ2UoYSl7Y29uc3QgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWIpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7dGhpcy5pbWFnZUVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIlwiO3RoaXMuaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLGEuc3JjKTt0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixTdHJpbmcoYS5oZWlnaHQpKTtcbnRoaXMuaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsU3RyaW5nKGEud2lkdGgpKTtjb25zdCBjPU51bWJlcihhLmhlaWdodCk7YT1OdW1iZXIoYS53aWR0aCk7dmFyIGQ9ISF0aGlzLmJvcmRlclJlY3RfO2NvbnN0IGU9TWF0aC5tYXgoZD90aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX0JPUkRFUl9SRUNUX0hFSUdIVDowLGMrRmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLklNQUdFX1lfUEFERElORyk7ZD1kP3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HOjA7bGV0IGY7Zj10aGlzLnN2Z0Fycm93P3RoaXMucG9zaXRpb25TVkdBcnJvdyhhK2QsZS8yLXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1NJWkUvMik6Z2V0VGV4dFdpZHRoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuYXJyb3cpO3RoaXMuc2l6ZV89bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGErXG5mK2QqMixlKTtsZXQgZz0wO2IuUlRMP3RoaXMuaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcInhcIixgJHtkK2Z9YCk6KGc9YStmLHRoaXMuZ2V0VGV4dEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpLHRoaXMuaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcInhcIixgJHtkfWApKTt0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ5XCIsU3RyaW5nKGUvMi1jLzIpKTt0aGlzLnBvc2l0aW9uVGV4dEVsZW1lbnRfKGcrZCxhK2YpfXJlbmRlclNlbGVjdGVkVGV4dCgpe3RoaXMuZ2V0VGV4dENvbnRlbnQoKS5ub2RlVmFsdWU9dGhpcy5nZXREaXNwbGF5VGV4dF8oKTt2YXIgYT10aGlzLmdldFRleHRFbGVtZW50KCk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxcImJsb2NrbHlEcm9wZG93blRleHRcIik7YS5zZXRBdHRyaWJ1dGUoXCJ0ZXh0LWFuY2hvclwiLFwic3RhcnRcIik7dmFyIGI9ISF0aGlzLmJvcmRlclJlY3RfO2E9TWF0aC5tYXgoYj9cbnRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fQk9SREVSX1JFQ1RfSEVJR0hUOjAsdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0hFSUdIVCk7Y29uc3QgYz1nZXRUZXh0V2lkdGgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRUZXh0RWxlbWVudCgpKTtiPWI/dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9YX1BBRERJTkc6MDtsZXQgZD0wO3RoaXMuc3ZnQXJyb3cmJihkPXRoaXMucG9zaXRpb25TVkdBcnJvdyhjK2IsYS8yLXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1NJWkUvMikpO3RoaXMuc2l6ZV89bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGMrZCtiKjIsYSk7dGhpcy5wb3NpdGlvblRleHRFbGVtZW50XyhiLGMpfXBvc2l0aW9uU1ZHQXJyb3coYSxiKXtpZighdGhpcy5zdmdBcnJvdylyZXR1cm4gMDtjb25zdCBjPXRoaXMuZ2V0U291cmNlQmxvY2soKTtcbmlmKCFjKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2NvbnN0IGQ9dGhpcy5ib3JkZXJSZWN0Xz90aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzowLGU9dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfUEFERElORyxmPXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1NJWkU7dGhpcy5zdmdBcnJvdy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIisoYy5SVEw/ZDphK2UpK1wiLFwiK2IrXCIpXCIpO3JldHVybiBmK2V9Z2V0VGV4dF8oKXtpZighdGhpcy5zZWxlY3RlZE9wdGlvbilyZXR1cm4gbnVsbDtjb25zdCBhPXRoaXMuc2VsZWN0ZWRPcHRpb25bMF07aWYoaXNJbWFnZVByb3BlcnRpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bihhKSlyZXR1cm4gYS5hbHQ7aWYodHlwZW9mIEhUTUxFbGVtZW50IT09XG5cInVuZGVmaW5lZFwiJiZhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2xldCBiLGM7cmV0dXJuKGM9KGI9YS50aXRsZSkhPW51bGw/YjphLmFyaWFMYWJlbCkhPW51bGw/YzphLmlubmVyVGV4dH1pZih0eXBlb2YgYT09PVwic3RyaW5nXCIpcmV0dXJuIGE7Y29uc29sZS53YXJuKFwiQ2FuJ3QgZ2V0IHRleHQgZm9yIGV4aXN0aW5nIGRyb3Bkb3duIG9wdGlvbi4gSWYgeW91J3JlIHVzaW5nIEhUTUxFbGVtZW50IGRyb3Bkb3duIG9wdGlvbnMgaW4gbm9kZSwgZW5zdXJlIHlvdSdyZSB1c2luZyBqc2RvbS1nbG9iYWwgb3Igc2ltaWxhci5cIik7cmV0dXJuIG51bGx9c3RhdGljIGZyb21Kc29uKGEpe2lmKCFhLm9wdGlvbnMpdGhyb3cgRXJyb3IoXCJvcHRpb25zIGFyZSByZXF1aXJlZCBmb3IgdGhlIGRyb3Bkb3duIGZpZWxkLiBUaGUgb3B0aW9ucyBwcm9wZXJ0eSBtdXN0IGJlIGFzc2lnbmVkIGFuIGFycmF5IG9mIFtodW1hblJlYWRhYmxlVmFsdWUsIGxhbmd1YWdlTmV1dHJhbFZhbHVlXSB0dXBsZXMuXCIpO1xucmV0dXJuIG5ldyB0aGlzKGEub3B0aW9ucyx2b2lkIDAsYSl9dHJpbU9wdGlvbnMoYSl7bGV0IGI9ITE7Y29uc3QgYz1hLm1hcChnPT57aWYoZz09PUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5TRVBBUkFUT1IpcmV0dXJuIGI9ITAsZztjb25zdCBbaCxrXT1nO2lmKHR5cGVvZiBoPT09XCJzdHJpbmdcIilyZXR1cm5bcmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhoKSxrXTtiPSEwO3JldHVybltpc0ltYWdlUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duKGgpP09iamVjdC5hc3NpZ24oe30saCx7YWx0OnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoaC5hbHQpfSk6aCxrXX0pO2lmKGJ8fGEubGVuZ3RoPDIpcmV0dXJue29wdGlvbnM6Y307dmFyIGQ9Yy5tYXAoKFtnXSk9PmcpLFxuZT1zaG9ydGVzdFN0cmluZ0xlbmd0aCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhkKTthPWNvbW1vbldvcmRQcmVmaXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZCxlKTtjb25zdCBmPWNvbW1vbldvcmRTdWZmaXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHJpbmcoZCxlKTtpZighYSYmIWZ8fGU8PWErZilyZXR1cm57b3B0aW9uczpjfTtlPWE/ZFswXS5zdWJzdHJpbmcoMCxhLTEpOnZvaWQgMDtkPWY/ZFswXS5zdWJzdHIoMS1mKTp2b2lkIDA7cmV0dXJue29wdGlvbnM6dGhpcy5hcHBseVRyaW0oYyxhLGYpLHByZWZpeDplLHN1ZmZpeDpkfX1hcHBseVRyaW0oYSxiLGMpe3JldHVybiBhLm1hcCgoW2QsZV0pPT5bZC5zdWJzdHJpbmcoYixkLmxlbmd0aC1jKSxlXSl9dmFsaWRhdGVPcHRpb25zKGEpe2lmKCFBcnJheS5pc0FycmF5KGEpKXRocm93IFR5cGVFcnJvcihcIkZpZWxkRHJvcGRvd24gb3B0aW9ucyBtdXN0IGJlIGFuIGFycmF5LlwiKTtcbmlmKCFhLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoXCJGaWVsZERyb3Bkb3duIG9wdGlvbnMgbXVzdCBub3QgYmUgYW4gZW1wdHkgYXJyYXkuXCIpO2xldCBiPSExO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY107QXJyYXkuaXNBcnJheShkKXx8ZD09PUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5TRVBBUkFUT1I/dHlwZW9mIGRbMV0hPT1cInN0cmluZ1wiPyhiPSEwLGNvbnNvbGUuZXJyb3IoYEludmFsaWQgb3B0aW9uWyR7Y31dOiBFYWNoIEZpZWxkRHJvcGRvd24gb3B0aW9uIGlkIG11c3QgYmUgYSBzdHJpbmcuXG4gICAgICAgICAgRm91bmQgJHtkWzFdfSBpbjogJHtkfWApKTohZFswXXx8dHlwZW9mIGRbMF09PT1cInN0cmluZ1wifHxpc0ltYWdlUHJvcGVydGllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duKGRbMF0pfHx0eXBlb2YgSFRNTEVsZW1lbnQhPT1cInVuZGVmaW5lZFwiJiZkWzBdaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8KGI9ITAsY29uc29sZS5lcnJvcihgSW52YWxpZCBvcHRpb25bJHtjfV06IEVhY2ggRmllbGREcm9wZG93biBvcHRpb24gbXVzdCBoYXZlIGEgc3RyaW5nXG4gICAgICAgICAgbGFiZWwsIGltYWdlIGRlc2NyaXB0aW9uLCBvciBIVE1MIGVsZW1lbnQuIEZvdW5kICR7ZFswXX0gaW46ICR7ZH1gKSk6KGI9ITAsY29uc29sZS5lcnJvcihgSW52YWxpZCBvcHRpb25bJHtjfV06IEVhY2ggRmllbGREcm9wZG93biBvcHRpb24gbXVzdCBiZSBhbiBhcnJheSBvclxuICAgICAgICAgIHRoZSBzdHJpbmcgbGl0ZXJhbCAnc2VwYXJhdG9yJy4gRm91bmQ6ICR7ZH1gKSl9aWYoYil0aHJvdyBUeXBlRXJyb3IoXCJGb3VuZCBpbnZhbGlkIEZpZWxkRHJvcGRvd24gb3B0aW9ucy5cIik7fX07RmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLlNFUEFSQVRPUj1cInNlcGFyYXRvclwiO0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5BUlJPV19DSEFSPVwiXFx1MjViZVwiO0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5JTUFHRV9ZX09GRlNFVD01O0ZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bi5JTUFHRV9ZX1BBRERJTkc9RmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLklNQUdFX1lfT0ZGU0VUKjI7XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KFwiZmllbGRfZHJvcGRvd25cIixGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd24pO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duLkZpZWxkRHJvcGRvd249RmllbGREcm9wZG93biQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2Ryb3Bkb3duO3ZhciBUaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQpe3RoaXMubmFtZT1hO3RoaXMuc3RhcnRIYXRzPSExO3RoaXMuYmxvY2tTdHlsZXM9Ynx8T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmNhdGVnb3J5U3R5bGVzPWN8fE9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5jb21wb25lbnRTdHlsZXM9ZHx8T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmZvbnRTdHlsZT1PYmplY3QuY3JlYXRlKG51bGwpO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRIRU1FLGEsdGhpcywhMCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIHRoaXMubmFtZStcIi10aGVtZVwifXNldEJsb2NrU3R5bGUoYSxiKXt0aGlzLmJsb2NrU3R5bGVzW2FdPWJ9c2V0Q2F0ZWdvcnlTdHlsZShhLGIpe3RoaXMuY2F0ZWdvcnlTdHlsZXNbYV09Yn1nZXRDb21wb25lbnRTdHlsZShhKXthPVxudGhpcy5jb21wb25lbnRTdHlsZXNbYV07aWYoIWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGE9PT1cInN0cmluZ1wiKXtjb25zdCBiPXRoaXMuZ2V0Q29tcG9uZW50U3R5bGUoYSk7aWYoYilyZXR1cm4gYn1yZXR1cm5gJHthfWB9c2V0Q29tcG9uZW50U3R5bGUoYSxiKXt0aGlzLmNvbXBvbmVudFN0eWxlc1thXT1ifXNldEZvbnRTdHlsZShhKXt0aGlzLmZvbnRTdHlsZT1hfXNldFN0YXJ0SGF0cyhhKXt0aGlzLnN0YXJ0SGF0cz1hfXN0YXRpYyBkZWZpbmVUaGVtZShhLGIpe2E9YS50b0xvd2VyQ2FzZSgpO2NvbnN0IGM9bmV3IFRoZW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUoYSk7bGV0IGQ9Yi5iYXNlO2lmKGQpe2lmKHR5cGVvZiBkPT09XCJzdHJpbmdcIil7bGV0IGU7ZD0oZT1nZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVEhFTUUsZCkpIT1udWxsP2U6dm9pZCAwfWQgaW5zdGFuY2VvZlxuVGhlbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSYmKGRlZXBNZXJnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdChjLGQpLGMubmFtZT1hKX1kZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoYy5ibG9ja1N0eWxlcyxiLmJsb2NrU3R5bGVzKTtkZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoYy5jYXRlZ29yeVN0eWxlcyxiLmNhdGVnb3J5U3R5bGVzKTtkZWVwTWVyZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRvYmplY3QoYy5jb21wb25lbnRTdHlsZXMsYi5jb21wb25lbnRTdHlsZXMpO2RlZXBNZXJnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG9iamVjdChjLmZvbnRTdHlsZSxiLmZvbnRTdHlsZSk7Yi5zdGFydEhhdHMhPT1udWxsJiYoYy5zdGFydEhhdHM9Yi5zdGFydEhhdHMpO3JldHVybiBjfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lLlRoZW1lPVRoZW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWU7dmFyIGRlZmF1bHRCbG9ja1N0eWxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWM9e2NvbG91cl9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyMFwifSxsaXN0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjI2MFwifSxsb2dpY19ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyMTBcIn0sbG9vcF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIxMjBcIn0sbWF0aF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyMzBcIn0scHJvY2VkdXJlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjI5MFwifSx0ZXh0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjE2MFwifSx2YXJpYWJsZV9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIzMzBcIn0sdmFyaWFibGVfZHluYW1pY19ibG9ja3M6e2NvbG91clByaW1hcnk6XCIzMTBcIn0saGF0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjMzMFwiLGhhdDpcImNhcFwifX0sY2F0ZWdvcnlTdHlsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSRjbGFzc2ljPXtjb2xvdXJfY2F0ZWdvcnk6e2NvbG91cjpcIjIwXCJ9LFxubGlzdF9jYXRlZ29yeTp7Y29sb3VyOlwiMjYwXCJ9LGxvZ2ljX2NhdGVnb3J5Ontjb2xvdXI6XCIyMTBcIn0sbG9vcF9jYXRlZ29yeTp7Y29sb3VyOlwiMTIwXCJ9LG1hdGhfY2F0ZWdvcnk6e2NvbG91cjpcIjIzMFwifSxwcm9jZWR1cmVfY2F0ZWdvcnk6e2NvbG91cjpcIjI5MFwifSx0ZXh0X2NhdGVnb3J5Ontjb2xvdXI6XCIxNjBcIn0sdmFyaWFibGVfY2F0ZWdvcnk6e2NvbG91cjpcIjMzMFwifSx2YXJpYWJsZV9keW5hbWljX2NhdGVnb3J5Ontjb2xvdXI6XCIzMTBcIn19LENsYXNzaWMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSRjbGFzc2ljPW5ldyBUaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lKFwiY2xhc3NpY1wiLGRlZmF1bHRCbG9ja1N0eWxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWMsY2F0ZWdvcnlTdHlsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSRjbGFzc2ljKSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYz17Q2xhc3NpYzpDbGFzc2ljJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpY307dmFyIE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuZ3JpZFBhdHRlcm49bnVsbDt0aGlzLmdldE1ldHJpY3M9dGhpcy5zZXRNZXRyaWNzPXZvaWQgMDtsZXQgYj1udWxsLGM9ITE7dmFyIGQ9ITEsZT0hMSxmPSExLGc9ITEsaD0hMTtjb25zdCBrPSEhYS5yZWFkT25seTtpZighayl7dmFyIGw7Yj1jb252ZXJ0VG9vbGJveERlZlRvSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goKGw9YS50b29sYm94KSE9bnVsbD9sOm51bGwpO2M9aGFzQ2F0ZWdvcmllcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYik7ZD1hLnRyYXNoY2FuO2Q9ZD09PXZvaWQgMD9jOmQ7ZT1hLmNvbGxhcHNlO2U9ZT09PXZvaWQgMD9jOmU7Zj1hLmNvbW1lbnRzO2Y9Zj09PXZvaWQgMD9jOmY7Zz1hLmRpc2FibGU7Zz1nPT09dm9pZCAwP2M6ZztoPWEuc291bmRzO2g9aD09PXZvaWQgMD8hMDpofWw9XG5hLm1heFRyYXNoY2FuQ29udGVudHM7ZD9sPT09dm9pZCAwJiYobD0zMik6bD0wO2NvbnN0IG09ISFhLnJ0bDtsZXQgbj1hLmhvcml6b250YWxMYXlvdXQ7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBwPWEudG9vbGJveFBvc2l0aW9uIT09XCJlbmRcIjtwPW4/cD9Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guVE9QOlBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5CT1RUT006cD09PW0/UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hUOlBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUO2xldCByPWEuY3NzO3I9PT12b2lkIDAmJihyPSEwKTtsZXQgcT1cImh0dHBzOi8vYmxvY2tseS1kZW1vLmFwcHNwb3QuY29tL3N0YXRpYy9tZWRpYS9cIjthLm1lZGlhJiYocT1hLm1lZGlhLmVuZHNXaXRoKFwiL1wiKT9hLm1lZGlhOmEubWVkaWErXCIvXCIpO2NvbnN0IHU9XG5hLm9uZUJhc2VkSW5kZXgseT1hLnJlbmRlcmVyfHxcImdlcmFzXCIsej1hLnBsdWdpbnN8fHt9O2xldCB0PWEubW9kYWxJbnB1dHM7dD09PXZvaWQgMCYmKHQ9ITApO3RoaXMuUlRMPW07dGhpcy5vbmVCYXNlZEluZGV4PXU9PT12b2lkIDA/ITA6dTt0aGlzLmNvbGxhcHNlPWU7dGhpcy5jb21tZW50cz1mO3RoaXMuZGlzYWJsZT1nO3RoaXMucmVhZE9ubHk9azt0aGlzLm1heEJsb2Nrcz1hLm1heEJsb2Nrc3x8SW5maW5pdHk7bGV0IHY7dGhpcy5tYXhJbnN0YW5jZXM9KHY9YS5tYXhJbnN0YW5jZXMpIT1udWxsP3Y6bnVsbDt0aGlzLm1vZGFsSW5wdXRzPXQ7dGhpcy5wYXRoVG9NZWRpYT1xO3RoaXMuaGFzQ2F0ZWdvcmllcz1jO3RoaXMubW92ZU9wdGlvbnM9T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMucGFyc2VNb3ZlT3B0aW9ucyhhLGMpO3RoaXMuaGFzU2Nyb2xsYmFycz0hIXRoaXMubW92ZU9wdGlvbnMuc2Nyb2xsYmFyczt0aGlzLmhhc1RyYXNoY2FuPWQ7dGhpcy5tYXhUcmFzaGNhbkNvbnRlbnRzPVxubDt0aGlzLmhhc1NvdW5kcz1oO3RoaXMuaGFzQ3NzPXI7dGhpcy5ob3Jpem9udGFsTGF5b3V0PW47dGhpcy5sYW5ndWFnZVRyZWU9Yjt0aGlzLmdyaWRPcHRpb25zPU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zLnBhcnNlR3JpZE9wdGlvbnMoYSk7dGhpcy56b29tT3B0aW9ucz1PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucy5wYXJzZVpvb21PcHRpb25zKGEpO3RoaXMudG9vbGJveFBvc2l0aW9uPXA7dGhpcy50aGVtZT1PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucy5wYXJzZVRoZW1lT3B0aW9ucyhhKTt0aGlzLnJlbmRlcmVyPXk7bGV0IHc7dGhpcy5yZW5kZXJlck92ZXJyaWRlcz0odz1hLnJlbmRlcmVyT3ZlcnJpZGVzKSE9bnVsbD93Om51bGw7bGV0IHg7dGhpcy5wYXJlbnRXb3Jrc3BhY2U9KHg9YS5wYXJlbnRXb3Jrc3BhY2UpIT1udWxsP3g6bnVsbDt0aGlzLnBsdWdpbnM9en1zdGF0aWMgcGFyc2VNb3ZlT3B0aW9ucyhhLFxuYil7Y29uc3QgYz1hLm1vdmV8fHt9LGQ9e307Yy5zY3JvbGxiYXJzPT09dm9pZCAwJiZhLnNjcm9sbGJhcnM9PT12b2lkIDA/ZC5zY3JvbGxiYXJzPWI6dHlwZW9mIGMuc2Nyb2xsYmFycz09PVwib2JqZWN0XCI/KGQuc2Nyb2xsYmFycz17aG9yaXpvbnRhbDohIWMuc2Nyb2xsYmFycy5ob3Jpem9udGFsLHZlcnRpY2FsOiEhYy5zY3JvbGxiYXJzLnZlcnRpY2FsfSxkLnNjcm9sbGJhcnMuaG9yaXpvbnRhbCYmZC5zY3JvbGxiYXJzLnZlcnRpY2FsP2Quc2Nyb2xsYmFycz0hMDpkLnNjcm9sbGJhcnMuaG9yaXpvbnRhbHx8ZC5zY3JvbGxiYXJzLnZlcnRpY2FsfHwoZC5zY3JvbGxiYXJzPSExKSk6ZC5zY3JvbGxiYXJzPSEhYy5zY3JvbGxiYXJzfHwhIWEuc2Nyb2xsYmFycztkLndoZWVsPWQuc2Nyb2xsYmFycyYmYy53aGVlbCE9PXZvaWQgMD8hIWMud2hlZWw6dHlwZW9mIGQuc2Nyb2xsYmFycz09PVwib2JqZWN0XCI7ZC5kcmFnPWQuc2Nyb2xsYmFycz9jLmRyYWc9PT12b2lkIDA/ITA6ISFjLmRyYWc6XG4hMTtyZXR1cm4gZH1zdGF0aWMgcGFyc2Vab29tT3B0aW9ucyhhKXthPWEuem9vbXx8e307Y29uc3QgYj17fTtiLmNvbnRyb2xzPWEuY29udHJvbHM9PT12b2lkIDA/ITE6ISFhLmNvbnRyb2xzO2Iud2hlZWw9YS53aGVlbD09PXZvaWQgMD8hMTohIWEud2hlZWw7Yi5zdGFydFNjYWxlPWEuc3RhcnRTY2FsZT09PXZvaWQgMD8xOk51bWJlcihhLnN0YXJ0U2NhbGUpO2IubWF4U2NhbGU9YS5tYXhTY2FsZT09PXZvaWQgMD8zOk51bWJlcihhLm1heFNjYWxlKTtiLm1pblNjYWxlPWEubWluU2NhbGU9PT12b2lkIDA/LjM6TnVtYmVyKGEubWluU2NhbGUpO2Iuc2NhbGVTcGVlZD1hLnNjYWxlU3BlZWQ9PT12b2lkIDA/MS4yOk51bWJlcihhLnNjYWxlU3BlZWQpO2IucGluY2g9YS5waW5jaD09PXZvaWQgMD9iLndoZWVsfHxiLmNvbnRyb2xzOiEhYS5waW5jaDtyZXR1cm4gYn1zdGF0aWMgcGFyc2VHcmlkT3B0aW9ucyhhKXthPWEuZ3JpZHx8e307Y29uc3QgYj17fTtiLnNwYWNpbmc9TnVtYmVyKGEuc3BhY2luZyl8fFxuMDtiLmNvbG91cj1hLmNvbG91cnx8XCIjODg4XCI7Yi5sZW5ndGg9YS5sZW5ndGg9PT12b2lkIDA/MTpOdW1iZXIoYS5sZW5ndGgpO2Iuc25hcD1iLnNwYWNpbmc+MCYmISFhLnNuYXA7cmV0dXJuIGJ9c3RhdGljIHBhcnNlVGhlbWVPcHRpb25zKGEpe2E9YS50aGVtZXx8Q2xhc3NpYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJGNsYXNzaWM7cmV0dXJuIHR5cGVvZiBhPT09XCJzdHJpbmdcIj9nZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVEhFTUUsYSk6YSBpbnN0YW5jZW9mIFRoZW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWU/YTpUaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lLmRlZmluZVRoZW1lKGEubmFtZXx8XCJidWlsdGluXCIrZ2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKSxhKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zPVxue307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnMuT3B0aW9ucz1PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9uczt2YXIgQnViYmxlRHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYnViYmxlX2RyYWdfc3RyYXRlZ3k9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmJ1YmJsZT1hO3RoaXMud29ya3NwYWNlPWI7dGhpcy5zdGFydExvYz1udWxsfWlzTW92YWJsZSgpe3JldHVybiEwfXN0YXJ0RHJhZygpe3RoaXMuc3RhcnRMb2M9dGhpcy5idWJibGUuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3RoaXMud29ya3NwYWNlLnNldFJlc2l6ZXNFbmFibGVkKCExKTtsZXQgYTsoYT10aGlzLndvcmtzcGFjZS5nZXRMYXllck1hbmFnZXIoKSk9PW51bGx8fGEubW92ZVRvRHJhZ0xheWVyKHRoaXMuYnViYmxlKTt0aGlzLmJ1YmJsZS5zZXREcmFnZ2luZyYmdGhpcy5idWJibGUuc2V0RHJhZ2dpbmcoITApfWRyYWcoYSl7dGhpcy5idWJibGUubW92ZUR1cmluZ0RyYWcoYSl9ZW5kRHJhZygpe3RoaXMud29ya3NwYWNlLnNldFJlc2l6ZXNFbmFibGVkKCEwKTtsZXQgYTsoYT10aGlzLndvcmtzcGFjZS5nZXRMYXllck1hbmFnZXIoKSk9PVxubnVsbHx8YS5tb3ZlT2ZmRHJhZ0xheWVyKHRoaXMuYnViYmxlLEJVQkJMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyk7dGhpcy5idWJibGUuc2V0RHJhZ2dpbmcoITEpfXJldmVydERyYWcoKXt0aGlzLnN0YXJ0TG9jJiZ0aGlzLmJ1YmJsZS5tb3ZlRHVyaW5nRHJhZyh0aGlzLnN0YXJ0TG9jKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRidWJibGVfZHJhZ19zdHJhdGVneT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYnViYmxlX2RyYWdfc3RyYXRlZ3kuQnViYmxlRHJhZ1N0cmF0ZWd5PUJ1YmJsZURyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJ1YmJsZV9kcmFnX3N0cmF0ZWd5O3ZhciBfYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQsZSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmFuY2hvcj1iO3RoaXMub3duZXJSZWN0PWM7dGhpcy5vd25lcj1lO3RoaXMuc2l6ZT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoMCwwKTt0aGlzLmNvbG91cj1cIiNmZmZmZmZcIjt0aGlzLmRpc3Bvc2VkPSExO3RoaXMucmVsYXRpdmVMZWZ0PXRoaXMucmVsYXRpdmVUb3A9MDt0aGlzLmRyYWdTdHJhdGVneT1uZXcgQnViYmxlRHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYnViYmxlX2RyYWdfc3RyYXRlZ3kodGhpcyx0aGlzLndvcmtzcGFjZSk7dGhpcy5pZD1nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO3RoaXMuc3ZnUm9vdD1cbmNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse1wiY2xhc3NcIjpcImJsb2NrbHlCdWJibGVcIn0sYS5nZXRCdWJibGVDYW52YXMoKSk7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtcImNsYXNzXCI6XCJibG9ja2x5RW1ib3NzXCJ9LHRoaXMuc3ZnUm9vdCk7dGhpcy50YWlsPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEgse1wiY2xhc3NcIjpcImJsb2NrbHlCdWJibGVUYWlsXCJ9LGEpO3RoaXMuYmFja2dyb3VuZD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULFxue1wiY2xhc3NcIjpcImJsb2NrbHlEcmFnZ2FibGVcIix4OjAseTowLHJ4Ol9hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRILHJ5Ol9hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIfSxhKTt0aGlzLmNvbnRlbnRDb250YWluZXI9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7fSx0aGlzLnN2Z1Jvb3QpO3RoaXMuZm9jdXNhYmxlRWxlbWVudD1kIT1udWxsP2Q6dGhpcy5zdmdSb290O3RoaXMuZm9jdXNhYmxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuaWQpO2NvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuYmFja2dyb3VuZCxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLmZvY3VzYWJsZUVsZW1lbnQsXG5cImtleWRvd25cIix0aGlzLHRoaXMub25LZXlEb3duKX1kaXNwb3NlKCl7cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QpO3RoaXMuZGlzcG9zZWQ9ITB9c2V0QW5jaG9yTG9jYXRpb24oYSxiPSExKXt0aGlzLmFuY2hvcj1hO2I/dGhpcy5wb3NpdGlvbkJ5UmVjdCh0aGlzLm93bmVyUmVjdCk6dGhpcy5wb3NpdGlvblJlbGF0aXZlVG9BbmNob3IoKTt0aGlzLnJlbmRlclRhaWwoKX1zZXRQb3NpdGlvblJlbGF0aXZlVG9BbmNob3IoYSxiKXt0aGlzLnJlbGF0aXZlTGVmdD1hO3RoaXMucmVsYXRpdmVUb3A9Yjt0aGlzLnBvc2l0aW9uUmVsYXRpdmVUb0FuY2hvcigpO3RoaXMucmVuZGVyVGFpbCgpfWdldFNpemUoKXtyZXR1cm4gdGhpcy5zaXplfXNldFNpemUoYSxiPSExKXthLndpZHRoPU1hdGgubWF4KGEud2lkdGgsX2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5NSU5fU0laRSk7YS5oZWlnaHQ9TWF0aC5tYXgoYS5oZWlnaHQsXG5fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLk1JTl9TSVpFKTt0aGlzLnNpemU9YTt0aGlzLmJhY2tncm91bmQuc2V0QXR0cmlidXRlKFwid2lkdGhcIixgJHthLndpZHRofWApO3RoaXMuYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixgJHthLmhlaWdodH1gKTtiP3RoaXMucG9zaXRpb25CeVJlY3QodGhpcy5vd25lclJlY3QpOnRoaXMucG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKCk7dGhpcy5yZW5kZXJUYWlsKCl9Z2V0Q29sb3VyKCl7cmV0dXJuIHRoaXMuY29sb3VyfXNldENvbG91cihhKXt0aGlzLmNvbG91cj1hO3RoaXMudGFpbC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsYSk7dGhpcy5iYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZShcImZpbGxcIixhKX1vbk1vdXNlRG93bihhKXtsZXQgYjsoYj10aGlzLndvcmtzcGFjZS5nZXRHZXN0dXJlKGEpKT09bnVsbHx8Yi5oYW5kbGVCdWJibGVTdGFydChhLHRoaXMpOyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzKX1vbktleURvd24oYSl7YS5rZXk9PT1cblwiRXNjYXBlXCImJnRoaXMub3duZXImJih0aGlzLm93bmVyLnNldEJ1YmJsZVZpc2libGUoITEpLCQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzLm93bmVyKSl9cG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKCl7bGV0IGE9dGhpcy5hbmNob3IueDthPXRoaXMud29ya3NwYWNlLlJUTD9hLSh0aGlzLnJlbGF0aXZlTGVmdCt0aGlzLnNpemUud2lkdGgpOmErdGhpcy5yZWxhdGl2ZUxlZnQ7dGhpcy5tb3ZlVG8oYSx0aGlzLnJlbGF0aXZlVG9wK3RoaXMuYW5jaG9yLnkpfW1vdmVUbyhhLGIpe3RoaXMuc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixgdHJhbnNsYXRlKCR7YX0sICR7Yn0pYCl9cG9zaXRpb25CeVJlY3QoYT1uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoMCwwLDAsMCkpe3ZhciBiPXRoaXMud29ya3NwYWNlLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0Vmlld01ldHJpY3MoITApLFxuYz10aGlzLmdldE9wdGltYWxSZWxhdGl2ZUxlZnQoYiksZD10aGlzLmdldE9wdGltYWxSZWxhdGl2ZVRvcChiKTtjb25zdCBlPXt4OmMseTotdGhpcy5zaXplLmhlaWdodC10aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLk1JTl9CTE9DS19IRUlHSFR9LGY9e3g6LXRoaXMuc2l6ZS53aWR0aC0zMCx5OmR9O2Q9e3g6YS5nZXRXaWR0aCgpLHk6ZH07dmFyIGc9e3g6Yyx5OmEuZ2V0SGVpZ2h0KCl9O2M9YS5nZXRXaWR0aCgpPGEuZ2V0SGVpZ2h0KCk/ZDpnO2E9YS5nZXRXaWR0aCgpPGEuZ2V0SGVpZ2h0KCk/ZzpkO2Q9dGhpcy5nZXRPdmVybGFwKGUsYik7Zz10aGlzLmdldE92ZXJsYXAoZixiKTtjb25zdCBoPXRoaXMuZ2V0T3ZlcmxhcChjLGIpO2I9dGhpcy5nZXRPdmVybGFwKGEsYik7Yj1NYXRoLm1heChkLGcsaCxiKTtkPT09Yj8odGhpcy5yZWxhdGl2ZUxlZnQ9ZS54LHRoaXMucmVsYXRpdmVUb3A9ZS55KTpnPT09Yj8odGhpcy5yZWxhdGl2ZUxlZnQ9XG5mLngsdGhpcy5yZWxhdGl2ZVRvcD1mLnkpOmg9PT1iPyh0aGlzLnJlbGF0aXZlTGVmdD1jLngsdGhpcy5yZWxhdGl2ZVRvcD1jLnkpOih0aGlzLnJlbGF0aXZlTGVmdD1hLngsdGhpcy5yZWxhdGl2ZVRvcD1hLnkpO3RoaXMucG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKCl9Z2V0T3ZlcmxhcChhLGIpe3ZhciBjPXRoaXMud29ya3NwYWNlLlJUTD90aGlzLmFuY2hvci54LWEueC10aGlzLnNpemUud2lkdGg6YS54K3RoaXMuYW5jaG9yLng7YT1hLnkrdGhpcy5hbmNob3IueTtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbigxLChNYXRoLm1pbihjK3RoaXMuc2l6ZS53aWR0aCxiLmxlZnQrYi53aWR0aCktTWF0aC5tYXgoYyxiLmxlZnQpKSooTWF0aC5taW4oYSt0aGlzLnNpemUuaGVpZ2h0LGIudG9wK2IuaGVpZ2h0KS1NYXRoLm1heChhLGIudG9wKSkvKHRoaXMuc2l6ZS53aWR0aCp0aGlzLnNpemUuaGVpZ2h0KSkpfWdldE9wdGltYWxSZWxhdGl2ZUxlZnQoYSl7bGV0IGI9LXRoaXMuc2l6ZS53aWR0aC9cbjQ7aWYodGhpcy5zaXplLndpZHRoPmEud2lkdGgpcmV0dXJuIGI7YT10aGlzLmdldFdvcmtzcGFjZVZpZXdSZWN0KGEpO2lmKHRoaXMud29ya3NwYWNlLlJUTCl7dmFyIGM9dGhpcy5hbmNob3IueC1iO2MtdGhpcy5zaXplLndpZHRoPGEubGVmdD9iPS0oYS5sZWZ0LXRoaXMuYW5jaG9yLngrdGhpcy5zaXplLndpZHRoKTpjPmEucmlnaHQmJihiPS0oYS5yaWdodC10aGlzLmFuY2hvci54KSl9ZWxzZXtjPWIrdGhpcy5hbmNob3IueDtjb25zdCBkPWMrdGhpcy5zaXplLndpZHRoO2M8YS5sZWZ0P2I9YS5sZWZ0LXRoaXMuYW5jaG9yLng6ZD5hLnJpZ2h0JiYoYj1hLnJpZ2h0LXRoaXMuYW5jaG9yLngtdGhpcy5zaXplLndpZHRoKX1yZXR1cm4gYn1nZXRPcHRpbWFsUmVsYXRpdmVUb3AoYSl7bGV0IGI9LXRoaXMuc2l6ZS5oZWlnaHQvNDtpZih0aGlzLnNpemUuaGVpZ2h0PmEuaGVpZ2h0KXJldHVybiBiO2NvbnN0IGM9dGhpcy5hbmNob3IueStiLGQ9Yyt0aGlzLnNpemUuaGVpZ2h0O2E9dGhpcy5nZXRXb3Jrc3BhY2VWaWV3UmVjdChhKTtcbmM8YS50b3A/Yj1hLnRvcC10aGlzLmFuY2hvci55OmQ+YS5ib3R0b20mJihiPWEuYm90dG9tLXRoaXMuYW5jaG9yLnktdGhpcy5zaXplLmhlaWdodCk7cmV0dXJuIGJ9Z2V0V29ya3NwYWNlVmlld1JlY3QoYSl7Y29uc3QgYj1hLnRvcDtsZXQgYz1hLnRvcCthLmhlaWdodCxkPWEubGVmdDthPWEubGVmdCthLndpZHRoO2MtPXRoaXMuZ2V0U2Nyb2xsYmFyVGhpY2tuZXNzKCk7dGhpcy53b3Jrc3BhY2UuUlRMP2QtPXRoaXMuZ2V0U2Nyb2xsYmFyVGhpY2tuZXNzKCk6YS09dGhpcy5nZXRTY3JvbGxiYXJUaGlja25lc3MoKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGIsYyxkLGEpfWdldFNjcm9sbGJhclRoaWNrbmVzcygpe3JldHVybiBTY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzL3RoaXMud29ya3NwYWNlLnNjYWxlfXJlbmRlclRhaWwoKXtjb25zdCBhPVtdO3ZhciBiPXRoaXMuc2l6ZS53aWR0aC9cbjIsYz10aGlzLnNpemUuaGVpZ2h0LzIsZD0tdGhpcy5yZWxhdGl2ZUxlZnQsZT0tdGhpcy5yZWxhdGl2ZVRvcDtpZihiPT09ZCYmYz09PWUpYS5wdXNoKFwiTSBcIitiK1wiLFwiK2MpO2Vsc2V7ZS09YztkLT1iO3RoaXMud29ya3NwYWNlLlJUTCYmKGQqPS0xKTt2YXIgZj1NYXRoLnNxcnQoZSplK2QqZCksZz1NYXRoLmFjb3MoZC9mKTtlPDAmJihnPTIqTWF0aC5QSS1nKTt2YXIgaD1nK01hdGguUEkvMjtoPk1hdGguUEkqMiYmKGgtPU1hdGguUEkqMik7dmFyIGs9TWF0aC5zaW4oaCk7Y29uc3QgbT1NYXRoLmNvcyhoKTtsZXQgbj0odGhpcy5zaXplLndpZHRoK3RoaXMuc2l6ZS5oZWlnaHQpL19hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuVEFJTF9USElDS05FU1M7bj1NYXRoLm1pbihuLHRoaXMuc2l6ZS53aWR0aCx0aGlzLnNpemUuaGVpZ2h0KS80O2g9MS1fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkFOQ0hPUl9SQURJVVMvZjtkPWIrXG5oKmQ7ZT1jK2gqZTtoPWIrbiptO2NvbnN0IHA9YytuKms7Yi09biptO2MtPW4qaztrPXRvUmFkaWFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgodGhpcy53b3Jrc3BhY2UuUlRMPy1fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLlRBSUxfQU5HTEU6X2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5UQUlMX0FOR0xFKTtrPWcraztrPk1hdGguUEkqMiYmKGstPU1hdGguUEkqMik7Zz1NYXRoLnNpbihrKSpmL19hJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuVEFJTF9CRU5EO2Y9TWF0aC5jb3MoaykqZi9fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLlRBSUxfQkVORDthLnB1c2goXCJNXCIraCtcIixcIitwKTthLnB1c2goXCJDXCIrKGgrZikrXCIsXCIrKHArZykrXCIgXCIrZCtcIixcIitlK1wiIFwiK2QrXCIsXCIrZSk7YS5wdXNoKFwiQ1wiK2QrXCIsXCIrZStcIiBcIisoYitmKStcIixcIisoYytnKStcIiBcIitcbmIrXCIsXCIrYyl9YS5wdXNoKFwielwiKTtsZXQgbDsobD10aGlzLnRhaWwpPT1udWxsfHxsLnNldEF0dHJpYnV0ZShcImRcIixhLmpvaW4oXCIgXCIpKX1icmluZ1RvRnJvbnQoKXtsZXQgYTtjb25zdCBiPShhPXRoaXMuc3ZnUm9vdCk9PW51bGw/dm9pZCAwOmEucGFyZW50Tm9kZTtyZXR1cm4gdGhpcy5zdmdSb290JiYoYj09bnVsbD92b2lkIDA6Yi5sYXN0Q2hpbGQpIT09dGhpcy5zdmdSb290PyhiPT1udWxsfHxiLmFwcGVuZENoaWxkKHRoaXMuc3ZnUm9vdCksITApOiExfWdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKXtyZXR1cm4gbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKHRoaXMud29ya3NwYWNlLlJUTD8tdGhpcy5yZWxhdGl2ZUxlZnQrdGhpcy5hbmNob3IueC10aGlzLnNpemUud2lkdGg6dGhpcy5hbmNob3IueCt0aGlzLnJlbGF0aXZlTGVmdCx0aGlzLmFuY2hvci55K3RoaXMucmVsYXRpdmVUb3ApfWdldFN2Z1Jvb3QoKXtyZXR1cm4gdGhpcy5zdmdSb290fW1vdmVEdXJpbmdEcmFnKGEpe3RoaXMubW92ZVRvKGEueCxcbmEueSk7dGhpcy5yZWxhdGl2ZUxlZnQ9dGhpcy53b3Jrc3BhY2UuUlRMP3RoaXMuYW5jaG9yLngtYS54LXRoaXMuc2l6ZS53aWR0aDphLngtdGhpcy5hbmNob3IueDt0aGlzLnJlbGF0aXZlVG9wPWEueS10aGlzLmFuY2hvci55O3RoaXMucmVuZGVyVGFpbCgpfXNldERyYWdnaW5nKGEpe31zZXREZWxldGVTdHlsZShhKXt9aXNEZWxldGFibGUoKXtyZXR1cm4hMX1zaG93Q29udGV4dE1lbnUoYSl7fWlzTW92YWJsZSgpe3JldHVybiEwfXN0YXJ0RHJhZygpe3RoaXMuZHJhZ1N0cmF0ZWd5LnN0YXJ0RHJhZygpfWRyYWcoYSl7dGhpcy5kcmFnU3RyYXRlZ3kuZHJhZyhhKX1lbmREcmFnKCl7dGhpcy5kcmFnU3RyYXRlZ3kuZW5kRHJhZygpfXJldmVydERyYWcoKXt0aGlzLmRyYWdTdHJhdGVneS5yZXZlcnREcmFnKCl9c2VsZWN0KCl7ZmlyZVNlbGVjdGVkRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24odGhpcyl9dW5zZWxlY3QoKXtmaXJlU2VsZWN0ZWRFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihudWxsKX1nZXRGb2N1c2FibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuZm9jdXNhYmxlRWxlbWVudH1nZXRGb2N1c2FibGVUcmVlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlfW9uTm9kZUZvY3VzKCl7dGhpcy5zZWxlY3QoKTtcbnRoaXMuYnJpbmdUb0Zyb250KCk7dmFyIGE9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7Y29uc3QgYj10aGlzLmdldFNpemUoKTthPW5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdChhLnksYS55K2IuaGVpZ2h0LGEueCxhLngrYi53aWR0aCk7dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcoYSl9b25Ob2RlQmx1cigpe3RoaXMudW5zZWxlY3QoKX1jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH1nZXRPd25lcigpe3JldHVybiB0aGlzLm93bmVyfX07X2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZT1CdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZTtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5CT1JERVJfV0lEVEg9NjtcbkJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVI9X2EkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5CT1JERVJfV0lEVEgqMjtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5NSU5fU0laRT1fYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVI7QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuVEFJTF9USElDS05FU1M9MTtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5UQUlMX0FOR0xFPTIwO0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLlRBSUxfQkVORD00O0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkFOQ0hPUl9SQURJVVM9ODtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJ1YmJsZT1CdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZTt2YXIgTWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlPWNsYXNzIGV4dGVuZHMgQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGV7Y29uc3RydWN0b3IoYSxiLGMsZCl7c3VwZXIoYixjLGQpO3RoaXMud29ya3NwYWNlPWI7dGhpcy5hbmNob3I9Yzt0aGlzLm93bmVyUmVjdD1kO3RoaXMuYXV0b0xheW91dD0hMDtiPW5ldyBPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucyhhKTt0aGlzLnZhbGlkYXRlV29ya3NwYWNlT3B0aW9ucyhiKTt0aGlzLnN2Z0RpYWxvZz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5TVkcse3g6QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRILHk6QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIfSxcbnRoaXMuY29udGVudENvbnRhaW5lcik7YS5wYXJlbnRXb3Jrc3BhY2U9dGhpcy53b3Jrc3BhY2U7dGhpcy5taW5pV29ya3NwYWNlPXRoaXMubmV3V29ya3NwYWNlU3ZnKG5ldyBPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucyhhKSk7dGhpcy5taW5pV29ya3NwYWNlLmludGVybmFsSXNNdXRhdG9yPSEwO2E9dGhpcy5taW5pV29ya3NwYWNlLmNyZWF0ZURvbShcImJsb2NrbHlNdXRhdG9yQmFja2dyb3VuZFwiKTt0aGlzLnN2Z0RpYWxvZy5hcHBlbmRDaGlsZChhKTtiLmxhbmd1YWdlVHJlZSYmKGEuaW5zZXJ0QmVmb3JlKHRoaXMubWluaVdvcmtzcGFjZS5hZGRGbHlvdXQoU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcpLHRoaXMubWluaVdvcmtzcGFjZS5nZXRDYW52YXMoKSksYT10aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCksYT09bnVsbHx8YS5pbml0KHRoaXMubWluaVdvcmtzcGFjZSksYT09bnVsbHx8YS5zaG93KGIubGFuZ3VhZ2VUcmVlKSk7XG5hZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z1Jvb3QsXCJibG9ja2x5TWluaVdvcmtzcGFjZUJ1YmJsZVwiKTt0aGlzLm1pbmlXb3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5vbldvcmtzcGFjZUNoYW5nZS5iaW5kKHRoaXMpKTtsZXQgZSxmOyhlPXRoaXMubWluaVdvcmtzcGFjZS5nZXRGbHlvdXQoKSk9PW51bGx8fChmPWUuZ2V0V29ya3NwYWNlKCkpPT1udWxsfHxmLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25Xb3Jrc3BhY2VDaGFuZ2UuYmluZCh0aGlzKSk7dGhpcy51cGRhdGVCdWJibGVTaXplKCl9ZGlzcG9zZSgpe3RoaXMubWluaVdvcmtzcGFjZS5kaXNwb3NlKCk7c3VwZXIuZGlzcG9zZSgpfWdldFdvcmtzcGFjZSgpe3JldHVybiB0aGlzLm1pbmlXb3Jrc3BhY2V9YWRkV29ya3NwYWNlQ2hhbmdlTGlzdGVuZXIoYSl7dGhpcy5taW5pV29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGEpfXZhbGlkYXRlV29ya3NwYWNlT3B0aW9ucyhhKXtpZihhLmhhc0NhdGVnb3JpZXMpdGhyb3cgRXJyb3IoXCJUaGUgbWluaXdvcmtzcGFjZSBidWJibGUgZG9lcyBub3Qgc3VwcG9ydCB0b29sYm94ZXMgd2l0aCBjYXRlZ29yaWVzXCIpO1xuaWYoYS5oYXNUcmFzaGNhbil0aHJvdyBFcnJvcihcIlRoZSBtaW5pd29ya3NwYWNlIGJ1YmJsZSBkb2VzIG5vdCBzdXBwb3J0IHRyYXNoY2Fuc1wiKTtpZihhLnpvb21PcHRpb25zLmNvbnRyb2xzfHxhLnpvb21PcHRpb25zLndoZWVsfHxhLnpvb21PcHRpb25zLnBpbmNoKXRocm93IEVycm9yKFwiVGhlIG1pbml3b3Jrc3BhY2UgYnViYmxlIGRvZXMgbm90IHN1cHBvcnQgem9vbWluZ1wiKTtpZihhLm1vdmVPcHRpb25zLnNjcm9sbGJhcnN8fGEubW92ZU9wdGlvbnMud2hlZWx8fGEubW92ZU9wdGlvbnMuZHJhZyl0aHJvdyBFcnJvcihcIlRoZSBtaW5pd29ya3NwYWNlIGJ1YmJsZSBkb2VzIG5vdCBzY3JvbGxpbmcvbW92aW5nIHRoZSB3b3Jrc3BhY2VcIik7aWYoYS5ob3Jpem9udGFsTGF5b3V0KXRocm93IEVycm9yKFwiVGhlIG1pbml3b3Jrc3BhY2UgYnViYmxlIGRvZXMgbm90IHN1cHBvcnQgaG9yaXpvbnRhbCBsYXlvdXRzXCIpO31vbldvcmtzcGFjZUNoYW5nZSgpe3RoaXMuYnVtcEJsb2Nrc0ludG9Cb3VuZHMoKTtcbnRoaXMudXBkYXRlQnViYmxlU2l6ZSgpfWJ1bXBCbG9ja3NJbnRvQm91bmRzKCl7aWYoIXRoaXMubWluaVdvcmtzcGFjZS5pc0RyYWdnaW5nKCl8fHRoaXMubWluaVdvcmtzcGFjZS5rZXlib2FyZE1vdmVJblByb2dyZXNzKWZvcihjb25zdCBhIG9mIHRoaXMubWluaVdvcmtzcGFjZS5nZXRUb3BCbG9ja3MoITEpKXtjb25zdCBiPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2IueTwyMCYmYS5tb3ZlQnkoMCwyMC1iLnkpO2lmKGEuUlRMKXtsZXQgYz0tMjA7Y29uc3QgZD10aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7ZCYmKGMtPWQuZ2V0V2lkdGgoKSk7Yi54PmMmJmEubW92ZUJ5KGMtYi54LDApfWVsc2UgYi54PDIwJiZhLm1vdmVCeSgyMC1iLngsMCl9fXVwZGF0ZUJ1YmJsZVNpemUoKXtpZighdGhpcy5taW5pV29ya3NwYWNlLmlzRHJhZ2dpbmcoKXx8dGhpcy5taW5pV29ya3NwYWNlLmtleWJvYXJkTW92ZUluUHJvZ3Jlc3Mpe3RoaXMuYXV0b0xheW91dCYmKHRoaXMuYXV0b0xheW91dD1cbiF0aGlzLm1pbmlXb3Jrc3BhY2Uua2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcyk7dmFyIGE9dGhpcy5nZXRTaXplKCksYj10aGlzLmNhbGN1bGF0ZVdvcmtzcGFjZVNpemUoKTtNYXRoLmFicyhhLndpZHRoLWIud2lkdGgpPE1pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NSU5JTVVNX1ZJRVdfQ0hBTkdFJiZNYXRoLmFicyhhLmhlaWdodC1iLmhlaWdodCk8TWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlLk1JTklNVU1fVklFV19DSEFOR0V8fCh0aGlzLnN2Z0RpYWxvZy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGAke2Iud2lkdGh9cHhgKSx0aGlzLnN2Z0RpYWxvZy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixgJHtiLmhlaWdodH1weGApLHRoaXMubWluaVdvcmtzcGFjZS5zZXRDYWNoZWRQYXJlbnRTdmdTaXplKGIud2lkdGgsYi5oZWlnaHQpLFxudGhpcy5taW5pV29ya3NwYWNlLlJUTCYmdGhpcy5taW5pV29ya3NwYWNlLmdldENhbnZhcygpLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGB0cmFuc2xhdGUoJHtiLndpZHRofSwgMClgKSx0aGlzLnNldFNpemUobmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGIud2lkdGgrQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUixiLmhlaWdodCtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSKSx0aGlzLmF1dG9MYXlvdXQpLHRoaXMubWluaVdvcmtzcGFjZS5yZXNpemUoKSx0aGlzLm1pbmlXb3Jrc3BhY2UucmVjb3JkRHJhZ1RhcmdldHMoKSl9fWNhbGN1bGF0ZVdvcmtzcGFjZVNpemUoKXt2YXIgYT10aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Q2FudmFzKCkuZ2V0QkJveCgpO2xldCBiPWEud2lkdGgrTWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlLk1BUkdJTjtcbmE9YS5oZWlnaHQrTWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlLk1BUkdJTjtjb25zdCBjPXRoaXMubWluaVdvcmtzcGFjZS5nZXRGbHlvdXQoKTtpZihjKXtjb25zdCBkPWMuZ2V0V29ya3NwYWNlKCkuZ2V0TWV0cmljc01hbmFnZXIoKS5nZXRTY3JvbGxNZXRyaWNzKCk7YT1NYXRoLm1heChhLGQuaGVpZ2h0KzIwKTtiKz1jLmdldFdpZHRoKCl9cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShiLGEpfXVwZGF0ZUJsb2NrU3R5bGVzKCl7Zm9yKHZhciBhIG9mIHRoaXMubWluaVdvcmtzcGFjZS5nZXRBbGxCbG9ja3MoITEpKWEuc2V0U3R5bGUoYS5nZXRTdHlsZU5hbWUoKSk7bGV0IGI7aWYoYT0oYj10aGlzLm1pbmlXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCkpPT1udWxsP3ZvaWQgMDpiLmdldFdvcmtzcGFjZSgpKWZvcihjb25zdCBjIG9mIGEuZ2V0QWxsQmxvY2tzKCExKSljLnNldFN0eWxlKGMuZ2V0U3R5bGVOYW1lKCkpfW1vdmVEdXJpbmdEcmFnKGEpe3N1cGVyLm1vdmVEdXJpbmdEcmFnKGEpO1xudGhpcy5hdXRvTGF5b3V0PSExfW1vdmVUbyhhLGIpe3N1cGVyLm1vdmVUbyhhLGIpO3RoaXMubWluaVdvcmtzcGFjZS5yZWNvcmREcmFnVGFyZ2V0cygpfW5ld1dvcmtzcGFjZVN2ZyhhKXt0aHJvdyBFcnJvcihcIlRoZSBpbXBsZW1lbnRhdGlvbiBvZiBuZXdXb3Jrc3BhY2VTdmcgc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7fX07TWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlLk1JTklNVU1fVklFV19DSEFOR0U9MTA7TWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlLk1BUkdJTj1CdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSKjM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZS5NaW5pV29ya3NwYWNlQnViYmxlPU1pbmlXb3Jrc3BhY2VCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJG1pbmlfd29ya3NwYWNlX2J1YmJsZTt2YXIgSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb249Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5zb3VyY2VCbG9jaz1hO3RoaXMub2Zmc2V0SW5CbG9jaz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTt0aGlzLndvcmtzcGFjZUxvY2F0aW9uPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuc3ZnUm9vdD1udWxsO3RoaXMudG9vbHRpcD1hO3RoaXMuaWQ9Z2V0TmV4dFVuaXF1ZUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKX1nZXRUeXBlKCl7dGhyb3cgRXJyb3IoXCJJY29ucyBtdXN0IGltcGxlbWVudCBnZXRUeXBlXCIpO31pbml0VmlldyhhKXtpZighdGhpcy5zdmdSb290KXt2YXIgYj10aGlzLnNvdXJjZUJsb2NrO3RoaXMuc3ZnUm9vdD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLFxue1wiY2xhc3NcIjpcImJsb2NrbHlJY29uR3JvdXBcIixpZDp0aGlzLmlkfSk7Yi5nZXRTdmdSb290KCkuYXBwZW5kQ2hpbGQodGhpcy5zdmdSb290KTt0aGlzLnVwZGF0ZVN2Z1Jvb3RPZmZzZXQoKTtjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnN2Z1Jvb3QsXCJwb2ludGVyZG93blwiLHRoaXMsYSk7dGhpcy5zdmdSb290LnRvb2x0aXA9dGhpcztiaW5kTW91c2VFdmVudHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKHRoaXMuc3ZnUm9vdCl9fWRpc3Bvc2UoKXt1bmJpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAodGhpcy5zdmdSb290KTtyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCl9Z2V0V2VpZ2h0KCl7cmV0dXJuLTF9Z2V0U2l6ZSgpe3JldHVybiBuZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoMCwwKX1zZXRUb29sdGlwKGEpe3RoaXMudG9vbHRpcD1cbmEhPW51bGw/YTp0aGlzLnNvdXJjZUJsb2NrfWdldFRvb2x0aXAoKXtyZXR1cm4gdGhpcy50b29sdGlwfWFwcGx5Q29sb3VyKCl7fXVwZGF0ZUVkaXRhYmxlKCl7fXVwZGF0ZUNvbGxhcHNlZCgpe3RoaXMuc3ZnUm9vdCYmKHRoaXMuc291cmNlQmxvY2suaXNDb2xsYXBzZWQoKT90aGlzLnN2Z1Jvb3Quc3R5bGUuZGlzcGxheT1cIm5vbmVcIjp0aGlzLnN2Z1Jvb3Quc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsaGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGUodGhpcykmJnRoaXMuc2V0QnViYmxlVmlzaWJsZSghMSkpfWhpZGVGb3JJbnNlcnRpb25NYXJrZXIoKXt0aGlzLnN2Z1Jvb3QmJih0aGlzLnN2Z1Jvb3Quc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9aXNTaG93bldoZW5Db2xsYXBzZWQoKXtyZXR1cm4hMX1zZXRPZmZzZXRJbkJsb2NrKGEpe3RoaXMub2Zmc2V0SW5CbG9jaz1hO3RoaXMudXBkYXRlU3ZnUm9vdE9mZnNldCgpfXVwZGF0ZVN2Z1Jvb3RPZmZzZXQoKXtsZXQgYTtcbihhPXRoaXMuc3ZnUm9vdCk9PW51bGx8fGEuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYHRyYW5zbGF0ZSgke3RoaXMub2Zmc2V0SW5CbG9jay54fSwgJHt0aGlzLm9mZnNldEluQmxvY2sueX0pYCl9b25Mb2NhdGlvbkNoYW5nZShhKXt0aGlzLndvcmtzcGFjZUxvY2F0aW9uPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShhLHRoaXMub2Zmc2V0SW5CbG9jayl9b25DbGljaygpe31pc0NsaWNrYWJsZUluRmx5b3V0KGEpe3JldHVybiEwfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtjb25zdCBhPXRoaXMuc3ZnUm9vdDtpZighYSl0aHJvdyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gZm9jdXMgdW5pbml0aWFsaXplZCBpY29uLlwiKTtyZXR1cm4gYX1nZXRGb2N1c2FibGVUcmVlKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2sud29ya3NwYWNlfW9uTm9kZUZvY3VzKCl7dmFyIGE9dGhpcy5zb3VyY2VCbG9jay5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO1xuYT1uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS50b3ArdGhpcy5vZmZzZXRJbkJsb2NrLnksYS50b3ArdGhpcy5vZmZzZXRJbkJsb2NrLnkrdGhpcy5nZXRTaXplKCkuaGVpZ2h0LGEubGVmdCt0aGlzLm9mZnNldEluQmxvY2sueCxhLmxlZnQrdGhpcy5vZmZzZXRJbkJsb2NrLngrdGhpcy5nZXRTaXplKCkud2lkdGgpO3RoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KGEpfW9uTm9kZUJsdXIoKXt9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuITB9Z2V0U291cmNlQmxvY2soKXtyZXR1cm4gdGhpcy5zb3VyY2VCbG9ja319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uLkljb249SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb247dmFyIFNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24sV09SS1NQQUNFX01BUkdJTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbjtTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uPTE3O1dPUktTUEFDRV9NQVJHSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb249MTY7XG4kLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uPWNsYXNzIGV4dGVuZHMgSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb257Y29uc3RydWN0b3IoYSxiKXtzdXBlcihiKTt0aGlzLmZseW91dEJsb2NrVHlwZXM9YTt0aGlzLnNvdXJjZUJsb2NrPWI7dGhpcy5zYXZlQ29ubmVjdGlvbnNMaXN0ZW5lcj10aGlzLnVwZGF0ZVdvcmtzcGFjZVBpZD10aGlzLnJvb3RCbG9jaz10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGU9bnVsbH1nZXRUeXBlKCl7cmV0dXJuICQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24uVFlQRX1pbml0VmlldyhhKXt0aGlzLnN2Z1Jvb3R8fChzdXBlci5pbml0VmlldyhhKSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblNoYXBlXCIsXG5yeDpcIjRcIixyeTpcIjRcIixoZWlnaHQ6XCIxNlwiLHdpZHRoOlwiMTZcIn0sdGhpcy5zdmdSb290KSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblN5bWJvbFwiLGQ6XCJtNC4yMDMsNy4yOTYgMCwxLjM2OCAtMC45MiwwLjY3NyAtMC4xMSwwLjQxIDAuOSwxLjU1OSAwLjQxLDAuMTEgMS4wNDMsLTAuNDU3IDEuMTg3LDAuNjgzIDAuMTI3LDEuMTM0IDAuMywwLjMgMS44LDAgMC4zLC0wLjI5OSAwLjEyNywtMS4xMzggMS4xODUsLTAuNjgyIDEuMDQ2LDAuNDU4IDAuNDA5LC0wLjExIDAuOSwtMS41NTkgLTAuMTEsLTAuNDEgLTAuOTIsLTAuNjc3IDAsLTEuMzY2IDAuOTIsLTAuNjc3IDAuMTEsLTAuNDEgLTAuOSwtMS41NTkgLTAuNDA5LC0wLjEwOSAtMS4wNDYsMC40NTggLTEuMTg1LC0wLjY4MiAtMC4xMjcsLTEuMTM4IC0wLjMsLTAuMjk5IC0xLjgsMCAtMC4zLDAuMyAtMC4xMjYsMS4xMzUgLTEuMTg3LDAuNjgyIC0xLjA0MywtMC40NTcgLTAuNDEsMC4xMSAtMC44OTksMS41NTkgMC4xMDgsMC40MDl6XCJ9LFxudGhpcy5zdmdSb290KSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DSVJDTEUse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU2hhcGVcIixyOlwiMi43XCIsY3g6XCI4XCIsY3k6XCI4XCJ9LHRoaXMuc3ZnUm9vdCksYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseU11dGF0b3JJY29uXCIpKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpO2xldCBhOyhhPXRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZSk9PW51bGx8fGEuZGlzcG9zZSgpfWdldFdlaWdodCgpe3JldHVybiAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLldFSUdIVH1nZXRTaXplKCl7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLFxuU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbil9YXBwbHlDb2xvdXIoKXtzdXBlci5hcHBseUNvbG91cigpO2xldCBhOyhhPXRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZSk9PW51bGx8fGEuc2V0Q29sb3VyKHRoaXMuc291cmNlQmxvY2suZ2V0Q29sb3VyKCkpO2xldCBiOyhiPXRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZSk9PW51bGx8fGIudXBkYXRlQmxvY2tTdHlsZXMoKX11cGRhdGVDb2xsYXBzZWQoKXtzdXBlci51cGRhdGVDb2xsYXBzZWQoKTt0aGlzLnNvdXJjZUJsb2NrLmlzQ29sbGFwc2VkKCkmJnRoaXMuc2V0QnViYmxlVmlzaWJsZSghMSl9b25Mb2NhdGlvbkNoYW5nZShhKXtzdXBlci5vbkxvY2F0aW9uQ2hhbmdlKGEpO2xldCBiOyhiPXRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZSk9PW51bGx8fGIuc2V0QW5jaG9yTG9jYXRpb24odGhpcy5nZXRBbmNob3JMb2NhdGlvbigpKX1vbkNsaWNrKCl7c3VwZXIub25DbGljaygpO3RoaXMuc291cmNlQmxvY2suaXNFZGl0YWJsZSgpJiZcbnRoaXMuc2V0QnViYmxlVmlzaWJsZSghdGhpcy5idWJibGVJc1Zpc2libGUoKSl9aXNDbGlja2FibGVJbkZseW91dCgpe3JldHVybiExfWJ1YmJsZUlzVmlzaWJsZSgpe3JldHVybiEhdGhpcy5taW5pV29ya3NwYWNlQnViYmxlfXNldEJ1YmJsZVZpc2libGUoYSl7Y29uc3QgYj10aGlzO3JldHVybigwLCRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvckZ1bmN0aW9uKShmdW5jdGlvbiooKXtpZihiLmJ1YmJsZUlzVmlzaWJsZSgpIT09YSl7eWllbGQgZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCk7aWYoYSl7Yi5taW5pV29ya3NwYWNlQnViYmxlPW5ldyBNaW5pV29ya3NwYWNlQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRtaW5pX3dvcmtzcGFjZV9idWJibGUoYi5nZXRNaW5pV29ya3NwYWNlQ29uZmlnKCksYi5zb3VyY2VCbG9jay53b3Jrc3BhY2UsYi5nZXRBbmNob3JMb2NhdGlvbigpLFxuYi5nZXRCdWJibGVPd25lclJlY3QoKSk7Yi5hcHBseUNvbG91cigpO2IuY3JlYXRlUm9vdEJsb2NrKCk7Yi5hZGRTYXZlQ29ubmVjdGlvbnNMaXN0ZW5lcigpO2xldCBjOyhjPWIubWluaVdvcmtzcGFjZUJ1YmJsZSk9PW51bGx8fGMuYWRkV29ya3NwYWNlQ2hhbmdlTGlzdGVuZXIoYi5jcmVhdGVNaW5pV29ya3NwYWNlQ2hhbmdlTGlzdGVuZXIoKSl9ZWxzZXtsZXQgYzsoYz1iLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsfHxjLmRpc3Bvc2UoKTtiLm1pbmlXb3Jrc3BhY2VCdWJibGU9bnVsbDtiLnNhdmVDb25uZWN0aW9uc0xpc3RlbmVyJiZiLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcihiLnNhdmVDb25uZWN0aW9uc0xpc3RlbmVyKTtiLnNhdmVDb25uZWN0aW9uc0xpc3RlbmVyPW51bGx9ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CVUJCTEVfT1BFTikpKGIuc291cmNlQmxvY2ssXG5hLFwibXV0YXRvclwiKSl9fSl9Z2V0QnViYmxlKCl7cmV0dXJuIHRoaXMubWluaVdvcmtzcGFjZUJ1YmJsZX1nZXRNaW5pV29ya3NwYWNlQ29uZmlnKCl7bGV0IGE7Y29uc3QgYj17ZGlzYWJsZTohMSxtZWRpYTp0aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5vcHRpb25zLnBhdGhUb01lZGlhLHJ0bDp0aGlzLnNvdXJjZUJsb2NrLlJUTCxyZW5kZXJlcjp0aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5vcHRpb25zLnJlbmRlcmVyLHJlbmRlcmVyT3ZlcnJpZGVzOihhPXRoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLm9wdGlvbnMucmVuZGVyZXJPdmVycmlkZXMpIT1udWxsP2E6dm9pZCAwfTt0aGlzLmZseW91dEJsb2NrVHlwZXMubGVuZ3RoJiYoYi50b29sYm94PXtraW5kOlwiZmx5b3V0VG9vbGJveFwiLGNvbnRlbnRzOnRoaXMuZmx5b3V0QmxvY2tUeXBlcy5tYXAoYz0+KHtraW5kOlwiYmxvY2tcIix0eXBlOmN9KSl9KTtyZXR1cm4gYn1nZXRBbmNob3JMb2NhdGlvbigpe2NvbnN0IGE9U0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi9cbjI7cmV0dXJuIENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bSh0aGlzLndvcmtzcGFjZUxvY2F0aW9uLG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLGEpKX1nZXRCdWJibGVPd25lclJlY3QoKXtjb25zdCBhPXRoaXMuc291cmNlQmxvY2suZ2V0U3ZnUm9vdCgpLmdldEJCb3goKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEueSxhLnkrYS5oZWlnaHQsYS54LGEueCthLndpZHRoKX1jcmVhdGVSb290QmxvY2soKXtpZighdGhpcy5zb3VyY2VCbG9jay5kZWNvbXBvc2UpdGhyb3cgRXJyb3IoXCJCbG9ja3Mgd2l0aCBtdXRhdG9yIGljb25zIG11c3QgaW5jbHVkZSBhIGRlY29tcG9zZSBtZXRob2RcIik7dGhpcy5yb290QmxvY2s9dGhpcy5zb3VyY2VCbG9jay5kZWNvbXBvc2UodGhpcy5taW5pV29ya3NwYWNlQnViYmxlLmdldFdvcmtzcGFjZSgpKTtcbmZvcih2YXIgYSBvZiB0aGlzLnJvb3RCbG9jay5nZXREZXNjZW5kYW50cyghMSkpYS5xdWV1ZVJlbmRlcigpO3RoaXMucm9vdEJsb2NrLnNldE1vdmFibGUoITEpO3RoaXMucm9vdEJsb2NrLnNldERlbGV0YWJsZSghMSk7bGV0IGIsYyxkLGU7YT0oZT0oYj10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsP3ZvaWQgMDooYz1iLmdldFdvcmtzcGFjZSgpKT09bnVsbD92b2lkIDA6KGQ9Yy5nZXRGbHlvdXQoKSk9PW51bGw/dm9pZCAwOmQuZ2V0V2lkdGgoKSkhPW51bGw/ZTowO3RoaXMucm9vdEJsb2NrLm1vdmVCeSh0aGlzLnJvb3RCbG9jay5SVEw/LShhK1dPUktTUEFDRV9NQVJHSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24pOldPUktTUEFDRV9NQVJHSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24sV09SS1NQQUNFX01BUkdJTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbil9YWRkU2F2ZUNvbm5lY3Rpb25zTGlzdGVuZXIoKXt0aGlzLnNvdXJjZUJsb2NrLnNhdmVDb25uZWN0aW9ucyYmXG50aGlzLnJvb3RCbG9jayYmKHRoaXMuc2F2ZUNvbm5lY3Rpb25zTGlzdGVuZXI9KCk9Pnt0aGlzLnNvdXJjZUJsb2NrLnNhdmVDb25uZWN0aW9ucyYmdGhpcy5yb290QmxvY2smJnRoaXMuc291cmNlQmxvY2suc2F2ZUNvbm5lY3Rpb25zKHRoaXMucm9vdEJsb2NrKX0sdGhpcy5zYXZlQ29ubmVjdGlvbnNMaXN0ZW5lcigpLHRoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuc2F2ZUNvbm5lY3Rpb25zTGlzdGVuZXIpKX1jcmVhdGVNaW5pV29ya3NwYWNlQ2hhbmdlTGlzdGVuZXIoKXtyZXR1cm4gYT0+eyQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24uaXNJZ25vcmFibGVNdXRhdG9yRXZlbnQoYSl8fHRoaXMudXBkYXRlV29ya3NwYWNlUGlkfHwodGhpcy51cGRhdGVXb3Jrc3BhY2VQaWQ9c2V0VGltZW91dCgoKT0+e3RoaXMudXBkYXRlV29ya3NwYWNlUGlkPW51bGw7dGhpcy5yZWNvbXBvc2VTb3VyY2VCbG9jaygpfSxcbjApKX19c3RhdGljIGlzSWdub3JhYmxlTXV0YXRvckV2ZW50KGEpe3JldHVybiBhLmlzVWlFdmVudHx8aXNCbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRwcmVkaWNhdGVzKGEpfHxpc0Jsb2NrQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHByZWRpY2F0ZXMoYSkmJmEuZWxlbWVudD09PVwiZGlzYWJsZWRcIn1yZWNvbXBvc2VTb3VyY2VCbG9jaygpe2lmKHRoaXMucm9vdEJsb2NrKXtpZighdGhpcy5zb3VyY2VCbG9jay5jb21wb3NlKXRocm93IEVycm9yKFwiQmxvY2tzIHdpdGggbXV0YXRvciBpY29ucyBtdXN0IGluY2x1ZGUgYSBjb21wb3NlIG1ldGhvZFwiKTt2YXIgYT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7YXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dmFyIGI9QmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NoYW5nZS5nZXRFeHRyYUJsb2NrU3RhdGVfKHRoaXMuc291cmNlQmxvY2spO1xudGhpcy5zb3VyY2VCbG9jay5jb21wb3NlKHRoaXMucm9vdEJsb2NrKTt2YXIgYz1CbG9ja0NoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY2hhbmdlLmdldEV4dHJhQmxvY2tTdGF0ZV8odGhpcy5zb3VyY2VCbG9jayk7YiE9PWMmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcy5zb3VyY2VCbG9jayxcIm11dGF0aW9uXCIsbnVsbCxiLGMpKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfX1nZXRXb3Jrc3BhY2UoKXtsZXQgYTtyZXR1cm4oYT10aGlzLm1pbmlXb3Jrc3BhY2VCdWJibGUpPT1udWxsP3ZvaWQgMDphLmdldFdvcmtzcGFjZSgpfX07XG4kLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLlRZUEU9SWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLk1VVEFUT1I7JC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5XRUlHSFQ9MTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLk11dGF0b3JJY29uPSQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb247dmFyIGFsbEV4dGVuc2lvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zPU9iamVjdC5jcmVhdGUobnVsbCksVEVTVF9PTkxZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucz17YWxsRXh0ZW5zaW9uczphbGxFeHRlbnNpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uc307JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJwYXJlbnRfdG9vbHRpcF93aGVuX2lubGluZVwiLGV4dGVuc2lvblBhcmVudFRvb2x0aXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM9e1RFU1RfT05MWTpURVNUX09OTFkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucy5hcHBseT1hcHBseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucy5idWlsZFRvb2x0aXBGb3JEcm9wZG93bj0kLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucy5idWlsZFRvb2x0aXBXaXRoRmllbGRUZXh0PSQuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMuaXNSZWdpc3RlcmVkPWlzUmVnaXN0ZXJlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMucmVnaXN0ZXI9JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMucmVnaXN0ZXJNaXhpbj0kLnJlZ2lzdGVyTWl4aW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMucmVnaXN0ZXJNdXRhdG9yPSQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucy5ydW5BZnRlclBhZ2VMb2FkPXJ1bkFmdGVyUGFnZUxvYWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zLnVucmVnaXN0ZXI9dW5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7dmFyIEtleUNvZGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXM7XG4oZnVuY3Rpb24oYSl7YVthLldJTl9LRVlfRkZfTElOVVg9MF09XCJXSU5fS0VZX0ZGX0xJTlVYXCI7YVthLk1BQ19FTlRFUj0zXT1cIk1BQ19FTlRFUlwiO2FbYS5CQUNLU1BBQ0U9OF09XCJCQUNLU1BBQ0VcIjthW2EuVEFCPTldPVwiVEFCXCI7YVthLk5VTV9DRU5URVI9MTJdPVwiTlVNX0NFTlRFUlwiO2FbYS5FTlRFUj0xM109XCJFTlRFUlwiO2FbYS5TSElGVD0xNl09XCJTSElGVFwiO2FbYS5DVFJMPTE3XT1cIkNUUkxcIjthW2EuQUxUPTE4XT1cIkFMVFwiO2FbYS5QQVVTRT0xOV09XCJQQVVTRVwiO2FbYS5DQVBTX0xPQ0s9MjBdPVwiQ0FQU19MT0NLXCI7YVthLkVTQz0yN109XCJFU0NcIjthW2EuU1BBQ0U9MzJdPVwiU1BBQ0VcIjthW2EuUEFHRV9VUD0zM109XCJQQUdFX1VQXCI7YVthLlBBR0VfRE9XTj0zNF09XCJQQUdFX0RPV05cIjthW2EuRU5EPTM1XT1cIkVORFwiO2FbYS5IT01FPTM2XT1cIkhPTUVcIjthW2EuTEVGVD0zN109XCJMRUZUXCI7YVthLlVQPTM4XT1cIlVQXCI7YVthLlJJR0hUPTM5XT1cIlJJR0hUXCI7YVthLkRPV049NDBdPVxuXCJET1dOXCI7YVthLlBMVVNfU0lHTj00M109XCJQTFVTX1NJR05cIjthW2EuUFJJTlRfU0NSRUVOPTQ0XT1cIlBSSU5UX1NDUkVFTlwiO2FbYS5JTlNFUlQ9NDVdPVwiSU5TRVJUXCI7YVthLkRFTEVURT00Nl09XCJERUxFVEVcIjthW2EuWkVSTz00OF09XCJaRVJPXCI7YVthLk9ORT00OV09XCJPTkVcIjthW2EuVFdPPTUwXT1cIlRXT1wiO2FbYS5USFJFRT01MV09XCJUSFJFRVwiO2FbYS5GT1VSPTUyXT1cIkZPVVJcIjthW2EuRklWRT01M109XCJGSVZFXCI7YVthLlNJWD01NF09XCJTSVhcIjthW2EuU0VWRU49NTVdPVwiU0VWRU5cIjthW2EuRUlHSFQ9NTZdPVwiRUlHSFRcIjthW2EuTklORT01N109XCJOSU5FXCI7YVthLkZGX1NFTUlDT0xPTj01OV09XCJGRl9TRU1JQ09MT05cIjthW2EuRkZfRVFVQUxTPTYxXT1cIkZGX0VRVUFMU1wiO2FbYS5GRl9EQVNIPTE3M109XCJGRl9EQVNIXCI7YVthLkZGX0hBU0g9MTYzXT1cIkZGX0hBU0hcIjthW2EuUVVFU1RJT05fTUFSSz02M109XCJRVUVTVElPTl9NQVJLXCI7YVthLkFUX1NJR049NjRdPVwiQVRfU0lHTlwiO1xuYVthLkE9NjVdPVwiQVwiO2FbYS5CPTY2XT1cIkJcIjthW2EuQz02N109XCJDXCI7YVthLkQ9NjhdPVwiRFwiO2FbYS5FPTY5XT1cIkVcIjthW2EuRj03MF09XCJGXCI7YVthLkc9NzFdPVwiR1wiO2FbYS5IPTcyXT1cIkhcIjthW2EuST03M109XCJJXCI7YVthLko9NzRdPVwiSlwiO2FbYS5LPTc1XT1cIktcIjthW2EuTD03Nl09XCJMXCI7YVthLk09NzddPVwiTVwiO2FbYS5OPTc4XT1cIk5cIjthW2EuTz03OV09XCJPXCI7YVthLlA9ODBdPVwiUFwiO2FbYS5RPTgxXT1cIlFcIjthW2EuUj04Ml09XCJSXCI7YVthLlM9ODNdPVwiU1wiO2FbYS5UPTg0XT1cIlRcIjthW2EuVT04NV09XCJVXCI7YVthLlY9ODZdPVwiVlwiO2FbYS5XPTg3XT1cIldcIjthW2EuWD04OF09XCJYXCI7YVthLlk9ODldPVwiWVwiO2FbYS5aPTkwXT1cIlpcIjthW2EuTUVUQT05MV09XCJNRVRBXCI7YVthLldJTl9LRVlfUklHSFQ9OTJdPVwiV0lOX0tFWV9SSUdIVFwiO2FbYS5DT05URVhUX01FTlU9OTNdPVwiQ09OVEVYVF9NRU5VXCI7YVthLk5VTV9aRVJPPTk2XT1cIk5VTV9aRVJPXCI7YVthLk5VTV9PTkU9OTddPVxuXCJOVU1fT05FXCI7YVthLk5VTV9UV089OThdPVwiTlVNX1RXT1wiO2FbYS5OVU1fVEhSRUU9OTldPVwiTlVNX1RIUkVFXCI7YVthLk5VTV9GT1VSPTEwMF09XCJOVU1fRk9VUlwiO2FbYS5OVU1fRklWRT0xMDFdPVwiTlVNX0ZJVkVcIjthW2EuTlVNX1NJWD0xMDJdPVwiTlVNX1NJWFwiO2FbYS5OVU1fU0VWRU49MTAzXT1cIk5VTV9TRVZFTlwiO2FbYS5OVU1fRUlHSFQ9MTA0XT1cIk5VTV9FSUdIVFwiO2FbYS5OVU1fTklORT0xMDVdPVwiTlVNX05JTkVcIjthW2EuTlVNX01VTFRJUExZPTEwNl09XCJOVU1fTVVMVElQTFlcIjthW2EuTlVNX1BMVVM9MTA3XT1cIk5VTV9QTFVTXCI7YVthLk5VTV9NSU5VUz0xMDldPVwiTlVNX01JTlVTXCI7YVthLk5VTV9QRVJJT0Q9MTEwXT1cIk5VTV9QRVJJT0RcIjthW2EuTlVNX0RJVklTSU9OPTExMV09XCJOVU1fRElWSVNJT05cIjthW2EuRjE9MTEyXT1cIkYxXCI7YVthLkYyPTExM109XCJGMlwiO2FbYS5GMz0xMTRdPVwiRjNcIjthW2EuRjQ9MTE1XT1cIkY0XCI7YVthLkY1PTExNl09XCJGNVwiO2FbYS5GNj1cbjExN109XCJGNlwiO2FbYS5GNz0xMThdPVwiRjdcIjthW2EuRjg9MTE5XT1cIkY4XCI7YVthLkY5PTEyMF09XCJGOVwiO2FbYS5GMTA9MTIxXT1cIkYxMFwiO2FbYS5GMTE9MTIyXT1cIkYxMVwiO2FbYS5GMTI9MTIzXT1cIkYxMlwiO2FbYS5OVU1MT0NLPTE0NF09XCJOVU1MT0NLXCI7YVthLlNDUk9MTF9MT0NLPTE0NV09XCJTQ1JPTExfTE9DS1wiO2FbYS5GSVJTVF9NRURJQV9LRVk9MTY2XT1cIkZJUlNUX01FRElBX0tFWVwiO2FbYS5MQVNUX01FRElBX0tFWT0xODNdPVwiTEFTVF9NRURJQV9LRVlcIjthW2EuU0VNSUNPTE9OPTE4Nl09XCJTRU1JQ09MT05cIjthW2EuREFTSD0xODldPVwiREFTSFwiO2FbYS5FUVVBTFM9MTg3XT1cIkVRVUFMU1wiO2FbYS5DT01NQT0xODhdPVwiQ09NTUFcIjthW2EuUEVSSU9EPTE5MF09XCJQRVJJT0RcIjthW2EuU0xBU0g9MTkxXT1cIlNMQVNIXCI7YVthLkFQT1NUUk9QSEU9MTkyXT1cIkFQT1NUUk9QSEVcIjthW2EuVElMREU9MTkyXT1cIlRJTERFXCI7YVthLlNJTkdMRV9RVU9URT0yMjJdPVwiU0lOR0xFX1FVT1RFXCI7XG5hW2EuT1BFTl9TUVVBUkVfQlJBQ0tFVD0yMTldPVwiT1BFTl9TUVVBUkVfQlJBQ0tFVFwiO2FbYS5CQUNLU0xBU0g9MjIwXT1cIkJBQ0tTTEFTSFwiO2FbYS5DTE9TRV9TUVVBUkVfQlJBQ0tFVD0yMjFdPVwiQ0xPU0VfU1FVQVJFX0JSQUNLRVRcIjthW2EuV0lOX0tFWT0yMjRdPVwiV0lOX0tFWVwiO2FbYS5NQUNfRkZfTUVUQT0yMjRdPVwiTUFDX0ZGX01FVEFcIjthW2EuTUFDX1dLX0NNRF9MRUZUPTkxXT1cIk1BQ19XS19DTURfTEVGVFwiO2FbYS5NQUNfV0tfQ01EX1JJR0hUPTkzXT1cIk1BQ19XS19DTURfUklHSFRcIjthW2EuV0lOX0lNRT0yMjldPVwiV0lOX0lNRVwiO2FbYS5WS19OT05BTUU9MjUyXT1cIlZLX05PTkFNRVwiO2FbYS5QSEFOVE9NPTI1NV09XCJQSEFOVE9NXCJ9KShLZXlDb2RlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGtleWNvZGVzfHwoS2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcz17fSkpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMka2V5Y29kZXMuS2V5Q29kZXM9S2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlczt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLmFyYz1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5jdXJ2ZT1jdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRoczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLmxpbmU9bGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRoczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLmxpbmVPbkF4aXM9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRoczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLmxpbmVUbz1saW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzLm1vdmVCeT1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocy5tb3ZlVG89bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMucG9pbnQ9cG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHM7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuQ29vcmRpbmF0ZT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuS2V5Q29kZXM9S2V5Q29kZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRrZXljb2Rlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuUmVjdD1SZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuU2l6ZT1TaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuU3ZnPVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuYXJpYT1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5hcnJheT1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLmJyb3dzZXJFdmVudHM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5jb2xvdXI9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuZGVwcmVjYXRpb249bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5kb209bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuZXh0ZW5zaW9ucz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuaWRHZW5lcmF0b3I9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLm1hdGg9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzLm9iamVjdD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkb2JqZWN0O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5wYXJzaW5nPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5zdHJpbmc9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuc3R5bGU9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0eWxlO21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy5zdmdNYXRoPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMuc3ZnUGF0aHM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy50b29sYm94PW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94O21vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscy51c2VyQWdlbnQ9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMueG1sPW1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWw7dmFyIFRleHRJbnB1dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dGlucHV0X2J1YmJsZT1jbGFzcyBleHRlbmRzIEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxle2NvbnN0cnVjdG9yKGEsYixjLGQpe3N1cGVyKGEsYixjLHZvaWQgMCxkKTt0aGlzLndvcmtzcGFjZT1hO3RoaXMuYW5jaG9yPWI7dGhpcy5vd25lclJlY3Q9Yzt0aGlzLm93bmVyPWQ7dGhpcy5yZXNpemVQb2ludGVyTW92ZUxpc3RlbmVyPXRoaXMucmVzaXplUG9pbnRlclVwTGlzdGVuZXI9bnVsbDt0aGlzLnNpemVDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy5sb2NhdGlvbkNoYW5nZUxpc3RlbmVycz1bXTt0aGlzLkRFRkFVTFRfU0laRT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoMTYwK0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVIsODArQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUik7XG50aGlzLk1JTl9TSVpFPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSg0NStCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSLDIwK0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVIpO3RoaXMuZWRpdGFibGU9ITA7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseVRleHRJbnB1dEJ1YmJsZVwiKTt0aGlzLmVkaXRvcj1uZXcgQ29tbWVudEVkaXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbW1lbnRfZWRpdG9yKGEsdGhpcy5pZCwoKT0+eyQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzKX0pO3RoaXMuY29udGVudENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVkaXRvci5nZXREb20oKSk7XG50aGlzLnJlc2l6ZUdyb3VwPXRoaXMuY3JlYXRlUmVzaXplSGFuZGxlKHRoaXMuc3ZnUm9vdCxhKTt0aGlzLnNldFNpemUodGhpcy5ERUZBVUxUX1NJWkUsITApfWdldFRleHQoKXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0VGV4dCgpfXNldFRleHQoYSl7dGhpcy5lZGl0b3Iuc2V0VGV4dChhKX1zZXRFZGl0YWJsZShhKXt0aGlzLmVkaXRhYmxlPWE7dGhpcy5lZGl0b3Iuc2V0RWRpdGFibGUoYSl9aXNFZGl0YWJsZSgpe3JldHVybiB0aGlzLmVkaXRhYmxlfWFkZFRleHRDaGFuZ2VMaXN0ZW5lcihhKXt0aGlzLmVkaXRvci5hZGRUZXh0Q2hhbmdlTGlzdGVuZXIoYSl9YWRkU2l6ZUNoYW5nZUxpc3RlbmVyKGEpe3RoaXMuc2l6ZUNoYW5nZUxpc3RlbmVycy5wdXNoKGEpfWFkZExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoYSl7dGhpcy5sb2NhdGlvbkNoYW5nZUxpc3RlbmVycy5wdXNoKGEpfWNyZWF0ZVJlc2l6ZUhhbmRsZShhLGIpe2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0UsXG57XCJjbGFzc1wiOlwiYmxvY2tseVJlc2l6ZUhhbmRsZVwiLGhyZWY6YCR7Yi5vcHRpb25zLnBhdGhUb01lZGlhfXJlc2l6ZS1oYW5kbGUuc3ZnYH0sYSk7Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uUmVzaXplUG9pbnRlckRvd24pO3JldHVybiBhfXNldFNpemUoYSxiPSExKXthLndpZHRoPU1hdGgubWF4KGEud2lkdGgsdGhpcy5NSU5fU0laRS53aWR0aCk7YS5oZWlnaHQ9TWF0aC5tYXgoYS5oZWlnaHQsdGhpcy5NSU5fU0laRS5oZWlnaHQpO2NvbnN0IGM9YS53aWR0aC1CdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSLGQ9YS5oZWlnaHQtQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUjt0aGlzLmVkaXRvci51cGRhdGVTaXplKG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShjLFxuZCksbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDAsMCkpO3RoaXMuZWRpdG9yLmdldERvbSgpLnNldEF0dHJpYnV0ZShcInhcIixgJHtCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZS5ET1VCTEVfQk9SREVSLzJ9YCk7dGhpcy5lZGl0b3IuZ2V0RG9tKCkuc2V0QXR0cmlidXRlKFwieVwiLGAke0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkRPVUJMRV9CT1JERVIvMn1gKTt0aGlzLnJlc2l6ZUdyb3VwLnNldEF0dHJpYnV0ZShcInlcIixgJHtkfWApO3RoaXMud29ya3NwYWNlLlJUTD90aGlzLnJlc2l6ZUdyb3VwLnNldEF0dHJpYnV0ZShcInhcIixgJHstQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuRE9VQkxFX0JPUkRFUn1gKTp0aGlzLnJlc2l6ZUdyb3VwLnNldEF0dHJpYnV0ZShcInhcIixgJHtjfWApO3N1cGVyLnNldFNpemUoYSxiKTt0aGlzLm9uU2l6ZUNoYW5nZSgpfWdldFNpemUoKXtyZXR1cm4gc3VwZXIuZ2V0U2l6ZSgpfW1vdmVEdXJpbmdEcmFnKGEpe3N1cGVyLm1vdmVEdXJpbmdEcmFnKGEpO1xudGhpcy5vbkxvY2F0aW9uQ2hhbmdlKCl9c2V0UG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKGEsYil7c3VwZXIuc2V0UG9zaXRpb25SZWxhdGl2ZVRvQW5jaG9yKGEsYik7dGhpcy5vbkxvY2F0aW9uQ2hhbmdlKCl9cG9zaXRpb25CeVJlY3QoYT1uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoMCwwLDAsMCkpe3N1cGVyLnBvc2l0aW9uQnlSZWN0KGEpO3RoaXMub25Mb2NhdGlvbkNoYW5nZSgpfW9uUmVzaXplUG9pbnRlckRvd24oYSl7dGhpcy5icmluZ1RvRnJvbnQoKTtpc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSl8fChzdGFydCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRyYWcodGhpcy53b3Jrc3BhY2UsYSxuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUodGhpcy53b3Jrc3BhY2UuUlRMPy10aGlzLmdldFNpemUoKS53aWR0aDp0aGlzLmdldFNpemUoKS53aWR0aCxcbnRoaXMuZ2V0U2l6ZSgpLmhlaWdodCkpLHRoaXMucmVzaXplUG9pbnRlclVwTGlzdGVuZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoZG9jdW1lbnQsXCJwb2ludGVydXBcIix0aGlzLHRoaXMub25SZXNpemVQb2ludGVyVXApLHRoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lcj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJtb3ZlXCIsdGhpcyx0aGlzLm9uUmVzaXplUG9pbnRlck1vdmUpLHRoaXMud29ya3NwYWNlLmhpZGVDaGFmZigpKTthLnN0b3BQcm9wYWdhdGlvbigpfW9uUmVzaXplUG9pbnRlclVwKGEpe2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKTt0aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyJiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5yZXNpemVQb2ludGVyVXBMaXN0ZW5lciksXG50aGlzLnJlc2l6ZVBvaW50ZXJVcExpc3RlbmVyPW51bGwpO3RoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMucmVzaXplUG9pbnRlck1vdmVMaXN0ZW5lciksdGhpcy5yZXNpemVQb2ludGVyTW92ZUxpc3RlbmVyPW51bGwpfW9uUmVzaXplUG9pbnRlck1vdmUoYSl7YT1tb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyh0aGlzLndvcmtzcGFjZSxhKTt0aGlzLnNldFNpemUobmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKHRoaXMud29ya3NwYWNlLlJUTD8tYS54OmEueCxhLnkpLCExKTt0aGlzLm9uU2l6ZUNoYW5nZSgpfW9uU2l6ZUNoYW5nZSgpe2Zvcihjb25zdCBhIG9mIHRoaXMuc2l6ZUNoYW5nZUxpc3RlbmVycylhKCl9b25Mb2NhdGlvbkNoYW5nZSgpe2Zvcihjb25zdCBhIG9mIHRoaXMubG9jYXRpb25DaGFuZ2VMaXN0ZW5lcnMpYSgpfWdldEVkaXRvcigpe3JldHVybiB0aGlzLmVkaXRvcn19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoXCJcXG4uYmxvY2tseVRleHRJbnB1dEJ1YmJsZSAuYmxvY2tseVRleHRhcmVhIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbW1lbnRGaWxsQ29sb3VyKTtcXG4gIGJvcmRlcjogMDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIG91dGxpbmU6IDA7XFxuICBwYWRkaW5nOiA1cHg7XFxuICByZXNpemU6IG5vbmU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXCIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0aW5wdXRfYnViYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRpbnB1dF9idWJibGUuVGV4dElucHV0QnViYmxlPVRleHRJbnB1dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dGlucHV0X2J1YmJsZTt2YXIgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGU7KGZ1bmN0aW9uKGEpe2FbYS5JTlBVVF9WQUxVRT0xXT1cIklOUFVUX1ZBTFVFXCI7YVthLk9VVFBVVF9WQUxVRT0yXT1cIk9VVFBVVF9WQUxVRVwiO2FbYS5ORVhUX1NUQVRFTUVOVD0zXT1cIk5FWFRfU1RBVEVNRU5UXCI7YVthLlBSRVZJT1VTX1NUQVRFTUVOVD00XT1cIlBSRVZJT1VTX1NUQVRFTUVOVFwifSkoQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGV8fChDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZT17fSkpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuQ29ubmVjdGlvblR5cGU9Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGU7dmFyIENvbm5lY3Rpb25EQiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5jb25uZWN0aW9uQ2hlY2tlcj1hO3RoaXMuY29ubmVjdGlvbnM9W119YWRkQ29ubmVjdGlvbihhLGIpe2I9dGhpcy5jYWxjdWxhdGVJbmRleEZvcllQb3MoYik7dGhpcy5jb25uZWN0aW9ucy5zcGxpY2UoYiwwLGEpfWZpbmRJbmRleE9mQ29ubmVjdGlvbihhLGIpe2lmKCF0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aClyZXR1cm4tMTtjb25zdCBjPXRoaXMuY2FsY3VsYXRlSW5kZXhGb3JZUG9zKGIpO2lmKGM+PXRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKXJldHVybi0xO2I9YS55O2xldCBkPWM7Zm9yKDtkPj0wJiZ0aGlzLmNvbm5lY3Rpb25zW2RdLnk9PT1iOyl7aWYodGhpcy5jb25uZWN0aW9uc1tkXT09PWEpcmV0dXJuIGQ7ZC0tfWZvcihkPWM7ZDx0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCYmdGhpcy5jb25uZWN0aW9uc1tkXS55PT09Yjspe2lmKHRoaXMuY29ubmVjdGlvbnNbZF09PT1cbmEpcmV0dXJuIGQ7ZCsrfXJldHVybi0xfWNhbGN1bGF0ZUluZGV4Rm9yWVBvcyhhKXtpZighdGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpcmV0dXJuIDA7bGV0IGI9MCxjPXRoaXMuY29ubmVjdGlvbnMubGVuZ3RoO2Zvcig7YjxjOyl7Y29uc3QgZD1NYXRoLmZsb29yKChiK2MpLzIpO2lmKHRoaXMuY29ubmVjdGlvbnNbZF0ueTxhKWI9ZCsxO2Vsc2UgaWYodGhpcy5jb25uZWN0aW9uc1tkXS55PmEpYz1kO2Vsc2V7Yj1kO2JyZWFrfX1yZXR1cm4gYn1yZW1vdmVDb25uZWN0aW9uKGEsYil7YT10aGlzLmZpbmRJbmRleE9mQ29ubmVjdGlvbihhLGIpO2lmKGE9PT0tMSl0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIGNvbm5lY3Rpb24gaW4gY29ubmVjdGlvbkRCLlwiKTt0aGlzLmNvbm5lY3Rpb25zLnNwbGljZShhLDEpfWdldE5laWdoYm91cnMoYSxiKXtmdW5jdGlvbiBjKGwpe2NvbnN0IG09ZS1kW2xdLngsbj1mLWRbbF0ueTtNYXRoLnNxcnQobSptK24qbik8PWImJmsucHVzaChkW2xdKTtcbnJldHVybiBuPGJ9Y29uc3QgZD10aGlzLmNvbm5lY3Rpb25zLGU9YS54LGY9YS55O2E9MDtsZXQgZz1kLmxlbmd0aC0yLGg9Zztmb3IoO2E8aDspZFtoXS55PGY/YT1oOmc9aCxoPU1hdGguZmxvb3IoKGErZykvMik7Y29uc3Qgaz1bXTtnPWE9aDtpZihkLmxlbmd0aCl7Zm9yKDthPj0wJiZjKGEpOylhLS07ZG8gZysrO3doaWxlKGc8ZC5sZW5ndGgmJmMoZykpfXJldHVybiBrfWlzSW5ZUmFuZ2UoYSxiLGMpe3JldHVybiBNYXRoLmFicyh0aGlzLmNvbm5lY3Rpb25zW2FdLnktYik8PWN9c2VhcmNoRm9yQ2xvc2VzdChhLGIsYyl7aWYoIXRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKXJldHVybntjb25uZWN0aW9uOm51bGwscmFkaXVzOmJ9O2NvbnN0IGQ9YS55LGU9YS54O2EueD1lK2MueDthLnk9ZCtjLnk7dmFyIGY9dGhpcy5jYWxjdWxhdGVJbmRleEZvcllQb3MoYS55KTtjPW51bGw7bGV0IGc9YixoLGs9Zi0xO2Zvcig7az49MCYmdGhpcy5pc0luWVJhbmdlKGssYS55LGIpOyloPXRoaXMuY29ubmVjdGlvbnNba10sXG50aGlzLmNvbm5lY3Rpb25DaGVja2VyLmNhbkNvbm5lY3QoYSxoLCEwLGcpJiYoYz1oLGc9aC5kaXN0YW5jZUZyb20oYSkpLGstLTtmb3IoO2Y8dGhpcy5jb25uZWN0aW9ucy5sZW5ndGgmJnRoaXMuaXNJbllSYW5nZShmLGEueSxiKTspaD10aGlzLmNvbm5lY3Rpb25zW2ZdLHRoaXMuY29ubmVjdGlvbkNoZWNrZXIuY2FuQ29ubmVjdChhLGgsITAsZykmJihjPWgsZz1oLmRpc3RhbmNlRnJvbShhKSksZisrO2EueD1lO2EueT1kO3JldHVybntjb25uZWN0aW9uOmMscmFkaXVzOmd9fXN0YXRpYyBpbml0KGEpe2NvbnN0IGI9W107YltDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRV09bmV3IENvbm5lY3Rpb25EQiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGIoYSk7YltDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUVdPW5ldyBDb25uZWN0aW9uREIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiKGEpO1xuYltDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVF09bmV3IENvbm5lY3Rpb25EQiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGIoYSk7YltDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5QUkVWSU9VU19TVEFURU1FTlRdPW5ldyBDb25uZWN0aW9uREIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2RiKGEpO3JldHVybiBifX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGIuQ29ubmVjdGlvbkRCPUNvbm5lY3Rpb25EQiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fZGI7dmFyIFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19zZWxlY3RlZD1jbGFzcyBleHRlbmRzIFVpQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZXtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYyk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlNFTEVDVEVEO3RoaXMub2xkRWxlbWVudElkPWEhPW51bGw/YTp2b2lkIDA7dGhpcy5uZXdFbGVtZW50SWQ9YiE9bnVsbD9iOnZvaWQgMH10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2Eub2xkRWxlbWVudElkPXRoaXMub2xkRWxlbWVudElkO2EubmV3RWxlbWVudElkPXRoaXMubmV3RWxlbWVudElkO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQpO1xuYi5vbGRFbGVtZW50SWQ9YS5vbGRFbGVtZW50SWQ7Yi5uZXdFbGVtZW50SWQ9YS5uZXdFbGVtZW50SWQ7cmV0dXJuIGJ9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5TRUxFQ1RFRCxTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19zZWxlY3RlZD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19zZWxlY3RlZC5TZWxlY3RlZD1TZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfc2VsZWN0ZWQ7dmFyIEJsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kZWxldGU9Y2xhc3MgZXh0ZW5kcyBCbG9ja0Jhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RFTEVURTtpZihhKXtpZihhLmdldFBhcmVudCgpKXRocm93IEVycm9yKFwiQ29ubmVjdGVkIGJsb2NrcyBjYW5ub3QgYmUgZGVsZXRlZC5cIik7YS5pc1NoYWRvdygpJiYodGhpcy5yZWNvcmRVbmRvPSExKTt0aGlzLm9sZFhtbD1ibG9ja1RvRG9tV2l0aFhZJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpO3RoaXMuaWRzPWdldERlc2NlbmRhbnRJZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSk7dGhpcy53YXNTaGFkb3c9YS5pc1NoYWRvdygpO3RoaXMub2xkSnNvbj1cbnNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLHthZGRDb29yZGluYXRlczohMH0pfX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLm9sZFhtbCl0aHJvdyBFcnJvcihcIlRoZSBvbGQgYmxvY2sgWE1MIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMuaWRzKXRocm93IEVycm9yKFwiVGhlIGJsb2NrIElEcyBhcmUgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZih0aGlzLndhc1NoYWRvdz09PXZvaWQgMCl0aHJvdyBFcnJvcihcIldoZXRoZXIgdGhlIGJsb2NrIHdhcyBhIHNoYWRvdyBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLm9sZEpzb24pdGhyb3cgRXJyb3IoXCJUaGUgb2xkIGJsb2NrIEpTT04gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEub2xkWG1sPWRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCh0aGlzLm9sZFhtbCk7YS5pZHM9dGhpcy5pZHM7YS53YXNTaGFkb3c9dGhpcy53YXNTaGFkb3c7YS5vbGRKc29uPXRoaXMub2xkSnNvbjt0aGlzLnJlY29yZFVuZG98fChhLnJlY29yZFVuZG89dGhpcy5yZWNvcmRVbmRvKTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQmxvY2tEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RlbGV0ZSk7Yi5vbGRYbWw9JC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYS5vbGRYbWwpO2IuaWRzPWEuaWRzO2Iud2FzU2hhZG93PWEud2FzU2hhZG93fHxiLm9sZFhtbC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1cInNoYWRvd1wiO2Iub2xkSnNvbj1hLm9sZEpzb247YS5yZWNvcmRVbmRvIT09dm9pZCAwJiYoYi5yZWNvcmRVbmRvPVxuYS5yZWNvcmRVbmRvKTtyZXR1cm4gYn1ydW4oYSl7Y29uc3QgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmlkcyl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBJRHMgYXJlIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMub2xkSnNvbil0aHJvdyBFcnJvcihcIlRoZSBvbGQgYmxvY2sgSlNPTiBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKGEpZm9yKGE9MDthPHRoaXMuaWRzLmxlbmd0aDthKyspe2NvbnN0IGM9dGhpcy5pZHNbYV0sZD1iLmdldEJsb2NrQnlJZChjKTtkP2QuZGlzcG9zZSghMSk6Yz09PXRoaXMuYmxvY2tJZCYmY29uc29sZS53YXJuKFwiQ2FuJ3QgZGVsZXRlIG5vbi1leGlzdGVudCBibG9jazogXCIrYyl9ZWxzZSBhcHBlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2Nrcyh0aGlzLm9sZEpzb24sXG5iKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RFTEVURSxCbG9ja0RlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZGVsZXRlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZGVsZXRlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RlbGV0ZS5CbG9ja0RlbGV0ZT1CbG9ja0RlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZGVsZXRlO3ZhciBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMudHlwZT1iO3RoaXMudGFyZ2V0Q29ubmVjdGlvbj1udWxsO3RoaXMuZGlzcG9zZWQ9ITE7dGhpcy5zaGFkb3dEb209dGhpcy5jaGVjaz1udWxsO3RoaXMueT10aGlzLng9MDt0aGlzLnNoYWRvd1N0YXRlPW51bGw7dGhpcy5zb3VyY2VCbG9ja189YTtpZihhLmlkLmluY2x1ZGVzKFwiX2Nvbm5lY3Rpb25cIikpdGhyb3cgRXJyb3IoXCJDb25uZWN0aW9uIElEIGluZGljYXRvciBpcyBjb250YWluZWQgaW4gYmxvY2sgSUQuIFRoaXMgd2lsbCBjYXVzZSBcIitgcHJvYmxlbXMgd2l0aCBmb2N1czogJHthLmlkfS5gKTt0aGlzLmlkPWAke2EuaWR9X2Nvbm5lY3Rpb25fJHtnZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpfWB9Y29ubmVjdF8oYSl7Y29uc3QgYj1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRSxcbmM9dGhpcy5nZXRTb3VyY2VCbG9jaygpO3ZhciBkPWEuZ2V0U291cmNlQmxvY2soKTthLmlzQ29ubmVjdGVkKCkmJmEuZGlzY29ubmVjdEludGVybmFsKCExKTtsZXQgZTtpZih0aGlzLmlzQ29ubmVjdGVkKCkpe2NvbnN0IGc9dGhpcy5zdGFzaFNoYWRvd1N0YXRlKCksaD10aGlzLnRhcmdldEJsb2NrKCk7aC5pc1NoYWRvdygpP2guZGlzcG9zZSghMSk6KHRoaXMuZGlzY29ubmVjdEludGVybmFsKCksZT1oKTt0aGlzLmFwcGx5U2hhZG93U3RhdGUoZyl9bGV0IGY7aXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJihmPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX01PVkUpKShkKSxmLnNldFJlYXNvbihbXCJjb25uZWN0XCJdKSk7Y29ubmVjdFJlY2lwcm9jYWxseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24odGhpcyxcbmEpO2Quc2V0UGFyZW50KGMpO2YmJihmLnJlY29yZE5ldygpLGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZikpO2lmKGUmJihhPXRoaXMudHlwZT09PWI/ZS5vdXRwdXRDb25uZWN0aW9uOmUucHJldmlvdXNDb25uZWN0aW9uKSlpZihkPUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLmdldENvbm5lY3Rpb25Gb3JPcnBoYW5lZENvbm5lY3Rpb24oZCxhKSlhLmNvbm5lY3QoZCk7ZWxzZSBhLm9uRmFpbGVkQ29ubmVjdCh0aGlzKX1kaXNwb3NlKCl7aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXt0aGlzLmlzU3VwZXJpb3IoKSYmdGhpcy5zZXRTaGFkb3dTdGF0ZUludGVybmFsKCk7Y29uc3QgYT10aGlzLnRhcmdldEJsb2NrKCk7YSYmIWEuaXNEZWFkT3JEeWluZygpJiZhLnVucGx1ZygpfXRoaXMuZGlzcG9zZWQ9ITB9Z2V0U291cmNlQmxvY2soKXtyZXR1cm4gdGhpcy5zb3VyY2VCbG9ja199aXNTdXBlcmlvcigpe3JldHVybiB0aGlzLnR5cGU9PT1cbkNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFfHx0aGlzLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVH1pc0Nvbm5lY3RlZCgpe3JldHVybiEhdGhpcy50YXJnZXRDb25uZWN0aW9ufWdldENvbm5lY3Rpb25DaGVja2VyKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5jb25uZWN0aW9uQ2hlY2tlcn1vbkZhaWxlZENvbm5lY3QoYSl7fWNvbm5lY3QoYSl7aWYodGhpcy50YXJnZXRDb25uZWN0aW9uPT09YSlyZXR1cm4hMDtpZih0aGlzLmdldENvbm5lY3Rpb25DaGVja2VyKCkuY2FuQ29ubmVjdCh0aGlzLGEsITEpKXtjb25zdCBiPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtifHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtcbnRoaXMuaXNTdXBlcmlvcigpP3RoaXMuY29ubmVjdF8oYSk6YS5jb25uZWN0Xyh0aGlzKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpfXJldHVybiB0aGlzLmlzQ29ubmVjdGVkKCl9ZGlzY29ubmVjdCgpe3RoaXMuZGlzY29ubmVjdEludGVybmFsKCl9ZGlzY29ubmVjdEludGVybmFsKGE9ITApe2NvbnN0IHtwYXJlbnRDb25uZWN0aW9uOmIsY2hpbGRDb25uZWN0aW9uOmN9PXRoaXMuZ2V0UGFyZW50QW5kQ2hpbGRDb25uZWN0aW9ucygpO2lmKCFifHwhYyl0aHJvdyBFcnJvcihcIlNvdXJjZSBjb25uZWN0aW9uIG5vdCBjb25uZWN0ZWQuXCIpO2NvbnN0IGQ9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2R8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO2xldCBlO2lzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpJiYoZT1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFKSkoYy5nZXRTb3VyY2VCbG9jaygpKSxcbmUuc2V0UmVhc29uKFtcImRpc2Nvbm5lY3RcIl0pKTtjb25zdCBmPXRoaXMudGFyZ2V0Q29ubmVjdGlvbjtmJiYoZi50YXJnZXRDb25uZWN0aW9uPW51bGwpO3RoaXMudGFyZ2V0Q29ubmVjdGlvbj1udWxsO2EmJmMuZ2V0U291cmNlQmxvY2soKS5zZXRQYXJlbnQobnVsbCk7ZSYmKGUucmVjb3JkTmV3KCksZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKSk7Yy5nZXRTb3VyY2VCbG9jaygpLmlzU2hhZG93KCl8fGIucmVzcGF3blNoYWRvd18oKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGQpfWdldFBhcmVudEFuZENoaWxkQ29ubmVjdGlvbnMoKXtyZXR1cm4gdGhpcy50YXJnZXRDb25uZWN0aW9uP3RoaXMuaXNTdXBlcmlvcigpP3twYXJlbnRDb25uZWN0aW9uOnRoaXMsY2hpbGRDb25uZWN0aW9uOnRoaXMudGFyZ2V0Q29ubmVjdGlvbn06e3BhcmVudENvbm5lY3Rpb246dGhpcy50YXJnZXRDb25uZWN0aW9uLGNoaWxkQ29ubmVjdGlvbjp0aGlzfTpcbnt9fXJlc3Bhd25TaGFkb3dfKCl7dGhpcy5jcmVhdGVTaGFkb3dCbG9jayghMCl9cmVjb25uZWN0KGEsYil7aWYodGhpcy5nZXRTb3VyY2VCbG9jaygpLmlzRGVhZE9yRHlpbmcoKSlyZXR1cm4hMTt2YXIgYztiPShjPWEuZ2V0SW5wdXQoYikpPT1udWxsP3ZvaWQgMDpjLmNvbm5lY3Rpb247Yz10aGlzLnRhcmdldEJsb2NrKCk7cmV0dXJuIGMmJmMhPT1hfHwhYnx8Yi50YXJnZXRDb25uZWN0aW9uPT09dGhpcz8hMTooYi5pc0Nvbm5lY3RlZCgpJiZiLmRpc2Nvbm5lY3QoKSxiLmNvbm5lY3QodGhpcyksITApfXRhcmdldEJsb2NrKCl7aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXtsZXQgYSxiO3JldHVybihiPShhPXRoaXMudGFyZ2V0Q29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmEuZ2V0U291cmNlQmxvY2soKSkhPW51bGw/YjpudWxsfXJldHVybiBudWxsfW9uQ2hlY2tDaGFuZ2VkXygpeyF0aGlzLmlzQ29ubmVjdGVkKCl8fHRoaXMudGFyZ2V0Q29ubmVjdGlvbiYmdGhpcy5nZXRDb25uZWN0aW9uQ2hlY2tlcigpLmNhbkNvbm5lY3QodGhpcyxcbnRoaXMudGFyZ2V0Q29ubmVjdGlvbiwhMSl8fCh0aGlzLmlzU3VwZXJpb3IoKT90aGlzLnRhcmdldEJsb2NrKCk6dGhpcy5zb3VyY2VCbG9ja18pLnVucGx1ZygpfXNldENoZWNrKGEpe2E/KEFycmF5LmlzQXJyYXkoYSl8fChhPVthXSksdGhpcy5jaGVjaz1hLHRoaXMub25DaGVja0NoYW5nZWRfKCkpOnRoaXMuY2hlY2s9bnVsbDtyZXR1cm4gdGhpc31nZXRDaGVjaygpe3JldHVybiB0aGlzLmNoZWNrfXNldFNoYWRvd0RvbShhKXt0aGlzLnNldFNoYWRvd1N0YXRlSW50ZXJuYWwoe3NoYWRvd0RvbTphfSl9Z2V0U2hhZG93RG9tKGEpe3JldHVybiBhJiZ0aGlzLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKT9ibG9ja1RvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKHRoaXMudGFyZ2V0QmxvY2soKSk6dGhpcy5zaGFkb3dEb219c2V0U2hhZG93U3RhdGUoYSl7dGhpcy5zZXRTaGFkb3dTdGF0ZUludGVybmFsKHtzaGFkb3dTdGF0ZTphfSl9Z2V0U2hhZG93U3RhdGUoYSl7cmV0dXJuIGEmJlxudGhpcy50YXJnZXRCbG9jaygpJiZ0aGlzLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKT9zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3ModGhpcy50YXJnZXRCbG9jaygpKTp0aGlzLnNoYWRvd1N0YXRlfW5laWdoYm91cnMoYSl7cmV0dXJuW119Z2V0UGFyZW50SW5wdXQoKXtsZXQgYT1udWxsO2NvbnN0IGI9dGhpcy5zb3VyY2VCbG9ja18uaW5wdXRMaXN0O2ZvcihsZXQgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY10uY29ubmVjdGlvbj09PXRoaXMpe2E9YltjXTticmVha31yZXR1cm4gYX10b1N0cmluZygpe2NvbnN0IGE9dGhpcy5zb3VyY2VCbG9ja187aWYoIWEpcmV0dXJuXCJPcnBoYW4gQ29ubmVjdGlvblwiO2lmKGEub3V0cHV0Q29ubmVjdGlvbj09PXRoaXMpdmFyIGI9XCJPdXRwdXQgQ29ubmVjdGlvbiBvZiBcIjtlbHNlIGlmKGEucHJldmlvdXNDb25uZWN0aW9uPT09dGhpcyliPVwiUHJldmlvdXMgQ29ubmVjdGlvbiBvZiBcIjtlbHNlIGlmKGEubmV4dENvbm5lY3Rpb249PT1cbnRoaXMpYj1cIk5leHQgQ29ubmVjdGlvbiBvZiBcIjtlbHNle2I9bnVsbDtmb3IobGV0IGM9MCxkO2Q9YS5pbnB1dExpc3RbY107YysrKWlmKGQuY29ubmVjdGlvbj09PXRoaXMpe2I9ZDticmVha31pZihiKWI9J0lucHV0IFwiJytiLm5hbWUrJ1wiIGNvbm5lY3Rpb24gb24gJztlbHNlIHJldHVybiBjb25zb2xlLndhcm4oXCJDb25uZWN0aW9uIG5vdCBhY3R1YWxseSBjb25uZWN0ZWQgdG8gc291cmNlQmxvY2tfXCIpLFwiT3JwaGFuIENvbm5lY3Rpb25cIn1yZXR1cm4gYithLnRvRGV2U3RyaW5nKCl9c3Rhc2hTaGFkb3dTdGF0ZSgpe2NvbnN0IGE9dGhpcy5nZXRTaGFkb3dEb20oITApLGI9dGhpcy5nZXRTaGFkb3dTdGF0ZSghMCk7dGhpcy5zaGFkb3dTdGF0ZT10aGlzLnNoYWRvd0RvbT1udWxsO3JldHVybntzaGFkb3dEb206YSxzaGFkb3dTdGF0ZTpifX1hcHBseVNoYWRvd1N0YXRlKHtzaGFkb3dEb206YSxzaGFkb3dTdGF0ZTpifSl7dGhpcy5zaGFkb3dEb209YTt0aGlzLnNoYWRvd1N0YXRlPVxuYn1zZXRTaGFkb3dTdGF0ZUludGVybmFsKHtzaGFkb3dEb206YT1udWxsLHNoYWRvd1N0YXRlOmI9bnVsbH09e30pe3RoaXMuc2hhZG93RG9tPWE7dGhpcy5zaGFkb3dTdGF0ZT1iO3RoaXMuZ2V0U291cmNlQmxvY2soKS5pc0RlYWRPckR5aW5nKCl8fCgoYT10aGlzLnRhcmdldEJsb2NrKCkpP2EuaXNTaGFkb3coKT8oYS5kaXNwb3NlKCExKSx0aGlzLnJlc3Bhd25TaGFkb3dfKCksdGhpcy50YXJnZXRCbG9jaygpJiZ0aGlzLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKSYmdGhpcy5zZXJpYWxpemVTaGFkb3codGhpcy50YXJnZXRCbG9jaygpKSk6KGE9dGhpcy5jcmVhdGVTaGFkb3dCbG9jayghMSksdGhpcy5zZXJpYWxpemVTaGFkb3coYSksYSYmYS5kaXNwb3NlKCExKSk6KHRoaXMucmVzcGF3blNoYWRvd18oKSx0aGlzLnRhcmdldEJsb2NrKCkmJnRoaXMudGFyZ2V0QmxvY2soKS5pc1NoYWRvdygpJiZ0aGlzLnNlcmlhbGl6ZVNoYWRvdyh0aGlzLnRhcmdldEJsb2NrKCkpKSl9Y3JlYXRlU2hhZG93QmxvY2soYSl7dmFyIGI9XG50aGlzLmdldFNvdXJjZUJsb2NrKCk7Y29uc3QgYz10aGlzLmdldFNoYWRvd1N0YXRlKCksZD10aGlzLmdldFNoYWRvd0RvbSgpO2lmKGIuaXNEZWFkT3JEeWluZygpfHwhYyYmIWQpcmV0dXJuIG51bGw7aWYoYylyZXR1cm4gYj1hcHBlbmRJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGMsYi53b3Jrc3BhY2Use3BhcmVudENvbm5lY3Rpb246YT90aGlzOnZvaWQgMCxpc1NoYWRvdzohMCxyZWNvcmRVbmRvOiExfSk7aWYoZCl7Yj1kb21Ub0Jsb2NrSW50ZXJuYWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoZCxiLndvcmtzcGFjZSk7aWYoYSlpZih0aGlzLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRSl7aWYoIWIub3V0cHV0Q29ubmVjdGlvbil0aHJvdyBFcnJvcihcIlNoYWRvdyBibG9jayBpcyBtaXNzaW5nIGFuIG91dHB1dCBjb25uZWN0aW9uXCIpO1xuaWYoIXRoaXMuY29ubmVjdChiLm91dHB1dENvbm5lY3Rpb24pKXRocm93IEVycm9yKFwiQ291bGQgbm90IGNvbm5lY3Qgc2hhZG93IGJsb2NrIHRvIGNvbm5lY3Rpb25cIik7fWVsc2UgaWYodGhpcy50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQpe2lmKCFiLnByZXZpb3VzQ29ubmVjdGlvbil0aHJvdyBFcnJvcihcIlNoYWRvdyBibG9jayBpcyBtaXNzaW5nIHByZXZpb3VzIGNvbm5lY3Rpb25cIik7aWYoIXRoaXMuY29ubmVjdChiLnByZXZpb3VzQ29ubmVjdGlvbikpdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY29ubmVjdCBzaGFkb3cgYmxvY2sgdG8gY29ubmVjdGlvblwiKTt9ZWxzZSB0aHJvdyBFcnJvcihcIkNhbm5vdCBjb25uZWN0IGEgc2hhZG93IGJsb2NrIHRvIGEgcHJldmlvdXMvb3V0cHV0IGNvbm5lY3Rpb25cIik7cmV0dXJuIGJ9cmV0dXJuIG51bGx9c2VyaWFsaXplU2hhZG93KGEpe2EmJih0aGlzLnNoYWRvd0RvbT1cbmJsb2NrVG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSksdGhpcy5zaGFkb3dTdGF0ZT1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSkpfXN0YXRpYyBnZXRDb25uZWN0aW9uRm9yT3JwaGFuZWRDb25uZWN0aW9uKGEsYil7aWYoYi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFKXJldHVybiBnZXRDb25uZWN0aW9uRm9yT3JwaGFuZWRPdXRwdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uKGEsYi5nZXRTb3VyY2VCbG9jaygpKTthPWEubGFzdENvbm5lY3Rpb25JblN0YWNrKCEwKTtjb25zdCBjPWIuZ2V0Q29ubmVjdGlvbkNoZWNrZXIoKTtyZXR1cm4gYSYmYy5jYW5Db25uZWN0KGIsYSwhMSk/YTpudWxsfX07Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uQ0FOX0NPTk5FQ1Q9MDtcbkNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9TRUxGX0NPTk5FQ1RJT049MTtDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fV1JPTkdfVFlQRT0yO0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9UQVJHRVRfTlVMTD0zO0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9DSEVDS1NfRkFJTEVEPTQ7Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0RJRkZFUkVOVF9XT1JLU1BBQ0VTPTU7Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1NIQURPV19QQVJFTlQ9NjtDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fRFJBR19DSEVDS1NfRkFJTEVEPTc7XG5Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fUFJFVklPVVNfQU5EX09VVFBVVD04O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5Db25uZWN0aW9uPUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uO3ZhciBEdXBsaWNhdGVJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGV4Y2VwdGlvbnM9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihhKXtzdXBlcihgVHJpZWQgdG8gYXBwZW5kIGFuIGljb24gb2YgdHlwZSAke2EuZ2V0VHlwZSgpfSB3aGVuIGFuIGljb24gb2YgYCtcInRoYXQgdHlwZSBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgYmxvY2suIFVzZSBnZXRJY29uIHRvIGFjY2VzcyB0aGUgZXhpc3RpbmcgaWNvbi5cIik7dGhpcy5pY29uPWF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkZXhjZXB0aW9ucz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkZXhjZXB0aW9ucy5EdXBsaWNhdGVJY29uVHlwZT1EdXBsaWNhdGVJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGV4Y2VwdGlvbnM7KGZ1bmN0aW9uKGEpe2FbYS5MRUZUPS0xXT1cIkxFRlRcIjthW2EuQ0VOVFJFPTBdPVwiQ0VOVFJFXCI7YVthLlJJR0hUPTFdPVwiUklHSFRcIn0pKCQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ258fCgkLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduPXt9KSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5BbGlnbj0kLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduO3ZhciBGaWVsZExhYmVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWw9Y2xhc3MgZXh0ZW5kcyBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxke2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMuY2xhc3M9bnVsbDt0aGlzLkVESVRBQkxFPSExO3RoaXMubWF4RGlzcGxheUxlbmd0aD1JbmZpbml0eTthIT09RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQJiYoYz90aGlzLmNvbmZpZ3VyZV8oYyk6dGhpcy5jbGFzcz1ifHxudWxsLHRoaXMuc2V0VmFsdWUoYSkpfWNvbmZpZ3VyZV8oYSl7c3VwZXIuY29uZmlndXJlXyhhKTthLmNsYXNzJiYodGhpcy5jbGFzcz1hLmNsYXNzKX1pbml0Vmlldygpe3RoaXMuY3JlYXRlVGV4dEVsZW1lbnRfKCk7dGhpcy5jbGFzcyYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRUZXh0RWxlbWVudCgpLFxudGhpcy5jbGFzcyk7dGhpcy5maWVsZEdyb3VwXyYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcImJsb2NrbHlMYWJlbEZpZWxkXCIpfWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtyZXR1cm4gYT09PW51bGx8fGE9PT12b2lkIDA/bnVsbDpgJHthfWB9c2V0Q2xhc3MoYSl7dGhpcy50ZXh0RWxlbWVudF8mJih0aGlzLmNsYXNzJiZyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnRleHRFbGVtZW50Xyx0aGlzLmNsYXNzKSxhJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnRleHRFbGVtZW50XyxhKSk7dGhpcy5jbGFzcz1hfXN0YXRpYyBmcm9tSnNvbihhKXtyZXR1cm4gbmV3IHRoaXMocmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLnRleHQpLHZvaWQgMCxhKX19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX2xhYmVsXCIsRmllbGRMYWJlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsKTtGaWVsZExhYmVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbGFiZWwucHJvdG90eXBlLkRFRkFVTFRfVkFMVUU9XCJcIjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbC5GaWVsZExhYmVsPUZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbDt2YXIgQ09MTEFQU0VfQ0hBUlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHM9MzAsT1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cz1bXTtPUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzW0Nvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFXT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUU7T1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50c1tDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUVdPUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFO1xuT1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50c1tDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVF09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UO09QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNbQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UXT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVDtcbnZhciBSRU5BTUVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHM9XCJSRU5BTUVfVkFSSUFCTEVfSURcIixERUxFVEVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHM9XCJERUxFVEVfVkFSSUFCTEVfSURcIixtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzPXtDT0xMQVBTRV9DSEFSUzpDT0xMQVBTRV9DSEFSUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyxERUxFVEVfVkFSSUFCTEVfSUQ6REVMRVRFX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzLE9QUE9TSVRFX1RZUEU6T1BQT1NJVEVfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyxSRU5BTUVfVkFSSUFCTEVfSUQ6UkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzfTt2YXIgQlVNUF9SQU5ET01ORVNTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbj0xMCxSZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uPWNsYXNzIGV4dGVuZHMgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb257Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMuaGlnaGxpZ2h0ZWQ9ITE7dGhpcy50YXJnZXRDb25uZWN0aW9uPW51bGw7dGhpcy5kYj1hLndvcmtzcGFjZS5jb25uZWN0aW9uREJMaXN0W2JdO3RoaXMuZGJPcHBvc2l0ZT1hLndvcmtzcGFjZS5jb25uZWN0aW9uREJMaXN0W09QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNbYl1dO3RoaXMub2Zmc2V0SW5CbG9jaz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKTt0aGlzLnRyYWNrZWRTdGF0ZT1cblJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLldJTExfVFJBQ0t9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKTt0aGlzLnRyYWNrZWRTdGF0ZT09PVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLlRSQUNLRUQmJnRoaXMuZGIucmVtb3ZlQ29ubmVjdGlvbih0aGlzLHRoaXMueSk7bGV0IGEsYjsoYj0oYT10aGlzLnNvdXJjZUJsb2NrXy5wYXRoT2JqZWN0KS5yZW1vdmVDb25uZWN0aW9uSGlnaGxpZ2h0KT09bnVsbHx8Yi5jYWxsKGEsdGhpcyl9Z2V0U291cmNlQmxvY2soKXtyZXR1cm4gc3VwZXIuZ2V0U291cmNlQmxvY2soKX10YXJnZXRCbG9jaygpe3JldHVybiBzdXBlci50YXJnZXRCbG9jaygpfWRpc3RhbmNlRnJvbShhKXtjb25zdCBiPXRoaXMueC1hLng7YT10aGlzLnktYS55O3JldHVybiBNYXRoLnNxcnQoYipcbmIrYSphKX1idW1wQXdheUZyb20oYSxiPSExKXtpZighdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmlzRHJhZ2dpbmcoKSl7dmFyIGM9JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1cytNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqQlVNUF9SQU5ET01ORVNTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbiksZD0kLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5zbmFwUmFkaXVzK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpCVU1QX1JBTkRPTU5FU1MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uKSxlPWEuc291cmNlQmxvY2tfLmdldFJvb3RCbG9jaygpLGY9dGhpcy5zb3VyY2VCbG9ja18uZ2V0Um9vdEJsb2NrKCk7aWYoIWUuaXNJbkZseW91dCYmIWYuaXNJbkZseW91dCl7dmFyIGc9ITA7aWYoZi5pc01vdmFibGUoKSllLmlzTW92YWJsZSgpJiZiJiYoZD0tZCk7XG5lbHNlIGlmKGUuaXNNb3ZhYmxlKCkpZz0hMSxjPS1jLGQ9LWQ7ZWxzZSByZXR1cm47Yj1nP2E6dGhpczthPWc/dGhpczphO2U9Zz9mOmU7ZS5SVEwmJihjPS1jKTtlLm1vdmVCeShiLngrYy1hLngsYi55K2QtYS55LFtcImJ1bXBcIl0pfX19bW92ZVRvKGEsYil7bGV0IGM9ITE7dGhpcy50cmFja2VkU3RhdGU9PT1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5XSUxMX1RSQUNLPyh0aGlzLmRiLmFkZENvbm5lY3Rpb24odGhpcyxiKSx0aGlzLnRyYWNrZWRTdGF0ZT1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5UUkFDS0VELGM9ITApOnRoaXMudHJhY2tlZFN0YXRlPT09UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRCYmXG4odGhpcy5kYi5yZW1vdmVDb25uZWN0aW9uKHRoaXMsdGhpcy55KSx0aGlzLmRiLmFkZENvbm5lY3Rpb24odGhpcyxiKSxjPSEwKTt0aGlzLng9YTt0aGlzLnk9YjtyZXR1cm4gY31tb3ZlQnkoYSxiKXtyZXR1cm4gdGhpcy5tb3ZlVG8odGhpcy54K2EsdGhpcy55K2IpfW1vdmVUb09mZnNldChhKXtyZXR1cm4gdGhpcy5tb3ZlVG8oYS54K3RoaXMub2Zmc2V0SW5CbG9jay54LGEueSt0aGlzLm9mZnNldEluQmxvY2sueSl9c2V0T2Zmc2V0SW5CbG9jayhhLGIpe3RoaXMub2Zmc2V0SW5CbG9jay54PWE7dGhpcy5vZmZzZXRJbkJsb2NrLnk9Yn1nZXRPZmZzZXRJbkJsb2NrKCl7cmV0dXJuIHRoaXMub2Zmc2V0SW5CbG9ja310aWdodGVuRWZmaWNpZW50bHkoKXt2YXIgYT10aGlzLnRhcmdldENvbm5lY3Rpb247Y29uc3QgYj10aGlzLnRhcmdldEJsb2NrKCk7YSYmYiYmKGE9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlmZmVyZW5jZSh0aGlzLm9mZnNldEluQmxvY2ssXG5hLm9mZnNldEluQmxvY2spLGIudHJhbnNsYXRlKGEueCxhLnkpKX1jbG9zZXN0KGEsYil7cmV0dXJuIHRoaXMuZGJPcHBvc2l0ZS5zZWFyY2hGb3JDbG9zZXN0KHRoaXMsYSxiKX1oaWdobGlnaHQoKXt0aGlzLmhpZ2hsaWdodGVkPSEwO2NvbnN0IGE9dGhpcy5maW5kSGlnaGxpZ2h0U3ZnKCk7YSYmKGEuc3R5bGUuZGlzcGxheT1cIlwiKX11bmhpZ2hsaWdodCgpe3RoaXMuaGlnaGxpZ2h0ZWQ9ITE7Y29uc3QgYT10aGlzLmZpbmRIaWdobGlnaHRTdmcoKTthJiYoYS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKX1pc0hpZ2hsaWdodGVkKCl7cmV0dXJuIHRoaXMuaGlnaGxpZ2h0ZWR9c2V0VHJhY2tpbmcoYSl7YSYmdGhpcy50cmFja2VkU3RhdGU9PT1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5UUkFDS0VEfHwhYSYmdGhpcy50cmFja2VkU3RhdGU9PT1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5VTlRSQUNLRUR8fFxudGhpcy5zb3VyY2VCbG9ja18uaXNJbkZseW91dHx8KGE/KHRoaXMuZGIuYWRkQ29ubmVjdGlvbih0aGlzLHRoaXMueSksdGhpcy50cmFja2VkU3RhdGU9UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRCk6KHRoaXMudHJhY2tlZFN0YXRlPT09UmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRCYmdGhpcy5kYi5yZW1vdmVDb25uZWN0aW9uKHRoaXMsdGhpcy55KSx0aGlzLnRyYWNrZWRTdGF0ZT1SZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5VTlRSQUNLRUQpKX1zdG9wVHJhY2tpbmdBbGwoKXt0aGlzLnNldFRyYWNraW5nKCExKTtpZih0aGlzLnRhcmdldENvbm5lY3Rpb24pe2NvbnN0IGE9dGhpcy50YXJnZXRCbG9jaygpLmdldERlc2NlbmRhbnRzKCExKTtcbmZvcihsZXQgYj0wO2I8YS5sZW5ndGg7YisrKXtjb25zdCBjPWFbYl0sZD1jLmdldENvbm5lY3Rpb25zXyghMCk7Zm9yKGxldCBlPTA7ZTxkLmxlbmd0aDtlKyspZFtlXS5zZXRUcmFja2luZyghMSk7Zm9yKGNvbnN0IGUgb2YgYy5nZXRJY29ucygpKWhhc0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9oYXNfYnViYmxlKGUpJiZlLnNldEJ1YmJsZVZpc2libGUoITEpfX19c3RhcnRUcmFja2luZ0FsbCgpe3RoaXMuc2V0VHJhY2tpbmcoITApO2xldCBhPVtdO2lmKHRoaXMudHlwZSE9PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFJiZ0aGlzLnR5cGUhPT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVClyZXR1cm4gYTtjb25zdCBiPXRoaXMudGFyZ2V0QmxvY2soKTtpZihiKXtsZXQgYztiLmlzQ29sbGFwc2VkKCk/XG4oYz1bXSxiLm91dHB1dENvbm5lY3Rpb24mJmMucHVzaChiLm91dHB1dENvbm5lY3Rpb24pLGIubmV4dENvbm5lY3Rpb24mJmMucHVzaChiLm5leHRDb25uZWN0aW9uKSxiLnByZXZpb3VzQ29ubmVjdGlvbiYmYy5wdXNoKGIucHJldmlvdXNDb25uZWN0aW9uKSk6Yz1iLmdldENvbm5lY3Rpb25zXyghMCk7Zm9yKGxldCBkPTA7ZDxjLmxlbmd0aDtkKyspYS5wdXNoKC4uLmNbZF0uc3RhcnRUcmFja2luZ0FsbCgpKTthLmxlbmd0aHx8KGE9W2JdKX1yZXR1cm4gYX1vbkZhaWxlZENvbm5lY3QoYSl7Y29uc3QgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoZ2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKXtjb25zdCBjPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5pc0Rpc3Bvc2VkKCl8fGIuZ2V0UGFyZW50KCl8fCgkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGMpLFxudGhpcy5idW1wQXdheUZyb20oYSksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSkpfS5iaW5kKHRoaXMpLCQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLmJ1bXBEZWxheSl9fWRpc2Nvbm5lY3RJbnRlcm5hbChhPSEwKXtjb25zdCB7cGFyZW50Q29ubmVjdGlvbjpiLGNoaWxkQ29ubmVjdGlvbjpjfT10aGlzLmdldFBhcmVudEFuZENoaWxkQ29ubmVjdGlvbnMoKTtpZihiJiZjKXt2YXIgZD0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7ZHx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dmFyIGU9Yi5nZXRTb3VyY2VCbG9jaygpLGY9Yy5nZXRTb3VyY2VCbG9jaygpO3N1cGVyLmRpc2Nvbm5lY3RJbnRlcm5hbChhKTtlLnF1ZXVlUmVuZGVyKCk7Zi51cGRhdGVEaXNhYmxlZCgpO2YucXVldWVSZW5kZXIoKTtmLmdldFN2Z1Jvb3QoKS5zdHlsZS5kaXNwbGF5PVxuXCJibG9ja1wiOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZCl9fXJlc3Bhd25TaGFkb3dfKCl7c3VwZXIucmVzcGF3blNoYWRvd18oKTtjb25zdCBhPXRoaXMudGFyZ2V0QmxvY2soKTthJiYoYS5pbml0U3ZnKCksYS5xdWV1ZVJlbmRlcigpKX1uZWlnaGJvdXJzKGEpe3JldHVybiB0aGlzLmRiT3Bwb3NpdGUuZ2V0TmVpZ2hib3Vycyh0aGlzLGEpfWNvbm5lY3RfKGEpe3N1cGVyLmNvbm5lY3RfKGEpO3ZhciBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTthPWEuZ2V0U291cmNlQmxvY2soKTtiLnVwZGF0ZURpc2FibGVkKCk7YS51cGRhdGVEaXNhYmxlZCgpO2EucXVldWVSZW5kZXIoKTtpZihiPWIuZ2V0SW5wdXRXaXRoQmxvY2soYSkpYj1iLmlzVmlzaWJsZSgpLGEuZ2V0U3ZnUm9vdCgpLnN0eWxlLmRpc3BsYXk9Yj9cImJsb2NrXCI6XCJub25lXCJ9b25DaGVja0NoYW5nZWRfKCl7IXRoaXMuaXNDb25uZWN0ZWQoKXx8dGhpcy50YXJnZXRDb25uZWN0aW9uJiZcbnRoaXMuZ2V0Q29ubmVjdGlvbkNoZWNrZXIoKS5jYW5Db25uZWN0KHRoaXMsdGhpcy50YXJnZXRDb25uZWN0aW9uLCExKXx8KHRoaXMuaXNTdXBlcmlvcigpP3RoaXMudGFyZ2V0QmxvY2soKTp0aGlzLnNvdXJjZUJsb2NrXykudW5wbHVnKCl9c2V0Q2hlY2soYSl7c3VwZXIuc2V0Q2hlY2soYSk7dGhpcy5zb3VyY2VCbG9ja18ucXVldWVSZW5kZXIoKTtyZXR1cm4gdGhpc31zaG93Q29udGV4dE1lbnUoYSl7Y29uc3QgYj1Db250ZXh0TWVudVJlZ2lzdHJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfcmVnaXN0cnkucmVnaXN0cnkuZ2V0Q29udGV4dE1lbnVPcHRpb25zKHtmb2N1c2VkTm9kZTp0aGlzfSxhKTtpZihiLmxlbmd0aCl7dmFyIGM9dGhpcy5nZXRTb3VyY2VCbG9jaygpLGQ9Yy53b3Jrc3BhY2U7aWYoYSBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudCl2YXIgZT1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLFxuYS5jbGllbnRZKTtlbHNlIGU9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKHRoaXMueCx0aGlzLnkpLGU9d3NUb1NjcmVlbkNvb3JkaW5hdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgoZCxlKS50cmFuc2xhdGUoYy5SVEw/LTU6NSw1KTtzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoYSxiLGMuUlRMLGQsZSl9fWdldEZvY3VzYWJsZUVsZW1lbnQoKXtjb25zdCBhPXRoaXMuZmluZEhpZ2hsaWdodFN2ZygpO2lmKGEpcmV0dXJuIGE7dGhyb3cgRXJyb3IoXCJObyBoaWdobGlnaHQgU1ZHIGZvdW5kIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBjb25uZWN0aW9uLlwiKTt9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLmdldFNvdXJjZUJsb2NrKCkud29ya3NwYWNlfW9uTm9kZUZvY3VzKCl7dGhpcy5oaWdobGlnaHQoKTt0aGlzLmdldFNvdXJjZUJsb2NrKCkud29ya3NwYWNlLnNjcm9sbEJvdW5kc0ludG9WaWV3KHRoaXMuZ2V0U291cmNlQmxvY2soKS5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhvdXRDaGlsZHJlbigpKX1vbk5vZGVCbHVyKCl7dGhpcy51bmhpZ2hsaWdodCgpfWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfWZpbmRIaWdobGlnaHRTdmcoKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCl9fTtcbihmdW5jdGlvbihhKXthPWEuVHJhY2tlZFN0YXRlfHwoYS5UcmFja2VkU3RhdGU9e30pO2FbYS5XSUxMX1RSQUNLPS0xXT1cIldJTExfVFJBQ0tcIjthW2EuVU5UUkFDS0VEPTBdPVwiVU5UUkFDS0VEXCI7YVthLlRSQUNLRUQ9MV09XCJUUkFDS0VEXCJ9KShSZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9ufHwoUmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbj17fSkpO3ZhciBUcmFja2VkU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uPVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uUmVuZGVyZWRDb25uZWN0aW9uPVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24uVHJhY2tlZFN0YXRlPVRyYWNrZWRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb247dmFyIElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0PWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5uYW1lPWE7dGhpcy5zb3VyY2VCbG9jaz1iO3RoaXMuZmllbGRSb3c9W107dGhpcy5hbGlnbj0kLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLkxFRlQ7dGhpcy52aXNpYmxlPSEwO3RoaXMudHlwZT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuQ1VTVE9NO3RoaXMuY29ubmVjdGlvbj1udWxsfWdldFNvdXJjZUJsb2NrKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2t9YXBwZW5kRmllbGQoYSxiKXt0aGlzLmluc2VydEZpZWxkQXQodGhpcy5maWVsZFJvdy5sZW5ndGgsYSxiKTtyZXR1cm4gdGhpc31pbnNlcnRGaWVsZEF0KGEsYixjKXtpZihhPDB8fGE+dGhpcy5maWVsZFJvdy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJpbmRleCBcIithK1wiIG91dCBvZiBib3VuZHMuXCIpO2lmKCEoYnx8XG5iPT09XCJcIiYmYykpcmV0dXJuIGE7dHlwZW9mIGI9PT1cInN0cmluZ1wiJiYoYj0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9sYWJlbFwiLHRleHQ6Yn0pKTtiLnNldFNvdXJjZUJsb2NrKHRoaXMuc291cmNlQmxvY2spO3RoaXMuc291cmNlQmxvY2suaW5pdGlhbGl6ZWQmJnRoaXMuaW5pdEZpZWxkKGIpO2IubmFtZT1jO2Iuc2V0VmlzaWJsZSh0aGlzLmlzVmlzaWJsZSgpKTtiLnByZWZpeEZpZWxkJiYoYT10aGlzLmluc2VydEZpZWxkQXQoYSxiLnByZWZpeEZpZWxkKSk7dGhpcy5maWVsZFJvdy5zcGxpY2UoYSwwLGIpO2ErKztiLnN1ZmZpeEZpZWxkJiYoYT10aGlzLmluc2VydEZpZWxkQXQoYSxiLnN1ZmZpeEZpZWxkKSk7dGhpcy5zb3VyY2VCbG9jay5yZW5kZXJlZCYmdGhpcy5zb3VyY2VCbG9jay5xdWV1ZVJlbmRlcigpO3JldHVybiBhfXJlbW92ZUZpZWxkKGEsYil7Zm9yKGxldCBjPTAsZDtkPXRoaXMuZmllbGRSb3dbY107YysrKWlmKGQubmFtZT09PVxuYSlyZXR1cm4gZC5kaXNwb3NlKCksdGhpcy5maWVsZFJvdy5zcGxpY2UoYywxKSx0aGlzLnNvdXJjZUJsb2NrLnJlbmRlcmVkJiZ0aGlzLnNvdXJjZUJsb2NrLnF1ZXVlUmVuZGVyKCksITA7aWYoYilyZXR1cm4hMTt0aHJvdyBFcnJvcignRmllbGQgXCInK2ErJ1wiIG5vdCBmb3VuZC4nKTt9aXNWaXNpYmxlKCl7cmV0dXJuIHRoaXMudmlzaWJsZX1zZXRWaXNpYmxlKGEpe2xldCBiPVtdO2lmKHRoaXMudmlzaWJsZT09PWEpcmV0dXJuIGI7dGhpcy52aXNpYmxlPWE7Zm9yKGxldCBjPTAsZDtkPXRoaXMuZmllbGRSb3dbY107YysrKWQuc2V0VmlzaWJsZShhKTtpZih0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIFJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24pe2E/Yj10aGlzLmNvbm5lY3Rpb24uc3RhcnRUcmFja2luZ0FsbCgpOnRoaXMuY29ubmVjdGlvbi5zdG9wVHJhY2tpbmdBbGwoKTtjb25zdCBjPVxudGhpcy5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7YyYmKGMuZ2V0U3ZnUm9vdCgpLnN0eWxlLmRpc3BsYXk9YT9cImJsb2NrXCI6XCJub25lXCIpfXJldHVybiBifW1hcmtEaXJ0eSgpe2ZvcihsZXQgYT0wLGI7Yj10aGlzLmZpZWxkUm93W2FdO2ErKyliLm1hcmtEaXJ0eSgpfXNldENoZWNrKGEpe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJUaGlzIGlucHV0IGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uLlwiKTt0aGlzLmNvbm5lY3Rpb24uc2V0Q2hlY2soYSk7cmV0dXJuIHRoaXN9c2V0QWxpZ24oYSl7dGhpcy5hbGlnbj1hO3RoaXMuc291cmNlQmxvY2sucmVuZGVyZWQmJnRoaXMuc291cmNlQmxvY2sucXVldWVSZW5kZXIoKTtyZXR1cm4gdGhpc31zZXRTaGFkb3dEb20oYSl7aWYoIXRoaXMuY29ubmVjdGlvbil0aHJvdyBFcnJvcihcIlRoaXMgaW5wdXQgZG9lcyBub3QgaGF2ZSBhIGNvbm5lY3Rpb24uXCIpO3RoaXMuY29ubmVjdGlvbi5zZXRTaGFkb3dEb20oYSk7cmV0dXJuIHRoaXN9Z2V0U2hhZG93RG9tKCl7aWYoIXRoaXMuY29ubmVjdGlvbil0aHJvdyBFcnJvcihcIlRoaXMgaW5wdXQgZG9lcyBub3QgaGF2ZSBhIGNvbm5lY3Rpb24uXCIpO1xucmV0dXJuIHRoaXMuY29ubmVjdGlvbi5nZXRTaGFkb3dEb20oKX1pbml0KCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5maWVsZFJvdylhLmluaXQoKX1pbml0TW9kZWwoKXtmb3IoY29uc3QgYSBvZiB0aGlzLmZpZWxkUm93KWEuaW5pdE1vZGVsKCl9aW5pdEZpZWxkKGEpe3RoaXMuc291cmNlQmxvY2sucmVuZGVyZWQ/YS5pbml0KCk6YS5pbml0TW9kZWwoKX1kaXNwb3NlKCl7Zm9yKGxldCBhPTAsYjtiPXRoaXMuZmllbGRSb3dbYV07YSsrKWIuZGlzcG9zZSgpO3RoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmRpc3Bvc2UoKX1tYWtlQ29ubmVjdGlvbihhKXtyZXR1cm4gdGhpcy5zb3VyY2VCbG9jay5tYWtlQ29ubmVjdGlvbl8oYSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXQuSW5wdXQ9SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXQ7dmFyIER1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dHtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5uYW1lPWE7dGhpcy50eXBlPSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5EVU1NWX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dC5EdW1teUlucHV0PUR1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQ7dmFyIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dHtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5uYW1lPWE7dGhpcy50eXBlPSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5FTkRfUk9XfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRlbmRfcm93X2lucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dC5FbmRSb3dJbnB1dD1FbmRSb3dJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRlbmRfcm93X2lucHV0O3ZhciBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dHtjb25zdHJ1Y3RvcihhLGIpe2lmKCFhKXRocm93IEVycm9yKFwiU3RhdGVtZW50IGlucHV0cyBtdXN0IGhhdmUgYSBub24tZW1wdHkgbmFtZVwiKTtzdXBlcihhLGIpO3RoaXMubmFtZT1hO3RoaXMudHlwZT0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXMuU1RBVEVNRU5UO3RoaXMuY29ubmVjdGlvbj10aGlzLm1ha2VDb25uZWN0aW9uKENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQuU3RhdGVtZW50SW5wdXQ9U3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0OyQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dD1jbGFzcyBleHRlbmRzIElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0e2NvbnN0cnVjdG9yKGEsYil7aWYoIWEpdGhyb3cgRXJyb3IoXCJWYWx1ZSBpbnB1dHMgbXVzdCBoYXZlIGEgbm9uLWVtcHR5IG5hbWVcIik7c3VwZXIoYSxiKTt0aGlzLm5hbWU9YTt0aGlzLnR5cGU9JC5pbnB1dFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGlucHV0X3R5cGVzLlZBTFVFO3RoaXMuY29ubmVjdGlvbj10aGlzLm1ha2VDb25uZWN0aW9uKENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFKX19O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQ9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0LlZhbHVlSW5wdXQ9JC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ljb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9pY29uLmlzSWNvbj1pc0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaWNvbjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb21tZW50X2ljb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb21tZW50X2ljb24uaXNDb21tZW50SWNvbj1pc0NvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvbW1lbnRfaWNvbjt2YXIgQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9jaz1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyl7dGhpcy5kYXRhPW51bGw7dGhpcy5kaXNwb3NlZD0hMTt0aGlzLmh1ZT1udWxsO3RoaXMuY29sb3VyXz1cIiMwMDAwMDBcIjt0aGlzLnN0eWxlTmFtZV89XCJcIjt0aGlzLnN1cHByZXNzUHJlZml4U3VmZml4PSExO3RoaXMucHJldmlvdXNDb25uZWN0aW9uPXRoaXMubmV4dENvbm5lY3Rpb249dGhpcy5vdXRwdXRDb25uZWN0aW9uPW51bGw7dGhpcy5pbnB1dExpc3Q9W107dGhpcy5pY29ucz1bXTt0aGlzLmRpc2FibGVkUmVhc29ucz1uZXcgU2V0O3RoaXMudG9vbHRpcD1cIlwiO3RoaXMuY29udGV4dE1lbnU9ITA7dGhpcy5wYXJlbnRCbG9ja189bnVsbDt0aGlzLmNoaWxkQmxvY2tzXz1bXTt0aGlzLmVkaXRhYmxlPXRoaXMubW92YWJsZT10aGlzLmRlbGV0YWJsZT0hMDt0aGlzLmNvbGxhcHNlZF89dGhpcy5zaGFkb3c9ITE7dGhpcy5vdXRwdXRTaGFwZV89bnVsbDt0aGlzLnJlbmRlcmVkPVxudGhpcy5pc0luc2VydGlvbk1hcmtlcl89dGhpcy5pbml0aWFsaXplZD10aGlzLmRpc3Bvc2luZz0hMTt0aGlzLm9uY2hhbmdlV3JhcHBlcj10aGlzLmhlbHBVcmw9bnVsbDt0aGlzLnN0YXRlbWVudElucHV0Q291bnQ9MDt0aGlzLndvcmtzcGFjZT1hO3RoaXMuaWQ9YyYmIWEuZ2V0QmxvY2tCeUlkKGMpP2M6Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTthLnNldEJsb2NrQnlJZCh0aGlzLmlkLHRoaXMpO3RoaXMueHk9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5pc0luRmx5b3V0PWEuaXNGbHlvdXQ7dGhpcy5pc0luTXV0YXRvcj1hLmlzTXV0YXRvcjt0aGlzLlJUTD1hLlJUTDtpZihiKXt0aGlzLnR5cGU9YjtjPUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2Nrc1tiXTtpZighY3x8dHlwZW9mIGMhPT1cIm9iamVjdFwiKXRocm93IFR5cGVFcnJvcihcIkludmFsaWQgYmxvY2sgZGVmaW5pdGlvbiBmb3IgdHlwZTogXCIrXG5iKTtPYmplY3QuYXNzaWduKHRoaXMsYyl9YS5hZGRUb3BCbG9jayh0aGlzKTthLmFkZFR5cGVkQmxvY2sodGhpcyk7bmV3LnRhcmdldD09PUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2smJnRoaXMuZG9Jbml0XygpfWRvSW5pdF8oKXtjb25zdCBhPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTthfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtjb25zdCBiPWdldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7dHlwZW9mIHRoaXMuaW5pdD09PVwiZnVuY3Rpb25cIiYmKCQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSksdGhpcy5pbml0KCksJC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpKSxpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmXG5maXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURSkpKHRoaXMpKX1maW5hbGx5eyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSksJC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpfXRoaXMuaW5wdXRzSW5saW5lRGVmYXVsdD10aGlzLmlucHV0c0lubGluZTt0eXBlb2YgdGhpcy5vbmNoYW5nZT09PVwiZnVuY3Rpb25cIiYmdGhpcy5zZXRPbkNoYW5nZSh0aGlzLm9uY2hhbmdlKX1kaXNwb3NlKGE9ITEpe3RoaXMuZGlzcG9zaW5nPSEwO3RoaXMub25jaGFuZ2VXcmFwcGVyJiZ0aGlzLndvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uY2hhbmdlV3JhcHBlcik7dGhpcy51bnBsdWcoYSk7XG5pc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEUpKSh0aGlzKSk7dGhpcy53b3Jrc3BhY2UucmVtb3ZlVG9wQmxvY2sodGhpcyk7dGhpcy5kaXNwb3NlSW50ZXJuYWwoKX1kaXNwb3NlSW50ZXJuYWwoKXt0aGlzLmRpc3Bvc2luZz0hMDt0aGlzLm9uY2hhbmdlV3JhcHBlciYmdGhpcy53b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbmNoYW5nZVdyYXBwZXIpO3RoaXMud29ya3NwYWNlLnJlbW92ZVR5cGVkQmxvY2sodGhpcyk7dGhpcy53b3Jrc3BhY2UucmVtb3ZlQmxvY2tCeUlkKHRoaXMuaWQpO3R5cGVvZiB0aGlzLmRlc3Ryb3k9PT1cImZ1bmN0aW9uXCImJnRoaXMuZGVzdHJveSgpO1xudGhpcy5jaGlsZEJsb2Nrc18uZm9yRWFjaChhPT5hLmRpc3Bvc2VJbnRlcm5hbCgpKTt0aGlzLmlucHV0TGlzdC5mb3JFYWNoKGE9PmEuZGlzcG9zZSgpKTt0aGlzLmlucHV0TGlzdC5sZW5ndGg9MDt0aGlzLmdldENvbm5lY3Rpb25zXyghMCkuZm9yRWFjaChhPT5hLmRpc3Bvc2UoKSk7dGhpcy5kaXNwb3NlZD0hMH1pc0RlYWRPckR5aW5nKCl7cmV0dXJuIHRoaXMuZGlzcG9zaW5nfHx0aGlzLmRpc3Bvc2VkfWluaXRNb2RlbCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtmb3IoY29uc3QgYSBvZiB0aGlzLmlucHV0TGlzdClhLmluaXRNb2RlbCgpO3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fXVucGx1ZyhhKXt0aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMudW5wbHVnRnJvbVJvdyhhKTt0aGlzLnByZXZpb3VzQ29ubmVjdGlvbiYmdGhpcy51bnBsdWdGcm9tU3RhY2soYSl9dW5wbHVnRnJvbVJvdyhhKXtsZXQgYj1udWxsLGM7aWYoKGM9dGhpcy5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD8wOlxuYy5pc0Nvbm5lY3RlZCgpKWI9dGhpcy5vdXRwdXRDb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24sdGhpcy5vdXRwdXRDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtiJiZhJiYoYT10aGlzLmdldE9ubHlWYWx1ZUNvbm5lY3Rpb24oKSkmJmEuaXNDb25uZWN0ZWQoKSYmIWEudGFyZ2V0QmxvY2soKS5pc1NoYWRvdygpJiYoYT1hLnRhcmdldENvbm5lY3Rpb24sYT09bnVsbHx8YS5kaXNjb25uZWN0KCksdGhpcy53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXIuY2FuQ29ubmVjdChhLGIsITEpP2IuY29ubmVjdChhKTphPT1udWxsfHxhLm9uRmFpbGVkQ29ubmVjdChiKSl9Z2V0T25seVZhbHVlQ29ubmVjdGlvbigpe2xldCBhPW51bGw7Zm9yKGxldCBiPTA7Yjx0aGlzLmlucHV0TGlzdC5sZW5ndGg7YisrKXtjb25zdCBjPXRoaXMuaW5wdXRMaXN0W2JdLmNvbm5lY3Rpb247aWYoYyYmYy50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUUmJlxuYy50YXJnZXRDb25uZWN0aW9uKXtpZihhKXJldHVybiBudWxsO2E9Y319cmV0dXJuIGF9dW5wbHVnRnJvbVN0YWNrKGEpe2xldCBiPW51bGwsYztpZigoYz10aGlzLnByZXZpb3VzQ29ubmVjdGlvbik9PW51bGw/MDpjLmlzQ29ubmVjdGVkKCkpYj10aGlzLnByZXZpb3VzQ29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uLHRoaXMucHJldmlvdXNDb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtpZihhKXtmb3IoYT10aGlzLmdldE5leHRCbG9jaygpO2EmJihhLmlzU2hhZG93KCl8fCFhLmlzTW92YWJsZSgpKTspYT1hLmdldE5leHRCbG9jaygpO2lmKGEpe3ZhciBkLGUsZixnO2E9KGc9KGQ9YS5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDooZT1kLnRhcmdldEJsb2NrKCkpPT1udWxsP3ZvaWQgMDooZj1lLm5leHRDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6Zi50YXJnZXRDb25uZWN0aW9uKSE9bnVsbD9nOm51bGw7YT09bnVsbHx8YS5kaXNjb25uZWN0KCk7YiYmdGhpcy53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXIuY2FuQ29ubmVjdChiLFxuYSwhMSkmJmIuY29ubmVjdChhKX19fWdldENvbm5lY3Rpb25zXyhhKXthPVtdO3RoaXMub3V0cHV0Q29ubmVjdGlvbiYmYS5wdXNoKHRoaXMub3V0cHV0Q29ubmVjdGlvbik7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJmEucHVzaCh0aGlzLnByZXZpb3VzQ29ubmVjdGlvbik7dGhpcy5uZXh0Q29ubmVjdGlvbiYmYS5wdXNoKHRoaXMubmV4dENvbm5lY3Rpb24pO2ZvcihsZXQgYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspYy5jb25uZWN0aW9uJiZhLnB1c2goYy5jb25uZWN0aW9uKTtyZXR1cm4gYX1sYXN0Q29ubmVjdGlvbkluU3RhY2soYSl7bGV0IGI9dGhpcy5uZXh0Q29ubmVjdGlvbjtmb3IoO2I7KXtjb25zdCBjPWIudGFyZ2V0QmxvY2soKTtpZighY3x8YSYmYy5pc1NoYWRvdygpKXJldHVybiBiO2I9Yy5uZXh0Q29ubmVjdGlvbn1yZXR1cm4gbnVsbH1idW1wTmVpZ2hib3Vycygpe31nZXRQYXJlbnQoKXtyZXR1cm4gdGhpcy5wYXJlbnRCbG9ja199Z2V0SW5wdXRXaXRoQmxvY2soYSl7Zm9yKGxldCBiPVxuMCxjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWlmKGMuY29ubmVjdGlvbiYmYy5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk9PT1hKXJldHVybiBjO3JldHVybiBudWxsfWdldFN1cnJvdW5kUGFyZW50KCl7bGV0IGE9dGhpcyxiO2RvIGlmKGI9YSxhPWEuZ2V0UGFyZW50KCksIWEpcmV0dXJuIG51bGw7d2hpbGUoYS5nZXROZXh0QmxvY2soKT09PWIpO3JldHVybiBhfWdldE5leHRCbG9jaygpe3JldHVybiB0aGlzLm5leHRDb25uZWN0aW9uJiZ0aGlzLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9Z2V0UHJldmlvdXNCbG9jaygpe3JldHVybiB0aGlzLnByZXZpb3VzQ29ubmVjdGlvbiYmdGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX1nZXRSb290QmxvY2soKXtsZXQgYSxiPXRoaXM7ZG8gYT1iLGI9YS5wYXJlbnRCbG9ja187d2hpbGUoYik7cmV0dXJuIGF9Z2V0VG9wU3RhY2tCbG9jaygpe2xldCBhPXRoaXMsYjtkbyBiPWEuZ2V0UHJldmlvdXNCbG9jaygpO1xud2hpbGUoYiYmYi5nZXROZXh0QmxvY2soKT09PWEmJihhPWIpKTtyZXR1cm4gYX1nZXRDaGlsZHJlbihhKXtpZighYSlyZXR1cm4gdGhpcy5jaGlsZEJsb2Nrc187YT1bXTtmb3IobGV0IGM9MCxkO2Q9dGhpcy5pbnB1dExpc3RbY107YysrKWlmKGQuY29ubmVjdGlvbil7dmFyIGI9ZC5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7YiYmYS5wdXNoKGIpfShiPXRoaXMuZ2V0TmV4dEJsb2NrKCkpJiZhLnB1c2goYik7cmV0dXJuIGF9c2V0UGFyZW50KGEpe2lmKGEhPT10aGlzLnBhcmVudEJsb2NrXyl7dmFyIGI9dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJnRoaXMucHJldmlvdXNDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl8fHRoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5vdXRwdXRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCksYz0hIWI7aWYoYyYmYSYmYiE9PWEpdGhyb3cgRXJyb3IoXCJCbG9jayBjb25uZWN0ZWQgdG8gc3VwZXJpb3Igb25lIHRoYXQgaXMgbm90IG5ldyBwYXJlbnQuXCIpO1xuaWYoIWMmJmEpdGhyb3cgRXJyb3IoXCJCbG9jayBub3QgY29ubmVjdGVkIHRvIG5ldyBwYXJlbnQuXCIpO2lmKGMmJiFhKXRocm93IEVycm9yKFwiQ2Fubm90IHNldCBwYXJlbnQgdG8gbnVsbCB3aGlsZSBibG9jayBpcyBzdGlsbCBjb25uZWN0ZWQgdG8gc3VwZXJpb3IgYmxvY2suXCIpO3RoaXMucGFyZW50QmxvY2tfP3JlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheSh0aGlzLnBhcmVudEJsb2NrXy5jaGlsZEJsb2Nrc18sdGhpcyk6dGhpcy53b3Jrc3BhY2UucmVtb3ZlVG9wQmxvY2sodGhpcyk7KHRoaXMucGFyZW50QmxvY2tfPWEpP2EuY2hpbGRCbG9ja3NfLnB1c2godGhpcyk6dGhpcy53b3Jrc3BhY2UuYWRkVG9wQmxvY2sodGhpcyl9fWdldERlc2NlbmRhbnRzKGEpe2NvbnN0IGI9W3RoaXNdLGM9dGhpcy5nZXRDaGlsZHJlbihhKTtmb3IobGV0IGQsZT0wO2Q9Y1tlXTtlKyspYi5wdXNoKC4uLmQuZ2V0RGVzY2VuZGFudHMoYSkpO3JldHVybiBifWlzRGVsZXRhYmxlKCl7cmV0dXJuIHRoaXMuZGVsZXRhYmxlJiZcbiF0aGlzLmlzSW5GbHlvdXQmJiF0aGlzLnNoYWRvdyYmIXRoaXMuaXNEZWFkT3JEeWluZygpJiYhdGhpcy53b3Jrc3BhY2UuaXNSZWFkT25seSgpfWlzT3duRGVsZXRhYmxlKCl7cmV0dXJuIHRoaXMuZGVsZXRhYmxlfXNldERlbGV0YWJsZShhKXt0aGlzLmRlbGV0YWJsZT1hfWlzTW92YWJsZSgpe3JldHVybiB0aGlzLm1vdmFibGUmJiF0aGlzLmlzSW5GbHlvdXQmJiF0aGlzLnNoYWRvdyYmIXRoaXMuaXNEZWFkT3JEeWluZygpJiYhdGhpcy53b3Jrc3BhY2UuaXNSZWFkT25seSgpfWlzT3duTW92YWJsZSgpe3JldHVybiB0aGlzLm1vdmFibGV9c2V0TW92YWJsZShhKXt0aGlzLm1vdmFibGU9YX1pc0R1cGxpY2F0YWJsZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZS5oYXNCbG9ja0xpbWl0cygpP3RoaXMud29ya3NwYWNlLmlzQ2FwYWNpdHlBdmFpbGFibGUoZ2V0QmxvY2tUeXBlQ291bnRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKHRoaXMsITApKTohMH1pc1NoYWRvdygpe3JldHVybiB0aGlzLnNoYWRvd31zZXRTaGFkb3coYSl7dGhpcy5zaGFkb3c9XG5hfWlzSW5zZXJ0aW9uTWFya2VyKCl7cmV0dXJuIHRoaXMuaXNJbnNlcnRpb25NYXJrZXJffXNldEluc2VydGlvbk1hcmtlcihhKXt0aGlzLmlzSW5zZXJ0aW9uTWFya2VyXz1hfWlzRWRpdGFibGUoKXtyZXR1cm4gdGhpcy5lZGl0YWJsZSYmIXRoaXMuaXNEZWFkT3JEeWluZygpJiYhdGhpcy53b3Jrc3BhY2UuaXNSZWFkT25seSgpfWlzT3duRWRpdGFibGUoKXtyZXR1cm4gdGhpcy5lZGl0YWJsZX1zZXRFZGl0YWJsZShhKXt0aGlzLmVkaXRhYmxlPWE7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRGaWVsZHMoKSliLnVwZGF0ZUVkaXRhYmxlKCl9aXNEaXNwb3NlZCgpe3JldHVybiB0aGlzLmRpc3Bvc2VkfWlzU2ltcGxlUmVwb3J0ZXIoKXtpZighdGhpcy5vdXRwdXRDb25uZWN0aW9uKXJldHVybiExO2Zvcihjb25zdCBhIG9mIHRoaXMuaW5wdXRMaXN0KWlmKGEuY29ubmVjdGlvbnx8YS5maWVsZFJvdy5sZW5ndGg+MSlyZXR1cm4hMTtyZXR1cm4hMH1nZXRNYXRjaGluZ0Nvbm5lY3Rpb24oYSxcbmIpe2NvbnN0IGM9dGhpcy5nZXRDb25uZWN0aW9uc18oITApO2E9YS5nZXRDb25uZWN0aW9uc18oITApO2lmKGMubGVuZ3RoIT09YS5sZW5ndGgpdGhyb3cgRXJyb3IoXCJDb25uZWN0aW9uIGxpc3RzIGRpZCBub3QgbWF0Y2ggaW4gbGVuZ3RoLlwiKTtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKylpZihhW2RdPT09YilyZXR1cm4gY1tkXTtyZXR1cm4gbnVsbH1zZXRIZWxwVXJsKGEpe3RoaXMuaGVscFVybD1hfXNldFRvb2x0aXAoYSl7dGhpcy50b29sdGlwPWF9Z2V0VG9vbHRpcCgpe3JldHVybiBnZXRUb29sdGlwT2ZPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwKHRoaXMpfWdldENvbG91cigpe3JldHVybiB0aGlzLmNvbG91cl99Z2V0U3R5bGVOYW1lKCl7cmV0dXJuIHRoaXMuc3R5bGVOYW1lX31nZXRIdWUoKXtyZXR1cm4gdGhpcy5odWV9c2V0Q29sb3VyKGEpe2E9cGFyc2VCbG9ja0NvbG91ciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSk7XG50aGlzLmh1ZT1hLmh1ZTt0aGlzLmNvbG91cl89YS5oZXh9c2V0U3R5bGUoYSl7dGhpcy5zdHlsZU5hbWVfPWF9c2V0T25DaGFuZ2UoYSl7aWYoYSYmdHlwZW9mIGEhPT1cImZ1bmN0aW9uXCIpdGhyb3cgRXJyb3IoXCJvbmNoYW5nZSBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO3RoaXMub25jaGFuZ2VXcmFwcGVyJiZ0aGlzLndvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uY2hhbmdlV3JhcHBlcik7dGhpcy5vbmNoYW5nZT1hO3RoaXMub25jaGFuZ2VXcmFwcGVyPWEuYmluZCh0aGlzKTt0aGlzLndvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uY2hhbmdlV3JhcHBlcil9Z2V0RmllbGQoYSl7aWYodHlwZW9mIGEhPT1cInN0cmluZ1wiKXRocm93IFR5cGVFcnJvcihcIkJsb2NrLnByb3RvdHlwZS5nZXRGaWVsZCBleHBlY3RzIGEgc3RyaW5nIHdpdGggdGhlIGZpZWxkIG5hbWUgYnV0IHJlY2VpdmVkIFwiKyhhPT09dm9pZCAwP1wibm90aGluZ1wiOmErXCIgb2YgdHlwZSBcIitcbnR5cGVvZiBhKStcIiBpbnN0ZWFkXCIpO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0RmllbGRzKCkpaWYoYi5uYW1lPT09YSlyZXR1cm4gYjtyZXR1cm4gbnVsbH0qZ2V0RmllbGRzKCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5pbnB1dExpc3QpZm9yKGNvbnN0IGIgb2YgYS5maWVsZFJvdyl5aWVsZCBifWdldFZhcnMoKXtjb25zdCBhPVtdO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0RmllbGRzKCkpYi5yZWZlcmVuY2VzVmFyaWFibGVzKCkmJmEucHVzaChiLmdldFZhbHVlKCkpO3JldHVybiBhfWdldFZhck1vZGVscygpe2NvbnN0IGE9W107Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRGaWVsZHMoKSlpZihiLnJlZmVyZW5jZXNWYXJpYWJsZXMoKSl7Y29uc3QgYz10aGlzLndvcmtzcGFjZS5nZXRWYXJpYWJsZUJ5SWQoYi5nZXRWYWx1ZSgpKTtjJiZhLnB1c2goYyl9cmV0dXJuIGF9dXBkYXRlVmFyTmFtZShhKXtmb3IoY29uc3QgYiBvZiB0aGlzLmdldEZpZWxkcygpKWIucmVmZXJlbmNlc1ZhcmlhYmxlcygpJiZcbmEuZ2V0SWQoKT09PWIuZ2V0VmFsdWUoKSYmYi5yZWZyZXNoVmFyaWFibGVOYW1lKCl9cmVuYW1lVmFyQnlJZChhLGIpe2Zvcihjb25zdCBjIG9mIHRoaXMuZ2V0RmllbGRzKCkpYy5yZWZlcmVuY2VzVmFyaWFibGVzKCkmJmE9PT1jLmdldFZhbHVlKCkmJmMuc2V0VmFsdWUoYil9Z2V0RmllbGRWYWx1ZShhKXtyZXR1cm4oYT10aGlzLmdldEZpZWxkKGEpKT9hLmdldFZhbHVlKCk6bnVsbH1zZXRGaWVsZFZhbHVlKGEsYil7Y29uc3QgYz10aGlzLmdldEZpZWxkKGIpO2lmKCFjKXRocm93IEVycm9yKCdGaWVsZCBcIicrYisnXCIgbm90IGZvdW5kLicpO2Muc2V0VmFsdWUoYSl9c2V0UHJldmlvdXNTdGF0ZW1lbnQoYSxiKXtpZihhKWI9PT12b2lkIDAmJihiPW51bGwpLHRoaXMucHJldmlvdXNDb25uZWN0aW9ufHwodGhpcy5wcmV2aW91c0Nvbm5lY3Rpb249dGhpcy5tYWtlQ29ubmVjdGlvbl8oQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UKSksXG50aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5zZXRDaGVjayhiKTtlbHNlIGlmKHRoaXMucHJldmlvdXNDb25uZWN0aW9uKXtpZih0aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKXRocm93IEVycm9yKFwiTXVzdCBkaXNjb25uZWN0IHByZXZpb3VzIHN0YXRlbWVudCBiZWZvcmUgcmVtb3ZpbmcgY29ubmVjdGlvbi5cIik7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24uZGlzcG9zZSgpO3RoaXMucHJldmlvdXNDb25uZWN0aW9uPW51bGx9fXNldE5leHRTdGF0ZW1lbnQoYSxiKXtpZihhKWI9PT12b2lkIDAmJihiPW51bGwpLHRoaXMubmV4dENvbm5lY3Rpb258fCh0aGlzLm5leHRDb25uZWN0aW9uPXRoaXMubWFrZUNvbm5lY3Rpb25fKENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UKSksdGhpcy5uZXh0Q29ubmVjdGlvbi5zZXRDaGVjayhiKTtlbHNlIGlmKHRoaXMubmV4dENvbm5lY3Rpb24pe2lmKHRoaXMubmV4dENvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSl0aHJvdyBFcnJvcihcIk11c3QgZGlzY29ubmVjdCBuZXh0IHN0YXRlbWVudCBiZWZvcmUgcmVtb3ZpbmcgY29ubmVjdGlvbi5cIik7XG50aGlzLm5leHRDb25uZWN0aW9uLmRpc3Bvc2UoKTt0aGlzLm5leHRDb25uZWN0aW9uPW51bGx9fXNldE91dHB1dChhLGIpe2lmKGEpYj09PXZvaWQgMCYmKGI9bnVsbCksdGhpcy5vdXRwdXRDb25uZWN0aW9ufHwodGhpcy5vdXRwdXRDb25uZWN0aW9uPXRoaXMubWFrZUNvbm5lY3Rpb25fKENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRSkpLHRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhiKTtlbHNlIGlmKHRoaXMub3V0cHV0Q29ubmVjdGlvbil7aWYodGhpcy5vdXRwdXRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpdGhyb3cgRXJyb3IoXCJNdXN0IGRpc2Nvbm5lY3Qgb3V0cHV0IHZhbHVlIGJlZm9yZSByZW1vdmluZyBjb25uZWN0aW9uLlwiKTt0aGlzLm91dHB1dENvbm5lY3Rpb24uZGlzcG9zZSgpO3RoaXMub3V0cHV0Q29ubmVjdGlvbj1udWxsfX1zZXRJbnB1dHNJbmxpbmUoYSl7dGhpcy5pbnB1dHNJbmxpbmUhPT1cbmEmJihmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSkpKHRoaXMsXCJpbmxpbmVcIixudWxsLHRoaXMuaW5wdXRzSW5saW5lLGEpKSx0aGlzLmlucHV0c0lubGluZT1hKX1nZXRJbnB1dHNJbmxpbmUoKXtpZih0aGlzLmlucHV0c0lubGluZSE9PXZvaWQgMClyZXR1cm4gdGhpcy5pbnB1dHNJbmxpbmU7Zm9yKHZhciBhPTE7YTx0aGlzLmlucHV0TGlzdC5sZW5ndGg7YSsrKWlmKHRoaXMuaW5wdXRMaXN0W2EtMV1pbnN0YW5jZW9mIER1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQmJnRoaXMuaW5wdXRMaXN0W2FdaW5zdGFuY2VvZiBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0KXJldHVybiExO1xuZm9yKGE9MTthPHRoaXMuaW5wdXRMaXN0Lmxlbmd0aDthKyspaWYodGhpcy5pbnB1dExpc3RbYS0xXWluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0JiZ0aGlzLmlucHV0TGlzdFthXWluc3RhbmNlb2YgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dClyZXR1cm4hMDtmb3IoYT0wO2E8dGhpcy5pbnB1dExpc3QubGVuZ3RoO2ErKylpZih0aGlzLmlucHV0TGlzdFthXWluc3RhbmNlb2YgRW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dClyZXR1cm4hMDtyZXR1cm4hMX1zZXRPdXRwdXRTaGFwZShhKXt0aGlzLm91dHB1dFNoYXBlXz1hfWdldE91dHB1dFNoYXBlKCl7cmV0dXJuIHRoaXMub3V0cHV0U2hhcGVffWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLmRpc2FibGVkUmVhc29ucy5zaXplPT09MH1zZXREaXNhYmxlZFJlYXNvbihhLFxuYil7YXx8dGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5kaXNhYmxlfHwhdGhpcy5oYXNEaXNhYmxlZFJlYXNvbihNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyl8fGI9PU1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzfHx0aGlzLnNldERpc2FibGVkUmVhc29uKCExLE1BTlVBTExZX0RJU0FCTEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKTt0aGlzLmRpc2FibGVkUmVhc29ucy5oYXMoYikhPT1hJiYoYT90aGlzLmRpc2FibGVkUmVhc29ucy5hZGQoYik6dGhpcy5kaXNhYmxlZFJlYXNvbnMuZGVsZXRlKGIpLGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcyxcImRpc2FibGVkXCIsbnVsbCwhYSxhKSxhLnNldERpc2FibGVkUmVhc29uKGIpLGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSkpfWdldEluaGVyaXRlZERpc2FibGVkKCl7bGV0IGE9XG50aGlzLmdldFN1cnJvdW5kUGFyZW50KCk7Zm9yKDthOyl7aWYoIWEuaXNFbmFibGVkKCkpcmV0dXJuITA7YT1hLmdldFN1cnJvdW5kUGFyZW50KCl9cmV0dXJuITF9aGFzRGlzYWJsZWRSZWFzb24oYSl7cmV0dXJuIHRoaXMuZGlzYWJsZWRSZWFzb25zLmhhcyhhKX1nZXREaXNhYmxlZFJlYXNvbnMoKXtyZXR1cm4gdGhpcy5kaXNhYmxlZFJlYXNvbnN9aXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5jb2xsYXBzZWRffXNldENvbGxhcHNlZChhKXt0aGlzLmNvbGxhcHNlZF8hPT1hJiYoZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKSh0aGlzLFwiY29sbGFwc2VkXCIsbnVsbCx0aGlzLmNvbGxhcHNlZF8sYSkpLHRoaXMuY29sbGFwc2VkXz1hKX10b1N0cmluZyhhLGIpe2I9dGhpcy50b1Rva2VucyhiKTtcbmZvcihsZXQgZD0yO2Q8Yi5sZW5ndGg7ZCsrKWJbZC0yXT09PVwiKFwiJiZiW2RdPT09XCIpXCImJihiW2QtMl09YltkLTFdLGIuc3BsaWNlKGQtMSwyKSk7bGV0IGM9XCJcIjtiPWIucmVkdWNlKChkLGUpPT57ZD1kKyhjPT09XCIoXCJ8fGU9PT1cIilcIj9cIlwiOlwiIFwiKStlO2M9ZVtlLmxlbmd0aC0xXTtyZXR1cm4gZH0sXCJcIik7Yj1iLnRyaW0oKXx8XCI/Pz9cIjthJiZiLmxlbmd0aD5hJiYoYj1iLnN1YnN0cmluZygwLGEtMykrXCIuLi5cIik7cmV0dXJuIGJ9dG9Ub2tlbnMoYT1cIj9cIil7Y29uc3QgYj1bXTtmb3IoY29uc3QgZCBvZiB0aGlzLmlucHV0TGlzdClpZihkLm5hbWUhPUNPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzKXtmb3IoY29uc3QgZSBvZiBkLmZpZWxkUm93KWIucHVzaChlLmdldFRleHQoKSk7aWYoZC5jb25uZWN0aW9uKXtjb25zdCBlPWQuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2lmKGUpe3ZhciBjPWQuY29ubmVjdGlvbjtsZXQgZj1jLmdldENoZWNrKCk7XG4hZiYmYy50YXJnZXRDb25uZWN0aW9uJiYoZj1jLnRhcmdldENvbm5lY3Rpb24uZ2V0Q2hlY2soKSk7KGM9ISFmJiYoZi5pbmNsdWRlcyhcIkJvb2xlYW5cIil8fGYuaW5jbHVkZXMoXCJOdW1iZXJcIikpKSYmYi5wdXNoKFwiKFwiKTtiLnB1c2goLi4uZS50b1Rva2VucyhhKSk7YyYmYi5wdXNoKFwiKVwiKX1lbHNlIGIucHVzaChhKX19cmV0dXJuIGJ9YXBwZW5kVmFsdWVJbnB1dChhKXtyZXR1cm4gdGhpcy5hcHBlbmRJbnB1dChuZXcgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0KGEsdGhpcykpfWFwcGVuZFN0YXRlbWVudElucHV0KGEpe3RoaXMuc3RhdGVtZW50SW5wdXRDb3VudCsrO3JldHVybiB0aGlzLmFwcGVuZElucHV0KG5ldyBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQoYSx0aGlzKSl9YXBwZW5kRHVtbXlJbnB1dChhPVwiXCIpe3JldHVybiB0aGlzLmFwcGVuZElucHV0KG5ldyBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0KGEsXG50aGlzKSl9YXBwZW5kRW5kUm93SW5wdXQoYT1cIlwiKXtyZXR1cm4gdGhpcy5hcHBlbmRJbnB1dChuZXcgRW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dChhLHRoaXMpKX1hcHBlbmRJbnB1dChhKXt0aGlzLmlucHV0TGlzdC5wdXNoKGEpO3JldHVybiBhfWFwcGVuZElucHV0RnJvbVJlZ2lzdHJ5KGEsYil7cmV0dXJuKGE9Z2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuSU5QVVQsYSwhMSkpP3RoaXMuYXBwZW5kSW5wdXQobmV3IGEoYix0aGlzKSk6bnVsbH1qc29uSW5pdChhKXt2YXIgYj1hLnR5cGU/J0Jsb2NrIFwiJythLnR5cGUrJ1wiOiAnOlwiXCI7aWYoYS5vdXRwdXQmJmEucHJldmlvdXNTdGF0ZW1lbnQpdGhyb3cgRXJyb3IoYitcIk11c3Qgbm90IGhhdmUgYm90aCBhbiBvdXRwdXQgYW5kIGEgcHJldmlvdXNTdGF0ZW1lbnQuXCIpO2Zvcih2YXIgYz1cbjA7YVtcImFyZ3NcIitjXTspe2lmKGFbXCJtZXNzYWdlXCIrY109PT12b2lkIDApdGhyb3cgRXJyb3IoYitgYXJncyR7Y30gbXVzdCBoYXZlIGEgY29ycmVzcG9uZGluZyBtZXNzYWdlIChtZXNzYWdlJHtjfSkuYCk7YysrfWEuc3R5bGUmJmEuc3R5bGUuaGF0JiYodGhpcy5oYXQ9YS5zdHlsZS5oYXQsYS5zdHlsZT1udWxsKTtpZihhLnN0eWxlJiZhLmNvbG91cil0aHJvdyBFcnJvcihiK1wiTXVzdCBub3QgaGF2ZSBib3RoIGEgY29sb3VyIGFuZCBhIHN0eWxlLlwiKTthLnN0eWxlP3RoaXMuanNvbkluaXRTdHlsZShhLGIpOnRoaXMuanNvbkluaXRDb2xvdXIoYSxiKTtmb3IoYz0wO2FbXCJtZXNzYWdlXCIrY10hPT12b2lkIDA7KXRoaXMuaW50ZXJwb2xhdGUoYVtcIm1lc3NhZ2VcIitjXSxhW1wiYXJnc1wiK2NdfHxbXSxhW1wiaW1wbGljaXRBbGlnblwiK2NdfHxhW1wibGFzdER1bW15QWxpZ25cIitjXSxiKSxjKys7YS5pbnB1dHNJbmxpbmUhPT12b2lkIDAmJigkLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSxcbnRoaXMuc2V0SW5wdXRzSW5saW5lKGEuaW5wdXRzSW5saW5lKSwkLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKTthLm91dHB1dCE9PXZvaWQgMCYmdGhpcy5zZXRPdXRwdXQoITAsYS5vdXRwdXQpO2Eub3V0cHV0U2hhcGUhPT12b2lkIDAmJnRoaXMuc2V0T3V0cHV0U2hhcGUoYS5vdXRwdXRTaGFwZSk7YS5wcmV2aW91c1N0YXRlbWVudCE9PXZvaWQgMCYmdGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMCxhLnByZXZpb3VzU3RhdGVtZW50KTthLm5leHRTdGF0ZW1lbnQhPT12b2lkIDAmJnRoaXMuc2V0TmV4dFN0YXRlbWVudCghMCxhLm5leHRTdGF0ZW1lbnQpO2EudG9vbHRpcCE9PXZvaWQgMCYmKGM9cmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLnRvb2x0aXApLHRoaXMuc2V0VG9vbHRpcChjKSk7YS5lbmFibGVDb250ZXh0TWVudSE9PXZvaWQgMCYmKHRoaXMuY29udGV4dE1lbnU9XG4hIWEuZW5hYmxlQ29udGV4dE1lbnUpO2Euc3VwcHJlc3NQcmVmaXhTdWZmaXghPT12b2lkIDAmJih0aGlzLnN1cHByZXNzUHJlZml4U3VmZml4PSEhYS5zdXBwcmVzc1ByZWZpeFN1ZmZpeCk7YS5oZWxwVXJsIT09dm9pZCAwJiYoYz1yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEuaGVscFVybCksdGhpcy5zZXRIZWxwVXJsKGMpKTt0eXBlb2YgYS5leHRlbnNpb25zPT09XCJzdHJpbmdcIiYmKGNvbnNvbGUud2FybihiK1wiSlNPTiBhdHRyaWJ1dGUgJ2V4dGVuc2lvbnMnIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiBGb3VuZCByYXcgc3RyaW5nIGluIEpTT04gZm9yICdcIithLnR5cGUrXCInIGJsb2NrLlwiKSxhLmV4dGVuc2lvbnM9W2EuZXh0ZW5zaW9uc10pO2EubXV0YXRvciE9PXZvaWQgMCYmYXBwbHkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKGEubXV0YXRvcix0aGlzLCEwKTthPWEuZXh0ZW5zaW9ucztcbmlmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGI9MDtiPGEubGVuZ3RoO2IrKylhcHBseSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoYVtiXSx0aGlzLCExKX1qc29uSW5pdENvbG91cihhLGIpe2lmKFwiY29sb3VyXCJpbiBhKWlmKGEuY29sb3VyPT09dm9pZCAwKWNvbnNvbGUud2FybihiK1wiVW5kZWZpbmVkIGNvbG91ciB2YWx1ZS5cIik7ZWxzZXthPWEuY29sb3VyO3RyeXt0aGlzLnNldENvbG91cihhKX1jYXRjaChjKXtjb25zb2xlLndhcm4oYitcIklsbGVnYWwgY29sb3VyIHZhbHVlOiBcIixhKX19fWpzb25Jbml0U3R5bGUoYSxiKXthPWEuc3R5bGU7dHJ5e3RoaXMuc2V0U3R5bGUoYSl9Y2F0Y2goYyl7Y29uc29sZS53YXJuKGIrXCJTdHlsZSBkb2VzIG5vdCBleGlzdDogXCIsYSl9fW1peGluKGEsYil7aWYoYiE9PXZvaWQgMCYmdHlwZW9mIGIhPT1cImJvb2xlYW5cIil0aHJvdyBFcnJvcihcIm9wdF9kaXNhYmxlQ2hlY2sgbXVzdCBiZSBhIGJvb2xlYW4gaWYgcHJvdmlkZWRcIik7aWYoIWIpe2I9XG5bXTtmb3IoY29uc3QgYyBpbiBhKXRoaXNbY10hPT12b2lkIDAmJmIucHVzaChjKTtpZihiLmxlbmd0aCl0aHJvdyBFcnJvcihcIk1peGluIHdpbGwgb3ZlcndyaXRlIGJsb2NrIG1lbWJlcnM6IFwiK0pTT04uc3RyaW5naWZ5KGIpKTt9T2JqZWN0LmFzc2lnbih0aGlzLGEpfWludGVycG9sYXRlKGEsYixjLGQpe2E9dG9rZW5pemVJbnRlcnBvbGF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhKTt0aGlzLnZhbGlkYXRlVG9rZW5zKGEsYi5sZW5ndGgpO2I9dGhpcy5pbnRlcnBvbGF0ZUFyZ3VtZW50cyhhLGIsYyk7Yz1bXTtmb3IobGV0IGU9MCxmO2Y9YltlXTtlKyspaWYodGhpcy5pc0lucHV0S2V5d29yZChmLnR5cGUpKXtpZihhPXRoaXMuaW5wdXRGcm9tSnNvbihmLGQpKXtmb3IobGV0IGc9MCxoO2g9Y1tnXTtnKyspYS5hcHBlbmRGaWVsZChoWzBdLGhbMV0pO2MubGVuZ3RoPTB9fWVsc2UoYT10aGlzLmZpZWxkRnJvbUpzb24oZikpJiZjLnB1c2goW2EsZi5uYW1lXSl9dmFsaWRhdGVUb2tlbnMoYSxcbmIpe2NvbnN0IGM9W107bGV0IGQ9MDtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl7Y29uc3QgZj1hW2VdO2lmKHR5cGVvZiBmPT09XCJudW1iZXJcIil7aWYoZjwxfHxmPmIpdGhyb3cgRXJyb3IoJ0Jsb2NrIFwiJyt0aGlzLnR5cGUrJ1wiOiBNZXNzYWdlIGluZGV4ICUnK2YrXCIgb3V0IG9mIHJhbmdlLlwiKTtpZihjW2ZdKXRocm93IEVycm9yKCdCbG9jayBcIicrdGhpcy50eXBlKydcIjogTWVzc2FnZSBpbmRleCAlJytmK1wiIGR1cGxpY2F0ZWQuXCIpO2NbZl09ITA7ZCsrfX1pZihkIT09Yil0aHJvdyBFcnJvcignQmxvY2sgXCInK3RoaXMudHlwZSsnXCI6IE1lc3NhZ2UgZG9lcyBub3QgcmVmZXJlbmNlIGFsbCAnK2IrXCIgYXJnKHMpLlwiKTt9aW50ZXJwb2xhdGVBcmd1bWVudHMoYSxiLGMpe2NvbnN0IGQ9W107Zm9yKGxldCBmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBlPWFbZl07dHlwZW9mIGU9PT1cIm51bWJlclwiJiYoZT1iW2UtMV0pO2lmKHR5cGVvZiBlPT09XCJzdHJpbmdcIilpZihlPT09XCJcXG5cIillPVxue3R5cGU6XCJpbnB1dF9lbmRfcm93XCJ9LGMmJihlLmFsaWduPWMpO2Vsc2UgaWYoZT10aGlzLnN0cmluZ1RvRmllbGRKc29uKGUpLCFlKWNvbnRpbnVlO2QucHVzaChlKX0oYT1kLmxlbmd0aCkmJiF0aGlzLmlzSW5wdXRLZXl3b3JkKGRbYS0xXS50eXBlKSYmKGE9e3R5cGU6XCJpbnB1dF9kdW1teVwifSxjJiYoYS5hbGlnbj1jKSxkLnB1c2goYSkpO3JldHVybiBkfWZpZWxkRnJvbUpzb24oYSl7Y29uc3QgYj0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoYSk7cmV0dXJuIWImJmEuYWx0P3R5cGVvZiBhLmFsdD09PVwic3RyaW5nXCI/KGE9dGhpcy5zdHJpbmdUb0ZpZWxkSnNvbihhLmFsdCkpP3RoaXMuZmllbGRGcm9tSnNvbihhKTpudWxsOnRoaXMuZmllbGRGcm9tSnNvbihhLmFsdCk6Yn1pbnB1dEZyb21Kc29uKGEsYil7dmFyIGM9e0xFRlQ6JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5MRUZULFJJR0hUOiQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uUklHSFQsXG5DRU5UUkU6JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5DRU5UUkUsQ0VOVEVSOiQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uQ0VOVFJFfTtsZXQgZDtzd2l0Y2goYS50eXBlKXtjYXNlIFwiaW5wdXRfdmFsdWVcIjpkPXRoaXMuYXBwZW5kVmFsdWVJbnB1dChhLm5hbWUpO2JyZWFrO2Nhc2UgXCJpbnB1dF9zdGF0ZW1lbnRcIjpkPXRoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoYS5uYW1lKTticmVhaztjYXNlIFwiaW5wdXRfZHVtbXlcIjpkPXRoaXMuYXBwZW5kRHVtbXlJbnB1dChhLm5hbWUpO2JyZWFrO2Nhc2UgXCJpbnB1dF9lbmRfcm93XCI6ZD10aGlzLmFwcGVuZEVuZFJvd0lucHV0KGEubmFtZSk7YnJlYWs7ZGVmYXVsdDpkPXRoaXMuYXBwZW5kSW5wdXRGcm9tUmVnaXN0cnkoYS50eXBlLGEubmFtZSl9aWYoIWQpcmV0dXJuIG51bGw7YS5jaGVjayYmZC5zZXRDaGVjayhhLmNoZWNrKTthLmFsaWduJiYoYz1jW2EuYWxpZ24udG9VcHBlckNhc2UoKV0sXG5jPT09dm9pZCAwP2NvbnNvbGUud2FybihiK1wiSWxsZWdhbCBhbGlnbiB2YWx1ZTogXCIsYS5hbGlnbik6ZC5zZXRBbGlnbihjKSk7cmV0dXJuIGR9aXNJbnB1dEtleXdvcmQoYSl7cmV0dXJuIGE9PT1cImlucHV0X3ZhbHVlXCJ8fGE9PT1cImlucHV0X3N0YXRlbWVudFwifHxhPT09XCJpbnB1dF9kdW1teVwifHxhPT09XCJpbnB1dF9lbmRfcm93XCJ8fGhhc0l0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuSU5QVVQsYSl9c3RyaW5nVG9GaWVsZEpzb24oYSl7cmV0dXJuKGE9YS50cmltKCkpP3t0eXBlOlwiZmllbGRfbGFiZWxcIix0ZXh0OmF9Om51bGx9bW92ZUlucHV0QmVmb3JlKGEsYil7aWYoYSE9PWIpe3ZhciBjPS0xLGQ9Yj8tMTp0aGlzLmlucHV0TGlzdC5sZW5ndGg7Zm9yKGxldCBlPTAsZjtmPXRoaXMuaW5wdXRMaXN0W2VdO2UrKylpZihmLm5hbWU9PT1hKXtpZihjPWUsZCE9PS0xKWJyZWFrfWVsc2UgaWYoYiYmXG5mLm5hbWU9PT1iJiYoZD1lLGMhPT0tMSkpYnJlYWs7aWYoYz09PS0xKXRocm93IEVycm9yKCdOYW1lZCBpbnB1dCBcIicrYSsnXCIgbm90IGZvdW5kLicpO2lmKGQ9PT0tMSl0aHJvdyBFcnJvcignUmVmZXJlbmNlIGlucHV0IFwiJytiKydcIiBub3QgZm91bmQuJyk7dGhpcy5tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZShjLGQpfX1tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZShhLGIpe2lmKGE9PT1iKXRocm93IEVycm9yKFwiQ2FuJ3QgbW92ZSBpbnB1dCB0byBpdHNlbGYuXCIpO2lmKGE+PXRoaXMuaW5wdXRMaXN0Lmxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSW5wdXQgaW5kZXggXCIrYStcIiBvdXQgb2YgYm91bmRzLlwiKTtpZihiPnRoaXMuaW5wdXRMaXN0Lmxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiUmVmZXJlbmNlIGlucHV0IFwiK2IrXCIgb3V0IG9mIGJvdW5kcy5cIik7Y29uc3QgYz10aGlzLmlucHV0TGlzdFthXTt0aGlzLmlucHV0TGlzdC5zcGxpY2UoYSwxKTthPGImJmItLTt0aGlzLmlucHV0TGlzdC5zcGxpY2UoYixcbjAsYyl9cmVtb3ZlSW5wdXQoYSxiKXtmb3IobGV0IGM9MCxkO2Q9dGhpcy5pbnB1dExpc3RbY107YysrKWlmKGQubmFtZT09PWEpcmV0dXJuIGQgaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQmJnRoaXMuc3RhdGVtZW50SW5wdXRDb3VudC0tLGQuZGlzcG9zZSgpLHRoaXMuaW5wdXRMaXN0LnNwbGljZShjLDEpLCEwO2lmKGIpcmV0dXJuITE7dGhyb3cgRXJyb3IoXCJJbnB1dCBub3QgZm91bmQ6IFwiK2EpO31nZXRJbnB1dChhKXtmb3IobGV0IGI9MCxjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWlmKGMubmFtZT09PWEpcmV0dXJuIGM7cmV0dXJuIG51bGx9Z2V0SW5wdXRUYXJnZXRCbG9jayhhKXtyZXR1cm4oYT10aGlzLmdldElucHV0KGEpKSYmYS5jb25uZWN0aW9uJiZhLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX1nZXRDb21tZW50VGV4dCgpe2xldCBhLGI7cmV0dXJuKGI9KGE9dGhpcy5nZXRJY29uKEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5UKSk9PVxubnVsbD92b2lkIDA6YS5nZXRUZXh0KCkpIT1udWxsP2I6bnVsbH1zZXRDb21tZW50VGV4dChhKXt2YXIgYjtsZXQgYztjb25zdCBkPShjPShiPXRoaXMuZ2V0SWNvbihJY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuQ09NTUVOVCkpPT1udWxsP3ZvaWQgMDpiLmdldFRleHQoKSkhPW51bGw/YzpudWxsO2lmKGQhPT1hKXtpZihhIT09bnVsbCl7Yj10aGlzLmdldEljb24oSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlQpO2lmKCFiKXtiPWdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LklDT04sSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlQudG9TdHJpbmcoKSwhMSk7aWYoIWIpdGhyb3cgRXJyb3IoXCJObyBjb21tZW50IGljb24gY2xhc3MgaXMgcmVnaXN0ZXJlZCwgc28gYSBjb21tZW50IGNhbm5vdCBiZSBzZXRcIik7XG5iPW5ldyBiKHRoaXMpO2lmKCFpc0NvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvbW1lbnRfaWNvbihiKSl0aHJvdyBFcnJvcihcIlRoZSBjbGFzcyByZWdpc3RlcmVkIGFzIGEgY29tbWVudCBpY29uIGRvZXMgbm90IGNvbmZvcm0gdG8gdGhlIElDb21tZW50SWNvbiBpbnRlcmZhY2VcIik7Yj10aGlzLmFkZEljb24oYil9JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7Yi5zZXRUZXh0KGEpOyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9ZWxzZSB0aGlzLnJlbW92ZUljb24oSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29uX3R5cGVzLkNPTU1FTlQpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcyxcblwiY29tbWVudFwiLG51bGwsZCxhKSl9fXNldFdhcm5pbmdUZXh0KGEsYil7fXNldE11dGF0b3IoYSl7fWFkZEljb24oYSl7aWYodGhpcy5oYXNJY29uKGEuZ2V0VHlwZSgpKSl0aHJvdyBuZXcgRHVwbGljYXRlSWNvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRleGNlcHRpb25zKGEpO3RoaXMuaWNvbnMucHVzaChhKTt0aGlzLmljb25zLnNvcnQoKGIsYyk9PmIuZ2V0V2VpZ2h0KCktYy5nZXRXZWlnaHQoKSk7cmV0dXJuIGF9cmVtb3ZlSWNvbihhKXtpZighdGhpcy5oYXNJY29uKGEpKXJldHVybiExO2xldCBiOyhiPXRoaXMuZ2V0SWNvbihhKSk9PW51bGx8fGIuZGlzcG9zZSgpO3RoaXMuaWNvbnM9dGhpcy5pY29ucy5maWx0ZXIoYz0+IWMuZ2V0VHlwZSgpLmVxdWFscyhhKSk7cmV0dXJuITB9aGFzSWNvbihhKXtyZXR1cm4gdGhpcy5pY29ucy5zb21lKGI9PmIuZ2V0VHlwZSgpLmVxdWFscyhhKSl9Z2V0SWNvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcz9cbnRoaXMuaWNvbnMuZmluZChiPT5iLmdldFR5cGUoKS5lcXVhbHMoYSkpOnRoaXMuaWNvbnMuZmluZChiPT5iLmdldFR5cGUoKS50b1N0cmluZygpPT09YSl9Z2V0SWNvbnMoKXtyZXR1cm5bLi4udGhpcy5pY29uc119Z2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpe3JldHVybiB0aGlzLnh5fW1vdmVCeShhLGIsYyl7aWYodGhpcy5wYXJlbnRCbG9ja18pdGhyb3cgRXJyb3IoXCJCbG9jayBoYXMgcGFyZW50XCIpO2NvbnN0IGQ9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRSkpKHRoaXMpO2MmJmQuc2V0UmVhc29uKGMpO3RoaXMueHkudHJhbnNsYXRlKGEsYik7ZC5yZWNvcmROZXcoKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGQpfW1ha2VDb25uZWN0aW9uXyhhKXtyZXR1cm4gbmV3IENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uKHRoaXMsXG5hKX1hbGxJbnB1dHNGaWxsZWQoYSl7YT09PXZvaWQgMCYmKGE9ITApO2lmKCFhJiZ0aGlzLmlzU2hhZG93KCkpcmV0dXJuITE7Zm9yKGxldCBjPTAsZDtkPXRoaXMuaW5wdXRMaXN0W2NdO2MrKylpZihkLmNvbm5lY3Rpb24pe3ZhciBiPWQuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2lmKCFifHwhYi5hbGxJbnB1dHNGaWxsZWQoYSkpcmV0dXJuITF9cmV0dXJuKGI9dGhpcy5nZXROZXh0QmxvY2soKSk/Yi5hbGxJbnB1dHNGaWxsZWQoYSk6ITB9dG9EZXZTdHJpbmcoKXtsZXQgYT10aGlzLnR5cGU/J1wiJyt0aGlzLnR5cGUrJ1wiIGJsb2NrJzpcIkJsb2NrXCI7dGhpcy5pZCYmKGErPScgKGlkPVwiJyt0aGlzLmlkKydcIiknKTtyZXR1cm4gYX19O0Jsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2suQ09MTEFQU0VEX0lOUFVUX05BTUU9Q09MTEFQU0VEX0lOUFVUX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHM7XG5CbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrLkNPTExBUFNFRF9GSUVMRF9OQU1FPUNPTExBUFNFRF9GSUVMRF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2s9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrLkJsb2NrPUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2s7dmFyIGRpc2Nvbm5lY3RQaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zPW51bGwsd29iYmxpbmdCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM9bnVsbCxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucy5jb25uZWN0aW9uVWlFZmZlY3Q9Y29ubmVjdGlvblVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucy5kaXNjb25uZWN0VWlFZmZlY3Q9ZGlzY29ubmVjdFVpRWZmZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucy5kaXNjb25uZWN0VWlTdG9wPWRpc2Nvbm5lY3RVaVN0b3AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnMuZGlzcG9zZVVpRWZmZWN0PWRpc3Bvc2VVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM7dmFyIEJsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcj1jbGFzc3twYXN0ZShhLGIsYyl7aWYoIWIuaXNDYXBhY2l0eUF2YWlsYWJsZShhLnR5cGVDb3VudHMpKXJldHVybiBudWxsO2MmJihhLmJsb2NrU3RhdGUueD1jLngsYS5ibG9ja1N0YXRlLnk9Yy55KTtjPWN8fG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmJsb2NrU3RhdGUueHx8MCxhLmJsb2NrU3RhdGUueXx8MCk7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7bGV0IGQ7dHJ5e2Q9YXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYS5ibG9ja1N0YXRlLGIpLG1vdmVCbG9ja1RvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyKGQsYyl9ZmluYWxseXskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfWlmKCFkKXJldHVybiBkO1xuaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJiFkLmlzU2hhZG93KCkmJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFKSkoZCkpO2NvbnN0IGU9ZDtmaW5pc2hRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKS50aGVuKCgpPT4kLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoZSkpO3JldHVybiBkfX07QmxvY2tQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLlRZUEU9XCJibG9ja1wiO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkcmVnaXN0cnkoQmxvY2tQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLlRZUEUsbmV3IEJsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLkJsb2NrUGFzdGVyPUJsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlci5tb3ZlQmxvY2tUb05vdENvbmZsaWN0PW1vdmVCbG9ja1RvTm90Q29uZmxpY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyO3ZhciBidW1wSW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cz1idW1wT2JqZWN0SW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMuYnVtcEludG9Cb3VuZHM9YnVtcE9iamVjdEludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cy5idW1wSW50b0JvdW5kc0hhbmRsZXI9YnVtcEludG9Cb3VuZHNIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzO21vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHMuYnVtcFRvcE9iamVjdHNJbnRvQm91bmRzPWJ1bXBUb3BPYmplY3RzSW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0czt2YXIgQmxvY2tEcmFnU3RyYXRlZ3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRibG9ja19kcmFnX3N0cmF0ZWd5PWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuYmxvY2s9YTt0aGlzLmNvbm5lY3Rpb25QcmV2aWV3ZXI9dGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlPXRoaXMuc3RhcnRMb2M9dGhpcy5zdGFydENoaWxkQ29ubj10aGlzLnN0YXJ0UGFyZW50Q29ubj1udWxsO3RoaXMuZHJhZ2dpbmc9ITE7dGhpcy5kcmFnT2Zmc2V0PW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMub3JpZ2luYWxFdmVudEdyb3VwPVwiXCI7dGhpcy53b3Jrc3BhY2U9YS53b3Jrc3BhY2V9aXNNb3ZhYmxlKCl7aWYodGhpcy5ibG9jay5pc1NoYWRvdygpKXtsZXQgYSxiO3JldHVybihiPShhPXRoaXMuYmxvY2suZ2V0UGFyZW50KCkpPT1udWxsP3ZvaWQgMDphLmlzTW92YWJsZSgpKSE9bnVsbD9iOiExfXJldHVybiB0aGlzLmJsb2NrLmlzT3duTW92YWJsZSgpJiZcbiF0aGlzLmJsb2NrLmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMud29ya3NwYWNlLmlzUmVhZE9ubHkoKSYmIXRoaXMuYmxvY2suaXNJbkZseW91dH1zdGFydERyYWcoYSl7aWYodGhpcy5ibG9jay5pc1NoYWRvdygpKXRoaXMuc3RhcnREcmFnZ2luZ1NoYWRvdyhhKTtlbHNle3RoaXMuZHJhZ2dpbmc9ITA7dGhpcy5maXJlRHJhZ1N0YXJ0RXZlbnQoKTt0aGlzLnN0YXJ0TG9jPXRoaXMuYmxvY2suZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3RoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZT1udWxsO3RoaXMuY29ubmVjdGlvblByZXZpZXdlcj1uZXcgKGdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQ09OTkVDVElPTl9QUkVWSUVXRVIsdGhpcy53b3Jrc3BhY2Uub3B0aW9ucykpKHRoaXMuYmxvY2spO3N0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTtcbnRoaXMud29ya3NwYWNlLnNldFJlc2l6ZXNFbmFibGVkKCExKTtkaXNjb25uZWN0VWlTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucygpO2E9dGhpcy5zaG91bGRIZWFsU3RhY2soYSk7dGhpcy5zaG91bGREaXNjb25uZWN0KGEpJiZ0aGlzLmRpc2Nvbm5lY3RCbG9jayhhKTt0aGlzLmJsb2NrLnNldERyYWdnaW5nKCEwKTt2YXIgYjsoYj10aGlzLndvcmtzcGFjZS5nZXRMYXllck1hbmFnZXIoKSk9PW51bGx8fGIubW92ZVRvRHJhZ0xheWVyKHRoaXMuYmxvY2spfX1zaG91bGRIZWFsU3RhY2soYSl7cmV0dXJuISFhJiYoYS5hbHRLZXl8fGEuY3RybEtleXx8YS5tZXRhS2V5KX1zdGFydERyYWdnaW5nU2hhZG93KGEpe2NvbnN0IGI9dGhpcy5ibG9jay5nZXRQYXJlbnQoKTtpZighYil0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGRyYWcgYSBzaGFkb3cgYmxvY2sgd2l0aCBubyBwYXJlbnQuIFNoYWRvdyBibG9ja3Mgc2hvdWxkIGFsd2F5cyBoYXZlIHBhcmVudHMuXCIpO1xudGhpcy5kcmFnT2Zmc2V0PUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UoYi5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksdGhpcy5ibG9jay5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpO2Iuc3RhcnREcmFnKGEpfXNob3VsZERpc2Nvbm5lY3QoYSl7cmV0dXJuISEodGhpcy5ibG9jay5nZXRQYXJlbnQoKXx8YSYmdGhpcy5ibG9jay5uZXh0Q29ubmVjdGlvbiYmdGhpcy5ibG9jay5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpKX1kaXNjb25uZWN0QmxvY2soYSl7bGV0IGIsYyxkO3RoaXMuc3RhcnRQYXJlbnRDb25uPShkPShiPXRoaXMuYmxvY2sub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmIudGFyZ2V0Q29ubmVjdGlvbikhPW51bGw/ZDooYz10aGlzLmJsb2NrLnByZXZpb3VzQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmMudGFyZ2V0Q29ubmVjdGlvbjtpZihhKXtsZXQgZTt0aGlzLnN0YXJ0Q2hpbGRDb25uPVxuKGU9dGhpcy5ibG9jay5uZXh0Q29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmUudGFyZ2V0Q29ubmVjdGlvbn10aGlzLmJsb2NrLnVucGx1ZyhhKTtkaXNjb25uZWN0VWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKHRoaXMuYmxvY2spfWZpcmVEcmFnU3RhcnRFdmVudCgpe2NvbnN0IGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRFJBRykpKHRoaXMuYmxvY2ssITAsdGhpcy5ibG9jay5nZXREZXNjZW5kYW50cyghMSkpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9ZmlyZURyYWdFbmRFdmVudCgpe2NvbnN0IGE9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRFJBRykpKHRoaXMuYmxvY2ssXG4hMSx0aGlzLmJsb2NrLmdldERlc2NlbmRhbnRzKCExKSk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX1maXJlTW92ZUV2ZW50KCl7aWYoIXRoaXMuYmxvY2suaXNEZWFkT3JEeWluZygpKXt2YXIgYT1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFKSkodGhpcy5ibG9jayk7YS5zZXRSZWFzb24oW1wiZHJhZ1wiXSk7YS5vbGRDb29yZGluYXRlPXRoaXMuc3RhcnRMb2M7YS5yZWNvcmROZXcoKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfX1kcmFnKGEpe2lmKHRoaXMuYmxvY2suaXNTaGFkb3coKSl7bGV0IGI7KGI9dGhpcy5ibG9jay5nZXRQYXJlbnQoKSk9PW51bGx8fGIuZHJhZyhDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYSx0aGlzLmRyYWdPZmZzZXQpKX1lbHNlIHRoaXMuYmxvY2subW92ZUR1cmluZ0RyYWcoYSksXG50aGlzLnVwZGF0ZUNvbm5lY3Rpb25QcmV2aWV3KHRoaXMuYmxvY2ssQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlmZmVyZW5jZShhLHRoaXMuc3RhcnRMb2MpKX11cGRhdGVDb25uZWN0aW9uUHJldmlldyhhLGIpe3ZhciBjPXRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZTtjb25zdCBkPXRoaXMuZ2V0Q29ubmVjdGlvbkNhbmRpZGF0ZShhLGIpO2lmKGQpe3RoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZT1iPWMmJnRoaXMuY3VyckNhbmRpZGF0ZUlzQmV0dGVyKGMsYixkKT9jOmQ7dmFyIHtsb2NhbDplLG5laWdoYm91cjpmfT1iO2I9ZS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFfHxlLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5QUkVWSU9VU19TVEFURU1FTlQ7dmFyIGc7Yz1mLmlzQ29ubmVjdGVkKCkmJlxuISgoZz1mLnRhcmdldEJsb2NrKCkpPT1udWxsPzA6Zy5pc0luc2VydGlvbk1hcmtlcigpKTtpZihiJiZjJiYhdGhpcy5vcnBoYW5DYW5Db25uZWN0QXRFbmQoYSxmLnRhcmdldEJsb2NrKCksZS50eXBlKSl7bGV0IGs7KGs9dGhpcy5jb25uZWN0aW9uUHJldmlld2VyKT09bnVsbHx8ay5wcmV2aWV3UmVwbGFjZW1lbnQoZSxmLGYudGFyZ2V0QmxvY2soKSl9ZWxzZXt2YXIgaDsoaD10aGlzLmNvbm5lY3Rpb25QcmV2aWV3ZXIpPT1udWxsfHxoLnByZXZpZXdDb25uZWN0aW9uKGUsZil9fWVsc2V7bGV0IGs7KGs9dGhpcy5jb25uZWN0aW9uUHJldmlld2VyKT09bnVsbHx8ay5oaWRlUHJldmlldygpO3RoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZT1udWxsfX1vcnBoYW5DYW5Db25uZWN0QXRFbmQoYSxiLGMpe3JldHVybiEhQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uZ2V0Q29ubmVjdGlvbkZvck9ycGhhbmVkQ29ubmVjdGlvbihhLGM9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUU/XG5iLm91dHB1dENvbm5lY3Rpb246Yi5wcmV2aW91c0Nvbm5lY3Rpb24pfWN1cnJDYW5kaWRhdGVJc0JldHRlcihhLGIsYyl7Y29uc3Qge2xvY2FsOmQsbmVpZ2hib3VyOmV9PWE7YT1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoZC54LGQueSk7Y29uc3QgZj1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoZS54LGUueSk7Yj1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaXN0YW5jZShDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oYSxiKSxmKTtyZXR1cm4gYy5kaXN0YW5jZT5iLSQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLmN1cnJlbnRDb25uZWN0aW9uUHJlZmVyZW5jZX1nZXRDb25uZWN0aW9uQ2FuZGlkYXRlKGEsYil7YT10aGlzLmdldExvY2FsQ29ubmVjdGlvbnMoYSk7XG5sZXQgYz10aGlzLmdldFNlYXJjaFJhZGl1cygpLGQ9bnVsbDtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCB7Y29ubmVjdGlvbjpmLHJhZGl1czpnfT1lLmNsb3Nlc3QoYyxiKTtmJiYoZD17bG9jYWw6ZSxuZWlnaGJvdXI6ZixkaXN0YW5jZTpnfSxjPWcpfXJldHVybiBkfWdldFNlYXJjaFJhZGl1cygpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25DYW5kaWRhdGU/JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuY29ubmVjdGluZ1NuYXBSYWRpdXM6JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuc25hcFJhZGl1c31nZXRMb2NhbENvbm5lY3Rpb25zKGEpe2NvbnN0IGI9YS5nZXRDb25uZWN0aW9uc18oITEpLGM9YS5sYXN0Q29ubmVjdGlvbkluU3RhY2soITApO2MmJmMhPT1hLm5leHRDb25uZWN0aW9uJiZiLnB1c2goYyk7cmV0dXJuIGJ9ZW5kRHJhZyhhKXtpZih0aGlzLmJsb2NrLmlzU2hhZG93KCkpe2xldCBjOyhjPXRoaXMuYmxvY2suZ2V0UGFyZW50KCkpPT1cbm51bGx8fGMuZW5kRHJhZyhhKX1lbHNle3RoaXMub3JpZ2luYWxFdmVudEdyb3VwPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0aGlzLmZpcmVEcmFnRW5kRXZlbnQoKTt0aGlzLmZpcmVNb3ZlRXZlbnQoKTtzdG9wVGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTtkaXNjb25uZWN0VWlTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucygpO3ZhciBiOyhiPXRoaXMuY29ubmVjdGlvblByZXZpZXdlcik9PW51bGx8fGIuaGlkZVByZXZpZXcoKTtpZighdGhpcy5ibG9jay5pc0RlYWRPckR5aW5nKCkmJnRoaXMuZHJhZ2dpbmcpe2xldCBjOyhjPXRoaXMud29ya3NwYWNlLmdldExheWVyTWFuYWdlcigpKT09bnVsbHx8Yy5tb3ZlT2ZmRHJhZ0xheWVyKHRoaXMuYmxvY2ssQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpO3RoaXMuYmxvY2suc2V0RHJhZ2dpbmcoITEpfXRoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZT9cbih0aGlzLmFwcGx5Q29ubmVjdGlvbnModGhpcy5jb25uZWN0aW9uQ2FuZGlkYXRlKSx0aGlzLmRpc3Bvc2VTdGVwKCkpOnRoaXMuYmxvY2sucXVldWVSZW5kZXIoKS50aGVuKCgpPT50aGlzLmRpc3Bvc2VTdGVwKCkpfX1kaXNwb3NlU3RlcCgpe2NvbnN0IGE9JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHModGhpcy5vcmlnaW5hbEV2ZW50R3JvdXApO3RoaXMuYmxvY2suc25hcFRvR3JpZCgpO2xldCBiOyhiPXRoaXMuY29ubmVjdGlvblByZXZpZXdlcik9PW51bGx8fGIuZGlzcG9zZSgpO3RoaXMud29ya3NwYWNlLnNldFJlc2l6ZXNFbmFibGVkKCEwKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpfWFwcGx5Q29ubmVjdGlvbnMoYSl7Y29uc3Qge2xvY2FsOmIsbmVpZ2hib3VyOmN9PWE7Yi5jb25uZWN0KGMpO2NvbnN0IGQ9XG5iLmlzU3VwZXJpb3IoKT9jOmIsZT10aGlzLmJsb2NrLmdldFJvb3RCbG9jaygpO2ZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpLnRoZW4oKCk9Pntjb25uZWN0aW9uVWlFZmZlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19hbmltYXRpb25zKGQuZ2V0U291cmNlQmxvY2soKSk7c2V0VGltZW91dCgoKT0+e2UuYnJpbmdUb0Zyb250KCl9LDApfSl9cmV2ZXJ0RHJhZygpe2lmKHRoaXMuYmxvY2suaXNTaGFkb3coKSl7bGV0IGM7KGM9dGhpcy5ibG9jay5nZXRQYXJlbnQoKSk9PW51bGx8fGMucmV2ZXJ0RHJhZygpfWVsc2V7dmFyIGE7KGE9dGhpcy5jb25uZWN0aW9uUHJldmlld2VyKT09bnVsbHx8YS5oaWRlUHJldmlldygpO3RoaXMuY29ubmVjdGlvbkNhbmRpZGF0ZT1udWxsO3ZhciBiOyhiPXRoaXMuc3RhcnRDaGlsZENvbm4pPT1udWxsfHxiLmNvbm5lY3QodGhpcy5ibG9jay5uZXh0Q29ubmVjdGlvbik7aWYodGhpcy5zdGFydFBhcmVudENvbm4pc3dpdGNoKHRoaXMuc3RhcnRQYXJlbnRDb25uLnR5cGUpe2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUU6dGhpcy5zdGFydFBhcmVudENvbm4uY29ubmVjdCh0aGlzLmJsb2NrLm91dHB1dENvbm5lY3Rpb24pO1xuYnJlYWs7Y2FzZSBDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVDp0aGlzLnN0YXJ0UGFyZW50Q29ubi5jb25uZWN0KHRoaXMuYmxvY2sucHJldmlvdXNDb25uZWN0aW9uKX1lbHNle3RoaXMuYmxvY2subW92ZVRvKHRoaXMuc3RhcnRMb2MsW1wiZHJhZ1wiXSk7bGV0IGM7KGM9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCkpPT1udWxsfHxjLm1vdmVPZmZEcmFnTGF5ZXIodGhpcy5ibG9jayxCTE9DSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyk7YnVtcE9iamVjdEludG9Cb3VuZHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidW1wX29iamVjdHModGhpcy53b3Jrc3BhY2UsdGhpcy53b3Jrc3BhY2UuZ2V0TWV0cmljc01hbmFnZXIoKS5nZXRTY3JvbGxNZXRyaWNzKCEwKSx0aGlzLmJsb2NrKX10aGlzLnN0YXJ0UGFyZW50Q29ubj10aGlzLnN0YXJ0Q2hpbGRDb25uPW51bGw7dGhpcy5ibG9jay5zZXREcmFnZ2luZyghMSk7XG50aGlzLmRyYWdnaW5nPSExfX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRibG9ja19kcmFnX3N0cmF0ZWd5PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRibG9ja19kcmFnX3N0cmF0ZWd5LkJsb2NrRHJhZ1N0cmF0ZWd5PUJsb2NrRHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYmxvY2tfZHJhZ19zdHJhdGVneTt2YXIgVGV4dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dF9idWJibGU9Y2xhc3MgZXh0ZW5kcyBCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJGJ1YmJsZXtjb25zdHJ1Y3RvcihhLGIsYyxkKXtzdXBlcihiLGMsZCk7dGhpcy50ZXh0PWE7dGhpcy53b3Jrc3BhY2U9Yjt0aGlzLmFuY2hvcj1jO3RoaXMub3duZXJSZWN0PWQ7dGhpcy5wYXJhZ3JhcGg9dGhpcy5zdHJpbmdUb1N2ZyhhLHRoaXMuY29udGVudENvbnRhaW5lcik7dGhpcy51cGRhdGVCdWJibGVTaXplKCk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseVRleHRCdWJibGVcIil9Z2V0VGV4dCgpe3JldHVybiB0aGlzLnRleHR9c2V0VGV4dChhKXt0aGlzLnRleHQ9YTtyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMucGFyYWdyYXBoKTt0aGlzLnBhcmFncmFwaD10aGlzLnN0cmluZ1RvU3ZnKGEsXG50aGlzLmNvbnRlbnRDb250YWluZXIpO3RoaXMudXBkYXRlQnViYmxlU2l6ZSgpfXN0cmluZ1RvU3ZnKGEsYil7Yj10aGlzLmNyZWF0ZVBhcmFncmFwaChiKTthPXRoaXMuY3JlYXRlVGV4dEZyYWdtZW50cyhiLGEpO3RoaXMud29ya3NwYWNlLlJUTCYmdGhpcy5yaWdodEFsaWduVGV4dEZyYWdtZW50cyhiLmdldEJCb3goKS53aWR0aCxhKTtyZXR1cm4gYn1jcmVhdGVQYXJhZ3JhcGgoYSl7cmV0dXJuIGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse1wiY2xhc3NcIjpcImJsb2NrbHlUZXh0IGJsb2NrbHlCdWJibGVUZXh0IGJsb2NrbHlOb1BvaW50ZXJFdmVudHNcIix0cmFuc2Zvcm06YHRyYW5zbGF0ZSgwLCR7QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIfSlgLHN0eWxlOmBkaXJlY3Rpb246ICR7dGhpcy53b3Jrc3BhY2UuUlRMP1xuXCJydGxcIjpcImx0clwifWB9LGEpfWNyZWF0ZVRleHRGcmFnbWVudHMoYSxiKXtsZXQgYz0xO3JldHVybiBiLnNwbGl0KFwiXFxuXCIpLm1hcChkPT57Y29uc3QgZT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5URVhULHt5OmAke2N9ZW1gLHg6QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIfSxhKTtkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGQpO2UuYXBwZW5kQ2hpbGQoZCk7Yys9MTtyZXR1cm4gZX0pfXJpZ2h0QWxpZ25UZXh0RnJhZ21lbnRzKGEsYil7Zm9yKGNvbnN0IGMgb2YgYiljLnNldEF0dHJpYnV0ZShcInRleHQtYW5jaG9yXCIsXCJzdGFydFwiKSxjLnNldEF0dHJpYnV0ZShcInhcIixgJHthK0J1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkYnViYmxlLkJPUkRFUl9XSURUSH1gKX11cGRhdGVCdWJibGVTaXplKCl7Y29uc3QgYT1cbnRoaXMucGFyYWdyYXBoLmdldEJCb3goKTt0aGlzLnNldFNpemUobmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGEud2lkdGgrQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIKjIsYS5oZWlnaHQrQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGUuQk9SREVSX1dJRFRIKjIpLCEwKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRfYnViYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRfYnViYmxlLlRleHRCdWJibGU9VGV4dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dF9idWJibGU7dmFyIFNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb249MTcsV2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb249Y2xhc3MgZXh0ZW5kcyBJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnNvdXJjZUJsb2NrPWE7dGhpcy50ZXh0TWFwPW5ldyBNYXA7dGhpcy50ZXh0QnViYmxlPW51bGx9Z2V0VHlwZSgpe3JldHVybiBXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi5UWVBFfWluaXRWaWV3KGEpe3RoaXMuc3ZnUm9vdHx8KHN1cGVyLmluaXRWaWV3KGEpLGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEgse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU2hhcGVcIixkOlwiTTIsMTVRLTEsMTUgMC41LDEyTDYuNSwxLjdROCwtMSA5LjUsMS43TDE1LjUsMTJRMTcsMTUgMTQsMTV6XCJ9LFxudGhpcy5zdmdSb290KSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblN5bWJvbFwiLGQ6XCJtNyw0Ljh2My4xNmwwLjI3LDIuMjdoMS40NmwwLjI3LC0yLjI3di0zLjE2elwifSx0aGlzLnN2Z1Jvb3QpLGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU3ltYm9sXCIseDpcIjdcIix5OlwiMTFcIixoZWlnaHQ6XCIyXCIsd2lkdGg6XCIyXCJ9LHRoaXMuc3ZnUm9vdCksYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseVdhcm5pbmdJY29uXCIpKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpO2xldCBhOyhhPXRoaXMudGV4dEJ1YmJsZSk9PW51bGx8fFxuYS5kaXNwb3NlKCl9Z2V0V2VpZ2h0KCl7cmV0dXJuIFdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLldFSUdIVH1nZXRTaXplKCl7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLFNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24pfWFwcGx5Q29sb3VyKCl7c3VwZXIuYXBwbHlDb2xvdXIoKTtsZXQgYTsoYT10aGlzLnRleHRCdWJibGUpPT1udWxsfHxhLnNldENvbG91cih0aGlzLnNvdXJjZUJsb2NrLmdldENvbG91cigpKX11cGRhdGVDb2xsYXBzZWQoKXt9aXNTaG93bldoZW5Db2xsYXBzZWQoKXtyZXR1cm4hMH1vbkxvY2F0aW9uQ2hhbmdlKGEpe3N1cGVyLm9uTG9jYXRpb25DaGFuZ2UoYSk7bGV0IGI7KGI9dGhpcy50ZXh0QnViYmxlKT09bnVsbHx8Yi5zZXRBbmNob3JMb2NhdGlvbih0aGlzLmdldEFuY2hvckxvY2F0aW9uKCkpfWFkZE1lc3NhZ2UoYSxcbmIpe2lmKHRoaXMudGV4dE1hcC5nZXQoYik9PT1hKXJldHVybiB0aGlzO2E/dGhpcy50ZXh0TWFwLnNldChiLGEpOnRoaXMudGV4dE1hcC5kZWxldGUoYik7bGV0IGM7KGM9dGhpcy50ZXh0QnViYmxlKT09bnVsbHx8Yy5zZXRUZXh0KHRoaXMuZ2V0VGV4dCgpKTtyZXR1cm4gdGhpc31nZXRUZXh0KCl7cmV0dXJuWy4uLnRoaXMudGV4dE1hcC52YWx1ZXMoKV0uam9pbihcIlxcblwiKX1vbkNsaWNrKCl7c3VwZXIub25DbGljaygpO3RoaXMuc2V0QnViYmxlVmlzaWJsZSghdGhpcy5idWJibGVJc1Zpc2libGUoKSl9aXNDbGlja2FibGVJbkZseW91dCgpe3JldHVybiExfWJ1YmJsZUlzVmlzaWJsZSgpe3JldHVybiEhdGhpcy50ZXh0QnViYmxlfXNldEJ1YmJsZVZpc2libGUoYSl7Y29uc3QgYj10aGlzO3JldHVybigwLCRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvckZ1bmN0aW9uKShmdW5jdGlvbiooKXtpZihiLmJ1YmJsZUlzVmlzaWJsZSgpIT09YSl7eWllbGQgZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCk7XG5pZihhKWIudGV4dEJ1YmJsZT1uZXcgVGV4dEJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkdGV4dF9idWJibGUoYi5nZXRUZXh0KCksYi5zb3VyY2VCbG9jay53b3Jrc3BhY2UsYi5nZXRBbmNob3JMb2NhdGlvbigpLGIuZ2V0QnViYmxlT3duZXJSZWN0KCkpLGIuYXBwbHlDb2xvdXIoKTtlbHNle2xldCBjOyhjPWIudGV4dEJ1YmJsZSk9PW51bGx8fGMuZGlzcG9zZSgpO2IudGV4dEJ1YmJsZT1udWxsfWZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQlVCQkxFX09QRU4pKShiLnNvdXJjZUJsb2NrLGEsXCJ3YXJuaW5nXCIpKX19KX1nZXRCdWJibGUoKXtyZXR1cm4gdGhpcy50ZXh0QnViYmxlfWdldEFuY2hvckxvY2F0aW9uKCl7Y29uc3QgYT1TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uL1xuMjtyZXR1cm4gQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKHRoaXMud29ya3NwYWNlTG9jYXRpb24sbmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEsYSkpfWdldEJ1YmJsZU93bmVyUmVjdCgpe2NvbnN0IGE9dGhpcy5zb3VyY2VCbG9jay5nZXRTdmdSb290KCkuZ2V0QkJveCgpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYS55LGEueSthLmhlaWdodCxhLngsYS54K2Eud2lkdGgpfX07V2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24uVFlQRT1JY29uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb25fdHlwZXMuV0FSTklORztXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbi5XRUlHSFQ9MjtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24uV2FybmluZ0ljb249V2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb247dmFyIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnPWNsYXNzIGV4dGVuZHMgQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3tjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSxiLGMpO3RoaXMuY2hpbGRsZXNzV2lkdGg9dGhpcy53aWR0aD10aGlzLmhlaWdodD0wO3RoaXMud2FybmluZ1RleHREYj1uZXcgTWFwO3RoaXMubXV0YXRvcj1udWxsO3RoaXMucmVuZGVyZWQ9ITA7dGhpcy52aXN1YWxseURpc2FibGVkPSExO3RoaXMudHJhbnNsYXRpb249XCJcIjt0aGlzLmRyYWdnaW5nPSExO3RoaXMucmVsYXRpdmVDb29yZHM9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5kcmFnU3RyYXRlZ3k9bmV3IEJsb2NrRHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckYmxvY2tfZHJhZ19zdHJhdGVneSh0aGlzKTtpZighYS5yZW5kZXJlZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgcmVuZGVyZWQgYmxvY2sgaW4gYSBoZWFkbGVzcyB3b3Jrc3BhY2VcIik7XG50aGlzLndvcmtzcGFjZT1hO3RoaXMuc3ZnR3JvdXA9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7fSk7YiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxiKTt0aGlzLnN0eWxlPWEuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKS5nZXRCbG9ja1N0eWxlKG51bGwpO3RoaXMucGF0aE9iamVjdD1hLmdldFJlbmRlcmVyKCkubWFrZVBhdGhPYmplY3QodGhpcy5zdmdHcm91cCx0aGlzLnN0eWxlKTthPXRoaXMucGF0aE9iamVjdC5zdmdQYXRoO2EudG9vbHRpcD10aGlzO2JpbmRNb3VzZUV2ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoYSk7dGhpcy5zdmdHcm91cC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsdGhpcy5pZCk7YS5pZD1nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO1xudGhpcy5kb0luaXRfKCl9aW5pdFN2Zygpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtmb3IodmFyIGEgb2YgdGhpcy5pbnB1dExpc3QpYS5pbml0KCk7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRJY29ucygpKWIuaW5pdFZpZXcodGhpcy5jcmVhdGVJY29uUG9pbnRlckRvd25MaXN0ZW5lcihiKSksYi51cGRhdGVFZGl0YWJsZSgpO3RoaXMuYXBwbHlDb2xvdXIoKTt0aGlzLnBhdGhPYmplY3QudXBkYXRlTW92YWJsZSh0aGlzLmlzTW92YWJsZSgpfHx0aGlzLmlzSW5GbHlvdXQpOyhhPXRoaXMuZ2V0U3ZnUm9vdCgpKSYmY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duKTthLnBhcmVudE5vZGV8fHRoaXMud29ya3NwYWNlLmdldENhbnZhcygpLmFwcGVuZENoaWxkKGEpO3RoaXMuaW5pdGlhbGl6ZWQ9ITB9fWdldENvbG91clNlY29uZGFyeSgpe3JldHVybiB0aGlzLnN0eWxlLmNvbG91clNlY29uZGFyeX1nZXRDb2xvdXJUZXJ0aWFyeSgpe3JldHVybiB0aGlzLnN0eWxlLmNvbG91clRlcnRpYXJ5fXNlbGVjdCgpe3RoaXMuYWRkU2VsZWN0KCk7XG5maXJlU2VsZWN0ZWRFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzKX11bnNlbGVjdCgpe3RoaXMucmVtb3ZlU2VsZWN0KCk7ZmlyZVNlbGVjdGVkRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24obnVsbCl9c2V0UGFyZW50KGEpe3ZhciBiPXRoaXMucGFyZW50QmxvY2tfO2lmKGEhPT1iKXtzdGFydFRleHRXaWR0aENhY2hlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKCk7c3VwZXIuc2V0UGFyZW50KGEpO3N0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSgpO3ZhciBjPXRoaXMuZ2V0U3ZnUm9vdCgpO2lmKCF0aGlzLndvcmtzcGFjZS5pc0NsZWFyaW5nJiZjKXt2YXIgZD10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxlPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCksZixnPXRoaXMuZ2V0U3ZnUm9vdCgpLmNvbnRhaW5zKChmPVxuZT09bnVsbD92b2lkIDA6ZS5nZXRGb2N1c2FibGVFbGVtZW50KCkpIT1udWxsP2Y6bnVsbCk7YT8oYS5nZXRTdmdSb290KCkuYXBwZW5kQ2hpbGQoYyksZyYmZSYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGUpKTpiJiYoYT10aGlzLndvcmtzcGFjZS5nZXRDYW52YXMoKS5xdWVyeVNlbGVjdG9yKFwiLmJsb2NrbHlEcmFnZ2luZ1wiKSxiPWE9PW51bGw/dm9pZCAwOmEucGFyZW50RWxlbWVudCxmPXRoaXMud29ya3NwYWNlLmdldENhbnZhcygpLGI9PT1mP2YuaW5zZXJ0QmVmb3JlKGMsYSk6KGYuYXBwZW5kQ2hpbGQoYyksZyYmZSYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGUpKSx0aGlzLnRyYW5zbGF0ZShkLngsZC55KSk7dGhpcy5hcHBseUNvbG91cigpfX19Z2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpe2NvbnN0IGE9dGhpcy53b3Jrc3BhY2UuZ2V0TGF5ZXJNYW5hZ2VyKCk7XG5pZighYSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjYWxjdWxhdGUgcG9zaXRpb24gYmVjYXVzZSB0aGUgd29ya3NwYWNlIGhhcyBub3QgYmVlbiBhcHBlbmRlZFwiKTtsZXQgYj0wLGM9MCxkPXRoaXMuZ2V0U3ZnUm9vdCgpO2lmKGQpe2Rve2NvbnN0IGU9Z2V0UmVsYXRpdmVYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKGQpO2IrPWUueDtjKz1lLnk7ZD1kLnBhcmVudE5vZGV9d2hpbGUoZCYmIWEuaGFzTGF5ZXIoZCkpfXJldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYixjKX1tb3ZlQnkoYSxiLGMpe2lmKHRoaXMucGFyZW50QmxvY2tfKXRocm93IEVycm9yKFwiQmxvY2sgaGFzIHBhcmVudFwiKTtjb25zdCBkPWlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO2xldCBlPW51bGw7ZCYmKGU9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRSkpKHRoaXMpLFxuYyYmZS5zZXRSZWFzb24oYykpO2E9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEsYik7Yj10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTthPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShiLGEpO3RoaXMudHJhbnNsYXRlKGEueCxhLnkpO3RoaXMudXBkYXRlQ29tcG9uZW50TG9jYXRpb25zKGEpO2QmJmUmJihlLnJlY29yZE5ldygpLGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZSkpO3RoaXMud29ya3NwYWNlLnJlc2l6ZUNvbnRlbnRzKCl9dHJhbnNsYXRlKGEsYil7dGhpcy50cmFuc2xhdGlvbj1gdHJhbnNsYXRlKCR7YX0sICR7Yn0pYDt0aGlzLnJlbGF0aXZlQ29vcmRzPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLGIpO3RoaXMuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFxudGhpcy5nZXRUcmFuc2xhdGlvbigpKX1nZXRUcmFuc2xhdGlvbigpe3JldHVybiB0aGlzLnRyYW5zbGF0aW9ufW1vdmVUbyhhLGIpe2NvbnN0IGM9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dGhpcy5tb3ZlQnkoYS54LWMueCxhLnktYy55LGIpfW1vdmVEdXJpbmdEcmFnKGEpe3RoaXMudHJhbnNsYXRlKGEueCxhLnkpO3RoaXMuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLHRoaXMuZ2V0VHJhbnNsYXRpb24oKSk7dGhpcy51cGRhdGVDb21wb25lbnRMb2NhdGlvbnMoYSl9c25hcFRvR3JpZCgpe2lmKCF0aGlzLmlzRGVhZE9yRHlpbmcoKSYmIXRoaXMuZ2V0UGFyZW50KCkmJiF0aGlzLmlzSW5GbHlvdXQpe3ZhciBhPXRoaXMud29ya3NwYWNlLmdldEdyaWQoKTtpZihhIT1udWxsJiZhLnNob3VsZFNuYXAoKSl7dmFyIGI9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7YT1hLmFsaWduWFkoYik7YSE9PWImJnRoaXMubW92ZVRvKGEsW1wic25hcFwiXSl9fX1nZXRCb3VuZGluZ1JlY3RhbmdsZSgpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nUmVjdGFuZ2xlV2l0aERpbWVuc2lvbnModGhpcy5nZXRIZWlnaHRXaWR0aCgpKX1nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhvdXRDaGlsZHJlbigpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nUmVjdGFuZ2xlV2l0aERpbWVuc2lvbnMoe2hlaWdodDp0aGlzLmhlaWdodCxcbndpZHRoOnRoaXMuY2hpbGRsZXNzV2lkdGh9KX1nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhEaW1lbnNpb25zKGEpe2NvbnN0IGI9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7bGV0IGMsZDt0aGlzLlJUTD8oYz1iLngtYS53aWR0aCxkPWIueCk6KGM9Yi54LGQ9Yi54K2Eud2lkdGgpO3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoYi55LGIueSthLmhlaWdodCxjLGQpfW1hcmtEaXJ0eSgpe3RoaXMucGF0aE9iamVjdC5jb25zdGFudHM9dGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKTtmb3IobGV0IGE9MCxiO2I9dGhpcy5pbnB1dExpc3RbYV07YSsrKWIubWFya0RpcnR5KCl9c2V0Q29sbGFwc2VkKGEpe3RoaXMuY29sbGFwc2VkXyE9PWEmJihzdXBlci5zZXRDb2xsYXBzZWQoYSksdGhpcy51cGRhdGVDb2xsYXBzZWQoKSl9Y2hpbGRIYXNXYXJuaW5nKCl7Y29uc3QgYT10aGlzLmdldENoaWxkcmVuKCExKTtcbmZvcihjb25zdCBiIG9mIGEpaWYoYi5nZXRJY29uKFdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLlRZUEUpfHxiLmNoaWxkSGFzV2FybmluZygpKXJldHVybiEwO3JldHVybiExfXVwZGF0ZUNvbGxhcHNlZCgpe3ZhciBhPXRoaXMuaXNDb2xsYXBzZWQoKTtjb25zdCBiPUNPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzLGM9Q09MTEFQU0VEX0ZJRUxEX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHM7Zm9yKGxldCBlPTAsZjtmPXRoaXMuaW5wdXRMaXN0W2VdO2UrKylmLm5hbWUhPT1iJiZmLnNldFZpc2libGUoIWEpO2Zvcih2YXIgZCBvZiB0aGlzLmdldEljb25zKCkpZC51cGRhdGVDb2xsYXBzZWQoKTthPyhhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLFwiYmxvY2tseUNvbGxhcHNlZFwiKSx0aGlzLmNoaWxkSGFzV2FybmluZygpJiZcbnRoaXMuc2V0V2FybmluZ1RleHQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ09MTEFQU0VEX1dBUk5JTkdTX1dBUk5JTkcsQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQpLGE9dGhpcy50b1N0cmluZyhDT0xMQVBTRV9DSEFSUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyksKGQ9dGhpcy5nZXRGaWVsZChjKSk/ZC5zZXRWYWx1ZShhKToodGhpcy5nZXRJbnB1dChiKXx8dGhpcy5hcHBlbmREdW1teUlucHV0KGIpKS5hcHBlbmRGaWVsZChuZXcgRmllbGRMYWJlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsKGEpLGMpKToodGhpcy51cGRhdGVEaXNhYmxlZCgpLHRoaXMucmVtb3ZlSW5wdXQoYikscmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCxcImJsb2NrbHlDb2xsYXBzZWRcIiksdGhpcy5zZXRXYXJuaW5nVGV4dChudWxsLFxuQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQpKX1vbk1vdXNlRG93bihhKXtpZighdGhpcy53b3Jrc3BhY2UuaXNSZWFkT25seSgpKXt2YXIgYj10aGlzLndvcmtzcGFjZS5nZXRHZXN0dXJlKGEpO2ImJmIuaGFuZGxlQmxvY2tTdGFydChhLHRoaXMpfX1zaG93SGVscCgpe2NvbnN0IGE9dHlwZW9mIHRoaXMuaGVscFVybD09PVwiZnVuY3Rpb25cIj90aGlzLmhlbHBVcmwoKTp0aGlzLmhlbHBVcmw7YSYmd2luZG93Lm9wZW4oYSl9Z2VuZXJhdGVDb250ZXh0TWVudShhKXtpZih0aGlzLndvcmtzcGFjZS5pc1JlYWRPbmx5KCl8fCF0aGlzLmNvbnRleHRNZW51KXJldHVybiBudWxsO2E9Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5LnJlZ2lzdHJ5LmdldENvbnRleHRNZW51T3B0aW9ucyh7YmxvY2s6dGhpcyxmb2N1c2VkTm9kZTp0aGlzfSxhKTt0aGlzLmN1c3RvbUNvbnRleHRNZW51JiZcbnRoaXMuY3VzdG9tQ29udGV4dE1lbnUoYSk7cmV0dXJuIGF9Y2FsY3VsYXRlQ29udGV4dE1lbnVMb2NhdGlvbihhKXtpZihhIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50KXJldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5jbGllbnRYLGEuY2xpZW50WSk7YT13c1RvU2NyZWVuQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCh0aGlzLndvcmtzcGFjZSx0aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSk7bGV0IGIsYztjb25zdCBkPShiPXRoaXMuaW5wdXRMaXN0LmZpbHRlcihlPT5lLmlzVmlzaWJsZSgpKS5mbGF0TWFwKGU9PmUuZmllbGRSb3cpLmZpbmQoZT0+ZS5pc1Zpc2libGUoKSkpPT1udWxsP3ZvaWQgMDooYz1iLmdldFN2Z1Jvb3QoKSk9PW51bGw/dm9pZCAwOmMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSh0aGlzLlJUTD9cbmEueC01OmEueCs1LChkJiZkLmhlaWdodD9kLnkrZC5oZWlnaHQ6YS55K3RoaXMuaGVpZ2h0KSs1KX1zaG93Q29udGV4dE1lbnUoYSl7Y29uc3QgYj10aGlzLmdlbmVyYXRlQ29udGV4dE1lbnUoYSksYz10aGlzLmNhbGN1bGF0ZUNvbnRleHRNZW51TG9jYXRpb24oYSk7YiYmYi5sZW5ndGgmJihzaG93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoYSxiLHRoaXMuUlRMLHRoaXMud29ya3NwYWNlLGMpLHNldEN1cnJlbnRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51KHRoaXMpKX11cGRhdGVDb21wb25lbnRMb2NhdGlvbnMoYSl7dGhpcy5kcmFnZ2luZ3x8dGhpcy51cGRhdGVDb25uZWN0aW9uTG9jYXRpb25zKGEpO3RoaXMudXBkYXRlSWNvbkxvY2F0aW9ucyhhKTt0aGlzLnVwZGF0ZUZpZWxkTG9jYXRpb25zKGEpO2Zvcihjb25zdCBiIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oITEpKWIudXBkYXRlQ29tcG9uZW50TG9jYXRpb25zKENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bShhLFxuYi5yZWxhdGl2ZUNvb3JkcykpfXVwZGF0ZUNvbm5lY3Rpb25Mb2NhdGlvbnMoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRDb25uZWN0aW9uc18oITEpKWIubW92ZVRvT2Zmc2V0KGEpfXVwZGF0ZUljb25Mb2NhdGlvbnMoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRJY29ucygpKWIub25Mb2NhdGlvbkNoYW5nZShhKX11cGRhdGVGaWVsZExvY2F0aW9ucyhhKXtmb3IoY29uc3QgYiBvZiB0aGlzLmlucHV0TGlzdClmb3IoY29uc3QgYyBvZiBiLmZpZWxkUm93KWMub25Mb2NhdGlvbkNoYW5nZShhKX1hZGRDbGFzcyhhKXthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLGEpfXJlbW92ZUNsYXNzKGEpe3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXAsYSl9c2V0RHJhZ2dpbmcoYSl7KHRoaXMuZHJhZ2dpbmc9YSk/KHRoaXMudHJhbnNsYXRpb249XCJcIixkcmFnZ2luZ0Nvbm5lY3Rpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLnB1c2goLi4udGhpcy5nZXRDb25uZWN0aW9uc18oITApKSxcbnRoaXMuYWRkQ2xhc3MoXCJibG9ja2x5RHJhZ2dpbmdcIikpOihkcmFnZ2luZ0Nvbm5lY3Rpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmxlbmd0aD0wLHRoaXMucmVtb3ZlQ2xhc3MoXCJibG9ja2x5RHJhZ2dpbmdcIikpO2ZvcihsZXQgYj0wO2I8dGhpcy5jaGlsZEJsb2Nrc18ubGVuZ3RoO2IrKyl0aGlzLmNoaWxkQmxvY2tzX1tiXS5zZXREcmFnZ2luZyhhKX1zZXRNb3ZhYmxlKGEpe3N1cGVyLnNldE1vdmFibGUoYSk7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZU1vdmFibGUoYSl9c2V0RWRpdGFibGUoYSl7c3VwZXIuc2V0RWRpdGFibGUoYSk7YT9yZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLFwiYmxvY2tseU5vdEVkaXRhYmxlXCIpOmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXAsXCJibG9ja2x5Tm90RWRpdGFibGVcIik7YT10aGlzLmdldEljb25zKCk7Zm9yKGxldCBiPVxuMDtiPGEubGVuZ3RoO2IrKylhW2JdLnVwZGF0ZUVkaXRhYmxlKCl9c2V0U2hhZG93KGEpe3N1cGVyLnNldFNoYWRvdyhhKTt0aGlzLmFwcGx5Q29sb3VyKCl9c2V0SW5zZXJ0aW9uTWFya2VyKGEpe3RoaXMuaXNJbnNlcnRpb25NYXJrZXJfIT09YSYmKHRoaXMuaXNJbnNlcnRpb25NYXJrZXJfPWEpJiYodGhpcy5zZXRDb2xvdXIodGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKS5JTlNFUlRJT05fTUFSS0VSX0NPTE9VUiksdGhpcy5wYXRoT2JqZWN0LnVwZGF0ZUluc2VydGlvbk1hcmtlcighMCkpfWdldFN2Z1Jvb3QoKXtyZXR1cm4gdGhpcy5zdmdHcm91cH1kaXNwb3NlKGEsYil7dGhpcy5kaXNwb3Npbmc9ITA7ZGlzcG9zZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKTtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUoKTtjb25zdCBjPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpO1xudmFyIGQsZTtpZih0aGlzLmdldFN2Z1Jvb3QoKS5jb250YWlucygoZT0oZD1jLmdldEZvY3VzZWROb2RlKCkpPT1udWxsP3ZvaWQgMDpkLmdldEZvY3VzYWJsZUVsZW1lbnQoKSkhPW51bGw/ZTpudWxsKSl7ZD10aGlzLmdldFBhcmVudCgpO2lmKCFkKXtsZXQgZjtpZihlPShmPXRoaXMub3V0cHV0Q29ubmVjdGlvbikhPW51bGw/Zjp0aGlzLnByZXZpb3VzQ29ubmVjdGlvbil7bGV0IGc7ZD0oZz1lLmNsb3Nlc3QoMCxuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoMCwwKSkuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmcuZ2V0U291cmNlQmxvY2soKX19ZD9jLmZvY3VzTm9kZShkKTpzZXRUaW1lb3V0KCgpPT5jLmZvY3VzVHJlZSh0aGlzLndvcmtzcGFjZSksMCl9YiYmKHRoaXMudW5wbHVnKGEpLGRpc3Bvc2VVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnModGhpcykpO3N1cGVyLmRpc3Bvc2UoISFhKTtcbnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCl9ZGlzcG9zZUludGVybmFsKCl7dGhpcy5kaXNwb3Npbmc9ITA7c3VwZXIuZGlzcG9zZUludGVybmFsKCk7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZ2V0Rm9jdXNlZE5vZGUoKT09PXRoaXMmJnRoaXMud29ya3NwYWNlLmNhbmNlbEN1cnJlbnRHZXN0dXJlKCk7Wy4uLnRoaXMud2FybmluZ1RleHREYi52YWx1ZXMoKV0uZm9yRWFjaChhPT5jbGVhclRpbWVvdXQoYSkpO3RoaXMud2FybmluZ1RleHREYi5jbGVhcigpO3RoaXMuZ2V0SWNvbnMoKS5mb3JFYWNoKGE9PmEuZGlzcG9zZSgpKX1jaGVja0FuZERlbGV0ZSgpe3RoaXMud29ya3NwYWNlLmlzRmx5b3V0fHwoJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCksdGhpcy53b3Jrc3BhY2UuaGlkZUNoYWZmKCksdGhpcy5vdXRwdXRDb25uZWN0aW9uP1xudGhpcy5kaXNwb3NlKCExLCEwKTp0aGlzLmRpc3Bvc2UoITAsITApLCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpKX10b0NvcHlEYXRhKGE9ITEpe3JldHVybiB0aGlzLmlzSW5zZXJ0aW9uTWFya2VyXz9udWxsOntwYXN0ZXI6QmxvY2tQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQkYmxvY2tfcGFzdGVyLlRZUEUsYmxvY2tTdGF0ZTpzYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3ModGhpcyx7YWRkQ29vcmRpbmF0ZXM6ITAsYWRkTmV4dEJsb2NrczphLHNhdmVJZHM6ITF9KSx0eXBlQ291bnRzOmdldEJsb2NrVHlwZUNvdW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzLCEwKX19YXBwbHlDb2xvdXIoKXt2YXIgYSxiOyhiPShhPXRoaXMucGF0aE9iamVjdCkuYXBwbHlDb2xvdXIpPT1udWxsfHxiLmNhbGwoYSx0aGlzKTthPXRoaXMuZ2V0SWNvbnMoKTtmb3IoYj1cbjA7YjxhLmxlbmd0aDtiKyspYVtiXS5hcHBseUNvbG91cigpO2Zvcihjb25zdCBjIG9mIHRoaXMuZ2V0RmllbGRzKCkpYy5hcHBseUNvbG91cigpfXVwZGF0ZURpc2FibGVkKCl7Y29uc3QgYT0hdGhpcy5pc0VuYWJsZWQoKXx8dGhpcy5nZXRJbmhlcml0ZWREaXNhYmxlZCgpO2lmKHRoaXMudmlzdWFsbHlEaXNhYmxlZD09PWEpe2xldCBiOyhiPXRoaXMuZ2V0TmV4dEJsb2NrKCkpPT1udWxsfHxiLnVwZGF0ZURpc2FibGVkKCl9ZWxzZXt0aGlzLmFwcGx5Q29sb3VyKCk7dGhpcy52aXN1YWxseURpc2FibGVkPWE7Zm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRDaGlsZHJlbighMSkpYi51cGRhdGVEaXNhYmxlZCgpfX1zZXRXYXJuaW5nVGV4dChhLGI9XCJcIil7aWYoYil0aGlzLndhcm5pbmdUZXh0RGIuaGFzKGIpJiYoY2xlYXJUaW1lb3V0KHRoaXMud2FybmluZ1RleHREYi5nZXQoYikpLHRoaXMud2FybmluZ1RleHREYi5kZWxldGUoYikpO2Vsc2V7Zm9yKHZhciBjIG9mIHRoaXMud2FybmluZ1RleHREYi52YWx1ZXMoKSljbGVhclRpbWVvdXQoYyk7XG50aGlzLndhcm5pbmdUZXh0RGIuY2xlYXIoKX1pZih0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCkpdGhpcy53YXJuaW5nVGV4dERiLnNldChiLHNldFRpbWVvdXQoKCk9Pnt0aGlzLmlzRGVhZE9yRHlpbmcoKXx8KHRoaXMud2FybmluZ1RleHREYi5kZWxldGUoYiksdGhpcy5zZXRXYXJuaW5nVGV4dChhLGIpKX0sMTAwKSk7ZWxzZSBpZih0aGlzLmlzSW5GbHlvdXQmJihhPW51bGwpLGM9dGhpcy5nZXRJY29uKFdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLlRZUEUpLGEpe2xldCBkPXRoaXMuZ2V0U3Vycm91bmRQYXJlbnQoKSxlPW51bGw7Zm9yKDtkOylkLmlzQ29sbGFwc2VkKCkmJihlPWQpLGQ9ZC5nZXRTdXJyb3VuZFBhcmVudCgpO2UmJmUuc2V0V2FybmluZ1RleHQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ09MTEFQU0VEX1dBUk5JTkdTX1dBUk5JTkcsQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQpO1xuYz9jLmFkZE1lc3NhZ2UoYSxiKTp0aGlzLmFkZEljb24oKG5ldyBXYXJuaW5nSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHdhcm5pbmdfaWNvbih0aGlzKSkuYWRkTWVzc2FnZShhLGIpKX1lbHNlIGMmJihiPyhjLmFkZE1lc3NhZ2UoXCJcIixiKSxjLmdldFRleHQoKXx8dGhpcy5yZW1vdmVJY29uKFdhcm5pbmdJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkd2FybmluZ19pY29uLlRZUEUpKTp0aGlzLnJlbW92ZUljb24oV2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb24uVFlQRSkpfXNldE11dGF0b3IoYSl7dGhpcy5yZW1vdmVJY29uKCQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24uVFlQRSk7YSYmdGhpcy5hZGRJY29uKGEpfWFkZEljb24oYSl7c3VwZXIuYWRkSWNvbihhKTthIGluc3RhbmNlb2YgJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbiYmXG4odGhpcy5tdXRhdG9yPWEpO2EuaW5pdFZpZXcodGhpcy5jcmVhdGVJY29uUG9pbnRlckRvd25MaXN0ZW5lcihhKSk7YS5hcHBseUNvbG91cigpO2EudXBkYXRlRWRpdGFibGUoKTt0aGlzLnF1ZXVlUmVuZGVyKCk7cmV0dXJuIGF9Y3JlYXRlSWNvblBvaW50ZXJEb3duTGlzdGVuZXIoYSl7cmV0dXJuIGI9Pnt0aGlzLmlzRGVhZE9yRHlpbmcoKXx8KGI9dGhpcy53b3Jrc3BhY2UuZ2V0R2VzdHVyZShiKSkmJmIuc2V0U3RhcnRJY29uKGEpfX1yZW1vdmVJY29uKGEpe2NvbnN0IGI9c3VwZXIucmVtb3ZlSWNvbihhKTthLmVxdWFscygkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLlRZUEUpJiYodGhpcy5tdXRhdG9yPW51bGwpO3RoaXMucXVldWVSZW5kZXIoKTtyZXR1cm4gYn1zZXREaXNhYmxlZFJlYXNvbihhLGIpe2NvbnN0IGM9dGhpcy5pc0VuYWJsZWQoKTtzdXBlci5zZXREaXNhYmxlZFJlYXNvbihhLGIpO3RoaXMuaXNFbmFibGVkKCk9PT1cbmN8fHRoaXMuZ2V0SW5oZXJpdGVkRGlzYWJsZWQoKXx8dGhpcy51cGRhdGVEaXNhYmxlZCgpfXNldERlbGV0YWJsZShhKXtzdXBlci5zZXREZWxldGFibGUoYSk7YT9yZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLFwiYmxvY2tseU5vdERlbGV0YWJsZVwiKTphZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLFwiYmxvY2tseU5vdERlbGV0YWJsZVwiKX1zZXRIaWdobGlnaHRlZChhKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlSGlnaGxpZ2h0ZWQoYSl9YWRkU2VsZWN0KCl7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZVNlbGVjdGVkKCEwKX1yZW1vdmVTZWxlY3QoKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlU2VsZWN0ZWQoITEpfXNldERlbGV0ZVN0eWxlKGEpe3RoaXMucGF0aE9iamVjdC51cGRhdGVEcmFnZ2luZ0RlbGV0ZShhKX1nZXRDb2xvdXIoKXtyZXR1cm4gdGhpcy5zdHlsZS5jb2xvdXJQcmltYXJ5fXNldENvbG91cihhKXtzdXBlci5zZXRDb2xvdXIoYSk7XG5hPXRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuZ2V0QmxvY2tTdHlsZUZvckNvbG91cih0aGlzLmNvbG91cl8pO2xldCBiLGM7KGM9KGI9dGhpcy5wYXRoT2JqZWN0KS5zZXRTdHlsZSk9PW51bGx8fGMuY2FsbChiLGEuc3R5bGUpO3RoaXMuc3R5bGU9YS5zdHlsZTt0aGlzLnN0eWxlTmFtZV89YS5uYW1lO3RoaXMuYXBwbHlDb2xvdXIoKX1zZXRTdHlsZShhKXtjb25zdCBiPXRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuZ2V0QmxvY2tTdHlsZShhKTt0aGlzLnN0eWxlTmFtZV8mJnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXAsdGhpcy5zdHlsZU5hbWVfKTtpZihiKXt0aGlzLmhhdD1iLmhhdDtsZXQgYyxkOyhkPShjPXRoaXMucGF0aE9iamVjdCkuc2V0U3R5bGUpPT1udWxsfHxkLmNhbGwoYyxiKTt0aGlzLmNvbG91cl89Yi5jb2xvdXJQcmltYXJ5O3RoaXMuc3R5bGU9XG5iO3RoaXMuYXBwbHlDb2xvdXIoKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwLGEpO3RoaXMuc3R5bGVOYW1lXz1hfWVsc2UgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHN0eWxlIG5hbWU6IFwiK2EpO31nZXRTdHlsZSgpe3JldHVybiB0aGlzLnN0eWxlfWJyaW5nVG9Gcm9udChhPSExKXtjb25zdCBiPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCk7bGV0IGM9dGhpcztpZighYy5pc0RlYWRPckR5aW5nKCkpe2Rve2NvbnN0IGQ9Yy5nZXRTdmdSb290KCksZT1kLnBhcmVudE5vZGUsZj1lLmNoaWxkTm9kZXM7ZltmLmxlbmd0aC0xXSE9PWQmJmUuYXBwZW5kQ2hpbGQoZCk7aWYoYSlicmVhaztjPWMuZ2V0UGFyZW50KCl9d2hpbGUoYyk7YiYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGIpfX1zZXRQcmV2aW91c1N0YXRlbWVudChhLFxuYil7c3VwZXIuc2V0UHJldmlvdXNTdGF0ZW1lbnQoYSxiKTt0aGlzLnF1ZXVlUmVuZGVyKCl9c2V0TmV4dFN0YXRlbWVudChhLGIpe3N1cGVyLnNldE5leHRTdGF0ZW1lbnQoYSxiKTt0aGlzLnF1ZXVlUmVuZGVyKCl9c2V0T3V0cHV0KGEsYil7c3VwZXIuc2V0T3V0cHV0KGEsYik7dGhpcy5xdWV1ZVJlbmRlcigpfXNldElucHV0c0lubGluZShhKXtzdXBlci5zZXRJbnB1dHNJbmxpbmUoYSk7dGhpcy5xdWV1ZVJlbmRlcigpfXJlbW92ZUlucHV0KGEsYil7YT1zdXBlci5yZW1vdmVJbnB1dChhLGIpO3RoaXMucXVldWVSZW5kZXIoKTtyZXR1cm4gYX1tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZShhLGIpe3N1cGVyLm1vdmVOdW1iZXJlZElucHV0QmVmb3JlKGEsYik7dGhpcy5xdWV1ZVJlbmRlcigpfWFwcGVuZElucHV0KGEpe3N1cGVyLmFwcGVuZElucHV0KGEpO3RoaXMucXVldWVSZW5kZXIoKTtyZXR1cm4gYX1zZXRDb25uZWN0aW9uVHJhY2tpbmcoYSl7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJlxudGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24uc2V0VHJhY2tpbmcoYSk7dGhpcy5vdXRwdXRDb25uZWN0aW9uJiZ0aGlzLm91dHB1dENvbm5lY3Rpb24uc2V0VHJhY2tpbmcoYSk7aWYodGhpcy5uZXh0Q29ubmVjdGlvbil7dGhpcy5uZXh0Q29ubmVjdGlvbi5zZXRUcmFja2luZyhhKTt2YXIgYj10aGlzLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7YiYmYi5zZXRDb25uZWN0aW9uVHJhY2tpbmcoYSl9aWYoIXRoaXMuY29sbGFwc2VkXylmb3IoYj0wO2I8dGhpcy5pbnB1dExpc3QubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5pbnB1dExpc3RbYl0uY29ubmVjdGlvbjtjJiYoYy5zZXRUcmFja2luZyhhKSwoYz1jLnRhcmdldEJsb2NrKCkpJiZjLnNldENvbm5lY3Rpb25UcmFja2luZyhhKSl9fWdldENvbm5lY3Rpb25zXyhhKXtjb25zdCBiPVtdO3RoaXMub3V0cHV0Q29ubmVjdGlvbiYmYi5wdXNoKHRoaXMub3V0cHV0Q29ubmVjdGlvbik7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJmIucHVzaCh0aGlzLnByZXZpb3VzQ29ubmVjdGlvbik7XG50aGlzLm5leHRDb25uZWN0aW9uJiZiLnB1c2godGhpcy5uZXh0Q29ubmVjdGlvbik7aWYoYXx8IXRoaXMuY29sbGFwc2VkXylmb3IobGV0IGM9MCxkO2Q9dGhpcy5pbnB1dExpc3RbY107YysrKWQuY29ubmVjdGlvbiYmYi5wdXNoKGQuY29ubmVjdGlvbik7cmV0dXJuIGJ9bGFzdENvbm5lY3Rpb25JblN0YWNrKGEpe3JldHVybiBzdXBlci5sYXN0Q29ubmVjdGlvbkluU3RhY2soYSl9Z2V0TWF0Y2hpbmdDb25uZWN0aW9uKGEsYil7cmV0dXJuIHN1cGVyLmdldE1hdGNoaW5nQ29ubmVjdGlvbihhLGIpfW1ha2VDb25uZWN0aW9uXyhhKXtyZXR1cm4gbmV3IFJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb24odGhpcyxhKX1nZXROZXh0QmxvY2soKXtyZXR1cm4gc3VwZXIuZ2V0TmV4dEJsb2NrKCl9Z2V0UHJldmlvdXNCbG9jaygpe3JldHVybiBzdXBlci5nZXRQcmV2aW91c0Jsb2NrKCl9YnVtcE5laWdoYm91cnMoKXtjb25zdCBhPVxudGhpcy5nZXRSb290QmxvY2soKTtpZighKHRoaXMuaXNEZWFkT3JEeWluZygpfHx0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCl8fGEuaXNJbkZseW91dCkpZm9yKGNvbnN0IGIgb2YgdGhpcy5nZXRDb25uZWN0aW9uc18oITEpKXtpZihiLmlzU3VwZXJpb3IoKSl7bGV0IGM7KGM9Yi50YXJnZXRCbG9jaygpKT09bnVsbHx8Yy5idW1wTmVpZ2hib3VycygpfWZvcihjb25zdCBjIG9mIGIubmVpZ2hib3VycygkLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5zbmFwUmFkaXVzKSljLmdldFNvdXJjZUJsb2NrKCkuZ2V0Um9vdEJsb2NrKCkhPT1hJiYoYi5pc0Nvbm5lY3RlZCgpJiZjLmlzQ29ubmVjdGVkKCl8fChiLmlzU3VwZXJpb3IoKT9jLmJ1bXBBd2F5RnJvbShiLCExKTpiLmJ1bXBBd2F5RnJvbShjLCEwKSkpfX1zY2hlZHVsZVNuYXBBbmRCdW1wKCl7dGhpcy5zbmFwVG9HcmlkKCk7dGhpcy5idW1wTmVpZ2hib3VycygpfXBvc2l0aW9uTmVhckNvbm5lY3Rpb24oYSxcbmIsYyl7aWYoYS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlR8fGEudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFKXtsZXQgZD1iLng7Yj1iLnk7ZCs9Yy54LWEuZ2V0T2Zmc2V0SW5CbG9jaygpLng7Yis9Yy55LWEuZ2V0T2Zmc2V0SW5CbG9jaygpLnk7dGhpcy5tb3ZlQnkoZCxiKX19Z2V0Q2hpbGRyZW4oYSl7cmV0dXJuIHN1cGVyLmdldENoaWxkcmVuKGEpfXF1ZXVlUmVuZGVyKCl7cmV0dXJuIHF1ZXVlUmVuZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQodGhpcyl9cmVuZGVyKCl7dGhpcy5xdWV1ZVJlbmRlcigpO3RyaWdnZXJRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKX1yZW5kZXJFZmZpY2llbnRseSgpe3N0YXJ0VGV4dFdpZHRoQ2FjaGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oKTtcbnRoaXMuaXNDb2xsYXBzZWQoKSYmdGhpcy51cGRhdGVDb2xsYXBzZWQoKTt0aGlzLmlzRW5hYmxlZCgpfHx0aGlzLnVwZGF0ZURpc2FibGVkKCk7dGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5yZW5kZXIodGhpcyk7dGhpcy50aWdodGVuQ2hpbGRyZW5FZmZpY2llbnRseSgpO3N0b3BUZXh0V2lkdGhDYWNoZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSgpfXRpZ2h0ZW5DaGlsZHJlbkVmZmljaWVudGx5KCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5pbnB1dExpc3Qpe2NvbnN0IGI9YS5jb25uZWN0aW9uO2ImJmIudGlnaHRlbkVmZmljaWVudGx5KCl9dGhpcy5uZXh0Q29ubmVjdGlvbiYmdGhpcy5uZXh0Q29ubmVjdGlvbi50aWdodGVuRWZmaWNpZW50bHkoKX1nZXRIZWlnaHRXaWR0aCgpe2xldCBhPXRoaXMuaGVpZ2h0LGI9dGhpcy53aWR0aDt2YXIgYz10aGlzLmdldE5leHRCbG9jaygpO2lmKGMpe2M9Yy5nZXRIZWlnaHRXaWR0aCgpO2NvbnN0IGQ9dGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKS5OT1RDSF9IRUlHSFQ7XG5hKz1jLmhlaWdodC1kO2I9TWF0aC5tYXgoYixjLndpZHRoKX1yZXR1cm57aGVpZ2h0OmEsd2lkdGg6Yn19ZmFkZUZvclJlcGxhY2VtZW50KGEpe3RoaXMucGF0aE9iamVjdC51cGRhdGVSZXBsYWNlbWVudEZhZGUoYSl9aGlnaGxpZ2h0U2hhcGVGb3JJbnB1dChhLGIpe3RoaXMucGF0aE9iamVjdC51cGRhdGVTaGFwZUZvcklucHV0SGlnaGxpZ2h0KGEsYil9Z2V0RHJhZ1N0cmF0ZWd5KCl7cmV0dXJuIHRoaXMuZHJhZ1N0cmF0ZWd5fXNldERyYWdTdHJhdGVneShhKXt0aGlzLmRyYWdTdHJhdGVneT1hfWlzQ29weWFibGUoKXtyZXR1cm4gdGhpcy5pc093bkRlbGV0YWJsZSgpJiZ0aGlzLmlzT3duTW92YWJsZSgpfWlzTW92YWJsZSgpe3JldHVybiB0aGlzLmRyYWdTdHJhdGVneS5pc01vdmFibGUoKX1zdGFydERyYWcoYSl7dGhpcy5kcmFnU3RyYXRlZ3kuc3RhcnREcmFnKGEpfWRyYWcoYSxiKXt0aGlzLmRyYWdTdHJhdGVneS5kcmFnKGEsYil9ZW5kRHJhZyhhKXt0aGlzLmRyYWdTdHJhdGVneS5lbmREcmFnKGEpfXJldmVydERyYWcoKXt0aGlzLmRyYWdTdHJhdGVneS5yZXZlcnREcmFnKCl9dG9GbHlvdXRJbmZvKCl7Y29uc3QgYT1cbk9iamVjdC5hc3NpZ24oe30se2tpbmQ6XCJCTE9DS1wifSxzYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3ModGhpcykpLGI9bmV3IFNldChbXCJpZFwiLFwiaGVpZ2h0XCIsXCJ3aWR0aFwiLFwicGlubmVkXCIsXCJlbmFibGVkXCJdKSxjPWZ1bmN0aW9uKGQpe2Zvcihjb25zdCBlIGluIGQpYi5oYXMoZSk/ZGVsZXRlIGRbZV06dHlwZW9mIGRbZV09PT1cIm9iamVjdFwiJiZjKGRbZV0pfTtjKGEpO3JldHVyblthXX1qc29uSW5pdChhKXtzdXBlci5qc29uSW5pdChhKTthLmNsYXNzZXMmJnRoaXMuYWRkQ2xhc3MoQXJyYXkuaXNBcnJheShhLmNsYXNzZXMpP2EuY2xhc3Nlcy5qb2luKFwiIFwiKTphLmNsYXNzZXMpfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5wYXRoT2JqZWN0LnN2Z1BhdGh9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe3RoaXMuc2VsZWN0KCk7dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsQm91bmRzSW50b1ZpZXcodGhpcy5nZXRCb3VuZGluZ1JlY3RhbmdsZVdpdGhvdXRDaGlsZHJlbigpKX1vbk5vZGVCbHVyKCl7dGhpcy51bnNlbGVjdCgpfWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfX07XG5CbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zy5JTkxJTkU9LTE7QmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQ9XCJURU1QX0NPTExBUFNFRF9XQVJOSU5HX1wiO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcuQmxvY2tTdmc9QmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc7dmFyIERyYWdUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnX3RhcmdldD1jbGFzc3tjb25zdHJ1Y3Rvcigpe31vbkRyYWdFbnRlcihhKXt9b25EcmFnT3ZlcihhKXt9b25EcmFnRXhpdChhKXt9b25Ecm9wKGEpe31nZXRDbGllbnRSZWN0KCl7cmV0dXJuIG51bGx9c2hvdWxkUHJldmVudE1vdmUoYSl7cmV0dXJuITF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ190YXJnZXQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdfdGFyZ2V0LkRyYWdUYXJnZXQ9RHJhZ1RhcmdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdfdGFyZ2V0O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZS5pc0RlbGV0YWJsZT1pc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGU7dmFyIERlbGV0ZUFyZWEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkZWxldGVfYXJlYT1jbGFzcyBleHRlbmRzIERyYWdUYXJnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnX3RhcmdldHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy53b3VsZERlbGV0ZV89ITF9d291bGREZWxldGUoYSl7YSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnPyhhPSFhLmdldFBhcmVudCgpJiZhLmlzRGVsZXRhYmxlKCksdGhpcy51cGRhdGVXb3VsZERlbGV0ZV8oYSkpOnRoaXMudXBkYXRlV291bGREZWxldGVfKGlzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShhKSYmYS5pc0RlbGV0YWJsZSgpKTtyZXR1cm4gdGhpcy53b3VsZERlbGV0ZV99dXBkYXRlV291bGREZWxldGVfKGEpe3RoaXMud291bGREZWxldGVfPWF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGVsZXRlX2FyZWE9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGVsZXRlX2FyZWEuRGVsZXRlQXJlYT1EZWxldGVBcmVhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGVsZXRlX2FyZWE7dmFyIEZseW91dEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuZWxlbWVudD1hO3RoaXMudHlwZT1ifWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5lbGVtZW50fWdldFR5cGUoKXtyZXR1cm4gdGhpcy50eXBlfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9pdGVtPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbS5GbHlvdXRJdGVtPUZseW91dEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbTt2YXIgTWV0cmljc01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZXRyaWNzX21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy53b3Jrc3BhY2VfPWF9Z2V0RGltZW5zaW9uc1B4XyhhKXtsZXQgYj0wLGM9MDthJiYoYj1hLmdldFdpZHRoKCksYz1hLmdldEhlaWdodCgpKTtyZXR1cm4gbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKGIsYyl9Z2V0Rmx5b3V0TWV0cmljcyhhKXthPXRoaXMuZ2V0RGltZW5zaW9uc1B4Xyh0aGlzLndvcmtzcGFjZV8uZ2V0Rmx5b3V0KGEpKTtyZXR1cm57d2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHQscG9zaXRpb246dGhpcy53b3Jrc3BhY2VfLnRvb2xib3hQb3NpdGlvbn19Z2V0VG9vbGJveE1ldHJpY3MoKXtjb25zdCBhPXRoaXMuZ2V0RGltZW5zaW9uc1B4Xyh0aGlzLndvcmtzcGFjZV8uZ2V0VG9vbGJveCgpKTtyZXR1cm57d2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHQscG9zaXRpb246dGhpcy53b3Jrc3BhY2VfLnRvb2xib3hQb3NpdGlvbn19Z2V0U3ZnTWV0cmljcygpe3JldHVybiB0aGlzLndvcmtzcGFjZV8uZ2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZSgpfWdldEFic29sdXRlTWV0cmljcygpe2xldCBhPVxuMCxiPTA7Y29uc3QgYz10aGlzLmdldFRvb2xib3hNZXRyaWNzKCksZD10aGlzLmdldEZseW91dE1ldHJpY3MoKSxlPSEhdGhpcy53b3Jrc3BhY2VfLmdldFRvb2xib3goKTt2YXIgZjtjb25zdCBnPSEoKGY9dGhpcy53b3Jrc3BhY2VfLmdldEZseW91dCgpKT09bnVsbD8wOmYuYXV0b0Nsb3NlKTtmPWU/Yy5wb3NpdGlvbjpkLnBvc2l0aW9uO2NvbnN0IGg9Zj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A7Zj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUJiYoZSYmKGErPWMud2lkdGgpLGcmJihhKz1kLndpZHRoKSk7aCYmKGUmJihiKz1jLmhlaWdodCksZyYmKGIrPWQuaGVpZ2h0KSk7cmV0dXJue3RvcDpiLGxlZnQ6YX19Z2V0Vmlld01ldHJpY3MoYSl7YT1hP3RoaXMud29ya3NwYWNlXy5zY2FsZToxO2NvbnN0IGI9dGhpcy5nZXRTdmdNZXRyaWNzKCksYz10aGlzLmdldFRvb2xib3hNZXRyaWNzKCksXG5kPXRoaXMuZ2V0Rmx5b3V0TWV0cmljcygpLGU9ISF0aGlzLndvcmtzcGFjZV8uZ2V0VG9vbGJveCgpO3ZhciBmO2NvbnN0IGc9ISgoZj10aGlzLndvcmtzcGFjZV8uZ2V0Rmx5b3V0KCkpPT1udWxsPzA6Zi5hdXRvQ2xvc2UpO2Y9ZT9jLnBvc2l0aW9uOmQucG9zaXRpb247Y29uc3QgaD1mPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlR8fGY9PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guUklHSFQ7aWYoZj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1B8fGY9PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guQk9UVE9NKWUmJihiLmhlaWdodC09Yy5oZWlnaHQpLGcmJihiLmhlaWdodC09ZC5oZWlnaHQpO2gmJihlJiYoYi53aWR0aC09Yy53aWR0aCksZyYmKGIud2lkdGgtPWQud2lkdGgpKTtyZXR1cm57aGVpZ2h0OmIuaGVpZ2h0L1xuYSx3aWR0aDpiLndpZHRoL2EsdG9wOi10aGlzLndvcmtzcGFjZV8uc2Nyb2xsWS9hLGxlZnQ6LXRoaXMud29ya3NwYWNlXy5zY3JvbGxYL2F9fWdldENvbnRlbnRNZXRyaWNzKGEpe2E9YT8xOnRoaXMud29ya3NwYWNlXy5zY2FsZTtjb25zdCBiPXRoaXMud29ya3NwYWNlXy5nZXRCbG9ja3NCb3VuZGluZ0JveCgpO3JldHVybntoZWlnaHQ6KGIuYm90dG9tLWIudG9wKSphLHdpZHRoOihiLnJpZ2h0LWIubGVmdCkqYSx0b3A6Yi50b3AqYSxsZWZ0OmIubGVmdCphfX1oYXNGaXhlZEVkZ2VzKCl7cmV0dXJuIXRoaXMud29ya3NwYWNlXy5pc01vdmFibGVIb3Jpem9udGFsbHkoKXx8IXRoaXMud29ya3NwYWNlXy5pc01vdmFibGVWZXJ0aWNhbGx5KCl9Z2V0Q29tcHV0ZWRGaXhlZEVkZ2VzXyhhKXtpZighdGhpcy5oYXNGaXhlZEVkZ2VzKCkpcmV0dXJue307Y29uc3QgYj10aGlzLndvcmtzcGFjZV8uaXNNb3ZhYmxlSG9yaXpvbnRhbGx5KCksYz10aGlzLndvcmtzcGFjZV8uaXNNb3ZhYmxlVmVydGljYWxseSgpO1xuYT1hfHx0aGlzLmdldFZpZXdNZXRyaWNzKCExKTtjb25zdCBkPXt9O2N8fChkLnRvcD1hLnRvcCxkLmJvdHRvbT1hLnRvcCthLmhlaWdodCk7Ynx8KGQubGVmdD1hLmxlZnQsZC5yaWdodD1hLmxlZnQrYS53aWR0aCk7cmV0dXJuIGR9Z2V0UGFkZGVkQ29udGVudF8oYSxiKXtjb25zdCBjPWIudG9wK2IuaGVpZ2h0LGQ9Yi5sZWZ0K2Iud2lkdGgsZT1hLndpZHRoO2E9YS5oZWlnaHQ7Y29uc3QgZj1lLzIsZz1hLzI7cmV0dXJue3RvcDpNYXRoLm1pbihiLnRvcC1nLGMtYSksYm90dG9tOk1hdGgubWF4KGMrZyxiLnRvcCthKSxsZWZ0Ok1hdGgubWluKGIubGVmdC1mLGQtZSkscmlnaHQ6TWF0aC5tYXgoZCtmLGIubGVmdCtlKX19Z2V0U2Nyb2xsTWV0cmljcyhhLGIsYyl7YT1hP3RoaXMud29ya3NwYWNlXy5zY2FsZToxO2I9Ynx8dGhpcy5nZXRWaWV3TWV0cmljcyghMSk7dmFyIGQ9Y3x8dGhpcy5nZXRDb250ZW50TWV0cmljcygpO2M9dGhpcy5nZXRDb21wdXRlZEZpeGVkRWRnZXNfKGIpO1xuYj10aGlzLmdldFBhZGRlZENvbnRlbnRfKGIsZCk7ZD1jLnRvcCE9PXZvaWQgMD9jLnRvcDpiLnRvcDtjb25zdCBlPWMubGVmdCE9PXZvaWQgMD9jLmxlZnQ6Yi5sZWZ0O3JldHVybnt0b3A6ZC9hLGxlZnQ6ZS9hLHdpZHRoOigoYy5yaWdodCE9PXZvaWQgMD9jLnJpZ2h0OmIucmlnaHQpLWUpL2EsaGVpZ2h0OigoYy5ib3R0b20hPT12b2lkIDA/Yy5ib3R0b206Yi5ib3R0b20pLWQpL2F9fWdldFVpTWV0cmljcygpe3JldHVybnt2aWV3TWV0cmljczp0aGlzLmdldFZpZXdNZXRyaWNzKCksYWJzb2x1dGVNZXRyaWNzOnRoaXMuZ2V0QWJzb2x1dGVNZXRyaWNzKCksdG9vbGJveE1ldHJpY3M6dGhpcy5nZXRUb29sYm94TWV0cmljcygpfX1nZXRNZXRyaWNzKCl7Y29uc3QgYT10aGlzLmdldFRvb2xib3hNZXRyaWNzKCksYj10aGlzLmdldEZseW91dE1ldHJpY3MoITApLGM9dGhpcy5nZXRTdmdNZXRyaWNzKCksZD10aGlzLmdldEFic29sdXRlTWV0cmljcygpLGU9dGhpcy5nZXRWaWV3TWV0cmljcygpLFxuZj10aGlzLmdldENvbnRlbnRNZXRyaWNzKCksZz10aGlzLmdldFNjcm9sbE1ldHJpY3MoITEsZSxmKTtyZXR1cm57Y29udGVudEhlaWdodDpmLmhlaWdodCxjb250ZW50V2lkdGg6Zi53aWR0aCxjb250ZW50VG9wOmYudG9wLGNvbnRlbnRMZWZ0OmYubGVmdCxzY3JvbGxIZWlnaHQ6Zy5oZWlnaHQsc2Nyb2xsV2lkdGg6Zy53aWR0aCxzY3JvbGxUb3A6Zy50b3Asc2Nyb2xsTGVmdDpnLmxlZnQsdmlld0hlaWdodDplLmhlaWdodCx2aWV3V2lkdGg6ZS53aWR0aCx2aWV3VG9wOmUudG9wLHZpZXdMZWZ0OmUubGVmdCxhYnNvbHV0ZVRvcDpkLnRvcCxhYnNvbHV0ZUxlZnQ6ZC5sZWZ0LHN2Z0hlaWdodDpjLmhlaWdodCxzdmdXaWR0aDpjLndpZHRoLHRvb2xib3hXaWR0aDphLndpZHRoLHRvb2xib3hIZWlnaHQ6YS5oZWlnaHQsdG9vbGJveFBvc2l0aW9uOmEucG9zaXRpb24sZmx5b3V0V2lkdGg6Yi53aWR0aCxmbHlvdXRIZWlnaHQ6Yi5oZWlnaHR9fX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5NRVRSSUNTX01BTkFHRVIsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LE1ldHJpY3NNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWV0cmljc19tYW5hZ2VyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1ldHJpY3NfbWFuYWdlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWV0cmljc19tYW5hZ2VyLk1ldHJpY3NNYW5hZ2VyPU1ldHJpY3NNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWV0cmljc19tYW5hZ2VyO3ZhciBGbHlvdXRNZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9tZXRyaWNzX21hbmFnZXI9Y2xhc3MgZXh0ZW5kcyBNZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1ldHJpY3NfbWFuYWdlcntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEpO3RoaXMuZmx5b3V0Xz1ifWdldEJvdW5kaW5nQm94KCl7bGV0IGE7dHJ5e2E9dGhpcy53b3Jrc3BhY2VfLmdldENhbnZhcygpLmdldEJCb3goKX1jYXRjaChiKXthPXtoZWlnaHQ6MCx5OjAsd2lkdGg6MCx4OjB9fXJldHVybiBhfWdldENvbnRlbnRNZXRyaWNzKGEpe2NvbnN0IGI9dGhpcy5nZXRCb3VuZGluZ0JveCgpO2E9YT8xOnRoaXMud29ya3NwYWNlXy5zY2FsZTtyZXR1cm57aGVpZ2h0OmIuaGVpZ2h0KmEsd2lkdGg6Yi53aWR0aCphLHRvcDpiLnkqYSxsZWZ0OmIueCphfX1nZXRTY3JvbGxNZXRyaWNzKGEsYixjKXtiPWN8fHRoaXMuZ2V0Q29udGVudE1ldHJpY3MoKTtjPXRoaXMuZmx5b3V0Xy5NQVJHSU4qXG50aGlzLndvcmtzcGFjZV8uc2NhbGU7YT1hP3RoaXMud29ya3NwYWNlXy5zY2FsZToxO3JldHVybntoZWlnaHQ6KGIuaGVpZ2h0KzIqYykvYSx3aWR0aDooYi53aWR0aCtiLmxlZnQrYykvYSx0b3A6MCxsZWZ0OjB9fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9tZXRyaWNzX21hbmFnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9tZXRyaWNzX21hbmFnZXIuRmx5b3V0TWV0cmljc01hbmFnZXI9Rmx5b3V0TWV0cmljc01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfbWV0cmljc19tYW5hZ2VyO3ZhciBGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQpe3RoaXMud29ya3NwYWNlPWE7dGhpcy50YXJnZXRXb3Jrc3BhY2U9Yjt0aGlzLmlzRmx5b3V0TGFiZWw9ZDt0aGlzLmhlaWdodD10aGlzLndpZHRoPTA7dGhpcy5jdXJzb3JTdmc9dGhpcy5zdmdUZXh0PW51bGw7dGhpcy50ZXh0PWMudGV4dDt0aGlzLnBvc2l0aW9uPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSgwLDApO3RoaXMuY2FsbGJhY2tLZXk9Yy5jYWxsYmFja0tleXx8Yy5jYWxsYmFja2tleTt0aGlzLmNzc0NsYXNzPWNbXCJ3ZWItY2xhc3NcIl18fG51bGw7dGhpcy5pbmZvPWM7YT10aGlzLmlzRmx5b3V0TGFiZWw/XCJibG9ja2x5Rmx5b3V0TGFiZWxcIjpcImJsb2NrbHlGbHlvdXRCdXR0b25cIjt0aGlzLmNzc0NsYXNzJiYoYSs9XCIgXCIrdGhpcy5jc3NDbGFzcyk7dGhpcy5pZD1nZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO1xudGhpcy5zdmdHcm91cD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtpZDp0aGlzLmlkLFwiY2xhc3NcIjphfSx0aGlzLndvcmtzcGFjZS5nZXRDYW52YXMoKSk7bGV0IGU7dGhpcy5pc0ZseW91dExhYmVsfHwoZT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtcImNsYXNzXCI6XCJibG9ja2x5Rmx5b3V0QnV0dG9uU2hhZG93XCIscng6Rmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5CT1JERVJfUkFESVVTLHJ5OkZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uQk9SREVSX1JBRElVUyx4OjEseToxfSx0aGlzLnN2Z0dyb3VwKSk7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULFxue1wiY2xhc3NcIjp0aGlzLmlzRmx5b3V0TGFiZWw/XCJibG9ja2x5Rmx5b3V0TGFiZWxCYWNrZ3JvdW5kXCI6XCJibG9ja2x5Rmx5b3V0QnV0dG9uQmFja2dyb3VuZFwiLHJ4OkZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24uQk9SREVSX1JBRElVUyxyeTpGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uLkJPUkRFUl9SQURJVVN9LHRoaXMuc3ZnR3JvdXApO2I9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuVEVYVCx7XCJjbGFzc1wiOnRoaXMuaXNGbHlvdXRMYWJlbD9cImJsb2NrbHlGbHlvdXRMYWJlbFRleHRcIjpcImJsb2NrbHlUZXh0XCIseDowLHk6MCxcInRleHQtYW5jaG9yXCI6XCJtaWRkbGVcIn0sdGhpcy5zdmdHcm91cCk7Yz1yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKHRoaXMudGV4dCk7XG50aGlzLndvcmtzcGFjZS5SVEwmJihjKz1cIlxcdTIwMGZcIik7Yi50ZXh0Q29udGVudD1jO3RoaXMuaXNGbHlvdXRMYWJlbCYmKHRoaXMuc3ZnVGV4dD1iLHRoaXMud29ya3NwYWNlLmdldFRoZW1lTWFuYWdlcigpLnN1YnNjcmliZSh0aGlzLnN2Z1RleHQsXCJmbHlvdXRGb3JlZ3JvdW5kQ29sb3VyXCIsXCJmaWxsXCIpKTtkPWdldENvbXB1dGVkU3R5bGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdHlsZShiLFwiZm9udFNpemVcIik7Y29uc3QgZj1nZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYixcImZvbnRXZWlnaHRcIiksZz1nZXRDb21wdXRlZFN0eWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3R5bGUoYixcImZvbnRGYW1pbHlcIik7dGhpcy53aWR0aD1nZXRGYXN0VGV4dFdpZHRoV2l0aFNpemVTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYixkLGYsZyk7Yz1tZWFzdXJlRm9udE1ldHJpY3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYyxcbmQsZixnKTt0aGlzLmhlaWdodD10aGlzLmhlaWdodHx8Yy5oZWlnaHQ7aWYoIXRoaXMuaXNGbHlvdXRMYWJlbCl7dGhpcy53aWR0aCs9MipGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uLlRFWFRfTUFSR0lOX1g7dGhpcy5oZWlnaHQrPTIqRmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5URVhUX01BUkdJTl9ZO2xldCBoOyhoPWUpPT1udWxsfHxoLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsU3RyaW5nKHRoaXMud2lkdGgpKTtsZXQgazsoaz1lKT09bnVsbHx8ay5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixTdHJpbmcodGhpcy5oZWlnaHQpKX1hLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsU3RyaW5nKHRoaXMud2lkdGgpKTthLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFN0cmluZyh0aGlzLmhlaWdodCkpO2Iuc2V0QXR0cmlidXRlKFwieFwiLFN0cmluZyh0aGlzLndpZHRoLzIpKTtiLnNldEF0dHJpYnV0ZShcInlcIixTdHJpbmcodGhpcy5oZWlnaHQvXG4yLWMuaGVpZ2h0LzIrYy5iYXNlbGluZSkpO3RoaXMudXBkYXRlVHJhbnNmb3JtKCk7dGhpcy5vbk1vdXNlRG93bldyYXBwZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cCxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duKTt0aGlzLm9uTW91c2VVcFdyYXBwZXI9Y29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cCxcInBvaW50ZXJ1cFwiLHRoaXMsdGhpcy5vbk1vdXNlVXApfWNyZWF0ZURvbSgpe3JldHVybiB0aGlzLnN2Z0dyb3VwfXNob3coKXt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO3RoaXMuc3ZnR3JvdXAuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9dXBkYXRlVHJhbnNmb3JtKCl7dGhpcy5zdmdHcm91cC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIit0aGlzLnBvc2l0aW9uLngrXCIsXCIrdGhpcy5wb3NpdGlvbi55K1xuXCIpXCIpfW1vdmVUbyhhLGIpe3RoaXMucG9zaXRpb24ueD1hO3RoaXMucG9zaXRpb24ueT1iO3RoaXMudXBkYXRlVHJhbnNmb3JtKCl9bW92ZUJ5KGEsYixjKXt0aGlzLm1vdmVUbyh0aGlzLnBvc2l0aW9uLngrYSx0aGlzLnBvc2l0aW9uLnkrYil9aXNMYWJlbCgpe3JldHVybiB0aGlzLmlzRmx5b3V0TGFiZWx9Z2V0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbn1nZXRCb3VuZGluZ1JlY3RhbmdsZSgpe3JldHVybiBuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QodGhpcy5wb3NpdGlvbi55LHRoaXMucG9zaXRpb24ueSt0aGlzLmhlaWdodCx0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi54K3RoaXMud2lkdGgpfWdldEJ1dHRvblRleHQoKXtyZXR1cm4gdGhpcy50ZXh0fWdldFRhcmdldFdvcmtzcGFjZSgpe3JldHVybiB0aGlzLnRhcmdldFdvcmtzcGFjZX1nZXRXb3Jrc3BhY2UoKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2V9ZGlzcG9zZSgpe3VuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25Nb3VzZURvd25XcmFwcGVyKTtcbnVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25Nb3VzZVVwV3JhcHBlcik7dGhpcy5zdmdHcm91cCYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnN2Z0dyb3VwKTt0aGlzLnN2Z1RleHQmJnRoaXMud29ya3NwYWNlLmdldFRoZW1lTWFuYWdlcigpLnVuc3Vic2NyaWJlKHRoaXMuc3ZnVGV4dCl9c2V0Q3Vyc29yU3ZnKGEpe2E/dGhpcy5zdmdHcm91cCYmKHRoaXMuc3ZnR3JvdXAuYXBwZW5kQ2hpbGQoYSksdGhpcy5jdXJzb3JTdmc9YSk6dGhpcy5jdXJzb3JTdmc9bnVsbH1vbk1vdXNlVXAoYSl7KGE9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0R2VzdHVyZShhKSkmJmEuY2FuY2VsKCk7dGhpcy5pc0ZseW91dExhYmVsJiZ0aGlzLmNhbGxiYWNrS2V5P2NvbnNvbGUud2FybihcIkxhYmVscyBzaG91bGQgbm90IGhhdmUgY2FsbGJhY2tzLiBMYWJlbCB0ZXh0OiBcIit0aGlzLnRleHQpOnRoaXMuaXNGbHlvdXRMYWJlbHx8XG50aGlzLmNhbGxiYWNrS2V5JiZ0aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRCdXR0b25DYWxsYmFjayh0aGlzLmNhbGxiYWNrS2V5KT90aGlzLmlzRmx5b3V0TGFiZWx8fChhPXRoaXMudGFyZ2V0V29ya3NwYWNlLmdldEJ1dHRvbkNhbGxiYWNrKHRoaXMuY2FsbGJhY2tLZXkpKSYmYSh0aGlzKTpjb25zb2xlLndhcm4oXCJCdXR0b25zIHNob3VsZCBoYXZlIGNhbGxiYWNrcy4gQnV0dG9uIHRleHQ6IFwiK3RoaXMudGV4dCl9b25Nb3VzZURvd24oYSl7Y29uc3QgYj10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRHZXN0dXJlKGEpLGM9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0Rmx5b3V0KCk7YiYmYyYmYi5oYW5kbGVGbHlvdXRTdGFydChhLGMpfWdldFN2Z1Jvb3QoKXtyZXR1cm4gdGhpcy5zdmdHcm91cH1nZXRGb2N1c2FibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuc3ZnR3JvdXB9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZX1vbk5vZGVGb2N1cygpe3ZhciBhPXRoaXMuZ2V0UG9zaXRpb24oKTtcbmE9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGEueSxhLnkrdGhpcy5oZWlnaHQsYS54LGEueCt0aGlzLndpZHRoKTt0aGlzLndvcmtzcGFjZS5zY3JvbGxCb3VuZHNJbnRvVmlldyhhKX1vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfX07Rmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5URVhUX01BUkdJTl9YPTU7Rmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5URVhUX01BUkdJTl9ZPTI7Rmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbi5CT1JERVJfUkFESVVTPTQ7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoXCJcXG4uYmxvY2tseUZseW91dEJ1dHRvbiB7XFxuICBmaWxsOiAjODg4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5cXG4uYmxvY2tseUZseW91dEJ1dHRvblNoYWRvdyB7XFxuICBmaWxsOiAjNjY2O1xcbn1cXG5cXG4uYmxvY2tseUZseW91dEJ1dHRvbjpob3ZlciB7XFxuICBmaWxsOiAjYWFhO1xcbn1cXG5cXG4uYmxvY2tseUZseW91dExhYmVsIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuXFxuLmJsb2NrbHlGbHlvdXRMYWJlbEJhY2tncm91bmQge1xcbiAgb3BhY2l0eTogMDtcXG59XFxuXCIpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uLkZseW91dEJ1dHRvbj1GbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uO3ZhciBGbHlvdXRCdXR0b25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k9Y2xhc3N7Z2V0Rmlyc3RDaGlsZChhKXtyZXR1cm4gbnVsbH1nZXRQYXJlbnQoYSl7cmV0dXJuIGEuZ2V0V29ya3NwYWNlKCl9Z2V0TmV4dFNpYmxpbmcoYSl7cmV0dXJuIG51bGx9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe3JldHVybiBudWxsfWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b259fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3kuRmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeT1GbHlvdXRCdXR0b25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k7dmFyIEZseW91dE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X25hdmlnYXRpb25fcG9saWN5PWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5wb2xpY3k9YTt0aGlzLmZseW91dD1ifWdldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIG51bGx9Z2V0UGFyZW50KGEpe3JldHVybiB0aGlzLnBvbGljeS5nZXRQYXJlbnQoYSl9Z2V0TmV4dFNpYmxpbmcoYSl7Y29uc3QgYj10aGlzLmZseW91dC5nZXRDb250ZW50cygpO2lmKCFiKXJldHVybiBudWxsO2xldCBjPWIuZmluZEluZGV4KGQ9PmQuZ2V0RWxlbWVudCgpPT09YSk7aWYoYz09PS0xKXJldHVybiBudWxsO2MrKztjPj1iLmxlbmd0aCYmKGM9MCk7cmV0dXJuIGJbY10uZ2V0RWxlbWVudCgpfWdldFByZXZpb3VzU2libGluZyhhKXtjb25zdCBiPXRoaXMuZmx5b3V0LmdldENvbnRlbnRzKCk7aWYoIWIpcmV0dXJuIG51bGw7bGV0IGM9Yi5maW5kSW5kZXgoZD0+ZC5nZXRFbGVtZW50KCk9PT1cbmEpO2lmKGM9PT0tMSlyZXR1cm4gbnVsbDtjLS07YzwwJiYoYz1iLmxlbmd0aC0xKTtyZXR1cm4gYltjXS5nZXRFbGVtZW50KCl9aXNOYXZpZ2FibGUoYSl7cmV0dXJuIHRoaXMucG9saWN5LmlzTmF2aWdhYmxlKGEpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gdGhpcy5wb2xpY3kuaXNBcHBsaWNhYmxlKGEpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfbmF2aWdhdGlvbl9wb2xpY3k9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfbmF2aWdhdGlvbl9wb2xpY3kuRmx5b3V0TmF2aWdhdGlvblBvbGljeT1GbHlvdXROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9uYXZpZ2F0aW9uX3BvbGljeTt2YXIgRmx5b3V0U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3NlcGFyYXRvcj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuZ2FwPWE7dGhpcy5heGlzPWI7dGhpcy55PXRoaXMueD0wfWdldEJvdW5kaW5nUmVjdGFuZ2xlKCl7c3dpdGNoKHRoaXMuYXhpcyl7Y2FzZSBcInhcIjpyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KHRoaXMueSx0aGlzLnksdGhpcy54LHRoaXMueCt0aGlzLmdhcCk7Y2FzZSBcInlcIjpyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KHRoaXMueSx0aGlzLnkrdGhpcy5nYXAsdGhpcy54LHRoaXMueCl9fW1vdmVCeShhLGIsYyl7dGhpcy54Kz1hO3RoaXMueSs9Yn1pc05hdmlnYWJsZSgpe3JldHVybiExfWdldEZvY3VzYWJsZUVsZW1lbnQoKXt0aHJvdyBFcnJvcihcIkNhbm5vdCBiZSBmb2N1c2VkXCIpO31nZXRGb2N1c2FibGVUcmVlKCl7dGhyb3cgRXJyb3IoXCJDYW5ub3QgYmUgZm9jdXNlZFwiKTtcbn1vbk5vZGVGb2N1cygpe31vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiExfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3I9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3IuRmx5b3V0U2VwYXJhdG9yPUZseW91dFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9zZXBhcmF0b3I7dmFyIEZseW91dFNlcGFyYXRvck5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X3NlcGFyYXRvcl9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe3JldHVybiBudWxsfWdldFBhcmVudChhKXtyZXR1cm4gbnVsbH1nZXROZXh0U2libGluZyhhKXtyZXR1cm4gbnVsbH1nZXRQcmV2aW91c1NpYmxpbmcoYSl7cmV0dXJuIG51bGx9aXNOYXZpZ2FibGUoYSl7cmV0dXJuITF9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRmx5b3V0U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3NlcGFyYXRvcn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X3NlcGFyYXRvcl9uYXZpZ2F0aW9uX3BvbGljeT17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X3NlcGFyYXRvcl9uYXZpZ2F0aW9uX3BvbGljeS5GbHlvdXRTZXBhcmF0b3JOYXZpZ2F0aW9uUG9saWN5PUZseW91dFNlcGFyYXRvck5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X3NlcGFyYXRvcl9uYXZpZ2F0aW9uX3BvbGljeTt2YXIgQmxvY2tDb21tZW50TmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19jb21tZW50X25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIGEuZ2V0RWRpdG9yKCl9Z2V0UGFyZW50KGEpe2xldCBiO3JldHVybihiPWEuZ2V0T3duZXIoKSkhPW51bGw/YjpudWxsfWdldE5leHRTaWJsaW5nKGEpe3JldHVybiBudWxsfWdldFByZXZpb3VzU2libGluZyhhKXtyZXR1cm4gbnVsbH1pc05hdmlnYWJsZShhKXtyZXR1cm4gYS5jYW5CZUZvY3VzZWQoKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBUZXh0SW5wdXRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRpbnB1dF9idWJibGV9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3k9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3kuQmxvY2tDb21tZW50TmF2aWdhdGlvblBvbGljeT1CbG9ja0NvbW1lbnROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIEJsb2NrTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe3JldHVybiBnZXRCbG9ja05hdmlnYXRpb25DYW5kaWRhdGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsITApWzBdfWdldFBhcmVudChhKXt2YXIgYjtpZigoYj1hLnByZXZpb3VzQ29ubmVjdGlvbik9PW51bGw/MDpiLnRhcmdldEJsb2NrKCkpe2lmKGI9YS5nZXRTdXJyb3VuZFBhcmVudCgpKXJldHVybiBifWVsc2V7bGV0IGM7aWYoKGM9YS5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD8wOmMudGFyZ2V0QmxvY2soKSlyZXR1cm4gYS5vdXRwdXRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9cmV0dXJuIGEud29ya3NwYWNlfWdldE5leHRTaWJsaW5nKGEpe2xldCBiO2lmKChiPWEubmV4dENvbm5lY3Rpb24pPT1udWxsPzA6Yi50YXJnZXRCbG9jaygpKXtsZXQgZDtcbnJldHVybihkPWEubmV4dENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpkLnRhcmdldEJsb2NrKCl9bGV0IGM7cmV0dXJuKChjPWEub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/MDpjLnRhcmdldEJsb2NrKCkpP25hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwxKTphLmdldFN1cnJvdW5kUGFyZW50KCk/bmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLmdldFRvcFN0YWNrQmxvY2soKSwxKTp0aGlzLmdldFBhcmVudChhKWluc3RhbmNlb2YgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zz9uYXZpZ2F0ZVN0YWNrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLDEpOm51bGx9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe2xldCBiO1xuaWYoKGI9YS5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsPzA6Yi50YXJnZXRCbG9jaygpKXtsZXQgZDtyZXR1cm4oZD1hLnByZXZpb3VzQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmQudGFyZ2V0QmxvY2soKX1sZXQgYztyZXR1cm4oKGM9YS5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD8wOmMudGFyZ2V0QmxvY2soKSk/bmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLC0xKTp0aGlzLmdldFBhcmVudChhKWluc3RhbmNlb2YgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zz9uYXZpZ2F0ZVN0YWNrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLC0xKTpudWxsfWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnfX0sXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3kuQmxvY2tOYXZpZ2F0aW9uUG9saWN5PUJsb2NrTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5Lm5hdmlnYXRlQmxvY2s9bmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5Lm5hdmlnYXRlU3RhY2tzPW5hdmlnYXRlU3RhY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5O3ZhciBDb21tZW50QmFyQnV0dG9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2Jhcl9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k9Y2xhc3N7Z2V0Rmlyc3RDaGlsZChhKXtyZXR1cm4gbnVsbH1nZXRQYXJlbnQoYSl7cmV0dXJuIGEuZ2V0Q29tbWVudFZpZXcoKS53b3Jrc3BhY2UuZ2V0Q29tbWVudEJ5SWQoYS5nZXRDb21tZW50VmlldygpLmNvbW1lbnRJZCl9Z2V0TmV4dFNpYmxpbmcoYSl7Y29uc3QgYj1hLmdldENvbW1lbnRWaWV3KCkuZ2V0Q29tbWVudEJhckJ1dHRvbnMoKTthPWIuaW5kZXhPZihhKTtyZXR1cm4gYT49MCYmYSsxPGIubGVuZ3RoP2JbYSsxXTpudWxsfWdldFByZXZpb3VzU2libGluZyhhKXtjb25zdCBiPWEuZ2V0Q29tbWVudFZpZXcoKS5nZXRDb21tZW50QmFyQnV0dG9ucygpO2E9Yi5pbmRleE9mKGEpO3JldHVybiBhPjA/YlthLTFdOm51bGx9aXNOYXZpZ2FibGUoYSl7cmV0dXJuIGEuY2FuQmVGb2N1c2VkKCl9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2ZcbkNvbW1lbnRCYXJCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2Jhcl9idXR0b259fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbW1lbnRfYmFyX2J1dHRvbl9uYXZpZ2F0aW9uX3BvbGljeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbW1lbnRfYmFyX2J1dHRvbl9uYXZpZ2F0aW9uX3BvbGljeS5Db21tZW50QmFyQnV0dG9uTmF2aWdhdGlvblBvbGljeT1Db21tZW50QmFyQnV0dG9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2Jhcl9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k7dmFyIENvbW1lbnRFZGl0b3JOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbW1lbnRfZWRpdG9yX25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIG51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBudWxsfWdldE5leHRTaWJsaW5nKGEpe3JldHVybiBudWxsfWdldFByZXZpb3VzU2libGluZyhhKXtyZXR1cm4gbnVsbH1pc05hdmlnYWJsZShhKXtyZXR1cm4gYS5jYW5CZUZvY3VzZWQoKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBDb21tZW50RWRpdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9lZGl0b3J9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbW1lbnRfZWRpdG9yX25hdmlnYXRpb25fcG9saWN5PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2VkaXRvcl9uYXZpZ2F0aW9uX3BvbGljeS5Db21tZW50RWRpdG9yTmF2aWdhdGlvblBvbGljeT1Db21tZW50RWRpdG9yTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb21tZW50X2VkaXRvcl9uYXZpZ2F0aW9uX3BvbGljeTt2YXIgQ29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29ubmVjdGlvbl9uYXZpZ2F0aW9uX3BvbGljeT1jbGFzc3tnZXRGaXJzdENoaWxkKGEpe3JldHVybiBhLmdldFBhcmVudElucHV0KCk/YS50YXJnZXRDb25uZWN0aW9uOm51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBhLmdldFNvdXJjZUJsb2NrKCl9Z2V0TmV4dFNpYmxpbmcoYSl7aWYoYS5nZXRQYXJlbnRJbnB1dCgpKXJldHVybiBuYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsMSk7aWYoYS50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQpe2NvbnN0IGM9YS50YXJnZXRDb25uZWN0aW9uO3ZhciBiPWEuZ2V0U291cmNlQmxvY2soKTtpZighYyYmYi5nZXRSb290QmxvY2soKS5sYXN0Q29ubmVjdGlvbkluU3RhY2soITEpPT09XG5hKXthPWIud29ya3NwYWNlLmdldFRvcEJsb2NrcyghMCk7Yj1hLmluZGV4T2YoYi5nZXRSb290QmxvY2soKSkrMTtiPj1hLmxlbmd0aCYmKGI9MCk7Yj1hW2JdO2xldCBkO3JldHVybihkPXRoaXMuZ2V0UGFyZW50Q29ubmVjdGlvbihiKSkhPW51bGw/ZDpifXJldHVybiBjfXJldHVybiBhLmdldFNvdXJjZUJsb2NrKCl9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe2lmKGEuZ2V0UGFyZW50SW5wdXQoKSlyZXR1cm4gbmF2aWdhdGVCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeShhLC0xKTtpZihhLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5QUkVWSU9VU19TVEFURU1FTlR8fGEudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk9VVFBVVF9WQUxVRSl7Y29uc3QgYz1hLnRhcmdldENvbm5lY3Rpb24mJlxuIWEudGFyZ2V0Q29ubmVjdGlvbi5nZXRQYXJlbnRJbnB1dCgpP2EudGFyZ2V0Q29ubmVjdGlvbjpudWxsO3ZhciBiPWEuZ2V0U291cmNlQmxvY2soKTtpZighYyYmdGhpcy5nZXRQYXJlbnRDb25uZWN0aW9uKGIuZ2V0Um9vdEJsb2NrKCkpPT09YSl7YT1iLndvcmtzcGFjZS5nZXRUb3BCbG9ja3MoITApO2I9YS5pbmRleE9mKGIuZ2V0Um9vdEJsb2NrKCkpLTE7YjwwJiYoYj1hLmxlbmd0aC0xKTtiPWFbYl07bGV0IGQ7cmV0dXJuKGQ9Yi5sYXN0Q29ubmVjdGlvbkluU3RhY2soITEpKSE9bnVsbD9kOmJ9cmV0dXJuIGN9cmV0dXJuIGEudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5UP2EuZ2V0U291cmNlQmxvY2soKTpudWxsfWdldFBhcmVudENvbm5lY3Rpb24oYSl7bGV0IGI7cmV0dXJuIWEub3V0cHV0Q29ubmVjdGlvbnx8KChiPWEucHJldmlvdXNDb25uZWN0aW9uKT09bnVsbD8wOmIuaXNDb25uZWN0ZWQoKSk/XG5hLnByZXZpb3VzQ29ubmVjdGlvbjphLm91dHB1dENvbm5lY3Rpb259aXNOYXZpZ2FibGUoYSl7cmV0dXJuIGEuY2FuQmVGb2N1c2VkKCl9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUmVuZGVyZWRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZWRfY29ubmVjdGlvbn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29ubmVjdGlvbl9uYXZpZ2F0aW9uX3BvbGljeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbm5lY3Rpb25fbmF2aWdhdGlvbl9wb2xpY3kuQ29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3k9Q29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29ubmVjdGlvbl9uYXZpZ2F0aW9uX3BvbGljeTt2YXIgRmllbGROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZpZWxkX25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7cmV0dXJuIG51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBhLmdldFNvdXJjZUJsb2NrKCl9Z2V0TmV4dFNpYmxpbmcoYSl7cmV0dXJuIG5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwxKX1nZXRQcmV2aW91c1NpYmxpbmcoYSl7cmV0dXJuIG5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwtMSl9aXNOYXZpZ2FibGUoYSl7bGV0IGI7cmV0dXJuIGEuY2FuQmVGb2N1c2VkKCkmJmEuaXNWaXNpYmxlKCkmJihhLmlzQ2xpY2thYmxlKCl8fGEuaXNDdXJyZW50bHlFZGl0YWJsZSgpKSYmISgoKGI9YS5nZXRTb3VyY2VCbG9jaygpKT09XG5udWxsPzA6Yi5pc1NpbXBsZVJlcG9ydGVyKCkpJiZhLmlzRnVsbEJsb2NrRmllbGQoKSkmJmEuZ2V0UGFyZW50SW5wdXQoKS5pc1Zpc2libGUoKX1pc0FwcGxpY2FibGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmaWVsZF9uYXZpZ2F0aW9uX3BvbGljeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZpZWxkX25hdmlnYXRpb25fcG9saWN5LkZpZWxkTmF2aWdhdGlvblBvbGljeT1GaWVsZE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmllbGRfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRyZWdpc3RyeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnkucmVnaXN0ZXI9cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRyZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnkudW5yZWdpc3Rlcj11bnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnk7dmFyIFNJWkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb249MTcsREVGQVVMVF9CVUJCTEVfV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb249MTYwLERFRkFVTFRfQlVCQkxFX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbj04MCxDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbj1jbGFzcyBleHRlbmRzIEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRpY29ue2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMuc291cmNlQmxvY2s9YTt0aGlzLnRleHRJbnB1dEJ1YmJsZT1udWxsO3RoaXMudGV4dD1cIlwiO3RoaXMuYnViYmxlU2l6ZT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoREVGQVVMVF9CVUJCTEVfV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24sREVGQVVMVF9CVUJCTEVfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uKTtcbnRoaXMuYnViYmxlVmlzaWJsaXR5PSExfWdldFR5cGUoKXtyZXR1cm4gQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24uVFlQRX1pbml0VmlldyhhKXt0aGlzLnN2Z1Jvb3R8fChzdXBlci5pbml0VmlldyhhKSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5DSVJDTEUse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU2hhcGVcIixyOlwiOFwiLGN4OlwiOFwiLGN5OlwiOFwifSx0aGlzLnN2Z1Jvb3QpLGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEgse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU3ltYm9sXCIsZDpcIm02LjgsMTBoMmMwLjAwMywtMC42MTcgMC4yNzEsLTAuOTYyIDAuNjMzLC0xLjI2NiAyLjg3NSwtMi40MDUwLjYwNywtNS41MzQgLTMuNzY1LC0zLjg3NHYxLjdjMy4xMiwtMS42NTcgMy42OTgsMC4xMTggMi4zMzYsMS4yNS0xLjIwMSwwLjk5OCAtMS4yMDEsMS41MjggLTEuMjA0LDIuMTl6XCJ9LFxudGhpcy5zdmdSb290KSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblN5bWJvbFwiLHg6XCI2LjhcIix5OlwiMTAuNzhcIixoZWlnaHQ6XCIyXCIsd2lkdGg6XCIyXCJ9LHRoaXMuc3ZnUm9vdCksYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LFwiYmxvY2tseUNvbW1lbnRJY29uXCIpKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpO2xldCBhOyhhPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8YS5kaXNwb3NlKCl9Z2V0V2VpZ2h0KCl7cmV0dXJuIENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLldFSUdIVH1nZXRTaXplKCl7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLFxuU0laRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbil9YXBwbHlDb2xvdXIoKXtzdXBlci5hcHBseUNvbG91cigpO2NvbnN0IGE9dGhpcy5zb3VyY2VCbG9jay5nZXRDb2xvdXIoKTtsZXQgYjsoYj10aGlzLnRleHRJbnB1dEJ1YmJsZSk9PW51bGx8fGIuc2V0Q29sb3VyKGEpfXVwZGF0ZUVkaXRhYmxlKCl7Y29uc3QgYT10aGlzLGI9KCk9PnN1cGVyLnVwZGF0ZUVkaXRhYmxlO3JldHVybigwLCRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvckZ1bmN0aW9uKShmdW5jdGlvbiooKXtiKCkuY2FsbChhKTthLmJ1YmJsZUlzVmlzaWJsZSgpJiYoeWllbGQgYS5zZXRCdWJibGVWaXNpYmxlKCExKSx5aWVsZCBhLnNldEJ1YmJsZVZpc2libGUoITApKX0pfW9uTG9jYXRpb25DaGFuZ2UoYSl7Y29uc3QgYj10aGlzLndvcmtzcGFjZUxvY2F0aW9uO3N1cGVyLm9uTG9jYXRpb25DaGFuZ2UoYSk7dGhpcy5idWJibGVMb2NhdGlvbiYmKGE9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlmZmVyZW5jZSh0aGlzLndvcmtzcGFjZUxvY2F0aW9uLFxuYiksdGhpcy5idWJibGVMb2NhdGlvbj1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0odGhpcy5idWJibGVMb2NhdGlvbixhKSk7YT10aGlzLmdldEFuY2hvckxvY2F0aW9uKCk7bGV0IGM7KGM9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxjLnNldEFuY2hvckxvY2F0aW9uKGEpfXNldFRleHQoYSl7Y29uc3QgYj10aGlzLnRleHQ7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKSh0aGlzLnNvdXJjZUJsb2NrLFwiY29tbWVudFwiLG51bGwsYixhKSk7dGhpcy50ZXh0PWE7bGV0IGM7KGM9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxjLnNldFRleHQodGhpcy50ZXh0KX1nZXRUZXh0KCl7cmV0dXJuIHRoaXMudGV4dH1zZXRCdWJibGVTaXplKGEpe3RoaXMuYnViYmxlU2l6ZT1cbmE7bGV0IGI7KGI9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxiLnNldFNpemUodGhpcy5idWJibGVTaXplLCEwKX1nZXRCdWJibGVTaXplKCl7cmV0dXJuIHRoaXMuYnViYmxlU2l6ZX1zZXRCdWJibGVMb2NhdGlvbihhKXt0aGlzLmJ1YmJsZUxvY2F0aW9uPWE7bGV0IGI7KGI9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxiLm1vdmVEdXJpbmdEcmFnKGEpfWdldEJ1YmJsZUxvY2F0aW9uKCl7cmV0dXJuIHRoaXMuYnViYmxlTG9jYXRpb259c2F2ZVN0YXRlKCl7aWYodGhpcy50ZXh0KXtjb25zdCBhPXt0ZXh0OnRoaXMudGV4dCxwaW5uZWQ6dGhpcy5idWJibGVJc1Zpc2libGUoKSxoZWlnaHQ6dGhpcy5idWJibGVTaXplLmhlaWdodCx3aWR0aDp0aGlzLmJ1YmJsZVNpemUud2lkdGh9LGI9dGhpcy5nZXRCdWJibGVMb2NhdGlvbigpO2ImJihhLng9dGhpcy5zb3VyY2VCbG9jay53b3Jrc3BhY2UuUlRMP3RoaXMuc291cmNlQmxvY2sud29ya3NwYWNlLmdldFdpZHRoKCktKGIueCtcbnRoaXMuYnViYmxlU2l6ZS53aWR0aCk6Yi54LGEueT1iLnkpO3JldHVybiBhfXJldHVybiBudWxsfWxvYWRTdGF0ZShhKXtsZXQgYjt0aGlzLnRleHQ9KGI9YS50ZXh0KSE9bnVsbD9iOlwiXCI7bGV0IGMsZDt0aGlzLmJ1YmJsZVNpemU9bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKChjPWEud2lkdGgpIT1udWxsP2M6REVGQVVMVF9CVUJCTEVfV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24sKGQ9YS5oZWlnaHQpIT1udWxsP2Q6REVGQVVMVF9CVUJCTEVfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uKTtsZXQgZTt0aGlzLmJ1YmJsZVZpc2libGl0eT0oZT1hLnBpbm5lZCkhPW51bGw/ZTohMTt0aGlzLnNldEJ1YmJsZVZpc2libGUodGhpcy5idWJibGVWaXNpYmxpdHkpO2xldCBmPWEueDtjb25zdCBnPWEueTtmaW5pc2hRdWV1ZWRSZW5kZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQoKS50aGVuKCgpPT5cbntmJiZnJiYoZj10aGlzLnNvdXJjZUJsb2NrLndvcmtzcGFjZS5SVEw/dGhpcy5zb3VyY2VCbG9jay53b3Jrc3BhY2UuZ2V0V2lkdGgoKS0oZit0aGlzLmJ1YmJsZVNpemUud2lkdGgpOmYsdGhpcy5zZXRCdWJibGVMb2NhdGlvbihuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoZixnKSkpfSl9b25DbGljaygpe3N1cGVyLm9uQ2xpY2soKTt0aGlzLnNldEJ1YmJsZVZpc2libGUoIXRoaXMuYnViYmxlSXNWaXNpYmxlKCkpfWlzQ2xpY2thYmxlSW5GbHlvdXQoKXtyZXR1cm4hMX1vblRleHRDaGFuZ2UoKXtpZih0aGlzLnRleHRJbnB1dEJ1YmJsZSl7dmFyIGE9dGhpcy50ZXh0SW5wdXRCdWJibGUuZ2V0VGV4dCgpO3RoaXMudGV4dCE9PWEmJihmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSkpKHRoaXMuc291cmNlQmxvY2ssXG5cImNvbW1lbnRcIixudWxsLHRoaXMudGV4dCxhKSksdGhpcy50ZXh0PWEpfX1vblNpemVDaGFuZ2UoKXt0aGlzLnRleHRJbnB1dEJ1YmJsZSYmKHRoaXMuYnViYmxlU2l6ZT10aGlzLnRleHRJbnB1dEJ1YmJsZS5nZXRTaXplKCkpfW9uQnViYmxlTG9jYXRpb25DaGFuZ2UoKXt0aGlzLnRleHRJbnB1dEJ1YmJsZSYmKHRoaXMuYnViYmxlTG9jYXRpb249dGhpcy50ZXh0SW5wdXRCdWJibGUuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpKX1idWJibGVJc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5idWJibGVWaXNpYmxpdHl9c2V0QnViYmxlVmlzaWJsZShhKXtjb25zdCBiPXRoaXM7cmV0dXJuKDAsJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yRnVuY3Rpb24pKGZ1bmN0aW9uKigpe2IuYnViYmxlVmlzaWJsaXR5IT09YSYmKGIuYnViYmxlVmlzaWJsaXR5PWEseWllbGQgZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCksXG4hYi5zb3VyY2VCbG9jay5yZW5kZXJlZHx8Yi5zb3VyY2VCbG9jay5pc0luRmx5b3V0fHxiLnNvdXJjZUJsb2NrLmlzSW5zZXJ0aW9uTWFya2VyKCl8fChhPyhiLnNvdXJjZUJsb2NrLmlzRWRpdGFibGUoKT9iLnNob3dFZGl0YWJsZUJ1YmJsZSgpOmIuc2hvd05vbkVkaXRhYmxlQnViYmxlKCksYi5hcHBseUNvbG91cigpKTpiLmhpZGVCdWJibGUoKSxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJVQkJMRV9PUEVOKSkoYi5zb3VyY2VCbG9jayxhLFwiY29tbWVudFwiKSkpKX0pfWdldEJ1YmJsZSgpe3JldHVybiB0aGlzLnRleHRJbnB1dEJ1YmJsZX1zaG93RWRpdGFibGVCdWJibGUoKXt0aGlzLmNyZWF0ZUJ1YmJsZSgpO2xldCBhOyhhPXRoaXMudGV4dElucHV0QnViYmxlKT09bnVsbHx8YS5hZGRUZXh0Q2hhbmdlTGlzdGVuZXIoKCk9PlxudGhpcy5vblRleHRDaGFuZ2UoKSk7bGV0IGI7KGI9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxiLmFkZFNpemVDaGFuZ2VMaXN0ZW5lcigoKT0+dGhpcy5vblNpemVDaGFuZ2UoKSl9c2hvd05vbkVkaXRhYmxlQnViYmxlKCl7dGhpcy5jcmVhdGVCdWJibGUoKTtsZXQgYTsoYT10aGlzLnRleHRJbnB1dEJ1YmJsZSk9PW51bGx8fGEuc2V0RWRpdGFibGUoITEpfWNyZWF0ZUJ1YmJsZSgpe3RoaXMudGV4dElucHV0QnViYmxlPW5ldyBUZXh0SW5wdXRCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidWJibGVzJHRleHRpbnB1dF9idWJibGUodGhpcy5zb3VyY2VCbG9jay53b3Jrc3BhY2UsdGhpcy5nZXRBbmNob3JMb2NhdGlvbigpLHRoaXMuZ2V0QnViYmxlT3duZXJSZWN0KCksdGhpcyk7dGhpcy50ZXh0SW5wdXRCdWJibGUuc2V0VGV4dCh0aGlzLmdldFRleHQoKSk7dGhpcy50ZXh0SW5wdXRCdWJibGUuc2V0U2l6ZSh0aGlzLmJ1YmJsZVNpemUsITApO3RoaXMuYnViYmxlTG9jYXRpb24mJlxudGhpcy50ZXh0SW5wdXRCdWJibGUubW92ZUR1cmluZ0RyYWcodGhpcy5idWJibGVMb2NhdGlvbik7dGhpcy50ZXh0SW5wdXRCdWJibGUuYWRkVGV4dENoYW5nZUxpc3RlbmVyKCgpPT50aGlzLm9uVGV4dENoYW5nZSgpKTt0aGlzLnRleHRJbnB1dEJ1YmJsZS5hZGRTaXplQ2hhbmdlTGlzdGVuZXIoKCk9PnRoaXMub25TaXplQ2hhbmdlKCkpO3RoaXMudGV4dElucHV0QnViYmxlLmFkZExvY2F0aW9uQ2hhbmdlTGlzdGVuZXIoKCk9PnRoaXMub25CdWJibGVMb2NhdGlvbkNoYW5nZSgpKX1oaWRlQnViYmxlKCl7bGV0IGE7KGE9dGhpcy50ZXh0SW5wdXRCdWJibGUpPT1udWxsfHxhLmRpc3Bvc2UoKTt0aGlzLnRleHRJbnB1dEJ1YmJsZT1udWxsfWdldEFuY2hvckxvY2F0aW9uKCl7Y29uc3QgYT1TSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLzI7cmV0dXJuIENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bSh0aGlzLndvcmtzcGFjZUxvY2F0aW9uLFxubmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEsYSkpfWdldEJ1YmJsZU93bmVyUmVjdCgpe3JldHVybiB0aGlzLnNvdXJjZUJsb2NrLmdldEJvdW5kaW5nUmVjdGFuZ2xlV2l0aG91dENoaWxkcmVuKCl9fTtDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbi5UWVBFPUljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlcy5DT01NRU5UO0NvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLldFSUdIVD0zO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkcmVnaXN0cnkoQ29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb24uVFlQRSxDb21tZW50SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGNvbW1lbnRfaWNvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uLkNvbW1lbnRJY29uPUNvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uO3ZhciBJY29uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRpY29uX25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7aWYoYSBpbnN0YW5jZW9mICQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24mJmEuYnViYmxlSXNWaXNpYmxlKCkmJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCk9PT1hKXtsZXQgYixjO3JldHVybihjPShiPWEuZ2V0QnViYmxlKCkpPT1udWxsP3ZvaWQgMDpiLmdldFdvcmtzcGFjZSgpKSE9bnVsbD9jOm51bGx9aWYoYSBpbnN0YW5jZW9mIENvbW1lbnRJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkY29tbWVudF9pY29uJiZhLmJ1YmJsZUlzVmlzaWJsZSgpJiYkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5nZXRGb2N1c2VkTm9kZSgpPT09XG5hKXtsZXQgYixjO3JldHVybihjPShiPWEuZ2V0QnViYmxlKCkpPT1udWxsP3ZvaWQgMDpiLmdldEVkaXRvcigpKSE9bnVsbD9jOm51bGx9cmV0dXJuIG51bGx9Z2V0UGFyZW50KGEpe3JldHVybiBhLmdldFNvdXJjZUJsb2NrKCl9Z2V0TmV4dFNpYmxpbmcoYSl7cmV0dXJuIG5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwxKX1nZXRQcmV2aW91c1NpYmxpbmcoYSl7cmV0dXJuIG5hdmlnYXRlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwtMSl9aXNOYXZpZ2FibGUoYSl7cmV0dXJuIGEuY2FuQmVGb2N1c2VkKCl9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb259fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGljb25fbmF2aWdhdGlvbl9wb2xpY3k9XG57fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGljb25fbmF2aWdhdGlvbl9wb2xpY3kuSWNvbk5hdmlnYXRpb25Qb2xpY3k9SWNvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkaWNvbl9uYXZpZ2F0aW9uX3BvbGljeTt2YXIgV29ya3NwYWNlQ29tbWVudE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3k9Y2xhc3N7Z2V0Rmlyc3RDaGlsZChhKXtyZXR1cm4gYS52aWV3LmdldENvbW1lbnRCYXJCdXR0b25zKClbMF19Z2V0UGFyZW50KGEpe3JldHVybiBhLndvcmtzcGFjZX1nZXROZXh0U2libGluZyhhKXtyZXR1cm4gbmF2aWdhdGVTdGFja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkYmxvY2tfbmF2aWdhdGlvbl9wb2xpY3koYSwxKX1nZXRQcmV2aW91c1NpYmxpbmcoYSl7cmV0dXJuIG5hdmlnYXRlU3RhY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5KGEsLTEpfWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpfWlzQXBwbGljYWJsZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50fX0sXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9jb21tZW50X25hdmlnYXRpb25fcG9saWN5PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3kuV29ya3NwYWNlQ29tbWVudE5hdmlnYXRpb25Qb2xpY3k9V29ya3NwYWNlQ29tbWVudE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3k7dmFyIFdvcmtzcGFjZU5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX25hdmlnYXRpb25fcG9saWN5PWNsYXNze2dldEZpcnN0Q2hpbGQoYSl7YT1hLmdldFRvcEJsb2NrcyghMCk7cmV0dXJuIGEubGVuZ3RoP2FbMF06bnVsbH1nZXRQYXJlbnQoYSl7cmV0dXJuIG51bGx9Z2V0TmV4dFNpYmxpbmcoYSl7cmV0dXJuIG51bGx9Z2V0UHJldmlvdXNTaWJsaW5nKGEpe3JldHVybiBudWxsfWlzTmF2aWdhYmxlKGEpe3JldHVybiBhLmNhbkJlRm9jdXNlZCgpJiYhYS5pc011dGF0b3J9aXNBcHBsaWNhYmxlKGEpe3JldHVybiBhIGluc3RhbmNlb2YgV29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Z319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkd29ya3NwYWNlX25hdmlnYXRpb25fcG9saWN5PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiR3b3Jrc3BhY2VfbmF2aWdhdGlvbl9wb2xpY3kuV29ya3NwYWNlTmF2aWdhdGlvblBvbGljeT1Xb3Jrc3BhY2VOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9uYXZpZ2F0aW9uX3BvbGljeTt2YXIgTmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmF2aWdhdG9yPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5ydWxlcz1bbmV3IEJsb2NrTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeSxuZXcgRmllbGROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZpZWxkX25hdmlnYXRpb25fcG9saWN5LG5ldyBDb25uZWN0aW9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb25uZWN0aW9uX25hdmlnYXRpb25fcG9saWN5LG5ldyBXb3Jrc3BhY2VOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JHdvcmtzcGFjZV9uYXZpZ2F0aW9uX3BvbGljeSxuZXcgSWNvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkaWNvbl9uYXZpZ2F0aW9uX3BvbGljeSxcbm5ldyBXb3Jrc3BhY2VDb21tZW50TmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiR3b3Jrc3BhY2VfY29tbWVudF9uYXZpZ2F0aW9uX3BvbGljeSxuZXcgQ29tbWVudEJhckJ1dHRvbk5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkY29tbWVudF9iYXJfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5LG5ldyBCbG9ja0NvbW1lbnROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX2NvbW1lbnRfbmF2aWdhdGlvbl9wb2xpY3ksbmV3IENvbW1lbnRFZGl0b3JOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGNvbW1lbnRfZWRpdG9yX25hdmlnYXRpb25fcG9saWN5XX1hZGROYXZpZ2F0aW9uUG9saWN5KGEpe3RoaXMucnVsZXMucHVzaChhKX1nZXQoYSl7cmV0dXJuIHRoaXMucnVsZXMuZmluZChiPT5iLmlzQXBwbGljYWJsZShhKSl9Z2V0Rmlyc3RDaGlsZChhKXtsZXQgYjtcbmNvbnN0IGM9KGI9dGhpcy5nZXQoYSkpPT1udWxsP3ZvaWQgMDpiLmdldEZpcnN0Q2hpbGQoYSk7aWYoIWMpcmV0dXJuIG51bGw7bGV0IGQ7cmV0dXJuKGQ9dGhpcy5nZXQoYykpIT1udWxsJiZkLmlzTmF2aWdhYmxlKGMpP2M6dGhpcy5nZXRGaXJzdENoaWxkKGMpfHx0aGlzLmdldE5leHRTaWJsaW5nKGMpfWdldFBhcmVudChhKXtsZXQgYjtjb25zdCBjPShiPXRoaXMuZ2V0KGEpKT09bnVsbD92b2lkIDA6Yi5nZXRQYXJlbnQoYSk7aWYoIWMpcmV0dXJuIG51bGw7bGV0IGQ7cmV0dXJuKGQ9dGhpcy5nZXQoYykpIT1udWxsJiZkLmlzTmF2aWdhYmxlKGMpP2M6dGhpcy5nZXRQYXJlbnQoYyl9Z2V0TmV4dFNpYmxpbmcoYSl7bGV0IGI7Y29uc3QgYz0oYj10aGlzLmdldChhKSk9PW51bGw/dm9pZCAwOmIuZ2V0TmV4dFNpYmxpbmcoYSk7aWYoIWMpcmV0dXJuIG51bGw7bGV0IGQ7cmV0dXJuKGQ9dGhpcy5nZXQoYykpIT1udWxsJiZkLmlzTmF2aWdhYmxlKGMpP2M6dGhpcy5nZXROZXh0U2libGluZyhjKX1nZXRQcmV2aW91c1NpYmxpbmcoYSl7bGV0IGI7XG5jb25zdCBjPShiPXRoaXMuZ2V0KGEpKT09bnVsbD92b2lkIDA6Yi5nZXRQcmV2aW91c1NpYmxpbmcoYSk7aWYoIWMpcmV0dXJuIG51bGw7bGV0IGQ7cmV0dXJuKGQ9dGhpcy5nZXQoYykpIT1udWxsJiZkLmlzTmF2aWdhYmxlKGMpP2M6dGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoYyl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmF2aWdhdG9yPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRuYXZpZ2F0b3IuTmF2aWdhdG9yPU5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hdmlnYXRvcjt2YXIgRmx5b3V0TmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X25hdmlnYXRvcj1jbGFzcyBleHRlbmRzIE5hdmlnYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hdmlnYXRvcntjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMucnVsZXMucHVzaChuZXcgRmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfYnV0dG9uX25hdmlnYXRpb25fcG9saWN5LG5ldyBGbHlvdXRTZXBhcmF0b3JOYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9zZXBhcmF0b3JfbmF2aWdhdGlvbl9wb2xpY3kpO3RoaXMucnVsZXM9dGhpcy5ydWxlcy5tYXAoYj0+bmV3IEZseW91dE5hdmlnYXRpb25Qb2xpY3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkZmx5b3V0X25hdmlnYXRpb25fcG9saWN5KGIsYSkpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9uYXZpZ2F0b3I9XG57fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X25hdmlnYXRvci5GbHlvdXROYXZpZ2F0b3I9Rmx5b3V0TmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X25hdmlnYXRvcjt2YXIgU2Nyb2xsYmFyUGFpciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcl9wYWlyPWNsYXNze2NvbnN0cnVjdG9yKGEsYixjLGQsZSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLm9sZEhvc3RNZXRyaWNzPXRoaXMuY29ybmVyXz10aGlzLnZTY3JvbGw9dGhpcy5oU2Nyb2xsPW51bGw7Yj1iPT09dm9pZCAwPyEwOmI7Yz1jPT09dm9pZCAwPyEwOmM7Y29uc3QgZj1iJiZjO2ImJih0aGlzLmhTY3JvbGw9bmV3IFNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcihhLCEwLGYsZCxlKSk7YyYmKHRoaXMudlNjcm9sbD1uZXcgU2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyKGEsITEsZixkLGUpKTtmJiYodGhpcy5jb3JuZXJfPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse2hlaWdodDpTY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLFxud2lkdGg6U2Nyb2xsYmFyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyxcImNsYXNzXCI6XCJibG9ja2x5U2Nyb2xsYmFyQmFja2dyb3VuZFwifSksaW5zZXJ0QWZ0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5jb3JuZXJfLGEuZ2V0QnViYmxlQ2FudmFzKCkpKX1kaXNwb3NlKCl7cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmNvcm5lcl8pO3RoaXMub2xkSG9zdE1ldHJpY3M9dGhpcy5jb3JuZXJfPW51bGw7dGhpcy5oU2Nyb2xsJiYodGhpcy5oU2Nyb2xsLmRpc3Bvc2UoKSx0aGlzLmhTY3JvbGw9bnVsbCk7dGhpcy52U2Nyb2xsJiYodGhpcy52U2Nyb2xsLmRpc3Bvc2UoKSx0aGlzLnZTY3JvbGw9bnVsbCl9cmVzaXplKCl7Y29uc3QgYT10aGlzLndvcmtzcGFjZS5nZXRNZXRyaWNzKCk7aWYoYSl7dmFyIGI9ITEsYz0hMTt0aGlzLm9sZEhvc3RNZXRyaWNzJiZ0aGlzLm9sZEhvc3RNZXRyaWNzLnZpZXdXaWR0aD09PVxuYS52aWV3V2lkdGgmJnRoaXMub2xkSG9zdE1ldHJpY3Mudmlld0hlaWdodD09PWEudmlld0hlaWdodCYmdGhpcy5vbGRIb3N0TWV0cmljcy5hYnNvbHV0ZVRvcD09PWEuYWJzb2x1dGVUb3AmJnRoaXMub2xkSG9zdE1ldHJpY3MuYWJzb2x1dGVMZWZ0PT09YS5hYnNvbHV0ZUxlZnQ/KHRoaXMub2xkSG9zdE1ldHJpY3MmJnRoaXMub2xkSG9zdE1ldHJpY3Muc2Nyb2xsV2lkdGg9PT1hLnNjcm9sbFdpZHRoJiZ0aGlzLm9sZEhvc3RNZXRyaWNzLnZpZXdMZWZ0PT09YS52aWV3TGVmdCYmdGhpcy5vbGRIb3N0TWV0cmljcy5zY3JvbGxMZWZ0PT09YS5zY3JvbGxMZWZ0fHwoYj0hMCksdGhpcy5vbGRIb3N0TWV0cmljcyYmdGhpcy5vbGRIb3N0TWV0cmljcy5zY3JvbGxIZWlnaHQ9PT1hLnNjcm9sbEhlaWdodCYmdGhpcy5vbGRIb3N0TWV0cmljcy52aWV3VG9wPT09YS52aWV3VG9wJiZ0aGlzLm9sZEhvc3RNZXRyaWNzLnNjcm9sbFRvcD09PWEuc2Nyb2xsVG9wfHwoYz0hMCkpOmM9Yj0hMDtpZihifHxcbmMpe3RyeXskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSx0aGlzLmhTY3JvbGwmJmImJnRoaXMuaFNjcm9sbC5yZXNpemUoYSksdGhpcy52U2Nyb2xsJiZjJiZ0aGlzLnZTY3JvbGwucmVzaXplKGEpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX10aGlzLndvcmtzcGFjZS5tYXliZUZpcmVWaWV3cG9ydENoYW5nZUV2ZW50KCl9aWYodGhpcy5oU2Nyb2xsJiZ0aGlzLnZTY3JvbGwpe2lmKCF0aGlzLm9sZEhvc3RNZXRyaWNzfHx0aGlzLm9sZEhvc3RNZXRyaWNzLnZpZXdXaWR0aCE9PWEudmlld1dpZHRofHx0aGlzLm9sZEhvc3RNZXRyaWNzLmFic29sdXRlTGVmdCE9PWEuYWJzb2x1dGVMZWZ0KXtsZXQgZDsoZD10aGlzLmNvcm5lcl8pPT1udWxsfHxkLnNldEF0dHJpYnV0ZShcInhcIixTdHJpbmcodGhpcy52U2Nyb2xsLnBvc2l0aW9uLngpKX1pZighdGhpcy5vbGRIb3N0TWV0cmljc3x8dGhpcy5vbGRIb3N0TWV0cmljcy52aWV3SGVpZ2h0IT09XG5hLnZpZXdIZWlnaHR8fHRoaXMub2xkSG9zdE1ldHJpY3MuYWJzb2x1dGVUb3AhPT1hLmFic29sdXRlVG9wKXtsZXQgZDsoZD10aGlzLmNvcm5lcl8pPT1udWxsfHxkLnNldEF0dHJpYnV0ZShcInlcIixTdHJpbmcodGhpcy5oU2Nyb2xsLnBvc2l0aW9uLnkpKX19dGhpcy5vbGRIb3N0TWV0cmljcz1hfX1jYW5TY3JvbGxIb3Jpem9udGFsbHkoKXtyZXR1cm4hIXRoaXMuaFNjcm9sbH1jYW5TY3JvbGxWZXJ0aWNhbGx5KCl7cmV0dXJuISF0aGlzLnZTY3JvbGx9c2V0T3JpZ2luKGEsYil7dGhpcy5oU2Nyb2xsJiZ0aGlzLmhTY3JvbGwuc2V0T3JpZ2luKGEsYik7dGhpcy52U2Nyb2xsJiZ0aGlzLnZTY3JvbGwuc2V0T3JpZ2luKGEsYil9c2V0KGEsYixjKXt0aGlzLmhTY3JvbGwmJnRoaXMuaFNjcm9sbC5zZXQoYSwhMSk7dGhpcy52U2Nyb2xsJiZ0aGlzLnZTY3JvbGwuc2V0KGIsITEpO2lmKGN8fGM9PT12b2lkIDApYT17fSx0aGlzLmhTY3JvbGwmJihhLng9dGhpcy5oU2Nyb2xsLmdldFJhdGlvXygpKSxcbnRoaXMudlNjcm9sbCYmKGEueT10aGlzLnZTY3JvbGwuZ2V0UmF0aW9fKCkpLHRoaXMud29ya3NwYWNlLnNldE1ldHJpY3MoYSl9c2V0WChhKXt0aGlzLmhTY3JvbGwmJnRoaXMuaFNjcm9sbC5zZXQoYSwhMCl9c2V0WShhKXt0aGlzLnZTY3JvbGwmJnRoaXMudlNjcm9sbC5zZXQoYSwhMCl9c2V0Q29udGFpbmVyVmlzaWJsZShhKXt0aGlzLmhTY3JvbGwmJnRoaXMuaFNjcm9sbC5zZXRDb250YWluZXJWaXNpYmxlKGEpO3RoaXMudlNjcm9sbCYmdGhpcy52U2Nyb2xsLnNldENvbnRhaW5lclZpc2libGUoYSl9aXNWaXNpYmxlKCl7bGV0IGE9ITE7dGhpcy5oU2Nyb2xsJiYoYT10aGlzLmhTY3JvbGwuaXNWaXNpYmxlKCkpO3RoaXMudlNjcm9sbCYmKGE9YXx8dGhpcy52U2Nyb2xsLmlzVmlzaWJsZSgpKTtyZXR1cm4gYX1zZXRWaXNpYmxlKGEpe3RoaXMuaFNjcm9sbCYmdGhpcy5oU2Nyb2xsLnNldFZpc2libGVJbnRlcm5hbChhKTt0aGlzLnZTY3JvbGwmJnRoaXMudlNjcm9sbC5zZXRWaXNpYmxlSW50ZXJuYWwoYSl9cmVzaXplQ29udGVudChhKXt0aGlzLmhTY3JvbGwmJlxudGhpcy5oU2Nyb2xsLnJlc2l6ZUNvbnRlbnRIb3Jpem9udGFsKGEpO3RoaXMudlNjcm9sbCYmdGhpcy52U2Nyb2xsLnJlc2l6ZUNvbnRlbnRWZXJ0aWNhbChhKX1yZXNpemVWaWV3KGEpe3RoaXMuaFNjcm9sbCYmdGhpcy5oU2Nyb2xsLnJlc2l6ZVZpZXdIb3Jpem9udGFsKGEpO3RoaXMudlNjcm9sbCYmdGhpcy52U2Nyb2xsLnJlc2l6ZVZpZXdWZXJ0aWNhbChhKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXJfcGFpcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyX3BhaXIuU2Nyb2xsYmFyUGFpcj1TY3JvbGxiYXJQYWlyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2Nyb2xsYmFyX3BhaXI7dmFyIFNFUEFSQVRPUl9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcj1cInNlcFwiLFNlcGFyYXRvckZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcj1jbGFzc3tsb2FkKGEsYil7YT1uZXcgRmx5b3V0U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3NlcGFyYXRvcigwLGIuaG9yaXpvbnRhbExheW91dD9cInhcIjpcInlcIik7cmV0dXJuIG5ldyBGbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW0oYSxTRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXIpfWdhcEZvckl0ZW0oYSxiKXtsZXQgYztyZXR1cm4oYz1wYXJzZUludChTdHJpbmcoYS5nYXApKSkhPW51bGw/YzpifWRpc3Bvc2VJdGVtKGEpe31nZXRUeXBlKCl7cmV0dXJuIFNFUEFSQVRPUl9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcn19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUX0lORkxBVEVSLFNFUEFSQVRPUl9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcixTZXBhcmF0b3JGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcj17U0VQQVJBVE9SX1RZUEU6U0VQQVJBVE9SX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXBhcmF0b3JfZmx5b3V0X2luZmxhdGVyfTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlci5TZXBhcmF0b3JGbHlvdXRJbmZsYXRlcj1TZXBhcmF0b3JGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXI7dmFyIEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9iYXNlPWNsYXNzIGV4dGVuZHMgRGVsZXRlQXJlYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhe2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5ob3Jpem9udGFsTGF5b3V0PSExO3RoaXMuYm91bmRFdmVudHM9W107dGhpcy5yZWZsb3dXcmFwcGVyPW51bGw7dGhpcy5jb250ZW50cz1bXTt0aGlzLmF1dG9DbG9zZT0hMDt0aGlzLnZpc2libGU9ITE7dGhpcy5jb250YWluZXJWaXNpYmxlPSEwO3RoaXMuQ09STkVSX1JBRElVUz04O3RoaXMuU0NST0xMQkFSX01BUkdJTj0yLjU7dGhpcy5oZWlnaHRfPXRoaXMud2lkdGhfPTA7dGhpcy5kcmFnQW5nbGVSYW5nZV89NzA7dGhpcy5zdmdHcm91cF89dGhpcy5zdmdCYWNrZ3JvdW5kXz1udWxsO3RoaXMuaW5mbGF0ZXJzPW5ldyBNYXA7YS5zZXRNZXRyaWNzPXRoaXMuc2V0TWV0cmljc18uYmluZCh0aGlzKTt0aGlzLndvcmtzcGFjZV89bmV3IFdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmcoYSk7XG50aGlzLndvcmtzcGFjZV8uc2V0TWV0cmljc01hbmFnZXIobmV3IEZseW91dE1ldHJpY3NNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X21ldHJpY3NfbWFuYWdlcih0aGlzLndvcmtzcGFjZV8sdGhpcykpO3RoaXMud29ya3NwYWNlXy5pbnRlcm5hbElzRmx5b3V0PSEwO3RoaXMud29ya3NwYWNlXy5zZXRWaXNpYmxlKHRoaXMudmlzaWJsZSk7dGhpcy53b3Jrc3BhY2VfLnNldE5hdmlnYXRvcihuZXcgRmx5b3V0TmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X25hdmlnYXRvcih0aGlzKSk7dGhpcy5pZD1nZW5VaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO3RoaXMuUlRMPSEhYS5SVEw7dGhpcy50b29sYm94UG9zaXRpb25fPWEudG9vbGJveFBvc2l0aW9uO3RoaXMudGFiV2lkdGhfPXRoaXMud29ya3NwYWNlXy5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLlRBQl9XSURUSDt0aGlzLk1BUkdJTj10aGlzLkNPUk5FUl9SQURJVVM7XG50aGlzLkdBUF9YPXRoaXMuTUFSR0lOKjM7dGhpcy5HQVBfWT10aGlzLk1BUkdJTiozfWNyZWF0ZURvbShhKXt0aGlzLnN2Z0dyb3VwXz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEse1wiY2xhc3NcIjpcImJsb2NrbHlGbHlvdXRcIn0pO3RoaXMuc3ZnR3JvdXBfLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dGhpcy5zdmdCYWNrZ3JvdW5kXz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5Rmx5b3V0QmFja2dyb3VuZFwifSx0aGlzLnN2Z0dyb3VwXyk7dGhpcy5zdmdHcm91cF8uYXBwZW5kQ2hpbGQodGhpcy53b3Jrc3BhY2VfLmNyZWF0ZURvbSgpKTt0aGlzLndvcmtzcGFjZV8uZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8sXCJmbHlvdXRCYWNrZ3JvdW5kQ29sb3VyXCIsXG5cImZpbGxcIik7dGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnN1YnNjcmliZSh0aGlzLnN2Z0JhY2tncm91bmRfLFwiZmx5b3V0T3BhY2l0eVwiLFwiZmlsbC1vcGFjaXR5XCIpO3JldHVybiB0aGlzLnN2Z0dyb3VwX31pbml0KGEpe3RoaXMudGFyZ2V0V29ya3NwYWNlPWE7dGhpcy53b3Jrc3BhY2VfLnRhcmdldFdvcmtzcGFjZT1hO3RoaXMud29ya3NwYWNlXy5zY3JvbGxiYXI9bmV3IFNjcm9sbGJhclBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXJfcGFpcih0aGlzLndvcmtzcGFjZV8sdGhpcy5ob3Jpem9udGFsTGF5b3V0LCF0aGlzLmhvcml6b250YWxMYXlvdXQsXCJibG9ja2x5Rmx5b3V0U2Nyb2xsYmFyXCIsdGhpcy5TQ1JPTExCQVJfTUFSR0lOKTt0aGlzLmhpZGUoKTt0aGlzLmJvdW5kRXZlbnRzLnB1c2goY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cF8sXCJ3aGVlbFwiLHRoaXMsdGhpcy53aGVlbF8pKTtcbnRoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnN2Z0JhY2tncm91bmRfLFwicG9pbnRlcmRvd25cIix0aGlzLHRoaXMub25Nb3VzZURvd24pKTt0aGlzLndvcmtzcGFjZV8uZ2V0R2VzdHVyZT10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRHZXN0dXJlLmJpbmQodGhpcy50YXJnZXRXb3Jrc3BhY2UpO3RoaXMud29ya3NwYWNlXy5zZXRWYXJpYWJsZU1hcCh0aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRWYXJpYWJsZU1hcCgpKTt0aGlzLndvcmtzcGFjZV8uY3JlYXRlUG90ZW50aWFsVmFyaWFibGVNYXAoKTthLmdldENvbXBvbmVudE1hbmFnZXIoKS5hZGRDb21wb25lbnQoe2NvbXBvbmVudDp0aGlzLHdlaWdodDpDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ29tcG9uZW50V2VpZ2h0LkZMWU9VVF9XRUlHSFQsY2FwYWJpbGl0aWVzOltDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ2FwYWJpbGl0eS5BVVRPSElERUFCTEUsXG5Db21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ2FwYWJpbGl0eS5ERUxFVEVfQVJFQSxDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ2FwYWJpbGl0eS5EUkFHX1RBUkdFVF19KX1kaXNwb3NlKCl7dGhpcy5oaWRlKCk7dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0Q29tcG9uZW50TWFuYWdlcigpLnJlbW92ZUNvbXBvbmVudCh0aGlzLmlkKTtmb3IoY29uc3QgYSBvZiB0aGlzLmJvdW5kRXZlbnRzKXVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpO3RoaXMuYm91bmRFdmVudHMubGVuZ3RoPTA7dGhpcy53b3Jrc3BhY2VfJiYodGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnVuc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8pLHRoaXMud29ya3NwYWNlXy5kaXNwb3NlKCkpO3RoaXMuc3ZnR3JvdXBfJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnR3JvdXBfKX1nZXRXaWR0aCgpe3JldHVybiB0aGlzLndpZHRoX31nZXRIZWlnaHQoKXtyZXR1cm4gdGhpcy5oZWlnaHRffWdldEZseW91dFNjYWxlKCl7cmV0dXJuIHRoaXMudGFyZ2V0V29ya3NwYWNlLnNjYWxlfWdldFdvcmtzcGFjZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZV99c2V0QXV0b0Nsb3NlKGEpe3RoaXMuYXV0b0Nsb3NlPVxuYTt0aGlzLnRhcmdldFdvcmtzcGFjZS5yZWNvcmREcmFnVGFyZ2V0cygpO3RoaXMudGFyZ2V0V29ya3NwYWNlLnJlc2l6ZUNvbnRlbnRzKCl9YXV0b0hpZGUoYSl7IWEmJnRoaXMudGFyZ2V0V29ya3NwYWNlLmdldEZseW91dCghMCk9PT10aGlzJiZ0aGlzLmF1dG9DbG9zZSYmdGhpcy5oaWRlKCl9Z2V0VGFyZ2V0V29ya3NwYWNlKCl7cmV0dXJuIHRoaXMudGFyZ2V0V29ya3NwYWNlfWlzVmlzaWJsZSgpe3JldHVybiB0aGlzLnZpc2libGV9c2V0VmlzaWJsZShhKXtjb25zdCBiPWEhPT10aGlzLmlzVmlzaWJsZSgpO3RoaXMudmlzaWJsZT1hO2ImJih0aGlzLmF1dG9DbG9zZXx8dGhpcy50YXJnZXRXb3Jrc3BhY2UucmVjb3JkRHJhZ1RhcmdldHMoKSx0aGlzLnVwZGF0ZURpc3BsYXkoKSl9c2V0Q29udGFpbmVyVmlzaWJsZShhKXtjb25zdCBiPWEhPT10aGlzLmNvbnRhaW5lclZpc2libGU7dGhpcy5jb250YWluZXJWaXNpYmxlPWE7YiYmdGhpcy51cGRhdGVEaXNwbGF5KCl9Z2V0Q29udGVudHMoKXtyZXR1cm4gdGhpcy5jb250ZW50c31zZXRDb250ZW50cyhhKXt0aGlzLmNvbnRlbnRzPVxuYX11cGRhdGVEaXNwbGF5KCl7bGV0IGE7YT10aGlzLmNvbnRhaW5lclZpc2libGU/dGhpcy5pc1Zpc2libGUoKTohMTt0aGlzLnN2Z0dyb3VwXyYmKHRoaXMuc3ZnR3JvdXBfLnN0eWxlLmRpc3BsYXk9YT9cImJsb2NrXCI6XCJub25lXCIpO2xldCBiOyhiPXRoaXMud29ya3NwYWNlXy5zY3JvbGxiYXIpPT1udWxsfHxiLnNldENvbnRhaW5lclZpc2libGUoYSl9cG9zaXRpb25BdF8oYSxiLGMsZCl7bGV0IGU7KGU9dGhpcy5zdmdHcm91cF8pPT1udWxsfHxlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYCR7YX1gKTtsZXQgZjsoZj10aGlzLnN2Z0dyb3VwXyk9PW51bGx8fGYuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYCR7Yn1gKTt0aGlzLndvcmtzcGFjZV8uc2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZShhLGIpO3RoaXMuc3ZnR3JvdXBfJiZzZXRDc3NUcmFuc2Zvcm0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cF8sXCJ0cmFuc2xhdGUoXCIrYytcInB4LFwiK2QrXCJweClcIik7XG5pZihhPXRoaXMud29ya3NwYWNlXy5zY3JvbGxiYXIpYS5zZXRPcmlnaW4oYyxkKSxhLnJlc2l6ZSgpLGEuaFNjcm9sbCYmYS5oU2Nyb2xsLnNldFBvc2l0aW9uKGEuaFNjcm9sbC5wb3NpdGlvbi54LGEuaFNjcm9sbC5wb3NpdGlvbi55KSxhLnZTY3JvbGwmJmEudlNjcm9sbC5zZXRQb3NpdGlvbihhLnZTY3JvbGwucG9zaXRpb24ueCxhLnZTY3JvbGwucG9zaXRpb24ueSl9aGlkZSgpe3RoaXMuaXNWaXNpYmxlKCkmJih0aGlzLnNldFZpc2libGUoITEpLHRoaXMucmVmbG93V3JhcHBlciYmKHRoaXMud29ya3NwYWNlXy5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLnJlZmxvd1dyYXBwZXIpLHRoaXMucmVmbG93V3JhcHBlcj1udWxsKSl9c2hvdyhhKXt0aGlzLndvcmtzcGFjZV8uc2V0UmVzaXplc0VuYWJsZWQoITEpO3RoaXMuaGlkZSgpO3RoaXMuY2xlYXJPbGRCbG9ja3MoKTt0eXBlb2YgYT09PVwic3RyaW5nXCImJihhPXRoaXMuZ2V0RHluYW1pY0NhdGVnb3J5Q29udGVudHMoYSkpO1xudGhpcy5zZXRWaXNpYmxlKCEwKTthPWNvbnZlcnRGbHlvdXREZWZUb0pzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSk7YT10aGlzLmNyZWF0ZUZseW91dEluZm8oYSk7dHJpZ2dlclF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCh0aGlzLndvcmtzcGFjZV8pO3RoaXMuc2V0Q29udGVudHMoYSk7dGhpcy5sYXlvdXRfKGEpO3RoaXMuaG9yaXpvbnRhbExheW91dD90aGlzLmhlaWdodF89MDp0aGlzLndpZHRoXz0wO3RoaXMucmVmbG93KCk7dGhpcy53b3Jrc3BhY2VfLnNldFJlc2l6ZXNFbmFibGVkKCEwKTt0aGlzLnJlZmxvd1dyYXBwZXI9Yj0+e2IudHlwZSE9PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRSYmYi50eXBlIT09RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRklFTERfSU5URVJNRURJQVRFX0NIQU5HRXx8XG50aGlzLnJlZmxvdygpfTt0aGlzLndvcmtzcGFjZV8uYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5yZWZsb3dXcmFwcGVyKX1jcmVhdGVGbHlvdXRJbmZvKGEpe2NvbnN0IGI9W10sYz10aGlzLmhvcml6b250YWxMYXlvdXQ/dGhpcy5HQVBfWDp0aGlzLkdBUF9ZO2Zvcihjb25zdCBkIG9mIGEpaWYoXCJjdXN0b21cImluIGQmJihhPXRoaXMuZ2V0RHluYW1pY0NhdGVnb3J5Q29udGVudHMoZC5jdXN0b20pLGE9Y29udmVydEZseW91dERlZlRvSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKSxiLnB1c2goLi4udGhpcy5jcmVhdGVGbHlvdXRJbmZvKGEpKSksYT1kLmtpbmQudG9Mb3dlckNhc2UoKSxhPXRoaXMuZ2V0SW5mbGF0ZXJGb3JUeXBlKGEpKWIucHVzaChhLmxvYWQoZCx0aGlzKSksKGE9YS5nYXBGb3JJdGVtKGQsYykpJiZiLnB1c2gobmV3IEZseW91dEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbShuZXcgRmx5b3V0U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3NlcGFyYXRvcihhLFxudGhpcy5ob3Jpem9udGFsTGF5b3V0P1wieFwiOlwieVwiKSxTRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXIpKTtyZXR1cm4gdGhpcy5ub3JtYWxpemVTZXBhcmF0b3JzKGIpfW5vcm1hbGl6ZVNlcGFyYXRvcnMoYSl7Zm9yKGxldCBiPWEubGVuZ3RoLTE7Yj4wO2ItLSl7Y29uc3QgYz1hW2JdLmdldFR5cGUoKS50b0xvd2VyQ2FzZSgpLGQ9YVtiLTFdLmdldFR5cGUoKS50b0xvd2VyQ2FzZSgpO2M9PT1TRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXImJmQ9PT1TRVBBUkFUT1JfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcGFyYXRvcl9mbHlvdXRfaW5mbGF0ZXImJmEuc3BsaWNlKGItMSwxKX1yZXR1cm4gYX1nZXREeW5hbWljQ2F0ZWdvcnlDb250ZW50cyhhKXthPXRoaXMud29ya3NwYWNlXy50YXJnZXRXb3Jrc3BhY2UuZ2V0VG9vbGJveENhdGVnb3J5Q2FsbGJhY2soYSk7XG5pZih0eXBlb2YgYSE9PVwiZnVuY3Rpb25cIil0aHJvdyBUeXBlRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBvcGVuaW5nIGEgdG9vbGJveCBjYXRlZ29yeS5cIik7cmV0dXJuIGEodGhpcy53b3Jrc3BhY2VfLnRhcmdldFdvcmtzcGFjZSl9Y2xlYXJPbGRCbG9ja3MoKXt0aGlzLmdldENvbnRlbnRzKCkuZm9yRWFjaChiPT57bGV0IGM7KGM9dGhpcy5nZXRJbmZsYXRlckZvclR5cGUoYi5nZXRUeXBlKCkpKT09bnVsbHx8Yy5kaXNwb3NlSXRlbShiKX0pO2xldCBhOyhhPXRoaXMud29ya3NwYWNlXy5nZXRQb3RlbnRpYWxWYXJpYWJsZU1hcCgpKT09bnVsbHx8YS5jbGVhcigpfW9uTW91c2VEb3duKGEpe2NvbnN0IGI9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0R2VzdHVyZShhKTtiJiZiLmhhbmRsZUZseW91dFN0YXJ0KGEsdGhpcyl9aXNCbG9ja0NyZWF0YWJsZShhKXtyZXR1cm4gYS5pc0VuYWJsZWQoKSYmIXRoaXMuZ2V0VGFyZ2V0V29ya3NwYWNlKCkuaXNSZWFkT25seSgpfWNyZWF0ZUJsb2NrKGEpe2xldCBiPVxubnVsbDskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt2YXIgYz10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRBbGxWYXJpYWJsZXMoKTt0aGlzLnRhcmdldFdvcmtzcGFjZS5zZXRSZXNpemVzRW5hYmxlZCghMSk7dHJ5e2I9dGhpcy5wbGFjZU5ld0Jsb2NrKGEpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX10aGlzLnRhcmdldFdvcmtzcGFjZS5oaWRlQ2hhZmYoKTthPWdldEFkZGVkVmFyaWFibGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMudGFyZ2V0V29ya3NwYWNlLGMpO2lmKGlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKXskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXtjb25zdCBkPWFbY107ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFKSkoZCkpfWZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFKSkoYikpfXRoaXMuYXV0b0Nsb3NlJiZcbnRoaXMuaGlkZSgpO3JldHVybiBifXJlZmxvdygpe3RoaXMucmVmbG93V3JhcHBlciYmdGhpcy53b3Jrc3BhY2VfLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMucmVmbG93V3JhcHBlcik7dGhpcy5yZWZsb3dJbnRlcm5hbF8oKTt0aGlzLnJlZmxvd1dyYXBwZXImJnRoaXMud29ya3NwYWNlXy5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLnJlZmxvd1dyYXBwZXIpfWlzU2Nyb2xsYWJsZSgpe3JldHVybiB0aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyP3RoaXMud29ya3NwYWNlXy5zY3JvbGxiYXIuaXNWaXNpYmxlKCk6ITF9cGxhY2VOZXdCbG9jayhhKXt2YXIgYj10aGlzLnRhcmdldFdvcmtzcGFjZTtpZighYS5nZXRTdmdSb290KCkpdGhyb3cgRXJyb3IoXCJvbGRCbG9jayBpcyBub3QgcmVuZGVyZWRcIik7Y29uc3QgYz10aGlzLnNlcmlhbGl6ZUJsb2NrKGEpO2Iuc2V0UmVzaXplc0VuYWJsZWQoITEpO2I9YXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYyxcbmIpO3RoaXMucG9zaXRpb25OZXdCbG9jayhhLGIpO3JldHVybiBifXNlcmlhbGl6ZUJsb2NrKGEpe3JldHVybiBzYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRibG9ja3MoYSl9cG9zaXRpb25OZXdCbG9jayhhLGIpe2NvbnN0IGM9dGhpcy50YXJnZXRXb3Jrc3BhY2U7dmFyIGQ9Yy5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpLGU9dGhpcy53b3Jrc3BhY2VfLmdldE9yaWdpbk9mZnNldEluUGl4ZWxzKCk7YT1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTthLnNjYWxlKHRoaXMud29ya3NwYWNlXy5zY2FsZSk7ZT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5zdW0oZSxhKTtkPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpZmZlcmVuY2UoZSxkKTtkLnNjYWxlKDEvYy5zY2FsZSk7Yi5tb3ZlVG8obmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGQueCxcbmQueSkpfWdldEluZmxhdGVyRm9yVHlwZShhKXtpZih0aGlzLmluZmxhdGVycy5oYXMoYSkpe3ZhciBiO3JldHVybihiPXRoaXMuaW5mbGF0ZXJzLmdldChhKSkhPW51bGw/YjpudWxsfXJldHVybihiPWdldENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVF9JTkZMQVRFUixhKSk/KGI9bmV3IGIsdGhpcy5pbmZsYXRlcnMuc2V0KGEsYiksYik6bnVsbH1nZXRGb2N1c2FibGVFbGVtZW50KCl7dGhyb3cgRXJyb3IoXCJGbHlvdXRzIGFyZSBub3QgZGlyZWN0bHkgZm9jdXNhYmxlLlwiKTt9Z2V0Rm9jdXNhYmxlVHJlZSgpe3Rocm93IEVycm9yKFwiRmx5b3V0cyBhcmUgbm90IGRpcmVjdGx5IGZvY3VzYWJsZS5cIik7fW9uTm9kZUZvY3VzKCl7fW9uTm9kZUJsdXIoKXt9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuITF9Z2V0Um9vdEZvY3VzYWJsZU5vZGUoKXt0aHJvdyBFcnJvcihcIkZseW91dHMgYXJlIG5vdCBkaXJlY3RseSBmb2N1c2FibGUuXCIpO1xufWdldFJlc3RvcmVkRm9jdXNhYmxlTm9kZShhKXt0aHJvdyBFcnJvcihcIkZseW91dHMgYXJlIG5vdCBkaXJlY3RseSBmb2N1c2FibGUuXCIpO31nZXROZXN0ZWRUcmVlcygpe3Rocm93IEVycm9yKFwiRmx5b3V0cyBhcmUgbm90IGRpcmVjdGx5IGZvY3VzYWJsZS5cIik7fWxvb2tVcEZvY3VzYWJsZU5vZGUoYSl7dGhyb3cgRXJyb3IoXCJGbHlvdXRzIGFyZSBub3QgZGlyZWN0bHkgZm9jdXNhYmxlLlwiKTt9b25UcmVlRm9jdXMoYSxiKXt9b25UcmVlQmx1cihhKXt0aHJvdyBFcnJvcihcIkZseW91dHMgYXJlIG5vdCBkaXJlY3RseSBmb2N1c2FibGUuXCIpO319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYmFzZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2Jhc2UuRmx5b3V0PUZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9iYXNlO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZS5pc0RyYWdnYWJsZT1pc0RyYWdnYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnZ2FibGU7dmFyIEtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmlzQWN0aXZlPSExO3RoaXMuYWN0aXZlQ2xhc3NOYW1lPVwiYmxvY2tseUtleWJvYXJkTmF2aWdhdGlvblwifXNldElzQWN0aXZlKGE9ITApe3RoaXMuaXNBY3RpdmU9YTt0aGlzLnVwZGF0ZUFjdGl2ZVZpc3VhbGl6YXRpb24oKX1nZXRJc0FjdGl2ZSgpe3JldHVybiB0aGlzLmlzQWN0aXZlfXVwZGF0ZUFjdGl2ZVZpc3VhbGl6YXRpb24oKXt0aGlzLmlzQWN0aXZlP2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCh0aGlzLmFjdGl2ZUNsYXNzTmFtZSk6ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuYWN0aXZlQ2xhc3NOYW1lKX19LGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXI9XG5uZXcgS2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdmlnYXRpb25fY29udHJvbGxlcixtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIuS2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcj1LZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIua2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcj1rZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2aWdhdGlvbl9jb250cm9sbGVyO3ZhciBXb3Jrc3BhY2VEcmFnZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2RyYWdnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmhvcml6b250YWxTY3JvbGxFbmFibGVkPXRoaXMud29ya3NwYWNlLmlzTW92YWJsZUhvcml6b250YWxseSgpO3RoaXMudmVydGljYWxTY3JvbGxFbmFibGVkPXRoaXMud29ya3NwYWNlLmlzTW92YWJsZVZlcnRpY2FsbHkoKTt0aGlzLnN0YXJ0U2Nyb2xsWFlfPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLnNjcm9sbFgsYS5zY3JvbGxZKX1kaXNwb3NlKCl7dGhpcy53b3Jrc3BhY2U9bnVsbH1zdGFydERyYWcoKXt9ZW5kRHJhZyhhKXt0aGlzLmRyYWcoYSl9ZHJhZyhhKXthPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0U2Nyb2xsWFlfLGEpO2lmKHRoaXMuaG9yaXpvbnRhbFNjcm9sbEVuYWJsZWQmJlxudGhpcy52ZXJ0aWNhbFNjcm9sbEVuYWJsZWQpdGhpcy53b3Jrc3BhY2Uuc2Nyb2xsKGEueCxhLnkpO2Vsc2UgaWYodGhpcy5ob3Jpem9udGFsU2Nyb2xsRW5hYmxlZCl0aGlzLndvcmtzcGFjZS5zY3JvbGwoYS54LHRoaXMud29ya3NwYWNlLnNjcm9sbFkpO2Vsc2UgaWYodGhpcy52ZXJ0aWNhbFNjcm9sbEVuYWJsZWQpdGhpcy53b3Jrc3BhY2Uuc2Nyb2xsKHRoaXMud29ya3NwYWNlLnNjcm9sbFgsYS55KTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHN0YXRlLlwiKTt9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2RyYWdnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9kcmFnZ2VyLldvcmtzcGFjZURyYWdnZXI9V29ya3NwYWNlRHJhZ2dlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9kcmFnZ2VyO3ZhciBaT09NX0lOX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlPTUsWk9PTV9PVVRfTVVMVElQTElFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlc3R1cmU9NixHZXN0dXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuY3JlYXRvcldvcmtzcGFjZT1iO3RoaXMubW91c2VEb3duWFk9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCk7dGhpcy5zdGFydFdvcmtzcGFjZV89dGhpcy50YXJnZXRCbG9jaz10aGlzLnN0YXJ0Q29tbWVudD10aGlzLnN0YXJ0QmxvY2s9dGhpcy5zdGFydEljb249dGhpcy5zdGFydEZpZWxkPXRoaXMuc3RhcnRCdWJibGU9bnVsbDt0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1cz0hMTt0aGlzLmJvdW5kRXZlbnRzPVtdO3RoaXMud29ya3NwYWNlRHJhZ2dlcj10aGlzLmRyYWdnZXI9bnVsbDt0aGlzLmRyYWdnaW5nPVxuITE7dGhpcy5mbHlvdXQ9bnVsbDt0aGlzLm11bHRpVG91Y2g9dGhpcy5pc0VuZGluZ189dGhpcy5nZXN0dXJlSGFzU3RhcnRlZD10aGlzLmNhbGxlZFVwZGF0ZUlzRHJhZ2dpbmc9ITE7dGhpcy5jYWNoZWRQb2ludHM9bmV3IE1hcDt0aGlzLnN0YXJ0RGlzdGFuY2U9dGhpcy5wcmV2aW91c1NjYWxlPTA7dGhpcy5jdXJyZW50RHJvcGRvd25Pd25lcj10aGlzLmlzUGluY2hab29tRW5hYmxlZD1udWxsO3RoaXMubW9zdFJlY2VudEV2ZW50PWE7dGhpcy5jdXJyZW50RHJhZ0RlbHRhWFk9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKDAsMCl9ZGlzcG9zZSgpe2NsZWFyVG91Y2hJZGVudGlmaWVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKTt1bmJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpO3RoaXMuY3JlYXRvcldvcmtzcGFjZS5jbGVhckdlc3R1cmUoKTtmb3IoY29uc3QgYSBvZiB0aGlzLmJvdW5kRXZlbnRzKXVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpO1xudGhpcy5ib3VuZEV2ZW50cy5sZW5ndGg9MDt0aGlzLndvcmtzcGFjZURyYWdnZXImJnRoaXMud29ya3NwYWNlRHJhZ2dlci5kaXNwb3NlKCl9dXBkYXRlRnJvbUV2ZW50KGEpe2NvbnN0IGI9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKGEuY2xpZW50WCxhLmNsaWVudFkpO3RoaXMudXBkYXRlRHJhZ0RlbHRhKGIpJiYodGhpcy51cGRhdGVJc0RyYWdnaW5nKGEpLGxvbmdTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKSk7dGhpcy5tb3N0UmVjZW50RXZlbnQ9YX11cGRhdGVEcmFnRGVsdGEoYSl7dGhpcy5jdXJyZW50RHJhZ0RlbHRhWFk9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZGlmZmVyZW5jZShhLHRoaXMubW91c2VEb3duWFkpO3JldHVybiB0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1cz8hMTp0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1cz1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5tYWduaXR1ZGUodGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpPlxuKHRoaXMuZmx5b3V0PyQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLmZseW91dERyYWdSYWRpdXM6JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWcuZHJhZ1JhZGl1cyl9dXBkYXRlSXNEcmFnZ2luZ0Zyb21GbHlvdXQoKXtsZXQgYTtpZighdGhpcy50YXJnZXRCbG9ja3x8KGE9dGhpcy5mbHlvdXQpPT1udWxsfHwhYS5pc0Jsb2NrQ3JlYXRhYmxlKHRoaXMudGFyZ2V0QmxvY2spKXJldHVybiExO2lmKCF0aGlzLmZseW91dC50YXJnZXRXb3Jrc3BhY2UpdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGRyYWdnaW5nIGZyb20gdGhlIGZseW91dCBiZWNhdXNlIHRoZSAnICtcXG4gICAgICAgICAgJ2ZseW91dCdzIHRhcmdldCB3b3Jrc3BhY2UgaXMgdW5kZWZpbmVkXCIpO3JldHVybiF0aGlzLmZseW91dC5pc1Njcm9sbGFibGUoKXx8dGhpcy5mbHlvdXQuaXNEcmFnVG93YXJkV29ya3NwYWNlKHRoaXMuY3VycmVudERyYWdEZWx0YVhZKT8odGhpcy5zdGFydFdvcmtzcGFjZV89XG50aGlzLmZseW91dC50YXJnZXRXb3Jrc3BhY2UsdGhpcy5zdGFydFdvcmtzcGFjZV8udXBkYXRlU2NyZWVuQ2FsY3VsYXRpb25zSWZTY3JvbGxlZCgpLCQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCksdGhpcy5zdGFydEJsb2NrPW51bGwsdGhpcy50YXJnZXRCbG9jaz10aGlzLmZseW91dC5jcmVhdGVCbG9jayh0aGlzLnRhcmdldEJsb2NrKSwkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcy50YXJnZXRCbG9jayksITApOiExfXVwZGF0ZUlzRHJhZ2dpbmdXb3Jrc3BhY2UoKXtpZighdGhpcy5zdGFydFdvcmtzcGFjZV8pdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGRyYWdnaW5nIHRoZSB3b3Jrc3BhY2UgYmVjYXVzZSB0aGUgc3RhcnQgd29ya3NwYWNlIGlzIHVuZGVmaW5lZFwiKTtcbmlmKHRoaXMuZmx5b3V0P3RoaXMuZmx5b3V0LmlzU2Nyb2xsYWJsZSgpOnRoaXMuc3RhcnRXb3Jrc3BhY2VfJiZ0aGlzLnN0YXJ0V29ya3NwYWNlXy5pc0RyYWdnYWJsZSgpKXRoaXMuZHJhZ2dpbmc9ITAsdGhpcy53b3Jrc3BhY2VEcmFnZ2VyPW5ldyBXb3Jrc3BhY2VEcmFnZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2RyYWdnZXIodGhpcy5zdGFydFdvcmtzcGFjZV8pLHRoaXMud29ya3NwYWNlRHJhZ2dlci5zdGFydERyYWcoKX11cGRhdGVJc0RyYWdnaW5nKGEpe2lmKCF0aGlzLnN0YXJ0V29ya3NwYWNlXyl0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgZHJhZ2dpbmcgYmVjYXVzZSB0aGUgc3RhcnQgd29ya3NwYWNlIGlzIHVuZGVmaW5lZFwiKTtpZih0aGlzLmNhbGxlZFVwZGF0ZUlzRHJhZ2dpbmcpdGhyb3cgRXJyb3IoXCJ1cGRhdGVJc0RyYWdnaW5nXyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgZ2VzdHVyZS5cIik7dGhpcy5jYWxsZWRVcGRhdGVJc0RyYWdnaW5nPVxuITA7dGhpcy5mbHlvdXQmJnRoaXMudXBkYXRlSXNEcmFnZ2luZ0Zyb21GbHlvdXQoKTtjb25zdCBiPWdldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCk7YiYmaXNEcmFnZ2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dhYmxlKGIpJiZiLmlzTW92YWJsZSgpPyh0aGlzLmRyYWdnaW5nPSEwLHRoaXMuZHJhZ2dlcj10aGlzLmNyZWF0ZURyYWdnZXIoYix0aGlzLnN0YXJ0V29ya3NwYWNlXyksdGhpcy5kcmFnZ2VyLm9uRHJhZ1N0YXJ0KGEpLHRoaXMuZHJhZ2dlci5vbkRyYWcoYSx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWSkpOnRoaXMudXBkYXRlSXNEcmFnZ2luZ1dvcmtzcGFjZSgpfWNyZWF0ZURyYWdnZXIoYSxiKXtyZXR1cm4gbmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkJMT0NLX0RSQUdHRVIsdGhpcy5jcmVhdG9yV29ya3NwYWNlLm9wdGlvbnMsXG4hMCkpKGEsYil9ZG9TdGFydChhKXtpZighdGhpcy5zdGFydFdvcmtzcGFjZV8pdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3RhcnQgdGhlIHRvdWNoIGdlc3R1cmUgYmVjYXVhc2UgdGhlIHN0YXJ0IHdvcmtzcGFjZSBpcyB1bmRlZmluZWRcIik7dGhpcy5pc1BpbmNoWm9vbUVuYWJsZWQ9dGhpcy5zdGFydFdvcmtzcGFjZV8ub3B0aW9ucy56b29tT3B0aW9ucyYmdGhpcy5zdGFydFdvcmtzcGFjZV8ub3B0aW9ucy56b29tT3B0aW9ucy5waW5jaDtpc1RhcmdldElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk/dGhpcy5jYW5jZWwoKToodGhpcy5nZXN0dXJlSGFzU3RhcnRlZD0hMCxkaXNjb25uZWN0VWlTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfYW5pbWF0aW9ucygpLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLnVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9uc0lmU2Nyb2xsZWQoKSx0aGlzLnN0YXJ0V29ya3NwYWNlXy5pc011dGF0b3ImJnRoaXMuc3RhcnRXb3Jrc3BhY2VfLnJlc2l6ZSgpLFxudGhpcy5jdXJyZW50RHJvcGRvd25Pd25lcj1nZXRPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCksdGhpcy5zdGFydFdvcmtzcGFjZV8uaGlkZUNoYWZmKCEhdGhpcy5mbHlvdXQpLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLm1hcmtGb2N1c2VkKCksdGhpcy5tb3N0UmVjZW50RXZlbnQ9YSxibG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2x0aXAoKSxpc1JpZ2h0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk/dGhpcy5oYW5kbGVSaWdodENsaWNrKGEpOihhLnR5cGUudG9Mb3dlckNhc2UoKT09PVwicG9pbnRlcmRvd25cIiYmYS5wb2ludGVyVHlwZSE9PVwibW91c2VcIiYmbG9uZ1N0YXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goYSx0aGlzKSx0aGlzLm1vdXNlRG93blhZPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKSx0aGlzLmJpbmRNb3VzZUV2ZW50cyhhKSxcbnRoaXMuaXNFbmRpbmdffHx0aGlzLmhhbmRsZVRvdWNoU3RhcnQoYSkpKX1iaW5kTW91c2VFdmVudHMoYSl7dGhpcy5ib3VuZEV2ZW50cy5wdXNoKGNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGRvY3VtZW50LFwicG9pbnRlcmRvd25cIixudWxsLHRoaXMuaGFuZGxlU3RhcnQuYmluZCh0aGlzKSwhMCkpO3RoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJtb3ZlXCIsbnVsbCx0aGlzLmhhbmRsZU1vdmUuYmluZCh0aGlzKSwhMCkpO3RoaXMuYm91bmRFdmVudHMucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhkb2N1bWVudCxcInBvaW50ZXJ1cFwiLG51bGwsdGhpcy5oYW5kbGVVcC5iaW5kKHRoaXMpLCEwKSk7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9aGFuZGxlU3RhcnQoYSl7dGhpcy5pc0RyYWdnaW5nKCl8fFxuKHRoaXMuaGFuZGxlVG91Y2hTdGFydChhKSx0aGlzLmlzTXVsdGlUb3VjaCgpJiZsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCkpfWhhbmRsZU1vdmUoYSl7aWYodGhpcy5pc0RyYWdnaW5nKCkmJnNob3VsZEhhbmRsZUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goYSl8fCF0aGlzLmlzTXVsdGlUb3VjaCgpKXt0aGlzLnVwZGF0ZUZyb21FdmVudChhKTtpZih0aGlzLndvcmtzcGFjZURyYWdnZXIpdGhpcy53b3Jrc3BhY2VEcmFnZ2VyLmRyYWcodGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpO2Vsc2UgaWYodGhpcy5kcmFnZ2VyKXRoaXMuZHJhZ2dlci5vbkRyYWcodGhpcy5tb3N0UmVjZW50RXZlbnQsdGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpO2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfWVsc2UgdGhpcy5pc011bHRpVG91Y2goKSYmKHRoaXMuaGFuZGxlVG91Y2hNb3ZlKGEpLGxvbmdTdG9wJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goKSl9aGFuZGxlVXAoYSl7dGhpcy5pc0RyYWdnaW5nKCl8fFxudGhpcy5oYW5kbGVUb3VjaEVuZChhKTtpZighdGhpcy5pc011bHRpVG91Y2goKXx8dGhpcy5pc0RyYWdnaW5nKCkpe2lmKCFzaG91bGRIYW5kbGVFdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEpKXJldHVybjt0aGlzLnVwZGF0ZUZyb21FdmVudChhKTtsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7aWYodGhpcy5pc0VuZGluZ18pe2NvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGVuZCBhIGdlc3R1cmUgcmVjdXJzaXZlbHkuXCIpO3JldHVybn10aGlzLmlzRW5kaW5nXz0hMDt0aGlzLmRyYWdnZXI/KGtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIuc2V0SXNBY3RpdmUoITEpLHRoaXMuZHJhZ2dlci5vbkRyYWdFbmQoYSx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWSkpOnRoaXMud29ya3NwYWNlRHJhZ2dlcj8oa2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdmlnYXRpb25fY29udHJvbGxlci5zZXRJc0FjdGl2ZSghMSksXG50aGlzLndvcmtzcGFjZURyYWdnZXIuZW5kRHJhZyh0aGlzLmN1cnJlbnREcmFnRGVsdGFYWSkpOnRoaXMuaXNCdWJibGVDbGljaygpfHx0aGlzLmlzQ29tbWVudENsaWNrKCl8fCh0aGlzLmlzRmllbGRDbGljaygpP3RoaXMuZG9GaWVsZENsaWNrKCk6dGhpcy5pc0ljb25DbGljaygpP3RoaXMuZG9JY29uQ2xpY2soKTp0aGlzLmlzQmxvY2tDbGljaygpP3RoaXMuZG9CbG9ja0NsaWNrKCk6dGhpcy5pc1dvcmtzcGFjZUNsaWNrKCkmJnRoaXMuZG9Xb3Jrc3BhY2VDbGljayhhKSl9YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCk7dGhpcy5kaXNwb3NlKCl9aGFuZGxlVG91Y2hTdGFydChhKXt2YXIgYj1nZXRUb3VjaElkZW50aWZpZXJGcm9tRXZlbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaChhKTt0aGlzLmNhY2hlZFBvaW50cy5zZXQoYix0aGlzLmdldFRvdWNoUG9pbnQoYSkpO3ZhciBjPUFycmF5LmZyb20odGhpcy5jYWNoZWRQb2ludHMua2V5cygpKTtcbmMubGVuZ3RoPT09MiYmKGI9dGhpcy5jYWNoZWRQb2ludHMuZ2V0KGNbMF0pLGM9dGhpcy5jYWNoZWRQb2ludHMuZ2V0KGNbMV0pLHRoaXMuc3RhcnREaXN0YW5jZT1Db29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5kaXN0YW5jZShiLGMpLHRoaXMubXVsdGlUb3VjaD0hMCxhLnByZXZlbnREZWZhdWx0KCkpfWhhbmRsZVRvdWNoTW92ZShhKXtjb25zdCBiPWdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKGEpO3RoaXMuY2FjaGVkUG9pbnRzLnNldChiLHRoaXMuZ2V0VG91Y2hQb2ludChhKSk7aWYodGhpcy5pc1BpbmNoWm9vbUVuYWJsZWQmJnRoaXMuY2FjaGVkUG9pbnRzLnNpemU9PT0yKXRoaXMuaGFuZGxlUGluY2goYSk7ZWxzZXt0aGlzLnVwZGF0ZUZyb21FdmVudChhKTtpZih0aGlzLndvcmtzcGFjZURyYWdnZXIpdGhpcy53b3Jrc3BhY2VEcmFnZ2VyLmRyYWcodGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpO1xuZWxzZSBpZih0aGlzLmRyYWdnZXIpdGhpcy5kcmFnZ2VyLm9uRHJhZyh0aGlzLm1vc3RSZWNlbnRFdmVudCx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWSk7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9fWhhbmRsZVBpbmNoKGEpe3ZhciBiPUFycmF5LmZyb20odGhpcy5jYWNoZWRQb2ludHMua2V5cygpKSxjPXRoaXMuY2FjaGVkUG9pbnRzLmdldChiWzBdKTtiPXRoaXMuY2FjaGVkUG9pbnRzLmdldChiWzFdKTtjPUNvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmRpc3RhbmNlKGMsYikvdGhpcy5zdGFydERpc3RhbmNlO2lmKHRoaXMucHJldmlvdXNTY2FsZT4wJiZ0aGlzLnByZXZpb3VzU2NhbGU8SW5maW5pdHkpe2I9Yy10aGlzLnByZXZpb3VzU2NhbGU7Yj1iPjA/YipaT09NX0lOX01VTFRJUExJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlOmIqWk9PTV9PVVRfTVVMVElQTElFUiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlc3R1cmU7XG5pZighdGhpcy5zdGFydFdvcmtzcGFjZV8pdGhyb3cgRXJyb3IoXCJDYW5ub3QgaGFuZGxlIGEgcGluY2ggYmVjYXVzZSB0aGUgc3RhcnQgd29ya3NwYWNlIGlzIHVuZGVmaW5lZFwiKTtjb25zdCBkPXRoaXMuc3RhcnRXb3Jrc3BhY2VfLGU9bW91c2VUb1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsZC5nZXRQYXJlbnRTdmcoKSxkLmdldEludmVyc2VTY3JlZW5DVE0oKSk7ZC56b29tKGUueCxlLnksYil9dGhpcy5wcmV2aW91c1NjYWxlPWM7YS5wcmV2ZW50RGVmYXVsdCgpfWhhbmRsZVRvdWNoRW5kKGEpe2E9Z2V0VG91Y2hJZGVudGlmaWVyRnJvbUV2ZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG91Y2goYSk7dGhpcy5jYWNoZWRQb2ludHMuaGFzKGEpJiZ0aGlzLmNhY2hlZFBvaW50cy5kZWxldGUoYSk7dGhpcy5jYWNoZWRQb2ludHMuc2l6ZTwyJiYodGhpcy5jYWNoZWRQb2ludHMuY2xlYXIoKSx0aGlzLnByZXZpb3VzU2NhbGU9MCl9Z2V0VG91Y2hQb2ludChhKXtyZXR1cm4gdGhpcy5zdGFydFdvcmtzcGFjZV8/XG5uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYS5wYWdlWCxhLnBhZ2VZKTpudWxsfWlzTXVsdGlUb3VjaCgpe3JldHVybiB0aGlzLm11bHRpVG91Y2h9Y2FuY2VsKCl7aWYoIXRoaXMuaXNFbmRpbmdfKXtsb25nU3RvcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCk7aWYodGhpcy5kcmFnZ2VyKXRoaXMuZHJhZ2dlci5vbkRyYWdFbmQodGhpcy5tb3N0UmVjZW50RXZlbnQsdGhpcy5jdXJyZW50RHJhZ0RlbHRhWFkpO2Vsc2UgdGhpcy53b3Jrc3BhY2VEcmFnZ2VyJiZ0aGlzLndvcmtzcGFjZURyYWdnZXIuZW5kRHJhZyh0aGlzLmN1cnJlbnREcmFnRGVsdGFYWSk7dGhpcy5kaXNwb3NlKCl9fWhhbmRsZVJpZ2h0Q2xpY2soYSl7dGhpcy50YXJnZXRCbG9jaz8odGhpcy5icmluZ0Jsb2NrVG9Gcm9udCgpLHRoaXMudGFyZ2V0QmxvY2sud29ya3NwYWNlLmhpZGVDaGFmZighIXRoaXMuZmx5b3V0KSx0aGlzLnRhcmdldEJsb2NrLnNob3dDb250ZXh0TWVudShhKSk6XG50aGlzLnN0YXJ0QnViYmxlP3RoaXMuc3RhcnRCdWJibGUuc2hvd0NvbnRleHRNZW51KGEpOnRoaXMuc3RhcnRDb21tZW50Pyh0aGlzLnN0YXJ0Q29tbWVudC53b3Jrc3BhY2UuaGlkZUNoYWZmKCksdGhpcy5zdGFydENvbW1lbnQuc2hvd0NvbnRleHRNZW51KGEpKTp0aGlzLnN0YXJ0V29ya3NwYWNlXyYmIXRoaXMuZmx5b3V0JiYodGhpcy5zdGFydFdvcmtzcGFjZV8uaGlkZUNoYWZmKCksJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKHRoaXMuc3RhcnRXb3Jrc3BhY2VfKSx0aGlzLnN0YXJ0V29ya3NwYWNlXy5zaG93Q29udGV4dE1lbnUoYSkpO2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpO2tleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXIuc2V0SXNBY3RpdmUoITEpO3RoaXMuZGlzcG9zZSgpfWhhbmRsZVdzU3RhcnQoYSxcbmIpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuaGFuZGxlV3NTdGFydCwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7dGhpcy5zZXRTdGFydFdvcmtzcGFjZShiKTt0aGlzLm1vc3RSZWNlbnRFdmVudD1hO3RoaXMuc3RhcnRCbG9ja3x8dGhpcy5zdGFydEJ1YmJsZXx8dGhpcy5zdGFydENvbW1lbnQ/dGhpcy5zdGFydEJsb2NrJiYkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUodGhpcy5zdGFydEJsb2NrKTokLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoYik7dGhpcy5kb1N0YXJ0KGEpfWZpcmVXb3Jrc3BhY2VDbGljayhhKXtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNMSUNLKSkobnVsbCxcbmEuaWQsXCJ3b3Jrc3BhY2VcIikpfWhhbmRsZUZseW91dFN0YXJ0KGEsYil7aWYodGhpcy5nZXN0dXJlSGFzU3RhcnRlZCl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGNhbGwgZ2VzdHVyZS5oYW5kbGVGbHlvdXRTdGFydCwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7dGhpcy5zZXRTdGFydEZseW91dChiKTt0aGlzLmhhbmRsZVdzU3RhcnQoYSxiLmdldFdvcmtzcGFjZSgpKX1oYW5kbGVCbG9ja1N0YXJ0KGEsYil7aWYodGhpcy5nZXN0dXJlSGFzU3RhcnRlZCl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGNhbGwgZ2VzdHVyZS5oYW5kbGVCbG9ja1N0YXJ0LCBidXQgdGhlIGdlc3R1cmUgaGFkIGFscmVhZHkgYmVlbiBzdGFydGVkLlwiKTt0aGlzLnNldFN0YXJ0QmxvY2soYik7dGhpcy5tb3N0UmVjZW50RXZlbnQ9YX1oYW5kbGVCdWJibGVTdGFydChhLGIpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuaGFuZGxlQnViYmxlU3RhcnQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO1xudGhpcy5zZXRTdGFydEJ1YmJsZShiKTt0aGlzLm1vc3RSZWNlbnRFdmVudD1hfWhhbmRsZUNvbW1lbnRTdGFydChhLGIpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuaGFuZGxlQ29tbWVudFN0YXJ0LCBidXQgdGhlIGdlc3R1cmUgaGFkIGFscmVhZHkgYmVlbiBzdGFydGVkLlwiKTt0aGlzLnNldFN0YXJ0Q29tbWVudChiKTt0aGlzLm1vc3RSZWNlbnRFdmVudD1hfWRvRmllbGRDbGljaygpe2lmKCF0aGlzLnN0YXJ0RmllbGQpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZG8gYSBmaWVsZCBjbGljayBiZWNhdXNlIHRoZSBzdGFydCBmaWVsZCBpcyB1bmRlZmluZWRcIik7dGhpcy5icmluZ0Jsb2NrVG9Gcm9udCgpO3RoaXMuY3VycmVudERyb3Bkb3duT3duZXIhPT10aGlzLnN0YXJ0RmllbGQmJnRoaXMuc3RhcnRGaWVsZC5zaG93RWRpdG9yKHRoaXMubW9zdFJlY2VudEV2ZW50KX1kb0ljb25DbGljaygpe2lmKCF0aGlzLnN0YXJ0SWNvbil0aHJvdyBFcnJvcihcIkNhbm5vdCBkbyBhbiBpY29uIGNsaWNrIGJlY2F1c2UgdGhlIHN0YXJ0IGljb24gaXMgdW5kZWZpbmVkXCIpO1xudGhpcy5icmluZ0Jsb2NrVG9Gcm9udCgpO3RoaXMuc3RhcnRJY29uLm9uQ2xpY2soKX1kb0Jsb2NrQ2xpY2soKXtpZih0aGlzLmZseW91dCYmdGhpcy5mbHlvdXQuYXV0b0Nsb3NlKXtpZighdGhpcy50YXJnZXRCbG9jayl0aHJvdyBFcnJvcihcIkNhbm5vdCBkbyBhIGJsb2NrIGNsaWNrIGJlY2F1c2UgdGhlIHRhcmdldCBibG9jayBpcyB1bmRlZmluZWRcIik7aWYodGhpcy5mbHlvdXQuaXNCbG9ja0NyZWF0YWJsZSh0aGlzLnRhcmdldEJsb2NrKSl7JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTt2YXIgYT10aGlzLmZseW91dC5jcmVhdGVCbG9jayh0aGlzLnRhcmdldEJsb2NrKTthLnNuYXBUb0dyaWQoKTthLmJ1bXBOZWlnaGJvdXJzKCk7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpfX1lbHNle2lmKCF0aGlzLnN0YXJ0V29ya3NwYWNlXyl0aHJvdyBFcnJvcihcIkNhbm5vdCBkbyBhIGJsb2NrIGNsaWNrIGJlY2F1c2UgdGhlIHN0YXJ0IHdvcmtzcGFjZSBpcyB1bmRlZmluZWRcIik7XG5hPW5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNMSUNLKSkodGhpcy5zdGFydEJsb2NrLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLmlkLFwiYmxvY2tcIik7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX10aGlzLmJyaW5nQmxvY2tUb0Zyb250KCk7JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSl9ZG9Xb3Jrc3BhY2VDbGljayhhKXt0aGlzLmZpcmVXb3Jrc3BhY2VDbGljayh0aGlzLnN0YXJ0V29ya3NwYWNlX3x8dGhpcy5jcmVhdG9yV29ya3NwYWNlKX1icmluZ0Jsb2NrVG9Gcm9udCgpe3RoaXMudGFyZ2V0QmxvY2smJiF0aGlzLmZseW91dCYmKCQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZSh0aGlzLnRhcmdldEJsb2NrKSx0aGlzLnRhcmdldEJsb2NrLmJyaW5nVG9Gcm9udCgpKX1zZXRTdGFydEZpZWxkKGEpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuc2V0U3RhcnRGaWVsZCwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7XG50aGlzLnN0YXJ0RmllbGR8fCh0aGlzLnN0YXJ0RmllbGQ9YSl9c2V0U3RhcnRJY29uKGEpe2lmKHRoaXMuZ2VzdHVyZUhhc1N0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuc2V0U3RhcnRJY29uLCBidXQgdGhlIGdlc3R1cmUgaGFkIGFscmVhZHkgYmVlbiBzdGFydGVkLlwiKTt0aGlzLnN0YXJ0SWNvbnx8KHRoaXMuc3RhcnRJY29uPWEpfXNldFN0YXJ0QnViYmxlKGEpe3RoaXMuc3RhcnRCdWJibGV8fCh0aGlzLnN0YXJ0QnViYmxlPWEpfXNldFN0YXJ0Q29tbWVudChhKXt0aGlzLnN0YXJ0Q29tbWVudHx8KHRoaXMuc3RhcnRDb21tZW50PWEpfXNldFN0YXJ0QmxvY2soYSl7dGhpcy5zdGFydEJsb2NrfHx0aGlzLnN0YXJ0QnViYmxlfHwodGhpcy5zdGFydEJsb2NrPWEsYS5pc0luRmx5b3V0JiZhIT09YS5nZXRSb290QmxvY2soKT90aGlzLnNldFRhcmdldEJsb2NrKGEuZ2V0Um9vdEJsb2NrKCkpOnRoaXMuc2V0VGFyZ2V0QmxvY2soYSkpfXNldFRhcmdldEJsb2NrKGEpe2EuaXNTaGFkb3coKT9cbnRoaXMuc2V0VGFyZ2V0QmxvY2soYS5nZXRQYXJlbnQoKSk6KHRoaXMudGFyZ2V0QmxvY2s9YSwkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoYSkpfXNldFN0YXJ0V29ya3NwYWNlKGEpe3RoaXMuc3RhcnRXb3Jrc3BhY2VffHwodGhpcy5zdGFydFdvcmtzcGFjZV89YSl9c2V0U3RhcnRGbHlvdXQoYSl7dGhpcy5mbHlvdXR8fCh0aGlzLmZseW91dD1hKX1pc0J1YmJsZUNsaWNrKCl7cmV0dXJuISF0aGlzLnN0YXJ0QnViYmxlJiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXN9aXNDb21tZW50Q2xpY2soKXtyZXR1cm4hIXRoaXMuc3RhcnRDb21tZW50JiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXN9aXNCbG9ja0NsaWNrKCl7cmV0dXJuISF0aGlzLnN0YXJ0QmxvY2smJiF0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1cyYmIXRoaXMuaXNGaWVsZENsaWNrKCkmJiF0aGlzLmlzSWNvbkNsaWNrKCl9aXNGaWVsZENsaWNrKCl7cmV0dXJuIHRoaXMuc3RhcnRGaWVsZD9cbnRoaXMuc3RhcnRGaWVsZC5pc0NsaWNrYWJsZSgpJiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXMmJighdGhpcy5mbHlvdXR8fHRoaXMuc3RhcnRGaWVsZC5pc0NsaWNrYWJsZUluRmx5b3V0KHRoaXMuZmx5b3V0LmF1dG9DbG9zZSkpOiExfWlzSWNvbkNsaWNrKCl7aWYoIXRoaXMuc3RhcnRJY29uKXJldHVybiExO2NvbnN0IGE9IXRoaXMuZmx5b3V0fHwhdGhpcy5zdGFydEljb24uaXNDbGlja2FibGVJbkZseW91dHx8dGhpcy5zdGFydEljb24uaXNDbGlja2FibGVJbkZseW91dCh0aGlzLmZseW91dC5hdXRvQ2xvc2UpO3JldHVybiF0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1cyYmYX1pc1dvcmtzcGFjZUNsaWNrKCl7cmV0dXJuIXRoaXMuc3RhcnRCbG9jayYmIXRoaXMuc3RhcnRCdWJibGUmJiF0aGlzLnN0YXJ0RmllbGQmJiF0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1c31nZXRDdXJyZW50RHJhZ2dlcigpe2xldCBhLGI7cmV0dXJuKGI9KGE9dGhpcy53b3Jrc3BhY2VEcmFnZ2VyKSE9XG5udWxsP2E6dGhpcy5kcmFnZ2VyKSE9bnVsbD9iOm51bGx9aXNEcmFnZ2luZygpe3JldHVybiB0aGlzLmRyYWdnaW5nfWhhc1N0YXJ0ZWQoKXtyZXR1cm4gdGhpcy5nZXN0dXJlSGFzU3RhcnRlZH1zdGF0aWMgaW5Qcm9ncmVzcygpe2NvbnN0IGE9Z2V0QWxsV29ya3NwYWNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpO2ZvcihsZXQgYj0wLGM7Yz1hW2JdO2IrKylpZihjLmN1cnJlbnRHZXN0dXJlXylyZXR1cm4hMDtyZXR1cm4hMX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlLkdlc3R1cmU9R2VzdHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlc3R1cmU7dmFyIEdyaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRncmlkPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5wYXR0ZXJuPWE7dGhpcy5zY2FsZT0xO2xldCBjO3RoaXMuc3BhY2luZz0oYz1iLnNwYWNpbmcpIT1udWxsP2M6MDtsZXQgZDt0aGlzLmxlbmd0aD0oZD1iLmxlbmd0aCkhPW51bGw/ZDoxO3RoaXMubGluZTI9KHRoaXMubGluZTE9YS5maXJzdENoaWxkKSYmdGhpcy5saW5lMS5uZXh0U2libGluZztsZXQgZTt0aGlzLnNuYXBUb0dyaWQ9KGU9Yi5zbmFwKSE9bnVsbD9lOiExfXNldFNwYWNpbmcoYSl7dGhpcy5zcGFjaW5nPWE7dGhpcy51cGRhdGUodGhpcy5zY2FsZSl9Z2V0U3BhY2luZygpe3JldHVybiB0aGlzLnNwYWNpbmd9c2V0TGVuZ3RoKGEpe3RoaXMubGVuZ3RoPWE7dGhpcy51cGRhdGUodGhpcy5zY2FsZSl9Z2V0TGVuZ3RoKCl7cmV0dXJuIHRoaXMubGVuZ3RofXNldFNuYXBUb0dyaWQoYSl7dGhpcy5zbmFwVG9HcmlkPWF9c2hvdWxkU25hcCgpe3JldHVybiB0aGlzLnNuYXBUb0dyaWR9Z2V0UGF0dGVybklkKCl7cmV0dXJuIHRoaXMucGF0dGVybi5pZH11cGRhdGUoYSl7dGhpcy5zY2FsZT1cbmE7dmFyIGI9dGhpcy5zcGFjaW5nKmE7dGhpcy5wYXR0ZXJuLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYCR7Yn1gKTt0aGlzLnBhdHRlcm4uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYCR7Yn1gKTtiPU1hdGguZmxvb3IodGhpcy5zcGFjaW5nLzIpKy41O2xldCBjPWItdGhpcy5sZW5ndGgvMixkPWIrdGhpcy5sZW5ndGgvMjtiKj1hO2MqPWE7ZCo9YTt0aGlzLnNldExpbmVBdHRyaWJ1dGVzKHRoaXMubGluZTEsYSxjLGQsYixiKTt0aGlzLnNldExpbmVBdHRyaWJ1dGVzKHRoaXMubGluZTIsYSxiLGIsYyxkKX1zZXRMaW5lQXR0cmlidXRlcyhhLGIsYyxkLGUsZil7YSYmKGEuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsYCR7Yn1gKSxhLnNldEF0dHJpYnV0ZShcIngxXCIsYCR7Y31gKSxhLnNldEF0dHJpYnV0ZShcInkxXCIsYCR7ZX1gKSxhLnNldEF0dHJpYnV0ZShcIngyXCIsYCR7ZH1gKSxhLnNldEF0dHJpYnV0ZShcInkyXCIsYCR7Zn1gKSl9bW92ZVRvKGEsYil7dGhpcy5wYXR0ZXJuLnNldEF0dHJpYnV0ZShcInhcIixcbmAke2F9YCk7dGhpcy5wYXR0ZXJuLnNldEF0dHJpYnV0ZShcInlcIixgJHtifWApfWFsaWduWFkoYSl7dmFyIGI9dGhpcy5nZXRTcGFjaW5nKCk7Y29uc3QgYz1iLzIsZD1NYXRoLnJvdW5kKE1hdGgucm91bmQoKGEueC1jKS9iKSpiK2MpO2I9TWF0aC5yb3VuZChNYXRoLnJvdW5kKChhLnktYykvYikqYitjKTtyZXR1cm4gZD09PWEueCYmYj09PWEueT9hOm5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShkLGIpfXN0YXRpYyBjcmVhdGVEb20oYSxiLGMsZCl7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRURVJOLHtpZDpcImJsb2NrbHlHcmlkUGF0dGVyblwiK2EscGF0dGVyblVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn0sYyk7bGV0IGUsZjtpZigoKGU9Yi5sZW5ndGgpIT1udWxsP2U6MSk+MCYmKChmPWIuc3BhY2luZykhPW51bGw/XG5mOjApPjApe2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkxJTkUse3N0cm9rZTpiLmNvbG91cn0sYSk7bGV0IGc7KGc9Yi5sZW5ndGgpIT1udWxsJiZnJiZjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5MSU5FLHtzdHJva2U6Yi5jb2xvdXJ9LGEpfWVsc2UgY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuTElORSx7fSxhKTtkJiZkLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ibG9ja2x5R3JpZFBhdHRlcm5cIixgdXJsKCMke2EuaWR9KWApO3JldHVybiBhfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdyaWQ9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ3JpZC5HcmlkPUdyaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRncmlkO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2F1dG9oaWRlYWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2F1dG9oaWRlYWJsZS5pc0F1dG9IaWRlYWJsZT1pc0F1dG9IaWRlYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9hdXRvaGlkZWFibGU7dmFyIExheWVyTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVyX21hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmxheWVycz1uZXcgTWFwO2lmKGE9YS5nZXRJbmplY3Rpb25EaXYoKSl0aGlzLmRyYWdMYXllcj10aGlzLmNyZWF0ZURyYWdMYXllcihhKSx0aGlzLmFuaW1hdGlvbkxheWVyPXRoaXMuY3JlYXRlQW5pbWF0aW9uTGF5ZXIoYSk7YT10aGlzLmNyZWF0ZUxheWVyKEJMT0NLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGF5ZXJzKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseUJsb2NrQ2FudmFzXCIpO2E9dGhpcy5jcmVhdGVMYXllcihCVUJCTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnMpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5QnViYmxlQ2FudmFzXCIpfWNyZWF0ZURyYWdMYXllcihhKXtjb25zdCBiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlNWRyxcbntcImNsYXNzXCI6XCJibG9ja2x5QmxvY2tEcmFnU3VyZmFjZVwiLHhtbG5zOlNWR19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhtbG5zOmh0bWxcIjpIVE1MX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieG1sbnM6eGxpbmtcIjpYTElOS19OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSx2ZXJzaW9uOlwiMS4xXCJ9KTthLmFwcGVuZChiKTtyZXR1cm4gY3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7fSxiKX1jcmVhdGVBbmltYXRpb25MYXllcihhKXtjb25zdCBiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlNWRyx7XCJjbGFzc1wiOlwiYmxvY2tseUFuaW1hdGlvbkxheWVyXCIseG1sbnM6U1ZHX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFxuXCJ4bWxuczpodG1sXCI6SFRNTF9OUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSxcInhtbG5zOnhsaW5rXCI6WExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sdmVyc2lvbjpcIjEuMVwifSk7YS5hcHBlbmQoYik7cmV0dXJuIGNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse30sYil9YXBwZW5kVG9BbmltYXRpb25MYXllcihhKXtsZXQgYjtjb25zdCBjPShiPXRoaXMuZHJhZ0xheWVyKT09bnVsbD92b2lkIDA6Yi5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIik7aWYoYyl7bGV0IGU7KGU9dGhpcy5hbmltYXRpb25MYXllcik9PW51bGx8fGUuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYyl9bGV0IGQ7KGQ9dGhpcy5hbmltYXRpb25MYXllcik9PW51bGx8fGQuYXBwZW5kQ2hpbGQoYS5nZXRTdmdSb290KCkpfXRyYW5zbGF0ZUxheWVycyhhLGIpe2E9XG5gdHJhbnNsYXRlKCR7YS54fSwgJHthLnl9KSBzY2FsZSgke2J9KWA7bGV0IGM7KGM9dGhpcy5kcmFnTGF5ZXIpPT1udWxsfHxjLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGEpO2Zvcihjb25zdCBbLGRdb2YgdGhpcy5sYXllcnMpZC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixhKX1tb3ZlVG9EcmFnTGF5ZXIoYSl7bGV0IGI7KGI9dGhpcy5kcmFnTGF5ZXIpPT1udWxsfHxiLmFwcGVuZENoaWxkKGEuZ2V0U3ZnUm9vdCgpKTthLmNhbkJlRm9jdXNlZCgpJiYkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoYSl9bW92ZU9mZkRyYWdMYXllcihhLGIpe3RoaXMuYXBwZW5kKGEsYik7YS5jYW5CZUZvY3VzZWQoKSYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKGEpfWFwcGVuZChhLGIpe3RoaXMubGF5ZXJzLmhhcyhiKXx8dGhpcy5jcmVhdGVMYXllcihiKTtcbmE9YS5nZXRTdmdSb290KCk7bGV0IGM7aWYoKChjPXRoaXMubGF5ZXJzLmdldChiKSk9PW51bGw/dm9pZCAwOmMubGFzdENoaWxkKSE9PWEpe2xldCBkOyhkPXRoaXMubGF5ZXJzLmdldChiKSk9PW51bGx8fGQuYXBwZW5kQ2hpbGQoYSl9fWNyZWF0ZUxheWVyKGEpe2NvbnN0IGI9dGhpcy53b3Jrc3BhY2UuZ2V0U3ZnR3JvdXAoKSxjPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkcse30pO2xldCBkPSExO2NvbnN0IGU9Wy4uLnRoaXMubGF5ZXJzXS5zb3J0KChmLGcpPT5mWzBdLWdbMF0pO2Zvcihjb25zdCBbZixnXW9mIGUpaWYoYTxmKXtiLmluc2VydEJlZm9yZShjLGcpO2Q9ITA7YnJlYWt9ZHx8Yi5hcHBlbmRDaGlsZChjKTt0aGlzLmxheWVycy5zZXQoYSxjKTtyZXR1cm4gY31oYXNMYXllcihhKXtyZXR1cm4gYT09PXRoaXMuZHJhZ0xheWVyfHwobmV3IFNldCh0aGlzLmxheWVycy52YWx1ZXMoKSkpLmhhcyhhKX1nZXRCbG9ja0xheWVyKCl7cmV0dXJuIHRoaXMubGF5ZXJzLmdldChCTE9DSyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyl9Z2V0QnViYmxlTGF5ZXIoKXtyZXR1cm4gdGhpcy5sYXllcnMuZ2V0KEJVQkJMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGxheWVycyl9fSxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcl9tYW5hZ2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcl9tYW5hZ2VyLkxheWVyTWFuYWdlcj1MYXllck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcl9tYW5hZ2VyO3ZhciBNYXJrZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbWFya2VyPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5jdXJOb2RlPXRoaXMuY29sb3VyPW51bGw7dGhpcy50eXBlPVwibWFya2VyXCJ9Z2V0Q3VyTm9kZSgpe3JldHVybiB0aGlzLmN1ck5vZGV9c2V0Q3VyTm9kZShhKXt0aGlzLmN1ck5vZGU9YX1kaXNwb3NlKCl7dGhpcy5jdXJOb2RlPW51bGx9Z2V0U291cmNlQmxvY2tGcm9tTm9kZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnP2E6YSBpbnN0YW5jZW9mIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGR8fGEgaW5zdGFuY2VvZiBSZW5kZXJlZENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlZF9jb25uZWN0aW9uP2EuZ2V0U291cmNlQmxvY2soKTpudWxsfWdldFNvdXJjZUJsb2NrKCl7cmV0dXJuIHRoaXMuZ2V0U291cmNlQmxvY2tGcm9tTm9kZSh0aGlzLmdldEN1ck5vZGUoKSl9fSxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbWFya2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbWFya2VyLk1hcmtlcj1NYXJrZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbWFya2VyO3ZhciBMaW5lQ3Vyc29yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGxpbmVfY3Vyc29yPWNsYXNzIGV4dGVuZHMgTWFya2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JG1hcmtlcntjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMud29ya3NwYWNlPWE7dGhpcy50eXBlPVwiY3Vyc29yXCI7dGhpcy5wb3RlbnRpYWxOb2Rlcz1udWxsfW5leHQoKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4gbnVsbDsoYT10aGlzLmdldE5leHROb2RlKGEsYj0+e2xldCBjO3JldHVybiBiIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcmJiEoKGM9Yi5vdXRwdXRDb25uZWN0aW9uKT09bnVsbD8wOmMudGFyZ2V0QmxvY2soKSl8fGIgaW5zdGFuY2VvZiBSZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudH0sXG4hMCkpJiZ0aGlzLnNldEN1ck5vZGUoYSk7cmV0dXJuIGF9aW4oKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4gbnVsbDsoYT10aGlzLmdldE5leHROb2RlKGEsKCk9PiEwLCEwKSkmJnRoaXMuc2V0Q3VyTm9kZShhKTtyZXR1cm4gYX1wcmV2KCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuIG51bGw7KGE9dGhpcy5nZXRQcmV2aW91c05vZGUoYSxiPT57bGV0IGM7cmV0dXJuIGIgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZyYmISgoYz1iLm91dHB1dENvbm5lY3Rpb24pPT1udWxsPzA6Yy50YXJnZXRCbG9jaygpKXx8YiBpbnN0YW5jZW9mIFJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50fSwhMCkpJiZ0aGlzLnNldEN1ck5vZGUoYSk7cmV0dXJuIGF9b3V0KCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7XG5pZighYSlyZXR1cm4gbnVsbDsoYT10aGlzLmdldFByZXZpb3VzTm9kZShhLCgpPT4hMCwhMCkpJiZ0aGlzLnNldEN1ck5vZGUoYSk7cmV0dXJuIGF9YXRFbmRPZkxpbmUoKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4hMTtjb25zdCBiPXRoaXMuZ2V0TmV4dE5vZGUoYSwoKT0+ITAsITApO2E9dGhpcy5nZXROZXh0Tm9kZShhLGM9PntsZXQgZDtyZXR1cm4gYyBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnJiYhKChkPWMub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/MDpkLnRhcmdldEJsb2NrKCkpfSwhMCk7cmV0dXJuIGI9PT1hfWdldE5leHROb2RlSW1wbChhLGIsYz1uZXcgU2V0KXtpZighYXx8Yy5oYXMoYSkpcmV0dXJuIG51bGw7bGV0IGQ9dGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0Rmlyc3RDaGlsZChhKXx8dGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0TmV4dFNpYmxpbmcoYSk7Zm9yKHZhciBlPVxuYTtlJiYhZDspe2U9dGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0UGFyZW50KGUpO2lmKCFlKWJyZWFrO2Q9dGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0TmV4dFNpYmxpbmcoZSl9cmV0dXJuIGIoZCk/ZDpkPyhjLmFkZChhKSx0aGlzLmdldE5leHROb2RlSW1wbChkLGIsYykpOm51bGx9Z2V0TmV4dE5vZGUoYSxiLGMpe3JldHVybiFhfHwhYyYmdGhpcy5nZXRMYXN0Tm9kZSgpPT09YT9udWxsOnRoaXMuZ2V0TmV4dE5vZGVJbXBsKGEsYil9Z2V0UHJldmlvdXNOb2RlSW1wbChhLGIsYz1uZXcgU2V0KXtpZighYXx8Yy5oYXMoYSkpcmV0dXJuIG51bGw7Y29uc3QgZD10aGlzLmdldFJpZ2h0TW9zdENoaWxkKHRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldFByZXZpb3VzU2libGluZyhhKSxhKXx8dGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0UGFyZW50KGEpO3JldHVybiBiKGQpP2Q6ZD8oYy5hZGQoYSksdGhpcy5nZXRQcmV2aW91c05vZGVJbXBsKGQsXG5iLGMpKTpudWxsfWdldFByZXZpb3VzTm9kZShhLGIsYyl7cmV0dXJuIWF8fCFjJiZ0aGlzLmdldEZpcnN0Tm9kZSgpPT09YT9udWxsOnRoaXMuZ2V0UHJldmlvdXNOb2RlSW1wbChhLGIpfWdldFJpZ2h0TW9zdENoaWxkKGEsYil7aWYoIWEpcmV0dXJuIGE7bGV0IGM9dGhpcy53b3Jrc3BhY2UuZ2V0TmF2aWdhdG9yKCkuZ2V0Rmlyc3RDaGlsZChhKTtpZighY3x8Yz09PWIpcmV0dXJuIGE7Zm9yKGE9YzthJiZhIT09YjthPXRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldE5leHRTaWJsaW5nKGMpKWM9YTtyZXR1cm4gdGhpcy5nZXRSaWdodE1vc3RDaGlsZChjLGIpfXByZURlbGV0ZShhKXt2YXIgYj10aGlzLmdldEN1ck5vZGUoKTtiPWI/W2JdOltdO3ZhciBjO2xldCBkLGU7Y29uc3QgZj0oZT0oYz1hLnByZXZpb3VzQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmMudGFyZ2V0Q29ubmVjdGlvbikhPW51bGw/ZTooZD1hLm91dHB1dENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDpcbmQudGFyZ2V0Q29ubmVjdGlvbjtmJiZiLnB1c2goZik7KGM9YS5nZXROZXh0QmxvY2soKSkmJmIucHVzaChjKTsoYT1hLmdldFBhcmVudCgpKSYmYi5wdXNoKGEpO2IucHVzaCh0aGlzLndvcmtzcGFjZSk7dGhpcy5wb3RlbnRpYWxOb2Rlcz1ifXBvc3REZWxldGUoKXtjb25zdCBhPXRoaXMucG90ZW50aWFsTm9kZXM7dGhpcy5wb3RlbnRpYWxOb2Rlcz1udWxsO2lmKCFhKXRocm93IEVycm9yKFwibXVzdCBjYWxsIHByZURlbGV0ZSBmaXJzdFwiKTtmb3IoY29uc3QgYiBvZiBhKXtsZXQgYztpZigoYz10aGlzLmdldFNvdXJjZUJsb2NrRnJvbU5vZGUoYikpPT1udWxsfHwhYy5kaXNwb3NlZCl7dGhpcy5zZXRDdXJOb2RlKGIpO3JldHVybn19dGhyb3cgRXJyb3IoXCJubyB2YWxpZCBub2RlcyBpbiB0aGlzLnBvdGVudGlhbE5vZGVzXCIpO31nZXRDdXJOb2RlKCl7cmV0dXJuICQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmdldEZvY3VzZWROb2RlKCl9c2V0Q3VyTm9kZShhKXskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoYSl9Z2V0Rmlyc3ROb2RlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlLmdldE5hdmlnYXRvcigpLmdldEZpcnN0Q2hpbGQodGhpcy53b3Jrc3BhY2UpfWdldExhc3ROb2RlKCl7Y29uc3QgYT1cbnRoaXMuZ2V0Rmlyc3ROb2RlKCk7cmV0dXJuIHRoaXMuZ2V0UHJldmlvdXNOb2RlKGEsKCk9PiEwLCEwKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkNVUlNPUixERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksTGluZUN1cnNvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRsaW5lX2N1cnNvcik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbGluZV9jdXJzb3I9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRsaW5lX2N1cnNvci5MaW5lQ3Vyc29yPUxpbmVDdXJzb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXYkbGluZV9jdXJzb3I7dmFyIE1hcmtlck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtYXJrZXJfbWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMubWFya2Vycz1uZXcgTWFwO3RoaXMuY3Vyc29yPW5ldyBMaW5lQ3Vyc29yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGxpbmVfY3Vyc29yKHRoaXMud29ya3NwYWNlKX1yZWdpc3Rlck1hcmtlcihhLGIpe3RoaXMubWFya2Vycy5oYXMoYSkmJnRoaXMudW5yZWdpc3Rlck1hcmtlcihhKTt0aGlzLm1hcmtlcnMuc2V0KGEsYil9dW5yZWdpc3Rlck1hcmtlcihhKXtjb25zdCBiPXRoaXMubWFya2Vycy5nZXQoYSk7aWYoYiliLmRpc3Bvc2UoKSx0aGlzLm1hcmtlcnMuZGVsZXRlKGEpO2Vsc2UgdGhyb3cgRXJyb3IoXCJNYXJrZXIgd2l0aCBJRCBcIithK1wiIGRvZXMgbm90IGV4aXN0LiBDYW4gb25seSB1bnJlZ2lzdGVyIG1hcmtlcnMgdGhhdCBleGlzdC5cIik7fWdldEN1cnNvcigpe3JldHVybiB0aGlzLmN1cnNvcn1nZXRNYXJrZXIoYSl7cmV0dXJuIHRoaXMubWFya2Vycy5nZXQoYSl8fFxubnVsbH1zZXRDdXJzb3IoYSl7dGhpcy5jdXJzb3I9YX1kaXNwb3NlKCl7Y29uc3QgYT1PYmplY3Qua2V5cyh0aGlzLm1hcmtlcnMpO2ZvcihsZXQgYj0wLGM7Yz1hW2JdO2IrKyl0aGlzLnVucmVnaXN0ZXJNYXJrZXIoYyk7dGhpcy5tYXJrZXJzLmNsZWFyKCk7dGhpcy5jdXJzb3IuZGlzcG9zZSgpfX07TWFya2VyTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1hcmtlcl9tYW5hZ2VyLkxPQ0FMX01BUktFUj1cImxvY2FsX21hcmtlcl8xXCI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRtYXJrZXJfbWFuYWdlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWFya2VyX21hbmFnZXIuTWFya2VyTWFuYWdlcj1NYXJrZXJNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbWFya2VyX21hbmFnZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMuQ29tbWVudEljb249Q29tbWVudEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRjb21tZW50X2ljb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLkljb249SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJGljb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zLkljb25UeXBlPUljb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkaWNvbl90eXBlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMuTXV0YXRvckljb249JC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMuV2FybmluZ0ljb249V2FybmluZ0ljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyR3YXJuaW5nX2ljb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMuZXhjZXB0aW9ucz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkZXhjZXB0aW9uczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMucmVnaXN0cnk9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJHJlZ2lzdHJ5O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jaz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Byb2NlZHVyZV9ibG9jay5pc1Byb2NlZHVyZUJsb2NrPWlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrOyQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcz1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMuZGI9bmV3IE1hcDt0aGlzLmRiUmV2ZXJzZT1uZXcgU2V0O3RoaXMudmFyaWFibGVNYXA9bnVsbDt0aGlzLnZhcmlhYmxlUHJlZml4PWJ8fFwiXCI7dGhpcy5yZXNlcnZlZFdvcmRzPW5ldyBTZXQoYT9hLnNwbGl0KFwiLFwiKTpbXSl9cmVzZXQoKXt0aGlzLmRiLmNsZWFyKCk7dGhpcy5kYlJldmVyc2UuY2xlYXIoKTt0aGlzLnZhcmlhYmxlTWFwPW51bGx9c2V0VmFyaWFibGVNYXAoYSl7dGhpcy52YXJpYWJsZU1hcD1hfWdldE5hbWVGb3JVc2VyVmFyaWFibGUoYSl7cmV0dXJuIHRoaXMudmFyaWFibGVNYXA/KGE9dGhpcy52YXJpYWJsZU1hcC5nZXRWYXJpYWJsZUJ5SWQoYSkpP2EuZ2V0TmFtZSgpOm51bGw6KGNvbnNvbGUud2FybihcIkRlcHJlY2F0ZWQgY2FsbCB0byBOYW1lcy5wcm90b3R5cGUuZ2V0TmFtZSB3aXRob3V0IGRlZmluaW5nIGEgdmFyaWFibGUgbWFwLiBUbyBmaXgsIGFkZCB0aGUgZm9sbG93aW5nIGNvZGUgaW4geW91ciBnZW5lcmF0b3IncyBpbml0KCkgZnVuY3Rpb246XFxuQmxvY2tseS5Zb3VyR2VuZXJhdG9yTmFtZS5uYW1lREJfLnNldFZhcmlhYmxlTWFwKHdvcmtzcGFjZS5nZXRWYXJpYWJsZU1hcCgpKTtcIiksXG5udWxsKX1wb3B1bGF0ZVZhcmlhYmxlcyhhKXthPSQuYWxsVXNlZFZhck1vZGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhKTtmb3IobGV0IGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmdldE5hbWUoYVtiXS5nZXRJZCgpLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSl9cG9wdWxhdGVQcm9jZWR1cmVzKGEpe3Rocm93IEVycm9yKFwiVGhlIGltcGxlbWVudGF0aW9uIG9mIHBvcHVsYXRlUHJvY2VkdXJlcyBzaG91bGQgYmUgbW9ua2V5LXBhdGNoZWQgaW4gYnkgYmxvY2tseS50c1wiKTt9Z2V0TmFtZShhLGIpe2xldCBjPWE7Yj09PSQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSYmKGE9dGhpcy5nZXROYW1lRm9yVXNlclZhcmlhYmxlKGEpKSYmKGM9YSk7YT1jLnRvTG93ZXJDYXNlKCk7Y29uc3QgZD1iPT09JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFfHxcbmI9PT0kLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuREVWRUxPUEVSX1ZBUklBQkxFP3RoaXMudmFyaWFibGVQcmVmaXg6XCJcIjt0aGlzLmRiLmhhcyhiKXx8dGhpcy5kYi5zZXQoYixuZXcgTWFwKTtjb25zdCBlPXRoaXMuZGIuZ2V0KGIpO2lmKGUuaGFzKGEpKXJldHVybiBkK2UuZ2V0KGEpO2I9dGhpcy5nZXREaXN0aW5jdE5hbWUoYyxiKTtlLnNldChhLGIuc3Vic3RyKGQubGVuZ3RoKSk7cmV0dXJuIGJ9Z2V0VXNlck5hbWVzKGEpe2xldCBiO3JldHVybihhPShiPXRoaXMuZGIuZ2V0KGEpKT09bnVsbD92b2lkIDA6Yi5rZXlzKCkpP0FycmF5LmZyb20oYSk6W119Z2V0RGlzdGluY3ROYW1lKGEsYil7YT10aGlzLnNhZmVOYW1lKGEpO2xldCBjPW51bGwsZCxlO2Zvcig7dGhpcy5kYlJldmVyc2UuaGFzKGErKChkPWMpIT1udWxsP2Q6XCJcIikpfHx0aGlzLnJlc2VydmVkV29yZHMuaGFzKGErKChlPWMpIT1udWxsP2U6XCJcIikpOyljPWM/YysxOjI7bGV0IGY7YSs9KGY9XG5jKSE9bnVsbD9mOlwiXCI7dGhpcy5kYlJldmVyc2UuYWRkKGEpO3JldHVybihiPT09JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFfHxiPT09JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLkRFVkVMT1BFUl9WQVJJQUJMRT90aGlzLnZhcmlhYmxlUHJlZml4OlwiXCIpK2F9c2FmZU5hbWUoYSl7YT8oYT1lbmNvZGVVUkkoYS5yZXBsYWNlKC8gL2csXCJfXCIpKS5yZXBsYWNlKC9bXlxcd10vZyxcIl9cIiksXCIwMTIzNDU2Nzg5XCIuaW5jbHVkZXMoYVswXSkmJihhPVwibXlfXCIrYSkpOmE9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVU5OQU1FRF9LRVl8fFwidW5uYW1lZFwiO3JldHVybiBhfXN0YXRpYyBlcXVhbHMoYSxiKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfX07XG4oZnVuY3Rpb24oYSl7YT1hLk5hbWVUeXBlfHwoYS5OYW1lVHlwZT17fSk7YS5ERVZFTE9QRVJfVkFSSUFCTEU9XCJERVZFTE9QRVJfVkFSSUFCTEVcIjthLlZBUklBQkxFPVwiVkFSSUFCTEVcIjthLlBST0NFRFVSRT1cIlBST0NFRFVSRVwifSkoJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzfHwoJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzPXt9KSk7JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzPSQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5OYW1lVHlwZTskLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuREVWRUxPUEVSX1ZBUklBQkxFX1RZUEU9JC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLkRFVkVMT1BFUl9WQVJJQUJMRTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzPXtOYW1lVHlwZTokLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXN9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLk5hbWVzPSQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lczt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9vYnNlcnZhYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfb2JzZXJ2YWJsZS5pc09ic2VydmFibGU9aXNPYnNlcnZhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX29ic2VydmFibGU7dmFyIE9ic2VydmFibGVQcm9jZWR1cmVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvYnNlcnZhYmxlX3Byb2NlZHVyZV9tYXA9Y2xhc3MgZXh0ZW5kcyBNYXB7Y29uc3RydWN0b3IoKXtzdXBlcigpfXNldChhLGIpe2lmKHRoaXMuZ2V0KGEpPT09YilyZXR1cm4gdGhpcztzdXBlci5zZXQoYSxiKTtpc09ic2VydmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfb2JzZXJ2YWJsZShiKSYmYi5zdGFydFB1Ymxpc2hpbmcoKTtyZXR1cm4gdGhpc31kZWxldGUoYSl7Y29uc3QgYj10aGlzLmdldChhKTthPXN1cGVyLmRlbGV0ZShhKTtpZighYSlyZXR1cm4gYTtpc09ic2VydmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfb2JzZXJ2YWJsZShiKSYmYi5zdG9wUHVibGlzaGluZygpO3JldHVybiBhfWNsZWFyKCl7aWYodGhpcy5zaXplKWZvcihjb25zdCBhIG9mIHRoaXMua2V5cygpKXRoaXMuZGVsZXRlKGEpfWFkZChhKXtyZXR1cm4gdGhpcy5zZXQoYS5nZXRJZCgpLFxuYSl9Z2V0UHJvY2VkdXJlcygpe3JldHVyblsuLi50aGlzLnZhbHVlcygpXX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRvYnNlcnZhYmxlX3Byb2NlZHVyZV9tYXA9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9ic2VydmFibGVfcHJvY2VkdXJlX21hcC5PYnNlcnZhYmxlUHJvY2VkdXJlTWFwPU9ic2VydmFibGVQcm9jZWR1cmVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvYnNlcnZhYmxlX3Byb2NlZHVyZV9tYXA7dmFyIENBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO0NBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzPVwiUFJPQ0VEVVJFXCI7JC5ERUZBVUxUX0FSRyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9XCJ4XCI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM9e0NBVEVHT1JZX05BTUU6Q0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMsREVGQVVMVF9BUkc6JC5ERUZBVUxUX0FSRyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXN9O21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLk9ic2VydmFibGVQcm9jZWR1cmVNYXA9T2JzZXJ2YWJsZVByb2NlZHVyZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9ic2VydmFibGVfcHJvY2VkdXJlX21hcDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLmFsbFByb2NlZHVyZXM9YWxsUHJvY2VkdXJlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMuZmluZExlZ2FsTmFtZT0kLmZpbmRMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLmZseW91dENhdGVnb3J5PWZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5nZXRDYWxsZXJzPWdldENhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLmdldERlZmluaXRpb249JC5nZXREZWZpbml0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLmludGVybmFsRmx5b3V0Q2F0ZWdvcnk9aW50ZXJuYWxGbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMuaXNOYW1lVXNlZD1pc05hbWVVc2VkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5pc1Byb2NlZHVyZUJsb2NrPWlzUHJvY2VkdXJlQmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX2Jsb2NrO21vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLm11dGF0ZUNhbGxlcnM9JC5tdXRhdGVDYWxsZXJzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcy5tdXRhdG9yT3Blbkxpc3RlbmVyPW11dGF0b3JPcGVuTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMucmVuYW1lPSQucmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlczt2YXIgVHlwZXNDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXM9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLk5PTkU9MDt0aGlzLkZJRUxEPTE7dGhpcy5IQVQ9Mjt0aGlzLklDT049NDt0aGlzLlNQQUNFUj04O3RoaXMuQkVUV0VFTl9ST1dfU1BBQ0VSPTE2O3RoaXMuSU5fUk9XX1NQQUNFUj0zMjt0aGlzLkVYVEVSTkFMX1ZBTFVFX0lOUFVUPTY0O3RoaXMuSU5QVVQ9MTI4O3RoaXMuSU5MSU5FX0lOUFVUPTI1Njt0aGlzLlNUQVRFTUVOVF9JTlBVVD01MTI7dGhpcy5DT05ORUNUSU9OPTEwMjQ7dGhpcy5QUkVWSU9VU19DT05ORUNUSU9OPTIwNDg7dGhpcy5ORVhUX0NPTk5FQ1RJT049NDA5Njt0aGlzLk9VVFBVVF9DT05ORUNUSU9OPTgxOTI7dGhpcy5DT1JORVI9MTYzODQ7dGhpcy5MRUZUX1NRVUFSRV9DT1JORVI9MzI3Njg7dGhpcy5MRUZUX1JPVU5EX0NPUk5FUj02NTUzNjt0aGlzLlJJR0hUX1NRVUFSRV9DT1JORVI9MTMxMDcyO1xudGhpcy5SSUdIVF9ST1VORF9DT1JORVI9MjYyMTQ0O3RoaXMuSkFHR0VEX0VER0U9NTI0Mjg4O3RoaXMuUk9XPTEwNDg1NzY7dGhpcy5UT1BfUk9XPTIwOTcxNTI7dGhpcy5CT1RUT01fUk9XPTQxOTQzMDQ7dGhpcy5JTlBVVF9ST1c9ODM4ODYwODt0aGlzLkxFRlRfQ09STkVSPXRoaXMuTEVGVF9TUVVBUkVfQ09STkVSfHRoaXMuTEVGVF9ST1VORF9DT1JORVI7dGhpcy5SSUdIVF9DT1JORVI9dGhpcy5SSUdIVF9TUVVBUkVfQ09STkVSfHRoaXMuUklHSFRfUk9VTkRfQ09STkVSO3RoaXMubmV4dFR5cGVWYWx1ZV89MTY3NzcyMTZ9Z2V0VHlwZShhKXtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcyxhKXx8KHRoaXNbYV09dGhpcy5uZXh0VHlwZVZhbHVlXyx0aGlzLm5leHRUeXBlVmFsdWVfPDw9MSk7cmV0dXJuIHRoaXNbYV19aXNGaWVsZChhKXtyZXR1cm4oYS50eXBlJnRoaXMuRklFTEQpPj0xfWlzSGF0KGEpe3JldHVybihhLnR5cGUmdGhpcy5IQVQpPj0xfWlzSWNvbihhKXtyZXR1cm4oYS50eXBlJlxudGhpcy5JQ09OKT49MX1pc1NwYWNlcihhKXtyZXR1cm4oYS50eXBlJnRoaXMuU1BBQ0VSKT49MX1pc0luUm93U3BhY2VyKGEpe3JldHVybihhLnR5cGUmdGhpcy5JTl9ST1dfU1BBQ0VSKT49MX1pc1NwYWNlclJvdyhhKXtyZXR1cm4oYS50eXBlJnRoaXMuQkVUV0VFTl9ST1dfU1BBQ0VSKT49MX1pc0lucHV0KGEpe3JldHVybihhLnR5cGUmdGhpcy5JTlBVVCk+PTF9aXNFeHRlcm5hbElucHV0KGEpe3JldHVybihhLnR5cGUmdGhpcy5FWFRFUk5BTF9WQUxVRV9JTlBVVCk+PTF9aXNJbmxpbmVJbnB1dChhKXtyZXR1cm4oYS50eXBlJnRoaXMuSU5MSU5FX0lOUFVUKT49MX1pc1N0YXRlbWVudElucHV0KGEpe3JldHVybihhLnR5cGUmdGhpcy5TVEFURU1FTlRfSU5QVVQpPj0xfWlzUHJldmlvdXNDb25uZWN0aW9uKGEpe3JldHVybihhLnR5cGUmdGhpcy5QUkVWSU9VU19DT05ORUNUSU9OKT49MX1pc05leHRDb25uZWN0aW9uKGEpe3JldHVybihhLnR5cGUmdGhpcy5ORVhUX0NPTk5FQ1RJT04pPj1cbjF9aXNQcmV2aW91c09yTmV4dENvbm5lY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYSl8fHRoaXMuaXNOZXh0Q29ubmVjdGlvbihhKX1pc1JvdW5kQ29ybmVyKGEpe3JldHVybihhLnR5cGUmdGhpcy5MRUZUX1JPVU5EX0NPUk5FUik+PTF8fChhLnR5cGUmdGhpcy5SSUdIVF9ST1VORF9DT1JORVIpPj0xfWlzTGVmdFJvdW5kZWRDb3JuZXIoYSl7cmV0dXJuIHRoaXMuaXNSb3VuZENvcm5lcihhKSYmKGEudHlwZSZ0aGlzLkxFRlRfUk9VTkRfQ09STkVSKT49MX1pc1JpZ2h0Um91bmRlZENvcm5lcihhKXtyZXR1cm4gdGhpcy5pc1JvdW5kQ29ybmVyKGEpJiYoYS50eXBlJnRoaXMuUklHSFRfUk9VTkRfQ09STkVSKT49MX1pc0xlZnRTcXVhcmVDb3JuZXIoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLkxFRlRfU1FVQVJFX0NPUk5FUik+PTF9aXNSaWdodFNxdWFyZUNvcm5lcihhKXtyZXR1cm4oYS50eXBlJnRoaXMuUklHSFRfU1FVQVJFX0NPUk5FUik+PTF9aXNDb3JuZXIoYSl7cmV0dXJuKGEudHlwZSZcbnRoaXMuQ09STkVSKT49MX1pc0phZ2dlZEVkZ2UoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLkpBR0dFRF9FREdFKT49MX1pc1JvdyhhKXtyZXR1cm4oYS50eXBlJnRoaXMuUk9XKT49MX1pc0JldHdlZW5Sb3dTcGFjZXIoYSl7cmV0dXJuKGEudHlwZSZ0aGlzLkJFVFdFRU5fUk9XX1NQQUNFUik+PTF9aXNUb3BSb3coYSl7cmV0dXJuKGEudHlwZSZ0aGlzLlRPUF9ST1cpPj0xfWlzQm90dG9tUm93KGEpe3JldHVybihhLnR5cGUmdGhpcy5CT1RUT01fUk9XKT49MX1pc1RvcE9yQm90dG9tUm93KGEpe3JldHVybiB0aGlzLmlzVG9wUm93KGEpfHx0aGlzLmlzQm90dG9tUm93KGEpfWlzSW5wdXRSb3coYSl7cmV0dXJuKGEudHlwZSZ0aGlzLklOUFVUX1JPVyk+PTF9fSxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcz1uZXcgVHlwZXNDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcz1cbntUeXBlczpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlc307dmFyIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZT1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLmNlbnRlcmxpbmU9dGhpcy54UG9zPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9MDt0aGlzLmNvbnN0YW50c189YTt0aGlzLnR5cGU9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuTk9ORTt0aGlzLm5vdGNoT2Zmc2V0PXRoaXMuY29uc3RhbnRzXy5OT1RDSF9PRkZTRVRfTEVGVH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2UuTWVhc3VyYWJsZT1NZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2U7dmFyIFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3c9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5lbGVtZW50cz1bXTt0aGlzLnhQb3M9dGhpcy55UG9zPXRoaXMud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPXRoaXMubWluV2lkdGg9dGhpcy5taW5IZWlnaHQ9dGhpcy53aWR0aD10aGlzLmhlaWdodD0wO3RoaXMuaGFzU3RhdGVtZW50PXRoaXMuaGFzRXh0ZXJuYWxJbnB1dD0hMTt0aGlzLnN0YXRlbWVudEVkZ2U9MDt0aGlzLmhhc0phZ2dlZEVkZ2U9dGhpcy5oYXNEdW1teUlucHV0PXRoaXMuaGFzSW5saW5lSW5wdXQ9ITE7dGhpcy5hbGlnbj1udWxsO3RoaXMuY29uc3RhbnRzXz1hO3RoaXMudHlwZT1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5ST1c7dGhpcy5ub3RjaE9mZnNldD10aGlzLmNvbnN0YW50c18uTk9UQ0hfT0ZGU0VUX0xFRlR9Z2V0TGFzdElucHV0KCl7Zm9yKGxldCBhPVxudGhpcy5lbGVtZW50cy5sZW5ndGgtMTthPj0wO2EtLSl7Y29uc3QgYj10aGlzLmVsZW1lbnRzW2FdO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYikpcmV0dXJuIGJ9cmV0dXJuIG51bGx9bWVhc3VyZSgpe3Rocm93IEVycm9yKFwiVW5leHBlY3RlZCBhdHRlbXB0IHRvIG1lYXN1cmUgYSBiYXNlIFJvdy5cIik7fXN0YXJ0c1dpdGhFbGVtU3BhY2VyKCl7cmV0dXJuITB9ZW5kc1dpdGhFbGVtU3BhY2VyKCl7cmV0dXJuITB9Z2V0Rmlyc3RTcGFjZXIoKXtmb3IobGV0IGE9MDthPHRoaXMuZWxlbWVudHMubGVuZ3RoO2ErKyl7Y29uc3QgYj10aGlzLmVsZW1lbnRzW2FdO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5Sb3dTcGFjZXIoYikpcmV0dXJuIGJ9cmV0dXJuIG51bGx9Z2V0TGFzdFNwYWNlcigpe2ZvcihsZXQgYT10aGlzLmVsZW1lbnRzLmxlbmd0aC1cbjE7YT49MDthLS0pe2NvbnN0IGI9dGhpcy5lbGVtZW50c1thXTtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0luUm93U3BhY2VyKGIpKXJldHVybiBifXJldHVybiBudWxsfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3c9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3cuUm93PVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3c7dmFyIEJvdHRvbVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRib3R0b21fcm93PWNsYXNzIGV4dGVuZHMgUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvd3tjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLmhhc05leHRDb25uZWN0aW9uPSExO3RoaXMuY29ubmVjdGlvbj1udWxsO3RoaXMuYmFzZWxpbmU9dGhpcy5kZXNjZW5kZXJIZWlnaHQ9MDt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkJPVFRPTV9ST1d9aGFzTGVmdFNxdWFyZUNvcm5lcihhKXtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbnx8ISFhLmdldE5leHRCbG9jaygpfWhhc1JpZ2h0U3F1YXJlQ29ybmVyKGEpe3JldHVybiEwfW1lYXN1cmUoKXtsZXQgYT0wLGI9MCxjPTA7Zm9yKGxldCBkPTA7ZDx0aGlzLmVsZW1lbnRzLmxlbmd0aDtkKyspe2NvbnN0IGU9XG50aGlzLmVsZW1lbnRzW2RdO2IrPWUud2lkdGg7VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoZSl8fChUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc05leHRDb25uZWN0aW9uKGUpP2M9TWF0aC5tYXgoYyxlLmhlaWdodCk6YT1NYXRoLm1heChhLGUuaGVpZ2h0KSl9dGhpcy53aWR0aD1NYXRoLm1heCh0aGlzLm1pbldpZHRoLGIpO3RoaXMuaGVpZ2h0PU1hdGgubWF4KHRoaXMubWluSGVpZ2h0LGEpK2M7dGhpcy5kZXNjZW5kZXJIZWlnaHQ9Yzt0aGlzLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcz10aGlzLndpZHRofXN0YXJ0c1dpdGhFbGVtU3BhY2VyKCl7cmV0dXJuITF9ZW5kc1dpdGhFbGVtU3BhY2VyKCl7cmV0dXJuITF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJvdHRvbV9yb3c9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJvdHRvbV9yb3cuQm90dG9tUm93PUJvdHRvbVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRib3R0b21fcm93O3ZhciBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGNvbm5lY3Rpb249Y2xhc3MgZXh0ZW5kcyBNZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLmNvbm5lY3Rpb25Nb2RlbD1iO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuQ09OTkVDVElPTjt0aGlzLnNoYXBlPXRoaXMuY29uc3RhbnRzXy5zaGFwZUZvcihiKTt0aGlzLmlzRHluYW1pY1NoYXBlPVwiaXNEeW5hbWljXCJpbiB0aGlzLnNoYXBlJiZ0aGlzLnNoYXBlLmlzRHluYW1pYzt0aGlzLmhpZ2hsaWdodGVkPWIuaXNIaWdobGlnaHRlZCgpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uLkNvbm5lY3Rpb249Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uO3ZhciBJbnB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbj1jbGFzcyBleHRlbmRzIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYi5jb25uZWN0aW9uKTt0aGlzLmlucHV0PWI7dGhpcy5jb25uZWN0aW9uT2Zmc2V0WT10aGlzLmNvbm5lY3Rpb25PZmZzZXRYPTA7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5JTlBVVDt0aGlzLmFsaWduPWIuYWxpZ247KHRoaXMuY29ubmVjdGVkQmxvY2s9Yi5jb25uZWN0aW9uJiZiLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKT9iLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTpudWxsKT8oYT10aGlzLmNvbm5lY3RlZEJsb2NrLmdldEhlaWdodFdpZHRoKCksdGhpcy5jb25uZWN0ZWRCbG9ja1dpZHRoPVxuYS53aWR0aCx0aGlzLmNvbm5lY3RlZEJsb2NrSGVpZ2h0PWEuaGVpZ2h0KTp0aGlzLmNvbm5lY3RlZEJsb2NrSGVpZ2h0PXRoaXMuY29ubmVjdGVkQmxvY2tXaWR0aD0wfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9jb25uZWN0aW9uPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbi5JbnB1dENvbm5lY3Rpb249SW5wdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X2Nvbm5lY3Rpb247dmFyIEV4dGVybmFsVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRleHRlcm5hbF92YWx1ZV9pbnB1dD1jbGFzcyBleHRlbmRzIElucHV0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9jb25uZWN0aW9ue2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmhlaWdodD0wO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuRVhURVJOQUxfVkFMVUVfSU5QVVQ7dGhpcy5oZWlnaHQ9dGhpcy5jb25uZWN0ZWRCbG9jaz90aGlzLmNvbm5lY3RlZEJsb2NrSGVpZ2h0LXRoaXMuY29uc3RhbnRzXy5UQUJfT0ZGU0VUX0ZST01fVE9QLXRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzp0aGlzLnNoYXBlLmhlaWdodDt0aGlzLndpZHRoPXRoaXMuc2hhcGUud2lkdGgrdGhpcy5jb25zdGFudHNfLkVYVEVSTkFMX1ZBTFVFX0lOUFVUX1BBRERJTkc7XG50aGlzLmNvbm5lY3Rpb25PZmZzZXRZPXRoaXMuY29uc3RhbnRzXy5UQUJfT0ZGU0VUX0ZST01fVE9QO3RoaXMuY29ubmVjdGlvbkhlaWdodD10aGlzLnNoYXBlLmhlaWdodDt0aGlzLmNvbm5lY3Rpb25XaWR0aD10aGlzLnNoYXBlLndpZHRofX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRleHRlcm5hbF92YWx1ZV9pbnB1dD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGV4dGVybmFsX3ZhbHVlX2lucHV0LkV4dGVybmFsVmFsdWVJbnB1dD1FeHRlcm5hbFZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZXh0ZXJuYWxfdmFsdWVfaW5wdXQ7dmFyIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGZpZWxkPWNsYXNzIGV4dGVuZHMgTWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNle2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhKTt0aGlzLmZpZWxkPWI7dGhpcy5wYXJlbnRJbnB1dD1jO3RoaXMuaXNFZGl0YWJsZT1iLkVESVRBQkxFO3RoaXMuZmxpcFJ0bD1iLmdldEZsaXBSdGwoKTt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkZJRUxEO2E9dGhpcy5maWVsZC5nZXRTaXplKCk7dGhpcy5oZWlnaHQ9YS5oZWlnaHQ7dGhpcy53aWR0aD1hLndpZHRofX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRmaWVsZD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGZpZWxkLkZpZWxkPUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGZpZWxkO3ZhciBIYXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaGF0PWNsYXNzIGV4dGVuZHMgTWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuSEFUO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5TVEFSVF9IQVQuaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLlNUQVJUX0hBVC53aWR0aDt0aGlzLmFzY2VuZGVySGVpZ2h0PXRoaXMuaGVpZ2h0fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRoYXQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRoYXQuSGF0PUhhdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRoYXQ7dmFyIEljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaWNvbj1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEpO3RoaXMuaWNvbj1iO3RoaXMuZmxpcFJ0bD0hMTt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLklDT047YT1iLmdldFNpemUoKTt0aGlzLmhlaWdodD1hLmhlaWdodDt0aGlzLndpZHRoPWEud2lkdGh9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGljb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpY29uLkljb249SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpY29uO3ZhciBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyPWNsYXNzIGV4dGVuZHMgTWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNle2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSk7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5TUEFDRVJ8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuSU5fUk9XX1NQQUNFUjt0aGlzLndpZHRoPWI7dGhpcy5oZWlnaHQ9dGhpcy5jb25zdGFudHNfLlNQQUNFUl9ERUZBVUxUX0hFSUdIVH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcj17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlci5JblJvd1NwYWNlcj1JblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyO3ZhciBJbmxpbmVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbmxpbmVfaW5wdXQ9Y2xhc3MgZXh0ZW5kcyBJbnB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5JTkxJTkVfSU5QVVQ7dGhpcy5jb25uZWN0ZWRCbG9jaz8odGhpcy53aWR0aD10aGlzLmNvbm5lY3RlZEJsb2NrV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jb25uZWN0ZWRCbG9ja0hlaWdodCk6KHRoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5FTVBUWV9JTkxJTkVfSU5QVVRfSEVJR0hULHRoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLkVNUFRZX0lOTElORV9JTlBVVF9QQURESU5HKTt0aGlzLmNvbm5lY3Rpb25IZWlnaHQ9XG50aGlzLmlzRHluYW1pY1NoYXBlP3RoaXMuc2hhcGUuaGVpZ2h0KHRoaXMuaGVpZ2h0KTp0aGlzLnNoYXBlLmhlaWdodDt0aGlzLmNvbm5lY3Rpb25XaWR0aD10aGlzLmlzRHluYW1pY1NoYXBlP3RoaXMuc2hhcGUud2lkdGgodGhpcy5oZWlnaHQpOnRoaXMuc2hhcGUud2lkdGg7dGhpcy5jb25uZWN0ZWRCbG9ja3x8KHRoaXMud2lkdGgrPXRoaXMuY29ubmVjdGlvbldpZHRoKih0aGlzLmlzRHluYW1pY1NoYXBlPzI6MSkpO3RoaXMuY29ubmVjdGlvbk9mZnNldFk9XCJjb25uZWN0aW9uT2Zmc2V0WVwiaW4gdGhpcy5zaGFwZT90aGlzLnNoYXBlLmNvbm5lY3Rpb25PZmZzZXRZKHRoaXMuY29ubmVjdGlvbkhlaWdodCk6dGhpcy5jb25zdGFudHNfLlRBQl9PRkZTRVRfRlJPTV9UT1A7dGhpcy5jb25uZWN0aW9uT2Zmc2V0WD1cImNvbm5lY3Rpb25PZmZzZXRYXCJpbiB0aGlzLnNoYXBlP3RoaXMuc2hhcGUuY29ubmVjdGlvbk9mZnNldFgodGhpcy5jb25uZWN0aW9uV2lkdGgpOjB9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dD1cbnt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0LklubGluZUlucHV0PUlubGluZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dDt2YXIgSW5wdXRSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfcm93PWNsYXNzIGV4dGVuZHMgUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvd3tjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLmNvbm5lY3RlZEJsb2NrV2lkdGhzPTA7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5JTlBVVF9ST1d9bWVhc3VyZSgpe3RoaXMud2lkdGg9dGhpcy5taW5XaWR0aDt0aGlzLmhlaWdodD10aGlzLm1pbkhlaWdodDtsZXQgYT0wO2ZvcihsZXQgYj0wO2I8dGhpcy5lbGVtZW50cy5sZW5ndGg7YisrKXtjb25zdCBjPXRoaXMuZWxlbWVudHNbYl07dGhpcy53aWR0aCs9Yy53aWR0aDtUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGMpJiYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChjKT9cbmErPWMuY29ubmVjdGVkQmxvY2tXaWR0aDpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0V4dGVybmFsSW5wdXQoYykmJmMuY29ubmVjdGVkQmxvY2tXaWR0aCE9PTAmJihhKz1jLmNvbm5lY3RlZEJsb2NrV2lkdGgtYy5jb25uZWN0aW9uV2lkdGgpKTtUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihjKXx8KHRoaXMuaGVpZ2h0PU1hdGgubWF4KHRoaXMuaGVpZ2h0LGMuaGVpZ2h0KSl9dGhpcy5jb25uZWN0ZWRCbG9ja1dpZHRocz1hO3RoaXMud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPXRoaXMud2lkdGgrYX1lbmRzV2l0aEVsZW1TcGFjZXIoKXtyZXR1cm4hdGhpcy5oYXNFeHRlcm5hbElucHV0JiYhdGhpcy5oYXNTdGF0ZW1lbnR9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X3Jvdz17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfcm93LklucHV0Um93PUlucHV0Um93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X3Jvdzt2YXIgSmFnZ2VkRWRnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRqYWdnZWRfZWRnZT1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkpBR0dFRF9FREdFO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5KQUdHRURfVEVFVEguaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLkpBR0dFRF9URUVUSC53aWR0aH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkamFnZ2VkX2VkZ2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRqYWdnZWRfZWRnZS5KYWdnZWRFZGdlPUphZ2dlZEVkZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkamFnZ2VkX2VkZ2U7dmFyIE5leHRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG5leHRfY29ubmVjdGlvbj1jbGFzcyBleHRlbmRzIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5ORVhUX0NPTk5FQ1RJT047dGhpcy5oZWlnaHQ9dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy53aWR0aD10aGlzLnNoYXBlLndpZHRofX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRuZXh0X2Nvbm5lY3Rpb249e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRuZXh0X2Nvbm5lY3Rpb24uTmV4dENvbm5lY3Rpb249TmV4dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkbmV4dF9jb25uZWN0aW9uO3ZhciBPdXRwdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG91dHB1dF9jb25uZWN0aW9uPWNsYXNzIGV4dGVuZHMgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9ue2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmNvbm5lY3Rpb25PZmZzZXRYPTA7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5PVVRQVVRfQ09OTkVDVElPTjt0aGlzLmhlaWdodD10aGlzLmlzRHluYW1pY1NoYXBlPzA6dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy5zdGFydFg9dGhpcy53aWR0aD10aGlzLmlzRHluYW1pY1NoYXBlPzA6dGhpcy5zaGFwZS53aWR0aDt0aGlzLmNvbm5lY3Rpb25PZmZzZXRZPXRoaXMuY29uc3RhbnRzXy5UQUJfT0ZGU0VUX0ZST01fVE9QfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRvdXRwdXRfY29ubmVjdGlvbj1cbnt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkb3V0cHV0X2Nvbm5lY3Rpb24uT3V0cHV0Q29ubmVjdGlvbj1PdXRwdXRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG91dHB1dF9jb25uZWN0aW9uO3ZhciBQcmV2aW91c0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcHJldmlvdXNfY29ubmVjdGlvbj1jbGFzcyBleHRlbmRzIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkY29ubmVjdGlvbntjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy50eXBlfD1UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5QUkVWSU9VU19DT05ORUNUSU9OO3RoaXMuaGVpZ2h0PXRoaXMuc2hhcGUuaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5zaGFwZS53aWR0aH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcHJldmlvdXNfY29ubmVjdGlvbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHByZXZpb3VzX2Nvbm5lY3Rpb24uUHJldmlvdXNDb25uZWN0aW9uPVByZXZpb3VzQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRwcmV2aW91c19jb25uZWN0aW9uO3ZhciBSb3VuZENvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3VuZF9jb3JuZXI9Y2xhc3MgZXh0ZW5kcyBNZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLnR5cGU9KGImJmIhPT1cImxlZnRcIj9UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5SSUdIVF9ST1VORF9DT1JORVI6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuTEVGVF9ST1VORF9DT1JORVIpfFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkNPUk5FUjt0aGlzLndpZHRoPXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTLzJ9fSxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyLlJvdW5kQ29ybmVyPVJvdW5kQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lcjt2YXIgU3BhY2VyUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNwYWNlcl9yb3c9Y2xhc3MgZXh0ZW5kcyBSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm93e2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhKTt0aGlzLmhlaWdodD1iO3RoaXMud2lkdGg9Yzt0aGlzLnByZWNlZGVzU3RhdGVtZW50PXRoaXMuZm9sbG93c1N0YXRlbWVudD0hMTt0aGlzLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcz0wO3RoaXMudHlwZXw9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuU1BBQ0VSfFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLkJFVFdFRU5fUk9XX1NQQUNFUjt0aGlzLmVsZW1lbnRzPVtuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sXG5jKV19bWVhc3VyZSgpe319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3BhY2VyX3Jvdz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNwYWNlcl9yb3cuU3BhY2VyUm93PVNwYWNlclJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcGFjZXJfcm93O3ZhciBTcXVhcmVDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3F1YXJlX2Nvcm5lcj1jbGFzcyBleHRlbmRzIE1lYXN1cmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYmFzZXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEpO3RoaXMudHlwZT0oYiYmYiE9PVwibGVmdFwiP1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLlJJR0hUX1NRVUFSRV9DT1JORVI6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuTEVGVF9TUVVBUkVfQ09STkVSKXxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5DT1JORVI7dGhpcy53aWR0aD10aGlzLmhlaWdodD10aGlzLmNvbnN0YW50c18uTk9fUEFERElOR319LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3F1YXJlX2Nvcm5lcj1cbnt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3F1YXJlX2Nvcm5lci5TcXVhcmVDb3JuZXI9U3F1YXJlQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXI7dmFyIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dD1jbGFzcyBleHRlbmRzIElucHV0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9jb25uZWN0aW9ue2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLlNUQVRFTUVOVF9JTlBVVDt0aGlzLmhlaWdodD10aGlzLmNvbm5lY3RlZEJsb2NrP3RoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQrdGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9CT1RUT01fU1BBQ0VSOnRoaXMuY29uc3RhbnRzXy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUO3RoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9OT1RDSF9PRkZTRVQrdGhpcy5zaGFwZS53aWR0aH19LFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzdGF0ZW1lbnRfaW5wdXQ9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzdGF0ZW1lbnRfaW5wdXQuU3RhdGVtZW50SW5wdXQ9U3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0O3ZhciBUb3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdG9wX3Jvdz1jbGFzcyBleHRlbmRzIFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3d7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy5hc2NlbmRlckhlaWdodD10aGlzLmNhcGxpbmU9MDt0aGlzLmhhc1ByZXZpb3VzQ29ubmVjdGlvbj0hMTt0aGlzLmNvbm5lY3Rpb249bnVsbDt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLlRPUF9ST1d9aGFzTGVmdFNxdWFyZUNvcm5lcihhKXtjb25zdCBiPShhLmhhdD9hLmhhdD09PVwiY2FwXCI6dGhpcy5jb25zdGFudHNfLkFERF9TVEFSVF9IQVRTKSYmIWEub3V0cHV0Q29ubmVjdGlvbiYmIWEucHJldmlvdXNDb25uZWN0aW9uLGM9YS5nZXRQcmV2aW91c0Jsb2NrKCk7cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb258fGJ8fChjP1xuYy5nZXROZXh0QmxvY2soKT09PWE6ITEpfWhhc1JpZ2h0U3F1YXJlQ29ybmVyKGEpe3JldHVybiEwfW1lYXN1cmUoKXtsZXQgYT0wLGI9MCxjPTA7Zm9yKGxldCBkPTA7ZDx0aGlzLmVsZW1lbnRzLmxlbmd0aDtkKyspe2NvbnN0IGU9dGhpcy5lbGVtZW50c1tkXTtiKz1lLndpZHRoO1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGUpfHwoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNIYXQoZSk/Yz1NYXRoLm1heChjLGUuYXNjZW5kZXJIZWlnaHQpOmE9TWF0aC5tYXgoYSxlLmhlaWdodCkpfXRoaXMud2lkdGg9TWF0aC5tYXgodGhpcy5taW5XaWR0aCxiKTt0aGlzLmhlaWdodD1NYXRoLm1heCh0aGlzLm1pbkhlaWdodCxhKStjO3RoaXMuY2FwbGluZT10aGlzLmFzY2VuZGVySGVpZ2h0PWM7dGhpcy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9dGhpcy53aWR0aH1zdGFydHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiExfWVuZHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiExfX0sXG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHRvcF9yb3c9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0b3Bfcm93LlRvcFJvdz1Ub3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdG9wX3Jvdzt2YXIgQ29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5OT19QQURESU5HPTA7dGhpcy5TTUFMTF9QQURESU5HPTM7dGhpcy5NRURJVU1fUEFERElORz01O3RoaXMuTUVESVVNX0xBUkdFX1BBRERJTkc9ODt0aGlzLkxBUkdFX1BBRERJTkc9MTA7dGhpcy5UQUJfSEVJR0hUPTE1O3RoaXMuVEFCX09GRlNFVF9GUk9NX1RPUD01O3RoaXMuVEFCX1ZFUlRJQ0FMX09WRVJMQVA9Mi41O3RoaXMuVEFCX1dJRFRIPTg7dGhpcy5OT1RDSF9XSURUSD0xNTt0aGlzLk5PVENIX0hFSUdIVD00O3RoaXMuTUlOX0JMT0NLX1dJRFRIPTEyO3RoaXMuRU1QVFlfQkxPQ0tfU1BBQ0VSX0hFSUdIVD0xNjt0aGlzLkNPUk5FUl9SQURJVVM9ODt0aGlzLk5PVENIX09GRlNFVF9MRUZUPTE1O3RoaXMuU1RBVEVNRU5UX0JPVFRPTV9TUEFDRVI9MDt0aGlzLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ9XG4yMDt0aGlzLkJFVFdFRU5fU1RBVEVNRU5UX1BBRERJTkdfWT00O3RoaXMuQUREX1NUQVJUX0hBVFM9ITE7dGhpcy5TVEFSVF9IQVRfSEVJR0hUPTE1O3RoaXMuU1RBUlRfSEFUX1dJRFRIPTEwMDt0aGlzLlNQQUNFUl9ERUZBVUxUX0hFSUdIVD0xNTt0aGlzLk1JTl9CTE9DS19IRUlHSFQ9MjQ7dGhpcy5FTVBUWV9JTkxJTkVfSU5QVVRfUEFERElORz0xNC41O3RoaXMuRVhURVJOQUxfVkFMVUVfSU5QVVRfUEFERElORz0yO3RoaXMuSkFHR0VEX1RFRVRIX0hFSUdIVD0xMjt0aGlzLkpBR0dFRF9URUVUSF9XSURUSD02O3RoaXMuRklFTERfVEVYVF9GT05UU0laRT0xMTt0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVD1cIm5vcm1hbFwiO3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZPVwic2Fucy1zZXJpZlwiO3RoaXMuRklFTERfVEVYVF9CQVNFTElORT10aGlzLkZJRUxEX1RFWFRfSEVJR0hUPS0xO3RoaXMuRklFTERfQk9SREVSX1JFQ1RfUkFESVVTPTQ7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQ9XG4xNjt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORz01O3RoaXMuRklFTERfQk9SREVSX1JFQ1RfWV9QQURESU5HPTM7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9DT0xPVVI9XCIjZmZmXCI7dGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1c9dGhpcy5GSUVMRF9EUk9QRE9XTl9DT0xPVVJFRF9ESVY9dGhpcy5GSUVMRF9EUk9QRE9XTl9OT19CT1JERVJfUkVDVF9TSEFET1c9ITE7dGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfU0laRT0xMjt0aGlzLkZJRUxEX0NPTE9VUl9GVUxMX0JMT0NLPXRoaXMuRklFTERfVEVYVElOUFVUX0JPWF9TSEFET1c9ITE7dGhpcy5GSUVMRF9DT0xPVVJfREVGQVVMVF9XSURUSD0yNjt0aGlzLmRlZnM9bnVsbDt0aGlzLmVtYm9zc0ZpbHRlcklkPVwiXCI7dGhpcy5lbWJvc3NGaWx0ZXI9bnVsbDt0aGlzLmRpc2FibGVkUGF0dGVybklkPVwiXCI7dGhpcy5kaXNhYmxlZFBhdHRlcm49bnVsbDt0aGlzLmRlYnVnRmlsdGVySWQ9XCJcIjt0aGlzLmNzc05vZGU9XG50aGlzLmRlYnVnRmlsdGVyPW51bGw7dGhpcy5DVVJTT1JfQ09MT1VSPVwiI2NjMGEwYVwiO3RoaXMuTUFSS0VSX0NPTE9VUj1cIiM0Mjg2ZjRcIjt0aGlzLkNVUlNPUl9XU19XSURUSD0xMDA7dGhpcy5XU19DVVJTT1JfSEVJR0hUPTU7dGhpcy5DVVJTT1JfU1RBQ0tfUEFERElORz0xMDt0aGlzLkNVUlNPUl9CTE9DS19QQURESU5HPTI7dGhpcy5DVVJTT1JfU1RST0tFX1dJRFRIPTQ7dGhpcy5GVUxMX0JMT0NLX0ZJRUxEUz0hMTt0aGlzLklOU0VSVElPTl9NQVJLRVJfQ09MT1VSPVwiIzAwMDAwMFwiO3RoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZPS4yO3RoaXMuU0hBUEVTPXtQVVpaTEU6MSxOT1RDSDoyfTt0aGlzLlRBTExfSU5QVVRfRklFTERfT0ZGU0VUX1k9dGhpcy5NRURJVU1fUEFERElORzt0aGlzLkRVTU1ZX0lOUFVUX1NIQURPV19NSU5fSEVJR0hUPXRoaXMuRFVNTVlfSU5QVVRfTUlOX0hFSUdIVD10aGlzLlRBQl9IRUlHSFQ7dGhpcy5TVEFURU1FTlRfSU5QVVRfTk9UQ0hfT0ZGU0VUPVxudGhpcy5OT1RDSF9PRkZTRVRfTEVGVDt0aGlzLlRPUF9ST1dfTUlOX0hFSUdIVD10aGlzLk1FRElVTV9QQURESU5HO3RoaXMuVE9QX1JPV19QUkVDRURFU19TVEFURU1FTlRfTUlOX0hFSUdIVD10aGlzLkxBUkdFX1BBRERJTkc7dGhpcy5CT1RUT01fUk9XX01JTl9IRUlHSFQ9dGhpcy5NRURJVU1fUEFERElORzt0aGlzLkJPVFRPTV9ST1dfQUZURVJfU1RBVEVNRU5UX01JTl9IRUlHSFQ9dGhpcy5MQVJHRV9QQURESU5HO3RoaXMuRU1QVFlfSU5MSU5FX0lOUFVUX0hFSUdIVD10aGlzLlRBQl9IRUlHSFQrMTE7dGhpcy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUPXRoaXMuTUlOX0JMT0NLX0hFSUdIVDt0aGlzLlNUQVJUX1BPSU5UPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygwLDApO3RoaXMuRklFTERfVEVYVF9CQVNFTElORV9DRU5URVI9ITA7dGhpcy5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ9dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQ7XG50aGlzLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19QQURESU5HPXRoaXMuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HO3RoaXMuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX0RBVEFVUkk9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJwWkQwaVRHRjVaWEpmTVNJZ1pHRjBZUzF1WVcxbFBTSk1ZWGxsY2lBeElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeE1pNDNNU0lnYUdWcFoyaDBQU0k0TGpjNUlpQjJhV1YzUW05NFBTSXdJREFnTVRJdU56RWdPQzQzT1NJK1BIUnBkR3hsUG1SeWIzQmtiM2R1TFdGeWNtOTNQQzkwYVhSc1pUNDhaeUJ2Y0dGamFYUjVQU0l3TGpFaVBqeHdZWFJvSUdROUlrMHhNaTQzTVN3eUxqUTBRVEl1TkRFc01pNDBNU3d3TERBc01Td3hNaXcwTGpFMlREZ3VNRGdzT0M0d09HRXlMalExTERJdU5EVXNNQ3d3TERFdE15NDBOU3d3VERBdU56SXNOQzR4TmtFeUxqUXlMREl1TkRJc01Dd3dMREVzTUN3eUxqUTBMREl1TkRnc01pNDBPQ3d3TERBc01Td3VOekV1TnpGRE1Td3dMalEzTERFdU5ETXNNQ3cyTGpNMkxEQlRNVEV1TnpVc01DNDBOaXd4TWl3dU56RkJNaTQwTkN3eUxqUTBMREFzTUN3eExERXlMamN4TERJdU5EUmFJaUJtYVd4c1BTSWpNak14WmpJd0lpOCtQQzluUGp4d1lYUm9JR1E5SWswMkxqTTJMRGN1TnpsaE1TNDBNeXd4TGpRekxEQXNNQ3d4TFRFdExqUXlUREV1TkRJc015NDBOV0V4TGpRMExERXVORFFzTUN3d0xERXNNQzB5WXpBdU5UWXRMalUyTERrdU16RXRNQzQxTml3NUxqZzNMREJoTVM0ME5Dd3hMalEwTERBc01Dd3hMREFzTWt3M0xqTTNMRGN1TXpkQk1TNDBNeXd4TGpRekxEQXNNQ3d4TERZdU16WXNOeTQzT1ZvaUlHWnBiR3c5SWlObVptWWlMejQ4TDNOMlp6ND1cIjtcbnRoaXMuRklFTERfQ09MT1VSX0RFRkFVTFRfSEVJR0hUPXRoaXMuRklFTERfQk9SREVSX1JFQ1RfSEVJR0hUO3RoaXMuRklFTERfQ0hFQ0tCT1hfWF9PRkZTRVQ9dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9YX1BBRERJTkctMzt0aGlzLnJhbmRvbUlkZW50aWZpZXI9U3RyaW5nKE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKX1pbml0KCl7dGhpcy5KQUdHRURfVEVFVEg9dGhpcy5tYWtlSmFnZ2VkVGVldGgoKTt0aGlzLk5PVENIPXRoaXMubWFrZU5vdGNoKCk7dGhpcy5TVEFSVF9IQVQ9dGhpcy5tYWtlU3RhcnRIYXQoKTt0aGlzLlBVWlpMRV9UQUI9dGhpcy5tYWtlUHV6emxlVGFiKCk7dGhpcy5JTlNJREVfQ09STkVSUz10aGlzLm1ha2VJbnNpZGVDb3JuZXJzKCk7dGhpcy5PVVRTSURFX0NPUk5FUlM9dGhpcy5tYWtlT3V0c2lkZUNvcm5lcnMoKX1zZXRUaGVtZShhKXt0aGlzLmJsb2NrU3R5bGVzPU9iamVjdC5jcmVhdGUobnVsbCk7Y29uc3QgYj1hLmJsb2NrU3R5bGVzO2Zvcihjb25zdCBjIGluIGIpdGhpcy5ibG9ja1N0eWxlc1tjXT1cbnRoaXMudmFsaWRhdGVkQmxvY2tTdHlsZV8oYltjXSk7dGhpcy5zZXREeW5hbWljUHJvcGVydGllc18oYSl9c2V0RHluYW1pY1Byb3BlcnRpZXNfKGEpe3RoaXMuc2V0Rm9udENvbnN0YW50c18oYSk7dGhpcy5zZXRDb21wb25lbnRDb25zdGFudHNfKGEpO3RoaXMuQUREX1NUQVJUX0hBVFM9YS5zdGFydEhhdHMhPT12b2lkIDA/YS5zdGFydEhhdHM6dGhpcy5BRERfU1RBUlRfSEFUU31zZXRGb250Q29uc3RhbnRzXyhhKXthLmZvbnRTdHlsZSYmYS5mb250U3R5bGUuZmFtaWx5JiYodGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFk9YS5mb250U3R5bGUuZmFtaWx5KTthLmZvbnRTdHlsZSYmYS5mb250U3R5bGUud2VpZ2h0JiYodGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFQ9YS5mb250U3R5bGUud2VpZ2h0KTthLmZvbnRTdHlsZSYmYS5mb250U3R5bGUuc2l6ZSYmKHRoaXMuRklFTERfVEVYVF9GT05UU0laRT1hLmZvbnRTdHlsZS5zaXplKTthPW1lYXN1cmVGb250TWV0cmljcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShcIkhnXCIsXG50aGlzLkZJRUxEX1RFWFRfRk9OVFNJWkUrXCJwdFwiLHRoaXMuRklFTERfVEVYVF9GT05UV0VJR0hULHRoaXMuRklFTERfVEVYVF9GT05URkFNSUxZKTt0aGlzLkZJRUxEX1RFWFRfSEVJR0hUPWEuaGVpZ2h0O3RoaXMuRklFTERfVEVYVF9CQVNFTElORT1hLmJhc2VsaW5lfXNldENvbXBvbmVudENvbnN0YW50c18oYSl7dGhpcy5DVVJTT1JfQ09MT1VSPWEuZ2V0Q29tcG9uZW50U3R5bGUoXCJjdXJzb3JDb2xvdXJcIil8fHRoaXMuQ1VSU09SX0NPTE9VUjt0aGlzLk1BUktFUl9DT0xPVVI9YS5nZXRDb21wb25lbnRTdHlsZShcIm1hcmtlckNvbG91clwiKXx8dGhpcy5NQVJLRVJfQ09MT1VSO3RoaXMuSU5TRVJUSU9OX01BUktFUl9DT0xPVVI9YS5nZXRDb21wb25lbnRTdHlsZShcImluc2VydGlvbk1hcmtlckNvbG91clwiKXx8dGhpcy5JTlNFUlRJT05fTUFSS0VSX0NPTE9VUjt0aGlzLklOU0VSVElPTl9NQVJLRVJfT1BBQ0lUWT1OdW1iZXIoYS5nZXRDb21wb25lbnRTdHlsZShcImluc2VydGlvbk1hcmtlck9wYWNpdHlcIikpfHxcbnRoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZfWdldEJsb2NrU3R5bGVGb3JDb2xvdXIoYSl7Y29uc3QgYj1cImF1dG9fXCIrYTt0aGlzLmJsb2NrU3R5bGVzW2JdfHwodGhpcy5ibG9ja1N0eWxlc1tiXT10aGlzLmNyZWF0ZUJsb2NrU3R5bGVfKGEpKTtyZXR1cm57c3R5bGU6dGhpcy5ibG9ja1N0eWxlc1tiXSxuYW1lOmJ9fWdldEJsb2NrU3R5bGUoYSl7cmV0dXJuIHRoaXMuYmxvY2tTdHlsZXNbYXx8XCJcIl18fChhJiZhLnN0YXJ0c1dpdGgoXCJhdXRvX1wiKT90aGlzLmdldEJsb2NrU3R5bGVGb3JDb2xvdXIoYS5zdWJzdHJpbmcoNSkpLnN0eWxlOnRoaXMuY3JlYXRlQmxvY2tTdHlsZV8oXCIjMDAwMDAwXCIpKX1jcmVhdGVCbG9ja1N0eWxlXyhhKXtyZXR1cm4gdGhpcy52YWxpZGF0ZWRCbG9ja1N0eWxlXyh7Y29sb3VyUHJpbWFyeTphfSl9dmFsaWRhdGVkQmxvY2tTdHlsZV8oYSl7Y29uc3QgYj17fTthJiZPYmplY3QuYXNzaWduKGIsYSk7YT1wYXJzZUJsb2NrQ29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhiLmNvbG91clByaW1hcnl8fFxuXCIjMDAwXCIpO2IuY29sb3VyUHJpbWFyeT1hLmhleDtiLmNvbG91clNlY29uZGFyeT1iLmNvbG91clNlY29uZGFyeT9wYXJzZUJsb2NrQ29sb3VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhiLmNvbG91clNlY29uZGFyeSkuaGV4OnRoaXMuZ2VuZXJhdGVTZWNvbmRhcnlDb2xvdXJfKGIuY29sb3VyUHJpbWFyeSk7Yi5jb2xvdXJUZXJ0aWFyeT1iLmNvbG91clRlcnRpYXJ5P3BhcnNlQmxvY2tDb2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGIuY29sb3VyVGVydGlhcnkpLmhleDp0aGlzLmdlbmVyYXRlVGVydGlhcnlDb2xvdXJfKGIuY29sb3VyUHJpbWFyeSk7Yi5oYXQ9Yi5oYXR8fFwiXCI7cmV0dXJuIGJ9Z2VuZXJhdGVTZWNvbmRhcnlDb2xvdXJfKGEpe3JldHVybiBibGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihcIiNmZmZcIixhLC42KXx8YX1nZW5lcmF0ZVRlcnRpYXJ5Q29sb3VyXyhhKXtyZXR1cm4gYmxlbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoXCIjZmZmXCIsXG5hLC4zKXx8YX1kaXNwb3NlKCl7dGhpcy5lbWJvc3NGaWx0ZXImJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5lbWJvc3NGaWx0ZXIpO3RoaXMuZGlzYWJsZWRQYXR0ZXJuJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZGlzYWJsZWRQYXR0ZXJuKTt0aGlzLmRlYnVnRmlsdGVyJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZGVidWdGaWx0ZXIpO3RoaXMuY3NzTm9kZT1udWxsfW1ha2VKYWdnZWRUZWV0aCgpe2NvbnN0IGE9dGhpcy5KQUdHRURfVEVFVEhfSEVJR0hULGI9dGhpcy5KQUdHRURfVEVFVEhfV0lEVEgsYz1saW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhiLGEvNCkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWIqXG4yLGEvMikscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYixhLzQpXSk7cmV0dXJue2hlaWdodDphLHdpZHRoOmIscGF0aDpjfX1tYWtlU3RhcnRIYXQoKXtjb25zdCBhPXRoaXMuU1RBUlRfSEFUX0hFSUdIVCxiPXRoaXMuU1RBUlRfSEFUX1dJRFRILGM9Y3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDMwLC1hKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg3MCwtYSkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYiwwKV0pO3JldHVybntoZWlnaHQ6YSouNzUsd2lkdGg6YixwYXRoOmN9fW1ha2VQdXp6bGVUYWIoKXtmdW5jdGlvbiBhKGYpe2Y9Zj8tMToxO2NvbnN0IGc9LWY7dmFyIGg9Yy8yO2NvbnN0IGs9aCsyLjUsbD1oKy41LG09cG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWIsXG5mKmgpO2g9cG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYixmKmgpO3JldHVybiBjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImNcIixbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoMCxmKmspLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1iLGcqbCksbV0pK2N1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwic1wiLFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhiLGcqMi41KSxoXSl9Y29uc3QgYj10aGlzLlRBQl9XSURUSCxjPXRoaXMuVEFCX0hFSUdIVCxkPWEoITApLGU9YSghMSk7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuUFVaWkxFLHdpZHRoOmIsaGVpZ2h0OmMscGF0aERvd246ZSxwYXRoVXA6ZH19bWFrZU5vdGNoKCl7ZnVuY3Rpb24gYShnKXtyZXR1cm4gbGluZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoZypcbmQsYykscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoZyozLDApLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGcqZCwtYyldKX1jb25zdCBiPXRoaXMuTk9UQ0hfV0lEVEgsYz10aGlzLk5PVENIX0hFSUdIVCxkPShiLTMpLzIsZT1hKDEpLGY9YSgtMSk7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuTk9UQ0gsd2lkdGg6YixoZWlnaHQ6YyxwYXRoTGVmdDplLHBhdGhSaWdodDpmfX1tYWtlSW5zaWRlQ29ybmVycygpe2NvbnN0IGE9dGhpcy5DT1JORVJfUkFESVVTLGI9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDBcIixhLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1hLGEpKSxjPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLFxuYSkpO3JldHVybnt3aWR0aDphLGhlaWdodDphLHBhdGhUb3A6YixwYXRoQm90dG9tOmN9fW1ha2VPdXRzaWRlQ29ybmVycygpe2NvbnN0IGE9dGhpcy5DT1JORVJfUkFESVVTLGI9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDAsYSkrYXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDFcIixhLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEsLWEpKSxjPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwxXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLGEpKSxkPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwxXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYSwtYSkpLGU9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFxuXCIwIDAsMVwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWEsYSkpO3JldHVybnt0b3BMZWZ0OmIsdG9wUmlnaHQ6Yyxib3R0b21SaWdodDplLGJvdHRvbUxlZnQ6ZCxyaWdodEhlaWdodDphfX1zaGFwZUZvcihhKXtzd2l0Y2goYS50eXBlKXtjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFOmNhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFOnJldHVybiB0aGlzLlBVWlpMRV9UQUI7Y2FzZSBDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5QUkVWSU9VU19TVEFURU1FTlQ6Y2FzZSBDb25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVDpyZXR1cm4gdGhpcy5OT1RDSDtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biBjb25uZWN0aW9uIHR5cGVcIik7XG59fWNyZWF0ZURvbShhLGIsYyxkKXt0aGlzLmluamVjdENTU18oYixjKTt0aGlzLmRlZnM9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuREVGUyx7fSxhKTthPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZJTFRFUix7aWQ6XCJibG9ja2x5RW1ib3NzRmlsdGVyXCIrdGhpcy5yYW5kb21JZGVudGlmaWVyfSx0aGlzLmRlZnMpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFR0FVU1NJQU5CTFVSLHtcImluXCI6XCJTb3VyY2VBbHBoYVwiLHN0ZERldmlhdGlvbjoxLHJlc3VsdDpcImJsdXJcIn0sYSk7Yj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRVNQRUNVTEFSTElHSFRJTkcsXG57XCJpblwiOlwiYmx1clwiLHN1cmZhY2VTY2FsZToxLHNwZWN1bGFyQ29uc3RhbnQ6LjUsc3BlY3VsYXJFeHBvbmVudDoxMCxcImxpZ2h0aW5nLWNvbG9yXCI6XCJ3aGl0ZVwiLHJlc3VsdDpcInNwZWNPdXRcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVQT0lOVExJR0hULHt4Oi01RTMseTotMUU0LHo6MkU0fSxiKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUNPTVBPU0lURSx7XCJpblwiOlwic3BlY091dFwiLGluMjpcIlNvdXJjZUFscGhhXCIsb3BlcmF0b3I6XCJpblwiLHJlc3VsdDpcInNwZWNPdXRcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEUsXG57XCJpblwiOlwiU291cmNlR3JhcGhpY1wiLGluMjpcInNwZWNPdXRcIixvcGVyYXRvcjpcImFyaXRobWV0aWNcIixrMTowLGsyOjEsazM6MSxrNDowfSxhKTt0aGlzLmVtYm9zc0ZpbHRlcklkPWEuaWQ7dGhpcy5lbWJvc3NGaWx0ZXI9YTthPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVFRFUk4se2lkOlwiYmxvY2tseURpc2FibGVkUGF0dGVyblwiK3RoaXMucmFuZG9tSWRlbnRpZmllcixwYXR0ZXJuVW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwiLHdpZHRoOjEwLGhlaWdodDoxMH0sdGhpcy5kZWZzKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHt3aWR0aDoxMCxoZWlnaHQ6MTAsZmlsbDpcIiNhYWFcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCxcbntkOlwiTSAwIDAgTCAxMCAxMCBNIDEwIDAgTCAwIDEwXCIsc3Ryb2tlOlwiI2NjMFwifSxhKTt0aGlzLmRpc2FibGVkUGF0dGVybklkPWEuaWQ7dGhpcy5kaXNhYmxlZFBhdHRlcm49YTt0aGlzLmNyZWF0ZURlYnVnRmlsdGVyKCk7ZCYmKGQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJsb2NrbHlFbWJvc3NGaWx0ZXJcIixgdXJsKCMke3RoaXMuZW1ib3NzRmlsdGVySWR9KWApLGQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJsb2NrbHlEaXNhYmxlZFBhdHRlcm5cIixgdXJsKCMke3RoaXMuZGlzYWJsZWRQYXR0ZXJuSWR9KWApLGQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJsb2NrbHlEZWJ1Z0ZpbHRlclwiLGB1cmwoIyR7dGhpcy5kZWJ1Z0ZpbHRlcklkfSlgKSl9Y3JlYXRlRGVidWdGaWx0ZXIoKXtpZighdGhpcy5kZWJ1Z0ZpbHRlcil7Y29uc3QgYT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GSUxURVIsXG57aWQ6XCJibG9ja2x5RGVidWdGaWx0ZXJcIit0aGlzLnJhbmRvbUlkZW50aWZpZXIsaGVpZ2h0OlwiMTYwJVwiLHdpZHRoOlwiMTgwJVwiLHk6XCItMzAlXCIseDpcIi00MCVcIn0sdGhpcy5kZWZzKSxiPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFQ09NUE9ORU5UVFJBTlNGRVIse3Jlc3VsdDpcIm91dEJsdXJcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVGVU5DQSx7dHlwZTpcInRhYmxlXCIsdGFibGVWYWx1ZXM6XCIwIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDFcIn0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVGTE9PRCx7XCJmbG9vZC1jb2xvclwiOlwiI2ZmMDAwMFwiLFxuXCJmbG9vZC1vcGFjaXR5XCI6LjUscmVzdWx0Olwib3V0Q29sb3JcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEUse1wiaW5cIjpcIm91dENvbG9yXCIsaW4yOlwib3V0Qmx1clwiLG9wZXJhdG9yOlwiaW5cIixyZXN1bHQ6XCJvdXRHbG93XCJ9LGEpO3RoaXMuZGVidWdGaWx0ZXJJZD1hLmlkO3RoaXMuZGVidWdGaWx0ZXI9YX19aW5qZWN0Q1NTXyhhLGIpe2I9dGhpcy5nZXRDU1NfKGIpO2E9XCJibG9ja2x5LXJlbmRlcmVyLXN0eWxlLVwiK2E7dGhpcy5jc3NOb2RlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO2NvbnN0IGM9Yi5qb2luKFwiXFxuXCIpO3RoaXMuY3NzTm9kZT90aGlzLmNzc05vZGUuZmlyc3RDaGlsZC50ZXh0Q29udGVudD1jOihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxiLmlkPWEsYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjKSxiLmFwcGVuZENoaWxkKGEpLFxuZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUoYixkb2N1bWVudC5oZWFkLmZpcnN0Q2hpbGQpLHRoaXMuY3NzTm9kZT1iKX1nZXRDU1NfKGEpe3JldHVybltgJHthfSAuYmxvY2tseVRleHQsIGAsYCR7YX0gLmJsb2NrbHlGbHlvdXRMYWJlbFRleHQge2AsYGZvbnQ6ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFR9IGArYCR7dGhpcy5GSUVMRF9URVhUX0ZPTlRTSVpFfXB0ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFl9O2AsXCJ9XCIsYCR7YX0gLmJsb2NrbHlUZXh0IHtgLFwiZmlsbDogI2ZmZjtcIixcIn1cIixgJHthfSAuYmxvY2tseU5vbkVkaXRhYmxlRmllbGQ+cmVjdCxgLGAke2F9IC5ibG9ja2x5RWRpdGFibGVGaWVsZD5yZWN0IHtgLGBmaWxsOiAke3RoaXMuRklFTERfQk9SREVSX1JFQ1RfQ09MT1VSfTtgLFwiZmlsbC1vcGFjaXR5OiAuNjtcIixcInN0cm9rZTogbm9uZTtcIixcIn1cIixgJHthfSAuYmxvY2tseU5vbkVkaXRhYmxlRmllbGQ+dGV4dCxgLGAke2F9IC5ibG9ja2x5RWRpdGFibGVGaWVsZD50ZXh0IHtgLFxuXCJmaWxsOiAjMDAwO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5Rmx5b3V0TGFiZWxUZXh0IHtgLFwiZmlsbDogIzAwMDtcIixcIn1cIixgJHthfSAuYmxvY2tseVRleHQuYmxvY2tseUJ1YmJsZVRleHQge2AsXCJmaWxsOiAjMDAwO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5RWRpdGFibGVGaWVsZDpub3QoLmJsb2NrbHlFZGl0aW5nKTpob3Zlcj5yZWN0IHtgLFwic3Ryb2tlOiAjZmZmO1wiLFwic3Ryb2tlLXdpZHRoOiAyO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5SHRtbElucHV0IHtgLGBmb250LWZhbWlseTogJHt0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWX07YCxgZm9udC13ZWlnaHQ6ICR7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFR9O2AsXCJ9XCIsYCR7YX0gLmJsb2NrbHlTZWxlY3RlZD4uYmxvY2tseVBhdGgge2AsXCJzdHJva2U6ICNmYzM7XCIsXCJzdHJva2Utd2lkdGg6IDNweDtcIixcIn1cIixgJHthfSAuYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGgge2AsXCJzdHJva2U6ICNmYzM7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlSZXBsYWNlYWJsZSAuYmxvY2tseVBhdGgge2AsXG5cImZpbGwtb3BhY2l0eTogLjU7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlSZXBsYWNlYWJsZSAuYmxvY2tseVBhdGhMaWdodCxgLGAke2F9IC5ibG9ja2x5UmVwbGFjZWFibGUgLmJsb2NrbHlQYXRoRGFyayB7YCxcImRpc3BsYXk6IG5vbmU7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoIHtgLGBmaWxsLW9wYWNpdHk6ICR7dGhpcy5JTlNFUlRJT05fTUFSS0VSX09QQUNJVFl9O2AsXCJzdHJva2U6IG5vbmU7XCIsXCJ9XCJdfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cy5Db25zdGFudFByb3ZpZGVyPUNvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cy5pc0R5bmFtaWNTaGFwZT1pc0R5bmFtaWNTaGFwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cy5pc05vdGNoPWlzTm90Y2gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMuaXNQdXp6bGVUYWI9aXNQdXp6bGVUYWIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50czt2YXIgRHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRkcmF3ZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmlubGluZVBhdGhfPXRoaXMub3V0bGluZVBhdGhfPVwiXCI7dGhpcy5ibG9ja189YTt0aGlzLmluZm9fPWI7dGhpcy50b3BMZWZ0Xz1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt0aGlzLmNvbnN0YW50c189Yi5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpfWRyYXcoKXt0aGlzLmRyYXdPdXRsaW5lXygpO3RoaXMuZHJhd0ludGVybmFsc18oKTt0aGlzLnVwZGF0ZUNvbm5lY3Rpb25IaWdobGlnaHRzKCk7dGhpcy5ibG9ja18ucGF0aE9iamVjdC5zZXRQYXRoKHRoaXMub3V0bGluZVBhdGhfK1wiXFxuXCIrdGhpcy5pbmxpbmVQYXRoXyk7dGhpcy5pbmZvXy5SVEwmJnRoaXMuYmxvY2tfLnBhdGhPYmplY3QuZmxpcFJUTCgpO3RoaXMucmVjb3JkU2l6ZU9uQmxvY2tfKCl9cmVjb3JkU2l6ZU9uQmxvY2tfKCl7dGhpcy5ibG9ja18uaGVpZ2h0PVxudGhpcy5pbmZvXy5oZWlnaHQ7dGhpcy5ibG9ja18ud2lkdGg9dGhpcy5pbmZvXy53aWR0aFdpdGhDaGlsZHJlbjt0aGlzLmJsb2NrXy5jaGlsZGxlc3NXaWR0aD10aGlzLmluZm9fLndpZHRofWRyYXdPdXRsaW5lXygpe3RoaXMuZHJhd1RvcF8oKTtmb3IobGV0IGE9MTthPHRoaXMuaW5mb18ucm93cy5sZW5ndGgtMTthKyspe2NvbnN0IGI9dGhpcy5pbmZvXy5yb3dzW2FdO2IuaGFzSmFnZ2VkRWRnZT90aGlzLmRyYXdKYWdnZWRFZGdlXyhiKTpiLmhhc1N0YXRlbWVudD90aGlzLmRyYXdTdGF0ZW1lbnRJbnB1dF8oYik6Yi5oYXNFeHRlcm5hbElucHV0P3RoaXMuZHJhd1ZhbHVlSW5wdXRfKGIpOnRoaXMuZHJhd1JpZ2h0U2lkZVJvd18oYil9dGhpcy5kcmF3Qm90dG9tXygpO3RoaXMuZHJhd0xlZnRfKCl9ZHJhd1RvcF8oKXtjb25zdCBhPXRoaXMuaW5mb18udG9wUm93LGI9YS5lbGVtZW50czt0aGlzLnBvc2l0aW9uUHJldmlvdXNDb25uZWN0aW9uXygpO3RoaXMub3V0bGluZVBhdGhfKz1cbm1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MsdGhpcy5pbmZvXy5zdGFydFkpO2ZvcihsZXQgYz0wLGQ7ZD1iW2NdO2MrKylUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGQpP3RoaXMub3V0bGluZVBhdGhfKz10aGlzLmNvbnN0YW50c18uT1VUU0lERV9DT1JORVJTLnRvcExlZnQ6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNSaWdodFJvdW5kZWRDb3JuZXIoZCk/dGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuY29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUlMudG9wUmlnaHQ6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oZCk/dGhpcy5vdXRsaW5lUGF0aF8rPWQuc2hhcGUucGF0aExlZnQ6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNIYXQoZCk/XG50aGlzLm91dGxpbmVQYXRoXys9dGhpcy5jb25zdGFudHNfLlNUQVJUX0hBVC5wYXRoOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGQpJiYodGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsZC53aWR0aCkpO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGEuaGVpZ2h0LWEuYXNjZW5kZXJIZWlnaHQpfWRyYXdKYWdnZWRFZGdlXyhhKXt0aGlzLm91dGxpbmVQYXRoXys9dGhpcy5jb25zdGFudHNfLkpBR0dFRF9URUVUSC5wYXRoK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYS5oZWlnaHQtdGhpcy5jb25zdGFudHNfLkpBR0dFRF9URUVUSC5oZWlnaHQpfWRyYXdWYWx1ZUlucHV0XyhhKXtjb25zdCBiPVxuYS5nZXRMYXN0SW5wdXQoKTt0aGlzLnBvc2l0aW9uRXh0ZXJuYWxWYWx1ZUNvbm5lY3Rpb25fKGEpO2NvbnN0IGM9aXNEeW5hbWljU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cyhiLnNoYXBlKT9iLnNoYXBlLnBhdGhEb3duKGIuaGVpZ2h0KTpiLnNoYXBlLnBhdGhEb3duO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGIueFBvcytiLndpZHRoKStjK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYS5oZWlnaHQtYi5jb25uZWN0aW9uSGVpZ2h0KX1kcmF3U3RhdGVtZW50SW5wdXRfKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCk7aWYoYil7dmFyIGM9Yi54UG9zK2Iubm90Y2hPZmZzZXQrYi5zaGFwZS53aWR0aDtiPWIuc2hhcGUucGF0aFJpZ2h0K2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsXG4tKGIubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLndpZHRoKSkrdGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLnBhdGhUb3A7dmFyIGQ9YS5oZWlnaHQtMip0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMuaGVpZ2h0O3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGMpK2IrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixkKSt0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucGF0aEJvdHRvbStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGEueFBvcythLndpZHRoKTt0aGlzLnBvc2l0aW9uU3RhdGVtZW50SW5wdXRDb25uZWN0aW9uXyhhKX19ZHJhd1JpZ2h0U2lkZVJvd18oYSl7dGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsXG5hLnlQb3MrYS5oZWlnaHQpfWRyYXdCb3R0b21fKCl7Y29uc3QgYT10aGlzLmluZm9fLmJvdHRvbVJvdyxiPWEuZWxlbWVudHM7dGhpcy5wb3NpdGlvbk5leHRDb25uZWN0aW9uXygpO2xldCBjPTAsZD1cIlwiO2ZvcihsZXQgZT1iLmxlbmd0aC0xLGY7Zj1iW2VdO2UtLSlUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc05leHRDb25uZWN0aW9uKGYpP2QrPWYuc2hhcGUucGF0aFJpZ2h0OlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFNxdWFyZUNvcm5lcihmKT9kKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGEueFBvcyk6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihmKT9kKz10aGlzLmNvbnN0YW50c18uT1VUU0lERV9DT1JORVJTLmJvdHRvbUxlZnQ6XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1JpZ2h0Um91bmRlZENvcm5lcihmKT8oZCs9dGhpcy5jb25zdGFudHNfLk9VVFNJREVfQ09STkVSUy5ib3R0b21SaWdodCxjPXRoaXMuY29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUlMucmlnaHRIZWlnaHQpOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGYpJiYoZCs9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixmLndpZHRoKi0xKSk7dGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsYS5iYXNlbGluZS1jKTt0aGlzLm91dGxpbmVQYXRoXys9ZH1kcmF3TGVmdF8oKXt2YXIgYT10aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb247dGhpcy5wb3NpdGlvbk91dHB1dENvbm5lY3Rpb25fKCk7XG5pZihhKXtjb25zdCBiPWEuY29ubmVjdGlvbk9mZnNldFkrYS5oZWlnaHQ7YT1pc0R5bmFtaWNTaGFwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzKGEuc2hhcGUpP2Euc2hhcGUucGF0aFVwKGEuaGVpZ2h0KTphLnNoYXBlLnBhdGhVcDt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixiKSthfXRoaXMub3V0bGluZVBhdGhfKz1cInpcIn1kcmF3SW50ZXJuYWxzXygpe2ZvcihsZXQgYT0wLGI7Yj10aGlzLmluZm9fLnJvd3NbYV07YSsrKWZvcihsZXQgYz0wLGQ7ZD1iLmVsZW1lbnRzW2NdO2MrKylUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGQpP3RoaXMuZHJhd0lubGluZUlucHV0XyhkKTooVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJY29uKGQpfHxcblR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoZCkpJiZ0aGlzLmxheW91dEZpZWxkXyhkKX1sYXlvdXRGaWVsZF8oYSl7Y29uc3QgYj1hLmNlbnRlcmxpbmUtYS5oZWlnaHQvMjtsZXQgYz1hLnhQb3M7dmFyIGQ9XCJcIjt0aGlzLmluZm9fLlJUTCYmKGM9LShjK2Eud2lkdGgpLGEuZmxpcFJ0bCYmKGMrPWEud2lkdGgsZD1cInNjYWxlKC0xIDEpXCIpKTtUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYSk/KGQ9YS5pY29uLGQuc2V0T2Zmc2V0SW5CbG9jayhuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYyxiKSksdGhpcy5pbmZvXy5pc0luc2VydGlvbk1hcmtlciYmZC5oaWRlRm9ySW5zZXJ0aW9uTWFya2VyKCkpOihhPWEuZmllbGQuZ2V0U3ZnUm9vdCgpLGEuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrXG5jK1wiLFwiK2IrXCIpXCIrZCksdGhpcy5pbmZvXy5pc0luc2VydGlvbk1hcmtlciYmYS5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsXCJub25lXCIpKX1kcmF3SW5saW5lSW5wdXRfKGEpe2NvbnN0IGI9YS53aWR0aCxjPWEuaGVpZ2h0LGQ9YS5jb25uZWN0aW9uT2Zmc2V0WSxlPWEuY29ubmVjdGlvbkhlaWdodCtkO3RoaXMuaW5saW5lUGF0aF8rPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MrYS5jb25uZWN0aW9uV2lkdGgsYS5jZW50ZXJsaW5lLWMvMikrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixkKSthLnNoYXBlLnBhdGhEb3duK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYy1lKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLGItYS5jb25uZWN0aW9uV2lkdGgpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsXG4tYykrXCJ6XCI7dGhpcy5wb3NpdGlvbklubGluZUlucHV0Q29ubmVjdGlvbl8oYSl9cG9zaXRpb25JbmxpbmVJbnB1dENvbm5lY3Rpb25fKGEpe2NvbnN0IGI9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzI7aWYoYS5jb25uZWN0aW9uTW9kZWwpe2xldCBjPWEueFBvcythLmNvbm5lY3Rpb25XaWR0aCthLmNvbm5lY3Rpb25PZmZzZXRYO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2EuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxiK2EuY29ubmVjdGlvbk9mZnNldFkpfX1wb3NpdGlvblN0YXRlbWVudElucHV0Q29ubmVjdGlvbl8oYSl7Y29uc3QgYj1hLmdldExhc3RJbnB1dCgpO2lmKGI9PW51bGw/MDpiLmNvbm5lY3Rpb25Nb2RlbCl7bGV0IGM9YS54UG9zK2Euc3RhdGVtZW50RWRnZStiLm5vdGNoT2Zmc2V0O3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2IuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxhLnlQb3MpfX1wb3NpdGlvbkV4dGVybmFsVmFsdWVDb25uZWN0aW9uXyhhKXtjb25zdCBiPVxuYS5nZXRMYXN0SW5wdXQoKTtpZihiJiZiLmNvbm5lY3Rpb25Nb2RlbCl7bGV0IGM9YS54UG9zK2Eud2lkdGg7dGhpcy5pbmZvXy5SVEwmJihjKj0tMSk7Yi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jayhjLGEueVBvcyl9fXBvc2l0aW9uUHJldmlvdXNDb25uZWN0aW9uXygpe2NvbnN0IGE9dGhpcy5pbmZvXy50b3BSb3c7aWYoYS5jb25uZWN0aW9uKXtjb25zdCBiPWEueFBvcythLm5vdGNoT2Zmc2V0O2EuY29ubmVjdGlvbi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jayh0aGlzLmluZm9fLlJUTD8tYjpiLDApfX1wb3NpdGlvbk5leHRDb25uZWN0aW9uXygpe2NvbnN0IGE9dGhpcy5pbmZvXy5ib3R0b21Sb3c7aWYoYS5jb25uZWN0aW9uKXtjb25zdCBiPWEuY29ubmVjdGlvbixjPWIueFBvcztiLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKHRoaXMuaW5mb18uUlRMPy1jOmMsYS5iYXNlbGluZSl9fXBvc2l0aW9uT3V0cHV0Q29ubmVjdGlvbl8oKXtpZih0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24pe2NvbnN0IGE9XG50aGlzLmluZm9fLnN0YXJ0WCt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uY29ubmVjdGlvbk9mZnNldFg7dGhpcy5ibG9ja18ub3V0cHV0Q29ubmVjdGlvbi5zZXRPZmZzZXRJbkJsb2NrKHRoaXMuaW5mb18uUlRMPy1hOmEsdGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3Rpb25PZmZzZXRZKX19dXBkYXRlQ29ubmVjdGlvbkhpZ2hsaWdodHMoKXtmb3IoY29uc3QgYSBvZiB0aGlzLmluZm9fLnJvd3MpZm9yKGNvbnN0IGIgb2YgYS5lbGVtZW50cyl7aWYoIShiIGluc3RhbmNlb2YgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRjb25uZWN0aW9uKSljb250aW51ZTtjb25zdCBjPXRoaXMuZHJhd0Nvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGIpO2MmJihjLnN0eWxlLmRpc3BsYXk9Yi5oaWdobGlnaHRlZD9cIlwiOlwibm9uZVwiKX19ZHJhd0Nvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGEpe2NvbnN0IGI9YS5jb25uZWN0aW9uTW9kZWw7XG5hPWIudHlwZT09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFfHxiLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUU/dGhpcy5nZXRFeHByZXNzaW9uQ29ubmVjdGlvbkhpZ2hsaWdodFBhdGgoYSk6dGhpcy5nZXRTdGF0ZW1lbnRDb25uZWN0aW9uSGlnaGxpZ2h0UGF0aChhKTtjb25zdCBjPWIuZ2V0U291cmNlQmxvY2soKTtsZXQgZCxlO3JldHVybihlPShkPWMucGF0aE9iamVjdCkuYWRkQ29ubmVjdGlvbkhpZ2hsaWdodCk9PW51bGw/dm9pZCAwOmUuY2FsbChkLGIsYSxiLmdldE9mZnNldEluQmxvY2soKSxjLlJUTCl9Z2V0RXhwcmVzc2lvbkNvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGEpe2xldCBiPVwiXCI7aXNEeW5hbWljU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cyhhLnNoYXBlKT9cbmI9YS5zaGFwZS5wYXRoRG93bihhLmhlaWdodCk6aXNQdXp6bGVUYWIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50cyhhLnNoYXBlKSYmKGI9YS5zaGFwZS5wYXRoRG93bik7YT10aGlzLmNvbnN0YW50c18uVEFCX09GRlNFVF9GUk9NX1RPUDtyZXR1cm4gbW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDAsLWEpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYSkrYitsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGEpfWdldFN0YXRlbWVudENvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGEpe2lmKCFpc05vdGNoJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRjb25zdGFudHMoYS5zaGFwZSkpdGhyb3cgRXJyb3IoXCJTdGF0ZW1lbnQgY29ubmVjdGlvbnMgc2hvdWxkIGhhdmUgbm90Y2ggc2hhcGVzXCIpO1xuY29uc3QgYj10aGlzLmNvbnN0YW50c18uTk9UQ0hfT0ZGU0VUX0xFRlQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM7cmV0dXJuIG1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYiwwKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLGIpK2Euc2hhcGUucGF0aExlZnQrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixiKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGRyYXdlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRkcmF3ZXIuRHJhd2VyPURyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kZHJhd2VyO3ZhciBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZvPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5zdGF0ZW1lbnRFZGdlPXRoaXMud2lkdGg9dGhpcy53aWR0aFdpdGhDaGlsZHJlbj10aGlzLmhlaWdodD0wO3RoaXMucm93cz1bXTt0aGlzLmlucHV0Um93cz1bXTt0aGlzLnN0YXJ0WT10aGlzLnN0YXJ0WD0wO3RoaXMucmVuZGVyZXJfPWE7dGhpcy5ibG9ja189Yjt0aGlzLmNvbnN0YW50c189dGhpcy5yZW5kZXJlcl8uZ2V0Q29uc3RhbnRzKCk7dGhpcy5vdXRwdXRDb25uZWN0aW9uPWIub3V0cHV0Q29ubmVjdGlvbj9uZXcgT3V0cHV0Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRvdXRwdXRfY29ubmVjdGlvbih0aGlzLmNvbnN0YW50c18sYi5vdXRwdXRDb25uZWN0aW9uKTpudWxsO3RoaXMuaXNJbmxpbmU9Yi5nZXRJbnB1dHNJbmxpbmUoKSYmIWIuaXNDb2xsYXBzZWQoKTtcbnRoaXMuaXNDb2xsYXBzZWQ9Yi5pc0NvbGxhcHNlZCgpO3RoaXMuaXNJbnNlcnRpb25NYXJrZXI9Yi5pc0luc2VydGlvbk1hcmtlcigpO3RoaXMuUlRMPWIuUlRMO3RoaXMudG9wUm93PW5ldyBUb3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdG9wX3Jvdyh0aGlzLmNvbnN0YW50c18pO3RoaXMuYm90dG9tUm93PW5ldyBCb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdyh0aGlzLmNvbnN0YW50c18pfWdldFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMucmVuZGVyZXJffW1lYXN1cmUoKXt0aGlzLmNyZWF0ZVJvd3NfKCk7dGhpcy5hZGRFbGVtU3BhY2luZ18oKTt0aGlzLmFkZFJvd1NwYWNpbmdfKCk7dGhpcy5jb21wdXRlQm91bmRzXygpO3RoaXMuYWxpZ25Sb3dFbGVtZW50c18oKTt0aGlzLmZpbmFsaXplXygpfWNyZWF0ZVJvd3NfKCl7dGhpcy5wb3B1bGF0ZVRvcFJvd18oKTt0aGlzLnJvd3MucHVzaCh0aGlzLnRvcFJvdyk7XG5sZXQgYT1uZXcgSW5wdXRSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfcm93KHRoaXMuY29uc3RhbnRzXyk7dGhpcy5pbnB1dFJvd3MucHVzaChhKTt2YXIgYj10aGlzLmJsb2NrXy5nZXRJY29ucygpO2ZvcihsZXQgYz0wLGQ7ZD1iW2NdO2MrKyl7Y29uc3QgZT1uZXcgSWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpY29uKHRoaXMuY29uc3RhbnRzXyxkKTt0aGlzLmlzQ29sbGFwc2VkJiYhZC5pc1Nob3duV2hlbkNvbGxhcHNlZCgpfHxhLmVsZW1lbnRzLnB1c2goZSl9Yj12b2lkIDA7Zm9yKGxldCBjPTAsZDtkPXRoaXMuYmxvY2tfLmlucHV0TGlzdFtjXTtjKyspaWYoZC5pc1Zpc2libGUoKSl7dGhpcy5zaG91bGRTdGFydE5ld1Jvd18oZCxiKSYmKHRoaXMucm93cy5wdXNoKGEpLGE9bmV3IElucHV0Um93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGlucHV0X3Jvdyh0aGlzLmNvbnN0YW50c18pLFxudGhpcy5pbnB1dFJvd3MucHVzaChhKSk7Zm9yKGxldCBlPTAsZjtmPWQuZmllbGRSb3dbZV07ZSsrKWEuZWxlbWVudHMucHVzaChuZXcgRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZmllbGQodGhpcy5jb25zdGFudHNfLGYsZCkpO3RoaXMuYWRkSW5wdXRfKGQsYSk7Yj1kfXRoaXMuaXNDb2xsYXBzZWQmJihhLmhhc0phZ2dlZEVkZ2U9ITAsYS5lbGVtZW50cy5wdXNoKG5ldyBKYWdnZWRFZGdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGphZ2dlZF9lZGdlKHRoaXMuY29uc3RhbnRzXykpKTsoYS5lbGVtZW50cy5sZW5ndGh8fGEuaGFzRHVtbXlJbnB1dCkmJnRoaXMucm93cy5wdXNoKGEpO3RoaXMucG9wdWxhdGVCb3R0b21Sb3dfKCk7dGhpcy5yb3dzLnB1c2godGhpcy5ib3R0b21Sb3cpfXBvcHVsYXRlVG9wUm93Xygpe3ZhciBhPSEhdGhpcy5ibG9ja18ucHJldmlvdXNDb25uZWN0aW9uO2NvbnN0IGI9XG4odGhpcy5ibG9ja18uaGF0P3RoaXMuYmxvY2tfLmhhdD09PVwiY2FwXCI6dGhpcy5jb25zdGFudHNfLkFERF9TVEFSVF9IQVRTKSYmIXRoaXMub3V0cHV0Q29ubmVjdGlvbiYmIWE7bGV0IGM9dGhpcy50b3BSb3cuaGFzTGVmdFNxdWFyZUNvcm5lcih0aGlzLmJsb2NrXyk/U3F1YXJlQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXI6Um91bmRDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyO3RoaXMudG9wUm93LmVsZW1lbnRzLnB1c2gobmV3IGModGhpcy5jb25zdGFudHNfKSk7Yj8oYT1uZXcgSGF0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGhhdCh0aGlzLmNvbnN0YW50c18pLHRoaXMudG9wUm93LmVsZW1lbnRzLnB1c2goYSkpOmEmJih0aGlzLnRvcFJvdy5oYXNQcmV2aW91c0Nvbm5lY3Rpb249ITAsdGhpcy50b3BSb3cuY29ubmVjdGlvbj1cbm5ldyBQcmV2aW91c0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcHJldmlvdXNfY29ubmVjdGlvbih0aGlzLmNvbnN0YW50c18sdGhpcy5ibG9ja18ucHJldmlvdXNDb25uZWN0aW9uKSx0aGlzLnRvcFJvdy5lbGVtZW50cy5wdXNoKHRoaXMudG9wUm93LmNvbm5lY3Rpb24pKTt0aGlzLmJsb2NrXy5pbnB1dExpc3QubGVuZ3RoJiZ0aGlzLmJsb2NrXy5pbnB1dExpc3RbMF1pbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dCYmIXRoaXMuYmxvY2tfLmlzQ29sbGFwc2VkKCk/dGhpcy50b3BSb3cubWluSGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5UT1BfUk9XX1BSRUNFREVTX1NUQVRFTUVOVF9NSU5fSEVJR0hUOnRoaXMudG9wUm93Lm1pbkhlaWdodD10aGlzLmNvbnN0YW50c18uVE9QX1JPV19NSU5fSEVJR0hUO2M9dGhpcy50b3BSb3cuaGFzUmlnaHRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP1xuU3F1YXJlQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNxdWFyZV9jb3JuZXI6Um91bmRDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyO3RoaXMudG9wUm93LmVsZW1lbnRzLnB1c2gobmV3IGModGhpcy5jb25zdGFudHNfLFwicmlnaHRcIikpfXBvcHVsYXRlQm90dG9tUm93Xygpe3RoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uPSEhdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb247dGhpcy5ib3R0b21Sb3cubWluSGVpZ2h0PXRoaXMuYmxvY2tfLmlucHV0TGlzdC5sZW5ndGgmJnRoaXMuYmxvY2tfLmlucHV0TGlzdFt0aGlzLmJsb2NrXy5pbnB1dExpc3QubGVuZ3RoLTFdaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQ/dGhpcy5jb25zdGFudHNfLkJPVFRPTV9ST1dfQUZURVJfU1RBVEVNRU5UX01JTl9IRUlHSFQ6XG50aGlzLmNvbnN0YW50c18uQk9UVE9NX1JPV19NSU5fSEVJR0hUO3RoaXMuYm90dG9tUm93Lmhhc0xlZnRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP3RoaXMuYm90dG9tUm93LmVsZW1lbnRzLnB1c2gobmV3IFNxdWFyZUNvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcXVhcmVfY29ybmVyKHRoaXMuY29uc3RhbnRzXykpOnRoaXMuYm90dG9tUm93LmVsZW1lbnRzLnB1c2gobmV3IFJvdW5kQ29ybmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdW5kX2Nvcm5lcih0aGlzLmNvbnN0YW50c18pKTt0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbiYmKHRoaXMuYm90dG9tUm93LmNvbm5lY3Rpb249bmV3IE5leHRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG5leHRfY29ubmVjdGlvbih0aGlzLmNvbnN0YW50c18sdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24pLFxudGhpcy5ib3R0b21Sb3cuZWxlbWVudHMucHVzaCh0aGlzLmJvdHRvbVJvdy5jb25uZWN0aW9uKSk7dGhpcy5ib3R0b21Sb3cuaGFzUmlnaHRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP3RoaXMuYm90dG9tUm93LmVsZW1lbnRzLnB1c2gobmV3IFNxdWFyZUNvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzcXVhcmVfY29ybmVyKHRoaXMuY29uc3RhbnRzXyxcInJpZ2h0XCIpKTp0aGlzLmJvdHRvbVJvdy5lbGVtZW50cy5wdXNoKG5ldyBSb3VuZENvcm5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRyb3VuZF9jb3JuZXIodGhpcy5jb25zdGFudHNfLFwicmlnaHRcIikpfWFkZElucHV0XyhhLGIpe2lmKHRoaXMuaXNJbmxpbmUmJmEgaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQpYi5lbGVtZW50cy5wdXNoKG5ldyBJbmxpbmVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbmxpbmVfaW5wdXQodGhpcy5jb25zdGFudHNfLFxuYSkpLGIuaGFzSW5saW5lSW5wdXQ9ITA7ZWxzZSBpZihhIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0KWIuZWxlbWVudHMucHVzaChuZXcgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0KHRoaXMuY29uc3RhbnRzXyxhKSksYi5oYXNTdGF0ZW1lbnQ9ITA7ZWxzZSBpZihhIGluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0KWIuZWxlbWVudHMucHVzaChuZXcgRXh0ZXJuYWxWYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGV4dGVybmFsX3ZhbHVlX2lucHV0KHRoaXMuY29uc3RhbnRzXyxhKSksYi5oYXNFeHRlcm5hbElucHV0PSEwO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIER1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXR8fFxuYSBpbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXQpYi5taW5IZWlnaHQ9TWF0aC5tYXgoYi5taW5IZWlnaHQsYS5nZXRTb3VyY2VCbG9jaygpJiZhLmdldFNvdXJjZUJsb2NrKCkuaXNTaGFkb3coKT90aGlzLmNvbnN0YW50c18uRFVNTVlfSU5QVVRfU0hBRE9XX01JTl9IRUlHSFQ6dGhpcy5jb25zdGFudHNfLkRVTU1ZX0lOUFVUX01JTl9IRUlHSFQpLGIuaGFzRHVtbXlJbnB1dD0hMDtiLmFsaWduPT09bnVsbCYmKGIuYWxpZ249YS5hbGlnbil9c2hvdWxkU3RhcnROZXdSb3dfKGEsYil7cmV0dXJuIGI/YiBpbnN0YW5jZW9mIEVuZFJvd0lucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGVuZF9yb3dfaW5wdXR8fGEgaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXR8fGIgaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQ/XG4hMDphIGluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0fHxhIGluc3RhbmNlb2YgRHVtbXlJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRkdW1teV9pbnB1dHx8YiBpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dD8hdGhpcy5pc0lubGluZTohMTohMX1hZGRFbGVtU3BhY2luZ18oKXtmb3IobGV0IGE9MCxiO2I9dGhpcy5yb3dzW2FdO2ErKyl7Y29uc3QgYz1iLmVsZW1lbnRzO2IuZWxlbWVudHM9W107Yi5zdGFydHNXaXRoRWxlbVNwYWNlcigpJiZiLmVsZW1lbnRzLnB1c2gobmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLHRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhudWxsLGNbMF0pKSk7aWYoYy5sZW5ndGgpe2ZvcihsZXQgZD1cbjA7ZDxjLmxlbmd0aC0xO2QrKyl7Yi5lbGVtZW50cy5wdXNoKGNbZF0pO2NvbnN0IGU9dGhpcy5nZXRJblJvd1NwYWNpbmdfKGNbZF0sY1tkKzFdKTtiLmVsZW1lbnRzLnB1c2gobmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLGUpKX1iLmVsZW1lbnRzLnB1c2goY1tjLmxlbmd0aC0xXSk7Yi5lbmRzV2l0aEVsZW1TcGFjZXIoKSYmYi5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyx0aGlzLmdldEluUm93U3BhY2luZ18oY1tjLmxlbmd0aC0xXSxudWxsKSkpfX19Z2V0SW5Sb3dTcGFjaW5nXyhhLGIpe2lmKCFhJiZiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uU1RBVEVNRU5UX0lOUFVUX1BBRERJTkdfTEVGVDtcbmlmKGEmJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYSkmJiFiKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0V4dGVybmFsSW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HfXJldHVybiBhJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYSkmJlxuYiYmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGIpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc05leHRDb25uZWN0aW9uKGIpKT9iLm5vdGNoT2Zmc2V0OmEmJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSkmJmImJihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihiKXx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKSk/Yi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUzphJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGEpJiZcbmEud2lkdGg9PT0wP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR31jb21wdXRlQm91bmRzXygpe2xldCBhPTAsYj0wLGM9MDtmb3IobGV0IGU9MCxmO2Y9dGhpcy5yb3dzW2VdO2UrKyl7Zi5tZWFzdXJlKCk7Yj1NYXRoLm1heChiLGYud2lkdGgpO2lmKGYuaGFzU3RhdGVtZW50KXt2YXIgZD1mLmdldExhc3RJbnB1dCgpO2xldCBnLGg7ZD1mLndpZHRoLSgoaD0oZz1kKT09bnVsbD92b2lkIDA6Zy53aWR0aCkhPW51bGw/aDowKTthPU1hdGgubWF4KGEsZCl9Yz1NYXRoLm1heChjLGYud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzKX10aGlzLnN0YXRlbWVudEVkZ2U9YTt0aGlzLndpZHRoPWI7Zm9yKGxldCBlPTAsZjtmPXRoaXMucm93c1tlXTtlKyspZi5oYXNTdGF0ZW1lbnQmJihmLnN0YXRlbWVudEVkZ2U9dGhpcy5zdGF0ZW1lbnRFZGdlKTt0aGlzLndpZHRoV2l0aENoaWxkcmVuPU1hdGgubWF4KGIsYyk7dGhpcy5vdXRwdXRDb25uZWN0aW9uJiZcbih0aGlzLnN0YXJ0WD10aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGgsdGhpcy53aWR0aCs9dGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoLHRoaXMud2lkdGhXaXRoQ2hpbGRyZW4rPXRoaXMub3V0cHV0Q29ubmVjdGlvbi53aWR0aCl9YWxpZ25Sb3dFbGVtZW50c18oKXtmb3IobGV0IGI9MCxjO2M9dGhpcy5yb3dzW2JdO2IrKylpZihjLmhhc1N0YXRlbWVudCl0aGlzLmFsaWduU3RhdGVtZW50Um93XyhjKTtlbHNle3ZhciBhPWMud2lkdGg7YT10aGlzLmdldERlc2lyZWRSb3dXaWR0aF8oYyktYTthPjAmJnRoaXMuYWRkQWxpZ25tZW50UGFkZGluZ18oYyxhKTtUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcE9yQm90dG9tUm93KGMpJiYoYy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9Yy53aWR0aCl9fWdldERlc2lyZWRSb3dXaWR0aF8oYSl7cmV0dXJuIHRoaXMud2lkdGgtdGhpcy5zdGFydFh9YWRkQWxpZ25tZW50UGFkZGluZ18oYSxcbmIpe2NvbnN0IGM9YS5nZXRGaXJzdFNwYWNlcigpLGQ9YS5nZXRMYXN0U3BhY2VyKCk7aWYoYS5oYXNFeHRlcm5hbElucHV0fHxhLmhhc1N0YXRlbWVudClhLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcys9YjtpZihhLmFsaWduPT09JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5MRUZUJiZkKWQud2lkdGgrPWI7ZWxzZSBpZihhLmFsaWduPT09JC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5DRU5UUkUmJmMmJmQpYy53aWR0aCs9Yi8yLGQud2lkdGgrPWIvMjtlbHNlIGlmKGEuYWxpZ249PT0kLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLlJJR0hUJiZjKWMud2lkdGgrPWI7ZWxzZSBpZihkKWQud2lkdGgrPWI7ZWxzZSByZXR1cm47YS53aWR0aCs9Yn1hbGlnblN0YXRlbWVudFJvd18oYSl7Y29uc3QgYj1hLmdldExhc3RJbnB1dCgpO2lmKGIpe3ZhciBjPWEud2lkdGgtYi53aWR0aCxkPXRoaXMuc3RhdGVtZW50RWRnZTtcbmM9ZC1jO2M+MCYmdGhpcy5hZGRBbGlnbm1lbnRQYWRkaW5nXyhhLGMpO2M9YS53aWR0aDtkPXRoaXMuZ2V0RGVzaXJlZFJvd1dpZHRoXyhhKTtiLndpZHRoKz1kLWM7Yi5oZWlnaHQ9TWF0aC5tYXgoYi5oZWlnaHQsYS5oZWlnaHQpO2Eud2lkdGgrPWQtYzthLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcz1NYXRoLm1heChhLndpZHRoLHRoaXMuc3RhdGVtZW50RWRnZSthLmNvbm5lY3RlZEJsb2NrV2lkdGhzKX19YWRkUm93U3BhY2luZ18oKXtjb25zdCBhPXRoaXMucm93czt0aGlzLnJvd3M9W107Zm9yKGxldCBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5yb3dzLnB1c2goYVtiXSksYiE9PWEubGVuZ3RoLTEmJnRoaXMucm93cy5wdXNoKHRoaXMubWFrZVNwYWNlclJvd18oYVtiXSxhW2IrMV0pKX1tYWtlU3BhY2VyUm93XyhhLGIpe3ZhciBjPXRoaXMuZ2V0U3BhY2VyUm93SGVpZ2h0XyhhLGIpO2NvbnN0IGQ9dGhpcy5nZXRTcGFjZXJSb3dXaWR0aF8oYSxiKTtjPW5ldyBTcGFjZXJSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3BhY2VyX3Jvdyh0aGlzLmNvbnN0YW50c18sXG5jLGQpO2EuaGFzU3RhdGVtZW50JiYoYy5mb2xsb3dzU3RhdGVtZW50PSEwKTtiLmhhc1N0YXRlbWVudCYmKGMucHJlY2VkZXNTdGF0ZW1lbnQ9ITApO3JldHVybiBjfWdldFNwYWNlclJvd1dpZHRoXyhhLGIpe3JldHVybiB0aGlzLndpZHRoLXRoaXMuc3RhcnRYfWdldFNwYWNlclJvd0hlaWdodF8oYSxiKXtyZXR1cm4gdGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HfWdldEVsZW1DZW50ZXJsaW5lXyhhLGIpe3JldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihiKT9hLnlQb3MrYi5oZWlnaHQvMjpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhhKT8oYT1hLnlQb3MrYS5oZWlnaHQtYS5kZXNjZW5kZXJIZWlnaHQsVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKT9cbmErYi5oZWlnaHQvMjphLWIuaGVpZ2h0LzIpOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpP1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGIpP2EuY2FwbGluZS1iLmhlaWdodC8yOmEuY2FwbGluZStiLmhlaWdodC8yOmEueVBvcythLmhlaWdodC8yfXJlY29yZEVsZW1Qb3NpdGlvbnNfKGEpe2xldCBiPWEueFBvcztmb3IobGV0IGM9MCxkO2Q9YS5lbGVtZW50c1tjXTtjKyspVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoZCkmJihkLmhlaWdodD1hLmhlaWdodCksZC54UG9zPWIsZC5jZW50ZXJsaW5lPXRoaXMuZ2V0RWxlbUNlbnRlcmxpbmVfKGEsZCksYis9ZC53aWR0aH1maW5hbGl6ZV8oKXtsZXQgYT0wLGI9MDtmb3IobGV0IGM9MCxkO2Q9dGhpcy5yb3dzW2NdO2MrKylkLnlQb3M9XG5iLGQueFBvcz10aGlzLnN0YXJ0WCxiKz1kLmhlaWdodCxhPU1hdGgubWF4KGEsZC53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3MpLHRoaXMucmVjb3JkRWxlbVBvc2l0aW9uc18oZCk7aWYodGhpcy5vdXRwdXRDb25uZWN0aW9uJiZ0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbil7Y29uc3QgYz10aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2MmJihhPU1hdGgubWF4KGEsYy5nZXRIZWlnaHRXaWR0aCgpLndpZHRoKSl9dGhpcy53aWR0aFdpdGhDaGlsZHJlbj1hK3RoaXMuc3RhcnRYO3RoaXMuaGVpZ2h0PWI7dGhpcy5zdGFydFk9dGhpcy50b3BSb3cuY2FwbGluZTt0aGlzLmJvdHRvbVJvdy5iYXNlbGluZT1iLXRoaXMuYm90dG9tUm93LmRlc2NlbmRlckhlaWdodH1nZXRNZWFzdXJlYWJsZUZvckNvbm5lY3Rpb24oYSl7bGV0IGI7aWYoKChiPXRoaXMub3V0cHV0Q29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmIuY29ubmVjdGlvbk1vZGVsKT09PWEpcmV0dXJuIHRoaXMub3V0cHV0Q29ubmVjdGlvbjtcbmZvcihjb25zdCBjIG9mIHRoaXMucm93cylmb3IoY29uc3QgZCBvZiBjLmVsZW1lbnRzKWlmKGQgaW5zdGFuY2VvZiBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGNvbm5lY3Rpb24mJmQuY29ubmVjdGlvbk1vZGVsPT09YSlyZXR1cm4gZDtyZXR1cm4gbnVsbH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm89e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kaW5mby5SZW5kZXJJbmZvPVJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm87dmFyIFBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0PWNsYXNze2NvbnN0cnVjdG9yKGEsYixjKXt0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRzPW5ldyBXZWFrTWFwO3RoaXMuaGlnaGxpZ2h0T2Zmc2V0cz1uZXcgV2Vha01hcDt0aGlzLmNvbnN0YW50cz1jO3RoaXMuc3R5bGU9Yjt0aGlzLnN2Z1Jvb3Q9YTt0aGlzLnN2Z1BhdGg9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUEFUSCx7XCJjbGFzc1wiOlwiYmxvY2tseVBhdGhcIn0sdGhpcy5zdmdSb290KTt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlCbG9ja1wiLCEwKX1zZXRQYXRoKGEpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9ZmxpcFJUTCgpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKC0xIDEpXCIpfWFwcGx5Q29sb3VyKGEpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcbnRoaXMuc3R5bGUuY29sb3VyVGVydGlhcnkpO3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJQcmltYXJ5KTt0aGlzLnVwZGF0ZVNoYWRvd18oYS5pc1NoYWRvdygpKTt0aGlzLnVwZGF0ZURpc2FibGVkXyghYS5pc0VuYWJsZWQoKXx8YS5nZXRJbmhlcml0ZWREaXNhYmxlZCgpKX1zZXRTdHlsZShhKXt0aGlzLnN0eWxlPWF9c2V0Q2xhc3NfKGEsYil7YSYmKGI/YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdSb290LGEpOnJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUm9vdCxhKSl9dXBkYXRlSGlnaGxpZ2h0ZWQoYSl7YT90aGlzLnNldENsYXNzXyhcImJsb2NrbHlIaWdobGlnaHRlZFwiLCEwKTp0aGlzLnNldENsYXNzXyhcImJsb2NrbHlIaWdobGlnaHRlZFwiLCExKX11cGRhdGVTaGFkb3dfKGEpe2E/KHRoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVNoYWRvd1wiLFxuITApLHRoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIm5vbmVcIiksdGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLnN0eWxlLmNvbG91clNlY29uZGFyeSkpOnRoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVNoYWRvd1wiLCExKX11cGRhdGVEaXNhYmxlZF8oYSl7dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5RGlzYWJsZWRcIixhKTt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlEaXNhYmxlZFBhdHRlcm5cIixhKX11cGRhdGVTZWxlY3RlZChhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlTZWxlY3RlZFwiLGEpfXVwZGF0ZURyYWdnaW5nRGVsZXRlKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseURyYWdnaW5nRGVsZXRlXCIsYSl9dXBkYXRlSW5zZXJ0aW9uTWFya2VyKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseUluc2VydGlvbk1hcmtlclwiLGEpfXVwZGF0ZU1vdmFibGUoYSl7dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5RHJhZ2dhYmxlXCIsYSl9dXBkYXRlUmVwbGFjZW1lbnRGYWRlKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVJlcGxhY2VhYmxlXCIsXG5hKX11cGRhdGVTaGFwZUZvcklucHV0SGlnaGxpZ2h0KGEsYil7fWFkZENvbm5lY3Rpb25IaWdobGlnaHQoYSxiLGMsZCl7Yz1gdHJhbnNsYXRlKCR7Yy54fSwgJHtjLnl9KWArKGQ/XCIgc2NhbGUoLTEgMSlcIjpcIlwiKTtpZihkPXRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodHMuZ2V0KGEpKXJldHVybiBkLnNldEF0dHJpYnV0ZShcImRcIixiKSxkLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGMpLGQ7Yj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtpZDphLmlkLFwiY2xhc3NcIjpcImJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoXCIsc3R5bGU6XCJkaXNwbGF5OiBub25lO1wiLGQ6Yix0cmFuc2Zvcm06Y30sdGhpcy5zdmdSb290KTt0aGlzLmNvbm5lY3Rpb25IaWdobGlnaHRzLnNldChhLGIpO3JldHVybiBifXJlbW92ZUNvbm5lY3Rpb25IaWdobGlnaHQoYSl7Y29uc3QgYj1cbnRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodHMuZ2V0KGEpO2ImJihyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGIpLHRoaXMuY29ubmVjdGlvbkhpZ2hsaWdodHMuZGVsZXRlKGEpKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHBhdGhfb2JqZWN0LlBhdGhPYmplY3Q9UGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcGF0aF9vYmplY3Q7dmFyIFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRyZW5kZXJlcj1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLm92ZXJyaWRlcz1udWxsO3RoaXMubmFtZT1hfWdldENsYXNzTmFtZSgpe3JldHVybiB0aGlzLm5hbWUrXCItcmVuZGVyZXJcIn1pbml0KGEsYil7dGhpcy5jb25zdGFudHNfPXRoaXMubWFrZUNvbnN0YW50c18oKTtiJiYodGhpcy5vdmVycmlkZXM9YixPYmplY3QuYXNzaWduKHRoaXMuY29uc3RhbnRzXyxiKSk7dGhpcy5jb25zdGFudHNfLnNldFRoZW1lKGEpO3RoaXMuY29uc3RhbnRzXy5pbml0KCl9Y3JlYXRlRG9tKGEsYixjKXt0aGlzLmNvbnN0YW50c18uY3JlYXRlRG9tKGEsdGhpcy5uYW1lK1wiLVwiK2IubmFtZSxcIi5cIit0aGlzLmdldENsYXNzTmFtZSgpK1wiLlwiK2IuZ2V0Q2xhc3NOYW1lKCksYyl9cmVmcmVzaERvbShhLGIsYyl7Y29uc3QgZD10aGlzLmdldENvbnN0YW50cygpO2QuZGlzcG9zZSgpO3RoaXMuY29uc3RhbnRzXz1cbnRoaXMubWFrZUNvbnN0YW50c18oKTt0aGlzLm92ZXJyaWRlcyYmT2JqZWN0LmFzc2lnbih0aGlzLmNvbnN0YW50c18sdGhpcy5vdmVycmlkZXMpO3RoaXMuY29uc3RhbnRzXy5yYW5kb21JZGVudGlmaWVyPWQucmFuZG9tSWRlbnRpZmllcjt0aGlzLmNvbnN0YW50c18uc2V0VGhlbWUoYik7dGhpcy5jb25zdGFudHNfLmluaXQoKTt0aGlzLmNyZWF0ZURvbShhLGIsYyl9ZGlzcG9zZSgpe3RoaXMuY29uc3RhbnRzXyYmdGhpcy5jb25zdGFudHNfLmRpc3Bvc2UoKX1tYWtlQ29uc3RhbnRzXygpe3JldHVybiBuZXcgQ29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzfW1ha2VSZW5kZXJJbmZvXyhhKXtyZXR1cm4gbmV3IFJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm8odGhpcyxhKX1tYWtlRHJhd2VyXyhhLGIpe3JldHVybiBuZXcgRHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRkcmF3ZXIoYSxcbmIpfW1ha2VQYXRoT2JqZWN0KGEsYil7cmV0dXJuIG5ldyBQYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRwYXRoX29iamVjdChhLGIsdGhpcy5jb25zdGFudHNfKX1nZXRDb25zdGFudHMoKXtyZXR1cm4gdGhpcy5jb25zdGFudHNffXNob3VsZEhpZ2hsaWdodENvbm5lY3Rpb24oYSl7cmV0dXJuITB9b3JwaGFuQ2FuQ29ubmVjdEF0RW5kKGEsYixjKXtyZXR1cm4hIUNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLmdldENvbm5lY3Rpb25Gb3JPcnBoYW5lZENvbm5lY3Rpb24oYSxjPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFP2Iub3V0cHV0Q29ubmVjdGlvbjpiLnByZXZpb3VzQ29ubmVjdGlvbil9cmVuZGVyKGEpe2NvbnN0IGI9dGhpcy5tYWtlUmVuZGVySW5mb18oYSk7Yi5tZWFzdXJlKCk7dGhpcy5tYWtlRHJhd2VyXyhhLGIpLmRyYXcoKX19LFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcmVuZGVyZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcmVuZGVyZXIuUmVuZGVyZXI9UmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHJlbmRlcmVyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmc9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkJvdHRvbVJvdz1Cb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuQ29ubmVjdGlvbj1Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGNvbm5lY3Rpb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXI9Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kY29uc3RhbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkRyYXdlcj1EcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGRyYXdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuRXh0ZXJuYWxWYWx1ZUlucHV0PUV4dGVybmFsVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRleHRlcm5hbF92YWx1ZV9pbnB1dDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuRmllbGQ9RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZmllbGQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkhhdD1IYXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaGF0O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkljb249SWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpY29uO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5JblJvd1NwYWNlcj1JblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5JbmxpbmVJbnB1dD1JbmxpbmVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbmxpbmVfaW5wdXQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLklucHV0Q29ubmVjdGlvbj1JbnB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5wdXRfY29ubmVjdGlvbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5JbnB1dFJvdz1JbnB1dFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbnB1dF9yb3c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLkphZ2dlZEVkZ2U9SmFnZ2VkRWRnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRqYWdnZWRfZWRnZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuTWVhc3VyYWJsZT1NZWFzdXJhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGJhc2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLk5leHRDb25uZWN0aW9uPU5leHRDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJG5leHRfY29ubmVjdGlvbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5PdXRwdXRDb25uZWN0aW9uPU91dHB1dENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkb3V0cHV0X2Nvbm5lY3Rpb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlBhdGhPYmplY3Q9UGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcGF0aF9vYmplY3Q7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlByZXZpb3VzQ29ubmVjdGlvbj1QcmV2aW91c0Nvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcHJldmlvdXNfY29ubmVjdGlvbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5SZW5kZXJJbmZvPVJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm87bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlJlbmRlcmVyPVJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRyZW5kZXJlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuUm91bmRDb3JuZXI9Um91bmRDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkcm91bmRfY29ybmVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5Sb3c9Um93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHJvdztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5TcGFjZXJSb3c9U3BhY2VyUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHNwYWNlcl9yb3c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLlNxdWFyZUNvcm5lcj1TcXVhcmVDb3JuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3F1YXJlX2Nvcm5lcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuU3RhdGVtZW50SW5wdXQ9U3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5Ub3BSb3c9VG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHRvcF9yb3c7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcuVHlwZXM9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nLmluaXQ9aW5pdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy5yZWdpc3Rlcj1yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZy51bnJlZ2lzdGVyPXVucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZzt2YXIgVGhlbWVNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWVfbWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3RvcihhLGIpe3RoaXMud29ya3NwYWNlPWE7dGhpcy50aGVtZT1iO3RoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXM9W107dGhpcy5jb21wb25lbnREQj1uZXcgTWFwfWdldFRoZW1lKCl7cmV0dXJuIHRoaXMudGhlbWV9c2V0VGhlbWUoYSl7dmFyIGI9dGhpcy50aGVtZTt0aGlzLnRoZW1lPWE7aWYoYT10aGlzLndvcmtzcGFjZS5nZXRJbmplY3Rpb25EaXYoKSliJiYoYj1iLmdldENsYXNzTmFtZSgpKSYmcmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKSwoYj10aGlzLnRoZW1lLmdldENsYXNzTmFtZSgpKSYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKTtmb3IobGV0IGM9MCxkO2Q9dGhpcy5zdWJzY3JpYmVkV29ya3NwYWNlc1tjXTtjKyspZC5yZWZyZXNoVGhlbWUoKTtmb3IoY29uc3QgW2MsXG5kXW9mIHRoaXMuY29tcG9uZW50REIpZm9yKGNvbnN0IGUgb2YgZCl7YT1lLmVsZW1lbnQ7Yj1lLnByb3BlcnR5TmFtZTtjb25zdCBmPXRoaXMudGhlbWUmJnRoaXMudGhlbWUuZ2V0Q29tcG9uZW50U3R5bGUoYyk7YS5zdHlsZS5zZXRQcm9wZXJ0eShiLGZ8fFwiXCIpfWZvcihjb25zdCBjIG9mIHRoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXMpYy5oaWRlQ2hhZmYoKX1zdWJzY3JpYmVXb3Jrc3BhY2UoYSl7dGhpcy5zdWJzY3JpYmVkV29ya3NwYWNlcy5wdXNoKGEpfXVuc3Vic2NyaWJlV29ya3NwYWNlKGEpe2lmKCFyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy5zdWJzY3JpYmVkV29ya3NwYWNlcyxhKSl0aHJvdyBFcnJvcihcIkNhbm5vdCB1bnN1YnNjcmliZSBhIHdvcmtzcGFjZSB0aGF0IGhhc24ndCBiZWVuIHN1YnNjcmliZWQuXCIpO31zdWJzY3JpYmUoYSxiLGMpe3RoaXMuY29tcG9uZW50REIuaGFzKGIpfHx0aGlzLmNvbXBvbmVudERCLnNldChiLFxuW10pO3RoaXMuY29tcG9uZW50REIuZ2V0KGIpLnB1c2goe2VsZW1lbnQ6YSxwcm9wZXJ0eU5hbWU6Y30pO2I9dGhpcy50aGVtZSYmdGhpcy50aGVtZS5nZXRDb21wb25lbnRTdHlsZShiKTthLnN0eWxlLnNldFByb3BlcnR5KGMsYnx8XCJcIil9dW5zdWJzY3JpYmUoYSl7aWYoYSlmb3IoY29uc3QgW2IsY11vZiB0aGlzLmNvbXBvbmVudERCKXtmb3IobGV0IGQ9Yy5sZW5ndGgtMTtkPj0wO2QtLSljW2RdLmVsZW1lbnQ9PT1hJiZjLnNwbGljZShkLDEpO2MubGVuZ3RofHx0aGlzLmNvbXBvbmVudERCLmRlbGV0ZShiKX19ZGlzcG9zZSgpe3RoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXMubGVuZ3RoPTA7dGhpcy5jb21wb25lbnREQi5jbGVhcigpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lX21hbmFnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lX21hbmFnZXIuVGhlbWVNYW5hZ2VyPVRoZW1lTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lX21hbmFnZXI7dmFyIENBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1cIlZBUklBQkxFX0RZTkFNSUNcIixvbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM9c3RyaW5nQnV0dG9uQ2xpY2tIYW5kbGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsb25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljPW51bWJlckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljLG9uQ3JlYXRlVmFyaWFibGVCdXR0b25DbGlja19Db2xvdXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz1jb2xvdXJCdXR0b25DbGlja0hhbmRsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyxcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYz17Q0FURUdPUllfTkFNRTpDQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWN9O21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYy5mbHlvdXRDYXRlZ29yeT1mbHlvdXRDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYy5mbHlvdXRDYXRlZ29yeUJsb2Nrcz1mbHlvdXRDYXRlZ29yeUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYy5pbnRlcm5hbEZseW91dENhdGVnb3J5PWludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYy5vbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfQ29sb3VyPWNvbG91ckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYy5vbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfTnVtYmVyPW51bWJlckJ1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljO21vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYy5vbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfU3RyaW5nPXN0cmluZ0J1dHRvbkNsaWNrSGFuZGxlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlc19keW5hbWljO3ZhciBDb25uZWN0aW9uQ2hlY2tlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fY2hlY2tlcj1jbGFzc3tjYW5Db25uZWN0KGEsYixjLGQpe3JldHVybiB0aGlzLmNhbkNvbm5lY3RXaXRoUmVhc29uKGEsYixjLGQpPT09Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uQ0FOX0NPTk5FQ1R9Y2FuQ29ubmVjdFdpdGhSZWFzb24oYSxiLGMsZCl7Y29uc3QgZT10aGlzLmRvU2FmZXR5Q2hlY2tzKGEsYik7cmV0dXJuIGUhPT1Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5DQU5fQ09OTkVDVD9lOnRoaXMuZG9UeXBlQ2hlY2tzKGEsYik/YyYmIXRoaXMuZG9EcmFnQ2hlY2tzKGEsYixkfHwwKT9Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fRFJBR19DSEVDS1NfRkFJTEVEOkNvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLkNBTl9DT05ORUNUOlxuQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0NIRUNLU19GQUlMRUR9Z2V0RXJyb3JNZXNzYWdlKGEsYixjKXtzd2l0Y2goYSl7Y2FzZSBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fU0VMRl9DT05ORUNUSU9OOnJldHVyblwiQXR0ZW1wdGVkIHRvIGNvbm5lY3QgYSBibG9jayB0byBpdHNlbGYuXCI7Y2FzZSBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fRElGRkVSRU5UX1dPUktTUEFDRVM6cmV0dXJuXCJCbG9ja3Mgbm90IG9uIHNhbWUgd29ya3NwYWNlLlwiO2Nhc2UgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1dST05HX1RZUEU6cmV0dXJuXCJBdHRlbXB0IHRvIGNvbm5lY3QgaW5jb21wYXRpYmxlIHR5cGVzLlwiO2Nhc2UgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1RBUkdFVF9OVUxMOnJldHVyblwiVGFyZ2V0IGNvbm5lY3Rpb24gaXMgbnVsbC5cIjtcbmNhc2UgQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0NIRUNLU19GQUlMRUQ6cmV0dXJuXCJDb25uZWN0aW9uIGNoZWNrcyBmYWlsZWQuIFwiKyhiK1wiIGV4cGVjdGVkIFwiK2IuZ2V0Q2hlY2soKStcIiwgZm91bmQgXCIrYy5nZXRDaGVjaygpKTtjYXNlIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9TSEFET1dfUEFSRU5UOnJldHVyblwiQ29ubmVjdGluZyBub24tc2hhZG93IHRvIHNoYWRvdyBibG9jay5cIjtjYXNlIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9EUkFHX0NIRUNLU19GQUlMRUQ6cmV0dXJuXCJEcmFnIGNoZWNrcyBmYWlsZWQuXCI7Y2FzZSBDb25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fUFJFVklPVVNfQU5EX09VVFBVVDpyZXR1cm5cIkJsb2NrIHdvdWxkIGhhdmUgYW4gb3V0cHV0IGFuZCBhIHByZXZpb3VzIGNvbm5lY3Rpb24uXCI7XG5kZWZhdWx0OnJldHVyblwiVW5rbm93biBjb25uZWN0aW9uIGZhaWx1cmU6IHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiFcIn19ZG9TYWZldHlDaGVja3MoYSxiKXtpZighYXx8IWIpcmV0dXJuIENvbm5lY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uLlJFQVNPTl9UQVJHRVRfTlVMTDtsZXQgYyxkLGU7YS5pc1N1cGVyaW9yKCk/KGM9YS5nZXRTb3VyY2VCbG9jaygpLGQ9Yi5nZXRTb3VyY2VCbG9jaygpLGU9Yik6KGQ9YS5nZXRTb3VyY2VCbG9jaygpLGM9Yi5nZXRTb3VyY2VCbG9jaygpLGU9YSxhPWIpO3JldHVybiBjPT09ZD9Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fU0VMRl9DT05ORUNUSU9OOmUudHlwZSE9PU9QUE9TSVRFX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNbYS50eXBlXT9Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fV1JPTkdfVFlQRTpcbmMud29ya3NwYWNlIT09ZC53b3Jrc3BhY2U/Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX0RJRkZFUkVOVF9XT1JLU1BBQ0VTOmMuaXNTaGFkb3coKSYmIWQuaXNTaGFkb3coKT9Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5SRUFTT05fU0hBRE9XX1BBUkVOVDplLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUUmJmQucHJldmlvdXNDb25uZWN0aW9uJiZkLnByZXZpb3VzQ29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpfHxlLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5QUkVWSU9VU19TVEFURU1FTlQmJmQub3V0cHV0Q29ubmVjdGlvbiYmZC5vdXRwdXRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCk/Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb24uUkVBU09OX1BSRVZJT1VTX0FORF9PVVRQVVQ6XG5Db25uZWN0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbi5DQU5fQ09OTkVDVH1kb1R5cGVDaGVja3MoYSxiKXthPWEuZ2V0Q2hlY2soKTtiPWIuZ2V0Q2hlY2soKTtpZighYXx8IWIpcmV0dXJuITA7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYi5pbmNsdWRlcyhhW2NdKSlyZXR1cm4hMDtyZXR1cm4hMX1kb0RyYWdDaGVja3MoYSxiLGMpe2lmKGEuZGlzdGFuY2VGcm9tKGIpPmN8fGIuZ2V0U291cmNlQmxvY2soKS5pc0luc2VydGlvbk1hcmtlcigpKXJldHVybiExO3N3aXRjaChiLnR5cGUpe2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UOnJldHVybiB0aGlzLmNhbkNvbm5lY3RUb1ByZXZpb3VzXyhhLGIpO2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFOmlmKGIuaXNDb25uZWN0ZWQoKSYmXG4hYi50YXJnZXRCbG9jaygpLmlzSW5zZXJ0aW9uTWFya2VyKCl8fGEuaXNDb25uZWN0ZWQoKSlyZXR1cm4hMTticmVhaztjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFOmlmKGIuaXNDb25uZWN0ZWQoKSYmIWIudGFyZ2V0QmxvY2soKS5pc01vdmFibGUoKSYmIWIudGFyZ2V0QmxvY2soKS5pc1NoYWRvdygpKXJldHVybiExO2JyZWFrO2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQ6aWYoYi5pc0Nvbm5lY3RlZCgpJiYhYS5nZXRTb3VyY2VCbG9jaygpLm5leHRDb25uZWN0aW9uJiYhYi50YXJnZXRCbG9jaygpLmlzU2hhZG93KCkmJmIudGFyZ2V0QmxvY2soKS5uZXh0Q29ubmVjdGlvbnx8Yi50YXJnZXRCbG9jaygpJiYhYi50YXJnZXRCbG9jaygpLmlzTW92YWJsZSgpJiYhYi50YXJnZXRCbG9jaygpLmlzU2hhZG93KCkpcmV0dXJuITE7XG5icmVhaztkZWZhdWx0OnJldHVybiExfXJldHVybiBkcmFnZ2luZ0Nvbm5lY3Rpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLmluY2x1ZGVzKGIpPyExOiEwfWNhbkNvbm5lY3RUb1ByZXZpb3VzXyhhLGIpe2lmKGEudGFyZ2V0Q29ubmVjdGlvbnx8ZHJhZ2dpbmdDb25uZWN0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbi5pbmNsdWRlcyhiKSlyZXR1cm4hMTtpZighYi50YXJnZXRDb25uZWN0aW9uKXJldHVybiEwO2E9Yi50YXJnZXRCbG9jaygpO3JldHVybiBhLmlzSW5zZXJ0aW9uTWFya2VyKCk/IWEuZ2V0UHJldmlvdXNCbG9jaygpOiExfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQ09OTkVDVElPTl9DSEVDS0VSLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxDb25uZWN0aW9uQ2hlY2tlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fY2hlY2tlcik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fY2hlY2tlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9jaGVja2VyLkNvbm5lY3Rpb25DaGVja2VyPUNvbm5lY3Rpb25DaGVja2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9jaGVja2VyO3ZhciBXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2U9Y2xhc3N7Z2V0IGlzRmx5b3V0KCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxJc0ZseW91dH1nZXQgaXNNdXRhdG9yKCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxJc011dGF0b3J9Y29uc3RydWN0b3IoYSl7dGhpcy5pc0NsZWFyaW5nPXRoaXMuaW50ZXJuYWxJc011dGF0b3I9dGhpcy5pbnRlcm5hbElzRmx5b3V0PXRoaXMucmVuZGVyZWQ9ITE7dGhpcy5NQVhfVU5ETz0xMDI0O3RoaXMuY29ubmVjdGlvbkRCTGlzdD1bXTt0aGlzLnRvcEJsb2Nrcz1bXTt0aGlzLnRvcENvbW1lbnRzPVtdO3RoaXMuY29tbWVudERCPW5ldyBNYXA7dGhpcy5saXN0ZW5lcnM9W107dGhpcy51bmRvU3RhY2tfPVtdO3RoaXMucmVkb1N0YWNrXz1bXTt0aGlzLmJsb2NrREI9bmV3IE1hcDt0aGlzLnR5cGVkQmxvY2tzREI9bmV3IE1hcDt0aGlzLnByb2NlZHVyZU1hcD1uZXcgT2JzZXJ2YWJsZVByb2NlZHVyZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9ic2VydmFibGVfcHJvY2VkdXJlX21hcDtcbnRoaXMucmVhZE9ubHk9ITE7dGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcD1udWxsO3RoaXMuaWQ9Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTtyZWdpc3RlcldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzKTt0aGlzLm9wdGlvbnM9YXx8bmV3IE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRvcHRpb25zKHt9KTt0aGlzLlJUTD0hIXRoaXMub3B0aW9ucy5SVEw7dGhpcy5ob3Jpem9udGFsTGF5b3V0PSEhdGhpcy5vcHRpb25zLmhvcml6b250YWxMYXlvdXQ7dGhpcy50b29sYm94UG9zaXRpb249dGhpcy5vcHRpb25zLnRvb2xib3hQb3NpdGlvbjt0aGlzLmNvbm5lY3Rpb25DaGVja2VyPW5ldyAoZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5DT05ORUNUSU9OX0NIRUNLRVIsdGhpcy5vcHRpb25zLFxuITApKSh0aGlzKTt0aGlzLnZhcmlhYmxlTWFwPW5ldyAodGhpcy5nZXRWYXJpYWJsZU1hcENsYXNzKCkpKHRoaXMpO3RoaXMuc2V0SXNSZWFkT25seSh0aGlzLm9wdGlvbnMucmVhZE9ubHkpfWRpc3Bvc2UoKXt0aGlzLmxpc3RlbmVycy5sZW5ndGg9MDt0aGlzLmNsZWFyKCk7dW5yZWdpc3RlcldvcmtwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKHRoaXMpfXNvcnRPYmplY3RzKGEsYil7Y29uc3QgYz1kPT4oe2dldEJvdW5kaW5nUmVjdGFuZ2xlOigpPT57Y29uc3QgZT1kLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGUueSxlLnksZS54LGUueCl9LG1vdmVCeTooKT0+e319KTtyZXR1cm4gdGhpcy5zb3J0QnlPcmlnaW4oYyhhKSxjKGIpKX1zb3J0QnlPcmlnaW4oYSxiKXtjb25zdCBjPU1hdGguc2luKHRvUmFkaWFucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJG1hdGgoV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlLlNDQU5fQU5HTEUpKSpcbih0aGlzLlJUTD8tMToxKTthPWEuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5nZXRPcmlnaW4oKTtiPWIuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5nZXRPcmlnaW4oKTtyZXR1cm4gYS55K2MqYS54LShiLnkrYypiLngpfWFkZFRvcEJsb2NrKGEpe3RoaXMudG9wQmxvY2tzLnB1c2goYSl9cmVtb3ZlVG9wQmxvY2soYSl7aWYoIXJlbW92ZUVsZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcnJheSh0aGlzLnRvcEJsb2NrcyxhKSl0aHJvdyBFcnJvcihcIkJsb2NrIG5vdCBwcmVzZW50IGluIHdvcmtzcGFjZSdzIGxpc3Qgb2YgdG9wLW1vc3QgYmxvY2tzLlwiKTt9Z2V0VG9wQmxvY2tzKGE9ITEpe2NvbnN0IGI9W10uY29uY2F0KHRoaXMudG9wQmxvY2tzKTthJiZiLmxlbmd0aD4xJiZiLnNvcnQodGhpcy5zb3J0T2JqZWN0cy5iaW5kKHRoaXMpKTtyZXR1cm4gYn1hZGRUeXBlZEJsb2NrKGEpe3RoaXMudHlwZWRCbG9ja3NEQi5oYXMoYS50eXBlKXx8dGhpcy50eXBlZEJsb2Nrc0RCLnNldChhLnR5cGUsXG5bXSk7dGhpcy50eXBlZEJsb2Nrc0RCLmdldChhLnR5cGUpLnB1c2goYSl9cmVtb3ZlVHlwZWRCbG9jayhhKXtyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy50eXBlZEJsb2Nrc0RCLmdldChhLnR5cGUpLGEpO3RoaXMudHlwZWRCbG9ja3NEQi5nZXQoYS50eXBlKS5sZW5ndGh8fHRoaXMudHlwZWRCbG9ja3NEQi5kZWxldGUoYS50eXBlKX1nZXRCbG9ja3NCeVR5cGUoYSxiPSExKXtpZighdGhpcy50eXBlZEJsb2Nrc0RCLmhhcyhhKSlyZXR1cm5bXTthPXRoaXMudHlwZWRCbG9ja3NEQi5nZXQoYSkuc2xpY2UoMCk7YiYmYSYmYS5sZW5ndGg+MSYmYS5zb3J0KHRoaXMuc29ydE9iamVjdHMuYmluZCh0aGlzKSk7cmV0dXJuIGEuZmlsdGVyKGM9PiFjLmlzSW5zZXJ0aW9uTWFya2VyKCkpfWFkZFRvcENvbW1lbnQoYSl7dGhpcy50b3BDb21tZW50cy5wdXNoKGEpO3RoaXMuY29tbWVudERCLmhhcyhhLmlkKSYmY29uc29sZS53YXJuKCdPdmVycmlkaW5nIGFuIGV4aXN0aW5nIGNvbW1lbnQgb24gdGhpcyB3b3Jrc3BhY2UsIHdpdGggaWQgXCInK1xuYS5pZCsnXCInKTt0aGlzLmNvbW1lbnREQi5zZXQoYS5pZCxhKX1yZW1vdmVUb3BDb21tZW50KGEpe2lmKCFyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy50b3BDb21tZW50cyxhKSl0aHJvdyBFcnJvcihcIkNvbW1lbnQgbm90IHByZXNlbnQgaW4gd29ya3NwYWNlJ3MgbGlzdCBvZiB0b3AtbW9zdCBjb21tZW50cy5cIik7dGhpcy5jb21tZW50REIuZGVsZXRlKGEuaWQpfWdldFRvcENvbW1lbnRzKGE9ITEpe2NvbnN0IGI9W10uY29uY2F0KHRoaXMudG9wQ29tbWVudHMpO2EmJmIubGVuZ3RoPjEmJmIuc29ydCh0aGlzLnNvcnRPYmplY3RzLmJpbmQodGhpcykpO3JldHVybiBifWdldEFsbEJsb2NrcyhhPSExKXtpZihhKXt2YXIgYj10aGlzLmdldFRvcEJsb2NrcyghMCk7YT1bXTtmb3IobGV0IGM9MDtjPGIubGVuZ3RoO2MrKylhLnB1c2goLi4uYltjXS5nZXREZXNjZW5kYW50cyghMCkpfWVsc2UgZm9yKGE9dGhpcy5nZXRUb3BCbG9ja3MoITEpLFxuYj0wO2I8YS5sZW5ndGg7YisrKWEucHVzaCguLi5hW2JdLmdldENoaWxkcmVuKCExKSk7cmV0dXJuIGEuZmlsdGVyKGM9PiFjLmlzSW5zZXJ0aW9uTWFya2VyKCkpfWNsZWFyKCl7dGhpcy5pc0NsZWFyaW5nPSEwO3RyeXtjb25zdCBhPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTtmb3IoYXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dGhpcy50b3BCbG9ja3MubGVuZ3RoOyl0aGlzLnRvcEJsb2Nrc1swXS5kaXNwb3NlKCExKTtmb3IoO3RoaXMudG9wQ29tbWVudHMubGVuZ3RoOyl0aGlzLnRvcENvbW1lbnRzW3RoaXMudG9wQ29tbWVudHMubGVuZ3RoLTFdLmRpc3Bvc2UoKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpO3RoaXMuaXNGbHlvdXR8fHRoaXMudmFyaWFibGVNYXAuY2xlYXIoKTt0aGlzLnBvdGVudGlhbFZhcmlhYmxlTWFwJiZ0aGlzLnBvdGVudGlhbFZhcmlhYmxlTWFwLmNsZWFyKCl9ZmluYWxseXt0aGlzLmlzQ2xlYXJpbmc9XG4hMX19cmVuYW1lVmFyaWFibGVCeUlkKGEsYil7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UucmVuYW1lVmFyaWFibGVCeUlkXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5yZW5hbWVWYXJpYWJsZVwiKTsoYT10aGlzLnZhcmlhYmxlTWFwLmdldFZhcmlhYmxlQnlJZChhKSkmJnRoaXMudmFyaWFibGVNYXAucmVuYW1lVmFyaWFibGUoYSxiKX1jcmVhdGVWYXJpYWJsZShhLGIsYyl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UuY3JlYXRlVmFyaWFibGVcIixcInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRWYXJpYWJsZU1hcCgpLmNyZWF0ZVZhcmlhYmxlXCIpO3JldHVybiB0aGlzLnZhcmlhYmxlTWFwLmNyZWF0ZVZhcmlhYmxlKGEsYiE9bnVsbD9iOnZvaWQgMCxjIT1udWxsP2M6dm9pZCAwKX1nZXRWYXJpYWJsZVVzZXNCeUlkKGEpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlVXNlc0J5SWRcIixcblwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuVmFyaWFibGVzLmdldFZhcmlhYmxlVXNlc0J5SWRcIik7cmV0dXJuIGdldFZhcmlhYmxlVXNlc0J5SWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXModGhpcyxhKX1kZWxldGVWYXJpYWJsZUJ5SWQoYSl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UuZGVsZXRlVmFyaWFibGVCeUlkXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5kZWxldGVWYXJpYWJsZVwiKTtjb25zdCBiPXRoaXMudmFyaWFibGVNYXAuZ2V0VmFyaWFibGVCeUlkKGEpO2I/JC5kZWxldGVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLGIpOmNvbnNvbGUud2FybihgQ2FuJ3QgZGVsZXRlIG5vbi1leGlzdGVudCB2YXJpYWJsZTogJHthfWApfWdldFZhcmlhYmxlKGEsYil7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVcIixcblwidjEyXCIsXCJ2MTNcIixcIkJsb2NrbHkuV29ya3NwYWNlLmdldFZhcmlhYmxlTWFwKCkuZ2V0VmFyaWFibGVcIik7cmV0dXJuIHRoaXMudmFyaWFibGVNYXAuZ2V0VmFyaWFibGUoYSxiKX1nZXRWYXJpYWJsZUJ5SWQoYSl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVCeUlkXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5nZXRWYXJpYWJsZUJ5SWRcIik7cmV0dXJuIHRoaXMudmFyaWFibGVNYXAuZ2V0VmFyaWFibGVCeUlkKGEpfWdldFZhcmlhYmxlc09mVHlwZShhKXt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRWYXJpYWJsZXNPZlR5cGVcIixcInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRWYXJpYWJsZU1hcCgpLmdldFZhcmlhYmxlc09mVHlwZVwiKTtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcC5nZXRWYXJpYWJsZXNPZlR5cGUoYSE9XG5udWxsP2E6XCJcIil9Z2V0QWxsVmFyaWFibGVzKCl7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0QWxsVmFyaWFibGVzXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5Xb3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXNcIik7cmV0dXJuIHRoaXMudmFyaWFibGVNYXAuZ2V0QWxsVmFyaWFibGVzKCl9Z2V0QWxsVmFyaWFibGVOYW1lcygpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIkJsb2NrbHkuV29ya3NwYWNlLmdldEFsbFZhcmlhYmxlTmFtZXNcIixcInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LldvcmtzcGFjZS5nZXRWYXJpYWJsZU1hcCgpLmdldEFsbFZhcmlhYmxlc1wiKTtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcC5nZXRBbGxWYXJpYWJsZXMoKS5tYXAoYT0+YS5nZXROYW1lKCkpfWdldFdpZHRoKCl7cmV0dXJuIDB9bmV3QmxvY2soYSxiKXt0aHJvdyBFcnJvcihcIlRoZSBpbXBsZW1lbnRhdGlvbiBvZiBuZXdCbG9jayBzaG91bGQgYmUgbW9ua2V5LXBhdGNoZWQgaW4gYnkgYmxvY2tseS50c1wiKTtcbn1uZXdDb21tZW50KGEpe3Rocm93IEVycm9yKFwiVGhlIGltcGxlbWVudGF0aW9uIG9mIG5ld0NvbW1lbnQgc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7fXJlbWFpbmluZ0NhcGFjaXR5KCl7cmV0dXJuIGlzTmFOKHRoaXMub3B0aW9ucy5tYXhCbG9ja3MpP0luZmluaXR5OnRoaXMub3B0aW9ucy5tYXhCbG9ja3MtdGhpcy5nZXRBbGxCbG9ja3MoITEpLmxlbmd0aH1yZW1haW5pbmdDYXBhY2l0eU9mVHlwZShhKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heEluc3RhbmNlcz8odGhpcy5vcHRpb25zLm1heEluc3RhbmNlc1thXSE9PXZvaWQgMD90aGlzLm9wdGlvbnMubWF4SW5zdGFuY2VzW2FdOkluZmluaXR5KS10aGlzLmdldEJsb2Nrc0J5VHlwZShhLCExKS5sZW5ndGg6SW5maW5pdHl9aXNDYXBhY2l0eUF2YWlsYWJsZShhKXtpZighdGhpcy5oYXNCbG9ja0xpbWl0cygpKXJldHVybiEwO2xldCBiPTA7Zm9yKGNvbnN0IGMgaW4gYSl7aWYoYVtjXT50aGlzLnJlbWFpbmluZ0NhcGFjaXR5T2ZUeXBlKGMpKXJldHVybiExO1xuYis9YVtjXX1yZXR1cm4gYj50aGlzLnJlbWFpbmluZ0NhcGFjaXR5KCk/ITE6ITB9aGFzQmxvY2tMaW1pdHMoKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heEJsb2NrcyE9PUluZmluaXR5fHwhIXRoaXMub3B0aW9ucy5tYXhJbnN0YW5jZXN9Z2V0VW5kb1N0YWNrKCl7cmV0dXJuIHRoaXMudW5kb1N0YWNrX31nZXRSZWRvU3RhY2soKXtyZXR1cm4gdGhpcy5yZWRvU3RhY2tffXVuZG8oYSl7dmFyIGI9YT90aGlzLnJlZG9TdGFja186dGhpcy51bmRvU3RhY2tfLGM9YT90aGlzLnVuZG9TdGFja186dGhpcy5yZWRvU3RhY2tfO2NvbnN0IGQ9Yi5wb3AoKTtpZihkKXtmb3IodmFyIGU9W2RdO2IubGVuZ3RoJiZkLmdyb3VwJiZkLmdyb3VwPT09YltiLmxlbmd0aC0xXS5ncm91cDspe2NvbnN0IGY9Yi5wb3AoKTtmJiZlLnB1c2goZil9Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKyljLnB1c2goZVtiXSk7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKTtcbnRyeXtmb3IoYz0wO2M8ZS5sZW5ndGg7YysrKWVbY10ucnVuKGEpfWZpbmFsbHl7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKX19fWNsZWFyVW5kbygpe3RoaXMudW5kb1N0YWNrXy5sZW5ndGg9MDt0aGlzLnJlZG9TdGFja18ubGVuZ3RoPTA7Y2xlYXJQZW5kaW5nVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfWFkZENoYW5nZUxpc3RlbmVyKGEpe3RoaXMubGlzdGVuZXJzLnB1c2goYSk7cmV0dXJuIGF9cmVtb3ZlQ2hhbmdlTGlzdGVuZXIoYSl7cmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMubGlzdGVuZXJzLGEpfWZpcmVDaGFuZ2VMaXN0ZW5lcihhKXtpZihhLnJlY29yZFVuZG8pZm9yKHRoaXMudW5kb1N0YWNrXy5wdXNoKGEpLHRoaXMucmVkb1N0YWNrXy5sZW5ndGg9MDt0aGlzLnVuZG9TdGFja18ubGVuZ3RoPnRoaXMuTUFYX1VORE8mJnRoaXMuTUFYX1VORE8+PVxuMDspdGhpcy51bmRvU3RhY2tfLnNoaWZ0KCk7Zm9yKGxldCBiPTA7Yjx0aGlzLmxpc3RlbmVycy5sZW5ndGg7YisrKSgwLHRoaXMubGlzdGVuZXJzW2JdKShhKX1nZXRCbG9ja0J5SWQoYSl7cmV0dXJuIHRoaXMuYmxvY2tEQi5nZXQoYSl8fG51bGx9c2V0QmxvY2tCeUlkKGEsYil7dGhpcy5ibG9ja0RCLnNldChhLGIpfXJlbW92ZUJsb2NrQnlJZChhKXt0aGlzLmJsb2NrREIuZGVsZXRlKGEpfWdldENvbW1lbnRCeUlkKGEpe2xldCBiO3JldHVybihiPXRoaXMuY29tbWVudERCLmdldChhKSkhPW51bGw/YjpudWxsfWFsbElucHV0c0ZpbGxlZChhKXtjb25zdCBiPXRoaXMuZ2V0VG9wQmxvY2tzKCExKTtmb3IobGV0IGM9MDtjPGIubGVuZ3RoO2MrKylpZighYltjXS5hbGxJbnB1dHNGaWxsZWQoYSkpcmV0dXJuITE7cmV0dXJuITB9Z2V0UG90ZW50aWFsVmFyaWFibGVNYXAoKXtyZXR1cm4gdGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcH1jcmVhdGVQb3RlbnRpYWxWYXJpYWJsZU1hcCgpe3RoaXMucG90ZW50aWFsVmFyaWFibGVNYXA9XG5uZXcgKHRoaXMuZ2V0VmFyaWFibGVNYXBDbGFzcygpKSh0aGlzLCEwKX1nZXRWYXJpYWJsZU1hcCgpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwfXNldFZhcmlhYmxlTWFwKGEpe3RoaXMudmFyaWFibGVNYXA9YX1nZXRQcm9jZWR1cmVNYXAoKXtyZXR1cm4gdGhpcy5wcm9jZWR1cmVNYXB9Z2V0Um9vdFdvcmtzcGFjZSgpe2xldCBhPW51bGw7Y29uc3QgYj10aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlO3RoaXMuaXNGbHlvdXQ/YiYmYi5vcHRpb25zJiYoYT1iLm9wdGlvbnMucGFyZW50V29ya3NwYWNlKTpiJiYoYT1iKTtyZXR1cm4gYX1zdGF0aWMgZ2V0QnlJZChhKXtyZXR1cm4gZ2V0V29ya3NwYWNlQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihhKX1zdGF0aWMgZ2V0QWxsKCl7cmV0dXJuIGdldEFsbFdvcmtzcGFjZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oKX1nZXRWYXJpYWJsZU1hcENsYXNzKCl7Y29uc3QgYT1nZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlZBUklBQkxFX01BUCxcbnRoaXMub3B0aW9ucywhMCk7aWYoIWEpdGhyb3cgRXJyb3IoXCJObyB2YXJpYWJsZSBtYXAgaXMgcmVnaXN0ZXJlZC5cIik7cmV0dXJuIGF9aXNSZWFkT25seSgpe3JldHVybiB0aGlzLnJlYWRPbmx5fXNldElzUmVhZE9ubHkoYSl7dGhpcy5yZWFkT25seT1hO3RoaXMub3B0aW9ucy5yZWFkT25seT1hfX07V29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlLlNDQU5fQU5HTEU9Mzt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlLldvcmtzcGFjZT1Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2U7dmFyIFNPVU5EX0xJTUlUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2F1ZGlvPTEwMCxXb3Jrc3BhY2VBdWRpbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpbz1jbGFzc3tjb25zdHJ1Y3RvcihhKXt0aGlzLnBhcmVudFdvcmtzcGFjZT1hO3RoaXMuc291bmRzPW5ldyBNYXA7dGhpcy5sYXN0U291bmQ9bnVsbDt0aGlzLm11dGVkPSExfWRpc3Bvc2UoKXt0aGlzLnNvdW5kcy5jbGVhcigpfWxvYWQoYSxiKXtpZihhLmxlbmd0aCl7dHJ5e3ZhciBjPW5ldyBnbG9iYWxUaGlzLkF1ZGlvfWNhdGNoKGUpe3JldHVybn1mb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl7Y29uc3QgZj1hW2VdLGc9Zi5tYXRjaCgvXFwuKFxcdyspJC8pO2lmKGcmJmMuY2FuUGxheVR5cGUoXCJhdWRpby9cIitnWzFdKSl7dmFyIGQ9bmV3IGdsb2JhbFRoaXMuQXVkaW8oZik7YnJlYWt9fWQmJnRoaXMuc291bmRzLnNldChiLGQpfX1wcmVsb2FkKCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy5zb3VuZHMudmFsdWVzKCkpe2Eudm9sdW1lPVxuLjAxO2NvbnN0IGI9YS5wbGF5KCk7YiE9PXZvaWQgMD9iLnRoZW4oYS5wYXVzZSkuY2F0Y2goZnVuY3Rpb24oKXt9KTphLnBhdXNlKCk7aWYoSVBBRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHVzZXJhZ2VudHx8SVBIT05FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50KWJyZWFrfX1wbGF5KGEsYil7aWYoIXRoaXMubXV0ZWQpe3ZhciBjPXRoaXMuc291bmRzLmdldChhKTtjPyhhPW5ldyBEYXRlLHRoaXMubGFzdFNvdW5kIT09bnVsbCYmYS5nZXRUaW1lKCktdGhpcy5sYXN0U291bmQuZ2V0VGltZSgpPFNPVU5EX0xJTUlUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2F1ZGlvfHwodGhpcy5sYXN0U291bmQ9YSxjPUlQQUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnR8fEFORFJPSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQ/YzpjLmNsb25lTm9kZSgpLGMudm9sdW1lPWI9PT12b2lkIDA/XG4xOmIsYy5wbGF5KCkpKTp0aGlzLnBhcmVudFdvcmtzcGFjZSYmdGhpcy5wYXJlbnRXb3Jrc3BhY2UuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShhLGIpfX1zZXRNdXRlZChhKXt0aGlzLm11dGVkPWF9Z2V0TXV0ZWQoKXtyZXR1cm4gdGhpcy5tdXRlZH19LG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2VfYXVkaW89e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpby5Xb3Jrc3BhY2VBdWRpbz1Xb3Jrc3BhY2VBdWRpbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpbzt2YXIgWk9PTV9UT19GSVRfTUFSR0lOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zz0yMCxXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnPWNsYXNzIGV4dGVuZHMgV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMucmVzaXplSGFuZGxlcldyYXBwZXI9bnVsbDt0aGlzLnJlc2l6ZXNFbmFibGVkPXRoaXMudmlzaWJsZT10aGlzLnJlbmRlcmVkPSEwO3RoaXMuc3RhcnRTY3JvbGxZPXRoaXMuc3RhcnRTY3JvbGxYPXRoaXMuc2Nyb2xsWT10aGlzLnNjcm9sbFg9MDt0aGlzLm9sZFNjYWxlPXRoaXMuc2NhbGU9MTt0aGlzLm9sZExlZnQ9dGhpcy5vbGRUb3A9MDt0aGlzLmludmVyc2VTY3JlZW5DVE09dGhpcy50YXJnZXRXb3Jrc3BhY2U9dGhpcy5kdW1teVdoZWVsTGlzdGVuZXI9dGhpcy5jb25maWd1cmVDb250ZXh0TWVudT10aGlzLmxhc3RSZWNvcmRlZFBhZ2VTY3JvbGw9XG50aGlzLmluamVjdGlvbkRpdj10aGlzLmN1cnJlbnRHZXN0dXJlXz10aGlzLnRvb2xib3g9dGhpcy5mbHlvdXQ9dGhpcy5zY3JvbGxiYXI9dGhpcy50cmFzaGNhbj1udWxsO3RoaXMuaW52ZXJzZVNjcmVlbkNUTURpcnR5PSEwO3RoaXMuaGlnaGxpZ2h0ZWRCbG9ja3M9W107dGhpcy50b29sYm94Q2F0ZWdvcnlDYWxsYmFja3M9bmV3IE1hcDt0aGlzLmZseW91dEJ1dHRvbkNhbGxiYWNrcz1uZXcgTWFwO3RoaXMuY2FjaGVkUGFyZW50U3ZnPW51bGw7dGhpcy5rZXlib2FyZE1vdmVJblByb2dyZXNzPXRoaXMua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZT0hMTt0aGlzLnRvcEJvdW5kZWRFbGVtZW50cz1bXTt0aGlzLmRyYWdUYXJnZXRBcmVhcz1bXTt0aGlzLnpvb21Db250cm9sc189dGhpcy5sYXllck1hbmFnZXI9bnVsbDt0aGlzLm5hdmlnYXRvcj1uZXcgTmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmF2aWdhdG9yO3RoaXMubWV0cmljc01hbmFnZXI9bmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5Lk1FVFJJQ1NfTUFOQUdFUixcbmEsITApKSh0aGlzKTt0aGlzLmdldE1ldHJpY3M9YS5nZXRNZXRyaWNzfHx0aGlzLm1ldHJpY3NNYW5hZ2VyLmdldE1ldHJpY3MuYmluZCh0aGlzLm1ldHJpY3NNYW5hZ2VyKTt0aGlzLnNldE1ldHJpY3M9YS5zZXRNZXRyaWNzfHxXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnLnNldFRvcExldmVsV29ya3NwYWNlTWV0cmljczt0aGlzLmNvbXBvbmVudE1hbmFnZXI9bmV3IENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlcjt0aGlzLmNvbm5lY3Rpb25EQkxpc3Q9Q29ubmVjdGlvbkRCJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9kYi5pbml0KHRoaXMuY29ubmVjdGlvbkNoZWNrZXIpO3RoaXMuYXVkaW9NYW5hZ2VyPW5ldyBXb3Jrc3BhY2VBdWRpbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9hdWRpbyhhLnBhcmVudFdvcmtzcGFjZSk7dGhpcy5ncmlkPXRoaXMub3B0aW9ucy5ncmlkUGF0dGVybj9cbm5ldyBHcmlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ3JpZCh0aGlzLm9wdGlvbnMuZ3JpZFBhdHRlcm4sYS5ncmlkT3B0aW9ucyk6bnVsbDt0aGlzLm1hcmtlck1hbmFnZXI9bmV3IE1hcmtlck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtYXJrZXJfbWFuYWdlcih0aGlzKTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzJiZpbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzJiZ0aGlzLnJlZ2lzdGVyVG9vbGJveENhdGVnb3J5Q2FsbGJhY2soQ0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyxpbnRlcm5hbEZseW91dENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMmJmludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyYmdGhpcy5yZWdpc3RlclRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKENBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyxcbmludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYyk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMmJmludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzJiYodGhpcy5yZWdpc3RlclRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKENBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzLGludGVybmFsRmx5b3V0Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKSx0aGlzLmFkZENoYW5nZUxpc3RlbmVyKG11dGF0b3JPcGVuTGlzdGVuZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKSk7dGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLnZhcmlhYmxlQ2hhbmdlQ2FsbGJhY2suYmluZCh0aGlzKSk7dGhpcy50aGVtZU1hbmFnZXJfPXRoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2U/dGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZS5nZXRUaGVtZU1hbmFnZXIoKTpcbm5ldyBUaGVtZU1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZV9tYW5hZ2VyKHRoaXMsdGhpcy5vcHRpb25zLnRoZW1lfHxDbGFzc2ljJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYyk7dGhpcy50aGVtZU1hbmFnZXJfLnN1YnNjcmliZVdvcmtzcGFjZSh0aGlzKTtsZXQgYjt0aGlzLnJlbmRlcmVyPWluaXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZyh0aGlzLm9wdGlvbnMucmVuZGVyZXJ8fFwiZ2VyYXNcIix0aGlzLmdldFRoZW1lKCksKGI9dGhpcy5vcHRpb25zLnJlbmRlcmVyT3ZlcnJpZGVzKSE9bnVsbD9iOnZvaWQgMCk7dGhpcy5jYWNoZWRQYXJlbnRTdmdTaXplPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZSgwLDApfWdldE1hcmtlck1hbmFnZXIoKXtyZXR1cm4gdGhpcy5tYXJrZXJNYW5hZ2VyfWdldE1ldHJpY3NNYW5hZ2VyKCl7cmV0dXJuIHRoaXMubWV0cmljc01hbmFnZXJ9c2V0TWV0cmljc01hbmFnZXIoYSl7dGhpcy5tZXRyaWNzTWFuYWdlcj1cbmE7dGhpcy5nZXRNZXRyaWNzPXRoaXMubWV0cmljc01hbmFnZXIuZ2V0TWV0cmljcy5iaW5kKHRoaXMubWV0cmljc01hbmFnZXIpfWdldENvbXBvbmVudE1hbmFnZXIoKXtyZXR1cm4gdGhpcy5jb21wb25lbnRNYW5hZ2VyfWdldE1hcmtlcihhKXtyZXR1cm4gdGhpcy5tYXJrZXJNYW5hZ2VyLmdldE1hcmtlcihhKX1nZXRDdXJzb3IoKXtyZXR1cm4gdGhpcy5tYXJrZXJNYW5hZ2VyLmdldEN1cnNvcigpfWdldFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMucmVuZGVyZXJ9Z2V0VGhlbWVNYW5hZ2VyKCl7cmV0dXJuIHRoaXMudGhlbWVNYW5hZ2VyX31nZXRUaGVtZSgpe3JldHVybiB0aGlzLnRoZW1lTWFuYWdlcl8uZ2V0VGhlbWUoKX1zZXRUaGVtZShhKXthfHwoYT1DbGFzc2ljJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYyk7dGhpcy50aGVtZU1hbmFnZXJfLnNldFRoZW1lKGEpfXJlZnJlc2hUaGVtZSgpe2lmKHRoaXMuc3ZnR3JvdXBfKXt2YXIgYT10aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlPT09XG5udWxsO3RoaXMucmVuZGVyZXIucmVmcmVzaERvbSh0aGlzLnN2Z0dyb3VwXyx0aGlzLmdldFRoZW1lKCksYT90aGlzLmdldEluamVjdGlvbkRpdigpOnZvaWQgMCl9dGhpcy51cGRhdGVCbG9ja1N0eWxlcyh0aGlzLmdldEFsbEJsb2NrcyghMSkuZmlsdGVyKGI9PiEhYi5nZXRTdHlsZU5hbWUoKSkpO3RoaXMucmVmcmVzaFRvb2xib3hTZWxlY3Rpb24oKTt0aGlzLnRvb2xib3gmJnRoaXMudG9vbGJveC5yZWZyZXNoVGhlbWUoKTt0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLnNldFZpc2libGUoITApO2E9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVEhFTUVfQ0hBTkdFKSkodGhpcy5nZXRUaGVtZSgpLm5hbWUsdGhpcy5pZCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX11cGRhdGVCbG9ja1N0eWxlcyhhKXtmb3IobGV0IGI9MCxjO2M9YVtiXTtiKyspe2NvbnN0IGQ9XG5jLmdldFN0eWxlTmFtZSgpO2QmJmMuc2V0U3R5bGUoZCl9fWdldEludmVyc2VTY3JlZW5DVE0oKXtpZih0aGlzLmludmVyc2VTY3JlZW5DVE1EaXJ0eSl7Y29uc3QgYT10aGlzLmdldFBhcmVudFN2ZygpLmdldFNjcmVlbkNUTSgpO2EmJih0aGlzLmludmVyc2VTY3JlZW5DVE09YS5pbnZlcnNlKCksdGhpcy5pbnZlcnNlU2NyZWVuQ1RNRGlydHk9ITEpfXJldHVybiB0aGlzLmludmVyc2VTY3JlZW5DVE19dXBkYXRlSW52ZXJzZVNjcmVlbkNUTSgpe3RoaXMuaW52ZXJzZVNjcmVlbkNUTURpcnR5PSEwfWlzVmlzaWJsZSgpe3JldHVybiB0aGlzLnZpc2libGV9Z2V0U3ZnWFkoYSl7bGV0IGI9MCxjPTAsZD0xO2lmKHRoaXMuZ2V0Q2FudmFzKCkuY29udGFpbnMoYSl8fHRoaXMuZ2V0QnViYmxlQ2FudmFzKCkuY29udGFpbnMoYSkpZD10aGlzLnNjYWxlO2Rve2NvbnN0IGU9Z2V0UmVsYXRpdmVYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKGEpO2lmKGE9PT10aGlzLmdldENhbnZhcygpfHxcbmE9PT10aGlzLmdldEJ1YmJsZUNhbnZhcygpKWQ9MTtiKz1lLngqZDtjKz1lLnkqZDthPWEucGFyZW50Tm9kZX13aGlsZShhJiZhIT09dGhpcy5nZXRQYXJlbnRTdmcoKSYmYSE9PXRoaXMuZ2V0SW5qZWN0aW9uRGl2KCkpO3JldHVybiBuZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoYixjKX1nZXRDYWNoZWRQYXJlbnRTdmdTaXplKCl7Y29uc3QgYT10aGlzLmNhY2hlZFBhcmVudFN2Z1NpemU7cmV0dXJuIG5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShhLndpZHRoLGEuaGVpZ2h0KX1nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpe3JldHVybiBnZXRJbmplY3Rpb25EaXZYWSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19tYXRoKHRoaXMuZ2V0Q2FudmFzKCkpfWdldEluamVjdGlvbkRpdigpe2lmKCF0aGlzLmluamVjdGlvbkRpdil7bGV0IGE9dGhpcy5zdmdHcm91cF87Zm9yKDthOyl7aWYoKFwiIFwiK1xuKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5pbmNsdWRlcyhcIiBpbmplY3Rpb25EaXYgXCIpKXt0aGlzLmluamVjdGlvbkRpdj1hO2JyZWFrfWE9YS5wYXJlbnROb2RlfX1yZXR1cm4gdGhpcy5pbmplY3Rpb25EaXZ9Z2V0U3ZnR3JvdXAoKXtyZXR1cm4gdGhpcy5zdmdHcm91cF99Z2V0QmxvY2tDYW52YXMoKXtyZXR1cm4gdGhpcy5nZXRDYW52YXMoKX1zZXRSZXNpemVIYW5kbGVyV3JhcHBlcihhKXt0aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyPWF9Y3JlYXRlRG9tKGEsYil7dGhpcy5pbmplY3Rpb25EaXZ8fCh0aGlzLmluamVjdGlvbkRpdj1iIT1udWxsP2I6bnVsbCk7dGhpcy5zdmdHcm91cF89Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRyx7XCJjbGFzc1wiOlwiYmxvY2tseVdvcmtzcGFjZVwiLGlkOnRoaXMuaWR9KTtiJiZzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5zdmdHcm91cF8sXG5TdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuTEFCRUwsJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuV09SS1NQQUNFX0FSSUFfTEFCRUwpO2EmJih0aGlzLnN2Z0JhY2tncm91bmRfPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlJFQ1Qse2hlaWdodDpcIjEwMCVcIix3aWR0aDpcIjEwMCVcIixcImNsYXNzXCI6YX0sdGhpcy5zdmdHcm91cF8pLGE9PT1cImJsb2NrbHlNYWluQmFja2dyb3VuZFwiJiZ0aGlzLmdyaWQ/dGhpcy5zdmdCYWNrZ3JvdW5kXy5zdHlsZS5maWxsPVwidmFyKC0tYmxvY2tseUdyaWRQYXR0ZXJuKVwiOnRoaXMudGhlbWVNYW5hZ2VyXy5zdWJzY3JpYmUodGhpcy5zdmdCYWNrZ3JvdW5kXyxcIndvcmtzcGFjZUJhY2tncm91bmRDb2xvdXJcIixcImZpbGxcIikpO3RoaXMubGF5ZXJNYW5hZ2VyPW5ldyBMYXllck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcl9tYW5hZ2VyKHRoaXMpO1xudGhpcy5zdmdCbG9ja0NhbnZhc189dGhpcy5sYXllck1hbmFnZXIuZ2V0QmxvY2tMYXllcigpO3RoaXMuc3ZnQnViYmxlQ2FudmFzXz10aGlzLmxheWVyTWFuYWdlci5nZXRCdWJibGVMYXllcigpO3RoaXMuaXNGbHlvdXR8fChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnN2Z0dyb3VwXyxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duLCExKSx0aGlzLmR1bW15V2hlZWxMaXN0ZW5lcj0oKT0+e30sZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLmR1bW15V2hlZWxMaXN0ZW5lciksY29uZGl0aW9uYWxCaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cF8sXCJ3aGVlbFwiLHRoaXMsdGhpcy5vbk1vdXNlV2hlZWwpKTt0aGlzLm9wdGlvbnMuaGFzQ2F0ZWdvcmllcyYmKHRoaXMudG9vbGJveD1uZXcgKGdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWCxcbnRoaXMub3B0aW9ucywhMCkpKHRoaXMpKTt0aGlzLmdyaWQmJnRoaXMuZ3JpZC51cGRhdGUodGhpcy5zY2FsZSk7dGhpcy5yZWNvcmREcmFnVGFyZ2V0cygpOyhhPWdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuQ1VSU09SLHRoaXMub3B0aW9ucykpJiZ0aGlzLm1hcmtlck1hbmFnZXIuc2V0Q3Vyc29yKG5ldyBhKHRoaXMpKTthPXRoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2U9PT1udWxsO3RoaXMucmVuZGVyZXIuY3JlYXRlRG9tKHRoaXMuc3ZnR3JvdXBfLHRoaXMuZ2V0VGhlbWUoKSxhP3RoaXMuZ2V0SW5qZWN0aW9uRGl2KCk6dm9pZCAwKTskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5yZWdpc3RlclRyZWUodGhpcywhIXRoaXMuaW5qZWN0aW9uRGl2fHx0aGlzLmlzRmx5b3V0KTtyZXR1cm4gdGhpcy5zdmdHcm91cF99ZGlzcG9zZSgpe3RoaXMucmVuZGVyZWQ9XG4hMTt0aGlzLmN1cnJlbnRHZXN0dXJlXyYmdGhpcy5jdXJyZW50R2VzdHVyZV8uY2FuY2VsKCk7dGhpcy5zdmdHcm91cF8mJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cF8pO3RoaXMudG9vbGJveCYmKHRoaXMudG9vbGJveC5kaXNwb3NlKCksdGhpcy50b29sYm94PW51bGwpO3RoaXMuZmx5b3V0JiYodGhpcy5mbHlvdXQuZGlzcG9zZSgpLHRoaXMuZmx5b3V0PW51bGwpO3RoaXMudHJhc2hjYW4mJih0aGlzLnRyYXNoY2FuLmRpc3Bvc2UoKSx0aGlzLnRyYXNoY2FuPW51bGwpO3RoaXMuc2Nyb2xsYmFyJiYodGhpcy5zY3JvbGxiYXIuZGlzcG9zZSgpLHRoaXMuc2Nyb2xsYmFyPW51bGwpO3RoaXMuem9vbUNvbnRyb2xzXyYmdGhpcy56b29tQ29udHJvbHNfLmRpc3Bvc2UoKTt0aGlzLmF1ZGlvTWFuYWdlciYmdGhpcy5hdWRpb01hbmFnZXIuZGlzcG9zZSgpO3RoaXMuZ3JpZCYmKHRoaXMuZ3JpZD1udWxsKTt0aGlzLnJlbmRlcmVyLmRpc3Bvc2UoKTtcbnRoaXMubWFya2VyTWFuYWdlci5kaXNwb3NlKCk7c3VwZXIuZGlzcG9zZSgpO3RoaXMudGhlbWVNYW5hZ2VyXyYmKHRoaXMudGhlbWVNYW5hZ2VyXy51bnN1YnNjcmliZVdvcmtzcGFjZSh0aGlzKSx0aGlzLnRoZW1lTWFuYWdlcl8udW5zdWJzY3JpYmUodGhpcy5zdmdCYWNrZ3JvdW5kXyksdGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZXx8dGhpcy50aGVtZU1hbmFnZXJfLmRpc3Bvc2UoKSk7dGhpcy5jb25uZWN0aW9uREJMaXN0Lmxlbmd0aD0wO3RoaXMudG9vbGJveENhdGVnb3J5Q2FsbGJhY2tzLmNsZWFyKCk7dGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3MuY2xlYXIoKTtpZighdGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSl7Y29uc3QgYT10aGlzLmdldFBhcmVudFN2ZygpO2EmJmEucGFyZW50Tm9kZSYmcmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLnBhcmVudE5vZGUpfXRoaXMucmVzaXplSGFuZGxlcldyYXBwZXImJih1bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyh0aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyKSxcbnRoaXMucmVzaXplSGFuZGxlcldyYXBwZXI9bnVsbCk7dGhpcy5kdW1teVdoZWVsTGlzdGVuZXImJihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMuZHVtbXlXaGVlbExpc3RlbmVyKSx0aGlzLmR1bW15V2hlZWxMaXN0ZW5lcj1udWxsKTskLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5pc1JlZ2lzdGVyZWQodGhpcykmJiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLnVucmVnaXN0ZXJUcmVlKHRoaXMpfWFkZFRyYXNoY2FuKCl7dGhpcy50cmFzaGNhbj1Xb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnLm5ld1RyYXNoY2FuKHRoaXMpO2NvbnN0IGE9dGhpcy50cmFzaGNhbi5jcmVhdGVEb20oKTt0aGlzLnN2Z0dyb3VwXy5pbnNlcnRCZWZvcmUoYSx0aGlzLmdldENhbnZhcygpKX1zdGF0aWMgbmV3VHJhc2hjYW4oYSl7dGhyb3cgRXJyb3IoXCJUaGUgaW1wbGVtZW50YXRpb24gb2YgbmV3VHJhc2hjYW4gc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7XG59YWRkWm9vbUNvbnRyb2xzKCl7dGhpcy56b29tQ29udHJvbHNfPW5ldyBab29tQ29udHJvbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR6b29tX2NvbnRyb2xzKHRoaXMpO2NvbnN0IGE9dGhpcy56b29tQ29udHJvbHNfLmNyZWF0ZURvbSgpO3RoaXMuc3ZnR3JvdXBfLmFwcGVuZENoaWxkKGEpfWNvcHlPcHRpb25zRm9yRmx5b3V0KCl7cmV0dXJuIG5ldyBPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkb3B0aW9ucyh7cGFyZW50V29ya3NwYWNlOnRoaXMscnRsOnRoaXMuUlRMLG9uZUJhc2VkSW5kZXg6dGhpcy5vcHRpb25zLm9uZUJhc2VkSW5kZXgsaG9yaXpvbnRhbExheW91dDp0aGlzLmhvcml6b250YWxMYXlvdXQscmVuZGVyZXI6dGhpcy5vcHRpb25zLnJlbmRlcmVyLHJlbmRlcmVyT3ZlcnJpZGVzOnRoaXMub3B0aW9ucy5yZW5kZXJlck92ZXJyaWRlcyxwbHVnaW5zOnRoaXMub3B0aW9ucy5wbHVnaW5zLG1vZGFsSW5wdXRzOnRoaXMub3B0aW9ucy5tb2RhbElucHV0cyxcbm1vdmU6e3Njcm9sbGJhcnM6ITB9fSl9YWRkRmx5b3V0KGEpe2NvbnN0IGI9dGhpcy5jb3B5T3B0aW9uc0ZvckZseW91dCgpO2IudG9vbGJveFBvc2l0aW9uPXRoaXMub3B0aW9ucy50b29sYm94UG9zaXRpb247dGhpcy5mbHlvdXQ9dGhpcy5ob3Jpem9udGFsTGF5b3V0P25ldyAoZ2V0Q2xhc3NGcm9tT3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRTX0hPUklaT05UQUxfVE9PTEJPWCx0aGlzLm9wdGlvbnMsITApKShiKTpuZXcgKGdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19WRVJUSUNBTF9UT09MQk9YLHRoaXMub3B0aW9ucywhMCkpKGIpO3RoaXMuZmx5b3V0LmF1dG9DbG9zZT0hMTt0aGlzLmZseW91dC5nZXRXb3Jrc3BhY2UoKS5zZXRWaXNpYmxlKCEwKTtcbnJldHVybiB0aGlzLmZseW91dC5jcmVhdGVEb20oYSl9Z2V0Rmx5b3V0KGEpe3JldHVybiB0aGlzLmZseW91dHx8YT90aGlzLmZseW91dDp0aGlzLnRvb2xib3g/dGhpcy50b29sYm94LmdldEZseW91dCgpOm51bGx9Z2V0VG9vbGJveCgpe3JldHVybiB0aGlzLnRvb2xib3h9dXBkYXRlU2NyZWVuQ2FsY3VsYXRpb25zKCl7dGhpcy51cGRhdGVJbnZlcnNlU2NyZWVuQ1RNKCk7dGhpcy5yZWNvcmREcmFnVGFyZ2V0cygpfXJlc2l6ZUNvbnRlbnRzKCl7dGhpcy5yZXNpemVzRW5hYmxlZCYmdGhpcy5yZW5kZXJlZCYmKHRoaXMuc2Nyb2xsYmFyJiZ0aGlzLnNjcm9sbGJhci5yZXNpemUoKSx0aGlzLnVwZGF0ZUludmVyc2VTY3JlZW5DVE0oKSl9cmVzaXplKCl7dGhpcy50b29sYm94P3RoaXMudG9vbGJveC5wb3NpdGlvbigpOnRoaXMuZmx5b3V0JiZ0aGlzLmZseW91dC5wb3NpdGlvbigpO2NvbnN0IGE9dGhpcy5jb21wb25lbnRNYW5hZ2VyLmdldENvbXBvbmVudHMoQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuUE9TSVRJT05BQkxFLFxuITApLGI9dGhpcy5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFVpTWV0cmljcygpLGM9W107Zm9yKGxldCBkPTAsZTtlPWFbZF07ZCsrKXtlLnBvc2l0aW9uKGIsYyk7Y29uc3QgZj1lLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7ZiYmYy5wdXNoKGYpfXRoaXMuc2Nyb2xsYmFyJiZ0aGlzLnNjcm9sbGJhci5yZXNpemUoKTt0aGlzLnVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9ucygpfXVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9uc0lmU2Nyb2xsZWQoKXtjb25zdCBhPWdldERvY3VtZW50U2Nyb2xsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX21hdGgoKTtDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZS5lcXVhbHModGhpcy5sYXN0UmVjb3JkZWRQYWdlU2Nyb2xsLGEpfHwodGhpcy5sYXN0UmVjb3JkZWRQYWdlU2Nyb2xsPWEsdGhpcy51cGRhdGVTY3JlZW5DYWxjdWxhdGlvbnMoKSl9Z2V0TGF5ZXJNYW5hZ2VyKCl7cmV0dXJuIHRoaXMubGF5ZXJNYW5hZ2VyfWdldENhbnZhcygpe3JldHVybiB0aGlzLmxheWVyTWFuYWdlci5nZXRCbG9ja0xheWVyKCl9c2V0Q2FjaGVkUGFyZW50U3ZnU2l6ZShhLFxuYil7Y29uc3QgYz10aGlzLmdldFBhcmVudFN2ZygpO2EhPW51bGwmJih0aGlzLmNhY2hlZFBhcmVudFN2Z1NpemUud2lkdGg9YSxjLnNldEF0dHJpYnV0ZShcImRhdGEtY2FjaGVkLXdpZHRoXCIsYCR7YX1gKSk7YiE9bnVsbCYmKHRoaXMuY2FjaGVkUGFyZW50U3ZnU2l6ZS5oZWlnaHQ9YixjLnNldEF0dHJpYnV0ZShcImRhdGEtY2FjaGVkLWhlaWdodFwiLGAke2J9YCkpfWdldEJ1YmJsZUNhbnZhcygpe3JldHVybiB0aGlzLmxheWVyTWFuYWdlci5nZXRCdWJibGVMYXllcigpfWdldFBhcmVudFN2Zygpe2lmKCF0aGlzLmNhY2hlZFBhcmVudFN2Zyl7bGV0IGE9dGhpcy5zdmdHcm91cF87Zm9yKDthOyl7aWYoYS50YWdOYW1lPT09XCJzdmdcIil7dGhpcy5jYWNoZWRQYXJlbnRTdmc9YTticmVha31hPWEucGFyZW50Tm9kZX19cmV0dXJuIHRoaXMuY2FjaGVkUGFyZW50U3ZnfW1heWJlRmlyZVZpZXdwb3J0Q2hhbmdlRXZlbnQoKXtpZihpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl7dmFyIGE9XG50aGlzLnNjYWxlLGI9LXRoaXMuc2Nyb2xsWSxjPS10aGlzLnNjcm9sbFg7aWYoIShhPT09dGhpcy5vbGRTY2FsZSYmTWF0aC5hYnMoYi10aGlzLm9sZFRvcCk8MSYmTWF0aC5hYnMoYy10aGlzLm9sZExlZnQpPDEpKXt2YXIgZD1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WSUVXUE9SVF9DSEFOR0UpKShiLGMsYSx0aGlzLmlkLHRoaXMub2xkU2NhbGUpO3RoaXMub2xkU2NhbGU9YTt0aGlzLm9sZFRvcD1iO3RoaXMub2xkTGVmdD1jO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoZCl9fX10cmFuc2xhdGUoYSxiKXtsZXQgYzsoYz10aGlzLmxheWVyTWFuYWdlcik9PW51bGx8fGMudHJhbnNsYXRlTGF5ZXJzKG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLGIpLHRoaXMuc2NhbGUpO2xldCBkO1xuKGQ9dGhpcy5ncmlkKT09bnVsbHx8ZC5tb3ZlVG8oYSxiKTt0aGlzLm1heWJlRmlyZVZpZXdwb3J0Q2hhbmdlRXZlbnQoKX1nZXRXaWR0aCgpe2NvbnN0IGE9dGhpcy5nZXRNZXRyaWNzKCk7cmV0dXJuIGE/YS52aWV3V2lkdGgvdGhpcy5zY2FsZTowfXNldFZpc2libGUoYSl7dGhpcy52aXNpYmxlPWE7dGhpcy5zdmdHcm91cF8mJih0aGlzLnNjcm9sbGJhciYmdGhpcy5zY3JvbGxiYXIuc2V0Q29udGFpbmVyVmlzaWJsZShhKSx0aGlzLmdldEZseW91dCgpJiZ0aGlzLmdldEZseW91dCgpLnNldENvbnRhaW5lclZpc2libGUoYSksdGhpcy5nZXRQYXJlbnRTdmcoKS5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiLHRoaXMudG9vbGJveCYmdGhpcy50b29sYm94LnNldFZpc2libGUoYSksYXx8dGhpcy5oaWRlQ2hhZmYoITApKX1yZW5kZXIoKXtjb25zdCBhPXRoaXMuZ2V0QWxsQmxvY2tzKCExKTtmb3IobGV0IGI9YS5sZW5ndGgtMTtiPj0wO2ItLSlhW2JdLnF1ZXVlUmVuZGVyKCk7XG50aGlzLmdldFRvcEJsb2NrcygpLmZsYXRNYXAoYj0+Yi5nZXREZXNjZW5kYW50cyghMSkpLmZpbHRlcihiPT5iLmlzSW5zZXJ0aW9uTWFya2VyKCkpLmZvckVhY2goYj0+Yi5xdWV1ZVJlbmRlcigpKX1oaWdobGlnaHRCbG9jayhhLGIpe2lmKGI9PT12b2lkIDApe2ZvcihsZXQgYz0wLGQ7ZD10aGlzLmhpZ2hsaWdodGVkQmxvY2tzW2NdO2MrKylkLnNldEhpZ2hsaWdodGVkKCExKTt0aGlzLmhpZ2hsaWdodGVkQmxvY2tzLmxlbmd0aD0wfWlmKGE9YT90aGlzLmdldEJsb2NrQnlJZChhKTpudWxsKShiPWI9PT12b2lkIDB8fGIpP3RoaXMuaGlnaGxpZ2h0ZWRCbG9ja3MuaW5jbHVkZXMoYSl8fHRoaXMuaGlnaGxpZ2h0ZWRCbG9ja3MucHVzaChhKTpyZW1vdmVFbGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJyYXkodGhpcy5oaWdobGlnaHRlZEJsb2NrcyxhKSxhLnNldEhpZ2hsaWdodGVkKGIpfXZhcmlhYmxlQ2hhbmdlQ2FsbGJhY2soYSl7c3dpdGNoKGEudHlwZSl7Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFOmNhc2UgRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0RFTEVURTpjYXNlIEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9SRU5BTUU6Y2FzZSBFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfVFlQRV9DSEFOR0U6dGhpcy5yZWZyZXNoVG9vbGJveFNlbGVjdGlvbigpfX1yZWZyZXNoVG9vbGJveFNlbGVjdGlvbigpe2NvbnN0IGE9XG50aGlzLmlzRmx5b3V0P3RoaXMudGFyZ2V0V29ya3NwYWNlOnRoaXM7YSYmIWEuY3VycmVudEdlc3R1cmVfJiZhLnRvb2xib3gmJmEudG9vbGJveC5nZXRGbHlvdXQoKSYmYS50b29sYm94LnJlZnJlc2hTZWxlY3Rpb24oKX1yZWNvcmREcmFnVGFyZ2V0cygpe2NvbnN0IGE9dGhpcy5jb21wb25lbnRNYW5hZ2VyLmdldENvbXBvbmVudHMoQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuRFJBR19UQVJHRVQsITApO3RoaXMuZHJhZ1RhcmdldEFyZWFzPVtdO2ZvcihsZXQgYj0wLGM7Yz1hW2JdO2IrKyl7Y29uc3QgZD1jLmdldENsaWVudFJlY3QoKTtkJiZ0aGlzLmRyYWdUYXJnZXRBcmVhcy5wdXNoKHtjb21wb25lbnQ6YyxjbGllbnRSZWN0OmR9KX19bmV3QmxvY2soYSxiKXt0aHJvdyBFcnJvcihcIlRoZSBpbXBsZW1lbnRhdGlvbiBvZiBuZXdCbG9jayBzaG91bGQgYmUgbW9ua2V5LXBhdGNoZWQgaW4gYnkgYmxvY2tseS50c1wiKTtcbn1uZXdDb21tZW50KGEpe3Rocm93IEVycm9yKFwiVGhlIGltcGxlbWVudGF0aW9uIG9mIG5ld0NvbW1lbnQgc2hvdWxkIGJlIG1vbmtleS1wYXRjaGVkIGluIGJ5IGJsb2NrbHkudHNcIik7fWdldERyYWdUYXJnZXQoYSl7Zm9yKGxldCBiPTAsYztjPXRoaXMuZHJhZ1RhcmdldEFyZWFzW2JdO2IrKylpZihjLmNsaWVudFJlY3QuY29udGFpbnMoYS5jbGllbnRYLGEuY2xpZW50WSkpcmV0dXJuIGMuY29tcG9uZW50O3JldHVybiBudWxsfW9uTW91c2VEb3duKGEpe2NvbnN0IGI9dGhpcy5nZXRHZXN0dXJlKGEpO2ImJmIuaGFuZGxlV3NTdGFydChhLHRoaXMpfXN0YXJ0RHJhZyhhLGIpe3N0YXJ0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZHJhZyh0aGlzLGEsYil9bW92ZURyYWcoYSl7cmV0dXJuIG1vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkcmFnKHRoaXMsYSl9c2V0S2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcyhhKXt0aGlzLmtleWJvYXJkTW92ZUluUHJvZ3Jlc3M9XG5hfWlzRHJhZ2dpbmcoKXtyZXR1cm4gdGhpcy5rZXlib2FyZE1vdmVJblByb2dyZXNzfHx0aGlzLmN1cnJlbnRHZXN0dXJlXyE9PW51bGwmJnRoaXMuY3VycmVudEdlc3R1cmVfLmlzRHJhZ2dpbmcoKX1pc0RyYWdnYWJsZSgpe3JldHVybiB0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy5kcmFnfWlzTW92YWJsZSgpe3JldHVybiB0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJiEhdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zLnNjcm9sbGJhcnN8fHRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucyYmdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zLndoZWVsfHx0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy5kcmFnfHx0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMmJnRoaXMub3B0aW9ucy56b29tT3B0aW9ucy53aGVlbHx8dGhpcy5vcHRpb25zLnpvb21PcHRpb25zJiZ0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMucGluY2h9aXNNb3ZhYmxlSG9yaXpvbnRhbGx5KCl7Y29uc3QgYT1cbiEhdGhpcy5zY3JvbGxiYXI7cmV0dXJuIHRoaXMuaXNNb3ZhYmxlKCkmJighYXx8YSYmdGhpcy5zY3JvbGxiYXIuY2FuU2Nyb2xsSG9yaXpvbnRhbGx5KCkpfWlzTW92YWJsZVZlcnRpY2FsbHkoKXtjb25zdCBhPSEhdGhpcy5zY3JvbGxiYXI7cmV0dXJuIHRoaXMuaXNNb3ZhYmxlKCkmJighYXx8YSYmdGhpcy5zY3JvbGxiYXIuY2FuU2Nyb2xsVmVydGljYWxseSgpKX1vbk1vdXNlV2hlZWwoYSl7aWYoR2VzdHVyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGdlc3R1cmUuaW5Qcm9ncmVzcygpKWEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2V7dmFyIGI9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zJiZ0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMud2hlZWwsYz10aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy53aGVlbDtpZihifHxjKXt2YXIgZD1nZXRTY3JvbGxEZWx0YVBpeGVscyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpO1xuaWYoTUFDJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdXNlcmFnZW50KXZhciBlPWEubWV0YUtleTtiJiYoYS5jdHJsS2V5fHxlfHwhYyk/KGQ9LWQueS81MCxiPW1vdXNlVG9TdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLHRoaXMuZ2V0UGFyZW50U3ZnKCksdGhpcy5nZXRJbnZlcnNlU2NyZWVuQ1RNKCkpLHRoaXMuem9vbShiLngsYi55LGQpKTooYj10aGlzLnNjcm9sbFgtZC54LGM9dGhpcy5zY3JvbGxZLWQueSxhLnNoaWZ0S2V5JiYhZC54JiYoYj10aGlzLnNjcm9sbFgtZC55LGM9dGhpcy5zY3JvbGxZKSx0aGlzLnNjcm9sbChiLGMpKTthLnByZXZlbnREZWZhdWx0KCl9fX1nZXRCbG9ja3NCb3VuZGluZ0JveCgpe2NvbnN0IGE9dGhpcy5nZXRUb3BCb3VuZGVkRWxlbWVudHMoKTtpZighYS5sZW5ndGgpcmV0dXJuIG5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCgwLDAsMCwwKTtjb25zdCBiPWFbMF0uZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtcbmZvcihsZXQgZD0xO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgYz1hW2RdO2MuaXNJbnNlcnRpb25NYXJrZXImJmMuaXNJbnNlcnRpb25NYXJrZXIoKXx8KGM9Yy5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLGMudG9wPGIudG9wJiYoYi50b3A9Yy50b3ApLGMuYm90dG9tPmIuYm90dG9tJiYoYi5ib3R0b209Yy5ib3R0b20pLGMubGVmdDxiLmxlZnQmJihiLmxlZnQ9Yy5sZWZ0KSxjLnJpZ2h0PmIucmlnaHQmJihiLnJpZ2h0PWMucmlnaHQpKX1yZXR1cm4gYn1jbGVhblVwKCl7dGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMSk7Y29uc3QgYT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7YXx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMCk7dmFyIGI9dGhpcy5nZXRUb3BCbG9ja3MoITApLGM9Yi5maWx0ZXIoZz0+Zy5pc01vdmFibGUoKSk7Y29uc3QgZD1iLmZpbHRlcihnPT4hZy5pc01vdmFibGUoKSkubWFwKGc9PlxuZy5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpKTtiPWZ1bmN0aW9uKGcpe2Zvcihjb25zdCBoIG9mIGQpaWYoZy5pbnRlcnNlY3RzKGgpKXJldHVybiBoO3JldHVybiBudWxsfTt2YXIgZT0wO2NvbnN0IGY9dGhpcy5yZW5kZXJlci5nZXRDb25zdGFudHMoKS5NSU5fQkxPQ0tfSEVJR0hUO2Zvcihjb25zdCBnIG9mIGMpe2M9Zy5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO2cubW92ZUJ5KC1jLmxlZnQsZS1jLnRvcCxbXCJjbGVhbnVwXCJdKTtnLnNuYXBUb0dyaWQoKTtjPWcuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtmb3IoZT1iKGMpO2UhPW51bGw7KWU9ZS50b3ArZS5nZXRIZWlnaHQoKStmLGcubW92ZUJ5KDAsZS1jLnRvcCxbXCJjbGVhbnVwXCJdKSxnLnNuYXBUb0dyaWQoKSxjPWcuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKSxlPWIoYyk7ZT1nLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKS55K2cuZ2V0SGVpZ2h0V2lkdGgoKS5oZWlnaHQrZn0kLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEpO1xudGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMCl9c2hvd0NvbnRleHRNZW51KGEpe2lmKCF0aGlzLmlzUmVhZE9ubHkoKSYmIXRoaXMuaXNGbHlvdXQpe3ZhciBiPUNvbnRleHRNZW51UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9yZWdpc3RyeS5yZWdpc3RyeS5nZXRDb250ZXh0TWVudU9wdGlvbnMoe3dvcmtzcGFjZTp0aGlzLGZvY3VzZWROb2RlOnRoaXN9LGEpO3RoaXMuY29uZmlndXJlQ29udGV4dE1lbnUmJnRoaXMuY29uZmlndXJlQ29udGV4dE1lbnUoYixhKTt2YXIgYz1hIGluc3RhbmNlb2YgUG9pbnRlckV2ZW50P25ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTp3c1RvU2NyZWVuQ29vcmRpbmF0ZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfbWF0aCh0aGlzLG5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZSg1LFxuNSkpO3Nob3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudShhLGIsdGhpcy5SVEwsdGhpcyxjKX19dXBkYXRlVG9vbGJveChhKXtpZihhPWNvbnZlcnRUb29sYm94RGVmVG9Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKSl7aWYoIXRoaXMub3B0aW9ucy5sYW5ndWFnZVRyZWUpdGhyb3cgRXJyb3IoXCJFeGlzdGluZyB0b29sYm94IGlzIG51bGwuICBDYW4ndCBjcmVhdGUgbmV3IHRvb2xib3guXCIpO2lmKGhhc0NhdGVnb3JpZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpKXtpZighdGhpcy50b29sYm94KXRocm93IEVycm9yKFwiRXhpc3RpbmcgdG9vbGJveCBoYXMgbm8gY2F0ZWdvcmllcy4gIENhbid0IGNoYW5nZSBtb2RlLlwiKTt0aGlzLm9wdGlvbnMubGFuZ3VhZ2VUcmVlPWE7dGhpcy50b29sYm94LnJlbmRlcihhKX1lbHNle2lmKCF0aGlzLmZseW91dCl0aHJvdyBFcnJvcihcIkV4aXN0aW5nIHRvb2xib3ggaGFzIGNhdGVnb3JpZXMuICBDYW4ndCBjaGFuZ2UgbW9kZS5cIik7XG50aGlzLm9wdGlvbnMubGFuZ3VhZ2VUcmVlPWE7dGhpcy5mbHlvdXQuc2hvdyhhKX19ZWxzZSBpZih0aGlzLm9wdGlvbnMubGFuZ3VhZ2VUcmVlKXRocm93IEVycm9yKFwiQ2FuJ3QgbnVsbGlmeSBhbiBleGlzdGluZyB0b29sYm94LlwiKTt9bWFya0ZvY3VzZWQoKXt0aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlP3RoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UubWFya0ZvY3VzZWQoKTooc2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbih0aGlzKSx0aGlzLmdldFBhcmVudFN2ZygpLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiEwfSkpfXpvb20oYSxiLGMpe2M9TWF0aC5wb3codGhpcy5vcHRpb25zLnpvb21PcHRpb25zLnNjYWxlU3BlZWQsYyk7Y29uc3QgZD10aGlzLnNjYWxlKmM7aWYodGhpcy5zY2FsZSE9PWQpe2Q+dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlP2M9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlL3RoaXMuc2NhbGU6XG5kPHRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZSYmKGM9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1pblNjYWxlL3RoaXMuc2NhbGUpO3ZhciBlPXRoaXMuZ2V0Q2FudmFzKCkuZ2V0Q1RNKCksZj10aGlzLmdldFBhcmVudFN2ZygpLmNyZWF0ZVNWR1BvaW50KCk7Zi54PWE7Zi55PWI7Zj1mLm1hdHJpeFRyYW5zZm9ybShlLmludmVyc2UoKSk7YT1mLng7Yj1mLnk7ZT1lLnRyYW5zbGF0ZShhKigxLWMpLGIqKDEtYykpLnNjYWxlKGMpO3RoaXMuc2Nyb2xsWD1lLmU7dGhpcy5zY3JvbGxZPWUuZjt0aGlzLnNldFNjYWxlKGQpfX16b29tQ2VudGVyKGEpe3ZhciBiPXRoaXMuZ2V0TWV0cmljcygpO2xldCBjO3RoaXMuZmx5b3V0PyhjPWIuc3ZnV2lkdGg/Yi5zdmdXaWR0aC8yOjAsYj1iLnN2Z0hlaWdodD9iLnN2Z0hlaWdodC8yOjApOihjPWIudmlld1dpZHRoLzIrYi5hYnNvbHV0ZUxlZnQsYj1iLnZpZXdIZWlnaHQvMitiLmFic29sdXRlVG9wKTt0aGlzLnpvb20oYyxiLGEpfXpvb21Ub0ZpdCgpe2lmKHRoaXMuaXNNb3ZhYmxlKCkpe3ZhciBhPVxudGhpcy5nZXRNZXRyaWNzKCksYj1hLnZpZXdXaWR0aDthPWEudmlld0hlaWdodDt2YXIgYz10aGlzLmdldEJsb2Nrc0JvdW5kaW5nQm94KCksZD1aT09NX1RPX0ZJVF9NQVJHSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnKjIsZT1jLnJpZ2h0LWMubGVmdCtkO2M9Yy5ib3R0b20tYy50b3ArZDtpZihlKXt0aGlzLmZseW91dCYmKHRoaXMuaG9yaXpvbnRhbExheW91dD8oYSs9dGhpcy5mbHlvdXQuZ2V0SGVpZ2h0KCksYys9dGhpcy5mbHlvdXQuZ2V0SGVpZ2h0KCkvdGhpcy5zY2FsZSk6KGIrPXRoaXMuZmx5b3V0LmdldFdpZHRoKCksZSs9dGhpcy5mbHlvdXQuZ2V0V2lkdGgoKS90aGlzLnNjYWxlKSk7Yi89ZTthLz1jOyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO3RyeXt0aGlzLnNldFNjYWxlKE1hdGgubWluKGIsYSkpLHRoaXMuc2Nyb2xsQ2VudGVyKCl9ZmluYWxseXskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfXRoaXMubWF5YmVGaXJlVmlld3BvcnRDaGFuZ2VFdmVudCgpfX1lbHNlIGNvbnNvbGUud2FybihcIlRyaWVkIHRvIG1vdmUgYSBub24tbW92YWJsZSB3b3Jrc3BhY2UuIFRoaXMgY291bGQgcmVzdWx0IGluIGJsb2NrcyBiZWNvbWluZyBpbmFjY2Vzc2libGUuXCIpfWJlZ2luQ2FudmFzVHJhbnNpdGlvbigpe2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0Q2FudmFzKCksXG5cImJsb2NrbHlDYW52YXNUcmFuc2l0aW9uaW5nXCIpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0QnViYmxlQ2FudmFzKCksXCJibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZ1wiKX1lbmRDYW52YXNUcmFuc2l0aW9uKCl7cmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5nZXRDYW52YXMoKSxcImJsb2NrbHlDYW52YXNUcmFuc2l0aW9uaW5nXCIpO3JlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZ2V0QnViYmxlQ2FudmFzKCksXCJibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZ1wiKX1zY3JvbGxDZW50ZXIoKXtpZih0aGlzLmlzTW92YWJsZSgpKXt2YXIgYT10aGlzLmdldE1ldHJpY3MoKSxiPShhLnNjcm9sbFdpZHRoLWEudmlld1dpZHRoKS8yLGM9KGEuc2Nyb2xsSGVpZ2h0LWEudmlld0hlaWdodCkvMjtiPS1iLWEuc2Nyb2xsTGVmdDtjPS1jLWEuc2Nyb2xsVG9wO3RoaXMuc2Nyb2xsKGIsXG5jKX1lbHNlIGNvbnNvbGUud2FybihcIlRyaWVkIHRvIG1vdmUgYSBub24tbW92YWJsZSB3b3Jrc3BhY2UuIFRoaXMgY291bGQgcmVzdWx0IGluIGJsb2NrcyBiZWNvbWluZyBpbmFjY2Vzc2libGUuXCIpfWNlbnRlck9uQmxvY2soYSxiKXtpZih0aGlzLmlzTW92YWJsZSgpKXt2YXIgYz1hP3RoaXMuZ2V0QmxvY2tCeUlkKGEpOm51bGw7aWYoYyl7YT1jLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtjPWI/e2hlaWdodDpjLmhlaWdodCx3aWR0aDpjLndpZHRofTpjLmdldEhlaWdodFdpZHRoKCk7dmFyIGQ9dGhpcy5zY2FsZTtiPShhLngrKHRoaXMuUlRMPy0xOjEpKmMud2lkdGgvMikqZDthPShhLnkrYy5oZWlnaHQvMikqZDtjPXRoaXMuZ2V0TWV0cmljcygpO3RoaXMuc2Nyb2xsKC0oYi1jLnZpZXdXaWR0aC8yKSwtKGEtYy52aWV3SGVpZ2h0LzIpKX19ZWxzZSBjb25zb2xlLndhcm4oXCJUcmllZCB0byBtb3ZlIGEgbm9uLW1vdmFibGUgd29ya3NwYWNlLiBUaGlzIGNvdWxkIHJlc3VsdCBpbiBibG9ja3MgYmVjb21pbmcgaW5hY2Nlc3NpYmxlLlwiKX1zZXRTY2FsZShhKXt0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWF4U2NhbGUmJlxuYT50aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWF4U2NhbGU/YT10aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWF4U2NhbGU6dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1pblNjYWxlJiZhPHRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZSYmKGE9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1pblNjYWxlKTt0aGlzLnNjYWxlPWE7dGhpcy5oaWRlQ2hhZmYoITEpOyhhPXRoaXMuZ2V0Rmx5b3V0KCExKSkmJmEuaXNWaXNpYmxlKCkmJihhLnJlZmxvdygpLHRoaXMucmVjb3JkRHJhZ1RhcmdldHMoKSk7dGhpcy5ncmlkJiZ0aGlzLmdyaWQudXBkYXRlKHRoaXMuc2NhbGUpO2E9dGhpcy5nZXRNZXRyaWNzKCk7dGhpcy5zY3JvbGxYLT1hLmFic29sdXRlTGVmdDt0aGlzLnNjcm9sbFktPWEuYWJzb2x1dGVUb3A7YS52aWV3TGVmdCs9YS5hYnNvbHV0ZUxlZnQ7YS52aWV3VG9wKz1hLmFic29sdXRlVG9wO3RoaXMuc2Nyb2xsKHRoaXMuc2Nyb2xsWCx0aGlzLnNjcm9sbFkpO3RoaXMuc2Nyb2xsYmFyJiZcbih0aGlzLmZseW91dD90aGlzLnNjcm9sbGJhci5yZXNpemVWaWV3KGEpOnRoaXMuc2Nyb2xsYmFyLnJlc2l6ZUNvbnRlbnQoYSkpfWdldFNjYWxlKCl7cmV0dXJuIHRoaXMuc2NhbGV9Z2V0QWJzb2x1dGVTY2FsZSgpe2NvbnN0IGE9Yz0+e2lmKGMuaXNGbHlvdXQpe2xldCBkO2NvbnN0IGU9KGQ9Yy50YXJnZXRXb3Jrc3BhY2UpPT1udWxsP3ZvaWQgMDpkLmdldEZseW91dCgpO2lmKGUgaW5zdGFuY2VvZiBGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYmFzZSlyZXR1cm4gZS5nZXRGbHlvdXRTY2FsZSgpfXJldHVybiBjLmdldFNjYWxlKCl9LGI9KGMsZCk9PmMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UmJmMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UuZ2V0U3ZnR3JvdXAoKS5jb250YWlucyhjLmdldFN2Z0dyb3VwKCkpP2IoYy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSxkKmEoYykpOmQqYShjKTtyZXR1cm4gYih0aGlzLDEpfXNjcm9sbChhLGIpe3RoaXMuaGlkZUNoYWZmKCEwKTtcbmNvbnN0IGM9dGhpcy5nZXRNZXRyaWNzKCk7YT1NYXRoLm1pbihhLC1jLnNjcm9sbExlZnQpO2I9TWF0aC5taW4oYiwtYy5zY3JvbGxUb3ApO2NvbnN0IGQ9Yy5zY3JvbGxUb3ArTWF0aC5tYXgoMCxjLnNjcm9sbEhlaWdodC1jLnZpZXdIZWlnaHQpO2E9TWF0aC5tYXgoYSwtKGMuc2Nyb2xsTGVmdCtNYXRoLm1heCgwLGMuc2Nyb2xsV2lkdGgtYy52aWV3V2lkdGgpKSk7Yj1NYXRoLm1heChiLC1kKTt0aGlzLnNjcm9sbFg9YTt0aGlzLnNjcm9sbFk9Yjt0aGlzLnNjcm9sbGJhciYmdGhpcy5zY3JvbGxiYXIuc2V0KC0oYStjLnNjcm9sbExlZnQpLC0oYitjLnNjcm9sbFRvcCksITEpO2ErPWMuYWJzb2x1dGVMZWZ0O2IrPWMuYWJzb2x1dGVUb3A7dGhpcy50cmFuc2xhdGUoYSxiKX1nZXRCbG9ja0J5SWQoYSl7cmV0dXJuIHN1cGVyLmdldEJsb2NrQnlJZChhKX1nZXRBbGxCbG9ja3MoYT0hMSl7cmV0dXJuIHN1cGVyLmdldEFsbEJsb2NrcyhhKX1nZXRUb3BCbG9ja3MoYT0hMSl7cmV0dXJuIHN1cGVyLmdldFRvcEJsb2NrcyhhKX1hZGRUb3BCbG9jayhhKXt0aGlzLmFkZFRvcEJvdW5kZWRFbGVtZW50KGEpO1xuc3VwZXIuYWRkVG9wQmxvY2soYSl9cmVtb3ZlVG9wQmxvY2soYSl7dGhpcy5yZW1vdmVUb3BCb3VuZGVkRWxlbWVudChhKTtzdXBlci5yZW1vdmVUb3BCbG9jayhhKX1hZGRUb3BDb21tZW50KGEpe3RoaXMuYWRkVG9wQm91bmRlZEVsZW1lbnQoYSk7c3VwZXIuYWRkVG9wQ29tbWVudChhKX1yZW1vdmVUb3BDb21tZW50KGEpe3RoaXMucmVtb3ZlVG9wQm91bmRlZEVsZW1lbnQoYSk7c3VwZXIucmVtb3ZlVG9wQ29tbWVudChhKX1nZXRUb3BDb21tZW50cyhhPSExKXtyZXR1cm4gc3VwZXIuZ2V0VG9wQ29tbWVudHMoYSl9Z2V0Q29tbWVudEJ5SWQoYSl7cmV0dXJuIHN1cGVyLmdldENvbW1lbnRCeUlkKGEpfWdldFJvb3RXb3Jrc3BhY2UoKXtyZXR1cm4gc3VwZXIuZ2V0Um9vdFdvcmtzcGFjZSgpfWFkZFRvcEJvdW5kZWRFbGVtZW50KGEpe3RoaXMudG9wQm91bmRlZEVsZW1lbnRzLnB1c2goYSl9cmVtb3ZlVG9wQm91bmRlZEVsZW1lbnQoYSl7cmVtb3ZlRWxlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFycmF5KHRoaXMudG9wQm91bmRlZEVsZW1lbnRzLFxuYSl9Z2V0VG9wQm91bmRlZEVsZW1lbnRzKGE9ITEpe2NvbnN0IGI9W10uY29uY2F0KHRoaXMudG9wQm91bmRlZEVsZW1lbnRzKTthJiZiLnNvcnQodGhpcy5zb3J0QnlPcmlnaW4uYmluZCh0aGlzKSk7cmV0dXJuIGJ9c2V0UmVzaXplc0VuYWJsZWQoYSl7Y29uc3QgYj0hdGhpcy5yZXNpemVzRW5hYmxlZCYmYTt0aGlzLnJlc2l6ZXNFbmFibGVkPWE7YiYmdGhpcy5yZXNpemVDb250ZW50cygpfWNsZWFyKCl7dGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMSk7c3VwZXIuY2xlYXIoKTt0aGlzLnRvcEJvdW5kZWRFbGVtZW50cz1bXTt0aGlzLnNldFJlc2l6ZXNFbmFibGVkKCEwKX1yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKGEsYil7aWYodHlwZW9mIGIhPT1cImZ1bmN0aW9uXCIpdGhyb3cgVHlwZUVycm9yKFwiQnV0dG9uIGNhbGxiYWNrcyBtdXN0IGJlIGZ1bmN0aW9ucy5cIik7dGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3Muc2V0KGEsYil9Z2V0QnV0dG9uQ2FsbGJhY2soYSl7bGV0IGI7cmV0dXJuKGI9XG50aGlzLmZseW91dEJ1dHRvbkNhbGxiYWNrcy5nZXQoYSkpIT1udWxsP2I6bnVsbH1yZW1vdmVCdXR0b25DYWxsYmFjayhhKXt0aGlzLmZseW91dEJ1dHRvbkNhbGxiYWNrcy5kZWxldGUoYSl9cmVnaXN0ZXJUb29sYm94Q2F0ZWdvcnlDYWxsYmFjayhhLGIpe2lmKHR5cGVvZiBiIT09XCJmdW5jdGlvblwiKXRocm93IFR5cGVFcnJvcihcIlRvb2xib3ggY2F0ZWdvcnkgY2FsbGJhY2tzIG11c3QgYmUgZnVuY3Rpb25zLlwiKTt0aGlzLnRvb2xib3hDYXRlZ29yeUNhbGxiYWNrcy5zZXQoYSxiKX1nZXRUb29sYm94Q2F0ZWdvcnlDYWxsYmFjayhhKXtyZXR1cm4gdGhpcy50b29sYm94Q2F0ZWdvcnlDYWxsYmFja3MuZ2V0KGEpfHxudWxsfXJlbW92ZVRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKGEpe3RoaXMudG9vbGJveENhdGVnb3J5Q2FsbGJhY2tzLmRlbGV0ZShhKX1nZXRHZXN0dXJlKGEpe2lmKHRoaXMua2V5Ym9hcmRNb3ZlSW5Qcm9ncmVzcylyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksXG5udWxsO2NvbnN0IGI9YS50eXBlPT09XCJwb2ludGVyZG93blwiO2xldCBjO2ImJigoYz10aGlzLmN1cnJlbnRHZXN0dXJlXyk9PW51bGw/MDpjLmhhc1N0YXJ0ZWQoKSkmJihjb25zb2xlLndhcm4oXCJUcmllZCB0byBzdGFydCB0aGUgc2FtZSBnZXN0dXJlIHR3aWNlLlwiKSx0aGlzLmN1cnJlbnRHZXN0dXJlXy5jYW5jZWwoKSk7IXRoaXMuY3VycmVudEdlc3R1cmVfJiZiJiYodGhpcy5jdXJyZW50R2VzdHVyZV89bmV3IEdlc3R1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlKGEsdGhpcykpO3JldHVybiB0aGlzLmN1cnJlbnRHZXN0dXJlX31jbGVhckdlc3R1cmUoKXt0aGlzLmN1cnJlbnRHZXN0dXJlXz1udWxsfWNhbmNlbEN1cnJlbnRHZXN0dXJlKCl7dGhpcy5jdXJyZW50R2VzdHVyZV8mJnRoaXMuY3VycmVudEdlc3R1cmVfLmNhbmNlbCgpfWdldEF1ZGlvTWFuYWdlcigpe3JldHVybiB0aGlzLmF1ZGlvTWFuYWdlcn1nZXRHcmlkKCl7cmV0dXJuIHRoaXMuZ3JpZH1oaWRlQ2hhZmYoYT1cbiExKXtoaWRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbHRpcCgpO2hpZGVJZk93bmVySXNJbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzKTtoaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCk7dGhpcy5oaWRlQ29tcG9uZW50cyhhKX1oaWRlQ29tcG9uZW50cyhhPSExKXt0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKS5nZXRDb21wb25lbnRzKENvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5DYXBhYmlsaXR5LkFVVE9ISURFQUJMRSwhMCkuZm9yRWFjaChiPT5iLmF1dG9IaWRlKGEpKX1zdGF0aWMgc2V0VG9wTGV2ZWxXb3Jrc3BhY2VNZXRyaWNzKGEpe2NvbnN0IGI9dGhpcy5nZXRNZXRyaWNzKCk7dHlwZW9mIGEueD09PVwibnVtYmVyXCImJih0aGlzLnNjcm9sbFg9LShiLnNjcm9sbExlZnQrKGIuc2Nyb2xsV2lkdGgtYi52aWV3V2lkdGgpKlxuYS54KSk7dHlwZW9mIGEueT09PVwibnVtYmVyXCImJih0aGlzLnNjcm9sbFk9LShiLnNjcm9sbFRvcCsoYi5zY3JvbGxIZWlnaHQtYi52aWV3SGVpZ2h0KSphLnkpKTt0aGlzLnRyYW5zbGF0ZSh0aGlzLnNjcm9sbFgrYi5hYnNvbHV0ZUxlZnQsdGhpcy5zY3JvbGxZK2IuYWJzb2x1dGVUb3ApfWFkZENsYXNzKGEpe3RoaXMuaW5qZWN0aW9uRGl2JiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmluamVjdGlvbkRpdixhKX1yZW1vdmVDbGFzcyhhKXt0aGlzLmluamVjdGlvbkRpdiYmcmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5pbmplY3Rpb25EaXYsYSl9c2V0SXNSZWFkT25seShhKXtzdXBlci5zZXRJc1JlYWRPbmx5KGEpO2E/dGhpcy5hZGRDbGFzcyhcImJsb2NrbHlSZWFkT25seVwiKTp0aGlzLnJlbW92ZUNsYXNzKFwiYmxvY2tseVJlYWRPbmx5XCIpfXNjcm9sbEJvdW5kc0ludG9WaWV3KGEsYj0xMCl7aWYoIUdlc3R1cmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZXN0dXJlLmluUHJvZ3Jlc3MoKSl7dmFyIGM9XG50aGlzLmdldFNjYWxlKCksZD10aGlzLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0Vmlld01ldHJpY3MoITApO2Q9bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGQudG9wLGQudG9wK2QuaGVpZ2h0LGQubGVmdCxkLmxlZnQrZC53aWR0aCk7aWYoIShhLmxlZnQ+PWQubGVmdCYmYS50b3A+PWQudG9wJiZhLnJpZ2h0PD1kLnJpZ2h0JiZhLmJvdHRvbTw9ZC5ib3R0b20pKXthPWEuY2xvbmUoKTthLnRvcC09YjthLmJvdHRvbSs9YjthLmxlZnQtPWI7YS5yaWdodCs9Yjt2YXIgZT1iPTA7YS5sZWZ0PGQubGVmdD9iPXRoaXMuUlRMP01hdGgubWluKGQubGVmdC1hLmxlZnQsZC5yaWdodC1hLnJpZ2h0KTpkLmxlZnQtYS5sZWZ0OmEucmlnaHQ+ZC5yaWdodCYmKGI9dGhpcy5SVEw/ZC5yaWdodC1hLnJpZ2h0Ok1hdGgubWF4KGQucmlnaHQtYS5yaWdodCxkLmxlZnQtYS5sZWZ0KSk7YS50b3A8ZC50b3A/ZT1kLnRvcC1hLnRvcDphLmJvdHRvbT5kLmJvdHRvbSYmKGU9XG5NYXRoLm1heChkLmJvdHRvbS1hLmJvdHRvbSxkLnRvcC1hLnRvcCkpO3RoaXMuc2Nyb2xsKHRoaXMuc2Nyb2xsWCtiKmMsdGhpcy5zY3JvbGxZK2UqYyl9fX1nZXRGb2N1c2FibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuc3ZnR3JvdXBffWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpcy5pc011dGF0b3ImJnRoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2V8fHRoaXN9b25Ob2RlRm9jdXMoKXt9b25Ob2RlQmx1cigpe31jYW5CZUZvY3VzZWQoKXtyZXR1cm4hMH1nZXRSb290Rm9jdXNhYmxlTm9kZSgpe3JldHVybiB0aGlzfWdldFJlc3RvcmVkRm9jdXNhYmxlTm9kZShhKXtpZihhKXJldHVybiBudWxsO2xldCBiO2E9KGI9dGhpcy50YXJnZXRXb3Jrc3BhY2UpPT1udWxsP3ZvaWQgMDpiLmdldEZseW91dCgpO2lmKHRoaXMuaXNGbHlvdXQmJmEpe2xldCBkLGU7cmV0dXJuKGU9KGQ9YS5nZXRDb250ZW50cygpLmZpbmQoZj0+e2Y9Zi5nZXRFbGVtZW50KCk7cmV0dXJuIGlzRm9jdXNhYmxlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfbm9kZShmKSYmXG5mLmNhbkJlRm9jdXNlZCgpfSkpPT1udWxsP3ZvaWQgMDpkLmdldEVsZW1lbnQoKSkhPW51bGw/ZTpudWxsfWxldCBjO3JldHVybihjPXRoaXMuZ2V0VG9wQmxvY2tzKCEwKVswXSkhPW51bGw/YzpudWxsfWdldE5lc3RlZFRyZWVzKCl7Y29uc3QgYT10aGlzLmdldEFsbEJsb2NrcygpLm1hcChjPT5jLmdldEljb25zKCkpLmZsYXQoKS5maWx0ZXIoYz0+YyBpbnN0YW5jZW9mICQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24mJmMuYnViYmxlSXNWaXNpYmxlKCkpLm1hcChjPT57bGV0IGQ7cmV0dXJuKGQ9Yy5nZXRCdWJibGUoKSk9PW51bGw/dm9pZCAwOmQuZ2V0V29ya3NwYWNlKCl9KS5maWx0ZXIoYz0+ISFjKSxiPXRoaXMuZ2V0Rmx5b3V0KCEwKTtiJiZhLnB1c2goYi5nZXRXb3Jrc3BhY2UoKSk7cmV0dXJuIGF9c2VhcmNoRm9yV29ya3NwYWNlQ29tbWVudChhKXtmb3IoY29uc3QgYiBvZiB0aGlzLmdldFRvcENvbW1lbnRzKCkpaWYoYiBpbnN0YW5jZW9mXG5SZW5kZXJlZFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRyZW5kZXJlZF93b3Jrc3BhY2VfY29tbWVudCYmYi5jYW5CZUZvY3VzZWQoKSYmYi5nZXRGb2N1c2FibGVFbGVtZW50KCkuaWQ9PT1hKXJldHVybiBifWxvb2tVcEZvY3VzYWJsZU5vZGUoYSl7dmFyIGI7Y29uc3QgYz0oYj10aGlzLnRhcmdldFdvcmtzcGFjZSk9PW51bGw/dm9pZCAwOmIuZ2V0Rmx5b3V0KCk7aWYodGhpcy5pc0ZseW91dCYmYylmb3IodmFyIGQgb2YgYy5nZXRDb250ZW50cygpKWlmKGI9ZC5nZXRFbGVtZW50KCksaXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlKGIpJiZiLmNhbkJlRm9jdXNlZCgpJiZiLmdldEZvY3VzYWJsZUVsZW1lbnQoKS5pZD09PWEpcmV0dXJuIGI7ZD1hLmluZGV4T2YoXCJfZmllbGRfXCIpO2I9YS5pbmRleE9mKFwiX2Nvbm5lY3Rpb25fXCIpO2lmKGQhPT0tMSl7dmFyIGU9YS5zdWJzdHJpbmcoMCxcbmQpO2lmKGU9dGhpcy5nZXRCbG9ja0J5SWQoZSkpZm9yKHZhciBmIG9mIGUuZ2V0RmllbGRzKCkpaWYoZi5jYW5CZUZvY3VzZWQoKSYmZi5nZXRGb2N1c2FibGVFbGVtZW50KCkuaWQ9PT1hKXJldHVybiBmO3JldHVybiBudWxsfWlmKGIhPT0tMSl7ZT1hLnN1YnN0cmluZygwLGIpO2lmKGU9dGhpcy5nZXRCbG9ja0J5SWQoZSkpZm9yKGNvbnN0IGggb2YgZS5nZXRDb25uZWN0aW9uc18oITApKWlmKGguaWQ9PT1hKXJldHVybiBoO3JldHVybiBudWxsfWY9TWF0aC5tYXgoYS5pbmRleE9mKENPTU1FTlRfRURJVE9SX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvciksYS5pbmRleE9mKENPTU1FTlRfQ09MTEFQU0VfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29sbGFwc2VfY29tbWVudF9iYXJfYnV0dG9uKSxhLmluZGV4T2YoQ09NTUVOVF9ERUxFVEVfQkFSX0JVVFRPTl9GT0NVU19JREVOVElGSUVSJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbikpO1xuaWYoZiE9PS0xJiYoZj1hLnN1YnN0cmluZygwLGYpLGY9dGhpcy5zZWFyY2hGb3JXb3Jrc3BhY2VDb21tZW50KGYpKSl7aWYoYS5pbmRleE9mKENPTU1FTlRfRURJVE9SX0ZPQ1VTX0lERU5USUZJRVIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcik+LTEpcmV0dXJuIGYuZ2V0RWRpdG9yRm9jdXNhYmxlTm9kZSgpO3ZhciBnO3JldHVybihnPWYudmlldy5nZXRDb21tZW50QmFyQnV0dG9ucygpLmZpbmQoaD0+aC5nZXRGb2N1c2FibGVFbGVtZW50KCkuaWQuaW5jbHVkZXMoYSkpKSE9bnVsbD9nOm51bGx9aWYoKGc9dGhpcy5nZXRBbGxCbG9ja3MoITEpLmZpbmQoaD0+aC5nZXRGb2N1c2FibGVFbGVtZW50KCkuaWQ9PT1hKSl8fChnPXRoaXMuc2VhcmNoRm9yV29ya3NwYWNlQ29tbWVudChhKSkpcmV0dXJuIGc7Zz10aGlzLmdldEFsbEJsb2NrcygpLm1hcChoPT5oLmdldEljb25zKCkpLmZsYXQoKTtmb3IoZSBvZiBnKXtpZihlLmNhbkJlRm9jdXNlZCgpJiZcbmUuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLmlkPT09YSlyZXR1cm4gZTtpZihoYXNCdWJibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfaGFzX2J1YmJsZShlKSl7aWYoKGc9ZS5nZXRCdWJibGUoKSkmJmcuY2FuQmVGb2N1c2VkKCkmJmcuZ2V0Rm9jdXNhYmxlRWxlbWVudCgpLmlkPT09YSlyZXR1cm4gZztpZihnIGluc3RhbmNlb2YgVGV4dElucHV0QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0aW5wdXRfYnViYmxlJiZnLmdldEVkaXRvcigpLmdldEZvY3VzYWJsZUVsZW1lbnQoKS5pZD09PWEpcmV0dXJuIGcuZ2V0RWRpdG9yKCl9fXJldHVybiBudWxsfW9uVHJlZUZvY3VzKGEsYil7fW9uVHJlZUJsdXIoYSl7aWYodGhpcy5pc0ZseW91dCYmdGhpcy50YXJnZXRXb3Jrc3BhY2UmJiEkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5lcGhlbWVyYWxGb2N1c1Rha2VuKCkpe3ZhciBiPVxudGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0VG9vbGJveCgpO2ImJmE9PT1ifHxpc0F1dG9IaWRlYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9hdXRvaGlkZWFibGUoYikmJmIuYXV0b0hpZGUoITEpfX1nZXROYXZpZ2F0b3IoKXtyZXR1cm4gdGhpcy5uYXZpZ2F0b3J9c2V0TmF2aWdhdG9yKGEpe3RoaXMubmF2aWdhdG9yPWF9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5Xb3Jrc3BhY2VTdmc9V29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5yZXNpemVTdmdDb250ZW50cz1yZXNpemVTdmdDb250ZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc7dmFyIFZhckJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNlPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0e2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5pc0JsYW5rPXR5cGVvZiBhPT09XCJ1bmRlZmluZWRcIjthJiYodGhpcy52YXJJZD1hLmdldElkKCksdGhpcy53b3Jrc3BhY2VJZD1hLmdldFdvcmtzcGFjZSgpLmlkKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLnZhcklkKXRocm93IEVycm9yKFwiVGhlIHZhciBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2EudmFySWQ9dGhpcy52YXJJZDtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVmFyQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2UpO1xuYi52YXJJZD1hLnZhcklkO3JldHVybiBifX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2UuVmFyQmFzZT1WYXJCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfYmFzZTt2YXIgVmFyQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfY3JlYXRlPWNsYXNzIGV4dGVuZHMgVmFyQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9DUkVBVEU7YSYmKHRoaXMudmFyVHlwZT1hLmdldFR5cGUoKSx0aGlzLnZhck5hbWU9YS5nZXROYW1lKCkpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy52YXJUeXBlPT09dm9pZCAwKXRocm93IEVycm9yKFwiVGhlIHZhciB0eXBlIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMudmFyTmFtZSl0aHJvdyBFcnJvcihcIlRoZSB2YXIgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuYS52YXJUeXBlPXRoaXMudmFyVHlwZTthLnZhck5hbWU9dGhpcy52YXJOYW1lO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBWYXJDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9jcmVhdGUpO2IudmFyVHlwZT1hLnZhclR5cGU7Yi52YXJOYW1lPWEudmFyTmFtZTtyZXR1cm4gYn1ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy52YXJJZCl0aHJvdyBFcnJvcihcIlRoZSB2YXIgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy52YXJOYW1lKXRocm93IEVycm9yKFwiVGhlIHZhciBuYW1lIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7Yj1iLmdldFZhcmlhYmxlTWFwKCk7XG5hP2IuY3JlYXRlVmFyaWFibGUodGhpcy52YXJOYW1lLHRoaXMudmFyVHlwZSx0aGlzLnZhcklkKTooYT1iLmdldFZhcmlhYmxlQnlJZCh0aGlzLnZhcklkKSkmJmIuZGVsZXRlVmFyaWFibGUoYSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFLFZhckNyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2NyZWF0ZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9jcmVhdGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2NyZWF0ZS5WYXJDcmVhdGU9VmFyQ3JlYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfY3JlYXRlO3ZhciBWYXJpYWJsZU1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbW9kZWw9Y2xhc3N7Y29uc3RydWN0b3IoYSxiLGMsZCl7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLm5hbWU9Yjt0aGlzLnR5cGU9Y3x8XCJcIjt0aGlzLmlkPWR8fGdlblVpZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCl9Z2V0SWQoKXtyZXR1cm4gdGhpcy5pZH1nZXROYW1lKCl7cmV0dXJuIHRoaXMubmFtZX1zZXROYW1lKGEpe3RoaXMubmFtZT1hO3JldHVybiB0aGlzfWdldFR5cGUoKXtyZXR1cm4gdGhpcy50eXBlfXNldFR5cGUoYSl7dGhpcy50eXBlPWE7cmV0dXJuIHRoaXN9Z2V0V29ya3NwYWNlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlfXNhdmUoKXtjb25zdCBhPXtuYW1lOnRoaXMuZ2V0TmFtZSgpLGlkOnRoaXMuZ2V0SWQoKX0sYj10aGlzLmdldFR5cGUoKTtiJiYoYS50eXBlPWIpO3JldHVybiBhfXN0YXRpYyBsb2FkKGEsYil7YT1uZXcgdGhpcyhiLGEubmFtZSxcbmEudHlwZSxhLmlkKTtiLmdldFZhcmlhYmxlTWFwKCkuYWRkVmFyaWFibGUoYSk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfQ1JFQVRFKSkoYSkpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVkFSSUFCTEVfTU9ERUwsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LFZhcmlhYmxlTW9kZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZV9tb2RlbCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZV9tb2RlbD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbW9kZWwuVmFyaWFibGVNb2RlbD1WYXJpYWJsZU1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbW9kZWw7dmFyIFZhckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2RlbGV0ZT1jbGFzcyBleHRlbmRzIFZhckJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfREVMRVRFO2EmJih0aGlzLnZhclR5cGU9YS5nZXRUeXBlKCksdGhpcy52YXJOYW1lPWEuZ2V0TmFtZSgpKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKHRoaXMudmFyVHlwZT09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSB2YXIgdHlwZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLnZhck5hbWUpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEudmFyVHlwZT10aGlzLnZhclR5cGU7YS52YXJOYW1lPXRoaXMudmFyTmFtZTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVmFyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfZGVsZXRlKTtiLnZhclR5cGU9YS52YXJUeXBlO2IudmFyTmFtZT1hLnZhck5hbWU7cmV0dXJuIGJ9cnVuKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMudmFySWQpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMudmFyTmFtZSl0aHJvdyBFcnJvcihcIlRoZSB2YXIgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFyaWFibGUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2I9Yi5nZXRWYXJpYWJsZU1hcCgpO1xuYT8oYT1iLmdldFZhcmlhYmxlQnlJZCh0aGlzLnZhcklkKSkmJmIuZGVsZXRlVmFyaWFibGUoYSk6Yi5jcmVhdGVWYXJpYWJsZSh0aGlzLnZhck5hbWUsdGhpcy52YXJUeXBlLHRoaXMudmFySWQpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0RFTEVURSxWYXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9kZWxldGUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfZGVsZXRlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9kZWxldGUuVmFyRGVsZXRlPVZhckRlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2RlbGV0ZTt2YXIgVmFyUmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfcmVuYW1lPWNsYXNzIGV4dGVuZHMgVmFyQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2Jhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX1JFTkFNRTthJiYodGhpcy5vbGROYW1lPWEuZ2V0TmFtZSgpLHRoaXMubmV3TmFtZT10eXBlb2YgYj09PVwidW5kZWZpbmVkXCI/XCJcIjpiKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLm9sZE5hbWUpdGhyb3cgRXJyb3IoXCJUaGUgb2xkIHZhciBuYW1lIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMubmV3TmFtZSl0aHJvdyBFcnJvcihcIlRoZSBuZXcgdmFyIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEub2xkTmFtZT10aGlzLm9sZE5hbWU7YS5uZXdOYW1lPXRoaXMubmV3TmFtZTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVmFyUmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfcmVuYW1lKTtiLm9sZE5hbWU9YS5vbGROYW1lO2IubmV3TmFtZT1hLm5ld05hbWU7cmV0dXJuIGJ9cnVuKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMudmFySWQpdGhyb3cgRXJyb3IoXCJUaGUgdmFyIElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YXJpYWJsZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMub2xkTmFtZSl0aHJvdyBFcnJvcihcIlRoZSBvbGQgdmFyIG5hbWUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5uZXdOYW1lKXRocm93IEVycm9yKFwiVGhlIG5ldyB2YXIgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuYj1iLmdldFZhcmlhYmxlTWFwKCk7Y29uc3QgYz1iLmdldFZhcmlhYmxlQnlJZCh0aGlzLnZhcklkKTthP2MmJmIucmVuYW1lVmFyaWFibGUoYyx0aGlzLm5ld05hbWUpOmMmJmIucmVuYW1lVmFyaWFibGUoYyx0aGlzLm9sZE5hbWUpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX1JFTkFNRSxWYXJSZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9yZW5hbWUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfcmVuYW1lPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9yZW5hbWUuVmFyUmVuYW1lPVZhclJlbmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3JlbmFtZTt2YXIgVmFyaWFibGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZV9tYXA9Y2xhc3N7Y29uc3RydWN0b3IoYSxiPSExKXt0aGlzLndvcmtzcGFjZT1hO3RoaXMucG90ZW50aWFsTWFwPWI7dGhpcy52YXJpYWJsZU1hcD1uZXcgTWFwfWNsZWFyKCl7Zm9yKGNvbnN0IGEgb2YgdGhpcy52YXJpYWJsZU1hcC52YWx1ZXMoKSlmb3IoY29uc3QgYiBvZiBhLnZhbHVlcygpKXRoaXMuZGVsZXRlVmFyaWFibGUoYik7aWYodGhpcy52YXJpYWJsZU1hcC5zaXplIT09MCl0aHJvdyBFcnJvcihcIk5vbi1lbXB0eSB2YXJpYWJsZSBtYXBcIik7fXJlbmFtZVZhcmlhYmxlKGEsYil7aWYoYS5nZXROYW1lKCk9PT1iKXJldHVybiBhO3ZhciBjPWEuZ2V0VHlwZSgpO2M9dGhpcy5nZXRWYXJpYWJsZShiLGMpO2NvbnN0IGQ9dGhpcy53b3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKCExKTtsZXQgZT1cIlwiO3RoaXMucG90ZW50aWFsTWFwfHwoZT0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpfHxcbiQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3RyeXtjJiZjLmdldElkKCkhPT1hLmdldElkKCk/dGhpcy5yZW5hbWVWYXJpYWJsZVdpdGhDb25mbGljdChhLGIsYyxkKTp0aGlzLnJlbmFtZVZhcmlhYmxlQW5kVXNlcyhhLGIsZCl9ZmluYWxseXt0aGlzLnBvdGVudGlhbE1hcHx8JC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhlKX1yZXR1cm4gYX1jaGFuZ2VWYXJpYWJsZVR5cGUoYSxiKXtjb25zdCBjPWEuZ2V0VHlwZSgpO2lmKGM9PT1iKXJldHVybiBhO3ZhciBkOyhkPXRoaXMudmFyaWFibGVNYXAuZ2V0KGEuZ2V0VHlwZSgpKSk9PW51bGx8fGQuZGVsZXRlKGEuZ2V0SWQoKSk7YS5zZXRUeXBlKGIpO2xldCBlO2Q9KGU9dGhpcy52YXJpYWJsZU1hcC5nZXQoYikpIT1udWxsP2U6bmV3IE1hcDtkLnNldChhLmdldElkKCksYSk7dGhpcy52YXJpYWJsZU1hcC5oYXMoYil8fHRoaXMudmFyaWFibGVNYXAuc2V0KGIsXG5kKTtmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9UWVBFX0NIQU5HRSkpKGEsYyxiKSk7cmV0dXJuIGF9cmVuYW1lVmFyaWFibGVCeUlkKGEsYil7d2FybiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRlcHJlY2F0aW9uKFwiVmFyaWFibGVNYXAucmVuYW1lVmFyaWFibGVCeUlkXCIsXCJ2MTJcIixcInYxM1wiLFwiVmFyaWFibGVNYXAucmVuYW1lVmFyaWFibGVcIik7Y29uc3QgYz10aGlzLmdldFZhcmlhYmxlQnlJZChhKTtpZighYyl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIHJlbmFtZSBhIHZhcmlhYmxlIHRoYXQgZGlkbid0IGV4aXN0LiBJRDogXCIrYSk7dGhpcy5yZW5hbWVWYXJpYWJsZShjLGIpfXJlbmFtZVZhcmlhYmxlQW5kVXNlcyhhLGIsYyl7dGhpcy5wb3RlbnRpYWxNYXB8fGZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX1JFTkFNRSkpKGEsXG5iKSk7YS5zZXROYW1lKGIpO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspY1tiXS51cGRhdGVWYXJOYW1lKGEpfXJlbmFtZVZhcmlhYmxlV2l0aENvbmZsaWN0KGEsYixjLGQpe2NvbnN0IGU9YS5nZXRUeXBlKCksZj1jLmdldE5hbWUoKTtiIT09ZiYmdGhpcy5yZW5hbWVWYXJpYWJsZUFuZFVzZXMoYyxiLGQpO2ZvcihiPTA7YjxkLmxlbmd0aDtiKyspZFtiXS5yZW5hbWVWYXJCeUlkKGEuZ2V0SWQoKSxjLmdldElkKCkpO3RoaXMucG90ZW50aWFsTWFwfHxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9ERUxFVEUpKShhKSk7bGV0IGc7KGc9dGhpcy52YXJpYWJsZU1hcC5nZXQoZSkpPT1udWxsfHxnLmRlbGV0ZShhLmdldElkKCkpfWNyZWF0ZVZhcmlhYmxlKGEsYixjKXt2YXIgZD10aGlzLmdldFZhcmlhYmxlKGEsXG5iKTtpZihkKXtpZihjJiZkLmdldElkKCkhPT1jKXRocm93IEVycm9yKCdWYXJpYWJsZSBcIicrYSsnXCIgaXMgYWxyZWFkeSBpbiB1c2UgYW5kIGl0cyBpZCBpcyBcIicrZC5nZXRJZCgpKydcIiB3aGljaCBjb25mbGljdHMgd2l0aCB0aGUgcGFzc2VkIGluIGlkLCBcIicrYysnXCIuJyk7cmV0dXJuIGR9aWYoYyYmdGhpcy5nZXRWYXJpYWJsZUJ5SWQoYykpdGhyb3cgRXJyb3IoJ1ZhcmlhYmxlIGlkLCBcIicrYysnXCIsIGlzIGFscmVhZHkgaW4gdXNlLicpO2Q9Y3x8Z2VuVWlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkaWRnZW5lcmF0b3IoKTtiPWJ8fFwiXCI7Yz1nZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlZBUklBQkxFX01PREVMLHRoaXMud29ya3NwYWNlLm9wdGlvbnMsITApO2lmKCFjKXRocm93IEVycm9yKFwiTm8gdmFyaWFibGUgbW9kZWwgaXMgcmVnaXN0ZXJlZC5cIik7XG5kPW5ldyBjKHRoaXMud29ya3NwYWNlLGEsYixkKTtsZXQgZTthPShlPXRoaXMudmFyaWFibGVNYXAuZ2V0KGIpKSE9bnVsbD9lOm5ldyBNYXA7YS5zZXQoZC5nZXRJZCgpLGQpO3RoaXMudmFyaWFibGVNYXAuaGFzKGIpfHx0aGlzLnZhcmlhYmxlTWFwLnNldChiLGEpO3RoaXMucG90ZW50aWFsTWFwfHxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9DUkVBVEUpKShkKSk7cmV0dXJuIGR9YWRkVmFyaWFibGUoYSl7Y29uc3QgYj1hLmdldFR5cGUoKTt0aGlzLnZhcmlhYmxlTWFwLmhhcyhiKXx8dGhpcy52YXJpYWJsZU1hcC5zZXQoYixuZXcgTWFwKTtsZXQgYzsoYz10aGlzLnZhcmlhYmxlTWFwLmdldChiKSk9PW51bGx8fGMuc2V0KGEuZ2V0SWQoKSxhKX1kZWxldGVWYXJpYWJsZShhKXtjb25zdCBiPVxuZ2V0VmFyaWFibGVVc2VzQnlJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyh0aGlzLndvcmtzcGFjZSxhLmdldElkKCkpO2xldCBjPVwiXCI7dGhpcy5wb3RlbnRpYWxNYXB8fChjPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSl8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApO3RyeXtmb3IobGV0IGU9MDtlPGIubGVuZ3RoO2UrKyliW2VdLmRpc3Bvc2UoITApO2NvbnN0IGQ9dGhpcy52YXJpYWJsZU1hcC5nZXQoYS5nZXRUeXBlKCkpO2QmJmQuaGFzKGEuZ2V0SWQoKSkmJihkLmRlbGV0ZShhLmdldElkKCkpLHRoaXMucG90ZW50aWFsTWFwfHxmaXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKG5ldyAoZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9ERUxFVEUpKShhKSksXG5kLnNpemU9PT0wJiZ0aGlzLnZhcmlhYmxlTWFwLmRlbGV0ZShhLmdldFR5cGUoKSkpfWZpbmFsbHl7dGhpcy5wb3RlbnRpYWxNYXB8fCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYyl9fWRlbGV0ZVZhcmlhYmxlQnlJZChhKXt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJWYXJpYWJsZU1hcC5kZWxldGVWYXJpYWJsZUJ5SWRcIixcInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LlZhcmlhYmxlcy5kZWxldGVWYXJpYWJsZVwiKTsoYT10aGlzLmdldFZhcmlhYmxlQnlJZChhKSkmJiQuZGVsZXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXModGhpcy53b3Jrc3BhY2UsYSl9Z2V0VmFyaWFibGUoYSxiKXtiPXRoaXMudmFyaWFibGVNYXAuZ2V0KGJ8fFwiXCIpO2lmKCFiKXJldHVybiBudWxsO2xldCBjO3JldHVybihjPVsuLi5iLnZhbHVlcygpXS5maW5kKGQ9PiQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoZC5nZXROYW1lKCksXG5hKSkpIT1udWxsP2M6bnVsbH1nZXRWYXJpYWJsZUJ5SWQoYSl7Zm9yKGNvbnN0IGIgb2YgdGhpcy52YXJpYWJsZU1hcC52YWx1ZXMoKSlpZihiLmhhcyhhKSl7bGV0IGM7cmV0dXJuKGM9Yi5nZXQoYSkpIT1udWxsP2M6bnVsbH1yZXR1cm4gbnVsbH1nZXRWYXJpYWJsZXNPZlR5cGUoYSl7cmV0dXJuKGE9dGhpcy52YXJpYWJsZU1hcC5nZXQoYXx8XCJcIikpP1suLi5hLnZhbHVlcygpXTpbXX1nZXRUeXBlcygpe3JldHVyblsuLi50aGlzLnZhcmlhYmxlTWFwLmtleXMoKV19Z2V0QWxsVmFyaWFibGVzKCl7bGV0IGE9W107Zm9yKGNvbnN0IGIgb2YgdGhpcy52YXJpYWJsZU1hcC52YWx1ZXMoKSlhPWEuY29uY2F0KC4uLmIudmFsdWVzKCkpO3JldHVybiBhfWdldEFsbFZhcmlhYmxlTmFtZXMoKXt3YXJuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZGVwcmVjYXRpb24oXCJWYXJpYWJsZU1hcC5nZXRBbGxWYXJpYWJsZU5hbWVzXCIsXCJ2MTJcIixcInYxM1wiLFwiQmxvY2tseS5WYXJpYWJsZXMuZ2V0QWxsVmFyaWFibGVzXCIpO1xuY29uc3QgYT1bXTtmb3IoY29uc3QgYiBvZiB0aGlzLnZhcmlhYmxlTWFwLnZhbHVlcygpKWZvcihjb25zdCBjIG9mIGIudmFsdWVzKCkpYS5wdXNoKGMuZ2V0TmFtZSgpKTtyZXR1cm4gYX1nZXRWYXJpYWJsZVVzZXNCeUlkKGEpe3dhcm4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkZXByZWNhdGlvbihcIlZhcmlhYmxlTWFwLmdldFZhcmlhYmxlVXNlc0J5SWRcIixcInYxMlwiLFwidjEzXCIsXCJCbG9ja2x5LlZhcmlhYmxlcy5nZXRWYXJpYWJsZVVzZXNCeUlkXCIpO3JldHVybiBnZXRWYXJpYWJsZVVzZXNCeUlkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMud29ya3NwYWNlLGEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVkFSSUFCTEVfTUFQLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxWYXJpYWJsZU1hcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21hcCk7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlX21hcD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbWFwLlZhcmlhYmxlTWFwPVZhcmlhYmxlTWFwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbWFwO3ZhciBUcmFzaGNhbk9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RyYXNoY2FuX29wZW49Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihiKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVFJBU0hDQU5fT1BFTjt0aGlzLmlzT3Blbj1hfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy5pc09wZW49PT12b2lkIDApdGhyb3cgRXJyb3IoXCJXaGV0aGVyIHRoaXMgaXMgYWxyZWFkeSBvcGVuIG9yIG5vdCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2EuaXNPcGVuPXRoaXMuaXNPcGVuO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9cbmM6bmV3IFRyYXNoY2FuT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdHJhc2hjYW5fb3Blbik7Yi5pc09wZW49YS5pc09wZW47cmV0dXJuIGJ9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5UUkFTSENBTl9PUEVOLFRyYXNoY2FuT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdHJhc2hjYW5fb3Blbik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RyYXNoY2FuX29wZW49e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdHJhc2hjYW5fb3Blbi5UcmFzaGNhbk9wZW49VHJhc2hjYW5PcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190cmFzaGNhbl9vcGVuO3ZhciBUcmFzaGNhbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPWNsYXNzIGV4dGVuZHMgRGVsZXRlQXJlYSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRlbGV0ZV9hcmVhe2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLmlkPVwidHJhc2hjYW5cIjt0aGlzLmNvbnRlbnRzPVtdO3RoaXMuZmx5b3V0PW51bGw7dGhpcy5pc0xpZE9wZW49ITE7dGhpcy5taW5PcGVubmVzcz0wO3RoaXMubGlkVGFzaz10aGlzLnN2Z0xpZD10aGlzLnN2Z0dyb3VwPW51bGw7dGhpcy50b3A9dGhpcy5sZWZ0PXRoaXMubGlkT3Blbj0wO3RoaXMuaW5pdGlhbGl6ZWQ9ITE7dGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5tYXhUcmFzaGNhbkNvbnRlbnRzPD0wfHwoYT10aGlzLndvcmtzcGFjZS5jb3B5T3B0aW9uc0ZvckZseW91dCgpLHRoaXMud29ya3NwYWNlLmhvcml6b250YWxMYXlvdXQ/KGEudG9vbGJveFBvc2l0aW9uPXRoaXMud29ya3NwYWNlLnRvb2xib3hQb3NpdGlvbj09PVxuUG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlRPUD9Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guQk9UVE9NOlBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1AsdGhpcy5mbHlvdXQ9bmV3IChnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVFNfSE9SSVpPTlRBTF9UT09MQk9YLHRoaXMud29ya3NwYWNlLm9wdGlvbnMsITApKShhKSk6KGEudG9vbGJveFBvc2l0aW9uPXRoaXMud29ya3NwYWNlLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5SSUdIVD9Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVDpQb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guUklHSFQsXG50aGlzLmZseW91dD1uZXcgKGdldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19WRVJUSUNBTF9UT09MQk9YLHRoaXMud29ya3NwYWNlLm9wdGlvbnMsITApKShhKSksdGhpcy53b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkRlbGV0ZS5iaW5kKHRoaXMpKSl9Y3JlYXRlRG9tKCl7dGhpcy5zdmdHcm91cD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5HLHtcImNsYXNzXCI6XCJibG9ja2x5VHJhc2hcIn0pO2xldCBhO2NvbnN0IGI9U3RyaW5nKE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKTthPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkNMSVBQQVRILFxue2lkOlwiYmxvY2tseVRyYXNoQm9keUNsaXBQYXRoXCIrYn0sdGhpcy5zdmdHcm91cCk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuUkVDVCx7d2lkdGg6V0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixoZWlnaHQ6Qk9EWV9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbix5OkxJRF9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbn0sYSk7Y29uc3QgYz1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSx7d2lkdGg6U1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy53aWR0aCx4Oi1TUFJJVEVfTEVGVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLGhlaWdodDpTUFJJVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzcHJpdGVzLmhlaWdodCxcbnk6LVNQUklURV9UT1AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixcImNsaXAtcGF0aFwiOlwidXJsKCNibG9ja2x5VHJhc2hCb2R5Q2xpcFBhdGhcIitiK1wiKVwifSx0aGlzLnN2Z0dyb3VwKTtjLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLHRoaXMud29ya3NwYWNlLm9wdGlvbnMucGF0aFRvTWVkaWErU1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy51cmwpO2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuQ0xJUFBBVEgse2lkOlwiYmxvY2tseVRyYXNoTGlkQ2xpcFBhdGhcIitifSx0aGlzLnN2Z0dyb3VwKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5SRUNULHt3aWR0aDpXSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLFxuaGVpZ2h0OkxJRF9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbn0sYSk7dGhpcy5zdmdMaWQ9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuSU1BR0Use3dpZHRoOlNQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMud2lkdGgseDotU1BSSVRFX0xFRlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixoZWlnaHQ6U1BSSVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc3ByaXRlcy5oZWlnaHQseTotU1BSSVRFX1RPUCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLFwiY2xpcC1wYXRoXCI6XCJ1cmwoI2Jsb2NrbHlUcmFzaExpZENsaXBQYXRoXCIrYitcIilcIn0sdGhpcy5zdmdHcm91cCk7dGhpcy5zdmdMaWQuc2V0QXR0cmlidXRlTlMoWExJTktfTlMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20sXCJ4bGluazpocmVmXCIsXG50aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhdGhUb01lZGlhK1NQUklURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNwcml0ZXMudXJsKTtiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cCxcInBvaW50ZXJkb3duXCIsdGhpcyx0aGlzLmJsb2NrTW91c2VEb3duV2hlbk9wZW5hYmxlKTtiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5zdmdHcm91cCxcInBvaW50ZXJ1cFwiLHRoaXMsdGhpcy5jbGljayk7YmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGMsXCJwb2ludGVyb3ZlclwiLHRoaXMsdGhpcy5tb3VzZU92ZXIpO2JpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhjLFwicG9pbnRlcm91dFwiLHRoaXMsdGhpcy5tb3VzZU91dCk7dGhpcy5hbmltYXRlTGlkKCk7cmV0dXJuIHRoaXMuc3ZnR3JvdXB9aW5pdCgpe2lmKHRoaXMud29ya3NwYWNlLm9wdGlvbnMubWF4VHJhc2hjYW5Db250ZW50cz5cbjApe2NvbnN0IGE9dGhpcy5mbHlvdXQuY3JlYXRlRG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5TVkcpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5VHJhc2hjYW5GbHlvdXRcIik7aW5zZXJ0QWZ0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSx0aGlzLndvcmtzcGFjZS5nZXRQYXJlbnRTdmcoKSk7dGhpcy5mbHlvdXQuaW5pdCh0aGlzLndvcmtzcGFjZSl9dGhpcy53b3Jrc3BhY2UuZ2V0Q29tcG9uZW50TWFuYWdlcigpLmFkZENvbXBvbmVudCh7Y29tcG9uZW50OnRoaXMsd2VpZ2h0OkNvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5Db21wb25lbnRXZWlnaHQuVFJBU0hDQU5fV0VJR0hULGNhcGFiaWxpdGllczpbQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuQVVUT0hJREVBQkxFLFxuQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuREVMRVRFX0FSRUEsQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuRFJBR19UQVJHRVQsQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuUE9TSVRJT05BQkxFXX0pO3RoaXMuaW5pdGlhbGl6ZWQ9ITA7dGhpcy5zZXRMaWRPcGVuKCExKX1kaXNwb3NlKCl7dGhpcy53b3Jrc3BhY2UuZ2V0Q29tcG9uZW50TWFuYWdlcigpLnJlbW92ZUNvbXBvbmVudChcInRyYXNoY2FuXCIpO3RoaXMuc3ZnR3JvdXAmJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdHcm91cCk7dGhpcy5saWRUYXNrJiZjbGVhclRpbWVvdXQodGhpcy5saWRUYXNrKX1oYXNDb250ZW50cygpe3JldHVybiEhdGhpcy5jb250ZW50cy5sZW5ndGh9Y29udGVudHNJc09wZW4oKXtyZXR1cm4hIXRoaXMuZmx5b3V0JiZcbnRoaXMuZmx5b3V0LmlzVmlzaWJsZSgpfW9wZW5GbHlvdXQoKXtpZighdGhpcy5jb250ZW50c0lzT3BlbigpKXt2YXIgYT10aGlzLmNvbnRlbnRzLm1hcChmdW5jdGlvbihjKXtyZXR1cm4gSlNPTi5wYXJzZShjKX0pLGI9dGhpcy53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCkuc3R5bGU7Yi5jdXJzb3I9XCJ3YWl0XCI7c2V0VGltZW91dCgoKT0+e2xldCBjOyhjPXRoaXMuZmx5b3V0KT09bnVsbHx8Yy5zaG93KGEpO2IuY3Vyc29yPVwiXCI7bGV0IGQ7KGQ9dGhpcy53b3Jrc3BhY2Uuc2Nyb2xsYmFyKT09bnVsbHx8ZC5zZXRWaXNpYmxlKCExKX0sMTApO3RoaXMuZmlyZVVpRXZlbnQoITApfX1jbG9zZUZseW91dCgpe2lmKHRoaXMuY29udGVudHNJc09wZW4oKSl7dmFyIGE7KGE9dGhpcy5mbHlvdXQpPT1udWxsfHxhLmhpZGUoKTt2YXIgYjsoYj10aGlzLndvcmtzcGFjZS5zY3JvbGxiYXIpPT1udWxsfHxiLnNldFZpc2libGUoITApO3RoaXMuZmlyZVVpRXZlbnQoITEpO3RoaXMud29ya3NwYWNlLnJlY29yZERyYWdUYXJnZXRzKCl9fWF1dG9IaWRlKGEpeyFhJiZcbnRoaXMuZmx5b3V0JiZ0aGlzLmNsb3NlRmx5b3V0KCl9ZW1wdHlDb250ZW50cygpe3RoaXMuaGFzQ29udGVudHMoKSYmKHRoaXMuY29udGVudHMubGVuZ3RoPTAsdGhpcy5zZXRNaW5PcGVubmVzcygwKSx0aGlzLmNsb3NlRmx5b3V0KCkpfXBvc2l0aW9uKGEsYil7aWYodGhpcy5pbml0aWFsaXplZCl7dmFyIGM9Z2V0Q29ybmVyT3Bwb3NpdGVUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnModGhpcy53b3Jrc3BhY2UsYSk7YT1nZXRTdGFydFBvc2l0aW9uUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHBvc2l0aW9uYWJsZV9oZWxwZXJzKGMsbmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKFdJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4sQk9EWV9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbitMSURfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4pLFxuTUFSR0lOX0hPUklaT05UQUwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixNQVJHSU5fVkVSVElDQUwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbixhLHRoaXMud29ya3NwYWNlKTtiPWJ1bXBQb3NpdGlvblJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycyhhLE1BUkdJTl9WRVJUSUNBTCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLGMudmVydGljYWw9PT12ZXJ0aWNhbFBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnMuVE9QP2J1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5ET1dOOmJ1bXBEaXJlY3Rpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwb3NpdGlvbmFibGVfaGVscGVycy5VUCxiKTt0aGlzLnRvcD1iLnRvcDt0aGlzLmxlZnQ9Yi5sZWZ0O3ZhciBkOyhkPXRoaXMuc3ZnR3JvdXApPT1udWxsfHxkLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFxuXCJ0cmFuc2xhdGUoXCIrdGhpcy5sZWZ0K1wiLFwiK3RoaXMudG9wK1wiKVwiKTt2YXIgZTsoZT10aGlzLmZseW91dCk9PW51bGx8fGUucG9zaXRpb24oKX19Z2V0Qm91bmRpbmdSZWN0YW5nbGUoKXtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KHRoaXMudG9wLHRoaXMudG9wK0JPRFlfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4rTElEX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLHRoaXMubGVmdCx0aGlzLmxlZnQrV0lEVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbil9Z2V0Q2xpZW50UmVjdCgpe2lmKCF0aGlzLnN2Z0dyb3VwKXJldHVybiBudWxsO3ZhciBhPXRoaXMuc3ZnR3JvdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Y29uc3QgYj1hLnRvcCtTUFJJVEVfVE9QJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4tTUFSR0lOX0hPVFNQT1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbjtcbmE9YS5sZWZ0K1NQUklURV9MRUZUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4tTUFSR0lOX0hPVFNQT1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbjtyZXR1cm4gbmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGIsYitMSURfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4rQk9EWV9IRUlHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbisyKk1BUkdJTl9IT1RTUE9UJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4sYSxhK1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4rMipNQVJHSU5fSE9UU1BPVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKX1vbkRyYWdPdmVyKGEpe3RoaXMuc2V0TGlkT3Blbih0aGlzLndvdWxkRGVsZXRlXyl9b25EcmFnRXhpdChhKXt0aGlzLnNldExpZE9wZW4oITEpfW9uRHJvcChhKXtzZXRUaW1lb3V0KHRoaXMuc2V0TGlkT3Blbi5iaW5kKHRoaXMsXG4hMSksMTAwKX1zZXRMaWRPcGVuKGEpe3RoaXMuaXNMaWRPcGVuIT09YSYmKHRoaXMubGlkVGFzayYmY2xlYXJUaW1lb3V0KHRoaXMubGlkVGFzayksdGhpcy5pc0xpZE9wZW49YSx0aGlzLmFuaW1hdGVMaWQoKSl9YW5pbWF0ZUxpZCgpe2NvbnN0IGE9QU5JTUFUSU9OX0ZSQU1FUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuO3ZhciBiPTEvKGErMSk7dGhpcy5saWRPcGVuKz10aGlzLmlzTGlkT3Blbj9iOi1iO3RoaXMubGlkT3Blbj1NYXRoLm1pbihNYXRoLm1heCh0aGlzLmxpZE9wZW4sdGhpcy5taW5PcGVubmVzcyksMSk7dGhpcy5zZXRMaWRBbmdsZSh0aGlzLmxpZE9wZW4qTUFYX0xJRF9BTkdMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKTtiPU9QQUNJVFlfTUlOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4rdGhpcy5saWRPcGVuKihPUEFDSVRZX01BWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLU9QQUNJVFlfTUlOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4pO1xudGhpcy5zdmdHcm91cCYmKHRoaXMuc3ZnR3JvdXAuc3R5bGUub3BhY2l0eT1gJHtifWApO3RoaXMubGlkT3Blbj50aGlzLm1pbk9wZW5uZXNzJiZ0aGlzLmxpZE9wZW48MSYmKHRoaXMubGlkVGFzaz1zZXRUaW1lb3V0KHRoaXMuYW5pbWF0ZUxpZC5iaW5kKHRoaXMpLEFOSU1BVElPTl9MRU5HVEgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbi9hKSl9c2V0TGlkQW5nbGUoYSl7Y29uc3QgYj10aGlzLndvcmtzcGFjZS50b29sYm94UG9zaXRpb249PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guUklHSFR8fHRoaXMud29ya3NwYWNlLmhvcml6b250YWxMYXlvdXQmJnRoaXMud29ya3NwYWNlLlJUTDtsZXQgYzsoYz10aGlzLnN2Z0xpZCk9PW51bGx8fGMuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJyb3RhdGUoXCIrKGI/LWE6YSkrXCIsXCIrKGI/NDpXSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuLTQpK1wiLFwiKyhMSURfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4tXG4yKStcIilcIil9c2V0TWluT3Blbm5lc3MoYSl7dGhpcy5taW5PcGVubmVzcz1hO3RoaXMuaXNMaWRPcGVufHx0aGlzLnNldExpZEFuZ2xlKGEqTUFYX0xJRF9BTkdMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuKX1jbG9zZUxpZCgpe3RoaXMuc2V0TGlkT3BlbighMSl9Y2xpY2soKXt0aGlzLmhhc0NvbnRlbnRzKCkmJiF0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCkmJnRoaXMub3BlbkZseW91dCgpfWZpcmVVaUV2ZW50KGEpe2E9bmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVFJBU0hDQU5fT1BFTikpKGEsdGhpcy53b3Jrc3BhY2UuaWQpO2ZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYSl9YmxvY2tNb3VzZURvd25XaGVuT3BlbmFibGUoYSl7IXRoaXMuY29udGVudHNJc09wZW4oKSYmdGhpcy5oYXNDb250ZW50cygpJiZhLnN0b3BQcm9wYWdhdGlvbigpfW1vdXNlT3Zlcigpe3RoaXMuaGFzQ29udGVudHMoKSYmXG50aGlzLnNldExpZE9wZW4oITApfW1vdXNlT3V0KCl7dGhpcy5zZXRMaWRPcGVuKCExKX1vbkRlbGV0ZShhKXtpZighKHRoaXMud29ya3NwYWNlLm9wdGlvbnMubWF4VHJhc2hjYW5Db250ZW50czw9MHx8IWlzQmxvY2tEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkcHJlZGljYXRlcyhhKXx8YS53YXNTaGFkb3cpKXtpZighYS5vbGRKc29uKXRocm93IEVycm9yKFwiRW5jb3VudGVyZWQgYSBkZWxldGUgZXZlbnQgd2l0aG91dCBwcm9wZXIgb2xkSnNvblwiKTthPUpTT04uc3RyaW5naWZ5KHRoaXMuY2xlYW5CbG9ja0pzb24oYS5vbGRKc29uKSk7aWYoIXRoaXMuY29udGVudHMuaW5jbHVkZXMoYSkpe2Zvcih0aGlzLmNvbnRlbnRzLnVuc2hpZnQoYSk7dGhpcy5jb250ZW50cy5sZW5ndGg+dGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5tYXhUcmFzaGNhbkNvbnRlbnRzOyl0aGlzLmNvbnRlbnRzLnBvcCgpO3RoaXMuc2V0TWluT3Blbm5lc3MoSEFTX0JMT0NLU19MSURfQU5HTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbil9fX1jbGVhbkJsb2NrSnNvbihhKXtmdW5jdGlvbiBiKGMpe2lmKGMpe2RlbGV0ZSBjLmlkO1xuZGVsZXRlIGMueDtkZWxldGUgYy55O2RlbGV0ZSBjLmVuYWJsZWQ7ZGVsZXRlIGMuZGlzYWJsZWRSZWFzb25zO2lmKGMuaWNvbnMmJmMuaWNvbnMuY29tbWVudCl7dmFyIGQ9Yy5pY29ucy5jb21tZW50O2RlbGV0ZSBkLmhlaWdodDtkZWxldGUgZC53aWR0aDtkZWxldGUgZC5waW5uZWR9ZD1jLmlucHV0cztmb3IodmFyIGUgaW4gZCl7dmFyIGY9ZFtlXTtjb25zdCBnPWYuYmxvY2s7Zj1mLnNoYWRvdztnJiZiKGcpO2YmJmIoZil9Yy5uZXh0JiYoZT1jLm5leHQsYz1lLmJsb2NrLGU9ZS5zaGFkb3csYyYmYihjKSxlJiZiKGUpKX19YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEpKTtiKGEpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHtraW5kOlwiQkxPQ0tcIn0sYSl9fSxXSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTQ3LEJPRFlfSEVJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49NDQsTElEX0hFSUdIVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPVxuMTYsTUFSR0lOX1ZFUlRJQ0FMJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49MjAsTUFSR0lOX0hPUklaT05UQUwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj0yMCxNQVJHSU5fSE9UU1BPVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTEwLFNQUklURV9MRUZUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49MCxTUFJJVEVfVE9QJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49MzIsSEFTX0JMT0NLU19MSURfQU5HTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj0uMSxBTklNQVRJT05fTEVOR1RIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW49ODAsQU5JTUFUSU9OX0ZSQU1FUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTQsT1BBQ0lUWV9NSU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj0uNCxPUEFDSVRZX01BWCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPS44LFxuTUFYX0xJRF9BTkdMRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRyYXNoY2FuPTQ1LG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4uVHJhc2hjYW49VHJhc2hjYW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0cmFzaGNhbjt2YXIgc3Rhc2hlZENvcHlEYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkPW51bGwsc3Rhc2hlZFdvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD1udWxsLHN0YXNoZWRDb29yZGluYXRlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD12b2lkIDAsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLkJsb2NrUGFzdGVyPUJsb2NrUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJGJsb2NrX3Bhc3Rlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLmNvcHk9Y29weSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLmdldExhc3RDb3BpZWREYXRhPWdldExhc3RDb3BpZWREYXRhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5nZXRMYXN0Q29waWVkTG9jYXRpb249Z2V0TGFzdENvcGllZExvY2F0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQuZ2V0TGFzdENvcGllZFdvcmtzcGFjZT1nZXRMYXN0Q29waWVkV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQucGFzdGU9cGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5yZWdpc3RyeT1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkJHJlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQuc2V0TGFzdENvcGllZERhdGE9c2V0TGFzdENvcGllZERhdGEkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkLnNldExhc3RDb3BpZWRMb2NhdGlvbj1zZXRMYXN0Q29waWVkTG9jYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNsaXBib2FyZC5zZXRMYXN0Q29waWVkV29ya3NwYWNlPXNldExhc3RDb3BpZWRXb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjbGlwYm9hcmQ7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuQ29sbGFwc2VDb21tZW50QmFyQnV0dG9uPUNvbGxhcHNlQ29tbWVudEJhckJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJGNvbGxhcHNlX2NvbW1lbnRfYmFyX2J1dHRvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuQ29tbWVudEJhckJ1dHRvbj1Db21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkY29tbWVudF9iYXJfYnV0dG9uO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cy5Db21tZW50RWRpdG9yPUNvbW1lbnRFZGl0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X2VkaXRvcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuQ29tbWVudFZpZXc9Q29tbWVudFZpZXckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyRjb21tZW50X3ZpZXc7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuRGVsZXRlQ29tbWVudEJhckJ1dHRvbj1EZWxldGVDb21tZW50QmFyQnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkZGVsZXRlX2NvbW1lbnRfYmFyX2J1dHRvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMuUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50PVJlbmRlcmVkV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1lbnRzJHJlbmRlcmVkX3dvcmtzcGFjZV9jb21tZW50O21vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cy5Xb3Jrc3BhY2VDb21tZW50PVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb3B5YWJsZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvcHlhYmxlLmlzQ29weWFibGU9aXNDb3B5YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb3B5YWJsZTt2YXIgbmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtczsoZnVuY3Rpb24oYSl7YS5FU0NBUEU9XCJlc2NhcGVcIjthLkRFTEVURT1cImRlbGV0ZVwiO2EuQ09QWT1cImNvcHlcIjthLkNVVD1cImN1dFwiO2EuUEFTVEU9XCJwYXN0ZVwiO2EuVU5ETz1cInVuZG9cIjthLlJFRE89XCJyZWRvXCJ9KShuYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zfHwobmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz17fSkpO3JlZ2lzdGVyRGVmYXVsdFNob3J0Y3V0cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zKCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMubmFtZXM9bmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5yZWdpc3RlckNvcHk9cmVnaXN0ZXJDb3B5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLnJlZ2lzdGVyQ3V0PXJlZ2lzdGVyQ3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zLnJlZ2lzdGVyRGVmYXVsdFNob3J0Y3V0cz1yZWdpc3RlckRlZmF1bHRTaG9ydGN1dHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMucmVnaXN0ZXJEZWxldGU9cmVnaXN0ZXJEZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMucmVnaXN0ZXJFc2NhcGU9cmVnaXN0ZXJFc2NhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5yZWdpc3RlclBhc3RlPXJlZ2lzdGVyUGFzdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXMucmVnaXN0ZXJSZWRvPXJlZ2lzdGVyUmVkbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNob3J0Y3V0X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtcy5yZWdpc3RlclVuZG89cmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2hvcnRjdXRfaXRlbXM7dmFyIFByb2NlZHVyZVNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXM9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLnByb2NlZHVyZU1vZGVsQ2xhc3M9YTt0aGlzLnBhcmFtZXRlck1vZGVsQ2xhc3M9Yjt0aGlzLnByaW9yaXR5PVBST0NFRFVSRVMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByaW9yaXRpZXN9c2F2ZShhKXthPWEuZ2V0UHJvY2VkdXJlTWFwKCkuZ2V0UHJvY2VkdXJlcygpLm1hcChiPT5zYXZlUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzKGIpKTtyZXR1cm4gYS5sZW5ndGg/YTpudWxsfWxvYWQoYSxiKXtjb25zdCBjPWIuZ2V0UHJvY2VkdXJlTWFwKCk7Zm9yKGNvbnN0IGQgb2YgYSljLmFkZChsb2FkUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzKHRoaXMucHJvY2VkdXJlTW9kZWxDbGFzcyxcbnRoaXMucGFyYW1ldGVyTW9kZWxDbGFzcyxkLGIpKX1jbGVhcihhKXthLmdldFByb2NlZHVyZU1hcCgpLmNsZWFyKCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXMuUHJvY2VkdXJlU2VyaWFsaXplcj1Qcm9jZWR1cmVTZXJpYWxpemVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXMubG9hZFByb2NlZHVyZT1sb2FkUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHByb2NlZHVyZXMuc2F2ZVByb2NlZHVyZT1zYXZlUHJvY2VkdXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcm9jZWR1cmVzO3ZhciBWYXJpYWJsZVNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHZhcmlhYmxlcz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucHJpb3JpdHk9VkFSSUFCTEVTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzfXNhdmUoYSl7YT1hLmdldEFsbFZhcmlhYmxlcygpLm1hcChiPT5iLnNhdmUoKSk7cmV0dXJuIGEubGVuZ3RoP2E6bnVsbH1sb2FkKGEsYil7Y29uc3QgYz1nZXRPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVkFSSUFCTEVfTU9ERUwsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KTthLmZvckVhY2goZD0+e2M9PW51bGx8fGMubG9hZChkLGIpfSl9Y2xlYXIoYSl7YS5nZXRWYXJpYWJsZU1hcCgpLmNsZWFyKCl9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeShcInZhcmlhYmxlc1wiLG5ldyBWYXJpYWJsZVNlcmlhbGl6ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHZhcmlhYmxlcyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHZhcmlhYmxlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR2YXJpYWJsZXMuVmFyaWFibGVTZXJpYWxpemVyPVZhcmlhYmxlU2VyaWFsaXplciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kdmFyaWFibGVzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZXMubG9hZD1sb2FkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzO21vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZXMuc2F2ZT1zYXZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbj17YmxvY2tzOm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyxleGNlcHRpb25zOm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGV4Y2VwdGlvbnMscHJpb3JpdGllczptb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRwcmlvcml0aWVzLHByb2NlZHVyZXM6bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kcHJvY2VkdXJlcyxyZWdpc3RyeTptb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiRyZWdpc3RyeSx2YXJpYWJsZXM6bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kdmFyaWFibGVzLHdvcmtzcGFjZUNvbW1lbnRzOm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cyx3b3Jrc3BhY2VzOm1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZXN9O1wiQmxvY2tseVwiaW4gZ2xvYmFsVGhpc3x8KGdsb2JhbFRoaXMuQmxvY2tseT17TXNnOm1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2d9KTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1haW49e307dmFyIExBQkVMX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYWJlbF9mbHlvdXRfaW5mbGF0ZXI9XCJsYWJlbFwiLExhYmVsRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYWJlbF9mbHlvdXRfaW5mbGF0ZXI9Y2xhc3N7bG9hZChhLGIpe2E9bmV3IEZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b24oYi5nZXRXb3Jrc3BhY2UoKSxiLnRhcmdldFdvcmtzcGFjZSxhLCEwKTthLnNob3coKTtyZXR1cm4gbmV3IEZseW91dEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbShhLExBQkVMX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYWJlbF9mbHlvdXRfaW5mbGF0ZXIpfWdhcEZvckl0ZW0oYSxiKXtyZXR1cm4gYn1kaXNwb3NlSXRlbShhKXthPWEuZ2V0RWxlbWVudCgpO2EgaW5zdGFuY2VvZiBGbHlvdXRCdXR0b24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYnV0dG9uJiZhLmRpc3Bvc2UoKX1nZXRUeXBlKCl7cmV0dXJuIExBQkVMX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYWJlbF9mbHlvdXRfaW5mbGF0ZXJ9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVF9JTkZMQVRFUixMQUJFTF9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyLExhYmVsRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRsYWJlbF9mbHlvdXRfaW5mbGF0ZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRsYWJlbF9mbHlvdXRfaW5mbGF0ZXIuTGFiZWxGbHlvdXRJbmZsYXRlcj1MYWJlbEZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyO3ZhciBDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGNvbnN0YW50cz1jbGFzcyBleHRlbmRzIENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50c3tjb25zdHJ1Y3RvcihhKXtzdXBlcigpO3RoaXMuR1JJRF9VTklUPTQ7dGhpcy5DVVJTT1JfQ09MT1VSPVwiI2ZmYTIwMFwiO3RoaXMuQ1VSU09SX1JBRElVUz01O3RoaXMuSkFHR0VEX1RFRVRIX1dJRFRIPXRoaXMuSkFHR0VEX1RFRVRIX0hFSUdIVD0wO3RoaXMuU1RBUlRfSEFUX0hFSUdIVD0yMjt0aGlzLlNUQVJUX0hBVF9XSURUSD05Njt0aGlzLlNIQVBFUz17SEVYQUdPTkFMOjEsUk9VTkQ6MixTUVVBUkU6MyxQVVpaTEU6NCxOT1RDSDo1fTt0aGlzLlNIQVBFX0lOX1NIQVBFX1BBRERJTkc9ezE6ezA6NSp0aGlzLkdSSURfVU5JVCwxOjIqdGhpcy5HUklEX1VOSVQsMjo1KnRoaXMuR1JJRF9VTklULDM6NSp0aGlzLkdSSURfVU5JVH0sXG4yOnswOjMqdGhpcy5HUklEX1VOSVQsMTozKnRoaXMuR1JJRF9VTklULDI6MSp0aGlzLkdSSURfVU5JVCwzOjIqdGhpcy5HUklEX1VOSVR9LDM6ezA6Mip0aGlzLkdSSURfVU5JVCwxOjIqdGhpcy5HUklEX1VOSVQsMjoyKnRoaXMuR1JJRF9VTklULDM6Mip0aGlzLkdSSURfVU5JVH19O3RoaXMuRlVMTF9CTE9DS19GSUVMRFM9ITA7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFQ9XCJib2xkXCI7dGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFk9J1wiSGVsdmV0aWNhIE5ldWVcIiwgXCJTZWdvZSBVSVwiLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnO3RoaXMuRklFTERfQ09MT1VSX0ZVTExfQkxPQ0s9dGhpcy5GSUVMRF9URVhUSU5QVVRfQk9YX1NIQURPVz10aGlzLkZJRUxEX0RST1BET1dOX1NWR19BUlJPVz10aGlzLkZJRUxEX0RST1BET1dOX0NPTE9VUkVEX0RJVj10aGlzLkZJRUxEX0RST1BET1dOX05PX0JPUkRFUl9SRUNUX1NIQURPVz0hMDt0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSPVwiI2ZmZjIwMFwiO1xudGhpcy5TRUxFQ1RFRF9HTE9XX1NJWkU9LjU7dGhpcy5SRVBMQUNFTUVOVF9HTE9XX0NPTE9VUj1cIiNmZmYyMDBcIjt0aGlzLlJFUExBQ0VNRU5UX0dMT1dfU0laRT0yO3RoaXMuc2VsZWN0ZWRHbG93RmlsdGVySWQ9XCJcIjt0aGlzLnNlbGVjdGVkR2xvd0ZpbHRlcj1udWxsO3RoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVySWQ9XCJcIjt0aGlzLlNRVUFSRUQ9dGhpcy5ST1VOREVEPXRoaXMuSEVYQUdPTkFMPXRoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVyPW51bGw7YSYmKHRoaXMuR1JJRF9VTklUPWEpO3RoaXMuU01BTExfUEFERElORz10aGlzLkdSSURfVU5JVDt0aGlzLk1FRElVTV9QQURESU5HPTIqdGhpcy5HUklEX1VOSVQ7dGhpcy5NRURJVU1fTEFSR0VfUEFERElORz0zKnRoaXMuR1JJRF9VTklUO3RoaXMuTEFSR0VfUEFERElORz00KnRoaXMuR1JJRF9VTklUO3RoaXMuQ09STkVSX1JBRElVUz0xKnRoaXMuR1JJRF9VTklUO3RoaXMuTk9UQ0hfV0lEVEg9OSp0aGlzLkdSSURfVU5JVDt0aGlzLk5PVENIX0hFSUdIVD1cbjIqdGhpcy5HUklEX1VOSVQ7dGhpcy5TVEFURU1FTlRfSU5QVVRfTk9UQ0hfT0ZGU0VUPXRoaXMuTk9UQ0hfT0ZGU0VUX0xFRlQ9Myp0aGlzLkdSSURfVU5JVDt0aGlzLk1JTl9CTE9DS19XSURUSD0yKnRoaXMuR1JJRF9VTklUO3RoaXMuTUlOX0JMT0NLX0hFSUdIVD0xMip0aGlzLkdSSURfVU5JVDt0aGlzLkVNUFRZX1NUQVRFTUVOVF9JTlBVVF9IRUlHSFQ9Nip0aGlzLkdSSURfVU5JVDt0aGlzLlRPUF9ST1dfTUlOX0hFSUdIVD10aGlzLkNPUk5FUl9SQURJVVM7dGhpcy5UT1BfUk9XX1BSRUNFREVTX1NUQVRFTUVOVF9NSU5fSEVJR0hUPXRoaXMuTEFSR0VfUEFERElORzt0aGlzLkJPVFRPTV9ST1dfTUlOX0hFSUdIVD10aGlzLkNPUk5FUl9SQURJVVM7dGhpcy5CT1RUT01fUk9XX0FGVEVSX1NUQVRFTUVOVF9NSU5fSEVJR0hUPTYqdGhpcy5HUklEX1VOSVQ7dGhpcy5TVEFURU1FTlRfQk9UVE9NX1NQQUNFUj0tdGhpcy5OT1RDSF9IRUlHSFQ7dGhpcy5TVEFURU1FTlRfSU5QVVRfU1BBQ0VSX01JTl9XSURUSD1cbjQwKnRoaXMuR1JJRF9VTklUO3RoaXMuU1RBVEVNRU5UX0lOUFVUX1BBRERJTkdfTEVGVD00KnRoaXMuR1JJRF9VTklUO3RoaXMuRU1QVFlfSU5MSU5FX0lOUFVUX1BBRERJTkc9NCp0aGlzLkdSSURfVU5JVDt0aGlzLkVNUFRZX0lOTElORV9JTlBVVF9IRUlHSFQ9OCp0aGlzLkdSSURfVU5JVDt0aGlzLkRVTU1ZX0lOUFVUX01JTl9IRUlHSFQ9OCp0aGlzLkdSSURfVU5JVDt0aGlzLkRVTU1ZX0lOUFVUX1NIQURPV19NSU5fSEVJR0hUPTYqdGhpcy5HUklEX1VOSVQ7dGhpcy5DVVJTT1JfV1NfV0lEVEg9MjAqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9URVhUX0ZPTlRTSVpFPTMqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVM9dGhpcy5DT1JORVJfUkFESVVTO3RoaXMuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HPTIqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkc9MS42MjUqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQ9XG44KnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfRFJPUERPV05fQk9SREVSX1JFQ1RfSEVJR0hUPTgqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfUEFERElORz10aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzt0aGlzLkZJRUxEX0NPTE9VUl9ERUZBVUxUX1dJRFRIPTYqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9DT0xPVVJfREVGQVVMVF9IRUlHSFQ9OCp0aGlzLkdSSURfVU5JVDt0aGlzLkZJRUxEX0NIRUNLQk9YX1hfT0ZGU0VUPTEqdGhpcy5HUklEX1VOSVQ7dGhpcy5NQVhfRFlOQU1JQ19DT05ORUNUSU9OX1NIQVBFX1dJRFRIPTEyKnRoaXMuR1JJRF9VTklUfXNldEZvbnRDb25zdGFudHNfKGEpe3N1cGVyLnNldEZvbnRDb25zdGFudHNfKGEpO3RoaXMuRklFTERfRFJPUERPV05fQk9SREVSX1JFQ1RfSEVJR0hUPXRoaXMuRklFTERfQk9SREVSX1JFQ1RfSEVJR0hUPXRoaXMuRklFTERfVEVYVF9IRUlHSFQrdGhpcy5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkcqXG4yfWluaXQoKXtzdXBlci5pbml0KCk7dGhpcy5IRVhBR09OQUw9dGhpcy5tYWtlSGV4YWdvbmFsKCk7dGhpcy5ST1VOREVEPXRoaXMubWFrZVJvdW5kZWQoKTt0aGlzLlNRVUFSRUQ9dGhpcy5tYWtlU3F1YXJlZCgpO3RoaXMuU1RBVEVNRU5UX0lOUFVUX05PVENIX09GRlNFVD10aGlzLk5PVENIX09GRlNFVF9MRUZUK3RoaXMuSU5TSURFX0NPUk5FUlMucmlnaHRXaWR0aH1zZXREeW5hbWljUHJvcGVydGllc18oYSl7c3VwZXIuc2V0RHluYW1pY1Byb3BlcnRpZXNfKGEpO3RoaXMuU0VMRUNURURfR0xPV19DT0xPVVI9YS5nZXRDb21wb25lbnRTdHlsZShcInNlbGVjdGVkR2xvd0NvbG91clwiKXx8dGhpcy5TRUxFQ1RFRF9HTE9XX0NPTE9VUjtjb25zdCBiPU51bWJlcihhLmdldENvbXBvbmVudFN0eWxlKFwic2VsZWN0ZWRHbG93U2l6ZVwiKSk7dGhpcy5TRUxFQ1RFRF9HTE9XX1NJWkU9YiYmIWlzTmFOKGIpP2I6dGhpcy5TRUxFQ1RFRF9HTE9XX1NJWkU7dGhpcy5SRVBMQUNFTUVOVF9HTE9XX0NPTE9VUj1cbmEuZ2V0Q29tcG9uZW50U3R5bGUoXCJyZXBsYWNlbWVudEdsb3dDb2xvdXJcIil8fHRoaXMuUkVQTEFDRU1FTlRfR0xPV19DT0xPVVI7dGhpcy5SRVBMQUNFTUVOVF9HTE9XX1NJWkU9KGE9TnVtYmVyKGEuZ2V0Q29tcG9uZW50U3R5bGUoXCJyZXBsYWNlbWVudEdsb3dTaXplXCIpKSkmJiFpc05hTihhKT9hOnRoaXMuUkVQTEFDRU1FTlRfR0xPV19TSVpFfWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCk7dGhpcy5zZWxlY3RlZEdsb3dGaWx0ZXImJnJlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zZWxlY3RlZEdsb3dGaWx0ZXIpO3RoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVyJiZyZW1vdmVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVyKX1tYWtlU3RhcnRIYXQoKXtjb25zdCBhPXRoaXMuU1RBUlRfSEFUX0hFSUdIVCxiPXRoaXMuU1RBUlRfSEFUX1dJRFRILGM9Y3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsXG5bcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoMjUsLWEpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDcxLC1hKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhiLDApXSk7cmV0dXJue2hlaWdodDphKi43NSx3aWR0aDpiLHBhdGg6Y319bWFrZUhleGFnb25hbCgpe2Z1bmN0aW9uIGEoYyxkLGUpe3ZhciBmPWMvMjtmPWY+Yj9iOmY7ZT1lPy0xOjE7Yz0oZD8tMToxKSpjLzI7cmV0dXJuIGxpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtZSpmLGMpK2xpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhlKmYsYyl9Y29uc3QgYj10aGlzLk1BWF9EWU5BTUlDX0NPTk5FQ1RJT05fU0hBUEVfV0lEVEg7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuSEVYQUdPTkFMLGlzRHluYW1pYzohMCx3aWR0aChjKXtjLz0yO3JldHVybiBjPlxuYj9iOmN9LGhlaWdodChjKXtyZXR1cm4gY30sY29ubmVjdGlvbk9mZnNldFkoYyl7cmV0dXJuIGMvMn0sY29ubmVjdGlvbk9mZnNldFgoYyl7cmV0dXJuLWN9LHBhdGhEb3duKGMpe3JldHVybiBhKGMsITEsITEpfSxwYXRoVXAoYyl7cmV0dXJuIGEoYywhMCwhMSl9LHBhdGhSaWdodERvd24oYyl7cmV0dXJuIGEoYywhMSwhMCl9LHBhdGhSaWdodFVwKGMpe3JldHVybiBhKGMsITEsITApfX19bWFrZVJvdW5kZWQoKXtmdW5jdGlvbiBhKGQsZSxmKXtjb25zdCBnPWQ+Yz9kLWM6MDtkPShkPmM/YzpkKS8yO2NvbnN0IGg9Zj09PWU/XCIwXCI6XCIxXCI7cmV0dXJuIGFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCxcIitoLGQscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoKGY/MTotMSkqZCwoZT8tMToxKSpkKSkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIiwoZT8tMTpcbjEpKmcpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCxcIitoLGQscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoKGY/LTE6MSkqZCwoZT8tMToxKSpkKSl9Y29uc3QgYj10aGlzLk1BWF9EWU5BTUlDX0NPTk5FQ1RJT05fU0hBUEVfV0lEVEgsYz1iKjI7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuUk9VTkQsaXNEeW5hbWljOiEwLHdpZHRoKGQpe2QvPTI7cmV0dXJuIGQ+Yj9iOmR9LGhlaWdodChkKXtyZXR1cm4gZH0sY29ubmVjdGlvbk9mZnNldFkoZCl7cmV0dXJuIGQvMn0sY29ubmVjdGlvbk9mZnNldFgoZCl7cmV0dXJuLWR9LHBhdGhEb3duKGQpe3JldHVybiBhKGQsITEsITEpfSxwYXRoVXAoZCl7cmV0dXJuIGEoZCwhMCwhMSl9LHBhdGhSaWdodERvd24oZCl7cmV0dXJuIGEoZCwhMSwhMCl9LHBhdGhSaWdodFVwKGQpe3JldHVybiBhKGQsITEsITApfX19bWFrZVNxdWFyZWQoKXtmdW5jdGlvbiBhKGMsXG5kLGUpe2MtPWIqMjtjb25zdCBmPWU9PT1kP1wiMFwiOlwiMVwiO3JldHVybiBhcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsXCIrZixiLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKChlPzE6LTEpKmIsKGQ/LTE6MSkqYikpK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsKGQ/LTE6MSkqYykrYXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLFwiK2YsYixwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygoZT8tMToxKSpiLChkPy0xOjEpKmIpKX1jb25zdCBiPXRoaXMuQ09STkVSX1JBRElVUztyZXR1cm57dHlwZTp0aGlzLlNIQVBFUy5TUVVBUkUsaXNEeW5hbWljOiEwLHdpZHRoKGMpe3JldHVybiBifSxoZWlnaHQoYyl7cmV0dXJuIGN9LGNvbm5lY3Rpb25PZmZzZXRZKGMpe3JldHVybiBjL1xuMn0sY29ubmVjdGlvbk9mZnNldFgoYyl7cmV0dXJuLWN9LHBhdGhEb3duKGMpe3JldHVybiBhKGMsITEsITEpfSxwYXRoVXAoYyl7cmV0dXJuIGEoYywhMCwhMSl9LHBhdGhSaWdodERvd24oYyl7cmV0dXJuIGEoYywhMSwhMCl9LHBhdGhSaWdodFVwKGMpe3JldHVybiBhKGMsITEsITApfX19c2hhcGVGb3IoYSl7bGV0IGI9YS5nZXRDaGVjaygpOyFiJiZhLnRhcmdldENvbm5lY3Rpb24mJihiPWEudGFyZ2V0Q29ubmVjdGlvbi5nZXRDaGVjaygpKTtzd2l0Y2goYS50eXBlKXtjYXNlIENvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLklOUFVUX1ZBTFVFOmNhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuT1VUUFVUX1ZBTFVFOmE9YS5nZXRTb3VyY2VCbG9jaygpLmdldE91dHB1dFNoYXBlKCk7aWYoYSE9PW51bGwpc3dpdGNoKGEpe2Nhc2UgdGhpcy5TSEFQRVMuSEVYQUdPTkFMOnJldHVybiB0aGlzLkhFWEFHT05BTDtcbmNhc2UgdGhpcy5TSEFQRVMuUk9VTkQ6cmV0dXJuIHRoaXMuUk9VTkRFRDtjYXNlIHRoaXMuU0hBUEVTLlNRVUFSRTpyZXR1cm4gdGhpcy5TUVVBUkVEfWlmKGImJmIuaW5jbHVkZXMoXCJCb29sZWFuXCIpKXJldHVybiB0aGlzLkhFWEFHT05BTDtpZihiJiZiLmluY2x1ZGVzKFwiTnVtYmVyXCIpKXJldHVybiB0aGlzLlJPVU5ERUQ7YiYmYi5pbmNsdWRlcyhcIlN0cmluZ1wiKTtyZXR1cm4gdGhpcy5ST1VOREVEO2Nhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UOmNhc2UgQ29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuTkVYVF9TVEFURU1FTlQ6cmV0dXJuIHRoaXMuTk9UQ0g7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZVwiKTt9fW1ha2VOb3RjaCgpe2Z1bmN0aW9uIGEobCl7cmV0dXJuIGN1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiY1wiLFxuW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZS8yLDApLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZSozLzQsZy8yKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUsZyldKStsaW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUsZildKStjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImNcIixbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLzQsZy8yKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUvMixnKSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUsZyldKStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLFxubCpkKStjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImNcIixbcG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLzIsMCkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplKjMvNCwtKGcvMikpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZSwtZyldKStsaW5lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhsKmUsLWYpXSkrY3VydmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJjXCIsW3BvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqZS80LC0oZy8yKSkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMobCplLzIsLWcpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGwqXG5lLC1nKV0pfWNvbnN0IGI9dGhpcy5OT1RDSF9XSURUSCxjPXRoaXMuTk9UQ0hfSEVJR0hULGQ9Yi8zLGU9ZC8zLGY9Yy8yLGc9Zi8yLGg9YSgxKSxrPWEoLTEpO3JldHVybnt0eXBlOnRoaXMuU0hBUEVTLk5PVENILHdpZHRoOmIsaGVpZ2h0OmMscGF0aExlZnQ6aCxwYXRoUmlnaHQ6a319bWFrZUluc2lkZUNvcm5lcnMoKXtjb25zdCBhPXRoaXMuQ09STkVSX1JBRElVUyxiPWFyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYSxhKSksYz1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMVwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWEsYSkpLGQ9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDBcIixhLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEsXG5hKSksZT1hcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMVwiLGEscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSxhKSk7cmV0dXJue3dpZHRoOmEsaGVpZ2h0OmEscGF0aFRvcDpiLHBhdGhCb3R0b206ZCxyaWdodFdpZHRoOmEscmlnaHRIZWlnaHQ6YSxwYXRoVG9wUmlnaHQ6YyxwYXRoQm90dG9tUmlnaHQ6ZX19Z2VuZXJhdGVTZWNvbmRhcnlDb2xvdXJfKGEpe3JldHVybiBibGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihcIiMwMDBcIixhLC4xNSl8fGF9Z2VuZXJhdGVUZXJ0aWFyeUNvbG91cl8oYSl7cmV0dXJuIGJsZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29sb3VyKFwiIzAwMFwiLGEsLjI1KXx8YX1jcmVhdGVEb20oYSxiLGMsZCl7c3VwZXIuY3JlYXRlRG9tKGEsYixjLGQpO2E9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuREVGUyxcbnt9LGEpO2I9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRklMVEVSLHtpZDpcImJsb2NrbHlTZWxlY3RlZEdsb3dGaWx0ZXJcIit0aGlzLnJhbmRvbUlkZW50aWZpZXIsaGVpZ2h0OlwiMTYwJVwiLHdpZHRoOlwiMTgwJVwiLHk6XCItMzAlXCIseDpcIi00MCVcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVHQVVTU0lBTkJMVVIse1wiaW5cIjpcIlNvdXJjZUdyYXBoaWNcIixzdGREZXZpYXRpb246dGhpcy5TRUxFQ1RFRF9HTE9XX1NJWkV9LGIpO2M9Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT05FTlRUUkFOU0ZFUix7cmVzdWx0Olwib3V0Qmx1clwifSxiKTtcbmNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFRlVOQ0Ese3R5cGU6XCJ0YWJsZVwiLHRhYmxlVmFsdWVzOlwiMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxXCJ9LGMpO2NyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLkZFRkxPT0Qse1wiZmxvb2QtY29sb3JcIjp0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSLFwiZmxvb2Qtb3BhY2l0eVwiOjEscmVzdWx0Olwib3V0Q29sb3JcIn0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVDT01QT1NJVEUse1wiaW5cIjpcIm91dENvbG9yXCIsaW4yOlwib3V0Qmx1clwiLG9wZXJhdG9yOlwiaW5cIixyZXN1bHQ6XCJvdXRHbG93XCJ9LGIpO1xudGhpcy5zZWxlY3RlZEdsb3dGaWx0ZXJJZD1iLmlkO3RoaXMuc2VsZWN0ZWRHbG93RmlsdGVyPWI7YT1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GSUxURVIse2lkOlwiYmxvY2tseVJlcGxhY2VtZW50R2xvd0ZpbHRlclwiK3RoaXMucmFuZG9tSWRlbnRpZmllcixoZWlnaHQ6XCIxNjAlXCIsd2lkdGg6XCIxODAlXCIseTpcIi0zMCVcIix4OlwiLTQwJVwifSxhKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUdBVVNTSUFOQkxVUix7XCJpblwiOlwiU291cmNlR3JhcGhpY1wiLHN0ZERldmlhdGlvbjp0aGlzLlJFUExBQ0VNRU5UX0dMT1dfU0laRX0sYSk7Yj1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUNPTVBPTkVOVFRSQU5TRkVSLFxue3Jlc3VsdDpcIm91dEJsdXJcIn0sYSk7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVGVU5DQSx7dHlwZTpcInRhYmxlXCIsdGFibGVWYWx1ZXM6XCIwIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDFcIn0sYik7Y3JlYXRlU3ZnRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmcuRkVGTE9PRCx7XCJmbG9vZC1jb2xvclwiOnRoaXMuUkVQTEFDRU1FTlRfR0xPV19DT0xPVVIsXCJmbG9vZC1vcGFjaXR5XCI6MSxyZXN1bHQ6XCJvdXRDb2xvclwifSxhKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUNPTVBPU0lURSx7XCJpblwiOlwib3V0Q29sb3JcIixpbjI6XCJvdXRCbHVyXCIsb3BlcmF0b3I6XCJpblwiLFxucmVzdWx0Olwib3V0R2xvd1wifSxhKTtjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5GRUNPTVBPU0lURSx7XCJpblwiOlwiU291cmNlR3JhcGhpY1wiLGluMjpcIm91dEdsb3dcIixvcGVyYXRvcjpcIm92ZXJcIn0sYSk7dGhpcy5yZXBsYWNlbWVudEdsb3dGaWx0ZXJJZD1hLmlkO3RoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVyPWE7ZCYmKGQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJsb2NrbHlTZWxlY3RlZEdsb3dGaWx0ZXJcIixgdXJsKCMke3RoaXMuc2VsZWN0ZWRHbG93RmlsdGVySWR9KWApLGQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJsb2NrbHlSZXBsYWNlbWVudEdsb3dGaWx0ZXJcIixgdXJsKCMke3RoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVySWR9KWApKX1nZXRDU1NfKGEpe3JldHVybltgJHthfSAuYmxvY2tseVRleHQsYCxgJHthfSAuYmxvY2tseUZseW91dExhYmVsVGV4dCB7YCxgZm9udDogJHt0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVH0gJHt0aGlzLkZJRUxEX1RFWFRfRk9OVFNJWkV9YCtcbmBwdCAke3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZfTtgLFwifVwiLGAke2F9IC5ibG9ja2x5VGV4dElucHV0QnViYmxlIHRleHRhcmVhIHtgLFwiZm9udC13ZWlnaHQ6IG5vcm1hbDtcIixcIn1cIixgJHthfSAuYmxvY2tseVRleHQge2AsXCJmaWxsOiAjZmZmO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5Tm9uRWRpdGFibGVGaWVsZD5yZWN0Om5vdCguYmxvY2tseURyb3Bkb3duUmVjdCksYCxgJHthfSAuYmxvY2tseUVkaXRhYmxlRmllbGQ+cmVjdDpub3QoLmJsb2NrbHlEcm9wZG93blJlY3QpIHtgLGBmaWxsOiAke3RoaXMuRklFTERfQk9SREVSX1JFQ1RfQ09MT1VSfTtgLFwifVwiLGAke2F9IC5ibG9ja2x5Tm9uRWRpdGFibGVGaWVsZD50ZXh0LGAsYCR7YX0gLmJsb2NrbHlFZGl0YWJsZUZpZWxkPnRleHQsYCxgJHthfSAuYmxvY2tseU5vbkVkaXRhYmxlRmllbGQ+Zz50ZXh0LGAsYCR7YX0gLmJsb2NrbHlFZGl0YWJsZUZpZWxkPmc+dGV4dCB7YCxcImZpbGw6ICM1NzVFNzU7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlGbHlvdXRMYWJlbFRleHQge2AsXG5cImZpbGw6ICM1NzVFNzU7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlUZXh0LmJsb2NrbHlCdWJibGVUZXh0IHtgLFwiZmlsbDogIzU3NUU3NTtcIixcIn1cIixgJHthfSAuYmxvY2tseURyYWdnYWJsZTpub3QoLmJsb2NrbHlEaXNhYmxlZClgLFwiIC5ibG9ja2x5RWRpdGFibGVGaWVsZDpub3QoLmJsb2NrbHlFZGl0aW5nKTpob3Zlcj5yZWN0LFwiLGAke2F9IC5ibG9ja2x5RHJhZ2dhYmxlOm5vdCguYmxvY2tseURpc2FibGVkKWAsXCIgLmJsb2NrbHlFZGl0YWJsZUZpZWxkOm5vdCguYmxvY2tseUVkaXRpbmcpOmhvdmVyPi5ibG9ja2x5UGF0aCB7XCIsXCJzdHJva2U6ICNmZmY7XCIsXCJzdHJva2Utd2lkdGg6IDI7XCIsXCJ9XCIsYCR7YX0gLmJsb2NrbHlIdG1sSW5wdXQge2AsYGZvbnQtZmFtaWx5OiAke3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZfTtgLGBmb250LXdlaWdodDogJHt0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVH07YCxcImNvbG9yOiAjNTc1RTc1O1wiLFwifVwiLGAke2F9IC5ibG9ja2x5RHJvcGRvd25UZXh0IHtgLFxuXCJmaWxsOiAjZmZmICFpbXBvcnRhbnQ7XCIsXCJ9XCIsYCR7YX0uYmxvY2tseVdpZGdldERpdiAuYmxvY2tseU1lbnVJdGVtLGAsYCR7YX0uYmxvY2tseURyb3BEb3duRGl2IC5ibG9ja2x5TWVudUl0ZW0ge2AsYGZvbnQtZmFtaWx5OiAke3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZfTtgLFwifVwiLGAke2F9LmJsb2NrbHlEcm9wRG93bkRpdiAuYmxvY2tseU1lbnVJdGVtQ29udGVudCB7YCxcImNvbG9yOiAjZmZmO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5SGlnaGxpZ2h0ZWRDb25uZWN0aW9uUGF0aCB7YCxgc3Ryb2tlOiAke3RoaXMuU0VMRUNURURfR0xPV19DT0xPVVJ9O2AsXCJ9XCIsYCR7YX0gLmJsb2NrbHlEaXNhYmxlZFBhdHRlcm4gPiAuYmxvY2tseU91dGxpbmVQYXRoIHtgLFwiZmlsbDogdmFyKC0tYmxvY2tseURpc2FibGVkUGF0dGVybilcIixcIn1cIixgJHthfSAuYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGgge2AsYGZpbGwtb3BhY2l0eTogJHt0aGlzLklOU0VSVElPTl9NQVJLRVJfT1BBQ0lUWX07YCxcblwic3Ryb2tlOiBub25lO1wiLFwifVwiLGAke2F9IC5ibG9ja2x5U2VsZWN0ZWQ+LmJsb2NrbHlQYXRoLmJsb2NrbHlQYXRoU2VsZWN0ZWQge2AsXCJmaWxsOiBub25lO1wiLFwiZmlsdGVyOiB2YXIoLS1ibG9ja2x5U2VsZWN0ZWRHbG93RmlsdGVyKTtcIixcIn1cIixgJHthfSAuYmxvY2tseVJlcGxhY2VhYmxlPi5ibG9ja2x5UGF0aCB7YCxcImZpbHRlcjogdmFyKC0tYmxvY2tseVJlcGxhY2VtZW50R2xvd0ZpbHRlcik7XCIsXCJ9XCJdfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRjb25zdGFudHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRjb25zdGFudHMuQ29uc3RhbnRQcm92aWRlcj1Db25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGNvbnN0YW50czt2YXIgRHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGRyYXdlcj1jbGFzcyBleHRlbmRzIERyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kZHJhd2Vye2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKX1kcmF3KCl7Y29uc3QgYT10aGlzLmJsb2NrXy5wYXRoT2JqZWN0O2EuYmVnaW5EcmF3aW5nKCk7dGhpcy5kcmF3T3V0bGluZV8oKTt0aGlzLmRyYXdJbnRlcm5hbHNfKCk7dGhpcy51cGRhdGVDb25uZWN0aW9uSGlnaGxpZ2h0cygpO2Euc2V0UGF0aCh0aGlzLm91dGxpbmVQYXRoXytcIlxcblwiK3RoaXMuaW5saW5lUGF0aF8pO3RoaXMuaW5mb18uUlRMJiZhLmZsaXBSVEwoKTt0aGlzLnJlY29yZFNpemVPbkJsb2NrXygpO3RoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbiYmKGEub3V0cHV0U2hhcGVUeXBlPXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5zaGFwZS50eXBlKTthLmVuZERyYXdpbmcoKX1kcmF3T3V0bGluZV8oKXt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24mJlxudGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmlzRHluYW1pY1NoYXBlJiYhdGhpcy5pbmZvXy5oYXNTdGF0ZW1lbnRJbnB1dCYmIXRoaXMuaW5mb18uYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uPyh0aGlzLmRyYXdGbGF0VG9wXygpLHRoaXMuZHJhd1JpZ2h0RHluYW1pY0Nvbm5lY3Rpb25fKCksdGhpcy5kcmF3RmxhdEJvdHRvbV8oKSx0aGlzLmRyYXdMZWZ0RHluYW1pY0Nvbm5lY3Rpb25fKCkpOnN1cGVyLmRyYXdPdXRsaW5lXygpfWRyYXdMZWZ0Xygpe3RoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmlzRHluYW1pY1NoYXBlP3RoaXMuZHJhd0xlZnREeW5hbWljQ29ubmVjdGlvbl8oKTpzdXBlci5kcmF3TGVmdF8oKX1kcmF3UmlnaHRTaWRlUm93XyhhKXtpZighKGEuaGVpZ2h0PD0wKSl7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoYSkpe2NvbnN0IGQ9XG5hLnByZWNlZGVzU3RhdGVtZW50O3ZhciBiPWEuZm9sbG93c1N0YXRlbWVudDtpZihkfHxiKXtjb25zdCBlPXRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUzt2YXIgYz1lLnJpZ2h0SGVpZ2h0O2M9YS5oZWlnaHQtKGQ/YzowKTtiPWI/ZS5wYXRoQm90dG9tUmlnaHQ6XCJcIjthPWM+MD9saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLGEueVBvcytjKTpcIlwiO3RoaXMub3V0bGluZVBhdGhfKz1iK2ErKGQ/ZS5wYXRoVG9wUmlnaHQ6XCJcIik7cmV0dXJufX10aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixhLnlQb3MrYS5oZWlnaHQpfX1kcmF3UmlnaHREeW5hbWljQ29ubmVjdGlvbl8oKXtpZighdGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uKXRocm93IEVycm9yKFwiQ2Fubm90IGRyYXcgdGhlIG91dHB1dCBjb25uZWN0aW9uIG9mIGEgYmxvY2sgdGhhdCBkb2Vzbid0IGhhdmUgb25lXCIpO1xudGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5zaGFwZS5wYXRoUmlnaHREb3duKHRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5oZWlnaHQpfWRyYXdMZWZ0RHluYW1pY0Nvbm5lY3Rpb25fKCl7aWYoIXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbil0aHJvdyBFcnJvcihcIkNhbm5vdCBkcmF3IHRoZSBvdXRwdXQgY29ubmVjdGlvbiBvZiBhIGJsb2NrIHRoYXQgZG9lc24ndCBoYXZlIG9uZVwiKTt0aGlzLnBvc2l0aW9uT3V0cHV0Q29ubmVjdGlvbl8oKTt0aGlzLm91dGxpbmVQYXRoXys9dGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLnNoYXBlLnBhdGhVcCh0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uaGVpZ2h0KTt0aGlzLm91dGxpbmVQYXRoXys9XCJ6XCJ9ZHJhd0ZsYXRUb3BfKCl7Y29uc3QgYT10aGlzLmluZm9fLnRvcFJvdzt0aGlzLnBvc2l0aW9uUHJldmlvdXNDb25uZWN0aW9uXygpO3RoaXMub3V0bGluZVBhdGhfKz1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS54UG9zLFxudGhpcy5pbmZvXy5zdGFydFkpO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLGEud2lkdGgpfWRyYXdGbGF0Qm90dG9tXygpe2NvbnN0IGE9dGhpcy5pbmZvXy5ib3R0b21Sb3c7dGhpcy5wb3NpdGlvbk5leHRDb25uZWN0aW9uXygpO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLGEuYmFzZWxpbmUpO3RoaXMub3V0bGluZVBhdGhfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiaFwiLC1hLndpZHRoKX1kcmF3SW5saW5lSW5wdXRfKGEpe3RoaXMucG9zaXRpb25JbmxpbmVJbnB1dENvbm5lY3Rpb25fKGEpO2NvbnN0IGI9YS5pbnB1dC5uYW1lO2EuY29ubmVjdGVkQmxvY2t8fHRoaXMuaW5mb18uaXNJbnNlcnRpb25NYXJrZXJ8fChhPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MrXG5hLmNvbm5lY3Rpb25XaWR0aCxhLmNlbnRlcmxpbmUtYS5oZWlnaHQvMikrdGhpcy5nZXRJbmxpbmVJbnB1dFBhdGgoYSksdGhpcy5ibG9ja18ucGF0aE9iamVjdC5zZXRPdXRsaW5lUGF0aChiLGEpKX1nZXRJbmxpbmVJbnB1dFBhdGgoYSl7Y29uc3QgYj1hLndpZHRoLWEuY29ubmVjdGlvbldpZHRoKjIsYz1hLmhlaWdodDtyZXR1cm4gbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixiKSthLnNoYXBlLnBhdGhSaWdodERvd24oYykrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIiwtYikrYS5zaGFwZS5wYXRoVXAoYykrXCJ6XCJ9ZHJhd1N0YXRlbWVudElucHV0XyhhKXt2YXIgYj1hLmdldExhc3RJbnB1dCgpO2NvbnN0IGM9Yi54UG9zK2Iubm90Y2hPZmZzZXQrYi5zaGFwZS53aWR0aCxkPXRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUyxlPWIuc2hhcGUucGF0aFJpZ2h0K2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJoXCIsXG4tKGIubm90Y2hPZmZzZXQtZC53aWR0aCkpK2QucGF0aFRvcCxmPWEuaGVpZ2h0LTIqZC5oZWlnaHQ7Yj1kLnBhdGhCb3R0b20rbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixiLm5vdGNoT2Zmc2V0LWQud2lkdGgpKyhiLmNvbm5lY3RlZEJvdHRvbU5leHRDb25uZWN0aW9uP1wiXCI6Yi5zaGFwZS5wYXRoTGVmdCk7dGhpcy5vdXRsaW5lUGF0aF8rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJIXCIsYykrZStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLGYpK2IrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixhLnhQb3MrYS53aWR0aCk7dGhpcy5wb3NpdGlvblN0YXRlbWVudElucHV0Q29ubmVjdGlvbl8oYSl9ZHJhd0Nvbm5lY3Rpb25IaWdobGlnaHRQYXRoKGEpe2NvbnN0IGI9YS5jb25uZWN0aW9uTW9kZWw7XG5pZihiLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVHx8Yi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UfHxiLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUUmJiFhLmlzRHluYW1pY1NoYXBlKXJldHVybiBzdXBlci5kcmF3Q29ubmVjdGlvbkhpZ2hsaWdodFBhdGgoYSk7YT1iLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5JTlBVVF9WQUxVRT9tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS5jb25uZWN0aW9uV2lkdGgsLWEuaGVpZ2h0LzIpK3RoaXMuZ2V0SW5saW5lSW5wdXRQYXRoKGEpOm1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLndpZHRoLFxuLWEuaGVpZ2h0LzIpK2Euc2hhcGUucGF0aERvd24oYS5oZWlnaHQpO2NvbnN0IGM9Yi5nZXRTb3VyY2VCbG9jaygpO2xldCBkLGU7cmV0dXJuKGU9KGQ9Yy5wYXRoT2JqZWN0KS5hZGRDb25uZWN0aW9uSGlnaGxpZ2h0KT09bnVsbD92b2lkIDA6ZS5jYWxsKGQsYixhLGIuZ2V0T2Zmc2V0SW5CbG9jaygpLGMuUlRMKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkZHJhd2VyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkZHJhd2VyLkRyYXdlcj1EcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkZHJhd2VyO3ZhciBGaWVsZEltYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW1hZ2U9Y2xhc3MgZXh0ZW5kcyBGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxke2NvbnN0cnVjdG9yKGEsYixjLGQsZSxmLGcpe3N1cGVyKEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCk7dGhpcy5pbWFnZUVsZW1lbnQ9dGhpcy5jbGlja0hhbmRsZXI9bnVsbDt0aGlzLmZsaXBSdGw9dGhpcy5pc0RpcnR5Xz10aGlzLkVESVRBQkxFPSExO3RoaXMuYWx0VGV4dD1cIlwiO2M9TnVtYmVyKHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYykpO2I9TnVtYmVyKHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYikpO2lmKGlzTmFOKGMpfHxpc05hTihiKSl0aHJvdyBFcnJvcihcIkhlaWdodCBhbmQgd2lkdGggdmFsdWVzIG9mIGFuIGltYWdlIGZpZWxkIG11c3QgY2FzdCB0byBudW1iZXJzLlwiKTtcbmlmKGM8PTB8fGI8PTApdGhyb3cgRXJyb3IoXCJIZWlnaHQgYW5kIHdpZHRoIHZhbHVlcyBvZiBhbiBpbWFnZSBmaWVsZCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLlwiKTt0aGlzLnNpemVfPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShiLGMrRmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlLllfUEFERElORyk7dGhpcy5pbWFnZUhlaWdodD1jO3R5cGVvZiBlPT09XCJmdW5jdGlvblwiJiYodGhpcy5jbGlja0hhbmRsZXI9ZSk7YSE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCYmKGc/dGhpcy5jb25maWd1cmVfKGcpOih0aGlzLmZsaXBSdGw9ISFmLHRoaXMuYWx0VGV4dD1yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGQpfHxcIlwiKSx0aGlzLnNldFZhbHVlKHJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSkpKX1jb25maWd1cmVfKGEpe3N1cGVyLmNvbmZpZ3VyZV8oYSk7XG5hLmZsaXBSdGwmJih0aGlzLmZsaXBSdGw9YS5mbGlwUnRsKTthLmFsdCYmKHRoaXMuYWx0VGV4dD1yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEuYWx0KSl9aW5pdFZpZXcoKXt0aGlzLmltYWdlRWxlbWVudD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5JTUFHRSx7aGVpZ2h0OnRoaXMuaW1hZ2VIZWlnaHQrXCJweFwiLHdpZHRoOnRoaXMuc2l6ZV8ud2lkdGgrXCJweFwiLGFsdDp0aGlzLmFsdFRleHR9LHRoaXMuZmllbGRHcm91cF8pO3RoaXMuaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLHRoaXMudmFsdWVfKTt0aGlzLmZpZWxkR3JvdXBfJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfLFxuXCJibG9ja2x5SW1hZ2VGaWVsZFwiKTt0aGlzLmNsaWNrSGFuZGxlciYmKHRoaXMuaW1hZ2VFbGVtZW50LnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIil9dXBkYXRlU2l6ZV8oKXt9ZG9DbGFzc1ZhbGlkYXRpb25fKGEpe3JldHVybiB0eXBlb2YgYSE9PVwic3RyaW5nXCI/bnVsbDphfWRvVmFsdWVVcGRhdGVfKGEpe3RoaXMudmFsdWVfPWE7dGhpcy5pbWFnZUVsZW1lbnQmJnRoaXMuaW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tLFwieGxpbms6aHJlZlwiLHRoaXMudmFsdWVfKX1nZXRGbGlwUnRsKCl7cmV0dXJuIHRoaXMuZmxpcFJ0bH1zZXRBbHQoYSl7YSE9PXRoaXMuYWx0VGV4dCYmKHRoaXMuYWx0VGV4dD1hfHxcIlwiLHRoaXMuaW1hZ2VFbGVtZW50JiZ0aGlzLmltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhbHRcIix0aGlzLmFsdFRleHQpKX1pc0NsaWNrYWJsZSgpe3JldHVybiBzdXBlci5pc0NsaWNrYWJsZSgpJiYhIXRoaXMuY2xpY2tIYW5kbGVyfXNob3dFZGl0b3JfKCl7dGhpcy5jbGlja0hhbmRsZXImJlxudGhpcy5jbGlja0hhbmRsZXIodGhpcyl9c2V0T25DbGlja0hhbmRsZXIoYSl7dGhpcy5jbGlja0hhbmRsZXI9YX1nZXRUZXh0Xygpe3JldHVybiB0aGlzLmFsdFRleHR9c3RhdGljIGZyb21Kc29uKGEpe2lmKCFhLnNyY3x8IWEud2lkdGh8fCFhLmhlaWdodCl0aHJvdyBFcnJvcihcInNyYywgd2lkdGgsIGFuZCBoZWlnaHQgdmFsdWVzIGZvciBhbiBpbWFnZSBmaWVsZCBhcmVyZXF1aXJlZC4gVGhlIHdpZHRoIGFuZCBoZWlnaHQgbXVzdCBiZSBub24temVyby5cIik7cmV0dXJuIG5ldyB0aGlzKGEuc3JjLGEud2lkdGgsYS5oZWlnaHQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYSl9fTtGaWVsZEltYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW1hZ2UuWV9QQURESU5HPTE7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX2ltYWdlXCIsRmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlKTtcbkZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZS5wcm90b3R5cGUuREVGQVVMVF9WQUxVRT1cIlwiO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW1hZ2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlLkZpZWxkSW1hZ2U9RmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlO3ZhciBNSU5JTVVNX1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQ9MTQsRmllbGRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0PWNsYXNzIGV4dGVuZHMgRmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZHtzZXQgc2l6ZV8oYSl7c3VwZXIuc2l6ZV89YX1nZXQgc2l6ZV8oKXtjb25zdCBhPXN1cGVyLnNpemVfO2Eud2lkdGg8TUlOSU1VTV9XSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0JiYoYS53aWR0aD1NSU5JTVVNX1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQpO3JldHVybiBhfWNvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMuc3BlbGxjaGVja189ITA7dGhpcy5odG1sSW5wdXRfPW51bGw7dGhpcy5pc1RleHRWYWxpZF89dGhpcy5pc0JlaW5nRWRpdGVkXz0hMTt0aGlzLm9uSW5wdXRXcmFwcGVyPVxudGhpcy5vbktleURvd25XcmFwcGVyPXRoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXz1udWxsO3RoaXMuZnVsbEJsb2NrQ2xpY2tUYXJnZXRfPSExO3RoaXMud29ya3NwYWNlXz1udWxsO3RoaXMuU0VSSUFMSVpBQkxFPSEwO2EhPT1GaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVAmJihjJiZ0aGlzLmNvbmZpZ3VyZV8oYyksdGhpcy5zZXRWYWx1ZShhKSxiJiZ0aGlzLnNldFZhbGlkYXRvcihiKSl9Y29uZmlndXJlXyhhKXtzdXBlci5jb25maWd1cmVfKGEpO2Euc3BlbGxjaGVjayE9PXZvaWQgMCYmKHRoaXMuc3BlbGxjaGVja189YS5zcGVsbGNoZWNrKX1pbml0Vmlldygpe2lmKCF0aGlzLmdldFNvdXJjZUJsb2NrKCkpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7c3VwZXIuaW5pdFZpZXcoKTt0aGlzLmlzRnVsbEJsb2NrRmllbGQoKSYmKHRoaXMuY2xpY2tUYXJnZXRfPXRoaXMuc291cmNlQmxvY2tfLmdldFN2Z1Jvb3QoKSk7XG50aGlzLmZpZWxkR3JvdXBfJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfLFwiYmxvY2tseUlucHV0RmllbGRcIil9aXNGdWxsQmxvY2tGaWVsZCgpe2NvbnN0IGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFhKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2xldCBiO3JldHVybiB0aGlzLmZ1bGxCbG9ja0NsaWNrVGFyZ2V0Xz0hKChiPXRoaXMuZ2V0Q29uc3RhbnRzKCkpPT1udWxsfHwhYi5GVUxMX0JMT0NLX0ZJRUxEUykmJmEuaXNTaW1wbGVSZXBvcnRlcigpfWRvVmFsdWVJbnZhbGlkXyhhLGI9ITApe3RoaXMuaXNCZWluZ0VkaXRlZF8mJih0aGlzLmlzRGlydHlfPSEwLHRoaXMuaXNUZXh0VmFsaWRfPSExLGE9dGhpcy52YWx1ZV8sdGhpcy52YWx1ZV89dGhpcy52YWx1ZVdoZW5FZGl0b3JXYXNPcGVuZWRfLHRoaXMuc291cmNlQmxvY2tfJiZpc0VuYWJsZWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSYmXG50aGlzLnZhbHVlXyE9PWEmJmImJmZpcmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMobmV3IChnZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFKSkodGhpcy5zb3VyY2VCbG9ja18sXCJmaWVsZFwiLHRoaXMubmFtZXx8bnVsbCxhLHRoaXMudmFsdWVfKSkpfWRvVmFsdWVVcGRhdGVfKGEpe3RoaXMuaXNUZXh0VmFsaWRfPXRoaXMuaXNEaXJ0eV89ITA7dGhpcy52YWx1ZV89YX1hcHBseUNvbG91cigpe2NvbnN0IGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFhKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3RoaXMuZ2V0Q29uc3RhbnRzKCkuRlVMTF9CTE9DS19GSUVMRFMmJnRoaXMuZmllbGRHcm91cF8mJighdGhpcy5pc0Z1bGxCbG9ja0ZpZWxkKCkmJnRoaXMuYm9yZGVyUmVjdF8/XG4odGhpcy5ib3JkZXJSZWN0Xy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLGEuZ2V0Q29sb3VyVGVydGlhcnkoKSkpOih0aGlzLmJvcmRlclJlY3RfLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYS5wYXRoT2JqZWN0LnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfQ09MT1VSKSkpfWdldFNpemUoKXtsZXQgYTtpZigoYT10aGlzLmdldENvbnN0YW50cygpKT09bnVsbD8wOmEuRlVMTF9CTE9DS19GSUVMRFMpdGhpcy5yZW5kZXJfKCksdGhpcy5pc0RpcnR5Xz0hMTtyZXR1cm4gc3VwZXIuZ2V0U2l6ZSgpfW9uTG9jYXRpb25DaGFuZ2UoKXt0aGlzLmlzQmVpbmdFZGl0ZWRfJiZ0aGlzLnJlc2l6ZUVkaXRvcl8oKX1yZW5kZXJfKCl7c3VwZXIucmVuZGVyXygpO2lmKHRoaXMuaXNCZWluZ0VkaXRlZF8pe3ZhciBhPXRoaXMuaHRtbElucHV0Xzt0aGlzLmlzVGV4dFZhbGlkXz9cbihyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseUludmFsaWRJbnB1dFwiKSxzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYSxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuSU5WQUxJRCwhMSkpOihhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseUludmFsaWRJbnB1dFwiKSxzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEoYSxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuSU5WQUxJRCwhMCkpfWE9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFhKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3RoaXMuZ2V0Q29uc3RhbnRzKCkuRlVMTF9CTE9DS19GSUVMRFMmJmEuYXBwbHlDb2xvdXIoKX1zZXRTcGVsbGNoZWNrKGEpe2EhPT1cbnRoaXMuc3BlbGxjaGVja18mJih0aGlzLnNwZWxsY2hlY2tfPWEsdGhpcy5odG1sSW5wdXRfJiZ0aGlzLmh0bWxJbnB1dF8uc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLHRoaXMuc3BlbGxjaGVja18pKX1zaG93RWRpdG9yXyhhLGI9ITEsYz0hMCl7dGhpcy53b3Jrc3BhY2VfPXRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZTshYiYmdGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMubW9kYWxJbnB1dHMmJihNT0JJTEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnR8fEFORFJPSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnR8fElQQUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR1c2VyYWdlbnQpP3RoaXMuc2hvd1Byb21wdEVkaXRvcigpOnRoaXMuc2hvd0lubGluZUVkaXRvcihiLGMpfXNob3dQcm9tcHRFZGl0b3IoKXtwcm9tcHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2coJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ0hBTkdFX1ZBTFVFX1RJVExFLFxudGhpcy5nZXRUZXh0KCksYT0+e2EhPT1udWxsJiZ0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWVGcm9tRWRpdG9yVGV4dF8oYSkpO3RoaXMub25GaW5pc2hFZGl0aW5nXyh0aGlzLnZhbHVlXyl9KX1zaG93SW5saW5lRWRpdG9yKGEsYil7Y29uc3QgYz10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWMpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7c2hvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzLGMuUlRMLHRoaXMud2lkZ2V0RGlzcG9zZV8uYmluZCh0aGlzKSx0aGlzLndvcmtzcGFjZV8sYik7dGhpcy5odG1sSW5wdXRfPXRoaXMud2lkZ2V0Q3JlYXRlXygpO3RoaXMuaXNCZWluZ0VkaXRlZF89ITA7dGhpcy52YWx1ZVdoZW5FZGl0b3JXYXNPcGVuZWRfPXRoaXMudmFsdWVfO2F8fCh0aGlzLmh0bWxJbnB1dF8uZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KSx0aGlzLmh0bWxJbnB1dF8uc2VsZWN0KCkpfXdpZGdldENyZWF0ZV8oKXt2YXIgYT1cbnRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTtjb25zdCBiPWdldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpO3ZhciBjPXRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCk7aWYoIWMpdGhyb3cgRXJyb3IoXCJBIGNsaWNrIHRhcmdldCBoYXMgbm90IGJlZW4gc2V0LlwiKTthZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShjLFwiYmxvY2tseUVkaXRpbmdcIik7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5jbGFzc05hbWU9XCJibG9ja2x5SHRtbElucHV0XCI7Yy5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsdGhpcy5zcGVsbGNoZWNrXyk7Y29uc3QgZD10aGlzLndvcmtzcGFjZV8uZ2V0QWJzb2x1dGVTY2FsZSgpO3ZhciBlPXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9GT05UU0laRSpcbmQrXCJwdFwiO2Iuc3R5bGUuZm9udFNpemU9ZTtjLnN0eWxlLmZvbnRTaXplPWU7ZT1GaWVsZElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQuQk9SREVSUkFESVVTKmQrXCJweFwiO3RoaXMuaXNGdWxsQmxvY2tGaWVsZCgpJiYoZT10aGlzLmdldFNjYWxlZEJCb3goKSxlPShlLmJvdHRvbS1lLnRvcCkvMitcInB4XCIsYT1hLmdldFBhcmVudCgpP2EuZ2V0UGFyZW50KCkuZ2V0Q29sb3VyVGVydGlhcnkoKTp0aGlzLnNvdXJjZUJsb2NrXy5nZXRDb2xvdXJUZXJ0aWFyeSgpLGMuc3R5bGUuYm9yZGVyPTEqZCtcInB4IHNvbGlkIFwiK2EsYi5zdHlsZS5ib3JkZXJSYWRpdXM9ZSxiLnN0eWxlLnRyYW5zaXRpb249XCJib3gtc2hhZG93IDAuMjVzIGVhc2UgMHNcIix0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRJTlBVVF9CT1hfU0hBRE9XJiYoYi5zdHlsZS5ib3hTaGFkb3c9XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykgMCAwIDAgXCIrNCpkK1wicHhcIikpO2Muc3R5bGUuYm9yZGVyUmFkaXVzPVxuZTtiLmFwcGVuZENoaWxkKGMpO2MudmFsdWU9Yy5kZWZhdWx0VmFsdWU9dGhpcy5nZXRFZGl0b3JUZXh0Xyh0aGlzLnZhbHVlXyk7Yy5zZXRBdHRyaWJ1dGUoXCJkYXRhLXVudHlwZWQtZGVmYXVsdC12YWx1ZVwiLFN0cmluZyh0aGlzLnZhbHVlXykpO3RoaXMucmVzaXplRWRpdG9yXygpO3RoaXMuYmluZElucHV0RXZlbnRzXyhjKTtyZXR1cm4gY313aWRnZXREaXNwb3NlXygpe3RoaXMuaXNCZWluZ0VkaXRlZF89ITE7dGhpcy5pc1RleHRWYWxpZF89ITA7dGhpcy5mb3JjZVJlcmVuZGVyKCk7dGhpcy5vbkZpbmlzaEVkaXRpbmdfKHRoaXMudmFsdWVfKTt0aGlzLnNvdXJjZUJsb2NrXyYmaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJnRoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXyE9PW51bGwmJnRoaXMudmFsdWVXaGVuRWRpdG9yV2FzT3BlbmVkXyE9PXRoaXMudmFsdWVfJiYoZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19DSEFOR0UpKSh0aGlzLnNvdXJjZUJsb2NrXyxcblwiZmllbGRcIix0aGlzLm5hbWV8fG51bGwsdGhpcy52YWx1ZVdoZW5FZGl0b3JXYXNPcGVuZWRfLHRoaXMudmFsdWVfKSksdGhpcy52YWx1ZVdoZW5FZGl0b3JXYXNPcGVuZWRfPW51bGwpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpO3RoaXMudW5iaW5kSW5wdXRFdmVudHNfKCk7dmFyIGE9Z2V0RGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KCkuc3R5bGU7YS53aWR0aD1cImF1dG9cIjthLmhlaWdodD1cImF1dG9cIjthLmZvbnRTaXplPVwiXCI7YS50cmFuc2l0aW9uPVwiXCI7YS5ib3hTaGFkb3c9XCJcIjt0aGlzLmh0bWxJbnB1dF89bnVsbDthPXRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCk7aWYoIWEpdGhyb3cgRXJyb3IoXCJBIGNsaWNrIHRhcmdldCBoYXMgbm90IGJlZW4gc2V0LlwiKTtyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLFwiYmxvY2tseUVkaXRpbmdcIil9b25GaW5pc2hFZGl0aW5nXyhhKXt9YmluZElucHV0RXZlbnRzXyhhKXt0aGlzLm9uS2V5RG93bldyYXBwZXI9XG5jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLFwia2V5ZG93blwiLHRoaXMsdGhpcy5vbkh0bWxJbnB1dEtleURvd25fKTt0aGlzLm9uSW5wdXRXcmFwcGVyPWNvbmRpdGlvbmFsQmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEsXCJpbnB1dFwiLHRoaXMsdGhpcy5vbkh0bWxJbnB1dENoYW5nZSl9dW5iaW5kSW5wdXRFdmVudHNfKCl7dGhpcy5vbktleURvd25XcmFwcGVyJiYodW5iaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHModGhpcy5vbktleURvd25XcmFwcGVyKSx0aGlzLm9uS2V5RG93bldyYXBwZXI9bnVsbCk7dGhpcy5vbklucHV0V3JhcHBlciYmKHVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMub25JbnB1dFdyYXBwZXIpLHRoaXMub25JbnB1dFdyYXBwZXI9bnVsbCl9b25IdG1sSW5wdXRLZXlEb3duXyhhKXtpZihhLmtleT09PVwiRW50ZXJcIiloaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzKSxcbmhpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKTtlbHNlIGlmKGEua2V5PT09XCJFc2NhcGVcIil0aGlzLnNldFZhbHVlKHRoaXMuaHRtbElucHV0Xy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVudHlwZWQtZGVmYXVsdC12YWx1ZVwiKSwhMSksaGlkZUlmT3duZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXYodGhpcyksaGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpO2Vsc2UgaWYoYS5rZXk9PT1cIlRhYlwiKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGIsYz0oYj10aGlzLndvcmtzcGFjZV8pPT1udWxsP3ZvaWQgMDpiLmdldEN1cnNvcigpO2I9ZD0+KGQgaW5zdGFuY2VvZiBGaWVsZElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXR8fGQgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2ZyYmZC5pc1NpbXBsZVJlcG9ydGVyKCkpJiZcbmQhPT10aGlzLmdldFNvdXJjZUJsb2NrKCk7YT1hLnNoaWZ0S2V5P2M9PW51bGw/dm9pZCAwOmMuZ2V0UHJldmlvdXNOb2RlKHRoaXMsYiwhMSk6Yz09bnVsbD92b2lkIDA6Yy5nZXROZXh0Tm9kZSh0aGlzLGIsITEpO2E9YSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnJiZhLmlzU2ltcGxlUmVwb3J0ZXIoKT9hLmdldEZpZWxkcygpLm5leHQoKS52YWx1ZTphO2EgaW5zdGFuY2VvZiBGaWVsZElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQmJihoaWRlSWZPd25lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzKSxoaWRlV2l0aG91dEFuaW1hdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2KCksYz1hLmdldFNvdXJjZUJsb2NrKCksYS5pc0Z1bGxCbG9ja0ZpZWxkKCkmJmMmJmMgaW5zdGFuY2VvZiBCbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zz9cbiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLmZvY3VzTm9kZShjKTokLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoYSksYS5zaG93RWRpdG9yKCkpfX1vbkh0bWxJbnB1dENoYW5nZShhKXthPXRoaXMudmFsdWVfO3RoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZUZyb21FZGl0b3JUZXh0Xyh0aGlzLmh0bWxJbnB1dF8udmFsdWUpLCExKTt0aGlzLnNvdXJjZUJsb2NrXyYmaXNFbmFibGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkmJnRoaXMudmFsdWVfIT09YSYmZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhuZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFKSkodGhpcy5zb3VyY2VCbG9ja18sXG50aGlzLm5hbWV8fG51bGwsYSx0aGlzLnZhbHVlXykpfXNldEVkaXRvclZhbHVlXyhhLGI9ITApe3RoaXMuaXNEaXJ0eV89ITA7dGhpcy5pc0JlaW5nRWRpdGVkXyYmKHRoaXMuaHRtbElucHV0Xy52YWx1ZT10aGlzLmdldEVkaXRvclRleHRfKGEpKTt0aGlzLnNldFZhbHVlKGEsYil9cmVzaXplRWRpdG9yXygpe2ZpbmlzaFF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpLnRoZW4oKCk9Pntjb25zdCBhPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtjb25zdCBiPWdldERpdiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdigpLGM9dGhpcy5nZXRTY2FsZWRCQm94KCk7Yi5zdHlsZS53aWR0aD1jLnJpZ2h0LWMubGVmdCtcInB4XCI7Yi5zdHlsZS5oZWlnaHQ9Yy5ib3R0b20tYy50b3ArXCJweFwiO2NvbnN0IGQ9Yy50b3A7XG5iLnN0eWxlLmxlZnQ9YCR7YS5SVEw/Yy5yaWdodC1iLm9mZnNldFdpZHRoOmMubGVmdH1weGA7Yi5zdHlsZS50b3A9YCR7ZH1weGB9KX1yZXBvc2l0aW9uRm9yV2luZG93UmVzaXplKCl7bGV0IGE7Y29uc3QgYj0oYT10aGlzLmdldFNvdXJjZUJsb2NrKCkpPT1udWxsP3ZvaWQgMDphLmdldFJvb3RCbG9jaygpO2lmKCEoYiBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnKSlyZXR1cm4hMTtidW1wT2JqZWN0SW50b0JvdW5kcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1bXBfb2JqZWN0cyh0aGlzLndvcmtzcGFjZV8sdGhpcy53b3Jrc3BhY2VfLmdldE1ldHJpY3NNYW5hZ2VyKCkuZ2V0Vmlld01ldHJpY3MoITApLGIpfHx0aGlzLnJlc2l6ZUVkaXRvcl8oKTtyZXR1cm4hMH1wb3NpdGlvblRleHRFbGVtZW50XyhhLGIpe2NvbnN0IGM9YSoyK2I7c3VwZXIucG9zaXRpb25UZXh0RWxlbWVudF8oYSsoYzxNSU5JTVVNX1dJRFRIJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXQ/XG4oTUlOSU1VTV9XSURUSCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0LWMpLzI6MCksYil9Z2V0VGV4dF8oKXtyZXR1cm4gdGhpcy5pc0JlaW5nRWRpdGVkXyYmdGhpcy5odG1sSW5wdXRfP3RoaXMuaHRtbElucHV0Xy52YWx1ZTpudWxsfWdldEVkaXRvclRleHRfKGEpe3JldHVybmAke2F9YH1nZXRWYWx1ZUZyb21FZGl0b3JUZXh0XyhhKXtyZXR1cm4gYX19O0ZpZWxkSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dC5CT1JERVJSQURJVVM9NDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dC5GaWVsZElucHV0PUZpZWxkSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbnB1dDskLkZpZWxkVGV4dElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdGV4dGlucHV0PWNsYXNzIGV4dGVuZHMgRmllbGRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2lucHV0e2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhLGIsYyl9aW5pdFZpZXcoKXtzdXBlci5pbml0VmlldygpO3RoaXMuZmllbGRHcm91cF8mJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8sXCJibG9ja2x5VGV4dElucHV0RmllbGRcIil9ZG9DbGFzc1ZhbGlkYXRpb25fKGEpe3JldHVybiBhPT09dm9pZCAwP251bGw6YCR7YX1gfXN0YXRpYyBmcm9tSnNvbihhKXtyZXR1cm4gbmV3IHRoaXMocmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcGFyc2luZyhhLnRleHQpLHZvaWQgMCxhKX19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX2lucHV0XCIsJC5GaWVsZFRleHRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dCk7JC5GaWVsZFRleHRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dC5wcm90b3R5cGUuREVGQVVMVF9WQUxVRT1cIlwiO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdGV4dGlucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF90ZXh0aW5wdXQuRmllbGRUZXh0SW5wdXQ9JC5GaWVsZFRleHRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dDt2YXIgQm90dG9tUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGJvdHRvbV9yb3c9Y2xhc3MgZXh0ZW5kcyBCb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkYm90dG9tX3Jvd3tjb25zdHJ1Y3RvcihhKXtzdXBlcihhKX1lbmRzV2l0aEVsZW1TcGFjZXIoKXtyZXR1cm4hMX1oYXNMZWZ0U3F1YXJlQ29ybmVyKGEpe3JldHVybiEhYS5vdXRwdXRDb25uZWN0aW9ufWhhc1JpZ2h0U3F1YXJlQ29ybmVyKGEpe3JldHVybiEhYS5vdXRwdXRDb25uZWN0aW9uJiYhYS5zdGF0ZW1lbnRJbnB1dENvdW50JiYhYS5uZXh0Q29ubmVjdGlvbn19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGJvdHRvbV9yb3cuQm90dG9tUm93PUJvdHRvbVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRib3R0b21fcm93O3ZhciBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRpbnB1dHM9Y2xhc3MgZXh0ZW5kcyBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRzdGF0ZW1lbnRfaW5wdXR7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMuY29ubmVjdGVkQm90dG9tTmV4dENvbm5lY3Rpb249ITE7aWYodGhpcy5jb25uZWN0ZWRCbG9jayl7Zm9yKGE9dGhpcy5jb25uZWN0ZWRCbG9jaztiPWEuZ2V0TmV4dEJsb2NrKCk7KWE9YjthLm5leHRDb25uZWN0aW9ufHwodGhpcy5oZWlnaHQ9dGhpcy5jb25uZWN0ZWRCbG9ja0hlaWdodCx0aGlzLmNvbm5lY3RlZEJvdHRvbU5leHRDb25uZWN0aW9uPSEwKX19fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGlucHV0cz17fTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkaW5wdXRzLlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJGlucHV0czt2YXIgUmlnaHRDb25uZWN0aW9uU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkcm93X2VsZW1lbnRzPWNsYXNzIGV4dGVuZHMgTWVhc3VyYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRiYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ9MDt0aGlzLnR5cGV8PVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmdldFR5cGUoXCJSSUdIVF9DT05ORUNUSU9OXCIpfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRyb3dfZWxlbWVudHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRyb3dfZWxlbWVudHMuUmlnaHRDb25uZWN0aW9uU2hhcGU9UmlnaHRDb25uZWN0aW9uU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkcm93X2VsZW1lbnRzO3ZhciBUb3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkdG9wX3Jvdz1jbGFzcyBleHRlbmRzIFRvcFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0b3Bfcm93e2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpfWVuZHNXaXRoRWxlbVNwYWNlcigpe3JldHVybiExfWhhc0xlZnRTcXVhcmVDb3JuZXIoYSl7Y29uc3QgYj0oYS5oYXQ/YS5oYXQ9PT1cImNhcFwiOnRoaXMuY29uc3RhbnRzXy5BRERfU1RBUlRfSEFUUykmJiFhLm91dHB1dENvbm5lY3Rpb24mJiFhLnByZXZpb3VzQ29ubmVjdGlvbjtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbnx8Yn1oYXNSaWdodFNxdWFyZUNvcm5lcihhKXtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbiYmIWEuc3RhdGVtZW50SW5wdXRDb3VudCYmIWEubmV4dENvbm5lY3Rpb259fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHRvcF9yb3c9XG57fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHRvcF9yb3cuVG9wUm93PVRvcFJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyR0b3Bfcm93O3ZhciBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGluZm89Y2xhc3MgZXh0ZW5kcyBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpbmZve2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmlzSW5saW5lPSEwO3RoaXMucmVuZGVyZXJfPWE7dGhpcy5jb25zdGFudHNfPXRoaXMucmVuZGVyZXJfLmdldENvbnN0YW50cygpO3RoaXMudG9wUm93PW5ldyBUb3BSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkdG9wX3Jvdyh0aGlzLmNvbnN0YW50c18pO3RoaXMuYm90dG9tUm93PW5ldyBCb3R0b21Sb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkYm90dG9tX3Jvdyh0aGlzLmNvbnN0YW50c18pO3RoaXMuaXNNdWx0aVJvdz0hYi5nZXRJbnB1dHNJbmxpbmUoKXx8Yi5pc0NvbGxhcHNlZCgpO3RoaXMuaGFzU3RhdGVtZW50SW5wdXQ9XG5iLnN0YXRlbWVudElucHV0Q291bnQ+MDt0aGlzLnJpZ2h0U2lkZT10aGlzLm91dHB1dENvbm5lY3Rpb24/bmV3IFJpZ2h0Q29ubmVjdGlvblNoYXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHJvd19lbGVtZW50cyh0aGlzLmNvbnN0YW50c18pOm51bGw7dGhpcy5yaWdodEFsaWduZWREdW1teUlucHV0cz1uZXcgV2Vha01hcH1nZXRSZW5kZXJlcigpe3JldHVybiB0aGlzLnJlbmRlcmVyX31tZWFzdXJlKCl7dGhpcy5jcmVhdGVSb3dzXygpO3RoaXMuYWRkRWxlbVNwYWNpbmdfKCk7dGhpcy5hZGRSb3dTcGFjaW5nXygpO3RoaXMuYWRqdXN0WFBvc2l0aW9uXygpO3RoaXMuY29tcHV0ZUJvdW5kc18oKTt0aGlzLmFsaWduUm93RWxlbWVudHNfKCk7dGhpcy5maW5hbGl6ZV8oKX1zaG91bGRTdGFydE5ld1Jvd18oYSxiKXtyZXR1cm4gYj9iIGluc3RhbmNlb2YgRW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dHx8XG5hIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0fHxiIGluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0PyEwOmEgaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXR8fGEgaW5zdGFuY2VvZiBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0fHxhIGluc3RhbmNlb2YgRW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dD8hdGhpcy5pc0lubGluZXx8dGhpcy5pc011bHRpUm93OiExOiExfWdldERlc2lyZWRSb3dXaWR0aF8oYSl7cmV0dXJuIGEuaGFzU3RhdGVtZW50P3RoaXMud2lkdGgtdGhpcy5zdGFydFgtKHRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUy5yaWdodFdpZHRofHxcbjApOnN1cGVyLmdldERlc2lyZWRSb3dXaWR0aF8oYSl9Z2V0SW5Sb3dTcGFjaW5nXyhhLGIpe3JldHVybiBhJiZifHwhdGhpcy5vdXRwdXRDb25uZWN0aW9ufHwhdGhpcy5vdXRwdXRDb25uZWN0aW9uLmlzRHluYW1pY1NoYXBlfHx0aGlzLmhhc1N0YXRlbWVudElucHV0fHx0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbj8hYSYmYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKT90aGlzLmNvbnN0YW50c18uU1RBVEVNRU5UX0lOUFVUX1BBRERJTkdfTEVGVDphJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEpJiZiJiYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYil8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpP1xuYi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUzphJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYSkmJmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGIpfHxhJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGEpJiZhLndpZHRoPT09MD90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkd9Z2V0U3BhY2VyUm93SGVpZ2h0XyhhLGIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkVNUFRZX0JMT0NLX1NQQUNFUl9IRUlHSFQ7XG5jb25zdCBjPVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXRSb3coYSkmJmEuaGFzU3RhdGVtZW50LGQ9VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dFJvdyhiKSYmYi5oYXNTdGF0ZW1lbnQ7cmV0dXJuIGR8fGM/KGE9TWF0aC5tYXgodGhpcy5jb25zdGFudHNfLk5PVENIX0hFSUdIVCx0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucmlnaHRIZWlnaHR8fDApLGQmJmM/TWF0aC5tYXgoYSx0aGlzLmNvbnN0YW50c18uRFVNTVlfSU5QVVRfTUlOX0hFSUdIVCk6YSk6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNUb3BSb3coYSk/YS5oYXNQcmV2aW91c0Nvbm5lY3Rpb258fHRoaXMub3V0cHV0Q29ubmVjdGlvbiYmIXRoaXMuaGFzU3RhdGVtZW50SW5wdXQ/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6XG5NYXRoLmFicyh0aGlzLmNvbnN0YW50c18uTk9UQ0hfSEVJR0hULXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTKTpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhiKT90aGlzLm91dHB1dENvbm5lY3Rpb24/IWIuaGFzTmV4dENvbm5lY3Rpb24mJnRoaXMuaGFzU3RhdGVtZW50SW5wdXQ/TWF0aC5hYnModGhpcy5jb25zdGFudHNfLk5PVENIX0hFSUdIVC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUyk6dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6TWF0aC5tYXgodGhpcy50b3BSb3cubWluSGVpZ2h0LE1hdGgubWF4KHRoaXMuY29uc3RhbnRzXy5OT1RDSF9IRUlHSFQsdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVMpKS10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9Z2V0U3BhY2VyUm93V2lkdGhfKGEsYil7Y29uc3QgYz10aGlzLndpZHRoLVxudGhpcy5zdGFydFg7cmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXRSb3coYSkmJmEuaGFzU3RhdGVtZW50fHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGIpJiZiLmhhc1N0YXRlbWVudD9NYXRoLm1heChjLHRoaXMuY29uc3RhbnRzXy5TVEFURU1FTlRfSU5QVVRfU1BBQ0VSX01JTl9XSURUSCk6Y31nZXRFbGVtQ2VudGVybGluZV8oYSxiKXtpZihhLmhhc1N0YXRlbWVudCYmIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGIpJiYhVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKSlyZXR1cm4gYS55UG9zK3RoaXMuY29uc3RhbnRzXy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUL1xuMjtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpKXtjb25zdCBjPWIuY29ubmVjdGVkQmxvY2s7aWYoYyYmYy5vdXRwdXRDb25uZWN0aW9uJiZjLm5leHRDb25uZWN0aW9uKXJldHVybiBhLnlQb3MrYy5oZWlnaHQvMn1yZXR1cm4gc3VwZXIuZ2V0RWxlbUNlbnRlcmxpbmVfKGEsYil9YWRkSW5wdXRfKGEsYil7aWYoKGEgaW5zdGFuY2VvZiBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0fHxhIGluc3RhbmNlb2YgRW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dCkmJmIuaGFzRHVtbXlJbnB1dCYmYi5hbGlnbj09PSQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uTEVGVCYmYS5hbGlnbj09PSQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uUklHSFQpdGhpcy5yaWdodEFsaWduZWREdW1teUlucHV0cy5zZXQoYixcbmEpO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIFN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHN0YXRlbWVudF9pbnB1dCl7Yi5lbGVtZW50cy5wdXNoKG5ldyBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRpbnB1dHModGhpcy5jb25zdGFudHNfLGEpKTtiLmhhc1N0YXRlbWVudD0hMDtiLmFsaWduPT09bnVsbCYmKGIuYWxpZ249YS5hbGlnbik7cmV0dXJufXN1cGVyLmFkZElucHV0XyhhLGIpfWFkZEFsaWdubWVudFBhZGRpbmdfKGEsYil7aWYodGhpcy5yaWdodEFsaWduZWREdW1teUlucHV0cy5nZXQoYSkpe2xldCBjO2ZvcihsZXQgZD0wO2Q8YS5lbGVtZW50cy5sZW5ndGg7ZCsrKXtjb25zdCBlPWEuZWxlbWVudHNbZF07VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoZSkmJihjPWUpO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoZSkmJlxuZS5wYXJlbnRJbnB1dD09PXRoaXMucmlnaHRBbGlnbmVkRHVtbXlJbnB1dHMuZ2V0KGEpKWJyZWFrfWlmKGMpe2Mud2lkdGgrPWI7YS53aWR0aCs9YjtyZXR1cm59fXN1cGVyLmFkZEFsaWdubWVudFBhZGRpbmdfKGEsYil9YWRqdXN0WFBvc2l0aW9uXygpe2NvbnN0IGE9dGhpcy5jb25zdGFudHNfLk5PVENIX09GRlNFVF9MRUZUK3RoaXMuY29uc3RhbnRzXy5OT1RDSF9XSURUSDtsZXQgYj1hO2ZvcihsZXQgZT0yO2U8dGhpcy5yb3dzLmxlbmd0aC0xO2UrPTIpe3ZhciBjPXRoaXMucm93c1tlLTFdO2NvbnN0IGY9dGhpcy5yb3dzW2VdO3ZhciBkPXRoaXMucm93c1tlKzFdO2M9ZT09PTI/ISF0aGlzLnRvcFJvdy5oYXNQcmV2aW91c0Nvbm5lY3Rpb246ISFjLmZvbGxvd3NTdGF0ZW1lbnQ7ZD1lKzI+PXRoaXMucm93cy5sZW5ndGgtMT8hIXRoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uOiEhZC5wcmVjZWRlc1N0YXRlbWVudDtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0Um93KGYpJiZcbmYuaGFzU3RhdGVtZW50KXtmLm1lYXN1cmUoKTtsZXQgZyxoO2I9Zi53aWR0aC0oKGg9KGc9Zi5nZXRMYXN0SW5wdXQoKSk9PW51bGw/dm9pZCAwOmcud2lkdGgpIT1udWxsP2g6MCkrYX1lbHNlIGlmKGMmJihlPT09Mnx8ZCkmJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXRSb3coZikmJiFmLmhhc1N0YXRlbWVudCl7ZD1mLnhQb3M7Yz1udWxsO2ZvcihsZXQgZz0wO2c8Zi5lbGVtZW50cy5sZW5ndGg7ZysrKXtjb25zdCBoPWYuZWxlbWVudHNbZ107VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoaCkmJihjPWgpOyEoYyYmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoaCl8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoaCkpJiZcbmQ8Yil8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoaCkmJihoLmZpZWxkIGluc3RhbmNlb2YgRmllbGRMYWJlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsfHxoLmZpZWxkIGluc3RhbmNlb2YgRmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlKXx8KGMud2lkdGgrPWItZCk7ZCs9aC53aWR0aH19fX1maW5hbGl6ZU91dHB1dENvbm5lY3Rpb25fKCl7aWYodGhpcy5vdXRwdXRDb25uZWN0aW9uJiZ0aGlzLm91dHB1dENvbm5lY3Rpb24uaXNEeW5hbWljU2hhcGUpe3ZhciBhPXRoaXMub3V0cHV0Q29ubmVjdGlvbi5zaGFwZTtpZihcImlzRHluYW1pY1wiaW4gYSYmYS5pc0R5bmFtaWMpe3ZhciBiPTA7Zm9yKHZhciBjPTA7Yzx0aGlzLnJvd3MubGVuZ3RoO2MrKyl7Y29uc3QgZD10aGlzLnJvd3NbY107ZC55UG9zPWI7Yis9ZC5oZWlnaHR9dGhpcy5oZWlnaHQ9YjtjPXRoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uP1xudGhpcy5oZWlnaHQtdGhpcy5ib3R0b21Sb3cuZGVzY2VuZGVySGVpZ2h0OnRoaXMuaGVpZ2h0O2I9YS5oZWlnaHQoYyk7Yz1hLndpZHRoKGMpO3RoaXMub3V0cHV0Q29ubmVjdGlvbi5oZWlnaHQ9Yjt0aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGg9Yzt0aGlzLm91dHB1dENvbm5lY3Rpb24uc3RhcnRYPWM7dGhpcy5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3Rpb25PZmZzZXRZPWEuY29ubmVjdGlvbk9mZnNldFkoYik7dGhpcy5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3Rpb25PZmZzZXRYPWEuY29ubmVjdGlvbk9mZnNldFgoYyk7YT0wO3RoaXMuaGFzU3RhdGVtZW50SW5wdXR8fHRoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9ufHwoYT1jLHRoaXMucmlnaHRTaWRlLmhlaWdodD1iLHRoaXMucmlnaHRTaWRlLndpZHRoPWEsdGhpcy5yaWdodFNpZGUuY2VudGVybGluZT1iLzIsdGhpcy5yaWdodFNpZGUueFBvcz10aGlzLndpZHRoK2EpO3RoaXMuc3RhcnRYPWM7dGhpcy53aWR0aCs9XG5jK2E7dGhpcy53aWR0aFdpdGhDaGlsZHJlbis9YythfX19ZmluYWxpemVIb3Jpem9udGFsQWxpZ25tZW50Xygpe2lmKHRoaXMub3V0cHV0Q29ubmVjdGlvbiYmIXRoaXMuaGFzU3RhdGVtZW50SW5wdXQmJiF0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbil7dmFyIGE9MDtmb3IodmFyIGI9MDtiPHRoaXMucm93cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLnJvd3NbYl07aWYoIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXRSb3coYykpY29udGludWU7YT1jLmVsZW1lbnRzW2MuZWxlbWVudHMubGVuZ3RoLTJdO2xldCBkPXRoaXMuZ2V0TmVnYXRpdmVTcGFjaW5nXyhjLmVsZW1lbnRzWzFdKSxlPXRoaXMuZ2V0TmVnYXRpdmVTcGFjaW5nXyhhKTthPWQrZTtjb25zdCBmPXRoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfV0lEVEgrdGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoKjI7dGhpcy53aWR0aC1hPGYmJihhPVxudGhpcy53aWR0aC1mLGQ9YS8yLGU9YS8yKTtjLmVsZW1lbnRzLnVuc2hpZnQobmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLC1kKSk7Yy5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXywtZSkpfWlmKGEpZm9yKHRoaXMud2lkdGgtPWEsdGhpcy53aWR0aFdpdGhDaGlsZHJlbi09YSx0aGlzLnJpZ2h0U2lkZS54UG9zLT1hLGI9MDtiPHRoaXMucm93cy5sZW5ndGg7YisrKWM9dGhpcy5yb3dzW2JdLFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wT3JCb3R0b21Sb3coYykmJihjLmVsZW1lbnRzWzFdLndpZHRoLT1hKSxjLndpZHRoLT1hLGMud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzLT1cbmF9fWdldE5lZ2F0aXZlU3BhY2luZ18oYSl7aWYoIWF8fCF0aGlzLm91dHB1dENvbm5lY3Rpb24pcmV0dXJuIDA7Y29uc3QgYj10aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGg7dmFyIGM9dGhpcy5vdXRwdXRDb25uZWN0aW9uLnNoYXBlLnR5cGU7Y29uc3QgZD10aGlzLmNvbnN0YW50c187aWYodGhpcy5pbnB1dFJvd3MubGVuZ3RoPjEpc3dpdGNoKGMpe2Nhc2UgZC5TSEFQRVMuUk9VTkQ6cmV0dXJuIGM9dGhpcy5jb25zdGFudHNfLk1BWF9EWU5BTUlDX0NPTk5FQ1RJT05fU0hBUEVfV0lEVEgsYz10aGlzLmhlaWdodC8yPmM/Yzp0aGlzLmhlaWdodC8yLGItYyooMS1NYXRoLnNpbihNYXRoLmFjb3MoKGMtdGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcpL2MpKSk7ZGVmYXVsdDpyZXR1cm4gMH1pZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGEpKXtjb25zdCBlPWEuY29ubmVjdGVkQmxvY2s7YT1cbmU/ZS5wYXRoT2JqZWN0Lm91dHB1dFNoYXBlVHlwZTphLnNoYXBlLnR5cGU7cmV0dXJuIGE9PW51bGx8fGUmJmUub3V0cHV0Q29ubmVjdGlvbiYmKGUuc3RhdGVtZW50SW5wdXRDb3VudHx8ZS5uZXh0Q29ubmVjdGlvbil8fGM9PT1kLlNIQVBFUy5IRVhBR09OQUwmJmMhPT1hPzA6Yi10aGlzLmNvbnN0YW50c18uU0hBUEVfSU5fU0hBUEVfUEFERElOR1tjXVthXX1yZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKT9jPT09ZC5TSEFQRVMuUk9VTkQmJmEuZmllbGQgaW5zdGFuY2VvZiAkLkZpZWxkVGV4dElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdGV4dGlucHV0P2ItMi43NSpkLkdSSURfVU5JVDpiLXRoaXMuY29uc3RhbnRzXy5TSEFQRV9JTl9TSEFQRV9QQURESU5HW2NdWzBdOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSWNvbihhKT9cbnRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HOjB9ZmluYWxpemVWZXJ0aWNhbEFsaWdubWVudF8oKXtpZighdGhpcy5vdXRwdXRDb25uZWN0aW9uKWZvcihsZXQgZD0yO2Q8dGhpcy5yb3dzLmxlbmd0aC0xO2QrPTIpe2NvbnN0IGU9dGhpcy5yb3dzW2QtMV0sZj10aGlzLnJvd3NbZF0sZz10aGlzLnJvd3NbZCsxXTt2YXIgYT1kPT09MixiPWQrMj49dGhpcy5yb3dzLmxlbmd0aC0xPyEhdGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb246ISFnLnByZWNlZGVzU3RhdGVtZW50O2lmKGE/dGhpcy50b3BSb3cuaGFzUHJldmlvdXNDb25uZWN0aW9uOmUuZm9sbG93c1N0YXRlbWVudCl7dmFyIGM9Zi5lbGVtZW50c1sxXTtjPWYuZWxlbWVudHMubGVuZ3RoPT09MyYmYyBpbnN0YW5jZW9mIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGZpZWxkJiYoYy5maWVsZCBpbnN0YW5jZW9mIEZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbHx8XG5jLmZpZWxkIGluc3RhbmNlb2YgRmllbGRJbWFnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2ltYWdlKTtpZighYSYmYyllLmhlaWdodC09dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcsZy5oZWlnaHQtPXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HLGYuaGVpZ2h0LT10aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc7ZWxzZSBpZighYSYmIWIpZS5oZWlnaHQrPXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HO2Vsc2UgaWYoYil7YT0hMTtmb3IoYj0wO2I8Zi5lbGVtZW50cy5sZW5ndGg7YisrKWlmKGM9Zi5lbGVtZW50c1tiXSxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGMpJiZjLmNvbm5lY3RlZEJsb2NrJiYhYy5jb25uZWN0ZWRCbG9jay5pc1NoYWRvdygpJiZjLmNvbm5lY3RlZEJsb2NrLmdldEhlaWdodFdpZHRoKCkuaGVpZ2h0Pj00MCl7YT0hMDticmVha31hJiZcbihlLmhlaWdodC09dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcsZy5oZWlnaHQtPXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HKX19fX1maW5hbGl6ZV8oKXt0aGlzLmZpbmFsaXplT3V0cHV0Q29ubmVjdGlvbl8oKTt0aGlzLmZpbmFsaXplSG9yaXpvbnRhbEFsaWdubWVudF8oKTt0aGlzLmZpbmFsaXplVmVydGljYWxBbGlnbm1lbnRfKCk7c3VwZXIuZmluYWxpemVfKCk7dGhpcy5yaWdodFNpZGUmJih0aGlzLndpZHRoV2l0aENoaWxkcmVuKz10aGlzLnJpZ2h0U2lkZS53aWR0aCl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGluZm89e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRpbmZvLlJlbmRlckluZm89UmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRpbmZvO3ZhciBQYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHBhdGhfb2JqZWN0PWNsYXNzIGV4dGVuZHMgUGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcGF0aF9vYmplY3R7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGEsYixjKTt0aGlzLnN2Z1BhdGhTZWxlY3RlZD1udWxsO3RoaXMub3V0bGluZXM9bmV3IE1hcDt0aGlzLnJlbWFpbmluZ091dGxpbmVzPW5ldyBTZXQ7dGhpcy5vdXRwdXRTaGFwZVR5cGU9bnVsbDt0aGlzLmNvbnN0YW50cz1jfXNldFBhdGgoYSl7c3VwZXIuc2V0UGF0aChhKTt0aGlzLnN2Z1BhdGhTZWxlY3RlZCYmdGhpcy5zdmdQYXRoU2VsZWN0ZWQuc2V0QXR0cmlidXRlKFwiZFwiLGEpfWFwcGx5Q29sb3VyKGEpe3N1cGVyLmFwcGx5Q29sb3VyKGEpO2NvbnN0IGI9YS5nZXRQYXJlbnQoKTthLmlzU2hhZG93KCkmJmImJnRoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixiLmdldENvbG91clRlcnRpYXJ5KCkpO1xuZm9yKGNvbnN0IGMgb2YgdGhpcy5vdXRsaW5lcy52YWx1ZXMoKSljLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLnN0eWxlLmNvbG91clRlcnRpYXJ5KX1mbGlwUlRMKCl7c3VwZXIuZmxpcFJUTCgpO2Zvcihjb25zdCBhIG9mIHRoaXMub3V0bGluZXMudmFsdWVzKCkpYS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKC0xIDEpXCIpfXVwZGF0ZVNlbGVjdGVkKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVNlbGVjdGVkXCIsYSk7YT90aGlzLnN2Z1BhdGhTZWxlY3RlZHx8KHRoaXMuc3ZnUGF0aFNlbGVjdGVkPXRoaXMuc3ZnUGF0aC5jbG9uZU5vZGUoITApLHRoaXMuc3ZnUGF0aFNlbGVjdGVkLmNsYXNzTGlzdC5hZGQoXCJibG9ja2x5UGF0aFNlbGVjdGVkXCIpLHJlbW92ZUNsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuc3ZnUGF0aFNlbGVjdGVkLEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIuQUNUSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpLFxucmVtb3ZlQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5zdmdQYXRoU2VsZWN0ZWQsRm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlci5QQVNTSVZFX0ZPQ1VTX05PREVfQ1NTX0NMQVNTX05BTUUpLHRoaXMuc3ZnUGF0aFNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpLHRoaXMuc3ZnUGF0aFNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpLHRoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZCh0aGlzLnN2Z1BhdGhTZWxlY3RlZCkpOnRoaXMuc3ZnUGF0aFNlbGVjdGVkJiYodGhpcy5zdmdSb290LnJlbW92ZUNoaWxkKHRoaXMuc3ZnUGF0aFNlbGVjdGVkKSx0aGlzLnN2Z1BhdGhTZWxlY3RlZD1udWxsKX11cGRhdGVSZXBsYWNlbWVudEZhZGUoYSl7dGhpcy5zZXRDbGFzc18oXCJibG9ja2x5UmVwbGFjZWFibGVcIixhKX11cGRhdGVTaGFwZUZvcklucHV0SGlnaGxpZ2h0KGEsYil7YT1hLmdldFBhcmVudElucHV0KCkubmFtZTtcbihhPXRoaXMuZ2V0T3V0bGluZVBhdGgoYSkpJiYoYj9hLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKCNcIit0aGlzLmNvbnN0YW50cy5yZXBsYWNlbWVudEdsb3dGaWx0ZXJJZCtcIilcIik6YS5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIikpfWJlZ2luRHJhd2luZygpe3RoaXMucmVtYWluaW5nT3V0bGluZXMuY2xlYXIoKTtmb3IoY29uc3QgYSBvZiB0aGlzLm91dGxpbmVzLmtleXMoKSl0aGlzLnJlbWFpbmluZ091dGxpbmVzLmFkZChhKX1lbmREcmF3aW5nKCl7aWYodGhpcy5yZW1haW5pbmdPdXRsaW5lcy5zaXplKWZvcihjb25zdCBhIG9mIHRoaXMucmVtYWluaW5nT3V0bGluZXMpdGhpcy5yZW1vdmVPdXRsaW5lUGF0aChhKTt0aGlzLnJlbWFpbmluZ091dGxpbmVzLmNsZWFyKCl9c2V0T3V0bGluZVBhdGgoYSxiKXthPXRoaXMuZ2V0T3V0bGluZVBhdGgoYSk7YS5zZXRBdHRyaWJ1dGUoXCJkXCIsYik7YS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeSl9Z2V0T3V0bGluZVBhdGgoYSl7dGhpcy5vdXRsaW5lcy5oYXMoYSl8fFxudGhpcy5vdXRsaW5lcy5zZXQoYSxjcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILHtcImNsYXNzXCI6XCJibG9ja2x5T3V0bGluZVBhdGhcIixkOlwiXCJ9LHRoaXMuc3ZnUm9vdCkpO3RoaXMucmVtYWluaW5nT3V0bGluZXMuZGVsZXRlKGEpO3JldHVybiB0aGlzLm91dGxpbmVzLmdldChhKX1yZW1vdmVPdXRsaW5lUGF0aChhKXtsZXQgYixjOyhiPXRoaXMub3V0bGluZXMuZ2V0KGEpKT09bnVsbHx8KGM9Yi5wYXJlbnROb2RlKT09bnVsbHx8Yy5yZW1vdmVDaGlsZCh0aGlzLm91dGxpbmVzLmdldChhKSk7dGhpcy5vdXRsaW5lcy5kZWxldGUoYSl9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHBhdGhfb2JqZWN0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkcGF0aF9vYmplY3QuUGF0aE9iamVjdD1QYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHBhdGhfb2JqZWN0O3ZhciBSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRyZW5kZXJlcj1jbGFzcyBleHRlbmRzIFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRyZW5kZXJlcntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKX1tYWtlQ29uc3RhbnRzXygpe3JldHVybiBuZXcgQ29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRjb25zdGFudHN9bWFrZVJlbmRlckluZm9fKGEpe3JldHVybiBuZXcgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRpbmZvKHRoaXMsYSl9bWFrZURyYXdlcl8oYSxiKXtyZXR1cm4gbmV3IERyYXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRkcmF3ZXIoYSxiKX1tYWtlUGF0aE9iamVjdChhLGIpe3JldHVybiBuZXcgUGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRwYXRoX29iamVjdChhLFxuYix0aGlzLmdldENvbnN0YW50cygpKX1nZXRDb25zdGFudHMoKXtyZXR1cm4gdGhpcy5jb25zdGFudHNffX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGJsb2NrX3JlbmRlcmluZyhcInplbG9zXCIsUmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkcmVuZGVyZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHJlbmRlcmVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkcmVuZGVyZXIuUmVuZGVyZXI9UmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkcmVuZGVyZXI7dmFyIEluc2VydGlvbk1hcmtlclByZXZpZXdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluc2VydGlvbl9tYXJrZXJfcHJldmlld2VyPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuc3RhdGljQ29ubj10aGlzLmRyYWdnZWRDb25uPXRoaXMubWFya2VyQ29ubj10aGlzLmZhZGVkQmxvY2s9bnVsbDt0aGlzLndvcmtzcGFjZT1hLndvcmtzcGFjZX1wcmV2aWV3UmVwbGFjZW1lbnQoYSxiLGMpeyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO3RyeXt0aGlzLmhpZGVQcmV2aWV3KCksdGhpcy5mYWRlZEJsb2NrPWMsYy5mYWRlRm9yUmVwbGFjZW1lbnQoITApLHRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuc2hvdWxkSGlnaGxpZ2h0Q29ubmVjdGlvbihiKSYmKGIuaGlnaGxpZ2h0KCksdGhpcy5zdGF0aWNDb25uPWIpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX19cHJldmlld0Nvbm5lY3Rpb24oYSxcbmIpe2lmKGEhPT10aGlzLmRyYWdnZWRDb25ufHxiIT09dGhpcy5zdGF0aWNDb25uKXskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7dGhpcy5oaWRlUHJldmlldygpLHRoaXMuc2hvdWxkVXNlTWFya2VyUHJldmlldyhhLGIpJiYodGhpcy5tYXJrZXJDb25uPXRoaXMucHJldmlld01hcmtlcihhLGIpKSx0aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLnNob3VsZEhpZ2hsaWdodENvbm5lY3Rpb24oYikmJmIuaGlnaGxpZ2h0KCksdGhpcy5kcmFnZ2VkQ29ubj1hLHRoaXMuc3RhdGljQ29ubj1ifWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX19fXNob3VsZFVzZU1hcmtlclByZXZpZXcoYSxiKXtyZXR1cm4gYi50eXBlPT09Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5UfHxiLnR5cGU9PT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5ORVhUX1NUQVRFTUVOVHx8XG4hKHRoaXMud29ya3NwYWNlLmdldFJlbmRlcmVyKClpbnN0YW5jZW9mIFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHJlbmRlcmVyKX1wcmV2aWV3TWFya2VyKGEsYil7Y29uc3QgYz1hLmdldFNvdXJjZUJsb2NrKCksZD10aGlzLmNyZWF0ZUluc2VydGlvbk1hcmtlcihjKSxlPXRoaXMuZ2V0TWF0Y2hpbmdDb25uZWN0aW9uKGMsZCxhKTtpZighZSlyZXR1cm4gbnVsbDtkLnF1ZXVlUmVuZGVyKCk7dHJpZ2dlclF1ZXVlZFJlbmRlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJfbWFuYWdlbWVudCgpO2UuY29ubmVjdChiKTtjb25zdCBmPXt4OmIueC1lLngseTpiLnktZS55fSxnPWUuZ2V0T2Zmc2V0SW5CbG9jaygpLmNsb25lKCk7ZmluaXNoUXVldWVkUmVuZGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcl9tYW5hZ2VtZW50KCkudGhlbigoKT0+e2lmKCFkLmlzRGVhZE9yRHlpbmcoKSl7JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7XG50cnl7ZD09bnVsbHx8ZC5wb3NpdGlvbk5lYXJDb25uZWN0aW9uKGUsZixnKSxkPT1udWxsfHxkLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX19fSk7cmV0dXJuIGV9c2VyaWFsaXplQmxvY2tUb0luc2VydGlvbk1hcmtlcihhKXtjb25zdCBiPXNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJGJsb2NrcyhhLHthZGRDb29yZGluYXRlczohMSxhZGRJbnB1dEJsb2NrczohMSxhZGROZXh0QmxvY2tzOiExLGRvRnVsbFNlcmlhbGl6YXRpb246ITF9KTtpZighYil0aHJvdyBFcnJvcihgRmFpbGVkIHRvIHNlcmlhbGl6ZSBzb3VyY2UgYmxvY2suICR7YS50b0RldlN0cmluZygpfWApO3JldHVybiBifWNyZWF0ZUluc2VydGlvbk1hcmtlcihhKXthPXRoaXMuc2VyaWFsaXplQmxvY2tUb0luc2VydGlvbk1hcmtlcihhKTthPWFwcGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsXG50aGlzLndvcmtzcGFjZSk7Zm9yKGNvbnN0IGIgb2YgYS5nZXREZXNjZW5kYW50cyghMSkpYi5zZXRJbnNlcnRpb25NYXJrZXIoITApO2EuaW5pdFN2ZygpO2EuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtyZXR1cm4gYX1nZXRNYXRjaGluZ0Nvbm5lY3Rpb24oYSxiLGMpe2E9YS5nZXRDb25uZWN0aW9uc18oITApO2I9Yi5nZXRDb25uZWN0aW9uc18oITApO2lmKGEubGVuZ3RoIT09Yi5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGxldCBkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYVtkXT09PWMpcmV0dXJuIGJbZF07cmV0dXJuIG51bGx9aGlkZVByZXZpZXcoKXskLmRpc2FibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKTt0cnl7dGhpcy5zdGF0aWNDb25uJiYodGhpcy5zdGF0aWNDb25uLnVuaGlnaGxpZ2h0KCksdGhpcy5zdGF0aWNDb25uPW51bGwpLHRoaXMuZmFkZWRCbG9jayYmKHRoaXMuZmFkZWRCbG9jay5mYWRlRm9yUmVwbGFjZW1lbnQoITEpLFxudGhpcy5mYWRlZEJsb2NrPW51bGwpLHRoaXMubWFya2VyQ29ubiYmKHRoaXMuaGlkZUluc2VydGlvbk1hcmtlcih0aGlzLm1hcmtlckNvbm4pLHRoaXMuZHJhZ2dlZENvbm49dGhpcy5tYXJrZXJDb25uPW51bGwpfWZpbmFsbHl7JC5lbmFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKX19aGlkZUluc2VydGlvbk1hcmtlcihhKXtjb25zdCBiPWEuZ2V0U291cmNlQmxvY2soKSxjPWIub3V0cHV0Q29ubmVjdGlvbjtsZXQgZDtpZigoKGQ9Yi5wcmV2aW91c0Nvbm5lY3Rpb24pPT1udWxsPzA6ZC50YXJnZXRDb25uZWN0aW9uKXx8KGM9PW51bGw/MDpjLnRhcmdldENvbm5lY3Rpb24pKWIudW5wbHVnKCEwKTtlbHNle2xldCBlOyhlPWEudGFyZ2V0QmxvY2soKSk9PW51bGx8fGUudW5wbHVnKCExKX1iLmRpc3Bvc2UoKX1kaXNwb3NlKCl7dGhpcy5oaWRlUHJldmlldygpfX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5DT05ORUNUSU9OX1BSRVZJRVdFUixERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksSW5zZXJ0aW9uTWFya2VyUHJldmlld2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5zZXJ0aW9uX21hcmtlcl9wcmV2aWV3ZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5zZXJ0aW9uX21hcmtlcl9wcmV2aWV3ZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluc2VydGlvbl9tYXJrZXJfcHJldmlld2VyLkluc2VydGlvbk1hcmtlclByZXZpZXdlcj1JbnNlcnRpb25NYXJrZXJQcmV2aWV3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnNlcnRpb25fbWFya2VyX3ByZXZpZXdlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzLkFsaWduPSQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cy5EdW1teUlucHV0PUR1bW15SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZHVtbXlfaW5wdXQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cy5FbmRSb3dJbnB1dD1FbmRSb3dJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRlbmRfcm93X2lucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMuSW5wdXQ9SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cy5TdGF0ZW1lbnRJbnB1dD1TdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQ7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzLlZhbHVlSW5wdXQ9JC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMuaW5wdXRUeXBlcz0kLmlucHV0VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkaW5wdXRfdHlwZXM7dmFyIGRvY3VtZW50RXZlbnRzQm91bmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q9ITEsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGluamVjdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5qZWN0LmluamVjdD1pbmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZW5lcmF0b3I7XG4kLkNvZGVHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZW5lcmF0b3I9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5mb3JCbG9jaz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl89XCJ7bGVDVUk4aHV0SFpJNDQ4MERjfVwiO3RoaXMuU1RBVEVNRU5UX1NVRkZJWD10aGlzLlNUQVRFTUVOVF9QUkVGSVg9dGhpcy5JTkZJTklURV9MT09QX1RSQVA9bnVsbDt0aGlzLklOREVOVD1cIiAgXCI7dGhpcy5DT01NRU5UX1dSQVA9NjA7dGhpcy5PUkRFUl9PVkVSUklERVM9W107dGhpcy5pc0luaXRpYWxpemVkPW51bGw7dGhpcy5SRVNFUlZFRF9XT1JEU189XCJcIjt0aGlzLmRlZmluaXRpb25zXz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuZnVuY3Rpb25OYW1lc189T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLm5hbWVEQl89dm9pZCAwO3RoaXMubmFtZV89YTt0aGlzLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfUkVHRVhQXz1uZXcgUmVnRXhwKHRoaXMuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8sXG5cImdcIil9d29ya3NwYWNlVG9Db2RlKGEpe2F8fChjb25zb2xlLndhcm4oXCJObyB3b3Jrc3BhY2Ugc3BlY2lmaWVkIGluIHdvcmtzcGFjZVRvQ29kZSBjYWxsLiAgR3Vlc3NpbmcuXCIpLGE9Z2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbigpKTt2YXIgYj1bXTt0aGlzLmluaXQoYSk7YT1hLmdldFRvcEJsb2NrcyghMCk7Zm9yKGxldCBjPTAsZDtkPWFbY107YysrKXtsZXQgZT10aGlzLmJsb2NrVG9Db2RlKGQpO0FycmF5LmlzQXJyYXkoZSkmJihlPWVbMF0pO2UmJihkLm91dHB1dENvbm5lY3Rpb24mJihlPXRoaXMuc2NydWJOYWtlZFZhbHVlKGUpLHRoaXMuU1RBVEVNRU5UX1BSRUZJWCYmIWQuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJihlPXRoaXMuaW5qZWN0SWQodGhpcy5TVEFURU1FTlRfUFJFRklYLGQpK2UpLHRoaXMuU1RBVEVNRU5UX1NVRkZJWCYmIWQuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJihlKz10aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1NVRkZJWCxcbmQpKSksYi5wdXNoKGUpKX1iPWIuam9pbihcIlxcblwiKTtiPXRoaXMuZmluaXNoKGIpO2I9Yi5yZXBsYWNlKC9eXFxzK1xcbi8sXCJcIik7Yj1iLnJlcGxhY2UoL1xcblxccyskLyxcIlxcblwiKTtyZXR1cm4gYj1iLnJlcGxhY2UoL1sgXFx0XStcXG4vZyxcIlxcblwiKX1wcmVmaXhMaW5lcyhhLGIpe3JldHVybiBiK2EucmVwbGFjZSgvKD8hXFxuJClcXG4vZyxcIlxcblwiK2IpfWFsbE5lc3RlZENvbW1lbnRzKGEpe2NvbnN0IGI9W107YT1hLmdldERlc2NlbmRhbnRzKCEwKTtmb3IobGV0IGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdLmdldENvbW1lbnRUZXh0KCk7ZCYmYi5wdXNoKGQpfWIubGVuZ3RoJiZiLnB1c2goXCJcIik7cmV0dXJuIGIuam9pbihcIlxcblwiKX1ibG9ja1RvQ29kZShhLGIpe3RoaXMuaXNJbml0aWFsaXplZD09PSExJiZjb25zb2xlLndhcm4oXCJDb2RlR2VuZXJhdG9yIGluaXQgd2FzIG5vdCBjYWxsZWQgYmVmb3JlIGJsb2NrVG9Db2RlIHdhcyBjYWxsZWQuXCIpO2lmKCFhKXJldHVyblwiXCI7aWYoIWEuaXNFbmFibGVkKCkpcmV0dXJuIGI/XG5cIlwiOnRoaXMuYmxvY2tUb0NvZGUoYS5nZXROZXh0QmxvY2soKSk7aWYoYS5pc0luc2VydGlvbk1hcmtlcigpKXJldHVybiBiP1wiXCI6dGhpcy5ibG9ja1RvQ29kZShhLmdldENoaWxkcmVuKCExKVswXSk7dmFyIGM9dGhpcy5mb3JCbG9ja1thLnR5cGVdO2lmKHR5cGVvZiBjIT09XCJmdW5jdGlvblwiKXRocm93IEVycm9yKGAke3RoaXMubmFtZV99IGdlbmVyYXRvciBkb2VzIG5vdCBrbm93IGhvdyB0byBnZW5lcmF0ZSBjb2RlIGArYGZvciBibG9jayB0eXBlIFwiJHthLnR5cGV9XCIuYCk7Yz1jLmNhbGwoYSxhLHRoaXMpO2lmKEFycmF5LmlzQXJyYXkoYykpe2lmKCFhLm91dHB1dENvbm5lY3Rpb24pdGhyb3cgVHlwZUVycm9yKFwiRXhwZWN0aW5nIHN0cmluZyBmcm9tIHN0YXRlbWVudCBibG9jazogXCIrYS50eXBlKTtyZXR1cm5bdGhpcy5zY3J1Yl8oYSxjWzBdLGIpLGNbMV1dfWlmKHR5cGVvZiBjPT09XCJzdHJpbmdcIilyZXR1cm4gdGhpcy5TVEFURU1FTlRfUFJFRklYJiYhYS5zdXBwcmVzc1ByZWZpeFN1ZmZpeCYmXG4oYz10aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1BSRUZJWCxhKStjKSx0aGlzLlNUQVRFTUVOVF9TVUZGSVgmJiFhLnN1cHByZXNzUHJlZml4U3VmZml4JiYoYys9dGhpcy5pbmplY3RJZCh0aGlzLlNUQVRFTUVOVF9TVUZGSVgsYSkpLHRoaXMuc2NydWJfKGEsYyxiKTtpZihjPT09bnVsbClyZXR1cm5cIlwiO3Rocm93IFN5bnRheEVycm9yKFwiSW52YWxpZCBjb2RlIGdlbmVyYXRlZDogXCIrYyk7fXZhbHVlVG9Db2RlKGEsYixjKXtpZihpc05hTihjKSl0aHJvdyBUeXBlRXJyb3IoXCJFeHBlY3RpbmcgdmFsaWQgb3JkZXIgZnJvbSBibG9jazogXCIrYS50eXBlKTt2YXIgZD1hLmdldElucHV0VGFyZ2V0QmxvY2soYik7aWYoIWQmJiFhLmdldElucHV0KGIpKXRocm93IFJlZmVyZW5jZUVycm9yKGBJbnB1dCBcIiR7Yn1cIiBkb2Vzbid0IGV4aXN0IG9uIFwiJHthLnR5cGV9XCJgKTtpZighZClyZXR1cm5cIlwiO2I9dGhpcy5ibG9ja1RvQ29kZShkKTtpZihiPT09XCJcIilyZXR1cm5cIlwiO2lmKCFBcnJheS5pc0FycmF5KGIpKXRocm93IFR5cGVFcnJvcihgRXhwZWN0aW5nIHR1cGxlIGZyb20gdmFsdWUgYmxvY2s6ICR7ZC50eXBlfSBTZWUgYCtcblwiZGV2ZWxvcGVycy5nb29nbGUuY29tL2Jsb2NrbHkvZ3VpZGVzL2NyZWF0ZS1jdXN0b20tYmxvY2tzL2dlbmVyYXRpbmctY29kZSBmb3IgbW9yZSBpbmZvcm1hdGlvblwiKTthPWJbMF07Yj1iWzFdO2lmKGlzTmFOKGIpKXRocm93IFR5cGVFcnJvcihcIkV4cGVjdGluZyB2YWxpZCBvcmRlciBmcm9tIHZhbHVlIGJsb2NrOiBcIitkLnR5cGUpO2lmKCFhKXJldHVyblwiXCI7ZD0hMTt2YXIgZT1NYXRoLmZsb29yKGMpO2NvbnN0IGY9TWF0aC5mbG9vcihiKTtpZihlPD1mJiYoZSE9PWZ8fGUhPT0wJiZlIT09OTkpKWZvcihkPSEwLGU9MDtlPHRoaXMuT1JERVJfT1ZFUlJJREVTLmxlbmd0aDtlKyspaWYodGhpcy5PUkRFUl9PVkVSUklERVNbZV1bMF09PT1jJiZ0aGlzLk9SREVSX09WRVJSSURFU1tlXVsxXT09PWIpe2Q9ITE7YnJlYWt9ZCYmKGE9XCIoXCIrYStcIilcIik7cmV0dXJuIGF9c3RhdGVtZW50VG9Db2RlKGEsYil7Y29uc3QgYz1hLmdldElucHV0VGFyZ2V0QmxvY2soYik7aWYoIWMmJiFhLmdldElucHV0KGIpKXRocm93IFJlZmVyZW5jZUVycm9yKGBJbnB1dCBcIiR7Yn1cIiBkb2Vzbid0IGV4aXN0IG9uIFwiJHthLnR5cGV9XCJgKTtcbmE9dGhpcy5ibG9ja1RvQ29kZShjKTtpZih0eXBlb2YgYSE9PVwic3RyaW5nXCIpdGhyb3cgVHlwZUVycm9yKFwiRXhwZWN0aW5nIGNvZGUgZnJvbSBzdGF0ZW1lbnQgYmxvY2s6IFwiKyhjJiZjLnR5cGUpKTthJiYoYT10aGlzLnByZWZpeExpbmVzKGEsdGhpcy5JTkRFTlQpKTtyZXR1cm4gYX1hZGRMb29wVHJhcChhLGIpe3RoaXMuSU5GSU5JVEVfTE9PUF9UUkFQJiYoYT10aGlzLnByZWZpeExpbmVzKHRoaXMuaW5qZWN0SWQodGhpcy5JTkZJTklURV9MT09QX1RSQVAsYiksdGhpcy5JTkRFTlQpK2EpO3RoaXMuU1RBVEVNRU5UX1NVRkZJWCYmIWIuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJihhPXRoaXMucHJlZml4TGluZXModGhpcy5pbmplY3RJZCh0aGlzLlNUQVRFTUVOVF9TVUZGSVgsYiksdGhpcy5JTkRFTlQpK2EpO3RoaXMuU1RBVEVNRU5UX1BSRUZJWCYmIWIuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJihhKz10aGlzLnByZWZpeExpbmVzKHRoaXMuaW5qZWN0SWQodGhpcy5TVEFURU1FTlRfUFJFRklYLFxuYiksdGhpcy5JTkRFTlQpKTtyZXR1cm4gYX1pbmplY3RJZChhLGIpe2I9Yi5pZC5yZXBsYWNlKC9cXCQvZyxcIiQkJCRcIik7cmV0dXJuIGEucmVwbGFjZSgvJTEvZyxcIidcIitiK1wiJ1wiKX1hZGRSZXNlcnZlZFdvcmRzKGEpe3RoaXMuUkVTRVJWRURfV09SRFNfKz1hK1wiLFwifXByb3ZpZGVGdW5jdGlvbl8oYSxiKXtpZighdGhpcy5kZWZpbml0aW9uc19bYV0pe2NvbnN0IGM9dGhpcy5uYW1lREJfLmdldERpc3RpbmN0TmFtZShhLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5QUk9DRURVUkUpO3RoaXMuZnVuY3Rpb25OYW1lc19bYV09YztBcnJheS5pc0FycmF5KGIpJiYoYj1iLmpvaW4oXCJcXG5cIikpO2I9Yi50cmltKCkucmVwbGFjZSh0aGlzLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfUkVHRVhQXyxjKTtsZXQgZDtmb3IoO2QhPT1iOylkPWIsYj1iLnJlcGxhY2UoL14oKCB7Mn0pKikgezJ9L2dtLFwiJDFcXHgwMFwiKTtiPWIucmVwbGFjZSgvXFwwL2csdGhpcy5JTkRFTlQpO1xudGhpcy5kZWZpbml0aW9uc19bYV09Yn1yZXR1cm4gdGhpcy5mdW5jdGlvbk5hbWVzX1thXX1nZXRWYXJpYWJsZU5hbWUoYSl7cmV0dXJuIHRoaXMuZ2V0TmFtZShhLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSl9Z2V0UHJvY2VkdXJlTmFtZShhKXtyZXR1cm4gdGhpcy5nZXROYW1lKGEsJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlBST0NFRFVSRSl9Z2V0TmFtZShhLGIpe2lmKCF0aGlzLm5hbWVEQl8pdGhyb3cgRXJyb3IoXCJOYW1lIGRhdGFiYXNlIGlzIG5vdCBkZWZpbmVkLiBZb3UgbXVzdCBpbml0aWFsaXplIGBuYW1lREJfYCBpbiB5b3VyIGdlbmVyYXRvciBjbGFzcyBhbmQgY2FsbCBgaW5pdGAgZmlyc3QuXCIpO3JldHVybiB0aGlzLm5hbWVEQl8uZ2V0TmFtZShhLGIpfWluaXQoYSl7dGhpcy5kZWZpbml0aW9uc189T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmZ1bmN0aW9uTmFtZXNfPU9iamVjdC5jcmVhdGUobnVsbCl9c2NydWJfKGEsXG5iLGMpe3JldHVybiBifWZpbmlzaChhKXt0aGlzLmRlZmluaXRpb25zXz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuZnVuY3Rpb25OYW1lc189T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gYX1zY3J1Yk5ha2VkVmFsdWUoYSl7cmV0dXJuIGF9fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRnZW5lcmF0b3IuQ29kZUdlbmVyYXRvcj0kLkNvZGVHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZW5lcmF0b3I7dmFyIFZlcnRpY2FsRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3ZlcnRpY2FsPWNsYXNzIGV4dGVuZHMgRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2Jhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSl9c2V0TWV0cmljc18oYSl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIGI9dGhpcy53b3Jrc3BhY2VfLmdldE1ldHJpY3NNYW5hZ2VyKCksYz1iLmdldFNjcm9sbE1ldHJpY3MoKSxkPWIuZ2V0Vmlld01ldHJpY3MoKTtiPWIuZ2V0QWJzb2x1dGVNZXRyaWNzKCk7dHlwZW9mIGEueT09PVwibnVtYmVyXCImJih0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWT0tKGMudG9wKyhjLmhlaWdodC1kLmhlaWdodCkqYS55KSk7dGhpcy53b3Jrc3BhY2VfLnRyYW5zbGF0ZSh0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWCtiLmxlZnQsdGhpcy53b3Jrc3BhY2VfLnNjcm9sbFkrYi50b3ApfX1nZXRYKCl7aWYoIXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIDA7dmFyIGE9dGhpcy50YXJnZXRXb3Jrc3BhY2UuZ2V0TWV0cmljc01hbmFnZXIoKTtcbmNvbnN0IGI9YS5nZXRBYnNvbHV0ZU1ldHJpY3MoKSxjPWEuZ2V0Vmlld01ldHJpY3MoKTthPWEuZ2V0VG9vbGJveE1ldHJpY3MoKTtyZXR1cm4gdGhpcy50YXJnZXRXb3Jrc3BhY2UudG9vbGJveFBvc2l0aW9uPT09dGhpcy50b29sYm94UG9zaXRpb25fP3RoaXMudGFyZ2V0V29ya3NwYWNlLmdldFRvb2xib3goKT90aGlzLnRvb2xib3hQb3NpdGlvbl89PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVD9hLndpZHRoOmMud2lkdGgtdGhpcy5nZXRXaWR0aCgpOnRoaXMudG9vbGJveFBvc2l0aW9uXz09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUPzA6Yy53aWR0aDp0aGlzLnRvb2xib3hQb3NpdGlvbl89PT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVD8wOmMud2lkdGgrYi5sZWZ0LXRoaXMuZ2V0V2lkdGgoKX1nZXRZKCl7cmV0dXJuIDB9cG9zaXRpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpJiZcbnRoaXMudGFyZ2V0V29ya3NwYWNlLmlzVmlzaWJsZSgpKXt2YXIgYT10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFZpZXdNZXRyaWNzKCk7dGhpcy5oZWlnaHRfPWEuaGVpZ2h0O3ZhciBiPXRoaXMuZ2V0V2lkdGgoKS10aGlzLkNPUk5FUl9SQURJVVM7dGhpcy5zZXRCYWNrZ3JvdW5kUGF0aChiLGEuaGVpZ2h0LTIqdGhpcy5DT1JORVJfUkFESVVTKTthPXRoaXMuZ2V0WCgpO2I9dGhpcy5nZXRZKCk7dGhpcy5wb3NpdGlvbkF0Xyh0aGlzLmdldFdpZHRoKCksdGhpcy5nZXRIZWlnaHQoKSxhLGIpfX1zZXRCYWNrZ3JvdW5kUGF0aChhLGIpe2NvbnN0IGM9dGhpcy50b29sYm94UG9zaXRpb25fPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hUO3ZhciBkPWErdGhpcy5DT1JORVJfUkFESVVTO2Q9W1wiTSBcIisoYz9kOjApK1wiLDBcIl07ZC5wdXNoKFwiaFwiLGM/LWE6YSk7ZC5wdXNoKFwiYVwiLHRoaXMuQ09STkVSX1JBRElVUyxcbnRoaXMuQ09STkVSX1JBRElVUywwLDAsYz8wOjEsYz8tdGhpcy5DT1JORVJfUkFESVVTOnRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMpO2QucHVzaChcInZcIixNYXRoLm1heCgwLGIpKTtkLnB1c2goXCJhXCIsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUywwLDAsYz8wOjEsYz90aGlzLkNPUk5FUl9SQURJVVM6LXRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMpO2QucHVzaChcImhcIixjP2E6LWEpO2QucHVzaChcInpcIik7dGhpcy5zdmdCYWNrZ3JvdW5kXy5zZXRBdHRyaWJ1dGUoXCJkXCIsZC5qb2luKFwiIFwiKSl9c2Nyb2xsVG9TdGFydCgpe2xldCBhOyhhPXRoaXMud29ya3NwYWNlXy5zY3JvbGxiYXIpPT1udWxsfHxhLnNldFkoMCl9d2hlZWxfKGEpe3ZhciBiPWdldFNjcm9sbERlbHRhUGl4ZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYSk7aWYoYi55KXtjb25zdCBjPXRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzTWFuYWdlcigpLFxuZD1jLmdldFNjcm9sbE1ldHJpY3MoKTtiPWMuZ2V0Vmlld01ldHJpY3MoKS50b3AtZC50b3ArYi55O2xldCBlOyhlPXRoaXMud29ya3NwYWNlXy5zY3JvbGxiYXIpPT1udWxsfHxlLnNldFkoYik7aGlkZUlmT3duZXJJc0luV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd2lkZ2V0ZGl2KHRoaXMud29ya3NwYWNlXyk7aGlkZVdpdGhvdXRBbmltYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcm9wZG93bmRpdigpfWEucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfWxheW91dF8oYSl7dGhpcy53b3Jrc3BhY2VfLnNjYWxlPXRoaXMudGFyZ2V0V29ya3NwYWNlLnNjYWxlO3ZhciBiPXRoaXMuTUFSR0lOO2NvbnN0IGM9dGhpcy5SVEw/YjpiK3RoaXMudGFiV2lkdGhfO2Zvcihjb25zdCBkIG9mIGEpZC5nZXRFbGVtZW50KCkubW92ZUJ5KGMsYiksYis9ZC5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5nZXRIZWlnaHQoKX1pc0RyYWdUb3dhcmRXb3Jrc3BhY2UoYSl7YT1cbk1hdGguYXRhbjIoYS55LGEueCkvTWF0aC5QSSoxODA7Y29uc3QgYj10aGlzLmRyYWdBbmdsZVJhbmdlXztyZXR1cm4gYTxiJiZhPi1ifHxhPC0xODArYnx8YT4xODAtYj8hMDohMX1nZXRDbGllbnRSZWN0KCl7aWYoIXRoaXMuc3ZnR3JvdXBffHx0aGlzLmF1dG9DbG9zZXx8IXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLnN2Z0dyb3VwXy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxiPWEubGVmdDtyZXR1cm4gdGhpcy50b29sYm94UG9zaXRpb25fPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlQ/bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KC0xRTksMUU5LC0xRTksYithLndpZHRoKTpuZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoLTFFOSwxRTksYiwxRTkpfXJlZmxvd0ludGVybmFsXygpe3RoaXMud29ya3NwYWNlXy5zY2FsZT10aGlzLmdldEZseW91dFNjYWxlKCk7XG5sZXQgYT10aGlzLmdldENvbnRlbnRzKCkucmVkdWNlKChiLGMpPT5NYXRoLm1heChiLGMuZ2V0RWxlbWVudCgpLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCkuZ2V0V2lkdGgoKSksMCk7YSs9dGhpcy5NQVJHSU4qMS41K3RoaXMudGFiV2lkdGhfO2EqPXRoaXMud29ya3NwYWNlXy5zY2FsZTthKz1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzO2lmKHRoaXMuZ2V0V2lkdGgoKSE9PWEpe2lmKHRoaXMuUlRMKWZvcihjb25zdCBiIG9mIHRoaXMuZ2V0Q29udGVudHMoKSl7Y29uc3QgYz1iLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLmxlZnQsZD1hL3RoaXMud29ya3NwYWNlXy5zY2FsZS1iLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLmdldFdpZHRoKCktdGhpcy5NQVJHSU4tdGhpcy50YWJXaWR0aF87Yi5nZXRFbGVtZW50KCkubW92ZUJ5KGQtYywwKX10aGlzLnRhcmdldFdvcmtzcGFjZS5zY3JvbGxiYXJ8fFxudGhpcy5hdXRvQ2xvc2V8fHRoaXMudGFyZ2V0V29ya3NwYWNlLmdldEZseW91dCgpIT09dGhpc3x8dGhpcy50b29sYm94UG9zaXRpb25fIT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LkxFRlR8fHRoaXMudGFyZ2V0V29ya3NwYWNlLnRyYW5zbGF0ZSh0aGlzLnRhcmdldFdvcmtzcGFjZS5zY3JvbGxYK2EsdGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2Nyb2xsWSk7dGhpcy53aWR0aF89YTt0aGlzLnBvc2l0aW9uKCk7dGhpcy50YXJnZXRXb3Jrc3BhY2UucmVzaXplQ29udGVudHMoKTt0aGlzLnRhcmdldFdvcmtzcGFjZS5yZWNvcmREcmFnVGFyZ2V0cygpfX19O1ZlcnRpY2FsRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3ZlcnRpY2FsLnJlZ2lzdHJ5TmFtZT1cInZlcnRpY2FsRmx5b3V0XCI7XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRTX1ZFUlRJQ0FMX1RPT0xCT1gsREVGQVVMVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LFZlcnRpY2FsRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3ZlcnRpY2FsKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF92ZXJ0aWNhbD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3ZlcnRpY2FsLlZlcnRpY2FsRmx5b3V0PVZlcnRpY2FsRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3ZlcnRpY2FsO3ZhciBIb3Jpem9udGFsRmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2hvcml6b250YWw9Y2xhc3MgZXh0ZW5kcyBGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLmhvcml6b250YWxMYXlvdXQ9ITB9c2V0TWV0cmljc18oYSl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIGI9dGhpcy53b3Jrc3BhY2VfLmdldE1ldHJpY3NNYW5hZ2VyKCksYz1iLmdldFNjcm9sbE1ldHJpY3MoKSxkPWIuZ2V0Vmlld01ldHJpY3MoKTtiPWIuZ2V0QWJzb2x1dGVNZXRyaWNzKCk7dHlwZW9mIGEueD09PVwibnVtYmVyXCImJih0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWD0tKGMubGVmdCsoYy53aWR0aC1kLndpZHRoKSphLngpKTt0aGlzLndvcmtzcGFjZV8udHJhbnNsYXRlKHRoaXMud29ya3NwYWNlXy5zY3JvbGxYK2IubGVmdCx0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWStiLnRvcCl9fWdldFgoKXtyZXR1cm4gMH1nZXRZKCl7aWYoIXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIDA7XG52YXIgYT10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRNZXRyaWNzTWFuYWdlcigpO2NvbnN0IGI9YS5nZXRBYnNvbHV0ZU1ldHJpY3MoKSxjPWEuZ2V0Vmlld01ldHJpY3MoKTthPWEuZ2V0VG9vbGJveE1ldHJpY3MoKTtjb25zdCBkPXRoaXMudG9vbGJveFBvc2l0aW9uXz09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A7cmV0dXJuIHRoaXMudGFyZ2V0V29ya3NwYWNlLnRvb2xib3hQb3NpdGlvbj09PXRoaXMudG9vbGJveFBvc2l0aW9uXz90aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRUb29sYm94KCk/ZD9hLmhlaWdodDpjLmhlaWdodC10aGlzLmdldEhlaWdodCgpOmQ/MDpjLmhlaWdodDpkPzA6Yy5oZWlnaHQrYi50b3AtdGhpcy5nZXRIZWlnaHQoKX1wb3NpdGlvbigpe2lmKHRoaXMuaXNWaXNpYmxlKCkmJnRoaXMudGFyZ2V0V29ya3NwYWNlLmlzVmlzaWJsZSgpKXt2YXIgYT10aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRNZXRyaWNzTWFuYWdlcigpLmdldFZpZXdNZXRyaWNzKCk7XG50aGlzLndpZHRoXz1hLndpZHRoO2E9YS53aWR0aC0yKnRoaXMuQ09STkVSX1JBRElVUzt2YXIgYj10aGlzLmdldEhlaWdodCgpLXRoaXMuQ09STkVSX1JBRElVUzt0aGlzLnNldEJhY2tncm91bmRQYXRoKGEsYik7YT10aGlzLmdldFgoKTtiPXRoaXMuZ2V0WSgpO3RoaXMucG9zaXRpb25BdF8odGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCksYSxiKX19c2V0QmFja2dyb3VuZFBhdGgoYSxiKXtjb25zdCBjPXRoaXMudG9vbGJveFBvc2l0aW9uXz09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1AsZD1bXCJNIDAsXCIrKGM/MDp0aGlzLkNPUk5FUl9SQURJVVMpXTtjPyhkLnB1c2goXCJoXCIsYSsyKnRoaXMuQ09STkVSX1JBRElVUyksZC5wdXNoKFwidlwiLGIpLGQucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTLDAsMCwxLC10aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTKSxkLnB1c2goXCJoXCIsXG4tYSksZC5wdXNoKFwiYVwiLHRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMsMCwwLDEsLXRoaXMuQ09STkVSX1JBRElVUywtdGhpcy5DT1JORVJfUkFESVVTKSk6KGQucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTLDAsMCwxLHRoaXMuQ09STkVSX1JBRElVUywtdGhpcy5DT1JORVJfUkFESVVTKSxkLnB1c2goXCJoXCIsYSksZC5wdXNoKFwiYVwiLHRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMsMCwwLDEsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUyksZC5wdXNoKFwidlwiLGIpLGQucHVzaChcImhcIiwtYS0yKnRoaXMuQ09STkVSX1JBRElVUykpO2QucHVzaChcInpcIik7dGhpcy5zdmdCYWNrZ3JvdW5kXy5zZXRBdHRyaWJ1dGUoXCJkXCIsZC5qb2luKFwiIFwiKSl9c2Nyb2xsVG9TdGFydCgpe2xldCBhOyhhPXRoaXMud29ya3NwYWNlXy5zY3JvbGxiYXIpPT1udWxsfHxhLnNldFgodGhpcy5SVEw/SW5maW5pdHk6XG4wKX13aGVlbF8oYSl7dmFyIGI9Z2V0U2Nyb2xsRGVsdGFQaXhlbHMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhKTtpZihiPWIueHx8Yi55KXtjb25zdCBjPXRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzTWFuYWdlcigpLGQ9Yy5nZXRTY3JvbGxNZXRyaWNzKCk7Yj1jLmdldFZpZXdNZXRyaWNzKCkubGVmdC1kLmxlZnQrYjtsZXQgZTsoZT10aGlzLndvcmtzcGFjZV8uc2Nyb2xsYmFyKT09bnVsbHx8ZS5zZXRYKGIpO2hpZGVJZk93bmVySXNJbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdpZGdldGRpdih0aGlzLndvcmtzcGFjZV8pO2hpZGVXaXRob3V0QW5pbWF0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYoKX1hLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX1sYXlvdXRfKGEpe3RoaXMud29ya3NwYWNlXy5zY2FsZT10aGlzLnRhcmdldFdvcmtzcGFjZS5zY2FsZTtjb25zdCBiPXRoaXMuTUFSR0lOO1xubGV0IGM9Yit0aGlzLnRhYldpZHRoXzt0aGlzLlJUTCYmKGE9YS5yZXZlcnNlKCkpO2Zvcihjb25zdCBkIG9mIGEpYT1kLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLGE9dGhpcy5SVEw/YythLmdldFdpZHRoKCk6YyxkLmdldEVsZW1lbnQoKS5tb3ZlQnkoYSxiKSxjKz1kLmdldEVsZW1lbnQoKS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpLmdldFdpZHRoKCl9aXNEcmFnVG93YXJkV29ya3NwYWNlKGEpe2E9TWF0aC5hdGFuMihhLnksYS54KS9NYXRoLlBJKjE4MDtjb25zdCBiPXRoaXMuZHJhZ0FuZ2xlUmFuZ2VfO3JldHVybiBhPDkwK2ImJmE+OTAtYnx8YT4tOTAtYiYmYTwtOTArYj8hMDohMX1nZXRDbGllbnRSZWN0KCl7aWYoIXRoaXMuc3ZnR3JvdXBffHx0aGlzLmF1dG9DbG9zZXx8IXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLnN2Z0dyb3VwXy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxiPWEudG9wO3JldHVybiB0aGlzLnRvb2xib3hQb3NpdGlvbl89PT1cblBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A/bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KC0xRTksYithLmhlaWdodCwtMUU5LDFFOSk6bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGIsMUU5LC0xRTksMUU5KX1yZWZsb3dJbnRlcm5hbF8oKXt0aGlzLndvcmtzcGFjZV8uc2NhbGU9dGhpcy5nZXRGbHlvdXRTY2FsZSgpO2xldCBhPXRoaXMuZ2V0Q29udGVudHMoKS5yZWR1Y2UoKGIsYyk9Pk1hdGgubWF4KGIsYy5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKS5nZXRIZWlnaHQoKSksMCk7YSs9dGhpcy5NQVJHSU4qMS41O2EqPXRoaXMud29ya3NwYWNlXy5zY2FsZTthKz1TY3JvbGxiYXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzO3RoaXMuZ2V0SGVpZ2h0KCkhPT1hJiYodGhpcy50YXJnZXRXb3Jrc3BhY2Uuc2Nyb2xsYmFyfHxcbnRoaXMuYXV0b0Nsb3NlfHx0aGlzLnRhcmdldFdvcmtzcGFjZS5nZXRGbHlvdXQoKSE9PXRoaXN8fHRoaXMudG9vbGJveFBvc2l0aW9uXyE9PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1B8fHRoaXMudGFyZ2V0V29ya3NwYWNlLnRyYW5zbGF0ZSh0aGlzLnRhcmdldFdvcmtzcGFjZS5zY3JvbGxYLHRoaXMudGFyZ2V0V29ya3NwYWNlLnNjcm9sbFkrYSksdGhpcy5oZWlnaHRfPWEsdGhpcy5wb3NpdGlvbigpLHRoaXMudGFyZ2V0V29ya3NwYWNlLnJlc2l6ZUNvbnRlbnRzKCksdGhpcy50YXJnZXRXb3Jrc3BhY2UucmVjb3JkRHJhZ1RhcmdldHMoKSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5GTFlPVVRTX0hPUklaT05UQUxfVE9PTEJPWCxERUZBVUxUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnksSG9yaXpvbnRhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9ob3Jpem9udGFsKTtcbnZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2hvcml6b250YWw9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9ob3Jpem9udGFsLkhvcml6b250YWxGbHlvdXQ9SG9yaXpvbnRhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9ob3Jpem9udGFsO3ZhciBGaWVsZFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfdmFyaWFibGU9Y2xhc3MgZXh0ZW5kcyBGaWVsZERyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfZHJvcGRvd257Y29uc3RydWN0b3IoYSxiLGMsZCxlKXtzdXBlcihGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkLlNLSVBfU0VUVVApO3RoaXMuZGVmYXVsdFR5cGU9XCJcIjt0aGlzLnZhcmlhYmxlVHlwZXM9W107dGhpcy52YXJpYWJsZT1udWxsO3RoaXMuU0VSSUFMSVpBQkxFPSEwO3RoaXMubWVudUdlbmVyYXRvcl89RmllbGRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3ZhcmlhYmxlLmRyb3Bkb3duQ3JlYXRlO3RoaXMuZGVmYXVsdFZhcmlhYmxlTmFtZT10eXBlb2YgYT09PVwic3RyaW5nXCI/YTpcIlwiO3RoaXMuc2l6ZV89bmV3IFNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzaXplKDAsMCk7YSE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCYmXG4oZT90aGlzLmNvbmZpZ3VyZV8oZSk6dGhpcy5zZXRUeXBlcyhjLGQpLGImJnRoaXMuc2V0VmFsaWRhdG9yKGIpKX1jb25maWd1cmVfKGEpe3N1cGVyLmNvbmZpZ3VyZV8oYSk7dGhpcy5zZXRUeXBlcyhhLnZhcmlhYmxlVHlwZXMsYS5kZWZhdWx0VHlwZSl9aW5pdE1vZGVsKCl7dmFyIGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFhKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3RoaXMudmFyaWFibGV8fChhPSQuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYS53b3Jrc3BhY2UsbnVsbCx0aGlzLmRlZmF1bHRWYXJpYWJsZU5hbWUsdGhpcy5kZWZhdWx0VHlwZSksdGhpcy5kb1ZhbHVlVXBkYXRlXyhhLmdldElkKCkpKX1pbml0Vmlldygpe3N1cGVyLmluaXRWaWV3KCk7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5maWVsZEdyb3VwXyxcblwiYmxvY2tseVZhcmlhYmxlRmllbGRcIil9c2hvdWxkQWRkQm9yZGVyUmVjdF8oKXtjb25zdCBhPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYSl0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDtyZXR1cm4gc3VwZXIuc2hvdWxkQWRkQm9yZGVyUmVjdF8oKSYmKCF0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX05PX0JPUkRFUl9SRUNUX1NIQURPV3x8YS50eXBlIT09XCJ2YXJpYWJsZXNfZ2V0XCIpfWZyb21YbWwoYSl7dmFyIGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO2NvbnN0IGM9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxkPWEudGV4dENvbnRlbnQsZT1hLmdldEF0dHJpYnV0ZShcInZhcmlhYmxldHlwZVwiKXx8YS5nZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZVR5cGVcIil8fFwiXCI7Yj0kLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIud29ya3NwYWNlLFxuYyxkLGUpO2lmKGUhPT1udWxsJiZlIT09Yi5nZXRUeXBlKCkpdGhyb3cgRXJyb3IoXCJTZXJpYWxpemVkIHZhcmlhYmxlIHR5cGUgd2l0aCBpZCAnXCIrYi5nZXRJZCgpK1wiJyBoYWQgdHlwZSBcIitiLmdldFR5cGUoKStcIiwgYW5kIGRvZXMgbm90IG1hdGNoIHZhcmlhYmxlIGZpZWxkIHRoYXQgcmVmZXJlbmNlcyBpdDogXCIrZG9tVG9UZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEpK1wiLlwiKTt0aGlzLnNldFZhbHVlKGIuZ2V0SWQoKSl9dG9YbWwoYSl7dGhpcy5pbml0TW9kZWwoKTthLmlkPXRoaXMudmFyaWFibGUuZ2V0SWQoKTthLnRleHRDb250ZW50PXRoaXMudmFyaWFibGUuZ2V0TmFtZSgpO3RoaXMudmFyaWFibGUuZ2V0VHlwZSgpJiZhLnNldEF0dHJpYnV0ZShcInZhcmlhYmxldHlwZVwiLHRoaXMudmFyaWFibGUuZ2V0VHlwZSgpKTtyZXR1cm4gYX1zYXZlU3RhdGUoYSl7dmFyIGI9dGhpcy5zYXZlTGVnYWN5U3RhdGUoRmllbGRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3ZhcmlhYmxlKTtcbmlmKGIhPT1udWxsKXJldHVybiBiO3RoaXMuaW5pdE1vZGVsKCk7Yj17aWQ6dGhpcy52YXJpYWJsZS5nZXRJZCgpfTthJiYoYi5uYW1lPXRoaXMudmFyaWFibGUuZ2V0TmFtZSgpLGIudHlwZT10aGlzLnZhcmlhYmxlLmdldFR5cGUoKSk7cmV0dXJuIGJ9bG9hZFN0YXRlKGEpe2NvbnN0IGI9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2lmKCFiKXRocm93IG5ldyBVbmF0dGFjaGVkRmllbGRFcnJvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkO3RoaXMubG9hZExlZ2FjeVN0YXRlKEZpZWxkVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZSxhKXx8KGE9JC5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhiLndvcmtzcGFjZSxhLmlkfHxudWxsLGEubmFtZSxhLnR5cGV8fFwiXCIpLHRoaXMuc2V0VmFsdWUoYS5nZXRJZCgpKSl9c2V0U291cmNlQmxvY2soYSl7aWYoYS5pc1NoYWRvdygpKXRocm93IEVycm9yKFwiVmFyaWFibGUgZmllbGRzIGFyZSBub3QgYWxsb3dlZCB0byBleGlzdCBvbiBzaGFkb3cgYmxvY2tzLlwiKTtcbnN1cGVyLnNldFNvdXJjZUJsb2NrKGEpfWdldFZhbHVlKCl7cmV0dXJuIHRoaXMudmFyaWFibGU/dGhpcy52YXJpYWJsZS5nZXRJZCgpOm51bGx9Z2V0VGV4dCgpe3JldHVybiB0aGlzLnZhcmlhYmxlP3RoaXMudmFyaWFibGUuZ2V0TmFtZSgpOlwiXCJ9Z2V0VmFyaWFibGUoKXtyZXR1cm4gdGhpcy52YXJpYWJsZX1nZXREZWZhdWx0VHlwZSgpe3JldHVybiB0aGlzLmRlZmF1bHRUeXBlfWdldFZhbGlkYXRvcigpe3JldHVybiB0aGlzLnZhcmlhYmxlP3RoaXMudmFsaWRhdG9yXzpudWxsfWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtpZihhPT09bnVsbClyZXR1cm4gbnVsbDt2YXIgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoIWIpdGhyb3cgbmV3IFVuYXR0YWNoZWRGaWVsZEVycm9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQ7Yj0kLmdldFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIud29ya3NwYWNlLGEpO2lmKCFiKXJldHVybiBjb25zb2xlLndhcm4oXCJWYXJpYWJsZSBpZCBkb2Vzbid0IHBvaW50IHRvIGEgcmVhbCB2YXJpYWJsZSEgSUQgd2FzIFwiK1xuYSksbnVsbDtiPWIuZ2V0VHlwZSgpO3JldHVybiB0aGlzLnR5cGVJc0FsbG93ZWQoYik/YTooY29uc29sZS53YXJuKFwiVmFyaWFibGUgdHlwZSBkb2Vzbid0IG1hdGNoIHRoaXMgZmllbGQhICBUeXBlIHdhcyBcIitiKSxudWxsKX1kb1ZhbHVlVXBkYXRlXyhhKXtjb25zdCBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTtpZighYil0aHJvdyBuZXcgVW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDt0aGlzLnZhcmlhYmxlPSQuZ2V0VmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYi53b3Jrc3BhY2UsYSk7c3VwZXIuZG9WYWx1ZVVwZGF0ZV8oYSl9dHlwZUlzQWxsb3dlZChhKXtjb25zdCBiPXRoaXMuZ2V0VmFyaWFibGVUeXBlcygpO2lmKCFiKXJldHVybiEwO2ZvcihsZXQgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGE9PT1iW2NdKXJldHVybiEwO3JldHVybiExfWdldFZhcmlhYmxlVHlwZXMoKXtpZih0aGlzLnZhcmlhYmxlVHlwZXMpcmV0dXJuIHRoaXMudmFyaWFibGVUeXBlcztcbmlmKCF0aGlzLnNvdXJjZUJsb2NrX3x8dGhpcy5zb3VyY2VCbG9ja18uaXNEZWFkT3JEeWluZygpKXJldHVybltcIlwiXTtsZXQgYT10aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKS5nZXRUeXBlcygpO2lmKHRoaXMuc291cmNlQmxvY2tfLmlzSW5GbHlvdXQpe2NvbnN0IGI9dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmdldFBvdGVudGlhbFZhcmlhYmxlTWFwKCk7aWYoIWIpcmV0dXJuIGE7YT1BcnJheS5mcm9tKG5ldyBTZXQoWy4uLmEsLi4uYi5nZXRUeXBlcygpXSkpfXJldHVybiBhfXNldFR5cGVzKGE9bnVsbCxiPVwiXCIpe3ZhciBjPXRoaXMuZ2V0VGV4dCgpO2lmKEFycmF5LmlzQXJyYXkoYSkpe2lmKGEubGVuZ3RoPT09MCl0aHJvdyBFcnJvcihgJ3ZhcmlhYmxlVHlwZXMnIG9mIGZpZWxkIHZhcmlhYmxlICR7Y30gd2FzIGFuIGVtcHR5IGxpc3QuIElmIHlvdSB3YW50IHRvIGluY2x1ZGUgYWxsIHZhcmlhYmxlIHR5cGVzLCBwYXNzICdudWxsJyBpbnN0ZWFkLmApO1xuYz0hMTtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKylhW2RdPT09YiYmKGM9ITApO2lmKCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBkZWZhdWx0IHR5cGUgJ1wiK2IrXCInIGluIHRoZSBkZWZpbml0aW9uIG9mIGEgRmllbGRWYXJpYWJsZVwiKTt9ZWxzZSBpZihhIT09bnVsbCl0aHJvdyBFcnJvcihgJ3ZhcmlhYmxlVHlwZXMnIHdhcyBub3QgYW4gYXJyYXkgb3IgbnVsbCBpbiB0aGUgZGVmaW5pdGlvbiBvZiBGaWVsZFZhcmlhYmxlICR7Y31gKTt0aGlzLmRlZmF1bHRUeXBlPWI7dGhpcy52YXJpYWJsZVR5cGVzPWF9cmVmcmVzaFZhcmlhYmxlTmFtZSgpe3RoaXMuZm9yY2VSZXJlbmRlcigpfW9uSXRlbVNlbGVjdGVkXyhhLGIpe2E9Yi5nZXRWYWx1ZSgpO2lmKHRoaXMuc291cmNlQmxvY2tfJiYhdGhpcy5zb3VyY2VCbG9ja18uaXNEZWFkT3JEeWluZygpKXtpZihhPT09UkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzJiZ0aGlzLnZhcmlhYmxlKXskLnJlbmFtZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZSxcbnRoaXMudmFyaWFibGUpO3JldHVybn1pZihhPT09REVMRVRFX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzJiZ0aGlzLnZhcmlhYmxlKXthPXRoaXMudmFyaWFibGUuZ2V0V29ya3NwYWNlKCk7JC5kZWxldGVWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyhhLHRoaXMudmFyaWFibGUsdGhpcy5zb3VyY2VCbG9ja18pO3JldHVybn19dGhpcy5zZXRWYWx1ZShhKX1yZWZlcmVuY2VzVmFyaWFibGVzKCl7cmV0dXJuITB9c3RhdGljIGZyb21Kc29uKGEpe3JldHVybiBuZXcgdGhpcyhyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEudmFyaWFibGUpLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEpfXN0YXRpYyBkcm9wZG93bkNyZWF0ZSgpe2lmKCF0aGlzLnZhcmlhYmxlKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBkcm9wZG93bkNyZWF0ZSBvbiBhIHZhcmlhYmxlIGZpZWxkIHdpdGggbm8gdmFyaWFibGUgc2VsZWN0ZWQuXCIpO1xuY29uc3QgYT10aGlzLmdldFRleHQoKTtsZXQgYj1bXTt2YXIgYz10aGlzLmdldFNvdXJjZUJsb2NrKCk7aWYoYyYmIWMuaXNEZWFkT3JEeWluZygpKXtjPWMud29ya3NwYWNlO2NvbnN0IGY9dGhpcy5nZXRWYXJpYWJsZVR5cGVzKCk7Zm9yKGxldCBnPTA7ZzxmLmxlbmd0aDtnKyspe2NvbnN0IGg9ZltnXSxrPWMuZ2V0VmFyaWFibGVNYXAoKS5nZXRWYXJpYWJsZXNPZlR5cGUoaCk7Yj1iLmNvbmNhdChrKTtpZihjLmlzRmx5b3V0KXt2YXIgZD12b2lkIDAsZT12b2lkIDA7Yj1iLmNvbmNhdCgoZT0oZD1jLmdldFBvdGVudGlhbFZhcmlhYmxlTWFwKCkpPT1udWxsP3ZvaWQgMDpkLmdldFZhcmlhYmxlc09mVHlwZShoKSkhPW51bGw/ZTpbXSl9fX1iLnNvcnQoY29tcGFyZUJ5TmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHZhcmlhYmxlcyk7ZD1bXTtmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWRbZV09W2JbZV0uZ2V0TmFtZSgpLGJbZV0uZ2V0SWQoKV07ZC5wdXNoKFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5SRU5BTUVfVkFSSUFCTEUsXG5SRU5BTUVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHNdKTskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5ERUxFVEVfVkFSSUFCTEUmJmQucHVzaChbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX1ZBUklBQkxFLnJlcGxhY2UoXCIlMVwiLGEpLERFTEVURV9WQVJJQUJMRV9JRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50c10pO3JldHVybiBkfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX3ZhcmlhYmxlXCIsRmllbGRWYXJpYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3ZhcmlhYmxlKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3ZhcmlhYmxlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZS5GaWVsZFZhcmlhYmxlPUZpZWxkVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZTt2YXIgRmllbGROdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9udW1iZXI9Y2xhc3MgZXh0ZW5kcyBGaWVsZElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfaW5wdXR7Y29uc3RydWN0b3IoYSxiLGMsZCxlLGYpe3N1cGVyKEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCk7dGhpcy5taW5fPS1JbmZpbml0eTt0aGlzLm1heF89SW5maW5pdHk7dGhpcy5wcmVjaXNpb25fPTA7dGhpcy5kZWNpbWFsUGxhY2VzPW51bGw7dGhpcy5zcGVsbGNoZWNrXz0hMTthIT09RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZC5TS0lQX1NFVFVQJiYoZj90aGlzLmNvbmZpZ3VyZV8oZik6dGhpcy5zZXRDb25zdHJhaW50cyhiLGMsZCksdGhpcy5zZXRWYWx1ZShhKSxlJiZ0aGlzLnNldFZhbGlkYXRvcihlKSl9Y29uZmlndXJlXyhhKXtzdXBlci5jb25maWd1cmVfKGEpO3RoaXMuc2V0TWluSW50ZXJuYWwoYS5taW4pO3RoaXMuc2V0TWF4SW50ZXJuYWwoYS5tYXgpO1xudGhpcy5zZXRQcmVjaXNpb25JbnRlcm5hbChhLnByZWNpc2lvbil9c2V0Q29uc3RyYWludHMoYSxiLGMpe3RoaXMuc2V0TWluSW50ZXJuYWwoYSk7dGhpcy5zZXRNYXhJbnRlcm5hbChiKTt0aGlzLnNldFByZWNpc2lvbkludGVybmFsKGMpO3RoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSgpKX1zZXRNaW4oYSl7dGhpcy5zZXRNaW5JbnRlcm5hbChhKTt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKSl9c2V0TWluSW50ZXJuYWwoYSl7YT09bnVsbD90aGlzLm1pbl89LUluZmluaXR5OihhPU51bWJlcihhKSxpc05hTihhKXx8KHRoaXMubWluXz1hKSl9Z2V0TWluKCl7cmV0dXJuIHRoaXMubWluX31zZXRNYXgoYSl7dGhpcy5zZXRNYXhJbnRlcm5hbChhKTt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKSl9c2V0TWF4SW50ZXJuYWwoYSl7YT09bnVsbD90aGlzLm1heF89SW5maW5pdHk6KGE9TnVtYmVyKGEpLGlzTmFOKGEpfHwodGhpcy5tYXhfPWEpKX1nZXRNYXgoKXtyZXR1cm4gdGhpcy5tYXhffXNldFByZWNpc2lvbihhKXt0aGlzLnNldFByZWNpc2lvbkludGVybmFsKGEpO1xudGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkpfXNldFByZWNpc2lvbkludGVybmFsKGEpe3RoaXMucHJlY2lzaW9uXz1OdW1iZXIoYSl8fDA7bGV0IGI9U3RyaW5nKHRoaXMucHJlY2lzaW9uXyk7Yi5pbmNsdWRlcyhcImVcIikmJihiPXRoaXMucHJlY2lzaW9uXy50b0xvY2FsZVN0cmluZyhcImVuLVVTXCIse21heGltdW1GcmFjdGlvbkRpZ2l0czoyMH0pKTtjb25zdCBjPWIuaW5kZXhPZihcIi5cIik7dGhpcy5kZWNpbWFsUGxhY2VzPWM9PT0tMT9hPzA6bnVsbDpiLmxlbmd0aC1jLTF9Z2V0UHJlY2lzaW9uKCl7cmV0dXJuIHRoaXMucHJlY2lzaW9uX31kb0NsYXNzVmFsaWRhdGlvbl8oYSl7aWYoYT09PW51bGwpcmV0dXJuIG51bGw7YT1gJHthfWAucmVwbGFjZSgvTy9naSxcIjBcIik7YT1hLnJlcGxhY2UoLywvZyxcIlwiKTthPWEucmVwbGFjZSgvaW5maW5pdHkvaSxcIkluZmluaXR5XCIpO2E9TnVtYmVyKGF8fDApO2lmKGlzTmFOKGEpKXJldHVybiBudWxsO2E9TWF0aC5taW4oTWF0aC5tYXgoYSxcbnRoaXMubWluXyksdGhpcy5tYXhfKTt0aGlzLnByZWNpc2lvbl8mJmlzRmluaXRlKGEpJiYoYT1NYXRoLnJvdW5kKGEvdGhpcy5wcmVjaXNpb25fKSp0aGlzLnByZWNpc2lvbl8pO3RoaXMuZGVjaW1hbFBsYWNlcyE9PW51bGwmJihhPU51bWJlcihhLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzKSkpO3JldHVybiBhfXdpZGdldENyZWF0ZV8oKXtjb25zdCBhPXN1cGVyLndpZGdldENyZWF0ZV8oKTt0aGlzLm1pbl8+LUluZmluaXR5JiYoYS5taW49YCR7dGhpcy5taW5ffWAsc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKGEsU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlZBTFVFTUlOLHRoaXMubWluXykpO3RoaXMubWF4XzxJbmZpbml0eSYmKGEubWF4PWAke3RoaXMubWF4X31gLHNldFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYShhLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5WQUxVRU1BWCxcbnRoaXMubWF4XykpO3JldHVybiBhfWluaXRWaWV3KCl7c3VwZXIuaW5pdFZpZXcoKTt0aGlzLmZpZWxkR3JvdXBfJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmZpZWxkR3JvdXBfLFwiYmxvY2tseU51bWJlckZpZWxkXCIpfXN0YXRpYyBmcm9tSnNvbihhKXtyZXR1cm4gbmV3IHRoaXMoYS52YWx1ZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KFwiZmllbGRfbnVtYmVyXCIsRmllbGROdW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9udW1iZXIpO0ZpZWxkTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbnVtYmVyLnByb3RvdHlwZS5ERUZBVUxUX1ZBTFVFPTA7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9udW1iZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX251bWJlci5GaWVsZE51bWJlcj1GaWVsZE51bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX251bWJlcjt2YXIgRmllbGRMYWJlbFNlcmlhbGl6YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsX3NlcmlhbGl6YWJsZT1jbGFzcyBleHRlbmRzIEZpZWxkTGFiZWwkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbHtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoU3RyaW5nKGEhPW51bGw/YTpcIlwiKSxiLGMpO3RoaXMuRURJVEFCTEU9ITE7dGhpcy5TRVJJQUxJWkFCTEU9ITB9c3RhdGljIGZyb21Kc29uKGEpe3JldHVybiBuZXcgdGhpcyhyZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRwYXJzaW5nKGEudGV4dCksdm9pZCAwLGEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX2xhYmVsX3NlcmlhbGl6YWJsZVwiLEZpZWxkTGFiZWxTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbF9zZXJpYWxpemFibGUpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbF9zZXJpYWxpemFibGU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsX3NlcmlhbGl6YWJsZS5GaWVsZExhYmVsU2VyaWFsaXphYmxlPUZpZWxkTGFiZWxTZXJpYWxpemFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9sYWJlbF9zZXJpYWxpemFibGU7dmFyIEZpZWxkQ2hlY2tib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveD1jbGFzcyBleHRlbmRzIEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGR7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCk7dGhpcy5TRVJJQUxJWkFCTEU9ITA7dGhpcy52YWx1ZV89dGhpcy52YWx1ZV87dGhpcy5jaGVja0NoYXI9RmllbGRDaGVja2JveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94LkNIRUNLX0NIQVI7YSE9PUZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGQuU0tJUF9TRVRVUCYmKGMmJnRoaXMuY29uZmlndXJlXyhjKSx0aGlzLnNldFZhbHVlKGEpLGImJnRoaXMuc2V0VmFsaWRhdG9yKGIpKX1jb25maWd1cmVfKGEpe3N1cGVyLmNvbmZpZ3VyZV8oYSk7YS5jaGVja0NoYXJhY3RlciYmKHRoaXMuY2hlY2tDaGFyPWEuY2hlY2tDaGFyYWN0ZXIpfXNhdmVTdGF0ZSgpe2NvbnN0IGE9XG50aGlzLnNhdmVMZWdhY3lTdGF0ZShGaWVsZENoZWNrYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3gpO3JldHVybiBhIT09bnVsbD9hOnRoaXMuZ2V0VmFsdWVCb29sZWFuKCl9aW5pdFZpZXcoKXtzdXBlci5pbml0VmlldygpO2NvbnN0IGE9dGhpcy5nZXRUZXh0RWxlbWVudCgpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKHRoaXMuZmllbGRHcm91cF8sXCJibG9ja2x5Q2hlY2tib3hGaWVsZFwiKTthLnN0eWxlLmRpc3BsYXk9dGhpcy52YWx1ZV8/XCJibG9ja1wiOlwibm9uZVwifXJlbmRlcl8oKXt0aGlzLnRleHRDb250ZW50XyYmKHRoaXMudGV4dENvbnRlbnRfLm5vZGVWYWx1ZT10aGlzLmdldERpc3BsYXlUZXh0XygpKTt0aGlzLnVwZGF0ZVNpemVfKHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQ0hFQ0tCT1hfWF9PRkZTRVQpfWdldERpc3BsYXlUZXh0Xygpe3JldHVybiB0aGlzLmNoZWNrQ2hhcn1zZXRDaGVja0NoYXJhY3RlcihhKXt0aGlzLmNoZWNrQ2hhcj1cbmF8fEZpZWxkQ2hlY2tib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveC5DSEVDS19DSEFSO3RoaXMuZm9yY2VSZXJlbmRlcigpfXNob3dFZGl0b3JfKCl7dGhpcy5zZXRWYWx1ZSghdGhpcy52YWx1ZV8pfWRvQ2xhc3NWYWxpZGF0aW9uXyhhKXtyZXR1cm4gYT09PSEwfHxhPT09XCJUUlVFXCI/XCJUUlVFXCI6YT09PSExfHxhPT09XCJGQUxTRVwiP1wiRkFMU0VcIjpudWxsfWRvVmFsdWVVcGRhdGVfKGEpe3RoaXMudmFsdWVfPXRoaXMuY29udmVydFZhbHVlVG9Cb29sKGEpO3RoaXMudGV4dEVsZW1lbnRfJiYodGhpcy50ZXh0RWxlbWVudF8uc3R5bGUuZGlzcGxheT10aGlzLnZhbHVlXz9cImJsb2NrXCI6XCJub25lXCIpfWdldFZhbHVlKCl7cmV0dXJuIHRoaXMudmFsdWVfP1wiVFJVRVwiOlwiRkFMU0VcIn1nZXRWYWx1ZUJvb2xlYW4oKXtyZXR1cm4gdGhpcy52YWx1ZV99Z2V0VGV4dCgpe3JldHVybiBTdHJpbmcodGhpcy5jb252ZXJ0VmFsdWVUb0Jvb2wodGhpcy52YWx1ZV8pKX1jb252ZXJ0VmFsdWVUb0Jvb2woYSl7cmV0dXJuIHR5cGVvZiBhPT09XG5cInN0cmluZ1wiP2E9PT1cIlRSVUVcIjohIWF9c3RhdGljIGZyb21Kc29uKGEpe3JldHVybiBuZXcgdGhpcyhhLmNoZWNrZWQsdm9pZCAwLGEpfX07RmllbGRDaGVja2JveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94LkNIRUNLX0NIQVI9XCJcXHUyNzEzXCI7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeShcImZpZWxkX2NoZWNrYm94XCIsRmllbGRDaGVja2JveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2NoZWNrYm94KTtGaWVsZENoZWNrYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3gucHJvdG90eXBlLkRFRkFVTFRfVkFMVUU9ITE7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3guRmllbGRDaGVja2JveD1GaWVsZENoZWNrYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfY2hlY2tib3g7dmFyIERyYWdnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRkcmFnZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5kcmFnZ2FibGU9YTt0aGlzLndvcmtzcGFjZT1iO3RoaXMuZHJhZ1RhcmdldD1udWxsO3RoaXMuc3RhcnRMb2M9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCl9b25EcmFnU3RhcnQoYSl7JC5nZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfHwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKTt0aGlzLmRyYWdnYWJsZS5zdGFydERyYWcoYSl9b25EcmFnKGEsYil7dGhpcy5tb3ZlRHJhZ2dhYmxlKGEsYik7Yj10aGlzLmdldFJvb3QodGhpcy5kcmFnZ2FibGUpO2lzRGVsZXRhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RlbGV0YWJsZShiKSYmYi5zZXREZWxldGVTdHlsZSh0aGlzLndvdWxkRGVsZXRlRHJhZ2dhYmxlKGEsYikpO3RoaXMudXBkYXRlRHJhZ1RhcmdldChhKX11cGRhdGVEcmFnVGFyZ2V0KGEpe2E9XG50aGlzLndvcmtzcGFjZS5nZXREcmFnVGFyZ2V0KGEpO2NvbnN0IGI9dGhpcy5nZXRSb290KHRoaXMuZHJhZ2dhYmxlKTtpZih0aGlzLmRyYWdUYXJnZXQhPT1hKXtsZXQgYzsoYz10aGlzLmRyYWdUYXJnZXQpPT1udWxsfHxjLm9uRHJhZ0V4aXQoYik7YT09bnVsbHx8YS5vbkRyYWdFbnRlcihiKX1hPT1udWxsfHxhLm9uRHJhZ092ZXIoYik7dGhpcy5kcmFnVGFyZ2V0PWF9bW92ZURyYWdnYWJsZShhLGIpe2I9dGhpcy5waXhlbHNUb1dvcmtzcGFjZVVuaXRzKGIpO2I9Q29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuc3VtKHRoaXMuc3RhcnRMb2MsYik7dGhpcy5kcmFnZ2FibGUuZHJhZyhiLGEpfXdvdWxkRGVsZXRlRHJhZ2dhYmxlKGEsYil7cmV0dXJuKGE9dGhpcy53b3Jrc3BhY2UuZ2V0RHJhZ1RhcmdldChhKSkmJnRoaXMud29ya3NwYWNlLmdldENvbXBvbmVudE1hbmFnZXIoKS5oYXNDYXBhYmlsaXR5KGEuaWQsQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuREVMRVRFX0FSRUEpP1xuYS53b3VsZERlbGV0ZShiKTohMX1vbkRyYWdFbmQoYSl7Y29uc3QgYj0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCk7dmFyIGM9dGhpcy53b3Jrc3BhY2UuZ2V0RHJhZ1RhcmdldChhKTtjb25zdCBkPXRoaXMuZ2V0Um9vdCh0aGlzLmRyYWdnYWJsZSk7aWYoYyl7bGV0IGU7KGU9dGhpcy5kcmFnVGFyZ2V0KT09bnVsbHx8ZS5vbkRyb3AoZCl9dGhpcy5zaG91bGRSZXR1cm5Ub1N0YXJ0KGEsZCkmJnRoaXMuZHJhZ2dhYmxlLnJldmVydERyYWcoKTsoYz1pc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUoZCkmJnRoaXMud291bGREZWxldGVEcmFnZ2FibGUoYSxkKSkmJnRoaXMuZHJhZ2dhYmxlIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcmJmRpc3Bvc2VVaUVmZmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnModGhpcy5kcmFnZ2FibGUuZ2V0Um9vdEJsb2NrKCkpO1xudGhpcy5kcmFnZ2FibGUuZW5kRHJhZyhhKTtjJiZpc0RlbGV0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGFibGUoZCkmJigkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGIpLGQuZGlzcG9zZSgpKTskLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCExKTshYyYmaXNGb2N1c2FibGVOb2RlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV9ub2RlKHRoaXMuZHJhZ2dhYmxlKSYmJC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkuZm9jdXNOb2RlKHRoaXMuZHJhZ2dhYmxlKX1nZXRSb290KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc/YS5nZXRSb290QmxvY2soKTphfXNob3VsZFJldHVyblRvU3RhcnQoYSxiKXtyZXR1cm4oYT1cbnRoaXMud29ya3NwYWNlLmdldERyYWdUYXJnZXQoYSkpP2Euc2hvdWxkUHJldmVudE1vdmUoYik6ITF9cGl4ZWxzVG9Xb3Jrc3BhY2VVbml0cyhhKXthPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShhLngvdGhpcy53b3Jrc3BhY2Uuc2NhbGUsYS55L3RoaXMud29ya3NwYWNlLnNjYWxlKTt0aGlzLndvcmtzcGFjZS5pc011dGF0b3ImJmEuc2NhbGUoMS90aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZS5zY2FsZSk7cmV0dXJuIGF9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5CTE9DS19EUkFHR0VSLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxEcmFnZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckZHJhZ2dlcik7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGRyYWdnZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGRyYWdnZXIuRHJhZ2dlcj1EcmFnZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckZHJhZ2dlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZy5CbG9ja0RyYWdTdHJhdGVneT1CbG9ja0RyYWdTdHJhdGVneSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nJGJsb2NrX2RyYWdfc3RyYXRlZ3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nLkJ1YmJsZURyYWdTdHJhdGVneT1CdWJibGVEcmFnU3RyYXRlZ3kkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRidWJibGVfZHJhZ19zdHJhdGVneTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmcuQ29tbWVudERyYWdTdHJhdGVneT1Db21tZW50RHJhZ1N0cmF0ZWd5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ2dpbmckY29tbWVudF9kcmFnX3N0cmF0ZWd5O21vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZy5EcmFnZ2VyPURyYWdnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRkcmFnZ2luZyRkcmFnZ2VyO3ZhciBCbG9ja0RyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RyYWc9Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGE/YS53b3Jrc3BhY2UuaWQ6dm9pZCAwKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfRFJBRzthJiYodGhpcy5ibG9ja0lkPWEuaWQsdGhpcy5pc1N0YXJ0PWIsdGhpcy5ibG9ja3M9Yyl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZih0aGlzLmlzU3RhcnQ9PT12b2lkIDApdGhyb3cgRXJyb3IoXCJXaGV0aGVyIHRoaXMgZXZlbnQgaXMgdGhlIHN0YXJ0IG9mIGEgZHJhZyBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIHRoZSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYodGhpcy5ibG9ja0lkPT09XG52b2lkIDApdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLmlzU3RhcnQ9dGhpcy5pc1N0YXJ0O2EuYmxvY2tJZD10aGlzLmJsb2NrSWQ7YS5ibG9ja3M9dGhpcy5ibG9ja3M7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IEJsb2NrRHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZHJhZyk7Yi5pc1N0YXJ0PWEuaXNTdGFydDtiLmJsb2NrSWQ9YS5ibG9ja0lkO2IuYmxvY2tzPWEuYmxvY2tzO3JldHVybiBifX07XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19EUkFHLEJsb2NrRHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZHJhZyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2RyYWc9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZHJhZy5CbG9ja0RyYWc9QmxvY2tEcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kcmFnO3ZhciBCbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19maWVsZF9pbnRlcm1lZGlhdGVfY2hhbmdlPWNsYXNzIGV4dGVuZHMgQmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNle2NvbnN0cnVjdG9yKGEsYixjLGQpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFO3RoaXMucmVjb3JkVW5kbz0hMTthJiYodGhpcy5uYW1lPWIsdGhpcy5vbGRWYWx1ZT1jLHRoaXMubmV3VmFsdWU9ZCl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy5uYW1lKXRocm93IEVycm9yKFwiVGhlIGNoYW5nZWQgZmllbGQgbmFtZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgbmFtZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb24uXCIpO1xuYS5uYW1lPXRoaXMubmFtZTthLm9sZFZhbHVlPXRoaXMub2xkVmFsdWU7YS5uZXdWYWx1ZT10aGlzLm5ld1ZhbHVlO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBCbG9ja0ZpZWxkSW50ZXJtZWRpYXRlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19maWVsZF9pbnRlcm1lZGlhdGVfY2hhbmdlKTtiLm5hbWU9YS5uYW1lO2Iub2xkVmFsdWU9YS5vbGRWYWx1ZTtiLm5ld1ZhbHVlPWEubmV3VmFsdWU7cmV0dXJuIGJ9aXNOdWxsKCl7cmV0dXJuIHRoaXMub2xkVmFsdWU9PT10aGlzLm5ld1ZhbHVlfXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmJsb2NrSWQpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmI9Yi5nZXRCbG9ja0J5SWQodGhpcy5ibG9ja0lkKTtpZighYil0aHJvdyBFcnJvcihcIlRoZSBhc3NvY2lhdGVkIGJsb2NrIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBibG9jayB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7YT1hP3RoaXMubmV3VmFsdWU6dGhpcy5vbGRWYWx1ZTsoYj1iLmdldEZpZWxkKHRoaXMubmFtZSkpP2Iuc2V0VmFsdWUoYSk6Y29uc29sZS53YXJuKFwiQ2FuJ3Qgc2V0IG5vbi1leGlzdGVudCBmaWVsZDogXCIrdGhpcy5uYW1lKX19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0ZJRUxEX0lOVEVSTUVESUFURV9DSEFOR0UsQmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZSk7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19maWVsZF9pbnRlcm1lZGlhdGVfY2hhbmdlLkJsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2U9QmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZTt2YXIgQmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19tb3ZlPWNsYXNzIGV4dGVuZHMgQmxvY2tCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFO2EmJihhLmlzU2hhZG93KCkmJih0aGlzLnJlY29yZFVuZG89ITEpLGE9dGhpcy5jdXJyZW50TG9jYXRpb24oKSx0aGlzLm9sZFBhcmVudElkPWEucGFyZW50SWQsdGhpcy5vbGRJbnB1dE5hbWU9YS5pbnB1dE5hbWUsdGhpcy5vbGRDb29yZGluYXRlPWEuY29vcmRpbmF0ZSl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTthLm9sZFBhcmVudElkPXRoaXMub2xkUGFyZW50SWQ7YS5vbGRJbnB1dE5hbWU9dGhpcy5vbGRJbnB1dE5hbWU7dGhpcy5vbGRDb29yZGluYXRlJiYoYS5vbGRDb29yZGluYXRlPVxuYCR7TWF0aC5yb3VuZCh0aGlzLm9sZENvb3JkaW5hdGUueCl9LCBgK2Ake01hdGgucm91bmQodGhpcy5vbGRDb29yZGluYXRlLnkpfWApO2EubmV3UGFyZW50SWQ9dGhpcy5uZXdQYXJlbnRJZDthLm5ld0lucHV0TmFtZT10aGlzLm5ld0lucHV0TmFtZTt0aGlzLm5ld0Nvb3JkaW5hdGUmJihhLm5ld0Nvb3JkaW5hdGU9YCR7TWF0aC5yb3VuZCh0aGlzLm5ld0Nvb3JkaW5hdGUueCl9LCBgK2Ake01hdGgucm91bmQodGhpcy5uZXdDb29yZGluYXRlLnkpfWApO3RoaXMucmVhc29uJiYoYS5yZWFzb249dGhpcy5yZWFzb24pO3RoaXMucmVjb3JkVW5kb3x8KGEucmVjb3JkVW5kbz10aGlzLnJlY29yZFVuZG8pO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBCbG9ja01vdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX21vdmUpO2Iub2xkUGFyZW50SWQ9YS5vbGRQYXJlbnRJZDtiLm9sZElucHV0TmFtZT1cbmEub2xkSW5wdXROYW1lO2Eub2xkQ29vcmRpbmF0ZSYmKGM9YS5vbGRDb29yZGluYXRlLnNwbGl0KFwiLFwiKSxiLm9sZENvb3JkaW5hdGU9bmV3IENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlKE51bWJlcihjWzBdKSxOdW1iZXIoY1sxXSkpKTtiLm5ld1BhcmVudElkPWEubmV3UGFyZW50SWQ7Yi5uZXdJbnB1dE5hbWU9YS5uZXdJbnB1dE5hbWU7YS5uZXdDb29yZGluYXRlJiYoYz1hLm5ld0Nvb3JkaW5hdGUuc3BsaXQoXCIsXCIpLGIubmV3Q29vcmRpbmF0ZT1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoTnVtYmVyKGNbMF0pLE51bWJlcihjWzFdKSkpO2EucmVhc29uIT09dm9pZCAwJiYoYi5yZWFzb249YS5yZWFzb24pO2EucmVjb3JkVW5kbyE9PXZvaWQgMCYmKGIucmVjb3JkVW5kbz1hLnJlY29yZFVuZG8pO3JldHVybiBifXJlY29yZE5ldygpe2NvbnN0IGE9dGhpcy5jdXJyZW50TG9jYXRpb24oKTtcbnRoaXMubmV3UGFyZW50SWQ9YS5wYXJlbnRJZDt0aGlzLm5ld0lucHV0TmFtZT1hLmlucHV0TmFtZTt0aGlzLm5ld0Nvb3JkaW5hdGU9YS5jb29yZGluYXRlfXNldFJlYXNvbihhKXt0aGlzLnJlYXNvbj1hfWN1cnJlbnRMb2NhdGlvbigpe3ZhciBhPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMuYmxvY2tJZCl0aHJvdyBFcnJvcihcIlRoZSBibG9jayBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO3ZhciBiPWEuZ2V0QmxvY2tCeUlkKHRoaXMuYmxvY2tJZCk7aWYoIWIpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBibG9jayBtb3ZlIGV2ZW50IGNvdWxkIG5vdCBiZSBmb3VuZFwiKTthPXt9O2NvbnN0IGM9Yi5nZXRQYXJlbnQoKTtpZihjKXtpZihhLnBhcmVudElkPWMuaWQsYj1jLmdldElucHV0V2l0aEJsb2NrKGIpKWEuaW5wdXROYW1lPWIubmFtZX1lbHNlIGEuY29vcmRpbmF0ZT1cbmIuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3JldHVybiBhfWlzTnVsbCgpe3JldHVybiB0aGlzLm9sZFBhcmVudElkPT09dGhpcy5uZXdQYXJlbnRJZCYmdGhpcy5vbGRJbnB1dE5hbWU9PT10aGlzLm5ld0lucHV0TmFtZSYmQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUuZXF1YWxzKHRoaXMub2xkQ29vcmRpbmF0ZSx0aGlzLm5ld0Nvb3JkaW5hdGUpfXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmJsb2NrSWQpdGhyb3cgRXJyb3IoXCJUaGUgYmxvY2sgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTt2YXIgYz1iLmdldEJsb2NrQnlJZCh0aGlzLmJsb2NrSWQpO2lmKGMpe3ZhciBkPWE/dGhpcy5uZXdQYXJlbnRJZDp0aGlzLm9sZFBhcmVudElkLGU9YT90aGlzLm5ld0lucHV0TmFtZTp0aGlzLm9sZElucHV0TmFtZTtcbmE9YT90aGlzLm5ld0Nvb3JkaW5hdGU6dGhpcy5vbGRDb29yZGluYXRlO2lmKGQpe3ZhciBmPWIuZ2V0QmxvY2tCeUlkKGQpO2lmKCFmKXtjb25zb2xlLndhcm4oXCJDYW4ndCBjb25uZWN0IHRvIG5vbi1leGlzdGVudCBibG9jazogXCIrZCk7cmV0dXJufX1jLmdldFBhcmVudCgpJiZjLnVucGx1ZygpO2lmKGEpZT1jLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxjLm1vdmVCeShhLngtZS54LGEueS1lLnksdGhpcy5yZWFzb24pO2Vsc2V7Yj1jLm91dHB1dENvbm5lY3Rpb247aWYoIWJ8fGMucHJldmlvdXNDb25uZWN0aW9uJiZjLnByZXZpb3VzQ29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKWI9Yy5wcmV2aW91c0Nvbm5lY3Rpb247bGV0IGcsaDtjPShoPWIpPT1udWxsP3ZvaWQgMDpoLnR5cGU7aWYoZSl7aWYoYz1mLmdldElucHV0KGUpKWc9Yy5jb25uZWN0aW9ufWVsc2UgYz09PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLlBSRVZJT1VTX1NUQVRFTUVOVCYmXG4oZz1mLm5leHRDb25uZWN0aW9uKTtnJiZiP2IuY29ubmVjdChnKTpjb25zb2xlLndhcm4oXCJDYW4ndCBjb25uZWN0IHRvIG5vbi1leGlzdGVudCBpbnB1dDogXCIrZSl9fWVsc2UgY29uc29sZS53YXJuKFwiQ2FuJ3QgbW92ZSBub24tZXhpc3RlbnQgYmxvY2s6IFwiK3RoaXMuYmxvY2tJZCl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19NT1ZFLEJsb2NrTW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfbW92ZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX21vdmU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfbW92ZS5CbG9ja01vdmU9QmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19tb3ZlO3ZhciBCdWJibGVPcGVuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbj1jbGFzcyBleHRlbmRzIFVpQmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdWlfYmFzZXtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYT9hLndvcmtzcGFjZS5pZDp2b2lkIDApO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CVUJCTEVfT1BFTjthJiYodGhpcy5ibG9ja0lkPWEuaWQsdGhpcy5pc09wZW49Yix0aGlzLmJ1YmJsZVR5cGU9Yyl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZih0aGlzLmlzT3Blbj09PXZvaWQgMCl0aHJvdyBFcnJvcihcIldoZXRoZXIgdGhpcyBldmVudCBpcyBmb3Igb3BlbmluZyB0aGUgYnViYmxlIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgdGhlIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5idWJibGVUeXBlKXRocm93IEVycm9yKFwiVGhlIHR5cGUgb2YgYnViYmxlIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgdGhlIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEuaXNPcGVuPXRoaXMuaXNPcGVuO2EuYnViYmxlVHlwZT10aGlzLmJ1YmJsZVR5cGU7YS5ibG9ja0lkPXRoaXMuYmxvY2tJZHx8XCJcIjtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQnViYmxlT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW4pO2IuaXNPcGVuPWEuaXNPcGVuO2IuYnViYmxlVHlwZT1hLmJ1YmJsZVR5cGU7Yi5ibG9ja0lkPWEuYmxvY2tJZDtyZXR1cm4gYn19LEJ1YmJsZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuO1xuKGZ1bmN0aW9uKGEpe2EuTVVUQVRPUj1cIm11dGF0b3JcIjthLkNPTU1FTlQ9XCJjb21tZW50XCI7YS5XQVJOSU5HPVwid2FybmluZ1wifSkoQnViYmxlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW58fChCdWJibGVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbj17fSkpO3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJVQkJMRV9PUEVOLEJ1YmJsZU9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW49e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19idWJibGVfb3Blbi5CdWJibGVPcGVuPUJ1YmJsZU9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuLkJ1YmJsZVR5cGU9QnViYmxlVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW47dmFyIENvbW1lbnRCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2U9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYWJzdHJhY3R7Y29uc3RydWN0b3IoYSl7c3VwZXIoKTt0aGlzLmlzQmxhbms9IWE7YSYmKHRoaXMuY29tbWVudElkPWEuaWQsdGhpcy53b3Jrc3BhY2VJZD1hLndvcmtzcGFjZS5pZCx0aGlzLmdyb3VwPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoKSx0aGlzLnJlY29yZFVuZG89Z2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLmNvbW1lbnRJZCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtcbmEuY29tbWVudElkPXRoaXMuY29tbWVudElkO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNlKTtiLmNvbW1lbnRJZD1hLmNvbW1lbnRJZDtyZXR1cm4gYn1zdGF0aWMgQ29tbWVudENyZWF0ZURlbGV0ZUhlbHBlcihhLGIpe2NvbnN0IGM9YS5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZihiKXtpZighYS5qc29uKXRocm93IEVycm9yKFwiRW5jb3VudGVyZWQgYSBjb21tZW50IGV2ZW50IHdpdGhvdXQgcHJvcGVyIGpzb25cIik7YXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbiR3b3Jrc3BhY2VfY29tbWVudHMoYS5qc29uLGMpfWVsc2V7aWYoIWEuY29tbWVudElkKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuKGI9Yy5nZXRDb21tZW50QnlJZChhLmNvbW1lbnRJZCkpP2IuZGlzcG9zZSgpOmNvbnNvbGUud2FybihcIkNhbid0IGRlbGV0ZSBub24tZXhpc3RlbnQgY29tbWVudDogXCIrYS5jb21tZW50SWQpfX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2UuQ29tbWVudEJhc2U9Q29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZTt2YXIgQ29tbWVudENoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jaGFuZ2U9Y2xhc3MgZXh0ZW5kcyBDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNle2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DSEFOR0U7YSYmKHRoaXMub2xkQ29udGVudHNfPXR5cGVvZiBiPT09XCJ1bmRlZmluZWRcIj9cIlwiOmIsdGhpcy5uZXdDb250ZW50c189dHlwZW9mIGM9PT1cInVuZGVmaW5lZFwiP1wiXCI6Yyl9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZighdGhpcy5vbGRDb250ZW50c18pdGhyb3cgRXJyb3IoXCJUaGUgb2xkIGNvbnRlbnRzIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSB2YWx1ZSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMubmV3Q29udGVudHNfKXRocm93IEVycm9yKFwiVGhlIG5ldyBjb250ZW50cyBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuYS5vbGRDb250ZW50cz10aGlzLm9sZENvbnRlbnRzXzthLm5ld0NvbnRlbnRzPXRoaXMubmV3Q29udGVudHNfO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBDb21tZW50Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NoYW5nZSk7Yi5vbGRDb250ZW50c189YS5vbGRDb250ZW50cztiLm5ld0NvbnRlbnRzXz1hLm5ld0NvbnRlbnRzO3JldHVybiBifWlzTnVsbCgpe3JldHVybiB0aGlzLm9sZENvbnRlbnRzXz09PXRoaXMubmV3Q29udGVudHNffXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKCF0aGlzLmNvbW1lbnRJZCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IElEIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZihiPWIuZ2V0Q29tbWVudEJ5SWQodGhpcy5jb21tZW50SWQpKXt2YXIgYz1cbmE/dGhpcy5uZXdDb250ZW50c186dGhpcy5vbGRDb250ZW50c187aWYoYz09PXZvaWQgMCl7aWYoYSl0aHJvdyBFcnJvcihcIlRoZSBuZXcgY29udGVudHMgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTt0aHJvdyBFcnJvcihcIlRoZSBvbGQgY29udGVudHMgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhbHVlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTt9Yi5zZXRUZXh0KGMpfWVsc2UgY29uc29sZS53YXJuKFwiQ2FuJ3QgY2hhbmdlIG5vbi1leGlzdGVudCBjb21tZW50OiBcIit0aGlzLmNvbW1lbnRJZCl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NIQU5HRSxDb21tZW50Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NoYW5nZSk7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jaGFuZ2U9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jaGFuZ2UuQ29tbWVudENoYW5nZT1Db21tZW50Q2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NoYW5nZTt2YXIgQ29tbWVudENvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NvbGxhcHNlPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEpO3RoaXMubmV3Q29sbGFwc2VkPWI7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ09MTEFQU0V9dG9Kc29uKCl7Y29uc3QgYT1zdXBlci50b0pzb24oKTtpZih0aGlzLm5ld0NvbGxhcHNlZD09PXZvaWQgMCl0aHJvdyBFcnJvcihcIlRoZSBuZXcgY29sbGFwc2UgdmFsdWUgdW5kZWZpbmVkLiBFaXRoZXIgY2FsbCByZWNvcmROZXcsIG9yIGNhbGwgZnJvbUpzb25cIik7YS5uZXdDb2xsYXBzZWQ9dGhpcy5uZXdDb2xsYXBzZWQ7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsXG5iLGMhPW51bGw/YzpuZXcgQ29tbWVudENvbGxhcHNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NvbGxhcHNlKTtiLm5ld0NvbGxhcHNlZD1hLm5ld0NvbGxhcHNlZDtyZXR1cm4gYn1ydW4oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5jb21tZW50SWQpdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7KGI9Yi5nZXRDb21tZW50QnlJZCh0aGlzLmNvbW1lbnRJZCkpP2Iuc2V0Q29sbGFwc2VkKGE/ISF0aGlzLm5ld0NvbGxhcHNlZDohdGhpcy5uZXdDb2xsYXBzZWQpOmNvbnNvbGUud2FybihcIkNhbid0IGNvbGxhcHNlIG9yIHVuY29sbGFwc2Ugbm9uLWV4aXN0ZW50IGNvbW1lbnQ6IFwiK3RoaXMuY29tbWVudElkKX19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DT0xMQVBTRSxDb21tZW50Q29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY29sbGFwc2UpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NvbGxhcHNlPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY29sbGFwc2UuQ29tbWVudENvbGxhcHNlPUNvbW1lbnRDb2xsYXBzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jb2xsYXBzZTt2YXIgQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jcmVhdGU9Y2xhc3MgZXh0ZW5kcyBDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0NSRUFURTthJiYodGhpcy54bWw9c2F2ZVdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwoYSksdGhpcy5qc29uPXNhdmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzZXJpYWxpemF0aW9uJHdvcmtzcGFjZV9jb21tZW50cyhhLHthZGRDb29yZGluYXRlczohMH0pKX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLnhtbCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IFhNTCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5pZighdGhpcy5qc29uKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSlNPTiBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgYmxvY2sgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2EueG1sPWRvbVRvVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbCh0aGlzLnhtbCk7YS5qc29uPXRoaXMuanNvbjtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jcmVhdGUpO2IueG1sPSQudGV4dFRvRG9tJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKGEueG1sKTtiLmpzb249YS5qc29uO3JldHVybiBifXJ1bihhKXtDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNlLkNvbW1lbnRDcmVhdGVEZWxldGVIZWxwZXIodGhpcyxcbmEpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DUkVBVEUsQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9jcmVhdGUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NyZWF0ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2NyZWF0ZS5Db21tZW50Q3JlYXRlPUNvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY3JlYXRlO3ZhciBDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RlbGV0ZT1jbGFzcyBleHRlbmRzIENvbW1lbnRCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2Jhc2V7Y29uc3RydWN0b3IoYSl7c3VwZXIoYSk7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfREVMRVRFO2EmJih0aGlzLnhtbD1zYXZlV29ya3NwYWNlQ29tbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhKSx0aGlzLmpzb249c2F2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kd29ya3NwYWNlX2NvbW1lbnRzKGEse2FkZENvb3JkaW5hdGVzOiEwfSkpfXJ1bihhKXtDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNlLkNvbW1lbnRDcmVhdGVEZWxldGVIZWxwZXIodGhpcywhYSl9dG9Kc29uKCl7Y29uc3QgYT1cbnN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLnhtbCl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IFhNTCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7aWYoIXRoaXMuanNvbil0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IEpTT04gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGJsb2NrIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLnhtbD1kb21Ub1RleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR4bWwodGhpcy54bWwpO2EuanNvbj10aGlzLmpzb247cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IENvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZGVsZXRlKTtiLnhtbD0kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhLnhtbCk7XG5iLmpzb249YS5qc29uO3JldHVybiBifX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9ERUxFVEUsQ29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kZWxldGUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RlbGV0ZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RlbGV0ZS5Db21tZW50RGVsZXRlPUNvbW1lbnREZWxldGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZGVsZXRlO3ZhciBDb21tZW50RHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kcmFnPWNsYXNzIGV4dGVuZHMgVWlCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c191aV9iYXNle2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYT9hLndvcmtzcGFjZS5pZDp2b2lkIDApO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RSQUc7YSYmKHRoaXMuY29tbWVudElkPWEuaWQsdGhpcy5pc1N0YXJ0PWIpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYodGhpcy5pc1N0YXJ0PT09dm9pZCAwKXRocm93IEVycm9yKFwiV2hldGhlciB0aGlzIGV2ZW50IGlzIHRoZSBzdGFydCBvZiBhIGRyYWcgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyB0aGUgdmFsdWUgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKHRoaXMuY29tbWVudElkPT09dm9pZCAwKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO1xuYS5pc1N0YXJ0PXRoaXMuaXNTdGFydDthLmNvbW1lbnRJZD10aGlzLmNvbW1lbnRJZDtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQ29tbWVudERyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZHJhZyk7Yi5pc1N0YXJ0PWEuaXNTdGFydDtiLmNvbW1lbnRJZD1hLmNvbW1lbnRJZDtyZXR1cm4gYn19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfRFJBRyxDb21tZW50RHJhZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kcmFnKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kcmFnPXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kcmFnLkNvbW1lbnREcmFnPUNvbW1lbnREcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X2RyYWc7dmFyIENvbW1lbnRNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X21vdmU9Y2xhc3MgZXh0ZW5kcyBDb21tZW50QmFzZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9iYXNle2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX01PVkU7YSYmKHRoaXMuY29tbWVudF89YSx0aGlzLm9sZENvb3JkaW5hdGVfPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpKX1yZWNvcmROZXcoKXtpZih0aGlzLm5ld0Nvb3JkaW5hdGVfKXRocm93IEVycm9yKFwiVHJpZWQgdG8gcmVjb3JkIHRoZSBuZXcgcG9zaXRpb24gb2YgYSBjb21tZW50IG9uIHRoZSBzYW1lIGV2ZW50IHR3aWNlLlwiKTtpZighdGhpcy5jb21tZW50Xyl0aHJvdyBFcnJvcihcIlRoZSBjb21tZW50IGlzIHVuZGVmaW5lZC4gUGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yIGlmIHlvdSB3YW50IHRvIHVzZSB0aGUgcmVjb3JkIGZ1bmN0aW9uYWxpdHlcIik7XG50aGlzLm5ld0Nvb3JkaW5hdGVfPXRoaXMuY29tbWVudF8uZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpfXNldFJlYXNvbihhKXt0aGlzLnJlYXNvbj1hfXNldE9sZENvb3JkaW5hdGUoYSl7dGhpcy5vbGRDb29yZGluYXRlXz1hfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYoIXRoaXMub2xkQ29vcmRpbmF0ZV8pdGhyb3cgRXJyb3IoXCJUaGUgb2xkIGNvbW1lbnQgcG9zaXRpb24gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKCF0aGlzLm5ld0Nvb3JkaW5hdGVfKXRocm93IEVycm9yKFwiVGhlIG5ldyBjb21tZW50IHBvc2l0aW9uIGlzIHVuZGVmaW5lZC4gRWl0aGVyIGNhbGwgcmVjb3JkTmV3LCBvciBjYWxsIGZyb21Kc29uXCIpO2Eub2xkQ29vcmRpbmF0ZT1gJHtNYXRoLnJvdW5kKHRoaXMub2xkQ29vcmRpbmF0ZV8ueCl9LCBgK2Ake01hdGgucm91bmQodGhpcy5vbGRDb29yZGluYXRlXy55KX1gO1xuYS5uZXdDb29yZGluYXRlPU1hdGgucm91bmQodGhpcy5uZXdDb29yZGluYXRlXy54KStcIixcIitNYXRoLnJvdW5kKHRoaXMubmV3Q29vcmRpbmF0ZV8ueSk7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsYixjKXtiPXN1cGVyLmZyb21Kc29uKGEsYixjIT1udWxsP2M6bmV3IENvbW1lbnRNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X21vdmUpO2M9YS5vbGRDb29yZGluYXRlLnNwbGl0KFwiLFwiKTtiLm9sZENvb3JkaW5hdGVfPW5ldyBDb29yZGluYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkY29vcmRpbmF0ZShOdW1iZXIoY1swXSksTnVtYmVyKGNbMV0pKTtjPWEubmV3Q29vcmRpbmF0ZS5zcGxpdChcIixcIik7Yi5uZXdDb29yZGluYXRlXz1uZXcgQ29vcmRpbmF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvb3JkaW5hdGUoTnVtYmVyKGNbMF0pLE51bWJlcihjWzFdKSk7cmV0dXJuIGJ9aXNOdWxsKCl7cmV0dXJuIENvb3JkaW5hdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb29yZGluYXRlLmVxdWFscyh0aGlzLm9sZENvb3JkaW5hdGVfLFxudGhpcy5uZXdDb29yZGluYXRlXyl9cnVuKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoIXRoaXMuY29tbWVudElkKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKGI9Yi5nZXRDb21tZW50QnlJZCh0aGlzLmNvbW1lbnRJZCkpe2E9YT90aGlzLm5ld0Nvb3JkaW5hdGVfOnRoaXMub2xkQ29vcmRpbmF0ZV87aWYoIWEpdGhyb3cgRXJyb3IoXCJFaXRoZXIgb2xkQ29vcmRpbmF0ZV8gb3IgbmV3Q29vcmRpbmF0ZV8gaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yIGFuZCBjYWxsIHJlY29yZE5ldywgb3IgY2FsbCBmcm9tSnNvblwiKTtiLm1vdmVUbyhhKX1lbHNlIGNvbnNvbGUud2FybihcIkNhbid0IG1vdmUgbm9uLWV4aXN0ZW50IGNvbW1lbnQ6IFwiK3RoaXMuY29tbWVudElkKX19O1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFLENvbW1lbnRNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X21vdmUpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X21vdmU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlLkNvbW1lbnRNb3ZlPUNvbW1lbnRNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X21vdmU7dmFyIENvbW1lbnRSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfcmVzaXplPWNsYXNzIGV4dGVuZHMgQ29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZXtjb25zdHJ1Y3RvcihhKXtzdXBlcihhKTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9SRVNJWkU7YSYmKHRoaXMub2xkU2l6ZT1hLmdldFNpemUoKSl9cmVjb3JkQ3VycmVudFNpemVBc05ld1NpemUoKXtpZih0aGlzLm5ld1NpemUpdGhyb3cgRXJyb3IoXCJUcmllZCB0byByZWNvcmQgdGhlIG5ldyBzaXplIG9mIGEgY29tbWVudCBvbiB0aGUgc2FtZSBldmVudCB0d2ljZS5cIik7dmFyIGE9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy5jb21tZW50SWQpdGhyb3cgRXJyb3IoXCJUaGUgY29tbWVudCBJRCBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7XG5hPWEuZ2V0Q29tbWVudEJ5SWQodGhpcy5jb21tZW50SWQpO2lmKCFhKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21tZW50IHJlc2l6ZSBldmVudCBjb3VsZCBub3QgYmUgZm91bmRcIik7dGhpcy5uZXdTaXplPWEuZ2V0U2l6ZSgpfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7aWYoIXRoaXMub2xkU2l6ZSl0aHJvdyBFcnJvcihcIlRoZSBvbGQgY29tbWVudCBzaXplIGlzIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgYSBjb21tZW50IHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5uZXdTaXplKXRocm93IEVycm9yKFwiVGhlIG5ldyBjb21tZW50IHNpemUgaXMgdW5kZWZpbmVkLiBFaXRoZXIgY2FsbCByZWNvcmRDdXJyZW50U2l6ZUFzTmV3U2l6ZSwgb3IgY2FsbCBmcm9tSnNvblwiKTthLm9sZFdpZHRoPU1hdGgucm91bmQodGhpcy5vbGRTaXplLndpZHRoKTthLm9sZEhlaWdodD1NYXRoLnJvdW5kKHRoaXMub2xkU2l6ZS5oZWlnaHQpO1xuYS5uZXdXaWR0aD1NYXRoLnJvdW5kKHRoaXMubmV3U2l6ZS53aWR0aCk7YS5uZXdIZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLm5ld1NpemUuaGVpZ2h0KTtyZXR1cm4gYX1zdGF0aWMgZnJvbUpzb24oYSxiLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgQ29tbWVudFJlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9yZXNpemUpO2Iub2xkU2l6ZT1uZXcgU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUoYS5vbGRXaWR0aCxhLm9sZEhlaWdodCk7Yi5uZXdTaXplPW5ldyBTaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc2l6ZShhLm5ld1dpZHRoLGEubmV3SGVpZ2h0KTtyZXR1cm4gYn1pc051bGwoKXtyZXR1cm4gU2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHNpemUuZXF1YWxzKHRoaXMub2xkU2l6ZSx0aGlzLm5ld1NpemUpfXJ1bihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO1xuaWYoIXRoaXMuY29tbWVudElkKXRocm93IEVycm9yKFwiVGhlIGNvbW1lbnQgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIGNvbW1lbnQgdG8gdGhlIGNvbnN0cnVjdG9yLCBvciBjYWxsIGZyb21Kc29uXCIpO2lmKGI9Yi5nZXRDb21tZW50QnlJZCh0aGlzLmNvbW1lbnRJZCkpe2E9YT90aGlzLm5ld1NpemU6dGhpcy5vbGRTaXplO2lmKCFhKXRocm93IEVycm9yKFwiRWl0aGVyIG9sZFNpemUgb3IgbmV3U2l6ZSBpcyB1bmRlZmluZWQuIEVpdGhlciBwYXNzIGEgY29tbWVudCB0byB0aGUgY29uc3RydWN0b3IgYW5kIGNhbGwgcmVjb3JkQ3VycmVudFNpemVBc05ld1NpemUsIG9yIGNhbGwgZnJvbUpzb25cIik7Yi5zZXRTaXplKGEpfWVsc2UgY29uc29sZS53YXJuKFwiQ2FuJ3QgcmVzaXplIG5vbi1leGlzdGVudCBjb21tZW50OiBcIit0aGlzLmNvbW1lbnRJZCl9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkVWRU5ULEV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfUkVTSVpFLENvbW1lbnRSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfcmVzaXplKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9yZXNpemU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9yZXNpemUuQ29tbWVudFJlc2l6ZT1Db21tZW50UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X3Jlc2l6ZTt2YXIgVG9vbGJveEl0ZW1TZWxlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Rvb2xib3hfaXRlbV9zZWxlY3Q9Y2xhc3MgZXh0ZW5kcyBVaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2V7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGMpO3RoaXMudHlwZT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5UT09MQk9YX0lURU1fU0VMRUNUO3RoaXMub2xkSXRlbT1hIT1udWxsP2E6dm9pZCAwO3RoaXMubmV3SXRlbT1iIT1udWxsP2I6dm9pZCAwfXRvSnNvbigpe2NvbnN0IGE9c3VwZXIudG9Kc29uKCk7YS5vbGRJdGVtPXRoaXMub2xkSXRlbTthLm5ld0l0ZW09dGhpcy5uZXdJdGVtO3JldHVybiBhfXN0YXRpYyBmcm9tSnNvbihhLGIsYyl7Yj1zdXBlci5mcm9tSnNvbihhLGIsYyE9bnVsbD9jOm5ldyBUb29sYm94SXRlbVNlbGVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdG9vbGJveF9pdGVtX3NlbGVjdCk7XG5iLm9sZEl0ZW09YS5vbGRJdGVtO2IubmV3SXRlbT1hLm5ld0l0ZW07cmV0dXJuIGJ9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5FVkVOVCxFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5UT09MQk9YX0lURU1fU0VMRUNULFRvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190b29sYm94X2l0ZW1fc2VsZWN0KTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdG9vbGJveF9pdGVtX3NlbGVjdD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190b29sYm94X2l0ZW1fc2VsZWN0LlRvb2xib3hJdGVtU2VsZWN0PVRvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190b29sYm94X2l0ZW1fc2VsZWN0O3ZhciBWYXJUeXBlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfdHlwZV9jaGFuZ2U9Y2xhc3MgZXh0ZW5kcyBWYXJCYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfYmFzZXtjb25zdHJ1Y3RvcihhLGIsYyl7c3VwZXIoYSk7dGhpcy5vbGRUeXBlPWI7dGhpcy5uZXdUeXBlPWM7dGhpcy50eXBlPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9UWVBFX0NIQU5HRX10b0pzb24oKXtjb25zdCBhPXN1cGVyLnRvSnNvbigpO2lmKCF0aGlzLm9sZFR5cGV8fCF0aGlzLm5ld1R5cGUpdGhyb3cgRXJyb3IoXCJUaGUgdmFyaWFibGUncyB0eXBlcyBhcmUgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyB0aGVtIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTthLm9sZFR5cGU9dGhpcy5vbGRUeXBlO2EubmV3VHlwZT10aGlzLm5ld1R5cGU7cmV0dXJuIGF9c3RhdGljIGZyb21Kc29uKGEsXG5iLGMpe2I9c3VwZXIuZnJvbUpzb24oYSxiLGMhPW51bGw/YzpuZXcgVmFyVHlwZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX3R5cGVfY2hhbmdlKTtiLm9sZFR5cGU9YS5vbGRUeXBlO2IubmV3VHlwZT1hLm5ld1R5cGU7cmV0dXJuIGJ9cnVuKGEpe2NvbnN0IGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTtpZighdGhpcy52YXJJZCl0aHJvdyBFcnJvcihcIlRoZSB2YXIgSUQgaXMgdW5kZWZpbmVkLiBFaXRoZXIgcGFzcyBhIHZhcmlhYmxlIHRvIHRoZSBjb25zdHJ1Y3Rvciwgb3IgY2FsbCBmcm9tSnNvblwiKTtpZighdGhpcy5vbGRUeXBlfHwhdGhpcy5uZXdUeXBlKXRocm93IEVycm9yKFwiVGhlIHZhcmlhYmxlJ3MgdHlwZXMgYXJlIHVuZGVmaW5lZC4gRWl0aGVyIHBhc3MgdGhlbSB0byB0aGUgY29uc3RydWN0b3IsIG9yIGNhbGwgZnJvbUpzb25cIik7Y29uc3QgYz1iLmdldFZhcmlhYmxlTWFwKCkuZ2V0VmFyaWFibGVCeUlkKHRoaXMudmFySWQpO1xuYyYmKGE/Yi5nZXRWYXJpYWJsZU1hcCgpLmNoYW5nZVZhcmlhYmxlVHlwZShjLHRoaXMubmV3VHlwZSk6Yi5nZXRWYXJpYWJsZU1hcCgpLmNoYW5nZVZhcmlhYmxlVHlwZShjLHRoaXMub2xkVHlwZSkpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX1RZUEVfQ0hBTkdFLFZhclR5cGVDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl90eXBlX2NoYW5nZSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl90eXBlX2NoYW5nZT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfdHlwZV9jaGFuZ2UuVmFyVHlwZUNoYW5nZT1WYXJUeXBlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfdHlwZV9jaGFuZ2U7dmFyIEZpbmlzaGVkTG9hZGluZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR3b3Jrc3BhY2VfZXZlbnRzPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0e2NvbnN0cnVjdG9yKGEpe3N1cGVyKCk7dGhpcy5pc0JsYW5rPSEwO3RoaXMucmVjb3JkVW5kbz0hMTt0aGlzLnR5cGU9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuRklOSVNIRURfTE9BRElORzt0aGlzLmlzQmxhbms9ISFhO2EmJih0aGlzLndvcmtzcGFjZUlkPWEuaWQpfX07cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRVZFTlQsRXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuRklOSVNIRURfTE9BRElORyxGaW5pc2hlZExvYWRpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkd29ya3NwYWNlX2V2ZW50cyk7XG52YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR3b3Jrc3BhY2VfZXZlbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkd29ya3NwYWNlX2V2ZW50cy5GaW5pc2hlZExvYWRpbmc9RmluaXNoZWRMb2FkaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHdvcmtzcGFjZV9ldmVudHM7dmFyIEJMT0NLX0RSQUckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLEJMT0NLX0ZJRUxEX0lOVEVSTUVESUFURV9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLEJVQkJMRV9PUEVOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxDSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLENMSUNLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxDT01NRU5UX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsQ09NTUVOVF9DUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLENPTU1FTlRfREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxDT01NRU5UX01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLENPTU1FTlRfUkVTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxcbkNPTU1FTlRfRFJBRyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLEZJTklTSEVEX0xPQURJTkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLE1PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLFNFTEVDVEVEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxUSEVNRV9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLFRPT0xCT1hfSVRFTV9TRUxFQ1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLFRSQVNIQ0FOX09QRU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLFVJJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxWQVJfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyxcblZBUl9ERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLFZBUl9SRU5BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLFZJRVdQT1JUX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7JC5CTE9DS19DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NIQU5HRTskLkJMT0NLX0NSRUFURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ1JFQVRFOyQuQkxPQ0tfREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEU7XG5CTE9DS19EUkFHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19EUkFHOyQuQkxPQ0tfTU9WRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRTtCTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFO0JVQkJMRV9PUEVOJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CVUJCTEVfT1BFTjtcbkNIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfQ0hBTkdFO0NMSUNLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DTElDSztDT01NRU5UX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9DSEFOR0U7Q09NTUVOVF9DUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfQ1JFQVRFO0NPTU1FTlRfREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX0RFTEVURTtcbkNPTU1FTlRfTU9WRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQ09NTUVOVF9NT1ZFO0NPTU1FTlRfUkVTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5DT01NRU5UX1JFU0laRTtDT01NRU5UX0RSQUckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkNPTU1FTlRfRFJBRztDUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURTtERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0RFTEVURTtcbkZJTklTSEVEX0xPQURJTkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkZJTklTSEVEX0xPQURJTkc7TU9WRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuQkxPQ0tfTU9WRTtTRUxFQ1RFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuU0VMRUNURUQ7VEhFTUVfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5USEVNRV9DSEFOR0U7VE9PTEJPWF9JVEVNX1NFTEVDVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVE9PTEJPWF9JVEVNX1NFTEVDVDtcblRSQVNIQ0FOX09QRU4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlRSQVNIQ0FOX09QRU47VUkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlVJO1ZBUl9DUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzPUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLlZBUl9DUkVBVEU7VkFSX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9RXZlbnRUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHR5cGUuVkFSX0RFTEVURTtWQVJfUkVOQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WQVJfUkVOQU1FO1xuVklFV1BPUlRfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5WSUVXUE9SVF9DSEFOR0U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQWJzdHJhY3Q9QWJzdHJhY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Fic3RyYWN0O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJMT0NLX0NIQU5HRT0kLkJMT0NLX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQkxPQ0tfQ1JFQVRFPSQuQkxPQ0tfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJMT0NLX0RFTEVURT0kLkJMT0NLX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQkxPQ0tfRFJBRz1CTE9DS19EUkFHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CTE9DS19GSUVMRF9JTlRFUk1FRElBVEVfQ0hBTkdFPUJMT0NLX0ZJRUxEX0lOVEVSTUVESUFURV9DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJMT0NLX01PVkU9JC5CTE9DS19NT1ZFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CVUJCTEVfT1BFTj1CVUJCTEVfT1BFTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CVU1QX0VWRU5UUz1CVU1QX0VWRU5UUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJsb2NrQmFzZT1CbG9ja0Jhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2Jhc2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQmxvY2tDaGFuZ2U9QmxvY2tDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2Jsb2NrX2NoYW5nZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CbG9ja0NyZWF0ZT1CbG9ja0NyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfY3JlYXRlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJsb2NrRGVsZXRlPUJsb2NrRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kZWxldGU7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CbG9ja0RyYWc9QmxvY2tEcmFnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19kcmFnO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJsb2NrRmllbGRJbnRlcm1lZGlhdGVDaGFuZ2U9QmxvY2tGaWVsZEludGVybWVkaWF0ZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYmxvY2tfZmllbGRfaW50ZXJtZWRpYXRlX2NoYW5nZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CbG9ja01vdmU9QmxvY2tNb3ZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19ibG9ja19tb3ZlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkJ1YmJsZU9wZW49QnViYmxlT3BlbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfYnViYmxlX29wZW47XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5CdWJibGVUeXBlPUJ1YmJsZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2J1YmJsZV9vcGVuO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNIQU5HRT1DSEFOR0UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNMSUNLPUNMSUNLJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DT01NRU5UX0NIQU5HRT1DT01NRU5UX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ09NTUVOVF9DUkVBVEU9Q09NTUVOVF9DUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ09NTUVOVF9ERUxFVEU9Q09NTUVOVF9ERUxFVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNPTU1FTlRfRFJBRz1DT01NRU5UX0RSQUckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNPTU1FTlRfTU9WRT1DT01NRU5UX01PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNPTU1FTlRfUkVTSVpFPUNPTU1FTlRfUkVTSVpFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DUkVBVEU9Q1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNsaWNrPUNsaWNrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jbGljazttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5DbGlja1RhcmdldD1DbGlja1RhcmdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY2xpY2s7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ29tbWVudEJhc2U9Q29tbWVudEJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfYmFzZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5Db21tZW50Q2hhbmdlPUNvbW1lbnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY2hhbmdlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNvbW1lbnRDb2xsYXBzZT1Db21tZW50Q29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY29sbGFwc2U7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5Db21tZW50Q3JlYXRlPUNvbW1lbnRDcmVhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfY3JlYXRlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkNvbW1lbnREZWxldGU9Q29tbWVudERlbGV0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9kZWxldGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ29tbWVudERyYWc9Q29tbWVudERyYWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX2NvbW1lbnRfZHJhZzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5Db21tZW50TW92ZT1Db21tZW50TW92ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfY29tbWVudF9tb3ZlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuQ29tbWVudFJlc2l6ZT1Db21tZW50UmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19jb21tZW50X3Jlc2l6ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5ERUxFVEU9REVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5GSU5JU0hFRF9MT0FESU5HPUZJTklTSEVEX0xPQURJTkckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLkZpbmlzaGVkTG9hZGluZz1GaW5pc2hlZExvYWRpbmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkd29ya3NwYWNlX2V2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5NT1ZFPU1PVkUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuU0VMRUNURUQ9U0VMRUNURUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlNlbGVjdGVkPVNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c19zZWxlY3RlZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5USEVNRV9DSEFOR0U9VEhFTUVfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5UT09MQk9YX0lURU1fU0VMRUNUPVRPT0xCT1hfSVRFTV9TRUxFQ1QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlRSQVNIQ0FOX09QRU49VFJBU0hDQU5fT1BFTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5UaGVtZUNoYW5nZT1UaGVtZUNoYW5nZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdGhlbWVfY2hhbmdlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlRvb2xib3hJdGVtU2VsZWN0PVRvb2xib3hJdGVtU2VsZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c190b29sYm94X2l0ZW1fc2VsZWN0O21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlRyYXNoY2FuT3Blbj1UcmFzaGNhbk9wZW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3RyYXNoY2FuX29wZW47bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVUk9VUkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlVpQmFzZT1VaUJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3VpX2Jhc2U7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5WQVJfQ1JFQVRFPVZBUl9DUkVBVEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlZBUl9ERUxFVEU9VkFSX0RFTEVURSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVkFSX1JFTkFNRT1WQVJfUkVOQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5WSUVXUE9SVF9DSEFOR0U9VklFV1BPUlRfQ0hBTkdFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5WYXJCYXNlPVZhckJhc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9iYXNlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVmFyQ3JlYXRlPVZhckNyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHNfdmFyX2NyZWF0ZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5WYXJEZWxldGU9VmFyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfZGVsZXRlO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLlZhclJlbmFtZT1WYXJSZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3Zhcl9yZW5hbWU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVmFyVHlwZUNoYW5nZT1WYXJUeXBlQ2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50c192YXJfdHlwZV9jaGFuZ2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuVmlld3BvcnRDaGFuZ2U9Vmlld3BvcnRDaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzX3ZpZXdwb3J0O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuY2xlYXJQZW5kaW5nVW5kbz1jbGVhclBlbmRpbmdVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmRpc2FibGU9JC5kaXNhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmRpc2FibGVPcnBoYW5zPWRpc2FibGVPcnBoYW5zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmVuYWJsZT0kLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5maWx0ZXI9ZmlsdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuZmlyZT1maXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmZyb21Kc29uPWZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmdldD1nZXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuZ2V0RGVzY2VuZGFudElkcz1nZXREZXNjZW5kYW50SWRzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLmdldEdyb3VwPSQuZ2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuZ2V0UmVjb3JkVW5kbz1nZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMuaXNFbmFibGVkPWlzRW5hYmxlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlsczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cy5zZXRHcm91cD0kLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzLnNldFJlY29yZFVuZG89JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuQm90dG9tUm93PUJvdHRvbVJvdyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyRtZWFzdXJhYmxlcyRib3R0b21fcm93O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuQ29uc3RhbnRQcm92aWRlcj1Db25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJGNvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLkRyYXdlcj1EcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkZHJhd2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuUGF0aE9iamVjdD1QYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHBhdGhfb2JqZWN0O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyR6ZWxvcy5SZW5kZXJJbmZvPVJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkaW5mbzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHplbG9zLlJlbmRlcmVyPVJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJHJlbmRlcmVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuUmlnaHRDb25uZWN0aW9uU2hhcGU9UmlnaHRDb25uZWN0aW9uU2hhcGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkcm93X2VsZW1lbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3MuU3RhdGVtZW50SW5wdXQ9U3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkbWVhc3VyYWJsZXMkaW5wdXRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR6ZWxvcyR6ZWxvcy5Ub3BSb3c9VG9wUm93JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHplbG9zJG1lYXN1cmFibGVzJHRvcF9yb3c7cmVnaXN0ZXJEZWZhdWx0T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zKCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJDbGVhbnVwPXJlZ2lzdGVyQ2xlYW51cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckNvbGxhcHNlPXJlZ2lzdGVyQ29sbGFwc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJDb2xsYXBzZUV4cGFuZEJsb2NrPXJlZ2lzdGVyQ29sbGFwc2VFeHBhbmRCbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyQ29tbWVudD1yZWdpc3RlckNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJDb21tZW50Q3JlYXRlPXJlZ2lzdGVyQ29tbWVudENyZWF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckNvbW1lbnREZWxldGU9cmVnaXN0ZXJDb21tZW50RGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyQ29tbWVudER1cGxpY2F0ZT1yZWdpc3RlckNvbW1lbnREdXBsaWNhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckNvbW1lbnRPcHRpb25zPXJlZ2lzdGVyQ29tbWVudE9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJEZWZhdWx0T3B0aW9ucz1yZWdpc3RlckRlZmF1bHRPcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyRGVsZXRlPXJlZ2lzdGVyRGVsZXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zLnJlZ2lzdGVyRGVsZXRlQWxsPXJlZ2lzdGVyRGVsZXRlQWxsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJEaXNhYmxlPXJlZ2lzdGVyRGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckR1cGxpY2F0ZT1yZWdpc3RlckR1cGxpY2F0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckV4cGFuZD1yZWdpc3RlckV4cGFuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlckhlbHA9cmVnaXN0ZXJIZWxwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJJbmxpbmU9cmVnaXN0ZXJJbmxpbmUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXMucmVnaXN0ZXJSZWRvPXJlZ2lzdGVyUmVkbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X2l0ZW1zO21vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcy5yZWdpc3RlclVuZG89cmVnaXN0ZXJVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnVfaXRlbXM7dmFyIEJVVFRPTl9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnV0dG9uX2ZseW91dF9pbmZsYXRlcj1cImJ1dHRvblwiLEJ1dHRvbkZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnV0dG9uX2ZseW91dF9pbmZsYXRlcj1jbGFzc3tsb2FkKGEsYil7YT1uZXcgRmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbihiLmdldFdvcmtzcGFjZSgpLGIudGFyZ2V0V29ya3NwYWNlLGEsITEpO2Euc2hvdygpO3JldHVybiBuZXcgRmx5b3V0SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9pdGVtKGEsQlVUVE9OX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyKX1nYXBGb3JJdGVtKGEsYil7cmV0dXJuIGJ9ZGlzcG9zZUl0ZW0oYSl7YT1hLmdldEVsZW1lbnQoKTthIGluc3RhbmNlb2YgRmx5b3V0QnV0dG9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2J1dHRvbiYmYS5kaXNwb3NlKCl9Z2V0VHlwZSgpe3JldHVybiBCVVRUT05fVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1dHRvbl9mbHlvdXRfaW5mbGF0ZXJ9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVF9JTkZMQVRFUixCVVRUT05fVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1dHRvbl9mbHlvdXRfaW5mbGF0ZXIsQnV0dG9uRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1dHRvbl9mbHlvdXRfaW5mbGF0ZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1dHRvbl9mbHlvdXRfaW5mbGF0ZXIuQnV0dG9uRmx5b3V0SW5mbGF0ZXI9QnV0dG9uRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcy5CdWJibGU9QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRidWJibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMuTWluaVdvcmtzcGFjZUJ1YmJsZT1NaW5pV29ya3NwYWNlQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyRtaW5pX3dvcmtzcGFjZV9idWJibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMuVGV4dEJ1YmJsZT1UZXh0QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0X2J1YmJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcy5UZXh0SW5wdXRCdWJibGU9VGV4dElucHV0QnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnViYmxlcyR0ZXh0aW5wdXRfYnViYmxlO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseV9vcHRpb25zPXt9O3ZhciBXT1JLU1BBQ0VfQVRfQkxPQ0tfQ0FQQUNJVFlfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyPVwiV09SS1NQQUNFX0FUX0JMT0NLX0NBUEFDSVRZXCIsQkxPQ0tfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2ZseW91dF9pbmZsYXRlcj1cImJsb2NrXCIsQmxvY2tGbHlvdXRJbmZsYXRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2ZseW91dF9pbmZsYXRlcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucGVybWFuZW50bHlEaXNhYmxlZEJsb2Nrcz1uZXcgU2V0O3RoaXMubGlzdGVuZXJzPW5ldyBNYXA7dGhpcy5jYXBhY2l0eVdyYXBwZXI9dGhpcy5maWx0ZXJGbHlvdXRCYXNlZE9uQ2FwYWNpdHkuYmluZCh0aGlzKX1sb2FkKGEsYil7dGhpcy5zZXRGbHlvdXQoYik7YT10aGlzLmNyZWF0ZUJsb2NrKGEsYi5nZXRXb3Jrc3BhY2UoKSk7YS5pc0VuYWJsZWQoKT90aGlzLnVwZGF0ZVN0YXRlQmFzZWRPbkNhcGFjaXR5KGEpOlxudGhpcy5wZXJtYW5lbnRseURpc2FibGVkQmxvY2tzLmFkZChhKTthLmdldERlc2NlbmRhbnRzKCExKS5mb3JFYWNoKGM9PmMuaXNJbkZseW91dD0hMCk7dGhpcy5hZGRCbG9ja0xpc3RlbmVycyhhKTtyZXR1cm4gbmV3IEZseW91dEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfaXRlbShhLEJMT0NLX1RZUEUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXIpfWNyZWF0ZUJsb2NrKGEsYil7YS5ibG9ja3htbD8oYT10eXBlb2YgYS5ibG9ja3htbD09PVwic3RyaW5nXCI/JC50ZXh0VG9Eb20kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoYS5ibG9ja3htbCk6YS5ibG9ja3htbCxiPWRvbVRvQmxvY2tJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChhLGIpKTooYS5lbmFibGVkPT09dm9pZCAwJiYoYS5lbmFibGVkPWEuZGlzYWJsZWQhPT1cInRydWVcIiYmYS5kaXNhYmxlZCE9PSEwKSxhLmRpc2FibGVkUmVhc29ucz09PVxudm9pZCAwJiZhLmVuYWJsZWQ9PT0hMSYmKGEuZGlzYWJsZWRSZWFzb25zPVtNQU5VQUxMWV9ESVNBQkxFRCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50c10pLFwieFwiaW4gYSYmZGVsZXRlIGEueCxcInlcImluIGEmJmRlbGV0ZSBhLnksYj1hcHBlbmRJbnRlcm5hbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNlcmlhbGl6YXRpb24kYmxvY2tzKGEsYikpO3JldHVybiBifWdhcEZvckl0ZW0oYSxiKXtsZXQgYzthLmdhcD9jPXBhcnNlSW50KFN0cmluZyhhLmdhcCkpOmEuYmxvY2t4bWwmJihhPXR5cGVvZiBhLmJsb2NreG1sPT09XCJzdHJpbmdcIj8kLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhLmJsb2NreG1sKTphLmJsb2NreG1sLGM9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJnYXBcIikpKTtyZXR1cm4hY3x8aXNOYU4oYyk/YjpjfWRpc3Bvc2VJdGVtKGEpe2E9YS5nZXRFbGVtZW50KCk7YSBpbnN0YW5jZW9mIEJsb2NrU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfc3ZnJiZcbih0aGlzLnJlbW92ZUxpc3RlbmVycyhhLmlkKSxhLmRpc3Bvc2UoITEsITEpKX1yZW1vdmVMaXN0ZW5lcnMoYSl7bGV0IGI7KChiPXRoaXMubGlzdGVuZXJzLmdldChhKSkhPW51bGw/YjpbXSkuZm9yRWFjaChjPT51bmJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhjKSk7dGhpcy5saXN0ZW5lcnMuZGVsZXRlKGEpfXNldEZseW91dChhKXtpZih0aGlzLmZseW91dCE9PWEpe2lmKHRoaXMuZmx5b3V0KXtsZXQgYzsoYz10aGlzLmZseW91dC50YXJnZXRXb3Jrc3BhY2UpPT1udWxsfHxjLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMuY2FwYWNpdHlXcmFwcGVyKX10aGlzLmZseW91dD1hO3ZhciBiOyhiPXRoaXMuZmx5b3V0LnRhcmdldFdvcmtzcGFjZSk9PW51bGx8fGIuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5jYXBhY2l0eVdyYXBwZXIpfX11cGRhdGVTdGF0ZUJhc2VkT25DYXBhY2l0eShhKXtsZXQgYixjO2NvbnN0IGQ9KGI9dGhpcy5mbHlvdXQpPT1udWxsP1xudm9pZCAwOihjPWIudGFyZ2V0V29ya3NwYWNlKT09bnVsbD92b2lkIDA6Yy5pc0NhcGFjaXR5QXZhaWxhYmxlKGdldEJsb2NrVHlwZUNvdW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihhKSk7Zm9yKDthOylhLnNldERpc2FibGVkUmVhc29uKCFkLFdPUktTUEFDRV9BVF9CTE9DS19DQVBBQ0lUWV9ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXIpLGE9YS5nZXROZXh0QmxvY2soKX1hZGRCbG9ja0xpc3RlbmVycyhhKXtjb25zdCBiPVtdO2IucHVzaChjb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLmdldFN2Z1Jvb3QoKSxcInBvaW50ZXJkb3duXCIsYSxjPT57bGV0IGQsZTtjb25zdCBmPShkPXRoaXMuZmx5b3V0KT09bnVsbD92b2lkIDA6KGU9ZC50YXJnZXRXb3Jrc3BhY2UpPT1udWxsP3ZvaWQgMDplLmdldEdlc3R1cmUoYyk7ZiYmdGhpcy5mbHlvdXQmJihmLnNldFN0YXJ0QmxvY2soYSksXG5mLmhhbmRsZUZseW91dFN0YXJ0KGMsdGhpcy5mbHlvdXQpKX0pKTtiLnB1c2goYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEuZ2V0U3ZnUm9vdCgpLFwicG9pbnRlcm1vdmVcIixudWxsLCgpPT57bGV0IGMsZDsoKGM9dGhpcy5mbHlvdXQpPT1udWxsPzA6KGQ9Yy50YXJnZXRXb3Jrc3BhY2UpPT1udWxsPzA6ZC5pc0RyYWdnaW5nKCkpfHxhLmFkZFNlbGVjdCgpfSkpO2IucHVzaChiaW5kJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnJvd3Nlcl9ldmVudHMoYS5nZXRTdmdSb290KCksXCJwb2ludGVybGVhdmVcIixudWxsLCgpPT57bGV0IGMsZDsoKGM9dGhpcy5mbHlvdXQpPT1udWxsPzA6KGQ9Yy50YXJnZXRXb3Jrc3BhY2UpPT1udWxsPzA6ZC5pc0RyYWdnaW5nKCkpfHxhLnJlbW92ZVNlbGVjdCgpfSkpO3RoaXMubGlzdGVuZXJzLnNldChhLmlkLGIpfWZpbHRlckZseW91dEJhc2VkT25DYXBhY2l0eShhKXshdGhpcy5mbHlvdXR8fGEmJmEudHlwZSE9PUV2ZW50VHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR0eXBlLkJMT0NLX0NSRUFURSYmXG5hLnR5cGUhPT1FdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5CTE9DS19ERUxFVEV8fHRoaXMuZmx5b3V0LmdldFdvcmtzcGFjZSgpLmdldFRvcEJsb2NrcyghMSkuZm9yRWFjaChiPT57dGhpcy5wZXJtYW5lbnRseURpc2FibGVkQmxvY2tzLmhhcyhiKXx8dGhpcy51cGRhdGVTdGF0ZUJhc2VkT25DYXBhY2l0eShiKX0pfWdldFR5cGUoKXtyZXR1cm4gQkxPQ0tfVFlQRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2ZseW91dF9pbmZsYXRlcn19O3JlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVF9JTkZMQVRFUixCTE9DS19UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tfZmx5b3V0X2luZmxhdGVyLEJsb2NrRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXIpO1xudmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXI9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2ZseW91dF9pbmZsYXRlci5CbG9ja0ZseW91dEluZmxhdGVyPUJsb2NrRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXI7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcGFzdGVyPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcGFzdGVyLmlzUGFzdGVyPWlzUGFzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3Bhc3Rlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9yZW5kZXJlZF9lbGVtZW50PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcmVuZGVyZWRfZWxlbWVudC5pc1JlbmRlcmVkRWxlbWVudD1pc1JlbmRlcmVkRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9yZW5kZXJlZF9lbGVtZW50O3ZhciBDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGNvbnN0YW50cz1jbGFzcyBleHRlbmRzIENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGNvbnN0YW50c3tjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7dGhpcy5GSUVMRF9URVhUX0JBU0VMSU5FX0NFTlRFUj0hMTt0aGlzLkRBUktfUEFUSF9PRkZTRVQ9MTt0aGlzLk1BWF9CT1RUT01fV0lEVEg9MzA7dGhpcy5TVEFURU1FTlRfQk9UVE9NX1NQQUNFUj0tdGhpcy5OT1RDSF9IRUlHSFQvMn1nZXRDU1NfKGEpe3JldHVybiBzdXBlci5nZXRDU1NfKGEpLmNvbmNhdChbYCR7YX0gLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoTGlnaHQsYCxgJHthfSAuYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGhEYXJrIHtgLGBmaWxsLW9wYWNpdHk6ICR7dGhpcy5JTlNFUlRJT05fTUFSS0VSX09QQUNJVFl9O2AsXCJzdHJva2U6IG5vbmU7XCIsXG5cIn1cIl0pfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRjb25zdGFudHM9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRjb25zdGFudHMuQ29uc3RhbnRQcm92aWRlcj1Db25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGNvbnN0YW50czt2YXIgSGlnaGxpZ2h0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0ZXI9Y2xhc3N7Y29uc3RydWN0b3IoYSl7dGhpcy5pbmxpbmVTdGVwc189dGhpcy5zdGVwc189XCJcIjt0aGlzLmluZm9fPWE7dGhpcy5SVExfPXRoaXMuaW5mb18uUlRMO2E9YS5nZXRSZW5kZXJlcigpO3RoaXMuY29uc3RhbnRzXz1hLmdldENvbnN0YW50cygpO3RoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXz1hLmdldEhpZ2hsaWdodENvbnN0YW50cygpO3RoaXMuaGlnaGxpZ2h0T2Zmc2V0PXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5PRkZTRVQ7dGhpcy5vdXRzaWRlQ29ybmVyUGF0aHNfPXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUjt0aGlzLmluc2lkZUNvcm5lclBhdGhzXz10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uSU5TSURFX0NPUk5FUjt0aGlzLnB1enpsZVRhYlBhdGhzXz10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uUFVaWkxFX1RBQjt0aGlzLm5vdGNoUGF0aHNfPVxudGhpcy5oaWdobGlnaHRDb25zdGFudHNfLk5PVENIO3RoaXMuc3RhcnRQYXRoc189dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLlNUQVJUX0hBVDt0aGlzLmphZ2dlZFRlZXRoUGF0aHNfPXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5KQUdHRURfVEVFVEh9Z2V0UGF0aCgpe3JldHVybiB0aGlzLnN0ZXBzXytcIlxcblwiK3RoaXMuaW5saW5lU3RlcHNffWRyYXdUb3BDb3JuZXIoYSl7dGhpcy5zdGVwc18rPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLnhQb3MsdGhpcy5pbmZvXy5zdGFydFkpO2ZvcihsZXQgYj0wLGM7Yz1hLmVsZW1lbnRzW2JdO2IrKylUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYyk/dGhpcy5zdGVwc18rPXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5TVEFSVF9QT0lOVDpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGMpP1xudGhpcy5zdGVwc18rPXRoaXMub3V0c2lkZUNvcm5lclBhdGhzXy50b3BMZWZ0KHRoaXMuUlRMXyk6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYyk/dGhpcy5zdGVwc18rPXRoaXMubm90Y2hQYXRoc18ucGF0aExlZnQ6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNIYXQoYyk/dGhpcy5zdGVwc18rPXRoaXMuc3RhcnRQYXRoc18ucGF0aCh0aGlzLlJUTF8pOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3BhY2VyKGMpJiZjLndpZHRoIT09MCYmKHRoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiSFwiLGMueFBvcytjLndpZHRoLXRoaXMuaGlnaGxpZ2h0T2Zmc2V0KSk7dGhpcy5zdGVwc18rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJIXCIsXG5hLnhQb3MrYS53aWR0aC10aGlzLmhpZ2hsaWdodE9mZnNldCl9ZHJhd0phZ2dlZEVkZ2VfKGEpe3RoaXMuaW5mb18uUlRMJiYodGhpcy5zdGVwc18rPXRoaXMuamFnZ2VkVGVldGhQYXRoc18ucGF0aExlZnQrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixhLmhlaWdodC10aGlzLmphZ2dlZFRlZXRoUGF0aHNfLmhlaWdodC10aGlzLmhpZ2hsaWdodE9mZnNldCkpfWRyYXdWYWx1ZUlucHV0KGEpe2NvbnN0IGI9YS5nZXRMYXN0SW5wdXQoKTtpZih0aGlzLlJUTF8pe2NvbnN0IGM9YS5oZWlnaHQtYi5jb25uZWN0aW9uSGVpZ2h0O3RoaXMuc3RlcHNfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYi54UG9zK2Iud2lkdGgtdGhpcy5oaWdobGlnaHRPZmZzZXQsYS55UG9zKSt0aGlzLnB1enpsZVRhYlBhdGhzXy5wYXRoRG93bih0aGlzLlJUTF8pK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsXG5jKX1lbHNlIHRoaXMuc3RlcHNfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYi54UG9zK2Iud2lkdGgsYS55UG9zKSt0aGlzLnB1enpsZVRhYlBhdGhzXy5wYXRoRG93bih0aGlzLlJUTF8pfWRyYXdTdGF0ZW1lbnRJbnB1dChhKXtjb25zdCBiPWEuZ2V0TGFzdElucHV0KCk7aWYoYilpZih0aGlzLlJUTF8pe2NvbnN0IGM9YS5oZWlnaHQtMip0aGlzLmluc2lkZUNvcm5lclBhdGhzXy5oZWlnaHQ7dGhpcy5zdGVwc18rPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhiLnhQb3MsYS55UG9zKSt0aGlzLmluc2lkZUNvcm5lclBhdGhzXy5wYXRoVG9wKHRoaXMuUlRMXykrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixjKSt0aGlzLmluc2lkZUNvcm5lclBhdGhzXy5wYXRoQm90dG9tKHRoaXMuUlRMXykrbGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEud2lkdGgtXG5iLnhQb3MtdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ud2lkdGgsMCl9ZWxzZSB0aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIueFBvcyxhLnlQb3MrYS5oZWlnaHQpK3RoaXMuaW5zaWRlQ29ybmVyUGF0aHNfLnBhdGhCb3R0b20odGhpcy5SVExfKStsaW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYS53aWR0aC1iLnhQb3MtdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ud2lkdGgsMCl9ZHJhd1JpZ2h0U2lkZVJvdyhhKXtjb25zdCBiPWEueFBvcythLndpZHRoLXRoaXMuaGlnaGxpZ2h0T2Zmc2V0O2EgaW5zdGFuY2VvZiBTcGFjZXJSb3ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3BhY2VyX3JvdyYmYS5mb2xsb3dzU3RhdGVtZW50JiYodGhpcy5zdGVwc18rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJIXCIsYikpO1xudGhpcy5SVExfJiYodGhpcy5zdGVwc18rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJIXCIsYiksYS5oZWlnaHQ+dGhpcy5oaWdobGlnaHRPZmZzZXQmJih0aGlzLnN0ZXBzXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixhLnlQb3MrYS5oZWlnaHQtdGhpcy5oaWdobGlnaHRPZmZzZXQpKSl9ZHJhd0JvdHRvbVJvdyhhKXtpZih0aGlzLlJUTF8pdGhpcy5zdGVwc18rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsYS5iYXNlbGluZS10aGlzLmhpZ2hsaWdodE9mZnNldCk7ZWxzZXtjb25zdCBiPXRoaXMuaW5mb18uYm90dG9tUm93LmVsZW1lbnRzWzBdO1R5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFNxdWFyZUNvcm5lcihiKT90aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEueFBvcytcbnRoaXMuaGlnaGxpZ2h0T2Zmc2V0LGEuYmFzZWxpbmUtdGhpcy5oaWdobGlnaHRPZmZzZXQpOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYikmJih0aGlzLnN0ZXBzXys9bW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEueFBvcyxhLmJhc2VsaW5lKSx0aGlzLnN0ZXBzXys9dGhpcy5vdXRzaWRlQ29ybmVyUGF0aHNfLmJvdHRvbUxlZnQoKSl9fWRyYXdMZWZ0KCl7dmFyIGE9dGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uO2EmJihhPWEuY29ubmVjdGlvbk9mZnNldFkrYS5oZWlnaHQsdGhpcy5SVExfP3RoaXMuc3RlcHNfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHModGhpcy5pbmZvXy5zdGFydFgsYSk6KHRoaXMuc3RlcHNfKz1tb3ZlVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHModGhpcy5pbmZvXy5zdGFydFgrXG50aGlzLmhpZ2hsaWdodE9mZnNldCx0aGlzLmluZm9fLmJvdHRvbVJvdy5iYXNlbGluZS10aGlzLmhpZ2hsaWdodE9mZnNldCksdGhpcy5zdGVwc18rPWxpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJWXCIsYSkpLHRoaXMuc3RlcHNfKz10aGlzLnB1enpsZVRhYlBhdGhzXy5wYXRoVXAodGhpcy5SVExfKSk7dGhpcy5SVExffHwoYT10aGlzLmluZm9fLnRvcFJvdyxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEuZWxlbWVudHNbMF0pP3RoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLHRoaXMub3V0c2lkZUNvcm5lclBhdGhzXy5oZWlnaHQpOnRoaXMuc3RlcHNfKz1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiVlwiLGEuY2FwbGluZSt0aGlzLmhpZ2hsaWdodE9mZnNldCkpfWRyYXdJbmxpbmVJbnB1dChhKXtjb25zdCBiPVxudGhpcy5oaWdobGlnaHRPZmZzZXQsYz1hLnhQb3MrYS5jb25uZWN0aW9uV2lkdGg7dmFyIGQ9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzI7Y29uc3QgZT1hLndpZHRoLWEuY29ubmVjdGlvbldpZHRoLGY9ZCtiO3RoaXMuUlRMXz8oZD1hLmNvbm5lY3Rpb25PZmZzZXRZLWIsYT1hLmhlaWdodC0oYS5jb25uZWN0aW9uT2Zmc2V0WSthLmNvbm5lY3Rpb25IZWlnaHQpK2IsdGhpcy5pbmxpbmVTdGVwc18rPW1vdmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhjLWIsZikrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixkKSt0aGlzLnB1enpsZVRhYlBhdGhzXy5wYXRoRG93bih0aGlzLlJUTF8pK2xpbmVPbkF4aXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJ2XCIsYSkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIixlKSk6dGhpcy5pbmxpbmVTdGVwc18rPVxubW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEueFBvcythLndpZHRoK2IsZikrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixhLmhlaWdodCkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIiwtZSkrbW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGMsZCthLmNvbm5lY3Rpb25PZmZzZXRZKSt0aGlzLnB1enpsZVRhYlBhdGhzXy5wYXRoRG93bih0aGlzLlJUTF8pfX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodGVyLkhpZ2hsaWdodGVyPUhpZ2hsaWdodGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodGVyO3ZhciBEcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZHJhd2VyPWNsYXNzIGV4dGVuZHMgRHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRkcmF3ZXJ7Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpO3RoaXMuaGlnaGxpZ2h0ZXJfPW5ldyBIaWdobGlnaHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRlcihiKX1kcmF3KCl7dGhpcy5kcmF3T3V0bGluZV8oKTt0aGlzLmRyYXdJbnRlcm5hbHNfKCk7dGhpcy51cGRhdGVDb25uZWN0aW9uSGlnaGxpZ2h0cygpO2NvbnN0IGE9dGhpcy5ibG9ja18ucGF0aE9iamVjdDthLnNldFBhdGgodGhpcy5vdXRsaW5lUGF0aF8rXCJcXG5cIit0aGlzLmlubGluZVBhdGhfKTthLnNldEhpZ2hsaWdodFBhdGgodGhpcy5oaWdobGlnaHRlcl8uZ2V0UGF0aCgpKTt0aGlzLmluZm9fLlJUTCYmYS5mbGlwUlRMKCk7dGhpcy5yZWNvcmRTaXplT25CbG9ja18oKX1kcmF3VG9wXygpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdUb3BDb3JuZXIodGhpcy5pbmZvXy50b3BSb3cpO1xudGhpcy5oaWdobGlnaHRlcl8uZHJhd1JpZ2h0U2lkZVJvdyh0aGlzLmluZm9fLnRvcFJvdyk7c3VwZXIuZHJhd1RvcF8oKX1kcmF3SmFnZ2VkRWRnZV8oYSl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd0phZ2dlZEVkZ2VfKGEpO3N1cGVyLmRyYXdKYWdnZWRFZGdlXyhhKX1kcmF3VmFsdWVJbnB1dF8oYSl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd1ZhbHVlSW5wdXQoYSk7c3VwZXIuZHJhd1ZhbHVlSW5wdXRfKGEpfWRyYXdTdGF0ZW1lbnRJbnB1dF8oYSl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd1N0YXRlbWVudElucHV0KGEpO3N1cGVyLmRyYXdTdGF0ZW1lbnRJbnB1dF8oYSl9ZHJhd1JpZ2h0U2lkZVJvd18oYSl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd1JpZ2h0U2lkZVJvdyhhKTt0aGlzLm91dGxpbmVQYXRoXys9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIkhcIixhLnhQb3MrYS53aWR0aCkrbGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcIlZcIixcbmEueVBvcythLmhlaWdodCl9ZHJhd0JvdHRvbV8oKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3Qm90dG9tUm93KHRoaXMuaW5mb18uYm90dG9tUm93KTtzdXBlci5kcmF3Qm90dG9tXygpfWRyYXdMZWZ0Xygpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdMZWZ0KCk7c3VwZXIuZHJhd0xlZnRfKCl9ZHJhd0lubGluZUlucHV0XyhhKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3SW5saW5lSW5wdXQoYSk7c3VwZXIuZHJhd0lubGluZUlucHV0XyhhKX1wb3NpdGlvbklubGluZUlucHV0Q29ubmVjdGlvbl8oYSl7Y29uc3QgYj1hLmNlbnRlcmxpbmUtYS5oZWlnaHQvMjtpZihhLmNvbm5lY3Rpb25Nb2RlbCl7bGV0IGM9YS54UG9zK2EuY29ubmVjdGlvbldpZHRoK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2EuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxiK2EuY29ubmVjdGlvbk9mZnNldFkrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpfX1wb3NpdGlvblN0YXRlbWVudElucHV0Q29ubmVjdGlvbl8oYSl7Y29uc3QgYj1cbmEuZ2V0TGFzdElucHV0KCk7aWYoYj09bnVsbD8wOmIuY29ubmVjdGlvbk1vZGVsKXtsZXQgYz1hLnhQb3MrYS5zdGF0ZW1lbnRFZGdlK2Iubm90Y2hPZmZzZXQ7Yz10aGlzLmluZm9fLlJUTD9jKi0xOmMrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQ7Yi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jayhjLGEueVBvcyt0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9fXBvc2l0aW9uRXh0ZXJuYWxWYWx1ZUNvbm5lY3Rpb25fKGEpe2NvbnN0IGI9YS5nZXRMYXN0SW5wdXQoKTtpZihiJiZiLmNvbm5lY3Rpb25Nb2RlbCl7bGV0IGM9YS54UG9zK2Eud2lkdGgrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQ7dGhpcy5pbmZvXy5SVEwmJihjKj0tMSk7Yi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jayhjLGEueVBvcyl9fXBvc2l0aW9uTmV4dENvbm5lY3Rpb25fKCl7Y29uc3QgYT10aGlzLmluZm9fLmJvdHRvbVJvdztpZihhLmNvbm5lY3Rpb24pe2NvbnN0IGI9XG5hLmNvbm5lY3Rpb24sYz1iLnhQb3M7Yi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jaygodGhpcy5pbmZvXy5SVEw/LWM6YykrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQvMixhLmJhc2VsaW5lK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUKX19fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGRyYXdlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGRyYXdlci5EcmF3ZXI9RHJhd2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGRyYXdlcjt2YXIgSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRfY29uc3RhbnRzPWNsYXNze2NvbnN0cnVjdG9yKGEpe3RoaXMuT0ZGU0VUPS41O3RoaXMuY29uc3RhbnRQcm92aWRlcj1hO3RoaXMuU1RBUlRfUE9JTlQ9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKHRoaXMuT0ZGU0VULHRoaXMuT0ZGU0VUKX1pbml0KCl7dGhpcy5JTlNJREVfQ09STkVSPXRoaXMubWFrZUluc2lkZUNvcm5lcigpO3RoaXMuT1VUU0lERV9DT1JORVI9dGhpcy5tYWtlT3V0c2lkZUNvcm5lcigpO3RoaXMuUFVaWkxFX1RBQj10aGlzLm1ha2VQdXp6bGVUYWIoKTt0aGlzLk5PVENIPXRoaXMubWFrZU5vdGNoKCk7dGhpcy5KQUdHRURfVEVFVEg9dGhpcy5tYWtlSmFnZ2VkVGVldGgoKTt0aGlzLlNUQVJUX0hBVD10aGlzLm1ha2VTdGFydEhhdCgpfW1ha2VJbnNpZGVDb3JuZXIoKXtjb25zdCBhPXRoaXMuY29uc3RhbnRQcm92aWRlci5DT1JORVJfUkFESVVTLFxuYj10aGlzLk9GRlNFVCxjPSgxLU1hdGguU1FSVDFfMikqKGErYiktYixkPW1vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhjLGMpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYy1iLGEtYykpLGU9YXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDBcIixhK2IscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYStiLGErYikpLGY9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGMsLWMpK2FyYyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImFcIixcIjAgMCwwXCIsYStiLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEtYyxjK2IpKTtyZXR1cm57d2lkdGg6YStcbmIsaGVpZ2h0OmEscGF0aFRvcChnKXtyZXR1cm4gZz9kOlwiXCJ9LHBhdGhCb3R0b20oZyl7cmV0dXJuIGc/ZTpmfX19bWFrZU91dHNpZGVDb3JuZXIoKXtjb25zdCBhPXRoaXMuY29uc3RhbnRQcm92aWRlci5DT1JORVJfUkFESVVTLGI9dGhpcy5PRkZTRVQsYz0oMS1NYXRoLlNRUlQxXzIpKihhLWIpK2IsZD1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYyxjKSthcmMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoXCJhXCIsXCIwIDAsMVwiLGEtYixwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhLWMsLWMrYikpLGU9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGIsYSkrYXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDFcIixhLWIscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSwtYStcbmIpKSxmPS1jLGc9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGMsZikrYXJjJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiYVwiLFwiMCAwLDFcIixhLWIscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLWMrYiwtZi1hKSk7cmV0dXJue2hlaWdodDphLHRvcExlZnQoaCl7cmV0dXJuIGg/ZDplfSxib3R0b21MZWZ0KCl7cmV0dXJuIGd9fX1tYWtlUHV6emxlVGFiKCl7Y29uc3QgYT10aGlzLmNvbnN0YW50UHJvdmlkZXIuVEFCX1dJRFRILGI9dGhpcy5jb25zdGFudFByb3ZpZGVyLlRBQl9IRUlHSFQsYz1tb3ZlQnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoLTIsLWIrMi41Ky45KStsaW5lVG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoYSotLjQ1LC0yLjEpLGQ9bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInZcIixcbjIuNSkrbW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC1hKi45NywyLjUpK2N1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwicVwiLFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygtYSouMDUsMTApLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEqLjMsOS41KV0pK21vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhKi42NywtMS45KStsaW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLDIuNSksZT1saW5lT25BeGlzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwidlwiLC0xLjUpK21vdmVCeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhKi0uOTIsLS41KStjdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcInFcIixcbltwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhKi0uMTksLTUuNSkscG9pbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRzdmdfcGF0aHMoMCwtMTEpXSkrbW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKGEqLjkyLDEpLGY9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC01LGItLjcpK2xpbmVUbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhhKi40NiwtMi4xKTtyZXR1cm57d2lkdGg6YSxoZWlnaHQ6YixwYXRoVXAoZyl7cmV0dXJuIGc/YzplfSxwYXRoRG93bihnKXtyZXR1cm4gZz9kOmZ9fX1tYWtlTm90Y2goKXtyZXR1cm57cGF0aExlZnQ6bGluZU9uQXhpcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImhcIix0aGlzLk9GRlNFVCkrdGhpcy5jb25zdGFudFByb3ZpZGVyLk5PVENILnBhdGhMZWZ0fX1tYWtlSmFnZ2VkVGVldGgoKXtyZXR1cm57cGF0aExlZnQ6bGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDUuMSxcbjIuNikrbW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKC0xMC4yLDYuOCkrbGluZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDUuMSwyLjYpLGhlaWdodDoxMix3aWR0aDoxMC4yfX1tYWtlU3RhcnRIYXQoKXtjb25zdCBhPXRoaXMuY29uc3RhbnRQcm92aWRlci5TVEFSVF9IQVQuaGVpZ2h0LGI9bW92ZUJ5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDI1LC04LjcpK2N1cnZlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKFwiY1wiLFtwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygyOS43LC02LjIpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDU3LjIsLS41KSxwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyg3NSw4LjcpXSksYz1jdXJ2ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocyhcImNcIixcbltwb2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Z19wYXRocygxNy44LC05LjIpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDQ1LjMsLTE0LjkpLHBvaW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDc1LC04LjcpXSkrbW92ZVRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnX3BhdGhzKDEwMC41LGErLjUpO3JldHVybntwYXRoKGQpe3JldHVybiBkP2I6Y319fX0sbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRfY29uc3RhbnRzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0X2NvbnN0YW50cy5IaWdobGlnaHRDb25zdGFudFByb3ZpZGVyPUhpZ2hsaWdodENvbnN0YW50UHJvdmlkZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkaGlnaGxpZ2h0X2NvbnN0YW50czt2YXIgSW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0PWNsYXNzIGV4dGVuZHMgSW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0e2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmNvbnN0YW50c189YTt0aGlzLmNvbm5lY3RlZEJsb2NrJiYodGhpcy53aWR0aCs9dGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQsdGhpcy5oZWlnaHQrPXRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0LklubGluZUlucHV0PUlubGluZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJGlubGluZV9pbnB1dDt2YXIgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0PWNsYXNzIGV4dGVuZHMgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0e2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoYSxiKTt0aGlzLmNvbnN0YW50c189YTt0aGlzLmNvbm5lY3RlZEJsb2NrJiYodGhpcy5oZWlnaHQrPXRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0PXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0LlN0YXRlbWVudElucHV0PVN0YXRlbWVudElucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJG1lYXN1cmFibGVzJHN0YXRlbWVudF9pbnB1dDt2YXIgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRpbmZvPWNsYXNzIGV4dGVuZHMgUmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kaW5mb3tjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5yZW5kZXJlcl89YX1nZXRSZW5kZXJlcigpe3JldHVybiB0aGlzLnJlbmRlcmVyX31wb3B1bGF0ZUJvdHRvbVJvd18oKXtzdXBlci5wb3B1bGF0ZUJvdHRvbVJvd18oKTt0aGlzLmJsb2NrXy5pbnB1dExpc3QubGVuZ3RoJiZ0aGlzLmJsb2NrXy5pbnB1dExpc3RbdGhpcy5ibG9ja18uaW5wdXRMaXN0Lmxlbmd0aC0xXWluc3RhbmNlb2YgU3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkc3RhdGVtZW50X2lucHV0fHwodGhpcy5ib3R0b21Sb3cubWluSGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORy10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9YWRkSW5wdXRfKGEsXG5iKXtpZih0aGlzLmlzSW5saW5lJiZhIGluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0KWIuZWxlbWVudHMucHVzaChuZXcgSW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0KHRoaXMuY29uc3RhbnRzXyxhKSksYi5oYXNJbmxpbmVJbnB1dD0hMDtlbHNlIGlmKGEgaW5zdGFuY2VvZiBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRzdGF0ZW1lbnRfaW5wdXQpYi5lbGVtZW50cy5wdXNoKG5ldyBTdGF0ZW1lbnRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRtZWFzdXJhYmxlcyRzdGF0ZW1lbnRfaW5wdXQodGhpcy5jb25zdGFudHNfLGEpKSxiLmhhc1N0YXRlbWVudD0hMDtlbHNlIGlmKGEgaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQpYi5lbGVtZW50cy5wdXNoKG5ldyBFeHRlcm5hbFZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkZXh0ZXJuYWxfdmFsdWVfaW5wdXQodGhpcy5jb25zdGFudHNfLFxuYSkpLGIuaGFzRXh0ZXJuYWxJbnB1dD0hMDtlbHNlIGlmKGEgaW5zdGFuY2VvZiBEdW1teUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGR1bW15X2lucHV0fHxhIGluc3RhbmNlb2YgRW5kUm93SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkZW5kX3Jvd19pbnB1dCliLm1pbkhlaWdodD1NYXRoLm1heChiLm1pbkhlaWdodCx0aGlzLmNvbnN0YW50c18uRFVNTVlfSU5QVVRfTUlOX0hFSUdIVCksYi5oYXNEdW1teUlucHV0PSEwO3RoaXMuaXNJbmxpbmV8fGIuYWxpZ24hPT1udWxsfHwoYi5hbGlnbj1hLmFsaWduKX1hZGRFbGVtU3BhY2luZ18oKXtsZXQgYT0hMTtmb3IobGV0IGM9MCxkO2Q9dGhpcy5yb3dzW2NdO2MrKylkLmhhc0V4dGVybmFsSW5wdXQmJihhPSEwKTtmb3IobGV0IGM9MCxkO2Q9dGhpcy5yb3dzW2NdO2MrKyl7dmFyIGI9ZC5lbGVtZW50cztkLmVsZW1lbnRzPVtdO2Quc3RhcnRzV2l0aEVsZW1TcGFjZXIoKSYmZC5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyxcbnRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhudWxsLGJbMF0pKSk7aWYoYi5sZW5ndGgpe2ZvcihsZXQgZT0wO2U8Yi5sZW5ndGgtMTtlKyspe2QuZWxlbWVudHMucHVzaChiW2VdKTtjb25zdCBmPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhiW2VdLGJbZSsxXSk7ZC5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyxmKSl9ZC5lbGVtZW50cy5wdXNoKGJbYi5sZW5ndGgtMV0pO2QuZW5kc1dpdGhFbGVtU3BhY2VyKCkmJihiPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhiW2IubGVuZ3RoLTFdLG51bGwpLGEmJmQuaGFzRHVtbXlJbnB1dCYmKGIrPXRoaXMuY29uc3RhbnRzXy5UQUJfV0lEVEgpLGQuZWxlbWVudHMucHVzaChuZXcgSW5Sb3dTcGFjZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkaW5fcm93X3NwYWNlcih0aGlzLmNvbnN0YW50c18sXG5iKSkpfX19Z2V0SW5Sb3dTcGFjaW5nXyhhLGIpe2lmKCFhKXJldHVybiBiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGIpJiZiLmlzRWRpdGFibGU/dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HOmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYik/dGhpcy5jb25zdGFudHNfLk1FRElVTV9MQVJHRV9QQURESU5HOmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYik/dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYSkmJighYnx8XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGIpKSlyZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmYS5pc0VkaXRhYmxlP2Eud2lkdGg9PT0wP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYSk/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkcqMisxOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGEpP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNPck5leHRDb25uZWN0aW9uKGEpP1xudGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihhKT90aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX1dJRFRIOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSmFnZ2VkRWRnZShhKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGEpJiYhYil7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNFeHRlcm5hbElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztcbmlmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HfWlmKCFUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGEpJiZiJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGIpKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGEpJiZhLmlzRWRpdGFibGUpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYil8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRXh0ZXJuYWxJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkd9ZWxzZXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpfHxcblR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRXh0ZXJuYWxJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk1FRElVTV9MQVJHRV9QQURESU5HO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HfXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORy0xfWlmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSWNvbihhKSYmYiYmIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYSkmJlxuYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChiKSlyZXR1cm4gYi5pc0VkaXRhYmxlP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzp0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYSkmJmIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihiKSlyZXR1cm4gYi5ub3RjaE9mZnNldDtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc05leHRDb25uZWN0aW9uKGIpKXJldHVybiBiLm5vdGNoT2Zmc2V0K1xuKHRoaXMuUlRMPzE6LTEpKnRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VULzJ9aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihhKSYmYil7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYikpcmV0dXJuIGIubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKSlyZXR1cm4gYi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUysodGhpcy5SVEw/MTotMSkqdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQvMn1yZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmXG5iJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGIpJiZhLmlzRWRpdGFibGU9PT1iLmlzRWRpdGFibGU/YS53aWR0aD09PTA/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6YiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNKYWdnZWRFZGdlKGIpP3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR31nZXRTcGFjZXJSb3dIZWlnaHRfKGEsYil7cmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhiKT90aGlzLmNvbnN0YW50c18uRU1QVFlfQkxPQ0tfU1BBQ0VSX0hFSUdIVDpcblR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhiKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzphLmhhc0V4dGVybmFsSW5wdXQmJmIuaGFzRXh0ZXJuYWxJbnB1dD90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzohYS5oYXNTdGF0ZW1lbnQmJmIuaGFzU3RhdGVtZW50P3RoaXMuY29uc3RhbnRzXy5CRVRXRUVOX1NUQVRFTUVOVF9QQURESU5HX1k6YS5oYXNTdGF0ZW1lbnQmJmIuaGFzU3RhdGVtZW50fHwhYS5oYXNTdGF0ZW1lbnQmJmIuaGFzRHVtbXlJbnB1dHx8YS5oYXNEdW1teUlucHV0P3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR31nZXRFbGVtQ2VudGVybGluZV8oYSxiKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1NwYWNlcihiKSlyZXR1cm4gYS55UG9zK1xuYi5oZWlnaHQvMjtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhhKSlyZXR1cm4gYT1hLnlQb3MrYS5oZWlnaHQtYS5kZXNjZW5kZXJIZWlnaHQsVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKT9hK2IuaGVpZ2h0LzI6YS1iLmhlaWdodC8yO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzVG9wUm93KGEpKXJldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0hhdChiKT9hLmNhcGxpbmUtYi5oZWlnaHQvMjphLmNhcGxpbmUrYi5oZWlnaHQvMjtsZXQgYz1hLnlQb3M7VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChiKXx8XG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYik/KGMrPWIuaGVpZ2h0LzIsKGEuaGFzSW5saW5lSW5wdXR8fGEuaGFzU3RhdGVtZW50KSYmYi5oZWlnaHQrdGhpcy5jb25zdGFudHNfLlRBTExfSU5QVVRfRklFTERfT0ZGU0VUX1k8PWEuaGVpZ2h0JiYoYys9dGhpcy5jb25zdGFudHNfLlRBTExfSU5QVVRfRklFTERfT0ZGU0VUX1kpKTpjPVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYik/YytiLmhlaWdodC8yOmMrYS5oZWlnaHQvMjtyZXR1cm4gY31hbGlnblJvd0VsZW1lbnRzXygpe2lmKHRoaXMuaXNJbmxpbmUpe3ZhciBhPTAsYj1uZXcgV2Vha01hcCxjPW51bGw7Zm9yKGxldCBkPXRoaXMucm93cy5sZW5ndGgtMSxlO2U9dGhpcy5yb3dzW2RdO2QtLSliLnNldChlLGEpLFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXRSb3coZSkmJlxuKGUuaGFzU3RhdGVtZW50JiZ0aGlzLmFsaWduU3RhdGVtZW50Um93XyhlKSxjJiZjLmhhc1N0YXRlbWVudCYmZS53aWR0aDxjLndpZHRoP2Iuc2V0KGUsYy53aWR0aCk6YT1lLmhhc1N0YXRlbWVudD9lLndpZHRoOk1hdGgubWF4KGEsZS53aWR0aCksYz1lKTthPTA7Zm9yKGxldCBkPTAsZTtlPXRoaXMucm93c1tkXTtkKyspZS5oYXNTdGF0ZW1lbnQ/YT10aGlzLmdldERlc2lyZWRSb3dXaWR0aF8oZSk6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoZSk/ZS53aWR0aD1NYXRoLm1heChhLGIuZ2V0KGUpKTooYz1lLndpZHRoLGE9TWF0aC5tYXgoYSxiLmdldChlKSktYyxhPjAmJnRoaXMuYWRkQWxpZ25tZW50UGFkZGluZ18oZSxhKSxhPWUud2lkdGgpfWVsc2Ugc3VwZXIuYWxpZ25Sb3dFbGVtZW50c18oKX1nZXREZXNpcmVkUm93V2lkdGhfKGEpe3JldHVybiB0aGlzLmlzSW5saW5lJiZhLmhhc1N0YXRlbWVudD90aGlzLnN0YXRlbWVudEVkZ2UrXG50aGlzLmNvbnN0YW50c18uTUFYX0JPVFRPTV9XSURUSCt0aGlzLnN0YXJ0WDpzdXBlci5nZXREZXNpcmVkUm93V2lkdGhfKGEpfWZpbmFsaXplXygpe2xldCBhPTAsYj0wO2ZvcihsZXQgZD0wLGU7ZT10aGlzLnJvd3NbZF07ZCsrKXtlLnlQb3M9YjtlLnhQb3M9dGhpcy5zdGFydFg7Yis9ZS5oZWlnaHQ7YT1NYXRoLm1heChhLGUud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzKTt2YXIgYz1iLXRoaXMudG9wUm93LmFzY2VuZGVySGVpZ2h0O2U9PT10aGlzLmJvdHRvbVJvdyYmYzx0aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX0hFSUdIVCYmKGM9dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19IRUlHSFQtYyx0aGlzLmJvdHRvbVJvdy5oZWlnaHQrPWMsYis9Yyk7dGhpcy5yZWNvcmRFbGVtUG9zaXRpb25zXyhlKX10aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uJiZ0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpJiYoYz10aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpKSYmXG4oYT1NYXRoLm1heChhLGMuZ2V0SGVpZ2h0V2lkdGgoKS53aWR0aC10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCkpO3RoaXMuYm90dG9tUm93LmJhc2VsaW5lPWItdGhpcy5ib3R0b21Sb3cuZGVzY2VuZGVySGVpZ2h0O3RoaXMud2lkdGhXaXRoQ2hpbGRyZW49YSt0aGlzLnN0YXJ0WCt0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVDt0aGlzLndpZHRoKz10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVDt0aGlzLmhlaWdodD1iK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUO3RoaXMuc3RhcnRZPXRoaXMudG9wUm93LmNhcGxpbmV9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGluZm89e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRpbmZvLlJlbmRlckluZm89UmVuZGVySW5mbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRpbmZvO3ZhciBQYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHBhdGhfb2JqZWN0PWNsYXNzIGV4dGVuZHMgUGF0aE9iamVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kcGF0aF9vYmplY3R7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGEsYixjKTt0aGlzLmNvbnN0YW50cz1jO3RoaXMuY29sb3VyRGFyaz1cIiMwMDAwMDBcIjt0aGlzLnN2Z1BhdGhEYXJrPWNyZWF0ZVN2Z0VsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3ZnLlBBVEgse1wiY2xhc3NcIjpcImJsb2NrbHlQYXRoRGFya1wiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZSgxLDEpXCJ9KTt0aGlzLnN2Z1Jvb3QuaW5zZXJ0QmVmb3JlKHRoaXMuc3ZnUGF0aERhcmssdGhpcy5zdmdQYXRoKTt0aGlzLnN2Z1BhdGhMaWdodD1jcmVhdGVTdmdFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKFN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN2Zy5QQVRILFxue1wiY2xhc3NcIjpcImJsb2NrbHlQYXRoTGlnaHRcIn0sdGhpcy5zdmdSb290KX1zZXRQYXRoKGEpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsYSk7dGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9c2V0SGlnaGxpZ2h0UGF0aChhKXt0aGlzLnN2Z1BhdGhMaWdodC5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9ZmxpcFJUTCgpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKC0xIDEpXCIpO3RoaXMuc3ZnUGF0aExpZ2h0LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwic2NhbGUoLTEgMSlcIik7dGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgxLDEpIHNjYWxlKC0xIDEpXCIpfWFwcGx5Q29sb3VyKGEpe3RoaXMuc3ZnUGF0aExpZ2h0LnN0eWxlLmRpc3BsYXk9XCJcIjt0aGlzLnN2Z1BhdGhEYXJrLnN0eWxlLmRpc3BsYXk9XCJcIjtpZighdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeSl0aHJvdyBFcnJvcihcIlRoZSByZW5kZXJlciBkaWQgbm90IHByb3Blcmx5IGluaXRpYWxpemUgdGhlIHRlcnRpYXJ5IGNvbG91ciBvZiB0aGUgYmxvY2sgc3R5bGVcIik7XG50aGlzLnN2Z1BhdGhMaWdodC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIix0aGlzLnN0eWxlLmNvbG91clRlcnRpYXJ5KTt0aGlzLnN2Z1BhdGhEYXJrLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLmNvbG91ckRhcmspO3N1cGVyLmFwcGx5Q29sb3VyKGEpO3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIm5vbmVcIil9c2V0U3R5bGUoYSl7dGhpcy5zdHlsZT1hO3RoaXMuY29sb3VyRGFyaz1ibGVuZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGNvbG91cihcIiMwMDBcIix0aGlzLnN0eWxlLmNvbG91clByaW1hcnksLjIpfHx0aGlzLmNvbG91ckRhcmt9dXBkYXRlSGlnaGxpZ2h0ZWQoYSl7c3VwZXIudXBkYXRlSGlnaGxpZ2h0ZWQoYSk7dGhpcy5zdmdQYXRoTGlnaHQuc3R5bGUuZGlzcGxheT1hP1wibm9uZVwiOlwiaW5saW5lXCJ9dXBkYXRlU2hhZG93XyhhKXtpZihhKXt0aGlzLnN2Z1BhdGhMaWdodC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKCF0aGlzLnN0eWxlLmNvbG91clNlY29uZGFyeSl0aHJvdyBFcnJvcihcIlRoZSByZW5kZXJlciBkaWQgbm90IHByb3Blcmx5IGluaXRpYWxpemUgdGhlIHNlY29uZGFyeSBjb2xvdXIgb2YgdGhlIGJsb2NrIHN0eWxlIGJsb2NrIHN0eWxlXCIpO1xudGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJTZWNvbmRhcnkpO3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIm5vbmVcIik7dGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLnN0eWxlLmNvbG91clNlY29uZGFyeSl9fXVwZGF0ZURpc2FibGVkXyhhKXtzdXBlci51cGRhdGVEaXNhYmxlZF8oYSk7YSYmdGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwibm9uZVwiKX19LG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkcGF0aF9vYmplY3Q9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRwYXRoX29iamVjdC5QYXRoT2JqZWN0PVBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkcGF0aF9vYmplY3Q7dmFyIFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHJlbmRlcmVyPWNsYXNzIGV4dGVuZHMgUmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHJlbmRlcmVye2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpO3RoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzPW51bGx9aW5pdChhLGIpe3N1cGVyLmluaXQoYSxiKTt0aGlzLmhpZ2hsaWdodENvbnN0YW50cz10aGlzLm1ha2VIaWdobGlnaHRDb25zdGFudHNfKCk7dGhpcy5oaWdobGlnaHRDb25zdGFudHMuaW5pdCgpfXJlZnJlc2hEb20oYSxiLGMpe3N1cGVyLnJlZnJlc2hEb20oYSxiLGMpO3RoaXMuZ2V0SGlnaGxpZ2h0Q29uc3RhbnRzKCkuaW5pdCgpfW1ha2VDb25zdGFudHNfKCl7cmV0dXJuIG5ldyBDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGNvbnN0YW50c31tYWtlUmVuZGVySW5mb18oYSl7cmV0dXJuIG5ldyBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGluZm8odGhpcyxcbmEpfW1ha2VEcmF3ZXJfKGEsYil7cmV0dXJuIG5ldyBEcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZHJhd2VyKGEsYil9bWFrZVBhdGhPYmplY3QoYSxiKXtyZXR1cm4gbmV3IFBhdGhPYmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkcGF0aF9vYmplY3QoYSxiLHRoaXMuZ2V0Q29uc3RhbnRzKCkpfW1ha2VIaWdobGlnaHRDb25zdGFudHNfKCl7cmV0dXJuIG5ldyBIaWdobGlnaHRDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodF9jb25zdGFudHModGhpcy5nZXRDb25zdGFudHMoKSl9Z2V0SGlnaGxpZ2h0Q29uc3RhbnRzKCl7aWYoIXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzKXRocm93IEVycm9yKFwiQ2Fubm90IGFjY2VzcyB0aGUgaGlnaGxpZ2h0IGNvbnN0YW50cyBiZWNhdXNlIGluaXQgaGFzIG5vdCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdGhpcy5oaWdobGlnaHRDb25zdGFudHN9fTtcbnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRibG9ja19yZW5kZXJpbmcoXCJnZXJhc1wiLFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHJlbmRlcmVyKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRyZW5kZXJlcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHJlbmRlcmVyLlJlbmRlcmVyPVJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHJlbmRlcmVyO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuQ29uc3RhbnRQcm92aWRlcj1Db25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGNvbnN0YW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGdlcmFzLkRyYXdlcj1EcmF3ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZHJhd2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlcj1IaWdobGlnaHRDb25zdGFudFByb3ZpZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGhpZ2hsaWdodF9jb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRnZXJhcy5IaWdobGlnaHRlcj1IaWdobGlnaHRlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRoaWdobGlnaHRlcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuSW5saW5lSW5wdXQ9SW5saW5lSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkaW5saW5lX2lucHV0O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuUGF0aE9iamVjdD1QYXRoT2JqZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJHBhdGhfb2JqZWN0O21vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuUmVuZGVySW5mbz1SZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGdlcmFzJGluZm87bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRnZXJhcy5SZW5kZXJlcj1SZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRnZXJhcyRyZW5kZXJlcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXMuU3RhdGVtZW50SW5wdXQ9U3RhdGVtZW50SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkbWVhc3VyYWJsZXMkc3RhdGVtZW50X2lucHV0O3ZhciBSZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkaW5mbz1jbGFzcyBleHRlbmRzIFJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJGluZm97Y29uc3RydWN0b3IoYSxiKXtzdXBlcihhLGIpfWdldFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMucmVuZGVyZXJffWFkZEVsZW1TcGFjaW5nXygpe2xldCBhPSExO2Zvcih2YXIgYj0wO2I8dGhpcy5yb3dzLmxlbmd0aDtiKyspaWYodGhpcy5yb3dzW2JdLmhhc0V4dGVybmFsSW5wdXQpe2E9ITA7YnJlYWt9Zm9yKGI9MDtiPHRoaXMucm93cy5sZW5ndGg7YisrKXtjb25zdCBkPXRoaXMucm93c1tiXTt2YXIgYz1kLmVsZW1lbnRzO2QuZWxlbWVudHM9W107ZC5zdGFydHNXaXRoRWxlbVNwYWNlcigpJiZkLmVsZW1lbnRzLnB1c2gobmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLFxudGhpcy5nZXRJblJvd1NwYWNpbmdfKG51bGwsY1swXSkpKTtpZihjLmxlbmd0aCl7Zm9yKGxldCBlPTA7ZTxjLmxlbmd0aC0xO2UrKyl7ZC5lbGVtZW50cy5wdXNoKGNbZV0pO2NvbnN0IGY9dGhpcy5nZXRJblJvd1NwYWNpbmdfKGNbZV0sY1tlKzFdKTtkLmVsZW1lbnRzLnB1c2gobmV3IEluUm93U3BhY2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJGluX3Jvd19zcGFjZXIodGhpcy5jb25zdGFudHNfLGYpKX1kLmVsZW1lbnRzLnB1c2goY1tjLmxlbmd0aC0xXSk7ZC5lbmRzV2l0aEVsZW1TcGFjZXIoKSYmKGM9dGhpcy5nZXRJblJvd1NwYWNpbmdfKGNbYy5sZW5ndGgtMV0sbnVsbCksYSYmZC5oYXNEdW1teUlucHV0JiYoYys9dGhpcy5jb25zdGFudHNfLlRBQl9XSURUSCksZC5lbGVtZW50cy5wdXNoKG5ldyBJblJvd1NwYWNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyRpbl9yb3dfc3BhY2VyKHRoaXMuY29uc3RhbnRzXyxcbmMpKSl9fX1nZXRJblJvd1NwYWNpbmdfKGEsYil7aWYoIWEpcmV0dXJuIGImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYikmJmIuaXNFZGl0YWJsZT90aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6YiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbmxpbmVJbnB1dChiKT90aGlzLmNvbnN0YW50c18uTUVESVVNX0xBUkdFX1BBRERJTkc6YiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKT90aGlzLmNvbnN0YW50c18uU1RBVEVNRU5UX0lOUFVUX1BBRERJTkdfTEVGVDp0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZighVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChhKSYmIWIpcmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYSkmJlxuYS5pc0VkaXRhYmxlP2Eud2lkdGg9PT0wP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ljb24oYSk/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkcqMisxOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGEpP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzUHJldmlvdXNPck5leHRDb25uZWN0aW9uKGEpP3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSk/dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19XSURUSDpcblR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSmFnZ2VkRWRnZShhKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGEpJiYhYil7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNFeHRlcm5hbElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1N0YXRlbWVudElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElOR31pZighVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNJbnB1dChhKSYmXG5iJiZUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lucHV0KGIpKXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0ZpZWxkKGEpJiZhLmlzRWRpdGFibGUpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYil8fFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRXh0ZXJuYWxJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkd9ZWxzZXtpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0lubGluZUlucHV0KGIpfHxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0V4dGVybmFsSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5NRURJVU1fTEFSR0VfUEFERElORztcbmlmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HfXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORy0xfWlmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSWNvbihhKSYmYiYmIVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSW5saW5lSW5wdXQoYSkmJmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYikpcmV0dXJuIGIuaXNFZGl0YWJsZT9cbnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzp0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYSkmJmIpe2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElORztpZihUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihiKXx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNOZXh0Q29ubmVjdGlvbihiKSlyZXR1cm4gYi5ub3RjaE9mZnNldH1yZXR1cm4gVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihhKSYmXG5iP2Iubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM6VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChhKSYmYiYmVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNGaWVsZChiKSYmYS5pc0VkaXRhYmxlPT09Yi5pc0VkaXRhYmxlP2Eud2lkdGg9PT0wP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOmImJlR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSmFnZ2VkRWRnZShiKT90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9Z2V0U3BhY2VyUm93SGVpZ2h0XyhhLGIpe3JldHVybiBUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKSYmXG5UeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc0JvdHRvbVJvdyhiKT90aGlzLmNvbnN0YW50c18uRU1QVFlfQkxPQ0tfU1BBQ0VSX0hFSUdIVDpUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc1RvcFJvdyhhKXx8VHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6YS5oYXNFeHRlcm5hbElucHV0JiZiLmhhc0V4dGVybmFsSW5wdXQ/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6IWEuaGFzU3RhdGVtZW50JiZiLmhhc1N0YXRlbWVudD90aGlzLmNvbnN0YW50c18uQkVUV0VFTl9TVEFURU1FTlRfUEFERElOR19ZOmEuaGFzU3RhdGVtZW50JiZiLmhhc1N0YXRlbWVudHx8YS5oYXNEdW1teUlucHV0fHxiLmhhc0R1bW15SW5wdXQ/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6XG50aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9Z2V0RWxlbUNlbnRlcmxpbmVfKGEsYil7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNTcGFjZXIoYikpcmV0dXJuIGEueVBvcytiLmhlaWdodC8yO2lmKFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzQm90dG9tUm93KGEpKXJldHVybiBhPWEueVBvcythLmhlaWdodC1hLmRlc2NlbmRlckhlaWdodCxUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRtZWFzdXJhYmxlcyR0eXBlcy5pc05leHRDb25uZWN0aW9uKGIpP2ErYi5oZWlnaHQvMjphLWIuaGVpZ2h0LzI7aWYoVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkbWVhc3VyYWJsZXMkdHlwZXMuaXNUb3BSb3coYSkpcmV0dXJuIFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzSGF0KGIpP1xuYS5jYXBsaW5lLWIuaGVpZ2h0LzI6YS5jYXBsaW5lK2IuaGVpZ2h0LzI7bGV0IGM9YS55UG9zO3JldHVybiBjPVR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJG1lYXN1cmFibGVzJHR5cGVzLmlzRmllbGQoYikmJmEuaGFzU3RhdGVtZW50P2MrKHRoaXMuY29uc3RhbnRzXy5UQUxMX0lOUFVUX0ZJRUxEX09GRlNFVF9ZK2IuaGVpZ2h0LzIpOmMrYS5oZWlnaHQvMn1maW5hbGl6ZV8oKXtsZXQgYT0wLGI9MDtmb3IodmFyIGM9MDtjPHRoaXMucm93cy5sZW5ndGg7YysrKXtjb25zdCBlPXRoaXMucm93c1tjXTtlLnlQb3M9YjtlLnhQb3M9dGhpcy5zdGFydFg7Yis9ZS5oZWlnaHQ7YT1NYXRoLm1heChhLGUud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzKTt2YXIgZD1iLXRoaXMudG9wUm93LmFzY2VuZGVySGVpZ2h0O2U9PT10aGlzLmJvdHRvbVJvdyYmZDx0aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX0hFSUdIVCYmKGQ9dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19IRUlHSFQtXG5kLHRoaXMuYm90dG9tUm93LmhlaWdodCs9ZCxiKz1kKTt0aGlzLnJlY29yZEVsZW1Qb3NpdGlvbnNfKGUpfXRoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24mJnRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkmJihjPXRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCkpJiYoYT1NYXRoLm1heChhLGMuZ2V0SGVpZ2h0V2lkdGgoKS53aWR0aCkpO3RoaXMuYm90dG9tUm93LmJhc2VsaW5lPWItdGhpcy5ib3R0b21Sb3cuZGVzY2VuZGVySGVpZ2h0O3RoaXMud2lkdGhXaXRoQ2hpbGRyZW49YSt0aGlzLnN0YXJ0WDt0aGlzLmhlaWdodD1iO3RoaXMuc3RhcnRZPXRoaXMudG9wUm93LmNhcGxpbmV9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkaW5mbz17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkaW5mby5SZW5kZXJJbmZvPVJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyRpbmZvO3ZhciBSZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHJlbmRlcmVyPWNsYXNzIGV4dGVuZHMgUmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkY29tbW9uJHJlbmRlcmVye2NvbnN0cnVjdG9yKGEpe3N1cGVyKGEpfW1ha2VSZW5kZXJJbmZvXyhhKXtyZXR1cm4gbmV3IFJlbmRlckluZm8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyRpbmZvKHRoaXMsYSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nKFwidGhyYXNvc1wiLFJlbmRlcmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkcmVuZGVyZXIpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkcmVuZGVyZXI9e307XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkcmVuZGVyZXIuUmVuZGVyZXI9UmVuZGVyZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkdGhyYXNvcyRyZW5kZXJlcjt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHRocmFzb3M9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHRocmFzb3MuUmVuZGVySW5mbz1SZW5kZXJJbmZvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkaW5mbzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJHRocmFzb3MkdGhyYXNvcy5SZW5kZXJlcj1SZW5kZXJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHJlbmRlcmVyO3ZhciBkZWZhdWx0QmxvY2tTdHlsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZSR6ZWxvcz17Y29sb3VyX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiNDRjYzQ0ZcIixjb2xvdXJTZWNvbmRhcnk6XCIjQzk0RkM5XCIsY29sb3VyVGVydGlhcnk6XCIjQkQ0MkJEXCJ9LGxpc3RfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzk5NjZGRlwiLGNvbG91clNlY29uZGFyeTpcIiM4NTVDRDZcIixjb2xvdXJUZXJ0aWFyeTpcIiM3NzREQ0JcIn0sbG9naWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzRDOTdGRlwiLGNvbG91clNlY29uZGFyeTpcIiM0MjgwRDdcIixjb2xvdXJUZXJ0aWFyeTpcIiMzMzczQ0NcIn0sbG9vcF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjMGZCRDhDXCIsY29sb3VyU2Vjb25kYXJ5OlwiIzBEQTU3QVwiLGNvbG91clRlcnRpYXJ5OlwiIzBCOEU2OVwifSxtYXRoX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM1OUMwNTlcIixjb2xvdXJTZWNvbmRhcnk6XCIjNDZCOTQ2XCIsY29sb3VyVGVydGlhcnk6XCIjMzg5NDM4XCJ9LFxucHJvY2VkdXJlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiNGRjY2ODBcIixjb2xvdXJTZWNvbmRhcnk6XCIjRkY0RDZBXCIsY29sb3VyVGVydGlhcnk6XCIjRkYzMzU1XCJ9LHRleHRfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiI0ZGQkYwMFwiLGNvbG91clNlY29uZGFyeTpcIiNFNkFDMDBcIixjb2xvdXJUZXJ0aWFyeTpcIiNDQzk5MDBcIn0sdmFyaWFibGVfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiI0ZGOEMxQVwiLGNvbG91clNlY29uZGFyeTpcIiNGRjgwMDBcIixjb2xvdXJUZXJ0aWFyeTpcIiNEQjZFMDBcIn0sdmFyaWFibGVfZHluYW1pY19ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjRkY4QzFBXCIsY29sb3VyU2Vjb25kYXJ5OlwiI0ZGODAwMFwiLGNvbG91clRlcnRpYXJ5OlwiI0RCNkUwMFwifSxoYXRfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzRDOTdGRlwiLGNvbG91clNlY29uZGFyeTpcIiM0MjgwRDdcIixjb2xvdXJUZXJ0aWFyeTpcIiMzMzczQ0NcIixoYXQ6XCJjYXBcIn19LGNhdGVnb3J5U3R5bGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkemVsb3M9XG57Y29sb3VyX2NhdGVnb3J5Ontjb2xvdXI6XCIjQ0Y2M0NGXCJ9LGxpc3RfY2F0ZWdvcnk6e2NvbG91cjpcIiM5OTY2RkZcIn0sbG9naWNfY2F0ZWdvcnk6e2NvbG91cjpcIiM0Qzk3RkZcIn0sbG9vcF9jYXRlZ29yeTp7Y29sb3VyOlwiIzBmQkQ4Q1wifSxtYXRoX2NhdGVnb3J5Ontjb2xvdXI6XCIjNTlDMDU5XCJ9LHByb2NlZHVyZV9jYXRlZ29yeTp7Y29sb3VyOlwiI0ZGNjY4MFwifSx0ZXh0X2NhdGVnb3J5Ontjb2xvdXI6XCIjRkZCRjAwXCJ9LHZhcmlhYmxlX2NhdGVnb3J5Ontjb2xvdXI6XCIjRkY4QzFBXCJ9LHZhcmlhYmxlX2R5bmFtaWNfY2F0ZWdvcnk6e2NvbG91cjpcIiNGRjhDMUFcIn19LFplbG9zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkemVsb3M9bmV3IFRoZW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUoXCJ6ZWxvc1wiLGRlZmF1bHRCbG9ja1N0eWxlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zLGNhdGVnb3J5U3R5bGVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkemVsb3MpLFxubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zPXtaZWxvczpaZWxvcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zfTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHRoZW1lcz17Q2xhc3NpYzpDbGFzc2ljJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkY2xhc3NpYyxaZWxvczpaZWxvcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lJHplbG9zfTt2YXIgVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3hfaXRlbT1jbGFzc3tjb25zdHJ1Y3RvcihhLGIsYyl7dGhpcy5pZF89YS50b29sYm94aXRlbWlkfHxnZXROZXh0VW5pcXVlSWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRpZGdlbmVyYXRvcigpO3RoaXMubGV2ZWxfPSh0aGlzLnBhcmVudF89Y3x8bnVsbCk/dGhpcy5wYXJlbnRfLmdldExldmVsKCkrMTowO3RoaXMudG9vbGJveEl0ZW1EZWZfPWE7dGhpcy5wYXJlbnRUb29sYm94Xz1iO3RoaXMud29ya3NwYWNlXz10aGlzLnBhcmVudFRvb2xib3hfLmdldFdvcmtzcGFjZSgpfWluaXQoKXt9Z2V0RGl2KCl7cmV0dXJuIG51bGx9Z2V0Q2xpY2tUYXJnZXQoKXtyZXR1cm4gbnVsbH1nZXRJZCgpe3JldHVybiB0aGlzLmlkX31nZXRQYXJlbnQoKXtyZXR1cm4gbnVsbH1nZXRMZXZlbCgpe3JldHVybiB0aGlzLmxldmVsX31pc1NlbGVjdGFibGUoKXtyZXR1cm4hMX1pc0NvbGxhcHNpYmxlKCl7cmV0dXJuITF9ZGlzcG9zZSgpe31zZXRWaXNpYmxlXyhhKXt9Z2V0Rm9jdXNhYmxlRWxlbWVudCgpe2NvbnN0IGE9XG50aGlzLmdldERpdigpO2lmKCFhKXRocm93IEVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyB0b29sYm94IGl0ZW0gYmVmb3JlIERPTSBpcyBpbml0aWFsaXplZC5cIik7aWYoIShhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXRocm93IEVycm9yKFwiVG9vbGJveCBpdGVtIGRpdiBpcyB1bmV4cGVjdGVkbHkgbm90IGFuIEhUTUwgZWxlbWVudC5cIik7cmV0dXJuIGF9Z2V0Rm9jdXNhYmxlVHJlZSgpe3JldHVybiB0aGlzLnBhcmVudFRvb2xib3hffW9uTm9kZUZvY3VzKCl7fW9uTm9kZUJsdXIoKXt9Y2FuQmVGb2N1c2VkKCl7cmV0dXJuITB9fSxtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94X2l0ZW09e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveF9pdGVtLlRvb2xib3hJdGVtPVRvb2xib3hJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94X2l0ZW07dmFyIFRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnk9Y2xhc3MgZXh0ZW5kcyBUb29sYm94SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveF9pdGVte2NvbnN0cnVjdG9yKGEsYixjKXtzdXBlcihhLGIsYyk7dGhpcy5jb2xvdXJfPXRoaXMubmFtZV89XCJcIjt0aGlzLmxhYmVsRG9tXz10aGlzLmljb25Eb21fPXRoaXMucm93Q29udGVudHNfPXRoaXMucm93RGl2Xz10aGlzLmh0bWxEaXZfPW51bGw7dGhpcy5pc0Rpc2FibGVkXz10aGlzLmlzSGlkZGVuXz0hMTt0aGlzLmZseW91dEl0ZW1zXz1bXTt0aGlzLmNzc0NvbmZpZ189dGhpcy5tYWtlRGVmYXVsdENzc0NvbmZpZ18oKX1pbml0KCl7dGhpcy5wYXJzZUNhdGVnb3J5RGVmXyh0aGlzLnRvb2xib3hJdGVtRGVmXyk7dGhpcy5wYXJzZUNvbnRlbnRzXyh0aGlzLnRvb2xib3hJdGVtRGVmXyk7dGhpcy5jcmVhdGVEb21fKCk7dGhpcy50b29sYm94SXRlbURlZl8uaGlkZGVuPT09XG5cInRydWVcIiYmdGhpcy5oaWRlKCl9bWFrZURlZmF1bHRDc3NDb25maWdfKCl7cmV0dXJue2NvbnRhaW5lcjpcImJsb2NrbHlUb29sYm94Q2F0ZWdvcnlDb250YWluZXJcIixyb3c6XCJibG9ja2x5VG9vbGJveENhdGVnb3J5XCIscm93Y29udGVudGNvbnRhaW5lcjpcImJsb2NrbHlUcmVlUm93Q29udGVudENvbnRhaW5lclwiLGljb246XCJibG9ja2x5VG9vbGJveENhdGVnb3J5SWNvblwiLGxhYmVsOlwiYmxvY2tseVRvb2xib3hDYXRlZ29yeUxhYmVsXCIsY29udGVudHM6XCJibG9ja2x5VG9vbGJveENhdGVnb3J5R3JvdXBcIixzZWxlY3RlZDpcImJsb2NrbHlUb29sYm94U2VsZWN0ZWRcIixvcGVuaWNvbjpcImJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uT3BlblwiLGNsb3NlZGljb246XCJibG9ja2x5VG9vbGJveENhdGVnb3J5SWNvbkNsb3NlZFwifX1wYXJzZUNvbnRlbnRzXyhhKXtpZihcImN1c3RvbVwiaW4gYSl0aGlzLmZseW91dEl0ZW1zXz1hLmN1c3RvbTtlbHNlIGlmKGE9YS5jb250ZW50cylmb3IobGV0IGI9XG4wO2I8YS5sZW5ndGg7YisrKXtjb25zdCBjPWFbYl07QXJyYXkuaXNBcnJheSh0aGlzLmZseW91dEl0ZW1zXykmJnRoaXMuZmx5b3V0SXRlbXNfLnB1c2goYyl9fXBhcnNlQ2F0ZWdvcnlEZWZfKGEpe3RoaXMubmFtZV89XCJuYW1lXCJpbiBhP3JlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYS5uYW1lKTpcIlwiO3RoaXMuY29sb3VyXz10aGlzLmdldENvbG91cl8oYSk7T2JqZWN0LmFzc2lnbih0aGlzLmNzc0NvbmZpZ18sYS5jc3Njb25maWd8fGEuY3NzQ29uZmlnKX1jcmVhdGVEb21fKCl7dGhpcy5odG1sRGl2Xz10aGlzLmNyZWF0ZUNvbnRhaW5lcl8oKTtzZXRSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmh0bWxEaXZfLFJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlRSRUVJVEVNKTtzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5odG1sRGl2XyxcblN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5TRUxFQ1RFRCwhMSk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaHRtbERpdl8sU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkxFVkVMLHRoaXMubGV2ZWxfKzEpO3RoaXMucm93RGl2Xz10aGlzLmNyZWF0ZVJvd0NvbnRhaW5lcl8oKTt0aGlzLnJvd0Rpdl8uc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIjt0aGlzLmh0bWxEaXZfLmFwcGVuZENoaWxkKHRoaXMucm93RGl2Xyk7dGhpcy5yb3dDb250ZW50c189dGhpcy5jcmVhdGVSb3dDb250ZW50c0NvbnRhaW5lcl8oKTt0aGlzLnJvd0NvbnRlbnRzXy5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiO3RoaXMucm93RGl2Xy5hcHBlbmRDaGlsZCh0aGlzLnJvd0NvbnRlbnRzXyk7dGhpcy5pY29uRG9tXz10aGlzLmNyZWF0ZUljb25Eb21fKCk7c2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5pY29uRG9tXyxcblJvbGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlBSRVNFTlRBVElPTik7dGhpcy5yb3dDb250ZW50c18uYXBwZW5kQ2hpbGQodGhpcy5pY29uRG9tXyk7dGhpcy5sYWJlbERvbV89dGhpcy5jcmVhdGVMYWJlbERvbV8odGhpcy5uYW1lXyk7dGhpcy5yb3dDb250ZW50c18uYXBwZW5kQ2hpbGQodGhpcy5sYWJlbERvbV8pO2NvbnN0IGE9dGhpcy5sYWJlbERvbV8uZ2V0QXR0cmlidXRlKFwiaWRcIik7YSYmc2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaHRtbERpdl8sU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLkxBQkVMTEVEQlksYSk7dGhpcy5hZGRDb2xvdXJCb3JkZXJfKHRoaXMuY29sb3VyXyk7cmV0dXJuIHRoaXMuaHRtbERpdl99Y3JlYXRlQ29udGFpbmVyXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnRhYkluZGV4PS0xO2EuaWQ9dGhpcy5nZXRJZCgpO2NvbnN0IGI9XG50aGlzLmNzc0NvbmZpZ18uY29udGFpbmVyO2ImJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYik7cmV0dXJuIGF9Y3JlYXRlUm93Q29udGFpbmVyXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt2YXIgYj10aGlzLmNzc0NvbmZpZ18ucm93O2ImJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYik7Yj1gJHtUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5Lm5lc3RlZFBhZGRpbmcqdGhpcy5nZXRMZXZlbCgpfXB4YDt0aGlzLndvcmtzcGFjZV8uUlRMP2Euc3R5bGUucGFkZGluZ1JpZ2h0PWI6YS5zdHlsZS5wYWRkaW5nTGVmdD1iO3JldHVybiBhfWNyZWF0ZVJvd0NvbnRlbnRzQ29udGFpbmVyXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxiPXRoaXMuY3NzQ29uZmlnXy5yb3djb250ZW50Y29udGFpbmVyO2ImJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXG5iKTtyZXR1cm4gYX1jcmVhdGVJY29uRG9tXygpe2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7aWYoIXRoaXMucGFyZW50VG9vbGJveF8uaXNIb3Jpem9udGFsKCkpe2NvbnN0IGI9dGhpcy5jc3NDb25maWdfLmljb247YiYmYWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKX1hLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIjtyZXR1cm4gYX1jcmVhdGVMYWJlbERvbV8oYSl7Y29uc3QgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtiLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5nZXRJZCgpK1wiLmxhYmVsXCIpO2IudGV4dENvbnRlbnQ9YTsoYT10aGlzLmNzc0NvbmZpZ18ubGFiZWwpJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShiLGEpO3JldHVybiBifXJlZnJlc2hUaGVtZSgpe3RoaXMuY29sb3VyXz10aGlzLmdldENvbG91cl8odGhpcy50b29sYm94SXRlbURlZl8pO3RoaXMuYWRkQ29sb3VyQm9yZGVyXyh0aGlzLmNvbG91cl8pfWFkZENvbG91ckJvcmRlcl8oYSl7YSYmXG4oYT1Ub29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5LmJvcmRlcldpZHRoK1wicHggc29saWQgXCIrKGF8fFwiI2RkZFwiKSx0aGlzLndvcmtzcGFjZV8uUlRMP3RoaXMucm93RGl2Xy5zdHlsZS5ib3JkZXJSaWdodD1hOnRoaXMucm93RGl2Xy5zdHlsZS5ib3JkZXJMZWZ0PWEpfWdldENvbG91cl8oYSl7Y29uc3QgYj1hLmNhdGVnb3J5c3R5bGV8fGEuY2F0ZWdvcnlTdHlsZTtpZigoYT1hLmNvbG91cikmJmIpY29uc29sZS53YXJuKCdUb29sYm94IGNhdGVnb3J5IFwiJyt0aGlzLm5hbWVfKydcIiBtdXN0IG5vdCBoYXZlIGJvdGggYSBzdHlsZSBhbmQgYSBjb2xvdXInKTtlbHNle2lmKGIpcmV0dXJuIHRoaXMuZ2V0Q29sb3VyZnJvbVN0eWxlKGIpO2lmKGEpcmV0dXJuIHRoaXMucGFyc2VDb2xvdXIoYSl9cmV0dXJuXCJcIn1nZXRDb2xvdXJmcm9tU3R5bGUoYSl7dmFyIGI9dGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lKCk7aWYoYSYmYil7aWYoKGI9Yi5jYXRlZ29yeVN0eWxlc1thXSkmJlxuYi5jb2xvdXIpcmV0dXJuIHRoaXMucGFyc2VDb2xvdXIoYi5jb2xvdXIpO2NvbnNvbGUud2FybignU3R5bGUgXCInK2ErJ1wiIG11c3QgZXhpc3QgYW5kIGNvbnRhaW4gYSBjb2xvdXIgdmFsdWUnKX1yZXR1cm5cIlwifWdldENsaWNrVGFyZ2V0KCl7cmV0dXJuIHRoaXMucm93RGl2X31wYXJzZUNvbG91cihhKXthPXJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHBhcnNpbmcoYSk7aWYoYT09bnVsbHx8YT09PVwiXCIpcmV0dXJuXCJcIjt2YXIgYj1OdW1iZXIoYSk7aWYoaXNOYU4oYikpe2lmKGI9cGFyc2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYSkpcmV0dXJuIGI7Y29uc29sZS53YXJuKCdUb29sYm94IGNhdGVnb3J5IFwiJyt0aGlzLm5hbWVfKydcIiBoYXMgdW5yZWNvZ25pemVkIGNvbG91ciBhdHRyaWJ1dGU6ICcrYSk7cmV0dXJuXCJcIn1yZXR1cm4gaHVlVG9IZXgkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRjb2xvdXIoYil9b3Blbkljb25fKGEpe2lmKGEpe3ZhciBiPVxudGhpcy5jc3NDb25maWdfLmNsb3NlZGljb247YiYmcmVtb3ZlQ2xhc3NlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpOyhiPXRoaXMuY3NzQ29uZmlnXy5vcGVuaWNvbikmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYil9fWNsb3NlSWNvbl8oYSl7aWYoYSl7dmFyIGI9dGhpcy5jc3NDb25maWdfLm9wZW5pY29uO2ImJnJlbW92ZUNsYXNzZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYSxiKTsoYj10aGlzLmNzc0NvbmZpZ18uY2xvc2VkaWNvbikmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYil9fXNldFZpc2libGVfKGEpe3RoaXMuaHRtbERpdl8uc3R5bGUuZGlzcGxheT1hP1wiYmxvY2tcIjpcIm5vbmVcIjt0aGlzLmlzSGlkZGVuXz0hYTt0aGlzLnBhcmVudFRvb2xib3hfLmdldFNlbGVjdGVkSXRlbSgpPT09dGhpcyYmdGhpcy5wYXJlbnRUb29sYm94Xy5jbGVhclNlbGVjdGlvbigpfWhpZGUoKXt0aGlzLnNldFZpc2libGVfKCExKX1zaG93KCl7dGhpcy5zZXRWaXNpYmxlXyghMCl9aXNWaXNpYmxlKCl7cmV0dXJuIXRoaXMuaXNIaWRkZW5fJiZcbnRoaXMuYWxsQW5jZXN0b3JzRXhwYW5kZWRfKCl9YWxsQW5jZXN0b3JzRXhwYW5kZWRfKCl7bGV0IGE9dGhpcztmb3IoO2EuZ2V0UGFyZW50KCk7KWlmKGE9YS5nZXRQYXJlbnQoKSwhYS5pc0V4cGFuZGVkKCkpcmV0dXJuITE7cmV0dXJuITB9aXNTZWxlY3RhYmxlKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKCkmJiF0aGlzLmlzRGlzYWJsZWRffW9uQ2xpY2soYSl7fXNldFNlbGVjdGVkKGEpe2lmKHRoaXMucm93RGl2Xyl7dmFyIGI9dGhpcy5jc3NDb25maWdfLnNlbGVjdGVkO2lmKGEpe2NvbnN0IGM9dGhpcy5wYXJzZUNvbG91cihUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNhdGVnb3J5LmRlZmF1bHRCYWNrZ3JvdW5kQ29sb3VyKTt0aGlzLnJvd0Rpdl8uc3R5bGUuYmFja2dyb3VuZENvbG9yPXRoaXMuY29sb3VyX3x8YztiJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnJvd0Rpdl8sYil9ZWxzZSB0aGlzLnJvd0Rpdl8uc3R5bGUuYmFja2dyb3VuZENvbG9yPVxuXCJcIixiJiZyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLnJvd0Rpdl8sYik7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuaHRtbERpdl8sU3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhLlNFTEVDVEVELGEpfX1zZXREaXNhYmxlZChhKXt0aGlzLmlzRGlzYWJsZWRfPWE7dGhpcy5nZXREaXYoKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLGAke2F9YCk7YT90aGlzLmdldERpdigpLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJ0cnVlXCIpOnRoaXMuZ2V0RGl2KCkucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIil9Z2V0TmFtZSgpe3JldHVybiB0aGlzLm5hbWVffWdldFBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudF99Z2V0RGl2KCl7cmV0dXJuIHRoaXMuaHRtbERpdl99Z2V0Q29udGVudHMoKXtyZXR1cm4gdGhpcy5mbHlvdXRJdGVtc199dXBkYXRlRmx5b3V0Q29udGVudHMoYSl7dGhpcy5mbHlvdXRJdGVtc189XG5bXTt0aGlzLnRvb2xib3hJdGVtRGVmXz10eXBlb2YgYT09PVwic3RyaW5nXCI/e2tpbmQ6dGhpcy50b29sYm94SXRlbURlZl8ua2luZCxjdXN0b206YSxpZDp0aGlzLnRvb2xib3hJdGVtRGVmXy5pZCxjYXRlZ29yeXN0eWxlOnRoaXMudG9vbGJveEl0ZW1EZWZfLmNhdGVnb3J5c3R5bGUsY29sb3VyOnRoaXMudG9vbGJveEl0ZW1EZWZfLmNvbG91cixjc3Njb25maWc6dGhpcy50b29sYm94SXRlbURlZl8uY3NzY29uZmlnLGhpZGRlbjp0aGlzLnRvb2xib3hJdGVtRGVmXy5oaWRkZW59OntraW5kOnRoaXMudG9vbGJveEl0ZW1EZWZfLmtpbmQsbmFtZTpcIm5hbWVcImluIHRoaXMudG9vbGJveEl0ZW1EZWZfP3RoaXMudG9vbGJveEl0ZW1EZWZfLm5hbWU6XCJcIixjb250ZW50czpjb252ZXJ0Rmx5b3V0RGVmVG9Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94KGEpLGlkOnRoaXMudG9vbGJveEl0ZW1EZWZfLmlkLGNhdGVnb3J5c3R5bGU6dGhpcy50b29sYm94SXRlbURlZl8uY2F0ZWdvcnlzdHlsZSxcbmNvbG91cjp0aGlzLnRvb2xib3hJdGVtRGVmXy5jb2xvdXIsY3NzY29uZmlnOnRoaXMudG9vbGJveEl0ZW1EZWZfLmNzc2NvbmZpZyxoaWRkZW46dGhpcy50b29sYm94SXRlbURlZl8uaGlkZGVufTt0aGlzLnBhcnNlQ29udGVudHNfKHRoaXMudG9vbGJveEl0ZW1EZWZfKX1kaXNwb3NlKCl7cmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLmh0bWxEaXZfKX19O1Rvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkucmVnaXN0cmF0aW9uTmFtZT1cImNhdGVnb3J5XCI7VG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeS5uZXN0ZWRQYWRkaW5nPTE5O1Rvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkuYm9yZGVyV2lkdGg9ODtcblRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkuZGVmYXVsdEJhY2tncm91bmRDb2xvdXI9XCIjNTdlXCI7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjc3MoJ1xcbi5ibG9ja2x5VG9vbGJveENhdGVnb3J5Om5vdCguYmxvY2tseVRvb2xib3hTZWxlY3RlZCk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMik7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFtsYXlvdXQ9XCJoXCJdIC5ibG9ja2x5VG9vbGJveENhdGVnb3J5Q29udGFpbmVyIHtcXG4gIG1hcmdpbjogMXB4IDVweCAxcHggMDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94W2Rpcj1cIlJUTFwiXVtsYXlvdXQ9XCJoXCJdIC5ibG9ja2x5VG9vbGJveENhdGVnb3J5Q29udGFpbmVyIHtcXG4gIG1hcmdpbjogMXB4IDAgMXB4IDVweDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnkge1xcbiAgaGVpZ2h0OiAyMnB4O1xcbiAgbGluZS1oZWlnaHQ6IDIycHg7XFxuICBtYXJnaW4tYm90dG9tOiAzcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA4cHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hbZGlyPVwiUlRMXCJdIC5ibG9ja2x5VG9vbGJveENhdGVnb3J5IHtcXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAwO1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKDw8PFBBVEg+Pj4vc3ByaXRlcy5wbmcpO1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIHdpZHRoOiAxNnB4O1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb25DbG9zZWQge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTFweDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94W2Rpcj1cIlJUTFwiXSAuYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb25DbG9zZWQge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMXB4O1xcbn1cXG5cXG4uYmxvY2tseVRvb2xib3hTZWxlY3RlZD4uYmxvY2tseVRvb2xib3hDYXRlZ29yeUljb25DbG9zZWQge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTE3cHg7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveFtkaXI9XCJSVExcIl0gLmJsb2NrbHlUb29sYm94U2VsZWN0ZWQ+LmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uQ2xvc2VkIHtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTE3cHg7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveENhdGVnb3J5SWNvbk9wZW4ge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTFweDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94U2VsZWN0ZWQ+LmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlJY29uT3BlbiB7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMTdweDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlMYWJlbCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBmb250OiAxNnB4IHNhbnMtc2VyaWY7XFxuICBwYWRkaW5nOiAwIDNweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveERlbGV0ZSAuYmxvY2tseVRvb2xib3hDYXRlZ29yeUxhYmVsIHtcXG4gIGN1cnNvcjogdXJsKFwiPDw8UEFUSD4+Pi9oYW5kZGVsZXRlLmN1clwiKSwgYXV0bztcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94U2VsZWN0ZWQgLmJsb2NrbHlUb29sYm94Q2F0ZWdvcnlMYWJlbCB7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuJyk7XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5UT09MQk9YX0lURU0sVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeS5yZWdpc3RyYXRpb25OYW1lLFRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnkpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeT17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeS5Ub29sYm94Q2F0ZWdvcnk9VG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjYXRlZ29yeTt2YXIgVG9vbGJveFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkc2VwYXJhdG9yPWNsYXNzIGV4dGVuZHMgVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3hfaXRlbXtjb25zdHJ1Y3RvcihhLGIpe3N1cGVyKGEsYik7dGhpcy5jc3NDb25maWdfPXtjb250YWluZXI6XCJibG9ja2x5VHJlZVNlcGFyYXRvclwifTt0aGlzLmh0bWxEaXY9bnVsbDtPYmplY3QuYXNzaWduKHRoaXMuY3NzQ29uZmlnXyxhLmNzc2NvbmZpZ3x8YS5jc3NDb25maWcpfWluaXQoKXt0aGlzLmNyZWF0ZURvbV8oKX1jcmVhdGVEb21fKCl7Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EudGFiSW5kZXg9LTE7YS5pZD10aGlzLmdldElkKCk7Y29uc3QgYj10aGlzLmNzc0NvbmZpZ18uY29udGFpbmVyO2ImJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsYik7cmV0dXJuIHRoaXMuaHRtbERpdj1hfWdldERpdigpe3JldHVybiB0aGlzLmh0bWxEaXZ9ZGlzcG9zZSgpe3JlbW92ZU5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20odGhpcy5odG1sRGl2KX19O1xuVG9vbGJveFNlcGFyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkc2VwYXJhdG9yLnJlZ2lzdHJhdGlvbk5hbWU9XCJzZXBcIjtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcygnXFxuLmJsb2NrbHlUcmVlU2VwYXJhdG9yIHtcXG4gIGJvcmRlci1ib3R0b206IHNvbGlkICNlNWU1ZTUgMXB4O1xcbiAgaGVpZ2h0OiAwO1xcbiAgbWFyZ2luOiA1cHggMDtcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94W2xheW91dD1cImhcIl0gLmJsb2NrbHlUcmVlU2VwYXJhdG9yIHtcXG4gIGJvcmRlci1yaWdodDogc29saWQgI2U1ZTVlNSAxcHg7XFxuICBib3JkZXItYm90dG9tOiBub25lO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgbWFyZ2luOiAwIDVweCAwIDVweDtcXG4gIHBhZGRpbmc6IDVweCAwO1xcbiAgd2lkdGg6IDA7XFxufVxcbicpO1xucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWF9JVEVNLFRvb2xib3hTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvci5yZWdpc3RyYXRpb25OYW1lLFRvb2xib3hTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvcik7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvcj17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3IuVG9vbGJveFNlcGFyYXRvcj1Ub29sYm94U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRzZXBhcmF0b3I7dmFyIENvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeT1jbGFzcyBleHRlbmRzIFRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnl7Y29uc3RydWN0b3IoYSxiLGMpe3N1cGVyKGEsYixjKTt0aGlzLnN1YmNhdGVnb3JpZXNEaXZfPW51bGw7dGhpcy5leHBhbmRlZF89ITE7dGhpcy50b29sYm94SXRlbXNfPVtdfW1ha2VEZWZhdWx0Q3NzQ29uZmlnXygpe2NvbnN0IGE9c3VwZXIubWFrZURlZmF1bHRDc3NDb25maWdfKCk7YS5jb250ZW50cz1cImJsb2NrbHlUb29sYm94Q2F0ZWdvcnlHcm91cFwiO3JldHVybiBhfXBhcnNlQ29udGVudHNfKGEpe2lmKFwiY3VzdG9tXCJpbiBhKXRoaXMuZmx5b3V0SXRlbXNfPWEuY3VzdG9tO2Vsc2V7Y29uc3QgYj1hLmNvbnRlbnRzO2lmKGIpe3RoaXMuZmx5b3V0SXRlbXNfPVtdO2E9ITA7Zm9yKGxldCBjPTA7YzxiLmxlbmd0aDtjKyspe2NvbnN0IGQ9XG5iW2NdOyFoYXNJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LlRPT0xCT1hfSVRFTSxkLmtpbmQpfHxkLmtpbmQudG9Mb3dlckNhc2UoKT09PVRvb2xib3hTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvci5yZWdpc3RyYXRpb25OYW1lJiZhPyh0aGlzLmZseW91dEl0ZW1zXy5wdXNoKGQpLGE9ITApOih0aGlzLmNyZWF0ZVRvb2xib3hJdGVtKGQpLGE9ITEpfX19fWNyZWF0ZVRvb2xib3hJdGVtKGEpe2xldCBiPWEua2luZDtiLnRvVXBwZXJDYXNlKCk9PT1cIkNBVEVHT1JZXCImJmlzQ2F0ZWdvcnlDb2xsYXBzaWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3goYSkmJihiPUNvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeS5yZWdpc3RyYXRpb25OYW1lKTtcbmE9bmV3IChnZXRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5UT09MQk9YX0lURU0sYikpKGEsdGhpcy5wYXJlbnRUb29sYm94Xyx0aGlzKTt0aGlzLnRvb2xib3hJdGVtc18ucHVzaChhKX1pbml0KCl7c3VwZXIuaW5pdCgpO3RoaXMuc2V0RXhwYW5kZWQodGhpcy50b29sYm94SXRlbURlZl8uZXhwYW5kZWQ9PT1cInRydWVcInx8dGhpcy50b29sYm94SXRlbURlZl8uZXhwYW5kZWQ9PT0hMCl9Y3JlYXRlRG9tXygpe3N1cGVyLmNyZWF0ZURvbV8oKTtjb25zdCBhPXRoaXMuZ2V0Q2hpbGRUb29sYm94SXRlbXMoKTt0aGlzLnN1YmNhdGVnb3JpZXNEaXZfPXRoaXMuY3JlYXRlU3ViQ2F0ZWdvcmllc0RvbV8oYSk7c2V0Um9sZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5zdWJjYXRlZ29yaWVzRGl2XyxSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5HUk9VUCk7XG50aGlzLmh0bWxEaXZfLmFwcGVuZENoaWxkKHRoaXMuc3ViY2F0ZWdvcmllc0Rpdl8pO3RoaXMuY2xvc2VJY29uXyh0aGlzLmljb25Eb21fKTtzZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5odG1sRGl2XyxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuRVhQQU5ERUQsITEpO3JldHVybiB0aGlzLmh0bWxEaXZffWNyZWF0ZUljb25Eb21fKCl7Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtpZighdGhpcy5wYXJlbnRUb29sYm94Xy5pc0hvcml6b250YWwoKSl7Y29uc3QgYj10aGlzLmNzc0NvbmZpZ18uaWNvbjtiJiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbShhLGIpO2Euc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIn1hLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIjtyZXR1cm4gYX1jcmVhdGVTdWJDYXRlZ29yaWVzRG9tXyhhKXtjb25zdCBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5iLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIGM9dGhpcy5jc3NDb25maWdfLmNvbnRlbnRzO2MmJmFkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGIsYyk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7Y29uc3QgZD1hW2NdO2QuaW5pdCgpO2NvbnN0IGU9ZC5nZXREaXYoKTtiLmFwcGVuZENoaWxkKGUpO2lmKGQuZ2V0Q2xpY2tUYXJnZXQpe2xldCBmOyhmPWQuZ2V0Q2xpY2tUYXJnZXQoKSk9PW51bGx8fGYuc2V0QXR0cmlidXRlKFwiaWRcIixkLmdldElkKCkpfX1yZXR1cm4gYn1zZXRFeHBhbmRlZChhKXtpZih0aGlzLmV4cGFuZGVkXyE9PWEpe2lmKHRoaXMuZXhwYW5kZWRfPWEpdGhpcy5zdWJjYXRlZ29yaWVzRGl2Xy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLm9wZW5JY29uXyh0aGlzLmljb25Eb21fKTtlbHNle2xldCBiOyhiPXRoaXMucGFyZW50VG9vbGJveF8uZ2V0Rmx5b3V0KCkpPT1udWxsfHxiLnNldFZpc2libGUoITEpO3RoaXMuc3ViY2F0ZWdvcmllc0Rpdl8uc3R5bGUuZGlzcGxheT1cblwibm9uZVwiO3RoaXMuY2xvc2VJY29uXyh0aGlzLmljb25Eb21fKX1zZXRTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEodGhpcy5odG1sRGl2XyxTdGF0ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGFyaWEuRVhQQU5ERUQsYSk7dGhpcy5wYXJlbnRUb29sYm94Xy5oYW5kbGVUb29sYm94SXRlbVJlc2l6ZSgpfX1zZXRWaXNpYmxlXyhhKXt0aGlzLmh0bWxEaXZfLnN0eWxlLmRpc3BsYXk9YT9cImJsb2NrXCI6XCJub25lXCI7Y29uc3QgYj10aGlzLmdldENoaWxkVG9vbGJveEl0ZW1zKCk7Zm9yKGxldCBjPTA7YzxiLmxlbmd0aDtjKyspYltjXS5zZXRWaXNpYmxlXyhhKTt0aGlzLmlzSGlkZGVuXz0hYTt0aGlzLnBhcmVudFRvb2xib3hfLmdldFNlbGVjdGVkSXRlbSgpPT09dGhpcyYmdGhpcy5wYXJlbnRUb29sYm94Xy5jbGVhclNlbGVjdGlvbigpfWlzRXhwYW5kZWQoKXtyZXR1cm4gdGhpcy5leHBhbmRlZF99aXNDb2xsYXBzaWJsZSgpe3JldHVybiEwfW9uQ2xpY2soYSl7dGhpcy50b2dnbGVFeHBhbmRlZCgpfXRvZ2dsZUV4cGFuZGVkKCl7dGhpcy5zZXRFeHBhbmRlZCghdGhpcy5leHBhbmRlZF8pfWdldERpdigpe3JldHVybiB0aGlzLmh0bWxEaXZffWdldENoaWxkVG9vbGJveEl0ZW1zKCl7cmV0dXJuIHRoaXMudG9vbGJveEl0ZW1zX319O1xuQ29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNvbGxhcHNpYmxlX2NhdGVnb3J5LnJlZ2lzdHJhdGlvbk5hbWU9XCJjb2xsYXBzaWJsZUNhdGVnb3J5XCI7cmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWF9JVEVNLENvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeS5yZWdpc3RyYXRpb25OYW1lLENvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCRjb2xsYXBzaWJsZV9jYXRlZ29yeSk7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNvbGxhcHNpYmxlX2NhdGVnb3J5PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY29sbGFwc2libGVfY2F0ZWdvcnkuQ29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnk9Q29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNvbGxhcHNpYmxlX2NhdGVnb3J5O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlbGVjdGFibGVfdG9vbGJveF9pdGVtPXt9O21vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZV90b29sYm94X2l0ZW0uaXNTZWxlY3RhYmxlVG9vbGJveEl0ZW09aXNTZWxlY3RhYmxlVG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VsZWN0YWJsZV90b29sYm94X2l0ZW07dmFyIFRvb2xib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3g9Y2xhc3MgZXh0ZW5kcyBEZWxldGVBcmVhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGVsZXRlX2FyZWF7Y29uc3RydWN0b3IoYSl7c3VwZXIoKTt0aGlzLmlkPVwidG9vbGJveFwiO3RoaXMuY29udGVudHNEaXZfPXRoaXMuSHRtbERpdj1udWxsO3RoaXMuaXNWaXNpYmxlXz0hMTt0aGlzLmhlaWdodF89dGhpcy53aWR0aF89MDt0aGlzLmZseW91dD1udWxsO3RoaXMuY29udGVudHM9bmV3IE1hcDt0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW1fPXRoaXMuc2VsZWN0ZWRJdGVtXz1udWxsO3RoaXMuYm91bmRFdmVudHNfPVtdO3RoaXMud29ya3NwYWNlXz1hO3RoaXMudG9vbGJveERlZl89YS5vcHRpb25zLmxhbmd1YWdlVHJlZXx8e2NvbnRlbnRzOltdfTt0aGlzLmhvcml6b250YWxMYXlvdXQ9YS5vcHRpb25zLmhvcml6b250YWxMYXlvdXQ7dGhpcy5SVEw9YS5vcHRpb25zLlJUTDt0aGlzLnRvb2xib3hQb3NpdGlvbj1cbmEub3B0aW9ucy50b29sYm94UG9zaXRpb259b25TaG9ydGN1dChhKXtyZXR1cm4hMX1pbml0KCl7dmFyIGE9dGhpcy53b3Jrc3BhY2VfO2NvbnN0IGI9YS5nZXRQYXJlbnRTdmcoKTt0aGlzLmZseW91dD10aGlzLmNyZWF0ZUZseW91dF8oKTt0aGlzLkh0bWxEaXY9dGhpcy5jcmVhdGVEb21fKHRoaXMud29ya3NwYWNlXyk7Y29uc3QgYz10aGlzLmZseW91dC5jcmVhdGVEb20oXCJzdmdcIik7YWRkQ2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRkb20oYyxcImJsb2NrbHlUb29sYm94Rmx5b3V0XCIpO2luc2VydEFmdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGMsYik7dGhpcy5zZXRWaXNpYmxlKCEwKTt0aGlzLmZseW91dC5pbml0KGEpO3RoaXMucmVuZGVyKHRoaXMudG9vbGJveERlZl8pO2E9YS5nZXRUaGVtZU1hbmFnZXIoKTthLnN1YnNjcmliZSh0aGlzLkh0bWxEaXYsXCJ0b29sYm94QmFja2dyb3VuZENvbG91clwiLFwiYmFja2dyb3VuZC1jb2xvclwiKTthLnN1YnNjcmliZSh0aGlzLkh0bWxEaXYsXG5cInRvb2xib3hGb3JlZ3JvdW5kQ29sb3VyXCIsXCJjb2xvclwiKTt0aGlzLndvcmtzcGFjZV8uZ2V0Q29tcG9uZW50TWFuYWdlcigpLmFkZENvbXBvbmVudCh7Y29tcG9uZW50OnRoaXMsd2VpZ2h0OkNvbXBvbmVudE1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21wb25lbnRfbWFuYWdlci5Db21wb25lbnRXZWlnaHQuVE9PTEJPWF9XRUlHSFQsY2FwYWJpbGl0aWVzOltDb21wb25lbnRNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tcG9uZW50X21hbmFnZXIuQ2FwYWJpbGl0eS5BVVRPSElERUFCTEUsQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuREVMRVRFX0FSRUEsQ29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyLkNhcGFiaWxpdHkuRFJBR19UQVJHRVRdfSk7JC5nZXRGb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyKCkucmVnaXN0ZXJUcmVlKHRoaXMsXG4hMCl9Y3JlYXRlRG9tXyhhKXthPWEuZ2V0UGFyZW50U3ZnKCk7Y29uc3QgYj10aGlzLmNyZWF0ZUNvbnRhaW5lcl8oKTtiLmlkPWdldE5leHRVbmlxdWVJZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGlkZ2VuZXJhdG9yKCk7dGhpcy5jb250ZW50c0Rpdl89dGhpcy5jcmVhdGVDb250ZW50c0NvbnRhaW5lcl8oKTtzZXRSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYSh0aGlzLmNvbnRlbnRzRGl2XyxSb2xlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5UUkVFKTtiLmFwcGVuZENoaWxkKHRoaXMuY29udGVudHNEaXZfKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7dGhpcy5hdHRhY2hFdmVudHNfKGIsdGhpcy5jb250ZW50c0Rpdl8pO3JldHVybiBifWNyZWF0ZUNvbnRhaW5lcl8oKXtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJsYXlvdXRcIix0aGlzLmlzSG9yaXpvbnRhbCgpP1xuXCJoXCI6XCJ2XCIpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5VG9vbGJveFwiKTthLnNldEF0dHJpYnV0ZShcImRpclwiLHRoaXMuUlRMP1wiUlRMXCI6XCJMVFJcIik7cmV0dXJuIGF9Y3JlYXRlQ29udGVudHNDb250YWluZXJfKCl7Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2FkZENsYXNzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkZG9tKGEsXCJibG9ja2x5VG9vbGJveENhdGVnb3J5R3JvdXBcIik7dGhpcy5pc0hvcml6b250YWwoKSYmKGEuc3R5bGUuZmxleERpcmVjdGlvbj1cInJvd1wiKTtyZXR1cm4gYX1hdHRhY2hFdmVudHNfKGEsYil7YT1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhhLFwicG9pbnRlcmRvd25cIix0aGlzLHRoaXMub25DbGlja18sITEpO3RoaXMuYm91bmRFdmVudHNfLnB1c2goYSk7Yj1jb25kaXRpb25hbEJpbmQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRicm93c2VyX2V2ZW50cyhiLFxuXCJrZXlkb3duXCIsdGhpcyx0aGlzLm9uS2V5RG93bl8sITEpO3RoaXMuYm91bmRFdmVudHNfLnB1c2goYil9b25DbGlja18oYSl7aWYoaXNSaWdodEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKGEpfHxhLnRhcmdldD09PXRoaXMuSHRtbERpdilnZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCkuaGlkZUNoYWZmKCExKTtlbHNle3ZhciBiPWEudGFyZ2V0LmdldEF0dHJpYnV0ZShcImlkXCIpO2ImJihiPXRoaXMuZ2V0VG9vbGJveEl0ZW1CeUlkKGIpLGIuaXNTZWxlY3RhYmxlKCkmJih0aGlzLnNldFNlbGVjdGVkSXRlbShiKSxiLm9uQ2xpY2soYSkpKTtnZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKCkuaGlkZUNoYWZmKCEwKX1jbGVhclRvdWNoSWRlbnRpZmllciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvdWNoKCl9b25LZXlEb3duXyhhKXtsZXQgYj0hMTtzd2l0Y2goYS5rZXkpe2Nhc2UgXCJBcnJvd0Rvd25cIjpiPVxudGhpcy5zZWxlY3ROZXh0KCk7YnJlYWs7Y2FzZSBcIkFycm93VXBcIjpiPXRoaXMuc2VsZWN0UHJldmlvdXMoKTticmVhaztjYXNlIFwiQXJyb3dMZWZ0XCI6Yj10aGlzLnNlbGVjdFBhcmVudCgpO2JyZWFrO2Nhc2UgXCJBcnJvd1JpZ2h0XCI6Yj10aGlzLnNlbGVjdENoaWxkKCk7YnJlYWs7Y2FzZSBcIkVudGVyXCI6Y2FzZSBcIiBcIjp0aGlzLnNlbGVjdGVkSXRlbV8mJnRoaXMuc2VsZWN0ZWRJdGVtXy5pc0NvbGxhcHNpYmxlKCkmJih0aGlzLnNlbGVjdGVkSXRlbV8udG9nZ2xlRXhwYW5kZWQoKSxiPSEwKTticmVhaztkZWZhdWx0OmI9ITF9IWImJnRoaXMuc2VsZWN0ZWRJdGVtXyYmdGhpcy5zZWxlY3RlZEl0ZW1fLm9uS2V5RG93biYmKGI9dGhpcy5zZWxlY3RlZEl0ZW1fLm9uS2V5RG93bihhKSk7YiYmYS5wcmV2ZW50RGVmYXVsdCgpfWNyZWF0ZUZseW91dF8oKXtjb25zdCBhPXRoaXMud29ya3NwYWNlXyxiPWEuY29weU9wdGlvbnNGb3JGbHlvdXQoKTtiLnRvb2xib3hQb3NpdGlvbj1hLm9wdGlvbnMudG9vbGJveFBvc2l0aW9uO1xucmV0dXJuIG5ldyAoYS5ob3Jpem9udGFsTGF5b3V0P2dldENsYXNzRnJvbU9wdGlvbnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuRkxZT1VUU19IT1JJWk9OVEFMX1RPT0xCT1gsYS5vcHRpb25zLCEwKTpnZXRDbGFzc0Zyb21PcHRpb25zJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkoVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5LkZMWU9VVFNfVkVSVElDQUxfVE9PTEJPWCxhLm9wdGlvbnMsITApKShiKX1yZW5kZXIoYSl7dGhpcy50b29sYm94RGVmXz1hO3RoaXMuY29udGVudHMuZm9yRWFjaChiPT5iLmRpc3Bvc2UoKSk7dGhpcy5jb250ZW50cy5jbGVhcigpO3RoaXMucmVuZGVyQ29udGVudHNfKGEuY29udGVudHMpO3RoaXMucG9zaXRpb24oKTt0aGlzLmhhbmRsZVRvb2xib3hJdGVtUmVzaXplKCl9cmVuZGVyQ29udGVudHNfKGEpe2NvbnN0IGI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuZm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspdGhpcy5jcmVhdGVUb29sYm94SXRlbShhW2NdLGIpO3RoaXMuY29udGVudHNEaXZfLmFwcGVuZENoaWxkKGIpfWNyZWF0ZVRvb2xib3hJdGVtKGEsYil7dmFyIGM9YS5raW5kO2MudG9VcHBlckNhc2UoKT09PVwiQ0FURUdPUllcIiYmaXNDYXRlZ29yeUNvbGxhcHNpYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveChhKSYmKGM9Q29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNvbGxhcHNpYmxlX2NhdGVnb3J5LnJlZ2lzdHJhdGlvbk5hbWUpO2lmKGM9Z2V0Q2xhc3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeShUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnkuVE9PTEJPWF9JVEVNLGMudG9Mb3dlckNhc2UoKSkpYT1uZXcgYyhhLHRoaXMpLGEuaW5pdCgpLHRoaXMuYWRkVG9vbGJveEl0ZW1fKGEpLChjPWEuZ2V0RGl2KCkpJiZiLmFwcGVuZENoaWxkKGMpLFxuYS5nZXRDbGlja1RhcmdldCgpJiZhLmdldENsaWNrVGFyZ2V0KCkuc2V0QXR0cmlidXRlKFwiaWRcIixhLmdldElkKCkpfWFkZFRvb2xib3hJdGVtXyhhKXt0aGlzLmNvbnRlbnRzLnNldChhLmdldElkKCksYSk7aWYoYS5pc0NvbGxhcHNpYmxlKCkpe2E9YS5nZXRDaGlsZFRvb2xib3hJdGVtcygpO2ZvcihsZXQgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuYWRkVG9vbGJveEl0ZW1fKGFbYl0pfX1nZXRUb29sYm94SXRlbXMoKXtyZXR1cm5bLi4udGhpcy5jb250ZW50cy52YWx1ZXMoKV19YWRkU3R5bGUoYSl7YSYmdGhpcy5IdG1sRGl2JiZhZGRDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLkh0bWxEaXYsYSl9cmVtb3ZlU3R5bGUoYSl7YSYmdGhpcy5IdG1sRGl2JiZyZW1vdmVDbGFzcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLkh0bWxEaXYsYSl9Z2V0Q2xpZW50UmVjdCgpe2lmKCF0aGlzLkh0bWxEaXZ8fCF0aGlzLmlzVmlzaWJsZV8pcmV0dXJuIG51bGw7XG52YXIgYT10aGlzLkh0bWxEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Y29uc3QgYj1hLnRvcCxjPWIrYS5oZWlnaHQsZD1hLmxlZnQ7YT1kK2Eud2lkdGg7cmV0dXJuIHRoaXMudG9vbGJveFBvc2l0aW9uPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlRPUD9uZXcgUmVjdCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHJlY3QoLTFFNyxjLC0xRTcsMUU3KTp0aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5CT1RUT00/bmV3IFJlY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRyZWN0KGIsMUU3LC0xRTcsMUU3KTp0aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUP25ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCgtMUU3LDFFNywtMUU3LGEpOm5ldyBSZWN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkcmVjdCgtMUU3LFxuMUU3LGQsMUU3KX13b3VsZERlbGV0ZShhKXthIGluc3RhbmNlb2YgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmc/dGhpcy51cGRhdGVXb3VsZERlbGV0ZV8oIWEuZ2V0UGFyZW50KCkmJmEuaXNEZWxldGFibGUoKSk6dGhpcy51cGRhdGVXb3VsZERlbGV0ZV8oaXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlKGEpJiZhLmlzRGVsZXRhYmxlKCkpO3JldHVybiB0aGlzLndvdWxkRGVsZXRlX31vbkRyYWdFbnRlcihhKXt0aGlzLnVwZGF0ZUN1cnNvckRlbGV0ZVN0eWxlXyghMCl9b25EcmFnRXhpdChhKXt0aGlzLnVwZGF0ZUN1cnNvckRlbGV0ZVN0eWxlXyghMSl9b25Ecm9wKGEpe3RoaXMudXBkYXRlQ3Vyc29yRGVsZXRlU3R5bGVfKCExKX11cGRhdGVXb3VsZERlbGV0ZV8oYSl7YSE9PXRoaXMud291bGREZWxldGVfJiYodGhpcy51cGRhdGVDdXJzb3JEZWxldGVTdHlsZV8oITEpLHRoaXMud291bGREZWxldGVfPVxuYSx0aGlzLnVwZGF0ZUN1cnNvckRlbGV0ZVN0eWxlXyghMCkpfXVwZGF0ZUN1cnNvckRlbGV0ZVN0eWxlXyhhKXtjb25zdCBiPXRoaXMud291bGREZWxldGVfP1wiYmxvY2tseVRvb2xib3hEZWxldGVcIjpcImJsb2NrbHlUb29sYm94R3JhYlwiO2E/dGhpcy5hZGRTdHlsZShiKTp0aGlzLnJlbW92ZVN0eWxlKGIpfWdldFRvb2xib3hJdGVtQnlJZChhKXtyZXR1cm4gdGhpcy5jb250ZW50cy5nZXQoYSl8fG51bGx9Z2V0V2lkdGgoKXtyZXR1cm4gdGhpcy53aWR0aF99Z2V0SGVpZ2h0KCl7cmV0dXJuIHRoaXMuaGVpZ2h0X31nZXRGbHlvdXQoKXtyZXR1cm4gdGhpcy5mbHlvdXR9Z2V0V29ya3NwYWNlKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlX31nZXRTZWxlY3RlZEl0ZW0oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1ffWdldFByZXZpb3VzbHlTZWxlY3RlZEl0ZW0oKXtyZXR1cm4gdGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtX31pc0hvcml6b250YWwoKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsTGF5b3V0fXBvc2l0aW9uKCl7Y29uc3QgYT1cbnRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzKCksYj10aGlzLkh0bWxEaXY7YiYmKHRoaXMuaG9yaXpvbnRhbExheW91dD8oYi5zdHlsZS5sZWZ0PVwiMFwiLGIuc3R5bGUuaGVpZ2h0PVwiYXV0b1wiLGIuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5oZWlnaHRfPWIub2Zmc2V0SGVpZ2h0LHRoaXMud2lkdGhfPWEudmlld1dpZHRoLHRoaXMudG9vbGJveFBvc2l0aW9uPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlRPUD9iLnN0eWxlLnRvcD1cIjBcIjpiLnN0eWxlLmJvdHRvbT1cIjBcIik6KHRoaXMudG9vbGJveFBvc2l0aW9uPT09UG9zaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR0b29sYm94LlJJR0hUP2Iuc3R5bGUucmlnaHQ9XCIwXCI6Yi5zdHlsZS5sZWZ0PVwiMFwiLGIuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMud2lkdGhfPWIub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHRfPWEudmlld0hlaWdodCksdGhpcy5mbHlvdXQucG9zaXRpb24oKSl9aGFuZGxlVG9vbGJveEl0ZW1SZXNpemUoKXtjb25zdCBhPVxudGhpcy53b3Jrc3BhY2VfO3ZhciBiPXRoaXMuSHRtbERpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtjb25zdCBjPXRoaXMuZ2V0Rmx5b3V0KCksZD10aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5MRUZUP2Euc2Nyb2xsWCtiLndpZHRoKygoYz09bnVsbD8wOmMuaXNWaXNpYmxlKCkpP2MuZ2V0V2lkdGgoKTowKTphLnNjcm9sbFg7Yj10aGlzLnRvb2xib3hQb3NpdGlvbj09PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1A/YS5zY3JvbGxZK2IuaGVpZ2h0KygoYz09bnVsbD8wOmMuaXNWaXNpYmxlKCkpP2MuZ2V0SGVpZ2h0KCk6MCk6YS5zY3JvbGxZO2EudHJhbnNsYXRlKGQsYik7c3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGEpfWNsZWFyU2VsZWN0aW9uKCl7dGhpcy5zZXRTZWxlY3RlZEl0ZW0obnVsbCl9cmVmcmVzaFRoZW1lKCl7dGhpcy5jb250ZW50cy5mb3JFYWNoKGE9Plxue2EucmVmcmVzaFRoZW1lJiZhLnJlZnJlc2hUaGVtZSgpfSl9cmVmcmVzaFNlbGVjdGlvbigpe3RoaXMuc2VsZWN0ZWRJdGVtXyYmdGhpcy5zZWxlY3RlZEl0ZW1fLmlzU2VsZWN0YWJsZSgpJiZ0aGlzLnNlbGVjdGVkSXRlbV8uZ2V0Q29udGVudHMoKS5sZW5ndGgmJnRoaXMuZmx5b3V0LnNob3codGhpcy5zZWxlY3RlZEl0ZW1fLmdldENvbnRlbnRzKCkpfXNldFZpc2libGUoYSl7dGhpcy5pc1Zpc2libGVfIT09YSYmKHRoaXMuSHRtbERpdi5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiLHRoaXMuaXNWaXNpYmxlXz1hLHRoaXMud29ya3NwYWNlXy5yZWNvcmREcmFnVGFyZ2V0cygpKX1hdXRvSGlkZShhKXshYSYmdGhpcy5mbHlvdXQmJnRoaXMuZmx5b3V0LmF1dG9DbG9zZSYmdGhpcy5jbGVhclNlbGVjdGlvbigpfXNldFNlbGVjdGVkSXRlbShhKXtjb25zdCBiPXRoaXMuc2VsZWN0ZWRJdGVtXzshYSYmIWJ8fGEmJiFpc1NlbGVjdGFibGVUb29sYm94SXRlbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlX3Rvb2xib3hfaXRlbShhKXx8XG4odGhpcy5zaG91bGREZXNlbGVjdEl0ZW1fKGIsYSkmJmIhPT1udWxsJiZ0aGlzLmRlc2VsZWN0SXRlbV8oYiksdGhpcy5zaG91bGRTZWxlY3RJdGVtXyhiLGEpJiZhIT09bnVsbCYmdGhpcy5zZWxlY3RJdGVtXyhiLGEpLHRoaXMudXBkYXRlRmx5b3V0XyhiLGEpLHRoaXMuZmlyZVNlbGVjdEV2ZW50KGIsYSkpfXNob3VsZERlc2VsZWN0SXRlbV8oYSxiKXtyZXR1cm4gYSE9PW51bGwmJighYS5pc0NvbGxhcHNpYmxlKCl8fGEhPT1iKX1zaG91bGRTZWxlY3RJdGVtXyhhLGIpe3JldHVybiBiIT09bnVsbCYmYiE9PWF9ZGVzZWxlY3RJdGVtXyhhKXt0aGlzLnNlbGVjdGVkSXRlbV89bnVsbDt0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW1fPWE7YS5zZXRTZWxlY3RlZCghMSk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuY29udGVudHNEaXZfLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5BQ1RJVkVERVNDRU5EQU5ULFwiXCIpfXNlbGVjdEl0ZW1fKGEsXG5iKXt0aGlzLnNlbGVjdGVkSXRlbV89Yjt0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW1fPWE7Yi5zZXRTZWxlY3RlZCghMCk7c2V0U3RhdGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRhcmlhKHRoaXMuY29udGVudHNEaXZfLFN0YXRlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkYXJpYS5BQ1RJVkVERVNDRU5EQU5ULGIuZ2V0SWQoKSl9c2VsZWN0SXRlbUJ5UG9zaXRpb24oYSl7KGE9dGhpcy5nZXRUb29sYm94SXRlbXMoKVthXSkmJnRoaXMuc2V0U2VsZWN0ZWRJdGVtKGEpfXVwZGF0ZUZseW91dF8oYSxiKXtiJiYoYSE9PWJ8fGIuaXNDb2xsYXBzaWJsZSgpKSYmYi5nZXRDb250ZW50cygpLmxlbmd0aD8odGhpcy5mbHlvdXQuc2hvdyhiLmdldENvbnRlbnRzKCkpLHRoaXMuZmx5b3V0LnNjcm9sbFRvU3RhcnQoKSk6dGhpcy5mbHlvdXQuaGlkZSgpfWZpcmVTZWxlY3RFdmVudChhLGIpe2NvbnN0IGM9YSYmYS5nZXROYW1lKCk7bGV0IGQ9YiYmYi5nZXROYW1lKCk7XG5hPT09YiYmKGQ9bnVsbCk7YT1uZXcgKGdldCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhFdmVudFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdHlwZS5UT09MQk9YX0lURU1fU0VMRUNUKSkoYyxkLHRoaXMud29ya3NwYWNlXy5pZCk7ZmlyZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhKX1zZWxlY3RQYXJlbnQoKXtyZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1fP3RoaXMuc2VsZWN0ZWRJdGVtXy5pc0NvbGxhcHNpYmxlKCkmJnRoaXMuc2VsZWN0ZWRJdGVtXy5pc0V4cGFuZGVkKCk/KHRoaXMuc2VsZWN0ZWRJdGVtXy50b2dnbGVFeHBhbmRlZCgpLCEwKTp0aGlzLnNlbGVjdGVkSXRlbV8uZ2V0UGFyZW50KCkmJnRoaXMuc2VsZWN0ZWRJdGVtXy5nZXRQYXJlbnQoKS5pc1NlbGVjdGFibGUoKT8odGhpcy5zZXRTZWxlY3RlZEl0ZW0odGhpcy5zZWxlY3RlZEl0ZW1fLmdldFBhcmVudCgpKSwhMCk6ITE6ITF9c2VsZWN0Q2hpbGQoKXtpZighdGhpcy5zZWxlY3RlZEl0ZW1ffHxcbiF0aGlzLnNlbGVjdGVkSXRlbV8uaXNDb2xsYXBzaWJsZSgpKXJldHVybiExO2NvbnN0IGE9dGhpcy5zZWxlY3RlZEl0ZW1fO2EuaXNFeHBhbmRlZCgpP3RoaXMuc2VsZWN0TmV4dCgpOmEudG9nZ2xlRXhwYW5kZWQoKTtyZXR1cm4hMH1zZWxlY3ROZXh0KCl7aWYoIXRoaXMuc2VsZWN0ZWRJdGVtXylyZXR1cm4hMTtjb25zdCBhPVsuLi50aGlzLmNvbnRlbnRzLnZhbHVlcygpXTtsZXQgYj1hLmluZGV4T2YodGhpcy5zZWxlY3RlZEl0ZW1fKSsxO2lmKGI+LTEmJmI8YS5sZW5ndGgpe2xldCBjPWFbYl07Zm9yKDtjJiYhYy5pc1NlbGVjdGFibGUoKTspYz1hWysrYl07aWYoYyYmYy5pc1NlbGVjdGFibGUoKSlyZXR1cm4gdGhpcy5zZXRTZWxlY3RlZEl0ZW0oYyksITB9cmV0dXJuITF9c2VsZWN0UHJldmlvdXMoKXtpZighdGhpcy5zZWxlY3RlZEl0ZW1fKXJldHVybiExO2NvbnN0IGE9Wy4uLnRoaXMuY29udGVudHMudmFsdWVzKCldO2xldCBiPWEuaW5kZXhPZih0aGlzLnNlbGVjdGVkSXRlbV8pLVxuMTtpZihiPi0xJiZiPGEubGVuZ3RoKXtsZXQgYz1hW2JdO2Zvcig7YyYmIWMuaXNTZWxlY3RhYmxlKCk7KWM9YVstLWJdO2lmKGMmJmMuaXNTZWxlY3RhYmxlKCkpcmV0dXJuIHRoaXMuc2V0U2VsZWN0ZWRJdGVtKGMpLCEwfXJldHVybiExfWRpc3Bvc2UoKXt0aGlzLndvcmtzcGFjZV8uZ2V0Q29tcG9uZW50TWFuYWdlcigpLnJlbW92ZUNvbXBvbmVudChcInRvb2xib3hcIik7dGhpcy5mbHlvdXQuZGlzcG9zZSgpO3RoaXMuY29udGVudHMuZm9yRWFjaChhPT5hLmRpc3Bvc2UoKSk7Zm9yKGxldCBhPTA7YTx0aGlzLmJvdW5kRXZlbnRzXy5sZW5ndGg7YSsrKXVuYmluZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzKHRoaXMuYm91bmRFdmVudHNfW2FdKTt0aGlzLmJvdW5kRXZlbnRzXz1bXTt0aGlzLmNvbnRlbnRzLmNsZWFyKCk7dGhpcy5IdG1sRGl2JiYodGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnVuc3Vic2NyaWJlKHRoaXMuSHRtbERpdikscmVtb3ZlTm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGRvbSh0aGlzLkh0bWxEaXYpKTtcbiQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcigpLnVucmVnaXN0ZXJUcmVlKHRoaXMpfWdldEZvY3VzYWJsZUVsZW1lbnQoKXtpZighdGhpcy5IdG1sRGl2KXRocm93IEVycm9yKFwiVG9vbGJveCBET00gaGFzIG5vdCB5ZXQgYmVlbiBjcmVhdGVkLlwiKTtyZXR1cm4gdGhpcy5IdG1sRGl2fWdldEZvY3VzYWJsZVRyZWUoKXtyZXR1cm4gdGhpc31vbk5vZGVGb2N1cygpe31vbk5vZGVCbHVyKCl7fWNhbkJlRm9jdXNlZCgpe3JldHVybiEwfWdldFJvb3RGb2N1c2FibGVOb2RlKCl7cmV0dXJuIHRoaXN9Z2V0UmVzdG9yZWRGb2N1c2FibGVOb2RlKGEpe2lmKCFhfHxhPT09dGhpcyl7bGV0IGI7cmV0dXJuKGI9dGhpcy5nZXRUb29sYm94SXRlbXMoKS5maW5kKGM9PmMuaXNTZWxlY3RhYmxlKCkpKSE9bnVsbD9iOm51bGx9cmV0dXJuIG51bGx9Z2V0TmVzdGVkVHJlZXMoKXtyZXR1cm5bXX1sb29rVXBGb2N1c2FibGVOb2RlKGEpe3JldHVybiB0aGlzLmdldFRvb2xib3hJdGVtQnlJZChhKX1vblRyZWVGb2N1cyhhLFxuYil7YSE9PXRoaXM/dGhpcy5nZXRTZWxlY3RlZEl0ZW0oKSE9PWEmJnRoaXMuc2V0U2VsZWN0ZWRJdGVtKGEpOnRoaXMuY2xlYXJTZWxlY3Rpb24oKX1vblRyZWVCbHVyKGEpe2xldCBiO2EmJmE9PT0oKGI9dGhpcy5mbHlvdXQpPT1udWxsP3ZvaWQgMDpiLmdldFdvcmtzcGFjZSgpKXx8dGhpcy5hdXRvSGlkZSghMSl9fTtyZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNzcygnXFxuLmJsb2NrbHlUb29sYm94RGVsZXRlIHtcXG4gIGN1cnNvcjogdXJsKFwiPDw8UEFUSD4+Pi9oYW5kZGVsZXRlLmN1clwiKSwgYXV0bztcXG59XFxuXFxuLmJsb2NrbHlUb29sYm94R3JhYiB7XFxuICBjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZGNsb3NlZC5jdXJcIiksIGF1dG87XFxuICBjdXJzb3I6IGdyYWJiaW5nO1xcbiAgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nO1xcbn1cXG5cXG4vKiBDYXRlZ29yeSB0cmVlIGluIFRvb2xib3guICovXFxuLmJsb2NrbHlUb29sYm94IHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcbiAgb3ZlcmZsb3cteDogdmlzaWJsZTtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBwYWRkaW5nOiA0cHggMCA0cHggMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDcwOyAgLyogc28gYmxvY2tzIGdvIHVuZGVyIHRvb2xib3ggd2hlbiBkcmFnZ2luZyAqL1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgIC8qIGlzc3VlICMxMzQ1ICovXFxufVxcblxcbi5ibG9ja2x5VG9vbGJveENhdGVnb3J5R3JvdXAge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtd3JhcDogd3JhcDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcblxcbi5ibG9ja2x5VG9vbGJveENhdGVnb3J5R3JvdXA6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuJyk7XG5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlZ2lzdHJ5KFR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeS5UT09MQk9YLERFRkFVTFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRyZWdpc3RyeSxUb29sYm94JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94KTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveD17fTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9vbGJveCR0b29sYm94LlRvb2xib3g9VG9vbGJveCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkdG9vbGJveDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9uYXZpZ2F0aW9uX3BvbGljeT17fTt2YXIgVkVSU0lPTiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9XCIxMi4zLjBcIixJTlBVVF9WQUxVRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuSU5QVVRfVkFMVUUsT1VUUFVUX1ZBTFVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1Db25uZWN0aW9uVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb25fdHlwZS5PVVRQVVRfVkFMVUUsTkVYVF9TVEFURU1FTlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlLk5FWFRfU1RBVEVNRU5ULFBSRVZJT1VTX1NUQVRFTUVOVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9Q29ubmVjdGlvblR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX3R5cGUuUFJFVklPVVNfU1RBVEVNRU5ULFxuVE9PTEJPWF9BVF9UT1AkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5UT1AsVE9PTEJPWF9BVF9CT1RUT00kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PVBvc2l0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkdG9vbGJveC5CT1RUT00sVE9PTEJPWF9BVF9MRUZUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guTEVGVCxUT09MQk9YX0FUX1JJR0hUJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1Qb3NpdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHRvb2xib3guUklHSFQsc3ZnUmVzaXplJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1zdmdSZXNpemUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24sZ2V0TWFpbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9XG5nZXRNYWluV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLGdldFNlbGVjdGVkJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1nZXRTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbixkZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLHNldFBhcmVudENvbnRhaW5lciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9c2V0UGFyZW50Q29udGFpbmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uLENPTExBUFNFX0NIQVJTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1DT0xMQVBTRV9DSEFSUyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVybmFsX2NvbnN0YW50cyxPUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1PUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzLFxuUkVOQU1FX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1SRU5BTUVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHMsREVMRVRFX1ZBUklBQkxFX0lEJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1ERUxFVEVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHMsQ09MTEFQU0VEX0lOUFVUX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PUNPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzLENPTExBUFNFRF9GSUVMRF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1DT0xMQVBTRURfRklFTERfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnN0YW50cyxWQVJJQUJMRV9DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzLFxuVkFSSUFCTEVfRFlOQU1JQ19DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1DQVRFR09SWV9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWMsUFJPQ0VEVVJFX0NBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5PUNBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO1dvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZS5wcm90b3R5cGUubmV3QmxvY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2sodGhpcyxhLGIpfTtXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnLnByb3RvdHlwZS5uZXdCbG9jaz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQmxvY2tTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19zdmcodGhpcyxhLGIpfTtcbldvcmtzcGFjZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZS5wcm90b3R5cGUubmV3Q29tbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFdvcmtzcGFjZUNvbW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50cyR3b3Jrc3BhY2VfY29tbWVudCh0aGlzLGEpfTtXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnLnByb3RvdHlwZS5uZXdDb21tZW50PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgUmVuZGVyZWRXb3Jrc3BhY2VDb21tZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbWVudHMkcmVuZGVyZWRfd29ya3NwYWNlX2NvbW1lbnQodGhpcyxhKX07V29ya3NwYWNlU3ZnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX3N2Zy5uZXdUcmFzaGNhbj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFRyYXNoY2FuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW4oYSl9O1xuTWluaVdvcmtzcGFjZUJ1YmJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXMkbWluaV93b3Jrc3BhY2VfYnViYmxlLnByb3RvdHlwZS5uZXdXb3Jrc3BhY2VTdmc9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBXb3Jrc3BhY2VTdmckJG1vZHVsZSRidWlsZCRzcmMkY29yZSR3b3Jrc3BhY2Vfc3ZnKGEpfTskLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMucHJvdG90eXBlLnBvcHVsYXRlUHJvY2VkdXJlcz1mdW5jdGlvbihhKXthPWFsbFByb2NlZHVyZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGEpO2E9YVswXS5jb25jYXQoYVsxXSk7Zm9yKGxldCBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5nZXROYW1lKGFbYl1bMF0sJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLk5hbWVUeXBlLlBST0NFRFVSRSl9O1xudmFyIERyb3BEb3duRGl2JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseT1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJvcGRvd25kaXYsbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQmxvY2s9QmxvY2skJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9jazttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5CbG9ja0ZseW91dEluZmxhdGVyPUJsb2NrRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja19mbHlvdXRfaW5mbGF0ZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQmxvY2tOYXZpZ2F0aW9uUG9saWN5PUJsb2NrTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRibG9ja19uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5CbG9ja1N2Zz1CbG9ja1N2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX3N2Zztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkJsb2Nrcz1CbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja3M7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQnV0dG9uRmx5b3V0SW5mbGF0ZXI9QnV0dG9uRmx5b3V0SW5mbGF0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRidXR0b25fZmx5b3V0X2luZmxhdGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNPTExBUFNFRF9GSUVMRF9OQU1FPUNPTExBUFNFRF9GSUVMRF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNPTExBUFNFRF9JTlBVVF9OQU1FPUNPTExBUFNFRF9JTlBVVF9OQU1FJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNPTExBUFNFX0NIQVJTPUNPTExBUFNFX0NIQVJTJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQ29kZUdlbmVyYXRvcj0kLkNvZGVHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZW5lcmF0b3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQ29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnk9Q29sbGFwc2libGVUb29sYm94Q2F0ZWdvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JGNvbGxhcHNpYmxlX2NhdGVnb3J5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbXBvbmVudE1hbmFnZXI9Q29tcG9uZW50TWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbXBvbmVudF9tYW5hZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbm5lY3Rpb249Q29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbm5lY3Rpb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuQ29ubmVjdGlvbkNoZWNrZXI9Q29ubmVjdGlvbkNoZWNrZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25uZWN0aW9uX2NoZWNrZXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db25uZWN0aW9uREI9Q29ubmVjdGlvbkRCJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl9kYjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db25uZWN0aW9uTmF2aWdhdGlvblBvbGljeT1Db25uZWN0aW9uTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRjb25uZWN0aW9uX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbm5lY3Rpb25UeXBlPUNvbm5lY3Rpb25UeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29ubmVjdGlvbl90eXBlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbnRleHRNZW51PW1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Db250ZXh0TWVudUl0ZW1zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudV9pdGVtcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNvbnRleHRNZW51UmVnaXN0cnk9Q29udGV4dE1lbnVSZWdpc3RyeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbnRleHRtZW51X3JlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkNzcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY3NzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkRFTEVURV9WQVJJQUJMRV9JRD1ERUxFVEVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRGVsZXRlQXJlYT1EZWxldGVBcmVhJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZGVsZXRlX2FyZWE7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRHJhZ1RhcmdldD1EcmFnVGFyZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZHJhZ190YXJnZXQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRHJvcERvd25EaXY9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyb3Bkb3duZGl2O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRXZlbnRzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkV4dGVuc2lvbnM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmllbGQ9RmllbGQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZENoZWNrYm94PUZpZWxkQ2hlY2tib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9jaGVja2JveDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZERyb3Bkb3duPUZpZWxkRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9kcm9wZG93bjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZEltYWdlPUZpZWxkSW1hZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9pbWFnZTtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZpZWxkTGFiZWw9RmllbGRMYWJlbCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZpZWxkTGFiZWxTZXJpYWxpemFibGU9RmllbGRMYWJlbFNlcmlhbGl6YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX2xhYmVsX3NlcmlhbGl6YWJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZE5hdmlnYXRpb25Qb2xpY3k9RmllbGROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZpZWxkX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZpZWxkTnVtYmVyPUZpZWxkTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfbnVtYmVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZpZWxkVGV4dElucHV0PSQuRmllbGRUZXh0SW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF90ZXh0aW5wdXQ7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GaWVsZFZhcmlhYmxlPUZpZWxkVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF92YXJpYWJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GbHlvdXQ9Rmx5b3V0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2Jhc2U7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0QnV0dG9uPUZseW91dEJ1dHRvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9idXR0b247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeT1GbHlvdXRCdXR0b25OYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9idXR0b25fbmF2aWdhdGlvbl9wb2xpY3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0SXRlbT1GbHlvdXRJdGVtJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X2l0ZW07XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GbHlvdXRNZXRyaWNzTWFuYWdlcj1GbHlvdXRNZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9tZXRyaWNzX21hbmFnZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuRmx5b3V0TmF2aWdhdGlvblBvbGljeT1GbHlvdXROYXZpZ2F0aW9uUG9saWN5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGZseW91dF9uYXZpZ2F0aW9uX3BvbGljeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GbHlvdXROYXZpZ2F0b3I9Rmx5b3V0TmF2aWdhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X25hdmlnYXRvcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5GbHlvdXRTZXBhcmF0b3I9Rmx5b3V0U2VwYXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmx5b3V0X3NlcGFyYXRvcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZseW91dFNlcGFyYXRvck5hdmlnYXRpb25Qb2xpY3k9Rmx5b3V0U2VwYXJhdG9yTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRmbHlvdXRfc2VwYXJhdG9yX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZvY3VzTWFuYWdlcj1Gb2N1c01hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmb2N1c19tYW5hZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkZvY3VzYWJsZVRyZWVUcmF2ZXJzZXI9Rm9jdXNhYmxlVHJlZVRyYXZlcnNlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJGZvY3VzYWJsZV90cmVlX3RyYXZlcnNlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5HZW5lcmF0b3I9JC5Db2RlR2VuZXJhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VuZXJhdG9yO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuR2VzdHVyZT1HZXN0dXJlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZ2VzdHVyZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5HcmlkPUdyaWQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRncmlkO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lkhvcml6b250YWxGbHlvdXQ9SG9yaXpvbnRhbEZseW91dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZseW91dF9ob3Jpem9udGFsO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LklOUFVUX1ZBTFVFPUlOUFVUX1ZBTFVFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5JbnB1dD1JbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5JbnNlcnRpb25NYXJrZXJQcmV2aWV3ZXI9SW5zZXJ0aW9uTWFya2VyUHJldmlld2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5zZXJ0aW9uX21hcmtlcl9wcmV2aWV3ZXI7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5LZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyPUtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTGFiZWxGbHlvdXRJbmZsYXRlcj1MYWJlbEZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbGFiZWxfZmx5b3V0X2luZmxhdGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LkxpbmVDdXJzb3I9TGluZUN1cnNvciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiRsaW5lX2N1cnNvcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5NYXJrZXI9TWFya2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JG1hcmtlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5NYXJrZXJNYW5hZ2VyPU1hcmtlck1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtYXJrZXJfbWFuYWdlcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk1lbnU9TWVudSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1lbnU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTWVudUl0ZW09TWVudUl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtZW51aXRlbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5NZXRyaWNzTWFuYWdlcj1NZXRyaWNzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1ldHJpY3NfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Nc2c9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuTkVYVF9TVEFURU1FTlQ9TkVYVF9TVEFURU1FTlQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk5hbWVzPSQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcztcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk5hdmlnYXRvcj1OYXZpZ2F0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYXZpZ2F0b3I7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuT1BQT1NJVEVfVFlQRT1PUFBPU0lURV9UWVBFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJuYWxfY29uc3RhbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk9VVFBVVF9WQUxVRT1PVVRQVVRfVkFMVUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lk9wdGlvbnM9T3B0aW9ucyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG9wdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UPVBSRVZJT1VTX1NUQVRFTUVOVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuUFJPQ0VEVVJFX0NBVEVHT1JZX05BTUU9Q0FURUdPUllfTkFNRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Qcm9jZWR1cmVzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlJFTkFNRV9WQVJJQUJMRV9JRD1SRU5BTUVfVkFSSUFCTEVfSUQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcm5hbF9jb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uPVJlbmRlcmVkQ29ubmVjdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVkX2Nvbm5lY3Rpb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuU2Nyb2xsYmFyPVNjcm9sbGJhciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHNjcm9sbGJhcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5TY3JvbGxiYXJQYWlyPVNjcm9sbGJhclBhaXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzY3JvbGxiYXJfcGFpcjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlNlcGFyYXRvckZseW91dEluZmxhdGVyPVNlcGFyYXRvckZseW91dEluZmxhdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VwYXJhdG9yX2ZseW91dF9pbmZsYXRlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5TaG9ydGN1dEl0ZW1zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9pdGVtczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5PVNob3J0Y3V0UmVnaXN0cnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRzaG9ydGN1dF9yZWdpc3RyeTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTT1UT09MQk9YX0FUX0JPVFRPTSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVE9PTEJPWF9BVF9MRUZUPVRPT0xCT1hfQVRfTEVGVCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UT09MQk9YX0FUX1JJR0hUPVRPT0xCT1hfQVRfUklHSFQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRPT0xCT1hfQVRfVE9QPVRPT0xCT1hfQVRfVE9QJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5UaGVtZT1UaGVtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRoZW1lO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRoZW1lTWFuYWdlcj1UaGVtZU1hbmFnZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0aGVtZV9tYW5hZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRoZW1lcz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdGhlbWUkdGhlbWVzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRvYXN0PVRvYXN0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdG9hc3Q7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Ub29sYm94PVRvb2xib3gkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3g7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVG9vbGJveENhdGVnb3J5PVRvb2xib3hDYXRlZ29yeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHRvb2xib3gkY2F0ZWdvcnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVG9vbGJveEl0ZW09VG9vbGJveEl0ZW0kJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHRvb2xib3hfaXRlbTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Ub29sYm94U2VwYXJhdG9yPVRvb2xib3hTZXBhcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sYm94JHNlcGFyYXRvcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Ub29sdGlwPW1vZHVsZSRidWlsZCRzcmMkY29yZSR0b29sdGlwO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRvdWNoPW1vZHVsZSRidWlsZCRzcmMkY29yZSR0b3VjaDtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LlRyYXNoY2FuPVRyYXNoY2FuJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdHJhc2hjYW47bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVW5hdHRhY2hlZEZpZWxkRXJyb3I9VW5hdHRhY2hlZEZpZWxkRXJyb3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FPUNBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVkFSSUFCTEVfRFlOQU1JQ19DQVRFR09SWV9OQU1FPUNBVEVHT1JZX05BTUUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXNfZHluYW1pYzttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5WRVJTSU9OPVZFUlNJT04kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVmFyaWFibGVNYXA9VmFyaWFibGVNYXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZV9tYXA7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVmFyaWFibGVNb2RlbD1WYXJpYWJsZU1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVfbW9kZWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVmFyaWFibGVzPW1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVmFyaWFibGVzRHluYW1pYz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzX2R5bmFtaWM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuVmVydGljYWxGbHlvdXQ9VmVydGljYWxGbHlvdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmbHlvdXRfdmVydGljYWw7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuV2lkZ2V0RGl2PW1vZHVsZSRidWlsZCRzcmMkY29yZSR3aWRnZXRkaXY7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5Xb3Jrc3BhY2U9V29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LldvcmtzcGFjZUF1ZGlvPVdvcmtzcGFjZUF1ZGlvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkd29ya3NwYWNlX2F1ZGlvO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LldvcmtzcGFjZURyYWdnZXI9V29ya3NwYWNlRHJhZ2dlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9kcmFnZ2VyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LldvcmtzcGFjZU5hdmlnYXRpb25Qb2xpY3k9V29ya3NwYWNlTmF2aWdhdGlvblBvbGljeSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGtleWJvYXJkX25hdiR3b3Jrc3BhY2VfbmF2aWdhdGlvbl9wb2xpY3k7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuV29ya3NwYWNlU3ZnPVdvcmtzcGFjZVN2ZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHdvcmtzcGFjZV9zdmc7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5YbWw9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbDttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5ab29tQ29udHJvbHM9Wm9vbUNvbnRyb2xzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkem9vbV9jb250cm9sczttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5ibG9ja0FuaW1hdGlvbnM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrX2FuaW1hdGlvbnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuYmxvY2tSZW5kZXJpbmc9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyRjb21tb24kYmxvY2tfcmVuZGVyaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmJyb3dzZXJFdmVudHM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJyb3dzZXJfZXZlbnRzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmJ1YmJsZXM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJ1YmJsZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5idW1wT2JqZWN0cz1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYnVtcF9vYmplY3RzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmNsaXBib2FyZD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkY2xpcGJvYXJkO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmNvbW1lbnRzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tZW50czttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5jb21tb249bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5jb25maWc9JC5jb25maWckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25maWc7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuY29uc3RhbnRzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRjb25zdGFudHM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheT1kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuZGlhbG9nPW1vZHVsZSRidWlsZCRzcmMkY29yZSRkaWFsb2c7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuZHJhZ2dpbmc9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGRyYWdnaW5nO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmZpZWxkUmVnaXN0cnk9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmdlcmFzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkZ2VyYXMkZ2VyYXM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuZ2V0Rm9jdXNNYW5hZ2VyPSQuZ2V0Rm9jdXNNYW5hZ2VyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZm9jdXNfbWFuYWdlcjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5nZXRNYWluV29ya3NwYWNlPWdldE1haW5Xb3Jrc3BhY2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5nZXRTZWxlY3RlZD1nZXRTZWxlY3RlZCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5oYXNCdWJibGU9aGFzQnViYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2hhc19idWJibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaGlkZUNoYWZmPWhpZGVDaGFmZiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaWNvbnM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmluamVjdD1pbmplY3QkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbmplY3Q7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaW5wdXRzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pc0NvcHlhYmxlPWlzQ29weWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29weWFibGU7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNEZWxldGFibGU9aXNEZWxldGFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZGVsZXRhYmxlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzRHJhZ2dhYmxlPWlzRHJhZ2dhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2RyYWdnYWJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pc0ljb249aXNJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ljb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNPYnNlcnZhYmxlPWlzT2JzZXJ2YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9vYnNlcnZhYmxlO1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNQYXN0ZXI9aXNQYXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcGFzdGVyO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzUmVuZGVyZWRFbGVtZW50PWlzUmVuZGVyZWRFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3JlbmRlcmVkX2VsZW1lbnQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuaXNTZWxlY3RhYmxlPWlzU2VsZWN0YWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zZWxlY3RhYmxlO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LmlzU2VyaWFsaXphYmxlPWlzU2VyaWFsaXphYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3NlcmlhbGl6YWJsZTttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5pc1ZhcmlhYmxlQmFja2VkUGFyYW1ldGVyTW9kZWw9aXNWYXJpYWJsZUJhY2tlZFBhcmFtZXRlck1vZGVsJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX2JhY2tlZF9wYXJhbWV0ZXJfbW9kZWw7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5rZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyPWtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRrZXlib2FyZF9uYXZpZ2F0aW9uX2NvbnRyb2xsZXI7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkubGF5ZXJzPW1vZHVsZSRidWlsZCRzcmMkY29yZSRsYXllcnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkubmF2aWdhdGVCbG9jaz1uYXZpZ2F0ZUJsb2NrJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5Lm5hdmlnYXRlU3RhY2tzPW5hdmlnYXRlU3RhY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUka2V5Ym9hcmRfbmF2JGJsb2NrX25hdmlnYXRpb25fcG9saWN5O21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnByb2NlZHVyZXM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXM7XG5tb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5yZWdpc3RyeT1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVnaXN0cnk7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkucmVuZGVyTWFuYWdlbWVudD1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyX21hbmFnZW1lbnQ7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuc2VyaWFsaXphdGlvbj1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkc2VyaWFsaXphdGlvbjttb2R1bGUkYnVpbGQkc3JjJGNvcmUkYmxvY2tseS5zZXRMb2NhbGU9c2V0TG9jYWxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnNldFBhcmVudENvbnRhaW5lcj1zZXRQYXJlbnRDb250YWluZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb247bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuc3ZnUmVzaXplPXN2Z1Jlc2l6ZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbjtcbm1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnRocmFzb3M9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHJlbmRlcmVycyR0aHJhc29zJHRocmFzb3M7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkudWlQb3NpdGlvbj1tb2R1bGUkYnVpbGQkc3JjJGNvcmUkcG9zaXRpb25hYmxlX2hlbHBlcnM7bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkudXRpbHM9bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzO21vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5LnplbG9zPW1vZHVsZSRidWlsZCRzcmMkY29yZSRyZW5kZXJlcnMkemVsb3MkemVsb3M7dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyRtZXRyaWNzPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcmVuZGVyZXJzJGNvbW1vbiRpX3BhdGhfb2JqZWN0PXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX21vZGVsPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX3ZhcmlhYmxlX21hcD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV90b29sYm94X2l0ZW09e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfdG9vbGJveD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9zdHlsZWFibGU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfc2VyaWFsaXplcj17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9yZWdpc3RyYWJsZT17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wcm9jZWR1cmVfbW9kZWw9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcHJvY2VkdXJlX21hcD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9wb3NpdGlvbmFibGU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfcGFyYW1ldGVyX21vZGVsPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX21vdmFibGU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfbWV0cmljc19tYW5hZ2VyPXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2tleWJvYXJkX2FjY2Vzc2libGU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZm9jdXNhYmxlX3RyZWU9e307bW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mb2N1c2FibGVfdHJlZS5pc0ZvY3VzYWJsZVRyZWU9aXNGb2N1c2FibGVUcmVlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZvY3VzYWJsZV90cmVlO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2ZseW91dF9pbmZsYXRlcj17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9mbHlvdXQ9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfZHJhZ2dlcj17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kcmFnX3RhcmdldD17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9kZWxldGVfYXJlYT17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb250ZXh0bWVudT17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb25uZWN0aW9uX3ByZXZpZXdlcj17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9jb25uZWN0aW9uX2NoZWNrZXI9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfY29tcG9uZW50PXt9O3ZhciBtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW50ZXJmYWNlcyRpX2NvbGxhcHNpYmxlX3Rvb2xib3hfaXRlbT17fTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGludGVyZmFjZXMkaV9idWJibGU9e307dmFyIG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnRlcmZhY2VzJGlfYm91bmRlZF9lbGVtZW50PXt9O1xubW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGJsb2NrbHkuX19uYW1lc3BhY2VfXz0kO1xucmV0dXJuIG1vZHVsZSRidWlsZCRzcmMkY29yZSRibG9ja2x5O1xufSkpO1xuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2NrbHlfY29tcHJlc3NlZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/blockly/blockly_compressed.js\n");

/***/ }),

/***/ "./node_modules/blockly/blocks_compressed.js":
/*!***************************************************!*\
  !*** ./node_modules/blockly/blocks_compressed.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./blockly_compressed.js */ \"./node_modules/blockly/blockly_compressed.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function(__parent__) {\nvar $=__parent__.__namespace__;\nvar blocks$$module$build$src$blocks$variables_dynamic=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"variables_get_dynamic\",message0:\"%1\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"}],output:null,style:\"variable_dynamic_blocks\",helpUrl:\"%{BKY_VARIABLES_GET_HELPURL}\",tooltip:\"%{BKY_VARIABLES_GET_TOOLTIP}\",extensions:[\"contextMenu_variableDynamicSetterGetter\"]},{type:\"variables_set_dynamic\",message0:\"%{BKY_VARIABLES_SET}\",args0:[{type:\"field_variable\",\nname:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"},{type:\"input_value\",name:\"VALUE\"}],previousStatement:null,nextStatement:null,style:\"variable_dynamic_blocks\",tooltip:\"%{BKY_VARIABLES_SET_TOOLTIP}\",helpUrl:\"%{BKY_VARIABLES_SET_HELPURL}\",extensions:[\"contextMenu_variableDynamicSetterGetter\"]}]),CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic={customContextMenu:function(a){if(!this.isInFlyout){if(this.type===\"variables_get_dynamic\"){var b=\"variables_set_dynamic\";\nvar c=$.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else b=\"variables_get_dynamic\",c=$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField(\"VAR\");b={type:b,fields:{VAR:d.saveState(!0)}};a.push({enabled:this.workspace.remainingCapacity()>0,text:c.replace(\"%1\",d.getText()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)})}else if(this.type===\"variables_get_dynamic\"||this.type===\"variables_get_reporter_dynamic\")c={text:$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,\nenabled:!0,callback:renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)},d=this.getField(\"VAR\").getText(),d={text:$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",d),enabled:!0,callback:deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)},a.unshift(c),a.unshift(d)},onchange:function(a){a=this.getFieldValue(\"VAR\");a=$.getVariable$$module$build$src$core$variables(this.workspace,a);this.type===\"variables_get_dynamic\"?this.outputConnection.setCheck(a.getType()):\nthis.getInput(\"VALUE\").connection.setCheck(a.getType())}},renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic=function(a){return function(){const b=a.workspace,c=a.getField(\"VAR\").getVariable();$.renameVariable$$module$build$src$core$variables(b,c)}},deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic=function(a){return function(){const b=a.getField(\"VAR\").getVariable();b&&$.deleteVariable$$module$build$src$core$variables(b.getWorkspace(),b,a)}};\n$.registerMixin$$module$build$src$core$extensions(\"contextMenu_variableDynamicSetterGetter\",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables_dynamic);var module$build$src$blocks$variables_dynamic={blocks:blocks$$module$build$src$blocks$variables_dynamic};var blocks$$module$build$src$blocks$variables=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"variables_get\",message0:\"%1\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"}],output:null,style:\"variable_blocks\",helpUrl:\"%{BKY_VARIABLES_GET_HELPURL}\",tooltip:\"%{BKY_VARIABLES_GET_TOOLTIP}\",extensions:[\"contextMenu_variableSetterGetter\"]},{type:\"variables_set\",message0:\"%{BKY_VARIABLES_SET}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"},\n{type:\"input_value\",name:\"VALUE\"}],previousStatement:null,nextStatement:null,style:\"variable_blocks\",tooltip:\"%{BKY_VARIABLES_SET_TOOLTIP}\",helpUrl:\"%{BKY_VARIABLES_SET_HELPURL}\",extensions:[\"contextMenu_variableSetterGetter\"]}]),CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables={customContextMenu:function(a){if(!this.isInFlyout){if(this.type===\"variables_get\"){var b=\"variables_set\";var c=$.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else b=\"variables_get\",\nc=$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField(\"VAR\");b={type:b,fields:{VAR:d.saveState(!0)}};a.push({enabled:this.workspace.remainingCapacity()>0,text:c.replace(\"%1\",d.getText()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)})}else if(this.type===\"variables_get\"||this.type===\"variables_get_reporter\")c={text:$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:renameOptionCallbackFactory$$module$build$src$blocks$variables(this)},\nd=this.getField(\"VAR\").getText(),d={text:$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",d),enabled:!0,callback:deleteOptionCallbackFactory$$module$build$src$blocks$variables(this)},a.unshift(c),a.unshift(d)}},renameOptionCallbackFactory$$module$build$src$blocks$variables=function(a){return function(){const b=a.workspace,c=a.getField(\"VAR\").getVariable();$.renameVariable$$module$build$src$core$variables(b,c)}},deleteOptionCallbackFactory$$module$build$src$blocks$variables=function(a){return function(){const b=\na.getField(\"VAR\").getVariable();b&&$.deleteVariable$$module$build$src$core$variables(b.getWorkspace(),b,a)}};$.registerMixin$$module$build$src$core$extensions(\"contextMenu_variableSetterGetter\",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables);var module$build$src$blocks$variables={blocks:blocks$$module$build$src$blocks$variables};var blocks$$module$build$src$blocks$text=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"text\",message0:\"%1\",args0:[{type:\"field_input\",name:\"TEXT\",text:\"\"}],output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_TEXT_HELPURL}\",tooltip:\"%{BKY_TEXT_TEXT_TOOLTIP}\",extensions:[\"text_quotes\",\"parent_tooltip_when_inline\"]},{type:\"text_join\",message0:\"\",output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_JOIN_HELPURL}\",tooltip:\"%{BKY_TEXT_JOIN_TOOLTIP}\",mutator:\"text_join_mutator\"},\n{type:\"text_create_join_container\",message0:\"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2\",args0:[{type:\"input_dummy\"},{type:\"input_statement\",name:\"STACK\"}],style:\"text_blocks\",tooltip:\"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}\",enableContextMenu:!1},{type:\"text_create_join_item\",message0:\"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}\",previousStatement:null,nextStatement:null,style:\"text_blocks\",tooltip:\"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}\",enableContextMenu:!1},{type:\"text_append\",message0:\"%{BKY_TEXT_APPEND_TITLE}\",\nargs0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_TEXT_APPEND_VARIABLE}\"},{type:\"input_value\",name:\"TEXT\"}],previousStatement:null,nextStatement:null,style:\"text_blocks\",extensions:[\"text_append_tooltip\"]},{type:\"text_length\",message0:\"%{BKY_TEXT_LENGTH_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Number\",style:\"text_blocks\",tooltip:\"%{BKY_TEXT_LENGTH_TOOLTIP}\",helpUrl:\"%{BKY_TEXT_LENGTH_HELPURL}\"},{type:\"text_isEmpty\",message0:\"%{BKY_TEXT_ISEMPTY_TITLE}\",\nargs0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Boolean\",style:\"text_blocks\",tooltip:\"%{BKY_TEXT_ISEMPTY_TOOLTIP}\",helpUrl:\"%{BKY_TEXT_ISEMPTY_HELPURL}\"},{type:\"text_indexOf\",message0:\"%{BKY_TEXT_INDEXOF_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"String\"},{type:\"field_dropdown\",name:\"END\",options:[[\"%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}\",\"FIRST\"],[\"%{BKY_TEXT_INDEXOF_OPERATOR_LAST}\",\"LAST\"]]},{type:\"input_value\",name:\"FIND\",check:\"String\"}],output:\"Number\",style:\"text_blocks\",\nhelpUrl:\"%{BKY_TEXT_INDEXOF_HELPURL}\",inputsInline:!0,extensions:[\"text_indexOf_tooltip\"]},{type:\"text_charAt\",message0:\"%{BKY_TEXT_CHARAT_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"String\"},{type:\"field_dropdown\",name:\"WHERE\",options:[[\"%{BKY_TEXT_CHARAT_FROM_START}\",\"FROM_START\"],[\"%{BKY_TEXT_CHARAT_FROM_END}\",\"FROM_END\"],[\"%{BKY_TEXT_CHARAT_FIRST}\",\"FIRST\"],[\"%{BKY_TEXT_CHARAT_LAST}\",\"LAST\"],[\"%{BKY_TEXT_CHARAT_RANDOM}\",\"RANDOM\"]]}],output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_CHARAT_HELPURL}\",\ninputsInline:!0,mutator:\"text_charAt_mutator\"}]),GET_SUBSTRING_BLOCK$$module$build$src$blocks$text={init:function(){this.WHERE_OPTIONS_1=[[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,\"FIRST\"]];this.WHERE_OPTIONS_2=[[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,\n\"FROM_END\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"STRING\").setCheck(\"String\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const a=b=>{const c=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this[\"WHERE_OPTIONS_\"+b]});c.setValidator(function(d){const e=this.getValue();d=d===\n\"FROM_START\"||d===\"FROM_END\";d!==(e===\"FROM_START\"||e===\"FROM_END\")&&this.getSourceBlock().updateAt_(b,d)});return c};this.appendDummyInput(\"WHERE1_INPUT\").appendField(a(1),\"WHERE1\");this.appendDummyInput(\"AT1\");this.appendDummyInput(\"WHERE2_INPUT\").appendField(a(2),\"WHERE2\");this.appendDummyInput(\"AT2\");$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL);this.setInputsInline(!0);this.setOutput(!0,\n\"String\");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");var b=this.getInput(\"AT1\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at1\",`${b}`);b=this.getInput(\"AT2\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at2\",`${b}`);return a},domToMutation:function(a){const b=\na.getAttribute(\"at1\")===\"true\";a=a.getAttribute(\"at2\")===\"true\";this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput(\"AT\"+a);this.removeInput(\"ORDINAL\"+a,!0);b?(this.appendValueInput(\"AT\"+a).setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\"+a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\"+a);a===2&&$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput(\"TAIL\",\n!0),this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));a===1&&(this.moveInputBefore(\"AT1\",\"WHERE2_INPUT\"),this.getInput(\"ORDINAL1\")&&this.moveInputBefore(\"ORDINAL1\",\"WHERE2_INPUT\"))}};blocks$$module$build$src$blocks$text.text_getSubstring=GET_SUBSTRING_BLOCK$$module$build$src$blocks$text;\nblocks$$module$build$src$blocks$text.text_changeCase={init:function(){const a=[[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,\"UPPERCASE\"],[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,\"LOWERCASE\"],[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,\"TITLECASE\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",\noptions:a}),\"CASE\");this.setOutput(!0,\"String\");this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}};\nblocks$$module$build$src$blocks$text.text_trim={init:function(){const a=[[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,\"BOTH\"],[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,\"LEFT\"],[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,\"RIGHT\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a}),\n\"MODE\");this.setOutput(!0,\"String\");this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}};blocks$$module$build$src$blocks$text.text_print={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:\"input_value\",name:\"TEXT\"}],previousStatement:null,nextStatement:null,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};\nvar PROMPT_COMMON$$module$build$src$blocks$text={updateType_:function(a){this.outputConnection.setCheck(a===\"NUMBER\"?\"Number\":\"String\")},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"type\",this.getFieldValue(\"TYPE\"));return a},domToMutation:function(a){this.updateType_(a.getAttribute(\"type\"))}};\nblocks$$module$build$src$blocks$text.text_prompt_ext=Object.assign({},PROMPT_COMMON$$module$build$src$blocks$text,{init:function(){var a=[[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,\"TEXT\"],[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,\"NUMBER\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);this.setStyle(\"text_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});a.setValidator(b=>{this.updateType_(b)});this.appendValueInput(\"TEXT\").appendField(a,\n\"TYPE\");this.setOutput(!0,\"String\");this.setTooltip(()=>this.getFieldValue(\"TYPE\")===\"TEXT\"?$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});\nblocks$$module$build$src$blocks$text.text_prompt=Object.assign({},PROMPT_COMMON$$module$build$src$blocks$text,{init:function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);var a=[[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,\"TEXT\"],[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,\"NUMBER\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);this.setStyle(\"text_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});\na.setValidator(b=>{this.updateType_(b)});this.appendDummyInput().appendField(a,\"TYPE\").appendField(this.newQuote_(!0)).appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:\"\"}),\"TEXT\").appendField(this.newQuote_(!1));this.setOutput(!0,\"String\");this.setTooltip(()=>this.getFieldValue(\"TYPE\")===\"TEXT\"?$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});\nblocks$$module$build$src$blocks$text.text_count={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:\"input_value\",name:\"SUB\",check:\"String\"},{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"Number\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}};\nblocks$$module$build$src$blocks$text.text_replace={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:\"input_value\",name:\"FROM\",check:\"String\"},{type:\"input_value\",name:\"TO\",check:\"String\"},{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"String\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}};\nblocks$$module$build$src$blocks$text.text_reverse={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"String\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};\nvar QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text={QUOTE_IMAGE_LEFT_DATAURI:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC\",QUOTE_IMAGE_RIGHT_DATAURI:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==\",\nQUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(a){for(let b=0,c;c=this.inputList[b];b++)for(let d=0,e;e=c.fieldRow[d];d++)if(a===e.name){c.insertFieldAt(d,this.newQuote_(!0));c.insertFieldAt(d+2,this.newQuote_(!1));return}console.warn('field named \"'+a+'\" not found in '+this.toDevString())},newQuote_:function(a){a=this.RTL?!a:a;return $.fromJson$$module$build$src$core$field_registry({type:\"field_image\",src:a?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,\nheight:this.QUOTE_IMAGE_HEIGHT,alt:a?\"\\u201c\":\"\\u201d\"})}},QUOTES_EXTENSION$$module$build$src$blocks$text=function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);this.quoteField_(\"TEXT\")},JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text={itemCount_:0,mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"items\",`${this.itemCount_}`);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute(\"items\"),10);this.updateShape_()},\nsaveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount;this.updateShape_()},decompose:function(a){const b=a.newBlock(\"text_create_join_container\");b.initSvg();let c=b.getInput(\"STACK\").connection;for(let d=0;d<this.itemCount_;d++){const e=a.newBlock(\"text_create_join_item\");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock(\"STACK\");for(a=[];b;)b.isInsertionMarker()||\na.push(b.valueConnection_),b=b.getNextBlock();for(b=0;b<this.itemCount_;b++){const c=this.getInput(\"ADD\"+b).connection.targetConnection;c&&!a.includes(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++){let c;(c=a[b])==null||c.reconnect(this,\"ADD\"+b)}},saveConnections:function(a){a=a.getInputTargetBlock(\"STACK\");let b=0;for(;a;){if(a.isInsertionMarker()){a=a.getNextBlock();continue}const c=this.getInput(\"ADD\"+b);a.valueConnection_=c&&c.connection.targetConnection;\na=a.getNextBlock();b++}},updateShape_:function(){this.itemCount_&&this.getInput(\"EMPTY\")?this.removeInput(\"EMPTY\"):this.itemCount_||this.getInput(\"EMPTY\")||this.appendDummyInput(\"EMPTY\").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput(\"ADD\"+a)){const b=this.appendValueInput(\"ADD\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);a===0&&b.appendField($.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(a=this.itemCount_;this.getInput(\"ADD\"+\na);a++)this.removeInput(\"ADD\"+a)}},JOIN_EXTENSION$$module$build$src$blocks$text=function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);this.itemCount_=2;this.updateShape_();this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"text_create_join_item\"],this))};$.register$$module$build$src$core$extensions(\"text_append_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_TEXT_APPEND_TOOLTIP}\",\"VAR\"));\nvar INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text=function(){this.setTooltip(()=>$.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\"0\":\"-1\"))},CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text={isAt_:!1,mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"at\",`${this.isAt_}`);return a},domToMutation:function(a){a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},updateAt_:function(a){this.removeInput(\"AT\",\n!0);this.removeInput(\"ORDINAL\",!0);a&&(this.appendValueInput(\"AT\").setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX));$.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput(\"TAIL\",!0),this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL));this.isAt_=a}},CHARAT_EXTENSION$$module$build$src$blocks$text=function(){this.getField(\"WHERE\").setValidator(function(a){a=\na===\"FROM_START\"||a===\"FROM_END\";const b=this.getSourceBlock();a!==b.isAt_&&b.updateAt_(a)});this.updateAt_(!0);this.setTooltip(()=>{var a=this.getFieldValue(\"WHERE\");let b=$.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;(a===\"FROM_START\"||a===\"FROM_END\")&&(a=a===\"FROM_START\"?$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(b+=\"  \"+a.replace(\"%1\",this.workspace.options.oneBasedIndex?\"#1\":\"#0\"));return b})};\n$.register$$module$build$src$core$extensions(\"text_indexOf_tooltip\",INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text);$.register$$module$build$src$core$extensions(\"text_quotes\",QUOTES_EXTENSION$$module$build$src$blocks$text);$.registerMixin$$module$build$src$core$extensions(\"quote_image_mixin\",QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);$.registerMutator$$module$build$src$core$extensions(\"text_join_mutator\",JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text,JOIN_EXTENSION$$module$build$src$blocks$text);\n$.registerMutator$$module$build$src$core$extensions(\"text_charAt_mutator\",CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text,CHARAT_EXTENSION$$module$build$src$blocks$text);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$text);var module$build$src$blocks$text={blocks:blocks$$module$build$src$blocks$text};var blocks$$module$build$src$blocks$procedures={},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures={setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput(\"STACK\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput(\"RETURN\")&&this.moveInputBefore(\"STACK\",\"RETURN\")):this.removeInput(\"STACK\",!0),this.hasStatements_=a)},updateParams_:function(){let a=\"\";this.arguments_.length&&(a=$.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+\n\" \"+this.arguments_.join(\", \"));$.disable$$module$build$src$core$events$utils();try{this.setFieldValue(a,\"PARAMS\")}finally{$.enable$$module$build$src$core$events$utils()}},mutationToDom:function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a&&b.setAttribute(\"name\",this.getFieldValue(\"NAME\"));for(let c=0;c<this.argumentVarModels_.length;c++){const d=$.createElement$$module$build$src$core$utils$xml(\"arg\"),e=this.argumentVarModels_[c];d.setAttribute(\"name\",e.getName());d.setAttribute(\"varid\",\ne.getId());a&&this.paramIds_&&d.setAttribute(\"paramId\",this.paramIds_[c]);b.appendChild(d)}this.hasStatements_||b.setAttribute(\"statements\",\"false\");return b},domToMutation:function(a){this.arguments_=[];this.argumentVarModels_=[];for(let c=0,d;d=a.childNodes[c];c++)if(d.nodeName.toLowerCase()===\"arg\"){var b=d;const e=b.getAttribute(\"name\");b=b.getAttribute(\"varid\")||b.getAttribute(\"varId\");this.arguments_.push(e);b=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,b,e,\n\"\");b!==null?this.argumentVarModels_.push(b):console.log(`Failed to create a variable named \"${e}\", ignoring.`)}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);this.setStatements_(a.getAttribute(\"statements\")!==\"false\")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const a=Object.create(null);if(this.argumentVarModels_.length){a.params=[];for(let b=0;b<this.argumentVarModels_.length;b++)a.params.push({name:this.argumentVarModels_[b].getName(),\nid:this.argumentVarModels_[b].getId()})}this.hasStatements_||(a.hasStatements=!1);return a},loadExtraState:function(a){this.arguments_=[];this.argumentVarModels_=[];if(a.params)for(let c=0;c<a.params.length;c++){var b=a.params[c];b=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,b.id,b.name,\"\");this.arguments_.push(b.getName());this.argumentVarModels_.push(b)}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);this.setStatements_(a.hasStatements===\n!1?!1:!0)},decompose:function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"block\");b.setAttribute(\"type\",\"procedures_mutatorcontainer\");var c=$.createElement$$module$build$src$core$utils$xml(\"statement\");c.setAttribute(\"name\",\"STACK\");b.appendChild(c);for(let e=0;e<this.arguments_.length;e++){const f=$.createElement$$module$build$src$core$utils$xml(\"block\");f.setAttribute(\"type\",\"procedures_mutatorarg\");var d=$.createElement$$module$build$src$core$utils$xml(\"field\");d.setAttribute(\"name\",\n\"NAME\");const g=$.createTextNode$$module$build$src$core$utils$xml(this.arguments_[e]);d.appendChild(g);f.appendChild(d);d=$.createElement$$module$build$src$core$utils$xml(\"next\");f.appendChild(d);c.appendChild(f);c=d}a=$.domToBlock$$module$build$src$core$xml(b,a);this.type===\"procedures_defreturn\"?a.setFieldValue(this.hasStatements_,\"STATEMENTS\"):a.removeInput(\"STATEMENT_INPUT\");$.mutateCallers$$module$build$src$core$procedures(this);return a},compose:function(a){this.arguments_=[];this.paramIds_=\n[];this.argumentVarModels_=[];let b=a.getInputTargetBlock(\"STACK\");for(;b&&!b.isInsertionMarker();){var c=b.getFieldValue(\"NAME\");this.arguments_.push(c);c=this.workspace.getVariable(c,\"\");this.argumentVarModels_.push(c);this.paramIds_.push(b.id);b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);a=a.getFieldValue(\"STATEMENTS\");if(a!==null&&(a=a===\"TRUE\",this.hasStatements_!==a))if(a){this.setStatements_(!0);var d;(d=this.statementConnection_)==\nnull||d.reconnect(this,\"STACK\");this.statementConnection_=null}else{d=this.getInput(\"STACK\").connection;if(this.statementConnection_=d.targetConnection)d=d.targetBlock(),d.unplug(),d.bumpNeighbours();this.setStatements_(!1)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(a,b){var c=this.workspace.getVariableById(a);if(c.getType()===\"\"){c=c.getName();b=this.workspace.getVariableById(b);var d=!1;for(let e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===\na&&(this.arguments_[e]=b.getName(),this.argumentVarModels_[e]=b,d=!0);d&&(this.displayRenamedVar_(c,b.getName()),$.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(a){const b=a.getName();let c=!1,d;for(let e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===a.getId()&&(d=this.arguments_[e],this.arguments_[e]=b,c=!0);c&&(this.displayRenamedVar_(d,b),$.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(a,b){this.updateParams_();\nvar c=this.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(c&&c.bubbleIsVisible()){c=c.getWorkspace().getAllBlocks(!1);for(let d=0,e;e=c[d];d++)e.type===\"procedures_mutatorarg\"&&$.Names$$module$build$src$core$names.equals(a,e.getFieldValue(\"NAME\"))&&e.setFieldValue(b,\"NAME\")}},customContextMenu:function(a){if(!this.isInFlyout){var b=this.getFieldValue(\"NAME\"),c={type:this.callType_,extraState:{name:b,params:this.arguments_}};a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace(\"%1\",\nb),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,c)});if(!this.isCollapsed())for(b=0;b<this.argumentVarModels_.length;b++){c=this.argumentVarModels_[b];const d={type:\"variables_get\",fields:{VAR:{name:c.getName(),id:c.getId(),type:c.getType()}}};a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace(\"%1\",c.getName()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,d)})}}}};\nblocks$$module$build$src$blocks$procedures.procedures_defnoreturn=Object.assign({},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures,{init:function(){var a=$.findLegalName$$module$build$src$core$procedures(\"\",this);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:a});a.setValidator($.rename$$module$build$src$core$procedures);a.setSpellcheck(!1);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,\"NAME\").appendField(\"\",\n\"PARAMS\");this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"procedures_mutatorarg\"],this));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT);this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP);\nthis.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue(\"NAME\"),this.arguments_,!1]},callType_:\"procedures_callnoreturn\"});\nblocks$$module$build$src$blocks$procedures.procedures_defreturn=Object.assign({},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures,{init:function(){var a=$.findLegalName$$module$build$src$core$procedures(\"\",this);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:a});a.setValidator($.rename$$module$build$src$core$procedures);a.setSpellcheck(!1);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,\"NAME\").appendField(\"\",\n\"PARAMS\");this.appendValueInput(\"RETURN\").setAlign($.Align$$module$build$src$core$inputs$align.RIGHT).appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"procedures_mutatorarg\"],this));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT);\nthis.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP);this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue(\"NAME\"),this.arguments_,!0]},callType_:\"procedures_callreturn\"});\nvar PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures={init:function(){this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE);this.appendStatementInput(\"STACK\");this.appendDummyInput(\"STATEMENT_INPUT\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_checkbox\",checked:!0}),\"STATEMENTS\");this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);\nthis.contextMenu=!1}};blocks$$module$build$src$blocks$procedures.procedures_mutatorcontainer=PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures;\nvar ProcedureArgumentField$$module$build$src$blocks$procedures=class extends $.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments);this.editingInteractively=!1}showEditor_(a){super.showEditor_(a);this.editingInteractively=!0;this.editingVariable=void 0}onFinishEditing_(a){super.onFinishEditing_(a);this.editingInteractively=!1}},PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures={init:function(){const a=new ProcedureArgumentField$$module$build$src$blocks$procedures($.DEFAULT_ARG$$module$build$src$core$procedures,\nthis.validator_);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,\"NAME\");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1},validator_:function(a){var b=this.getSourceBlock();const c=b.workspace.getRootWorkspace();a=a.replace(/[\\s\\xa0]+/g,\" \").replace(/^ | $/g,\"\");if(!a)return null;const d=(b.workspace.targetWorkspace||\nb.workspace).getAllBlocks(!1),e=a.toLowerCase();for(let f=0;f<d.length;f++){if(d[f].id===this.getSourceBlock().id)continue;const g=d[f].getFieldValue(\"NAME\");if(g&&g.toLowerCase()===e)return null}if(b.isInFlyout)return a;(b=c.getVariable(a,\"\"))&&b.getName()!==a&&c.renameVariableById(b.getId(),a);b||(this.editingInteractively?this.editingVariable?c.renameVariableById(this.editingVariable.getId(),a):this.editingVariable=c.createVariable(a,\"\"):c.createVariable(a,\"\"));return a}};\nblocks$$module$build$src$blocks$procedures.procedures_mutatorarg=PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures;\nvar DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures=\"DISABLED_PROCEDURE_DEFINITION\",PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures={getProcedureCall:function(){return this.getFieldValue(\"NAME\")},renameProcedure:function(a,b){$.Names$$module$build$src$core$names.equals(a,this.getProcedureCall())&&(this.setFieldValue(b,\"NAME\"),this.setTooltip((this.outputConnection?$.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:$.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace(\"%1\",\nb)))},setProcedureParameters_:function(a,b){var c=$.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);(c=(c=c&&c.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&c.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null);if(a.join(\"\\n\")===this.arguments_.join(\"\\n\"))this.quarkIds_=b;else{if(b.length!==a.length)throw RangeError(\"paramNames and paramIds must be the same length.\");this.quarkIds_||(this.quarkConnections_=\n{},this.quarkIds_=[]);for(let e=0;e<this.arguments_.length;e++){var d=this.getInput(\"ARG\"+e);d&&(d=d.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=d,c&&d&&!b.includes(this.quarkIds_[e])&&(d.disconnect(),d.getSourceBlock().bumpNeighbours()))}this.arguments_=[].concat(a);this.argumentVarModels_=[];for(a=0;a<this.arguments_.length;a++)c=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[a],\"\"),this.argumentVarModels_.push(c);this.updateShape_();\nif(this.quarkIds_=b)for(b=0;b<this.arguments_.length;b++)if(a=this.quarkIds_[b],a in this.quarkConnections_){let e;((e=this.quarkConnections_[a])==null?0:e.reconnect(this,\"ARG\"+b))||delete this.quarkConnections_[a]}}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField(\"ARGNAME\"+a);if(b){$.disable$$module$build$src$core$events$utils();try{b.setValue(this.arguments_[a])}finally{$.enable$$module$build$src$core$events$utils()}}else b=$.fromJson$$module$build$src$core$field_registry({type:\"field_label\",\ntext:this.arguments_[a]}),this.appendValueInput(\"ARG\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT).appendField(b,\"ARGNAME\"+a)}for(a=this.arguments_.length;this.getInput(\"ARG\"+a);a++)this.removeInput(\"ARG\"+a);(a=this.getInput(\"TOPROW\"))&&(this.arguments_.length?this.getField(\"WITH\")||a.appendField($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,\"WITH\"):this.getField(\"WITH\")&&a.removeField(\"WITH\"))},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");\na.setAttribute(\"name\",this.getProcedureCall());for(let b=0;b<this.arguments_.length;b++){const c=$.createElement$$module$build$src$core$utils$xml(\"arg\");c.setAttribute(\"name\",this.arguments_[b]);a.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute(\"name\");this.renameProcedure(this.getProcedureCall(),b);b=[];const c=[];for(let d=0,e;e=a.childNodes[d];d++)e.nodeName.toLowerCase()===\"arg\"&&(b.push(e.getAttribute(\"name\")),c.push(e.getAttribute(\"paramId\")));this.setProcedureParameters_(b,\nc)},saveExtraState:function(){const a=Object.create(null);a.name=this.getProcedureCall();this.arguments_.length&&(a.params=this.arguments_);return a},loadExtraState:function(a){this.renameProcedure(this.getProcedureCall(),a.name);if(a=a.params){const b=[];b.length=a.length;b.fill(null);this.setProcedureParameters_(a,b)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(a){if(this.workspace&&!this.workspace.isFlyout&&a.recordUndo)if(a.type===\n$.BLOCK_CREATE$$module$build$src$core$events$events&&a.ids.includes(this.id)){var b=this.getProcedureCall(),c=$.getDefinition$$module$build$src$core$procedures(b,this.workspace);!c||c.type===this.defType_&&JSON.stringify(c.getVars())===JSON.stringify(this.arguments_)||(c=null);if(c)c.isEnabled()||(this.setDisabledReason(!0,DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures),this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace(\"%1\",\nb)));else{$.setGroup$$module$build$src$core$events$utils(a.group);a=$.createElement$$module$build$src$core$utils$xml(\"xml\");b=$.createElement$$module$build$src$core$utils$xml(\"block\");b.setAttribute(\"type\",this.defType_);c=this.getRelativeToSurfaceXY();var d=c.y+$.config$$module$build$src$core$config.snapRadius*2;b.setAttribute(\"x\",`${c.x+$.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`);b.setAttribute(\"y\",`${d}`);c=this.mutationToDom();b.appendChild(c);c=$.createElement$$module$build$src$core$utils$xml(\"field\");\nc.setAttribute(\"name\",\"NAME\");d=this.getProcedureCall();const e=$.findLegalName$$module$build$src$core$procedures(d,this);d!==e&&this.renameProcedure(d,e);c.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));b.appendChild(c);a.appendChild(b);$.domToWorkspace$$module$build$src$core$xml(a,this.workspace);$.setGroup$$module$build$src$core$events$utils(!1)}}else a.type===$.BLOCK_DELETE$$module$build$src$core$events$events?(b=this.getProcedureCall(),$.getDefinition$$module$build$src$core$procedures(b,\nthis.workspace)||($.setGroup$$module$build$src$core$events$utils(a.group),this.dispose(!0),$.setGroup$$module$build$src$core$events$utils(!1))):a.type===$.BLOCK_CHANGE$$module$build$src$core$events$events&&a.element===\"disabled\"&&(b=this.getProcedureCall(),(d=$.getDefinition$$module$build$src$core$procedures(b,this.workspace))&&d.id===a.blockId&&((c=$.getGroup$$module$build$src$core$events$utils())&&console.log(\"Saw an existing group while responding to a definition change\"),$.setGroup$$module$build$src$core$events$utils(a.group),\na=d.isEnabled(),this.setDisabledReason(!a,DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures),this.setWarningText(a?null:$.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace(\"%1\",b)),$.setGroup$$module$build$src$core$events$utils(c)))},customContextMenu:function(a){if(this.workspace.isMovable()){var b=this.getProcedureCall(),c=this.workspace;a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const d=\n$.getDefinition$$module$build$src$core$procedures(b,c);d&&(c.centerOnBlock(d.id),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(d))}})}}};\nblocks$$module$build$src$blocks$procedures.procedures_callnoreturn=Object.assign({},PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures,{init:function(){this.appendDummyInput(\"TOPROW\").appendField(\"\",\"NAME\");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null},defType_:\"procedures_defnoreturn\"});\nblocks$$module$build$src$blocks$procedures.procedures_callreturn=Object.assign({},PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures,{init:function(){this.appendDummyInput(\"TOPROW\").appendField(\"\",\"NAME\");this.setOutput(!0);this.setStyle(\"procedure_blocks\");this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null},defType_:\"procedures_defreturn\"});\nvar UNPARENTED_IFRETURN_DISABLED_REASON$$module$build$src$blocks$procedures=\"UNPARENTED_IFRETURN\",PROCEDURES_IFRETURN$$module$build$src$blocks$procedures={init:function(){this.appendValueInput(\"CONDITION\").setCheck(\"Boolean\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF);this.appendValueInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");\nthis.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP);this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL);this.hasReturnValue_=!0},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"value\",String(Number(this.hasReturnValue_)));return a},domToMutation:function(a){this.hasReturnValue_=a.getAttribute(\"value\")===\"1\";this.hasReturnValue_||(this.removeInput(\"VALUE\"),this.appendDummyInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},\nonchange:function(a){if(!(this.workspace.isDragging&&this.workspace.isDragging()||a.type!==$.BLOCK_MOVE$$module$build$src$core$events$events&&a.type!==$.BLOCK_CREATE$$module$build$src$core$events$events)){a=!1;var b=this;do{if(this.FUNCTION_TYPES.includes(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?(b.type===\"procedures_defnoreturn\"&&this.hasReturnValue_?(this.removeInput(\"VALUE\"),this.appendDummyInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=\n!1):b.type!==\"procedures_defreturn\"||this.hasReturnValue_||(this.removeInput(\"VALUE\"),this.appendValueInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING);if(!this.isInFlyout)try{$.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!a,UNPARENTED_IFRETURN_DISABLED_REASON$$module$build$src$blocks$procedures)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}},\nFUNCTION_TYPES:[\"procedures_defnoreturn\",\"procedures_defreturn\"]};blocks$$module$build$src$blocks$procedures.procedures_ifreturn=PROCEDURES_IFRETURN$$module$build$src$blocks$procedures;$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$procedures);var module$build$src$blocks$procedures={blocks:blocks$$module$build$src$blocks$procedures};var blocks$$module$build$src$blocks$math=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"math_number\",message0:\"%1\",args0:[{type:\"field_number\",name:\"NUM\",value:0}],output:\"Number\",helpUrl:\"%{BKY_MATH_NUMBER_HELPURL}\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_NUMBER_TOOLTIP}\",extensions:[\"parent_tooltip_when_inline\"]},{type:\"math_arithmetic\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\",check:\"Number\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ADDITION_SYMBOL}\",\n\"ADD\"],[\"%{BKY_MATH_SUBTRACTION_SYMBOL}\",\"MINUS\"],[\"%{BKY_MATH_MULTIPLICATION_SYMBOL}\",\"MULTIPLY\"],[\"%{BKY_MATH_DIVISION_SYMBOL}\",\"DIVIDE\"],[\"%{BKY_MATH_POWER_SYMBOL}\",\"POWER\"]]},{type:\"input_value\",name:\"B\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ARITHMETIC_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_single\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_SINGLE_OP_ROOT}\",\"ROOT\"],[\"%{BKY_MATH_SINGLE_OP_ABSOLUTE}\",\n\"ABS\"],[\"-\",\"NEG\"],[\"ln\",\"LN\"],[\"log10\",\"LOG10\"],[\"e^\",\"EXP\"],[\"10^\",\"POW10\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_SINGLE_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_trig\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_TRIG_SIN}\",\"SIN\"],[\"%{BKY_MATH_TRIG_COS}\",\"COS\"],[\"%{BKY_MATH_TRIG_TAN}\",\"TAN\"],[\"%{BKY_MATH_TRIG_ASIN}\",\"ASIN\"],[\"%{BKY_MATH_TRIG_ACOS}\",\"ACOS\"],[\"%{BKY_MATH_TRIG_ATAN}\",\n\"ATAN\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_TRIG_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_constant\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"CONSTANT\",options:[[\"\\u03c0\",\"PI\"],[\"e\",\"E\"],[\"\\u03c6\",\"GOLDEN_RATIO\"],[\"sqrt(2)\",\"SQRT2\"],[\"sqrt(\\u00bd)\",\"SQRT1_2\"],[\"\\u221e\",\"INFINITY\"]]}],output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_CONSTANT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_CONSTANT_HELPURL}\"},{type:\"math_number_property\",\nmessage0:\"%1 %2\",args0:[{type:\"input_value\",name:\"NUMBER_TO_CHECK\",check:\"Number\"},{type:\"field_dropdown\",name:\"PROPERTY\",options:[[\"%{BKY_MATH_IS_EVEN}\",\"EVEN\"],[\"%{BKY_MATH_IS_ODD}\",\"ODD\"],[\"%{BKY_MATH_IS_PRIME}\",\"PRIME\"],[\"%{BKY_MATH_IS_WHOLE}\",\"WHOLE\"],[\"%{BKY_MATH_IS_POSITIVE}\",\"POSITIVE\"],[\"%{BKY_MATH_IS_NEGATIVE}\",\"NEGATIVE\"],[\"%{BKY_MATH_IS_DIVISIBLE_BY}\",\"DIVISIBLE_BY\"]]}],inputsInline:!0,output:\"Boolean\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_IS_TOOLTIP}\",mutator:\"math_is_divisibleby_mutator\"},\n{type:\"math_change\",message0:\"%{BKY_MATH_CHANGE_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_MATH_CHANGE_TITLE_ITEM}\"},{type:\"input_value\",name:\"DELTA\",check:\"Number\"}],previousStatement:null,nextStatement:null,style:\"variable_blocks\",helpUrl:\"%{BKY_MATH_CHANGE_HELPURL}\",extensions:[\"math_change_tooltip\"]},{type:\"math_round\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ROUND_OPERATOR_ROUND}\",\"ROUND\"],[\"%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}\",\"ROUNDUP\"],\n[\"%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}\",\"ROUNDDOWN\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ROUND_HELPURL}\",tooltip:\"%{BKY_MATH_ROUND_TOOLTIP}\"},{type:\"math_on_list\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ONLIST_OPERATOR_SUM}\",\"SUM\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MIN}\",\"MIN\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MAX}\",\"MAX\"],[\"%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}\",\"AVERAGE\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}\",\n\"MEDIAN\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MODE}\",\"MODE\"],[\"%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}\",\"STD_DEV\"],[\"%{BKY_MATH_ONLIST_OPERATOR_RANDOM}\",\"RANDOM\"]]},{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ONLIST_HELPURL}\",mutator:\"math_modes_of_list_mutator\",extensions:[\"math_op_tooltip\"]},{type:\"math_modulo\",message0:\"%{BKY_MATH_MODULO_TITLE}\",args0:[{type:\"input_value\",name:\"DIVIDEND\",check:\"Number\"},{type:\"input_value\",name:\"DIVISOR\",check:\"Number\"}],\ninputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_MODULO_TOOLTIP}\",helpUrl:\"%{BKY_MATH_MODULO_HELPURL}\"},{type:\"math_constrain\",message0:\"%{BKY_MATH_CONSTRAIN_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"Number\"},{type:\"input_value\",name:\"LOW\",check:\"Number\"},{type:\"input_value\",name:\"HIGH\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_CONSTRAIN_TOOLTIP}\",helpUrl:\"%{BKY_MATH_CONSTRAIN_HELPURL}\"},{type:\"math_random_int\",message0:\"%{BKY_MATH_RANDOM_INT_TITLE}\",\nargs0:[{type:\"input_value\",name:\"FROM\",check:\"Number\"},{type:\"input_value\",name:\"TO\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_RANDOM_INT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_RANDOM_INT_HELPURL}\"},{type:\"math_random_float\",message0:\"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}\",output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_RANDOM_FLOAT_HELPURL}\"},{type:\"math_atan2\",message0:\"%{BKY_MATH_ATAN2_TITLE}\",args0:[{type:\"input_value\",\nname:\"X\",check:\"Number\"},{type:\"input_value\",name:\"Y\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_ATAN2_TOOLTIP}\",helpUrl:\"%{BKY_MATH_ATAN2_HELPURL}\"}]),TOOLTIPS_BY_OP$$module$build$src$blocks$math={ADD:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}\",MINUS:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}\",MULTIPLY:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}\",DIVIDE:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}\",POWER:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}\",ROOT:\"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}\",\nABS:\"%{BKY_MATH_SINGLE_TOOLTIP_ABS}\",NEG:\"%{BKY_MATH_SINGLE_TOOLTIP_NEG}\",LN:\"%{BKY_MATH_SINGLE_TOOLTIP_LN}\",LOG10:\"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}\",EXP:\"%{BKY_MATH_SINGLE_TOOLTIP_EXP}\",POW10:\"%{BKY_MATH_SINGLE_TOOLTIP_POW10}\",SIN:\"%{BKY_MATH_TRIG_TOOLTIP_SIN}\",COS:\"%{BKY_MATH_TRIG_TOOLTIP_COS}\",TAN:\"%{BKY_MATH_TRIG_TOOLTIP_TAN}\",ASIN:\"%{BKY_MATH_TRIG_TOOLTIP_ASIN}\",ACOS:\"%{BKY_MATH_TRIG_TOOLTIP_ACOS}\",ATAN:\"%{BKY_MATH_TRIG_TOOLTIP_ATAN}\",SUM:\"%{BKY_MATH_ONLIST_TOOLTIP_SUM}\",MIN:\"%{BKY_MATH_ONLIST_TOOLTIP_MIN}\",\nMAX:\"%{BKY_MATH_ONLIST_TOOLTIP_MAX}\",AVERAGE:\"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}\",MEDIAN:\"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}\",MODE:\"%{BKY_MATH_ONLIST_TOOLTIP_MODE}\",STD_DEV:\"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}\",RANDOM:\"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}\"};$.register$$module$build$src$core$extensions(\"math_op_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\",TOOLTIPS_BY_OP$$module$build$src$blocks$math));\nvar IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math={mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\"),b=this.getFieldValue(\"PROPERTY\")===\"DIVISIBLE_BY\";a.setAttribute(\"divisor_input\",String(b));return a},domToMutation:function(a){a=a.getAttribute(\"divisor_input\")===\"true\";this.updateShape_(a)},updateShape_:function(a){const b=this.getInput(\"DIVISOR\");a?b||this.appendValueInput(\"DIVISOR\").setCheck(\"Number\"):b&&this.removeInput(\"DIVISOR\")}},IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math=\nfunction(){this.getField(\"PROPERTY\").setValidator(function(a){a=a===\"DIVISIBLE_BY\";this.getSourceBlock().updateShape_(a)})};$.registerMutator$$module$build$src$core$extensions(\"math_is_divisibleby_mutator\",IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math,IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math);$.register$$module$build$src$core$extensions(\"math_change_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_MATH_CHANGE_TOOLTIP}\",\"VAR\"));\nvar LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math={updateType_:function(a){a===\"MODE\"?this.outputConnection.setCheck(\"Array\"):this.outputConnection.setCheck(\"Number\")},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"op\",this.getFieldValue(\"OP\"));return a},domToMutation:function(a){a=a.getAttribute(\"op\");if(a===null)throw new TypeError(\"xmlElement had no op attribute\");this.updateType_(a)}},LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math=\nfunction(){this.getField(\"OP\").setValidator(function(a){this.updateType_(a)}.bind(this))};$.registerMutator$$module$build$src$core$extensions(\"math_modes_of_list_mutator\",LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math,LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$math);var module$build$src$blocks$math={blocks:blocks$$module$build$src$blocks$math};var blocks$$module$build$src$blocks$loops=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"controls_repeat_ext\",message0:\"%{BKY_CONTROLS_REPEAT_TITLE}\",args0:[{type:\"input_value\",name:\"TIMES\",check:\"Number\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",tooltip:\"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",helpUrl:\"%{BKY_CONTROLS_REPEAT_HELPURL}\"},{type:\"controls_repeat\",message0:\"%{BKY_CONTROLS_REPEAT_TITLE}\",\nargs0:[{type:\"field_number\",name:\"TIMES\",value:10,min:0,precision:1}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",tooltip:\"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",helpUrl:\"%{BKY_CONTROLS_REPEAT_HELPURL}\"},{type:\"controls_whileUntil\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"MODE\",options:[[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}\",\"WHILE\"],[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}\",\"UNTIL\"]]},\n{type:\"input_value\",name:\"BOOL\",check:\"Boolean\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}\",extensions:[\"controls_whileUntil_tooltip\"]},{type:\"controls_for\",message0:\"%{BKY_CONTROLS_FOR_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:null},{type:\"input_value\",name:\"FROM\",check:\"Number\",align:\"RIGHT\"},{type:\"input_value\",name:\"TO\",check:\"Number\",\nalign:\"RIGHT\"},{type:\"input_value\",name:\"BY\",check:\"Number\",align:\"RIGHT\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FOR_HELPURL}\",extensions:[\"contextMenu_newGetVariableBlock\",\"controls_for_tooltip\"]},{type:\"controls_forEach\",message0:\"%{BKY_CONTROLS_FOREACH_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:null},{type:\"input_value\",name:\"LIST\",\ncheck:\"Array\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FOREACH_HELPURL}\",extensions:[\"contextMenu_newGetVariableBlock\",\"controls_forEach_tooltip\"]},{type:\"controls_flow_statements\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"FLOW\",options:[[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}\",\"BREAK\"],[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}\",\"CONTINUE\"]]}],\npreviousStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}\",suppressPrefixSuffix:!0,extensions:[\"controls_flow_tooltip\",\"controls_flow_in_loop_check\"]}]),WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops={WHILE:\"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}\",UNTIL:\"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}\"};$.register$$module$build$src$core$extensions(\"controls_whileUntil_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"MODE\",WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops));\nvar BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops={BREAK:\"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}\",CONTINUE:\"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}\"};$.register$$module$build$src$core$extensions(\"controls_flow_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"FLOW\",BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops));\nvar CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getField(\"VAR\"),c=b.getVariable().getName();this.isCollapsed()||c===null||(b={type:\"variables_get\",fields:{VAR:b.saveState(!0)}},a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace(\"%1\",c),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)}))}}};\n$.registerMixin$$module$build$src$core$extensions(\"contextMenu_newGetVariableBlock\",CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops);$.register$$module$build$src$core$extensions(\"controls_for_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_CONTROLS_FOR_TOOLTIP}\",\"VAR\"));$.register$$module$build$src$core$extensions(\"controls_forEach_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_CONTROLS_FOREACH_TOOLTIP}\",\"VAR\"));\nvar loopTypes$$module$build$src$blocks$loops=new Set([\"controls_repeat\",\"controls_repeat_ext\",\"controls_forEach\",\"controls_for\",\"controls_whileUntil\"]),CONTROL_FLOW_NOT_IN_LOOP_DISABLED_REASON$$module$build$src$blocks$loops=\"CONTROL_FLOW_NOT_IN_LOOP\",CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops={getSurroundLoop:function(){let a=this;do{if(loopTypes$$module$build$src$blocks$loops.has(a.type))return a;a=a.getSurroundParent()}while(a);return null},onchange:function(a){const b=this.workspace;\nif(b.isDragging&&!b.isDragging()&&(a.type===$.BLOCK_MOVE$$module$build$src$core$events$events||a.type===$.BLOCK_CREATE$$module$build$src$core$events$events)&&(a=!!this.getSurroundLoop(),this.setWarningText(a?null:$.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{$.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!a,CONTROL_FLOW_NOT_IN_LOOP_DISABLED_REASON$$module$build$src$blocks$loops)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}};\n$.registerMixin$$module$build$src$core$extensions(\"controls_flow_in_loop_check\",CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$loops);var module$build$src$blocks$loops={blocks:blocks$$module$build$src$blocks$loops,loopTypes:loopTypes$$module$build$src$blocks$loops};var blocks$$module$build$src$blocks$logic=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"logic_boolean\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"BOOL\",options:[[\"%{BKY_LOGIC_BOOLEAN_TRUE}\",\"TRUE\"],[\"%{BKY_LOGIC_BOOLEAN_FALSE}\",\"FALSE\"]]}],output:\"Boolean\",style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_BOOLEAN_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_BOOLEAN_HELPURL}\"},{type:\"controls_if\",message0:\"%{BKY_CONTROLS_IF_MSG_IF} %1\",args0:[{type:\"input_value\",name:\"IF0\",check:\"Boolean\"}],\nmessage1:\"%{BKY_CONTROLS_IF_MSG_THEN} %1\",args1:[{type:\"input_statement\",name:\"DO0\"}],previousStatement:null,nextStatement:null,style:\"logic_blocks\",helpUrl:\"%{BKY_CONTROLS_IF_HELPURL}\",suppressPrefixSuffix:!0,mutator:\"controls_if_mutator\",extensions:[\"controls_if_tooltip\"]},{type:\"controls_ifelse\",message0:\"%{BKY_CONTROLS_IF_MSG_IF} %1\",args0:[{type:\"input_value\",name:\"IF0\",check:\"Boolean\"}],message1:\"%{BKY_CONTROLS_IF_MSG_THEN} %1\",args1:[{type:\"input_statement\",name:\"DO0\"}],message2:\"%{BKY_CONTROLS_IF_MSG_ELSE} %1\",\nargs2:[{type:\"input_statement\",name:\"ELSE\"}],previousStatement:null,nextStatement:null,style:\"logic_blocks\",tooltip:\"%{BKYCONTROLS_IF_TOOLTIP_2}\",helpUrl:\"%{BKY_CONTROLS_IF_HELPURL}\",suppressPrefixSuffix:!0,extensions:[\"controls_if_tooltip\"]},{type:\"logic_compare\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"=\",\"EQ\"],[\"\\u2260\",\"NEQ\"],[\"\\u200f<\",\"LT\"],[\"\\u200f\\u2264\",\"LTE\"],[\"\\u200f>\",\"GT\"],[\"\\u200f\\u2265\",\"GTE\"]]},{type:\"input_value\",name:\"B\"}],\ninputsInline:!0,output:\"Boolean\",style:\"logic_blocks\",helpUrl:\"%{BKY_LOGIC_COMPARE_HELPURL}\",extensions:[\"logic_compare\",\"logic_op_tooltip\"]},{type:\"logic_operation\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\",check:\"Boolean\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_LOGIC_OPERATION_AND}\",\"AND\"],[\"%{BKY_LOGIC_OPERATION_OR}\",\"OR\"]]},{type:\"input_value\",name:\"B\",check:\"Boolean\"}],inputsInline:!0,output:\"Boolean\",style:\"logic_blocks\",helpUrl:\"%{BKY_LOGIC_OPERATION_HELPURL}\",extensions:[\"logic_op_tooltip\"]},\n{type:\"logic_negate\",message0:\"%{BKY_LOGIC_NEGATE_TITLE}\",args0:[{type:\"input_value\",name:\"BOOL\",check:\"Boolean\"}],output:\"Boolean\",style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_NEGATE_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_NEGATE_HELPURL}\"},{type:\"logic_null\",message0:\"%{BKY_LOGIC_NULL}\",output:null,style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_NULL_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_NULL_HELPURL}\"},{type:\"logic_ternary\",message0:\"%{BKY_LOGIC_TERNARY_CONDITION} %1\",args0:[{type:\"input_value\",name:\"IF\",check:\"Boolean\"}],\nmessage1:\"%{BKY_LOGIC_TERNARY_IF_TRUE} %1\",args1:[{type:\"input_value\",name:\"THEN\"}],message2:\"%{BKY_LOGIC_TERNARY_IF_FALSE} %1\",args2:[{type:\"input_value\",name:\"ELSE\"}],output:null,style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_TERNARY_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_TERNARY_HELPURL}\",extensions:[\"logic_ternary\"]},{type:\"controls_if_if\",message0:\"%{BKY_CONTROLS_IF_IF_TITLE_IF}\",nextStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_IF_TOOLTIP}\"},{type:\"controls_if_elseif\",\nmessage0:\"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}\",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}\"},{type:\"controls_if_else\",message0:\"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}\",previousStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}\"}]),TOOLTIPS_BY_OP$$module$build$src$blocks$logic={EQ:\"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}\",NEQ:\"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}\",LT:\"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}\",\nLTE:\"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}\",GT:\"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}\",GTE:\"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}\",AND:\"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}\",OR:\"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}\"};$.register$$module$build$src$core$extensions(\"logic_op_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\",TOOLTIPS_BY_OP$$module$build$src$blocks$logic));\nvar CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");this.elseifCount_&&a.setAttribute(\"elseif\",String(this.elseifCount_));this.elseCount_&&a.setAttribute(\"else\",\"1\");return a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute(\"elseif\"),10)||0;this.elseCount_=parseInt(a.getAttribute(\"else\"),10)||0;this.rebuildShape_()},\nsaveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const a=Object.create(null);this.elseifCount_&&(a.elseIfCount=this.elseifCount_);this.elseCount_&&(a.hasElse=!0);return a},loadExtraState:function(a){this.elseifCount_=a.elseIfCount||0;this.elseCount_=a.hasElse?1:0;this.updateShape_()},decompose:function(a){const b=a.newBlock(\"controls_if_if\");b.initSvg();let c=b.nextConnection;for(let d=1;d<=this.elseifCount_;d++){const e=a.newBlock(\"controls_if_elseif\");e.initSvg();c.connect(e.previousConnection);\nc=e.nextConnection}this.elseCount_&&(a=a.newBlock(\"controls_if_else\"),a.initSvg(),c.connect(a.previousConnection));return b},compose:function(a){a=a.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0;const b=[null],c=[null];let d=null;for(;a;){if(!a.isInsertionMarker())switch(a.type){case \"controls_if_elseif\":this.elseifCount_++;b.push(a.valueConnection_);c.push(a.statementConnection_);break;case \"controls_if_else\":this.elseCount_++;d=a.statementConnection_;break;default:throw TypeError(\"Unknown block type: \"+\na.type);}a=a.getNextBlock()}this.updateShape_();this.reconnectChildBlocks_(b,c,d)},saveConnections:function(a){a=a.nextConnection.targetBlock();let b=1;for(;a;){if(!a.isInsertionMarker())switch(a.type){case \"controls_if_elseif\":var c=this.getInput(\"IF\"+b);const d=this.getInput(\"DO\"+b);a.valueConnection_=c&&c.connection.targetConnection;a.statementConnection_=d&&d.connection.targetConnection;b++;break;case \"controls_if_else\":c=this.getInput(\"ELSE\");a.statementConnection_=c&&c.connection.targetConnection;\nbreak;default:throw TypeError(\"Unknown block type: \"+a.type);}a=a.getNextBlock()}},rebuildShape_:function(){const a=[null],b=[null];let c=null;this.getInput(\"ELSE\")&&(c=this.getInput(\"ELSE\").connection.targetConnection);for(let d=1;this.getInput(\"IF\"+d);d++){const e=this.getInput(\"IF\"+d),f=this.getInput(\"DO\"+d);a.push(e.connection.targetConnection);b.push(f.connection.targetConnection)}this.updateShape_();this.reconnectChildBlocks_(a,b,c)},updateShape_:function(){this.getInput(\"ELSE\")&&this.removeInput(\"ELSE\");\nfor(var a=1;this.getInput(\"IF\"+a);a++)this.removeInput(\"IF\"+a),this.removeInput(\"DO\"+a);for(a=1;a<=this.elseifCount_;a++)this.appendValueInput(\"IF\"+a).setCheck(\"Boolean\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput(\"DO\"+a).appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput(\"ELSE\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(a,b,c){for(let d=\n1;d<=this.elseifCount_;d++){let e;(e=a[d])==null||e.reconnect(this,\"IF\"+d);let f;(f=b[d])==null||f.reconnect(this,\"DO\"+d)}c==null||c.reconnect(this,\"ELSE\")}};$.registerMutator$$module$build$src$core$extensions(\"controls_if_mutator\",CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic,null,[\"controls_if_elseif\",\"controls_if_else\"]);\nvar CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;\nreturn\"\"}.bind(this))};$.register$$module$build$src$core$extensions(\"controls_if_tooltip\",CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic);\nvar LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic={onchange:function(a){this.prevBlocks_||(this.prevBlocks_=[null,null]);var b=this.getInputTargetBlock(\"A\");const c=this.getInputTargetBlock(\"B\");b&&c&&!this.workspace.connectionChecker.doTypeChecks(b.outputConnection,c.outputConnection)&&($.setGroup$$module$build$src$core$events$utils(a.group),a=this.prevBlocks_[0],a!==b&&(b.unplug(),!a||a.isDisposed()||a.isShadow()||this.getInput(\"A\").connection.connect(a.outputConnection)),b=this.prevBlocks_[1],\nb!==c&&(c.unplug(),!b||b.isDisposed()||b.isShadow()||this.getInput(\"B\").connection.connect(b.outputConnection)),this.bumpNeighbours(),$.setGroup$$module$build$src$core$events$utils(!1));this.prevBlocks_[0]=this.getInputTargetBlock(\"A\");this.prevBlocks_[1]=this.getInputTargetBlock(\"B\")}},LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic=function(){this.mixin(LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic)};$.register$$module$build$src$core$extensions(\"logic_compare\",LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic);\nvar LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic={prevParentConnection_:null,onchange:function(a){const b=this.getInputTargetBlock(\"THEN\"),c=this.getInputTargetBlock(\"ELSE\"),d=this.outputConnection.targetConnection;if((b||c)&&d)for(let e=0;e<2;e++){const f=e===1?b:c;f&&!f.workspace.connectionChecker.doTypeChecks(f.outputConnection,d)&&($.setGroup$$module$build$src$core$events$utils(a.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours()):(f.unplug(),\nf.bumpNeighbours()),$.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=d}};$.registerMixin$$module$build$src$core$extensions(\"logic_ternary\",LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$logic);var module$build$src$blocks$logic={blocks:blocks$$module$build$src$blocks$logic};var blocks$$module$build$src$blocks$lists=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"lists_create_empty\",message0:\"%{BKY_LISTS_CREATE_EMPTY_TITLE}\",output:\"Array\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_CREATE_EMPTY_HELPURL}\"},{type:\"lists_repeat\",message0:\"%{BKY_LISTS_REPEAT_TITLE}\",args0:[{type:\"input_value\",name:\"ITEM\"},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Array\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_REPEAT_TOOLTIP}\",\nhelpUrl:\"%{BKY_LISTS_REPEAT_HELPURL}\"},{type:\"lists_reverse\",message0:\"%{BKY_LISTS_REVERSE_MESSAGE0}\",args0:[{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Array\",inputsInline:!0,style:\"list_blocks\",tooltip:\"%{BKY_LISTS_REVERSE_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_REVERSE_HELPURL}\"},{type:\"lists_isEmpty\",message0:\"%{BKY_LISTS_ISEMPTY_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Boolean\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_ISEMPTY_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_ISEMPTY_HELPURL}\"},\n{type:\"lists_length\",message0:\"%{BKY_LISTS_LENGTH_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Number\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_LENGTH_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_LENGTH_HELPURL}\"}]),LISTS_CREATE_WITH$$module$build$src$blocks$lists={init:function(){this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL);this.setStyle(\"list_blocks\");this.itemCount_=3;this.updateShape_();this.setOutput(!0,\"Array\");this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"lists_create_with_item\"],\nthis));this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"items\",String(this.itemCount_));return a},domToMutation:function(a){a=a.getAttribute(\"items\");if(!a)throw new TypeError(\"element did not have items\");this.itemCount_=parseInt(a,10);this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount;\nthis.updateShape_()},decompose:function(a){const b=a.newBlock(\"lists_create_with_container\");b.initSvg();let c=b.getInput(\"STACK\").connection;for(let d=0;d<this.itemCount_;d++){const e=a.newBlock(\"lists_create_with_item\");e.initSvg();if(!e.previousConnection)throw Error(\"itemBlock has no previousConnection\");c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock(\"STACK\");for(a=[];b;)b.isInsertionMarker()||a.push(b.valueConnection_),b=b.getNextBlock();\nfor(b=0;b<this.itemCount_;b++){const c=this.getInput(\"ADD\"+b).connection.targetConnection;c&&!a.includes(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++){let c;(c=a[b])==null||c.reconnect(this,\"ADD\"+b)}},saveConnections:function(a){a=a.getInputTargetBlock(\"STACK\");let b=0;for(;a;){if(a.isInsertionMarker()){a=a.getNextBlock();continue}const c=this.getInput(\"ADD\"+b);let d;a.valueConnection_=(d=c)==null?void 0:d.connection.targetConnection;a=a.getNextBlock();\nb++}},updateShape_:function(){this.itemCount_&&this.getInput(\"EMPTY\")?this.removeInput(\"EMPTY\"):this.itemCount_||this.getInput(\"EMPTY\")||this.appendDummyInput(\"EMPTY\").appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput(\"ADD\"+a)){const b=this.appendValueInput(\"ADD\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);a===0&&b.appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(a=this.itemCount_;this.getInput(\"ADD\"+\na);a++)this.removeInput(\"ADD\"+a)}};blocks$$module$build$src$blocks$lists.lists_create_with=LISTS_CREATE_WITH$$module$build$src$blocks$lists;var LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists={init:function(){this.setStyle(\"list_blocks\");this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.appendStatementInput(\"STACK\");this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};\nblocks$$module$build$src$blocks$lists.lists_create_with_container=LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists;var LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists={init:function(){this.setStyle(\"list_blocks\");this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};\nblocks$$module$build$src$blocks$lists.lists_create_with_item=LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists;\nvar LISTS_INDEXOF$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,\"FIRST\"],[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL);this.setStyle(\"list_blocks\");this.setOutput(!0,\"Number\");this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",\noptions:a});if(!a)throw Error(\"field_dropdown not found\");this.appendValueInput(\"FIND\").appendField(a,\"END\");this.setInputsInline(!0);this.setTooltip(()=>$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\"0\":\"-1\"))}};blocks$$module$build$src$blocks$lists.lists_indexOf=LISTS_INDEXOF$$module$build$src$blocks$lists;\nvar LISTS_GETINDEX$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,\"GET\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,\"GET_REMOVE\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,\"REMOVE\"]];this.WHERE_OPTIONS=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,\"FIRST\"],\n[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,\"LAST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,\"RANDOM\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL);this.setStyle(\"list_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});a.setValidator(function(b){b=b===\"REMOVE\";this.getSourceBlock().updateStatement_(b)});this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST);\nthis.appendDummyInput().appendField(a,\"MODE\").appendField(\"\",\"SPACE\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this.WHERE_OPTIONS});a.setValidator(function(b){const c=this.getValue();b=b===\"FROM_START\"||b===\"FROM_END\";b!==(c===\"FROM_START\"||c===\"FROM_END\")&&this.getSourceBlock().updateAt_(b)});this.appendDummyInput().appendField(a,\"WHERE\");this.appendDummyInput(\"AT\");$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL);\nthis.setInputsInline(!0);this.setOutput(!0);this.updateAt_(!0);this.setTooltip(()=>{const b=this.getFieldValue(\"MODE\"),c=this.getFieldValue(\"WHERE\");let d=\"\";switch(b+\" \"+c){case \"GET FROM_START\":case \"GET FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case \"GET FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case \"GET LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case \"GET RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;\nbreak;case \"GET_REMOVE FROM_START\":case \"GET_REMOVE FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case \"GET_REMOVE FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case \"GET_REMOVE LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case \"GET_REMOVE RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case \"REMOVE FROM_START\":case \"REMOVE FROM_END\":d=\n$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case \"REMOVE FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case \"REMOVE LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case \"REMOVE RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if(c===\"FROM_START\"||c===\"FROM_END\")d+=\"  \"+(c===\"FROM_START\"?$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace(\"%1\",\nthis.workspace.options.oneBasedIndex?\"#1\":\"#0\");return d})},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"statement\",String(!this.outputConnection));const b=this.getInput(\"AT\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at\",String(b));return a},domToMutation:function(a){const b=a.getAttribute(\"statement\")===\"true\";this.updateStatement_(b);a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},saveExtraState:function(){return this.outputConnection?\nnull:{isStatement:!0}},loadExtraState:function(a){a.isStatement?this.updateStatement_(!0):typeof a===\"string\"&&this.domToMutation($.textToDom$$module$build$src$core$utils$xml(a))},updateStatement_:function(a){a!==!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput(\"AT\");this.removeInput(\"ORDINAL\",!0);a?(this.appendValueInput(\"AT\").setCheck(\"Number\"),\n$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\");$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore(\"TAIL\",null)}};blocks$$module$build$src$blocks$lists.lists_getIndex=LISTS_GETINDEX$$module$build$src$blocks$lists;\nvar LISTS_SETINDEX$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,\"SET\"],[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,\"INSERT\"]];this.WHERE_OPTIONS=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,\"FIRST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,\"LAST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,\n\"RANDOM\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});this.appendDummyInput().appendField(a,\"MODE\").appendField(\"\",\"SPACE\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this.WHERE_OPTIONS});a.setValidator(function(b){const c=\nthis.getValue();b=b===\"FROM_START\"||b===\"FROM_END\";b!==(c===\"FROM_START\"||c===\"FROM_END\")&&this.getSourceBlock().updateAt_(b)});this.appendDummyInput().appendField(a,\"WHERE\");this.appendDummyInput(\"AT\");this.appendValueInput(\"TO\").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP);this.updateAt_(!0);this.setTooltip(()=>{const b=\nthis.getFieldValue(\"MODE\"),c=this.getFieldValue(\"WHERE\");let d=\"\";switch(b+\" \"+c){case \"SET FROM_START\":case \"SET FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case \"SET FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case \"SET LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case \"SET RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case \"INSERT FROM_START\":case \"INSERT FROM_END\":d=\n$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case \"INSERT FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case \"INSERT LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case \"INSERT RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if(c===\"FROM_START\"||c===\"FROM_END\")d+=\"  \"+$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\n\"#1\":\"#0\");return d})},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\"),b=this.getInput(\"AT\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at\",String(b));return a},domToMutation:function(a){a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(a){this.removeInput(\"AT\");this.removeInput(\"ORDINAL\",!0);a?(this.appendValueInput(\"AT\").setCheck(\"Number\"),\n$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\");this.moveInputBefore(\"AT\",\"TO\");this.getInput(\"ORDINAL\")&&this.moveInputBefore(\"ORDINAL\",\"TO\")}};blocks$$module$build$src$blocks$lists.lists_setIndex=LISTS_SETINDEX$$module$build$src$blocks$lists;\nvar LISTS_GETSUBLIST$$module$build$src$blocks$lists={init:function(){this.WHERE_OPTIONS_1=[[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,\"FIRST\"]];this.WHERE_OPTIONS_2=[[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,\"FROM_END\"],\n[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const a=b=>{const c=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this[\"WHERE_OPTIONS_\"+b]});c.setValidator(function(d){const e=this.getValue();d=d===\"FROM_START\"||d===\n\"FROM_END\";d!==(e===\"FROM_START\"||e===\"FROM_END\")&&this.getSourceBlock().updateAt_(b,d)});return c};this.appendDummyInput(\"WHERE1_INPUT\").appendField(a(1),\"WHERE1\");this.appendDummyInput(\"AT1\");this.appendDummyInput(\"WHERE2_INPUT\").appendField(a(2),\"WHERE2\");this.appendDummyInput(\"AT2\");$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL);this.setInputsInline(!0);this.setOutput(!0,\"Array\");this.updateAt_(1,\n!0);this.updateAt_(2,!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");var b=this.getInput(\"AT1\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at1\",String(b));b=this.getInput(\"AT2\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at2\",String(b));return a},domToMutation:function(a){const b=a.getAttribute(\"at1\")===\n\"true\";a=a.getAttribute(\"at2\")===\"true\";this.updateAt_(1,b);this.updateAt_(2,a)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(a,b){this.removeInput(\"AT\"+a);this.removeInput(\"ORDINAL\"+a,!0);b?(this.appendValueInput(\"AT\"+a).setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\"+a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\"+a);a===1&&(this.moveInputBefore(\"AT1\",\n\"WHERE2_INPUT\"),this.getInput(\"ORDINAL1\")&&this.moveInputBefore(\"ORDINAL1\",\"WHERE2_INPUT\"));$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore(\"TAIL\",null)}};blocks$$module$build$src$blocks$lists.lists_getSublist=LISTS_GETSUBLIST$$module$build$src$blocks$lists;\nblocks$$module$build$src$blocks$lists.lists_sort={init:function(){this.jsonInit({message0:\"%{BKY_LISTS_SORT_TITLE}\",args0:[{type:\"field_dropdown\",name:\"TYPE\",options:[[\"%{BKY_LISTS_SORT_TYPE_NUMERIC}\",\"NUMERIC\"],[\"%{BKY_LISTS_SORT_TYPE_TEXT}\",\"TEXT\"],[\"%{BKY_LISTS_SORT_TYPE_IGNORECASE}\",\"IGNORE_CASE\"]]},{type:\"field_dropdown\",name:\"DIRECTION\",options:[[\"%{BKY_LISTS_SORT_ORDER_ASCENDING}\",\"1\"],[\"%{BKY_LISTS_SORT_ORDER_DESCENDING}\",\"-1\"]]},{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Array\",\nstyle:\"list_blocks\",tooltip:\"%{BKY_LISTS_SORT_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_SORT_HELPURL}\"})}};\nblocks$$module$build$src$blocks$lists.lists_split={init:function(){const a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:[[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,\"SPLIT\"],[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,\"JOIN\"]]});if(!a)throw Error(\"field_dropdown not found\");a.setValidator(b=>{this.updateType_(b)});this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"INPUT\").setCheck(\"String\").appendField(a,\n\"MODE\");this.appendValueInput(\"DELIM\").setCheck(\"String\").appendField($.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER);this.setInputsInline(!0);this.setOutput(!0,\"Array\");this.setTooltip(()=>{const b=this.getFieldValue(\"MODE\");if(b===\"SPLIT\")return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(b===\"JOIN\")return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error(\"Unknown mode: \"+b);})},updateType_:function(a){if(this.getFieldValue(\"MODE\")!==a){const b=\nthis.getInput(\"INPUT\").connection;b.setShadowDom(null);const c=b.targetBlock();c&&(b.disconnect(),c.isShadow()?c.dispose(!1):this.bumpNeighbours())}a===\"SPLIT\"?(this.outputConnection.setCheck(\"Array\"),this.getInput(\"INPUT\").setCheck(\"String\")):(this.outputConnection.setCheck(\"String\"),this.getInput(\"INPUT\").setCheck(\"Array\"))},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"mode\",this.getFieldValue(\"MODE\"));return a},domToMutation:function(a){this.updateType_(a.getAttribute(\"mode\"))},\nsaveExtraState:function(){return{mode:this.getFieldValue(\"MODE\")}},loadExtraState:function(a){this.updateType_(a.mode)}};$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$lists);var module$build$src$blocks$lists={blocks:blocks$$module$build$src$blocks$lists};var blocks$$module$build$src$blocks$blocks=Object.assign({},blocks$$module$build$src$blocks$lists,blocks$$module$build$src$blocks$logic,blocks$$module$build$src$blocks$loops,blocks$$module$build$src$blocks$math,blocks$$module$build$src$blocks$procedures,blocks$$module$build$src$blocks$text,blocks$$module$build$src$blocks$variables,blocks$$module$build$src$blocks$variables_dynamic),module$build$src$blocks$blocks={blocks:blocks$$module$build$src$blocks$blocks,lists:module$build$src$blocks$lists,logic:module$build$src$blocks$logic,\nloops:module$build$src$blocks$loops,math:module$build$src$blocks$math,procedures:module$build$src$blocks$procedures,texts:module$build$src$blocks$text,variables:module$build$src$blocks$variables,variablesDynamic:module$build$src$blocks$variables_dynamic};\nmodule$build$src$blocks$blocks.__namespace__=$;\nreturn module$build$src$blocks$blocks;\n}));\n\n\n//# sourceMappingURL=blocks_compressed.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9ibG9ja3NfY29tcHJlc3NlZC5qcyIsIm1hcHBpbmdzIjoiQUFBQSwwSEFBMEI7O0FBRTFCO0FBQ0EsQ0FBQztBQUNELE1BQU0sSUFBMEMsSUFBSTtBQUNwRCxJQUFJLGlDQUFPLENBQUMsa0dBQXlCLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxrR0FBQztBQUNoRCxJQUFJLEtBQUssRUFJTjtBQUNILENBQUM7QUFDRDtBQUNBLDRIQUE0SCxtREFBbUQsNkNBQTZDLDJCQUEyQixFQUFFLHlEQUF5RCwwQkFBMEIsYUFBYSwwQkFBMEIseURBQXlELEVBQUUseUNBQXlDLGtCQUFrQixVQUFVO0FBQ25mLHVCQUF1QiwyQkFBMkIsRUFBRSxFQUFFLGdDQUFnQyx1RkFBdUYsMEJBQTBCLGFBQWEsMEJBQTBCLHlEQUF5RCxnR0FBZ0csOEJBQThCLHFCQUFxQix3Q0FBd0M7QUFDbGUsZ0VBQWdFLDJGQUEyRiwyQkFBMkIsR0FBRyxlQUFlLHNCQUFzQixRQUFRLG9KQUFvSixFQUFFLDZGQUE2RjtBQUN6ZCxpR0FBaUcscUNBQXFDLHVLQUF1SywyQkFBMkIsc0JBQXNCLDRCQUE0QixtRUFBbUU7QUFDN2IseURBQXlELG9GQUFvRixrQkFBa0Isc0RBQXNELHdEQUF3RCxvRkFBb0Ysa0JBQWtCLHdDQUF3QztBQUMzWix5TEFBeUwsZ0dBQWdHLCtDQUErQywwREFBMEQsb0hBQW9ILDJDQUEyQyw2Q0FBNkMsMkJBQTJCLEVBQUUsaURBQWlELDBCQUEwQixhQUFhLDBCQUEwQixrREFBa0QsRUFBRSxpQ0FBaUMsa0JBQWtCLFVBQVUsNkNBQTZDLDJCQUEyQixFQUFFO0FBQ3g1QixDQUFDLGdDQUFnQywrRUFBK0UsMEJBQTBCLGFBQWEsMEJBQTBCLGtEQUFrRCx3RkFBd0YsOEJBQThCLHFCQUFxQixnQ0FBZ0Msc0JBQXNCLGdFQUFnRTtBQUNwZSw0REFBNEQsMkJBQTJCLEdBQUcsZUFBZSxzQkFBc0IsUUFBUSxvSkFBb0osRUFBRSw2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bG9ja2x5L2Jsb2Nrc19jb21wcmVzc2VkLmpzP2FlODkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRG8gbm90IGVkaXQgdGhpcyBmaWxlOyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC5cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbXCIuL2Jsb2NrbHlfY29tcHJlc3NlZC5qc1wiXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vYmxvY2tseV9jb21wcmVzc2VkLmpzXCIpKTtcbiAgfSBlbHNlIHsgLy8gU2NyaXB0XG4gICAgcm9vdC5CbG9ja2x5LmxpYnJhcnlCbG9ja3MgPSBmYWN0b3J5KHJvb3QuQmxvY2tseSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oX19wYXJlbnRfXykge1xudmFyICQ9X19wYXJlbnRfXy5fX25hbWVzcGFjZV9fO1xudmFyIGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWM9JC5jcmVhdGVCbG9ja0RlZmluaXRpb25zRnJvbUpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihbe3R5cGU6XCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcIixtZXNzYWdlMDpcIiUxXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixuYW1lOlwiVkFSXCIsdmFyaWFibGU6XCIle0JLWV9WQVJJQUJMRVNfREVGQVVMVF9OQU1FfVwifV0sb3V0cHV0Om51bGwsc3R5bGU6XCJ2YXJpYWJsZV9keW5hbWljX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9WQVJJQUJMRVNfR0VUX0hFTFBVUkx9XCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19HRVRfVE9PTFRJUH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X3ZhcmlhYmxlRHluYW1pY1NldHRlckdldHRlclwiXX0se3R5cGU6XCJ2YXJpYWJsZXNfc2V0X2R5bmFtaWNcIixtZXNzYWdlMDpcIiV7QktZX1ZBUklBQkxFU19TRVR9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixcbm5hbWU6XCJWQVJcIix2YXJpYWJsZTpcIiV7QktZX1ZBUklBQkxFU19ERUZBVUxUX05BTUV9XCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwidmFyaWFibGVfZHluYW1pY19ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfVkFSSUFCTEVTX1NFVF9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9WQVJJQUJMRVNfU0VUX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJjb250ZXh0TWVudV92YXJpYWJsZUR5bmFtaWNTZXR0ZXJHZXR0ZXJcIl19XSksQ1VTVE9NX0NPTlRFWFRfTUVOVV9WQVJJQUJMRV9HRVRURVJfU0VUVEVSX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYz17Y3VzdG9tQ29udGV4dE1lbnU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNJbkZseW91dCl7aWYodGhpcy50eXBlPT09XCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcIil7dmFyIGI9XCJ2YXJpYWJsZXNfc2V0X2R5bmFtaWNcIjtcbnZhciBjPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlZBUklBQkxFU19HRVRfQ1JFQVRFX1NFVH1lbHNlIGI9XCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcIixjPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlZBUklBQkxFU19TRVRfQ1JFQVRFX0dFVDt2YXIgZD10aGlzLmdldEZpZWxkKFwiVkFSXCIpO2I9e3R5cGU6YixmaWVsZHM6e1ZBUjpkLnNhdmVTdGF0ZSghMCl9fTthLnB1c2goe2VuYWJsZWQ6dGhpcy53b3Jrc3BhY2UucmVtYWluaW5nQ2FwYWNpdHkoKT4wLHRleHQ6Yy5yZXBsYWNlKFwiJTFcIixkLmdldFRleHQoKSksY2FsbGJhY2s6JC5jYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSh0aGlzLGIpfSl9ZWxzZSBpZih0aGlzLnR5cGU9PT1cInZhcmlhYmxlc19nZXRfZHluYW1pY1wifHx0aGlzLnR5cGU9PT1cInZhcmlhYmxlc19nZXRfcmVwb3J0ZXJfZHluYW1pY1wiKWM9e3RleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUkVOQU1FX1ZBUklBQkxFLFxuZW5hYmxlZDohMCxjYWxsYmFjazpyZW5hbWVPcHRpb25DYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlc19keW5hbWljKHRoaXMpfSxkPXRoaXMuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VGV4dCgpLGQ9e3RleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuREVMRVRFX1ZBUklBQkxFLnJlcGxhY2UoXCIlMVwiLGQpLGVuYWJsZWQ6ITAsY2FsbGJhY2s6ZGVsZXRlT3B0aW9uQ2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYyh0aGlzKX0sYS51bnNoaWZ0KGMpLGEudW5zaGlmdChkKX0sb25jaGFuZ2U6ZnVuY3Rpb24oYSl7YT10aGlzLmdldEZpZWxkVmFsdWUoXCJWQVJcIik7YT0kLmdldFZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMud29ya3NwYWNlLGEpO3RoaXMudHlwZT09PVwidmFyaWFibGVzX2dldF9keW5hbWljXCI/dGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldENoZWNrKGEuZ2V0VHlwZSgpKTpcbnRoaXMuZ2V0SW5wdXQoXCJWQUxVRVwiKS5jb25uZWN0aW9uLnNldENoZWNrKGEuZ2V0VHlwZSgpKX19LHJlbmFtZU9wdGlvbkNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgYj1hLndvcmtzcGFjZSxjPWEuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VmFyaWFibGUoKTskLnJlbmFtZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIsYyl9fSxkZWxldGVPcHRpb25DYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlc19keW5hbWljPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2NvbnN0IGI9YS5nZXRGaWVsZChcIlZBUlwiKS5nZXRWYXJpYWJsZSgpO2ImJiQuZGVsZXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYi5nZXRXb3Jrc3BhY2UoKSxiLGEpfX07XG4kLnJlZ2lzdGVyTWl4aW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiY29udGV4dE1lbnVfdmFyaWFibGVEeW5hbWljU2V0dGVyR2V0dGVyXCIsQ1VTVE9NX0NPTlRFWFRfTUVOVV9WQVJJQUJMRV9HRVRURVJfU0VUVEVSX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYyk7JC5kZWZpbmVCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pYyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlc19keW5hbWljPXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pY307dmFyIGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzPSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oW3t0eXBlOlwidmFyaWFibGVzX2dldFwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF92YXJpYWJsZVwiLG5hbWU6XCJWQVJcIix2YXJpYWJsZTpcIiV7QktZX1ZBUklBQkxFU19ERUZBVUxUX05BTUV9XCJ9XSxvdXRwdXQ6bnVsbCxzdHlsZTpcInZhcmlhYmxlX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9WQVJJQUJMRVNfR0VUX0hFTFBVUkx9XCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19HRVRfVE9PTFRJUH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X3ZhcmlhYmxlU2V0dGVyR2V0dGVyXCJdfSx7dHlwZTpcInZhcmlhYmxlc19zZXRcIixtZXNzYWdlMDpcIiV7QktZX1ZBUklBQkxFU19TRVR9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixuYW1lOlwiVkFSXCIsdmFyaWFibGU6XCIle0JLWV9WQVJJQUJMRVNfREVGQVVMVF9OQU1FfVwifSxcbnt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwidmFyaWFibGVfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19TRVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX1NFVF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udGV4dE1lbnVfdmFyaWFibGVTZXR0ZXJHZXR0ZXJcIl19XSksQ1VTVE9NX0NPTlRFWFRfTUVOVV9WQVJJQUJMRV9HRVRURVJfU0VUVEVSX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXM9e2N1c3RvbUNvbnRleHRNZW51OmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzSW5GbHlvdXQpe2lmKHRoaXMudHlwZT09PVwidmFyaWFibGVzX2dldFwiKXt2YXIgYj1cInZhcmlhYmxlc19zZXRcIjt2YXIgYz0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRVNfR0VUX0NSRUFURV9TRVR9ZWxzZSBiPVwidmFyaWFibGVzX2dldFwiLFxuYz0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRVNfU0VUX0NSRUFURV9HRVQ7dmFyIGQ9dGhpcy5nZXRGaWVsZChcIlZBUlwiKTtiPXt0eXBlOmIsZmllbGRzOntWQVI6ZC5zYXZlU3RhdGUoITApfX07YS5wdXNoKHtlbmFibGVkOnRoaXMud29ya3NwYWNlLnJlbWFpbmluZ0NhcGFjaXR5KCk+MCx0ZXh0OmMucmVwbGFjZShcIiUxXCIsZC5nZXRUZXh0KCkpLGNhbGxiYWNrOiQuY2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUodGhpcyxiKX0pfWVsc2UgaWYodGhpcy50eXBlPT09XCJ2YXJpYWJsZXNfZ2V0XCJ8fHRoaXMudHlwZT09PVwidmFyaWFibGVzX2dldF9yZXBvcnRlclwiKWM9e3RleHQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUkVOQU1FX1ZBUklBQkxFLGVuYWJsZWQ6ITAsY2FsbGJhY2s6cmVuYW1lT3B0aW9uQ2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXModGhpcyl9LFxuZD10aGlzLmdldEZpZWxkKFwiVkFSXCIpLmdldFRleHQoKSxkPXt0ZXh0OiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkRFTEVURV9WQVJJQUJMRS5yZXBsYWNlKFwiJTFcIixkKSxlbmFibGVkOiEwLGNhbGxiYWNrOmRlbGV0ZU9wdGlvbkNhbGxiYWNrRmFjdG9yeSQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzKHRoaXMpfSxhLnVuc2hpZnQoYyksYS51bnNoaWZ0KGQpfX0scmVuYW1lT3B0aW9uQ2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgYj1hLndvcmtzcGFjZSxjPWEuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VmFyaWFibGUoKTskLnJlbmFtZVZhcmlhYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGIsYyl9fSxkZWxldGVPcHRpb25DYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHZhcmlhYmxlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBiPVxuYS5nZXRGaWVsZChcIlZBUlwiKS5nZXRWYXJpYWJsZSgpO2ImJiQuZGVsZXRlVmFyaWFibGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYi5nZXRXb3Jrc3BhY2UoKSxiLGEpfX07JC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRleHRNZW51X3ZhcmlhYmxlU2V0dGVyR2V0dGVyXCIsQ1VTVE9NX0NPTlRFWFRfTUVOVV9WQVJJQUJMRV9HRVRURVJfU0VUVEVSX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXMpOyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzPXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXN9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9JC5jcmVhdGVCbG9ja0RlZmluaXRpb25zRnJvbUpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihbe3R5cGU6XCJ0ZXh0XCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2lucHV0XCIsbmFtZTpcIlRFWFRcIix0ZXh0OlwiXCJ9XSxvdXRwdXQ6XCJTdHJpbmdcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX1RFWFRfVEVYVF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9URVhUX1RFWFRfVE9PTFRJUH1cIixleHRlbnNpb25zOltcInRleHRfcXVvdGVzXCIsXCJwYXJlbnRfdG9vbHRpcF93aGVuX2lubGluZVwiXX0se3R5cGU6XCJ0ZXh0X2pvaW5cIixtZXNzYWdlMDpcIlwiLG91dHB1dDpcIlN0cmluZ1wiLHN0eWxlOlwidGV4dF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfVEVYVF9KT0lOX0hFTFBVUkx9XCIsdG9vbHRpcDpcIiV7QktZX1RFWFRfSk9JTl9UT09MVElQfVwiLG11dGF0b3I6XCJ0ZXh0X2pvaW5fbXV0YXRvclwifSxcbnt0eXBlOlwidGV4dF9jcmVhdGVfam9pbl9jb250YWluZXJcIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfQ1JFQVRFX0pPSU5fVElUTEVfSk9JTn0gJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF9kdW1teVwifSx7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJTVEFDS1wifV0sc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9URVhUX0NSRUFURV9KT0lOX1RPT0xUSVB9XCIsZW5hYmxlQ29udGV4dE1lbnU6ITF9LHt0eXBlOlwidGV4dF9jcmVhdGVfam9pbl9pdGVtXCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0NSRUFURV9KT0lOX0lURU1fVElUTEVfSVRFTX1cIixwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1RFWFRfQ1JFQVRFX0pPSU5fSVRFTV9UT09MVElQfVwiLGVuYWJsZUNvbnRleHRNZW51OiExfSx7dHlwZTpcInRleHRfYXBwZW5kXCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0FQUEVORF9USVRMRX1cIixcbmFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfVEVYVF9BUFBFTkRfVkFSSUFCTEV9XCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVEVYVFwifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLGV4dGVuc2lvbnM6W1widGV4dF9hcHBlbmRfdG9vbHRpcFwiXX0se3R5cGU6XCJ0ZXh0X2xlbmd0aFwiLG1lc3NhZ2UwOlwiJXtCS1lfVEVYVF9MRU5HVEhfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIixjaGVjazpbXCJTdHJpbmdcIixcIkFycmF5XCJdfV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9URVhUX0xFTkdUSF9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9URVhUX0xFTkdUSF9IRUxQVVJMfVwifSx7dHlwZTpcInRleHRfaXNFbXB0eVwiLG1lc3NhZ2UwOlwiJXtCS1lfVEVYVF9JU0VNUFRZX1RJVExFfVwiLFxuYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIixjaGVjazpbXCJTdHJpbmdcIixcIkFycmF5XCJdfV0sb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfVEVYVF9JU0VNUFRZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX1RFWFRfSVNFTVBUWV9IRUxQVVJMfVwifSx7dHlwZTpcInRleHRfaW5kZXhPZlwiLG1lc3NhZ2UwOlwiJXtCS1lfVEVYVF9JTkRFWE9GX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6XCJTdHJpbmdcIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJFTkRcIixvcHRpb25zOltbXCIle0JLWV9URVhUX0lOREVYT0ZfT1BFUkFUT1JfRklSU1R9XCIsXCJGSVJTVFwiXSxbXCIle0JLWV9URVhUX0lOREVYT0ZfT1BFUkFUT1JfTEFTVH1cIixcIkxBU1RcIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkZJTkRcIixjaGVjazpcIlN0cmluZ1wifV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLFxuaGVscFVybDpcIiV7QktZX1RFWFRfSU5ERVhPRl9IRUxQVVJMfVwiLGlucHV0c0lubGluZTohMCxleHRlbnNpb25zOltcInRleHRfaW5kZXhPZl90b29sdGlwXCJdfSx7dHlwZTpcInRleHRfY2hhckF0XCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0NIQVJBVF9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOlwiU3RyaW5nXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiV0hFUkVcIixvcHRpb25zOltbXCIle0JLWV9URVhUX0NIQVJBVF9GUk9NX1NUQVJUfVwiLFwiRlJPTV9TVEFSVFwiXSxbXCIle0JLWV9URVhUX0NIQVJBVF9GUk9NX0VORH1cIixcIkZST01fRU5EXCJdLFtcIiV7QktZX1RFWFRfQ0hBUkFUX0ZJUlNUfVwiLFwiRklSU1RcIl0sW1wiJXtCS1lfVEVYVF9DSEFSQVRfTEFTVH1cIixcIkxBU1RcIl0sW1wiJXtCS1lfVEVYVF9DSEFSQVRfUkFORE9NfVwiLFwiUkFORE9NXCJdXX1dLG91dHB1dDpcIlN0cmluZ1wiLHN0eWxlOlwidGV4dF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfVEVYVF9DSEFSQVRfSEVMUFVSTH1cIixcbmlucHV0c0lubGluZTohMCxtdXRhdG9yOlwidGV4dF9jaGFyQXRfbXV0YXRvclwifV0pLEdFVF9TVUJTVFJJTkdfQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLldIRVJFX09QVElPTlNfMT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GUk9NX1NUQVJULFwiRlJPTV9TVEFSVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1NUQVJUX0ZST01fRU5ELFwiRlJPTV9FTkRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GSVJTVCxcIkZJUlNUXCJdXTt0aGlzLldIRVJFX09QVElPTlNfMj1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19FTkRfRlJPTV9TVEFSVCxcIkZST01fU1RBUlRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19FTkRfRlJPTV9FTkQsXG5cIkZST01fRU5EXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0dFVF9TVUJTVFJJTkdfRU5EX0xBU1QsXCJMQVNUXCJdXTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJ0ZXh0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJTVFJJTkdcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX0lOUFVUX0lOX1RFWFQpO2NvbnN0IGE9Yj0+e2NvbnN0IGM9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOnRoaXNbXCJXSEVSRV9PUFRJT05TX1wiK2JdfSk7Yy5zZXRWYWxpZGF0b3IoZnVuY3Rpb24oZCl7Y29uc3QgZT10aGlzLmdldFZhbHVlKCk7ZD1kPT09XG5cIkZST01fU1RBUlRcInx8ZD09PVwiRlJPTV9FTkRcIjtkIT09KGU9PT1cIkZST01fU1RBUlRcInx8ZT09PVwiRlJPTV9FTkRcIikmJnRoaXMuZ2V0U291cmNlQmxvY2soKS51cGRhdGVBdF8oYixkKX0pO3JldHVybiBjfTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJXSEVSRTFfSU5QVVRcIikuYXBwZW5kRmllbGQoYSgxKSxcIldIRVJFMVwiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVDFcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiV0hFUkUyX0lOUFVUXCIpLmFwcGVuZEZpZWxkKGEoMiksXCJXSEVSRTJcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVQyXCIpOyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19UQUlMJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfR0VUX1NVQlNUUklOR19UQUlMKTt0aGlzLnNldElucHV0c0lubGluZSghMCk7dGhpcy5zZXRPdXRwdXQoITAsXG5cIlN0cmluZ1wiKTt0aGlzLnVwZGF0ZUF0XygxLCEwKTt0aGlzLnVwZGF0ZUF0XygyLCEwKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RPT0xUSVApfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTt2YXIgYj10aGlzLmdldElucHV0KFwiQVQxXCIpaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQ7YS5zZXRBdHRyaWJ1dGUoXCJhdDFcIixgJHtifWApO2I9dGhpcy5nZXRJbnB1dChcIkFUMlwiKWluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O2Euc2V0QXR0cmlidXRlKFwiYXQyXCIsYCR7Yn1gKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXtjb25zdCBiPVxuYS5nZXRBdHRyaWJ1dGUoXCJhdDFcIik9PT1cInRydWVcIjthPWEuZ2V0QXR0cmlidXRlKFwiYXQyXCIpPT09XCJ0cnVlXCI7dGhpcy51cGRhdGVBdF8oMSxiKTt0aGlzLnVwZGF0ZUF0XygyLGEpfSx1cGRhdGVBdF86ZnVuY3Rpb24oYSxiKXt0aGlzLnJlbW92ZUlucHV0KFwiQVRcIithKTt0aGlzLnJlbW92ZUlucHV0KFwiT1JESU5BTFwiK2EsITApO2I/KHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFUXCIrYSkuc2V0Q2hlY2soXCJOdW1iZXJcIiksJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIrYSkuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYKSk6dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVRcIithKTthPT09MiYmJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RBSUwmJih0aGlzLnJlbW92ZUlucHV0KFwiVEFJTFwiLFxuITApLHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRBSUxcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RBSUwpKTthPT09MSYmKHRoaXMubW92ZUlucHV0QmVmb3JlKFwiQVQxXCIsXCJXSEVSRTJfSU5QVVRcIiksdGhpcy5nZXRJbnB1dChcIk9SRElOQUwxXCIpJiZ0aGlzLm1vdmVJbnB1dEJlZm9yZShcIk9SRElOQUwxXCIsXCJXSEVSRTJfSU5QVVRcIikpfX07YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfZ2V0U3Vic3RyaW5nPUdFVF9TVUJTVFJJTkdfQkxPQ0skJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ7XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQudGV4dF9jaGFuZ2VDYXNlPXtpbml0OmZ1bmN0aW9uKCl7Y29uc3QgYT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBTkdFQ0FTRV9PUEVSQVRPUl9VUFBFUkNBU0UsXCJVUFBFUkNBU0VcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBTkdFQ0FTRV9PUEVSQVRPUl9MT1dFUkNBU0UsXCJMT1dFUkNBU0VcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBTkdFQ0FTRV9PUEVSQVRPUl9USVRMRUNBU0UsXCJUSVRMRUNBU0VcIl1dO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0NIQU5HRUNBU0VfSEVMUFVSTCk7dGhpcy5zZXRTdHlsZShcInRleHRfYmxvY2tzXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlRFWFRcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoJC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixcbm9wdGlvbnM6YX0pLFwiQ0FTRVwiKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DSEFOR0VDQVNFX1RPT0xUSVApfX07XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQudGV4dF90cmltPXtpbml0OmZ1bmN0aW9uKCl7Y29uc3QgYT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfVFJJTV9PUEVSQVRPUl9CT1RILFwiQk9USFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9UUklNX09QRVJBVE9SX0xFRlQsXCJMRUZUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1RSSU1fT1BFUkFUT1JfUklHSFQsXCJSSUdIVFwiXV07dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfVFJJTV9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVEVYVFwiKS5zZXRDaGVjayhcIlN0cmluZ1wiKS5hcHBlbmRGaWVsZCgkLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG9wdGlvbnM6YX0pLFxuXCJNT0RFXCIpO3RoaXMuc2V0T3V0cHV0KCEwLFwiU3RyaW5nXCIpO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1RSSU1fVE9PTFRJUCl9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQudGV4dF9wcmludD17aW5pdDpmdW5jdGlvbigpe3RoaXMuanNvbkluaXQoe21lc3NhZ2UwOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJJTlRfVElUTEUsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVEVYVFwifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLHRvb2x0aXA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUklOVF9UT09MVElQLGhlbHBVcmw6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUklOVF9IRUxQVVJMfSl9fTtcbnZhciBQUk9NUFRfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PXt1cGRhdGVUeXBlXzpmdW5jdGlvbihhKXt0aGlzLm91dHB1dENvbm5lY3Rpb24uc2V0Q2hlY2soYT09PVwiTlVNQkVSXCI/XCJOdW1iZXJcIjpcIlN0cmluZ1wiKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiVFlQRVwiKSk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUeXBlXyhhLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfX07XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQudGV4dF9wcm9tcHRfZXh0PU9iamVjdC5hc3NpZ24oe30sUFJPTVBUX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCx7aW5pdDpmdW5jdGlvbigpe3ZhciBhPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVFlQRV9URVhULFwiVEVYVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVFlQRV9OVU1CRVIsXCJOVU1CRVJcIl1dO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7YT0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG9wdGlvbnM6YX0pO2Euc2V0VmFsaWRhdG9yKGI9Pnt0aGlzLnVwZGF0ZVR5cGVfKGIpfSk7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVEVYVFwiKS5hcHBlbmRGaWVsZChhLFxuXCJUWVBFXCIpO3RoaXMuc2V0T3V0cHV0KCEwLFwiU3RyaW5nXCIpO3RoaXMuc2V0VG9vbHRpcCgoKT0+dGhpcy5nZXRGaWVsZFZhbHVlKFwiVFlQRVwiKT09PVwiVEVYVFwiPyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJPTVBUX1RPT0xUSVBfVEVYVDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9UT09MVElQX05VTUJFUil9fSk7XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQudGV4dF9wcm9tcHQ9T2JqZWN0LmFzc2lnbih7fSxQUk9NUFRfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5taXhpbihRVU9URV9JTUFHRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCk7dmFyIGE9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9UWVBFX1RFWFQsXCJURVhUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9UWVBFX05VTUJFUixcIk5VTUJFUlwiXV07dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUFJPTVBUX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJ0ZXh0X2Jsb2Nrc1wiKTthPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczphfSk7XG5hLnNldFZhbGlkYXRvcihiPT57dGhpcy51cGRhdGVUeXBlXyhiKX0pO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKGEsXCJUWVBFXCIpLmFwcGVuZEZpZWxkKHRoaXMubmV3UXVvdGVfKCEwKSkuYXBwZW5kRmllbGQoJC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfaW5wdXRcIix0ZXh0OlwiXCJ9KSxcIlRFWFRcIikuYXBwZW5kRmllbGQodGhpcy5uZXdRdW90ZV8oITEpKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoKCk9PnRoaXMuZ2V0RmllbGRWYWx1ZShcIlRZUEVcIik9PT1cIlRFWFRcIj8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1BST01QVF9UT09MVElQX1RFWFQ6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9QUk9NUFRfVE9PTFRJUF9OVU1CRVIpfX0pO1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfY291bnQ9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KHttZXNzYWdlMDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX0NPVU5UX01FU1NBR0UwLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlNVQlwiLGNoZWNrOlwiU3RyaW5nXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVEVYVFwiLGNoZWNrOlwiU3RyaW5nXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixpbnB1dHNJbmxpbmU6ITAsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLHRvb2x0aXA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DT1VOVF9UT09MVElQLGhlbHBVcmw6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DT1VOVF9IRUxQVVJMfSl9fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dC50ZXh0X3JlcGxhY2U9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KHttZXNzYWdlMDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1JFUExBQ0VfTUVTU0FHRTAsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRlJPTVwiLGNoZWNrOlwiU3RyaW5nXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVE9cIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIixjaGVjazpcIlN0cmluZ1wifV0sb3V0cHV0OlwiU3RyaW5nXCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUkVQTEFDRV9UT09MVElQLGhlbHBVcmw6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9SRVBMQUNFX0hFTFBVUkx9KX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LnRleHRfcmV2ZXJzZT17aW5pdDpmdW5jdGlvbigpe3RoaXMuanNvbkluaXQoe21lc3NhZ2UwOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUkVWRVJTRV9NRVNTQUdFMCxhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJURVhUXCIsY2hlY2s6XCJTdHJpbmdcIn1dLG91dHB1dDpcIlN0cmluZ1wiLGlucHV0c0lubGluZTohMCxzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5URVhUX1JFVkVSU0VfVE9PTFRJUCxoZWxwVXJsOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfUkVWRVJTRV9IRUxQVVJMfSl9fTtcbnZhciBRVU9URV9JTUFHRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dD17UVVPVEVfSU1BR0VfTEVGVF9EQVRBVVJJOlwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFLQ0FRQUFBQXFKWGR4QUFBQW4wbEVRVlFJMXozT01hNUJVUlNGNGYvY1FoQUtqVVFodVFtRk53R0pFVWkwUktONXJVN0ZIS2hwakVIM1RFTXRrZEJTQ1kxRUl2OHI3bkZYOWUyOVY3RUJBT3Z1N1JQandtV0dIL1Z1RjhDeU45L09BZHZxSVhZTHZ0UmFOang5bU1URHlvK05qQU4xSE5jbDlaUTVvUU1NM2RnRFVxRG8xbDhEenZ3bXRaTjdtbkQrUGttTGErNG1ocnhWQTlmUm93QldtVkJoRnk1Z1lFaktNZno5QXlsc2FSUmdHenZaQUFBQUFFbEZUa1N1UW1DQ1wiLFFVT1RFX0lNQUdFX1JJR0hUX0RBVEFVUkk6XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUF3QUFBQUtDQVFBQUFBcUpYZHhBQUFBcVVsRVFWUUkxejNLdlVwQ2NSaUE4ZWY5RTRKTkhoSTBhRkVhY20xbzBCc0kwU2x4OHdhOGdMYXVvRG5vQmhxN0RjZldoZ2dPTkRtSkpncUNQQTduZUo3cDkzNEVPT0tPbk04UTdQREVsby80eDRsRmIyRG11VWpjVXpTM1VSbkdpYjlxYVBOYnVYdkJPM3NHUEhKRFJHNmZHVmRNU2VXRFAycTk5RlFkRnJ6MjZHdTVUcTdkRk16VXZiWHk4S1hlQWo1N2NPa2xnQSt1MUI1QW9zbEx0R0lIUU1hQ1Zud0RuQURaSUZJclhzb1hyZ0FBQUFCSlJVNUVya0pnZ2c9PVwiLFxuUVVPVEVfSU1BR0VfV0lEVEg6MTIsUVVPVEVfSU1BR0VfSEVJR0hUOjEyLHF1b3RlRmllbGRfOmZ1bmN0aW9uKGEpe2ZvcihsZXQgYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspZm9yKGxldCBkPTAsZTtlPWMuZmllbGRSb3dbZF07ZCsrKWlmKGE9PT1lLm5hbWUpe2MuaW5zZXJ0RmllbGRBdChkLHRoaXMubmV3UXVvdGVfKCEwKSk7Yy5pbnNlcnRGaWVsZEF0KGQrMix0aGlzLm5ld1F1b3RlXyghMSkpO3JldHVybn1jb25zb2xlLndhcm4oJ2ZpZWxkIG5hbWVkIFwiJythKydcIiBub3QgZm91bmQgaW4gJyt0aGlzLnRvRGV2U3RyaW5nKCkpfSxuZXdRdW90ZV86ZnVuY3Rpb24oYSl7YT10aGlzLlJUTD8hYTphO3JldHVybiAkLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9pbWFnZVwiLHNyYzphP3RoaXMuUVVPVEVfSU1BR0VfTEVGVF9EQVRBVVJJOnRoaXMuUVVPVEVfSU1BR0VfUklHSFRfREFUQVVSSSx3aWR0aDp0aGlzLlFVT1RFX0lNQUdFX1dJRFRILFxuaGVpZ2h0OnRoaXMuUVVPVEVfSU1BR0VfSEVJR0hULGFsdDphP1wiXFx1MjAxY1wiOlwiXFx1MjAxZFwifSl9fSxRVU9URVNfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PWZ1bmN0aW9uKCl7dGhpcy5taXhpbihRVU9URV9JTUFHRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCk7dGhpcy5xdW90ZUZpZWxkXyhcIlRFWFRcIil9LEpPSU5fTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dD17aXRlbUNvdW50XzowLG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwiaXRlbXNcIixgJHt0aGlzLml0ZW1Db3VudF99YCk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5pdGVtQ291bnRfPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiaXRlbXNcIiksMTApO3RoaXMudXBkYXRlU2hhcGVfKCl9LFxuc2F2ZUV4dHJhU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57aXRlbUNvdW50OnRoaXMuaXRlbUNvdW50X319LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKGEpe3RoaXMuaXRlbUNvdW50Xz1hLml0ZW1Db3VudDt0aGlzLnVwZGF0ZVNoYXBlXygpfSxkZWNvbXBvc2U6ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLm5ld0Jsb2NrKFwidGV4dF9jcmVhdGVfam9pbl9jb250YWluZXJcIik7Yi5pbml0U3ZnKCk7bGV0IGM9Yi5nZXRJbnB1dChcIlNUQUNLXCIpLmNvbm5lY3Rpb247Zm9yKGxldCBkPTA7ZDx0aGlzLml0ZW1Db3VudF87ZCsrKXtjb25zdCBlPWEubmV3QmxvY2soXCJ0ZXh0X2NyZWF0ZV9qb2luX2l0ZW1cIik7ZS5pbml0U3ZnKCk7Yy5jb25uZWN0KGUucHJldmlvdXNDb25uZWN0aW9uKTtjPWUubmV4dENvbm5lY3Rpb259cmV0dXJuIGJ9LGNvbXBvc2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRJbnB1dFRhcmdldEJsb2NrKFwiU1RBQ0tcIik7Zm9yKGE9W107YjspYi5pc0luc2VydGlvbk1hcmtlcigpfHxcbmEucHVzaChiLnZhbHVlQ29ubmVjdGlvbl8pLGI9Yi5nZXROZXh0QmxvY2soKTtmb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKyl7Y29uc3QgYz10aGlzLmdldElucHV0KFwiQUREXCIrYikuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2MmJiFhLmluY2x1ZGVzKGMpJiZjLmRpc2Nvbm5lY3QoKX10aGlzLml0ZW1Db3VudF89YS5sZW5ndGg7dGhpcy51cGRhdGVTaGFwZV8oKTtmb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKyl7bGV0IGM7KGM9YVtiXSk9PW51bGx8fGMucmVjb25uZWN0KHRoaXMsXCJBRERcIitiKX19LHNhdmVDb25uZWN0aW9uczpmdW5jdGlvbihhKXthPWEuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIlNUQUNLXCIpO2xldCBiPTA7Zm9yKDthOyl7aWYoYS5pc0luc2VydGlvbk1hcmtlcigpKXthPWEuZ2V0TmV4dEJsb2NrKCk7Y29udGludWV9Y29uc3QgYz10aGlzLmdldElucHV0KFwiQUREXCIrYik7YS52YWx1ZUNvbm5lY3Rpb25fPWMmJmMuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO1xuYT1hLmdldE5leHRCbG9jaygpO2IrK319LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbigpe3RoaXMuaXRlbUNvdW50XyYmdGhpcy5nZXRJbnB1dChcIkVNUFRZXCIpP3RoaXMucmVtb3ZlSW5wdXQoXCJFTVBUWVwiKTp0aGlzLml0ZW1Db3VudF98fHRoaXMuZ2V0SW5wdXQoXCJFTVBUWVwiKXx8dGhpcy5hcHBlbmREdW1teUlucHV0KFwiRU1QVFlcIikuYXBwZW5kRmllbGQodGhpcy5uZXdRdW90ZV8oITApKS5hcHBlbmRGaWVsZCh0aGlzLm5ld1F1b3RlXyghMSkpO2Zvcih2YXIgYT0wO2E8dGhpcy5pdGVtQ291bnRfO2ErKylpZighdGhpcy5nZXRJbnB1dChcIkFERFwiK2EpKXtjb25zdCBiPXRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFERFwiK2EpLnNldEFsaWduKCQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uUklHSFQpO2E9PT0wJiZiLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfSk9JTl9USVRMRV9DUkVBVEVXSVRIKX1mb3IoYT10aGlzLml0ZW1Db3VudF87dGhpcy5nZXRJbnB1dChcIkFERFwiK1xuYSk7YSsrKXRoaXMucmVtb3ZlSW5wdXQoXCJBRERcIithKX19LEpPSU5fRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0PWZ1bmN0aW9uKCl7dGhpcy5taXhpbihRVU9URV9JTUFHRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCk7dGhpcy5pdGVtQ291bnRfPTI7dGhpcy51cGRhdGVTaGFwZV8oKTt0aGlzLnNldE11dGF0b3IobmV3ICQuTXV0YXRvckljb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpY29ucyRtdXRhdG9yX2ljb24oW1widGV4dF9jcmVhdGVfam9pbl9pdGVtXCJdLHRoaXMpKX07JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJ0ZXh0X2FwcGVuZF90b29sdGlwXCIsJC5idWlsZFRvb2x0aXBXaXRoRmllbGRUZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIiV7QktZX1RFWFRfQVBQRU5EX1RPT0xUSVB9XCIsXCJWQVJcIikpO1xudmFyIElOREVYT0ZfVE9PTFRJUF9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9ZnVuY3Rpb24oKXt0aGlzLnNldFRvb2x0aXAoKCk9PiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfSU5ERVhPRl9UT09MVElQLnJlcGxhY2UoXCIlMVwiLHRoaXMud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cIjBcIjpcIi0xXCIpKX0sQ0hBUkFUX01VVEFUT1JfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9e2lzQXRfOiExLG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwiYXRcIixgJHt0aGlzLmlzQXRffWApO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9YS5nZXRBdHRyaWJ1dGUoXCJhdFwiKSE9PVwiZmFsc2VcIjt0aGlzLnVwZGF0ZUF0XyhhKX0sdXBkYXRlQXRfOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlSW5wdXQoXCJBVFwiLFxuITApO3RoaXMucmVtb3ZlSW5wdXQoXCJPUkRJTkFMXCIsITApO2EmJih0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBVFwiKS5zZXRDaGVjayhcIk51bWJlclwiKSwkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIk9SRElOQUxcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYKSk7JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DSEFSQVRfVEFJTCYmKHRoaXMucmVtb3ZlSW5wdXQoXCJUQUlMXCIsITApLHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRBSUxcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuVEVYVF9DSEFSQVRfVEFJTCkpO3RoaXMuaXNBdF89YX19LENIQVJBVF9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9ZnVuY3Rpb24oKXt0aGlzLmdldEZpZWxkKFwiV0hFUkVcIikuc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGEpe2E9XG5hPT09XCJGUk9NX1NUQVJUXCJ8fGE9PT1cIkZST01fRU5EXCI7Y29uc3QgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7YSE9PWIuaXNBdF8mJmIudXBkYXRlQXRfKGEpfSk7dGhpcy51cGRhdGVBdF8oITApO3RoaXMuc2V0VG9vbHRpcCgoKT0+e3ZhciBhPXRoaXMuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpO2xldCBiPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlRFWFRfQ0hBUkFUX1RPT0xUSVA7KGE9PT1cIkZST01fU1RBUlRcInx8YT09PVwiRlJPTV9FTkRcIikmJihhPWE9PT1cIkZST01fU1RBUlRcIj8kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9GUk9NX1NUQVJUX1RPT0xUSVA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfSU5ERVhfRlJPTV9FTkRfVE9PTFRJUCkmJihiKz1cIiAgXCIrYS5yZXBsYWNlKFwiJTFcIix0aGlzLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXg/XCIjMVwiOlwiIzBcIikpO3JldHVybiBifSl9O1xuJC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJ0ZXh0X2luZGV4T2ZfdG9vbHRpcFwiLElOREVYT0ZfVE9PTFRJUF9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpOyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwidGV4dF9xdW90ZXNcIixRVU9URVNfRVhURU5TSU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0KTskLnJlZ2lzdGVyTWl4aW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwicXVvdGVfaW1hZ2VfbWl4aW5cIixRVU9URV9JTUFHRV9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCk7JC5yZWdpc3Rlck11dGF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwidGV4dF9qb2luX211dGF0b3JcIixKT0lOX01VVEFUT1JfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQsSk9JTl9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpO1xuJC5yZWdpc3Rlck11dGF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwidGV4dF9jaGFyQXRfbXV0YXRvclwiLENIQVJBVF9NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LENIQVJBVF9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQpOyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdGV4dCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHQ9e2Jsb2NrczpibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHRleHR9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM9e30sUFJPQ0VEVVJFX0RFRl9DT01NT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM9e3NldFN0YXRlbWVudHNfOmZ1bmN0aW9uKGEpe3RoaXMuaGFzU3RhdGVtZW50c18hPT1hJiYoYT8odGhpcy5hcHBlbmRTdGF0ZW1lbnRJbnB1dChcIlNUQUNLXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fRE8pLHRoaXMuZ2V0SW5wdXQoXCJSRVRVUk5cIikmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiU1RBQ0tcIixcIlJFVFVSTlwiKSk6dGhpcy5yZW1vdmVJbnB1dChcIlNUQUNLXCIsITApLHRoaXMuaGFzU3RhdGVtZW50c189YSl9LHVwZGF0ZVBhcmFtc186ZnVuY3Rpb24oKXtsZXQgYT1cIlwiO3RoaXMuYXJndW1lbnRzXy5sZW5ndGgmJihhPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQkVGT1JFX1BBUkFNUytcblwiIFwiK3RoaXMuYXJndW1lbnRzXy5qb2luKFwiLCBcIikpOyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO3RyeXt0aGlzLnNldEZpZWxkVmFsdWUoYSxcIlBBUkFNU1wiKX1maW5hbGx5eyQuZW5hYmxlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCl9fSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKGEpe2NvbnN0IGI9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7YSYmYi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKSk7Zm9yKGxldCBjPTA7Yzx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGg7YysrKXtjb25zdCBkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImFyZ1wiKSxlPXRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2NdO2Quc2V0QXR0cmlidXRlKFwibmFtZVwiLGUuZ2V0TmFtZSgpKTtkLnNldEF0dHJpYnV0ZShcInZhcmlkXCIsXG5lLmdldElkKCkpO2EmJnRoaXMucGFyYW1JZHNfJiZkLnNldEF0dHJpYnV0ZShcInBhcmFtSWRcIix0aGlzLnBhcmFtSWRzX1tjXSk7Yi5hcHBlbmRDaGlsZChkKX10aGlzLmhhc1N0YXRlbWVudHNffHxiLnNldEF0dHJpYnV0ZShcInN0YXRlbWVudHNcIixcImZhbHNlXCIpO3JldHVybiBifSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTtmb3IobGV0IGM9MCxkO2Q9YS5jaGlsZE5vZGVzW2NdO2MrKylpZihkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1cImFyZ1wiKXt2YXIgYj1kO2NvbnN0IGU9Yi5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO2I9Yi5nZXRBdHRyaWJ1dGUoXCJ2YXJpZFwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJ2YXJJZFwiKTt0aGlzLmFyZ3VtZW50c18ucHVzaChlKTtiPSQuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXModGhpcy53b3Jrc3BhY2UsYixlLFxuXCJcIik7YiE9PW51bGw/dGhpcy5hcmd1bWVudFZhck1vZGVsc18ucHVzaChiKTpjb25zb2xlLmxvZyhgRmFpbGVkIHRvIGNyZWF0ZSBhIHZhcmlhYmxlIG5hbWVkIFwiJHtlfVwiLCBpZ25vcmluZy5gKX10aGlzLnVwZGF0ZVBhcmFtc18oKTskLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMpO3RoaXMuc2V0U3RhdGVtZW50c18oYS5nZXRBdHRyaWJ1dGUoXCJzdGF0ZW1lbnRzXCIpIT09XCJmYWxzZVwiKX0sc2F2ZUV4dHJhU3RhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoJiZ0aGlzLmhhc1N0YXRlbWVudHNfKXJldHVybiBudWxsO2NvbnN0IGE9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGgpe2EucGFyYW1zPVtdO2ZvcihsZXQgYj0wO2I8dGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoO2IrKylhLnBhcmFtcy5wdXNoKHtuYW1lOnRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2JdLmdldE5hbWUoKSxcbmlkOnRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2JdLmdldElkKCl9KX10aGlzLmhhc1N0YXRlbWVudHNffHwoYS5oYXNTdGF0ZW1lbnRzPSExKTtyZXR1cm4gYX0sbG9hZEV4dHJhU3RhdGU6ZnVuY3Rpb24oYSl7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO2lmKGEucGFyYW1zKWZvcihsZXQgYz0wO2M8YS5wYXJhbXMubGVuZ3RoO2MrKyl7dmFyIGI9YS5wYXJhbXNbY107Yj0kLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMud29ya3NwYWNlLGIuaWQsYi5uYW1lLFwiXCIpO3RoaXMuYXJndW1lbnRzXy5wdXNoKGIuZ2V0TmFtZSgpKTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5wdXNoKGIpfXRoaXMudXBkYXRlUGFyYW1zXygpOyQubXV0YXRlQ2FsbGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXModGhpcyk7dGhpcy5zZXRTdGF0ZW1lbnRzXyhhLmhhc1N0YXRlbWVudHM9PT1cbiExPyExOiEwKX0sZGVjb21wb3NlOmZ1bmN0aW9uKGEpe2NvbnN0IGI9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiYmxvY2tcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJwcm9jZWR1cmVzX211dGF0b3Jjb250YWluZXJcIik7dmFyIGM9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwic3RhdGVtZW50XCIpO2Muc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiU1RBQ0tcIik7Yi5hcHBlbmRDaGlsZChjKTtmb3IobGV0IGU9MDtlPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7ZSsrKXtjb25zdCBmPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImJsb2NrXCIpO2Yuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicHJvY2VkdXJlc19tdXRhdG9yYXJnXCIpO3ZhciBkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcImZpZWxkXCIpO2Quc2V0QXR0cmlidXRlKFwibmFtZVwiLFxuXCJOQU1FXCIpO2NvbnN0IGc9JC5jcmVhdGVUZXh0Tm9kZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbCh0aGlzLmFyZ3VtZW50c19bZV0pO2QuYXBwZW5kQ2hpbGQoZyk7Zi5hcHBlbmRDaGlsZChkKTtkPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm5leHRcIik7Zi5hcHBlbmRDaGlsZChkKTtjLmFwcGVuZENoaWxkKGYpO2M9ZH1hPSQuZG9tVG9CbG9jayQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHhtbChiLGEpO3RoaXMudHlwZT09PVwicHJvY2VkdXJlc19kZWZyZXR1cm5cIj9hLnNldEZpZWxkVmFsdWUodGhpcy5oYXNTdGF0ZW1lbnRzXyxcIlNUQVRFTUVOVFNcIik6YS5yZW1vdmVJbnB1dChcIlNUQVRFTUVOVF9JTlBVVFwiKTskLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMpO3JldHVybiBhfSxjb21wb3NlOmZ1bmN0aW9uKGEpe3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLnBhcmFtSWRzXz1cbltdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO2xldCBiPWEuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIlNUQUNLXCIpO2Zvcig7YiYmIWIuaXNJbnNlcnRpb25NYXJrZXIoKTspe3ZhciBjPWIuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIik7dGhpcy5hcmd1bWVudHNfLnB1c2goYyk7Yz10aGlzLndvcmtzcGFjZS5nZXRWYXJpYWJsZShjLFwiXCIpO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfLnB1c2goYyk7dGhpcy5wYXJhbUlkc18ucHVzaChiLmlkKTtiPWIubmV4dENvbm5lY3Rpb24mJmIubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX10aGlzLnVwZGF0ZVBhcmFtc18oKTskLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMpO2E9YS5nZXRGaWVsZFZhbHVlKFwiU1RBVEVNRU5UU1wiKTtpZihhIT09bnVsbCYmKGE9YT09PVwiVFJVRVwiLHRoaXMuaGFzU3RhdGVtZW50c18hPT1hKSlpZihhKXt0aGlzLnNldFN0YXRlbWVudHNfKCEwKTt2YXIgZDsoZD10aGlzLnN0YXRlbWVudENvbm5lY3Rpb25fKT09XG5udWxsfHxkLnJlY29ubmVjdCh0aGlzLFwiU1RBQ0tcIik7dGhpcy5zdGF0ZW1lbnRDb25uZWN0aW9uXz1udWxsfWVsc2V7ZD10aGlzLmdldElucHV0KFwiU1RBQ0tcIikuY29ubmVjdGlvbjtpZih0aGlzLnN0YXRlbWVudENvbm5lY3Rpb25fPWQudGFyZ2V0Q29ubmVjdGlvbilkPWQudGFyZ2V0QmxvY2soKSxkLnVucGx1ZygpLGQuYnVtcE5laWdoYm91cnMoKTt0aGlzLnNldFN0YXRlbWVudHNfKCExKX19LGdldFZhcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmd1bWVudHNffSxnZXRWYXJNb2RlbHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmd1bWVudFZhck1vZGVsc199LHJlbmFtZVZhckJ5SWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLndvcmtzcGFjZS5nZXRWYXJpYWJsZUJ5SWQoYSk7aWYoYy5nZXRUeXBlKCk9PT1cIlwiKXtjPWMuZ2V0TmFtZSgpO2I9dGhpcy53b3Jrc3BhY2UuZ2V0VmFyaWFibGVCeUlkKGIpO3ZhciBkPSExO2ZvcihsZXQgZT0wO2U8dGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoO2UrKyl0aGlzLmFyZ3VtZW50VmFyTW9kZWxzX1tlXS5nZXRJZCgpPT09XG5hJiYodGhpcy5hcmd1bWVudHNfW2VdPWIuZ2V0TmFtZSgpLHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2VdPWIsZD0hMCk7ZCYmKHRoaXMuZGlzcGxheVJlbmFtZWRWYXJfKGMsYi5nZXROYW1lKCkpLCQubXV0YXRlQ2FsbGVycyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXModGhpcykpfX0sdXBkYXRlVmFyTmFtZTpmdW5jdGlvbihhKXtjb25zdCBiPWEuZ2V0TmFtZSgpO2xldCBjPSExLGQ7Zm9yKGxldCBlPTA7ZTx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGg7ZSsrKXRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2VdLmdldElkKCk9PT1hLmdldElkKCkmJihkPXRoaXMuYXJndW1lbnRzX1tlXSx0aGlzLmFyZ3VtZW50c19bZV09YixjPSEwKTtjJiYodGhpcy5kaXNwbGF5UmVuYW1lZFZhcl8oZCxiKSwkLm11dGF0ZUNhbGxlcnMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKHRoaXMpKX0sZGlzcGxheVJlbmFtZWRWYXJfOmZ1bmN0aW9uKGEsYil7dGhpcy51cGRhdGVQYXJhbXNfKCk7XG52YXIgYz10aGlzLmdldEljb24oJC5NdXRhdG9ySWNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGljb25zJG11dGF0b3JfaWNvbi5UWVBFKTtpZihjJiZjLmJ1YmJsZUlzVmlzaWJsZSgpKXtjPWMuZ2V0V29ya3NwYWNlKCkuZ2V0QWxsQmxvY2tzKCExKTtmb3IobGV0IGQ9MCxlO2U9Y1tkXTtkKyspZS50eXBlPT09XCJwcm9jZWR1cmVzX211dGF0b3JhcmdcIiYmJC5OYW1lcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLmVxdWFscyhhLGUuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpJiZlLnNldEZpZWxkVmFsdWUoYixcIk5BTUVcIil9fSxjdXN0b21Db250ZXh0TWVudTpmdW5jdGlvbihhKXtpZighdGhpcy5pc0luRmx5b3V0KXt2YXIgYj10aGlzLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpLGM9e3R5cGU6dGhpcy5jYWxsVHlwZV8sZXh0cmFTdGF0ZTp7bmFtZTpiLHBhcmFtczp0aGlzLmFyZ3VtZW50c199fTthLnB1c2goe2VuYWJsZWQ6ITAsdGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0NSRUFURV9ETy5yZXBsYWNlKFwiJTFcIixcbmIpLGNhbGxiYWNrOiQuY2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUodGhpcyxjKX0pO2lmKCF0aGlzLmlzQ29sbGFwc2VkKCkpZm9yKGI9MDtiPHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfLmxlbmd0aDtiKyspe2M9dGhpcy5hcmd1bWVudFZhck1vZGVsc19bYl07Y29uc3QgZD17dHlwZTpcInZhcmlhYmxlc19nZXRcIixmaWVsZHM6e1ZBUjp7bmFtZTpjLmdldE5hbWUoKSxpZDpjLmdldElkKCksdHlwZTpjLmdldFR5cGUoKX19fTthLnB1c2goe2VuYWJsZWQ6ITAsdGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRVNfU0VUX0NSRUFURV9HRVQucmVwbGFjZShcIiUxXCIsYy5nZXROYW1lKCkpLGNhbGxiYWNrOiQuY2FsbGJhY2tGYWN0b3J5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29udGV4dG1lbnUodGhpcyxkKX0pfX19fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuPU9iamVjdC5hc3NpZ24oe30sUFJPQ0VEVVJFX0RFRl9DT01NT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMse2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT0kLmZpbmRMZWdhbE5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKFwiXCIsdGhpcyk7YT0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9pbnB1dFwiLHRleHQ6YX0pO2Euc2V0VmFsaWRhdG9yKCQucmVuYW1lJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyk7YS5zZXRTcGVsbGNoZWNrKCExKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX1RJVExFKS5hcHBlbmRGaWVsZChhLFwiTkFNRVwiKS5hcHBlbmRGaWVsZChcIlwiLFxuXCJQQVJBTVNcIik7dGhpcy5zZXRNdXRhdG9yKG5ldyAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uKFtcInByb2NlZHVyZXNfbXV0YXRvcmFyZ1wiXSx0aGlzKSk7KHRoaXMud29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHN8fHRoaXMud29ya3NwYWNlLm9wdGlvbnMucGFyZW50V29ya3NwYWNlJiZ0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZS5vcHRpb25zLmNvbW1lbnRzKSYmJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9DT01NRU5UJiZ0aGlzLnNldENvbW1lbnRUZXh0KCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fQ09NTUVOVCk7dGhpcy5zZXRTdHlsZShcInByb2NlZHVyZV9ibG9ja3NcIik7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fVE9PTFRJUCk7XG50aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9IRUxQVVJMKTt0aGlzLmFyZ3VtZW50c189W107dGhpcy5hcmd1bWVudFZhck1vZGVsc189W107dGhpcy5zZXRTdGF0ZW1lbnRzXyghMCk7dGhpcy5zdGF0ZW1lbnRDb25uZWN0aW9uXz1udWxsfSxnZXRQcm9jZWR1cmVEZWY6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKSx0aGlzLmFyZ3VtZW50c18sITFdfSxjYWxsVHlwZV86XCJwcm9jZWR1cmVzX2NhbGxub3JldHVyblwifSk7XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMucHJvY2VkdXJlc19kZWZyZXR1cm49T2JqZWN0LmFzc2lnbih7fSxQUk9DRURVUkVfREVGX0NPTU1PTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcyx7aW5pdDpmdW5jdGlvbigpe3ZhciBhPSQuZmluZExlZ2FsTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoXCJcIix0aGlzKTthPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2lucHV0XCIsdGV4dDphfSk7YS5zZXRWYWxpZGF0b3IoJC5yZW5hbWUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKTthLnNldFNwZWxsY2hlY2soITEpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1RJVExFKS5hcHBlbmRGaWVsZChhLFwiTkFNRVwiKS5hcHBlbmRGaWVsZChcIlwiLFxuXCJQQVJBTVNcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiUkVUVVJOXCIpLnNldEFsaWduKCQuQWxpZ24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkYWxpZ24uUklHSFQpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTik7dGhpcy5zZXRNdXRhdG9yKG5ldyAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uKFtcInByb2NlZHVyZXNfbXV0YXRvcmFyZ1wiXSx0aGlzKSk7KHRoaXMud29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHN8fHRoaXMud29ya3NwYWNlLm9wdGlvbnMucGFyZW50V29ya3NwYWNlJiZ0aGlzLndvcmtzcGFjZS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZS5vcHRpb25zLmNvbW1lbnRzKSYmJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fQ09NTUVOVCYmdGhpcy5zZXRDb21tZW50VGV4dCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9DT01NRU5UKTtcbnRoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9UT09MVElQKTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fSEVMUFVSTCk7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO3RoaXMuc2V0U3RhdGVtZW50c18oITApO3RoaXMuc3RhdGVtZW50Q29ubmVjdGlvbl89bnVsbH0sZ2V0UHJvY2VkdXJlRGVmOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIiksdGhpcy5hcmd1bWVudHNfLCEwXX0sY2FsbFR5cGVfOlwicHJvY2VkdXJlc19jYWxscmV0dXJuXCJ9KTtcbnZhciBQUk9DRURVUkVTX01VVEFUT1JDT05UQUlORVIkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX01VVEFUT1JDT05UQUlORVJfVElUTEUpO3RoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJTVEFDS1wiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJTVEFURU1FTlRfSU5QVVRcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19BTExPV19TVEFURU1FTlRTKS5hcHBlbmRGaWVsZCgkLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9jaGVja2JveFwiLGNoZWNrZWQ6ITB9KSxcIlNUQVRFTUVOVFNcIik7dGhpcy5zZXRTdHlsZShcInByb2NlZHVyZV9ibG9ja3NcIik7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfTVVUQVRPUkNPTlRBSU5FUl9UT09MVElQKTtcbnRoaXMuY29udGV4dE1lbnU9ITF9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMucHJvY2VkdXJlc19tdXRhdG9yY29udGFpbmVyPVBST0NFRFVSRVNfTVVUQVRPUkNPTlRBSU5FUiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcztcbnZhciBQcm9jZWR1cmVBcmd1bWVudEZpZWxkJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPWNsYXNzIGV4dGVuZHMgJC5GaWVsZFRleHRJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3RleHRpbnB1dHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyk7dGhpcy5lZGl0aW5nSW50ZXJhY3RpdmVseT0hMX1zaG93RWRpdG9yXyhhKXtzdXBlci5zaG93RWRpdG9yXyhhKTt0aGlzLmVkaXRpbmdJbnRlcmFjdGl2ZWx5PSEwO3RoaXMuZWRpdGluZ1ZhcmlhYmxlPXZvaWQgMH1vbkZpbmlzaEVkaXRpbmdfKGEpe3N1cGVyLm9uRmluaXNoRWRpdGluZ18oYSk7dGhpcy5lZGl0aW5nSW50ZXJhY3RpdmVseT0hMX19LFBST0NFRFVSRVNfTVVUQVRPUkFSR1VNRU5UJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXtpbml0OmZ1bmN0aW9uKCl7Y29uc3QgYT1uZXcgUHJvY2VkdXJlQXJndW1lbnRGaWVsZCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcygkLkRFRkFVTFRfQVJHJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyxcbnRoaXMudmFsaWRhdG9yXyk7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19NVVRBVE9SQVJHX1RJVExFKS5hcHBlbmRGaWVsZChhLFwiTkFNRVwiKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX01VVEFUT1JBUkdfVE9PTFRJUCk7dGhpcy5jb250ZXh0TWVudT0hMX0sdmFsaWRhdG9yXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNvdXJjZUJsb2NrKCk7Y29uc3QgYz1iLndvcmtzcGFjZS5nZXRSb290V29ya3NwYWNlKCk7YT1hLnJlcGxhY2UoL1tcXHNcXHhhMF0rL2csXCIgXCIpLnJlcGxhY2UoL14gfCAkL2csXCJcIik7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3QgZD0oYi53b3Jrc3BhY2UudGFyZ2V0V29ya3NwYWNlfHxcbmIud29ya3NwYWNlKS5nZXRBbGxCbG9ja3MoITEpLGU9YS50b0xvd2VyQ2FzZSgpO2ZvcihsZXQgZj0wO2Y8ZC5sZW5ndGg7ZisrKXtpZihkW2ZdLmlkPT09dGhpcy5nZXRTb3VyY2VCbG9jaygpLmlkKWNvbnRpbnVlO2NvbnN0IGc9ZFtmXS5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKTtpZihnJiZnLnRvTG93ZXJDYXNlKCk9PT1lKXJldHVybiBudWxsfWlmKGIuaXNJbkZseW91dClyZXR1cm4gYTsoYj1jLmdldFZhcmlhYmxlKGEsXCJcIikpJiZiLmdldE5hbWUoKSE9PWEmJmMucmVuYW1lVmFyaWFibGVCeUlkKGIuZ2V0SWQoKSxhKTtifHwodGhpcy5lZGl0aW5nSW50ZXJhY3RpdmVseT90aGlzLmVkaXRpbmdWYXJpYWJsZT9jLnJlbmFtZVZhcmlhYmxlQnlJZCh0aGlzLmVkaXRpbmdWYXJpYWJsZS5nZXRJZCgpLGEpOnRoaXMuZWRpdGluZ1ZhcmlhYmxlPWMuY3JlYXRlVmFyaWFibGUoYSxcIlwiKTpjLmNyZWF0ZVZhcmlhYmxlKGEsXCJcIikpO3JldHVybiBhfX07XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMucHJvY2VkdXJlc19tdXRhdG9yYXJnPVBST0NFRFVSRVNfTVVUQVRPUkFSR1VNRU5UJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzO1xudmFyIERJU0FCTEVEX1BST0NFRFVSRV9ERUZJTklUSU9OX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcz1cIkRJU0FCTEVEX1BST0NFRFVSRV9ERUZJTklUSU9OXCIsUFJPQ0VEVVJFX0NBTExfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPXtnZXRQcm9jZWR1cmVDYWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIil9LHJlbmFtZVByb2NlZHVyZTpmdW5jdGlvbihhLGIpeyQuTmFtZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5lcXVhbHMoYSx0aGlzLmdldFByb2NlZHVyZUNhbGwoKSkmJih0aGlzLnNldEZpZWxkVmFsdWUoYixcIk5BTUVcIiksdGhpcy5zZXRUb29sdGlwKCh0aGlzLm91dHB1dENvbm5lY3Rpb24/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DQUxMUkVUVVJOX1RPT0xUSVA6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DQUxMTk9SRVRVUk5fVE9PTFRJUCkucmVwbGFjZShcIiUxXCIsXG5iKSkpfSxzZXRQcm9jZWR1cmVQYXJhbWV0ZXJzXzpmdW5jdGlvbihhLGIpe3ZhciBjPSQuZ2V0RGVmaW5pdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXModGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksdGhpcy53b3Jrc3BhY2UpOyhjPShjPWMmJmMuZ2V0SWNvbigkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uLlRZUEUpKSYmYy5idWJibGVJc1Zpc2libGUoKSk/dGhpcy5zZXRDb2xsYXBzZWQoITEpOih0aGlzLnF1YXJrQ29ubmVjdGlvbnNfPXt9LHRoaXMucXVhcmtJZHNfPW51bGwpO2lmKGEuam9pbihcIlxcblwiKT09PXRoaXMuYXJndW1lbnRzXy5qb2luKFwiXFxuXCIpKXRoaXMucXVhcmtJZHNfPWI7ZWxzZXtpZihiLmxlbmd0aCE9PWEubGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJwYXJhbU5hbWVzIGFuZCBwYXJhbUlkcyBtdXN0IGJlIHRoZSBzYW1lIGxlbmd0aC5cIik7dGhpcy5xdWFya0lkc198fCh0aGlzLnF1YXJrQ29ubmVjdGlvbnNfPVxue30sdGhpcy5xdWFya0lkc189W10pO2ZvcihsZXQgZT0wO2U8dGhpcy5hcmd1bWVudHNfLmxlbmd0aDtlKyspe3ZhciBkPXRoaXMuZ2V0SW5wdXQoXCJBUkdcIitlKTtkJiYoZD1kLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbix0aGlzLnF1YXJrQ29ubmVjdGlvbnNfW3RoaXMucXVhcmtJZHNfW2VdXT1kLGMmJmQmJiFiLmluY2x1ZGVzKHRoaXMucXVhcmtJZHNfW2VdKSYmKGQuZGlzY29ubmVjdCgpLGQuZ2V0U291cmNlQmxvY2soKS5idW1wTmVpZ2hib3VycygpKSl9dGhpcy5hcmd1bWVudHNfPVtdLmNvbmNhdChhKTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTtmb3IoYT0wO2E8dGhpcy5hcmd1bWVudHNfLmxlbmd0aDthKyspYz0kLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKHRoaXMud29ya3NwYWNlLG51bGwsdGhpcy5hcmd1bWVudHNfW2FdLFwiXCIpLHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfLnB1c2goYyk7dGhpcy51cGRhdGVTaGFwZV8oKTtcbmlmKHRoaXMucXVhcmtJZHNfPWIpZm9yKGI9MDtiPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7YisrKWlmKGE9dGhpcy5xdWFya0lkc19bYl0sYSBpbiB0aGlzLnF1YXJrQ29ubmVjdGlvbnNfKXtsZXQgZTsoKGU9dGhpcy5xdWFya0Nvbm5lY3Rpb25zX1thXSk9PW51bGw/MDplLnJlY29ubmVjdCh0aGlzLFwiQVJHXCIrYikpfHxkZWxldGUgdGhpcy5xdWFya0Nvbm5lY3Rpb25zX1thXX19fSx1cGRhdGVTaGFwZV86ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7YSsrKXt2YXIgYj10aGlzLmdldEZpZWxkKFwiQVJHTkFNRVwiK2EpO2lmKGIpeyQuZGlzYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpO3RyeXtiLnNldFZhbHVlKHRoaXMuYXJndW1lbnRzX1thXSl9ZmluYWxseXskLmVuYWJsZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscygpfX1lbHNlIGI9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfbGFiZWxcIixcbnRleHQ6dGhpcy5hcmd1bWVudHNfW2FdfSksdGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQVJHXCIrYSkuc2V0QWxpZ24oJC5BbGlnbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRhbGlnbi5SSUdIVCkuYXBwZW5kRmllbGQoYixcIkFSR05BTUVcIithKX1mb3IoYT10aGlzLmFyZ3VtZW50c18ubGVuZ3RoO3RoaXMuZ2V0SW5wdXQoXCJBUkdcIithKTthKyspdGhpcy5yZW1vdmVJbnB1dChcIkFSR1wiK2EpOyhhPXRoaXMuZ2V0SW5wdXQoXCJUT1BST1dcIikpJiYodGhpcy5hcmd1bWVudHNfLmxlbmd0aD90aGlzLmdldEZpZWxkKFwiV0lUSFwiKXx8YS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0NBTExfQkVGT1JFX1BBUkFNUyxcIldJVEhcIik6dGhpcy5nZXRGaWVsZChcIldJVEhcIikmJmEucmVtb3ZlRmllbGQoXCJXSVRIXCIpKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7XG5hLnNldEF0dHJpYnV0ZShcIm5hbWVcIix0aGlzLmdldFByb2NlZHVyZUNhbGwoKSk7Zm9yKGxldCBiPTA7Yjx0aGlzLmFyZ3VtZW50c18ubGVuZ3RoO2IrKyl7Y29uc3QgYz0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJhcmdcIik7Yy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsdGhpcy5hcmd1bWVudHNfW2JdKTthLmFwcGVuZENoaWxkKGMpfXJldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTt0aGlzLnJlbmFtZVByb2NlZHVyZSh0aGlzLmdldFByb2NlZHVyZUNhbGwoKSxiKTtiPVtdO2NvbnN0IGM9W107Zm9yKGxldCBkPTAsZTtlPWEuY2hpbGROb2Rlc1tkXTtkKyspZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJhcmdcIiYmKGIucHVzaChlLmdldEF0dHJpYnV0ZShcIm5hbWVcIikpLGMucHVzaChlLmdldEF0dHJpYnV0ZShcInBhcmFtSWRcIikpKTt0aGlzLnNldFByb2NlZHVyZVBhcmFtZXRlcnNfKGIsXG5jKX0sc2F2ZUV4dHJhU3RhdGU6ZnVuY3Rpb24oKXtjb25zdCBhPU9iamVjdC5jcmVhdGUobnVsbCk7YS5uYW1lPXRoaXMuZ2V0UHJvY2VkdXJlQ2FsbCgpO3RoaXMuYXJndW1lbnRzXy5sZW5ndGgmJihhLnBhcmFtcz10aGlzLmFyZ3VtZW50c18pO3JldHVybiBhfSxsb2FkRXh0cmFTdGF0ZTpmdW5jdGlvbihhKXt0aGlzLnJlbmFtZVByb2NlZHVyZSh0aGlzLmdldFByb2NlZHVyZUNhbGwoKSxhLm5hbWUpO2lmKGE9YS5wYXJhbXMpe2NvbnN0IGI9W107Yi5sZW5ndGg9YS5sZW5ndGg7Yi5maWxsKG51bGwpO3RoaXMuc2V0UHJvY2VkdXJlUGFyYW1ldGVyc18oYSxiKX19LGdldFZhcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmd1bWVudHNffSxnZXRWYXJNb2RlbHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmd1bWVudFZhck1vZGVsc199LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2lmKHRoaXMud29ya3NwYWNlJiYhdGhpcy53b3Jrc3BhY2UuaXNGbHlvdXQmJmEucmVjb3JkVW5kbylpZihhLnR5cGU9PT1cbiQuQkxPQ0tfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cyYmYS5pZHMuaW5jbHVkZXModGhpcy5pZCkpe3ZhciBiPXRoaXMuZ2V0UHJvY2VkdXJlQ2FsbCgpLGM9JC5nZXREZWZpbml0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhiLHRoaXMud29ya3NwYWNlKTshY3x8Yy50eXBlPT09dGhpcy5kZWZUeXBlXyYmSlNPTi5zdHJpbmdpZnkoYy5nZXRWYXJzKCkpPT09SlNPTi5zdHJpbmdpZnkodGhpcy5hcmd1bWVudHNfKXx8KGM9bnVsbCk7aWYoYyljLmlzRW5hYmxlZCgpfHwodGhpcy5zZXREaXNhYmxlZFJlYXNvbighMCxESVNBQkxFRF9QUk9DRURVUkVfREVGSU5JVElPTl9ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMpLHRoaXMuc2V0V2FybmluZ1RleHQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DQUxMX0RJU0FCTEVEX0RFRl9XQVJOSU5HLnJlcGxhY2UoXCIlMVwiLFxuYikpKTtlbHNleyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYS5ncm91cCk7YT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJ4bWxcIik7Yj0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJibG9ja1wiKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIix0aGlzLmRlZlR5cGVfKTtjPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3ZhciBkPWMueSskLmNvbmZpZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbmZpZy5zbmFwUmFkaXVzKjI7Yi5zZXRBdHRyaWJ1dGUoXCJ4XCIsYCR7Yy54KyQuY29uZmlnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29uZmlnLnNuYXBSYWRpdXMqKHRoaXMuUlRMPy0xOjEpfWApO2Iuc2V0QXR0cmlidXRlKFwieVwiLGAke2R9YCk7Yz10aGlzLm11dGF0aW9uVG9Eb20oKTtiLmFwcGVuZENoaWxkKGMpO2M9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwiZmllbGRcIik7XG5jLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIk5BTUVcIik7ZD10aGlzLmdldFByb2NlZHVyZUNhbGwoKTtjb25zdCBlPSQuZmluZExlZ2FsTmFtZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHByb2NlZHVyZXMoZCx0aGlzKTtkIT09ZSYmdGhpcy5yZW5hbWVQcm9jZWR1cmUoZCxlKTtjLmFwcGVuZENoaWxkKCQuY3JlYXRlVGV4dE5vZGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoZCkpO2IuYXBwZW5kQ2hpbGQoYyk7YS5hcHBlbmRDaGlsZChiKTskLmRvbVRvV29ya3NwYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkeG1sKGEsdGhpcy53b3Jrc3BhY2UpOyQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpfX1lbHNlIGEudHlwZT09PSQuQkxPQ0tfREVMRVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cz8oYj10aGlzLmdldFByb2NlZHVyZUNhbGwoKSwkLmdldERlZmluaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGIsXG50aGlzLndvcmtzcGFjZSl8fCgkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEuZ3JvdXApLHRoaXMuZGlzcG9zZSghMCksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSkpKTphLnR5cGU9PT0kLkJMT0NLX0NIQU5HRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMmJmEuZWxlbWVudD09PVwiZGlzYWJsZWRcIiYmKGI9dGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksKGQ9JC5nZXREZWZpbml0aW9uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkcHJvY2VkdXJlcyhiLHRoaXMud29ya3NwYWNlKSkmJmQuaWQ9PT1hLmJsb2NrSWQmJigoYz0kLmdldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCkpJiZjb25zb2xlLmxvZyhcIlNhdyBhbiBleGlzdGluZyBncm91cCB3aGlsZSByZXNwb25kaW5nIHRvIGEgZGVmaW5pdGlvbiBjaGFuZ2VcIiksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyhhLmdyb3VwKSxcbmE9ZC5pc0VuYWJsZWQoKSx0aGlzLnNldERpc2FibGVkUmVhc29uKCFhLERJU0FCTEVEX1BST0NFRFVSRV9ERUZJTklUSU9OX0RJU0FCTEVEX1JFQVNPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcyksdGhpcy5zZXRXYXJuaW5nVGV4dChhP251bGw6JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DQUxMX0RJU0FCTEVEX0RFRl9XQVJOSU5HLnJlcGxhY2UoXCIlMVwiLGIpKSwkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGMpKSl9LGN1c3RvbUNvbnRleHRNZW51OmZ1bmN0aW9uKGEpe2lmKHRoaXMud29ya3NwYWNlLmlzTW92YWJsZSgpKXt2YXIgYj10aGlzLmdldFByb2NlZHVyZUNhbGwoKSxjPXRoaXMud29ya3NwYWNlO2EucHVzaCh7ZW5hYmxlZDohMCx0ZXh0OiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfSElHSExJR0hUX0RFRixjYWxsYmFjazpmdW5jdGlvbigpe2NvbnN0IGQ9XG4kLmdldERlZmluaXRpb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRwcm9jZWR1cmVzKGIsYyk7ZCYmKGMuY2VudGVyT25CbG9jayhkLmlkKSwkLmdldEZvY3VzTWFuYWdlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZvY3VzX21hbmFnZXIoKS5mb2N1c05vZGUoZCkpfX0pfX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLnByb2NlZHVyZXNfY2FsbG5vcmV0dXJuPU9iamVjdC5hc3NpZ24oe30sUFJPQ0VEVVJFX0NBTExfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiVE9QUk9XXCIpLmFwcGVuZEZpZWxkKFwiXCIsXCJOQU1FXCIpO3RoaXMuc2V0UHJldmlvdXNTdGF0ZW1lbnQoITApO3RoaXMuc2V0TmV4dFN0YXRlbWVudCghMCk7dGhpcy5zZXRTdHlsZShcInByb2NlZHVyZV9ibG9ja3NcIik7dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfQ0FMTE5PUkVUVVJOX0hFTFBVUkwpO3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTt0aGlzLnF1YXJrQ29ubmVjdGlvbnNfPXt9O3RoaXMucXVhcmtJZHNfPW51bGx9LGRlZlR5cGVfOlwicHJvY2VkdXJlc19kZWZub3JldHVyblwifSk7XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMucHJvY2VkdXJlc19jYWxscmV0dXJuPU9iamVjdC5hc3NpZ24oe30sUFJPQ0VEVVJFX0NBTExfQ09NTU9OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzLHtpbml0OmZ1bmN0aW9uKCl7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiVE9QUk9XXCIpLmFwcGVuZEZpZWxkKFwiXCIsXCJOQU1FXCIpO3RoaXMuc2V0T3V0cHV0KCEwKTt0aGlzLnNldFN0eWxlKFwicHJvY2VkdXJlX2Jsb2Nrc1wiKTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19DQUxMUkVUVVJOX0hFTFBVUkwpO3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTt0aGlzLnF1YXJrQ29ubmVjdGlvbnNfPXt9O3RoaXMucXVhcmtJZHNfPW51bGx9LGRlZlR5cGVfOlwicHJvY2VkdXJlc19kZWZyZXR1cm5cIn0pO1xudmFyIFVOUEFSRU5URURfSUZSRVRVUk5fRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzPVwiVU5QQVJFTlRFRF9JRlJFVFVSTlwiLFBST0NFRFVSRVNfSUZSRVRVUk4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJDT05ESVRJT05cIikuc2V0Q2hlY2soXCJCb29sZWFuXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX01TR19JRik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVkFMVUVcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fUkVUVVJOKTt0aGlzLnNldElucHV0c0lubGluZSghMCk7dGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMCk7dGhpcy5zZXROZXh0U3RhdGVtZW50KCEwKTt0aGlzLnNldFN0eWxlKFwicHJvY2VkdXJlX2Jsb2Nrc1wiKTtcbnRoaXMuc2V0VG9vbHRpcCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0lGUkVUVVJOX1RPT0xUSVApO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5QUk9DRURVUkVTX0lGUkVUVVJOX0hFTFBVUkwpO3RoaXMuaGFzUmV0dXJuVmFsdWVfPSEwfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsU3RyaW5nKE51bWJlcih0aGlzLmhhc1JldHVyblZhbHVlXykpKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt0aGlzLmhhc1JldHVyblZhbHVlXz1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpPT09XCIxXCI7dGhpcy5oYXNSZXR1cm5WYWx1ZV98fCh0aGlzLnJlbW92ZUlucHV0KFwiVkFMVUVcIiksdGhpcy5hcHBlbmREdW1teUlucHV0KFwiVkFMVUVcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fUkVUVVJOKSl9LFxub25jaGFuZ2U6ZnVuY3Rpb24oYSl7aWYoISh0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nJiZ0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCl8fGEudHlwZSE9PSQuQkxPQ0tfTU9WRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHMmJmEudHlwZSE9PSQuQkxPQ0tfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cykpe2E9ITE7dmFyIGI9dGhpcztkb3tpZih0aGlzLkZVTkNUSU9OX1RZUEVTLmluY2x1ZGVzKGIudHlwZSkpe2E9ITA7YnJlYWt9Yj1iLmdldFN1cnJvdW5kUGFyZW50KCl9d2hpbGUoYik7YT8oYi50eXBlPT09XCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCImJnRoaXMuaGFzUmV0dXJuVmFsdWVfPyh0aGlzLnJlbW92ZUlucHV0KFwiVkFMVUVcIiksdGhpcy5hcHBlbmREdW1teUlucHV0KFwiVkFMVUVcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fUkVUVVJOKSx0aGlzLmhhc1JldHVyblZhbHVlXz1cbiExKTpiLnR5cGUhPT1cInByb2NlZHVyZXNfZGVmcmV0dXJuXCJ8fHRoaXMuaGFzUmV0dXJuVmFsdWVffHwodGhpcy5yZW1vdmVJbnB1dChcIlZBTFVFXCIpLHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlZBTFVFXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTiksdGhpcy5oYXNSZXR1cm5WYWx1ZV89ITApLHRoaXMuc2V0V2FybmluZ1RleHQobnVsbCkpOnRoaXMuc2V0V2FybmluZ1RleHQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuUFJPQ0VEVVJFU19JRlJFVFVSTl9XQVJOSU5HKTtpZighdGhpcy5pc0luRmx5b3V0KXRyeXskLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITEpLHRoaXMuc2V0RGlzYWJsZWRSZWFzb24oIWEsVU5QQVJFTlRFRF9JRlJFVFVSTl9ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMpfWZpbmFsbHl7JC5zZXRSZWNvcmRVbmRvJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKCEwKX19fSxcbkZVTkNUSU9OX1RZUEVTOltcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIixcInByb2NlZHVyZXNfZGVmcmV0dXJuXCJdfTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMucHJvY2VkdXJlc19pZnJldHVybj1QUk9DRURVUkVTX0lGUkVUVVJOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRwcm9jZWR1cmVzOyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXM9e2Jsb2NrczpibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXN9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGg9JC5jcmVhdGVCbG9ja0RlZmluaXRpb25zRnJvbUpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihbe3R5cGU6XCJtYXRoX251bWJlclwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9udW1iZXJcIixuYW1lOlwiTlVNXCIsdmFsdWU6MH1dLG91dHB1dDpcIk51bWJlclwiLGhlbHBVcmw6XCIle0JLWV9NQVRIX05VTUJFUl9IRUxQVVJMfVwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9OVU1CRVJfVE9PTFRJUH1cIixleHRlbnNpb25zOltcInBhcmVudF90b29sdGlwX3doZW5faW5saW5lXCJdfSx7dHlwZTpcIm1hdGhfYXJpdGhtZXRpY1wiLG1lc3NhZ2UwOlwiJTEgJTIgJTNcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJBXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX01BVEhfQURESVRJT05fU1lNQk9MfVwiLFxuXCJBRERcIl0sW1wiJXtCS1lfTUFUSF9TVUJUUkFDVElPTl9TWU1CT0x9XCIsXCJNSU5VU1wiXSxbXCIle0JLWV9NQVRIX01VTFRJUExJQ0FUSU9OX1NZTUJPTH1cIixcIk1VTFRJUExZXCJdLFtcIiV7QktZX01BVEhfRElWSVNJT05fU1lNQk9MfVwiLFwiRElWSURFXCJdLFtcIiV7QktZX01BVEhfUE9XRVJfU1lNQk9MfVwiLFwiUE9XRVJcIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkJcIixjaGVjazpcIk51bWJlclwifV0saW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9BUklUSE1FVElDX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJtYXRoX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF9zaW5nbGVcIixtZXNzYWdlMDpcIiUxICUyXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiT1BcIixvcHRpb25zOltbXCIle0JLWV9NQVRIX1NJTkdMRV9PUF9ST09UfVwiLFwiUk9PVFwiXSxbXCIle0JLWV9NQVRIX1NJTkdMRV9PUF9BQlNPTFVURX1cIixcblwiQUJTXCJdLFtcIi1cIixcIk5FR1wiXSxbXCJsblwiLFwiTE5cIl0sW1wibG9nMTBcIixcIkxPRzEwXCJdLFtcImVeXCIsXCJFWFBcIl0sW1wiMTBeXCIsXCJQT1cxMFwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTlVNXCIsY2hlY2s6XCJOdW1iZXJcIn1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9TSU5HTEVfSEVMUFVSTH1cIixleHRlbnNpb25zOltcIm1hdGhfb3BfdG9vbHRpcFwiXX0se3R5cGU6XCJtYXRoX3RyaWdcIixtZXNzYWdlMDpcIiUxICUyXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiT1BcIixvcHRpb25zOltbXCIle0JLWV9NQVRIX1RSSUdfU0lOfVwiLFwiU0lOXCJdLFtcIiV7QktZX01BVEhfVFJJR19DT1N9XCIsXCJDT1NcIl0sW1wiJXtCS1lfTUFUSF9UUklHX1RBTn1cIixcIlRBTlwiXSxbXCIle0JLWV9NQVRIX1RSSUdfQVNJTn1cIixcIkFTSU5cIl0sW1wiJXtCS1lfTUFUSF9UUklHX0FDT1N9XCIsXCJBQ09TXCJdLFtcIiV7QktZX01BVEhfVFJJR19BVEFOfVwiLFxuXCJBVEFOXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJOVU1cIixjaGVjazpcIk51bWJlclwifV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9NQVRIX1RSSUdfSEVMUFVSTH1cIixleHRlbnNpb25zOltcIm1hdGhfb3BfdG9vbHRpcFwiXX0se3R5cGU6XCJtYXRoX2NvbnN0YW50XCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIkNPTlNUQU5UXCIsb3B0aW9uczpbW1wiXFx1MDNjMFwiLFwiUElcIl0sW1wiZVwiLFwiRVwiXSxbXCJcXHUwM2M2XCIsXCJHT0xERU5fUkFUSU9cIl0sW1wic3FydCgyKVwiLFwiU1FSVDJcIl0sW1wic3FydChcXHUwMGJkKVwiLFwiU1FSVDFfMlwiXSxbXCJcXHUyMjFlXCIsXCJJTkZJTklUWVwiXV19XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfQ09OU1RBTlRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9DT05TVEFOVF9IRUxQVVJMfVwifSx7dHlwZTpcIm1hdGhfbnVtYmVyX3Byb3BlcnR5XCIsXG5tZXNzYWdlMDpcIiUxICUyXCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTlVNQkVSX1RPX0NIRUNLXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJQUk9QRVJUWVwiLG9wdGlvbnM6W1tcIiV7QktZX01BVEhfSVNfRVZFTn1cIixcIkVWRU5cIl0sW1wiJXtCS1lfTUFUSF9JU19PRER9XCIsXCJPRERcIl0sW1wiJXtCS1lfTUFUSF9JU19QUklNRX1cIixcIlBSSU1FXCJdLFtcIiV7QktZX01BVEhfSVNfV0hPTEV9XCIsXCJXSE9MRVwiXSxbXCIle0JLWV9NQVRIX0lTX1BPU0lUSVZFfVwiLFwiUE9TSVRJVkVcIl0sW1wiJXtCS1lfTUFUSF9JU19ORUdBVElWRX1cIixcIk5FR0FUSVZFXCJdLFtcIiV7QktZX01BVEhfSVNfRElWSVNJQkxFX0JZfVwiLFwiRElWSVNJQkxFX0JZXCJdXX1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX0lTX1RPT0xUSVB9XCIsbXV0YXRvcjpcIm1hdGhfaXNfZGl2aXNpYmxlYnlfbXV0YXRvclwifSxcbnt0eXBlOlwibWF0aF9jaGFuZ2VcIixtZXNzYWdlMDpcIiV7QktZX01BVEhfQ0hBTkdFX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfTUFUSF9DSEFOR0VfVElUTEVfSVRFTX1cIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJERUxUQVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInZhcmlhYmxlX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9NQVRIX0NIQU5HRV9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wibWF0aF9jaGFuZ2VfdG9vbHRpcFwiXX0se3R5cGU6XCJtYXRoX3JvdW5kXCIsbWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIk9QXCIsb3B0aW9uczpbW1wiJXtCS1lfTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORH1cIixcIlJPVU5EXCJdLFtcIiV7QktZX01BVEhfUk9VTkRfT1BFUkFUT1JfUk9VTkRVUH1cIixcIlJPVU5EVVBcIl0sXG5bXCIle0JLWV9NQVRIX1JPVU5EX09QRVJBVE9SX1JPVU5ERE9XTn1cIixcIlJPVU5ERE9XTlwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTlVNXCIsY2hlY2s6XCJOdW1iZXJcIn1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9ST1VORF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9NQVRIX1JPVU5EX1RPT0xUSVB9XCJ9LHt0eXBlOlwibWF0aF9vbl9saXN0XCIsbWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIk9QXCIsb3B0aW9uczpbW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfU1VNfVwiLFwiU1VNXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX01JTn1cIixcIk1JTlwiXSxbXCIle0JLWV9NQVRIX09OTElTVF9PUEVSQVRPUl9NQVh9XCIsXCJNQVhcIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfQVZFUkFHRX1cIixcIkFWRVJBR0VcIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfTUVESUFOfVwiLFxuXCJNRURJQU5cIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfTU9ERX1cIixcIk1PREVcIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfU1REX0RFVn1cIixcIlNURF9ERVZcIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfUkFORE9NfVwiLFwiUkFORE9NXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJMSVNUXCIsY2hlY2s6XCJBcnJheVwifV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9NQVRIX09OTElTVF9IRUxQVVJMfVwiLG11dGF0b3I6XCJtYXRoX21vZGVzX29mX2xpc3RfbXV0YXRvclwiLGV4dGVuc2lvbnM6W1wibWF0aF9vcF90b29sdGlwXCJdfSx7dHlwZTpcIm1hdGhfbW9kdWxvXCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX01PRFVMT19USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJESVZJREVORFwiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRElWSVNPUlwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxcbmlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfTU9EVUxPX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfTU9EVUxPX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9jb25zdHJhaW5cIixtZXNzYWdlMDpcIiV7QktZX01BVEhfQ09OU1RSQUlOX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJMT1dcIixjaGVjazpcIk51bWJlclwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkhJR0hcIixjaGVjazpcIk51bWJlclwifV0saW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9DT05TVFJBSU5fVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9DT05TVFJBSU5fSEVMUFVSTH1cIn0se3R5cGU6XCJtYXRoX3JhbmRvbV9pbnRcIixtZXNzYWdlMDpcIiV7QktZX01BVEhfUkFORE9NX0lOVF9USVRMRX1cIixcbmFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkZST01cIixjaGVjazpcIk51bWJlclwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRPXCIsY2hlY2s6XCJOdW1iZXJcIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfUkFORE9NX0lOVF9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9NQVRIX1JBTkRPTV9JTlRfSEVMUFVSTH1cIn0se3R5cGU6XCJtYXRoX3JhbmRvbV9mbG9hdFwiLG1lc3NhZ2UwOlwiJXtCS1lfTUFUSF9SQU5ET01fRkxPQVRfVElUTEVfUkFORE9NfVwiLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9SQU5ET01fRkxPQVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9SQU5ET01fRkxPQVRfSEVMUFVSTH1cIn0se3R5cGU6XCJtYXRoX2F0YW4yXCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX0FUQU4yX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsXG5uYW1lOlwiWFwiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiWVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxpbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX0FUQU4yX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfQVRBTjJfSEVMUFVSTH1cIn1dKSxUT09MVElQU19CWV9PUCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aD17QUREOlwiJXtCS1lfTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfQUREfVwiLE1JTlVTOlwiJXtCS1lfTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfTUlOVVN9XCIsTVVMVElQTFk6XCIle0JLWV9NQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9NVUxUSVBMWX1cIixESVZJREU6XCIle0JLWV9NQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9ESVZJREV9XCIsUE9XRVI6XCIle0JLWV9NQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9QT1dFUn1cIixST09UOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9ST09UfVwiLFxuQUJTOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9BQlN9XCIsTkVHOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9ORUd9XCIsTE46XCIle0JLWV9NQVRIX1NJTkdMRV9UT09MVElQX0xOfVwiLExPRzEwOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9MT0cxMH1cIixFWFA6XCIle0JLWV9NQVRIX1NJTkdMRV9UT09MVElQX0VYUH1cIixQT1cxMDpcIiV7QktZX01BVEhfU0lOR0xFX1RPT0xUSVBfUE9XMTB9XCIsU0lOOlwiJXtCS1lfTUFUSF9UUklHX1RPT0xUSVBfU0lOfVwiLENPUzpcIiV7QktZX01BVEhfVFJJR19UT09MVElQX0NPU31cIixUQU46XCIle0JLWV9NQVRIX1RSSUdfVE9PTFRJUF9UQU59XCIsQVNJTjpcIiV7QktZX01BVEhfVFJJR19UT09MVElQX0FTSU59XCIsQUNPUzpcIiV7QktZX01BVEhfVFJJR19UT09MVElQX0FDT1N9XCIsQVRBTjpcIiV7QktZX01BVEhfVFJJR19UT09MVElQX0FUQU59XCIsU1VNOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9TVU19XCIsTUlOOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9NSU59XCIsXG5NQVg6XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX01BWH1cIixBVkVSQUdFOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9BVkVSQUdFfVwiLE1FRElBTjpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfTUVESUFOfVwiLE1PREU6XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX01PREV9XCIsU1REX0RFVjpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfU1REX0RFVn1cIixSQU5ET006XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX1JBTkRPTX1cIn07JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJtYXRoX29wX3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIk9QXCIsVE9PTFRJUFNfQllfT1AkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGgpKTtcbnZhciBJU19ESVZJU0lCTEVCWV9NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoPXttdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKSxiPXRoaXMuZ2V0RmllbGRWYWx1ZShcIlBST1BFUlRZXCIpPT09XCJESVZJU0lCTEVfQllcIjthLnNldEF0dHJpYnV0ZShcImRpdmlzb3JfaW5wdXRcIixTdHJpbmcoYikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9YS5nZXRBdHRyaWJ1dGUoXCJkaXZpc29yX2lucHV0XCIpPT09XCJ0cnVlXCI7dGhpcy51cGRhdGVTaGFwZV8oYSl9LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbihhKXtjb25zdCBiPXRoaXMuZ2V0SW5wdXQoXCJESVZJU09SXCIpO2E/Ynx8dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiRElWSVNPUlwiKS5zZXRDaGVjayhcIk51bWJlclwiKTpiJiZ0aGlzLnJlbW92ZUlucHV0KFwiRElWSVNPUlwiKX19LElTX0RJVklTSUJMRV9NVVRBVE9SX0VYVEVOU0lPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aD1cbmZ1bmN0aW9uKCl7dGhpcy5nZXRGaWVsZChcIlBST1BFUlRZXCIpLnNldFZhbGlkYXRvcihmdW5jdGlvbihhKXthPWE9PT1cIkRJVklTSUJMRV9CWVwiO3RoaXMuZ2V0U291cmNlQmxvY2soKS51cGRhdGVTaGFwZV8oYSl9KX07JC5yZWdpc3Rlck11dGF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwibWF0aF9pc19kaXZpc2libGVieV9tdXRhdG9yXCIsSVNfRElWSVNJQkxFQllfTVVUQVRPUl9NSVhJTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aCxJU19ESVZJU0lCTEVfTVVUQVRPUl9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGgpOyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwibWF0aF9jaGFuZ2VfdG9vbHRpcFwiLCQuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCIle0JLWV9NQVRIX0NIQU5HRV9UT09MVElQfVwiLFwiVkFSXCIpKTtcbnZhciBMSVNUX01PREVTX01VVEFUT1JfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGg9e3VwZGF0ZVR5cGVfOmZ1bmN0aW9uKGEpe2E9PT1cIk1PREVcIj90aGlzLm91dHB1dENvbm5lY3Rpb24uc2V0Q2hlY2soXCJBcnJheVwiKTp0aGlzLm91dHB1dENvbm5lY3Rpb24uc2V0Q2hlY2soXCJOdW1iZXJcIil9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwib3BcIix0aGlzLmdldEZpZWxkVmFsdWUoXCJPUFwiKSk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7YT1hLmdldEF0dHJpYnV0ZShcIm9wXCIpO2lmKGE9PT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ4bWxFbGVtZW50IGhhZCBubyBvcCBhdHRyaWJ1dGVcIik7dGhpcy51cGRhdGVUeXBlXyhhKX19LExJU1RfTU9ERVNfTVVUQVRPUl9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGg9XG5mdW5jdGlvbigpe3RoaXMuZ2V0RmllbGQoXCJPUFwiKS5zZXRWYWxpZGF0b3IoZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUeXBlXyhhKX0uYmluZCh0aGlzKSl9OyQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcIm1hdGhfbW9kZXNfb2ZfbGlzdF9tdXRhdG9yXCIsTElTVF9NT0RFU19NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoLExJU1RfTU9ERVNfTVVUQVRPUl9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGgpOyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aCk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGg9e2Jsb2NrczpibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJG1hdGh9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPSQuY3JlYXRlQmxvY2tEZWZpbml0aW9uc0Zyb21Kc29uQXJyYXkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oW3t0eXBlOlwiY29udHJvbHNfcmVwZWF0X2V4dFwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRJTUVTXCIsY2hlY2s6XCJOdW1iZXJcIn1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPfSAlMVwiLGFyZ3MxOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJET1wifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb29wX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0hFTFBVUkx9XCJ9LHt0eXBlOlwiY29udHJvbHNfcmVwZWF0XCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfVElUTEV9XCIsXG5hcmdzMDpbe3R5cGU6XCJmaWVsZF9udW1iZXJcIixuYW1lOlwiVElNRVNcIix2YWx1ZToxMCxtaW46MCxwcmVjaXNpb246MX1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPfSAlMVwiLGFyZ3MxOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJET1wifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb29wX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0hFTFBVUkx9XCJ9LHt0eXBlOlwiY29udHJvbHNfd2hpbGVVbnRpbFwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJNT0RFXCIsb3B0aW9uczpbW1wiJXtCS1lfQ09OVFJPTFNfV0hJTEVVTlRJTF9PUEVSQVRPUl9XSElMRX1cIixcIldISUxFXCJdLFtcIiV7QktZX0NPTlRST0xTX1dISUxFVU5USUxfT1BFUkFUT1JfVU5USUx9XCIsXCJVTlRJTFwiXV19LFxue3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJCT09MXCIsY2hlY2s6XCJCb29sZWFuXCJ9XSxtZXNzYWdlMTpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9JTlBVVF9ET30gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE9cIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfV0hJTEVVTlRJTF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udHJvbHNfd2hpbGVVbnRpbF90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2ZvclwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfRk9SX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOm51bGx9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRlJPTVwiLGNoZWNrOlwiTnVtYmVyXCIsYWxpZ246XCJSSUdIVFwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRPXCIsY2hlY2s6XCJOdW1iZXJcIixcbmFsaWduOlwiUklHSFRcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJCWVwiLGNoZWNrOlwiTnVtYmVyXCIsYWxpZ246XCJSSUdIVFwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfSU5QVVRfRE99ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkRPXCJ9XSxpbnB1dHNJbmxpbmU6ITAscHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb29wX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9DT05UUk9MU19GT1JfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X25ld0dldFZhcmlhYmxlQmxvY2tcIixcImNvbnRyb2xzX2Zvcl90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2ZvckVhY2hcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0ZPUkVBQ0hfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixuYW1lOlwiVkFSXCIsdmFyaWFibGU6bnVsbH0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJMSVNUXCIsXG5jaGVjazpcIkFycmF5XCJ9XSxtZXNzYWdlMTpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9JTlBVVF9ET30gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE9cIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfRk9SRUFDSF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udGV4dE1lbnVfbmV3R2V0VmFyaWFibGVCbG9ja1wiLFwiY29udHJvbHNfZm9yRWFjaF90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2Zsb3dfc3RhdGVtZW50c1wiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJGTE9XXCIsb3B0aW9uczpbW1wiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX09QRVJBVE9SX0JSRUFLfVwiLFwiQlJFQUtcIl0sW1wiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX09QRVJBVE9SX0NPTlRJTlVFfVwiLFwiQ09OVElOVUVcIl1dfV0sXG5wcmV2aW91c1N0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX0hFTFBVUkx9XCIsc3VwcHJlc3NQcmVmaXhTdWZmaXg6ITAsZXh0ZW5zaW9uczpbXCJjb250cm9sc19mbG93X3Rvb2x0aXBcIixcImNvbnRyb2xzX2Zsb3dfaW5fbG9vcF9jaGVja1wiXX1dKSxXSElMRV9VTlRJTF9UT09MVElQUyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHM9e1dISUxFOlwiJXtCS1lfQ09OVFJPTFNfV0hJTEVVTlRJTF9UT09MVElQX1dISUxFfVwiLFVOVElMOlwiJXtCS1lfQ09OVFJPTFNfV0hJTEVVTlRJTF9UT09MVElQX1VOVElMfVwifTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRyb2xzX3doaWxlVW50aWxfdG9vbHRpcFwiLCQuYnVpbGRUb29sdGlwRm9yRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiTU9ERVwiLFdISUxFX1VOVElMX1RPT0xUSVBTJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcykpO1xudmFyIEJSRUFLX0NPTlRJTlVFX1RPT0xUSVBTJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcz17QlJFQUs6XCIle0JLWV9DT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfVE9PTFRJUF9CUkVBS31cIixDT05USU5VRTpcIiV7QktZX0NPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19UT09MVElQX0NPTlRJTlVFfVwifTskLnJlZ2lzdGVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRyb2xzX2Zsb3dfdG9vbHRpcFwiLCQuYnVpbGRUb29sdGlwRm9yRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiRkxPV1wiLEJSRUFLX0NPTlRJTlVFX1RPT0xUSVBTJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcykpO1xudmFyIENVU1RPTV9DT05URVhUX01FTlVfQ1JFQVRFX1ZBUklBQkxFU19HRVRfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPXtjdXN0b21Db250ZXh0TWVudTpmdW5jdGlvbihhKXtpZighdGhpcy5pc0luRmx5b3V0KXt2YXIgYj10aGlzLmdldEZpZWxkKFwiVkFSXCIpLGM9Yi5nZXRWYXJpYWJsZSgpLmdldE5hbWUoKTt0aGlzLmlzQ29sbGFwc2VkKCl8fGM9PT1udWxsfHwoYj17dHlwZTpcInZhcmlhYmxlc19nZXRcIixmaWVsZHM6e1ZBUjpiLnNhdmVTdGF0ZSghMCl9fSxhLnB1c2goe2VuYWJsZWQ6ITAsdGV4dDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5WQVJJQUJMRVNfU0VUX0NSRUFURV9HRVQucmVwbGFjZShcIiUxXCIsYyksY2FsbGJhY2s6JC5jYWxsYmFja0ZhY3RvcnkkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb250ZXh0bWVudSh0aGlzLGIpfSkpfX19O1xuJC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRleHRNZW51X25ld0dldFZhcmlhYmxlQmxvY2tcIixDVVNUT01fQ09OVEVYVF9NRU5VX0NSRUFURV9WQVJJQUJMRVNfR0VUX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcyk7JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc19mb3JfdG9vbHRpcFwiLCQuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCIle0JLWV9DT05UUk9MU19GT1JfVE9PTFRJUH1cIixcIlZBUlwiKSk7JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc19mb3JFYWNoX3Rvb2x0aXBcIiwkLmJ1aWxkVG9vbHRpcFdpdGhGaWVsZFRleHQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiJXtCS1lfQ09OVFJPTFNfRk9SRUFDSF9UT09MVElQfVwiLFwiVkFSXCIpKTtcbnZhciBsb29wVHlwZXMkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPW5ldyBTZXQoW1wiY29udHJvbHNfcmVwZWF0XCIsXCJjb250cm9sc19yZXBlYXRfZXh0XCIsXCJjb250cm9sc19mb3JFYWNoXCIsXCJjb250cm9sc19mb3JcIixcImNvbnRyb2xzX3doaWxlVW50aWxcIl0pLENPTlRST0xfRkxPV19OT1RfSU5fTE9PUF9ESVNBQkxFRF9SRUFTT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPVwiQ09OVFJPTF9GTE9XX05PVF9JTl9MT09QXCIsQ09OVFJPTF9GTE9XX0lOX0xPT1BfQ0hFQ0tfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPXtnZXRTdXJyb3VuZExvb3A6ZnVuY3Rpb24oKXtsZXQgYT10aGlzO2Rve2lmKGxvb3BUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMuaGFzKGEudHlwZSkpcmV0dXJuIGE7YT1hLmdldFN1cnJvdW5kUGFyZW50KCl9d2hpbGUoYSk7cmV0dXJuIG51bGx9LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2NvbnN0IGI9dGhpcy53b3Jrc3BhY2U7XG5pZihiLmlzRHJhZ2dpbmcmJiFiLmlzRHJhZ2dpbmcoKSYmKGEudHlwZT09PSQuQkxPQ0tfTU9WRSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyRldmVudHN8fGEudHlwZT09PSQuQkxPQ0tfQ1JFQVRFJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJGV2ZW50cykmJihhPSEhdGhpcy5nZXRTdXJyb3VuZExvb3AoKSx0aGlzLnNldFdhcm5pbmdUZXh0KGE/bnVsbDokLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfV0FSTklORyksIXRoaXMuaXNJbkZseW91dCkpdHJ5eyQuc2V0UmVjb3JkVW5kbyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSksdGhpcy5zZXREaXNhYmxlZFJlYXNvbighYSxDT05UUk9MX0ZMT1dfTk9UX0lOX0xPT1BfRElTQUJMRURfUkVBU09OJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcyl9ZmluYWxseXskLnNldFJlY29yZFVuZG8kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoITApfX19O1xuJC5yZWdpc3Rlck1peGluJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRyb2xzX2Zsb3dfaW5fbG9vcF9jaGVja1wiLENPTlRST0xfRkxPV19JTl9MT09QX0NIRUNLX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcyk7JC5kZWZpbmVCbG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRjb21tb24oYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcyk7dmFyIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzPXtibG9ja3M6YmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wcyxsb29wVHlwZXM6bG9vcFR5cGVzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb29wc307dmFyIGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9JC5jcmVhdGVCbG9ja0RlZmluaXRpb25zRnJvbUpzb25BcnJheSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihbe3R5cGU6XCJsb2dpY19ib29sZWFuXCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIkJPT0xcIixvcHRpb25zOltbXCIle0JLWV9MT0dJQ19CT09MRUFOX1RSVUV9XCIsXCJUUlVFXCJdLFtcIiV7QktZX0xPR0lDX0JPT0xFQU5fRkFMU0V9XCIsXCJGQUxTRVwiXV19XSxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJsb2dpY19ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTE9HSUNfQk9PTEVBTl9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19CT09MRUFOX0hFTFBVUkx9XCJ9LHt0eXBlOlwiY29udHJvbHNfaWZcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0lGX01TR19JRn0gJTFcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJJRjBcIixjaGVjazpcIkJvb2xlYW5cIn1dLFxubWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19JRl9NU0dfVEhFTn0gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE8wXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9DT05UUk9MU19JRl9IRUxQVVJMfVwiLHN1cHByZXNzUHJlZml4U3VmZml4OiEwLG11dGF0b3I6XCJjb250cm9sc19pZl9tdXRhdG9yXCIsZXh0ZW5zaW9uczpbXCJjb250cm9sc19pZl90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2lmZWxzZVwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfSUZfTVNHX0lGfSAlMVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIklGMFwiLGNoZWNrOlwiQm9vbGVhblwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19JRl9NU0dfVEhFTn0gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE8wXCJ9XSxtZXNzYWdlMjpcIiV7QktZX0NPTlRST0xTX0lGX01TR19FTFNFfSAlMVwiLFxuYXJnczI6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkVMU0VcIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZQ09OVFJPTFNfSUZfVE9PTFRJUF8yfVwiLGhlbHBVcmw6XCIle0JLWV9DT05UUk9MU19JRl9IRUxQVVJMfVwiLHN1cHByZXNzUHJlZml4U3VmZml4OiEwLGV4dGVuc2lvbnM6W1wiY29udHJvbHNfaWZfdG9vbHRpcFwiXX0se3R5cGU6XCJsb2dpY19jb21wYXJlXCIsbWVzc2FnZTA6XCIlMSAlMiAlM1wiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkFcIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIj1cIixcIkVRXCJdLFtcIlxcdTIyNjBcIixcIk5FUVwiXSxbXCJcXHUyMDBmPFwiLFwiTFRcIl0sW1wiXFx1MjAwZlxcdTIyNjRcIixcIkxURVwiXSxbXCJcXHUyMDBmPlwiLFwiR1RcIl0sW1wiXFx1MjAwZlxcdTIyNjVcIixcIkdURVwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQlwifV0sXG5pbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX0xPR0lDX0NPTVBBUkVfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImxvZ2ljX2NvbXBhcmVcIixcImxvZ2ljX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibG9naWNfb3BlcmF0aW9uXCIsbWVzc2FnZTA6XCIlMSAlMiAlM1wiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkFcIixjaGVjazpcIkJvb2xlYW5cIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX0xPR0lDX09QRVJBVElPTl9BTkR9XCIsXCJBTkRcIl0sW1wiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX09SfVwiLFwiT1JcIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkJcIixjaGVjazpcIkJvb2xlYW5cIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJsb2dpY19ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJsb2dpY19vcF90b29sdGlwXCJdfSxcbnt0eXBlOlwibG9naWNfbmVnYXRlXCIsbWVzc2FnZTA6XCIle0JLWV9MT0dJQ19ORUdBVEVfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQk9PTFwiLGNoZWNrOlwiQm9vbGVhblwifV0sb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xPR0lDX05FR0FURV9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19ORUdBVEVfSEVMUFVSTH1cIn0se3R5cGU6XCJsb2dpY19udWxsXCIsbWVzc2FnZTA6XCIle0JLWV9MT0dJQ19OVUxMfVwiLG91dHB1dDpudWxsLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xPR0lDX05VTExfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTE9HSUNfTlVMTF9IRUxQVVJMfVwifSx7dHlwZTpcImxvZ2ljX3Rlcm5hcnlcIixtZXNzYWdlMDpcIiV7QktZX0xPR0lDX1RFUk5BUllfQ09ORElUSU9OfSAlMVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIklGXCIsY2hlY2s6XCJCb29sZWFuXCJ9XSxcbm1lc3NhZ2UxOlwiJXtCS1lfTE9HSUNfVEVSTkFSWV9JRl9UUlVFfSAlMVwiLGFyZ3MxOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRIRU5cIn1dLG1lc3NhZ2UyOlwiJXtCS1lfTE9HSUNfVEVSTkFSWV9JRl9GQUxTRX0gJTFcIixhcmdzMjpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJFTFNFXCJ9XSxvdXRwdXQ6bnVsbCxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MT0dJQ19URVJOQVJZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xPR0lDX1RFUk5BUllfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImxvZ2ljX3Rlcm5hcnlcIl19LHt0eXBlOlwiY29udHJvbHNfaWZfaWZcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0lGX0lGX1RJVExFX0lGfVwiLG5leHRTdGF0ZW1lbnQ6bnVsbCxlbmFibGVDb250ZXh0TWVudTohMSxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19JRl9JRl9UT09MVElQfVwifSx7dHlwZTpcImNvbnRyb2xzX2lmX2Vsc2VpZlwiLFxubWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19JRl9FTFNFSUZfVElUTEVfRUxTRUlGfVwiLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLGVuYWJsZUNvbnRleHRNZW51OiExLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0NPTlRST0xTX0lGX0VMU0VJRl9UT09MVElQfVwifSx7dHlwZTpcImNvbnRyb2xzX2lmX2Vsc2VcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0lGX0VMU0VfVElUTEVfRUxTRX1cIixwcmV2aW91c1N0YXRlbWVudDpudWxsLGVuYWJsZUNvbnRleHRNZW51OiExLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0NPTlRST0xTX0lGX0VMU0VfVE9PTFRJUH1cIn1dKSxUT09MVElQU19CWV9PUCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9e0VROlwiJXtCS1lfTE9HSUNfQ09NUEFSRV9UT09MVElQX0VRfVwiLE5FUTpcIiV7QktZX0xPR0lDX0NPTVBBUkVfVE9PTFRJUF9ORVF9XCIsTFQ6XCIle0JLWV9MT0dJQ19DT01QQVJFX1RPT0xUSVBfTFR9XCIsXG5MVEU6XCIle0JLWV9MT0dJQ19DT01QQVJFX1RPT0xUSVBfTFRFfVwiLEdUOlwiJXtCS1lfTE9HSUNfQ09NUEFSRV9UT09MVElQX0dUfVwiLEdURTpcIiV7QktZX0xPR0lDX0NPTVBBUkVfVE9PTFRJUF9HVEV9XCIsQU5EOlwiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfQU5EfVwiLE9SOlwiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfT1J9XCJ9OyQucmVnaXN0ZXIkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwibG9naWNfb3BfdG9vbHRpcFwiLCQuYnVpbGRUb29sdGlwRm9yRHJvcGRvd24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwiT1BcIixUT09MVElQU19CWV9PUCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWMpKTtcbnZhciBDT05UUk9MU19JRl9NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYz17ZWxzZWlmQ291bnRfOjAsZWxzZUNvdW50XzowLG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtpZighdGhpcy5lbHNlaWZDb3VudF8mJiF0aGlzLmVsc2VDb3VudF8pcmV0dXJuIG51bGw7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTt0aGlzLmVsc2VpZkNvdW50XyYmYS5zZXRBdHRyaWJ1dGUoXCJlbHNlaWZcIixTdHJpbmcodGhpcy5lbHNlaWZDb3VudF8pKTt0aGlzLmVsc2VDb3VudF8mJmEuc2V0QXR0cmlidXRlKFwiZWxzZVwiLFwiMVwiKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt0aGlzLmVsc2VpZkNvdW50Xz1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcImVsc2VpZlwiKSwxMCl8fDA7dGhpcy5lbHNlQ291bnRfPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiZWxzZVwiKSwxMCl8fDA7dGhpcy5yZWJ1aWxkU2hhcGVfKCl9LFxuc2F2ZUV4dHJhU3RhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5lbHNlaWZDb3VudF8mJiF0aGlzLmVsc2VDb3VudF8pcmV0dXJuIG51bGw7Y29uc3QgYT1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuZWxzZWlmQ291bnRfJiYoYS5lbHNlSWZDb3VudD10aGlzLmVsc2VpZkNvdW50Xyk7dGhpcy5lbHNlQ291bnRfJiYoYS5oYXNFbHNlPSEwKTtyZXR1cm4gYX0sbG9hZEV4dHJhU3RhdGU6ZnVuY3Rpb24oYSl7dGhpcy5lbHNlaWZDb3VudF89YS5lbHNlSWZDb3VudHx8MDt0aGlzLmVsc2VDb3VudF89YS5oYXNFbHNlPzE6MDt0aGlzLnVwZGF0ZVNoYXBlXygpfSxkZWNvbXBvc2U6ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLm5ld0Jsb2NrKFwiY29udHJvbHNfaWZfaWZcIik7Yi5pbml0U3ZnKCk7bGV0IGM9Yi5uZXh0Q29ubmVjdGlvbjtmb3IobGV0IGQ9MTtkPD10aGlzLmVsc2VpZkNvdW50XztkKyspe2NvbnN0IGU9YS5uZXdCbG9jayhcImNvbnRyb2xzX2lmX2Vsc2VpZlwiKTtlLmluaXRTdmcoKTtjLmNvbm5lY3QoZS5wcmV2aW91c0Nvbm5lY3Rpb24pO1xuYz1lLm5leHRDb25uZWN0aW9ufXRoaXMuZWxzZUNvdW50XyYmKGE9YS5uZXdCbG9jayhcImNvbnRyb2xzX2lmX2Vsc2VcIiksYS5pbml0U3ZnKCksYy5jb25uZWN0KGEucHJldmlvdXNDb25uZWN0aW9uKSk7cmV0dXJuIGJ9LGNvbXBvc2U6ZnVuY3Rpb24oYSl7YT1hLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7dGhpcy5lbHNlQ291bnRfPXRoaXMuZWxzZWlmQ291bnRfPTA7Y29uc3QgYj1bbnVsbF0sYz1bbnVsbF07bGV0IGQ9bnVsbDtmb3IoO2E7KXtpZighYS5pc0luc2VydGlvbk1hcmtlcigpKXN3aXRjaChhLnR5cGUpe2Nhc2UgXCJjb250cm9sc19pZl9lbHNlaWZcIjp0aGlzLmVsc2VpZkNvdW50XysrO2IucHVzaChhLnZhbHVlQ29ubmVjdGlvbl8pO2MucHVzaChhLnN0YXRlbWVudENvbm5lY3Rpb25fKTticmVhaztjYXNlIFwiY29udHJvbHNfaWZfZWxzZVwiOnRoaXMuZWxzZUNvdW50XysrO2Q9YS5zdGF0ZW1lbnRDb25uZWN0aW9uXzticmVhaztkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIlVua25vd24gYmxvY2sgdHlwZTogXCIrXG5hLnR5cGUpO31hPWEuZ2V0TmV4dEJsb2NrKCl9dGhpcy51cGRhdGVTaGFwZV8oKTt0aGlzLnJlY29ubmVjdENoaWxkQmxvY2tzXyhiLGMsZCl9LHNhdmVDb25uZWN0aW9uczpmdW5jdGlvbihhKXthPWEubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtsZXQgYj0xO2Zvcig7YTspe2lmKCFhLmlzSW5zZXJ0aW9uTWFya2VyKCkpc3dpdGNoKGEudHlwZSl7Y2FzZSBcImNvbnRyb2xzX2lmX2Vsc2VpZlwiOnZhciBjPXRoaXMuZ2V0SW5wdXQoXCJJRlwiK2IpO2NvbnN0IGQ9dGhpcy5nZXRJbnB1dChcIkRPXCIrYik7YS52YWx1ZUNvbm5lY3Rpb25fPWMmJmMuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2Euc3RhdGVtZW50Q29ubmVjdGlvbl89ZCYmZC5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb247YisrO2JyZWFrO2Nhc2UgXCJjb250cm9sc19pZl9lbHNlXCI6Yz10aGlzLmdldElucHV0KFwiRUxTRVwiKTthLnN0YXRlbWVudENvbm5lY3Rpb25fPWMmJmMuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO1xuYnJlYWs7ZGVmYXVsdDp0aHJvdyBUeXBlRXJyb3IoXCJVbmtub3duIGJsb2NrIHR5cGU6IFwiK2EudHlwZSk7fWE9YS5nZXROZXh0QmxvY2soKX19LHJlYnVpbGRTaGFwZV86ZnVuY3Rpb24oKXtjb25zdCBhPVtudWxsXSxiPVtudWxsXTtsZXQgYz1udWxsO3RoaXMuZ2V0SW5wdXQoXCJFTFNFXCIpJiYoYz10aGlzLmdldElucHV0KFwiRUxTRVwiKS5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pO2ZvcihsZXQgZD0xO3RoaXMuZ2V0SW5wdXQoXCJJRlwiK2QpO2QrKyl7Y29uc3QgZT10aGlzLmdldElucHV0KFwiSUZcIitkKSxmPXRoaXMuZ2V0SW5wdXQoXCJET1wiK2QpO2EucHVzaChlLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbik7Yi5wdXNoKGYuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uKX10aGlzLnVwZGF0ZVNoYXBlXygpO3RoaXMucmVjb25uZWN0Q2hpbGRCbG9ja3NfKGEsYixjKX0sdXBkYXRlU2hhcGVfOmZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dChcIkVMU0VcIikmJnRoaXMucmVtb3ZlSW5wdXQoXCJFTFNFXCIpO1xuZm9yKHZhciBhPTE7dGhpcy5nZXRJbnB1dChcIklGXCIrYSk7YSsrKXRoaXMucmVtb3ZlSW5wdXQoXCJJRlwiK2EpLHRoaXMucmVtb3ZlSW5wdXQoXCJET1wiK2EpO2ZvcihhPTE7YTw9dGhpcy5lbHNlaWZDb3VudF87YSsrKXRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIklGXCIrYSkuc2V0Q2hlY2soXCJCb29sZWFuXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX01TR19FTFNFSUYpLHRoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJET1wiK2EpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX01TR19USEVOKTt0aGlzLmVsc2VDb3VudF8mJnRoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJFTFNFXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX01TR19FTFNFKX0scmVjb25uZWN0Q2hpbGRCbG9ja3NfOmZ1bmN0aW9uKGEsYixjKXtmb3IobGV0IGQ9XG4xO2Q8PXRoaXMuZWxzZWlmQ291bnRfO2QrKyl7bGV0IGU7KGU9YVtkXSk9PW51bGx8fGUucmVjb25uZWN0KHRoaXMsXCJJRlwiK2QpO2xldCBmOyhmPWJbZF0pPT1udWxsfHxmLnJlY29ubmVjdCh0aGlzLFwiRE9cIitkKX1jPT1udWxsfHxjLnJlY29ubmVjdCh0aGlzLFwiRUxTRVwiKX19OyQucmVnaXN0ZXJNdXRhdG9yJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXh0ZW5zaW9ucyhcImNvbnRyb2xzX2lmX211dGF0b3JcIixDT05UUk9MU19JRl9NVVRBVE9SX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyxudWxsLFtcImNvbnRyb2xzX2lmX2Vsc2VpZlwiLFwiY29udHJvbHNfaWZfZWxzZVwiXSk7XG52YXIgQ09OVFJPTFNfSUZfVE9PTFRJUF9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljPWZ1bmN0aW9uKCl7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7aWYodGhpcy5lbHNlaWZDb3VudF98fHRoaXMuZWxzZUNvdW50Xyl7aWYoIXRoaXMuZWxzZWlmQ291bnRfJiZ0aGlzLmVsc2VDb3VudF8pcmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX1RPT0xUSVBfMjtpZih0aGlzLmVsc2VpZkNvdW50XyYmIXRoaXMuZWxzZUNvdW50XylyZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuQ09OVFJPTFNfSUZfVE9PTFRJUF8zO2lmKHRoaXMuZWxzZWlmQ291bnRfJiZ0aGlzLmVsc2VDb3VudF8pcmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkNPTlRST0xTX0lGX1RPT0xUSVBfNH1lbHNlIHJldHVybiAkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5DT05UUk9MU19JRl9UT09MVElQXzE7XG5yZXR1cm5cIlwifS5iaW5kKHRoaXMpKX07JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJjb250cm9sc19pZl90b29sdGlwXCIsQ09OVFJPTFNfSUZfVE9PTFRJUF9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljKTtcbnZhciBMT0dJQ19DT01QQVJFX09OQ0hBTkdFX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYz17b25jaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5wcmV2QmxvY2tzX3x8KHRoaXMucHJldkJsb2Nrc189W251bGwsbnVsbF0pO3ZhciBiPXRoaXMuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIkFcIik7Y29uc3QgYz10aGlzLmdldElucHV0VGFyZ2V0QmxvY2soXCJCXCIpO2ImJmMmJiF0aGlzLndvcmtzcGFjZS5jb25uZWN0aW9uQ2hlY2tlci5kb1R5cGVDaGVja3MoYi5vdXRwdXRDb25uZWN0aW9uLGMub3V0cHV0Q29ubmVjdGlvbikmJigkLnNldEdyb3VwJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZXZlbnRzJHV0aWxzKGEuZ3JvdXApLGE9dGhpcy5wcmV2QmxvY2tzX1swXSxhIT09YiYmKGIudW5wbHVnKCksIWF8fGEuaXNEaXNwb3NlZCgpfHxhLmlzU2hhZG93KCl8fHRoaXMuZ2V0SW5wdXQoXCJBXCIpLmNvbm5lY3Rpb24uY29ubmVjdChhLm91dHB1dENvbm5lY3Rpb24pKSxiPXRoaXMucHJldkJsb2Nrc19bMV0sXG5iIT09YyYmKGMudW5wbHVnKCksIWJ8fGIuaXNEaXNwb3NlZCgpfHxiLmlzU2hhZG93KCl8fHRoaXMuZ2V0SW5wdXQoXCJCXCIpLmNvbm5lY3Rpb24uY29ubmVjdChiLm91dHB1dENvbm5lY3Rpb24pKSx0aGlzLmJ1bXBOZWlnaGJvdXJzKCksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSkpO3RoaXMucHJldkJsb2Nrc19bMF09dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiQVwiKTt0aGlzLnByZXZCbG9ja3NfWzFdPXRoaXMuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIkJcIil9fSxMT0dJQ19DT01QQVJFX0VYVEVOU0lPTiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9ZnVuY3Rpb24oKXt0aGlzLm1peGluKExPR0lDX0NPTVBBUkVfT05DSEFOR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljKX07JC5yZWdpc3RlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV4dGVuc2lvbnMoXCJsb2dpY19jb21wYXJlXCIsTE9HSUNfQ09NUEFSRV9FWFRFTlNJT04kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljKTtcbnZhciBMT0dJQ19URVJOQVJZX09OQ0hBTkdFX01JWElOJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYz17cHJldlBhcmVudENvbm5lY3Rpb25fOm51bGwsb25jaGFuZ2U6ZnVuY3Rpb24oYSl7Y29uc3QgYj10aGlzLmdldElucHV0VGFyZ2V0QmxvY2soXCJUSEVOXCIpLGM9dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiRUxTRVwiKSxkPXRoaXMub3V0cHV0Q29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2lmKChifHxjKSYmZClmb3IobGV0IGU9MDtlPDI7ZSsrKXtjb25zdCBmPWU9PT0xP2I6YztmJiYhZi53b3Jrc3BhY2UuY29ubmVjdGlvbkNoZWNrZXIuZG9UeXBlQ2hlY2tzKGYub3V0cHV0Q29ubmVjdGlvbixkKSYmKCQuc2V0R3JvdXAkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRldmVudHMkdXRpbHMoYS5ncm91cCksZD09PXRoaXMucHJldlBhcmVudENvbm5lY3Rpb25fPyh0aGlzLnVucGx1ZygpLGQuZ2V0U291cmNlQmxvY2soKS5idW1wTmVpZ2hib3VycygpKTooZi51bnBsdWcoKSxcbmYuYnVtcE5laWdoYm91cnMoKSksJC5zZXRHcm91cCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGV2ZW50cyR1dGlscyghMSkpfXRoaXMucHJldlBhcmVudENvbm5lY3Rpb25fPWR9fTskLnJlZ2lzdGVyTWl4aW4kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRleHRlbnNpb25zKFwibG9naWNfdGVybmFyeVwiLExPR0lDX1RFUk5BUllfT05DSEFOR0VfTUlYSU4kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljKTskLmRlZmluZUJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGNvbW1vbihibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljKTt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9naWM9e2Jsb2NrczpibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljfTt2YXIgYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz0kLmNyZWF0ZUJsb2NrRGVmaW5pdGlvbnNGcm9tSnNvbkFycmF5JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKFt7dHlwZTpcImxpc3RzX2NyZWF0ZV9lbXB0eVwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfQ1JFQVRFX0VNUFRZX1RJVExFfVwiLG91dHB1dDpcIkFycmF5XCIsc3R5bGU6XCJsaXN0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MSVNUU19DUkVBVEVfRU1QVFlfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTElTVFNfQ1JFQVRFX0VNUFRZX0hFTFBVUkx9XCJ9LHt0eXBlOlwibGlzdHNfcmVwZWF0XCIsbWVzc2FnZTA6XCIle0JLWV9MSVNUU19SRVBFQVRfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiSVRFTVwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIk5VTVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxvdXRwdXQ6XCJBcnJheVwiLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfUkVQRUFUX1RPT0xUSVB9XCIsXG5oZWxwVXJsOlwiJXtCS1lfTElTVFNfUkVQRUFUX0hFTFBVUkx9XCJ9LHt0eXBlOlwibGlzdHNfcmV2ZXJzZVwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfUkVWRVJTRV9NRVNTQUdFMH1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJMSVNUXCIsY2hlY2s6XCJBcnJheVwifV0sb3V0cHV0OlwiQXJyYXlcIixpbnB1dHNJbmxpbmU6ITAsc3R5bGU6XCJsaXN0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MSVNUU19SRVZFUlNFX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX1JFVkVSU0VfSEVMUFVSTH1cIn0se3R5cGU6XCJsaXN0c19pc0VtcHR5XCIsbWVzc2FnZTA6XCIle0JLWV9MSVNUU19JU0VNUFRZX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6W1wiU3RyaW5nXCIsXCJBcnJheVwiXX1dLG91dHB1dDpcIkJvb2xlYW5cIixzdHlsZTpcImxpc3RfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xJU1RTX0lTRU1QVFlfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTElTVFNfSVNFTVBUWV9IRUxQVVJMfVwifSxcbnt0eXBlOlwibGlzdHNfbGVuZ3RoXCIsbWVzc2FnZTA6XCIle0JLWV9MSVNUU19MRU5HVEhfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIixjaGVjazpbXCJTdHJpbmdcIixcIkFycmF5XCJdfV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJsaXN0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MSVNUU19MRU5HVEhfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTElTVFNfTEVOR1RIX0hFTFBVUkx9XCJ9XSksTElTVFNfQ1JFQVRFX1dJVEgkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9XSVRIX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLml0ZW1Db3VudF89Mzt0aGlzLnVwZGF0ZVNoYXBlXygpO3RoaXMuc2V0T3V0cHV0KCEwLFwiQXJyYXlcIik7dGhpcy5zZXRNdXRhdG9yKG5ldyAkLk11dGF0b3JJY29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaWNvbnMkbXV0YXRvcl9pY29uKFtcImxpc3RzX2NyZWF0ZV93aXRoX2l0ZW1cIl0sXG50aGlzKSk7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9XSVRIX1RPT0xUSVApfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcIml0ZW1zXCIsU3RyaW5nKHRoaXMuaXRlbUNvdW50XykpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9YS5nZXRBdHRyaWJ1dGUoXCJpdGVtc1wiKTtpZighYSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZWxlbWVudCBkaWQgbm90IGhhdmUgaXRlbXNcIik7dGhpcy5pdGVtQ291bnRfPXBhcnNlSW50KGEsMTApO3RoaXMudXBkYXRlU2hhcGVfKCl9LHNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2l0ZW1Db3VudDp0aGlzLml0ZW1Db3VudF99fSxsb2FkRXh0cmFTdGF0ZTpmdW5jdGlvbihhKXt0aGlzLml0ZW1Db3VudF89YS5pdGVtQ291bnQ7XG50aGlzLnVwZGF0ZVNoYXBlXygpfSxkZWNvbXBvc2U6ZnVuY3Rpb24oYSl7Y29uc3QgYj1hLm5ld0Jsb2NrKFwibGlzdHNfY3JlYXRlX3dpdGhfY29udGFpbmVyXCIpO2IuaW5pdFN2ZygpO2xldCBjPWIuZ2V0SW5wdXQoXCJTVEFDS1wiKS5jb25uZWN0aW9uO2ZvcihsZXQgZD0wO2Q8dGhpcy5pdGVtQ291bnRfO2QrKyl7Y29uc3QgZT1hLm5ld0Jsb2NrKFwibGlzdHNfY3JlYXRlX3dpdGhfaXRlbVwiKTtlLmluaXRTdmcoKTtpZighZS5wcmV2aW91c0Nvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJpdGVtQmxvY2sgaGFzIG5vIHByZXZpb3VzQ29ubmVjdGlvblwiKTtjLmNvbm5lY3QoZS5wcmV2aW91c0Nvbm5lY3Rpb24pO2M9ZS5uZXh0Q29ubmVjdGlvbn1yZXR1cm4gYn0sY29tcG9zZTpmdW5jdGlvbihhKXt2YXIgYj1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtmb3IoYT1bXTtiOyliLmlzSW5zZXJ0aW9uTWFya2VyKCl8fGEucHVzaChiLnZhbHVlQ29ubmVjdGlvbl8pLGI9Yi5nZXROZXh0QmxvY2soKTtcbmZvcihiPTA7Yjx0aGlzLml0ZW1Db3VudF87YisrKXtjb25zdCBjPXRoaXMuZ2V0SW5wdXQoXCJBRERcIitiKS5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb247YyYmIWEuaW5jbHVkZXMoYykmJmMuZGlzY29ubmVjdCgpfXRoaXMuaXRlbUNvdW50Xz1hLmxlbmd0aDt0aGlzLnVwZGF0ZVNoYXBlXygpO2ZvcihiPTA7Yjx0aGlzLml0ZW1Db3VudF87YisrKXtsZXQgYzsoYz1hW2JdKT09bnVsbHx8Yy5yZWNvbm5lY3QodGhpcyxcIkFERFwiK2IpfX0sc2F2ZUNvbm5lY3Rpb25zOmZ1bmN0aW9uKGEpe2E9YS5nZXRJbnB1dFRhcmdldEJsb2NrKFwiU1RBQ0tcIik7bGV0IGI9MDtmb3IoO2E7KXtpZihhLmlzSW5zZXJ0aW9uTWFya2VyKCkpe2E9YS5nZXROZXh0QmxvY2soKTtjb250aW51ZX1jb25zdCBjPXRoaXMuZ2V0SW5wdXQoXCJBRERcIitiKTtsZXQgZDthLnZhbHVlQ29ubmVjdGlvbl89KGQ9Yyk9PW51bGw/dm9pZCAwOmQuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2E9YS5nZXROZXh0QmxvY2soKTtcbmIrK319LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbigpe3RoaXMuaXRlbUNvdW50XyYmdGhpcy5nZXRJbnB1dChcIkVNUFRZXCIpP3RoaXMucmVtb3ZlSW5wdXQoXCJFTVBUWVwiKTp0aGlzLml0ZW1Db3VudF98fHRoaXMuZ2V0SW5wdXQoXCJFTVBUWVwiKXx8dGhpcy5hcHBlbmREdW1teUlucHV0KFwiRU1QVFlcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfQ1JFQVRFX0VNUFRZX1RJVExFKTtmb3IodmFyIGE9MDthPHRoaXMuaXRlbUNvdW50XzthKyspaWYoIXRoaXMuZ2V0SW5wdXQoXCJBRERcIithKSl7Y29uc3QgYj10aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBRERcIithKS5zZXRBbGlnbigkLkFsaWduJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJGFsaWduLlJJR0hUKTthPT09MCYmYi5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19DUkVBVEVfV0lUSF9JTlBVVF9XSVRIKX1mb3IoYT10aGlzLml0ZW1Db3VudF87dGhpcy5nZXRJbnB1dChcIkFERFwiK1xuYSk7YSsrKXRoaXMucmVtb3ZlSW5wdXQoXCJBRERcIithKX19O2Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMubGlzdHNfY3JlYXRlX3dpdGg9TElTVFNfQ1JFQVRFX1dJVEgkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzO3ZhciBMSVNUU19DUkVBVEVfV0lUSF9DT05UQUlORVIkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShcImxpc3RfYmxvY2tzXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9XSVRIX0NPTlRBSU5FUl9USVRMRV9BREQpO3RoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJTVEFDS1wiKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfQ1JFQVRFX1dJVEhfQ09OVEFJTkVSX1RPT0xUSVApO3RoaXMuY29udGV4dE1lbnU9ITF9fTtcbmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMubGlzdHNfY3JlYXRlX3dpdGhfY29udGFpbmVyPUxJU1RTX0NSRUFURV9XSVRIX0NPTlRBSU5FUiQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM7dmFyIExJU1RTX0NSRUFURV9XSVRIX0lURU0kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShcImxpc3RfYmxvY2tzXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9XSVRIX0lURU1fVElUTEUpO3RoaXMuc2V0UHJldmlvdXNTdGF0ZW1lbnQoITApO3RoaXMuc2V0TmV4dFN0YXRlbWVudCghMCk7dGhpcy5zZXRUb29sdGlwKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0NSRUFURV9XSVRIX0lURU1fVE9PTFRJUCk7dGhpcy5jb250ZXh0TWVudT0hMX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cy5saXN0c19jcmVhdGVfd2l0aF9pdGVtPUxJU1RTX0NSRUFURV9XSVRIX0lURU0kJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzO1xudmFyIExJU1RTX0lOREVYT0YkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzPXtpbml0OmZ1bmN0aW9uKCl7dmFyIGE9W1skLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9PRl9GSVJTVCxcIkZJUlNUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9PRl9MQVNULFwiTEFTVFwiXV07dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0lOREVYX09GX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLnNldE91dHB1dCghMCxcIk51bWJlclwiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJWQUxVRVwiKS5zZXRDaGVjayhcIkFycmF5XCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0lOREVYX09GX0lOUFVUX0lOX0xJU1QpO2E9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixcbm9wdGlvbnM6YX0pO2lmKCFhKXRocm93IEVycm9yKFwiZmllbGRfZHJvcGRvd24gbm90IGZvdW5kXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkZJTkRcIikuYXBwZW5kRmllbGQoYSxcIkVORFwiKTt0aGlzLnNldElucHV0c0lubGluZSghMCk7dGhpcy5zZXRUb29sdGlwKCgpPT4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19JTkRFWF9PRl9UT09MVElQLnJlcGxhY2UoXCIlMVwiLHRoaXMud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cIjBcIjpcIi0xXCIpKX19O2Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMubGlzdHNfaW5kZXhPZj1MSVNUU19JTkRFWE9GJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cztcbnZhciBMSVNUU19HRVRJTkRFWCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1bWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9HRVQsXCJHRVRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9HRVRfUkVNT1ZFLFwiR0VUX1JFTU9WRVwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1JFTU9WRSxcIlJFTU9WRVwiXV07dGhpcy5XSEVSRV9PUFRJT05TPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0ZJUlNULFwiRklSU1RcIl0sXG5bJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0xBU1QsXCJMQVNUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfUkFORE9NLFwiUkFORE9NXCJdXTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTthPSQuZnJvbUpzb24kJG1vZHVsZSRidWlsZCRzcmMkY29yZSRmaWVsZF9yZWdpc3RyeSh7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsb3B0aW9uczphfSk7YS5zZXRWYWxpZGF0b3IoZnVuY3Rpb24oYil7Yj1iPT09XCJSRU1PVkVcIjt0aGlzLmdldFNvdXJjZUJsb2NrKCkudXBkYXRlU3RhdGVtZW50XyhiKX0pO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlZBTFVFXCIpLnNldENoZWNrKFwiQXJyYXlcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0lOUFVUX0lOX0xJU1QpO1xudGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoYSxcIk1PREVcIikuYXBwZW5kRmllbGQoXCJcIixcIlNQQUNFXCIpO2E9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOnRoaXMuV0hFUkVfT1BUSU9OU30pO2Euc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGIpe2NvbnN0IGM9dGhpcy5nZXRWYWx1ZSgpO2I9Yj09PVwiRlJPTV9TVEFSVFwifHxiPT09XCJGUk9NX0VORFwiO2IhPT0oYz09PVwiRlJPTV9TVEFSVFwifHxjPT09XCJGUk9NX0VORFwiKSYmdGhpcy5nZXRTb3VyY2VCbG9jaygpLnVwZGF0ZUF0XyhiKX0pO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKGEsXCJXSEVSRVwiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVFwiKTskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVEFJTCYmdGhpcy5hcHBlbmREdW1teUlucHV0KFwiVEFJTFwiKS5hcHBlbmRGaWVsZCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVEFJTCk7XG50aGlzLnNldElucHV0c0lubGluZSghMCk7dGhpcy5zZXRPdXRwdXQoITApO3RoaXMudXBkYXRlQXRfKCEwKTt0aGlzLnNldFRvb2x0aXAoKCk9Pntjb25zdCBiPXRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIiksYz10aGlzLmdldEZpZWxkVmFsdWUoXCJXSEVSRVwiKTtsZXQgZD1cIlwiO3N3aXRjaChiK1wiIFwiK2Mpe2Nhc2UgXCJHRVQgRlJPTV9TVEFSVFwiOmNhc2UgXCJHRVQgRlJPTV9FTkRcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9GUk9NO2JyZWFrO2Nhc2UgXCJHRVQgRklSU1RcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9GSVJTVDticmVhaztjYXNlIFwiR0VUIExBU1RcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9MQVNUO2JyZWFrO2Nhc2UgXCJHRVQgUkFORE9NXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkFORE9NO1xuYnJlYWs7Y2FzZSBcIkdFVF9SRU1PVkUgRlJPTV9TVEFSVFwiOmNhc2UgXCJHRVRfUkVNT1ZFIEZST01fRU5EXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0ZST007YnJlYWs7Y2FzZSBcIkdFVF9SRU1PVkUgRklSU1RcIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfRklSU1Q7YnJlYWs7Y2FzZSBcIkdFVF9SRU1PVkUgTEFTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9MQVNUO2JyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIFJBTkRPTVwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9SQU5ET007YnJlYWs7Y2FzZSBcIlJFTU9WRSBGUk9NX1NUQVJUXCI6Y2FzZSBcIlJFTU9WRSBGUk9NX0VORFwiOmQ9XG4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfRlJPTTticmVhaztjYXNlIFwiUkVNT1ZFIEZJUlNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfRklSU1Q7YnJlYWs7Y2FzZSBcIlJFTU9WRSBMQVNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfTEFTVDticmVhaztjYXNlIFwiUkVNT1ZFIFJBTkRPTVwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX1JBTkRPTX1pZihjPT09XCJGUk9NX1NUQVJUXCJ8fGM9PT1cIkZST01fRU5EXCIpZCs9XCIgIFwiKyhjPT09XCJGUk9NX1NUQVJUXCI/JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfSU5ERVhfRlJPTV9TVEFSVF9UT09MVElQOiQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0lOREVYX0ZST01fRU5EX1RPT0xUSVApLnJlcGxhY2UoXCIlMVwiLFxudGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1wiIzFcIjpcIiMwXCIpO3JldHVybiBkfSl9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwic3RhdGVtZW50XCIsU3RyaW5nKCF0aGlzLm91dHB1dENvbm5lY3Rpb24pKTtjb25zdCBiPXRoaXMuZ2V0SW5wdXQoXCJBVFwiKWluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O2Euc2V0QXR0cmlidXRlKFwiYXRcIixTdHJpbmcoYikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5nZXRBdHRyaWJ1dGUoXCJzdGF0ZW1lbnRcIik9PT1cInRydWVcIjt0aGlzLnVwZGF0ZVN0YXRlbWVudF8oYik7YT1hLmdldEF0dHJpYnV0ZShcImF0XCIpIT09XCJmYWxzZVwiO3RoaXMudXBkYXRlQXRfKGEpfSxzYXZlRXh0cmFTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dENvbm5lY3Rpb24/XG5udWxsOntpc1N0YXRlbWVudDohMH19LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKGEpe2EuaXNTdGF0ZW1lbnQ/dGhpcy51cGRhdGVTdGF0ZW1lbnRfKCEwKTp0eXBlb2YgYT09PVwic3RyaW5nXCImJnRoaXMuZG9tVG9NdXRhdGlvbigkLnRleHRUb0RvbSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChhKSl9LHVwZGF0ZVN0YXRlbWVudF86ZnVuY3Rpb24oYSl7YSE9PSF0aGlzLm91dHB1dENvbm5lY3Rpb24mJih0aGlzLnVucGx1ZyghMCwhMCksYT8odGhpcy5zZXRPdXRwdXQoITEpLHRoaXMuc2V0UHJldmlvdXNTdGF0ZW1lbnQoITApLHRoaXMuc2V0TmV4dFN0YXRlbWVudCghMCkpOih0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCExKSx0aGlzLnNldE5leHRTdGF0ZW1lbnQoITEpLHRoaXMuc2V0T3V0cHV0KCEwKSkpfSx1cGRhdGVBdF86ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVJbnB1dChcIkFUXCIpO3RoaXMucmVtb3ZlSW5wdXQoXCJPUkRJTkFMXCIsITApO2E/KHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFUXCIpLnNldENoZWNrKFwiTnVtYmVyXCIpLFxuJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCkpOnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIpOyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9UQUlMJiZ0aGlzLm1vdmVJbnB1dEJlZm9yZShcIlRBSUxcIixudWxsKX19O2Jsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMubGlzdHNfZ2V0SW5kZXg9TElTVFNfR0VUSU5ERVgkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzO1xudmFyIExJU1RTX1NFVElOREVYJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17aW5pdDpmdW5jdGlvbigpe3ZhciBhPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1NFVCxcIlNFVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX0lOU0VSVCxcIklOU0VSVFwiXV07dGhpcy5XSEVSRV9PUFRJT05TPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfSU5ERVhfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX0ZJUlNULFwiRklSU1RcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9JTkRFWF9MQVNULFwiTEFTVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX0lOREVYX1JBTkRPTSxcblwiUkFORE9NXCJdXTt0aGlzLnNldEhlbHBVcmwoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJMSVNUXCIpLnNldENoZWNrKFwiQXJyYXlcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX0lOUFVUX0lOX0xJU1QpO2E9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOmF9KTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChhLFwiTU9ERVwiKS5hcHBlbmRGaWVsZChcIlwiLFwiU1BBQ0VcIik7YT0kLmZyb21Kc29uJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkZmllbGRfcmVnaXN0cnkoe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG9wdGlvbnM6dGhpcy5XSEVSRV9PUFRJT05TfSk7YS5zZXRWYWxpZGF0b3IoZnVuY3Rpb24oYil7Y29uc3QgYz1cbnRoaXMuZ2V0VmFsdWUoKTtiPWI9PT1cIkZST01fU1RBUlRcInx8Yj09PVwiRlJPTV9FTkRcIjtiIT09KGM9PT1cIkZST01fU1RBUlRcInx8Yz09PVwiRlJPTV9FTkRcIikmJnRoaXMuZ2V0U291cmNlQmxvY2soKS51cGRhdGVBdF8oYil9KTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChhLFwiV0hFUkVcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVRcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVE9cIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX0lOUFVUX1RPKTt0aGlzLnNldElucHV0c0lubGluZSghMCk7dGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMCk7dGhpcy5zZXROZXh0U3RhdGVtZW50KCEwKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVApO3RoaXMudXBkYXRlQXRfKCEwKTt0aGlzLnNldFRvb2x0aXAoKCk9Pntjb25zdCBiPVxudGhpcy5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKSxjPXRoaXMuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpO2xldCBkPVwiXCI7c3dpdGNoKGIrXCIgXCIrYyl7Y2FzZSBcIlNFVCBGUk9NX1NUQVJUXCI6Y2FzZSBcIlNFVCBGUk9NX0VORFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0ZST007YnJlYWs7Y2FzZSBcIlNFVCBGSVJTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0ZJUlNUO2JyZWFrO2Nhc2UgXCJTRVQgTEFTVFwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0xBU1Q7YnJlYWs7Y2FzZSBcIlNFVCBSQU5ET01cIjpkPSQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9SQU5ET007YnJlYWs7Y2FzZSBcIklOU0VSVCBGUk9NX1NUQVJUXCI6Y2FzZSBcIklOU0VSVCBGUk9NX0VORFwiOmQ9XG4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfRlJPTTticmVhaztjYXNlIFwiSU5TRVJUIEZJUlNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfRklSU1Q7YnJlYWs7Y2FzZSBcIklOU0VSVCBMQVNUXCI6ZD0kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfTEFTVDticmVhaztjYXNlIFwiSU5TRVJUIFJBTkRPTVwiOmQ9JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX1JBTkRPTX1pZihjPT09XCJGUk9NX1NUQVJUXCJ8fGM9PT1cIkZST01fRU5EXCIpZCs9XCIgIFwiKyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0lOREVYX0ZST01fU1RBUlRfVE9PTFRJUC5yZXBsYWNlKFwiJTFcIix0aGlzLndvcmtzcGFjZS5vcHRpb25zLm9uZUJhc2VkSW5kZXg/XG5cIiMxXCI6XCIjMFwiKTtyZXR1cm4gZH0pfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7Y29uc3QgYT0kLmNyZWF0ZUVsZW1lbnQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR1dGlscyR4bWwoXCJtdXRhdGlvblwiKSxiPXRoaXMuZ2V0SW5wdXQoXCJBVFwiKWluc3RhbmNlb2YgJC5WYWx1ZUlucHV0JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkaW5wdXRzJHZhbHVlX2lucHV0O2Euc2V0QXR0cmlidXRlKFwiYXRcIixTdHJpbmcoYikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9YS5nZXRBdHRyaWJ1dGUoXCJhdFwiKSE9PVwiZmFsc2VcIjt0aGlzLnVwZGF0ZUF0XyhhKX0sc2F2ZUV4dHJhU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sbG9hZEV4dHJhU3RhdGU6ZnVuY3Rpb24oKXt9LHVwZGF0ZUF0XzpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUlucHV0KFwiQVRcIik7dGhpcy5yZW1vdmVJbnB1dChcIk9SRElOQUxcIiwhMCk7YT8odGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQVRcIikuc2V0Q2hlY2soXCJOdW1iZXJcIiksXG4kLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIk9SRElOQUxcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYKSk6dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVRcIik7dGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJBVFwiLFwiVE9cIik7dGhpcy5nZXRJbnB1dChcIk9SRElOQUxcIikmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiT1JESU5BTFwiLFwiVE9cIil9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX3NldEluZGV4PUxJU1RTX1NFVElOREVYJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cztcbnZhciBMSVNUU19HRVRTVUJMSVNUJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17aW5pdDpmdW5jdGlvbigpe3RoaXMuV0hFUkVfT1BUSU9OU18xPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRlJPTV9TVEFSVCxcIkZST01fU1RBUlRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1NUQVJUX0ZST01fRU5ELFwiRlJPTV9FTkRcIl0sWyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1NUQVJUX0ZJUlNULFwiRklSU1RcIl1dO3RoaXMuV0hFUkVfT1BUSU9OU18yPVtbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfRU5EX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9FTkRfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxcblskLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9FTkRfTEFTVCxcIkxBU1RcIl1dO3RoaXMuc2V0SGVscFVybCgkLk1zZyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG1zZy5MSVNUU19HRVRfU1VCTElTVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiTElTVFwiKS5zZXRDaGVjayhcIkFycmF5XCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX0lOUFVUX0lOX0xJU1QpO2NvbnN0IGE9Yj0+e2NvbnN0IGM9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOnRoaXNbXCJXSEVSRV9PUFRJT05TX1wiK2JdfSk7Yy5zZXRWYWxpZGF0b3IoZnVuY3Rpb24oZCl7Y29uc3QgZT10aGlzLmdldFZhbHVlKCk7ZD1kPT09XCJGUk9NX1NUQVJUXCJ8fGQ9PT1cblwiRlJPTV9FTkRcIjtkIT09KGU9PT1cIkZST01fU1RBUlRcInx8ZT09PVwiRlJPTV9FTkRcIikmJnRoaXMuZ2V0U291cmNlQmxvY2soKS51cGRhdGVBdF8oYixkKX0pO3JldHVybiBjfTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJXSEVSRTFfSU5QVVRcIikuYXBwZW5kRmllbGQoYSgxKSxcIldIRVJFMVwiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVDFcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiV0hFUkUyX0lOUFVUXCIpLmFwcGVuZEZpZWxkKGEoMiksXCJXSEVSRTJcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVQyXCIpOyQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX0dFVF9TVUJMSVNUX1RBSUwmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRBSUxcIikuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfVEFJTCk7dGhpcy5zZXRJbnB1dHNJbmxpbmUoITApO3RoaXMuc2V0T3V0cHV0KCEwLFwiQXJyYXlcIik7dGhpcy51cGRhdGVBdF8oMSxcbiEwKTt0aGlzLnVwZGF0ZUF0XygyLCEwKTt0aGlzLnNldFRvb2x0aXAoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfVE9PTFRJUCl9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXtjb25zdCBhPSQuY3JlYXRlRWxlbWVudCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHhtbChcIm11dGF0aW9uXCIpO3ZhciBiPXRoaXMuZ2V0SW5wdXQoXCJBVDFcIilpbnN0YW5jZW9mICQuVmFsdWVJbnB1dCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyR2YWx1ZV9pbnB1dDthLnNldEF0dHJpYnV0ZShcImF0MVwiLFN0cmluZyhiKSk7Yj10aGlzLmdldElucHV0KFwiQVQyXCIpaW5zdGFuY2VvZiAkLlZhbHVlSW5wdXQkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRpbnB1dHMkdmFsdWVfaW5wdXQ7YS5zZXRBdHRyaWJ1dGUoXCJhdDJcIixTdHJpbmcoYikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2NvbnN0IGI9YS5nZXRBdHRyaWJ1dGUoXCJhdDFcIik9PT1cblwidHJ1ZVwiO2E9YS5nZXRBdHRyaWJ1dGUoXCJhdDJcIik9PT1cInRydWVcIjt0aGlzLnVwZGF0ZUF0XygxLGIpO3RoaXMudXBkYXRlQXRfKDIsYSl9LHNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGVBdF86ZnVuY3Rpb24oYSxiKXt0aGlzLnJlbW92ZUlucHV0KFwiQVRcIithKTt0aGlzLnJlbW92ZUlucHV0KFwiT1JESU5BTFwiK2EsITApO2I/KHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFUXCIrYSkuc2V0Q2hlY2soXCJOdW1iZXJcIiksJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIrYSkuYXBwZW5kRmllbGQoJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYKSk6dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVRcIithKTthPT09MSYmKHRoaXMubW92ZUlucHV0QmVmb3JlKFwiQVQxXCIsXG5cIldIRVJFMl9JTlBVVFwiKSx0aGlzLmdldElucHV0KFwiT1JESU5BTDFcIikmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiT1JESU5BTDFcIixcIldIRVJFMl9JTlBVVFwiKSk7JC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfR0VUX1NVQkxJU1RfVEFJTCYmdGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJUQUlMXCIsbnVsbCl9fTtibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX2dldFN1Ymxpc3Q9TElTVFNfR0VUU1VCTElTVCQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHM7XG5ibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLmxpc3RzX3NvcnQ9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KHttZXNzYWdlMDpcIiV7QktZX0xJU1RTX1NPUlRfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiVFlQRVwiLG9wdGlvbnM6W1tcIiV7QktZX0xJU1RTX1NPUlRfVFlQRV9OVU1FUklDfVwiLFwiTlVNRVJJQ1wiXSxbXCIle0JLWV9MSVNUU19TT1JUX1RZUEVfVEVYVH1cIixcIlRFWFRcIl0sW1wiJXtCS1lfTElTVFNfU09SVF9UWVBFX0lHTk9SRUNBU0V9XCIsXCJJR05PUkVfQ0FTRVwiXV19LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiRElSRUNUSU9OXCIsb3B0aW9uczpbW1wiJXtCS1lfTElTVFNfU09SVF9PUkRFUl9BU0NFTkRJTkd9XCIsXCIxXCJdLFtcIiV7QktZX0xJU1RTX1NPUlRfT1JERVJfREVTQ0VORElOR31cIixcIi0xXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJMSVNUXCIsY2hlY2s6XCJBcnJheVwifV0sb3V0cHV0OlwiQXJyYXlcIixcbnN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfU09SVF9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MSVNUU19TT1JUX0hFTFBVUkx9XCJ9KX19O1xuYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cy5saXN0c19zcGxpdD17aW5pdDpmdW5jdGlvbigpe2NvbnN0IGE9JC5mcm9tSnNvbiQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGZpZWxkX3JlZ2lzdHJ5KHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixvcHRpb25zOltbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU1BMSVRfTElTVF9GUk9NX1RFWFQsXCJTUExJVFwiXSxbJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU1BMSVRfVEVYVF9GUk9NX0xJU1QsXCJKT0lOXCJdXX0pO2lmKCFhKXRocm93IEVycm9yKFwiZmllbGRfZHJvcGRvd24gbm90IGZvdW5kXCIpO2Euc2V0VmFsaWRhdG9yKGI9Pnt0aGlzLnVwZGF0ZVR5cGVfKGIpfSk7dGhpcy5zZXRIZWxwVXJsKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NQTElUX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJJTlBVVFwiKS5zZXRDaGVjayhcIlN0cmluZ1wiKS5hcHBlbmRGaWVsZChhLFxuXCJNT0RFXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkRFTElNXCIpLnNldENoZWNrKFwiU3RyaW5nXCIpLmFwcGVuZEZpZWxkKCQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NQTElUX1dJVEhfREVMSU1JVEVSKTt0aGlzLnNldElucHV0c0lubGluZSghMCk7dGhpcy5zZXRPdXRwdXQoITAsXCJBcnJheVwiKTt0aGlzLnNldFRvb2x0aXAoKCk9Pntjb25zdCBiPXRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIik7aWYoYj09PVwiU1BMSVRcIilyZXR1cm4gJC5Nc2ckJG1vZHVsZSRidWlsZCRzcmMkY29yZSRtc2cuTElTVFNfU1BMSVRfVE9PTFRJUF9TUExJVDtpZihiPT09XCJKT0lOXCIpcmV0dXJuICQuTXNnJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbXNnLkxJU1RTX1NQTElUX1RPT0xUSVBfSk9JTjt0aHJvdyBFcnJvcihcIlVua25vd24gbW9kZTogXCIrYik7fSl9LHVwZGF0ZVR5cGVfOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIikhPT1hKXtjb25zdCBiPVxudGhpcy5nZXRJbnB1dChcIklOUFVUXCIpLmNvbm5lY3Rpb247Yi5zZXRTaGFkb3dEb20obnVsbCk7Y29uc3QgYz1iLnRhcmdldEJsb2NrKCk7YyYmKGIuZGlzY29ubmVjdCgpLGMuaXNTaGFkb3coKT9jLmRpc3Bvc2UoITEpOnRoaXMuYnVtcE5laWdoYm91cnMoKSl9YT09PVwiU1BMSVRcIj8odGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldENoZWNrKFwiQXJyYXlcIiksdGhpcy5nZXRJbnB1dChcIklOUFVUXCIpLnNldENoZWNrKFwiU3RyaW5nXCIpKToodGhpcy5vdXRwdXRDb25uZWN0aW9uLnNldENoZWNrKFwiU3RyaW5nXCIpLHRoaXMuZ2V0SW5wdXQoXCJJTlBVVFwiKS5zZXRDaGVjayhcIkFycmF5XCIpKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe2NvbnN0IGE9JC5jcmVhdGVFbGVtZW50JCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkeG1sKFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJtb2RlXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKSk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUeXBlXyhhLmdldEF0dHJpYnV0ZShcIm1vZGVcIikpfSxcbnNhdmVFeHRyYVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue21vZGU6dGhpcy5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKX19LGxvYWRFeHRyYVN0YXRlOmZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlVHlwZV8oYS5tb2RlKX19OyQuZGVmaW5lQmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkY29tbW9uKGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMpO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsaXN0cz17YmxvY2tzOmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHN9O3ZhciBibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGJsb2Nrcz1PYmplY3QuYXNzaWduKHt9LGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbGlzdHMsYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRsb2dpYyxibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvb3BzLGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbWF0aCxibG9ja3MkJG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJHByb2NlZHVyZXMsYmxvY2tzJCRtb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzLGJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkdmFyaWFibGVzX2R5bmFtaWMpLG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGJsb2Nrcz17YmxvY2tzOmJsb2NrcyQkbW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkYmxvY2tzLGxpc3RzOm1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxpc3RzLGxvZ2ljOm1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGxvZ2ljLFxubG9vcHM6bW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkbG9vcHMsbWF0aDptb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRtYXRoLHByb2NlZHVyZXM6bW9kdWxlJGJ1aWxkJHNyYyRibG9ja3MkcHJvY2VkdXJlcyx0ZXh0czptb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR0ZXh0LHZhcmlhYmxlczptb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXMsdmFyaWFibGVzRHluYW1pYzptb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyR2YXJpYWJsZXNfZHluYW1pY307XG5tb2R1bGUkYnVpbGQkc3JjJGJsb2NrcyRibG9ja3MuX19uYW1lc3BhY2VfXz0kO1xucmV0dXJuIG1vZHVsZSRidWlsZCRzcmMkYmxvY2tzJGJsb2Nrcztcbn0pKTtcblxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9ja3NfY29tcHJlc3NlZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/blockly/blocks_compressed.js\n");

/***/ }),

/***/ "./node_modules/blockly/index.js":
/*!***************************************!*\
  !*** ./node_modules/blockly/index.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! blockly/core */ \"./node_modules/blockly/blockly_compressed.js\"), __webpack_require__(/*! blockly/msg/en */ \"./node_modules/blockly/msg/en.js\"), __webpack_require__(/*! blockly/blocks */ \"./node_modules/blockly/blocks_compressed.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function(Blockly, en, blocks) {\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Main entrypoint for blockly package.  Via its UMD wrapper,\n * this module loads blockly/core, blockly/blocks and blockly/msg/en\n * and then calls setLocale(en).\n *\n * This entrypoint previously also loaded one or more generators\n * (JavaScript in browser, all five in node.js environments) but it no\n * longer makes sense to do so because of changes to generators\n * exports (they no longer have the side effect of defining\n * Blockly.JavaScript, etc., when loaded as modules).\n */\n\n/* eslint-disable */\n'use strict';\n\n// Include the EN Locale by default.\nBlockly.setLocale(en);\n\nreturn Blockly;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLENBQUM7QUFDRCxNQUFNLElBQTBDLElBQUk7QUFDcEQsSUFBSSxpQ0FBTyxDQUFDLHVGQUFjLEVBQUUsNkVBQWdCLEVBQUUsd0ZBQWdCLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxrR0FBQztBQUN6RSxJQUFJLEtBQUssRUFJTjtBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9pbmRleC5qcz9iMDI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyAvLyBBTURcbiAgICBkZWZpbmUoWydibG9ja2x5L2NvcmUnLCAnYmxvY2tseS9tc2cvZW4nLCAnYmxvY2tseS9ibG9ja3MnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYmxvY2tseS9jb3JlJyksIHJlcXVpcmUoJ2Jsb2NrbHkvbXNnL2VuJyksIHJlcXVpcmUoJ2Jsb2NrbHkvYmxvY2tzJykpO1xuICB9IGVsc2UgeyAvLyBCcm93c2VyXG4gICAgcm9vdC5CbG9ja2x5ID0gZmFjdG9yeShyb290LkJsb2NrbHksIHJvb3QuQmxvY2tseS5Nc2csIHJvb3QuQmxvY2tseS5CbG9ja3MpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKEJsb2NrbHksIGVuLCBibG9ja3MpIHtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZSBNYWluIGVudHJ5cG9pbnQgZm9yIGJsb2NrbHkgcGFja2FnZS4gIFZpYSBpdHMgVU1EIHdyYXBwZXIsXG4gKiB0aGlzIG1vZHVsZSBsb2FkcyBibG9ja2x5L2NvcmUsIGJsb2NrbHkvYmxvY2tzIGFuZCBibG9ja2x5L21zZy9lblxuICogYW5kIHRoZW4gY2FsbHMgc2V0TG9jYWxlKGVuKS5cbiAqXG4gKiBUaGlzIGVudHJ5cG9pbnQgcHJldmlvdXNseSBhbHNvIGxvYWRlZCBvbmUgb3IgbW9yZSBnZW5lcmF0b3JzXG4gKiAoSmF2YVNjcmlwdCBpbiBicm93c2VyLCBhbGwgZml2ZSBpbiBub2RlLmpzIGVudmlyb25tZW50cykgYnV0IGl0IG5vXG4gKiBsb25nZXIgbWFrZXMgc2Vuc2UgdG8gZG8gc28gYmVjYXVzZSBvZiBjaGFuZ2VzIHRvIGdlbmVyYXRvcnNcbiAqIGV4cG9ydHMgKHRoZXkgbm8gbG9uZ2VyIGhhdmUgdGhlIHNpZGUgZWZmZWN0IG9mIGRlZmluaW5nXG4gKiBCbG9ja2x5LkphdmFTY3JpcHQsIGV0Yy4sIHdoZW4gbG9hZGVkIGFzIG1vZHVsZXMpLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIEluY2x1ZGUgdGhlIEVOIExvY2FsZSBieSBkZWZhdWx0LlxuQmxvY2tseS5zZXRMb2NhbGUoZW4pO1xuXG5yZXR1cm4gQmxvY2tseTtcbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/blockly/index.js\n");

/***/ }),

/***/ "./node_modules/blockly/javascript_compressed.js":
/*!*******************************************************!*\
  !*** ./node_modules/blockly/javascript_compressed.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./blockly_compressed.js */ \"./node_modules/blockly/blockly_compressed.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function(__parent__) {\nvar $=__parent__.__namespace__;\nvar lists_create_empty$$module$build$src$generators$javascript$lists=function(a,b){return[\"[]\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},lists_create_with$$module$build$src$generators$javascript$lists=function(a,b){const c=Array(a.itemCount_);for(let d=0;d<a.itemCount_;d++)c[d]=b.valueToCode(a,\"ADD\"+d,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";return[\"[\"+c.join(\", \")+\"]\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},\nlists_repeat$$module$build$src$generators$javascript$lists=function(a,b){const c=b.provideFunction_(\"listsRepeat\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n`),d=b.valueToCode(a,\"ITEM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";a=b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[c+\"(\"+d+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_length$$module$build$src$generators$javascript$lists=function(a,b){return[(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\n\"[]\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER]},lists_isEmpty$$module$build$src$generators$javascript$lists=function(a,b){return[\"!\"+(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT]},lists_indexOf$$module$build$src$generators$javascript$lists=function(a,b){const c=a.getFieldValue(\"END\")===\"FIRST\"?\"indexOf\":\"lastIndexOf\",\nd=b.valueToCode(a,\"FIND\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";b=(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\")+\".\"+c+\"(\"+d+\")\";return a.workspace.options.oneBasedIndex?[b+\" + 1\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION]:[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_getIndex$$module$build$src$generators$javascript$lists=\nfunction(a,b){const c=a.getFieldValue(\"MODE\")||\"GET\",d=a.getFieldValue(\"WHERE\")||\"FROM_START\";var e=b.valueToCode(a,\"VALUE\",d===\"RANDOM\"?Order$$module$build$src$generators$javascript$javascript_generator.NONE:Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";switch(d){case \"FIRST\":if(c===\"GET\")return[e+\"[0]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\".shift()\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];\nif(c===\"REMOVE\")return e+\".shift();\\n\";break;case \"LAST\":if(c===\"GET\")return[e+\".slice(-1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\".pop()\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"REMOVE\")return e+\".pop();\\n\";break;case \"FROM_START\":a=b.getAdjusted(a,\"AT\");if(c===\"GET\")return[e+\"[\"+a+\"]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\n\".splice(\"+a+\", 1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\".splice(\"+a+\", 1);\\n\";break;case \"FROM_END\":a=b.getAdjusted(a,\"AT\",1,!0);if(c===\"GET\")return[e+\".slice(\"+a+\")[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"GET_REMOVE\")return[e+\".splice(\"+a+\", 1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\".splice(\"+a+\", 1);\";\nbreak;case \"RANDOM\":e=b.provideFunction_(\"listsGetRandomItem\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n`)+\"(\"+e+\", \"+(c!==\"GET\")+\")\";if(c===\"GET\"||c===\"GET_REMOVE\")return[e,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\";\\n\"}throw Error(\"Unhandled combination (lists_getIndex).\");},lists_setIndex$$module$build$src$generators$javascript$lists=function(a,b){function c(){if(d.match(/^\\w+$/))return\"\";const h=b.nameDB_.getDistinctName(\"tmpList\",$.NameType$$module$build$src$core$names.VARIABLE),k=\"var \"+h+\" = \"+d+\";\\n\";d=h;return k}let d=b.valueToCode(a,\n\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";const e=a.getFieldValue(\"MODE\")||\"GET\";var f=a.getFieldValue(\"WHERE\")||\"FROM_START\";const g=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"null\";switch(f){case \"FIRST\":if(e===\"SET\")return d+\"[0] = \"+g+\";\\n\";if(e===\"INSERT\")return d+\".unshift(\"+g+\");\\n\";break;case \"LAST\":if(e===\"SET\")return c()+(d+\"[\"+d+\".length - 1] = \"+g+\";\\n\");if(e===\"INSERT\")return d+\".push(\"+\ng+\");\\n\";break;case \"FROM_START\":a=b.getAdjusted(a,\"AT\");if(e===\"SET\")return d+\"[\"+a+\"] = \"+g+\";\\n\";if(e===\"INSERT\")return d+\".splice(\"+a+\", 0, \"+g+\");\\n\";break;case \"FROM_END\":a=b.getAdjusted(a,\"AT\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);f=c();if(e===\"SET\")return f+(d+\"[\"+d+\".length - \"+a+\"] = \"+g+\";\\n\");if(e===\"INSERT\")return f+(d+\".splice(\"+d+\".length - \"+a+\", 0, \"+g+\");\\n\");break;case \"RANDOM\":a=c();f=b.nameDB_.getDistinctName(\"tmpX\",$.NameType$$module$build$src$core$names.VARIABLE);\na+=\"var \"+f+\" = Math.floor(Math.random() * \"+d+\".length);\\n\";if(e===\"SET\")return a+(d+\"[\"+f+\"] = \"+g+\";\\n\");if(e===\"INSERT\")return a+(d+\".splice(\"+f+\", 0, \"+g+\");\\n\")}throw Error(\"Unhandled combination (lists_setIndex).\");},lists_getSublist$$module$build$src$generators$javascript$lists=function(a,b){var c={FIRST:\"First\",LAST:\"Last\",FROM_START:\"FromStart\",FROM_END:\"FromEnd\"},d=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";const e=a.getFieldValue(\"WHERE1\"),\nf=a.getFieldValue(\"WHERE2\");if(e===\"FIRST\"&&f===\"LAST\")d+=\".slice(0)\";else if(d.match(/^\\w+$/)||e!==\"FROM_END\"&&f===\"FROM_START\"){switch(e){case \"FROM_START\":c=b.getAdjusted(a,\"AT1\");break;case \"FROM_END\":c=b.getAdjusted(a,\"AT1\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);c=d+\".length - \"+c;break;case \"FIRST\":c=\"0\";break;default:throw Error(\"Unhandled option (lists_getSublist).\");}switch(f){case \"FROM_START\":b=b.getAdjusted(a,\"AT2\",1);break;case \"FROM_END\":b=\nb.getAdjusted(a,\"AT2\",0,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);b=d+\".length - \"+b;break;case \"LAST\":b=d+\".length\";break;default:throw Error(\"Unhandled option (lists_getSublist).\");}d=d+\".slice(\"+c+\", \"+b+\")\"}else{const g=b.getAdjusted(a,\"AT1\");a=b.getAdjusted(a,\"AT2\");d=b.provideFunction_(\"subsequence\"+c[e]+c[f],`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${e===\"FROM_END\"||e===\"FROM_START\"?\", at1\":\"\"}${f===\"FROM_END\"||f===\"FROM_START\"?\", at2\":\"\"}) {\n  var start = ${getSubstringIndex$$module$build$src$generators$javascript$lists(\"sequence\",e,\"at1\")};\n  var end = ${getSubstringIndex$$module$build$src$generators$javascript$lists(\"sequence\",f,\"at2\")} + 1;\n  return sequence.slice(start, end);\n}\n`)+\"(\"+d+(e===\"FROM_END\"||e===\"FROM_START\"?\", \"+g:\"\")+(f===\"FROM_END\"||f===\"FROM_START\"?\", \"+a:\"\")+\")\"}return[d,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_sort$$module$build$src$generators$javascript$lists=function(a,b){const c=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL)||\"[]\",d=a.getFieldValue(\"DIRECTION\")===\"1\"?1:-1;a=a.getFieldValue(\"TYPE\");b=b.provideFunction_(\"listsGetSortCompare\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return String(a) > String(b) ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      `);return[c+\".slice().sort(\"+b+'(\"'+a+'\", '+d+\"))\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_split$$module$build$src$generators$javascript$lists=function(a,b){let c=b.valueToCode(a,\"INPUT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER);b=b.valueToCode(a,\"DELIM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=a.getFieldValue(\"MODE\");if(a===\"SPLIT\")c||(c=\"''\"),a=\"split\";else if(a===\"JOIN\")c||\n(c=\"[]\"),a=\"join\";else throw Error(\"Unknown mode: \"+a);return[c+\".\"+a+\"(\"+b+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_reverse$$module$build$src$generators$javascript$lists=function(a,b){return[(b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL)||\"[]\")+\".slice().reverse()\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},controls_if$$module$build$src$generators$javascript$logic=\nfunction(a,b){var c=0;let d=\"\";b.STATEMENT_PREFIX&&(d+=b.injectId(b.STATEMENT_PREFIX,a));do{const e=b.valueToCode(a,\"IF\"+c,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\";let f=b.statementToCode(a,\"DO\"+c);b.STATEMENT_SUFFIX&&(f=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT)+f);d+=(c>0?\" else \":\"\")+\"if (\"+e+\") {\\n\"+f+\"}\";c++}while(a.getInput(\"IF\"+c));if(a.getInput(\"ELSE\")||b.STATEMENT_SUFFIX)c=a.getInput(\"ELSE\")?b.statementToCode(a,\"ELSE\"):\"\",b.STATEMENT_SUFFIX&&\n(c=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT)+c),d+=\" else {\\n\"+c+\"}\";return d+\"\\n\"},logic_compare$$module$build$src$generators$javascript$logic=function(a,b){const c={EQ:\"==\",NEQ:\"!=\",LT:\"<\",LTE:\"<=\",GT:\">\",GTE:\">=\"}[a.getFieldValue(\"OP\")],d=c===\"==\"||c===\"!=\"?Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY:Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,e=b.valueToCode(a,\"A\",d)||\"0\";a=b.valueToCode(a,\"B\",d)||\"0\";return[e+\" \"+\nc+\" \"+a,d]},logic_operation$$module$build$src$generators$javascript$logic=function(a,b){const c=a.getFieldValue(\"OP\")===\"AND\"?\"&&\":\"||\",d=c===\"&&\"?Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND:Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR;let e=b.valueToCode(a,\"A\",d);a=b.valueToCode(a,\"B\",d);e||a?(b=c===\"&&\"?\"true\":\"false\",e||(e=b),a||(a=b)):a=e=\"false\";return[e+\" \"+c+\" \"+a,d]},logic_negate$$module$build$src$generators$javascript$logic=\nfunction(a,b){const c=Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT;return[\"!\"+(b.valueToCode(a,\"BOOL\",c)||\"true\"),c]},logic_boolean$$module$build$src$generators$javascript$logic=function(a,b){return[a.getFieldValue(\"BOOL\")===\"TRUE\"?\"true\":\"false\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},logic_null$$module$build$src$generators$javascript$logic=function(a,b){return[\"null\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},\nlogic_ternary$$module$build$src$generators$javascript$logic=function(a,b){const c=b.valueToCode(a,\"IF\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"false\",d=b.valueToCode(a,\"THEN\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"null\";a=b.valueToCode(a,\"ELSE\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"null\";return[c+\" ? \"+d+\" : \"+a,Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL]},\ncontrols_repeat_ext$$module$build$src$generators$javascript$loops=function(a,b){let c;c=a.getField(\"TIMES\")?String(Number(a.getFieldValue(\"TIMES\"))):b.valueToCode(a,\"TIMES\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";let d=b.statementToCode(a,\"DO\");d=b.addLoopTrap(d,a);a=\"\";const e=b.nameDB_.getDistinctName(\"count\",$.NameType$$module$build$src$core$names.VARIABLE);let f=c;c.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(c)||(f=b.nameDB_.getDistinctName(\"repeat_end\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+f+\" = \"+c+\";\\n\");return a+(\"for (var \"+e+\" = 0; \"+e+\" < \"+f+\"; \"+e+\"++) {\\n\"+d+\"}\\n\")},controls_whileUntil$$module$build$src$generators$javascript$loops=function(a,b){const c=a.getFieldValue(\"MODE\")===\"UNTIL\";let d=b.valueToCode(a,\"BOOL\",c?Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT:Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\",e=b.statementToCode(a,\"DO\");e=b.addLoopTrap(e,\na);c&&(d=\"!\"+d);return\"while (\"+d+\") {\\n\"+e+\"}\\n\"},controls_for$$module$build$src$generators$javascript$loops=function(a,b){var c=b.getVariableName(a.getFieldValue(\"VAR\")),d=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\",e=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";const f=b.valueToCode(a,\"BY\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"1\";\nlet g=b.statementToCode(a,\"DO\");g=b.addLoopTrap(g,a);if($.isNumber$$module$build$src$core$utils$string(d)&&$.isNumber$$module$build$src$core$utils$string(e)&&$.isNumber$$module$build$src$core$utils$string(f))b=Number(d)<=Number(e),a=\"for (\"+c+\" = \"+d+\"; \"+c+(b?\" <= \":\" >= \")+e+\"; \"+c,c=Math.abs(Number(f)),a=c===1?a+(b?\"++\":\"--\"):a+((b?\" += \":\" -= \")+c),a+=\") {\\n\"+g+\"}\\n\";else{a=\"\";let h=d;d.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(d)||(h=b.nameDB_.getDistinctName(c+\"_start\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+h+\" = \"+d+\";\\n\");d=e;e.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(e)||(d=b.nameDB_.getDistinctName(c+\"_end\",$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+d+\" = \"+e+\";\\n\");e=b.nameDB_.getDistinctName(c+\"_inc\",$.NameType$$module$build$src$core$names.VARIABLE);a+=\"var \"+e+\" = \";a=$.isNumber$$module$build$src$core$utils$string(f)?a+(Math.abs(Number(f))+\";\\n\"):a+(\"Math.abs(\"+f+\");\\n\");a+=\"if (\"+h+\" > \"+d+\") {\\n\";\na+=b.INDENT+e+\" = -\"+e+\";\\n\";a=a+\"}\\nfor (\"+(c+\" = \"+h+\"; \"+e+\" >= 0 ? \"+c+\" <= \"+d+\" : \"+c+\" >= \"+d+\"; \"+c+\" += \"+e+\") {\\n\"+g+\"}\\n\")}return a},controls_forEach$$module$build$src$generators$javascript$loops=function(a,b){const c=b.getVariableName(a.getFieldValue(\"VAR\"));var d=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"[]\";let e=b.statementToCode(a,\"DO\");e=b.addLoopTrap(e,a);a=\"\";let f=d;d.match(/^\\w+$/)||(f=b.nameDB_.getDistinctName(c+\"_list\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+f+\" = \"+d+\";\\n\");d=b.nameDB_.getDistinctName(c+\"_index\",$.NameType$$module$build$src$core$names.VARIABLE);e=b.INDENT+c+\" = \"+f+\"[\"+d+\"];\\n\"+e;return a+(\"for (var \"+d+\" in \"+f+\") {\\n\"+e+\"}\\n\")},controls_flow_statements$$module$build$src$generators$javascript$loops=function(a,b){let c=\"\";b.STATEMENT_PREFIX&&(c+=b.injectId(b.STATEMENT_PREFIX,a));b.STATEMENT_SUFFIX&&(c+=b.injectId(b.STATEMENT_SUFFIX,a));if(b.STATEMENT_PREFIX){const d=a.getSurroundLoop();\nd&&!d.suppressPrefixSuffix&&(c+=b.injectId(b.STATEMENT_PREFIX,d))}switch(a.getFieldValue(\"FLOW\")){case \"BREAK\":return c+\"break;\\n\";case \"CONTINUE\":return c+\"continue;\\n\"}throw Error(\"Unknown flow statement.\");},math_number$$module$build$src$generators$javascript$math=function(a,b){a=Number(a.getFieldValue(\"NUM\"));return[String(a),a>=0?Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC:Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION]},math_arithmetic$$module$build$src$generators$javascript$math=\nfunction(a,b){var c={ADD:[\" + \",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],MINUS:[\" - \",Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION],MULTIPLY:[\" * \",Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],DIVIDE:[\" / \",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],POWER:[null,Order$$module$build$src$generators$javascript$javascript_generator.NONE]}[a.getFieldValue(\"OP\")];\nconst d=c[0];c=c[1];const e=b.valueToCode(a,\"A\",c)||\"0\";a=b.valueToCode(a,\"B\",c)||\"0\";return d?[e+d+a,c]:[\"Math.pow(\"+e+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_single$$module$build$src$generators$javascript$math=function(a,b){const c=a.getFieldValue(\"OP\");let d;if(c===\"NEG\")return a=b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION)||\"0\",a[0]===\"-\"&&(a=\" \"+a),[\"-\"+a,Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION];\na=c===\"SIN\"||c===\"COS\"||c===\"TAN\"?b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION)||\"0\":b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";switch(c){case \"ABS\":d=\"Math.abs(\"+a+\")\";break;case \"ROOT\":d=\"Math.sqrt(\"+a+\")\";break;case \"LN\":d=\"Math.log(\"+a+\")\";break;case \"EXP\":d=\"Math.exp(\"+a+\")\";break;case \"POW10\":d=\"Math.pow(10,\"+a+\")\";break;case \"ROUND\":d=\"Math.round(\"+a+\")\";break;case \"ROUNDUP\":d=\"Math.ceil(\"+\na+\")\";break;case \"ROUNDDOWN\":d=\"Math.floor(\"+a+\")\";break;case \"SIN\":d=\"Math.sin(\"+a+\" / 180 * Math.PI)\";break;case \"COS\":d=\"Math.cos(\"+a+\" / 180 * Math.PI)\";break;case \"TAN\":d=\"Math.tan(\"+a+\" / 180 * Math.PI)\"}if(d)return[d,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];switch(c){case \"LOG10\":d=\"Math.log(\"+a+\") / Math.log(10)\";break;case \"ASIN\":d=\"Math.asin(\"+a+\") / Math.PI * 180\";break;case \"ACOS\":d=\"Math.acos(\"+a+\") / Math.PI * 180\";break;case \"ATAN\":d=\"Math.atan(\"+\na+\") / Math.PI * 180\";break;default:throw Error(\"Unknown math operator: \"+c);}return[d,Order$$module$build$src$generators$javascript$javascript_generator.DIVISION]},math_constant$$module$build$src$generators$javascript$math=function(a,b){return{PI:[\"Math.PI\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],E:[\"Math.E\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],GOLDEN_RATIO:[\"(1 + Math.sqrt(5)) / 2\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],\nSQRT2:[\"Math.SQRT2\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],SQRT1_2:[\"Math.SQRT1_2\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],INFINITY:[\"Infinity\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]}[a.getFieldValue(\"CONSTANT\")]},math_number_property$$module$build$src$generators$javascript$math=function(a,b){var c={EVEN:[\" % 2 === 0\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,\nOrder$$module$build$src$generators$javascript$javascript_generator.EQUALITY],ODD:[\" % 2 === 1\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],WHOLE:[\" % 1 === 0\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],POSITIVE:[\" > 0\",Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,\nOrder$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],NEGATIVE:[\" < 0\",Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],DIVISIBLE_BY:[null,Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],PRIME:[null,Order$$module$build$src$generators$javascript$javascript_generator.NONE,\nOrder$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]};const d=a.getFieldValue(\"PROPERTY\"),[e,f,g]=c[d];c=b.valueToCode(a,\"NUMBER_TO_CHECK\",f)||\"0\";d===\"PRIME\"?a=b.provideFunction_(\"mathIsPrime\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`)+\"(\"+c+\")\":d===\"DIVISIBLE_BY\"?(a=b.valueToCode(a,\"DIVISOR\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\"0\",a=c+\" % \"+a+\" === 0\"):a=c+e;return[a,g]},math_change$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"DELTA\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION)||\"0\";a=b.getVariableName(a.getFieldValue(\"VAR\"));return a+\" = (typeof \"+a+\" === 'number' ? \"+a+\" : 0) + \"+c+\";\\n\"},math_on_list$$module$build$src$generators$javascript$math=\nfunction(a,b){var c=a.getFieldValue(\"OP\");switch(c){case \"SUM\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";a+=\".reduce(function(x, y) {return x + y;}, 0)\";break;case \"MIN\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=\"Math.min.apply(null, \"+a+\")\";break;case \"MAX\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=\"Math.max.apply(null, \"+\na+\")\";break;case \"AVERAGE\":c=b.provideFunction_(\"mathMean\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"MEDIAN\":c=b.provideFunction_(\"mathMedian\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"MODE\":c=b.provideFunction_(\"mathModes\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n      modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"STD_DEV\":c=b.provideFunction_(\"mathStandardDeviation\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance /= n;\n  return Math.sqrt(variance);\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"RANDOM\":c=b.provideFunction_(\"mathRandomList\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;default:throw Error(\"Unknown operator: \"+c);}return[a,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_modulo$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"DIVIDEND\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\"0\";a=b.valueToCode(a,\"DIVISOR\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\n\"0\";return[c+\" % \"+a,Order$$module$build$src$generators$javascript$javascript_generator.MODULUS]},math_constrain$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\",d=b.valueToCode(a,\"LOW\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";a=b.valueToCode(a,\"HIGH\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"Infinity\";return[\"Math.min(Math.max(\"+\nc+\", \"+d+\"), \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_random_int$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";a=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[b.provideFunction_(\"mathRandomInt\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n`)+\"(\"+c+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_random_float$$module$build$src$generators$javascript$math=function(a,b){return[\"Math.random()\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_atan2$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"X\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[\"Math.atan2(\"+(b.valueToCode(a,\"Y\",\nOrder$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\")+\", \"+c+\") / Math.PI * 180\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION]},procedures_defreturn$$module$build$src$generators$javascript$procedures=function(a,b){const c=b.getProcedureName(a.getFieldValue(\"NAME\"));var d=\"\";b.STATEMENT_PREFIX&&(d+=b.injectId(b.STATEMENT_PREFIX,a));b.STATEMENT_SUFFIX&&(d+=b.injectId(b.STATEMENT_SUFFIX,a));d&&(d=b.prefixLines(d,b.INDENT));let e=\"\";b.INFINITE_LOOP_TRAP&&\n(e=b.prefixLines(b.injectId(b.INFINITE_LOOP_TRAP,a),b.INDENT));let f=\"\";a.getInput(\"STACK\")&&(f=b.statementToCode(a,\"STACK\"));let g=\"\";a.getInput(\"RETURN\")&&(g=b.valueToCode(a,\"RETURN\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"\");let h=\"\";f&&g&&(h=d);g&&(g=b.INDENT+\"return \"+g+\";\\n\");const k=[],l=a.getVars();for(let m=0;m<l.length;m++)k[m]=b.getVariableName(l[m]);d=\"function \"+c+\"(\"+k.join(\", \")+\") {\\n\"+d+e+f+h+g+\"}\";d=b.scrub_(a,d);b.definitions_[\"%\"+c]=d;return null},\nprocedures_callreturn$$module$build$src$generators$javascript$procedures=function(a,b){const c=b.getProcedureName(a.getFieldValue(\"NAME\")),d=[],e=a.getVars();for(let f=0;f<e.length;f++)d[f]=b.valueToCode(a,\"ARG\"+f,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";return[c+\"(\"+d.join(\", \")+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},procedures_callnoreturn$$module$build$src$generators$javascript$procedures=function(a,b){return b.forBlock.procedures_callreturn(a,\nb)[0]+\";\\n\"},procedures_ifreturn$$module$build$src$generators$javascript$procedures=function(a,b){let c=\"if (\"+(b.valueToCode(a,\"CONDITION\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\")+\") {\\n\";b.STATEMENT_SUFFIX&&(c+=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT));a.hasReturnValue_?(a=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\",c+=b.INDENT+\"return \"+a+\";\\n\"):c+=b.INDENT+\"return;\\n\";return c+\n\"}\\n\"},text$$module$build$src$generators$javascript$text=function(a,b){return[b.quote_(a.getFieldValue(\"TEXT\")),Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},text_join$$module$build$src$generators$javascript$text=function(a,b){switch(a.itemCount_){case 0:return[\"''\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];case 1:return a=b.valueToCode(a,\"ADD0\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\",forceString$$module$build$src$generators$javascript$text(a);\ncase 2:var c=b.valueToCode(a,\"ADD0\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"ADD1\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[forceString$$module$build$src$generators$javascript$text(c)[0]+\" + \"+forceString$$module$build$src$generators$javascript$text(a)[0],Order$$module$build$src$generators$javascript$javascript_generator.ADDITION];default:c=Array(a.itemCount_);for(let d=0;d<a.itemCount_;d++)c[d]=\nb.valueToCode(a,\"ADD\"+d,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[\"[\"+c.join(\",\")+\"].join('')\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]}},text_append$$module$build$src$generators$javascript$text=function(a,b){const c=b.getVariableName(a.getFieldValue(\"VAR\"));a=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return c+\" += \"+forceString$$module$build$src$generators$javascript$text(a)[0]+\n\";\\n\"},text_length$$module$build$src$generators$javascript$text=function(a,b){return[(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER]},text_isEmpty$$module$build$src$generators$javascript$text=function(a,b){return[\"!\"+(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT]},\ntext_indexOf$$module$build$src$generators$javascript$text=function(a,b){const c=a.getFieldValue(\"END\")===\"FIRST\"?\"indexOf\":\"lastIndexOf\",d=b.valueToCode(a,\"FIND\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";b=(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".\"+c+\"(\"+d+\")\";return a.workspace.options.oneBasedIndex?[b+\" + 1\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION]:[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},\ntext_charAt$$module$build$src$generators$javascript$text=function(a,b){const c=a.getFieldValue(\"WHERE\")||\"FROM_START\",d=b.valueToCode(a,\"VALUE\",c===\"RANDOM\"?Order$$module$build$src$generators$javascript$javascript_generator.NONE:Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\";switch(c){case \"FIRST\":return[d+\".charAt(0)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"LAST\":return[d+\".slice(-1)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];\ncase \"FROM_START\":return a=b.getAdjusted(a,\"AT\"),[d+\".charAt(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"FROM_END\":return a=b.getAdjusted(a,\"AT\",1,!0),[d+\".slice(\"+a+\").charAt(0)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"RANDOM\":return[b.provideFunction_(\"textRandomLetter\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n`)+\"(\"+d+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]}throw Error(\"Unhandled option (text_charAt).\");},text_getSubstring$$module$build$src$generators$javascript$text=function(a,b){var c={FIRST:\"First\",LAST:\"Last\",FROM_START:\"FromStart\",FROM_END:\"FromEnd\"};const d=a.getFieldValue(\"WHERE1\"),e=a.getFieldValue(\"WHERE2\");var f=d!==\"FROM_END\"&&d!==\"LAST\"&&e!==\"FROM_END\"&&e!==\"LAST\",g=b.valueToCode(a,\"STRING\",f?Order$$module$build$src$generators$javascript$javascript_generator.MEMBER:\nOrder$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";if(d===\"FIRST\"&&e===\"LAST\")return[g,Order$$module$build$src$generators$javascript$javascript_generator.NONE];if(g.match(/^'?\\w+'?$/)||f){switch(d){case \"FROM_START\":c=b.getAdjusted(a,\"AT1\");break;case \"FROM_END\":c=b.getAdjusted(a,\"AT1\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);c=g+\".length - \"+c;break;case \"FIRST\":c=\"0\";break;default:throw Error(\"Unhandled option (text_getSubstring).\");\n}switch(e){case \"FROM_START\":b=b.getAdjusted(a,\"AT2\",1);break;case \"FROM_END\":b=b.getAdjusted(a,\"AT2\",0,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);b=g+\".length - \"+b;break;case \"LAST\":b=g+\".length\";break;default:throw Error(\"Unhandled option (text_getSubstring).\");}g=g+\".slice(\"+c+\", \"+b+\")\"}else f=b.getAdjusted(a,\"AT1\"),a=b.getAdjusted(a,\"AT2\"),g=b.provideFunction_(\"subsequence\"+c[d]+c[e],`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${d===\"FROM_END\"||d===\"FROM_START\"?\", at1\":\"\"}${e===\"FROM_END\"||e===\"FROM_START\"?\", at2\":\"\"}) {\n  var start = ${getSubstringIndex$$module$build$src$generators$javascript$text(\"sequence\",d,\"at1\")};\n  var end = ${getSubstringIndex$$module$build$src$generators$javascript$text(\"sequence\",e,\"at2\")} + 1;\n  return sequence.slice(start, end);\n}\n`)+\"(\"+g+(d===\"FROM_END\"||d===\"FROM_START\"?\", \"+f:\"\")+(e===\"FROM_END\"||e===\"FROM_START\"?\", \"+a:\"\")+\")\";return[g,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_changeCase$$module$build$src$generators$javascript$text=function(a,b){const c={UPPERCASE:\".toUpperCase()\",LOWERCASE:\".toLowerCase()\",TITLECASE:null}[a.getFieldValue(\"CASE\")];a=b.valueToCode(a,\"TEXT\",c?Order$$module$build$src$generators$javascript$javascript_generator.MEMBER:Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\n\"''\";return[c?a+c:b.provideFunction_(\"textToTitleCase\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(str) {\n  return str.replace(/\\\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n`)+\"(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_trim$$module$build$src$generators$javascript$text=function(a,b){const c={LEFT:\".replace(/^[\\\\s\\\\xa0]+/, '')\",RIGHT:\".replace(/[\\\\s\\\\xa0]+$/, '')\",BOTH:\".trim()\"}[a.getFieldValue(\"MODE\")];return[(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+c,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_print$$module$build$src$generators$javascript$text=\nfunction(a,b){return\"window.alert(\"+(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\")+\");\\n\"},text_prompt_ext$$module$build$src$generators$javascript$text=function(a,b){b=\"window.prompt(\"+(a.getField(\"TEXT\")?b.quote_(a.getFieldValue(\"TEXT\")):b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\")+\")\";a.getFieldValue(\"TYPE\")===\"NUMBER\"&&(b=\"Number(\"+b+\")\");return[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},\ntext_count$$module$build$src$generators$javascript$text=function(a,b){const c=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"SUB\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[b.provideFunction_(\"textCount\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n`)+\"(\"+c+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_replace$$module$build$src$generators$javascript$text=function(a,b){const c=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\",d=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[b.provideFunction_(\"textReplace\",\n`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\\\[\\\\]{}+?*.$\\\\^|,:#<!\\\\\\\\])/g, '\\\\\\\\$1')\n                 .replace(/\\\\x08/g, '\\\\\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n`)+\"(\"+c+\", \"+d+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_reverse$$module$build$src$generators$javascript$text=function(a,b){return[(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".split('').reverse().join('')\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},variables_get$$module$build$src$generators$javascript$variables=function(a,b){return[b.getVariableName(a.getFieldValue(\"VAR\")),\nOrder$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},variables_set$$module$build$src$generators$javascript$variables=function(a,b){const c=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";return b.getVariableName(a.getFieldValue(\"VAR\"))+\" = \"+c+\";\\n\"},Order$$module$build$src$generators$javascript$javascript_generator;\n(function(a){a[a.ATOMIC=0]=\"ATOMIC\";a[a.NEW=1.1]=\"NEW\";a[a.MEMBER=1.2]=\"MEMBER\";a[a.FUNCTION_CALL=2]=\"FUNCTION_CALL\";a[a.INCREMENT=3]=\"INCREMENT\";a[a.DECREMENT=3]=\"DECREMENT\";a[a.BITWISE_NOT=4.1]=\"BITWISE_NOT\";a[a.UNARY_PLUS=4.2]=\"UNARY_PLUS\";a[a.UNARY_NEGATION=4.3]=\"UNARY_NEGATION\";a[a.LOGICAL_NOT=4.4]=\"LOGICAL_NOT\";a[a.TYPEOF=4.5]=\"TYPEOF\";a[a.VOID=4.6]=\"VOID\";a[a.DELETE=4.7]=\"DELETE\";a[a.AWAIT=4.8]=\"AWAIT\";a[a.EXPONENTIATION=5]=\"EXPONENTIATION\";a[a.MULTIPLICATION=5.1]=\"MULTIPLICATION\";a[a.DIVISION=\n5.2]=\"DIVISION\";a[a.MODULUS=5.3]=\"MODULUS\";a[a.SUBTRACTION=6.1]=\"SUBTRACTION\";a[a.ADDITION=6.2]=\"ADDITION\";a[a.BITWISE_SHIFT=7]=\"BITWISE_SHIFT\";a[a.RELATIONAL=8]=\"RELATIONAL\";a[a.IN=8]=\"IN\";a[a.INSTANCEOF=8]=\"INSTANCEOF\";a[a.EQUALITY=9]=\"EQUALITY\";a[a.BITWISE_AND=10]=\"BITWISE_AND\";a[a.BITWISE_XOR=11]=\"BITWISE_XOR\";a[a.BITWISE_OR=12]=\"BITWISE_OR\";a[a.LOGICAL_AND=13]=\"LOGICAL_AND\";a[a.LOGICAL_OR=14]=\"LOGICAL_OR\";a[a.CONDITIONAL=15]=\"CONDITIONAL\";a[a.ASSIGNMENT=16]=\"ASSIGNMENT\";a[a.YIELD=17]=\"YIELD\";\na[a.COMMA=18]=\"COMMA\";a[a.NONE=99]=\"NONE\"})(Order$$module$build$src$generators$javascript$javascript_generator||(Order$$module$build$src$generators$javascript$javascript_generator={}));\nvar JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator=class extends $.CodeGenerator$$module$build$src$core$generator{constructor(a=\"JavaScript\"){super(a);this.ORDER_OVERRIDES=[[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL,Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL],\n[Order$$module$build$src$generators$javascript$javascript_generator.MEMBER,Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],[Order$$module$build$src$generators$javascript$javascript_generator.MEMBER,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT],[Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION,\nOrder$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],[Order$$module$build$src$generators$javascript$javascript_generator.ADDITION,Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR]];\nthis.isInitialized=!1;for(const b in Order$$module$build$src$generators$javascript$javascript_generator)a=Order$$module$build$src$generators$javascript$javascript_generator[b],typeof a!==\"string\"&&(this[\"ORDER_\"+b]=a);this.addReservedWords(\"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,\"+\nObject.getOwnPropertyNames(globalThis).join(\",\"))}init(a){super.init(a);this.nameDB_?this.nameDB_.reset():this.nameDB_=new $.Names$$module$build$src$core$names(this.RESERVED_WORDS_);this.nameDB_.setVariableMap(a.getVariableMap());this.nameDB_.populateVariables(a);this.nameDB_.populateProcedures(a);const b=[];var c=$.allDeveloperVariables$$module$build$src$core$variables(a);for(let d=0;d<c.length;d++)b.push(this.nameDB_.getName(c[d],$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));a=$.allUsedVarModels$$module$build$src$core$variables(a);\nfor(c=0;c<a.length;c++)b.push(this.nameDB_.getName(a[c].getId(),$.NameType$$module$build$src$core$names.VARIABLE));b.length&&(this.definitions_.variables=\"var \"+b.join(\", \")+\";\");this.isInitialized=!0}finish(a){const b=Object.values(this.definitions_);super.finish(a);this.isInitialized=!1;this.nameDB_.reset();return b.join(\"\\n\\n\")+\"\\n\\n\\n\"+a}scrubNakedValue(a){return a+\";\\n\"}quote_(a){a=a.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\n/g,\"\\\\\\n\").replace(/'/g,\"\\\\'\");return\"'\"+a+\"'\"}multiline_quote_(a){return a.split(/\\n/g).map(this.quote_).join(\" + '\\\\n' +\\n\")}scrub_(a,\nb,c=!1){let d=\"\";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(e=$.wrap$$module$build$src$core$utils$string(e,this.COMMENT_WRAP-3),d+=this.prefixLines(e+\"\\n\",\"// \"));for(let f=0;f<a.inputList.length;f++)a.inputList[f].type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=this.allNestedComments(e))&&(d+=this.prefixLines(e,\"// \"))}a=a.nextConnection&&a.nextConnection.targetBlock();c=c?\"\":this.blockToCode(a);\nreturn d+b+c}getAdjusted(a,b,c=0,d=!1,e=Order$$module$build$src$generators$javascript$javascript_generator.NONE){a.workspace.options.oneBasedIndex&&c--;const f=a.workspace.options.oneBasedIndex?\"1\":\"0\";let g=e;c>0?g=Order$$module$build$src$generators$javascript$javascript_generator.ADDITION:c<0?g=Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION:d&&(g=Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION);a=this.valueToCode(a,b,g)||f;if(c===\n0&&!d)return a;if($.isNumber$$module$build$src$core$utils$string(a))return a=String(Number(a)+c),d&&(a=String(-Number(a))),a;c>0?a=`${a} + ${c}`:c<0&&(a=`${a} - ${-c}`);d&&(a=c?`-(${a})`:`-${a}`);Math.floor(e)>=Math.floor(g)&&(a=`(${a})`);return a}},module$build$src$generators$javascript$javascript_generator={};module$build$src$generators$javascript$javascript_generator.JavascriptGenerator=JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;\nmodule$build$src$generators$javascript$javascript_generator.Order=Order$$module$build$src$generators$javascript$javascript_generator;var getSubstringIndex$$module$build$src$generators$javascript$lists=function(a,b,c){return b===\"FIRST\"?\"0\":b===\"FROM_END\"?a+\".length - 1 - \"+c:b===\"LAST\"?a+\".length - 1\":c},module$build$src$generators$javascript$lists={};module$build$src$generators$javascript$lists.lists_create_empty=lists_create_empty$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_create_with=lists_create_with$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_getIndex=lists_getIndex$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_getSublist=lists_getSublist$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_indexOf=lists_indexOf$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_isEmpty=lists_isEmpty$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_length=lists_length$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_repeat=lists_repeat$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_reverse=lists_reverse$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_setIndex=lists_setIndex$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_sort=lists_sort$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_split=lists_split$$module$build$src$generators$javascript$lists;var controls_ifelse$$module$build$src$generators$javascript$logic=controls_if$$module$build$src$generators$javascript$logic,module$build$src$generators$javascript$logic={};module$build$src$generators$javascript$logic.controls_if=controls_if$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.controls_ifelse=controls_if$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_boolean=logic_boolean$$module$build$src$generators$javascript$logic;\nmodule$build$src$generators$javascript$logic.logic_compare=logic_compare$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_negate=logic_negate$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_null=logic_null$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_operation=logic_operation$$module$build$src$generators$javascript$logic;\nmodule$build$src$generators$javascript$logic.logic_ternary=logic_ternary$$module$build$src$generators$javascript$logic;var controls_repeat$$module$build$src$generators$javascript$loops=controls_repeat_ext$$module$build$src$generators$javascript$loops,module$build$src$generators$javascript$loops={};module$build$src$generators$javascript$loops.controls_flow_statements=controls_flow_statements$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_for=controls_for$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_forEach=controls_forEach$$module$build$src$generators$javascript$loops;\nmodule$build$src$generators$javascript$loops.controls_repeat=controls_repeat_ext$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_repeat_ext=controls_repeat_ext$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_whileUntil=controls_whileUntil$$module$build$src$generators$javascript$loops;var math_round$$module$build$src$generators$javascript$math=math_single$$module$build$src$generators$javascript$math,math_trig$$module$build$src$generators$javascript$math=math_single$$module$build$src$generators$javascript$math,module$build$src$generators$javascript$math={};module$build$src$generators$javascript$math.math_arithmetic=math_arithmetic$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_atan2=math_atan2$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_change=math_change$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_constant=math_constant$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_constrain=math_constrain$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_modulo=math_modulo$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_number=math_number$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_number_property=math_number_property$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_on_list=math_on_list$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_random_float=math_random_float$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_random_int=math_random_int$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_round=math_single$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_single=math_single$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_trig=math_single$$module$build$src$generators$javascript$math;var procedures_defnoreturn$$module$build$src$generators$javascript$procedures=procedures_defreturn$$module$build$src$generators$javascript$procedures,module$build$src$generators$javascript$procedures={};module$build$src$generators$javascript$procedures.procedures_callnoreturn=procedures_callnoreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_callreturn=procedures_callreturn$$module$build$src$generators$javascript$procedures;\nmodule$build$src$generators$javascript$procedures.procedures_defnoreturn=procedures_defreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_defreturn=procedures_defreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_ifreturn=procedures_ifreturn$$module$build$src$generators$javascript$procedures;var strRegExp$$module$build$src$generators$javascript$text=/^\\s*'([^']|\\\\')*'\\s*$/,forceString$$module$build$src$generators$javascript$text=function(a){return strRegExp$$module$build$src$generators$javascript$text.test(a)?[a,Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]:[\"String(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},getSubstringIndex$$module$build$src$generators$javascript$text=function(a,b,c){return b===\"FIRST\"?\"0\":\nb===\"FROM_END\"?a+\".length - 1 - \"+c:b===\"LAST\"?a+\".length - 1\":c},text_prompt$$module$build$src$generators$javascript$text=text_prompt_ext$$module$build$src$generators$javascript$text,module$build$src$generators$javascript$text={};module$build$src$generators$javascript$text.text=text$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_append=text_append$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_changeCase=text_changeCase$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_charAt=text_charAt$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_count=text_count$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_getSubstring=text_getSubstring$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_indexOf=text_indexOf$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_isEmpty=text_isEmpty$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_join=text_join$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_length=text_length$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_print=text_print$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_prompt=text_prompt_ext$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_prompt_ext=text_prompt_ext$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_replace=text_replace$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_reverse=text_reverse$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_trim=text_trim$$module$build$src$generators$javascript$text;var module$build$src$generators$javascript$variables={};module$build$src$generators$javascript$variables.variables_get=variables_get$$module$build$src$generators$javascript$variables;module$build$src$generators$javascript$variables.variables_set=variables_set$$module$build$src$generators$javascript$variables;var module$build$src$generators$javascript$variables_dynamic={};module$build$src$generators$javascript$variables_dynamic.variables_get_dynamic=variables_get$$module$build$src$generators$javascript$variables;module$build$src$generators$javascript$variables_dynamic.variables_set_dynamic=variables_set$$module$build$src$generators$javascript$variables;var javascriptGenerator$$module$build$src$generators$javascript=new JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator,generators$$module$build$src$generators$javascript=Object.assign({},module$build$src$generators$javascript$lists,module$build$src$generators$javascript$logic,module$build$src$generators$javascript$loops,module$build$src$generators$javascript$math,module$build$src$generators$javascript$procedures,module$build$src$generators$javascript$text,module$build$src$generators$javascript$variables,\nmodule$build$src$generators$javascript$variables_dynamic);for(const a in generators$$module$build$src$generators$javascript)javascriptGenerator$$module$build$src$generators$javascript.forBlock[a]=generators$$module$build$src$generators$javascript[a];var module$build$src$generators$javascript={};module$build$src$generators$javascript.JavascriptGenerator=JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;module$build$src$generators$javascript.Order=Order$$module$build$src$generators$javascript$javascript_generator;\nmodule$build$src$generators$javascript.javascriptGenerator=javascriptGenerator$$module$build$src$generators$javascript;\nmodule$build$src$generators$javascript.__namespace__=$;\nreturn module$build$src$generators$javascript;\n}));\n\n\n//# sourceMappingURL=javascript_compressed.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9qYXZhc2NyaXB0X2NvbXByZXNzZWQuanMiLCJtYXBwaW5ncyI6IkFBQUEsMEhBQTBCOztBQUUxQjtBQUNBLENBQUM7QUFDRCxNQUFNLElBQTBDLElBQUk7QUFDcEQsSUFBSSxpQ0FBTyxDQUFDLGtHQUF5QixDQUFDLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsa0dBQUM7QUFDaEQsSUFBSSxLQUFLLEVBS047QUFDSCxDQUFDO0FBQ0Q7QUFDQSxtRkFBbUYsdUZBQXVGLCtFQUErRSw0QkFBNEIsWUFBWSxlQUFlLGtIQUFrSCx1R0FBdUc7QUFDemdCLHlFQUF5RTtBQUN6RSxXQUFXLDZCQUE2QjtBQUN4QztBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHLHNHQUFzRyw0R0FBNEcsMEVBQTBFO0FBQ3pZLDJGQUEyRiwyRUFBMkUsZ05BQWdOLDJFQUEyRTtBQUNqYyx3R0FBd0csNkhBQTZILHFOQUFxTjtBQUMxYixjQUFjLGdGQUFnRixvTUFBb00sVUFBVSxvSEFBb0g7QUFDaGEsbUNBQW1DLElBQUksTUFBTSw2SEFBNkgsaUhBQWlILGlDQUFpQyxJQUFJLE1BQU0sMENBQTBDLDJHQUEyRztBQUMzZCx5R0FBeUcsNENBQTRDLElBQUksTUFBTSw2Q0FBNkMsMkhBQTJILHNJQUFzSSw0Q0FBNEM7QUFDemYsTUFBTTtBQUNOLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMEhBQTBILDJCQUEyQixJQUFJLHdEQUF3RCw0RUFBNEUsYUFBYSw2QkFBNkIsbUhBQW1ILElBQUksSUFBSSxTQUFTO0FBQ3plLHdGQUF3Rix1Q0FBdUMsNkNBQTZDLG9IQUFvSCxVQUFVLGdEQUFnRCxJQUFJLDBDQUEwQyxJQUFJLE1BQU0sbUVBQW1FLEtBQUs7QUFDMWQsS0FBSyxJQUFJLE1BQU0sMENBQTBDLHVDQUF1QyxJQUFJLG1EQUFtRCxJ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RjtBQUM1NEIsaUVBQWlFLHNLQUFzSyxtR0FBbUc7QUFDMVUseUhBQXlILGlIQUFpSCwrR0FBK0c7QUFDelYsbUhBQW1ILG1IQUFtSCw2R0FBNkc7QUFDblYsK0dBQStHLHFIQUFxSCx5SEFBeUg7QUFDN1YsbUhBQW1ILDZHQUE2Ryx3REFBd0QsK0hBQStILCtIQUErSCxnRUFBZ0UsK0lBQStJLCtJQUErSSx3TkFBd047QUFDNWtDLDBEQUEwRCxnTUFBZ00sOENBQThDLDRJQUE0STtBQUNwYjtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRCIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9qYXZhc2NyaXB0X2NvbXByZXNzZWQuanM/ZWM2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEbyBub3QgZWRpdCB0aGlzIGZpbGU7IGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkLlxuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4vYmxvY2tseV9jb21wcmVzc2VkLmpzXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsgLy8gTm9kZS5qc1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9ibG9ja2x5X2NvbXByZXNzZWQuanNcIikpO1xuICB9IGVsc2UgeyAvLyBTY3JpcHRcbiAgICByb290LmphdmFzY3JpcHQgPSBmYWN0b3J5KHJvb3QuQmxvY2tseSk7XG4gICAgcm9vdC5CbG9ja2x5LkphdmFTY3JpcHQgPSByb290LmphdmFzY3JpcHQuamF2YXNjcmlwdEdlbmVyYXRvcjtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbihfX3BhcmVudF9fKSB7XG52YXIgJD1fX3BhcmVudF9fLl9fbmFtZXNwYWNlX187XG52YXIgbGlzdHNfY3JlYXRlX2VtcHR5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe3JldHVybltcIltdXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFUT01JQ119LGxpc3RzX2NyZWF0ZV93aXRoJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9QXJyYXkoYS5pdGVtQ291bnRfKTtmb3IobGV0IGQ9MDtkPGEuaXRlbUNvdW50XztkKyspY1tkXT1iLnZhbHVlVG9Db2RlKGEsXCJBRERcIitkLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJudWxsXCI7cmV0dXJuW1wiW1wiK2Muam9pbihcIiwgXCIpK1wiXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdfSxcbmxpc3RzX3JlcGVhdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIucHJvdmlkZUZ1bmN0aW9uXyhcImxpc3RzUmVwZWF0XCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffSh2YWx1ZSwgbikge1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cbmApLGQ9Yi52YWx1ZVRvQ29kZShhLFwiSVRFTVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJudWxsXCI7YT1iLnZhbHVlVG9Db2RlKGEsXCJOVU1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiO3JldHVybltjK1wiKFwiK2QrXCIsIFwiK2ErXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxsaXN0c19sZW5ndGgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiLnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcblwiW11cIikrXCIubGVuZ3RoXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl19LGxpc3RzX2lzRW1wdHkkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7cmV0dXJuW1wiIVwiKyhiLnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcIltdXCIpK1wiLmxlbmd0aFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX05PVF19LGxpc3RzX2luZGV4T2YkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1hLmdldEZpZWxkVmFsdWUoXCJFTkRcIik9PT1cIkZJUlNUXCI/XCJpbmRleE9mXCI6XCJsYXN0SW5kZXhPZlwiLFxuZD1iLnZhbHVlVG9Db2RlKGEsXCJGSU5EXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCI7Yj0oYi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCJbXVwiKStcIi5cIitjK1wiKFwiK2QrXCIpXCI7cmV0dXJuIGEud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9bYitcIiArIDFcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQURESVRJT05dOltiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbGlzdHNfZ2V0SW5kZXgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPVxuZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0RmllbGRWYWx1ZShcIk1PREVcIil8fFwiR0VUXCIsZD1hLmdldEZpZWxkVmFsdWUoXCJXSEVSRVwiKXx8XCJGUk9NX1NUQVJUXCI7dmFyIGU9Yi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixkPT09XCJSQU5ET01cIj9PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORTpPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCJbXVwiO3N3aXRjaChkKXtjYXNlIFwiRklSU1RcIjppZihjPT09XCJHRVRcIilyZXR1cm5bZStcIlswXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdO2lmKGM9PT1cIkdFVF9SRU1PVkVcIilyZXR1cm5bZStcIi5zaGlmdCgpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl07XG5pZihjPT09XCJSRU1PVkVcIilyZXR1cm4gZStcIi5zaGlmdCgpO1xcblwiO2JyZWFrO2Nhc2UgXCJMQVNUXCI6aWYoYz09PVwiR0VUXCIpcmV0dXJuW2UrXCIuc2xpY2UoLTEpWzBdXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl07aWYoYz09PVwiR0VUX1JFTU9WRVwiKXJldHVybltlK1wiLnBvcCgpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl07aWYoYz09PVwiUkVNT1ZFXCIpcmV0dXJuIGUrXCIucG9wKCk7XFxuXCI7YnJlYWs7Y2FzZSBcIkZST01fU1RBUlRcIjphPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUXCIpO2lmKGM9PT1cIkdFVFwiKXJldHVybltlK1wiW1wiK2ErXCJdXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl07aWYoYz09PVwiR0VUX1JFTU9WRVwiKXJldHVybltlK1xuXCIuc3BsaWNlKFwiK2ErXCIsIDEpWzBdXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdO2lmKGM9PT1cIlJFTU9WRVwiKXJldHVybiBlK1wiLnNwbGljZShcIithK1wiLCAxKTtcXG5cIjticmVhaztjYXNlIFwiRlJPTV9FTkRcIjphPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUXCIsMSwhMCk7aWYoYz09PVwiR0VUXCIpcmV0dXJuW2UrXCIuc2xpY2UoXCIrYStcIilbMF1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07aWYoYz09PVwiR0VUX1JFTU9WRVwiKXJldHVybltlK1wiLnNwbGljZShcIithK1wiLCAxKVswXVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXTtpZihjPT09XCJSRU1PVkVcIilyZXR1cm4gZStcIi5zcGxpY2UoXCIrYStcIiwgMSk7XCI7XG5icmVhaztjYXNlIFwiUkFORE9NXCI6ZT1iLnByb3ZpZGVGdW5jdGlvbl8oXCJsaXN0c0dldFJhbmRvbUl0ZW1cIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KGxpc3QsIHJlbW92ZSkge1xuICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxpc3QubGVuZ3RoKTtcbiAgaWYgKHJlbW92ZSkge1xuICAgIHJldHVybiBsaXN0LnNwbGljZSh4LCAxKVswXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdFt4XTtcbiAgfVxufVxuYCkrXCIoXCIrZStcIiwgXCIrKGMhPT1cIkdFVFwiKStcIilcIjtpZihjPT09XCJHRVRcInx8Yz09PVwiR0VUX1JFTU9WRVwiKXJldHVybltlLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXTtpZihjPT09XCJSRU1PVkVcIilyZXR1cm4gZStcIjtcXG5cIn10aHJvdyBFcnJvcihcIlVuaGFuZGxlZCBjb21iaW5hdGlvbiAobGlzdHNfZ2V0SW5kZXgpLlwiKTt9LGxpc3RzX3NldEluZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtpZihkLm1hdGNoKC9eXFx3KyQvKSlyZXR1cm5cIlwiO2NvbnN0IGg9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShcInRtcExpc3RcIiwkLk5hbWVUeXBlJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXMuVkFSSUFCTEUpLGs9XCJ2YXIgXCIraCtcIiA9IFwiK2QrXCI7XFxuXCI7ZD1oO3JldHVybiBrfWxldCBkPWIudmFsdWVUb0NvZGUoYSxcblwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcIltdXCI7Y29uc3QgZT1hLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpfHxcIkdFVFwiO3ZhciBmPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpfHxcIkZST01fU1RBUlRcIjtjb25zdCBnPWIudmFsdWVUb0NvZGUoYSxcIlRPXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFTU0lHTk1FTlQpfHxcIm51bGxcIjtzd2l0Y2goZil7Y2FzZSBcIkZJUlNUXCI6aWYoZT09PVwiU0VUXCIpcmV0dXJuIGQrXCJbMF0gPSBcIitnK1wiO1xcblwiO2lmKGU9PT1cIklOU0VSVFwiKXJldHVybiBkK1wiLnVuc2hpZnQoXCIrZytcIik7XFxuXCI7YnJlYWs7Y2FzZSBcIkxBU1RcIjppZihlPT09XCJTRVRcIilyZXR1cm4gYygpKyhkK1wiW1wiK2QrXCIubGVuZ3RoIC0gMV0gPSBcIitnK1wiO1xcblwiKTtpZihlPT09XCJJTlNFUlRcIilyZXR1cm4gZCtcIi5wdXNoKFwiK1xuZytcIik7XFxuXCI7YnJlYWs7Y2FzZSBcIkZST01fU1RBUlRcIjphPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUXCIpO2lmKGU9PT1cIlNFVFwiKXJldHVybiBkK1wiW1wiK2ErXCJdID0gXCIrZytcIjtcXG5cIjtpZihlPT09XCJJTlNFUlRcIilyZXR1cm4gZCtcIi5zcGxpY2UoXCIrYStcIiwgMCwgXCIrZytcIik7XFxuXCI7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6YT1iLmdldEFkanVzdGVkKGEsXCJBVFwiLDEsITEsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlNVQlRSQUNUSU9OKTtmPWMoKTtpZihlPT09XCJTRVRcIilyZXR1cm4gZisoZCtcIltcIitkK1wiLmxlbmd0aCAtIFwiK2ErXCJdID0gXCIrZytcIjtcXG5cIik7aWYoZT09PVwiSU5TRVJUXCIpcmV0dXJuIGYrKGQrXCIuc3BsaWNlKFwiK2QrXCIubGVuZ3RoIC0gXCIrYStcIiwgMCwgXCIrZytcIik7XFxuXCIpO2JyZWFrO2Nhc2UgXCJSQU5ET01cIjphPWMoKTtmPWIubmFtZURCXy5nZXREaXN0aW5jdE5hbWUoXCJ0bXBYXCIsJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFKTtcbmErPVwidmFyIFwiK2YrXCIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBcIitkK1wiLmxlbmd0aCk7XFxuXCI7aWYoZT09PVwiU0VUXCIpcmV0dXJuIGErKGQrXCJbXCIrZitcIl0gPSBcIitnK1wiO1xcblwiKTtpZihlPT09XCJJTlNFUlRcIilyZXR1cm4gYSsoZCtcIi5zcGxpY2UoXCIrZitcIiwgMCwgXCIrZytcIik7XFxuXCIpfXRocm93IEVycm9yKFwiVW5oYW5kbGVkIGNvbWJpbmF0aW9uIChsaXN0c19zZXRJbmRleCkuXCIpO30sbGlzdHNfZ2V0U3VibGlzdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz17RklSU1Q6XCJGaXJzdFwiLExBU1Q6XCJMYXN0XCIsRlJPTV9TVEFSVDpcIkZyb21TdGFydFwiLEZST01fRU5EOlwiRnJvbUVuZFwifSxkPWIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCJbXVwiO2NvbnN0IGU9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkUxXCIpLFxuZj1hLmdldEZpZWxkVmFsdWUoXCJXSEVSRTJcIik7aWYoZT09PVwiRklSU1RcIiYmZj09PVwiTEFTVFwiKWQrPVwiLnNsaWNlKDApXCI7ZWxzZSBpZihkLm1hdGNoKC9eXFx3KyQvKXx8ZSE9PVwiRlJPTV9FTkRcIiYmZj09PVwiRlJPTV9TVEFSVFwiKXtzd2l0Y2goZSl7Y2FzZSBcIkZST01fU1RBUlRcIjpjPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiKTticmVhaztjYXNlIFwiRlJPTV9FTkRcIjpjPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiLDEsITEsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlNVQlRSQUNUSU9OKTtjPWQrXCIubGVuZ3RoIC0gXCIrYzticmVhaztjYXNlIFwiRklSU1RcIjpjPVwiMFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmhhbmRsZWQgb3B0aW9uIChsaXN0c19nZXRTdWJsaXN0KS5cIik7fXN3aXRjaChmKXtjYXNlIFwiRlJPTV9TVEFSVFwiOmI9Yi5nZXRBZGp1c3RlZChhLFwiQVQyXCIsMSk7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6Yj1cbmIuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiLDAsITEsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlNVQlRSQUNUSU9OKTtiPWQrXCIubGVuZ3RoIC0gXCIrYjticmVhaztjYXNlIFwiTEFTVFwiOmI9ZCtcIi5sZW5ndGhcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAobGlzdHNfZ2V0U3VibGlzdCkuXCIpO31kPWQrXCIuc2xpY2UoXCIrYytcIiwgXCIrYitcIilcIn1lbHNle2NvbnN0IGc9Yi5nZXRBZGp1c3RlZChhLFwiQVQxXCIpO2E9Yi5nZXRBZGp1c3RlZChhLFwiQVQyXCIpO2Q9Yi5wcm92aWRlRnVuY3Rpb25fKFwic3Vic2VxdWVuY2VcIitjW2VdK2NbZl0sYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShzZXF1ZW5jZSR7ZT09PVwiRlJPTV9FTkRcInx8ZT09PVwiRlJPTV9TVEFSVFwiP1wiLCBhdDFcIjpcIlwifSR7Zj09PVwiRlJPTV9FTkRcInx8Zj09PVwiRlJPTV9TVEFSVFwiP1wiLCBhdDJcIjpcIlwifSkge1xuICB2YXIgc3RhcnQgPSAke2dldFN1YnN0cmluZ0luZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cyhcInNlcXVlbmNlXCIsZSxcImF0MVwiKX07XG4gIHZhciBlbmQgPSAke2dldFN1YnN0cmluZ0luZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cyhcInNlcXVlbmNlXCIsZixcImF0MlwiKX0gKyAxO1xuICByZXR1cm4gc2VxdWVuY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5gKStcIihcIitkKyhlPT09XCJGUk9NX0VORFwifHxlPT09XCJGUk9NX1NUQVJUXCI/XCIsIFwiK2c6XCJcIikrKGY9PT1cIkZST01fRU5EXCJ8fGY9PT1cIkZST01fU1RBUlRcIj9cIiwgXCIrYTpcIlwiKStcIilcIn1yZXR1cm5bZCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LGxpc3RzX3NvcnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTEwpfHxcIltdXCIsZD1hLmdldEZpZWxkVmFsdWUoXCJESVJFQ1RJT05cIik9PT1cIjFcIj8xOi0xO2E9YS5nZXRGaWVsZFZhbHVlKFwiVFlQRVwiKTtiPWIucHJvdmlkZUZ1bmN0aW9uXyhcImxpc3RzR2V0U29ydENvbXBhcmVcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KHR5cGUsIGRpcmVjdGlvbikge1xuICB2YXIgY29tcGFyZUZ1bmNzID0ge1xuICAgICdOVU1FUklDJzogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gTnVtYmVyKGEpIC0gTnVtYmVyKGIpOyB9LFxuICAgICdURVhUJzogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGEpID4gU3RyaW5nKGIpID8gMSA6IC0xOyB9LFxuICAgICdJR05PUkVfQ0FTRSc6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhhKS50b0xvd2VyQ2FzZSgpID4gU3RyaW5nKGIpLnRvTG93ZXJDYXNlKCkgPyAxIDogLTE7IH0sXG4gIH07XG4gIHZhciBjb21wYXJlID0gY29tcGFyZUZ1bmNzW3R5cGVdO1xuICByZXR1cm4gZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gY29tcGFyZShhLCBiKSAqIGRpcmVjdGlvbjsgfTtcbn1cbiAgICAgIGApO3JldHVybltjK1wiLnNsaWNlKCkuc29ydChcIitiKycoXCInK2ErJ1wiLCAnK2QrXCIpKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbGlzdHNfc3BsaXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzPWZ1bmN0aW9uKGEsYil7bGV0IGM9Yi52YWx1ZVRvQ29kZShhLFwiSU5QVVRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKTtiPWIudmFsdWVUb0NvZGUoYSxcIkRFTElNXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCI7YT1hLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpO2lmKGE9PT1cIlNQTElUXCIpY3x8KGM9XCInJ1wiKSxhPVwic3BsaXRcIjtlbHNlIGlmKGE9PT1cIkpPSU5cIiljfHxcbihjPVwiW11cIiksYT1cImpvaW5cIjtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBtb2RlOiBcIithKTtyZXR1cm5bYytcIi5cIithK1wiKFwiK2IrXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxsaXN0c19yZXZlcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIpe3JldHVyblsoYi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMKXx8XCJbXVwiKStcIi5zbGljZSgpLnJldmVyc2UoKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sY29udHJvbHNfaWYkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljPVxuZnVuY3Rpb24oYSxiKXt2YXIgYz0wO2xldCBkPVwiXCI7Yi5TVEFURU1FTlRfUFJFRklYJiYoZCs9Yi5pbmplY3RJZChiLlNUQVRFTUVOVF9QUkVGSVgsYSkpO2Rve2NvbnN0IGU9Yi52YWx1ZVRvQ29kZShhLFwiSUZcIitjLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJmYWxzZVwiO2xldCBmPWIuc3RhdGVtZW50VG9Db2RlKGEsXCJET1wiK2MpO2IuU1RBVEVNRU5UX1NVRkZJWCYmKGY9Yi5wcmVmaXhMaW5lcyhiLmluamVjdElkKGIuU1RBVEVNRU5UX1NVRkZJWCxhKSxiLklOREVOVCkrZik7ZCs9KGM+MD9cIiBlbHNlIFwiOlwiXCIpK1wiaWYgKFwiK2UrXCIpIHtcXG5cIitmK1wifVwiO2MrK313aGlsZShhLmdldElucHV0KFwiSUZcIitjKSk7aWYoYS5nZXRJbnB1dChcIkVMU0VcIil8fGIuU1RBVEVNRU5UX1NVRkZJWCljPWEuZ2V0SW5wdXQoXCJFTFNFXCIpP2Iuc3RhdGVtZW50VG9Db2RlKGEsXCJFTFNFXCIpOlwiXCIsYi5TVEFURU1FTlRfU1VGRklYJiZcbihjPWIucHJlZml4TGluZXMoYi5pbmplY3RJZChiLlNUQVRFTUVOVF9TVUZGSVgsYSksYi5JTkRFTlQpK2MpLGQrPVwiIGVsc2Uge1xcblwiK2MrXCJ9XCI7cmV0dXJuIGQrXCJcXG5cIn0sbG9naWNfY29tcGFyZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPXtFUTpcIj09XCIsTkVROlwiIT1cIixMVDpcIjxcIixMVEU6XCI8PVwiLEdUOlwiPlwiLEdURTpcIj49XCJ9W2EuZ2V0RmllbGRWYWx1ZShcIk9QXCIpXSxkPWM9PT1cIj09XCJ8fGM9PT1cIiE9XCI/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkVRVUFMSVRZOk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5SRUxBVElPTkFMLGU9Yi52YWx1ZVRvQ29kZShhLFwiQVwiLGQpfHxcIjBcIjthPWIudmFsdWVUb0NvZGUoYSxcIkJcIixkKXx8XCIwXCI7cmV0dXJuW2UrXCIgXCIrXG5jK1wiIFwiK2EsZF19LGxvZ2ljX29wZXJhdGlvbiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0RmllbGRWYWx1ZShcIk9QXCIpPT09XCJBTkRcIj9cIiYmXCI6XCJ8fFwiLGQ9Yz09PVwiJiZcIj9PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9BTkQ6T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfT1I7bGV0IGU9Yi52YWx1ZVRvQ29kZShhLFwiQVwiLGQpO2E9Yi52YWx1ZVRvQ29kZShhLFwiQlwiLGQpO2V8fGE/KGI9Yz09PVwiJiZcIj9cInRydWVcIjpcImZhbHNlXCIsZXx8KGU9YiksYXx8KGE9YikpOmE9ZT1cImZhbHNlXCI7cmV0dXJuW2UrXCIgXCIrYytcIiBcIithLGRdfSxsb2dpY19uZWdhdGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljPVxuZnVuY3Rpb24oYSxiKXtjb25zdCBjPU9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX05PVDtyZXR1cm5bXCIhXCIrKGIudmFsdWVUb0NvZGUoYSxcIkJPT0xcIixjKXx8XCJ0cnVlXCIpLGNdfSxsb2dpY19ib29sZWFuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz1mdW5jdGlvbihhLGIpe3JldHVyblthLmdldEZpZWxkVmFsdWUoXCJCT09MXCIpPT09XCJUUlVFXCI/XCJ0cnVlXCI6XCJmYWxzZVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdfSxsb2dpY19udWxsJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz1mdW5jdGlvbihhLGIpe3JldHVybltcIm51bGxcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXX0sXG5sb2dpY190ZXJuYXJ5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi52YWx1ZVRvQ29kZShhLFwiSUZcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQ09ORElUSU9OQUwpfHxcImZhbHNlXCIsZD1iLnZhbHVlVG9Db2RlKGEsXCJUSEVOXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkNPTkRJVElPTkFMKXx8XCJudWxsXCI7YT1iLnZhbHVlVG9Db2RlKGEsXCJFTFNFXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkNPTkRJVElPTkFMKXx8XCJudWxsXCI7cmV0dXJuW2MrXCIgPyBcIitkK1wiIDogXCIrYSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQ09ORElUSU9OQUxdfSxcbmNvbnRyb2xzX3JlcGVhdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzPWZ1bmN0aW9uKGEsYil7bGV0IGM7Yz1hLmdldEZpZWxkKFwiVElNRVNcIik/U3RyaW5nKE51bWJlcihhLmdldEZpZWxkVmFsdWUoXCJUSU1FU1wiKSkpOmIudmFsdWVUb0NvZGUoYSxcIlRJTUVTXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFTU0lHTk1FTlQpfHxcIjBcIjtsZXQgZD1iLnN0YXRlbWVudFRvQ29kZShhLFwiRE9cIik7ZD1iLmFkZExvb3BUcmFwKGQsYSk7YT1cIlwiO2NvbnN0IGU9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShcImNvdW50XCIsJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFKTtsZXQgZj1jO2MubWF0Y2goL15cXHcrJC8pfHwkLmlzTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGMpfHwoZj1iLm5hbWVEQl8uZ2V0RGlzdGluY3ROYW1lKFwicmVwZWF0X2VuZFwiLFxuJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFKSxhKz1cInZhciBcIitmK1wiID0gXCIrYytcIjtcXG5cIik7cmV0dXJuIGErKFwiZm9yICh2YXIgXCIrZStcIiA9IDA7IFwiK2UrXCIgPCBcIitmK1wiOyBcIitlK1wiKyspIHtcXG5cIitkK1wifVxcblwiKX0sY29udHJvbHNfd2hpbGVVbnRpbCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0RmllbGRWYWx1ZShcIk1PREVcIik9PT1cIlVOVElMXCI7bGV0IGQ9Yi52YWx1ZVRvQ29kZShhLFwiQk9PTFwiLGM/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfTk9UOk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJmYWxzZVwiLGU9Yi5zdGF0ZW1lbnRUb0NvZGUoYSxcIkRPXCIpO2U9Yi5hZGRMb29wVHJhcChlLFxuYSk7YyYmKGQ9XCIhXCIrZCk7cmV0dXJuXCJ3aGlsZSAoXCIrZCtcIikge1xcblwiK2UrXCJ9XFxuXCJ9LGNvbnRyb2xzX2ZvciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldFZhcmlhYmxlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIikpLGQ9Yi52YWx1ZVRvQ29kZShhLFwiRlJPTVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCIwXCIsZT1iLnZhbHVlVG9Db2RlKGEsXCJUT1wiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCIwXCI7Y29uc3QgZj1iLnZhbHVlVG9Db2RlKGEsXCJCWVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCIxXCI7XG5sZXQgZz1iLnN0YXRlbWVudFRvQ29kZShhLFwiRE9cIik7Zz1iLmFkZExvb3BUcmFwKGcsYSk7aWYoJC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhkKSYmJC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhlKSYmJC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhmKSliPU51bWJlcihkKTw9TnVtYmVyKGUpLGE9XCJmb3IgKFwiK2MrXCIgPSBcIitkK1wiOyBcIitjKyhiP1wiIDw9IFwiOlwiID49IFwiKStlK1wiOyBcIitjLGM9TWF0aC5hYnMoTnVtYmVyKGYpKSxhPWM9PT0xP2ErKGI/XCIrK1wiOlwiLS1cIik6YSsoKGI/XCIgKz0gXCI6XCIgLT0gXCIpK2MpLGErPVwiKSB7XFxuXCIrZytcIn1cXG5cIjtlbHNle2E9XCJcIjtsZXQgaD1kO2QubWF0Y2goL15cXHcrJC8pfHwkLmlzTnVtYmVyJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdXRpbHMkc3RyaW5nKGQpfHwoaD1iLm5hbWVEQl8uZ2V0RGlzdGluY3ROYW1lKGMrXCJfc3RhcnRcIixcbiQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSksYSs9XCJ2YXIgXCIraCtcIiA9IFwiK2QrXCI7XFxuXCIpO2Q9ZTtlLm1hdGNoKC9eXFx3KyQvKXx8JC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhlKXx8KGQ9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShjK1wiX2VuZFwiLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSksYSs9XCJ2YXIgXCIrZCtcIiA9IFwiK2UrXCI7XFxuXCIpO2U9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShjK1wiX2luY1wiLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSk7YSs9XCJ2YXIgXCIrZStcIiA9IFwiO2E9JC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhmKT9hKyhNYXRoLmFicyhOdW1iZXIoZikpK1wiO1xcblwiKTphKyhcIk1hdGguYWJzKFwiK2YrXCIpO1xcblwiKTthKz1cImlmIChcIitoK1wiID4gXCIrZCtcIikge1xcblwiO1xuYSs9Yi5JTkRFTlQrZStcIiA9IC1cIitlK1wiO1xcblwiO2E9YStcIn1cXG5mb3IgKFwiKyhjK1wiID0gXCIraCtcIjsgXCIrZStcIiA+PSAwID8gXCIrYytcIiA8PSBcIitkK1wiIDogXCIrYytcIiA+PSBcIitkK1wiOyBcIitjK1wiICs9IFwiK2UrXCIpIHtcXG5cIitnK1wifVxcblwiKX1yZXR1cm4gYX0sY29udHJvbHNfZm9yRWFjaCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIuZ2V0VmFyaWFibGVOYW1lKGEuZ2V0RmllbGRWYWx1ZShcIlZBUlwiKSk7dmFyIGQ9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCJbXVwiO2xldCBlPWIuc3RhdGVtZW50VG9Db2RlKGEsXCJET1wiKTtlPWIuYWRkTG9vcFRyYXAoZSxhKTthPVwiXCI7bGV0IGY9ZDtkLm1hdGNoKC9eXFx3KyQvKXx8KGY9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShjK1wiX2xpc3RcIixcbiQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSksYSs9XCJ2YXIgXCIrZitcIiA9IFwiK2QrXCI7XFxuXCIpO2Q9Yi5uYW1lREJfLmdldERpc3RpbmN0TmFtZShjK1wiX2luZGV4XCIsJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLlZBUklBQkxFKTtlPWIuSU5ERU5UK2MrXCIgPSBcIitmK1wiW1wiK2QrXCJdO1xcblwiK2U7cmV0dXJuIGErKFwiZm9yICh2YXIgXCIrZCtcIiBpbiBcIitmK1wiKSB7XFxuXCIrZStcIn1cXG5cIil9LGNvbnRyb2xzX2Zsb3dfc3RhdGVtZW50cyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM9ZnVuY3Rpb24oYSxiKXtsZXQgYz1cIlwiO2IuU1RBVEVNRU5UX1BSRUZJWCYmKGMrPWIuaW5qZWN0SWQoYi5TVEFURU1FTlRfUFJFRklYLGEpKTtiLlNUQVRFTUVOVF9TVUZGSVgmJihjKz1iLmluamVjdElkKGIuU1RBVEVNRU5UX1NVRkZJWCxhKSk7aWYoYi5TVEFURU1FTlRfUFJFRklYKXtjb25zdCBkPWEuZ2V0U3Vycm91bmRMb29wKCk7XG5kJiYhZC5zdXBwcmVzc1ByZWZpeFN1ZmZpeCYmKGMrPWIuaW5qZWN0SWQoYi5TVEFURU1FTlRfUFJFRklYLGQpKX1zd2l0Y2goYS5nZXRGaWVsZFZhbHVlKFwiRkxPV1wiKSl7Y2FzZSBcIkJSRUFLXCI6cmV0dXJuIGMrXCJicmVhaztcXG5cIjtjYXNlIFwiQ09OVElOVUVcIjpyZXR1cm4gYytcImNvbnRpbnVlO1xcblwifXRocm93IEVycm9yKFwiVW5rbm93biBmbG93IHN0YXRlbWVudC5cIik7fSxtYXRoX251bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1mdW5jdGlvbihhLGIpe2E9TnVtYmVyKGEuZ2V0RmllbGRWYWx1ZShcIk5VTVwiKSk7cmV0dXJuW1N0cmluZyhhKSxhPj0wP09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUM6T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlVOQVJZX05FR0FUSU9OXX0sbWF0aF9hcml0aG1ldGljJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPVxuZnVuY3Rpb24oYSxiKXt2YXIgYz17QUREOltcIiArIFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BRERJVElPTl0sTUlOVVM6W1wiIC0gXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlNVQlRSQUNUSU9OXSxNVUxUSVBMWTpbXCIgKiBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTVVMVElQTElDQVRJT05dLERJVklERTpbXCIgLyBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRElWSVNJT05dLFBPV0VSOltudWxsLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FXX1bYS5nZXRGaWVsZFZhbHVlKFwiT1BcIildO1xuY29uc3QgZD1jWzBdO2M9Y1sxXTtjb25zdCBlPWIudmFsdWVUb0NvZGUoYSxcIkFcIixjKXx8XCIwXCI7YT1iLnZhbHVlVG9Db2RlKGEsXCJCXCIsYyl8fFwiMFwiO3JldHVybiBkP1tlK2QrYSxjXTpbXCJNYXRoLnBvdyhcIitlK1wiLCBcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sbWF0aF9zaW5nbGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0RmllbGRWYWx1ZShcIk9QXCIpO2xldCBkO2lmKGM9PT1cIk5FR1wiKXJldHVybiBhPWIudmFsdWVUb0NvZGUoYSxcIk5VTVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5VTkFSWV9ORUdBVElPTil8fFwiMFwiLGFbMF09PT1cIi1cIiYmKGE9XCIgXCIrYSksW1wiLVwiK2EsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlVOQVJZX05FR0FUSU9OXTtcbmE9Yz09PVwiU0lOXCJ8fGM9PT1cIkNPU1wifHxjPT09XCJUQU5cIj9iLnZhbHVlVG9Db2RlKGEsXCJOVU1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRElWSVNJT04pfHxcIjBcIjpiLnZhbHVlVG9Db2RlKGEsXCJOVU1cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiO3N3aXRjaChjKXtjYXNlIFwiQUJTXCI6ZD1cIk1hdGguYWJzKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIlJPT1RcIjpkPVwiTWF0aC5zcXJ0KFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIkxOXCI6ZD1cIk1hdGgubG9nKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIkVYUFwiOmQ9XCJNYXRoLmV4cChcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJQT1cxMFwiOmQ9XCJNYXRoLnBvdygxMCxcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJST1VORFwiOmQ9XCJNYXRoLnJvdW5kKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIlJPVU5EVVBcIjpkPVwiTWF0aC5jZWlsKFwiK1xuYStcIilcIjticmVhaztjYXNlIFwiUk9VTkRET1dOXCI6ZD1cIk1hdGguZmxvb3IoXCIrYStcIilcIjticmVhaztjYXNlIFwiU0lOXCI6ZD1cIk1hdGguc2luKFwiK2ErXCIgLyAxODAgKiBNYXRoLlBJKVwiO2JyZWFrO2Nhc2UgXCJDT1NcIjpkPVwiTWF0aC5jb3MoXCIrYStcIiAvIDE4MCAqIE1hdGguUEkpXCI7YnJlYWs7Y2FzZSBcIlRBTlwiOmQ9XCJNYXRoLnRhbihcIithK1wiIC8gMTgwICogTWF0aC5QSSlcIn1pZihkKXJldHVybltkLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXTtzd2l0Y2goYyl7Y2FzZSBcIkxPRzEwXCI6ZD1cIk1hdGgubG9nKFwiK2ErXCIpIC8gTWF0aC5sb2coMTApXCI7YnJlYWs7Y2FzZSBcIkFTSU5cIjpkPVwiTWF0aC5hc2luKFwiK2ErXCIpIC8gTWF0aC5QSSAqIDE4MFwiO2JyZWFrO2Nhc2UgXCJBQ09TXCI6ZD1cIk1hdGguYWNvcyhcIithK1wiKSAvIE1hdGguUEkgKiAxODBcIjticmVhaztjYXNlIFwiQVRBTlwiOmQ9XCJNYXRoLmF0YW4oXCIrXG5hK1wiKSAvIE1hdGguUEkgKiAxODBcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biBtYXRoIG9wZXJhdG9yOiBcIitjKTt9cmV0dXJuW2QsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkRJVklTSU9OXX0sbWF0aF9jb25zdGFudCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1mdW5jdGlvbihhLGIpe3JldHVybntQSTpbXCJNYXRoLlBJXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl0sRTpbXCJNYXRoLkVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSXSxHT0xERU5fUkFUSU86W1wiKDEgKyBNYXRoLnNxcnQoNSkpIC8gMlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5ESVZJU0lPTl0sXG5TUVJUMjpbXCJNYXRoLlNRUlQyXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl0sU1FSVDFfMjpbXCJNYXRoLlNRUlQxXzJcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSXSxJTkZJTklUWTpbXCJJbmZpbml0eVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdfVthLmdldEZpZWxkVmFsdWUoXCJDT05TVEFOVFwiKV19LG1hdGhfbnVtYmVyX3Byb3BlcnR5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7dmFyIGM9e0VWRU46W1wiICUgMiA9PT0gMFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTLFxuT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkVRVUFMSVRZXSxPREQ6W1wiICUgMiA9PT0gMVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5FUVVBTElUWV0sV0hPTEU6W1wiICUgMSA9PT0gMFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5FUVVBTElUWV0sUE9TSVRJVkU6W1wiID4gMFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5SRUxBVElPTkFMLFxuT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlJFTEFUSU9OQUxdLE5FR0FUSVZFOltcIiA8IDBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuUkVMQVRJT05BTCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuUkVMQVRJT05BTF0sRElWSVNJQkxFX0JZOltudWxsLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5FUVVBTElUWV0sUFJJTUU6W251bGwsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUsXG5PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19O2NvbnN0IGQ9YS5nZXRGaWVsZFZhbHVlKFwiUFJPUEVSVFlcIiksW2UsZixnXT1jW2RdO2M9Yi52YWx1ZVRvQ29kZShhLFwiTlVNQkVSX1RPX0NIRUNLXCIsZil8fFwiMFwiO2Q9PT1cIlBSSU1FXCI/YT1iLnByb3ZpZGVGdW5jdGlvbl8oXCJtYXRoSXNQcmltZVwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30obikge1xuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QcmltYWxpdHlfdGVzdCNOYWl2ZV9tZXRob2RzXG4gIGlmIChuID09IDIgfHwgbiA9PSAzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gRmFsc2UgaWYgbiBpcyBOYU4sIG5lZ2F0aXZlLCBpcyAxLCBvciBub3Qgd2hvbGUuXG4gIC8vIEFuZCBmYWxzZSBpZiBuIGlzIGRpdmlzaWJsZSBieSAyIG9yIDMuXG4gIGlmIChpc05hTihuKSB8fCBuIDw9IDEgfHwgbiAlIDEgIT09IDAgfHwgbiAlIDIgPT09IDAgfHwgbiAlIDMgPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQ2hlY2sgYWxsIHRoZSBudW1iZXJzIG9mIGZvcm0gNmsgKy8tIDEsIHVwIHRvIHNxcnQobikuXG4gIGZvciAodmFyIHggPSA2OyB4IDw9IE1hdGguc3FydChuKSArIDE7IHggKz0gNikge1xuICAgIGlmIChuICUgKHggLSAxKSA9PT0gMCB8fCBuICUgKHggKyAxKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmApK1wiKFwiK2MrXCIpXCI6ZD09PVwiRElWSVNJQkxFX0JZXCI/KGE9Yi52YWx1ZVRvQ29kZShhLFwiRElWSVNPUlwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTKXx8XCIwXCIsYT1jK1wiICUgXCIrYStcIiA9PT0gMFwiKTphPWMrZTtyZXR1cm5bYSxnXX0sbWF0aF9jaGFuZ2UkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIudmFsdWVUb0NvZGUoYSxcIkRFTFRBXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFERElUSU9OKXx8XCIwXCI7YT1iLmdldFZhcmlhYmxlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIikpO3JldHVybiBhK1wiID0gKHR5cGVvZiBcIithK1wiID09PSAnbnVtYmVyJyA/IFwiK2ErXCIgOiAwKSArIFwiK2MrXCI7XFxuXCJ9LG1hdGhfb25fbGlzdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1cbmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRGaWVsZFZhbHVlKFwiT1BcIik7c3dpdGNoKGMpe2Nhc2UgXCJTVU1cIjphPWIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCJbXVwiO2ErPVwiLnJlZHVjZShmdW5jdGlvbih4LCB5KSB7cmV0dXJuIHggKyB5O30sIDApXCI7YnJlYWs7Y2FzZSBcIk1JTlwiOmE9Yi52YWx1ZVRvQ29kZShhLFwiTElTVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJbXVwiO2E9XCJNYXRoLm1pbi5hcHBseShudWxsLCBcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJNQVhcIjphPWIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiW11cIjthPVwiTWF0aC5tYXguYXBwbHkobnVsbCwgXCIrXG5hK1wiKVwiO2JyZWFrO2Nhc2UgXCJBVkVSQUdFXCI6Yz1iLnByb3ZpZGVGdW5jdGlvbl8oXCJtYXRoTWVhblwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30obXlMaXN0KSB7XG4gIHJldHVybiBteUxpc3QucmVkdWNlKGZ1bmN0aW9uKHgsIHkpIHtyZXR1cm4geCArIHk7fSwgMCkgLyBteUxpc3QubGVuZ3RoO1xufVxuYCk7YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIltdXCI7YT1jK1wiKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIk1FRElBTlwiOmM9Yi5wcm92aWRlRnVuY3Rpb25fKFwibWF0aE1lZGlhblwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30obXlMaXN0KSB7XG4gIHZhciBsb2NhbExpc3QgPSBteUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh4KSB7cmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJzt9KTtcbiAgaWYgKCFsb2NhbExpc3QubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgbG9jYWxMaXN0LnNvcnQoZnVuY3Rpb24oYSwgYikge3JldHVybiBiIC0gYTt9KTtcbiAgaWYgKGxvY2FsTGlzdC5sZW5ndGggJSAyID09PSAwKSB7XG4gICAgcmV0dXJuIChsb2NhbExpc3RbbG9jYWxMaXN0Lmxlbmd0aCAvIDIgLSAxXSArIGxvY2FsTGlzdFtsb2NhbExpc3QubGVuZ3RoIC8gMl0pIC8gMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbG9jYWxMaXN0Wyhsb2NhbExpc3QubGVuZ3RoIC0gMSkgLyAyXTtcbiAgfVxufVxuYCk7YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIltdXCI7YT1jK1wiKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIk1PREVcIjpjPWIucHJvdmlkZUZ1bmN0aW9uXyhcIm1hdGhNb2Rlc1wiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30odmFsdWVzKSB7XG4gIHZhciBtb2RlcyA9IFtdO1xuICB2YXIgY291bnRzID0gW107XG4gIHZhciBtYXhDb3VudCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgIHZhciB0aGlzQ291bnQ7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChjb3VudHNbal1bMF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXNDb3VudCA9ICsrY291bnRzW2pdWzFdO1xuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZvdW5kKSB7XG4gICAgICBjb3VudHMucHVzaChbdmFsdWUsIDFdKTtcbiAgICAgIHRoaXNDb3VudCA9IDE7XG4gICAgfVxuICAgIG1heENvdW50ID0gTWF0aC5tYXgodGhpc0NvdW50LCBtYXhDb3VudCk7XG4gIH1cbiAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudHMubGVuZ3RoOyBqKyspIHtcbiAgICBpZiAoY291bnRzW2pdWzFdID09PSBtYXhDb3VudCkge1xuICAgICAgbW9kZXMucHVzaChjb3VudHNbal1bMF0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbW9kZXM7XG59XG5gKTthPWIudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiW11cIjthPWMrXCIoXCIrYStcIilcIjticmVhaztjYXNlIFwiU1REX0RFVlwiOmM9Yi5wcm92aWRlRnVuY3Rpb25fKFwibWF0aFN0YW5kYXJkRGV2aWF0aW9uXCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShudW1iZXJzKSB7XG4gIHZhciBuID0gbnVtYmVycy5sZW5ndGg7XG4gIGlmICghbikgcmV0dXJuIG51bGw7XG4gIHZhciBtZWFuID0gbnVtYmVycy5yZWR1Y2UoZnVuY3Rpb24oeCwgeSkge3JldHVybiB4ICsgeTt9KSAvIG47XG4gIHZhciB2YXJpYW5jZSA9IDA7XG4gIGZvciAodmFyIGogPSAwOyBqIDwgbjsgaisrKSB7XG4gICAgdmFyaWFuY2UgKz0gTWF0aC5wb3cobnVtYmVyc1tqXSAtIG1lYW4sIDIpO1xuICB9XG4gIHZhcmlhbmNlIC89IG47XG4gIHJldHVybiBNYXRoLnNxcnQodmFyaWFuY2UpO1xufVxuYCk7YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIltdXCI7YT1jK1wiKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIlJBTkRPTVwiOmM9Yi5wcm92aWRlRnVuY3Rpb25fKFwibWF0aFJhbmRvbUxpc3RcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KGxpc3QpIHtcbiAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCk7XG4gIHJldHVybiBsaXN0W3hdO1xufVxuYCk7YT1iLnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIltdXCI7YT1jK1wiKFwiK2ErXCIpXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gb3BlcmF0b3I6IFwiK2MpO31yZXR1cm5bYSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LG1hdGhfbW9kdWxvJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJESVZJREVORFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NT0RVTFVTKXx8XCIwXCI7YT1iLnZhbHVlVG9Db2RlKGEsXCJESVZJU09SXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1PRFVMVVMpfHxcblwiMFwiO3JldHVybltjK1wiICUgXCIrYSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTU9EVUxVU119LG1hdGhfY29uc3RyYWluJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCIwXCIsZD1iLnZhbHVlVG9Db2RlKGEsXCJMT1dcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiO2E9Yi52YWx1ZVRvQ29kZShhLFwiSElHSFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCJJbmZpbml0eVwiO3JldHVybltcIk1hdGgubWluKE1hdGgubWF4KFwiK1xuYytcIiwgXCIrZCtcIiksIFwiK2ErXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxtYXRoX3JhbmRvbV9pbnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIudmFsdWVUb0NvZGUoYSxcIkZST01cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiO2E9Yi52YWx1ZVRvQ29kZShhLFwiVE9cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiO3JldHVybltiLnByb3ZpZGVGdW5jdGlvbl8oXCJtYXRoUmFuZG9tSW50XCIsYFxuZnVuY3Rpb24gJHtiLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJffShhLCBiKSB7XG4gIGlmIChhID4gYikge1xuICAgIC8vIFN3YXAgYSBhbmQgYiB0byBlbnN1cmUgYSBpcyBzbWFsbGVyLlxuICAgIHZhciBjID0gYTtcbiAgICBhID0gYjtcbiAgICBiID0gYztcbiAgfVxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGIgLSBhICsgMSkgKyBhKTtcbn1cbmApK1wiKFwiK2MrXCIsIFwiK2ErXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSxtYXRoX3JhbmRvbV9mbG9hdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1mdW5jdGlvbihhLGIpe3JldHVybltcIk1hdGgucmFuZG9tKClcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LG1hdGhfYXRhbjIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIudmFsdWVUb0NvZGUoYSxcIlhcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiMFwiO3JldHVybltcIk1hdGguYXRhbjIoXCIrKGIudmFsdWVUb0NvZGUoYSxcIllcIixcbk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCIwXCIpK1wiLCBcIitjK1wiKSAvIE1hdGguUEkgKiAxODBcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRElWSVNJT05dfSxwcm9jZWR1cmVzX2RlZnJldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi5nZXRQcm9jZWR1cmVOYW1lKGEuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpO3ZhciBkPVwiXCI7Yi5TVEFURU1FTlRfUFJFRklYJiYoZCs9Yi5pbmplY3RJZChiLlNUQVRFTUVOVF9QUkVGSVgsYSkpO2IuU1RBVEVNRU5UX1NVRkZJWCYmKGQrPWIuaW5qZWN0SWQoYi5TVEFURU1FTlRfU1VGRklYLGEpKTtkJiYoZD1iLnByZWZpeExpbmVzKGQsYi5JTkRFTlQpKTtsZXQgZT1cIlwiO2IuSU5GSU5JVEVfTE9PUF9UUkFQJiZcbihlPWIucHJlZml4TGluZXMoYi5pbmplY3RJZChiLklORklOSVRFX0xPT1BfVFJBUCxhKSxiLklOREVOVCkpO2xldCBmPVwiXCI7YS5nZXRJbnB1dChcIlNUQUNLXCIpJiYoZj1iLnN0YXRlbWVudFRvQ29kZShhLFwiU1RBQ0tcIikpO2xldCBnPVwiXCI7YS5nZXRJbnB1dChcIlJFVFVSTlwiKSYmKGc9Yi52YWx1ZVRvQ29kZShhLFwiUkVUVVJOXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIlwiKTtsZXQgaD1cIlwiO2YmJmcmJihoPWQpO2cmJihnPWIuSU5ERU5UK1wicmV0dXJuIFwiK2crXCI7XFxuXCIpO2NvbnN0IGs9W10sbD1hLmdldFZhcnMoKTtmb3IobGV0IG09MDttPGwubGVuZ3RoO20rKylrW21dPWIuZ2V0VmFyaWFibGVOYW1lKGxbbV0pO2Q9XCJmdW5jdGlvbiBcIitjK1wiKFwiK2suam9pbihcIiwgXCIpK1wiKSB7XFxuXCIrZCtlK2YraCtnK1wifVwiO2Q9Yi5zY3J1Yl8oYSxkKTtiLmRlZmluaXRpb25zX1tcIiVcIitjXT1kO3JldHVybiBudWxsfSxcbnByb2NlZHVyZXNfY2FsbHJldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi5nZXRQcm9jZWR1cmVOYW1lKGEuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpLGQ9W10sZT1hLmdldFZhcnMoKTtmb3IobGV0IGY9MDtmPGUubGVuZ3RoO2YrKylkW2ZdPWIudmFsdWVUb0NvZGUoYSxcIkFSR1wiK2YsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIm51bGxcIjtyZXR1cm5bYytcIihcIitkLmpvaW4oXCIsIFwiKStcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LHByb2NlZHVyZXNfY2FsbG5vcmV0dXJuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuZm9yQmxvY2sucHJvY2VkdXJlc19jYWxscmV0dXJuKGEsXG5iKVswXStcIjtcXG5cIn0scHJvY2VkdXJlc19pZnJldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcz1mdW5jdGlvbihhLGIpe2xldCBjPVwiaWYgKFwiKyhiLnZhbHVlVG9Db2RlKGEsXCJDT05ESVRJT05cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiZmFsc2VcIikrXCIpIHtcXG5cIjtiLlNUQVRFTUVOVF9TVUZGSVgmJihjKz1iLnByZWZpeExpbmVzKGIuaW5qZWN0SWQoYi5TVEFURU1FTlRfU1VGRklYLGEpLGIuSU5ERU5UKSk7YS5oYXNSZXR1cm5WYWx1ZV8/KGE9Yi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwibnVsbFwiLGMrPWIuSU5ERU5UK1wicmV0dXJuIFwiK2ErXCI7XFxuXCIpOmMrPWIuSU5ERU5UK1wicmV0dXJuO1xcblwiO3JldHVybiBjK1xuXCJ9XFxuXCJ9LHRleHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi5xdW90ZV8oYS5nZXRGaWVsZFZhbHVlKFwiVEVYVFwiKSksT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFUT01JQ119LHRleHRfam9pbiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe3N3aXRjaChhLml0ZW1Db3VudF8pe2Nhc2UgMDpyZXR1cm5bXCInJ1wiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdO2Nhc2UgMTpyZXR1cm4gYT1iLnZhbHVlVG9Db2RlKGEsXCJBREQwXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCIsZm9yY2VTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQoYSk7XG5jYXNlIDI6dmFyIGM9Yi52YWx1ZVRvQ29kZShhLFwiQUREMFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO2E9Yi52YWx1ZVRvQ29kZShhLFwiQUREMVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO3JldHVybltmb3JjZVN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dChjKVswXStcIiArIFwiK2ZvcmNlU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0KGEpWzBdLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BRERJVElPTl07ZGVmYXVsdDpjPUFycmF5KGEuaXRlbUNvdW50Xyk7Zm9yKGxldCBkPTA7ZDxhLml0ZW1Db3VudF87ZCsrKWNbZF09XG5iLnZhbHVlVG9Db2RlKGEsXCJBRERcIitkLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO3JldHVybltcIltcIitjLmpvaW4oXCIsXCIpK1wiXS5qb2luKCcnKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX19LHRleHRfYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLmdldFZhcmlhYmxlTmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIikpO2E9Yi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO3JldHVybiBjK1wiICs9IFwiK2ZvcmNlU3RyaW5nJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0KGEpWzBdK1xuXCI7XFxuXCJ9LHRleHRfbGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiLnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcIicnXCIpK1wiLmxlbmd0aFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVJdfSx0ZXh0X2lzRW1wdHkkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm5bXCIhXCIrKGIudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiJydcIikrXCIubGVuZ3RoXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfTk9UXX0sXG50ZXh0X2luZGV4T2YkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWEuZ2V0RmllbGRWYWx1ZShcIkVORFwiKT09PVwiRklSU1RcIj9cImluZGV4T2ZcIjpcImxhc3RJbmRleE9mXCIsZD1iLnZhbHVlVG9Db2RlKGEsXCJGSU5EXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCI7Yj0oYi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCInJ1wiKStcIi5cIitjK1wiKFwiK2QrXCIpXCI7cmV0dXJuIGEud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9bYitcIiArIDFcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQURESVRJT05dOltiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sXG50ZXh0X2NoYXJBdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkVcIil8fFwiRlJPTV9TVEFSVFwiLGQ9Yi52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixjPT09XCJSQU5ET01cIj9PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORTpPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSKXx8XCInJ1wiO3N3aXRjaChjKXtjYXNlIFwiRklSU1RcIjpyZXR1cm5bZCtcIi5jaGFyQXQoMClcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07Y2FzZSBcIkxBU1RcIjpyZXR1cm5bZCtcIi5zbGljZSgtMSlcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF07XG5jYXNlIFwiRlJPTV9TVEFSVFwiOnJldHVybiBhPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUXCIpLFtkK1wiLmNoYXJBdChcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXTtjYXNlIFwiRlJPTV9FTkRcIjpyZXR1cm4gYT1iLmdldEFkanVzdGVkKGEsXCJBVFwiLDEsITApLFtkK1wiLnNsaWNlKFwiK2ErXCIpLmNoYXJBdCgwKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXTtjYXNlIFwiUkFORE9NXCI6cmV0dXJuW2IucHJvdmlkZUZ1bmN0aW9uXyhcInRleHRSYW5kb21MZXR0ZXJcIixgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KHRleHQpIHtcbiAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0ZXh0Lmxlbmd0aCk7XG4gIHJldHVybiB0ZXh0W3hdO1xufVxuYCkrXCIoXCIrZCtcIilcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19dGhyb3cgRXJyb3IoXCJVbmhhbmRsZWQgb3B0aW9uICh0ZXh0X2NoYXJBdCkuXCIpO30sdGV4dF9nZXRTdWJzdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz17RklSU1Q6XCJGaXJzdFwiLExBU1Q6XCJMYXN0XCIsRlJPTV9TVEFSVDpcIkZyb21TdGFydFwiLEZST01fRU5EOlwiRnJvbUVuZFwifTtjb25zdCBkPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFMVwiKSxlPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFMlwiKTt2YXIgZj1kIT09XCJGUk9NX0VORFwiJiZkIT09XCJMQVNUXCImJmUhPT1cIkZST01fRU5EXCImJmUhPT1cIkxBU1RcIixnPWIudmFsdWVUb0NvZGUoYSxcIlNUUklOR1wiLGY/T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUjpcbk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO2lmKGQ9PT1cIkZJUlNUXCImJmU9PT1cIkxBU1RcIilyZXR1cm5bZyxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORV07aWYoZy5tYXRjaCgvXic/XFx3Kyc/JC8pfHxmKXtzd2l0Y2goZCl7Y2FzZSBcIkZST01fU1RBUlRcIjpjPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiKTticmVhaztjYXNlIFwiRlJPTV9FTkRcIjpjPWIuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiLDEsITEsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLlNVQlRSQUNUSU9OKTtjPWcrXCIubGVuZ3RoIC0gXCIrYzticmVhaztjYXNlIFwiRklSU1RcIjpjPVwiMFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmhhbmRsZWQgb3B0aW9uICh0ZXh0X2dldFN1YnN0cmluZykuXCIpO1xufXN3aXRjaChlKXtjYXNlIFwiRlJPTV9TVEFSVFwiOmI9Yi5nZXRBZGp1c3RlZChhLFwiQVQyXCIsMSk7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6Yj1iLmdldEFkanVzdGVkKGEsXCJBVDJcIiwwLCExLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTik7Yj1nK1wiLmxlbmd0aCAtIFwiK2I7YnJlYWs7Y2FzZSBcIkxBU1RcIjpiPWcrXCIubGVuZ3RoXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuaGFuZGxlZCBvcHRpb24gKHRleHRfZ2V0U3Vic3RyaW5nKS5cIik7fWc9ZytcIi5zbGljZShcIitjK1wiLCBcIitiK1wiKVwifWVsc2UgZj1iLmdldEFkanVzdGVkKGEsXCJBVDFcIiksYT1iLmdldEFkanVzdGVkKGEsXCJBVDJcIiksZz1iLnByb3ZpZGVGdW5jdGlvbl8oXCJzdWJzZXF1ZW5jZVwiK2NbZF0rY1tlXSxgXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KHNlcXVlbmNlJHtkPT09XCJGUk9NX0VORFwifHxkPT09XCJGUk9NX1NUQVJUXCI/XCIsIGF0MVwiOlwiXCJ9JHtlPT09XCJGUk9NX0VORFwifHxlPT09XCJGUk9NX1NUQVJUXCI/XCIsIGF0MlwiOlwiXCJ9KSB7XG4gIHZhciBzdGFydCA9ICR7Z2V0U3Vic3RyaW5nSW5kZXgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQoXCJzZXF1ZW5jZVwiLGQsXCJhdDFcIil9O1xuICB2YXIgZW5kID0gJHtnZXRTdWJzdHJpbmdJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dChcInNlcXVlbmNlXCIsZSxcImF0MlwiKX0gKyAxO1xuICByZXR1cm4gc2VxdWVuY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5gKStcIihcIitnKyhkPT09XCJGUk9NX0VORFwifHxkPT09XCJGUk9NX1NUQVJUXCI/XCIsIFwiK2Y6XCJcIikrKGU9PT1cIkZST01fRU5EXCJ8fGU9PT1cIkZST01fU1RBUlRcIj9cIiwgXCIrYTpcIlwiKStcIilcIjtyZXR1cm5bZyxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LHRleHRfY2hhbmdlQ2FzZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9e1VQUEVSQ0FTRTpcIi50b1VwcGVyQ2FzZSgpXCIsTE9XRVJDQVNFOlwiLnRvTG93ZXJDYXNlKClcIixUSVRMRUNBU0U6bnVsbH1bYS5nZXRGaWVsZFZhbHVlKFwiQ0FTRVwiKV07YT1iLnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsYz9PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSOk9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XG5cIicnXCI7cmV0dXJuW2M/YStjOmIucHJvdmlkZUZ1bmN0aW9uXyhcInRleHRUb1RpdGxlQ2FzZVwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXFxcXFMrL2csXG4gICAgICBmdW5jdGlvbih0eHQpIHtyZXR1cm4gdHh0WzBdLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCk7fSk7XG59XG5gKStcIihcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sdGV4dF90cmltJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7Y29uc3QgYz17TEVGVDpcIi5yZXBsYWNlKC9eW1xcXFxzXFxcXHhhMF0rLywgJycpXCIsUklHSFQ6XCIucmVwbGFjZSgvW1xcXFxzXFxcXHhhMF0rJC8sICcnKVwiLEJPVEg6XCIudHJpbSgpXCJ9W2EuZ2V0RmllbGRWYWx1ZShcIk1PREVcIildO3JldHVyblsoYi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIpfHxcIicnXCIpK2MsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSx0ZXh0X3ByaW50JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PVxuZnVuY3Rpb24oYSxiKXtyZXR1cm5cIndpbmRvdy5hbGVydChcIisoYi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiKStcIik7XFxuXCJ9LHRleHRfcHJvbXB0X2V4dCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe2I9XCJ3aW5kb3cucHJvbXB0KFwiKyhhLmdldEZpZWxkKFwiVEVYVFwiKT9iLnF1b3RlXyhhLmdldEZpZWxkVmFsdWUoXCJURVhUXCIpKTpiLnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCIpK1wiKVwiO2EuZ2V0RmllbGRWYWx1ZShcIlRZUEVcIik9PT1cIk5VTUJFUlwiJiYoYj1cIk51bWJlcihcIitiK1wiKVwiKTtyZXR1cm5bYixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTF19LFxudGV4dF9jb3VudCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD1mdW5jdGlvbihhLGIpe2NvbnN0IGM9Yi52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5OT05FKXx8XCInJ1wiO2E9Yi52YWx1ZVRvQ29kZShhLFwiU1VCXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCI7cmV0dXJuW2IucHJvdmlkZUZ1bmN0aW9uXyhcInRleHRDb3VudFwiLGBcbmZ1bmN0aW9uICR7Yi5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX30oaGF5c3RhY2ssIG5lZWRsZSkge1xuICBpZiAobmVlZGxlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBoYXlzdGFjay5sZW5ndGggKyAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBoYXlzdGFjay5zcGxpdChuZWVkbGUpLmxlbmd0aCAtIDE7XG4gIH1cbn1cbmApK1wiKFwiK2MrXCIsIFwiK2ErXCIpXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdfSx0ZXh0X3JlcGxhY2UkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiKXtjb25zdCBjPWIudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIixkPWIudmFsdWVUb0NvZGUoYSxcIkZST01cIixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTk9ORSl8fFwiJydcIjthPWIudmFsdWVUb0NvZGUoYSxcIlRPXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpfHxcIicnXCI7cmV0dXJuW2IucHJvdmlkZUZ1bmN0aW9uXyhcInRleHRSZXBsYWNlXCIsXG5gXG5mdW5jdGlvbiAke2IuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl99KGhheXN0YWNrLCBuZWVkbGUsIHJlcGxhY2VtZW50KSB7XG4gIG5lZWRsZSA9IG5lZWRsZS5yZXBsYWNlKC8oWy0oKVxcXFxbXFxcXF17fSs/Ki4kXFxcXF58LDojPCFcXFxcXFxcXF0pL2csICdcXFxcXFxcXCQxJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFx4MDgvZywgJ1xcXFxcXFxceDA4Jyk7XG4gIHJldHVybiBoYXlzdGFjay5yZXBsYWNlKG5ldyBSZWdFeHAobmVlZGxlLCAnZycpLCByZXBsYWNlbWVudCk7XG59XG5gKStcIihcIitjK1wiLCBcIitkK1wiLCBcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sdGV4dF9yZXZlcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0PWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiLnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUil8fFwiJydcIikrXCIuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sdmFyaWFibGVzX2dldCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuW2IuZ2V0VmFyaWFibGVOYW1lKGEuZ2V0RmllbGRWYWx1ZShcIlZBUlwiKSksXG5PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuQVRPTUlDXX0sdmFyaWFibGVzX3NldCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzPWZ1bmN0aW9uKGEsYil7Y29uc3QgYz1iLnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BU1NJR05NRU5UKXx8XCIwXCI7cmV0dXJuIGIuZ2V0VmFyaWFibGVOYW1lKGEuZ2V0RmllbGRWYWx1ZShcIlZBUlwiKSkrXCIgPSBcIitjK1wiO1xcblwifSxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3I7XG4oZnVuY3Rpb24oYSl7YVthLkFUT01JQz0wXT1cIkFUT01JQ1wiO2FbYS5ORVc9MS4xXT1cIk5FV1wiO2FbYS5NRU1CRVI9MS4yXT1cIk1FTUJFUlwiO2FbYS5GVU5DVElPTl9DQUxMPTJdPVwiRlVOQ1RJT05fQ0FMTFwiO2FbYS5JTkNSRU1FTlQ9M109XCJJTkNSRU1FTlRcIjthW2EuREVDUkVNRU5UPTNdPVwiREVDUkVNRU5UXCI7YVthLkJJVFdJU0VfTk9UPTQuMV09XCJCSVRXSVNFX05PVFwiO2FbYS5VTkFSWV9QTFVTPTQuMl09XCJVTkFSWV9QTFVTXCI7YVthLlVOQVJZX05FR0FUSU9OPTQuM109XCJVTkFSWV9ORUdBVElPTlwiO2FbYS5MT0dJQ0FMX05PVD00LjRdPVwiTE9HSUNBTF9OT1RcIjthW2EuVFlQRU9GPTQuNV09XCJUWVBFT0ZcIjthW2EuVk9JRD00LjZdPVwiVk9JRFwiO2FbYS5ERUxFVEU9NC43XT1cIkRFTEVURVwiO2FbYS5BV0FJVD00LjhdPVwiQVdBSVRcIjthW2EuRVhQT05FTlRJQVRJT049NV09XCJFWFBPTkVOVElBVElPTlwiO2FbYS5NVUxUSVBMSUNBVElPTj01LjFdPVwiTVVMVElQTElDQVRJT05cIjthW2EuRElWSVNJT049XG41LjJdPVwiRElWSVNJT05cIjthW2EuTU9EVUxVUz01LjNdPVwiTU9EVUxVU1wiO2FbYS5TVUJUUkFDVElPTj02LjFdPVwiU1VCVFJBQ1RJT05cIjthW2EuQURESVRJT049Ni4yXT1cIkFERElUSU9OXCI7YVthLkJJVFdJU0VfU0hJRlQ9N109XCJCSVRXSVNFX1NISUZUXCI7YVthLlJFTEFUSU9OQUw9OF09XCJSRUxBVElPTkFMXCI7YVthLklOPThdPVwiSU5cIjthW2EuSU5TVEFOQ0VPRj04XT1cIklOU1RBTkNFT0ZcIjthW2EuRVFVQUxJVFk9OV09XCJFUVVBTElUWVwiO2FbYS5CSVRXSVNFX0FORD0xMF09XCJCSVRXSVNFX0FORFwiO2FbYS5CSVRXSVNFX1hPUj0xMV09XCJCSVRXSVNFX1hPUlwiO2FbYS5CSVRXSVNFX09SPTEyXT1cIkJJVFdJU0VfT1JcIjthW2EuTE9HSUNBTF9BTkQ9MTNdPVwiTE9HSUNBTF9BTkRcIjthW2EuTE9HSUNBTF9PUj0xNF09XCJMT0dJQ0FMX09SXCI7YVthLkNPTkRJVElPTkFMPTE1XT1cIkNPTkRJVElPTkFMXCI7YVthLkFTU0lHTk1FTlQ9MTZdPVwiQVNTSUdOTUVOVFwiO2FbYS5ZSUVMRD0xN109XCJZSUVMRFwiO1xuYVthLkNPTU1BPTE4XT1cIkNPTU1BXCI7YVthLk5PTkU9OTldPVwiTk9ORVwifSkoT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yfHwoT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yPXt9KSk7XG52YXIgSmF2YXNjcmlwdEdlbmVyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3I9Y2xhc3MgZXh0ZW5kcyAkLkNvZGVHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRnZW5lcmF0b3J7Y29uc3RydWN0b3IoYT1cIkphdmFTY3JpcHRcIil7c3VwZXIoYSk7dGhpcy5PUkRFUl9PVkVSUklERVM9W1tPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuRlVOQ1RJT05fQ0FMTCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTUVNQkVSXSxbT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTEwsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdLFxuW09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1FTUJFUl0sW09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5NRU1CRVIsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkZVTkNUSU9OX0NBTExdLFtPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9OT1QsT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkxPR0lDQUxfTk9UXSxbT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1VTFRJUExJQ0FUSU9OLFxuT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk1VTFRJUExJQ0FUSU9OXSxbT3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFERElUSU9OLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BRERJVElPTl0sW09yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5MT0dJQ0FMX0FORCxPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9BTkRdLFtPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9PUixPcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuTE9HSUNBTF9PUl1dO1xudGhpcy5pc0luaXRpYWxpemVkPSExO2Zvcihjb25zdCBiIGluIE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcilhPU9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcltiXSx0eXBlb2YgYSE9PVwic3RyaW5nXCImJih0aGlzW1wiT1JERVJfXCIrYl09YSk7dGhpcy5hZGRSZXNlcnZlZFdvcmRzKFwiYnJlYWssY2FzZSxjYXRjaCxjbGFzcyxjb25zdCxjb250aW51ZSxkZWJ1Z2dlcixkZWZhdWx0LGRlbGV0ZSxkbyxlbHNlLGV4cG9ydCxleHRlbmRzLGZpbmFsbHksZm9yLGZ1bmN0aW9uLGlmLGltcG9ydCxpbixpbnN0YW5jZW9mLG5ldyxyZXR1cm4sc3VwZXIsc3dpdGNoLHRoaXMsdGhyb3csdHJ5LHR5cGVvZix2YXIsdm9pZCx3aGlsZSx3aXRoLHlpZWxkLGVudW0saW1wbGVtZW50cyxpbnRlcmZhY2UsbGV0LHBhY2thZ2UscHJpdmF0ZSxwcm90ZWN0ZWQscHVibGljLHN0YXRpYyxhd2FpdCxudWxsLHRydWUsZmFsc2UsYXJndW1lbnRzLFwiK1xuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZ2xvYmFsVGhpcykuam9pbihcIixcIikpfWluaXQoYSl7c3VwZXIuaW5pdChhKTt0aGlzLm5hbWVEQl8/dGhpcy5uYW1lREJfLnJlc2V0KCk6dGhpcy5uYW1lREJfPW5ldyAkLk5hbWVzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkbmFtZXModGhpcy5SRVNFUlZFRF9XT1JEU18pO3RoaXMubmFtZURCXy5zZXRWYXJpYWJsZU1hcChhLmdldFZhcmlhYmxlTWFwKCkpO3RoaXMubmFtZURCXy5wb3B1bGF0ZVZhcmlhYmxlcyhhKTt0aGlzLm5hbWVEQl8ucG9wdWxhdGVQcm9jZWR1cmVzKGEpO2NvbnN0IGI9W107dmFyIGM9JC5hbGxEZXZlbG9wZXJWYXJpYWJsZXMkJG1vZHVsZSRidWlsZCRzcmMkY29yZSR2YXJpYWJsZXMoYSk7Zm9yKGxldCBkPTA7ZDxjLmxlbmd0aDtkKyspYi5wdXNoKHRoaXMubmFtZURCXy5nZXROYW1lKGNbZF0sJC5OYW1lVHlwZSQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJG5hbWVzLkRFVkVMT1BFUl9WQVJJQUJMRSkpO2E9JC5hbGxVc2VkVmFyTW9kZWxzJCRtb2R1bGUkYnVpbGQkc3JjJGNvcmUkdmFyaWFibGVzKGEpO1xuZm9yKGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2godGhpcy5uYW1lREJfLmdldE5hbWUoYVtjXS5nZXRJZCgpLCQuTmFtZVR5cGUkJG1vZHVsZSRidWlsZCRzcmMkY29yZSRuYW1lcy5WQVJJQUJMRSkpO2IubGVuZ3RoJiYodGhpcy5kZWZpbml0aW9uc18udmFyaWFibGVzPVwidmFyIFwiK2Iuam9pbihcIiwgXCIpK1wiO1wiKTt0aGlzLmlzSW5pdGlhbGl6ZWQ9ITB9ZmluaXNoKGEpe2NvbnN0IGI9T2JqZWN0LnZhbHVlcyh0aGlzLmRlZmluaXRpb25zXyk7c3VwZXIuZmluaXNoKGEpO3RoaXMuaXNJbml0aWFsaXplZD0hMTt0aGlzLm5hbWVEQl8ucmVzZXQoKTtyZXR1cm4gYi5qb2luKFwiXFxuXFxuXCIpK1wiXFxuXFxuXFxuXCIrYX1zY3J1Yk5ha2VkVmFsdWUoYSl7cmV0dXJuIGErXCI7XFxuXCJ9cXVvdGVfKGEpe2E9YS5yZXBsYWNlKC9cXFxcL2csXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC9cXG4vZyxcIlxcXFxcXG5cIikucmVwbGFjZSgvJy9nLFwiXFxcXCdcIik7cmV0dXJuXCInXCIrYStcIidcIn1tdWx0aWxpbmVfcXVvdGVfKGEpe3JldHVybiBhLnNwbGl0KC9cXG4vZykubWFwKHRoaXMucXVvdGVfKS5qb2luKFwiICsgJ1xcXFxuJyArXFxuXCIpfXNjcnViXyhhLFxuYixjPSExKXtsZXQgZD1cIlwiO2lmKCFhLm91dHB1dENvbm5lY3Rpb258fCFhLm91dHB1dENvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbil7dmFyIGU9YS5nZXRDb21tZW50VGV4dCgpO2UmJihlPSQud3JhcCQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhlLHRoaXMuQ09NTUVOVF9XUkFQLTMpLGQrPXRoaXMucHJlZml4TGluZXMoZStcIlxcblwiLFwiLy8gXCIpKTtmb3IobGV0IGY9MDtmPGEuaW5wdXRMaXN0Lmxlbmd0aDtmKyspYS5pbnB1dExpc3RbZl0udHlwZT09PSQuaW5wdXRUeXBlcyQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJGlucHV0cyRpbnB1dF90eXBlcy5WQUxVRSYmKGU9YS5pbnB1dExpc3RbZl0uY29ubmVjdGlvbi50YXJnZXRCbG9jaygpKSYmKGU9dGhpcy5hbGxOZXN0ZWRDb21tZW50cyhlKSkmJihkKz10aGlzLnByZWZpeExpbmVzKGUsXCIvLyBcIikpfWE9YS5uZXh0Q29ubmVjdGlvbiYmYS5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2M9Yz9cIlwiOnRoaXMuYmxvY2tUb0NvZGUoYSk7XG5yZXR1cm4gZCtiK2N9Z2V0QWRqdXN0ZWQoYSxiLGM9MCxkPSExLGU9T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLk5PTkUpe2Eud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleCYmYy0tO2NvbnN0IGY9YS53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1wiMVwiOlwiMFwiO2xldCBnPWU7Yz4wP2c9T3JkZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkFERElUSU9OOmM8MD9nPU9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5TVUJUUkFDVElPTjpkJiYoZz1PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3IuVU5BUllfTkVHQVRJT04pO2E9dGhpcy52YWx1ZVRvQ29kZShhLGIsZyl8fGY7aWYoYz09PVxuMCYmIWQpcmV0dXJuIGE7aWYoJC5pc051bWJlciQkbW9kdWxlJGJ1aWxkJHNyYyRjb3JlJHV0aWxzJHN0cmluZyhhKSlyZXR1cm4gYT1TdHJpbmcoTnVtYmVyKGEpK2MpLGQmJihhPVN0cmluZygtTnVtYmVyKGEpKSksYTtjPjA/YT1gJHthfSArICR7Y31gOmM8MCYmKGE9YCR7YX0gLSAkey1jfWApO2QmJihhPWM/YC0oJHthfSlgOmAtJHthfWApO01hdGguZmxvb3IoZSk+PU1hdGguZmxvb3IoZykmJihhPWAoJHthfSlgKTtyZXR1cm4gYX19LG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yPXt9O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLkphdmFzY3JpcHRHZW5lcmF0b3I9SmF2YXNjcmlwdEdlbmVyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3I7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5PcmRlcj1PcmRlciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkamF2YXNjcmlwdF9nZW5lcmF0b3I7dmFyIGdldFN1YnN0cmluZ0luZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT1cIkZJUlNUXCI/XCIwXCI6Yj09PVwiRlJPTV9FTkRcIj9hK1wiLmxlbmd0aCAtIDEgLSBcIitjOmI9PT1cIkxBU1RcIj9hK1wiLmxlbmd0aCAtIDFcIjpjfSxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cz17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19jcmVhdGVfZW1wdHk9bGlzdHNfY3JlYXRlX2VtcHR5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19jcmVhdGVfd2l0aD1saXN0c19jcmVhdGVfd2l0aCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19nZXRJbmRleD1saXN0c19nZXRJbmRleCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfZ2V0U3VibGlzdD1saXN0c19nZXRTdWJsaXN0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19pbmRleE9mPWxpc3RzX2luZGV4T2YkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzLmxpc3RzX2lzRW1wdHk9bGlzdHNfaXNFbXB0eSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19sZW5ndGg9bGlzdHNfbGVuZ3RoJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19yZXBlYXQ9bGlzdHNfcmVwZWF0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0czttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cy5saXN0c19yZXZlcnNlPWxpc3RzX3JldmVyc2UkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzLmxpc3RzX3NldEluZGV4PWxpc3RzX3NldEluZGV4JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsaXN0cztcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzLmxpc3RzX3NvcnQ9bGlzdHNfc29ydCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMubGlzdHNfc3BsaXQ9bGlzdHNfc3BsaXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxpc3RzO3ZhciBjb250cm9sc19pZmVsc2UkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljPWNvbnRyb2xzX2lmJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYyxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYz17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYy5jb250cm9sc19pZj1jb250cm9sc19pZiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMuY29udHJvbHNfaWZlbHNlPWNvbnRyb2xzX2lmJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYzttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYy5sb2dpY19ib29sZWFuPWxvZ2ljX2Jvb2xlYW4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMubG9naWNfY29tcGFyZT1sb2dpY19jb21wYXJlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYzttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYy5sb2dpY19uZWdhdGU9bG9naWNfbmVnYXRlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYzttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYy5sb2dpY19udWxsPWxvZ2ljX251bGwkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljLmxvZ2ljX29wZXJhdGlvbj1sb2dpY19vcGVyYXRpb24kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvZ2ljO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMubG9naWNfdGVybmFyeT1sb2dpY190ZXJuYXJ5JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb2dpYzt2YXIgY29udHJvbHNfcmVwZWF0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcz1jb250cm9sc19yZXBlYXRfZXh0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcyxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcz17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcy5jb250cm9sc19mbG93X3N0YXRlbWVudHM9Y29udHJvbHNfZmxvd19zdGF0ZW1lbnRzJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wczttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcy5jb250cm9sc19mb3I9Y29udHJvbHNfZm9yJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wczttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wcy5jb250cm9sc19mb3JFYWNoPWNvbnRyb2xzX2ZvckVhY2gkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMuY29udHJvbHNfcmVwZWF0PWNvbnRyb2xzX3JlcGVhdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGxvb3BzLmNvbnRyb2xzX3JlcGVhdF9leHQ9Y29udHJvbHNfcmVwZWF0X2V4dCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMuY29udHJvbHNfd2hpbGVVbnRpbD1jb250cm9sc193aGlsZVVudGlsJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRsb29wczt2YXIgbWF0aF9yb3VuZCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD1tYXRoX3NpbmdsZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aCxtYXRoX3RyaWckJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg9bWF0aF9zaW5nbGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aD17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfYXJpdGhtZXRpYz1tYXRoX2FyaXRobWV0aWMkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX2F0YW4yPW1hdGhfYXRhbjIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfY2hhbmdlPW1hdGhfY2hhbmdlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9jb25zdGFudD1tYXRoX2NvbnN0YW50JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9jb25zdHJhaW49bWF0aF9jb25zdHJhaW4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX21vZHVsbz1tYXRoX21vZHVsbyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDtcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9udW1iZXI9bWF0aF9udW1iZXIkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX251bWJlcl9wcm9wZXJ0eT1tYXRoX251bWJlcl9wcm9wZXJ0eSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfb25fbGlzdD1tYXRoX29uX2xpc3QkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX3JhbmRvbV9mbG9hdD1tYXRoX3JhbmRvbV9mbG9hdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDtcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGgubWF0aF9yYW5kb21faW50PW1hdGhfcmFuZG9tX2ludCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfcm91bmQ9bWF0aF9zaW5nbGUkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JG1hdGg7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aC5tYXRoX3NpbmdsZT1tYXRoX3NpbmdsZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRtYXRoLm1hdGhfdHJpZz1tYXRoX3NpbmdsZSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aDt2YXIgcHJvY2VkdXJlc19kZWZub3JldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcz1wcm9jZWR1cmVzX2RlZnJldHVybiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcyxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzPXt9O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXMucHJvY2VkdXJlc19jYWxsbm9yZXR1cm49cHJvY2VkdXJlc19jYWxsbm9yZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcy5wcm9jZWR1cmVzX2NhbGxyZXR1cm49cHJvY2VkdXJlc19jYWxscmV0dXJuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzO1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuPXByb2NlZHVyZXNfZGVmcmV0dXJuJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXMucHJvY2VkdXJlc19kZWZyZXR1cm49cHJvY2VkdXJlc19kZWZyZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkcHJvY2VkdXJlcy5wcm9jZWR1cmVzX2lmcmV0dXJuPXByb2NlZHVyZXNfaWZyZXR1cm4kJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHByb2NlZHVyZXM7dmFyIHN0clJlZ0V4cCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD0vXlxccyonKFteJ118XFxcXCcpKidcXHMqJC8sZm9yY2VTdHJpbmckJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHN0clJlZ0V4cCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXN0KGEpP1thLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5BVE9NSUNdOltcIlN0cmluZyhcIithK1wiKVwiLE9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvci5GVU5DVElPTl9DQUxMXX0sZ2V0U3Vic3RyaW5nSW5kZXgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09XCJGSVJTVFwiP1wiMFwiOlxuYj09PVwiRlJPTV9FTkRcIj9hK1wiLmxlbmd0aCAtIDEgLSBcIitjOmI9PT1cIkxBU1RcIj9hK1wiLmxlbmd0aCAtIDFcIjpjfSx0ZXh0X3Byb21wdCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD10ZXh0X3Byb21wdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dD17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHQ9dGV4dCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfYXBwZW5kPXRleHRfYXBwZW5kJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X2NoYW5nZUNhc2U9dGV4dF9jaGFuZ2VDYXNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9jaGFyQXQ9dGV4dF9jaGFyQXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X2NvdW50PXRleHRfY291bnQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X2dldFN1YnN0cmluZz10ZXh0X2dldFN1YnN0cmluZyQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDtcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9pbmRleE9mPXRleHRfaW5kZXhPZiQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfaXNFbXB0eT10ZXh0X2lzRW1wdHkkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X2pvaW49dGV4dF9qb2luJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF9sZW5ndGg9dGV4dF9sZW5ndGgkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfcHJpbnQ9dGV4dF9wcmludCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfcHJvbXB0PXRleHRfcHJvbXB0X2V4dCQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0LnRleHRfcHJvbXB0X2V4dD10ZXh0X3Byb21wdF9leHQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQ7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X3JlcGxhY2U9dGV4dF9yZXBsYWNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O1xubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dC50ZXh0X3JldmVyc2U9dGV4dF9yZXZlcnNlJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR0ZXh0O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQudGV4dF90cmltPXRleHRfdHJpbSQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdGV4dDt2YXIgbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzPXt9O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlcy52YXJpYWJsZXNfZ2V0PXZhcmlhYmxlc19nZXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlczttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXMudmFyaWFibGVzX3NldD12YXJpYWJsZXNfc2V0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXM7dmFyIG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlc19keW5hbWljPXt9O21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlc19keW5hbWljLnZhcmlhYmxlc19nZXRfZHluYW1pYz12YXJpYWJsZXNfZ2V0JCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCR2YXJpYWJsZXM7bW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzX2R5bmFtaWMudmFyaWFibGVzX3NldF9keW5hbWljPXZhcmlhYmxlc19zZXQkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHZhcmlhYmxlczt2YXIgamF2YXNjcmlwdEdlbmVyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQ9bmV3IEphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yLGdlbmVyYXRvcnMkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0PU9iamVjdC5hc3NpZ24oe30sbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbGlzdHMsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9naWMsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbG9vcHMsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkbWF0aCxtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRwcm9jZWR1cmVzLG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JHRleHQsbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzLFxubW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQkdmFyaWFibGVzX2R5bmFtaWMpO2Zvcihjb25zdCBhIGluIGdlbmVyYXRvcnMkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0KWphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0LmZvckJsb2NrW2FdPWdlbmVyYXRvcnMkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0W2FdO3ZhciBtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdD17fTttb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdC5KYXZhc2NyaXB0R2VuZXJhdG9yPUphdmFzY3JpcHRHZW5lcmF0b3IkJG1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0JGphdmFzY3JpcHRfZ2VuZXJhdG9yO21vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0Lk9yZGVyPU9yZGVyJCRtb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdCRqYXZhc2NyaXB0X2dlbmVyYXRvcjtcbm1vZHVsZSRidWlsZCRzcmMkZ2VuZXJhdG9ycyRqYXZhc2NyaXB0LmphdmFzY3JpcHRHZW5lcmF0b3I9amF2YXNjcmlwdEdlbmVyYXRvciQkbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQ7XG5tb2R1bGUkYnVpbGQkc3JjJGdlbmVyYXRvcnMkamF2YXNjcmlwdC5fX25hbWVzcGFjZV9fPSQ7XG5yZXR1cm4gbW9kdWxlJGJ1aWxkJHNyYyRnZW5lcmF0b3JzJGphdmFzY3JpcHQ7XG59KSk7XG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9amF2YXNjcmlwdF9jb21wcmVzc2VkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/blockly/javascript_compressed.js\n");

/***/ }),

/***/ "./node_modules/blockly/msg/en.js":
/*!****************************************!*\
  !*** ./node_modules/blockly/msg/en.js ***!
  \****************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */\n;(function(root, factory) {\n  if (true) { // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var key, messages; }\n}(this, function() {\n// This file was automatically generated.  Do not modify.\n\n'use strict';\n\nvar Blockly = Blockly || { Msg: Object.create(null) };\n\nBlockly.Msg[\"ADD_COMMENT\"] = \"Add Comment\";\nBlockly.Msg[\"ALT_KEY\"] = \"Alt\";\nBlockly.Msg[\"CANNOT_DELETE_VARIABLE_PROCEDURE\"] = \"Can't delete the variable '%1' because it's part of the definition of the function '%2'\";\nBlockly.Msg[\"CHANGE_VALUE_TITLE\"] = \"Change value:\";\nBlockly.Msg[\"CHROME_OS\"] = \"ChromeOS\";\nBlockly.Msg[\"CLEAN_UP\"] = \"Clean up Blocks\";\nBlockly.Msg[\"CLOSE\"] = \"Close\";\nBlockly.Msg[\"COLLAPSED_WARNINGS_WARNING\"] = \"Collapsed blocks contain warnings.\";\nBlockly.Msg[\"COLLAPSE_ALL\"] = \"Collapse Blocks\";\nBlockly.Msg[\"COLLAPSE_BLOCK\"] = \"Collapse Block\";\nBlockly.Msg[\"COLOUR_BLEND_COLOUR1\"] = \"colour 1\";\nBlockly.Msg[\"COLOUR_BLEND_COLOUR2\"] = \"colour 2\";\nBlockly.Msg[\"COLOUR_BLEND_HELPURL\"] = \"https://meyerweb.com/eric/tools/color-blend/#:::rgbp\";\nBlockly.Msg[\"COLOUR_BLEND_RATIO\"] = \"ratio\";\nBlockly.Msg[\"COLOUR_BLEND_TITLE\"] = \"blend\";\nBlockly.Msg[\"COLOUR_BLEND_TOOLTIP\"] = \"Blends two colours together with a given ratio (0.0 - 1.0).\";\nBlockly.Msg[\"COLOUR_PICKER_HELPURL\"] = \"https://en.wikipedia.org/wiki/Color\";\nBlockly.Msg[\"COLOUR_PICKER_TOOLTIP\"] = \"Choose a colour from the palette.\";\nBlockly.Msg[\"COLOUR_RANDOM_HELPURL\"] = \"http://randomcolour.com\";\nBlockly.Msg[\"COLOUR_RANDOM_TITLE\"] = \"random colour\";\nBlockly.Msg[\"COLOUR_RANDOM_TOOLTIP\"] = \"Choose a colour at random.\";\nBlockly.Msg[\"COLOUR_RGB_BLUE\"] = \"blue\";\nBlockly.Msg[\"COLOUR_RGB_GREEN\"] = \"green\";\nBlockly.Msg[\"COLOUR_RGB_HELPURL\"] = \"https://www.december.com/html/spec/colorpercompact.html\";\nBlockly.Msg[\"COLOUR_RGB_RED\"] = \"red\";\nBlockly.Msg[\"COLOUR_RGB_TITLE\"] = \"colour with\";\nBlockly.Msg[\"COLOUR_RGB_TOOLTIP\"] = \"Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.\";\nBlockly.Msg[\"COMMAND_KEY\"] = \" Command\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#loop-termination-blocks\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK\"] = \"break out of loop\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE\"] = \"continue with next iteration of loop\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK\"] = \"Break out of the containing loop.\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE\"] = \"Skip the rest of this loop, and continue with the next iteration.\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_WARNING\"] = \"Warning: This block may only be used within a loop.\";\nBlockly.Msg[\"CONTROLS_FOREACH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#for-each\";\nBlockly.Msg[\"CONTROLS_FOREACH_TITLE\"] = \"for each item %1 in list %2\";\nBlockly.Msg[\"CONTROLS_FOREACH_TOOLTIP\"] = \"For each item in a list, set the variable '%1' to the item, and then do some statements.\";\nBlockly.Msg[\"CONTROLS_FOR_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#count-with\";\nBlockly.Msg[\"CONTROLS_FOR_TITLE\"] = \"count with %1 from %2 to %3 by %4\";\nBlockly.Msg[\"CONTROLS_FOR_TOOLTIP\"] = \"Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.\";\nBlockly.Msg[\"CONTROLS_IF_ELSEIF_TOOLTIP\"] = \"Add a condition to the if block.\";\nBlockly.Msg[\"CONTROLS_IF_ELSE_TOOLTIP\"] = \"Add a final, catch-all condition to the if block.\";\nBlockly.Msg[\"CONTROLS_IF_HELPURL\"] = \"https://github.com/google/blockly/wiki/IfElse\";\nBlockly.Msg[\"CONTROLS_IF_IF_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this if block.\";\nBlockly.Msg[\"CONTROLS_IF_MSG_ELSE\"] = \"else\";\nBlockly.Msg[\"CONTROLS_IF_MSG_ELSEIF\"] = \"else if\";\nBlockly.Msg[\"CONTROLS_IF_MSG_IF\"] = \"if\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_1\"] = \"If a value is true, then do some statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_2\"] = \"If a value is true, then do the first block of statements. Otherwise, do the second block of statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_3\"] = \"If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_4\"] = \"If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.\";\nBlockly.Msg[\"CONTROLS_REPEAT_HELPURL\"] = \"https://en.wikipedia.org/wiki/For_loop\";\nBlockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"] = \"do\";\nBlockly.Msg[\"CONTROLS_REPEAT_TITLE\"] = \"repeat %1 times\";\nBlockly.Msg[\"CONTROLS_REPEAT_TOOLTIP\"] = \"Do some statements several times.\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#repeat\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_OPERATOR_UNTIL\"] = \"repeat until\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_OPERATOR_WHILE\"] = \"repeat while\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL\"] = \"While a value is false, then do some statements.\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_TOOLTIP_WHILE\"] = \"While a value is true, then do some statements.\";\nBlockly.Msg[\"CONTROL_KEY\"] = \"Ctrl\";\nBlockly.Msg[\"COPY_SHORTCUT\"] = \"Copy\";\nBlockly.Msg[\"CUT_SHORTCUT\"] = \"Cut\";\nBlockly.Msg[\"DELETE_ALL_BLOCKS\"] = \"Delete all %1 blocks?\";\nBlockly.Msg[\"DELETE_BLOCK\"] = \"Delete Block\";\nBlockly.Msg[\"DELETE_VARIABLE\"] = \"Delete the '%1' variable\";\nBlockly.Msg[\"DELETE_VARIABLE_CONFIRMATION\"] = \"Delete %1 uses of the '%2' variable?\";\nBlockly.Msg[\"DELETE_X_BLOCKS\"] = \"Delete %1 Blocks\";\nBlockly.Msg[\"DIALOG_CANCEL\"] = \"Cancel\";\nBlockly.Msg[\"DIALOG_OK\"] = \"OK\";\nBlockly.Msg[\"DISABLE_BLOCK\"] = \"Disable Block\";\nBlockly.Msg[\"DUPLICATE_BLOCK\"] = \"Duplicate\";\nBlockly.Msg[\"DUPLICATE_COMMENT\"] = \"Duplicate Comment\";\nBlockly.Msg[\"EDIT_BLOCK_CONTENTS\"] = \"Edit Block contents\";\nBlockly.Msg[\"ENABLE_BLOCK\"] = \"Enable Block\";\nBlockly.Msg[\"EXPAND_ALL\"] = \"Expand Blocks\";\nBlockly.Msg[\"EXPAND_BLOCK\"] = \"Expand Block\";\nBlockly.Msg[\"EXTERNAL_INPUTS\"] = \"External Inputs\";\nBlockly.Msg[\"HELP\"] = \"Help\";\nBlockly.Msg[\"HELP_PROMPT\"] = \"Press %1 for help on keyboard controls\";\nBlockly.Msg[\"INLINE_INPUTS\"] = \"Inline Inputs\";\nBlockly.Msg[\"KEYBOARD_NAV_CONSTRAINED_MOVE_HINT\"] = \"Use the arrow keys to move, then %1 to accept the position\";\nBlockly.Msg[\"KEYBOARD_NAV_COPIED_HINT\"] = \"Copied. Press %1 to paste.\";\nBlockly.Msg[\"KEYBOARD_NAV_CUT_HINT\"] = \"Cut. Press %1 to paste.\";\nBlockly.Msg[\"KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT\"] = \"Hold %1 and use arrow keys to move freely, then %2 to accept the position\";\nBlockly.Msg[\"LINUX\"] = \"Linux\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-empty-list\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_TITLE\"] = \"create empty list\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_TOOLTIP\"] = \"Returns a list, of length 0, containing no data records\";\nBlockly.Msg[\"LISTS_CREATE_WITH_CONTAINER_TITLE_ADD\"] = \"list\";\nBlockly.Msg[\"LISTS_CREATE_WITH_CONTAINER_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this list block.\";\nBlockly.Msg[\"LISTS_CREATE_WITH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-list-with\";\nBlockly.Msg[\"LISTS_CREATE_WITH_INPUT_WITH\"] = \"create list with\";\nBlockly.Msg[\"LISTS_CREATE_WITH_ITEM_TOOLTIP\"] = \"Add an item to the list.\";\nBlockly.Msg[\"LISTS_CREATE_WITH_TOOLTIP\"] = \"Create a list with any number of items.\";\nBlockly.Msg[\"LISTS_GET_INDEX_FIRST\"] = \"first\";\nBlockly.Msg[\"LISTS_GET_INDEX_FROM_END\"] = \"# from end\";\nBlockly.Msg[\"LISTS_GET_INDEX_FROM_START\"] = \"#\";\nBlockly.Msg[\"LISTS_GET_INDEX_GET\"] = \"get\";\nBlockly.Msg[\"LISTS_GET_INDEX_GET_REMOVE\"] = \"get and remove\";\nBlockly.Msg[\"LISTS_GET_INDEX_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list\";\nBlockly.Msg[\"LISTS_GET_INDEX_LAST\"] = \"last\";\nBlockly.Msg[\"LISTS_GET_INDEX_RANDOM\"] = \"random\";\nBlockly.Msg[\"LISTS_GET_INDEX_REMOVE\"] = \"remove\";\nBlockly.Msg[\"LISTS_GET_INDEX_TAIL\"] = \"\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_FIRST\"] = \"Returns the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_FROM\"] = \"Returns the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_LAST\"] = \"Returns the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_RANDOM\"] = \"Returns a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST\"] = \"Removes and returns the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM\"] = \"Removes and returns the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST\"] = \"Removes and returns the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM\"] = \"Removes and returns a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST\"] = \"Removes the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM\"] = \"Removes the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST\"] = \"Removes the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM\"] = \"Removes a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_FROM_END\"] = \"to # from end\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_FROM_START\"] = \"to #\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_LAST\"] = \"to last\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#getting-a-sublist\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FIRST\"] = \"get sub-list from first\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FROM_END\"] = \"get sub-list from # from end\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FROM_START\"] = \"get sub-list from #\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_TAIL\"] = \"\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_TOOLTIP\"] = \"Creates a copy of the specified portion of a list.\";\nBlockly.Msg[\"LISTS_INDEX_FROM_END_TOOLTIP\"] = \"%1 is the last item.\";\nBlockly.Msg[\"LISTS_INDEX_FROM_START_TOOLTIP\"] = \"%1 is the first item.\";\nBlockly.Msg[\"LISTS_INDEX_OF_FIRST\"] = \"find first occurrence of item\";\nBlockly.Msg[\"LISTS_INDEX_OF_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list\";\nBlockly.Msg[\"LISTS_INDEX_OF_LAST\"] = \"find last occurrence of item\";\nBlockly.Msg[\"LISTS_INDEX_OF_TOOLTIP\"] = \"Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.\";\nBlockly.Msg[\"LISTS_INLIST\"] = \"in list\";\nBlockly.Msg[\"LISTS_ISEMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#is-empty\";\nBlockly.Msg[\"LISTS_ISEMPTY_TITLE\"] = \"%1 is empty\";\nBlockly.Msg[\"LISTS_ISEMPTY_TOOLTIP\"] = \"Returns true if the list is empty.\";\nBlockly.Msg[\"LISTS_LENGTH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#length-of\";\nBlockly.Msg[\"LISTS_LENGTH_TITLE\"] = \"length of %1\";\nBlockly.Msg[\"LISTS_LENGTH_TOOLTIP\"] = \"Returns the length of a list.\";\nBlockly.Msg[\"LISTS_REPEAT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-list-with\";\nBlockly.Msg[\"LISTS_REPEAT_TITLE\"] = \"create list with item %1 repeated %2 times\";\nBlockly.Msg[\"LISTS_REPEAT_TOOLTIP\"] = \"Creates a list consisting of the given value repeated the specified number of times.\";\nBlockly.Msg[\"LISTS_REVERSE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#reversing-a-list\";\nBlockly.Msg[\"LISTS_REVERSE_MESSAGE0\"] = \"reverse %1\";\nBlockly.Msg[\"LISTS_REVERSE_TOOLTIP\"] = \"Reverse a copy of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#in-list--set\";\nBlockly.Msg[\"LISTS_SET_INDEX_INPUT_TO\"] = \"as\";\nBlockly.Msg[\"LISTS_SET_INDEX_INSERT\"] = \"insert at\";\nBlockly.Msg[\"LISTS_SET_INDEX_SET\"] = \"set\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST\"] = \"Inserts the item at the start of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_FROM\"] = \"Inserts the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_LAST\"] = \"Append the item to the end of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM\"] = \"Inserts the item randomly in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_FIRST\"] = \"Sets the first item in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_FROM\"] = \"Sets the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_LAST\"] = \"Sets the last item in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_RANDOM\"] = \"Sets a random item in a list.\";\nBlockly.Msg[\"LISTS_SORT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#sorting-a-list\";\nBlockly.Msg[\"LISTS_SORT_ORDER_ASCENDING\"] = \"ascending\";\nBlockly.Msg[\"LISTS_SORT_ORDER_DESCENDING\"] = \"descending\";\nBlockly.Msg[\"LISTS_SORT_TITLE\"] = \"sort %1 %2 %3\";\nBlockly.Msg[\"LISTS_SORT_TOOLTIP\"] = \"Sort a copy of a list.\";\nBlockly.Msg[\"LISTS_SORT_TYPE_IGNORECASE\"] = \"alphabetic, ignore case\";\nBlockly.Msg[\"LISTS_SORT_TYPE_NUMERIC\"] = \"numeric\";\nBlockly.Msg[\"LISTS_SORT_TYPE_TEXT\"] = \"alphabetic\";\nBlockly.Msg[\"LISTS_SPLIT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists\";\nBlockly.Msg[\"LISTS_SPLIT_LIST_FROM_TEXT\"] = \"make list from text\";\nBlockly.Msg[\"LISTS_SPLIT_TEXT_FROM_LIST\"] = \"make text from list\";\nBlockly.Msg[\"LISTS_SPLIT_TOOLTIP_JOIN\"] = \"Join a list of texts into one text, separated by a delimiter.\";\nBlockly.Msg[\"LISTS_SPLIT_TOOLTIP_SPLIT\"] = \"Split text into a list of texts, breaking at each delimiter.\";\nBlockly.Msg[\"LISTS_SPLIT_WITH_DELIMITER\"] = \"with delimiter\";\nBlockly.Msg[\"LOGIC_BOOLEAN_FALSE\"] = \"false\";\nBlockly.Msg[\"LOGIC_BOOLEAN_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#values\";\nBlockly.Msg[\"LOGIC_BOOLEAN_TOOLTIP\"] = \"Returns either true or false.\";\nBlockly.Msg[\"LOGIC_BOOLEAN_TRUE\"] = \"true\";\nBlockly.Msg[\"LOGIC_COMPARE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Inequality_(mathematics)\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_EQ\"] = \"Return true if both inputs equal each other.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_GT\"] = \"Return true if the first input is greater than the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_GTE\"] = \"Return true if the first input is greater than or equal to the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_LT\"] = \"Return true if the first input is smaller than the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_LTE\"] = \"Return true if the first input is smaller than or equal to the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_NEQ\"] = \"Return true if both inputs are not equal to each other.\";\nBlockly.Msg[\"LOGIC_NEGATE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#not\";\nBlockly.Msg[\"LOGIC_NEGATE_TITLE\"] = \"not %1\";\nBlockly.Msg[\"LOGIC_NEGATE_TOOLTIP\"] = \"Returns true if the input is false. Returns false if the input is true.\";\nBlockly.Msg[\"LOGIC_NULL\"] = \"null\";\nBlockly.Msg[\"LOGIC_NULL_HELPURL\"] = \"https://en.wikipedia.org/wiki/Nullable_type\";\nBlockly.Msg[\"LOGIC_NULL_TOOLTIP\"] = \"Returns null.\";\nBlockly.Msg[\"LOGIC_OPERATION_AND\"] = \"and\";\nBlockly.Msg[\"LOGIC_OPERATION_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#logical-operations\";\nBlockly.Msg[\"LOGIC_OPERATION_OR\"] = \"or\";\nBlockly.Msg[\"LOGIC_OPERATION_TOOLTIP_AND\"] = \"Return true if both inputs are true.\";\nBlockly.Msg[\"LOGIC_OPERATION_TOOLTIP_OR\"] = \"Return true if at least one of the inputs is true.\";\nBlockly.Msg[\"LOGIC_TERNARY_CONDITION\"] = \"test\";\nBlockly.Msg[\"LOGIC_TERNARY_HELPURL\"] = \"https://en.wikipedia.org/wiki/%3F:\";\nBlockly.Msg[\"LOGIC_TERNARY_IF_FALSE\"] = \"if false\";\nBlockly.Msg[\"LOGIC_TERNARY_IF_TRUE\"] = \"if true\";\nBlockly.Msg[\"LOGIC_TERNARY_TOOLTIP\"] = \"Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.\";\nBlockly.Msg[\"MAC_OS\"] = \"macOS\";\nBlockly.Msg[\"MATH_ADDITION_SYMBOL\"] = \"+\";\nBlockly.Msg[\"MATH_ARITHMETIC_HELPURL\"] = \"https://en.wikipedia.org/wiki/Arithmetic\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_ADD\"] = \"Return the sum of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_DIVIDE\"] = \"Return the quotient of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_MINUS\"] = \"Return the difference of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_MULTIPLY\"] = \"Return the product of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_POWER\"] = \"Return the first number raised to the power of the second number.\";\nBlockly.Msg[\"MATH_ATAN2_HELPURL\"] = \"https://en.wikipedia.org/wiki/Atan2\";\nBlockly.Msg[\"MATH_ATAN2_TITLE\"] = \"atan2 of X:%1 Y:%2\";\nBlockly.Msg[\"MATH_ATAN2_TOOLTIP\"] = \"Return the arctangent of point (X, Y) in degrees from -180 to 180.\";\nBlockly.Msg[\"MATH_CHANGE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter\";\nBlockly.Msg[\"MATH_CHANGE_TITLE\"] = \"change %1 by %2\";\nBlockly.Msg[\"MATH_CHANGE_TOOLTIP\"] = \"Add a number to variable '%1'.\";\nBlockly.Msg[\"MATH_CONSTANT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Mathematical_constant\";\nBlockly.Msg[\"MATH_CONSTANT_TOOLTIP\"] = \"Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).\";\nBlockly.Msg[\"MATH_CONSTRAIN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Clamping_(graphics)\";\nBlockly.Msg[\"MATH_CONSTRAIN_TITLE\"] = \"constrain %1 low %2 high %3\";\nBlockly.Msg[\"MATH_CONSTRAIN_TOOLTIP\"] = \"Constrain a number to be between the specified limits (inclusive).\";\nBlockly.Msg[\"MATH_DIVISION_SYMBOL\"] = \"\";\nBlockly.Msg[\"MATH_IS_DIVISIBLE_BY\"] = \"is divisible by\";\nBlockly.Msg[\"MATH_IS_EVEN\"] = \"is even\";\nBlockly.Msg[\"MATH_IS_NEGATIVE\"] = \"is negative\";\nBlockly.Msg[\"MATH_IS_ODD\"] = \"is odd\";\nBlockly.Msg[\"MATH_IS_POSITIVE\"] = \"is positive\";\nBlockly.Msg[\"MATH_IS_PRIME\"] = \"is prime\";\nBlockly.Msg[\"MATH_IS_TOOLTIP\"] = \"Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.\";\nBlockly.Msg[\"MATH_IS_WHOLE\"] = \"is whole\";\nBlockly.Msg[\"MATH_MODULO_HELPURL\"] = \"https://en.wikipedia.org/wiki/Modulo_operation\";\nBlockly.Msg[\"MATH_MODULO_TITLE\"] = \"remainder of %1  %2\";\nBlockly.Msg[\"MATH_MODULO_TOOLTIP\"] = \"Return the remainder from dividing the two numbers.\";\nBlockly.Msg[\"MATH_MULTIPLICATION_SYMBOL\"] = \"\";\nBlockly.Msg[\"MATH_NUMBER_HELPURL\"] = \"https://en.wikipedia.org/wiki/Number\";\nBlockly.Msg[\"MATH_NUMBER_TOOLTIP\"] = \"A number.\";\nBlockly.Msg[\"MATH_ONLIST_HELPURL\"] = \"\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_AVERAGE\"] = \"average of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MAX\"] = \"max of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MEDIAN\"] = \"median of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MIN\"] = \"min of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MODE\"] = \"modes of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_RANDOM\"] = \"random item of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_STD_DEV\"] = \"standard deviation of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_SUM\"] = \"sum of list\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_AVERAGE\"] = \"Return the average (arithmetic mean) of the numeric values in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MAX\"] = \"Return the largest number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MEDIAN\"] = \"Return the median number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MIN\"] = \"Return the smallest number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MODE\"] = \"Return a list of the most common item(s) in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_RANDOM\"] = \"Return a random element from the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_STD_DEV\"] = \"Return the standard deviation of the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_SUM\"] = \"Return the sum of all the numbers in the list.\";\nBlockly.Msg[\"MATH_POWER_SYMBOL\"] = \"^\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Random_number_generation\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_TITLE_RANDOM\"] = \"random fraction\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_TOOLTIP\"] = \"Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).\";\nBlockly.Msg[\"MATH_RANDOM_INT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Random_number_generation\";\nBlockly.Msg[\"MATH_RANDOM_INT_TITLE\"] = \"random integer from %1 to %2\";\nBlockly.Msg[\"MATH_RANDOM_INT_TOOLTIP\"] = \"Return a random integer between the two specified limits, inclusive.\";\nBlockly.Msg[\"MATH_ROUND_HELPURL\"] = \"https://en.wikipedia.org/wiki/Rounding\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUND\"] = \"round\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUNDDOWN\"] = \"round down\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUNDUP\"] = \"round up\";\nBlockly.Msg[\"MATH_ROUND_TOOLTIP\"] = \"Round a number up or down.\";\nBlockly.Msg[\"MATH_SINGLE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Square_root\";\nBlockly.Msg[\"MATH_SINGLE_OP_ABSOLUTE\"] = \"absolute\";\nBlockly.Msg[\"MATH_SINGLE_OP_ROOT\"] = \"square root\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_ABS\"] = \"Return the absolute value of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_EXP\"] = \"Return e to the power of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_LN\"] = \"Return the natural logarithm of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_LOG10\"] = \"Return the base 10 logarithm of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_NEG\"] = \"Return the negation of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_POW10\"] = \"Return 10 to the power of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_ROOT\"] = \"Return the square root of a number.\";\nBlockly.Msg[\"MATH_SUBTRACTION_SYMBOL\"] = \"-\";\nBlockly.Msg[\"MATH_TRIG_ACOS\"] = \"acos\";\nBlockly.Msg[\"MATH_TRIG_ASIN\"] = \"asin\";\nBlockly.Msg[\"MATH_TRIG_ATAN\"] = \"atan\";\nBlockly.Msg[\"MATH_TRIG_COS\"] = \"cos\";\nBlockly.Msg[\"MATH_TRIG_HELPURL\"] = \"https://en.wikipedia.org/wiki/Trigonometric_functions\";\nBlockly.Msg[\"MATH_TRIG_SIN\"] = \"sin\";\nBlockly.Msg[\"MATH_TRIG_TAN\"] = \"tan\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ACOS\"] = \"Return the arccosine of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ASIN\"] = \"Return the arcsine of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ATAN\"] = \"Return the arctangent of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_COS\"] = \"Return the cosine of a degree (not radian).\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_SIN\"] = \"Return the sine of a degree (not radian).\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_TAN\"] = \"Return the tangent of a degree (not radian).\";\nBlockly.Msg[\"MOVE_BLOCK\"] = \"Move Block\";\nBlockly.Msg[\"NEW_COLOUR_VARIABLE\"] = \"Create colour variable...\";\nBlockly.Msg[\"NEW_NUMBER_VARIABLE\"] = \"Create number variable...\";\nBlockly.Msg[\"NEW_STRING_VARIABLE\"] = \"Create string variable...\";\nBlockly.Msg[\"NEW_VARIABLE\"] = \"Create variable...\";\nBlockly.Msg[\"NEW_VARIABLE_TITLE\"] = \"New variable name:\";\nBlockly.Msg[\"NEW_VARIABLE_TYPE_TITLE\"] = \"New variable type:\";\nBlockly.Msg[\"OPTION_KEY\"] = \" Option\";\nBlockly.Msg[\"ORDINAL_NUMBER_SUFFIX\"] = \"\";\nBlockly.Msg[\"PASTE_SHORTCUT\"] = \"Paste\";\nBlockly.Msg[\"PROCEDURES_ALLOW_STATEMENTS\"] = \"allow statements\";\nBlockly.Msg[\"PROCEDURES_BEFORE_PARAMS\"] = \"with:\";\nBlockly.Msg[\"PROCEDURES_CALLNORETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_CALLNORETURN_TOOLTIP\"] = \"Run the user-defined function '%1'.\";\nBlockly.Msg[\"PROCEDURES_CALLRETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_CALLRETURN_TOOLTIP\"] = \"Run the user-defined function '%1' and use its output.\";\nBlockly.Msg[\"PROCEDURES_CALL_BEFORE_PARAMS\"] = \"with:\";\nBlockly.Msg[\"PROCEDURES_CALL_DISABLED_DEF_WARNING\"] = \"Can't run the user-defined function '%1' because the definition block is disabled.\";\nBlockly.Msg[\"PROCEDURES_CREATE_DO\"] = \"Create '%1'\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_COMMENT\"] = \"Describe this function...\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_DO\"] = \"\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_PROCEDURE\"] = \"do something\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_TITLE\"] = \"to\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_TOOLTIP\"] = \"Creates a function with no output.\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_RETURN\"] = \"return\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_TOOLTIP\"] = \"Creates a function with an output.\";\nBlockly.Msg[\"PROCEDURES_DEF_DUPLICATE_WARNING\"] = \"Warning: This function has duplicate parameters.\";\nBlockly.Msg[\"PROCEDURES_HIGHLIGHT_DEF\"] = \"Highlight function definition\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_HELPURL\"] = \"https://c2.com/cgi/wiki?GuardClause\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_TOOLTIP\"] = \"If a value is true, then return a second value.\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_WARNING\"] = \"Warning: This block may be used only within a function definition.\";\nBlockly.Msg[\"PROCEDURES_MUTATORARG_TITLE\"] = \"input name:\";\nBlockly.Msg[\"PROCEDURES_MUTATORARG_TOOLTIP\"] = \"Add an input to the function.\";\nBlockly.Msg[\"PROCEDURES_MUTATORCONTAINER_TITLE\"] = \"inputs\";\nBlockly.Msg[\"PROCEDURES_MUTATORCONTAINER_TOOLTIP\"] = \"Add, remove, or reorder inputs to this function.\";\nBlockly.Msg[\"REDO\"] = \"Redo\";\nBlockly.Msg[\"REMOVE_COMMENT\"] = \"Remove Comment\";\nBlockly.Msg[\"RENAME_VARIABLE\"] = \"Rename variable...\";\nBlockly.Msg[\"RENAME_VARIABLE_TITLE\"] = \"Rename all '%1' variables to:\";\nBlockly.Msg[\"SHORTCUTS_CODE_NAVIGATION\"] = \"Code navigation\";\nBlockly.Msg[\"SHORTCUTS_EDITING\"] = \"Editing\";\nBlockly.Msg[\"SHORTCUTS_GENERAL\"] = \"General\";\nBlockly.Msg[\"TEXT_APPEND_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-modification\";\nBlockly.Msg[\"TEXT_APPEND_TITLE\"] = \"to %1 append text %2\";\nBlockly.Msg[\"TEXT_APPEND_TOOLTIP\"] = \"Append some text to variable '%1'.\";\nBlockly.Msg[\"TEXT_CHANGECASE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#adjusting-text-case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_LOWERCASE\"] = \"to lower case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_TITLECASE\"] = \"to Title Case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_UPPERCASE\"] = \"to UPPER CASE\";\nBlockly.Msg[\"TEXT_CHANGECASE_TOOLTIP\"] = \"Return a copy of the text in a different case.\";\nBlockly.Msg[\"TEXT_CHARAT_FIRST\"] = \"get first letter\";\nBlockly.Msg[\"TEXT_CHARAT_FROM_END\"] = \"get letter # from end\";\nBlockly.Msg[\"TEXT_CHARAT_FROM_START\"] = \"get letter #\";\nBlockly.Msg[\"TEXT_CHARAT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#extracting-text\";\nBlockly.Msg[\"TEXT_CHARAT_LAST\"] = \"get last letter\";\nBlockly.Msg[\"TEXT_CHARAT_RANDOM\"] = \"get random letter\";\nBlockly.Msg[\"TEXT_CHARAT_TAIL\"] = \"\";\nBlockly.Msg[\"TEXT_CHARAT_TITLE\"] = \"in text %1 %2\";\nBlockly.Msg[\"TEXT_CHARAT_TOOLTIP\"] = \"Returns the letter at the specified position.\";\nBlockly.Msg[\"TEXT_COUNT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#counting-substrings\";\nBlockly.Msg[\"TEXT_COUNT_MESSAGE0\"] = \"count %1 in %2\";\nBlockly.Msg[\"TEXT_COUNT_TOOLTIP\"] = \"Count how many times some text occurs within some other text.\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_ITEM_TOOLTIP\"] = \"Add an item to the text.\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_TITLE_JOIN\"] = \"join\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this text block.\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_FROM_END\"] = \"to letter # from end\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_FROM_START\"] = \"to letter #\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_LAST\"] = \"to last letter\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_INPUT_IN_TEXT\"] = \"in text\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FIRST\"] = \"get substring from first letter\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FROM_END\"] = \"get substring from letter # from end\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FROM_START\"] = \"get substring from letter #\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_TAIL\"] = \"\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_TOOLTIP\"] = \"Returns a specified portion of the text.\";\nBlockly.Msg[\"TEXT_INDEXOF_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#finding-text\";\nBlockly.Msg[\"TEXT_INDEXOF_OPERATOR_FIRST\"] = \"find first occurrence of text\";\nBlockly.Msg[\"TEXT_INDEXOF_OPERATOR_LAST\"] = \"find last occurrence of text\";\nBlockly.Msg[\"TEXT_INDEXOF_TITLE\"] = \"in text %1 %2 %3\";\nBlockly.Msg[\"TEXT_INDEXOF_TOOLTIP\"] = \"Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.\";\nBlockly.Msg[\"TEXT_ISEMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#checking-for-empty-text\";\nBlockly.Msg[\"TEXT_ISEMPTY_TITLE\"] = \"%1 is empty\";\nBlockly.Msg[\"TEXT_ISEMPTY_TOOLTIP\"] = \"Returns true if the provided text is empty.\";\nBlockly.Msg[\"TEXT_JOIN_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-creation\";\nBlockly.Msg[\"TEXT_JOIN_TITLE_CREATEWITH\"] = \"create text with\";\nBlockly.Msg[\"TEXT_JOIN_TOOLTIP\"] = \"Create a piece of text by joining together any number of items.\";\nBlockly.Msg[\"TEXT_LENGTH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-modification\";\nBlockly.Msg[\"TEXT_LENGTH_TITLE\"] = \"length of %1\";\nBlockly.Msg[\"TEXT_LENGTH_TOOLTIP\"] = \"Returns the number of letters (including spaces) in the provided text.\";\nBlockly.Msg[\"TEXT_PRINT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#printing-text\";\nBlockly.Msg[\"TEXT_PRINT_TITLE\"] = \"print %1\";\nBlockly.Msg[\"TEXT_PRINT_TOOLTIP\"] = \"Print the specified text, number or other value.\";\nBlockly.Msg[\"TEXT_PROMPT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#getting-input-from-the-user\";\nBlockly.Msg[\"TEXT_PROMPT_TOOLTIP_NUMBER\"] = \"Prompt for user for a number.\";\nBlockly.Msg[\"TEXT_PROMPT_TOOLTIP_TEXT\"] = \"Prompt for user for some text.\";\nBlockly.Msg[\"TEXT_PROMPT_TYPE_NUMBER\"] = \"prompt for number with message\";\nBlockly.Msg[\"TEXT_PROMPT_TYPE_TEXT\"] = \"prompt for text with message\";\nBlockly.Msg[\"TEXT_REPLACE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#replacing-substrings\";\nBlockly.Msg[\"TEXT_REPLACE_MESSAGE0\"] = \"replace %1 with %2 in %3\";\nBlockly.Msg[\"TEXT_REPLACE_TOOLTIP\"] = \"Replace all occurances of some text within some other text.\";\nBlockly.Msg[\"TEXT_REVERSE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#reversing-text\";\nBlockly.Msg[\"TEXT_REVERSE_MESSAGE0\"] = \"reverse %1\";\nBlockly.Msg[\"TEXT_REVERSE_TOOLTIP\"] = \"Reverses the order of the characters in the text.\";\nBlockly.Msg[\"TEXT_TEXT_HELPURL\"] = \"https://en.wikipedia.org/wiki/String_(computer_science)\";\nBlockly.Msg[\"TEXT_TEXT_TOOLTIP\"] = \"A letter, word, or line of text.\";\nBlockly.Msg[\"TEXT_TRIM_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#trimming-removing-spaces\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_BOTH\"] = \"trim spaces from both sides of\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_LEFT\"] = \"trim spaces from left side of\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_RIGHT\"] = \"trim spaces from right side of\";\nBlockly.Msg[\"TEXT_TRIM_TOOLTIP\"] = \"Return a copy of the text with spaces removed from one or both ends.\";\nBlockly.Msg[\"TODAY\"] = \"Today\";\nBlockly.Msg[\"UNDO\"] = \"Undo\";\nBlockly.Msg[\"UNKNOWN\"] = \"Unknown\";\nBlockly.Msg[\"UNNAMED_KEY\"] = \"unnamed\";\nBlockly.Msg[\"VARIABLES_DEFAULT_NAME\"] = \"item\";\nBlockly.Msg[\"VARIABLES_GET_CREATE_SET\"] = \"Create 'set %1'\";\nBlockly.Msg[\"VARIABLES_GET_HELPURL\"] = \"https://github.com/google/blockly/wiki/Variables#get\";\nBlockly.Msg[\"VARIABLES_GET_TOOLTIP\"] = \"Returns the value of this variable.\";\nBlockly.Msg[\"VARIABLES_SET\"] = \"set %1 to %2\";\nBlockly.Msg[\"VARIABLES_SET_CREATE_GET\"] = \"Create 'get %1'\";\nBlockly.Msg[\"VARIABLES_SET_HELPURL\"] = \"https://github.com/google/blockly/wiki/Variables#set\";\nBlockly.Msg[\"VARIABLES_SET_TOOLTIP\"] = \"Sets this variable to be equal to the input.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS\"] = \"A variable named '%1' already exists.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE\"] = \"A variable named '%1' already exists for another type: '%2'.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER\"] = \"A variable named '%1' already exists as a parameter in the procedure '%2'.\";\nBlockly.Msg[\"WINDOWS\"] = \"Windows\";\nBlockly.Msg[\"WORKSPACE_ARIA_LABEL\"] = \"Blockly Workspace\";\nBlockly.Msg[\"WORKSPACE_COMMENT_DEFAULT_TEXT\"] = \"Say something...\";\nBlockly.Msg[\"CONTROLS_FOREACH_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_FOR_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_IF_ELSEIF_TITLE_ELSEIF\"] = Blockly.Msg[\"CONTROLS_IF_MSG_ELSEIF\"];\nBlockly.Msg[\"CONTROLS_IF_ELSE_TITLE_ELSE\"] = Blockly.Msg[\"CONTROLS_IF_MSG_ELSE\"];\nBlockly.Msg[\"CONTROLS_IF_IF_TITLE_IF\"] = Blockly.Msg[\"CONTROLS_IF_MSG_IF\"];\nBlockly.Msg[\"CONTROLS_IF_MSG_THEN\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"LISTS_CREATE_WITH_ITEM_TITLE\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"LISTS_GET_INDEX_HELPURL\"] = Blockly.Msg[\"LISTS_INDEX_OF_HELPURL\"];\nBlockly.Msg[\"LISTS_GET_INDEX_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_GET_SUBLIST_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_INDEX_OF_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_SET_INDEX_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"MATH_CHANGE_TITLE_ITEM\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_COMMENT\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_COMMENT\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_DO\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_DO\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_PROCEDURE\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_PROCEDURE\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_TITLE\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_TITLE\"];\nBlockly.Msg[\"TEXT_APPEND_VARIABLE\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"TEXT_CREATE_JOIN_ITEM_TITLE_ITEM\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\n\nBlockly.Msg[\"MATH_HUE\"] = \"230\";\nBlockly.Msg[\"LOOPS_HUE\"] = \"120\";\nBlockly.Msg[\"LISTS_HUE\"] = \"260\";\nBlockly.Msg[\"LOGIC_HUE\"] = \"210\";\nBlockly.Msg[\"VARIABLES_HUE\"] = \"330\";\nBlockly.Msg[\"TEXTS_HUE\"] = \"160\";\nBlockly.Msg[\"PROCEDURES_HUE\"] = \"290\";\nBlockly.Msg[\"COLOUR_HUE\"] = \"20\";\nBlockly.Msg[\"VARIABLES_DYNAMIC_HUE\"] = \"310\";\nreturn Blockly.Msg;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9tc2cvZW4uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxDQUFDO0FBQ0QsTUFBTSxJQUEwQyxJQUFJO0FBQ3BELElBQUksaUNBQU8sRUFBRSxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLGtHQUFDO0FBQ3ZCLElBQUksS0FBSyxzQkFPTjtBQUNILENBQUM7QUFDRDs7QUFFQTs7QUFFQSwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SEFBOEg7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9tc2cvZW4uanM/ODVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgLy8gQU1EXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsgLy8gTm9kZS5qc1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2UgeyAvLyBCcm93c2VyXG4gICAgdmFyIG1lc3NhZ2VzID0gZmFjdG9yeSgpO1xuICAgIGZvciAodmFyIGtleSBpbiBtZXNzYWdlcykge1xuICAgICAgcm9vdC5CbG9ja2x5Lk1zZ1trZXldID0gbWVzc2FnZXNba2V5XTtcbiAgICB9XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4vLyBUaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkLiAgRG8gbm90IG1vZGlmeS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQmxvY2tseSA9IEJsb2NrbHkgfHwgeyBNc2c6IE9iamVjdC5jcmVhdGUobnVsbCkgfTtcblxuQmxvY2tseS5Nc2dbXCJBRERfQ09NTUVOVFwiXSA9IFwiQWRkIENvbW1lbnRcIjtcbkJsb2NrbHkuTXNnW1wiQUxUX0tFWVwiXSA9IFwiQWx0XCI7XG5CbG9ja2x5Lk1zZ1tcIkNBTk5PVF9ERUxFVEVfVkFSSUFCTEVfUFJPQ0VEVVJFXCJdID0gXCJDYW4ndCBkZWxldGUgdGhlIHZhcmlhYmxlICclMScgYmVjYXVzZSBpdCdzIHBhcnQgb2YgdGhlIGRlZmluaXRpb24gb2YgdGhlIGZ1bmN0aW9uICclMidcIjtcbkJsb2NrbHkuTXNnW1wiQ0hBTkdFX1ZBTFVFX1RJVExFXCJdID0gXCJDaGFuZ2UgdmFsdWU6XCI7XG5CbG9ja2x5Lk1zZ1tcIkNIUk9NRV9PU1wiXSA9IFwiQ2hyb21lT1NcIjtcbkJsb2NrbHkuTXNnW1wiQ0xFQU5fVVBcIl0gPSBcIkNsZWFuIHVwIEJsb2Nrc1wiO1xuQmxvY2tseS5Nc2dbXCJDTE9TRVwiXSA9IFwiQ2xvc2VcIjtcbkJsb2NrbHkuTXNnW1wiQ09MTEFQU0VEX1dBUk5JTkdTX1dBUk5JTkdcIl0gPSBcIkNvbGxhcHNlZCBibG9ja3MgY29udGFpbiB3YXJuaW5ncy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09MTEFQU0VfQUxMXCJdID0gXCJDb2xsYXBzZSBCbG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiQ09MTEFQU0VfQkxPQ0tcIl0gPSBcIkNvbGxhcHNlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9CTEVORF9DT0xPVVIxXCJdID0gXCJjb2xvdXIgMVwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfQkxFTkRfQ09MT1VSMlwiXSA9IFwiY29sb3VyIDJcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0JMRU5EX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY29sb3ItYmxlbmQvIzo6OnJnYnBcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0JMRU5EX1JBVElPXCJdID0gXCJyYXRpb1wiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfQkxFTkRfVElUTEVcIl0gPSBcImJsZW5kXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9CTEVORF9UT09MVElQXCJdID0gXCJCbGVuZHMgdHdvIGNvbG91cnMgdG9nZXRoZXIgd2l0aCBhIGdpdmVuIHJhdGlvICgwLjAgLSAxLjApLlwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUElDS0VSX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbG9yXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9QSUNLRVJfVE9PTFRJUFwiXSA9IFwiQ2hvb3NlIGEgY29sb3VyIGZyb20gdGhlIHBhbGV0dGUuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9SQU5ET01fSEVMUFVSTFwiXSA9IFwiaHR0cDovL3JhbmRvbWNvbG91ci5jb21cIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JBTkRPTV9USVRMRVwiXSA9IFwicmFuZG9tIGNvbG91clwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkFORE9NX1RPT0xUSVBcIl0gPSBcIkNob29zZSBhIGNvbG91ciBhdCByYW5kb20uXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9SR0JfQkxVRVwiXSA9IFwiYmx1ZVwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX0dSRUVOXCJdID0gXCJncmVlblwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vd3d3LmRlY2VtYmVyLmNvbS9odG1sL3NwZWMvY29sb3JwZXJjb21wYWN0Lmh0bWxcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JHQl9SRURcIl0gPSBcInJlZFwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX1RJVExFXCJdID0gXCJjb2xvdXIgd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZSBhIGNvbG91ciB3aXRoIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHJlZCwgZ3JlZW4sIGFuZCBibHVlLiBBbGwgdmFsdWVzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTU1BTkRfS0VZXCJdID0gXCLijJggQ29tbWFuZFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTG9vcHMjbG9vcC10ZXJtaW5hdGlvbi1ibG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX09QRVJBVE9SX0JSRUFLXCJdID0gXCJicmVhayBvdXQgb2YgbG9vcFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfT1BFUkFUT1JfQ09OVElOVUVcIl0gPSBcImNvbnRpbnVlIHdpdGggbmV4dCBpdGVyYXRpb24gb2YgbG9vcFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfVE9PTFRJUF9CUkVBS1wiXSA9IFwiQnJlYWsgb3V0IG9mIHRoZSBjb250YWluaW5nIGxvb3AuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19UT09MVElQX0NPTlRJTlVFXCJdID0gXCJTa2lwIHRoZSByZXN0IG9mIHRoaXMgbG9vcCwgYW5kIGNvbnRpbnVlIHdpdGggdGhlIG5leHQgaXRlcmF0aW9uLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfV0FSTklOR1wiXSA9IFwiV2FybmluZzogVGhpcyBibG9jayBtYXkgb25seSBiZSB1c2VkIHdpdGhpbiBhIGxvb3AuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUkVBQ0hfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTG9vcHMjZm9yLWVhY2hcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SRUFDSF9USVRMRVwiXSA9IFwiZm9yIGVhY2ggaXRlbSAlMSBpbiBsaXN0ICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUkVBQ0hfVE9PTFRJUFwiXSA9IFwiRm9yIGVhY2ggaXRlbSBpbiBhIGxpc3QsIHNldCB0aGUgdmFyaWFibGUgJyUxJyB0byB0aGUgaXRlbSwgYW5kIHRoZW4gZG8gc29tZSBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTG9vcHMjY291bnQtd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JfVElUTEVcIl0gPSBcImNvdW50IHdpdGggJTEgZnJvbSAlMiB0byAlMyBieSAlNFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JfVE9PTFRJUFwiXSA9IFwiSGF2ZSB0aGUgdmFyaWFibGUgJyUxJyB0YWtlIG9uIHRoZSB2YWx1ZXMgZnJvbSB0aGUgc3RhcnQgbnVtYmVyIHRvIHRoZSBlbmQgbnVtYmVyLCBjb3VudGluZyBieSB0aGUgc3BlY2lmaWVkIGludGVydmFsLCBhbmQgZG8gdGhlIHNwZWNpZmllZCBibG9ja3MuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0VMU0VJRl9UT09MVElQXCJdID0gXCJBZGQgYSBjb25kaXRpb24gdG8gdGhlIGlmIGJsb2NrLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9FTFNFX1RPT0xUSVBcIl0gPSBcIkFkZCBhIGZpbmFsLCBjYXRjaC1hbGwgY29uZGl0aW9uIHRvIHRoZSBpZiBibG9jay5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvSWZFbHNlXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0lGX1RPT0xUSVBcIl0gPSBcIkFkZCwgcmVtb3ZlLCBvciByZW9yZGVyIHNlY3Rpb25zIHRvIHJlY29uZmlndXJlIHRoaXMgaWYgYmxvY2suXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19FTFNFXCJdID0gXCJlbHNlXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19FTFNFSUZcIl0gPSBcImVsc2UgaWZcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX0lGXCJdID0gXCJpZlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9UT09MVElQXzFcIl0gPSBcIklmIGEgdmFsdWUgaXMgdHJ1ZSwgdGhlbiBkbyBzb21lIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX1RPT0xUSVBfMlwiXSA9IFwiSWYgYSB2YWx1ZSBpcyB0cnVlLCB0aGVuIGRvIHRoZSBmaXJzdCBibG9jayBvZiBzdGF0ZW1lbnRzLiBPdGhlcndpc2UsIGRvIHRoZSBzZWNvbmQgYmxvY2sgb2Ygc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfVE9PTFRJUF8zXCJdID0gXCJJZiB0aGUgZmlyc3QgdmFsdWUgaXMgdHJ1ZSwgdGhlbiBkbyB0aGUgZmlyc3QgYmxvY2sgb2Ygc3RhdGVtZW50cy4gT3RoZXJ3aXNlLCBpZiB0aGUgc2Vjb25kIHZhbHVlIGlzIHRydWUsIGRvIHRoZSBzZWNvbmQgYmxvY2sgb2Ygc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfVE9PTFRJUF80XCJdID0gXCJJZiB0aGUgZmlyc3QgdmFsdWUgaXMgdHJ1ZSwgdGhlbiBkbyB0aGUgZmlyc3QgYmxvY2sgb2Ygc3RhdGVtZW50cy4gT3RoZXJ3aXNlLCBpZiB0aGUgc2Vjb25kIHZhbHVlIGlzIHRydWUsIGRvIHRoZSBzZWNvbmQgYmxvY2sgb2Ygc3RhdGVtZW50cy4gSWYgbm9uZSBvZiB0aGUgdmFsdWVzIGFyZSB0cnVlLCBkbyB0aGUgbGFzdCBibG9jayBvZiBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRm9yX2xvb3BcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPXCJdID0gXCJkb1wiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfVElUTEVcIl0gPSBcInJlcGVhdCAlMSB0aW1lc1wiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfVE9PTFRJUFwiXSA9IFwiRG8gc29tZSBzdGF0ZW1lbnRzIHNldmVyYWwgdGltZXMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1dISUxFVU5USUxfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTG9vcHMjcmVwZWF0XCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1dISUxFVU5USUxfT1BFUkFUT1JfVU5USUxcIl0gPSBcInJlcGVhdCB1bnRpbFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19XSElMRVVOVElMX09QRVJBVE9SX1dISUxFXCJdID0gXCJyZXBlYXQgd2hpbGVcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfV0hJTEVVTlRJTF9UT09MVElQX1VOVElMXCJdID0gXCJXaGlsZSBhIHZhbHVlIGlzIGZhbHNlLCB0aGVuIGRvIHNvbWUgc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfV0hJTEVVTlRJTF9UT09MVElQX1dISUxFXCJdID0gXCJXaGlsZSBhIHZhbHVlIGlzIHRydWUsIHRoZW4gZG8gc29tZSBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MX0tFWVwiXSA9IFwiQ3RybFwiO1xuQmxvY2tseS5Nc2dbXCJDT1BZX1NIT1JUQ1VUXCJdID0gXCJDb3B5XCI7XG5CbG9ja2x5Lk1zZ1tcIkNVVF9TSE9SVENVVFwiXSA9IFwiQ3V0XCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9BTExfQkxPQ0tTXCJdID0gXCJEZWxldGUgYWxsICUxIGJsb2Nrcz9cIjtcbkJsb2NrbHkuTXNnW1wiREVMRVRFX0JMT0NLXCJdID0gXCJEZWxldGUgQmxvY2tcIjtcbkJsb2NrbHkuTXNnW1wiREVMRVRFX1ZBUklBQkxFXCJdID0gXCJEZWxldGUgdGhlICclMScgdmFyaWFibGVcIjtcbkJsb2NrbHkuTXNnW1wiREVMRVRFX1ZBUklBQkxFX0NPTkZJUk1BVElPTlwiXSA9IFwiRGVsZXRlICUxIHVzZXMgb2YgdGhlICclMicgdmFyaWFibGU/XCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9YX0JMT0NLU1wiXSA9IFwiRGVsZXRlICUxIEJsb2Nrc1wiO1xuQmxvY2tseS5Nc2dbXCJESUFMT0dfQ0FOQ0VMXCJdID0gXCJDYW5jZWxcIjtcbkJsb2NrbHkuTXNnW1wiRElBTE9HX09LXCJdID0gXCJPS1wiO1xuQmxvY2tseS5Nc2dbXCJESVNBQkxFX0JMT0NLXCJdID0gXCJEaXNhYmxlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkRVUExJQ0FURV9CTE9DS1wiXSA9IFwiRHVwbGljYXRlXCI7XG5CbG9ja2x5Lk1zZ1tcIkRVUExJQ0FURV9DT01NRU5UXCJdID0gXCJEdXBsaWNhdGUgQ29tbWVudFwiO1xuQmxvY2tseS5Nc2dbXCJFRElUX0JMT0NLX0NPTlRFTlRTXCJdID0gXCJFZGl0IEJsb2NrIGNvbnRlbnRzXCI7XG5CbG9ja2x5Lk1zZ1tcIkVOQUJMRV9CTE9DS1wiXSA9IFwiRW5hYmxlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkVYUEFORF9BTExcIl0gPSBcIkV4cGFuZCBCbG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiRVhQQU5EX0JMT0NLXCJdID0gXCJFeHBhbmQgQmxvY2tcIjtcbkJsb2NrbHkuTXNnW1wiRVhURVJOQUxfSU5QVVRTXCJdID0gXCJFeHRlcm5hbCBJbnB1dHNcIjtcbkJsb2NrbHkuTXNnW1wiSEVMUFwiXSA9IFwiSGVscFwiO1xuQmxvY2tseS5Nc2dbXCJIRUxQX1BST01QVFwiXSA9IFwiUHJlc3MgJTEgZm9yIGhlbHAgb24ga2V5Ym9hcmQgY29udHJvbHNcIjtcbkJsb2NrbHkuTXNnW1wiSU5MSU5FX0lOUFVUU1wiXSA9IFwiSW5saW5lIElucHV0c1wiO1xuQmxvY2tseS5Nc2dbXCJLRVlCT0FSRF9OQVZfQ09OU1RSQUlORURfTU9WRV9ISU5UXCJdID0gXCJVc2UgdGhlIGFycm93IGtleXMgdG8gbW92ZSwgdGhlbiAlMSB0byBhY2NlcHQgdGhlIHBvc2l0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIktFWUJPQVJEX05BVl9DT1BJRURfSElOVFwiXSA9IFwiQ29waWVkLiBQcmVzcyAlMSB0byBwYXN0ZS5cIjtcbkJsb2NrbHkuTXNnW1wiS0VZQk9BUkRfTkFWX0NVVF9ISU5UXCJdID0gXCJDdXQuIFByZXNzICUxIHRvIHBhc3RlLlwiO1xuQmxvY2tseS5Nc2dbXCJLRVlCT0FSRF9OQVZfVU5DT05TVFJBSU5FRF9NT1ZFX0hJTlRcIl0gPSBcIkhvbGQgJTEgYW5kIHVzZSBhcnJvdyBrZXlzIHRvIG1vdmUgZnJlZWx5LCB0aGVuICUyIHRvIGFjY2VwdCB0aGUgcG9zaXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiTElOVVhcIl0gPSBcIkxpbnV4XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9FTVBUWV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNjcmVhdGUtZW1wdHktbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfRU1QVFlfVElUTEVcIl0gPSBcImNyZWF0ZSBlbXB0eSBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9FTVBUWV9UT09MVElQXCJdID0gXCJSZXR1cm5zIGEgbGlzdCwgb2YgbGVuZ3RoIDAsIGNvbnRhaW5pbmcgbm8gZGF0YSByZWNvcmRzXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0NPTlRBSU5FUl9USVRMRV9BRERcIl0gPSBcImxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX1dJVEhfQ09OVEFJTkVSX1RPT0xUSVBcIl0gPSBcIkFkZCwgcmVtb3ZlLCBvciByZW9yZGVyIHNlY3Rpb25zIHRvIHJlY29uZmlndXJlIHRoaXMgbGlzdCBibG9jay5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX1dJVEhfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjY3JlYXRlLWxpc3Qtd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9JTlBVVF9XSVRIXCJdID0gXCJjcmVhdGUgbGlzdCB3aXRoXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0lURU1fVE9PTFRJUFwiXSA9IFwiQWRkIGFuIGl0ZW0gdG8gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZSBhIGxpc3Qgd2l0aCBhbnkgbnVtYmVyIG9mIGl0ZW1zLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfRklSU1RcIl0gPSBcImZpcnN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9GUk9NX0VORFwiXSA9IFwiIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfRlJPTV9TVEFSVFwiXSA9IFwiI1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfR0VUXCJdID0gXCJnZXRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0dFVF9SRU1PVkVcIl0gPSBcImdldCBhbmQgcmVtb3ZlXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNnZXR0aW5nLWl0ZW1zLWZyb20tYS1saXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9MQVNUXCJdID0gXCJsYXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9SQU5ET01cIl0gPSBcInJhbmRvbVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfUkVNT1ZFXCJdID0gXCJyZW1vdmVcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RBSUxcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfRklSU1RcIl0gPSBcIlJldHVybnMgdGhlIGZpcnN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfRlJPTVwiXSA9IFwiUmV0dXJucyB0aGUgaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX0xBU1RcIl0gPSBcIlJldHVybnMgdGhlIGxhc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SQU5ET01cIl0gPSBcIlJldHVybnMgYSByYW5kb20gaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfRklSU1RcIl0gPSBcIlJlbW92ZXMgYW5kIHJldHVybnMgdGhlIGZpcnN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0ZST01cIl0gPSBcIlJlbW92ZXMgYW5kIHJldHVybnMgdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfTEFTVFwiXSA9IFwiUmVtb3ZlcyBhbmQgcmV0dXJucyB0aGUgbGFzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9SQU5ET01cIl0gPSBcIlJlbW92ZXMgYW5kIHJldHVybnMgYSByYW5kb20gaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX1JFTU9WRV9GSVJTVFwiXSA9IFwiUmVtb3ZlcyB0aGUgZmlyc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX1JFTU9WRV9GUk9NXCJdID0gXCJSZW1vdmVzIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfTEFTVFwiXSA9IFwiUmVtb3ZlcyB0aGUgbGFzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX1JBTkRPTVwiXSA9IFwiUmVtb3ZlcyBhIHJhbmRvbSBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfRU5EX0ZST01fRU5EXCJdID0gXCJ0byAjIGZyb20gZW5kXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX0VORF9GUk9NX1NUQVJUXCJdID0gXCJ0byAjXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX0VORF9MQVNUXCJdID0gXCJ0byBsYXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2dldHRpbmctYS1zdWJsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX1NUQVJUX0ZJUlNUXCJdID0gXCJnZXQgc3ViLWxpc3QgZnJvbSBmaXJzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GUk9NX0VORFwiXSA9IFwiZ2V0IHN1Yi1saXN0IGZyb20gIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GUk9NX1NUQVJUXCJdID0gXCJnZXQgc3ViLWxpc3QgZnJvbSAjXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX1RBSUxcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9UT09MVElQXCJdID0gXCJDcmVhdGVzIGEgY29weSBvZiB0aGUgc3BlY2lmaWVkIHBvcnRpb24gb2YgYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9GUk9NX0VORF9UT09MVElQXCJdID0gXCIlMSBpcyB0aGUgbGFzdCBpdGVtLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9GUk9NX1NUQVJUX1RPT0xUSVBcIl0gPSBcIiUxIGlzIHRoZSBmaXJzdCBpdGVtLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9PRl9GSVJTVFwiXSA9IFwiZmluZCBmaXJzdCBvY2N1cnJlbmNlIG9mIGl0ZW1cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjZmluZGluZy1pdGVtcy1pbi1hLWxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfTEFTVFwiXSA9IFwiZmluZCBsYXN0IG9jY3VycmVuY2Ugb2YgaXRlbVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9PRl9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QvbGFzdCBvY2N1cnJlbmNlIG9mIHRoZSBpdGVtIGluIHRoZSBsaXN0LiBSZXR1cm5zICUxIGlmIGl0ZW0gaXMgbm90IGZvdW5kLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkxJU1RcIl0gPSBcImluIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSVNFTVBUWV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNpcy1lbXB0eVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JU0VNUFRZX1RJVExFXCJdID0gXCIlMSBpcyBlbXB0eVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JU0VNUFRZX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdHJ1ZSBpZiB0aGUgbGlzdCBpcyBlbXB0eS5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfTEVOR1RIX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2xlbmd0aC1vZlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19MRU5HVEhfVElUTEVcIl0gPSBcImxlbmd0aCBvZiAlMVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19MRU5HVEhfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgbGVuZ3RoIG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVQRUFUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2NyZWF0ZS1saXN0LXdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVQRUFUX1RJVExFXCJdID0gXCJjcmVhdGUgbGlzdCB3aXRoIGl0ZW0gJTEgcmVwZWF0ZWQgJTIgdGltZXNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVQRUFUX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZXMgYSBsaXN0IGNvbnNpc3Rpbmcgb2YgdGhlIGdpdmVuIHZhbHVlIHJlcGVhdGVkIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19SRVZFUlNFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI3JldmVyc2luZy1hLWxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVWRVJTRV9NRVNTQUdFMFwiXSA9IFwicmV2ZXJzZSAlMVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19SRVZFUlNFX1RPT0xUSVBcIl0gPSBcIlJldmVyc2UgYSBjb3B5IG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2luLWxpc3QtLXNldFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfSU5QVVRfVE9cIl0gPSBcImFzXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9JTlNFUlRcIl0gPSBcImluc2VydCBhdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfU0VUXCJdID0gXCJzZXRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX0ZJUlNUXCJdID0gXCJJbnNlcnRzIHRoZSBpdGVtIGF0IHRoZSBzdGFydCBvZiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9GUk9NXCJdID0gXCJJbnNlcnRzIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfTEFTVFwiXSA9IFwiQXBwZW5kIHRoZSBpdGVtIHRvIHRoZSBlbmQgb2YgYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfUkFORE9NXCJdID0gXCJJbnNlcnRzIHRoZSBpdGVtIHJhbmRvbWx5IGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0ZJUlNUXCJdID0gXCJTZXRzIHRoZSBmaXJzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0ZST01cIl0gPSBcIlNldHMgdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9MQVNUXCJdID0gXCJTZXRzIHRoZSBsYXN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9TRVRfUkFORE9NXCJdID0gXCJTZXRzIGEgcmFuZG9tIGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI3NvcnRpbmctYS1saXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfT1JERVJfQVNDRU5ESU5HXCJdID0gXCJhc2NlbmRpbmdcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9PUkRFUl9ERVNDRU5ESU5HXCJdID0gXCJkZXNjZW5kaW5nXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfVElUTEVcIl0gPSBcInNvcnQgJTEgJTIgJTNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9UT09MVElQXCJdID0gXCJTb3J0IGEgY29weSBvZiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfVFlQRV9JR05PUkVDQVNFXCJdID0gXCJhbHBoYWJldGljLCBpZ25vcmUgY2FzZVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX1RZUEVfTlVNRVJJQ1wiXSA9IFwibnVtZXJpY1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX1RZUEVfVEVYVFwiXSA9IFwiYWxwaGFiZXRpY1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNzcGxpdHRpbmctc3RyaW5ncy1hbmQtam9pbmluZy1saXN0c1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9MSVNUX0ZST01fVEVYVFwiXSA9IFwibWFrZSBsaXN0IGZyb20gdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9URVhUX0ZST01fTElTVFwiXSA9IFwibWFrZSB0ZXh0IGZyb20gbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9UT09MVElQX0pPSU5cIl0gPSBcIkpvaW4gYSBsaXN0IG9mIHRleHRzIGludG8gb25lIHRleHQsIHNlcGFyYXRlZCBieSBhIGRlbGltaXRlci5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU1BMSVRfVE9PTFRJUF9TUExJVFwiXSA9IFwiU3BsaXQgdGV4dCBpbnRvIGEgbGlzdCBvZiB0ZXh0cywgYnJlYWtpbmcgYXQgZWFjaCBkZWxpbWl0ZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NQTElUX1dJVEhfREVMSU1JVEVSXCJdID0gXCJ3aXRoIGRlbGltaXRlclwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX0ZBTFNFXCJdID0gXCJmYWxzZVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvZ2ljI3ZhbHVlc1wiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgZWl0aGVyIHRydWUgb3IgZmFsc2UuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0JPT0xFQU5fVFJVRVwiXSA9IFwidHJ1ZVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0luZXF1YWxpdHlfKG1hdGhlbWF0aWNzKVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfRVFcIl0gPSBcIlJldHVybiB0cnVlIGlmIGJvdGggaW5wdXRzIGVxdWFsIGVhY2ggb3RoZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0NPTVBBUkVfVE9PTFRJUF9HVFwiXSA9IFwiUmV0dXJuIHRydWUgaWYgdGhlIGZpcnN0IGlucHV0IGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfR1RFXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiB0aGUgZmlyc3QgaW5wdXQgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQgaW5wdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0NPTVBBUkVfVE9PTFRJUF9MVFwiXSA9IFwiUmV0dXJuIHRydWUgaWYgdGhlIGZpcnN0IGlucHV0IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Vjb25kIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfTFRFXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiB0aGUgZmlyc3QgaW5wdXQgaXMgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQgaW5wdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0NPTVBBUkVfVE9PTFRJUF9ORVFcIl0gPSBcIlJldHVybiB0cnVlIGlmIGJvdGggaW5wdXRzIGFyZSBub3QgZXF1YWwgdG8gZWFjaCBvdGhlci5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTkVHQVRFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvZ2ljI25vdFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19ORUdBVEVfVElUTEVcIl0gPSBcIm5vdCAlMVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19ORUdBVEVfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0cnVlIGlmIHRoZSBpbnB1dCBpcyBmYWxzZS4gUmV0dXJucyBmYWxzZSBpZiB0aGUgaW5wdXQgaXMgdHJ1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTlVMTFwiXSA9IFwibnVsbFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19OVUxMX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL051bGxhYmxlX3R5cGVcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTlVMTF9UT09MVElQXCJdID0gXCJSZXR1cm5zIG51bGwuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX09QRVJBVElPTl9BTkRcIl0gPSBcImFuZFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19PUEVSQVRJT05fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTG9naWMjbG9naWNhbC1vcGVyYXRpb25zXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX09QRVJBVElPTl9PUlwiXSA9IFwib3JcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfQU5EXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiBib3RoIGlucHV0cyBhcmUgdHJ1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfT1JcIl0gPSBcIlJldHVybiB0cnVlIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgaW5wdXRzIGlzIHRydWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX1RFUk5BUllfQ09ORElUSU9OXCJdID0gXCJ0ZXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX1RFUk5BUllfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvJTNGOlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19URVJOQVJZX0lGX0ZBTFNFXCJdID0gXCJpZiBmYWxzZVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19URVJOQVJZX0lGX1RSVUVcIl0gPSBcImlmIHRydWVcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfVEVSTkFSWV9UT09MVElQXCJdID0gXCJDaGVjayB0aGUgY29uZGl0aW9uIGluICd0ZXN0Jy4gSWYgdGhlIGNvbmRpdGlvbiBpcyB0cnVlLCByZXR1cm5zIHRoZSAnaWYgdHJ1ZScgdmFsdWU7IG90aGVyd2lzZSByZXR1cm5zIHRoZSAnaWYgZmFsc2UnIHZhbHVlLlwiO1xuQmxvY2tseS5Nc2dbXCJNQUNfT1NcIl0gPSBcIm1hY09TXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQURESVRJT05fU1lNQk9MXCJdID0gXCIrXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQVJJVEhNRVRJQ19IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Bcml0aG1ldGljXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQVJJVEhNRVRJQ19UT09MVElQX0FERFwiXSA9IFwiUmV0dXJuIHRoZSBzdW0gb2YgdGhlIHR3byBudW1iZXJzLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9ESVZJREVcIl0gPSBcIlJldHVybiB0aGUgcXVvdGllbnQgb2YgdGhlIHR3byBudW1iZXJzLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9NSU5VU1wiXSA9IFwiUmV0dXJuIHRoZSBkaWZmZXJlbmNlIG9mIHRoZSB0d28gbnVtYmVycy5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfTVVMVElQTFlcIl0gPSBcIlJldHVybiB0aGUgcHJvZHVjdCBvZiB0aGUgdHdvIG51bWJlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQVJJVEhNRVRJQ19UT09MVElQX1BPV0VSXCJdID0gXCJSZXR1cm4gdGhlIGZpcnN0IG51bWJlciByYWlzZWQgdG8gdGhlIHBvd2VyIG9mIHRoZSBzZWNvbmQgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FUQU4yX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0F0YW4yXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQVRBTjJfVElUTEVcIl0gPSBcImF0YW4yIG9mIFg6JTEgWTolMlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FUQU4yX1RPT0xUSVBcIl0gPSBcIlJldHVybiB0aGUgYXJjdGFuZ2VudCBvZiBwb2ludCAoWCwgWSkgaW4gZGVncmVlcyBmcm9tIC0xODAgdG8gMTgwLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NIQU5HRV9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Qcm9ncmFtbWluZ19pZGlvbSNJbmNyZW1lbnRpbmdfYV9jb3VudGVyXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ0hBTkdFX1RJVExFXCJdID0gXCJjaGFuZ2UgJTEgYnkgJTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DSEFOR0VfVE9PTFRJUFwiXSA9IFwiQWRkIGEgbnVtYmVyIHRvIHZhcmlhYmxlICclMScuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ09OU1RBTlRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWF0aGVtYXRpY2FsX2NvbnN0YW50XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ09OU1RBTlRfVE9PTFRJUFwiXSA9IFwiUmV0dXJuIG9uZSBvZiB0aGUgY29tbW9uIGNvbnN0YW50czogz4AgKDMuMTQx4oCmKSwgZSAoMi43MTjigKYpLCDPhiAoMS42MTjigKYpLCBzcXJ0KDIpICgxLjQxNOKApiksIHNxcnQowr0pICgwLjcwN+KApiksIG9yIOKIniAoaW5maW5pdHkpLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUUkFJTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DbGFtcGluZ18oZ3JhcGhpY3MpXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ09OU1RSQUlOX1RJVExFXCJdID0gXCJjb25zdHJhaW4gJTEgbG93ICUyIGhpZ2ggJTNcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DT05TVFJBSU5fVE9PTFRJUFwiXSA9IFwiQ29uc3RyYWluIGEgbnVtYmVyIHRvIGJlIGJldHdlZW4gdGhlIHNwZWNpZmllZCBsaW1pdHMgKGluY2x1c2l2ZSkuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfRElWSVNJT05fU1lNQk9MXCJdID0gXCLDt1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX0RJVklTSUJMRV9CWVwiXSA9IFwiaXMgZGl2aXNpYmxlIGJ5XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfSVNfRVZFTlwiXSA9IFwiaXMgZXZlblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX05FR0FUSVZFXCJdID0gXCJpcyBuZWdhdGl2ZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX09ERFwiXSA9IFwiaXMgb2RkXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfSVNfUE9TSVRJVkVcIl0gPSBcImlzIHBvc2l0aXZlXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfSVNfUFJJTUVcIl0gPSBcImlzIHByaW1lXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfSVNfVE9PTFRJUFwiXSA9IFwiQ2hlY2sgaWYgYSBudW1iZXIgaXMgYW4gZXZlbiwgb2RkLCBwcmltZSwgd2hvbGUsIHBvc2l0aXZlLCBuZWdhdGl2ZSwgb3IgaWYgaXQgaXMgZGl2aXNpYmxlIGJ5IGNlcnRhaW4gbnVtYmVyLiBSZXR1cm5zIHRydWUgb3IgZmFsc2UuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfSVNfV0hPTEVcIl0gPSBcImlzIHdob2xlXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfTU9EVUxPX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsb19vcGVyYXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9NT0RVTE9fVElUTEVcIl0gPSBcInJlbWFpbmRlciBvZiAlMSDDtyAlMlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX01PRFVMT19UT09MVElQXCJdID0gXCJSZXR1cm4gdGhlIHJlbWFpbmRlciBmcm9tIGRpdmlkaW5nIHRoZSB0d28gbnVtYmVycy5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9NVUxUSVBMSUNBVElPTl9TWU1CT0xcIl0gPSBcIsOXXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfTlVNQkVSX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL051bWJlclwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX05VTUJFUl9UT09MVElQXCJdID0gXCJBIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfSEVMUFVSTFwiXSA9IFwiXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX09QRVJBVE9SX0FWRVJBR0VcIl0gPSBcImF2ZXJhZ2Ugb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9NQVhcIl0gPSBcIm1heCBvZiBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX09QRVJBVE9SX01FRElBTlwiXSA9IFwibWVkaWFuIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfTUlOXCJdID0gXCJtaW4gb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9NT0RFXCJdID0gXCJtb2RlcyBvZiBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX09QRVJBVE9SX1JBTkRPTVwiXSA9IFwicmFuZG9tIGl0ZW0gb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9TVERfREVWXCJdID0gXCJzdGFuZGFyZCBkZXZpYXRpb24gb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9TVU1cIl0gPSBcInN1bSBvZiBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfQVZFUkFHRVwiXSA9IFwiUmV0dXJuIHRoZSBhdmVyYWdlIChhcml0aG1ldGljIG1lYW4pIG9mIHRoZSBudW1lcmljIHZhbHVlcyBpbiB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfVE9PTFRJUF9NQVhcIl0gPSBcIlJldHVybiB0aGUgbGFyZ2VzdCBudW1iZXIgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfTUVESUFOXCJdID0gXCJSZXR1cm4gdGhlIG1lZGlhbiBudW1iZXIgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfTUlOXCJdID0gXCJSZXR1cm4gdGhlIHNtYWxsZXN0IG51bWJlciBpbiB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfVE9PTFRJUF9NT0RFXCJdID0gXCJSZXR1cm4gYSBsaXN0IG9mIHRoZSBtb3N0IGNvbW1vbiBpdGVtKHMpIGluIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX1JBTkRPTVwiXSA9IFwiUmV0dXJuIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfVE9PTFRJUF9TVERfREVWXCJdID0gXCJSZXR1cm4gdGhlIHN0YW5kYXJkIGRldmlhdGlvbiBvZiB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfVE9PTFRJUF9TVU1cIl0gPSBcIlJldHVybiB0aGUgc3VtIG9mIGFsbCB0aGUgbnVtYmVycyBpbiB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9QT1dFUl9TWU1CT0xcIl0gPSBcIl5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9SQU5ET01fRkxPQVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFuZG9tX251bWJlcl9nZW5lcmF0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUkFORE9NX0ZMT0FUX1RJVExFX1JBTkRPTVwiXSA9IFwicmFuZG9tIGZyYWN0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUkFORE9NX0ZMT0FUX1RPT0xUSVBcIl0gPSBcIlJldHVybiBhIHJhbmRvbSBmcmFjdGlvbiBiZXR3ZWVuIDAuMCAoaW5jbHVzaXZlKSBhbmQgMS4wIChleGNsdXNpdmUpLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9JTlRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFuZG9tX251bWJlcl9nZW5lcmF0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUkFORE9NX0lOVF9USVRMRVwiXSA9IFwicmFuZG9tIGludGVnZXIgZnJvbSAlMSB0byAlMlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9JTlRfVE9PTFRJUFwiXSA9IFwiUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiB0aGUgdHdvIHNwZWNpZmllZCBsaW1pdHMsIGluY2x1c2l2ZS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Sb3VuZGluZ1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JPVU5EX09QRVJBVE9SX1JPVU5EXCJdID0gXCJyb3VuZFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JPVU5EX09QRVJBVE9SX1JPVU5ERE9XTlwiXSA9IFwicm91bmQgZG93blwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JPVU5EX09QRVJBVE9SX1JPVU5EVVBcIl0gPSBcInJvdW5kIHVwXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUk9VTkRfVE9PTFRJUFwiXSA9IFwiUm91bmQgYSBudW1iZXIgdXAgb3IgZG93bi5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3F1YXJlX3Jvb3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfT1BfQUJTT0xVVEVcIl0gPSBcImFic29sdXRlXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX09QX1JPT1RcIl0gPSBcInNxdWFyZSByb290XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX1RPT0xUSVBfQUJTXCJdID0gXCJSZXR1cm4gdGhlIGFic29sdXRlIHZhbHVlIG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9UT09MVElQX0VYUFwiXSA9IFwiUmV0dXJuIGUgdG8gdGhlIHBvd2VyIG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9UT09MVElQX0xOXCJdID0gXCJSZXR1cm4gdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9UT09MVElQX0xPRzEwXCJdID0gXCJSZXR1cm4gdGhlIGJhc2UgMTAgbG9nYXJpdGhtIG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9UT09MVElQX05FR1wiXSA9IFwiUmV0dXJuIHRoZSBuZWdhdGlvbiBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9QT1cxMFwiXSA9IFwiUmV0dXJuIDEwIHRvIHRoZSBwb3dlciBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9ST09UXCJdID0gXCJSZXR1cm4gdGhlIHNxdWFyZSByb290IG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NVQlRSQUNUSU9OX1NZTUJPTFwiXSA9IFwiLVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfQUNPU1wiXSA9IFwiYWNvc1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfQVNJTlwiXSA9IFwiYXNpblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfQVRBTlwiXSA9IFwiYXRhblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfQ09TXCJdID0gXCJjb3NcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RyaWdvbm9tZXRyaWNfZnVuY3Rpb25zXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19TSU5cIl0gPSBcInNpblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfVEFOXCJdID0gXCJ0YW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfQUNPU1wiXSA9IFwiUmV0dXJuIHRoZSBhcmNjb3NpbmUgb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX0FTSU5cIl0gPSBcIlJldHVybiB0aGUgYXJjc2luZSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfQVRBTlwiXSA9IFwiUmV0dXJuIHRoZSBhcmN0YW5nZW50IG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfVE9PTFRJUF9DT1NcIl0gPSBcIlJldHVybiB0aGUgY29zaW5lIG9mIGEgZGVncmVlIChub3QgcmFkaWFuKS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfU0lOXCJdID0gXCJSZXR1cm4gdGhlIHNpbmUgb2YgYSBkZWdyZWUgKG5vdCByYWRpYW4pLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfVE9PTFRJUF9UQU5cIl0gPSBcIlJldHVybiB0aGUgdGFuZ2VudCBvZiBhIGRlZ3JlZSAobm90IHJhZGlhbikuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1PVkVfQkxPQ0tcIl0gPSBcIk1vdmUgQmxvY2tcIjtcbkJsb2NrbHkuTXNnW1wiTkVXX0NPTE9VUl9WQVJJQUJMRVwiXSA9IFwiQ3JlYXRlIGNvbG91ciB2YXJpYWJsZS4uLlwiO1xuQmxvY2tseS5Nc2dbXCJORVdfTlVNQkVSX1ZBUklBQkxFXCJdID0gXCJDcmVhdGUgbnVtYmVyIHZhcmlhYmxlLi4uXCI7XG5CbG9ja2x5Lk1zZ1tcIk5FV19TVFJJTkdfVkFSSUFCTEVcIl0gPSBcIkNyZWF0ZSBzdHJpbmcgdmFyaWFibGUuLi5cIjtcbkJsb2NrbHkuTXNnW1wiTkVXX1ZBUklBQkxFXCJdID0gXCJDcmVhdGUgdmFyaWFibGUuLi5cIjtcbkJsb2NrbHkuTXNnW1wiTkVXX1ZBUklBQkxFX1RJVExFXCJdID0gXCJOZXcgdmFyaWFibGUgbmFtZTpcIjtcbkJsb2NrbHkuTXNnW1wiTkVXX1ZBUklBQkxFX1RZUEVfVElUTEVcIl0gPSBcIk5ldyB2YXJpYWJsZSB0eXBlOlwiO1xuQmxvY2tseS5Nc2dbXCJPUFRJT05fS0VZXCJdID0gXCLijKUgT3B0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIk9SRElOQUxfTlVNQkVSX1NVRkZJWFwiXSA9IFwiXCI7XG5CbG9ja2x5Lk1zZ1tcIlBBU1RFX1NIT1JUQ1VUXCJdID0gXCJQYXN0ZVwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0FMTE9XX1NUQVRFTUVOVFNcIl0gPSBcImFsbG93IHN0YXRlbWVudHNcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19CRUZPUkVfUEFSQU1TXCJdID0gXCJ3aXRoOlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NBTExOT1JFVFVSTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdWJyb3V0aW5lXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQ0FMTE5PUkVUVVJOX1RPT0xUSVBcIl0gPSBcIlJ1biB0aGUgdXNlci1kZWZpbmVkIGZ1bmN0aW9uICclMScuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQ0FMTFJFVFVSTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdWJyb3V0aW5lXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQ0FMTFJFVFVSTl9UT09MVElQXCJdID0gXCJSdW4gdGhlIHVzZXItZGVmaW5lZCBmdW5jdGlvbiAnJTEnIGFuZCB1c2UgaXRzIG91dHB1dC5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DQUxMX0JFRk9SRV9QQVJBTVNcIl0gPSBcIndpdGg6XCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQ0FMTF9ESVNBQkxFRF9ERUZfV0FSTklOR1wiXSA9IFwiQ2FuJ3QgcnVuIHRoZSB1c2VyLWRlZmluZWQgZnVuY3Rpb24gJyUxJyBiZWNhdXNlIHRoZSBkZWZpbml0aW9uIGJsb2NrIGlzIGRpc2FibGVkLlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NSRUFURV9ET1wiXSA9IFwiQ3JlYXRlICclMSdcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9DT01NRU5UXCJdID0gXCJEZXNjcmliZSB0aGlzIGZ1bmN0aW9uLi4uXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fRE9cIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1YnJvdXRpbmVcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9QUk9DRURVUkVcIl0gPSBcImRvIHNvbWV0aGluZ1wiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX1RJVExFXCJdID0gXCJ0b1wiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZXMgYSBmdW5jdGlvbiB3aXRoIG5vIG91dHB1dC5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Vicm91dGluZVwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRlJFVFVSTl9SRVRVUk5cIl0gPSBcInJldHVyblwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRlJFVFVSTl9UT09MVElQXCJdID0gXCJDcmVhdGVzIGEgZnVuY3Rpb24gd2l0aCBhbiBvdXRwdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGX0RVUExJQ0FURV9XQVJOSU5HXCJdID0gXCJXYXJuaW5nOiBUaGlzIGZ1bmN0aW9uIGhhcyBkdXBsaWNhdGUgcGFyYW1ldGVycy5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ISUdITElHSFRfREVGXCJdID0gXCJIaWdobGlnaHQgZnVuY3Rpb24gZGVmaW5pdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0lGUkVUVVJOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vYzIuY29tL2NnaS93aWtpP0d1YXJkQ2xhdXNlXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfSUZSRVRVUk5fVE9PTFRJUFwiXSA9IFwiSWYgYSB2YWx1ZSBpcyB0cnVlLCB0aGVuIHJldHVybiBhIHNlY29uZCB2YWx1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19JRlJFVFVSTl9XQVJOSU5HXCJdID0gXCJXYXJuaW5nOiBUaGlzIGJsb2NrIG1heSBiZSB1c2VkIG9ubHkgd2l0aGluIGEgZnVuY3Rpb24gZGVmaW5pdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQVJHX1RJVExFXCJdID0gXCJpbnB1dCBuYW1lOlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX01VVEFUT1JBUkdfVE9PTFRJUFwiXSA9IFwiQWRkIGFuIGlucHV0IHRvIHRoZSBmdW5jdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQ09OVEFJTkVSX1RJVExFXCJdID0gXCJpbnB1dHNcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQ09OVEFJTkVSX1RPT0xUSVBcIl0gPSBcIkFkZCwgcmVtb3ZlLCBvciByZW9yZGVyIGlucHV0cyB0byB0aGlzIGZ1bmN0aW9uLlwiO1xuQmxvY2tseS5Nc2dbXCJSRURPXCJdID0gXCJSZWRvXCI7XG5CbG9ja2x5Lk1zZ1tcIlJFTU9WRV9DT01NRU5UXCJdID0gXCJSZW1vdmUgQ29tbWVudFwiO1xuQmxvY2tseS5Nc2dbXCJSRU5BTUVfVkFSSUFCTEVcIl0gPSBcIlJlbmFtZSB2YXJpYWJsZS4uLlwiO1xuQmxvY2tseS5Nc2dbXCJSRU5BTUVfVkFSSUFCTEVfVElUTEVcIl0gPSBcIlJlbmFtZSBhbGwgJyUxJyB2YXJpYWJsZXMgdG86XCI7XG5CbG9ja2x5Lk1zZ1tcIlNIT1JUQ1VUU19DT0RFX05BVklHQVRJT05cIl0gPSBcIkNvZGUgbmF2aWdhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJTSE9SVENVVFNfRURJVElOR1wiXSA9IFwiRWRpdGluZ1wiO1xuQmxvY2tseS5Nc2dbXCJTSE9SVENVVFNfR0VORVJBTFwiXSA9IFwiR2VuZXJhbFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0FQUEVORF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3RleHQtbW9kaWZpY2F0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQVBQRU5EX1RJVExFXCJdID0gXCJ0byAlMSBhcHBlbmQgdGV4dCAlMlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0FQUEVORF9UT09MVElQXCJdID0gXCJBcHBlbmQgc29tZSB0ZXh0IHRvIHZhcmlhYmxlICclMScuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBTkdFQ0FTRV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2FkanVzdGluZy10ZXh0LWNhc2VcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFOR0VDQVNFX09QRVJBVE9SX0xPV0VSQ0FTRVwiXSA9IFwidG8gbG93ZXIgY2FzZVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQU5HRUNBU0VfT1BFUkFUT1JfVElUTEVDQVNFXCJdID0gXCJ0byBUaXRsZSBDYXNlXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBTkdFQ0FTRV9PUEVSQVRPUl9VUFBFUkNBU0VcIl0gPSBcInRvIFVQUEVSIENBU0VcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFOR0VDQVNFX1RPT0xUSVBcIl0gPSBcIlJldHVybiBhIGNvcHkgb2YgdGhlIHRleHQgaW4gYSBkaWZmZXJlbnQgY2FzZS5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfRklSU1RcIl0gPSBcImdldCBmaXJzdCBsZXR0ZXJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfRlJPTV9FTkRcIl0gPSBcImdldCBsZXR0ZXIgIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9GUk9NX1NUQVJUXCJdID0gXCJnZXQgbGV0dGVyICNcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNleHRyYWN0aW5nLXRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfTEFTVFwiXSA9IFwiZ2V0IGxhc3QgbGV0dGVyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX1JBTkRPTVwiXSA9IFwiZ2V0IHJhbmRvbSBsZXR0ZXJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfVEFJTFwiXSA9IFwiXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX1RJVExFXCJdID0gXCJpbiB0ZXh0ICUxICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdGhlIGxldHRlciBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NPVU5UX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjY291bnRpbmctc3Vic3RyaW5nc1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NPVU5UX01FU1NBR0UwXCJdID0gXCJjb3VudCAlMSBpbiAlMlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NPVU5UX1RPT0xUSVBcIl0gPSBcIkNvdW50IGhvdyBtYW55IHRpbWVzIHNvbWUgdGV4dCBvY2N1cnMgd2l0aGluIHNvbWUgb3RoZXIgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DUkVBVEVfSk9JTl9JVEVNX1RPT0xUSVBcIl0gPSBcIkFkZCBhbiBpdGVtIHRvIHRoZSB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NSRUFURV9KT0lOX1RJVExFX0pPSU5cIl0gPSBcImpvaW5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DUkVBVEVfSk9JTl9UT09MVElQXCJdID0gXCJBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBzZWN0aW9ucyB0byByZWNvbmZpZ3VyZSB0aGlzIHRleHQgYmxvY2suXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19FTkRfRlJPTV9FTkRcIl0gPSBcInRvIGxldHRlciAjIGZyb20gZW5kXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19FTkRfRlJPTV9TVEFSVFwiXSA9IFwidG8gbGV0dGVyICNcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX0VORF9MQVNUXCJdID0gXCJ0byBsYXN0IGxldHRlclwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNleHRyYWN0aW5nLWEtcmVnaW9uLW9mLXRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX0lOUFVUX0lOX1RFWFRcIl0gPSBcImluIHRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX1NUQVJUX0ZJUlNUXCJdID0gXCJnZXQgc3Vic3RyaW5nIGZyb20gZmlyc3QgbGV0dGVyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GUk9NX0VORFwiXSA9IFwiZ2V0IHN1YnN0cmluZyBmcm9tIGxldHRlciAjIGZyb20gZW5kXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GUk9NX1NUQVJUXCJdID0gXCJnZXQgc3Vic3RyaW5nIGZyb20gbGV0dGVyICNcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX1RBSUxcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyBhIHNwZWNpZmllZCBwb3J0aW9uIG9mIHRoZSB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lOREVYT0ZfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNmaW5kaW5nLXRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JTkRFWE9GX09QRVJBVE9SX0ZJUlNUXCJdID0gXCJmaW5kIGZpcnN0IG9jY3VycmVuY2Ugb2YgdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lOREVYT0ZfT1BFUkFUT1JfTEFTVFwiXSA9IFwiZmluZCBsYXN0IG9jY3VycmVuY2Ugb2YgdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lOREVYT0ZfVElUTEVcIl0gPSBcImluIHRleHQgJTEgJTIgJTNcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JTkRFWE9GX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdC9sYXN0IG9jY3VycmVuY2Ugb2YgdGhlIGZpcnN0IHRleHQgaW4gdGhlIHNlY29uZCB0ZXh0LiBSZXR1cm5zICUxIGlmIHRleHQgaXMgbm90IGZvdW5kLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lTRU1QVFlfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNjaGVja2luZy1mb3ItZW1wdHktdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lTRU1QVFlfVElUTEVcIl0gPSBcIiUxIGlzIGVtcHR5XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSVNFTVBUWV9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIHRleHQgaXMgZW1wdHkuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSk9JTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3RleHQtY3JlYXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9KT0lOX1RJVExFX0NSRUFURVdJVEhcIl0gPSBcImNyZWF0ZSB0ZXh0IHdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9KT0lOX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZSBhIHBpZWNlIG9mIHRleHQgYnkgam9pbmluZyB0b2dldGhlciBhbnkgbnVtYmVyIG9mIGl0ZW1zLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0xFTkdUSF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3RleHQtbW9kaWZpY2F0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfTEVOR1RIX1RJVExFXCJdID0gXCJsZW5ndGggb2YgJTFcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9MRU5HVEhfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgbnVtYmVyIG9mIGxldHRlcnMgKGluY2x1ZGluZyBzcGFjZXMpIGluIHRoZSBwcm92aWRlZCB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BSSU5UX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjcHJpbnRpbmctdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BSSU5UX1RJVExFXCJdID0gXCJwcmludCAlMVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BSSU5UX1RPT0xUSVBcIl0gPSBcIlByaW50IHRoZSBzcGVjaWZpZWQgdGV4dCwgbnVtYmVyIG9yIG90aGVyIHZhbHVlLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BST01QVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2dldHRpbmctaW5wdXQtZnJvbS10aGUtdXNlclwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BST01QVF9UT09MVElQX05VTUJFUlwiXSA9IFwiUHJvbXB0IGZvciB1c2VyIGZvciBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUk9NUFRfVE9PTFRJUF9URVhUXCJdID0gXCJQcm9tcHQgZm9yIHVzZXIgZm9yIHNvbWUgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9QUk9NUFRfVFlQRV9OVU1CRVJcIl0gPSBcInByb21wdCBmb3IgbnVtYmVyIHdpdGggbWVzc2FnZVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BST01QVF9UWVBFX1RFWFRcIl0gPSBcInByb21wdCBmb3IgdGV4dCB3aXRoIG1lc3NhZ2VcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9SRVBMQUNFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjcmVwbGFjaW5nLXN1YnN0cmluZ3NcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9SRVBMQUNFX01FU1NBR0UwXCJdID0gXCJyZXBsYWNlICUxIHdpdGggJTIgaW4gJTNcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9SRVBMQUNFX1RPT0xUSVBcIl0gPSBcIlJlcGxhY2UgYWxsIG9jY3VyYW5jZXMgb2Ygc29tZSB0ZXh0IHdpdGhpbiBzb21lIG90aGVyIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUkVWRVJTRV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I3JldmVyc2luZy10ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUkVWRVJTRV9NRVNTQUdFMFwiXSA9IFwicmV2ZXJzZSAlMVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1JFVkVSU0VfVE9PTFRJUFwiXSA9IFwiUmV2ZXJzZXMgdGhlIG9yZGVyIG9mIHRoZSBjaGFyYWN0ZXJzIGluIHRoZSB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RFWFRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3RyaW5nXyhjb21wdXRlcl9zY2llbmNlKVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RFWFRfVE9PTFRJUFwiXSA9IFwiQSBsZXR0ZXIsIHdvcmQsIG9yIGxpbmUgb2YgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9UUklNX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjdHJpbW1pbmctcmVtb3Zpbmctc3BhY2VzXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVFJJTV9PUEVSQVRPUl9CT1RIXCJdID0gXCJ0cmltIHNwYWNlcyBmcm9tIGJvdGggc2lkZXMgb2ZcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9UUklNX09QRVJBVE9SX0xFRlRcIl0gPSBcInRyaW0gc3BhY2VzIGZyb20gbGVmdCBzaWRlIG9mXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVFJJTV9PUEVSQVRPUl9SSUdIVFwiXSA9IFwidHJpbSBzcGFjZXMgZnJvbSByaWdodCBzaWRlIG9mXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVFJJTV9UT09MVElQXCJdID0gXCJSZXR1cm4gYSBjb3B5IG9mIHRoZSB0ZXh0IHdpdGggc3BhY2VzIHJlbW92ZWQgZnJvbSBvbmUgb3IgYm90aCBlbmRzLlwiO1xuQmxvY2tseS5Nc2dbXCJUT0RBWVwiXSA9IFwiVG9kYXlcIjtcbkJsb2NrbHkuTXNnW1wiVU5ET1wiXSA9IFwiVW5kb1wiO1xuQmxvY2tseS5Nc2dbXCJVTktOT1dOXCJdID0gXCJVbmtub3duXCI7XG5CbG9ja2x5Lk1zZ1tcIlVOTkFNRURfS0VZXCJdID0gXCJ1bm5hbWVkXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19ERUZBVUxUX05BTUVcIl0gPSBcIml0ZW1cIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0dFVF9DUkVBVEVfU0VUXCJdID0gXCJDcmVhdGUgJ3NldCAlMSdcIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0dFVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9WYXJpYWJsZXMjZ2V0XCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19HRVRfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhpcyB2YXJpYWJsZS5cIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX1NFVFwiXSA9IFwic2V0ICUxIHRvICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19TRVRfQ1JFQVRFX0dFVFwiXSA9IFwiQ3JlYXRlICdnZXQgJTEnXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19TRVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVmFyaWFibGVzI3NldFwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfU0VUX1RPT0xUSVBcIl0gPSBcIlNldHMgdGhpcyB2YXJpYWJsZSB0byBiZSBlcXVhbCB0byB0aGUgaW5wdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTXCJdID0gXCJBIHZhcmlhYmxlIG5hbWVkICclMScgYWxyZWFkeSBleGlzdHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTX0ZPUl9BTk9USEVSX1RZUEVcIl0gPSBcIkEgdmFyaWFibGUgbmFtZWQgJyUxJyBhbHJlYWR5IGV4aXN0cyBmb3IgYW5vdGhlciB0eXBlOiAnJTInLlwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRV9BTFJFQURZX0VYSVNUU19GT1JfQV9QQVJBTUVURVJcIl0gPSBcIkEgdmFyaWFibGUgbmFtZWQgJyUxJyBhbHJlYWR5IGV4aXN0cyBhcyBhIHBhcmFtZXRlciBpbiB0aGUgcHJvY2VkdXJlICclMicuXCI7XG5CbG9ja2x5Lk1zZ1tcIldJTkRPV1NcIl0gPSBcIldpbmRvd3NcIjtcbkJsb2NrbHkuTXNnW1wiV09SS1NQQUNFX0FSSUFfTEFCRUxcIl0gPSBcIkJsb2NrbHkgV29ya3NwYWNlXCI7XG5CbG9ja2x5Lk1zZ1tcIldPUktTUEFDRV9DT01NRU5UX0RFRkFVTFRfVEVYVFwiXSA9IFwiU2F5IHNvbWV0aGluZy4uLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JFQUNIX0lOUFVUX0RPXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfSU5QVVRfRE9cIl07XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUl9JTlBVVF9ET1wiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPXCJdO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9FTFNFSUZfVElUTEVfRUxTRUlGXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfRUxTRUlGXCJdO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9FTFNFX1RJVExFX0VMU0VcIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19FTFNFXCJdO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9JRl9USVRMRV9JRlwiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX0lGXCJdO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfVEhFTlwiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPXCJdO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19XSElMRVVOVElMX0lOUFVUX0RPXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfSU5QVVRfRE9cIl07XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0lURU1fVElUTEVcIl0gPSBCbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19ERUZBVUxUX05BTUVcIl07XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9IRUxQVVJMXCJdID0gQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9PRl9IRUxQVVJMXCJdO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfSU5QVVRfSU5fTElTVFwiXSA9IEJsb2NrbHkuTXNnW1wiTElTVFNfSU5MSVNUXCJdO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9JTlBVVF9JTl9MSVNUXCJdID0gQmxvY2tseS5Nc2dbXCJMSVNUU19JTkxJU1RcIl07XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOREVYX09GX0lOUFVUX0lOX0xJU1RcIl0gPSBCbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOTElTVFwiXTtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX0lOUFVUX0lOX0xJU1RcIl0gPSBCbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOTElTVFwiXTtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DSEFOR0VfVElUTEVfSVRFTVwiXSA9IEJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0RFRkFVTFRfTkFNRVwiXTtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fQ09NTUVOVFwiXSA9IEJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9DT01NRU5UXCJdO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRlJFVFVSTl9ET1wiXSA9IEJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9ET1wiXTtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fUFJPQ0VEVVJFXCJdID0gQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX1BST0NFRFVSRVwiXTtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fVElUTEVcIl0gPSBCbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fVElUTEVcIl07XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQVBQRU5EX1ZBUklBQkxFXCJdID0gQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfREVGQVVMVF9OQU1FXCJdO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NSRUFURV9KT0lOX0lURU1fVElUTEVfSVRFTVwiXSA9IEJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0RFRkFVTFRfTkFNRVwiXTtcblxuQmxvY2tseS5Nc2dbXCJNQVRIX0hVRVwiXSA9IFwiMjMwXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPT1BTX0hVRVwiXSA9IFwiMTIwXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0hVRVwiXSA9IFwiMjYwXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0hVRVwiXSA9IFwiMjEwXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19IVUVcIl0gPSBcIjMzMFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUU19IVUVcIl0gPSBcIjE2MFwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0hVRVwiXSA9IFwiMjkwXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9IVUVcIl0gPSBcIjIwXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19EWU5BTUlDX0hVRVwiXSA9IFwiMzEwXCI7XG5yZXR1cm4gQmxvY2tseS5Nc2c7XG59KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/blockly/msg/en.js\n");

/***/ }),

/***/ "./node_modules/blockly/blockly.mjs":
/*!******************************************!*\
  !*** ./node_modules/blockly/blockly.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Block: () => (/* binding */ Block),\n/* harmony export */   BlockFlyoutInflater: () => (/* binding */ BlockFlyoutInflater),\n/* harmony export */   BlockNavigationPolicy: () => (/* binding */ BlockNavigationPolicy),\n/* harmony export */   BlockSvg: () => (/* binding */ BlockSvg),\n/* harmony export */   Blocks: () => (/* binding */ Blocks),\n/* harmony export */   ButtonFlyoutInflater: () => (/* binding */ ButtonFlyoutInflater),\n/* harmony export */   COLLAPSED_FIELD_NAME: () => (/* binding */ COLLAPSED_FIELD_NAME),\n/* harmony export */   COLLAPSED_INPUT_NAME: () => (/* binding */ COLLAPSED_INPUT_NAME),\n/* harmony export */   COLLAPSE_CHARS: () => (/* binding */ COLLAPSE_CHARS),\n/* harmony export */   CodeGenerator: () => (/* binding */ CodeGenerator),\n/* harmony export */   CollapsibleToolboxCategory: () => (/* binding */ CollapsibleToolboxCategory),\n/* harmony export */   ComponentManager: () => (/* binding */ ComponentManager),\n/* harmony export */   Connection: () => (/* binding */ Connection),\n/* harmony export */   ConnectionChecker: () => (/* binding */ ConnectionChecker),\n/* harmony export */   ConnectionDB: () => (/* binding */ ConnectionDB),\n/* harmony export */   ConnectionNavigationPolicy: () => (/* binding */ ConnectionNavigationPolicy),\n/* harmony export */   ConnectionType: () => (/* binding */ ConnectionType),\n/* harmony export */   ContextMenu: () => (/* binding */ ContextMenu),\n/* harmony export */   ContextMenuItems: () => (/* binding */ ContextMenuItems),\n/* harmony export */   ContextMenuRegistry: () => (/* binding */ ContextMenuRegistry),\n/* harmony export */   Css: () => (/* binding */ Css),\n/* harmony export */   DELETE_VARIABLE_ID: () => (/* binding */ DELETE_VARIABLE_ID),\n/* harmony export */   DeleteArea: () => (/* binding */ DeleteArea),\n/* harmony export */   DragTarget: () => (/* binding */ DragTarget),\n/* harmony export */   DropDownDiv: () => (/* binding */ DropDownDiv),\n/* harmony export */   Events: () => (/* binding */ Events),\n/* harmony export */   Extensions: () => (/* binding */ Extensions),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FieldCheckbox: () => (/* binding */ FieldCheckbox),\n/* harmony export */   FieldDropdown: () => (/* binding */ FieldDropdown),\n/* harmony export */   FieldImage: () => (/* binding */ FieldImage),\n/* harmony export */   FieldLabel: () => (/* binding */ FieldLabel),\n/* harmony export */   FieldLabelSerializable: () => (/* binding */ FieldLabelSerializable),\n/* harmony export */   FieldNavigationPolicy: () => (/* binding */ FieldNavigationPolicy),\n/* harmony export */   FieldNumber: () => (/* binding */ FieldNumber),\n/* harmony export */   FieldTextInput: () => (/* binding */ FieldTextInput),\n/* harmony export */   FieldVariable: () => (/* binding */ FieldVariable),\n/* harmony export */   Flyout: () => (/* binding */ Flyout),\n/* harmony export */   FlyoutButton: () => (/* binding */ FlyoutButton),\n/* harmony export */   FlyoutButtonNavigationPolicy: () => (/* binding */ FlyoutButtonNavigationPolicy),\n/* harmony export */   FlyoutItem: () => (/* binding */ FlyoutItem),\n/* harmony export */   FlyoutMetricsManager: () => (/* binding */ FlyoutMetricsManager),\n/* harmony export */   FlyoutNavigationPolicy: () => (/* binding */ FlyoutNavigationPolicy),\n/* harmony export */   FlyoutNavigator: () => (/* binding */ FlyoutNavigator),\n/* harmony export */   FlyoutSeparator: () => (/* binding */ FlyoutSeparator),\n/* harmony export */   FlyoutSeparatorNavigationPolicy: () => (/* binding */ FlyoutSeparatorNavigationPolicy),\n/* harmony export */   FocusManager: () => (/* binding */ FocusManager),\n/* harmony export */   FocusableTreeTraverser: () => (/* binding */ FocusableTreeTraverser),\n/* harmony export */   Generator: () => (/* binding */ Generator),\n/* harmony export */   Gesture: () => (/* binding */ Gesture),\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   HorizontalFlyout: () => (/* binding */ HorizontalFlyout),\n/* harmony export */   INPUT_VALUE: () => (/* binding */ INPUT_VALUE),\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   InsertionMarkerPreviewer: () => (/* binding */ InsertionMarkerPreviewer),\n/* harmony export */   KeyboardNavigationController: () => (/* binding */ KeyboardNavigationController),\n/* harmony export */   LabelFlyoutInflater: () => (/* binding */ LabelFlyoutInflater),\n/* harmony export */   LineCursor: () => (/* binding */ LineCursor),\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   MarkerManager: () => (/* binding */ MarkerManager),\n/* harmony export */   Menu: () => (/* binding */ Menu),\n/* harmony export */   MenuItem: () => (/* binding */ MenuItem),\n/* harmony export */   MetricsManager: () => (/* binding */ MetricsManager),\n/* harmony export */   Msg: () => (/* binding */ Msg),\n/* harmony export */   NEXT_STATEMENT: () => (/* binding */ NEXT_STATEMENT),\n/* harmony export */   Names: () => (/* binding */ Names),\n/* harmony export */   Navigator: () => (/* binding */ Navigator),\n/* harmony export */   OPPOSITE_TYPE: () => (/* binding */ OPPOSITE_TYPE),\n/* harmony export */   OUTPUT_VALUE: () => (/* binding */ OUTPUT_VALUE),\n/* harmony export */   Options: () => (/* binding */ Options),\n/* harmony export */   PREVIOUS_STATEMENT: () => (/* binding */ PREVIOUS_STATEMENT),\n/* harmony export */   PROCEDURE_CATEGORY_NAME: () => (/* binding */ PROCEDURE_CATEGORY_NAME),\n/* harmony export */   Procedures: () => (/* binding */ Procedures),\n/* harmony export */   RENAME_VARIABLE_ID: () => (/* binding */ RENAME_VARIABLE_ID),\n/* harmony export */   RenderedConnection: () => (/* binding */ RenderedConnection),\n/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar),\n/* harmony export */   ScrollbarPair: () => (/* binding */ ScrollbarPair),\n/* harmony export */   SeparatorFlyoutInflater: () => (/* binding */ SeparatorFlyoutInflater),\n/* harmony export */   ShortcutItems: () => (/* binding */ ShortcutItems),\n/* harmony export */   ShortcutRegistry: () => (/* binding */ ShortcutRegistry),\n/* harmony export */   TOOLBOX_AT_BOTTOM: () => (/* binding */ TOOLBOX_AT_BOTTOM),\n/* harmony export */   TOOLBOX_AT_LEFT: () => (/* binding */ TOOLBOX_AT_LEFT),\n/* harmony export */   TOOLBOX_AT_RIGHT: () => (/* binding */ TOOLBOX_AT_RIGHT),\n/* harmony export */   TOOLBOX_AT_TOP: () => (/* binding */ TOOLBOX_AT_TOP),\n/* harmony export */   Theme: () => (/* binding */ Theme),\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager),\n/* harmony export */   Themes: () => (/* binding */ Themes),\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   Toolbox: () => (/* binding */ Toolbox),\n/* harmony export */   ToolboxCategory: () => (/* binding */ ToolboxCategory),\n/* harmony export */   ToolboxItem: () => (/* binding */ ToolboxItem),\n/* harmony export */   ToolboxSeparator: () => (/* binding */ ToolboxSeparator),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   Touch: () => (/* binding */ Touch),\n/* harmony export */   Trashcan: () => (/* binding */ Trashcan),\n/* harmony export */   UnattachedFieldError: () => (/* binding */ UnattachedFieldError),\n/* harmony export */   VARIABLE_CATEGORY_NAME: () => (/* binding */ VARIABLE_CATEGORY_NAME),\n/* harmony export */   VARIABLE_DYNAMIC_CATEGORY_NAME: () => (/* binding */ VARIABLE_DYNAMIC_CATEGORY_NAME),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   VariableMap: () => (/* binding */ VariableMap),\n/* harmony export */   VariableModel: () => (/* binding */ VariableModel),\n/* harmony export */   Variables: () => (/* binding */ Variables),\n/* harmony export */   VariablesDynamic: () => (/* binding */ VariablesDynamic),\n/* harmony export */   VerticalFlyout: () => (/* binding */ VerticalFlyout),\n/* harmony export */   WidgetDiv: () => (/* binding */ WidgetDiv),\n/* harmony export */   Workspace: () => (/* binding */ Workspace),\n/* harmony export */   WorkspaceAudio: () => (/* binding */ WorkspaceAudio),\n/* harmony export */   WorkspaceDragger: () => (/* binding */ WorkspaceDragger),\n/* harmony export */   WorkspaceNavigationPolicy: () => (/* binding */ WorkspaceNavigationPolicy),\n/* harmony export */   WorkspaceSvg: () => (/* binding */ WorkspaceSvg),\n/* harmony export */   Xml: () => (/* binding */ Xml),\n/* harmony export */   ZoomControls: () => (/* binding */ ZoomControls),\n/* harmony export */   blockAnimations: () => (/* binding */ blockAnimations),\n/* harmony export */   blockRendering: () => (/* binding */ blockRendering),\n/* harmony export */   browserEvents: () => (/* binding */ browserEvents),\n/* harmony export */   bubbles: () => (/* binding */ bubbles),\n/* harmony export */   bumpObjects: () => (/* binding */ bumpObjects),\n/* harmony export */   clipboard: () => (/* binding */ clipboard),\n/* harmony export */   comments: () => (/* binding */ comments),\n/* harmony export */   common: () => (/* binding */ common),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   constants: () => (/* binding */ constants),\n/* harmony export */   defineBlocksWithJsonArray: () => (/* binding */ defineBlocksWithJsonArray),\n/* harmony export */   dialog: () => (/* binding */ dialog),\n/* harmony export */   dragging: () => (/* binding */ dragging),\n/* harmony export */   fieldRegistry: () => (/* binding */ fieldRegistry),\n/* harmony export */   geras: () => (/* binding */ geras),\n/* harmony export */   getFocusManager: () => (/* binding */ getFocusManager),\n/* harmony export */   getMainWorkspace: () => (/* binding */ getMainWorkspace),\n/* harmony export */   getSelected: () => (/* binding */ getSelected),\n/* harmony export */   hasBubble: () => (/* binding */ hasBubble),\n/* harmony export */   hideChaff: () => (/* binding */ hideChaff),\n/* harmony export */   icons: () => (/* binding */ icons),\n/* harmony export */   inject: () => (/* binding */ inject),\n/* harmony export */   inputs: () => (/* binding */ inputs),\n/* harmony export */   isCopyable: () => (/* binding */ isCopyable),\n/* harmony export */   isDeletable: () => (/* binding */ isDeletable),\n/* harmony export */   isDraggable: () => (/* binding */ isDraggable),\n/* harmony export */   isIcon: () => (/* binding */ isIcon),\n/* harmony export */   isObservable: () => (/* binding */ isObservable),\n/* harmony export */   isPaster: () => (/* binding */ isPaster),\n/* harmony export */   isRenderedElement: () => (/* binding */ isRenderedElement),\n/* harmony export */   isSelectable: () => (/* binding */ isSelectable),\n/* harmony export */   isSerializable: () => (/* binding */ isSerializable),\n/* harmony export */   isVariableBackedParameterModel: () => (/* binding */ isVariableBackedParameterModel),\n/* harmony export */   keyboardNavigationController: () => (/* binding */ keyboardNavigationController),\n/* harmony export */   layers: () => (/* binding */ layers),\n/* harmony export */   navigateBlock: () => (/* binding */ navigateBlock),\n/* harmony export */   navigateStacks: () => (/* binding */ navigateStacks),\n/* harmony export */   procedures: () => (/* binding */ procedures),\n/* harmony export */   registry: () => (/* binding */ registry),\n/* harmony export */   renderManagement: () => (/* binding */ renderManagement),\n/* harmony export */   serialization: () => (/* binding */ serialization),\n/* harmony export */   setLocale: () => (/* binding */ setLocale),\n/* harmony export */   setParentContainer: () => (/* binding */ setParentContainer),\n/* harmony export */   svgResize: () => (/* binding */ svgResize),\n/* harmony export */   thrasos: () => (/* binding */ thrasos),\n/* harmony export */   uiPosition: () => (/* binding */ uiPosition),\n/* harmony export */   utils: () => (/* binding */ utils),\n/* harmony export */   zelos: () => (/* binding */ zelos)\n/* harmony export */ });\n/* harmony import */ var _blockly_compressed_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blockly_compressed.js */ \"./node_modules/blockly/blockly_compressed.js\");\n\nconst {\n  Block,\n  BlockFlyoutInflater,\n  BlockNavigationPolicy,\n  BlockSvg,\n  Blocks,\n  ButtonFlyoutInflater,\n  COLLAPSED_FIELD_NAME,\n  COLLAPSED_INPUT_NAME,\n  COLLAPSE_CHARS,\n  CodeGenerator,\n  CollapsibleToolboxCategory,\n  ComponentManager,\n  Connection,\n  ConnectionChecker,\n  ConnectionDB,\n  ConnectionNavigationPolicy,\n  ConnectionType,\n  ContextMenu,\n  ContextMenuItems,\n  ContextMenuRegistry,\n  Css,\n  DELETE_VARIABLE_ID,\n  DeleteArea,\n  DragTarget,\n  DropDownDiv,\n  Events,\n  Extensions,\n  Field,\n  FieldCheckbox,\n  FieldDropdown,\n  FieldImage,\n  FieldLabel,\n  FieldLabelSerializable,\n  FieldNavigationPolicy,\n  FieldNumber,\n  FieldTextInput,\n  FieldVariable,\n  Flyout,\n  FlyoutButton,\n  FlyoutButtonNavigationPolicy,\n  FlyoutItem,\n  FlyoutMetricsManager,\n  FlyoutNavigationPolicy,\n  FlyoutNavigator,\n  FlyoutSeparator,\n  FlyoutSeparatorNavigationPolicy,\n  FocusManager,\n  FocusableTreeTraverser,\n  Generator,\n  Gesture,\n  Grid,\n  HorizontalFlyout,\n  INPUT_VALUE,\n  Input,\n  InsertionMarkerPreviewer,\n  KeyboardNavigationController,\n  LabelFlyoutInflater,\n  LineCursor,\n  Marker,\n  MarkerManager,\n  Menu,\n  MenuItem,\n  MetricsManager,\n  Msg,\n  NEXT_STATEMENT,\n  Names,\n  Navigator,\n  OPPOSITE_TYPE,\n  OUTPUT_VALUE,\n  Options,\n  PREVIOUS_STATEMENT,\n  PROCEDURE_CATEGORY_NAME,\n  Procedures,\n  RENAME_VARIABLE_ID,\n  RenderedConnection,\n  Scrollbar,\n  ScrollbarPair,\n  SeparatorFlyoutInflater,\n  ShortcutItems,\n  ShortcutRegistry,\n  TOOLBOX_AT_BOTTOM,\n  TOOLBOX_AT_LEFT,\n  TOOLBOX_AT_RIGHT,\n  TOOLBOX_AT_TOP,\n  Theme,\n  ThemeManager,\n  Themes,\n  Toast,\n  Toolbox,\n  ToolboxCategory,\n  ToolboxItem,\n  ToolboxSeparator,\n  Tooltip,\n  Touch,\n  Trashcan,\n  UnattachedFieldError,\n  VARIABLE_CATEGORY_NAME,\n  VARIABLE_DYNAMIC_CATEGORY_NAME,\n  VERSION,\n  VariableMap,\n  VariableModel,\n  Variables,\n  VariablesDynamic,\n  VerticalFlyout,\n  WidgetDiv,\n  Workspace,\n  WorkspaceAudio,\n  WorkspaceDragger,\n  WorkspaceNavigationPolicy,\n  WorkspaceSvg,\n  Xml,\n  ZoomControls,\n  blockAnimations,\n  blockRendering,\n  browserEvents,\n  bubbles,\n  bumpObjects,\n  clipboard,\n  comments,\n  common,\n  config,\n  constants,\n  defineBlocksWithJsonArray,\n  dialog,\n  dragging,\n  fieldRegistry,\n  geras,\n  getFocusManager,\n  getMainWorkspace,\n  getSelected,\n  hasBubble,\n  hideChaff,\n  icons,\n  inject,\n  inputs,\n  isCopyable,\n  isDeletable,\n  isDraggable,\n  isIcon,\n  isObservable,\n  isPaster,\n  isRenderedElement,\n  isSelectable,\n  isSerializable,\n  isVariableBackedParameterModel,\n  keyboardNavigationController,\n  layers,\n  navigateBlock,\n  navigateStacks,\n  procedures,\n  registry,\n  renderManagement,\n  serialization,\n  setLocale,\n  setParentContainer,\n  svgResize,\n  thrasos,\n  uiPosition,\n  utils,\n  zelos,\n} = _blockly_compressed_js__WEBPACK_IMPORTED_MODULE_0__;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9ibG9ja2x5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4QztBQUN2QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1EQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL25vZGVfbW9kdWxlcy9ibG9ja2x5L2Jsb2NrbHkubWpzPzlmZTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJsb2NrbHkgZnJvbSAnLi9ibG9ja2x5X2NvbXByZXNzZWQuanMnO1xuZXhwb3J0IGNvbnN0IHtcbiAgQmxvY2ssXG4gIEJsb2NrRmx5b3V0SW5mbGF0ZXIsXG4gIEJsb2NrTmF2aWdhdGlvblBvbGljeSxcbiAgQmxvY2tTdmcsXG4gIEJsb2NrcyxcbiAgQnV0dG9uRmx5b3V0SW5mbGF0ZXIsXG4gIENPTExBUFNFRF9GSUVMRF9OQU1FLFxuICBDT0xMQVBTRURfSU5QVVRfTkFNRSxcbiAgQ09MTEFQU0VfQ0hBUlMsXG4gIENvZGVHZW5lcmF0b3IsXG4gIENvbGxhcHNpYmxlVG9vbGJveENhdGVnb3J5LFxuICBDb21wb25lbnRNYW5hZ2VyLFxuICBDb25uZWN0aW9uLFxuICBDb25uZWN0aW9uQ2hlY2tlcixcbiAgQ29ubmVjdGlvbkRCLFxuICBDb25uZWN0aW9uTmF2aWdhdGlvblBvbGljeSxcbiAgQ29ubmVjdGlvblR5cGUsXG4gIENvbnRleHRNZW51LFxuICBDb250ZXh0TWVudUl0ZW1zLFxuICBDb250ZXh0TWVudVJlZ2lzdHJ5LFxuICBDc3MsXG4gIERFTEVURV9WQVJJQUJMRV9JRCxcbiAgRGVsZXRlQXJlYSxcbiAgRHJhZ1RhcmdldCxcbiAgRHJvcERvd25EaXYsXG4gIEV2ZW50cyxcbiAgRXh0ZW5zaW9ucyxcbiAgRmllbGQsXG4gIEZpZWxkQ2hlY2tib3gsXG4gIEZpZWxkRHJvcGRvd24sXG4gIEZpZWxkSW1hZ2UsXG4gIEZpZWxkTGFiZWwsXG4gIEZpZWxkTGFiZWxTZXJpYWxpemFibGUsXG4gIEZpZWxkTmF2aWdhdGlvblBvbGljeSxcbiAgRmllbGROdW1iZXIsXG4gIEZpZWxkVGV4dElucHV0LFxuICBGaWVsZFZhcmlhYmxlLFxuICBGbHlvdXQsXG4gIEZseW91dEJ1dHRvbixcbiAgRmx5b3V0QnV0dG9uTmF2aWdhdGlvblBvbGljeSxcbiAgRmx5b3V0SXRlbSxcbiAgRmx5b3V0TWV0cmljc01hbmFnZXIsXG4gIEZseW91dE5hdmlnYXRpb25Qb2xpY3ksXG4gIEZseW91dE5hdmlnYXRvcixcbiAgRmx5b3V0U2VwYXJhdG9yLFxuICBGbHlvdXRTZXBhcmF0b3JOYXZpZ2F0aW9uUG9saWN5LFxuICBGb2N1c01hbmFnZXIsXG4gIEZvY3VzYWJsZVRyZWVUcmF2ZXJzZXIsXG4gIEdlbmVyYXRvcixcbiAgR2VzdHVyZSxcbiAgR3JpZCxcbiAgSG9yaXpvbnRhbEZseW91dCxcbiAgSU5QVVRfVkFMVUUsXG4gIElucHV0LFxuICBJbnNlcnRpb25NYXJrZXJQcmV2aWV3ZXIsXG4gIEtleWJvYXJkTmF2aWdhdGlvbkNvbnRyb2xsZXIsXG4gIExhYmVsRmx5b3V0SW5mbGF0ZXIsXG4gIExpbmVDdXJzb3IsXG4gIE1hcmtlcixcbiAgTWFya2VyTWFuYWdlcixcbiAgTWVudSxcbiAgTWVudUl0ZW0sXG4gIE1ldHJpY3NNYW5hZ2VyLFxuICBNc2csXG4gIE5FWFRfU1RBVEVNRU5ULFxuICBOYW1lcyxcbiAgTmF2aWdhdG9yLFxuICBPUFBPU0lURV9UWVBFLFxuICBPVVRQVVRfVkFMVUUsXG4gIE9wdGlvbnMsXG4gIFBSRVZJT1VTX1NUQVRFTUVOVCxcbiAgUFJPQ0VEVVJFX0NBVEVHT1JZX05BTUUsXG4gIFByb2NlZHVyZXMsXG4gIFJFTkFNRV9WQVJJQUJMRV9JRCxcbiAgUmVuZGVyZWRDb25uZWN0aW9uLFxuICBTY3JvbGxiYXIsXG4gIFNjcm9sbGJhclBhaXIsXG4gIFNlcGFyYXRvckZseW91dEluZmxhdGVyLFxuICBTaG9ydGN1dEl0ZW1zLFxuICBTaG9ydGN1dFJlZ2lzdHJ5LFxuICBUT09MQk9YX0FUX0JPVFRPTSxcbiAgVE9PTEJPWF9BVF9MRUZULFxuICBUT09MQk9YX0FUX1JJR0hULFxuICBUT09MQk9YX0FUX1RPUCxcbiAgVGhlbWUsXG4gIFRoZW1lTWFuYWdlcixcbiAgVGhlbWVzLFxuICBUb2FzdCxcbiAgVG9vbGJveCxcbiAgVG9vbGJveENhdGVnb3J5LFxuICBUb29sYm94SXRlbSxcbiAgVG9vbGJveFNlcGFyYXRvcixcbiAgVG9vbHRpcCxcbiAgVG91Y2gsXG4gIFRyYXNoY2FuLFxuICBVbmF0dGFjaGVkRmllbGRFcnJvcixcbiAgVkFSSUFCTEVfQ0FURUdPUllfTkFNRSxcbiAgVkFSSUFCTEVfRFlOQU1JQ19DQVRFR09SWV9OQU1FLFxuICBWRVJTSU9OLFxuICBWYXJpYWJsZU1hcCxcbiAgVmFyaWFibGVNb2RlbCxcbiAgVmFyaWFibGVzLFxuICBWYXJpYWJsZXNEeW5hbWljLFxuICBWZXJ0aWNhbEZseW91dCxcbiAgV2lkZ2V0RGl2LFxuICBXb3Jrc3BhY2UsXG4gIFdvcmtzcGFjZUF1ZGlvLFxuICBXb3Jrc3BhY2VEcmFnZ2VyLFxuICBXb3Jrc3BhY2VOYXZpZ2F0aW9uUG9saWN5LFxuICBXb3Jrc3BhY2VTdmcsXG4gIFhtbCxcbiAgWm9vbUNvbnRyb2xzLFxuICBibG9ja0FuaW1hdGlvbnMsXG4gIGJsb2NrUmVuZGVyaW5nLFxuICBicm93c2VyRXZlbnRzLFxuICBidWJibGVzLFxuICBidW1wT2JqZWN0cyxcbiAgY2xpcGJvYXJkLFxuICBjb21tZW50cyxcbiAgY29tbW9uLFxuICBjb25maWcsXG4gIGNvbnN0YW50cyxcbiAgZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSxcbiAgZGlhbG9nLFxuICBkcmFnZ2luZyxcbiAgZmllbGRSZWdpc3RyeSxcbiAgZ2VyYXMsXG4gIGdldEZvY3VzTWFuYWdlcixcbiAgZ2V0TWFpbldvcmtzcGFjZSxcbiAgZ2V0U2VsZWN0ZWQsXG4gIGhhc0J1YmJsZSxcbiAgaGlkZUNoYWZmLFxuICBpY29ucyxcbiAgaW5qZWN0LFxuICBpbnB1dHMsXG4gIGlzQ29weWFibGUsXG4gIGlzRGVsZXRhYmxlLFxuICBpc0RyYWdnYWJsZSxcbiAgaXNJY29uLFxuICBpc09ic2VydmFibGUsXG4gIGlzUGFzdGVyLFxuICBpc1JlbmRlcmVkRWxlbWVudCxcbiAgaXNTZWxlY3RhYmxlLFxuICBpc1NlcmlhbGl6YWJsZSxcbiAgaXNWYXJpYWJsZUJhY2tlZFBhcmFtZXRlck1vZGVsLFxuICBrZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLFxuICBsYXllcnMsXG4gIG5hdmlnYXRlQmxvY2ssXG4gIG5hdmlnYXRlU3RhY2tzLFxuICBwcm9jZWR1cmVzLFxuICByZWdpc3RyeSxcbiAgcmVuZGVyTWFuYWdlbWVudCxcbiAgc2VyaWFsaXphdGlvbixcbiAgc2V0TG9jYWxlLFxuICBzZXRQYXJlbnRDb250YWluZXIsXG4gIHN2Z1Jlc2l6ZSxcbiAgdGhyYXNvcyxcbiAgdWlQb3NpdGlvbixcbiAgdXRpbHMsXG4gIHplbG9zLFxufSA9IEJsb2NrbHk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/blockly/blockly.mjs\n");

/***/ }),

/***/ "./node_modules/blockly/index.mjs":
/*!****************************************!*\
  !*** ./node_modules/blockly/index.mjs ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Block: () => (/* binding */ Block),\n/* harmony export */   BlockFlyoutInflater: () => (/* binding */ BlockFlyoutInflater),\n/* harmony export */   BlockNavigationPolicy: () => (/* binding */ BlockNavigationPolicy),\n/* harmony export */   BlockSvg: () => (/* binding */ BlockSvg),\n/* harmony export */   Blocks: () => (/* binding */ Blocks),\n/* harmony export */   ButtonFlyoutInflater: () => (/* binding */ ButtonFlyoutInflater),\n/* harmony export */   COLLAPSED_FIELD_NAME: () => (/* binding */ COLLAPSED_FIELD_NAME),\n/* harmony export */   COLLAPSED_INPUT_NAME: () => (/* binding */ COLLAPSED_INPUT_NAME),\n/* harmony export */   COLLAPSE_CHARS: () => (/* binding */ COLLAPSE_CHARS),\n/* harmony export */   CodeGenerator: () => (/* binding */ CodeGenerator),\n/* harmony export */   CollapsibleToolboxCategory: () => (/* binding */ CollapsibleToolboxCategory),\n/* harmony export */   ComponentManager: () => (/* binding */ ComponentManager),\n/* harmony export */   Connection: () => (/* binding */ Connection),\n/* harmony export */   ConnectionChecker: () => (/* binding */ ConnectionChecker),\n/* harmony export */   ConnectionDB: () => (/* binding */ ConnectionDB),\n/* harmony export */   ConnectionNavigationPolicy: () => (/* binding */ ConnectionNavigationPolicy),\n/* harmony export */   ConnectionType: () => (/* binding */ ConnectionType),\n/* harmony export */   ContextMenu: () => (/* binding */ ContextMenu),\n/* harmony export */   ContextMenuItems: () => (/* binding */ ContextMenuItems),\n/* harmony export */   ContextMenuRegistry: () => (/* binding */ ContextMenuRegistry),\n/* harmony export */   Css: () => (/* binding */ Css),\n/* harmony export */   DELETE_VARIABLE_ID: () => (/* binding */ DELETE_VARIABLE_ID),\n/* harmony export */   DeleteArea: () => (/* binding */ DeleteArea),\n/* harmony export */   DragTarget: () => (/* binding */ DragTarget),\n/* harmony export */   DropDownDiv: () => (/* binding */ DropDownDiv),\n/* harmony export */   Events: () => (/* binding */ Events),\n/* harmony export */   Extensions: () => (/* binding */ Extensions),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FieldCheckbox: () => (/* binding */ FieldCheckbox),\n/* harmony export */   FieldDropdown: () => (/* binding */ FieldDropdown),\n/* harmony export */   FieldImage: () => (/* binding */ FieldImage),\n/* harmony export */   FieldLabel: () => (/* binding */ FieldLabel),\n/* harmony export */   FieldLabelSerializable: () => (/* binding */ FieldLabelSerializable),\n/* harmony export */   FieldNavigationPolicy: () => (/* binding */ FieldNavigationPolicy),\n/* harmony export */   FieldNumber: () => (/* binding */ FieldNumber),\n/* harmony export */   FieldTextInput: () => (/* binding */ FieldTextInput),\n/* harmony export */   FieldVariable: () => (/* binding */ FieldVariable),\n/* harmony export */   Flyout: () => (/* binding */ Flyout),\n/* harmony export */   FlyoutButton: () => (/* binding */ FlyoutButton),\n/* harmony export */   FlyoutButtonNavigationPolicy: () => (/* binding */ FlyoutButtonNavigationPolicy),\n/* harmony export */   FlyoutItem: () => (/* binding */ FlyoutItem),\n/* harmony export */   FlyoutMetricsManager: () => (/* binding */ FlyoutMetricsManager),\n/* harmony export */   FlyoutNavigationPolicy: () => (/* binding */ FlyoutNavigationPolicy),\n/* harmony export */   FlyoutNavigator: () => (/* binding */ FlyoutNavigator),\n/* harmony export */   FlyoutSeparator: () => (/* binding */ FlyoutSeparator),\n/* harmony export */   FlyoutSeparatorNavigationPolicy: () => (/* binding */ FlyoutSeparatorNavigationPolicy),\n/* harmony export */   FocusManager: () => (/* binding */ FocusManager),\n/* harmony export */   FocusableTreeTraverser: () => (/* binding */ FocusableTreeTraverser),\n/* harmony export */   Generator: () => (/* binding */ Generator),\n/* harmony export */   Gesture: () => (/* binding */ Gesture),\n/* harmony export */   Grid: () => (/* binding */ Grid),\n/* harmony export */   HorizontalFlyout: () => (/* binding */ HorizontalFlyout),\n/* harmony export */   INPUT_VALUE: () => (/* binding */ INPUT_VALUE),\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   InsertionMarkerPreviewer: () => (/* binding */ InsertionMarkerPreviewer),\n/* harmony export */   KeyboardNavigationController: () => (/* binding */ KeyboardNavigationController),\n/* harmony export */   LabelFlyoutInflater: () => (/* binding */ LabelFlyoutInflater),\n/* harmony export */   LineCursor: () => (/* binding */ LineCursor),\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   MarkerManager: () => (/* binding */ MarkerManager),\n/* harmony export */   Menu: () => (/* binding */ Menu),\n/* harmony export */   MenuItem: () => (/* binding */ MenuItem),\n/* harmony export */   MetricsManager: () => (/* binding */ MetricsManager),\n/* harmony export */   Msg: () => (/* binding */ Msg),\n/* harmony export */   NEXT_STATEMENT: () => (/* binding */ NEXT_STATEMENT),\n/* harmony export */   Names: () => (/* binding */ Names),\n/* harmony export */   Navigator: () => (/* binding */ Navigator),\n/* harmony export */   OPPOSITE_TYPE: () => (/* binding */ OPPOSITE_TYPE),\n/* harmony export */   OUTPUT_VALUE: () => (/* binding */ OUTPUT_VALUE),\n/* harmony export */   Options: () => (/* binding */ Options),\n/* harmony export */   PREVIOUS_STATEMENT: () => (/* binding */ PREVIOUS_STATEMENT),\n/* harmony export */   PROCEDURE_CATEGORY_NAME: () => (/* binding */ PROCEDURE_CATEGORY_NAME),\n/* harmony export */   Procedures: () => (/* binding */ Procedures),\n/* harmony export */   RENAME_VARIABLE_ID: () => (/* binding */ RENAME_VARIABLE_ID),\n/* harmony export */   RenderedConnection: () => (/* binding */ RenderedConnection),\n/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar),\n/* harmony export */   ScrollbarPair: () => (/* binding */ ScrollbarPair),\n/* harmony export */   SeparatorFlyoutInflater: () => (/* binding */ SeparatorFlyoutInflater),\n/* harmony export */   ShortcutItems: () => (/* binding */ ShortcutItems),\n/* harmony export */   ShortcutRegistry: () => (/* binding */ ShortcutRegistry),\n/* harmony export */   TOOLBOX_AT_BOTTOM: () => (/* binding */ TOOLBOX_AT_BOTTOM),\n/* harmony export */   TOOLBOX_AT_LEFT: () => (/* binding */ TOOLBOX_AT_LEFT),\n/* harmony export */   TOOLBOX_AT_RIGHT: () => (/* binding */ TOOLBOX_AT_RIGHT),\n/* harmony export */   TOOLBOX_AT_TOP: () => (/* binding */ TOOLBOX_AT_TOP),\n/* harmony export */   Theme: () => (/* binding */ Theme),\n/* harmony export */   ThemeManager: () => (/* binding */ ThemeManager),\n/* harmony export */   Themes: () => (/* binding */ Themes),\n/* harmony export */   Toast: () => (/* binding */ Toast),\n/* harmony export */   Toolbox: () => (/* binding */ Toolbox),\n/* harmony export */   ToolboxCategory: () => (/* binding */ ToolboxCategory),\n/* harmony export */   ToolboxItem: () => (/* binding */ ToolboxItem),\n/* harmony export */   ToolboxSeparator: () => (/* binding */ ToolboxSeparator),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   Touch: () => (/* binding */ Touch),\n/* harmony export */   Trashcan: () => (/* binding */ Trashcan),\n/* harmony export */   UnattachedFieldError: () => (/* binding */ UnattachedFieldError),\n/* harmony export */   VARIABLE_CATEGORY_NAME: () => (/* binding */ VARIABLE_CATEGORY_NAME),\n/* harmony export */   VARIABLE_DYNAMIC_CATEGORY_NAME: () => (/* binding */ VARIABLE_DYNAMIC_CATEGORY_NAME),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   VariableMap: () => (/* binding */ VariableMap),\n/* harmony export */   VariableModel: () => (/* binding */ VariableModel),\n/* harmony export */   Variables: () => (/* binding */ Variables),\n/* harmony export */   VariablesDynamic: () => (/* binding */ VariablesDynamic),\n/* harmony export */   VerticalFlyout: () => (/* binding */ VerticalFlyout),\n/* harmony export */   WidgetDiv: () => (/* binding */ WidgetDiv),\n/* harmony export */   Workspace: () => (/* binding */ Workspace),\n/* harmony export */   WorkspaceAudio: () => (/* binding */ WorkspaceAudio),\n/* harmony export */   WorkspaceDragger: () => (/* binding */ WorkspaceDragger),\n/* harmony export */   WorkspaceNavigationPolicy: () => (/* binding */ WorkspaceNavigationPolicy),\n/* harmony export */   WorkspaceSvg: () => (/* binding */ WorkspaceSvg),\n/* harmony export */   Xml: () => (/* binding */ Xml),\n/* harmony export */   ZoomControls: () => (/* binding */ ZoomControls),\n/* harmony export */   blockAnimations: () => (/* binding */ blockAnimations),\n/* harmony export */   blockRendering: () => (/* binding */ blockRendering),\n/* harmony export */   browserEvents: () => (/* binding */ browserEvents),\n/* harmony export */   bubbles: () => (/* binding */ bubbles),\n/* harmony export */   bumpObjects: () => (/* binding */ bumpObjects),\n/* harmony export */   clipboard: () => (/* binding */ clipboard),\n/* harmony export */   comments: () => (/* binding */ comments),\n/* harmony export */   common: () => (/* binding */ common),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   constants: () => (/* binding */ constants),\n/* harmony export */   defineBlocksWithJsonArray: () => (/* binding */ defineBlocksWithJsonArray),\n/* harmony export */   dialog: () => (/* binding */ dialog),\n/* harmony export */   dragging: () => (/* binding */ dragging),\n/* harmony export */   fieldRegistry: () => (/* binding */ fieldRegistry),\n/* harmony export */   geras: () => (/* binding */ geras),\n/* harmony export */   getFocusManager: () => (/* binding */ getFocusManager),\n/* harmony export */   getMainWorkspace: () => (/* binding */ getMainWorkspace),\n/* harmony export */   getSelected: () => (/* binding */ getSelected),\n/* harmony export */   hasBubble: () => (/* binding */ hasBubble),\n/* harmony export */   hideChaff: () => (/* binding */ hideChaff),\n/* harmony export */   icons: () => (/* binding */ icons),\n/* harmony export */   inject: () => (/* binding */ inject),\n/* harmony export */   inputs: () => (/* binding */ inputs),\n/* harmony export */   isCopyable: () => (/* binding */ isCopyable),\n/* harmony export */   isDeletable: () => (/* binding */ isDeletable),\n/* harmony export */   isDraggable: () => (/* binding */ isDraggable),\n/* harmony export */   isIcon: () => (/* binding */ isIcon),\n/* harmony export */   isObservable: () => (/* binding */ isObservable),\n/* harmony export */   isPaster: () => (/* binding */ isPaster),\n/* harmony export */   isRenderedElement: () => (/* binding */ isRenderedElement),\n/* harmony export */   isSelectable: () => (/* binding */ isSelectable),\n/* harmony export */   isSerializable: () => (/* binding */ isSerializable),\n/* harmony export */   isVariableBackedParameterModel: () => (/* binding */ isVariableBackedParameterModel),\n/* harmony export */   keyboardNavigationController: () => (/* binding */ keyboardNavigationController),\n/* harmony export */   layers: () => (/* binding */ layers),\n/* harmony export */   navigateBlock: () => (/* binding */ navigateBlock),\n/* harmony export */   navigateStacks: () => (/* binding */ navigateStacks),\n/* harmony export */   procedures: () => (/* binding */ procedures),\n/* harmony export */   registry: () => (/* binding */ registry),\n/* harmony export */   renderManagement: () => (/* binding */ renderManagement),\n/* harmony export */   serialization: () => (/* binding */ serialization),\n/* harmony export */   setLocale: () => (/* binding */ setLocale),\n/* harmony export */   setParentContainer: () => (/* binding */ setParentContainer),\n/* harmony export */   svgResize: () => (/* binding */ svgResize),\n/* harmony export */   thrasos: () => (/* binding */ thrasos),\n/* harmony export */   uiPosition: () => (/* binding */ uiPosition),\n/* harmony export */   utils: () => (/* binding */ utils),\n/* harmony export */   zelos: () => (/* binding */ zelos)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ \"./node_modules/blockly/index.js\");\n\nconst {\n  Block,\n  BlockFlyoutInflater,\n  BlockNavigationPolicy,\n  BlockSvg,\n  Blocks,\n  ButtonFlyoutInflater,\n  COLLAPSED_FIELD_NAME,\n  COLLAPSED_INPUT_NAME,\n  COLLAPSE_CHARS,\n  CodeGenerator,\n  CollapsibleToolboxCategory,\n  ComponentManager,\n  Connection,\n  ConnectionChecker,\n  ConnectionDB,\n  ConnectionNavigationPolicy,\n  ConnectionType,\n  ContextMenu,\n  ContextMenuItems,\n  ContextMenuRegistry,\n  Css,\n  DELETE_VARIABLE_ID,\n  DeleteArea,\n  DragTarget,\n  DropDownDiv,\n  Events,\n  Extensions,\n  Field,\n  FieldCheckbox,\n  FieldDropdown,\n  FieldImage,\n  FieldLabel,\n  FieldLabelSerializable,\n  FieldNavigationPolicy,\n  FieldNumber,\n  FieldTextInput,\n  FieldVariable,\n  Flyout,\n  FlyoutButton,\n  FlyoutButtonNavigationPolicy,\n  FlyoutItem,\n  FlyoutMetricsManager,\n  FlyoutNavigationPolicy,\n  FlyoutNavigator,\n  FlyoutSeparator,\n  FlyoutSeparatorNavigationPolicy,\n  FocusManager,\n  FocusableTreeTraverser,\n  Generator,\n  Gesture,\n  Grid,\n  HorizontalFlyout,\n  INPUT_VALUE,\n  Input,\n  InsertionMarkerPreviewer,\n  KeyboardNavigationController,\n  LabelFlyoutInflater,\n  LineCursor,\n  Marker,\n  MarkerManager,\n  Menu,\n  MenuItem,\n  MetricsManager,\n  Msg,\n  NEXT_STATEMENT,\n  Names,\n  Navigator,\n  OPPOSITE_TYPE,\n  OUTPUT_VALUE,\n  Options,\n  PREVIOUS_STATEMENT,\n  PROCEDURE_CATEGORY_NAME,\n  Procedures,\n  RENAME_VARIABLE_ID,\n  RenderedConnection,\n  Scrollbar,\n  ScrollbarPair,\n  SeparatorFlyoutInflater,\n  ShortcutItems,\n  ShortcutRegistry,\n  TOOLBOX_AT_BOTTOM,\n  TOOLBOX_AT_LEFT,\n  TOOLBOX_AT_RIGHT,\n  TOOLBOX_AT_TOP,\n  Theme,\n  ThemeManager,\n  Themes,\n  Toast,\n  Toolbox,\n  ToolboxCategory,\n  ToolboxItem,\n  ToolboxSeparator,\n  Tooltip,\n  Touch,\n  Trashcan,\n  UnattachedFieldError,\n  VARIABLE_CATEGORY_NAME,\n  VARIABLE_DYNAMIC_CATEGORY_NAME,\n  VERSION,\n  VariableMap,\n  VariableModel,\n  Variables,\n  VariablesDynamic,\n  VerticalFlyout,\n  WidgetDiv,\n  Workspace,\n  WorkspaceAudio,\n  WorkspaceDragger,\n  WorkspaceNavigationPolicy,\n  WorkspaceSvg,\n  Xml,\n  ZoomControls,\n  blockAnimations,\n  blockRendering,\n  browserEvents,\n  bubbles,\n  bumpObjects,\n  clipboard,\n  comments,\n  common,\n  config,\n  constants,\n  defineBlocksWithJsonArray,\n  dialog,\n  dragging,\n  fieldRegistry,\n  geras,\n  getFocusManager,\n  getMainWorkspace,\n  getSelected,\n  hasBubble,\n  hideChaff,\n  icons,\n  inject,\n  inputs,\n  isCopyable,\n  isDeletable,\n  isDraggable,\n  isIcon,\n  isObservable,\n  isPaster,\n  isRenderedElement,\n  isSelectable,\n  isSerializable,\n  isVariableBackedParameterModel,\n  keyboardNavigationController,\n  layers,\n  navigateBlock,\n  navigateStacks,\n  procedures,\n  registry,\n  renderManagement,\n  serialization,\n  setLocale,\n  setParentContainer,\n  svgResize,\n  thrasos,\n  uiPosition,\n  utils,\n  zelos,\n} = _index_js__WEBPACK_IMPORTED_MODULE_0__;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDMUI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxzQ0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL0BibG9ja2x5L2tleWJvYXJkLW5hdmlnYXRpb24vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9pbmRleC5tanM/YTczNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmxvY2tseSBmcm9tICcuL2luZGV4LmpzJztcbmV4cG9ydCBjb25zdCB7XG4gIEJsb2NrLFxuICBCbG9ja0ZseW91dEluZmxhdGVyLFxuICBCbG9ja05hdmlnYXRpb25Qb2xpY3ksXG4gIEJsb2NrU3ZnLFxuICBCbG9ja3MsXG4gIEJ1dHRvbkZseW91dEluZmxhdGVyLFxuICBDT0xMQVBTRURfRklFTERfTkFNRSxcbiAgQ09MTEFQU0VEX0lOUFVUX05BTUUsXG4gIENPTExBUFNFX0NIQVJTLFxuICBDb2RlR2VuZXJhdG9yLFxuICBDb2xsYXBzaWJsZVRvb2xib3hDYXRlZ29yeSxcbiAgQ29tcG9uZW50TWFuYWdlcixcbiAgQ29ubmVjdGlvbixcbiAgQ29ubmVjdGlvbkNoZWNrZXIsXG4gIENvbm5lY3Rpb25EQixcbiAgQ29ubmVjdGlvbk5hdmlnYXRpb25Qb2xpY3ksXG4gIENvbm5lY3Rpb25UeXBlLFxuICBDb250ZXh0TWVudSxcbiAgQ29udGV4dE1lbnVJdGVtcyxcbiAgQ29udGV4dE1lbnVSZWdpc3RyeSxcbiAgQ3NzLFxuICBERUxFVEVfVkFSSUFCTEVfSUQsXG4gIERlbGV0ZUFyZWEsXG4gIERyYWdUYXJnZXQsXG4gIERyb3BEb3duRGl2LFxuICBFdmVudHMsXG4gIEV4dGVuc2lvbnMsXG4gIEZpZWxkLFxuICBGaWVsZENoZWNrYm94LFxuICBGaWVsZERyb3Bkb3duLFxuICBGaWVsZEltYWdlLFxuICBGaWVsZExhYmVsLFxuICBGaWVsZExhYmVsU2VyaWFsaXphYmxlLFxuICBGaWVsZE5hdmlnYXRpb25Qb2xpY3ksXG4gIEZpZWxkTnVtYmVyLFxuICBGaWVsZFRleHRJbnB1dCxcbiAgRmllbGRWYXJpYWJsZSxcbiAgRmx5b3V0LFxuICBGbHlvdXRCdXR0b24sXG4gIEZseW91dEJ1dHRvbk5hdmlnYXRpb25Qb2xpY3ksXG4gIEZseW91dEl0ZW0sXG4gIEZseW91dE1ldHJpY3NNYW5hZ2VyLFxuICBGbHlvdXROYXZpZ2F0aW9uUG9saWN5LFxuICBGbHlvdXROYXZpZ2F0b3IsXG4gIEZseW91dFNlcGFyYXRvcixcbiAgRmx5b3V0U2VwYXJhdG9yTmF2aWdhdGlvblBvbGljeSxcbiAgRm9jdXNNYW5hZ2VyLFxuICBGb2N1c2FibGVUcmVlVHJhdmVyc2VyLFxuICBHZW5lcmF0b3IsXG4gIEdlc3R1cmUsXG4gIEdyaWQsXG4gIEhvcml6b250YWxGbHlvdXQsXG4gIElOUFVUX1ZBTFVFLFxuICBJbnB1dCxcbiAgSW5zZXJ0aW9uTWFya2VyUHJldmlld2VyLFxuICBLZXlib2FyZE5hdmlnYXRpb25Db250cm9sbGVyLFxuICBMYWJlbEZseW91dEluZmxhdGVyLFxuICBMaW5lQ3Vyc29yLFxuICBNYXJrZXIsXG4gIE1hcmtlck1hbmFnZXIsXG4gIE1lbnUsXG4gIE1lbnVJdGVtLFxuICBNZXRyaWNzTWFuYWdlcixcbiAgTXNnLFxuICBORVhUX1NUQVRFTUVOVCxcbiAgTmFtZXMsXG4gIE5hdmlnYXRvcixcbiAgT1BQT1NJVEVfVFlQRSxcbiAgT1VUUFVUX1ZBTFVFLFxuICBPcHRpb25zLFxuICBQUkVWSU9VU19TVEFURU1FTlQsXG4gIFBST0NFRFVSRV9DQVRFR09SWV9OQU1FLFxuICBQcm9jZWR1cmVzLFxuICBSRU5BTUVfVkFSSUFCTEVfSUQsXG4gIFJlbmRlcmVkQ29ubmVjdGlvbixcbiAgU2Nyb2xsYmFyLFxuICBTY3JvbGxiYXJQYWlyLFxuICBTZXBhcmF0b3JGbHlvdXRJbmZsYXRlcixcbiAgU2hvcnRjdXRJdGVtcyxcbiAgU2hvcnRjdXRSZWdpc3RyeSxcbiAgVE9PTEJPWF9BVF9CT1RUT00sXG4gIFRPT0xCT1hfQVRfTEVGVCxcbiAgVE9PTEJPWF9BVF9SSUdIVCxcbiAgVE9PTEJPWF9BVF9UT1AsXG4gIFRoZW1lLFxuICBUaGVtZU1hbmFnZXIsXG4gIFRoZW1lcyxcbiAgVG9hc3QsXG4gIFRvb2xib3gsXG4gIFRvb2xib3hDYXRlZ29yeSxcbiAgVG9vbGJveEl0ZW0sXG4gIFRvb2xib3hTZXBhcmF0b3IsXG4gIFRvb2x0aXAsXG4gIFRvdWNoLFxuICBUcmFzaGNhbixcbiAgVW5hdHRhY2hlZEZpZWxkRXJyb3IsXG4gIFZBUklBQkxFX0NBVEVHT1JZX05BTUUsXG4gIFZBUklBQkxFX0RZTkFNSUNfQ0FURUdPUllfTkFNRSxcbiAgVkVSU0lPTixcbiAgVmFyaWFibGVNYXAsXG4gIFZhcmlhYmxlTW9kZWwsXG4gIFZhcmlhYmxlcyxcbiAgVmFyaWFibGVzRHluYW1pYyxcbiAgVmVydGljYWxGbHlvdXQsXG4gIFdpZGdldERpdixcbiAgV29ya3NwYWNlLFxuICBXb3Jrc3BhY2VBdWRpbyxcbiAgV29ya3NwYWNlRHJhZ2dlcixcbiAgV29ya3NwYWNlTmF2aWdhdGlvblBvbGljeSxcbiAgV29ya3NwYWNlU3ZnLFxuICBYbWwsXG4gIFpvb21Db250cm9scyxcbiAgYmxvY2tBbmltYXRpb25zLFxuICBibG9ja1JlbmRlcmluZyxcbiAgYnJvd3NlckV2ZW50cyxcbiAgYnViYmxlcyxcbiAgYnVtcE9iamVjdHMsXG4gIGNsaXBib2FyZCxcbiAgY29tbWVudHMsXG4gIGNvbW1vbixcbiAgY29uZmlnLFxuICBjb25zdGFudHMsXG4gIGRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXksXG4gIGRpYWxvZyxcbiAgZHJhZ2dpbmcsXG4gIGZpZWxkUmVnaXN0cnksXG4gIGdlcmFzLFxuICBnZXRGb2N1c01hbmFnZXIsXG4gIGdldE1haW5Xb3Jrc3BhY2UsXG4gIGdldFNlbGVjdGVkLFxuICBoYXNCdWJibGUsXG4gIGhpZGVDaGFmZixcbiAgaWNvbnMsXG4gIGluamVjdCxcbiAgaW5wdXRzLFxuICBpc0NvcHlhYmxlLFxuICBpc0RlbGV0YWJsZSxcbiAgaXNEcmFnZ2FibGUsXG4gIGlzSWNvbixcbiAgaXNPYnNlcnZhYmxlLFxuICBpc1Bhc3RlcixcbiAgaXNSZW5kZXJlZEVsZW1lbnQsXG4gIGlzU2VsZWN0YWJsZSxcbiAgaXNTZXJpYWxpemFibGUsXG4gIGlzVmFyaWFibGVCYWNrZWRQYXJhbWV0ZXJNb2RlbCxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uQ29udHJvbGxlcixcbiAgbGF5ZXJzLFxuICBuYXZpZ2F0ZUJsb2NrLFxuICBuYXZpZ2F0ZVN0YWNrcyxcbiAgcHJvY2VkdXJlcyxcbiAgcmVnaXN0cnksXG4gIHJlbmRlck1hbmFnZW1lbnQsXG4gIHNlcmlhbGl6YXRpb24sXG4gIHNldExvY2FsZSxcbiAgc2V0UGFyZW50Q29udGFpbmVyLFxuICBzdmdSZXNpemUsXG4gIHRocmFzb3MsXG4gIHVpUG9zaXRpb24sXG4gIHV0aWxzLFxuICB6ZWxvcyxcbn0gPSBCbG9ja2x5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/blockly/index.mjs\n");

/***/ }),

/***/ "./node_modules/blockly/javascript.mjs":
/*!*********************************************!*\
  !*** ./node_modules/blockly/javascript.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JavascriptGenerator: () => (/* binding */ JavascriptGenerator),\n/* harmony export */   Order: () => (/* binding */ Order),\n/* harmony export */   javascriptGenerator: () => (/* binding */ javascriptGenerator)\n/* harmony export */ });\n/* harmony import */ var _javascript_compressed_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./javascript_compressed.js */ \"./node_modules/blockly/javascript_compressed.js\");\n\nconst {\n  JavascriptGenerator,\n  Order,\n  javascriptGenerator,\n} = _javascript_compressed_js__WEBPACK_IMPORTED_MODULE_0__;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmxvY2tseS9qYXZhc2NyaXB0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9EO0FBQzdDO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLHNEQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJsb2NrbHkva2V5Ym9hcmQtbmF2aWdhdGlvbi8uL25vZGVfbW9kdWxlcy9ibG9ja2x5L2phdmFzY3JpcHQubWpzP2FmZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGphdmFzY3JpcHQgZnJvbSAnLi9qYXZhc2NyaXB0X2NvbXByZXNzZWQuanMnO1xuZXhwb3J0IGNvbnN0IHtcbiAgSmF2YXNjcmlwdEdlbmVyYXRvcixcbiAgT3JkZXIsXG4gIGphdmFzY3JpcHRHZW5lcmF0b3IsXG59ID0gamF2YXNjcmlwdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/blockly/javascript.mjs\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./test/maze-game/index.ts");
/******/ 	
/******/ })()
;