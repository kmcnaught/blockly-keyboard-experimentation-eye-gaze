<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Maze</title>
    <link rel="stylesheet" href="maze.css">
  </head>
  <body>
    <header>
      <h1>Maze</h1>
      <div class="header-selectors">
        <div class="selector-group">
          <button id="pegmanButton"><img src="assets/pegman.png"><span>▼</span></button>
        </div>
        <div class="selector-group">
          <select id="languageSelect">
            <option value="en">English</option>
            <option value="fr">Français</option>
          </select>
        </div>
      </div>
    </header>

    <div id="instructionBar">
      <div class="instruction-content">
        <span id="levelInstruction"></span>
        <span id="contextualHint"></span>
      </div>
      <div class="shortcut-hints">
        <span><kbd>R</kbd> run</span>
        <span><kbd>H</kbd> toggle</span>
        <span><kbd>[</kbd><kbd>]</kbd> levels</span>
        <span><kbd>F</kbd> fullscreen</span>
        <span><kbd>G</kbd> panel</span>
        <span><kbd>?</kbd> help</span>
      </div>
    </div>

    <div class="container">
      <div class="blockly-container">
        <div id="blocklyDiv"></div>
      </div>

      <button id="sidebarToggle" class="sidebar-toggle" aria-label="Toggle maze panel">
        <span class="toggle-icon">›</span>
      </button>

      <div class="game-container">
        <div class="level-selector">
          <button id="prevLevel">&lt;</button>
          <span id="levelDisplay">Level 1</span>
          <button id="nextLevel">&gt;</button>
        </div>

        <div class="canvas-wrapper">
          <canvas id="mazeCanvas"></canvas>
        </div>

        <div class="game-controls">
          <button id="runButton">Run Program</button>
          <button id="resetButton">Reset</button>
          <div id="capacityBubble" class="hidden"></div>
        </div>
      </div>
    </div>

    <div id="pegmanMenu"></div>
    <div id="hintDialog"><button class="close-btn">&times;</button><span id="hintText"></span></div>

    <!-- Christmas Snow Effect Container -->
    <div id="snowContainer"></div>

    <!-- Fullscreen Overlay -->
    <div id="fullscreenOverlay" aria-modal="true" role="dialog" aria-label="Fullscreen maze view">
      <button class="fullscreen-close" aria-label="Close fullscreen">&times;</button>
      <div class="fullscreen-maze-wrapper">
        <button class="fullscreen-level-nav fullscreen-prev" aria-label="Previous level">&lt;</button>
        <div class="fullscreen-canvas-container"></div>
        <button class="fullscreen-level-nav fullscreen-next" aria-label="Next level">&gt;</button>
      </div>
      <div class="fullscreen-controls">
        <button class="fullscreen-run">Run Program</button>
        <button class="fullscreen-reset">Reset</button>
      </div>
      <div class="fullscreen-hint">Press <kbd>Esc</kbd> or <kbd>F</kbd> to exit fullscreen</div>
    </div>

    <script src="bundle.js"></script>
  </body>
</html>
