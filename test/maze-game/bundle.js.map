{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;AAAA;;;;GAIG;AAEwE;AACjC;AAI1C,MAAM,QAAQ,GAAG,0CAAY,CAAC,QAAQ,CAAC;AACvC,MAAM,mBAAmB,GAAG,qDAAgB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAC5E,qDAAgB,CAAC,QAAQ,CAC1B,CAAC;AAEF;;GAEG;AACI,MAAM,UAAU;IAMrB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAL1C;;WAEG;QACK,iBAAY,GAAG,sDAAwB,CAAC,IAAI,CAAC;IAER,CAAC;IAE9C;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED;;OAEG;IACH,SAAS;QACP,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACK,gBAAgB;QACtB,MAAM,YAAY,GAAsC;YACtD,IAAI,EAAE,sDAAwB,CAAC,IAAI;YACnC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE;gBAC5B,OAAO,CACL,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;oBAC/C,CAAC,SAAS,CAAC,UAAU,EAAE,CACxB,CAAC;YACJ,CAAC;YACD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;gBACtB,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACnC,KAAK,6CAAe,CAAC,SAAS,CAAC;oBAC/B,KAAK,6CAAe,CAAC,MAAM;wBACzB,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;oBACxC;wBACE,OAAO,KAAK,CAAC;gBACjB,CAAC;YACH,CAAC;YACD,QAAQ,EAAE;gBACR,mBAAmB,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACpD,mBAAmB,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACnD,mBAAmB,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACrD;SACF,CAAC;QACF,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACnD,CAAC;IAED;;;;;;;;;;;;OAYG;IACK,cAAc,CAAC,SAAuB;QAC5C,uFAAuF;QACvF,MAAM,aAAa,GAAG,IAAI,aAAa,CAAC,SAAS,CAAC,CAAC;QAEnD,MAAM,IAAI,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,EAAE,CAAC;QAChD,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QACxB,yFAAyF;QACzF,IACE,iBAAiB,IAAI,IAAI;YACzB,OAAO,IAAI,CAAC,eAAe,KAAK,UAAU,EAC1C,CAAC;YACD,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;QACtC,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,IAAI,CAAC,2BAA2B,IAAI,EAAE,CAAC,CAAC;YAChD,OAAO,KAAK,CAAC;QACf,CAAC;QAED,UAAU,CAAC,GAAG,EAAE;;YACd,0DAAS,CAAC,MAAM,EAAE,0CACd,aAAa,CAAC,cAAc,CAAC,0CAC7B,aAAa,CACb,IAAI,aAAa,CAAC,SAAS,EAAE;gBAC3B,GAAG,EAAE,WAAW;gBAChB,IAAI,EAAE,WAAW;gBACjB,OAAO,EAAE,QAAQ,CAAC,IAAI;gBACtB,KAAK,EAAE,QAAQ,CAAC,IAAI;gBACpB,OAAO,EAAE,IAAI;gBACb,UAAU,EAAE,IAAI;aACjB,CAAC,CACH,CAAC;QACN,CAAC,EAAE,EAAE,CAAC,CAAC;QACP,OAAO,IAAI,CAAC;IACd,CAAC;CACF;;;;;;;;;;;;;;;;;;ACrHD;;;;GAIG;AAOmB;AAIkB;AACE;AAG1C,MAAM,QAAQ,GAAG,+CAAY,CAAC,QAAQ,CAAC;AAEvC;;GAEG;AACI,MAAM,eAAe;IAC1B,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAE9C;;;;;;;;OAQG;IACH,oBAAoB,CAClB,SAAuB,EACvB,QAA2C;QAE3C,MAAM,OAAO,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,EAAE,CAAC;QACnD,IAAI,OAAO,YAAY,+CAAK,EAAE,CAAC;YAC7B,OAAO,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;OAEG;IACH,OAAO;QACL,MAAM,UAAU,GAAG,CACjB,SAAuB,EACvB,CAAQ,EACR,QAA2C,EAClC,EAAE;;YACX,MAAM,OAAO,GAAG,SAAS,CAAC,UAAU,EAAa,CAAC;YAClD,MAAM,MAAM,GAAG,SAAS,CAAC,QAAQ;gBAC/B,CAAC,CAAC,eAAS,CAAC,eAAe,0CAAE,SAAS,EAAE;gBACxC,CAAC,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;YAC1B,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACnC,KAAK,6CAAe,CAAC,SAAS;oBAC5B,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;oBAC3D,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE,CAAC;wBAC5B,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,sCAAsC,CAAC,SAAS,CAAC,EAClE,CAAC;4BACD,SAAS,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC7B,CAAC;wBACD,SAAS,GAAG,IAAI,CAAC;oBACnB,CAAC;oBACD,OAAO,SAAS,CAAC;gBACnB,KAAK,6CAAe,CAAC,OAAO;oBAC1B,kCAAkC;oBAClC,SAAS,GAAG,OAAO,IAAI,OAAO,CAAC,WAAW,EAAE,CAAC;oBAC7C,IAAI,CAAC,SAAS,IAAI,MAAM,EAAE,CAAC;wBACzB,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;oBACzD,CAAC;oBACD,OAAO,IAAI,CAAC;gBACd;oBACE,OAAO,KAAK,CAAC;YACjB,CAAC;QACH,CAAC,CAAC;QAEF,MAAM,WAAW,GAAG,CAClB,SAAuB,EACvB,CAAQ,EACR,QAA2C,EAClC,EAAE;;YACX,MAAM,OAAO,GAAG,SAAS,CAAC,QAAQ;gBAChC,CAAC,CAAC,eAAS,CAAC,eAAe,0CAAE,UAAU,EAAE;gBACzC,CAAC,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;YAC3B,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACnC,KAAK,6CAAe,CAAC,SAAS;oBAC5B,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;oBAC3D,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE,CAAC;wBAC5B,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,sCAAsC,CAAC,SAAS,CAAC,EAClE,CAAC;4BACD,SAAS,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,CAAC;wBAC9B,CAAC;wBACD,SAAS,GAAG,IAAI,CAAC;oBACnB,CAAC;oBACD,OAAO,SAAS,CAAC;gBACnB,KAAK,6CAAe,CAAC,MAAM;oBACzB,IAAI,OAAO,EAAE,CAAC;wBACZ,yDAAuB,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;oBAC/C,CAAC;oBACD,OAAO,IAAI,CAAC;gBACd,KAAK,6CAAe,CAAC,OAAO;oBAC1B,kCAAkC;oBAClC,OAAO,OAAO,IAAI,OAAO,CAAC,YAAY,EAAE,CAAC;gBAC3C;oBACE,OAAO,KAAK,CAAC;YACjB,CAAC;QACH,CAAC,CAAC;QAEF,MAAM,SAAS,GAEX;YACF,4CAA4C;YAC5C,KAAK,EAAE;gBACL,IAAI,EAAE,sDAAwB,CAAC,KAAK;gBACpC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;gBACjD,QAAQ,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;oBACnC,sEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,OAAO,SAAS,CAAC,GAAG;wBAClB,CAAC,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,CAAC;wBACrC,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;gBACzC,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC;aAC3B;YAED,2CAA2C;YAC3C,IAAI,EAAE;gBACJ,IAAI,EAAE,sDAAwB,CAAC,IAAI;gBACnC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;gBACjD,QAAQ,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;oBACnC,sEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,OAAO,SAAS,CAAC,GAAG;wBAClB,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,CAAC;wBACpC,CAAC,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;gBAC1C,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;aAC1B;YAED,oCAAoC;YACpC,IAAI,EAAE;gBACJ,IAAI,EAAE,sDAAwB,CAAC,IAAI;gBACnC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;gBACjD,QAAQ,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;;oBACnC,sEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,IAAI,SAAS,GAAG,KAAK,CAAC;oBACtB,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;wBACnC,KAAK,6CAAe,CAAC,SAAS;4BAC5B,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC3D,IAAI,CAAC,SAAS,IAAI,SAAS,EAAE,CAAC;gCAC5B,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,sCAAsC,CACrD,SAAS,CACV,EACD,CAAC;oCACD,SAAS,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC;gCAC/B,CAAC;gCACD,SAAS,GAAG,IAAI,CAAC;4BACnB,CAAC;4BACD,OAAO,SAAS,CAAC;wBACnB,KAAK,6CAAe,CAAC,MAAM;4BACzB,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC3D,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC,eAAe,EAAE,CAAC;gCAC5C,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAC1C,SAAS,CAAC,eAAe,CAC1B,EACD,CAAC;oCACD,SAAS,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC;gCAC/B,CAAC;gCACD,SAAS,GAAG,IAAI,CAAC;4BACnB,CAAC;4BACD,OAAO,SAAS,CAAC;wBACnB,KAAK,6CAAe,CAAC,OAAO,CAAC,CAAC,CAAC;4BAC7B,MAAM,OAAO,GAAG,SAAS,CAAC,UAAU,EAAa,CAAC;4BAClD,IAAI,OAAO,EAAE,CAAC;gCACZ,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC;oCAC/B,MAAM,SAAS,GACb,aAAO;yCACJ,eAAe,EAAE;yCACjB,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,mCAAI,IAAI,CAAC;oCACjD,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;oCACnC,SAAS,GAAG,IAAI,CAAC;gCACnB,CAAC;qCAAM,CAAC;oCACN,kCAAkC;oCAClC,SAAS,GAAG,OAAO,CAAC,UAAU,EAAE,CAAC;gCACnC,CAAC;gCACD,MAAM,YAAY,GAAG,OAAO,CAAC,eAAe,EAAE,CAAC;gCAC/C,IAAI,YAAY,EAAE,CAAC;oCACjB,yDAAuB,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gCACpD,CAAC;4BACH,CAAC;4BACD,OAAO,SAAS,CAAC;wBACnB,CAAC;wBACD;4BACE,OAAO,KAAK,CAAC;oBACjB,CAAC;gBACH,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;aAC1B;YACD,sCAAsC;YACtC,EAAE,EAAE;gBACF,IAAI,EAAE,sDAAwB,CAAC,EAAE;gBACjC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;gBACjD,QAAQ,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;oBACnC,sEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,IAAI,SAAS,GAAG,KAAK,CAAC;oBACtB,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;wBACnC,KAAK,6CAAe,CAAC,SAAS;4BAC5B,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC3D,IAAI,CAAC,SAAS,EAAE,CAAC;gCACf,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,sCAAsC,CACrD,SAAS,EACT,MAAM,CACP,EACD,CAAC;oCACD,SAAS,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC;gCAC/B,CAAC;gCACD,SAAS,GAAG,IAAI,CAAC;4BACnB,CAAC;4BACD,OAAO,SAAS,CAAC;wBACnB,KAAK,6CAAe,CAAC,MAAM;4BACzB,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC3D,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC,eAAe,EAAE,CAAC;gCAC5C,IACE,CAAC,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAC1C,SAAS,CAAC,eAAe,EACzB,MAAM,CACP,EACD,CAAC;oCACD,SAAS,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC;gCAC/B,CAAC;gCACD,SAAS,GAAG,IAAI,CAAC;4BACnB,CAAC;4BACD,OAAO,SAAS,CAAC;wBACnB,KAAK,6CAAe,CAAC,OAAO,CAAC,CAAC,CAAC;4BAC7B,MAAM,OAAO,GAAG,SAAS,CAAC,UAAU,EAAa,CAAC;4BAClD,IAAI,OAAO,EAAE,CAAC;gCACZ,kCAAkC;gCAClC,SAAS,GAAG,OAAO,CAAC,cAAc,EAAE,CAAC;gCACrC,MAAM,YAAY,GAAG,OAAO,CAAC,eAAe,EAAE,CAAC;gCAC/C,IAAI,YAAY,EAAE,CAAC;oCACjB,yDAAuB,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gCACpD,CAAC;4BACH,CAAC;4BACD,OAAO,SAAS,CAAC;wBACnB,CAAC;wBACD;4BACE,OAAO,KAAK,CAAC;oBACjB,CAAC;gBACH,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;aACxB;SACF,CAAC;QAEF,KAAK,MAAM,QAAQ,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC;YAChD,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;IACH,CAAC;IAED;;OAEG;IACH,SAAS;QACP,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,IAAI,CAAC,CAAC;QACpE,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,KAAK,CAAC,CAAC;QACrE,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,IAAI,CAAC,CAAC;QACpE,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,EAAE,CAAC,CAAC;IACpE,CAAC;CACF;;;;;;;;;;;;;;;;;;;;AC3RD;;;;GAIG;AAWc;AACyB;AAES;AACmB;AAEtE;;;;;GAKG;AACH,MAAM,WAAW,GAAG,EAAE,CAAC;AAEvB;;;;GAIG;AACI,MAAM,SAAS;IAKpB,YACU,UAAsB,EACtB,UAA+C;QACrD,wBAAwB,EAAE,KAAK;KAChC;QAHO,eAAU,GAAV,UAAU,CAAY;QACtB,YAAO,GAAP,OAAO,CAEd;IACA,CAAC;IAEJ;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,6BAA6B,EAAE,CAAC;QAErC,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAEtC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,4BAA4B,EAAE,CAAC;IACtC,CAAC;IAED;;;OAGG;IACH,SAAS;QACP,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,yBAAyB,CAAC,CAAC;QACnE,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,0BAA0B,CAAC,CAAC;QACpE,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,2BAA2B,CAAC,CAAC;QAErE,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,GAAG,CAAC,CAAC;QACnE,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,IAAI,CAAC,CAAC;QACpE,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,KAAK,CAAC,CAAC;QAErE,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1D,CAAC;QAED,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3D,CAAC;QAED,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC5D,CAAC;IACH,CAAC;IAED;;;OAGG;IACK,mBAAmB;QACzB,IAAI,CAAC,cAAc;YACjB,qDAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,kDAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,cAAc;YACtB,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;QAEnE,MAAM,WAAW,GAAsC;YACrD,IAAI,EAAE,sDAAwB,CAAC,GAAG;YAClC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,cAAc;YAClD,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;YACrC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ;YACtC,cAAc,EAAE,KAAK;SACtB,CAAC;QAEF,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,kDAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC9D,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAClD,CAAC;IAED;;;;;;OAMG;IACK,4BAA4B;QAClC,MAAM,SAAS,GAAqC;YAClD,WAAW,EAAE,CAAC,KAAK,EAAE,EAAE,CACrB,iEAAW,CAAC,wCAAG,CAAC,cAAc,CAAC,EAAE,sDAAwB,CAAC,GAAG,CAAC;YAChE,cAAc,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;YACtD,QAAQ,EAAE,CAAC,KAAK,EAAE,aAAa,EAAE,EAAE;gBACjC,IAAI,CAAC,mDAAU,CAAC,KAAK,CAAC,WAAW,CAAC;oBAAE,OAAO,KAAK,CAAC;gBACjD,MAAM,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC;gBACvC,IAAI,CAAC,CAAC,EAAE,YAAY,iDAAY,CAAC;oBAAE,OAAO,KAAK,CAAC;gBAEhD,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YAC/D,CAAC;YACD,EAAE,EAAE,yBAAyB;YAC7B,MAAM,EAAE,WAAW;SACpB,CAAC;QAEF,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACnD,CAAC;IAED;;;;;;OAMG;IACK,eAAe,CAAC,KAAgC;;QACtD,MAAM,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;QAClC,IAAI,CAAC,OAAO,IAAI,CAAC,mDAAU,CAAC,OAAO,CAAC;YAAE,OAAO,QAAQ,CAAC;QAEtD,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;QACpC,IAAI,CAAC,CAAC,SAAS,YAAY,iDAAY,CAAC;YAAE,OAAO,QAAQ,CAAC;QAE1D,IACE,WAAI,CAAC,cAAc,0CAAE,cAAc;YACnC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,KAAK,CAAC,EACpD,CAAC;YACD,OAAO,SAAS,CAAC;QACnB,CAAC;QACD,OAAO,UAAU,CAAC;IACpB,CAAC;IAED;;;;;;;;;OASG;IACK,WAAW,CACjB,SAAuB,EACvB,CAAQ,EACR,WAA8C;QAC5C,IAAI,EAAE,sDAAwB,CAAC,GAAG;KACnC,EACD,KAAgC;;QAEhC,MAAM,MAAM,GACV,CAAC,CAAC,WAAI,CAAC,cAAc,0CAAE,QAAQ;YAC/B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC9D,IAAI,MAAM,EAAE,CAAC;YACX,mDAAW,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;OAGG;IACK,oBAAoB;QAC1B,IAAI,CAAC,eAAe;YAClB,qDAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,kDAAa,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,IAAI,CAAC,eAAe;YACvB,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;QAEpE,MAAM,YAAY,GAAsC;YACtD,IAAI,EAAE,sDAAwB,CAAC,IAAI;YACnC,cAAc,EAAE,IAAI,CAAC,eAAe,CAAC,cAAc;YACnD,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;YACtC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ;YACvC,cAAc,EAAE,KAAK;SACtB,CAAC;QAEF,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,kDAAa,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC/D,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACnD,CAAC;IAED;;;;;;OAMG;IACK,6BAA6B;QACnC,MAAM,UAAU,GAAqC;YACnD,WAAW,EAAE,CAAC,KAAK,EAAE,EAAE,CACrB,iEAAW,CAAC,wCAAG,CAAC,eAAe,CAAC,EAAE,sDAAwB,CAAC,IAAI,CAAC;YAClE,cAAc,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;YACvD,QAAQ,EAAE,CAAC,KAAK,EAAE,aAAa,EAAE,EAAE;gBACjC,IAAI,CAAC,mDAAU,CAAC,KAAK,CAAC,WAAW,CAAC;oBAAE,OAAO,KAAK,CAAC;gBACjD,MAAM,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC;gBACvC,IAAI,CAAC,CAAC,EAAE,YAAY,iDAAY,CAAC;oBAAE,OAAO,KAAK,CAAC;gBAEhD,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YAChE,CAAC;YACD,EAAE,EAAE,0BAA0B;YAC9B,MAAM,EAAE,WAAW,GAAG,CAAC;SACxB,CAAC;QAEF,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;IACpD,CAAC;IAED;;;;;;OAMG;IACK,gBAAgB,CAAC,KAAgC;;QACvD,MAAM,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;QAClC,IAAI,CAAC,OAAO,IAAI,CAAC,mDAAU,CAAC,OAAO,CAAC;YAAE,OAAO,QAAQ,CAAC;QAEtD,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;QACpC,IAAI,CAAC,CAAC,SAAS,YAAY,iDAAY,CAAC;YAAE,OAAO,QAAQ,CAAC;QAE1D,IACE,WAAI,CAAC,eAAe,0CAAE,cAAc;YACpC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,SAAS,EAAE,KAAK,CAAC,EACrD,CAAC;YACD,OAAO,SAAS,CAAC;QACnB,CAAC;QACD,OAAO,UAAU,CAAC;IACpB,CAAC;IAED;;;;;;;;;OASG;IACK,YAAY,CAClB,SAAuB,EACvB,CAAQ,EACR,WAA8C;QAC5C,IAAI,EAAE,sDAAwB,CAAC,GAAG;KACnC,EACD,KAAgC;;QAEhC,MAAM,OAAO,GACX,CAAC,CAAC,WAAI,CAAC,eAAe,0CAAE,QAAQ;YAChC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC/D,IAAI,OAAO,EAAE,CAAC;YACZ,sDAAc,CAAC,SAAS,CAAC,CAAC;QAC5B,CAAC;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAED;;;OAGG;IACK,qBAAqB;QAC3B,IAAI,CAAC,gBAAgB;YACnB,qDAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,kDAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACrE,IAAI,CAAC,IAAI,CAAC,gBAAgB;YACxB,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;QAErE,MAAM,aAAa,GAAsC;YACvD,IAAI,EAAE,sDAAwB,CAAC,KAAK;YACpC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,cAAc;YACpD,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;YACvC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ;YACxC,cAAc,EAAE,KAAK;SACtB,CAAC;QAEF,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,kDAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAChE,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;IACpD,CAAC;IAED;;;;;;OAMG;IACK,8BAA8B;QACpC,MAAM,WAAW,GAAqC;YACpD,WAAW,EAAE,CAAC,KAAK,EAAE,EAAE,CACrB,iEAAW,CAAC,wCAAG,CAAC,gBAAgB,CAAC,EAAE,sDAAwB,CAAC,KAAK,CAAC;YACpE,cAAc,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;YACxD,QAAQ,EAAE,CAAC,KAAgC,EAAE,aAAoB,EAAE,EAAE;gBACnE,MAAM,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBAChD,IAAI,CAAC,SAAS;oBAAE,OAAO,KAAK,CAAC;gBAC7B,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YACxE,CAAC;YACD,EAAE,EAAE,2BAA2B;YAC/B,MAAM,EAAE,WAAW,GAAG,CAAC;SACxB,CAAC;QAEF,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IACrD,CAAC;IAED;;;;;OAKG;IACK,iBAAiB,CACvB,KAAgC;QAEhC,IAAI,SAAS,CAAC;QACd,IAAI,KAAK,CAAC,WAAW,YAAY,iDAAY,EAAE,CAAC;YAC9C,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC;QAChC,CAAC;aAAM,IAAI,qDAAY,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC;YAC3C,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC;QAC1C,CAAC;QAED,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,YAAY,iDAAY,CAAC;YAAE,OAAO,SAAS,CAAC;QACzE,OAAO,SAAS,CAAC;IACnB,CAAC;IAED;;;;;;OAMG;IACK,iBAAiB,CAAC,KAAgC;;QACxD,MAAM,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAChD,2DAA2D;QAC3D,IAAI,CAAC,SAAS;YAAE,OAAO,QAAQ,CAAC;QAEhC,4BAA4B;QAC5B,IAAI,SAAS,CAAC,QAAQ;YAAE,OAAO,QAAQ,CAAC;QAExC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAAC;YAC3C,0DAA0D;YAC1D,4DAA4D;YAC5D,IAAI,eAAe,GAAG,8CAAS,CAAC,sBAAsB,EAAE,CAAC;YACzD,IAAI,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,QAAQ;gBAC3B,eAAe,GAAG,eAAe,CAAC,eAAe,CAAC;YACpD,IAAI,eAAe,KAAK,SAAS;gBAAE,OAAO,UAAU,CAAC;QACvD,CAAC;QAED,IACE,WAAI,CAAC,gBAAgB,0CAAE,cAAc;YACrC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,SAAS,EAAE,KAAK,CAAC,EACtD,CAAC;YACD,OAAO,SAAS,CAAC;QACnB,CAAC;QACD,OAAO,UAAU,CAAC;IACpB,CAAC;IAED;;;;;;;;;OASG;IACK,aAAa,CACnB,SAAuB,EACvB,CAAQ,EACR,WAA8C;QAC5C,IAAI,EAAE,sDAAwB,CAAC,GAAG;KACnC,EACD,KAAgC;;QAEhC,MAAM,QAAQ,GACZ,CAAC,CAAC,WAAI,CAAC,gBAAgB,0CAAE,QAAQ;YACjC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QAEhE,mEAAmE;QACnE,uEAAuE;QACvE,4CAA4C;QAC5C,uDAAe,CAAC,SAAS,CAAC,CAAC;QAC3B,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF;;;;;;;;;;;;;;;;;;ACzZD;;;;GAIG;AAE6D;AACb;AAEnD;;GAEG;AACI,MAAM,YAAY;IAiBvB;QAhBA;;;WAGG;QACK,mBAAc,GAIN,SAAS,CAAC;QAE1B;;;WAGG;QACK,uBAAkB,GAA4C,IAAI,CAAC;IAE5D,CAAC;IAEhB;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACnC,CAAC;IAED;;OAEG;IACH,SAAS;QACP,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACnD,IAAI,CAAC,kBAAkB,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;QAC5D,CAAC;IACH,CAAC;IAED;;;OAGG;IACK,yBAAyB;QAC/B,IAAI,CAAC,kBAAkB;YACrB,wDAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAEtD,IAAI,CAAC,IAAI,CAAC,kBAAkB;YAAE,OAAO;QAErC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;QAE1D,MAAM,WAAW,GAAG,CAAC,KAAgC,EAAE,EAAE;YACvD,IAAI,KAAa,CAAC;YAClB,qEAAqE;YACrE,kCAAkC;YAClC,IAAI,OAAO,IAAI,CAAC,cAAc,KAAK,UAAU,EAAE,CAAC;gBAC9C,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;gBAC1C,IAAI,MAAM,YAAY,WAAW,EAAE,CAAC;oBAClC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;gBAC3B,CAAC;qBAAM,CAAC;oBACN,KAAK,GAAG,MAAM,CAAC;gBACjB,CAAC;YACH,CAAC;iBAAM,IAAI,OAAO,IAAI,CAAC,cAAc,KAAK,QAAQ,EAAE,CAAC;gBACnD,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC;YAC9B,CAAC;iBAAM,CAAC;gBACN,KAAK,GAAG,wCAAG,CAAC,cAAc,CAAC,CAAC;YAC9B,CAAC;YAED,OAAO,iEAAW,CAAC,KAAK,EAAE,kDAAa,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACxD,CAAC,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,WAAW,GAAG,WAAW,CAAC;IACpD,CAAC;CACF;;;;;;;;;;;;;;;;;;ACjFD;;;;GAIG;AAQc;AACyB;AAI1C,MAAM,QAAQ,GAAG,0CAAY,CAAC,QAAQ,CAAC;AAEvC;;;;;GAKG;AACI,MAAM,gBAAgB;IAM3B,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAL1C;;WAEG;QACK,iBAAY,GAAG,sDAAwB,CAAC,UAAU,CAAC;IAEd,CAAC;IAE9C;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED;;;OAGG;IACH,SAAS;QACP,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACK,gBAAgB;QACtB,MAAM,kBAAkB,GAAsC;YAC5D,IAAI,EAAE,IAAI,CAAC,YAAY;YACvB,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;YAC7C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;gBACtB,iEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAC/C,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACnC,KAAK,6CAAe,CAAC,SAAS;wBAC5B,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;wBACjC,OAAO,IAAI,CAAC;oBACd;wBACE,OAAO,KAAK,CAAC;gBACjB,CAAC;YACH,CAAC;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;SACvB,CAAC;QACF,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IACzD,CAAC;IAED;;;;;;OAMG;IACH,gBAAgB,CAAC,SAAuB;;QACtC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;QACpC,IAAI,CAAC,CAAC,OAAO,YAAY,6CAAQ,CAAC;YAAE,OAAO;QAE3C,MAAM,SAAS,GAAG,CAAC,cAAO,CAAC,gBAAgB,0CAAE,WAAW,EAAE,EAAC;QAC3D,2CAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtB,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC1B,2CAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAEvB,0CAA0C;QAC1C,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC7B,CAAC;CACF;;;;;;;;;;;;;;;;;;;AC3FD;;;;GAIG;AAWc;AACyB;AACS;AAEnD;;;GAGG;AACI,MAAM,eAAe;IAA5B;QACU,sBAAiB,GAA6C,IAAI,CAAC;QACnE,sBAAiB,GAAsB,EAAE,CAAC;IA8EpD,CAAC;IA5EC;;;;OAIG;IACH,OAAO;QACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,yBAAyB,EAAE,CAAC;QAC1D,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CACzB,sCAAsC,CACpC,gBAAgB,EAChB,sDAAwB,CAAC,SAAS,CACnC,CACF,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,IAAI,CACzB,sCAAsC,CACpC,kBAAkB,EAClB,sDAAwB,CAAC,SAAS,CACnC,CACF,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;OAEG;IACH,SAAS;QACP,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;QACvD,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;QAClC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QACpE,CAAC;IACH,CAAC;IAED;;;;OAIG;IACK,yBAAyB;QAC/B,IACE,qDAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CACrC,sDAAwB,CAAC,SAAS,CACnC,EACD,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC;QAED,MAAM,QAAQ,GAAsC;YAClD,IAAI,EAAE,sDAAwB,CAAC,SAAS;YACxC,6CAA6C;YAC7C,cAAc,CAAC,SAAS,EAAE,KAAK;gBAC7B,MAAM,EAAC,WAAW,EAAC,GAAG,KAAK,CAAC;gBAC5B,IAAI,WAAW,YAAY,6CAAQ,EAAE,CAAC;oBACpC,OAAO,CACL,CAAC,WAAW,CAAC,UAAU;wBACvB,WAAW,CAAC,WAAW,EAAE;wBACzB,WAAW,CAAC,SAAS,EAAE;wBACvB,WAAW,CAAC,cAAc,EAAE,CAC7B,CAAC;gBACJ,CAAC;qBAAM,IAAI,WAAW,YAAY,6CAAQ,CAAC,wBAAwB,EAAE,CAAC;oBACpE,OAAO,WAAW,CAAC,SAAS,EAAE,CAAC;gBACjC,CAAC;gBACD,OAAO,KAAK,CAAC;YACf,CAAC;YACD,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,KAAK;gBACpC,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAmC,CAAC;gBAC3D,MAAM,IAAI,GAAG,QAAQ,CAAC,UAAU,EAAE,CAAC;gBACnC,IAAI,CAAC,IAAI;oBAAE,OAAO,KAAK,CAAC;gBACxB,OAAO,CAAC,CAAC,8CAAS,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YAC5C,CAAC;YACD,QAAQ,EAAE,CAAC,0CAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC7B,CAAC;QACF,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC7C,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF;AAED;;;;;;;;GAQG;AACH,SAAS,sCAAsC,CAC7C,UAAkB,EAClB,YAAoB;IAEpB,MAAM,QAAQ,GAAG,wDAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAClE,IAAI,CAAC,QAAQ,IAAI,WAAW,IAAI,QAAQ,EAAE,CAAC;QACzC,OAAO,GAAG,EAAE,GAAE,CAAC,CAAC;IAClB,CAAC;IAED,MAAM,QAAQ,mCACT,QAAQ,KACX,WAAW,EAAE,CAAC,KAAgC,EAAE,EAAE;YAChD,MAAM,WAAW,GACf,OAAO,QAAQ,CAAC,WAAW,KAAK,UAAU;gBACxC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC;gBAC7B,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC;YAC3B,IAAI,WAAW,YAAY,WAAW,EAAE,CAAC;gBACvC,kCAAkC;gBAClC,OAAO,WAAW,CAAC;YACrB,CAAC;YACD,OAAO,iEAAW,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;QAChD,CAAC,GACF,CAAC;IACF,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACpD,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAEhD,OAAO,GAAG,EAAE;QACV,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACpD,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAClD,CAAC,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;;;AChJD;;;;GAIG;AAE4E;AAE5B;AACT;AAE1C;;;;;;;;;;;;;;;;;;;GAmBG;AACI,MAAM,UAAU;IACrB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAE9C;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACnC,CAAC;IAED;;;OAGG;IACH,SAAS;QACP,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IAED;;OAEG;IACK,yBAAyB;QAC/B,MAAM,aAAa,GAAqC;YACtD,WAAW,EAAE,iEAAW,CACtB,wCAAG,CAAC,qBAAqB,CAAC,EAC1B,sDAAwB,CAAC,KAAK,CAC/B;YACD,cAAc,EAAE,CAAC,KAAgC,EAAE,aAAa,EAAE,EAAE;;gBAClE,IAAI,aAAa,YAAY,YAAY;oBAAE,OAAO,QAAQ,CAAC;gBAC3D,MAAM,SAAS,GAAG,WAAK,CAAC,KAAK,0CAAE,SAAS,CAAC;gBACzC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC,EAAE,CAAC;oBACnE,OAAO,UAAU,CAAC;gBACpB,CAAC;gBACD,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;gBACrC,IAAI,CAAC,MAAM;oBAAE,OAAO,UAAU,CAAC;gBAC/B,OAAO,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;YACrD,CAAC;YACD,QAAQ,EAAE,CAAC,KAAgC,EAAE,EAAE;;gBAC7C,iEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAC/C,MAAM,SAAS,GAAG,WAAK,CAAC,KAAK,0CAAE,SAAS,CAAC;gBACzC,IAAI,CAAC,SAAS;oBAAE,OAAO,KAAK,CAAC;gBAC7B,eAAS,CAAC,SAAS,EAAE,0CAAE,EAAE,EAAE,CAAC;gBAC5B,OAAO,IAAI,CAAC;YACd,CAAC;YACD,SAAS,EAAE,wDAAmB,CAAC,SAAS,CAAC,KAAK;YAC9C,EAAE,EAAE,MAAM;YACV,MAAM,EAAE,EAAE;SACX,CAAC;QAEF,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;IACvD,CAAC;CACF;;;;;;;;;;;;;;;;;;;;AClFD;;;;GAIG;AAiBmB;AAIoB;AAEF;AAKtB;AAElB,MAAM,QAAQ,GAAG,+CAAY,CAAC,QAAQ,CAAC;AAEvC;;GAEG;AACI,MAAM,WAAW;IACtB,YACU,KAAY,EACZ,UAAsB;QADtB,UAAK,GAAL,KAAK,CAAO;QACZ,eAAU,GAAV,UAAU,CAAY;IAC7B,CAAC;IAEJ;;OAEG;IACH,OAAO;QACL;;;;;;WAMG;QACH,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACjC,IAAI,EAAE,sDAAwB,CAAC,eAAe;YAC9C,cAAc,EAAE,CAAC,SAAS,EAAW,EAAE;gBACrC,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACnC,KAAK,6CAAe,CAAC,SAAS;wBAC5B,OAAO,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;oBAChD,KAAK,6CAAe,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC5B,kEAAkE;wBAClE,0DAA0D;wBAC1D,+BAA+B;wBAC/B,MAAM,eAAe,GAAG,SAAS,CAAC,QAAQ;4BACxC,CAAC,CAAC,SAAS,CAAC,eAAe;4BAC3B,CAAC,CAAC,SAAS,CAAC;wBACd,IAAI,CAAC,eAAe;4BAAE,OAAO,KAAK,CAAC;wBACnC,OAAO,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;oBAC3D,CAAC;oBACD;wBACE,OAAO,KAAK,CAAC;gBACjB,CAAC;YACH,CAAC;YACD,QAAQ,EAAE,CAAC,SAAS,EAAE,KAAK,EAAW,EAAE;gBACtC,KAAK,CAAC,cAAc,EAAE,CAAC;gBAEvB,MAAM,eAAe,GAAG,SAAS,CAAC,QAAQ;oBACxC,CAAC,CAAC,SAAS,CAAC,eAAe;oBAC3B,CAAC,CAAC,SAAS,CAAC;gBACd,IAAI,CAAC,eAAe;oBAAE,OAAO,KAAK,CAAC;gBAEnC,IAAI,YAAY,CAAC;gBACjB,IAAI,OAAO,CAAC;gBAEZ,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACnC,KAAK,6CAAe,CAAC,SAAS;wBAC5B,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;oBAC1C,KAAK,6CAAe,CAAC,MAAM;wBACzB,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;wBAChE,IAAI,CAAC,YAAY,EAAE,CAAC;4BAClB,OAAO,KAAK,CAAC;wBACf,CAAC;wBACD,OAAO,GAAG,YAAY,CAAC,UAAU,EAAE,CAAC;wBACpC,IAAI,OAAO,YAAY,kDAAQ,EAAE,CAAC;4BAChC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;wBACzC,CAAC;6BAAM,IAAI,OAAO,YAAY,sDAAY,EAAE,CAAC;4BAC3C,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC;wBAC9C,CAAC;wBACD,OAAO,IAAI,CAAC;oBACd;wBACE,OAAO,KAAK,CAAC;gBACjB,CAAC;YACH,CAAC;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC;YAC1C,cAAc,EAAE,IAAI;SACrB,CAAC,CAAC;IACL,CAAC;IAED;;;;;OAKG;IACK,sBAAsB,CAAC,SAAuB;QACpD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;YAAE,OAAO,KAAK,CAAC;QACnE,IAAI,SAAS,CAAC,UAAU,EAAE;YAAE,OAAO,KAAK,CAAC;QAEzC,MAAM,OAAO,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,EAAE,CAAC;QACnD,IAAI,CAAC,OAAO;YAAE,OAAO,KAAK,CAAC;QAC3B,IAAI,OAAO,YAAY,+CAAK;YAAE,OAAO,OAAO,CAAC,WAAW,EAAE,CAAC;QAC3D,IACE,OAAO,YAAY,4DAAkB;YACrC,OAAO,YAAY,sDAAY,EAC/B,CAAC;YACD,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QACjC,CAAC;QACD,gFAAgF;QAChF,OAAO,CACL,OAAO,YAAY,kDAAQ;YAC3B,OAAO,YAAY,+CAAK,CAAC,IAAI;YAC7B,OAAO,YAAY,kDAAQ,CAAC,gBAAgB;YAC5C,OAAO,YAAY,kDAAQ,CAAC,wBAAwB,CACrD,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACK,gBAAgB,CAAC,SAAuB;QAC9C,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;QACpC,IAAI,CAAC,OAAO;YAAE,OAAO,KAAK,CAAC;QAC3B,IAAI,OAAO,YAAY,+CAAK,EAAE,CAAC;YAC7B,OAAO,CAAC,UAAU,EAAE,CAAC;YACrB,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IAAI,OAAO,YAAY,kDAAQ,EAAE,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC/C,oDAAY,CAAC,SAAS,CAAC,CAAC;YAC1B,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IACL,OAAO,YAAY,4DAAkB;YACrC,OAAO,YAAY,sDAAY,EAC/B,CAAC;YACD,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IAAI,OAAO,YAAY,+CAAK,CAAC,IAAI,EAAE,CAAC;YACzC,sEAAsE;YACtE,wEAAwE;YACxE,gDAAgD;YAChD,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,0DAAgB,CAAC,mBAAmB,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC/C,IAAI,uDAAS,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC;oBACpD,MAAM,CAAC,EAAE,EAAE,CAAC;gBACd,CAAC;YACH,CAAC,CAAC,CAAC;YACH,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IAAI,OAAO,YAAY,kDAAQ,CAAC,gBAAgB,EAAE,CAAC;YACxD,OAAO,CAAC,aAAa,EAAE,CAAC;YACxB,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IAAI,OAAO,YAAY,kDAAQ,CAAC,wBAAwB,EAAE,CAAC;YAChE,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC5B,6DAAe,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC,CAAC;YAC9D,OAAO,IAAI,CAAC;QACd,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;;;OASG;IACK,gBAAgB,CAAC,SAAuB;;QAC9C,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QACnC,4DAA4D;QAC5D,MAAM,aAAa,GAAG,gDAAM,CAAC,QAAQ,EAAE,CAAC;QACxC,IAAI,CAAC,aAAa,EAAE,CAAC;YACnB,gDAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QAED,oEAAoE;QACpE,MAAM,cAAc,GAClB,sEAAsB,CAAC,eAAe,CAAC,SAAS,CAAC,mCACjD,SAAS,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;QAC3C,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,gBAAgB,GAAG,cAAc;YACrC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,cAAc,EAAE,QAAQ,CAAC;YAChE,CAAC,CAAC,IAAI,CAAC;QAET,IAAI,SAAS,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YAChD,IAAI,CAAC,wBAAwB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QACrD,CAAC;QAED,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAElC,IAAI,CAAC,KAAK,CAAC,SAAS,CAClB,SAAS,EACT,QAAQ,EACR,4CAAQ,CAAC,MAAM,EACf,gBAAgB,CACjB,CAAC;QAEF,MAAM,YAAY,GAChB,CAAC,QAAQ,CAAC,gBAAgB;YAC1B,CAAC,QAAQ,CAAC,cAAc;YACxB,CAAC,QAAQ,CAAC,kBAAkB,CAAC;QAC/B,IAAI,YAAY,EAAE,CAAC;YACjB,iEAAyB,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC;aAAM,CAAC;YACN,mEAA2B,CAAC,SAAS,CAAC,CAAC;QACzC,CAAC;IACH,CAAC;IAED;;;;;;;;OAQG;IACK,wBAAwB,CAC9B,SAAuB,EACvB,QAAkB;;QAElB,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,MAAM,QAAQ,GAAG,EAAE,CAAC;QAEpB,MAAM,iBAAiB,GAAG,SAAS;aAChC,YAAY,CAAC,IAAI,CAAC;aAClB,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC/C,MAAM,cAAc,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CACrD,KAAK,CAAC,oBAAoB,EAAE,CAC7B,CAAC;QAEF,MAAM,YAAY,GAAG,eAAS,CAAC,UAAU,EAAE,0CAAE,QAAQ,EAAE,CAAC;QACxD,MAAM,cAAc,GAClB,SAAS,CAAC,YAAY,EAAE,CAAC,WAAW,GAAG,CAAC,YAAY,aAAZ,YAAY,cAAZ,YAAY,GAAI,CAAC,CAAC,CAAC;QAC7D,MAAM,eAAe,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC,YAAY,CAAC;QAC9D,MAAM,EAAC,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAC,GAClD,QAAQ,CAAC,cAAc,EAAE,CAAC;QAE5B,MAAM,wBAAwB,GAAG,UAC/B,YAA+B;YAE/B,KAAK,MAAM,IAAI,IAAI,cAAc,EAAE,CAAC;gBAClC,IAAI,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC;oBAClC,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;QAEF,IAAI,OAAO,GAAG,QAAQ,CAAC;QACvB,IAAI,OAAO,GAAG,QAAQ,CAAC;QACvB,MAAM,cAAc,GAAG,SAAS;aAC7B,WAAW,EAAE;aACb,YAAY,EAAE,CAAC,gBAAgB,CAAC;QACnC,iFAAiF;QACjF,IAAI,YAAY,GAAG,QAAQ,CAAC,oBAAoB,EAAE,CAAC;QACnD,QAAQ,CAAC,MAAM,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,EAAE,OAAO,GAAG,YAAY,CAAC,GAAG,EAAE;YACvE,SAAS;SACV,CAAC,CAAC;QACH,QAAQ,CAAC,UAAU,EAAE,CAAC;QAEtB,YAAY,GAAG,QAAQ,CAAC,oBAAoB,EAAE,CAAC;QAC/C,IAAI,eAAe,GAAG,wBAAwB,CAAC,YAAY,CAAC,CAAC;QAC7D,OAAO,eAAe,IAAI,IAAI,EAAE,CAAC;YAC/B,MAAM,UAAU,GACd,eAAe,CAAC,IAAI,GAAG,eAAe,CAAC,QAAQ,EAAE,GAAG,QAAQ,CAAC;YAC/D,MAAM,UAAU,GACd,eAAe,CAAC,GAAG,GAAG,eAAe,CAAC,SAAS,EAAE,GAAG,cAAc,CAAC;YACrE,IAAI,UAAU,GAAG,aAAa,IAAI,cAAc,EAAE,CAAC;gBACjD,OAAO,GAAG,UAAU,CAAC;YACvB,CAAC;iBAAM,IAAI,UAAU,GAAG,cAAc,IAAI,eAAe,EAAE,CAAC;gBAC1D,OAAO,GAAG,UAAU,CAAC;gBACrB,OAAO,GAAG,QAAQ,CAAC;YACrB,CAAC;iBAAM,CAAC;gBACN,qEAAqE;gBACrE,aAAa;gBACb,OAAO,GAAG,UAAU,CAAC;gBACrB,OAAO,GAAG,QAAQ,CAAC;YACrB,CAAC;YACD,QAAQ,CAAC,MAAM,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,EAAE,OAAO,GAAG,YAAY,CAAC,GAAG,EAAE;gBACvE,SAAS;aACV,CAAC,CAAC;YACH,QAAQ,CAAC,UAAU,EAAE,CAAC;YACtB,YAAY,GAAG,QAAQ,CAAC,oBAAoB,EAAE,CAAC;YAC/C,eAAe,GAAG,wBAAwB,CAAC,YAAY,CAAC,CAAC;QAC3D,CAAC;QAED,QAAQ,CAAC,YAAY,EAAE,CAAC;IAC1B,CAAC;IAED;;;;;OAKG;IACK,qBAAqB,CAAC,SAAuB;;QACnD,MAAM,MAAM,GAAG,UAAI,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,0CAAE,UAAU,EAAE,CAAC;QACxE,IAAI,CAAC,CAAC,MAAM,YAAY,sDAAY,CAAC;YAAE,OAAO;QAE9C,MAAM,qBAAqB;QACzB,wCAAwC;QACxC,SAAS,CAAC,qBAAqB,CAAC;QAElC,oFAAoF;QACpF,oDAAoD;QACpD,8DAA8D;QAC9D,MAAM,WAAW,GAAI,MAAc,CAAC,WAAW,CAAC;QAChD,MAAM,cAAc,GAAG,qBAAqB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,cAAc,EAAE,CAAC;YACpB,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;QACnE,CAAC;QACD,cAAc,CAAC,MAAM,CAAC,CAAC;IACzB,CAAC;IAED;;;;;OAKG;IACK,2BAA2B,CAAC,KAAY;QAC9C,IAAI,KAAK,CAAC,gBAAgB,EAAE,EAAE,CAAC;YAC7B,KAAK,MAAM,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;gBACpC,KAAK,MAAM,KAAK,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACnC,IAAI,KAAK,CAAC,WAAW,EAAE,IAAI,KAAK,CAAC,gBAAgB,EAAE,EAAE,CAAC;wBACpD,KAAK,CAAC,UAAU,EAAE,CAAC;wBACnB,OAAO,IAAI,CAAC;oBACd,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;OAMG;IACK,cAAc,CAAC,SAAuB;;QAC5C,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;YACnC,OAAO,CAAC,IAAI,CACV,4DAA4D;gBAC1D,0BAA0B,CAC7B,CAAC;YACF,OAAO,IAAI,CAAC;QACd,CAAC;QAED,MAAM,QAAQ,GAAG,UAAI,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,0CAAE,UAAU,EAAE,CAAC;QAC1E,IAAI,CAAC,CAAC,QAAQ,YAAY,kDAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC;YAC7D,OAAO,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC;QACd,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC9C,kCAAkC;QAClC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAClB,yEAAyE;QACzE,qEAAqE;QACrE,2BAA2B;QAC3B,QAAQ,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;QACrC,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,SAAS;QACP,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAClC,sDAAwB,CAAC,eAAe,CACzC,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;;;;;;ACtZD;;;;GAIG;AAQmB;AAEoB;AAG1C,MAAM,QAAQ,GAAG,+CAAY,CAAC,QAAQ,CAAC;AAEvC;;GAEG;AACI,MAAM,UAAU;IACrB,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAE9C;;OAEG;IACH,OAAO;QACL,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACjC,IAAI,EAAE,sDAAwB,CAAC,IAAI;YACnC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,SAAS,CAAC;YACjD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;;gBACtB,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACnC,KAAK,6CAAe,CAAC,MAAM,CAAC;oBAC5B,KAAK,6CAAe,CAAC,OAAO;wBAC1B,6DAAe,EAAE,CAAC,SAAS,CAAC,eAAS,CAAC,eAAe,mCAAI,SAAS,CAAC,CAAC;wBACpE,IAAI,CAAC,iDAAO,CAAC,UAAU,EAAE,EAAE,CAAC;4BAC1B,SAAS,CAAC,SAAS,EAAE,CAAC;wBACxB,CAAC;wBACD,OAAO,IAAI,CAAC;oBACd,KAAK,6CAAe,CAAC,SAAS,CAAC,CAAC,CAAC;wBAC/B,IAAI,SAAS,CAAC,SAAS,EAAE,CAAC;4BACxB,MAAM,MAAM,GAAG,eAAS,CAAC,OAAO,CAAC,eAAe,0CAC5C,YAAY,GACb,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,EAC/B,IAAI,GACJ,IAAI,CACH,CAAC,IAAI,EAA6B,EAAE;;gCAClC,WAAI,YAAY,+CAAK,CAAC,WAAW;oCACjC,IAAI,CAAC,eAAe,EAAE;oCACtB,WAAI,CAAC,SAAS,EAAE,0CAAE,YAAY,EAAE,MAAK,SAAS;6BAAA,CACjD,CAAC;4BACJ,IAAI,MAAM,EAAE,CAAC;gCACX,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gCAC/B,6DAAe,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gCACpC,OAAO,IAAI,CAAC;4BACd,CAAC;wBACH,CAAC;wBACD,OAAO,KAAK,CAAC;oBACf,CAAC;oBACD;wBACE,OAAO,KAAK,CAAC;gBACjB,CAAC;YACH,CAAC;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC;YACxB,cAAc,EAAE,IAAI;SACrB,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACH,SAAS;QACP,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,sDAAwB,CAAC,IAAI,CAAC,CAAC;IACtE,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;AC7ED;;;;GAIG;AAec;AAC2B;AACJ;AACW;AACM;AAEzD,MAAM,QAAQ,GAAG,0CAAK,CAAC,QAAQ,CAAC;AAChC,MAAM,mBAAmB,GAAG,qDAAgB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAC5E,qDAAgB,CAAC,QAAQ,CAC1B,CAAC;AAEF;;GAEG;AACI,MAAM,WAAW;IACtB,YAAoB,KAAY;QAAZ,UAAK,GAAL,KAAK,CAAO;QAExB,cAAS,GAAwC;YACvD,sBAAsB;YACtB;gBACE,IAAI,EAAE,YAAY;gBAClB,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE;oBAC5B,MAAM,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;oBAC3D,OAAO,CACL,CAAC,CAAC,cAAc,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC,CAClE,CAAC;gBACJ,CAAC;gBACD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;oBACtB,iEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,MAAM,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;oBAC3D,uDAAuD;oBACvD,2CAA2C;oBAC3C,IAAI,cAAc,EAAE,CAAC;wBACnB,wDAAe,EAAE,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;oBAC9C,CAAC;oBACD,OAAO,CACL,CAAC,CAAC,cAAc;wBAChB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,cAAc,EAAE,4CAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CACrE,CAAC;gBACJ,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;aACvB;YACD;gBACE,IAAI,EAAE,aAAa;gBACnB,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC;gBACzD,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC;gBAC1C,cAAc,EAAE,IAAI;aACrB;YACD;gBACE,IAAI,EAAE,YAAY;gBAClB,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC;gBACxD,QAAQ,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC;gBACxB,cAAc,EAAE,IAAI;aACrB;YAED,qBAAqB;YACrB;gBACE,IAAI,EAAE,uBAAuB;gBAC7B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,sDAAS,CAAC,IAAI,CAAC;gBACvD,QAAQ,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACzB,cAAc,EAAE,IAAI;aACrB;YACD;gBACE,IAAI,EAAE,wBAAwB;gBAC9B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,sDAAS,CAAC,KAAK,CAAC;gBACxD,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC;gBAC1B,cAAc,EAAE,IAAI;aACrB;YACD;gBACE,IAAI,EAAE,qBAAqB;gBAC3B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,sDAAS,CAAC,EAAE,CAAC;gBACrD,QAAQ,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;gBACvB,cAAc,EAAE,IAAI;aACrB;YACD;gBACE,IAAI,EAAE,uBAAuB;gBAC7B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,sDAAS,CAAC,IAAI,CAAC;gBACvD,QAAQ,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACzB,cAAc,EAAE,IAAI;aACrB;YAED,uBAAuB;YACvB;gBACE,IAAI,EAAE,yBAAyB;gBAC/B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,EAAE,sDAAS,CAAC,IAAI,CAAC;gBACzD,QAAQ,EAAE;oBACR,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAClD,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACpD;aACF;YACD;gBACE,IAAI,EAAE,0BAA0B;gBAChC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,EAAE,sDAAS,CAAC,KAAK,CAAC;gBAC1D,QAAQ,EAAE;oBACR,mBAAmB,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBACnD,mBAAmB,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACrD;aACF;YACD;gBACE,IAAI,EAAE,uBAAuB;gBAC7B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,EAAE,sDAAS,CAAC,EAAE,CAAC;gBACvD,QAAQ,EAAE;oBACR,mBAAmB,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAChD,mBAAmB,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAClD;aACF;YACD;gBACE,IAAI,EAAE,yBAAyB;gBAC/B,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC7D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CACtB,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,SAAS,EAAE,sDAAS,CAAC,IAAI,CAAC;gBACzD,QAAQ,EAAE;oBACR,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAClD,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACpD;aACF;SACF,CAAC;QAEM,cAAS,GAAuC;YACtD;gBACE,WAAW,EAAE,GAAG,EAAE,CAAC,iEAAW,CAAC,wCAAG,CAAC,YAAY,CAAC,EAAE,YAAY,CAAC;gBAC/D,cAAc,EAAE,CAAC,KAAK,EAAE,aAAa,EAAE,EAAE;;oBACvC,MAAM,SAAS,GAAG,WAAK,CAAC,KAAK,0CAAE,SAAgC,CAAC;oBAChE,IAAI,CAAC,SAAS,IAAI,aAAa,YAAY,YAAY;wBACrD,OAAO,QAAQ,CAAC;oBAElB,MAAM,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;oBAC3D,OAAO,CAAC,CAAC,cAAc,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,cAAc,CAAC;wBACtE,CAAC,CAAC,SAAS;wBACX,CAAC,CAAC,UAAU,CAAC;gBACjB,CAAC;gBACD,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;;oBAClB,MAAM,SAAS,GAAG,WAAK,CAAC,KAAK,0CAAE,SAAgC,CAAC;oBAChE,IAAI,CAAC,SAAS;wBAAE,OAAO,KAAK,CAAC;oBAC7B,MAAM,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;oBAC3D,oEAAoE;oBACpE,2CAA2C;oBAC3C,IAAI,cAAc,EAAE,CAAC;wBACnB,wDAAe,EAAE,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;oBAC9C,CAAC;oBACD,OAAO,CACL,CAAC,CAAC,cAAc;wBAChB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,cAAc,EAAE,4CAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CACrE,CAAC;gBACJ,CAAC;gBACD,SAAS,EAAE,wDAAmB,CAAC,SAAS,CAAC,KAAK;gBAC9C,EAAE,EAAE,MAAM;gBACV,MAAM,EAAE,GAAG;aACZ;YACD;gBACE,WAAW,EAAE,GAAG,EAAE,WAChB,wEAAW,CAAC,8CAAG,CAAC,cAAc,CAAC,mCAAI,cAAc,EAAE,YAAY,CAAC;gBAClE,cAAc,EAAE,CAAC,KAAK,EAAE,aAAa,EAAE,EAAE;oBACvC,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;oBAC9B,IAAI,CAAC,OAAO;wBAAE,OAAO,QAAQ,CAAC;oBAE9B,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC;wBACnD,CAAC,CAAC,SAAS;wBACX,CAAC,CAAC,UAAU,CAAC;gBACjB,CAAC;gBACD,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;oBAClB,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;oBAC9B,IAAI,CAAC,OAAO;wBAAE,OAAO,KAAK,CAAC;oBAC3B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,EAAE,4CAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACxE,CAAC;gBACD,SAAS,EAAE,wDAAmB,CAAC,SAAS,CAAC,OAAO;gBAChD,EAAE,EAAE,cAAc;gBAClB,MAAM,EAAE,GAAG;aACZ;SACF,CAAC;IA1KiC,CAAC;IA4K5B,iBAAiB;QACvB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACtC,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;IACH,CAAC;IAEO,iBAAiB;QACvB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACtC,wDAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAClD,CAAC;IACH,CAAC;IAED;;;OAGG;IACH,OAAO;QACL,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,SAAS;QACP,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACtC,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtD,CAAC;QACD,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACtC,wDAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC;IACH,CAAC;IAED;;;;;;;;;OASG;IACH,mBAAmB,CACjB,SAAuB;QAEvB,MAAM,IAAI,GAAG,wDAAe,EAAE,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,IAAI,YAAY,6CAAQ,CAAC,wBAAwB;YAAE,OAAO,IAAI,CAAC;QAEnE,MAAM,KAAK,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC,cAAc,EAAE,CAAC;QACrD,IAAI,CAAC,KAAK;YAAE,OAAO,SAAS,CAAC;QAE7B,MAAM,cAAc,GAAG,uEAAiB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,cAAc,EAAE,CAAC;YACpB,MAAM,IAAI,KAAK,CACb,+CAA+C;gBAC7C,2CAA2C,CAC9C,CAAC;QACJ,CAAC;QACD,OAAO,cAAc,CAAC;IACxB,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;AC3QD;;;;GAIG;AAqBc;AACyB;AACsB;AACD;AAEvB;AACc;AACc;AAEpE;;;GAGG;AACH,MAAM,2BAA2B,GAAG,EAAE,CAAC;AAEvC;;GAEG;AACH,MAAM,8BAA8B,GAAG,EAAE,CAAC;AAE1C;;GAEG;AACI,MAAM,oBAAoB,GAAG,YAAY,CAAC;AAEjD;;GAEG;AACH,IAAY,QASX;AATD,WAAY,QAAQ;IAClB;;OAEG;IACH,2CAAM;IACN;;OAEG;IACH,uCAAI;AACN,CAAC,EATW,QAAQ,KAAR,QAAQ,QASnB;AAED;;GAEG;AACI,MAAM,KAAK;IA2BhB,YACY,UAAsB,EAChC,oBAAoB,GAAG,IAAI,EAC3B,uBAAuC;QAF7B,eAAU,GAAV,UAAU,CAAY;QA3BlC;;;;;;WAMG;QACO,UAAK,GAAgC,IAAI,GAAG,EAAE,CAAC;QAEzD,qFAAqF;QAC7E,sBAAiB,GAAqC,IAAI,OAAO,EAAE,CAAC;QAO5E,6EAA6E;QACrE,sBAAiB,GAAY,IAAI,CAAC;QAE1C,4DAA4D;QACpD,mBAAc,GAAmC,QAAQ,CAAC;QAUhE,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QACjD,IAAI,CAAC,uBAAuB,GAAG,uBAAuB,CAAC;IACzD,CAAC;IAED;;;;;;;OAOG;IACH,OAAO,CAAC,SAAuB,EAAE,SAAqB;QACpD,OAAO,CAAC,CAAC,CACP,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAK,6CAAe,CAAC,SAAS;YACxD,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;YAC3C,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,uBAAuB;aACrD,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,SAAS,EAAE,EACvB,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACH,QAAQ,CAAC,SAAuB;QAC9B,OAAO,CACL,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CACzE,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,uBAAuB,CAAC,OAAgB;QACtC,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC;IACtC,CAAC;IAED;;;;OAIG;IACH,oBAAoB,CAAC,OAAgB;QACnC,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;QACrD,oCAAoC;QACpC,KAAK,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YAChD,MAAM,YAAY,GAAI,QAAQ,CAAC,SAAiB,CAAC,YAAY,CAAC;YAC9D,IAAI,YAAY,YAAY,yEAAoB,EAAE,CAAC;gBACjD,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YAC7C,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,iBAAiB,CAAC,IAAoC;QACpD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,iBAAiB,GAAG,IAAI,KAAK,SAAS,CAAC;QAC5C,oCAAoC;QACpC,KAAK,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YAChD,MAAM,YAAY,GAAI,QAAQ,CAAC,SAAiB,CAAC,YAAY,CAAC;YAC9D,IAAI,YAAY,YAAY,yEAAoB,EAAE,CAAC;gBACjD,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACvC,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;;;;;;;;OAaG;IACH,SAAS,CACP,SAAuB,EACvB,SAAsE,EACtE,QAAkB,EAClB,UAAqC,EACrC,cAA2B;QAE3B,IAAI,SAAS,YAAY,6CAAQ,EAAE,CAAC;YAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,QAAQ,EAAE,UAAU,EAAE,cAAc,CAAC,CAAC;QAC1E,CAAC;aAAM,IAAI,SAAS,YAAY,6CAAQ,CAAC,wBAAwB,EAAE,CAAC;YAClE,IAAI,CAAC,aAAa,GAAG,IAAI,gEAAmB,CAAC,SAAS,CAAC,CAAC;QAC1D,CAAC;QACD,0BAA0B;QAC1B,MAAM,YAAY,GAAG,6CAAQ,CAAC,mBAAmB,CAC/C,6CAAQ,CAAC,IAAI,CAAC,aAAa,EAC3B,SAAS,CAAC,OAAO,EACjB,IAAI,CACL,CAAC;QACF,IAAI,CAAC,YAAY;YAAE,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;QAC5D,MAAM,OAAO,GAAG,IAAI,YAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAEvD,iEAAiE;QAC/D,MAAM,YAAY,GAAG,CAAC,GAAU,EAAE,EAAE;;YACpC,MAAM,KAAK,GAAG,GAAiB,CAAC;YAEhC,MAAM,YAAY,GAAI,SAAiB,CAAC,YAAY,CAAC;YACrD,MAAM,eAAe,GAAG,kBAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,mBAAmB,4DAAI,CAAC;YAE9D,MAAM,cAAc,GAAG,KAAK,CAAC,aAAoB,CAAC;YAClD,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC;YAE7C,qEAAqE;YACrE,+EAA+E;YAC/E,sEAAsE;YACtE,MAAM,aAAa,GAAG,CAAC,cAAc,IAAI,cAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,OAAO,MAAK,MAAM,CAAC;YAE3E,IAAI,aAAa,EAAE,CAAC;gBAClB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC1B,OAAO;YACT,CAAC;YAED,yDAAyD;YACzD,MAAM,kBAAkB,GAAG,cAAc,CAAC,CAAC,CAAC,8DAAkB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACvF,MAAM,eAAe,GAAG,aAAa,IAAI,aAAa,CAAC,OAAO,KAAK,MAAM,CAAC,CAAC,CAAC,8DAAkB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACtH,MAAM,qBAAqB,GAAG,cAAc,IAAI,CAAC,kBAAkB,IAAI,CAAC,eAAe,CAAC;YAExF,IAAI,qBAAqB,EAAE,CAAC;gBAC1B,6DAA6D;gBAC7D,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC1B,OAAO;YACT,CAAC;YAED,IAAI,CAAC,eAAe,EAAE,CAAC;gBACrB,yEAAyE;gBACzE,wEAAwE;gBACxE,MAAM,qBAAqB,GACzB,CAAC,cAAc,IAAI,IAAI,CAAC,4BAA4B,CAAC,cAAc,CAAC,CAAC;oBACrE,CAAC,aAAa,IAAI,IAAI,CAAC,4BAA4B,CAAC,aAAa,CAAC,CAAC,CAAC;gBAEtE,0DAA0D;gBAC1D,oDAAoD;gBACpD,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC3B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC7B,CAAC;gBACD,OAAO;YACT,CAAC;YAED,4EAA4E;YAC5E,MAAM,qBAAqB,GACzB,8DAAkB,CAAC,cAAc,CAAC;gBAClC,8DAAkB,CAAC,aAAa,CAAC,CAAC;YAEpC,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC3B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAC7B,CAAC;QACH,CAAC,CAAC;QACF,wDAAwD;QACxD,SAAS,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;QAC1C,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;QACvF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAChC,cAAc;QACd,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,kEAAkE;QAClE,wEAAwE;QACxE,iDAAiD;QACjD,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC5C,SAAS,CAAC,mBAAmB,EAAE,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QAEvE,oEAAoE;QACpE,oEAAoE;QACpE,oEAAoE;QACpE,+DAA+D;QAC/D,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,qDAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;aACxE,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC;aACxC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE;YAClB,OAAO,CACL,OAAO;gBACP,CAAC;oBACC,0CAAK,CAAC,QAAQ,CAAC,KAAK;oBACpB,0CAAK,CAAC,QAAQ,CAAC,IAAI;oBACnB,0CAAK,CAAC,QAAQ,CAAC,EAAE;oBACjB,0CAAK,CAAC,QAAQ,CAAC,IAAI;oBACnB,0CAAK,CAAC,QAAQ,CAAC,KAAK;oBACpB,0CAAK,CAAC,QAAQ,CAAC,GAAG;oBAClB,0CAAK,CAAC,QAAQ,CAAC,CAAC;iBACjB,CAAC,QAAQ,CACR,OAAO,OAAO,KAAK,QAAQ;oBACzB,CAAC,CAAC,OAAO;oBACT,CAAC,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAC5C,CACF,CAAC;QACJ,CAAC,CAAC;YACF,6CAA6C;aAC5C,MAAM,CAAC,CAAC,OAAO,EAA8B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAE9D,MAAM,kBAAkB,GAAG;YACzB,IAAI,EAAE,oBAAoB;YAC1B,cAAc,EAAE,CAAC,SAAuB,EAAE,EAAE;gBAC1C,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC;YACD,QAAQ,EAAE,CAAC,SAAuB,EAAE,EAAE;gBACpC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;gBAC3B,OAAO,KAAK,CAAC;YACf,CAAC;YACD,QAAQ,EAAE,YAAY;YACtB,cAAc,EAAE,IAAI;SACrB,CAAC;QAEF,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;QAEvD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;OAOG;IACH,UAAU,CAAC,SAAuB;QAChC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC;YAC/B,OAAO,KAAK,CAAC;QACf,CAAC;QAED,MAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;QAE/C,IAAI,CAAC,OAAO,CAAC,SAAS,CACpB,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAClC,IAAI,0CAAK,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAC3B,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;OAOG;IACH,SAAS,CAAC,SAAuB;;QAC/B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC;YAC/B,OAAO,KAAK,CAAC;QACf,CAAC;QAED,MAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;QAE/C,8DAA8D;QAC9D,MAAM,YAAY,GAAI,IAAI,CAAC,SAAiB;aACzC,YAAoC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAA2B,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;QAE3E,mEAAmE;QACnE,mEAAmE;QACnE,MAAM,MAAM,GAAG,kBAAY,CAAC,mBAAmB,0CAAE,SAAS,CAAC;QAE3D,yEAAyE;QACzE,mEAAmE;QACnE,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAExC,IAAI,CAAC,OAAO,CAAC,SAAS,CACpB,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,EAClC,IAAI,CAAC,aAAa,CACnB,CAAC;QAEF,IAAI,YAAY,CAAC,QAAQ,KAAK,QAAQ,CAAC,MAAM,IAAI,MAAM,EAAE,CAAC;YACxD,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC3C,CAAC;QAED,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACK,iBAAiB,CAAC,SAAuB;QAC/C,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;QAC3D,sDAAc,CAAC,SAAS,CAAC,CAAC;QAE1B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAEzD,kDAAkD;QAClD,IAAI,CAAC,SAAS;aACX,mBAAmB,EAAE;aACrB,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAElD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACK,kBAAkB,CAAC,SAAuB,EAAE,IAAc;;QAChE,UAAI,CAAC,aAAa,0CAAE,OAAO,EAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;QAC/B,IAAI,IAAI,CAAC,SAAS,YAAY,6CAAQ,EAAE,CAAC;YACvC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC;QACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC7B,SAAS,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;QAE3C,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC;QAED,oDAAoD;QACpD,qBAAqB,CAAC,GAAG,EAAE;YACzB,IAAI,IAAI,CAAC,SAAS,YAAY,6CAAQ,EAAE,CAAC;gBACvC,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC/B,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;gBACxC,OAAO,MAAM,YAAY,6CAAQ,EAAE,CAAC;oBAClC,SAAS,GAAG,MAAM,CAAC;oBACnB,MAAM,GAAG,MAAM,CAAC,SAAS,EAAc,CAAC;gBAC1C,CAAC;gBAED,SAAS,CAAC,MAAM,EAAE,CAAC;gBAEnB,IAAI,SAAS,KAAK,IAAI,CAAC,SAAS,EAAE,CAAC;oBACjC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;gBAC1B,CAAC;YACH,CAAC;YAED,SAAS,CAAC,MAAM,EAAE,CAAC;YACnB,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,CAAC;YAC7C,wDAAe,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;;OAOG;IACH,eAAe,CAAC,SAAuB,EAAE,SAAoB;QAC3D,IAAI,CAAC,SAAS;YAAE,OAAO,KAAK,CAAC;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAEzD,IAAI,IAAI,CAAC,SAAS,YAAY,6CAAQ,CAAC,wBAAwB,EAAE,CAAC;YAChE,OAAO,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACtD,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,MAAM,CACjB,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,SAAS,CAAC,EAC/C,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAC/C,CAAC;QAEF,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,4BAA4B,CAC/B,SAAS,EACT,8BAA8B,CAC/B,CAAC;QACF,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;OAOG;IACH,iBAAiB,CAAC,SAAuB,EAAE,SAAoB;;QAC7D,IAAI,CAAC,SAAS;YAAE,OAAO,KAAK,CAAC;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI;YAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAEzD,MAAM,EAAC,CAAC,EAAE,CAAC,EAAC,GAAG,mEAAkB,CAAC,SAAS,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,2BAA2B,GAAG,SAAS,CAAC,KAAK,CAAC;QACvE,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,2BAA2B,GAAG,SAAS,CAAC,KAAK,CAAC;QAEvE,IAAI,CAAC,OAAO,CAAC,MAAM,CACjB,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,EACpC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAC/C,CAAC;QACF,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,CAAC;QAC7C,UAAI,CAAC,aAAa,0CAAE,cAAc,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;;OAQG;IACK,iBAAiB,CACvB,KAAe,EACf,QAAkB,EAClB,UAAqC,EACrC,cAA2B;QAE3B,kDAAkD;QAClD,MAAM,eAAe,GAAG,KAAK,CAAC,YAAY,CAAC;QAE3C,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC;QAEnD,MAAM,cAAc,GAAG,GAAG,EAAE;YAC1B,MAAM,SAAS,GAAG,KAAK,CAAC,SAAyB,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC7B,CAAC,CAAC;QAEF,MAAM,oBAAoB,GAAG,IAAI,yEAAoB,CACnD,KAAK,EACL,QAAQ,EACR,UAAU,EACV,IAAI,CAAC,oBAAoB,EACzB,cAAc,EACd,cAAc,CACf,CAAC;QACF,oBAAoB,CAAC,oBAAoB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAClE,oBAAoB,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC5D,KAAK,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACK,mBAAmB,CAAC,KAAe;QACzC,IAAI,CAAC;YACH,iDAAiD;YACjD,MAAM,eAAe,GAAG,KAAK,CAAC,YAAY,CAAC;YAC3C,IAAI,eAAe,YAAY,yEAAoB,EAAE,CAAC;gBACpD,eAAe,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;gBAC5C,eAAe,CAAC,qBAAqB,CAAC,eAAe,EAAE,CAAC;YAC1D,CAAC;YAED,MAAM,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACtD,IAAI,WAAW,EAAE,CAAC;gBAChB,KAAK,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;gBACnC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;QACH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,+BAA+B;QACjC,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACK,4BAA4B,CAAC,SAAuB,EAAE,OAAO,GAAG,CAAC;;QACvE,IAAI,UAAI,CAAC,uBAAuB,oDAAI,EAAE,CAAC;YACrC,OAAO;QACT,CAAC;QAED,MAAM,SAAS,GAAG,UAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,0CAAE,SAAS,CAAC;QACvD,IAAI,SAAS,EAAE,CAAC;YACd,MAAM,MAAM,GAAG,CACb,SAAS,YAAY,6CAAQ;gBAC3B,CAAC,CAAC,SAAS,CAAC,mCAAmC,EAAE;gBACjD,CAAC,CAAC,SAAS,CAAC,oBAAoB,EAAE,CACrC,CAAC,KAAK,EAAE,CAAC;YACV,MAAM,CAAC,GAAG,IAAI,OAAO,CAAC;YACtB,MAAM,CAAC,MAAM,IAAI,OAAO,CAAC;YACzB,MAAM,CAAC,IAAI,IAAI,OAAO,CAAC;YACvB,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC;YACxB,SAAS,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QACzC,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACK,4BAA4B,CAAC,OAAY;;QAC/C,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS;YAAE,OAAO,KAAK,CAAC;QAEjD,2EAA2E;QAC3E,IAAI,OAAO,GAAG,OAAO,CAAC;QACtB,OAAO,OAAO,EAAE,CAAC;YACf,IACE,cAAO,CAAC,SAAS,0CAAE,QAAQ,CAAC,4BAA4B,CAAC;iBACzD,aAAO,CAAC,SAAS,0CAAE,QAAQ,CAAC,iCAAiC,CAAC,GAC9D,CAAC;gBACD,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC;QAClC,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;OAOG;IACK,YAAY,CAAC,OAAyB,EAAE,QAAkB;QAChE,IAAI,QAAQ,KAAK,QAAQ,CAAC,MAAM,EAAE,CAAC;YACjC,0CAA0C;YAC1C,8DAA8D;YAC7D,OAAe,CAAC,oBAAoB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC;QACrD,CAAC;aAAM,CAAC;YACN,gEAAgE;YAChE,8DAA8D;YAC7D,OAAe,CAAC,mBAAmB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC;QACpD,CAAC;IACH,CAAC;CACF;AAED;;;GAGG;AACI,MAAM,QAAQ;IAQnB,YACW,SAAuB,EACvB,SAAwD,EACxD,OAAiB,EACjB,YAA2B,EACpC,cAA2B;;QAJlB,cAAS,GAAT,SAAS,CAAc;QACvB,cAAS,GAAT,SAAS,CAA+C;QACxD,YAAO,GAAP,OAAO,CAAU;QACjB,iBAAY,GAAZ,YAAY,CAAe;QAXtC,gDAAgD;QAChD,eAAU,GAAG,IAAI,0CAAK,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/B,eAAU,GAAsB,IAAI,CAAC;QACrC,gBAAW,GAAsB,IAAI,CAAC;QAW7C,IAAI,SAAS,YAAY,6CAAQ,EAAE,CAAC;YAClC,IAAI,CAAC,UAAU,GAAG,qBAAS,CAAC,kBAAkB,0CAAE,gBAAgB,mCAAI,IAAI,CAAC;YACzE,IAAI,CAAC,WAAW,GAAG,qBAAS,CAAC,gBAAgB,0CAAE,gBAAgB,mCAAI,IAAI,CAAC;QAC1E,CAAC;QACD,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,sBAAsB,EAAE,CAAC;QACxD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACvC,CAAC;IAED;;;;;;;OAOG;IACH,gBAAgB,CAAC,IAAY,EAAE,SAAqB;QAClD,MAAM,WAAW,GAAG,0CAAK,CAAC,OAAO,CAAC,qBAAqB,CACrD,IAAI,CAAC,SAAS,EACd,IAAI,0CAAK,CAAC,UAAU,CAClB,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EACxC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CACzC,CACF,CAAC;QACF,MAAM,KAAK,GAAG,mEAAkB,CAAC,SAAS,CAAC,CAAC;QAC5C,OAAO,IAAI,YAAY,CAAC,IAAI,EAAE;YAC5B,OAAO,EAAE,WAAW,CAAC,CAAC;YACtB,OAAO,EAAE,WAAW,CAAC,CAAC;YACtB,KAAK,EAAE,KAAK,CAAC,CAAC;YACd,KAAK,EAAE,KAAK,CAAC,CAAC;SACf,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,gBAAgB;QACd,IAAI,IAAI,CAAC,SAAS,YAAY,6CAAQ,EAAE,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,IAAI,0CAAK,CAAC,UAAU,CACpC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,EACtD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CACvD,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,UAAU,GAAG,IAAI,0CAAK,CAAC,UAAU,CACpC,IAAI,CAAC,SAAS,CAAC,oBAAoB,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,EACjE,IAAI,CAAC,SAAS,CAAC,oBAAoB,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CACjE,CAAC;QACJ,CAAC;IACH,CAAC;CACF;;;;;;;;;;;;;;;;;;ACvsBD;;;;GAIG;AAEgE;AACzB;AAE1C;;;GAGG;AACI,MAAM,qBAAqB;IAAlC;QACU,mBAAc,GAAwC,EAAE,CAAC;IAyDnE,CAAC;IAvDC,OAAO;QACL,MAAM,cAAc,GAAG,CAAC,SAAuB,EAAE,EAAE,CACjD,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAE9B,SAAS,cAAc,CAAC,SAAuB;;YAC7C,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;YACrC,iDAAiD;YACjD,OAAO,kBAAM,CAAC,cAAc,EAAE,0CAAE,YAAY,EAAE,mCAAI,MAAM,CAAC,UAAU,EAAE,CAAC;QACxE,CAAC;QAED,MAAM,qBAAqB,GAAsC;YAC/D,IAAI,EAAE,sDAAwB,CAAC,cAAc;YAC7C,cAAc;YACd,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;gBACtB,MAAM,WAAW,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW;oBAAE,OAAO,KAAK,CAAC;gBAC/B,MAAM,QAAQ,GAAG,SAAS;qBACvB,YAAY,EAAE;qBACd,kBAAkB,CAAC,WAAW,CAAC,CAAC;gBACnC,IAAI,CAAC,QAAQ;oBAAE,OAAO,KAAK,CAAC;gBAC5B,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC3C,OAAO,IAAI,CAAC;YACd,CAAC;YACD,QAAQ,EAAE,CAAC,+CAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC7B,CAAC;QAEF,MAAM,iBAAiB,GAAsC;YAC3D,IAAI,EAAE,sDAAwB,CAAC,UAAU;YACzC,cAAc;YACd,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;gBACtB,MAAM,WAAW,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC;gBAC9C,IAAI,CAAC,WAAW;oBAAE,OAAO,KAAK,CAAC;gBAC/B,MAAM,QAAQ,GAAG,SAAS,CAAC,YAAY,EAAE,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;gBACtE,IAAI,CAAC,QAAQ;oBAAE,OAAO,KAAK,CAAC;gBAC5B,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC3C,OAAO,IAAI,CAAC;YACd,CAAC;YACD,QAAQ,EAAE,CAAC,+CAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC7B,CAAC;QAEF,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;QAC1D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAChD,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC9C,CAAC;IAED;;OAEG;IACH,SAAS;QACP,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE,CACvC,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CACpD,CAAC;QACF,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;IACjC,CAAC;CACF;;;;;;;;;;;;;;;;;;ACvED;;;;GAIG;AAMc;AACyB;AAI1C,MAAM,QAAQ,GAAG,0CAAY,CAAC,QAAQ,CAAC;AACvC,MAAM,mBAAmB,GAAG,qDAAgB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAC5E,qDAAgB,CAAC,QAAQ,CAC1B,CAAC;AAEF;;;GAGG;AACI,MAAM,iBAAiB;IAC5B,YAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAElC,cAAS,GAAwC;YACvD,oDAAoD;YACpD;gBACE,IAAI,EAAE,sDAAwB,CAAC,mBAAmB;gBAClD,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;gBAC7C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;gBAC5D,QAAQ,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9D;YACD,qDAAqD;YACrD;gBACE,IAAI,EAAE,sDAAwB,CAAC,oBAAoB;gBACnD,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;gBAC7C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC3D,QAAQ,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9D;YACD,2CAA2C;YAC3C;gBACE,IAAI,EAAE,sDAAwB,CAAC,iBAAiB;gBAChD,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;gBAC7C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5D,QAAQ,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9D;YAED,6CAA6C;YAC7C;gBACE,IAAI,EAAE,sDAAwB,CAAC,mBAAmB;gBAClD,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;gBAC7C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC3D,QAAQ,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9D;YAED,wCAAwC;YACxC;gBACE,IAAI,EAAE,sDAAwB,CAAC,gBAAgB;gBAC/C,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE;oBAC5B,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;oBACtB,MAAM,eAAe,GAAG,SAAS,CAAC,QAAQ;wBACxC,CAAC,CAAC,SAAS,CAAC,eAAe;wBAC3B,CAAC,CAAC,SAAS,CAAC;oBACd,IAAI,CAAC,eAAe;wBAAE,OAAO,KAAK,CAAC;oBACnC,iEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,OAAO,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;gBAC9C,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;aACvB;SACF,CAAC;IArD2C,CAAC;IAuD9C;;OAEG;IACH,OAAO;QACL,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACtC,qDAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;IACH,CAAC;IAED;;OAEG;IACH,SAAS;QACP,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACtC,qDAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtD,CAAC;IACH,CAAC;IAED;;;;;;;;OAQG;IACH,YAAY,CACV,SAAuB,EACvB,UAAkB,EAClB,UAAkB;QAElB,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,SAAuB;QACpC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC5C,OAAO,IAAI,CAAC;IACd,CAAC;CACF;;;;;;;;;;;;;;;;AC5HD;;;GAGG;AASI,MAAM,UAAU,GAAc;IACnC,MAAM,EAAE,SAAS;IACjB,OAAO,EAAE,IAAI;IACb,SAAS,EAAE,0BAA0B;IACrC,YAAY,EAAE,UAAU;CACzB,CAAC;AAEF,qEAAqE;AACrE,gEAAgE;AAChE,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE,CAAC;IACjC,MAAc,CAAC,cAAc,GAAG,UAAU,CAAC;IAE5C,+DAA+D;IAC/D,IAAI,OAAO,MAAM,CAAC,aAAa,KAAK,UAAU,EAAE,CAAC;QAC/C,UAAU,CAAC,GAAG,EAAE;YACd,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,kBAAkB,EAAE;gBAChD,MAAM,EAAE,UAAU;aACnB,CAAC,CAAC;YACH,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;AACH,CAAC;;;;;;;;;;;;;;;;;;;;ACjCD;;;;GAIG;AAEqC;AAExC;;;;;GAKG;AACI,SAAS,wBAAwB;IACtC,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAChD,SAAS,CAAC,EAAE,GAAG,YAAY,CAAC;IAC5B,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC;IAEnC,oCAAoC;IACpC,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,mDAAU,CAAC,SAAS,CAAC,CAAC;IACjD,MAAM,UAAU,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;IAE9C,SAAS,CAAC,SAAS,GAAG;;;;oCAIY,mDAAU,CAAC,YAAY;;;;oCAIvB,UAAU;;;GAG3C,CAAC;IAEF,OAAO,SAAS,CAAC;AACnB,CAAC;AAED;;;GAGG;AACI,SAAS,uBAAuB;IACrC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC9C,KAAK,CAAC,WAAW,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA0DnB,CAAC;IAEF,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AACnC,CAAC;AAED;;;;;GAKG;AACI,SAAS,eAAe,CAAC,OAAoB;IAClD,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,mDAAU,CAAC,SAAS,CAAC,CAAC;IACjD,MAAM,UAAU,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;IAE9C,MAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,6BAA6B,CAAC,CAAC;IACvE,MAAM,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;IAEjE,IAAI,SAAS,EAAE,CAAC;QACd,SAAS,CAAC,WAAW,GAAG,mDAAU,CAAC,YAAY,CAAC;IAClD,CAAC;IACD,IAAI,MAAM,EAAE,CAAC;QACX,MAAM,CAAC,WAAW,GAAG,UAAU,CAAC;IAClC,CAAC;AACH,CAAC;AAED;;;;;GAKG;AACH,SAAS,iBAAiB;IACxB,4EAA4E;IAC5E,IAAI,OAAO,MAAM,KAAK,WAAW,IAAK,MAAc,CAAC,cAAc,EAAE,CAAC;QACpE,OAAQ,MAAc,CAAC,cAAc,CAAC;IACxC,CAAC;IACD,OAAO,mDAAU,CAAC;AACpB,CAAC;AAED;;;;;;;GAOG;AACI,SAAS,yBAAyB,CACvC,OAAoB,EACpB,kBAAkB,GAAG,IAAI;IAEzB,IAAI,aAAa,GAAG,mDAAU,CAAC,SAAS,CAAC;IAEzC,gDAAgD;IAChD,MAAM,QAAQ,GAAG,CAAC,SAA4B,EAAE,EAAE;QAChD,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAChD,MAAM,UAAU,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;QAE9C,MAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,6BAA6B,CAAC,CAAC;QACvE,MAAM,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;QAEjE,IAAI,SAAS,EAAE,CAAC;YACd,SAAS,CAAC,WAAW,GAAG,SAAS,CAAC,YAAY,CAAC;QACjD,CAAC;QACD,IAAI,MAAM,EAAE,CAAC;YACX,MAAM,CAAC,WAAW,GAAG,UAAU,CAAC;QAClC,CAAC;QAED,8CAA8C;QAC9C,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,aAAa,CAAC;QACxC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,qBAAqB,CAAC;QACjD,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC;QACvC,CAAC,EAAE,GAAG,CAAC,CAAC;QAER,OAAO,CAAC,GAAG,CAAC,0BAA0B,SAAS,CAAC,YAAY,KAAK,UAAU,GAAG,CAAC,CAAC;IAClF,CAAC,CAAC;IAEF,+DAA+D;IAC/D,MAAM,aAAa,GAAG,CAAC,KAAkB,EAAE,EAAE;QAC3C,MAAM,cAAc,GAAG,KAAK,CAAC,MAAM,CAAC;QACpC,IAAI,cAAc,IAAI,cAAc,CAAC,SAAS,KAAK,aAAa,EAAE,CAAC;YACjE,aAAa,GAAG,cAAc,CAAC,SAAS,CAAC;YACzC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC,CAAC;IAEF,mDAAmD;IACnD,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,gBAAgB,EAAE,CAAC;QAC7D,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,aAA8B,CAAC,CAAC;IAC9E,CAAC;IAED,0FAA0F;IAC1F,MAAM,UAAU,GAAG,WAAW,CAAC,GAAG,EAAE;QAClC,MAAM,cAAc,GAAG,iBAAiB,EAAE,CAAC;QAE3C,IAAI,cAAc,IAAI,cAAc,CAAC,SAAS,KAAK,aAAa,EAAE,CAAC;YACjE,aAAa,GAAG,cAAc,CAAC,SAAS,CAAC;YACzC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC,EAAE,kBAAkB,CAAC,CAAC;IAEvB,0BAA0B;IAC1B,OAAO,GAAG,EAAE;QACV,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,mBAAmB,EAAE,CAAC;YAChE,MAAM,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,aAA8B,CAAC,CAAC;QACjF,CAAC;QACD,aAAa,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;ACrND;;;;GAIG;AAQc;AAEjB,kEAAkE;AAClE,MAAM,2BAA2B,GAAG,EAAE,CAAC;AAEvC,0EAA0E;AAC1E,MAAM,wBAAwB,GAAG,EAAE,CAAC;AAcpC;;;GAGG;AACI,MAAM,qBAAqB;IAsChC,YACE,SAAuB,EACvB,iBAA4D;QAvC9D,0DAA0D;QAClD,wBAAmB,GAAiB,IAAI,GAAG,EAAE,CAAC;QAEtD,sEAAsE;QAC9D,wBAAmB,GACzB,IAAI,OAAO,EAAE,CAAC;QAEhB,yFAAyF;QACjF,4BAAuB,GAG3B,IAAI,OAAO,EAAE,CAAC;QAWlB,4DAA4D;QACpD,mBAAc,GAAmC,QAAQ,CAAC;QAQlE,8EAA8E;QACtE,mBAAc,GAAuB,IAAI,CAAC;QAElD,kFAAkF;QAC1E,sBAAiB,GAAkB,IAAI,GAAG,EAAE,CAAC;QAMnD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAE3C,2DAA2D;QAC3D,qEAAqE;QACrE,MAAM,YAAY,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC5E,IAAI,CAAC,0BAA0B,GAAG,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAEjE,IAAI,CAAC,cAAc,GAAG,GAAG,EAAE;YACzB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC1B,CAAC,CAAC;QAEF,uDAAuD;QACvD,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED;;OAEG;IACK,oBAAoB;QAC1B,oFAAoF;QACpF,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAChD,IAAI,SAAS,EAAE,CAAC;YACd,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;YAClF,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,OAAO,EAAE,iCAAiC,CAAC,CAAC;YAC7E,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC7C,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,oBAAoB,CAAC,OAAgB;QACnC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;IACvD,CAAC;IAED;;;;OAIG;IACH,iBAAiB,CAAC,IAAoC;QACpD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED;;;;;;OAMG;IACH,yBAAyB,CACvB,WAAqB,EACrB,cAAoC,EACpC,gBAAsC;QAEtC,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,MAAM,gBAAgB,GAAG,IAAI,CAAC,uBAAuB,CACnD,WAAW,EACX,cAAc,EACd,gBAAgB,CACjB,CAAC;QAEF,qDAAqD;QACrD,0FAA0F;QAC1F,MAAM,sBAAsB,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YAC5D,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC;YAChE,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC;YAChE,kFAAkF;YAClF,OAAO,MAAM,GAAG,MAAM,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,KAAK,MAAM,eAAe,IAAI,sBAAsB,EAAE,CAAC;YACrD,MAAM,WAAW,GAAG,eAAe,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;YAC/D,IAAI,CAAC,CAAC,WAAW,YAAY,6CAAQ,CAAC;gBAAE,SAAS;YAEjD,sDAAsD;YACtD,MAAM,oBAAoB,GAAG,IAAI,CAAC,wBAAwB,CAAC,WAAW,CAAC,CAAC;YAExE,+DAA+D;YAC/D,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,SAAS,EAAE,oBAAoB,CAAC,CAAC;YAE1E,yCAAyC;YACzC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC1C,CAAC;QAED,oDAAoD;QACpD,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC9C,IAAI,QAAQ,EAAE,CAAC;gBACb,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACxD,CAAC;QACH,CAAC;QAED,OAAO,gBAAgB,CAAC;IAC1B,CAAC;IAED;;;;;;;OAOG;IACK,uBAAuB,CAC7B,WAAqB,EACrB,cAAoC,EACpC,gBAAsC;QAEtC,MAAM,gBAAgB,GAAsB,EAAE,CAAC;QAC/C,MAAM,iBAAiB,GAAG,WAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC;QAElE,KAAK,MAAM,SAAS,IAAI,gBAAgB,EAAE,CAAC;YACzC,KAAK,MAAM,kBAAkB,IAAI,cAAc,EAAE,CAAC;gBAChD,iEAAiE;gBACjE,IAAI,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE,WAAW,CAAC,EAAE,CAAC;oBAC1D,SAAS;gBACX,CAAC;gBAED,wDAAwD;gBACxD,wEAAwE;gBACxE,IAAI,kBAAkB,CAAC,gBAAgB;oBACnC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,gBAAsC,CAAC,EAAE,CAAC;oBACzF,SAAS;gBACX,CAAC;gBAED,oEAAoE;gBACpE,sEAAsE;gBACtE,oDAAoD;gBACpD,MAAM,gBAAgB,GACpB,CAAC,SAAS,CAAC,IAAI,KAAK,mDAAc,CAAC,YAAY;oBAC9C,kBAAkB,CAAC,IAAI,KAAK,mDAAc,CAAC,WAAW,CAAC;oBACxD,CAAC,SAAS,CAAC,IAAI,KAAK,mDAAc,CAAC,kBAAkB;wBACpD,kBAAkB,CAAC,IAAI,KAAK,mDAAc,CAAC,cAAc,CAAC;oBAC3D,CAAC,SAAS,CAAC,IAAI,KAAK,mDAAc,CAAC,cAAc;wBAChD,kBAAkB,CAAC,IAAI,KAAK,mDAAc,CAAC,kBAAkB,CAAC,CAAC;gBAElE,IAAI,CAAC,gBAAgB,EAAE,CAAC;oBACtB,SAAS;gBACX,CAAC;gBAED,8CAA8C;gBAC9C,IAAI,iBAAiB,CAAC,UAAU,CAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE,CAAC;oBAChF,gBAAgB,CAAC,IAAI,CAAC;wBACpB,KAAK,EAAE,SAAS;wBAChB,SAAS,EAAE,kBAAkB;wBAC7B,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,kBAAkB,CAAC;qBAChE,CAAC,CAAC;gBACL,CAAC;YACH,CAAC;QACH,CAAC;QAED,8CAA8C;QAC9C,yEAAyE;QACzE,0EAA0E;QAC1E,MAAM,OAAO,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;QACvE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACpB,MAAM,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YACvD,mEAAmE;YACnE,IAAI,YAAY,KAAK,CAAC;gBAAE,OAAO,YAAY,CAAC;YAC5C,sEAAsE;YACtE,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,2BAA2B,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9E,CAAC;IAED;;;;;OAKG;IACK,mBAAmB,CAAC,UAA8B,EAAE,gBAAyB,KAAK;QACxF,IAAI,CAAC;YACH,IAAI,CAAC,6BAA6B,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;QAChE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,gDAAgD,EAAE,KAAK,CAAC,CAAC;QACzE,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACK,6BAA6B,CAAC,UAA8B,EAAE,gBAAyB,KAAK;QAClG,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,CAAC,CAAC,WAAW,YAAY,6CAAQ,CAAC;YAAE,OAAO;QAE/C,MAAM,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;QACxC,MAAM,QAAQ,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;QACzC,IAAI,CAAC,QAAQ;YAAE,OAAO;QAEtB,IAAI,SAAqB,CAAC;QAE1B,QAAQ,UAAU,CAAC,IAAI,EAAE,CAAC;YACxB,KAAK,mDAAc,CAAC,kBAAkB,CAAC;YACvC,KAAK,mDAAc,CAAC,cAAc;gBAChC,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;gBAC5E,MAAM;YAER,KAAK,mDAAc,CAAC,WAAW,CAAC;YAChC,KAAK,mDAAc,CAAC,YAAY;gBAC9B,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;gBAC1E,MAAM;YAER;gBACE,OAAO;QACX,CAAC;QAED,IAAI,SAAS,EAAE,CAAC;YACd,oCAAoC;YACpC,SAAS,CAAC,YAAY,CAAC,mBAAmB,EAAE,UAAU,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YACrE,SAAS,CAAC,YAAY,CAAC,mBAAmB,EAAE,UAAU,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YACrE,SAAS,CAAC,YAAY,CACpB,sBAAsB,EACtB,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAC3B,CAAC;YAEF,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;YACpD,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,SAAS,EAAE;gBAC1C,UAAU,EAAE,UAAU;gBACtB,IAAI,EAAE,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE;aACtC,CAAC,CAAC;YAEH,wCAAwC;YACxC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC3B,MAAM,YAAY,GAAG,CAAC,KAAY,EAAE,EAAE;oBACpC,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,IAAI,CAAC,iBAAkB,CAAC,UAAU,CAAC,CAAC;gBACtC,CAAC,CAAC;gBACF,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;gBAClD,SAAS,CAAC,gBAAgB,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;YAC1D,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;;;OAQG;IACK,oBAAoB,CAC1B,UAA8B,EAC9B,SAAuB,EACvB,gBAAyB,KAAK;QAE9B,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,CAAC,CAAC,WAAW,YAAY,6CAAQ,CAAC,EAAE,CAAC;YACvC,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;QACpD,CAAC;QAED,MAAM,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QACrD,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,eAAe,GAAG,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAEvD,IAAI,CAAC,eAAe,IAAI,CAAE,eAAuB,CAAC,QAAQ,EAAE,CAAC;YAC3D,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;QACnD,CAAC;QAED,MAAM,IAAI,GAAG,SAAS,CAAC,iBAAiB,GAAG,SAAS,CAAC,aAAa,CAAC;QACnE,MAAM,QAAQ,GAAI,eAAuB,CAAC,QAAQ,CAAC;QACnD,MAAM,UAAU,GAAI,eAAuB,CAAC,KAAK,CAAC;QAElD,IAAI,aAAqB,CAAC;QAE1B,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC;YACtC,gCAAgC;YAChC,aAAa,GAAG,CACd,KAAK,CAAC,IAAI,KAAK;gBACf,KAAK,IAAI,GAAG;gBACZ,QAAQ;gBACR,KAAK,IAAI,EAAE,CACZ,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,uEAAuE;YACvE,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE9D,aAAa,GAAG,CACd,KAAK,CAAC,IAAI,IAAI,CAAC,UAAU,GAAG,GAAa,iBAAiB;gBAC1D,KAAK,UAAU,GAAG,aAAa,GAAG,GAAO,oBAAoB;gBAC7D,KAAK,IAAI,GAAG,GAA6B,gCAAgC;gBACzE,QAAQ,GAAiC,uBAAuB;gBAChE,KAAK,IAAI,GAAG,GAA6B,0BAA0B;gBACnE,KAAK,CAAC,CAAC,UAAU,GAAG,aAAa,CAAC,GAAG,GAAI,mBAAmB;gBAC5D,KAAK,CAAC,CAAC,UAAU,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,GAAS,mCAAmC;gBAC5E,GAAG,CAAsC,aAAa;aACvD,CAAC;QACJ,CAAC;QAED,MAAM,YAAY,GAAG,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;QAEpF,8FAA8F;QAC9F,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;QAChF,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAC9B,MAAM,cAAc,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,KAAK,GAAG,CAAC;QAC3F,MAAM,cAAc,GAAG,aAAa,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,IAAI,cAAc,EAAE,CAAC;QAE9E,YAAY,CAAC,YAAY,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;QAC9C,YAAY,CAAC,YAAY,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;QAEvD,IAAI,aAAa,IAAI,IAAI,CAAC,0BAA0B,EAAE,CAAC;YACrD,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;QAC1D,CAAC;aAAM,CAAC;YACN,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;QAC5D,CAAC;QAED,YAAY,CAAC,YAAY,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QACjD,YAAY,CAAC,YAAY,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;QACtD,YAAY,CAAC,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;QACrD,YAAY,CAAC,YAAY,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC;QACjE,YAAY,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;QAC1C,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;QAEtC,mCAAmC;QACnC,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAC9C,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC7C,CAAC;QAED,OAAO,YAAY,CAAC;IACtB,CAAC;IAED;;;;;;;;OAQG;IACK,6BAA6B,CACnC,UAA8B,EAC9B,WAAqB,EACrB,gBAAyB,KAAK;QAE9B,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YACrD,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YAE1C,MAAM,eAAe,GAAG,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YACvD,IAAI,CAAC,eAAe,EAAE,CAAC;gBACrB,OAAO,IAAI,CAAC;YACd,CAAC;YAED,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,gBAAgB,GAAG,SAAS,CAAC,UAAU,CAAC;YAE5C,IAAK,eAAuB,CAAC,SAAS,EAAE,CAAC;gBACvC,MAAM,UAAU,GAAI,WAAmB,CAAC,WAAW,CAAC;gBACpD,IAAI,UAAU,EAAE,CAAC;oBACf,MAAM,oBAAoB,GAAG,IAAI,CAAC,wBAAwB,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;oBACnF,IAAI,oBAAoB,IAAI,oBAAoB,CAAC,MAAM,EAAE,CAAC;wBACxD,gBAAgB,GAAG,oBAAoB,CAAC,MAAM,CAAC;oBACjD,CAAC;gBACH,CAAC;gBAED,QAAQ,GAAI,eAAuB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;YACjE,CAAC;iBAAM,IAAK,eAAuB,CAAC,QAAQ,EAAE,CAAC;gBAC7C,QAAQ,GAAI,eAAuB,CAAC,QAAQ,CAAC;YAC/C,CAAC;iBAAM,CAAC;gBACN,OAAO,IAAI,CAAC;YACd,CAAC;YAED,MAAM,IAAI,GAAG,SAAS,CAAC,mBAAmB,CAAC;YAE3C,IAAI,aAAqB,CAAC;YAC1B,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC;gBACtC,iCAAiC;gBACjC,aAAa,GAAG,CACd,OAAO,CAAC,IAAI,GAAG;oBACf,KAAK,IAAI,GAAG;oBACZ,QAAQ;oBACR,KAAK,IAAI,EAAE,CACZ,CAAC;YACJ,CAAC;iBAAM,CAAC;gBACN,mEAAmE;gBACnE,8EAA8E;gBAC9E,MAAM,QAAQ,GAAI,eAAuB,CAAC,KAAK,IAAI,SAAS,CAAC,SAAS,IAAI,CAAC,CAAC;gBAC5E,MAAM,YAAY,GAAG,IAAI,CAAC,cAAc,KAAK,OAAO,CAAC,CAAC,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC;gBACjF,MAAM,WAAW,GAAG,IAAI,GAAG,CAAC,GAAG,gBAAgB,CAAC;gBAEhD,aAAa,GAAG,CACd,OAAO,CAAC,IAAI,GAAG,GAAgB,yBAAyB;oBACxD,KAAK,IAAI,GAAG,GAAoB,2BAA2B;oBAC3D,QAAQ,GAAwB,kCAAkC;oBAClE,KAAK,IAAI,GAAG,GAAoB,sBAAsB;oBACtD,KAAK,YAAY,GAAG,GAAY,4CAA4C;oBAC5E,KAAK,CAAC,WAAW,GAAG,GAAY,kBAAkB;oBAClD,KAAK,CAAC,YAAY,GAAG,GAAW,wBAAwB;oBACxD,GAAG,CAA6B,kBAAkB;iBACnD,CAAC;YACJ,CAAC;YAED,MAAM,YAAY,GAAG,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;YAEpF,8FAA8F;YAC9F,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACrF,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;YACnC,MAAM,cAAc,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,KAAK,GAAG,CAAC;YAC3F,MAAM,cAAc,GAAG,aAAa,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,IAAI,cAAc,EAAE,CAAC;YAE9E,YAAY,CAAC,YAAY,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;YAC9C,YAAY,CAAC,YAAY,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;YAEvD,IAAI,aAAa,IAAI,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBACrD,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;YAC1D,CAAC;iBAAM,CAAC;gBACN,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;YAC5D,CAAC;YAED,YAAY,CAAC,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YAC/C,YAAY,CAAC,YAAY,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC;YACjE,YAAY,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;YAC1C,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAEtC,mCAAmC;YACnC,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;gBAE9C,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBAC3C,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;gBACvD,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,YAAY,EAAE;oBAC7C,UAAU,EAAE,UAAU;oBACtB,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBAEH,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAC3B,MAAM,YAAY,GAAG,CAAC,KAAY,EAAE,EAAE;wBACpC,KAAK,CAAC,eAAe,EAAE,CAAC;wBACxB,IAAI,CAAC,iBAAkB,CAAC,UAAU,CAAC,CAAC;oBACtC,CAAC,CAAC;oBACF,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;oBACrD,YAAY,CAAC,gBAAgB,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;gBAC7D,CAAC;gBAED,OAAO,YAAY,CAAC;YACtB,CAAC;QAEH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,8DAA8D,EAAE,KAAK,CAAC,CAAC;QACvF,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;OAMG;IACK,wBAAwB,CAAC,UAA8B,EAAE,UAAe;QAC9E,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YACpC,OAAO,IAAI,CAAC;QACd,CAAC;QAED,uEAAuE;QACvE,KAAK,MAAM,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,CAAC;YAClC,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC;gBACjB,KAAK,MAAM,OAAO,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC;oBACnC,IAAI,OAAO,CAAC,eAAe,KAAK,UAAU,EAAE,CAAC;wBAC3C,OAAO,OAAO,CAAC;oBACjB,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;;OAQG;IACK,kBAAkB,CACxB,UAA8B,EAC9B,SAAuB,EACvB,gBAAyB,KAAK;QAE9B,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,WAAW,YAAY,6CAAQ,EAAE,CAAC;YACpC,MAAM,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YACrD,MAAM,YAAY,GAAG,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC;YAC/C,MAAM,OAAO,GAAG,YAAY,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE7D,4EAA4E;YAC5E,IAAI,CAAC,OAAO,EAAE,CAAC;gBACb,MAAM,cAAc,GAAG,IAAI,CAAC,6BAA6B,CAAC,UAAU,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC;gBAClG,IAAI,cAAc,EAAE,CAAC;oBACnB,cAAc,CAAC,YAAY,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;oBAC3D,OAAO,cAAc,CAAC;gBACxB,CAAC;YACH,CAAC;QACH,CAAC;QAED,gEAAgE;QAChE,sDAAsD;QACtD,MAAM,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QACvE,MAAM,IAAI,GAAG,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;QAE5E,8FAA8F;QAC9F,IAAI,WAAW,YAAY,6CAAQ,EAAE,CAAC;YACpC,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;YACpF,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC9B,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;YAE3D,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YACpE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YACtE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;YACjD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;YAEjD,IAAI,aAAa,IAAI,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBACrD,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;YAClD,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;YACpD,CAAC;YAED,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;YAC7C,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;YAClC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAE9B,mCAAmC;YACnC,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAEtC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;gBAC/C,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,IAAI,EAAE;oBACrC,UAAU,EAAE,UAAU;oBACtB,IAAI,EAAE,MAAM;iBACb,CAAC,CAAC;gBAEH,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAC3B,MAAM,YAAY,GAAG,CAAC,KAAY,EAAE,EAAE;wBACpC,KAAK,CAAC,eAAe,EAAE,CAAC;wBACxB,IAAI,CAAC,iBAAkB,CAAC,UAAU,CAAC,CAAC;oBACtC,CAAC,CAAC;oBACF,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;oBAC7C,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;gBACrD,CAAC;gBAED,OAAO,IAAI,CAAC;YACd,CAAC;QACH,CAAC;QAED,4CAA4C;QAC5C,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;IACrE,CAAC;IAED;;;;;;OAMG;IACK,qBAAqB,CAC3B,UAA8B,EAC9B,SAAuB;QAEvB,IAAI,CAAC;YACH,MAAM,WAAW,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC;YAC7C,IAAI,WAAW,IAAI,WAAW,YAAY,6CAAQ,EAAE,CAAC;gBACnD,MAAM,WAAW,GAAG,WAAW,CAAC,oBAAoB,EAAE,CAAC;gBACvD,OAAO;oBACL,CAAC,EAAE,WAAW,CAAC,IAAI;oBACnB,CAAC,EAAE,WAAW,CAAC,GAAG;oBAClB,KAAK,EAAE,WAAW,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI;oBAC3C,MAAM,EAAE,WAAW,CAAC,MAAM,GAAG,WAAW,CAAC,GAAG;iBAC7C,CAAC;YACJ,CAAC;YAED,MAAM,WAAW,GAAG,UAAU,CAAC,YAAY,EAAE,CAAC;YAC9C,IAAI,WAAW,IAAI,UAAU,CAAC,gBAAgB,EAAE,CAAC;gBAC/C,MAAM,iBAAiB,GAAG,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC;gBACvE,IAAI,iBAAiB,IAAI,iBAAiB,YAAY,6CAAQ,EAAE,CAAC;oBAC/D,MAAM,YAAY,GAAG,iBAAiB,CAAC,oBAAoB,EAAE,CAAC;oBAC9D,OAAO;wBACL,CAAC,EAAE,YAAY,CAAC,IAAI;wBACpB,CAAC,EAAE,YAAY,CAAC,GAAG;wBACnB,KAAK,EAAE,YAAY,CAAC,KAAK,GAAG,YAAY,CAAC,IAAI;wBAC7C,MAAM,EAAE,YAAY,CAAC,MAAM,GAAG,YAAY,CAAC,GAAG;qBAC/C,CAAC;gBACJ,CAAC;YACH,CAAC;YAED,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;YAChD,IAAI,WAAW,IAAI,WAAW,YAAY,6CAAQ,EAAE,CAAC;gBACnD,MAAM,KAAK,GAAG,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;gBACnE,IAAI,KAAK,EAAE,CAAC;oBACV,MAAM,eAAe,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;oBACpE,IAAI,eAAe,EAAE,CAAC;wBACpB,OAAO,eAAe,CAAC;oBACzB,CAAC;gBACH,CAAC;YACH,CAAC;YAED,OAAO;gBACL,CAAC,EAAE,UAAU,CAAC,CAAC;gBACf,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,EAAE;gBACpB,KAAK,EAAE,EAAE;gBACT,MAAM,EAAE,EAAE;aACX,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,8CAA8C,EAAE,KAAK,CAAC,CAAC;YACrE,OAAO;gBACL,CAAC,EAAE,UAAU,CAAC,CAAC;gBACf,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,EAAE;gBACpB,KAAK,EAAE,EAAE;gBACT,MAAM,EAAE,EAAE;aACX,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACK,sBAAsB,CAC5B,KAAe,EACf,UAA8B;QAE9B,MAAM,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;QAC/B,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE,CAAC;YAC3B,IAAI,KAAK,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;gBACpC,OAAO,KAAK,CAAC;YACf,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;OAMG;IACK,mBAAmB,CACzB,KAAU,EACV,UAA8B;QAE9B,IAAI,CAAC;YACH,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAChD,IAAI,UAAU,GAAG,CAAC,CAAC;gBACnB,MAAM,SAAS,GAAG,EAAE,CAAC;gBAErB,KAAK,MAAM,KAAK,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACnC,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;wBAClB,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;wBAC7B,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;wBACtD,UAAU,IAAI,UAAU,CAAC;oBAC3B,CAAC;yBAAM,CAAC;wBACN,UAAU,IAAI,EAAE,CAAC;oBACnB,CAAC;gBACH,CAAC;gBAED,OAAO;oBACL,CAAC,EAAE,UAAU,CAAC,CAAC;oBACf,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,SAAS,GAAG,CAAC;oBAC/B,KAAK,EAAE,UAAU;oBACjB,MAAM,EAAE,SAAS;iBAClB,CAAC;YACJ,CAAC;YAED,OAAO,IAAI,CAAC;QACd,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC,CAAC;YACzD,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACK,oBAAoB,CAC1B,CAAS,EACT,CAAS,EACT,SAAuB;QAEvB,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAC9B,MAAM,WAAW,GAAG,SAAS,CAAC,uBAAuB,EAAE,CAAC;QAExD,OAAO;YACL,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,WAAW,CAAC,CAAC;YAC5B,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,WAAW,CAAC,CAAC;SAC7B,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACK,eAAe,CACrB,UAA8B,EAC9B,WAAqB;QAErB,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,CAAC,WAAW;YAAE,OAAO,iBAAiB,CAAC;QAE3C,IAAI,WAAW,CAAC,iBAAiB,EAAE;YAAE,OAAO,kBAAkB,CAAC;QAE/D,uEAAuE;QACvE,8FAA8F;QAC9F,IACE,CAAC,WAAW,CAAC,SAAS,EAAE;YACxB,CAAC,UAAU,CAAC,IAAI,KAAK,mDAAc,CAAC,kBAAkB;gBACpD,UAAU,CAAC,IAAI,KAAK,mDAAc,CAAC,YAAY,CAAC,EAClD,CAAC;YACD,OAAO,yBAAyB,CAAC;QACnC,CAAC;QAED,gFAAgF;QAChF,qDAAqD;QACrD,MAAM,gBAAgB,GAAG,UAAU,CAAC,gBAAgB,CAAC;QACrD,IAAI,gBAAgB,EAAE,CAAC;YACrB,MAAM,WAAW,GAAG,gBAAgB,CAAC,cAAc,EAAE,CAAC;YACtD,IAAI,WAAW,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,EAAE,CAAC;gBAC5C,IACE,UAAU,CAAC,IAAI,KAAK,mDAAc,CAAC,cAAc;oBACjD,UAAU,CAAC,IAAI,KAAK,mDAAc,CAAC,WAAW,EAC9C,CAAC;oBACD,OAAO,yBAAyB,CAAC;gBACnC,CAAC;YACH,CAAC;QACH,CAAC;QAED,IAAI,WAAW,KAAK,WAAW;YAAE,OAAO,cAAc,CAAC;QAEvD,wEAAwE;QACxE,oFAAoF;QACpF,MAAM,iBAAiB,GAAG,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC3D,IAAI,iBAAiB,CAAC,QAAQ,CAAC,WAAuB,CAAC,EAAE,CAAC;YACxD,OAAO,yBAAyB,CAAC;QACnC,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;OAMG;IACK,yBAAyB,CAC/B,UAA8B,EAC9B,WAAqB;QAErB,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,WAAW,CAAC,KAAK,IAAI,CAAC;IAChE,CAAC;IAED;;;;;;OAMG;IACK,iBAAiB,CACvB,KAAyB,EACzB,KAAyB;QAEzB,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC7B,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACtC,CAAC;IAED;;;;;;OAMG;IACK,aAAa,CAAC,KAAsB;QAC1C,IAAI,CAAC,KAAK;YAAE,OAAO,CAAC,CAAC;QAErB,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,OAAO,GAAG,KAAK,CAAC;QAEpB,2CAA2C;QAC3C,OAAO,OAAO,EAAE,CAAC;YACf,MAAM,MAAM,GAAG,OAAO,CAAC,SAAS,EAAE,CAAC;YACnC,IAAI,CAAC,MAAM;gBAAE,MAAM;YACnB,KAAK,EAAE,CAAC;YACR,OAAO,GAAG,MAAkB,CAAC;QAC/B,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;OAOG;IACK,wBAAwB,CAAC,KAAe;QAC9C,IAAI,OAAO,GAAG,KAAK,CAAC;QAEpB,qEAAqE;QACrE,OAAO,OAAO,EAAE,CAAC;YACf,MAAM,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;YAClD,IAAI,CAAC,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,EAAE,CAAC;gBACzD,wDAAwD;gBACxD,MAAM;YACR,CAAC;YAED,mDAAmD;YACnD,MAAM,gBAAgB,GAAG,gBAAgB,CAAC,gBAAgB,CAAC;YAC3D,IAAI,CAAC,gBAAgB;gBAAE,MAAM;YAE7B,MAAM,MAAM,GAAG,gBAAgB,CAAC,cAAc,EAAE,CAAC;YACjD,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,YAAY,6CAAQ,CAAC;gBAAE,MAAM;YAEpD,uCAAuC;YACvC,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;gBACvC,OAAO,IAAI,CAAC;YACd,CAAC;YAED,qCAAqC;YACrC,OAAO,GAAG,MAAM,CAAC;QACnB,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;OAEG;IACH,eAAe;QACb,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC3D,CAAC;QAED,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/C,IAAI,CAAC;gBACH,IAAI,OAAO,YAAY,UAAU,EAAE,CAAC;oBAClC,OAAO,CAAC,MAAM,EAAE,CAAC;gBACnB,CAAC;qBAAM,IAAI,OAAO,CAAC,UAAU,EAAE,CAAC;oBAC9B,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;gBAC1C,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,wDAAwD;YAC1D,CAAC;QACH,CAAC;QAED,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;QACjC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC;IACjC,CAAC;IAED;;OAEG;IACH,gBAAgB;QACd,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/C,MAAM,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC7D,IAAI,CAAC,UAAU;gBAAE,SAAS;YAE1B,MAAM,EAAC,UAAU,EAAE,IAAI,EAAC,GAAG,UAAU,CAAC;YAEtC,IAAI,CAAC;gBACH,QAAQ,IAAI,EAAE,CAAC;oBACb,KAAK,QAAQ;wBACX,IAAI,CAAC,oBAAoB,CAAC,OAA2B,EAAE,UAAU,CAAC,CAAC;wBACnE,MAAM;oBACR,KAAK,MAAM;wBACT,IAAI,CAAC,kBAAkB,CAAC,OAAyB,EAAE,UAAU,CAAC,CAAC;wBAC/D,MAAM;oBACR,KAAK,MAAM;wBACT,IAAI,CAAC,kBAAkB,CAAC,OAAyB,EAAE,UAAU,CAAC,CAAC;wBAC/D,MAAM;gBACV,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;YAC/D,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACK,oBAAoB,CAC1B,MAAwB,EACxB,UAA8B;QAE9B,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CACtC,UAAU,CAAC,CAAC,EACZ,UAAU,CAAC,CAAC,EACZ,IAAI,CAAC,SAAS,CACf,CAAC;QACF,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC/C,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IACjD,CAAC;IAED;;;;;;OAMG;IACK,kBAAkB,CACxB,IAAoB,EACpB,UAA8B;QAE9B,MAAM,WAAW,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;QAChD,IAAI,CAAC,CAAC,WAAW,YAAY,6CAAQ,CAAC;YAAE,OAAO;QAE/C,qDAAqD;QACrD,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACrF,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACnC,MAAM,cAAc,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,KAAK,GAAG,CAAC;QAC3F,MAAM,cAAc,GAAG,aAAa,MAAM,CAAC,CAAC,KAAK,MAAM,CAAC,CAAC,IAAI,cAAc,EAAE,CAAC;QAC9E,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;IACjD,CAAC;IAED;;;;;;OAMG;IACK,kBAAkB,CACxB,IAAoB,EACpB,UAA8B;QAE9B,MAAM,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5E,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzF,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QAEnC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QACpE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IACxE,CAAC;IAED;;;;;;OAMG;IACH,qBAAqB,CAAC,OAAe,EAAE,OAAe;QACpD,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/C,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;YAC/C,IAAI,OAAO,IAAI,MAAM,CAAC,IAAI,IAAI,OAAO,IAAI,MAAM,CAAC,KAAK;gBACjD,OAAO,IAAI,MAAM,CAAC,GAAG,IAAI,OAAO,IAAI,MAAM,CAAC,MAAM,EAAE,CAAC;gBACtD,MAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACzD,IAAI,UAAU,EAAE,CAAC;oBACf,OAAO,UAAU,CAAC;gBACpB,CAAC;YACH,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACH,8BAA8B;QAK5B,MAAM,OAAO,GAA+E,EAAE,CAAC;QAE/F,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/C,MAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACzD,IAAI,UAAU,EAAE,CAAC;gBACf,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;gBAC/C,OAAO,CAAC,IAAI,CAAC;oBACX,UAAU;oBACV,MAAM;oBACN,OAAO;iBACR,CAAC,CAAC;YACL,CAAC;QACH,CAAC;QAED,OAAO,OAAO,CAAC;IACjB,CAAC;IAED;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,6BAA6B;QAC7B,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAC1D,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAChE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC7B,CAAC;IACH,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;AC/lCD,yDAAyD;AACzD,4EAA4E;AAE5E;;;;GAIG;AAEH;;;GAGG;AAE8B;AAEjC;;;GAGG;AACH,IAAY,KAKX;AALD,WAAY,KAAK;IACf,4BAAmB;IACnB,gCAAuB;IACvB,0BAAiB;IACjB,4BAAmB;AACrB,CAAC,EALW,KAAK,KAAL,KAAK,QAKhB;AAED;;GAEG;AACH,IAAY,cA0BX;AA1BD,WAAY,cAAc;IACxB,2BAAS;IACT,+BAAa;IACb,iCAAe;IACf,+BAAa;IACb,2CAAyB;IACzB,mDAAiC;IACjC,UAAU;IACV,mCAAiB;IACjB,qDAAmC;IACnC,2CAAyB;IACzB,qCAAmB;IACnB,+BAAa;IACb,+BAAa;IACb,4CAA0B;IAC1B,0CAAwB;IACxB,8CAA4B;IAC5B,yCAAuB;IACvB,oDAAkC;IAClC,wDAAsC;IACtC,wDAAsC;IACtC,0DAAwC;IACxC,mDAAiC;IACjC,mDAAiC;IACjC,iDAA+B;IAC/B,2CAAyB;AAC3B,CAAC,EA1BW,cAAc,KAAd,cAAc,QA0BzB;AAEM,MAAM,8BAA8B,GAA2B;IACpE,mBAAmB,EAAE,6CAAG,CAAC,MAAM,CAAC,IAAI,MAAM;IAC1C,kBAAkB,EAAE,6CAAG,CAAC,KAAK,CAAC,IAAI,KAAK;IACvC,oBAAoB,EAAE,6CAAG,CAAC,OAAO,CAAC,IAAI,OAAO;IAC7C,YAAY,EAAE,6CAAG,CAAC,YAAY,CAAC,IAAI,MAAM;CAC1C,CAAC;AAEF;;;GAGG;AACH,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IAC1B,mCAAe;IACf,iCAAa;IACb,+BAAW;AACb,CAAC,EAJW,gBAAgB,KAAhB,gBAAgB,QAI3B;AAED;;;GAGG;AACI,MAAM,mBAAmB,GAM5B,EAAE,CAAC;AAEP,mBAAmB,CAAC,6CAAG,CAAC,mBAAmB,CAAC,CAAC,GAAG;IAC9C,cAAc,CAAC,IAAI;IACnB,cAAc,CAAC,eAAe;IAC9B,cAAc,CAAC,IAAI;IACnB,cAAc,CAAC,OAAO;IACtB,cAAc,CAAC,QAAQ;IACvB,cAAc,CAAC,cAAc;CAC9B,CAAC;AAEF,mBAAmB,CAAC,6CAAG,CAAC,mBAAmB,CAAC,CAAC,GAAG;IAC9C,QAAQ;IACR,cAAc,CAAC,UAAU;IACzB,cAAc,CAAC,UAAU;IACzB,cAAc,CAAC,GAAG;IAClB,cAAc,CAAC,IAAI;IACnB,cAAc,CAAC,KAAK;IACpB,cAAc,CAAC,SAAS;IACxB,MAAM;IACN,MAAM;CACP,CAAC;AAEF,mBAAmB,CAAC,6CAAG,CAAC,2BAA2B,CAAC,CAAC,GAAG;IACtD,cAAc,CAAC,EAAE;IACjB,cAAc,CAAC,IAAI;IACnB,cAAc,CAAC,KAAK;IACpB,cAAc,CAAC,IAAI;IACnB,cAAc,CAAC,UAAU;IACzB,cAAc,CAAC,cAAc;IAC7B,cAAc,CAAC,gBAAgB;CAChC,CAAC;;;;;;;;;;;;;;;;;ACpHF;;;;GAIG;AAEqC;AAExC,MAAM,wBAAwB,GAA6B,IAAI,GAAG,EAAE,CAAC;AAErE;;;;;GAKG;AACI,SAAS,kBAAkB,CAAC,KAA8B;IAC/D,2DAA2D;IAC3D,0BAA0B;IAC1B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QAAE,OAAO;IAChC,IAAI,CAAC,KAAK,CAAC,OAAO;QAAE,OAAO;IAC3B,MAAM,cAAc,GAAG,gDAAc,CAAC,gBAAgB,CACpD,KAAK,CAAC,WAAW,CACM,CAAC;IAC1B,MAAM,KAAK,GAAG,cAAc,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACzD,IAAI,CAAC,KAAK;QAAE,OAAO;IAEnB,MAAM,OAAO,GAAG,gDAAc,CAAC,aAAa,EAAE,CAAC;IAC/C,gDAAc,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAEpC,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,uDAAuD;QACvD,wBAAwB,CAAC,KAAK,EAAE,CAAC;QAEjC,wCAAwC;QACxC,sBAAsB,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;SAAM,CAAC;QACN,oEAAoE;QACpE,sEAAsE;QACtE,yBAAyB,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,gDAAc,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AACxC,CAAC;AAED;;;;;GAKG;AACH,SAAS,sBAAsB,CAAC,KAAuB;IACrD,4CAA4C;IAC5C,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;QACjD,MAAM,OAAO,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC,CAAC;QACzD,wBAAwB,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QACrD,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC;AACL,CAAC;AAED;;;;GAIG;AACH,SAAS,yBAAyB,CAAC,KAAuB;IACxD,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;;QACjD,8BAAwB,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,0CAAE,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;YAC9D,UAAU,CAAC,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC;AAED;;;;;GAKG;AACH,SAAS,WAAW,CAClB,KAA8B;IAE9B,OAAO,KAAK,CAAC,IAAI,KAAK,gDAAc,CAAC,UAAU,CAAC;AAClD,CAAC;;;;;;;;;;;;;;;;;ACnFD;;;;GAIG;AAEH;;;;;;;GAOG;AACI,SAAS,kBAAkB,CAAC,MAAW;IAC5C,uDAAuD;IACvD,IAAI,CAAC,MAAM;QAAE,OAAO,IAAI,CAAC;IAEzB,wEAAwE;IACxE,6EAA6E;IAC7E,IAAI,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE,CAAC;QACjC,MAAM,SAAS,GAAG,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QACzD,OAAO,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC;YACtC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;YAC3C,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAC1C,CAAC;IAED,6CAA6C;IAC7C,MAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;IACnC,IAAI,SAAS,EAAE,CAAC;QACd,OAAO,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;YAC3C,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;YAChC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;IAChD,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;;;;GAMG;AACI,SAAS,kBAAkB,CAAC,MAAW;IAC5C,IAAI,CAAC,MAAM;QAAE,OAAO,IAAI,CAAC,CAAC,mCAAmC;IAE7D,oEAAoE;IACpE,IAAI,OAAO,GAAG,MAAM,CAAC;IACrB,OAAO,OAAO,EAAE,CAAC;QACf,+EAA+E;QAC/E,IAAI,OAAO,CAAC,SAAS,EAAE,CAAC;YACtB,IACE,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC;gBAC9C,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;gBACnD,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;gBACxC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC;gBAC/C,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC;gBAC3C,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,yBAAyB,CAAC;gBACrD,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC;gBAC9C,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC;gBAChD,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC;gBAChD,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,qBAAqB,CAAC,EACjD,CAAC;gBACD,OAAO,IAAI,CAAC;YACd,CAAC;QACH,CAAC;QAED,yCAAyC;QACzC,IAAI,OAAO,CAAC,EAAE,KAAK,YAAY,EAAE,CAAC;YAChC,OAAO,IAAI,CAAC;QACd,CAAC;QAED,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC;IAClC,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;;;;;;;;;;;;;;;;;;AC9ED;;;;GAIG;AAEH,IAAY,SAKX;AALD,WAAY,SAAS;IACnB,qCAAM;IACN,yCAAI;IACJ,yCAAI;IACJ,2CAAK;AACP,CAAC,EALW,SAAS,KAAT,SAAS,QAKpB;AAED;;;;;;GAMG;AACI,SAAS,kBAAkB,CAAC,GAA0B;IAI3D,IAAI,CAAC,GAAG,EAAE,CAAC;QACT,OAAO,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;IACtB,CAAC;IACD,QAAQ,GAAG,EAAE,CAAC;QACZ,KAAK,SAAS,CAAC,EAAE;YACf,OAAO,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC;QACvB,KAAK,SAAS,CAAC,IAAI;YACjB,OAAO,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QACtB,KAAK,SAAS,CAAC,IAAI;YACjB,OAAO,EAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QACvB,KAAK,SAAS,CAAC,KAAK;YAClB,OAAO,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;IACxB,CAAC;AACH,CAAC;AAED;;;;;;;;GAQG;AACI,SAAS,kBAAkB,CAAC,EAGlC;IACC,MAAM,EAAC,CAAC,EAAE,CAAC,EAAC,GAAG,EAAE,CAAC;IAClB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QACX,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;YACZ,OAAO,SAAS,CAAC,EAAE,CAAC;QACtB,CAAC;aAAM,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YAClB,OAAO,SAAS,CAAC,IAAI,CAAC;QACxB,CAAC;IACH,CAAC;SAAM,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;YACZ,OAAO,SAAS,CAAC,IAAI,CAAC;QACxB,CAAC;aAAM,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YAClB,OAAO,SAAS,CAAC,KAAK,CAAC;QACzB,CAAC;IACH,CAAC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;;;;;;;;;;;;;;;;;;;;;;ACnED;;;;GAIG;AAEH;;;GAGG;AAEqC;AACmB;AAE3D;;;;GAIG;AACI,MAAM,YAAa,SAAQ,oDAAkB;IAClD;;;;OAIG;IACH,YAA6B,MAAuB;QAClD,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QADF,WAAM,GAAN,MAAM,CAAiB;IAEpD,CAAC;IAED;;;;;OAKG;IACM,IAAI;QACX,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO,IAAI,CAAC;QACd,CAAC;QACD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAEtE,IAAI,OAAO,EAAE,CAAC;YACZ,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC3B,CAAC;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAED;;;;;OAKG;IACM,IAAI;QACX,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO,IAAI,CAAC;QACd,CAAC;QACD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QAE1E,IAAI,OAAO,EAAE,CAAC;YACZ,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAC3B,CAAC;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAEQ,UAAU,CAAC,IAA4B;QAC9C,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAEvB,IAAI,MAAsC,CAAC;QAC3C,IACE,IAAI;YACJ,sBAAsB,IAAI,IAAI;YAC9B,OAAO,IAAI,CAAC,oBAAoB,KAAK,UAAU,EAC/C,CAAC;YACD,MAAM,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QACvC,CAAC;aAAM,IAAI,IAAI,YAAY,sDAAoB,EAAE,CAAC;YAChD,MAAM,EAAC,CAAC,EAAE,CAAC,EAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAClC,MAAM,GAAG,IAAI,+CAAa,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QACzE,CAAC;QAED,IAAI,CAAC,CAAC,MAAM,YAAY,+CAAa,CAAC,IAAI,CAAC;YAAE,OAAO;QAEpD,0EAAoB,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;IAC3D,CAAC;CACF;AAEM,MAAM,gBAAgB,GAAG,kDAAgB,CAAC,IAAI,CAAC,MAAM,CAAC;AACtD,MAAM,gBAAgB,GAAG,cAAc,CAAC;AAExC,MAAM,UAAU,GAAG;IACxB,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,EAAE,gBAAgB;CAChD,CAAC;AAEF;;GAEG;AACI,SAAS,oBAAoB;IAClC,kDAAgB,CAAC,QAAQ,CACvB,gBAAgB,EAChB,gBAAgB,EAChB,YAAY,EACZ,IAAI,CACL,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACzGD;;;;;;GAMG;AAE8C;AACN;AACkB;AAE7D,MAAM,uBAAuB,GAAG,uBAAuB,CAAC;AACxD,MAAM,qBAAqB,GAAG,qBAAqB,CAAC;AACpD,MAAM,YAAY,GAAG,YAAY,CAAC;AAClC,MAAM,SAAS,GAAG,SAAS,CAAC;AAC5B,MAAM,UAAU,GAAG,UAAU,CAAC;AAE9B;;;;;GAKG;AACI,SAAS,yBAAyB,CACvC,SAAuB,EACvB,KAAK,GAAG,KAAK;IAEb,MAAM,KAAK,GAAG,4EAAsB,CAAC,sDAAc,CAAC,eAAe,CAAC,CAAC;IACrE,MAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;IACrE,MAAM,OAAO,GAAG,QAAQ,QAAQ,4CAA4C,KAAK,yBAAyB,CAAC;IAC3G,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE;QACpB,OAAO;QACP,EAAE,EAAE,uBAAuB;QAC3B,cAAc,EAAE,CAAC,KAAK;KACvB,CAAC,CAAC;AACL,CAAC;AAED;;;;GAIG;AACI,SAAS,2BAA2B,CAAC,SAAuB;IACjE,MAAM,KAAK,GAAG,4EAAsB,CAAC,sDAAc,CAAC,eAAe,CAAC,CAAC;IACrE,MAAM,OAAO,GAAG,oCAAoC,KAAK,yBAAyB,CAAC;IACnF,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE;QACpB,OAAO;QACP,EAAE,EAAE,qBAAqB;QACzB,cAAc,EAAE,IAAI;KACrB,CAAC,CAAC;AACL,CAAC;AAED;;;;GAIG;AACI,SAAS,cAAc,CAAC,SAAuB;IACpD,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE,qBAAqB,CAAC,CAAC;IAC7C,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE,uBAAuB,CAAC,CAAC;AACjD,CAAC;AAED;;;;GAIG;AACI,SAAS,cAAc,CAAC,SAAuB;IACpD,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE;QACpB,OAAO,EAAE,iBAAiB,4EAAsB,CAAC,sDAAc,CAAC,KAAK,CAAC,YAAY;QAClF,QAAQ,EAAE,CAAC;QACX,EAAE,EAAE,YAAY;KACjB,CAAC,CAAC;AACL,CAAC;AAED;;;;GAIG;AACI,SAAS,WAAW,CAAC,SAAuB;IACjD,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE;QACpB,OAAO,EAAE,cAAc,4EAAsB,CAAC,sDAAc,CAAC,KAAK,CAAC,YAAY;QAC/E,QAAQ,EAAE,CAAC;QACX,EAAE,EAAE,SAAS;KACd,CAAC,CAAC;AACL,CAAC;AAED;;;;GAIG;AACI,SAAS,eAAe,CAAC,SAAuB;IACrD,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IACjC,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;AACtC,CAAC;AAED;;;;GAIG;AACI,SAAS,YAAY,CAAC,SAAuB;IAClD,MAAM,QAAQ,GAAG,4EAAsB,CAAC,gBAAgB,CAAC,CAAC;IAC1D,MAAM,OAAO,GAAG,wCAAG,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC3D,MAAM,EAAE,GAAG,UAAU,CAAC;IACtB,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE,EAAC,OAAO,EAAE,EAAE,EAAC,CAAC,CAAC;AACvC,CAAC;AAED;;;;GAIG;AACI,SAAS,aAAa,CAAC,SAAuB;IACnD,6DAA6D;IAC7D,uDAAuD;IACvD,0CAAK,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AACpC,CAAC;;;;;;;;;;;;;;;;;ACxHD;;;;GAIG;AAEqC;AASxC;;;;;;GAMG;AACH,MAAM,SAAU,SAAQ,+CAAa;IACnC;;;;;;OAMG;IACO,MAAM,CAAU,SAAS,CACjC,SAA+B,EAC/B,OAAyB;QAEzB,MAAM,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAChD,MAAM,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IACE,QAAQ;YACR,SAAS,IAAI,OAAO;YACpB,OAAO,CAAC,OAAO,YAAY,WAAW,EACtC,CAAC;YACD,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;YACxB,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;QACD,OAAO,GAAG,CAAC;IACb,CAAC;CACF;AAED;;GAEG;AACI,SAAS,iBAAiB;IAC/B,gDAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;AAC1D,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrDD;;;;GAIG;AAEqC;AACqB;AACR;AACN;AAC4B;AAE3E,yCAAyC;AACpB;AAErB,sCAAsC;AAC/B,MAAM,kBAAkB;IA8B7B;;;;OAIG;IACH,IAAI,cAAc;QAChB,OAAO,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACH,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,oBAAoB,CAAC,cAAc,EAAE,CAAC;IACpD,CAAC;IAED;;;;;;;;;;;;OAYG;IACH,YACE,SAA+B,EAC/B,UAGI;QACF,wBAAwB,EAAE,KAAK;QAC/B,oBAAoB,EAAE,IAAI;KAC3B;;QA3DH;;WAEG;QACK,uBAAkB,GAAmB,IAAI,CAAC;QAElD;;WAEG;QACK,2BAAsB,GAAmB,IAAI,CAAC;QAKtD;;WAEG;QACK,uBAAkB,GAEf,IAAI,CAAC;QA2Cd,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAI,CAAC,oBAAoB,GAAG,IAAI,yEAAoB,CAClD,SAAS,EACT,IAAW,CACZ,CAAC;QAEF,IAAI,CAAC,oBAAoB,GAAG,IAAI,wEAAoB,CAAC;YACnD,wBAAwB,EAAE,aAAO,CAAC,wBAAwB,mCAAI,KAAK;YACnE,oBAAoB,EAAE,aAAO,CAAC,oBAAoB,mCAAI,IAAI;YAC1D,oFAAoF;YACpF,uBAAuB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE;SACpE,CAAC,CAAC;QACH,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;QACjC,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAE5C,kEAAkE;QACjE,IAAI,CAAC,oBAA4B,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,CAAC;QAEpF,IAAI,CAAC,MAAM,GAAG,IAAI,oDAAkB,CAAC,SAAS,CAAC,CAAC;QAEhD,4DAA4D;QAC5D,SAAS,CAAC,iBAAiB,CAAC,gEAAkB,CAAC,CAAC;QAEhD,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;QAEnC,MAAc,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAE1C,yCAAyC;QACzC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,MAAM,IAAI,IAAI,IAAI,MAAM,YAAY,gDAAc,EAAE,CAAC;YACvD,4BAA4B;YAC5B,8DAA8D;YAC9D,MAAM,aAAa,GAAG,MAAE,MAAc,CAAC,SAAwB,mCAAI,IAAI,CAAC;YACxE,mBAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,aAAa,0CAAE,YAAY,CACxC,aAAa,EACb,SAAS,CAAC,YAAY,EAAE,CACzB,CAAC;QACJ,CAAC;QAED,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,MAAM,CAAC;QAC3C,SAAS,CAAC,MAAM,GAAG,GAAG,EAAE;;YACtB,UAAI,CAAC,kBAAkB,0CAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC9C,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9B,CAAC,CAAC;QACF,IAAI,CAAC,sBAAsB,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE;YACvE,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE,+BAA+B;SACvC,CAAC,CAAC;QACH,SAAS,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACjE,IAAI,CAAC,kBAAkB,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE;YACnE,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE,2BAA2B;SACnC,CAAC,CAAC;QACH,SAAS,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC7D,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,8DAAiB,EAAE,CAAC;IACtB,CAAC;IAEO,oBAAoB;QAC1B,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,sBAAsB;YAAE,OAAO;QACrE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEO,uBAAuB,CAAC,IAAa,EAAE,KAAa;QAC1D,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClE,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,CACf,OAAO,EACP,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,SAAS,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CACtD,CAAC;QACF,IAAI,CAAC,YAAY,CACf,QAAQ,EACR,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,SAAS,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CACtD,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,OAAO;;QACL,UAAI,CAAC,kBAAkB,0CAAE,MAAM,EAAE,CAAC;QAClC,UAAI,CAAC,sBAAsB,0CAAE,MAAM,EAAE,CAAC;QACtC,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAClD,CAAC;QAED,wDAAwD;QACxD,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,gEAAkB,CAAC,CAAC;QACxD,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,CAAC;QACtC,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;IACtC,CAAC;IAED;;OAEG;IACH,oBAAoB;QAClB,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClE,CAAC;IAED;;;;OAIG;IACH,uBAAuB,CAAC,OAAgB;QACtC,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED;;;;OAIG;IACH,oBAAoB,CAAC,OAAgB;QACnC,IAAI,CAAC,oBAAoB,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;IAC1D,CAAC;IAED;;;;OAIG;IACH,iBAAiB,CAAC,IAAoC;QACpD,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;IACpD,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,IAAiB;QAC9B,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACjD,CAAC;IAED;;;;OAIG;IACH,mBAAmB,CAAC,OAAgB;QAClC,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,kCAAkC;QACvC,IAAI,CAAC,kCAAkC,EAAE,CAAC;IAC5C,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,gCAAgC;QACrC,uCAAuC;QACvC,EAAE;QACF,oEAAoE;QACpE,kDAAkD;QAClD,6CAAW,CAAC,QAAQ,CAAC;;;;CAIxB,CAAC,CAAC;QAEC,mEAAmE;QACnE,qEAAqE;QACrE,qCAAqC;QACrC,EAAE;QACF,sDAAsD;QACtD,yBAAyB;QACzB,6CAAW,CAAC,QAAQ,CAAC;;;;;;CAMxB,CAAC,CAAC;QAEC,mDAAmD;QACnD,EAAE;QACF,0DAA0D;QAC1D,kEAAkE;QAClE,EAAE;QACF,uEAAuE;QACvE,wEAAwE;QACxE,6CAAW,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAyDxB,CAAC,CAAC;QAEC,+CAA+C;QAC/C,EAAE;QACF,mEAAmE;QACnE,kCAAkC;QAClC,6CAAW,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;CAmBxB,CAAC,CAAC;QAEC,sCAAsC;QACtC,EAAE;QACF,wDAAwD;QACxD,6CAAW,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAwCxB,CAAC,CAAC;QAEC,sDAAsD;QACtD,EAAE;QACF,kEAAkE;QAClE,6DAA6D;QAC7D,6CAAW,CAAC,QAAQ,CAAC;;;;;;;;;;;;;CAaxB,CAAC,CAAC;QAEC,wDAAwD;QACxD,EAAE;QACF,oEAAoE;QACpE,+EAA+E;QAC/E,6CAAW,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;CAkBxB,CAAC,CAAC;QAEC,+CAA+C;QAC/C,6CAAW,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAkLxB,CAAC,CAAC;IACD,CAAC;CAEF;AAED,2DAA2D;AAC0E;AAC7F;;;;;;;;;;;;;;;;;;;;;ACnoBxC;;;;GAIG;AAQc;AAC8C;AACb;AACb;AAE0B;AAE/D,+DAA+D;AAC/D,MAAM,sBAAsB,GAAG,EAAE,CAAC;AAElC,+DAA+D;AAC/D,MAAM,sBAAsB,GAAG,EAAE,CAAC;AAclC,iDAAiD;AAC1C,MAAM,oBAAqB,SAAQ,6CAAQ,CAAC,iBAAiB;IAqClE,YACU,KAAe,EAChB,QAAkB,EACjB,UAAqC,EAC7C,mBAAmB,GAAG,IAAI,EAC1B,cAA2B,EAC3B,cAA2B;QAE3B,KAAK,CAAC,KAAK,CAAC,CAAC;QAPL,UAAK,GAAL,KAAK,CAAU;QAChB,aAAQ,GAAR,QAAQ,CAAU;QACjB,eAAU,GAAV,UAAU,CAA2B;QAvC/C,kEAAkE;QAC1D,yBAAoB,GAAqB,IAAI,CAAC;QAEtD,0EAA0E;QAClE,eAAU,GAA8B,IAAI,CAAC;QAErD,0DAA0D;QAClD,mBAAc,GAAyB,EAAE,CAAC;QAclD,gEAAgE;QACxD,oBAAe,GAAG,KAAK,CAAC;QAEhC,iEAAiE;QACzD,2BAAsB,GAA+B,IAAI,CAAC;QAElE,+DAA+D;QACvD,oBAAe,GAAG,CAAC,CAAC;QAE5B,sDAAsD;QACrC,qBAAgB,GAAG,GAAG,CAAC;QAExC,4FAA4F;QACpF,+BAA0B,GAA8B,IAAI,CAAC;QAWnE,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QAErC,mDAAmD;QACnD,MAAM,iBAAiB,GAAG,CAAC,UAA8B,EAAE,EAAE;YAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,CAAC,CAAC;QACzC,CAAC,CAAC;QACF,IAAI,CAAC,qBAAqB,GAAG,IAAI,0EAAqB,CACpD,KAAK,CAAC,SAAS,EACf,iBAAiB,CAClB,CAAC;IACJ,CAAC;IAEQ,SAAS,CAAC,CAAgB;;QACjC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAEnB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC;YAC/D,IAAI,CAAC,cAAc,CAAC,IAAI,CACtB,GAAG,QAAQ;iBACR,cAAc,CAAC,IAAI,CAAC;iBACpB,MAAM,CAAC,CAAC,KAAe,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;iBAC9C,OAAO,CAAC,CAAC,KAAe,EAAE,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;iBAC1D,IAAI,CAAC,CAAC,CAAqB,EAAE,CAAqB,EAAE,EAAE;gBACrD,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;oBAChB,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpB,CAAC;gBACD,OAAO,KAAK,CAAC;YACf,CAAC,CAAC,CACL,CAAC;QACJ,CAAC;QAED,6DAA6D;QAC7D,oCAAoC;QACpC,mDAAmD;QACnD,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACzC,mDAAmD;QACnD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QACzD,mDAAmD;QACnD,MAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC;QAC3C,IAAI,CAAC,0BAA0B,GAAG,eAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,SAAS,mCAAI,IAAI,CAAC;QAC/D,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,gDAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAE7C,kEAAkE;QAClE,4DAA4D;QAC5D,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,mDAAmD;YACnD,MAAM,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE9D,IAAI,CAAC,qBAAqB,CAAC,yBAAyB,CAClD,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,cAAc,EACnB,gBAAgB,CACjB,CAAC;QACJ,CAAC;IACH,CAAC;IAEQ,IAAI,CAAC,MAAwB,EAAE,CAAgB;QACtD,IAAI,CAAC,CAAC;YAAE,OAAO;QAEf,mDAAmD;QACnD,MAAM,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC;QAE/C,IAAI,CAAC,oBAAoB,GAAG,mEAAkB,CAAC,EAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAC,CAAC,CAAC;QACzE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEnB,mDAAmD;QACnD,MAAM,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC;QAE9C,IAAI,IAAI,CAAC,uBAAuB,CAAC,aAAa,EAAE,YAAY,CAAC,EAAE,CAAC;YAC9D,IAAI,CAAC,2BAA2B,CAAC,YAAY,CAAC,CAAC;QACjD,CAAC;QAED,2EAA2E;QAC3E,mDAAmD;QACnD,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,mDAAmD;YACnD,MAAM,SAAS,GAAI,IAAI,CAAC,mBAA2C;iBAChE,SAAS,CAAC;YACb,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;gBACjC,IAAI,CAAC,KAAK,CAAC,cAAc,CACvB,IAAI,0CAAK,CAAC,UAAU,CAClB,SAAS,CAAC,CAAC,GAAG,sBAAsB,EACpC,SAAS,CAAC,CAAC,GAAG,sBAAsB,CACrC,CACF,CAAC;YACJ,CAAC;QACH,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAEvB,IAAI,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;gBACjC,iCAAiC;gBACjC,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACjC,iEAAyB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YAC7C,CAAC;QACH,CAAC;IACH,CAAC;IAEQ,OAAO,CAAC,CAAgB;QAC/B,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,gDAAQ,CAAC,IAAI,CAAC,CAAC;QAErC,mEAAmE;QACnE,gEAAgE;QAChE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YAC1B,IAAI,CAAC,qBAAqB,CAAC,eAAe,EAAE,CAAC;QAC/C,CAAC;IACH,CAAC;IAED;;OAEG;IACH,oBAAoB;QAClB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,IAAI,CAAC,qBAAqB,CAAC,eAAe,EAAE,CAAC;QAC/C,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,oBAAoB,CAAC,OAAgB;QACnC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAE/B,IAAI,OAAO,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YACxC,4DAA4D;YAC5D,mDAAmD;YACnD,MAAM,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE9D,IAAI,CAAC,qBAAqB,CAAC,yBAAyB,CAClD,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,cAAc,EACnB,gBAAgB,CACjB,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,6CAA6C;YAC7C,wEAAwE;YACxE,IAAI,CAAC,qBAAqB,CAAC,eAAe,EAAE,CAAC;QAC/C,CAAC;IACH,CAAC;IAED;;OAEG;IACH,mBAAmB;QACjB,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED;;;;;OAKG;IACK,iCAAiC,CACvC,aAAuB;QAEvB,mDAAmD;QACnD,MAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC;QAC3D,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;YAC3B,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,mBAAmB,GAAG,IAAI,CAAC,sBAAsB,CACnD,aAAa,EACb,UAAU,CACX,CAAC;QACF,uEAAuE;QACvE,wBAAwB;QACxB,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YAC7C,mBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC;QAC9D,CAAC;QACD,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAED;;;;;;;;OAQG;IACH,oBAAoB,CAClB,UAAgC;QAEhC,IAAI,MAAM,GAAG,QAAQ,CAAC;QACtB,IAAI,SAAS,GAAG,IAAI,CAAC;QACrB,MAAM,GAAG,GAAG,IAAI,0CAAK,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEvC,KAAK,MAAM,IAAI,IAAI,UAAU,EAAE,CAAC;YAC9B,MAAM,EAAC,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;YACvE,IAAI,SAAS,EAAE,CAAC;gBACd,SAAS,GAAG;oBACV,KAAK,EAAE,IAAI;oBACX,SAAS,EAAE,SAAS;oBACpB,QAAQ,EAAE,GAAG;iBACd,CAAC;gBACF,MAAM,GAAG,GAAG,CAAC;YACf,CAAC;QACH,CAAC;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;IAED;;;;;;;OAOG;IACH,sBAAsB,CACpB,aAAuB,EACvB,UAAgC;;QAEhC,MAAM,iBAAiB,GAAG,aAAa,CAAC,SAAS,CAAC,iBAAiB,CAAC;QACpE,IAAI,mBAAmB,GAA+B,IAAI,CAAC;QAC3D,IAAI,SAAS,GAA8B,IAAI,CAAC,UAAU,CAAC;QAE3D,MAAM,GAAG,GAAG,IAAI,CAAC,oBAAoB,CAAC;QACtC,OAAO,SAAS,IAAI,CAAC,mBAAmB,EAAE,CAAC;YACzC,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAC9D,IAAI,GAAG,KAAK,sDAAS,CAAC,EAAE,IAAI,GAAG,KAAK,sDAAS,CAAC,IAAI,EAAE,CAAC;gBACnD,SAAS;oBACP,UAAI,CAAC,cAAc,CAAC,cAAc,GAAG,CAAC,CAAC,mCACvC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACxD,CAAC;iBAAM,IAAI,GAAG,KAAK,sDAAS,CAAC,IAAI,IAAI,GAAG,KAAK,sDAAS,CAAC,KAAK,EAAE,CAAC;gBAC7D,SAAS;oBACP,UAAI,CAAC,cAAc,CAAC,cAAc,GAAG,CAAC,CAAC,mCAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YACtE,CAAC;YAED,UAAU,CAAC,OAAO,CAAC,CAAC,IAAwB,EAAE,EAAE;gBAC9C,IACE,SAAS;oBACT,iBAAiB,CAAC,UAAU,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,EAC7D,CAAC;oBACD,mBAAmB,GAAG;wBACpB,KAAK,EAAE,IAAI;wBACX,SAAS,EAAE,SAAS;wBACpB,QAAQ,EAAE,CAAC;qBACZ,CAAC;gBACJ,CAAC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,SAAS,IAAI,IAAI,CAAC,UAAU;gBAAE,MAAM;QAC1C,CAAC;QACD,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAEQ,qBAAqB,CAC5B,aAAkC,EAClC,KAAuB,EACvB,YAAiC;QAEjC,IAAI,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;YACjC,OAAO,KAAK,CAAC,CAAC,6DAA6D;QAC7E,CAAC;QACD,qDAAqD;QACrD,OAAO,KAAK,CAAC,qBAAqB,CAAC,aAAa,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;IACzE,CAAC;IAEQ,sBAAsB,CAC7B,aAAuB,EACvB,KAAuB;QAEvB,IAAI,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;YACjC,OAAO,IAAI,CAAC,iCAAiC,CAAC,aAAa,CAAC,CAAC;QAC/D,CAAC;QACD,qDAAqD;QACrD,OAAO,KAAK,CAAC,sBAAsB,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC;IAED;;;;;OAKG;IACK,qBAAqB;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACK,gBAAgB;QACtB,kDAAkD;QAClD,MAAM,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC;QAC3C,kDAAkD;QAClD,MAAM,SAAS,GAAG,IAAI,CAAC,mBAA0C,CAAC;QAClE,IAAI,CAAC,SAAS,IAAI,CAAC,SAAS;YAAE,OAAO;QACrC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAEzB,2EAA2E;QAC3E,oEAAoE;QACpE,MAAM,EAAC,KAAK,EAAE,SAAS,EAAC,GAAG,SAAS,CAAC;QACrC,MAAM,uBAAuB,GAC3B,KAAK,CAAC,IAAI,KAAK,mDAAc,CAAC,YAAY;YAC1C,KAAK,CAAC,IAAI,KAAK,mDAAc,CAAC,kBAAkB,CAAC;QAEnD,MAAM,MAAM,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;QACvC,MAAM,+BAA+B,GACnC,MAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;QAExC,MAAM,qBAAqB,GACzB,MAAM;YACN,oDAAoD;YACpD,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QACxD,IACE,uBAAuB;YACvB,+BAA+B;YAC/B,CAAC,qBAAqB,EACtB,CAAC;YACD,SAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;QACzD,CAAC;aAAM,CAAC;YACN,SAAS,CAAC,iBAAiB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QAChD,CAAC;QACD,+DAA+D;QAC/D,oCAAoC;QACpC,KAAK,CAAC,cAAc,CAClB,IAAI,0CAAK,CAAC,UAAU,CAClB,SAAS,CAAC,CAAC,GAAG,sBAAsB,EACpC,SAAS,CAAC,CAAC,GAAG,sBAAsB,CACrC,CACF,CAAC;IACJ,CAAC;IAED;;;;;;;OAOG;IACK,sBAAsB;;QAC5B,+CAA+C;QAC/C,MAAM,SAAS,GAAG,UAAI,CAAC,UAAU,mCAAI,IAAI,CAAC,eAAe,CAAC;QAC1D,IAAI,SAAS,EAAE,CAAC;YACd,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,QAAQ,SAAS,CAAC,IAAI,EAAE,CAAC;gBACvB,KAAK,mDAAc,CAAC,WAAW,CAAC,CAAC,CAAC;oBAChC,IAAI,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;wBAChC,OAAO;4BACL,SAAS,EAAE,SAAS;4BACpB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB;4BAClC,QAAQ,EAAE,CAAC;yBACZ,CAAC;oBACJ,CAAC;oBACD,MAAM;gBACR,CAAC;gBACD,KAAK,mDAAc,CAAC,cAAc,CAAC,CAAC,CAAC;oBACnC,IAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;wBAClC,OAAO;4BACL,SAAS,EAAE,SAAS;4BACpB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB;4BACpC,QAAQ,EAAE,CAAC;yBACZ,CAAC;oBACJ,CAAC;oBACD,MAAM;gBACR,CAAC;YACH,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEQ,eAAe,CAAC,CAA2B;QAClD,OAAO,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;IAChD,CAAC;IAED;;;;;OAKG;IACK,uBAAuB,CAC7B,IAAgC,EAChC,IAAgC;QAEhC,MAAM,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACzD,IAAI,CAAC,UAAU;YAAE,OAAO,KAAK,CAAC;QAE9B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACvD,OAAO,KAAK,CAAC;QACf,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACK,oBAAoB,CAC1B,IAAgC,EAChC,IAAgC;QAEhC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QACjC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QAChC,OAAO,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;IACxE,CAAC;IAED;;;;;OAKG;IACK,2BAA2B,CACjC,gBAA4C;QAE5C,yCAAyC;QACzC,IAAI,CAAC,IAAI,CAAC,mBAAmB;YAAE,OAAO;QAEtC,IAAI,CAAC,sBAAsB,GAAG,gBAAgB,CAAC;QAC/C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAElC,8DAA8D;QAC9D,MAAM,kBAAkB,GAAyB,EAAE,CAAC;QACpD,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAE1D,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;YACjC,MAAM,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAClD,MAAM,oBAAoB,GAAG,WAAW,CAAC,MAAM,CAC7C,CAAC,KAAe,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CACvC,CAAC;YAEF,kBAAkB,CAAC,IAAI,CACrB,GAAG,oBAAoB;iBACpB,OAAO,CAAC,CAAC,KAAe,EAAE,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;iBAC1D,IAAI,CAAC,CAAC,CAAqB,EAAE,CAAqB,EAAE,EAAE;gBACrD,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,KAAK,KAAK,CAAC,EAAE,CAAC;oBAChB,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpB,CAAC;gBACD,OAAO,KAAK,CAAC;YACf,CAAC,CAAC,CACL,CAAC;QACJ,CAAC;QAED,mDAAmD;QACnD,MAAM,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE9D,IAAI,CAAC,qBAAqB,CAAC,yBAAyB,CAClD,IAAI,CAAC,KAAK,EACV,kBAAkB,EAClB,gBAAgB,CACjB,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACK,qBAAqB,CAAC,gBAAoC;QAChE,mDAAmD;QACnD,MAAM,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9D,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,CAAC;QAEjE,IAAI,eAAe,GAA8B,IAAI,CAAC;QACtD,KAAK,MAAM,KAAK,IAAI,gBAAgB,EAAE,CAAC;YACrC,IACE,iBAAiB,CAAC,UAAU,CAAC,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,QAAQ,CAAC,EACrE,CAAC;gBACD,eAAe,GAAG,KAAK,CAAC;gBACxB,MAAM;YACR,CAAC;QACH,CAAC;QAED,IAAI,eAAe,EAAE,CAAC;YACpB,oEAAoE;YACpE,MAAM,SAAS,GAAG;gBAChB,KAAK,EAAE,eAAe;gBACtB,SAAS,EAAE,gBAAgB;gBAC3B,QAAQ,EAAE,CAAC;aACZ,CAAC;YAEF,kDAAkD;YAClD,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;YAErC,6EAA6E;YAC7E,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;gBACzB,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;YAED,sDAAsD;YACtD,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;YAED,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;QACH,CAAC;aAAM,CAAC;YACN,gFAAgF;YAChF,8EAA8E;YAC9E,6CAA6C;YAC7C,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;gBACzB,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YACnC,CAAC;YAED,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;YAED,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,oBAAoB,CAAC,OAAgB;;QACnC,UAAI,CAAC,qBAAqB,0CAAE,oBAAoB,CAAC,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED;;;;OAIG;IACH,iBAAiB,CAAC,IAAoC;;QACpD,UAAI,CAAC,qBAAqB,0CAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;IACtD,CAAC;IAED;;OAEG;IACH,6BAA6B;QAC3B,OAAO,IAAI,CAAC,0BAA0B,CAAC;IACzC,CAAC;CACF;;;;;;;;;;;;;;;;ACznBD;;;;GAIG;AAEH;;;;;;;;;;;;;;GAcG;AACI,MAAM,QAAQ,GAA2B;IAC9C,yDAAyD;IACzD,CAAC,EAAE,WAAW;IACd,CAAC,EAAE,KAAK;IACR,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,MAAM;IACV,EAAE,EAAE,KAAK;IACT,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,WAAW;IACf,EAAE,EAAE,KAAK;IACT,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,SAAS;IACb,EAAE,EAAE,KAAK;IACT,EAAE,EAAE,MAAM;IACV,EAAE,EAAE,MAAM;IACV,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,MAAM;IACV,EAAE,EAAE,QAAQ;IACZ,EAAE,EAAE,QAAQ;IACZ,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,WAAW;IACf,EAAE,EAAE,QAAQ;IACZ,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,GAAG;IACP,EAAE,EAAE,SAAS;IACb,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,OAAO;IACX,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,OAAO;IACZ,GAAG,EAAE,cAAc;IACnB,GAAG,EAAE,UAAU;IACf,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,cAAc;IACnB,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,KAAK;IACV,GAAG,EAAE,KAAK;IACV,GAAG,EAAE,KAAK;IACV,GAAG,EAAE,WAAW;IAChB,GAAG,EAAE,QAAQ;IACb,GAAG,EAAE,MAAM;IACX,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,GAAG;IACR,GAAG,EAAE,qBAAqB;IAC1B,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,sBAAsB;IAC3B,GAAG,EAAE,cAAc;IACnB,GAAG,EAAE,KAAK;IACV,wDAAwD;CACzD,CAAC;;;;;;;;;;;;;;;;;AC1HF;;;;GAIG;AAEqC;AAExC;;;GAGG;AACH,MAAM,6BAA6B,GAAG,EAAE,CAAC;AAEzC;;GAEG;AACH,MAAM,UAAU,GAAG,EAAE,CAAC;AAEtB;;GAEG;AACH,MAAM,UAAU,GAAG,mBAAmB,CAAC;AAEvC;;;GAGG;AACI,MAAM,QAAQ;IAInB;;;;;OAKG;IACH,YACU,KAAuB,EAC/B,WAAiE;QADzD,UAAK,GAAL,KAAK,CAAkB;QAVzB,gBAAW,GAAuB,IAAI,CAAC;QACvC,iBAAY,GAAyC,IAAI,CAAC;QAYhE,IAAI,CAAC,YAAY,GAAG,CAAC,KAAiB,EAAE,EAAE;YACxC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACjC,CAAC,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,IAAI;QACF,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,kBAAkB;YAClB,OAAO;QACT,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QAC7C,IAAI,CAAC,YAAY;YAAE,OAAO;QAE1B,sBAAsB;QACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAE5C,oBAAoB;QACpB,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,0BAA0B;QAC1B,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE3C,oBAAoB;QACpB,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAED;;OAEG;IACH,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAE9B,uBAAuB;QACvB,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACnE,CAAC;QAED,kBAAkB;QAClB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED;;;OAGG;IACH,cAAc;QACZ,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9B,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACK,iBAAiB;QACvB,MAAM,SAAS,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,GAAG,EAAE;YACxD,KAAK,EAAE,UAAU;SAClB,CAAgB,CAAC;QAElB,gFAAgF;QAChF,6CAA6C;QAC7C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QACpC,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAEtC,iDAAiD;QACjD,MAAM,QAAQ,GAAG,UAAU,GAAG,6BAA6B,CAAC;QAC5D,MAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;QAEjF,yCAAyC;QACzC,MAAM,QAAQ,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE;YAC1D,CAAC,EAAE,GAAG;YACN,CAAC,EAAE,GAAG;YACN,KAAK,EAAE,SAAS,CAAC,QAAQ,EAAE;YAC3B,MAAM,EAAE,WAAW,CAAC,QAAQ,EAAE;YAC9B,IAAI,EAAE,oBAAoB;YAC1B,QAAQ,EAAE,oBAAoB;YAC9B,cAAc,EAAE,GAAG;YACnB,EAAE,EAAE,GAAG;YACP,EAAE,EAAE,GAAG;YACP,KAAK,EAAE,8BAA8B;SACtC,CAAC,CAAC;QACH,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEhC,4DAA4D;QAC5D,MAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACrC,MAAM,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC;QAClE,MAAM,MAAM,GAAG,CAAC,WAAW,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAE9D,sBAAsB;QACtB,MAAM,QAAQ,GAAG,SAAS,GAAG,IAAI,CAAC;QAClC,MAAM,QAAQ,GAAG,SAAS,GAAG,IAAI,CAAC;QAElC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC;YACjC,MAAM,CAAC,GAAG,MAAM,GAAG,CAAC,GAAG,UAAU,CAAC;YAElC,eAAe;YACf,MAAM,IAAI,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,QAAQ,EAAE;gBACxD,EAAE,EAAE,QAAQ,CAAC,QAAQ,EAAE;gBACvB,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE;gBAChB,CAAC,EAAE,SAAS,CAAC,QAAQ,EAAE;gBACvB,IAAI,EAAE,oBAAoB;gBAC1B,KAAK,EAAE,uBAAuB;aAC/B,CAAC,CAAC;YACH,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAE5B,gBAAgB;YAChB,MAAM,IAAI,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,QAAQ,EAAE;gBACxD,EAAE,EAAE,QAAQ,CAAC,QAAQ,EAAE;gBACvB,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE;gBAChB,CAAC,EAAE,SAAS,CAAC,QAAQ,EAAE;gBACvB,IAAI,EAAE,oBAAoB;gBAC1B,KAAK,EAAE,uBAAuB;aAC/B,CAAC,CAAC;YACH,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;IAED;;OAEG;IACK,YAAY;QAClB,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,OAAO;QAE9B,+CAA+C;QAC/C,gEAAgE;QAChE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,EAAE,iBAAiB,CAAC,CAAC;IAChE,CAAC;IAED;;;;;OAKG;IACH,YAAY,CAAC,MAA0B;QACrC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC;QAE/C,MAAM,OAAO,GAAG,MAAiB,CAAC;QAClC,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,OAAO,KAAK,IAAI,CAAC,WAAW,CAAC;IAC5E,CAAC;CACF;;;;;;;;;;;;;;;;;;ACnMD;;;;GAIG;;;;;;;;;;AAEqC;AACa;AAErD;;GAEG;AACI,MAAM,QAAQ;IAInB;;;;OAIG;IACH,YAAoB,WAA6B;QAA7B,gBAAW,GAAX,WAAW,CAAkB;QAC/C,IAAI,CAAC,aAAa,GAAG,IAAI,gEAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjE,CAAC;IAED;;OAEG;IACH,OAAO;QACL,OAAO,QAAQ,CAAC,IAAI,CAAC;IACvB,CAAC;IAED;;;;;OAKG;IACH,SAAS;QACP,OAAO,CAAC,CAAC,CAAC;IACZ,CAAC;IAED;;;;;OAKG;IACH,OAAO;QACL,+DAA+D;QAC/D,OAAO,IAAI,+CAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvC,CAAC;IAED;;;;OAIG;IACH,oBAAoB;QAClB,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;OAIG;IACH,mBAAmB;QACjB,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;OAIG;IACH,eAAe;QACb,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;OAEG;IACH,SAAS;QACP,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED;;;;OAIG;IACH,gBAAgB,CAAC,WAAqC;;QACpD,UAAI,CAAC,aAAa,0CAAE,cAAc,EAAE,CAAC;IACvC,CAAC;IAED;;OAEG;IACH,OAAO;;QACL,UAAI,CAAC,aAAa,0CAAE,OAAO,EAAE,CAAC;IAChC,CAAC;IAED,0EAA0E;IAC1E,0EAA0E;IAC1E,WAAW,KAAI,CAAC;IAEhB,sBAAsB,KAAI,CAAC;IAE3B,cAAc,KAAI,CAAC;IAEnB,eAAe,KAAI,CAAC;IAEpB,gBAAgB,KAAI,CAAC;IAErB,OAAO,KAAI,CAAC;IAEN,gBAAgB,CAAC,OAAgB;8DAAG,CAAC;KAAA;IAE3C,QAAQ,CAAC,mBAA8C,IAAG,CAAC;IAE3D,8CAA8C;IAC9C,mBAAmB;QACjB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACjD,CAAC;IAED,2CAA2C;IAC3C,gBAAgB;QACd,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACjD,CAAC;IAED,sCAAsC;IACtC,WAAW,KAAU,CAAC;IAEtB,qCAAqC;IACrC,UAAU,KAAU,CAAC;IAErB,uCAAuC;IACvC,YAAY;QACV,OAAO,KAAK,CAAC;IACf,CAAC;;AA9He,aAAI,GAAG,IAAI,+CAAa,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;;;;;;;;;;;;;;;;;ACdrE;;;;GAIG;AAEqC;AAExC;;;GAGG;AACI,MAAM,mBAAmB;IAa9B;;;;OAIG;IACH,yDAAyD;IACzD,YACU,aAA4D;QAA5D,kBAAa,GAAb,aAAa,CAA+C;QAZtE;;WAEG;QACH,aAAQ,GAAG,IAAI,+CAAa,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAW5C,MAAM,SAAS,GAAG,aAAa,CAAC,SAAiC,CAAC;QAClE,IAAI,CAAC,OAAO,GAAG,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAC/C,+CAAa,CAAC,GAAG,CAAC,CAAC,EACnB,EAAE,EACF,SAAS,CAAC,eAAe,EAAE,CAC5B,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QACzD,MAAM,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;QAC1B,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAChC,+CAAa,CAAC,GAAG,CAAC,MAAM,EACxB;YACE,MAAM,EAAE,OAAO;YACf,cAAc,EAAE,KAAK;YACrB,QAAQ,EAAE,MAAM;YAChB,cAAc,EAAE,GAAG;YACnB,GAAG,EAAE,EAAE;YACP,IAAI,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,EAAE,EAAE;SACT,EACD,IAAI,CAAC,OAAO,CACb,CAAC;QACF,+CAAa,CAAC,GAAG,CAAC,gBAAgB,CAChC,+CAAa,CAAC,GAAG,CAAC,IAAI,EACtB;YACE,MAAM,EAAE,MAAM;YACd,QAAQ,EAAE,OAAO;YACjB,gBAAgB,EAAE,OAAO;YACzB,iBAAiB,EAAE,OAAO;YAC1B,cAAc,EAAE,GAAG;YACnB,GAAG,EAAE,mFAAmF;YACxF,WAAW,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK;SAClD,EACD,IAAI,CAAC,OAAO,CACb,CAAC;QAEF,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACH,SAAS;QACP,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;OAIG;IACH,UAAU;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED;;OAEG;IACH,cAAc;;QACZ,MAAM,MAAM,GACV,IAAI,CAAC,aAAa,YAAY,kDAAgB;YAC5C,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,mCAAmC,EAAE;YAC1D,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,oBAAoB,EAAE,CAAC;QAChD,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG;YACxC,CAAC,CAAC,MAAM,CAAC,IAAI,GAAG,EAAE;YAClB,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;QACtB,MAAM,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAClB,MAAC,IAAI,CAAC,aAAa,CAAC,SAAkC;aACnD,eAAe,EAAE,0CAChB,eAAe,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,CAAS,EAAE,CAAS;QACzB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,EAAE,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAClE,CAAC;IAED;;;;OAIG;IACH,sBAAsB;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED;;OAEG;IACH,OAAO;QACL,+CAAa,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IAED,0EAA0E;IAC1E,2EAA2E;IAC3E,iDAAiD;IACjD,eAAe,KAAI,CAAC;IAEpB,WAAW,CAAC,QAAiB,IAAG,CAAC;IAEjC,SAAS,CAAC,KAAmB,IAAG,CAAC;IAEjC,IAAI,CAAC,WAAqC,EAAE,KAAmB,IAAG,CAAC;IAEnE,cAAc,CAAC,WAAqC,IAAG,CAAC;IAExD,OAAO,KAAI,CAAC;IAEZ,UAAU,KAAI,CAAC;IAEf,cAAc,CAAC,MAAe,IAAG,CAAC;IAElC,8CAA8C;IAC9C,mBAAmB;QACjB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACjD,CAAC;IAED,2CAA2C;IAC3C,gBAAgB;QACd,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACjD,CAAC;IAED,sCAAsC;IACtC,WAAW,KAAU,CAAC;IAEtB,qCAAqC;IACrC,UAAU,KAAU,CAAC;IAErB,uCAAuC;IACvC,YAAY;QACV,OAAO,KAAK,CAAC;IACf,CAAC;CACF;;;;;;;;;;;;;;;;;;;AC/KD;;;;GAIG;AAEH;;;;GAIG;AAEqC;AACC;AAIhB;AAEzB;;GAEG;AACI,MAAM,UAAU;IAmBrB;;OAEG;IACH;QATA;;;WAGG;QACO,eAAU,GAA2B,EAAE,CAAC;QAMhD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClE,CAAC;IAED;;;;;;OAMG;IACH,YAAY,CAAC,SAA+B;QAC1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAElD,IAAI,MAAM,EAAE,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACzB,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,eAAe,CAAC,SAA+B;QAC7C,MAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACxD,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,CAAC,4BAA4B,CAAC,SAAS,CAAC,CAAC;QAE7C,IAAI,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAC1C,CAAC;QACD,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAErD,IAAI,MAAM,EAAE,CAAC;YACX,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAC5B,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,QAAQ;QACN,MAAM,YAAY,GAAG,yDAAuB,EAAE,CAAC;QAC/C,IAAI,YAAY,CAAC,mBAAmB,EAAE,EAAE,CAAC;YACvC,OAAO,6CAAe,CAAC,OAAO,CAAC;QACjC,CAAC;QAED,MAAM,WAAW,GAAG,YAAY,CAAC,cAAc,EAAE,CAAC;QAClD,IAAI,WAAW,YAAY,sDAAoB,EAAE,CAAC;YAChD,IAAI,WAAW,CAAC,QAAQ,EAAE,CAAC;gBACzB,OAAO,6CAAe,CAAC,MAAM,CAAC;YAChC,CAAC;iBAAM,CAAC;gBACN,OAAO,6CAAe,CAAC,SAAS,CAAC;YACnC,CAAC;QACH,CAAC;aAAM,IAAI,WAAW,YAAY,iDAAe,EAAE,CAAC;YAClD,OAAO,6CAAe,CAAC,OAAO,CAAC;QACjC,CAAC;aAAM,IAAI,WAAW,YAAY,gDAAc,EAAE,CAAC;YACjD,OAAO,6CAAe,CAAC,MAAM,CAAC;QAChC,CAAC;QACD,uEAAuE;QACvE,sBAAsB;QACtB,OAAO,6CAAe,CAAC,OAAO,CAAC;IACjC,CAAC;IAED;;;;;OAKG;IACH,SAAS,CAAC,MAAuB;QAC/B,MAAM,eAAe,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC9C,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC5D,MAAM,iBAAiB,GAAG,kDAAgB,CAAC,QAAQ,CACjD,4DAAsB,EACtB,4DAAsB,CACvB,CAAC;QACF,IAAI,iBAAiB,EAAE,CAAC;YACtB,eAAe;iBACZ,gBAAgB,EAAE;iBAClB,SAAS,CAAC,IAAI,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC;QAC9C,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,YAAY,CAAC,MAAuB;QAClC,MAAM,eAAe,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QAC9C,eAAe,CAAC,oBAAoB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACjE,CAAC;IAED;;;;;OAKG;IACH,uBAAuB,CAAC,CAA0B;QAChD,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO;QACT,CAAC;QACD,MAAM,SAAS,GAAG,mDAAiB,CAAC,OAAO,CACzC,CAAC,CAAC,WAAW,CACU,CAAC;QAC1B,IAAI,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,yBAAyB,EAAE,CAAC;YACvD,OAAO;QACT,CAAC;QACD,IAAI,CAAC,CAAC,IAAI,KAAK,gDAAc,CAAC,YAAY,EAAE,CAAC;YAC3C,IAAK,CAAgC,CAAC,OAAO,KAAK,UAAU,EAAE,CAAC;gBAC7D,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAA+B,CAAC,CAAC;YACvE,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,oBAAoB,CAAC,CAA0B;QAC7C,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO;QACT,CAAC;QACD,MAAM,eAAe,GAAG,mDAAiB,CAAC,OAAO,CAC/C,CAAC,CAAC,WAAW,CACiB,CAAC;QACjC,MAAM,aAAa,GAAG,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,eAAe,CAAC;QACvD,IAAI,CAAC,aAAa,EAAE,CAAC;YACnB,OAAO;QACT,CAAC;QACD,MAAM,MAAM,GAAG,aAAa,CAAC,SAAS,EAAE,CAAC;QACzC,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,OAAO;QACT,CAAC;QAED,2EAA2E;QAC3E,yEAAyE;QACzE,4CAA4C;QAC5C,IACE,aAAa;YACb,aAAa,CAAC,yBAAyB;YACvC,CAAC,MAAM,CAAC,SAAS,EACjB,CAAC;YACD,IACE,CAAC,CAAC,IAAI,KAAK,gDAAc,CAAC,KAAK;gBAC9B,CAA0B,CAAC,UAAU,KAAK,OAAO,EAClD,CAAC;gBACD,MAAM,EAAC,OAAO,EAAC,GAAG,CAAyB,CAAC;gBAC5C,IAAI,OAAO,EAAE,CAAC;oBACZ,MAAM,KAAK,GAAG,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBACpD,IAAI,KAAK,EAAE,CAAC;wBACV,IAAI,CAAC,wBAAwB,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;oBACtD,CAAC;gBACH,CAAC;YACH,CAAC;iBAAM,IAAI,CAAC,CAAC,IAAI,KAAK,gDAAc,CAAC,QAAQ,EAAE,CAAC;gBAC9C,MAAM,EAAC,YAAY,EAAC,GAAG,CAA4B,CAAC;gBACpD,IAAI,YAAY,EAAE,CAAC;oBACjB,MAAM,KAAK,GAAG,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;oBACzD,IAAI,KAAK,EAAE,CAAC;wBACV,IAAI,CAAC,wBAAwB,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;oBACtD,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;aAAM,IACL,CAAC,CAAC,IAAI,KAAK,gDAAc,CAAC,YAAY;YACtC,IAAI,CAAC,QAAQ,EAAE,KAAK,6CAAe,CAAC,MAAM,EAC1C,CAAC;YACD,8EAA8E;YAC9E,8BAA8B;YAC9B,IAAI,CAAC,2BAA2B,CAAC,aAAa,CAAC,CAAC;QAClD,CAAC;IACH,CAAC;IAEO,oBAAoB,CAC1B,IAA4B,EAC5B,WAAoC;QAEpC,IAAI,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,QAAQ,EAAE,CAAC;YAC1B,OAAO,IAAI,CAAC;QACd,CAAC;QACD,IAAI,IAAI,YAAY,sDAAoB,EAAE,CAAC;YACzC,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,KAAK,IAAI,CAAC;QAC/C,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;OAOG;IACH,mBAAmB,CACjB,SAA+B,EAC/B,CAA6B;QAE7B,MAAM,cAAc,GAAG,CAAC,CAAC,OAAO,CAAC;QACjC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,MAAM,KAAK,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC;QACtC,IAAI,KAAK,IAAI,KAAK,CAAC,EAAE,KAAK,cAAc,EAAE,CAAC;YACzC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACH,wBAAwB,CACtB,aAAmC,EACnC,KAAuB;;QAEvB,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,OAAO;QACT,CAAC;QACD,MAAM,YAAY,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QAClE,IAAI,YAAY,EAAE,CAAC;YACjB,UAAI,CAAC,eAAe,CAAC,aAAa,CAAC,0CAAE,UAAU,CAAC,YAAY,CAAC,CAAC;QAChE,CAAC;QACD,MAAM,MAAM,GAAG,aAAa,CAAC,SAAS,EAAE,CAAC;QACzC,IAAI,MAAM,EAAE,CAAC;YACX,yDAAuB,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,2BAA2B,CACzB,SAA+B,EAC/B,SAA2B,OAAO;QAElC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC;QAC1B,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY;YAAE,OAAO,KAAK,CAAC;QAEhC,MAAM,OAAO,GAAG,YAAY,CAAC,UAAU,EAAE,CAAC;QAC1C,MAAM,WAAW,GAAG,YAAY,CAAC,cAAc,EAAE,CAAC;QAClD,0EAA0E;QAC1E,IACE,OAAO;YACP,OAAO,KAAK,MAAM,CAAC,YAAY,EAAE;YACjC,OAAO,CAAC,gBAAgB,EAAE,KAAK,MAAM,CAAC,YAAY,EAAE;YACpD,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,WAAW,CAAC,EAChD,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC;QAED,MAAM,cAAc,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QAC5C,MAAM,iBAAiB,GACrB,MAAM,KAAK,OAAO;YAChB,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,iBAAiB;YAAE,OAAO,KAAK,CAAC;QACrC,MAAM,wBAAwB,GAAG,iBAAiB,CAAC,UAAU,EAAE,CAAC;QAChE,YAAY,CAAC,UAAU,CAAC,wBAAwB,CAAC,CAAC;QAClD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;;;;OAUG;IACH,sCAAsC,CACpC,SAA+B,EAC/B,SAA2B,OAAO;;QAElC,MAAM,SAAS,GAAG,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAC/C,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,MAAM,QAAQ,GAAG,YAAM,CAAC,cAAc,EAAE,0CAAE,QAAQ,CAAC;QACnD,IAAI,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;YACrC,wEAAwE;YACxE,wDAAwD;YACxD,OAAO,KAAK,CAAC;QACf,CAAC;QACD,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACzB,MAAM,CAAC,UAAU,CACf,SAAS,CAAC,MAAM,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CACzD,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC/B,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACH,eAAe,CAAC,SAA+B;QAC7C,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QAEjE,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;;;;;;OAQG;IACH,oBAAoB,CAClB,cAAsC,EACtC,WAA6B;;QAE7B,MAAM,eAAe,GAAG,CAAC,CAAC,WAAW,CAAC,gBAAgB,CAAC;QAEvD,IAAI,cAAc,YAAY,+CAAa,EAAE,CAAC;YAC5C,yEAAyE;YACzE,MAAM,WAAW,GAAG,cAAc,CAAC,cAAc,EAAsB,CAAC;YACxE,IAAI,CAAC,WAAW;gBAAE,OAAO,IAAI,CAAC;YAC9B,OAAO,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;QAC7D,CAAC;aAAM,IAAI,cAAc,YAAY,4DAA0B,EAAE,CAAC;YAChE,qEAAqE;YACrE,sBAAsB;YACtB,IACE,CAAC,eAAe;gBAChB,cAAc,CAAC,IAAI,KAAK,wDAAsB,CAAC,WAAW,EAC1D,CAAC;gBACD,MAAM,WAAW,GAAG,cAAc,CAAC,cAAc,EAAE,CAAC;gBACpD,IAAI,CAAC,WAAW;oBAAE,OAAO,IAAI,CAAC;gBAC9B,OAAO,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YAC7D,CAAC;YAED,8DAA8D;YAC9D,qDAAqD;YACrD,OAAO,cAAc,CAAC;QACxB,CAAC;aAAM,IAAI,cAAc,YAAY,sDAAoB,EAAE,CAAC;YAC1D,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IAAI,cAAc,YAAY,kDAAgB,EAAE,CAAC;YACtD,8CAA8C;YAC9C,MAAM,SAAS,GAAG,eAAe;gBAC/B,CAAC,CAAC,gDAAc,CAAC,UAAU,CAAC,KAAK;gBACjC,CAAC,CAAC,gDAAc,CAAC,UAAU,CAAC,SAAS,CAAC;YACxC,MAAM,qBAAqB,GAAG,cAAc,CAAC,SAAS;iBACnD,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,CAAC;iBAC3C,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YACpC,KAAK,MAAM,UAAU,IAAI,qBAAqB,EAAE,CAAC;gBAC/C,IAAI,gBAAgB,GAClB,UAAU,CAAC;gBACb,IAAI,SAAS,KAAK,gDAAc,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;oBACtD,OAAO,sBAAgB,aAAhB,gBAAgB,uBAAhB,gBAAgB,CAAE,WAAW,EAAE,0CAAE,cAAc,EAAE,CAAC;wBACvD,gBAAgB,GAAG,sBAAgB,aAAhB,gBAAgB,uBAAhB,gBAAgB,CAAE,WAAW,EAAE,0CAAE,cAAc,CAAC;oBACrE,CAAC;gBACH,CAAC;gBAED,IACE,gBAAgB;oBAChB,WAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC,UAAU,CAChD,eAAe;wBACb,CAAC,CAAC,WAAW,CAAC,gBAAgB;wBAC9B,CAAC,CAAC,WAAW,CAAC,kBAAkB,EAClC,gBAAgB,EAChB,IAAI;oBACJ,6DAA6D;oBAC7D,kEAAkE;oBAClE,QAAQ,CACT,EACD,CAAC;oBACD,OAAO,gBAA8C,CAAC;gBACxD,CAAC;YACH,CAAC;YAED,qEAAqE;YACrE,qEAAqE;YACrE,wEAAwE;YACxE,SAAS;YACT,IAAI,cAAc,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE,CAAC;gBACtD,IAAI,cAAc,GAChB,cAAc,CAAC,cAAc,CAAC;gBAChC,OAAO,cAAc,EAAE,CAAC;oBACtB,IACE,WAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC,UAAU,CAChD,WAAW,CAAC,kBAAkB,EAC9B,cAAc,EACd,IAAI;oBACJ,6DAA6D;oBAC7D,kEAAkE;oBAClE,QAAQ,CACT,EACD,CAAC;wBACD,OAAO,cAAc,CAAC;oBACxB,CAAC;oBACD,cAAc;wBACZ,0BAAc,CAAC,cAAc,EAAE,CAAC,YAAY,EAAE,0CAAE,cAAc,mCAC9D,IAAI,CAAC;gBACT,CAAC;YACH,CAAC;YAED,2DAA2D;YAC3D,IAAI,cAAc,CAAC,gBAAgB,EAAE,CAAC;gBACpC,eAAe;gBACf,MAAM,MAAM,GAAG,cAAc,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;gBAChE,IAAI,eAAe,IAAI,MAAM,EAAE,CAAC;oBAC9B,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;gBACxD,CAAC;qBAAM,IAAI,CAAC,eAAe,EAAE,CAAC;oBAC5B,8DAA8D;oBAC9D,MAAM,MAAM,GAAG,cAAc,CAAC,SAAS,EAAE,CAAC;oBAC1C,IAAI,CAAC,MAAM;wBAAE,OAAO,IAAI,CAAC;oBACzB,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;gBACxD,CAAC;gBACD,OAAO,cAAc,CAAC,gBAAgB,CAAC;YACzC,CAAC;QACH,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,2CAA2C,cAAc,GAAG,CAAC,CAAC;QACxE,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;;OAOG;IACH,iBAAiB,CACf,cAAsC,EACtC,WAA6B;QAE7B,MAAM,cAAc,GAAG,IAAI,CAAC,oBAAoB,CAC9C,cAAc,EACd,WAAW,CACZ,CAAC;QACF,IAAI,CAAC,cAAc;YAAE,OAAO,KAAK,CAAC;QAClC,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;IACvD,CAAC;IAED;;;;;;OAMG;IACH,eAAe,CACb,gBAA4C,EAC5C,cAA0C;QAE1C,MAAM,WAAW,GAAG,gBAAgB,CAAC,cAAc,EAAE,CAAC;QACtD,MAAM,SAAS,GAAG,cAAc,CAAC,cAAc,EAAE,CAAC;QAClD,IAAI,kBAAkB,CAAC;QAEvB,IAAI,WAAW,CAAC,YAAY,EAAE,KAAK,SAAS,CAAC,YAAY,EAAE,EAAE,CAAC;YAC5D,IAAI,WAAW,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;gBAC1D,kBAAkB,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;gBAChE,IAAI,kBAAkB,EAAE,CAAC;oBACvB,kBAAkB,CAAC,UAAU,EAAE,CAAC;gBAClC,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,kBAAkB,GAAG,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;gBAClE,IAAI,kBAAkB,EAAE,CAAC;oBACvB,kBAAkB,CAAC,UAAU,EAAE,CAAC;gBAClC,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;;;;;OAUG;IACH,OAAO,CACL,gBAAmD,EACnD,cAAiD;QAEjD,IAAI,CAAC,gBAAgB,IAAI,CAAC,cAAc,EAAE,CAAC;YACzC,OAAO,KAAK,CAAC;QACf,CAAC;QAED,MAAM,cAAc,GAAG,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;QACpE,MAAM,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAEhE,MAAM,cAAc,GAAG,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;QACpE,MAAM,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAEhE,IACE,cAAc;YACd,YAAY;YACZ,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,YAAY,CAAC,EACjD,CAAC;YACD,OAAO,IAAI,CAAC;YACZ,oEAAoE;QACtE,CAAC;aAAM,IACL,cAAc;YACd,YAAY;YACZ,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,YAAY,CAAC,EACjD,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,IAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,cAAc,CAAC,EAAE,CAAC;YACjE,OAAO,IAAI,CAAC;QACd,CAAC;aAAM,CAAC;YACN,MAAM,OAAO,GAAG,gBAAgB,CAAC,oBAAoB,EAAE,CAAC;YACxD,MAAM,MAAM,GAAG,OAAO,CAAC,oBAAoB,CACzC,gBAAgB,EAChB,cAAc,EACd,KAAK,CACN,CAAC;YACF,IAAI,CAAC,IAAI,CACP,gCAAgC;gBAC9B,OAAO,CAAC,eAAe,CAAC,MAAM,EAAE,gBAAgB,EAAE,cAAc,CAAC,CACpE,CAAC;YACF,OAAO,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACH,qBAAqB,CACnB,UAA6C;QAE7C,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,OAAO,IAAI,CAAC;QACd,CAAC;QACD,MAAM,KAAK,GAAG,UAAU,CAAC,cAAc,EAAsB,CAAC;QAC9D,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,EAAE,CAAC;YAC7B,OAAO,UAAU,CAAC;QACpB,CAAC;aAAM,IAAI,KAAK,CAAC,kBAAkB,EAAE,CAAC;YACpC,OAAO,KAAK,CAAC,kBAAkB,CAAC;QAClC,CAAC;aAAM,IAAI,KAAK,CAAC,gBAAgB,EAAE,CAAC;YAClC,OAAO,KAAK,CAAC,gBAAgB,CAAC;QAChC,CAAC;aAAM,CAAC;YACN,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACH,qBAAqB,CACnB,UAA6C;QAE7C,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,OAAO,IAAI,CAAC;QACd,CAAC;QACD,IAAI,UAAU,CAAC,UAAU,EAAE,EAAE,CAAC;YAC5B,OAAO,UAAU,CAAC;QACpB,CAAC;aAAM,IAAI,UAAU,CAAC,gBAAgB,EAAE,CAAC;YACvC,OAAO,UAAU,CAAC,gBAAgB,CAAC;QACrC,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;OAMG;IACH,cAAc,CACZ,gBAAmD,EACnD,cAAiD;QAEjD,IAAI,CAAC,gBAAgB,IAAI,CAAC,cAAc,EAAE,CAAC;YACzC,OAAO,KAAK,CAAC;QACf,CAAC;QACD,MAAM,WAAW,GAAG,gBAAgB,CAAC,cAAc,EAAE,CAAC;QACtD,MAAM,OAAO,GAAG,gBAAgB,CAAC,oBAAoB,EAAE,CAAC;QAExD,IACE,OAAO,CAAC,UAAU,CAAC,gBAAgB,EAAE,cAAc,EAAE,KAAK,CAAC;YAC3D,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC,QAAQ,EAAE,EAC3C,CAAC;YACD,IAAI,CAAC,eAAe,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;YAEvD,sEAAsE;YACtE,uCAAuC;YACvC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,EAAE,CAAC;gBACjC,MAAM,SAAS,GAAG,WAAW,CAAC,YAAY,EAAE,CAAC;gBAE7C,MAAM,sBAAsB,GAAG;oBAC7B,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;oBACxC,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;iBACzC,CAAC;gBACF,MAAM,qBAAqB,GAAG,gBAAgB;qBAC3C,gBAAgB,EAAE;qBAClB,KAAK,EAAE,CAAC;gBACX,SAAS,CAAC,sBAAsB,CAC9B,gBAAgB,EAChB,sBAAsB,EACtB,qBAAqB,CACtB,CAAC;YACJ,CAAC;YACD,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YACzC,OAAO,IAAI,CAAC;QACd,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;;OAQG;IACH,WAAW,CACT,KAAuB,EACvB,cAA0C;QAE1C,QAAQ,cAAc,CAAC,IAAI,EAAE,CAAC;YAC5B,KAAK,4DAA0B;gBAC7B,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,cAAc,CAAC,EAAE,CAAC;oBACvD,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,MAAM;YACR,KAAK,wDAAsB;gBACzB,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,cAAc,CAAC,EAAE,CAAC;oBAC3D,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,MAAM;YACR,KAAK,qDAAmB;gBACtB,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,cAAc,CAAC,EAAE,CAAC;oBACzD,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,MAAM;YACR,KAAK,sDAAoB;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAChD,MAAM,eAAe,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBACtD,IACE,eAAe;wBACf,eAAe,CAAC,IAAI,KAAK,qDAAmB;wBAC5C,IAAI,CAAC,OAAO,CACV,eAA6C,EAC7C,cAAc,CACf,EACD,CAAC;wBACD,OAAO,IAAI,CAAC;oBACd,CAAC;gBACH,CAAC;gBACD,+DAA+D;gBAC/D,4DAA4D;gBAC5D,IACE,KAAK,CAAC,gBAAgB;oBACtB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,cAAc,CAAC,EACpD,CAAC;oBACD,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,MAAM;QACV,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,wDAAwD,CAAC,CAAC;QACpE,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;OAKG;IACH,2BAA2B,CAAC,SAA+B;QACzD,IACE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC;YACnC,CAAC,SAAS,CAAC,yBAAyB,EACpC,CAAC;YACD,SAAS,CAAC,yBAAyB,GAAG,IAAI,CAAC;QAC7C,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,4BAA4B,CAAC,SAA+B;QAC1D,IACE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC;YACnC,SAAS,CAAC,yBAAyB,EACnC,CAAC;YACD,SAAS,CAAC,yBAAyB,GAAG,KAAK,CAAC;QAC9C,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,GAAG,CAAC,GAAW;QACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;IAED;;;;;OAKG;IACH,IAAI,CAAC,GAAW;QACd,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACpB,CAAC;IAED;;;;;OAKG;IACH,KAAK,CAAC,GAAW;QACf,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;IAED;;;;;OAKG;IACH,mBAAmB,CAAC,SAA+B;QACjD,MAAM,OAAO,GAAG,SAAS,CAAC,UAAU,EAAE,CAAC;QACvC,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,OAAO,EAAE,CAAC;YACZ,yDAAuB,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC/C,CAAC;aAAM,IAAI,MAAM,EAAE,CAAC;YAClB,yDAAuB,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,KAAK,CAAC,QAA2B,EAAE,SAA+B;QAChE,8EAA8E;QAC9E,MAAM,UAAU,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,EAAE,CAAC;QAEtD,gDAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC9B,MAAM,KAAK,GAAG,mDAAiB,CAAC,KAAK,CACnC,QAAQ,EACR,SAAS,CACU,CAAC;QACtB,IAAI,KAAK,EAAE,CAAC;YACV,IAAI,UAAU,EAAE,CAAC;gBACf,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;YAC5C,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC;QACD,gDAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC/B,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;;;;;OAUG;IACH,oBAAoB,CAAC,SAA+B;;QAClD,uEAAuE;QACvE,uEAAuE;QACvE,mEAAmE;QACnE,uEAAuE;QACvE,wEAAwE;QACxE,qEAAqE;QACrE,oBAAoB;QACpB,MAAM,iBAAiB,GAAG,CACxB,2BAAS,CAAC,gBAAgB,EAAE,mCAC5B,eAAS,CAAC,eAAe,0CAAE,gBAAgB,EAAE,mCAC7C,SAAS,CAAC,eAAe,mCACzB,SAAS,CACV,CAAC,yBAAyB,CAAC;QAC5B,OAAO,CAAC,CAAC,iBAAiB,IAAI,IAAI,CAAC,QAAQ,EAAE,KAAK,6CAAe,CAAC,OAAO,CAAC;IAC5E,CAAC;IAED;;;;;;;;OAQG;IACH,gBAAgB,CAAC,SAA+B;QAC9C,OAAO,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;IACzE,CAAC;IAED;;OAEG;IACH,OAAO;QACL,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACxC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC;IACH,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACj4BD;;;;GAIG;AAEH;;;;GAIG;AAEqC;AAOlB;AAEmB;AACK;AACA;AACJ;AACF;AACS;AACO;AACG;AACjB;AACE;AACU;AACL;AACN;AACiB;AACR;AACa;AAEjE,MAAM,QAAQ,GAAG,+CAAY,CAAC,QAAQ,CAAC;AAEvC;;GAEG;AACI,MAAM,oBAAoB;IAmC/B,YACU,UAIJ;QACF,wBAAwB,EAAE,KAAK;QAC/B,oBAAoB,EAAE,IAAI;KAC3B;;QAPO,YAAO,GAAP,OAAO,CAOd;QA1CK,eAAU,GAAe,IAAI,mDAAU,EAAE,CAAC;QAIlD,mBAAc,GAAmB,IAAI,4DAAc,EAAE,CAAC;QAEtD,qDAAqD;QACrD,iBAAY,GAAiB,IAAI,yDAAY,EAAE,CAAC;QAEhD,qDAAqD;QACrD,eAAU,GAAe,IAAI,qDAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEzD,2CAA2C;QAC3C,qBAAgB,GAAqB,IAAI,kEAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAI3E,oBAAe,GAAG,IAAI,gEAAe,EAAE,CAAC;QAExC,sBAAiB,GAAsB,IAAI,mEAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE9E,sDAAsD;QACtD,oBAAe,GAAoB,IAAI,sEAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAExE,eAAU,GAAe,IAAI,qDAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAIzD,eAAU,GAAe,IAAI,6DAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAIzD,0BAAqB,GAA0B,IAAI,6EAAqB,EAAE,CAAC;QAsB3E;;;WAGG;QACK,0BAAqB,GAElB,IAAI,CAAC;QA0GhB;;WAEG;QACO,cAAS,GAEf;YACF,yCAAyC;YACzC,YAAY,EAAE;gBACZ,IAAI,EAAE,sDAAwB,CAAC,OAAO;gBACtC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,UAAU,EAAE;gBACtD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;;oBACtB,sEAA4B,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/C,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;wBACnC,KAAK,6CAAe,CAAC,SAAS;4BAC5B,yDAAuB,EAAE,CAAC,SAAS,CACjC,qBAAS,CAAC,UAAU,EAAE,mCACpB,eAAS,CAAC,SAAS,EAAE,0CAAE,YAAY,EAAE,mCACrC,SAAS,CACZ,CAAC;4BACF,OAAO,IAAI,CAAC;wBACd;4BACE,OAAO,KAAK,CAAC;oBACjB,CAAC;gBACH,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;aACvB;YAED,8BAA8B;YAC9B,OAAO,EAAE;gBACP,IAAI,EAAE,sDAAwB,CAAC,QAAQ;gBACvC,cAAc,EAAE,CAAC,SAAS,EAAE,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,CAAC;oBAC3C,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC;gBAC1C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;oBACtB,SAAS,CAAC,OAAO,EAAE,CAAC;oBACpB,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;aACvB;SACF,CAAC;QAjKA,IAAI,CAAC,KAAK,GAAG,IAAI,kDAAK,CACpB,IAAI,CAAC,UAAU,EACf,aAAO,CAAC,oBAAoB,mCAAI,IAAI,EACpC,OAAO,CAAC,uBAAuB,CAChC,CAAC;QACF,IAAI,CAAC,WAAW,GAAG,IAAI,wDAAW,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAChE,IAAI,CAAC,WAAW,GAAG,IAAI,uDAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,yDAAS,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IAUD;;OAEG;IACH,IAAI;QACF,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED;;;;OAIG;IACO,mBAAmB;QAC3B,IAAI,CAAC,qBAAqB,GAAG,iDAAO,CAAC,SAAS,CAAC,UAAU,CAAC;QAC1D,iDAAO,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;IACrD,CAAC;IAED;;OAEG;IACO,sBAAsB;QAC9B,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAChC,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;QAC5D,CAAC;QACD,iDAAe,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC;QAClE,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED;;;;;;OAMG;IACO,cAAc,CAEtB,QAA2C;QAE3C,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,OAAO,KAAK,CAAC;QACf,CAAC;QACD,QAAQ,QAAQ,CAAC,IAAI,EAAE,CAAC;YACtB,KAAK,sDAAwB,CAAC,EAAE;gBAC9B,kCAAkC;gBAClC,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;YAC/B,KAAK,sDAAwB,CAAC,IAAI;gBAChC,kCAAkC;gBAClC,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;YAC7B,KAAK,sDAAwB,CAAC,IAAI;gBAChC,kCAAkC;gBAClC,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;YAC3B,KAAK,sDAAwB,CAAC,KAAK;gBACjC,kCAAkC;gBAClC,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;YAC5B;gBACE,OAAO,KAAK,CAAC;QACjB,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,YAAY,CAAC,SAAuB;QAClC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IAC1C,CAAC;IAED;;;;;;OAMG;IACH,eAAe,CAAC,SAAuB;QACrC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,SAAuB;QAC5B,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;IACzD,CAAC;IAED;;;;;OAKG;IACH,OAAO,CAAC,SAAuB;QAC7B,IAAI,CAAC,UAAU,CAAC,4BAA4B,CAAC,SAAS,CAAC,CAAC;IAC1D,CAAC;IA2CD;;;;OAIG;IACO,gBAAgB;QACxB,KAAK,MAAM,QAAQ,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YACrD,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;QACD,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACjC,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAChC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAE1B,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACzB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;QAC9B,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,CAAC;QAErC,iEAAiE;QACjE,kEAAkE;QAClE,oCAAoC;QACpC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,CAAC;IAC3C,CAAC;IAED;;;;OAIG;IACH,uBAAuB,CAAC,OAAgB;QACtC,IAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACH,oBAAoB,CAAC,OAAgB;QACnC,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED;;;;OAIG;IACH,iBAAiB,CAAC,IAAoC;QACpD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC;QACjC,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;QAChC,IAAI,CAAC,qBAAqB,CAAC,SAAS,EAAE,CAAC;QAEvC,qDAAqD;QACrD,yDAAyD;QACzD,IAAI,0DAAgB,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,iEAAoB,CAAC,EAAE,CAAC;YAClE,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,iEAAoB,CAAC,CAAC;QAC7D,CAAC;QAED,KAAK,MAAM,QAAQ,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YACrD,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtD,CAAC;QACD,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;CACF;;;;;;;;;;;;;;;;;;;;AClVD;;;;GAIG;AAEqC;AACC;AACU;AAIpB;AACO;AAEtC;;GAEG;AACI,MAAM,cAAc;IAMzB;;OAEG;IACH;QACE,yDAAyD;QACzD,yBAAyB;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAEtD,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,WAAW;QACT,MAAM,EAAC,QAAQ,EAAE,SAAS,EAAC,GAAG,SAAS,CAAC;QACxC,IAAI,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;YAC/B,OAAO,6CAAG,CAAC,SAAS,CAAC,CAAC;QACxB,CAAC;aAAM,IAAI,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;YACtC,OAAO,6CAAG,CAAC,QAAQ,CAAC,CAAC;QACvB,CAAC;aAAM,IAAI,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YACtC,oEAAoE;YACpE,OAAO,6CAAG,CAAC,WAAW,CAAC,CAAC;QAC1B,CAAC;aAAM,IAAI,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;YACtC,OAAO,6CAAG,CAAC,OAAO,CAAC,CAAC;QACtB,CAAC;aAAM,CAAC;YACN,OAAO,6CAAG,CAAC,SAAS,CAAC,CAAC;QACxB,CAAC;IACH,CAAC;IAED,MAAM,CAAC,SAA+B;QACpC,qDAAa,CAAC,SAAS,CAAC,CAAC;QACzB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,cAAc;QACZ,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YAC/C,+BAA+B;YAC/B,IAAI,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC;gBAC7C,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;YAC9B,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAClC,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,uBAAuB,CAAC,YAAoB;QAC1C,IAAI,sEAAwC,CAAC,YAAY,CAAC,EAAE,CAAC;YAC3D,OAAO,sEAAwC,CAAC,YAAY,CAAC,CAAC;QAChE,CAAC;QACD,OAAO,oEAAc,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACH,kBAAkB;QAChB,IAAI,cAAc,GAAG,EAAE,CAAC;QAExB,yCAAyC;QACzC,KAAK,MAAM,CAAC,GAAG,EAAE,iBAAiB,CAAC,IAAI,MAAM,CAAC,OAAO,CACnD,2DAA6B,CAC9B,EAAE,CAAC;YACF,IAAI,iBAAiB,GAAG,EAAE,CAAC;YAC3B,KAAK,MAAM,gBAAgB,IAAI,iBAAiB,EAAE,CAAC;gBACjD,iBAAiB,IAAI,IAAI,CAAC,sBAAsB,CAC9C,gBAA0B,CAC3B,CAAC;YACJ,CAAC;YACD,cAAc,IAAI;;;uDAG+B,GAAG;cAC5C,iBAAiB;;iBAEd,CAAC;QACd,CAAC;QAED,MAAM,aAAa,GAAG;;;;;;;kBAOR,6CAAG,CAAC,uBAAuB,CAAC,IAAI,oBAAoB,6BAA6B,IAAI,CAAC,WAAW,EAAE;;;YAGzG,cAAc;;;aAGb,CAAC;QACV,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,aAAa,CAAC;YACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;YACvE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;YACtE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YAChE,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;oBAC/C,IAAI,CAAC,cAAc,EAAE,CAAC;gBACxB,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;IACH,CAAC;IAEO,sBAAsB,CAAC,gBAAwB;QACrD,MAAM,IAAI,GAAG,IAAI,CAAC,uBAAuB,CAAC,gBAAgB,CAAC,CAAC;QAC5D,MAAM,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;QAC1D,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,EAAE,CAAC;QAC9B,OAAO;;sBAEW,IAAI;sBACJ,IAAI;oBACN,CAAC;IACnB,CAAC;IAEO,qBAAqB,CAAC,MAAc;QAC1C,MAAM,SAAS,GAAG,kFAA4B,CAAC,MAAM,CAAC,CAAC;QACvD,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;IAEO,UAAU,CAAC,IAAc;QAC/B,MAAM,SAAS,GAAG,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;QACpE,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO,EAAE,CAAC;QACrC,OAAO;YACL,+BAA+B;YAC/B,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;gBACzB,OAAO,qBAAqB,GAAG,UAAU,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;YACtF,CAAC,CAAC;YACF,SAAS;SACV,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACb,CAAC;IAED;;OAEG;IACH,OAAO;QACL,sDAAsD;QACtD,MAAM,gBAAgB,GAAsC;YAC1D,IAAI,EAAE,sDAAwB,CAAC,cAAc;YAC7C,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;gBACtB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACvB,OAAO,IAAI,CAAC;YACd,CAAC;YACD,QAAQ,EAAE,CAAC,+CAAa,CAAC,QAAQ,CAAC,KAAK,CAAC;SACzC,CAAC;QACF,0DAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;IACvD,CAAC;IAED;;OAEG;IACH,SAAS;QACP,0DAAgB,CAAC,QAAQ,CAAC,UAAU,CAClC,sDAAwB,CAAC,cAAc,CACxC,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;AC3L6C;AACV;AAEpC,MAAM,aAAa,GAAG,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAE3D;;;;;;GAMG;AACI,SAAS,WAAW,CAAC,SAAiB,EAAE,MAAc;IAC3D,0EAA0E;IAC1E,2CAA2C;IAC3C,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACpD,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACvC,CAAC;IACD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAChD,SAAS,CAAC,SAAS,GAAG,0BAA0B,CAAC;IACjD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC7C,KAAK,CAAC,WAAW,GAAG,SAAS,CAAC;IAC9B,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAChD,QAAQ,CAAC,SAAS,GAAG,iBAAiB,CAAC;IACvC,QAAQ,CAAC,WAAW,GAAG,IAAI,sBAAsB,CAAC,MAAM,CAAC,EAAE,CAAC;IAC5D,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC7B,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAChC,OAAO,SAAS,CAAC;AACnB,CAAC;AAED;;;;;;GAMG;AACI,SAAS,sBAAsB,CAAC,MAAc;IACnD,MAAM,KAAK,GAAG,wBAAwB,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;IACtE,OAAO,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACjD,CAAC;AAED;;;;;;GAMG;AACI,SAAS,4BAA4B,CAAC,MAAc;IACzD,OAAO,wBAAwB,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;AAC7D,CAAC;AAED,MAAM,iBAAiB,GAA2B;IAChD,SAAS,EAAE,wCAAG,CAAC,aAAa,CAAC;IAC7B,MAAM,EAAE,wCAAG,CAAC,aAAa,CAAC;IAC1B,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC,wCAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,wCAAG,CAAC,SAAS,CAAC;CAC1D,CAAC;AAEF,MAAM,kBAAkB,GAA2B;IACjD,SAAS,EAAE,wCAAG,CAAC,aAAa,CAAC;IAC7B,MAAM,EAAE,GAAG;IACX,KAAK,EAAE,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,wCAAG,CAAC,SAAS,CAAC;CAC5C,CAAC;AAEF;;;;;;;;;;GAUG;AACH,SAAS,wBAAwB,CAC/B,MAAc,EACd,aAAqC;IAErC,MAAM,SAAS,GAAG,qDAAgB,CAAC,QAAQ,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;IAC9E,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAC3B,OAAO,EAAE,CAAC;IACZ,CAAC;IACD,oEAAoE;IACpE,MAAM,gBAAgB,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAE1E,sCAAsC;IACtC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAC7B,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACd,MAAM,MAAM,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;QAChC,MAAM,MAAM,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;QAChC,OAAO,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC,CAAC,CACH,CAAC;IAEF,4DAA4D;IAC5D,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC7B,MAAM,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAM,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1C,OAAO,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC,CAAC,CAAC;IACH,IAAI,eAAe,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;QACzD,MAAM,aAAa,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChD,OAAO,aAAa,KAAK,aAAa,CAAC;IACzC,CAAC,CAAC,CAAC;IACH,eAAe;QACb,eAAe,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,eAAe,CAAC;IAEpE,2DAA2D;IAC3D,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAC5B,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;IAC7B,CAAC,CAAC,CAAC;IAEH,6EAA6E;IAC7E,4EAA4E;IAC5E,MAAM,YAAY,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,CACrD,QAAQ,CAAC,IAAI,CACX,CAAC,GAAG,EAAE,EAAE,CAAC,MAAM,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,IAAI,SAAS,KAAK,GAAG,CAC9D,CACF,CAAC;IACF,MAAM,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC;IACrE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;QAC7B,OAAO,QAAQ;aACZ,GAAG,CAAC,CAAC,YAAY,EAAE,EAAE,WAAC,4DAAQ,CAAC,YAAY,CAAC,mCAAI,YAAY,IAAC;aAC7D,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,WAAC,qBAAc,CAAC,mBAAa,CAAC,CAAC,CAAC,mCAAI,CAAC,CAAC,IAAC,CAAC;IACvD,CAAC,CAAC,CAAC;AACL,CAAC;AAED;;;;;GAKG;AACI,SAAS,cAAc,CAAC,GAAW;IACxC,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACxD,CAAC;AAED;;GAEG;AACH,MAAM,gBAAgB,GAAa,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;AAEvE,SAAS,aAAa,CAAC,GAAW;IAChC,MAAM,KAAK,GAAG,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5C,2BAA2B;IAC3B,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;AACjD,CAAC;;;;;;;;;;;;;;;;;;;;;;ACpJD;;;;GAIG;AAEqC;AAEQ;AACQ;AACnB;AAErC;;GAEG;AACH,IAAY,WAWX;AAXD,WAAY,WAAW;IACrB,4DAA4D;IAC5D,4CAA6B;IAC7B,iDAAiD;IACjD,0CAA2B;IAC3B,qEAAqE;IACrE,8CAA+B;IAC/B,6EAA6E;IAC7E,0CAA2B;IAC3B,qDAAqD;IACrD,wCAAyB;AAC3B,CAAC,EAXW,WAAW,KAAX,WAAW,QAWtB;AAED;;GAEG;AACI,MAAM,cAAc;IACzB,YACW,KAAuB,EACvB,YAAoB,EACpB,YAAoB;QAFpB,UAAK,GAAL,KAAK,CAAkB;QACvB,iBAAY,GAAZ,YAAY,CAAQ;QACpB,iBAAY,GAAZ,YAAY,CAAQ;IAC5B,CAAC;CACL;AAED;;;;GAIG;AACI,MAAM,oBAAoB;IA8B/B,YACU,SAA+B,EAC/B,oBAA0C;QAD1C,cAAS,GAAT,SAAS,CAAsB;QAC/B,yBAAoB,GAApB,oBAAoB,CAAsB;QA/BpD,gEAAgE;QACxD,gBAAW,GAA8C,IAAI,GAAG,EAAE,CAAC;QAE3E,yCAAyC;QACjC,cAAS,GAKZ,EAAE,CAAC;QAER,yDAAyD;QACjD,gBAAW,GAAgB,WAAW,CAAC,YAAY,CAAC;QAE5D,sFAAsF;QAC9E,kCAA6B,GAA4B,IAAI,CAAC;QAEtE,sFAAsF;QAC9E,oBAAe,GAAY,KAAK,CAAC;QAEzC,oEAAoE;QAC5D,gBAAW,GAAoB,IAAI,CAAC;QAE5C,oDAAoD;QAC5C,cAAS,GAA4B,IAAI,CAAC;QAElD,2FAA2F;QACnF,qBAAgB,GAAY,IAAI,CAAC;IAKtC,CAAC;IAEJ;;;;OAIG;IACH,mBAAmB,CAAC,OAAgB;QAClC,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC;IAClC,CAAC;IAED;;OAEG;IACH,IAAY,KAAK;QACf,OAAQ,IAAI,CAAC,oBAA4B,CAAC,KAAK,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACK,eAAe,CAAC,KAAuB;QAC7C,OAAQ,KAAa,CAAC,YAAY,CAAC;IACrC,CAAC;IAED;;;;;OAKG;IACK,oBAAoB,CAAC,KAAuB,EAAE,OAAgB;QACpE,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,oBAAoB,EAAE,CAAC;YACnC,QAAQ,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;IACH,CAAC;IAED;;OAEG;IACH,QAAQ;QACN,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC9C,CAAC;IAED;;OAEG;IACH,cAAc;QACZ,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;IAClC,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,IAAiB;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED;;;;OAIG;IACH,QAAQ,CAAC,KAAuB;QAC9B,OAAO,CAAC,CAAC,CACP,KAAK;YACL,CAAC,KAAK,CAAC,UAAU,EAAE;YACnB,KAAK,CAAC,SAAS,EAAE;YACjB,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CACrC,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,OAAO;QACL,MAAM,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QACvD,IAAI,CAAC,gBAAgB;YAAE,OAAO;QAE9B,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,UAAU,EAAE,CAAC,KAAK,EAAE,EAAE;YACvD,IAAI,CAAC,iBAAiB,CAAC,KAAmB,CAAC,CAAC;QAC9C,CAAC,EAAE,KAAK,CAAC,CAAC;QAEV,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,aAAa,EAAE,CAAC,KAAK,EAAE,EAAE;YAClD,IAAI,CAAC,iBAAiB,CAAC,KAAqB,CAAC,CAAC;QAChD,CAAC,EAAE,KAAK,CAAC,CAAC;QAEV,8DAA8D;QAC9D,uFAAuF;QACvF,uEAAuE;QACvE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,aAAa,EAAE,CAAC,KAAK,EAAE,EAAE;YAClD,IAAI,CAAC,iBAAiB,CAAC,KAAqB,CAAC,CAAC;QAChD,CAAC,EAAE,IAAI,CAAC,CAAC;QAET,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;YAC5C,IAAI,CAAC,WAAW,CAAC,KAAmB,CAAC,CAAC;QACxC,CAAC,EAAE,IAAI,CAAC,CAAC;QAET,kDAAkD;QAClD,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACtE,CAAC;IAED;;OAEG;IACH,SAAS;QACP,KAAK,MAAM,EAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YAC9D,MAAM,CAAC,mBAAmB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QACrD,CAAC;QACD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED;;;;OAIG;IACK,iBAAiB,CAAC,KAA8B;QACtD,oCAAoC;QACpC,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,UAAU,EAAE,CAAC;YAChD,OAAO;QACT,CAAC;QAED,qCAAqC;QACrC,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;YACpB,OAAO;QACT,CAAC;QAED,kCAAkC;QAClC,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QAED,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;QACpC,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QAED,qCAAqC;QACrC,IAAI,KAAK,GAA4B,IAAI,CAAC;QAC1C,IAAI,OAAO,YAAY,kDAAgB,EAAE,CAAC;YACxC,KAAK,GAAG,OAAO,CAAC;QAClB,CAAC;aAAM,IAAI,gBAAgB,IAAI,OAAO,IAAI,OAAQ,OAAe,CAAC,cAAc,KAAK,UAAU,EAAE,CAAC;YAChG,KAAK,GAAI,OAAe,CAAC,cAAc,EAAE,CAAC;QAC5C,CAAC;QAED,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;QACT,CAAC;QAED,kDAAkD;QAClD,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACjD,OAAO;QACT,CAAC;QAED,qCAAqC;QACrC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACK,QAAQ,CAAC,KAAuB;QACtC,+BAA+B;QAC/B,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,2BAA2B;QAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,gDAAQ,CAAC,KAAK,EAAE,CAAC,YAAY,EAAE,KAAK,EAAE,EAAE;YAC7D,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED;;OAEG;IACK,QAAQ;QACd,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC1B,CAAC;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACK,eAAe,CAAC,KAAuB,EAAE,KAAiB;QAChE,MAAM,cAAc,GAAG,uEAAiB,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,cAAc,IAAI,cAAc,CAAC,SAAS,EAAE,EAAE,CAAC;YACjD,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC7D,sCAAsC;gBACtC,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACK,WAAW,CACjB,MAAmB,EACnB,IAAY,EACZ,OAAsB,EACtB,OAA2C;QAE3C,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC;IACxD,CAAC;IAED;;;;;;;OAOG;IACH,KAAK,CAAC,KAAuB,EAAE,OAAe,EAAE,OAAe;QAC7D,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YACxC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACvC,CAAC;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtB,CAAC;QAED,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,UAAU,EAAE,EAAE,CAAC;YACjC,OAAO,KAAK,CAAC;QACf,CAAC;QAED,oDAAoD;QACpD,qDAAmB,CAAC,IAAI,EAAE,CAAC;QAC3B,mDAAiB,CAAC,IAAI,EAAE,CAAC;QAEzB,IAAI,CAAC;YACH,MAAM,cAAc,GAAG,GAAG,EAAE;gBAC1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,CAAC,CAAC;YAEF,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAClC,IAAI,CAAC,SAAS,EACd,KAAK,EACL,oDAAQ,CAAC,IAAI,EACb,IAAI,EACJ,cAAc,CACf,CAAC;YAEF,IAAI,OAAO,EAAE,CAAC;gBACZ,IAAI,CAAC,WAAW,CAAC,GAAG,CAClB,IAAI,CAAC,SAAS,EACd,IAAI,cAAc,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAC5C,CAAC;gBACF,KAAK,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;gBACxD,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBACvC,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACxC,OAAO,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,IAAI,CAAC,MAA0B;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI;YAAE,OAAO;QAElB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAE7C,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YACxC,IAAI,MAAM,KAAK,QAAQ,EAAE,CAAC;gBACxB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACxC,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACvC,CAAC;QACH,CAAC;QAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED;;;;;OAKG;IACK,iBAAiB,CAAC,KAAmB;QAC3C,yEAAyE;QACzE,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,WAAW,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;YACnE,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YACnD,IAAI,YAAY,EAAE,CAAC;gBACjB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;gBACvC,IAAI,MAAM,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC;oBAChD,OAAO;gBACT,CAAC;gBAED,MAAM,KAAK,GAAG,uEAAiB,CAAC,YAAY,CAAC,CAAC;gBAC9C,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE,EAAE,CAAC;oBAC/B,0CAA0C;oBAC1C,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;oBAExB,gCAAgC;oBAChC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;wBACpD,0CAA0C;wBAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC9B,CAAC;gBACH,CAAC;YACH,CAAC;YACD,OAAO;QACT,CAAC;QAED,2CAA2C;QAC3C,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,aAAa,EAAE,CAAC;YACnD,OAAO;QACT,CAAC;QAED,mDAAmD;QACnD,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;QACvC,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAE5C,IAAI,MAAM,IAAI,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;YAC1C,OAAO;QACT,CAAC;QAED,oFAAoF;QACpF,yBAAyB;QACzB,wDAAwD;QACxD,oDAAoD;QAEpD,IAAI,YAAY,GAA4B,IAAI,CAAC;QAEjD,qDAAqD;QACrD,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,MAAM,EAAE,CAAC;YACX,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;YACpC,IAAI,OAAO,EAAE,CAAC;gBACZ,IAAI,OAAO,YAAY,kDAAgB,EAAE,CAAC;oBACxC,YAAY,GAAG,OAAO,CAAC;gBACzB,CAAC;qBAAM,IAAI,gBAAgB,IAAI,OAAO,IAAI,OAAQ,OAAe,CAAC,cAAc,KAAK,UAAU,EAAE,CAAC;oBAChG,YAAY,GAAI,OAAe,CAAC,cAAc,EAAE,CAAC;gBACnD,CAAC;YACH,CAAC;QACH,CAAC;QAED,uEAAuE;QACvE,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,MAAM,QAAQ,GAAG,gDAAc,CAAC,WAAW,EAAE,CAAC;YAC9C,IAAI,QAAQ,IAAI,QAAQ,YAAY,kDAAgB,IAAI,QAAQ,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,EAAE,CAAC;gBAC9F,YAAY,GAAG,QAAQ,CAAC;YAC1B,CAAC;QACH,CAAC;QAED,IAAI,CAAC,6BAA6B,GAAG,YAAY,CAAC;IACpD,CAAC;IAED;;;;OAIG;IACK,iBAAiB,CAAC,KAAiB;QACzC,mEAAmE;QACnE,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,YAAY,EAAE,CAAC;YAClD,OAAO;QACT,CAAC;QAED,IAAI,KAAK,CAAC,gBAAgB;YAAE,OAAO;QAEnC,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;YACpB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QAED,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;QACvC,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAEnD,IAAI,YAAY,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,CAAC;QAC7C,CAAC;QAED,IAAI,MAAM,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC;YAChD,OAAO;QACT,CAAC;QAED,MAAM,KAAK,GAAG,uEAAiB,CAAC,YAAY,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE,EAAE,CAAC;YAC/B,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;gBACpD,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;OAIG;IACK,WAAW,CAAC,KAAiB;QACnC,oEAAoE;QACpE,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QAED,4DAA4D;QAC5D,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;YACpB,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;YAClC,OAAO;QACT,CAAC;QAED,sDAAsD;QACtD,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAEnD,wDAAwD;QACxD,IAAI,YAAY,IAAI,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE,CAAC;YACzD,uEAAuE;YACvE,MAAM,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;YAExE,IAAI,aAAa,EAAE,CAAC;gBAClB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;gBAEvC,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,CAAC;gBAE3C,IAAI,MAAM,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC;oBAChD,OAAO;gBACT,CAAC;gBAED,iDAAiD;gBACjD,IAAI,CAAC,+BAA+B,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBAC1D,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YAC1B,CAAC;YACD,OAAO;QACT,CAAC;QAED,2CAA2C;QAC3C,uEAAuE;QACvE,MAAM,aAAa,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;QAExE,IAAI,aAAa,IAAI,YAAY,EAAE,CAAC;YAClC,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;YAEvC,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,CAAC;YAE3C,IAAI,MAAM,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAC;gBAChD,OAAO;YACT,CAAC;YAED,MAAM,KAAK,GAAG,uEAAiB,CAAC,YAAY,CAAC,CAAC;YAC9C,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE,EAAE,CAAC;gBAC/B,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;oBACpD,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;gBAC1B,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACK,uBAAuB,CAAC,KAAiB,EAAE,YAAqC;;QACtF,IAAI,CAAC,YAAY;YAAE,OAAO,KAAK,CAAC;QAEhC,QAAQ,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,KAAK,WAAW,CAAC,WAAW;gBAC1B,OAAO,KAAK,CAAC,QAAQ,CAAC;YAExB,KAAK,WAAW,CAAC,aAAa;gBAC5B,2EAA2E;gBAC3E,8DAA8D;gBAC9D,IAAI,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE,CAAC;oBACzC,OAAO,IAAI,CAAC;gBACd,CAAC;gBAED,uGAAuG;gBACvG,+EAA+E;gBAC/E,kGAAkG;gBAClG,IAAI,IAAI,CAAC,6BAA6B,KAAK,YAAY,EAAE,CAAC;oBACxD,OAAO,KAAK,CAAC;gBACf,CAAC;gBAED,+CAA+C;gBAC/C,mEAAmE;gBACnE,qEAAqE;gBACrE,uGAAuG;gBACvG,EAAE;gBACF,gFAAgF;gBAChF,gFAAgF;gBAChF,MAAM,WAAW,GAAG,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC;gBACpD,MAAM,aAAa,GAAG,YAAY,CAAC,UAAU,EAAE,CAAC;gBAEhD,4DAA4D;gBAC5D,yEAAyE;gBACzE,qEAAqE;gBACrE,MAAM,gBAAgB,GAAG,mBAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,SAAS,CAAC,QAAQ,CAAC,iBAAiB,CAAC,mCAAI,KAAK,CAAC;gBAEvF,6EAA6E;gBAC7E,MAAM,kBAAkB,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;gBACzF,MAAM,cAAc,GAAG,iBAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC,mCAAI,KAAK,CAAC;gBACtF,MAAM,eAAe,GAAG,iBAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,SAAS,CAAC,QAAQ,CAAC,qBAAqB,CAAC,mCAAI,KAAK,CAAC;gBAExF,8CAA8C;gBAC9C,yDAAyD;gBACzD,8DAA8D;gBAC9D,MAAM,mBAAmB,GAAG,gBAAgB;oBAC1C,CAAC,kBAAkB,IAAI,CAAC,cAAc,IAAI,eAAe,CAAC,CAAC,CAAC;gBAE9D,iEAAiE;gBACjE,OAAO,mBAAmB,CAAC;YAE7B,KAAK,WAAW,CAAC,WAAW;gBAC1B,6EAA6E;gBAC7E,OAAO,KAAK,CAAC;YAEf,KAAK,WAAW,CAAC,UAAU;gBACzB,uEAAuE;gBACvE,yEAAyE;gBACzE,2EAA2E;gBAC3E,4BAA4B;gBAC5B,OAAO,KAAK,CAAC;YAEf,KAAK,WAAW,CAAC,YAAY,CAAC;YAC9B;gBACE,qCAAqC;gBACrC,OAAO,KAAK,CAAC;QACjB,CAAC;IACH,CAAC;IAED;;;;OAIG;IACK,iBAAiB,CAAC,KAAmB;;QAC3C,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAAE,OAAO;QAE7B,4DAA4D;QAC5D,IAAI,CAAC,IAAI,CAAC,gBAAgB;YAAE,OAAO;QAEnC,8DAA8D;QAC9D,MAAM,QAAQ,GAAG,YAAC,IAAI,CAAC,KAAa,0CAAE,KAAK,0CAAE,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ;YAAE,OAAO;QAEtB,MAAM,qBAAqB,GACzB,+CAAa,CAAC,OAAO,CAAC,qBAAqB,CACzC,IAAI,CAAC,SAAS,EACd,IAAI,+CAAa,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAC3D,CAAC;QAEJ,MAAM,MAAM,GAAG,qBAAqB,CAAC,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;QAClE,MAAM,MAAM,GAAG,qBAAqB,CAAC,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;QAElE,QAAQ,CAAC,UAAU,CAAC,CAAC,GAAG,MAAM,CAAC;QAC/B,QAAQ,CAAC,UAAU,CAAC,CAAC,GAAG,MAAM,CAAC;QAE/B,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;YACrB,QAAQ,CAAC,OAAO,CAAC,MAAM,CACrB,KAAY,EACZ,QAAQ,CAAC,UAAU,CACpB,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;;;OAIG;IACK,qBAAqB,CAAC,KAAgC;QAC5D,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,OAAO;QACT,CAAC;QAED,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAC9B,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAE9B,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,CAAC;YACxC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,OAAO;QACT,CAAC;QAED,MAAM,cAAc,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACpE,IAAI,cAAc,EAAE,CAAC;YACnB,IAAI,CAAC,0BAA0B,CAAC,cAAc,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;YAClE,OAAO;QACT,CAAC;QAED,wCAAwC;QACxC,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEtD,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1B,yDAAyD;YACzD,oDAAoD;YACpD,IAAI,YAAY,IAAI,YAAY,CAAC,mBAAmB,EAAE,CAAC;gBACrD,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACjC,OAAO;YACT,CAAC;QACH,CAAC;aAAM,CAAC;YACN,wEAAwE;YACxE,6DAA6D;YAC7D,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YACnD,MAAM,oBAAoB,GAAG,YAAY,KAAK,IAAI,CAAC,KAAK,CAAC;YAEzD,IAAI,oBAAoB,IAAI,YAAY,IAAI,YAAY,CAAC,mBAAmB,EAAE,CAAC;gBAC7E,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACjC,OAAO;YACT,CAAC;QACH,CAAC;QAED,kCAAkC;QAClC,mEAAmE;QACnE,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC;QACtD,MAAM,oBAAoB,GAAG,+CAAa,CAAC,OAAO,CAAC,qBAAqB,CACtE,IAAI,CAAC,SAAS,EACd,IAAI,+CAAa,CAAC,UAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAC/C,CAAC;QAEF,IAAI,WAAW,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC,EAAE,oBAAoB,CAAC,CAAC,CAAC,EAAE,CAAC;YACzE,mDAAmD;YACnD,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,CAAC;aAAM,CAAC;YACN,6DAA6D;YAC7D,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC/C,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACK,iBAAiB,CAAC,KAEzB;;QACC,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;QACvC,IAAI,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC;QAEzB,iDAAiD;QACjD,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;YACjC,MAAM,eAAe,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YAC9C,IAAI,eAAe,EAAE,CAAC;gBACpB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,CAAC;YACzD,CAAC;QACH,CAAC;QAED,MAAM,gBAAgB,GAAc,EAAE,CAAC;QACvC,IAAI,cAAc,GAAmB,MAAM,CAAC;QAE5C,OAAO,cAAc,EAAE,CAAC;YACtB,IAAI,oBAAc,CAAC,SAAS,0CAAE,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC;gBACvD,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACxC,CAAC;YACD,cAAc,GAAG,cAAc,CAAC,aAAa,CAAC;QAChD,CAAC;QAED,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAChC,MAAM,qBAAqB,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAClD,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,EAAE,KAAK,qBAAqB,CAAC,CAAC;YAE3E,IAAI,KAAK,IAAI,KAAK,YAAY,kDAAgB,EAAE,CAAC;gBAC/C,OAAO,KAAK,CAAC;YACf,CAAC;QACH,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACK,iBAAiB,CAAC,KAAuB;QAC/C,OAAO,KAAK,CAAC,SAAS,CAAC,QAAQ,KAAK,IAAI,CAAC;IAC3C,CAAC;IAED;;;;;;OAMG;IACK,+BAA+B,CACrC,WAA6B,EAC7B,KAAiB;QAEjB,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC1C,IAAI,CAAC,MAAM;YAAE,OAAO;QAEpB,8CAA8C;QAC9C,MAAM,aAAa,GAAG,gDAAc,CAAC,QAAQ,EAAE,CAAC;QAChD,IAAI,CAAC,aAAa,EAAE,CAAC;YACnB,gDAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;QAED,IAAI,CAAC;YACH,kEAAkE;YAClE,MAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YAEjD,iCAAiC;YACjC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAElB,wFAAwF;YACxF,QAAQ,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAErC,2CAA2C;YAC3C,MAAM,eAAe,GAAG,+CAAa,CAAC,OAAO,CAAC,qBAAqB,CACjE,IAAI,CAAC,SAAS,EACd,IAAI,+CAAa,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAC3D,CAAC;YACF,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YAEjC,iDAAiD;YACjD,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QACrD,CAAC;gBAAS,CAAC;YACT,yCAAyC;YACzC,IAAI,CAAC,aAAa,EAAE,CAAC;gBACnB,gDAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACjC,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;OAMG;IACK,cAAc,CAAC,MAAe;QACpC,IAAI,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC;QAE1B,8DAA8D;QAC9D,IAAI,cAAc,GAAmB,MAAM,CAAC;QAC5C,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,MAAM,QAAQ,GAAG,EAAE,CAAC,CAAC,yBAAyB;QAE9C,OAAO,cAAc,IAAI,KAAK,GAAG,QAAQ,EAAE,CAAC;YAC1C,MAAM,SAAS,GAAG,cAAc,CAAC,SAAS,CAAC;YAE3C,IAAI,SAAS,EAAE,CAAC;gBACd,6DAA6D;gBAC7D,IAAI,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC;oBACtC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;oBAC3C,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC;oBACrC,OAAO,KAAK,CAAC;gBACf,CAAC;gBAED,yDAAyD;gBACzD,IAAI,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC;oBACvC,OAAO,KAAK,CAAC;gBACf,CAAC;gBAED,wDAAwD;gBACxD,iFAAiF;gBACjF,IAAI,SAAS,CAAC,QAAQ,CAAC,qBAAqB,CAAC;oBACzC,SAAS,CAAC,QAAQ,CAAC,qBAAqB,CAAC;oBACzC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC,EAAE,CAAC;oBAC7C,OAAO,IAAI,CAAC;gBACd,CAAC;gBAED,6CAA6C;gBAC7C,IAAI,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;oBAC3C,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC;oBACxC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC;oBACxC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC;oBAC1C,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC;oBAC1C,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,CAAC;oBAC5C,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;YAED,cAAc,GAAG,cAAc,CAAC,aAAa,CAAC;YAC9C,KAAK,EAAE,CAAC;QACV,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;OAKG;IACK,oBAAoB,CAAC,MAAe;QAC1C,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,MAAM,cAAc,GAAI,SAAiB,CAAC,eAAe,CAAC;QAE1D,IAAI,cAAc,IAAK,cAAsB,CAAC,UAAU,EAAE,CAAC;YACzD,OAAO,IAAI,CAAC;QACd,CAAC;QAED,mCAAmC;QACnC,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACK,yBAAyB;QAC/B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAAE,OAAO;QAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACtB,CAAC;IAED;;;;;;OAMG;IACK,YAAY,CAAC,OAAe,EAAE,OAAe;QACnD,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QAChE,IAAI,CAAC,eAAe,EAAE,CAAC;YACrB,OAAO,KAAK,CAAC;QACf,CAAC;QAED,MAAM,IAAI,GAAG,eAAe,CAAC,qBAAqB,EAAE,CAAC;QAErD,OAAO,CACL,OAAO,IAAI,IAAI,CAAC,IAAI;YACpB,OAAO,IAAI,IAAI,CAAC,KAAK;YACrB,OAAO,IAAI,IAAI,CAAC,GAAG;YACnB,OAAO,IAAI,IAAI,CAAC,MAAM,CACvB,CAAC;IACJ,CAAC;IAED;;OAEG;IACK,gBAAgB;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI;YAAE,OAAO;QAElB,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEnB,6CAA6C;QAC7C,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC3B,aAAa,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED;;;;;OAKG;IACK,qBAAqB,CAAC,OAAe,EAAE,OAAe;;QAC5D,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QAEvB,MAAM,YAAY,GAAG,MAAC,IAAI,CAAC,KAAa,0CAAE,YAAY,CAAC;QACvD,IAAI,YAAY,IAAI,YAAY,CAAC,qBAAqB,EAAE,CAAC;YACvD,MAAM,qBAAqB,GACzB,YAAY,CAAC,qBAAqB,CAAC,qBAAqB,CACtD,OAAO,EACP,OAAO,CACR,CAAC;YAEJ,IAAI,qBAAqB,EAAE,CAAC;gBAC1B,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC3D,IAAI,iBAAiB,EAAE,CAAC;oBACtB,KAAK,MAAM,gBAAgB,IAAI,iBAAiB,EAAE,CAAC;wBACjD,MAAM,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC;wBAC3D,IACE,iBAAiB,CAAC,UAAU,CAC1B,gBAAgB,EAChB,qBAAqB,EACrB,IAAI,EACJ,QAAQ,CACT,EACD,CAAC;4BACD,OAAO;gCACL,UAAU,EAAE,qBAAqB;gCACjC,gBAAgB,EAAE,gBAAgB;gCAClC,QAAQ,EAAE,CAAC;gCACX,aAAa,EAAE,IAAI;6BACpB,CAAC;wBACJ,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;;OAMG;IACK,0BAA0B,CAChC,cAAmB,EACnB,OAAe,EACf,OAAe;QAEf,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI;YAAE,OAAO;QAElB,MAAM,EAAC,UAAU,EAAE,gBAAgB,EAAC,GAAG,cAAc,CAAC;QAEtD,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtD,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,mBAAmB,GAAG;gBACjC,KAAK,EAAE,gBAAgB;gBACvB,SAAS,EAAE,UAAU;gBACrB,QAAQ,EAAE,CAAC;aACZ,CAAC;QACJ,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACtB,CAAC;IAED;;;OAGG;IACK,gBAAgB;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,IAAI,EAAE,CAAC;YACT,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAClE,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAE7B,sDAAsD;QACtD,6EAA6E;QAC7E,MAAM,YAAY,GAAG,yDAAuB,EAAE,CAAC;QAC/C,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEvC,mDAAmD;QACnD,IAAI,CAAC;YACH,+CAAa,CAAC,oBAAoB,EAAE,CAAC;YACrC,UAAU,CAAC,GAAG,EAAE;gBACd,+CAAa,CAAC,oBAAoB,EAAE,CAAC;YACvC,CAAC,EAAE,CAAC,CAAC,CAAC;QACR,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,gBAAgB;QAClB,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACK,qBAAqB,CAAC,OAAgB,EAAE,OAAgB;;QAC9D,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,OAAO;QACT,CAAC;QAED,4EAA4E;QAC5E,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtD,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAC1C,CAAC;QAED,8DAA8D;QAC9D,MAAM,QAAQ,GAAG,YAAC,IAAI,CAAC,KAAa,0CAAE,KAAK,0CAAE,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEjE,0CAA0C;QAC1C,IACE,OAAO,KAAK,SAAS;YACrB,OAAO,KAAK,SAAS;YACrB,IAAI,CAAC,KAAK;YACV,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,EACxB,CAAC;YACD,MAAM,qBAAqB,GACzB,+CAAa,CAAC,OAAO,CAAC,qBAAqB,CACzC,IAAI,CAAC,SAAS,EACd,IAAI,+CAAa,CAAC,UAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAC/C,CAAC;YAEJ,IAAI,QAAQ,EAAE,CAAC;gBACb,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;gBAClE,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;gBAElE,MAAM,gBAAgB,GAAG,qBAAqB,CAAC,CAAC,GAAG,QAAQ,CAAC;gBAC5D,MAAM,gBAAgB,GAAG,qBAAqB,CAAC,CAAC,GAAG,QAAQ,CAAC;gBAE5D,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,gBAAgB,CAAC;gBAC1C,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,gBAAgB,CAAC;gBAE1C,uDAAuD;gBACvD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;YACxD,CAAC;QACH,CAAC;QAED,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAE7C,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;YACtD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,CAAC;QAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;CACF;;;;;;;;;;;;;;;;;;AC1mCD;;;;GAIG;AAEqC;AAExC;;;;;;GAMG;AACI,SAAS,iBAAiB,CAAC,KAA8B;IAC9D,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,CAAC;IAExB,OAAO,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC;QACxB,MAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,OAAO,IAAI,CAAC;QACd,CAAC;QACD,KAAK,GAAG,MAAM,CAAC;IACjB,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;;;;;;;GASG;AACI,SAAS,oBAAoB,CAClC,MAA0B,EAC1B,SAA+B;IAE/B,IAAI,iDAAe,CAAC,UAAU,EAAE,EAAE,CAAC;QACjC,0EAA0E;QAC1E,OAAO;IACT,CAAC;IACD,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IAEnC,MAAM,WAAW,GAAG,SAAS,CAAC,iBAAiB,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACvE,MAAM,QAAQ,GAAG,IAAI,+CAAa,CAAC,IAAI,CACrC,WAAW,CAAC,GAAG,EACf,WAAW,CAAC,GAAG,GAAG,WAAW,CAAC,MAAM,EACpC,WAAW,CAAC,IAAI,EAChB,WAAW,CAAC,IAAI,GAAG,WAAW,CAAC,KAAK,CACrC,CAAC;IAEF,IACE,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI;QAC5B,MAAM,CAAC,GAAG,IAAI,QAAQ,CAAC,GAAG;QAC1B,MAAM,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK;QAC9B,MAAM,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,EAChC,CAAC;QACD,wDAAwD;QACxD,OAAO;IACT,CAAC;IAED,wEAAwE;IACxE,aAAa;IACb,MAAM,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IACxB,MAAM,CAAC,GAAG,IAAI,EAAE,CAAC;IACjB,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC;IACpB,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;IAClB,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;IAEnB,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,MAAM,GAAG,CAAC,CAAC;IAEf,IAAI,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAChC,MAAM,GAAG,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IACvC,CAAC;SAAM,IAAI,MAAM,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;QACzC,MAAM,GAAG,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;IACzC,CAAC;IAED,IAAI,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;QAC9B,MAAM,GAAG,QAAQ,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;IACrC,CAAC;SAAM,IAAI,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;QAC3C,MAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IAC3C,CAAC;IAED,MAAM,IAAI,KAAK,CAAC;IAChB,MAAM,IAAI,KAAK,CAAC;IAChB,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,MAAM,EAAE,SAAS,CAAC,OAAO,GAAG,MAAM,CAAC,CAAC;AAC3E,CAAC;;;;;;;;;;;;;;;;;;AC7FD;;;;GAIG;AAEH;;;GAGG;AAEqC;AACsB;AAE9D;;GAEG;AACH,MAAM,SAAS,GAAG,IAAI,CAAC;AAEvB;;GAEG;AACH,MAAM,UAAU,GAAG,IAAI,CAAC;AAExB;;GAEG;AACH,MAAM,YAAY,GAAG,IAAI,CAAC;AAE1B;;GAEG;AACH,MAAM,YAAY,GAAG,GAAG,CAAC;AAEzB;;GAEG;AACH,MAAM,SAAS,GAAG,GAAG,CAAC;AAEtB;;GAEG;AACH,MAAM,SAAS,GAAG,GAAG,CAAC;AAEtB;;GAEG;AACI,SAAS,kBAAkB;IAChC,MAAM,eAAe,GAAyB;QAC5C,CAAC,WAAW,EAAE,UAAU,CAAC;QACzB,CAAC,YAAY,EAAE,WAAW,CAAC;KAC5B,CAAC;IAEF,MAAM,eAAe,GAAyB;QAC5C,CAAC,YAAY,EAAE,eAAe,CAAC;QAC/B,CAAC,kBAAkB,EAAE,YAAY,CAAC;QAClC,CAAC,mBAAmB,EAAE,aAAa,CAAC;KACrC,CAAC;IAEF,sEAAsE;IACtE,oDAAkB,CAAC,QAAQ,CAAC,kBAAkB,EAAE;QAC9C,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAA0B,CAAC;QAC5D,MAAM,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;QACnC,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;YACxB,wCAAwC;YACxC,MAAM,UAAU,GAAyB,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBACrE,IAAI,KAAK,KAAK,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACjC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,CAAC;qBAAM,IAAI,KAAK,KAAK,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACxC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7C,CAAC;gBACD,OAAO,MAAM,CAAC;YAChB,CAAC,CAAC,CAAC;YACH,sCAAsC;YACrC,KAAa,CAAC,cAAc,GAAG,UAAU,CAAC;QAC7C,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,mEAAiC,CAAC;QAChC,4BAA4B;QAC5B;YACE,IAAI,EAAE,kBAAkB;YACxB,QAAQ,EAAE,cAAc;YACxB,iBAAiB,EAAE,IAAI;YACvB,aAAa,EAAE,IAAI;YACnB,MAAM,EAAE,YAAY;YACpB,OAAO,EAAE,qCAAqC;SAC/C;QAED,mCAAmC;QACnC;YACE,IAAI,EAAE,WAAW;YACjB,QAAQ,EAAE,IAAI;YACd,KAAK,EAAE;gBACL;oBACE,IAAI,EAAE,gBAAgB;oBACtB,IAAI,EAAE,KAAK;oBACX,OAAO,EAAE,eAAe;iBACzB;aACF;YACD,iBAAiB,EAAE,IAAI;YACvB,aAAa,EAAE,IAAI;YACnB,MAAM,EAAE,YAAY;YACpB,OAAO,EAAE,+CAA+C;YACxD,UAAU,EAAE,CAAC,kBAAkB,CAAC;SACjC;QAED,8CAA8C;QAC9C;YACE,IAAI,EAAE,SAAS;YACf,QAAQ,EAAE,WAAW;YACrB,KAAK,EAAE;gBACL;oBACE,IAAI,EAAE,gBAAgB;oBACtB,IAAI,EAAE,KAAK;oBACX,OAAO,EAAE,eAAe;iBACzB;gBACD;oBACE,IAAI,EAAE,aAAa;iBACpB;gBACD;oBACE,IAAI,EAAE,iBAAiB;oBACvB,IAAI,EAAE,IAAI;iBACX;aACF;YACD,iBAAiB,EAAE,IAAI;YACvB,aAAa,EAAE,IAAI;YACnB,MAAM,EAAE,SAAS;YACjB,OAAO,EAAE,sEAAsE;YAC/E,UAAU,EAAE,CAAC,kBAAkB,CAAC;SACjC;QAED,oDAAoD;QACpD;YACE,IAAI,EAAE,aAAa;YACnB,QAAQ,EAAE,kBAAkB;YAC5B,KAAK,EAAE;gBACL;oBACE,IAAI,EAAE,gBAAgB;oBACtB,IAAI,EAAE,KAAK;oBACX,OAAO,EAAE,eAAe;iBACzB;gBACD;oBACE,IAAI,EAAE,aAAa;iBACpB;gBACD;oBACE,IAAI,EAAE,iBAAiB;oBACvB,IAAI,EAAE,IAAI;iBACX;gBACD;oBACE,IAAI,EAAE,iBAAiB;oBACvB,IAAI,EAAE,MAAM;iBACb;aACF;YACD,iBAAiB,EAAE,IAAI;YACvB,aAAa,EAAE,IAAI;YACnB,MAAM,EAAE,SAAS;YACjB,OAAO,EACL,+HAA+H;YACjI,UAAU,EAAE,CAAC,kBAAkB,CAAC;SACjC;QAED,yBAAyB;QACzB;YACE,IAAI,EAAE,cAAc;YACpB,QAAQ,EAAE,wBAAwB;YAClC,KAAK,EAAE;gBACL;oBACE,IAAI,EAAE,aAAa;oBACnB,GAAG,EAAE,0SAA0S;oBAC/S,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,EAAE;iBACX;gBACD;oBACE,IAAI,EAAE,aAAa;iBACpB;gBACD;oBACE,IAAI,EAAE,iBAAiB;oBACvB,IAAI,EAAE,IAAI;iBACX;aACF;YACD,iBAAiB,EAAE,IAAI;YACvB,MAAM,EAAE,SAAS;YACjB,OAAO,EAAE,gEAAgE;SAC1E;KACF,CAAC,CAAC;IAEH,6BAA6B;IAC7B,mEAAmB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,GAAG,UAAU,KAAK;QAChE,OAAO,yBAAyB,KAAK,CAAC,EAAE,SAAS,YAAY,IAAI,CAAC;IACpE,CAAC,CAAC;IAEF,mEAAmB,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,UAAU,KAAK;QACzD,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,GAAG,KAAK,UAAU,EAAE,CAAC;YACvB,OAAO,sBAAsB,KAAK,CAAC,EAAE,YAAY,SAAS,IAAI,CAAC;QACjE,CAAC;aAAM,CAAC;YACN,OAAO,uBAAuB,KAAK,CAAC,EAAE,WAAW,UAAU,IAAI,CAAC;QAClE,CAAC;IACH,CAAC,CAAC;IAEF,mEAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,UAAU,KAAK;QACvD,MAAM,QAAQ,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,KAAK,CAAC,EAAE,IAAI,CAAC;QACzE,MAAM,MAAM,GAAG,mEAAmB,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAChE,OAAO,OAAO,QAAQ,QAAQ,MAAM,KAAK,CAAC;IAC5C,CAAC,CAAC;IAEF,mEAAmB,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,UAAU,KAAK;QAC3D,MAAM,QAAQ,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,cAAc,KAAK,CAAC,EAAE,IAAI,CAAC;QACzE,MAAM,OAAO,GAAG,mEAAmB,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACjE,MAAM,OAAO,GAAG,mEAAmB,CAAC,eAAe,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnE,OAAO,OAAO,QAAQ,QAAQ,OAAO,aAAa,OAAO,KAAK,CAAC;IACjE,CAAC,CAAC;IAEF,mEAAmB,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,UAAU,KAAK;QAC5D,IAAI,MAAM,GAAG,mEAAmB,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC9D,mCAAmC;QACnC,IAAK,mEAA2B,CAAC,kBAAkB,EAAE,CAAC;YACpD,MAAM;gBACH,mEAA2B,CAAC,kBAAkB,CAAC,OAAO,CACrD,KAAK,EACL,aAAa,KAAK,CAAC,EAAE,GAAG,CACzB,GAAG,MAAM,CAAC;QACf,CAAC;QACD,OAAO,wBAAwB,MAAM,KAAK,CAAC;IAC7C,CAAC,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;AClOD;;;;GAIG;;;;;;;;;;AAEH;;GAEG;AAEH,IAAK,SAKJ;AALD,WAAK,SAAS;IACZ,2CAAS;IACT,yCAAQ;IACR,2CAAS;IACT,yCAAQ;AACV,CAAC,EALI,SAAS,KAAT,SAAS,QAKb;AAED,IAAK,UAKJ;AALD,WAAK,UAAU;IACb,2CAAQ;IACR,2CAAQ;IACR,6CAAS;IACT,+CAAU;AACZ,CAAC,EALI,UAAU,KAAV,UAAU,QAKd;AAOD;;GAEG;AACH,MAAM,KAAK,GAAG;IACZ,gCAAgC;IAChC;QACE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;KACzB;IACD,uBAAuB;IACvB;QACE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8HAA8H;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjd6C;AACvC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE,mDAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClKsB;AAC1B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE,sCAAO;;;;;;;;;;;;;;;;;;;AClKyC;AAC7C;AACP;AACA;AACA;AACA,EAAE,EAAE,sDAAU;;;;;;;UCLd;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;ACNA;;;;GAIG;;AAEH;;;GAGG;AAEqC;AACe;AACJ;AACP;AACZ;AAEhC,gCAAgC;AAChC,2DAAkB,EAAE,CAAC;AAErB,wBAAwB;AACxB,MAAM,OAAO,GAAG;IACd,IAAI,EAAE,eAAe;IACrB,QAAQ,EAAE;QACR;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,kBAAkB;SACzB;QACD;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,WAAW;SAClB;QACD;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,SAAS;SAChB;QACD;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,aAAa;SACpB;QACD;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,cAAc;SACrB;KACF;CACF,CAAC;AAEF,+BAA+B;AAC/B,MAAM,SAAS,GAAG,gDAAc,CAAC,YAAY,EAAE;IAC7C,OAAO,EAAE,OAAO;IAChB,QAAQ,EAAE,IAAI;IACd,IAAI,EAAE;QACJ,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;QACX,UAAU,EAAE,GAAG;QACf,QAAQ,EAAE,CAAC;QACX,QAAQ,EAAE,GAAG;QACb,UAAU,EAAE,GAAG;KAChB;IACD,IAAI,EAAE;QACJ,UAAU,EAAE,IAAI;QAChB,IAAI,EAAE,IAAI;QACV,KAAK,EAAE,IAAI;KACZ;CACF,CAAC,CAAC;AAEH,wCAAwC;AACxC,MAAM,kBAAkB,GAAG,IAAI,0DAAkB,CAAC,SAAS,EAAE;IAC3D,oBAAoB,EAAE,IAAI;CAC3B,CAAC,CAAC;AAEH,uBAAuB;AACvB,MAAM,QAAQ,GAAG,IAAI,2CAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;AAE/C,qBAAqB;AACrB,cAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,0CAAE,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;IACnE,MAAM,IAAI,GAAG,mEAAmB,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IAC5D,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC;AAEH,uBAAuB;AACvB,cAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,0CAAE,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;IACrE,QAAQ,CAAC,KAAK,EAAE,CAAC;AACnB,CAAC,CAAC,CAAC;AAEH,OAAO,CAAC,GAAG,CAAC,wDAAwD,CAAC,CAAC","sources":["webpack://@blockly/keyboard-navigation/./src/actions/action_menu.ts","webpack://@blockly/keyboard-navigation/./src/actions/arrow_navigation.ts","webpack://@blockly/keyboard-navigation/./src/actions/clipboard.ts","webpack://@blockly/keyboard-navigation/./src/actions/delete.ts","webpack://@blockly/keyboard-navigation/./src/actions/disconnect.ts","webpack://@blockly/keyboard-navigation/./src/actions/duplicate.ts","webpack://@blockly/keyboard-navigation/./src/actions/edit.ts","webpack://@blockly/keyboard-navigation/./src/actions/enter.ts","webpack://@blockly/keyboard-navigation/./src/actions/exit.ts","webpack://@blockly/keyboard-navigation/./src/actions/move.ts","webpack://@blockly/keyboard-navigation/./src/actions/mover.ts","webpack://@blockly/keyboard-navigation/./src/actions/stack_navigation.ts","webpack://@blockly/keyboard-navigation/./src/actions/ws_movement.ts","webpack://@blockly/keyboard-navigation/./src/build_info.ts","webpack://@blockly/keyboard-navigation/./src/build_info_component.ts","webpack://@blockly/keyboard-navigation/./src/connection_highlighter.ts","webpack://@blockly/keyboard-navigation/./src/constants.ts","webpack://@blockly/keyboard-navigation/./src/disabled_blocks.ts","webpack://@blockly/keyboard-navigation/./src/dom_utils.ts","webpack://@blockly/keyboard-navigation/./src/drag_direction.ts","webpack://@blockly/keyboard-navigation/./src/flyout_cursor.ts","webpack://@blockly/keyboard-navigation/./src/hints.ts","webpack://@blockly/keyboard-navigation/./src/html_toast.ts","webpack://@blockly/keyboard-navigation/./src/index.ts","webpack://@blockly/keyboard-navigation/./src/keyboard_drag_strategy.ts","webpack://@blockly/keyboard-navigation/./src/keynames.ts","webpack://@blockly/keyboard-navigation/./src/move_grip.ts","webpack://@blockly/keyboard-navigation/./src/move_icon.ts","webpack://@blockly/keyboard-navigation/./src/move_indicator.ts","webpack://@blockly/keyboard-navigation/./src/navigation.ts","webpack://@blockly/keyboard-navigation/./src/navigation_controller.ts","webpack://@blockly/keyboard-navigation/./src/shortcut_dialog.ts","webpack://@blockly/keyboard-navigation/./src/shortcut_formatting.ts","webpack://@blockly/keyboard-navigation/./src/sticky_mode_controller.ts","webpack://@blockly/keyboard-navigation/./src/workspace_utilities.ts","webpack://@blockly/keyboard-navigation/./test/maze-game/blocks.ts","webpack://@blockly/keyboard-navigation/./test/maze-game/maze.ts","webpack://@blockly/keyboard-navigation/./node_modules/blockly/blockly_compressed.js","webpack://@blockly/keyboard-navigation/./node_modules/blockly/blocks_compressed.js","webpack://@blockly/keyboard-navigation/./node_modules/blockly/index.js","webpack://@blockly/keyboard-navigation/./node_modules/blockly/javascript_compressed.js","webpack://@blockly/keyboard-navigation/./node_modules/blockly/msg/en.js","webpack://@blockly/keyboard-navigation/./node_modules/blockly/blockly.mjs","webpack://@blockly/keyboard-navigation/./node_modules/blockly/index.mjs","webpack://@blockly/keyboard-navigation/./node_modules/blockly/javascript.mjs","webpack://@blockly/keyboard-navigation/webpack/bootstrap","webpack://@blockly/keyboard-navigation/webpack/runtime/define property getters","webpack://@blockly/keyboard-navigation/webpack/runtime/global","webpack://@blockly/keyboard-navigation/webpack/runtime/hasOwnProperty shorthand","webpack://@blockly/keyboard-navigation/webpack/runtime/make namespace object","webpack://@blockly/keyboard-navigation/./test/maze-game/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ShortcutRegistry, utils as BlocklyUtils, WidgetDiv} from 'blockly';\nimport * as Constants from '../constants';\nimport type {WorkspaceSvg} from 'blockly';\nimport {Navigation} from '../navigation';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\nconst createSerializedKey = ShortcutRegistry.registry.createSerializedKey.bind(\n  ShortcutRegistry.registry,\n);\n\n/**\n * Keyboard shortcut to show the action menu on Cmd/Ctrl/Alt+Enter key.\n */\nexport class ActionMenu {\n  /**\n   * Registration name for the keyboard shortcut.\n   */\n  private shortcutName = Constants.SHORTCUT_NAMES.MENU;\n\n  constructor(private navigation: Navigation) {}\n\n  /**\n   * Install this action.\n   */\n  install() {\n    this.registerShortcut();\n  }\n\n  /**\n   * Uninstall this action.\n   */\n  uninstall() {\n    ShortcutRegistry.registry.unregister(this.shortcutName);\n  }\n\n  /**\n   * Create and register the keyboard shortcut for this action.\n   */\n  private registerShortcut() {\n    const menuShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.MENU,\n      preconditionFn: (workspace) => {\n        return (\n          this.navigation.canCurrentlyNavigate(workspace) &&\n          !workspace.isDragging()\n        );\n      },\n      callback: (workspace) => {\n        switch (this.navigation.getState()) {\n          case Constants.STATE.WORKSPACE:\n          case Constants.STATE.FLYOUT:\n            return this.openActionMenu(workspace);\n          default:\n            return false;\n        }\n      },\n      keyCodes: [\n        createSerializedKey(KeyCodes.ENTER, [KeyCodes.CTRL]),\n        createSerializedKey(KeyCodes.ENTER, [KeyCodes.ALT]),\n        createSerializedKey(KeyCodes.ENTER, [KeyCodes.META]),\n      ],\n    };\n    ShortcutRegistry.registry.register(menuShortcut);\n  }\n\n  /**\n   * Show the action menu for the current node.\n   *\n   * The action menu will contain entries for relevant actions for the\n   * node's location.  If the location is a block, this will include\n   * the contents of the block's context menu (if any).\n   *\n   * Returns true if it is possible to open the action menu in the\n   * current location, even if the menu was not opened due there being\n   * no applicable menu items.\n   *\n   * @param workspace The workspace.\n   */\n  private openActionMenu(workspace: WorkspaceSvg): boolean {\n    // TODO(#362): Pass this through the precondition and callback instead of making it up.\n    const menuOpenEvent = new KeyboardEvent('keydown');\n\n    const node = workspace.getCursor().getCurNode();\n    if (!node) return false;\n    // TODO(google/blockly#8847): Add typeguard for IContextMenu in core when this moves over\n    if (\n      'showContextMenu' in node &&\n      typeof node.showContextMenu === 'function'\n    ) {\n      node.showContextMenu(menuOpenEvent);\n    } else {\n      console.info(`No action menu for node ${node}`);\n      return false;\n    }\n\n    setTimeout(() => {\n      WidgetDiv.getDiv()\n        ?.querySelector('.blocklyMenu')\n        ?.dispatchEvent(\n          new KeyboardEvent('keydown', {\n            key: 'ArrowDown',\n            code: 'ArrowDown',\n            keyCode: KeyCodes.DOWN,\n            which: KeyCodes.DOWN,\n            bubbles: true,\n            cancelable: true,\n          }),\n        );\n    }, 10);\n    return true;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ShortcutRegistry,\n  utils as BlocklyUtils,\n  Field,\n  keyboardNavigationController,\n} from 'blockly/core';\n\nimport type {Toolbox, WorkspaceSvg} from 'blockly/core';\n\nimport * as Blockly from 'blockly/core';\nimport * as Constants from '../constants';\nimport type {Navigation} from '../navigation';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\n\n/**\n * Class for registering shortcuts for navigating the workspace with arrow keys.\n */\nexport class ArrowNavigation {\n  constructor(private navigation: Navigation) {}\n\n  /**\n   * Gives the cursor to the field to handle if the cursor is on a field.\n   *\n   * @param workspace The workspace to check.\n   * @param shortcut The shortcut\n   *     to give to the field.\n   * @returns True if the shortcut was handled by the field, false\n   *     otherwise.\n   */\n  fieldShortcutHandler(\n    workspace: WorkspaceSvg,\n    shortcut: ShortcutRegistry.KeyboardShortcut,\n  ): boolean {\n    const curNode = workspace.getCursor().getCurNode();\n    if (curNode instanceof Field) {\n      return curNode.onShortcut(shortcut);\n    }\n    return false;\n  }\n\n  /**\n   * Adds all arrow key navigation shortcuts to the registry.\n   */\n  install() {\n    const navigateIn = (\n      workspace: WorkspaceSvg,\n      e: Event,\n      shortcut: ShortcutRegistry.KeyboardShortcut,\n    ): boolean => {\n      const toolbox = workspace.getToolbox() as Toolbox;\n      const flyout = workspace.isFlyout\n        ? workspace.targetWorkspace?.getFlyout()\n        : workspace.getFlyout();\n      let isHandled = false;\n      switch (this.navigation.getState()) {\n        case Constants.STATE.WORKSPACE:\n          isHandled = this.fieldShortcutHandler(workspace, shortcut);\n          if (!isHandled && workspace) {\n            if (\n              !this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)\n            ) {\n              workspace.getCursor().in();\n            }\n            isHandled = true;\n          }\n          return isHandled;\n        case Constants.STATE.TOOLBOX:\n          // @ts-expect-error private method\n          isHandled = toolbox && toolbox.selectChild();\n          if (!isHandled && flyout) {\n            this.navigation.defaultFlyoutCursorIfNeeded(workspace);\n          }\n          return true;\n        default:\n          return false;\n      }\n    };\n\n    const navigateOut = (\n      workspace: WorkspaceSvg,\n      e: Event,\n      shortcut: ShortcutRegistry.KeyboardShortcut,\n    ): boolean => {\n      const toolbox = workspace.isFlyout\n        ? workspace.targetWorkspace?.getToolbox()\n        : workspace.getToolbox();\n      let isHandled = false;\n      switch (this.navigation.getState()) {\n        case Constants.STATE.WORKSPACE:\n          isHandled = this.fieldShortcutHandler(workspace, shortcut);\n          if (!isHandled && workspace) {\n            if (\n              !this.navigation.defaultWorkspaceCursorPositionIfNeeded(workspace)\n            ) {\n              workspace.getCursor().out();\n            }\n            isHandled = true;\n          }\n          return isHandled;\n        case Constants.STATE.FLYOUT:\n          if (toolbox) {\n            Blockly.getFocusManager().focusTree(toolbox);\n          }\n          return true;\n        case Constants.STATE.TOOLBOX:\n          // @ts-expect-error private method\n          return toolbox && toolbox.selectParent();\n        default:\n          return false;\n      }\n    };\n\n    const shortcuts: {\n      [name: string]: ShortcutRegistry.KeyboardShortcut;\n    } = {\n      /** Go to the next location to the right. */\n      right: {\n        name: Constants.SHORTCUT_NAMES.RIGHT,\n        preconditionFn: (workspace) =>\n          this.navigation.canCurrentlyNavigate(workspace),\n        callback: (workspace, e, shortcut) => {\n          keyboardNavigationController.setIsActive(true);\n          return workspace.RTL\n            ? navigateOut(workspace, e, shortcut)\n            : navigateIn(workspace, e, shortcut);\n        },\n        keyCodes: [KeyCodes.RIGHT],\n      },\n\n      /** Go to the next location to the left. */\n      left: {\n        name: Constants.SHORTCUT_NAMES.LEFT,\n        preconditionFn: (workspace) =>\n          this.navigation.canCurrentlyNavigate(workspace),\n        callback: (workspace, e, shortcut) => {\n          keyboardNavigationController.setIsActive(true);\n          return workspace.RTL\n            ? navigateIn(workspace, e, shortcut)\n            : navigateOut(workspace, e, shortcut);\n        },\n        keyCodes: [KeyCodes.LEFT],\n      },\n\n      /** Go down to the next location. */\n      down: {\n        name: Constants.SHORTCUT_NAMES.DOWN,\n        preconditionFn: (workspace) =>\n          this.navigation.canCurrentlyNavigate(workspace),\n        callback: (workspace, e, shortcut) => {\n          keyboardNavigationController.setIsActive(true);\n          let isHandled = false;\n          switch (this.navigation.getState()) {\n            case Constants.STATE.WORKSPACE:\n              isHandled = this.fieldShortcutHandler(workspace, shortcut);\n              if (!isHandled && workspace) {\n                if (\n                  !this.navigation.defaultWorkspaceCursorPositionIfNeeded(\n                    workspace,\n                  )\n                ) {\n                  workspace.getCursor().next();\n                }\n                isHandled = true;\n              }\n              return isHandled;\n            case Constants.STATE.FLYOUT:\n              isHandled = this.fieldShortcutHandler(workspace, shortcut);\n              if (!isHandled && workspace.targetWorkspace) {\n                if (\n                  !this.navigation.defaultFlyoutCursorIfNeeded(\n                    workspace.targetWorkspace,\n                  )\n                ) {\n                  workspace.getCursor().next();\n                }\n                isHandled = true;\n              }\n              return isHandled;\n            case Constants.STATE.TOOLBOX: {\n              const toolbox = workspace.getToolbox() as Toolbox;\n              if (toolbox) {\n                if (!toolbox.getSelectedItem()) {\n                  const firstItem =\n                    toolbox\n                      .getToolboxItems()\n                      .find((item) => item.isSelectable()) ?? null;\n                  toolbox.setSelectedItem(firstItem);\n                  isHandled = true;\n                } else {\n                  // @ts-expect-error private method\n                  isHandled = toolbox.selectNext();\n                }\n                const selectedItem = toolbox.getSelectedItem();\n                if (selectedItem) {\n                  Blockly.getFocusManager().focusNode(selectedItem);\n                }\n              }\n              return isHandled;\n            }\n            default:\n              return false;\n          }\n        },\n        keyCodes: [KeyCodes.DOWN],\n      },\n      /** Go up to the previous location. */\n      up: {\n        name: Constants.SHORTCUT_NAMES.UP,\n        preconditionFn: (workspace) =>\n          this.navigation.canCurrentlyNavigate(workspace),\n        callback: (workspace, e, shortcut) => {\n          keyboardNavigationController.setIsActive(true);\n          let isHandled = false;\n          switch (this.navigation.getState()) {\n            case Constants.STATE.WORKSPACE:\n              isHandled = this.fieldShortcutHandler(workspace, shortcut);\n              if (!isHandled) {\n                if (\n                  !this.navigation.defaultWorkspaceCursorPositionIfNeeded(\n                    workspace,\n                    'last',\n                  )\n                ) {\n                  workspace.getCursor().prev();\n                }\n                isHandled = true;\n              }\n              return isHandled;\n            case Constants.STATE.FLYOUT:\n              isHandled = this.fieldShortcutHandler(workspace, shortcut);\n              if (!isHandled && workspace.targetWorkspace) {\n                if (\n                  !this.navigation.defaultFlyoutCursorIfNeeded(\n                    workspace.targetWorkspace,\n                    'last',\n                  )\n                ) {\n                  workspace.getCursor().prev();\n                }\n                isHandled = true;\n              }\n              return isHandled;\n            case Constants.STATE.TOOLBOX: {\n              const toolbox = workspace.getToolbox() as Toolbox;\n              if (toolbox) {\n                // @ts-expect-error private method\n                isHandled = toolbox.selectPrevious();\n                const selectedItem = toolbox.getSelectedItem();\n                if (selectedItem) {\n                  Blockly.getFocusManager().focusNode(selectedItem);\n                }\n              }\n              return isHandled;\n            }\n            default:\n              return false;\n          }\n        },\n        keyCodes: [KeyCodes.UP],\n      },\n    };\n\n    for (const shortcut of Object.values(shortcuts)) {\n      ShortcutRegistry.registry.register(shortcut);\n    }\n  }\n\n  /**\n   * Removes all the arrow navigation shortcuts.\n   */\n  uninstall() {\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.LEFT);\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.RIGHT);\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.DOWN);\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.UP);\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ContextMenuRegistry,\n  ShortcutRegistry,\n  isCopyable,\n  Msg,\n  ShortcutItems,\n  WorkspaceSvg,\n  clipboard,\n  isSelectable,\n} from 'blockly';\nimport * as Constants from '../constants';\nimport {Navigation} from '../navigation';\nimport {getMenuItem} from '../shortcut_formatting';\nimport {clearPasteHints, showCopiedHint, showCutHint} from '../hints';\n\n/**\n * Weight for the first of these three items in the context menu.\n * Changing base weight will change where this group goes in the context\n * menu; changing individual weights relative to base weight can change\n * the order within the clipboard group.\n */\nconst BASE_WEIGHT = 12;\n\n/**\n * Logic and state for cut/copy/paste actions as both keyboard shortcuts\n * and context menu items.\n * In the long term, this will likely merge with the clipboard code in core.\n */\nexport class Clipboard {\n  private oldCutShortcut: ShortcutRegistry.KeyboardShortcut | undefined;\n  private oldCopyShortcut: ShortcutRegistry.KeyboardShortcut | undefined;\n  private oldPasteShortcut: ShortcutRegistry.KeyboardShortcut | undefined;\n\n  constructor(\n    private navigation: Navigation,\n    private options: {allowCrossWorkspacePaste: boolean} = {\n      allowCrossWorkspacePaste: false,\n    },\n  ) {}\n\n  /**\n   * Install these actions as both keyboard shortcuts and context menu items.\n   */\n  install() {\n    this.registerCopyShortcut();\n    this.registerCopyContextMenuAction();\n\n    this.registerPasteShortcut();\n    this.registerPasteContextMenuAction();\n\n    this.registerCutShortcut();\n    this.registerCutContextMenuAction();\n  }\n\n  /**\n   * Uninstall this action as both a keyboard shortcut and a context menu item.\n   * Reinstall the original cut/copy/paste shortcuts.\n   */\n  uninstall() {\n    ContextMenuRegistry.registry.unregister('blockCutFromContextMenu');\n    ContextMenuRegistry.registry.unregister('blockCopyFromContextMenu');\n    ContextMenuRegistry.registry.unregister('blockPasteFromContextMenu');\n\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.CUT);\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.COPY);\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.PASTE);\n\n    if (this.oldCutShortcut) {\n      ShortcutRegistry.registry.register(this.oldCutShortcut);\n    }\n\n    if (this.oldCopyShortcut) {\n      ShortcutRegistry.registry.register(this.oldCopyShortcut);\n    }\n\n    if (this.oldPasteShortcut) {\n      ShortcutRegistry.registry.register(this.oldPasteShortcut);\n    }\n  }\n\n  /**\n   * Create and register the keyboard shortcut for the cut action.\n   * Identical to the one in core but adds a toast after successful cut.\n   */\n  private registerCutShortcut() {\n    this.oldCutShortcut =\n      ShortcutRegistry.registry.getRegistry()[ShortcutItems.names.CUT];\n    if (!this.oldCutShortcut)\n      throw new Error('No cut keyboard shortcut registered initially');\n\n    const cutShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.CUT,\n      preconditionFn: this.oldCutShortcut.preconditionFn,\n      callback: this.cutCallback.bind(this),\n      keyCodes: this.oldCutShortcut.keyCodes,\n      allowCollision: false,\n    };\n\n    ShortcutRegistry.registry.unregister(ShortcutItems.names.CUT);\n    ShortcutRegistry.registry.register(cutShortcut);\n  }\n\n  /**\n   * Register the cut block action as a context menu item.\n   * The context menu uses its own preconditionFn (that doesn't check\n   * if a gesture is in progress, because one always is in the context\n   * menu). It calls the cut callback that is shared between keyboard\n   * and context menu.\n   */\n  private registerCutContextMenuAction() {\n    const cutAction: ContextMenuRegistry.RegistryItem = {\n      displayText: (scope) =>\n        getMenuItem(Msg['CUT_SHORTCUT'], Constants.SHORTCUT_NAMES.CUT),\n      preconditionFn: (scope) => this.cutPrecondition(scope),\n      callback: (scope, menuOpenEvent) => {\n        if (!isCopyable(scope.focusedNode)) return false;\n        const ws = scope.focusedNode.workspace;\n        if (!(ws instanceof WorkspaceSvg)) return false;\n\n        return this.cutCallback(ws, menuOpenEvent, undefined, scope);\n      },\n      id: 'blockCutFromContextMenu',\n      weight: BASE_WEIGHT,\n    };\n\n    ContextMenuRegistry.registry.register(cutAction);\n  }\n\n  /**\n   * Precondition function for the cut context menu. This wraps the core cut\n   * precondition to support context menus.\n   *\n   * @param scope scope of the shortcut or context menu item\n   * @returns 'enabled' if the node can be cut, 'disabled' otherwise.\n   */\n  private cutPrecondition(scope: ContextMenuRegistry.Scope): string {\n    const focused = scope.focusedNode;\n    if (!focused || !isCopyable(focused)) return 'hidden';\n\n    const workspace = focused.workspace;\n    if (!(workspace instanceof WorkspaceSvg)) return 'hidden';\n\n    if (\n      this.oldCutShortcut?.preconditionFn &&\n      this.oldCutShortcut.preconditionFn(workspace, scope)\n    ) {\n      return 'enabled';\n    }\n    return 'disabled';\n  }\n\n  /**\n   * The callback for the cut action. Uses the registered version of the cut callback\n   * to perform the cut logic, then pops a toast if cut happened.\n   *\n   * @param workspace Workspace where shortcut happened.\n   * @param e menu open event or keyboard event\n   * @param shortcut keyboard shortcut or undefined for context menus\n   * @param scope scope of the shortcut or context menu item\n   * @returns true if a cut happened, false otherwise\n   */\n  private cutCallback(\n    workspace: WorkspaceSvg,\n    e: Event,\n    shortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.CUT,\n    },\n    scope: ContextMenuRegistry.Scope,\n  ) {\n    const didCut =\n      !!this.oldCutShortcut?.callback &&\n      this.oldCutShortcut.callback(workspace, e, shortcut, scope);\n    if (didCut) {\n      showCutHint(workspace);\n    }\n    return didCut;\n  }\n\n  /**\n   * Create and register the keyboard shortcut for the copy action.\n   * Identical to the one in core but pops a toast after succesful copy.\n   */\n  private registerCopyShortcut() {\n    this.oldCopyShortcut =\n      ShortcutRegistry.registry.getRegistry()[ShortcutItems.names.COPY];\n    if (!this.oldCopyShortcut)\n      throw new Error('No copy keyboard shortcut registered initially');\n\n    const copyShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.COPY,\n      preconditionFn: this.oldCopyShortcut.preconditionFn,\n      callback: this.copyCallback.bind(this),\n      keyCodes: this.oldCopyShortcut.keyCodes,\n      allowCollision: false,\n    };\n\n    ShortcutRegistry.registry.unregister(ShortcutItems.names.COPY);\n    ShortcutRegistry.registry.register(copyShortcut);\n  }\n\n  /**\n   * Register the copy block action as a context menu item.\n   * The context menu uses its own preconditionFn (that doesn't check\n   * if a gesture is in progress, because one always is in the context\n   * menu). It calls the copy callback that is shared between keyboard\n   * and context menu.\n   */\n  private registerCopyContextMenuAction() {\n    const copyAction: ContextMenuRegistry.RegistryItem = {\n      displayText: (scope) =>\n        getMenuItem(Msg['COPY_SHORTCUT'], Constants.SHORTCUT_NAMES.COPY),\n      preconditionFn: (scope) => this.copyPrecondition(scope),\n      callback: (scope, menuOpenEvent) => {\n        if (!isCopyable(scope.focusedNode)) return false;\n        const ws = scope.focusedNode.workspace;\n        if (!(ws instanceof WorkspaceSvg)) return false;\n\n        return this.copyCallback(ws, menuOpenEvent, undefined, scope);\n      },\n      id: 'blockCopyFromContextMenu',\n      weight: BASE_WEIGHT + 1,\n    };\n\n    ContextMenuRegistry.registry.register(copyAction);\n  }\n\n  /**\n   * Precondition function for the copy context menu. This wraps the core copy\n   * precondition to support context menus.\n   *\n   * @param scope scope of the shortcut or context menu item\n   * @returns 'enabled' if the node can be copied, 'disabled' otherwise.\n   */\n  private copyPrecondition(scope: ContextMenuRegistry.Scope): string {\n    const focused = scope.focusedNode;\n    if (!focused || !isCopyable(focused)) return 'hidden';\n\n    const workspace = focused.workspace;\n    if (!(workspace instanceof WorkspaceSvg)) return 'hidden';\n\n    if (\n      this.oldCopyShortcut?.preconditionFn &&\n      this.oldCopyShortcut.preconditionFn(workspace, scope)\n    ) {\n      return 'enabled';\n    }\n    return 'disabled';\n  }\n\n  /**\n   * The callback for the copy action. Uses the registered version of the copy callback\n   * to perform the copy logic, then pops a toast if copy happened.\n   *\n   * @param workspace Workspace where shortcut happened.\n   * @param e menu open event or keyboard event\n   * @param shortcut keyboard shortcut or undefined for context menus\n   * @param scope scope of the shortcut or context menu item\n   * @returns true if a copy happened, false otherwise\n   */\n  private copyCallback(\n    workspace: WorkspaceSvg,\n    e: Event,\n    shortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.CUT,\n    },\n    scope: ContextMenuRegistry.Scope,\n  ) {\n    const didCopy =\n      !!this.oldCopyShortcut?.callback &&\n      this.oldCopyShortcut.callback(workspace, e, shortcut, scope);\n    if (didCopy) {\n      showCopiedHint(workspace);\n    }\n    return didCopy;\n  }\n\n  /**\n   * Create and register the keyboard shortcut for the paste action.\n   * Identical to the one in core but clears any paste toasts after.\n   */\n  private registerPasteShortcut() {\n    this.oldPasteShortcut =\n      ShortcutRegistry.registry.getRegistry()[ShortcutItems.names.PASTE];\n    if (!this.oldPasteShortcut)\n      throw new Error('No paste keyboard shortcut registered initially');\n\n    const pasteShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.PASTE,\n      preconditionFn: this.oldPasteShortcut.preconditionFn,\n      callback: this.pasteCallback.bind(this),\n      keyCodes: this.oldPasteShortcut.keyCodes,\n      allowCollision: false,\n    };\n\n    ShortcutRegistry.registry.unregister(ShortcutItems.names.PASTE);\n    ShortcutRegistry.registry.register(pasteShortcut);\n  }\n\n  /**\n   * Register the paste block action as a context menu item.\n   * The context menu uses its own preconditionFn (that doesn't check\n   * if a gesture is in progress, because one always is in the context\n   * menu). It calls the paste callback that is shared between keyboard\n   * and context menu.\n   */\n  private registerPasteContextMenuAction() {\n    const pasteAction: ContextMenuRegistry.RegistryItem = {\n      displayText: (scope) =>\n        getMenuItem(Msg['PASTE_SHORTCUT'], Constants.SHORTCUT_NAMES.PASTE),\n      preconditionFn: (scope) => this.pastePrecondition(scope),\n      callback: (scope: ContextMenuRegistry.Scope, menuOpenEvent: Event) => {\n        const workspace = this.getPasteWorkspace(scope);\n        if (!workspace) return false;\n        return this.pasteCallback(workspace, menuOpenEvent, undefined, scope);\n      },\n      id: 'blockPasteFromContextMenu',\n      weight: BASE_WEIGHT + 2,\n    };\n\n    ContextMenuRegistry.registry.register(pasteAction);\n  }\n\n  /**\n   * Get the workspace to paste into based on which type of thing the menu was opened on.\n   *\n   * @param scope scope of shortcut or context menu item\n   * @returns WorkspaceSvg to paste into or undefined\n   */\n  private getPasteWorkspace(\n    scope: ContextMenuRegistry.Scope,\n  ): WorkspaceSvg | undefined {\n    let workspace;\n    if (scope.focusedNode instanceof WorkspaceSvg) {\n      workspace = scope.focusedNode;\n    } else if (isSelectable(scope.focusedNode)) {\n      workspace = scope.focusedNode.workspace;\n    }\n\n    if (!workspace || !(workspace instanceof WorkspaceSvg)) return undefined;\n    return workspace;\n  }\n\n  /**\n   * Precondition function for the paste context menu. This wraps the core\n   * paste precondition to support context menus.\n   *\n   * @param scope scope of the shortcut or context menu item\n   * @returns 'enabled' if the node can be pasted, 'disabled' otherwise.\n   */\n  private pastePrecondition(scope: ContextMenuRegistry.Scope): string {\n    const workspace = this.getPasteWorkspace(scope);\n    // If we can't identify what workspace to paste into, hide.\n    if (!workspace) return 'hidden';\n\n    // Don't paste into flyouts.\n    if (workspace.isFlyout) return 'hidden';\n\n    if (!this.options.allowCrossWorkspacePaste) {\n      // Only paste into the same workspace that was copied from\n      // or the parent workspace of a flyout that was copied from.\n      let copiedWorkspace = clipboard.getLastCopiedWorkspace();\n      if (copiedWorkspace?.isFlyout)\n        copiedWorkspace = copiedWorkspace.targetWorkspace;\n      if (copiedWorkspace !== workspace) return 'disabled';\n    }\n\n    if (\n      this.oldPasteShortcut?.preconditionFn &&\n      this.oldPasteShortcut.preconditionFn(workspace, scope)\n    ) {\n      return 'enabled';\n    }\n    return 'disabled';\n  }\n\n  /**\n   * The callback for the paste action. Uses the registered version of the paste callback\n   * to perform the paste logic, then clears any toasts about pasting.\n   *\n   * @param workspace Workspace where shortcut happened.\n   * @param e menu open event or keyboard event\n   * @param shortcut keyboard shortcut or undefined for context menus\n   * @param scope scope of the shortcut or context menu item\n   * @returns true if a paste happened, false otherwise\n   */\n  private pasteCallback(\n    workspace: WorkspaceSvg,\n    e: Event,\n    shortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.CUT,\n    },\n    scope: ContextMenuRegistry.Scope,\n  ) {\n    const didPaste =\n      !!this.oldPasteShortcut?.callback &&\n      this.oldPasteShortcut.callback(workspace, e, shortcut, scope);\n\n    // Clear the paste hints regardless of whether something was pasted\n    // Some implementations of paste are async and we should clear the hint\n    // once the user initiates the paste action.\n    clearPasteHints(workspace);\n    return didPaste;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ContextMenuRegistry, Msg, ShortcutItems} from 'blockly';\nimport {getMenuItem} from '../shortcut_formatting';\n\n/**\n * Action to delete the block the cursor is currently on.\n */\nexport class DeleteAction {\n  /**\n   * Saved context menu item display text function, which is restored\n   * when this action is uninstalled.\n   */\n  private oldDisplayText:\n    | ((scope: ContextMenuRegistry.Scope) => string | HTMLElement)\n    | string\n    | HTMLElement\n    | undefined = undefined;\n\n  /**\n   * Saved context menu item, which has its display text restored when\n   * this action is uninstalled.\n   */\n  private oldContextMenuItem: ContextMenuRegistry.RegistryItem | null = null;\n\n  constructor() {}\n\n  /**\n   * Install this action as both a keyboard shortcut and a context menu item.\n   */\n  install() {\n    this.registerContextMenuAction();\n  }\n\n  /**\n   * Reinstall the original context menu display text if possible.\n   */\n  uninstall() {\n    if (this.oldContextMenuItem && this.oldDisplayText) {\n      this.oldContextMenuItem.displayText = this.oldDisplayText;\n    }\n  }\n\n  /**\n   * Updates the text of the context menu delete action to include\n   * the keyboard shortcut.\n   */\n  private registerContextMenuAction() {\n    this.oldContextMenuItem =\n      ContextMenuRegistry.registry.getItem('blockDelete');\n\n    if (!this.oldContextMenuItem) return;\n\n    this.oldDisplayText = this.oldContextMenuItem.displayText;\n\n    const displayText = (scope: ContextMenuRegistry.Scope) => {\n      let label: string;\n      // Use the original item's text, which is dynamic based on the number\n      // of blocks that will be deleted.\n      if (typeof this.oldDisplayText === 'function') {\n        const result = this.oldDisplayText(scope);\n        if (result instanceof HTMLElement) {\n          label = result.innerText;\n        } else {\n          label = result;\n        }\n      } else if (typeof this.oldDisplayText === 'string') {\n        label = this.oldDisplayText;\n      } else {\n        label = Msg['DELETE_BLOCK'];\n      }\n\n      return getMenuItem(label, ShortcutItems.names.DELETE);\n    };\n\n    this.oldContextMenuItem.displayText = displayText;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  BlockSvg,\n  Events,\n  ShortcutRegistry,\n  utils as BlocklyUtils,\n  keyboardNavigationController,\n} from 'blockly';\nimport * as Constants from '../constants';\nimport type {WorkspaceSvg} from 'blockly';\nimport {Navigation} from '../navigation';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\n\n/**\n * Action to insert a block into the workspace.\n *\n * This action registers itself as both a keyboard shortcut and a context menu\n * item.\n */\nexport class DisconnectAction {\n  /**\n   * Registration name for the keyboard shortcut.\n   */\n  private shortcutName = Constants.SHORTCUT_NAMES.DISCONNECT;\n\n  constructor(private navigation: Navigation) {}\n\n  /**\n   * Install this action as both a keyboard shortcut and a context menu item.\n   */\n  install() {\n    this.registerShortcut();\n  }\n\n  /**\n   * Uninstall this action as both a keyboard shortcut and a context menu item.\n   * Reinstall the original context menu action if possible.\n   */\n  uninstall() {\n    ShortcutRegistry.registry.unregister(this.shortcutName);\n  }\n\n  /**\n   * Create and register the keyboard shortcut for this action.\n   */\n  private registerShortcut() {\n    const disconnectShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: this.shortcutName,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyEdit(workspace),\n      callback: (workspace) => {\n        keyboardNavigationController.setIsActive(true);\n        switch (this.navigation.getState()) {\n          case Constants.STATE.WORKSPACE:\n            this.disconnectBlocks(workspace);\n            return true;\n          default:\n            return false;\n        }\n      },\n      keyCodes: [KeyCodes.X],\n    };\n    ShortcutRegistry.registry.register(disconnectShortcut);\n  }\n\n  /**\n   * Disconnects the connection that the cursor is pointing to, and bump blocks.\n   * This is a no-op if the connection cannot be broken or if the cursor is not\n   * pointing to a connection.\n   *\n   * @param workspace The workspace.\n   */\n  disconnectBlocks(workspace: WorkspaceSvg) {\n    const cursor = workspace.getCursor();\n    const curNode = cursor.getCurNode();\n    if (!(curNode instanceof BlockSvg)) return;\n\n    const healStack = !curNode.outputConnection?.isConnected();\n    Events.setGroup(true);\n    curNode.unplug(healStack);\n    Events.setGroup(false);\n\n    // Needed or we end up with passive focus.\n    cursor.setCurNode(curNode);\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  BlockSvg,\n  clipboard,\n  ContextMenuRegistry,\n  ICopyable,\n  ShortcutRegistry,\n  utils,\n  comments,\n  ICopyData,\n} from 'blockly';\nimport * as Constants from '../constants';\nimport {getMenuItem} from '../shortcut_formatting';\n\n/**\n * Duplicate action that adds a keyboard shortcut for duplicate and overrides\n * the context menu item to show it if the context menu item is registered.\n */\nexport class DuplicateAction {\n  private duplicateShortcut: ShortcutRegistry.KeyboardShortcut | null = null;\n  private uninstallHandlers: Array<() => void> = [];\n\n  /**\n   * Install the shortcuts and override context menu entries.\n   *\n   * No change is made if there's already a 'duplicate' shortcut.\n   */\n  install() {\n    this.duplicateShortcut = this.registerDuplicateShortcut();\n    if (this.duplicateShortcut) {\n      this.uninstallHandlers.push(\n        overrideContextMenuItemForShortcutText(\n          'blockDuplicate',\n          Constants.SHORTCUT_NAMES.DUPLICATE,\n        ),\n      );\n      this.uninstallHandlers.push(\n        overrideContextMenuItemForShortcutText(\n          'commentDuplicate',\n          Constants.SHORTCUT_NAMES.DUPLICATE,\n        ),\n      );\n    }\n  }\n\n  /**\n   * Unregister the shortcut and reinstate the original context menu entries.\n   */\n  uninstall() {\n    this.uninstallHandlers.forEach((handler) => handler());\n    this.uninstallHandlers.length = 0;\n    if (this.duplicateShortcut) {\n      ShortcutRegistry.registry.unregister(this.duplicateShortcut.name);\n    }\n  }\n\n  /**\n   * Create and register the keyboard shortcut for the duplicate action.\n   * Same behaviour as for the core context menu.\n   * Skipped if there is a shortcut with a matching name already.\n   */\n  private registerDuplicateShortcut(): ShortcutRegistry.KeyboardShortcut | null {\n    if (\n      ShortcutRegistry.registry.getRegistry()[\n        Constants.SHORTCUT_NAMES.DUPLICATE\n      ]\n    ) {\n      return null;\n    }\n\n    const shortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.DUPLICATE,\n      // Equivalent to the core context menu entry.\n      preconditionFn(workspace, scope) {\n        const {focusedNode} = scope;\n        if (focusedNode instanceof BlockSvg) {\n          return (\n            !focusedNode.isInFlyout &&\n            focusedNode.isDeletable() &&\n            focusedNode.isMovable() &&\n            focusedNode.isDuplicatable()\n          );\n        } else if (focusedNode instanceof comments.RenderedWorkspaceComment) {\n          return focusedNode.isMovable();\n        }\n        return false;\n      },\n      callback(workspace, e, shortcut, scope) {\n        const copyable = scope.focusedNode as ICopyable<ICopyData>;\n        const data = copyable.toCopyData();\n        if (!data) return false;\n        return !!clipboard.paste(data, workspace);\n      },\n      keyCodes: [utils.KeyCodes.D],\n    };\n    ShortcutRegistry.registry.register(shortcut);\n    return shortcut;\n  }\n}\n\n/**\n * Replace a context menu item to add shortcut text to its displayText.\n *\n * Nothing happens if there is not a matching context menu item registered.\n *\n * @param registryId Context menu registry id to replace if present.\n * @param shortcutName The corresponding shortcut name.\n * @returns A function to reinstate the original context menu entry.\n */\nfunction overrideContextMenuItemForShortcutText(\n  registryId: string,\n  shortcutName: string,\n): () => void {\n  const original = ContextMenuRegistry.registry.getItem(registryId);\n  if (!original || 'separator' in original) {\n    return () => {};\n  }\n\n  const override: ContextMenuRegistry.RegistryItem = {\n    ...original,\n    displayText: (scope: ContextMenuRegistry.Scope) => {\n      const displayText =\n        typeof original.displayText === 'function'\n          ? original.displayText(scope)\n          : original.displayText;\n      if (displayText instanceof HTMLElement) {\n        // We can't cope in this scenario.\n        return displayText;\n      }\n      return getMenuItem(displayText, shortcutName);\n    },\n  };\n  ContextMenuRegistry.registry.unregister(registryId);\n  ContextMenuRegistry.registry.register(override);\n\n  return () => {\n    ContextMenuRegistry.registry.unregister(registryId);\n    ContextMenuRegistry.registry.register(original);\n  };\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ContextMenuRegistry, Msg, keyboardNavigationController} from 'blockly';\nimport {Navigation} from '../navigation';\nimport {getMenuItem} from '../shortcut_formatting';\nimport * as Constants from '../constants';\n\n/**\n * Action to edit a block.  This just moves the cursor to the first\n * field or input (if there is one), and exists as an aid to\n * navigational discoverability:\n *\n * Any time there is a cursor position that can be accessed by\n * pressing the right-arrow key, which isn't accessible by pressing\n * the down-arrow key (these positions are typically fields and value\n * inputs), a context menu item \"Edit Block contents ()\" will be\n * shown in the block context menu.\n *\n * N.B.: This item is shown any time the cursor is on a block and not\n * in the rightmost position 'on the current line'; that means that\n * sometimes the label (\"Edit block contents\") is possibly misleading,\n * because it might not be the contents of the _current_ block that's\n * being edited, but rather that of a sibling or parent block.\n *\n * This action registers itself only as a context menu item, as there\n * is already a corresponding \"right\" shortcut item.\n */\nexport class EditAction {\n  constructor(private navigation: Navigation) {}\n\n  /**\n   * Install this action as a context menu item.\n   */\n  install() {\n    this.registerContextMenuAction();\n  }\n\n  /**\n   * Uninstall this action as both a keyboard shortcut and a context menu item.\n   * Reinstall the original context menu action if possible.\n   */\n  uninstall() {\n    ContextMenuRegistry.registry.unregister('edit');\n  }\n\n  /**\n   * Register the edit block action as a context menu item on blocks.\n   */\n  private registerContextMenuAction() {\n    const editAboveItem: ContextMenuRegistry.RegistryItem = {\n      displayText: getMenuItem(\n        Msg['EDIT_BLOCK_CONTENTS'],\n        Constants.SHORTCUT_NAMES.RIGHT,\n      ),\n      preconditionFn: (scope: ContextMenuRegistry.Scope, menuOpenEvent) => {\n        if (menuOpenEvent instanceof PointerEvent) return 'hidden';\n        const workspace = scope.block?.workspace;\n        if (!workspace || !this.navigation.canCurrentlyNavigate(workspace)) {\n          return 'disabled';\n        }\n        const cursor = workspace.getCursor();\n        if (!cursor) return 'disabled';\n        return cursor.atEndOfLine() ? 'hidden' : 'enabled';\n      },\n      callback: (scope: ContextMenuRegistry.Scope) => {\n        keyboardNavigationController.setIsActive(true);\n        const workspace = scope.block?.workspace;\n        if (!workspace) return false;\n        workspace.getCursor()?.in();\n        return true;\n      },\n      scopeType: ContextMenuRegistry.ScopeType.BLOCK,\n      id: 'edit',\n      weight: 10,\n    };\n\n    ContextMenuRegistry.registry.register(editAboveItem);\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Events,\n  ShortcutRegistry,\n  utils as BlocklyUtils,\n  BlockSvg,\n  FlyoutButton,\n  RenderedConnection,\n  WorkspaceSvg,\n  Field,\n  icons,\n  FocusableTreeTraverser,\n  renderManagement,\n  comments,\n  getFocusManager,\n  hasBubble,\n} from 'blockly/core';\n\nimport type {Block} from 'blockly/core';\n\nimport * as Constants from '../constants';\nimport type {Navigation} from '../navigation';\nimport {Mover, MoveType} from './mover';\nimport {\n  showConstrainedMovementHint,\n  showHelpHint,\n  showUnconstrainedMoveHint,\n} from '../hints';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\n\n/**\n * Class for registering a shortcut for the enter action.\n */\nexport class EnterAction {\n  constructor(\n    private mover: Mover,\n    private navigation: Navigation,\n  ) {}\n\n  /**\n   * Adds the enter action shortcut to the registry.\n   */\n  install() {\n    /**\n     * Enter key:\n     *\n     * - On the flyout: press a button or choose a block to place.\n     * - On a stack: open a block's context menu or field's editor.\n     * - On the workspace: open the context menu.\n     */\n    ShortcutRegistry.registry.register({\n      name: Constants.SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n      preconditionFn: (workspace): boolean => {\n        switch (this.navigation.getState()) {\n          case Constants.STATE.WORKSPACE:\n            return this.shouldHandleEnterForWS(workspace);\n          case Constants.STATE.FLYOUT: {\n            // If we're in the flyout the only supported actions are inserting\n            // blocks or clicking buttons, so don't handle this if the\n            // main workspace is read only.\n            const targetWorkspace = workspace.isFlyout\n              ? workspace.targetWorkspace\n              : workspace;\n            if (!targetWorkspace) return false;\n            return this.navigation.canCurrentlyEdit(targetWorkspace);\n          }\n          default:\n            return false;\n        }\n      },\n      callback: (workspace, event): boolean => {\n        event.preventDefault();\n\n        const targetWorkspace = workspace.isFlyout\n          ? workspace.targetWorkspace\n          : workspace;\n        if (!targetWorkspace) return false;\n\n        let flyoutCursor;\n        let curNode;\n\n        switch (this.navigation.getState()) {\n          case Constants.STATE.WORKSPACE:\n            return this.handleEnterForWS(workspace);\n          case Constants.STATE.FLYOUT:\n            flyoutCursor = this.navigation.getFlyoutCursor(targetWorkspace);\n            if (!flyoutCursor) {\n              return false;\n            }\n            curNode = flyoutCursor.getCurNode();\n            if (curNode instanceof BlockSvg) {\n              this.insertFromFlyout(targetWorkspace);\n            } else if (curNode instanceof FlyoutButton) {\n              this.triggerButtonCallback(targetWorkspace);\n            }\n            return true;\n          default:\n            return false;\n        }\n      },\n      keyCodes: [KeyCodes.ENTER, KeyCodes.SPACE],\n      allowCollision: true,\n    });\n  }\n\n  /**\n   * Checks if the enter key should do anything for this ws.\n   *\n   * @param workspace The workspace to check.\n   * @returns True if the enter action should be handled.\n   */\n  private shouldHandleEnterForWS(workspace: WorkspaceSvg): boolean {\n    if (!this.navigation.canCurrentlyNavigate(workspace)) return false;\n    if (workspace.isDragging()) return false;\n\n    const curNode = workspace.getCursor().getCurNode();\n    if (!curNode) return false;\n    if (curNode instanceof Field) return curNode.isClickable();\n    if (\n      curNode instanceof RenderedConnection ||\n      curNode instanceof WorkspaceSvg\n    ) {\n      return !workspace.isReadOnly();\n    }\n    // Returning true is sometimes incorrect for icons, but there's no API to check.\n    return (\n      curNode instanceof BlockSvg ||\n      curNode instanceof icons.Icon ||\n      curNode instanceof comments.CommentBarButton ||\n      curNode instanceof comments.RenderedWorkspaceComment\n    );\n  }\n\n  /**\n   * Handles hitting the enter key on the workspace.\n   *\n   * @param workspace The workspace.\n   * @returns True if the enter was handled, false otherwise.\n   */\n  private handleEnterForWS(workspace: WorkspaceSvg): boolean {\n    const cursor = workspace.getCursor();\n    const curNode = cursor.getCurNode();\n    if (!curNode) return false;\n    if (curNode instanceof Field) {\n      curNode.showEditor();\n      return true;\n    } else if (curNode instanceof BlockSvg) {\n      if (!this.tryShowFullBlockFieldEditor(curNode)) {\n        showHelpHint(workspace);\n      }\n      return true;\n    } else if (\n      curNode instanceof RenderedConnection ||\n      curNode instanceof WorkspaceSvg\n    ) {\n      this.navigation.openToolboxOrFlyout(workspace);\n      return true;\n    } else if (curNode instanceof icons.Icon) {\n      // Calling the icon's click handler will trigger its action, generally\n      // opening a bubble of some sort. We then need to wait for the bubble to\n      // appear before attempting to navigate into it.\n      curNode.onClick();\n      renderManagement.finishQueuedRenders().then(() => {\n        if (hasBubble(curNode) && curNode.bubbleIsVisible()) {\n          cursor.in();\n        }\n      });\n      return true;\n    } else if (curNode instanceof comments.CommentBarButton) {\n      curNode.performAction();\n      return true;\n    } else if (curNode instanceof comments.RenderedWorkspaceComment) {\n      curNode.setCollapsed(false);\n      getFocusManager().focusNode(curNode.getEditorFocusableNode());\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Inserts a block from the flyout.\n   * Tries to find a connection on the block to connect to the marked\n   * location. If no connection has been marked, or there is not a compatible\n   * connection then the block is placed on the workspace.\n   * Trigger a toast per session if possible.\n   *\n   * @param workspace The main workspace. The workspace\n   *     the block will be placed on.\n   */\n  private insertFromFlyout(workspace: WorkspaceSvg) {\n    workspace.setResizesEnabled(false);\n    // Create a new event group or append to the existing group.\n    const existingGroup = Events.getGroup();\n    if (!existingGroup) {\n      Events.setGroup(true);\n    }\n\n    // If the workspace has never had focus default the stationary node.\n    const stationaryNode =\n      FocusableTreeTraverser.findFocusedNode(workspace) ??\n      workspace.getRestoredFocusableNode(null);\n    const newBlock = this.createNewBlock(workspace);\n    if (!newBlock) return;\n    const insertStartPoint = stationaryNode\n      ? this.navigation.findInsertStartPoint(stationaryNode, newBlock)\n      : null;\n\n    if (workspace.getTopBlocks().includes(newBlock)) {\n      this.positionNewTopLevelBlock(workspace, newBlock);\n    }\n\n    workspace.setResizesEnabled(true);\n\n    this.mover.startMove(\n      workspace,\n      newBlock,\n      MoveType.Insert,\n      insertStartPoint,\n    );\n\n    const isStartBlock =\n      !newBlock.outputConnection &&\n      !newBlock.nextConnection &&\n      !newBlock.previousConnection;\n    if (isStartBlock) {\n      showUnconstrainedMoveHint(workspace, false);\n    } else {\n      showConstrainedMovementHint(workspace);\n    }\n  }\n\n  /**\n   * Position a new top-level block to avoid overlap at the top left.\n   *\n   * Similar to `WorkspaceSvg.cleanUp()` but does not constrain itself to not\n   * affecting code ordering in order to use horizontal space.\n   *\n   * @param workspace The workspace.\n   * @param newBlock The top-level block to move to free space.\n   */\n  private positionNewTopLevelBlock(\n    workspace: WorkspaceSvg,\n    newBlock: BlockSvg,\n  ) {\n    const initialY = 10;\n    const initialX = 10;\n    const xSpacing = 80;\n\n    const filteredTopBlocks = workspace\n      .getTopBlocks(true)\n      .filter((block) => block.id !== newBlock.id);\n    const allBlockBounds = filteredTopBlocks.map((block) =>\n      block.getBoundingRectangle(),\n    );\n\n    const toolboxWidth = workspace.getToolbox()?.getWidth();\n    const workspaceWidth =\n      workspace.getParentSvg().clientWidth - (toolboxWidth ?? 0);\n    const workspaceHeight = workspace.getParentSvg().clientHeight;\n    const {height: newBlockHeight, width: newBlockWidth} =\n      newBlock.getHeightWidth();\n\n    const getNextIntersectingBlock = function (\n      newBlockRect: BlocklyUtils.Rect,\n    ): BlocklyUtils.Rect | null {\n      for (const rect of allBlockBounds) {\n        if (newBlockRect.intersects(rect)) {\n          return rect;\n        }\n      }\n      return null;\n    };\n\n    let cursorY = initialY;\n    let cursorX = initialX;\n    const minBlockHeight = workspace\n      .getRenderer()\n      .getConstants().MIN_BLOCK_HEIGHT;\n    // Make the initial movement of shifting the block to its best possible position.\n    let boundingRect = newBlock.getBoundingRectangle();\n    newBlock.moveBy(cursorX - boundingRect.left, cursorY - boundingRect.top, [\n      'cleanup',\n    ]);\n    newBlock.snapToGrid();\n\n    boundingRect = newBlock.getBoundingRectangle();\n    let conflictingRect = getNextIntersectingBlock(boundingRect);\n    while (conflictingRect != null) {\n      const newCursorX =\n        conflictingRect.left + conflictingRect.getWidth() + xSpacing;\n      const newCursorY =\n        conflictingRect.top + conflictingRect.getHeight() + minBlockHeight;\n      if (newCursorX + newBlockWidth <= workspaceWidth) {\n        cursorX = newCursorX;\n      } else if (newCursorY + newBlockHeight <= workspaceHeight) {\n        cursorY = newCursorY;\n        cursorX = initialX;\n      } else {\n        // Off screen, but new blocks will be selected which will scroll them\n        // into view.\n        cursorY = newCursorY;\n        cursorX = initialX;\n      }\n      newBlock.moveBy(cursorX - boundingRect.left, cursorY - boundingRect.top, [\n        'cleanup',\n      ]);\n      newBlock.snapToGrid();\n      boundingRect = newBlock.getBoundingRectangle();\n      conflictingRect = getNextIntersectingBlock(boundingRect);\n    }\n\n    newBlock.bringToFront();\n  }\n\n  /**\n   * Triggers a flyout button's callback.\n   *\n   * @param workspace The main workspace. The workspace\n   *     containing a flyout with a button.\n   */\n  private triggerButtonCallback(workspace: WorkspaceSvg) {\n    const button = this.navigation.getFlyoutCursor(workspace)?.getCurNode();\n    if (!(button instanceof FlyoutButton)) return;\n\n    const flyoutButtonCallbacks: Map<string, (p1: FlyoutButton) => void> =\n      // @ts-expect-error private field access\n      workspace.flyoutButtonCallbacks;\n\n    // TODO: Remove cast once blockly 12.4.0 is the minimum version of Blockly required.\n    // button.callbackKey is private until that version.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const callbackKey = (button as any).callbackKey;\n    const buttonCallback = flyoutButtonCallbacks.get(callbackKey);\n    if (!buttonCallback) {\n      throw new Error('No callback function found for flyout button.');\n    }\n    buttonCallback(button);\n  }\n\n  /**\n   * If this block has a full block field then show its editor.\n   *\n   * @param block A block.\n   * @returns True if we showed the editor, false otherwise.\n   */\n  private tryShowFullBlockFieldEditor(block: Block): boolean {\n    if (block.isSimpleReporter()) {\n      for (const input of block.inputList) {\n        for (const field of input.fieldRow) {\n          if (field.isClickable() && field.isFullBlockField()) {\n            field.showEditor();\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Creates a new block based on the current block the flyout cursor is on.\n   *\n   * @param workspace The main workspace. The workspace\n   *     the block will be placed on.\n   * @returns The newly created block.\n   */\n  private createNewBlock(workspace: WorkspaceSvg): BlockSvg | null {\n    const flyout = workspace.getFlyout();\n    if (!flyout || !flyout.isVisible()) {\n      console.warn(\n        'Trying to insert from the flyout when the flyout does not ' +\n          ' exist or is not visible',\n      );\n      return null;\n    }\n\n    const curBlock = this.navigation.getFlyoutCursor(workspace)?.getCurNode();\n    if (!(curBlock instanceof BlockSvg) || !curBlock.isEnabled()) {\n      console.warn(\"Can't insert a disabled block.\");\n      return null;\n    }\n\n    const newBlock = flyout.createBlock(curBlock);\n    // Render to get the sizing right.\n    newBlock.render();\n    // Connections are not tracked when the block is first created.  Normally\n    // there's enough time for them to become tracked in the user's mouse\n    // movements, but not here.\n    newBlock.setConnectionTracking(true);\n    return newBlock;\n  }\n\n  /**\n   * Removes the enter action shortcut.\n   */\n  uninstall() {\n    ShortcutRegistry.registry.unregister(\n      Constants.SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ShortcutRegistry,\n  utils as BlocklyUtils,\n  getFocusManager,\n  Gesture,\n  icons,\n} from 'blockly/core';\n\nimport * as Constants from '../constants';\nimport type {Navigation} from '../navigation';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\n\n/**\n * Class for registering a shortcut for the exit action.\n */\nexport class ExitAction {\n  constructor(private navigation: Navigation) {}\n\n  /**\n   * Adds the exit action shortcut to the registry.\n   */\n  install() {\n    ShortcutRegistry.registry.register({\n      name: Constants.SHORTCUT_NAMES.EXIT,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyNavigate(workspace),\n      callback: (workspace) => {\n        switch (this.navigation.getState()) {\n          case Constants.STATE.FLYOUT:\n          case Constants.STATE.TOOLBOX:\n            getFocusManager().focusTree(workspace.targetWorkspace ?? workspace);\n            if (!Gesture.inProgress()) {\n              workspace.hideChaff();\n            }\n            return true;\n          case Constants.STATE.WORKSPACE: {\n            if (workspace.isMutator) {\n              const parent = workspace.options.parentWorkspace\n                ?.getAllBlocks()\n                .map((block) => block.getIcons())\n                .flat()\n                .find(\n                  (icon): icon is icons.MutatorIcon =>\n                    icon instanceof icons.MutatorIcon &&\n                    icon.bubbleIsVisible() &&\n                    icon.getBubble()?.getWorkspace() === workspace,\n                );\n              if (parent) {\n                parent.setBubbleVisible(false);\n                getFocusManager().focusNode(parent);\n                return true;\n              }\n            }\n            return false;\n          }\n          default:\n            return false;\n        }\n      },\n      keyCodes: [KeyCodes.ESC],\n      allowCollision: true,\n    });\n  }\n\n  /**\n   * Removes the exit action shortcut.\n   */\n  uninstall() {\n    ShortcutRegistry.registry.unregister(Constants.SHORTCUT_NAMES.EXIT);\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ContextMenuRegistry,\n  Msg,\n  ShortcutRegistry,\n  utils,\n  WorkspaceSvg,\n  keyboardNavigationController,\n  getFocusManager,\n  comments,\n  IDraggable,\n  IFocusableNode,\n  IBoundedElement,\n  ISelectable,\n} from 'blockly';\nimport {Direction} from '../drag_direction';\nimport {Mover, MoveType} from './mover';\nimport {getMenuItem} from '../shortcut_formatting';\nimport {getNonShadowBlock} from '../workspace_utilities';\n\nconst KeyCodes = utils.KeyCodes;\nconst createSerializedKey = ShortcutRegistry.registry.createSerializedKey.bind(\n  ShortcutRegistry.registry,\n);\n\n/**\n * Actions for moving workspace elements with keyboard shortcuts.\n */\nexport class MoveActions {\n  constructor(private mover: Mover) {}\n\n  private shortcuts: ShortcutRegistry.KeyboardShortcut[] = [\n    // Begin and end move.\n    {\n      name: 'start_move',\n      preconditionFn: (workspace) => {\n        const startDraggable = this.getCurrentDraggable(workspace);\n        return (\n          !!startDraggable && this.mover.canMove(workspace, startDraggable)\n        );\n      },\n      callback: (workspace) => {\n        keyboardNavigationController.setIsActive(true);\n        const startDraggable = this.getCurrentDraggable(workspace);\n        // Focus the root draggable in case one of its children\n        // was focused when the move was triggered.\n        if (startDraggable) {\n          getFocusManager().focusNode(startDraggable);\n        }\n        return (\n          !!startDraggable &&\n          this.mover.startMove(workspace, startDraggable, MoveType.Move, null)\n        );\n      },\n      keyCodes: [KeyCodes.M],\n    },\n    {\n      name: 'finish_move',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) => this.mover.finishMove(workspace),\n      keyCodes: [KeyCodes.ENTER, KeyCodes.SPACE],\n      allowCollision: true,\n    },\n    {\n      name: 'abort_move',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) => this.mover.abortMove(workspace),\n      keyCodes: [KeyCodes.ESC],\n      allowCollision: true,\n    },\n\n    // Constrained moves.\n    {\n      name: 'move_left_constrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveConstrained(workspace, Direction.Left),\n      keyCodes: [KeyCodes.LEFT],\n      allowCollision: true,\n    },\n    {\n      name: 'move_right_constrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveConstrained(workspace, Direction.Right),\n      keyCodes: [KeyCodes.RIGHT],\n      allowCollision: true,\n    },\n    {\n      name: 'move_up_constrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveConstrained(workspace, Direction.Up),\n      keyCodes: [KeyCodes.UP],\n      allowCollision: true,\n    },\n    {\n      name: 'move_down_constrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveConstrained(workspace, Direction.Down),\n      keyCodes: [KeyCodes.DOWN],\n      allowCollision: true,\n    },\n\n    // Unconstrained moves.\n    {\n      name: 'move_left_unconstrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveUnconstrained(workspace, Direction.Left),\n      keyCodes: [\n        createSerializedKey(KeyCodes.LEFT, [KeyCodes.ALT]),\n        createSerializedKey(KeyCodes.LEFT, [KeyCodes.CTRL]),\n      ],\n    },\n    {\n      name: 'move_right_unconstrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveUnconstrained(workspace, Direction.Right),\n      keyCodes: [\n        createSerializedKey(KeyCodes.RIGHT, [KeyCodes.ALT]),\n        createSerializedKey(KeyCodes.RIGHT, [KeyCodes.CTRL]),\n      ],\n    },\n    {\n      name: 'move_up_unconstrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveUnconstrained(workspace, Direction.Up),\n      keyCodes: [\n        createSerializedKey(KeyCodes.UP, [KeyCodes.ALT]),\n        createSerializedKey(KeyCodes.UP, [KeyCodes.CTRL]),\n      ],\n    },\n    {\n      name: 'move_down_unconstrained',\n      preconditionFn: (workspace) => this.mover.isMoving(workspace),\n      callback: (workspace) =>\n        this.mover.moveUnconstrained(workspace, Direction.Down),\n      keyCodes: [\n        createSerializedKey(KeyCodes.DOWN, [KeyCodes.ALT]),\n        createSerializedKey(KeyCodes.DOWN, [KeyCodes.CTRL]),\n      ],\n    },\n  ];\n\n  private menuItems: ContextMenuRegistry.RegistryItem[] = [\n    {\n      displayText: () => getMenuItem(Msg['MOVE_BLOCK'], 'start_move'),\n      preconditionFn: (scope, menuOpenEvent) => {\n        const workspace = scope.block?.workspace as WorkspaceSvg | null;\n        if (!workspace || menuOpenEvent instanceof PointerEvent)\n          return 'hidden';\n\n        const startDraggable = this.getCurrentDraggable(workspace);\n        return !!startDraggable && this.mover.canMove(workspace, startDraggable)\n          ? 'enabled'\n          : 'disabled';\n      },\n      callback: (scope) => {\n        const workspace = scope.block?.workspace as WorkspaceSvg | null;\n        if (!workspace) return false;\n        const startDraggable = this.getCurrentDraggable(workspace);\n        // Focus the start block in case one of its fields or a shadow block\n        // was focused when the move was triggered.\n        if (startDraggable) {\n          getFocusManager().focusNode(startDraggable);\n        }\n        return (\n          !!startDraggable &&\n          this.mover.startMove(workspace, startDraggable, MoveType.Move, null)\n        );\n      },\n      scopeType: ContextMenuRegistry.ScopeType.BLOCK,\n      id: 'move',\n      weight: 8.5,\n    },\n    {\n      displayText: () =>\n        getMenuItem(Msg['MOVE_COMMENT'] ?? 'Move Comment', 'start_move'),\n      preconditionFn: (scope, menuOpenEvent) => {\n        const comment = scope.comment;\n        if (!comment) return 'hidden';\n\n        return this.mover.canMove(comment.workspace, comment)\n          ? 'enabled'\n          : 'disabled';\n      },\n      callback: (scope) => {\n        const comment = scope.comment;\n        if (!comment) return false;\n        this.mover.startMove(comment.workspace, comment, MoveType.Move, null);\n      },\n      scopeType: ContextMenuRegistry.ScopeType.COMMENT,\n      id: 'move_comment',\n      weight: 8.5,\n    },\n  ];\n\n  private registerShortcuts() {\n    for (const shortcut of this.shortcuts) {\n      ShortcutRegistry.registry.register(shortcut);\n    }\n  }\n\n  private registerMenuItems() {\n    for (const menuItem of this.menuItems) {\n      ContextMenuRegistry.registry.register(menuItem);\n    }\n  }\n\n  /**\n   * Install the actions as both keyboard shortcuts and (where\n   * applicable) context menu items.\n   */\n  install() {\n    this.registerShortcuts();\n    this.registerMenuItems();\n  }\n\n  /**\n   * Uninstall these actions.\n   */\n  uninstall() {\n    for (const shortcut of this.shortcuts) {\n      ShortcutRegistry.registry.unregister(shortcut.name);\n    }\n    for (const menuItem of this.menuItems) {\n      ContextMenuRegistry.registry.unregister(menuItem.id);\n    }\n  }\n\n  /**\n   * Get the source draggable for the cursor location, or undefined if no\n   * source draggable can be found.\n   * If the cursor is on a shadow block, walks up the tree until it finds\n   * a non-shadow block to drag.\n   *\n   * @param workspace The workspace to inspect for a cursor.\n   * @returns The source draggable, or undefined if no appropriate draggable\n   *     could be found.\n   */\n  getCurrentDraggable(\n    workspace: WorkspaceSvg,\n  ): (IDraggable & IFocusableNode & IBoundedElement & ISelectable) | undefined {\n    const node = getFocusManager().getFocusedNode();\n    if (node instanceof comments.RenderedWorkspaceComment) return node;\n\n    const block = workspace.getCursor().getSourceBlock();\n    if (!block) return undefined;\n\n    const nonShadowBlock = getNonShadowBlock(block);\n    if (!nonShadowBlock) {\n      throw new Error(\n        'Tried to drag a shadow block with no parent. ' +\n          'Shadow blocks should always have parents.',\n      );\n    }\n    return nonShadowBlock;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {\n  IDragger,\n  IDragStrategy,\n  RenderedConnection,\n  IDraggable,\n  IFocusableNode,\n  IBoundedElement,\n  ISelectable,\n} from 'blockly';\nimport {\n  Connection,\n  dragging,\n  getFocusManager,\n  registry,\n  utils,\n  WorkspaceSvg,\n  ShortcutRegistry,\n  BlockSvg,\n  comments,\n} from 'blockly';\nimport * as Constants from '../constants';\nimport {Direction, getXYFromDirection} from '../drag_direction';\nimport {KeyboardDragStrategy} from '../keyboard_drag_strategy';\nimport {Navigation} from '../navigation';\nimport {clearMoveHints} from '../hints';\nimport {MoveIndicatorBubble} from '../move_indicator';\nimport {isWorkspaceElement, isBlocklyUIElement} from '../dom_utils';\n\n/**\n * The distance to move an item, in workspace coordinates, when\n * making an unconstrained move.\n */\nconst UNCONSTRAINED_MOVE_DISTANCE = 20;\n\n/**\n * The amount of additional padding to include during a constrained move.\n */\nconst CONSTRAINED_ADDITIONAL_PADDING = 70;\n\n/**\n * Identifier for a keyboard shortcut that commits the in-progress move.\n */\nexport const COMMIT_MOVE_SHORTCUT = 'commitMove';\n\n/**\n * Whether this is an insert or a move.\n */\nexport enum MoveType {\n  /**\n   * An insert will remove the block if the move is aborted.\n   */\n  Insert,\n  /**\n   * A regular move of a pre-existing block.\n   */\n  Move,\n}\n\n/**\n * Low-level code for moving elements with keyboard shortcuts.\n */\nexport class Mover {\n  /**\n   * Map of moves in progress.\n   *\n   * An entry for a given workspace in this map means that the this\n   * Mover is moving an element on that workspace, and will disable\n   * normal cursor movement until the move is complete.\n   */\n  protected moves: Map<WorkspaceSvg, MoveInfo> = new Map();\n\n  /** Original drag strategies per-block (WeakMap for automatic garbage collection). */\n  private oldDragStrategies: WeakMap<BlockSvg, IDragStrategy> = new WeakMap();\n\n  private moveIndicator?: MoveIndicatorBubble;\n\n  /** Whether connection highlighting is enabled for moves. */\n  private highlightConnections: boolean;\n\n  /** Whether to use fatter connection highlights with larger click targets. */\n  private fatterConnections: boolean = true;\n\n  /** Connection highlight size: minimal, medium, or large. */\n  private connectionSize: 'minimal' | 'medium' | 'large' = 'medium';\n\n  /** Optional callback to check if auto-scrolling should be disabled. */\n  private shouldDisableAutoScroll?: () => boolean;\n\n  constructor(\n    protected navigation: Navigation,\n    highlightConnections = true,\n    shouldDisableAutoScroll?: () => boolean,\n  ) {\n    this.highlightConnections = highlightConnections;\n    this.shouldDisableAutoScroll = shouldDisableAutoScroll;\n  }\n\n  /**\n   * Returns true iff we are able to begin moving the draggable element which\n   * currently has focus on the given workspace.\n   *\n   * @param workspace The workspace to move on.\n   * @param draggable The draggable element to try to drag.\n   * @returns True iff we can begin a move.\n   */\n  canMove(workspace: WorkspaceSvg, draggable: IDraggable) {\n    return !!(\n      this.navigation.getState() === Constants.STATE.WORKSPACE &&\n      this.navigation.canCurrentlyEdit(workspace) &&\n      !this.moves.has(workspace) && // No move in progress.\n      draggable?.isMovable()\n    );\n  }\n\n  /**\n   * Returns true iff we are currently moving an element on the given\n   * workspace.\n   *\n   * @param workspace The workspace we might be moving on.\n   * @returns True iff we are moving.\n   */\n  isMoving(workspace: WorkspaceSvg) {\n    return (\n      this.navigation.canCurrentlyEdit(workspace) && this.moves.has(workspace)\n    );\n  }\n\n  /**\n   * Enable or disable connection highlighting during move operations.\n   *\n   * @param enabled Whether to show connection highlights.\n   */\n  setHighlightConnections(enabled: boolean): void {\n    this.highlightConnections = enabled;\n  }\n\n  /**\n   * Enable or disable fatter connection highlights.\n   *\n   * @param enabled Whether to use fatter connections with larger click targets.\n   */\n  setFatterConnections(enabled: boolean): void {\n    this.fatterConnections = enabled;\n    this.connectionSize = enabled ? 'medium' : 'minimal';\n    // Update any active drag strategies\n    for (const [_workspace, moveInfo] of this.moves) {\n      const dragStrategy = (moveInfo.draggable as any).dragStrategy;\n      if (dragStrategy instanceof KeyboardDragStrategy) {\n        dragStrategy.setFatterConnections(enabled);\n      }\n    }\n  }\n\n  /**\n   * Set the connection highlight size.\n   *\n   * @param size The size level: 'minimal', 'medium', or 'large'.\n   */\n  setConnectionSize(size: 'minimal' | 'medium' | 'large'): void {\n    this.connectionSize = size;\n    this.fatterConnections = size !== 'minimal';\n    // Update any active drag strategies\n    for (const [_workspace, moveInfo] of this.moves) {\n      const dragStrategy = (moveInfo.draggable as any).dragStrategy;\n      if (dragStrategy instanceof KeyboardDragStrategy) {\n        dragStrategy.setConnectionSize(size);\n      }\n    }\n  }\n\n  /**\n   * Start moving the currently-focused item on workspace, if\n   * possible.\n   *\n   * Should only be called if canMove has returned true.\n   *\n   * @param workspace The workspace we might be moving on.\n   * @param draggable The element to start dragging.\n   * @param moveType Whether this is an insert or a move.\n   * @param startPoint Where to start the move, or null to use the current\n   *     location if any.\n   * @returns True iff a move has successfully begun.\n   * @param onMoveFinished Optional callback when move finishes.\n   */\n  startMove(\n    workspace: WorkspaceSvg,\n    draggable: IDraggable & IFocusableNode & IBoundedElement & ISelectable,\n    moveType: MoveType,\n    startPoint: RenderedConnection | null,\n    onMoveFinished?: () => void,\n  ) {\n    if (draggable instanceof BlockSvg) {\n      this.patchDragStrategy(draggable, moveType, startPoint, onMoveFinished);\n    } else if (draggable instanceof comments.RenderedWorkspaceComment) {\n      this.moveIndicator = new MoveIndicatorBubble(draggable);\n    }\n    // Begin dragging element.\n    const DraggerClass = registry.getClassFromOptions(\n      registry.Type.BLOCK_DRAGGER,\n      workspace.options,\n      true,\n    );\n    if (!DraggerClass) throw new Error('no Dragger registered');\n    const dragger = new DraggerClass(draggable, workspace);\n\n    // Set up a blur listener to end the move if the user clicks away\n      const blurListener = (evt: Event) => {\n      const event = evt as FocusEvent;\n\n      const dragStrategy = (draggable as any).dragStrategy;\n      const isClickAndStick = dragStrategy?.isClickAndStickMode?.();\n\n      const newFocusTarget = event.relatedTarget as any;\n      const activeElement = document.activeElement;\n\n      // Special case: if newFocusTarget is null and activeElement is body,\n      // it means we clicked on a non-focusable element (like divs in options panel).\n      // This is most likely clicking outside Blockly UI, so abort the move.\n      const blurredToBody = !newFocusTarget && activeElement?.tagName === 'BODY';\n\n      if (blurredToBody) {\n        this.abortMove(workspace);\n        return;\n      }\n\n      // Check if we explicitly clicked on a Blockly UI element\n      const newTargetIsBlockly = newFocusTarget ? isBlocklyUIElement(newFocusTarget) : false;\n      const activeIsBlockly = activeElement && activeElement.tagName !== 'BODY' ? isBlocklyUIElement(activeElement) : false;\n      const clickedOutsideBlockly = newFocusTarget && !newTargetIsBlockly && !activeIsBlockly;\n\n      if (clickedOutsideBlockly) {\n        // Abort the move if clicking outside the Blockly UI entirely\n        this.abortMove(workspace);\n        return;\n      }\n\n      if (!isClickAndStick) {\n        // In normal move mode: check if we're clicking on a connection highlight\n        // Check if the click target is a connection highlight or its descendant\n        const isConnectionHighlight =\n          (newFocusTarget && this.isConnectionHighlightElement(newFocusTarget)) ||\n          (activeElement && this.isConnectionHighlightElement(activeElement));\n\n        // Don't auto-finish if clicking on a connection highlight\n        // The connection click handler will finish the move\n        if (!isConnectionHighlight) {\n          this.finishMove(workspace);\n        }\n        return;\n      }\n\n      // In click-and-stick mode: only auto-finish if focus moved to meaningful UI\n      const isWorkspaceBackground =\n        isWorkspaceElement(newFocusTarget) ||\n        isWorkspaceElement(activeElement);\n\n      if (!isWorkspaceBackground) {\n        this.finishMove(workspace);\n      }\n    };\n    // Record that a move is in progress and start dragging.\n    workspace.setKeyboardMoveInProgress(true);\n    const info = new MoveInfo(workspace, draggable, dragger, blurListener, onMoveFinished);\n    this.moves.set(workspace, info);\n    // Begin drag.\n    dragger.onDragStart(info.fakePointerEvent('pointerdown'));\n    info.updateTotalDelta();\n    // In case a block is detached, ensure that it still retains focus\n    // (otherwise dragging will break). This is also the point a new block's\n    // initial insert position is scrolled into view.\n    workspace.getCursor().setCurNode(draggable);\n    draggable.getFocusableElement().addEventListener('blur', blurListener);\n\n    // Register a keyboard shortcut under the key combos of all existing\n    // keyboard shortcuts that commits the move before allowing the real\n    // shortcut to proceed. This avoids all kinds of fun brokenness when\n    // deleting/copying/otherwise acting on a element in move mode.\n    const shortcutKeys = Object.values(ShortcutRegistry.registry.getRegistry())\n      .flatMap((shortcut) => shortcut.keyCodes)\n      .filter((keyCode) => {\n        return (\n          keyCode &&\n          ![\n            utils.KeyCodes.RIGHT,\n            utils.KeyCodes.LEFT,\n            utils.KeyCodes.UP,\n            utils.KeyCodes.DOWN,\n            utils.KeyCodes.ENTER,\n            utils.KeyCodes.ESC,\n            utils.KeyCodes.M,\n          ].includes(\n            typeof keyCode === 'number'\n              ? keyCode\n              : parseInt(`${keyCode.split('+').pop()}`),\n          )\n        );\n      })\n      // Convince TS there aren't undefined values.\n      .filter((keyCode): keyCode is string | number => !!keyCode);\n\n    const commitMoveShortcut = {\n      name: COMMIT_MOVE_SHORTCUT,\n      preconditionFn: (workspace: WorkspaceSvg) => {\n        return !!this.moves.get(workspace);\n      },\n      callback: (workspace: WorkspaceSvg) => {\n        this.finishMove(workspace);\n        return false;\n      },\n      keyCodes: shortcutKeys,\n      allowCollision: true,\n    };\n\n    ShortcutRegistry.registry.register(commitMoveShortcut);\n\n    return true;\n  }\n\n  /**\n   * Finish moving the currently-focused item on workspace.\n   *\n   * Should only be called if isMoving has returned true.\n   *\n   * @param workspace The workspace on which we are moving.\n   * @returns True iff move successfully finished.\n   */\n  finishMove(workspace: WorkspaceSvg) {\n    if (!this.moves.has(workspace)) {\n      return false;\n    }\n\n    const info = this.preDragEndCleanup(workspace);\n\n    info.dragger.onDragEnd(\n      info.fakePointerEvent('pointerup'),\n      new utils.Coordinate(0, 0),\n    );\n\n    this.postDragEndCleanup(workspace, info);\n    return true;\n  }\n\n  /**\n   * Abort moving the currently-focused item on workspace.\n   *\n   * Should only be called if isMoving has returned true.\n   *\n   * @param workspace The workspace on which we are moving.\n   * @returns True iff move successfully aborted.\n   */\n  abortMove(workspace: WorkspaceSvg) {\n    if (!this.moves.has(workspace)) {\n      return false;\n    }\n\n    const info = this.preDragEndCleanup(workspace);\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const dragStrategy = (info.draggable as any)\n      .dragStrategy as KeyboardDragStrategy;\n    this.patchDragger(info.dragger as dragging.Dragger, dragStrategy.moveType);\n\n    // Save the position so we can put the cursor in a reasonable spot.\n    // @ts-expect-error Access to private property connectionCandidate.\n    const target = dragStrategy.connectionCandidate?.neighbour;\n\n    // Prevent the strategy connecting the block so we just delete one block.\n    // @ts-expect-error Access to private property connectionCandidate.\n    dragStrategy.connectionCandidate = null;\n\n    info.dragger.onDragEnd(\n      info.fakePointerEvent('pointerup'),\n      info.startLocation,\n    );\n\n    if (dragStrategy.moveType === MoveType.Insert && target) {\n      workspace.getCursor().setCurNode(target);\n    }\n\n    this.postDragEndCleanup(workspace, info);\n    return true;\n  }\n\n  /**\n   * Common clean-up for finish/abort.\n   *\n   * @param workspace The workspace on which we are moving.\n   * @returns The info for the element.\n   */\n  private preDragEndCleanup(workspace: WorkspaceSvg) {\n    ShortcutRegistry.registry.unregister(COMMIT_MOVE_SHORTCUT);\n    clearMoveHints(workspace);\n\n    const info = this.moves.get(workspace);\n    if (!info) throw new Error('no move info for workspace');\n\n    // Remove the blur listener before ending the drag\n    info.draggable\n      .getFocusableElement()\n      .removeEventListener('blur', info.blurListener);\n\n    return info;\n  }\n\n  /**\n   * Common clean-up for finish/abort.\n   *\n   * @param workspace The workspace on which we are moving.\n   * @param info The info for the element.\n   */\n  private postDragEndCleanup(workspace: WorkspaceSvg, info: MoveInfo) {\n    this.moveIndicator?.dispose();\n    this.moveIndicator = undefined;\n    if (info.draggable instanceof BlockSvg) {\n      this.unpatchDragStrategy(info.draggable);\n    }\n    this.moves.delete(workspace);\n    workspace.setKeyboardMoveInProgress(false);\n\n    if (info.onMoveFinished) {\n      info.onMoveFinished();\n    }\n\n    // Render on next frame for proper block positioning\n    requestAnimationFrame(() => {\n      if (info.draggable instanceof BlockSvg) {\n        let rootBlock = info.draggable;\n        let parent = info.draggable.getParent();\n        while (parent instanceof BlockSvg) {\n          rootBlock = parent;\n          parent = parent.getParent() as BlockSvg;\n        }\n\n        rootBlock.render();\n\n        if (rootBlock !== info.draggable) {\n          info.draggable.render();\n        }\n      }\n\n      workspace.render();\n      this.scrollCurrentElementIntoView(workspace);\n      getFocusManager().focusNode(info.draggable);\n    });\n  }\n\n  /**\n   * Action to move the item being moved in the given direction,\n   * constrained to valid attachment points (if any).\n   *\n   * @param workspace The workspace to move on.\n   * @param direction The direction to move the dragged item.\n   * @returns True iff this action applies and has been performed.\n   */\n  moveConstrained(workspace: WorkspaceSvg, direction: Direction) {\n    if (!workspace) return false;\n    const info = this.moves.get(workspace);\n    if (!info) throw new Error('no move info for workspace');\n\n    if (info.draggable instanceof comments.RenderedWorkspaceComment) {\n      return this.moveUnconstrained(workspace, direction);\n    }\n\n    info.dragger.onDrag(\n      info.fakePointerEvent('pointermove', direction),\n      info.totalDelta.clone().scale(workspace.scale),\n    );\n\n    info.updateTotalDelta();\n    this.scrollCurrentElementIntoView(\n      workspace,\n      CONSTRAINED_ADDITIONAL_PADDING,\n    );\n    return true;\n  }\n\n  /**\n   * Action to move the item being moved in the given direction,\n   * without constraint.\n   *\n   * @param workspace The workspace to move on.\n   * @param direction The direction to move the dragged item.\n   * @returns True iff this action applies and has been performed.\n   */\n  moveUnconstrained(workspace: WorkspaceSvg, direction: Direction): boolean {\n    if (!workspace) return false;\n    const info = this.moves.get(workspace);\n    if (!info) throw new Error('no move info for workspace');\n\n    const {x, y} = getXYFromDirection(direction);\n    info.totalDelta.x += x * UNCONSTRAINED_MOVE_DISTANCE * workspace.scale;\n    info.totalDelta.y += y * UNCONSTRAINED_MOVE_DISTANCE * workspace.scale;\n\n    info.dragger.onDrag(\n      info.fakePointerEvent('pointermove'),\n      info.totalDelta.clone().scale(workspace.scale),\n    );\n    this.scrollCurrentElementIntoView(workspace);\n    this.moveIndicator?.updateLocation();\n    return true;\n  }\n\n  /**\n   * Monkeypatch: replace the block's drag strategy and cache the old value.\n   *\n   * @param block The block to patch.\n   * @param moveType Whether this is an insert or a move.\n   * @param startPoint Where to start the move, or null to use the current\n   *     location if any.\n   * @param onMoveFinished\n   */\n  private patchDragStrategy(\n    block: BlockSvg,\n    moveType: MoveType,\n    startPoint: RenderedConnection | null,\n    onMoveFinished?: () => void,\n  ) {\n    // @ts-expect-error block.dragStrategy is private.\n    const currentStrategy = block.dragStrategy;\n\n    this.oldDragStrategies.set(block, currentStrategy);\n\n    const onMoveComplete = () => {\n      const workspace = block.workspace as WorkspaceSvg;\n      this.finishMove(workspace);\n    };\n\n    const keyboardDragStrategy = new KeyboardDragStrategy(\n      block,\n      moveType,\n      startPoint,\n      this.highlightConnections,\n      onMoveComplete,\n      onMoveFinished,\n    );\n    keyboardDragStrategy.setFatterConnections(this.fatterConnections);\n    keyboardDragStrategy.setConnectionSize(this.connectionSize);\n    block.setDragStrategy(keyboardDragStrategy);\n  }\n\n  /**\n   * Undo the monkeypatching of the block's drag strategy.\n   *\n   * @param block The block to patch.\n   */\n  private unpatchDragStrategy(block: BlockSvg) {\n    try {\n      // @ts-expect-error block.dragStrategy is private\n      const currentStrategy = block.dragStrategy;\n      if (currentStrategy instanceof KeyboardDragStrategy) {\n        currentStrategy.setClickAndStickMode(false);\n        currentStrategy.connectionHighlighter.clearHighlights();\n      }\n\n      const oldStrategy = this.oldDragStrategies.get(block);\n      if (oldStrategy) {\n        block.setDragStrategy(oldStrategy);\n        this.oldDragStrategies.delete(block);\n      }\n    } catch (error) {\n      // Silently fail during cleanup\n    }\n  }\n\n  /**\n   * Scrolls the current element into view.\n   *\n   * @param workspace The workspace to get current element from.\n   * @param padding Amount of spacing to put between the bounds and the edge of\n   *     the workspace's viewport.\n   */\n  private scrollCurrentElementIntoView(workspace: WorkspaceSvg, padding = 0) {\n    if (this.shouldDisableAutoScroll?.()) {\n      return;\n    }\n\n    const draggable = this.moves.get(workspace)?.draggable;\n    if (draggable) {\n      const bounds = (\n        draggable instanceof BlockSvg\n          ? draggable.getBoundingRectangleWithoutChildren()\n          : draggable.getBoundingRectangle()\n      ).clone();\n      bounds.top -= padding;\n      bounds.bottom += padding;\n      bounds.left -= padding;\n      bounds.right += padding;\n      workspace.scrollBoundsIntoView(bounds);\n    }\n  }\n\n  /**\n   * Checks if an element is a connection highlight or is contained within one.\n   *\n   * @param element The element to check.\n   * @returns True if the element is or is inside a connection highlight.\n   */\n  private isConnectionHighlightElement(element: any): boolean {\n    if (!element || !element.classList) return false;\n\n    // Check if this element or any ancestor has the connection highlight class\n    let current = element;\n    while (current) {\n      if (\n        current.classList?.contains('blocklyPotentialConnection') ||\n        current.classList?.contains('blocklyConnectionHighlightLayer')\n      ) {\n        return true;\n      }\n      current = current.parentElement;\n    }\n    return false;\n  }\n\n  /**\n   * Monkeypatch: override either wouldDeleteDraggable or shouldReturnToStart,\n   * based on whether this was an insertion of a new block or a movement of\n   * an existing element.\n   *\n   * @param dragger The dragger to patch.\n   * @param moveType Whether this is an insert or a move.\n   */\n  private patchDragger(dragger: dragging.Dragger, moveType: MoveType) {\n    if (moveType === MoveType.Insert) {\n      // Monkey patch dragger to trigger delete.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (dragger as any).wouldDeleteDraggable = () => true;\n    } else {\n      // Monkey patch dragger to trigger call to draggable.revertDrag.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (dragger as any).shouldReturnToStart = () => true;\n    }\n  }\n}\n\n/**\n * Information about the currently in-progress move for a given\n * Workspace.\n */\nexport class MoveInfo {\n  /** Total distance moved, in workspace units. */\n  totalDelta = new utils.Coordinate(0, 0);\n  readonly parentNext: Connection | null = null;\n  readonly parentInput: Connection | null = null;\n  readonly startLocation: utils.Coordinate;\n  readonly onMoveFinished?: () => void;\n\n  constructor(\n    readonly workspace: WorkspaceSvg,\n    readonly draggable: IDraggable & IFocusableNode & IBoundedElement,\n    readonly dragger: IDragger,\n    readonly blurListener: EventListener,\n    onMoveFinished?: () => void,\n  ) {\n    if (draggable instanceof BlockSvg) {\n      this.parentNext = draggable.previousConnection?.targetConnection ?? null;\n      this.parentInput = draggable.outputConnection?.targetConnection ?? null;\n    }\n    this.startLocation = draggable.getRelativeToSurfaceXY();\n    this.onMoveFinished = onMoveFinished;\n  }\n\n  /**\n   * Create a fake pointer event for dragging.\n   *\n   * @param type Which type of pointer event to create.\n   * @param direction The direction if this movement is a constrained drag.\n   * @returns A synthetic PointerEvent that can be consumed by Blockly's\n   *     dragging code.\n   */\n  fakePointerEvent(type: string, direction?: Direction): PointerEvent {\n    const coordinates = utils.svgMath.wsToScreenCoordinates(\n      this.workspace,\n      new utils.Coordinate(\n        this.startLocation.x + this.totalDelta.x,\n        this.startLocation.y + this.totalDelta.y,\n      ),\n    );\n    const tilts = getXYFromDirection(direction);\n    return new PointerEvent(type, {\n      clientX: coordinates.x,\n      clientY: coordinates.y,\n      tiltX: tilts.x,\n      tiltY: tilts.y,\n    });\n  }\n\n  /**\n   * The keyboard drag may have moved a block to an appropriate location\n   * for a preview. Update the saved delta to reflect the element's new\n   * location, so that it does not jump during the next unconstrained move.\n   */\n  updateTotalDelta() {\n    if (this.draggable instanceof BlockSvg) {\n      this.totalDelta = new utils.Coordinate(\n        this.draggable.relativeCoords.x - this.startLocation.x,\n        this.draggable.relativeCoords.y - this.startLocation.y,\n      );\n    } else {\n      this.totalDelta = new utils.Coordinate(\n        this.draggable.getBoundingRectangle().left - this.startLocation.x,\n        this.draggable.getBoundingRectangle().top - this.startLocation.y,\n      );\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ShortcutRegistry, WorkspaceSvg, utils} from 'blockly/core';\nimport * as Constants from '../constants';\n\n/**\n * Class for registering a shortcut for quick movement between top level bounds\n * in the workspace.\n */\nexport class StackNavigationAction {\n  private stackShortcuts: ShortcutRegistry.KeyboardShortcut[] = [];\n\n  install() {\n    const preconditionFn = (workspace: WorkspaceSvg) =>\n      !!getCurNodeRoot(workspace);\n\n    function getCurNodeRoot(workspace: WorkspaceSvg) {\n      const cursor = workspace.getCursor();\n      // The fallback case includes workspace comments.\n      return cursor.getSourceBlock()?.getRootBlock() ?? cursor.getCurNode();\n    }\n\n    const previousStackShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.PREVIOUS_STACK,\n      preconditionFn,\n      callback: (workspace) => {\n        const curNodeRoot = getCurNodeRoot(workspace);\n        if (!curNodeRoot) return false;\n        const prevRoot = workspace\n          .getNavigator()\n          .getPreviousSibling(curNodeRoot);\n        if (!prevRoot) return false;\n        workspace.getCursor().setCurNode(prevRoot);\n        return true;\n      },\n      keyCodes: [utils.KeyCodes.B],\n    };\n\n    const nextStackShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.NEXT_STACK,\n      preconditionFn,\n      callback: (workspace) => {\n        const curNodeRoot = getCurNodeRoot(workspace);\n        if (!curNodeRoot) return false;\n        const nextRoot = workspace.getNavigator().getNextSibling(curNodeRoot);\n        if (!nextRoot) return false;\n        workspace.getCursor().setCurNode(nextRoot);\n        return true;\n      },\n      keyCodes: [utils.KeyCodes.N],\n    };\n\n    ShortcutRegistry.registry.register(previousStackShortcut);\n    this.stackShortcuts.push(previousStackShortcut);\n    ShortcutRegistry.registry.register(nextStackShortcut);\n    this.stackShortcuts.push(nextStackShortcut);\n  }\n\n  /**\n   * Unregisters the shortcut.\n   */\n  uninstall() {\n    this.stackShortcuts.forEach((shortcut) =>\n      ShortcutRegistry.registry.unregister(shortcut.name),\n    );\n    this.stackShortcuts.length = 0;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ShortcutRegistry,\n  utils as BlocklyUtils,\n  keyboardNavigationController,\n} from 'blockly';\nimport * as Constants from '../constants';\nimport type {WorkspaceSvg} from 'blockly';\nimport {Navigation} from '../navigation';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\nconst createSerializedKey = ShortcutRegistry.registry.createSerializedKey.bind(\n  ShortcutRegistry.registry,\n);\n\n/**\n * Logic for free movement of the cursor on the workspace with keyboard\n * shortcuts.\n */\nexport class WorkspaceMovement {\n  constructor(private navigation: Navigation) {}\n\n  private shortcuts: ShortcutRegistry.KeyboardShortcut[] = [\n    /** Move the cursor on the workspace to the left. */\n    {\n      name: Constants.SHORTCUT_NAMES.MOVE_WS_CURSOR_LEFT,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyEdit(workspace),\n      callback: (workspace) => this.moveWSCursor(workspace, -1, 0),\n      keyCodes: [createSerializedKey(KeyCodes.A, [KeyCodes.SHIFT])],\n    },\n    /** Move the cursor on the workspace to the right. */\n    {\n      name: Constants.SHORTCUT_NAMES.MOVE_WS_CURSOR_RIGHT,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyEdit(workspace),\n      callback: (workspace) => this.moveWSCursor(workspace, 1, 0),\n      keyCodes: [createSerializedKey(KeyCodes.D, [KeyCodes.SHIFT])],\n    },\n    /** Move the cursor on the workspace up. */\n    {\n      name: Constants.SHORTCUT_NAMES.MOVE_WS_CURSOR_UP,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyEdit(workspace),\n      callback: (workspace) => this.moveWSCursor(workspace, 0, -1),\n      keyCodes: [createSerializedKey(KeyCodes.W, [KeyCodes.SHIFT])],\n    },\n\n    /** Move the cursor on the workspace down. */\n    {\n      name: Constants.SHORTCUT_NAMES.MOVE_WS_CURSOR_DOWN,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyEdit(workspace),\n      callback: (workspace) => this.moveWSCursor(workspace, 0, 1),\n      keyCodes: [createSerializedKey(KeyCodes.S, [KeyCodes.SHIFT])],\n    },\n\n    /** Move the cursor to the workspace. */\n    {\n      name: Constants.SHORTCUT_NAMES.CREATE_WS_CURSOR,\n      preconditionFn: (workspace) => {\n        return true;\n      },\n      callback: (workspace) => {\n        const targetWorkspace = workspace.isFlyout\n          ? workspace.targetWorkspace\n          : workspace;\n        if (!targetWorkspace) return false;\n        keyboardNavigationController.setIsActive(true);\n        return this.createWSCursor(targetWorkspace);\n      },\n      keyCodes: [KeyCodes.W],\n    },\n  ];\n\n  /**\n   * Install the shortcuts.\n   */\n  install() {\n    for (const shortcut of this.shortcuts) {\n      ShortcutRegistry.registry.register(shortcut);\n    }\n  }\n\n  /**\n   * Uninstall the shortcuts.\n   */\n  uninstall() {\n    for (const shortcut of this.shortcuts) {\n      ShortcutRegistry.registry.unregister(shortcut.name);\n    }\n  }\n\n  /**\n   * Moves the workspace cursor in the given direction.\n   *\n   * @param workspace The workspace the cursor is on.\n   * @param xDirection -1 to move cursor left. 1 to move cursor right.\n   * @param yDirection -1 to move cursor up. 1 to move cursor down.\n   * @returns True if the current node is a workspace, false\n   *     otherwise.\n   */\n  moveWSCursor(\n    workspace: WorkspaceSvg,\n    xDirection: number,\n    yDirection: number,\n  ): boolean {\n    return false;\n  }\n\n  /**\n   * Moves the cursor to the workspace near the origin.\n   *\n   * @param workspace The workspace the cursor is on.\n   */\n  createWSCursor(workspace: WorkspaceSvg) {\n    workspace.getCursor().setCurNode(workspace);\n    return true;\n  }\n}\n","/**\n * Auto-generated build information.\n * This file is generated at build time and should not be edited manually.\n */\n\nexport interface BuildInfo {\n  gitSha: string;\n  isDirty: boolean;\n  buildTime: string;\n  versionLabel: string;\n}\n\nexport const BUILD_INFO: BuildInfo = {\n  gitSha: 'b44994f',\n  isDirty: true,\n  buildTime: '2025-11-19T19:11:06.512Z',\n  versionLabel: 'b44994f*',\n};\n\n// Hot reload integration: expose build info globally for development\n// This allows the UI to detect when build info has been updated\nif (typeof window !== 'undefined') {\n  (window as any).__BUILD_INFO__ = BUILD_INFO;\n\n  // Also notify any existing build info components of the update\n  if (typeof window.dispatchEvent === 'function') {\n    setTimeout(() => {\n      const event = new CustomEvent('buildInfoUpdated', {\n        detail: BUILD_INFO\n      });\n      window.dispatchEvent(event);\n    }, 100);\n  }\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {BUILD_INFO} from './build_info';\n\n/**\n * Creates and returns a build info UI component showing git SHA and build time.\n * This component displays in the bottom-right corner of the page.\n *\n * @returns The build info DOM element.\n */\nexport function createBuildInfoComponent(): HTMLElement {\n  const buildInfo = document.createElement('div');\n  buildInfo.id = 'build-info';\n  buildInfo.className = 'build-info';\n\n  // Format the build time for display\n  const buildDate = new Date(BUILD_INFO.buildTime);\n  const timeString = buildDate.toLocaleString();\n\n  buildInfo.innerHTML = `\n    <div class=\"build-info-content\">\n      <div class=\"build-version\">\n        <span class=\"build-label\">Version:</span>\n        <span class=\"build-value\">${BUILD_INFO.versionLabel}</span>\n      </div>\n      <div class=\"build-time\">\n        <span class=\"build-label\">Built:</span>\n        <span class=\"build-value\">${timeString}</span>\n      </div>\n    </div>\n  `;\n\n  return buildInfo;\n}\n\n/**\n * Registers CSS styles for the build info component.\n * Should be called before creating the component.\n */\nexport function registerBuildInfoStyles(): void {\n  const style = document.createElement('style');\n  style.textContent = `\n    .build-info {\n      position: fixed;\n      bottom: 10px;\n      right: 10px;\n      background: rgba(0, 0, 0, 0.8);\n      color: #ffffff;\n      padding: 8px 12px;\n      border-radius: 6px;\n      font-family: monospace;\n      font-size: 11px;\n      line-height: 1.4;\n      z-index: 10000;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      min-width: 200px;\n    }\n\n    .build-info-content {\n      display: flex;\n      flex-direction: column;\n      gap: 2px;\n    }\n\n    .build-info .build-version,\n    .build-info .build-time {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .build-info .build-label {\n      color: #aaaaaa;\n      margin-right: 8px;\n    }\n\n    .build-info .build-value {\n      color: #ffffff;\n      font-weight: bold;\n    }\n\n    /* Make build info hover-able for better UX */\n    .build-info:hover {\n      background: rgba(0, 0, 0, 0.9);\n      transform: scale(1.05);\n      transition: all 0.2s ease;\n    }\n\n    /* Mobile responsiveness */\n    @media (max-width: 768px) {\n      .build-info {\n        bottom: 5px;\n        right: 5px;\n        padding: 6px 8px;\n        font-size: 10px;\n        min-width: 150px;\n      }\n    }\n  `;\n\n  document.head.appendChild(style);\n}\n\n/**\n * Updates the build info component with fresh build information.\n * This can be called when hot reloading to refresh the build time.\n *\n * @param element The build info element to update.\n */\nexport function updateBuildInfo(element: HTMLElement): void {\n  const buildDate = new Date(BUILD_INFO.buildTime);\n  const timeString = buildDate.toLocaleString();\n\n  const versionEl = element.querySelector('.build-version .build-value');\n  const timeEl = element.querySelector('.build-time .build-value');\n\n  if (versionEl) {\n    versionEl.textContent = BUILD_INFO.versionLabel;\n  }\n  if (timeEl) {\n    timeEl.textContent = timeString;\n  }\n}\n\n/**\n * Gets fresh build info from the global scope (populated by webpack HMR)\n * or falls back to the static BUILD_INFO if not available.\n *\n * @returns The current build info.\n */\nfunction getFreshBuildInfo(): typeof BUILD_INFO {\n  // Check if there's a global build info (from webpack dev server hot reload)\n  if (typeof window !== 'undefined' && (window as any).__BUILD_INFO__) {\n    return (window as any).__BUILD_INFO__;\n  }\n  return BUILD_INFO;\n}\n\n/**\n * Starts auto-refresh functionality for the build info component.\n * This listens for build events from the webpack plugin and updates the UI immediately.\n *\n * @param element The build info element to update.\n * @param fallbackIntervalMs Fallback polling interval if events aren't available (default: 5000ms).\n * @returns A function to stop the auto-refresh.\n */\nexport function startBuildInfoAutoRefresh(\n  element: HTMLElement,\n  fallbackIntervalMs = 5000\n): () => void {\n  let lastBuildTime = BUILD_INFO.buildTime;\n\n  // Function to update the UI with new build info\n  const updateUI = (buildInfo: typeof BUILD_INFO) => {\n    const buildDate = new Date(buildInfo.buildTime);\n    const timeString = buildDate.toLocaleString();\n\n    const versionEl = element.querySelector('.build-version .build-value');\n    const timeEl = element.querySelector('.build-time .build-value');\n\n    if (versionEl) {\n      versionEl.textContent = buildInfo.versionLabel;\n    }\n    if (timeEl) {\n      timeEl.textContent = timeString;\n    }\n\n    // Add a brief visual indication of the update\n    element.style.transform = 'scale(1.05)';\n    element.style.transition = 'transform 0.2s ease';\n    setTimeout(() => {\n      element.style.transform = 'scale(1)';\n    }, 200);\n\n    console.log(` Build info updated: ${buildInfo.versionLabel} (${timeString})`);\n  };\n\n  // Primary method: listen for custom events from webpack plugin\n  const eventListener = (event: CustomEvent) => {\n    const freshBuildInfo = event.detail;\n    if (freshBuildInfo && freshBuildInfo.buildTime !== lastBuildTime) {\n      lastBuildTime = freshBuildInfo.buildTime;\n      updateUI(freshBuildInfo);\n    }\n  };\n\n  // Add event listener for webpack-triggered updates\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('buildInfoUpdated', eventListener as EventListener);\n  }\n\n  // Fallback method: periodic polling (for cases where webpack integration isn't available)\n  const intervalId = setInterval(() => {\n    const freshBuildInfo = getFreshBuildInfo();\n\n    if (freshBuildInfo && freshBuildInfo.buildTime !== lastBuildTime) {\n      lastBuildTime = freshBuildInfo.buildTime;\n      updateUI(freshBuildInfo);\n    }\n  }, fallbackIntervalMs);\n\n  // Return cleanup function\n  return () => {\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('buildInfoUpdated', eventListener as EventListener);\n    }\n    clearInterval(intervalId);\n  };\n}","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  BlockSvg,\n  RenderedConnection,\n  WorkspaceSvg,\n  utils,\n  ConnectionType,\n} from 'blockly';\n\n/** Maximum number of connections to highlight for performance. */\nconst MAX_HIGHLIGHTED_CONNECTIONS = 50;\n\n/** Delay in milliseconds before retrying DOM insertion for highlights. */\nconst HIGHLIGHT_RETRY_DELAY_MS = 10;\n\n/**\n * Represents a valid connection pair between a moving block and a target.\n */\nexport interface ValidConnection {\n  /** A connection on the dragging block that can connect. */\n  local: RenderedConnection;\n  /** A connection on the workspace that can accept the local connection. */\n  neighbour: RenderedConnection;\n  /** The distance between the connections (for sorting/filtering). */\n  distance: number;\n}\n\n/**\n * Manages visual highlighting of valid connection points during block moves.\n * Provides visual feedback showing all possible destinations for a moving block.\n */\nexport class ConnectionHighlighter {\n  /** Set of DOM elements that have highlighting applied. */\n  private highlightedElements: Set<Element> = new Set();\n\n  /** Map from highlight elements to their corresponding connections. */\n  private elementToConnection: WeakMap<Element, RenderedConnection> =\n    new WeakMap();\n\n  /** Map from highlight elements to their original connection coordinates for updating. */\n  private elementToOriginalCoords: WeakMap<\n    Element,\n    {connection: RenderedConnection; type: string}\n  > = new WeakMap();\n\n  /** The workspace this highlighter is operating on. */\n  private workspace: WorkspaceSvg;\n\n  /** Callback for handling connection clicks. */\n  private onConnectionClick?: (connection: RenderedConnection) => void;\n\n  /** Scroll event listener for updating highlight positions. */\n  private scrollListener?: () => void;\n\n  /** Connection highlight size: minimal, medium, or large. */\n  private connectionSize: 'minimal' | 'medium' | 'large' = 'medium';\n\n  /**\n   * Whether ancestor connections visually overlap descendant connections in this renderer.\n   * True for Zelos (connections overlap), false for Geras/Thrasos (connections don't overlap).\n   */\n  private ancestorConnectionsOverlap: boolean;\n\n  /** Separate SVG group layer for all highlights, rendered on top of blocks. */\n  private highlightLayer: SVGGElement | null = null;\n\n  /** Set of blocks that have highlights, used to detect overlapping descendants. */\n  private highlightedBlocks: Set<BlockSvg> = new Set();\n\n  constructor(\n    workspace: WorkspaceSvg,\n    onConnectionClick?: (connection: RenderedConnection) => void,\n  ) {\n    this.workspace = workspace;\n    this.onConnectionClick = onConnectionClick;\n\n    // Zelos: ancestor connections visually overlap descendants\n    // Geras/Thrasos: connections render side-by-side without overlapping\n    const rendererName = workspace.getRenderer().constructor.name.toLowerCase();\n    this.ancestorConnectionsOverlap = rendererName.includes('zelos');\n\n    this.scrollListener = () => {\n      this.updateHighlights();\n    };\n\n    // Create a separate highlight layer at workspace level\n    this.createHighlightLayer();\n  }\n\n  /**\n   * Creates a dedicated SVG layer for highlights that renders on top of all blocks.\n   */\n  private createHighlightLayer(): void {\n    // Append to parent SVG (above workspace group) to avoid coordinate transform issues\n    const parentSvg = this.workspace.getParentSvg();\n    if (parentSvg) {\n      this.highlightLayer = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n      this.highlightLayer.setAttribute('class', 'blocklyConnectionHighlightLayer');\n      parentSvg.appendChild(this.highlightLayer);\n    }\n  }\n\n  /**\n   * Enable or disable fatter connection highlights.\n   * Kept for backwards compatibility.\n   *\n   * @param enabled Whether to use fatter connections with larger click targets.\n   */\n  setFatterConnections(enabled: boolean): void {\n    this.connectionSize = enabled ? 'medium' : 'minimal';\n  }\n\n  /**\n   * Set the connection highlight size.\n   *\n   * @param size The size level: 'minimal', 'medium', or 'large'.\n   */\n  setConnectionSize(size: 'minimal' | 'medium' | 'large'): void {\n    this.connectionSize = size;\n  }\n\n  /**\n   * Highlights all valid connection points for the given moving block.\n   *\n   * @param movingBlock The block being moved.\n   * @param allConnections All available connections on the workspace.\n   * @param localConnections Connections available on the moving block.\n   */\n  highlightValidConnections(\n    movingBlock: BlockSvg,\n    allConnections: RenderedConnection[],\n    localConnections: RenderedConnection[],\n  ): ValidConnection[] {\n    this.clearHighlights();\n\n    const validConnections = this.findAllValidConnections(\n      movingBlock,\n      allConnections,\n      localConnections,\n    );\n\n    // Apply visual highlighting to each valid connection\n    // Sort by AST depth (parents first) so child highlights are added after and render on top\n    const validConnectionsSorted = validConnections.sort((a, b) => {\n      const depthA = this.getBlockDepth(a.neighbour.getSourceBlock());\n      const depthB = this.getBlockDepth(b.neighbour.getSourceBlock());\n      // Render shallower blocks first, then deeper blocks (child highlights added last)\n      return depthA - depthB;\n    });\n\n    for (const validConnection of validConnectionsSorted) {\n      const sourceBlock = validConnection.neighbour.getSourceBlock();\n      if (!(sourceBlock instanceof BlockSvg)) continue;\n\n      // Check if any ancestor block already has a highlight\n      const hasAncestorHighlight = this.hasAncestorWithHighlight(sourceBlock);\n\n      // Create the highlight (fully transparent if ancestor has one)\n      this.highlightConnection(validConnection.neighbour, hasAncestorHighlight);\n\n      // Track this block as having a highlight\n      this.highlightedBlocks.add(sourceBlock);\n    }\n\n    // Update highlight positions when workspace scrolls\n    if (this.scrollListener) {\n      const svgGroup = this.workspace.getSvgGroup();\n      if (svgGroup) {\n        this.workspace.addChangeListener(this.scrollListener);\n      }\n    }\n\n    return validConnections;\n  }\n\n  /**\n   * Finds all valid connections between the moving block and workspace connections.\n   *\n   * @param movingBlock The block being moved.\n   * @param allConnections All available connections on the workspace.\n   * @param localConnections Connections available on the moving block.\n   * @returns Array of valid connection pairs.\n   */\n  private findAllValidConnections(\n    movingBlock: BlockSvg,\n    allConnections: RenderedConnection[],\n    localConnections: RenderedConnection[],\n  ): ValidConnection[] {\n    const validConnections: ValidConnection[] = [];\n    const connectionChecker = movingBlock.workspace.connectionChecker;\n\n    for (const localConn of localConnections) {\n      for (const potentialNeighbour of allConnections) {\n        // Skip connections on the moving block itself or its descendants\n        if (this.getFilterReason(potentialNeighbour, movingBlock)) {\n          continue;\n        }\n\n        // Skip connections already occupied by the moving block\n        // (e.g., a color value block already in the moving block's color input)\n        if (potentialNeighbour.targetConnection &&\n            localConnections.includes(potentialNeighbour.targetConnection as RenderedConnection)) {\n          continue;\n        }\n\n        // Only highlight where the moving block can attach TO other blocks,\n        // not where other blocks would insert INTO the moving block's inputs.\n        // Valid: OUTPUTINPUT, PREVIOUSNEXT, NEXTPREVIOUS\n        const isValidDirection =\n          (localConn.type === ConnectionType.OUTPUT_VALUE &&\n           potentialNeighbour.type === ConnectionType.INPUT_VALUE) ||\n          (localConn.type === ConnectionType.PREVIOUS_STATEMENT &&\n           potentialNeighbour.type === ConnectionType.NEXT_STATEMENT) ||\n          (localConn.type === ConnectionType.NEXT_STATEMENT &&\n           potentialNeighbour.type === ConnectionType.PREVIOUS_STATEMENT);\n\n        if (!isValidDirection) {\n          continue;\n        }\n\n        // Check type compatibility and add to results\n        if (connectionChecker.canConnect(localConn, potentialNeighbour, true, Infinity)) {\n          validConnections.push({\n            local: localConn,\n            neighbour: potentialNeighbour,\n            distance: this.calculateDistance(localConn, potentialNeighbour),\n          });\n        }\n      }\n    }\n\n    // Sort by distance and limit for performance.\n    // Use stable sort to preserve spatial ordering when distances are equal.\n    // We track original indices to guarantee stability across all JS engines.\n    const indexed = validConnections.map((conn, index) => ({conn, index}));\n    indexed.sort((a, b) => {\n      const distanceDiff = a.conn.distance - b.conn.distance;\n      // If distances differ, sort by distance (closer connections first)\n      if (distanceDiff !== 0) return distanceDiff;\n      // If distances are equal, preserve original order from allConnections\n      return a.index - b.index;\n    });\n\n    return indexed.slice(0, MAX_HIGHLIGHTED_CONNECTIONS).map(item => item.conn);\n  }\n\n  /**\n   * Applies visual highlighting to a single connection.\n   *\n   * @param connection The connection to highlight.\n   * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n   */\n  private highlightConnection(connection: RenderedConnection, isOverlapping: boolean = false) {\n    try {\n      this.createConnectionVisualization(connection, isOverlapping);\n    } catch (error) {\n      console.debug('Failed to highlight connection (non-critical):', error);\n    }\n  }\n\n  /**\n   * Creates connection-type-appropriate visual highlight.\n   *\n   * @param connection The connection to create a highlight for.\n   * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n   */\n  private createConnectionVisualization(connection: RenderedConnection, isOverlapping: boolean = false) {\n    const sourceBlock = connection.getSourceBlock();\n    if (!(sourceBlock instanceof BlockSvg)) return;\n\n    const workspace = sourceBlock.workspace;\n    const svgGroup = workspace.getSvgGroup();\n    if (!svgGroup) return;\n\n    let highlight: SVGElement;\n\n    switch (connection.type) {\n      case ConnectionType.PREVIOUS_STATEMENT:\n      case ConnectionType.NEXT_STATEMENT:\n        highlight = this.createStatementNotch(connection, workspace, isOverlapping);\n        break;\n\n      case ConnectionType.INPUT_VALUE:\n      case ConnectionType.OUTPUT_VALUE:\n        highlight = this.createValueOutline(connection, workspace, isOverlapping);\n        break;\n\n      default:\n        return;\n    }\n\n    if (highlight) {\n      // Store metadata for click handling\n      highlight.setAttribute('data-connection-x', connection.x.toString());\n      highlight.setAttribute('data-connection-y', connection.y.toString());\n      highlight.setAttribute(\n        'data-connection-type',\n        connection.type.toString(),\n      );\n\n      this.elementToConnection.set(highlight, connection);\n      this.elementToOriginalCoords.set(highlight, {\n        connection: connection,\n        type: highlight.tagName.toLowerCase(),\n      });\n\n      // Enable connection selection via click\n      if (this.onConnectionClick) {\n        const clickHandler = (event: Event) => {\n          event.stopPropagation();\n          this.onConnectionClick!(connection);\n        };\n        highlight.addEventListener('click', clickHandler);\n        highlight.addEventListener('pointerdown', clickHandler);\n      }\n    }\n  }\n\n  /**\n   * Creates a notch-style highlight for statement connections.\n   * Attached to block's SVG to follow block movement during stack rearrangement.\n   *\n   * @param connection The statement connection to highlight.\n   * @param workspace The workspace for coordinate transformation.\n   * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n   * @returns The SVG element representing the notch.\n   */\n  private createStatementNotch(\n    connection: RenderedConnection,\n    workspace: WorkspaceSvg,\n    isOverlapping: boolean = false,\n  ): SVGElement {\n    const sourceBlock = connection.getSourceBlock();\n    if (!(sourceBlock instanceof BlockSvg)) {\n      throw new Error('Source block is not a BlockSvg');\n    }\n\n    const renderer = sourceBlock.workspace.getRenderer();\n    const constants = renderer.getConstants();\n    const connectionShape = constants.shapeFor(connection);\n\n    if (!connectionShape || !(connectionShape as any).pathLeft) {\n      throw new Error('No connection shape available');\n    }\n\n    const xLen = constants.NOTCH_OFFSET_LEFT - constants.CORNER_RADIUS;\n    const pathLeft = (connectionShape as any).pathLeft;\n    const notchWidth = (connectionShape as any).width;\n\n    let highlightPath: string;\n\n    if (this.connectionSize === 'minimal') {\n      // Minimal: simple notch outline\n      highlightPath = (\n        `M ${-xLen} 0 ` +\n        `h ${xLen} ` +\n        pathLeft +\n        `h ${xLen}`\n      );\n    } else {\n      // Medium/Large: flat-top, notched-bottom shape for larger click target\n      const topPadding = this.connectionSize === 'large' ? 6 : 4;\n      const bottomPadding = this.connectionSize === 'large' ? 6 : 4;\n\n      highlightPath = (\n        `M ${-xLen} ${-topPadding} ` +           // Start top-left\n        `v ${topPadding + bottomPadding} ` +     // Go down left side\n        `h ${xLen} ` +                           // Go right to notch start (x=0)\n        pathLeft +                               // Draw notch at bottom\n        `h ${xLen} ` +                           // Go right from notch end\n        `v ${-(topPadding + bottomPadding)} ` +  // Go up right side\n        `h ${-(notchWidth + xLen * 2)} ` +       // Go left across top back to start\n        `Z`                                      // Close path\n      );\n    }\n\n    const highlightSvg = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n    // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n    const coords = this.transformCoordinates(connection.x, connection.y, workspace);\n    const scale = workspace.scale;\n    const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n    const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n\n    highlightSvg.setAttribute('d', highlightPath);\n    highlightSvg.setAttribute('transform', transformation);\n\n    if (isOverlapping && this.ancestorConnectionsOverlap) {\n      highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n    } else {\n      highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n    }\n\n    highlightSvg.setAttribute('stroke-width', '2.5');\n    highlightSvg.setAttribute('stroke-linejoin', 'round');\n    highlightSvg.setAttribute('stroke-linecap', 'round');\n    highlightSvg.setAttribute('class', 'blocklyPotentialConnection');\n    highlightSvg.style.pointerEvents = 'auto';\n    highlightSvg.style.cursor = 'pointer';\n\n    // Add to workspace highlight layer\n    if (this.highlightLayer) {\n      this.highlightLayer.appendChild(highlightSvg);\n      this.highlightedElements.add(highlightSvg);\n    }\n\n    return highlightSvg;\n  }\n\n  /**\n   * Creates a value connection highlight using the renderer's puzzle tab shape.\n   * Manages SVG independently to avoid core rendering lifecycle interference.\n   *\n   * @param connection The value connection to highlight.\n   * @param sourceBlock The block containing the connection.\n   * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n   * @returns The SVG element created, or null if unsuccessful.\n   */\n  private createCoreBasedValueHighlight(\n    connection: RenderedConnection,\n    sourceBlock: BlockSvg,\n    isOverlapping: boolean = false,\n  ): SVGElement | null {\n    try {\n      const renderer = sourceBlock.workspace.getRenderer();\n      const constants = renderer.getConstants();\n\n      const connectionShape = constants.shapeFor(connection);\n      if (!connectionShape) {\n        return null;\n      }\n\n      let connPath = '';\n      let measurableHeight = constants.TAB_HEIGHT;\n\n      if ((connectionShape as any).isDynamic) {\n        const renderInfo = (sourceBlock as any).renderInfo_;\n        if (renderInfo) {\n          const connectionMeasurable = this.findConnectionMeasurable(connection, renderInfo);\n          if (connectionMeasurable && connectionMeasurable.height) {\n            measurableHeight = connectionMeasurable.height;\n          }\n        }\n\n        connPath = (connectionShape as any).pathDown(measurableHeight);\n      } else if ((connectionShape as any).pathDown) {\n        connPath = (connectionShape as any).pathDown;\n      } else {\n        return null;\n      }\n\n      const yLen = constants.TAB_OFFSET_FROM_TOP;\n\n      let highlightPath: string;\n      if (this.connectionSize === 'minimal') {\n        // Minimal: standard thin outline\n        highlightPath = (\n          `M 0 ${-yLen} ` +\n          `v ${yLen} ` +\n          connPath +\n          `v ${yLen}`\n        );\n      } else {\n        // Medium/Large: puzzle tab on left, rectangular extension to right\n        // Size to fit within an empty connection socket (similar to puzzle tab width)\n        const tabWidth = (connectionShape as any).width || constants.TAB_WIDTH || 8;\n        const rightPadding = this.connectionSize === 'large' ? tabWidth * 1.5 : tabWidth;\n        const totalHeight = yLen * 2 + measurableHeight;\n\n        highlightPath = (\n          `M 0 ${-yLen} ` +              // Start above connection\n          `v ${yLen} ` +                  // Down to connection point\n          connPath +                      // Draw the puzzle tab (left side)\n          `v ${yLen} ` +                  // Down to bottom-left\n          `h ${rightPadding} ` +          // Right to bottom-right (fits empty socket)\n          `v ${-totalHeight} ` +          // Up to top-right\n          `h ${-rightPadding} ` +         // Left back to top-left\n          `Z`                             // Close the shape\n        );\n      }\n\n      const highlightSvg = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n      // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n      const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n      const scale = this.workspace.scale;\n      const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n      const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n\n      highlightSvg.setAttribute('d', highlightPath);\n      highlightSvg.setAttribute('transform', transformation);\n\n      if (isOverlapping && this.ancestorConnectionsOverlap) {\n        highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n      } else {\n        highlightSvg.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n      }\n\n      highlightSvg.setAttribute('stroke-width', '8');\n      highlightSvg.setAttribute('class', 'blocklyPotentialConnection');\n      highlightSvg.style.pointerEvents = 'auto';\n      highlightSvg.style.cursor = 'pointer';\n\n      // Add to workspace highlight layer\n      if (this.highlightLayer) {\n        this.highlightLayer.appendChild(highlightSvg);\n\n        this.highlightedElements.add(highlightSvg);\n        this.elementToConnection.set(highlightSvg, connection);\n        this.elementToOriginalCoords.set(highlightSvg, {\n          connection: connection,\n          type: 'path',\n        });\n\n        if (this.onConnectionClick) {\n          const clickHandler = (event: Event) => {\n            event.stopPropagation();\n            this.onConnectionClick!(connection);\n          };\n          highlightSvg.addEventListener('click', clickHandler);\n          highlightSvg.addEventListener('pointerdown', clickHandler);\n        }\n\n        return highlightSvg;\n      }\n\n    } catch (error) {\n      console.debug('Failed to create core-based value highlight, using fallback:', error);\n    }\n\n    return null;\n  }\n\n  /**\n   * Finds the connection measurable object from render info that corresponds to the given connection.\n   *\n   * @param connection The rendered connection to find.\n   * @param renderInfo The block's render info.\n   * @returns The connection measurable, or null if not found.\n   */\n  private findConnectionMeasurable(connection: RenderedConnection, renderInfo: any): any {\n    if (!renderInfo || !renderInfo.rows) {\n      return null;\n    }\n\n    // Search through all rows and elements to find the matching connection\n    for (const row of renderInfo.rows) {\n      if (row.elements) {\n        for (const element of row.elements) {\n          if (element.connectionModel === connection) {\n            return element;\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Creates an outline highlight for value connections.\n   * Uses renderer-based shapes for Geras/Thrasos, falls back to rounded rect for Zelos.\n   *\n   * @param connection The value connection to highlight.\n   * @param workspace The workspace for coordinate transformation.\n   * @param isOverlapping Whether this connection overlaps with an ancestor connection.\n   * @returns The SVG element representing the value outline.\n   */\n  private createValueOutline(\n    connection: RenderedConnection,\n    workspace: WorkspaceSvg,\n    isOverlapping: boolean = false,\n  ): SVGElement {\n    const sourceBlock = connection.getSourceBlock();\n    if (sourceBlock instanceof BlockSvg) {\n      const renderer = sourceBlock.workspace.getRenderer();\n      const rendererName = renderer.constructor.name;\n      const isZelos = rendererName.toLowerCase().includes('zelos');\n\n      // Use core shapes for Geras/Thrasos (Zelos requires unavailable renderInfo)\n      if (!isZelos) {\n        const shapeHighlight = this.createCoreBasedValueHighlight(connection, sourceBlock, isOverlapping);\n        if (shapeHighlight) {\n          shapeHighlight.setAttribute('data-already-in-dom', 'true');\n          return shapeHighlight;\n        }\n      }\n    }\n\n    // Fallback rounded rect for Zelos or if core shapes unavailable\n    // Add to workspace highlight layer for proper z-order\n    const socketBounds = this.getActualSocketBounds(connection, workspace);\n    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n\n    // Transform workspace coordinates to SVG coordinates (highlight layer is at parent SVG level)\n    if (sourceBlock instanceof BlockSvg) {\n      const coords = this.transformCoordinates(socketBounds.x, socketBounds.y, workspace);\n      const scale = workspace.scale;\n      const cornerRadius = Math.min(socketBounds.height / 2, 25);\n\n      rect.setAttribute('x', coords.x.toString());\n      rect.setAttribute('y', coords.y.toString());\n      rect.setAttribute('width', (socketBounds.width * scale).toString());\n      rect.setAttribute('height', (socketBounds.height * scale).toString());\n      rect.setAttribute('rx', cornerRadius.toString());\n      rect.setAttribute('ry', cornerRadius.toString());\n\n      if (isOverlapping && this.ancestorConnectionsOverlap) {\n        rect.setAttribute('fill', 'rgba(0, 255, 0, 0)');\n      } else {\n        rect.setAttribute('fill', 'rgba(0, 255, 0, 0.7)');\n      }\n\n      rect.setAttribute('stroke-width', '6');\n      rect.setAttribute('stroke-dasharray', '3,3');\n      rect.setAttribute('class', 'blocklyPotentialConnection');\n      rect.style.pointerEvents = 'auto';\n      rect.style.cursor = 'pointer';\n\n      // Add to workspace highlight layer\n      if (this.highlightLayer) {\n        this.highlightLayer.appendChild(rect);\n\n        this.highlightedElements.add(rect);\n        this.elementToConnection.set(rect, connection);\n        this.elementToOriginalCoords.set(rect, {\n          connection: connection,\n          type: 'rect',\n        });\n\n        if (this.onConnectionClick) {\n          const clickHandler = (event: Event) => {\n            event.stopPropagation();\n            this.onConnectionClick!(connection);\n          };\n          rect.addEventListener('click', clickHandler);\n          rect.addEventListener('pointerdown', clickHandler);\n        }\n\n        return rect;\n      }\n    }\n\n    // Fallback if highlight layer not available\n    throw new Error('Failed to add rect highlight to workspace layer');\n  }\n\n  /**\n   * Gets bounds for socket contents or reasonable defaults.\n   *\n   * @param connection The value connection to analyze.\n   * @param workspace The workspace for coordinate reference.\n   * @returns Bounds object with x, y, width, height.\n   */\n  private getActualSocketBounds(\n    connection: RenderedConnection,\n    workspace: WorkspaceSvg,\n  ): {x: number; y: number; width: number; height: number} {\n    try {\n      const targetBlock = connection.targetBlock();\n      if (targetBlock && targetBlock instanceof BlockSvg) {\n        const blockBounds = targetBlock.getBoundingRectangle();\n        return {\n          x: blockBounds.left,\n          y: blockBounds.top,\n          width: blockBounds.right - blockBounds.left,\n          height: blockBounds.bottom - blockBounds.top,\n        };\n      }\n\n      const shadowBlock = connection.getShadowDom();\n      if (shadowBlock && connection.targetConnection) {\n        const shadowTargetBlock = connection.targetConnection.getSourceBlock();\n        if (shadowTargetBlock && shadowTargetBlock instanceof BlockSvg) {\n          const shadowBounds = shadowTargetBlock.getBoundingRectangle();\n          return {\n            x: shadowBounds.left,\n            y: shadowBounds.top,\n            width: shadowBounds.right - shadowBounds.left,\n            height: shadowBounds.bottom - shadowBounds.top,\n          };\n        }\n      }\n\n      const sourceBlock = connection.getSourceBlock();\n      if (sourceBlock && sourceBlock instanceof BlockSvg) {\n        const input = this.findInputForConnection(sourceBlock, connection);\n        if (input) {\n          const estimatedBounds = this.estimateInputBounds(input, connection);\n          if (estimatedBounds) {\n            return estimatedBounds;\n          }\n        }\n      }\n\n      return {\n        x: connection.x,\n        y: connection.y - 15,\n        width: 80,\n        height: 30,\n      };\n    } catch (error) {\n      console.debug('Failed to get socket bounds, using defaults:', error);\n      return {\n        x: connection.x,\n        y: connection.y - 15,\n        width: 80,\n        height: 30,\n      };\n    }\n  }\n\n  /**\n   * Finds the input that contains the given connection.\n   *\n   * @param block The block to search.\n   * @param connection The connection to find.\n   * @returns The input containing the connection, or null.\n   */\n  private findInputForConnection(\n    block: BlockSvg,\n    connection: RenderedConnection,\n  ): any {\n    const inputs = block.inputList;\n    for (const input of inputs) {\n      if (input.connection === connection) {\n        return input;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Estimates bounds for an input based on field content.\n   *\n   * @param input The input to estimate bounds for.\n   * @param connection The connection for positioning reference.\n   * @returns Estimated bounds or null if cannot determine.\n   */\n  private estimateInputBounds(\n    input: any,\n    connection: RenderedConnection,\n  ): {x: number; y: number; width: number; height: number} | null {\n    try {\n      if (input.fieldRow && input.fieldRow.length > 0) {\n        let totalWidth = 0;\n        const maxHeight = 30;\n\n        for (const field of input.fieldRow) {\n          if (field.getText) {\n            const text = field.getText();\n            const fieldWidth = Math.max(text.length * 8 + 20, 40);\n            totalWidth += fieldWidth;\n          } else {\n            totalWidth += 40;\n          }\n        }\n\n        return {\n          x: connection.x,\n          y: connection.y - maxHeight / 2,\n          width: totalWidth,\n          height: maxHeight,\n        };\n      }\n\n      return null;\n    } catch (error) {\n      console.debug('Failed to estimate input bounds:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Transforms workspace coordinates to SVG coordinates.\n   *\n   * @param x Workspace x coordinate.\n   * @param y Workspace y coordinate.\n   * @param workspace The workspace for transformation parameters.\n   * @returns Transformed coordinates.\n   */\n  private transformCoordinates(\n    x: number,\n    y: number,\n    workspace: WorkspaceSvg,\n  ): {x: number; y: number} {\n    const scale = workspace.scale;\n    const translation = workspace.getOriginOffsetInPixels();\n\n    return {\n      x: x * scale + translation.x,\n      y: y * scale + translation.y,\n    };\n  }\n\n  /**\n   * Returns why a connection should be filtered, or null if valid.\n   *\n   * @param connection The connection to check.\n   * @param movingBlock The block being moved.\n   * @returns The filter reason string, or null if not filtered.\n   */\n  private getFilterReason(\n    connection: RenderedConnection,\n    movingBlock: BlockSvg,\n  ): string | null {\n    const sourceBlock = connection.getSourceBlock();\n    if (!sourceBlock) return 'no-source-block';\n\n    if (sourceBlock.isInsertionMarker()) return 'insertion-marker';\n\n    // Filter out connections that would require moving an immoveable block\n    // Case 1: PREVIOUS/OUTPUT connections on immoveable blocks (inserting before would push them)\n    if (\n      !sourceBlock.isMovable() &&\n      (connection.type === ConnectionType.PREVIOUS_STATEMENT ||\n        connection.type === ConnectionType.OUTPUT_VALUE)\n    ) {\n      return 'immoveable-block-source';\n    }\n\n    // Case 2: NEXT/INPUT connections that are already occupied by immoveable blocks\n    // (inserting would push the immoveable target aside)\n    const targetConnection = connection.targetConnection;\n    if (targetConnection) {\n      const targetBlock = targetConnection.getSourceBlock();\n      if (targetBlock && !targetBlock.isMovable()) {\n        if (\n          connection.type === ConnectionType.NEXT_STATEMENT ||\n          connection.type === ConnectionType.INPUT_VALUE\n        ) {\n          return 'immoveable-block-target';\n        }\n      }\n    }\n\n    if (sourceBlock === movingBlock) return 'moving-block';\n\n    // Include all descendants including input value blocks (true parameter)\n    // This prevents highlighting connections on blocks inside the moving block's inputs\n    const movingDescendants = movingBlock.getDescendants(true);\n    if (movingDescendants.includes(sourceBlock as BlockSvg)) {\n      return 'moving-block-descendant';\n    }\n\n    return null;\n  }\n\n  /**\n   * Checks if connection should be filtered (on moving block or preview).\n   *\n   * @param connection The connection to check.\n   * @param movingBlock The block being moved.\n   * @returns True if the connection should be filtered out.\n   */\n  private isConnectionOnMovingBlock(\n    connection: RenderedConnection,\n    movingBlock: BlockSvg,\n  ): boolean {\n    return this.getFilterReason(connection, movingBlock) !== null;\n  }\n\n  /**\n   * Calculates the distance between two connections.\n   *\n   * @param conn1 First connection.\n   * @param conn2 Second connection.\n   * @returns The distance between the connections.\n   */\n  private calculateDistance(\n    conn1: RenderedConnection,\n    conn2: RenderedConnection,\n  ): number {\n    const dx = conn1.x - conn2.x;\n    const dy = conn1.y - conn2.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Calculates the depth of a block in the AST (how many parents it has).\n   * Top-level blocks have depth 0, their children have depth 1, etc.\n   *\n   * @param block The block to measure depth for.\n   * @returns The depth of the block in the tree.\n   */\n  private getBlockDepth(block: BlockSvg | null): number {\n    if (!block) return 0;\n\n    let depth = 0;\n    let current = block;\n\n    // Walk up the parent chain counting levels\n    while (current) {\n      const parent = current.getParent();\n      if (!parent) break;\n      depth++;\n      current = parent as BlockSvg;\n    }\n\n    return depth;\n  }\n\n  /**\n   * Checks if any ancestor block has a highlight.\n   * Only follows OUTPUTINPUT value connection chains, not statement chains.\n   * Used to make descendant highlights transparent to avoid visual clutter.\n   *\n   * @param block The block to check.\n   * @returns True if any value parent has a highlight.\n   */\n  private hasAncestorWithHighlight(block: BlockSvg): boolean {\n    let current = block;\n\n    // Only follow value parent chain (blocks connected via OUTPUT/INPUT)\n    while (current) {\n      const outputConnection = current.outputConnection;\n      if (!outputConnection || !outputConnection.isConnected()) {\n        // No output connection or not connected, stop searching\n        break;\n      }\n\n      // Get the parent block this output is connected to\n      const targetConnection = outputConnection.targetConnection;\n      if (!targetConnection) break;\n\n      const parent = targetConnection.getSourceBlock();\n      if (!parent || !(parent instanceof BlockSvg)) break;\n\n      // Check if this parent has a highlight\n      if (this.highlightedBlocks.has(parent)) {\n        return true;\n      }\n\n      // Continue up the value parent chain\n      current = parent;\n    }\n\n    return false;\n  }\n\n  /**\n   * Removes all connection highlighting.\n   */\n  clearHighlights(): void {\n    if (this.scrollListener) {\n      this.workspace.removeChangeListener(this.scrollListener);\n    }\n\n    for (const element of this.highlightedElements) {\n      try {\n        if (element instanceof SVGElement) {\n          element.remove();\n        } else if (element.parentNode) {\n          element.parentNode.removeChild(element);\n        }\n      } catch (error) {\n        // Silently fail - element may have already been removed\n      }\n    }\n\n    this.highlightedElements.clear();\n    this.highlightedBlocks.clear();\n  }\n\n  /**\n   * Updates highlight positions based on workspace scroll and zoom.\n   */\n  updateHighlights(): void {\n    for (const element of this.highlightedElements) {\n      const coordsInfo = this.elementToOriginalCoords.get(element);\n      if (!coordsInfo) continue;\n\n      const {connection, type} = coordsInfo;\n\n      try {\n        switch (type) {\n          case 'circle':\n            this.updateCirclePosition(element as SVGCircleElement, connection);\n            break;\n          case 'path':\n            this.updatePathPosition(element as SVGPathElement, connection);\n            break;\n          case 'rect':\n            this.updateRectPosition(element as SVGRectElement, connection);\n            break;\n        }\n      } catch (error) {\n        console.debug('Failed to update highlight position:', error);\n      }\n    }\n  }\n\n  /**\n   * Updates the position of a circle highlight element.\n   *\n   * @param circle The circle element to update.\n   * @param connection The connection this circle represents.\n   */\n  private updateCirclePosition(\n    circle: SVGCircleElement,\n    connection: RenderedConnection,\n  ): void {\n    const coords = this.transformCoordinates(\n      connection.x,\n      connection.y,\n      this.workspace,\n    );\n    circle.setAttribute('cx', coords.x.toString());\n    circle.setAttribute('cy', coords.y.toString());\n  }\n\n  /**\n   * Updates the position of a path highlight element.\n   * Paths are in the highlight layer at parent SVG level.\n   *\n   * @param path The path element to update.\n   * @param connection The connection this path represents.\n   */\n  private updatePathPosition(\n    path: SVGPathElement,\n    connection: RenderedConnection,\n  ): void {\n    const sourceBlock = connection.getSourceBlock();\n    if (!(sourceBlock instanceof BlockSvg)) return;\n\n    // Transform workspace coordinates to SVG coordinates\n    const coords = this.transformCoordinates(connection.x, connection.y, this.workspace);\n    const scale = this.workspace.scale;\n    const scaleTransform = sourceBlock.RTL ? ` scale(${-scale} ${scale})` : ` scale(${scale})`;\n    const transformation = `translate(${coords.x}, ${coords.y})${scaleTransform}`;\n    path.setAttribute('transform', transformation);\n  }\n\n  /**\n   * Updates the position of a rect highlight (value connections).\n   * Rects are in the highlight layer at parent SVG level.\n   *\n   * @param rect The rect element to update.\n   * @param connection The connection this rect represents.\n   */\n  private updateRectPosition(\n    rect: SVGRectElement,\n    connection: RenderedConnection,\n  ): void {\n    const socketBounds = this.getActualSocketBounds(connection, this.workspace);\n    const coords = this.transformCoordinates(socketBounds.x, socketBounds.y, this.workspace);\n    const scale = this.workspace.scale;\n\n    rect.setAttribute('x', coords.x.toString());\n    rect.setAttribute('y', coords.y.toString());\n    rect.setAttribute('width', (socketBounds.width * scale).toString());\n    rect.setAttribute('height', (socketBounds.height * scale).toString());\n  }\n\n  /**\n   * Checks if a point (in screen coordinates) intersects with any highlighted connection.\n   *\n   * @param screenX Screen X coordinate.\n   * @param screenY Screen Y coordinate.\n   * @returns The connection at the point, or null if no connection found.\n   */\n  findConnectionAtPoint(screenX: number, screenY: number): RenderedConnection | null {\n    for (const element of this.highlightedElements) {\n      const bounds = element.getBoundingClientRect();\n      if (screenX >= bounds.left && screenX <= bounds.right &&\n          screenY >= bounds.top && screenY <= bounds.bottom) {\n        const connection = this.elementToConnection.get(element);\n        if (connection) {\n          return connection;\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Gets bounding boxes for all currently highlighted connections.\n   *\n   * @returns Array of connection bounds information.\n   */\n  getHighlightedConnectionBounds(): Array<{\n    connection: RenderedConnection;\n    bounds: DOMRect;\n    element: Element;\n  }> {\n    const results: Array<{connection: RenderedConnection; bounds: DOMRect; element: Element}> = [];\n\n    for (const element of this.highlightedElements) {\n      const connection = this.elementToConnection.get(element);\n      if (connection) {\n        const bounds = element.getBoundingClientRect();\n        results.push({\n          connection,\n          bounds,\n          element\n        });\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * Disposes of the highlighter and cleans up all resources.\n   */\n  dispose(): void {\n    this.clearHighlights();\n\n    // Remove the highlight layer\n    if (this.highlightLayer && this.highlightLayer.parentNode) {\n      this.highlightLayer.parentNode.removeChild(this.highlightLayer);\n      this.highlightLayer = null;\n    }\n  }\n}","/* eslint-disable @typescript-eslint/naming-convention */\n// The rules expect camel or pascal case enum members and record properties.\n\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Constants for keyboard navigation.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\nimport {Msg} from 'blockly/core';\n\n/**\n * Keyboard navigation states.\n * The different parts of Blockly that the user navigates between.\n */\nexport enum STATE {\n  NOWHERE = 'nowhere',\n  WORKSPACE = 'workspace',\n  FLYOUT = 'flyout',\n  TOOLBOX = 'toolbox',\n}\n\n/**\n * Default keyboard navigation shortcut names.\n */\nexport enum SHORTCUT_NAMES {\n  UP = 'up',\n  DOWN = 'down',\n  RIGHT = 'right',\n  LEFT = 'left',\n  NEXT_STACK = 'next_stack',\n  PREVIOUS_STACK = 'previous_stack',\n  // Unused.\n  INSERT = 'insert',\n  EDIT_OR_CONFIRM = 'edit_or_confirm',\n  DISCONNECT = 'disconnect',\n  TOOLBOX = 'toolbox',\n  EXIT = 'exit',\n  MENU = 'menu',\n  COPY = 'keyboard_nav_copy',\n  CUT = 'keyboard_nav_cut',\n  PASTE = 'keyboard_nav_paste',\n  DUPLICATE = 'duplicate',\n  MOVE_WS_CURSOR_UP = 'workspace_up',\n  MOVE_WS_CURSOR_DOWN = 'workspace_down',\n  MOVE_WS_CURSOR_LEFT = 'workspace_left',\n  MOVE_WS_CURSOR_RIGHT = 'workspace_right',\n  CREATE_WS_CURSOR = 'to_workspace',\n  LIST_SHORTCUTS = 'list_shortcuts',\n  CLEAN_UP = 'clean_up_workspace',\n  START_MOVE = 'start_move',\n}\n\nexport const SHORTCUT_NAMES_TO_DISPLAY_TEXT: Record<string, string> = {\n  'keyboard_nav_copy': Msg['Copy'] || 'Copy',\n  'keyboard_nav_cut': Msg['Cut'] || 'Cut',\n  'keyboard_nav_paste': Msg['Paste'] || 'Paste',\n  'start_move': Msg['MOVE_BLOCK'] || 'Move',\n};\n\n/**\n * Types of possible messages passed into the loggingCallback in the Navigation\n * class.\n */\nexport enum LOGGING_MSG_TYPE {\n  ERROR = 'error',\n  WARN = 'warn',\n  LOG = 'log',\n}\n\n/**\n * Categories used to organised the shortcut dialog.\n * Shortcut name should match those obtained from the Blockly shortcut register.\n */\nexport const SHORTCUT_CATEGORIES: Record<\n  string,\n  // Also allow undo/redo. Document the non-keyboard-nav versions of others for\n  // better text because temporarily the name in the table is derived from\n  // these id-like names.\n  Array<SHORTCUT_NAMES | 'undo' | 'redo' | 'delete'>\n> = {};\n\nSHORTCUT_CATEGORIES[Msg['SHORTCUTS_GENERAL']] = [\n  SHORTCUT_NAMES.MENU,\n  SHORTCUT_NAMES.EDIT_OR_CONFIRM,\n  SHORTCUT_NAMES.EXIT,\n  SHORTCUT_NAMES.TOOLBOX,\n  SHORTCUT_NAMES.CLEAN_UP,\n  SHORTCUT_NAMES.LIST_SHORTCUTS,\n];\n\nSHORTCUT_CATEGORIES[Msg['SHORTCUTS_EDITING']] = [\n  'delete',\n  SHORTCUT_NAMES.DISCONNECT,\n  SHORTCUT_NAMES.START_MOVE,\n  SHORTCUT_NAMES.CUT,\n  SHORTCUT_NAMES.COPY,\n  SHORTCUT_NAMES.PASTE,\n  SHORTCUT_NAMES.DUPLICATE,\n  'undo',\n  'redo',\n];\n\nSHORTCUT_CATEGORIES[Msg['SHORTCUTS_CODE_NAVIGATION']] = [\n  SHORTCUT_NAMES.UP,\n  SHORTCUT_NAMES.DOWN,\n  SHORTCUT_NAMES.RIGHT,\n  SHORTCUT_NAMES.LEFT,\n  SHORTCUT_NAMES.NEXT_STACK,\n  SHORTCUT_NAMES.PREVIOUS_STACK,\n  SHORTCUT_NAMES.CREATE_WS_CURSOR,\n];\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\n\nconst lastBlockDisabledReasons: Map<string, Set<string>> = new Map();\n\n/**\n * A change listener that enables disabled blocks when they\n * are dragged, and re-disables them at the end of the drag.\n *\n * @param event Blockly event\n */\nexport function enableBlocksOnDrag(event: Blockly.Events.Abstract) {\n  // This listener only runs on Drag events that have a valid\n  // workspace and block id.\n  if (!isBlockDrag(event)) return;\n  if (!event.blockId) return;\n  const eventWorkspace = Blockly.common.getWorkspaceById(\n    event.workspaceId,\n  ) as Blockly.WorkspaceSvg;\n  const block = eventWorkspace.getBlockById(event.blockId);\n  if (!block) return;\n\n  const oldUndo = Blockly.Events.getRecordUndo();\n  Blockly.Events.setRecordUndo(false);\n\n  if (event.isStart) {\n    // At start of drag, reset the lastBlockDisabledReasons\n    lastBlockDisabledReasons.clear();\n\n    // Enable all blocks including childeren\n    enableAllDraggedBlocks(block);\n  } else {\n    // Re-disable the block for its original reasons. If the block is no\n    // longer an orphan, the disableOrphans handler will enable the block.\n    redisableAllDraggedBlocks(block);\n  }\n\n  Blockly.Events.setRecordUndo(oldUndo);\n}\n\n/**\n * Enables all blocks including children of the dragged blocks.\n * Stores the reasons each block was disabled so they can be restored.\n *\n * @param block\n */\nfunction enableAllDraggedBlocks(block: Blockly.BlockSvg) {\n  // getDescendants includes the block itself.\n  block.getDescendants(false).forEach((descendant) => {\n    const reasons = new Set(descendant.getDisabledReasons());\n    lastBlockDisabledReasons.set(descendant.id, reasons);\n    reasons.forEach((reason) => descendant.setDisabledReason(false, reason));\n  });\n}\n\n/**\n * Re-disables all blocks using their original disabled reasons.\n *\n * @param block\n */\nfunction redisableAllDraggedBlocks(block: Blockly.BlockSvg) {\n  block.getDescendants(false).forEach((descendant) => {\n    lastBlockDisabledReasons.get(descendant.id)?.forEach((reason) => {\n      descendant.setDisabledReason(true, reason);\n    });\n  });\n}\n\n/**\n * Type guard for drag events.\n *\n * @param event\n * @returns true iff event.type is EventType.BLOCK_DRAG\n */\nfunction isBlockDrag(\n  event: Blockly.Events.Abstract,\n): event is Blockly.Events.BlockDrag {\n  return event.type === Blockly.Events.BLOCK_DRAG;\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Checks if a DOM element or SVG target is workspace-related.\n * Handles both regular DOM elements and SVG elements (which on touch devices\n * return SVGAnimatedString objects for className).\n *\n * @param target The element to check (can be Element, SVGAnimatedString, or null)\n * @returns True if the target is workspace-related or null/undefined\n */\nexport function isWorkspaceElement(target: any): boolean {\n  // Null/undefined means clicked empty space  workspace\n  if (!target) return true;\n\n  // Handle SVGAnimatedString (happens with SVG elements on touch devices)\n  // These have baseVal and animVal properties containing the actual class name\n  if (target.baseVal !== undefined) {\n    const className = target.baseVal || target.animVal || '';\n    return className.includes('blocklyWorkspace') ||\n           className.includes('blocklyMainBackground') ||\n           className.includes('blocklySvg');\n  }\n\n  // Handle regular DOM elements with classList\n  const classList = target.classList;\n  if (classList) {\n    return classList.contains('blocklyMainBackground') ||\n           classList.contains('blocklySvg') ||\n           classList.contains('blocklyWorkspace');\n  }\n\n  return false;\n}\n\n/**\n * Checks if a DOM element is part of the Blockly UI (workspace, toolbox, flyout, etc.)\n * or is completely outside the Blockly context (like control panels, instructions, etc.).\n *\n * @param target The element to check\n * @returns True if the element is part of the Blockly UI, false if it's external UI\n */\nexport function isBlocklyUIElement(target: any): boolean {\n  if (!target) return true; // Null/undefined means empty space\n\n  // Walk up the DOM tree to check if we're inside Blockly's container\n  let current = target;\n  while (current) {\n    // Check for Blockly-specific classes/IDs that indicate we're in the Blockly UI\n    if (current.classList) {\n      if (\n        current.classList.contains('blocklyWorkspace') ||\n        current.classList.contains('blocklyMainBackground') ||\n        current.classList.contains('blocklySvg') ||\n        current.classList.contains('blocklyToolboxDiv') ||\n        current.classList.contains('blocklyFlyout') ||\n        current.classList.contains('blocklyFlyoutBackground') ||\n        current.classList.contains('blocklyWidgetDiv') ||\n        current.classList.contains('blocklyDropDownDiv') ||\n        current.classList.contains('blocklyBlockCanvas') ||\n        current.classList.contains('blocklyBubbleCanvas')\n      ) {\n        return true;\n      }\n    }\n\n    // Check for common Blockly container IDs\n    if (current.id === 'blocklyDiv') {\n      return true;\n    }\n\n    current = current.parentElement;\n  }\n\n  return false;\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport enum Direction {\n  Up = 1,\n  Down,\n  Left,\n  Right,\n}\n\n/**\n * Convert a direction enum into an XY pair.\n *\n * @param dir The direction, or undefined.\n * @returns An object containing x and y values corresponding to the input\n *     direction.\n */\nexport function getXYFromDirection(dir: Direction | undefined): {\n  x: number;\n  y: number;\n} {\n  if (!dir) {\n    return {x: 0, y: 0};\n  }\n  switch (dir) {\n    case Direction.Up:\n      return {x: 0, y: -1};\n    case Direction.Down:\n      return {x: 0, y: 1};\n    case Direction.Left:\n      return {x: -1, y: 0};\n    case Direction.Right:\n      return {x: 1, y: 0};\n  }\n}\n\n/**\n * Convert an XY pair into a direction enum.\n *\n * @param xy The input pair.\n * @param xy.x The x direction, or undefined.\n * @param xy.y The y direction, or undefined.\n * @returns A direction corresponding to the XY pair, or null if they are invalid\n *     or undefined.\n */\nexport function getDirectionFromXY(xy: {\n  x: number | undefined;\n  y: number | undefined;\n}): Direction | null {\n  const {x, y} = xy;\n  if (x == 0) {\n    if (y == -1) {\n      return Direction.Up;\n    } else if (y == 1) {\n      return Direction.Down;\n    }\n  } else if (y == 0) {\n    if (x == -1) {\n      return Direction.Left;\n    } else if (x == 1) {\n      return Direction.Right;\n    }\n  }\n  return null;\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The class representing a cursor used to navigate the flyout.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\nimport * as Blockly from 'blockly/core';\nimport {scrollBoundsIntoView} from './workspace_utilities';\n\n/**\n * Class for a flyout cursor.\n * This controls how a user navigates blocks in the flyout.\n * This cursor only allows a user to go to the previous or next stack.\n */\nexport class FlyoutCursor extends Blockly.LineCursor {\n  /**\n   * The constructor for the FlyoutCursor.\n   *\n   * @param flyout The flyout this cursor is for.\n   */\n  constructor(private readonly flyout: Blockly.IFlyout) {\n    super(flyout.getWorkspace());\n  }\n\n  /**\n   * Moves the cursor to the next stack of blocks in the flyout.\n   *\n   * @returns The next element, or null if the current node is\n   *     not set or there is no next value.\n   */\n  override next(): Blockly.IFocusableNode | null {\n    const curNode = this.getCurNode();\n    if (!curNode) {\n      return null;\n    }\n    const newNode = this.workspace.getNavigator().getNextSibling(curNode);\n\n    if (newNode) {\n      this.setCurNode(newNode);\n    }\n    return newNode;\n  }\n\n  /**\n   * Moves the cursor to the previous stack of blocks in the flyout.\n   *\n   * @returns The previous element, or null if the current\n   *     node is not set or there is no previous value.\n   */\n  override prev(): Blockly.IFocusableNode | null {\n    const curNode = this.getCurNode();\n    if (!curNode) {\n      return null;\n    }\n    const newNode = this.workspace.getNavigator().getPreviousSibling(curNode);\n\n    if (newNode) {\n      this.setCurNode(newNode);\n    }\n    return newNode;\n  }\n\n  override setCurNode(node: Blockly.IFocusableNode) {\n    super.setCurNode(node);\n\n    let bounds: Blockly.utils.Rect | undefined;\n    if (\n      node &&\n      'getBoundingRectangle' in node &&\n      typeof node.getBoundingRectangle === 'function'\n    ) {\n      bounds = node.getBoundingRectangle();\n    } else if (node instanceof Blockly.FlyoutButton) {\n      const {x, y} = node.getPosition();\n      bounds = new Blockly.utils.Rect(y, y + node.height, x, x + node.width);\n    }\n\n    if (!(bounds instanceof Blockly.utils.Rect)) return;\n\n    scrollBoundsIntoView(bounds, this.flyout.getWorkspace());\n  }\n}\n\nexport const registrationType = Blockly.registry.Type.CURSOR;\nexport const registrationName = 'FlyoutCursor';\n\nexport const pluginInfo = {\n  [registrationType.toString()]: registrationName,\n};\n\n/**\n * Registers the FlyoutCursor with Blockly's registry.\n */\nexport function registerFlyoutCursor() {\n  Blockly.registry.register(\n    registrationType,\n    registrationName,\n    FlyoutCursor,\n    true,\n  );\n}\n","/**\n * Centralises hints that we show.\n *\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {Msg, WorkspaceSvg, Toast} from 'blockly';\nimport {SHORTCUT_NAMES} from './constants';\nimport {getShortActionShortcut} from './shortcut_formatting';\n\nconst unconstrainedMoveHintId = 'unconstrainedMoveHint';\nconst constrainedMoveHintId = 'constrainedMoveHint';\nconst copiedHintId = 'copiedHint';\nconst cutHintId = 'cutHint';\nconst helpHintId = 'helpHint';\n\n/**\n * Nudge the user to use unconstrained movement.\n *\n * @param workspace Workspace.\n * @param force Set to show it even if previously shown.\n */\nexport function showUnconstrainedMoveHint(\n  workspace: WorkspaceSvg,\n  force = false,\n) {\n  const enter = getShortActionShortcut(SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n  const modifier = navigator.platform.startsWith('Mac') ? '' : 'Ctrl';\n  const message = `Hold ${modifier} and use arrow keys to move freely, then ${enter} to accept the position`;\n  Toast.show(workspace, {\n    message,\n    id: unconstrainedMoveHintId,\n    oncePerSession: !force,\n  });\n}\n\n/**\n * Nudge the user to move a block that's in move mode.\n *\n * @param workspace Workspace.\n */\nexport function showConstrainedMovementHint(workspace: WorkspaceSvg) {\n  const enter = getShortActionShortcut(SHORTCUT_NAMES.EDIT_OR_CONFIRM);\n  const message = `Use the arrow keys to move, then ${enter} to accept the position`;\n  Toast.show(workspace, {\n    message,\n    id: constrainedMoveHintId,\n    oncePerSession: true,\n  });\n}\n\n/**\n * Clear active move-related hints, if any.\n *\n * @param workspace The workspace.\n */\nexport function clearMoveHints(workspace: WorkspaceSvg) {\n  Toast.hide(workspace, constrainedMoveHintId);\n  Toast.hide(workspace, unconstrainedMoveHintId);\n}\n\n/**\n * Nudge the user to paste after a copy.\n *\n * @param workspace Workspace.\n */\nexport function showCopiedHint(workspace: WorkspaceSvg) {\n  Toast.show(workspace, {\n    message: `Copied. Press ${getShortActionShortcut(SHORTCUT_NAMES.PASTE)} to paste.`,\n    duration: 7,\n    id: copiedHintId,\n  });\n}\n\n/**\n * Nudge the user to paste after a cut.\n *\n * @param workspace Workspace.\n */\nexport function showCutHint(workspace: WorkspaceSvg) {\n  Toast.show(workspace, {\n    message: `Cut. Press ${getShortActionShortcut(SHORTCUT_NAMES.PASTE)} to paste.`,\n    duration: 7,\n    id: cutHintId,\n  });\n}\n\n/**\n * Clear active paste-related hints, if any.\n *\n * @param workspace The workspace.\n */\nexport function clearPasteHints(workspace: WorkspaceSvg) {\n  Toast.hide(workspace, cutHintId);\n  Toast.hide(workspace, copiedHintId);\n}\n\n/**\n * Nudge the user to open the help.\n *\n * @param workspace The workspace.\n */\nexport function showHelpHint(workspace: WorkspaceSvg) {\n  const shortcut = getShortActionShortcut('list_shortcuts');\n  const message = Msg['HELP_PROMPT'].replace('%1', shortcut);\n  const id = helpHintId;\n  Toast.show(workspace, {message, id});\n}\n\n/**\n * Clear the help hint.\n *\n * @param workspace The workspace.\n */\nexport function clearHelpHint(workspace: WorkspaceSvg) {\n  // TODO: We'd like to do this in MakeCode too as we override.\n  // Could have an option for showing help in the plugin?\n  Toast.hide(workspace, helpHintId);\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * Configuration options for toasts.\n */\ninterface HtmlToastOptions extends Blockly.ToastOptions {\n  element?: HTMLElement;\n}\n\n/**\n * Custom toast implementation that supports HTML elements in toast messages.\n *\n * After registering, call \n  `Blockly.dialog.toast(workspace, {element: <html element>, message: <text>});`\n * to display an HTML-based toast.\n */\nclass HtmlToast extends Blockly.Toast {\n  /**\n   * Creates the body of the toast for display.\n   *\n   * @param workspace The workspace the toast will be displayed on.\n   * @param options Configuration options for toast appearance/behavior.\n   * @returns The body for the toast.\n   */\n  protected static override createDom(\n    workspace: Blockly.WorkspaceSvg,\n    options: HtmlToastOptions,\n  ) {\n    const dom = super.createDom(workspace, options);\n    const contents = dom.querySelector('div');\n    if (\n      contents &&\n      'element' in options &&\n      options.element instanceof HTMLElement\n    ) {\n      contents.innerHTML = '';\n      contents.appendChild(options.element);\n    }\n    return dom;\n  }\n}\n\n/**\n * Registers HtmlToast as the default toast implementation for Blockly.\n */\nexport function registerHtmlToast() {\n  Blockly.dialog.setToast(HtmlToast.show.bind(HtmlToast));\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\nimport {NavigationController} from './navigation_controller';\nimport {enableBlocksOnDrag} from './disabled_blocks';\nimport {registerHtmlToast} from './html_toast';\nimport {StickyModeController, TriggerMode} from './sticky_mode_controller';\n\n// Re-export TriggerMode for external use\nexport {TriggerMode};\n\n/** Plugin for keyboard navigation. */\nexport class KeyboardNavigation {\n  /** The workspace. */\n  protected workspace: Blockly.WorkspaceSvg;\n\n  /** Keyboard navigation controller instance for the workspace. */\n  private navigationController: NavigationController;\n\n  /** Cursor for the main workspace. */\n  private cursor: Blockly.LineCursor;\n\n  /**\n   * Focus ring in the workspace.\n   */\n  private workspaceFocusRing: Element | null = null;\n\n  /**\n   * Selection ring inside the workspace.\n   */\n  private workspaceSelectionRing: Element | null = null;\n\n  /** Controller for click-and-stick functionality. */\n  private stickyModeController: StickyModeController;\n\n  /**\n   * Used to restore monkey patch.\n   */\n  private oldWorkspaceResize:\n    | InstanceType<typeof Blockly.WorkspaceSvg>['resize']\n    | null = null;\n\n  /**\n   * Returns whether the plugin is currently in sticky mode (click-and-stick).\n   *\n   * @returns True if a block is in sticky mode, false otherwise.\n   */\n  get isInStickyMode(): boolean {\n    return this.stickyModeController.isActive();\n  }\n\n  /**\n   * Get the block currently in sticky mode, if any.\n   *\n   * @returns The block in sticky mode, or null if not in sticky mode.\n   */\n  get stickyBlock(): Blockly.BlockSvg | null {\n    return this.stickyModeController.getActiveBlock();\n  }\n\n  /**\n   * Constructs the keyboard navigation.\n   *\n   * @param workspace The workspace that the plugin will be added to.\n   * @param options Options for plugin\n   * @param options.allowCrossWorkspacePaste If true, will allow paste\n   * option to appear enabled when pasting in a different workspace\n   * than was copied from. Defaults to false. Set to true if using\n   * cross-tab-copy-paste plugin or similar.\n   * @param options.highlightConnections If true, will highlight all\n   * valid connection points when entering move mode. Defaults to true.\n   * Useful for improving mouse accessibility.\n   */\n  constructor(\n    workspace: Blockly.WorkspaceSvg,\n    options: {\n      allowCrossWorkspacePaste?: boolean;\n      highlightConnections?: boolean;\n    } = {\n      allowCrossWorkspacePaste: false,\n      highlightConnections: true,\n    },\n  ) {\n    this.workspace = workspace;\n\n    this.stickyModeController = new StickyModeController(\n      workspace,\n      null as any, // Will be set after navigationController is created\n    );\n\n    this.navigationController = new NavigationController({\n      allowCrossWorkspacePaste: options.allowCrossWorkspacePaste ?? false,\n      highlightConnections: options.highlightConnections ?? true,\n      // Disable auto-scroll during sticky mode to prevent jarring jumps at viewport edges\n      shouldDisableAutoScroll: () => this.stickyModeController.isActive(),\n    });\n    this.navigationController.init();\n    this.navigationController.addWorkspace(workspace);\n    this.navigationController.enable(workspace);\n\n    // Now set the navigation controller on the sticky mode controller\n    (this.stickyModeController as any).navigationController = this.navigationController;\n\n    this.cursor = new Blockly.LineCursor(workspace);\n\n    // Add the event listener to enable disabled blocks on drag.\n    workspace.addChangeListener(enableBlocksOnDrag);\n\n    this.stickyModeController.install();\n\n    (window as any).keyboardNavigation = this;\n\n    // Move the flyout for logical tab order.\n    const flyout = workspace.getFlyout();\n    if (flyout != null && flyout instanceof Blockly.Flyout) {\n      // This relies on internals.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const flyoutElement = ((flyout as any).svgGroup_ as SVGElement) ?? null;\n      flyoutElement?.parentElement?.insertBefore(\n        flyoutElement,\n        workspace.getParentSvg(),\n      );\n    }\n\n    this.oldWorkspaceResize = workspace.resize;\n    workspace.resize = () => {\n      this.oldWorkspaceResize?.call(this.workspace);\n      this.resizeWorkspaceRings();\n    };\n    this.workspaceSelectionRing = Blockly.utils.dom.createSvgElement('rect', {\n      fill: 'none',\n      class: 'blocklyWorkspaceSelectionRing',\n    });\n    workspace.getSvgGroup().appendChild(this.workspaceSelectionRing);\n    this.workspaceFocusRing = Blockly.utils.dom.createSvgElement('rect', {\n      fill: 'none',\n      class: 'blocklyWorkspaceFocusRing',\n    });\n    workspace.getSvgGroup().appendChild(this.workspaceFocusRing);\n    this.resizeWorkspaceRings();\n\n    registerHtmlToast();\n  }\n\n  private resizeWorkspaceRings() {\n    if (!this.workspaceFocusRing || !this.workspaceSelectionRing) return;\n    this.resizeFocusRingInternal(this.workspaceSelectionRing, 5);\n    this.resizeFocusRingInternal(this.workspaceFocusRing, 0);\n  }\n\n  private resizeFocusRingInternal(ring: Element, inset: number) {\n    const metrics = this.workspace.getMetrics();\n    ring.setAttribute('x', (metrics.absoluteLeft + inset).toString());\n    ring.setAttribute('y', (metrics.absoluteTop + inset).toString());\n    ring.setAttribute(\n      'width',\n      Math.max(0, metrics.viewWidth - inset * 2).toString(),\n    );\n    ring.setAttribute(\n      'height',\n      Math.max(0, metrics.svgHeight - inset * 2).toString(),\n    );\n  }\n\n  /**\n   * Disables keyboard navigation for this navigator's workspace.\n   */\n  dispose() {\n    this.workspaceFocusRing?.remove();\n    this.workspaceSelectionRing?.remove();\n    if (this.oldWorkspaceResize) {\n      this.workspace.resize = this.oldWorkspaceResize;\n    }\n\n    // Remove the event listener that enables blocks on drag\n    this.workspace.removeChangeListener(enableBlocksOnDrag);\n    this.stickyModeController.uninstall();\n    this.navigationController.dispose();\n  }\n\n  /**\n   * Toggle visibility of a help dialog for the keyboard shortcuts.\n   */\n  toggleShortcutDialog(): void {\n    this.navigationController.shortcutDialog.toggle(this.workspace);\n  }\n\n  /**\n   * Enable or disable connection highlighting during move operations.\n   *\n   * @param enabled Whether to show connection highlights when moving blocks.\n   */\n  setHighlightConnections(enabled: boolean): void {\n    this.navigationController.setHighlightConnections(enabled);\n  }\n\n  /**\n   * Enable or disable fatter connection highlights.\n   *\n   * @param enabled Whether to use fatter connections with larger click targets.\n   */\n  setFatterConnections(enabled: boolean): void {\n    this.navigationController.setFatterConnections(enabled);\n  }\n\n  /**\n   * Set the connection highlight size.\n   *\n   * @param size The size level: 'minimal', 'medium', or 'large'.\n   */\n  setConnectionSize(size: 'minimal' | 'medium' | 'large'): void {\n    this.navigationController.setConnectionSize(size);\n  }\n\n  /**\n   * Set the trigger mode for entering sticky move mode.\n   *\n   * @param mode The trigger mode to use (DOUBLE_CLICK, SHIFT_CLICK, FOCUSED_CLICK, MODE_TOGGLE, or GRIP_CLICK).\n   */\n  setTriggerMode(mode: TriggerMode): void {\n    this.stickyModeController.setTriggerMode(mode);\n  }\n\n  /**\n   * Enable or disable keeping the block on the mouse cursor during sticky move.\n   *\n   * @param enabled Whether the block should follow the cursor (true) or stay at click position (false).\n   */\n  setKeepBlockOnMouse(enabled: boolean): void {\n    this.stickyModeController.setKeepBlockOnMouse(enabled);\n  }\n\n  /**\n   * Registers a default toolbox implementation that doesn't handle\n   * keydown events, since we now handle them in this plugin. If you\n   * use the default toolbox, call this function before calling\n   * `Blockly.inject`. If you use a custom toolbox, override the\n   * `onKeyDown_` method in your toolbox implementation to make it a no-op.\n   */\n  static registerNavigationDeferringToolbox() {\n    this.registerNavigationDeferringToolbox();\n  }\n\n  /**\n   * Register CSS used by the plugin.\n   * This is broken up into sections by purpose, with some notes about\n   * where it should eventually live.\n   * Must be called before `Blockly.inject`.\n   */\n  static registerKeyboardNavigationStyles() {\n    // Enable the delete icon for comments.\n    //\n    // This should remain in the plugin for the time being because we do\n    // not want to display the delete icon by default.\n    Blockly.Css.register(`\n  .blocklyDeleteIcon {\n    display: block;\n  }\n`);\n\n    // Set variables that will be used to control the appearance of the\n    // focus indicators.  Attach them to the injectionDiv since they will\n    // apply to things contained therein.\n    //\n    // This should be moved to core, either to core/css.ts\n    // or to core/renderers/.\n    Blockly.Css.register(`\n  .injectionDiv {\n    --blockly-active-node-color: #fff200;\n    --blockly-active-tree-color: #60a5fa;\n    --blockly-selection-width: 3px;\n  }\n`);\n\n    // Styling focusing blocks, connections and fields.\n    //\n    // This should be moved to core, being integrated into the\n    // existing styling of renderers in core/renderers/*/constants.ts.\n    //\n    // Many selectors include .blocklyKeyboardNavigation to ensure keyboard\n    // nav is on (via the heuristic). This class is added/removed from body.\n    Blockly.Css.register(`\n  /* Active focus cases: */\n  /* Blocks with active focus. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus:is(.blocklyPath, .blocklyHighlightedConnectionPath),\n  /* Fields with active focus, */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus.blocklyField\n    > .blocklyFieldRect,\n  /* Icons with active focus. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus.blocklyIconGroup\n    > .blocklyIconShape:first-child {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n\n  /* Passive focus cases: */\n  /* Blocks with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus:is(\n      .blocklyPath:not(.blocklyFlyout .blocklyPath),\n      .blocklyHighlightedConnectionPath\n    ),\n  /* Fields with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus.blocklyField\n    > .blocklyFieldRect,\n  /* Icons with passive focus except when widget/dropdown div in use. */\n  .blocklyKeyboardNavigation:not(\n          :has(\n              .blocklyDropDownDiv:focus-within,\n              .blocklyWidgetDiv:focus-within\n            )\n        )\n    .blocklyPassiveFocus.blocklyIconGroup\n    > .blocklyIconShape:first-child {\n    stroke: var(--blockly-active-node-color);\n    stroke-dasharray: 5px 3px;\n    stroke-width: var(--blockly-selection-width);\n  }\n\n  /* Workaround for unexpectedly hidden connection path due to core style. */\n  .blocklyKeyboardNavigation\n    .blocklyPassiveFocus.blocklyHighlightedConnectionPath {\n    display: unset !important;\n  }\n`);\n\n    // Styling for focusing the toolbox and flyout.\n    //\n    // This should be moved to core, to core/css.ts if not to somewhere\n    // more specific in core/toolbox/.\n    Blockly.Css.register(`\n  /* Different ways for toolbox/flyout to be the active tree: */\n  /* Active focus in the flyout. */\n  .blocklyKeyboardNavigation .blocklyFlyout:has(.blocklyActiveFocus),\n  /* Active focus in the toolbox. */\n  .blocklyKeyboardNavigation .blocklyToolbox:has(.blocklyActiveFocus),\n  /* Active focus on the toolbox/flyout. */\n  .blocklyKeyboardNavigation\n    .blocklyActiveFocus:is(.blocklyFlyout, .blocklyToolbox) {\n    outline-offset: calc(var(--blockly-selection-width) * -1);\n    outline: var(--blockly-selection-width) solid\n      var(--blockly-active-tree-color);\n  }\n\n  /* Suppress default outline. */\n  .blocklyKeyboardNavigation\n    .blocklyToolboxCategoryContainer:focus-visible {\n    outline: none;\n  }\n`);\n\n    // Styling for focusing the Workspace.\n    //\n    // This should be move to core, probably to core/css.ts.\n    Blockly.Css.register(`\n  /* Different ways for the workspace to be the active tree: */\n  /* Active focus within workspace. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace:has(.blocklyActiveFocus)\n    .blocklyWorkspaceFocusRing,\n  /* Active focus within drag layer. */\n  .blocklyKeyboardNavigation\n    .blocklySvg:has(~ .blocklyBlockDragSurface .blocklyActiveFocus)\n    .blocklyWorkspaceFocusRing,\n  /* Active focus on workspace. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace.blocklyActiveFocus\n    .blocklyWorkspaceFocusRing,\n  /* Focus in widget/dropdown div considered to be in workspace. */\n  .blocklyKeyboardNavigation:has(\n    .blocklyWidgetDiv:focus-within,\n    .blocklyDropDownDiv:focus-within\n  )\n    .blocklyWorkspace\n    .blocklyWorkspaceFocusRing {\n    stroke: var(--blockly-active-tree-color);\n    stroke-width: calc(var(--blockly-selection-width) * 2);\n  }\n\n  /* The workspace itself is the active node. */\n  .blocklyKeyboardNavigation\n    .blocklyWorkspace.blocklyActiveFocus\n    .blocklyWorkspaceSelectionRing {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n  \n  /* The workspace itself is the active node. */\n  .blocklyKeyboardNavigation\n    .blocklyBubble.blocklyActiveFocus\n    .blocklyDraggable {\n    stroke: var(--blockly-active-node-color);\n    stroke-width: var(--blockly-selection-width);\n  }\n`);\n\n    // Keyboard-nav-specific styling for the context menu.\n    //\n    // This should remain in the plugin for the time being because the\n    // classes selected are currently only defined in the plugin.\n    Blockly.Css.register(`\n  .blocklyRTL .blocklyMenuItemContent .blocklyShortcutContainer {\n    flex-direction: row-reverse;\n  }\n  .blocklyMenuItemContent .blocklyShortcutContainer {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    gap: 16px;\n  }\n  .blocklyMenuItemContent .blocklyShortcutContainer .blocklyShortcut {\n    color: #ccc;\n  }\n`);\n\n    // Styling for connection highlighting during move mode.\n    //\n    // This should remain in the plugin for the time being because these\n    // classes are specific to the keyboard navigation plugin's move functionality.\n    Blockly.Css.register(`\n  /* Clean highlighting for potential connection points */\n  .blocklyPotentialConnection {\n    stroke: #00ff00 !important;\n    stroke-width: 3px !important;\n    stroke-dasharray: 4,2 !important;\n    /* fill is set inline to support overlapping connection logic - don't override here */\n    z-index: 9999 !important;\n    pointer-events: auto !important;\n    display: block !important;\n  }\n\n  /* Ensure highlights are visible in keyboard navigation mode */\n  .blocklyKeyboardNavigation .blocklyPotentialConnection {\n    display: block !important;\n    visibility: visible !important;\n    opacity: 1 !important;\n  }\n`);\n\n    // Register classes used by the shortcuts modal\n    Blockly.Css.register(`\n:root {\n  --divider-border-color: #eee;\n  --key-border-color: #ccc;\n  --shortcut-modal-border-color: #9aa0a6;\n}\n\n.shortcut-modal {\n  border: 1px solid var(--shortcut-modal-border-color);\n  border-radius: 12px;\n  box-shadow: 6px 6px 32px rgba(0,0,0,.5);\n  flex-direction: column;\n  gap: 12px;\n  margin: auto;\n  max-height: 82vh;\n  max-width: calc(100% - 10em);\n  padding: 24px 12px 24px 32px;\n  position: relative;\n  z-index: 99;\n}\n\n.shortcut-modal[open] {\n  display: flex;\n}\n\n.shortcut-modal .close-modal {\n  border: 0;\n  background: transparent;\n  float: inline-end;\n  margin: 0 0 0 0;\n  position: absolute;\n  top: 16px;\n  right: 24px;\n}\n\n.shortcut-modal h1 {\n  font-weight: 600;\n  font-size: 1.2em;\n}\n\n.shortcut-modal:before {\n  background: radial-gradient(rgba(244, 244, 244, 0.43), rgba(75, 75, 75, 0.51));\n  align-items: center;\n  display: block;\n  font-family: Roboto;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.shortcut-tables {\n  display: grid;\n  align-items: start;\n  grid-template-columns: 1fr;\n  row-gap: 1em;\n  column-gap: 2em;\n}\n\n@media (min-width: 950px) {\n  .shortcut-tables {\n    grid-template-columns: 1fr 1fr\n  }\n}\n\n@media (min-width: 1360px) {\n  .shortcut-tables {\n    grid-template-columns: 1fr 1fr 1fr\n  }\n}\n\n.shortcut-table {\n  border-collapse: collapse;\n  font-family: Roboto;\n  font-size: .9em;\n}\n\n.shortcut-table th {\n  padding-inline-end: 0.5em;\n  text-align: left;\n  text-wrap: nowrap;\n  vertical-align: baseline;\n}\n\n.shortcut-table td:first-child {\n  text-wrap: auto;\n  width: 40%;\n}\n\n.shortcut-table tr:has(+ .category) {\n  --divider-border-color: transparent;\n  margin-end: 1em;\n}\n\n.shortcut-table tr:not(.category, :last-child) {\n  border-bottom: 1px solid var(--divider-border-color);\n}\n\n.shortcut-table td {\n  padding: 0.2em 1em 0.3em 0;\n  text-wrap: nowrap;\n}\n\n.shortcut-table h2 {\n  border-bottom: 1px solid #999;\n  font-size: 1em;\n  padding-block-end: 0.5em;\n}\n\n.shortcut-table .key {\n  border: 1px solid var(--key-border-color);\n  border-radius: 8px;\n  display: inline-block;\n  margin: 0 4px;\n  min-width: 2em;\n  padding: .3em .5em;\n  text-align: center;\n}\n\n.shortcut-table .separator {\n  color: gray;\n  display: inline-block;\n  padding: 0 0.5em;\n}\n\n.shortcut-container {\n  font-size: 0.95em;\n  overflow: auto;\n  padding: 0.5em;\n}\n\n.shortcut-combo {\n  display: inline-block;\n  padding: 0.25em 0;\n  text-wrap: nowrap;\n}\n\n/* Styling for blocks in sticky mode (click and stick) */\n.blockly-sticky-mode {\n  filter: drop-shadow(0 0 10px rgba(0, 255, 0, 0.8)) !important;\n  opacity: 0.9 !important;\n}\n\n/* Use child combinator (>) to only style the immediate block, not descendants */\n.blockly-sticky-mode > .blocklyPath {\n  stroke: #00ff00 !important;\n  stroke-width: 3 !important;\n}\n\n/* Styling for move grip handle */\n.blockly-move-grip {\n  cursor: grab;\n  transition: opacity 0.2s ease;\n}\n\n.blockly-move-grip:hover {\n  opacity: 0.8;\n}\n\n.blockly-move-grip:active {\n  cursor: grabbing;\n}\n\n.blockly-move-grip-background {\n  pointer-events: all;\n}\n\n.blockly-move-grip-dot {\n  pointer-events: none;\n}\n\n/* Ensure grip is visible above block elements */\n.blocklyKeyboardNavigation .blockly-move-grip {\n  z-index: 100;\n}\n\n`);\n  }\n\n}\n\n// Export build info components for use by plugin consumers\nexport {createBuildInfoComponent, registerBuildInfoStyles, updateBuildInfo, startBuildInfoAutoRefresh} from './build_info_component';\nexport {BUILD_INFO} from './build_info';\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  BlockSvg,\n  ConnectionType,\n  RenderedConnection,\n  dragging,\n  utils,\n} from 'blockly';\nimport {Direction, getDirectionFromXY} from './drag_direction';\nimport {showUnconstrainedMoveHint} from './hints';\nimport {MoveIcon} from './move_icon';\nimport {MoveType} from './actions/mover';\nimport {ConnectionHighlighter} from './connection_highlighter';\n\n/** X offset for positioning block preview near connections. */\nconst BLOCK_PREVIEW_OFFSET_X = 10;\n\n/** Y offset for positioning block preview near connections. */\nconst BLOCK_PREVIEW_OFFSET_Y = 10;\n\n// Copied in from core because it is not exported.\ninterface ConnectionCandidate {\n  /** A connection on the dragging stack that is compatible with neighbour. */\n  local: RenderedConnection;\n\n  /** A nearby connection that is compatible with local. */\n  neighbour: RenderedConnection;\n\n  /** The distance between the local connection and the neighbour connection. */\n  distance: number;\n}\n\n// @ts-expect-error overrides a private function.\nexport class KeyboardDragStrategy extends dragging.BlockDragStrategy {\n  /** Which direction the current constrained drag is in, if any. */\n  private currentDragDirection: Direction | null = null;\n\n  /** Where a constrained movement should start when traversing the tree. */\n  private searchNode: RenderedConnection | null = null;\n\n  /** List of all connections available on the workspace. */\n  private allConnections: RenderedConnection[] = [];\n\n  /** Connection highlighter for visual feedback. */\n  connectionHighlighter: ConnectionHighlighter;\n\n  /** Whether connection highlighting is enabled. */\n  private highlightingEnabled: boolean;\n\n  /** Callback to complete the move from outside this strategy. */\n  private onMoveComplete?: () => void;\n\n  /** Callback to exit sticky mode after move is finished. */\n  private onMoveFinished?: () => void;\n\n  /** Whether this drag is part of a click and stick operation. */\n  private isClickAndStick = false;\n\n  /** The last connection candidate we refreshed highlights for. */\n  private lastRefreshedCandidate: ConnectionCandidate | null = null;\n\n  /** Timestamp of last highlight refresh to throttle updates. */\n  private lastRefreshTime = 0;\n\n  /** Minimum time between highlight refreshes in ms. */\n  private readonly REFRESH_THROTTLE = 100;\n\n  /** The initial connection where the block started (for comparison with current preview). */\n  private initialConnectionNeighbour: RenderedConnection | null = null;\n\n  constructor(\n    private block: BlockSvg,\n    public moveType: MoveType,\n    private startPoint: RenderedConnection | null,\n    highlightingEnabled = true,\n    onMoveComplete?: () => void,\n    onMoveFinished?: () => void,\n  ) {\n    super(block);\n    this.highlightingEnabled = highlightingEnabled;\n    this.onMoveComplete = onMoveComplete;\n    this.onMoveFinished = onMoveFinished;\n\n    // Create connection highlighter with click handler\n    const onConnectionClick = (connection: RenderedConnection) => {\n      this.handleConnectionClick(connection);\n    };\n    this.connectionHighlighter = new ConnectionHighlighter(\n      block.workspace,\n      onConnectionClick,\n    );\n  }\n\n  override startDrag(e?: PointerEvent) {\n    super.startDrag(e);\n\n    for (const topBlock of this.block.workspace.getTopBlocks(true)) {\n      this.allConnections.push(\n        ...topBlock\n          .getDescendants(true)\n          .filter((block: BlockSvg) => !block.isShadow())\n          .flatMap((block: BlockSvg) => block.getConnections_(false))\n          .sort((a: RenderedConnection, b: RenderedConnection) => {\n            let delta = a.y - b.y;\n            if (delta === 0) {\n              delta = a.x - b.x;\n            }\n            return delta;\n          }),\n      );\n    }\n\n    // Set position of the dragging block, so that it doesn't pop\n    // to the top left of the workspace.\n    // @ts-expect-error block and startLoc are private.\n    this.block.moveDuringDrag(this.startLoc);\n    // @ts-expect-error connectionCandidate is private.\n    this.connectionCandidate = this.createInitialCandidate();\n    // @ts-expect-error connectionCandidate is private.\n    const candidate = this.connectionCandidate;\n    this.initialConnectionNeighbour = candidate?.neighbour ?? null;\n    this.forceShowPreview();\n    this.block.addIcon(new MoveIcon(this.block));\n\n    // Show connection highlights for normal keyboard moves if enabled\n    // (Sticky mode will override this via setClickAndStickMode)\n    if (this.highlightingEnabled) {\n      // @ts-expect-error getLocalConnections is private.\n      const localConnections = this.getLocalConnections(this.block);\n\n      this.connectionHighlighter.highlightValidConnections(\n        this.block,\n        this.allConnections,\n        localConnections,\n      );\n    }\n  }\n\n  override drag(newLoc: utils.Coordinate, e?: PointerEvent): void {\n    if (!e) return;\n\n    // @ts-expect-error connectionCandidate is private.\n    const prevCandidate = this.connectionCandidate;\n\n    this.currentDragDirection = getDirectionFromXY({x: e.tiltX, y: e.tiltY});\n    super.drag(newLoc);\n\n    // @ts-expect-error connectionCandidate is private.\n    const newCandidate = this.connectionCandidate;\n\n    if (this.shouldRefreshHighlights(prevCandidate, newCandidate)) {\n      this.refreshHighlightsForPreview(newCandidate);\n    }\n\n    // Handle the case when an unconstrained drag found a connection candidate.\n    // @ts-expect-error connectionCandidate is private.\n    if (this.connectionCandidate) {\n      // @ts-expect-error connectionCandidate is private.\n      const neighbour = (this.connectionCandidate as ConnectionCandidate)\n        .neighbour;\n      this.searchNode = neighbour;\n      if (this.isConstrainedMovement()) {\n        this.block.moveDuringDrag(\n          new utils.Coordinate(\n            neighbour.x + BLOCK_PREVIEW_OFFSET_X,\n            neighbour.y + BLOCK_PREVIEW_OFFSET_Y,\n          ),\n        );\n      }\n    } else {\n      this.searchNode = null;\n\n      if (this.isConstrainedMovement()) {\n        // @ts-expect-error private field\n        const workspace = this.workspace;\n        showUnconstrainedMoveHint(workspace, true);\n      }\n    }\n  }\n\n  override endDrag(e?: PointerEvent) {\n    super.endDrag(e);\n    this.allConnections = [];\n    this.block.removeIcon(MoveIcon.type);\n\n    // Clear highlights when drag ends (unless in click-and-stick mode)\n    // Sticky mode keeps highlights visible until explicitly cleared\n    if (!this.isClickAndStick) {\n      this.connectionHighlighter.clearHighlights();\n    }\n  }\n\n  /**\n   * Force clear all highlights regardless of click-and-stick mode.\n   */\n  forceClearHighlights(): void {\n    if (this.highlightingEnabled) {\n      this.connectionHighlighter.clearHighlights();\n    }\n  }\n\n  /**\n   * Set whether this drag strategy is being used for click and stick operations.\n   *\n   * @param enabled\n   */\n  setClickAndStickMode(enabled: boolean): void {\n    this.isClickAndStick = enabled;\n\n    if (enabled && this.highlightingEnabled) {\n      // Show highlights in sticky mode if highlighting is enabled\n      // @ts-expect-error getLocalConnections is private.\n      const localConnections = this.getLocalConnections(this.block);\n\n      this.connectionHighlighter.highlightValidConnections(\n        this.block,\n        this.allConnections,\n        localConnections,\n      );\n    } else {\n      // When exiting sticky mode, clear highlights\n      // (They will be re-shown in normal mode if highlightingEnabled is true)\n      this.connectionHighlighter.clearHighlights();\n    }\n  }\n\n  /**\n   * Check if currently in click and stick mode.\n   */\n  isClickAndStickMode(): boolean {\n    return this.isClickAndStick;\n  }\n\n  /**\n   * Returns the next compatible connection in keyboard navigation order.\n   *\n   * @param draggingBlock The block where the drag started.\n   * @returns A valid connection candidate, or null if none was found.\n   */\n  private getConstrainedConnectionCandidate(\n    draggingBlock: BlockSvg,\n  ): ConnectionCandidate | null {\n    // @ts-expect-error getLocalConnections is private.\n    const localConns = this.getLocalConnections(draggingBlock);\n    if (localConns.length == 0) {\n      return null;\n    }\n\n    let candidateConnection = this.findTraversalCandidate(\n      draggingBlock,\n      localConns,\n    );\n    // Fall back on a coordinate-based search if there was no good starting\n    // point for the search.\n    if (!candidateConnection && !this.searchNode) {\n      candidateConnection = this.findNearestCandidate(localConns);\n    }\n    return candidateConnection;\n  }\n\n  /**\n   * Get the nearest valid candidate connection, regardless of direction.\n   * TODO(github.com/google/blockly/issues/8869): Replace with an\n   * override of `getSearchRadius` when implemented in core.\n   *\n   * @param localConns The list of connections on the dragging block(s) that are\n   *     available to connect to.\n   * @returns A candidate connection and radius, or null if none was found.\n   */\n  findNearestCandidate(\n    localConns: RenderedConnection[],\n  ): ConnectionCandidate | null {\n    let radius = Infinity;\n    let candidate = null;\n    const dxy = new utils.Coordinate(0, 0);\n\n    for (const conn of localConns) {\n      const {connection: neighbour, radius: rad} = conn.closest(radius, dxy);\n      if (neighbour) {\n        candidate = {\n          local: conn,\n          neighbour: neighbour,\n          distance: rad,\n        };\n        radius = rad;\n      }\n    }\n    return candidate;\n  }\n\n  /**\n   * Get the nearest valid candidate connection in traversal order.\n   *\n   * @param draggingBlock The root block being dragged.\n   * @param localConns The list of connections on the dragging block(s) that are\n   *     available to connect to.\n   * @returns A candidate connection and radius, or null if none was found.\n   */\n  findTraversalCandidate(\n    draggingBlock: BlockSvg,\n    localConns: RenderedConnection[],\n  ): ConnectionCandidate | null {\n    const connectionChecker = draggingBlock.workspace.connectionChecker;\n    let candidateConnection: ConnectionCandidate | null = null;\n    let potential: RenderedConnection | null = this.searchNode;\n\n    const dir = this.currentDragDirection;\n    while (potential && !candidateConnection) {\n      const potentialIndex = this.allConnections.indexOf(potential);\n      if (dir === Direction.Up || dir === Direction.Left) {\n        potential =\n          this.allConnections[potentialIndex - 1] ??\n          this.allConnections[this.allConnections.length - 1];\n      } else if (dir === Direction.Down || dir === Direction.Right) {\n        potential =\n          this.allConnections[potentialIndex + 1] ?? this.allConnections[0];\n      }\n\n      localConns.forEach((conn: RenderedConnection) => {\n        if (\n          potential &&\n          connectionChecker.canConnect(conn, potential, true, Infinity)\n        ) {\n          candidateConnection = {\n            local: conn,\n            neighbour: potential,\n            distance: 0,\n          };\n        }\n      });\n      if (potential == this.searchNode) break;\n    }\n    return candidateConnection;\n  }\n\n  override currCandidateIsBetter(\n    currCandidate: ConnectionCandidate,\n    delta: utils.Coordinate,\n    newCandidate: ConnectionCandidate,\n  ): boolean {\n    if (this.isConstrainedMovement()) {\n      return false; // New connection is always better during a constrained drag.\n    }\n    // @ts-expect-error currCandidateIsBetter is private.\n    return super.currCandidateIsBetter(currCandidate, delta, newCandidate);\n  }\n\n  override getConnectionCandidate(\n    draggingBlock: BlockSvg,\n    delta: utils.Coordinate,\n  ): ConnectionCandidate | null {\n    if (this.isConstrainedMovement()) {\n      return this.getConstrainedConnectionCandidate(draggingBlock);\n    }\n    // @ts-expect-error getConnctionCandidate is private.\n    return super.getConnectionCandidate(draggingBlock, delta);\n  }\n\n  /**\n   * Get whether the most recent drag event represents a constrained\n   * keyboard drag.\n   *\n   * @returns true if the current movement is constrained, otherwise false.\n   */\n  private isConstrainedMovement(): boolean {\n    return !!this.currentDragDirection;\n  }\n\n  /**\n   * Force the preview (replacement or insertion marker) to be shown\n   * immediately. Keyboard drags should always show a preview, even when\n   * the drag has just started; this forces it.\n   */\n  private forceShowPreview() {\n    // @ts-expect-error connectionPreviewer is private\n    const previewer = this.connectionPreviewer;\n    // @ts-expect-error connectionCandidate is private\n    const candidate = this.connectionCandidate as ConnectionCandidate;\n    if (!candidate || !previewer) return;\n    const block = this.block;\n\n    // This is essentially a copy of the second half of updateConnectionPreview\n    // in BlockDragStrategy. It adds a `moveDuringDrag` call at the end.\n    const {local, neighbour} = candidate;\n    const localIsOutputOrPrevious =\n      local.type === ConnectionType.OUTPUT_VALUE ||\n      local.type === ConnectionType.PREVIOUS_STATEMENT;\n\n    const target = neighbour.targetBlock();\n    const neighbourIsConnectedToRealBlock =\n      target && !target.isInsertionMarker();\n\n    const orphanCanConnectAtEnd =\n      target &&\n      // @ts-expect-error orphanCanConnectAtEnd is private\n      this.orphanCanConnectAtEnd(block, target, local.type);\n    if (\n      localIsOutputOrPrevious &&\n      neighbourIsConnectedToRealBlock &&\n      !orphanCanConnectAtEnd\n    ) {\n      previewer.previewReplacement(local, neighbour, target);\n    } else {\n      previewer.previewConnection(local, neighbour);\n    }\n    // The moving block will be positioned slightly down and to the\n    // right of the connection it found.\n    block.moveDuringDrag(\n      new utils.Coordinate(\n        neighbour.x + BLOCK_PREVIEW_OFFSET_X,\n        neighbour.y + BLOCK_PREVIEW_OFFSET_Y,\n      ),\n    );\n  }\n\n  /**\n   * Create a candidate representing where the block was previously connected.\n   * Used to render the block position after picking up the block but before\n   * moving during a drag.\n   *\n   * @returns A connection candidate representing where the block was at the\n   *     start of the drag.\n   */\n  private createInitialCandidate(): ConnectionCandidate | null {\n    // @ts-expect-error startParentConn is private.\n    const neighbour = this.startPoint ?? this.startParentConn;\n    if (neighbour) {\n      this.searchNode = neighbour;\n      switch (neighbour.type) {\n        case ConnectionType.INPUT_VALUE: {\n          if (this.block.outputConnection) {\n            return {\n              neighbour: neighbour,\n              local: this.block.outputConnection,\n              distance: 0,\n            };\n          }\n          break;\n        }\n        case ConnectionType.NEXT_STATEMENT: {\n          if (this.block.previousConnection) {\n            return {\n              neighbour: neighbour,\n              local: this.block.previousConnection,\n              distance: 0,\n            };\n          }\n          break;\n        }\n      }\n    }\n    return null;\n  }\n\n  override shouldHealStack(e: PointerEvent | undefined): boolean {\n    return Boolean(this.block.previousConnection);\n  }\n\n  /**\n   * Checks if we should refresh connection highlights (throttled).\n   *\n   * @param prev\n   * @param curr\n   */\n  private shouldRefreshHighlights(\n    prev: ConnectionCandidate | null,\n    curr: ConnectionCandidate | null,\n  ): boolean {\n    const hasChanged = this.hasConnectionChanged(prev, curr);\n    if (!hasChanged) return false;\n\n    const now = Date.now();\n    if (now - this.lastRefreshTime < this.REFRESH_THROTTLE) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Checks if the connection candidate has changed.\n   *\n   * @param prev\n   * @param curr\n   */\n  private hasConnectionChanged(\n    prev: ConnectionCandidate | null,\n    curr: ConnectionCandidate | null,\n  ): boolean {\n    if (!prev && !curr) return false;\n    if (!prev || !curr) return true;\n    return prev.neighbour !== curr.neighbour || prev.local !== curr.local;\n  }\n\n  /**\n   * Refreshes connection highlights after a preview change.\n   * Ensures highlights reflect current positions after stack rearrangement.\n   *\n   * @param currentCandidate\n   */\n  private refreshHighlightsForPreview(\n    currentCandidate: ConnectionCandidate | null,\n  ): void {\n    // Only refresh if highlights are enabled\n    if (!this.highlightingEnabled) return;\n\n    this.lastRefreshedCandidate = currentCandidate;\n    this.lastRefreshTime = Date.now();\n\n    // Rebuild connections list to reflect current workspace state\n    const currentConnections: RenderedConnection[] = [];\n    const topBlocks = this.block.workspace.getTopBlocks(true);\n\n    for (const topBlock of topBlocks) {\n      const descendants = topBlock.getDescendants(true);\n      const nonShadowDescendants = descendants.filter(\n        (block: BlockSvg) => !block.isShadow(),\n      );\n\n      currentConnections.push(\n        ...nonShadowDescendants\n          .flatMap((block: BlockSvg) => block.getConnections_(false))\n          .sort((a: RenderedConnection, b: RenderedConnection) => {\n            let delta = a.y - b.y;\n            if (delta === 0) {\n              delta = a.x - b.x;\n            }\n            return delta;\n          }),\n      );\n    }\n\n    // @ts-expect-error getLocalConnections is private.\n    const localConnections = this.getLocalConnections(this.block);\n\n    this.connectionHighlighter.highlightValidConnections(\n      this.block,\n      currentConnections,\n      localConnections,\n    );\n  }\n\n  /**\n   * Handles when a user clicks on a connection highlight to complete a move.\n   *\n   * @param targetConnection\n   */\n  private handleConnectionClick(targetConnection: RenderedConnection) {\n    // @ts-expect-error getLocalConnections is private.\n    const localConnections = this.getLocalConnections(this.block);\n    const connectionChecker = this.block.workspace.connectionChecker;\n\n    let localConnection: RenderedConnection | null = null;\n    for (const local of localConnections) {\n      if (\n        connectionChecker.canConnect(local, targetConnection, true, Infinity)\n      ) {\n        localConnection = local;\n        break;\n      }\n    }\n\n    if (localConnection) {\n      // Set the connection candidate that will be used when the drag ends\n      const candidate = {\n        local: localConnection,\n        neighbour: targetConnection,\n        distance: 0,\n      };\n\n      // @ts-expect-error connectionCandidate is private\n      this.connectionCandidate = candidate;\n\n      // Exit sticky mode first (before finishing the move) if we're in sticky mode\n      if (this.isClickAndStick) {\n        this.setClickAndStickMode(false);\n      }\n\n      // Finish the move, which will finalize the connection\n      if (this.onMoveComplete) {\n        this.onMoveComplete();\n      }\n\n      if (this.onMoveFinished) {\n        this.onMoveFinished();\n      }\n    } else {\n      // No compatible connection found. This shouldn't happen since we use consistent\n      // validation when creating highlights, but if it does we must exit gracefully\n      // to avoid leaving the UI in a broken state.\n      if (this.isClickAndStick) {\n        this.setClickAndStickMode(false);\n      }\n\n      if (this.onMoveComplete) {\n        this.onMoveComplete();\n      }\n\n      if (this.onMoveFinished) {\n        this.onMoveFinished();\n      }\n    }\n  }\n\n  /**\n   * Enable or disable fatter connection highlights.\n   *\n   * @param enabled Whether to use fatter connections with larger click targets.\n   */\n  setFatterConnections(enabled: boolean): void {\n    this.connectionHighlighter?.setFatterConnections(enabled);\n  }\n\n  /**\n   * Set the connection highlight size.\n   *\n   * @param size The size level: 'minimal', 'medium', or 'large'.\n   */\n  setConnectionSize(size: 'minimal' | 'medium' | 'large'): void {\n    this.connectionHighlighter?.setConnectionSize(size);\n  }\n\n  /**\n   * Gets the initial connection where the block started.\n   */\n  getInitialConnectionNeighbour(): RenderedConnection | null {\n    return this.initialConnectionNeighbour;\n  }\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Key names for common characters. These should be used with keyup/keydown\n * events, since the .keyCode property on those is meant to indicate the\n * _physical key_ the user held down on the keyboard. Hence the mapping uses\n * only the unshifted version of each key (e.g. no '#', since that's shift+3).\n * Keypress events on the other hand generate (mostly) ASCII codes since they\n * correspond to *characters* the user typed.\n *\n * For further reference: http://unixpapa.com/js/key.html\n *\n * This list is not localized and therefore some of the key codes are not\n * correct for non-US keyboard layouts.\n *\n * Copied from goog.events.keynames\n */\nexport const keyNames: Record<string, string> = {\n  /* eslint-disable @typescript-eslint/naming-convention */\n  8: 'backspace',\n  9: 'tab',\n  13: 'enter',\n  16: 'shift',\n  17: 'ctrl',\n  18: 'alt',\n  19: 'pause',\n  20: 'caps-lock',\n  27: 'esc',\n  32: 'space',\n  33: 'pg-up',\n  34: 'pg-down',\n  35: 'end',\n  36: 'home',\n  37: 'left',\n  38: 'up',\n  39: 'right',\n  40: 'down',\n  45: 'insert',\n  46: 'delete',\n  48: '0',\n  49: '1',\n  50: '2',\n  51: '3',\n  52: '4',\n  53: '5',\n  54: '6',\n  55: '7',\n  56: '8',\n  57: '9',\n  59: 'semicolon',\n  61: 'equals',\n  65: 'a',\n  66: 'b',\n  67: 'c',\n  68: 'd',\n  69: 'e',\n  70: 'f',\n  71: 'g',\n  72: 'h',\n  73: 'i',\n  74: 'j',\n  75: 'k',\n  76: 'l',\n  77: 'm',\n  78: 'n',\n  79: 'o',\n  80: 'p',\n  81: 'q',\n  82: 'r',\n  83: 's',\n  84: 't',\n  85: 'u',\n  86: 'v',\n  87: 'w',\n  88: 'x',\n  89: 'y',\n  90: 'z',\n  93: 'context',\n  96: 'num-0',\n  97: 'num-1',\n  98: 'num-2',\n  99: 'num-3',\n  100: 'num-4',\n  101: 'num-5',\n  102: 'num-6',\n  103: 'num-7',\n  104: 'num-8',\n  105: 'num-9',\n  106: 'num-multiply',\n  107: 'num-plus',\n  109: 'num-minus',\n  110: 'num-period',\n  111: 'num-division',\n  112: 'f1',\n  113: 'f2',\n  114: 'f3',\n  115: 'f4',\n  116: 'f5',\n  117: 'f6',\n  118: 'f7',\n  119: 'f8',\n  120: 'f9',\n  121: 'f10',\n  122: 'f11',\n  123: 'f12',\n  186: 'semicolon',\n  187: 'equals',\n  189: 'dash',\n  188: ',',\n  190: '.',\n  191: '/',\n  192: '`',\n  219: 'open-square-bracket',\n  220: '\\\\',\n  221: 'close-square-bracket',\n  222: 'single-quote',\n  224: 'win',\n  /* eslint-enable @typescript-eslint/naming-convention */\n};\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * Minimum width threshold for showing full-width grip (in pixels).\n * Blocks narrower than this will get a compact grip.\n */\nconst MIN_BLOCK_WIDTH_FOR_FULL_GRIP = 30;\n\n/**\n * Width of the grip element in pixels.\n */\nconst GRIP_WIDTH = 20;\n\n/**\n * CSS class name for the grip element.\n */\nconst GRIP_CLASS = 'blockly-move-grip';\n\n/**\n * A visual grip handle that appears on focused blocks, allowing users to\n * click the grip to enter sticky move mode.\n */\nexport class MoveGrip {\n  private gripElement: SVGGElement | null = null;\n  private clickHandler: ((event: MouseEvent) => void) | null = null;\n\n  /**\n   * Constructs a MoveGrip for a block.\n   *\n   * @param block The block to attach the grip to.\n   * @param onGripClick Callback invoked when the grip is clicked.\n   */\n  constructor(\n    private block: Blockly.BlockSvg,\n    onGripClick: (block: Blockly.BlockSvg, event: MouseEvent) => void,\n  ) {\n    this.clickHandler = (event: MouseEvent) => {\n      event.preventDefault();\n      event.stopPropagation();\n      onGripClick(this.block, event);\n    };\n  }\n\n  /**\n   * Shows the grip on the block.\n   */\n  show(): void {\n    if (this.gripElement) {\n      // Already showing\n      return;\n    }\n\n    const blockSvgRoot = this.block.getSvgRoot();\n    if (!blockSvgRoot) return;\n\n    // Create grip element\n    this.gripElement = this.createGripElement();\n\n    // Position the grip\n    this.positionGrip();\n\n    // Add to block's SVG root\n    blockSvgRoot.appendChild(this.gripElement);\n\n    // Add click handler\n    if (this.clickHandler) {\n      this.gripElement.addEventListener('click', this.clickHandler);\n    }\n  }\n\n  /**\n   * Hides and removes the grip from the block.\n   */\n  hide(): void {\n    if (!this.gripElement) return;\n\n    // Remove click handler\n    if (this.clickHandler) {\n      this.gripElement.removeEventListener('click', this.clickHandler);\n    }\n\n    // Remove from DOM\n    this.gripElement.remove();\n    this.gripElement = null;\n  }\n\n  /**\n   * Updates the grip position based on the current block size.\n   * Should be called when the block is resized.\n   */\n  updatePosition(): void {\n    if (!this.gripElement) return;\n    this.positionGrip();\n  }\n\n  /**\n   * Creates the SVG grip element.\n   *\n   * @returns The created SVG group element.\n   */\n  private createGripElement(): SVGGElement {\n    const gripGroup = Blockly.utils.dom.createSvgElement('g', {\n      class: GRIP_CLASS,\n    }) as SVGGElement;\n\n    // Use the block's direct height/width properties to get just this block's size,\n    // not including blocks below it in the stack\n    const blockWidth = this.block.width;\n    const blockHeight = this.block.height;\n\n    // Determine if block is too narrow for full grip\n    const isNarrow = blockWidth < MIN_BLOCK_WIDTH_FOR_FULL_GRIP;\n    const gripWidth = isNarrow ? Math.min(GRIP_WIDTH, blockWidth * 0.5) : GRIP_WIDTH;\n\n    // Background rectangle for the grip area\n    const gripRect = Blockly.utils.dom.createSvgElement('rect', {\n      x: '0',\n      y: '0',\n      width: gripWidth.toString(),\n      height: blockHeight.toString(),\n      fill: 'rgba(0, 0, 0, 0.1)',\n      'stroke': 'rgba(0, 0, 0, 0.3)',\n      'stroke-width': '1',\n      rx: '3',\n      ry: '3',\n      class: 'blockly-move-grip-background',\n    });\n    gripGroup.appendChild(gripRect);\n\n    // Create grip dots ( icon - two vertical columns of dots)\n    const dotRadius = isNarrow ? 1.5 : 2;\n    const dotSpacing = isNarrow ? 6 : 8;\n    const numDots = Math.min(3, Math.floor(blockHeight / dotSpacing));\n    const startY = (blockHeight - (numDots - 1) * dotSpacing) / 2;\n\n    // Two columns of dots\n    const column1X = gripWidth * 0.35;\n    const column2X = gripWidth * 0.65;\n\n    for (let i = 0; i < numDots; i++) {\n      const y = startY + i * dotSpacing;\n\n      // First column\n      const dot1 = Blockly.utils.dom.createSvgElement('circle', {\n        cx: column1X.toString(),\n        cy: y.toString(),\n        r: dotRadius.toString(),\n        fill: 'rgba(0, 0, 0, 0.6)',\n        class: 'blockly-move-grip-dot',\n      });\n      gripGroup.appendChild(dot1);\n\n      // Second column\n      const dot2 = Blockly.utils.dom.createSvgElement('circle', {\n        cx: column2X.toString(),\n        cy: y.toString(),\n        r: dotRadius.toString(),\n        fill: 'rgba(0, 0, 0, 0.6)',\n        class: 'blockly-move-grip-dot',\n      });\n      gripGroup.appendChild(dot2);\n    }\n\n    return gripGroup;\n  }\n\n  /**\n   * Positions the grip on the left edge of the block.\n   */\n  private positionGrip(): void {\n    if (!this.gripElement) return;\n\n    // Position at the top-left corner of the block\n    // The grip should be at (0, 0) relative to the block's SVG root\n    this.gripElement.setAttribute('transform', 'translate(0, 0)');\n  }\n\n  /**\n   * Checks if the given event target is the grip element or a child of it.\n   *\n   * @param target The event target to check.\n   * @returns True if the target is the grip or within the grip.\n   */\n  isGripTarget(target: EventTarget | null): boolean {\n    if (!this.gripElement || !target) return false;\n\n    const element = target as Element;\n    return this.gripElement.contains(element) || element === this.gripElement;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\nimport {MoveIndicatorBubble} from './move_indicator';\n\n/**\n * Invisible icon that acts as an anchor for a move indicator bubble.\n */\nexport class MoveIcon implements Blockly.IIcon, Blockly.IHasBubble {\n  private moveIndicator: MoveIndicatorBubble;\n  static readonly type = new Blockly.icons.IconType('moveIndicator');\n\n  /**\n   * Creates a new MoveIcon instance.\n   *\n   * @param sourceBlock The block this icon is attached to.\n   */\n  constructor(private sourceBlock: Blockly.BlockSvg) {\n    this.moveIndicator = new MoveIndicatorBubble(this.sourceBlock);\n  }\n\n  /**\n   * Returns the type of this icon.\n   */\n  getType(): Blockly.icons.IconType<MoveIcon> {\n    return MoveIcon.type;\n  }\n\n  /**\n   * Returns the weight of this icon, which controls its position relative to\n   * other icons.\n   *\n   * @returns The weight of this icon.\n   */\n  getWeight(): number {\n    return -1;\n  }\n\n  /**\n   * Returns the size of this icon.\n   *\n   * @returns A rect with negative width and no height to offset the default\n   *     padding applied to icons.\n   */\n  getSize(): Blockly.utils.Size {\n    // Awful hack to cancel out the default padding added to icons.\n    return new Blockly.utils.Size(-8, 0);\n  }\n\n  /**\n   * Returns whether this icon is visible when its parent block is collapsed.\n   *\n   * @returns False since this icon is never visible.\n   */\n  isShownWhenCollapsed(): boolean {\n    return false;\n  }\n\n  /**\n   * Returns whether this icon can be clicked in the flyout.\n   *\n   * @returns False since this icon is invisible and not clickable.\n   */\n  isClickableInFlyout(): boolean {\n    return false;\n  }\n\n  /**\n   * Returns whether this icon's attached bubble is visible.\n   *\n   * @returns True because this icon only exists to host its bubble.\n   */\n  bubbleIsVisible(): boolean {\n    return true;\n  }\n\n  /**\n   * Returns this icon's bubble.\n   */\n  getBubble(): Blockly.IBubble | null {\n    return this.moveIndicator;\n  }\n\n  /**\n   * Called when the location of this icon's block changes.\n   *\n   * @param blockOrigin The new location of this icon's block.\n   */\n  onLocationChange(blockOrigin: Blockly.utils.Coordinate) {\n    this.moveIndicator?.updateLocation();\n  }\n\n  /**\n   * Disposes of this icon.\n   */\n  dispose() {\n    this.moveIndicator?.dispose();\n  }\n\n  // These methods are required by the interfaces, but intentionally have no\n  // implementation, largely because this icon has no visual representation.\n  applyColour() {}\n\n  hideForInsertionMarker() {}\n\n  updateEditable() {}\n\n  updateCollapsed() {}\n\n  setOffsetInBlock() {}\n\n  onClick() {}\n\n  async setBubbleVisible(visible: boolean) {}\n\n  initView(pointerDownListener: (e: PointerEvent) => void) {}\n\n  /** See IFocusableNode.getFocusableElement. */\n  getFocusableElement(): HTMLElement | SVGElement {\n    throw new Error('This node is not focusable.');\n  }\n\n  /** See IFocusableNode.getFocusableTree. */\n  getFocusableTree(): Blockly.IFocusableTree {\n    throw new Error('This node is not focusable.');\n  }\n\n  /** See IFocusableNode.onNodeFocus. */\n  onNodeFocus(): void {}\n\n  /** See IFocusableNode.onNodeBlur. */\n  onNodeBlur(): void {}\n\n  /** See IFocusableNode.canBeFocused. */\n  canBeFocused(): boolean {\n    return false;\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * Bubble that displays a four-way arrow attached to a block to indicate that\n * it is in move mode.\n */\nexport class MoveIndicatorBubble\n  implements Blockly.IBubble, Blockly.IRenderedElement\n{\n  /**\n   * Root SVG element for this bubble.\n   */\n  svgRoot: SVGGElement;\n\n  /**\n   * The location of this bubble in workspace coordinates.\n   */\n  location = new Blockly.utils.Coordinate(0, 0);\n\n  /**\n   * Creates a new move indicator bubble.\n   *\n   * @param sourceBlock The block this bubble should be associated with.\n   */\n  /* eslint-disable @typescript-eslint/naming-convention */\n  constructor(\n    private sourceElement: Blockly.ISelectable & Blockly.IBoundedElement,\n  ) {\n    const workspace = sourceElement.workspace as Blockly.WorkspaceSvg;\n    this.svgRoot = Blockly.utils.dom.createSvgElement(\n      Blockly.utils.Svg.G,\n      {},\n      workspace.getBubbleCanvas(),\n    );\n    this.svgRoot.classList.add('blocklyMoveIndicatorBubble');\n    const rtl = workspace.RTL;\n    Blockly.utils.dom.createSvgElement(\n      Blockly.utils.Svg.CIRCLE,\n      {\n        'fill': 'white',\n        'fill-opacity': '0.8',\n        'stroke': 'grey',\n        'stroke-width': '1',\n        'r': 20,\n        'cx': 20 * (rtl ? -1 : 1),\n        'cy': 20,\n      },\n      this.svgRoot,\n    );\n    Blockly.utils.dom.createSvgElement(\n      Blockly.utils.Svg.PATH,\n      {\n        'fill': 'none',\n        'stroke': 'black',\n        'stroke-linecap': 'round',\n        'stroke-linejoin': 'round',\n        'stroke-width': '2',\n        'd': 'm18 9l3 3l-3 3m-3-3h6M6 9l-3 3l3 3m-3-3h6m0 6l3 3l3-3m-3-3v6m3-15l-3-3l-3 3m3-3v6',\n        'transform': `translate(${(rtl ? -4 : 1) * 8} 8)`,\n      },\n      this.svgRoot,\n    );\n\n    this.updateLocation();\n  }\n\n  /**\n   * Returns whether this bubble is movable by the user.\n   *\n   * @returns Always returns false.\n   */\n  isMovable(): boolean {\n    return false;\n  }\n\n  /**\n   * Returns the root SVG element for this bubble.\n   *\n   * @returns The root SVG element.\n   */\n  getSvgRoot(): SVGGElement {\n    return this.svgRoot;\n  }\n\n  /**\n   * Recalculates this bubble's location, keeping it adjacent to its block.\n   */\n  updateLocation() {\n    const bounds =\n      this.sourceElement instanceof Blockly.BlockSvg\n        ? this.sourceElement.getBoundingRectangleWithoutChildren()\n        : this.sourceElement.getBoundingRectangle();\n    const x = this.sourceElement.workspace.RTL\n      ? bounds.left + 20\n      : bounds.right - 20;\n    const y = bounds.top - 20;\n    this.moveTo(x, y);\n    (this.sourceElement.workspace as Blockly.WorkspaceSvg)\n      .getLayerManager()\n      ?.moveToDragLayer(this);\n  }\n\n  /**\n   * Moves this bubble to the specified location.\n   *\n   * @param x The location on the X axis to move to.\n   * @param y The location on the Y axis to move to.\n   */\n  moveTo(x: number, y: number) {\n    this.location.x = x;\n    this.location.y = y;\n    this.svgRoot.setAttribute('transform', `translate(${x}, ${y})`);\n  }\n\n  /**\n   * Returns this bubble's location in workspace coordinates.\n   *\n   * @returns The bubble's location.\n   */\n  getRelativeToSurfaceXY(): Blockly.utils.Coordinate {\n    return this.location;\n  }\n\n  /**\n   * Disposes of this move indicator bubble.\n   */\n  dispose() {\n    Blockly.utils.dom.removeNode(this.svgRoot);\n  }\n\n  // These methods are required by the interfaces, but intentionally have no\n  // implementation, largely because this bubble's location is fixed relative\n  // to its block and is not draggable by the user.\n  showContextMenu() {}\n\n  setDragging(dragging: boolean) {}\n\n  startDrag(event: PointerEvent) {}\n\n  drag(newLocation: Blockly.utils.Coordinate, event: PointerEvent) {}\n\n  moveDuringDrag(newLocation: Blockly.utils.Coordinate) {}\n\n  endDrag() {}\n\n  revertDrag() {}\n\n  setDeleteStyle(enable: boolean) {}\n\n  /** See IFocusableNode.getFocusableElement. */\n  getFocusableElement(): HTMLElement | SVGElement {\n    throw new Error('This node is not focusable.');\n  }\n\n  /** See IFocusableNode.getFocusableTree. */\n  getFocusableTree(): Blockly.IFocusableTree {\n    throw new Error('This node is not focusable.');\n  }\n\n  /** See IFocusableNode.onNodeFocus. */\n  onNodeFocus(): void {}\n\n  /** See IFocusableNode.onNodeBlur. */\n  onNodeBlur(): void {}\n\n  /** See IFocusableNode.canBeFocused. */\n  canBeFocused(): boolean {\n    return false;\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Holds all methods necessary to use Blockly through the\n * keyboard.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\nimport * as Blockly from 'blockly/core';\nimport * as Constants from './constants';\nimport {\n  registrationName as cursorRegistrationName,\n  registrationType as cursorRegistrationType,\n} from './flyout_cursor';\n\n/**\n * Class that holds all methods necessary for keyboard navigation to work.\n */\nexport class Navigation {\n  /**\n   * Wrapper for method that deals with workspace changes.\n   * Used for removing change listener.\n   */\n  protected wsChangeWrapper: (e: Blockly.Events.Abstract) => void;\n\n  /**\n   * Wrapper for method that deals with flyout changes.\n   * Used for removing change listener.\n   */\n  protected flyoutChangeWrapper: (e: Blockly.Events.Abstract) => void;\n\n  /**\n   * The list of registered workspaces.\n   * Used when removing change listeners in dispose.\n   */\n  protected workspaces: Blockly.WorkspaceSvg[] = [];\n\n  /**\n   * Constructor for keyboard navigation.\n   */\n  constructor() {\n    this.wsChangeWrapper = this.workspaceChangeListener.bind(this);\n    this.flyoutChangeWrapper = this.flyoutChangeListener.bind(this);\n  }\n\n  /**\n   * Adds all necessary change listeners and markers to a workspace for keyboard\n   * navigation to work. This must be called for keyboard navigation to work\n   * on a workspace.\n   *\n   * @param workspace The workspace to add keyboard navigation to.\n   */\n  addWorkspace(workspace: Blockly.WorkspaceSvg) {\n    this.workspaces.push(workspace);\n    const flyout = workspace.getFlyout();\n    workspace.addChangeListener(this.wsChangeWrapper);\n\n    if (flyout) {\n      this.addFlyout(flyout);\n    }\n  }\n\n  /**\n   * Removes all keyboard navigation change listeners and markers.\n   *\n   * @param workspace The workspace to remove keyboard navigation from.\n   */\n  removeWorkspace(workspace: Blockly.WorkspaceSvg) {\n    const workspaceIdx = this.workspaces.indexOf(workspace);\n    const flyout = workspace.getFlyout();\n    this.disableKeyboardAccessibility(workspace);\n\n    if (workspaceIdx > -1) {\n      this.workspaces.splice(workspaceIdx, 1);\n    }\n    workspace.removeChangeListener(this.wsChangeWrapper);\n\n    if (flyout) {\n      this.removeFlyout(flyout);\n    }\n  }\n\n  /**\n   * Gets the navigation state of the current workspace.\n   *\n   * Note that this assumes a workspace with passive focus (including for its\n   * toolbox or flyout) has a state of NOWHERE.\n   *\n   * @returns The state of the given workspace.\n   */\n  getState(): Constants.STATE {\n    const focusManager = Blockly.getFocusManager();\n    if (focusManager.ephemeralFocusTaken()) {\n      return Constants.STATE.NOWHERE;\n    }\n\n    const focusedTree = focusManager.getFocusedTree();\n    if (focusedTree instanceof Blockly.WorkspaceSvg) {\n      if (focusedTree.isFlyout) {\n        return Constants.STATE.FLYOUT;\n      } else {\n        return Constants.STATE.WORKSPACE;\n      }\n    } else if (focusedTree instanceof Blockly.Toolbox) {\n      return Constants.STATE.TOOLBOX;\n    } else if (focusedTree instanceof Blockly.Flyout) {\n      return Constants.STATE.FLYOUT;\n    }\n    // Either a non-Blockly element currently has DOM focus, or a different\n    // workspace holds it.\n    return Constants.STATE.NOWHERE;\n  }\n\n  /**\n   * Adds all event listeners and cursors to the flyout that are needed for\n   * keyboard navigation to work.\n   *\n   * @param flyout The flyout to add a cursor and change listeners to.\n   */\n  addFlyout(flyout: Blockly.IFlyout) {\n    const flyoutWorkspace = flyout.getWorkspace();\n    flyoutWorkspace.addChangeListener(this.flyoutChangeWrapper);\n    const FlyoutCursorClass = Blockly.registry.getClass(\n      cursorRegistrationType,\n      cursorRegistrationName,\n    );\n    if (FlyoutCursorClass) {\n      flyoutWorkspace\n        .getMarkerManager()\n        .setCursor(new FlyoutCursorClass(flyout));\n    }\n  }\n\n  /**\n   * Removes all change listeners from the flyout that are needed for\n   * keyboard navigation to work.\n   *\n   * @param flyout The flyout to add a cursor and event listeners to.\n   */\n  removeFlyout(flyout: Blockly.IFlyout) {\n    const flyoutWorkspace = flyout.getWorkspace();\n    flyoutWorkspace.removeChangeListener(this.flyoutChangeWrapper);\n  }\n\n  /**\n   * Updates the state of keyboard navigation and the position of the cursor\n   * based on workspace events.\n   *\n   * @param e The Blockly event to process.\n   */\n  workspaceChangeListener(e: Blockly.Events.Abstract) {\n    if (!e.workspaceId) {\n      return;\n    }\n    const workspace = Blockly.Workspace.getById(\n      e.workspaceId,\n    ) as Blockly.WorkspaceSvg;\n    if (!workspace || !workspace.keyboardAccessibilityMode) {\n      return;\n    }\n    if (e.type === Blockly.Events.BLOCK_CHANGE) {\n      if ((e as Blockly.Events.BlockChange).element === 'mutation') {\n        this.handleBlockMutation(workspace, e as Blockly.Events.BlockChange);\n      }\n    }\n  }\n\n  /**\n   * Updates the state of keyboard navigation and the position of the cursor\n   * based on events emitted from the flyout's workspace.\n   *\n   * @param e The Blockly event to process.\n   */\n  flyoutChangeListener(e: Blockly.Events.Abstract) {\n    if (!e.workspaceId) {\n      return;\n    }\n    const flyoutWorkspace = Blockly.Workspace.getById(\n      e.workspaceId,\n    ) as Blockly.WorkspaceSvg | null;\n    const mainWorkspace = flyoutWorkspace?.targetWorkspace;\n    if (!mainWorkspace) {\n      return;\n    }\n    const flyout = mainWorkspace.getFlyout();\n    if (!flyout) {\n      return;\n    }\n\n    // This is called for simple toolboxes and for toolboxes that have a flyout\n    // that does not close. Autoclosing flyouts close before we need to focus\n    // the cursor on the block that was clicked.\n    if (\n      mainWorkspace &&\n      mainWorkspace.keyboardAccessibilityMode &&\n      !flyout.autoClose\n    ) {\n      if (\n        e.type === Blockly.Events.CLICK &&\n        (e as Blockly.Events.Click).targetType === 'block'\n      ) {\n        const {blockId} = e as Blockly.Events.Click;\n        if (blockId) {\n          const block = flyoutWorkspace.getBlockById(blockId);\n          if (block) {\n            this.handleBlockClickInFlyout(mainWorkspace, block);\n          }\n        }\n      } else if (e.type === Blockly.Events.SELECTED) {\n        const {newElementId} = e as Blockly.Events.Selected;\n        if (newElementId) {\n          const block = flyoutWorkspace.getBlockById(newElementId);\n          if (block) {\n            this.handleBlockClickInFlyout(mainWorkspace, block);\n          }\n        }\n      }\n    } else if (\n      e.type === Blockly.Events.BLOCK_CREATE &&\n      this.getState() === Constants.STATE.FLYOUT\n    ) {\n      // When variables are created, that recreates the flyout contents, leaving the\n      // cursor in an invalid state.\n      this.defaultFlyoutCursorIfNeeded(mainWorkspace);\n    }\n  }\n\n  private isFlyoutItemDisposed(\n    node: Blockly.IFocusableNode,\n    sourceBlock: Blockly.BlockSvg | null,\n  ) {\n    if (sourceBlock?.disposed) {\n      return true;\n    }\n    if (node instanceof Blockly.FlyoutButton) {\n      return node.getSvgRoot().parentNode === null;\n    }\n    return false;\n  }\n\n  /**\n   * Moves the cursor to the block level when the block the cursor is on\n   * mutates.\n   *\n   * @param workspace The workspace the cursor belongs\n   *     to.\n   * @param e The Blockly event to process.\n   */\n  handleBlockMutation(\n    workspace: Blockly.WorkspaceSvg,\n    e: Blockly.Events.BlockChange,\n  ) {\n    const mutatedBlockId = e.blockId;\n    const cursor = workspace.getCursor();\n    const block = cursor.getSourceBlock();\n    if (block && block.id === mutatedBlockId) {\n      cursor.setCurNode(block);\n    }\n  }\n\n  /**\n   * Handles when a user clicks on a block in the flyout by moving the cursor\n   * to that stack of blocks and setting the state of navigation to the flyout.\n   *\n   * @param mainWorkspace The workspace the user clicked on.\n   * @param block The block the user clicked on.\n   */\n  handleBlockClickInFlyout(\n    mainWorkspace: Blockly.WorkspaceSvg,\n    block: Blockly.BlockSvg,\n  ) {\n    if (!block) {\n      return;\n    }\n    const curNodeBlock = block.isShadow() ? block : block.getParent();\n    if (curNodeBlock) {\n      this.getFlyoutCursor(mainWorkspace)?.setCurNode(curNodeBlock);\n    }\n    const flyout = mainWorkspace.getFlyout();\n    if (flyout) {\n      Blockly.getFocusManager().focusTree(flyout.getWorkspace());\n    }\n  }\n\n  /**\n   * Move the flyout cursor to the preferred end if unset (as it is initially despite\n   * the types) or on a disposed item.\n   *\n   * @param workspace The workspace.\n   * @param prefer The preferred default position.\n   * @return true if the cursor location was defaulted.\n   */\n  defaultFlyoutCursorIfNeeded(\n    workspace: Blockly.WorkspaceSvg,\n    prefer: 'first' | 'last' = 'first',\n  ) {\n    const flyout = workspace.getFlyout();\n    if (!flyout) return false;\n    const flyoutCursor = this.getFlyoutCursor(workspace);\n    if (!flyoutCursor) return false;\n\n    const curNode = flyoutCursor.getCurNode();\n    const sourceBlock = flyoutCursor.getSourceBlock();\n    // If the current node is a child of the flyout, nothing needs to be done.\n    if (\n      curNode &&\n      curNode !== flyout.getWorkspace() &&\n      curNode.getFocusableTree() === flyout.getWorkspace() &&\n      !this.isFlyoutItemDisposed(curNode, sourceBlock)\n    ) {\n      return false;\n    }\n\n    const flyoutContents = flyout.getContents();\n    const defaultFlyoutItem =\n      prefer === 'first'\n        ? flyoutContents[0]\n        : flyoutContents[flyoutContents.length - 1];\n    if (!defaultFlyoutItem) return false;\n    const defaultFlyoutItemElement = defaultFlyoutItem.getElement();\n    flyoutCursor.setCurNode(defaultFlyoutItemElement);\n    return true;\n  }\n\n  /**\n   * Sets the cursor location when focusing the workspace.\n   * Tries the following, in order, stopping after the first success:\n   *  - Resume editing by returning the cursor to its previous location, if valid.\n   *  - Move the cursor to the top connection point on on the first top block.\n   *  - Move the cursor to the default location on the workspace.\n   *\n   * @param workspace The main Blockly workspace.\n   * @param prefer The preferred default position.\n   * @return true if the cursor location was defaulted.\n   */\n  defaultWorkspaceCursorPositionIfNeeded(\n    workspace: Blockly.WorkspaceSvg,\n    prefer: 'first' | 'last' = 'first',\n  ) {\n    const topBlocks = workspace.getTopBlocks(true);\n    const cursor = workspace.getCursor();\n    const disposed = cursor.getSourceBlock()?.disposed;\n    if (cursor.getCurNode() && !disposed) {\n      // Retain the cursor's previous position since it's set, but only if not\n      // disposed (which can happen when blocks are reloaded).\n      return false;\n    }\n    if (topBlocks.length > 0) {\n      cursor.setCurNode(\n        topBlocks[prefer === 'first' ? 0 : topBlocks.length - 1],\n      );\n    } else {\n      cursor.setCurNode(workspace);\n    }\n    return true;\n  }\n\n  /**\n   * Gets the cursor on the flyout's workspace.\n   *\n   * @param workspace The main workspace the flyout is on.\n   * @returns The flyout's cursor or null if no flyout exists.\n   */\n  getFlyoutCursor(workspace: Blockly.WorkspaceSvg): Blockly.LineCursor | null {\n    const flyout = workspace.getFlyout();\n    const cursor = flyout ? flyout.getWorkspace().getCursor() : null;\n\n    return cursor;\n  }\n\n  /**\n   * Tries to intelligently connect the blocks or connections\n   * represented by the given nodes, based on node types and locations.\n   *\n   * @param stationaryNode The first node to connect.\n   * @param movingBlock The block we're moving.\n   * @returns True if the key was handled; false if something went\n   *     wrong.\n   */\n  findInsertStartPoint(\n    stationaryNode: Blockly.IFocusableNode,\n    movingBlock: Blockly.BlockSvg,\n  ): Blockly.RenderedConnection | null {\n    const movingHasOutput = !!movingBlock.outputConnection;\n\n    if (stationaryNode instanceof Blockly.Field) {\n      // Can't connect a block to a field, so try going up to the source block.\n      const sourceBlock = stationaryNode.getSourceBlock() as Blockly.BlockSvg;\n      if (!sourceBlock) return null;\n      return this.findInsertStartPoint(sourceBlock, movingBlock);\n    } else if (stationaryNode instanceof Blockly.RenderedConnection) {\n      // Move to the block if we're trying to insert a statement block into\n      // a value connection.\n      if (\n        !movingHasOutput &&\n        stationaryNode.type === Blockly.ConnectionType.INPUT_VALUE\n      ) {\n        const sourceBlock = stationaryNode.getSourceBlock();\n        if (!sourceBlock) return null;\n        return this.findInsertStartPoint(sourceBlock, movingBlock);\n      }\n\n      // Connect the moving block to the stationary connection using\n      // the most plausible connection on the moving block.\n      return stationaryNode;\n    } else if (stationaryNode instanceof Blockly.WorkspaceSvg) {\n      return null;\n    } else if (stationaryNode instanceof Blockly.BlockSvg) {\n      // 1. Connect blocks to first compatible input\n      const inputType = movingHasOutput\n        ? Blockly.inputs.inputTypes.VALUE\n        : Blockly.inputs.inputTypes.STATEMENT;\n      const compatibleConnections = stationaryNode.inputList\n        .filter((input) => input.type === inputType)\n        .map((input) => input.connection);\n      for (const connection of compatibleConnections) {\n        let targetConnection: Blockly.Connection | null | undefined =\n          connection;\n        if (inputType === Blockly.inputs.inputTypes.STATEMENT) {\n          while (targetConnection?.targetBlock()?.nextConnection) {\n            targetConnection = targetConnection?.targetBlock()?.nextConnection;\n          }\n        }\n\n        if (\n          targetConnection &&\n          movingBlock.workspace.connectionChecker.canConnect(\n            movingHasOutput\n              ? movingBlock.outputConnection\n              : movingBlock.previousConnection,\n            targetConnection,\n            true,\n            // Since we're connecting programmatically, we don't care how\n            // close the blocks are when determining if they can be connected.\n            Infinity,\n          )\n        ) {\n          return targetConnection as Blockly.RenderedConnection;\n        }\n      }\n\n      // 2. Connect statement blocks to next connection. Only return a next\n      // connection to which the statement block can actually connect; some\n      // may be ineligible because they are e.g. in the middle of an immovable\n      // stack.\n      if (stationaryNode.nextConnection && !movingHasOutput) {\n        let nextConnection: Blockly.RenderedConnection | null =\n          stationaryNode.nextConnection;\n        while (nextConnection) {\n          if (\n            movingBlock.workspace.connectionChecker.canConnect(\n              movingBlock.previousConnection,\n              nextConnection,\n              true,\n              // Since we're connecting programmatically, we don't care how\n              // close the blocks are when determining if they can be connected.\n              Infinity,\n            )\n          ) {\n            return nextConnection;\n          }\n          nextConnection =\n            nextConnection.getSourceBlock().getNextBlock()?.nextConnection ??\n            null;\n        }\n      }\n\n      // 3. Output connection. This will wrap around or displace.\n      if (stationaryNode.outputConnection) {\n        // Try to wrap.\n        const target = stationaryNode.outputConnection.targetConnection;\n        if (movingHasOutput && target) {\n          return this.findInsertStartPoint(target, movingBlock);\n        } else if (!movingHasOutput) {\n          // Move to parent if we're trying to insert a statement block.\n          const parent = stationaryNode.getParent();\n          if (!parent) return null;\n          return this.findInsertStartPoint(parent, movingBlock);\n        }\n        return stationaryNode.outputConnection;\n      }\n    }\n    this.warn(`Unexpected case in findInsertStartPoint ${stationaryNode}.`);\n    return null;\n  }\n\n  /**\n   * Tries to intelligently connect the blocks or connections\n   * represented by the given nodes, based on node types and locations.\n   *\n   * @param stationaryNode The first node to connect.\n   * @param movingBlock The block we're moving.\n   * @returns True if the connection was successful, false otherwise.\n   */\n  tryToConnectBlock(\n    stationaryNode: Blockly.IFocusableNode,\n    movingBlock: Blockly.BlockSvg,\n  ): boolean {\n    const destConnection = this.findInsertStartPoint(\n      stationaryNode,\n      movingBlock,\n    );\n    if (!destConnection) return false;\n    return this.insertBlock(movingBlock, destConnection);\n  }\n\n  /**\n   * Disconnects the child block from its parent block. No-op if the two given\n   * connections are unrelated.\n   *\n   * @param movingConnection The connection that is being moved.\n   * @param destConnection The connection to be moved to.\n   */\n  disconnectChild(\n    movingConnection: Blockly.RenderedConnection,\n    destConnection: Blockly.RenderedConnection,\n  ) {\n    const movingBlock = movingConnection.getSourceBlock();\n    const destBlock = destConnection.getSourceBlock();\n    let inferiorConnection;\n\n    if (movingBlock.getRootBlock() === destBlock.getRootBlock()) {\n      if (movingBlock.getDescendants(false).includes(destBlock)) {\n        inferiorConnection = this.getInferiorConnection(destConnection);\n        if (inferiorConnection) {\n          inferiorConnection.disconnect();\n        }\n      } else {\n        inferiorConnection = this.getInferiorConnection(movingConnection);\n        if (inferiorConnection) {\n          inferiorConnection.disconnect();\n        }\n      }\n    }\n  }\n\n  /**\n   * Tries to connect the  given connections.\n   *\n   * If the given connections are not compatible try finding compatible\n   * connections on the source blocks of the given connections.\n   *\n   * @param movingConnection The connection that is being moved.\n   * @param destConnection The connection to be moved to.\n   * @returns True if the two connections or their target connections\n   *     were connected, false otherwise.\n   */\n  connect(\n    movingConnection: Blockly.RenderedConnection | null,\n    destConnection: Blockly.RenderedConnection | null,\n  ): boolean {\n    if (!movingConnection || !destConnection) {\n      return false;\n    }\n\n    const movingInferior = this.getInferiorConnection(movingConnection);\n    const destSuperior = this.getSuperiorConnection(destConnection);\n\n    const movingSuperior = this.getSuperiorConnection(movingConnection);\n    const destInferior = this.getInferiorConnection(destConnection);\n\n    if (\n      movingInferior &&\n      destSuperior &&\n      this.moveAndConnect(movingInferior, destSuperior)\n    ) {\n      return true;\n      // Try swapping the inferior and superior connections on the blocks.\n    } else if (\n      movingSuperior &&\n      destInferior &&\n      this.moveAndConnect(movingSuperior, destInferior)\n    ) {\n      return true;\n    } else if (this.moveAndConnect(movingConnection, destConnection)) {\n      return true;\n    } else {\n      const checker = movingConnection.getConnectionChecker();\n      const reason = checker.canConnectWithReason(\n        movingConnection,\n        destConnection,\n        false,\n      );\n      this.warn(\n        'Connection failed with error: ' +\n          checker.getErrorMessage(reason, movingConnection, destConnection),\n      );\n      return false;\n    }\n  }\n\n  /**\n   * Finds the inferior connection on the source block if the given connection\n   * is superior.\n   *\n   * @param connection The connection trying to be connected.\n   * @returns The inferior connection or null if none exists.\n   */\n  getInferiorConnection(\n    connection: Blockly.RenderedConnection | null,\n  ): Blockly.RenderedConnection | null {\n    if (!connection) {\n      return null;\n    }\n    const block = connection.getSourceBlock() as Blockly.BlockSvg;\n    if (!connection.isSuperior()) {\n      return connection;\n    } else if (block.previousConnection) {\n      return block.previousConnection;\n    } else if (block.outputConnection) {\n      return block.outputConnection;\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Finds a superior connection on the source block if the given connection is\n   * inferior.\n   *\n   * @param connection The connection trying to be connected.\n   * @returns The superior connection or null if none exists.\n   */\n  getSuperiorConnection(\n    connection: Blockly.RenderedConnection | null,\n  ): Blockly.RenderedConnection | null {\n    if (!connection) {\n      return null;\n    }\n    if (connection.isSuperior()) {\n      return connection;\n    } else if (connection.targetConnection) {\n      return connection.targetConnection;\n    }\n    return null;\n  }\n\n  /**\n   * Moves the moving connection to the target connection and connects them.\n   *\n   * @param movingConnection The connection that is being moved.\n   * @param destConnection The connection to be moved to.\n   * @returns True if the connections were connected, false otherwise.\n   */\n  moveAndConnect(\n    movingConnection: Blockly.RenderedConnection | null,\n    destConnection: Blockly.RenderedConnection | null,\n  ): boolean {\n    if (!movingConnection || !destConnection) {\n      return false;\n    }\n    const movingBlock = movingConnection.getSourceBlock();\n    const checker = movingConnection.getConnectionChecker();\n\n    if (\n      checker.canConnect(movingConnection, destConnection, false) &&\n      !destConnection.getSourceBlock().isShadow()\n    ) {\n      this.disconnectChild(movingConnection, destConnection);\n\n      // Position the root block near the connection so it does not move the\n      // other block when they are connected.\n      if (!destConnection.isSuperior()) {\n        const rootBlock = movingBlock.getRootBlock();\n\n        const originalOffsetToTarget = {\n          x: destConnection.x - movingConnection.x,\n          y: destConnection.y - movingConnection.y,\n        };\n        const originalOffsetInBlock = movingConnection\n          .getOffsetInBlock()\n          .clone();\n        rootBlock.positionNearConnection(\n          movingConnection,\n          originalOffsetToTarget,\n          originalOffsetInBlock,\n        );\n      }\n      destConnection.connect(movingConnection);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Tries to connect the given block to the destination connection, making an\n   * intelligent guess about which connection to use on the moving block.\n   *\n   * @param block The block to move.\n   * @param destConnection The connection to\n   *     connect to.\n   * @returns Whether the connection was successful.\n   */\n  insertBlock(\n    block: Blockly.BlockSvg,\n    destConnection: Blockly.RenderedConnection,\n  ): boolean {\n    switch (destConnection.type) {\n      case Blockly.PREVIOUS_STATEMENT:\n        if (this.connect(block.nextConnection, destConnection)) {\n          return true;\n        }\n        break;\n      case Blockly.NEXT_STATEMENT:\n        if (this.connect(block.previousConnection, destConnection)) {\n          return true;\n        }\n        break;\n      case Blockly.INPUT_VALUE:\n        if (this.connect(block.outputConnection, destConnection)) {\n          return true;\n        }\n        break;\n      case Blockly.OUTPUT_VALUE:\n        for (let i = 0; i < block.inputList.length; i++) {\n          const inputConnection = block.inputList[i].connection;\n          if (\n            inputConnection &&\n            inputConnection.type === Blockly.INPUT_VALUE &&\n            this.connect(\n              inputConnection as Blockly.RenderedConnection,\n              destConnection,\n            )\n          ) {\n            return true;\n          }\n        }\n        // If there are no input values pass the output and destination\n        // connections to connect_ to find a way to connect the two.\n        if (\n          block.outputConnection &&\n          this.connect(block.outputConnection, destConnection)\n        ) {\n          return true;\n        }\n        break;\n    }\n    this.warn('This block can not be inserted at the marked location.');\n    return false;\n  }\n\n  /**\n   * Enables accessibility mode.\n   *\n   * @param workspace The workspace to enable keyboard\n   *     accessibility mode on.\n   */\n  enableKeyboardAccessibility(workspace: Blockly.WorkspaceSvg) {\n    if (\n      this.workspaces.includes(workspace) &&\n      !workspace.keyboardAccessibilityMode\n    ) {\n      workspace.keyboardAccessibilityMode = true;\n    }\n  }\n\n  /**\n   * Disables accessibility mode.\n   *\n   * @param workspace The workspace to disable keyboard\n   *     accessibility mode on.\n   */\n  disableKeyboardAccessibility(workspace: Blockly.WorkspaceSvg) {\n    if (\n      this.workspaces.includes(workspace) &&\n      workspace.keyboardAccessibilityMode\n    ) {\n      workspace.keyboardAccessibilityMode = false;\n    }\n  }\n\n  /**\n   * Navigation log handler. If loggingCallback is defined, use it.\n   * Otherwise just log to the console.log.\n   *\n   * @param msg The message to log.\n   */\n  log(msg: string) {\n    console.log(msg);\n  }\n\n  /**\n   * Navigation warning handler. If loggingCallback is defined, use it.\n   * Otherwise call console.warn.\n   *\n   * @param msg The warning message.\n   */\n  warn(msg: string) {\n    console.warn(msg);\n  }\n\n  /**\n   * Navigation error handler. If loggingCallback is defined, use it.\n   * Otherwise call console.error.\n   *\n   * @param msg The error message.\n   */\n  error(msg: string) {\n    console.error(msg);\n  }\n\n  /**\n   * Save the current cursor location and open the toolbox or flyout\n   * to select and insert a block.\n   *\n   * @param workspace The active workspace.\n   */\n  openToolboxOrFlyout(workspace: Blockly.WorkspaceSvg) {\n    const toolbox = workspace.getToolbox();\n    const flyout = workspace.getFlyout();\n    if (toolbox) {\n      Blockly.getFocusManager().focusTree(toolbox);\n    } else if (flyout) {\n      Blockly.getFocusManager().focusTree(flyout.getWorkspace());\n    }\n  }\n\n  /**\n   * Pastes the copied block to the marked location if possible or\n   * onto the workspace otherwise.\n   *\n   * @param copyData The data to paste into the workspace.\n   * @param workspace The workspace to paste the data into.\n   * @returns True if the paste was sucessful, false otherwise.\n   */\n  paste(copyData: Blockly.ICopyData, workspace: Blockly.WorkspaceSvg): boolean {\n    // Do this before clipoard.paste due to cursor/focus workaround in getCurNode.\n    const targetNode = workspace.getCursor().getCurNode();\n\n    Blockly.Events.setGroup(true);\n    const block = Blockly.clipboard.paste(\n      copyData,\n      workspace,\n    ) as Blockly.BlockSvg;\n    if (block) {\n      if (targetNode) {\n        this.tryToConnectBlock(targetNode, block);\n      }\n      return true;\n    }\n    Blockly.Events.setGroup(false);\n    return false;\n  }\n\n  /**\n   * Determines whether keyboard navigation should be allowed based on the\n   * current state of the workspace.\n   *\n   * A return value of 'true' generally indicates that either the workspace,\n   * toolbox or flyout has enabled keyboard navigation and is currently in a\n   * state (e.g. focus) that can support keyboard navigation.\n   *\n   * @param workspace the workspace in which keyboard navigation may be allowed.\n   * @returns whether keyboard navigation is currently allowed.\n   */\n  canCurrentlyNavigate(workspace: Blockly.WorkspaceSvg) {\n    // Only the main/root workspace has the accessibility mode bit set; for\n    // nested workspaces (mutators or flyouts) we need to walk up the tree.\n    // Default to the root workspace if present. Flyouts don't consider\n    // their workspaces to have a root workspace/be a nested child, so fall\n    // back to checking the target workspace's root (`.targetWorkspace` only\n    // exists on flyout workspaces) and then fall back to the target/main\n    // workspace itself.\n    const accessibilityMode = (\n      workspace.getRootWorkspace() ??\n      workspace.targetWorkspace?.getRootWorkspace() ??\n      workspace.targetWorkspace ??\n      workspace\n    ).keyboardAccessibilityMode;\n    return !!accessibilityMode && this.getState() !== Constants.STATE.NOWHERE;\n  }\n\n  /**\n   * Determines whether the provided workspace is currently keyboard navigable\n   * and editable.\n   *\n   * For the navigability criteria, see canCurrentlyKeyboardNavigate.\n   *\n   * @param workspace the workspace in which keyboard editing may be allowed.\n   * @returns whether keyboard navigation and editing is currently allowed.\n   */\n  canCurrentlyEdit(workspace: Blockly.WorkspaceSvg) {\n    return this.canCurrentlyNavigate(workspace) && !workspace.isReadOnly();\n  }\n\n  /**\n   * Removes the change listeners on all registered workspaces.\n   */\n  dispose() {\n    for (const workspace of this.workspaces) {\n      this.removeWorkspace(workspace);\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Registers all of the keyboard shortcuts that are necessary for\n * navigating blockly using the keyboard.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\nimport * as Blockly from 'blockly/core';\nimport {\n  ShortcutRegistry,\n  Toolbox,\n  utils as BlocklyUtils,\n  WorkspaceSvg,\n  keyboardNavigationController,\n} from 'blockly/core';\n\nimport * as Constants from './constants';\nimport {Clipboard} from './actions/clipboard';\nimport {DeleteAction} from './actions/delete';\nimport {EditAction} from './actions/edit';\nimport {Navigation} from './navigation';\nimport {ShortcutDialog} from './shortcut_dialog';\nimport {WorkspaceMovement} from './actions/ws_movement';\nimport {ArrowNavigation} from './actions/arrow_navigation';\nimport {ExitAction} from './actions/exit';\nimport {EnterAction} from './actions/enter';\nimport {DisconnectAction} from './actions/disconnect';\nimport {ActionMenu} from './actions/action_menu';\nimport {MoveActions} from './actions/move';\nimport {COMMIT_MOVE_SHORTCUT, Mover} from './actions/mover';\nimport {DuplicateAction} from './actions/duplicate';\nimport {StackNavigationAction} from './actions/stack_navigation';\n\nconst KeyCodes = BlocklyUtils.KeyCodes;\n\n/**\n * Class for registering shortcuts for keyboard navigation.\n */\nexport class NavigationController {\n  private navigation: Navigation = new Navigation();\n\n  private mover: Mover;\n\n  shortcutDialog: ShortcutDialog = new ShortcutDialog();\n\n  /** Context menu and keyboard action for deletion. */\n  deleteAction: DeleteAction = new DeleteAction();\n\n  /** Context menu and keyboard action for deletion. */\n  editAction: EditAction = new EditAction(this.navigation);\n\n  /** Keyboard shortcut for disconnection. */\n  disconnectAction: DisconnectAction = new DisconnectAction(this.navigation);\n\n  clipboard: Clipboard;\n\n  duplicateAction = new DuplicateAction();\n\n  workspaceMovement: WorkspaceMovement = new WorkspaceMovement(this.navigation);\n\n  /** Keyboard navigation actions for the arrow keys. */\n  arrowNavigation: ArrowNavigation = new ArrowNavigation(this.navigation);\n\n  exitAction: ExitAction = new ExitAction(this.navigation);\n\n  enterAction: EnterAction;\n\n  actionMenu: ActionMenu = new ActionMenu(this.navigation);\n\n  moveActions: MoveActions;\n\n  stackNavigationAction: StackNavigationAction = new StackNavigationAction();\n\n  constructor(\n    private options: {\n      allowCrossWorkspacePaste: boolean;\n      highlightConnections?: boolean;\n      shouldDisableAutoScroll?: () => boolean;\n    } = {\n      allowCrossWorkspacePaste: false,\n      highlightConnections: true,\n    },\n  ) {\n    this.mover = new Mover(\n      this.navigation,\n      options.highlightConnections ?? true,\n      options.shouldDisableAutoScroll\n    );\n    this.enterAction = new EnterAction(this.mover, this.navigation);\n    this.moveActions = new MoveActions(this.mover);\n    this.clipboard = new Clipboard(this.navigation, options);\n  }\n\n  /**\n   * Original Toolbox.prototype.onShortcut method, saved by\n   * addShortcutHandlers.\n   */\n  private origToolboxOnShortcut:\n    | typeof Blockly.Toolbox.prototype.onShortcut\n    | null = null;\n\n  /**\n   * Registers the default keyboard shortcuts for keyboard navigation.\n   */\n  init() {\n    this.addShortcutHandlers();\n    this.registerDefaults();\n  }\n\n  /**\n   * Monkeypatches core Blockly components to add methods that allow\n   * them to handle keyboard shortcuts when in keyboard navigation\n   * mode.\n   */\n  protected addShortcutHandlers() {\n    this.origToolboxOnShortcut = Toolbox.prototype.onShortcut;\n    Toolbox.prototype.onShortcut = this.toolboxHandler;\n  }\n\n  /**\n   * Removes monkeypatches from core Blockly components.\n   */\n  protected removeShortcutHandlers() {\n    if (!this.origToolboxOnShortcut) {\n      throw new Error('no original onShortcut method recorded');\n    }\n    Blockly.Toolbox.prototype.onShortcut = this.origToolboxOnShortcut;\n    this.origToolboxOnShortcut = null;\n  }\n\n  /**\n   * Handles the given keyboard shortcut.\n   * This is only triggered when keyboard accessibility mode is enabled.\n   *\n   * @param shortcut The shortcut to be handled.\n   * @returns True if the toolbox handled the shortcut, false otherwise.\n   */\n  protected toolboxHandler(\n    this: Blockly.Toolbox,\n    shortcut: ShortcutRegistry.KeyboardShortcut,\n  ): boolean {\n    if (!this.selectedItem_) {\n      return false;\n    }\n    switch (shortcut.name) {\n      case Constants.SHORTCUT_NAMES.UP:\n        // @ts-expect-error private method\n        return this.selectPrevious();\n      case Constants.SHORTCUT_NAMES.LEFT:\n        // @ts-expect-error private method\n        return this.selectParent();\n      case Constants.SHORTCUT_NAMES.DOWN:\n        // @ts-expect-error private method\n        return this.selectNext();\n      case Constants.SHORTCUT_NAMES.RIGHT:\n        // @ts-expect-error private method\n        return this.selectChild();\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Adds all necessary event listeners and markers to a workspace for keyboard\n   * navigation to work. This must be called for keyboard navigation to work\n   * on a workspace.\n   *\n   * @param workspace The workspace to add keyboard\n   *     navigation to.\n   */\n  addWorkspace(workspace: WorkspaceSvg) {\n    this.navigation.addWorkspace(workspace);\n  }\n\n  /**\n   * Removes all necessary event listeners and markers to a workspace for\n   * keyboard navigation to work.\n   *\n   * @param workspace The workspace to remove keyboard\n   *     navigation from.\n   */\n  removeWorkspace(workspace: WorkspaceSvg) {\n    this.navigation.removeWorkspace(workspace);\n  }\n\n  /**\n   * Turns on keyboard navigation.\n   *\n   * @param workspace The workspace to turn on keyboard\n   *     navigation for.\n   */\n  enable(workspace: WorkspaceSvg) {\n    this.navigation.enableKeyboardAccessibility(workspace);\n  }\n\n  /**\n   * Turns off keyboard navigation.\n   *\n   * @param workspace The workspace to turn off keyboard\n   *     navigation on.\n   */\n  disable(workspace: WorkspaceSvg) {\n    this.navigation.disableKeyboardAccessibility(workspace);\n  }\n\n  /**\n   * Dictionary of KeyboardShortcuts.\n   */\n  protected shortcuts: {\n    [name: string]: ShortcutRegistry.KeyboardShortcut;\n  } = {\n    /** Move focus to or from the toolbox. */\n    focusToolbox: {\n      name: Constants.SHORTCUT_NAMES.TOOLBOX,\n      preconditionFn: (workspace) => !workspace.isDragging(),\n      callback: (workspace) => {\n        keyboardNavigationController.setIsActive(true);\n        switch (this.navigation.getState()) {\n          case Constants.STATE.WORKSPACE:\n            Blockly.getFocusManager().focusTree(\n              workspace.getToolbox() ??\n                workspace.getFlyout()?.getWorkspace() ??\n                workspace,\n            );\n            return true;\n          default:\n            return false;\n        }\n      },\n      keyCodes: [KeyCodes.T],\n    },\n\n    /** Clean up the workspace. */\n    cleanup: {\n      name: Constants.SHORTCUT_NAMES.CLEAN_UP,\n      preconditionFn: (workspace) =>\n        this.navigation.canCurrentlyEdit(workspace) &&\n        workspace.getTopBlocks(false).length > 0,\n      callback: (workspace) => {\n        workspace.cleanUp();\n        return true;\n      },\n      keyCodes: [KeyCodes.C],\n    },\n  };\n\n  /**\n   * Registers all default keyboard shortcut items for keyboard\n   * navigation. This should be called once per instance of\n   * KeyboardShortcutRegistry.\n   */\n  protected registerDefaults() {\n    for (const shortcut of Object.values(this.shortcuts)) {\n      ShortcutRegistry.registry.register(shortcut);\n    }\n    this.deleteAction.install();\n    this.workspaceMovement.install();\n    this.arrowNavigation.install();\n    this.editAction.install();\n    this.exitAction.install();\n    this.enterAction.install();\n    this.disconnectAction.install();\n    this.actionMenu.install();\n\n    this.clipboard.install();\n    this.duplicateAction.install();\n    this.moveActions.install();\n    this.shortcutDialog.install();\n    this.stackNavigationAction.install();\n\n    // Initialize the shortcut modal with available shortcuts.  Needs\n    // to be done separately rather at construction, as many shortcuts\n    // are not registered at that point.\n    this.shortcutDialog.createModalContent();\n  }\n\n  /**\n   * Enable or disable connection highlighting during move operations.\n   *\n   * @param enabled Whether to show connection highlights when moving blocks.\n   */\n  setHighlightConnections(enabled: boolean): void {\n    this.mover.setHighlightConnections(enabled);\n  }\n\n  /**\n   * Enable or disable fatter connection highlights.\n   *\n   * @param enabled Whether to use fatter connections with larger click targets.\n   */\n  setFatterConnections(enabled: boolean): void {\n    this.mover.setFatterConnections(enabled);\n  }\n\n  /**\n   * Set the connection highlight size.\n   *\n   * @param size The size level: 'minimal', 'medium', or 'large'.\n   */\n  setConnectionSize(size: 'minimal' | 'medium' | 'large'): void {\n    this.mover.setConnectionSize(size);\n  }\n\n  /**\n   * Removes all the keyboard navigation shortcuts.\n   */\n  dispose() {\n    this.moveActions.uninstall();\n    this.deleteAction.uninstall();\n    this.editAction.uninstall();\n    this.disconnectAction.uninstall();\n    this.clipboard.uninstall();\n    this.duplicateAction.uninstall();\n    this.workspaceMovement.uninstall();\n    this.arrowNavigation.uninstall();\n    this.exitAction.uninstall();\n    this.enterAction.uninstall();\n    this.actionMenu.uninstall();\n    this.shortcutDialog.uninstall();\n    this.stackNavigationAction.uninstall();\n\n    // This should get unregistered when a move finishes,\n    // but it's possible the controller is disposed mid-move.\n    if (ShortcutRegistry.registry.getRegistry()[COMMIT_MOVE_SHORTCUT]) {\n      ShortcutRegistry.registry.unregister(COMMIT_MOVE_SHORTCUT);\n    }\n\n    for (const shortcut of Object.values(this.shortcuts)) {\n      ShortcutRegistry.registry.unregister(shortcut.name);\n    }\n    this.removeShortcutHandlers();\n    this.navigation.dispose();\n  }\n}\n","/**\n * @license\n * Copyright 2024 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\nimport * as Constants from './constants';\nimport {Msg, ShortcutRegistry} from 'blockly/core';\nimport {\n  getLongActionShortcutsAsKeys,\n  upperCaseFirst,\n} from './shortcut_formatting';\nimport {clearHelpHint} from './hints';\n\n/**\n * Class for handling the shortcuts dialog.\n */\nexport class ShortcutDialog {\n  outputDiv: HTMLElement | null;\n  modalContainer: HTMLElement | null;\n  shortcutDialog: HTMLDialogElement | null;\n  open: boolean;\n  closeButton: HTMLElement | null;\n  /**\n   * Constructor for a dialog that displays available keyboard shortcuts.\n   */\n  constructor() {\n    // For testing purposes, this assumes that the page has a\n    // div named 'shortcuts'.\n    this.outputDiv = document.getElementById('shortcuts');\n\n    this.open = false;\n    this.modalContainer = null;\n    this.shortcutDialog = null;\n    this.closeButton = null;\n  }\n\n  getPlatform() {\n    const {platform, userAgent} = navigator;\n    if (platform.startsWith('Win')) {\n      return Msg['WINDOWS'];\n    } else if (platform.startsWith('Mac')) {\n      return Msg['MAC_OS'];\n    } else if (/\\bCrOS\\b/.test(userAgent)) {\n      // Order is important because platform matches the Linux case below.\n      return Msg['CHROME_OS'];\n    } else if (platform.includes('Linux')) {\n      return Msg['LINUX'];\n    } else {\n      return Msg['UNKNOWN'];\n    }\n  }\n\n  toggle(workspace: Blockly.WorkspaceSvg) {\n    clearHelpHint(workspace);\n    this.toggleInternal();\n  }\n\n  toggleInternal() {\n    if (this.modalContainer && this.shortcutDialog) {\n      // Use built in dialog methods.\n      if (this.shortcutDialog.hasAttribute('open')) {\n        this.shortcutDialog.close();\n      } else {\n        this.shortcutDialog.showModal();\n      }\n    }\n  }\n\n  /**\n   * Munges a shortcut name into human readable text.\n   *\n   * @param shortcutName Shortcut name to convert.\n   * @returns A title case version of the name.\n   */\n  getReadableShortcutName(shortcutName: string) {\n    if (Constants.SHORTCUT_NAMES_TO_DISPLAY_TEXT[shortcutName]) {\n      return Constants.SHORTCUT_NAMES_TO_DISPLAY_TEXT[shortcutName];\n    }\n    return upperCaseFirst(shortcutName.replace(/_/gi, ' '));\n  }\n\n  /**\n   * List all currently registered shortcuts as a table.\n   */\n  createModalContent() {\n    let shortcutTables = ``;\n\n    // Display shortcuts by their categories.\n    for (const [key, categoryShortcuts] of Object.entries(\n      Constants.SHORTCUT_CATEGORIES,\n    )) {\n      let shortcutTableRows = ``;\n      for (const keyboardShortcut of categoryShortcuts) {\n        shortcutTableRows += this.getTableRowForShortcut(\n          keyboardShortcut as string,\n        );\n      }\n      shortcutTables += `\n        <table class=\"shortcut-table\">\n          <tbody>\n            <tr class=\"category\"><th colspan=\"3\"><h2>${key}</h2></th></tr>\n            ${shortcutTableRows}\n          </tbody>\n        </table>`;\n    }\n\n    const modalContents = `<div class=\"modal-container\">\n      <dialog class=\"shortcut-modal\">\n        <div class=\"shortcut-container\" tabindex=\"0\">\n          <div class=\"header\">\n            <button class=\"close-modal\">\n              <span class=\"material-symbols-outlined\">close</span>\n            </button>\n            <h1>${Msg['SHORTCUTS_HELP_HEADER'] || 'Keyboard shortcuts'}  <span class=\"platform\">${this.getPlatform()}</span></h1>\n          </div>\n          <div class=\"shortcut-tables\">\n          ${shortcutTables}\n          </div>\n        </dialog>\n      </div>`;\n    if (this.outputDiv) {\n      this.outputDiv.innerHTML = modalContents;\n      this.modalContainer = this.outputDiv.querySelector('.modal-container');\n      this.shortcutDialog = this.outputDiv.querySelector('.shortcut-modal');\n      this.closeButton = this.outputDiv.querySelector('.close-modal');\n      if (this.closeButton) {\n        this.closeButton.addEventListener('click', (e) => {\n          this.toggleInternal();\n        });\n      }\n    }\n  }\n\n  private getTableRowForShortcut(keyboardShortcut: string) {\n    const name = this.getReadableShortcutName(keyboardShortcut);\n    const keys = this.actionShortcutsToHTML(keyboardShortcut);\n    if (!name || !keys) return '';\n    return `\n              <tr>\n                <td>${name}</td>\n                <td>${keys}</td>\n              </tr>`;\n  }\n\n  private actionShortcutsToHTML(action: string) {\n    const shortcuts = getLongActionShortcutsAsKeys(action);\n    return shortcuts.map((keys) => this.keysToHTML(keys)).join(' / ');\n  }\n\n  private keysToHTML(keys: string[]) {\n    const separator = navigator.platform.startsWith('Mac') ? '' : ' + ';\n    if (!keys || !keys.length) return '';\n    return [\n      `<span class=\"shortcut-combo\">`,\n      ...keys.map((key, index) => {\n        return `<span class=\"key\">${key}</span>${index < keys.length - 1 ? separator : ''}`;\n      }),\n      `</span>`,\n    ].join('');\n  }\n\n  /**\n   * Registers an action to list shortcuts with the shortcut registry.\n   */\n  install() {\n    /** List all of the currently registered shortcuts. */\n    const announceShortcut: ShortcutRegistry.KeyboardShortcut = {\n      name: Constants.SHORTCUT_NAMES.LIST_SHORTCUTS,\n      callback: (workspace) => {\n        this.toggle(workspace);\n        return true;\n      },\n      keyCodes: [Blockly.utils.KeyCodes.SLASH],\n    };\n    ShortcutRegistry.registry.register(announceShortcut);\n  }\n\n  /**\n   * Unregisters the action to list shortcuts.\n   */\n  uninstall() {\n    ShortcutRegistry.registry.unregister(\n      Constants.SHORTCUT_NAMES.LIST_SHORTCUTS,\n    );\n  }\n}\n","import {ShortcutRegistry, Msg} from 'blockly';\nimport {keyNames} from './keynames';\n\nconst isMacPlatform = navigator.platform.startsWith('Mac');\n\n/**\n * Returns an HTML menu item with a label and grey keyboard shortcut.\n *\n * @param labelText The text of the mneu item.\n * @param action The identifier of an action to use the keyboard shortcut of.\n * @returns A nicely formatted menu item.\n */\nexport function getMenuItem(labelText: string, action: string): HTMLElement {\n  // TODO: Once core is updated to remove the shortcut placeholders from the\n  // keyboard shortcut messages, remove this.\n  if (labelText.indexOf(')') === labelText.length - 1) {\n    labelText = labelText.split(' (')[0];\n  }\n  const container = document.createElement('div');\n  container.className = 'blocklyShortcutContainer';\n  const label = document.createElement('span');\n  label.textContent = labelText;\n  const shortcut = document.createElement('span');\n  shortcut.className = 'blocklyShortcut';\n  shortcut.textContent = ` ${getShortActionShortcut(action)}`;\n  container.appendChild(label);\n  container.appendChild(shortcut);\n  return container;\n}\n\n/**\n * Find the primary shortcut for this platform and return it as single string\n * in a short user facing format.\n *\n * @param action The action name, e.g. \"cut\".\n * @returns The formatted shortcut.\n */\nexport function getShortActionShortcut(action: string): string {\n  const parts = getActionShortcutsAsKeys(action, shortModifierNames)[0];\n  return parts.join(isMacPlatform ? ' ' : ' + ');\n}\n\n/**\n * Find the relevant shortcuts for the given action for the current platform.\n * Keys are returned in a long user facing format.\n *\n * @param action The action name, e.g. \"cut\".\n * @returns The formatted shortcuts as individual keys.\n */\nexport function getLongActionShortcutsAsKeys(action: string): string[][] {\n  return getActionShortcutsAsKeys(action, longModifierNames);\n}\n\nconst longModifierNames: Record<string, string> = {\n  'Control': Msg['CONTROL_KEY'],\n  'Meta': Msg['COMMAND_KEY'],\n  'Alt': isMacPlatform ? Msg['OPTION_KEY'] : Msg['ALT_KEY'],\n};\n\nconst shortModifierNames: Record<string, string> = {\n  'Control': Msg['CONTROL_KEY'],\n  'Meta': '',\n  'Alt': isMacPlatform ? '' : Msg['ALT_KEY'],\n};\n\n/**\n * Find the relevant shortcuts for the given action for the current platform.\n * Keys are returned in a user facing format.\n *\n * This could be considerably simpler if we only bound shortcuts relevant to the\n * current platform or tagged them with a platform.\n *\n * @param action The action name, e.g. \"cut\".\n * @param modifierNames The names to use for the Meta/Control/Alt modifiers.\n * @returns The formatted shortcuts.\n */\nfunction getActionShortcutsAsKeys(\n  action: string,\n  modifierNames: Record<string, string>,\n): string[][] {\n  const shortcuts = ShortcutRegistry.registry.getKeyCodesByShortcutName(action);\n  if (shortcuts.length === 0) {\n    return [];\n  }\n  // See ShortcutRegistry.createSerializedKey for the starting format.\n  const shortcutsAsParts = shortcuts.map((shortcut) => shortcut.split('+'));\n\n  // Prefer e.g. Cmd+Shift to Shift+Cmd.\n  shortcutsAsParts.forEach((s) =>\n    s.sort((a, b) => {\n      const aValue = modifierOrder(a);\n      const bValue = modifierOrder(b);\n      return aValue - bValue;\n    }),\n  );\n\n  // Needed to prefer Command to Option where we've bound Alt.\n  shortcutsAsParts.sort((a, b) => {\n    const aValue = a.includes('Meta') ? 1 : 0;\n    const bValue = b.includes('Meta') ? 1 : 0;\n    return bValue - aValue;\n  });\n  let currentPlatform = shortcutsAsParts.filter((shortcut) => {\n    const isMacShortcut = shortcut.includes('Meta');\n    return isMacShortcut === isMacPlatform;\n  });\n  currentPlatform =\n    currentPlatform.length === 0 ? shortcutsAsParts : currentPlatform;\n\n  // Prefer simpler shortcuts. This promotes Ctrl+Y for redo.\n  currentPlatform.sort((a, b) => {\n    return a.length - b.length;\n  });\n\n  // If there are modifiers return only one shortcut on the assumption they are\n  // intended for different platforms. Otherwise assume they are alternatives.\n  const hasModifiers = currentPlatform.some((shortcut) =>\n    shortcut.some(\n      (key) => 'Meta' === key || 'Alt' === key || 'Control' === key,\n    ),\n  );\n  const chosen = hasModifiers ? [currentPlatform[0]] : currentPlatform;\n  return chosen.map((shortcut) => {\n    return shortcut\n      .map((maybeNumeric) => keyNames[maybeNumeric] ?? maybeNumeric)\n      .map((k) => upperCaseFirst(modifierNames[k] ?? k));\n  });\n}\n\n/**\n * Convert the first character to uppercase.\n *\n * @param str String.\n * @returns The string in title case.\n */\nexport function upperCaseFirst(str: string) {\n  return str.charAt(0).toUpperCase() + str.substring(1);\n}\n\n/**\n * Preferred listing order of untranslated modifiers.\n */\nconst modifierOrdering: string[] = ['Meta', 'Control', 'Alt', 'Shift'];\n\nfunction modifierOrder(key: string): number {\n  const order = modifierOrdering.indexOf(key);\n  // Regular keys at the end.\n  return order === -1 ? Number.MAX_VALUE : order;\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\nimport {NavigationController} from './navigation_controller';\nimport {Mover, MoveType} from './actions/mover';\nimport {getNonShadowBlock} from './workspace_utilities';\nimport {MoveGrip} from './move_grip';\n\n/**\n * Trigger modes for entering sticky mode.\n */\nexport enum TriggerMode {\n  /** Double-click to enter sticky mode (default behavior). */\n  DOUBLE_CLICK = 'double_click',\n  /** Shift + single click to enter sticky mode. */\n  SHIFT_CLICK = 'shift_click',\n  /** Single click on an already-focused block to enter sticky mode. */\n  FOCUSED_CLICK = 'focused_click',\n  /** Any single click enters sticky mode when singleClickToMove is enabled. */\n  MODE_TOGGLE = 'mode_toggle',\n  /** Click on the grip handle to enter sticky mode. */\n  GRIP_CLICK = 'grip_click',\n}\n\n/**\n * Information about an active sticky mode operation.\n */\nexport class StickyModeInfo {\n  constructor(\n    readonly block: Blockly.BlockSvg,\n    readonly startClientX: number,\n    readonly startClientY: number,\n  ) {}\n}\n\n/**\n * Controller for click-and-stick functionality.\n * Manages the lifecycle of sticky mode where blocks follow the cursor after double-click.\n * Follows the same architectural pattern as Mover (Map-based tracking, lifecycle methods).\n */\nexport class StickyModeController {\n  /** Map tracking active sticky mode operations per workspace. */\n  private stickyModes: Map<Blockly.WorkspaceSvg, StickyModeInfo> = new Map();\n\n  /** Event listeners that need cleanup. */\n  private listeners: Array<{\n    target: EventTarget;\n    type: string;\n    handler: EventListener;\n    options?: boolean | AddEventListenerOptions;\n  }> = [];\n\n  /** The current trigger mode for entering sticky mode. */\n  private triggerMode: TriggerMode = TriggerMode.DOUBLE_CLICK;\n\n  /** The block that was focused before pointerdown (for focused-click trigger mode). */\n  private focusedBlockBeforePointerdown: Blockly.BlockSvg | null = null;\n\n  /** Flag to ignore the next click event after entering sticky mode via shift+click. */\n  private ignoreNextClick: boolean = false;\n\n  /** The current move grip displayed on the focused block, if any. */\n  private currentGrip: MoveGrip | null = null;\n\n  /** The block that currently has a grip attached. */\n  private gripBlock: Blockly.BlockSvg | null = null;\n\n  /** Whether the block should follow the mouse cursor during sticky move (default: true). */\n  private keepBlockOnMouse: boolean = true;\n\n  constructor(\n    private workspace: Blockly.WorkspaceSvg,\n    private navigationController: NavigationController,\n  ) {}\n\n  /**\n   * Enable or disable keeping the block on the mouse during sticky move.\n   *\n   * @param enabled Whether the block should follow the cursor (true) or stay at click position (false).\n   */\n  setKeepBlockOnMouse(enabled: boolean): void {\n    this.keepBlockOnMouse = enabled;\n  }\n\n  /**\n   * Gets the mover from the navigation controller.\n   */\n  private get mover(): Mover {\n    return (this.navigationController as any).mover;\n  }\n\n  /**\n   * Gets the drag strategy from a block.\n   *\n   * @param block\n   */\n  private getDragStrategy(block: Blockly.BlockSvg) {\n    return (block as any).dragStrategy;\n  }\n\n  /**\n   * Sets click-and-stick mode on a block's drag strategy.\n   *\n   * @param block\n   * @param enabled\n   */\n  private setClickAndStickMode(block: Blockly.BlockSvg, enabled: boolean) {\n    const strategy = this.getDragStrategy(block);\n    if (strategy?.setClickAndStickMode) {\n      strategy.setClickAndStickMode(enabled);\n    }\n  }\n\n  /**\n   * Check if sticky mode is currently active for this workspace.\n   */\n  isActive(): boolean {\n    return this.stickyModes.has(this.workspace);\n  }\n\n  /**\n   * Get the block currently in sticky mode, if any.\n   */\n  getActiveBlock(): Blockly.BlockSvg | null {\n    const info = this.stickyModes.get(this.workspace);\n    return info ? info.block : null;\n  }\n\n  /**\n   * Set the trigger mode for entering sticky mode.\n   *\n   * @param mode The trigger mode to use.\n   */\n  setTriggerMode(mode: TriggerMode): void {\n    this.triggerMode = mode;\n  }\n\n  /**\n   * Check if the given block can enter sticky mode.\n   *\n   * @param block\n   */\n  canEnter(block: Blockly.BlockSvg): boolean {\n    return !!(\n      block &&\n      !block.isDisposed() &&\n      block.isMovable() &&\n      !this.mover.isMoving(this.workspace)\n    );\n  }\n\n  /**\n   * Sets up event listeners for click and stick functionality.\n   */\n  install() {\n    const workspaceElement = this.workspace.getParentSvg();\n    if (!workspaceElement) return;\n\n    this.addListener(workspaceElement, 'dblclick', (event) => {\n      this.handleDoubleClick(event as MouseEvent);\n    }, false);\n\n    this.addListener(document, 'pointermove', (event) => {\n      this.handlePointerMove(event as PointerEvent);\n    }, false);\n\n    // Capture pointerdown BEFORE it changes focus (capture phase)\n    // Must be on document with capture:true to catch ALL pointerdowns before focus changes\n    // Blockly uses pointerdown (not mousedown) for blocks to support touch\n    this.addListener(document, 'pointerdown', (event) => {\n      this.handlePointerDown(event as PointerEvent);\n    }, true);\n\n    this.addListener(document, 'click', (event) => {\n      this.handleClick(event as MouseEvent);\n    }, true);\n\n    // Listen for focus changes to manage grip display\n    this.workspace.addChangeListener(this.handleFocusChange.bind(this));\n  }\n\n  /**\n   * Removes all event listeners.\n   */\n  uninstall() {\n    for (const {target, type, handler, options} of this.listeners) {\n      target.removeEventListener(type, handler, options);\n    }\n    this.listeners = [];\n    this.hideGrip();\n  }\n\n  /**\n   * Handles focus change events to show/hide grip on focused blocks.\n   *\n   * @param event\n   */\n  private handleFocusChange(event: Blockly.Events.Abstract): void {\n    // Only show grip in GRIP_CLICK mode\n    if (this.triggerMode !== TriggerMode.GRIP_CLICK) {\n      return;\n    }\n\n    // Don't show grip during sticky mode\n    if (this.isActive()) {\n      return;\n    }\n\n    // Get the currently focused block\n    const cursor = this.workspace.getCursor();\n    if (!cursor) {\n      this.hideGrip();\n      return;\n    }\n\n    const curNode = cursor.getCurNode();\n    if (!curNode) {\n      this.hideGrip();\n      return;\n    }\n\n    // Get the block from the cursor node\n    let block: Blockly.BlockSvg | null = null;\n    if (curNode instanceof Blockly.BlockSvg) {\n      block = curNode;\n    } else if ('getSourceBlock' in curNode && typeof (curNode as any).getSourceBlock === 'function') {\n      block = (curNode as any).getSourceBlock();\n    }\n\n    if (!block) {\n      this.hideGrip();\n      return;\n    }\n\n    // If it's the same block, don't recreate the grip\n    if (this.gripBlock === block && this.currentGrip) {\n      return;\n    }\n\n    // Show grip on the new focused block\n    this.showGrip(block);\n  }\n\n  /**\n   * Shows the grip on the given block.\n   *\n   * @param block\n   */\n  private showGrip(block: Blockly.BlockSvg): void {\n    // Hide any existing grip first\n    this.hideGrip();\n\n    // Create and show new grip\n    this.currentGrip = new MoveGrip(block, (clickedBlock, event) => {\n      this.handleGripClick(clickedBlock, event);\n    });\n    this.currentGrip.show();\n    this.gripBlock = block;\n  }\n\n  /**\n   * Hides the current grip if one is showing.\n   */\n  private hideGrip(): void {\n    if (this.currentGrip) {\n      this.currentGrip.hide();\n      this.currentGrip = null;\n    }\n    this.gripBlock = null;\n  }\n\n  /**\n   * Handles click events on the grip.\n   *\n   * @param block\n   * @param event\n   */\n  private handleGripClick(block: Blockly.BlockSvg, event: MouseEvent): void {\n    const nonShadowBlock = getNonShadowBlock(block);\n    if (nonShadowBlock && nonShadowBlock.isMovable()) {\n      if (this.enter(nonShadowBlock, event.clientX, event.clientY)) {\n        // Hide grip when entering sticky mode\n        this.hideGrip();\n      }\n    }\n  }\n\n  /**\n   * Helper to add and track event listeners.\n   *\n   * @param target\n   * @param type\n   * @param handler\n   * @param options\n   */\n  private addListener(\n    target: EventTarget,\n    type: string,\n    handler: EventListener,\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    target.addEventListener(type, handler, options);\n    this.listeners.push({target, type, handler, options});\n  }\n\n  /**\n   * Enters sticky mode where a block follows the cursor.\n   *\n   * @param block The block to enter sticky mode with.\n   * @param clientX Screen X coordinate where the block was grabbed.\n   * @param clientY Screen Y coordinate where the block was grabbed.\n   * @returns True if sticky mode was successfully entered.\n   */\n  enter(block: Blockly.BlockSvg, clientX: number, clientY: number): boolean {\n    if (this.mover.isMoving(this.workspace)) {\n      this.mover.abortMove(this.workspace);\n    }\n\n    if (this.isActive()) {\n      this.exit('finish');\n    }\n\n    if (!block || block.isDisposed()) {\n      return false;\n    }\n\n    // Close any open fields before entering sticky mode\n    Blockly.DropDownDiv.hide();\n    Blockly.WidgetDiv.hide();\n\n    try {\n      const onMoveFinished = () => {\n        this.resetStickyState();\n      };\n\n      const success = this.mover.startMove(\n        this.workspace,\n        block,\n        MoveType.Move,\n        null,\n        onMoveFinished,\n      );\n\n      if (success) {\n        this.stickyModes.set(\n          this.workspace,\n          new StickyModeInfo(block, clientX, clientY),\n        );\n        block.getSvgRoot().classList.add('blockly-sticky-mode');\n        this.setClickAndStickMode(block, true);\n        return true;\n      }\n      return false;\n    } catch (error) {\n      this.stickyModes.delete(this.workspace);\n      return false;\n    }\n  }\n\n  /**\n   * Exits sticky mode.\n   *\n   * @param action Whether to finish (commit) or abort the move.\n   */\n  exit(action: 'finish' | 'abort') {\n    const info = this.stickyModes.get(this.workspace);\n    if (!info) return;\n\n    this.setClickAndStickMode(info.block, false);\n\n    if (this.mover.isMoving(this.workspace)) {\n      if (action === 'finish') {\n        this.mover.finishMove(this.workspace);\n      } else {\n        this.mover.abortMove(this.workspace);\n      }\n    }\n\n    this.resetStickyState();\n  }\n\n  /**\n   * Handles pointerdown to capture which block was focused BEFORE the click changes focus,\n   * and to handle shift+click trigger mode.\n   *\n   * @param event\n   */\n  private handlePointerDown(event: PointerEvent) {\n    // Handle shift+click mode - enter sticky mode immediately on pointerdown\n    if (this.triggerMode === TriggerMode.SHIFT_CLICK && event.shiftKey) {\n      const clickedBlock = this.getBlockFromEvent(event);\n      if (clickedBlock) {\n        const target = event.target as Element;\n        if (target && this.isDoubleClickOnField(target)) {\n          return;\n        }\n\n        const block = getNonShadowBlock(clickedBlock);\n        if (block && block.isMovable()) {\n          // Prevent Blockly's gesture from starting\n          event.preventDefault();\n          event.stopPropagation();\n\n          // Enter sticky mode immediately\n          if (this.enter(block, event.clientX, event.clientY)) {\n            // Set flag to ignore the next click event\n            this.ignoreNextClick = true;\n          }\n        }\n      }\n      return;\n    }\n\n    // Track focus state for FOCUSED_CLICK mode\n    if (this.triggerMode !== TriggerMode.FOCUSED_CLICK) {\n      return;\n    }\n\n    // Don't trigger sticky mode if clicking on a field\n    const target = event.target as Element;\n    const isField = this.isClickOnField(target);\n\n    if (target && isField) {\n      this.focusedBlockBeforePointerdown = null;\n      return;\n    }\n\n    // Capture the currently focused/selected block before the pointerdown changes focus\n    // We need to check both:\n    // 1. Cursor position (if keyboard navigation is active)\n    // 2. Selected blocks (if using mouse-only workflow)\n\n    let focusedBlock: Blockly.BlockSvg | null = null;\n\n    // Try to get from cursor first (keyboard navigation)\n    const cursor = this.workspace.getCursor();\n    if (cursor) {\n      const curNode = cursor.getCurNode();\n      if (curNode) {\n        if (curNode instanceof Blockly.BlockSvg) {\n          focusedBlock = curNode;\n        } else if ('getSourceBlock' in curNode && typeof (curNode as any).getSourceBlock === 'function') {\n          focusedBlock = (curNode as any).getSourceBlock();\n        }\n      }\n    }\n\n    // If no cursor-based focus, check for selected blocks (mouse workflow)\n    if (!focusedBlock) {\n      const selected = Blockly.common.getSelected();\n      if (selected && selected instanceof Blockly.BlockSvg && selected.workspace === this.workspace) {\n        focusedBlock = selected;\n      }\n    }\n\n    this.focusedBlockBeforePointerdown = focusedBlock;\n  }\n\n  /**\n   * Handles double-click events on blocks to enter sticky mode.\n   *\n   * @param event\n   */\n  private handleDoubleClick(event: MouseEvent) {\n    // Only handle double-clicks if trigger mode is set to DOUBLE_CLICK\n    if (this.triggerMode !== TriggerMode.DOUBLE_CLICK) {\n      return;\n    }\n\n    if (event.defaultPrevented) return;\n\n    if (this.isActive()) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    const target = event.target as Element;\n    const clickedBlock = this.getBlockFromEvent(event);\n\n    if (clickedBlock) {\n      this.workspace.getAudioManager().preload();\n    }\n\n    if (target && this.isDoubleClickOnField(target)) {\n      return;\n    }\n\n    const block = getNonShadowBlock(clickedBlock);\n    if (block && block.isMovable()) {\n      if (this.enter(block, event.clientX, event.clientY)) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n  }\n\n  /**\n   * Handles click events during sticky mode or to trigger sticky mode.\n   *\n   * @param event\n   */\n  private handleClick(event: MouseEvent) {\n    // If we just entered sticky mode via shift+click, ignore this click\n    if (this.ignoreNextClick) {\n      this.ignoreNextClick = false;\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    // If already in sticky mode, handle the drop/connect action\n    if (this.isActive()) {\n      this.handleStickyModeClick(event);\n      return;\n    }\n\n    // Get the clicked block once to avoid inconsistencies\n    const clickedBlock = this.getBlockFromEvent(event);\n\n    // Check if this is a flyout block - handle it specially\n    if (clickedBlock && this.isBlockFromFlyout(clickedBlock)) {\n      // Check if this click should trigger sticky mode based on trigger mode\n      const shouldTrigger = this.shouldTriggerStickyMode(event, clickedBlock);\n\n      if (shouldTrigger) {\n        const target = event.target as Element;\n\n        this.workspace.getAudioManager().preload();\n\n        if (target && this.isDoubleClickOnField(target)) {\n          return;\n        }\n\n        // Create block from flyout and enter sticky mode\n        this.insertFlyoutBlockIntoStickyMode(clickedBlock, event);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      return;\n    }\n\n    // Handle workspace blocks (existing logic)\n    // Check if this click should trigger sticky mode based on trigger mode\n    const shouldTrigger = this.shouldTriggerStickyMode(event, clickedBlock);\n\n    if (shouldTrigger && clickedBlock) {\n      const target = event.target as Element;\n\n      this.workspace.getAudioManager().preload();\n\n      if (target && this.isDoubleClickOnField(target)) {\n        return;\n      }\n\n      const block = getNonShadowBlock(clickedBlock);\n      if (block && block.isMovable()) {\n        if (this.enter(block, event.clientX, event.clientY)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    }\n  }\n\n  /**\n   * Check if the current click event should trigger sticky mode.\n   *\n   * @param event The click event.\n   * @param clickedBlock The block that was clicked (or null if no block).\n   * @returns True if sticky mode should be triggered.\n   */\n  private shouldTriggerStickyMode(event: MouseEvent, clickedBlock: Blockly.BlockSvg | null): boolean {\n    if (!clickedBlock) return false;\n\n    switch (this.triggerMode) {\n      case TriggerMode.SHIFT_CLICK:\n        return event.shiftKey;\n\n      case TriggerMode.FOCUSED_CLICK:\n        // For flyout blocks, skip the focus check - any click triggers sticky mode\n        // This provides a simpler interaction model for flyout blocks\n        if (this.isBlockFromFlyout(clickedBlock)) {\n          return true;\n        }\n\n        // For workspace blocks, check if the clicked block was the one that was focused BEFORE the pointerdown\n        // (clicking a block makes it focused, so we need to check the pre-click state)\n        // Note: Field detection happens earlier in handlePointerDown to set focusedBlockBeforePointerdown\n        if (this.focusedBlockBeforePointerdown !== clickedBlock) {\n          return false;\n        }\n\n        // Trigger if the block has a VISIBLE highlight\n        // A block has a visible highlight based on CSS class combinations:\n        // 1. blocklySelected class (core Blockly selection - always visible)\n        // 2. blocklyActiveFocus OR blocklyPassiveFocus (keyboard nav - only visible when keyboard mode active)\n        //\n        // The visual highlight is determined by CSS rules, not by semantic focus state.\n        // We check the classes that control the CSS rules that make highlights visible.\n        const pathElement = clickedBlock.pathObject.svgPath;\n        const blockSvgGroup = clickedBlock.getSvgRoot();\n\n        // Core Blockly selection (always creates visible highlight)\n        // Note: blocklySelected class is on the parent <g> element, not the path\n        // The CSS rule is: .blocklySelected > .blocklyPath { stroke: #fc3; }\n        const hasSelectedClass = blockSvgGroup?.classList.contains('blocklySelected') ?? false;\n\n        // Keyboard navigation highlights (only visible when keyboard mode is active)\n        const bodyHasKeyboardNav = document.body.classList.contains('blocklyKeyboardNavigation');\n        const hasActiveFocus = pathElement?.classList.contains('blocklyActiveFocus') ?? false;\n        const hasPassiveFocus = pathElement?.classList.contains('blocklyPassiveFocus') ?? false;\n\n        // Boolean logic: visible highlight exists if:\n        // - Block has blocklySelected class (core selection), OR\n        // - Keyboard nav is active AND block has active/passive focus\n        const hasVisibleHighlight = hasSelectedClass ||\n          (bodyHasKeyboardNav && (hasActiveFocus || hasPassiveFocus));\n\n        // Block should trigger sticky mode if it has a visible highlight\n        return hasVisibleHighlight;\n\n      case TriggerMode.MODE_TOGGLE:\n        // MODE_TOGGLE requires explicit enablement through external state management\n        return false;\n\n      case TriggerMode.GRIP_CLICK:\n        // GRIP_CLICK is handled by handleGripClick() which is invoked directly\n        // when the grip element is clicked (with stopPropagation to prevent this\n        // method from being called). Regular clicks outside the grip don't trigger\n        // sticky mode in this mode.\n        return false;\n\n      case TriggerMode.DOUBLE_CLICK:\n      default:\n        // Double-click is handled separately\n        return false;\n    }\n  }\n\n  /**\n   * Handles pointer movement during sticky mode to make blocks follow the cursor.\n   *\n   * @param event\n   */\n  private handlePointerMove(event: PointerEvent) {\n    if (!this.isActive()) return;\n\n    // Only update block position if keepBlockOnMouse is enabled\n    if (!this.keepBlockOnMouse) return;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const moveInfo = (this.mover as any)?.moves?.get(this.workspace);\n    if (!moveInfo) return;\n\n    const targetWorkspaceCoords =\n      Blockly.utils.svgMath.screenToWsCoordinates(\n        this.workspace,\n        new Blockly.utils.Coordinate(event.clientX, event.clientY),\n      );\n\n    const deltaX = targetWorkspaceCoords.x - moveInfo.startLocation.x;\n    const deltaY = targetWorkspaceCoords.y - moveInfo.startLocation.y;\n\n    moveInfo.totalDelta.x = deltaX;\n    moveInfo.totalDelta.y = deltaY;\n\n    if (moveInfo.dragger) {\n      moveInfo.dragger.onDrag(\n        event as any,\n        moveInfo.totalDelta,\n      );\n    }\n  }\n\n  /**\n   * Handles clicks during sticky mode for drop/connect/delete actions.\n   *\n   * @param event\n   */\n  private handleStickyModeClick(event: MouseEvent | PointerEvent) {\n    const info = this.stickyModes.get(this.workspace);\n    if (!info) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    const clientX = event.clientX;\n    const clientY = event.clientY;\n\n    if (this.isClickOnBin(clientX, clientY)) {\n      this.deleteBlockOnBin();\n      return;\n    }\n\n    const connectionInfo = this.findConnectionAtPoint(clientX, clientY);\n    if (connectionInfo) {\n      this.connectToClickedConnection(connectionInfo, clientX, clientY);\n      return;\n    }\n\n    // Check if there's a connection preview\n    const dragStrategy = this.getDragStrategy(info.block);\n\n    if (this.keepBlockOnMouse) {\n      // Block is following mouse - preview changes as you move\n      // Accept any connection preview at current position\n      if (dragStrategy && dragStrategy.connectionCandidate) {\n        this.acceptConnectionCandidate();\n        return;\n      }\n    } else {\n      // Block is NOT following mouse - preview is static at original location\n      // Only accept preview if clicking on the source block itself\n      const clickedBlock = this.getBlockFromEvent(event);\n      const isClickOnSourceBlock = clickedBlock === info.block;\n\n      if (isClickOnSourceBlock && dragStrategy && dragStrategy.connectionCandidate) {\n        this.acceptConnectionCandidate();\n        return;\n      }\n    }\n\n    // No connection preview to accept\n    // Check if click is inside the source block - if so, drop in place\n    const blockBounds = info.block.getBoundingRectangle();\n    const clickWorkspaceCoords = Blockly.utils.svgMath.screenToWsCoordinates(\n      this.workspace,\n      new Blockly.utils.Coordinate(clientX, clientY),\n    );\n\n    if (blockBounds.contains(clickWorkspaceCoords.x, clickWorkspaceCoords.y)) {\n      // Click is inside the source block - don't move it\n      this.exitStickyModeAndDrop();\n    } else {\n      // Click is outside the source block - move to click location\n      this.exitStickyModeAndDrop(clientX, clientY);\n    }\n  }\n\n  /**\n   * Gets a block from an event target.\n   * Searches both main workspace and flyout workspace blocks.\n   *\n   * @param event\n   * @param event.target\n   */\n  private getBlockFromEvent(event: {\n    target: EventTarget | null;\n  }): Blockly.BlockSvg | null {\n    const target = event.target as Element;\n    if (!target) return null;\n\n    // Get blocks from both main workspace and flyout\n    let blocks = this.workspace.getAllBlocks();\n    const flyout = this.workspace.getFlyout();\n    if (flyout && flyout.isVisible()) {\n      const flyoutWorkspace = flyout.getWorkspace();\n      if (flyoutWorkspace) {\n        blocks = blocks.concat(flyoutWorkspace.getAllBlocks());\n      }\n    }\n\n    const allBlockElements: Element[] = [];\n    let currentElement: Element | null = target;\n\n    while (currentElement) {\n      if (currentElement.classList?.contains('blocklyBlock')) {\n        allBlockElements.push(currentElement);\n      }\n      currentElement = currentElement.parentElement;\n    }\n\n    if (allBlockElements.length > 0) {\n      const innermostBlockElement = allBlockElements[0];\n      const block = blocks.find((b) => b.getSvgRoot() === innermostBlockElement);\n\n      if (block && block instanceof Blockly.BlockSvg) {\n        return block;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Checks if a block is from the flyout.\n   *\n   * @param block The block to check.\n   * @returns True if the block is from the flyout workspace.\n   */\n  private isBlockFromFlyout(block: Blockly.BlockSvg): boolean {\n    return block.workspace.isFlyout === true;\n  }\n\n  /**\n   * Creates a new block from a flyout template and immediately enters sticky mode.\n   * Used when clicking on flyout blocks with sticky mode triggers enabled.\n   *\n   * @param flyoutBlock The flyout block template to create from.\n   * @param event The click event.\n   */\n  private insertFlyoutBlockIntoStickyMode(\n    flyoutBlock: Blockly.BlockSvg,\n    event: MouseEvent,\n  ): void {\n    const flyout = this.workspace.getFlyout();\n    if (!flyout) return;\n\n    // Create a new event group for this operation\n    const existingGroup = Blockly.Events.getGroup();\n    if (!existingGroup) {\n      Blockly.Events.setGroup(true);\n    }\n\n    try {\n      // Create the block on the main workspace from the flyout template\n      const newBlock = flyout.createBlock(flyoutBlock);\n\n      // Render to get the sizing right\n      newBlock.render();\n\n      // Enable connection tracking (normally happens during drag, but we need it immediately)\n      newBlock.setConnectionTracking(true);\n\n      // Position the block at the click location\n      const workspaceCoords = Blockly.utils.svgMath.screenToWsCoordinates(\n        this.workspace,\n        new Blockly.utils.Coordinate(event.clientX, event.clientY),\n      );\n      newBlock.moveTo(workspaceCoords);\n\n      // Enter sticky mode with the newly created block\n      this.enter(newBlock, event.clientX, event.clientY);\n    } finally {\n      // Clean up event group if we created one\n      if (!existingGroup) {\n        Blockly.Events.setGroup(false);\n      }\n    }\n  }\n\n  /**\n   * Checks if a click is on a field element by inspecting the DOM tree.\n   * More reliable than gesture-based detection for events that fire after gesture disposal.\n   * Only detects truly interactive/editable fields, not static text labels.\n   *\n   * @param target The event target element.\n   */\n  private isClickOnField(target: Element): boolean {\n    if (!target) return false;\n\n    // Walk up the DOM tree looking for interactive field elements\n    let currentElement: Element | null = target;\n    let depth = 0;\n    const maxDepth = 10; // Prevent infinite loops\n\n    while (currentElement && depth < maxDepth) {\n      const classList = currentElement.classList;\n\n      if (classList) {\n        // Stop early if we hit the workspace - no fields beyond here\n        if (classList.contains('blocklyWorkspace') ||\n            classList.contains('blocklyMainBackground') ||\n            classList.contains('blocklySvg')) {\n          return false;\n        }\n\n        // Stop at block boundary - don't search beyond the block\n        if (classList.contains('blocklyBlock')) {\n          return false;\n        }\n\n        // Only check for EDITABLE/INTERACTIVE field CSS classes\n        // Do NOT include blocklyText or blocklyNonEditableText - those are static labels\n        if (classList.contains('blocklyEditableText') ||\n            classList.contains('blocklyDropdownText') ||\n            classList.contains('blocklyDropDownDiv')) {\n          return true;\n        }\n\n        // Check for specific interactive field types\n        if (classList.contains('blocklyFieldTextInput') ||\n            classList.contains('blocklyFieldNumber') ||\n            classList.contains('blocklyFieldColour') ||\n            classList.contains('blocklyFieldDropdown') ||\n            classList.contains('blocklyFieldCheckbox') ||\n            classList.contains('blocklyFieldAngle')) {\n          return true;\n        }\n      }\n\n      currentElement = currentElement.parentElement;\n      depth++;\n    }\n\n    return false;\n  }\n\n  /**\n   * Checks if a double-click event is on a field element.\n   * Uses Blockly's gesture system for reliable field detection.\n   *\n   * @param target\n   */\n  private isDoubleClickOnField(target: Element): boolean {\n    const workspace = this.workspace;\n    const currentGesture = (workspace as any).currentGesture_;\n\n    if (currentGesture && (currentGesture as any).startField) {\n      return true;\n    }\n\n    // Fall back to DOM-based detection\n    return this.isClickOnField(target);\n  }\n\n  /**\n   * Accepts the current connection candidate from the drag strategy.\n   */\n  private acceptConnectionCandidate() {\n    if (!this.isActive()) return;\n    this.exit('finish');\n  }\n\n  /**\n   * Checks if the given screen coordinates are over the trashcan/bin.\n   *\n   * @param clientX Screen X coordinate.\n   * @param clientY Screen Y coordinate.\n   * @returns True if the coordinates are over the trashcan.\n   */\n  private isClickOnBin(clientX: number, clientY: number): boolean {\n    const trashcanElement = document.querySelector('.blocklyTrash');\n    if (!trashcanElement) {\n      return false;\n    }\n\n    const rect = trashcanElement.getBoundingClientRect();\n\n    return (\n      clientX >= rect.left &&\n      clientX <= rect.right &&\n      clientY >= rect.top &&\n      clientY <= rect.bottom\n    );\n  }\n\n  /**\n   * Deletes the sticky block when dropped on the bin.\n   */\n  private deleteBlockOnBin() {\n    const info = this.stickyModes.get(this.workspace);\n    if (!info) return;\n\n    const blockToDelete = info.block;\n    this.exit('abort');\n\n    // Unplug with healStack to preserve children\n    blockToDelete.unplug(true);\n    blockToDelete.dispose();\n  }\n\n  /**\n   * Finds a connection point at the given screen coordinates.\n   *\n   * @param clientX\n   * @param clientY\n   */\n  private findConnectionAtPoint(clientX: number, clientY: number): any {\n    const info = this.stickyModes.get(this.workspace);\n    if (!info) return null;\n\n    const dragStrategy = (info.block as any)?.dragStrategy;\n    if (dragStrategy && dragStrategy.connectionHighlighter) {\n      const highlightedConnection =\n        dragStrategy.connectionHighlighter.findConnectionAtPoint(\n          clientX,\n          clientY,\n        );\n\n      if (highlightedConnection) {\n        const stickyConnections = info.block.getConnections_(true);\n        if (stickyConnections) {\n          for (const stickyConnection of stickyConnections) {\n            const connectionChecker = this.workspace.connectionChecker;\n            if (\n              connectionChecker.canConnect(\n                stickyConnection,\n                highlightedConnection,\n                true,\n                Infinity,\n              )\n            ) {\n              return {\n                connection: highlightedConnection,\n                stickyConnection: stickyConnection,\n                distance: 0,\n                isHighlighted: true,\n              };\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Connects the sticky block to a specific connection point.\n   *\n   * @param connectionInfo\n   * @param clientX\n   * @param clientY\n   */\n  private connectToClickedConnection(\n    connectionInfo: any,\n    clientX: number,\n    clientY: number,\n  ) {\n    const info = this.stickyModes.get(this.workspace);\n    if (!info) return;\n\n    const {connection, stickyConnection} = connectionInfo;\n\n    const dragStrategy = this.getDragStrategy(info.block);\n    if (dragStrategy) {\n      dragStrategy.connectionCandidate = {\n        local: stickyConnection,\n        neighbour: connection,\n        distance: 0,\n      };\n    }\n\n    this.exit('finish');\n  }\n\n  /**\n   * Resets the sticky mode UI state.\n   * Called after mover.finishMove() or mover.abortMove().\n   */\n  private resetStickyState() {\n    const info = this.stickyModes.get(this.workspace);\n    if (info) {\n      info.block.getSvgRoot().classList.remove('blockly-sticky-mode');\n    }\n\n    this.stickyModes.delete(this.workspace);\n    this.ignoreNextClick = false;\n\n    // Focus the workspace root to properly blur the block\n    // This ensures subsequent clicks can re-focus and select the block correctly\n    const focusManager = Blockly.getFocusManager();\n    focusManager.focusNode(this.workspace);\n\n    // Clear touch identifier to prevent stuck gestures\n    try {\n      Blockly.Touch.clearTouchIdentifier();\n      setTimeout(() => {\n        Blockly.Touch.clearTouchIdentifier();\n      }, 0);\n    } catch (e) {\n      // Silently fail\n    }\n  }\n\n  /**\n   * Exits sticky mode by dropping the block at the specified or current position.\n   *\n   * @param clientX Optional screen X coordinate where to drop the block\n   * @param clientY Optional screen Y coordinate where to drop the block\n   */\n  private exitStickyModeAndDrop(clientX?: number, clientY?: number) {\n    const info = this.stickyModes.get(this.workspace);\n    if (!info) {\n      return;\n    }\n\n    // Clear connection candidate - Blockly will recalculate from final position\n    const dragStrategy = this.getDragStrategy(info.block);\n    if (dragStrategy) {\n      dragStrategy.connectionCandidate = null;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const moveInfo = (this.mover as any)?.moves?.get(this.workspace);\n\n    // Update position if coordinates provided\n    if (\n      clientX !== undefined &&\n      clientY !== undefined &&\n      info.block &&\n      !info.block.isDisposed()\n    ) {\n      const targetWorkspaceCoords =\n        Blockly.utils.svgMath.screenToWsCoordinates(\n          this.workspace,\n          new Blockly.utils.Coordinate(clientX, clientY),\n        );\n\n      if (moveInfo) {\n        const currentX = moveInfo.startLocation.x + moveInfo.totalDelta.x;\n        const currentY = moveInfo.startLocation.y + moveInfo.totalDelta.y;\n\n        const additionalDeltaX = targetWorkspaceCoords.x - currentX;\n        const additionalDeltaY = targetWorkspaceCoords.y - currentY;\n\n        moveInfo.totalDelta.x += additionalDeltaX;\n        moveInfo.totalDelta.y += additionalDeltaY;\n\n        // Move block directly to ensure positioning is correct\n        info.block.moveBy(additionalDeltaX, additionalDeltaY);\n      }\n    }\n\n    this.setClickAndStickMode(info.block, false);\n\n    if (this.mover && this.mover.isMoving(this.workspace)) {\n      this.mover.finishMove(this.workspace);\n    }\n\n    this.resetStickyState();\n  }\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * Walks up the block tree from a shadow block to find the parent non-shadow block.\n * Shadow blocks should never be moved independently.\n *\n * @param block The block to start from (may be a shadow block)\n * @returns The first non-shadow block ancestor, or null if none found\n */\nexport function getNonShadowBlock(block: Blockly.BlockSvg | null): Blockly.BlockSvg | null {\n  if (!block) return null;\n\n  while (block.isShadow()) {\n    const parent = block.getParent();\n    if (!parent) {\n      return null;\n    }\n    block = parent;\n  }\n\n  return block;\n}\n\n/**\n * Scrolls the provided bounds into view.\n *\n * In the case of small workspaces/large bounds, this function prioritizes\n * getting the top left corner of the bounds into view. It also adds some\n * padding around the bounds to allow the element to be comfortably in view.\n *\n * @param bounds A rectangle to scroll into view, as best as possible.\n * @param workspace The workspace to scroll the given bounds into view in.\n */\nexport function scrollBoundsIntoView(\n  bounds: Blockly.utils.Rect,\n  workspace: Blockly.WorkspaceSvg,\n) {\n  if (Blockly.Gesture.inProgress()) {\n    // This can cause jumps during a drag and it only suited for keyboard nav.\n    return;\n  }\n  const scale = workspace.getScale();\n\n  const rawViewport = workspace.getMetricsManager().getViewMetrics(true);\n  const viewport = new Blockly.utils.Rect(\n    rawViewport.top,\n    rawViewport.top + rawViewport.height,\n    rawViewport.left,\n    rawViewport.left + rawViewport.width,\n  );\n\n  if (\n    bounds.left >= viewport.left &&\n    bounds.top >= viewport.top &&\n    bounds.right <= viewport.right &&\n    bounds.bottom <= viewport.bottom\n  ) {\n    // Do nothing if the block is fully inside the viewport.\n    return;\n  }\n\n  // Add some padding to the bounds so the element is scrolled comfortably\n  // into view.\n  bounds = bounds.clone();\n  bounds.top -= 10;\n  bounds.bottom += 10;\n  bounds.left -= 10;\n  bounds.right += 10;\n\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (bounds.left < viewport.left) {\n    deltaX = viewport.left - bounds.left;\n  } else if (bounds.right > viewport.right) {\n    deltaX = viewport.right - bounds.right;\n  }\n\n  if (bounds.top < viewport.top) {\n    deltaY = viewport.top - bounds.top;\n  } else if (bounds.bottom > viewport.bottom) {\n    deltaY = viewport.bottom - bounds.bottom;\n  }\n\n  deltaX *= scale;\n  deltaY *= scale;\n  workspace.scroll(workspace.scrollX + deltaX, workspace.scrollY + deltaY);\n}\n","/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Blocks for Maze game.\n * Adapted from blockly-games for use with modern Blockly and keyboard navigation.\n */\n\nimport * as Blockly from 'blockly/core';\nimport {javascriptGenerator, Order} from 'blockly/javascript';\n\n/**\n * Counterclockwise arrow to be appended to left turn option.\n */\nconst LEFT_TURN = ' ';\n\n/**\n * Clockwise arrow to be appended to right turn option.\n */\nconst RIGHT_TURN = ' ';\n\n/**\n * Straight arrow for move forward.\n */\nconst MOVE_FORWARD = ' ';\n\n/**\n * Common HSV hue for all movement blocks.\n */\nconst MOVEMENT_HUE = 290;\n\n/**\n * HSV hue for loop block.\n */\nconst LOOPS_HUE = 120;\n\n/**\n * Common HSV hue for all logic blocks.\n */\nconst LOGIC_HUE = 210;\n\n/**\n * Register maze blocks with Blockly.\n */\nexport function registerMazeBlocks() {\n  const TURN_DIRECTIONS: Blockly.MenuOption[] = [\n    ['turn left', 'turnLeft'],\n    ['turn right', 'turnRight'],\n  ];\n\n  const PATH_DIRECTIONS: Blockly.MenuOption[] = [\n    ['path ahead', 'isPathForward'],\n    ['path to the left', 'isPathLeft'],\n    ['path to the right', 'isPathRight'],\n  ];\n\n  // Add arrows to turn options after prefix/suffix have been separated.\n  Blockly.Extensions.register('maze_turn_arrows', function (this: Blockly.Block) {\n    const field = this.getField('DIR') as Blockly.FieldDropdown;\n    const options = field.getOptions();\n    if (options.length >= 2) {\n      // Modify the display text to add arrows\n      const newOptions: Blockly.MenuOption[] = options.map((option, index) => {\n        if (index === options.length - 2) {\n          return [option[0] + LEFT_TURN, option[1]];\n        } else if (index === options.length - 1) {\n          return [option[0] + RIGHT_TURN, option[1]];\n        }\n        return option;\n      });\n      // Update the options using public API\n      (field as any).menuGenerator_ = newOptions;\n    }\n  });\n\n  Blockly.defineBlocksWithJsonArray([\n    // Block for moving forward.\n    {\n      type: 'maze_moveForward',\n      message0: 'move forward',\n      previousStatement: null,\n      nextStatement: null,\n      colour: MOVEMENT_HUE,\n      tooltip: 'Moves the player forward one space.',\n    },\n\n    // Block for turning left or right.\n    {\n      type: 'maze_turn',\n      message0: '%1',\n      args0: [\n        {\n          type: 'field_dropdown',\n          name: 'DIR',\n          options: TURN_DIRECTIONS,\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: MOVEMENT_HUE,\n      tooltip: 'Turns the player left or right by 90 degrees.',\n      extensions: ['maze_turn_arrows'],\n    },\n\n    // Block for conditional \"if there is a path\".\n    {\n      type: 'maze_if',\n      message0: '%1%2do %3',\n      args0: [\n        {\n          type: 'field_dropdown',\n          name: 'DIR',\n          options: PATH_DIRECTIONS,\n        },\n        {\n          type: 'input_dummy',\n        },\n        {\n          type: 'input_statement',\n          name: 'DO',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: LOGIC_HUE,\n      tooltip: 'If there is a path in the specified direction, then do some actions.',\n      extensions: ['maze_turn_arrows'],\n    },\n\n    // Block for conditional \"if there is a path, else\".\n    {\n      type: 'maze_ifElse',\n      message0: '%1%2do %3else %4',\n      args0: [\n        {\n          type: 'field_dropdown',\n          name: 'DIR',\n          options: PATH_DIRECTIONS,\n        },\n        {\n          type: 'input_dummy',\n        },\n        {\n          type: 'input_statement',\n          name: 'DO',\n        },\n        {\n          type: 'input_statement',\n          name: 'ELSE',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: LOGIC_HUE,\n      tooltip:\n        'If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.',\n      extensions: ['maze_turn_arrows'],\n    },\n\n    // Block for repeat loop.\n    {\n      type: 'maze_forever',\n      message0: 'repeat until %1%2do %3',\n      args0: [\n        {\n          type: 'field_image',\n          src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAABGUlEQVQoU2NkwAIYGRn/MzAwMKCrZ2Fh+c/CwvIfXQ0DA8N/FhYWBlRNLCz//zMwMPxnYWH5jyoGVMMIVMPAwPCfhYXlP5oaFpaW/ywsLAyMjIwMDAwM/1lYWP6jqUHRwMDwn5mZmYGBgeE/MzMzA7oaRkZGBgYGhv8sLCz/0dQwMDAwMDMzMzAwMDBgqGFhYWFgZGRkYGBg+I+uhoGB4T8LCwsDAwMDg=',\n          width: 12,\n          height: 16,\n        },\n        {\n          type: 'input_dummy',\n        },\n        {\n          type: 'input_statement',\n          name: 'DO',\n        },\n      ],\n      previousStatement: null,\n      colour: LOOPS_HUE,\n      tooltip: 'Repeat the enclosed actions until the finish point is reached.',\n    },\n  ]);\n\n  // JavaScript code generators\n  javascriptGenerator.forBlock['maze_moveForward'] = function (block) {\n    return `moveForward('block_id_${block.id}'); //${MOVE_FORWARD}\\n`;\n  };\n\n  javascriptGenerator.forBlock['maze_turn'] = function (block) {\n    const dir = block.getFieldValue('DIR');\n    if (dir === 'turnLeft') {\n      return `turnLeft('block_id_${block.id}');    //${LEFT_TURN}\\n`;\n    } else {\n      return `turnRight('block_id_${block.id}');   //${RIGHT_TURN}\\n`;\n    }\n  };\n\n  javascriptGenerator.forBlock['maze_if'] = function (block) {\n    const argument = `${block.getFieldValue('DIR')}('block_id_${block.id}')`;\n    const branch = javascriptGenerator.statementToCode(block, 'DO');\n    return `if (${argument}) {\\n${branch}}\\n`;\n  };\n\n  javascriptGenerator.forBlock['maze_ifElse'] = function (block) {\n    const argument = `${block.getFieldValue('DIR')}('block_id_${block.id}')`;\n    const branch0 = javascriptGenerator.statementToCode(block, 'DO');\n    const branch1 = javascriptGenerator.statementToCode(block, 'ELSE');\n    return `if (${argument}) {\\n${branch0}} else {\\n${branch1}}\\n`;\n  };\n\n  javascriptGenerator.forBlock['maze_forever'] = function (block) {\n    let branch = javascriptGenerator.statementToCode(block, 'DO');\n    // Add infinite loop trap if needed\n    if ((javascriptGenerator as any).INFINITE_LOOP_TRAP) {\n      branch =\n        (javascriptGenerator as any).INFINITE_LOOP_TRAP.replace(\n          /%1/g,\n          `'block_id_${block.id}'`\n        ) + branch;\n    }\n    return `while (notDone()) {\\n${branch}}\\n`;\n  };\n}\n","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Simple maze game engine.\n */\n\nenum Direction {\n  NORTH = 0,\n  EAST = 1,\n  SOUTH = 2,\n  WEST = 3,\n}\n\nenum SquareType {\n  WALL = 0,\n  OPEN = 1,\n  START = 2,\n  FINISH = 3,\n}\n\ninterface Position {\n  x: number;\n  y: number;\n}\n\n/**\n * Simple maze layouts by level.\n */\nconst MAZES = [\n  // Level 1: Simple straight path\n  [\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 2, 1, 1, 1, 1, 3, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n  ],\n  // Level 2: Single turn\n  [\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 2, 1, 1, 1, 0, 0, 0],\n    [0, 0, 0, 0, 1, 0, 0, 0],\n    [0, 0, 0, 0, 1, 0, 0, 0],\n    [0, 0, 0, 0, 3, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0],\n  ],\n];\n\nexport class MazeGame {\n  private canvas: HTMLCanvasElement;\n  private ctx: CanvasRenderingContext2D;\n  private level: number;\n  private maze: number[][];\n  private playerPos: Position;\n  private playerDir: Direction;\n  private startPos: Position;\n  private finishPos: Position;\n  private squareSize = 50;\n  private executing = false;\n\n  constructor(canvasId: string, level: number) {\n    const canvas = document.getElementById(canvasId) as HTMLCanvasElement;\n    if (!canvas) {\n      throw new Error(`Canvas element ${canvasId} not found`);\n    }\n    this.canvas = canvas;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw new Error('Could not get canvas context');\n    }\n    this.ctx = ctx;\n    this.level = Math.min(level, MAZES.length) - 1;\n    this.maze = MAZES[this.level];\n\n    // Find start and finish positions\n    this.startPos = {x: 0, y: 0};\n    this.finishPos = {x: 0, y: 0};\n    for (let y = 0; y < this.maze.length; y++) {\n      for (let x = 0; x < this.maze[y].length; x++) {\n        if (this.maze[y][x] === SquareType.START) {\n          this.startPos = {x, y};\n        } else if (this.maze[y][x] === SquareType.FINISH) {\n          this.finishPos = {x, y};\n        }\n      }\n    }\n\n    this.playerPos = {...this.startPos};\n    this.playerDir = Direction.EAST;\n\n    this.draw();\n  }\n\n  private draw() {\n    const width = this.maze[0].length * this.squareSize;\n    const height = this.maze.length * this.squareSize;\n    this.canvas.width = width;\n    this.canvas.height = height;\n\n    // Clear canvas\n    this.ctx.fillStyle = '#F1EEE7';\n    this.ctx.fillRect(0, 0, width, height);\n\n    // Draw maze\n    for (let y = 0; y < this.maze.length; y++) {\n      for (let x = 0; x < this.maze[y].length; x++) {\n        const square = this.maze[y][x];\n        const px = x * this.squareSize;\n        const py = y * this.squareSize;\n\n        if (square === SquareType.WALL) {\n          this.ctx.fillStyle = '#666';\n          this.ctx.fillRect(px, py, this.squareSize, this.squareSize);\n        } else {\n          // Draw path\n          this.ctx.strokeStyle = '#CCB';\n          this.ctx.strokeRect(px, py, this.squareSize, this.squareSize);\n\n          // Draw finish marker\n          if (square === SquareType.FINISH) {\n            this.ctx.fillStyle = '#4CAF50';\n            this.ctx.beginPath();\n            this.ctx.arc(\n              px + this.squareSize / 2,\n              py + this.squareSize / 2,\n              this.squareSize / 3,\n              0,\n              2 * Math.PI\n            );\n            this.ctx.fill();\n          }\n        }\n      }\n    }\n\n    // Draw player\n    const px = this.playerPos.x * this.squareSize + this.squareSize / 2;\n    const py = this.playerPos.y * this.squareSize + this.squareSize / 2;\n\n    this.ctx.fillStyle = '#2196F3';\n    this.ctx.beginPath();\n    this.ctx.arc(px, py, this.squareSize / 4, 0, 2 * Math.PI);\n    this.ctx.fill();\n\n    // Draw direction indicator\n    this.ctx.strokeStyle = '#2196F3';\n    this.ctx.lineWidth = 3;\n    this.ctx.beginPath();\n    this.ctx.moveTo(px, py);\n    const dirX = [0, 1, 0, -1][this.playerDir];\n    const dirY = [-1, 0, 1, 0][this.playerDir];\n    this.ctx.lineTo(\n      px + dirX * (this.squareSize / 4 + 5),\n      py + dirY * (this.squareSize / 4 + 5)\n    );\n    this.ctx.stroke();\n  }\n\n  private isPathForward(): boolean {\n    const dirX = [0, 1, 0, -1][this.playerDir];\n    const dirY = [-1, 0, 1, 0][this.playerDir];\n    const newX = this.playerPos.x + dirX;\n    const newY = this.playerPos.y + dirY;\n    return this.isValidPosition(newX, newY);\n  }\n\n  private isPathLeft(): boolean {\n    const leftDir = (this.playerDir + 3) % 4;\n    const dirX = [0, 1, 0, -1][leftDir];\n    const dirY = [-1, 0, 1, 0][leftDir];\n    const newX = this.playerPos.x + dirX;\n    const newY = this.playerPos.y + dirY;\n    return this.isValidPosition(newX, newY);\n  }\n\n  private isPathRight(): boolean {\n    const rightDir = (this.playerDir + 1) % 4;\n    const dirX = [0, 1, 0, -1][rightDir];\n    const dirY = [-1, 0, 1, 0][rightDir];\n    const newX = this.playerPos.x + dirX;\n    const newY = this.playerPos.y + dirY;\n    return this.isValidPosition(newX, newY);\n  }\n\n  private isValidPosition(x: number, y: number): boolean {\n    if (x < 0 || x >= this.maze[0].length || y < 0 || y >= this.maze.length) {\n      return false;\n    }\n    return this.maze[y][x] !== SquareType.WALL;\n  }\n\n  private async moveForward(): Promise<boolean> {\n    const dirX = [0, 1, 0, -1][this.playerDir];\n    const dirY = [-1, 0, 1, 0][this.playerDir];\n    const newX = this.playerPos.x + dirX;\n    const newY = this.playerPos.y + dirY;\n\n    if (!this.isValidPosition(newX, newY)) {\n      alert('Crashed into wall!');\n      return false;\n    }\n\n    this.playerPos.x = newX;\n    this.playerPos.y = newY;\n    this.draw();\n    await this.delay(300);\n    return true;\n  }\n\n  private async turnLeft(): Promise<void> {\n    this.playerDir = ((this.playerDir + 3) % 4) as Direction;\n    this.draw();\n    await this.delay(200);\n  }\n\n  private async turnRight(): Promise<void> {\n    this.playerDir = ((this.playerDir + 1) % 4) as Direction;\n    this.draw();\n    await this.delay(200);\n  }\n\n  private notDone(): boolean {\n    return (\n      this.playerPos.x !== this.finishPos.x ||\n      this.playerPos.y !== this.finishPos.y\n    );\n  }\n\n  private delay(ms: number): Promise<void> {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  public reset() {\n    this.playerPos = {...this.startPos};\n    this.playerDir = Direction.EAST;\n    this.executing = false;\n    this.draw();\n  }\n\n  public async execute(code: string) {\n    if (this.executing) {\n      alert('Already executing!');\n      return;\n    }\n\n    this.executing = true;\n    this.reset();\n\n    // Create execution context\n    const context: any = {\n      moveForward: async () => {\n        if (!this.executing) return;\n        await this.moveForward();\n      },\n      turnLeft: async () => {\n        if (!this.executing) return;\n        await this.turnLeft();\n      },\n      turnRight: async () => {\n        if (!this.executing) return;\n        await this.turnRight();\n      },\n      isPathForward: () => this.isPathForward(),\n      isPathLeft: () => this.isPathLeft(),\n      isPathRight: () => this.isPathRight(),\n      notDone: () => this.notDone(),\n    };\n\n    try {\n      // Create async function with context\n      const asyncCode = `\n        (async function() {\n          ${code}\n        })();\n      `;\n\n      // Execute with context\n      const func = new Function(\n        ...Object.keys(context),\n        `return ${asyncCode}`\n      );\n      await func(...Object.values(context));\n\n      // Check if finished\n      if (!this.notDone()) {\n        setTimeout(() => alert('Success! You reached the goal!'), 100);\n      } else {\n        setTimeout(() => alert('Program finished, but you did not reach the goal.'), 100);\n      }\n    } catch (e) {\n      alert('Error executing code: ' + e);\n    } finally {\n      this.executing = false;\n    }\n  }\n}\n","// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) { // AMD\n    define([], factory);\n  } else if (typeof exports === 'object') { // Node.js\n    module.exports = factory();\n  } else { // Script\n    root.Blockly = factory();\n  }\n}(this, function() {\nvar $={};\nvar register$$module$build$src$core$registry,validate$$module$build$src$core$registry,unregister$$module$build$src$core$registry,getItem$$module$build$src$core$registry,hasItem$$module$build$src$core$registry,getClass$$module$build$src$core$registry,getObject$$module$build$src$core$registry,getAllItems$$module$build$src$core$registry,getClassFromOptions$$module$build$src$core$registry,longStart$$module$build$src$core$touch,longStop$$module$build$src$core$touch,clearTouchIdentifier$$module$build$src$core$touch,\nshouldHandleEvent$$module$build$src$core$touch,getTouchIdentifierFromEvent$$module$build$src$core$touch,checkTouchIdentifier$$module$build$src$core$touch,conditionalBind$$module$build$src$core$browser_events,bind$$module$build$src$core$browser_events,unbind$$module$build$src$core$browser_events,isTargetInput$$module$build$src$core$browser_events,isRightButton$$module$build$src$core$browser_events,mouseToSvg$$module$build$src$core$browser_events,getScrollDeltaPixels$$module$build$src$core$browser_events,\ngetNextUniqueId$$module$build$src$core$utils$idgenerator,genUid$$module$build$src$core$utils$idgenerator,isBlockCreate$$module$build$src$core$events$predicates,isBlockDelete$$module$build$src$core$events$predicates,isBlockChange$$module$build$src$core$events$predicates,isBlockFieldIntermediateChange$$module$build$src$core$events$predicates,isBlockMove$$module$build$src$core$events$predicates,isVarCreate$$module$build$src$core$events$predicates,isVarDelete$$module$build$src$core$events$predicates,\nisVarRename$$module$build$src$core$events$predicates,isBlockDrag$$module$build$src$core$events$predicates,isSelected$$module$build$src$core$events$predicates,isClick$$module$build$src$core$events$predicates,isBubbleOpen$$module$build$src$core$events$predicates,isTrashcanOpen$$module$build$src$core$events$predicates,isToolboxItemSelect$$module$build$src$core$events$predicates,isThemeChange$$module$build$src$core$events$predicates,isViewportChange$$module$build$src$core$events$predicates,isCommentCreate$$module$build$src$core$events$predicates,\nisCommentDelete$$module$build$src$core$events$predicates,isCommentChange$$module$build$src$core$events$predicates,isCommentMove$$module$build$src$core$events$predicates,isCommentResize$$module$build$src$core$events$predicates,isCommentDrag$$module$build$src$core$events$predicates,isCommentCollapse$$module$build$src$core$events$predicates,isFinishedLoading$$module$build$src$core$events$predicates,getRecordUndo$$module$build$src$core$events$utils,fire$$module$build$src$core$events$utils,fireInternal$$module$build$src$core$events$utils,\nfireNow$$module$build$src$core$events$utils,enqueueEvent$$module$build$src$core$events$utils,filter$$module$build$src$core$events$utils,clearPendingUndo$$module$build$src$core$events$utils,isEnabled$$module$build$src$core$events$utils,setGroupInternal$$module$build$src$core$events$utils,getDescendantIds$$module$build$src$core$events$utils,fromJson$$module$build$src$core$events$utils,get$$module$build$src$core$events$utils,disableOrphans$$module$build$src$core$events$utils,createSvgElement$$module$build$src$core$utils$dom,\naddClass$$module$build$src$core$utils$dom,removeClasses$$module$build$src$core$utils$dom,removeClass$$module$build$src$core$utils$dom,hasClass$$module$build$src$core$utils$dom,removeNode$$module$build$src$core$utils$dom,insertAfter$$module$build$src$core$utils$dom,setCssTransform$$module$build$src$core$utils$dom,startTextWidthCache$$module$build$src$core$utils$dom,stopTextWidthCache$$module$build$src$core$utils$dom,getTextWidth$$module$build$src$core$utils$dom,getFastTextWidth$$module$build$src$core$utils$dom,\ngetFastTextWidthWithSizeString$$module$build$src$core$utils$dom,measureFontMetrics$$module$build$src$core$utils$dom,isFocusableNode$$module$build$src$core$interfaces$i_focusable_node,isSelectable$$module$build$src$core$interfaces$i_selectable,deepMerge$$module$build$src$core$utils$object,getWorkspaceById$$module$build$src$core$common,getAllWorkspaces$$module$build$src$core$common,registerWorkspace$$module$build$src$core$common,unregisterWorkpace$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$common,\nsetMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$common,setSelected$$module$build$src$core$common,fireSelectedEvent$$module$build$src$core$common,getParentContainer$$module$build$src$core$common,setParentContainer$$module$build$src$core$common,svgResize$$module$build$src$core$common,getBlockTypeCounts$$module$build$src$core$common,jsonInitFactory$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$common,defineBlocksWithJsonArrayInternal$$module$build$src$core$common,\nglobalShortcutHandler$$module$build$src$core$common,removeElem$$module$build$src$core$utils$array,register$$module$build$src$core$css,inject$$module$build$src$core$css,getSize$$module$build$src$core$utils$style,getSizeInternal$$module$build$src$core$utils$style,getSizeWithDisplay$$module$build$src$core$utils$style,getComputedStyle$$module$build$src$core$utils$style,getPageOffset$$module$build$src$core$utils$style,getViewportPageOffset$$module$build$src$core$utils$style,getBorderBox$$module$build$src$core$utils$style,\nscrollIntoContainerView$$module$build$src$core$utils$style,getContainerOffsetToScrollInto$$module$build$src$core$utils$style,getRelativeXY$$module$build$src$core$utils$svg_math,getInjectionDivXY$$module$build$src$core$utils$svg_math,getViewportBBox$$module$build$src$core$utils$svg_math,getDocumentScroll$$module$build$src$core$utils$svg_math,screenToWsCoordinates$$module$build$src$core$utils$svg_math,wsToScreenCoordinates$$module$build$src$core$utils$svg_math,injectDependencies$$module$build$src$core$utils$xml,\ndomToText$$module$build$src$core$utils$xml,sanitizeText$$module$build$src$core$utils$xml,convertToolboxDefToJson$$module$build$src$core$utils$toolbox,validateToolbox$$module$build$src$core$utils$toolbox,convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox,hasCategories$$module$build$src$core$utils$toolbox,hasCategoriesInternal$$module$build$src$core$utils$toolbox,isCategoryCollapsible$$module$build$src$core$utils$toolbox,convertToToolboxJson$$module$build$src$core$utils$toolbox,xmlToJsonArray$$module$build$src$core$utils$toolbox,\naddAttributes$$module$build$src$core$utils$toolbox,parseToolboxTree$$module$build$src$core$utils$toolbox,getStartPositionRect$$module$build$src$core$positionable_helpers,getCornerOppositeToolbox$$module$build$src$core$positionable_helpers,bumpPositionRect$$module$build$src$core$positionable_helpers,register$$module$build$src$core$serialization$registry,unregister$$module$build$src$core$serialization$registry,save$$module$build$src$core$serialization$workspace_comments,append$$module$build$src$core$serialization$workspace_comments,\nregister$$module$build$src$core$clipboard$registry,unregister$$module$build$src$core$clipboard$registry,moveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster,commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster,setRole$$module$build$src$core$utils$aria,setState$$module$build$src$core$utils$aria,isSerializable$$module$build$src$core$interfaces$i_serializable,queueRender$$module$build$src$core$render_management,finishQueuedRenders$$module$build$src$core$render_management,\ntriggerQueuedRenders$$module$build$src$core$render_management,alwaysImmediatelyRender$$module$build$src$core$render_management,queueBlock$$module$build$src$core$render_management,doRenders$$module$build$src$core$render_management,dequeueBlock$$module$build$src$core$render_management,shouldRenderRootBlock$$module$build$src$core$render_management,renderBlock$$module$build$src$core$render_management,alert$$module$build$src$core$dialog,setAlert$$module$build$src$core$dialog,confirm$$module$build$src$core$dialog,\nsetConfirm$$module$build$src$core$dialog,prompt$$module$build$src$core$dialog,setPrompt$$module$build$src$core$dialog,toast$$module$build$src$core$dialog,setToast$$module$build$src$core$dialog,isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model,warn$$module$build$src$core$utils$deprecation,\ninternalFlyoutCategory$$module$build$src$core$variables,flyoutCategory$$module$build$src$core$variables,generateVariableFieldJson$$module$build$src$core$variables,jsonFlyoutCategoryBlocks$$module$build$src$core$variables,xmlFlyoutCategory$$module$build$src$core$variables,flyoutCategoryBlocks$$module$build$src$core$variables,generateUniqueName$$module$build$src$core$variables,generateUniqueNameInternal$$module$build$src$core$variables,generateUniqueNameFromOptions$$module$build$src$core$variables,\ncreateVariableButtonHandler$$module$build$src$core$variables,promptName$$module$build$src$core$variables,nameUsedWithOtherType$$module$build$src$core$variables,nameUsedWithAnyType$$module$build$src$core$variables,nameUsedWithConflictingParam$$module$build$src$core$variables,checkForConflictingParamWithProcedureModels$$module$build$src$core$variables,checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables,generateVariableFieldDom$$module$build$src$core$variables,createVariable$$module$build$src$core$variables,\ngetAddedVariables$$module$build$src$core$variables,compareByName$$module$build$src$core$variables,getVariableUsesById$$module$build$src$core$variables,save$$module$build$src$core$serialization$blocks,saveAttributes$$module$build$src$core$serialization$blocks,saveCoords$$module$build$src$core$serialization$blocks,saveExtraState$$module$build$src$core$serialization$blocks,saveIcons$$module$build$src$core$serialization$blocks,saveFields$$module$build$src$core$serialization$blocks,saveInputBlocks$$module$build$src$core$serialization$blocks,\nsaveNextBlocks$$module$build$src$core$serialization$blocks,saveConnection$$module$build$src$core$serialization$blocks,append$$module$build$src$core$serialization$blocks,appendInternal$$module$build$src$core$serialization$blocks,appendPrivate$$module$build$src$core$serialization$blocks,checkNewVariables$$module$build$src$core$serialization$blocks,loadCoords$$module$build$src$core$serialization$blocks,loadAttributes$$module$build$src$core$serialization$blocks,loadExtraState$$module$build$src$core$serialization$blocks,\ntryToConnectParent$$module$build$src$core$serialization$blocks,loadIcons$$module$build$src$core$serialization$blocks,loadFields$$module$build$src$core$serialization$blocks,loadInputBlocks$$module$build$src$core$serialization$blocks,loadNextBlocks$$module$build$src$core$serialization$blocks,loadConnection$$module$build$src$core$serialization$blocks,initBlock$$module$build$src$core$serialization$blocks,hasBubble$$module$build$src$core$interfaces$i_has_bubble,toRadians$$module$build$src$core$utils$math,\ntoDegrees$$module$build$src$core$utils$math,clamp$$module$build$src$core$utils$math,createDom$$module$build$src$core$dropdowndiv,setBoundsElement$$module$build$src$core$dropdowndiv,getOwner$$module$build$src$core$dropdowndiv,getContentDiv$$module$build$src$core$dropdowndiv,clearContent$$module$build$src$core$dropdowndiv,setColour$$module$build$src$core$dropdowndiv,showPositionedByBlock$$module$build$src$core$dropdowndiv,showPositionedByField$$module$build$src$core$dropdowndiv,getScaledBboxOfBlock$$module$build$src$core$dropdowndiv,\ngetScaledBboxOfField$$module$build$src$core$dropdowndiv,showPositionedByRect$$module$build$src$core$dropdowndiv,show$$module$build$src$core$dropdowndiv,getPositionBelowMetrics$$module$build$src$core$dropdowndiv,getPositionAboveMetrics$$module$build$src$core$dropdowndiv,getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv,getPositionX$$module$build$src$core$dropdowndiv,isVisible$$module$build$src$core$dropdowndiv,hideIfOwner$$module$build$src$core$dropdowndiv,hide$$module$build$src$core$dropdowndiv,\nhideWithoutAnimation$$module$build$src$core$dropdowndiv,positionInternal$$module$build$src$core$dropdowndiv,repositionForWindowResize$$module$build$src$core$dropdowndiv,shortestStringLength$$module$build$src$core$utils$string,commonWordPrefix$$module$build$src$core$utils$string,commonWordSuffix$$module$build$src$core$utils$string,wrapLine$$module$build$src$core$utils$string,wrapScore$$module$build$src$core$utils$string,wrapMutate$$module$build$src$core$utils$string,wrapToText$$module$build$src$core$utils$string,\nsetCustomTooltip$$module$build$src$core$tooltip,getCustomTooltip$$module$build$src$core$tooltip,isVisible$$module$build$src$core$tooltip,getDiv$$module$build$src$core$tooltip,getTooltipOfObject$$module$build$src$core$tooltip,getTargetObject$$module$build$src$core$tooltip,createDom$$module$build$src$core$tooltip,bindMouseEvents$$module$build$src$core$tooltip,unbindMouseEvents$$module$build$src$core$tooltip,onMouseOver$$module$build$src$core$tooltip,onMouseOut$$module$build$src$core$tooltip,onMouseMove$$module$build$src$core$tooltip,\ndispose$$module$build$src$core$tooltip,hide$$module$build$src$core$tooltip,block$$module$build$src$core$tooltip,unblock$$module$build$src$core$tooltip,renderContent$$module$build$src$core$tooltip,renderDefaultContent$$module$build$src$core$tooltip,getPosition$$module$build$src$core$tooltip,show$$module$build$src$core$tooltip,getHsvSaturation$$module$build$src$core$utils$colour,setHsvSaturation$$module$build$src$core$utils$colour,getHsvValue$$module$build$src$core$utils$colour,setHsvValue$$module$build$src$core$utils$colour,\nparse$$module$build$src$core$utils$colour,rgbToHex$$module$build$src$core$utils$colour,hexToRgb$$module$build$src$core$utils$colour,hsvToHex$$module$build$src$core$utils$colour,blend$$module$build$src$core$utils$colour,hueToHex$$module$build$src$core$utils$colour,tokenizeInterpolationInternal$$module$build$src$core$utils$parsing,tokenizeInterpolation$$module$build$src$core$utils$parsing,replaceMessageReferences$$module$build$src$core$utils$parsing,checkMessageReferences$$module$build$src$core$utils$parsing,\nparseBlockColour$$module$build$src$core$utils$parsing,getDiv$$module$build$src$core$widgetdiv,testOnly_setDiv$$module$build$src$core$widgetdiv,createDom$$module$build$src$core$widgetdiv,show$$module$build$src$core$widgetdiv,hide$$module$build$src$core$widgetdiv,isVisible$$module$build$src$core$widgetdiv,hideIfOwner$$module$build$src$core$widgetdiv,hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv,positionInternal$$module$build$src$core$widgetdiv,positionWithAnchor$$module$build$src$core$widgetdiv,\ncalculateX$$module$build$src$core$widgetdiv,calculateY$$module$build$src$core$widgetdiv,isRepositionable$$module$build$src$core$widgetdiv,repositionForWindowResize$$module$build$src$core$widgetdiv,getCurrentBlock$$module$build$src$core$contextmenu,setCurrentBlock$$module$build$src$core$contextmenu,show$$module$build$src$core$contextmenu,populate_$$module$build$src$core$contextmenu,position_$$module$build$src$core$contextmenu,createWidget_$$module$build$src$core$contextmenu,haltPropagation$$module$build$src$core$contextmenu,\nhide$$module$build$src$core$contextmenu,dispose$$module$build$src$core$contextmenu,mouseToWorkspacePoint$$module$build$src$core$utils$drag,start$$module$build$src$core$utils$drag,move$$module$build$src$core$utils$drag,workspaceToDom$$module$build$src$core$xml,saveWorkspaceComment$$module$build$src$core$xml,variablesToDom$$module$build$src$core$xml,blockToDomWithXY$$module$build$src$core$xml,fieldToDom$$module$build$src$core$xml,allFieldsToDom$$module$build$src$core$xml,blockToDom$$module$build$src$core$xml,\ncloneShadow$$module$build$src$core$xml,domToText$$module$build$src$core$xml,domToPrettyText$$module$build$src$core$xml,clearWorkspaceAndLoadFromXml$$module$build$src$core$xml,loadWorkspaceComment$$module$build$src$core$xml,appendDomToWorkspace$$module$build$src$core$xml,domToBlockInternal$$module$build$src$core$xml,domToVariables$$module$build$src$core$xml,mapSupportedXmlTags$$module$build$src$core$xml,applyMutationTagNodes$$module$build$src$core$xml,applyCommentTagNodes$$module$build$src$core$xml,\napplyDataTagNodes$$module$build$src$core$xml,applyFieldTagNodes$$module$build$src$core$xml,findChildBlocks$$module$build$src$core$xml,applyInputTagNodes$$module$build$src$core$xml,applyNextTagNodes$$module$build$src$core$xml,domToBlockHeadless$$module$build$src$core$xml,domToField$$module$build$src$core$xml,deleteNext$$module$build$src$core$xml,isElement$$module$build$src$core$xml,register$$module$build$src$core$field_registry,unregister$$module$build$src$core$field_registry,fromJsonInternal$$module$build$src$core$field_registry,\nisImageProperties$$module$build$src$core$field_dropdown,unregister$$module$build$src$core$extensions,isRegistered$$module$build$src$core$extensions,apply$$module$build$src$core$extensions,checkNoMutatorProperties$$module$build$src$core$extensions,checkXmlHooks$$module$build$src$core$extensions,checkJsonHooks$$module$build$src$core$extensions,checkMutatorDialog$$module$build$src$core$extensions,checkHasFunctionPair$$module$build$src$core$extensions,checkHasMutatorProperties$$module$build$src$core$extensions,\ngetMutatorProperties$$module$build$src$core$extensions,mutatorPropertiesMatch$$module$build$src$core$extensions,runAfterPageLoad$$module$build$src$core$extensions,checkDropdownOptionsInTable$$module$build$src$core$extensions,extensionParentTooltip$$module$build$src$core$extensions,point$$module$build$src$core$utils$svg_paths,curve$$module$build$src$core$utils$svg_paths,moveTo$$module$build$src$core$utils$svg_paths,moveBy$$module$build$src$core$utils$svg_paths,lineTo$$module$build$src$core$utils$svg_paths,\nline$$module$build$src$core$utils$svg_paths,lineOnAxis$$module$build$src$core$utils$svg_paths,arc$$module$build$src$core$utils$svg_paths,connectReciprocally$$module$build$src$core$connection,getSingleConnection$$module$build$src$core$connection,getConnectionForOrphanedOutput$$module$build$src$core$connection,isIcon$$module$build$src$core$interfaces$i_icon,isCommentIcon$$module$build$src$core$interfaces$i_comment_icon,disposeUiEffect$$module$build$src$core$block_animations,disposeUiStep$$module$build$src$core$block_animations,\nconnectionUiEffect$$module$build$src$core$block_animations,disconnectUiEffect$$module$build$src$core$block_animations,disconnectUiStep$$module$build$src$core$block_animations,disconnectUiStop$$module$build$src$core$block_animations,moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster,blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster,blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster,bumpObjectIntoBounds$$module$build$src$core$bump_objects,bumpIntoBoundsHandler$$module$build$src$core$bump_objects,\nextractObjectFromEvent$$module$build$src$core$bump_objects,bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects,isDeletable$$module$build$src$core$interfaces$i_deletable,getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy,navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy,navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy,register$$module$build$src$core$icons$registry,unregister$$module$build$src$core$icons$registry,\nisDraggable$$module$build$src$core$interfaces$i_draggable,isAutoHideable$$module$build$src$core$interfaces$i_autohideable,isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block,isObservable$$module$build$src$core$interfaces$i_observable,allProcedures$$module$build$src$core$procedures,procTupleComparator$$module$build$src$core$procedures,isLegalName$$module$build$src$core$procedures,isNameUsed$$module$build$src$core$procedures,xmlFlyoutCategory$$module$build$src$core$procedures,internalFlyoutCategory$$module$build$src$core$procedures,\nflyoutCategory$$module$build$src$core$procedures,updateMutatorFlyout$$module$build$src$core$procedures,mutatorOpenListener$$module$build$src$core$procedures,mutatorChangeListener$$module$build$src$core$procedures,getCallers$$module$build$src$core$procedures,blockIsModernCallerFor$$module$build$src$core$procedures,isDynamicShape$$module$build$src$core$renderers$common$constants,isPuzzleTab$$module$build$src$core$renderers$common$constants,isNotch$$module$build$src$core$renderers$common$constants,register$$module$build$src$core$renderers$common$block_rendering,\nunregister$$module$build$src$core$renderers$common$block_rendering,init$$module$build$src$core$renderers$common$block_rendering,stringButtonClickHandler$$module$build$src$core$variables_dynamic,numberButtonClickHandler$$module$build$src$core$variables_dynamic,colourButtonClickHandler$$module$build$src$core$variables_dynamic,internalFlyoutCategory$$module$build$src$core$variables_dynamic,flyoutCategory$$module$build$src$core$variables_dynamic,xmlFlyoutCategory$$module$build$src$core$variables_dynamic,\nflyoutCategoryBlocks$$module$build$src$core$variables_dynamic,resizeSvgContents$$module$build$src$core$workspace_svg,copy$$module$build$src$core$clipboard,getLastCopiedData$$module$build$src$core$clipboard,setLastCopiedData$$module$build$src$core$clipboard,getLastCopiedWorkspace$$module$build$src$core$clipboard,setLastCopiedWorkspace$$module$build$src$core$clipboard,getLastCopiedLocation$$module$build$src$core$clipboard,setLastCopiedLocation$$module$build$src$core$clipboard,paste$$module$build$src$core$clipboard,\npasteFromData$$module$build$src$core$clipboard,isCopyable$$module$build$src$core$interfaces$i_copyable,registerEscape$$module$build$src$core$shortcut_items,registerDelete$$module$build$src$core$shortcut_items,isCopyable$$module$build$src$core$shortcut_items,isCuttable$$module$build$src$core$shortcut_items,registerCopy$$module$build$src$core$shortcut_items,registerCut$$module$build$src$core$shortcut_items,registerPaste$$module$build$src$core$shortcut_items,registerUndo$$module$build$src$core$shortcut_items,\nregisterRedo$$module$build$src$core$shortcut_items,registerDefaultShortcuts$$module$build$src$core$shortcut_items,saveProcedure$$module$build$src$core$serialization$procedures,loadProcedure$$module$build$src$core$serialization$procedures,save$$module$build$src$core$serialization$workspaces,load$$module$build$src$core$serialization$workspaces,inject$$module$build$src$core$inject,createDom$$module$build$src$core$inject,createMainWorkspace$$module$build$src$core$inject,init$$module$build$src$core$inject,\nbindDocumentEvents$$module$build$src$core$inject,loadSounds$$module$build$src$core$inject,isFullBlockField$$module$build$src$core$contextmenu_items,registerUndo$$module$build$src$core$contextmenu_items,registerRedo$$module$build$src$core$contextmenu_items,registerCleanup$$module$build$src$core$contextmenu_items,toggleOption_$$module$build$src$core$contextmenu_items,registerCollapse$$module$build$src$core$contextmenu_items,registerExpand$$module$build$src$core$contextmenu_items,addDeletableBlocks_$$module$build$src$core$contextmenu_items,\ngetDeletableBlocks_$$module$build$src$core$contextmenu_items,deleteNext_$$module$build$src$core$contextmenu_items,registerDeleteAll$$module$build$src$core$contextmenu_items,registerWorkspaceOptions_$$module$build$src$core$contextmenu_items,registerDuplicate$$module$build$src$core$contextmenu_items,registerComment$$module$build$src$core$contextmenu_items,registerInline$$module$build$src$core$contextmenu_items,registerCollapseExpandBlock$$module$build$src$core$contextmenu_items,registerDisable$$module$build$src$core$contextmenu_items,\nregisterDelete$$module$build$src$core$contextmenu_items,registerHelp$$module$build$src$core$contextmenu_items,registerCommentDelete$$module$build$src$core$contextmenu_items,registerCommentDuplicate$$module$build$src$core$contextmenu_items,registerCommentCreate$$module$build$src$core$contextmenu_items,registerBlockOptions_$$module$build$src$core$contextmenu_items,registerCommentOptions$$module$build$src$core$contextmenu_items,registerDefaultOptions$$module$build$src$core$contextmenu_items,isPaster$$module$build$src$core$interfaces$i_paster,\nisRenderedElement$$module$build$src$core$interfaces$i_rendered_element,isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item,hideChaff$$module$build$src$core$blockly,isFocusableTree$$module$build$src$core$interfaces$i_focusable_tree,$jscomp;\nregister$$module$build$src$core$registry=function(a,b,c,d){if(!(a instanceof Type$$module$build$src$core$registry)&&typeof a!==\"string\"||`${a}`.trim()===\"\")throw Error('Invalid type \"'+a+'\". The type must be a non-empty string or a Blockly.registry.Type.');a=`${a}`.toLowerCase();if(typeof b!==\"string\"||b.trim()===\"\")throw Error('Invalid name \"'+b+'\". The name must be a non-empty string.');const e=b.toLowerCase();if(!c)throw Error(\"Can not register a null value\");let f=typeMap$$module$build$src$core$registry[a],\ng=nameMap$$module$build$src$core$registry[a];f||(f=typeMap$$module$build$src$core$registry[a]=Object.create(null),g=nameMap$$module$build$src$core$registry[a]=Object.create(null));validate$$module$build$src$core$registry(a,c);if(!d&&f[e]&&f[e]!==c)throw Error('Name \"'+e+'\" with type \"'+a+'\" already registered.');f[e]=c;g[e]=b};\nvalidate$$module$build$src$core$registry=function(a,b){switch(a){case String(Type$$module$build$src$core$registry.FIELD):if(typeof b.fromJson!==\"function\")throw Error('Type \"'+a+'\" must have a fromJson function');}};\nunregister$$module$build$src$core$registry=function(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();const c=typeMap$$module$build$src$core$registry[a];c&&c[b]?(delete typeMap$$module$build$src$core$registry[a][b],delete nameMap$$module$build$src$core$registry[a][b]):console.warn(\"Unable to unregister [\"+b+\"][\"+a+\"] from the registry.\")};\ngetItem$$module$build$src$core$registry=function(a,b,c){a=`${a}`.toLowerCase();b=b.toLowerCase();const d=typeMap$$module$build$src$core$registry[a];if(!d||!d[b]){b=\"Unable to find [\"+b+\"][\"+a+\"] in the registry.\";if(c)throw Error(b+\" You must require or register a \"+a+\" plugin.\");console.warn(b);return null}return d[b]};hasItem$$module$build$src$core$registry=function(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();return(a=typeMap$$module$build$src$core$registry[a])?!!a[b]:!1};\ngetClass$$module$build$src$core$registry=function(a,b,c){return getItem$$module$build$src$core$registry(a,b,c)};getObject$$module$build$src$core$registry=function(a,b,c){return getItem$$module$build$src$core$registry(a,b,c)};\ngetAllItems$$module$build$src$core$registry=function(a,b,c){a=`${a}`.toLowerCase();var d=typeMap$$module$build$src$core$registry[a];if(!d){d=`Unable to find [${a}] in the registry.`;if(c)throw Error(`${d} You must require or register a ${a} plugin.`);console.warn(d);return null}if(!b)return d;a=nameMap$$module$build$src$core$registry[a];c=Object.create(null);for(const e of Object.keys(d))c[a[e]]=d[e];return c};\ngetClassFromOptions$$module$build$src$core$registry=function(a,b,c){b=b.plugins[String(a)]||DEFAULT$$module$build$src$core$registry;return typeof b===\"function\"?b:getClass$$module$build$src$core$registry(a,b,c)};longStart$$module$build$src$core$touch=function(a,b){longStop$$module$build$src$core$touch();longPid_$$module$build$src$core$touch=setTimeout(function(){b&&b.handleRightClick(a)},LONGPRESS$$module$build$src$core$touch)};\nlongStop$$module$build$src$core$touch=function(){longPid_$$module$build$src$core$touch&&(clearTimeout(longPid_$$module$build$src$core$touch),longPid_$$module$build$src$core$touch=0)};clearTouchIdentifier$$module$build$src$core$touch=function(){touchIdentifier_$$module$build$src$core$touch=null};shouldHandleEvent$$module$build$src$core$touch=function(a){return!a.type.startsWith(\"pointer\")||a instanceof PointerEvent&&checkTouchIdentifier$$module$build$src$core$touch(a)};\ngetTouchIdentifierFromEvent$$module$build$src$core$touch=function(a){return`${a.pointerId}`};checkTouchIdentifier$$module$build$src$core$touch=function(a){const b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);return touchIdentifier_$$module$build$src$core$touch?touchIdentifier_$$module$build$src$core$touch===b:a.type===\"pointerdown\"?(touchIdentifier_$$module$build$src$core$touch=b,!0):!1};\nconditionalBind$$module$build$src$core$browser_events=function(a,b,c,d,e){function f(h){if(e||shouldHandleEvent$$module$build$src$core$touch(h))c?d.call(c,h):d(h)}const g=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(let h=0;h<TOUCH_MAP$$module$build$src$core$touch[b].length;h++){const k=TOUCH_MAP$$module$build$src$core$touch[b][h];a.addEventListener(k,f,!1);g.push([a,k,f])}else a.addEventListener(b,f,!1),g.push([a,b,f]);return g};\nbind$$module$build$src$core$browser_events=function(a,b,c,d){function e(g){c?d.call(c,g):d(g)}const f=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(let g=0;g<TOUCH_MAP$$module$build$src$core$touch[b].length;g++){const h=TOUCH_MAP$$module$build$src$core$touch[b][g];a.addEventListener(h,e,!1);f.push([a,h,e])}else a.addEventListener(b,e,!1),f.push([a,b,e]);return f};\nunbind$$module$build$src$core$browser_events=function(a){const b=a[a.length-1][2];for(;a.length;){const [c,d,e]=a.pop();c.removeEventListener(d,e,!1)}return b};\nisTargetInput$$module$build$src$core$browser_events=function(a){if(a.target instanceof HTMLElement){if(a.target.isContentEditable||a.target.getAttribute(\"data-is-text-input\")===\"true\")return!0;if(a.target instanceof HTMLInputElement)return a=a.target,a.type===\"text\"||a.type===\"number\"||a.type===\"email\"||a.type===\"password\"||a.type===\"search\"||a.type===\"tel\"||a.type===\"url\";if(a.target instanceof HTMLTextAreaElement)return!0}return!1};\nisRightButton$$module$build$src$core$browser_events=function(a){return a.ctrlKey&&MAC$$module$build$src$core$utils$useragent?!0:a.button===2};mouseToSvg$$module$build$src$core$browser_events=function(a,b,c){const d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};\ngetScrollDeltaPixels$$module$build$src$core$browser_events=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events};case 2:return{x:a.deltaX*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events}}};\ngetNextUniqueId$$module$build$src$core$utils$idgenerator=function(){return\"blockly-\"+(nextId$$module$build$src$core$utils$idgenerator++).toString(36)};genUid$$module$build$src$core$utils$idgenerator=function(){return internal$$module$build$src$core$utils$idgenerator.genUid()};isBlockCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_CREATE};\nisBlockDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_DELETE};isBlockChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_CHANGE};isBlockFieldIntermediateChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE};\nisBlockMove$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_MOVE};isVarCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_CREATE};isVarDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_DELETE};isVarRename$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VAR_RENAME};\nisBlockDrag$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BLOCK_DRAG};isSelected$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.SELECTED};isClick$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.CLICK};isBubbleOpen$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.BUBBLE_OPEN};\nisTrashcanOpen$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.TRASHCAN_OPEN};isToolboxItemSelect$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT};isThemeChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.THEME_CHANGE};\nisViewportChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE};isCommentCreate$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_CREATE};isCommentDelete$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_DELETE};\nisCommentChange$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_CHANGE};isCommentMove$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_MOVE};isCommentResize$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_RESIZE};\nisCommentDrag$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_DRAG};isCommentCollapse$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE};isFinishedLoading$$module$build$src$core$events$predicates=function(a){return a.type===EventType$$module$build$src$core$events$type.FINISHED_LOADING};\n$.setRecordUndo$$module$build$src$core$events$utils=function(a){recordUndo$$module$build$src$core$events$utils=a};getRecordUndo$$module$build$src$core$events$utils=function(){return recordUndo$$module$build$src$core$events$utils};fire$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.fireInternal(a)};\nfireInternal$$module$build$src$core$events$utils=function(a){if(isEnabled$$module$build$src$core$events$utils()){if(!FIRE_QUEUE$$module$build$src$core$events$utils.length)try{requestAnimationFrame(()=>{setTimeout(fireNow$$module$build$src$core$events$utils,0)})}catch(b){setTimeout(fireNow$$module$build$src$core$events$utils,0)}enqueueEvent$$module$build$src$core$events$utils(a)}};\nfireNow$$module$build$src$core$events$utils=function(){const a=filter$$module$build$src$core$events$utils(FIRE_QUEUE$$module$build$src$core$events$utils);FIRE_QUEUE$$module$build$src$core$events$utils.length=0;for(const b of a){if(!b.workspaceId)continue;let c;(c=getWorkspaceById$$module$build$src$core$common(b.workspaceId))==null||c.fireChangeListener(b)}};\nenqueueEvent$$module$build$src$core$events$utils=function(a){if(isBlockChange$$module$build$src$core$events$predicates(a)&&a.element===\"mutation\"){let b;for(b=FIRE_QUEUE$$module$build$src$core$events$utils.length;b>0;b--){const c=FIRE_QUEUE$$module$build$src$core$events$utils[b-1];if(c.group!==a.group||c.workspaceId!==a.workspaceId||!isBlockMove$$module$build$src$core$events$predicates(c)||c.newParentId!==a.blockId)break}FIRE_QUEUE$$module$build$src$core$events$utils.splice(b,0,a)}else FIRE_QUEUE$$module$build$src$core$events$utils.push(a)};\nfilter$$module$build$src$core$events$utils=function(a){const b=[];for(const c of a)if(a=b[b.length-1],!c.isNull())if(a&&a.workspaceId===c.workspaceId&&a.group===c.group)if(isBlockMove$$module$build$src$core$events$predicates(c)&&isBlockMove$$module$build$src$core$events$predicates(a)&&c.blockId===a.blockId){if(a.newParentId=c.newParentId,a.newInputName=c.newInputName,a.newCoordinate=c.newCoordinate,a.reason||c.reason){let d,e;a.reason=Array.from(new Set(((d=a.reason)!=null?d:[]).concat((e=c.reason)!=\nnull?e:[])))}}else isBlockChange$$module$build$src$core$events$predicates(c)&&isBlockChange$$module$build$src$core$events$predicates(a)&&c.blockId===a.blockId&&c.element===a.element&&c.name===a.name?a.newValue=c.newValue:isViewportChange$$module$build$src$core$events$predicates(c)&&isViewportChange$$module$build$src$core$events$predicates(a)?(a.viewTop=c.viewTop,a.viewLeft=c.viewLeft,a.scale=c.scale,a.oldScale=c.oldScale):isClick$$module$build$src$core$events$predicates(c)&&isBubbleOpen$$module$build$src$core$events$predicates(a)||\nb.push(c);else b.push(c);return a=b.filter(c=>!c.isNull())};clearPendingUndo$$module$build$src$core$events$utils=function(){for(let a=0,b;b=FIRE_QUEUE$$module$build$src$core$events$utils[a];a++)b.recordUndo=!1};$.disable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils++};$.enable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils--};\nisEnabled$$module$build$src$core$events$utils=function(){return disabled$$module$build$src$core$events$utils===0};$.getGroup$$module$build$src$core$events$utils=function(){return group$$module$build$src$core$events$utils};$.setGroup$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.setGroupInternal(a)};\nsetGroupInternal$$module$build$src$core$events$utils=function(a){group$$module$build$src$core$events$utils=typeof a===\"boolean\"?a?genUid$$module$build$src$core$utils$idgenerator():\"\":a};getDescendantIds$$module$build$src$core$events$utils=function(a){const b=[];a=a.getDescendants(!1);for(let c=0,d;d=a[c];c++)b[c]=d.id;return b};\nfromJson$$module$build$src$core$events$utils=function(a,b){const c=get$$module$build$src$core$events$utils(a.type);if(!c)throw Error(\"Unknown event type.\");return c.fromJson(a,b)};get$$module$build$src$core$events$utils=function(a){const b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,a);if(!b)throw Error(`Event type ${a} not found in registry.`);return b};\ndisableOrphans$$module$build$src$core$events$utils=function(a){if((isBlockMove$$module$build$src$core$events$predicates(a)||isBlockCreate$$module$build$src$core$events$predicates(a))&&a.workspaceId){var b=getWorkspaceById$$module$build$src$core$common(a.workspaceId);if(!a.blockId)throw Error(\"Encountered a blockEvent without a proper blockId\");if(a=b.getBlockById(a.blockId)){const c=recordUndo$$module$build$src$core$events$utils;try{recordUndo$$module$build$src$core$events$utils=!1;const d=a.getParent();\nif(d&&!d.hasDisabledReason(ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils)){const e=a.getDescendants(!1);for(let f=0,g;g=e[f];f++)g.setDisabledReason(!1,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils)}else if((a.outputConnection||a.previousConnection)&&!b.isDragging()){do a.setDisabledReason(!0,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils),a=a.getNextBlock();while(a)}}finally{recordUndo$$module$build$src$core$events$utils=c}}}};\ncreateSvgElement$$module$build$src$core$utils$dom=function(a,b,c){a=document.createElementNS(SVG_NS$$module$build$src$core$utils$dom,`${a}`);for(const d in b)a.setAttribute(d,`${b[d]}`);c&&c.appendChild(a);return a};addClass$$module$build$src$core$utils$dom=function(a,b){b=b.split(\" \");if(b.every(c=>a.classList.contains(c)))return!1;a.classList.add(...b);return!0};removeClasses$$module$build$src$core$utils$dom=function(a,b){a.classList.remove(...b.split(\" \"))};\nremoveClass$$module$build$src$core$utils$dom=function(a,b){b=b.split(\" \");if(b.every(c=>!a.classList.contains(c)))return!1;a.classList.remove(...b);return!0};hasClass$$module$build$src$core$utils$dom=function(a,b){return a.classList.contains(b)};removeNode$$module$build$src$core$utils$dom=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};\ninsertAfter$$module$build$src$core$utils$dom=function(a,b){const c=b.nextSibling;b=b.parentNode;if(!b)throw Error(\"Reference node has no parent.\");c?b.insertBefore(a,c):b.appendChild(a)};setCssTransform$$module$build$src$core$utils$dom=function(a,b){a.style.transform=b;a.style[\"-webkit-transform\"]=b};\nstartTextWidthCache$$module$build$src$core$utils$dom=function(){cacheReference$$module$build$src$core$utils$dom++;cacheWidths$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=Object.create(null))};stopTextWidthCache$$module$build$src$core$utils$dom=function(){cacheReference$$module$build$src$core$utils$dom--;cacheReference$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=null)};\ngetTextWidth$$module$build$src$core$utils$dom=function(a){const b=a.textContent+\"\\n\"+a.className.baseVal;var c;if(cacheWidths$$module$build$src$core$utils$dom&&(c=cacheWidths$$module$build$src$core$utils$dom[b]))return c;c=window.getComputedStyle(a);c=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,c.fontSize,c.fontWeight,c.fontFamily);cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[b]=c);return c};\ngetFastTextWidth$$module$build$src$core$utils$dom=function(a,b,c,d){return getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,b+\"pt\",c,d)};\ngetFastTextWidthWithSizeString$$module$build$src$core$utils$dom=function(a,b,c,d){const e=a.textContent;a=e+\"\\n\"+a.className.baseVal;var f;if(cacheWidths$$module$build$src$core$utils$dom&&(f=cacheWidths$$module$build$src$core$utils$dom[a]))return f;canvasContext$$module$build$src$core$utils$dom||(f=document.createElement(\"canvas\"),f.className=\"blocklyComputeCanvas\",document.body.appendChild(f),canvasContext$$module$build$src$core$utils$dom=f.getContext(\"2d\"));e&&canvasContext$$module$build$src$core$utils$dom?\n(canvasContext$$module$build$src$core$utils$dom.font=c+\" \"+b+\" \"+d,f=canvasContext$$module$build$src$core$utils$dom.measureText(e).width):f=0;cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[a]=f);return f};\nmeasureFontMetrics$$module$build$src$core$utils$dom=function(a,b,c,d){const e=document.createElement(\"span\");e.style.font=c+\" \"+b+\" \"+d;e.textContent=a;a=document.createElement(\"div\");a.style.width=\"1px\";a.style.height=\"0\";b=document.createElement(\"div\");b.style.display=\"flex\";b.style.position=\"fixed\";b.style.top=\"0\";b.style.left=\"0\";b.appendChild(e);b.appendChild(a);document.body.appendChild(b);c={height:0,baseline:0};try{b.style.alignItems=\"baseline\",c.baseline=a.offsetTop-e.offsetTop,b.style.alignItems=\n\"flex-end\",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c};$.getFocusManager$$module$build$src$core$focus_manager=function(){return FocusManager$$module$build$src$core$focus_manager.getFocusManager()};isFocusableNode$$module$build$src$core$interfaces$i_focusable_node=function(a){return a&&typeof a.getFocusableElement===\"function\"&&typeof a.getFocusableTree===\"function\"&&typeof a.onNodeFocus===\"function\"&&typeof a.onNodeBlur===\"function\"&&typeof a.canBeFocused===\"function\"};\nisSelectable$$module$build$src$core$interfaces$i_selectable=function(a){return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(a)&&typeof a.id===\"string\"&&typeof a.workspace===\"object\"&&typeof a.select===\"function\"&&typeof a.unselect===\"function\"};\ndeepMerge$$module$build$src$core$utils$object=function(a,b){for(const c in b)b[c]!==null&&Array.isArray(b[c])?a[c]=deepMerge$$module$build$src$core$utils$object(a[c]||[],b[c]):a[c]=b[c]!==null&&typeof b[c]===\"object\"?deepMerge$$module$build$src$core$utils$object(a[c]||Object.create(null),b[c]):b[c];return a};getWorkspaceById$$module$build$src$core$common=function(a){return WorkspaceDB_$$module$build$src$core$common[a]||null};\ngetAllWorkspaces$$module$build$src$core$common=function(){const a=[];for(const b in WorkspaceDB_$$module$build$src$core$common)a.push(WorkspaceDB_$$module$build$src$core$common[b]);return a};registerWorkspace$$module$build$src$core$common=function(a){WorkspaceDB_$$module$build$src$core$common[a.id]=a};unregisterWorkpace$$module$build$src$core$common=function(a){delete WorkspaceDB_$$module$build$src$core$common[a.id]};getMainWorkspace$$module$build$src$core$common=function(){return mainWorkspace$$module$build$src$core$common};\nsetMainWorkspace$$module$build$src$core$common=function(a){mainWorkspace$$module$build$src$core$common=a};getSelected$$module$build$src$core$common=function(){const a=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return a&&isSelectable$$module$build$src$core$interfaces$i_selectable(a)?a:null};setSelected$$module$build$src$core$common=function(a){$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)};\nfireSelectedEvent$$module$build$src$core$common=function(a){const b=getSelected$$module$build$src$core$common();let c,d,e,f;const g=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.SELECTED))((c=b==null?void 0:b.id)!=null?c:null,(d=a==null?void 0:a.id)!=null?d:null,(f=(e=a==null?void 0:a.workspace.id)!=null?e:b==null?void 0:b.workspace.id)!=null?f:\"\");fire$$module$build$src$core$events$utils(g)};getParentContainer$$module$build$src$core$common=function(){return parentContainer$$module$build$src$core$common};\nsetParentContainer$$module$build$src$core$common=function(a){parentContainer$$module$build$src$core$common=a};\nsvgResize$$module$build$src$core$common=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;const b=a.getParentSvg(),c=a.getCachedParentSvgSize();var d=b.parentElement;if(d instanceof HTMLElement){var e=d.offsetWidth;d=d.offsetHeight;c.width!==e&&(b.setAttribute(\"width\",e+\"px\"),a.setCachedParentSvgSize(e,null));c.height!==d&&(b.setAttribute(\"height\",d+\"px\"),a.setCachedParentSvgSize(null,d));a.resize()}};\ngetBlockTypeCounts$$module$build$src$core$common=function(a,b){const c=Object.create(null),d=a.getDescendants(!0);b&&(a=a.getNextBlock())&&(a=d.indexOf(a),d.splice(a,d.length-a));for(let e=0,f;f=d[e];e++)c[f.type]?c[f.type]++:c[f.type]=1;return c};jsonInitFactory$$module$build$src$core$common=function(a){return function(){this.jsonInit(a)}};defineBlocksWithJsonArray$$module$build$src$core$common=function(a){TEST_ONLY$$module$build$src$core$common.defineBlocksWithJsonArrayInternal(a)};\ndefineBlocksWithJsonArrayInternal$$module$build$src$core$common=function(a){$.defineBlocks$$module$build$src$core$common($.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(a))};\n$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(a){const b={};for(let c=0;c<a.length;c++){const d=a[c];if(!d){console.warn(`Block definition #${c} in JSON array is ${d}. Skipping`);continue}const e=d.type;e?b[e]={init:jsonInitFactory$$module$build$src$core$common(d)}:console.warn(`Block definition #${c} in JSON array is missing a type attribute. `+\"Skipping.\")}return b};\n$.defineBlocks$$module$build$src$core$common=function(a){for(const b of Object.keys(a)){const c=a[b];b in Blocks$$module$build$src$core$blocks&&console.warn(`Block definition \"${b}\" overwrites previous definition.`);Blocks$$module$build$src$core$blocks[b]=c}};\nglobalShortcutHandler$$module$build$src$core$common=function(a){let b=getMainWorkspace$$module$build$src$core$common();const c=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const d of getAllWorkspaces$$module$build$src$core$common())if(c===d){b=d;break}if(!isTargetInput$$module$build$src$core$browser_events(a)&&b&&(!b.rendered||b.isFlyout||b.isVisible()))ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.onKeyDown(b,a)};\nremoveElem$$module$build$src$core$utils$array=function(a,b){b=a.indexOf(b);if(b===-1)return!1;a.splice(b,1);return!0};register$$module$build$src$core$css=function(a){if(injected$$module$build$src$core$css)throw Error(\"CSS already injected\");content$$module$build$src$core$css+=\"\\n\"+a};\ninject$$module$build$src$core$css=function(a,b){injected$$module$build$src$core$css||(injected$$module$build$src$core$css=!0,a&&(a=b.replace(/[\\\\/]$/,\"\"),b=content$$module$build$src$core$css.replace(/<<<PATH>>>/g,a),content$$module$build$src$core$css=\"\",a=document.createElement(\"style\"),a.id=\"blockly-common-style\",b=document.createTextNode(b),a.appendChild(b),document.head.insertBefore(a,document.head.firstChild)))};getSize$$module$build$src$core$utils$style=function(a){return TEST_ONLY$$module$build$src$core$utils$style.getSizeInternal(a)};\ngetSizeInternal$$module$build$src$core$utils$style=function(a){if(getComputedStyle$$module$build$src$core$utils$style(a,\"display\")!==\"none\")return getSizeWithDisplay$$module$build$src$core$utils$style(a);const b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility=\"hidden\";b.position=\"absolute\";b.display=\"inline\";const f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Size$$module$build$src$core$utils$size(f,a)};\ngetSizeWithDisplay$$module$build$src$core$utils$style=function(a){return new Size$$module$build$src$core$utils$size(a.offsetWidth,a.offsetHeight)};getComputedStyle$$module$build$src$core$utils$style=function(a,b){a=window.getComputedStyle(a);return a[b]||a.getPropertyValue(b)};\ngetPageOffset$$module$build$src$core$utils$style=function(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new Coordinate$$module$build$src$core$utils$coordinate(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};\ngetViewportPageOffset$$module$build$src$core$utils$style=function(){const a=document.body,b=document.documentElement;return new Coordinate$$module$build$src$core$utils$coordinate(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};\ngetBorderBox$$module$build$src$core$utils$style=function(a){const b=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderLeftWidth\")),c=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderRightWidth\")),d=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderTopWidth\"));a=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,\"borderBottomWidth\"));return new Rect$$module$build$src$core$utils$rect(d,a,b,c)};\nscrollIntoContainerView$$module$build$src$core$utils$style=function(a,b,c){a=getContainerOffsetToScrollInto$$module$build$src$core$utils$style(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};\ngetContainerOffsetToScrollInto$$module$build$src$core$utils$style=function(a,b,c){var d=getPageOffset$$module$build$src$core$utils$style(a),e=getPageOffset$$module$build$src$core$utils$style(b),f=getBorderBox$$module$build$src$core$utils$style(b);const g=d.x-e.x-f.left;d=d.y-e.y-f.top;e=getSizeWithDisplay$$module$build$src$core$utils$style(a);a=b.clientWidth-e.width;e=b.clientHeight-e.height;f=b.scrollLeft;b=b.scrollTop;c?(f+=g-a/2,b+=d-e/2):(f+=Math.min(g,Math.max(g-a,0)),b+=Math.min(d,Math.max(d-\ne,0)));return new Coordinate$$module$build$src$core$utils$coordinate(f,b)};\ngetRelativeXY$$module$build$src$core$utils$svg_math=function(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);var c=a.x&&a.getAttribute(\"x\");const d=a.y&&a.getAttribute(\"y\");c&&(b.x=parseInt(c));d&&(b.y=parseInt(d));if(c=(c=a.getAttribute(\"transform\"))&&c.match(XY_REGEX$$module$build$src$core$utils$svg_math))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute(\"style\"))&&a.includes(\"translate\")&&(a=a.match(XY_STYLE_REGEX$$module$build$src$core$utils$svg_math))&&(b.x+=\nNumber(a[1]),a[3]&&(b.y+=Number(a[3])));return b};getInjectionDivXY$$module$build$src$core$utils$svg_math=function(a){let b=0,c=0;for(;a;){const d=getRelativeXY$$module$build$src$core$utils$svg_math(a);b+=d.x;c+=d.y;if((\" \"+(a.getAttribute(\"class\")||\"\")+\" \").includes(\" injectionDiv \"))break;a=a.parentNode}return new Coordinate$$module$build$src$core$utils$coordinate(b,c)};\ngetViewportBBox$$module$build$src$core$utils$svg_math=function(){const a=getViewportPageOffset$$module$build$src$core$utils$style();return new Rect$$module$build$src$core$utils$rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};getDocumentScroll$$module$build$src$core$utils$svg_math=function(){const a=document.documentElement,b=window;return new Coordinate$$module$build$src$core$utils$coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};\nscreenToWsCoordinates$$module$build$src$core$utils$svg_math=function(a,b){var c=b.x;b=b.y;const d=a.getInjectionDiv().getBoundingClientRect();c=new Coordinate$$module$build$src$core$utils$coordinate(c-d.left,b-d.top);b=a.getOriginOffsetInPixels();return Coordinate$$module$build$src$core$utils$coordinate.difference(c,b).scale(1/a.scale)};\nwsToScreenCoordinates$$module$build$src$core$utils$svg_math=function(a,b){var c=b.scale(a.scale);b=c.x;c=c.y;const d=a.getInjectionDiv().getBoundingClientRect();a=a.getOriginOffsetInPixels();return new Coordinate$$module$build$src$core$utils$coordinate(b+d.left+a.x,c+d.top+a.y)};\ninjectDependencies$$module$build$src$core$utils$xml=function(a){({document:document$$module$build$src$core$utils$xml=document$$module$build$src$core$utils$xml,DOMParser:DOMParser$$module$build$src$core$utils$xml=DOMParser$$module$build$src$core$utils$xml,XMLSerializer:XMLSerializer$$module$build$src$core$utils$xml=XMLSerializer$$module$build$src$core$utils$xml}=a);domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml;xmlSerializer$$module$build$src$core$utils$xml=\nnew XMLSerializer$$module$build$src$core$utils$xml};$.createElement$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createElementNS(NAME_SPACE$$module$build$src$core$utils$xml,a)};$.createTextNode$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createTextNode(a)};\n$.textToDom$$module$build$src$core$utils$xml=function(a){let b=domParser$$module$build$src$core$utils$xml.parseFromString(a,\"text/xml\");if(b&&b.documentElement&&!b.getElementsByTagName(\"parsererror\").length)return b.documentElement;if((b=domParser$$module$build$src$core$utils$xml.parseFromString(a,\"text/html\"))&&b.body.firstChild&&b.body.firstChild.nodeName.toLowerCase()===\"xml\")return b.body.firstChild;throw Error(`DOMParser was unable to parse: ${a}`);};\ndomToText$$module$build$src$core$utils$xml=function(a){return sanitizeText$$module$build$src$core$utils$xml(xmlSerializer$$module$build$src$core$utils$xml.serializeToString(a))};sanitizeText$$module$build$src$core$utils$xml=function(a){return a.replace(INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml,b=>`&#${b.charCodeAt(0)};`)};\nconvertToolboxDefToJson$$module$build$src$core$utils$toolbox=function(a){if(!a)return null;if(a instanceof Element||typeof a===\"string\")a=parseToolboxTree$$module$build$src$core$utils$toolbox(a),a=convertToToolboxJson$$module$build$src$core$utils$toolbox(a);validateToolbox$$module$build$src$core$utils$toolbox(a);return a};\nvalidateToolbox$$module$build$src$core$utils$toolbox=function(a){const b=a.kind;a=a.contents;if(b&&b!==FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox&&b!==CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox)throw Error(\"Invalid toolbox kind \"+b+\". Please supply either \"+FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox+\" or \"+CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox);if(!a)throw Error(\"Toolbox must have a contents attribute.\");};\nconvertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox=function(a){return a?a.contents?a.contents:Array.isArray(a)&&a.length>0&&!a[0].nodeType?a:xmlToJsonArray$$module$build$src$core$utils$toolbox(a):[]};hasCategories$$module$build$src$core$utils$toolbox=function(a){return TEST_ONLY$$module$build$src$core$utils$toolbox.hasCategoriesInternal(a)};\nhasCategoriesInternal$$module$build$src$core$utils$toolbox=function(a){if(!a)return!1;const b=a.kind;return b?b===CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox:!!a.contents.filter(c=>c.kind.toUpperCase()===\"CATEGORY\").length};isCategoryCollapsible$$module$build$src$core$utils$toolbox=function(a){return a&&a.contents?!!a.contents.filter(function(b){return b.kind.toUpperCase()===\"CATEGORY\"}).length:!1};\nconvertToToolboxJson$$module$build$src$core$utils$toolbox=function(a){const b={contents:xmlToJsonArray$$module$build$src$core$utils$toolbox(a)};a instanceof Node&&addAttributes$$module$build$src$core$utils$toolbox(a,b);return b};\nxmlToJsonArray$$module$build$src$core$utils$toolbox=function(a){const b=[];let c=a.childNodes;c||(c=a);for(let d=0,e;e=c[d];d++){if(!e.tagName)continue;a={};const f=e.tagName.toUpperCase();a.kind=f;f===\"BLOCK\"?a.blockxml=e:e.childNodes&&e.childNodes.length>0&&(a.contents=xmlToJsonArray$$module$build$src$core$utils$toolbox(e));addAttributes$$module$build$src$core$utils$toolbox(e,a);b.push(a)}return b};\naddAttributes$$module$build$src$core$utils$toolbox=function(a,b){for(let c=0;c<a.attributes.length;c++){const d=a.attributes[c];d.nodeName.includes(\"css-\")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace(\"css-\",\"\")]=d.value):b[d.nodeName]=d.value}};\nparseToolboxTree$$module$build$src$core$utils$toolbox=function(a){let b=null;if(a)if(typeof a===\"string\"){if(b=$.textToDom$$module$build$src$core$utils$xml(a),b.nodeName.toLowerCase()!==\"xml\")throw TypeError(\"Toolbox should be an <xml> document.\");}else a instanceof Element&&(b=a);return b};\ngetStartPositionRect$$module$build$src$core$positionable_helpers=function(a,b,c,d,e,f){const g=f.scrollbar&&f.scrollbar.canScrollVertically();a.horizontal===horizontalPosition$$module$build$src$core$positionable_helpers.LEFT?(c=e.absoluteMetrics.left+c,g&&f.RTL&&(c+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness)):(c=e.absoluteMetrics.left+e.viewMetrics.width-b.width-c,g&&!f.RTL&&(c-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));a.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?\na=e.absoluteMetrics.top+d:(a=e.absoluteMetrics.top+e.viewMetrics.height-b.height-d,f.scrollbar&&f.scrollbar.canScrollHorizontally()&&(a-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));return new Rect$$module$build$src$core$utils$rect(a,a+b.height,c,c+b.width)};\ngetCornerOppositeToolbox$$module$build$src$core$positionable_helpers=function(a,b){return{horizontal:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.LEFT||a.horizontalLayout&&!a.RTL?horizontalPosition$$module$build$src$core$positionable_helpers.RIGHT:horizontalPosition$$module$build$src$core$positionable_helpers.LEFT,vertical:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.BOTTOM?verticalPosition$$module$build$src$core$positionable_helpers.TOP:verticalPosition$$module$build$src$core$positionable_helpers.BOTTOM}};\nbumpPositionRect$$module$build$src$core$positionable_helpers=function(a,b,c,d){const e=a.left,f=a.right-a.left,g=a.bottom-a.top;for(let h=0;h<d.length;h++){const k=d[h];a.intersects(k)&&(a=c===bumpDirection$$module$build$src$core$positionable_helpers.UP?k.top-g-b:k.bottom+b,a=new Rect$$module$build$src$core$utils$rect(a,a+g,e,e+f),h=-1)}return a};\nregister$$module$build$src$core$serialization$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a,b)};unregister$$module$build$src$core$serialization$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a)};\nsave$$module$build$src$core$serialization$workspace_comments=function(a,{addCoordinates:b=!1,saveIds:c=!0}={}){const d=a.workspace,e=Object.create(null);e.height=a.getSize().height;e.width=a.getSize().width;c&&(e.id=a.id);b&&(b=a.getRelativeToSurfaceXY(),e.x=d.RTL?d.getWidth()-b.x:b.x,e.y=b.y);a.getText()&&(e.text=a.getText());a.isCollapsed()&&(e.collapsed=!0);a.isOwnEditable()||(e.editable=!1);a.isOwnMovable()||(e.movable=!1);a.isOwnDeletable()||(e.deletable=!1);return e};\nappend$$module$build$src$core$serialization$workspace_comments=function(a,b,{recordUndo:c=!1}={}){const d=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(c);c=b.newComment(a.id);a.text!==void 0&&c.setText(a.text);if(a.x!==void 0||a.y!==void 0){const f=c.getRelativeToSurfaceXY();let g,h=(g=a.x)!=null?g:f.x;h=b.RTL?b.getWidth()-h:h;var e;b=(e=a.y)!=null?e:f.y;c.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(h,b))}if(a.width!==void 0||\na.height){e=c.getSize();let f,g;c.setSize(new Size$$module$build$src$core$utils$size((f=a.width)!=null?f:e.width,(g=a.height)!=null?g:e.height))}a.collapsed!==void 0&&c.setCollapsed(a.collapsed);a.editable!==void 0&&c.setEditable(a.editable);a.movable!==void 0&&c.setMovable(a.movable);a.deletable!==void 0&&c.setDeletable(a.deletable);$.setRecordUndo$$module$build$src$core$events$utils(d);return c};\nregister$$module$build$src$core$clipboard$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a,b)};unregister$$module$build$src$core$clipboard$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a)};\nmoveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster=function(a){const b=a.workspace,c=a.getRelativeToSurfaceXY(),d=new Coordinate$$module$build$src$core$utils$coordinate(0,0),e=b.getTopComments(!1).filter(f=>f.id!==a.id).map(f=>f.getRelativeToSurfaceXY());for(;commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(c,d),e);)d.translate(b.RTL?-30:30,30);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(c,\nd))};commentOverlapsOtherExactly$$module$build$src$core$clipboard$workspace_comment_paster=function(a,b){return b.some(c=>Math.abs(c.x-a.x)<=1&&Math.abs(c.y-a.y)<=1)};setRole$$module$build$src$core$utils$aria=function(a,b){a.setAttribute(ROLE_ATTRIBUTE$$module$build$src$core$utils$aria,b)};setState$$module$build$src$core$utils$aria=function(a,b,c){Array.isArray(c)&&(c=c.join(\" \"));a.setAttribute(ARIA_PREFIX$$module$build$src$core$utils$aria+b,`${c}`)};\nisSerializable$$module$build$src$core$interfaces$i_serializable=function(a){return a&&typeof a.saveState===\"function\"&&typeof a.loadState===\"function\"};\nqueueRender$$module$build$src$core$render_management=function(a){queueBlock$$module$build$src$core$render_management(a);if(alwaysImmediatelyRender$$module$build$src$core$render_management())return doRenders$$module$build$src$core$render_management(),Promise.resolve();afterRendersPromise$$module$build$src$core$render_management||(afterRendersPromise$$module$build$src$core$render_management=new Promise(b=>{afterRendersResolver$$module$build$src$core$render_management=b;animationRequestId$$module$build$src$core$render_management=\nwindow.requestAnimationFrame(()=>{doRenders$$module$build$src$core$render_management();b()})}));return afterRendersPromise$$module$build$src$core$render_management};finishQueuedRenders$$module$build$src$core$render_management=function(){return afterRendersPromise$$module$build$src$core$render_management?afterRendersPromise$$module$build$src$core$render_management:Promise.resolve()};\ntriggerQueuedRenders$$module$build$src$core$render_management=function(a){a||window.cancelAnimationFrame(animationRequestId$$module$build$src$core$render_management);doRenders$$module$build$src$core$render_management(a);!a&&afterRendersResolver$$module$build$src$core$render_management&&afterRendersResolver$$module$build$src$core$render_management()};alwaysImmediatelyRender$$module$build$src$core$render_management=function(){return JavaFx$$module$build$src$core$utils$useragent};\nqueueBlock$$module$build$src$core$render_management=function(a){dirtyBlocks$$module$build$src$core$render_management.add(a);eventGroups$$module$build$src$core$render_management.set(a,$.getGroup$$module$build$src$core$events$utils());const b=a.getParent();b?queueBlock$$module$build$src$core$render_management(b):rootBlocks$$module$build$src$core$render_management.add(a)};\ndoRenders$$module$build$src$core$render_management=function(a){const b=a?new Set([a]):new Set([...rootBlocks$$module$build$src$core$render_management].map(f=>f.workspace)),c=[...rootBlocks$$module$build$src$core$render_management].filter(shouldRenderRootBlock$$module$build$src$core$render_management).filter(f=>b.has(f.workspace));for(var d of c)renderBlock$$module$build$src$core$render_management(d);for(const f of b)f.resizeContents();for(var e of c)d=e.getRelativeToSurfaceXY(),e.updateComponentLocations(d);\nfor(const f of c)e=$.getGroup$$module$build$src$core$events$utils(),(d=eventGroups$$module$build$src$core$render_management.get(f))&&$.setGroup$$module$build$src$core$events$utils(d),f.bumpNeighbours(),$.setGroup$$module$build$src$core$events$utils(e);for(const f of c)dequeueBlock$$module$build$src$core$render_management(f);a||(afterRendersPromise$$module$build$src$core$render_management=null)};\ndequeueBlock$$module$build$src$core$render_management=function(a){rootBlocks$$module$build$src$core$render_management.delete(a);dirtyBlocks$$module$build$src$core$render_management.delete(a);eventGroups$$module$build$src$core$render_management.delete(a);for(const b of a.getChildren(!1))dequeueBlock$$module$build$src$core$render_management(b)};shouldRenderRootBlock$$module$build$src$core$render_management=function(a){return!a.isDisposed()&&!a.getParent()};\nrenderBlock$$module$build$src$core$render_management=function(a){if(dirtyBlocks$$module$build$src$core$render_management.has(a)&&a.initialized){for(const b of a.getChildren(!1))renderBlock$$module$build$src$core$render_management(b);a.renderEfficiently()}};alert$$module$build$src$core$dialog=function(a,b){alertImplementation$$module$build$src$core$dialog(a,b)};\nsetAlert$$module$build$src$core$dialog=function(a=defaultAlert$$module$build$src$core$dialog){alertImplementation$$module$build$src$core$dialog=a};confirm$$module$build$src$core$dialog=function(a,b){confirmImplementation$$module$build$src$core$dialog(a,b)};setConfirm$$module$build$src$core$dialog=function(a=defaultConfirm$$module$build$src$core$dialog){confirmImplementation$$module$build$src$core$dialog=a};\nprompt$$module$build$src$core$dialog=function(a,b,c){promptImplementation$$module$build$src$core$dialog(a,b,c)};setPrompt$$module$build$src$core$dialog=function(a=defaultPrompt$$module$build$src$core$dialog){promptImplementation$$module$build$src$core$dialog=a};toast$$module$build$src$core$dialog=function(a,b){toastImplementation$$module$build$src$core$dialog(a,b)};\nsetToast$$module$build$src$core$dialog=function(a=defaultToast$$module$build$src$core$dialog){toastImplementation$$module$build$src$core$dialog=a};isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function(a){return a&&typeof a.getProcedureDef===\"function\"};isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function(a){return a&&typeof a.getProcedureCall===\"function\"&&typeof a.renameProcedure===\"function\"};\nisVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model=function(a){return a.getVariableModel!==void 0};warn$$module$build$src$core$utils$deprecation=function(a,b,c,d){a=a+\" was deprecated in \"+b+\" and will be deleted in \"+c+\".\";d&&(a+=\"\\nUse \"+d+\" instead.\");previousWarnings$$module$build$src$core$utils$deprecation.has(a)||(previousWarnings$$module$build$src$core$utils$deprecation.add(a),console.warn(a))};\n$.allUsedVarModels$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);const b=new Set;for(let c=0;c<a.length;c++){const d=a[c].getVarModels();if(d)for(let e=0;e<d.length;e++){const f=d[e];f.getId()&&b.add(f)}}return Array.from(b.values())};$.allDeveloperVariables$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);const b=new Set;for(let d=0,e;e=a[d];d++){var c=e.getDeveloperVariables;if(c){c=c();for(let f=0;f<c.length;f++)b.add(c[f])}}return Array.from(b.values())};\ninternalFlyoutCategory$$module$build$src$core$variables=function(a){return flyoutCategory$$module$build$src$core$variables(a,!1)};\nflyoutCategory$$module$build$src$core$variables=function(a,b=!0){Blocks$$module$build$src$core$blocks.variables_set||Blocks$$module$build$src$core$blocks.variables_get||console.warn(\"There are no variable blocks, but there is a variable category.\");if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.Variables.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),xmlFlyoutCategory$$module$build$src$core$variables(a);\na.registerButtonCallback(\"CREATE_VARIABLE\",function(c){createVariableButtonHandler$$module$build$src$core$variables(c.getTargetWorkspace())});return[{kind:\"button\",text:\"%{BKY_NEW_VARIABLE}\",callbackkey:\"CREATE_VARIABLE\"},...jsonFlyoutCategoryBlocks$$module$build$src$core$variables(a,a.getVariableMap().getVariablesOfType(\"\"),!0)]};generateVariableFieldJson$$module$build$src$core$variables=function(a){return{VAR:{name:a.getName(),type:a.getType()}}};\njsonFlyoutCategoryBlocks$$module$build$src$core$variables=function(a,b,c,d=\"variables_get\",e=\"variables_set\"){c&&(c=Blocks$$module$build$src$core$blocks.math_change);a=[];const f=b.slice(-1)[0];f&&(Blocks$$module$build$src$core$blocks[e]&&a.push({kind:\"block\",type:e,gap:c?8:24,fields:generateVariableFieldJson$$module$build$src$core$variables(f)}),c&&a.push({kind:\"block\",type:\"math_change\",gap:Blocks$$module$build$src$core$blocks[d]?20:8,fields:generateVariableFieldJson$$module$build$src$core$variables(f),\ninputs:{DELTA:{shadow:{type:\"math_number\",fields:{NUM:1}}}}}));Blocks$$module$build$src$core$blocks[d]&&a.push(...b.sort(compareByName$$module$build$src$core$variables).map(g=>({kind:\"block\",type:d,gap:8,fields:generateVariableFieldJson$$module$build$src$core$variables(g)})));return a};\nxmlFlyoutCategory$$module$build$src$core$variables=function(a){let b=[];const c=document.createElement(\"button\");c.setAttribute(\"text\",\"%{BKY_NEW_VARIABLE}\");c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE\");a.registerButtonCallback(\"CREATE_VARIABLE\",function(d){createVariableButtonHandler$$module$build$src$core$variables(d.getTargetWorkspace())});b.push(c);a=flyoutCategoryBlocks$$module$build$src$core$variables(a);return b=b.concat(a)};\nflyoutCategoryBlocks$$module$build$src$core$variables=function(a){a=a.getVariableMap().getVariablesOfType(\"\");const b=[];if(a.length>0){var c=a[a.length-1];if(Blocks$$module$build$src$core$blocks.variables_set){var d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"variables_set\");d.setAttribute(\"gap\",Blocks$$module$build$src$core$blocks.math_change?\"8\":\"24\");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d)}Blocks$$module$build$src$core$blocks.math_change&&\n(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),d.setAttribute(\"type\",\"math_change\"),d.setAttribute(\"gap\",Blocks$$module$build$src$core$blocks.variables_get?\"20\":\"8\"),d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c)),c=$.textToDom$$module$build$src$core$utils$xml('<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Blocks$$module$build$src$core$blocks.variables_get){a.sort(compareByName$$module$build$src$core$variables);\nfor(let e=0,f;f=a[e];e++)c=$.createElement$$module$build$src$core$utils$xml(\"block\"),c.setAttribute(\"type\",\"variables_get\"),c.setAttribute(\"gap\",\"8\"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(f)),b.push(c)}}return b};generateUniqueName$$module$build$src$core$variables=function(a){return TEST_ONLY$$module$build$src$core$variables.generateUniqueNameInternal(a)};\ngenerateUniqueNameInternal$$module$build$src$core$variables=function(a){return generateUniqueNameFromOptions$$module$build$src$core$variables(VAR_LETTER_OPTIONS$$module$build$src$core$variables.charAt(0),a.getVariableMap().getAllVariables().map(b=>b.getName()))};\ngenerateUniqueNameFromOptions$$module$build$src$core$variables=function(a,b){if(!b.length)return a;const c=VAR_LETTER_OPTIONS$$module$build$src$core$variables;let d=\"\",e=c.indexOf(a);for(;;){let f=!1;for(let g=0;g<b.length;g++)if(b[g].toLowerCase()===a){f=!0;break}if(!f)break;e++;e===c.length&&(e=0,d=`${Number(d)+1}`);a=c.charAt(e)+d}return a};\ncreateVariableButtonHandler$$module$build$src$core$variables=function(a,b,c){function d(f){promptName$$module$build$src$core$variables($.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,f,function(g){if(g){var h=nameUsedWithAnyType$$module$build$src$core$variables(g,a);if(h){if(h.getType()===e)var k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace(\"%1\",h.getName());else k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,k=k.replace(\"%1\",h.getName()).replace(\"%2\",\nh.getType());alert$$module$build$src$core$dialog(k,function(){d(g)})}else a.getVariableMap().createVariable(g,e),b&&b(g)}else b&&b(null)})}const e=c||\"\";d(\"\")};\n$.renameVariable$$module$build$src$core$variables=function(a,b,c){function d(e){const f=$.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace(\"%1\",b.getName());promptName$$module$build$src$core$variables(f,e,function(g){if(g){var h=nameUsedWithOtherType$$module$build$src$core$variables(g,b.getType(),a),k=nameUsedWithConflictingParam$$module$build$src$core$variables(b.getName(),g,a);if(h||k){var l=\"\";h?l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace(\"%1\",\nh.getName()).replace(\"%2\",h.getType()):k&&(l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace(\"%1\",g).replace(\"%2\",k));alert$$module$build$src$core$dialog(l,function(){d(g)})}else a.getVariableMap().renameVariable(b,g),c&&c(g)}else c&&c(null)})}d(\"\")};\npromptName$$module$build$src$core$variables=function(a,b,c){prompt$$module$build$src$core$dialog(a,b,function(d){d&&(d=d.replace(/[\\s\\xa0]+/g,\" \").trim(),d===$.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===$.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null);c(d)})};nameUsedWithOtherType$$module$build$src$core$variables=function(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();for(let d=0,e;e=c[d];d++)if(e.getName().toLowerCase()===a&&e.getType()!==b)return e;return null};\nnameUsedWithAnyType$$module$build$src$core$variables=function(a,b){b=b.getVariableMap().getAllVariables();a=a.toLowerCase();for(let c=0,d;d=b[c];c++)if(d.getName().toLowerCase()===a)return d;return null};nameUsedWithConflictingParam$$module$build$src$core$variables=function(a,b,c){return c.getProcedureMap().getProcedures().length?checkForConflictingParamWithProcedureModels$$module$build$src$core$variables(a,b,c):checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables(a,b,c)};\ncheckForConflictingParamWithProcedureModels$$module$build$src$core$variables=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getProcedureMap().getProcedures();for(const e of c){var d=e.getParameters().filter(isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model).map(f=>f.getVariableModel().getName());if(d&&(c=d.some(f=>f.toLowerCase()===a),d=d.some(f=>f.toLowerCase()===b),c&&d))return e.getName()}return null};\ncheckForConflictingParamWithLegacyProcedures$$module$build$src$core$variables=function(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getAllBlocks(!1);for(const e of c){if(!isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(e))continue;c=e.getProcedureDef();var d=c[1];const f=d.some(g=>g.toLowerCase()===a);d=d.some(g=>g.toLowerCase()===b);if(f&&d)return c[0]}return null};\ngenerateVariableFieldDom$$module$build$src$core$variables=function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"field\");b.setAttribute(\"name\",\"VAR\");b.setAttribute(\"id\",a.getId());b.setAttribute(\"variabletype\",a.getType());a=$.createTextNode$$module$build$src$core$utils$xml(a.getName());b.appendChild(a);return b};\n$.getOrCreateVariablePackage$$module$build$src$core$variables=function(a,b,c,d){let e=$.getVariable$$module$build$src$core$variables(a,b,c,d);e||(e=createVariable$$module$build$src$core$variables(a,b,c,d));return e};\n$.getVariable$$module$build$src$core$variables=function(a,b,c,d){const e=a.getPotentialVariableMap();let f=null;if(b&&(f=a.getVariableById(b),!f&&e&&(f=e.getVariableById(b)),f))return f;if(c){if(d===void 0)throw Error(\"Tried to look up a variable by name without a type\");f=a.getVariable(c,d);!f&&e&&(f=e.getVariable(c,d))}return f};\ncreateVariable$$module$build$src$core$variables=function(a,b,c,d){const e=a.getVariableMap(),f=a.getPotentialVariableMap();c||(c=generateUniqueName$$module$build$src$core$variables(a.isFlyout?a.targetWorkspace:a));return f?f.createVariable(c,d,b!=null?b:void 0):e.createVariable(c,d,b)};getAddedVariables$$module$build$src$core$variables=function(a,b){a=a.getAllVariables();const c=[];if(b.length!==a.length)for(let d=0;d<a.length;d++){const e=a[d];b.includes(e)||c.push(e)}return c};\ncompareByName$$module$build$src$core$variables=function(a,b){return a.getName().localeCompare(b.getName(),void 0,{sensitivity:\"base\"})};getVariableUsesById$$module$build$src$core$variables=function(a,b){const c=[];a=a.getAllBlocks(!1);for(let d=0;d<a.length;d++){const e=a[d].getVarModels();if(e)for(let f=0;f<e.length;f++)e[f].getId()===b&&c.push(a[d])}return c};\n$.deleteVariable$$module$build$src$core$variables=function(a,b,c){var d=b.getName();const e=getVariableUsesById$$module$build$src$core$variables(a,b.getId());for(let f=e.length-1;f>=0;f--){const g=e[f];if(g.type===\"procedures_defnoreturn\"||g.type===\"procedures_defreturn\"){c=String(g.getFieldValue(\"NAME\"));d=$.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace(\"%1\",d).replace(\"%2\",c);alert$$module$build$src$core$dialog(d);return}g===c&&e.splice(f,1)}c&&e.length||e.length>1?(d=\n$.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace(\"%1\",String(e.length+(c&&!c.workspace.isFlyout?1:0))).replace(\"%2\",d),confirm$$module$build$src$core$dialog(d,f=>{f&&b&&a.getVariableMap().deleteVariable(b)})):a.getVariableMap().deleteVariable(b)};\nsave$$module$build$src$core$serialization$blocks=function(a,{addCoordinates:b=!1,addInputBlocks:c=!0,addNextBlocks:d=!0,doFullSerialization:e=!0,saveIds:f=!0}={}){if(a.isInsertionMarker())return null;const g={type:a.type,id:f?a.id:void 0};b&&saveCoords$$module$build$src$core$serialization$blocks(a,g);saveAttributes$$module$build$src$core$serialization$blocks(a,g);saveExtraState$$module$build$src$core$serialization$blocks(a,g,e);saveIcons$$module$build$src$core$serialization$blocks(a,g,e);saveFields$$module$build$src$core$serialization$blocks(a,\ng,e);c&&saveInputBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);d&&saveNextBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);return g};\nsaveAttributes$$module$build$src$core$serialization$blocks=function(a,b){a.isCollapsed()&&(b.collapsed=!0);a.isEnabled()||(b.disabledReasons=Array.from(a.getDisabledReasons()));a.isOwnDeletable()||(b.deletable=!1);a.isOwnMovable()||(b.movable=!1);a.isOwnEditable()||(b.editable=!1);a.inputsInline!==void 0&&a.inputsInline!==a.inputsInlineDefault&&(b.inline=a.inputsInline);a.data&&(b.data=a.data)};\nsaveCoords$$module$build$src$core$serialization$blocks=function(a,b){const c=a.workspace;a=a.getRelativeToSurfaceXY();b.x=Math.round(c.RTL?c.getWidth()-a.x:a.x);b.y=Math.round(a.y)};saveExtraState$$module$build$src$core$serialization$blocks=function(a,b,c){a.saveExtraState?(a=a.saveExtraState(c),a!==null&&(b.extraState=a)):a.mutationToDom&&(a=a.mutationToDom(),a!==null&&(b.extraState=domToText$$module$build$src$core$xml(a).replace(' xmlns=\"https://developers.google.com/blockly/xml\"',\"\")))};\nsaveIcons$$module$build$src$core$serialization$blocks=function(a,b,c){const d=Object.create(null);for(const e of a.getIcons())isSerializable$$module$build$src$core$interfaces$i_serializable(e)&&(a=e.saveState(c))&&(d[e.getType().toString()]=a);Object.keys(d).length&&(b.icons=d)};saveFields$$module$build$src$core$serialization$blocks=function(a,b,c){const d=Object.create(null);for(const e of a.getFields())e.isSerializable()&&(d[e.name]=e.saveState(c));Object.keys(d).length&&(b.fields=d)};\nsaveInputBlocks$$module$build$src$core$serialization$blocks=function(a,b,c,d){const e=Object.create(null);for(let f=0;f<a.inputList.length;f++){const g=a.inputList[f];if(!g.connection)continue;const h=saveConnection$$module$build$src$core$serialization$blocks(g.connection,c,d);h&&(e[g.name]=h)}Object.keys(e).length&&(b.inputs=e)};\nsaveNextBlocks$$module$build$src$core$serialization$blocks=function(a,b,c,d){a.nextConnection&&(a=saveConnection$$module$build$src$core$serialization$blocks(a.nextConnection,c,d))&&(b.next=a)};saveConnection$$module$build$src$core$serialization$blocks=function(a,b,c){const d=a.getShadowState(!0);a=a.targetBlock();if(!d&&!a)return null;const e=Object.create(null);d&&(e.shadow=d);a&&!a.isShadow()&&(e.block=save$$module$build$src$core$serialization$blocks(a,{doFullSerialization:b,saveIds:c}));return e};\nappend$$module$build$src$core$serialization$blocks=function(a,b,{recordUndo:c=!1}={}){a=appendInternal$$module$build$src$core$serialization$blocks(a,b,{recordUndo:c});b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a};\nappendInternal$$module$build$src$core$serialization$blocks=function(a,b,{parentConnection:c,isShadow:d=!1,recordUndo:e=!1}={}){const f=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(e);(e=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);$.disable$$module$build$src$core$events$utils();const g=b.getAllVariables();let h;try{h=appendPrivate$$module$build$src$core$serialization$blocks(a,b,{parentConnection:c,\nisShadow:d})}finally{$.enable$$module$build$src$core$events$utils()}checkNewVariables$$module$build$src$core$serialization$blocks(b,g);isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(h));$.setGroup$$module$build$src$core$events$utils(e);$.setRecordUndo$$module$build$src$core$events$utils(f);if(b.rendered){const k=h;setTimeout(()=>{k.disposed||k.setConnectionTracking(!0)},\n1)}return h};\nappendPrivate$$module$build$src$core$serialization$blocks=function(a,b,{parentConnection:c,isShadow:d=!1}={}){if(!a.type)throw new MissingBlockType$$module$build$src$core$serialization$exceptions(a);const e=b.newBlock(a.type,a.id);e.setShadow(d);loadCoords$$module$build$src$core$serialization$blocks(e,a);loadAttributes$$module$build$src$core$serialization$blocks(e,a);loadExtraState$$module$build$src$core$serialization$blocks(e,a);tryToConnectParent$$module$build$src$core$serialization$blocks(c,e,\na);loadIcons$$module$build$src$core$serialization$blocks(e,a);loadFields$$module$build$src$core$serialization$blocks(e,a);loadInputBlocks$$module$build$src$core$serialization$blocks(e,a);loadNextBlocks$$module$build$src$core$serialization$blocks(e,a);initBlock$$module$build$src$core$serialization$blocks(e,b.rendered);return e};\ncheckNewVariables$$module$build$src$core$serialization$blocks=function(a,b){if(isEnabled$$module$build$src$core$events$utils())for(a=getAddedVariables$$module$build$src$core$variables(a,b),b=0;b<a.length;b++){const c=a[b];fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(c))}};\nloadCoords$$module$build$src$core$serialization$blocks=function(a,b){let c=b.x===void 0?0:b.x;b=b.y===void 0?0:b.y;const d=a.workspace;c=d.RTL?d.getWidth()-c:c;a.moveBy(c,b)};\nloadAttributes$$module$build$src$core$serialization$blocks=function(a,b){b.collapsed&&a.setCollapsed(!0);b.deletable===!1&&a.setDeletable(!1);b.movable===!1&&a.setMovable(!1);b.editable===!1&&a.setEditable(!1);b.enabled===!1&&a.setDisabledReason(!0,MANUALLY_DISABLED$$module$build$src$core$constants);if(Array.isArray(b.disabledReasons))for(const c of b.disabledReasons)a.setDisabledReason(!0,c);b.inline!==void 0&&a.setInputsInline(b.inline);b.data!==void 0&&(a.data=b.data)};\nloadExtraState$$module$build$src$core$serialization$blocks=function(a,b){b.extraState&&(a.loadExtraState?a.loadExtraState(b.extraState):a.domToMutation&&a.domToMutation($.textToDom$$module$build$src$core$utils$xml(b.extraState)))};\ntryToConnectParent$$module$build$src$core$serialization$blocks=function(a,b,c){if(a){if(a.getSourceBlock().isShadow()&&!b.isShadow())throw new RealChildOfShadow$$module$build$src$core$serialization$exceptions(c);if(a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=b.outputConnection;if(!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"output\",b,c);}else if(d=b.previousConnection,!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"previous\",\nb,c);if(!a.connect(d)){const e=b.workspace.connectionChecker;throw new BadConnectionCheck$$module$build$src$core$serialization$exceptions(e.getErrorMessage(e.canConnectWithReason(d,a,!1),d,a),a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?\"output connection\":\"previous connection\",b,c);}}};\nloadIcons$$module$build$src$core$serialization$blocks=function(a,b){if(b.icons){var c=Object.keys(b.icons);for(const e of c){c=b.icons[e];var d=a.getIcon(e);if(!d){d=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,e,!1);if(!d)throw new UnregisteredIcon$$module$build$src$core$serialization$exceptions(e,a,b);d=new d(a);a.addIcon(d)}isSerializable$$module$build$src$core$interfaces$i_serializable(d)&&d.loadState(c)}}};\nloadFields$$module$build$src$core$serialization$blocks=function(a,b){if(b.fields){var c=Object.keys(b.fields);for(let d=0;d<c.length;d++){const e=c[d],f=b.fields[e],g=a.getField(e);g?g.loadState(f):console.warn(`Ignoring non-existant field ${e} in block ${a.type}`)}}};\nloadInputBlocks$$module$build$src$core$serialization$blocks=function(a,b){if(b.inputs){var c=Object.keys(b.inputs);for(let d=0;d<c.length;d++){const e=c[d],f=a.getInput(e);if(!f||!f.connection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(e,a,b);loadConnection$$module$build$src$core$serialization$blocks(f.connection,b.inputs[e])}}};\nloadNextBlocks$$module$build$src$core$serialization$blocks=function(a,b){if(b.next){if(!a.nextConnection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(\"next\",a,b);loadConnection$$module$build$src$core$serialization$blocks(a.nextConnection,b.next)}};loadConnection$$module$build$src$core$serialization$blocks=function(a,b){b.shadow&&a.setShadowState(b.shadow);b.block&&appendPrivate$$module$build$src$core$serialization$blocks(b.block,a.getSourceBlock().workspace,{parentConnection:a})};\ninitBlock$$module$build$src$core$serialization$blocks=function(a,b){if(b){a.setConnectionTracking(!1);a.initSvg();a.queueRender();for(const c of a.getIcons())c.onLocationChange(a.getRelativeToSurfaceXY())}else a.initModel()};hasBubble$$module$build$src$core$interfaces$i_has_bubble=function(a){return typeof a.bubbleIsVisible===\"function\"&&typeof a.setBubbleVisible===\"function\"&&typeof a.getBubble===\"function\"};toRadians$$module$build$src$core$utils$math=function(a){return a*Math.PI/180};\ntoDegrees$$module$build$src$core$utils$math=function(a){return a*180/Math.PI};clamp$$module$build$src$core$utils$math=function(a,b,c){if(c<a){const d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};\ncreateDom$$module$build$src$core$dropdowndiv=function(){document.querySelector(\".blocklyDropDownDiv\")||(div$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),div$$module$build$src$core$dropdowndiv.className=\"blocklyDropDownDiv\",div$$module$build$src$core$dropdowndiv.tabIndex=-1,(getParentContainer$$module$build$src$core$common()||document.body).appendChild(div$$module$build$src$core$dropdowndiv),content$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),content$$module$build$src$core$dropdowndiv.className=\n\"blocklyDropDownContent\",div$$module$build$src$core$dropdowndiv.appendChild(content$$module$build$src$core$dropdowndiv),keydownListener$$module$build$src$core$dropdowndiv=conditionalBind$$module$build$src$core$browser_events(content$$module$build$src$core$dropdowndiv,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common),arrow$$module$build$src$core$dropdowndiv=document.createElement(\"div\"),arrow$$module$build$src$core$dropdowndiv.className=\"blocklyDropDownArrow\",div$$module$build$src$core$dropdowndiv.appendChild(arrow$$module$build$src$core$dropdowndiv),\ndiv$$module$build$src$core$dropdowndiv.style.opacity=\"0\",div$$module$build$src$core$dropdowndiv.style.transition=\"transform \"+ANIMATION_TIME$$module$build$src$core$dropdowndiv+\"s, opacity \"+ANIMATION_TIME$$module$build$src$core$dropdowndiv+\"s\")};setBoundsElement$$module$build$src$core$dropdowndiv=function(a){boundsElement$$module$build$src$core$dropdowndiv=a};getOwner$$module$build$src$core$dropdowndiv=function(){return owner$$module$build$src$core$dropdowndiv};\ngetContentDiv$$module$build$src$core$dropdowndiv=function(){return content$$module$build$src$core$dropdowndiv};clearContent$$module$build$src$core$dropdowndiv=function(){keydownListener$$module$build$src$core$dropdowndiv&&(unbind$$module$build$src$core$browser_events(keydownListener$$module$build$src$core$dropdowndiv),keydownListener$$module$build$src$core$dropdowndiv=null);div$$module$build$src$core$dropdowndiv.remove();createDom$$module$build$src$core$dropdowndiv()};\nsetColour$$module$build$src$core$dropdowndiv=function(a,b){div$$module$build$src$core$dropdowndiv.style.backgroundColor=a;div$$module$build$src$core$dropdowndiv.style.borderColor=b};showPositionedByBlock$$module$build$src$core$dropdowndiv=function(a,b,c,d,e=!0){return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(b),a,e,c,d)};\nshowPositionedByField$$module$build$src$core$dropdowndiv=function(a,b,c,d=!0){positionToField$$module$build$src$core$dropdowndiv=!0;return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfField$$module$build$src$core$dropdowndiv(a),a,d,b,c)};\ngetScaledBboxOfBlock$$module$build$src$core$dropdowndiv=function(a){var b=a.getSvgRoot();const c=a.workspace.scale,d=a.height*c;a=a.width*c;b=getPageOffset$$module$build$src$core$utils$style(b);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+d,b.x,b.x+a)};getScaledBboxOfField$$module$build$src$core$dropdowndiv=function(a){a=a.getScaledBBox();return new Rect$$module$build$src$core$utils$rect(a.top,a.bottom,a.left,a.right)};\nshowPositionedByRect$$module$build$src$core$dropdowndiv=function(a,b,c,d,e){const f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=b.getSourceBlock();let h=e.workspace;for(;h.options.parentWorkspace;)h=h.options.parentWorkspace;setBoundsElement$$module$build$src$core$dropdowndiv(h.getParentSvg().parentNode);return show$$module$build$src$core$dropdowndiv(b,e.RTL,f,g,f,a,c,d)};\nshow$$module$build$src$core$dropdowndiv=function(a,b,c,d,e,f,g,h){owner$$module$build$src$core$dropdowndiv=a;onHide$$module$build$src$core$dropdowndiv=h||null;div$$module$build$src$core$dropdowndiv.style.direction=b?\"rtl\":\"ltr\";a=getMainWorkspace$$module$build$src$core$common();renderedClassName$$module$build$src$core$dropdowndiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$dropdowndiv=a.getTheme().getClassName();addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,\nrenderedClassName$$module$build$src$core$dropdowndiv);addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,themeClassName$$module$build$src$core$dropdowndiv);c=positionInternal$$module$build$src$core$dropdowndiv(c,d,e,f);g&&(returnEphemeralFocus$$module$build$src$core$dropdowndiv=$.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(div$$module$build$src$core$dropdowndiv));return c};\ngetPositionBelowMetrics$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b,finalX:a.divX,finalY:b+PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:-(ARROW_SIZE$$module$build$src$core$dropdowndiv/2+BORDER_SIZE$$module$build$src$core$dropdowndiv),arrowAtTop:!0,arrowVisible:!0}};\ngetPositionAboveMetrics$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b-d.height,finalX:a.divX,finalY:b-d.height-PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:d.height-BORDER_SIZE$$module$build$src$core$dropdowndiv*2-ARROW_SIZE$$module$build$src$core$dropdowndiv/2,arrowAtTop:!1,arrowVisible:!0}};\ngetPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv=function(a,b,c){a=getPositionX$$module$build$src$core$dropdowndiv(a,b.left,b.right,c.width);return{initialX:a.divX,initialY:0,finalX:a.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}};\ngetPositionX$$module$build$src$core$dropdowndiv=function(a,b,c,d){b=clamp$$module$build$src$core$utils$math(b,a-d/2,c-d);a=a-ARROW_SIZE$$module$build$src$core$dropdowndiv/2-b;c=ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv;a=clamp$$module$build$src$core$utils$math(c,a,d-c-ARROW_SIZE$$module$build$src$core$dropdowndiv);return{arrowX:a,divX:b}};isVisible$$module$build$src$core$dropdowndiv=function(){return!!owner$$module$build$src$core$dropdowndiv};\nhideIfOwner$$module$build$src$core$dropdowndiv=function(a,b){return owner$$module$build$src$core$dropdowndiv===a?(b?hideWithoutAnimation$$module$build$src$core$dropdowndiv():hide$$module$build$src$core$dropdowndiv(),!0):!1};\nhide$$module$build$src$core$dropdowndiv=function(){div$$module$build$src$core$dropdowndiv.style.transform=\"translate(0, 0)\";div$$module$build$src$core$dropdowndiv.style.opacity=\"0\";animateOutTimer$$module$build$src$core$dropdowndiv=setTimeout(function(){hideWithoutAnimation$$module$build$src$core$dropdowndiv()},ANIMATION_TIME$$module$build$src$core$dropdowndiv*1E3);onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null)};\nhideWithoutAnimation$$module$build$src$core$dropdowndiv=function(){isVisible$$module$build$src$core$dropdowndiv()&&(animateOutTimer$$module$build$src$core$dropdowndiv&&clearTimeout(animateOutTimer$$module$build$src$core$dropdowndiv),onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null),clearContent$$module$build$src$core$dropdowndiv(),owner$$module$build$src$core$dropdowndiv=null,getMainWorkspace$$module$build$src$core$common().markFocused(),\nreturnEphemeralFocus$$module$build$src$core$dropdowndiv&&(returnEphemeralFocus$$module$build$src$core$dropdowndiv(),returnEphemeralFocus$$module$build$src$core$dropdowndiv=null))};\npositionInternal$$module$build$src$core$dropdowndiv=function(a,b,c,d){a=internal$$module$build$src$core$dropdowndiv.getPositionMetrics(a,b,c,d);a.arrowVisible?(b=a.arrowX,c=a.arrowY,d=a.arrowAtTop?45:225,arrow$$module$build$src$core$dropdowndiv.style.display=\"\",arrow$$module$build$src$core$dropdowndiv.style.transform=`translate(${b}px, ${c}px) rotate(${d}deg)`,arrow$$module$build$src$core$dropdowndiv.setAttribute(\"class\",\"blocklyDropDownArrow\")):arrow$$module$build$src$core$dropdowndiv.style.display=\n\"none\";b=Math.floor(a.initialX);c=Math.floor(a.initialY);d=Math.floor(a.finalX);const e=Math.floor(a.finalY);div$$module$build$src$core$dropdowndiv.style.left=b+\"px\";div$$module$build$src$core$dropdowndiv.style.top=c+\"px\";div$$module$build$src$core$dropdowndiv.style.display=\"block\";div$$module$build$src$core$dropdowndiv.style.opacity=\"1\";div$$module$build$src$core$dropdowndiv.style.transform=\"translate(\"+(d-b)+\"px,\"+(e-c)+\"px)\";return!!a.arrowAtTop};\nrepositionForWindowResize$$module$build$src$core$dropdowndiv=function(){if(owner$$module$build$src$core$dropdowndiv){var a=owner$$module$build$src$core$dropdowndiv.getSourceBlock();a=positionToField$$module$build$src$core$dropdowndiv?getScaledBboxOfField$$module$build$src$core$dropdowndiv(owner$$module$build$src$core$dropdowndiv):getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(a);const b=a.left+(a.right-a.left)/2;positionInternal$$module$build$src$core$dropdowndiv(b,a.bottom,b,a.top)}else hide$$module$build$src$core$dropdowndiv()};\nshortestStringLength$$module$build$src$core$utils$string=function(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0};\ncommonWordPrefix$$module$build$src$core$utils$string=function(a,b){if(!a.length)return 0;if(a.length===1)return a[0].length;let c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);let d;for(d=0;d<b;d++){var e=a[0][d];for(var f=1;f<a.length;f++)if(e!==a[f][d])return c;e===\" \"&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e][d])&&f!==\" \")return c;return b};\ncommonWordSuffix$$module$build$src$core$utils$string=function(a,b){if(!a.length)return 0;if(a.length===1)return a[0].length;let c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);let d;for(d=0;d<b;d++){var e=a[0].substr(-d-1,1);for(var f=1;f<a.length;f++)if(e!==a[f].substr(-d-1,1))return c;e===\" \"&&(c=d+1)}for(e=1;e<a.length;e++)if((f=a[e].charAt(a[e].length-d-1))&&f!==\" \")return c;return b};\n$.wrap$$module$build$src$core$utils$string=function(a,b){a=a.split(\"\\n\");for(let c=0;c<a.length;c++)a[c]=wrapLine$$module$build$src$core$utils$string(a[c],b);return a.join(\"\\n\")};\nwrapLine$$module$build$src$core$utils$string=function(a,b){if(a.length<=b)return a;const c=a.trim().split(/\\s+/);for(var d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);var e=-Infinity;let f,g=1;do{d=e;f=a;a=[];e=c.length/g;let h=1;for(let k=0;k<c.length-1;k++)h<(k+1.5)/e?(h++,a[k]=!0):a[k]=!1;a=wrapMutate$$module$build$src$core$utils$string(c,a,b);e=wrapScore$$module$build$src$core$utils$string(c,a,b);a=wrapToText$$module$build$src$core$utils$string(c,a);g++}while(e>d);return f};\nwrapScore$$module$build$src$core$utils$string=function(a,b,c){const d=[0],e=[];for(var f=0;f<a.length;f++)d[d.length-1]+=a[f].length,b[f]===!0?(d.push(0),e.push(a[f].charAt(a[f].length-1))):b[f]===!1&&d[d.length-1]++;a=Math.max(...d);b=0;for(f=0;f<d.length;f++)b-=Math.pow(Math.abs(c-d[f]),1.5)*2,b-=Math.pow(a-d[f],1.5),\".?!\".includes(e[f])?b+=c/3:\",;)]}\".includes(e[f])&&(b+=c/4);d.length>1&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};\nwrapMutate$$module$build$src$core$utils$string=function(a,b,c){let d=wrapScore$$module$build$src$core$utils$string(a,b,c),e;for(let f=0;f<b.length-1;f++){if(b[f]===b[f+1])continue;const g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];const h=wrapScore$$module$build$src$core$utils$string(a,g,c);h>d&&(d=h,e=g)}return e?wrapMutate$$module$build$src$core$utils$string(a,e,c):b};\nwrapToText$$module$build$src$core$utils$string=function(a,b){const c=[];for(let d=0;d<a.length;d++)c.push(a[d]),b[d]!==void 0&&c.push(b[d]?\"\\n\":\" \");return c.join(\"\")};$.isNumber$$module$build$src$core$utils$string=function(a){return/^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(a)};setCustomTooltip$$module$build$src$core$tooltip=function(a){customTooltip$$module$build$src$core$tooltip=a};getCustomTooltip$$module$build$src$core$tooltip=function(){return customTooltip$$module$build$src$core$tooltip};\nisVisible$$module$build$src$core$tooltip=function(){return visible$$module$build$src$core$tooltip};getDiv$$module$build$src$core$tooltip=function(){return containerDiv$$module$build$src$core$tooltip};getTooltipOfObject$$module$build$src$core$tooltip=function(a){if(a=getTargetObject$$module$build$src$core$tooltip(a)){for(a=a.tooltip;typeof a===\"function\";)a=a();if(typeof a!==\"string\")throw Error(\"Tooltip function must return a string.\");return a}return\"\"};\ngetTargetObject$$module$build$src$core$tooltip=function(a){for(;a&&a.tooltip;){if(typeof a.tooltip===\"string\"||typeof a.tooltip===\"function\")return a;a=a.tooltip}return null};createDom$$module$build$src$core$tooltip=function(){document.querySelector(\".blocklyTooltipDiv\")||(containerDiv$$module$build$src$core$tooltip=document.createElement(\"div\"),containerDiv$$module$build$src$core$tooltip.className=\"blocklyTooltipDiv\",(getParentContainer$$module$build$src$core$common()||document.body).appendChild(containerDiv$$module$build$src$core$tooltip))};\nbindMouseEvents$$module$build$src$core$tooltip=function(a){a.mouseOverWrapper_=bind$$module$build$src$core$browser_events(a,\"pointerover\",null,onMouseOver$$module$build$src$core$tooltip);a.mouseOutWrapper_=bind$$module$build$src$core$browser_events(a,\"pointerout\",null,onMouseOut$$module$build$src$core$tooltip);a.addEventListener(\"pointermove\",onMouseMove$$module$build$src$core$tooltip,!1)};\nunbindMouseEvents$$module$build$src$core$tooltip=function(a){a&&(unbind$$module$build$src$core$browser_events(a.mouseOverWrapper_),unbind$$module$build$src$core$browser_events(a.mouseOutWrapper_),a.removeEventListener(\"pointermove\",onMouseMove$$module$build$src$core$tooltip))};\nonMouseOver$$module$build$src$core$tooltip=function(a){blocked$$module$build$src$core$tooltip||(a=getTargetObject$$module$build$src$core$tooltip(a.currentTarget),element$$module$build$src$core$tooltip!==a&&(hide$$module$build$src$core$tooltip(),poisonedElement$$module$build$src$core$tooltip=null,element$$module$build$src$core$tooltip=a),clearTimeout(mouseOutPid$$module$build$src$core$tooltip))};\nonMouseOut$$module$build$src$core$tooltip=function(a){blocked$$module$build$src$core$tooltip||(mouseOutPid$$module$build$src$core$tooltip=setTimeout(function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip()},1),clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0)};\nonMouseMove$$module$build$src$core$tooltip=function(a){if(element$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip.tooltip&&!blocked$$module$build$src$core$tooltip)if(visible$$module$build$src$core$tooltip){const b=lastX$$module$build$src$core$tooltip-a.pageX;a=lastY$$module$build$src$core$tooltip-a.pageY;Math.sqrt(b*b+a*a)>RADIUS_OK$$module$build$src$core$tooltip&&hide$$module$build$src$core$tooltip()}else poisonedElement$$module$build$src$core$tooltip!==element$$module$build$src$core$tooltip&&\n(clearTimeout(showPid$$module$build$src$core$tooltip),lastX$$module$build$src$core$tooltip=a.pageX,lastY$$module$build$src$core$tooltip=a.pageY,showPid$$module$build$src$core$tooltip=setTimeout(show$$module$build$src$core$tooltip,HOVER_MS$$module$build$src$core$tooltip))};dispose$$module$build$src$core$tooltip=function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip()};\nhide$$module$build$src$core$tooltip=function(){visible$$module$build$src$core$tooltip&&(visible$$module$build$src$core$tooltip=!1,containerDiv$$module$build$src$core$tooltip&&(containerDiv$$module$build$src$core$tooltip.style.display=\"none\"));showPid$$module$build$src$core$tooltip&&(clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0)};\nblock$$module$build$src$core$tooltip=function(){hide$$module$build$src$core$tooltip();blocked$$module$build$src$core$tooltip=!0};unblock$$module$build$src$core$tooltip=function(){blocked$$module$build$src$core$tooltip=!1};\nrenderContent$$module$build$src$core$tooltip=function(){containerDiv$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip&&(typeof customTooltip$$module$build$src$core$tooltip===\"function\"?customTooltip$$module$build$src$core$tooltip(containerDiv$$module$build$src$core$tooltip,element$$module$build$src$core$tooltip):renderDefaultContent$$module$build$src$core$tooltip())};\nrenderDefaultContent$$module$build$src$core$tooltip=function(){var a=getTooltipOfObject$$module$build$src$core$tooltip(element$$module$build$src$core$tooltip);a=$.wrap$$module$build$src$core$utils$string(a,LIMIT$$module$build$src$core$tooltip);a=a.split(\"\\n\");for(let b=0;b<a.length;b++){const c=document.createElement(\"div\");c.appendChild(document.createTextNode(a[b]));containerDiv$$module$build$src$core$tooltip.appendChild(c)}};\ngetPosition$$module$build$src$core$tooltip=function(a){const b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;let d=lastX$$module$build$src$core$tooltip;d=a?d-(OFFSET_X$$module$build$src$core$tooltip+containerDiv$$module$build$src$core$tooltip.offsetWidth):d+OFFSET_X$$module$build$src$core$tooltip;let e=lastY$$module$build$src$core$tooltip+OFFSET_Y$$module$build$src$core$tooltip;e+containerDiv$$module$build$src$core$tooltip.offsetHeight>c+window.scrollY&&(e-=containerDiv$$module$build$src$core$tooltip.offsetHeight+\n2*OFFSET_Y$$module$build$src$core$tooltip);a?d=Math.max(MARGINS$$module$build$src$core$tooltip-window.scrollX,d):d+containerDiv$$module$build$src$core$tooltip.offsetWidth>b+window.scrollX-2*MARGINS$$module$build$src$core$tooltip&&(d=b-containerDiv$$module$build$src$core$tooltip.offsetWidth-2*MARGINS$$module$build$src$core$tooltip);return{x:d,y:e}};\nshow$$module$build$src$core$tooltip=function(){if(!blocked$$module$build$src$core$tooltip&&(poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip,containerDiv$$module$build$src$core$tooltip)){containerDiv$$module$build$src$core$tooltip.textContent=\"\";renderContent$$module$build$src$core$tooltip();var a=element$$module$build$src$core$tooltip.RTL;containerDiv$$module$build$src$core$tooltip.style.direction=a?\"rtl\":\"ltr\";containerDiv$$module$build$src$core$tooltip.style.display=\n\"block\";visible$$module$build$src$core$tooltip=!0;var {x:b,y:c}=getPosition$$module$build$src$core$tooltip(a);containerDiv$$module$build$src$core$tooltip.style.left=b+\"px\";containerDiv$$module$build$src$core$tooltip.style.top=c+\"px\"}};getHsvSaturation$$module$build$src$core$utils$colour=function(){return hsvSaturation$$module$build$src$core$utils$colour};setHsvSaturation$$module$build$src$core$utils$colour=function(a){hsvSaturation$$module$build$src$core$utils$colour=a};\ngetHsvValue$$module$build$src$core$utils$colour=function(){return hsvValue$$module$build$src$core$utils$colour};setHsvValue$$module$build$src$core$utils$colour=function(a){hsvValue$$module$build$src$core$utils$colour=a};\nparse$$module$build$src$core$utils$colour=function(a){a=`${a}`.toLowerCase().trim();var b=names$$module$build$src$core$utils$colour[a];if(b)return b;b=a.substring(0,2)===\"0x\"?\"#\"+a.substring(2):a;b=b[0]===\"#\"?b:\"#\"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return[\"#\",b[1],b[1],b[2],b[2],b[3],b[3]].join(\"\");var c=a.match(/^(?:rgb)?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),a>=0&&a<256&&b>=0&&b<256&&c>=0&&c<256)?rgbToHex$$module$build$src$core$utils$colour(a,\nb,c):null};rgbToHex$$module$build$src$core$utils$colour=function(a,b,c){b=a<<16|b<<8|c;return a<16?\"#\"+(16777216|b).toString(16).substr(1):\"#\"+b.toString(16)};hexToRgb$$module$build$src$core$utils$colour=function(a){a=parse$$module$build$src$core$utils$colour(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};\nhsvToHex$$module$build$src$core$utils$colour=function(a,b,c){let d=0,e=0,f=0;if(b===0)f=e=d=c;else{const g=Math.floor(a/60),h=a/60-g;a=c*(1-b);const k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return rgbToHex$$module$build$src$core$utils$colour(Math.floor(d),Math.floor(e),Math.floor(f))};\nblend$$module$build$src$core$utils$colour=function(a,b,c){a=parse$$module$build$src$core$utils$colour(a);if(!a)return null;b=parse$$module$build$src$core$utils$colour(b);if(!b)return null;a=hexToRgb$$module$build$src$core$utils$colour(a);b=hexToRgb$$module$build$src$core$utils$colour(b);return rgbToHex$$module$build$src$core$utils$colour(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))};\nhueToHex$$module$build$src$core$utils$colour=function(a){return hsvToHex$$module$build$src$core$utils$colour(a,hsvSaturation$$module$build$src$core$utils$colour,hsvValue$$module$build$src$core$utils$colour*255)};\ntokenizeInterpolationInternal$$module$build$src$core$utils$parsing=function(a,b,c){const d=[];var e=a.split(\"\");e.push(\"\");var f=0;a=[];let g=null;for(let l=0;l<e.length;l++){var h=e[l];if(f===0)if(h===\"%\")(f=a.join(\"\"))&&d.push(f),a.length=0,f=1;else if(c&&h===\"\\n\"){const m=a.join(\"\");m&&d.push(m);a.length=0;d.push(h)}else a.push(h);else if(f===1)h===\"%\"?(a.push(h),f=0):b&&\"0\"<=h&&h<=\"9\"?(f=2,g=h,(h=a.join(\"\"))&&d.push(h),a.length=0):h===\"{\"?f=3:(a.push(\"%\",h),f=0);else if(f===2)if(\"0\"<=h&&h<=\"9\")g+=\nh;else{var k=void 0;d.push(parseInt((k=g)!=null?k:\"\",10));l--;f=0}else f===3&&(h===\"\"?(a.splice(0,0,\"%{\"),l--,f=0):h!==\"}\"?a.push(h):(f=a.join(\"\"),/[A-Z]\\w*/i.test(f)?(h=f.toUpperCase(),(h=h.startsWith(\"BKY_\")?h.substring(4):null)&&h in $.Msg$$module$build$src$core$msg?(f=$.Msg$$module$build$src$core$msg[h],typeof f===\"string\"?Array.prototype.push.apply(d,tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(f,b,c)):b?d.push(`${f}`):d.push(f)):d.push(\"%{\"+f+\"}\")):d.push(\"%{\"+f+\"}\"),f=\na.length=0))}(b=a.join(\"\"))&&d.push(b);k=[];a.length=0;for(e=0;e<d.length;e++)typeof d[e]!==\"string\"||c&&d[e]===\"\\n\"?((b=a.join(\"\"))&&k.push(b),a.length=0,k.push(d[e])):a.push(d[e]);(b=a.join(\"\"))&&k.push(b);a.length=0;return k};tokenizeInterpolation$$module$build$src$core$utils$parsing=function(a){return tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!0,!0)};\nreplaceMessageReferences$$module$build$src$core$utils$parsing=function(a){if(typeof a!==\"string\")return a;a=tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!1,!1);return a.length?String(a[0]):\"\"};\ncheckMessageReferences$$module$build$src$core$utils$parsing=function(a){let b=!0;const c=$.Msg$$module$build$src$core$msg,d=a.match(/%{BKY_[A-Z]\\w*}/gi);if(d)for(let e=0;e<d.length;e++){const f=d[e].toUpperCase();c[f.slice(6,-1)]===void 0&&(console.warn(\"No message string for \"+d[e]+\" in \"+a),b=!1)}return b};\nparseBlockColour$$module$build$src$core$utils$parsing=function(a){const b=typeof a===\"string\"?replaceMessageReferences$$module$build$src$core$utils$parsing(a):a;var c=Number(b);if(!isNaN(c)&&0<=c&&c<=360)return{hue:c,hex:hsvToHex$$module$build$src$core$utils$colour(c,getHsvSaturation$$module$build$src$core$utils$colour(),getHsvValue$$module$build$src$core$utils$colour()*255)};if(c=parse$$module$build$src$core$utils$colour(b))return{hue:null,hex:c};c='Invalid colour: \"'+b+'\"';a!==b&&(c+=' (from \"'+\na+'\")');throw Error(c);};getDiv$$module$build$src$core$widgetdiv=function(){return containerDiv$$module$build$src$core$widgetdiv};testOnly_setDiv$$module$build$src$core$widgetdiv=function(a){containerDiv$$module$build$src$core$widgetdiv=a;if(a===null){let b;(b=document.querySelector(\".\"+containerClassName$$module$build$src$core$widgetdiv))==null||b.remove()}};\ncreateDom$$module$build$src$core$widgetdiv=function(){const a=getParentContainer$$module$build$src$core$common()||document.body,b=document.querySelector(\"div.\"+containerClassName$$module$build$src$core$widgetdiv);b?containerDiv$$module$build$src$core$widgetdiv=b:(containerDiv$$module$build$src$core$widgetdiv=document.createElement(\"div\"),containerDiv$$module$build$src$core$widgetdiv.className=containerClassName$$module$build$src$core$widgetdiv,containerDiv$$module$build$src$core$widgetdiv.tabIndex=\n-1);conditionalBind$$module$build$src$core$browser_events(containerDiv$$module$build$src$core$widgetdiv,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common);a.appendChild(containerDiv$$module$build$src$core$widgetdiv)};\nshow$$module$build$src$core$widgetdiv=function(a,b,c,d,e=!0){hide$$module$build$src$core$widgetdiv();owner$$module$build$src$core$widgetdiv=a;dispose$$module$build$src$core$widgetdiv=c;if(c=containerDiv$$module$build$src$core$widgetdiv){c.style.direction=b?\"rtl\":\"ltr\";c.style.display=\"block\";if(!d&&a instanceof Field$$module$build$src$core$field){let h;d=(h=a.getSourceBlock())==null?void 0:h.workspace}var f;ownerWorkspace$$module$build$src$core$widgetdiv=(f=d)!=null?f:null;var g;a=(g=d)!=null?g:getMainWorkspace$$module$build$src$core$common();\nrendererClassName$$module$build$src$core$widgetdiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$widgetdiv=a.getTheme().getClassName();rendererClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(c,rendererClassName$$module$build$src$core$widgetdiv);themeClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(c,themeClassName$$module$build$src$core$widgetdiv);e&&(returnEphemeralFocus$$module$build$src$core$widgetdiv=\n$.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(c))}};\nhide$$module$build$src$core$widgetdiv=function(){if(isVisible$$module$build$src$core$widgetdiv()){owner$$module$build$src$core$widgetdiv=null;var a=containerDiv$$module$build$src$core$widgetdiv;a&&(a.style.display=\"none\",a.style.left=\"\",a.style.top=\"\",dispose$$module$build$src$core$widgetdiv&&(dispose$$module$build$src$core$widgetdiv(),dispose$$module$build$src$core$widgetdiv=null),a.textContent=\"\",rendererClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,\nrendererClassName$$module$build$src$core$widgetdiv),rendererClassName$$module$build$src$core$widgetdiv=\"\"),themeClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,themeClassName$$module$build$src$core$widgetdiv),themeClassName$$module$build$src$core$widgetdiv=\"\"),getMainWorkspace$$module$build$src$core$common().markFocused(),returnEphemeralFocus$$module$build$src$core$widgetdiv&&(returnEphemeralFocus$$module$build$src$core$widgetdiv(),returnEphemeralFocus$$module$build$src$core$widgetdiv=\nnull))}};isVisible$$module$build$src$core$widgetdiv=function(){return!!owner$$module$build$src$core$widgetdiv};hideIfOwner$$module$build$src$core$widgetdiv=function(a){owner$$module$build$src$core$widgetdiv===a&&hide$$module$build$src$core$widgetdiv()};hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv=function(a){let b=ownerWorkspace$$module$build$src$core$widgetdiv===null,c=a;for(;!b&&c;){if(c===a){b=!0;break}c=a.options.parentWorkspace}b&&hide$$module$build$src$core$widgetdiv()};\npositionInternal$$module$build$src$core$widgetdiv=function(a,b,c){containerDiv$$module$build$src$core$widgetdiv.style.left=a+\"px\";containerDiv$$module$build$src$core$widgetdiv.style.top=b+\"px\";containerDiv$$module$build$src$core$widgetdiv.style.height=c+\"px\"};\npositionWithAnchor$$module$build$src$core$widgetdiv=function(a,b,c,d){const e=calculateY$$module$build$src$core$widgetdiv(a,b,c);a=calculateX$$module$build$src$core$widgetdiv(a,b,c,d);e<0?positionInternal$$module$build$src$core$widgetdiv(a,0,c.height+e):positionInternal$$module$build$src$core$widgetdiv(a,e,c.height)};calculateX$$module$build$src$core$widgetdiv=function(a,b,c,d){return d?Math.min(Math.max(b.right-c.width,a.left),a.right-c.width):Math.max(Math.min(b.left,a.right-c.width),a.left)};\ncalculateY$$module$build$src$core$widgetdiv=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};isRepositionable$$module$build$src$core$widgetdiv=function(a){return!(a==null||!a.repositionForWindowResize)};repositionForWindowResize$$module$build$src$core$widgetdiv=function(){isRepositionable$$module$build$src$core$widgetdiv(owner$$module$build$src$core$widgetdiv)&&owner$$module$build$src$core$widgetdiv.repositionForWindowResize()||hide$$module$build$src$core$widgetdiv()};\ngetCurrentBlock$$module$build$src$core$contextmenu=function(){return currentBlock$$module$build$src$core$contextmenu};setCurrentBlock$$module$build$src$core$contextmenu=function(a){currentBlock$$module$build$src$core$contextmenu=a};\nshow$$module$build$src$core$contextmenu=function(a,b,c,d,e){show$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu,c,dispose$$module$build$src$core$contextmenu,d);if(b.length){e||(a instanceof PointerEvent?e=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):(console.warn(\"Context menu opened with keyboard but no location given\"),e=new Coordinate$$module$build$src$core$utils$coordinate(0,0)));var f=populate_$$module$build$src$core$contextmenu(b,\nc,a,e);menu_$$module$build$src$core$contextmenu=f;position_$$module$build$src$core$contextmenu(f,c,e);setTimeout(function(){f.focus()},1);currentBlock$$module$build$src$core$contextmenu=null}else hide$$module$build$src$core$contextmenu()};\npopulate_$$module$build$src$core$contextmenu=function(a,b,c,d){const e=new Menu$$module$build$src$core$menu;e.setRole(Role$$module$build$src$core$utils$aria.MENU);for(let f=0;f<a.length;f++){const g=a[f];if(g.separator){e.addChild(new MenuSeparator$$module$build$src$core$menu_separator);continue}const h=new MenuItem$$module$build$src$core$menuitem(g.text);h.setRightToLeft(b);h.setRole(Role$$module$build$src$core$utils$aria.MENUITEM);e.addChild(h);h.setEnabled(g.enabled);if(g.enabled)h.onAction(function(k,\nl){hide$$module$build$src$core$contextmenu();requestAnimationFrame(()=>{setTimeout(()=>{g.callback(g.scope,c,l,d)},0)})},{})}return e};\nposition_$$module$build$src$core$contextmenu=function(a,b,c){const d=getViewportBBox$$module$build$src$core$utils$svg_math();c=new Rect$$module$build$src$core$utils$rect(c.y+d.top,c.y+d.top,c.x+d.left,c.x+d.left);createWidget_$$module$build$src$core$contextmenu(a);const e=a.getSize();b&&(c.left+=e.width,c.right+=e.width,d.left+=e.width,d.right+=e.width);positionWithAnchor$$module$build$src$core$widgetdiv(d,c,e,b);a.focus()};\ncreateWidget_$$module$build$src$core$contextmenu=function(a){var b=getDiv$$module$build$src$core$widgetdiv();if(!b)throw Error(\"Attempting to create a context menu when widget div is null\");b=a.render(b);addClass$$module$build$src$core$utils$dom(b,\"blocklyContextMenu\");conditionalBind$$module$build$src$core$browser_events(b,\"contextmenu\",null,haltPropagation$$module$build$src$core$contextmenu);a.focus()};haltPropagation$$module$build$src$core$contextmenu=function(a){a.preventDefault();a.stopPropagation()};\nhide$$module$build$src$core$contextmenu=function(){hideIfOwner$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu);currentBlock$$module$build$src$core$contextmenu=null};dispose$$module$build$src$core$contextmenu=function(){menu_$$module$build$src$core$contextmenu&&(menu_$$module$build$src$core$contextmenu.dispose(),menu_$$module$build$src$core$contextmenu=null)};\n$.callbackFactory$$module$build$src$core$contextmenu=function(a,b){return()=>{$.disable$$module$build$src$core$events$utils();let c;try{c=b instanceof Element?domToBlockInternal$$module$build$src$core$xml(b,a.workspace):appendInternal$$module$build$src$core$serialization$blocks(b,a.workspace);const d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-$.config$$module$build$src$core$config.snapRadius:d.x+$.config$$module$build$src$core$config.snapRadius;d.y+=$.config$$module$build$src$core$config.snapRadius*\n2;c.moveBy(d.x,d.y)}finally{$.enable$$module$build$src$core$events$utils()}isEnabled$$module$build$src$core$events$utils()&&!c.isShadow()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(c));$.getFocusManager$$module$build$src$core$focus_manager().focusNode(c);return c}};\nmouseToWorkspacePoint$$module$build$src$core$utils$drag=function(a,b){b=mouseToSvg$$module$build$src$core$browser_events(b,a.getParentSvg(),a.getInverseScreenCTM());b.x/=a.scale;b.y/=a.scale;return b};start$$module$build$src$core$utils$drag=function(a,b,c){b=mouseToWorkspacePoint$$module$build$src$core$utils$drag(a,b);workspaceToDragDelta$$module$build$src$core$utils$drag.set(a,Coordinate$$module$build$src$core$utils$coordinate.difference(c,b))};\nmove$$module$build$src$core$utils$drag=function(a,b){b=mouseToWorkspacePoint$$module$build$src$core$utils$drag(a,b);a=workspaceToDragDelta$$module$build$src$core$utils$drag.get(a);if(!a)throw Error(\"Drag not initialized\");return Coordinate$$module$build$src$core$utils$coordinate.sum(a,b)};\nworkspaceToDom$$module$build$src$core$xml=function(a,b=!1){const c=$.createElement$$module$build$src$core$utils$xml(\"xml\");var d=variablesToDom$$module$build$src$core$xml($.allUsedVarModels$$module$build$src$core$variables(a));d.hasChildNodes()&&c.appendChild(d);for(const e of a.getTopComments())c.appendChild(saveWorkspaceComment$$module$build$src$core$xml(e,b));a=a.getTopBlocks(!0);for(d=0;d<a.length;d++)c.appendChild(blockToDomWithXY$$module$build$src$core$xml(a[d],b));return c};\nsaveWorkspaceComment$$module$build$src$core$xml=function(a,b=!1){const c=$.createElement$$module$build$src$core$utils$xml(\"comment\");b||c.setAttribute(\"id\",a.id);b=a.workspace;const d=a.getRelativeToSurfaceXY().clone();d.x=b.RTL?b.getWidth()-d.x:d.x;c.setAttribute(\"x\",`${d.x}`);c.setAttribute(\"y\",`${d.y}`);c.setAttribute(\"w\",`${a.getSize().width}`);c.setAttribute(\"h\",`${a.getSize().height}`);a.getText()&&(c.textContent=a.getText());a.isCollapsed()&&c.setAttribute(\"collapsed\",\"true\");a.isOwnEditable()||\nc.setAttribute(\"editable\",\"false\");a.isOwnMovable()||c.setAttribute(\"movable\",\"false\");a.isOwnDeletable()||c.setAttribute(\"deletable\",\"false\");return c};\nvariablesToDom$$module$build$src$core$xml=function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"variables\");for(let c=0;c<a.length;c++){const d=a[c],e=$.createElement$$module$build$src$core$utils$xml(\"variable\");e.appendChild($.createTextNode$$module$build$src$core$utils$xml(d.getName()));d.getType()&&e.setAttribute(\"type\",d.getType());e.id=d.getId();b.appendChild(e)}return b};\nblockToDomWithXY$$module$build$src$core$xml=function(a,b){if(a.isInsertionMarker()&&(a=a.getChildren(!1)[0],!a))return new DocumentFragment;let c=0;a.workspace.RTL&&(c=a.workspace.getWidth());b=blockToDom$$module$build$src$core$xml(a,b);if(isElement$$module$build$src$core$xml(b)){const d=a.getRelativeToSurfaceXY();b.setAttribute(\"x\",String(Math.round(a.workspace.RTL?c-d.x:d.x)));b.setAttribute(\"y\",String(Math.round(d.y)))}return b};\nfieldToDom$$module$build$src$core$xml=function(a){if(a.isSerializable()){const b=$.createElement$$module$build$src$core$utils$xml(\"field\");b.setAttribute(\"name\",a.name||\"\");return a.toXml(b)}return null};allFieldsToDom$$module$build$src$core$xml=function(a,b){for(const c of a.getFields())(a=fieldToDom$$module$build$src$core$xml(c))&&b.appendChild(a)};\nblockToDom$$module$build$src$core$xml=function(a,b){if(a.isInsertionMarker())return(b=a.getChildren(!1)[0])?blockToDom$$module$build$src$core$xml(b):new DocumentFragment;const c=$.createElement$$module$build$src$core$utils$xml(a.isShadow()?\"shadow\":\"block\");c.setAttribute(\"type\",a.type);b||(c.id=a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}allFieldsToDom$$module$build$src$core$xml(a,c);if(d=a.getCommentText()){var e=a.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT),\nf=e.getBubbleSize(),g=e.bubbleIsVisible();e=e.getBubbleLocation();var h=$.createElement$$module$build$src$core$utils$xml(\"comment\");h.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));h.setAttribute(\"pinned\",`${g}`);h.setAttribute(\"h\",`${f.height}`);h.setAttribute(\"w\",`${f.width}`);e&&(h.setAttribute(\"x\",`${a.workspace.RTL?a.workspace.getWidth()-(e.x+f.width):e.x}`),h.setAttribute(\"y\",`${e.y}`));c.appendChild(h)}a.data&&(d=$.createElement$$module$build$src$core$utils$xml(\"data\"),d.appendChild($.createTextNode$$module$build$src$core$utils$xml(a.data)),\nc.appendChild(d));for(d=0;d<a.inputList.length;d++){f=a.inputList[d];var k=void 0;g=!0;f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(e=f.connection.targetBlock(),f.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?k=$.createElement$$module$build$src$core$utils$xml(\"value\"):f.type===$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(k=$.createElement$$module$build$src$core$utils$xml(\"statement\")),\nh=f.connection.getShadowDom(),!h||e&&e.isShadow()||k.appendChild(cloneShadow$$module$build$src$core$xml(h,b)),e&&(e=blockToDom$$module$build$src$core$xml(e,b),e.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(k.appendChild(e),g=!1)),k.setAttribute(\"name\",f.name),g||c.appendChild(k))}a.inputsInline!==void 0&&a.inputsInline!==a.inputsInlineDefault&&c.setAttribute(\"inline\",String(a.inputsInline));a.isCollapsed()&&c.setAttribute(\"collapsed\",\"true\");a.isEnabled()||c.setAttribute(\"disabled-reasons\",\nArray.from(a.getDisabledReasons()).map(encodeURIComponent).join(\",\"));a.isOwnDeletable()||c.setAttribute(\"deletable\",\"false\");a.isOwnMovable()||c.setAttribute(\"movable\",\"false\");a.isOwnEditable()||c.setAttribute(\"editable\",\"false\");k=a.getNextBlock();let l;k&&(d=blockToDom$$module$build$src$core$xml(k,b),d.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(l=$.createElement$$module$build$src$core$utils$xml(\"next\"),l.appendChild(d),c.appendChild(l)));a=a.nextConnection&&a.nextConnection.getShadowDom();\n!a||k&&k.isShadow()||l.appendChild(cloneShadow$$module$build$src$core$xml(a,b));return c};\ncloneShadow$$module$build$src$core$xml=function(a,b){let c=a=a.cloneNode(!0),d;for(;c;)if(b&&c.nodeName===\"shadow\"&&c.removeAttribute(\"id\"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;){d=c;c=c.parentNode;let e;d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&d.data.trim()===\"\"&&((e=c)==null?void 0:e.firstChild)!==d&&removeNode$$module$build$src$core$utils$dom(d)}c&&(d=c,c=c.nextSibling,d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&d.data.trim()===\n\"\"&&removeNode$$module$build$src$core$utils$dom(d))}return a};domToText$$module$build$src$core$xml=function(a){return domToText$$module$build$src$core$utils$xml(a).replace(/<(\\w+)([^<]*)\\/>/g,\"<$1$2></$1>\")};\ndomToPrettyText$$module$build$src$core$xml=function(a){a=domToText$$module$build$src$core$xml(a).split(\"<\");let b=\"\";for(let c=1;c<a.length;c++){const d=a[c];d[0]===\"/\"&&(b=b.substring(2));a[c]=b+\"<\"+d;d[0]!==\"/\"&&d.slice(-2)!==\"/>\"&&(b+=\"  \")}a=a.join(\"\\n\");a=a.replace(/(<(\\w+)\\b[^>]*>[^\\n]*)\\n *<\\/\\2>/g,\"$1</$2>\");return a.replace(/^\\n/,\"\")};\nclearWorkspaceAndLoadFromXml$$module$build$src$core$xml=function(a,b){b.setResizesEnabled(!1);b.clear();a=$.domToWorkspace$$module$build$src$core$xml(a,b);b.setResizesEnabled(!0);return a};\n$.domToWorkspace$$module$build$src$core$xml=function(a,b){let c=0;b.RTL&&(c=b.getWidth());const d=[];startTextWidthCache$$module$build$src$core$utils$dom();const e=$.getGroup$$module$build$src$core$events$utils();e||$.setGroup$$module$build$src$core$events$utils(!0);b.setResizesEnabled&&b.setResizesEnabled(!1);let f=!0;try{for(let g=0,h;h=a.childNodes[g];g++){const k=h.nodeName.toLowerCase(),l=h;if(k===\"block\"||k===\"shadow\"&&!getRecordUndo$$module$build$src$core$events$utils()){const m=domToBlockInternal$$module$build$src$core$xml(l,\nb);d.push(m.id);let n;const p=parseInt((n=l.getAttribute(\"x\"))!=null?n:\"10\",10);let r;const q=parseInt((r=l.getAttribute(\"y\"))!=null?r:\"10\",10);isNaN(p)||isNaN(q)||m.moveBy(b.RTL?c-p:p,q,[\"create\"]);f=!1}else{if(k===\"shadow\")throw TypeError(\"Shadow block cannot be a top-level block.\");if(k===\"comment\")loadWorkspaceComment$$module$build$src$core$xml(l,b);else if(k===\"variables\"){if(f)domToVariables$$module$build$src$core$xml(l,b);else throw Error(\"'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.\");\nf=!1}}}}finally{$.setGroup$$module$build$src$core$events$utils(e),b.setResizesEnabled&&b.setResizesEnabled(!0),b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management(),stopTextWidthCache$$module$build$src$core$utils$dom()}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.FINISHED_LOADING))(b));return d};\nloadWorkspaceComment$$module$build$src$core$xml=function(a,b){var c;const d=(c=a.getAttribute(\"id\"))!=null?c:void 0;c=b.rendered?new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(b,d):new WorkspaceComment$$module$build$src$core$comments$workspace_comment(b,d);var e;c.setText((e=a.textContent)!=null?e:\"\");var f;e=parseInt((f=a.getAttribute(\"x\"))!=null?f:\"\",10);let g;f=parseInt((g=a.getAttribute(\"y\"))!=null?g:\"\",10);isNaN(e)||isNaN(f)||(e=b.RTL?b.getWidth()-e:e,\nc.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(e,f)));var h;b=parseInt((h=a.getAttribute(\"w\"))!=null?h:\"\",10);let k;h=parseInt((k=a.getAttribute(\"h\"))!=null?k:\"\",10);isNaN(b)||isNaN(h)||c.setSize(new Size$$module$build$src$core$utils$size(b,h));a.getAttribute(\"collapsed\")===\"true\"&&c.setCollapsed(!0);a.getAttribute(\"editable\")===\"false\"&&c.setEditable(!1);a.getAttribute(\"movable\")===\"false\"&&c.setMovable(!1);a.getAttribute(\"deletable\")===\"false\"&&c.setDeletable(!1);return c};\nappendDomToWorkspace$$module$build$src$core$xml=function(a,b){if(!b.getBlocksBoundingBox)return $.domToWorkspace$$module$build$src$core$xml(a,b);var c=b.getBlocksBoundingBox();a=$.domToWorkspace$$module$build$src$core$xml(a,b);if(c&&c.top!==c.bottom){var d=c.bottom;c=b.RTL?c.right:c.left;var e=Infinity;let f=-Infinity,g=Infinity;for(let h=0;h<a.length;h++){const k=b.getBlockById(a[h]).getRelativeToSurfaceXY();k.y<g&&(g=k.y);k.x<e&&(e=k.x);k.x>f&&(f=k.x)}d=d-g+10;c=b.RTL?c-f:c-e;for(e=0;e<a.length;e++)b.getBlockById(a[e]).moveBy(c,\nd,[\"create\"])}return a};$.domToBlock$$module$build$src$core$xml=function(a,b){a=domToBlockInternal$$module$build$src$core$xml(a,b);b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a};\ndomToBlockInternal$$module$build$src$core$xml=function(a,b){$.disable$$module$build$src$core$events$utils();var c=b.getAllVariables();let d;try{if(d=domToBlockHeadless$$module$build$src$core$xml(a,b),b.rendered){const e=d,f=d.getDescendants(!1);e.setConnectionTracking(!1);for(let g=f.length-1;g>=0;g--)f[g].initSvg();for(let g=f.length-1;g>=0;g--)f[g].queueRender();setTimeout(function(){e.disposed||e.setConnectionTracking(!0)},1);b.resizeContents()}else{const e=d.getDescendants(!1);for(let f=e.length-\n1;f>=0;f--)e[f].initModel()}}finally{$.enable$$module$build$src$core$events$utils()}if(isEnabled$$module$build$src$core$events$utils()){a=getAddedVariables$$module$build$src$core$variables(b,c);for(b=0;b<a.length;b++)c=a[b],fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(c));fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(d))}return d};\ndomToVariables$$module$build$src$core$xml=function(a,b){for(let d=0;d<a.children.length;d++){var c=a.children[d];const e=c.getAttribute(\"type\"),f=c.getAttribute(\"id\");c=c.textContent;if(!c)break;let g;b.getVariableMap().createVariable(c,(g=e)!=null?g:void 0,f)}};\nmapSupportedXmlTags$$module$build$src$core$xml=function(a){const b={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let c=0;c<a.children.length;c++){const d=a.children[c];if(d.nodeType!==NodeType$$module$build$src$core$utils$dom.TEXT_NODE)switch(d.nodeName.toLowerCase()){case \"mutation\":b.mutation.push(d);break;case \"comment\":b.comment.push(d);break;case \"data\":b.data.push(d);break;case \"title\":case \"field\":b.field.push(d);break;case \"value\":case \"statement\":b.input.push(d);break;case \"next\":b.next.push(d);\nbreak;default:console.warn(\"Ignoring unknown tag: \"+d.nodeName)}}return b};applyMutationTagNodes$$module$build$src$core$xml=function(a,b){let c=!1;for(let d=0;d<a.length;d++){const e=a[d];b.domToMutation&&(b.domToMutation(e),b.initSvg&&(c=!0))}return c};\napplyCommentTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++){const d=a[c],e=d.textContent,f=d.getAttribute(\"pinned\")===\"true\";let g;const h=parseInt((g=d.getAttribute(\"w\"))!=null?g:\"50\",10);let k;const l=parseInt((k=d.getAttribute(\"h\"))!=null?k:\"50\",10);let m,n=parseInt((m=d.getAttribute(\"x\"))!=null?m:\"\",10),p;const r=parseInt((p=d.getAttribute(\"y\"))!=null?p:\"\",10);b.setCommentText(e);const q=b.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);isNaN(h)||\nisNaN(l)||q.setBubbleSize(new Size$$module$build$src$core$utils$size(h,l));q.setBubbleVisible(f);setTimeout(()=>{isNaN(n)||isNaN(r)||(n=b.workspace.RTL?b.workspace.getWidth()-(n+h):n,q.setBubbleLocation(new Coordinate$$module$build$src$core$utils$coordinate(n,r)));q.setBubbleVisible(f)},1)}};applyDataTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++)b.data=a[c].textContent};\napplyFieldTagNodes$$module$build$src$core$xml=function(a,b){for(let c=0;c<a.length;c++){const d=a[c],e=d.getAttribute(\"name\");e?domToField$$module$build$src$core$xml(b,e,d):console.warn(`Ignoring unnamed field in block ${b.type}`)}};\nfindChildBlocks$$module$build$src$core$xml=function(a){let b=null,c=null;for(let d=0;d<a.childNodes.length;d++){const e=a.childNodes[d];isElement$$module$build$src$core$xml(e)&&(e.nodeName.toLowerCase()===\"block\"?b=e:e.nodeName.toLowerCase()===\"shadow\"&&(c=e))}return{childBlockElement:b,childShadowElement:c}};\napplyInputTagNodes$$module$build$src$core$xml=function(a,b,c,d){for(let f=0;f<a.length;f++){var e=a[f];const g=e.getAttribute(\"name\"),h=g?c.getInput(g):null;if(!h){console.warn(\"Ignoring non-existent input \"+g+\" in block \"+d);break}e=findChildBlocks$$module$build$src$core$xml(e);if(e.childBlockElement){if(!h.connection)throw TypeError(\"Input connection does not exist.\");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,h.connection,!1)}if(e.childShadowElement){let k;(k=h.connection)==\nnull||k.setShadowDom(e.childShadowElement)}}};\napplyNextTagNodes$$module$build$src$core$xml=function(a,b,c){for(let d=0;d<a.length;d++){const e=findChildBlocks$$module$build$src$core$xml(a[d]);if(e.childBlockElement){if(!c.nextConnection)throw TypeError(\"Next statement does not exist.\");if(c.nextConnection.isConnected())throw TypeError(\"Next statement is already connected.\");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,c.nextConnection,!0)}e.childShadowElement&&c.nextConnection&&c.nextConnection.setShadowDom(e.childShadowElement)}};\ndomToBlockHeadless$$module$build$src$core$xml=function(a,b,c,d){var e;const f=a.getAttribute(\"type\");if(!f)throw TypeError(\"Block type unspecified: \"+a.outerHTML);var g=(e=a.getAttribute(\"id\"))!=null?e:void 0;e=b.newBlock(f,g);g=mapSupportedXmlTags$$module$build$src$core$xml(a);const h=applyMutationTagNodes$$module$build$src$core$xml(g.mutation,e);applyCommentTagNodes$$module$build$src$core$xml(g.comment,e);applyDataTagNodes$$module$build$src$core$xml(g.data,e);if(c)if(d)if(e.previousConnection)c.connect(e.previousConnection);\nelse throw TypeError(\"Next block does not have previous statement.\");else if(e.outputConnection)c.connect(e.outputConnection);else if(e.previousConnection)c.connect(e.previousConnection);else throw TypeError(\"Child block does not have output or previous statement.\");applyFieldTagNodes$$module$build$src$core$xml(g.field,e);applyInputTagNodes$$module$build$src$core$xml(g.input,b,e,f);applyNextTagNodes$$module$build$src$core$xml(g.next,b,e);h&&e.initSvg();(b=a.getAttribute(\"inline\"))&&e.setInputsInline(b===\n\"true\");(b=a.getAttribute(\"disabled\"))&&e.setDisabledReason(b===\"true\"||b===\"disabled\",MANUALLY_DISABLED$$module$build$src$core$constants);b=a.getAttribute(\"disabled-reasons\");if(b!==null)for(var k of b.split(\",\"))e.setDisabledReason(!0,decodeURIComponent(k));(k=a.getAttribute(\"deletable\"))&&e.setDeletable(k===\"true\");(k=a.getAttribute(\"movable\"))&&e.setMovable(k===\"true\");(k=a.getAttribute(\"editable\"))&&e.setEditable(k===\"true\");(k=a.getAttribute(\"collapsed\"))&&e.setCollapsed(k===\"true\");if(a.nodeName.toLowerCase()===\n\"shadow\"){a=e.getChildren(!1);for(k=0;k<a.length;k++)if(!a[k].isShadow())throw TypeError(\"Shadow block not allowed non-shadow child.\");e.setShadow(!0)}return e};domToField$$module$build$src$core$xml=function(a,b,c){const d=a.getField(b);d?d.fromXml(c):console.warn(\"Ignoring non-existent field \"+b+\" in block \"+a.type)};deleteNext$$module$build$src$core$xml=function(a){for(let b=0;b<a.childNodes.length;b++){const c=a.childNodes[b];if(c.nodeName.toLowerCase()===\"next\"){a.removeChild(c);break}}};\nisElement$$module$build$src$core$xml=function(a){return a.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE};register$$module$build$src$core$field_registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a,b,!0)};unregister$$module$build$src$core$field_registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a)};$.fromJson$$module$build$src$core$field_registry=function(a){return TEST_ONLY$$module$build$src$core$field_registry.fromJsonInternal(a)};\nfromJsonInternal$$module$build$src$core$field_registry=function(a){const b=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a.type);return b?b.fromJson(a):(console.warn(\"Blockly could not create a field of type \"+a.type+\". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached.\"),null)};\nisImageProperties$$module$build$src$core$field_dropdown=function(a){return a&&typeof a===\"object\"&&\"src\"in a&&typeof a.src===\"string\"&&\"alt\"in a&&typeof a.alt===\"string\"&&\"width\"in a&&typeof a.width===\"number\"&&\"height\"in a&&typeof a.height===\"number\"};\n$.register$$module$build$src$core$extensions=function(a,b){if(typeof a!==\"string\"||a.trim()===\"\")throw Error('Error: Invalid extension name \"'+a+'\"');if(allExtensions$$module$build$src$core$extensions[a])throw Error('Error: Extension \"'+a+'\" is already registered.');if(typeof b!==\"function\")throw Error('Error: Extension \"'+a+'\" must be a function');allExtensions$$module$build$src$core$extensions[a]=b};\n$.registerMixin$$module$build$src$core$extensions=function(a,b){if(!b||typeof b!==\"object\")throw Error('Error: Mixin \"'+a+'\" must be a object');$.register$$module$build$src$core$extensions(a,function(){this.mixin(b)})};\n$.registerMutator$$module$build$src$core$extensions=function(a,b,c,d){const e='Error when registering mutator \"'+a+'\": ';checkHasMutatorProperties$$module$build$src$core$extensions(e,b);const f=checkMutatorDialog$$module$build$src$core$extensions(b,e);if(c&&typeof c!==\"function\")throw Error(e+'Extension \"'+a+'\" is not a function');$.register$$module$build$src$core$extensions(a,function(){f&&this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this));this.mixin(b);c&&c.apply(this)})};\nunregister$$module$build$src$core$extensions=function(a){isRegistered$$module$build$src$core$extensions(a)?delete allExtensions$$module$build$src$core$extensions[a]:console.warn('No extension mapping for name \"'+a+'\" found to unregister')};isRegistered$$module$build$src$core$extensions=function(a){return!!allExtensions$$module$build$src$core$extensions[a]};\napply$$module$build$src$core$extensions=function(a,b,c){const d=allExtensions$$module$build$src$core$extensions[a];if(typeof d!==\"function\")throw Error('Error: Extension \"'+a+'\" not found.');let e;c?checkNoMutatorProperties$$module$build$src$core$extensions(a,b):e=getMutatorProperties$$module$build$src$core$extensions(b);d.apply(b);if(c)checkHasMutatorProperties$$module$build$src$core$extensions('Error after applying mutator \"'+a+'\": ',b);else if(!mutatorPropertiesMatch$$module$build$src$core$extensions(e,\nb))throw Error('Error when applying extension \"'+a+'\": mutation properties changed when applying a non-mutator extension.');};checkNoMutatorProperties$$module$build$src$core$extensions=function(a,b){if(getMutatorProperties$$module$build$src$core$extensions(b).length)throw Error('Error: tried to apply mutation \"'+a+'\" to a block that already has mutator functions.  Block id: '+b.id);};\ncheckXmlHooks$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.mutationToDom,a.domToMutation,b+\" mutationToDom/domToMutation\")};checkJsonHooks$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.saveExtraState,a.loadExtraState,b+\" saveExtraState/loadExtraState\")};\ncheckMutatorDialog$$module$build$src$core$extensions=function(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.compose,a.decompose,b+\" compose/decompose\")};checkHasFunctionPair$$module$build$src$core$extensions=function(a,b,c){if(a&&b){if(typeof a!==\"function\"||typeof b!==\"function\")throw Error(c+\" must be a function\");return!0}if(!a&&!b)return!1;throw Error(c+\"Must have both or neither functions\");};\ncheckHasMutatorProperties$$module$build$src$core$extensions=function(a,b){const c=checkXmlHooks$$module$build$src$core$extensions(b,a),d=checkJsonHooks$$module$build$src$core$extensions(b,a);if(!c&&!d)throw Error(a+\"Mutations must contain either XML hooks, or JSON hooks, or both\");checkMutatorDialog$$module$build$src$core$extensions(b,a)};\ngetMutatorProperties$$module$build$src$core$extensions=function(a){const b=[];a.domToMutation!==void 0&&b.push(a.domToMutation);a.mutationToDom!==void 0&&b.push(a.mutationToDom);a.saveExtraState!==void 0&&b.push(a.saveExtraState);a.loadExtraState!==void 0&&b.push(a.loadExtraState);a.compose!==void 0&&b.push(a.compose);a.decompose!==void 0&&b.push(a.decompose);return b};\nmutatorPropertiesMatch$$module$build$src$core$extensions=function(a,b){b=getMutatorProperties$$module$build$src$core$extensions(b);if(b.length!==a.length)return!1;for(let c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0};\nrunAfterPageLoad$$module$build$src$core$extensions=function(a){if(typeof document!==\"object\")throw Error(\"runAfterPageLoad() requires browser document.\");if(document.readyState===\"complete\")a();else{const b=setInterval(function(){document.readyState===\"complete\"&&(clearInterval(b),a())},10)}};\n$.buildTooltipForDropdown$$module$build$src$core$extensions=function(a,b){const c=[];return function(){c.includes(this.type)||(checkDropdownOptionsInTable$$module$build$src$core$extensions(this,a,b),c.push(this.type));this.setTooltip(function(){const d=String(this.getFieldValue(a));return replaceMessageReferences$$module$build$src$core$utils$parsing(b[d])}.bind(this))}};\ncheckDropdownOptionsInTable$$module$build$src$core$extensions=function(a,b,c){var d=a.getField(b);if(d instanceof FieldDropdown$$module$build$src$core$field_dropdown&&!d.isOptionListDynamic()){d=d.getOptions();for(const e of d)e!==FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR&&([,d]=e,c[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field `+`${b} of block type ${a.type}.`))}};\n$.buildTooltipWithFieldText$$module$build$src$core$extensions=function(a,b){return function(){this.setTooltip(function(){const c=this.getField(b);return replaceMessageReferences$$module$build$src$core$utils$parsing(a).replace(\"%1\",c?c.getText():\"\")}.bind(this))}};extensionParentTooltip$$module$build$src$core$extensions=function(){const a=this.tooltip;this.setTooltip(function(){const b=this.getParent();return b&&b.getInputsInline()&&b.tooltip||a}.bind(this))};\npoint$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+\",\"+b+\" \"};curve$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+b.join(\"\")};moveTo$$module$build$src$core$utils$svg_paths=function(a,b){return\" M \"+a+\",\"+b+\" \"};moveBy$$module$build$src$core$utils$svg_paths=function(a,b){return\" m \"+a+\",\"+b+\" \"};lineTo$$module$build$src$core$utils$svg_paths=function(a,b){return\" l \"+a+\",\"+b+\" \"};line$$module$build$src$core$utils$svg_paths=function(a){return\" l\"+a.join(\"\")};\nlineOnAxis$$module$build$src$core$utils$svg_paths=function(a,b){return\" \"+a+\" \"+b+\" \"};arc$$module$build$src$core$utils$svg_paths=function(a,b,c,d){return a+\" \"+c+\" \"+c+\" \"+b+d};connectReciprocally$$module$build$src$core$connection=function(a,b){if(!a||!b)throw Error(\"Cannot connect null connections.\");a.targetConnection=b;b.targetConnection=a};\ngetSingleConnection$$module$build$src$core$connection=function(a,b){let c=null;b=b.outputConnection;const d=b==null?void 0:b.getConnectionChecker();for(let e=0,f;f=a.inputList[e];e++){const g=f.connection;let h;if(g&&((h=d)==null?0:h.canConnect(b,g,!1))){if(c)return null;c=g}}return c};getConnectionForOrphanedOutput$$module$build$src$core$connection=function(a,b){let c;for(;c=getSingleConnection$$module$build$src$core$connection(a,b);)if(a=c.targetBlock(),!a||a.isShadow())return c;return null};\nisIcon$$module$build$src$core$interfaces$i_icon=function(a){return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(a)&&typeof a.getType===\"function\"&&typeof a.initView===\"function\"&&typeof a.dispose===\"function\"&&typeof a.getWeight===\"function\"&&typeof a.getSize===\"function\"&&typeof a.applyColour===\"function\"&&typeof a.hideForInsertionMarker===\"function\"&&typeof a.updateEditable===\"function\"&&typeof a.updateCollapsed===\"function\"&&typeof a.isShownWhenCollapsed===\"function\"&&typeof a.setOffsetInBlock===\n\"function\"&&typeof a.onLocationChange===\"function\"&&typeof a.onClick===\"function\"};\nisCommentIcon$$module$build$src$core$interfaces$i_comment_icon=function(a){return isIcon$$module$build$src$core$interfaces$i_icon(a)&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(a)&&isSerializable$$module$build$src$core$interfaces$i_serializable(a)&&typeof a.setText===\"function\"&&typeof a.getText===\"function\"&&typeof a.setBubbleSize===\"function\"&&typeof a.getBubbleSize===\"function\"&&typeof a.setBubbleLocation===\"function\"&&typeof a.getBubbleLocation===\"function\"&&a.getType()===IconType$$module$build$src$core$icons$icon_types.COMMENT};\ndisposeUiEffect$$module$build$src$core$block_animations=function(a){if(!(a.getDescendants(!1).length>100)){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play(\"delete\");var d=a.getRelativeToSurfaceXY(),e=c.cloneNode(!0);e.setAttribute(\"transform\",\"translate(\"+d.x+\",\"+d.y+\")\");var f;(f=b.getLayerManager())==null||f.appendToAnimationLayer({getSvgRoot:()=>e});disposeUiStep$$module$build$src$core$block_animations(e,{x:d.x,y:d.y,width:a.width,height:a.height},b.RTL,new Date)}};\ndisposeUiStep$$module$build$src$core$block_animations=function(a,b,c,d){const e=((new Date).getTime()-d.getTime())/150;e>1?removeNode$$module$build$src$core$utils$dom(a):(a.setAttribute(\"transform\",\"translate(\"+(b.x+(c?-1:1)*b.width/2*e)+\",\"+(b.y+b.height/2*e)+\") scale(\"+(1-e)+\")\"),setTimeout(disposeUiStep$$module$build$src$core$block_animations,10,a,b,c,d))};\nconnectionUiEffect$$module$build$src$core$block_animations=function(a){var b=a.workspace;const c=b.scale;b.getAudioManager().play(\"click\");if(!(c<1)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c);var e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:\"none\",stroke:\"#888\",\"stroke-width\":10},b.getParentSvg());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,\n{id:\"animationCircle\",begin:\"indefinite\",attributeName:\"r\",dur:\"150ms\",from:0,to:25*c},e);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,{id:\"animationOpacity\",begin:\"indefinite\",attributeName:\"opacity\",dur:\"150ms\",from:1,to:0},e);a.beginElement();b.beginElement();setTimeout(()=>void removeNode$$module$build$src$core$utils$dom(e),150)}};\ndisconnectUiEffect$$module$build$src$core$block_animations=function(a){disconnectUiStop$$module$build$src$core$block_animations();a.workspace.getAudioManager().play(\"disconnect\");if(!(a.workspace.scale<1)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180;a.RTL||(b*=-1);wobblingBlock$$module$build$src$core$block_animations=a;disconnectUiStep$$module$build$src$core$block_animations(a,b,new Date,0)}};\ndisconnectUiStep$$module$build$src$core$block_animations=function(a,b,c,d){const e=[.66,1,.66,0,-.66,-1,-.66,0];let f=\"\";c.getTime()+200>(new Date).getTime()&&(f=`skewX(${Math.round(e[d%e.length]*b)})`,disconnectPid$$module$build$src$core$block_animations=setTimeout(disconnectUiStep$$module$build$src$core$block_animations,15,a,b,c,d+1));a.getSvgRoot().setAttribute(\"transform\",`${a.getTranslation()} ${f}`)};\ndisconnectUiStop$$module$build$src$core$block_animations=function(){wobblingBlock$$module$build$src$core$block_animations&&(disconnectPid$$module$build$src$core$block_animations&&(clearTimeout(disconnectPid$$module$build$src$core$block_animations),disconnectPid$$module$build$src$core$block_animations=null),wobblingBlock$$module$build$src$core$block_animations.getSvgRoot().setAttribute(\"transform\",wobblingBlock$$module$build$src$core$block_animations.getTranslation()),wobblingBlock$$module$build$src$core$block_animations=\nnull)};\nmoveBlockToNotConflict$$module$build$src$core$clipboard$block_paster=function(a,b){a.workspace.RTL&&(b.x=a.workspace.getWidth()-b.x);const c=a.workspace,d=$.config$$module$build$src$core$config.snapRadius,e=Coordinate$$module$build$src$core$utils$coordinate.difference(b,a.getRelativeToSurfaceXY()),f=new Coordinate$$module$build$src$core$utils$coordinate(0,0),g=c.getAllBlocks(!1).filter(h=>h.id!=a.id).map(h=>h.getRelativeToSurfaceXY());for(;blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(b,f),\ng)||blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster(a,Coordinate$$module$build$src$core$utils$coordinate.sum(e,f),d);)c.RTL?f.translate(-d,d*2):f.translate(d,d*2);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(b,f))};blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster=function(a,b){return b.some(c=>Math.abs(c.x-a.x)<=1&&Math.abs(c.y-a.y)<=1)};\nblockIsInSnapRadius$$module$build$src$core$clipboard$block_paster=function(a,b,c){return a.getConnections_(!1).some(d=>!!d.closest(c,b).connection)};\nbumpObjectIntoBounds$$module$build$src$core$bump_objects=function(a,b,c){const d=c.getBoundingRectangle(),e=d.right-d.left,f=clamp$$module$build$src$core$utils$math(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top;let g=b.left;b=b.left+b.width-e;a.RTL?g=Math.min(b,g):b=Math.max(g,b);return(a=clamp$$module$build$src$core$utils$math(g,d.left,b)-d.left)||f?(c.moveBy(a,f,[\"inbounds\"]),!0):!1};\nbumpIntoBoundsHandler$$module$build$src$core$bump_objects=function(a){return b=>{var c=a.getMetricsManager();if(c.hasFixedEdges()&&!a.isDragging()){var d;if(BUMP_EVENTS$$module$build$src$core$events$type.includes((d=b.type)!=null?d:\"\")){d=c.getScrollMetrics(!0);const e=extractObjectFromEvent$$module$build$src$core$bump_objects(a,b);e&&(c=$.getGroup$$module$build$src$core$events$utils()||!1,$.setGroup$$module$build$src$core$events$utils(b.group),bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,\nd,e)&&!b.group&&console.warn(\"Moved object in bounds but there was no event group. This may break undo.\"),$.setGroup$$module$build$src$core$events$utils(c))}else isViewportChange$$module$build$src$core$events$predicates(b)&&b.scale&&b.oldScale&&b.scale>b.oldScale&&bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a)}}};\nextractObjectFromEvent$$module$build$src$core$bump_objects=function(a,b){let c=null;switch(b.type){case EventType$$module$build$src$core$events$type.BLOCK_CREATE:case EventType$$module$build$src$core$events$type.BLOCK_MOVE:(c=a.getBlockById(b.blockId))&&(c=c.getRootBlock());break;case EventType$$module$build$src$core$events$type.COMMENT_CREATE:case EventType$$module$build$src$core$events$type.COMMENT_MOVE:case EventType$$module$build$src$core$events$type.COMMENT_RESIZE:c=a.getCommentById(b.commentId)}return c};\nbumpTopObjectsIntoBounds$$module$build$src$core$bump_objects=function(a){var b=a.getMetricsManager();if(b.hasFixedEdges()&&!a.isDragging()){b=b.getScrollMetrics(!0);var c=a.getTopBoundedElements();for(let d=0,e;e=c[d];d++)bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,b,e)}};isDeletable$$module$build$src$core$interfaces$i_deletable=function(a){return a&&typeof a.isDeletable===\"function\"&&typeof a.dispose===\"function\"&&typeof a.setDeleteStyle===\"function\"};\ngetBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){const c=a.getIcons();for(const d of a.inputList){if(!d.isVisible())continue;c.push(...d.fieldRow);let e;if((e=d.connection)==null?0:e.targetBlock())if(a=d.connection.targetBlock(),d.connection.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||b)c.push(a);else{let f;(a=(f=a.lastConnectionInStack(!1))==null?void 0:f.getSourceBlock())&&c.push(a)}else{let f;((f=d.connection)==\nnull?void 0:f.type)===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&c.push(d.connection)}}return c};\nnavigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){const c=a.workspace.getTopBoundedElements(!0).filter(e=>isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(e));a=c.indexOf(a instanceof BlockSvg$$module$build$src$core$block_svg?a.getRootBlock():a)+b;let d=null;a>=0&&a<c.length?d=c[a]:a<0?d=c[c.length-1]:a>=c.length&&(d=c[0]);if(b<0&&d instanceof BlockSvg$$module$build$src$core$block_svg){let e,f;return(f=(e=d.lastConnectionInStack(!1))==null?\nvoid 0:e.getSourceBlock())!=null?f:d}return d};\nnavigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy=function(a,b){var c;let d;const e=a instanceof BlockSvg$$module$build$src$core$block_svg?(d=(c=a.outputConnection)==null?void 0:c.targetBlock())!=null?d:a.getSurroundParent():a.getSourceBlock();if(!(e instanceof BlockSvg$$module$build$src$core$block_svg))return null;c=getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy(e,b>0);a=c.indexOf(a);if(a===-1)return null;b=a+b;return b>=0&&b<c.length?\nc[b]:null};register$$module$build$src$core$icons$registry=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a.toString(),b)};unregister$$module$build$src$core$icons$registry=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a)};\nisDraggable$$module$build$src$core$interfaces$i_draggable=function(a){return a&&typeof a.getRelativeToSurfaceXY===\"function\"&&typeof a.isMovable===\"function\"&&typeof a.startDrag===\"function\"&&typeof a.drag===\"function\"&&typeof a.endDrag===\"function\"&&typeof a.revertDrag===\"function\"};isAutoHideable$$module$build$src$core$interfaces$i_autohideable=function(a){return a&&typeof a.autoHide===\"function\"};\nisProcedureBlock$$module$build$src$core$interfaces$i_procedure_block=function(a){return typeof a.getProcedureModel===\"function\"&&typeof a.doProcedureUpdate===\"function\"&&typeof a.isProcedureDef===\"function\"};isObservable$$module$build$src$core$interfaces$i_observable=function(a){return a&&typeof a.startPublishing===\"function\"&&typeof a.stopPublishing===\"function\"};\nallProcedures$$module$build$src$core$procedures=function(a){const b=a.getProcedureMap().getProcedures().filter(d=>!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(e=>e.getName()),!1]);a.getBlocksByType(\"procedures_defnoreturn\",!1).forEach(d=>{!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&b.push(d.getProcedureDef())});const c=a.getProcedureMap().getProcedures().filter(d=>\n!!d.getReturnTypes()).map(d=>[d.getName(),d.getParameters().map(e=>e.getName()),!0]);a.getBlocksByType(\"procedures_defreturn\",!1).forEach(d=>{!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&c.push(d.getProcedureDef())});b.sort(procTupleComparator$$module$build$src$core$procedures);c.sort(procTupleComparator$$module$build$src$core$procedures);return[b,c]};\nprocTupleComparator$$module$build$src$core$procedures=function(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:\"base\"})};$.findLegalName$$module$build$src$core$procedures=function(a,b){if(b.isInFlyout)return a;for(a=a||$.Msg$$module$build$src$core$msg.UNNAMED_KEY||\"unnamed\";!isLegalName$$module$build$src$core$procedures(a,b.workspace,b);){const c=a.match(/^(.*?)(\\d+)$/);a=c?c[1]+(parseInt(c[2])+1):a+\"2\"}return a};\nisLegalName$$module$build$src$core$procedures=function(a,b,c){return!isNameUsed$$module$build$src$core$procedures(a,b,c)};\nisNameUsed$$module$build$src$core$procedures=function(a,b,c){for(const d of b.getAllBlocks(!1))if(d!==c&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&$.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],a))return!0;c=c&&isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)?c==null?void 0:c.getProcedureModel():void 0;for(const d of b.getProcedureMap().getProcedures())if(d!==c&&$.Names$$module$build$src$core$names.equals(d.getName(),\na))return!0;return!1};\n$.rename$$module$build$src$core$procedures=function(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;a=a.trim();const c=$.findLegalName$$module$build$src$core$procedures(a,b);isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(b)&&!b.isInsertionMarker()&&b.getProcedureModel().setName(c);const d=this.getValue();if(d!==a&&d!==c)for(a=b.workspace.getAllBlocks(!1),b=0;b<a.length;b++){const e=a[b];e.renameProcedure&&e.renameProcedure(d,c)}return c};\nxmlFlyoutCategory$$module$build$src$core$procedures=function(a){function b(f,g){for(let k=0;k<f.length;k++){var h=f[k][0];const l=f[k][1],m=$.createElement$$module$build$src$core$utils$xml(\"block\");m.setAttribute(\"type\",g);m.setAttribute(\"gap\",\"16\");const n=$.createElement$$module$build$src$core$utils$xml(\"mutation\");n.setAttribute(\"name\",h);m.appendChild(n);for(h=0;h<l.length;h++){const p=$.createElement$$module$build$src$core$utils$xml(\"arg\");p.setAttribute(\"name\",l[h]);n.appendChild(p)}c.push(m)}}\nconst c=[];if(Blocks$$module$build$src$core$blocks.procedures_defnoreturn){var d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"procedures_defnoreturn\");d.setAttribute(\"gap\",\"16\");var e=$.createElement$$module$build$src$core$utils$xml(\"field\");e.setAttribute(\"name\",\"NAME\");e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d)}Blocks$$module$build$src$core$blocks.procedures_defreturn&&\n(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),d.setAttribute(\"type\",\"procedures_defreturn\"),d.setAttribute(\"gap\",\"16\"),e=$.createElement$$module$build$src$core$utils$xml(\"field\"),e.setAttribute(\"name\",\"NAME\"),e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));Blocks$$module$build$src$core$blocks.procedures_ifreturn&&(d=$.createElement$$module$build$src$core$utils$xml(\"block\"),\nd.setAttribute(\"type\",\"procedures_ifreturn\"),d.setAttribute(\"gap\",\"16\"),c.push(d));c.length&&c[c.length-1].setAttribute(\"gap\",\"24\");a=allProcedures$$module$build$src$core$procedures(a);b(a[0],\"procedures_callnoreturn\");b(a[1],\"procedures_callreturn\");return c};internalFlyoutCategory$$module$build$src$core$procedures=function(a){return flyoutCategory$$module$build$src$core$procedures(a,!1)};\nflyoutCategory$$module$build$src$core$procedures=function(a,b=!0){function c(e,f){for(const [g,h]of e)d.push({kind:\"block\",type:f,gap:16,extraState:{name:g,params:h}})}if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.Procedures.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),xmlFlyoutCategory$$module$build$src$core$procedures(a);const d=[];Blocks$$module$build$src$core$blocks.procedures_defnoreturn&&\nd.push({kind:\"block\",type:\"procedures_defnoreturn\",gap:16,fields:{NAME:$.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}});Blocks$$module$build$src$core$blocks.procedures_defreturn&&d.push({kind:\"block\",type:\"procedures_defreturn\",gap:16,fields:{NAME:$.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}});Blocks$$module$build$src$core$blocks.procedures_ifreturn&&d.push({kind:\"block\",type:\"procedures_ifreturn\",gap:16});d.length&&(d[d.length-1].gap=24);a=allProcedures$$module$build$src$core$procedures(a);\nc(a[0],\"procedures_callnoreturn\");c(a[1],\"procedures_callreturn\");return d};\nupdateMutatorFlyout$$module$build$src$core$procedures=function(a){var b=[],c=a.getBlocksByType(\"procedures_mutatorarg\",!1);for(let f=0,g;g=c[f];f++)b.push(g.getFieldValue(\"NAME\"));c=$.createElement$$module$build$src$core$utils$xml(\"xml\");const d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"procedures_mutatorarg\");const e=$.createElement$$module$build$src$core$utils$xml(\"field\");e.setAttribute(\"name\",\"NAME\");b=generateUniqueNameFromOptions$$module$build$src$core$variables($.DEFAULT_ARG$$module$build$src$core$procedures,\nb);b=$.createTextNode$$module$build$src$core$utils$xml(b);e.appendChild(b);d.appendChild(e);c.appendChild(d);a.updateToolbox(c)};\nmutatorOpenListener$$module$build$src$core$procedures=function(a){if(isBubbleOpen$$module$build$src$core$events$predicates(a)&&a.bubbleType===\"mutator\"&&a.isOpen&&a.blockId){a=getWorkspaceById$$module$build$src$core$common(a.workspaceId).getBlockById(a.blockId);var b=a.type;if(b===\"procedures_defnoreturn\"||b===\"procedures_defreturn\")a=a.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),updateMutatorFlyout$$module$build$src$core$procedures(a),a.addChangeListener(mutatorChangeListener$$module$build$src$core$procedures)}};\nmutatorChangeListener$$module$build$src$core$procedures=function(a){if(isBlockCreate$$module$build$src$core$events$predicates(a)||isBlockDelete$$module$build$src$core$events$predicates(a)||isBlockChange$$module$build$src$core$events$predicates(a)||isBlockFieldIntermediateChange$$module$build$src$core$events$predicates(a))a=getWorkspaceById$$module$build$src$core$common(a.workspaceId),updateMutatorFlyout$$module$build$src$core$procedures(a)};\ngetCallers$$module$build$src$core$procedures=function(a,b){return b.getAllBlocks(!1).filter(c=>blockIsModernCallerFor$$module$build$src$core$procedures(c,a)||isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureCall(),a))};\nblockIsModernCallerFor$$module$build$src$core$procedures=function(a,b){return isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(a)&&!a.isProcedureDef()&&a.getProcedureModel()&&$.Names$$module$build$src$core$names.equals(a.getProcedureModel().getName(),b)};\n$.mutateCallers$$module$build$src$core$procedures=function(a){const b=getRecordUndo$$module$build$src$core$events$utils();var c=a.getProcedureDef()[0];const d=a.mutationToDom(!0);a=getCallers$$module$build$src$core$procedures(c,a.workspace);for(let f=0,g;g=a[f];f++){c=(c=g.mutationToDom())&&domToText$$module$build$src$core$utils$xml(c);g.domToMutation&&g.domToMutation(d);var e=g.mutationToDom();e=e&&domToText$$module$build$src$core$utils$xml(e);c!==e&&($.setRecordUndo$$module$build$src$core$events$utils(!1),\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(g,\"mutation\",null,c,e)),$.setRecordUndo$$module$build$src$core$events$utils(b))}};\n$.getDefinition$$module$build$src$core$procedures=function(a,b){for(const c of b.getAllBlocks(!1))if(isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)&&c.isProcedureDef()&&$.Names$$module$build$src$core$names.equals(c.getProcedureModel().getName(),a)||isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureDef()[0],a))return c;return null};\nisDynamicShape$$module$build$src$core$renderers$common$constants=function(a){return a.isDynamic};isPuzzleTab$$module$build$src$core$renderers$common$constants=function(a){return a.pathDown!==void 0&&a.pathUp!==void 0};isNotch$$module$build$src$core$renderers$common$constants=function(a){return a.pathLeft!==void 0&&a.pathRight!==void 0};\nregister$$module$build$src$core$renderers$common$block_rendering=function(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a,b)};unregister$$module$build$src$core$renderers$common$block_rendering=function(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a)};\ninit$$module$build$src$core$renderers$common$block_rendering=function(a,b,c){a=new (getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a))(a);a.init(b,c);return a};stringButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"String\")};\nnumberButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"Number\")};colourButtonClickHandler$$module$build$src$core$variables_dynamic=function(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,\"Colour\")};\ninternalFlyoutCategory$$module$build$src$core$variables_dynamic=function(a){return flyoutCategory$$module$build$src$core$variables_dynamic(a,!1)};\nflyoutCategory$$module$build$src$core$variables_dynamic=function(a,b=!0){Blocks$$module$build$src$core$blocks.variables_set_dynamic||Blocks$$module$build$src$core$blocks.variables_get_dynamic||console.warn(\"There are no dynamic variable blocks, but there is a dynamic variable category.\");if(b)return warn$$module$build$src$core$utils$deprecation(\"The XML return value of Blockly.VariablesDynamic.flyoutCategory()\",\"v12\",\"v13\",\"the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead.\"),\nxmlFlyoutCategory$$module$build$src$core$variables_dynamic(a);a.registerButtonCallback(\"CREATE_VARIABLE_STRING\",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\",colourButtonClickHandler$$module$build$src$core$variables_dynamic);return[{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:\"CREATE_VARIABLE_STRING\"},\n{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:\"CREATE_VARIABLE_NUMBER\"},{kind:\"button\",text:$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:\"CREATE_VARIABLE_COLOUR\"},...jsonFlyoutCategoryBlocks$$module$build$src$core$variables(a,a.getVariableMap().getAllVariables(),!1,\"variables_get_dynamic\",\"variables_set_dynamic\")]};\nxmlFlyoutCategory$$module$build$src$core$variables_dynamic=function(a){let b=[],c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE);c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_STRING\");b.push(c);c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE);c.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_NUMBER\");b.push(c);c=document.createElement(\"button\");c.setAttribute(\"text\",$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE);\nc.setAttribute(\"callbackKey\",\"CREATE_VARIABLE_COLOUR\");b.push(c);a.registerButtonCallback(\"CREATE_VARIABLE_STRING\",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\",colourButtonClickHandler$$module$build$src$core$variables_dynamic);a=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic(a);return b=b.concat(a)};\nflyoutCategoryBlocks$$module$build$src$core$variables_dynamic=function(a){a=a.getVariableMap().getAllVariables();const b=[];if(a.length>0){if(Blocks$$module$build$src$core$blocks.variables_set_dynamic){var c=a[a.length-1];const d=$.createElement$$module$build$src$core$utils$xml(\"block\");d.setAttribute(\"type\",\"variables_set_dynamic\");d.setAttribute(\"gap\",\"24\");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d)}if(Blocks$$module$build$src$core$blocks.variables_get_dynamic){a.sort(compareByName$$module$build$src$core$variables);\nfor(let d=0,e;e=a[d];d++)c=$.createElement$$module$build$src$core$utils$xml(\"block\"),c.setAttribute(\"type\",\"variables_get_dynamic\"),c.setAttribute(\"gap\",\"8\"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(e)),b.push(c)}}return b};resizeSvgContents$$module$build$src$core$workspace_svg=function(a){a.resizeContents()};\ncopy$$module$build$src$core$clipboard=function(a,b){const c=a.toCopyData();stashedCopyData$$module$build$src$core$clipboard=c;stashedWorkspace$$module$build$src$core$clipboard=isSelectable$$module$build$src$core$interfaces$i_selectable(a)&&a.workspace instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?a.workspace:null;stashedCoordinates$$module$build$src$core$clipboard=b;return c};getLastCopiedData$$module$build$src$core$clipboard=function(){return stashedCopyData$$module$build$src$core$clipboard};\nsetLastCopiedData$$module$build$src$core$clipboard=function(a){stashedCopyData$$module$build$src$core$clipboard=a};getLastCopiedWorkspace$$module$build$src$core$clipboard=function(){return stashedWorkspace$$module$build$src$core$clipboard};setLastCopiedWorkspace$$module$build$src$core$clipboard=function(a){stashedWorkspace$$module$build$src$core$clipboard=a};getLastCopiedLocation$$module$build$src$core$clipboard=function(){return stashedCoordinates$$module$build$src$core$clipboard};\nsetLastCopiedLocation$$module$build$src$core$clipboard=function(a){stashedCoordinates$$module$build$src$core$clipboard=a};\npaste$$module$build$src$core$clipboard=function(a,b,c){return a&&b?pasteFromData$$module$build$src$core$clipboard(a,b,c):stashedCopyData$$module$build$src$core$clipboard&&stashedWorkspace$$module$build$src$core$clipboard?pasteFromData$$module$build$src$core$clipboard(stashedCopyData$$module$build$src$core$clipboard,stashedWorkspace$$module$build$src$core$clipboard,stashedCoordinates$$module$build$src$core$clipboard):null};\npasteFromData$$module$build$src$core$clipboard=function(a,b,c){let d;b=b.isMutator?b:(d=b.options.parentWorkspace)!=null?d:b;let e,f;return(f=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a.paster,!1))==null?void 0:e.paste(a,b,c))!=null?f:null};isCopyable$$module$build$src$core$interfaces$i_copyable=function(a){return a&&typeof a.toCopyData===\"function\"};\nregisterEscape$$module$build$src$core$shortcut_items=function(){ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.ESCAPE,preconditionFn(a){return!a.isReadOnly()},callback(a){a.hideChaff();return!0},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.ESC]})};\nregisterDelete$$module$build$src$core$shortcut_items=function(){ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.DELETE,preconditionFn(a,b){b=b.focusedNode;return!a.isReadOnly()&&b!=null&&isDeletable$$module$build$src$core$interfaces$i_deletable(b)&&b.isDeletable()&&!a.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(a,b,c,d){b.preventDefault();a=d.focusedNode;a instanceof\nBlockSvg$$module$build$src$core$block_svg?a.checkAndDelete():isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable()&&($.setGroup$$module$build$src$core$events$utils(!0),a.dispose(),$.setGroup$$module$build$src$core$events$utils(!1));return!0},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.DELETE,KeyCodes$$module$build$src$core$utils$keycodes.BACKSPACE]})};\nisCopyable$$module$build$src$core$shortcut_items=function(a){return isCopyable$$module$build$src$core$interfaces$i_copyable(a)&&isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&isDraggable$$module$build$src$core$interfaces$i_draggable(a)?a.isCopyable?a.isCopyable():a instanceof BlockSvg$$module$build$src$core$block_svg||a instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment?a.isOwnDeletable()&&a.isOwnMovable():a.isDeletable()&&a.isMovable():!1};\nisCuttable$$module$build$src$core$shortcut_items=function(a){return isCopyable$$module$build$src$core$shortcut_items(a)&&isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable()};\nregisterCopy$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.COPY,\npreconditionFn(c,d){d=d.focusedNode;c=c.isFlyout?c.targetWorkspace:c;return!!d&&!!c&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&isCopyable$$module$build$src$core$shortcut_items(d)},callback(c,d,e,f){d.preventDefault();d=f.focusedNode;if(!d||!isCopyable$$module$build$src$core$interfaces$i_copyable(d)||!isCopyable$$module$build$src$core$shortcut_items(d))return!1;c=c.isFlyout?c.targetWorkspace:c;if(!c)return!1;d.workspace.isFlyout||c.hideChaff();\nc=isDraggable$$module$build$src$core$interfaces$i_draggable(d)&&d.workspace==c?d.getRelativeToSurfaceXY():void 0;return!!copy$$module$build$src$core$clipboard(d,c)},keyCodes:[a,b]})};\nregisterCut$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.CUT,\npreconditionFn(c,d){d=d.focusedNode;return!!d&&!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&isCuttable$$module$build$src$core$shortcut_items(d)},callback(c,d,e,f){c=f.focusedNode;if(!c||!isCuttable$$module$build$src$core$shortcut_items(c)||!isCopyable$$module$build$src$core$interfaces$i_copyable(c))return!1;d=isDraggable$$module$build$src$core$interfaces$i_draggable(c)?c.getRelativeToSurfaceXY():void 0;d=copy$$module$build$src$core$clipboard(c,\nd);c instanceof BlockSvg$$module$build$src$core$block_svg?c.checkAndDelete():isDeletable$$module$build$src$core$interfaces$i_deletable(c)&&c.dispose();return!!d},keyCodes:[a,b]})};\nregisterPaste$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.PASTE,\npreconditionFn(){var c=getLastCopiedWorkspace$$module$build$src$core$clipboard();if(!c||!c.rendered)return!1;c=c.isFlyout?c.targetWorkspace:c;return!!getLastCopiedData$$module$build$src$core$clipboard()&&!!c&&!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(c,d){c=getLastCopiedData$$module$build$src$core$clipboard();if(!c)return!1;var e=getLastCopiedWorkspace$$module$build$src$core$clipboard();if(!e)return!1;e=e.isFlyout?e.targetWorkspace:\ne;if(!e||e.isReadOnly())return!1;if(d instanceof PointerEvent)return d=screenToWsCoordinates$$module$build$src$core$utils$svg_math(e,new Coordinate$$module$build$src$core$utils$coordinate(d.clientX,d.clientY)),!!paste$$module$build$src$core$clipboard(c,e,d);d=getLastCopiedLocation$$module$build$src$core$clipboard();if(!d)return!!paste$$module$build$src$core$clipboard(c,e);const {left:f,top:g,width:h,height:k}=e.getMetricsManager().getViewMetrics(!0);if((new Rect$$module$build$src$core$utils$rect(g,\ng+k,f,f+h)).contains(d.x,d.y))return!!paste$$module$build$src$core$clipboard(c,e);d=new Coordinate$$module$build$src$core$utils$coordinate(f+h/2,g+k/2);return!!paste$$module$build$src$core$clipboard(c,e,d)},keyCodes:[a,b]})};\nregisterUndo$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.UNDO,\npreconditionFn(c){return!c.isReadOnly()&&!c.isDragging()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(c,d){c.hideChaff();c.undo(!1);d.preventDefault();return!0},keyCodes:[a,b]})};\nregisterRedo$$module$build$src$core$shortcut_items=function(){const a=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL,KeyCodes$$module$build$src$core$utils$keycodes.SHIFT]),b=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META,\nKeyCodes$$module$build$src$core$utils$keycodes.SHIFT]),c=ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Y,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]);ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.REDO,preconditionFn(d){return!d.isDragging()&&!d.isReadOnly()&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},\ncallback(d,e){d.hideChaff();d.undo(!0);e.preventDefault();return!0},keyCodes:[a,b,c]})};registerDefaultShortcuts$$module$build$src$core$shortcut_items=function(){registerEscape$$module$build$src$core$shortcut_items();registerDelete$$module$build$src$core$shortcut_items();registerCopy$$module$build$src$core$shortcut_items();registerCut$$module$build$src$core$shortcut_items();registerPaste$$module$build$src$core$shortcut_items();registerUndo$$module$build$src$core$shortcut_items();registerRedo$$module$build$src$core$shortcut_items()};\nsaveProcedure$$module$build$src$core$serialization$procedures=function(a){const b=a.saveState();if(!a.getParameters().length)return b;b.parameters=a.getParameters().map(c=>c.saveState());return b};loadProcedure$$module$build$src$core$serialization$procedures=function(a,b,c,d){a=a.loadState(c,d);if(!c.parameters)return a;for(const [e,f]of c.parameters.entries())a.insertParameter(b.loadState(f,d),e);return a};\nsave$$module$build$src$core$serialization$workspaces=function(a){const b=Object.create(null),c=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);for(const d in c){let e;const f=(e=c[d])==null?void 0:e.save(a);f&&(b[d]=f)}return b};\nload$$module$build$src$core$serialization$workspaces=function(a,b,{recordUndo:c=!1}={}){var d=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);if(d){d=Object.entries(d).sort((f,g)=>g[1].priority-f[1].priority);var e=getRecordUndo$$module$build$src$core$events$utils();$.setRecordUndo$$module$build$src$core$events$utils(c);(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);startTextWidthCache$$module$build$src$core$utils$dom();\nb instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!1);for(const [,f]of d.reverse()){let g;(g=f)==null||g.clear(b)}for(const [f,g]of d.reverse())if(a[f]){let h;(h=g)==null||h.load(a[f],b)}b instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!0);stopTextWidthCache$$module$build$src$core$utils$dom();fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.FINISHED_LOADING))(b));\n$.setGroup$$module$build$src$core$events$utils(c);$.setRecordUndo$$module$build$src$core$events$utils(e)}};\ninject$$module$build$src$core$inject=function(a,b){let c=null;c=typeof a===\"string\"?document.getElementById(a)||document.querySelector(a):a;var d;if(!document.contains(c)&&document!==((d=c)==null?void 0:d.ownerDocument))throw Error(\"Error: container is not in current document\");a=new Options$$module$build$src$core$options(b||{});d=document.createElement(\"div\");addClass$$module$build$src$core$utils$dom(d,\"injectionDiv\");(b==null?0:b.rtl)&&addClass$$module$build$src$core$utils$dom(d,\"blocklyRTL\");c.appendChild(d);\nb=createDom$$module$build$src$core$inject(d,a);const e=createMainWorkspace$$module$build$src$core$inject(d,b,a);init$$module$build$src$core$inject(e);setMainWorkspace$$module$build$src$core$common(e);svgResize$$module$build$src$core$common(e);d.addEventListener(\"focusin\",function(){setMainWorkspace$$module$build$src$core$common(e)});conditionalBind$$module$build$src$core$browser_events(d,\"keydown\",null,globalShortcutHandler$$module$build$src$core$common);return e};\ncreateDom$$module$build$src$core$inject=function(a,b){a.setAttribute(\"dir\",\"LTR\");inject$$module$build$src$core$css(b.hasCss,b.pathToMedia);const c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{xmlns:SVG_NS$$module$build$src$core$utils$dom,\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\",\"class\":\"blocklySvg\"},a),d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,\n{},c),e=String(Math.random()).substring(2);b.gridPattern=Grid$$module$build$src$core$grid.createDom(e,b.gridOptions,d,a);return c};\ncreateMainWorkspace$$module$build$src$core$inject=function(a,b,c){c.parentWorkspace=null;c=new WorkspaceSvg$$module$build$src$core$workspace_svg(c);const d=c.options;c.scale=d.zoomOptions.startScale;b.appendChild(c.createDom(\"blocklyMainBackground\",a));var e=c.getRenderer().getClassName();e&&addClass$$module$build$src$core$utils$dom(a,e);(e=c.getTheme().getClassName())&&addClass$$module$build$src$core$utils$dom(a,e);!d.hasCategories&&d.languageTree&&(a=c.addFlyout(Svg$$module$build$src$core$utils$svg.SVG),\ninsertAfter$$module$build$src$core$utils$dom(a,b));d.hasTrashcan&&c.addTrashcan();d.zoomOptions&&d.zoomOptions.controls&&c.addZoomControls();c.getThemeManager().subscribe(b,\"workspaceBackgroundColour\",\"background-color\");c.translate(0,0);c.addChangeListener(bumpIntoBoundsHandler$$module$build$src$core$bump_objects(c));svgResize$$module$build$src$core$common(c);createDom$$module$build$src$core$widgetdiv();createDom$$module$build$src$core$dropdowndiv();createDom$$module$build$src$core$tooltip();return c};\ninit$$module$build$src$core$inject=function(a){const b=a.options;var c=a.getParentSvg();conditionalBind$$module$build$src$core$browser_events(c.parentNode,\"contextmenu\",null,function(d){isTargetInput$$module$build$src$core$browser_events(d)||d.preventDefault()});c=conditionalBind$$module$build$src$core$browser_events(window,\"resize\",null,function(){hide$$module$build$src$core$tooltip();a.hideComponents(!0);repositionForWindowResize$$module$build$src$core$dropdowndiv();repositionForWindowResize$$module$build$src$core$widgetdiv();\nsvgResize$$module$build$src$core$common(a);bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a)});a.setResizeHandlerWrapper(c);bindDocumentEvents$$module$build$src$core$inject();if(b.languageTree){c=a.getToolbox();const d=a.getFlyout(!0);c?c.init():d&&(d.init(a),d.show(b.languageTree),typeof d.scrollToStart===\"function\"&&d.scrollToStart())}b.hasTrashcan&&a.trashcan.init();b.zoomOptions&&b.zoomOptions.controls&&a.zoomControls_.init();b.moveOptions&&b.moveOptions.scrollbars?(a.scrollbar=\nnew ScrollbarPair$$module$build$src$core$scrollbar_pair(a,b.moveOptions.scrollbars===!0||!!b.moveOptions.scrollbars.horizontal,b.moveOptions.scrollbars===!0||!!b.moveOptions.scrollbars.vertical,\"blocklyMainWorkspaceScrollbar\"),a.scrollbar.resize()):a.setMetrics({x:.5,y:.5});b.hasSounds&&loadSounds$$module$build$src$core$inject(b.pathToMedia,a)};\nbindDocumentEvents$$module$build$src$core$inject=function(){documentEventsBound$$module$build$src$core$inject||(conditionalBind$$module$build$src$core$browser_events(document,\"scroll\",null,function(){const a=getAllWorkspaces$$module$build$src$core$common();for(let b=0,c;c=a[b];b++)c instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&c.updateInverseScreenCTM()}),bind$$module$build$src$core$browser_events(document,\"touchend\",null,longStop$$module$build$src$core$touch),bind$$module$build$src$core$browser_events(document,\n\"touchcancel\",null,longStop$$module$build$src$core$touch));documentEventsBound$$module$build$src$core$inject=!0};\nloadSounds$$module$build$src$core$inject=function(a,b){function c(){for(;e.length;){const f=e.pop();f&&unbind$$module$build$src$core$browser_events(f)}d.preload()}const d=b.getAudioManager();d.load([a+\"click.mp3\",a+\"click.wav\",a+\"click.ogg\"],\"click\");d.load([a+\"disconnect.wav\",a+\"disconnect.mp3\",a+\"disconnect.ogg\"],\"disconnect\");d.load([a+\"delete.mp3\",a+\"delete.ogg\",a+\"delete.wav\"],\"delete\");const e=[];e.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",null,c,!0));\ne.push(conditionalBind$$module$build$src$core$browser_events(document,\"touchstart\",null,c,!0))};isFullBlockField$$module$build$src$core$contextmenu_items=function(a){if(!a||!a.isSimpleReporter())return!1;let b;return(b=a.getFields().next().value)==null?void 0:b.isFullBlockField()};\nregisterUndo$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.UNDO},preconditionFn(a){return a.workspace.getUndoStack().length>0?\"enabled\":\"disabled\"},callback(a){a.workspace.undo(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"undoWorkspace\",weight:1})};\nregisterRedo$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.REDO},preconditionFn(a){return a.workspace.getRedoStack().length>0?\"enabled\":\"disabled\"},callback(a){a.workspace.undo(!0)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"redoWorkspace\",weight:2})};\nregisterCleanup$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(a){return a.workspace.isMovable()?a.workspace.getTopBlocks(!1).length>1?\"enabled\":\"disabled\":\"hidden\"},callback(a){a.workspace.cleanUp()},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"cleanWorkspace\",weight:3})};\ntoggleOption_$$module$build$src$core$contextmenu_items=function(a,b){function c(f){e--;f.setCollapsed(a);e===0&&$.setGroup$$module$build$src$core$events$utils(!1)}let d=0,e=0;$.setGroup$$module$build$src$core$events$utils(!0);for(let f=0;f<b.length;f++){let g=b[f];for(;g;)e++,setTimeout(c.bind(null,g),d),g=g.getNextBlock(),d+=10}};\nregisterCollapse$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(let b=0;b<a.length;b++){let c=a[b];for(;c;){if(!c.isCollapsed())return\"enabled\";c=c.getNextBlock()}}return\"disabled\"}return\"hidden\"},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!0,\na.workspace.getTopBlocks(!0))},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"collapseWorkspace\",weight:4})};\nregisterExpand$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(let b=0;b<a.length;b++){let c=a[b];for(;c;){if(c.isCollapsed())return\"enabled\";c=c.getNextBlock()}}return\"disabled\"}return\"hidden\"},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!1,\na.workspace.getTopBlocks(!0))},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"expandWorkspace\",weight:5})};addDeletableBlocks_$$module$build$src$core$contextmenu_items=function(a,b){if(a.isDeletable())Array.prototype.push.apply(b,a.getDescendants(!1));else{a=a.getChildren(!1);for(let c=0;c<a.length;c++)addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b)}};\ngetDeletableBlocks_$$module$build$src$core$contextmenu_items=function(a){const b=[];a=a.getTopBlocks(!0);for(let c=0;c<a.length;c++)addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b);return b};\ndeleteNext_$$module$build$src$core$contextmenu_items=function(a,b){b?$.setGroup$$module$build$src$core$events$utils(b):($.setGroup$$module$build$src$core$events$utils(!0),b=$.getGroup$$module$build$src$core$events$utils());const c=a.shift();c&&(c.isDeadOrDying()?deleteNext_$$module$build$src$core$contextmenu_items(a,b):(c.dispose(!1,!0),setTimeout(deleteNext_$$module$build$src$core$contextmenu_items,10,a,b)));$.setGroup$$module$build$src$core$events$utils(!1)};\nregisterDeleteAll$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){if(!a.workspace)return\"\";a=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length;return a===1?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace(\"%1\",`${a}`)},preconditionFn(a){return a.workspace?getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length>\n0?\"enabled\":\"disabled\":\"disabled\"},callback(a){if(a.workspace){a.workspace.cancelCurrentGesture();var b=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace);b.length<2?deleteNext_$$module$build$src$core$contextmenu_items(b):confirm$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace(\"%1\",String(b.length)),function(c){c&&deleteNext_$$module$build$src$core$contextmenu_items(b)})}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,\nid:\"workspaceDelete\",weight:6})};registerWorkspaceOptions_$$module$build$src$core$contextmenu_items=function(){registerUndo$$module$build$src$core$contextmenu_items();registerRedo$$module$build$src$core$contextmenu_items();registerCleanup$$module$build$src$core$contextmenu_items();registerCollapse$$module$build$src$core$contextmenu_items();registerExpand$$module$build$src$core$contextmenu_items();registerDeleteAll$$module$build$src$core$contextmenu_items()};\nregisterDuplicate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isDeletable()&&a.isMovable()?a.isDuplicatable()?\"enabled\":\"disabled\":\"hidden\"},callback(a){if(a.block){var b=a.block.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.block.workspace)}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,\nid:\"blockDuplicate\",weight:1})};\nregisterComment$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?$.Msg$$module$build$src$core$msg.REMOVE_COMMENT:$.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(a){a=a.block;return!a||a.isInFlyout||!a.workspace.options.comments||a.isCollapsed()||!a.isEditable()||!a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)&&isFullBlockField$$module$build$src$core$contextmenu_items(a)?\n\"hidden\":\"enabled\"},callback(a){(a=a.block)&&a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?a.setCommentText(null):a.setCommentText(\"\")},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockComment\",weight:2})};\nregisterInline$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.getInputsInline()?$.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:$.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.isMovable()&&!a.isCollapsed())for(let b=1;b<a.inputList.length;b++)if(!(a.inputList[b-1]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs||\na.inputList[b]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs))return\"enabled\";return\"hidden\"},callback(a){a.block.setInputsInline(!a.block.getInputsInline())},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockInline\",weight:3})};\nregisterCollapseExpandBlock$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.isCollapsed()?$.Msg$$module$build$src$core$msg.EXPAND_BLOCK:$.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isMovable()&&a.workspace.options.collapse?\"enabled\":\"hidden\"},callback(a){a.block.setCollapsed(!a.block.isCollapsed())},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,\nid:\"blockCollapseExpand\",weight:4})};\nregisterDisable$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants)?$.Msg$$module$build$src$core$msg.ENABLE_BLOCK:$.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.workspace.options.disable&&a.isEditable()){var b=a.getDisabledReasons();b=b.size>(b.has(MANUALLY_DISABLED$$module$build$src$core$constants)?\n1:0);return a.getInheritedDisabled()||b?\"disabled\":\"enabled\"}return\"hidden\"},callback(a){a=a.block;const b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);a.setDisabledReason(!a.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants),MANUALLY_DISABLED$$module$build$src$core$constants);$.setGroup$$module$build$src$core$events$utils(b)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockDisable\",\nweight:5})};\nregisterDelete$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){var b=a.block;a=b.getDescendants(!1).length;(b=b.getNextBlock())&&(a-=b.getDescendants(!1).length);return a===1?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace(\"%1\",`${a}`)},preconditionFn(a){return!a.block.isInFlyout&&a.block.isDeletable()?\"enabled\":\"hidden\"},callback(a){a.block&&a.block.checkAndDelete()},\nscopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockDelete\",weight:6})};\nregisterHelp$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.HELP},preconditionFn(a){a=a.block;return(typeof a.helpUrl===\"function\"?a.helpUrl():a.helpUrl)?\"enabled\":\"hidden\"},callback(a){a.block.showHelp()},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:\"blockHelp\",weight:7})};\nregisterCommentDelete$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(a){let b;return((b=a.comment)==null?0:b.isDeletable())?\"enabled\":\"hidden\"},callback(a){$.setGroup$$module$build$src$core$events$utils(!0);let b;(b=a.comment)==null||b.dispose();$.setGroup$$module$build$src$core$events$utils(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.COMMENT,\nid:\"commentDelete\",weight:6})};\nregisterCommentDuplicate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(a){let b;return((b=a.comment)==null?0:b.isMovable())?\"enabled\":\"hidden\"},callback(a){if(a.comment){var b=a.comment.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.comment.workspace)}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.COMMENT,id:\"commentDuplicate\",\nweight:1})};\nregisterCommentCreate$$module$build$src$core$contextmenu_items=function(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText:()=>$.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:a=>{let b;return((b=a.workspace)==null?0:b.isMutator)?\"hidden\":\"enabled\"},callback:(a,b,c,d)=>{if(a=a.workspace)$.setGroup$$module$build$src$core$events$utils(!0),b=new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(a),b.setPlaceholderText($.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),\nb.moveTo(screenToWsCoordinates$$module$build$src$core$utils$svg_math(a,new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y))),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b),$.setGroup$$module$build$src$core$events$utils(!1)},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:\"commentCreate\",weight:8})};\nregisterBlockOptions_$$module$build$src$core$contextmenu_items=function(){registerDuplicate$$module$build$src$core$contextmenu_items();registerComment$$module$build$src$core$contextmenu_items();registerInline$$module$build$src$core$contextmenu_items();registerCollapseExpandBlock$$module$build$src$core$contextmenu_items();registerDisable$$module$build$src$core$contextmenu_items();registerDelete$$module$build$src$core$contextmenu_items();registerHelp$$module$build$src$core$contextmenu_items()};\nregisterCommentOptions$$module$build$src$core$contextmenu_items=function(){registerCommentDuplicate$$module$build$src$core$contextmenu_items();registerCommentDelete$$module$build$src$core$contextmenu_items();registerCommentCreate$$module$build$src$core$contextmenu_items()};registerDefaultOptions$$module$build$src$core$contextmenu_items=function(){registerWorkspaceOptions_$$module$build$src$core$contextmenu_items();registerBlockOptions_$$module$build$src$core$contextmenu_items()};\nisPaster$$module$build$src$core$interfaces$i_paster=function(a){return a&&typeof a.paste===\"function\"};isRenderedElement$$module$build$src$core$interfaces$i_rendered_element=function(a){return a&&typeof a.getSvgRoot===\"function\"};isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item=function(a){return a.isSelectable()};hideChaff$$module$build$src$core$blockly=function(a){getMainWorkspace$$module$build$src$core$common().hideChaff(a)};\nisFocusableTree$$module$build$src$core$interfaces$i_focusable_tree=function(a){return a&&typeof a.getRootFocusableNode===\"function\"&&typeof a.getRestoredFocusableNode===\"function\"&&typeof a.getNestedTrees===\"function\"&&typeof a.lookUpFocusableNode===\"function\"&&typeof a.onTreeFocus===\"function\"&&typeof a.onTreeBlur===\"function\"};$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_ES6=!1;$jscomp.ASSUME_ES2020=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;\n$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.INSTRUMENT_ASYNC_CONTEXT=!0;$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create==\"function\"?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties==\"function\"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\n$jscomp.getGlobal=function(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");};$jscomp.global=$jscomp.ASSUME_ES2020?globalThis:$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol===\"function\"&&typeof Symbol(\"x\")===\"symbol\";$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;\n$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX=\"$jscp$\";var $jscomp$lookupPolyfilledValue=function(a,b,c){if(!c||a!=null){c=$jscomp.propertyToPolyfillSymbol[b];if(c==null)return a[b];c=a[c];return c!==void 0?c:a[b]}};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};\n$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(\".\");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};\n$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(\".\");a=e.length===1;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&c===\"es6\"?d[e]:null;b=b(c);b!=null&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]===void 0&&(c=Math.random()*1E9>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?\n$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+\"$\"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};\n$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect!=\"undefined\"&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){e===void 0&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||\ne}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.ASSUME_ES6||$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf==\"function\"?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null;\n$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.ASSUME_ES6||$jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if(c!=\"prototype\")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};\n$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b=typeof Symbol!=\"undefined\"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length==\"number\")return $jscomp.arrayIterator(a);throw Error(String(a)+\" is not an iterable or ArrayLike\");};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};\n$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError(\"Iterator result \"+a+\" is not an object\");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};\n$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError(\"Generator is already running\");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};\n$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};\n$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;b!=void 0&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};\n$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};\n$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();b.jumpTo!=void 0&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};\n$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};\n$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_(\"return\"in b?b[\"return\"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_[\"throw\"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};\n$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};\n$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};\n$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};\n$jscomp.polyfill(\"globalThis\",function(a){return a||$jscomp.global},\"es_2020\",\"es3\");$jscomp.polyfill(\"Array.prototype.includes\",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},\"es7\",\"es3\");\n$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&d==\"q\"&&e==b}}));return b.q===!0}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};\n$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.MapEntry=function(){};$jscomp.polyfill(\"Set.prototype.difference\",function(a){return a?a:function(b){$jscomp.checkIsSetInstance(this);$jscomp.checkIsSetLike(b);var c=$jscomp.getSmallerAndLargerSets(this,b);b=new Set(this);var d=c.smallerSetIterator;c=c.largerSet;for(var e=d.next();!e.done;)c.has(e.value)&&b.delete(e.value),e=d.next();return b}},\"es_next\",\"es6\");\n$jscomp.checkIsSetLike=function(a){if(typeof a!==\"object\"||a===null||typeof a.size!==\"number\"||a.size<0||typeof a.keys!==\"function\"||typeof a.has!==\"function\")throw new TypeError(\"Argument must be set-like\");};$jscomp.checkIsValidIterator=function(a){if(typeof a!==\"object\"||a===null||typeof a.next!==\"function\")throw new TypeError(\"Invalid iterator.\");return a};\n$jscomp.getSmallerAndLargerSets=function(a,b){return a.size<=b.size?{smallerSetIterator:a.keys(),largerSet:b}:{smallerSetIterator:$jscomp.checkIsValidIterator(b.keys()),largerSet:a}};$jscomp.checkIsSetInstance=function(a){if(!(a instanceof Set))throw new TypeError(\"Method must be called on an instance of Set.\");};\n$jscomp.iteratorFromArray=function(a,b){if($jscomp.ASSUME_ES6)return a[Symbol.iterator]();a instanceof String&&(a+=\"\");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill(\"Array.prototype.values\",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c})}},\"es8\",\"es3\");\n$jscomp.polyfill(\"Array.prototype.flatMap\",function(a){return a?a:function(b,c){var d=[];Array.prototype.forEach.call(this,function(e,f){e=b.call(c,e,f,this);Array.isArray(e)?d.push.apply(d,e):d.push(e)});return d}},\"es9\",\"es5\");$jscomp.polyfill(\"Array.prototype.flat\",function(a){return a?a:function(b){b=b===void 0?1:b;var c=[];Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&b>0?(d=Array.prototype.flat.call(d,b-1),c.push.apply(c,d)):c.push(d)});return c}},\"es9\",\"es5\");\n$jscomp.polyfill(\"Object.entries\",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push([d,b[d]]);return c}},\"es8\",\"es3\");$jscomp.polyfill(\"Object.values\",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push(b[d]);return c}},\"es8\",\"es3\");\nvar typeMap$$module$build$src$core$registry=Object.create(null),TEST_ONLY$$module$build$src$core$registry={typeMap:typeMap$$module$build$src$core$registry},nameMap$$module$build$src$core$registry=Object.create(null),DEFAULT$$module$build$src$core$registry=\"default\",Type$$module$build$src$core$registry=class{constructor(a){this.name=a}toString(){return this.name}};Type$$module$build$src$core$registry.CONNECTION_CHECKER=new Type$$module$build$src$core$registry(\"connectionChecker\");\nType$$module$build$src$core$registry.CONNECTION_PREVIEWER=new Type$$module$build$src$core$registry(\"connectionPreviewer\");Type$$module$build$src$core$registry.CURSOR=new Type$$module$build$src$core$registry(\"cursor\");Type$$module$build$src$core$registry.EVENT=new Type$$module$build$src$core$registry(\"event\");Type$$module$build$src$core$registry.FIELD=new Type$$module$build$src$core$registry(\"field\");Type$$module$build$src$core$registry.INPUT=new Type$$module$build$src$core$registry(\"input\");\nType$$module$build$src$core$registry.RENDERER=new Type$$module$build$src$core$registry(\"renderer\");Type$$module$build$src$core$registry.TOOLBOX=new Type$$module$build$src$core$registry(\"toolbox\");Type$$module$build$src$core$registry.THEME=new Type$$module$build$src$core$registry(\"theme\");Type$$module$build$src$core$registry.TOOLBOX_ITEM=new Type$$module$build$src$core$registry(\"toolboxItem\");Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX=new Type$$module$build$src$core$registry(\"flyoutsVerticalToolbox\");\nType$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX=new Type$$module$build$src$core$registry(\"flyoutsHorizontalToolbox\");Type$$module$build$src$core$registry.FLYOUT_INFLATER=new Type$$module$build$src$core$registry(\"flyoutInflater\");Type$$module$build$src$core$registry.METRICS_MANAGER=new Type$$module$build$src$core$registry(\"metricsManager\");Type$$module$build$src$core$registry.BLOCK_DRAGGER=new Type$$module$build$src$core$registry(\"blockDragger\");\nType$$module$build$src$core$registry.SERIALIZER=new Type$$module$build$src$core$registry(\"serializer\");Type$$module$build$src$core$registry.ICON=new Type$$module$build$src$core$registry(\"icon\");Type$$module$build$src$core$registry.PASTER=new Type$$module$build$src$core$registry(\"paster\");Type$$module$build$src$core$registry.VARIABLE_MODEL=new Type$$module$build$src$core$registry(\"variableModel\");Type$$module$build$src$core$registry.VARIABLE_MAP=new Type$$module$build$src$core$registry(\"variableMap\");\nvar module$build$src$core$registry={DEFAULT:DEFAULT$$module$build$src$core$registry,TEST_ONLY:TEST_ONLY$$module$build$src$core$registry};module$build$src$core$registry.Type=Type$$module$build$src$core$registry;module$build$src$core$registry.getAllItems=getAllItems$$module$build$src$core$registry;module$build$src$core$registry.getClass=getClass$$module$build$src$core$registry;module$build$src$core$registry.getClassFromOptions=getClassFromOptions$$module$build$src$core$registry;\nmodule$build$src$core$registry.getObject=getObject$$module$build$src$core$registry;module$build$src$core$registry.hasItem=hasItem$$module$build$src$core$registry;module$build$src$core$registry.register=register$$module$build$src$core$registry;module$build$src$core$registry.unregister=unregister$$module$build$src$core$registry;var Blocks$$module$build$src$core$blocks=Object.create(null),module$build$src$core$blocks={Blocks:Blocks$$module$build$src$core$blocks};var LONGPRESS$$module$build$src$core$touch=750,TOUCH_ENABLED$$module$build$src$core$touch=\"ontouchstart\"in globalThis||!!(globalThis.document&&document.documentElement&&\"ontouchstart\"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),touchIdentifier_$$module$build$src$core$touch=null,TOUCH_MAP$$module$build$src$core$touch={mousedown:[\"pointerdown\"],mouseenter:[\"pointerenter\"],mouseleave:[\"pointerleave\"],mousemove:[\"pointermove\"],\nmouseout:[\"pointerout\"],mouseover:[\"pointerover\"],mouseup:[\"pointerup\",\"pointercancel\"],touchend:[\"pointerup\"],touchcancel:[\"pointercancel\"],pointerup:[\"pointerup\",\"pointercancel\"]},longPid_$$module$build$src$core$touch=0,module$build$src$core$touch={TOUCH_ENABLED:TOUCH_ENABLED$$module$build$src$core$touch,TOUCH_MAP:TOUCH_MAP$$module$build$src$core$touch};module$build$src$core$touch.checkTouchIdentifier=checkTouchIdentifier$$module$build$src$core$touch;\nmodule$build$src$core$touch.clearTouchIdentifier=clearTouchIdentifier$$module$build$src$core$touch;module$build$src$core$touch.getTouchIdentifierFromEvent=getTouchIdentifierFromEvent$$module$build$src$core$touch;module$build$src$core$touch.longStart=longStart$$module$build$src$core$touch;module$build$src$core$touch.longStop=longStop$$module$build$src$core$touch;module$build$src$core$touch.shouldHandleEvent=shouldHandleEvent$$module$build$src$core$touch;var rawUserAgent$$module$build$src$core$utils$useragent,isJavaFx$$module$build$src$core$utils$useragent,isWebKit$$module$build$src$core$utils$useragent,isGecko$$module$build$src$core$utils$useragent,isAndroid$$module$build$src$core$utils$useragent,isIPad$$module$build$src$core$utils$useragent,isIPhone$$module$build$src$core$utils$useragent,isMac$$module$build$src$core$utils$useragent,isTablet$$module$build$src$core$utils$useragent,isMobile$$module$build$src$core$utils$useragent;\n(function(a){function b(d){return c.includes(d.toUpperCase())}rawUserAgent$$module$build$src$core$utils$useragent=a;const c=rawUserAgent$$module$build$src$core$utils$useragent.toUpperCase();isJavaFx$$module$build$src$core$utils$useragent=b(\"JavaFX\");isWebKit$$module$build$src$core$utils$useragent=b(\"WebKit\");isGecko$$module$build$src$core$utils$useragent=b(\"Gecko\")&&!isWebKit$$module$build$src$core$utils$useragent;isAndroid$$module$build$src$core$utils$useragent=b(\"Android\");a=globalThis.navigator&&\nglobalThis.navigator.maxTouchPoints;isIPad$$module$build$src$core$utils$useragent=b(\"iPad\")||b(\"Macintosh\")&&a>0;isIPhone$$module$build$src$core$utils$useragent=b(\"iPhone\")&&!isIPad$$module$build$src$core$utils$useragent;isMac$$module$build$src$core$utils$useragent=b(\"Macintosh\");isTablet$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent&&!b(\"Mobile\")||b(\"Silk\");isMobile$$module$build$src$core$utils$useragent=!isTablet$$module$build$src$core$utils$useragent&&\n(isIPhone$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent)})(globalThis.navigator&&globalThis.navigator.userAgent||\"\");\nvar raw$$module$build$src$core$utils$useragent=rawUserAgent$$module$build$src$core$utils$useragent,JavaFx$$module$build$src$core$utils$useragent=isJavaFx$$module$build$src$core$utils$useragent,GECKO$$module$build$src$core$utils$useragent=isGecko$$module$build$src$core$utils$useragent,ANDROID$$module$build$src$core$utils$useragent=isAndroid$$module$build$src$core$utils$useragent,IPAD$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent,IPHONE$$module$build$src$core$utils$useragent=\nisIPhone$$module$build$src$core$utils$useragent,MAC$$module$build$src$core$utils$useragent=isMac$$module$build$src$core$utils$useragent,MOBILE$$module$build$src$core$utils$useragent=isMobile$$module$build$src$core$utils$useragent,module$build$src$core$utils$useragent={ANDROID:ANDROID$$module$build$src$core$utils$useragent,GECKO:GECKO$$module$build$src$core$utils$useragent,IPAD:IPAD$$module$build$src$core$utils$useragent,IPHONE:IPHONE$$module$build$src$core$utils$useragent,JavaFx:JavaFx$$module$build$src$core$utils$useragent,\nMAC:MAC$$module$build$src$core$utils$useragent,MOBILE:MOBILE$$module$build$src$core$utils$useragent,raw:raw$$module$build$src$core$utils$useragent};var LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events=40,PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events=125,module$build$src$core$browser_events={};module$build$src$core$browser_events.bind=bind$$module$build$src$core$browser_events;module$build$src$core$browser_events.conditionalBind=conditionalBind$$module$build$src$core$browser_events;module$build$src$core$browser_events.getScrollDeltaPixels=getScrollDeltaPixels$$module$build$src$core$browser_events;\nmodule$build$src$core$browser_events.isRightButton=isRightButton$$module$build$src$core$browser_events;module$build$src$core$browser_events.isTargetInput=isTargetInput$$module$build$src$core$browser_events;module$build$src$core$browser_events.mouseToSvg=mouseToSvg$$module$build$src$core$browser_events;module$build$src$core$browser_events.unbind=unbind$$module$build$src$core$browser_events;var EventType$$module$build$src$core$events$type;\n(function(a){a.BLOCK_CREATE=\"create\";a.BLOCK_DELETE=\"delete\";a.BLOCK_CHANGE=\"change\";a.BLOCK_FIELD_INTERMEDIATE_CHANGE=\"block_field_intermediate_change\";a.BLOCK_MOVE=\"move\";a.VAR_CREATE=\"var_create\";a.VAR_DELETE=\"var_delete\";a.VAR_RENAME=\"var_rename\";a.VAR_TYPE_CHANGE=\"var_type_change\";a.UI=\"ui\";a.BLOCK_DRAG=\"drag\";a.SELECTED=\"selected\";a.CLICK=\"click\";a.MARKER_MOVE=\"marker_move\";a.BUBBLE_OPEN=\"bubble_open\";a.TRASHCAN_OPEN=\"trashcan_open\";a.TOOLBOX_ITEM_SELECT=\"toolbox_item_select\";a.THEME_CHANGE=\n\"theme_change\";a.VIEWPORT_CHANGE=\"viewport_change\";a.COMMENT_CREATE=\"comment_create\";a.COMMENT_DELETE=\"comment_delete\";a.COMMENT_CHANGE=\"comment_change\";a.COMMENT_MOVE=\"comment_move\";a.COMMENT_RESIZE=\"comment_resize\";a.COMMENT_DRAG=\"comment_drag\";a.COMMENT_COLLAPSE=\"comment_collapse\";a.FINISHED_LOADING=\"finished_loading\"})(EventType$$module$build$src$core$events$type||(EventType$$module$build$src$core$events$type={}));\nvar BUMP_EVENTS$$module$build$src$core$events$type=[EventType$$module$build$src$core$events$type.BLOCK_CREATE,EventType$$module$build$src$core$events$type.BLOCK_MOVE,EventType$$module$build$src$core$events$type.COMMENT_CREATE,EventType$$module$build$src$core$events$type.COMMENT_MOVE],module$build$src$core$events$type={BUMP_EVENTS:BUMP_EVENTS$$module$build$src$core$events$type};module$build$src$core$events$type.EventType=EventType$$module$build$src$core$events$type;var soup$$module$build$src$core$utils$idgenerator=\"!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",internal$$module$build$src$core$utils$idgenerator={genUid:()=>{const a=soup$$module$build$src$core$utils$idgenerator.length,b=[];for(let c=0;c<20;c++)b[c]=soup$$module$build$src$core$utils$idgenerator.charAt(Math.random()*a);return b.join(\"\")}},TEST_ONLY$$module$build$src$core$utils$idgenerator=internal$$module$build$src$core$utils$idgenerator,nextId$$module$build$src$core$utils$idgenerator=\n0,module$build$src$core$utils$idgenerator={TEST_ONLY:internal$$module$build$src$core$utils$idgenerator};module$build$src$core$utils$idgenerator.genUid=genUid$$module$build$src$core$utils$idgenerator;module$build$src$core$utils$idgenerator.getNextUniqueId=getNextUniqueId$$module$build$src$core$utils$idgenerator;var module$build$src$core$events$predicates={};module$build$src$core$events$predicates.isBlockChange=isBlockChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockCreate=isBlockCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockDelete=isBlockDelete$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockDrag=isBlockDrag$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isBlockFieldIntermediateChange=isBlockFieldIntermediateChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBlockMove=isBlockMove$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isBubbleOpen=isBubbleOpen$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isClick=isClick$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isCommentChange=isCommentChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentCollapse=isCommentCollapse$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentCreate=isCommentCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentDelete=isCommentDelete$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isCommentDrag=isCommentDrag$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentMove=isCommentMove$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isCommentResize=isCommentResize$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isFinishedLoading=isFinishedLoading$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isSelected=isSelected$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isThemeChange=isThemeChange$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isToolboxItemSelect=isToolboxItemSelect$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isTrashcanOpen=isTrashcanOpen$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isVarCreate=isVarCreate$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isVarDelete=isVarDelete$$module$build$src$core$events$predicates;\nmodule$build$src$core$events$predicates.isVarRename=isVarRename$$module$build$src$core$events$predicates;module$build$src$core$events$predicates.isViewportChange=isViewportChange$$module$build$src$core$events$predicates;var group$$module$build$src$core$events$utils=\"\",recordUndo$$module$build$src$core$events$utils=!0,disabled$$module$build$src$core$events$utils=0,ORPHANED_BLOCK_DISABLED_REASON$$module$build$src$core$events$utils=\"ORPHANED_BLOCK\",FIRE_QUEUE$$module$build$src$core$events$utils=[],TEST_ONLY$$module$build$src$core$events$utils={FIRE_QUEUE:FIRE_QUEUE$$module$build$src$core$events$utils,enqueueEvent:enqueueEvent$$module$build$src$core$events$utils,fireNow:fireNow$$module$build$src$core$events$utils,fireInternal:fireInternal$$module$build$src$core$events$utils,\nsetGroupInternal:setGroupInternal$$module$build$src$core$events$utils},module$build$src$core$events$utils={TEST_ONLY:TEST_ONLY$$module$build$src$core$events$utils};module$build$src$core$events$utils.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$utils.disableOrphans=disableOrphans$$module$build$src$core$events$utils;\nmodule$build$src$core$events$utils.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$utils.filter=filter$$module$build$src$core$events$utils;module$build$src$core$events$utils.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$utils.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$utils.get=get$$module$build$src$core$events$utils;module$build$src$core$events$utils.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;\nmodule$build$src$core$events$utils.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$utils.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.setRecordUndo=$.setRecordUndo$$module$build$src$core$events$utils;var SVG_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/2000/svg\",HTML_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/1999/xhtml\",XLINK_NS$$module$build$src$core$utils$dom=\"http://www.w3.org/1999/xlink\",NodeType$$module$build$src$core$utils$dom;(function(a){a[a.ELEMENT_NODE=1]=\"ELEMENT_NODE\";a[a.TEXT_NODE=3]=\"TEXT_NODE\";a[a.COMMENT_NODE=8]=\"COMMENT_NODE\"})(NodeType$$module$build$src$core$utils$dom||(NodeType$$module$build$src$core$utils$dom={}));\nvar cacheWidths$$module$build$src$core$utils$dom=null,cacheReference$$module$build$src$core$utils$dom=0,canvasContext$$module$build$src$core$utils$dom=null,module$build$src$core$utils$dom={HTML_NS:HTML_NS$$module$build$src$core$utils$dom};module$build$src$core$utils$dom.NodeType=NodeType$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.SVG_NS=SVG_NS$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.XLINK_NS=XLINK_NS$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.addClass=addClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.createSvgElement=createSvgElement$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidth=getFastTextWidth$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidthWithSizeString=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getTextWidth=getTextWidth$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.hasClass=hasClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.insertAfter=insertAfter$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.measureFontMetrics=measureFontMetrics$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClass=removeClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClasses=removeClasses$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeNode=removeNode$$module$build$src$core$utils$dom;\nmodule$build$src$core$utils$dom.setCssTransform=setCssTransform$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.startTextWidthCache=startTextWidthCache$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.stopTextWidthCache=stopTextWidthCache$$module$build$src$core$utils$dom;var FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser=class{static findFocusedNode(a){var b=a.getRootFocusableNode();if(!b.canBeFocused())return null;var c=b.getFocusableElement();if(hasClass$$module$build$src$core$utils$dom(c,FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME)||hasClass$$module$build$src$core$utils$dom(c,FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME))return b;\nb=c.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR);if(b instanceof HTMLElement||b instanceof SVGElement)if(b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(b,a))return b;c=c.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR);if(c instanceof HTMLElement||c instanceof SVGElement)if(a=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(c,a))return a;return null}static findFocusableNodeFor(a,b){if(!a.id||\na.id===\"null\"||b.getNestedTrees().map(e=>FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(a,e)).findIndex(e=>!!e)!==-1)return null;var c=b.getRootFocusableNode();if(c.canBeFocused()&&a===c.getFocusableElement())return c;var d;if(c=(d=b.lookUpFocusableNode(a.id))!=null?d:null)return c;d=a.parentElement;return!c&&d?FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(d,b):null}};\nFocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME=\"blocklyActiveFocus\";FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME=\"blocklyPassiveFocus\";FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.ACTIVE_CLASS_NAME}`;\nFocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.PASSIVE_CSS_CLASS_NAME}`;var module$build$src$core$utils$focusable_tree_traverser={};module$build$src$core$utils$focusable_tree_traverser.FocusableTreeTraverser=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser;var TreeRegistration$$module$build$src$core$focus_manager=class{constructor(a,b){this.tree=a;this.rootShouldBeAutoTabbable=b}},FocusManager$$module$build$src$core$focus_manager=class{constructor(a){this.previouslyFocusedNode=this.focusedNode=null;this.registeredTrees=[];this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const b=c=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!c;var d=null;if(c instanceof HTMLElement||\nc instanceof SVGElement)for(var e of this.registeredTrees)if(d=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(c,e.tree))break;if(d&&d.canBeFocused()){c=d.getFocusableTree();let f;e=(f=this.focusedNode)==null?void 0:f.getFocusableTree();d===c.getRootFocusableNode()&&c!==e?this.focusTree(c):this.focusNode(d)}else this.defocusCurrentFocusedNode()}};a(\"focusin\",c=>{c instanceof FocusEvent&&b(document.activeElement)});a(\"focusout\",c=>{c instanceof FocusEvent&&\nb(c.relatedTarget)})}registerTree(a,b=!1){this.ensureManagerIsUnlocked();if(this.isRegistered(a))throw Error(`Attempted to re-register already registered tree: ${a}.`);this.registeredTrees.push(new TreeRegistration$$module$build$src$core$focus_manager(a,b));const c=a.getRootFocusableNode().getFocusableElement();if(!c.id||c.id===\"null\")throw Error(\"Attempting to register a tree with a root element that has an \"+`invalid ID: ${a}.`);b&&(c.tabIndex=0)}isRegistered(a){return!!this.lookUpRegistration(a)}lookUpRegistration(a){let b;\nreturn(b=this.registeredTrees.find(c=>c.tree===a))!=null?b:null}unregisterTree(a){this.ensureManagerIsUnlocked();if(!this.isRegistered(a))throw Error(`Attempted to unregister not registered tree: ${a}.`);var b=this.registeredTrees.findIndex(e=>e.tree===a);const c=this.registeredTrees[b];this.registeredTrees.splice(b,1);b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(a);const d=a.getRootFocusableNode();b&&this.removeHighlight(b);this.focusedNode!==b&&\nthis.focusedNode!==d||this.updateFocusedNode(null);this.removeHighlight(d);c.rootShouldBeAutoTabbable&&a.getRootFocusableNode().getFocusableElement().removeAttribute(\"tabindex\")}getFocusedTree(){let a,b;return(b=(a=this.focusedNode)==null?void 0:a.getFocusableTree())!=null?b:null}getFocusedNode(){return this.focusedNode}focusTree(a){this.ensureManagerIsUnlocked();if(!this.isRegistered(a))throw Error(`Attempted to focus unregistered tree: ${a}.`);const b=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(a),\nc=a.getRestoredFocusableNode(b);a=a.getRootFocusableNode();let d;this.focusNode((d=c!=null?c:b)!=null?d:a)}focusNode(a){this.ensureManagerIsUnlocked();const b=!this.currentlyHoldsEphemeralFocus;b&&(this.isUpdatingFocusedNode=!0);var c,d=((c=this.focusedNode)==null?void 0:c.getFocusableElement())!==document.activeElement;if(this.focusedNode!==a||d)if(a.canBeFocused()){c=a.getFocusableTree();if(!this.isRegistered(c))throw Error(`Attempted to focus unregistered node: ${a}.`);d=a.getFocusableElement();\nd.id&&d.id!==\"null\"||console.warn(\"Trying to focus a node that has an invalid ID.\");var e=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusableNodeFor(d,c);d=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser.findFocusedNode(c);var f=a;if(e!==a){f=c.getRestoredFocusableNode(d);a=c.getRootFocusableNode();var g;f=(g=f!=null?f:d)!=null?g:a}a=this.focusedNode;g=a==null?void 0:a.getFocusableTree();a&&this.passivelyFocusNode(a,c);c=c.getRootFocusableNode();\nd&&this.removeHighlight(d);c!==f&&this.removeHighlight(c);this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(f,g!=null?g:null);this.updateFocusedNode(f)}else console.warn(\"Trying to focus a node that can't be focused.\");b&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(a){this.ensureManagerIsUnlocked();if(this.currentlyHoldsEphemeralFocus)throw Error(\"Attempted to take ephemeral focus when it's already held, \"+`with new element: ${a}.`);this.currentlyHoldsEphemeralFocus=!0;this.focusedNode&&\nthis.passivelyFocusNode(this.focusedNode,null);a.focus({preventScroll:!0});let b=!1;return()=>{if(b)throw Error(\"Attempted to finish ephemeral focus twice for element: \"+`${a}.`);b=!0;this.currentlyHoldsEphemeralFocus=!1;if(this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const c=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===c&&this.recentlyLostAllFocus&&this.focusNode(c)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error(\"FocusManager state changes cannot happen in a tree/node focus/blur callback.\");\n}updateFocusedNode(a){this.previouslyFocusedNode=this.focusedNode;this.focusedNode=a}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(a,b){this.lockFocusStateChanges=!0;const c=a.getFocusableTree(),d=a.getFocusableElement();let e;const f=(e=this.lookUpRegistration(c))==null?void 0:e.rootShouldBeAutoTabbable;c!==b&&(c.onTreeFocus(a,b),f&&(c.getRootFocusableNode().getFocusableElement().tabIndex=\n-1));a.onNodeFocus();this.lockFocusStateChanges=!1;f&&a===c.getRootFocusableNode()||d.hasAttribute(\"tabindex\")||(d.tabIndex=-1);this.setNodeToVisualActiveFocus(a);d.focus({preventScroll:!0})}passivelyFocusNode(a,b){this.lockFocusStateChanges=!0;const c=a.getFocusableTree();if(c!==b){c.onTreeBlur(b);let d;if((d=this.lookUpRegistration(c))==null?0:d.rootShouldBeAutoTabbable)c.getRootFocusableNode().getFocusableElement().tabIndex=0}a.onNodeBlur();this.lockFocusStateChanges=!1;c!==b&&this.setNodeToVisualPassiveFocus(a)}setNodeToVisualActiveFocus(a){a=\na.getFocusableElement();addClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(a){a=a.getFocusableElement();removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);addClass$$module$build$src$core$utils$dom(a,\nFocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(a){a=a.getFocusableElement();removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME);removeClass$$module$build$src$core$utils$dom(a,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){FocusManager$$module$build$src$core$focus_manager.focusManager||(FocusManager$$module$build$src$core$focus_manager.focusManager=\nnew FocusManager$$module$build$src$core$focus_manager(document.addEventListener));return FocusManager$$module$build$src$core$focus_manager.focusManager}};FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME=\"blocklyActiveFocus\";FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME=\"blocklyPassiveFocus\";FocusManager$$module$build$src$core$focus_manager.focusManager=null;var module$build$src$core$focus_manager={};\nmodule$build$src$core$focus_manager.FocusManager=FocusManager$$module$build$src$core$focus_manager;module$build$src$core$focus_manager.getFocusManager=$.getFocusManager$$module$build$src$core$focus_manager;var module$build$src$core$interfaces$i_focusable_node={};module$build$src$core$interfaces$i_focusable_node.isFocusableNode=isFocusableNode$$module$build$src$core$interfaces$i_focusable_node;var module$build$src$core$interfaces$i_selectable={};module$build$src$core$interfaces$i_selectable.isSelectable=isSelectable$$module$build$src$core$interfaces$i_selectable;var module$build$src$core$utils$object={};module$build$src$core$utils$object.deepMerge=deepMerge$$module$build$src$core$utils$object;var ShortcutRegistry$$module$build$src$core$shortcut_registry=class{constructor(){this.shortcuts=new Map;this.keyMap=new Map;this.reset()}reset(){this.shortcuts.clear();this.keyMap.clear()}register(a,b){if(this.shortcuts.get(a.name)&&!b)throw Error(`Shortcut named \"${a.name}\" already exists.`);this.shortcuts.set(a.name,a);b=a.keyCodes;if(b==null?0:b.length)for(const c of b)this.addKeyMapping(c,a.name,!!a.allowCollision)}unregister(a){if(!this.shortcuts.get(a))return console.warn(`Keyboard shortcut named \"${a}\" not found.`),\n!1;this.removeAllKeyMappings(a);this.shortcuts.delete(a);return!0}addKeyMapping(a,b,c){a=`${a}`;const d=this.keyMap.get(a);if(d&&!c)throw Error(`Shortcut named \"${b}\" collides with shortcuts \"${d}\"`);d&&c?d.unshift(b):this.keyMap.set(a,[b])}removeKeyMapping(a,b,c){const d=this.keyMap.get(a);if(!d)return c||console.warn(`No keyboard shortcut named \"${b}\" registered with key code \"${a}\"`),!1;const e=d.indexOf(b);if(e>-1)return d.splice(e,1),d.length===0&&this.keyMap.delete(a),!0;c||console.warn(`No keyboard shortcut named \"${b}\" registered with key code \"${a}\"`);\nreturn!1}removeAllKeyMappings(a){for(const b of this.keyMap.keys())this.removeKeyMapping(b,a,!0)}setKeyMap(a){this.keyMap.clear();for(const b in a)this.keyMap.set(b,a[b])}getKeyMap(){const a=Object.create(null);for(const [b,c]of this.keyMap)a[b]=c;return a}getRegistry(){const a=Object.create(null);for(const [b,c]of this.shortcuts)a[b]=c;return deepMerge$$module$build$src$core$utils$object(Object.create(null),a)}onKeyDown(a,b){var c=this.serializeKeyEvent(b);c=this.getShortcutNamesByKeyCode(c);if(!c)return!1;\nfor(const d of c){c=this.shortcuts.get(d);let e;if(!c||c.preconditionFn&&!c.preconditionFn(a,{focusedNode:(e=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?e:void 0}))continue;let f,g,h;if((g=(f=c).callback)==null?0:g.call(f,a,b,c,{focusedNode:(h=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?h:void 0}))return!0}return!1}getShortcutNamesByKeyCode(a){let b;return((b=this.keyMap.get(a))==null?void 0:b.slice())||[]}getKeyCodesByShortcutName(a){const b=\n[];for(const [c,d]of this.keyMap)d.indexOf(a)>-1&&b.push(c);return b}serializeKeyEvent(a){let b=\"\";for(const c in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)a.getModifierState(c)&&(b!==\"\"&&(b+=\"+\"),b+=c);b!==\"\"&&a.keyCode?b+=\"+\"+a.keyCode:a.keyCode&&(b=String(a.keyCode));return b}checkModifiers(a){for(const b of a)if(!(b in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys))throw Error(b+\" is not a valid modifier key.\");}createSerializedKey(a,b){let c=\n\"\";if(b){this.checkModifiers(b);for(const d in ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)b.includes(ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys[d])&&(c!==\"\"&&(c+=\"+\"),c+=d)}c!==\"\"&&a?c+=\"+\"+a:a&&(c=`${a}`);return c}};ShortcutRegistry$$module$build$src$core$shortcut_registry.registry=new ShortcutRegistry$$module$build$src$core$shortcut_registry;\n(function(a){a=a.modifierKeys||(a.modifierKeys={});a[a.Shift=16]=\"Shift\";a[a.Control=17]=\"Control\";a[a.Alt=18]=\"Alt\";a[a.Meta=91]=\"Meta\"})(ShortcutRegistry$$module$build$src$core$shortcut_registry||(ShortcutRegistry$$module$build$src$core$shortcut_registry={}));var module$build$src$core$shortcut_registry={};module$build$src$core$shortcut_registry.ShortcutRegistry=ShortcutRegistry$$module$build$src$core$shortcut_registry;var WorkspaceDB_$$module$build$src$core$common=Object.create(null),mainWorkspace$$module$build$src$core$common,parentContainer$$module$build$src$core$common,draggingConnections$$module$build$src$core$common=[],TEST_ONLY$$module$build$src$core$common={defineBlocksWithJsonArrayInternal:defineBlocksWithJsonArrayInternal$$module$build$src$core$common},module$build$src$core$common={TEST_ONLY:TEST_ONLY$$module$build$src$core$common};module$build$src$core$common.createBlockDefinitionsFromJsonArray=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common;\nmodule$build$src$core$common.defineBlocks=$.defineBlocks$$module$build$src$core$common;module$build$src$core$common.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;module$build$src$core$common.draggingConnections=draggingConnections$$module$build$src$core$common;module$build$src$core$common.fireSelectedEvent=fireSelectedEvent$$module$build$src$core$common;module$build$src$core$common.getAllWorkspaces=getAllWorkspaces$$module$build$src$core$common;\nmodule$build$src$core$common.getBlockTypeCounts=getBlockTypeCounts$$module$build$src$core$common;module$build$src$core$common.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;module$build$src$core$common.getParentContainer=getParentContainer$$module$build$src$core$common;module$build$src$core$common.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$common.getWorkspaceById=getWorkspaceById$$module$build$src$core$common;\nmodule$build$src$core$common.globalShortcutHandler=globalShortcutHandler$$module$build$src$core$common;module$build$src$core$common.registerWorkspace=registerWorkspace$$module$build$src$core$common;module$build$src$core$common.setMainWorkspace=setMainWorkspace$$module$build$src$core$common;module$build$src$core$common.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$common.setSelected=setSelected$$module$build$src$core$common;\nmodule$build$src$core$common.svgResize=svgResize$$module$build$src$core$common;module$build$src$core$common.unregisterWorkpace=unregisterWorkpace$$module$build$src$core$common;var Abstract$$module$build$src$core$events$events_abstract=class{constructor(){this.workspaceId=void 0;this.isUiEvent=!1;this.type=\"\";this.group=$.getGroup$$module$build$src$core$events$utils();this.recordUndo=getRecordUndo$$module$build$src$core$events$utils()}toJson(){return{type:this.type,group:this.group}}static fromJson(a,b,c){c.isBlank=!1;c.group=a.group||\"\";c.workspaceId=b.id;return c}isNull(){return!1}run(a){}getEventWorkspace_(){let a;this.workspaceId&&(a=getWorkspaceById$$module$build$src$core$common(this.workspaceId));\nif(!a)throw Error(\"Workspace is null. Event must have been generated from real Blockly events.\");return a}},module$build$src$core$events$events_abstract={};module$build$src$core$events$events_abstract.Abstract=Abstract$$module$build$src$core$events$events_abstract;var UiBase$$module$build$src$core$events$events_ui_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.recordUndo=!1;this.isUiEvent=!0;this.isBlank=typeof a===\"undefined\";this.workspaceId=a?a:\"\"}},module$build$src$core$events$events_ui_base={};module$build$src$core$events$events_ui_base.UiBase=UiBase$$module$build$src$core$events$events_ui_base;var Click$$module$build$src$core$events$events_click=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){b=a?a.workspace.id:b;b===null&&(b=void 0);super(b);this.type=EventType$$module$build$src$core$events$type.CLICK;this.blockId=a?a.id:void 0;this.targetType=c}toJson(){const a=super.toJson();if(!this.targetType)throw Error(\"The click target type is undefined. Either pass a block to the constructor, or call fromJson\");a.targetType=this.targetType;a.blockId=this.blockId;\nreturn a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new Click$$module$build$src$core$events$events_click);b.targetType=a.targetType;b.blockId=a.blockId;return b}},ClickTarget$$module$build$src$core$events$events_click;(function(a){a.BLOCK=\"block\";a.WORKSPACE=\"workspace\";a.ZOOM_CONTROLS=\"zoom_controls\"})(ClickTarget$$module$build$src$core$events$events_click||(ClickTarget$$module$build$src$core$events$events_click={}));\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.CLICK,Click$$module$build$src$core$events$events_click);var module$build$src$core$events$events_click={};module$build$src$core$events$events_click.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events_click.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;var module$build$src$core$utils$array={};module$build$src$core$utils$array.removeElem=removeElem$$module$build$src$core$utils$array;var Capability$$module$build$src$core$component_manager=class{constructor(a){this.name=a}toString(){return this.name}};Capability$$module$build$src$core$component_manager.POSITIONABLE=new Capability$$module$build$src$core$component_manager(\"positionable\");Capability$$module$build$src$core$component_manager.DRAG_TARGET=new Capability$$module$build$src$core$component_manager(\"drag_target\");Capability$$module$build$src$core$component_manager.DELETE_AREA=new Capability$$module$build$src$core$component_manager(\"delete_area\");\nCapability$$module$build$src$core$component_manager.AUTOHIDEABLE=new Capability$$module$build$src$core$component_manager(\"autohideable\");\nvar ComponentManager$$module$build$src$core$component_manager=class{constructor(){this.componentData=new Map;this.capabilityToComponentIds=new Map}addComponent(a,b){const c=a.component.id;if(!b&&this.componentData.has(c)){var d;throw Error('Plugin \"'+c+'\" with capabilities \"'+((d=this.componentData.get(c))==null?void 0:d.capabilities)+'\" already added.');}this.componentData.set(c,a);b=[];for(d=0;d<a.capabilities.length;d++){const e=String(a.capabilities[d]).toLowerCase();b.push(e);if(this.capabilityToComponentIds.has(e)){let f;\n(f=this.capabilityToComponentIds.get(e))==null||f.push(c)}else this.capabilityToComponentIds.set(e,[c])}this.componentData.get(c).capabilities=b}removeComponent(a){const b=this.componentData.get(a);if(b){for(let c=0;c<b.capabilities.length;c++){const d=String(b.capabilities[c]).toLowerCase();removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(d),a)}this.componentData.delete(a)}}addCapability(a,b){if(!this.getComponent(a))throw Error('Cannot add capability, \"'+b+'\". Plugin \"'+\na+'\" has not been added to the ComponentManager');if(this.hasCapability(a,b))console.warn('Plugin \"'+a+'already has capability \"'+b+'\"');else{b=`${b}`.toLowerCase();var c;(c=this.componentData.get(a))==null||c.capabilities.push(b);var d;(d=this.capabilityToComponentIds.get(b))==null||d.push(a)}}removeCapability(a,b){if(!this.getComponent(a))throw Error('Cannot remove capability, \"'+b+'\". Plugin \"'+a+'\" has not been added to the ComponentManager');this.hasCapability(a,b)?(b=`${b}`.toLowerCase(),removeElem$$module$build$src$core$utils$array(this.componentData.get(a).capabilities,\nb),removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(b),a)):console.warn('Plugin \"'+a+\"doesn't have capability \\\"\"+b+'\" to remove')}hasCapability(a,b){b=`${b}`.toLowerCase();return this.componentData.has(a)&&this.componentData.get(a).capabilities.includes(b)}getComponent(a){let b;return(b=this.componentData.get(a))==null?void 0:b.component}getComponents(a,b){a=`${a}`.toLowerCase();a=this.capabilityToComponentIds.get(a);if(!a)return[];const c=[];if(b){const d=[];a.forEach(e=>\n{d.push(this.componentData.get(e))});d.sort(function(e,f){return e.weight-f.weight});d.forEach(function(e){c.push(e.component)})}else a.forEach(d=>{c.push(this.componentData.get(d).component)});return c}};ComponentManager$$module$build$src$core$component_manager.Capability=Capability$$module$build$src$core$component_manager;\n(function(a){a=a.ComponentWeight||(a.ComponentWeight={});a[a.TOOLBOX_WEIGHT=0]=\"TOOLBOX_WEIGHT\";a[a.FLYOUT_WEIGHT=1]=\"FLYOUT_WEIGHT\";a[a.TRASHCAN_WEIGHT=2]=\"TRASHCAN_WEIGHT\";a[a.ZOOM_CONTROLS_WEIGHT=3]=\"ZOOM_CONTROLS_WEIGHT\"})(ComponentManager$$module$build$src$core$component_manager||(ComponentManager$$module$build$src$core$component_manager={}));\nvar ComponentWeight$$module$build$src$core$component_manager=ComponentManager$$module$build$src$core$component_manager.ComponentWeight,module$build$src$core$component_manager={};module$build$src$core$component_manager.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$component_manager.ComponentWeight=ComponentWeight$$module$build$src$core$component_manager;var injected$$module$build$src$core$css=!1,content$$module$build$src$core$css='\\n.blocklySvg {\\n  background-color: #fff;\\n  outline: none;\\n  overflow: hidden;  /* IE overflows by default. */\\n  position: absolute;\\n  display: block;\\n}\\n\\n.blocklyWidgetDiv {\\n  display: none;\\n  position: absolute;\\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\\n}\\n\\n.injectionDiv {\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\\n  touch-action: none;\\n  user-select: none;\\n  -webkit-user-select: none;\\n}\\n\\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\\n  transition: transform .5s;\\n}\\n\\n.blocklyEmboss {\\n  filter: var(--blocklyEmbossFilter);\\n}\\n\\n.blocklyTooltipDiv {\\n  background-color: #ffffc7;\\n  border: 1px solid #ddc;\\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\\n  color: #000;\\n  display: none;\\n  font: 9pt sans-serif;\\n  opacity: .9;\\n  padding: 2px;\\n  position: absolute;\\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\\n}\\n\\n.blocklyDropDownDiv {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1000;\\n  display: none;\\n  border: 1px solid;\\n  border-color: #dadce0;\\n  background-color: #fff;\\n  border-radius: 2px;\\n  padding: 4px;\\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownDiv:focus {\\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownContent {\\n  max-height: 300px;  /* @todo: spec for maximum height. */\\n}\\n\\n.blocklyDropDownArrow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 16px;\\n  height: 16px;\\n  z-index: -1;\\n  background-color: inherit;\\n  border-color: inherit;\\n  border-top: 1px solid;\\n  border-left: 1px solid;\\n  border-top-left-radius: 4px;\\n  border-color: inherit;\\n}\\n\\n.blocklyHighlighted>.blocklyPath {\\n  filter: var(--blocklyEmbossFilter);\\n}\\n\\n.blocklyHighlightedConnectionPath {\\n  fill: none;\\n  stroke: #fc3;\\n  stroke-width: 4px;\\n}\\n\\n.blocklyPathLight {\\n  fill: none;\\n  stroke-linecap: round;\\n  stroke-width: 1;\\n}\\n\\n.blocklySelected>.blocklyPathLight {\\n  display: none;\\n}\\n\\n.blocklyDraggable {\\n  cursor: grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.blocklyDragging {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n  /* Drag surface disables events to not block the toolbox, so we have to\\n   * reenable them here for the cursor values to work. */\\n  pointer-events: auto;\\n}\\n\\n  /* Changes cursor on mouse down. Not effective in Firefox because of\\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\\n.blocklyDraggable:active {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n.blocklyDragging.blocklyDraggingDelete,\\n.blocklyDragging.blocklyDraggingDelete .blocklyField {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyDragging>.blocklyPath,\\n.blocklyDragging>.blocklyPathLight {\\n  fill-opacity: .8;\\n  stroke-opacity: .8;\\n}\\n\\n.blocklyDragging>.blocklyPathDark {\\n  display: none;\\n}\\n\\n.blocklyDisabledPattern>.blocklyPath {\\n  fill: var(--blocklyDisabledPattern);\\n  fill-opacity: .5;\\n  stroke-opacity: .5;\\n}\\n\\n.blocklyDisabled>.blocklyPathLight,\\n.blocklyDisabled>.blocklyPathDark {\\n  display: none;\\n}\\n\\n.blocklyInsertionMarker>.blocklyPath,\\n.blocklyInsertionMarker>.blocklyPathLight,\\n.blocklyInsertionMarker>.blocklyPathDark {\\n  fill-opacity: .2;\\n  stroke: none;\\n}\\n\\n.blocklyNonEditableField>text {\\n  pointer-events: none;\\n}\\n\\n.blocklyFlyout {\\n  position: absolute;\\n  z-index: 20;\\n}\\n\\n.blocklyText text {\\n  cursor: default;\\n}\\n\\n/*\\n  Don\\'t allow users to select text.  It gets annoying when trying to\\n  drag a block and selected text moves instead.\\n*/\\n.blocklySvg text {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  cursor: inherit;\\n}\\n\\n.blocklyIconGroup {\\n  cursor: default;\\n}\\n\\n.blocklyIconGroup:not(:hover):not(:focus),\\n.blocklyIconGroupReadonly {\\n  opacity: .6;\\n}\\n\\n.blocklyIconShape {\\n  fill: #00f;\\n  stroke: #fff;\\n  stroke-width: 1px;\\n}\\n\\n.blocklyIconSymbol {\\n  fill: #fff;\\n}\\n\\n.blocklyMinimalBody {\\n  margin: 0;\\n  padding: 0;\\n  height: 100%;\\n}\\n\\n.blocklyHtmlInput {\\n  border: none;\\n  border-radius: 4px;\\n  height: 100%;\\n  margin: 0;\\n  outline: none;\\n  padding: 0;\\n  width: 100%;\\n  text-align: center;\\n  display: block;\\n  box-sizing: border-box;\\n}\\n\\n/* Remove the increase and decrease arrows on the field number editor */\\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n\\ninput[type=number] {\\n  -moz-appearance: textfield;\\n}\\n\\n.blocklyMainBackground {\\n  stroke-width: 1;\\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\\n}\\n\\n.blocklyMutatorBackground {\\n  fill: #fff;\\n  stroke: #ddd;\\n  stroke-width: 1;\\n}\\n\\n.blocklyFlyoutBackground {\\n  fill: #ddd;\\n  fill-opacity: .8;\\n}\\n\\n.blocklyMainWorkspaceScrollbar {\\n  z-index: 20;\\n}\\n\\n.blocklyFlyoutScrollbar {\\n  z-index: 30;\\n}\\n\\n.blocklyScrollbarHorizontal,\\n.blocklyScrollbarVertical {\\n  position: absolute;\\n  outline: none;\\n}\\n\\n.blocklyScrollbarBackground {\\n  opacity: 0;\\n  pointer-events: none;\\n}\\n\\n.blocklyScrollbarHandle {\\n  fill: #ccc;\\n}\\n\\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\\n.blocklyScrollbarHandle:hover {\\n  fill: #bbb;\\n}\\n\\n/* Darken flyout scrollbars due to being on a grey background. */\\n/* By contrast, workspace scrollbars are on a white background. */\\n.blocklyFlyout .blocklyScrollbarHandle {\\n  fill: #bbb;\\n}\\n\\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\\n.blocklyFlyout .blocklyScrollbarHandle:hover {\\n  fill: #aaa;\\n}\\n\\n.blocklyInvalidInput {\\n  background: #faa;\\n}\\n\\n.blocklyVerticalMarker {\\n  stroke-width: 3px;\\n  fill: rgba(255,255,255,.5);\\n  pointer-events: none;\\n}\\n\\n.blocklyComputeCanvas {\\n  position: absolute;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.blocklyNoPointerEvents {\\n  pointer-events: none;\\n}\\n\\n.blocklyContextMenu {\\n  border-radius: 4px;\\n  max-height: 100%;\\n}\\n\\n.blocklyDropdownMenu {\\n  border-radius: 2px;\\n  padding: 0 !important;\\n}\\n\\n.blocklyDropdownMenu .blocklyMenuItem {\\n  /* 28px on the left for icon or checkbox. */\\n  padding-left: 28px;\\n}\\n\\n/* BiDi override for the resting state. */\\n.blocklyDropdownMenu .blocklyMenuItemRtl {\\n  /* Flip left/right padding for BiDi. */\\n  padding-left: 5px;\\n  padding-right: 28px;\\n}\\n\\n.blocklyWidgetDiv .blocklyMenu {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background: #fff;\\n  border: 1px solid transparent;\\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\\n  font: normal 13px Arial, sans-serif;\\n  margin: 0;\\n  outline: none;\\n  padding: 4px 0;\\n  position: absolute;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 100%;\\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\\n}\\n\\n.blocklyWidgetDiv .blocklyMenu:focus {\\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\\n}\\n\\n.blocklyDropDownDiv .blocklyMenu {\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\\n  font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;\\n  outline: none;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  max-height: 100%;\\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\\n}\\n\\n/* State: resting. */\\n.blocklyMenuItem {\\n  border: none;\\n  color: #000;\\n  cursor: pointer;\\n  list-style: none;\\n  margin: 0;\\n  /* 7em on the right for shortcut. */\\n  min-width: 7em;\\n  padding: 6px 15px;\\n  white-space: nowrap;\\n}\\n\\n/* State: disabled. */\\n.blocklyMenuItemDisabled {\\n  color: #ccc;\\n  cursor: inherit;\\n}\\n\\n/* State: hover. */\\n.blocklyMenuItemHighlight {\\n  background-color: rgba(0,0,0,.1);\\n}\\n\\n/* State: selected/checked. */\\n.blocklyMenuItemCheckbox {\\n  height: 16px;\\n  position: absolute;\\n  width: 16px;\\n}\\n\\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\\n  float: left;\\n  margin-left: -24px;\\n  position: static;  /* Scroll with the menu. */\\n}\\n\\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\\n  float: right;\\n  margin-right: -24px;\\n}\\n\\n.blocklyMenuSeparator {\\n  background-color: #ccc;\\n  height: 1px;\\n  border: 0;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n.blocklyBlockDragSurface, .blocklyAnimationLayer {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: visible !important;\\n  z-index: 80;\\n  pointer-events: none;\\n}\\n\\n.blocklyField {\\n  cursor: default;\\n}\\n\\n.blocklyInputField {\\n  cursor: text;\\n}\\n\\n.blocklyDragging .blocklyField,\\n.blocklyDragging .blocklyIconGroup {\\n  cursor: grabbing;\\n}\\n\\n.blocklyActiveFocus:is(\\n  .blocklyFlyout,\\n  .blocklyWorkspace,\\n  .blocklyField,\\n  .blocklyPath,\\n  .blocklyHighlightedConnectionPath,\\n  .blocklyComment,\\n  .blocklyBubble,\\n  .blocklyIconGroup,\\n  .blocklyTextarea\\n) {\\n  outline: none;\\n}\\n',\nmodule$build$src$core$css={};module$build$src$core$css.inject=inject$$module$build$src$core$css;module$build$src$core$css.register=register$$module$build$src$core$css;var Coordinate$$module$build$src$core$utils$coordinate=class{constructor(a,b){this.x=a;this.y=b}clone(){return new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y)}scale(a){this.x*=a;this.y*=a;return this}translate(a,b){this.x+=a;this.y+=b;return this}static equals(a,b){return a===b?!0:a&&b?a.x===b.x&&a.y===b.y:!1}static distance(a,b){const c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}static magnitude(a){return Math.sqrt(a.x*a.x+a.y*a.y)}static difference(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x-\nb.x,a.y-b.y)}static sum(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x+b.x,a.y+b.y)}},module$build$src$core$utils$coordinate={};module$build$src$core$utils$coordinate.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;var Svg$$module$build$src$core$utils$svg=class{constructor(a){this.tagName=a}toString(){return this.tagName}};Svg$$module$build$src$core$utils$svg.ANIMATE=new Svg$$module$build$src$core$utils$svg(\"animate\");Svg$$module$build$src$core$utils$svg.CIRCLE=new Svg$$module$build$src$core$utils$svg(\"circle\");Svg$$module$build$src$core$utils$svg.CLIPPATH=new Svg$$module$build$src$core$utils$svg(\"clipPath\");Svg$$module$build$src$core$utils$svg.DEFS=new Svg$$module$build$src$core$utils$svg(\"defs\");\nSvg$$module$build$src$core$utils$svg.FECOMPOSITE=new Svg$$module$build$src$core$utils$svg(\"feComposite\");Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER=new Svg$$module$build$src$core$utils$svg(\"feComponentTransfer\");Svg$$module$build$src$core$utils$svg.FEFLOOD=new Svg$$module$build$src$core$utils$svg(\"feFlood\");Svg$$module$build$src$core$utils$svg.FEFUNCA=new Svg$$module$build$src$core$utils$svg(\"feFuncA\");Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR=new Svg$$module$build$src$core$utils$svg(\"feGaussianBlur\");\nSvg$$module$build$src$core$utils$svg.FEPOINTLIGHT=new Svg$$module$build$src$core$utils$svg(\"fePointLight\");Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING=new Svg$$module$build$src$core$utils$svg(\"feSpecularLighting\");Svg$$module$build$src$core$utils$svg.FILTER=new Svg$$module$build$src$core$utils$svg(\"filter\");Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT=new Svg$$module$build$src$core$utils$svg(\"foreignObject\");Svg$$module$build$src$core$utils$svg.G=new Svg$$module$build$src$core$utils$svg(\"g\");\nSvg$$module$build$src$core$utils$svg.IMAGE=new Svg$$module$build$src$core$utils$svg(\"image\");Svg$$module$build$src$core$utils$svg.LINE=new Svg$$module$build$src$core$utils$svg(\"line\");Svg$$module$build$src$core$utils$svg.PATH=new Svg$$module$build$src$core$utils$svg(\"path\");Svg$$module$build$src$core$utils$svg.PATTERN=new Svg$$module$build$src$core$utils$svg(\"pattern\");Svg$$module$build$src$core$utils$svg.POLYGON=new Svg$$module$build$src$core$utils$svg(\"polygon\");\nSvg$$module$build$src$core$utils$svg.RECT=new Svg$$module$build$src$core$utils$svg(\"rect\");Svg$$module$build$src$core$utils$svg.SVG=new Svg$$module$build$src$core$utils$svg(\"svg\");Svg$$module$build$src$core$utils$svg.TEXT=new Svg$$module$build$src$core$utils$svg(\"text\");Svg$$module$build$src$core$utils$svg.TSPAN=new Svg$$module$build$src$core$utils$svg(\"tspan\");var module$build$src$core$utils$svg={};module$build$src$core$utils$svg.Svg=Svg$$module$build$src$core$utils$svg;var Rect$$module$build$src$core$utils$rect=class{constructor(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}static from(a){return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}clone(){return new Rect$$module$build$src$core$utils$rect(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Coordinate$$module$build$src$core$utils$coordinate(this.left,this.top)}contains(a,\nb){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom}intersects(a){return this.left<=a.right&&this.right>=a.left&&this.bottom>=a.top&&this.top<=a.bottom}static equals(a,b){return a===b?!0:a&&b?a.top===b.top&&a.bottom===b.bottom&&a.left===b.left&&a.right===b.right:!1}static createFromPoint(a,b,c){const d=a.x;a=a.y;return new Rect$$module$build$src$core$utils$rect(a,a+c,d,d+b)}},module$build$src$core$utils$rect={};module$build$src$core$utils$rect.Rect=Rect$$module$build$src$core$utils$rect;var Size$$module$build$src$core$utils$size=class{constructor(a,b){this.width=a;this.height=b}static equals(a,b){return a===b?!0:a&&b?a.width===b.width&&a.height===b.height:!1}static max(a,b){return new Size$$module$build$src$core$utils$size(Math.max(a.width,b.width),Math.max(a.height,b.height))}static min(a,b){return new Size$$module$build$src$core$utils$size(Math.min(a.width,b.width),Math.min(a.height,b.height))}},module$build$src$core$utils$size={};module$build$src$core$utils$size.Size=Size$$module$build$src$core$utils$size;var TEST_ONLY$$module$build$src$core$utils$style={getSizeInternal:getSizeInternal$$module$build$src$core$utils$style},module$build$src$core$utils$style={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$style};module$build$src$core$utils$style.getBorderBox=getBorderBox$$module$build$src$core$utils$style;module$build$src$core$utils$style.getComputedStyle=getComputedStyle$$module$build$src$core$utils$style;module$build$src$core$utils$style.getContainerOffsetToScrollInto=getContainerOffsetToScrollInto$$module$build$src$core$utils$style;\nmodule$build$src$core$utils$style.getPageOffset=getPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.getSize=getSize$$module$build$src$core$utils$style;module$build$src$core$utils$style.getViewportPageOffset=getViewportPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.scrollIntoContainerView=scrollIntoContainerView$$module$build$src$core$utils$style;var XY_REGEX$$module$build$src$core$utils$svg_math=/translate\\(\\s*([-+\\d.e]+)([ ,]\\s*([-+\\d.e]+)\\s*)?/,XY_STYLE_REGEX$$module$build$src$core$utils$svg_math=/transform:\\s*translate(?:3d)?\\(\\s*([-+\\d.e]+)\\s*px([ ,]\\s*([-+\\d.e]+)\\s*px)?/,TEST_ONLY$$module$build$src$core$utils$svg_math={XY_REGEX:XY_REGEX$$module$build$src$core$utils$svg_math,XY_STYLE_REGEX:XY_STYLE_REGEX$$module$build$src$core$utils$svg_math},module$build$src$core$utils$svg_math={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$svg_math};\nmodule$build$src$core$utils$svg_math.getDocumentScroll=getDocumentScroll$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getInjectionDivXY=getInjectionDivXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getRelativeXY=getRelativeXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getViewportBBox=getViewportBBox$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.screenToWsCoordinates=screenToWsCoordinates$$module$build$src$core$utils$svg_math;\nmodule$build$src$core$utils$svg_math.wsToScreenCoordinates=wsToScreenCoordinates$$module$build$src$core$utils$svg_math;var Scrollbar$$module$build$src$core$scrollbar=class{constructor(a,b,c,d,e){this.workspace=a;this.horizontal=b;this.oldHostMetrics=null;this.ratio=1;this.origin=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0;this.containerVisible=this.isHandleVisible=!0;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null;this.pair=\nc||!1;this.margin=e!==void 0?e:Scrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN;a=\"blocklyScrollbar\"+(this.horizontal?\"Horizontal\":\"Vertical\");d&&(a+=\" \"+d);this.outerSvg=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{\"class\":a});d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.outerSvg);this.svgBackground=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":\"blocklyScrollbarBackground\"},d);a=Math.floor((Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-5)/2);this.svgHandle=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyScrollbarHandle\",rx:a,ry:a},d);this.workspace.getThemeManager().subscribe(this.svgHandle,\"scrollbarColour\",\"fill\");this.workspace.getThemeManager().subscribe(this.svgHandle,\"scrollbarOpacity\",\"fill-opacity\");insertAfter$$module$build$src$core$utils$dom(this.outerSvg,\nthis.workspace.getParentSvg());this.setInitialThickness();b?(this.lengthAttribute_=\"width\",this.positionAttribute_=\"x\"):(this.lengthAttribute_=\"height\",this.positionAttribute_=\"y\");this.onMouseDownBarWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgBackground,\"pointerdown\",this,this.onMouseDownBar);this.onMouseDownHandleWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgHandle,\"pointerdown\",this,this.onMouseDownHandle)}setInitialThickness(){const a=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;\nthis.horizontal?(this.svgBackground.setAttribute(\"height\",String(a)),this.outerSvg.setAttribute(\"height\",String(a)),this.svgHandle.setAttribute(\"height\",String(a-5)),this.svgHandle.setAttribute(\"y\",\"2.5\")):(this.svgBackground.setAttribute(\"width\",String(a)),this.outerSvg.setAttribute(\"width\",String(a)),this.svgHandle.setAttribute(\"width\",String(a-5)),this.svgHandle.setAttribute(\"x\",\"2.5\"))}dispose(){this.cleanUp();unbind$$module$build$src$core$browser_events(this.onMouseDownBarWrapper_);unbind$$module$build$src$core$browser_events(this.onMouseDownHandleWrapper_);\nremoveNode$$module$build$src$core$utils$dom(this.outerSvg);this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(a){return a=a<=0||isNaN(a)?0:Math.min(a,this.scrollbarLength)}setHandleLength(a){this.handleLength=a;this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(a){return a=a<=0||isNaN(a)?0:Math.min(a,this.scrollbarLength-this.handleLength)}setHandlePosition(a){this.handlePosition=a;this.svgHandle.setAttribute(this.positionAttribute_,\nString(this.handlePosition))}setScrollbarLength(a){this.scrollbarLength=a;this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength));this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(a,b){this.position.x=a;this.position.y=b;setCssTransform$$module$build$src$core$utils$dom(this.outerSvg,\"translate(\"+(this.position.x+this.origin.x)+\"px,\"+(this.position.y+this.origin.y)+\"px)\")}resize(a){if(!a&&(a=this.workspace.getMetrics(),!a))return;\nthis.oldHostMetrics&&Scrollbar$$module$build$src$core$scrollbar.metricsAreEquivalent(a,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(a):this.resizeVertical(a),this.oldHostMetrics=a,this.updateMetrics())}requiresViewResize(a){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.viewHeight!==a.viewHeight||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft||this.oldHostMetrics.absoluteTop!==a.absoluteTop:!0}resizeHorizontal(a){this.requiresViewResize(a)?\nthis.resizeViewHorizontal(a):this.resizeContentHorizontal(a)}resizeViewHorizontal(a){var b=a.viewWidth-this.margin*2;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));b=a.absoluteLeft+this.margin;this.pair&&this.workspace.RTL&&(b+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setPosition(b,a.absoluteTop+a.viewHeight-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin);this.resizeContentHorizontal(a)}resizeContentHorizontal(a){if(a.viewWidth>=\na.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewWidth/a.scrollWidth;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollWidth-a.viewWidth;var c=this.scrollbarLength-this.handleLength;a=(a.viewLeft-a.scrollLeft)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b}}resizeVertical(a){this.requiresViewResize(a)?this.resizeViewVertical(a):\nthis.resizeContentVertical(a)}resizeViewVertical(a){let b=a.viewHeight-this.margin*2;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));this.setPosition(this.workspace.RTL?a.absoluteLeft+this.margin:a.absoluteLeft+a.viewWidth-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin,a.absoluteTop+this.margin);this.resizeContentVertical(a)}resizeContentVertical(a){if(a.viewHeight>=a.scrollHeight)this.setHandleLength(this.scrollbarLength),\nthis.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewHeight/a.scrollHeight;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollHeight-a.viewHeight;var c=this.scrollbarLength-this.handleLength;a=(a.viewTop-a.scrollTop)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b}}isVisible(){return this.isHandleVisible}setContainerVisible(a){const b=a!==this.containerVisible;this.containerVisible=\na;b&&this.updateDisplay_()}setVisible(a){if(this.pair)throw Error(\"Unable to toggle visibility of paired scrollbars.\");this.setVisibleInternal(a)}setVisibleInternal(a){const b=a!==this.isVisible();this.isHandleVisible=a;b&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute(\"display\",\"block\"):this.outerSvg.setAttribute(\"display\",\"none\")}onMouseDownBar(a){this.workspace.markFocused();clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp();\nif(isRightButton$$module$build$src$core$browser_events(a))a.stopPropagation();else{var b=mouseToSvg$$module$build$src$core$browser_events(a,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());b=this.horizontal?b.x:b.y;var c=getInjectionDivXY$$module$build$src$core$utils$svg_math(this.svgHandle);c=this.horizontal?c.x:c.y;var d=this.handlePosition,e=this.handleLength*.95;b<=c?d-=e:b>=c+this.handleLength&&(d+=e);this.setHandlePosition(this.constrainHandlePosition(d));this.updateMetrics();\na.stopPropagation();a.preventDefault()}}onMouseDownHandle(a){this.workspace.markFocused();this.cleanUp();isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?a.clientX:a.clientY,this.onMouseUpWrapper_=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",\nthis,this.onMouseMoveHandle),a.stopPropagation(),a.preventDefault())}onMouseMoveHandle(a){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?a.clientX:a.clientY)-this.startDragMouse)));this.updateMetrics()}onMouseUpHandle(){clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0);this.onMouseUpWrapper_&&(unbind$$module$build$src$core$browser_events(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null);this.onMouseMoveWrapper_&&\n(unbind$$module$build$src$core$browser_events(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let a=this.handlePosition/(this.scrollbarLength-this.handleLength);isNaN(a)&&(a=0);return a}updateMetrics(){const a=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:a}):this.workspace.setMetrics({y:a})}set(a,b){this.setHandlePosition(this.constrainHandlePosition(a*this.ratio));(b||b===void 0)&&this.updateMetrics()}setOrigin(a,b){this.origin=new Coordinate$$module$build$src$core$utils$coordinate(a,\nb)}static metricsAreEquivalent(a,b){return a.viewWidth===b.viewWidth&&a.viewHeight===b.viewHeight&&a.viewLeft===b.viewLeft&&a.viewTop===b.viewTop&&a.absoluteTop===b.absoluteTop&&a.absoluteLeft===b.absoluteLeft&&a.scrollWidth===b.scrollWidth&&a.scrollHeight===b.scrollHeight&&a.scrollLeft===b.scrollLeft&&a.scrollTop===b.scrollTop}};Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness=TOUCH_ENABLED$$module$build$src$core$touch?25:15;\nScrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5;var module$build$src$core$scrollbar={};module$build$src$core$scrollbar.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;var domParser$$module$build$src$core$utils$xml={parseFromString:function(){throw Error(\"DOMParser was not found in the global scope and was not properly injected using injectDependencies\");}},xmlSerializer$$module$build$src$core$utils$xml={serializeToString:function(){throw Error(\"XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies\");}},{document:document$$module$build$src$core$utils$xml,DOMParser:DOMParser$$module$build$src$core$utils$xml,XMLSerializer:XMLSerializer$$module$build$src$core$utils$xml}=\nglobalThis;DOMParser$$module$build$src$core$utils$xml&&(domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml);XMLSerializer$$module$build$src$core$utils$xml&&(xmlSerializer$$module$build$src$core$utils$xml=new XMLSerializer$$module$build$src$core$utils$xml);\nvar NAME_SPACE$$module$build$src$core$utils$xml=\"https://developers.google.com/blockly/xml\",INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml=/[\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F]/g,module$build$src$core$utils$xml={NAME_SPACE:NAME_SPACE$$module$build$src$core$utils$xml};module$build$src$core$utils$xml.createElement=$.createElement$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.createTextNode=$.createTextNode$$module$build$src$core$utils$xml;\nmodule$build$src$core$utils$xml.domToText=domToText$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.injectDependencies=injectDependencies$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.textToDom=$.textToDom$$module$build$src$core$utils$xml;var CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox=\"categoryToolbox\",FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox=\"flyoutToolbox\",Position$$module$build$src$core$utils$toolbox;(function(a){a[a.TOP=0]=\"TOP\";a[a.BOTTOM=1]=\"BOTTOM\";a[a.LEFT=2]=\"LEFT\";a[a.RIGHT=3]=\"RIGHT\"})(Position$$module$build$src$core$utils$toolbox||(Position$$module$build$src$core$utils$toolbox={}));\nvar TEST_ONLY$$module$build$src$core$utils$toolbox={hasCategoriesInternal:hasCategoriesInternal$$module$build$src$core$utils$toolbox},module$build$src$core$utils$toolbox={};module$build$src$core$utils$toolbox.Position=Position$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.TEST_ONLY=TEST_ONLY$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.convertFlyoutDefToJsonArray=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox;\nmodule$build$src$core$utils$toolbox.convertToolboxDefToJson=convertToolboxDefToJson$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.hasCategories=hasCategories$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.isCategoryCollapsible=isCategoryCollapsible$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.parseToolboxTree=parseToolboxTree$$module$build$src$core$utils$toolbox;var verticalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.TOP=0]=\"TOP\";a[a.BOTTOM=1]=\"BOTTOM\"})(verticalPosition$$module$build$src$core$positionable_helpers||(verticalPosition$$module$build$src$core$positionable_helpers={}));var horizontalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.LEFT=0]=\"LEFT\";a[a.RIGHT=1]=\"RIGHT\"})(horizontalPosition$$module$build$src$core$positionable_helpers||(horizontalPosition$$module$build$src$core$positionable_helpers={}));\nvar bumpDirection$$module$build$src$core$positionable_helpers;(function(a){a[a.UP=0]=\"UP\";a[a.DOWN=1]=\"DOWN\"})(bumpDirection$$module$build$src$core$positionable_helpers||(bumpDirection$$module$build$src$core$positionable_helpers={}));var module$build$src$core$positionable_helpers={};module$build$src$core$positionable_helpers.bumpDirection=bumpDirection$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.bumpPositionRect=bumpPositionRect$$module$build$src$core$positionable_helpers;\nmodule$build$src$core$positionable_helpers.getCornerOppositeToolbox=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.getStartPositionRect=getStartPositionRect$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.horizontalPosition=horizontalPosition$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.verticalPosition=verticalPosition$$module$build$src$core$positionable_helpers;var SPRITE$$module$build$src$core$sprites={width:96,height:124,url:\"sprites.png\"},module$build$src$core$sprites={SPRITE:SPRITE$$module$build$src$core$sprites};var ZoomControls$$module$build$src$core$zoom_controls=class{constructor(a){this.workspace=a;this.id=\"zoomControls\";this.boundEvents=[];this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null;this.HEIGHT=this.WIDTH=32;this.SMALL_SPACING=2;this.LARGE_SPACING=11;this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20;this.svgGroup=null;this.top=this.left=0;this.initialized=!1}createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});const a=String(Math.random()).substring(2);\nthis.createZoomOutSvg(a);this.createZoomInSvg(a);this.workspace.isMovable()&&this.createZoomResetSvg(a);return this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent(\"zoomControls\");this.svgGroup&&\nremoveNode$$module$build$src$core$utils$dom(this.svgGroup);for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);this.boundEvents.length=0}getBoundingRectangle(){let a=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT);return new Rect$$module$build$src$core$utils$rect(this.top,this.top+a,this.left,this.left+this.WIDTH)}position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,\na),d=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,a,this.workspace);c=c.vertical;b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,this.MARGIN_VERTICAL,c===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:\nbumpDirection$$module$build$src$core$positionable_helpers.UP,b);if(c===verticalPosition$$module$build$src$core$positionable_helpers.TOP){var e=this.SMALL_SPACING+this.HEIGHT,f;(f=this.zoomInGroup)==null||f.setAttribute(\"transform\",\"translate(0, \"+e+\")\");this.zoomResetGroup&&this.zoomResetGroup.setAttribute(\"transform\",\"translate(0, \"+(e+this.LARGE_SPACING+this.HEIGHT)+\")\")}else{f=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let h;(h=this.zoomInGroup)==null||h.setAttribute(\"transform\",\"translate(0, \"+\nf+\")\");f=f+this.SMALL_SPACING+this.HEIGHT;(e=this.zoomOutGroup)==null||e.setAttribute(\"transform\",\"translate(0, \"+f+\")\")}this.top=b.top;this.left=b.left;var g;(g=this.svgGroup)==null||g.setAttribute(\"transform\",\"translate(\"+this.left+\",\"+this.top+\")\")}}createZoomOutSvg(a){this.zoomOutGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomOut\"},this.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,\n{id:\"blocklyZoomoutClipPath\"+a},this.zoomOutGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-64,y:-92,\"clip-path\":\"url(#blocklyZoomoutClipPath\"+a+\")\"},this.zoomOutGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomOutGroup,\"pointerdown\",null,this.zoom.bind(this,-1)))}createZoomInSvg(a){this.zoomInGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomIn\"},this.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyZoominClipPath\"+\na},this.zoomInGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-32,y:-92,\"clip-path\":\"url(#blocklyZoominClipPath\"+a+\")\"},this.zoomInGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+\nSPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomInGroup,\"pointerdown\",null,this.zoom.bind(this,1)))}zoom(a,b){this.workspace.markFocused();this.workspace.zoomCenter(a);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();b.stopPropagation();b.preventDefault()}createZoomResetSvg(a){this.zoomResetGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyZoom blocklyZoomReset\"},\nthis.svgGroup);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyZoomresetClipPath\"+a},this.zoomResetGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,y:-92,\"clip-path\":\"url(#blocklyZoomresetClipPath\"+\na+\")\"},this.zoomResetGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomResetGroup,\"pointerdown\",null,this.resetZoom.bind(this)))}resetZoom(a){this.workspace.markFocused();const b=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);\nthis.workspace.beginCanvasTransition();this.workspace.zoomCenter(b);this.workspace.scrollCenter();setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();a.stopPropagation();a.preventDefault()}fireZoomEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(null,this.workspace.id,\"zoom_controls\");fire$$module$build$src$core$events$utils(a)}};register$$module$build$src$core$css(\"\\n.blocklyZoom>image, .blocklyZoom>svg>image {\\n  opacity: .4;\\n}\\n\\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\\n  opacity: .6;\\n}\\n\\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\\n  opacity: .8;\\n}\\n\");\nvar module$build$src$core$zoom_controls={};module$build$src$core$zoom_controls.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;var VARIABLES$$module$build$src$core$serialization$priorities=100,PROCEDURES$$module$build$src$core$serialization$priorities=75,BLOCKS$$module$build$src$core$serialization$priorities=50,WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities=25,module$build$src$core$serialization$priorities={BLOCKS:BLOCKS$$module$build$src$core$serialization$priorities,PROCEDURES:PROCEDURES$$module$build$src$core$serialization$priorities,VARIABLES:VARIABLES$$module$build$src$core$serialization$priorities,\nWORKSPACE_COMMENTS:WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities};var module$build$src$core$serialization$registry={};module$build$src$core$serialization$registry.register=register$$module$build$src$core$serialization$registry;module$build$src$core$serialization$registry.unregister=unregister$$module$build$src$core$serialization$registry;var saveComment$$module$build$src$core$serialization$workspace_comments=save$$module$build$src$core$serialization$workspace_comments,WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments=class{constructor(){this.priority=WORKSPACE_COMMENTS$$module$build$src$core$serialization$priorities}save(a){const b=[];for(const c of a.getTopComments())(a=save$$module$build$src$core$serialization$workspace_comments(c,{addCoordinates:!0,saveIds:!0}))&&b.push(a);return b.length?b:null}load(a,\nb){for(const c of a)append$$module$build$src$core$serialization$workspace_comments(c,b,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()})}clear(a){for(const b of a.getTopComments())b.dispose()}};register$$module$build$src$core$serialization$registry(\"workspaceComments\",new WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments);var module$build$src$core$serialization$workspace_comments={};\nmodule$build$src$core$serialization$workspace_comments.WorkspaceCommentSerializer=WorkspaceCommentSerializer$$module$build$src$core$serialization$workspace_comments;module$build$src$core$serialization$workspace_comments.append=append$$module$build$src$core$serialization$workspace_comments;module$build$src$core$serialization$workspace_comments.save=save$$module$build$src$core$serialization$workspace_comments;var module$build$src$core$clipboard$registry={};module$build$src$core$clipboard$registry.register=register$$module$build$src$core$clipboard$registry;module$build$src$core$clipboard$registry.unregister=unregister$$module$build$src$core$clipboard$registry;var WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster=class{paste(a,b,c){a=a.commentState;c&&(a.x=c.x,a.y=c.y);$.disable$$module$build$src$core$events$utils();let d;try{d=append$$module$build$src$core$serialization$workspace_comments(a,b),moveCommentToNotConflict$$module$build$src$core$clipboard$workspace_comment_paster(d)}finally{$.enable$$module$build$src$core$events$utils()}if(!d)return null;isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CREATE))(d));\n$.getFocusManager$$module$build$src$core$focus_manager().focusNode(d);return d}};WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE=\"workspace-comment\";register$$module$build$src$core$clipboard$registry(WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,new WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster);var module$build$src$core$clipboard$workspace_comment_paster={};\nmodule$build$src$core$clipboard$workspace_comment_paster.WorkspaceCommentPaster=WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster;var DEFAULT_SNAP_RADIUS$$module$build$src$core$config,module$build$src$core$config;DEFAULT_SNAP_RADIUS$$module$build$src$core$config=28;$.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,connectingSnapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,currentConnectionPreference:8,bumpDelay:250};module$build$src$core$config={config:$.config$$module$build$src$core$config};var ARIA_PREFIX$$module$build$src$core$utils$aria=\"aria-\",ROLE_ATTRIBUTE$$module$build$src$core$utils$aria=\"role\",Role$$module$build$src$core$utils$aria;\n(function(a){a.GRID=\"grid\";a.GRIDCELL=\"gridcell\";a.GROUP=\"group\";a.LISTBOX=\"listbox\";a.MENU=\"menu\";a.MENUITEM=\"menuitem\";a.MENUITEMCHECKBOX=\"menuitemcheckbox\";a.OPTION=\"option\";a.PRESENTATION=\"presentation\";a.ROW=\"row\";a.TREE=\"tree\";a.TREEITEM=\"treeitem\";a.SEPARATOR=\"separator\";a.STATUS=\"status\"})(Role$$module$build$src$core$utils$aria||(Role$$module$build$src$core$utils$aria={}));var State$$module$build$src$core$utils$aria;\n(function(a){a.ACTIVEDESCENDANT=\"activedescendant\";a.COLCOUNT=\"colcount\";a.DISABLED=\"disabled\";a.EXPANDED=\"expanded\";a.INVALID=\"invalid\";a.LABEL=\"label\";a.LABELLEDBY=\"labelledby\";a.LEVEL=\"level\";a.ORIENTATION=\"orientation\";a.POSINSET=\"posinset\";a.ROWCOUNT=\"rowcount\";a.SELECTED=\"selected\";a.SETSIZE=\"setsize\";a.VALUEMAX=\"valuemax\";a.VALUEMIN=\"valuemin\";a.LIVE=\"live\";a.HIDDEN=\"hidden\"})(State$$module$build$src$core$utils$aria||(State$$module$build$src$core$utils$aria={}));\nvar module$build$src$core$utils$aria={};module$build$src$core$utils$aria.Role=Role$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.State=State$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setRole=setRole$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setState=setState$$module$build$src$core$utils$aria;var MenuItem$$module$build$src$core$menuitem=class{constructor(a,b){this.content=a;this.opt_value=b;this.enabled=!0;this.element=null;this.rightToLeft=!1;this.roleName=null;this.highlight=this.checked=this.checkable=!1;this.actionHandler=null}createDom(){const a=document.createElement(\"div\");a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.element=a;a.className=\"blocklyMenuItem \"+(this.enabled?\"\":\"blocklyMenuItemDisabled \")+(this.checked?\"blocklyMenuItemSelected \":\"\")+(this.highlight?\n\"blocklyMenuItemHighlight \":\"\")+(this.rightToLeft?\"blocklyMenuItemRtl \":\"\");const b=document.createElement(\"div\");b.className=\"blocklyMenuItemContent\";if(this.checkable){var c=document.createElement(\"div\");c.className=\"blocklyMenuItemCheckbox \";b.appendChild(c)}c=this.content;typeof this.content===\"string\"&&(c=document.createTextNode(this.content));b.appendChild(c);a.appendChild(b);this.roleName&&setRole$$module$build$src$core$utils$aria(a,this.roleName);setState$$module$build$src$core$utils$aria(a,\nState$$module$build$src$core$utils$aria.SELECTED,this.checkable&&this.checked||!1);setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.DISABLED,!this.enabled);return a}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let a;return(a=this.opt_value)!=null?a:null}setRightToLeft(a){this.rightToLeft=a}setRole(a){this.roleName=a}setCheckable(a){this.checkable=a}setChecked(a){this.checked=a}setHighlighted(a){this.highlight=\na;const b=this.getElement();b&&this.isEnabled()&&(a?addClass$$module$build$src$core$utils$dom(b,\"blocklyMenuItemHighlight\"):removeClass$$module$build$src$core$utils$dom(b,\"blocklyMenuItemHighlight\"))}isEnabled(){return this.enabled}setEnabled(a){this.enabled=a}performAction(a){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,a)}onAction(a,b){this.actionHandler=a.bind(b)}},module$build$src$core$menuitem={};module$build$src$core$menuitem.MenuItem=MenuItem$$module$build$src$core$menuitem;var Menu$$module$build$src$core$menu=class{constructor(){this.menuItems=[];this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(a){this.menuItems.push(a)}render(a){const b=document.createElement(\"div\");b.className=\"blocklyMenu\";b.tabIndex=0;this.roleName&&setRole$$module$build$src$core$utils$aria(b,this.roleName);this.element=b;for(let c=0,d;d=this.menuItems[c];c++)b.appendChild(d.createDom());\nthis.pointerMoveHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointermove\",this,this.handlePointerMove,!0);this.clickHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerup\",this,this.handleClick,!0);this.pointerEnterHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerenter\",this,this.handlePointerEnter,!0);this.pointerLeaveHandler=conditionalBind$$module$build$src$core$browser_events(b,\"pointerleave\",this,this.handlePointerLeave,!0);this.onKeyDownHandler=\nconditionalBind$$module$build$src$core$browser_events(b,\"keydown\",this,this.handleKeyEvent);a.appendChild(b);return b}getElement(){return this.element}focus(){const a=this.getElement();a&&a.focus({preventScroll:!0})}blur(){const a=this.getElement();a&&a.blur()}setRole(a){this.roleName=a}dispose(){this.pointerMoveHandler&&(unbind$$module$build$src$core$browser_events(this.pointerMoveHandler),this.pointerMoveHandler=null);this.clickHandler&&(unbind$$module$build$src$core$browser_events(this.clickHandler),\nthis.clickHandler=null);this.pointerEnterHandler&&(unbind$$module$build$src$core$browser_events(this.pointerEnterHandler),this.pointerEnterHandler=null);this.pointerLeaveHandler&&(unbind$$module$build$src$core$browser_events(this.pointerLeaveHandler),this.pointerLeaveHandler=null);this.onKeyDownHandler&&(unbind$$module$build$src$core$browser_events(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let a=0,b;b=this.menuItems[a];a++)b.dispose();this.element=null}getMenuItem(a){const b=this.getElement();\nfor(;a&&a!==b;){if(a.classList.contains(\"blocklyMenuItem\")){const c=this.getMenuItems();for(let d=0,e;e=c[d];d++)if(e.getElement()===a)return e}a=a.parentElement}return null}setHighlighted(a){var b=this.highlightedItem;b&&(b.setHighlighted(!1),this.highlightedItem=null);if(a){a.setHighlighted(!0);this.highlightedItem=a;b=this.getElement();const c=a.getElement();b&&c&&(scrollIntoContainerView$$module$build$src$core$utils$style(c,b),setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,\na.getId()))}}highlightNext(){const a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a,1)}highlightPrevious(){const a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a<0?this.menuItems.length:a,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(a,b){a+=b;let c;const d=this.getMenuItems();for(;c=d[a];){if(c.isEnabled()){this.setHighlighted(c);\nbreak}a+=b}}handlePointerMove(a){Math.max(Math.abs(a.movementX),Math.abs(a.movementY))!==0&&(a=this.getMenuItem(a.target))&&(a.isEnabled()?this.highlightedItem!==a&&this.setHighlighted(a):this.setHighlighted(null))}handleClick(a){var b=this.openingCoords;this.openingCoords=null;if(b&&typeof a.clientX===\"number\"){const c=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);if(Coordinate$$module$build$src$core$utils$coordinate.distance(b,c)<1)return}(b=this.getMenuItem(a.target))&&\nb.performAction(a)}handlePointerEnter(a){this.focus()}handlePointerLeave(a){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(a){if(this.menuItems.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.highlightedItem;switch(a.key){case \"Enter\":case \" \":b&&b.performAction(a);break;case \"ArrowUp\":this.highlightPrevious();break;case \"ArrowDown\":this.highlightNext();break;case \"PageUp\":case \"Home\":this.highlightFirst();break;case \"PageDown\":case \"End\":this.highlightLast();break;\ndefault:return}a.preventDefault();a.stopPropagation()}}getSize(){const a=this.getElement(),b=getSize$$module$build$src$core$utils$style(a);b.height=a.scrollHeight;return b}getMenuItems(){return this.menuItems.filter(a=>a instanceof MenuItem$$module$build$src$core$menuitem)}},module$build$src$core$menu={};module$build$src$core$menu.Menu=Menu$$module$build$src$core$menu;var MenuSeparator$$module$build$src$core$menu_separator=class{constructor(){this.element=null}createDom(){this.element=document.createElement(\"hr\");this.element.className=\"blocklyMenuSeparator\";setRole$$module$build$src$core$utils$aria(this.element,Role$$module$build$src$core$utils$aria.SEPARATOR);return this.element}dispose(){let a;(a=this.element)==null||a.remove();this.element=null}},module$build$src$core$menu_separator={};module$build$src$core$menu_separator.MenuSeparator=MenuSeparator$$module$build$src$core$menu_separator;var COLLAPSED_INPUT_NAME$$module$build$src$core$constants=\"_TEMP_COLLAPSED_INPUT\",COLLAPSED_FIELD_NAME$$module$build$src$core$constants=\"_TEMP_COLLAPSED_FIELD\",MANUALLY_DISABLED$$module$build$src$core$constants=\"MANUALLY_DISABLED\",module$build$src$core$constants={COLLAPSED_FIELD_NAME:COLLAPSED_FIELD_NAME$$module$build$src$core$constants,COLLAPSED_INPUT_NAME:COLLAPSED_INPUT_NAME$$module$build$src$core$constants,MANUALLY_DISABLED:MANUALLY_DISABLED$$module$build$src$core$constants};(function(a){a[a.VALUE=1]=\"VALUE\";a[a.STATEMENT=3]=\"STATEMENT\";a[a.DUMMY=5]=\"DUMMY\";a[a.CUSTOM=6]=\"CUSTOM\";a[a.END_ROW=7]=\"END_ROW\"})($.inputTypes$$module$build$src$core$inputs$input_types||($.inputTypes$$module$build$src$core$inputs$input_types={}));var module$build$src$core$inputs$input_types={};module$build$src$core$inputs$input_types.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var module$build$src$core$interfaces$i_serializable={};module$build$src$core$interfaces$i_serializable.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;var rootBlocks$$module$build$src$core$render_management=new Set,dirtyBlocks$$module$build$src$core$render_management=new WeakSet,eventGroups$$module$build$src$core$render_management=new WeakMap,afterRendersPromise$$module$build$src$core$render_management=null,afterRendersResolver$$module$build$src$core$render_management=null,animationRequestId$$module$build$src$core$render_management=0,module$build$src$core$render_management={};module$build$src$core$render_management.finishQueuedRenders=finishQueuedRenders$$module$build$src$core$render_management;\nmodule$build$src$core$render_management.queueRender=queueRender$$module$build$src$core$render_management;module$build$src$core$render_management.triggerQueuedRenders=triggerQueuedRenders$$module$build$src$core$render_management;var setLocale$$module$build$src$core$msg,module$build$src$core$msg;$.Msg$$module$build$src$core$msg=Object.create(null);setLocale$$module$build$src$core$msg=function(a){Object.keys(a).forEach(function(b){$.Msg$$module$build$src$core$msg[b]=a[b]})};module$build$src$core$msg={Msg:$.Msg$$module$build$src$core$msg,setLocale:setLocale$$module$build$src$core$msg};var CLASS_NAME$$module$build$src$core$toast=\"blocklyToast\",MESSAGE_CLASS_NAME$$module$build$src$core$toast=\"blocklyToastMessage\",CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast=\"blocklyToastCloseButton\",Toast$$module$build$src$core$toast=class{static show(a,b){if(b.oncePerSession&&b.id){if(this.shownIds.has(b.id))return;this.shownIds.add(b.id)}this.hide(a);const c=this.createDom(a,b);requestAnimationFrame(()=>{c.style.bottom=\"2rem\"})}static createDom(a,b){const {message:c,duration:d=5,assertiveness:e=\nToast$$module$build$src$core$toast.Assertiveness.POLITE}=b,f=document.createElement(\"div\");a.getInjectionDiv().appendChild(f);f.dataset.toastId=b.id;f.className=CLASS_NAME$$module$build$src$core$toast;setRole$$module$build$src$core$utils$aria(f,Role$$module$build$src$core$utils$aria.STATUS);setState$$module$build$src$core$utils$aria(f,State$$module$build$src$core$utils$aria.LIVE,e);b=f.appendChild(document.createElement(\"div\"));b.className=MESSAGE_CLASS_NAME$$module$build$src$core$toast;b.innerText=\nc;b=f.appendChild(document.createElement(\"button\"));b.className=CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast;setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.CLOSE);var g=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\"},b);setState$$module$build$src$core$utils$aria(g,State$$module$build$src$core$utils$aria.HIDDEN,!0);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{x:19.7782,y:2.80762,width:2,height:24,transform:\"rotate(45, 19.7782, 2.80762)\",fill:\"black\"},g);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:\"rotate(-45, 2.80762, 4.22183)\",fill:\"black\"},g);b.addEventListener(\"click\",()=>{f.remove();a.markFocused()});let h;b=()=>{h=setTimeout(()=>f.remove(),d*1E3)};g=()=>clearTimeout(h);f.addEventListener(\"focusin\",g);f.addEventListener(\"focusout\",b);f.addEventListener(\"mouseenter\",\ng);f.addEventListener(\"mousemove\",g);f.addEventListener(\"mouseleave\",b);b();return f}static hide(a,b){a=a.getInjectionDiv().querySelector(`.${CLASS_NAME$$module$build$src$core$toast}`);a instanceof HTMLElement&&(!b||b===a.dataset.toastId)&&a.remove()}};Toast$$module$build$src$core$toast.shownIds=new Set;(function(a){a=a.Assertiveness||(a.Assertiveness={});a.ASSERTIVE=\"assertive\";a.POLITE=\"polite\"})(Toast$$module$build$src$core$toast||(Toast$$module$build$src$core$toast={}));register$$module$build$src$core$css(`\n.${CLASS_NAME$$module$build$src$core$toast} {\n  font-size: 1.2rem;\n  position: absolute;\n  bottom: -10rem;\n  right: 2rem;\n  padding: 1rem;\n  color: black;\n  background-color: white;\n  border: 2px solid black;\n  border-radius: 0.4rem;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  gap: 0.8rem;\n  line-height: 1.5;\n  transition: bottom 0.3s ease-out;\n}\n\n.${CLASS_NAME$$module$build$src$core$toast} .${MESSAGE_CLASS_NAME$$module$build$src$core$toast} {\n  maxWidth: 18rem;\n}\n\n.${CLASS_NAME$$module$build$src$core$toast} .${CLOSE_BUTTON_CLASS_NAME$$module$build$src$core$toast} {\n  margin: 0;\n  padding: 0.2rem;\n  background-color: transparent;\n  color: black;\n  border: none;\n  cursor: pointer;\n}\n`);var module$build$src$core$toast={};module$build$src$core$toast.Toast=Toast$$module$build$src$core$toast;var defaultAlert$$module$build$src$core$dialog=function(a,b){window.alert(a);b&&b()},alertImplementation$$module$build$src$core$dialog=defaultAlert$$module$build$src$core$dialog,defaultConfirm$$module$build$src$core$dialog=function(a,b){b(window.confirm(a))},confirmImplementation$$module$build$src$core$dialog=defaultConfirm$$module$build$src$core$dialog,defaultPrompt$$module$build$src$core$dialog=function(a,b,c){c(window.prompt(a,b))},promptImplementation$$module$build$src$core$dialog=defaultPrompt$$module$build$src$core$dialog,\ndefaultToast$$module$build$src$core$dialog=Toast$$module$build$src$core$toast.show.bind(Toast$$module$build$src$core$toast),toastImplementation$$module$build$src$core$dialog=defaultToast$$module$build$src$core$dialog,module$build$src$core$dialog={};module$build$src$core$dialog.alert=alert$$module$build$src$core$dialog;module$build$src$core$dialog.confirm=confirm$$module$build$src$core$dialog;module$build$src$core$dialog.prompt=prompt$$module$build$src$core$dialog;\nmodule$build$src$core$dialog.setAlert=setAlert$$module$build$src$core$dialog;module$build$src$core$dialog.setConfirm=setConfirm$$module$build$src$core$dialog;module$build$src$core$dialog.setPrompt=setPrompt$$module$build$src$core$dialog;module$build$src$core$dialog.setToast=setToast$$module$build$src$core$dialog;module$build$src$core$dialog.toast=toast$$module$build$src$core$dialog;var module$build$src$core$interfaces$i_legacy_procedure_blocks={};module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureCallBlock=isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureDefBlock=isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;var module$build$src$core$interfaces$i_variable_backed_parameter_model={};module$build$src$core$interfaces$i_variable_backed_parameter_model.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;var previousWarnings$$module$build$src$core$utils$deprecation=new Set,module$build$src$core$utils$deprecation={};module$build$src$core$utils$deprecation.warn=warn$$module$build$src$core$utils$deprecation;var CATEGORY_NAME$$module$build$src$core$variables=\"VARIABLE\",VAR_LETTER_OPTIONS$$module$build$src$core$variables=\"ijkmnopqrstuvwxyzabcdefgh\",TEST_ONLY$$module$build$src$core$variables={generateUniqueNameInternal:generateUniqueNameInternal$$module$build$src$core$variables},module$build$src$core$variables={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables,TEST_ONLY:TEST_ONLY$$module$build$src$core$variables,VAR_LETTER_OPTIONS:VAR_LETTER_OPTIONS$$module$build$src$core$variables};\nmodule$build$src$core$variables.allDeveloperVariables=$.allDeveloperVariables$$module$build$src$core$variables;module$build$src$core$variables.allUsedVarModels=$.allUsedVarModels$$module$build$src$core$variables;module$build$src$core$variables.compareByName=compareByName$$module$build$src$core$variables;module$build$src$core$variables.createVariableButtonHandler=createVariableButtonHandler$$module$build$src$core$variables;module$build$src$core$variables.deleteVariable=$.deleteVariable$$module$build$src$core$variables;\nmodule$build$src$core$variables.flyoutCategory=flyoutCategory$$module$build$src$core$variables;module$build$src$core$variables.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueName=generateUniqueName$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueNameFromOptions=generateUniqueNameFromOptions$$module$build$src$core$variables;module$build$src$core$variables.generateVariableFieldDom=generateVariableFieldDom$$module$build$src$core$variables;\nmodule$build$src$core$variables.getAddedVariables=getAddedVariables$$module$build$src$core$variables;module$build$src$core$variables.getOrCreateVariablePackage=$.getOrCreateVariablePackage$$module$build$src$core$variables;module$build$src$core$variables.getVariable=$.getVariable$$module$build$src$core$variables;module$build$src$core$variables.getVariableUsesById=getVariableUsesById$$module$build$src$core$variables;module$build$src$core$variables.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$variables;\nmodule$build$src$core$variables.jsonFlyoutCategoryBlocks=jsonFlyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithAnyType=nameUsedWithAnyType$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithConflictingParam=nameUsedWithConflictingParam$$module$build$src$core$variables;module$build$src$core$variables.promptName=promptName$$module$build$src$core$variables;module$build$src$core$variables.renameVariable=$.renameVariable$$module$build$src$core$variables;var DeserializationError$$module$build$src$core$serialization$exceptions=class extends Error{},MissingBlockType$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a){super(\"Expected to find a 'type' property, defining the block type\");this.state=a}},MissingConnection$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,\nb,c){super(`The block ${b.toDevString()} is missing a(n) ${a}\nconnection`);this.block=b;this.state=c}},BadConnectionCheck$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,b,c,d){super(`The block ${c.toDevString()} could not connect its\n${b} to its parent, because: ${a}`);this.childBlock=c;this.childState=d}},RealChildOfShadow$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a){super(\"Encountered a real block which is defined as a child of a shadow\\nblock. It is an invariant of Blockly that shadow blocks only have shadow\\nchildren\");this.state=a}},UnregisteredIcon$$module$build$src$core$serialization$exceptions=class extends DeserializationError$$module$build$src$core$serialization$exceptions{constructor(a,\nb,c){super(`Cannot add an icon of type '${a}' to the block `+`${b.toDevString()}, because there is no icon registered with `+`type '${a}'. Make sure that all of your icons have been `+\"registered.\");this.block=b;this.state=c}},module$build$src$core$serialization$exceptions={};module$build$src$core$serialization$exceptions.BadConnectionCheck=BadConnectionCheck$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.DeserializationError=DeserializationError$$module$build$src$core$serialization$exceptions;\nmodule$build$src$core$serialization$exceptions.MissingBlockType=MissingBlockType$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.MissingConnection=MissingConnection$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.RealChildOfShadow=RealChildOfShadow$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.UnregisteredIcon=UnregisteredIcon$$module$build$src$core$serialization$exceptions;var saveBlock$$module$build$src$core$serialization$blocks=save$$module$build$src$core$serialization$blocks,BlockSerializer$$module$build$src$core$serialization$blocks=class{constructor(){this.priority=BLOCKS$$module$build$src$core$serialization$priorities}save(a){const b=[];for(const c of a.getTopBlocks(!1))(a=save$$module$build$src$core$serialization$blocks(c,{addCoordinates:!0,doFullSerialization:!1}))&&b.push(a);return b.length?{languageVersion:0,blocks:b}:null}load(a,b){a=a.blocks;for(const c of a)append$$module$build$src$core$serialization$blocks(c,\nb,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()})}clear(a){for(const b of a.getTopBlocks(!1))b.dispose(!1)}};register$$module$build$src$core$serialization$registry(\"blocks\",new BlockSerializer$$module$build$src$core$serialization$blocks);var module$build$src$core$serialization$blocks={};module$build$src$core$serialization$blocks.BlockSerializer=BlockSerializer$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.append=append$$module$build$src$core$serialization$blocks;\nmodule$build$src$core$serialization$blocks.appendInternal=appendInternal$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.save=save$$module$build$src$core$serialization$blocks;var IconType$$module$build$src$core$icons$icon_types=class{constructor(a){this.name=a}toString(){return this.name}equals(a){return this.name===a.toString()}};IconType$$module$build$src$core$icons$icon_types.MUTATOR=new IconType$$module$build$src$core$icons$icon_types(\"mutator\");IconType$$module$build$src$core$icons$icon_types.WARNING=new IconType$$module$build$src$core$icons$icon_types(\"warning\");IconType$$module$build$src$core$icons$icon_types.COMMENT=new IconType$$module$build$src$core$icons$icon_types(\"comment\");\nvar module$build$src$core$icons$icon_types={};module$build$src$core$icons$icon_types.IconType=IconType$$module$build$src$core$icons$icon_types;var module$build$src$core$interfaces$i_has_bubble={};module$build$src$core$interfaces$i_has_bubble.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;var BlockBase$$module$build$src$core$events$events_block_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!a;a&&(this.blockId=a.id,this.workspaceId=a.workspace.id)}toJson(){const a=super.toJson();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");a.blockId=this.blockId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockBase$$module$build$src$core$events$events_block_base);\nb.blockId=a.blockId;return b}},module$build$src$core$events$events_block_base={};module$build$src$core$events$events_block_base.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;var BlockChange$$module$build$src$core$events$events_block_change=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a,b,c,d,e){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;a&&(this.element=b,this.name=c||void 0,this.oldValue=d,this.newValue=e)}toJson(){const a=super.toJson();if(!this.element)throw Error(\"The changed element is undefined. Either pass an element to the constructor, or call fromJson\");a.element=this.element;a.name=this.name;\na.oldValue=this.oldValue;a.newValue=this.newValue;this.disabledReason&&(a.disabledReason=this.disabledReason);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockChange$$module$build$src$core$events$events_block_change);b.element=a.element;b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;a.disabledReason!==void 0&&(b.disabledReason=a.disabledReason);return b}setDisabledReason(a){if(this.element!==\"disabled\")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not \"disabled\".');\nthis.disabledReason=a}isNull(){return this.oldValue===this.newValue}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");b=b.getBlockById(this.blockId);if(!b)throw Error(\"The associated block is undefined. Either pass a block to the constructor, or call fromJson\");const c=b.getIcon(IconType$$module$build$src$core$icons$icon_types.MUTATOR);c&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(c)&&\nc.bubbleIsVisible()&&c.setBubbleVisible(!1);a=a?this.newValue:this.oldValue;switch(this.element){case \"field\":(b=b.getField(this.name))?b.setValue(a):console.warn(\"Can't set non-existent field: \"+this.name);break;case \"comment\":b.setCommentText(a||null);break;case \"collapsed\":b.setCollapsed(!!a);break;case \"disabled\":var d;b.setDisabledReason(!!a,(d=this.disabledReason)!=null?d:MANUALLY_DISABLED$$module$build$src$core$constants);break;case \"inline\":b.setInputsInline(!!a);break;case \"mutation\":d=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(b);\nb.loadExtraState?b.loadExtraState(JSON.parse(a||\"{}\")):b.domToMutation&&b.domToMutation($.textToDom$$module$build$src$core$utils$xml(a||\"<mutation/>\"));fire$$module$build$src$core$events$utils(new BlockChange$$module$build$src$core$events$events_block_change(b,\"mutation\",null,d,a));break;default:console.warn(\"Unknown change type: \"+this.element)}}static getExtraBlockState_(a){return a.saveExtraState?(a=a.saveExtraState(!0))?JSON.stringify(a):\"\":a.mutationToDom?(a=a.mutationToDom())?domToText$$module$build$src$core$xml(a):\n\"\":\"\"}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_CHANGE,BlockChange$$module$build$src$core$events$events_block_change);var module$build$src$core$events$events_block_change={};module$build$src$core$events$events_block_change.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;var module$build$src$core$utils$math={};module$build$src$core$utils$math.clamp=clamp$$module$build$src$core$utils$math;module$build$src$core$utils$math.toDegrees=toDegrees$$module$build$src$core$utils$math;module$build$src$core$utils$math.toRadians=toRadians$$module$build$src$core$utils$math;var ARROW_SIZE$$module$build$src$core$dropdowndiv=16,BORDER_SIZE$$module$build$src$core$dropdowndiv=1,ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv=12,PADDING_Y$$module$build$src$core$dropdowndiv=16,ANIMATION_TIME$$module$build$src$core$dropdowndiv=.25,animateOutTimer$$module$build$src$core$dropdowndiv=null,onHide$$module$build$src$core$dropdowndiv=null,renderedClassName$$module$build$src$core$dropdowndiv=\"\",themeClassName$$module$build$src$core$dropdowndiv=\"\",div$$module$build$src$core$dropdowndiv,\ncontent$$module$build$src$core$dropdowndiv,arrow$$module$build$src$core$dropdowndiv,boundsElement$$module$build$src$core$dropdowndiv=null,owner$$module$build$src$core$dropdowndiv=null,positionToField$$module$build$src$core$dropdowndiv=null,returnEphemeralFocus$$module$build$src$core$dropdowndiv=null,keydownListener$$module$build$src$core$dropdowndiv=null,internal$$module$build$src$core$dropdowndiv={getBoundsInfo:function(){const a=getPageOffset$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv),\nb=getSize$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv);return{left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height}},getPositionMetrics:function(a,b,c,d){const e=internal$$module$build$src$core$dropdowndiv.getBoundsInfo(),f=getSize$$module$build$src$core$utils$style(div$$module$build$src$core$dropdowndiv);return b+f.height<e.bottom?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>e.top?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,\nd,e,f):b+f.height<document.documentElement.clientHeight?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>document.documentElement.clientTop?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,d,e,f):getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv(a,e,f)}},TEST_ONLY$$module$build$src$core$dropdowndiv=internal$$module$build$src$core$dropdowndiv,module$build$src$core$dropdowndiv={ANIMATION_TIME:ANIMATION_TIME$$module$build$src$core$dropdowndiv,ARROW_HORIZONTAL_PADDING:ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv,\nARROW_SIZE:ARROW_SIZE$$module$build$src$core$dropdowndiv,BORDER_SIZE:BORDER_SIZE$$module$build$src$core$dropdowndiv,PADDING_Y:PADDING_Y$$module$build$src$core$dropdowndiv,TEST_ONLY:internal$$module$build$src$core$dropdowndiv};module$build$src$core$dropdowndiv.clearContent=clearContent$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.createDom=createDom$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getContentDiv=getContentDiv$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.getOwner=getOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getPositionX=getPositionX$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hide=hide$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideIfOwner=hideIfOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideWithoutAnimation=hideWithoutAnimation$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.isVisible=isVisible$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setBoundsElement=setBoundsElement$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setColour=setColour$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.show=show$$module$build$src$core$dropdowndiv;\nmodule$build$src$core$dropdowndiv.showPositionedByBlock=showPositionedByBlock$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.showPositionedByField=showPositionedByField$$module$build$src$core$dropdowndiv;var module$build$src$core$utils$string={};module$build$src$core$utils$string.commonWordPrefix=commonWordPrefix$$module$build$src$core$utils$string;module$build$src$core$utils$string.commonWordSuffix=commonWordSuffix$$module$build$src$core$utils$string;module$build$src$core$utils$string.isNumber=$.isNumber$$module$build$src$core$utils$string;module$build$src$core$utils$string.shortestStringLength=shortestStringLength$$module$build$src$core$utils$string;module$build$src$core$utils$string.wrap=$.wrap$$module$build$src$core$utils$string;var customTooltip$$module$build$src$core$tooltip=void 0,visible$$module$build$src$core$tooltip=!1,blocked$$module$build$src$core$tooltip=!1,LIMIT$$module$build$src$core$tooltip=50,mouseOutPid$$module$build$src$core$tooltip=0,showPid$$module$build$src$core$tooltip=0,lastX$$module$build$src$core$tooltip=0,lastY$$module$build$src$core$tooltip=0,element$$module$build$src$core$tooltip=null,poisonedElement$$module$build$src$core$tooltip=null,OFFSET_X$$module$build$src$core$tooltip=0,OFFSET_Y$$module$build$src$core$tooltip=\n10,RADIUS_OK$$module$build$src$core$tooltip=10,HOVER_MS$$module$build$src$core$tooltip=750,MARGINS$$module$build$src$core$tooltip=5,containerDiv$$module$build$src$core$tooltip=null,module$build$src$core$tooltip={HOVER_MS:HOVER_MS$$module$build$src$core$tooltip,LIMIT:LIMIT$$module$build$src$core$tooltip,MARGINS:MARGINS$$module$build$src$core$tooltip,OFFSET_X:OFFSET_X$$module$build$src$core$tooltip,OFFSET_Y:OFFSET_Y$$module$build$src$core$tooltip,RADIUS_OK:RADIUS_OK$$module$build$src$core$tooltip};\nmodule$build$src$core$tooltip.bindMouseEvents=bindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.block=block$$module$build$src$core$tooltip;module$build$src$core$tooltip.createDom=createDom$$module$build$src$core$tooltip;module$build$src$core$tooltip.dispose=dispose$$module$build$src$core$tooltip;module$build$src$core$tooltip.getCustomTooltip=getCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.getDiv=getDiv$$module$build$src$core$tooltip;\nmodule$build$src$core$tooltip.getTooltipOfObject=getTooltipOfObject$$module$build$src$core$tooltip;module$build$src$core$tooltip.hide=hide$$module$build$src$core$tooltip;module$build$src$core$tooltip.isVisible=isVisible$$module$build$src$core$tooltip;module$build$src$core$tooltip.setCustomTooltip=setCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.unbindMouseEvents=unbindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.unblock=unblock$$module$build$src$core$tooltip;var hsvSaturation$$module$build$src$core$utils$colour=.45,hsvValue$$module$build$src$core$utils$colour=.65,names$$module$build$src$core$utils$colour={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\"},module$build$src$core$utils$colour={};module$build$src$core$utils$colour.blend=blend$$module$build$src$core$utils$colour;\nmodule$build$src$core$utils$colour.getHsvSaturation=getHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.getHsvValue=getHsvValue$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hexToRgb=hexToRgb$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hsvToHex=hsvToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hueToHex=hueToHex$$module$build$src$core$utils$colour;\nmodule$build$src$core$utils$colour.names=names$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.parse=parse$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.rgbToHex=rgbToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvSaturation=setHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvValue=setHsvValue$$module$build$src$core$utils$colour;var module$build$src$core$utils$parsing={};module$build$src$core$utils$parsing.checkMessageReferences=checkMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.parseBlockColour=parseBlockColour$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.replaceMessageReferences=replaceMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.tokenizeInterpolation=tokenizeInterpolation$$module$build$src$core$utils$parsing;var Field$$module$build$src$core$field=class{get size_(){return this.size}set size_(a){this.size=a}constructor(a,b,c){this.DEFAULT_VALUE=null;this.name=void 0;this.tooltip=this.validator_=null;this.size=new Size$$module$build$src$core$utils$size(0,0);this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null;this.disposed=!1;this.maxDisplayLength=50;this.sourceBlock_=null;this.enabled_=this.visible_=this.isDirty_=!0;this.suffixField=this.prefixField=\nthis.clickTarget_=null;this.EDITABLE=!0;this.SERIALIZABLE=!1;this.id_=null;this.value_=\"DEFAULT_VALUE\"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE;this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){a.tooltip&&this.setTooltip(replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip))}setSourceBlock(a){if(this.sourceBlock_)throw Error(\"Field already bound to a block\");\nthis.sourceBlock_=a;if(a.id.includes(\"_field\"))throw Error(\"Field ID indicator is contained in block ID. This may cause \"+`problems with focus: ${a.id}.`);this.id_=`${a.id}_field_${getNextUniqueId$$module$build$src$core$utils$idgenerator()}`}getConstants(){!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants());return this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var a=\nthis.id_;if(!a)throw Error(\"Expected ID to be defined prior to init.\");this.fieldGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{id:a});this.isVisible()||(this.fieldGroup_.style.display=\"none\");this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);this.initView();this.updateEditable();this.setTooltip(this.tooltip);this.bindEvents_();this.initModel();this.applyColour()}}initView(){this.createBorderRect_();this.createTextElement_();this.fieldGroup_&&\naddClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyField\")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,\"class\":\"blocklyFieldRect\"},this.fieldGroup_)}createTextElement_(){this.textElement_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,\n{\"class\":\"blocklyText blocklyFieldText\"},this.fieldGroup_);this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute(\"dominant-baseline\",\"central\");this.textContent_=document.createTextNode(\"\");this.textElement_.appendChild(this.textContent_)}bindEvents_(){const a=this.getClickTarget_();if(!a)throw Error(\"A click target has not been set.\");bindMouseEvents$$module$build$src$core$tooltip(a);this.mouseDownWrapper=conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",\nthis,this.onMouseDown_)}fromXml(a){this.setValue(a.textContent)}toXml(a){a.textContent=this.getValue();return a}saveState(a){a=this.saveLegacyState(Field$$module$build$src$core$field);return a!==null?a:this.getValue()}loadState(a){this.loadLegacyState(Field$$module$build$src$core$field,a)||this.setValue(a)}saveLegacyState(a){return a.prototype.saveState===this.saveState&&a.prototype.toXml!==this.toXml?(a=$.createElement$$module$build$src$core$utils$xml(\"field\"),a.setAttribute(\"name\",this.name||\"\"),\ndomToText$$module$build$src$core$utils$xml(this.toXml(a)).replace(' xmlns=\"https://developers.google.com/blockly/xml\"',\"\")):null}loadLegacyState(a,b){return a.prototype.loadState===this.loadState&&a.prototype.fromXml!==this.fromXml?(this.fromXml($.textToDom$$module$build$src$core$utils$xml(b)),!0):!1}dispose(){hideIfOwner$$module$build$src$core$dropdowndiv(this);hideIfOwner$$module$build$src$core$widgetdiv(this);let a;((a=this.getSourceBlock())==null?0:a.isDeadOrDying())||removeNode$$module$build$src$core$utils$dom(this.fieldGroup_);\nthis.disposed=!0}updateEditable(){const a=this.fieldGroup_,b=this.getSourceBlock();this.EDITABLE&&a&&b&&(this.enabled_&&b.isEditable()?(addClass$$module$build$src$core$utils$dom(a,\"blocklyEditableField\"),removeClass$$module$build$src$core$utils$dom(a,\"blocklyNonEditableField\")):(addClass$$module$build$src$core$utils$dom(a,\"blocklyNonEditableField\"),removeClass$$module$build$src$core$utils$dom(a,\"blocklyEditableField\")))}setEnabled(a){this.enabled_=a;this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&\n!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Field$$module$build$src$core$field.prototype.showEditor_}isClickableInFlyout(a){return!a}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let a=!1;this.name&&(this.SERIALIZABLE?a=!0:this.EDITABLE&&(console.warn(\"Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization.\"),\na=!0));return a}isVisible(){return this.visible_}setVisible(a){if(this.visible_!==a){this.visible_=a;var b=this.fieldGroup_;b&&(b.style.display=a?\"block\":\"none\")}}setValidator(a){this.validator_=a}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);\nreturn this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_()}showEditor(a){this.isClickable()&&this.showEditor_(a)}showEditor_(a){}repositionForWindowResize(){return!1}updateSize_(a){const b=this.getConstants();a=a!==void 0?a:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let c=a*2,d=b.FIELD_TEXT_HEIGHT,e=0;this.textElement_&&(e=getTextWidth$$module$build$src$core$utils$dom(this.textElement_),\nc+=e);this.isFullBlockField()||(d=Math.max(d,b.FIELD_BORDER_RECT_HEIGHT));this.size_=new Size$$module$build$src$core$utils$size(c,d);this.positionTextElement_(a,e);this.positionBorderRect_()}positionTextElement_(a,b){if(this.textElement_){var c=this.getConstants(),d=this.size_.height/2,e;this.textElement_.setAttribute(\"x\",String(((e=this.getSourceBlock())==null?0:e.RTL)?this.size_.width-b-a:a));this.textElement_.setAttribute(\"y\",String(c.FIELD_TEXT_BASELINE_CENTER?d:d-c.FIELD_TEXT_HEIGHT/2+c.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&\n(this.borderRect_.setAttribute(\"width\",String(this.size_.width)),this.borderRect_.setAttribute(\"height\",String(this.size_.height)),this.borderRect_.setAttribute(\"rx\",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute(\"ry\",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){if(!this.isVisible())return new Size$$module$build$src$core$utils$size(0,0);this.isDirty_&&(this.render_(),this.isDirty_=!1);return this.size_}getScaledBBox(){let a;var b=this.getSourceBlock();\nif(!b)throw new UnattachedFieldError$$module$build$src$core$field;if(this.isFullBlockField()){var c=this.sourceBlock_.getHeightWidth();const d=b.workspace.scale;a=this.getAbsoluteXY_();b=(c.width+1)*d;c=(c.height+1)*d;GECKO$$module$build$src$core$utils$useragent?(a.x+=1.5*d,a.y+=1.5*d):(a.x-=.5*d,a.y-=.5*d)}else c=this.borderRect_.getBoundingClientRect(),a=getPageOffset$$module$build$src$core$utils$style(this.borderRect_),b=c.width,c=c.height;return new Rect$$module$build$src$core$utils$rect(a.y,\na.y+c,a.x,a.x+b)}onLocationChange(a){}getDisplayText_(){let a=this.getText();a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+\"\\u2026\");a=a.replace(/\\s/g,Field$$module$build$src$core$field.NBSP);this.sourceBlock_&&this.sourceBlock_.RTL&&(a+=\"\\u200f\");return a}getText(){const a=this.getText_();return a!==null?String(a):String(this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0;this.constants_=null}forceRerender(){this.isDirty_=!0;this.sourceBlock_&&this.sourceBlock_.rendered&&\nthis.sourceBlock_.queueRender()}setValue(a,b=!0){if(a!==null){var c=$.getGroup$$module$build$src$core$events$utils();c||$.setGroup$$module$build$src$core$events$utils(!0);try{const k=this.doClassValidation_(a),l=this.processValidation(a,k,b);if(!(l instanceof Error)){var d,e=(d=this.getValidator())==null?void 0:d.call(this,l),f=this.processValidation(l,e,b);if(!(f instanceof Error)){var g=this.sourceBlock_;if(!g||!g.disposed){var h=this.getValue();h===f?this.doValueUpdate_(f):(this.doValueUpdate_(f),\nb&&g&&isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(g,\"field\",this.name||null,h,f)),this.isDirty_&&this.forceRerender())}}}}finally{$.setGroup$$module$build$src$core$events$utils(c)}}}processValidation(a,b,c){return b===null?(this.doValueInvalid_(a,c),this.isDirty_&&this.forceRerender(),Error()):b===void 0?a:b}getValue(){return this.value_}doClassValidation_(a){return a===\nnull||a===void 0?null:a}doValueUpdate_(a){this.value_=a;this.isDirty_=!0}doValueInvalid_(a,b){}onMouseDown_(a){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this)}setTooltip(a){a||a===\"\"||(a=this.sourceBlock_);const b=this.getClickTarget_();b?b.tooltip=a:this.tooltip=a}getTooltip(){const a=this.getClickTarget_();return a?getTooltipOfObject$$module$build$src$core$tooltip(a):getTooltipOfObject$$module$build$src$core$tooltip({tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||\nthis.getSvgRoot()}getAbsoluteXY_(){return getPageOffset$$module$build$src$core$utils$style(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let a=null;const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;const c=b.inputList;for(let d=0;d<b.inputList.length;d++){const e=c[d],f=e.fieldRow;for(let g=0;g<f.length;g++)if(f[g]===this){a=e;break}}return a}getFlipRtl(){return!1}onShortcut(a){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error(\"This field currently has no representative DOM element.\");\nreturn this.fieldGroup_}getFocusableTree(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;return a.workspace}onNodeFocus(){const a=this.getSourceBlock();a.workspace.scrollBoundsIntoView(a.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(a){throw Error(\"Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.\");}};Field$$module$build$src$core$field.NBSP=\"\\u00a0\";\nField$$module$build$src$core$field.SKIP_SETUP=Symbol(\"SKIP_SETUP\");var UnattachedFieldError$$module$build$src$core$field=class extends Error{constructor(){super(\"The field has not yet been attached to its input. Call appendField to attach it.\")}},module$build$src$core$field={};module$build$src$core$field.Field=Field$$module$build$src$core$field;module$build$src$core$field.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;var owner$$module$build$src$core$widgetdiv=null,ownerWorkspace$$module$build$src$core$widgetdiv=null,dispose$$module$build$src$core$widgetdiv=null,containerClassName$$module$build$src$core$widgetdiv=\"blocklyWidgetDiv\",rendererClassName$$module$build$src$core$widgetdiv=\"\",themeClassName$$module$build$src$core$widgetdiv=\"\",containerDiv$$module$build$src$core$widgetdiv,returnEphemeralFocus$$module$build$src$core$widgetdiv=null,module$build$src$core$widgetdiv={};\nmodule$build$src$core$widgetdiv.createDom=createDom$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.getDiv=getDiv$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hide=hide$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwner=hideIfOwner$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwnerIsInWorkspace=hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.isVisible=isVisible$$module$build$src$core$widgetdiv;\nmodule$build$src$core$widgetdiv.positionWithAnchor=positionWithAnchor$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.show=show$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.testOnly_setDiv=testOnly_setDiv$$module$build$src$core$widgetdiv;var currentBlock$$module$build$src$core$contextmenu=null,dummyOwner$$module$build$src$core$contextmenu={},menu_$$module$build$src$core$contextmenu=null,module$build$src$core$contextmenu={};module$build$src$core$contextmenu.callbackFactory=$.callbackFactory$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.dispose=dispose$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.getCurrentBlock=getCurrentBlock$$module$build$src$core$contextmenu;\nmodule$build$src$core$contextmenu.hide=hide$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.setCurrentBlock=setCurrentBlock$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.show=show$$module$build$src$core$contextmenu;var ContextMenuRegistry$$module$build$src$core$contextmenu_registry=class{constructor(){this.registeredItems=new Map;this.reset()}reset(){this.registeredItems.clear()}register(a){if(this.registeredItems.has(a.id))throw Error('Menu item with ID \"'+a.id+'\" is already registered.');this.registeredItems.set(a.id,a)}unregister(a){if(!this.registeredItems.has(a))throw Error('Menu item with ID \"'+a+'\" not found.');this.registeredItems.delete(a)}getItem(a){let b;return(b=this.registeredItems.get(a))!=null?\nb:null}getContextMenuOptions(a,b){const c=[];for(const d of this.registeredItems.values()){if(d.scopeType){if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.BLOCK&&!a.block)continue;if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.COMMENT&&!a.comment)continue;if(d.scopeType===ScopeType$$module$build$src$core$contextmenu_registry.WORKSPACE&&!a.workspace)continue}let e;e={scope:a,weight:d.weight};if(d.separator)e=Object.assign({},e,{separator:!0});else{const f=\nd.preconditionFn(a,b);if(f===\"hidden\")continue;const g=typeof d.displayText===\"function\"?d.displayText(a):d.displayText;e=Object.assign({},e,{text:g,callback:d.callback,enabled:f===\"enabled\"})}c.push(e)}c.sort(function(d,e){return d.weight-e.weight});return c}};\n(function(a){var b=a.ScopeType||(a.ScopeType={});b.BLOCK=\"block\";b.WORKSPACE=\"workspace\";b.COMMENT=\"comment\";a.registry=new a})(ContextMenuRegistry$$module$build$src$core$contextmenu_registry||(ContextMenuRegistry$$module$build$src$core$contextmenu_registry={}));var ScopeType$$module$build$src$core$contextmenu_registry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType,module$build$src$core$contextmenu_registry={};\nmodule$build$src$core$contextmenu_registry.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$contextmenu_registry.ScopeType=ScopeType$$module$build$src$core$contextmenu_registry;var BLOCK$$module$build$src$core$layers=50,BUBBLE$$module$build$src$core$layers=100,module$build$src$core$layers={BLOCK:BLOCK$$module$build$src$core$layers,BUBBLE:BUBBLE$$module$build$src$core$layers};var CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy=class{constructor(a){this.comment=a;this.startLoc=null;this.workspace=a.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent();this.startLoc=this.comment.getRelativeToSurfaceXY();this.workspace.setResizesEnabled(!1);let a;(a=this.workspace.getLayerManager())==null||a.moveToDragLayer(this.comment);this.comment.setDragging(!0)}drag(a){this.comment.moveDuringDrag(a)}endDrag(){this.fireDragEndEvent();\nthis.fireMoveEvent();let a;(a=this.workspace.getLayerManager())==null||a.moveOffDragLayer(this.comment,BLOCK$$module$build$src$core$layers);this.comment.setDragging(!1);this.comment.snapToGrid();this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DRAG))(this.comment,!0);fire$$module$build$src$core$events$utils(a)}fireDragEndEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DRAG))(this.comment,\n!1);fire$$module$build$src$core$events$utils(a)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_MOVE))(this.comment);a.setReason([\"drag\"]);a.oldCoordinate_=this.startLoc;a.recordNew();fire$$module$build$src$core$events$utils(a)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},module$build$src$core$dragging$comment_drag_strategy={};\nmodule$build$src$core$dragging$comment_drag_strategy.CommentDragStrategy=CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy;var workspaceToDragDelta$$module$build$src$core$utils$drag=new WeakMap,module$build$src$core$utils$drag={};module$build$src$core$utils$drag.move=move$$module$build$src$core$utils$drag;module$build$src$core$utils$drag.start=start$$module$build$src$core$utils$drag;var CommentBarButton$$module$build$src$core$comments$comment_bar_button=class{constructor(a,b,c,d){this.id=a;this.workspace=b;this.container=c;this.commentView=d}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(a=!1){var b=this.icon.getBBox();b=Rect$$module$build$src$core$utils$rect.from(b);a&&(a=this.getMargin(),b.left-=a,b.top-=a,b.bottom+=a,b.right+=a);return b}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const a=\nthis.getCommentView();var b=a.getRelativeToSurfaceXY();const c=a.getSize();b=new Rect$$module$build$src$core$utils$rect(b.y,b.y+c.height,b.x,b.x+c.width);a.workspace.scrollBoundsIntoView(b)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},module$build$src$core$comments$comment_bar_button={};module$build$src$core$comments$comment_bar_button.CommentBarButton=CommentBarButton$$module$build$src$core$comments$comment_bar_button;var COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button=\"_collapse_bar_button\",CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button=class extends CommentBarButton$$module$build$src$core$comments$comment_bar_button{constructor(a,b,c,d){super(a,b,c,d);this.id=a;this.workspace=b;this.container=c;this.commentView=d;this.icon=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,\n{\"class\":\"blocklyFoldoutIcon\",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button}`},this.container);this.bindId=conditionalBind$$module$build$src$core$browser_events(this.icon,\"pointerdown\",this,this.performAction.bind(this))}dispose(){unbind$$module$build$src$core$browser_events(this.bindId)}reposition(){const a=this.getMargin();this.icon.setAttribute(\"y\",`${a}`);this.icon.setAttribute(\"x\",\n`${a}`)}performAction(a){clearTouchIdentifier$$module$build$src$core$touch();this.getCommentView().bringToFront();a&&a instanceof PointerEvent&&isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),a==null||a.stopPropagation())}},module$build$src$core$comments$collapse_comment_bar_button={COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER:COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button};\nmodule$build$src$core$comments$collapse_comment_bar_button.CollapseCommentBarButton=CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button;var COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor=\"_comment_textarea_\",CommentEditor$$module$build$src$core$comments$comment_editor=class{constructor(a,b,c){this.workspace=a;this.onFinishEditing=c;this.textChangeListeners=[];this.text=\"\";this.foreignObject=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT,{\"class\":\"blocklyCommentForeignObject\"});a=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,\"body\");\na.setAttribute(\"xmlns\",HTML_NS$$module$build$src$core$utils$dom);a.className=\"blocklyMinimalBody\";this.textArea=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,\"textarea\");this.textArea.setAttribute(\"tabindex\",\"-1\");this.textArea.setAttribute(\"dir\",this.workspace.RTL?\"RTL\":\"LTR\");addClass$$module$build$src$core$utils$dom(this.textArea,\"blocklyCommentText\");addClass$$module$build$src$core$utils$dom(this.textArea,\"blocklyTextarea\");addClass$$module$build$src$core$utils$dom(this.textArea,\n\"blocklyText\");a.appendChild(this.textArea);this.foreignObject.appendChild(a);b&&(this.id=b+COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor,this.textArea.setAttribute(\"id\",this.id));conditionalBind$$module$build$src$core$browser_events(this.textArea,\"change\",this,this.onTextChange);conditionalBind$$module$build$src$core$browser_events(this.textArea,\"pointerdown\",this,d=>{d.stopPropagation();$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this);clearTouchIdentifier$$module$build$src$core$touch()});\nconditionalBind$$module$build$src$core$browser_events(this.textArea,\"wheel\",this,d=>{d.stopPropagation()});conditionalBind$$module$build$src$core$browser_events(this.textArea,\"keydown\",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(a){this.textArea.value=a;this.onTextChange()}onTextChange(){const a=this.text;this.text=this.textArea.value;for(let b=this.textChangeListeners.length-1;b>=0;b--)this.textChangeListeners[b](a,this.text)}handleKeyDown(a){if(a.key===\n\"Escape\"||a.key===\"Enter\"&&(a.ctrlKey||a.metaKey)){if(this.onFinishEditing)this.onFinishEditing();a.stopPropagation()}}addTextChangeListener(a){this.textChangeListeners.push(a)}removeTextChangeListener(a){this.textChangeListeners.splice(this.textChangeListeners.indexOf(a),1)}setPlaceholderText(a){this.textArea.placeholder=a}setEditable(a){a?this.textArea.removeAttribute(\"readonly\"):this.textArea.setAttribute(\"readonly\",\"true\")}updateSize(a,b){this.foreignObject.setAttribute(\"height\",`${a.height-b.height}`);\nthis.foreignObject.setAttribute(\"width\",`${a.width}`);this.foreignObject.setAttribute(\"y\",`${b.height}`);this.workspace.RTL&&this.foreignObject.setAttribute(\"x\",`${-a.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const a=Rect$$module$build$src$core$utils$rect.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView(Rect$$module$build$src$core$utils$rect.createFromPoint(screenToWsCoordinates$$module$build$src$core$utils$svg_math(this.workspace,\na.getOrigin()),a.getWidth(),a.getHeight()))}onNodeBlur(){}canBeFocused(){return this.id?!0:!1}},module$build$src$core$comments$comment_editor={COMMENT_EDITOR_FOCUS_IDENTIFIER:COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor};module$build$src$core$comments$comment_editor.CommentEditor=CommentEditor$$module$build$src$core$comments$comment_editor;var COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button=\"_delete_bar_button\",DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button=class extends CommentBarButton$$module$build$src$core$comments$comment_bar_button{constructor(a,b,c,d){super(a,b,c,d);this.id=a;this.workspace=b;this.container=c;this.commentView=d;this.icon=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{\"class\":\"blocklyDeleteIcon\",\nhref:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button}`},c);this.bindId=conditionalBind$$module$build$src$core$browser_events(this.icon,\"pointerdown\",this,this.performAction.bind(this))}dispose(){unbind$$module$build$src$core$browser_events(this.bindId)}reposition(){const a=this.getMargin();this.icon.setAttribute(\"x\",\"0\");const b=this.container.getBBox();this.icon.setAttribute(\"y\",\n`${a}`);this.icon.setAttribute(\"x\",`${b.width-this.getSize(!0).getWidth()}`)}performAction(a){clearTouchIdentifier$$module$build$src$core$touch();a&&a instanceof PointerEvent&&isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.getCommentView().dispose(),a==null||a.stopPropagation(),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},module$build$src$core$comments$delete_comment_bar_button={COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER:COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button};\nmodule$build$src$core$comments$delete_comment_bar_button.DeleteCommentBarButton=DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button;var CommentView$$module$build$src$core$comments$comment_view=class{constructor(a,b){this.workspace=a;this.commentId=b;this.collapsed=!1;this.editable=!0;this.location=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.sizeChangeListeners=[];this.disposeListeners=[];this.collapseChangeListeners=[];this.resizePointerMoveListener=this.resizePointerUpListener=null;this.disposed=this.disposing=!1;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyComment blocklyEditable blocklyDraggable\"});this.highlightRect=this.createHighlightRect(this.svgRoot);({topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot));this.commentEditor=this.createTextArea();this.resizeHandle=this.createResizeHandle(this.svgRoot,a);let c;(c=a.getLayerManager())==null||c.append(this,\nBLOCK$$module$build$src$core$layers);this.size=CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize;this.setSizeWithoutFiringEvents(this.size);this.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(0,0))}createHighlightRect(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyCommentHighlight\"},a)}createTopBar(a){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyCommentTopbar\"},a);const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyCommentTopbarBackground\"},a),c=new DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button(this.commentId,this.workspace,a,this),d=new CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button(this.commentId,this.workspace,a,this);this.addDisposeListener(()=>{c.dispose();d.dispose()});const e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,\n{\"class\":\"blocklyCommentPreview blocklyCommentText blocklyText\"},a),f=document.createTextNode(\"\");e.appendChild(f);return{topBarGroup:a,topBarBackground:b,deleteButton:c,foldoutButton:d,textPreview:e,textPreviewNode:f}}createTextArea(){const a=new CommentEditor$$module$build$src$core$comments$comment_editor(this.workspace,this.commentId,()=>this.svgRoot.focus());this.svgRoot.appendChild(a.getDom());a.addTextChangeListener((b,c)=>{this.updateTextPreview(c);this.setSize(this.size)});return a}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(a,\nb){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{\"class\":\"blocklyResizeHandle\",href:`${b.options.pathToMedia}resize-handle.svg`},a);conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onResizePointerDown);return a}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(a){const b=this.topBarBackground.getBBox(),c=this.textPreview.getBBox(),d=this.resizeHandle.getBBox();\nthis.size=a=Size$$module$build$src$core$utils$size.max(a,this.calcMinSize(b));this.svgRoot.setAttribute(\"height\",`${a.height}`);this.svgRoot.setAttribute(\"width\",`${a.width}`);this.updateHighlightRect(a);this.updateTopBarSize(a);this.commentEditor.updateSize(a,b);this.deleteButton.reposition();this.foldoutButton.reposition();this.updateTextPreviewSize(a,b,c);this.updateResizeHandlePosition(a,d)}setSize(a){const b=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(a);this.onSizeChange(b,\nthis.size)}calcMinSize(a){var b;this.updateTextPreview((b=this.commentEditor.getText())!=null?b:\"\");let c=b=getTextWidth$$module$build$src$core$utils$dom(this.textPreview);this.foldoutButton.isVisible()?c+=this.foldoutButton.getSize(!0).getWidth():b&&(c+=4);this.deleteButton.isVisible()?c+=this.deleteButton.getSize(!0).getWidth():b&&(c+=4);return new Size$$module$build$src$core$utils$size(c,a.height+20)}updateHighlightRect(a){this.highlightRect.setAttribute(\"height\",`${a.height}`);this.highlightRect.setAttribute(\"width\",\n`${a.width}`);this.workspace.RTL&&this.highlightRect.setAttribute(\"x\",`${-a.width}`)}updateTopBarSize(a){this.topBarBackground.setAttribute(\"width\",`${a.width}`)}updateTextPreviewSize(a,b,c){b=(b.height-c.height)/2;const d=this.foldoutButton.getSize(!0),e=this.deleteButton.getSize(!0);a=a.width-d.getWidth()-e.getWidth();this.textPreview.setAttribute(\"x\",`${(this.workspace.RTL?-1:1)*d.getWidth()}`);this.textPreview.setAttribute(\"y\",`${b+c.height/2}`);this.textPreview.setAttribute(\"width\",`${a}`)}updateResizeHandlePosition(a,\nb){this.resizeHandle.setAttribute(\"y\",`${a.height-b.height}`);this.resizeHandle.setAttribute(\"x\",`${a.width-b.width}`)}onSizeChange(a,b){for(let c=this.sizeChangeListeners.length-1;c>=0;c--)this.sizeChangeListeners[c](a,b)}addSizeChangeListener(a){this.sizeChangeListeners.push(a)}removeSizeChangeListener(a){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(a),1)}onResizePointerDown(a){this.isEditable()&&(this.bringToFront(),isRightButton$$module$build$src$core$browser_events(a)||(this.preResizeSize=\nthis.getSize(),start$$module$build$src$core$utils$drag(this.workspace,a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",this,this.onResizePointerMove),this.workspace.hideChaff()),\na.stopPropagation())}onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),this.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null);this.setSize(this.size);this.preResizeSize=void 0}onResizePointerMove(a){a=move$$module$build$src$core$utils$drag(this.workspace,\na);this.setSizeWithoutFiringEvents(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y))}isCollapsed(){return this.collapsed}setCollapsed(a){(this.collapsed=a)?addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCollapsed\"):removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCollapsed\");this.setSizeWithoutFiringEvents(this.size);this.onCollapse()}onCollapse(){for(let a=this.collapseChangeListeners.length-1;a>=0;a--)this.collapseChangeListeners[a](this.collapsed)}addOnCollapseListener(a){this.collapseChangeListeners.push(a)}removeOnCollapseListener(a){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(a),\n1)}isEditable(){return this.editable}setEditable(a){(this.editable=a)?(addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyEditable\"),removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyReadonly\")):(removeClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyEditable\"),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyReadonly\"));this.commentEditor.setEditable(a)}getRelativeToSurfaceXY(){return this.location}moveTo(a){this.location=a;this.svgRoot.setAttribute(\"transform\",\n`translate(${a.x}, ${a.y})`)}getText(){return this.commentEditor.getText()}setText(a){this.commentEditor.setText(a)}setPlaceholderText(a){this.commentEditor.setPlaceholderText(a)}addTextChangeListener(a){this.commentEditor.addTextChangeListener(a)}removeTextChangeListener(a){this.commentEditor.removeTextChangeListener(a)}updateTextPreview(a){this.textPreviewNode.textContent=this.truncateText(a)}truncateText(a){return a.length>=12?`${a.substring(0,9)}...`:a}bringToFront(){const a=this.svgRoot.parentNode,\nb=a.childNodes;b[b.length-1]!==this.svgRoot&&a.appendChild(this.svgRoot)}onDeleteDown(a){clearTouchIdentifier$$module$build$src$core$touch();isRightButton$$module$build$src$core$browser_events(a)||this.dispose();a.stopPropagation()}dispose(){this.disposing=!0;removeNode$$module$build$src$core$utils$dom(this.svgRoot);for(let a=this.disposeListeners.length-1;a>=0;a--)this.disposeListeners[a]();this.disposeListeners.length=0;this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||\nthis.disposed}addDisposeListener(a){this.disposeListeners.push(a)}removeDisposeListener(a){this.disposeListeners.splice(this.disposeListeners.indexOf(a),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize=new Size$$module$build$src$core$utils$size(120,100);register$$module$build$src$core$css(\"\\n.injectionDiv {\\n  --commentFillColour: #FFFCC7;\\n  --commentBorderColour: #F2E49B;\\n}\\n\\n.blocklyComment .blocklyTextarea {\\n  background-color: var(--commentFillColour);\\n  border: 1px solid var(--commentBorderColour);\\n  box-sizing: border-box;\\n  display: block;\\n  outline: 0;\\n  padding: 5px;\\n  resize: none;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.blocklyReadonly.blocklyComment .blocklyTextarea {\\n  cursor: inherit;\\n}\\n\\n.blocklyDeleteIcon {\\n  width: 20px;\\n  height: 20px;\\n  display: none;\\n  cursor: pointer;\\n}\\n\\n.blocklyFoldoutIcon {\\n  width: 20px;\\n  height: 20px;\\n  transform-origin: 12px 12px;\\n  cursor: pointer;\\n}\\n.blocklyResizeHandle {\\n  width: 12px;\\n  height: 12px;\\n  cursor: se-resize;\\n}\\n.blocklyReadonly.blocklyComment .blocklyResizeHandle {\\n  cursor: inherit;\\n}\\n\\n.blocklyCommentTopbarBackground {\\n  fill: var(--commentBorderColour);\\n  height: 24px;\\n}\\n\\n.blocklyComment .blocklyCommentPreview.blocklyText {\\n  fill: #000;\\n  dominant-baseline: middle;\\n  visibility: hidden;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyCommentPreview {\\n  visibility: visible;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,\\n.blocklyCollapsed.blocklyComment .blocklyResizeHandle {\\n  display: none;\\n}\\n\\n.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {\\n  transform: rotate(-90deg);\\n}\\n\\n.blocklyRTL .blocklyCommentTopbar {\\n  transform: scale(-1, 1);\\n}\\n\\n.blocklyRTL .blocklyCommentForeignObject {\\n  direction: rtl;\\n}\\n\\n.blocklyRTL .blocklyCommentPreview {\\n  /* Revert the scale and control RTL using direction instead. */\\n  transform: scale(-1, 1);\\n  direction: rtl;\\n}\\n\\n.blocklyRTL .blocklyResizeHandle {\\n  transform: scale(-1, 1);\\n  cursor: sw-resize;\\n}\\n\\n.blocklyCommentHighlight {\\n  fill: none;\\n}\\n\\n.blocklyCommentText.blocklyActiveFocus {\\n  border-color: #fc3;\\n  border-width: 2px;\\n}\\n\\n.blocklySelected .blocklyCommentHighlight {\\n  stroke: #fc3;\\n  stroke-width: 3px;\\n}\\n\\n.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {\\n  stroke: none;\\n}\\n\\n.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {\\n  stroke: #fc3;\\n  stroke-width: 3px;\\n}\\n\");\nvar module$build$src$core$comments$comment_view={};module$build$src$core$comments$comment_view.CommentView=CommentView$$module$build$src$core$comments$comment_view;var WorkspaceComment$$module$build$src$core$comments$workspace_comment=class{constructor(a,b){this.workspace=a;this.text=\"\";this.collapsed=!1;this.deletable=this.movable=this.editable=!0;this.location=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.disposing=this.disposed=!1;this.id=b&&!a.getCommentById(b)?b:genUid$$module$build$src$core$utils$idgenerator();this.size=CommentView$$module$build$src$core$comments$comment_view.defaultCommentSize;a.addTopComment(this);this.fireCreateEvent()}fireCreateEvent(){isEnabled$$module$build$src$core$events$utils()&&\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CREATE))(this))}fireDeleteEvent(){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_DELETE))(this))}fireChangeEvent(a,b){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_CHANGE))(this,\na,b))}fireCollapseEvent(a){isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE))(this,a))}setText(a){const b=this.text;this.text=a;this.fireChangeEvent(b,a)}getText(){return this.text}setSize(a){const b=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_RESIZE))(this);this.size=a;b.recordCurrentSizeAsNewSize();\nfire$$module$build$src$core$events$utils(b)}getSize(){return this.size}setCollapsed(a){this.collapsed=a;this.fireCollapseEvent(a)}isCollapsed(){return this.collapsed}setEditable(a){this.editable=a}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(a){this.movable=a}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(a){this.deletable=a}isDeletable(){return this.isOwnDeletable()&&\n!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(a,b){const c=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.COMMENT_MOVE))(this);b&&c.setReason(b);this.location=a;c.recordNew();fire$$module$build$src$core$events$utils(c)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0;this.fireDeleteEvent();this.workspace.removeTopComment(this);this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||\nthis.disposed}},module$build$src$core$comments$workspace_comment={};module$build$src$core$comments$workspace_comment.WorkspaceComment=WorkspaceComment$$module$build$src$core$comments$workspace_comment;var RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment=class extends WorkspaceComment$$module$build$src$core$comments$workspace_comment{constructor(a,b){super(a,b);this.dragStrategy=new CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy(this);this.workspace=a;this.view=new CommentView$$module$build$src$core$comments$comment_view(a,this.id);this.view.setSize(this.getSize());this.view.setEditable(this.isEditable());this.view.getSvgRoot().setAttribute(\"data-id\",\nthis.id);this.view.getSvgRoot().setAttribute(\"id\",this.id);this.addModelUpdateBindings();conditionalBind$$module$build$src$core$browser_events(this.view.getSvgRoot(),\"pointerdown\",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((a,b)=>void super.setText(b));this.view.addSizeChangeListener((a,b)=>void super.setSize(b));this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed()));this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(a){this.view.setText(a)}setPlaceholderText(a){this.view.setPlaceholderText(a)}setSize(a){this.view.setSize(a)}setCollapsed(a){this.view.setCollapsed(a)}setEditable(a){super.setEditable(a);\nthis.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const a=this.getRelativeToSurfaceXY();var b,c;const d=(c=(b=this.view)==null?void 0:b.getSize())!=null?c:this.getSize();this.workspace.RTL?(b=a.x-d.width,c=a.x):(b=a.x,c=a.x+d.width);return new Rect$$module$build$src$core$utils$rect(a.y,a.y+d.height,b,c)}moveBy(a,b,c){const d=this.getRelativeToSurfaceXY();a=new Coordinate$$module$build$src$core$utils$coordinate(d.x+\na,d.y+b);this.moveTo(a,c)}moveTo(a,b){super.moveTo(a,b);this.view.moveTo(a)}moveDuringDrag(a){this.location=a;this.view.moveTo(a)}setDragging(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDragging\"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDragging\")}dispose(){this.disposing=!0;const a=$.getFocusManager$$module$build$src$core$focus_manager();a.getFocusedNode()===this&&setTimeout(()=>a.focusTree(this.workspace),0);this.view.isDeadOrDying()||\nthis.view.dispose();super.dispose()}startGesture(a){const b=this.workspace.getGesture(a);b&&(b.handleCommentStart(a,this),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDraggingDelete\"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklyDraggingDelete\")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(a){this.dragStrategy.drag(a)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\n\"blocklySelected\");fireSelectedEvent$$module$build$src$core$common(this)}unselect(){removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),\"blocklySelected\");fireSelectedEvent$$module$build$src$core$common(null)}toCopyData(){return{paster:WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,commentState:save$$module$build$src$core$serialization$workspace_comments(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(a){const b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({comment:this,\nfocusedNode:this},a);let c;c=a instanceof PointerEvent?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10);show$$module$build$src$core$contextmenu(a,b,this.workspace.RTL,this.workspace,c)}snapToGrid(){if(!this.isDeadOrDying()){var a=this.workspace.getGrid();if(a!=null&&a.shouldSnap()){var b=this.getRelativeToSurfaceXY();a=a.alignXY(b);a!==b&&this.moveTo(a,\n[\"snap\"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let a;(a=this.workspace.getLayerManager())==null||a.append(this,BLOCK$$module$build$src$core$layers);this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},module$build$src$core$comments$rendered_workspace_comment={};\nmodule$build$src$core$comments$rendered_workspace_comment.RenderedWorkspaceComment=RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment;var module$build$src$core$xml={};module$build$src$core$xml.appendDomToWorkspace=appendDomToWorkspace$$module$build$src$core$xml;module$build$src$core$xml.blockToDom=blockToDom$$module$build$src$core$xml;module$build$src$core$xml.blockToDomWithXY=blockToDomWithXY$$module$build$src$core$xml;module$build$src$core$xml.clearWorkspaceAndLoadFromXml=clearWorkspaceAndLoadFromXml$$module$build$src$core$xml;module$build$src$core$xml.deleteNext=deleteNext$$module$build$src$core$xml;\nmodule$build$src$core$xml.domToBlock=$.domToBlock$$module$build$src$core$xml;module$build$src$core$xml.domToBlockInternal=domToBlockInternal$$module$build$src$core$xml;module$build$src$core$xml.domToPrettyText=domToPrettyText$$module$build$src$core$xml;module$build$src$core$xml.domToText=domToText$$module$build$src$core$xml;module$build$src$core$xml.domToVariables=domToVariables$$module$build$src$core$xml;module$build$src$core$xml.domToWorkspace=$.domToWorkspace$$module$build$src$core$xml;\nmodule$build$src$core$xml.loadWorkspaceComment=loadWorkspaceComment$$module$build$src$core$xml;module$build$src$core$xml.saveWorkspaceComment=saveWorkspaceComment$$module$build$src$core$xml;module$build$src$core$xml.variablesToDom=variablesToDom$$module$build$src$core$xml;module$build$src$core$xml.workspaceToDom=workspaceToDom$$module$build$src$core$xml;var BlockCreate$$module$build$src$core$events$events_block_create=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_CREATE;a&&(a.isShadow()&&(this.recordUndo=!1),this.xml=blockToDomWithXY$$module$build$src$core$xml(a),this.ids=getDescendantIds$$module$build$src$core$events$utils(a),this.json=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0}))}toJson(){const a=super.toJson();\nif(!this.xml)throw Error(\"The block XML is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(!this.json)throw Error(\"The block JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.ids=this.ids;a.json=this.json;this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,\nb,c){b=super.fromJson(a,b,c!=null?c:new BlockCreate$$module$build$src$core$events$events_block_create);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.ids=a.ids;b.json=a.json;a.recordUndo!==void 0&&(b.recordUndo=a.recordUndo);return b}run(a){const b=this.getEventWorkspace_();if(!this.json)throw Error(\"The block JSON is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");\nif(!allShadowBlocks$$module$build$src$core$events$events_block_create(b,this.ids))if(a)append$$module$build$src$core$serialization$blocks(this.json,b);else for(a=0;a<this.ids.length;a++){const c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn(\"Can't uncreate non-existent block: \"+c)}}},allShadowBlocks$$module$build$src$core$events$events_block_create=function(a,b){return b.map(c=>a.getBlockById(c)).filter(c=>c&&c.isShadow()).length===b.length};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_CREATE,BlockCreate$$module$build$src$core$events$events_block_create);var module$build$src$core$events$events_block_create={};module$build$src$core$events$events_block_create.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;var ThemeChange$$module$build$src$core$events$events_theme_change=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(b);this.type=EventType$$module$build$src$core$events$type.THEME_CHANGE;this.themeName=a}toJson(){const a=super.toJson();if(!this.themeName)throw Error(\"The theme name is undefined. Either pass a theme name to the constructor, or call fromJson\");a.themeName=this.themeName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ThemeChange$$module$build$src$core$events$events_theme_change);\nb.themeName=a.themeName;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.THEME_CHANGE,ThemeChange$$module$build$src$core$events$events_theme_change);var module$build$src$core$events$events_theme_change={};module$build$src$core$events$events_theme_change.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;var ViewportChange$$module$build$src$core$events$events_viewport=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c,d,e){super(d);this.type=EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE;this.viewTop=a;this.viewLeft=b;this.scale=c;this.oldScale=e}toJson(){const a=super.toJson();if(this.viewTop===void 0)throw Error(\"The view top is undefined. Either pass a value to the constructor, or call fromJson\");if(this.viewLeft===void 0)throw Error(\"The view left is undefined. Either pass a value to the constructor, or call fromJson\");\nif(this.scale===void 0)throw Error(\"The scale is undefined. Either pass a value to the constructor, or call fromJson\");if(this.oldScale===void 0)throw Error(\"The old scale is undefined. Either pass a value to the constructor, or call fromJson\");a.viewTop=this.viewTop;a.viewLeft=this.viewLeft;a.scale=this.scale;a.oldScale=this.oldScale;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ViewportChange$$module$build$src$core$events$events_viewport);b.viewTop=a.viewTop;b.viewLeft=a.viewLeft;\nb.scale=a.scale;b.oldScale=a.oldScale;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE,ViewportChange$$module$build$src$core$events$events_viewport);var module$build$src$core$events$events_viewport={};module$build$src$core$events$events_viewport.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;var TEST_ONLY$$module$build$src$core$field_registry={fromJsonInternal:fromJsonInternal$$module$build$src$core$field_registry},module$build$src$core$field_registry={TEST_ONLY:TEST_ONLY$$module$build$src$core$field_registry};module$build$src$core$field_registry.fromJson=$.fromJson$$module$build$src$core$field_registry;module$build$src$core$field_registry.register=register$$module$build$src$core$field_registry;module$build$src$core$field_registry.unregister=unregister$$module$build$src$core$field_registry;var FieldDropdown$$module$build$src$core$field_dropdown=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null;this.SERIALIZABLE=!0;this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(this.setOptions(a),c&&this.configure_(c),b&&this.setValidator(b))}fromXml(a){this.isOptionListDynamic()&&\nthis.getOptions(!1);this.setValue(a.textContent)}loadState(a){this.loadLegacyState(FieldDropdown$$module$build$src$core$field_dropdown,a)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(a))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot();this.createTextElement_();this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{},this.fieldGroup_);this.getConstants().FIELD_DROPDOWN_SVG_ARROW?\nthis.createSVGArrow_():this.createTextArrow_();this.borderRect_&&addClass$$module$build$src$core$utils$dom(this.borderRect_,\"blocklyDropdownRect\");this.fieldGroup_&&(addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyField\"),addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyDropdownField\"))}shouldAddBorderRect_(){let a;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((a=this.getSourceBlock())==\nnull?0:a.isShadow())}createTextArrow_(){this.arrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TSPAN,{},this.textElement_);let a;this.arrow.appendChild(document.createTextNode(((a=this.getSourceBlock())==null?0:a.RTL)?FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR+\" \":\" \"+FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR));this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute(\"dominant-baseline\",\"central\");let b;\n((b=this.getSourceBlock())==null?0:b.RTL)?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+\"px\",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+\"px\"},this.fieldGroup_);this.svgArrow.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.dropdownCreate();this.menu_&&(this.menu_.openingCoords=a&&typeof a.clientX===\"number\"?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):null,clearContent$$module$build$src$core$dropdowndiv(),a=this.menu_.render(getContentDiv$$module$build$src$core$dropdowndiv()),addClass$$module$build$src$core$utils$dom(a,\n\"blocklyDropdownMenu\"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(b=b.getColour(),a=this.sourceBlock_.getColourTertiary(),setColour$$module$build$src$core$dropdowndiv(b,a)),showPositionedByField$$module$build$src$core$dropdowndiv(this,this.dropdownDispose_.bind(this)),getContentDiv$$module$build$src$core$dropdowndiv().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const a=\nthis.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;const b=new Menu$$module$build$src$core$menu;b.setRole(Role$$module$build$src$core$utils$aria.LISTBOX);this.menu_=b;const c=this.getOptions(!1);this.selectedMenuItem=null;for(let e=0;e<c.length;e++){var d=c[e];if(d===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR){b.addChild(new MenuSeparator$$module$build$src$core$menu_separator);continue}const [f,g]=d;isImageProperties$$module$build$src$core$field_dropdown(f)?\n(d=new Image(f.width,f.height),d.src=f.src,d.alt=f.alt):d=f;d=new MenuItem$$module$build$src$core$menuitem(d,g);d.setRole(Role$$module$build$src$core$utils$aria.OPTION);d.setRightToLeft(a.RTL);d.setCheckable(!0);b.addChild(d);d.setChecked(g===this.value_);g===this.value_&&(this.selectedMenuItem=d);d.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose();this.selectedMenuItem=this.menu_=null;this.applyColour()}handleMenuActionEvent(a){hideIfOwner$$module$build$src$core$dropdowndiv(this,\n!0);this.onItemSelected_(this.menu_,a)}onItemSelected_(a,b){this.setValue(b.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_===\"function\"}getOptions(a){if(!this.menuGenerator_)throw TypeError(\"A menu generator was never defined.\");if(Array.isArray(this.menuGenerator_))return this.menuGenerator_;if(a&&this.generatedOptions)return this.generatedOptions;this.generatedOptions=this.menuGenerator_();this.validateOptions(this.generatedOptions);return this.generatedOptions}setOptions(a){Array.isArray(a)?\n(this.validateOptions(a),a=this.trimOptions(a),this.menuGenerator_=a.options,this.prefixField=a.prefix||null,this.suffixField=a.suffix||null):this.menuGenerator_=a;this.selectedOption=this.getOptions(!1)[0];this.setValue(this.selectedOption[1])}doClassValidation_(a){return this.getOptions(!0).some(b=>b[1]===a)?a:(this.sourceBlock_&&console.warn(\"Cannot set the dropdown's value to an unavailable option. Block type: \"+this.sourceBlock_.type+\", Field name: \"+this.name+\", Value: \"+a),null)}doValueUpdate_(a){super.doValueUpdate_(a);\na=this.getOptions(!0);for(let b=0,c;c=a[b];b++)c[1]===this.value_&&(this.selectedOption=c)}applyColour(){const a=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute(\"stroke\",a.getColourTertiary()),this.menu_?this.borderRect_.setAttribute(\"fill\",a.getColourTertiary()):this.borderRect_.setAttribute(\"fill\",\"transparent\"));a&&this.arrow&&(a.isShadow()?this.arrow.style.fill=a.getColourSecondary():this.arrow.style.fill=a.getColour())}render_(){this.getTextContent().nodeValue=\"\";this.imageElement.style.display=\n\"none\";const a=this.selectedOption&&this.selectedOption[0];isImageProperties$$module$build$src$core$field_dropdown(a)?this.renderSelectedImage(a):this.renderSelectedText();this.positionBorderRect_()}renderSelectedImage(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.imageElement.style.display=\"\";this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",a.src);this.imageElement.setAttribute(\"height\",String(a.height));\nthis.imageElement.setAttribute(\"width\",String(a.width));const c=Number(a.height);a=Number(a.width);var d=!!this.borderRect_;const e=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,c+FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_PADDING);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let f;f=this.svgArrow?this.positionSVGArrow(a+d,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):getTextWidth$$module$build$src$core$utils$dom(this.arrow);this.size_=new Size$$module$build$src$core$utils$size(a+\nf+d*2,e);let g=0;b.RTL?this.imageElement.setAttribute(\"x\",`${d+f}`):(g=a+f,this.getTextElement().setAttribute(\"text-anchor\",\"end\"),this.imageElement.setAttribute(\"x\",`${d}`));this.imageElement.setAttribute(\"y\",String(e/2-c/2));this.positionTextElement_(g+d,a+f)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var a=this.getTextElement();addClass$$module$build$src$core$utils$dom(a,\"blocklyDropdownText\");a.setAttribute(\"text-anchor\",\"start\");var b=!!this.borderRect_;a=Math.max(b?\nthis.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const c=getTextWidth$$module$build$src$core$utils$dom(this.getTextElement());b=b?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let d=0;this.svgArrow&&(d=this.positionSVGArrow(c+b,a/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2));this.size_=new Size$$module$build$src$core$utils$size(c+d+b*2,a);this.positionTextElement_(b,c)}positionSVGArrow(a,b){if(!this.svgArrow)return 0;const c=this.getSourceBlock();\nif(!c)throw new UnattachedFieldError$$module$build$src$core$field;const d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,e=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,f=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;this.svgArrow.setAttribute(\"transform\",\"translate(\"+(c.RTL?d:a+e)+\",\"+b+\")\");return f+e}getText_(){if(!this.selectedOption)return null;const a=this.selectedOption[0];if(isImageProperties$$module$build$src$core$field_dropdown(a))return a.alt;if(typeof HTMLElement!==\n\"undefined\"&&a instanceof HTMLElement){let b,c;return(c=(b=a.title)!=null?b:a.ariaLabel)!=null?c:a.innerText}if(typeof a===\"string\")return a;console.warn(\"Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar.\");return null}static fromJson(a){if(!a.options)throw Error(\"options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.\");\nreturn new this(a.options,void 0,a)}trimOptions(a){let b=!1;const c=a.map(g=>{if(g===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR)return b=!0,g;const [h,k]=g;if(typeof h===\"string\")return[replaceMessageReferences$$module$build$src$core$utils$parsing(h),k];b=!0;return[isImageProperties$$module$build$src$core$field_dropdown(h)?Object.assign({},h,{alt:replaceMessageReferences$$module$build$src$core$utils$parsing(h.alt)}):h,k]});if(b||a.length<2)return{options:c};var d=c.map(([g])=>g),\ne=shortestStringLength$$module$build$src$core$utils$string(d);a=commonWordPrefix$$module$build$src$core$utils$string(d,e);const f=commonWordSuffix$$module$build$src$core$utils$string(d,e);if(!a&&!f||e<=a+f)return{options:c};e=a?d[0].substring(0,a-1):void 0;d=f?d[0].substr(1-f):void 0;return{options:this.applyTrim(c,a,f),prefix:e,suffix:d}}applyTrim(a,b,c){return a.map(([d,e])=>[d.substring(b,d.length-c),e])}validateOptions(a){if(!Array.isArray(a))throw TypeError(\"FieldDropdown options must be an array.\");\nif(!a.length)throw TypeError(\"FieldDropdown options must not be an empty array.\");let b=!1;for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)||d===FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR?typeof d[1]!==\"string\"?(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option id must be a string.\n          Found ${d[1]} in: ${d}`)):!d[0]||typeof d[0]===\"string\"||isImageProperties$$module$build$src$core$field_dropdown(d[0])||typeof HTMLElement!==\"undefined\"&&d[0]instanceof HTMLElement||(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option must have a string\n          label, image description, or HTML element. Found ${d[0]} in: ${d}`)):(b=!0,console.error(`Invalid option[${c}]: Each FieldDropdown option must be an array or\n          the string literal 'separator'. Found: ${d}`))}if(b)throw TypeError(\"Found invalid FieldDropdown options.\");}};FieldDropdown$$module$build$src$core$field_dropdown.SEPARATOR=\"separator\";FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR=\"\\u25be\";FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_OFFSET=5;FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_PADDING=FieldDropdown$$module$build$src$core$field_dropdown.IMAGE_Y_OFFSET*2;\nregister$$module$build$src$core$field_registry(\"field_dropdown\",FieldDropdown$$module$build$src$core$field_dropdown);var module$build$src$core$field_dropdown={};module$build$src$core$field_dropdown.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;var Theme$$module$build$src$core$theme=class{constructor(a,b,c,d){this.name=a;this.startHats=!1;this.blockStyles=b||Object.create(null);this.categoryStyles=c||Object.create(null);this.componentStyles=d||Object.create(null);this.fontStyle=Object.create(null);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a,this,!0)}getClassName(){return this.name+\"-theme\"}setBlockStyle(a,b){this.blockStyles[a]=b}setCategoryStyle(a,b){this.categoryStyles[a]=b}getComponentStyle(a){a=\nthis.componentStyles[a];if(!a)return null;if(typeof a===\"string\"){const b=this.getComponentStyle(a);if(b)return b}return`${a}`}setComponentStyle(a,b){this.componentStyles[a]=b}setFontStyle(a){this.fontStyle=a}setStartHats(a){this.startHats=a}static defineTheme(a,b){a=a.toLowerCase();const c=new Theme$$module$build$src$core$theme(a);let d=b.base;if(d){if(typeof d===\"string\"){let e;d=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,d))!=null?e:void 0}d instanceof\nTheme$$module$build$src$core$theme&&(deepMerge$$module$build$src$core$utils$object(c,d),c.name=a)}deepMerge$$module$build$src$core$utils$object(c.blockStyles,b.blockStyles);deepMerge$$module$build$src$core$utils$object(c.categoryStyles,b.categoryStyles);deepMerge$$module$build$src$core$utils$object(c.componentStyles,b.componentStyles);deepMerge$$module$build$src$core$utils$object(c.fontStyle,b.fontStyle);b.startHats!==null&&(c.startHats=b.startHats);return c}},module$build$src$core$theme={};\nmodule$build$src$core$theme.Theme=Theme$$module$build$src$core$theme;var defaultBlockStyles$$module$build$src$core$theme$classic={colour_blocks:{colourPrimary:\"20\"},list_blocks:{colourPrimary:\"260\"},logic_blocks:{colourPrimary:\"210\"},loop_blocks:{colourPrimary:\"120\"},math_blocks:{colourPrimary:\"230\"},procedure_blocks:{colourPrimary:\"290\"},text_blocks:{colourPrimary:\"160\"},variable_blocks:{colourPrimary:\"330\"},variable_dynamic_blocks:{colourPrimary:\"310\"},hat_blocks:{colourPrimary:\"330\",hat:\"cap\"}},categoryStyles$$module$build$src$core$theme$classic={colour_category:{colour:\"20\"},\nlist_category:{colour:\"260\"},logic_category:{colour:\"210\"},loop_category:{colour:\"120\"},math_category:{colour:\"230\"},procedure_category:{colour:\"290\"},text_category:{colour:\"160\"},variable_category:{colour:\"330\"},variable_dynamic_category:{colour:\"310\"}},Classic$$module$build$src$core$theme$classic=new Theme$$module$build$src$core$theme(\"classic\",defaultBlockStyles$$module$build$src$core$theme$classic,categoryStyles$$module$build$src$core$theme$classic),module$build$src$core$theme$classic={Classic:Classic$$module$build$src$core$theme$classic};var Options$$module$build$src$core$options=class{constructor(a){this.gridPattern=null;this.getMetrics=this.setMetrics=void 0;let b=null,c=!1;var d=!1,e=!1,f=!1,g=!1,h=!1;const k=!!a.readOnly;if(!k){var l;b=convertToolboxDefToJson$$module$build$src$core$utils$toolbox((l=a.toolbox)!=null?l:null);c=hasCategories$$module$build$src$core$utils$toolbox(b);d=a.trashcan;d=d===void 0?c:d;e=a.collapse;e=e===void 0?c:e;f=a.comments;f=f===void 0?c:f;g=a.disable;g=g===void 0?c:g;h=a.sounds;h=h===void 0?!0:h}l=\na.maxTrashcanContents;d?l===void 0&&(l=32):l=0;const m=!!a.rtl;let n=a.horizontalLayout;n===void 0&&(n=!1);var p=a.toolboxPosition!==\"end\";p=n?p?Position$$module$build$src$core$utils$toolbox.TOP:Position$$module$build$src$core$utils$toolbox.BOTTOM:p===m?Position$$module$build$src$core$utils$toolbox.RIGHT:Position$$module$build$src$core$utils$toolbox.LEFT;let r=a.css;r===void 0&&(r=!0);let q=\"https://blockly-demo.appspot.com/static/media/\";a.media&&(q=a.media.endsWith(\"/\")?a.media:a.media+\"/\");const u=\na.oneBasedIndex,y=a.renderer||\"geras\",z=a.plugins||{};let t=a.modalInputs;t===void 0&&(t=!0);this.RTL=m;this.oneBasedIndex=u===void 0?!0:u;this.collapse=e;this.comments=f;this.disable=g;this.readOnly=k;this.maxBlocks=a.maxBlocks||Infinity;let v;this.maxInstances=(v=a.maxInstances)!=null?v:null;this.modalInputs=t;this.pathToMedia=q;this.hasCategories=c;this.moveOptions=Options$$module$build$src$core$options.parseMoveOptions(a,c);this.hasScrollbars=!!this.moveOptions.scrollbars;this.hasTrashcan=d;this.maxTrashcanContents=\nl;this.hasSounds=h;this.hasCss=r;this.horizontalLayout=n;this.languageTree=b;this.gridOptions=Options$$module$build$src$core$options.parseGridOptions(a);this.zoomOptions=Options$$module$build$src$core$options.parseZoomOptions(a);this.toolboxPosition=p;this.theme=Options$$module$build$src$core$options.parseThemeOptions(a);this.renderer=y;let w;this.rendererOverrides=(w=a.rendererOverrides)!=null?w:null;let x;this.parentWorkspace=(x=a.parentWorkspace)!=null?x:null;this.plugins=z}static parseMoveOptions(a,\nb){const c=a.move||{},d={};c.scrollbars===void 0&&a.scrollbars===void 0?d.scrollbars=b:typeof c.scrollbars===\"object\"?(d.scrollbars={horizontal:!!c.scrollbars.horizontal,vertical:!!c.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!c.scrollbars||!!a.scrollbars;d.wheel=d.scrollbars&&c.wheel!==void 0?!!c.wheel:typeof d.scrollbars===\"object\";d.drag=d.scrollbars?c.drag===void 0?!0:!!c.drag:\n!1;return d}static parseZoomOptions(a){a=a.zoom||{};const b={};b.controls=a.controls===void 0?!1:!!a.controls;b.wheel=a.wheel===void 0?!1:!!a.wheel;b.startScale=a.startScale===void 0?1:Number(a.startScale);b.maxScale=a.maxScale===void 0?3:Number(a.maxScale);b.minScale=a.minScale===void 0?.3:Number(a.minScale);b.scaleSpeed=a.scaleSpeed===void 0?1.2:Number(a.scaleSpeed);b.pinch=a.pinch===void 0?b.wheel||b.controls:!!a.pinch;return b}static parseGridOptions(a){a=a.grid||{};const b={};b.spacing=Number(a.spacing)||\n0;b.colour=a.colour||\"#888\";b.length=a.length===void 0?1:Number(a.length);b.snap=b.spacing>0&&!!a.snap;return b}static parseThemeOptions(a){a=a.theme||Classic$$module$build$src$core$theme$classic;return typeof a===\"string\"?getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a):a instanceof Theme$$module$build$src$core$theme?a:Theme$$module$build$src$core$theme.defineTheme(a.name||\"builtin\"+getNextUniqueId$$module$build$src$core$utils$idgenerator(),a)}},module$build$src$core$options=\n{};module$build$src$core$options.Options=Options$$module$build$src$core$options;var BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy=class{constructor(a,b){this.bubble=a;this.workspace=b;this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY();this.workspace.setResizesEnabled(!1);let a;(a=this.workspace.getLayerManager())==null||a.moveToDragLayer(this.bubble);this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(a){this.bubble.moveDuringDrag(a)}endDrag(){this.workspace.setResizesEnabled(!0);let a;(a=this.workspace.getLayerManager())==\nnull||a.moveOffDragLayer(this.bubble,BUBBLE$$module$build$src$core$layers);this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},module$build$src$core$dragging$bubble_drag_strategy={};module$build$src$core$dragging$bubble_drag_strategy.BubbleDragStrategy=BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy;var _a$$module$build$src$core$bubbles$bubble,Bubble$$module$build$src$core$bubbles$bubble=class{constructor(a,b,c,d,e){this.workspace=a;this.anchor=b;this.ownerRect=c;this.owner=e;this.size=new Size$$module$build$src$core$utils$size(0,0);this.colour=\"#ffffff\";this.disposed=!1;this.relativeLeft=this.relativeTop=0;this.dragStrategy=new BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy(this,this.workspace);this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.svgRoot=\ncreateSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyBubble\"},a.getBubbleCanvas());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyEmboss\"},this.svgRoot);this.tail=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyBubbleTail\"},a);this.background=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":\"blocklyDraggable\",x:0,y:0,rx:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,ry:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);this.contentContainer=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.svgRoot);this.focusableElement=d!=null?d:this.svgRoot;this.focusableElement.setAttribute(\"id\",this.id);conditionalBind$$module$build$src$core$browser_events(this.background,\"pointerdown\",this,this.onMouseDown);conditionalBind$$module$build$src$core$browser_events(this.focusableElement,\n\"keydown\",this,this.onKeyDown)}dispose(){removeNode$$module$build$src$core$utils$dom(this.svgRoot);this.disposed=!0}setAnchorLocation(a,b=!1){this.anchor=a;b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail()}setPositionRelativeToAnchor(a,b){this.relativeLeft=a;this.relativeTop=b;this.positionRelativeToAnchor();this.renderTail()}getSize(){return this.size}setSize(a,b=!1){a.width=Math.max(a.width,_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);a.height=Math.max(a.height,\n_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);this.size=a;this.background.setAttribute(\"width\",`${a.width}`);this.background.setAttribute(\"height\",`${a.height}`);b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail()}getColour(){return this.colour}setColour(a){this.colour=a;this.tail.setAttribute(\"fill\",a);this.background.setAttribute(\"fill\",a)}onMouseDown(a){let b;(b=this.workspace.getGesture(a))==null||b.handleBubbleStart(a,this);$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(a){a.key===\n\"Escape\"&&this.owner&&(this.owner.setBubbleVisible(!1),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let a=this.anchor.x;a=this.workspace.RTL?a-(this.relativeLeft+this.size.width):a+this.relativeLeft;this.moveTo(a,this.relativeTop+this.anchor.y)}moveTo(a,b){this.svgRoot.setAttribute(\"transform\",`translate(${a}, ${b})`)}positionByRect(a=new Rect$$module$build$src$core$utils$rect(0,0,0,0)){var b=this.workspace.getMetricsManager().getViewMetrics(!0),\nc=this.getOptimalRelativeLeft(b),d=this.getOptimalRelativeTop(b);const e={x:c,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.size.width-30,y:d};d={x:a.getWidth(),y:d};var g={x:c,y:a.getHeight()};c=a.getWidth()<a.getHeight()?d:g;a=a.getWidth()<a.getHeight()?g:d;d=this.getOverlap(e,b);g=this.getOverlap(f,b);const h=this.getOverlap(c,b);b=this.getOverlap(a,b);b=Math.max(d,g,h,b);d===b?(this.relativeLeft=e.x,this.relativeTop=e.y):g===b?(this.relativeLeft=\nf.x,this.relativeTop=f.y):h===b?(this.relativeLeft=c.x,this.relativeTop=c.y):(this.relativeLeft=a.x,this.relativeTop=a.y);this.positionRelativeToAnchor()}getOverlap(a,b){var c=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x+this.anchor.x;a=a.y+this.anchor.y;return Math.max(0,Math.min(1,(Math.min(c+this.size.width,b.left+b.width)-Math.max(c,b.left))*(Math.min(a+this.size.height,b.top+b.height)-Math.max(a,b.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(a){let b=-this.size.width/\n4;if(this.size.width>a.width)return b;a=this.getWorkspaceViewRect(a);if(this.workspace.RTL){var c=this.anchor.x-b;c-this.size.width<a.left?b=-(a.left-this.anchor.x+this.size.width):c>a.right&&(b=-(a.right-this.anchor.x))}else{c=b+this.anchor.x;const d=c+this.size.width;c<a.left?b=a.left-this.anchor.x:d>a.right&&(b=a.right-this.anchor.x-this.size.width)}return b}getOptimalRelativeTop(a){let b=-this.size.height/4;if(this.size.height>a.height)return b;const c=this.anchor.y+b,d=c+this.size.height;a=this.getWorkspaceViewRect(a);\nc<a.top?b=a.top-this.anchor.y:d>a.bottom&&(b=a.bottom-this.anchor.y-this.size.height);return b}getWorkspaceViewRect(a){const b=a.top;let c=a.top+a.height,d=a.left;a=a.left+a.width;c-=this.getScrollbarThickness();this.workspace.RTL?d-=this.getScrollbarThickness():a-=this.getScrollbarThickness();return new Rect$$module$build$src$core$utils$rect(b,c,d,a)}getScrollbarThickness(){return Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness/this.workspace.scale}renderTail(){const a=[];var b=this.size.width/\n2,c=this.size.height/2,d=-this.relativeLeft,e=-this.relativeTop;if(b===d&&c===e)a.push(\"M \"+b+\",\"+c);else{e-=c;d-=b;this.workspace.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);e<0&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>Math.PI*2&&(h-=Math.PI*2);var k=Math.sin(h);const m=Math.cos(h);let n=(this.size.width+this.size.height)/_a$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS;n=Math.min(n,this.size.width,this.size.height)/4;h=1-_a$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS/f;d=b+\nh*d;e=c+h*e;h=b+n*m;const p=c+n*k;b-=n*m;c-=n*k;k=toRadians$$module$build$src$core$utils$math(this.workspace.RTL?-_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE:_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE);k=g+k;k>Math.PI*2&&(k-=Math.PI*2);g=Math.sin(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;f=Math.cos(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;a.push(\"M\"+h+\",\"+p);a.push(\"C\"+(h+f)+\",\"+(p+g)+\" \"+d+\",\"+e+\" \"+d+\",\"+e);a.push(\"C\"+d+\",\"+e+\" \"+(b+f)+\",\"+(c+g)+\" \"+\nb+\",\"+c)}a.push(\"z\");let l;(l=this.tail)==null||l.setAttribute(\"d\",a.join(\" \"))}bringToFront(){let a;const b=(a=this.svgRoot)==null?void 0:a.parentNode;return this.svgRoot&&(b==null?void 0:b.lastChild)!==this.svgRoot?(b==null||b.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(a){this.moveTo(a.x,\na.y);this.relativeLeft=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x-this.anchor.x;this.relativeTop=a.y-this.anchor.y;this.renderTail()}setDragging(a){}setDeleteStyle(a){}isDeletable(){return!1}showContextMenu(a){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(a){this.dragStrategy.drag(a)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){fireSelectedEvent$$module$build$src$core$common(this)}unselect(){fireSelectedEvent$$module$build$src$core$common(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();\nthis.bringToFront();var a=this.getRelativeToSurfaceXY();const b=this.getSize();a=new Rect$$module$build$src$core$utils$rect(a.y,a.y+b.height,a.x,a.x+b.width);this.workspace.scrollBoundsIntoView(a)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};_a$$module$build$src$core$bubbles$bubble=Bubble$$module$build$src$core$bubbles$bubble;Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH=6;\nBubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER=_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2;Bubble$$module$build$src$core$bubbles$bubble.MIN_SIZE=_a$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;Bubble$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS=1;Bubble$$module$build$src$core$bubbles$bubble.TAIL_ANGLE=20;Bubble$$module$build$src$core$bubbles$bubble.TAIL_BEND=4;Bubble$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS=8;\nvar module$build$src$core$bubbles$bubble={};module$build$src$core$bubbles$bubble.Bubble=Bubble$$module$build$src$core$bubbles$bubble;var MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(b,c,d);this.workspace=b;this.anchor=c;this.ownerRect=d;this.autoLayout=!0;b=new Options$$module$build$src$core$options(a);this.validateWorkspaceOptions(b);this.svgDialog=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,y:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},\nthis.contentContainer);a.parentWorkspace=this.workspace;this.miniWorkspace=this.newWorkspaceSvg(new Options$$module$build$src$core$options(a));this.miniWorkspace.internalIsMutator=!0;a=this.miniWorkspace.createDom(\"blocklyMutatorBackground\");this.svgDialog.appendChild(a);b.languageTree&&(a.insertBefore(this.miniWorkspace.addFlyout(Svg$$module$build$src$core$utils$svg.G),this.miniWorkspace.getCanvas()),a=this.miniWorkspace.getFlyout(),a==null||a.init(this.miniWorkspace),a==null||a.show(b.languageTree));\naddClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyMiniWorkspaceBubble\");this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let e,f;(e=this.miniWorkspace.getFlyout())==null||(f=e.getWorkspace())==null||f.addChangeListener(this.onWorkspaceChange.bind(this));this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose();super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(a){this.miniWorkspace.addChangeListener(a)}validateWorkspaceOptions(a){if(a.hasCategories)throw Error(\"The miniworkspace bubble does not support toolboxes with categories\");\nif(a.hasTrashcan)throw Error(\"The miniworkspace bubble does not support trashcans\");if(a.zoomOptions.controls||a.zoomOptions.wheel||a.zoomOptions.pinch)throw Error(\"The miniworkspace bubble does not support zooming\");if(a.moveOptions.scrollbars||a.moveOptions.wheel||a.moveOptions.drag)throw Error(\"The miniworkspace bubble does not scrolling/moving the workspace\");if(a.horizontalLayout)throw Error(\"The miniworkspace bubble does not support horizontal layouts\");}onWorkspaceChange(){this.bumpBlocksIntoBounds();\nthis.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const a of this.miniWorkspace.getTopBlocks(!1)){const b=a.getRelativeToSurfaceXY();b.y<20&&a.moveBy(0,20-b.y);if(a.RTL){let c=-20;const d=this.miniWorkspace.getFlyout();d&&(c-=d.getWidth());b.x>c&&a.moveBy(c-b.x,0)}else b.x<20&&a.moveBy(20-b.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=\n!this.miniWorkspace.keyboardMoveInProgress);var a=this.getSize(),b=this.calculateWorkspaceSize();Math.abs(a.width-b.width)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE&&Math.abs(a.height-b.height)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute(\"width\",`${b.width}px`),this.svgDialog.setAttribute(\"height\",`${b.height}px`),this.miniWorkspace.setCachedParentSvgSize(b.width,b.height),\nthis.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute(\"transform\",`translate(${b.width}, 0)`),this.setSize(new Size$$module$build$src$core$utils$size(b.width+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,b.height+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var a=this.miniWorkspace.getCanvas().getBBox();let b=a.width+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;\na=a.height+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;const c=this.miniWorkspace.getFlyout();if(c){const d=c.getWorkspace().getMetricsManager().getScrollMetrics();a=Math.max(a,d.height+20);b+=c.getWidth()}return new Size$$module$build$src$core$utils$size(b,a)}updateBlockStyles(){for(var a of this.miniWorkspace.getAllBlocks(!1))a.setStyle(a.getStyleName());let b;if(a=(b=this.miniWorkspace.getFlyout())==null?void 0:b.getWorkspace())for(const c of a.getAllBlocks(!1))c.setStyle(c.getStyleName())}moveDuringDrag(a){super.moveDuringDrag(a);\nthis.autoLayout=!1}moveTo(a,b){super.moveTo(a,b);this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(a){throw Error(\"The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts\");}};MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE=10;MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN=Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER*3;var module$build$src$core$bubbles$mini_workspace_bubble={};\nmodule$build$src$core$bubbles$mini_workspace_bubble.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;var Icon$$module$build$src$core$icons$icon=class{constructor(a){this.sourceBlock=a;this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.workspaceLocation=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.svgRoot=null;this.tooltip=a;this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator()}getType(){throw Error(\"Icons must implement getType\");}initView(a){if(!this.svgRoot){var b=this.sourceBlock;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,\n{\"class\":\"blocklyIconGroup\",id:this.id});b.getSvgRoot().appendChild(this.svgRoot);this.updateSvgRootOffset();conditionalBind$$module$build$src$core$browser_events(this.svgRoot,\"pointerdown\",this,a);this.svgRoot.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(this.svgRoot)}}dispose(){unbindMouseEvents$$module$build$src$core$tooltip(this.svgRoot);removeNode$$module$build$src$core$utils$dom(this.svgRoot)}getWeight(){return-1}getSize(){return new Size$$module$build$src$core$utils$size(0,0)}setTooltip(a){this.tooltip=\na!=null?a:this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display=\"none\":this.svgRoot.style.display=\"block\",hasBubble$$module$build$src$core$interfaces$i_has_bubble(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display=\"none\")}isShownWhenCollapsed(){return!1}setOffsetInBlock(a){this.offsetInBlock=a;this.updateSvgRootOffset()}updateSvgRootOffset(){let a;\n(a=this.svgRoot)==null||a.setAttribute(\"transform\",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(a){this.workspaceLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.offsetInBlock)}onClick(){}isClickableInFlyout(a){return!0}getFocusableElement(){const a=this.svgRoot;if(!a)throw Error(\"Attempting to focus uninitialized icon.\");return a}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var a=this.sourceBlock.getBoundingRectangle();\na=new Rect$$module$build$src$core$utils$rect(a.top+this.offsetInBlock.y,a.top+this.offsetInBlock.y+this.getSize().height,a.left+this.offsetInBlock.x,a.left+this.offsetInBlock.x+this.getSize().width);this.sourceBlock.workspace.scrollBoundsIntoView(a)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},module$build$src$core$icons$icon={};module$build$src$core$icons$icon.Icon=Icon$$module$build$src$core$icons$icon;var SIZE$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon;SIZE$$module$build$src$core$icons$mutator_icon=17;WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon=16;\n$.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a,b){super(b);this.flyoutBlockTypes=a;this.sourceBlock=b;this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconShape\",\nrx:\"4\",ry:\"4\",height:\"16\",width:\"16\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{\"class\":\"blocklyIconShape\",r:\"2.7\",cx:\"8\",cy:\"8\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyMutatorIcon\"))}dispose(){super.dispose();let a;(a=this.miniWorkspaceBubble)==null||a.dispose()}getWeight(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$mutator_icon,\nSIZE$$module$build$src$core$icons$mutator_icon)}applyColour(){super.applyColour();let a;(a=this.miniWorkspaceBubble)==null||a.setColour(this.sourceBlock.getColour());let b;(b=this.miniWorkspaceBubble)==null||b.updateBlockStyles()}updateCollapsed(){super.updateCollapsed();this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(a){super.onLocationChange(a);let b;(b=this.miniWorkspaceBubble)==null||b.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick();this.sourceBlock.isEditable()&&\nthis.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){if(b.bubbleIsVisible()!==a){yield finishQueuedRenders$$module$build$src$core$render_management();if(a){b.miniWorkspaceBubble=new MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble(b.getMiniWorkspaceConfig(),b.sourceBlock.workspace,b.getAnchorLocation(),\nb.getBubbleOwnerRect());b.applyColour();b.createRootBlock();b.addSaveConnectionsListener();let c;(c=b.miniWorkspaceBubble)==null||c.addWorkspaceChangeListener(b.createMiniWorkspaceChangeListener())}else{let c;(c=b.miniWorkspaceBubble)==null||c.dispose();b.miniWorkspaceBubble=null;b.saveConnectionsListener&&b.sourceBlock.workspace.removeChangeListener(b.saveConnectionsListener);b.saveConnectionsListener=null}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,\na,\"mutator\"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let a;const b={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(a=this.sourceBlock.workspace.options.rendererOverrides)!=null?a:void 0};this.flyoutBlockTypes.length&&(b.toolbox={kind:\"flyoutToolbox\",contents:this.flyoutBlockTypes.map(c=>({kind:\"block\",type:c}))});return b}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$mutator_icon/\n2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){const a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error(\"Blocks with mutator icons must include a decompose method\");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());\nfor(var a of this.rootBlock.getDescendants(!1))a.queueRender();this.rootBlock.setMovable(!1);this.rootBlock.setDeletable(!1);let b,c,d,e;a=(e=(b=this.miniWorkspaceBubble)==null?void 0:(c=b.getWorkspace())==null?void 0:(d=c.getFlyout())==null?void 0:d.getWidth())!=null?e:0;this.rootBlock.moveBy(this.rootBlock.RTL?-(a+WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon):WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&\nthis.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return a=>{$.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(a)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null;this.recomposeSourceBlock()},\n0))}}static isIgnorableMutatorEvent(a){return a.isUiEvent||isBlockCreate$$module$build$src$core$events$predicates(a)||isBlockChange$$module$build$src$core$events$predicates(a)&&a.element===\"disabled\"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error(\"Blocks with mutator icons must include a compose method\");var a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);\nthis.sourceBlock.compose(this.rootBlock);var c=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);b!==c&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\"mutation\",null,b,c));$.setGroup$$module$build$src$core$events$utils(a)}}getWorkspace(){let a;return(a=this.miniWorkspaceBubble)==null?void 0:a.getWorkspace()}};\n$.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.MUTATOR;$.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1;var module$build$src$core$icons$mutator_icon={};module$build$src$core$icons$mutator_icon.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;var allExtensions$$module$build$src$core$extensions=Object.create(null),TEST_ONLY$$module$build$src$core$extensions={allExtensions:allExtensions$$module$build$src$core$extensions};$.register$$module$build$src$core$extensions(\"parent_tooltip_when_inline\",extensionParentTooltip$$module$build$src$core$extensions);var module$build$src$core$extensions={TEST_ONLY:TEST_ONLY$$module$build$src$core$extensions};module$build$src$core$extensions.apply=apply$$module$build$src$core$extensions;\nmodule$build$src$core$extensions.buildTooltipForDropdown=$.buildTooltipForDropdown$$module$build$src$core$extensions;module$build$src$core$extensions.buildTooltipWithFieldText=$.buildTooltipWithFieldText$$module$build$src$core$extensions;module$build$src$core$extensions.isRegistered=isRegistered$$module$build$src$core$extensions;module$build$src$core$extensions.register=$.register$$module$build$src$core$extensions;module$build$src$core$extensions.registerMixin=$.registerMixin$$module$build$src$core$extensions;\nmodule$build$src$core$extensions.registerMutator=$.registerMutator$$module$build$src$core$extensions;module$build$src$core$extensions.runAfterPageLoad=runAfterPageLoad$$module$build$src$core$extensions;module$build$src$core$extensions.unregister=unregister$$module$build$src$core$extensions;var KeyCodes$$module$build$src$core$utils$keycodes;\n(function(a){a[a.WIN_KEY_FF_LINUX=0]=\"WIN_KEY_FF_LINUX\";a[a.MAC_ENTER=3]=\"MAC_ENTER\";a[a.BACKSPACE=8]=\"BACKSPACE\";a[a.TAB=9]=\"TAB\";a[a.NUM_CENTER=12]=\"NUM_CENTER\";a[a.ENTER=13]=\"ENTER\";a[a.SHIFT=16]=\"SHIFT\";a[a.CTRL=17]=\"CTRL\";a[a.ALT=18]=\"ALT\";a[a.PAUSE=19]=\"PAUSE\";a[a.CAPS_LOCK=20]=\"CAPS_LOCK\";a[a.ESC=27]=\"ESC\";a[a.SPACE=32]=\"SPACE\";a[a.PAGE_UP=33]=\"PAGE_UP\";a[a.PAGE_DOWN=34]=\"PAGE_DOWN\";a[a.END=35]=\"END\";a[a.HOME=36]=\"HOME\";a[a.LEFT=37]=\"LEFT\";a[a.UP=38]=\"UP\";a[a.RIGHT=39]=\"RIGHT\";a[a.DOWN=40]=\n\"DOWN\";a[a.PLUS_SIGN=43]=\"PLUS_SIGN\";a[a.PRINT_SCREEN=44]=\"PRINT_SCREEN\";a[a.INSERT=45]=\"INSERT\";a[a.DELETE=46]=\"DELETE\";a[a.ZERO=48]=\"ZERO\";a[a.ONE=49]=\"ONE\";a[a.TWO=50]=\"TWO\";a[a.THREE=51]=\"THREE\";a[a.FOUR=52]=\"FOUR\";a[a.FIVE=53]=\"FIVE\";a[a.SIX=54]=\"SIX\";a[a.SEVEN=55]=\"SEVEN\";a[a.EIGHT=56]=\"EIGHT\";a[a.NINE=57]=\"NINE\";a[a.FF_SEMICOLON=59]=\"FF_SEMICOLON\";a[a.FF_EQUALS=61]=\"FF_EQUALS\";a[a.FF_DASH=173]=\"FF_DASH\";a[a.FF_HASH=163]=\"FF_HASH\";a[a.QUESTION_MARK=63]=\"QUESTION_MARK\";a[a.AT_SIGN=64]=\"AT_SIGN\";\na[a.A=65]=\"A\";a[a.B=66]=\"B\";a[a.C=67]=\"C\";a[a.D=68]=\"D\";a[a.E=69]=\"E\";a[a.F=70]=\"F\";a[a.G=71]=\"G\";a[a.H=72]=\"H\";a[a.I=73]=\"I\";a[a.J=74]=\"J\";a[a.K=75]=\"K\";a[a.L=76]=\"L\";a[a.M=77]=\"M\";a[a.N=78]=\"N\";a[a.O=79]=\"O\";a[a.P=80]=\"P\";a[a.Q=81]=\"Q\";a[a.R=82]=\"R\";a[a.S=83]=\"S\";a[a.T=84]=\"T\";a[a.U=85]=\"U\";a[a.V=86]=\"V\";a[a.W=87]=\"W\";a[a.X=88]=\"X\";a[a.Y=89]=\"Y\";a[a.Z=90]=\"Z\";a[a.META=91]=\"META\";a[a.WIN_KEY_RIGHT=92]=\"WIN_KEY_RIGHT\";a[a.CONTEXT_MENU=93]=\"CONTEXT_MENU\";a[a.NUM_ZERO=96]=\"NUM_ZERO\";a[a.NUM_ONE=97]=\n\"NUM_ONE\";a[a.NUM_TWO=98]=\"NUM_TWO\";a[a.NUM_THREE=99]=\"NUM_THREE\";a[a.NUM_FOUR=100]=\"NUM_FOUR\";a[a.NUM_FIVE=101]=\"NUM_FIVE\";a[a.NUM_SIX=102]=\"NUM_SIX\";a[a.NUM_SEVEN=103]=\"NUM_SEVEN\";a[a.NUM_EIGHT=104]=\"NUM_EIGHT\";a[a.NUM_NINE=105]=\"NUM_NINE\";a[a.NUM_MULTIPLY=106]=\"NUM_MULTIPLY\";a[a.NUM_PLUS=107]=\"NUM_PLUS\";a[a.NUM_MINUS=109]=\"NUM_MINUS\";a[a.NUM_PERIOD=110]=\"NUM_PERIOD\";a[a.NUM_DIVISION=111]=\"NUM_DIVISION\";a[a.F1=112]=\"F1\";a[a.F2=113]=\"F2\";a[a.F3=114]=\"F3\";a[a.F4=115]=\"F4\";a[a.F5=116]=\"F5\";a[a.F6=\n117]=\"F6\";a[a.F7=118]=\"F7\";a[a.F8=119]=\"F8\";a[a.F9=120]=\"F9\";a[a.F10=121]=\"F10\";a[a.F11=122]=\"F11\";a[a.F12=123]=\"F12\";a[a.NUMLOCK=144]=\"NUMLOCK\";a[a.SCROLL_LOCK=145]=\"SCROLL_LOCK\";a[a.FIRST_MEDIA_KEY=166]=\"FIRST_MEDIA_KEY\";a[a.LAST_MEDIA_KEY=183]=\"LAST_MEDIA_KEY\";a[a.SEMICOLON=186]=\"SEMICOLON\";a[a.DASH=189]=\"DASH\";a[a.EQUALS=187]=\"EQUALS\";a[a.COMMA=188]=\"COMMA\";a[a.PERIOD=190]=\"PERIOD\";a[a.SLASH=191]=\"SLASH\";a[a.APOSTROPHE=192]=\"APOSTROPHE\";a[a.TILDE=192]=\"TILDE\";a[a.SINGLE_QUOTE=222]=\"SINGLE_QUOTE\";\na[a.OPEN_SQUARE_BRACKET=219]=\"OPEN_SQUARE_BRACKET\";a[a.BACKSLASH=220]=\"BACKSLASH\";a[a.CLOSE_SQUARE_BRACKET=221]=\"CLOSE_SQUARE_BRACKET\";a[a.WIN_KEY=224]=\"WIN_KEY\";a[a.MAC_FF_META=224]=\"MAC_FF_META\";a[a.MAC_WK_CMD_LEFT=91]=\"MAC_WK_CMD_LEFT\";a[a.MAC_WK_CMD_RIGHT=93]=\"MAC_WK_CMD_RIGHT\";a[a.WIN_IME=229]=\"WIN_IME\";a[a.VK_NONAME=252]=\"VK_NONAME\";a[a.PHANTOM=255]=\"PHANTOM\"})(KeyCodes$$module$build$src$core$utils$keycodes||(KeyCodes$$module$build$src$core$utils$keycodes={}));\nvar module$build$src$core$utils$keycodes={};module$build$src$core$utils$keycodes.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;var module$build$src$core$utils$svg_paths={};module$build$src$core$utils$svg_paths.arc=arc$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.curve=curve$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.line=line$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineOnAxis=lineOnAxis$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineTo=lineTo$$module$build$src$core$utils$svg_paths;\nmodule$build$src$core$utils$svg_paths.moveBy=moveBy$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.moveTo=moveTo$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.point=point$$module$build$src$core$utils$svg_paths;var module$build$src$core$utils={};module$build$src$core$utils.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;module$build$src$core$utils.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;module$build$src$core$utils.Rect=Rect$$module$build$src$core$utils$rect;module$build$src$core$utils.Size=Size$$module$build$src$core$utils$size;module$build$src$core$utils.Svg=Svg$$module$build$src$core$utils$svg;module$build$src$core$utils.aria=module$build$src$core$utils$aria;\nmodule$build$src$core$utils.array=module$build$src$core$utils$array;module$build$src$core$utils.browserEvents=module$build$src$core$browser_events;module$build$src$core$utils.colour=module$build$src$core$utils$colour;module$build$src$core$utils.deprecation=module$build$src$core$utils$deprecation;module$build$src$core$utils.dom=module$build$src$core$utils$dom;module$build$src$core$utils.extensions=module$build$src$core$extensions;module$build$src$core$utils.idGenerator=module$build$src$core$utils$idgenerator;\nmodule$build$src$core$utils.math=module$build$src$core$utils$math;module$build$src$core$utils.object=module$build$src$core$utils$object;module$build$src$core$utils.parsing=module$build$src$core$utils$parsing;module$build$src$core$utils.string=module$build$src$core$utils$string;module$build$src$core$utils.style=module$build$src$core$utils$style;module$build$src$core$utils.svgMath=module$build$src$core$utils$svg_math;module$build$src$core$utils.svgPaths=module$build$src$core$utils$svg_paths;\nmodule$build$src$core$utils.toolbox=module$build$src$core$utils$toolbox;module$build$src$core$utils.userAgent=module$build$src$core$utils$useragent;module$build$src$core$utils.xml=module$build$src$core$utils$xml;var TextInputBubble$$module$build$src$core$bubbles$textinput_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(a,b,c,void 0,d);this.workspace=a;this.anchor=b;this.ownerRect=c;this.owner=d;this.resizePointerMoveListener=this.resizePointerUpListener=null;this.sizeChangeListeners=[];this.locationChangeListeners=[];this.DEFAULT_SIZE=new Size$$module$build$src$core$utils$size(160+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,80+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);\nthis.MIN_SIZE=new Size$$module$build$src$core$utils$size(45+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,20+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);this.editable=!0;addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyTextInputBubble\");this.editor=new CommentEditor$$module$build$src$core$comments$comment_editor(a,this.id,()=>{$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)});this.contentContainer.appendChild(this.editor.getDom());\nthis.resizeGroup=this.createResizeHandle(this.svgRoot,a);this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(a){this.editor.setText(a)}setEditable(a){this.editable=a;this.editor.setEditable(a)}isEditable(){return this.editable}addTextChangeListener(a){this.editor.addTextChangeListener(a)}addSizeChangeListener(a){this.sizeChangeListeners.push(a)}addLocationChangeListener(a){this.locationChangeListeners.push(a)}createResizeHandle(a,b){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,\n{\"class\":\"blocklyResizeHandle\",href:`${b.options.pathToMedia}resize-handle.svg`},a);conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onResizePointerDown);return a}setSize(a,b=!1){a.width=Math.max(a.width,this.MIN_SIZE.width);a.height=Math.max(a.height,this.MIN_SIZE.height);const c=a.width-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,d=a.height-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;this.editor.updateSize(new Size$$module$build$src$core$utils$size(c,\nd),new Size$$module$build$src$core$utils$size(0,0));this.editor.getDom().setAttribute(\"x\",`${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER/2}`);this.editor.getDom().setAttribute(\"y\",`${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER/2}`);this.resizeGroup.setAttribute(\"y\",`${d}`);this.workspace.RTL?this.resizeGroup.setAttribute(\"x\",`${-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER}`):this.resizeGroup.setAttribute(\"x\",`${c}`);super.setSize(a,b);this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(a){super.moveDuringDrag(a);\nthis.onLocationChange()}setPositionRelativeToAnchor(a,b){super.setPositionRelativeToAnchor(a,b);this.onLocationChange()}positionByRect(a=new Rect$$module$build$src$core$utils$rect(0,0,0,0)){super.positionByRect(a);this.onLocationChange()}onResizePointerDown(a){this.bringToFront();isRightButton$$module$build$src$core$browser_events(a)||(start$$module$build$src$core$utils$drag(this.workspace,a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,\nthis.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",this,this.onResizePointerMove),this.workspace.hideChaff());a.stopPropagation()}onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),\nthis.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(a){a=move$$module$build$src$core$utils$drag(this.workspace,a);this.setSize(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y),!1);this.onSizeChange()}onSizeChange(){for(const a of this.sizeChangeListeners)a()}onLocationChange(){for(const a of this.locationChangeListeners)a()}getEditor(){return this.editor}};\nregister$$module$build$src$core$css(\"\\n.blocklyTextInputBubble .blocklyTextarea {\\n  background-color: var(--commentFillColour);\\n  border: 0;\\n  box-sizing: border-box;\\n  display: block;\\n  outline: 0;\\n  padding: 5px;\\n  resize: none;\\n  width: 100%;\\n  height: 100%;\\n}\\n\");var module$build$src$core$bubbles$textinput_bubble={};module$build$src$core$bubbles$textinput_bubble.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var ConnectionType$$module$build$src$core$connection_type;(function(a){a[a.INPUT_VALUE=1]=\"INPUT_VALUE\";a[a.OUTPUT_VALUE=2]=\"OUTPUT_VALUE\";a[a.NEXT_STATEMENT=3]=\"NEXT_STATEMENT\";a[a.PREVIOUS_STATEMENT=4]=\"PREVIOUS_STATEMENT\"})(ConnectionType$$module$build$src$core$connection_type||(ConnectionType$$module$build$src$core$connection_type={}));var module$build$src$core$connection_type={};module$build$src$core$connection_type.ConnectionType=ConnectionType$$module$build$src$core$connection_type;var ConnectionDB$$module$build$src$core$connection_db=class{constructor(a){this.connectionChecker=a;this.connections=[]}addConnection(a,b){b=this.calculateIndexForYPos(b);this.connections.splice(b,0,a)}findIndexOfConnection(a,b){if(!this.connections.length)return-1;const c=this.calculateIndexForYPos(b);if(c>=this.connections.length)return-1;b=a.y;let d=c;for(;d>=0&&this.connections[d].y===b;){if(this.connections[d]===a)return d;d--}for(d=c;d<this.connections.length&&this.connections[d].y===b;){if(this.connections[d]===\na)return d;d++}return-1}calculateIndexForYPos(a){if(!this.connections.length)return 0;let b=0,c=this.connections.length;for(;b<c;){const d=Math.floor((b+c)/2);if(this.connections[d].y<a)b=d+1;else if(this.connections[d].y>a)c=d;else{b=d;break}}return b}removeConnection(a,b){a=this.findIndexOfConnection(a,b);if(a===-1)throw Error(\"Unable to find connection in connectionDB.\");this.connections.splice(a,1)}getNeighbours(a,b){function c(l){const m=e-d[l].x,n=f-d[l].y;Math.sqrt(m*m+n*n)<=b&&k.push(d[l]);\nreturn n<b}const d=this.connections,e=a.x,f=a.y;a=0;let g=d.length-2,h=g;for(;a<h;)d[h].y<f?a=h:g=h,h=Math.floor((a+g)/2);const k=[];g=a=h;if(d.length){for(;a>=0&&c(a);)a--;do g++;while(g<d.length&&c(g))}return k}isInYRange(a,b,c){return Math.abs(this.connections[a].y-b)<=c}searchForClosest(a,b,c){if(!this.connections.length)return{connection:null,radius:b};const d=a.y,e=a.x;a.x=e+c.x;a.y=d+c.y;var f=this.calculateIndexForYPos(a.y);c=null;let g=b,h,k=f-1;for(;k>=0&&this.isInYRange(k,a.y,b);)h=this.connections[k],\nthis.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.connections.length&&this.isInYRange(f,a.y,b);)h=this.connections[f],this.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),f++;a.x=e;a.y=d;return{connection:c,radius:g}}static init(a){const b=[];b[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);\nb[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);return b}},module$build$src$core$connection_db={};module$build$src$core$connection_db.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;var Selected$$module$build$src$core$events$events_selected=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(c);this.type=EventType$$module$build$src$core$events$type.SELECTED;this.oldElementId=a!=null?a:void 0;this.newElementId=b!=null?b:void 0}toJson(){const a=super.toJson();a.oldElementId=this.oldElementId;a.newElementId=this.newElementId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new Selected$$module$build$src$core$events$events_selected);\nb.oldElementId=a.oldElementId;b.newElementId=a.newElementId;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.SELECTED,Selected$$module$build$src$core$events$events_selected);var module$build$src$core$events$events_selected={};module$build$src$core$events$events_selected.Selected=Selected$$module$build$src$core$events$events_selected;var BlockDelete$$module$build$src$core$events$events_block_delete=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_DELETE;if(a){if(a.getParent())throw Error(\"Connected blocks cannot be deleted.\");a.isShadow()&&(this.recordUndo=!1);this.oldXml=blockToDomWithXY$$module$build$src$core$xml(a);this.ids=getDescendantIds$$module$build$src$core$events$utils(a);this.wasShadow=a.isShadow();this.oldJson=\nsave$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0})}}toJson(){const a=super.toJson();if(!this.oldXml)throw Error(\"The old block XML is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(this.wasShadow===void 0)throw Error(\"Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson\");if(!this.oldJson)throw Error(\"The old block JSON is undefined. Either pass a block to the constructor, or call fromJson\");\na.oldXml=domToText$$module$build$src$core$xml(this.oldXml);a.ids=this.ids;a.wasShadow=this.wasShadow;a.oldJson=this.oldJson;this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockDelete$$module$build$src$core$events$events_block_delete);b.oldXml=$.textToDom$$module$build$src$core$utils$xml(a.oldXml);b.ids=a.ids;b.wasShadow=a.wasShadow||b.oldXml.tagName.toLowerCase()===\"shadow\";b.oldJson=a.oldJson;a.recordUndo!==void 0&&(b.recordUndo=\na.recordUndo);return b}run(a){const b=this.getEventWorkspace_();if(!this.ids)throw Error(\"The block IDs are undefined. Either pass a block to the constructor, or call fromJson\");if(!this.oldJson)throw Error(\"The old block JSON is undefined. Either pass a block to the constructor, or call fromJson\");if(a)for(a=0;a<this.ids.length;a++){const c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn(\"Can't delete non-existent block: \"+c)}else append$$module$build$src$core$serialization$blocks(this.oldJson,\nb)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_DELETE,BlockDelete$$module$build$src$core$events$events_block_delete);var module$build$src$core$events$events_block_delete={};module$build$src$core$events$events_block_delete.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;var Connection$$module$build$src$core$connection=class{constructor(a,b){this.type=b;this.targetConnection=null;this.disposed=!1;this.shadowDom=this.check=null;this.y=this.x=0;this.shadowState=null;this.sourceBlock_=a;if(a.id.includes(\"_connection\"))throw Error(\"Connection ID indicator is contained in block ID. This will cause \"+`problems with focus: ${a.id}.`);this.id=`${a.id}_connection_${getNextUniqueId$$module$build$src$core$utils$idgenerator()}`}connect_(a){const b=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,\nc=this.getSourceBlock();var d=a.getSourceBlock();a.isConnected()&&a.disconnectInternal(!1);let e;if(this.isConnected()){const g=this.stashShadowState(),h=this.targetBlock();h.isShadow()?h.dispose(!1):(this.disconnectInternal(),e=h);this.applyShadowState(g)}let f;isEnabled$$module$build$src$core$events$utils()&&(f=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(d),f.setReason([\"connect\"]));connectReciprocally$$module$build$src$core$connection(this,\na);d.setParent(c);f&&(f.recordNew(),fire$$module$build$src$core$events$utils(f));if(e&&(a=this.type===b?e.outputConnection:e.previousConnection))if(d=Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(d,a))a.connect(d);else a.onFailedConnect(this)}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const a=this.targetBlock();a&&!a.isDeadOrDying()&&a.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===\nConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(a){}connect(a){if(this.targetConnection===a)return!0;if(this.getConnectionChecker().canConnect(this,a,!1)){const b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);\nthis.isSuperior()?this.connect_(a):a.connect_(this);$.setGroup$$module$build$src$core$events$utils(b)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(a=!0){const {parentConnection:b,childConnection:c}=this.getParentAndChildConnections();if(!b||!c)throw Error(\"Source connection not connected.\");const d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);let e;isEnabled$$module$build$src$core$events$utils()&&(e=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(c.getSourceBlock()),\ne.setReason([\"disconnect\"]));const f=this.targetConnection;f&&(f.targetConnection=null);this.targetConnection=null;a&&c.getSourceBlock().setParent(null);e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));c.getSourceBlock().isShadow()||b.respawnShadow_();$.setGroup$$module$build$src$core$events$utils(d)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:\n{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(a,b){if(this.getSourceBlock().isDeadOrDying())return!1;var c;b=(c=a.getInput(b))==null?void 0:c.connection;c=this.targetBlock();return c&&c!==a||!b||b.targetConnection===this?!1:(b.isConnected()&&b.disconnect(),b.connect(this),!0)}targetBlock(){if(this.isConnected()){let a,b;return(b=(a=this.targetConnection)==null?void 0:a.getSourceBlock())!=null?b:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,\nthis.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(a){a?(Array.isArray(a)||(a=[a]),this.check=a,this.onCheckChanged_()):this.check=null;return this}getCheck(){return this.check}setShadowDom(a){this.setShadowStateInternal({shadowDom:a})}getShadowDom(a){return a&&this.targetBlock().isShadow()?blockToDom$$module$build$src$core$xml(this.targetBlock()):this.shadowDom}setShadowState(a){this.setShadowStateInternal({shadowState:a})}getShadowState(a){return a&&\nthis.targetBlock()&&this.targetBlock().isShadow()?save$$module$build$src$core$serialization$blocks(this.targetBlock()):this.shadowState}neighbours(a){return[]}getParentInput(){let a=null;const b=this.sourceBlock_.inputList;for(let c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a}toString(){const a=this.sourceBlock_;if(!a)return\"Orphan Connection\";if(a.outputConnection===this)var b=\"Output Connection of \";else if(a.previousConnection===this)b=\"Previous Connection of \";else if(a.nextConnection===\nthis)b=\"Next Connection of \";else{b=null;for(let c=0,d;d=a.inputList[c];c++)if(d.connection===this){b=d;break}if(b)b='Input \"'+b.name+'\" connection on ';else return console.warn(\"Connection not actually connected to sourceBlock_\"),\"Orphan Connection\"}return b+a.toDevString()}stashShadowState(){const a=this.getShadowDom(!0),b=this.getShadowState(!0);this.shadowState=this.shadowDom=null;return{shadowDom:a,shadowState:b}}applyShadowState({shadowDom:a,shadowState:b}){this.shadowDom=a;this.shadowState=\nb}setShadowStateInternal({shadowDom:a=null,shadowState:b=null}={}){this.shadowDom=a;this.shadowState=b;this.getSourceBlock().isDeadOrDying()||((a=this.targetBlock())?a.isShadow()?(a.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(a=this.createShadowBlock(!1),this.serializeShadow(a),a&&a.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(a){var b=\nthis.getSourceBlock();const c=this.getShadowState(),d=this.getShadowDom();if(b.isDeadOrDying()||!c&&!d)return null;if(c)return b=appendInternal$$module$build$src$core$serialization$blocks(c,b.workspace,{parentConnection:a?this:void 0,isShadow:!0,recordUndo:!1});if(d){b=domToBlockInternal$$module$build$src$core$xml(d,b.workspace);if(a)if(this.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){if(!b.outputConnection)throw Error(\"Shadow block is missing an output connection\");\nif(!this.connect(b.outputConnection))throw Error(\"Could not connect shadow block to connection\");}else if(this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){if(!b.previousConnection)throw Error(\"Shadow block is missing previous connection\");if(!this.connect(b.previousConnection))throw Error(\"Could not connect shadow block to connection\");}else throw Error(\"Cannot connect a shadow block to a previous/output connection\");return b}return null}serializeShadow(a){a&&(this.shadowDom=\nblockToDom$$module$build$src$core$xml(a),this.shadowState=save$$module$build$src$core$serialization$blocks(a))}static getConnectionForOrphanedConnection(a,b){if(b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)return getConnectionForOrphanedOutput$$module$build$src$core$connection(a,b.getSourceBlock());a=a.lastConnectionInStack(!0);const c=b.getConnectionChecker();return a&&c.canConnect(b,a,!1)?a:null}};Connection$$module$build$src$core$connection.CAN_CONNECT=0;\nConnection$$module$build$src$core$connection.REASON_SELF_CONNECTION=1;Connection$$module$build$src$core$connection.REASON_WRONG_TYPE=2;Connection$$module$build$src$core$connection.REASON_TARGET_NULL=3;Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED=4;Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES=5;Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT=6;Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED=7;\nConnection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT=8;var module$build$src$core$connection={};module$build$src$core$connection.Connection=Connection$$module$build$src$core$connection;var DuplicateIconType$$module$build$src$core$icons$exceptions=class extends Error{constructor(a){super(`Tried to append an icon of type ${a.getType()} when an icon of `+\"that type already exists on the block. Use getIcon to access the existing icon.\");this.icon=a}},module$build$src$core$icons$exceptions={};module$build$src$core$icons$exceptions.DuplicateIconType=DuplicateIconType$$module$build$src$core$icons$exceptions;(function(a){a[a.LEFT=-1]=\"LEFT\";a[a.CENTRE=0]=\"CENTRE\";a[a.RIGHT=1]=\"RIGHT\"})($.Align$$module$build$src$core$inputs$align||($.Align$$module$build$src$core$inputs$align={}));var module$build$src$core$inputs$align={};module$build$src$core$inputs$align.Align=$.Align$$module$build$src$core$inputs$align;var FieldLabel$$module$build$src$core$field_label=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.class=null;this.EDITABLE=!1;this.maxDisplayLength=Infinity;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c?this.configure_(c):this.class=b||null,this.setValue(a))}configure_(a){super.configure_(a);a.class&&(this.class=a.class)}initView(){this.createTextElement_();this.class&&addClass$$module$build$src$core$utils$dom(this.getTextElement(),\nthis.class);this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyLabelField\")}doClassValidation_(a){return a===null||a===void 0?null:`${a}`}setClass(a){this.textElement_&&(this.class&&removeClass$$module$build$src$core$utils$dom(this.textElement_,this.class),a&&addClass$$module$build$src$core$utils$dom(this.textElement_,a));this.class=a}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};\nregister$$module$build$src$core$field_registry(\"field_label\",FieldLabel$$module$build$src$core$field_label);FieldLabel$$module$build$src$core$field_label.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_label={};module$build$src$core$field_label.FieldLabel=FieldLabel$$module$build$src$core$field_label;var COLLAPSE_CHARS$$module$build$src$core$internal_constants=30,OPPOSITE_TYPE$$module$build$src$core$internal_constants=[];OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE;\nOPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT;\nvar RENAME_VARIABLE_ID$$module$build$src$core$internal_constants=\"RENAME_VARIABLE_ID\",DELETE_VARIABLE_ID$$module$build$src$core$internal_constants=\"DELETE_VARIABLE_ID\",module$build$src$core$internal_constants={COLLAPSE_CHARS:COLLAPSE_CHARS$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID:DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,OPPOSITE_TYPE:OPPOSITE_TYPE$$module$build$src$core$internal_constants,RENAME_VARIABLE_ID:RENAME_VARIABLE_ID$$module$build$src$core$internal_constants};var BUMP_RANDOMNESS$$module$build$src$core$rendered_connection=10,RenderedConnection$$module$build$src$core$rendered_connection=class extends Connection$$module$build$src$core$connection{constructor(a,b){super(a,b);this.highlighted=!1;this.targetConnection=null;this.db=a.workspace.connectionDBList[b];this.dbOpposite=a.workspace.connectionDBList[OPPOSITE_TYPE$$module$build$src$core$internal_constants[b]];this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.trackedState=\nRenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK}dispose(){super.dispose();this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let a,b;(b=(a=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||b.call(a,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(a){const b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*\nb+a*a)}bumpAwayFrom(a,b=!1){if(!this.sourceBlock_.workspace.isDragging()){var c=$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection),d=$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection),e=a.sourceBlock_.getRootBlock(),f=this.sourceBlock_.getRootBlock();if(!e.isInFlyout&&!f.isInFlyout){var g=!0;if(f.isMovable())e.isMovable()&&b&&(d=-d);\nelse if(e.isMovable())g=!1,c=-c,d=-d;else return;b=g?a:this;a=g?this:a;e=g?f:e;e.RTL&&(c=-c);e.moveBy(b.x+c-a.x,b.y+d-a.y,[\"bump\"])}}}moveTo(a,b){let c=!1;this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK?(this.db.addConnection(this,b),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED,c=!0):this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&\n(this.db.removeConnection(this,this.y),this.db.addConnection(this,b),c=!0);this.x=a;this.y=b;return c}moveBy(a,b){return this.moveTo(this.x+a,this.y+b)}moveToOffset(a){return this.moveTo(a.x+this.offsetInBlock.x,a.y+this.offsetInBlock.y)}setOffsetInBlock(a,b){this.offsetInBlock.x=a;this.offsetInBlock.y=b}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var a=this.targetConnection;const b=this.targetBlock();a&&b&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.offsetInBlock,\na.offsetInBlock),b.translate(a.x,a.y))}closest(a,b){return this.dbOpposite.searchForClosest(this,a,b)}highlight(){this.highlighted=!0;const a=this.findHighlightSvg();a&&(a.style.display=\"\")}unhighlight(){this.highlighted=!1;const a=this.findHighlightSvg();a&&(a.style.display=\"none\")}isHighlighted(){return this.highlighted}setTracking(a){a&&this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED||!a&&this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED||\nthis.sourceBlock_.isInFlyout||(a?(this.db.addConnection(this,this.y),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED):(this.trackedState===RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED))}stopTrackingAll(){this.setTracking(!1);if(this.targetConnection){const a=this.targetBlock().getDescendants(!1);\nfor(let b=0;b<a.length;b++){const c=a[b],d=c.getConnections_(!0);for(let e=0;e<d.length;e++)d[e].setTracking(!1);for(const e of c.getIcons())hasBubble$$module$build$src$core$interfaces$i_has_bubble(e)&&e.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let a=[];if(this.type!==ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&this.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)return a;const b=this.targetBlock();if(b){let c;b.isCollapsed()?\n(c=[],b.outputConnection&&c.push(b.outputConnection),b.nextConnection&&c.push(b.nextConnection),b.previousConnection&&c.push(b.previousConnection)):c=b.getConnections_(!0);for(let d=0;d<c.length;d++)a.push(...c[d].startTrackingAll());a.length||(a=[b])}return a}onFailedConnect(a){const b=this.getSourceBlock();if(getRecordUndo$$module$build$src$core$events$utils()){const c=$.getGroup$$module$build$src$core$events$utils();setTimeout(function(){b.isDisposed()||b.getParent()||($.setGroup$$module$build$src$core$events$utils(c),\nthis.bumpAwayFrom(a),$.setGroup$$module$build$src$core$events$utils(!1))}.bind(this),$.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(a=!0){const {parentConnection:b,childConnection:c}=this.getParentAndChildConnections();if(b&&c){var d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);var e=b.getSourceBlock(),f=c.getSourceBlock();super.disconnectInternal(a);e.queueRender();f.updateDisabled();f.queueRender();f.getSvgRoot().style.display=\n\"block\";$.setGroup$$module$build$src$core$events$utils(d)}}respawnShadow_(){super.respawnShadow_();const a=this.targetBlock();a&&(a.initSvg(),a.queueRender())}neighbours(a){return this.dbOpposite.getNeighbours(this,a)}connect_(a){super.connect_(a);var b=this.getSourceBlock();a=a.getSourceBlock();b.updateDisabled();a.updateDisabled();a.queueRender();if(b=b.getInputWithBlock(a))b=b.isVisible(),a.getSvgRoot().style.display=b?\"block\":\"none\"}onCheckChanged_(){!this.isConnected()||this.targetConnection&&\nthis.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(a){super.setCheck(a);this.sourceBlock_.queueRender();return this}showContextMenu(a){const b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({focusedNode:this},a);if(b.length){var c=this.getSourceBlock(),d=c.workspace;if(a instanceof PointerEvent)var e=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,\na.clientY);else e=new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y),e=wsToScreenCoordinates$$module$build$src$core$utils$svg_math(d,e).translate(c.RTL?-5:5,5);show$$module$build$src$core$contextmenu(a,b,c.RTL,d,e)}}getFocusableElement(){const a=this.findHighlightSvg();if(a)return a;throw Error(\"No highlight SVG found corresponding to this connection.\");}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight();this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};\n(function(a){a=a.TrackedState||(a.TrackedState={});a[a.WILL_TRACK=-1]=\"WILL_TRACK\";a[a.UNTRACKED=0]=\"UNTRACKED\";a[a.TRACKED=1]=\"TRACKED\"})(RenderedConnection$$module$build$src$core$rendered_connection||(RenderedConnection$$module$build$src$core$rendered_connection={}));var TrackedState$$module$build$src$core$rendered_connection=RenderedConnection$$module$build$src$core$rendered_connection.TrackedState,module$build$src$core$rendered_connection={};\nmodule$build$src$core$rendered_connection.RenderedConnection=RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$rendered_connection.TrackedState=TrackedState$$module$build$src$core$rendered_connection;var Input$$module$build$src$core$inputs$input=class{constructor(a,b){this.name=a;this.sourceBlock=b;this.fieldRow=[];this.align=$.Align$$module$build$src$core$inputs$align.LEFT;this.visible=!0;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM;this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this}insertFieldAt(a,b,c){if(a<0||a>this.fieldRow.length)throw Error(\"index \"+a+\" out of bounds.\");if(!(b||\nb===\"\"&&c))return a;typeof b===\"string\"&&(b=$.fromJson$$module$build$src$core$field_registry({type:\"field_label\",text:b}));b.setSourceBlock(this.sourceBlock);this.sourceBlock.initialized&&this.initField(b);b.name=c;b.setVisible(this.isVisible());b.prefixField&&(a=this.insertFieldAt(a,b.prefixField));this.fieldRow.splice(a,0,b);a++;b.suffixField&&(a=this.insertFieldAt(a,b.suffixField));this.sourceBlock.rendered&&this.sourceBlock.queueRender();return a}removeField(a,b){for(let c=0,d;d=this.fieldRow[c];c++)if(d.name===\na)return d.dispose(),this.fieldRow.splice(c,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(b)return!1;throw Error('Field \"'+a+'\" not found.');}isVisible(){return this.visible}setVisible(a){let b=[];if(this.visible===a)return b;this.visible=a;for(let c=0,d;d=this.fieldRow[c];c++)d.setVisible(a);if(this.connection&&this.connection instanceof RenderedConnection$$module$build$src$core$rendered_connection){a?b=this.connection.startTrackingAll():this.connection.stopTrackingAll();const c=\nthis.connection.targetBlock();c&&(c.getSvgRoot().style.display=a?\"block\":\"none\")}return b}markDirty(){for(let a=0,b;b=this.fieldRow[a];a++)b.markDirty()}setCheck(a){if(!this.connection)throw Error(\"This input does not have a connection.\");this.connection.setCheck(a);return this}setAlign(a){this.align=a;this.sourceBlock.rendered&&this.sourceBlock.queueRender();return this}setShadowDom(a){if(!this.connection)throw Error(\"This input does not have a connection.\");this.connection.setShadowDom(a);return this}getShadowDom(){if(!this.connection)throw Error(\"This input does not have a connection.\");\nreturn this.connection.getShadowDom()}init(){for(const a of this.fieldRow)a.init()}initModel(){for(const a of this.fieldRow)a.initModel()}initField(a){this.sourceBlock.rendered?a.init():a.initModel()}dispose(){for(let a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose()}makeConnection(a){return this.sourceBlock.makeConnection_(a)}},module$build$src$core$inputs$input={};module$build$src$core$inputs$input.Input=Input$$module$build$src$core$inputs$input;var DummyInput$$module$build$src$core$inputs$dummy_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},module$build$src$core$inputs$dummy_input={};module$build$src$core$inputs$dummy_input.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;var EndRowInput$$module$build$src$core$inputs$end_row_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},module$build$src$core$inputs$end_row_input={};module$build$src$core$inputs$end_row_input.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;var StatementInput$$module$build$src$core$inputs$statement_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){if(!a)throw Error(\"Statement inputs must have a non-empty name\");super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT;this.connection=this.makeConnection(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)}},module$build$src$core$inputs$statement_input={};\nmodule$build$src$core$inputs$statement_input.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;var module$build$src$core$inputs$value_input;$.ValueInput$$module$build$src$core$inputs$value_input=class extends Input$$module$build$src$core$inputs$input{constructor(a,b){if(!a)throw Error(\"Value inputs must have a non-empty name\");super(a,b);this.name=a;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.VALUE;this.connection=this.makeConnection(ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE)}};module$build$src$core$inputs$value_input={};\nmodule$build$src$core$inputs$value_input.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;var module$build$src$core$interfaces$i_icon={};module$build$src$core$interfaces$i_icon.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;var module$build$src$core$interfaces$i_comment_icon={};module$build$src$core$interfaces$i_comment_icon.isCommentIcon=isCommentIcon$$module$build$src$core$interfaces$i_comment_icon;var Block$$module$build$src$core$block=class{constructor(a,b,c){this.data=null;this.disposed=!1;this.hue=null;this.colour_=\"#000000\";this.styleName_=\"\";this.suppressPrefixSuffix=!1;this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.icons=[];this.disabledReasons=new Set;this.tooltip=\"\";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable=this.movable=this.deletable=!0;this.collapsed_=this.shadow=!1;this.outputShape_=null;this.rendered=\nthis.isInsertionMarker_=this.initialized=this.disposing=!1;this.onchangeWrapper=this.helpUrl=null;this.statementInputCount=0;this.workspace=a;this.id=c&&!a.getBlockById(c)?c:genUid$$module$build$src$core$utils$idgenerator();a.setBlockById(this.id,this);this.xy=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.isInFlyout=a.isFlyout;this.isInMutator=a.isMutator;this.RTL=a.RTL;if(b){this.type=b;c=Blocks$$module$build$src$core$blocks[b];if(!c||typeof c!==\"object\")throw TypeError(\"Invalid block definition for type: \"+\nb);Object.assign(this,c)}a.addTopBlock(this);a.addTypedBlock(this);new.target===Block$$module$build$src$core$block&&this.doInit_()}doInit_(){const a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);const b=getRecordUndo$$module$build$src$core$events$utils();try{typeof this.init===\"function\"&&($.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),$.setRecordUndo$$module$build$src$core$events$utils(b)),isEnabled$$module$build$src$core$events$utils()&&\nfire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(this))}finally{$.setGroup$$module$build$src$core$events$utils(a),$.setRecordUndo$$module$build$src$core$events$utils(b)}this.inputsInlineDefault=this.inputsInline;typeof this.onchange===\"function\"&&this.setOnChange(this.onchange)}dispose(a=!1){this.disposing=!0;this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.unplug(a);\nisEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DELETE))(this));this.workspace.removeTopBlock(this);this.disposeInternal()}disposeInternal(){this.disposing=!0;this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.workspace.removeTypedBlock(this);this.workspace.removeBlockById(this.id);typeof this.destroy===\"function\"&&this.destroy();\nthis.childBlocks_.forEach(a=>a.disposeInternal());this.inputList.forEach(a=>a.dispose());this.inputList.length=0;this.getConnections_(!0).forEach(a=>a.dispose());this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const a of this.inputList)a.initModel();this.initialized=!0}}unplug(a){this.outputConnection&&this.unplugFromRow(a);this.previousConnection&&this.unplugFromStack(a)}unplugFromRow(a){let b=null,c;if((c=this.outputConnection)==null?0:\nc.isConnected())b=this.outputConnection.targetConnection,this.outputConnection.disconnect();b&&a&&(a=this.getOnlyValueConnection())&&a.isConnected()&&!a.targetBlock().isShadow()&&(a=a.targetConnection,a==null||a.disconnect(),this.workspace.connectionChecker.canConnect(a,b,!1)?b.connect(a):a==null||a.onFailedConnect(b))}getOnlyValueConnection(){let a=null;for(let b=0;b<this.inputList.length;b++){const c=this.inputList[b].connection;if(c&&c.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&\nc.targetConnection){if(a)return null;a=c}}return a}unplugFromStack(a){let b=null,c;if((c=this.previousConnection)==null?0:c.isConnected())b=this.previousConnection.targetConnection,this.previousConnection.disconnect();if(a){for(a=this.getNextBlock();a&&(a.isShadow()||!a.isMovable());)a=a.getNextBlock();if(a){var d,e,f,g;a=(g=(d=a.previousConnection)==null?void 0:(e=d.targetBlock())==null?void 0:(f=e.nextConnection)==null?void 0:f.targetConnection)!=null?g:null;a==null||a.disconnect();b&&this.workspace.connectionChecker.canConnect(b,\na,!1)&&b.connect(a)}}}getConnections_(a){a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(let b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a}lastConnectionInStack(a){let b=this.nextConnection;for(;b;){const c=b.targetBlock();if(!c||a&&c.isShadow())return b;b=c.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(a){for(let b=\n0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()===a)return c;return null}getSurroundParent(){let a=this,b;do if(b=a,a=a.getParent(),!a)return null;while(a.getNextBlock()===b);return a}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let a,b=this;do a=b,b=a.parentBlock_;while(b);return a}getTopStackBlock(){let a=this,b;do b=a.getPreviousBlock();\nwhile(b&&b.getNextBlock()===a&&(a=b));return a}getChildren(a){if(!a)return this.childBlocks_;a=[];for(let c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();b&&a.push(b)}(b=this.getNextBlock())&&a.push(b);return a}setParent(a){if(a!==this.parentBlock_){var b=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),c=!!b;if(c&&a&&b!==a)throw Error(\"Block connected to superior one that is not new parent.\");\nif(!c&&a)throw Error(\"Block not connected to new parent.\");if(c&&!a)throw Error(\"Cannot set parent to null while block is still connected to superior block.\");this.parentBlock_?removeElem$$module$build$src$core$utils$array(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(a){const b=[this],c=this.getChildren(a);for(let d,e=0;d=c[e];e++)b.push(...d.getDescendants(a));return b}isDeletable(){return this.deletable&&\n!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(a){this.deletable=a}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(a){this.movable=a}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(this,!0)):!0}isShadow(){return this.shadow}setShadow(a){this.shadow=\na}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(a){this.isInsertionMarker_=a}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(a){this.editable=a;for(const b of this.getFields())b.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const a of this.inputList)if(a.connection||a.fieldRow.length>1)return!1;return!0}getMatchingConnection(a,\nb){const c=this.getConnections_(!0);a=a.getConnections_(!0);if(c.length!==a.length)throw Error(\"Connection lists did not match in length.\");for(let d=0;d<a.length;d++)if(a[d]===b)return c[d];return null}setHelpUrl(a){this.helpUrl=a}setTooltip(a){this.tooltip=a}getTooltip(){return getTooltipOfObject$$module$build$src$core$tooltip(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(a){a=parseBlockColour$$module$build$src$core$utils$parsing(a);\nthis.hue=a.hue;this.colour_=a.hex}setStyle(a){this.styleName_=a}setOnChange(a){if(a&&typeof a!==\"function\")throw Error(\"onchange must be a function.\");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper);this.onchange=a;this.onchangeWrapper=a.bind(this);this.workspace.addChangeListener(this.onchangeWrapper)}getField(a){if(typeof a!==\"string\")throw TypeError(\"Block.prototype.getField expects a string with the field name but received \"+(a===void 0?\"nothing\":a+\" of type \"+\ntypeof a)+\" instead\");for(const b of this.getFields())if(b.name===a)return b;return null}*getFields(){for(const a of this.inputList)for(const b of a.fieldRow)yield b}getVars(){const a=[];for(const b of this.getFields())b.referencesVariables()&&a.push(b.getValue());return a}getVarModels(){const a=[];for(const b of this.getFields())if(b.referencesVariables()){const c=this.workspace.getVariableById(b.getValue());c&&a.push(c)}return a}updateVarName(a){for(const b of this.getFields())b.referencesVariables()&&\na.getId()===b.getValue()&&b.refreshVariableName()}renameVarById(a,b){for(const c of this.getFields())c.referencesVariables()&&a===c.getValue()&&c.setValue(b)}getFieldValue(a){return(a=this.getField(a))?a.getValue():null}setFieldValue(a,b){const c=this.getField(b);if(!c)throw Error('Field \"'+b+'\" not found.');c.setValue(a)}setPreviousStatement(a,b){if(a)b===void 0&&(b=null),this.previousConnection||(this.previousConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT)),\nthis.previousConnection.setCheck(b);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error(\"Must disconnect previous statement before removing connection.\");this.previousConnection.dispose();this.previousConnection=null}}setNextStatement(a,b){if(a)b===void 0&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error(\"Must disconnect next statement before removing connection.\");\nthis.nextConnection.dispose();this.nextConnection=null}}setOutput(a,b){if(a)b===void 0&&(b=null),this.outputConnection||(this.outputConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)),this.outputConnection.setCheck(b);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error(\"Must disconnect output value before removing connection.\");this.outputConnection.dispose();this.outputConnection=null}}setInputsInline(a){this.inputsInline!==\na&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"inline\",null,this.inputsInline,a)),this.inputsInline=a)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof DummyInput$$module$build$src$core$inputs$dummy_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!1;\nfor(a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof $.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!0;for(a=0;a<this.inputList.length;a++)if(this.inputList[a]instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)return!0;return!1}setOutputShape(a){this.outputShape_=a}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(a,\nb){a||this.workspace.options.disable||!this.hasDisabledReason(MANUALLY_DISABLED$$module$build$src$core$constants)||b==MANUALLY_DISABLED$$module$build$src$core$constants||this.setDisabledReason(!1,MANUALLY_DISABLED$$module$build$src$core$constants);this.disabledReasons.has(b)!==a&&(a?this.disabledReasons.add(b):this.disabledReasons.delete(b),a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"disabled\",null,!a,a),a.setDisabledReason(b),fire$$module$build$src$core$events$utils(a))}getInheritedDisabled(){let a=\nthis.getSurroundParent();for(;a;){if(!a.isEnabled())return!0;a=a.getSurroundParent()}return!1}hasDisabledReason(a){return this.disabledReasons.has(a)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(a){this.collapsed_!==a&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\"collapsed\",null,this.collapsed_,a)),this.collapsed_=a)}toString(a,b){b=this.toTokens(b);\nfor(let d=2;d<b.length;d++)b[d-2]===\"(\"&&b[d]===\")\"&&(b[d-2]=b[d-1],b.splice(d-1,2));let c=\"\";b=b.reduce((d,e)=>{d=d+(c===\"(\"||e===\")\"?\"\":\" \")+e;c=e[e.length-1];return d},\"\");b=b.trim()||\"???\";a&&b.length>a&&(b=b.substring(0,a-3)+\"...\");return b}toTokens(a=\"?\"){const b=[];for(const d of this.inputList)if(d.name!=COLLAPSED_INPUT_NAME$$module$build$src$core$constants){for(const e of d.fieldRow)b.push(e.getText());if(d.connection){const e=d.connection.targetBlock();if(e){var c=d.connection;let f=c.getCheck();\n!f&&c.targetConnection&&(f=c.targetConnection.getCheck());(c=!!f&&(f.includes(\"Boolean\")||f.includes(\"Number\")))&&b.push(\"(\");b.push(...e.toTokens(a));c&&b.push(\")\")}else b.push(a)}}return b}appendValueInput(a){return this.appendInput(new $.ValueInput$$module$build$src$core$inputs$value_input(a,this))}appendStatementInput(a){this.statementInputCount++;return this.appendInput(new StatementInput$$module$build$src$core$inputs$statement_input(a,this))}appendDummyInput(a=\"\"){return this.appendInput(new DummyInput$$module$build$src$core$inputs$dummy_input(a,\nthis))}appendEndRowInput(a=\"\"){return this.appendInput(new EndRowInput$$module$build$src$core$inputs$end_row_input(a,this))}appendInput(a){this.inputList.push(a);return a}appendInputFromRegistry(a,b){return(a=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a,!1))?this.appendInput(new a(b,this)):null}jsonInit(a){var b=a.type?'Block \"'+a.type+'\": ':\"\";if(a.output&&a.previousStatement)throw Error(b+\"Must not have both an output and a previousStatement.\");for(var c=\n0;a[\"args\"+c];){if(a[\"message\"+c]===void 0)throw Error(b+`args${c} must have a corresponding message (message${c}).`);c++}a.style&&a.style.hat&&(this.hat=a.style.hat,a.style=null);if(a.style&&a.colour)throw Error(b+\"Must not have both a colour and a style.\");a.style?this.jsonInitStyle(a,b):this.jsonInitColour(a,b);for(c=0;a[\"message\"+c]!==void 0;)this.interpolate(a[\"message\"+c],a[\"args\"+c]||[],a[\"implicitAlign\"+c]||a[\"lastDummyAlign\"+c],b),c++;a.inputsInline!==void 0&&($.disable$$module$build$src$core$events$utils(),\nthis.setInputsInline(a.inputsInline),$.enable$$module$build$src$core$events$utils());a.output!==void 0&&this.setOutput(!0,a.output);a.outputShape!==void 0&&this.setOutputShape(a.outputShape);a.previousStatement!==void 0&&this.setPreviousStatement(!0,a.previousStatement);a.nextStatement!==void 0&&this.setNextStatement(!0,a.nextStatement);a.tooltip!==void 0&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip),this.setTooltip(c));a.enableContextMenu!==void 0&&(this.contextMenu=\n!!a.enableContextMenu);a.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!a.suppressPrefixSuffix);a.helpUrl!==void 0&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.helpUrl),this.setHelpUrl(c));typeof a.extensions===\"string\"&&(console.warn(b+\"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '\"+a.type+\"' block.\"),a.extensions=[a.extensions]);a.mutator!==void 0&&apply$$module$build$src$core$extensions(a.mutator,this,!0);a=a.extensions;\nif(Array.isArray(a))for(b=0;b<a.length;b++)apply$$module$build$src$core$extensions(a[b],this,!1)}jsonInitColour(a,b){if(\"colour\"in a)if(a.colour===void 0)console.warn(b+\"Undefined colour value.\");else{a=a.colour;try{this.setColour(a)}catch(c){console.warn(b+\"Illegal colour value: \",a)}}}jsonInitStyle(a,b){a=a.style;try{this.setStyle(a)}catch(c){console.warn(b+\"Style does not exist: \",a)}}mixin(a,b){if(b!==void 0&&typeof b!==\"boolean\")throw Error(\"opt_disableCheck must be a boolean if provided\");if(!b){b=\n[];for(const c in a)this[c]!==void 0&&b.push(c);if(b.length)throw Error(\"Mixin will overwrite block members: \"+JSON.stringify(b));}Object.assign(this,a)}interpolate(a,b,c,d){a=tokenizeInterpolation$$module$build$src$core$utils$parsing(a);this.validateTokens(a,b.length);b=this.interpolateArguments(a,b,c);c=[];for(let e=0,f;f=b[e];e++)if(this.isInputKeyword(f.type)){if(a=this.inputFromJson(f,d)){for(let g=0,h;h=c[g];g++)a.appendField(h[0],h[1]);c.length=0}}else(a=this.fieldFromJson(f))&&c.push([a,f.name])}validateTokens(a,\nb){const c=[];let d=0;for(let e=0;e<a.length;e++){const f=a[e];if(typeof f===\"number\"){if(f<1||f>b)throw Error('Block \"'+this.type+'\": Message index %'+f+\" out of range.\");if(c[f])throw Error('Block \"'+this.type+'\": Message index %'+f+\" duplicated.\");c[f]=!0;d++}}if(d!==b)throw Error('Block \"'+this.type+'\": Message does not reference all '+b+\" arg(s).\");}interpolateArguments(a,b,c){const d=[];for(let f=0;f<a.length;f++){var e=a[f];typeof e===\"number\"&&(e=b[e-1]);if(typeof e===\"string\")if(e===\"\\n\")e=\n{type:\"input_end_row\"},c&&(e.align=c);else if(e=this.stringToFieldJson(e),!e)continue;d.push(e)}(a=d.length)&&!this.isInputKeyword(d[a-1].type)&&(a={type:\"input_dummy\"},c&&(a.align=c),d.push(a));return d}fieldFromJson(a){const b=$.fromJson$$module$build$src$core$field_registry(a);return!b&&a.alt?typeof a.alt===\"string\"?(a=this.stringToFieldJson(a.alt))?this.fieldFromJson(a):null:this.fieldFromJson(a.alt):b}inputFromJson(a,b){var c={LEFT:$.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:$.Align$$module$build$src$core$inputs$align.RIGHT,\nCENTRE:$.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:$.Align$$module$build$src$core$inputs$align.CENTRE};let d;switch(a.type){case \"input_value\":d=this.appendValueInput(a.name);break;case \"input_statement\":d=this.appendStatementInput(a.name);break;case \"input_dummy\":d=this.appendDummyInput(a.name);break;case \"input_end_row\":d=this.appendEndRowInput(a.name);break;default:d=this.appendInputFromRegistry(a.type,a.name)}if(!d)return null;a.check&&d.setCheck(a.check);a.align&&(c=c[a.align.toUpperCase()],\nc===void 0?console.warn(b+\"Illegal align value: \",a.align):d.setAlign(c));return d}isInputKeyword(a){return a===\"input_value\"||a===\"input_statement\"||a===\"input_dummy\"||a===\"input_end_row\"||hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a)}stringToFieldJson(a){return(a=a.trim())?{type:\"field_label\",text:a}:null}moveInputBefore(a,b){if(a!==b){var c=-1,d=b?-1:this.inputList.length;for(let e=0,f;f=this.inputList[e];e++)if(f.name===a){if(c=e,d!==-1)break}else if(b&&\nf.name===b&&(d=e,c!==-1))break;if(c===-1)throw Error('Named input \"'+a+'\" not found.');if(d===-1)throw Error('Reference input \"'+b+'\" not found.');this.moveNumberedInputBefore(c,d)}}moveNumberedInputBefore(a,b){if(a===b)throw Error(\"Can't move input to itself.\");if(a>=this.inputList.length)throw RangeError(\"Input index \"+a+\" out of bounds.\");if(b>this.inputList.length)throw RangeError(\"Reference input \"+b+\" out of bounds.\");const c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,\n0,c)}removeInput(a,b){for(let c=0,d;d=this.inputList[c];c++)if(d.name===a)return d instanceof StatementInput$$module$build$src$core$inputs$statement_input&&this.statementInputCount--,d.dispose(),this.inputList.splice(c,1),!0;if(b)return!1;throw Error(\"Input not found: \"+a);}getInput(a){for(let b=0,c;c=this.inputList[b];b++)if(c.name===a)return c;return null}getInputTargetBlock(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()}getCommentText(){let a,b;return(b=(a=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT))==\nnull?void 0:a.getText())!=null?b:null}setCommentText(a){var b;let c;const d=(c=(b=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT))==null?void 0:b.getText())!=null?c:null;if(d!==a){if(a!==null){b=this.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);if(!b){b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,IconType$$module$build$src$core$icons$icon_types.COMMENT.toString(),!1);if(!b)throw Error(\"No comment icon class is registered, so a comment cannot be set\");\nb=new b(this);if(!isCommentIcon$$module$build$src$core$interfaces$i_comment_icon(b))throw Error(\"The class registered as a comment icon does not conform to the ICommentIcon interface\");b=this.addIcon(b)}$.disable$$module$build$src$core$events$utils();b.setText(a);$.enable$$module$build$src$core$events$utils()}else this.removeIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this,\n\"comment\",null,d,a))}}setWarningText(a,b){}setMutator(a){}addIcon(a){if(this.hasIcon(a.getType()))throw new DuplicateIconType$$module$build$src$core$icons$exceptions(a);this.icons.push(a);this.icons.sort((b,c)=>b.getWeight()-c.getWeight());return a}removeIcon(a){if(!this.hasIcon(a))return!1;let b;(b=this.getIcon(a))==null||b.dispose();this.icons=this.icons.filter(c=>!c.getType().equals(a));return!0}hasIcon(a){return this.icons.some(b=>b.getType().equals(a))}getIcon(a){return a instanceof IconType$$module$build$src$core$icons$icon_types?\nthis.icons.find(b=>b.getType().equals(a)):this.icons.find(b=>b.getType().toString()===a)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(a,b,c){if(this.parentBlock_)throw Error(\"Block has parent\");const d=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this);c&&d.setReason(c);this.xy.translate(a,b);d.recordNew();fire$$module$build$src$core$events$utils(d)}makeConnection_(a){return new Connection$$module$build$src$core$connection(this,\na)}allInputsFilled(a){a===void 0&&(a=!0);if(!a&&this.isShadow())return!1;for(let c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();if(!b||!b.allInputsFilled(a))return!1}return(b=this.getNextBlock())?b.allInputsFilled(a):!0}toDevString(){let a=this.type?'\"'+this.type+'\" block':\"Block\";this.id&&(a+=' (id=\"'+this.id+'\")');return a}};Block$$module$build$src$core$block.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;\nBlock$$module$build$src$core$block.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;var module$build$src$core$block={};module$build$src$core$block.Block=Block$$module$build$src$core$block;var disconnectPid$$module$build$src$core$block_animations=null,wobblingBlock$$module$build$src$core$block_animations=null,module$build$src$core$block_animations={};module$build$src$core$block_animations.connectionUiEffect=connectionUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiEffect=disconnectUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiStop=disconnectUiStop$$module$build$src$core$block_animations;\nmodule$build$src$core$block_animations.disposeUiEffect=disposeUiEffect$$module$build$src$core$block_animations;var BlockPaster$$module$build$src$core$clipboard$block_paster=class{paste(a,b,c){if(!b.isCapacityAvailable(a.typeCounts))return null;c&&(a.blockState.x=c.x,a.blockState.y=c.y);c=c||new Coordinate$$module$build$src$core$utils$coordinate(a.blockState.x||0,a.blockState.y||0);$.disable$$module$build$src$core$events$utils();let d;try{d=append$$module$build$src$core$serialization$blocks(a.blockState,b),moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster(d,c)}finally{$.enable$$module$build$src$core$events$utils()}if(!d)return d;\nisEnabled$$module$build$src$core$events$utils()&&!d.isShadow()&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(d));const e=d;finishQueuedRenders$$module$build$src$core$render_management().then(()=>$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e));return d}};BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE=\"block\";\nregister$$module$build$src$core$clipboard$registry(BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,new BlockPaster$$module$build$src$core$clipboard$block_paster);var module$build$src$core$clipboard$block_paster={};module$build$src$core$clipboard$block_paster.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard$block_paster.moveBlockToNotConflict=moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster;var bumpIntoBounds$$module$build$src$core$bump_objects=bumpObjectIntoBounds$$module$build$src$core$bump_objects,module$build$src$core$bump_objects={};module$build$src$core$bump_objects.bumpIntoBounds=bumpObjectIntoBounds$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpIntoBoundsHandler=bumpIntoBoundsHandler$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpTopObjectsIntoBounds=bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects;var BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy=class{constructor(a){this.block=a;this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null;this.dragging=!1;this.dragOffset=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.originalEventGroup=\"\";this.workspace=a.workspace}isMovable(){if(this.block.isShadow()){let a,b;return(b=(a=this.block.getParent())==null?void 0:a.isMovable())!=null?b:!1}return this.block.isOwnMovable()&&\n!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(a){if(this.block.isShadow())this.startDraggingShadow(a);else{this.dragging=!0;this.fireDragStartEvent();this.startLoc=this.block.getRelativeToSurfaceXY();this.connectionCandidate=null;this.connectionPreviewer=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_PREVIEWER,this.workspace.options))(this.block);startTextWidthCache$$module$build$src$core$utils$dom();\nthis.workspace.setResizesEnabled(!1);disconnectUiStop$$module$build$src$core$block_animations();a=this.shouldHealStack(a);this.shouldDisconnect(a)&&this.disconnectBlock(a);this.block.setDragging(!0);var b;(b=this.workspace.getLayerManager())==null||b.moveToDragLayer(this.block)}}shouldHealStack(a){return!!a&&(a.altKey||a.ctrlKey||a.metaKey)}startDraggingShadow(a){const b=this.block.getParent();if(!b)throw Error(\"Tried to drag a shadow block with no parent. Shadow blocks should always have parents.\");\nthis.dragOffset=Coordinate$$module$build$src$core$utils$coordinate.difference(b.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY());b.startDrag(a)}shouldDisconnect(a){return!!(this.block.getParent()||a&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(a){let b,c,d;this.startParentConn=(d=(b=this.block.outputConnection)==null?void 0:b.targetConnection)!=null?d:(c=this.block.previousConnection)==null?void 0:c.targetConnection;if(a){let e;this.startChildConn=\n(e=this.block.nextConnection)==null?void 0:e.targetConnection}this.block.unplug(a);disconnectUiEffect$$module$build$src$core$block_animations(this.block)}fireDragStartEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));fire$$module$build$src$core$events$utils(a)}fireDragEndEvent(){const a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_DRAG))(this.block,\n!1,this.block.getDescendants(!1));fire$$module$build$src$core$events$utils(a)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this.block);a.setReason([\"drag\"]);a.oldCoordinate=this.startLoc;a.recordNew();fire$$module$build$src$core$events$utils(a)}}drag(a){if(this.block.isShadow()){let b;(b=this.block.getParent())==null||b.drag(Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.dragOffset))}else this.block.moveDuringDrag(a),\nthis.updateConnectionPreview(this.block,Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.startLoc))}updateConnectionPreview(a,b){var c=this.connectionCandidate;const d=this.getConnectionCandidate(a,b);if(d){this.connectionCandidate=b=c&&this.currCandidateIsBetter(c,b,d)?c:d;var {local:e,neighbour:f}=b;b=e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;var g;c=f.isConnected()&&\n!((g=f.targetBlock())==null?0:g.isInsertionMarker());if(b&&c&&!this.orphanCanConnectAtEnd(a,f.targetBlock(),e.type)){let k;(k=this.connectionPreviewer)==null||k.previewReplacement(e,f,f.targetBlock())}else{var h;(h=this.connectionPreviewer)==null||h.previewConnection(e,f)}}else{let k;(k=this.connectionPreviewer)==null||k.hidePreview();this.connectionCandidate=null}}orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?\nb.outputConnection:b.previousConnection)}currCandidateIsBetter(a,b,c){const {local:d,neighbour:e}=a;a=new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y);const f=new Coordinate$$module$build$src$core$utils$coordinate(e.x,e.y);b=Coordinate$$module$build$src$core$utils$coordinate.distance(Coordinate$$module$build$src$core$utils$coordinate.sum(a,b),f);return c.distance>b-$.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(a,b){a=this.getLocalConnections(a);\nlet c=this.getSearchRadius(),d=null;for(const e of a){const {connection:f,radius:g}=e.closest(c,b);f&&(d={local:e,neighbour:f,distance:g},c=g)}return d}getSearchRadius(){return this.connectionCandidate?$.config$$module$build$src$core$config.connectingSnapRadius:$.config$$module$build$src$core$config.snapRadius}getLocalConnections(a){const b=a.getConnections_(!1),c=a.lastConnectionInStack(!0);c&&c!==a.nextConnection&&b.push(c);return b}endDrag(a){if(this.block.isShadow()){let c;(c=this.block.getParent())==\nnull||c.endDrag(a)}else{this.originalEventGroup=$.getGroup$$module$build$src$core$events$utils();this.fireDragEndEvent();this.fireMoveEvent();stopTextWidthCache$$module$build$src$core$utils$dom();disconnectUiStop$$module$build$src$core$block_animations();var b;(b=this.connectionPreviewer)==null||b.hidePreview();if(!this.block.isDeadOrDying()&&this.dragging){let c;(c=this.workspace.getLayerManager())==null||c.moveOffDragLayer(this.block,BLOCK$$module$build$src$core$layers);this.block.setDragging(!1)}this.connectionCandidate?\n(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const a=$.getGroup$$module$build$src$core$events$utils();$.setGroup$$module$build$src$core$events$utils(this.originalEventGroup);this.block.snapToGrid();let b;(b=this.connectionPreviewer)==null||b.dispose();this.workspace.setResizesEnabled(!0);$.setGroup$$module$build$src$core$events$utils(a)}applyConnections(a){const {local:b,neighbour:c}=a;b.connect(c);const d=\nb.isSuperior()?c:b,e=this.block.getRootBlock();finishQueuedRenders$$module$build$src$core$render_management().then(()=>{connectionUiEffect$$module$build$src$core$block_animations(d.getSourceBlock());setTimeout(()=>{e.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let c;(c=this.block.getParent())==null||c.revertDrag()}else{var a;(a=this.connectionPreviewer)==null||a.hidePreview();this.connectionCandidate=null;var b;(b=this.startChildConn)==null||b.connect(this.block.nextConnection);if(this.startParentConn)switch(this.startParentConn.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);\nbreak;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,[\"drag\"]);let c;(c=this.workspace.getLayerManager())==null||c.moveOffDragLayer(this.block,BLOCK$$module$build$src$core$layers);bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null;this.block.setDragging(!1);\nthis.dragging=!1}}},module$build$src$core$dragging$block_drag_strategy={};module$build$src$core$dragging$block_drag_strategy.BlockDragStrategy=BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy;var TextBubble$$module$build$src$core$bubbles$text_bubble=class extends Bubble$$module$build$src$core$bubbles$bubble{constructor(a,b,c,d){super(b,c,d);this.text=a;this.workspace=b;this.anchor=c;this.ownerRect=d;this.paragraph=this.stringToSvg(a,this.contentContainer);this.updateBubbleSize();addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyTextBubble\")}getText(){return this.text}setText(a){this.text=a;removeNode$$module$build$src$core$utils$dom(this.paragraph);this.paragraph=this.stringToSvg(a,\nthis.contentContainer);this.updateBubbleSize()}stringToSvg(a,b){b=this.createParagraph(b);a=this.createTextFragments(b,a);this.workspace.RTL&&this.rightAlignTextFragments(b.getBBox().width,a);return b}createParagraph(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyText blocklyBubbleText blocklyNoPointerEvents\",transform:`translate(0,${Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?\n\"rtl\":\"ltr\"}`},a)}createTextFragments(a,b){let c=1;return b.split(\"\\n\").map(d=>{const e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{y:`${c}em`,x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);d=document.createTextNode(d);e.appendChild(d);c+=1;return e})}rightAlignTextFragments(a,b){for(const c of b)c.setAttribute(\"text-anchor\",\"start\"),c.setAttribute(\"x\",`${a+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH}`)}updateBubbleSize(){const a=\nthis.paragraph.getBBox();this.setSize(new Size$$module$build$src$core$utils$size(a.width+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2,a.height+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH*2),!0)}},module$build$src$core$bubbles$text_bubble={};module$build$src$core$bubbles$text_bubble.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;var SIZE$$module$build$src$core$icons$warning_icon=17,WarningIcon$$module$build$src$core$icons$warning_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a){super(a);this.sourceBlock=a;this.textMap=new Map;this.textBubble=null}getType(){return WarningIcon$$module$build$src$core$icons$warning_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconShape\",d:\"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconSymbol\",x:\"7\",y:\"11\",height:\"2\",width:\"2\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyWarningIcon\"))}dispose(){super.dispose();let a;(a=this.textBubble)==null||\na.dispose()}getWeight(){return WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$warning_icon,SIZE$$module$build$src$core$icons$warning_icon)}applyColour(){super.applyColour();let a;(a=this.textBubble)==null||a.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(a){super.onLocationChange(a);let b;(b=this.textBubble)==null||b.setAnchorLocation(this.getAnchorLocation())}addMessage(a,\nb){if(this.textMap.get(b)===a)return this;a?this.textMap.set(b,a):this.textMap.delete(b);let c;(c=this.textBubble)==null||c.setText(this.getText());return this}getText(){return[...this.textMap.values()].join(\"\\n\")}onClick(){super.onClick();this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){if(b.bubbleIsVisible()!==a){yield finishQueuedRenders$$module$build$src$core$render_management();\nif(a)b.textBubble=new TextBubble$$module$build$src$core$bubbles$text_bubble(b.getText(),b.sourceBlock.workspace,b.getAnchorLocation(),b.getBubbleOwnerRect()),b.applyColour();else{let c;(c=b.textBubble)==null||c.dispose();b.textBubble=null}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,a,\"warning\"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$warning_icon/\n2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){const a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width)}};WarningIcon$$module$build$src$core$icons$warning_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.WARNING;WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT=2;\nvar module$build$src$core$icons$warning_icon={};module$build$src$core$icons$warning_icon.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;var BlockSvg$$module$build$src$core$block_svg=class extends Block$$module$build$src$core$block{constructor(a,b,c){super(a,b,c);this.childlessWidth=this.width=this.height=0;this.warningTextDb=new Map;this.mutator=null;this.rendered=!0;this.visuallyDisabled=!1;this.translation=\"\";this.dragging=!1;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.dragStrategy=new BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy(this);if(!a.rendered)throw TypeError(\"Cannot create a rendered block in a headless workspace\");\nthis.workspace=a;this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});b&&addClass$$module$build$src$core$utils$dom(this.svgGroup,b);this.style=a.getRenderer().getConstants().getBlockStyle(null);this.pathObject=a.getRenderer().makePathObject(this.svgGroup,this.style);a=this.pathObject.svgPath;a.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(a);this.svgGroup.setAttribute(\"data-id\",this.id);a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();\nthis.doInit_()}initSvg(){if(!this.initialized){for(var a of this.inputList)a.init();for(const b of this.getIcons())b.initView(this.createIconPointerDownListener(b)),b.updateEditable();this.applyColour();this.pathObject.updateMovable(this.isMovable()||this.isInFlyout);(a=this.getSvgRoot())&&conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onMouseDown);a.parentNode||this.workspace.getCanvas().appendChild(a);this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect();\nfireSelectedEvent$$module$build$src$core$common(this)}unselect(){this.removeSelect();fireSelectedEvent$$module$build$src$core$common(null)}setParent(a){var b=this.parentBlock_;if(a!==b){startTextWidthCache$$module$build$src$core$utils$dom();super.setParent(a);stopTextWidthCache$$module$build$src$core$utils$dom();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY(),e=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),f,g=this.getSvgRoot().contains((f=\ne==null?void 0:e.getFocusableElement())!=null?f:null);a?(a.getSvgRoot().appendChild(c),g&&e&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)):b&&(a=this.workspace.getCanvas().querySelector(\".blocklyDragging\"),b=a==null?void 0:a.parentElement,f=this.workspace.getCanvas(),b===f?f.insertBefore(c,a):(f.appendChild(c),g&&e&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)),this.translate(d.x,d.y));this.applyColour()}}}getRelativeToSurfaceXY(){const a=this.workspace.getLayerManager();\nif(!a)throw Error(\"Cannot calculate position because the workspace has not been appended\");let b=0,c=0,d=this.getSvgRoot();if(d){do{const e=getRelativeXY$$module$build$src$core$utils$svg_math(d);b+=e.x;c+=e.y;d=d.parentNode}while(d&&!a.hasLayer(d))}return new Coordinate$$module$build$src$core$utils$coordinate(b,c)}moveBy(a,b,c){if(this.parentBlock_)throw Error(\"Block has parent\");const d=isEnabled$$module$build$src$core$events$utils();let e=null;d&&(e=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_MOVE))(this),\nc&&e.setReason(c));a=new Coordinate$$module$build$src$core$utils$coordinate(a,b);b=this.getRelativeToSurfaceXY();a=Coordinate$$module$build$src$core$utils$coordinate.sum(b,a);this.translate(a.x,a.y);this.updateComponentLocations(a);d&&e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));this.workspace.resizeContents()}translate(a,b){this.translation=`translate(${a}, ${b})`;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(a,b);this.getSvgRoot().setAttribute(\"transform\",\nthis.getTranslation())}getTranslation(){return this.translation}moveTo(a,b){const c=this.getRelativeToSurfaceXY();this.moveBy(a.x-c.x,a.y-c.y,b)}moveDuringDrag(a){this.translate(a.x,a.y);this.getSvgRoot().setAttribute(\"transform\",this.getTranslation());this.updateComponentLocations(a)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var a=this.workspace.getGrid();if(a!=null&&a.shouldSnap()){var b=this.getRelativeToSurfaceXY();a=a.alignXY(b);a!==b&&this.moveTo(a,[\"snap\"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,\nwidth:this.childlessWidth})}getBoundingRectangleWithDimensions(a){const b=this.getRelativeToSurfaceXY();let c,d;this.RTL?(c=b.x-a.width,d=b.x):(c=b.x,d=b.x+a.width);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+a.height,c,d)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let a=0,b;b=this.inputList[a];a++)b.markDirty()}setCollapsed(a){this.collapsed_!==a&&(super.setCollapsed(a),this.updateCollapsed())}childHasWarning(){const a=this.getChildren(!1);\nfor(const b of a)if(b.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)||b.childHasWarning())return!0;return!1}updateCollapsed(){var a=this.isCollapsed();const b=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,c=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;for(let e=0,f;f=this.inputList[e];e++)f.name!==b&&f.setVisible(!a);for(var d of this.getIcons())d.updateCollapsed();a?(addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyCollapsed\"),this.childHasWarning()&&\nthis.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID),a=this.toString(COLLAPSE_CHARS$$module$build$src$core$internal_constants),(d=this.getField(c))?d.setValue(a):(this.getInput(b)||this.appendDummyInput(b)).appendField(new FieldLabel$$module$build$src$core$field_label(a),c)):(this.updateDisabled(),this.removeInput(b),removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyCollapsed\"),this.setWarningText(null,\nBlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID))}onMouseDown(a){if(!this.workspace.isReadOnly()){var b=this.workspace.getGesture(a);b&&b.handleBlockStart(a,this)}}showHelp(){const a=typeof this.helpUrl===\"function\"?this.helpUrl():this.helpUrl;a&&window.open(a)}generateContextMenu(a){if(this.workspace.isReadOnly()||!this.contextMenu)return null;a=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({block:this,focusedNode:this},a);this.customContextMenu&&\nthis.customContextMenu(a);return a}calculateContextMenuLocation(a){if(a instanceof PointerEvent)return new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);a=wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this.workspace,this.getRelativeToSurfaceXY());let b,c;const d=(b=this.inputList.filter(e=>e.isVisible()).flatMap(e=>e.fieldRow).find(e=>e.isVisible()))==null?void 0:(c=b.getSvgRoot())==null?void 0:c.getBoundingClientRect();return new Coordinate$$module$build$src$core$utils$coordinate(this.RTL?\na.x-5:a.x+5,(d&&d.height?d.y+d.height:a.y+this.height)+5)}showContextMenu(a){const b=this.generateContextMenu(a),c=this.calculateContextMenuLocation(a);b&&b.length&&(show$$module$build$src$core$contextmenu(a,b,this.RTL,this.workspace,c),setCurrentBlock$$module$build$src$core$contextmenu(this))}updateComponentLocations(a){this.dragging||this.updateConnectionLocations(a);this.updateIconLocations(a);this.updateFieldLocations(a);for(const b of this.getChildren(!1))b.updateComponentLocations(Coordinate$$module$build$src$core$utils$coordinate.sum(a,\nb.relativeCoords))}updateConnectionLocations(a){for(const b of this.getConnections_(!1))b.moveToOffset(a)}updateIconLocations(a){for(const b of this.getIcons())b.onLocationChange(a)}updateFieldLocations(a){for(const b of this.inputList)for(const c of b.fieldRow)c.onLocationChange(a)}addClass(a){addClass$$module$build$src$core$utils$dom(this.svgGroup,a)}removeClass(a){removeClass$$module$build$src$core$utils$dom(this.svgGroup,a)}setDragging(a){(this.dragging=a)?(this.translation=\"\",draggingConnections$$module$build$src$core$common.push(...this.getConnections_(!0)),\nthis.addClass(\"blocklyDragging\")):(draggingConnections$$module$build$src$core$common.length=0,this.removeClass(\"blocklyDragging\"));for(let b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a)}setMovable(a){super.setMovable(a);this.pathObject.updateMovable(a)}setEditable(a){super.setEditable(a);a?removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotEditable\"):addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotEditable\");a=this.getIcons();for(let b=\n0;b<a.length;b++)a[b].updateEditable()}setShadow(a){super.setShadow(a);this.applyColour()}setInsertionMarker(a){this.isInsertionMarker_!==a&&(this.isInsertionMarker_=a)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(a,b){this.disposing=!0;dispose$$module$build$src$core$tooltip();hide$$module$build$src$core$contextmenu();const c=$.getFocusManager$$module$build$src$core$focus_manager();\nvar d,e;if(this.getSvgRoot().contains((e=(d=c.getFocusedNode())==null?void 0:d.getFocusableElement())!=null?e:null)){d=this.getParent();if(!d){let f;if(e=(f=this.outputConnection)!=null?f:this.previousConnection){let g;d=(g=e.closest(0,new Coordinate$$module$build$src$core$utils$coordinate(0,0)).connection)==null?void 0:g.getSourceBlock()}}d?c.focusNode(d):setTimeout(()=>c.focusTree(this.workspace),0)}b&&(this.unplug(a),disposeUiEffect$$module$build$src$core$block_animations(this));super.dispose(!!a);\nremoveNode$$module$build$src$core$utils$dom(this.svgGroup)}disposeInternal(){this.disposing=!0;super.disposeInternal();$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture();[...this.warningTextDb.values()].forEach(a=>clearTimeout(a));this.warningTextDb.clear();this.getIcons().forEach(a=>a.dispose())}checkAndDelete(){this.workspace.isFlyout||($.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?\nthis.dispose(!1,!0):this.dispose(!0,!0),$.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(a=!1){return this.isInsertionMarker_?null:{paster:BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,blockState:save$$module$build$src$core$serialization$blocks(this,{addCoordinates:!0,addNextBlocks:a,saveIds:!1}),typeCounts:getBlockTypeCounts$$module$build$src$core$common(this,!0)}}applyColour(){var a,b;(b=(a=this.pathObject).applyColour)==null||b.call(a,this);a=this.getIcons();for(b=\n0;b<a.length;b++)a[b].applyColour();for(const c of this.getFields())c.applyColour()}updateDisabled(){const a=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===a){let b;(b=this.getNextBlock())==null||b.updateDisabled()}else{this.applyColour();this.visuallyDisabled=a;for(const b of this.getChildren(!1))b.updateDisabled()}}setWarningText(a,b=\"\"){if(b)this.warningTextDb.has(b)&&(clearTimeout(this.warningTextDb.get(b)),this.warningTextDb.delete(b));else{for(var c of this.warningTextDb.values())clearTimeout(c);\nthis.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(b,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(b),this.setWarningText(a,b))},100));else if(this.isInFlyout&&(a=null),c=this.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE),a){let d=this.getSurroundParent(),e=null;for(;d;)d.isCollapsed()&&(e=d),d=d.getSurroundParent();e&&e.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID);\nc?c.addMessage(a,b):this.addIcon((new WarningIcon$$module$build$src$core$icons$warning_icon(this)).addMessage(a,b))}else c&&(b?(c.addMessage(\"\",b),c.getText()||this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)):this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE))}setMutator(a){this.removeIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);a&&this.addIcon(a)}addIcon(a){super.addIcon(a);a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&\n(this.mutator=a);a.initView(this.createIconPointerDownListener(a));a.applyColour();a.updateEditable();this.queueRender();return a}createIconPointerDownListener(a){return b=>{this.isDeadOrDying()||(b=this.workspace.getGesture(b))&&b.setStartIcon(a)}}removeIcon(a){const b=super.removeIcon(a);a.equals($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null);this.queueRender();return b}setDisabledReason(a,b){const c=this.isEnabled();super.setDisabledReason(a,b);this.isEnabled()===\nc||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(a){super.setDeletable(a);a?removeClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotDeletable\"):addClass$$module$build$src$core$utils$dom(this.svgGroup,\"blocklyNotDeletable\")}setHighlighted(a){this.pathObject.updateHighlighted(a)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(a){this.pathObject.updateDraggingDelete(a)}getColour(){return this.style.colourPrimary}setColour(a){super.setColour(a);\na=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let b,c;(c=(b=this.pathObject).setStyle)==null||c.call(b,a.style);this.style=a.style;this.styleName_=a.name;this.applyColour()}setStyle(a){const b=this.workspace.getRenderer().getConstants().getBlockStyle(a);this.styleName_&&removeClass$$module$build$src$core$utils$dom(this.svgGroup,this.styleName_);if(b){this.hat=b.hat;let c,d;(d=(c=this.pathObject).setStyle)==null||d.call(c,b);this.colour_=b.colourPrimary;this.style=\nb;this.applyColour();addClass$$module$build$src$core$utils$dom(this.svgGroup,a);this.styleName_=a}else throw Error(\"Invalid style name: \"+a);}getStyle(){return this.style}bringToFront(a=!1){const b=$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let c=this;if(!c.isDeadOrDying()){do{const d=c.getSvgRoot(),e=d.parentNode,f=e.childNodes;f[f.length-1]!==d&&e.appendChild(d);if(a)break;c=c.getParent()}while(c);b&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b)}}setPreviousStatement(a,\nb){super.setPreviousStatement(a,b);this.queueRender()}setNextStatement(a,b){super.setNextStatement(a,b);this.queueRender()}setOutput(a,b){super.setOutput(a,b);this.queueRender()}setInputsInline(a){super.setInputsInline(a);this.queueRender()}removeInput(a,b){a=super.removeInput(a,b);this.queueRender();return a}moveNumberedInputBefore(a,b){super.moveNumberedInputBefore(a,b);this.queueRender()}appendInput(a){super.appendInput(a);this.queueRender();return a}setConnectionTracking(a){this.previousConnection&&\nthis.previousConnection.setTracking(a);this.outputConnection&&this.outputConnection.setTracking(a);if(this.nextConnection){this.nextConnection.setTracking(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionTracking(a)}if(!this.collapsed_)for(b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.setTracking(a),(c=c.targetBlock())&&c.setConnectionTracking(a))}}getConnections_(a){const b=[];this.outputConnection&&b.push(this.outputConnection);this.previousConnection&&b.push(this.previousConnection);\nthis.nextConnection&&b.push(this.nextConnection);if(a||!this.collapsed_)for(let c=0,d;d=this.inputList[c];c++)d.connection&&b.push(d.connection);return b}lastConnectionInStack(a){return super.lastConnectionInStack(a)}getMatchingConnection(a,b){return super.getMatchingConnection(a,b)}makeConnection_(a){return new RenderedConnection$$module$build$src$core$rendered_connection(this,a)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const a=\nthis.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||a.isInFlyout))for(const b of this.getConnections_(!1)){if(b.isSuperior()){let c;(c=b.targetBlock())==null||c.bumpNeighbours()}for(const c of b.neighbours($.config$$module$build$src$core$config.snapRadius))c.getSourceBlock().getRootBlock()!==a&&(b.isConnected()&&c.isConnected()||(b.isSuperior()?c.bumpAwayFrom(b,!1):b.bumpAwayFrom(c,!0)))}}scheduleSnapAndBump(){this.snapToGrid();this.bumpNeighbours()}positionNearConnection(a,\nb,c){if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){let d=b.x;b=b.y;d+=c.x-a.getOffsetInBlock().x;b+=c.y-a.getOffsetInBlock().y;this.moveBy(d,b)}}getChildren(a){return super.getChildren(a)}queueRender(){return queueRender$$module$build$src$core$render_management(this)}render(){this.queueRender();triggerQueuedRenders$$module$build$src$core$render_management()}renderEfficiently(){startTextWidthCache$$module$build$src$core$utils$dom();\nthis.isCollapsed()&&this.updateCollapsed();this.isEnabled()||this.updateDisabled();this.workspace.getRenderer().render(this);this.tightenChildrenEfficiently();stopTextWidthCache$$module$build$src$core$utils$dom()}tightenChildrenEfficiently(){for(const a of this.inputList){const b=a.connection;b&&b.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let a=this.height,b=this.width;var c=this.getNextBlock();if(c){c=c.getHeightWidth();const d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;\na+=c.height-d;b=Math.max(b,c.width)}return{height:a,width:b}}fadeForReplacement(a){this.pathObject.updateReplacementFade(a)}highlightShapeForInput(a,b){this.pathObject.updateShapeForInputHighlight(a,b)}getDragStrategy(){return this.dragStrategy}setDragStrategy(a){this.dragStrategy=a}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(a){this.dragStrategy.startDrag(a)}drag(a,b){this.dragStrategy.drag(a,b)}endDrag(a){this.dragStrategy.endDrag(a)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const a=\nObject.assign({},{kind:\"BLOCK\"},save$$module$build$src$core$serialization$blocks(this)),b=new Set([\"id\",\"height\",\"width\",\"pinned\",\"enabled\"]),c=function(d){for(const e in d)b.has(e)?delete d[e]:typeof d[e]===\"object\"&&c(d[e])};c(a);return[a]}jsonInit(a){super.jsonInit(a);a.classes&&this.addClass(Array.isArray(a.classes)?a.classes.join(\" \"):a.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};\nBlockSvg$$module$build$src$core$block_svg.INLINE=-1;BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID=\"TEMP_COLLAPSED_WARNING_\";var module$build$src$core$block_svg={};module$build$src$core$block_svg.BlockSvg=BlockSvg$$module$build$src$core$block_svg;var DragTarget$$module$build$src$core$drag_target=class{constructor(){}onDragEnter(a){}onDragOver(a){}onDragExit(a){}onDrop(a){}getClientRect(){return null}shouldPreventMove(a){return!1}},module$build$src$core$drag_target={};module$build$src$core$drag_target.DragTarget=DragTarget$$module$build$src$core$drag_target;var module$build$src$core$interfaces$i_deletable={};module$build$src$core$interfaces$i_deletable.isDeletable=isDeletable$$module$build$src$core$interfaces$i_deletable;var DeleteArea$$module$build$src$core$delete_area=class extends DragTarget$$module$build$src$core$drag_target{constructor(){super();this.wouldDelete_=!1}wouldDelete(a){a instanceof BlockSvg$$module$build$src$core$block_svg?(a=!a.getParent()&&a.isDeletable(),this.updateWouldDelete_(a)):this.updateWouldDelete_(isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable());return this.wouldDelete_}updateWouldDelete_(a){this.wouldDelete_=a}},module$build$src$core$delete_area={};\nmodule$build$src$core$delete_area.DeleteArea=DeleteArea$$module$build$src$core$delete_area;var FlyoutItem$$module$build$src$core$flyout_item=class{constructor(a,b){this.element=a;this.type=b}getElement(){return this.element}getType(){return this.type}},module$build$src$core$flyout_item={};module$build$src$core$flyout_item.FlyoutItem=FlyoutItem$$module$build$src$core$flyout_item;var MetricsManager$$module$build$src$core$metrics_manager=class{constructor(a){this.workspace_=a}getDimensionsPx_(a){let b=0,c=0;a&&(b=a.getWidth(),c=a.getHeight());return new Size$$module$build$src$core$utils$size(b,c)}getFlyoutMetrics(a){a=this.getDimensionsPx_(this.workspace_.getFlyout(a));return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const a=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let a=\n0,b=0;const c=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;const g=!((f=this.workspace_.getFlyout())==null?0:f.autoClose);f=e?c.position:d.position;const h=f===Position$$module$build$src$core$utils$toolbox.TOP;f===Position$$module$build$src$core$utils$toolbox.LEFT&&(e&&(a+=c.width),g&&(a+=d.width));h&&(e&&(b+=c.height),g&&(b+=d.height));return{top:b,left:a}}getViewMetrics(a){a=a?this.workspace_.scale:1;const b=this.getSvgMetrics(),c=this.getToolboxMetrics(),\nd=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;const g=!((f=this.workspace_.getFlyout())==null?0:f.autoClose);f=e?c.position:d.position;const h=f===Position$$module$build$src$core$utils$toolbox.LEFT||f===Position$$module$build$src$core$utils$toolbox.RIGHT;if(f===Position$$module$build$src$core$utils$toolbox.TOP||f===Position$$module$build$src$core$utils$toolbox.BOTTOM)e&&(b.height-=c.height),g&&(b.height-=d.height);h&&(e&&(b.width-=c.width),g&&(b.width-=d.width));return{height:b.height/\na,width:b.width/a,top:-this.workspace_.scrollY/a,left:-this.workspace_.scrollX/a}}getContentMetrics(a){a=a?1:this.workspace_.scale;const b=this.workspace_.getBlocksBoundingBox();return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(a){if(!this.hasFixedEdges())return{};const b=this.workspace_.isMovableHorizontally(),c=this.workspace_.isMovableVertically();\na=a||this.getViewMetrics(!1);const d={};c||(d.top=a.top,d.bottom=a.top+a.height);b||(d.left=a.left,d.right=a.left+a.width);return d}getPaddedContent_(a,b){const c=b.top+b.height,d=b.left+b.width,e=a.width;a=a.height;const f=e/2,g=a/2;return{top:Math.min(b.top-g,c-a),bottom:Math.max(c+g,b.top+a),left:Math.min(b.left-f,d-e),right:Math.max(d+f,b.left+e)}}getScrollMetrics(a,b,c){a=a?this.workspace_.scale:1;b=b||this.getViewMetrics(!1);var d=c||this.getContentMetrics();c=this.getComputedFixedEdges_(b);\nb=this.getPaddedContent_(b,d);d=c.top!==void 0?c.top:b.top;const e=c.left!==void 0?c.left:b.left;return{top:d/a,left:e/a,width:((c.right!==void 0?c.right:b.right)-e)/a,height:((c.bottom!==void 0?c.bottom:b.bottom)-d)/a}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const a=this.getToolboxMetrics(),b=this.getFlyoutMetrics(!0),c=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),e=this.getViewMetrics(),\nf=this.getContentMetrics(),g=this.getScrollMetrics(!1,e,f);return{contentHeight:f.height,contentWidth:f.width,contentTop:f.top,contentLeft:f.left,scrollHeight:g.height,scrollWidth:g.width,scrollTop:g.top,scrollLeft:g.left,viewHeight:e.height,viewWidth:e.width,viewTop:e.top,viewLeft:e.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,toolboxPosition:a.position,flyoutWidth:b.width,flyoutHeight:b.height}}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,DEFAULT$$module$build$src$core$registry,MetricsManager$$module$build$src$core$metrics_manager);var module$build$src$core$metrics_manager={};module$build$src$core$metrics_manager.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;var FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager=class extends MetricsManager$$module$build$src$core$metrics_manager{constructor(a,b){super(a);this.flyout_=b}getBoundingBox(){let a;try{a=this.workspace_.getCanvas().getBBox()}catch(b){a={height:0,y:0,width:0,x:0}}return a}getContentMetrics(a){const b=this.getBoundingBox();a=a?1:this.workspace_.scale;return{height:b.height*a,width:b.width*a,top:b.y*a,left:b.x*a}}getScrollMetrics(a,b,c){b=c||this.getContentMetrics();c=this.flyout_.MARGIN*\nthis.workspace_.scale;a=a?this.workspace_.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}}},module$build$src$core$flyout_metrics_manager={};module$build$src$core$flyout_metrics_manager.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;var FlyoutButton$$module$build$src$core$flyout_button=class{constructor(a,b,c,d){this.workspace=a;this.targetWorkspace=b;this.isFlyoutLabel=d;this.height=this.width=0;this.cursorSvg=this.svgText=null;this.text=c.text;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.callbackKey=c.callbackKey||c.callbackkey;this.cssClass=c[\"web-class\"]||null;this.info=c;a=this.isFlyoutLabel?\"blocklyFlyoutLabel\":\"blocklyFlyoutButton\";this.cssClass&&(a+=\" \"+this.cssClass);this.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();\nthis.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{id:this.id,\"class\":a},this.workspace.getCanvas());let e;this.isFlyoutLabel||(e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyFlyoutButtonShadow\",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,x:1,y:1},this.svgGroup));a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,\n{\"class\":this.isFlyoutLabel?\"blocklyFlyoutLabelBackground\":\"blocklyFlyoutButtonBackground\",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS},this.svgGroup);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{\"class\":this.isFlyoutLabel?\"blocklyFlyoutLabelText\":\"blocklyText\",x:0,y:0,\"text-anchor\":\"middle\"},this.svgGroup);c=replaceMessageReferences$$module$build$src$core$utils$parsing(this.text);\nthis.workspace.RTL&&(c+=\"\\u200f\");b.textContent=c;this.isFlyoutLabel&&(this.svgText=b,this.workspace.getThemeManager().subscribe(this.svgText,\"flyoutForegroundColour\",\"fill\"));d=getComputedStyle$$module$build$src$core$utils$style(b,\"fontSize\");const f=getComputedStyle$$module$build$src$core$utils$style(b,\"fontWeight\"),g=getComputedStyle$$module$build$src$core$utils$style(b,\"fontFamily\");this.width=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(b,d,f,g);c=measureFontMetrics$$module$build$src$core$utils$dom(c,\nd,f,g);this.height=this.height||c.height;if(!this.isFlyoutLabel){this.width+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X;this.height+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y;let h;(h=e)==null||h.setAttribute(\"width\",String(this.width));let k;(k=e)==null||k.setAttribute(\"height\",String(this.height))}a.setAttribute(\"width\",String(this.width));a.setAttribute(\"height\",String(this.height));b.setAttribute(\"x\",String(this.width/2));b.setAttribute(\"y\",String(this.height/\n2-c.height/2+c.baseline));this.updateTransform();this.onMouseDownWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,\"pointerdown\",this,this.onMouseDown);this.onMouseUpWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,\"pointerup\",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform();this.svgGroup.setAttribute(\"display\",\"block\")}updateTransform(){this.svgGroup.setAttribute(\"transform\",\"translate(\"+this.position.x+\",\"+this.position.y+\n\")\")}moveTo(a,b){this.position.x=a;this.position.y=b;this.updateTransform()}moveBy(a,b,c){this.moveTo(this.position.x+a,this.position.y+b)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){unbind$$module$build$src$core$browser_events(this.onMouseDownWrapper);\nunbind$$module$build$src$core$browser_events(this.onMouseUpWrapper);this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(a){a?this.svgGroup&&(this.svgGroup.appendChild(a),this.cursorSvg=a):this.cursorSvg=null}onMouseUp(a){(a=this.targetWorkspace.getGesture(a))&&a.cancel();this.isFlyoutLabel&&this.callbackKey?console.warn(\"Labels should not have callbacks. Label text: \"+this.text):this.isFlyoutLabel||\nthis.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(a=this.targetWorkspace.getButtonCallback(this.callbackKey))&&a(this):console.warn(\"Buttons should have callbacks. Button text: \"+this.text)}onMouseDown(a){const b=this.targetWorkspace.getGesture(a),c=this.targetWorkspace.getFlyout();b&&c&&b.handleFlyoutStart(a,c)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var a=this.getPosition();\na=new Rect$$module$build$src$core$utils$rect(a.y,a.y+this.height,a.x,a.x+this.width);this.workspace.scrollBoundsIntoView(a)}onNodeBlur(){}canBeFocused(){return!0}};FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X=5;FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y=2;FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS=4;register$$module$build$src$core$css(\"\\n.blocklyFlyoutButton {\\n  fill: #888;\\n  cursor: default;\\n}\\n\\n.blocklyFlyoutButtonShadow {\\n  fill: #666;\\n}\\n\\n.blocklyFlyoutButton:hover {\\n  fill: #aaa;\\n}\\n\\n.blocklyFlyoutLabel {\\n  cursor: default;\\n}\\n\\n.blocklyFlyoutLabelBackground {\\n  opacity: 0;\\n}\\n\");\nvar module$build$src$core$flyout_button={};module$build$src$core$flyout_button.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;var FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getWorkspace()}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof FlyoutButton$$module$build$src$core$flyout_button}},module$build$src$core$keyboard_nav$flyout_button_navigation_policy={};\nmodule$build$src$core$keyboard_nav$flyout_button_navigation_policy.FlyoutButtonNavigationPolicy=FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy;var FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy=class{constructor(a,b){this.policy=a;this.flyout=b}getFirstChild(a){return null}getParent(a){return this.policy.getParent(a)}getNextSibling(a){const b=this.flyout.getContents();if(!b)return null;let c=b.findIndex(d=>d.getElement()===a);if(c===-1)return null;c++;c>=b.length&&(c=0);return b[c].getElement()}getPreviousSibling(a){const b=this.flyout.getContents();if(!b)return null;let c=b.findIndex(d=>d.getElement()===\na);if(c===-1)return null;c--;c<0&&(c=b.length-1);return b[c].getElement()}isNavigable(a){return this.policy.isNavigable(a)}isApplicable(a){return this.policy.isApplicable(a)}},module$build$src$core$keyboard_nav$flyout_navigation_policy={};module$build$src$core$keyboard_nav$flyout_navigation_policy.FlyoutNavigationPolicy=FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy;var FlyoutSeparator$$module$build$src$core$flyout_separator=class{constructor(a,b){this.gap=a;this.axis=b;this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case \"x\":return new Rect$$module$build$src$core$utils$rect(this.y,this.y,this.x,this.x+this.gap);case \"y\":return new Rect$$module$build$src$core$utils$rect(this.y,this.y+this.gap,this.x,this.x)}}moveBy(a,b,c){this.x+=a;this.y+=b}isNavigable(){return!1}getFocusableElement(){throw Error(\"Cannot be focused\");}getFocusableTree(){throw Error(\"Cannot be focused\");\n}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},module$build$src$core$flyout_separator={};module$build$src$core$flyout_separator.FlyoutSeparator=FlyoutSeparator$$module$build$src$core$flyout_separator;var FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy=class{getFirstChild(a){return null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return!1}isApplicable(a){return a instanceof FlyoutSeparator$$module$build$src$core$flyout_separator}},module$build$src$core$keyboard_nav$flyout_separator_navigation_policy={};\nmodule$build$src$core$keyboard_nav$flyout_separator_navigation_policy.FlyoutSeparatorNavigationPolicy=FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy;var BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy=class{getFirstChild(a){return a.getEditor()}getParent(a){let b;return(b=a.getOwner())!=null?b:null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof TextInputBubble$$module$build$src$core$bubbles$textinput_bubble}},module$build$src$core$keyboard_nav$block_comment_navigation_policy={};\nmodule$build$src$core$keyboard_nav$block_comment_navigation_policy.BlockCommentNavigationPolicy=BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy;var BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy=class{getFirstChild(a){return getBlockNavigationCandidates$$module$build$src$core$keyboard_nav$block_navigation_policy(a,!0)[0]}getParent(a){var b;if((b=a.previousConnection)==null?0:b.targetBlock()){if(b=a.getSurroundParent())return b}else{let c;if((c=a.outputConnection)==null?0:c.targetBlock())return a.outputConnection.targetBlock()}return a.workspace}getNextSibling(a){let b;if((b=a.nextConnection)==null?0:b.targetBlock()){let d;\nreturn(d=a.nextConnection)==null?void 0:d.targetBlock()}let c;return((c=a.outputConnection)==null?0:c.targetBlock())?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1):a.getSurroundParent()?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a.getTopStackBlock(),1):this.getParent(a)instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1):null}getPreviousSibling(a){let b;\nif((b=a.previousConnection)==null?0:b.targetBlock()){let d;return(d=a.previousConnection)==null?void 0:d.targetBlock()}let c;return((c=a.outputConnection)==null?0:c.targetBlock())?navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1):this.getParent(a)instanceof WorkspaceSvg$$module$build$src$core$workspace_svg?navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1):null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof BlockSvg$$module$build$src$core$block_svg}},\nmodule$build$src$core$keyboard_nav$block_navigation_policy={};module$build$src$core$keyboard_nav$block_navigation_policy.BlockNavigationPolicy=BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$keyboard_nav$block_navigation_policy.navigateBlock=navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$keyboard_nav$block_navigation_policy.navigateStacks=navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy;var CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getCommentView().workspace.getCommentById(a.getCommentView().commentId)}getNextSibling(a){const b=a.getCommentView().getCommentBarButtons();a=b.indexOf(a);return a>=0&&a+1<b.length?b[a+1]:null}getPreviousSibling(a){const b=a.getCommentView().getCommentBarButtons();a=b.indexOf(a);return a>0?b[a-1]:null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof\nCommentBarButton$$module$build$src$core$comments$comment_bar_button}},module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy={};module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy.CommentBarButtonNavigationPolicy=CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy;var CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy=class{getFirstChild(a){return null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof CommentEditor$$module$build$src$core$comments$comment_editor}},module$build$src$core$keyboard_nav$comment_editor_navigation_policy={};\nmodule$build$src$core$keyboard_nav$comment_editor_navigation_policy.CommentEditorNavigationPolicy=CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy;var ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy=class{getFirstChild(a){return a.getParentInput()?a.targetConnection:null}getParent(a){return a.getSourceBlock()}getNextSibling(a){if(a.getParentInput())return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1);if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){const c=a.targetConnection;var b=a.getSourceBlock();if(!c&&b.getRootBlock().lastConnectionInStack(!1)===\na){a=b.workspace.getTopBlocks(!0);b=a.indexOf(b.getRootBlock())+1;b>=a.length&&(b=0);b=a[b];let d;return(d=this.getParentConnection(b))!=null?d:b}return c}return a.getSourceBlock()}getPreviousSibling(a){if(a.getParentInput())return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1);if(a.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE){const c=a.targetConnection&&\n!a.targetConnection.getParentInput()?a.targetConnection:null;var b=a.getSourceBlock();if(!c&&this.getParentConnection(b.getRootBlock())===a){a=b.workspace.getTopBlocks(!0);b=a.indexOf(b.getRootBlock())-1;b<0&&(b=a.length-1);b=a[b];let d;return(d=b.lastConnectionInStack(!1))!=null?d:b}return c}return a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT?a.getSourceBlock():null}getParentConnection(a){let b;return!a.outputConnection||((b=a.previousConnection)==null?0:b.isConnected())?\na.previousConnection:a.outputConnection}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof RenderedConnection$$module$build$src$core$rendered_connection}},module$build$src$core$keyboard_nav$connection_navigation_policy={};module$build$src$core$keyboard_nav$connection_navigation_policy.ConnectionNavigationPolicy=ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy;var FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy=class{getFirstChild(a){return null}getParent(a){return a.getSourceBlock()}getNextSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){let b;return a.canBeFocused()&&a.isVisible()&&(a.isClickable()||a.isCurrentlyEditable())&&!(((b=a.getSourceBlock())==\nnull?0:b.isSimpleReporter())&&a.isFullBlockField())&&a.getParentInput().isVisible()}isApplicable(a){return a instanceof Field$$module$build$src$core$field}},module$build$src$core$keyboard_nav$field_navigation_policy={};module$build$src$core$keyboard_nav$field_navigation_policy.FieldNavigationPolicy=FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy;var module$build$src$core$icons$registry={};module$build$src$core$icons$registry.register=register$$module$build$src$core$icons$registry;module$build$src$core$icons$registry.unregister=unregister$$module$build$src$core$icons$registry;var SIZE$$module$build$src$core$icons$comment_icon=17,DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon=160,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon=80,CommentIcon$$module$build$src$core$icons$comment_icon=class extends Icon$$module$build$src$core$icons$icon{constructor(a){super(a);this.sourceBlock=a;this.textInputBubble=null;this.text=\"\";this.bubbleSize=new Size$$module$build$src$core$utils$size(DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);\nthis.bubbleVisiblity=!1}getType(){return CommentIcon$$module$build$src$core$icons$comment_icon.TYPE}initView(a){this.svgRoot||(super.initView(a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{\"class\":\"blocklyIconShape\",r:\"8\",cx:\"8\",cy:\"8\"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyIconSymbol\",d:\"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z\"},\nthis.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{\"class\":\"blocklyIconSymbol\",x:\"6.8\",y:\"10.78\",height:\"2\",width:\"2\"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,\"blocklyCommentIcon\"))}dispose(){super.dispose();let a;(a=this.textInputBubble)==null||a.dispose()}getWeight(){return CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT}getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$comment_icon,\nSIZE$$module$build$src$core$icons$comment_icon)}applyColour(){super.applyColour();const a=this.sourceBlock.getColour();let b;(b=this.textInputBubble)==null||b.setColour(a)}updateEditable(){const a=this,b=()=>super.updateEditable;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){b().call(a);a.bubbleIsVisible()&&(yield a.setBubbleVisible(!1),yield a.setBubbleVisible(!0))})}onLocationChange(a){const b=this.workspaceLocation;super.onLocationChange(a);this.bubbleLocation&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.workspaceLocation,\nb),this.bubbleLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(this.bubbleLocation,a));a=this.getAnchorLocation();let c;(c=this.textInputBubble)==null||c.setAnchorLocation(a)}setText(a){const b=this.text;fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\"comment\",null,b,a));this.text=a;let c;(c=this.textInputBubble)==null||c.setText(this.text)}getText(){return this.text}setBubbleSize(a){this.bubbleSize=\na;let b;(b=this.textInputBubble)==null||b.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(a){this.bubbleLocation=a;let b;(b=this.textInputBubble)==null||b.moveDuringDrag(a)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const a={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},b=this.getBubbleLocation();b&&(a.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(b.x+\nthis.bubbleSize.width):b.x,a.y=b.y);return a}return null}loadState(a){let b;this.text=(b=a.text)!=null?b:\"\";let c,d;this.bubbleSize=new Size$$module$build$src$core$utils$size((c=a.width)!=null?c:DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,(d=a.height)!=null?d:DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);let e;this.bubbleVisiblity=(e=a.pinned)!=null?e:!1;this.setBubbleVisible(this.bubbleVisiblity);let f=a.x;const g=a.y;finishQueuedRenders$$module$build$src$core$render_management().then(()=>\n{f&&g&&(f=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(f+this.bubbleSize.width):f,this.setBubbleLocation(new Coordinate$$module$build$src$core$utils$coordinate(f,g)))})}onClick(){super.onClick();this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var a=this.textInputBubble.getText();this.text!==a&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock,\n\"comment\",null,this.text,a)),this.text=a)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(a){const b=this;return(0,$jscomp.asyncExecutePromiseGeneratorFunction)(function*(){b.bubbleVisiblity!==a&&(b.bubbleVisiblity=a,yield finishQueuedRenders$$module$build$src$core$render_management(),\n!b.sourceBlock.rendered||b.sourceBlock.isInFlyout||b.sourceBlock.isInsertionMarker()||(a?(b.sourceBlock.isEditable()?b.showEditableBubble():b.showNonEditableBubble(),b.applyColour()):b.hideBubble(),fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BUBBLE_OPEN))(b.sourceBlock,a,\"comment\"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let a;(a=this.textInputBubble)==null||a.addTextChangeListener(()=>\nthis.onTextChange());let b;(b=this.textInputBubble)==null||b.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let a;(a=this.textInputBubble)==null||a.setEditable(!1)}createBubble(){this.textInputBubble=new TextInputBubble$$module$build$src$core$bubbles$textinput_bubble(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this);this.textInputBubble.setText(this.getText());this.textInputBubble.setSize(this.bubbleSize,!0);this.bubbleLocation&&\nthis.textInputBubble.moveDuringDrag(this.bubbleLocation);this.textInputBubble.addTextChangeListener(()=>this.onTextChange());this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange());this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let a;(a=this.textInputBubble)==null||a.dispose();this.textInputBubble=null}getAnchorLocation(){const a=SIZE$$module$build$src$core$icons$comment_icon/2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,\nnew Coordinate$$module$build$src$core$utils$coordinate(a,a))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};CommentIcon$$module$build$src$core$icons$comment_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.COMMENT;CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT=3;register$$module$build$src$core$icons$registry(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE,CommentIcon$$module$build$src$core$icons$comment_icon);\nvar module$build$src$core$icons$comment_icon={};module$build$src$core$icons$comment_icon.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;var IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy=class{getFirstChild(a){if(a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&a.bubbleIsVisible()&&$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===a){let b,c;return(c=(b=a.getBubble())==null?void 0:b.getWorkspace())!=null?c:null}if(a instanceof CommentIcon$$module$build$src$core$icons$comment_icon&&a.bubbleIsVisible()&&$.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===\na){let b,c;return(c=(b=a.getBubble())==null?void 0:b.getEditor())!=null?c:null}return null}getParent(a){return a.getSourceBlock()}getNextSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof Icon$$module$build$src$core$icons$icon}},module$build$src$core$keyboard_nav$icon_navigation_policy=\n{};module$build$src$core$keyboard_nav$icon_navigation_policy.IconNavigationPolicy=IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy;var WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy=class{getFirstChild(a){return a.view.getCommentBarButtons()[0]}getParent(a){return a.workspace}getNextSibling(a){return navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,1)}getPreviousSibling(a){return navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy(a,-1)}isNavigable(a){return a.canBeFocused()}isApplicable(a){return a instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment}},\nmodule$build$src$core$keyboard_nav$workspace_comment_navigation_policy={};module$build$src$core$keyboard_nav$workspace_comment_navigation_policy.WorkspaceCommentNavigationPolicy=WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy;var WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy=class{getFirstChild(a){a=a.getTopBlocks(!0);return a.length?a[0]:null}getParent(a){return null}getNextSibling(a){return null}getPreviousSibling(a){return null}isNavigable(a){return a.canBeFocused()&&!a.isMutator}isApplicable(a){return a instanceof WorkspaceSvg$$module$build$src$core$workspace_svg}},module$build$src$core$keyboard_nav$workspace_navigation_policy={};\nmodule$build$src$core$keyboard_nav$workspace_navigation_policy.WorkspaceNavigationPolicy=WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy;var Navigator$$module$build$src$core$navigator=class{constructor(){this.rules=[new BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy,new FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy,new ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy,new WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy,new IconNavigationPolicy$$module$build$src$core$keyboard_nav$icon_navigation_policy,\nnew WorkspaceCommentNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_comment_navigation_policy,new CommentBarButtonNavigationPolicy$$module$build$src$core$keyboard_nav$comment_bar_button_navigation_policy,new BlockCommentNavigationPolicy$$module$build$src$core$keyboard_nav$block_comment_navigation_policy,new CommentEditorNavigationPolicy$$module$build$src$core$keyboard_nav$comment_editor_navigation_policy]}addNavigationPolicy(a){this.rules.push(a)}get(a){return this.rules.find(b=>b.isApplicable(a))}getFirstChild(a){let b;\nconst c=(b=this.get(a))==null?void 0:b.getFirstChild(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getFirstChild(c)||this.getNextSibling(c)}getParent(a){let b;const c=(b=this.get(a))==null?void 0:b.getParent(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getParent(c)}getNextSibling(a){let b;const c=(b=this.get(a))==null?void 0:b.getNextSibling(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getNextSibling(c)}getPreviousSibling(a){let b;\nconst c=(b=this.get(a))==null?void 0:b.getPreviousSibling(a);if(!c)return null;let d;return(d=this.get(c))!=null&&d.isNavigable(c)?c:this.getPreviousSibling(c)}},module$build$src$core$navigator={};module$build$src$core$navigator.Navigator=Navigator$$module$build$src$core$navigator;var FlyoutNavigator$$module$build$src$core$flyout_navigator=class extends Navigator$$module$build$src$core$navigator{constructor(a){super();this.rules.push(new FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy,new FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy);this.rules=this.rules.map(b=>new FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy(b,a))}},module$build$src$core$flyout_navigator=\n{};module$build$src$core$flyout_navigator.FlyoutNavigator=FlyoutNavigator$$module$build$src$core$flyout_navigator;var ScrollbarPair$$module$build$src$core$scrollbar_pair=class{constructor(a,b,c,d,e){this.workspace=a;this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null;b=b===void 0?!0:b;c=c===void 0?!0:c;const f=b&&c;b&&(this.hScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!0,f,d,e));c&&(this.vScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!1,f,d,e));f&&(this.corner_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,\nwidth:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,\"class\":\"blocklyScrollbarBackground\"}),insertAfter$$module$build$src$core$utils$dom(this.corner_,a.getBubbleCanvas()))}dispose(){removeNode$$module$build$src$core$utils$dom(this.corner_);this.oldHostMetrics=this.corner_=null;this.hScroll&&(this.hScroll.dispose(),this.hScroll=null);this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const a=this.workspace.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics&&this.oldHostMetrics.viewWidth===\na.viewWidth&&this.oldHostMetrics.viewHeight===a.viewHeight&&this.oldHostMetrics.absoluteTop===a.absoluteTop&&this.oldHostMetrics.absoluteLeft===a.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===a.scrollWidth&&this.oldHostMetrics.viewLeft===a.viewLeft&&this.oldHostMetrics.scrollLeft===a.scrollLeft||(b=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===a.scrollHeight&&this.oldHostMetrics.viewTop===a.viewTop&&this.oldHostMetrics.scrollTop===a.scrollTop||(c=!0)):c=b=!0;if(b||\nc){try{$.disable$$module$build$src$core$events$utils(),this.hScroll&&b&&this.hScroll.resize(a),this.vScroll&&c&&this.vScroll.resize(a)}finally{$.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft){let d;(d=this.corner_)==null||d.setAttribute(\"x\",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==\na.viewHeight||this.oldHostMetrics.absoluteTop!==a.absoluteTop){let d;(d=this.corner_)==null||d.setAttribute(\"y\",String(this.hScroll.position.y))}}this.oldHostMetrics=a}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(a,b){this.hScroll&&this.hScroll.setOrigin(a,b);this.vScroll&&this.vScroll.setOrigin(a,b)}set(a,b,c){this.hScroll&&this.hScroll.set(a,!1);this.vScroll&&this.vScroll.set(b,!1);if(c||c===void 0)a={},this.hScroll&&(a.x=this.hScroll.getRatio_()),\nthis.vScroll&&(a.y=this.vScroll.getRatio_()),this.workspace.setMetrics(a)}setX(a){this.hScroll&&this.hScroll.set(a,!0)}setY(a){this.vScroll&&this.vScroll.set(a,!0)}setContainerVisible(a){this.hScroll&&this.hScroll.setContainerVisible(a);this.vScroll&&this.vScroll.setContainerVisible(a)}isVisible(){let a=!1;this.hScroll&&(a=this.hScroll.isVisible());this.vScroll&&(a=a||this.vScroll.isVisible());return a}setVisible(a){this.hScroll&&this.hScroll.setVisibleInternal(a);this.vScroll&&this.vScroll.setVisibleInternal(a)}resizeContent(a){this.hScroll&&\nthis.hScroll.resizeContentHorizontal(a);this.vScroll&&this.vScroll.resizeContentVertical(a)}resizeView(a){this.hScroll&&this.hScroll.resizeViewHorizontal(a);this.vScroll&&this.vScroll.resizeViewVertical(a)}},module$build$src$core$scrollbar_pair={};module$build$src$core$scrollbar_pair.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;var SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater=\"sep\",SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater=class{load(a,b){a=new FlyoutSeparator$$module$build$src$core$flyout_separator(0,b.horizontalLayout?\"x\":\"y\");return new FlyoutItem$$module$build$src$core$flyout_item(a,SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater)}gapForItem(a,b){let c;return(c=parseInt(String(a.gap)))!=null?c:b}disposeItem(a){}getType(){return SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater,SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater);var module$build$src$core$separator_flyout_inflater={SEPARATOR_TYPE:SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater};module$build$src$core$separator_flyout_inflater.SeparatorFlyoutInflater=SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater;var Flyout$$module$build$src$core$flyout_base=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.horizontalLayout=!1;this.boundEvents=[];this.reflowWrapper=null;this.contents=[];this.autoClose=!0;this.visible=!1;this.containerVisible=!0;this.CORNER_RADIUS=8;this.SCROLLBAR_MARGIN=2.5;this.height_=this.width_=0;this.dragAngleRange_=70;this.svgGroup_=this.svgBackground_=null;this.inflaters=new Map;a.setMetrics=this.setMetrics_.bind(this);this.workspace_=new WorkspaceSvg$$module$build$src$core$workspace_svg(a);\nthis.workspace_.setMetricsManager(new FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager(this.workspace_,this));this.workspace_.internalIsFlyout=!0;this.workspace_.setVisible(this.visible);this.workspace_.setNavigator(new FlyoutNavigator$$module$build$src$core$flyout_navigator(this));this.id=genUid$$module$build$src$core$utils$idgenerator();this.RTL=!!a.RTL;this.toolboxPosition_=a.toolboxPosition;this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH;this.MARGIN=this.CORNER_RADIUS;\nthis.GAP_X=this.MARGIN*3;this.GAP_Y=this.MARGIN*3}createDom(a){this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(a,{\"class\":\"blocklyFlyout\"});this.svgGroup_.style.display=\"none\";this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyFlyoutBackground\"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());this.workspace_.getThemeManager().subscribe(this.svgBackground_,\"flyoutBackgroundColour\",\n\"fill\");this.workspace_.getThemeManager().subscribe(this.svgBackground_,\"flyoutOpacity\",\"fill-opacity\");return this.svgGroup_}init(a){this.targetWorkspace=a;this.workspace_.targetWorkspace=a;this.workspace_.scrollbar=new ScrollbarPair$$module$build$src$core$scrollbar_pair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,\"blocklyFlyoutScrollbar\",this.SCROLLBAR_MARGIN);this.hide();this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"wheel\",this,this.wheel_));\nthis.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgBackground_,\"pointerdown\",this,this.onMouseDown));this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace);this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap());this.workspace_.createPotentialVariableMap();a.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.FLYOUT_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,\nComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]})}dispose(){this.hide();this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);this.boundEvents.length=0;this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose());this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(a){this.autoClose=\na;this.targetWorkspace.recordDragTargets();this.targetWorkspace.resizeContents()}autoHide(a){!a&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(a){const b=a!==this.isVisible();this.visible=a;b&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(a){const b=a!==this.containerVisible;this.containerVisible=a;b&&this.updateDisplay()}getContents(){return this.contents}setContents(a){this.contents=\na}updateDisplay(){let a;a=this.containerVisible?this.isVisible():!1;this.svgGroup_&&(this.svgGroup_.style.display=a?\"block\":\"none\");let b;(b=this.workspace_.scrollbar)==null||b.setContainerVisible(a)}positionAt_(a,b,c,d){let e;(e=this.svgGroup_)==null||e.setAttribute(\"width\",`${a}`);let f;(f=this.svgGroup_)==null||f.setAttribute(\"height\",`${b}`);this.workspace_.setCachedParentSvgSize(a,b);this.svgGroup_&&setCssTransform$$module$build$src$core$utils$dom(this.svgGroup_,\"translate(\"+c+\"px,\"+d+\"px)\");\nif(a=this.workspace_.scrollbar)a.setOrigin(c,d),a.resize(),a.hScroll&&a.hScroll.setPosition(a.hScroll.position.x,a.hScroll.position.y),a.vScroll&&a.vScroll.setPosition(a.vScroll.position.x,a.vScroll.position.y)}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(a){this.workspace_.setResizesEnabled(!1);this.hide();this.clearOldBlocks();typeof a===\"string\"&&(a=this.getDynamicCategoryContents(a));\nthis.setVisible(!0);a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a);a=this.createFlyoutInfo(a);triggerQueuedRenders$$module$build$src$core$render_management(this.workspace_);this.setContents(a);this.layout_(a);this.horizontalLayout?this.height_=0:this.width_=0;this.reflow();this.workspace_.setResizesEnabled(!0);this.reflowWrapper=b=>{b.type!==EventType$$module$build$src$core$events$type.BLOCK_CHANGE&&b.type!==EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE||\nthis.reflow()};this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(a){const b=[],c=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of a)if(\"custom\"in d&&(a=this.getDynamicCategoryContents(d.custom),a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),b.push(...this.createFlyoutInfo(a))),a=d.kind.toLowerCase(),a=this.getInflaterForType(a))b.push(a.load(d,this)),(a=a.gapForItem(d,c))&&b.push(new FlyoutItem$$module$build$src$core$flyout_item(new FlyoutSeparator$$module$build$src$core$flyout_separator(a,\nthis.horizontalLayout?\"x\":\"y\"),SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater));return this.normalizeSeparators(b)}normalizeSeparators(a){for(let b=a.length-1;b>0;b--){const c=a[b].getType().toLowerCase(),d=a[b-1].getType().toLowerCase();c===SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater&&d===SEPARATOR_TYPE$$module$build$src$core$separator_flyout_inflater&&a.splice(b-1,1)}return a}getDynamicCategoryContents(a){a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);\nif(typeof a!==\"function\")throw TypeError(\"Couldn't find a callback function when opening a toolbox category.\");return a(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(b=>{let c;(c=this.getInflaterForType(b.getType()))==null||c.disposeItem(b)});let a;(a=this.workspace_.getPotentialVariableMap())==null||a.clear()}onMouseDown(a){const b=this.targetWorkspace.getGesture(a);b&&b.handleFlyoutStart(a,this)}isBlockCreatable(a){return a.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(a){let b=\nnull;$.disable$$module$build$src$core$events$utils();var c=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{b=this.placeNewBlock(a)}finally{$.enable$$module$build$src$core$events$utils()}this.targetWorkspace.hideChaff();a=getAddedVariables$$module$build$src$core$variables(this.targetWorkspace,c);if(isEnabled$$module$build$src$core$events$utils()){$.setGroup$$module$build$src$core$events$utils(!0);for(c=0;c<a.length;c++){const d=a[c];fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(d))}fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CREATE))(b))}this.autoClose&&\nthis.hide();return b}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper);this.reflowInternal_();this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(a){var b=this.targetWorkspace;if(!a.getSvgRoot())throw Error(\"oldBlock is not rendered\");const c=this.serializeBlock(a);b.setResizesEnabled(!1);b=append$$module$build$src$core$serialization$blocks(c,\nb);this.positionNewBlock(a,b);return b}serializeBlock(a){return save$$module$build$src$core$serialization$blocks(a)}positionNewBlock(a,b){const c=this.targetWorkspace;var d=c.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY();a.scale(this.workspace_.scale);e=Coordinate$$module$build$src$core$utils$coordinate.sum(e,a);d=Coordinate$$module$build$src$core$utils$coordinate.difference(e,d);d.scale(1/c.scale);b.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(d.x,\nd.y))}getInflaterForType(a){if(this.inflaters.has(a)){var b;return(b=this.inflaters.get(a))!=null?b:null}return(b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,a))?(b=new b,this.inflaters.set(a,b),b):null}getFocusableElement(){throw Error(\"Flyouts are not directly focusable.\");}getFocusableTree(){throw Error(\"Flyouts are not directly focusable.\");}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error(\"Flyouts are not directly focusable.\");\n}getRestoredFocusableNode(a){throw Error(\"Flyouts are not directly focusable.\");}getNestedTrees(){throw Error(\"Flyouts are not directly focusable.\");}lookUpFocusableNode(a){throw Error(\"Flyouts are not directly focusable.\");}onTreeFocus(a,b){}onTreeBlur(a){throw Error(\"Flyouts are not directly focusable.\");}},module$build$src$core$flyout_base={};module$build$src$core$flyout_base.Flyout=Flyout$$module$build$src$core$flyout_base;var module$build$src$core$interfaces$i_draggable={};module$build$src$core$interfaces$i_draggable.isDraggable=isDraggable$$module$build$src$core$interfaces$i_draggable;var KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller=class{constructor(){this.isActive=!1;this.activeClassName=\"blocklyKeyboardNavigation\"}setIsActive(a=!0){this.isActive=a;this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller=\nnew KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller,module$build$src$core$keyboard_navigation_controller={};module$build$src$core$keyboard_navigation_controller.KeyboardNavigationController=KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$keyboard_navigation_controller.keyboardNavigationController=keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;var WorkspaceDragger$$module$build$src$core$workspace_dragger=class{constructor(a){this.workspace=a;this.horizontalScrollEnabled=this.workspace.isMovableHorizontally();this.verticalScrollEnabled=this.workspace.isMovableVertically();this.startScrollXY_=new Coordinate$$module$build$src$core$utils$coordinate(a.scrollX,a.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(a){this.drag(a)}drag(a){a=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startScrollXY_,a);if(this.horizontalScrollEnabled&&\nthis.verticalScrollEnabled)this.workspace.scroll(a.x,a.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(a.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,a.y);else throw new TypeError(\"Invalid state.\");}},module$build$src$core$workspace_dragger={};module$build$src$core$workspace_dragger.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;var ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture=5,ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture=6,Gesture$$module$build$src$core$gesture=class{constructor(a,b){this.creatorWorkspace=b;this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null;this.hasExceededDragRadius=!1;this.boundEvents=[];this.workspaceDragger=this.dragger=null;this.dragging=\n!1;this.flyout=null;this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1;this.cachedPoints=new Map;this.startDistance=this.previousScale=0;this.currentDropdownOwner=this.isPinchZoomEnabled=null;this.mostRecentEvent=a;this.currentDragDeltaXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0)}dispose(){clearTouchIdentifier$$module$build$src$core$touch();unblock$$module$build$src$core$tooltip();this.creatorWorkspace.clearGesture();for(const a of this.boundEvents)unbind$$module$build$src$core$browser_events(a);\nthis.boundEvents.length=0;this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(a){const b=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);this.updateDragDelta(b)&&(this.updateIsDragging(a),longStop$$module$build$src$core$touch());this.mostRecentEvent=a}updateDragDelta(a){this.currentDragDeltaXY=Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.mouseDownXY);return this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Coordinate$$module$build$src$core$utils$coordinate.magnitude(this.currentDragDeltaXY)>\n(this.flyout?$.config$$module$build$src$core$config.flyoutDragRadius:$.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let a;if(!this.targetBlock||(a=this.flyout)==null||!a.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(\"Cannot update dragging from the flyout because the ' +\\n          'flyout's target workspace is undefined\");return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=\nthis.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error(\"Cannot update dragging the workspace because the start workspace is undefined\");\nif(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())this.dragging=!0,this.workspaceDragger=new WorkspaceDragger$$module$build$src$core$workspace_dragger(this.startWorkspace_),this.workspaceDragger.startDrag()}updateIsDragging(a){if(!this.startWorkspace_)throw Error(\"Cannot update dragging because the start workspace is undefined\");if(this.calledUpdateIsDragging)throw Error(\"updateIsDragging_ should only be called once per gesture.\");this.calledUpdateIsDragging=\n!0;this.flyout&&this.updateIsDraggingFromFlyout();const b=getSelected$$module$build$src$core$common();b&&isDraggable$$module$build$src$core$interfaces$i_draggable(b)&&b.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(b,this.startWorkspace_),this.dragger.onDragStart(a),this.dragger.onDrag(a,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(a,b){return new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,this.creatorWorkspace.options,\n!0))(a,b)}doStart(a){if(!this.startWorkspace_)throw Error(\"Cannot start the touch gesture becauase the start workspace is undefined\");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch;isTargetInput$$module$build$src$core$browser_events(a)?this.cancel():(this.gestureHasStarted=!0,disconnectUiStop$$module$build$src$core$block_animations(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),\nthis.currentDropdownOwner=getOwner$$module$build$src$core$dropdowndiv(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=a,block$$module$build$src$core$tooltip(),isRightButton$$module$build$src$core$browser_events(a)?this.handleRightClick(a):(a.type.toLowerCase()===\"pointerdown\"&&a.pointerType!==\"mouse\"&&longStart$$module$build$src$core$touch(a,this),this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY),this.bindMouseEvents(a),\nthis.isEnding_||this.handleTouchStart(a)))}bindMouseEvents(a){this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointerdown\",null,this.handleStart.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointermove\",null,this.handleMove.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,\"pointerup\",null,this.handleUp.bind(this),!0));a.preventDefault();a.stopPropagation()}handleStart(a){this.isDragging()||\n(this.handleTouchStart(a),this.isMultiTouch()&&longStop$$module$build$src$core$touch())}handleMove(a){if(this.isDragging()&&shouldHandleEvent$$module$build$src$core$touch(a)||!this.isMultiTouch()){this.updateFromEvent(a);if(this.workspaceDragger)this.workspaceDragger.drag(this.currentDragDeltaXY);else if(this.dragger)this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY);a.preventDefault();a.stopPropagation()}else this.isMultiTouch()&&(this.handleTouchMove(a),longStop$$module$build$src$core$touch())}handleUp(a){this.isDragging()||\nthis.handleTouchEnd(a);if(!this.isMultiTouch()||this.isDragging()){if(!shouldHandleEvent$$module$build$src$core$touch(a))return;this.updateFromEvent(a);longStop$$module$build$src$core$touch();if(this.isEnding_){console.log(\"Trying to end a gesture recursively.\");return}this.isEnding_=!0;this.dragger?(keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1),this.dragger.onDragEnd(a,this.currentDragDeltaXY)):this.workspaceDragger?(keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1),\nthis.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(a))}a.preventDefault();a.stopPropagation();this.dispose()}handleTouchStart(a){var b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));var c=Array.from(this.cachedPoints.keys());\nc.length===2&&(b=this.cachedPoints.get(c[0]),c=this.cachedPoints.get(c[1]),this.startDistance=Coordinate$$module$build$src$core$utils$coordinate.distance(b,c),this.multiTouch=!0,a.preventDefault())}handleTouchMove(a){const b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));if(this.isPinchZoomEnabled&&this.cachedPoints.size===2)this.handlePinch(a);else{this.updateFromEvent(a);if(this.workspaceDragger)this.workspaceDragger.drag(this.currentDragDeltaXY);\nelse if(this.dragger)this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY);a.preventDefault();a.stopPropagation()}}handlePinch(a){var b=Array.from(this.cachedPoints.keys()),c=this.cachedPoints.get(b[0]);b=this.cachedPoints.get(b[1]);c=Coordinate$$module$build$src$core$utils$coordinate.distance(c,b)/this.startDistance;if(this.previousScale>0&&this.previousScale<Infinity){b=c-this.previousScale;b=b>0?b*ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture:b*ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture;\nif(!this.startWorkspace_)throw Error(\"Cannot handle a pinch because the start workspace is undefined\");const d=this.startWorkspace_,e=mouseToSvg$$module$build$src$core$browser_events(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,b)}this.previousScale=c;a.preventDefault()}handleTouchEnd(a){a=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.has(a)&&this.cachedPoints.delete(a);this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(a){return this.startWorkspace_?\nnew Coordinate$$module$build$src$core$utils$coordinate(a.pageX,a.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){if(!this.isEnding_){longStop$$module$build$src$core$touch();if(this.dragger)this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY);else this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY);this.dispose()}}handleRightClick(a){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(a)):\nthis.startBubble?this.startBubble.showContextMenu(a):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(a)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(a));a.preventDefault();a.stopPropagation();keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller.setIsActive(!1);this.dispose()}handleWsStart(a,\nb){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleWsStart, but the gesture had already been started.\");this.setStartWorkspace(b);this.mostRecentEvent=a;this.startBlock||this.startBubble||this.startComment?this.startBlock&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):$.getFocusManager$$module$build$src$core$focus_manager().focusNode(b);this.doStart(a)}fireWorkspaceClick(a){fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(null,\na.id,\"workspace\"))}handleFlyoutStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleFlyoutStart, but the gesture had already been started.\");this.setStartFlyout(b);this.handleWsStart(a,b.getWorkspace())}handleBlockStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleBlockStart, but the gesture had already been started.\");this.setStartBlock(b);this.mostRecentEvent=a}handleBubbleStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleBubbleStart, but the gesture had already been started.\");\nthis.setStartBubble(b);this.mostRecentEvent=a}handleCommentStart(a,b){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.handleCommentStart, but the gesture had already been started.\");this.setStartComment(b);this.mostRecentEvent=a}doFieldClick(){if(!this.startField)throw Error(\"Cannot do a field click because the start field is undefined\");this.bringBlockToFront();this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error(\"Cannot do an icon click because the start icon is undefined\");\nthis.bringBlockToFront();this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error(\"Cannot do a block click because the target block is undefined\");if(this.flyout.isBlockCreatable(this.targetBlock)){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);var a=this.flyout.createBlock(this.targetBlock);a.snapToGrid();a.bumpNeighbours();$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}}else{if(!this.startWorkspace_)throw Error(\"Cannot do a block click because the start workspace is undefined\");\na=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.CLICK))(this.startBlock,this.startWorkspace_.id,\"block\");fire$$module$build$src$core$events$utils(a)}this.bringBlockToFront();$.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(a){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&($.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(a){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.setStartField, but the gesture had already been started.\");\nthis.startField||(this.startField=a)}setStartIcon(a){if(this.gestureHasStarted)throw Error(\"Tried to call gesture.setStartIcon, but the gesture had already been started.\");this.startIcon||(this.startIcon=a)}setStartBubble(a){this.startBubble||(this.startBubble=a)}setStartComment(a){this.startComment||(this.startComment=a)}setStartBlock(a){this.startBlock||this.startBubble||(this.startBlock=a,a.isInFlyout&&a!==a.getRootBlock()?this.setTargetBlock(a.getRootBlock()):this.setTargetBlock(a))}setTargetBlock(a){a.isShadow()?\nthis.setTargetBlock(a.getParent()):(this.targetBlock=a,$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a))}setStartWorkspace(a){this.startWorkspace_||(this.startWorkspace_=a)}setStartFlyout(a){this.flyout||(this.flyout=a)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?\nthis.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const a=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&a}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let a,b;return(b=(a=this.workspaceDragger)!=\nnull?a:this.dragger)!=null?b:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const a=getAllWorkspaces$$module$build$src$core$common();for(let b=0,c;c=a[b];b++)if(c.currentGesture_)return!0;return!1}},module$build$src$core$gesture={};module$build$src$core$gesture.Gesture=Gesture$$module$build$src$core$gesture;var Grid$$module$build$src$core$grid=class{constructor(a,b){this.pattern=a;this.scale=1;let c;this.spacing=(c=b.spacing)!=null?c:0;let d;this.length=(d=b.length)!=null?d:1;this.line2=(this.line1=a.firstChild)&&this.line1.nextSibling;let e;this.snapToGrid=(e=b.snap)!=null?e:!1}setSpacing(a){this.spacing=a;this.update(this.scale)}getSpacing(){return this.spacing}setLength(a){this.length=a;this.update(this.scale)}getLength(){return this.length}setSnapToGrid(a){this.snapToGrid=a}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(a){this.scale=\na;var b=this.spacing*a;this.pattern.setAttribute(\"width\",`${b}`);this.pattern.setAttribute(\"height\",`${b}`);b=Math.floor(this.spacing/2)+.5;let c=b-this.length/2,d=b+this.length/2;b*=a;c*=a;d*=a;this.setLineAttributes(this.line1,a,c,d,b,b);this.setLineAttributes(this.line2,a,b,b,c,d)}setLineAttributes(a,b,c,d,e,f){a&&(a.setAttribute(\"stroke-width\",`${b}`),a.setAttribute(\"x1\",`${c}`),a.setAttribute(\"y1\",`${e}`),a.setAttribute(\"x2\",`${d}`),a.setAttribute(\"y2\",`${f}`))}moveTo(a,b){this.pattern.setAttribute(\"x\",\n`${a}`);this.pattern.setAttribute(\"y\",`${b}`)}alignXY(a){var b=this.getSpacing();const c=b/2,d=Math.round(Math.round((a.x-c)/b)*b+c);b=Math.round(Math.round((a.y-c)/b)*b+c);return d===a.x&&b===a.y?a:new Coordinate$$module$build$src$core$utils$coordinate(d,b)}static createDom(a,b,c,d){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:\"blocklyGridPattern\"+a,patternUnits:\"userSpaceOnUse\"},c);let e,f;if(((e=b.length)!=null?e:1)>0&&((f=b.spacing)!=null?\nf:0)>0){createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a);let g;(g=b.length)!=null&&g&&createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a)}else createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{},a);d&&d.style.setProperty(\"--blocklyGridPattern\",`url(#${a.id})`);return a}},module$build$src$core$grid={};\nmodule$build$src$core$grid.Grid=Grid$$module$build$src$core$grid;var module$build$src$core$interfaces$i_autohideable={};module$build$src$core$interfaces$i_autohideable.isAutoHideable=isAutoHideable$$module$build$src$core$interfaces$i_autohideable;var LayerManager$$module$build$src$core$layer_manager=class{constructor(a){this.workspace=a;this.layers=new Map;if(a=a.getInjectionDiv())this.dragLayer=this.createDragLayer(a),this.animationLayer=this.createAnimationLayer(a);a=this.createLayer(BLOCK$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,\"blocklyBlockCanvas\");a=this.createLayer(BUBBLE$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,\"blocklyBubbleCanvas\")}createDragLayer(a){const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,\n{\"class\":\"blocklyBlockDragSurface\",xmlns:SVG_NS$$module$build$src$core$utils$dom,\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b)}createAnimationLayer(a){const b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{\"class\":\"blocklyAnimationLayer\",xmlns:SVG_NS$$module$build$src$core$utils$dom,\n\"xmlns:html\":HTML_NS$$module$build$src$core$utils$dom,\"xmlns:xlink\":XLINK_NS$$module$build$src$core$utils$dom,version:\"1.1\"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b)}appendToAnimationLayer(a){let b;const c=(b=this.dragLayer)==null?void 0:b.getAttribute(\"transform\");if(c){let e;(e=this.animationLayer)==null||e.setAttribute(\"transform\",c)}let d;(d=this.animationLayer)==null||d.appendChild(a.getSvgRoot())}translateLayers(a,b){a=\n`translate(${a.x}, ${a.y}) scale(${b})`;let c;(c=this.dragLayer)==null||c.setAttribute(\"transform\",a);for(const [,d]of this.layers)d.setAttribute(\"transform\",a)}moveToDragLayer(a){let b;(b=this.dragLayer)==null||b.appendChild(a.getSvgRoot());a.canBeFocused()&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}moveOffDragLayer(a,b){this.append(a,b);a.canBeFocused()&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}append(a,b){this.layers.has(b)||this.createLayer(b);\na=a.getSvgRoot();let c;if(((c=this.layers.get(b))==null?void 0:c.lastChild)!==a){let d;(d=this.layers.get(b))==null||d.appendChild(a)}}createLayer(a){const b=this.workspace.getSvgGroup(),c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});let d=!1;const e=[...this.layers].sort((f,g)=>f[0]-g[0]);for(const [f,g]of e)if(a<f){b.insertBefore(c,g);d=!0;break}d||b.appendChild(c);this.layers.set(a,c);return c}hasLayer(a){return a===this.dragLayer||(new Set(this.layers.values())).has(a)}getBlockLayer(){return this.layers.get(BLOCK$$module$build$src$core$layers)}getBubbleLayer(){return this.layers.get(BUBBLE$$module$build$src$core$layers)}},\nmodule$build$src$core$layer_manager={};module$build$src$core$layer_manager.LayerManager=LayerManager$$module$build$src$core$layer_manager;var Marker$$module$build$src$core$keyboard_nav$marker=class{constructor(){this.curNode=this.colour=null;this.type=\"marker\"}getCurNode(){return this.curNode}setCurNode(a){this.curNode=a}dispose(){this.curNode=null}getSourceBlockFromNode(a){return a instanceof BlockSvg$$module$build$src$core$block_svg?a:a instanceof Field$$module$build$src$core$field||a instanceof RenderedConnection$$module$build$src$core$rendered_connection?a.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},\nmodule$build$src$core$keyboard_nav$marker={};module$build$src$core$keyboard_nav$marker.Marker=Marker$$module$build$src$core$keyboard_nav$marker;var LineCursor$$module$build$src$core$keyboard_nav$line_cursor=class extends Marker$$module$build$src$core$keyboard_nav$marker{constructor(a){super();this.workspace=a;this.type=\"cursor\";this.potentialNodes=null}next(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode(a,b=>{let c;return b instanceof BlockSvg$$module$build$src$core$block_svg&&!((c=b.outputConnection)==null?0:c.targetBlock())||b instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment},\n!0))&&this.setCurNode(a);return a}in(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode(a,()=>!0,!0))&&this.setCurNode(a);return a}prev(){var a=this.getCurNode();if(!a)return null;(a=this.getPreviousNode(a,b=>{let c;return b instanceof BlockSvg$$module$build$src$core$block_svg&&!((c=b.outputConnection)==null?0:c.targetBlock())||b instanceof RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment},!0))&&this.setCurNode(a);return a}out(){var a=this.getCurNode();\nif(!a)return null;(a=this.getPreviousNode(a,()=>!0,!0))&&this.setCurNode(a);return a}atEndOfLine(){var a=this.getCurNode();if(!a)return!1;const b=this.getNextNode(a,()=>!0,!0);a=this.getNextNode(a,c=>{let d;return c instanceof BlockSvg$$module$build$src$core$block_svg&&!((d=c.outputConnection)==null?0:d.targetBlock())},!0);return b===a}getNextNodeImpl(a,b,c=new Set){if(!a||c.has(a))return null;let d=this.workspace.getNavigator().getFirstChild(a)||this.workspace.getNavigator().getNextSibling(a);for(var e=\na;e&&!d;){e=this.workspace.getNavigator().getParent(e);if(!e)break;d=this.workspace.getNavigator().getNextSibling(e)}return b(d)?d:d?(c.add(a),this.getNextNodeImpl(d,b,c)):null}getNextNode(a,b,c){return!a||!c&&this.getLastNode()===a?null:this.getNextNodeImpl(a,b)}getPreviousNodeImpl(a,b,c=new Set){if(!a||c.has(a))return null;const d=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(a),a)||this.workspace.getNavigator().getParent(a);return b(d)?d:d?(c.add(a),this.getPreviousNodeImpl(d,\nb,c)):null}getPreviousNode(a,b,c){return!a||!c&&this.getFirstNode()===a?null:this.getPreviousNodeImpl(a,b)}getRightMostChild(a,b){if(!a)return a;let c=this.workspace.getNavigator().getFirstChild(a);if(!c||c===b)return a;for(a=c;a&&a!==b;a=this.workspace.getNavigator().getNextSibling(c))c=a;return this.getRightMostChild(c,b)}preDelete(a){var b=this.getCurNode();b=b?[b]:[];var c;let d,e;const f=(e=(c=a.previousConnection)==null?void 0:c.targetConnection)!=null?e:(d=a.outputConnection)==null?void 0:\nd.targetConnection;f&&b.push(f);(c=a.getNextBlock())&&b.push(c);(a=a.getParent())&&b.push(a);b.push(this.workspace);this.potentialNodes=b}postDelete(){const a=this.potentialNodes;this.potentialNodes=null;if(!a)throw Error(\"must call preDelete first\");for(const b of a){let c;if((c=this.getSourceBlockFromNode(b))==null||!c.disposed){this.setCurNode(b);return}}throw Error(\"no valid nodes in this.potentialNodes\");}getCurNode(){return $.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(a){$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const a=\nthis.getFirstNode();return this.getPreviousNode(a,()=>!0,!0)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,DEFAULT$$module$build$src$core$registry,LineCursor$$module$build$src$core$keyboard_nav$line_cursor);var module$build$src$core$keyboard_nav$line_cursor={};module$build$src$core$keyboard_nav$line_cursor.LineCursor=LineCursor$$module$build$src$core$keyboard_nav$line_cursor;var MarkerManager$$module$build$src$core$marker_manager=class{constructor(a){this.workspace=a;this.markers=new Map;this.cursor=new LineCursor$$module$build$src$core$keyboard_nav$line_cursor(this.workspace)}registerMarker(a,b){this.markers.has(a)&&this.unregisterMarker(a);this.markers.set(a,b)}unregisterMarker(a){const b=this.markers.get(a);if(b)b.dispose(),this.markers.delete(a);else throw Error(\"Marker with ID \"+a+\" does not exist. Can only unregister markers that exist.\");}getCursor(){return this.cursor}getMarker(a){return this.markers.get(a)||\nnull}setCursor(a){this.cursor=a}dispose(){const a=Object.keys(this.markers);for(let b=0,c;c=a[b];b++)this.unregisterMarker(c);this.markers.clear();this.cursor.dispose()}};MarkerManager$$module$build$src$core$marker_manager.LOCAL_MARKER=\"local_marker_1\";var module$build$src$core$marker_manager={};module$build$src$core$marker_manager.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;var module$build$src$core$icons={};module$build$src$core$icons.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;module$build$src$core$icons.Icon=Icon$$module$build$src$core$icons$icon;module$build$src$core$icons.IconType=IconType$$module$build$src$core$icons$icon_types;module$build$src$core$icons.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;module$build$src$core$icons.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;\nmodule$build$src$core$icons.exceptions=module$build$src$core$icons$exceptions;module$build$src$core$icons.registry=module$build$src$core$icons$registry;var module$build$src$core$interfaces$i_procedure_block={};module$build$src$core$interfaces$i_procedure_block.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;$.Names$$module$build$src$core$names=class{constructor(a,b){this.db=new Map;this.dbReverse=new Set;this.variableMap=null;this.variablePrefix=b||\"\";this.reservedWords=new Set(a?a.split(\",\"):[])}reset(){this.db.clear();this.dbReverse.clear();this.variableMap=null}setVariableMap(a){this.variableMap=a}getNameForUserVariable(a){return this.variableMap?(a=this.variableMap.getVariableById(a))?a.getName():null:(console.warn(\"Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());\"),\nnull)}populateVariables(a){a=$.allUsedVarModels$$module$build$src$core$variables(a);for(let b=0;b<a.length;b++)this.getName(a[b].getId(),$.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(a){throw Error(\"The implementation of populateProcedures should be monkey-patched in by blockly.ts\");}getName(a,b){let c=a;b===$.NameType$$module$build$src$core$names.VARIABLE&&(a=this.getNameForUserVariable(a))&&(c=a);a=c.toLowerCase();const d=b===$.NameType$$module$build$src$core$names.VARIABLE||\nb===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:\"\";this.db.has(b)||this.db.set(b,new Map);const e=this.db.get(b);if(e.has(a))return d+e.get(a);b=this.getDistinctName(c,b);e.set(a,b.substr(d.length));return b}getUserNames(a){let b;return(a=(b=this.db.get(a))==null?void 0:b.keys())?Array.from(a):[]}getDistinctName(a,b){a=this.safeName(a);let c=null,d,e;for(;this.dbReverse.has(a+((d=c)!=null?d:\"\"))||this.reservedWords.has(a+((e=c)!=null?e:\"\"));)c=c?c+1:2;let f;a+=(f=\nc)!=null?f:\"\";this.dbReverse.add(a);return(b===$.NameType$$module$build$src$core$names.VARIABLE||b===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:\"\")+a}safeName(a){a?(a=encodeURI(a.replace(/ /g,\"_\")).replace(/[^\\w]/g,\"_\"),\"0123456789\".includes(a[0])&&(a=\"my_\"+a)):a=$.Msg$$module$build$src$core$msg.UNNAMED_KEY||\"unnamed\";return a}static equals(a,b){return a.toLowerCase()===b.toLowerCase()}};\n(function(a){a=a.NameType||(a.NameType={});a.DEVELOPER_VARIABLE=\"DEVELOPER_VARIABLE\";a.VARIABLE=\"VARIABLE\";a.PROCEDURE=\"PROCEDURE\"})($.Names$$module$build$src$core$names||($.Names$$module$build$src$core$names={}));$.NameType$$module$build$src$core$names=$.Names$$module$build$src$core$names.NameType;$.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE;var module$build$src$core$names={NameType:$.NameType$$module$build$src$core$names};\nmodule$build$src$core$names.Names=$.Names$$module$build$src$core$names;var module$build$src$core$interfaces$i_observable={};module$build$src$core$interfaces$i_observable.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;var ObservableProcedureMap$$module$build$src$core$observable_procedure_map=class extends Map{constructor(){super()}set(a,b){if(this.get(a)===b)return this;super.set(a,b);isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.startPublishing();return this}delete(a){const b=this.get(a);a=super.delete(a);if(!a)return a;isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.stopPublishing();return a}clear(){if(this.size)for(const a of this.keys())this.delete(a)}add(a){return this.set(a.getId(),\na)}getProcedures(){return[...this.values()]}},module$build$src$core$observable_procedure_map={};module$build$src$core$observable_procedure_map.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;var CATEGORY_NAME$$module$build$src$core$procedures,module$build$src$core$procedures;CATEGORY_NAME$$module$build$src$core$procedures=\"PROCEDURE\";$.DEFAULT_ARG$$module$build$src$core$procedures=\"x\";module$build$src$core$procedures={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$procedures,DEFAULT_ARG:$.DEFAULT_ARG$$module$build$src$core$procedures};module$build$src$core$procedures.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;\nmodule$build$src$core$procedures.allProcedures=allProcedures$$module$build$src$core$procedures;module$build$src$core$procedures.findLegalName=$.findLegalName$$module$build$src$core$procedures;module$build$src$core$procedures.flyoutCategory=flyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.getCallers=getCallers$$module$build$src$core$procedures;module$build$src$core$procedures.getDefinition=$.getDefinition$$module$build$src$core$procedures;\nmodule$build$src$core$procedures.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.isNameUsed=isNameUsed$$module$build$src$core$procedures;module$build$src$core$procedures.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;module$build$src$core$procedures.mutateCallers=$.mutateCallers$$module$build$src$core$procedures;module$build$src$core$procedures.mutatorOpenListener=mutatorOpenListener$$module$build$src$core$procedures;\nmodule$build$src$core$procedures.rename=$.rename$$module$build$src$core$procedures;var TypesContainer$$module$build$src$core$renderers$measurables$types=class{constructor(){this.NONE=0;this.FIELD=1;this.HAT=2;this.ICON=4;this.SPACER=8;this.BETWEEN_ROW_SPACER=16;this.IN_ROW_SPACER=32;this.EXTERNAL_VALUE_INPUT=64;this.INPUT=128;this.INLINE_INPUT=256;this.STATEMENT_INPUT=512;this.CONNECTION=1024;this.PREVIOUS_CONNECTION=2048;this.NEXT_CONNECTION=4096;this.OUTPUT_CONNECTION=8192;this.CORNER=16384;this.LEFT_SQUARE_CORNER=32768;this.LEFT_ROUND_CORNER=65536;this.RIGHT_SQUARE_CORNER=131072;\nthis.RIGHT_ROUND_CORNER=262144;this.JAGGED_EDGE=524288;this.ROW=1048576;this.TOP_ROW=2097152;this.BOTTOM_ROW=4194304;this.INPUT_ROW=8388608;this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER;this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER;this.nextTypeValue_=16777216}getType(a){Object.prototype.hasOwnProperty.call(this,a)||(this[a]=this.nextTypeValue_,this.nextTypeValue_<<=1);return this[a]}isField(a){return(a.type&this.FIELD)>=1}isHat(a){return(a.type&this.HAT)>=1}isIcon(a){return(a.type&\nthis.ICON)>=1}isSpacer(a){return(a.type&this.SPACER)>=1}isInRowSpacer(a){return(a.type&this.IN_ROW_SPACER)>=1}isSpacerRow(a){return(a.type&this.BETWEEN_ROW_SPACER)>=1}isInput(a){return(a.type&this.INPUT)>=1}isExternalInput(a){return(a.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(a){return(a.type&this.INLINE_INPUT)>=1}isStatementInput(a){return(a.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(a){return(a.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(a){return(a.type&this.NEXT_CONNECTION)>=\n1}isPreviousOrNextConnection(a){return this.isPreviousConnection(a)||this.isNextConnection(a)}isRoundCorner(a){return(a.type&this.LEFT_ROUND_CORNER)>=1||(a.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(a){return this.isRoundCorner(a)&&(a.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(a){return this.isRoundCorner(a)&&(a.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(a){return(a.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(a){return(a.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(a){return(a.type&\nthis.CORNER)>=1}isJaggedEdge(a){return(a.type&this.JAGGED_EDGE)>=1}isRow(a){return(a.type&this.ROW)>=1}isBetweenRowSpacer(a){return(a.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(a){return(a.type&this.TOP_ROW)>=1}isBottomRow(a){return(a.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(a){return this.isTopRow(a)||this.isBottomRow(a)}isInputRow(a){return(a.type&this.INPUT_ROW)>=1}},Types$$module$build$src$core$renderers$measurables$types=new TypesContainer$$module$build$src$core$renderers$measurables$types,module$build$src$core$renderers$measurables$types=\n{Types:Types$$module$build$src$core$renderers$measurables$types};var Measurable$$module$build$src$core$renderers$measurables$base=class{constructor(a){this.centerline=this.xPos=this.height=this.width=0;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.NONE;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},module$build$src$core$renderers$measurables$base={};module$build$src$core$renderers$measurables$base.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;var Row$$module$build$src$core$renderers$measurables$row=class{constructor(a){this.elements=[];this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0;this.hasStatement=this.hasExternalInput=!1;this.statementEdge=0;this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1;this.align=null;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.ROW;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let a=\nthis.elements.length-1;a>=0;a--){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInput(b))return b}return null}measure(){throw Error(\"Unexpected attempt to measure a base Row.\");}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let a=0;a<this.elements.length;a++){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInRowSpacer(b))return b}return null}getLastSpacer(){for(let a=this.elements.length-\n1;a>=0;a--){const b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInRowSpacer(b))return b}return null}},module$build$src$core$renderers$measurables$row={};module$build$src$core$renderers$measurables$row.Row=Row$$module$build$src$core$renderers$measurables$row;var BottomRow$$module$build$src$core$renderers$measurables$bottom_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.hasNextConnection=!1;this.connection=null;this.baseline=this.descenderHeight=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.BOTTOM_ROW}hasLeftSquareCorner(a){return!!a.outputConnection||!!a.getNextBlock()}hasRightSquareCorner(a){return!0}measure(){let a=0,b=0,c=0;for(let d=0;d<this.elements.length;d++){const e=\nthis.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(e)?c=Math.max(c,e.height):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.descenderHeight=c;this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},module$build$src$core$renderers$measurables$bottom_row={};\nmodule$build$src$core$renderers$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;var Connection$$module$build$src$core$renderers$measurables$connection=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.connectionModel=b;this.type|=Types$$module$build$src$core$renderers$measurables$types.CONNECTION;this.shape=this.constants_.shapeFor(b);this.isDynamicShape=\"isDynamic\"in this.shape&&this.shape.isDynamic;this.highlighted=b.isHighlighted()}},module$build$src$core$renderers$measurables$connection={};\nmodule$build$src$core$renderers$measurables$connection.Connection=Connection$$module$build$src$core$renderers$measurables$connection;var InputConnection$$module$build$src$core$renderers$measurables$input_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b.connection);this.input=b;this.connectionOffsetY=this.connectionOffsetX=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT;this.align=b.align;(this.connectedBlock=b.connection&&b.connection.targetBlock()?b.connection.targetBlock():null)?(a=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=\na.width,this.connectedBlockHeight=a.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},module$build$src$core$renderers$measurables$input_connection={};module$build$src$core$renderers$measurables$input_connection.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;var ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.height=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.EXTERNAL_VALUE_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height;this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING;\nthis.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP;this.connectionHeight=this.shape.height;this.connectionWidth=this.shape.width}},module$build$src$core$renderers$measurables$external_value_input={};module$build$src$core$renderers$measurables$external_value_input.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;var Field$$module$build$src$core$renderers$measurables$field=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b,c){super(a);this.field=b;this.parentInput=c;this.isEditable=b.EDITABLE;this.flipRtl=b.getFlipRtl();this.type|=Types$$module$build$src$core$renderers$measurables$types.FIELD;a=this.field.getSize();this.height=a.height;this.width=a.width}},module$build$src$core$renderers$measurables$field={};module$build$src$core$renderers$measurables$field.Field=Field$$module$build$src$core$renderers$measurables$field;var Hat$$module$build$src$core$renderers$measurables$hat=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.HAT;this.height=this.constants_.START_HAT.height;this.width=this.constants_.START_HAT.width;this.ascenderHeight=this.height}},module$build$src$core$renderers$measurables$hat={};module$build$src$core$renderers$measurables$hat.Hat=Hat$$module$build$src$core$renderers$measurables$hat;var Icon$$module$build$src$core$renderers$measurables$icon=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.icon=b;this.flipRtl=!1;this.type|=Types$$module$build$src$core$renderers$measurables$types.ICON;a=b.getSize();this.height=a.height;this.width=a.width}},module$build$src$core$renderers$measurables$icon={};module$build$src$core$renderers$measurables$icon.Icon=Icon$$module$build$src$core$renderers$measurables$icon;var InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.IN_ROW_SPACER;this.width=b;this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},module$build$src$core$renderers$measurables$in_row_spacer={};\nmodule$build$src$core$renderers$measurables$in_row_spacer.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;var InlineInput$$module$build$src$core$renderers$measurables$inline_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.INLINE_INPUT;this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING);this.connectionHeight=\nthis.isDynamicShape?this.shape.height(this.height):this.shape.height;this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width;this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1));this.connectionOffsetY=\"connectionOffsetY\"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP;this.connectionOffsetX=\"connectionOffsetX\"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},module$build$src$core$renderers$measurables$inline_input=\n{};module$build$src$core$renderers$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;var InputRow$$module$build$src$core$renderers$measurables$input_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.connectedBlockWidths=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT_ROW}measure(){this.width=this.minWidth;this.height=this.minHeight;let a=0;for(let b=0;b<this.elements.length;b++){const c=this.elements[b];this.width+=c.width;Types$$module$build$src$core$renderers$measurables$types.isInput(c)&&(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(c)?\na+=c.connectedBlockWidth:Types$$module$build$src$core$renderers$measurables$types.isExternalInput(c)&&c.connectedBlockWidth!==0&&(a+=c.connectedBlockWidth-c.connectionWidth));Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)||(this.height=Math.max(this.height,c.height))}this.connectedBlockWidths=a;this.widthWithConnectedBlocks=this.width+a}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},module$build$src$core$renderers$measurables$input_row={};\nmodule$build$src$core$renderers$measurables$input_row.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;var JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.type|=Types$$module$build$src$core$renderers$measurables$types.JAGGED_EDGE;this.height=this.constants_.JAGGED_TEETH.height;this.width=this.constants_.JAGGED_TEETH.width}},module$build$src$core$renderers$measurables$jagged_edge={};module$build$src$core$renderers$measurables$jagged_edge.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;var NextConnection$$module$build$src$core$renderers$measurables$next_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.NEXT_CONNECTION;this.height=this.shape.height;this.width=this.shape.width}},module$build$src$core$renderers$measurables$next_connection={};module$build$src$core$renderers$measurables$next_connection.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;var OutputConnection$$module$build$src$core$renderers$measurables$output_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.connectionOffsetX=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.OUTPUT_CONNECTION;this.height=this.isDynamicShape?0:this.shape.height;this.startX=this.width=this.isDynamicShape?0:this.shape.width;this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},module$build$src$core$renderers$measurables$output_connection=\n{};module$build$src$core$renderers$measurables$output_connection.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;var PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection=class extends Connection$$module$build$src$core$renderers$measurables$connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.PREVIOUS_CONNECTION;this.height=this.shape.height;this.width=this.shape.width}},module$build$src$core$renderers$measurables$previous_connection={};module$build$src$core$renderers$measurables$previous_connection.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;var RoundCorner$$module$build$src$core$renderers$measurables$round_corner=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type=(b&&b!==\"left\"?Types$$module$build$src$core$renderers$measurables$types.RIGHT_ROUND_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_ROUND_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;this.width=this.constants_.CORNER_RADIUS;this.height=this.constants_.CORNER_RADIUS/2}},\nmodule$build$src$core$renderers$measurables$round_corner={};module$build$src$core$renderers$measurables$round_corner.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;var SpacerRow$$module$build$src$core$renderers$measurables$spacer_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a,b,c){super(a);this.height=b;this.width=c;this.precedesStatement=this.followsStatement=!1;this.widthWithConnectedBlocks=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.BETWEEN_ROW_SPACER;this.elements=[new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nc)]}measure(){}},module$build$src$core$renderers$measurables$spacer_row={};module$build$src$core$renderers$measurables$spacer_row.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;var SquareCorner$$module$build$src$core$renderers$measurables$square_corner=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a,b){super(a);this.type=(b&&b!==\"left\"?Types$$module$build$src$core$renderers$measurables$types.RIGHT_SQUARE_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_SQUARE_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;this.width=this.height=this.constants_.NO_PADDING}},module$build$src$core$renderers$measurables$square_corner=\n{};module$build$src$core$renderers$measurables$square_corner.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;var StatementInput$$module$build$src$core$renderers$measurables$statement_input=class extends InputConnection$$module$build$src$core$renderers$measurables$input_connection{constructor(a,b){super(a,b);this.type|=Types$$module$build$src$core$renderers$measurables$types.STATEMENT_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT;this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},\nmodule$build$src$core$renderers$measurables$statement_input={};module$build$src$core$renderers$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;var TopRow$$module$build$src$core$renderers$measurables$top_row=class extends Row$$module$build$src$core$renderers$measurables$row{constructor(a){super(a);this.ascenderHeight=this.capline=0;this.hasPreviousConnection=!1;this.connection=null;this.type|=Types$$module$build$src$core$renderers$measurables$types.TOP_ROW}hasLeftSquareCorner(a){const b=(a.hat?a.hat===\"cap\":this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||(c?\nc.getNextBlock()===a:!1)}hasRightSquareCorner(a){return!0}measure(){let a=0,b=0,c=0;for(let d=0;d<this.elements.length;d++){const e=this.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isHat(e)?c=Math.max(c,e.ascenderHeight):a=Math.max(a,e.height))}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.capline=this.ascenderHeight=c;this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},\nmodule$build$src$core$renderers$measurables$top_row={};module$build$src$core$renderers$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;var ConstantProvider$$module$build$src$core$renderers$common$constants=class{constructor(){this.NO_PADDING=0;this.SMALL_PADDING=3;this.MEDIUM_PADDING=5;this.MEDIUM_LARGE_PADDING=8;this.LARGE_PADDING=10;this.TAB_HEIGHT=15;this.TAB_OFFSET_FROM_TOP=5;this.TAB_VERTICAL_OVERLAP=2.5;this.TAB_WIDTH=8;this.NOTCH_WIDTH=15;this.NOTCH_HEIGHT=4;this.MIN_BLOCK_WIDTH=12;this.EMPTY_BLOCK_SPACER_HEIGHT=16;this.CORNER_RADIUS=8;this.NOTCH_OFFSET_LEFT=15;this.STATEMENT_BOTTOM_SPACER=0;this.STATEMENT_INPUT_PADDING_LEFT=\n20;this.BETWEEN_STATEMENT_PADDING_Y=4;this.ADD_START_HATS=!1;this.START_HAT_HEIGHT=15;this.START_HAT_WIDTH=100;this.SPACER_DEFAULT_HEIGHT=15;this.MIN_BLOCK_HEIGHT=24;this.EMPTY_INLINE_INPUT_PADDING=14.5;this.EXTERNAL_VALUE_INPUT_PADDING=2;this.JAGGED_TEETH_HEIGHT=12;this.JAGGED_TEETH_WIDTH=6;this.FIELD_TEXT_FONTSIZE=11;this.FIELD_TEXT_FONTWEIGHT=\"normal\";this.FIELD_TEXT_FONTFAMILY=\"sans-serif\";this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1;this.FIELD_BORDER_RECT_RADIUS=4;this.FIELD_BORDER_RECT_HEIGHT=\n16;this.FIELD_BORDER_RECT_X_PADDING=5;this.FIELD_BORDER_RECT_Y_PADDING=3;this.FIELD_BORDER_RECT_COLOUR=\"#fff\";this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1;this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12;this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1;this.FIELD_COLOUR_DEFAULT_WIDTH=26;this.defs=null;this.embossFilterId=\"\";this.embossFilter=null;this.disabledPatternId=\"\";this.disabledPattern=null;this.debugFilterId=\"\";this.cssNode=\nthis.debugFilter=null;this.CURSOR_COLOUR=\"#cc0a0a\";this.MARKER_COLOUR=\"#4286f4\";this.CURSOR_WS_WIDTH=100;this.WS_CURSOR_HEIGHT=5;this.CURSOR_STACK_PADDING=10;this.CURSOR_BLOCK_PADDING=2;this.CURSOR_STROKE_WIDTH=4;this.FULL_BLOCK_FIELDS=!1;this.INSERTION_MARKER_COLOUR=\"#000000\";this.INSERTION_MARKER_OPACITY=.2;this.SHAPES={PUZZLE:1,NOTCH:2};this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT;this.STATEMENT_INPUT_NOTCH_OFFSET=\nthis.NOTCH_OFFSET_LEFT;this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11;this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(0,0);this.FIELD_TEXT_BASELINE_CENTER=!0;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;\nthis.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_DROPDOWN_SVG_ARROW_DATAURI=\"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=\";\nthis.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3;this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth();this.NOTCH=this.makeNotch();this.START_HAT=this.makeStartHat();this.PUZZLE_TAB=this.makePuzzleTab();this.INSIDE_CORNERS=this.makeInsideCorners();this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(a){this.blockStyles=Object.create(null);const b=a.blockStyles;for(const c in b)this.blockStyles[c]=\nthis.validatedBlockStyle_(b[c]);this.setDynamicProperties_(a)}setDynamicProperties_(a){this.setFontConstants_(a);this.setComponentConstants_(a);this.ADD_START_HATS=a.startHats!==void 0?a.startHats:this.ADD_START_HATS}setFontConstants_(a){a.fontStyle&&a.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=a.fontStyle.family);a.fontStyle&&a.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=a.fontStyle.weight);a.fontStyle&&a.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=a.fontStyle.size);a=measureFontMetrics$$module$build$src$core$utils$dom(\"Hg\",\nthis.FIELD_TEXT_FONTSIZE+\"pt\",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY);this.FIELD_TEXT_HEIGHT=a.height;this.FIELD_TEXT_BASELINE=a.baseline}setComponentConstants_(a){this.CURSOR_COLOUR=a.getComponentStyle(\"cursorColour\")||this.CURSOR_COLOUR;this.MARKER_COLOUR=a.getComponentStyle(\"markerColour\")||this.MARKER_COLOUR;this.INSERTION_MARKER_COLOUR=a.getComponentStyle(\"insertionMarkerColour\")||this.INSERTION_MARKER_COLOUR;this.INSERTION_MARKER_OPACITY=Number(a.getComponentStyle(\"insertionMarkerOpacity\"))||\nthis.INSERTION_MARKER_OPACITY}getBlockStyleForColour(a){const b=\"auto_\"+a;this.blockStyles[b]||(this.blockStyles[b]=this.createBlockStyle_(a));return{style:this.blockStyles[b],name:b}}getBlockStyle(a){return this.blockStyles[a||\"\"]||(a&&a.startsWith(\"auto_\")?this.getBlockStyleForColour(a.substring(5)).style:this.createBlockStyle_(\"#000000\"))}createBlockStyle_(a){return this.validatedBlockStyle_({colourPrimary:a})}validatedBlockStyle_(a){const b={};a&&Object.assign(b,a);a=parseBlockColour$$module$build$src$core$utils$parsing(b.colourPrimary||\n\"#000\");b.colourPrimary=a.hex;b.colourSecondary=b.colourSecondary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourSecondary).hex:this.generateSecondaryColour_(b.colourPrimary);b.colourTertiary=b.colourTertiary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourTertiary).hex:this.generateTertiaryColour_(b.colourPrimary);b.hat=b.hat||\"\";return b}generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#fff\",a,.6)||a}generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#fff\",\na,.3)||a}dispose(){this.embossFilter&&removeNode$$module$build$src$core$utils$dom(this.embossFilter);this.disabledPattern&&removeNode$$module$build$src$core$utils$dom(this.disabledPattern);this.debugFilter&&removeNode$$module$build$src$core$utils$dom(this.debugFilter);this.cssNode=null}makeJaggedTeeth(){const a=this.JAGGED_TEETH_HEIGHT,b=this.JAGGED_TEETH_WIDTH,c=line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(b,a/4),point$$module$build$src$core$utils$svg_paths(-b*\n2,a/2),point$$module$build$src$core$utils$svg_paths(b,a/4)]);return{height:a,width:b,path:c}}makeStartHat(){const a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(30,-a),point$$module$build$src$core$utils$svg_paths(70,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a*.75,width:b,path:c}}makePuzzleTab(){function a(f){f=f?-1:1;const g=-f;var h=c/2;const k=h+2.5,l=h+.5,m=point$$module$build$src$core$utils$svg_paths(-b,\nf*h);h=point$$module$build$src$core$utils$svg_paths(b,f*h);return curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(0,f*k),point$$module$build$src$core$utils$svg_paths(-b,g*l),m])+curve$$module$build$src$core$utils$svg_paths(\"s\",[point$$module$build$src$core$utils$svg_paths(b,g*2.5),h])}const b=this.TAB_WIDTH,c=this.TAB_HEIGHT,d=a(!0),e=a(!1);return{type:this.SHAPES.PUZZLE,width:b,height:c,pathDown:e,pathUp:d}}makeNotch(){function a(g){return line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(g*\nd,c),point$$module$build$src$core$utils$svg_paths(g*3,0),point$$module$build$src$core$utils$svg_paths(g*d,-c)])}const b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:e,pathRight:f}}makeInsideCorners(){const a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(a,\na));return{width:a,height:a,pathTop:b,pathBottom:c}}makeOutsideCorners(){const a=this.CORNER_RADIUS,b=moveBy$$module$build$src$core$utils$svg_paths(0,a)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,-a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,a)),d=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,-a)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\n\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,a));return{topLeft:b,topRight:c,bottomRight:e,bottomLeft:d,rightHeight:a}}shapeFor(a){switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:return this.PUZZLE_TAB;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error(\"Unknown connection type\");\n}}createDom(a,b,c,d){this.injectCSS_(b,c);this.defs=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,{},a);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklyEmbossFilter\"+this.randomIdentifier},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceAlpha\",stdDeviation:1,result:\"blur\"},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING,\n{\"in\":\"blur\",surfaceScale:1,specularConstant:.5,specularExponent:10,\"lighting-color\":\"white\",result:\"specOut\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEPOINTLIGHT,{x:-5E3,y:-1E4,z:2E4},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"specOut\",in2:\"SourceAlpha\",operator:\"in\",result:\"specOut\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,\n{\"in\":\"SourceGraphic\",in2:\"specOut\",operator:\"arithmetic\",k1:0,k2:1,k3:1,k4:0},a);this.embossFilterId=a.id;this.embossFilter=a;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:\"blocklyDisabledPattern\"+this.randomIdentifier,patternUnits:\"userSpaceOnUse\",width:10,height:10},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:10,height:10,fill:\"#aaa\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,\n{d:\"M 0 0 L 10 10 M 10 0 L 0 10\",stroke:\"#cc0\"},a);this.disabledPatternId=a.id;this.disabledPattern=a;this.createDebugFilter();d&&(d.style.setProperty(\"--blocklyEmbossFilter\",`url(#${this.embossFilterId})`),d.style.setProperty(\"--blocklyDisabledPattern\",`url(#${this.disabledPatternId})`),d.style.setProperty(\"--blocklyDebugFilter\",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,\n{id:\"blocklyDebugFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},this.defs),b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:\"outBlur\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":\"#ff0000\",\n\"flood-opacity\":.5,result:\"outColor\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",result:\"outGlow\"},a);this.debugFilterId=a.id;this.debugFilter=a}}injectCSS_(a,b){b=this.getCSS_(b);a=\"blockly-renderer-style-\"+a;this.cssNode=document.getElementById(a);const c=b.join(\"\\n\");this.cssNode?this.cssNode.firstChild.textContent=c:(b=document.createElement(\"style\"),b.id=a,a=document.createTextNode(c),b.appendChild(a),\ndocument.head.insertBefore(b,document.head.firstChild),this.cssNode=b)}getCSS_(a){return[`${a} .blocklyText, `,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} `+`${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a} .blocklyText {`,\"fill: #fff;\",\"}\",`${a} .blocklyNonEditableField>rect,`,`${a} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,\"fill-opacity: .6;\",\"stroke: none;\",\"}\",`${a} .blocklyNonEditableField>text,`,`${a} .blocklyEditableField>text {`,\n\"fill: #000;\",\"}\",`${a} .blocklyFlyoutLabelText {`,\"fill: #000;\",\"}\",`${a} .blocklyText.blocklyBubbleText {`,\"fill: #000;\",\"}\",`${a} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,\"stroke: #fff;\",\"stroke-width: 2;\",\"}\",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,\"}\",`${a} .blocklySelected>.blocklyPath {`,\"stroke: #fc3;\",\"stroke-width: 3px;\",\"}\",`${a} .blocklyHighlightedConnectionPath {`,\"stroke: #fc3;\",\"}\",`${a} .blocklyReplaceable .blocklyPath {`,\n\"fill-opacity: .5;\",\"}\",`${a} .blocklyReplaceable .blocklyPathLight,`,`${a} .blocklyReplaceable .blocklyPathDark {`,\"display: none;\",\"}\",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\"stroke: none;\",\"}\"]}},module$build$src$core$renderers$common$constants={};module$build$src$core$renderers$common$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;\nmodule$build$src$core$renderers$common$constants.isDynamicShape=isDynamicShape$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isNotch=isNotch$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isPuzzleTab=isPuzzleTab$$module$build$src$core$renderers$common$constants;var Drawer$$module$build$src$core$renderers$common$drawer=class{constructor(a,b){this.inlinePath_=this.outlinePath_=\"\";this.block_=a;this.info_=b;this.topLeft_=a.getRelativeToSurfaceXY();this.constants_=b.getRenderer().getConstants()}draw(){this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();this.block_.pathObject.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);this.info_.RTL&&this.block_.pathObject.flipRTL();this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=\nthis.info_.height;this.block_.width=this.info_.widthWithChildren;this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let a=1;a<this.info_.rows.length-1;a++){const b=this.info_.rows[a];b.hasJaggedEdge?this.drawJaggedEdge_(b):b.hasStatement?this.drawStatementInput_(b):b.hasExternalInput?this.drawValueInput_(b):this.drawRightSideRow_(b)}this.drawBottom_();this.drawLeft_()}drawTop_(){const a=this.info_.topRow,b=a.elements;this.positionPreviousConnection_();this.outlinePath_+=\nmoveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(let c=0,d;d=b[c];c++)Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Types$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(d)?this.outlinePath_+=d.shape.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(d)?\nthis.outlinePath_+=this.constants_.START_HAT.path:Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",d.width));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-a.ascenderHeight)}drawJaggedEdge_(a){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(a){const b=\na.getLastInput();this.positionExternalValueConnection_(a);const c=isDynamicShape$$module$build$src$core$renderers$common$constants(b.shape)?b.shape.pathDown(b.height):b.shape.pathDown;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b.xPos+b.width)+c+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-b.connectionHeight)}drawStatementInput_(a){var b=a.getLastInput();if(b){var c=b.xPos+b.notchOffset+b.shape.width;b=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\n-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=a.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+this.constants_.INSIDE_CORNERS.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width);this.positionStatementInputConnection_(a)}}drawRightSideRow_(a){this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",\na.yPos+a.height)}drawBottom_(){const a=this.info_.bottomRow,b=a.elements;this.positionNextConnection_();let c=0,d=\"\";for(let e=b.length-1,f;f=b[e];e--)Types$$module$build$src$core$renderers$measurables$types.isNextConnection(f)?d+=f.shape.pathRight:Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(f)?d+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(f)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:\nTypes$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(f)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,c=this.constants_.OUTSIDE_CORNERS.rightHeight):Types$$module$build$src$core$renderers$measurables$types.isSpacer(f)&&(d+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",f.width*-1));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline-c);this.outlinePath_+=d}drawLeft_(){var a=this.info_.outputConnection;this.positionOutputConnection_();\nif(a){const b=a.connectionOffsetY+a.height;a=isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?a.shape.pathUp(a.height):a.shape.pathUp;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",b)+a}this.outlinePath_+=\"z\"}drawInternals_(){for(let a=0,b;b=this.info_.rows[a];a++)for(let c=0,d;d=b.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isInlineInput(d)?this.drawInlineInput_(d):(Types$$module$build$src$core$renderers$measurables$types.isIcon(d)||\nTypes$$module$build$src$core$renderers$measurables$types.isField(d))&&this.layoutField_(d)}layoutField_(a){const b=a.centerline-a.height/2;let c=a.xPos;var d=\"\";this.info_.RTL&&(c=-(c+a.width),a.flipRtl&&(c+=a.width,d=\"scale(-1 1)\"));Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?(d=a.icon,d.setOffsetInBlock(new Coordinate$$module$build$src$core$utils$coordinate(c,b)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(a=a.field.getSvgRoot(),a.setAttribute(\"transform\",\"translate(\"+\nc+\",\"+b+\")\"+d),this.info_.isInsertionMarker&&a.setAttribute(\"display\",\"none\"))}drawInlineInput_(a){const b=a.width,c=a.height,d=a.connectionOffsetY,e=a.connectionHeight+d;this.inlinePath_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.connectionWidth,a.centerline-c/2)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+a.shape.pathDown+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",c-e)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b-a.connectionWidth)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\n-c)+\"z\";this.positionInlineInputConnection_(a)}positionInlineInputConnection_(a){const b=a.centerline-a.height/2;if(a.connectionModel){let c=a.xPos+a.connectionWidth+a.connectionOffsetX;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY)}}positionStatementInputConnection_(a){const b=a.getLastInput();if(b==null?0:b.connectionModel){let c=a.xPos+a.statementEdge+b.notchOffset;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionExternalValueConnection_(a){const b=\na.getLastInput();if(b&&b.connectionModel){let c=a.xPos+a.width;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionPreviousConnection_(){const a=this.info_.topRow;if(a.connection){const b=a.xPos+a.notchOffset;a.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-b:b,0)}}positionNextConnection_(){const a=this.info_.bottomRow;if(a.connection){const b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock(this.info_.RTL?-c:c,a.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const a=\nthis.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-a:a,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const a of this.info_.rows)for(const b of a.elements){if(!(b instanceof Connection$$module$build$src$core$renderers$measurables$connection))continue;const c=this.drawConnectionHighlightPath(b);c&&(c.style.display=b.highlighted?\"\":\"none\")}}drawConnectionHighlightPath(a){const b=a.connectionModel;\na=b.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(a):this.getStatementConnectionHighlightPath(a);const c=b.getSourceBlock();let d,e;return(e=(d=c.pathObject).addConnectionHighlight)==null?void 0:e.call(d,b,a,b.getOffsetInBlock(),c.RTL)}getExpressionConnectionHighlightPath(a){let b=\"\";isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?\nb=a.shape.pathDown(a.height):isPuzzleTab$$module$build$src$core$renderers$common$constants(a.shape)&&(b=a.shape.pathDown);a=this.constants_.TAB_OFFSET_FROM_TOP;return moveBy$$module$build$src$core$utils$svg_paths(0,-a)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)}getStatementConnectionHighlightPath(a){if(!isNotch$$module$build$src$core$renderers$common$constants(a.shape))throw Error(\"Statement connections should have notch shapes\");\nconst b=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return moveBy$$module$build$src$core$utils$svg_paths(-b,0)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)+a.shape.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)}},module$build$src$core$renderers$common$drawer={};module$build$src$core$renderers$common$drawer.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;var RenderInfo$$module$build$src$core$renderers$common$info=class{constructor(a,b){this.statementEdge=this.width=this.widthWithChildren=this.height=0;this.rows=[];this.inputRows=[];this.startY=this.startX=0;this.renderer_=a;this.block_=b;this.constants_=this.renderer_.getConstants();this.outputConnection=b.outputConnection?new OutputConnection$$module$build$src$core$renderers$measurables$output_connection(this.constants_,b.outputConnection):null;this.isInline=b.getInputsInline()&&!b.isCollapsed();\nthis.isCollapsed=b.isCollapsed();this.isInsertionMarker=b.isInsertionMarker();this.RTL=b.RTL;this.topRow=new TopRow$$module$build$src$core$renderers$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$measurables$bottom_row(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.computeBounds_();this.alignRowElements_();this.finalize_()}createRows_(){this.populateTopRow_();this.rows.push(this.topRow);\nlet a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_);this.inputRows.push(a);var b=this.block_.getIcons();for(let c=0,d;d=b[c];c++){const e=new Icon$$module$build$src$core$renderers$measurables$icon(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||a.elements.push(e)}b=void 0;for(let c=0,d;d=this.block_.inputList[c];c++)if(d.isVisible()){this.shouldStartNewRow_(d,b)&&(this.rows.push(a),a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_),\nthis.inputRows.push(a));for(let e=0,f;f=d.fieldRow[e];e++)a.elements.push(new Field$$module$build$src$core$renderers$measurables$field(this.constants_,f,d));this.addInput_(d,a);b=d}this.isCollapsed&&(a.hasJaggedEdge=!0,a.elements.push(new JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge(this.constants_)));(a.elements.length||a.hasDummyInput)&&this.rows.push(a);this.populateBottomRow_();this.rows.push(this.bottomRow)}populateTopRow_(){var a=!!this.block_.previousConnection;const b=\n(this.block_.hat?this.block_.hat===\"cap\":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!a;let c=this.topRow.hasLeftSquareCorner(this.block_)?SquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_));b?(a=new Hat$$module$build$src$core$renderers$measurables$hat(this.constants_),this.topRow.elements.push(a)):a&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=\nnew PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection));this.block_.inputList.length&&this.block_.inputList[0]instanceof StatementInput$$module$build$src$core$inputs$statement_input&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT;c=this.topRow.hasRightSquareCorner(this.block_)?\nSquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_,\"right\"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection;this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:\nthis.constants_.BOTTOM_ROW_MIN_HEIGHT;this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_)):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_));this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new NextConnection$$module$build$src$core$renderers$measurables$next_connection(this.constants_,this.block_.nextConnection),\nthis.bottomRow.elements.push(this.bottomRow.connection));this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_,\"right\")):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_,\"right\"))}addInput_(a,b){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$measurables$inline_input(this.constants_,\na)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,a)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||\na instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,a.getSourceBlock()&&a.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;b.align===null&&(b.align=a.align)}shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||a instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?\n!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||b instanceof $.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let a=0,b;b=this.rows[a];a++){const c=b.elements;b.elements=[];b.startsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(null,c[0])));if(c.length){for(let d=\n0;d<c.length-1;d++){b.elements.push(c[d]);const e=this.getInRowSpacing_(c[d],c[d+1]);b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,e))}b.elements.push(c[c.length-1]);b.endsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(c[c.length-1],null)))}}}getInRowSpacing_(a,b){if(!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;\nif(a&&Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}return a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&\nb&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\na.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let a=0,b=0,c=0;for(let e=0,f;f=this.rows[e];e++){f.measure();b=Math.max(b,f.width);if(f.hasStatement){var d=f.getLastInput();let g,h;d=f.width-((h=(g=d)==null?void 0:g.width)!=null?h:0);a=Math.max(a,d)}c=Math.max(c,f.widthWithConnectedBlocks)}this.statementEdge=a;this.width=b;for(let e=0,f;f=this.rows[e];e++)f.hasStatement&&(f.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(b,c);this.outputConnection&&\n(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let b=0,c;c=this.rows[b];b++)if(c.hasStatement)this.alignStatementRow_(c);else{var a=c.width;a=this.getDesiredRowWidth_(c)-a;a>0&&this.addAlignmentPadding_(c,a);Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.widthWithConnectedBlocks=c.width)}}getDesiredRowWidth_(a){return this.width-this.startX}addAlignmentPadding_(a,\nb){const c=a.getFirstSpacer(),d=a.getLastSpacer();if(a.hasExternalInput||a.hasStatement)a.widthWithConnectedBlocks+=b;if(a.align===$.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=b;else if(a.align===$.Align$$module$build$src$core$inputs$align.CENTRE&&c&&d)c.width+=b/2,d.width+=b/2;else if(a.align===$.Align$$module$build$src$core$inputs$align.RIGHT&&c)c.width+=b;else if(d)d.width+=b;else return;a.width+=b}alignStatementRow_(a){const b=a.getLastInput();if(b){var c=a.width-b.width,d=this.statementEdge;\nc=d-c;c>0&&this.addAlignmentPadding_(a,c);c=a.width;d=this.getDesiredRowWidth_(a);b.width+=d-c;b.height=Math.max(b.height,a.height);a.width+=d-c;a.widthWithConnectedBlocks=Math.max(a.width,this.statementEdge+a.connectedBlockWidths)}}addRowSpacing_(){const a=this.rows;this.rows=[];for(let b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(this.makeSpacerRow_(a[b],a[b+1]))}makeSpacerRow_(a,b){var c=this.getSpacerRowHeight_(a,b);const d=this.getSpacerRowWidth_(a,b);c=new SpacerRow$$module$build$src$core$renderers$measurables$spacer_row(this.constants_,\nc,d);a.hasStatement&&(c.followsStatement=!0);b.hasStatement&&(c.precedesStatement=!0);return c}getSpacerRowWidth_(a,b){return this.width-this.startX}getSpacerRowHeight_(a,b){return this.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)?a.yPos+b.height/2:Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a)?(a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?\na+b.height/2:a-b.height/2):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2:a.yPos+a.height/2}recordElemPositions_(a){let b=a.xPos;for(let c=0,d;d=a.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(d.height=a.height),d.xPos=b,d.centerline=this.getElemCenterline_(a,d),b+=d.width}finalize_(){let a=0,b=0;for(let c=0,d;d=this.rows[c];c++)d.yPos=\nb,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){const c=this.block_.nextConnection.targetBlock();c&&(a=Math.max(a,c.getHeightWidth().width))}this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline;this.bottomRow.baseline=b-this.bottomRow.descenderHeight}getMeasureableForConnection(a){let b;if(((b=this.outputConnection)==null?void 0:b.connectionModel)===a)return this.outputConnection;\nfor(const c of this.rows)for(const d of c.elements)if(d instanceof Connection$$module$build$src$core$renderers$measurables$connection&&d.connectionModel===a)return d;return null}},module$build$src$core$renderers$common$info={};module$build$src$core$renderers$common$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;var PathObject$$module$build$src$core$renderers$common$path_object=class{constructor(a,b,c){this.connectionHighlights=new WeakMap;this.highlightOffsets=new WeakMap;this.constants=c;this.style=b;this.svgRoot=a;this.svgPath=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyPath\"},this.svgRoot);this.setClass_(\"blocklyBlock\",!0)}setPath(a){this.svgPath.setAttribute(\"d\",a)}flipRTL(){this.svgPath.setAttribute(\"transform\",\"scale(-1 1)\")}applyColour(a){this.svgPath.setAttribute(\"stroke\",\nthis.style.colourTertiary);this.svgPath.setAttribute(\"fill\",this.style.colourPrimary);this.updateShadow_(a.isShadow());this.updateDisabled_(!a.isEnabled()||a.getInheritedDisabled())}setStyle(a){this.style=a}setClass_(a,b){a&&(b?addClass$$module$build$src$core$utils$dom(this.svgRoot,a):removeClass$$module$build$src$core$utils$dom(this.svgRoot,a))}updateHighlighted(a){a?this.setClass_(\"blocklyHighlighted\",!0):this.setClass_(\"blocklyHighlighted\",!1)}updateShadow_(a){a?(this.setClass_(\"blocklyShadow\",\n!0),this.svgPath.setAttribute(\"stroke\",\"none\"),this.svgPath.setAttribute(\"fill\",this.style.colourSecondary)):this.setClass_(\"blocklyShadow\",!1)}updateDisabled_(a){this.setClass_(\"blocklyDisabled\",a);this.setClass_(\"blocklyDisabledPattern\",a)}updateSelected(a){this.setClass_(\"blocklySelected\",a)}updateDraggingDelete(a){this.setClass_(\"blocklyDraggingDelete\",a)}updateInsertionMarker(a){this.setClass_(\"blocklyInsertionMarker\",a)}updateMovable(a){this.setClass_(\"blocklyDraggable\",a)}updateReplacementFade(a){this.setClass_(\"blocklyReplaceable\",\na)}updateShapeForInputHighlight(a,b){}addConnectionHighlight(a,b,c,d){c=`translate(${c.x}, ${c.y})`+(d?\" scale(-1 1)\":\"\");if(d=this.connectionHighlights.get(a))return d.setAttribute(\"d\",b),d.setAttribute(\"transform\",c),d;b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{id:a.id,\"class\":\"blocklyHighlightedConnectionPath\",style:\"display: none;\",d:b,transform:c},this.svgRoot);this.connectionHighlights.set(a,b);return b}removeConnectionHighlight(a){const b=\nthis.connectionHighlights.get(a);b&&(removeNode$$module$build$src$core$utils$dom(b),this.connectionHighlights.delete(a))}},module$build$src$core$renderers$common$path_object={};module$build$src$core$renderers$common$path_object.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;var Renderer$$module$build$src$core$renderers$common$renderer=class{constructor(a){this.overrides=null;this.name=a}getClassName(){return this.name+\"-renderer\"}init(a,b){this.constants_=this.makeConstants_();b&&(this.overrides=b,Object.assign(this.constants_,b));this.constants_.setTheme(a);this.constants_.init()}createDom(a,b,c){this.constants_.createDom(a,this.name+\"-\"+b.name,\".\"+this.getClassName()+\".\"+b.getClassName(),c)}refreshDom(a,b,c){const d=this.getConstants();d.dispose();this.constants_=\nthis.makeConstants_();this.overrides&&Object.assign(this.constants_,this.overrides);this.constants_.randomIdentifier=d.randomIdentifier;this.constants_.setTheme(b);this.constants_.init();this.createDom(a,b,c)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$common$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$common$info(this,a)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$common$drawer(a,\nb)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$common$path_object(a,b,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(a){return!0}orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?b.outputConnection:b.previousConnection)}render(a){const b=this.makeRenderInfo_(a);b.measure();this.makeDrawer_(a,b).draw()}},\nmodule$build$src$core$renderers$common$renderer={};module$build$src$core$renderers$common$renderer.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;var module$build$src$core$renderers$common$block_rendering={};module$build$src$core$renderers$common$block_rendering.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;module$build$src$core$renderers$common$block_rendering.Connection=Connection$$module$build$src$core$renderers$measurables$connection;module$build$src$core$renderers$common$block_rendering.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;\nmodule$build$src$core$renderers$common$block_rendering.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;module$build$src$core$renderers$common$block_rendering.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;module$build$src$core$renderers$common$block_rendering.Field=Field$$module$build$src$core$renderers$measurables$field;module$build$src$core$renderers$common$block_rendering.Hat=Hat$$module$build$src$core$renderers$measurables$hat;\nmodule$build$src$core$renderers$common$block_rendering.Icon=Icon$$module$build$src$core$renderers$measurables$icon;module$build$src$core$renderers$common$block_rendering.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;module$build$src$core$renderers$common$block_rendering.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;module$build$src$core$renderers$common$block_rendering.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;\nmodule$build$src$core$renderers$common$block_rendering.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;module$build$src$core$renderers$common$block_rendering.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;module$build$src$core$renderers$common$block_rendering.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;module$build$src$core$renderers$common$block_rendering.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;\nmodule$build$src$core$renderers$common$block_rendering.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;module$build$src$core$renderers$common$block_rendering.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;module$build$src$core$renderers$common$block_rendering.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;\nmodule$build$src$core$renderers$common$block_rendering.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;module$build$src$core$renderers$common$block_rendering.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;module$build$src$core$renderers$common$block_rendering.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;module$build$src$core$renderers$common$block_rendering.Row=Row$$module$build$src$core$renderers$measurables$row;\nmodule$build$src$core$renderers$common$block_rendering.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;module$build$src$core$renderers$common$block_rendering.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;module$build$src$core$renderers$common$block_rendering.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;module$build$src$core$renderers$common$block_rendering.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;\nmodule$build$src$core$renderers$common$block_rendering.Types=Types$$module$build$src$core$renderers$measurables$types;module$build$src$core$renderers$common$block_rendering.init=init$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.register=register$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.unregister=unregister$$module$build$src$core$renderers$common$block_rendering;var ThemeManager$$module$build$src$core$theme_manager=class{constructor(a,b){this.workspace=a;this.theme=b;this.subscribedWorkspaces=[];this.componentDB=new Map}getTheme(){return this.theme}setTheme(a){var b=this.theme;this.theme=a;if(a=this.workspace.getInjectionDiv())b&&(b=b.getClassName())&&removeClass$$module$build$src$core$utils$dom(a,b),(b=this.theme.getClassName())&&addClass$$module$build$src$core$utils$dom(a,b);for(let c=0,d;d=this.subscribedWorkspaces[c];c++)d.refreshTheme();for(const [c,\nd]of this.componentDB)for(const e of d){a=e.element;b=e.propertyName;const f=this.theme&&this.theme.getComponentStyle(c);a.style.setProperty(b,f||\"\")}for(const c of this.subscribedWorkspaces)c.hideChaff()}subscribeWorkspace(a){this.subscribedWorkspaces.push(a)}unsubscribeWorkspace(a){if(!removeElem$$module$build$src$core$utils$array(this.subscribedWorkspaces,a))throw Error(\"Cannot unsubscribe a workspace that hasn't been subscribed.\");}subscribe(a,b,c){this.componentDB.has(b)||this.componentDB.set(b,\n[]);this.componentDB.get(b).push({element:a,propertyName:c});b=this.theme&&this.theme.getComponentStyle(b);a.style.setProperty(c,b||\"\")}unsubscribe(a){if(a)for(const [b,c]of this.componentDB){for(let d=c.length-1;d>=0;d--)c[d].element===a&&c.splice(d,1);c.length||this.componentDB.delete(b)}}dispose(){this.subscribedWorkspaces.length=0;this.componentDB.clear()}},module$build$src$core$theme_manager={};module$build$src$core$theme_manager.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;var CATEGORY_NAME$$module$build$src$core$variables_dynamic=\"VARIABLE_DYNAMIC\",onCreateVariableButtonClick_String$$module$build$src$core$variables_dynamic=stringButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Number$$module$build$src$core$variables_dynamic=numberButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Colour$$module$build$src$core$variables_dynamic=colourButtonClickHandler$$module$build$src$core$variables_dynamic,\nmodule$build$src$core$variables_dynamic={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables_dynamic};module$build$src$core$variables_dynamic.flyoutCategory=flyoutCategory$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.internalFlyoutCategory=internalFlyoutCategory$$module$build$src$core$variables_dynamic;\nmodule$build$src$core$variables_dynamic.onCreateVariableButtonClick_Colour=colourButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_Number=numberButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_String=stringButtonClickHandler$$module$build$src$core$variables_dynamic;var ConnectionChecker$$module$build$src$core$connection_checker=class{canConnect(a,b,c,d){return this.canConnectWithReason(a,b,c,d)===Connection$$module$build$src$core$connection.CAN_CONNECT}canConnectWithReason(a,b,c,d){const e=this.doSafetyChecks(a,b);return e!==Connection$$module$build$src$core$connection.CAN_CONNECT?e:this.doTypeChecks(a,b)?c&&!this.doDragChecks(a,b,d||0)?Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:Connection$$module$build$src$core$connection.CAN_CONNECT:\nConnection$$module$build$src$core$connection.REASON_CHECKS_FAILED}getErrorMessage(a,b,c){switch(a){case Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:return\"Attempted to connect a block to itself.\";case Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:return\"Blocks not on same workspace.\";case Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:return\"Attempt to connect incompatible types.\";case Connection$$module$build$src$core$connection.REASON_TARGET_NULL:return\"Target connection is null.\";\ncase Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED:return\"Connection checks failed. \"+(b+\" expected \"+b.getCheck()+\", found \"+c.getCheck());case Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:return\"Connecting non-shadow to shadow block.\";case Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:return\"Drag checks failed.\";case Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:return\"Block would have an output and a previous connection.\";\ndefault:return\"Unknown connection failure: this should never happen!\"}}doSafetyChecks(a,b){if(!a||!b)return Connection$$module$build$src$core$connection.REASON_TARGET_NULL;let c,d,e;a.isSuperior()?(c=a.getSourceBlock(),d=b.getSourceBlock(),e=b):(d=a.getSourceBlock(),c=b.getSourceBlock(),e=a,a=b);return c===d?Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:e.type!==OPPOSITE_TYPE$$module$build$src$core$internal_constants[a.type]?Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:\nc.workspace!==d.workspace?Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:c.isShadow()&&!d.isShadow()?Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:\nConnection$$module$build$src$core$connection.CAN_CONNECT}doTypeChecks(a,b){a=a.getCheck();b=b.getCheck();if(!a||!b)return!0;for(let c=0;c<a.length;c++)if(b.includes(a[c]))return!0;return!1}doDragChecks(a,b,c){if(a.distanceFrom(b)>c||b.getSourceBlock().isInsertionMarker())return!1;switch(b.type){case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(a,b);case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:if(b.isConnected()&&\n!b.targetBlock().isInsertionMarker()||a.isConnected())return!1;break;case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;break;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:if(b.isConnected()&&!a.getSourceBlock().nextConnection&&!b.targetBlock().isShadow()&&b.targetBlock().nextConnection||b.targetBlock()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;\nbreak;default:return!1}return draggingConnections$$module$build$src$core$common.includes(b)?!1:!0}canConnectToPrevious_(a,b){if(a.targetConnection||draggingConnections$$module$build$src$core$common.includes(b))return!1;if(!b.targetConnection)return!0;a=b.targetBlock();return a.isInsertionMarker()?!a.getPreviousBlock():!1}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,DEFAULT$$module$build$src$core$registry,ConnectionChecker$$module$build$src$core$connection_checker);\nvar module$build$src$core$connection_checker={};module$build$src$core$connection_checker.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;var Workspace$$module$build$src$core$workspace=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(a){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1;this.MAX_UNDO=1024;this.connectionDBList=[];this.topBlocks=[];this.topComments=[];this.commentDB=new Map;this.listeners=[];this.undoStack_=[];this.redoStack_=[];this.blockDB=new Map;this.typedBlocksDB=new Map;this.procedureMap=new ObservableProcedureMap$$module$build$src$core$observable_procedure_map;\nthis.readOnly=!1;this.potentialVariableMap=null;this.id=genUid$$module$build$src$core$utils$idgenerator();registerWorkspace$$module$build$src$core$common(this);this.options=a||new Options$$module$build$src$core$options({});this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.connectionChecker=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,this.options,\n!0))(this);this.variableMap=new (this.getVariableMapClass())(this);this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0;this.clear();unregisterWorkpace$$module$build$src$core$common(this)}sortObjects(a,b){const c=d=>({getBoundingRectangle:()=>{const e=d.getRelativeToSurfaceXY();return new Rect$$module$build$src$core$utils$rect(e.y,e.y,e.x,e.x)},moveBy:()=>{}});return this.sortByOrigin(c(a),c(b))}sortByOrigin(a,b){const c=Math.sin(toRadians$$module$build$src$core$utils$math(Workspace$$module$build$src$core$workspace.SCAN_ANGLE))*\n(this.RTL?-1:1);a=a.getBoundingRectangle().getOrigin();b=b.getBoundingRectangle().getOrigin();return a.y+c*a.x-(b.y+c*b.x)}addTopBlock(a){this.topBlocks.push(a)}removeTopBlock(a){if(!removeElem$$module$build$src$core$utils$array(this.topBlocks,a))throw Error(\"Block not present in workspace's list of top-most blocks.\");}getTopBlocks(a=!1){const b=[].concat(this.topBlocks);a&&b.length>1&&b.sort(this.sortObjects.bind(this));return b}addTypedBlock(a){this.typedBlocksDB.has(a.type)||this.typedBlocksDB.set(a.type,\n[]);this.typedBlocksDB.get(a.type).push(a)}removeTypedBlock(a){removeElem$$module$build$src$core$utils$array(this.typedBlocksDB.get(a.type),a);this.typedBlocksDB.get(a.type).length||this.typedBlocksDB.delete(a.type)}getBlocksByType(a,b=!1){if(!this.typedBlocksDB.has(a))return[];a=this.typedBlocksDB.get(a).slice(0);b&&a&&a.length>1&&a.sort(this.sortObjects.bind(this));return a.filter(c=>!c.isInsertionMarker())}addTopComment(a){this.topComments.push(a);this.commentDB.has(a.id)&&console.warn('Overriding an existing comment on this workspace, with id \"'+\na.id+'\"');this.commentDB.set(a.id,a)}removeTopComment(a){if(!removeElem$$module$build$src$core$utils$array(this.topComments,a))throw Error(\"Comment not present in workspace's list of top-most comments.\");this.commentDB.delete(a.id)}getTopComments(a=!1){const b=[].concat(this.topComments);a&&b.length>1&&b.sort(this.sortObjects.bind(this));return b}getAllBlocks(a=!1){if(a){var b=this.getTopBlocks(!0);a=[];for(let c=0;c<b.length;c++)a.push(...b[c].getDescendants(!0))}else for(a=this.getTopBlocks(!1),\nb=0;b<a.length;b++)a.push(...a[b].getChildren(!1));return a.filter(c=>!c.isInsertionMarker())}clear(){this.isClearing=!0;try{const a=$.getGroup$$module$build$src$core$events$utils();for(a||$.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();$.setGroup$$module$build$src$core$events$utils(a);this.isFlyout||this.variableMap.clear();this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=\n!1}}renameVariableById(a,b){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.renameVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().renameVariable\");(a=this.variableMap.getVariableById(a))&&this.variableMap.renameVariable(a,b)}createVariable(a,b,c){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.createVariable\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().createVariable\");return this.variableMap.createVariable(a,b!=null?b:void 0,c!=null?c:void 0)}getVariableUsesById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariableUsesById\",\n\"v12\",\"v13\",\"Blockly.Variables.getVariableUsesById\");return getVariableUsesById$$module$build$src$core$variables(this,a)}deleteVariableById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.deleteVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().deleteVariable\");const b=this.variableMap.getVariableById(a);b?$.deleteVariable$$module$build$src$core$variables(this,b):console.warn(`Can't delete non-existent variable: ${a}`)}getVariable(a,b){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariable\",\n\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariable\");return this.variableMap.getVariable(a,b)}getVariableById(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariableById\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariableById\");return this.variableMap.getVariableById(a)}getVariablesOfType(a){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getVariablesOfType\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getVariablesOfType\");return this.variableMap.getVariablesOfType(a!=\nnull?a:\"\")}getAllVariables(){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getAllVariables\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getAllVariables\");return this.variableMap.getAllVariables()}getAllVariableNames(){warn$$module$build$src$core$utils$deprecation(\"Blockly.Workspace.getAllVariableNames\",\"v12\",\"v13\",\"Blockly.Workspace.getVariableMap().getAllVariables\");return this.variableMap.getAllVariables().map(a=>a.getName())}getWidth(){return 0}newBlock(a,b){throw Error(\"The implementation of newBlock should be monkey-patched in by blockly.ts\");\n}newComment(a){throw Error(\"The implementation of newComment should be monkey-patched in by blockly.ts\");}remainingCapacity(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(a){return this.options.maxInstances?(this.options.maxInstances[a]!==void 0?this.options.maxInstances[a]:Infinity)-this.getBlocksByType(a,!1).length:Infinity}isCapacityAvailable(a){if(!this.hasBlockLimits())return!0;let b=0;for(const c in a){if(a[c]>this.remainingCapacityOfType(c))return!1;\nb+=a[c]}return b>this.remainingCapacity()?!1:!0}hasBlockLimits(){return this.options.maxBlocks!==Infinity||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_;const d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group===b[b.length-1].group;){const f=b.pop();f&&e.push(f)}for(b=0;b<e.length;b++)c.push(e[b]);$.setRecordUndo$$module$build$src$core$events$utils(!1);\ntry{for(c=0;c<e.length;c++)e[c].run(a)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0;this.redoStack_.length=0;clearPendingUndo$$module$build$src$core$events$utils()}addChangeListener(a){this.listeners.push(a);return a}removeChangeListener(a){removeElem$$module$build$src$core$utils$array(this.listeners,a)}fireChangeListener(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=\n0;)this.undoStack_.shift();for(let b=0;b<this.listeners.length;b++)(0,this.listeners[b])(a)}getBlockById(a){return this.blockDB.get(a)||null}setBlockById(a,b){this.blockDB.set(a,b)}removeBlockById(a){this.blockDB.delete(a)}getCommentById(a){let b;return(b=this.commentDB.get(a))!=null?b:null}allInputsFilled(a){const b=this.getTopBlocks(!1);for(let c=0;c<b.length;c++)if(!b[c].allInputsFilled(a))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=\nnew (this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(a){this.variableMap=a}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let a=null;const b=this.options.parentWorkspace;this.isFlyout?b&&b.options&&(a=b.options.parentWorkspace):b&&(a=b);return a}static getById(a){return getWorkspaceById$$module$build$src$core$common(a)}static getAll(){return getAllWorkspaces$$module$build$src$core$common()}getVariableMapClass(){const a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MAP,\nthis.options,!0);if(!a)throw Error(\"No variable map is registered.\");return a}isReadOnly(){return this.readOnly}setIsReadOnly(a){this.readOnly=a;this.options.readOnly=a}};Workspace$$module$build$src$core$workspace.SCAN_ANGLE=3;var module$build$src$core$workspace={};module$build$src$core$workspace.Workspace=Workspace$$module$build$src$core$workspace;var SOUND_LIMIT$$module$build$src$core$workspace_audio=100,WorkspaceAudio$$module$build$src$core$workspace_audio=class{constructor(a){this.parentWorkspace=a;this.sounds=new Map;this.lastSound=null;this.muted=!1}dispose(){this.sounds.clear()}load(a,b){if(a.length){try{var c=new globalThis.Audio}catch(e){return}for(let e=0;e<a.length;e++){const f=a[e],g=f.match(/\\.(\\w+)$/);if(g&&c.canPlayType(\"audio/\"+g[1])){var d=new globalThis.Audio(f);break}}d&&this.sounds.set(b,d)}}preload(){for(const a of this.sounds.values()){a.volume=\n.01;const b=a.play();b!==void 0?b.then(a.pause).catch(function(){}):a.pause();if(IPAD$$module$build$src$core$utils$useragent||IPHONE$$module$build$src$core$utils$useragent)break}}play(a,b){if(!this.muted){var c=this.sounds.get(a);c?(a=new Date,this.lastSound!==null&&a.getTime()-this.lastSound.getTime()<SOUND_LIMIT$$module$build$src$core$workspace_audio||(this.lastSound=a,c=IPAD$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent?c:c.cloneNode(),c.volume=b===void 0?\n1:b,c.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(a,b)}}setMuted(a){this.muted=a}getMuted(){return this.muted}},module$build$src$core$workspace_audio={};module$build$src$core$workspace_audio.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;var ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg=20,WorkspaceSvg$$module$build$src$core$workspace_svg=class extends Workspace$$module$build$src$core$workspace{constructor(a){super(a);this.resizeHandlerWrapper=null;this.resizesEnabled=this.visible=this.rendered=!0;this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0;this.oldScale=this.scale=1;this.oldLeft=this.oldTop=0;this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=\nthis.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null;this.inverseScreenCTMDirty=!0;this.highlightedBlocks=[];this.toolboxCategoryCallbacks=new Map;this.flyoutButtonCallbacks=new Map;this.cachedParentSvg=null;this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1;this.topBoundedElements=[];this.dragTargetAreas=[];this.zoomControls_=this.layerManager=null;this.navigator=new Navigator$$module$build$src$core$navigator;this.metricsManager=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,\na,!0))(this);this.getMetrics=a.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager);this.setMetrics=a.setMetrics||WorkspaceSvg$$module$build$src$core$workspace_svg.setTopLevelWorkspaceMetrics;this.componentManager=new ComponentManager$$module$build$src$core$component_manager;this.connectionDBList=ConnectionDB$$module$build$src$core$connection_db.init(this.connectionChecker);this.audioManager=new WorkspaceAudio$$module$build$src$core$workspace_audio(a.parentWorkspace);this.grid=this.options.gridPattern?\nnew Grid$$module$build$src$core$grid(this.options.gridPattern,a.gridOptions):null;this.markerManager=new MarkerManager$$module$build$src$core$marker_manager(this);module$build$src$core$variables&&internalFlyoutCategory$$module$build$src$core$variables&&this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables,internalFlyoutCategory$$module$build$src$core$variables);module$build$src$core$variables_dynamic&&internalFlyoutCategory$$module$build$src$core$variables_dynamic&&this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables_dynamic,\ninternalFlyoutCategory$$module$build$src$core$variables_dynamic);module$build$src$core$procedures&&internalFlyoutCategory$$module$build$src$core$procedures&&(this.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$procedures,internalFlyoutCategory$$module$build$src$core$procedures),this.addChangeListener(mutatorOpenListener$$module$build$src$core$procedures));this.addChangeListener(this.variableChangeCallback.bind(this));this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():\nnew ThemeManager$$module$build$src$core$theme_manager(this,this.options.theme||Classic$$module$build$src$core$theme$classic);this.themeManager_.subscribeWorkspace(this);let b;this.renderer=init$$module$build$src$core$renderers$common$block_rendering(this.options.renderer||\"geras\",this.getTheme(),(b=this.options.rendererOverrides)!=null?b:void 0);this.cachedParentSvgSize=new Size$$module$build$src$core$utils$size(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(a){this.metricsManager=\na;this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(a){return this.markerManager.getMarker(a)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(a){a||(a=Classic$$module$build$src$core$theme$classic);this.themeManager_.setTheme(a)}refreshTheme(){if(this.svgGroup_){var a=this.options.parentWorkspace===\nnull;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),a?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(b=>!!b.getStyleName()));this.refreshToolboxSelection();this.toolbox&&this.toolbox.refreshTheme();this.isVisible()&&this.setVisible(!0);a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.THEME_CHANGE))(this.getTheme().name,this.id);fire$$module$build$src$core$events$utils(a)}updateBlockStyles(a){for(let b=0,c;c=a[b];b++){const d=\nc.getStyleName();d&&c.setStyle(d)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM=a.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(a){let b=0,c=0,d=1;if(this.getCanvas().contains(a)||this.getBubbleCanvas().contains(a))d=this.scale;do{const e=getRelativeXY$$module$build$src$core$utils$svg_math(a);if(a===this.getCanvas()||\na===this.getBubbleCanvas())d=1;b+=e.x*d;c+=e.y*d;a=a.parentNode}while(a&&a!==this.getParentSvg()&&a!==this.getInjectionDiv());return new Coordinate$$module$build$src$core$utils$coordinate(b,c)}getCachedParentSvgSize(){const a=this.cachedParentSvgSize;return new Size$$module$build$src$core$utils$size(a.width,a.height)}getOriginOffsetInPixels(){return getInjectionDivXY$$module$build$src$core$utils$svg_math(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let a=this.svgGroup_;for(;a;){if((\" \"+\n(a.getAttribute(\"class\")||\"\")+\" \").includes(\" injectionDiv \")){this.injectionDiv=a;break}a=a.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(a){this.resizeHandlerWrapper=a}createDom(a,b){this.injectionDiv||(this.injectionDiv=b!=null?b:null);this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyWorkspace\",id:this.id});b&&setState$$module$build$src$core$utils$aria(this.svgGroup_,\nState$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL);a&&(this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:\"100%\",width:\"100%\",\"class\":a},this.svgGroup_),a===\"blocklyMainBackground\"&&this.grid?this.svgBackground_.style.fill=\"var(--blocklyGridPattern)\":this.themeManager_.subscribe(this.svgBackground_,\"workspaceBackgroundColour\",\"fill\"));this.layerManager=new LayerManager$$module$build$src$core$layer_manager(this);\nthis.svgBlockCanvas_=this.layerManager.getBlockLayer();this.svgBubbleCanvas_=this.layerManager.getBubbleLayer();this.isFlyout||(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"pointerdown\",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener(\"wheel\",this.dummyWheelListener),conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,\"wheel\",this,this.onMouseWheel));this.options.hasCategories&&(this.toolbox=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,\nthis.options,!0))(this));this.grid&&this.grid.update(this.scale);this.recordDragTargets();(a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,this.options))&&this.markerManager.setCursor(new a(this));a=this.options.parentWorkspace===null;this.renderer.createDom(this.svgGroup_,this.getTheme(),a?this.getInjectionDiv():void 0);$.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout);return this.svgGroup_}dispose(){this.rendered=\n!1;this.currentGesture_&&this.currentGesture_.cancel();this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_);this.toolbox&&(this.toolbox.dispose(),this.toolbox=null);this.flyout&&(this.flyout.dispose(),this.flyout=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null);this.zoomControls_&&this.zoomControls_.dispose();this.audioManager&&this.audioManager.dispose();this.grid&&(this.grid=null);this.renderer.dispose();\nthis.markerManager.dispose();super.dispose();this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose());this.connectionDBList.length=0;this.toolboxCategoryCallbacks.clear();this.flyoutButtonCallbacks.clear();if(!this.options.parentWorkspace){const a=this.getParentSvg();a&&a.parentNode&&removeNode$$module$build$src$core$utils$dom(a.parentNode)}this.resizeHandlerWrapper&&(unbind$$module$build$src$core$browser_events(this.resizeHandlerWrapper),\nthis.resizeHandlerWrapper=null);this.dummyWheelListener&&(document.body.removeEventListener(\"wheel\",this.dummyWheelListener),this.dummyWheelListener=null);$.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&$.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan(this);const a=this.trashcan.createDom();this.svgGroup_.insertBefore(a,this.getCanvas())}static newTrashcan(a){throw Error(\"The implementation of newTrashcan should be monkey-patched in by blockly.ts\");\n}addZoomControls(){this.zoomControls_=new ZoomControls$$module$build$src$core$zoom_controls(this);const a=this.zoomControls_.createDom();this.svgGroup_.appendChild(a)}copyOptionsForFlyout(){return new Options$$module$build$src$core$options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,\nmove:{scrollbars:!0}})}addFlyout(a){const b=this.copyOptionsForFlyout();b.toolboxPosition=this.options.toolboxPosition;this.flyout=this.horizontalLayout?new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(b):new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(b);this.flyout.autoClose=!1;this.flyout.getWorkspace().setVisible(!0);\nreturn this.flyout.createDom(a)}getFlyout(a){return this.flyout||a?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM();this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE,\n!0),b=this.getMetricsManager().getUiMetrics(),c=[];for(let d=0,e;e=a[d];d++){e.position(b,c);const f=e.getBoundingRectangle();f&&c.push(f)}this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const a=getDocumentScroll$$module$build$src$core$utils$svg_math();Coordinate$$module$build$src$core$utils$coordinate.equals(this.lastRecordedPageScroll,a)||(this.lastRecordedPageScroll=a,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(a,\nb){const c=this.getParentSvg();a!=null&&(this.cachedParentSvgSize.width=a,c.setAttribute(\"data-cached-width\",`${a}`));b!=null&&(this.cachedParentSvgSize.height=b,c.setAttribute(\"data-cached-height\",`${b}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let a=this.svgGroup_;for(;a;){if(a.tagName===\"svg\"){this.cachedParentSvg=a;break}a=a.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(isEnabled$$module$build$src$core$events$utils()){var a=\nthis.scale,b=-this.scrollY,c=-this.scrollX;if(!(a===this.oldScale&&Math.abs(b-this.oldTop)<1&&Math.abs(c-this.oldLeft)<1)){var d=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE))(b,c,a,this.id,this.oldScale);this.oldScale=a;this.oldTop=b;this.oldLeft=c;fire$$module$build$src$core$events$utils(d)}}}translate(a,b){let c;(c=this.layerManager)==null||c.translateLayers(new Coordinate$$module$build$src$core$utils$coordinate(a,b),this.scale);let d;\n(d=this.grid)==null||d.moveTo(a,b);this.maybeFireViewportChangeEvent()}getWidth(){const a=this.getMetrics();return a?a.viewWidth/this.scale:0}setVisible(a){this.visible=a;this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(a),this.getFlyout()&&this.getFlyout().setContainerVisible(a),this.getParentSvg().style.display=a?\"block\":\"none\",this.toolbox&&this.toolbox.setVisible(a),a||this.hideChaff(!0))}render(){const a=this.getAllBlocks(!1);for(let b=a.length-1;b>=0;b--)a[b].queueRender();\nthis.getTopBlocks().flatMap(b=>b.getDescendants(!1)).filter(b=>b.isInsertionMarker()).forEach(b=>b.queueRender())}highlightBlock(a,b){if(b===void 0){for(let c=0,d;d=this.highlightedBlocks[c];c++)d.setHighlighted(!1);this.highlightedBlocks.length=0}if(a=a?this.getBlockById(a):null)(b=b===void 0||b)?this.highlightedBlocks.includes(a)||this.highlightedBlocks.push(a):removeElem$$module$build$src$core$utils$array(this.highlightedBlocks,a),a.setHighlighted(b)}variableChangeCallback(a){switch(a.type){case EventType$$module$build$src$core$events$type.VAR_CREATE:case EventType$$module$build$src$core$events$type.VAR_DELETE:case EventType$$module$build$src$core$events$type.VAR_RENAME:case EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const a=\nthis.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox&&a.toolbox.getFlyout()&&a.toolbox.refreshSelection()}recordDragTargets(){const a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let b=0,c;c=a[b];b++){const d=c.getClientRect();d&&this.dragTargetAreas.push({component:c,clientRect:d})}}newBlock(a,b){throw Error(\"The implementation of newBlock should be monkey-patched in by blockly.ts\");\n}newComment(a){throw Error(\"The implementation of newComment should be monkey-patched in by blockly.ts\");}getDragTarget(a){for(let b=0,c;c=this.dragTargetAreas[b];b++)if(c.clientRect.contains(a.clientX,a.clientY))return c.component;return null}onMouseDown(a){const b=this.getGesture(a);b&&b.handleWsStart(a,this)}startDrag(a,b){start$$module$build$src$core$utils$drag(this,a,b)}moveDrag(a){return move$$module$build$src$core$utils$drag(this,a)}setKeyboardMoveInProgress(a){this.keyboardMoveInProgress=\na}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const a=\n!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollVertically())}onMouseWheel(a){if(Gesture$$module$build$src$core$gesture.inProgress())a.preventDefault(),a.stopPropagation();else{var b=this.options.zoomOptions&&this.options.zoomOptions.wheel,c=this.options.moveOptions&&this.options.moveOptions.wheel;if(b||c){var d=getScrollDeltaPixels$$module$build$src$core$browser_events(a);\nif(MAC$$module$build$src$core$utils$useragent)var e=a.metaKey;b&&(a.ctrlKey||e||!c)?(d=-d.y/50,b=mouseToSvg$$module$build$src$core$browser_events(a,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(b.x,b.y,d)):(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c));a.preventDefault()}}}getBlocksBoundingBox(){const a=this.getTopBoundedElements();if(!a.length)return new Rect$$module$build$src$core$utils$rect(0,0,0,0);const b=a[0].getBoundingRectangle();\nfor(let d=1;d<a.length;d++){var c=a[d];c.isInsertionMarker&&c.isInsertionMarker()||(c=c.getBoundingRectangle(),c.top<b.top&&(b.top=c.top),c.bottom>b.bottom&&(b.bottom=c.bottom),c.left<b.left&&(b.left=c.left),c.right>b.right&&(b.right=c.right))}return b}cleanUp(){this.setResizesEnabled(!1);const a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=this.getTopBlocks(!0),c=b.filter(g=>g.isMovable());const d=b.filter(g=>!g.isMovable()).map(g=>\ng.getBoundingRectangle());b=function(g){for(const h of d)if(g.intersects(h))return h;return null};var e=0;const f=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const g of c){c=g.getBoundingRectangle();g.moveBy(-c.left,e-c.top,[\"cleanup\"]);g.snapToGrid();c=g.getBoundingRectangle();for(e=b(c);e!=null;)e=e.top+e.getHeight()+f,g.moveBy(0,e-c.top,[\"cleanup\"]),g.snapToGrid(),c=g.getBoundingRectangle(),e=b(c);e=g.getRelativeToSurfaceXY().y+g.getHeightWidth().height+f}$.setGroup$$module$build$src$core$events$utils(a);\nthis.setResizesEnabled(!0)}showContextMenu(a){if(!this.isReadOnly()&&!this.isFlyout){var b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions({workspace:this,focusedNode:this},a);this.configureContextMenu&&this.configureContextMenu(b,a);var c=a instanceof PointerEvent?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):wsToScreenCoordinates$$module$build$src$core$utils$svg_math(this,new Coordinate$$module$build$src$core$utils$coordinate(5,\n5));show$$module$build$src$core$contextmenu(a,b,this.RTL,this,c)}}updateToolbox(a){if(a=convertToolboxDefToJson$$module$build$src$core$utils$toolbox(a)){if(!this.options.languageTree)throw Error(\"Existing toolbox is null.  Can't create new toolbox.\");if(hasCategories$$module$build$src$core$utils$toolbox(a)){if(!this.toolbox)throw Error(\"Existing toolbox has no categories.  Can't change mode.\");this.options.languageTree=a;this.toolbox.render(a)}else{if(!this.flyout)throw Error(\"Existing toolbox has categories.  Can't change mode.\");\nthis.options.languageTree=a;this.flyout.show(a)}}else if(this.options.languageTree)throw Error(\"Can't nullify an existing toolbox.\");}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(setMainWorkspace$$module$build$src$core$common(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(a,b,c){c=Math.pow(this.options.zoomOptions.scaleSpeed,c);const d=this.scale*c;if(this.scale!==d){d>this.options.zoomOptions.maxScale?c=this.options.zoomOptions.maxScale/this.scale:\nd<this.options.zoomOptions.minScale&&(c=this.options.zoomOptions.minScale/this.scale);var e=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}}zoomCenter(a){var b=this.getMetrics();let c;this.flyout?(c=b.svgWidth?b.svgWidth/2:0,b=b.svgHeight?b.svgHeight/2:0):(c=b.viewWidth/2+b.absoluteLeft,b=b.viewHeight/2+b.absoluteTop);this.zoom(c,b,a)}zoomToFit(){if(this.isMovable()){var a=\nthis.getMetrics(),b=a.viewWidth;a=a.viewHeight;var c=this.getBlocksBoundingBox(),d=ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg*2,e=c.right-c.left+d;c=c.bottom-c.top+d;if(e){this.flyout&&(this.horizontalLayout?(a+=this.flyout.getHeight(),c+=this.flyout.getHeight()/this.scale):(b+=this.flyout.getWidth(),e+=this.flyout.getWidth()/this.scale));b/=e;a/=c;$.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(b,a)),this.scrollCenter()}finally{$.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}beginCanvasTransition(){addClass$$module$build$src$core$utils$dom(this.getCanvas(),\n\"blocklyCanvasTransitioning\");addClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),\"blocklyCanvasTransitioning\")}endCanvasTransition(){removeClass$$module$build$src$core$utils$dom(this.getCanvas(),\"blocklyCanvasTransitioning\");removeClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),\"blocklyCanvasTransitioning\")}scrollCenter(){if(this.isMovable()){var a=this.getMetrics(),b=(a.scrollWidth-a.viewWidth)/2,c=(a.scrollHeight-a.viewHeight)/2;b=-b-a.scrollLeft;c=-c-a.scrollTop;this.scroll(b,\nc)}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}centerOnBlock(a,b){if(this.isMovable()){var c=a?this.getBlockById(a):null;if(c){a=c.getRelativeToSurfaceXY();c=b?{height:c.height,width:c.width}:c.getHeightWidth();var d=this.scale;b=(a.x+(this.RTL?-1:1)*c.width/2)*d;a=(a.y+c.height/2)*d;c=this.getMetrics();this.scroll(-(b-c.viewWidth/2),-(a-c.viewHeight/2))}}else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\")}setScale(a){this.options.zoomOptions.maxScale&&\na>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;this.hideChaff(!1);(a=this.getFlyout(!1))&&a.isVisible()&&(a.reflow(),this.recordDragTargets());this.grid&&this.grid.update(this.scale);a=this.getMetrics();this.scrollX-=a.absoluteLeft;this.scrollY-=a.absoluteTop;a.viewLeft+=a.absoluteLeft;a.viewTop+=a.absoluteTop;this.scroll(this.scrollX,this.scrollY);this.scrollbar&&\n(this.flyout?this.scrollbar.resizeView(a):this.scrollbar.resizeContent(a))}getScale(){return this.scale}getAbsoluteScale(){const a=c=>{if(c.isFlyout){let d;const e=(d=c.targetWorkspace)==null?void 0:d.getFlyout();if(e instanceof Flyout$$module$build$src$core$flyout_base)return e.getFlyoutScale()}return c.getScale()},b=(c,d)=>c.options.parentWorkspace&&c.options.parentWorkspace.getSvgGroup().contains(c.getSvgGroup())?b(c.options.parentWorkspace,d*a(c)):d*a(c);return b(this,1)}scroll(a,b){this.hideChaff(!0);\nconst c=this.getMetrics();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);const d=c.scrollTop+Math.max(0,c.scrollHeight-c.viewHeight);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.viewWidth)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.scrollbar&&this.scrollbar.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.absoluteLeft;b+=c.absoluteTop;this.translate(a,b)}getBlockById(a){return super.getBlockById(a)}getAllBlocks(a=!1){return super.getAllBlocks(a)}getTopBlocks(a=!1){return super.getTopBlocks(a)}addTopBlock(a){this.addTopBoundedElement(a);\nsuper.addTopBlock(a)}removeTopBlock(a){this.removeTopBoundedElement(a);super.removeTopBlock(a)}addTopComment(a){this.addTopBoundedElement(a);super.addTopComment(a)}removeTopComment(a){this.removeTopBoundedElement(a);super.removeTopComment(a)}getTopComments(a=!1){return super.getTopComments(a)}getCommentById(a){return super.getCommentById(a)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(a){this.topBoundedElements.push(a)}removeTopBoundedElement(a){removeElem$$module$build$src$core$utils$array(this.topBoundedElements,\na)}getTopBoundedElements(a=!1){const b=[].concat(this.topBoundedElements);a&&b.sort(this.sortByOrigin.bind(this));return b}setResizesEnabled(a){const b=!this.resizesEnabled&&a;this.resizesEnabled=a;b&&this.resizeContents()}clear(){this.setResizesEnabled(!1);super.clear();this.topBoundedElements=[];this.setResizesEnabled(!0)}registerButtonCallback(a,b){if(typeof b!==\"function\")throw TypeError(\"Button callbacks must be functions.\");this.flyoutButtonCallbacks.set(a,b)}getButtonCallback(a){let b;return(b=\nthis.flyoutButtonCallbacks.get(a))!=null?b:null}removeButtonCallback(a){this.flyoutButtonCallbacks.delete(a)}registerToolboxCategoryCallback(a,b){if(typeof b!==\"function\")throw TypeError(\"Toolbox category callbacks must be functions.\");this.toolboxCategoryCallbacks.set(a,b)}getToolboxCategoryCallback(a){return this.toolboxCategoryCallbacks.get(a)||null}removeToolboxCategoryCallback(a){this.toolboxCategoryCallbacks.delete(a)}getGesture(a){if(this.keyboardMoveInProgress)return a.preventDefault(),a.stopPropagation(),\nnull;const b=a.type===\"pointerdown\";let c;b&&((c=this.currentGesture_)==null?0:c.hasStarted())&&(console.warn(\"Tried to start the same gesture twice.\"),this.currentGesture_.cancel());!this.currentGesture_&&b&&(this.currentGesture_=new Gesture$$module$build$src$core$gesture(a,this));return this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(a=\n!1){hide$$module$build$src$core$tooltip();hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this);hideWithoutAnimation$$module$build$src$core$dropdowndiv();this.hideComponents(a)}hideComponents(a=!1){this.getComponentManager().getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,!0).forEach(b=>b.autoHide(a))}static setTopLevelWorkspaceMetrics(a){const b=this.getMetrics();typeof a.x===\"number\"&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.viewWidth)*\na.x));typeof a.y===\"number\"&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.viewHeight)*a.y));this.translate(this.scrollX+b.absoluteLeft,this.scrollY+b.absoluteTop)}addClass(a){this.injectionDiv&&addClass$$module$build$src$core$utils$dom(this.injectionDiv,a)}removeClass(a){this.injectionDiv&&removeClass$$module$build$src$core$utils$dom(this.injectionDiv,a)}setIsReadOnly(a){super.setIsReadOnly(a);a?this.addClass(\"blocklyReadOnly\"):this.removeClass(\"blocklyReadOnly\")}scrollBoundsIntoView(a,b=10){if(!Gesture$$module$build$src$core$gesture.inProgress()){var c=\nthis.getScale(),d=this.getMetricsManager().getViewMetrics(!0);d=new Rect$$module$build$src$core$utils$rect(d.top,d.top+d.height,d.left,d.left+d.width);if(!(a.left>=d.left&&a.top>=d.top&&a.right<=d.right&&a.bottom<=d.bottom)){a=a.clone();a.top-=b;a.bottom+=b;a.left-=b;a.right+=b;var e=b=0;a.left<d.left?b=this.RTL?Math.min(d.left-a.left,d.right-a.right):d.left-a.left:a.right>d.right&&(b=this.RTL?d.right-a.right:Math.max(d.right-a.right,d.left-a.left));a.top<d.top?e=d.top-a.top:a.bottom>d.bottom&&(e=\nMath.max(d.bottom-a.bottom,d.top-a.top));this.scroll(this.scrollX+b*c,this.scrollY+e*c)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(a){if(a)return null;let b;a=(b=this.targetWorkspace)==null?void 0:b.getFlyout();if(this.isFlyout&&a){let d,e;return(e=(d=a.getContents().find(f=>{f=f.getElement();return isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(f)&&\nf.canBeFocused()}))==null?void 0:d.getElement())!=null?e:null}let c;return(c=this.getTopBlocks(!0)[0])!=null?c:null}getNestedTrees(){const a=this.getAllBlocks().map(c=>c.getIcons()).flat().filter(c=>c instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&c.bubbleIsVisible()).map(c=>{let d;return(d=c.getBubble())==null?void 0:d.getWorkspace()}).filter(c=>!!c),b=this.getFlyout(!0);b&&a.push(b.getWorkspace());return a}searchForWorkspaceComment(a){for(const b of this.getTopComments())if(b instanceof\nRenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment&&b.canBeFocused()&&b.getFocusableElement().id===a)return b}lookUpFocusableNode(a){var b;const c=(b=this.targetWorkspace)==null?void 0:b.getFlyout();if(this.isFlyout&&c)for(var d of c.getContents())if(b=d.getElement(),isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(b)&&b.canBeFocused()&&b.getFocusableElement().id===a)return b;d=a.indexOf(\"_field_\");b=a.indexOf(\"_connection_\");if(d!==-1){var e=a.substring(0,\nd);if(e=this.getBlockById(e))for(var f of e.getFields())if(f.canBeFocused()&&f.getFocusableElement().id===a)return f;return null}if(b!==-1){e=a.substring(0,b);if(e=this.getBlockById(e))for(const h of e.getConnections_(!0))if(h.id===a)return h;return null}f=Math.max(a.indexOf(COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor),a.indexOf(COMMENT_COLLAPSE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$collapse_comment_bar_button),a.indexOf(COMMENT_DELETE_BAR_BUTTON_FOCUS_IDENTIFIER$$module$build$src$core$comments$delete_comment_bar_button));\nif(f!==-1&&(f=a.substring(0,f),f=this.searchForWorkspaceComment(f))){if(a.indexOf(COMMENT_EDITOR_FOCUS_IDENTIFIER$$module$build$src$core$comments$comment_editor)>-1)return f.getEditorFocusableNode();var g;return(g=f.view.getCommentBarButtons().find(h=>h.getFocusableElement().id.includes(a)))!=null?g:null}if((g=this.getAllBlocks(!1).find(h=>h.getFocusableElement().id===a))||(g=this.searchForWorkspaceComment(a)))return g;g=this.getAllBlocks().map(h=>h.getIcons()).flat();for(e of g){if(e.canBeFocused()&&\ne.getFocusableElement().id===a)return e;if(hasBubble$$module$build$src$core$interfaces$i_has_bubble(e)){if((g=e.getBubble())&&g.canBeFocused()&&g.getFocusableElement().id===a)return g;if(g instanceof TextInputBubble$$module$build$src$core$bubbles$textinput_bubble&&g.getEditor().getFocusableElement().id===a)return g.getEditor()}}return null}onTreeFocus(a,b){}onTreeBlur(a){if(this.isFlyout&&this.targetWorkspace&&!$.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var b=\nthis.targetWorkspace.getToolbox();b&&a===b||isAutoHideable$$module$build$src$core$interfaces$i_autohideable(b)&&b.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(a){this.navigator=a}},module$build$src$core$workspace_svg={};module$build$src$core$workspace_svg.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;module$build$src$core$workspace_svg.resizeSvgContents=resizeSvgContents$$module$build$src$core$workspace_svg;var VarBase$$module$build$src$core$events$events_var_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=typeof a===\"undefined\";a&&(this.varId=a.getId(),this.workspaceId=a.getWorkspace().id)}toJson(){const a=super.toJson();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");a.varId=this.varId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarBase$$module$build$src$core$events$events_var_base);\nb.varId=a.varId;return b}},module$build$src$core$events$events_var_base={};module$build$src$core$events$events_var_base.VarBase=VarBase$$module$build$src$core$events$events_var_base;var VarCreate$$module$build$src$core$events$events_var_create=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_CREATE;a&&(this.varType=a.getType(),this.varName=a.getName())}toJson(){const a=super.toJson();if(this.varType===void 0)throw Error(\"The var type is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");\na.varType=this.varType;a.varName=this.varName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarCreate$$module$build$src$core$events$events_var_create);b.varType=a.varType;b.varName=a.varName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");b=b.getVariableMap();\na?b.createVariable(this.varName,this.varType,this.varId):(a=b.getVariableById(this.varId))&&b.deleteVariable(a)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_CREATE,VarCreate$$module$build$src$core$events$events_var_create);var module$build$src$core$events$events_var_create={};module$build$src$core$events$events_var_create.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;var VariableModel$$module$build$src$core$variable_model=class{constructor(a,b,c,d){this.workspace=a;this.name=b;this.type=c||\"\";this.id=d||genUid$$module$build$src$core$utils$idgenerator()}getId(){return this.id}getName(){return this.name}setName(a){this.name=a;return this}getType(){return this.type}setType(a){this.type=a;return this}getWorkspace(){return this.workspace}save(){const a={name:this.getName(),id:this.getId()},b=this.getType();b&&(a.type=b);return a}static load(a,b){a=new this(b,a.name,\na.type,a.id);b.getVariableMap().addVariable(a);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(a))}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,DEFAULT$$module$build$src$core$registry,VariableModel$$module$build$src$core$variable_model);var module$build$src$core$variable_model={};module$build$src$core$variable_model.VariableModel=VariableModel$$module$build$src$core$variable_model;var VarDelete$$module$build$src$core$events$events_var_delete=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_DELETE;a&&(this.varType=a.getType(),this.varName=a.getName())}toJson(){const a=super.toJson();if(this.varType===void 0)throw Error(\"The var type is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");\na.varType=this.varType;a.varName=this.varName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarDelete$$module$build$src$core$events$events_var_delete);b.varType=a.varType;b.varName=a.varName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.varName)throw Error(\"The var name is undefined. Either pass a variable to the constructor, or call fromJson\");b=b.getVariableMap();\na?(a=b.getVariableById(this.varId))&&b.deleteVariable(a):b.createVariable(this.varName,this.varType,this.varId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_DELETE,VarDelete$$module$build$src$core$events$events_var_delete);var module$build$src$core$events$events_var_delete={};module$build$src$core$events$events_var_delete.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;var VarRename$$module$build$src$core$events$events_var_rename=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a,b){super(a);this.type=EventType$$module$build$src$core$events$type.VAR_RENAME;a&&(this.oldName=a.getName(),this.newName=typeof b===\"undefined\"?\"\":b)}toJson(){const a=super.toJson();if(!this.oldName)throw Error(\"The old var name is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.newName)throw Error(\"The new var name is undefined. Either pass a value to the constructor, or call fromJson\");\na.oldName=this.oldName;a.newName=this.newName;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new VarRename$$module$build$src$core$events$events_var_rename);b.oldName=a.oldName;b.newName=a.newName;return b}run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.oldName)throw Error(\"The old var name is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.newName)throw Error(\"The new var name is undefined. Either pass a value to the constructor, or call fromJson\");\nb=b.getVariableMap();const c=b.getVariableById(this.varId);a?c&&b.renameVariable(c,this.newName):c&&b.renameVariable(c,this.oldName)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_RENAME,VarRename$$module$build$src$core$events$events_var_rename);var module$build$src$core$events$events_var_rename={};module$build$src$core$events$events_var_rename.VarRename=VarRename$$module$build$src$core$events$events_var_rename;var VariableMap$$module$build$src$core$variable_map=class{constructor(a,b=!1){this.workspace=a;this.potentialMap=b;this.variableMap=new Map}clear(){for(const a of this.variableMap.values())for(const b of a.values())this.deleteVariable(b);if(this.variableMap.size!==0)throw Error(\"Non-empty variable map\");}renameVariable(a,b){if(a.getName()===b)return a;var c=a.getType();c=this.getVariable(b,c);const d=this.workspace.getAllBlocks(!1);let e=\"\";this.potentialMap||(e=$.getGroup$$module$build$src$core$events$utils())||\n$.setGroup$$module$build$src$core$events$utils(!0);try{c&&c.getId()!==a.getId()?this.renameVariableWithConflict(a,b,c,d):this.renameVariableAndUses(a,b,d)}finally{this.potentialMap||$.setGroup$$module$build$src$core$events$utils(e)}return a}changeVariableType(a,b){const c=a.getType();if(c===b)return a;var d;(d=this.variableMap.get(a.getType()))==null||d.delete(a.getId());a.setType(b);let e;d=(e=this.variableMap.get(b))!=null?e:new Map;d.set(a.getId(),a);this.variableMap.has(b)||this.variableMap.set(b,\nd);fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE))(a,c,b));return a}renameVariableById(a,b){warn$$module$build$src$core$utils$deprecation(\"VariableMap.renameVariableById\",\"v12\",\"v13\",\"VariableMap.renameVariable\");const c=this.getVariableById(a);if(!c)throw Error(\"Tried to rename a variable that didn't exist. ID: \"+a);this.renameVariable(c,b)}renameVariableAndUses(a,b,c){this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_RENAME))(a,\nb));a.setName(b);for(b=0;b<c.length;b++)c[b].updateVarName(a)}renameVariableWithConflict(a,b,c,d){const e=a.getType(),f=c.getName();b!==f&&this.renameVariableAndUses(c,b,d);for(b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_DELETE))(a));let g;(g=this.variableMap.get(e))==null||g.delete(a.getId())}createVariable(a,b,c){var d=this.getVariable(a,\nb);if(d){if(c&&d.getId()!==c)throw Error('Variable \"'+a+'\" is already in use and its id is \"'+d.getId()+'\" which conflicts with the passed in id, \"'+c+'\".');return d}if(c&&this.getVariableById(c))throw Error('Variable id, \"'+c+'\", is already in use.');d=c||genUid$$module$build$src$core$utils$idgenerator();b=b||\"\";c=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,this.workspace.options,!0);if(!c)throw Error(\"No variable model is registered.\");\nd=new c(this.workspace,a,b,d);let e;a=(e=this.variableMap.get(b))!=null?e:new Map;a.set(d.getId(),d);this.variableMap.has(b)||this.variableMap.set(b,a);this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_CREATE))(d));return d}addVariable(a){const b=a.getType();this.variableMap.has(b)||this.variableMap.set(b,new Map);let c;(c=this.variableMap.get(b))==null||c.set(a.getId(),a)}deleteVariable(a){const b=\ngetVariableUsesById$$module$build$src$core$variables(this.workspace,a.getId());let c=\"\";this.potentialMap||(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);try{for(let e=0;e<b.length;e++)b[e].dispose(!0);const d=this.variableMap.get(a.getType());d&&d.has(a.getId())&&(d.delete(a.getId()),this.potentialMap||fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.VAR_DELETE))(a)),\nd.size===0&&this.variableMap.delete(a.getType()))}finally{this.potentialMap||$.setGroup$$module$build$src$core$events$utils(c)}}deleteVariableById(a){warn$$module$build$src$core$utils$deprecation(\"VariableMap.deleteVariableById\",\"v12\",\"v13\",\"Blockly.Variables.deleteVariable\");(a=this.getVariableById(a))&&$.deleteVariable$$module$build$src$core$variables(this.workspace,a)}getVariable(a,b){b=this.variableMap.get(b||\"\");if(!b)return null;let c;return(c=[...b.values()].find(d=>$.Names$$module$build$src$core$names.equals(d.getName(),\na)))!=null?c:null}getVariableById(a){for(const b of this.variableMap.values())if(b.has(a)){let c;return(c=b.get(a))!=null?c:null}return null}getVariablesOfType(a){return(a=this.variableMap.get(a||\"\"))?[...a.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let a=[];for(const b of this.variableMap.values())a=a.concat(...b.values());return a}getAllVariableNames(){warn$$module$build$src$core$utils$deprecation(\"VariableMap.getAllVariableNames\",\"v12\",\"v13\",\"Blockly.Variables.getAllVariables\");\nconst a=[];for(const b of this.variableMap.values())for(const c of b.values())a.push(c.getName());return a}getVariableUsesById(a){warn$$module$build$src$core$utils$deprecation(\"VariableMap.getVariableUsesById\",\"v12\",\"v13\",\"Blockly.Variables.getVariableUsesById\");return getVariableUsesById$$module$build$src$core$variables(this.workspace,a)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MAP,DEFAULT$$module$build$src$core$registry,VariableMap$$module$build$src$core$variable_map);\nvar module$build$src$core$variable_map={};module$build$src$core$variable_map.VariableMap=VariableMap$$module$build$src$core$variable_map;var TrashcanOpen$$module$build$src$core$events$events_trashcan_open=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(b);this.type=EventType$$module$build$src$core$events$type.TRASHCAN_OPEN;this.isOpen=a}toJson(){const a=super.toJson();if(this.isOpen===void 0)throw Error(\"Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson\");a.isOpen=this.isOpen;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?\nc:new TrashcanOpen$$module$build$src$core$events$events_trashcan_open);b.isOpen=a.isOpen;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.TRASHCAN_OPEN,TrashcanOpen$$module$build$src$core$events$events_trashcan_open);var module$build$src$core$events$events_trashcan_open={};module$build$src$core$events$events_trashcan_open.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;var Trashcan$$module$build$src$core$trashcan=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.workspace=a;this.id=\"trashcan\";this.contents=[];this.flyout=null;this.isLidOpen=!1;this.minOpenness=0;this.lidTask=this.svgLid=this.svgGroup=null;this.top=this.left=this.lidOpen=0;this.initialized=!1;this.workspace.options.maxTrashcanContents<=0||(a=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(a.toolboxPosition=this.workspace.toolboxPosition===\nPosition$$module$build$src$core$utils$toolbox.TOP?Position$$module$build$src$core$utils$toolbox.BOTTOM:Position$$module$build$src$core$utils$toolbox.TOP,this.flyout=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(a)):(a.toolboxPosition=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?Position$$module$build$src$core$utils$toolbox.LEFT:Position$$module$build$src$core$utils$toolbox.RIGHT,\nthis.flyout=new (getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(a)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{\"class\":\"blocklyTrash\"});let a;const b=String(Math.random()).substring(2);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,\n{id:\"blocklyTrashBodyClipPath\"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,height:BODY_HEIGHT$$module$build$src$core$trashcan,y:LID_HEIGHT$$module$build$src$core$trashcan},a);const c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,\ny:-SPRITE_TOP$$module$build$src$core$trashcan,\"clip-path\":\"url(#blocklyTrashBodyClipPath\"+b+\")\"},this.svgGroup);c.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:\"blocklyTrashLidClipPath\"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,\nheight:LID_HEIGHT$$module$build$src$core$trashcan},a);this.svgLid=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,y:-SPRITE_TOP$$module$build$src$core$trashcan,\"clip-path\":\"url(#blocklyTrashLidClipPath\"+b+\")\"},this.svgGroup);this.svgLid.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",\nthis.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);bind$$module$build$src$core$browser_events(this.svgGroup,\"pointerdown\",this,this.blockMouseDownWhenOpenable);bind$$module$build$src$core$browser_events(this.svgGroup,\"pointerup\",this,this.click);bind$$module$build$src$core$browser_events(c,\"pointerover\",this,this.mouseOver);bind$$module$build$src$core$browser_events(c,\"pointerout\",this,this.mouseOut);this.animateLid();return this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>\n0){const a=this.flyout.createDom(Svg$$module$build$src$core$utils$svg.SVG);addClass$$module$build$src$core$utils$dom(a,\"blocklyTrashcanFlyout\");insertAfter$$module$build$src$core$utils$dom(a,this.workspace.getParentSvg());this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,\nComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0;this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent(\"trashcan\");this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&\nthis.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var a=this.contents.map(function(c){return JSON.parse(c)}),b=this.workspace.getParentSvg().style;b.cursor=\"wait\";setTimeout(()=>{let c;(c=this.flyout)==null||c.show(a);b.cursor=\"\";let d;(d=this.workspace.scrollbar)==null||d.setVisible(!1)},10);this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var a;(a=this.flyout)==null||a.hide();var b;(b=this.workspace.scrollbar)==null||b.setVisible(!0);this.fireUiEvent(!1);this.workspace.recordDragTargets()}}autoHide(a){!a&&\nthis.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,a);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(WIDTH$$module$build$src$core$trashcan,BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan),\nMARGIN_HORIZONTAL$$module$build$src$core$trashcan,MARGIN_VERTICAL$$module$build$src$core$trashcan,a,this.workspace);b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,MARGIN_VERTICAL$$module$build$src$core$trashcan,c.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:bumpDirection$$module$build$src$core$positionable_helpers.UP,b);this.top=b.top;this.left=b.left;var d;(d=this.svgGroup)==null||d.setAttribute(\"transform\",\n\"translate(\"+this.left+\",\"+this.top+\")\");var e;(e=this.flyout)==null||e.position()}}getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.top,this.top+BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan,this.left,this.left+WIDTH$$module$build$src$core$trashcan)}getClientRect(){if(!this.svgGroup)return null;var a=this.svgGroup.getBoundingClientRect();const b=a.top+SPRITE_TOP$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;\na=a.left+SPRITE_LEFT$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;return new Rect$$module$build$src$core$utils$rect(b,b+LID_HEIGHT$$module$build$src$core$trashcan+BODY_HEIGHT$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan,a,a+WIDTH$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan)}onDragOver(a){this.setLidOpen(this.wouldDelete_)}onDragExit(a){this.setLidOpen(!1)}onDrop(a){setTimeout(this.setLidOpen.bind(this,\n!1),100)}setLidOpen(a){this.isLidOpen!==a&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=a,this.animateLid())}animateLid(){const a=ANIMATION_FRAMES$$module$build$src$core$trashcan;var b=1/(a+1);this.lidOpen+=this.isLidOpen?b:-b;this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1);this.setLidAngle(this.lidOpen*MAX_LID_ANGLE$$module$build$src$core$trashcan);b=OPACITY_MIN$$module$build$src$core$trashcan+this.lidOpen*(OPACITY_MAX$$module$build$src$core$trashcan-OPACITY_MIN$$module$build$src$core$trashcan);\nthis.svgGroup&&(this.svgGroup.style.opacity=`${b}`);this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),ANIMATION_LENGTH$$module$build$src$core$trashcan/a))}setLidAngle(a){const b=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let c;(c=this.svgLid)==null||c.setAttribute(\"transform\",\"rotate(\"+(b?-a:a)+\",\"+(b?4:WIDTH$$module$build$src$core$trashcan-4)+\",\"+(LID_HEIGHT$$module$build$src$core$trashcan-\n2)+\")\")}setMinOpenness(a){this.minOpenness=a;this.isLidOpen||this.setLidAngle(a*MAX_LID_ANGLE$$module$build$src$core$trashcan)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(a){a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.TRASHCAN_OPEN))(a,this.workspace.id);fire$$module$build$src$core$events$utils(a)}blockMouseDownWhenOpenable(a){!this.contentsIsOpen()&&this.hasContents()&&a.stopPropagation()}mouseOver(){this.hasContents()&&\nthis.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(a){if(!(this.workspace.options.maxTrashcanContents<=0||!isBlockDelete$$module$build$src$core$events$predicates(a)||a.wasShadow)){if(!a.oldJson)throw Error(\"Encountered a delete event without proper oldJson\");a=JSON.stringify(this.cleanBlockJson(a.oldJson));if(!this.contents.includes(a)){for(this.contents.unshift(a);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan)}}}cleanBlockJson(a){function b(c){if(c){delete c.id;\ndelete c.x;delete c.y;delete c.enabled;delete c.disabledReasons;if(c.icons&&c.icons.comment){var d=c.icons.comment;delete d.height;delete d.width;delete d.pinned}d=c.inputs;for(var e in d){var f=d[e];const g=f.block;f=f.shadow;g&&b(g);f&&b(f)}c.next&&(e=c.next,c=e.block,e=e.shadow,c&&b(c),e&&b(e))}}a=JSON.parse(JSON.stringify(a));b(a);return Object.assign({},{kind:\"BLOCK\"},a)}},WIDTH$$module$build$src$core$trashcan=47,BODY_HEIGHT$$module$build$src$core$trashcan=44,LID_HEIGHT$$module$build$src$core$trashcan=\n16,MARGIN_VERTICAL$$module$build$src$core$trashcan=20,MARGIN_HORIZONTAL$$module$build$src$core$trashcan=20,MARGIN_HOTSPOT$$module$build$src$core$trashcan=10,SPRITE_LEFT$$module$build$src$core$trashcan=0,SPRITE_TOP$$module$build$src$core$trashcan=32,HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan=.1,ANIMATION_LENGTH$$module$build$src$core$trashcan=80,ANIMATION_FRAMES$$module$build$src$core$trashcan=4,OPACITY_MIN$$module$build$src$core$trashcan=.4,OPACITY_MAX$$module$build$src$core$trashcan=.8,\nMAX_LID_ANGLE$$module$build$src$core$trashcan=45,module$build$src$core$trashcan={};module$build$src$core$trashcan.Trashcan=Trashcan$$module$build$src$core$trashcan;var stashedCopyData$$module$build$src$core$clipboard=null,stashedWorkspace$$module$build$src$core$clipboard=null,stashedCoordinates$$module$build$src$core$clipboard=void 0,module$build$src$core$clipboard={};module$build$src$core$clipboard.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard.copy=copy$$module$build$src$core$clipboard;module$build$src$core$clipboard.getLastCopiedData=getLastCopiedData$$module$build$src$core$clipboard;\nmodule$build$src$core$clipboard.getLastCopiedLocation=getLastCopiedLocation$$module$build$src$core$clipboard;module$build$src$core$clipboard.getLastCopiedWorkspace=getLastCopiedWorkspace$$module$build$src$core$clipboard;module$build$src$core$clipboard.paste=paste$$module$build$src$core$clipboard;module$build$src$core$clipboard.registry=module$build$src$core$clipboard$registry;module$build$src$core$clipboard.setLastCopiedData=setLastCopiedData$$module$build$src$core$clipboard;\nmodule$build$src$core$clipboard.setLastCopiedLocation=setLastCopiedLocation$$module$build$src$core$clipboard;module$build$src$core$clipboard.setLastCopiedWorkspace=setLastCopiedWorkspace$$module$build$src$core$clipboard;var module$build$src$core$comments={};module$build$src$core$comments.CollapseCommentBarButton=CollapseCommentBarButton$$module$build$src$core$comments$collapse_comment_bar_button;module$build$src$core$comments.CommentBarButton=CommentBarButton$$module$build$src$core$comments$comment_bar_button;module$build$src$core$comments.CommentEditor=CommentEditor$$module$build$src$core$comments$comment_editor;module$build$src$core$comments.CommentView=CommentView$$module$build$src$core$comments$comment_view;\nmodule$build$src$core$comments.DeleteCommentBarButton=DeleteCommentBarButton$$module$build$src$core$comments$delete_comment_bar_button;module$build$src$core$comments.RenderedWorkspaceComment=RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment;module$build$src$core$comments.WorkspaceComment=WorkspaceComment$$module$build$src$core$comments$workspace_comment;var module$build$src$core$interfaces$i_copyable={};module$build$src$core$interfaces$i_copyable.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;var names$$module$build$src$core$shortcut_items;(function(a){a.ESCAPE=\"escape\";a.DELETE=\"delete\";a.COPY=\"copy\";a.CUT=\"cut\";a.PASTE=\"paste\";a.UNDO=\"undo\";a.REDO=\"redo\"})(names$$module$build$src$core$shortcut_items||(names$$module$build$src$core$shortcut_items={}));registerDefaultShortcuts$$module$build$src$core$shortcut_items();var module$build$src$core$shortcut_items={};module$build$src$core$shortcut_items.names=names$$module$build$src$core$shortcut_items;\nmodule$build$src$core$shortcut_items.registerCopy=registerCopy$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerCut=registerCut$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDefaultShortcuts=registerDefaultShortcuts$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDelete=registerDelete$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerEscape=registerEscape$$module$build$src$core$shortcut_items;\nmodule$build$src$core$shortcut_items.registerPaste=registerPaste$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerRedo=registerRedo$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerUndo=registerUndo$$module$build$src$core$shortcut_items;var ProcedureSerializer$$module$build$src$core$serialization$procedures=class{constructor(a,b){this.procedureModelClass=a;this.parameterModelClass=b;this.priority=PROCEDURES$$module$build$src$core$serialization$priorities}save(a){a=a.getProcedureMap().getProcedures().map(b=>saveProcedure$$module$build$src$core$serialization$procedures(b));return a.length?a:null}load(a,b){const c=b.getProcedureMap();for(const d of a)c.add(loadProcedure$$module$build$src$core$serialization$procedures(this.procedureModelClass,\nthis.parameterModelClass,d,b))}clear(a){a.getProcedureMap().clear()}},module$build$src$core$serialization$procedures={};module$build$src$core$serialization$procedures.ProcedureSerializer=ProcedureSerializer$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.loadProcedure=loadProcedure$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.saveProcedure=saveProcedure$$module$build$src$core$serialization$procedures;var VariableSerializer$$module$build$src$core$serialization$variables=class{constructor(){this.priority=VARIABLES$$module$build$src$core$serialization$priorities}save(a){a=a.getAllVariables().map(b=>b.save());return a.length?a:null}load(a,b){const c=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.VARIABLE_MODEL,DEFAULT$$module$build$src$core$registry);a.forEach(d=>{c==null||c.load(d,b)})}clear(a){a.getVariableMap().clear()}};\nregister$$module$build$src$core$serialization$registry(\"variables\",new VariableSerializer$$module$build$src$core$serialization$variables);var module$build$src$core$serialization$variables={};module$build$src$core$serialization$variables.VariableSerializer=VariableSerializer$$module$build$src$core$serialization$variables;var module$build$src$core$serialization$workspaces={};module$build$src$core$serialization$workspaces.load=load$$module$build$src$core$serialization$workspaces;module$build$src$core$serialization$workspaces.save=save$$module$build$src$core$serialization$workspaces;var module$build$src$core$serialization={blocks:module$build$src$core$serialization$blocks,exceptions:module$build$src$core$serialization$exceptions,priorities:module$build$src$core$serialization$priorities,procedures:module$build$src$core$serialization$procedures,registry:module$build$src$core$serialization$registry,variables:module$build$src$core$serialization$variables,workspaceComments:module$build$src$core$serialization$workspace_comments,workspaces:module$build$src$core$serialization$workspaces};\"Blockly\"in globalThis||(globalThis.Blockly={Msg:module$build$src$core$msg});var module$build$src$core$main={};var LABEL_TYPE$$module$build$src$core$label_flyout_inflater=\"label\",LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater=class{load(a,b){a=new FlyoutButton$$module$build$src$core$flyout_button(b.getWorkspace(),b.targetWorkspace,a,!0);a.show();return new FlyoutItem$$module$build$src$core$flyout_item(a,LABEL_TYPE$$module$build$src$core$label_flyout_inflater)}gapForItem(a,b){return b}disposeItem(a){a=a.getElement();a instanceof FlyoutButton$$module$build$src$core$flyout_button&&a.dispose()}getType(){return LABEL_TYPE$$module$build$src$core$label_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,LABEL_TYPE$$module$build$src$core$label_flyout_inflater,LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater);var module$build$src$core$label_flyout_inflater={};module$build$src$core$label_flyout_inflater.LabelFlyoutInflater=LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater;var ConstantProvider$$module$build$src$core$renderers$zelos$constants=class extends ConstantProvider$$module$build$src$core$renderers$common$constants{constructor(a){super();this.GRID_UNIT=4;this.CURSOR_COLOUR=\"#ffa200\";this.CURSOR_RADIUS=5;this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0;this.START_HAT_HEIGHT=22;this.START_HAT_WIDTH=96;this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5};this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},\n2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}};this.FULL_BLOCK_FIELDS=!0;this.FIELD_TEXT_FONTWEIGHT=\"bold\";this.FIELD_TEXT_FONTFAMILY='\"Helvetica Neue\", \"Segoe UI\", Helvetica, sans-serif';this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0;this.SELECTED_GLOW_COLOUR=\"#fff200\";\nthis.SELECTED_GLOW_SIZE=.5;this.REPLACEMENT_GLOW_COLOUR=\"#fff200\";this.REPLACEMENT_GLOW_SIZE=2;this.selectedGlowFilterId=\"\";this.selectedGlowFilter=null;this.replacementGlowFilterId=\"\";this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null;a&&(this.GRID_UNIT=a);this.SMALL_PADDING=this.GRID_UNIT;this.MEDIUM_PADDING=2*this.GRID_UNIT;this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT;this.LARGE_PADDING=4*this.GRID_UNIT;this.CORNER_RADIUS=1*this.GRID_UNIT;this.NOTCH_WIDTH=9*this.GRID_UNIT;this.NOTCH_HEIGHT=\n2*this.GRID_UNIT;this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT;this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT;this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT;this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT;this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT;this.STATEMENT_INPUT_SPACER_MIN_WIDTH=\n40*this.GRID_UNIT;this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT;this.CURSOR_WS_WIDTH=20*this.GRID_UNIT;this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT;this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS;this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT;this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT;this.FIELD_BORDER_RECT_HEIGHT=\n8*this.GRID_UNIT;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT;this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT;this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT;this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT;this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(a){super.setFontConstants_(a);this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*\n2}init(){super.init();this.HEXAGONAL=this.makeHexagonal();this.ROUNDED=this.makeRounded();this.SQUARED=this.makeSquared();this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(a){super.setDynamicProperties_(a);this.SELECTED_GLOW_COLOUR=a.getComponentStyle(\"selectedGlowColour\")||this.SELECTED_GLOW_COLOUR;const b=Number(a.getComponentStyle(\"selectedGlowSize\"));this.SELECTED_GLOW_SIZE=b&&!isNaN(b)?b:this.SELECTED_GLOW_SIZE;this.REPLACEMENT_GLOW_COLOUR=\na.getComponentStyle(\"replacementGlowColour\")||this.REPLACEMENT_GLOW_COLOUR;this.REPLACEMENT_GLOW_SIZE=(a=Number(a.getComponentStyle(\"replacementGlowSize\")))&&!isNaN(a)?a:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose();this.selectedGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.selectedGlowFilter);this.replacementGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.replacementGlowFilter)}makeStartHat(){const a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(25,-a),point$$module$build$src$core$utils$svg_paths(71,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a*.75,width:b,path:c}}makeHexagonal(){function a(c,d,e){var f=c/2;f=f>b?b:f;e=e?-1:1;c=(d?-1:1)*c/2;return lineTo$$module$build$src$core$utils$svg_paths(-e*f,c)+lineTo$$module$build$src$core$utils$svg_paths(e*f,c)}const b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(c){c/=2;return c>\nb?b:c},height(c){return c},connectionOffsetY(c){return c/2},connectionOffsetX(c){return-c},pathDown(c){return a(c,!1,!1)},pathUp(c){return a(c,!0,!1)},pathRightDown(c){return a(c,!1,!0)},pathRightUp(c){return a(c,!1,!0)}}}makeRounded(){function a(d,e,f){const g=d>c?d-c:0;d=(d>c?c:d)/2;const h=f===e?\"0\":\"1\";return arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+h,d,point$$module$build$src$core$utils$svg_paths((f?1:-1)*d,(e?-1:1)*d))+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",(e?-1:\n1)*g)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+h,d,point$$module$build$src$core$utils$svg_paths((f?-1:1)*d,(e?-1:1)*d))}const b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=b*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){d/=2;return d>b?b:d},height(d){return d},connectionOffsetY(d){return d/2},connectionOffsetX(d){return-d},pathDown(d){return a(d,!1,!1)},pathUp(d){return a(d,!0,!1)},pathRightDown(d){return a(d,!1,!0)},pathRightUp(d){return a(d,!1,!0)}}}makeSquared(){function a(c,\nd,e){c-=b*2;const f=e===d?\"0\":\"1\";return arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+f,b,point$$module$build$src$core$utils$svg_paths((e?1:-1)*b,(d?-1:1)*b))+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",(d?-1:1)*c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,\"+f,b,point$$module$build$src$core$utils$svg_paths((e?-1:1)*b,(d?-1:1)*b))}const b=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(c){return b},height(c){return c},connectionOffsetY(c){return c/\n2},connectionOffsetX(c){return-c},pathDown(c){return a(c,!1,!1)},pathUp(c){return a(c,!0,!1)},pathRightDown(c){return a(c,!1,!0)},pathRightUp(c){return a(c,!1,!0)}}}shapeFor(a){let b=a.getCheck();!b&&a.targetConnection&&(b=a.targetConnection.getCheck());switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:a=a.getSourceBlock().getOutputShape();if(a!==null)switch(a){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;\ncase this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}if(b&&b.includes(\"Boolean\"))return this.HEXAGONAL;if(b&&b.includes(\"Number\"))return this.ROUNDED;b&&b.includes(\"String\");return this.ROUNDED;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error(\"Unknown type\");}}makeNotch(){function a(l){return curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e,g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,f)])+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e/2,g),point$$module$build$src$core$utils$svg_paths(l*e,g)])+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\nl*d)+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e,-g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,-f)])+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(l*e/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e/2,-g),point$$module$build$src$core$utils$svg_paths(l*\ne,-g)])}const b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=b/3,e=d/3,f=c/2,g=f/2,h=a(1),k=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:h,pathRight:k}}makeInsideCorners(){const a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(-a,a)),d=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(a,\na)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a,point$$module$build$src$core$utils$svg_paths(a,a));return{width:a,height:a,pathTop:b,pathBottom:d,rightWidth:a,rightHeight:a,pathTopRight:c,pathBottomRight:e}}generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#000\",a,.15)||a}generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour(\"#000\",a,.25)||a}createDom(a,b,c,d){super.createDom(a,b,c,d);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,\n{},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklySelectedGlowFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceGraphic\",stdDeviation:this.SELECTED_GLOW_SIZE},b);c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:\"outBlur\"},b);\ncreateSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},c);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":this.SELECTED_GLOW_COLOUR,\"flood-opacity\":1,result:\"outColor\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",result:\"outGlow\"},b);\nthis.selectedGlowFilterId=b.id;this.selectedGlowFilter=b;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:\"blocklyReplacementGlowFilter\"+this.randomIdentifier,height:\"160%\",width:\"180%\",y:\"-30%\",x:\"-40%\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{\"in\":\"SourceGraphic\",stdDeviation:this.REPLACEMENT_GLOW_SIZE},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,\n{result:\"outBlur\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:\"table\",tableValues:\"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{\"flood-color\":this.REPLACEMENT_GLOW_COLOUR,\"flood-opacity\":1,result:\"outColor\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"outColor\",in2:\"outBlur\",operator:\"in\",\nresult:\"outGlow\"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{\"in\":\"SourceGraphic\",in2:\"outGlow\",operator:\"over\"},a);this.replacementGlowFilterId=a.id;this.replacementGlowFilter=a;d&&(d.style.setProperty(\"--blocklySelectedGlowFilter\",`url(#${this.selectedGlowFilterId})`),d.style.setProperty(\"--blocklyReplacementGlowFilter\",`url(#${this.replacementGlowFilterId})`))}getCSS_(a){return[`${a} .blocklyText,`,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}`+\n`pt ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a} .blocklyTextInputBubble textarea {`,\"font-weight: normal;\",\"}\",`${a} .blocklyText {`,\"fill: #fff;\",\"}\",`${a} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${a} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,\"}\",`${a} .blocklyNonEditableField>text,`,`${a} .blocklyEditableField>text,`,`${a} .blocklyNonEditableField>g>text,`,`${a} .blocklyEditableField>g>text {`,\"fill: #575E75;\",\"}\",`${a} .blocklyFlyoutLabelText {`,\n\"fill: #575E75;\",\"}\",`${a} .blocklyText.blocklyBubbleText {`,\"fill: #575E75;\",\"}\",`${a} .blocklyDraggable:not(.blocklyDisabled)`,\" .blocklyEditableField:not(.blocklyEditing):hover>rect,\",`${a} .blocklyDraggable:not(.blocklyDisabled)`,\" .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {\",\"stroke: #fff;\",\"stroke-width: 2;\",\"}\",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,\"color: #575E75;\",\"}\",`${a} .blocklyDropdownText {`,\n\"fill: #fff !important;\",\"}\",`${a}.blocklyWidgetDiv .blocklyMenuItem,`,`${a}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,\"}\",`${a}.blocklyDropDownDiv .blocklyMenuItemContent {`,\"color: #fff;\",\"}\",`${a} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,\"}\",`${a} .blocklyDisabledPattern > .blocklyOutlinePath {`,\"fill: var(--blocklyDisabledPattern)\",\"}\",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\n\"stroke: none;\",\"}\",`${a} .blocklySelected>.blocklyPath.blocklyPathSelected {`,\"fill: none;\",\"filter: var(--blocklySelectedGlowFilter);\",\"}\",`${a} .blocklyReplaceable>.blocklyPath {`,\"filter: var(--blocklyReplacementGlowFilter);\",\"}\"]}},module$build$src$core$renderers$zelos$constants={};module$build$src$core$renderers$zelos$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;var Drawer$$module$build$src$core$renderers$zelos$drawer=class extends Drawer$$module$build$src$core$renderers$common$drawer{constructor(a,b){super(a,b)}draw(){const a=this.block_.pathObject;a.beginDrawing();this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();a.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_();this.info_.outputConnection&&(a.outputShapeType=this.info_.outputConnection.shape.type);a.endDrawing()}drawOutline_(){this.info_.outputConnection&&\nthis.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(a){if(!(a.height<=0)){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(a)){const d=\na.precedesStatement;var b=a.followsStatement;if(d||b){const e=this.constants_.INSIDE_CORNERS;var c=e.rightHeight;c=a.height-(d?c:0);b=b?e.pathBottomRight:\"\";a=c>0?lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+c):\"\";this.outlinePath_+=b+a+(d?e.pathTopRight:\"\");return}}this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+a.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error(\"Cannot draw the output connection of a block that doesn't have one\");\nthis.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error(\"Cannot draw the output connection of a block that doesn't have one\");this.positionOutputConnection_();this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);this.outlinePath_+=\"z\"}drawFlatTop_(){const a=this.info_.topRow;this.positionPreviousConnection_();this.outlinePath_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,\nthis.info_.startY);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",a.width)}drawFlatBottom_(){const a=this.info_.bottomRow;this.positionNextConnection_();this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-a.width)}drawInlineInput_(a){this.positionInlineInputConnection_(a);const b=a.input.name;a.connectedBlock||this.info_.isInsertionMarker||(a=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+\na.connectionWidth,a.centerline-a.height/2)+this.getInlineInputPath(a),this.block_.pathObject.setOutlinePath(b,a))}getInlineInputPath(a){const b=a.width-a.connectionWidth*2,c=a.height;return lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b)+a.shape.pathRightDown(c)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-b)+a.shape.pathUp(c)+\"z\"}drawStatementInput_(a){var b=a.getLastInput();const c=b.xPos+b.notchOffset+b.shape.width,d=this.constants_.INSIDE_CORNERS,e=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",\n-(b.notchOffset-d.width))+d.pathTop,f=a.height-2*d.height;b=d.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",b.notchOffset-d.width)+(b.connectedBottomNextConnection?\"\":b.shape.pathLeft);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c)+e+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",f)+b+lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width);this.positionStatementInputConnection_(a)}drawConnectionHighlightPath(a){const b=a.connectionModel;\nif(b.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&!a.isDynamicShape)return super.drawConnectionHighlightPath(a);a=b.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE?moveTo$$module$build$src$core$utils$svg_paths(a.connectionWidth,-a.height/2)+this.getInlineInputPath(a):moveTo$$module$build$src$core$utils$svg_paths(a.width,\n-a.height/2)+a.shape.pathDown(a.height);const c=b.getSourceBlock();let d,e;return(e=(d=c.pathObject).addConnectionHighlight)==null?void 0:e.call(d,b,a,b.getOffsetInBlock(),c.RTL)}},module$build$src$core$renderers$zelos$drawer={};module$build$src$core$renderers$zelos$drawer.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;var FieldImage$$module$build$src$core$field_image=class extends Field$$module$build$src$core$field{constructor(a,b,c,d,e,f,g){super(Field$$module$build$src$core$field.SKIP_SETUP);this.imageElement=this.clickHandler=null;this.flipRtl=this.isDirty_=this.EDITABLE=!1;this.altText=\"\";c=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(c));b=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(b));if(isNaN(c)||isNaN(b))throw Error(\"Height and width values of an image field must cast to numbers.\");\nif(c<=0||b<=0)throw Error(\"Height and width values of an image field must be greater than 0.\");this.size_=new Size$$module$build$src$core$utils$size(b,c+FieldImage$$module$build$src$core$field_image.Y_PADDING);this.imageHeight=c;typeof e===\"function\"&&(this.clickHandler=e);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(g?this.configure_(g):(this.flipRtl=!!f,this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(d)||\"\"),this.setValue(replaceMessageReferences$$module$build$src$core$utils$parsing(a)))}configure_(a){super.configure_(a);\na.flipRtl&&(this.flipRtl=a.flipRtl);a.alt&&(this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(a.alt))}initView(){this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.imageHeight+\"px\",width:this.size_.width+\"px\",alt:this.altText},this.fieldGroup_);this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.value_);this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\n\"blocklyImageField\");this.clickHandler&&(this.imageElement.style.cursor=\"pointer\")}updateSize_(){}doClassValidation_(a){return typeof a!==\"string\"?null:a}doValueUpdate_(a){this.value_=a;this.imageElement&&this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,\"xlink:href\",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(a){a!==this.altText&&(this.altText=a||\"\",this.imageElement&&this.imageElement.setAttribute(\"alt\",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&\nthis.clickHandler(this)}setOnClickHandler(a){this.clickHandler=a}getText_(){return this.altText}static fromJson(a){if(!a.src||!a.width||!a.height)throw Error(\"src, width, and height values for an image field arerequired. The width and height must be non-zero.\");return new this(a.src,a.width,a.height,void 0,void 0,void 0,a)}};FieldImage$$module$build$src$core$field_image.Y_PADDING=1;register$$module$build$src$core$field_registry(\"field_image\",FieldImage$$module$build$src$core$field_image);\nFieldImage$$module$build$src$core$field_image.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_image={};module$build$src$core$field_image.FieldImage=FieldImage$$module$build$src$core$field_image;var MINIMUM_WIDTH$$module$build$src$core$field_input=14,FieldInput$$module$build$src$core$field_input=class extends Field$$module$build$src$core$field{set size_(a){super.size_=a}get size_(){const a=super.size_;a.width<MINIMUM_WIDTH$$module$build$src$core$field_input&&(a.width=MINIMUM_WIDTH$$module$build$src$core$field_input);return a}constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.spellcheck_=!0;this.htmlInput_=null;this.isTextValid_=this.isBeingEdited_=!1;this.onInputWrapper=\nthis.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null;this.fullBlockClickTarget_=!1;this.workspace_=null;this.SERIALIZABLE=!0;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){super.configure_(a);a.spellcheck!==void 0&&(this.spellcheck_=a.spellcheck)}initView(){if(!this.getSourceBlock())throw new UnattachedFieldError$$module$build$src$core$field;super.initView();this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot());\nthis.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyInputField\")}isFullBlockField(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;let b;return this.fullBlockClickTarget_=!((b=this.getConstants())==null||!b.FULL_BLOCK_FIELDS)&&a.isSimpleReporter()}doValueInvalid_(a,b=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,a=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&\nthis.value_!==a&&b&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock_,\"field\",this.name||null,a,this.value_)))}doValueUpdate_(a){this.isTextValid_=this.isDirty_=!0;this.value_=a}applyColour(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?\n(this.borderRect_.style.display=\"block\",this.borderRect_.setAttribute(\"stroke\",a.getColourTertiary())):(this.borderRect_.style.display=\"none\",a.pathObject.svgPath.setAttribute(\"fill\",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let a;if((a=this.getConstants())==null?0:a.FULL_BLOCK_FIELDS)this.render_(),this.isDirty_=!1;return super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){super.render_();if(this.isBeingEdited_){var a=this.htmlInput_;this.isTextValid_?\n(removeClass$$module$build$src$core$utils$dom(a,\"blocklyInvalidInput\"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!1)):(addClass$$module$build$src$core$utils$dom(a,\"blocklyInvalidInput\"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!0))}a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.getConstants().FULL_BLOCK_FIELDS&&a.applyColour()}setSpellcheck(a){a!==\nthis.spellcheck_&&(this.spellcheck_=a,this.htmlInput_&&this.htmlInput_.setAttribute(\"spellcheck\",this.spellcheck_))}showEditor_(a,b=!1,c=!0){this.workspace_=this.sourceBlock_.workspace;!b&&this.workspace_.options.modalInputs&&(MOBILE$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent||IPAD$$module$build$src$core$utils$useragent)?this.showPromptEditor():this.showInlineEditor(b,c)}showPromptEditor(){prompt$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,\nthis.getText(),a=>{a!==null&&this.setValue(this.getValueFromEditorText_(a));this.onFinishEditing_(this.value_)})}showInlineEditor(a,b){const c=this.getSourceBlock();if(!c)throw new UnattachedFieldError$$module$build$src$core$field;show$$module$build$src$core$widgetdiv(this,c.RTL,this.widgetDispose_.bind(this),this.workspace_,b);this.htmlInput_=this.widgetCreate_();this.isBeingEdited_=!0;this.valueWhenEditorWasOpened_=this.value_;a||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var a=\nthis.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;$.setGroup$$module$build$src$core$events$utils(!0);const b=getDiv$$module$build$src$core$widgetdiv();var c=this.getClickTarget_();if(!c)throw Error(\"A click target has not been set.\");addClass$$module$build$src$core$utils$dom(c,\"blocklyEditing\");c=document.createElement(\"input\");c.className=\"blocklyHtmlInput\";c.setAttribute(\"spellcheck\",this.spellcheck_);const d=this.workspace_.getAbsoluteScale();var e=this.getConstants().FIELD_TEXT_FONTSIZE*\nd+\"pt\";b.style.fontSize=e;c.style.fontSize=e;e=FieldInput$$module$build$src$core$field_input.BORDERRADIUS*d+\"px\";this.isFullBlockField()&&(e=this.getScaledBBox(),e=(e.bottom-e.top)/2+\"px\",a=a.getParent()?a.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),c.style.border=1*d+\"px solid \"+a,b.style.borderRadius=e,b.style.transition=\"box-shadow 0.25s ease 0s\",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(b.style.boxShadow=\"rgba(255, 255, 255, 0.3) 0 0 0 \"+4*d+\"px\"));c.style.borderRadius=\ne;b.appendChild(c);c.value=c.defaultValue=this.getEditorText_(this.value_);c.setAttribute(\"data-untyped-default-value\",String(this.value_));this.resizeEditor_();this.bindInputEvents_(c);return c}widgetDispose_(){this.isBeingEdited_=!1;this.isTextValid_=!0;this.forceRerender();this.onFinishEditing_(this.value_);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_CHANGE))(this.sourceBlock_,\n\"field\",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null);$.setGroup$$module$build$src$core$events$utils(!1);this.unbindInputEvents_();var a=getDiv$$module$build$src$core$widgetdiv().style;a.width=\"auto\";a.height=\"auto\";a.fontSize=\"\";a.transition=\"\";a.boxShadow=\"\";this.htmlInput_=null;a=this.getClickTarget_();if(!a)throw Error(\"A click target has not been set.\");removeClass$$module$build$src$core$utils$dom(a,\"blocklyEditing\")}onFinishEditing_(a){}bindInputEvents_(a){this.onKeyDownWrapper=\nconditionalBind$$module$build$src$core$browser_events(a,\"keydown\",this,this.onHtmlInputKeyDown_);this.onInputWrapper=conditionalBind$$module$build$src$core$browser_events(a,\"input\",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(unbind$$module$build$src$core$browser_events(this.onKeyDownWrapper),this.onKeyDownWrapper=null);this.onInputWrapper&&(unbind$$module$build$src$core$browser_events(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(a){if(a.key===\"Enter\")hideIfOwner$$module$build$src$core$widgetdiv(this),\nhideWithoutAnimation$$module$build$src$core$dropdowndiv();else if(a.key===\"Escape\")this.setValue(this.htmlInput_.getAttribute(\"data-untyped-default-value\"),!1),hideIfOwner$$module$build$src$core$widgetdiv(this),hideWithoutAnimation$$module$build$src$core$dropdowndiv();else if(a.key===\"Tab\"){a.preventDefault();var b,c=(b=this.workspace_)==null?void 0:b.getCursor();b=d=>(d instanceof FieldInput$$module$build$src$core$field_input||d instanceof BlockSvg$$module$build$src$core$block_svg&&d.isSimpleReporter())&&\nd!==this.getSourceBlock();a=a.shiftKey?c==null?void 0:c.getPreviousNode(this,b,!1):c==null?void 0:c.getNextNode(this,b,!1);a=a instanceof BlockSvg$$module$build$src$core$block_svg&&a.isSimpleReporter()?a.getFields().next().value:a;a instanceof FieldInput$$module$build$src$core$field_input&&(hideIfOwner$$module$build$src$core$widgetdiv(this),hideWithoutAnimation$$module$build$src$core$dropdowndiv(),c=a.getSourceBlock(),a.isFullBlockField()&&c&&c instanceof BlockSvg$$module$build$src$core$block_svg?\n$.getFocusManager$$module$build$src$core$focus_manager().focusNode(c):$.getFocusManager$$module$build$src$core$focus_manager().focusNode(a),a.showEditor())}}onHtmlInputChange(a){a=this.value_;this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.value_!==a&&fire$$module$build$src$core$events$utils(new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,\nthis.name||null,a,this.value_))}setEditorValue_(a,b=!0){this.isDirty_=!0;this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(a));this.setValue(a,b)}resizeEditor_(){finishQueuedRenders$$module$build$src$core$render_management().then(()=>{const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;const b=getDiv$$module$build$src$core$widgetdiv(),c=this.getScaledBBox();b.style.width=c.right-c.left+\"px\";b.style.height=c.bottom-c.top+\"px\";const d=c.top;\nb.style.left=`${a.RTL?c.right-b.offsetWidth:c.left}px`;b.style.top=`${d}px`})}repositionForWindowResize(){let a;const b=(a=this.getSourceBlock())==null?void 0:a.getRootBlock();if(!(b instanceof BlockSvg$$module$build$src$core$block_svg))return!1;bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),b)||this.resizeEditor_();return!0}positionTextElement_(a,b){const c=a*2+b;super.positionTextElement_(a+(c<MINIMUM_WIDTH$$module$build$src$core$field_input?\n(MINIMUM_WIDTH$$module$build$src$core$field_input-c)/2:0),b)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(a){return`${a}`}getValueFromEditorText_(a){return a}};FieldInput$$module$build$src$core$field_input.BORDERRADIUS=4;var module$build$src$core$field_input={};module$build$src$core$field_input.FieldInput=FieldInput$$module$build$src$core$field_input;$.FieldTextInput$$module$build$src$core$field_textinput=class extends FieldInput$$module$build$src$core$field_input{constructor(a,b,c){super(a,b,c)}initView(){super.initView();this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyTextInputField\")}doClassValidation_(a){return a===void 0?null:`${a}`}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};\nregister$$module$build$src$core$field_registry(\"field_input\",$.FieldTextInput$$module$build$src$core$field_textinput);$.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE=\"\";var module$build$src$core$field_textinput={};module$build$src$core$field_textinput.FieldTextInput=$.FieldTextInput$$module$build$src$core$field_textinput;var BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row=class extends BottomRow$$module$build$src$core$renderers$measurables$bottom_row{constructor(a){super(a)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(a){return!!a.outputConnection}hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection}},module$build$src$core$renderers$zelos$measurables$bottom_row={};module$build$src$core$renderers$zelos$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;var StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs=class extends StatementInput$$module$build$src$core$renderers$measurables$statement_input{constructor(a,b){super(a,b);this.connectedBottomNextConnection=!1;if(this.connectedBlock){for(a=this.connectedBlock;b=a.getNextBlock();)a=b;a.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},module$build$src$core$renderers$zelos$measurables$inputs={};\nmodule$build$src$core$renderers$zelos$measurables$inputs.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;var RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements=class extends Measurable$$module$build$src$core$renderers$measurables$base{constructor(a){super(a);this.width=this.height=0;this.type|=Types$$module$build$src$core$renderers$measurables$types.getType(\"RIGHT_CONNECTION\")}},module$build$src$core$renderers$zelos$measurables$row_elements={};module$build$src$core$renderers$zelos$measurables$row_elements.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;var TopRow$$module$build$src$core$renderers$zelos$measurables$top_row=class extends TopRow$$module$build$src$core$renderers$measurables$top_row{constructor(a){super(a)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(a){const b=(a.hat?a.hat===\"cap\":this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection;return!!a.outputConnection||b}hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection}},module$build$src$core$renderers$zelos$measurables$top_row=\n{};module$build$src$core$renderers$zelos$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;var RenderInfo$$module$build$src$core$renderers$zelos$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b);this.isInline=!0;this.renderer_=a;this.constants_=this.renderer_.getConstants();this.topRow=new TopRow$$module$build$src$core$renderers$zelos$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row(this.constants_);this.isMultiRow=!b.getInputsInline()||b.isCollapsed();this.hasStatementInput=\nb.statementInputCount>0;this.rightSide=this.outputConnection?new RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements(this.constants_):null;this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.adjustXPosition_();this.computeBounds_();this.alignRowElements_();this.finalize_()}shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||\na instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(a){return a.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||\n0):super.getDesiredRowWidth_(a)}getInRowSpacing_(a,b){return a&&b||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?\nb.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isHat(b)||a&&Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;\nconst c=Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement,d=Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement;return d||c?(a=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&c?Math.max(a,this.constants_.DUMMY_INPUT_MIN_HEIGHT):a):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?a.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:\nMath.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.outputConnection?!b.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(a,b){const c=this.width-\nthis.startX;return Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement||Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement?Math.max(c,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):c}getElemCenterline_(a,b){if(a.hasStatement&&!Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)&&!Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return a.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/\n2;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)){const c=b.connectedBlock;if(c&&c.outputConnection&&c.nextConnection)return a.yPos+c.height/2}return super.getElemCenterline_(a,b)}addInput_(a,b){if((a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)&&b.hasDummyInput&&b.align===$.Align$$module$build$src$core$inputs$align.LEFT&&a.align===$.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(b,\na);else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input){b.elements.push(new StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs(this.constants_,a));b.hasStatement=!0;b.align===null&&(b.align=a.align);return}super.addInput_(a,b)}addAlignmentPadding_(a,b){if(this.rightAlignedDummyInputs.get(a)){let c;for(let d=0;d<a.elements.length;d++){const e=a.elements[d];Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)&&(c=e);if(Types$$module$build$src$core$renderers$measurables$types.isField(e)&&\ne.parentInput===this.rightAlignedDummyInputs.get(a))break}if(c){c.width+=b;a.width+=b;return}}super.addAlignmentPadding_(a,b)}adjustXPosition_(){const a=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let b=a;for(let e=2;e<this.rows.length-1;e+=2){var c=this.rows[e-1];const f=this.rows[e];var d=this.rows[e+1];c=e===2?!!this.topRow.hasPreviousConnection:!!c.followsStatement;d=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement;if(Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&\nf.hasStatement){f.measure();let g,h;b=f.width-((h=(g=f.getLastInput())==null?void 0:g.width)!=null?h:0)+a}else if(c&&(e===2||d)&&Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&!f.hasStatement){d=f.xPos;c=null;for(let g=0;g<f.elements.length;g++){const h=f.elements[g];Types$$module$build$src$core$renderers$measurables$types.isSpacer(h)&&(c=h);!(c&&(Types$$module$build$src$core$renderers$measurables$types.isField(h)||Types$$module$build$src$core$renderers$measurables$types.isInput(h))&&\nd<b)||Types$$module$build$src$core$renderers$measurables$types.isField(h)&&(h.field instanceof FieldLabel$$module$build$src$core$field_label||h.field instanceof FieldImage$$module$build$src$core$field_image)||(c.width+=b-d);d+=h.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var a=this.outputConnection.shape;if(\"isDynamic\"in a&&a.isDynamic){var b=0;for(var c=0;c<this.rows.length;c++){const d=this.rows[c];d.yPos=b;b+=d.height}this.height=b;c=this.bottomRow.hasNextConnection?\nthis.height-this.bottomRow.descenderHeight:this.height;b=a.height(c);c=a.width(c);this.outputConnection.height=b;this.outputConnection.width=c;this.outputConnection.startX=c;this.outputConnection.connectionOffsetY=a.connectionOffsetY(b);this.outputConnection.connectionOffsetX=a.connectionOffsetX(c);a=0;this.hasStatementInput||this.bottomRow.hasNextConnection||(a=c,this.rightSide.height=b,this.rightSide.width=a,this.rightSide.centerline=b/2,this.rightSide.xPos=this.width+a);this.startX=c;this.width+=\nc+a;this.widthWithChildren+=c+a}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){var a=0;for(var b=0;b<this.rows.length;b++){var c=this.rows[b];if(!Types$$module$build$src$core$renderers$measurables$types.isInputRow(c))continue;a=c.elements[c.elements.length-2];let d=this.getNegativeSpacing_(c.elements[1]),e=this.getNegativeSpacing_(a);a=d+e;const f=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-a<f&&(a=\nthis.width-f,d=a/2,e=a/2);c.elements.unshift(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-d));c.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-e))}if(a)for(this.width-=a,this.widthWithChildren-=a,this.rightSide.xPos-=a,b=0;b<this.rows.length;b++)c=this.rows[b],Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.elements[1].width-=a),c.width-=a,c.widthWithConnectedBlocks-=\na}}getNegativeSpacing_(a){if(!a||!this.outputConnection)return 0;const b=this.outputConnection.width;var c=this.outputConnection.shape.type;const d=this.constants_;if(this.inputRows.length>1)switch(c){case d.SHAPES.ROUND:return c=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=this.height/2>c?c:this.height/2,b-c*(1-Math.sin(Math.acos((c-this.constants_.SMALL_PADDING)/c)));default:return 0}if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)){const e=a.connectedBlock;a=\ne?e.pathObject.outputShapeType:a.shape.type;return a==null||e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||c===d.SHAPES.HEXAGONAL&&c!==a?0:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][a]}return Types$$module$build$src$core$renderers$measurables$types.isField(a)?c===d.SHAPES.ROUND&&a.field instanceof $.FieldTextInput$$module$build$src$core$field_textinput?b-2.75*d.GRID_UNIT:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][0]:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?\nthis.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let d=2;d<this.rows.length-1;d+=2){const e=this.rows[d-1],f=this.rows[d],g=this.rows[d+1];var a=d===2,b=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!g.precedesStatement;if(a?this.topRow.hasPreviousConnection:e.followsStatement){var c=f.elements[1];c=f.elements.length===3&&c instanceof Field$$module$build$src$core$renderers$measurables$field&&(c.field instanceof FieldLabel$$module$build$src$core$field_label||\nc.field instanceof FieldImage$$module$build$src$core$field_image);if(!a&&c)e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.MEDIUM_PADDING;else if(!a&&!b)e.height+=this.constants_.SMALL_PADDING;else if(b){a=!1;for(b=0;b<f.elements.length;b++)if(c=f.elements[b],Types$$module$build$src$core$renderers$measurables$types.isInlineInput(c)&&c.connectedBlock&&!c.connectedBlock.isShadow()&&c.connectedBlock.getHeightWidth().height>=40){a=!0;break}a&&\n(e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_();this.finalizeHorizontalAlignment_();this.finalizeVerticalAlignment_();super.finalize_();this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},module$build$src$core$renderers$zelos$info={};module$build$src$core$renderers$zelos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;var PathObject$$module$build$src$core$renderers$zelos$path_object=class extends PathObject$$module$build$src$core$renderers$common$path_object{constructor(a,b,c){super(a,b,c);this.svgPathSelected=null;this.outlines=new Map;this.remainingOutlines=new Set;this.outputShapeType=null;this.constants=c}setPath(a){super.setPath(a);this.svgPathSelected&&this.svgPathSelected.setAttribute(\"d\",a)}applyColour(a){super.applyColour(a);const b=a.getParent();a.isShadow()&&b&&this.svgPath.setAttribute(\"stroke\",b.getColourTertiary());\nfor(const c of this.outlines.values())c.setAttribute(\"fill\",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const a of this.outlines.values())a.setAttribute(\"transform\",\"scale(-1 1)\")}updateSelected(a){this.setClass_(\"blocklySelected\",a);a?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add(\"blocklyPathSelected\"),removeClass$$module$build$src$core$utils$dom(this.svgPathSelected,FocusManager$$module$build$src$core$focus_manager.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),\nremoveClass$$module$build$src$core$utils$dom(this.svgPathSelected,FocusManager$$module$build$src$core$focus_manager.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute(\"tabindex\"),this.svgPathSelected.removeAttribute(\"id\"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(a){this.setClass_(\"blocklyReplaceable\",a)}updateShapeForInputHighlight(a,b){a=a.getParentInput().name;\n(a=this.getOutlinePath(a))&&(b?a.setAttribute(\"filter\",\"url(#\"+this.constants.replacementGlowFilterId+\")\"):a.removeAttribute(\"filter\"))}beginDrawing(){this.remainingOutlines.clear();for(const a of this.outlines.keys())this.remainingOutlines.add(a)}endDrawing(){if(this.remainingOutlines.size)for(const a of this.remainingOutlines)this.removeOutlinePath(a);this.remainingOutlines.clear()}setOutlinePath(a,b){a=this.getOutlinePath(a);a.setAttribute(\"d\",b);a.setAttribute(\"fill\",this.style.colourTertiary)}getOutlinePath(a){this.outlines.has(a)||\nthis.outlines.set(a,createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyOutlinePath\",d:\"\"},this.svgRoot));this.remainingOutlines.delete(a);return this.outlines.get(a)}removeOutlinePath(a){let b,c;(b=this.outlines.get(a))==null||(c=b.parentNode)==null||c.removeChild(this.outlines.get(a));this.outlines.delete(a)}},module$build$src$core$renderers$zelos$path_object={};module$build$src$core$renderers$zelos$path_object.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;var Renderer$$module$build$src$core$renderers$zelos$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a)}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$zelos$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$zelos$info(this,a)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$zelos$drawer(a,b)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$zelos$path_object(a,\nb,this.getConstants())}getConstants(){return this.constants_}};register$$module$build$src$core$renderers$common$block_rendering(\"zelos\",Renderer$$module$build$src$core$renderers$zelos$renderer);var module$build$src$core$renderers$zelos$renderer={};module$build$src$core$renderers$zelos$renderer.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;var InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer=class{constructor(a){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null;this.workspace=a.workspace}previewReplacement(a,b,c){$.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=c,c.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(b)&&(b.highlight(),this.staticConn=b)}finally{$.enable$$module$build$src$core$events$utils()}}previewConnection(a,\nb){if(a!==this.draggedConn||b!==this.staticConn){$.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(a,b)&&(this.markerConn=this.previewMarker(a,b)),this.workspace.getRenderer().shouldHighlightConnection(b)&&b.highlight(),this.draggedConn=a,this.staticConn=b}finally{$.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(a,b){return b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT||b.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||\n!(this.workspace.getRenderer()instanceof Renderer$$module$build$src$core$renderers$zelos$renderer)}previewMarker(a,b){const c=a.getSourceBlock(),d=this.createInsertionMarker(c),e=this.getMatchingConnection(c,d,a);if(!e)return null;d.queueRender();triggerQueuedRenders$$module$build$src$core$render_management();e.connect(b);const f={x:b.x-e.x,y:b.y-e.y},g=e.getOffsetInBlock().clone();finishQueuedRenders$$module$build$src$core$render_management().then(()=>{if(!d.isDeadOrDying()){$.disable$$module$build$src$core$events$utils();\ntry{d==null||d.positionNearConnection(e,f,g),d==null||d.getSvgRoot().setAttribute(\"visibility\",\"visible\")}finally{$.enable$$module$build$src$core$events$utils()}}});return e}serializeBlockToInsertionMarker(a){const b=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!b)throw Error(`Failed to serialize source block. ${a.toDevString()}`);return b}createInsertionMarker(a){a=this.serializeBlockToInsertionMarker(a);a=append$$module$build$src$core$serialization$blocks(a,\nthis.workspace);for(const b of a.getDescendants(!1))b.setInsertionMarker(!0);a.initSvg();a.getSvgRoot().setAttribute(\"visibility\",\"hidden\");return a}getMatchingConnection(a,b,c){a=a.getConnections_(!0);b=b.getConnections_(!0);if(a.length!==b.length)return null;for(let d=0;d<a.length;d++)if(a[d]===c)return b[d];return null}hidePreview(){$.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),\nthis.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{$.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(a){const b=a.getSourceBlock(),c=b.outputConnection;let d;if(((d=b.previousConnection)==null?0:d.targetConnection)||(c==null?0:c.targetConnection))b.unplug(!0);else{let e;(e=a.targetBlock())==null||e.unplug(!1)}b.dispose()}dispose(){this.hidePreview()}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_PREVIEWER,DEFAULT$$module$build$src$core$registry,InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer);var module$build$src$core$insertion_marker_previewer={};module$build$src$core$insertion_marker_previewer.InsertionMarkerPreviewer=InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer;var module$build$src$core$inputs={};module$build$src$core$inputs.Align=$.Align$$module$build$src$core$inputs$align;module$build$src$core$inputs.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;module$build$src$core$inputs.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;module$build$src$core$inputs.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$inputs.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;\nmodule$build$src$core$inputs.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;module$build$src$core$inputs.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var documentEventsBound$$module$build$src$core$inject=!1,module$build$src$core$inject={};module$build$src$core$inject.inject=inject$$module$build$src$core$inject;var module$build$src$core$generator;\n$.CodeGenerator$$module$build$src$core$generator=class{constructor(a){this.forBlock=Object.create(null);this.FUNCTION_NAME_PLACEHOLDER_=\"{leCUI8hutHZI4480Dc}\";this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null;this.INDENT=\"  \";this.COMMENT_WRAP=60;this.ORDER_OVERRIDES=[];this.isInitialized=null;this.RESERVED_WORDS_=\"\";this.definitions_=Object.create(null);this.functionNames_=Object.create(null);this.nameDB_=void 0;this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,\n\"g\")}workspaceToCode(a){a||(console.warn(\"No workspace specified in workspaceToCode call.  Guessing.\"),a=getMainWorkspace$$module$build$src$core$common());var b=[];this.init(a);a=a.getTopBlocks(!0);for(let c=0,d;d=a[c];c++){let e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,d)+e),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,\nd))),b.push(e))}b=b.join(\"\\n\");b=this.finish(b);b=b.replace(/^\\s+\\n/,\"\");b=b.replace(/\\n\\s+$/,\"\\n\");return b=b.replace(/[ \\t]+\\n/g,\"\\n\")}prefixLines(a,b){return b+a.replace(/(?!\\n$)\\n/g,\"\\n\"+b)}allNestedComments(a){const b=[];a=a.getDescendants(!0);for(let c=0;c<a.length;c++){const d=a[c].getCommentText();d&&b.push(d)}b.length&&b.push(\"\");return b.join(\"\\n\")}blockToCode(a,b){this.isInitialized===!1&&console.warn(\"CodeGenerator init was not called before blockToCode was called.\");if(!a)return\"\";if(!a.isEnabled())return b?\n\"\":this.blockToCode(a.getNextBlock());if(a.isInsertionMarker())return b?\"\":this.blockToCode(a.getChildren(!1)[0]);var c=this.forBlock[a.type];if(typeof c!==\"function\")throw Error(`${this.name_} generator does not know how to generate code `+`for block type \"${a.type}\".`);c=c.call(a,a,this);if(Array.isArray(c)){if(!a.outputConnection)throw TypeError(\"Expecting string from statement block: \"+a.type);return[this.scrub_(a,c[0],b),c[1]]}if(typeof c===\"string\")return this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&\n(c=this.injectId(this.STATEMENT_PREFIX,a)+c),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(c+=this.injectId(this.STATEMENT_SUFFIX,a)),this.scrub_(a,c,b);if(c===null)return\"\";throw SyntaxError(\"Invalid code generated: \"+c);}valueToCode(a,b,c){if(isNaN(c))throw TypeError(\"Expecting valid order from block: \"+a.type);var d=a.getInputTargetBlock(b);if(!d&&!a.getInput(b))throw ReferenceError(`Input \"${b}\" doesn't exist on \"${a.type}\"`);if(!d)return\"\";b=this.blockToCode(d);if(b===\"\")return\"\";if(!Array.isArray(b))throw TypeError(`Expecting tuple from value block: ${d.type} See `+\n\"developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information\");a=b[0];b=b[1];if(isNaN(b))throw TypeError(\"Expecting valid order from value block: \"+d.type);if(!a)return\"\";d=!1;var e=Math.floor(c);const f=Math.floor(b);if(e<=f&&(e!==f||e!==0&&e!==99))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]===c&&this.ORDER_OVERRIDES[e][1]===b){d=!1;break}d&&(a=\"(\"+a+\")\");return a}statementToCode(a,b){const c=a.getInputTargetBlock(b);if(!c&&!a.getInput(b))throw ReferenceError(`Input \"${b}\" doesn't exist on \"${a.type}\"`);\na=this.blockToCode(c);if(typeof a!==\"string\")throw TypeError(\"Expecting code from statement block: \"+(c&&c.type));a&&(a=this.prefixLines(a,this.INDENT));return a}addLoopTrap(a,b){this.INFINITE_LOOP_TRAP&&(a=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,b),this.INDENT)+a);this.STATEMENT_SUFFIX&&!b.suppressPrefixSuffix&&(a=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,b),this.INDENT)+a);this.STATEMENT_PREFIX&&!b.suppressPrefixSuffix&&(a+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,\nb),this.INDENT));return a}injectId(a,b){b=b.id.replace(/\\$/g,\"$$$$\");return a.replace(/%1/g,\"'\"+b+\"'\")}addReservedWords(a){this.RESERVED_WORDS_+=a+\",\"}provideFunction_(a,b){if(!this.definitions_[a]){const c=this.nameDB_.getDistinctName(a,$.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[a]=c;Array.isArray(b)&&(b=b.join(\"\\n\"));b=b.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);let d;for(;d!==b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,\"$1\\x00\");b=b.replace(/\\0/g,this.INDENT);\nthis.definitions_[a]=b}return this.functionNames_[a]}getVariableName(a){return this.getName(a,$.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(a){return this.getName(a,$.NameType$$module$build$src$core$names.PROCEDURE)}getName(a,b){if(!this.nameDB_)throw Error(\"Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.\");return this.nameDB_.getName(a,b)}init(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null)}scrub_(a,\nb,c){return b}finish(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null);return a}scrubNakedValue(a){return a}};module$build$src$core$generator={};module$build$src$core$generator.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;var VerticalFlyout$$module$build$src$core$flyout_vertical=class extends Flyout$$module$build$src$core$flyout_base{constructor(a){super(a)}setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();typeof a.y===\"number\"&&(this.workspace_.scrollY=-(c.top+(c.height-d.height)*a.y));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}}getX(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager();\nconst b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?a.width:c.width-this.getWidth():this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width:this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width+b.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&\nthis.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=a.height;var b=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(b,a.height-2*this.CORNER_RADIUS);a=this.getX();b=this.getY();this.positionAt_(this.getWidth(),this.getHeight(),a,b)}}setBackgroundPath(a,b){const c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.RIGHT;var d=a+this.CORNER_RADIUS;d=[\"M \"+(c?d:0)+\",0\"];d.push(\"h\",c?-a:a);d.push(\"a\",this.CORNER_RADIUS,\nthis.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push(\"v\",Math.max(0,b));d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push(\"h\",c?a:-a);d.push(\"z\");this.svgBackground_.setAttribute(\"d\",d.join(\" \"))}scrollToStart(){let a;(a=this.workspace_.scrollbar)==null||a.setY(0)}wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b.y){const c=this.workspace_.getMetricsManager(),\nd=c.getScrollMetrics();b=c.getViewMetrics().top-d.top+b.y;let e;(e=this.workspace_.scrollbar)==null||e.setY(b);hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this.workspace_);hideWithoutAnimation$$module$build$src$core$dropdowndiv()}a.preventDefault();a.stopPropagation()}layout_(a){this.workspace_.scale=this.targetWorkspace.scale;var b=this.MARGIN;const c=this.RTL?b:b+this.tabWidth_;for(const d of a)d.getElement().moveBy(c,b),b+=d.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(a){a=\nMath.atan2(a.y,a.x)/Math.PI*180;const b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const a=this.svgGroup_.getBoundingClientRect(),b=a.left;return this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E9,1E9,-1E9,b+a.width):new Rect$$module$build$src$core$utils$rect(-1E9,1E9,b,1E9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();\nlet a=this.getContents().reduce((b,c)=>Math.max(b,c.getElement().getBoundingRectangle().getWidth()),0);a+=this.MARGIN*1.5+this.tabWidth_;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;if(this.getWidth()!==a){if(this.RTL)for(const b of this.getContents()){const c=b.getElement().getBoundingRectangle().left,d=a/this.workspace_.scale-b.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;b.getElement().moveBy(d-c,0)}this.targetWorkspace.scrollbar||\nthis.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+a,this.targetWorkspace.scrollY);this.width_=a;this.position();this.targetWorkspace.resizeContents();this.targetWorkspace.recordDragTargets()}}};VerticalFlyout$$module$build$src$core$flyout_vertical.registryName=\"verticalFlyout\";\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,VerticalFlyout$$module$build$src$core$flyout_vertical);var module$build$src$core$flyout_vertical={};module$build$src$core$flyout_vertical.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;var HorizontalFlyout$$module$build$src$core$flyout_horizontal=class extends Flyout$$module$build$src$core$flyout_base{constructor(a){super(a);this.horizontalLayout=!0}setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();typeof a.x===\"number\"&&(this.workspace_.scrollX=-(c.left+(c.width-d.width)*a.x));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;\nvar a=this.targetWorkspace.getMetricsManager();const b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();const d=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?a.height:c.height-this.getHeight():d?0:c.height:d?0:c.height+b.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();\nthis.width_=a.width;a=a.width-2*this.CORNER_RADIUS;var b=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(a,b);a=this.getX();b=this.getY();this.positionAt_(this.getWidth(),this.getHeight(),a,b)}}setBackgroundPath(a,b){const c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP,d=[\"M 0,\"+(c?0:this.CORNER_RADIUS)];c?(d.push(\"h\",a+2*this.CORNER_RADIUS),d.push(\"v\",b),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push(\"h\",\n-a),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push(\"h\",a),d.push(\"a\",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push(\"v\",b),d.push(\"h\",-a-2*this.CORNER_RADIUS));d.push(\"z\");this.svgBackground_.setAttribute(\"d\",d.join(\" \"))}scrollToStart(){let a;(a=this.workspace_.scrollbar)==null||a.setX(this.RTL?Infinity:\n0)}wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b=b.x||b.y){const c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().left-d.left+b;let e;(e=this.workspace_.scrollbar)==null||e.setX(b);hideIfOwnerIsInWorkspace$$module$build$src$core$widgetdiv(this.workspace_);hideWithoutAnimation$$module$build$src$core$dropdowndiv()}a.preventDefault();a.stopPropagation()}layout_(a){this.workspace_.scale=this.targetWorkspace.scale;const b=this.MARGIN;\nlet c=b+this.tabWidth_;this.RTL&&(a=a.reverse());for(const d of a)a=d.getElement().getBoundingRectangle(),a=this.RTL?c+a.getWidth():c,d.getElement().moveBy(a,b),c+=d.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(a){a=Math.atan2(a.y,a.x)/Math.PI*180;const b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const a=this.svgGroup_.getBoundingClientRect(),b=a.top;return this.toolboxPosition_===\nPosition$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E9,b+a.height,-1E9,1E9):new Rect$$module$build$src$core$utils$rect(b,1E9,-1E9,1E9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let a=this.getContents().reduce((b,c)=>Math.max(b,c.getElement().getBoundingRectangle().getHeight()),0);a+=this.MARGIN*1.5;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;this.getHeight()!==a&&(this.targetWorkspace.scrollbar||\nthis.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+a),this.height_=a,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,HorizontalFlyout$$module$build$src$core$flyout_horizontal);\nvar module$build$src$core$flyout_horizontal={};module$build$src$core$flyout_horizontal.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;var FieldVariable$$module$build$src$core$field_variable=class extends FieldDropdown$$module$build$src$core$field_dropdown{constructor(a,b,c,d,e){super(Field$$module$build$src$core$field.SKIP_SETUP);this.defaultType=\"\";this.variableTypes=[];this.variable=null;this.SERIALIZABLE=!0;this.menuGenerator_=FieldVariable$$module$build$src$core$field_variable.dropdownCreate;this.defaultVariableName=typeof a===\"string\"?a:\"\";this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&\n(e?this.configure_(e):this.setTypes(c,d),b&&this.setValidator(b))}configure_(a){super.configure_(a);this.setTypes(a.variableTypes,a.defaultType)}initModel(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;this.variable||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(a.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(a.getId()))}initView(){super.initView();addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\n\"blocklyVariableField\")}shouldAddBorderRect_(){const a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||a.type!==\"variables_get\")}fromXml(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;const c=a.getAttribute(\"id\"),d=a.textContent,e=a.getAttribute(\"variabletype\")||a.getAttribute(\"variableType\")||\"\";b=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,\nc,d,e);if(e!==null&&e!==b.getType())throw Error(\"Serialized variable type with id '\"+b.getId()+\"' had type \"+b.getType()+\", and does not match variable field that references it: \"+domToText$$module$build$src$core$xml(a)+\".\");this.setValue(b.getId())}toXml(a){this.initModel();a.id=this.variable.getId();a.textContent=this.variable.getName();this.variable.getType()&&a.setAttribute(\"variabletype\",this.variable.getType());return a}saveState(a){var b=this.saveLegacyState(FieldVariable$$module$build$src$core$field_variable);\nif(b!==null)return b;this.initModel();b={id:this.variable.getId()};a&&(b.name=this.variable.getName(),b.type=this.variable.getType());return b}loadState(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.loadLegacyState(FieldVariable$$module$build$src$core$field_variable,a)||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,a.id||null,a.name,a.type||\"\"),this.setValue(a.getId()))}setSourceBlock(a){if(a.isShadow())throw Error(\"Variable fields are not allowed to exist on shadow blocks.\");\nsuper.setSourceBlock(a)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():\"\"}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(a){if(a===null)return null;var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;b=$.getVariable$$module$build$src$core$variables(b.workspace,a);if(!b)return console.warn(\"Variable id doesn't point to a real variable! ID was \"+\na),null;b=b.getType();return this.typeIsAllowed(b)?a:(console.warn(\"Variable type doesn't match this field!  Type was \"+b),null)}doValueUpdate_(a){const b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field;this.variable=$.getVariable$$module$build$src$core$variables(b.workspace,a);super.doValueUpdate_(a)}typeIsAllowed(a){const b=this.getVariableTypes();if(!b)return!0;for(let c=0;c<b.length;c++)if(a===b[c])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;\nif(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[\"\"];let a=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const b=this.sourceBlock_.workspace.getPotentialVariableMap();if(!b)return a;a=Array.from(new Set([...a,...b.getTypes()]))}return a}setTypes(a=null,b=\"\"){var c=this.getText();if(Array.isArray(a)){if(a.length===0)throw Error(`'variableTypes' of field variable ${c} was an empty list. If you want to include all variable types, pass 'null' instead.`);\nc=!1;for(let d=0;d<a.length;d++)a[d]===b&&(c=!0);if(!c)throw Error(\"Invalid default type '\"+b+\"' in the definition of a FieldVariable\");}else if(a!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${c}`);this.defaultType=b;this.variableTypes=a}refreshVariableName(){this.forceRerender()}onItemSelected_(a,b){a=b.getValue();if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(a===RENAME_VARIABLE_ID$$module$build$src$core$internal_constants&&this.variable){$.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,\nthis.variable);return}if(a===DELETE_VARIABLE_ID$$module$build$src$core$internal_constants&&this.variable){a=this.variable.getWorkspace();$.deleteVariable$$module$build$src$core$variables(a,this.variable,this.sourceBlock_);return}}this.setValue(a)}referencesVariables(){return!0}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.variable),void 0,void 0,void 0,a)}static dropdownCreate(){if(!this.variable)throw Error(\"Tried to call dropdownCreate on a variable field with no variable selected.\");\nconst a=this.getText();let b=[];var c=this.getSourceBlock();if(c&&!c.isDeadOrDying()){c=c.workspace;const f=this.getVariableTypes();for(let g=0;g<f.length;g++){const h=f[g],k=c.getVariableMap().getVariablesOfType(h);b=b.concat(k);if(c.isFlyout){var d=void 0,e=void 0;b=b.concat((e=(d=c.getPotentialVariableMap())==null?void 0:d.getVariablesOfType(h))!=null?e:[])}}}b.sort(compareByName$$module$build$src$core$variables);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].getName(),b[e].getId()];d.push([$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,\nRENAME_VARIABLE_ID$$module$build$src$core$internal_constants]);$.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&d.push([$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",a),DELETE_VARIABLE_ID$$module$build$src$core$internal_constants]);return d}};register$$module$build$src$core$field_registry(\"field_variable\",FieldVariable$$module$build$src$core$field_variable);var module$build$src$core$field_variable={};module$build$src$core$field_variable.FieldVariable=FieldVariable$$module$build$src$core$field_variable;var FieldNumber$$module$build$src$core$field_number=class extends FieldInput$$module$build$src$core$field_input{constructor(a,b,c,d,e,f){super(Field$$module$build$src$core$field.SKIP_SETUP);this.min_=-Infinity;this.max_=Infinity;this.precision_=0;this.decimalPlaces=null;this.spellcheck_=!1;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(f?this.configure_(f):this.setConstraints(b,c,d),this.setValue(a),e&&this.setValidator(e))}configure_(a){super.configure_(a);this.setMinInternal(a.min);this.setMaxInternal(a.max);\nthis.setPrecisionInternal(a.precision)}setConstraints(a,b,c){this.setMinInternal(a);this.setMaxInternal(b);this.setPrecisionInternal(c);this.setValue(this.getValue())}setMin(a){this.setMinInternal(a);this.setValue(this.getValue())}setMinInternal(a){a==null?this.min_=-Infinity:(a=Number(a),isNaN(a)||(this.min_=a))}getMin(){return this.min_}setMax(a){this.setMaxInternal(a);this.setValue(this.getValue())}setMaxInternal(a){a==null?this.max_=Infinity:(a=Number(a),isNaN(a)||(this.max_=a))}getMax(){return this.max_}setPrecision(a){this.setPrecisionInternal(a);\nthis.setValue(this.getValue())}setPrecisionInternal(a){this.precision_=Number(a)||0;let b=String(this.precision_);b.includes(\"e\")&&(b=this.precision_.toLocaleString(\"en-US\",{maximumFractionDigits:20}));const c=b.indexOf(\".\");this.decimalPlaces=c===-1?a?0:null:b.length-c-1}getPrecision(){return this.precision_}doClassValidation_(a){if(a===null)return null;a=`${a}`.replace(/O/gi,\"0\");a=a.replace(/,/g,\"\");a=a.replace(/infinity/i,\"Infinity\");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,\nthis.min_),this.max_);this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);this.decimalPlaces!==null&&(a=Number(a.toFixed(this.decimalPlaces)));return a}widgetCreate_(){const a=super.widgetCreate_();this.min_>-Infinity&&(a.min=`${this.min_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMIN,this.min_));this.max_<Infinity&&(a.max=`${this.max_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMAX,\nthis.max_));return a}initView(){super.initView();this.fieldGroup_&&addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyNumberField\")}static fromJson(a){return new this(a.value,void 0,void 0,void 0,void 0,a)}};register$$module$build$src$core$field_registry(\"field_number\",FieldNumber$$module$build$src$core$field_number);FieldNumber$$module$build$src$core$field_number.prototype.DEFAULT_VALUE=0;var module$build$src$core$field_number={};module$build$src$core$field_number.FieldNumber=FieldNumber$$module$build$src$core$field_number;var FieldLabelSerializable$$module$build$src$core$field_label_serializable=class extends FieldLabel$$module$build$src$core$field_label{constructor(a,b,c){super(String(a!=null?a:\"\"),b,c);this.EDITABLE=!1;this.SERIALIZABLE=!0}static fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a)}};register$$module$build$src$core$field_registry(\"field_label_serializable\",FieldLabelSerializable$$module$build$src$core$field_label_serializable);\nvar module$build$src$core$field_label_serializable={};module$build$src$core$field_label_serializable.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;var FieldCheckbox$$module$build$src$core$field_checkbox=class extends Field$$module$build$src$core$field{constructor(a,b,c){super(Field$$module$build$src$core$field.SKIP_SETUP);this.SERIALIZABLE=!0;this.value_=this.value_;this.checkChar=FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b))}configure_(a){super.configure_(a);a.checkCharacter&&(this.checkChar=a.checkCharacter)}saveState(){const a=\nthis.saveLegacyState(FieldCheckbox$$module$build$src$core$field_checkbox);return a!==null?a:this.getValueBoolean()}initView(){super.initView();const a=this.getTextElement();addClass$$module$build$src$core$utils$dom(this.fieldGroup_,\"blocklyCheckboxField\");a.style.display=this.value_?\"block\":\"none\"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(a){this.checkChar=\na||FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(a){return a===!0||a===\"TRUE\"?\"TRUE\":a===!1||a===\"FALSE\"?\"FALSE\":null}doValueUpdate_(a){this.value_=this.convertValueToBool(a);this.textElement_&&(this.textElement_.style.display=this.value_?\"block\":\"none\")}getValue(){return this.value_?\"TRUE\":\"FALSE\"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(a){return typeof a===\n\"string\"?a===\"TRUE\":!!a}static fromJson(a){return new this(a.checked,void 0,a)}};FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR=\"\\u2713\";register$$module$build$src$core$field_registry(\"field_checkbox\",FieldCheckbox$$module$build$src$core$field_checkbox);FieldCheckbox$$module$build$src$core$field_checkbox.prototype.DEFAULT_VALUE=!1;var module$build$src$core$field_checkbox={};module$build$src$core$field_checkbox.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;var Dragger$$module$build$src$core$dragging$dragger=class{constructor(a,b){this.draggable=a;this.workspace=b;this.dragTarget=null;this.startLoc=a.getRelativeToSurfaceXY()}onDragStart(a){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);this.draggable.startDrag(a)}onDrag(a,b){this.moveDraggable(a,b);b=this.getRoot(this.draggable);isDeletable$$module$build$src$core$interfaces$i_deletable(b)&&b.setDeleteStyle(this.wouldDeleteDraggable(a,b));this.updateDragTarget(a)}updateDragTarget(a){a=\nthis.workspace.getDragTarget(a);const b=this.getRoot(this.draggable);if(this.dragTarget!==a){let c;(c=this.dragTarget)==null||c.onDragExit(b);a==null||a.onDragEnter(b)}a==null||a.onDragOver(b);this.dragTarget=a}moveDraggable(a,b){b=this.pixelsToWorkspaceUnits(b);b=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startLoc,b);this.draggable.drag(b,a)}wouldDeleteDraggable(a,b){return(a=this.workspace.getDragTarget(a))&&this.workspace.getComponentManager().hasCapability(a.id,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA)?\na.wouldDelete(b):!1}onDragEnd(a){const b=$.getGroup$$module$build$src$core$events$utils();var c=this.workspace.getDragTarget(a);const d=this.getRoot(this.draggable);if(c){let e;(e=this.dragTarget)==null||e.onDrop(d)}this.shouldReturnToStart(a,d)&&this.draggable.revertDrag();(c=isDeletable$$module$build$src$core$interfaces$i_deletable(d)&&this.wouldDeleteDraggable(a,d))&&this.draggable instanceof BlockSvg$$module$build$src$core$block_svg&&disposeUiEffect$$module$build$src$core$block_animations(this.draggable.getRootBlock());\nthis.draggable.endDrag(a);c&&isDeletable$$module$build$src$core$interfaces$i_deletable(d)&&($.setGroup$$module$build$src$core$events$utils(b),d.dispose());$.setGroup$$module$build$src$core$events$utils(!1);!c&&isFocusableNode$$module$build$src$core$interfaces$i_focusable_node(this.draggable)&&$.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(a){return a instanceof BlockSvg$$module$build$src$core$block_svg?a.getRootBlock():a}shouldReturnToStart(a,b){return(a=\nthis.workspace.getDragTarget(a))?a.shouldPreventMove(b):!1}pixelsToWorkspaceUnits(a){a=new Coordinate$$module$build$src$core$utils$coordinate(a.x/this.workspace.scale,a.y/this.workspace.scale);this.workspace.isMutator&&a.scale(1/this.workspace.options.parentWorkspace.scale);return a}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,DEFAULT$$module$build$src$core$registry,Dragger$$module$build$src$core$dragging$dragger);\nvar module$build$src$core$dragging$dragger={};module$build$src$core$dragging$dragger.Dragger=Dragger$$module$build$src$core$dragging$dragger;var module$build$src$core$dragging={};module$build$src$core$dragging.BlockDragStrategy=BlockDragStrategy$$module$build$src$core$dragging$block_drag_strategy;module$build$src$core$dragging.BubbleDragStrategy=BubbleDragStrategy$$module$build$src$core$dragging$bubble_drag_strategy;module$build$src$core$dragging.CommentDragStrategy=CommentDragStrategy$$module$build$src$core$dragging$comment_drag_strategy;module$build$src$core$dragging.Dragger=Dragger$$module$build$src$core$dragging$dragger;var BlockDrag$$module$build$src$core$events$events_block_drag=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.BLOCK_DRAG;a&&(this.blockId=a.id,this.isStart=b,this.blocks=c)}toJson(){const a=super.toJson();if(this.isStart===void 0)throw Error(\"Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson\");if(this.blockId===\nvoid 0)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");a.isStart=this.isStart;a.blockId=this.blockId;a.blocks=this.blocks;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockDrag$$module$build$src$core$events$events_block_drag);b.isStart=a.isStart;b.blockId=a.blockId;b.blocks=a.blocks;return b}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_DRAG,BlockDrag$$module$build$src$core$events$events_block_drag);var module$build$src$core$events$events_block_drag={};module$build$src$core$events$events_block_drag.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;var BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a,b,c,d){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE;this.recordUndo=!1;a&&(this.name=b,this.oldValue=c,this.newValue=d)}toJson(){const a=super.toJson();if(!this.name)throw Error(\"The changed field name is undefined. Either pass a name to the constructor, or call fromJson.\");\na.name=this.name;a.oldValue=this.oldValue;a.newValue=this.newValue;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;return b}isNull(){return this.oldValue===this.newValue}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");\nb=b.getBlockById(this.blockId);if(!b)throw Error(\"The associated block is undefined. Either pass a block to the constructor, or call fromJson\");a=a?this.newValue:this.oldValue;(b=b.getField(this.name))?b.setValue(a):console.warn(\"Can't set non-existent field: \"+this.name)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE,BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);\nvar module$build$src$core$events$events_block_field_intermediate_change={};module$build$src$core$events$events_block_field_intermediate_change.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;var BlockMove$$module$build$src$core$events$events_block_move=class extends BlockBase$$module$build$src$core$events$events_block_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.BLOCK_MOVE;a&&(a.isShadow()&&(this.recordUndo=!1),a=this.currentLocation(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate)}toJson(){const a=super.toJson();a.oldParentId=this.oldParentId;a.oldInputName=this.oldInputName;this.oldCoordinate&&(a.oldCoordinate=\n`${Math.round(this.oldCoordinate.x)}, `+`${Math.round(this.oldCoordinate.y)}`);a.newParentId=this.newParentId;a.newInputName=this.newInputName;this.newCoordinate&&(a.newCoordinate=`${Math.round(this.newCoordinate.x)}, `+`${Math.round(this.newCoordinate.y)}`);this.reason&&(a.reason=this.reason);this.recordUndo||(a.recordUndo=this.recordUndo);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BlockMove$$module$build$src$core$events$events_block_move);b.oldParentId=a.oldParentId;b.oldInputName=\na.oldInputName;a.oldCoordinate&&(c=a.oldCoordinate.split(\",\"),b.oldCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));b.newParentId=a.newParentId;b.newInputName=a.newInputName;a.newCoordinate&&(c=a.newCoordinate.split(\",\"),b.newCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));a.reason!==void 0&&(b.reason=a.reason);a.recordUndo!==void 0&&(b.recordUndo=a.recordUndo);return b}recordNew(){const a=this.currentLocation();\nthis.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate}setReason(a){this.reason=a}currentLocation(){var a=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");var b=a.getBlockById(this.blockId);if(!b)throw Error(\"The block associated with the block move event could not be found\");a={};const c=b.getParent();if(c){if(a.parentId=c.id,b=c.getInputWithBlock(b))a.inputName=b.name}else a.coordinate=\nb.getRelativeToSurfaceXY();return a}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate,this.newCoordinate)}run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error(\"The block ID is undefined. Either pass a block to the constructor, or call fromJson\");var c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;\na=a?this.newCoordinate:this.oldCoordinate;if(d){var f=b.getBlockById(d);if(!f){console.warn(\"Can't connect to non-existent block: \"+d);return}}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y,this.reason);else{b=c.outputConnection;if(!b||c.previousConnection&&c.previousConnection.isConnected())b=c.previousConnection;let g,h;c=(h=b)==null?void 0:h.type;if(e){if(c=f.getInput(e))g=c.connection}else c===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&\n(g=f.nextConnection);g&&b?b.connect(g):console.warn(\"Can't connect to non-existent input: \"+e)}}else console.warn(\"Can't move non-existent block: \"+this.blockId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BLOCK_MOVE,BlockMove$$module$build$src$core$events$events_block_move);var module$build$src$core$events$events_block_move={};module$build$src$core$events$events_block_move.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;var BubbleOpen$$module$build$src$core$events$events_bubble_open=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.BUBBLE_OPEN;a&&(this.blockId=a.id,this.isOpen=b,this.bubbleType=c)}toJson(){const a=super.toJson();if(this.isOpen===void 0)throw Error(\"Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson\");if(!this.bubbleType)throw Error(\"The type of bubble is undefined. Either pass the value to the constructor, or call fromJson\");\na.isOpen=this.isOpen;a.bubbleType=this.bubbleType;a.blockId=this.blockId||\"\";return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new BubbleOpen$$module$build$src$core$events$events_bubble_open);b.isOpen=a.isOpen;b.bubbleType=a.bubbleType;b.blockId=a.blockId;return b}},BubbleType$$module$build$src$core$events$events_bubble_open;\n(function(a){a.MUTATOR=\"mutator\";a.COMMENT=\"comment\";a.WARNING=\"warning\"})(BubbleType$$module$build$src$core$events$events_bubble_open||(BubbleType$$module$build$src$core$events$events_bubble_open={}));register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.BUBBLE_OPEN,BubbleOpen$$module$build$src$core$events$events_bubble_open);var module$build$src$core$events$events_bubble_open={};\nmodule$build$src$core$events$events_bubble_open.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events_bubble_open.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;var CommentBase$$module$build$src$core$events$events_comment_base=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!a;a&&(this.commentId=a.id,this.workspaceId=a.workspace.id,this.group=$.getGroup$$module$build$src$core$events$utils(),this.recordUndo=getRecordUndo$$module$build$src$core$events$utils())}toJson(){const a=super.toJson();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na.commentId=this.commentId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentBase$$module$build$src$core$events$events_comment_base);b.commentId=a.commentId;return b}static CommentCreateDeleteHelper(a,b){const c=a.getEventWorkspace_();if(b){if(!a.json)throw Error(\"Encountered a comment event without proper json\");append$$module$build$src$core$serialization$workspace_comments(a.json,c)}else{if(!a.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\n(b=c.getCommentById(a.commentId))?b.dispose():console.warn(\"Can't delete non-existent comment: \"+a.commentId)}}},module$build$src$core$events$events_comment_base={};module$build$src$core$events$events_comment_base.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;var CommentChange$$module$build$src$core$events$events_comment_change=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a,b,c){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_CHANGE;a&&(this.oldContents_=typeof b===\"undefined\"?\"\":b,this.newContents_=typeof c===\"undefined\"?\"\":c)}toJson(){const a=super.toJson();if(!this.oldContents_)throw Error(\"The old contents is undefined. Either pass a value to the constructor, or call fromJson\");if(!this.newContents_)throw Error(\"The new contents is undefined. Either pass a value to the constructor, or call fromJson\");\na.oldContents=this.oldContents_;a.newContents=this.newContents_;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentChange$$module$build$src$core$events$events_comment_change);b.oldContents_=a.oldContents;b.newContents_=a.newContents;return b}isNull(){return this.oldContents_===this.newContents_}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){var c=\na?this.newContents_:this.oldContents_;if(c===void 0){if(a)throw Error(\"The new contents is undefined. Either pass a value to the constructor, or call fromJson\");throw Error(\"The old contents is undefined. Either pass a value to the constructor, or call fromJson\");}b.setText(c)}else console.warn(\"Can't change non-existent comment: \"+this.commentId)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_CHANGE,CommentChange$$module$build$src$core$events$events_comment_change);\nvar module$build$src$core$events$events_comment_change={};module$build$src$core$events$events_comment_change.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;var CommentCollapse$$module$build$src$core$events$events_comment_collapse=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a,b){super(a);this.newCollapsed=b;this.type=EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE}toJson(){const a=super.toJson();if(this.newCollapsed===void 0)throw Error(\"The new collapse value undefined. Either call recordNew, or call fromJson\");a.newCollapsed=this.newCollapsed;return a}static fromJson(a,b,c){b=super.fromJson(a,\nb,c!=null?c:new CommentCollapse$$module$build$src$core$events$events_comment_collapse);b.newCollapsed=a.newCollapsed;return b}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");(b=b.getCommentById(this.commentId))?b.setCollapsed(a?!!this.newCollapsed:!this.newCollapsed):console.warn(\"Can't collapse or uncollapse non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_COLLAPSE,CommentCollapse$$module$build$src$core$events$events_comment_collapse);var module$build$src$core$events$events_comment_collapse={};module$build$src$core$events$events_comment_collapse.CommentCollapse=CommentCollapse$$module$build$src$core$events$events_comment_collapse;var CommentCreate$$module$build$src$core$events$events_comment_create=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_CREATE;a&&(this.xml=saveWorkspaceComment$$module$build$src$core$xml(a),this.json=save$$module$build$src$core$serialization$workspace_comments(a,{addCoordinates:!0}))}toJson(){const a=super.toJson();if(!this.xml)throw Error(\"The comment XML is undefined. Either pass a comment to the constructor, or call fromJson\");\nif(!this.json)throw Error(\"The comment JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.json=this.json;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentCreate$$module$build$src$core$events$events_comment_create);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.json=a.json;return b}run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,\na)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_CREATE,CommentCreate$$module$build$src$core$events$events_comment_create);var module$build$src$core$events$events_comment_create={};module$build$src$core$events$events_comment_create.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;var CommentDelete$$module$build$src$core$events$events_comment_delete=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_DELETE;a&&(this.xml=saveWorkspaceComment$$module$build$src$core$xml(a),this.json=save$$module$build$src$core$serialization$workspace_comments(a,{addCoordinates:!0}))}run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,!a)}toJson(){const a=\nsuper.toJson();if(!this.xml)throw Error(\"The comment XML is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.json)throw Error(\"The comment JSON is undefined. Either pass a block to the constructor, or call fromJson\");a.xml=domToText$$module$build$src$core$xml(this.xml);a.json=this.json;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentDelete$$module$build$src$core$events$events_comment_delete);b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);\nb.json=a.json;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_DELETE,CommentDelete$$module$build$src$core$events$events_comment_delete);var module$build$src$core$events$events_comment_delete={};module$build$src$core$events$events_comment_delete.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;var CommentDrag$$module$build$src$core$events$events_comment_drag=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b){super(a?a.workspace.id:void 0);this.type=EventType$$module$build$src$core$events$type.COMMENT_DRAG;a&&(this.commentId=a.id,this.isStart=b)}toJson(){const a=super.toJson();if(this.isStart===void 0)throw Error(\"Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson\");if(this.commentId===void 0)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na.isStart=this.isStart;a.commentId=this.commentId;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentDrag$$module$build$src$core$events$events_comment_drag);b.isStart=a.isStart;b.commentId=a.commentId;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_DRAG,CommentDrag$$module$build$src$core$events$events_comment_drag);var module$build$src$core$events$events_comment_drag={};\nmodule$build$src$core$events$events_comment_drag.CommentDrag=CommentDrag$$module$build$src$core$events$events_comment_drag;var CommentMove$$module$build$src$core$events$events_comment_move=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_MOVE;a&&(this.comment_=a,this.oldCoordinate_=a.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error(\"Tried to record the new position of a comment on the same event twice.\");if(!this.comment_)throw Error(\"The comment is undefined. Pass a comment to the constructor if you want to use the record functionality\");\nthis.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(a){this.reason=a}setOldCoordinate(a){this.oldCoordinate_=a}toJson(){const a=super.toJson();if(!this.oldCoordinate_)throw Error(\"The old comment position is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.newCoordinate_)throw Error(\"The new comment position is undefined. Either call recordNew, or call fromJson\");a.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, `+`${Math.round(this.oldCoordinate_.y)}`;\na.newCoordinate=Math.round(this.newCoordinate_.x)+\",\"+Math.round(this.newCoordinate_.y);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentMove$$module$build$src$core$events$events_comment_move);c=a.oldCoordinate.split(\",\");b.oldCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));c=a.newCoordinate.split(\",\");b.newCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));return b}isNull(){return Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate_,\nthis.newCoordinate_)}run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){a=a?this.newCoordinate_:this.oldCoordinate_;if(!a)throw Error(\"Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson\");b.moveTo(a)}else console.warn(\"Can't move non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_MOVE,CommentMove$$module$build$src$core$events$events_comment_move);var module$build$src$core$events$events_comment_move={};module$build$src$core$events$events_comment_move.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;var CommentResize$$module$build$src$core$events$events_comment_resize=class extends CommentBase$$module$build$src$core$events$events_comment_base{constructor(a){super(a);this.type=EventType$$module$build$src$core$events$type.COMMENT_RESIZE;a&&(this.oldSize=a.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error(\"Tried to record the new size of a comment on the same event twice.\");var a=this.getEventWorkspace_();if(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");\na=a.getCommentById(this.commentId);if(!a)throw Error(\"The comment associated with the comment resize event could not be found\");this.newSize=a.getSize()}toJson(){const a=super.toJson();if(!this.oldSize)throw Error(\"The old comment size is undefined. Either pass a comment to the constructor, or call fromJson\");if(!this.newSize)throw Error(\"The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson\");a.oldWidth=Math.round(this.oldSize.width);a.oldHeight=Math.round(this.oldSize.height);\na.newWidth=Math.round(this.newSize.width);a.newHeight=Math.round(this.newSize.height);return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new CommentResize$$module$build$src$core$events$events_comment_resize);b.oldSize=new Size$$module$build$src$core$utils$size(a.oldWidth,a.oldHeight);b.newSize=new Size$$module$build$src$core$utils$size(a.newWidth,a.newHeight);return b}isNull(){return Size$$module$build$src$core$utils$size.equals(this.oldSize,this.newSize)}run(a){var b=this.getEventWorkspace_();\nif(!this.commentId)throw Error(\"The comment ID is undefined. Either pass a comment to the constructor, or call fromJson\");if(b=b.getCommentById(this.commentId)){a=a?this.newSize:this.oldSize;if(!a)throw Error(\"Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson\");b.setSize(a)}else console.warn(\"Can't resize non-existent comment: \"+this.commentId)}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.COMMENT_RESIZE,CommentResize$$module$build$src$core$events$events_comment_resize);var module$build$src$core$events$events_comment_resize={};module$build$src$core$events$events_comment_resize.CommentResize=CommentResize$$module$build$src$core$events$events_comment_resize;var ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select=class extends UiBase$$module$build$src$core$events$events_ui_base{constructor(a,b,c){super(c);this.type=EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT;this.oldItem=a!=null?a:void 0;this.newItem=b!=null?b:void 0}toJson(){const a=super.toJson();a.oldItem=this.oldItem;a.newItem=this.newItem;return a}static fromJson(a,b,c){b=super.fromJson(a,b,c!=null?c:new ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);\nb.oldItem=a.oldItem;b.newItem=a.newItem;return b}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT,ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);var module$build$src$core$events$events_toolbox_item_select={};module$build$src$core$events$events_toolbox_item_select.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;var VarTypeChange$$module$build$src$core$events$events_var_type_change=class extends VarBase$$module$build$src$core$events$events_var_base{constructor(a,b,c){super(a);this.oldType=b;this.newType=c;this.type=EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE}toJson(){const a=super.toJson();if(!this.oldType||!this.newType)throw Error(\"The variable's types are undefined. Either pass them to the constructor, or call fromJson\");a.oldType=this.oldType;a.newType=this.newType;return a}static fromJson(a,\nb,c){b=super.fromJson(a,b,c!=null?c:new VarTypeChange$$module$build$src$core$events$events_var_type_change);b.oldType=a.oldType;b.newType=a.newType;return b}run(a){const b=this.getEventWorkspace_();if(!this.varId)throw Error(\"The var ID is undefined. Either pass a variable to the constructor, or call fromJson\");if(!this.oldType||!this.newType)throw Error(\"The variable's types are undefined. Either pass them to the constructor, or call fromJson\");const c=b.getVariableMap().getVariableById(this.varId);\nc&&(a?b.getVariableMap().changeVariableType(c,this.newType):b.getVariableMap().changeVariableType(c,this.oldType))}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.VAR_TYPE_CHANGE,VarTypeChange$$module$build$src$core$events$events_var_type_change);var module$build$src$core$events$events_var_type_change={};module$build$src$core$events$events_var_type_change.VarTypeChange=VarTypeChange$$module$build$src$core$events$events_var_type_change;var FinishedLoading$$module$build$src$core$events$workspace_events=class extends Abstract$$module$build$src$core$events$events_abstract{constructor(a){super();this.isBlank=!0;this.recordUndo=!1;this.type=EventType$$module$build$src$core$events$type.FINISHED_LOADING;this.isBlank=!!a;a&&(this.workspaceId=a.id)}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,EventType$$module$build$src$core$events$type.FINISHED_LOADING,FinishedLoading$$module$build$src$core$events$workspace_events);\nvar module$build$src$core$events$workspace_events={};module$build$src$core$events$workspace_events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;var BLOCK_DRAG$$module$build$src$core$events$events,BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events,BUBBLE_OPEN$$module$build$src$core$events$events,CHANGE$$module$build$src$core$events$events,CLICK$$module$build$src$core$events$events,COMMENT_CHANGE$$module$build$src$core$events$events,COMMENT_CREATE$$module$build$src$core$events$events,COMMENT_DELETE$$module$build$src$core$events$events,COMMENT_MOVE$$module$build$src$core$events$events,COMMENT_RESIZE$$module$build$src$core$events$events,\nCOMMENT_DRAG$$module$build$src$core$events$events,CREATE$$module$build$src$core$events$events,DELETE$$module$build$src$core$events$events,FINISHED_LOADING$$module$build$src$core$events$events,MOVE$$module$build$src$core$events$events,SELECTED$$module$build$src$core$events$events,THEME_CHANGE$$module$build$src$core$events$events,TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events,TRASHCAN_OPEN$$module$build$src$core$events$events,UI$$module$build$src$core$events$events,VAR_CREATE$$module$build$src$core$events$events,\nVAR_DELETE$$module$build$src$core$events$events,VAR_RENAME$$module$build$src$core$events$events,VIEWPORT_CHANGE$$module$build$src$core$events$events,module$build$src$core$events$events;$.BLOCK_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;$.BLOCK_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CREATE;$.BLOCK_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DELETE;\nBLOCK_DRAG$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DRAG;$.BLOCK_MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_MOVE;BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_FIELD_INTERMEDIATE_CHANGE;BUBBLE_OPEN$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BUBBLE_OPEN;\nCHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CHANGE;CLICK$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.CLICK;COMMENT_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_CHANGE;COMMENT_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_CREATE;COMMENT_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_DELETE;\nCOMMENT_MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_MOVE;COMMENT_RESIZE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_RESIZE;COMMENT_DRAG$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.COMMENT_DRAG;CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_CREATE;DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_DELETE;\nFINISHED_LOADING$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.FINISHED_LOADING;MOVE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.BLOCK_MOVE;SELECTED$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.SELECTED;THEME_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.THEME_CHANGE;TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT;\nTRASHCAN_OPEN$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.TRASHCAN_OPEN;UI$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.UI;VAR_CREATE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_CREATE;VAR_DELETE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_DELETE;VAR_RENAME$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VAR_RENAME;\nVIEWPORT_CHANGE$$module$build$src$core$events$events=EventType$$module$build$src$core$events$type.VIEWPORT_CHANGE;module$build$src$core$events$events={};module$build$src$core$events$events.Abstract=Abstract$$module$build$src$core$events$events_abstract;module$build$src$core$events$events.BLOCK_CHANGE=$.BLOCK_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_CREATE=$.BLOCK_CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.BLOCK_DELETE=$.BLOCK_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_DRAG=BLOCK_DRAG$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_FIELD_INTERMEDIATE_CHANGE=BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.BLOCK_MOVE=$.BLOCK_MOVE$$module$build$src$core$events$events;module$build$src$core$events$events.BUBBLE_OPEN=BUBBLE_OPEN$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.BUMP_EVENTS=BUMP_EVENTS$$module$build$src$core$events$type;module$build$src$core$events$events.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;module$build$src$core$events$events.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;module$build$src$core$events$events.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;module$build$src$core$events$events.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;\nmodule$build$src$core$events$events.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;module$build$src$core$events$events.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;module$build$src$core$events$events.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;module$build$src$core$events$events.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;\nmodule$build$src$core$events$events.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events.CHANGE=CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.CLICK=CLICK$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_CHANGE=COMMENT_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_CREATE=COMMENT_CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.COMMENT_DELETE=COMMENT_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_DRAG=COMMENT_DRAG$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_MOVE=COMMENT_MOVE$$module$build$src$core$events$events;module$build$src$core$events$events.COMMENT_RESIZE=COMMENT_RESIZE$$module$build$src$core$events$events;module$build$src$core$events$events.CREATE=CREATE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;module$build$src$core$events$events.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;module$build$src$core$events$events.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;module$build$src$core$events$events.CommentCollapse=CommentCollapse$$module$build$src$core$events$events_comment_collapse;\nmodule$build$src$core$events$events.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;module$build$src$core$events$events.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;module$build$src$core$events$events.CommentDrag=CommentDrag$$module$build$src$core$events$events_comment_drag;module$build$src$core$events$events.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;\nmodule$build$src$core$events$events.CommentResize=CommentResize$$module$build$src$core$events$events_comment_resize;module$build$src$core$events$events.DELETE=DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.FINISHED_LOADING=FINISHED_LOADING$$module$build$src$core$events$events;module$build$src$core$events$events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;module$build$src$core$events$events.MOVE=MOVE$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.SELECTED=SELECTED$$module$build$src$core$events$events;module$build$src$core$events$events.Selected=Selected$$module$build$src$core$events$events_selected;module$build$src$core$events$events.THEME_CHANGE=THEME_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events;module$build$src$core$events$events.TRASHCAN_OPEN=TRASHCAN_OPEN$$module$build$src$core$events$events;\nmodule$build$src$core$events$events.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;module$build$src$core$events$events.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;module$build$src$core$events$events.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;module$build$src$core$events$events.UI=UI$$module$build$src$core$events$events;module$build$src$core$events$events.UiBase=UiBase$$module$build$src$core$events$events_ui_base;\nmodule$build$src$core$events$events.VAR_CREATE=VAR_CREATE$$module$build$src$core$events$events;module$build$src$core$events$events.VAR_DELETE=VAR_DELETE$$module$build$src$core$events$events;module$build$src$core$events$events.VAR_RENAME=VAR_RENAME$$module$build$src$core$events$events;module$build$src$core$events$events.VIEWPORT_CHANGE=VIEWPORT_CHANGE$$module$build$src$core$events$events;module$build$src$core$events$events.VarBase=VarBase$$module$build$src$core$events$events_var_base;\nmodule$build$src$core$events$events.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;module$build$src$core$events$events.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;module$build$src$core$events$events.VarRename=VarRename$$module$build$src$core$events$events_var_rename;module$build$src$core$events$events.VarTypeChange=VarTypeChange$$module$build$src$core$events$events_var_type_change;module$build$src$core$events$events.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;\nmodule$build$src$core$events$events.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$events.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$events.disableOrphans=disableOrphans$$module$build$src$core$events$utils;module$build$src$core$events$events.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$events.filter=filter$$module$build$src$core$events$utils;\nmodule$build$src$core$events$events.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$events.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$events.get=get$$module$build$src$core$events$utils;module$build$src$core$events$events.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;module$build$src$core$events$events.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;\nmodule$build$src$core$events$events.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$events.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.setRecordUndo=$.setRecordUndo$$module$build$src$core$events$utils;var module$build$src$core$renderers$zelos$zelos={};module$build$src$core$renderers$zelos$zelos.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;module$build$src$core$renderers$zelos$zelos.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;module$build$src$core$renderers$zelos$zelos.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;module$build$src$core$renderers$zelos$zelos.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;\nmodule$build$src$core$renderers$zelos$zelos.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;module$build$src$core$renderers$zelos$zelos.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;module$build$src$core$renderers$zelos$zelos.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;module$build$src$core$renderers$zelos$zelos.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;\nmodule$build$src$core$renderers$zelos$zelos.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;registerDefaultOptions$$module$build$src$core$contextmenu_items();var module$build$src$core$contextmenu_items={};module$build$src$core$contextmenu_items.registerCleanup=registerCleanup$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapse=registerCollapse$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapseExpandBlock=registerCollapseExpandBlock$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerComment=registerComment$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentCreate=registerCommentCreate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentDelete=registerCommentDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCommentDuplicate=registerCommentDuplicate$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerCommentOptions=registerCommentOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDefaultOptions=registerDefaultOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDelete=registerDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDeleteAll=registerDeleteAll$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerDisable=registerDisable$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDuplicate=registerDuplicate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerExpand=registerExpand$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerHelp=registerHelp$$module$build$src$core$contextmenu_items;\nmodule$build$src$core$contextmenu_items.registerInline=registerInline$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerRedo=registerRedo$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerUndo=registerUndo$$module$build$src$core$contextmenu_items;var BUTTON_TYPE$$module$build$src$core$button_flyout_inflater=\"button\",ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater=class{load(a,b){a=new FlyoutButton$$module$build$src$core$flyout_button(b.getWorkspace(),b.targetWorkspace,a,!1);a.show();return new FlyoutItem$$module$build$src$core$flyout_item(a,BUTTON_TYPE$$module$build$src$core$button_flyout_inflater)}gapForItem(a,b){return b}disposeItem(a){a=a.getElement();a instanceof FlyoutButton$$module$build$src$core$flyout_button&&a.dispose()}getType(){return BUTTON_TYPE$$module$build$src$core$button_flyout_inflater}};\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,BUTTON_TYPE$$module$build$src$core$button_flyout_inflater,ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater);var module$build$src$core$button_flyout_inflater={};module$build$src$core$button_flyout_inflater.ButtonFlyoutInflater=ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater;var module$build$src$core$bubbles={};module$build$src$core$bubbles.Bubble=Bubble$$module$build$src$core$bubbles$bubble;module$build$src$core$bubbles.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;module$build$src$core$bubbles.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;module$build$src$core$bubbles.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var module$build$src$core$blockly_options={};var WORKSPACE_AT_BLOCK_CAPACITY_DISABLED_REASON$$module$build$src$core$block_flyout_inflater=\"WORKSPACE_AT_BLOCK_CAPACITY\",BLOCK_TYPE$$module$build$src$core$block_flyout_inflater=\"block\",BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater=class{constructor(){this.permanentlyDisabledBlocks=new Set;this.listeners=new Map;this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(a,b){this.setFlyout(b);a=this.createBlock(a,b.getWorkspace());a.isEnabled()?this.updateStateBasedOnCapacity(a):\nthis.permanentlyDisabledBlocks.add(a);a.getDescendants(!1).forEach(c=>c.isInFlyout=!0);this.addBlockListeners(a);return new FlyoutItem$$module$build$src$core$flyout_item(a,BLOCK_TYPE$$module$build$src$core$block_flyout_inflater)}createBlock(a,b){a.blockxml?(a=typeof a.blockxml===\"string\"?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,b=domToBlockInternal$$module$build$src$core$xml(a,b)):(a.enabled===void 0&&(a.enabled=a.disabled!==\"true\"&&a.disabled!==!0),a.disabledReasons===\nvoid 0&&a.enabled===!1&&(a.disabledReasons=[MANUALLY_DISABLED$$module$build$src$core$constants]),\"x\"in a&&delete a.x,\"y\"in a&&delete a.y,b=appendInternal$$module$build$src$core$serialization$blocks(a,b));return b}gapForItem(a,b){let c;a.gap?c=parseInt(String(a.gap)):a.blockxml&&(a=typeof a.blockxml===\"string\"?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,c=parseInt(a.getAttribute(\"gap\")));return!c||isNaN(c)?b:c}disposeItem(a){a=a.getElement();a instanceof BlockSvg$$module$build$src$core$block_svg&&\n(this.removeListeners(a.id),a.dispose(!1,!1))}removeListeners(a){let b;((b=this.listeners.get(a))!=null?b:[]).forEach(c=>unbind$$module$build$src$core$browser_events(c));this.listeners.delete(a)}setFlyout(a){if(this.flyout!==a){if(this.flyout){let c;(c=this.flyout.targetWorkspace)==null||c.removeChangeListener(this.capacityWrapper)}this.flyout=a;var b;(b=this.flyout.targetWorkspace)==null||b.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(a){let b,c;const d=(b=this.flyout)==null?\nvoid 0:(c=b.targetWorkspace)==null?void 0:c.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(a));for(;a;)a.setDisabledReason(!d,WORKSPACE_AT_BLOCK_CAPACITY_DISABLED_REASON$$module$build$src$core$block_flyout_inflater),a=a.getNextBlock()}addBlockListeners(a){const b=[];b.push(conditionalBind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointerdown\",a,c=>{let d,e;const f=(d=this.flyout)==null?void 0:(e=d.targetWorkspace)==null?void 0:e.getGesture(c);f&&this.flyout&&(f.setStartBlock(a),\nf.handleFlyoutStart(c,this.flyout))}));b.push(bind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointermove\",null,()=>{let c,d;((c=this.flyout)==null?0:(d=c.targetWorkspace)==null?0:d.isDragging())||a.addSelect()}));b.push(bind$$module$build$src$core$browser_events(a.getSvgRoot(),\"pointerleave\",null,()=>{let c,d;((c=this.flyout)==null?0:(d=c.targetWorkspace)==null?0:d.isDragging())||a.removeSelect()}));this.listeners.set(a.id,b)}filterFlyoutBasedOnCapacity(a){!this.flyout||a&&a.type!==EventType$$module$build$src$core$events$type.BLOCK_CREATE&&\na.type!==EventType$$module$build$src$core$events$type.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(b=>{this.permanentlyDisabledBlocks.has(b)||this.updateStateBasedOnCapacity(b)})}getType(){return BLOCK_TYPE$$module$build$src$core$block_flyout_inflater}};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUT_INFLATER,BLOCK_TYPE$$module$build$src$core$block_flyout_inflater,BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater);\nvar module$build$src$core$block_flyout_inflater={};module$build$src$core$block_flyout_inflater.BlockFlyoutInflater=BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater;var module$build$src$core$interfaces$i_paster={};module$build$src$core$interfaces$i_paster.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;var module$build$src$core$interfaces$i_rendered_element={};module$build$src$core$interfaces$i_rendered_element.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;var ConstantProvider$$module$build$src$core$renderers$geras$constants=class extends ConstantProvider$$module$build$src$core$renderers$common$constants{constructor(){super();this.FIELD_TEXT_BASELINE_CENTER=!1;this.DARK_PATH_OFFSET=1;this.MAX_BOTTOM_WIDTH=30;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(a){return super.getCSS_(a).concat([`${a} .blocklyInsertionMarker>.blocklyPathLight,`,`${a} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,\"stroke: none;\",\n\"}\"])}},module$build$src$core$renderers$geras$constants={};module$build$src$core$renderers$geras$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;var Highlighter$$module$build$src$core$renderers$geras$highlighter=class{constructor(a){this.inlineSteps_=this.steps_=\"\";this.info_=a;this.RTL_=this.info_.RTL;a=a.getRenderer();this.constants_=a.getConstants();this.highlightConstants_=a.getHighlightConstants();this.highlightOffset=this.highlightConstants_.OFFSET;this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER;this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER;this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB;this.notchPaths_=\nthis.highlightConstants_.NOTCH;this.startPaths_=this.highlightConstants_.START_HAT;this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+\"\\n\"+this.inlineSteps_}drawTopCorner(a){this.steps_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(let b=0,c;c=a.elements[b];b++)Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(c)?this.steps_+=this.highlightConstants_.START_POINT:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(c)?\nthis.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(c)?this.steps_+=this.notchPaths_.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(c)?this.steps_+=this.startPaths_.path(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)&&c.width!==0&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",c.xPos+c.width-this.highlightOffset));this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",\na.xPos+a.width-this.highlightOffset)}drawJaggedEdge_(a){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(a){const b=a.getLastInput();if(this.RTL_){const c=a.height-b.connectionHeight;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width-this.highlightOffset,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\nc)}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(a){const b=a.getLastInput();if(b)if(this.RTL_){const c=a.height-2*this.insideCornerPaths_.height;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-\nb.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-b.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(a){const b=a.xPos+a.width-this.highlightOffset;a instanceof SpacerRow$$module$build$src$core$renderers$measurables$spacer_row&&a.followsStatement&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b));\nthis.RTL_&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",b),a.height>this.highlightOffset&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.yPos+a.height-this.highlightOffset)))}drawBottomRow(a){if(this.RTL_)this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.baseline-this.highlightOffset);else{const b=this.info_.bottomRow.elements[0];Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(b)?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+\nthis.highlightOffset,a.baseline-this.highlightOffset):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(b)&&(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos,a.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var a=this.info_.outputConnection;a&&(a=a.connectionOffsetY+a.height,this.RTL_?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX,a):(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX+\nthis.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_));this.RTL_||(a=this.info_.topRow,Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a.elements[0])?this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",this.outsideCornerPaths_.height):this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",a.capline+this.highlightOffset))}drawInlineInput(a){const b=\nthis.highlightOffset,c=a.xPos+a.connectionWidth;var d=a.centerline-a.height/2;const e=a.width-a.connectionWidth,f=d+b;this.RTL_?(d=a.connectionOffsetY-b,a=a.height-(a.connectionOffsetY+a.connectionHeight)+b,this.inlineSteps_+=moveTo$$module$build$src$core$utils$svg_paths(c-b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",e)):this.inlineSteps_+=\nmoveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.width+b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",a.height)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",-e)+moveTo$$module$build$src$core$utils$svg_paths(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},module$build$src$core$renderers$geras$highlighter={};module$build$src$core$renderers$geras$highlighter.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;var Drawer$$module$build$src$core$renderers$geras$drawer=class extends Drawer$$module$build$src$core$renderers$common$drawer{constructor(a,b){super(a,b);this.highlighter_=new Highlighter$$module$build$src$core$renderers$geras$highlighter(b)}draw(){this.drawOutline_();this.drawInternals_();this.updateConnectionHighlights();const a=this.block_.pathObject;a.setPath(this.outlinePath_+\"\\n\"+this.inlinePath_);a.setHighlightPath(this.highlighter_.getPath());this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow);\nthis.highlighter_.drawRightSideRow(this.info_.topRow);super.drawTop_()}drawJaggedEdge_(a){this.highlighter_.drawJaggedEdge_(a);super.drawJaggedEdge_(a)}drawValueInput_(a){this.highlighter_.drawValueInput(a);super.drawValueInput_(a)}drawStatementInput_(a){this.highlighter_.drawStatementInput(a);super.drawStatementInput_(a)}drawRightSideRow_(a){this.highlighter_.drawRightSideRow(a);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths(\"H\",a.xPos+a.width)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"V\",\na.yPos+a.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow);super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft();super.drawLeft_()}drawInlineInput_(a){this.highlighter_.drawInlineInput(a);super.drawInlineInput_(a)}positionInlineInputConnection_(a){const b=a.centerline-a.height/2;if(a.connectionModel){let c=a.xPos+a.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(a){const b=\na.getLastInput();if(b==null?0:b.connectionModel){let c=a.xPos+a.statementEdge+b.notchOffset;c=this.info_.RTL?c*-1:c+this.constants_.DARK_PATH_OFFSET;b.connectionModel.setOffsetInBlock(c,a.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(a){const b=a.getLastInput();if(b&&b.connectionModel){let c=a.xPos+a.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}}positionNextConnection_(){const a=this.info_.bottomRow;if(a.connection){const b=\na.connection,c=b.xPos;b.connectionModel.setOffsetInBlock((this.info_.RTL?-c:c)+this.constants_.DARK_PATH_OFFSET/2,a.baseline+this.constants_.DARK_PATH_OFFSET)}}},module$build$src$core$renderers$geras$drawer={};module$build$src$core$renderers$geras$drawer.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;var HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants=class{constructor(a){this.OFFSET=.5;this.constantProvider=a;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner();this.OUTSIDE_CORNER=this.makeOutsideCorner();this.PUZZLE_TAB=this.makePuzzleTab();this.NOTCH=this.makeNotch();this.JAGGED_TEETH=this.makeJaggedTeeth();this.START_HAT=this.makeStartHat()}makeInsideCorner(){const a=this.constantProvider.CORNER_RADIUS,\nb=this.OFFSET,c=(1-Math.SQRT1_2)*(a+b)-b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a,point$$module$build$src$core$utils$svg_paths(-c-b,a-c)),e=arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a+b,point$$module$build$src$core$utils$svg_paths(a+b,a+b)),f=moveBy$$module$build$src$core$utils$svg_paths(c,-c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,0\",a+b,point$$module$build$src$core$utils$svg_paths(a-c,c+b));return{width:a+\nb,height:a,pathTop(g){return g?d:\"\"},pathBottom(g){return g?e:f}}}makeOutsideCorner(){const a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a-b)+b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(a-c,-c+b)),e=moveBy$$module$build$src$core$utils$svg_paths(b,a)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(a,-a+\nb)),f=-c,g=moveBy$$module$build$src$core$utils$svg_paths(c,f)+arc$$module$build$src$core$utils$svg_paths(\"a\",\"0 0,1\",a-b,point$$module$build$src$core$utils$svg_paths(-c+b,-f-a));return{height:a,topLeft(h){return h?d:e},bottomLeft(){return g}}}makePuzzleTab(){const a=this.constantProvider.TAB_WIDTH,b=this.constantProvider.TAB_HEIGHT,c=moveBy$$module$build$src$core$utils$svg_paths(-2,-b+2.5+.9)+lineTo$$module$build$src$core$utils$svg_paths(a*-.45,-2.1),d=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",\n2.5)+moveBy$$module$build$src$core$utils$svg_paths(-a*.97,2.5)+curve$$module$build$src$core$utils$svg_paths(\"q\",[point$$module$build$src$core$utils$svg_paths(-a*.05,10),point$$module$build$src$core$utils$svg_paths(a*.3,9.5)])+moveBy$$module$build$src$core$utils$svg_paths(a*.67,-1.9)+lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",2.5),e=lineOnAxis$$module$build$src$core$utils$svg_paths(\"v\",-1.5)+moveBy$$module$build$src$core$utils$svg_paths(a*-.92,-.5)+curve$$module$build$src$core$utils$svg_paths(\"q\",\n[point$$module$build$src$core$utils$svg_paths(a*-.19,-5.5),point$$module$build$src$core$utils$svg_paths(0,-11)])+moveBy$$module$build$src$core$utils$svg_paths(a*.92,1),f=moveBy$$module$build$src$core$utils$svg_paths(-5,b-.7)+lineTo$$module$build$src$core$utils$svg_paths(a*.46,-2.1);return{width:a,height:b,pathUp(g){return g?c:e},pathDown(g){return g?d:f}}}makeNotch(){return{pathLeft:lineOnAxis$$module$build$src$core$utils$svg_paths(\"h\",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:lineTo$$module$build$src$core$utils$svg_paths(5.1,\n2.6)+moveBy$$module$build$src$core$utils$svg_paths(-10.2,6.8)+lineTo$$module$build$src$core$utils$svg_paths(5.1,2.6),height:12,width:10.2}}makeStartHat(){const a=this.constantProvider.START_HAT.height,b=moveBy$$module$build$src$core$utils$svg_paths(25,-8.7)+curve$$module$build$src$core$utils$svg_paths(\"c\",[point$$module$build$src$core$utils$svg_paths(29.7,-6.2),point$$module$build$src$core$utils$svg_paths(57.2,-.5),point$$module$build$src$core$utils$svg_paths(75,8.7)]),c=curve$$module$build$src$core$utils$svg_paths(\"c\",\n[point$$module$build$src$core$utils$svg_paths(17.8,-9.2),point$$module$build$src$core$utils$svg_paths(45.3,-14.9),point$$module$build$src$core$utils$svg_paths(75,-8.7)])+moveTo$$module$build$src$core$utils$svg_paths(100.5,a+.5);return{path(d){return d?b:c}}}},module$build$src$core$renderers$geras$highlight_constants={};module$build$src$core$renderers$geras$highlight_constants.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;var InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input=class extends InlineInput$$module$build$src$core$renderers$measurables$inline_input{constructor(a,b){super(a,b);this.constants_=a;this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},module$build$src$core$renderers$geras$measurables$inline_input={};module$build$src$core$renderers$geras$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;var StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input=class extends StatementInput$$module$build$src$core$renderers$measurables$statement_input{constructor(a,b){super(a,b);this.constants_=a;this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},module$build$src$core$renderers$geras$measurables$statement_input={};module$build$src$core$renderers$geras$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$geras$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b);this.renderer_=a}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_();this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(a,\nb){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input(this.constants_,a)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,\na)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;this.isInline||b.align!==null||(b.align=a.align)}addElemSpacing_(){let a=!1;for(let c=0,d;d=this.rows[c];c++)d.hasExternalInput&&(a=!0);for(let c=0,d;d=this.rows[c];c++){var b=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nthis.getInRowSpacing_(null,b[0])));if(b.length){for(let e=0;e<b.length-1;e++){d.elements.push(b[e]);const f=this.getInRowSpacing_(b[e],b[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f))}d.elements.push(b[b.length-1]);d.endsWithElemSpacer()&&(b=this.getInRowSpacing_(b[b.length-1],null),a&&d.hasDummyInput&&(b+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nb)))}}}getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&(!b||\nTypes$$module$build$src$core$renderers$measurables$types.isStatementInput(b)))return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.LARGE_PADDING*2+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?\nthis.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;\nif(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||\nTypes$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset+\n(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:\nTypes$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||!a.hasStatement&&b.hasDummyInput||a.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+\nb.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;let c=a.yPos;Types$$module$build$src$core$renderers$measurables$types.isField(b)||\nTypes$$module$build$src$core$renderers$measurables$types.isIcon(b)?(c+=b.height/2,(a.hasInlineInput||a.hasStatement)&&b.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=a.height&&(c+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):c=Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?c+b.height/2:c+a.height/2;return c}alignRowElements_(){if(this.isInline){var a=0,b=new WeakMap,c=null;for(let d=this.rows.length-1,e;e=this.rows[d];d--)b.set(e,a),Types$$module$build$src$core$renderers$measurables$types.isInputRow(e)&&\n(e.hasStatement&&this.alignStatementRow_(e),c&&c.hasStatement&&e.width<c.width?b.set(e,c.width):a=e.hasStatement?e.width:Math.max(a,e.width),c=e);a=0;for(let d=0,e;e=this.rows[d];d++)e.hasStatement?a=this.getDesiredRowWidth_(e):Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)?e.width=Math.max(a,b.get(e)):(c=e.width,a=Math.max(a,b.get(e))-c,a>0&&this.addAlignmentPadding_(e,a),a=e.width)}else super.alignRowElements_()}getDesiredRowWidth_(a){return this.isInline&&a.hasStatement?this.statementEdge+\nthis.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(a)}finalize_(){let a=0,b=0;for(let d=0,e;e=this.rows[d];d++){e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var c=b-this.topRow.ascenderHeight;e===this.bottomRow&&c<this.constants_.MIN_BLOCK_HEIGHT&&(c=this.constants_.MIN_BLOCK_HEIGHT-c,this.bottomRow.height+=c,b+=c);this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&\n(a=Math.max(a,c.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX+this.constants_.DARK_PATH_OFFSET;this.width+=this.constants_.DARK_PATH_OFFSET;this.height=b+this.constants_.DARK_PATH_OFFSET;this.startY=this.topRow.capline}},module$build$src$core$renderers$geras$info={};module$build$src$core$renderers$geras$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;var PathObject$$module$build$src$core$renderers$geras$path_object=class extends PathObject$$module$build$src$core$renderers$common$path_object{constructor(a,b,c){super(a,b,c);this.constants=c;this.colourDark=\"#000000\";this.svgPathDark=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{\"class\":\"blocklyPathDark\",transform:\"translate(1,1)\"});this.svgRoot.insertBefore(this.svgPathDark,this.svgPath);this.svgPathLight=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,\n{\"class\":\"blocklyPathLight\"},this.svgRoot)}setPath(a){this.svgPath.setAttribute(\"d\",a);this.svgPathDark.setAttribute(\"d\",a)}setHighlightPath(a){this.svgPathLight.setAttribute(\"d\",a)}flipRTL(){this.svgPath.setAttribute(\"transform\",\"scale(-1 1)\");this.svgPathLight.setAttribute(\"transform\",\"scale(-1 1)\");this.svgPathDark.setAttribute(\"transform\",\"translate(1,1) scale(-1 1)\")}applyColour(a){this.svgPathLight.style.display=\"\";this.svgPathDark.style.display=\"\";if(!this.style.colourTertiary)throw Error(\"The renderer did not properly initialize the tertiary colour of the block style\");\nthis.svgPathLight.setAttribute(\"stroke\",this.style.colourTertiary);this.svgPathDark.setAttribute(\"fill\",this.colourDark);super.applyColour(a);this.svgPath.setAttribute(\"stroke\",\"none\")}setStyle(a){this.style=a;this.colourDark=blend$$module$build$src$core$utils$colour(\"#000\",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(a){super.updateHighlighted(a);this.svgPathLight.style.display=a?\"none\":\"inline\"}updateShadow_(a){if(a){this.svgPathLight.style.display=\"none\";if(!this.style.colourSecondary)throw Error(\"The renderer did not properly initialize the secondary colour of the block style block style\");\nthis.svgPathDark.setAttribute(\"fill\",this.style.colourSecondary);this.svgPath.setAttribute(\"stroke\",\"none\");this.svgPath.setAttribute(\"fill\",this.style.colourSecondary)}}updateDisabled_(a){super.updateDisabled_(a);a&&this.svgPath.setAttribute(\"stroke\",\"none\")}},module$build$src$core$renderers$geras$path_object={};module$build$src$core$renderers$geras$path_object.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;var Renderer$$module$build$src$core$renderers$geras$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a);this.highlightConstants=null}init(a,b){super.init(a,b);this.highlightConstants=this.makeHighlightConstants_();this.highlightConstants.init()}refreshDom(a,b,c){super.refreshDom(a,b,c);this.getHighlightConstants().init()}makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$geras$constants}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$geras$info(this,\na)}makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$geras$drawer(a,b)}makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$geras$path_object(a,b,this.getConstants())}makeHighlightConstants_(){return new HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error(\"Cannot access the highlight constants because init has not been called\");return this.highlightConstants}};\nregister$$module$build$src$core$renderers$common$block_rendering(\"geras\",Renderer$$module$build$src$core$renderers$geras$renderer);var module$build$src$core$renderers$geras$renderer={};module$build$src$core$renderers$geras$renderer.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;var module$build$src$core$renderers$geras$geras={};module$build$src$core$renderers$geras$geras.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;module$build$src$core$renderers$geras$geras.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;module$build$src$core$renderers$geras$geras.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;module$build$src$core$renderers$geras$geras.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;\nmodule$build$src$core$renderers$geras$geras.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;module$build$src$core$renderers$geras$geras.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;module$build$src$core$renderers$geras$geras.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;module$build$src$core$renderers$geras$geras.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;\nmodule$build$src$core$renderers$geras$geras.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$thrasos$info=class extends RenderInfo$$module$build$src$core$renderers$common$info{constructor(a,b){super(a,b)}getRenderer(){return this.renderer_}addElemSpacing_(){let a=!1;for(var b=0;b<this.rows.length;b++)if(this.rows[b].hasExternalInput){a=!0;break}for(b=0;b<this.rows.length;b++){const d=this.rows[b];var c=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nthis.getInRowSpacing_(null,c[0])));if(c.length){for(let e=0;e<c.length-1;e++){d.elements.push(c[e]);const f=this.getInRowSpacing_(c[e],c[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f))}d.elements.push(c[c.length-1]);d.endsWithElemSpacer()&&(c=this.getInRowSpacing_(c[c.length-1],null),a&&d.hasDummyInput&&(c+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,\nc)))}}}getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b)return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&\na.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.LARGE_PADDING*2+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:\nTypes$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&\nb&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;\nif(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?\nthis.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset}return Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&\nb?b.notchOffset-this.constants_.CORNER_RADIUS:Types$$module$build$src$core$renderers$measurables$types.isField(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable?a.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&\nTypes$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||a.hasDummyInput||b.hasDummyInput?this.constants_.LARGE_PADDING:\nthis.constants_.MEDIUM_PADDING}getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?\na.capline-b.height/2:a.capline+b.height/2;let c=a.yPos;return c=Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.hasStatement?c+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+b.height/2):c+a.height/2}finalize_(){let a=0,b=0;for(var c=0;c<this.rows.length;c++){const e=this.rows[c];e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var d=b-this.topRow.ascenderHeight;e===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-\nd,this.bottomRow.height+=d,b+=d);this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&(a=Math.max(a,c.getHeightWidth().width));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline}},module$build$src$core$renderers$thrasos$info={};module$build$src$core$renderers$thrasos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;var Renderer$$module$build$src$core$renderers$thrasos$renderer=class extends Renderer$$module$build$src$core$renderers$common$renderer{constructor(a){super(a)}makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$thrasos$info(this,a)}};register$$module$build$src$core$renderers$common$block_rendering(\"thrasos\",Renderer$$module$build$src$core$renderers$thrasos$renderer);var module$build$src$core$renderers$thrasos$renderer={};\nmodule$build$src$core$renderers$thrasos$renderer.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var module$build$src$core$renderers$thrasos$thrasos={};module$build$src$core$renderers$thrasos$thrasos.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;module$build$src$core$renderers$thrasos$thrasos.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var defaultBlockStyles$$module$build$src$core$theme$zelos={colour_blocks:{colourPrimary:\"#CF63CF\",colourSecondary:\"#C94FC9\",colourTertiary:\"#BD42BD\"},list_blocks:{colourPrimary:\"#9966FF\",colourSecondary:\"#855CD6\",colourTertiary:\"#774DCB\"},logic_blocks:{colourPrimary:\"#4C97FF\",colourSecondary:\"#4280D7\",colourTertiary:\"#3373CC\"},loop_blocks:{colourPrimary:\"#0fBD8C\",colourSecondary:\"#0DA57A\",colourTertiary:\"#0B8E69\"},math_blocks:{colourPrimary:\"#59C059\",colourSecondary:\"#46B946\",colourTertiary:\"#389438\"},\nprocedure_blocks:{colourPrimary:\"#FF6680\",colourSecondary:\"#FF4D6A\",colourTertiary:\"#FF3355\"},text_blocks:{colourPrimary:\"#FFBF00\",colourSecondary:\"#E6AC00\",colourTertiary:\"#CC9900\"},variable_blocks:{colourPrimary:\"#FF8C1A\",colourSecondary:\"#FF8000\",colourTertiary:\"#DB6E00\"},variable_dynamic_blocks:{colourPrimary:\"#FF8C1A\",colourSecondary:\"#FF8000\",colourTertiary:\"#DB6E00\"},hat_blocks:{colourPrimary:\"#4C97FF\",colourSecondary:\"#4280D7\",colourTertiary:\"#3373CC\",hat:\"cap\"}},categoryStyles$$module$build$src$core$theme$zelos=\n{colour_category:{colour:\"#CF63CF\"},list_category:{colour:\"#9966FF\"},logic_category:{colour:\"#4C97FF\"},loop_category:{colour:\"#0fBD8C\"},math_category:{colour:\"#59C059\"},procedure_category:{colour:\"#FF6680\"},text_category:{colour:\"#FFBF00\"},variable_category:{colour:\"#FF8C1A\"},variable_dynamic_category:{colour:\"#FF8C1A\"}},Zelos$$module$build$src$core$theme$zelos=new Theme$$module$build$src$core$theme(\"zelos\",defaultBlockStyles$$module$build$src$core$theme$zelos,categoryStyles$$module$build$src$core$theme$zelos),\nmodule$build$src$core$theme$zelos={Zelos:Zelos$$module$build$src$core$theme$zelos};var module$build$src$core$theme$themes={Classic:Classic$$module$build$src$core$theme$classic,Zelos:Zelos$$module$build$src$core$theme$zelos};var ToolboxItem$$module$build$src$core$toolbox$toolbox_item=class{constructor(a,b,c){this.id_=a.toolboxitemid||getNextUniqueId$$module$build$src$core$utils$idgenerator();this.level_=(this.parent_=c||null)?this.parent_.getLevel()+1:0;this.toolboxItemDef_=a;this.parentToolbox_=b;this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(a){}getFocusableElement(){const a=\nthis.getDiv();if(!a)throw Error(\"Trying to access toolbox item before DOM is initialized.\");if(!(a instanceof HTMLElement))throw Error(\"Toolbox item div is unexpectedly not an HTML element.\");return a}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},module$build$src$core$toolbox$toolbox_item={};module$build$src$core$toolbox$toolbox_item.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;var ToolboxCategory$$module$build$src$core$toolbox$category=class extends ToolboxItem$$module$build$src$core$toolbox$toolbox_item{constructor(a,b,c){super(a,b,c);this.colour_=this.name_=\"\";this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null;this.isDisabled_=this.isHidden_=!1;this.flyoutItems_=[];this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_);this.parseContents_(this.toolboxItemDef_);this.createDom_();this.toolboxItemDef_.hidden===\n\"true\"&&this.hide()}makeDefaultCssConfig_(){return{container:\"blocklyToolboxCategoryContainer\",row:\"blocklyToolboxCategory\",rowcontentcontainer:\"blocklyTreeRowContentContainer\",icon:\"blocklyToolboxCategoryIcon\",label:\"blocklyToolboxCategoryLabel\",contents:\"blocklyToolboxCategoryGroup\",selected:\"blocklyToolboxSelected\",openicon:\"blocklyToolboxCategoryIconOpen\",closedicon:\"blocklyToolboxCategoryIconClosed\"}}parseContents_(a){if(\"custom\"in a)this.flyoutItems_=a.custom;else if(a=a.contents)for(let b=\n0;b<a.length;b++){const c=a[b];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(c)}}parseCategoryDef_(a){this.name_=\"name\"in a?replaceMessageReferences$$module$build$src$core$utils$parsing(a.name):\"\";this.colour_=this.getColour_(a);Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_();setRole$$module$build$src$core$utils$aria(this.htmlDiv_,Role$$module$build$src$core$utils$aria.TREEITEM);setState$$module$build$src$core$utils$aria(this.htmlDiv_,\nState$$module$build$src$core$utils$aria.SELECTED,!1);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LEVEL,this.level_+1);this.rowDiv_=this.createRowContainer_();this.rowDiv_.style.pointerEvents=\"auto\";this.htmlDiv_.appendChild(this.rowDiv_);this.rowContents_=this.createRowContentsContainer_();this.rowContents_.style.pointerEvents=\"none\";this.rowDiv_.appendChild(this.rowContents_);this.iconDom_=this.createIconDom_();setRole$$module$build$src$core$utils$aria(this.iconDom_,\nRole$$module$build$src$core$utils$aria.PRESENTATION);this.rowContents_.appendChild(this.iconDom_);this.labelDom_=this.createLabelDom_(this.name_);this.rowContents_.appendChild(this.labelDom_);const a=this.labelDom_.getAttribute(\"id\");a&&setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LABELLEDBY,a);this.addColourBorder_(this.colour_);return this.htmlDiv_}createContainer_(){const a=document.createElement(\"div\");a.tabIndex=-1;a.id=this.getId();const b=\nthis.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return a}createRowContainer_(){const a=document.createElement(\"div\");var b=this.cssConfig_.row;b&&addClass$$module$build$src$core$utils$dom(a,b);b=`${ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding*this.getLevel()}px`;this.workspace_.RTL?a.style.paddingRight=b:a.style.paddingLeft=b;return a}createRowContentsContainer_(){const a=document.createElement(\"div\"),b=this.cssConfig_.rowcontentcontainer;b&&addClass$$module$build$src$core$utils$dom(a,\nb);return a}createIconDom_(){const a=document.createElement(\"span\");if(!this.parentToolbox_.isHorizontal()){const b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b)}a.style.display=\"inline-block\";return a}createLabelDom_(a){const b=document.createElement(\"span\");b.setAttribute(\"id\",this.getId()+\".label\");b.textContent=a;(a=this.cssConfig_.label)&&addClass$$module$build$src$core$utils$dom(b,a);return b}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_);this.addColourBorder_(this.colour_)}addColourBorder_(a){a&&\n(a=ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth+\"px solid \"+(a||\"#ddd\"),this.workspace_.RTL?this.rowDiv_.style.borderRight=a:this.rowDiv_.style.borderLeft=a)}getColour_(a){const b=a.categorystyle||a.categoryStyle;if((a=a.colour)&&b)console.warn('Toolbox category \"'+this.name_+'\" must not have both a style and a colour');else{if(b)return this.getColourfromStyle(b);if(a)return this.parseColour(a)}return\"\"}getColourfromStyle(a){var b=this.workspace_.getTheme();if(a&&b){if((b=b.categoryStyles[a])&&\nb.colour)return this.parseColour(b.colour);console.warn('Style \"'+a+'\" must exist and contain a colour value')}return\"\"}getClickTarget(){return this.rowDiv_}parseColour(a){a=replaceMessageReferences$$module$build$src$core$utils$parsing(a);if(a==null||a===\"\")return\"\";var b=Number(a);if(isNaN(b)){if(b=parse$$module$build$src$core$utils$colour(a))return b;console.warn('Toolbox category \"'+this.name_+'\" has unrecognized colour attribute: '+a);return\"\"}return hueToHex$$module$build$src$core$utils$colour(b)}openIcon_(a){if(a){var b=\nthis.cssConfig_.closedicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.openicon)&&addClass$$module$build$src$core$utils$dom(a,b)}}closeIcon_(a){if(a){var b=this.cssConfig_.openicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.closedicon)&&addClass$$module$build$src$core$utils$dom(a,b)}}setVisible_(a){this.htmlDiv_.style.display=a?\"block\":\"none\";this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&\nthis.allAncestorsExpanded_()}allAncestorsExpanded_(){let a=this;for(;a.getParent();)if(a=a.getParent(),!a.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(a){}setSelected(a){if(this.rowDiv_){var b=this.cssConfig_.selected;if(a){const c=this.parseColour(ToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||c;b&&addClass$$module$build$src$core$utils$dom(this.rowDiv_,b)}else this.rowDiv_.style.backgroundColor=\n\"\",b&&removeClass$$module$build$src$core$utils$dom(this.rowDiv_,b);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.SELECTED,a)}}setDisabled(a){this.isDisabled_=a;this.getDiv().setAttribute(\"disabled\",`${a}`);a?this.getDiv().setAttribute(\"disabled\",\"true\"):this.getDiv().removeAttribute(\"disabled\")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(a){this.flyoutItems_=\n[];this.toolboxItemDef_=typeof a===\"string\"?{kind:this.toolboxItemDef_.kind,custom:a,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:\"name\"in this.toolboxItemDef_?this.toolboxItemDef_.name:\"\",contents:convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,\ncolour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden};this.parseContents_(this.toolboxItemDef_)}dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv_)}};ToolboxCategory$$module$build$src$core$toolbox$category.registrationName=\"category\";ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding=19;ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth=8;\nToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour=\"#57e\";register$$module$build$src$core$css('\\n.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {\\n  background-color: rgba(255, 255, 255, .2);\\n}\\n\\n.blocklyToolbox[layout=\"h\"] .blocklyToolboxCategoryContainer {\\n  margin: 1px 5px 1px 0;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"][layout=\"h\"] .blocklyToolboxCategoryContainer {\\n  margin: 1px 0 1px 5px;\\n}\\n\\n.blocklyToolboxCategory {\\n  height: 22px;\\n  line-height: 22px;\\n  margin-bottom: 3px;\\n  padding-right: 8px;\\n  white-space: nowrap;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxCategory {\\n  margin-left: 8px;\\n  padding-right: 0;\\n}\\n\\n.blocklyToolboxCategoryIcon {\\n  background-image: url(<<<PATH>>>/sprites.png);\\n  height: 16px;\\n  vertical-align: middle;\\n  visibility: hidden;\\n  width: 16px;\\n}\\n\\n.blocklyToolboxCategoryIconClosed {\\n  background-position: -32px -1px;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxCategoryIconClosed {\\n  background-position: 0 -1px;\\n}\\n\\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\\n  background-position: -32px -17px;\\n}\\n\\n.blocklyToolbox[dir=\"RTL\"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {\\n  background-position: 0 -17px;\\n}\\n\\n.blocklyToolboxCategoryIconOpen {\\n  background-position: -16px -1px;\\n}\\n\\n.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {\\n  background-position: -16px -17px;\\n}\\n\\n.blocklyToolboxCategoryLabel {\\n  cursor: default;\\n  font: 16px sans-serif;\\n  padding: 0 3px;\\n  vertical-align: middle;\\n}\\n\\n.blocklyToolboxDelete .blocklyToolboxCategoryLabel {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyToolboxSelected .blocklyToolboxCategoryLabel {\\n  color: #fff;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxCategory$$module$build$src$core$toolbox$category.registrationName,ToolboxCategory$$module$build$src$core$toolbox$category);var module$build$src$core$toolbox$category={};module$build$src$core$toolbox$category.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;var ToolboxSeparator$$module$build$src$core$toolbox$separator=class extends ToolboxItem$$module$build$src$core$toolbox$toolbox_item{constructor(a,b){super(a,b);this.cssConfig_={container:\"blocklyTreeSeparator\"};this.htmlDiv=null;Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig)}init(){this.createDom_()}createDom_(){const a=document.createElement(\"div\");a.tabIndex=-1;a.id=this.getId();const b=this.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return this.htmlDiv=a}getDiv(){return this.htmlDiv}dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv)}};\nToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName=\"sep\";register$$module$build$src$core$css('\\n.blocklyTreeSeparator {\\n  border-bottom: solid #e5e5e5 1px;\\n  height: 0;\\n  margin: 5px 0;\\n}\\n\\n.blocklyToolbox[layout=\"h\"] .blocklyTreeSeparator {\\n  border-right: solid #e5e5e5 1px;\\n  border-bottom: none;\\n  height: auto;\\n  margin: 0 5px 0 5px;\\n  padding: 5px 0;\\n  width: 0;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName,ToolboxSeparator$$module$build$src$core$toolbox$separator);var module$build$src$core$toolbox$separator={};module$build$src$core$toolbox$separator.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;var CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category=class extends ToolboxCategory$$module$build$src$core$toolbox$category{constructor(a,b,c){super(a,b,c);this.subcategoriesDiv_=null;this.expanded_=!1;this.toolboxItems_=[]}makeDefaultCssConfig_(){const a=super.makeDefaultCssConfig_();a.contents=\"blocklyToolboxCategoryGroup\";return a}parseContents_(a){if(\"custom\"in a)this.flyoutItems_=a.custom;else{const b=a.contents;if(b){this.flyoutItems_=[];a=!0;for(let c=0;c<b.length;c++){const d=\nb[c];!hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName&&a?(this.flyoutItems_.push(d),a=!0):(this.createToolboxItem(d),a=!1)}}}}createToolboxItem(a){let b=a.kind;b.toUpperCase()===\"CATEGORY\"&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(b=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);\na=new (getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,b))(a,this.parentToolbox_,this);this.toolboxItems_.push(a)}init(){super.init();this.setExpanded(this.toolboxItemDef_.expanded===\"true\"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const a=this.getChildToolboxItems();this.subcategoriesDiv_=this.createSubCategoriesDom_(a);setRole$$module$build$src$core$utils$aria(this.subcategoriesDiv_,Role$$module$build$src$core$utils$aria.GROUP);\nthis.htmlDiv_.appendChild(this.subcategoriesDiv_);this.closeIcon_(this.iconDom_);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,!1);return this.htmlDiv_}createIconDom_(){const a=document.createElement(\"span\");if(!this.parentToolbox_.isHorizontal()){const b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b);a.style.visibility=\"visible\"}a.style.display=\"inline-block\";return a}createSubCategoriesDom_(a){const b=document.createElement(\"div\");\nb.style.display=\"none\";var c=this.cssConfig_.contents;c&&addClass$$module$build$src$core$utils$dom(b,c);for(c=0;c<a.length;c++){const d=a[c];d.init();const e=d.getDiv();b.appendChild(e);if(d.getClickTarget){let f;(f=d.getClickTarget())==null||f.setAttribute(\"id\",d.getId())}}return b}setExpanded(a){if(this.expanded_!==a){if(this.expanded_=a)this.subcategoriesDiv_.style.display=\"block\",this.openIcon_(this.iconDom_);else{let b;(b=this.parentToolbox_.getFlyout())==null||b.setVisible(!1);this.subcategoriesDiv_.style.display=\n\"none\";this.closeIcon_(this.iconDom_)}setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,a);this.parentToolbox_.handleToolboxItemResize()}}setVisible_(a){this.htmlDiv_.style.display=a?\"block\":\"none\";const b=this.getChildToolboxItems();for(let c=0;c<b.length;c++)b[c].setVisible_(a);this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(a){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};\nCollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName=\"collapsibleCategory\";register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category);var module$build$src$core$toolbox$collapsible_category={};\nmodule$build$src$core$toolbox$collapsible_category.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;var module$build$src$core$interfaces$i_selectable_toolbox_item={};module$build$src$core$interfaces$i_selectable_toolbox_item.isSelectableToolboxItem=isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item;var Toolbox$$module$build$src$core$toolbox$toolbox=class extends DeleteArea$$module$build$src$core$delete_area{constructor(a){super();this.id=\"toolbox\";this.contentsDiv_=this.HtmlDiv=null;this.isVisible_=!1;this.height_=this.width_=0;this.flyout=null;this.contents=new Map;this.previouslySelectedItem_=this.selectedItem_=null;this.boundEvents_=[];this.workspace_=a;this.toolboxDef_=a.options.languageTree||{contents:[]};this.horizontalLayout=a.options.horizontalLayout;this.RTL=a.options.RTL;this.toolboxPosition=\na.options.toolboxPosition}onShortcut(a){return!1}init(){var a=this.workspace_;const b=a.getParentSvg();this.flyout=this.createFlyout_();this.HtmlDiv=this.createDom_(this.workspace_);const c=this.flyout.createDom(\"svg\");addClass$$module$build$src$core$utils$dom(c,\"blocklyToolboxFlyout\");insertAfter$$module$build$src$core$utils$dom(c,b);this.setVisible(!0);this.flyout.init(a);this.render(this.toolboxDef_);a=a.getThemeManager();a.subscribe(this.HtmlDiv,\"toolboxBackgroundColour\",\"background-color\");a.subscribe(this.HtmlDiv,\n\"toolboxForegroundColour\",\"color\");this.workspace_.getComponentManager().addComponent({component:this,weight:ComponentManager$$module$build$src$core$component_manager.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]});$.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,\n!0)}createDom_(a){a=a.getParentSvg();const b=this.createContainer_();b.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.contentsDiv_=this.createContentsContainer_();setRole$$module$build$src$core$utils$aria(this.contentsDiv_,Role$$module$build$src$core$utils$aria.TREE);b.appendChild(this.contentsDiv_);a.parentNode.insertBefore(b,a);this.attachEvents_(b,this.contentsDiv_);return b}createContainer_(){const a=document.createElement(\"div\");a.setAttribute(\"layout\",this.isHorizontal()?\n\"h\":\"v\");addClass$$module$build$src$core$utils$dom(a,\"blocklyToolbox\");a.setAttribute(\"dir\",this.RTL?\"RTL\":\"LTR\");return a}createContentsContainer_(){const a=document.createElement(\"div\");addClass$$module$build$src$core$utils$dom(a,\"blocklyToolboxCategoryGroup\");this.isHorizontal()&&(a.style.flexDirection=\"row\");return a}attachEvents_(a,b){a=conditionalBind$$module$build$src$core$browser_events(a,\"pointerdown\",this,this.onClick_,!1);this.boundEvents_.push(a);b=conditionalBind$$module$build$src$core$browser_events(b,\n\"keydown\",this,this.onKeyDown_,!1);this.boundEvents_.push(b)}onClick_(a){if(isRightButton$$module$build$src$core$browser_events(a)||a.target===this.HtmlDiv)getMainWorkspace$$module$build$src$core$common().hideChaff(!1);else{var b=a.target.getAttribute(\"id\");b&&(b=this.getToolboxItemById(b),b.isSelectable()&&(this.setSelectedItem(b),b.onClick(a)));getMainWorkspace$$module$build$src$core$common().hideChaff(!0)}clearTouchIdentifier$$module$build$src$core$touch()}onKeyDown_(a){let b=!1;switch(a.key){case \"ArrowDown\":b=\nthis.selectNext();break;case \"ArrowUp\":b=this.selectPrevious();break;case \"ArrowLeft\":b=this.selectParent();break;case \"ArrowRight\":b=this.selectChild();break;case \"Enter\":case \" \":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),b=!0);break;default:b=!1}!b&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(b=this.selectedItem_.onKeyDown(a));b&&a.preventDefault()}createFlyout_(){const a=this.workspace_,b=a.copyOptionsForFlyout();b.toolboxPosition=a.options.toolboxPosition;\nreturn new (a.horizontalLayout?getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,a.options,!0):getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,a.options,!0))(b)}render(a){this.toolboxDef_=a;this.contents.forEach(b=>b.dispose());this.contents.clear();this.renderContents_(a.contents);this.position();this.handleToolboxItemResize()}renderContents_(a){const b=document.createDocumentFragment();\nfor(let c=0;c<a.length;c++)this.createToolboxItem(a[c],b);this.contentsDiv_.appendChild(b)}createToolboxItem(a,b){var c=a.kind;c.toUpperCase()===\"CATEGORY\"&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(c=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);if(c=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,c.toLowerCase()))a=new c(a,this),a.init(),this.addToolboxItem_(a),(c=a.getDiv())&&b.appendChild(c),\na.getClickTarget()&&a.getClickTarget().setAttribute(\"id\",a.getId())}addToolboxItem_(a){this.contents.set(a.getId(),a);if(a.isCollapsible()){a=a.getChildToolboxItems();for(let b=0;b<a.length;b++)this.addToolboxItem_(a[b])}}getToolboxItems(){return[...this.contents.values()]}addStyle(a){a&&this.HtmlDiv&&addClass$$module$build$src$core$utils$dom(this.HtmlDiv,a)}removeStyle(a){a&&this.HtmlDiv&&removeClass$$module$build$src$core$utils$dom(this.HtmlDiv,a)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;\nvar a=this.HtmlDiv.getBoundingClientRect();const b=a.top,c=b+a.height,d=a.left;a=d+a.width;return this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E7,c,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.BOTTOM?new Rect$$module$build$src$core$utils$rect(b,1E7,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E7,1E7,-1E7,a):new Rect$$module$build$src$core$utils$rect(-1E7,\n1E7,d,1E7)}wouldDelete(a){a instanceof BlockSvg$$module$build$src$core$block_svg?this.updateWouldDelete_(!a.getParent()&&a.isDeletable()):this.updateWouldDelete_(isDeletable$$module$build$src$core$interfaces$i_deletable(a)&&a.isDeletable());return this.wouldDelete_}onDragEnter(a){this.updateCursorDeleteStyle_(!0)}onDragExit(a){this.updateCursorDeleteStyle_(!1)}onDrop(a){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(a){a!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=\na,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(a){const b=this.wouldDelete_?\"blocklyToolboxDelete\":\"blocklyToolboxGrab\";a?this.addStyle(b):this.removeStyle(b)}getToolboxItemById(a){return this.contents.get(a)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const a=\nthis.workspace_.getMetrics(),b=this.HtmlDiv;b&&(this.horizontalLayout?(b.style.left=\"0\",b.style.height=\"auto\",b.style.width=\"100%\",this.height_=b.offsetHeight,this.width_=a.viewWidth,this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?b.style.top=\"0\":b.style.bottom=\"0\"):(this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?b.style.right=\"0\":b.style.left=\"0\",b.style.height=\"100%\",this.width_=b.offsetWidth,this.height_=a.viewHeight),this.flyout.position())}handleToolboxItemResize(){const a=\nthis.workspace_;var b=this.HtmlDiv.getBoundingClientRect();const c=this.getFlyout(),d=this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?a.scrollX+b.width+((c==null?0:c.isVisible())?c.getWidth():0):a.scrollX;b=this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?a.scrollY+b.height+((c==null?0:c.isVisible())?c.getHeight():0):a.scrollY;a.translate(d,b);svgResize$$module$build$src$core$common(a)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(a=>\n{a.refreshTheme&&a.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(a){this.isVisible_!==a&&(this.HtmlDiv.style.display=a?\"block\":\"none\",this.isVisible_=a,this.workspace_.recordDragTargets())}autoHide(a){!a&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(a){const b=this.selectedItem_;!a&&!b||a&&!isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item(a)||\n(this.shouldDeselectItem_(b,a)&&b!==null&&this.deselectItem_(b),this.shouldSelectItem_(b,a)&&a!==null&&this.selectItem_(b,a),this.updateFlyout_(b,a),this.fireSelectEvent(b,a))}shouldDeselectItem_(a,b){return a!==null&&(!a.isCollapsible()||a!==b)}shouldSelectItem_(a,b){return b!==null&&b!==a}deselectItem_(a){this.selectedItem_=null;this.previouslySelectedItem_=a;a.setSelected(!1);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,\"\")}selectItem_(a,\nb){this.selectedItem_=b;this.previouslySelectedItem_=a;b.setSelected(!0);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,b.getId())}selectItemByPosition(a){(a=this.getToolboxItems()[a])&&this.setSelectedItem(a)}updateFlyout_(a,b){b&&(a!==b||b.isCollapsible())&&b.getContents().length?(this.flyout.show(b.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(a,b){const c=a&&a.getName();let d=b&&b.getName();\na===b&&(d=null);a=new (get$$module$build$src$core$events$utils(EventType$$module$build$src$core$events$type.TOOLBOX_ITEM_SELECT))(c,d,this.workspace_.id);fire$$module$build$src$core$events$utils(a)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||\n!this.selectedItem_.isCollapsible())return!1;const a=this.selectedItem_;a.isExpanded()?this.selectNext():a.toggleExpanded();return!0}selectNext(){if(!this.selectedItem_)return!1;const a=[...this.contents.values()];let b=a.indexOf(this.selectedItem_)+1;if(b>-1&&b<a.length){let c=a[b];for(;c&&!c.isSelectable();)c=a[++b];if(c&&c.isSelectable())return this.setSelectedItem(c),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const a=[...this.contents.values()];let b=a.indexOf(this.selectedItem_)-\n1;if(b>-1&&b<a.length){let c=a[b];for(;c&&!c.isSelectable();)c=a[--b];if(c&&c.isSelectable())return this.setSelectedItem(c),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent(\"toolbox\");this.flyout.dispose();this.contents.forEach(a=>a.dispose());for(let a=0;a<this.boundEvents_.length;a++)unbind$$module$build$src$core$browser_events(this.boundEvents_[a]);this.boundEvents_=[];this.contents.clear();this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),removeNode$$module$build$src$core$utils$dom(this.HtmlDiv));\n$.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error(\"Toolbox DOM has not yet been created.\");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(a){if(!a||a===this){let b;return(b=this.getToolboxItems().find(c=>c.isSelectable()))!=null?b:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(a){return this.getToolboxItemById(a)}onTreeFocus(a,\nb){a!==this?this.getSelectedItem()!==a&&this.setSelectedItem(a):this.clearSelection()}onTreeBlur(a){let b;a&&a===((b=this.flyout)==null?void 0:b.getWorkspace())||this.autoHide(!1)}};register$$module$build$src$core$css('\\n.blocklyToolboxDelete {\\n  cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;\\n}\\n\\n.blocklyToolboxGrab {\\n  cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n/* Category tree in Toolbox. */\\n.blocklyToolbox {\\n  box-sizing: border-box;\\n  user-select: none;\\n  -ms-user-select: none;\\n  -webkit-user-select: none;\\n  background-color: #ddd;\\n  overflow-x: visible;\\n  overflow-y: auto;\\n  padding: 4px 0 4px 0;\\n  position: absolute;\\n  z-index: 70;  /* so blocks go under toolbox when dragging */\\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\\n}\\n\\n.blocklyToolboxCategoryGroup {\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: column;\\n}\\n\\n.blocklyToolboxCategoryGroup:focus {\\n  outline: none;\\n}\\n');\nregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,DEFAULT$$module$build$src$core$registry,Toolbox$$module$build$src$core$toolbox$toolbox);var module$build$src$core$toolbox$toolbox={};module$build$src$core$toolbox$toolbox.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;var module$build$src$core$interfaces$i_navigation_policy={};var VERSION$$module$build$src$core$blockly=\"12.3.0\",INPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,OUTPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE,NEXT_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT,PREVIOUS_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT,\nTOOLBOX_AT_TOP$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.TOP,TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.BOTTOM,TOOLBOX_AT_LEFT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.LEFT,TOOLBOX_AT_RIGHT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.RIGHT,svgResize$$module$build$src$core$blockly=svgResize$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$blockly=\ngetMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$blockly=getSelected$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$blockly=defineBlocksWithJsonArray$$module$build$src$core$common,setParentContainer$$module$build$src$core$blockly=setParentContainer$$module$build$src$core$common,COLLAPSE_CHARS$$module$build$src$core$blockly=COLLAPSE_CHARS$$module$build$src$core$internal_constants,OPPOSITE_TYPE$$module$build$src$core$blockly=OPPOSITE_TYPE$$module$build$src$core$internal_constants,\nRENAME_VARIABLE_ID$$module$build$src$core$blockly=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID$$module$build$src$core$blockly=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,COLLAPSED_INPUT_NAME$$module$build$src$core$blockly=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,COLLAPSED_FIELD_NAME$$module$build$src$core$blockly=COLLAPSED_FIELD_NAME$$module$build$src$core$constants,VARIABLE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables,\nVARIABLE_DYNAMIC_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables_dynamic,PROCEDURE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$procedures;Workspace$$module$build$src$core$workspace.prototype.newBlock=function(a,b){return new Block$$module$build$src$core$block(this,a,b)};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newBlock=function(a,b){return new BlockSvg$$module$build$src$core$block_svg(this,a,b)};\nWorkspace$$module$build$src$core$workspace.prototype.newComment=function(a){return new WorkspaceComment$$module$build$src$core$comments$workspace_comment(this,a)};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newComment=function(a){return new RenderedWorkspaceComment$$module$build$src$core$comments$rendered_workspace_comment(this,a)};WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan=function(a){return new Trashcan$$module$build$src$core$trashcan(a)};\nMiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype.newWorkspaceSvg=function(a){return new WorkspaceSvg$$module$build$src$core$workspace_svg(a)};$.Names$$module$build$src$core$names.prototype.populateProcedures=function(a){a=allProcedures$$module$build$src$core$procedures(a);a=a[0].concat(a[1]);for(let b=0;b<a.length;b++)this.getName(a[b][0],$.Names$$module$build$src$core$names.NameType.PROCEDURE)};\nvar DropDownDiv$$module$build$src$core$blockly=module$build$src$core$dropdowndiv,module$build$src$core$blockly={};module$build$src$core$blockly.Block=Block$$module$build$src$core$block;module$build$src$core$blockly.BlockFlyoutInflater=BlockFlyoutInflater$$module$build$src$core$block_flyout_inflater;module$build$src$core$blockly.BlockNavigationPolicy=BlockNavigationPolicy$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.BlockSvg=BlockSvg$$module$build$src$core$block_svg;\nmodule$build$src$core$blockly.Blocks=Blocks$$module$build$src$core$blocks;module$build$src$core$blockly.ButtonFlyoutInflater=ButtonFlyoutInflater$$module$build$src$core$button_flyout_inflater;module$build$src$core$blockly.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSE_CHARS=COLLAPSE_CHARS$$module$build$src$core$internal_constants;\nmodule$build$src$core$blockly.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;module$build$src$core$blockly.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;module$build$src$core$blockly.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$blockly.Connection=Connection$$module$build$src$core$connection;module$build$src$core$blockly.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;\nmodule$build$src$core$blockly.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;module$build$src$core$blockly.ConnectionNavigationPolicy=ConnectionNavigationPolicy$$module$build$src$core$keyboard_nav$connection_navigation_policy;module$build$src$core$blockly.ConnectionType=ConnectionType$$module$build$src$core$connection_type;module$build$src$core$blockly.ContextMenu=module$build$src$core$contextmenu;module$build$src$core$blockly.ContextMenuItems=module$build$src$core$contextmenu_items;\nmodule$build$src$core$blockly.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$blockly.Css=module$build$src$core$css;module$build$src$core$blockly.DELETE_VARIABLE_ID=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.DeleteArea=DeleteArea$$module$build$src$core$delete_area;module$build$src$core$blockly.DragTarget=DragTarget$$module$build$src$core$drag_target;module$build$src$core$blockly.DropDownDiv=module$build$src$core$dropdowndiv;\nmodule$build$src$core$blockly.Events=module$build$src$core$events$events;module$build$src$core$blockly.Extensions=module$build$src$core$extensions;module$build$src$core$blockly.Field=Field$$module$build$src$core$field;module$build$src$core$blockly.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;module$build$src$core$blockly.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;module$build$src$core$blockly.FieldImage=FieldImage$$module$build$src$core$field_image;\nmodule$build$src$core$blockly.FieldLabel=FieldLabel$$module$build$src$core$field_label;module$build$src$core$blockly.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;module$build$src$core$blockly.FieldNavigationPolicy=FieldNavigationPolicy$$module$build$src$core$keyboard_nav$field_navigation_policy;module$build$src$core$blockly.FieldNumber=FieldNumber$$module$build$src$core$field_number;module$build$src$core$blockly.FieldTextInput=$.FieldTextInput$$module$build$src$core$field_textinput;\nmodule$build$src$core$blockly.FieldVariable=FieldVariable$$module$build$src$core$field_variable;module$build$src$core$blockly.Flyout=Flyout$$module$build$src$core$flyout_base;module$build$src$core$blockly.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;module$build$src$core$blockly.FlyoutButtonNavigationPolicy=FlyoutButtonNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_button_navigation_policy;module$build$src$core$blockly.FlyoutItem=FlyoutItem$$module$build$src$core$flyout_item;\nmodule$build$src$core$blockly.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;module$build$src$core$blockly.FlyoutNavigationPolicy=FlyoutNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_navigation_policy;module$build$src$core$blockly.FlyoutNavigator=FlyoutNavigator$$module$build$src$core$flyout_navigator;module$build$src$core$blockly.FlyoutSeparator=FlyoutSeparator$$module$build$src$core$flyout_separator;\nmodule$build$src$core$blockly.FlyoutSeparatorNavigationPolicy=FlyoutSeparatorNavigationPolicy$$module$build$src$core$keyboard_nav$flyout_separator_navigation_policy;module$build$src$core$blockly.FocusManager=FocusManager$$module$build$src$core$focus_manager;module$build$src$core$blockly.FocusableTreeTraverser=FocusableTreeTraverser$$module$build$src$core$utils$focusable_tree_traverser;module$build$src$core$blockly.Generator=$.CodeGenerator$$module$build$src$core$generator;\nmodule$build$src$core$blockly.Gesture=Gesture$$module$build$src$core$gesture;module$build$src$core$blockly.Grid=Grid$$module$build$src$core$grid;module$build$src$core$blockly.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;module$build$src$core$blockly.INPUT_VALUE=INPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$blockly.InsertionMarkerPreviewer=InsertionMarkerPreviewer$$module$build$src$core$insertion_marker_previewer;\nmodule$build$src$core$blockly.KeyboardNavigationController=KeyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$blockly.LabelFlyoutInflater=LabelFlyoutInflater$$module$build$src$core$label_flyout_inflater;module$build$src$core$blockly.LineCursor=LineCursor$$module$build$src$core$keyboard_nav$line_cursor;module$build$src$core$blockly.Marker=Marker$$module$build$src$core$keyboard_nav$marker;module$build$src$core$blockly.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;\nmodule$build$src$core$blockly.Menu=Menu$$module$build$src$core$menu;module$build$src$core$blockly.MenuItem=MenuItem$$module$build$src$core$menuitem;module$build$src$core$blockly.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;module$build$src$core$blockly.Msg=$.Msg$$module$build$src$core$msg;module$build$src$core$blockly.NEXT_STATEMENT=NEXT_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.Names=$.Names$$module$build$src$core$names;\nmodule$build$src$core$blockly.Navigator=Navigator$$module$build$src$core$navigator;module$build$src$core$blockly.OPPOSITE_TYPE=OPPOSITE_TYPE$$module$build$src$core$internal_constants;module$build$src$core$blockly.OUTPUT_VALUE=OUTPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Options=Options$$module$build$src$core$options;module$build$src$core$blockly.PREVIOUS_STATEMENT=PREVIOUS_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.PROCEDURE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$procedures;\nmodule$build$src$core$blockly.Procedures=module$build$src$core$procedures;module$build$src$core$blockly.RENAME_VARIABLE_ID=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.RenderedConnection=RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$blockly.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;module$build$src$core$blockly.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;\nmodule$build$src$core$blockly.SeparatorFlyoutInflater=SeparatorFlyoutInflater$$module$build$src$core$separator_flyout_inflater;module$build$src$core$blockly.ShortcutItems=module$build$src$core$shortcut_items;module$build$src$core$blockly.ShortcutRegistry=ShortcutRegistry$$module$build$src$core$shortcut_registry;module$build$src$core$blockly.TOOLBOX_AT_BOTTOM=TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_LEFT=TOOLBOX_AT_LEFT$$module$build$src$core$blockly;\nmodule$build$src$core$blockly.TOOLBOX_AT_RIGHT=TOOLBOX_AT_RIGHT$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_TOP=TOOLBOX_AT_TOP$$module$build$src$core$blockly;module$build$src$core$blockly.Theme=Theme$$module$build$src$core$theme;module$build$src$core$blockly.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;module$build$src$core$blockly.Themes=module$build$src$core$theme$themes;module$build$src$core$blockly.Toast=Toast$$module$build$src$core$toast;\nmodule$build$src$core$blockly.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;module$build$src$core$blockly.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;module$build$src$core$blockly.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;module$build$src$core$blockly.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;module$build$src$core$blockly.Tooltip=module$build$src$core$tooltip;module$build$src$core$blockly.Touch=module$build$src$core$touch;\nmodule$build$src$core$blockly.Trashcan=Trashcan$$module$build$src$core$trashcan;module$build$src$core$blockly.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;module$build$src$core$blockly.VARIABLE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables;module$build$src$core$blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables_dynamic;module$build$src$core$blockly.VERSION=VERSION$$module$build$src$core$blockly;\nmodule$build$src$core$blockly.VariableMap=VariableMap$$module$build$src$core$variable_map;module$build$src$core$blockly.VariableModel=VariableModel$$module$build$src$core$variable_model;module$build$src$core$blockly.Variables=module$build$src$core$variables;module$build$src$core$blockly.VariablesDynamic=module$build$src$core$variables_dynamic;module$build$src$core$blockly.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;module$build$src$core$blockly.WidgetDiv=module$build$src$core$widgetdiv;\nmodule$build$src$core$blockly.Workspace=Workspace$$module$build$src$core$workspace;module$build$src$core$blockly.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;module$build$src$core$blockly.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;module$build$src$core$blockly.WorkspaceNavigationPolicy=WorkspaceNavigationPolicy$$module$build$src$core$keyboard_nav$workspace_navigation_policy;module$build$src$core$blockly.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;\nmodule$build$src$core$blockly.Xml=module$build$src$core$xml;module$build$src$core$blockly.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;module$build$src$core$blockly.blockAnimations=module$build$src$core$block_animations;module$build$src$core$blockly.blockRendering=module$build$src$core$renderers$common$block_rendering;module$build$src$core$blockly.browserEvents=module$build$src$core$browser_events;module$build$src$core$blockly.bubbles=module$build$src$core$bubbles;\nmodule$build$src$core$blockly.bumpObjects=module$build$src$core$bump_objects;module$build$src$core$blockly.clipboard=module$build$src$core$clipboard;module$build$src$core$blockly.comments=module$build$src$core$comments;module$build$src$core$blockly.common=module$build$src$core$common;module$build$src$core$blockly.config=$.config$$module$build$src$core$config;module$build$src$core$blockly.constants=module$build$src$core$constants;module$build$src$core$blockly.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;\nmodule$build$src$core$blockly.dialog=module$build$src$core$dialog;module$build$src$core$blockly.dragging=module$build$src$core$dragging;module$build$src$core$blockly.fieldRegistry=module$build$src$core$field_registry;module$build$src$core$blockly.geras=module$build$src$core$renderers$geras$geras;module$build$src$core$blockly.getFocusManager=$.getFocusManager$$module$build$src$core$focus_manager;module$build$src$core$blockly.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;\nmodule$build$src$core$blockly.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$blockly.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;module$build$src$core$blockly.hideChaff=hideChaff$$module$build$src$core$blockly;module$build$src$core$blockly.icons=module$build$src$core$icons;module$build$src$core$blockly.inject=inject$$module$build$src$core$inject;module$build$src$core$blockly.inputs=module$build$src$core$inputs;\nmodule$build$src$core$blockly.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;module$build$src$core$blockly.isDeletable=isDeletable$$module$build$src$core$interfaces$i_deletable;module$build$src$core$blockly.isDraggable=isDraggable$$module$build$src$core$interfaces$i_draggable;module$build$src$core$blockly.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;module$build$src$core$blockly.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;\nmodule$build$src$core$blockly.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;module$build$src$core$blockly.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;module$build$src$core$blockly.isSelectable=isSelectable$$module$build$src$core$interfaces$i_selectable;module$build$src$core$blockly.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;module$build$src$core$blockly.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;\nmodule$build$src$core$blockly.keyboardNavigationController=keyboardNavigationController$$module$build$src$core$keyboard_navigation_controller;module$build$src$core$blockly.layers=module$build$src$core$layers;module$build$src$core$blockly.navigateBlock=navigateBlock$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.navigateStacks=navigateStacks$$module$build$src$core$keyboard_nav$block_navigation_policy;module$build$src$core$blockly.procedures=module$build$src$core$procedures;\nmodule$build$src$core$blockly.registry=module$build$src$core$registry;module$build$src$core$blockly.renderManagement=module$build$src$core$render_management;module$build$src$core$blockly.serialization=module$build$src$core$serialization;module$build$src$core$blockly.setLocale=setLocale$$module$build$src$core$msg;module$build$src$core$blockly.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$blockly.svgResize=svgResize$$module$build$src$core$common;\nmodule$build$src$core$blockly.thrasos=module$build$src$core$renderers$thrasos$thrasos;module$build$src$core$blockly.uiPosition=module$build$src$core$positionable_helpers;module$build$src$core$blockly.utils=module$build$src$core$utils;module$build$src$core$blockly.zelos=module$build$src$core$renderers$zelos$zelos;var module$build$src$core$utils$metrics={};var module$build$src$core$renderers$common$i_path_object={};var module$build$src$core$interfaces$i_variable_model={};var module$build$src$core$interfaces$i_variable_map={};var module$build$src$core$interfaces$i_toolbox_item={};var module$build$src$core$interfaces$i_toolbox={};var module$build$src$core$interfaces$i_styleable={};var module$build$src$core$interfaces$i_serializer={};var module$build$src$core$interfaces$i_registrable={};var module$build$src$core$interfaces$i_procedure_model={};var module$build$src$core$interfaces$i_procedure_map={};var module$build$src$core$interfaces$i_positionable={};var module$build$src$core$interfaces$i_parameter_model={};var module$build$src$core$interfaces$i_movable={};var module$build$src$core$interfaces$i_metrics_manager={};var module$build$src$core$interfaces$i_keyboard_accessible={};var module$build$src$core$interfaces$i_focusable_tree={};module$build$src$core$interfaces$i_focusable_tree.isFocusableTree=isFocusableTree$$module$build$src$core$interfaces$i_focusable_tree;var module$build$src$core$interfaces$i_flyout_inflater={};var module$build$src$core$interfaces$i_flyout={};var module$build$src$core$interfaces$i_dragger={};var module$build$src$core$interfaces$i_drag_target={};var module$build$src$core$interfaces$i_delete_area={};var module$build$src$core$interfaces$i_contextmenu={};var module$build$src$core$interfaces$i_connection_previewer={};var module$build$src$core$interfaces$i_connection_checker={};var module$build$src$core$interfaces$i_component={};var module$build$src$core$interfaces$i_collapsible_toolbox_item={};var module$build$src$core$interfaces$i_bubble={};var module$build$src$core$interfaces$i_bounded_element={};\nmodule$build$src$core$blockly.__namespace__=$;\nreturn module$build$src$core$blockly;\n}));\n\n\n//# sourceMappingURL=blockly_compressed.js.map\n","// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) { // AMD\n    define([\"./blockly_compressed.js\"], factory);\n  } else if (typeof exports === 'object') { // Node.js\n    module.exports = factory(require(\"./blockly_compressed.js\"));\n  } else { // Script\n    root.Blockly.libraryBlocks = factory(root.Blockly);\n  }\n}(this, function(__parent__) {\nvar $=__parent__.__namespace__;\nvar blocks$$module$build$src$blocks$variables_dynamic=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"variables_get_dynamic\",message0:\"%1\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"}],output:null,style:\"variable_dynamic_blocks\",helpUrl:\"%{BKY_VARIABLES_GET_HELPURL}\",tooltip:\"%{BKY_VARIABLES_GET_TOOLTIP}\",extensions:[\"contextMenu_variableDynamicSetterGetter\"]},{type:\"variables_set_dynamic\",message0:\"%{BKY_VARIABLES_SET}\",args0:[{type:\"field_variable\",\nname:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"},{type:\"input_value\",name:\"VALUE\"}],previousStatement:null,nextStatement:null,style:\"variable_dynamic_blocks\",tooltip:\"%{BKY_VARIABLES_SET_TOOLTIP}\",helpUrl:\"%{BKY_VARIABLES_SET_HELPURL}\",extensions:[\"contextMenu_variableDynamicSetterGetter\"]}]),CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic={customContextMenu:function(a){if(!this.isInFlyout){if(this.type===\"variables_get_dynamic\"){var b=\"variables_set_dynamic\";\nvar c=$.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else b=\"variables_get_dynamic\",c=$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField(\"VAR\");b={type:b,fields:{VAR:d.saveState(!0)}};a.push({enabled:this.workspace.remainingCapacity()>0,text:c.replace(\"%1\",d.getText()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)})}else if(this.type===\"variables_get_dynamic\"||this.type===\"variables_get_reporter_dynamic\")c={text:$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,\nenabled:!0,callback:renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)},d=this.getField(\"VAR\").getText(),d={text:$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",d),enabled:!0,callback:deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)},a.unshift(c),a.unshift(d)},onchange:function(a){a=this.getFieldValue(\"VAR\");a=$.getVariable$$module$build$src$core$variables(this.workspace,a);this.type===\"variables_get_dynamic\"?this.outputConnection.setCheck(a.getType()):\nthis.getInput(\"VALUE\").connection.setCheck(a.getType())}},renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic=function(a){return function(){const b=a.workspace,c=a.getField(\"VAR\").getVariable();$.renameVariable$$module$build$src$core$variables(b,c)}},deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic=function(a){return function(){const b=a.getField(\"VAR\").getVariable();b&&$.deleteVariable$$module$build$src$core$variables(b.getWorkspace(),b,a)}};\n$.registerMixin$$module$build$src$core$extensions(\"contextMenu_variableDynamicSetterGetter\",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables_dynamic);var module$build$src$blocks$variables_dynamic={blocks:blocks$$module$build$src$blocks$variables_dynamic};var blocks$$module$build$src$blocks$variables=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"variables_get\",message0:\"%1\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"}],output:null,style:\"variable_blocks\",helpUrl:\"%{BKY_VARIABLES_GET_HELPURL}\",tooltip:\"%{BKY_VARIABLES_GET_TOOLTIP}\",extensions:[\"contextMenu_variableSetterGetter\"]},{type:\"variables_set\",message0:\"%{BKY_VARIABLES_SET}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_VARIABLES_DEFAULT_NAME}\"},\n{type:\"input_value\",name:\"VALUE\"}],previousStatement:null,nextStatement:null,style:\"variable_blocks\",tooltip:\"%{BKY_VARIABLES_SET_TOOLTIP}\",helpUrl:\"%{BKY_VARIABLES_SET_HELPURL}\",extensions:[\"contextMenu_variableSetterGetter\"]}]),CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables={customContextMenu:function(a){if(!this.isInFlyout){if(this.type===\"variables_get\"){var b=\"variables_set\";var c=$.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else b=\"variables_get\",\nc=$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField(\"VAR\");b={type:b,fields:{VAR:d.saveState(!0)}};a.push({enabled:this.workspace.remainingCapacity()>0,text:c.replace(\"%1\",d.getText()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)})}else if(this.type===\"variables_get\"||this.type===\"variables_get_reporter\")c={text:$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:renameOptionCallbackFactory$$module$build$src$blocks$variables(this)},\nd=this.getField(\"VAR\").getText(),d={text:$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace(\"%1\",d),enabled:!0,callback:deleteOptionCallbackFactory$$module$build$src$blocks$variables(this)},a.unshift(c),a.unshift(d)}},renameOptionCallbackFactory$$module$build$src$blocks$variables=function(a){return function(){const b=a.workspace,c=a.getField(\"VAR\").getVariable();$.renameVariable$$module$build$src$core$variables(b,c)}},deleteOptionCallbackFactory$$module$build$src$blocks$variables=function(a){return function(){const b=\na.getField(\"VAR\").getVariable();b&&$.deleteVariable$$module$build$src$core$variables(b.getWorkspace(),b,a)}};$.registerMixin$$module$build$src$core$extensions(\"contextMenu_variableSetterGetter\",CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables);var module$build$src$blocks$variables={blocks:blocks$$module$build$src$blocks$variables};var blocks$$module$build$src$blocks$text=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"text\",message0:\"%1\",args0:[{type:\"field_input\",name:\"TEXT\",text:\"\"}],output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_TEXT_HELPURL}\",tooltip:\"%{BKY_TEXT_TEXT_TOOLTIP}\",extensions:[\"text_quotes\",\"parent_tooltip_when_inline\"]},{type:\"text_join\",message0:\"\",output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_JOIN_HELPURL}\",tooltip:\"%{BKY_TEXT_JOIN_TOOLTIP}\",mutator:\"text_join_mutator\"},\n{type:\"text_create_join_container\",message0:\"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2\",args0:[{type:\"input_dummy\"},{type:\"input_statement\",name:\"STACK\"}],style:\"text_blocks\",tooltip:\"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}\",enableContextMenu:!1},{type:\"text_create_join_item\",message0:\"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}\",previousStatement:null,nextStatement:null,style:\"text_blocks\",tooltip:\"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}\",enableContextMenu:!1},{type:\"text_append\",message0:\"%{BKY_TEXT_APPEND_TITLE}\",\nargs0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_TEXT_APPEND_VARIABLE}\"},{type:\"input_value\",name:\"TEXT\"}],previousStatement:null,nextStatement:null,style:\"text_blocks\",extensions:[\"text_append_tooltip\"]},{type:\"text_length\",message0:\"%{BKY_TEXT_LENGTH_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Number\",style:\"text_blocks\",tooltip:\"%{BKY_TEXT_LENGTH_TOOLTIP}\",helpUrl:\"%{BKY_TEXT_LENGTH_HELPURL}\"},{type:\"text_isEmpty\",message0:\"%{BKY_TEXT_ISEMPTY_TITLE}\",\nargs0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Boolean\",style:\"text_blocks\",tooltip:\"%{BKY_TEXT_ISEMPTY_TOOLTIP}\",helpUrl:\"%{BKY_TEXT_ISEMPTY_HELPURL}\"},{type:\"text_indexOf\",message0:\"%{BKY_TEXT_INDEXOF_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"String\"},{type:\"field_dropdown\",name:\"END\",options:[[\"%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}\",\"FIRST\"],[\"%{BKY_TEXT_INDEXOF_OPERATOR_LAST}\",\"LAST\"]]},{type:\"input_value\",name:\"FIND\",check:\"String\"}],output:\"Number\",style:\"text_blocks\",\nhelpUrl:\"%{BKY_TEXT_INDEXOF_HELPURL}\",inputsInline:!0,extensions:[\"text_indexOf_tooltip\"]},{type:\"text_charAt\",message0:\"%{BKY_TEXT_CHARAT_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"String\"},{type:\"field_dropdown\",name:\"WHERE\",options:[[\"%{BKY_TEXT_CHARAT_FROM_START}\",\"FROM_START\"],[\"%{BKY_TEXT_CHARAT_FROM_END}\",\"FROM_END\"],[\"%{BKY_TEXT_CHARAT_FIRST}\",\"FIRST\"],[\"%{BKY_TEXT_CHARAT_LAST}\",\"LAST\"],[\"%{BKY_TEXT_CHARAT_RANDOM}\",\"RANDOM\"]]}],output:\"String\",style:\"text_blocks\",helpUrl:\"%{BKY_TEXT_CHARAT_HELPURL}\",\ninputsInline:!0,mutator:\"text_charAt_mutator\"}]),GET_SUBSTRING_BLOCK$$module$build$src$blocks$text={init:function(){this.WHERE_OPTIONS_1=[[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,\"FIRST\"]];this.WHERE_OPTIONS_2=[[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,\n\"FROM_END\"],[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"STRING\").setCheck(\"String\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const a=b=>{const c=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this[\"WHERE_OPTIONS_\"+b]});c.setValidator(function(d){const e=this.getValue();d=d===\n\"FROM_START\"||d===\"FROM_END\";d!==(e===\"FROM_START\"||e===\"FROM_END\")&&this.getSourceBlock().updateAt_(b,d)});return c};this.appendDummyInput(\"WHERE1_INPUT\").appendField(a(1),\"WHERE1\");this.appendDummyInput(\"AT1\");this.appendDummyInput(\"WHERE2_INPUT\").appendField(a(2),\"WHERE2\");this.appendDummyInput(\"AT2\");$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL);this.setInputsInline(!0);this.setOutput(!0,\n\"String\");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");var b=this.getInput(\"AT1\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at1\",`${b}`);b=this.getInput(\"AT2\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at2\",`${b}`);return a},domToMutation:function(a){const b=\na.getAttribute(\"at1\")===\"true\";a=a.getAttribute(\"at2\")===\"true\";this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput(\"AT\"+a);this.removeInput(\"ORDINAL\"+a,!0);b?(this.appendValueInput(\"AT\"+a).setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\"+a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\"+a);a===2&&$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput(\"TAIL\",\n!0),this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));a===1&&(this.moveInputBefore(\"AT1\",\"WHERE2_INPUT\"),this.getInput(\"ORDINAL1\")&&this.moveInputBefore(\"ORDINAL1\",\"WHERE2_INPUT\"))}};blocks$$module$build$src$blocks$text.text_getSubstring=GET_SUBSTRING_BLOCK$$module$build$src$blocks$text;\nblocks$$module$build$src$blocks$text.text_changeCase={init:function(){const a=[[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,\"UPPERCASE\"],[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,\"LOWERCASE\"],[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,\"TITLECASE\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",\noptions:a}),\"CASE\");this.setOutput(!0,\"String\");this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}};\nblocks$$module$build$src$blocks$text.text_trim={init:function(){const a=[[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,\"BOTH\"],[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,\"LEFT\"],[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,\"RIGHT\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL);this.setStyle(\"text_blocks\");this.appendValueInput(\"TEXT\").setCheck(\"String\").appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a}),\n\"MODE\");this.setOutput(!0,\"String\");this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}};blocks$$module$build$src$blocks$text.text_print={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:\"input_value\",name:\"TEXT\"}],previousStatement:null,nextStatement:null,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};\nvar PROMPT_COMMON$$module$build$src$blocks$text={updateType_:function(a){this.outputConnection.setCheck(a===\"NUMBER\"?\"Number\":\"String\")},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"type\",this.getFieldValue(\"TYPE\"));return a},domToMutation:function(a){this.updateType_(a.getAttribute(\"type\"))}};\nblocks$$module$build$src$blocks$text.text_prompt_ext=Object.assign({},PROMPT_COMMON$$module$build$src$blocks$text,{init:function(){var a=[[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,\"TEXT\"],[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,\"NUMBER\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);this.setStyle(\"text_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});a.setValidator(b=>{this.updateType_(b)});this.appendValueInput(\"TEXT\").appendField(a,\n\"TYPE\");this.setOutput(!0,\"String\");this.setTooltip(()=>this.getFieldValue(\"TYPE\")===\"TEXT\"?$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});\nblocks$$module$build$src$blocks$text.text_prompt=Object.assign({},PROMPT_COMMON$$module$build$src$blocks$text,{init:function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);var a=[[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,\"TEXT\"],[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,\"NUMBER\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);this.setStyle(\"text_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});\na.setValidator(b=>{this.updateType_(b)});this.appendDummyInput().appendField(a,\"TYPE\").appendField(this.newQuote_(!0)).appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:\"\"}),\"TEXT\").appendField(this.newQuote_(!1));this.setOutput(!0,\"String\");this.setTooltip(()=>this.getFieldValue(\"TYPE\")===\"TEXT\"?$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});\nblocks$$module$build$src$blocks$text.text_count={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:\"input_value\",name:\"SUB\",check:\"String\"},{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"Number\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}};\nblocks$$module$build$src$blocks$text.text_replace={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:\"input_value\",name:\"FROM\",check:\"String\"},{type:\"input_value\",name:\"TO\",check:\"String\"},{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"String\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}};\nblocks$$module$build$src$blocks$text.text_reverse={init:function(){this.jsonInit({message0:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:\"input_value\",name:\"TEXT\",check:\"String\"}],output:\"String\",inputsInline:!0,style:\"text_blocks\",tooltip:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:$.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};\nvar QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text={QUOTE_IMAGE_LEFT_DATAURI:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC\",QUOTE_IMAGE_RIGHT_DATAURI:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==\",\nQUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(a){for(let b=0,c;c=this.inputList[b];b++)for(let d=0,e;e=c.fieldRow[d];d++)if(a===e.name){c.insertFieldAt(d,this.newQuote_(!0));c.insertFieldAt(d+2,this.newQuote_(!1));return}console.warn('field named \"'+a+'\" not found in '+this.toDevString())},newQuote_:function(a){a=this.RTL?!a:a;return $.fromJson$$module$build$src$core$field_registry({type:\"field_image\",src:a?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,\nheight:this.QUOTE_IMAGE_HEIGHT,alt:a?\"\\u201c\":\"\\u201d\"})}},QUOTES_EXTENSION$$module$build$src$blocks$text=function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);this.quoteField_(\"TEXT\")},JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text={itemCount_:0,mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"items\",`${this.itemCount_}`);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute(\"items\"),10);this.updateShape_()},\nsaveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount;this.updateShape_()},decompose:function(a){const b=a.newBlock(\"text_create_join_container\");b.initSvg();let c=b.getInput(\"STACK\").connection;for(let d=0;d<this.itemCount_;d++){const e=a.newBlock(\"text_create_join_item\");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock(\"STACK\");for(a=[];b;)b.isInsertionMarker()||\na.push(b.valueConnection_),b=b.getNextBlock();for(b=0;b<this.itemCount_;b++){const c=this.getInput(\"ADD\"+b).connection.targetConnection;c&&!a.includes(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++){let c;(c=a[b])==null||c.reconnect(this,\"ADD\"+b)}},saveConnections:function(a){a=a.getInputTargetBlock(\"STACK\");let b=0;for(;a;){if(a.isInsertionMarker()){a=a.getNextBlock();continue}const c=this.getInput(\"ADD\"+b);a.valueConnection_=c&&c.connection.targetConnection;\na=a.getNextBlock();b++}},updateShape_:function(){this.itemCount_&&this.getInput(\"EMPTY\")?this.removeInput(\"EMPTY\"):this.itemCount_||this.getInput(\"EMPTY\")||this.appendDummyInput(\"EMPTY\").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput(\"ADD\"+a)){const b=this.appendValueInput(\"ADD\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);a===0&&b.appendField($.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(a=this.itemCount_;this.getInput(\"ADD\"+\na);a++)this.removeInput(\"ADD\"+a)}},JOIN_EXTENSION$$module$build$src$blocks$text=function(){this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);this.itemCount_=2;this.updateShape_();this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"text_create_join_item\"],this))};$.register$$module$build$src$core$extensions(\"text_append_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_TEXT_APPEND_TOOLTIP}\",\"VAR\"));\nvar INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text=function(){this.setTooltip(()=>$.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\"0\":\"-1\"))},CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text={isAt_:!1,mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"at\",`${this.isAt_}`);return a},domToMutation:function(a){a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},updateAt_:function(a){this.removeInput(\"AT\",\n!0);this.removeInput(\"ORDINAL\",!0);a&&(this.appendValueInput(\"AT\").setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX));$.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput(\"TAIL\",!0),this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL));this.isAt_=a}},CHARAT_EXTENSION$$module$build$src$blocks$text=function(){this.getField(\"WHERE\").setValidator(function(a){a=\na===\"FROM_START\"||a===\"FROM_END\";const b=this.getSourceBlock();a!==b.isAt_&&b.updateAt_(a)});this.updateAt_(!0);this.setTooltip(()=>{var a=this.getFieldValue(\"WHERE\");let b=$.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;(a===\"FROM_START\"||a===\"FROM_END\")&&(a=a===\"FROM_START\"?$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(b+=\"  \"+a.replace(\"%1\",this.workspace.options.oneBasedIndex?\"#1\":\"#0\"));return b})};\n$.register$$module$build$src$core$extensions(\"text_indexOf_tooltip\",INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text);$.register$$module$build$src$core$extensions(\"text_quotes\",QUOTES_EXTENSION$$module$build$src$blocks$text);$.registerMixin$$module$build$src$core$extensions(\"quote_image_mixin\",QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);$.registerMutator$$module$build$src$core$extensions(\"text_join_mutator\",JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text,JOIN_EXTENSION$$module$build$src$blocks$text);\n$.registerMutator$$module$build$src$core$extensions(\"text_charAt_mutator\",CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text,CHARAT_EXTENSION$$module$build$src$blocks$text);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$text);var module$build$src$blocks$text={blocks:blocks$$module$build$src$blocks$text};var blocks$$module$build$src$blocks$procedures={},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures={setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput(\"STACK\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput(\"RETURN\")&&this.moveInputBefore(\"STACK\",\"RETURN\")):this.removeInput(\"STACK\",!0),this.hasStatements_=a)},updateParams_:function(){let a=\"\";this.arguments_.length&&(a=$.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+\n\" \"+this.arguments_.join(\", \"));$.disable$$module$build$src$core$events$utils();try{this.setFieldValue(a,\"PARAMS\")}finally{$.enable$$module$build$src$core$events$utils()}},mutationToDom:function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a&&b.setAttribute(\"name\",this.getFieldValue(\"NAME\"));for(let c=0;c<this.argumentVarModels_.length;c++){const d=$.createElement$$module$build$src$core$utils$xml(\"arg\"),e=this.argumentVarModels_[c];d.setAttribute(\"name\",e.getName());d.setAttribute(\"varid\",\ne.getId());a&&this.paramIds_&&d.setAttribute(\"paramId\",this.paramIds_[c]);b.appendChild(d)}this.hasStatements_||b.setAttribute(\"statements\",\"false\");return b},domToMutation:function(a){this.arguments_=[];this.argumentVarModels_=[];for(let c=0,d;d=a.childNodes[c];c++)if(d.nodeName.toLowerCase()===\"arg\"){var b=d;const e=b.getAttribute(\"name\");b=b.getAttribute(\"varid\")||b.getAttribute(\"varId\");this.arguments_.push(e);b=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,b,e,\n\"\");b!==null?this.argumentVarModels_.push(b):console.log(`Failed to create a variable named \"${e}\", ignoring.`)}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);this.setStatements_(a.getAttribute(\"statements\")!==\"false\")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const a=Object.create(null);if(this.argumentVarModels_.length){a.params=[];for(let b=0;b<this.argumentVarModels_.length;b++)a.params.push({name:this.argumentVarModels_[b].getName(),\nid:this.argumentVarModels_[b].getId()})}this.hasStatements_||(a.hasStatements=!1);return a},loadExtraState:function(a){this.arguments_=[];this.argumentVarModels_=[];if(a.params)for(let c=0;c<a.params.length;c++){var b=a.params[c];b=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,b.id,b.name,\"\");this.arguments_.push(b.getName());this.argumentVarModels_.push(b)}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);this.setStatements_(a.hasStatements===\n!1?!1:!0)},decompose:function(a){const b=$.createElement$$module$build$src$core$utils$xml(\"block\");b.setAttribute(\"type\",\"procedures_mutatorcontainer\");var c=$.createElement$$module$build$src$core$utils$xml(\"statement\");c.setAttribute(\"name\",\"STACK\");b.appendChild(c);for(let e=0;e<this.arguments_.length;e++){const f=$.createElement$$module$build$src$core$utils$xml(\"block\");f.setAttribute(\"type\",\"procedures_mutatorarg\");var d=$.createElement$$module$build$src$core$utils$xml(\"field\");d.setAttribute(\"name\",\n\"NAME\");const g=$.createTextNode$$module$build$src$core$utils$xml(this.arguments_[e]);d.appendChild(g);f.appendChild(d);d=$.createElement$$module$build$src$core$utils$xml(\"next\");f.appendChild(d);c.appendChild(f);c=d}a=$.domToBlock$$module$build$src$core$xml(b,a);this.type===\"procedures_defreturn\"?a.setFieldValue(this.hasStatements_,\"STATEMENTS\"):a.removeInput(\"STATEMENT_INPUT\");$.mutateCallers$$module$build$src$core$procedures(this);return a},compose:function(a){this.arguments_=[];this.paramIds_=\n[];this.argumentVarModels_=[];let b=a.getInputTargetBlock(\"STACK\");for(;b&&!b.isInsertionMarker();){var c=b.getFieldValue(\"NAME\");this.arguments_.push(c);c=this.workspace.getVariable(c,\"\");this.argumentVarModels_.push(c);this.paramIds_.push(b.id);b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateParams_();$.mutateCallers$$module$build$src$core$procedures(this);a=a.getFieldValue(\"STATEMENTS\");if(a!==null&&(a=a===\"TRUE\",this.hasStatements_!==a))if(a){this.setStatements_(!0);var d;(d=this.statementConnection_)==\nnull||d.reconnect(this,\"STACK\");this.statementConnection_=null}else{d=this.getInput(\"STACK\").connection;if(this.statementConnection_=d.targetConnection)d=d.targetBlock(),d.unplug(),d.bumpNeighbours();this.setStatements_(!1)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(a,b){var c=this.workspace.getVariableById(a);if(c.getType()===\"\"){c=c.getName();b=this.workspace.getVariableById(b);var d=!1;for(let e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===\na&&(this.arguments_[e]=b.getName(),this.argumentVarModels_[e]=b,d=!0);d&&(this.displayRenamedVar_(c,b.getName()),$.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(a){const b=a.getName();let c=!1,d;for(let e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()===a.getId()&&(d=this.arguments_[e],this.arguments_[e]=b,c=!0);c&&(this.displayRenamedVar_(d,b),$.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(a,b){this.updateParams_();\nvar c=this.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(c&&c.bubbleIsVisible()){c=c.getWorkspace().getAllBlocks(!1);for(let d=0,e;e=c[d];d++)e.type===\"procedures_mutatorarg\"&&$.Names$$module$build$src$core$names.equals(a,e.getFieldValue(\"NAME\"))&&e.setFieldValue(b,\"NAME\")}},customContextMenu:function(a){if(!this.isInFlyout){var b=this.getFieldValue(\"NAME\"),c={type:this.callType_,extraState:{name:b,params:this.arguments_}};a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace(\"%1\",\nb),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,c)});if(!this.isCollapsed())for(b=0;b<this.argumentVarModels_.length;b++){c=this.argumentVarModels_[b];const d={type:\"variables_get\",fields:{VAR:{name:c.getName(),id:c.getId(),type:c.getType()}}};a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace(\"%1\",c.getName()),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,d)})}}}};\nblocks$$module$build$src$blocks$procedures.procedures_defnoreturn=Object.assign({},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures,{init:function(){var a=$.findLegalName$$module$build$src$core$procedures(\"\",this);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:a});a.setValidator($.rename$$module$build$src$core$procedures);a.setSpellcheck(!1);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,\"NAME\").appendField(\"\",\n\"PARAMS\");this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"procedures_mutatorarg\"],this));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT);this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP);\nthis.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue(\"NAME\"),this.arguments_,!1]},callType_:\"procedures_callnoreturn\"});\nblocks$$module$build$src$blocks$procedures.procedures_defreturn=Object.assign({},PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures,{init:function(){var a=$.findLegalName$$module$build$src$core$procedures(\"\",this);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_input\",text:a});a.setValidator($.rename$$module$build$src$core$procedures);a.setSpellcheck(!1);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,\"NAME\").appendField(\"\",\n\"PARAMS\");this.appendValueInput(\"RETURN\").setAlign($.Align$$module$build$src$core$inputs$align.RIGHT).appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"procedures_mutatorarg\"],this));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&$.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT);\nthis.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP);this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue(\"NAME\"),this.arguments_,!0]},callType_:\"procedures_callreturn\"});\nvar PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures={init:function(){this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE);this.appendStatementInput(\"STACK\");this.appendDummyInput(\"STATEMENT_INPUT\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField($.fromJson$$module$build$src$core$field_registry({type:\"field_checkbox\",checked:!0}),\"STATEMENTS\");this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);\nthis.contextMenu=!1}};blocks$$module$build$src$blocks$procedures.procedures_mutatorcontainer=PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures;\nvar ProcedureArgumentField$$module$build$src$blocks$procedures=class extends $.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments);this.editingInteractively=!1}showEditor_(a){super.showEditor_(a);this.editingInteractively=!0;this.editingVariable=void 0}onFinishEditing_(a){super.onFinishEditing_(a);this.editingInteractively=!1}},PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures={init:function(){const a=new ProcedureArgumentField$$module$build$src$blocks$procedures($.DEFAULT_ARG$$module$build$src$core$procedures,\nthis.validator_);this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,\"NAME\");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1},validator_:function(a){var b=this.getSourceBlock();const c=b.workspace.getRootWorkspace();a=a.replace(/[\\s\\xa0]+/g,\" \").replace(/^ | $/g,\"\");if(!a)return null;const d=(b.workspace.targetWorkspace||\nb.workspace).getAllBlocks(!1),e=a.toLowerCase();for(let f=0;f<d.length;f++){if(d[f].id===this.getSourceBlock().id)continue;const g=d[f].getFieldValue(\"NAME\");if(g&&g.toLowerCase()===e)return null}if(b.isInFlyout)return a;(b=c.getVariable(a,\"\"))&&b.getName()!==a&&c.renameVariableById(b.getId(),a);b||(this.editingInteractively?this.editingVariable?c.renameVariableById(this.editingVariable.getId(),a):this.editingVariable=c.createVariable(a,\"\"):c.createVariable(a,\"\"));return a}};\nblocks$$module$build$src$blocks$procedures.procedures_mutatorarg=PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures;\nvar DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures=\"DISABLED_PROCEDURE_DEFINITION\",PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures={getProcedureCall:function(){return this.getFieldValue(\"NAME\")},renameProcedure:function(a,b){$.Names$$module$build$src$core$names.equals(a,this.getProcedureCall())&&(this.setFieldValue(b,\"NAME\"),this.setTooltip((this.outputConnection?$.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:$.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace(\"%1\",\nb)))},setProcedureParameters_:function(a,b){var c=$.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);(c=(c=c&&c.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&c.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null);if(a.join(\"\\n\")===this.arguments_.join(\"\\n\"))this.quarkIds_=b;else{if(b.length!==a.length)throw RangeError(\"paramNames and paramIds must be the same length.\");this.quarkIds_||(this.quarkConnections_=\n{},this.quarkIds_=[]);for(let e=0;e<this.arguments_.length;e++){var d=this.getInput(\"ARG\"+e);d&&(d=d.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=d,c&&d&&!b.includes(this.quarkIds_[e])&&(d.disconnect(),d.getSourceBlock().bumpNeighbours()))}this.arguments_=[].concat(a);this.argumentVarModels_=[];for(a=0;a<this.arguments_.length;a++)c=$.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[a],\"\"),this.argumentVarModels_.push(c);this.updateShape_();\nif(this.quarkIds_=b)for(b=0;b<this.arguments_.length;b++)if(a=this.quarkIds_[b],a in this.quarkConnections_){let e;((e=this.quarkConnections_[a])==null?0:e.reconnect(this,\"ARG\"+b))||delete this.quarkConnections_[a]}}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField(\"ARGNAME\"+a);if(b){$.disable$$module$build$src$core$events$utils();try{b.setValue(this.arguments_[a])}finally{$.enable$$module$build$src$core$events$utils()}}else b=$.fromJson$$module$build$src$core$field_registry({type:\"field_label\",\ntext:this.arguments_[a]}),this.appendValueInput(\"ARG\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT).appendField(b,\"ARGNAME\"+a)}for(a=this.arguments_.length;this.getInput(\"ARG\"+a);a++)this.removeInput(\"ARG\"+a);(a=this.getInput(\"TOPROW\"))&&(this.arguments_.length?this.getField(\"WITH\")||a.appendField($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,\"WITH\"):this.getField(\"WITH\")&&a.removeField(\"WITH\"))},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");\na.setAttribute(\"name\",this.getProcedureCall());for(let b=0;b<this.arguments_.length;b++){const c=$.createElement$$module$build$src$core$utils$xml(\"arg\");c.setAttribute(\"name\",this.arguments_[b]);a.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute(\"name\");this.renameProcedure(this.getProcedureCall(),b);b=[];const c=[];for(let d=0,e;e=a.childNodes[d];d++)e.nodeName.toLowerCase()===\"arg\"&&(b.push(e.getAttribute(\"name\")),c.push(e.getAttribute(\"paramId\")));this.setProcedureParameters_(b,\nc)},saveExtraState:function(){const a=Object.create(null);a.name=this.getProcedureCall();this.arguments_.length&&(a.params=this.arguments_);return a},loadExtraState:function(a){this.renameProcedure(this.getProcedureCall(),a.name);if(a=a.params){const b=[];b.length=a.length;b.fill(null);this.setProcedureParameters_(a,b)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(a){if(this.workspace&&!this.workspace.isFlyout&&a.recordUndo)if(a.type===\n$.BLOCK_CREATE$$module$build$src$core$events$events&&a.ids.includes(this.id)){var b=this.getProcedureCall(),c=$.getDefinition$$module$build$src$core$procedures(b,this.workspace);!c||c.type===this.defType_&&JSON.stringify(c.getVars())===JSON.stringify(this.arguments_)||(c=null);if(c)c.isEnabled()||(this.setDisabledReason(!0,DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures),this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace(\"%1\",\nb)));else{$.setGroup$$module$build$src$core$events$utils(a.group);a=$.createElement$$module$build$src$core$utils$xml(\"xml\");b=$.createElement$$module$build$src$core$utils$xml(\"block\");b.setAttribute(\"type\",this.defType_);c=this.getRelativeToSurfaceXY();var d=c.y+$.config$$module$build$src$core$config.snapRadius*2;b.setAttribute(\"x\",`${c.x+$.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`);b.setAttribute(\"y\",`${d}`);c=this.mutationToDom();b.appendChild(c);c=$.createElement$$module$build$src$core$utils$xml(\"field\");\nc.setAttribute(\"name\",\"NAME\");d=this.getProcedureCall();const e=$.findLegalName$$module$build$src$core$procedures(d,this);d!==e&&this.renameProcedure(d,e);c.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));b.appendChild(c);a.appendChild(b);$.domToWorkspace$$module$build$src$core$xml(a,this.workspace);$.setGroup$$module$build$src$core$events$utils(!1)}}else a.type===$.BLOCK_DELETE$$module$build$src$core$events$events?(b=this.getProcedureCall(),$.getDefinition$$module$build$src$core$procedures(b,\nthis.workspace)||($.setGroup$$module$build$src$core$events$utils(a.group),this.dispose(!0),$.setGroup$$module$build$src$core$events$utils(!1))):a.type===$.BLOCK_CHANGE$$module$build$src$core$events$events&&a.element===\"disabled\"&&(b=this.getProcedureCall(),(d=$.getDefinition$$module$build$src$core$procedures(b,this.workspace))&&d.id===a.blockId&&((c=$.getGroup$$module$build$src$core$events$utils())&&console.log(\"Saw an existing group while responding to a definition change\"),$.setGroup$$module$build$src$core$events$utils(a.group),\na=d.isEnabled(),this.setDisabledReason(!a,DISABLED_PROCEDURE_DEFINITION_DISABLED_REASON$$module$build$src$blocks$procedures),this.setWarningText(a?null:$.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace(\"%1\",b)),$.setGroup$$module$build$src$core$events$utils(c)))},customContextMenu:function(a){if(this.workspace.isMovable()){var b=this.getProcedureCall(),c=this.workspace;a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const d=\n$.getDefinition$$module$build$src$core$procedures(b,c);d&&(c.centerOnBlock(d.id),$.getFocusManager$$module$build$src$core$focus_manager().focusNode(d))}})}}};\nblocks$$module$build$src$blocks$procedures.procedures_callnoreturn=Object.assign({},PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures,{init:function(){this.appendDummyInput(\"TOPROW\").appendField(\"\",\"NAME\");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null},defType_:\"procedures_defnoreturn\"});\nblocks$$module$build$src$blocks$procedures.procedures_callreturn=Object.assign({},PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures,{init:function(){this.appendDummyInput(\"TOPROW\").appendField(\"\",\"NAME\");this.setOutput(!0);this.setStyle(\"procedure_blocks\");this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null},defType_:\"procedures_defreturn\"});\nvar UNPARENTED_IFRETURN_DISABLED_REASON$$module$build$src$blocks$procedures=\"UNPARENTED_IFRETURN\",PROCEDURES_IFRETURN$$module$build$src$blocks$procedures={init:function(){this.appendValueInput(\"CONDITION\").setCheck(\"Boolean\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF);this.appendValueInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle(\"procedure_blocks\");\nthis.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP);this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL);this.hasReturnValue_=!0},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"value\",String(Number(this.hasReturnValue_)));return a},domToMutation:function(a){this.hasReturnValue_=a.getAttribute(\"value\")===\"1\";this.hasReturnValue_||(this.removeInput(\"VALUE\"),this.appendDummyInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},\nonchange:function(a){if(!(this.workspace.isDragging&&this.workspace.isDragging()||a.type!==$.BLOCK_MOVE$$module$build$src$core$events$events&&a.type!==$.BLOCK_CREATE$$module$build$src$core$events$events)){a=!1;var b=this;do{if(this.FUNCTION_TYPES.includes(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?(b.type===\"procedures_defnoreturn\"&&this.hasReturnValue_?(this.removeInput(\"VALUE\"),this.appendDummyInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=\n!1):b.type!==\"procedures_defreturn\"||this.hasReturnValue_||(this.removeInput(\"VALUE\"),this.appendValueInput(\"VALUE\").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING);if(!this.isInFlyout)try{$.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!a,UNPARENTED_IFRETURN_DISABLED_REASON$$module$build$src$blocks$procedures)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}},\nFUNCTION_TYPES:[\"procedures_defnoreturn\",\"procedures_defreturn\"]};blocks$$module$build$src$blocks$procedures.procedures_ifreturn=PROCEDURES_IFRETURN$$module$build$src$blocks$procedures;$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$procedures);var module$build$src$blocks$procedures={blocks:blocks$$module$build$src$blocks$procedures};var blocks$$module$build$src$blocks$math=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"math_number\",message0:\"%1\",args0:[{type:\"field_number\",name:\"NUM\",value:0}],output:\"Number\",helpUrl:\"%{BKY_MATH_NUMBER_HELPURL}\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_NUMBER_TOOLTIP}\",extensions:[\"parent_tooltip_when_inline\"]},{type:\"math_arithmetic\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\",check:\"Number\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ADDITION_SYMBOL}\",\n\"ADD\"],[\"%{BKY_MATH_SUBTRACTION_SYMBOL}\",\"MINUS\"],[\"%{BKY_MATH_MULTIPLICATION_SYMBOL}\",\"MULTIPLY\"],[\"%{BKY_MATH_DIVISION_SYMBOL}\",\"DIVIDE\"],[\"%{BKY_MATH_POWER_SYMBOL}\",\"POWER\"]]},{type:\"input_value\",name:\"B\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ARITHMETIC_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_single\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_SINGLE_OP_ROOT}\",\"ROOT\"],[\"%{BKY_MATH_SINGLE_OP_ABSOLUTE}\",\n\"ABS\"],[\"-\",\"NEG\"],[\"ln\",\"LN\"],[\"log10\",\"LOG10\"],[\"e^\",\"EXP\"],[\"10^\",\"POW10\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_SINGLE_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_trig\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_TRIG_SIN}\",\"SIN\"],[\"%{BKY_MATH_TRIG_COS}\",\"COS\"],[\"%{BKY_MATH_TRIG_TAN}\",\"TAN\"],[\"%{BKY_MATH_TRIG_ASIN}\",\"ASIN\"],[\"%{BKY_MATH_TRIG_ACOS}\",\"ACOS\"],[\"%{BKY_MATH_TRIG_ATAN}\",\n\"ATAN\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_TRIG_HELPURL}\",extensions:[\"math_op_tooltip\"]},{type:\"math_constant\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"CONSTANT\",options:[[\"\\u03c0\",\"PI\"],[\"e\",\"E\"],[\"\\u03c6\",\"GOLDEN_RATIO\"],[\"sqrt(2)\",\"SQRT2\"],[\"sqrt(\\u00bd)\",\"SQRT1_2\"],[\"\\u221e\",\"INFINITY\"]]}],output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_CONSTANT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_CONSTANT_HELPURL}\"},{type:\"math_number_property\",\nmessage0:\"%1 %2\",args0:[{type:\"input_value\",name:\"NUMBER_TO_CHECK\",check:\"Number\"},{type:\"field_dropdown\",name:\"PROPERTY\",options:[[\"%{BKY_MATH_IS_EVEN}\",\"EVEN\"],[\"%{BKY_MATH_IS_ODD}\",\"ODD\"],[\"%{BKY_MATH_IS_PRIME}\",\"PRIME\"],[\"%{BKY_MATH_IS_WHOLE}\",\"WHOLE\"],[\"%{BKY_MATH_IS_POSITIVE}\",\"POSITIVE\"],[\"%{BKY_MATH_IS_NEGATIVE}\",\"NEGATIVE\"],[\"%{BKY_MATH_IS_DIVISIBLE_BY}\",\"DIVISIBLE_BY\"]]}],inputsInline:!0,output:\"Boolean\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_IS_TOOLTIP}\",mutator:\"math_is_divisibleby_mutator\"},\n{type:\"math_change\",message0:\"%{BKY_MATH_CHANGE_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:\"%{BKY_MATH_CHANGE_TITLE_ITEM}\"},{type:\"input_value\",name:\"DELTA\",check:\"Number\"}],previousStatement:null,nextStatement:null,style:\"variable_blocks\",helpUrl:\"%{BKY_MATH_CHANGE_HELPURL}\",extensions:[\"math_change_tooltip\"]},{type:\"math_round\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ROUND_OPERATOR_ROUND}\",\"ROUND\"],[\"%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}\",\"ROUNDUP\"],\n[\"%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}\",\"ROUNDDOWN\"]]},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ROUND_HELPURL}\",tooltip:\"%{BKY_MATH_ROUND_TOOLTIP}\"},{type:\"math_on_list\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_MATH_ONLIST_OPERATOR_SUM}\",\"SUM\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MIN}\",\"MIN\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MAX}\",\"MAX\"],[\"%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}\",\"AVERAGE\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}\",\n\"MEDIAN\"],[\"%{BKY_MATH_ONLIST_OPERATOR_MODE}\",\"MODE\"],[\"%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}\",\"STD_DEV\"],[\"%{BKY_MATH_ONLIST_OPERATOR_RANDOM}\",\"RANDOM\"]]},{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Number\",style:\"math_blocks\",helpUrl:\"%{BKY_MATH_ONLIST_HELPURL}\",mutator:\"math_modes_of_list_mutator\",extensions:[\"math_op_tooltip\"]},{type:\"math_modulo\",message0:\"%{BKY_MATH_MODULO_TITLE}\",args0:[{type:\"input_value\",name:\"DIVIDEND\",check:\"Number\"},{type:\"input_value\",name:\"DIVISOR\",check:\"Number\"}],\ninputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_MODULO_TOOLTIP}\",helpUrl:\"%{BKY_MATH_MODULO_HELPURL}\"},{type:\"math_constrain\",message0:\"%{BKY_MATH_CONSTRAIN_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:\"Number\"},{type:\"input_value\",name:\"LOW\",check:\"Number\"},{type:\"input_value\",name:\"HIGH\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_CONSTRAIN_TOOLTIP}\",helpUrl:\"%{BKY_MATH_CONSTRAIN_HELPURL}\"},{type:\"math_random_int\",message0:\"%{BKY_MATH_RANDOM_INT_TITLE}\",\nargs0:[{type:\"input_value\",name:\"FROM\",check:\"Number\"},{type:\"input_value\",name:\"TO\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_RANDOM_INT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_RANDOM_INT_HELPURL}\"},{type:\"math_random_float\",message0:\"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}\",output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}\",helpUrl:\"%{BKY_MATH_RANDOM_FLOAT_HELPURL}\"},{type:\"math_atan2\",message0:\"%{BKY_MATH_ATAN2_TITLE}\",args0:[{type:\"input_value\",\nname:\"X\",check:\"Number\"},{type:\"input_value\",name:\"Y\",check:\"Number\"}],inputsInline:!0,output:\"Number\",style:\"math_blocks\",tooltip:\"%{BKY_MATH_ATAN2_TOOLTIP}\",helpUrl:\"%{BKY_MATH_ATAN2_HELPURL}\"}]),TOOLTIPS_BY_OP$$module$build$src$blocks$math={ADD:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}\",MINUS:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}\",MULTIPLY:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}\",DIVIDE:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}\",POWER:\"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}\",ROOT:\"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}\",\nABS:\"%{BKY_MATH_SINGLE_TOOLTIP_ABS}\",NEG:\"%{BKY_MATH_SINGLE_TOOLTIP_NEG}\",LN:\"%{BKY_MATH_SINGLE_TOOLTIP_LN}\",LOG10:\"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}\",EXP:\"%{BKY_MATH_SINGLE_TOOLTIP_EXP}\",POW10:\"%{BKY_MATH_SINGLE_TOOLTIP_POW10}\",SIN:\"%{BKY_MATH_TRIG_TOOLTIP_SIN}\",COS:\"%{BKY_MATH_TRIG_TOOLTIP_COS}\",TAN:\"%{BKY_MATH_TRIG_TOOLTIP_TAN}\",ASIN:\"%{BKY_MATH_TRIG_TOOLTIP_ASIN}\",ACOS:\"%{BKY_MATH_TRIG_TOOLTIP_ACOS}\",ATAN:\"%{BKY_MATH_TRIG_TOOLTIP_ATAN}\",SUM:\"%{BKY_MATH_ONLIST_TOOLTIP_SUM}\",MIN:\"%{BKY_MATH_ONLIST_TOOLTIP_MIN}\",\nMAX:\"%{BKY_MATH_ONLIST_TOOLTIP_MAX}\",AVERAGE:\"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}\",MEDIAN:\"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}\",MODE:\"%{BKY_MATH_ONLIST_TOOLTIP_MODE}\",STD_DEV:\"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}\",RANDOM:\"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}\"};$.register$$module$build$src$core$extensions(\"math_op_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\",TOOLTIPS_BY_OP$$module$build$src$blocks$math));\nvar IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math={mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\"),b=this.getFieldValue(\"PROPERTY\")===\"DIVISIBLE_BY\";a.setAttribute(\"divisor_input\",String(b));return a},domToMutation:function(a){a=a.getAttribute(\"divisor_input\")===\"true\";this.updateShape_(a)},updateShape_:function(a){const b=this.getInput(\"DIVISOR\");a?b||this.appendValueInput(\"DIVISOR\").setCheck(\"Number\"):b&&this.removeInput(\"DIVISOR\")}},IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math=\nfunction(){this.getField(\"PROPERTY\").setValidator(function(a){a=a===\"DIVISIBLE_BY\";this.getSourceBlock().updateShape_(a)})};$.registerMutator$$module$build$src$core$extensions(\"math_is_divisibleby_mutator\",IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math,IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math);$.register$$module$build$src$core$extensions(\"math_change_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_MATH_CHANGE_TOOLTIP}\",\"VAR\"));\nvar LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math={updateType_:function(a){a===\"MODE\"?this.outputConnection.setCheck(\"Array\"):this.outputConnection.setCheck(\"Number\")},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"op\",this.getFieldValue(\"OP\"));return a},domToMutation:function(a){a=a.getAttribute(\"op\");if(a===null)throw new TypeError(\"xmlElement had no op attribute\");this.updateType_(a)}},LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math=\nfunction(){this.getField(\"OP\").setValidator(function(a){this.updateType_(a)}.bind(this))};$.registerMutator$$module$build$src$core$extensions(\"math_modes_of_list_mutator\",LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math,LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$math);var module$build$src$blocks$math={blocks:blocks$$module$build$src$blocks$math};var blocks$$module$build$src$blocks$loops=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"controls_repeat_ext\",message0:\"%{BKY_CONTROLS_REPEAT_TITLE}\",args0:[{type:\"input_value\",name:\"TIMES\",check:\"Number\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",tooltip:\"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",helpUrl:\"%{BKY_CONTROLS_REPEAT_HELPURL}\"},{type:\"controls_repeat\",message0:\"%{BKY_CONTROLS_REPEAT_TITLE}\",\nargs0:[{type:\"field_number\",name:\"TIMES\",value:10,min:0,precision:1}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",tooltip:\"%{BKY_CONTROLS_REPEAT_TOOLTIP}\",helpUrl:\"%{BKY_CONTROLS_REPEAT_HELPURL}\"},{type:\"controls_whileUntil\",message0:\"%1 %2\",args0:[{type:\"field_dropdown\",name:\"MODE\",options:[[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}\",\"WHILE\"],[\"%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}\",\"UNTIL\"]]},\n{type:\"input_value\",name:\"BOOL\",check:\"Boolean\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}\",extensions:[\"controls_whileUntil_tooltip\"]},{type:\"controls_for\",message0:\"%{BKY_CONTROLS_FOR_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:null},{type:\"input_value\",name:\"FROM\",check:\"Number\",align:\"RIGHT\"},{type:\"input_value\",name:\"TO\",check:\"Number\",\nalign:\"RIGHT\"},{type:\"input_value\",name:\"BY\",check:\"Number\",align:\"RIGHT\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FOR_HELPURL}\",extensions:[\"contextMenu_newGetVariableBlock\",\"controls_for_tooltip\"]},{type:\"controls_forEach\",message0:\"%{BKY_CONTROLS_FOREACH_TITLE}\",args0:[{type:\"field_variable\",name:\"VAR\",variable:null},{type:\"input_value\",name:\"LIST\",\ncheck:\"Array\"}],message1:\"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1\",args1:[{type:\"input_statement\",name:\"DO\"}],previousStatement:null,nextStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FOREACH_HELPURL}\",extensions:[\"contextMenu_newGetVariableBlock\",\"controls_forEach_tooltip\"]},{type:\"controls_flow_statements\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"FLOW\",options:[[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}\",\"BREAK\"],[\"%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}\",\"CONTINUE\"]]}],\npreviousStatement:null,style:\"loop_blocks\",helpUrl:\"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}\",suppressPrefixSuffix:!0,extensions:[\"controls_flow_tooltip\",\"controls_flow_in_loop_check\"]}]),WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops={WHILE:\"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}\",UNTIL:\"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}\"};$.register$$module$build$src$core$extensions(\"controls_whileUntil_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"MODE\",WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops));\nvar BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops={BREAK:\"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}\",CONTINUE:\"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}\"};$.register$$module$build$src$core$extensions(\"controls_flow_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"FLOW\",BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops));\nvar CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getField(\"VAR\"),c=b.getVariable().getName();this.isCollapsed()||c===null||(b={type:\"variables_get\",fields:{VAR:b.saveState(!0)}},a.push({enabled:!0,text:$.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace(\"%1\",c),callback:$.callbackFactory$$module$build$src$core$contextmenu(this,b)}))}}};\n$.registerMixin$$module$build$src$core$extensions(\"contextMenu_newGetVariableBlock\",CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops);$.register$$module$build$src$core$extensions(\"controls_for_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_CONTROLS_FOR_TOOLTIP}\",\"VAR\"));$.register$$module$build$src$core$extensions(\"controls_forEach_tooltip\",$.buildTooltipWithFieldText$$module$build$src$core$extensions(\"%{BKY_CONTROLS_FOREACH_TOOLTIP}\",\"VAR\"));\nvar loopTypes$$module$build$src$blocks$loops=new Set([\"controls_repeat\",\"controls_repeat_ext\",\"controls_forEach\",\"controls_for\",\"controls_whileUntil\"]),CONTROL_FLOW_NOT_IN_LOOP_DISABLED_REASON$$module$build$src$blocks$loops=\"CONTROL_FLOW_NOT_IN_LOOP\",CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops={getSurroundLoop:function(){let a=this;do{if(loopTypes$$module$build$src$blocks$loops.has(a.type))return a;a=a.getSurroundParent()}while(a);return null},onchange:function(a){const b=this.workspace;\nif(b.isDragging&&!b.isDragging()&&(a.type===$.BLOCK_MOVE$$module$build$src$core$events$events||a.type===$.BLOCK_CREATE$$module$build$src$core$events$events)&&(a=!!this.getSurroundLoop(),this.setWarningText(a?null:$.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{$.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!a,CONTROL_FLOW_NOT_IN_LOOP_DISABLED_REASON$$module$build$src$blocks$loops)}finally{$.setRecordUndo$$module$build$src$core$events$utils(!0)}}};\n$.registerMixin$$module$build$src$core$extensions(\"controls_flow_in_loop_check\",CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$loops);var module$build$src$blocks$loops={blocks:blocks$$module$build$src$blocks$loops,loopTypes:loopTypes$$module$build$src$blocks$loops};var blocks$$module$build$src$blocks$logic=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"logic_boolean\",message0:\"%1\",args0:[{type:\"field_dropdown\",name:\"BOOL\",options:[[\"%{BKY_LOGIC_BOOLEAN_TRUE}\",\"TRUE\"],[\"%{BKY_LOGIC_BOOLEAN_FALSE}\",\"FALSE\"]]}],output:\"Boolean\",style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_BOOLEAN_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_BOOLEAN_HELPURL}\"},{type:\"controls_if\",message0:\"%{BKY_CONTROLS_IF_MSG_IF} %1\",args0:[{type:\"input_value\",name:\"IF0\",check:\"Boolean\"}],\nmessage1:\"%{BKY_CONTROLS_IF_MSG_THEN} %1\",args1:[{type:\"input_statement\",name:\"DO0\"}],previousStatement:null,nextStatement:null,style:\"logic_blocks\",helpUrl:\"%{BKY_CONTROLS_IF_HELPURL}\",suppressPrefixSuffix:!0,mutator:\"controls_if_mutator\",extensions:[\"controls_if_tooltip\"]},{type:\"controls_ifelse\",message0:\"%{BKY_CONTROLS_IF_MSG_IF} %1\",args0:[{type:\"input_value\",name:\"IF0\",check:\"Boolean\"}],message1:\"%{BKY_CONTROLS_IF_MSG_THEN} %1\",args1:[{type:\"input_statement\",name:\"DO0\"}],message2:\"%{BKY_CONTROLS_IF_MSG_ELSE} %1\",\nargs2:[{type:\"input_statement\",name:\"ELSE\"}],previousStatement:null,nextStatement:null,style:\"logic_blocks\",tooltip:\"%{BKYCONTROLS_IF_TOOLTIP_2}\",helpUrl:\"%{BKY_CONTROLS_IF_HELPURL}\",suppressPrefixSuffix:!0,extensions:[\"controls_if_tooltip\"]},{type:\"logic_compare\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"=\",\"EQ\"],[\"\\u2260\",\"NEQ\"],[\"\\u200f<\",\"LT\"],[\"\\u200f\\u2264\",\"LTE\"],[\"\\u200f>\",\"GT\"],[\"\\u200f\\u2265\",\"GTE\"]]},{type:\"input_value\",name:\"B\"}],\ninputsInline:!0,output:\"Boolean\",style:\"logic_blocks\",helpUrl:\"%{BKY_LOGIC_COMPARE_HELPURL}\",extensions:[\"logic_compare\",\"logic_op_tooltip\"]},{type:\"logic_operation\",message0:\"%1 %2 %3\",args0:[{type:\"input_value\",name:\"A\",check:\"Boolean\"},{type:\"field_dropdown\",name:\"OP\",options:[[\"%{BKY_LOGIC_OPERATION_AND}\",\"AND\"],[\"%{BKY_LOGIC_OPERATION_OR}\",\"OR\"]]},{type:\"input_value\",name:\"B\",check:\"Boolean\"}],inputsInline:!0,output:\"Boolean\",style:\"logic_blocks\",helpUrl:\"%{BKY_LOGIC_OPERATION_HELPURL}\",extensions:[\"logic_op_tooltip\"]},\n{type:\"logic_negate\",message0:\"%{BKY_LOGIC_NEGATE_TITLE}\",args0:[{type:\"input_value\",name:\"BOOL\",check:\"Boolean\"}],output:\"Boolean\",style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_NEGATE_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_NEGATE_HELPURL}\"},{type:\"logic_null\",message0:\"%{BKY_LOGIC_NULL}\",output:null,style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_NULL_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_NULL_HELPURL}\"},{type:\"logic_ternary\",message0:\"%{BKY_LOGIC_TERNARY_CONDITION} %1\",args0:[{type:\"input_value\",name:\"IF\",check:\"Boolean\"}],\nmessage1:\"%{BKY_LOGIC_TERNARY_IF_TRUE} %1\",args1:[{type:\"input_value\",name:\"THEN\"}],message2:\"%{BKY_LOGIC_TERNARY_IF_FALSE} %1\",args2:[{type:\"input_value\",name:\"ELSE\"}],output:null,style:\"logic_blocks\",tooltip:\"%{BKY_LOGIC_TERNARY_TOOLTIP}\",helpUrl:\"%{BKY_LOGIC_TERNARY_HELPURL}\",extensions:[\"logic_ternary\"]},{type:\"controls_if_if\",message0:\"%{BKY_CONTROLS_IF_IF_TITLE_IF}\",nextStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_IF_TOOLTIP}\"},{type:\"controls_if_elseif\",\nmessage0:\"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}\",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}\"},{type:\"controls_if_else\",message0:\"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}\",previousStatement:null,enableContextMenu:!1,style:\"logic_blocks\",tooltip:\"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}\"}]),TOOLTIPS_BY_OP$$module$build$src$blocks$logic={EQ:\"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}\",NEQ:\"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}\",LT:\"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}\",\nLTE:\"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}\",GT:\"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}\",GTE:\"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}\",AND:\"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}\",OR:\"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}\"};$.register$$module$build$src$core$extensions(\"logic_op_tooltip\",$.buildTooltipForDropdown$$module$build$src$core$extensions(\"OP\",TOOLTIPS_BY_OP$$module$build$src$blocks$logic));\nvar CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");this.elseifCount_&&a.setAttribute(\"elseif\",String(this.elseifCount_));this.elseCount_&&a.setAttribute(\"else\",\"1\");return a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute(\"elseif\"),10)||0;this.elseCount_=parseInt(a.getAttribute(\"else\"),10)||0;this.rebuildShape_()},\nsaveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const a=Object.create(null);this.elseifCount_&&(a.elseIfCount=this.elseifCount_);this.elseCount_&&(a.hasElse=!0);return a},loadExtraState:function(a){this.elseifCount_=a.elseIfCount||0;this.elseCount_=a.hasElse?1:0;this.updateShape_()},decompose:function(a){const b=a.newBlock(\"controls_if_if\");b.initSvg();let c=b.nextConnection;for(let d=1;d<=this.elseifCount_;d++){const e=a.newBlock(\"controls_if_elseif\");e.initSvg();c.connect(e.previousConnection);\nc=e.nextConnection}this.elseCount_&&(a=a.newBlock(\"controls_if_else\"),a.initSvg(),c.connect(a.previousConnection));return b},compose:function(a){a=a.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0;const b=[null],c=[null];let d=null;for(;a;){if(!a.isInsertionMarker())switch(a.type){case \"controls_if_elseif\":this.elseifCount_++;b.push(a.valueConnection_);c.push(a.statementConnection_);break;case \"controls_if_else\":this.elseCount_++;d=a.statementConnection_;break;default:throw TypeError(\"Unknown block type: \"+\na.type);}a=a.getNextBlock()}this.updateShape_();this.reconnectChildBlocks_(b,c,d)},saveConnections:function(a){a=a.nextConnection.targetBlock();let b=1;for(;a;){if(!a.isInsertionMarker())switch(a.type){case \"controls_if_elseif\":var c=this.getInput(\"IF\"+b);const d=this.getInput(\"DO\"+b);a.valueConnection_=c&&c.connection.targetConnection;a.statementConnection_=d&&d.connection.targetConnection;b++;break;case \"controls_if_else\":c=this.getInput(\"ELSE\");a.statementConnection_=c&&c.connection.targetConnection;\nbreak;default:throw TypeError(\"Unknown block type: \"+a.type);}a=a.getNextBlock()}},rebuildShape_:function(){const a=[null],b=[null];let c=null;this.getInput(\"ELSE\")&&(c=this.getInput(\"ELSE\").connection.targetConnection);for(let d=1;this.getInput(\"IF\"+d);d++){const e=this.getInput(\"IF\"+d),f=this.getInput(\"DO\"+d);a.push(e.connection.targetConnection);b.push(f.connection.targetConnection)}this.updateShape_();this.reconnectChildBlocks_(a,b,c)},updateShape_:function(){this.getInput(\"ELSE\")&&this.removeInput(\"ELSE\");\nfor(var a=1;this.getInput(\"IF\"+a);a++)this.removeInput(\"IF\"+a),this.removeInput(\"DO\"+a);for(a=1;a<=this.elseifCount_;a++)this.appendValueInput(\"IF\"+a).setCheck(\"Boolean\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput(\"DO\"+a).appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput(\"ELSE\").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(a,b,c){for(let d=\n1;d<=this.elseifCount_;d++){let e;(e=a[d])==null||e.reconnect(this,\"IF\"+d);let f;(f=b[d])==null||f.reconnect(this,\"DO\"+d)}c==null||c.reconnect(this,\"ELSE\")}};$.registerMutator$$module$build$src$core$extensions(\"controls_if_mutator\",CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic,null,[\"controls_if_elseif\",\"controls_if_else\"]);\nvar CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;\nreturn\"\"}.bind(this))};$.register$$module$build$src$core$extensions(\"controls_if_tooltip\",CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic);\nvar LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic={onchange:function(a){this.prevBlocks_||(this.prevBlocks_=[null,null]);var b=this.getInputTargetBlock(\"A\");const c=this.getInputTargetBlock(\"B\");b&&c&&!this.workspace.connectionChecker.doTypeChecks(b.outputConnection,c.outputConnection)&&($.setGroup$$module$build$src$core$events$utils(a.group),a=this.prevBlocks_[0],a!==b&&(b.unplug(),!a||a.isDisposed()||a.isShadow()||this.getInput(\"A\").connection.connect(a.outputConnection)),b=this.prevBlocks_[1],\nb!==c&&(c.unplug(),!b||b.isDisposed()||b.isShadow()||this.getInput(\"B\").connection.connect(b.outputConnection)),this.bumpNeighbours(),$.setGroup$$module$build$src$core$events$utils(!1));this.prevBlocks_[0]=this.getInputTargetBlock(\"A\");this.prevBlocks_[1]=this.getInputTargetBlock(\"B\")}},LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic=function(){this.mixin(LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic)};$.register$$module$build$src$core$extensions(\"logic_compare\",LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic);\nvar LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic={prevParentConnection_:null,onchange:function(a){const b=this.getInputTargetBlock(\"THEN\"),c=this.getInputTargetBlock(\"ELSE\"),d=this.outputConnection.targetConnection;if((b||c)&&d)for(let e=0;e<2;e++){const f=e===1?b:c;f&&!f.workspace.connectionChecker.doTypeChecks(f.outputConnection,d)&&($.setGroup$$module$build$src$core$events$utils(a.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours()):(f.unplug(),\nf.bumpNeighbours()),$.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=d}};$.registerMixin$$module$build$src$core$extensions(\"logic_ternary\",LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic);$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$logic);var module$build$src$blocks$logic={blocks:blocks$$module$build$src$blocks$logic};var blocks$$module$build$src$blocks$lists=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:\"lists_create_empty\",message0:\"%{BKY_LISTS_CREATE_EMPTY_TITLE}\",output:\"Array\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_CREATE_EMPTY_HELPURL}\"},{type:\"lists_repeat\",message0:\"%{BKY_LISTS_REPEAT_TITLE}\",args0:[{type:\"input_value\",name:\"ITEM\"},{type:\"input_value\",name:\"NUM\",check:\"Number\"}],output:\"Array\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_REPEAT_TOOLTIP}\",\nhelpUrl:\"%{BKY_LISTS_REPEAT_HELPURL}\"},{type:\"lists_reverse\",message0:\"%{BKY_LISTS_REVERSE_MESSAGE0}\",args0:[{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Array\",inputsInline:!0,style:\"list_blocks\",tooltip:\"%{BKY_LISTS_REVERSE_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_REVERSE_HELPURL}\"},{type:\"lists_isEmpty\",message0:\"%{BKY_LISTS_ISEMPTY_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Boolean\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_ISEMPTY_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_ISEMPTY_HELPURL}\"},\n{type:\"lists_length\",message0:\"%{BKY_LISTS_LENGTH_TITLE}\",args0:[{type:\"input_value\",name:\"VALUE\",check:[\"String\",\"Array\"]}],output:\"Number\",style:\"list_blocks\",tooltip:\"%{BKY_LISTS_LENGTH_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_LENGTH_HELPURL}\"}]),LISTS_CREATE_WITH$$module$build$src$blocks$lists={init:function(){this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL);this.setStyle(\"list_blocks\");this.itemCount_=3;this.updateShape_();this.setOutput(!0,\"Array\");this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon([\"lists_create_with_item\"],\nthis));this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"items\",String(this.itemCount_));return a},domToMutation:function(a){a=a.getAttribute(\"items\");if(!a)throw new TypeError(\"element did not have items\");this.itemCount_=parseInt(a,10);this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(a){this.itemCount_=a.itemCount;\nthis.updateShape_()},decompose:function(a){const b=a.newBlock(\"lists_create_with_container\");b.initSvg();let c=b.getInput(\"STACK\").connection;for(let d=0;d<this.itemCount_;d++){const e=a.newBlock(\"lists_create_with_item\");e.initSvg();if(!e.previousConnection)throw Error(\"itemBlock has no previousConnection\");c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock(\"STACK\");for(a=[];b;)b.isInsertionMarker()||a.push(b.valueConnection_),b=b.getNextBlock();\nfor(b=0;b<this.itemCount_;b++){const c=this.getInput(\"ADD\"+b).connection.targetConnection;c&&!a.includes(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++){let c;(c=a[b])==null||c.reconnect(this,\"ADD\"+b)}},saveConnections:function(a){a=a.getInputTargetBlock(\"STACK\");let b=0;for(;a;){if(a.isInsertionMarker()){a=a.getNextBlock();continue}const c=this.getInput(\"ADD\"+b);let d;a.valueConnection_=(d=c)==null?void 0:d.connection.targetConnection;a=a.getNextBlock();\nb++}},updateShape_:function(){this.itemCount_&&this.getInput(\"EMPTY\")?this.removeInput(\"EMPTY\"):this.itemCount_||this.getInput(\"EMPTY\")||this.appendDummyInput(\"EMPTY\").appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput(\"ADD\"+a)){const b=this.appendValueInput(\"ADD\"+a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);a===0&&b.appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(a=this.itemCount_;this.getInput(\"ADD\"+\na);a++)this.removeInput(\"ADD\"+a)}};blocks$$module$build$src$blocks$lists.lists_create_with=LISTS_CREATE_WITH$$module$build$src$blocks$lists;var LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists={init:function(){this.setStyle(\"list_blocks\");this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.appendStatementInput(\"STACK\");this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};\nblocks$$module$build$src$blocks$lists.lists_create_with_container=LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists;var LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists={init:function(){this.setStyle(\"list_blocks\");this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};\nblocks$$module$build$src$blocks$lists.lists_create_with_item=LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists;\nvar LISTS_INDEXOF$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,\"FIRST\"],[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL);this.setStyle(\"list_blocks\");this.setOutput(!0,\"Number\");this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",\noptions:a});if(!a)throw Error(\"field_dropdown not found\");this.appendValueInput(\"FIND\").appendField(a,\"END\");this.setInputsInline(!0);this.setTooltip(()=>$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\"0\":\"-1\"))}};blocks$$module$build$src$blocks$lists.lists_indexOf=LISTS_INDEXOF$$module$build$src$blocks$lists;\nvar LISTS_GETINDEX$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,\"GET\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,\"GET_REMOVE\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,\"REMOVE\"]];this.WHERE_OPTIONS=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,\"FIRST\"],\n[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,\"LAST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,\"RANDOM\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL);this.setStyle(\"list_blocks\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});a.setValidator(function(b){b=b===\"REMOVE\";this.getSourceBlock().updateStatement_(b)});this.appendValueInput(\"VALUE\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST);\nthis.appendDummyInput().appendField(a,\"MODE\").appendField(\"\",\"SPACE\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this.WHERE_OPTIONS});a.setValidator(function(b){const c=this.getValue();b=b===\"FROM_START\"||b===\"FROM_END\";b!==(c===\"FROM_START\"||c===\"FROM_END\")&&this.getSourceBlock().updateAt_(b)});this.appendDummyInput().appendField(a,\"WHERE\");this.appendDummyInput(\"AT\");$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL);\nthis.setInputsInline(!0);this.setOutput(!0);this.updateAt_(!0);this.setTooltip(()=>{const b=this.getFieldValue(\"MODE\"),c=this.getFieldValue(\"WHERE\");let d=\"\";switch(b+\" \"+c){case \"GET FROM_START\":case \"GET FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case \"GET FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case \"GET LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case \"GET RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;\nbreak;case \"GET_REMOVE FROM_START\":case \"GET_REMOVE FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case \"GET_REMOVE FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case \"GET_REMOVE LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case \"GET_REMOVE RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case \"REMOVE FROM_START\":case \"REMOVE FROM_END\":d=\n$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case \"REMOVE FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case \"REMOVE LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case \"REMOVE RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if(c===\"FROM_START\"||c===\"FROM_END\")d+=\"  \"+(c===\"FROM_START\"?$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace(\"%1\",\nthis.workspace.options.oneBasedIndex?\"#1\":\"#0\");return d})},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"statement\",String(!this.outputConnection));const b=this.getInput(\"AT\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at\",String(b));return a},domToMutation:function(a){const b=a.getAttribute(\"statement\")===\"true\";this.updateStatement_(b);a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},saveExtraState:function(){return this.outputConnection?\nnull:{isStatement:!0}},loadExtraState:function(a){a.isStatement?this.updateStatement_(!0):typeof a===\"string\"&&this.domToMutation($.textToDom$$module$build$src$core$utils$xml(a))},updateStatement_:function(a){a!==!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput(\"AT\");this.removeInput(\"ORDINAL\",!0);a?(this.appendValueInput(\"AT\").setCheck(\"Number\"),\n$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\");$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore(\"TAIL\",null)}};blocks$$module$build$src$blocks$lists.lists_getIndex=LISTS_GETINDEX$$module$build$src$blocks$lists;\nvar LISTS_SETINDEX$$module$build$src$blocks$lists={init:function(){var a=[[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,\"SET\"],[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,\"INSERT\"]];this.WHERE_OPTIONS=[[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,\"FIRST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,\"LAST\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,\n\"RANDOM\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST);a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:a});this.appendDummyInput().appendField(a,\"MODE\").appendField(\"\",\"SPACE\");a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this.WHERE_OPTIONS});a.setValidator(function(b){const c=\nthis.getValue();b=b===\"FROM_START\"||b===\"FROM_END\";b!==(c===\"FROM_START\"||c===\"FROM_END\")&&this.getSourceBlock().updateAt_(b)});this.appendDummyInput().appendField(a,\"WHERE\");this.appendDummyInput(\"AT\");this.appendValueInput(\"TO\").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP);this.updateAt_(!0);this.setTooltip(()=>{const b=\nthis.getFieldValue(\"MODE\"),c=this.getFieldValue(\"WHERE\");let d=\"\";switch(b+\" \"+c){case \"SET FROM_START\":case \"SET FROM_END\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case \"SET FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case \"SET LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case \"SET RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case \"INSERT FROM_START\":case \"INSERT FROM_END\":d=\n$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case \"INSERT FIRST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case \"INSERT LAST\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case \"INSERT RANDOM\":d=$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if(c===\"FROM_START\"||c===\"FROM_END\")d+=\"  \"+$.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace(\"%1\",this.workspace.options.oneBasedIndex?\n\"#1\":\"#0\");return d})},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\"),b=this.getInput(\"AT\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at\",String(b));return a},domToMutation:function(a){a=a.getAttribute(\"at\")!==\"false\";this.updateAt_(a)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(a){this.removeInput(\"AT\");this.removeInput(\"ORDINAL\",!0);a?(this.appendValueInput(\"AT\").setCheck(\"Number\"),\n$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\");this.moveInputBefore(\"AT\",\"TO\");this.getInput(\"ORDINAL\")&&this.moveInputBefore(\"ORDINAL\",\"TO\")}};blocks$$module$build$src$blocks$lists.lists_setIndex=LISTS_SETINDEX$$module$build$src$blocks$lists;\nvar LISTS_GETSUBLIST$$module$build$src$blocks$lists={init:function(){this.WHERE_OPTIONS_1=[[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,\"FROM_END\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,\"FIRST\"]];this.WHERE_OPTIONS_2=[[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,\"FROM_START\"],[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,\"FROM_END\"],\n[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,\"LAST\"]];this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"LIST\").setCheck(\"Array\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const a=b=>{const c=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:this[\"WHERE_OPTIONS_\"+b]});c.setValidator(function(d){const e=this.getValue();d=d===\"FROM_START\"||d===\n\"FROM_END\";d!==(e===\"FROM_START\"||e===\"FROM_END\")&&this.getSourceBlock().updateAt_(b,d)});return c};this.appendDummyInput(\"WHERE1_INPUT\").appendField(a(1),\"WHERE1\");this.appendDummyInput(\"AT1\");this.appendDummyInput(\"WHERE2_INPUT\").appendField(a(2),\"WHERE2\");this.appendDummyInput(\"AT2\");$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput(\"TAIL\").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL);this.setInputsInline(!0);this.setOutput(!0,\"Array\");this.updateAt_(1,\n!0);this.updateAt_(2,!0);this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");var b=this.getInput(\"AT1\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at1\",String(b));b=this.getInput(\"AT2\")instanceof $.ValueInput$$module$build$src$core$inputs$value_input;a.setAttribute(\"at2\",String(b));return a},domToMutation:function(a){const b=a.getAttribute(\"at1\")===\n\"true\";a=a.getAttribute(\"at2\")===\"true\";this.updateAt_(1,b);this.updateAt_(2,a)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(a,b){this.removeInput(\"AT\"+a);this.removeInput(\"ORDINAL\"+a,!0);b?(this.appendValueInput(\"AT\"+a).setCheck(\"Number\"),$.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput(\"ORDINAL\"+a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput(\"AT\"+a);a===1&&(this.moveInputBefore(\"AT1\",\n\"WHERE2_INPUT\"),this.getInput(\"ORDINAL1\")&&this.moveInputBefore(\"ORDINAL1\",\"WHERE2_INPUT\"));$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore(\"TAIL\",null)}};blocks$$module$build$src$blocks$lists.lists_getSublist=LISTS_GETSUBLIST$$module$build$src$blocks$lists;\nblocks$$module$build$src$blocks$lists.lists_sort={init:function(){this.jsonInit({message0:\"%{BKY_LISTS_SORT_TITLE}\",args0:[{type:\"field_dropdown\",name:\"TYPE\",options:[[\"%{BKY_LISTS_SORT_TYPE_NUMERIC}\",\"NUMERIC\"],[\"%{BKY_LISTS_SORT_TYPE_TEXT}\",\"TEXT\"],[\"%{BKY_LISTS_SORT_TYPE_IGNORECASE}\",\"IGNORE_CASE\"]]},{type:\"field_dropdown\",name:\"DIRECTION\",options:[[\"%{BKY_LISTS_SORT_ORDER_ASCENDING}\",\"1\"],[\"%{BKY_LISTS_SORT_ORDER_DESCENDING}\",\"-1\"]]},{type:\"input_value\",name:\"LIST\",check:\"Array\"}],output:\"Array\",\nstyle:\"list_blocks\",tooltip:\"%{BKY_LISTS_SORT_TOOLTIP}\",helpUrl:\"%{BKY_LISTS_SORT_HELPURL}\"})}};\nblocks$$module$build$src$blocks$lists.lists_split={init:function(){const a=$.fromJson$$module$build$src$core$field_registry({type:\"field_dropdown\",options:[[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,\"SPLIT\"],[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,\"JOIN\"]]});if(!a)throw Error(\"field_dropdown not found\");a.setValidator(b=>{this.updateType_(b)});this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL);this.setStyle(\"list_blocks\");this.appendValueInput(\"INPUT\").setCheck(\"String\").appendField(a,\n\"MODE\");this.appendValueInput(\"DELIM\").setCheck(\"String\").appendField($.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER);this.setInputsInline(!0);this.setOutput(!0,\"Array\");this.setTooltip(()=>{const b=this.getFieldValue(\"MODE\");if(b===\"SPLIT\")return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(b===\"JOIN\")return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error(\"Unknown mode: \"+b);})},updateType_:function(a){if(this.getFieldValue(\"MODE\")!==a){const b=\nthis.getInput(\"INPUT\").connection;b.setShadowDom(null);const c=b.targetBlock();c&&(b.disconnect(),c.isShadow()?c.dispose(!1):this.bumpNeighbours())}a===\"SPLIT\"?(this.outputConnection.setCheck(\"Array\"),this.getInput(\"INPUT\").setCheck(\"String\")):(this.outputConnection.setCheck(\"String\"),this.getInput(\"INPUT\").setCheck(\"Array\"))},mutationToDom:function(){const a=$.createElement$$module$build$src$core$utils$xml(\"mutation\");a.setAttribute(\"mode\",this.getFieldValue(\"MODE\"));return a},domToMutation:function(a){this.updateType_(a.getAttribute(\"mode\"))},\nsaveExtraState:function(){return{mode:this.getFieldValue(\"MODE\")}},loadExtraState:function(a){this.updateType_(a.mode)}};$.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$lists);var module$build$src$blocks$lists={blocks:blocks$$module$build$src$blocks$lists};var blocks$$module$build$src$blocks$blocks=Object.assign({},blocks$$module$build$src$blocks$lists,blocks$$module$build$src$blocks$logic,blocks$$module$build$src$blocks$loops,blocks$$module$build$src$blocks$math,blocks$$module$build$src$blocks$procedures,blocks$$module$build$src$blocks$text,blocks$$module$build$src$blocks$variables,blocks$$module$build$src$blocks$variables_dynamic),module$build$src$blocks$blocks={blocks:blocks$$module$build$src$blocks$blocks,lists:module$build$src$blocks$lists,logic:module$build$src$blocks$logic,\nloops:module$build$src$blocks$loops,math:module$build$src$blocks$math,procedures:module$build$src$blocks$procedures,texts:module$build$src$blocks$text,variables:module$build$src$blocks$variables,variablesDynamic:module$build$src$blocks$variables_dynamic};\nmodule$build$src$blocks$blocks.__namespace__=$;\nreturn module$build$src$blocks$blocks;\n}));\n\n\n//# sourceMappingURL=blocks_compressed.js.map\n","/* eslint-disable */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) { // AMD\n    define(['blockly/core', 'blockly/msg/en', 'blockly/blocks'], factory);\n  } else if (typeof exports === 'object') { // Node.js\n    module.exports = factory(require('blockly/core'), require('blockly/msg/en'), require('blockly/blocks'));\n  } else { // Browser\n    root.Blockly = factory(root.Blockly, root.Blockly.Msg, root.Blockly.Blocks);\n  }\n}(this, function(Blockly, en, blocks) {\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @file Main entrypoint for blockly package.  Via its UMD wrapper,\n * this module loads blockly/core, blockly/blocks and blockly/msg/en\n * and then calls setLocale(en).\n *\n * This entrypoint previously also loaded one or more generators\n * (JavaScript in browser, all five in node.js environments) but it no\n * longer makes sense to do so because of changes to generators\n * exports (they no longer have the side effect of defining\n * Blockly.JavaScript, etc., when loaded as modules).\n */\n\n/* eslint-disable */\n'use strict';\n\n// Include the EN Locale by default.\nBlockly.setLocale(en);\n\nreturn Blockly;\n}));\n","// Do not edit this file; automatically generated.\n\n/* eslint-disable */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) { // AMD\n    define([\"./blockly_compressed.js\"], factory);\n  } else if (typeof exports === 'object') { // Node.js\n    module.exports = factory(require(\"./blockly_compressed.js\"));\n  } else { // Script\n    root.javascript = factory(root.Blockly);\n    root.Blockly.JavaScript = root.javascript.javascriptGenerator;\n  }\n}(this, function(__parent__) {\nvar $=__parent__.__namespace__;\nvar lists_create_empty$$module$build$src$generators$javascript$lists=function(a,b){return[\"[]\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},lists_create_with$$module$build$src$generators$javascript$lists=function(a,b){const c=Array(a.itemCount_);for(let d=0;d<a.itemCount_;d++)c[d]=b.valueToCode(a,\"ADD\"+d,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";return[\"[\"+c.join(\", \")+\"]\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},\nlists_repeat$$module$build$src$generators$javascript$lists=function(a,b){const c=b.provideFunction_(\"listsRepeat\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n`),d=b.valueToCode(a,\"ITEM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";a=b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[c+\"(\"+d+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_length$$module$build$src$generators$javascript$lists=function(a,b){return[(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\n\"[]\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER]},lists_isEmpty$$module$build$src$generators$javascript$lists=function(a,b){return[\"!\"+(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT]},lists_indexOf$$module$build$src$generators$javascript$lists=function(a,b){const c=a.getFieldValue(\"END\")===\"FIRST\"?\"indexOf\":\"lastIndexOf\",\nd=b.valueToCode(a,\"FIND\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";b=(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\")+\".\"+c+\"(\"+d+\")\";return a.workspace.options.oneBasedIndex?[b+\" + 1\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION]:[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_getIndex$$module$build$src$generators$javascript$lists=\nfunction(a,b){const c=a.getFieldValue(\"MODE\")||\"GET\",d=a.getFieldValue(\"WHERE\")||\"FROM_START\";var e=b.valueToCode(a,\"VALUE\",d===\"RANDOM\"?Order$$module$build$src$generators$javascript$javascript_generator.NONE:Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";switch(d){case \"FIRST\":if(c===\"GET\")return[e+\"[0]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\".shift()\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];\nif(c===\"REMOVE\")return e+\".shift();\\n\";break;case \"LAST\":if(c===\"GET\")return[e+\".slice(-1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\".pop()\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"REMOVE\")return e+\".pop();\\n\";break;case \"FROM_START\":a=b.getAdjusted(a,\"AT\");if(c===\"GET\")return[e+\"[\"+a+\"]\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];if(c===\"GET_REMOVE\")return[e+\n\".splice(\"+a+\", 1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\".splice(\"+a+\", 1);\\n\";break;case \"FROM_END\":a=b.getAdjusted(a,\"AT\",1,!0);if(c===\"GET\")return[e+\".slice(\"+a+\")[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"GET_REMOVE\")return[e+\".splice(\"+a+\", 1)[0]\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\".splice(\"+a+\", 1);\";\nbreak;case \"RANDOM\":e=b.provideFunction_(\"listsGetRandomItem\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n`)+\"(\"+e+\", \"+(c!==\"GET\")+\")\";if(c===\"GET\"||c===\"GET_REMOVE\")return[e,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];if(c===\"REMOVE\")return e+\";\\n\"}throw Error(\"Unhandled combination (lists_getIndex).\");},lists_setIndex$$module$build$src$generators$javascript$lists=function(a,b){function c(){if(d.match(/^\\w+$/))return\"\";const h=b.nameDB_.getDistinctName(\"tmpList\",$.NameType$$module$build$src$core$names.VARIABLE),k=\"var \"+h+\" = \"+d+\";\\n\";d=h;return k}let d=b.valueToCode(a,\n\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";const e=a.getFieldValue(\"MODE\")||\"GET\";var f=a.getFieldValue(\"WHERE\")||\"FROM_START\";const g=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"null\";switch(f){case \"FIRST\":if(e===\"SET\")return d+\"[0] = \"+g+\";\\n\";if(e===\"INSERT\")return d+\".unshift(\"+g+\");\\n\";break;case \"LAST\":if(e===\"SET\")return c()+(d+\"[\"+d+\".length - 1] = \"+g+\";\\n\");if(e===\"INSERT\")return d+\".push(\"+\ng+\");\\n\";break;case \"FROM_START\":a=b.getAdjusted(a,\"AT\");if(e===\"SET\")return d+\"[\"+a+\"] = \"+g+\";\\n\";if(e===\"INSERT\")return d+\".splice(\"+a+\", 0, \"+g+\");\\n\";break;case \"FROM_END\":a=b.getAdjusted(a,\"AT\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);f=c();if(e===\"SET\")return f+(d+\"[\"+d+\".length - \"+a+\"] = \"+g+\";\\n\");if(e===\"INSERT\")return f+(d+\".splice(\"+d+\".length - \"+a+\", 0, \"+g+\");\\n\");break;case \"RANDOM\":a=c();f=b.nameDB_.getDistinctName(\"tmpX\",$.NameType$$module$build$src$core$names.VARIABLE);\na+=\"var \"+f+\" = Math.floor(Math.random() * \"+d+\".length);\\n\";if(e===\"SET\")return a+(d+\"[\"+f+\"] = \"+g+\";\\n\");if(e===\"INSERT\")return a+(d+\".splice(\"+f+\", 0, \"+g+\");\\n\")}throw Error(\"Unhandled combination (lists_setIndex).\");},lists_getSublist$$module$build$src$generators$javascript$lists=function(a,b){var c={FIRST:\"First\",LAST:\"Last\",FROM_START:\"FromStart\",FROM_END:\"FromEnd\"},d=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";const e=a.getFieldValue(\"WHERE1\"),\nf=a.getFieldValue(\"WHERE2\");if(e===\"FIRST\"&&f===\"LAST\")d+=\".slice(0)\";else if(d.match(/^\\w+$/)||e!==\"FROM_END\"&&f===\"FROM_START\"){switch(e){case \"FROM_START\":c=b.getAdjusted(a,\"AT1\");break;case \"FROM_END\":c=b.getAdjusted(a,\"AT1\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);c=d+\".length - \"+c;break;case \"FIRST\":c=\"0\";break;default:throw Error(\"Unhandled option (lists_getSublist).\");}switch(f){case \"FROM_START\":b=b.getAdjusted(a,\"AT2\",1);break;case \"FROM_END\":b=\nb.getAdjusted(a,\"AT2\",0,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);b=d+\".length - \"+b;break;case \"LAST\":b=d+\".length\";break;default:throw Error(\"Unhandled option (lists_getSublist).\");}d=d+\".slice(\"+c+\", \"+b+\")\"}else{const g=b.getAdjusted(a,\"AT1\");a=b.getAdjusted(a,\"AT2\");d=b.provideFunction_(\"subsequence\"+c[e]+c[f],`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${e===\"FROM_END\"||e===\"FROM_START\"?\", at1\":\"\"}${f===\"FROM_END\"||f===\"FROM_START\"?\", at2\":\"\"}) {\n  var start = ${getSubstringIndex$$module$build$src$generators$javascript$lists(\"sequence\",e,\"at1\")};\n  var end = ${getSubstringIndex$$module$build$src$generators$javascript$lists(\"sequence\",f,\"at2\")} + 1;\n  return sequence.slice(start, end);\n}\n`)+\"(\"+d+(e===\"FROM_END\"||e===\"FROM_START\"?\", \"+g:\"\")+(f===\"FROM_END\"||f===\"FROM_START\"?\", \"+a:\"\")+\")\"}return[d,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_sort$$module$build$src$generators$javascript$lists=function(a,b){const c=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL)||\"[]\",d=a.getFieldValue(\"DIRECTION\")===\"1\"?1:-1;a=a.getFieldValue(\"TYPE\");b=b.provideFunction_(\"listsGetSortCompare\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return String(a) > String(b) ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      `);return[c+\".slice().sort(\"+b+'(\"'+a+'\", '+d+\"))\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_split$$module$build$src$generators$javascript$lists=function(a,b){let c=b.valueToCode(a,\"INPUT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER);b=b.valueToCode(a,\"DELIM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=a.getFieldValue(\"MODE\");if(a===\"SPLIT\")c||(c=\"''\"),a=\"split\";else if(a===\"JOIN\")c||\n(c=\"[]\"),a=\"join\";else throw Error(\"Unknown mode: \"+a);return[c+\".\"+a+\"(\"+b+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},lists_reverse$$module$build$src$generators$javascript$lists=function(a,b){return[(b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL)||\"[]\")+\".slice().reverse()\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},controls_if$$module$build$src$generators$javascript$logic=\nfunction(a,b){var c=0;let d=\"\";b.STATEMENT_PREFIX&&(d+=b.injectId(b.STATEMENT_PREFIX,a));do{const e=b.valueToCode(a,\"IF\"+c,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\";let f=b.statementToCode(a,\"DO\"+c);b.STATEMENT_SUFFIX&&(f=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT)+f);d+=(c>0?\" else \":\"\")+\"if (\"+e+\") {\\n\"+f+\"}\";c++}while(a.getInput(\"IF\"+c));if(a.getInput(\"ELSE\")||b.STATEMENT_SUFFIX)c=a.getInput(\"ELSE\")?b.statementToCode(a,\"ELSE\"):\"\",b.STATEMENT_SUFFIX&&\n(c=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT)+c),d+=\" else {\\n\"+c+\"}\";return d+\"\\n\"},logic_compare$$module$build$src$generators$javascript$logic=function(a,b){const c={EQ:\"==\",NEQ:\"!=\",LT:\"<\",LTE:\"<=\",GT:\">\",GTE:\">=\"}[a.getFieldValue(\"OP\")],d=c===\"==\"||c===\"!=\"?Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY:Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,e=b.valueToCode(a,\"A\",d)||\"0\";a=b.valueToCode(a,\"B\",d)||\"0\";return[e+\" \"+\nc+\" \"+a,d]},logic_operation$$module$build$src$generators$javascript$logic=function(a,b){const c=a.getFieldValue(\"OP\")===\"AND\"?\"&&\":\"||\",d=c===\"&&\"?Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND:Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR;let e=b.valueToCode(a,\"A\",d);a=b.valueToCode(a,\"B\",d);e||a?(b=c===\"&&\"?\"true\":\"false\",e||(e=b),a||(a=b)):a=e=\"false\";return[e+\" \"+c+\" \"+a,d]},logic_negate$$module$build$src$generators$javascript$logic=\nfunction(a,b){const c=Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT;return[\"!\"+(b.valueToCode(a,\"BOOL\",c)||\"true\"),c]},logic_boolean$$module$build$src$generators$javascript$logic=function(a,b){return[a.getFieldValue(\"BOOL\")===\"TRUE\"?\"true\":\"false\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},logic_null$$module$build$src$generators$javascript$logic=function(a,b){return[\"null\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},\nlogic_ternary$$module$build$src$generators$javascript$logic=function(a,b){const c=b.valueToCode(a,\"IF\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"false\",d=b.valueToCode(a,\"THEN\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"null\";a=b.valueToCode(a,\"ELSE\",Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL)||\"null\";return[c+\" ? \"+d+\" : \"+a,Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL]},\ncontrols_repeat_ext$$module$build$src$generators$javascript$loops=function(a,b){let c;c=a.getField(\"TIMES\")?String(Number(a.getFieldValue(\"TIMES\"))):b.valueToCode(a,\"TIMES\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";let d=b.statementToCode(a,\"DO\");d=b.addLoopTrap(d,a);a=\"\";const e=b.nameDB_.getDistinctName(\"count\",$.NameType$$module$build$src$core$names.VARIABLE);let f=c;c.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(c)||(f=b.nameDB_.getDistinctName(\"repeat_end\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+f+\" = \"+c+\";\\n\");return a+(\"for (var \"+e+\" = 0; \"+e+\" < \"+f+\"; \"+e+\"++) {\\n\"+d+\"}\\n\")},controls_whileUntil$$module$build$src$generators$javascript$loops=function(a,b){const c=a.getFieldValue(\"MODE\")===\"UNTIL\";let d=b.valueToCode(a,\"BOOL\",c?Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT:Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\",e=b.statementToCode(a,\"DO\");e=b.addLoopTrap(e,\na);c&&(d=\"!\"+d);return\"while (\"+d+\") {\\n\"+e+\"}\\n\"},controls_for$$module$build$src$generators$javascript$loops=function(a,b){var c=b.getVariableName(a.getFieldValue(\"VAR\")),d=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\",e=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";const f=b.valueToCode(a,\"BY\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"1\";\nlet g=b.statementToCode(a,\"DO\");g=b.addLoopTrap(g,a);if($.isNumber$$module$build$src$core$utils$string(d)&&$.isNumber$$module$build$src$core$utils$string(e)&&$.isNumber$$module$build$src$core$utils$string(f))b=Number(d)<=Number(e),a=\"for (\"+c+\" = \"+d+\"; \"+c+(b?\" <= \":\" >= \")+e+\"; \"+c,c=Math.abs(Number(f)),a=c===1?a+(b?\"++\":\"--\"):a+((b?\" += \":\" -= \")+c),a+=\") {\\n\"+g+\"}\\n\";else{a=\"\";let h=d;d.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(d)||(h=b.nameDB_.getDistinctName(c+\"_start\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+h+\" = \"+d+\";\\n\");d=e;e.match(/^\\w+$/)||$.isNumber$$module$build$src$core$utils$string(e)||(d=b.nameDB_.getDistinctName(c+\"_end\",$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+d+\" = \"+e+\";\\n\");e=b.nameDB_.getDistinctName(c+\"_inc\",$.NameType$$module$build$src$core$names.VARIABLE);a+=\"var \"+e+\" = \";a=$.isNumber$$module$build$src$core$utils$string(f)?a+(Math.abs(Number(f))+\";\\n\"):a+(\"Math.abs(\"+f+\");\\n\");a+=\"if (\"+h+\" > \"+d+\") {\\n\";\na+=b.INDENT+e+\" = -\"+e+\";\\n\";a=a+\"}\\nfor (\"+(c+\" = \"+h+\"; \"+e+\" >= 0 ? \"+c+\" <= \"+d+\" : \"+c+\" >= \"+d+\"; \"+c+\" += \"+e+\") {\\n\"+g+\"}\\n\")}return a},controls_forEach$$module$build$src$generators$javascript$loops=function(a,b){const c=b.getVariableName(a.getFieldValue(\"VAR\"));var d=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"[]\";let e=b.statementToCode(a,\"DO\");e=b.addLoopTrap(e,a);a=\"\";let f=d;d.match(/^\\w+$/)||(f=b.nameDB_.getDistinctName(c+\"_list\",\n$.NameType$$module$build$src$core$names.VARIABLE),a+=\"var \"+f+\" = \"+d+\";\\n\");d=b.nameDB_.getDistinctName(c+\"_index\",$.NameType$$module$build$src$core$names.VARIABLE);e=b.INDENT+c+\" = \"+f+\"[\"+d+\"];\\n\"+e;return a+(\"for (var \"+d+\" in \"+f+\") {\\n\"+e+\"}\\n\")},controls_flow_statements$$module$build$src$generators$javascript$loops=function(a,b){let c=\"\";b.STATEMENT_PREFIX&&(c+=b.injectId(b.STATEMENT_PREFIX,a));b.STATEMENT_SUFFIX&&(c+=b.injectId(b.STATEMENT_SUFFIX,a));if(b.STATEMENT_PREFIX){const d=a.getSurroundLoop();\nd&&!d.suppressPrefixSuffix&&(c+=b.injectId(b.STATEMENT_PREFIX,d))}switch(a.getFieldValue(\"FLOW\")){case \"BREAK\":return c+\"break;\\n\";case \"CONTINUE\":return c+\"continue;\\n\"}throw Error(\"Unknown flow statement.\");},math_number$$module$build$src$generators$javascript$math=function(a,b){a=Number(a.getFieldValue(\"NUM\"));return[String(a),a>=0?Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC:Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION]},math_arithmetic$$module$build$src$generators$javascript$math=\nfunction(a,b){var c={ADD:[\" + \",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],MINUS:[\" - \",Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION],MULTIPLY:[\" * \",Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],DIVIDE:[\" / \",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],POWER:[null,Order$$module$build$src$generators$javascript$javascript_generator.NONE]}[a.getFieldValue(\"OP\")];\nconst d=c[0];c=c[1];const e=b.valueToCode(a,\"A\",c)||\"0\";a=b.valueToCode(a,\"B\",c)||\"0\";return d?[e+d+a,c]:[\"Math.pow(\"+e+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_single$$module$build$src$generators$javascript$math=function(a,b){const c=a.getFieldValue(\"OP\");let d;if(c===\"NEG\")return a=b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION)||\"0\",a[0]===\"-\"&&(a=\" \"+a),[\"-\"+a,Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION];\na=c===\"SIN\"||c===\"COS\"||c===\"TAN\"?b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION)||\"0\":b.valueToCode(a,\"NUM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";switch(c){case \"ABS\":d=\"Math.abs(\"+a+\")\";break;case \"ROOT\":d=\"Math.sqrt(\"+a+\")\";break;case \"LN\":d=\"Math.log(\"+a+\")\";break;case \"EXP\":d=\"Math.exp(\"+a+\")\";break;case \"POW10\":d=\"Math.pow(10,\"+a+\")\";break;case \"ROUND\":d=\"Math.round(\"+a+\")\";break;case \"ROUNDUP\":d=\"Math.ceil(\"+\na+\")\";break;case \"ROUNDDOWN\":d=\"Math.floor(\"+a+\")\";break;case \"SIN\":d=\"Math.sin(\"+a+\" / 180 * Math.PI)\";break;case \"COS\":d=\"Math.cos(\"+a+\" / 180 * Math.PI)\";break;case \"TAN\":d=\"Math.tan(\"+a+\" / 180 * Math.PI)\"}if(d)return[d,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];switch(c){case \"LOG10\":d=\"Math.log(\"+a+\") / Math.log(10)\";break;case \"ASIN\":d=\"Math.asin(\"+a+\") / Math.PI * 180\";break;case \"ACOS\":d=\"Math.acos(\"+a+\") / Math.PI * 180\";break;case \"ATAN\":d=\"Math.atan(\"+\na+\") / Math.PI * 180\";break;default:throw Error(\"Unknown math operator: \"+c);}return[d,Order$$module$build$src$generators$javascript$javascript_generator.DIVISION]},math_constant$$module$build$src$generators$javascript$math=function(a,b){return{PI:[\"Math.PI\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],E:[\"Math.E\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],GOLDEN_RATIO:[\"(1 + Math.sqrt(5)) / 2\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],\nSQRT2:[\"Math.SQRT2\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],SQRT1_2:[\"Math.SQRT1_2\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],INFINITY:[\"Infinity\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]}[a.getFieldValue(\"CONSTANT\")]},math_number_property$$module$build$src$generators$javascript$math=function(a,b){var c={EVEN:[\" % 2 === 0\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,\nOrder$$module$build$src$generators$javascript$javascript_generator.EQUALITY],ODD:[\" % 2 === 1\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],WHOLE:[\" % 1 === 0\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],POSITIVE:[\" > 0\",Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,\nOrder$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],NEGATIVE:[\" < 0\",Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],DIVISIBLE_BY:[null,Order$$module$build$src$generators$javascript$javascript_generator.MODULUS,Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],PRIME:[null,Order$$module$build$src$generators$javascript$javascript_generator.NONE,\nOrder$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]};const d=a.getFieldValue(\"PROPERTY\"),[e,f,g]=c[d];c=b.valueToCode(a,\"NUMBER_TO_CHECK\",f)||\"0\";d===\"PRIME\"?a=b.provideFunction_(\"mathIsPrime\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`)+\"(\"+c+\")\":d===\"DIVISIBLE_BY\"?(a=b.valueToCode(a,\"DIVISOR\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\"0\",a=c+\" % \"+a+\" === 0\"):a=c+e;return[a,g]},math_change$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"DELTA\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION)||\"0\";a=b.getVariableName(a.getFieldValue(\"VAR\"));return a+\" = (typeof \"+a+\" === 'number' ? \"+a+\" : 0) + \"+c+\";\\n\"},math_on_list$$module$build$src$generators$javascript$math=\nfunction(a,b){var c=a.getFieldValue(\"OP\");switch(c){case \"SUM\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"[]\";a+=\".reduce(function(x, y) {return x + y;}, 0)\";break;case \"MIN\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=\"Math.min.apply(null, \"+a+\")\";break;case \"MAX\":a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=\"Math.max.apply(null, \"+\na+\")\";break;case \"AVERAGE\":c=b.provideFunction_(\"mathMean\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"MEDIAN\":c=b.provideFunction_(\"mathMedian\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"MODE\":c=b.provideFunction_(\"mathModes\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n      modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"STD_DEV\":c=b.provideFunction_(\"mathStandardDeviation\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance /= n;\n  return Math.sqrt(variance);\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;case \"RANDOM\":c=b.provideFunction_(\"mathRandomList\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n`);a=b.valueToCode(a,\"LIST\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"[]\";a=c+\"(\"+a+\")\";break;default:throw Error(\"Unknown operator: \"+c);}return[a,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_modulo$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"DIVIDEND\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\"0\";a=b.valueToCode(a,\"DIVISOR\",Order$$module$build$src$generators$javascript$javascript_generator.MODULUS)||\n\"0\";return[c+\" % \"+a,Order$$module$build$src$generators$javascript$javascript_generator.MODULUS]},math_constrain$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\",d=b.valueToCode(a,\"LOW\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";a=b.valueToCode(a,\"HIGH\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"Infinity\";return[\"Math.min(Math.max(\"+\nc+\", \"+d+\"), \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_random_int$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";a=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[b.provideFunction_(\"mathRandomInt\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n`)+\"(\"+c+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_random_float$$module$build$src$generators$javascript$math=function(a,b){return[\"Math.random()\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},math_atan2$$module$build$src$generators$javascript$math=function(a,b){const c=b.valueToCode(a,\"X\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\";return[\"Math.atan2(\"+(b.valueToCode(a,\"Y\",\nOrder$$module$build$src$generators$javascript$javascript_generator.NONE)||\"0\")+\", \"+c+\") / Math.PI * 180\",Order$$module$build$src$generators$javascript$javascript_generator.DIVISION]},procedures_defreturn$$module$build$src$generators$javascript$procedures=function(a,b){const c=b.getProcedureName(a.getFieldValue(\"NAME\"));var d=\"\";b.STATEMENT_PREFIX&&(d+=b.injectId(b.STATEMENT_PREFIX,a));b.STATEMENT_SUFFIX&&(d+=b.injectId(b.STATEMENT_SUFFIX,a));d&&(d=b.prefixLines(d,b.INDENT));let e=\"\";b.INFINITE_LOOP_TRAP&&\n(e=b.prefixLines(b.injectId(b.INFINITE_LOOP_TRAP,a),b.INDENT));let f=\"\";a.getInput(\"STACK\")&&(f=b.statementToCode(a,\"STACK\"));let g=\"\";a.getInput(\"RETURN\")&&(g=b.valueToCode(a,\"RETURN\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"\");let h=\"\";f&&g&&(h=d);g&&(g=b.INDENT+\"return \"+g+\";\\n\");const k=[],l=a.getVars();for(let m=0;m<l.length;m++)k[m]=b.getVariableName(l[m]);d=\"function \"+c+\"(\"+k.join(\", \")+\") {\\n\"+d+e+f+h+g+\"}\";d=b.scrub_(a,d);b.definitions_[\"%\"+c]=d;return null},\nprocedures_callreturn$$module$build$src$generators$javascript$procedures=function(a,b){const c=b.getProcedureName(a.getFieldValue(\"NAME\")),d=[],e=a.getVars();for(let f=0;f<e.length;f++)d[f]=b.valueToCode(a,\"ARG\"+f,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\";return[c+\"(\"+d.join(\", \")+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},procedures_callnoreturn$$module$build$src$generators$javascript$procedures=function(a,b){return b.forBlock.procedures_callreturn(a,\nb)[0]+\";\\n\"},procedures_ifreturn$$module$build$src$generators$javascript$procedures=function(a,b){let c=\"if (\"+(b.valueToCode(a,\"CONDITION\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"false\")+\") {\\n\";b.STATEMENT_SUFFIX&&(c+=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,a),b.INDENT));a.hasReturnValue_?(a=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"null\",c+=b.INDENT+\"return \"+a+\";\\n\"):c+=b.INDENT+\"return;\\n\";return c+\n\"}\\n\"},text$$module$build$src$generators$javascript$text=function(a,b){return[b.quote_(a.getFieldValue(\"TEXT\")),Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},text_join$$module$build$src$generators$javascript$text=function(a,b){switch(a.itemCount_){case 0:return[\"''\",Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];case 1:return a=b.valueToCode(a,\"ADD0\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\",forceString$$module$build$src$generators$javascript$text(a);\ncase 2:var c=b.valueToCode(a,\"ADD0\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"ADD1\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[forceString$$module$build$src$generators$javascript$text(c)[0]+\" + \"+forceString$$module$build$src$generators$javascript$text(a)[0],Order$$module$build$src$generators$javascript$javascript_generator.ADDITION];default:c=Array(a.itemCount_);for(let d=0;d<a.itemCount_;d++)c[d]=\nb.valueToCode(a,\"ADD\"+d,Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[\"[\"+c.join(\",\")+\"].join('')\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]}},text_append$$module$build$src$generators$javascript$text=function(a,b){const c=b.getVariableName(a.getFieldValue(\"VAR\"));a=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return c+\" += \"+forceString$$module$build$src$generators$javascript$text(a)[0]+\n\";\\n\"},text_length$$module$build$src$generators$javascript$text=function(a,b){return[(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER]},text_isEmpty$$module$build$src$generators$javascript$text=function(a,b){return[\"!\"+(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".length\",Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT]},\ntext_indexOf$$module$build$src$generators$javascript$text=function(a,b){const c=a.getFieldValue(\"END\")===\"FIRST\"?\"indexOf\":\"lastIndexOf\",d=b.valueToCode(a,\"FIND\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";b=(b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".\"+c+\"(\"+d+\")\";return a.workspace.options.oneBasedIndex?[b+\" + 1\",Order$$module$build$src$generators$javascript$javascript_generator.ADDITION]:[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},\ntext_charAt$$module$build$src$generators$javascript$text=function(a,b){const c=a.getFieldValue(\"WHERE\")||\"FROM_START\",d=b.valueToCode(a,\"VALUE\",c===\"RANDOM\"?Order$$module$build$src$generators$javascript$javascript_generator.NONE:Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\";switch(c){case \"FIRST\":return[d+\".charAt(0)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"LAST\":return[d+\".slice(-1)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];\ncase \"FROM_START\":return a=b.getAdjusted(a,\"AT\"),[d+\".charAt(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"FROM_END\":return a=b.getAdjusted(a,\"AT\",1,!0),[d+\".slice(\"+a+\").charAt(0)\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];case \"RANDOM\":return[b.provideFunction_(\"textRandomLetter\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n`)+\"(\"+d+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]}throw Error(\"Unhandled option (text_charAt).\");},text_getSubstring$$module$build$src$generators$javascript$text=function(a,b){var c={FIRST:\"First\",LAST:\"Last\",FROM_START:\"FromStart\",FROM_END:\"FromEnd\"};const d=a.getFieldValue(\"WHERE1\"),e=a.getFieldValue(\"WHERE2\");var f=d!==\"FROM_END\"&&d!==\"LAST\"&&e!==\"FROM_END\"&&e!==\"LAST\",g=b.valueToCode(a,\"STRING\",f?Order$$module$build$src$generators$javascript$javascript_generator.MEMBER:\nOrder$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";if(d===\"FIRST\"&&e===\"LAST\")return[g,Order$$module$build$src$generators$javascript$javascript_generator.NONE];if(g.match(/^'?\\w+'?$/)||f){switch(d){case \"FROM_START\":c=b.getAdjusted(a,\"AT1\");break;case \"FROM_END\":c=b.getAdjusted(a,\"AT1\",1,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);c=g+\".length - \"+c;break;case \"FIRST\":c=\"0\";break;default:throw Error(\"Unhandled option (text_getSubstring).\");\n}switch(e){case \"FROM_START\":b=b.getAdjusted(a,\"AT2\",1);break;case \"FROM_END\":b=b.getAdjusted(a,\"AT2\",0,!1,Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);b=g+\".length - \"+b;break;case \"LAST\":b=g+\".length\";break;default:throw Error(\"Unhandled option (text_getSubstring).\");}g=g+\".slice(\"+c+\", \"+b+\")\"}else f=b.getAdjusted(a,\"AT1\"),a=b.getAdjusted(a,\"AT2\"),g=b.provideFunction_(\"subsequence\"+c[d]+c[e],`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${d===\"FROM_END\"||d===\"FROM_START\"?\", at1\":\"\"}${e===\"FROM_END\"||e===\"FROM_START\"?\", at2\":\"\"}) {\n  var start = ${getSubstringIndex$$module$build$src$generators$javascript$text(\"sequence\",d,\"at1\")};\n  var end = ${getSubstringIndex$$module$build$src$generators$javascript$text(\"sequence\",e,\"at2\")} + 1;\n  return sequence.slice(start, end);\n}\n`)+\"(\"+g+(d===\"FROM_END\"||d===\"FROM_START\"?\", \"+f:\"\")+(e===\"FROM_END\"||e===\"FROM_START\"?\", \"+a:\"\")+\")\";return[g,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_changeCase$$module$build$src$generators$javascript$text=function(a,b){const c={UPPERCASE:\".toUpperCase()\",LOWERCASE:\".toLowerCase()\",TITLECASE:null}[a.getFieldValue(\"CASE\")];a=b.valueToCode(a,\"TEXT\",c?Order$$module$build$src$generators$javascript$javascript_generator.MEMBER:Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\n\"''\";return[c?a+c:b.provideFunction_(\"textToTitleCase\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(str) {\n  return str.replace(/\\\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n`)+\"(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_trim$$module$build$src$generators$javascript$text=function(a,b){const c={LEFT:\".replace(/^[\\\\s\\\\xa0]+/, '')\",RIGHT:\".replace(/[\\\\s\\\\xa0]+$/, '')\",BOTH:\".trim()\"}[a.getFieldValue(\"MODE\")];return[(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+c,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_print$$module$build$src$generators$javascript$text=\nfunction(a,b){return\"window.alert(\"+(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\")+\");\\n\"},text_prompt_ext$$module$build$src$generators$javascript$text=function(a,b){b=\"window.prompt(\"+(a.getField(\"TEXT\")?b.quote_(a.getFieldValue(\"TEXT\")):b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\")+\")\";a.getFieldValue(\"TYPE\")===\"NUMBER\"&&(b=\"Number(\"+b+\")\");return[b,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},\ntext_count$$module$build$src$generators$javascript$text=function(a,b){const c=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"SUB\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[b.provideFunction_(\"textCount\",`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n`)+\"(\"+c+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_replace$$module$build$src$generators$javascript$text=function(a,b){const c=b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\",d=b.valueToCode(a,\"FROM\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";a=b.valueToCode(a,\"TO\",Order$$module$build$src$generators$javascript$javascript_generator.NONE)||\"''\";return[b.provideFunction_(\"textReplace\",\n`\nfunction ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\\\[\\\\]{}+?*.$\\\\^|,:#<!\\\\\\\\])/g, '\\\\\\\\$1')\n                 .replace(/\\\\x08/g, '\\\\\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n`)+\"(\"+c+\", \"+d+\", \"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},text_reverse$$module$build$src$generators$javascript$text=function(a,b){return[(b.valueToCode(a,\"TEXT\",Order$$module$build$src$generators$javascript$javascript_generator.MEMBER)||\"''\")+\".split('').reverse().join('')\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},variables_get$$module$build$src$generators$javascript$variables=function(a,b){return[b.getVariableName(a.getFieldValue(\"VAR\")),\nOrder$$module$build$src$generators$javascript$javascript_generator.ATOMIC]},variables_set$$module$build$src$generators$javascript$variables=function(a,b){const c=b.valueToCode(a,\"VALUE\",Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT)||\"0\";return b.getVariableName(a.getFieldValue(\"VAR\"))+\" = \"+c+\";\\n\"},Order$$module$build$src$generators$javascript$javascript_generator;\n(function(a){a[a.ATOMIC=0]=\"ATOMIC\";a[a.NEW=1.1]=\"NEW\";a[a.MEMBER=1.2]=\"MEMBER\";a[a.FUNCTION_CALL=2]=\"FUNCTION_CALL\";a[a.INCREMENT=3]=\"INCREMENT\";a[a.DECREMENT=3]=\"DECREMENT\";a[a.BITWISE_NOT=4.1]=\"BITWISE_NOT\";a[a.UNARY_PLUS=4.2]=\"UNARY_PLUS\";a[a.UNARY_NEGATION=4.3]=\"UNARY_NEGATION\";a[a.LOGICAL_NOT=4.4]=\"LOGICAL_NOT\";a[a.TYPEOF=4.5]=\"TYPEOF\";a[a.VOID=4.6]=\"VOID\";a[a.DELETE=4.7]=\"DELETE\";a[a.AWAIT=4.8]=\"AWAIT\";a[a.EXPONENTIATION=5]=\"EXPONENTIATION\";a[a.MULTIPLICATION=5.1]=\"MULTIPLICATION\";a[a.DIVISION=\n5.2]=\"DIVISION\";a[a.MODULUS=5.3]=\"MODULUS\";a[a.SUBTRACTION=6.1]=\"SUBTRACTION\";a[a.ADDITION=6.2]=\"ADDITION\";a[a.BITWISE_SHIFT=7]=\"BITWISE_SHIFT\";a[a.RELATIONAL=8]=\"RELATIONAL\";a[a.IN=8]=\"IN\";a[a.INSTANCEOF=8]=\"INSTANCEOF\";a[a.EQUALITY=9]=\"EQUALITY\";a[a.BITWISE_AND=10]=\"BITWISE_AND\";a[a.BITWISE_XOR=11]=\"BITWISE_XOR\";a[a.BITWISE_OR=12]=\"BITWISE_OR\";a[a.LOGICAL_AND=13]=\"LOGICAL_AND\";a[a.LOGICAL_OR=14]=\"LOGICAL_OR\";a[a.CONDITIONAL=15]=\"CONDITIONAL\";a[a.ASSIGNMENT=16]=\"ASSIGNMENT\";a[a.YIELD=17]=\"YIELD\";\na[a.COMMA=18]=\"COMMA\";a[a.NONE=99]=\"NONE\"})(Order$$module$build$src$generators$javascript$javascript_generator||(Order$$module$build$src$generators$javascript$javascript_generator={}));\nvar JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator=class extends $.CodeGenerator$$module$build$src$core$generator{constructor(a=\"JavaScript\"){super(a);this.ORDER_OVERRIDES=[[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL,Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL],\n[Order$$module$build$src$generators$javascript$javascript_generator.MEMBER,Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],[Order$$module$build$src$generators$javascript$javascript_generator.MEMBER,Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT],[Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION,\nOrder$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],[Order$$module$build$src$generators$javascript$javascript_generator.ADDITION,Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND],[Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR,Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR]];\nthis.isInitialized=!1;for(const b in Order$$module$build$src$generators$javascript$javascript_generator)a=Order$$module$build$src$generators$javascript$javascript_generator[b],typeof a!==\"string\"&&(this[\"ORDER_\"+b]=a);this.addReservedWords(\"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,\"+\nObject.getOwnPropertyNames(globalThis).join(\",\"))}init(a){super.init(a);this.nameDB_?this.nameDB_.reset():this.nameDB_=new $.Names$$module$build$src$core$names(this.RESERVED_WORDS_);this.nameDB_.setVariableMap(a.getVariableMap());this.nameDB_.populateVariables(a);this.nameDB_.populateProcedures(a);const b=[];var c=$.allDeveloperVariables$$module$build$src$core$variables(a);for(let d=0;d<c.length;d++)b.push(this.nameDB_.getName(c[d],$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));a=$.allUsedVarModels$$module$build$src$core$variables(a);\nfor(c=0;c<a.length;c++)b.push(this.nameDB_.getName(a[c].getId(),$.NameType$$module$build$src$core$names.VARIABLE));b.length&&(this.definitions_.variables=\"var \"+b.join(\", \")+\";\");this.isInitialized=!0}finish(a){const b=Object.values(this.definitions_);super.finish(a);this.isInitialized=!1;this.nameDB_.reset();return b.join(\"\\n\\n\")+\"\\n\\n\\n\"+a}scrubNakedValue(a){return a+\";\\n\"}quote_(a){a=a.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\n/g,\"\\\\\\n\").replace(/'/g,\"\\\\'\");return\"'\"+a+\"'\"}multiline_quote_(a){return a.split(/\\n/g).map(this.quote_).join(\" + '\\\\n' +\\n\")}scrub_(a,\nb,c=!1){let d=\"\";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(e=$.wrap$$module$build$src$core$utils$string(e,this.COMMENT_WRAP-3),d+=this.prefixLines(e+\"\\n\",\"// \"));for(let f=0;f<a.inputList.length;f++)a.inputList[f].type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=this.allNestedComments(e))&&(d+=this.prefixLines(e,\"// \"))}a=a.nextConnection&&a.nextConnection.targetBlock();c=c?\"\":this.blockToCode(a);\nreturn d+b+c}getAdjusted(a,b,c=0,d=!1,e=Order$$module$build$src$generators$javascript$javascript_generator.NONE){a.workspace.options.oneBasedIndex&&c--;const f=a.workspace.options.oneBasedIndex?\"1\":\"0\";let g=e;c>0?g=Order$$module$build$src$generators$javascript$javascript_generator.ADDITION:c<0?g=Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION:d&&(g=Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION);a=this.valueToCode(a,b,g)||f;if(c===\n0&&!d)return a;if($.isNumber$$module$build$src$core$utils$string(a))return a=String(Number(a)+c),d&&(a=String(-Number(a))),a;c>0?a=`${a} + ${c}`:c<0&&(a=`${a} - ${-c}`);d&&(a=c?`-(${a})`:`-${a}`);Math.floor(e)>=Math.floor(g)&&(a=`(${a})`);return a}},module$build$src$generators$javascript$javascript_generator={};module$build$src$generators$javascript$javascript_generator.JavascriptGenerator=JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;\nmodule$build$src$generators$javascript$javascript_generator.Order=Order$$module$build$src$generators$javascript$javascript_generator;var getSubstringIndex$$module$build$src$generators$javascript$lists=function(a,b,c){return b===\"FIRST\"?\"0\":b===\"FROM_END\"?a+\".length - 1 - \"+c:b===\"LAST\"?a+\".length - 1\":c},module$build$src$generators$javascript$lists={};module$build$src$generators$javascript$lists.lists_create_empty=lists_create_empty$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_create_with=lists_create_with$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_getIndex=lists_getIndex$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_getSublist=lists_getSublist$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_indexOf=lists_indexOf$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_isEmpty=lists_isEmpty$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_length=lists_length$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_repeat=lists_repeat$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_reverse=lists_reverse$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_setIndex=lists_setIndex$$module$build$src$generators$javascript$lists;\nmodule$build$src$generators$javascript$lists.lists_sort=lists_sort$$module$build$src$generators$javascript$lists;module$build$src$generators$javascript$lists.lists_split=lists_split$$module$build$src$generators$javascript$lists;var controls_ifelse$$module$build$src$generators$javascript$logic=controls_if$$module$build$src$generators$javascript$logic,module$build$src$generators$javascript$logic={};module$build$src$generators$javascript$logic.controls_if=controls_if$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.controls_ifelse=controls_if$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_boolean=logic_boolean$$module$build$src$generators$javascript$logic;\nmodule$build$src$generators$javascript$logic.logic_compare=logic_compare$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_negate=logic_negate$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_null=logic_null$$module$build$src$generators$javascript$logic;module$build$src$generators$javascript$logic.logic_operation=logic_operation$$module$build$src$generators$javascript$logic;\nmodule$build$src$generators$javascript$logic.logic_ternary=logic_ternary$$module$build$src$generators$javascript$logic;var controls_repeat$$module$build$src$generators$javascript$loops=controls_repeat_ext$$module$build$src$generators$javascript$loops,module$build$src$generators$javascript$loops={};module$build$src$generators$javascript$loops.controls_flow_statements=controls_flow_statements$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_for=controls_for$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_forEach=controls_forEach$$module$build$src$generators$javascript$loops;\nmodule$build$src$generators$javascript$loops.controls_repeat=controls_repeat_ext$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_repeat_ext=controls_repeat_ext$$module$build$src$generators$javascript$loops;module$build$src$generators$javascript$loops.controls_whileUntil=controls_whileUntil$$module$build$src$generators$javascript$loops;var math_round$$module$build$src$generators$javascript$math=math_single$$module$build$src$generators$javascript$math,math_trig$$module$build$src$generators$javascript$math=math_single$$module$build$src$generators$javascript$math,module$build$src$generators$javascript$math={};module$build$src$generators$javascript$math.math_arithmetic=math_arithmetic$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_atan2=math_atan2$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_change=math_change$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_constant=math_constant$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_constrain=math_constrain$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_modulo=math_modulo$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_number=math_number$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_number_property=math_number_property$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_on_list=math_on_list$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_random_float=math_random_float$$module$build$src$generators$javascript$math;\nmodule$build$src$generators$javascript$math.math_random_int=math_random_int$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_round=math_single$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_single=math_single$$module$build$src$generators$javascript$math;module$build$src$generators$javascript$math.math_trig=math_single$$module$build$src$generators$javascript$math;var procedures_defnoreturn$$module$build$src$generators$javascript$procedures=procedures_defreturn$$module$build$src$generators$javascript$procedures,module$build$src$generators$javascript$procedures={};module$build$src$generators$javascript$procedures.procedures_callnoreturn=procedures_callnoreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_callreturn=procedures_callreturn$$module$build$src$generators$javascript$procedures;\nmodule$build$src$generators$javascript$procedures.procedures_defnoreturn=procedures_defreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_defreturn=procedures_defreturn$$module$build$src$generators$javascript$procedures;module$build$src$generators$javascript$procedures.procedures_ifreturn=procedures_ifreturn$$module$build$src$generators$javascript$procedures;var strRegExp$$module$build$src$generators$javascript$text=/^\\s*'([^']|\\\\')*'\\s*$/,forceString$$module$build$src$generators$javascript$text=function(a){return strRegExp$$module$build$src$generators$javascript$text.test(a)?[a,Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]:[\"String(\"+a+\")\",Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]},getSubstringIndex$$module$build$src$generators$javascript$text=function(a,b,c){return b===\"FIRST\"?\"0\":\nb===\"FROM_END\"?a+\".length - 1 - \"+c:b===\"LAST\"?a+\".length - 1\":c},text_prompt$$module$build$src$generators$javascript$text=text_prompt_ext$$module$build$src$generators$javascript$text,module$build$src$generators$javascript$text={};module$build$src$generators$javascript$text.text=text$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_append=text_append$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_changeCase=text_changeCase$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_charAt=text_charAt$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_count=text_count$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_getSubstring=text_getSubstring$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_indexOf=text_indexOf$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_isEmpty=text_isEmpty$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_join=text_join$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_length=text_length$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_print=text_print$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_prompt=text_prompt_ext$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_prompt_ext=text_prompt_ext$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_replace=text_replace$$module$build$src$generators$javascript$text;\nmodule$build$src$generators$javascript$text.text_reverse=text_reverse$$module$build$src$generators$javascript$text;module$build$src$generators$javascript$text.text_trim=text_trim$$module$build$src$generators$javascript$text;var module$build$src$generators$javascript$variables={};module$build$src$generators$javascript$variables.variables_get=variables_get$$module$build$src$generators$javascript$variables;module$build$src$generators$javascript$variables.variables_set=variables_set$$module$build$src$generators$javascript$variables;var module$build$src$generators$javascript$variables_dynamic={};module$build$src$generators$javascript$variables_dynamic.variables_get_dynamic=variables_get$$module$build$src$generators$javascript$variables;module$build$src$generators$javascript$variables_dynamic.variables_set_dynamic=variables_set$$module$build$src$generators$javascript$variables;var javascriptGenerator$$module$build$src$generators$javascript=new JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator,generators$$module$build$src$generators$javascript=Object.assign({},module$build$src$generators$javascript$lists,module$build$src$generators$javascript$logic,module$build$src$generators$javascript$loops,module$build$src$generators$javascript$math,module$build$src$generators$javascript$procedures,module$build$src$generators$javascript$text,module$build$src$generators$javascript$variables,\nmodule$build$src$generators$javascript$variables_dynamic);for(const a in generators$$module$build$src$generators$javascript)javascriptGenerator$$module$build$src$generators$javascript.forBlock[a]=generators$$module$build$src$generators$javascript[a];var module$build$src$generators$javascript={};module$build$src$generators$javascript.JavascriptGenerator=JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;module$build$src$generators$javascript.Order=Order$$module$build$src$generators$javascript$javascript_generator;\nmodule$build$src$generators$javascript.javascriptGenerator=javascriptGenerator$$module$build$src$generators$javascript;\nmodule$build$src$generators$javascript.__namespace__=$;\nreturn module$build$src$generators$javascript;\n}));\n\n\n//# sourceMappingURL=javascript_compressed.js.map\n","/* eslint-disable */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) { // AMD\n    define([], factory);\n  } else if (typeof exports === 'object') { // Node.js\n    module.exports = factory();\n  } else { // Browser\n    var messages = factory();\n    for (var key in messages) {\n      root.Blockly.Msg[key] = messages[key];\n    }\n  }\n}(this, function() {\n// This file was automatically generated.  Do not modify.\n\n'use strict';\n\nvar Blockly = Blockly || { Msg: Object.create(null) };\n\nBlockly.Msg[\"ADD_COMMENT\"] = \"Add Comment\";\nBlockly.Msg[\"ALT_KEY\"] = \"Alt\";\nBlockly.Msg[\"CANNOT_DELETE_VARIABLE_PROCEDURE\"] = \"Can't delete the variable '%1' because it's part of the definition of the function '%2'\";\nBlockly.Msg[\"CHANGE_VALUE_TITLE\"] = \"Change value:\";\nBlockly.Msg[\"CHROME_OS\"] = \"ChromeOS\";\nBlockly.Msg[\"CLEAN_UP\"] = \"Clean up Blocks\";\nBlockly.Msg[\"CLOSE\"] = \"Close\";\nBlockly.Msg[\"COLLAPSED_WARNINGS_WARNING\"] = \"Collapsed blocks contain warnings.\";\nBlockly.Msg[\"COLLAPSE_ALL\"] = \"Collapse Blocks\";\nBlockly.Msg[\"COLLAPSE_BLOCK\"] = \"Collapse Block\";\nBlockly.Msg[\"COLOUR_BLEND_COLOUR1\"] = \"colour 1\";\nBlockly.Msg[\"COLOUR_BLEND_COLOUR2\"] = \"colour 2\";\nBlockly.Msg[\"COLOUR_BLEND_HELPURL\"] = \"https://meyerweb.com/eric/tools/color-blend/#:::rgbp\";\nBlockly.Msg[\"COLOUR_BLEND_RATIO\"] = \"ratio\";\nBlockly.Msg[\"COLOUR_BLEND_TITLE\"] = \"blend\";\nBlockly.Msg[\"COLOUR_BLEND_TOOLTIP\"] = \"Blends two colours together with a given ratio (0.0 - 1.0).\";\nBlockly.Msg[\"COLOUR_PICKER_HELPURL\"] = \"https://en.wikipedia.org/wiki/Color\";\nBlockly.Msg[\"COLOUR_PICKER_TOOLTIP\"] = \"Choose a colour from the palette.\";\nBlockly.Msg[\"COLOUR_RANDOM_HELPURL\"] = \"http://randomcolour.com\";\nBlockly.Msg[\"COLOUR_RANDOM_TITLE\"] = \"random colour\";\nBlockly.Msg[\"COLOUR_RANDOM_TOOLTIP\"] = \"Choose a colour at random.\";\nBlockly.Msg[\"COLOUR_RGB_BLUE\"] = \"blue\";\nBlockly.Msg[\"COLOUR_RGB_GREEN\"] = \"green\";\nBlockly.Msg[\"COLOUR_RGB_HELPURL\"] = \"https://www.december.com/html/spec/colorpercompact.html\";\nBlockly.Msg[\"COLOUR_RGB_RED\"] = \"red\";\nBlockly.Msg[\"COLOUR_RGB_TITLE\"] = \"colour with\";\nBlockly.Msg[\"COLOUR_RGB_TOOLTIP\"] = \"Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.\";\nBlockly.Msg[\"COMMAND_KEY\"] = \" Command\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#loop-termination-blocks\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK\"] = \"break out of loop\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE\"] = \"continue with next iteration of loop\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK\"] = \"Break out of the containing loop.\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE\"] = \"Skip the rest of this loop, and continue with the next iteration.\";\nBlockly.Msg[\"CONTROLS_FLOW_STATEMENTS_WARNING\"] = \"Warning: This block may only be used within a loop.\";\nBlockly.Msg[\"CONTROLS_FOREACH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#for-each\";\nBlockly.Msg[\"CONTROLS_FOREACH_TITLE\"] = \"for each item %1 in list %2\";\nBlockly.Msg[\"CONTROLS_FOREACH_TOOLTIP\"] = \"For each item in a list, set the variable '%1' to the item, and then do some statements.\";\nBlockly.Msg[\"CONTROLS_FOR_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#count-with\";\nBlockly.Msg[\"CONTROLS_FOR_TITLE\"] = \"count with %1 from %2 to %3 by %4\";\nBlockly.Msg[\"CONTROLS_FOR_TOOLTIP\"] = \"Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.\";\nBlockly.Msg[\"CONTROLS_IF_ELSEIF_TOOLTIP\"] = \"Add a condition to the if block.\";\nBlockly.Msg[\"CONTROLS_IF_ELSE_TOOLTIP\"] = \"Add a final, catch-all condition to the if block.\";\nBlockly.Msg[\"CONTROLS_IF_HELPURL\"] = \"https://github.com/google/blockly/wiki/IfElse\";\nBlockly.Msg[\"CONTROLS_IF_IF_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this if block.\";\nBlockly.Msg[\"CONTROLS_IF_MSG_ELSE\"] = \"else\";\nBlockly.Msg[\"CONTROLS_IF_MSG_ELSEIF\"] = \"else if\";\nBlockly.Msg[\"CONTROLS_IF_MSG_IF\"] = \"if\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_1\"] = \"If a value is true, then do some statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_2\"] = \"If a value is true, then do the first block of statements. Otherwise, do the second block of statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_3\"] = \"If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.\";\nBlockly.Msg[\"CONTROLS_IF_TOOLTIP_4\"] = \"If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.\";\nBlockly.Msg[\"CONTROLS_REPEAT_HELPURL\"] = \"https://en.wikipedia.org/wiki/For_loop\";\nBlockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"] = \"do\";\nBlockly.Msg[\"CONTROLS_REPEAT_TITLE\"] = \"repeat %1 times\";\nBlockly.Msg[\"CONTROLS_REPEAT_TOOLTIP\"] = \"Do some statements several times.\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_HELPURL\"] = \"https://github.com/google/blockly/wiki/Loops#repeat\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_OPERATOR_UNTIL\"] = \"repeat until\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_OPERATOR_WHILE\"] = \"repeat while\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL\"] = \"While a value is false, then do some statements.\";\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_TOOLTIP_WHILE\"] = \"While a value is true, then do some statements.\";\nBlockly.Msg[\"CONTROL_KEY\"] = \"Ctrl\";\nBlockly.Msg[\"COPY_SHORTCUT\"] = \"Copy\";\nBlockly.Msg[\"CUT_SHORTCUT\"] = \"Cut\";\nBlockly.Msg[\"DELETE_ALL_BLOCKS\"] = \"Delete all %1 blocks?\";\nBlockly.Msg[\"DELETE_BLOCK\"] = \"Delete Block\";\nBlockly.Msg[\"DELETE_VARIABLE\"] = \"Delete the '%1' variable\";\nBlockly.Msg[\"DELETE_VARIABLE_CONFIRMATION\"] = \"Delete %1 uses of the '%2' variable?\";\nBlockly.Msg[\"DELETE_X_BLOCKS\"] = \"Delete %1 Blocks\";\nBlockly.Msg[\"DIALOG_CANCEL\"] = \"Cancel\";\nBlockly.Msg[\"DIALOG_OK\"] = \"OK\";\nBlockly.Msg[\"DISABLE_BLOCK\"] = \"Disable Block\";\nBlockly.Msg[\"DUPLICATE_BLOCK\"] = \"Duplicate\";\nBlockly.Msg[\"DUPLICATE_COMMENT\"] = \"Duplicate Comment\";\nBlockly.Msg[\"EDIT_BLOCK_CONTENTS\"] = \"Edit Block contents\";\nBlockly.Msg[\"ENABLE_BLOCK\"] = \"Enable Block\";\nBlockly.Msg[\"EXPAND_ALL\"] = \"Expand Blocks\";\nBlockly.Msg[\"EXPAND_BLOCK\"] = \"Expand Block\";\nBlockly.Msg[\"EXTERNAL_INPUTS\"] = \"External Inputs\";\nBlockly.Msg[\"HELP\"] = \"Help\";\nBlockly.Msg[\"HELP_PROMPT\"] = \"Press %1 for help on keyboard controls\";\nBlockly.Msg[\"INLINE_INPUTS\"] = \"Inline Inputs\";\nBlockly.Msg[\"KEYBOARD_NAV_CONSTRAINED_MOVE_HINT\"] = \"Use the arrow keys to move, then %1 to accept the position\";\nBlockly.Msg[\"KEYBOARD_NAV_COPIED_HINT\"] = \"Copied. Press %1 to paste.\";\nBlockly.Msg[\"KEYBOARD_NAV_CUT_HINT\"] = \"Cut. Press %1 to paste.\";\nBlockly.Msg[\"KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT\"] = \"Hold %1 and use arrow keys to move freely, then %2 to accept the position\";\nBlockly.Msg[\"LINUX\"] = \"Linux\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-empty-list\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_TITLE\"] = \"create empty list\";\nBlockly.Msg[\"LISTS_CREATE_EMPTY_TOOLTIP\"] = \"Returns a list, of length 0, containing no data records\";\nBlockly.Msg[\"LISTS_CREATE_WITH_CONTAINER_TITLE_ADD\"] = \"list\";\nBlockly.Msg[\"LISTS_CREATE_WITH_CONTAINER_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this list block.\";\nBlockly.Msg[\"LISTS_CREATE_WITH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-list-with\";\nBlockly.Msg[\"LISTS_CREATE_WITH_INPUT_WITH\"] = \"create list with\";\nBlockly.Msg[\"LISTS_CREATE_WITH_ITEM_TOOLTIP\"] = \"Add an item to the list.\";\nBlockly.Msg[\"LISTS_CREATE_WITH_TOOLTIP\"] = \"Create a list with any number of items.\";\nBlockly.Msg[\"LISTS_GET_INDEX_FIRST\"] = \"first\";\nBlockly.Msg[\"LISTS_GET_INDEX_FROM_END\"] = \"# from end\";\nBlockly.Msg[\"LISTS_GET_INDEX_FROM_START\"] = \"#\";\nBlockly.Msg[\"LISTS_GET_INDEX_GET\"] = \"get\";\nBlockly.Msg[\"LISTS_GET_INDEX_GET_REMOVE\"] = \"get and remove\";\nBlockly.Msg[\"LISTS_GET_INDEX_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list\";\nBlockly.Msg[\"LISTS_GET_INDEX_LAST\"] = \"last\";\nBlockly.Msg[\"LISTS_GET_INDEX_RANDOM\"] = \"random\";\nBlockly.Msg[\"LISTS_GET_INDEX_REMOVE\"] = \"remove\";\nBlockly.Msg[\"LISTS_GET_INDEX_TAIL\"] = \"\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_FIRST\"] = \"Returns the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_FROM\"] = \"Returns the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_LAST\"] = \"Returns the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_RANDOM\"] = \"Returns a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST\"] = \"Removes and returns the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM\"] = \"Removes and returns the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST\"] = \"Removes and returns the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM\"] = \"Removes and returns a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST\"] = \"Removes the first item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM\"] = \"Removes the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST\"] = \"Removes the last item in a list.\";\nBlockly.Msg[\"LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM\"] = \"Removes a random item in a list.\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_FROM_END\"] = \"to # from end\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_FROM_START\"] = \"to #\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_END_LAST\"] = \"to last\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#getting-a-sublist\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FIRST\"] = \"get sub-list from first\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FROM_END\"] = \"get sub-list from # from end\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_START_FROM_START\"] = \"get sub-list from #\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_TAIL\"] = \"\";\nBlockly.Msg[\"LISTS_GET_SUBLIST_TOOLTIP\"] = \"Creates a copy of the specified portion of a list.\";\nBlockly.Msg[\"LISTS_INDEX_FROM_END_TOOLTIP\"] = \"%1 is the last item.\";\nBlockly.Msg[\"LISTS_INDEX_FROM_START_TOOLTIP\"] = \"%1 is the first item.\";\nBlockly.Msg[\"LISTS_INDEX_OF_FIRST\"] = \"find first occurrence of item\";\nBlockly.Msg[\"LISTS_INDEX_OF_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list\";\nBlockly.Msg[\"LISTS_INDEX_OF_LAST\"] = \"find last occurrence of item\";\nBlockly.Msg[\"LISTS_INDEX_OF_TOOLTIP\"] = \"Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.\";\nBlockly.Msg[\"LISTS_INLIST\"] = \"in list\";\nBlockly.Msg[\"LISTS_ISEMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#is-empty\";\nBlockly.Msg[\"LISTS_ISEMPTY_TITLE\"] = \"%1 is empty\";\nBlockly.Msg[\"LISTS_ISEMPTY_TOOLTIP\"] = \"Returns true if the list is empty.\";\nBlockly.Msg[\"LISTS_LENGTH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#length-of\";\nBlockly.Msg[\"LISTS_LENGTH_TITLE\"] = \"length of %1\";\nBlockly.Msg[\"LISTS_LENGTH_TOOLTIP\"] = \"Returns the length of a list.\";\nBlockly.Msg[\"LISTS_REPEAT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#create-list-with\";\nBlockly.Msg[\"LISTS_REPEAT_TITLE\"] = \"create list with item %1 repeated %2 times\";\nBlockly.Msg[\"LISTS_REPEAT_TOOLTIP\"] = \"Creates a list consisting of the given value repeated the specified number of times.\";\nBlockly.Msg[\"LISTS_REVERSE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#reversing-a-list\";\nBlockly.Msg[\"LISTS_REVERSE_MESSAGE0\"] = \"reverse %1\";\nBlockly.Msg[\"LISTS_REVERSE_TOOLTIP\"] = \"Reverse a copy of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#in-list--set\";\nBlockly.Msg[\"LISTS_SET_INDEX_INPUT_TO\"] = \"as\";\nBlockly.Msg[\"LISTS_SET_INDEX_INSERT\"] = \"insert at\";\nBlockly.Msg[\"LISTS_SET_INDEX_SET\"] = \"set\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST\"] = \"Inserts the item at the start of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_FROM\"] = \"Inserts the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_LAST\"] = \"Append the item to the end of a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM\"] = \"Inserts the item randomly in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_FIRST\"] = \"Sets the first item in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_FROM\"] = \"Sets the item at the specified position in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_LAST\"] = \"Sets the last item in a list.\";\nBlockly.Msg[\"LISTS_SET_INDEX_TOOLTIP_SET_RANDOM\"] = \"Sets a random item in a list.\";\nBlockly.Msg[\"LISTS_SORT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#sorting-a-list\";\nBlockly.Msg[\"LISTS_SORT_ORDER_ASCENDING\"] = \"ascending\";\nBlockly.Msg[\"LISTS_SORT_ORDER_DESCENDING\"] = \"descending\";\nBlockly.Msg[\"LISTS_SORT_TITLE\"] = \"sort %1 %2 %3\";\nBlockly.Msg[\"LISTS_SORT_TOOLTIP\"] = \"Sort a copy of a list.\";\nBlockly.Msg[\"LISTS_SORT_TYPE_IGNORECASE\"] = \"alphabetic, ignore case\";\nBlockly.Msg[\"LISTS_SORT_TYPE_NUMERIC\"] = \"numeric\";\nBlockly.Msg[\"LISTS_SORT_TYPE_TEXT\"] = \"alphabetic\";\nBlockly.Msg[\"LISTS_SPLIT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists\";\nBlockly.Msg[\"LISTS_SPLIT_LIST_FROM_TEXT\"] = \"make list from text\";\nBlockly.Msg[\"LISTS_SPLIT_TEXT_FROM_LIST\"] = \"make text from list\";\nBlockly.Msg[\"LISTS_SPLIT_TOOLTIP_JOIN\"] = \"Join a list of texts into one text, separated by a delimiter.\";\nBlockly.Msg[\"LISTS_SPLIT_TOOLTIP_SPLIT\"] = \"Split text into a list of texts, breaking at each delimiter.\";\nBlockly.Msg[\"LISTS_SPLIT_WITH_DELIMITER\"] = \"with delimiter\";\nBlockly.Msg[\"LOGIC_BOOLEAN_FALSE\"] = \"false\";\nBlockly.Msg[\"LOGIC_BOOLEAN_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#values\";\nBlockly.Msg[\"LOGIC_BOOLEAN_TOOLTIP\"] = \"Returns either true or false.\";\nBlockly.Msg[\"LOGIC_BOOLEAN_TRUE\"] = \"true\";\nBlockly.Msg[\"LOGIC_COMPARE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Inequality_(mathematics)\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_EQ\"] = \"Return true if both inputs equal each other.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_GT\"] = \"Return true if the first input is greater than the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_GTE\"] = \"Return true if the first input is greater than or equal to the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_LT\"] = \"Return true if the first input is smaller than the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_LTE\"] = \"Return true if the first input is smaller than or equal to the second input.\";\nBlockly.Msg[\"LOGIC_COMPARE_TOOLTIP_NEQ\"] = \"Return true if both inputs are not equal to each other.\";\nBlockly.Msg[\"LOGIC_NEGATE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#not\";\nBlockly.Msg[\"LOGIC_NEGATE_TITLE\"] = \"not %1\";\nBlockly.Msg[\"LOGIC_NEGATE_TOOLTIP\"] = \"Returns true if the input is false. Returns false if the input is true.\";\nBlockly.Msg[\"LOGIC_NULL\"] = \"null\";\nBlockly.Msg[\"LOGIC_NULL_HELPURL\"] = \"https://en.wikipedia.org/wiki/Nullable_type\";\nBlockly.Msg[\"LOGIC_NULL_TOOLTIP\"] = \"Returns null.\";\nBlockly.Msg[\"LOGIC_OPERATION_AND\"] = \"and\";\nBlockly.Msg[\"LOGIC_OPERATION_HELPURL\"] = \"https://github.com/google/blockly/wiki/Logic#logical-operations\";\nBlockly.Msg[\"LOGIC_OPERATION_OR\"] = \"or\";\nBlockly.Msg[\"LOGIC_OPERATION_TOOLTIP_AND\"] = \"Return true if both inputs are true.\";\nBlockly.Msg[\"LOGIC_OPERATION_TOOLTIP_OR\"] = \"Return true if at least one of the inputs is true.\";\nBlockly.Msg[\"LOGIC_TERNARY_CONDITION\"] = \"test\";\nBlockly.Msg[\"LOGIC_TERNARY_HELPURL\"] = \"https://en.wikipedia.org/wiki/%3F:\";\nBlockly.Msg[\"LOGIC_TERNARY_IF_FALSE\"] = \"if false\";\nBlockly.Msg[\"LOGIC_TERNARY_IF_TRUE\"] = \"if true\";\nBlockly.Msg[\"LOGIC_TERNARY_TOOLTIP\"] = \"Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.\";\nBlockly.Msg[\"MAC_OS\"] = \"macOS\";\nBlockly.Msg[\"MATH_ADDITION_SYMBOL\"] = \"+\";\nBlockly.Msg[\"MATH_ARITHMETIC_HELPURL\"] = \"https://en.wikipedia.org/wiki/Arithmetic\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_ADD\"] = \"Return the sum of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_DIVIDE\"] = \"Return the quotient of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_MINUS\"] = \"Return the difference of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_MULTIPLY\"] = \"Return the product of the two numbers.\";\nBlockly.Msg[\"MATH_ARITHMETIC_TOOLTIP_POWER\"] = \"Return the first number raised to the power of the second number.\";\nBlockly.Msg[\"MATH_ATAN2_HELPURL\"] = \"https://en.wikipedia.org/wiki/Atan2\";\nBlockly.Msg[\"MATH_ATAN2_TITLE\"] = \"atan2 of X:%1 Y:%2\";\nBlockly.Msg[\"MATH_ATAN2_TOOLTIP\"] = \"Return the arctangent of point (X, Y) in degrees from -180 to 180.\";\nBlockly.Msg[\"MATH_CHANGE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter\";\nBlockly.Msg[\"MATH_CHANGE_TITLE\"] = \"change %1 by %2\";\nBlockly.Msg[\"MATH_CHANGE_TOOLTIP\"] = \"Add a number to variable '%1'.\";\nBlockly.Msg[\"MATH_CONSTANT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Mathematical_constant\";\nBlockly.Msg[\"MATH_CONSTANT_TOOLTIP\"] = \"Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).\";\nBlockly.Msg[\"MATH_CONSTRAIN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Clamping_(graphics)\";\nBlockly.Msg[\"MATH_CONSTRAIN_TITLE\"] = \"constrain %1 low %2 high %3\";\nBlockly.Msg[\"MATH_CONSTRAIN_TOOLTIP\"] = \"Constrain a number to be between the specified limits (inclusive).\";\nBlockly.Msg[\"MATH_DIVISION_SYMBOL\"] = \"\";\nBlockly.Msg[\"MATH_IS_DIVISIBLE_BY\"] = \"is divisible by\";\nBlockly.Msg[\"MATH_IS_EVEN\"] = \"is even\";\nBlockly.Msg[\"MATH_IS_NEGATIVE\"] = \"is negative\";\nBlockly.Msg[\"MATH_IS_ODD\"] = \"is odd\";\nBlockly.Msg[\"MATH_IS_POSITIVE\"] = \"is positive\";\nBlockly.Msg[\"MATH_IS_PRIME\"] = \"is prime\";\nBlockly.Msg[\"MATH_IS_TOOLTIP\"] = \"Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.\";\nBlockly.Msg[\"MATH_IS_WHOLE\"] = \"is whole\";\nBlockly.Msg[\"MATH_MODULO_HELPURL\"] = \"https://en.wikipedia.org/wiki/Modulo_operation\";\nBlockly.Msg[\"MATH_MODULO_TITLE\"] = \"remainder of %1  %2\";\nBlockly.Msg[\"MATH_MODULO_TOOLTIP\"] = \"Return the remainder from dividing the two numbers.\";\nBlockly.Msg[\"MATH_MULTIPLICATION_SYMBOL\"] = \"\";\nBlockly.Msg[\"MATH_NUMBER_HELPURL\"] = \"https://en.wikipedia.org/wiki/Number\";\nBlockly.Msg[\"MATH_NUMBER_TOOLTIP\"] = \"A number.\";\nBlockly.Msg[\"MATH_ONLIST_HELPURL\"] = \"\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_AVERAGE\"] = \"average of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MAX\"] = \"max of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MEDIAN\"] = \"median of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MIN\"] = \"min of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_MODE\"] = \"modes of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_RANDOM\"] = \"random item of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_STD_DEV\"] = \"standard deviation of list\";\nBlockly.Msg[\"MATH_ONLIST_OPERATOR_SUM\"] = \"sum of list\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_AVERAGE\"] = \"Return the average (arithmetic mean) of the numeric values in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MAX\"] = \"Return the largest number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MEDIAN\"] = \"Return the median number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MIN\"] = \"Return the smallest number in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_MODE\"] = \"Return a list of the most common item(s) in the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_RANDOM\"] = \"Return a random element from the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_STD_DEV\"] = \"Return the standard deviation of the list.\";\nBlockly.Msg[\"MATH_ONLIST_TOOLTIP_SUM\"] = \"Return the sum of all the numbers in the list.\";\nBlockly.Msg[\"MATH_POWER_SYMBOL\"] = \"^\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Random_number_generation\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_TITLE_RANDOM\"] = \"random fraction\";\nBlockly.Msg[\"MATH_RANDOM_FLOAT_TOOLTIP\"] = \"Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).\";\nBlockly.Msg[\"MATH_RANDOM_INT_HELPURL\"] = \"https://en.wikipedia.org/wiki/Random_number_generation\";\nBlockly.Msg[\"MATH_RANDOM_INT_TITLE\"] = \"random integer from %1 to %2\";\nBlockly.Msg[\"MATH_RANDOM_INT_TOOLTIP\"] = \"Return a random integer between the two specified limits, inclusive.\";\nBlockly.Msg[\"MATH_ROUND_HELPURL\"] = \"https://en.wikipedia.org/wiki/Rounding\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUND\"] = \"round\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUNDDOWN\"] = \"round down\";\nBlockly.Msg[\"MATH_ROUND_OPERATOR_ROUNDUP\"] = \"round up\";\nBlockly.Msg[\"MATH_ROUND_TOOLTIP\"] = \"Round a number up or down.\";\nBlockly.Msg[\"MATH_SINGLE_HELPURL\"] = \"https://en.wikipedia.org/wiki/Square_root\";\nBlockly.Msg[\"MATH_SINGLE_OP_ABSOLUTE\"] = \"absolute\";\nBlockly.Msg[\"MATH_SINGLE_OP_ROOT\"] = \"square root\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_ABS\"] = \"Return the absolute value of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_EXP\"] = \"Return e to the power of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_LN\"] = \"Return the natural logarithm of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_LOG10\"] = \"Return the base 10 logarithm of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_NEG\"] = \"Return the negation of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_POW10\"] = \"Return 10 to the power of a number.\";\nBlockly.Msg[\"MATH_SINGLE_TOOLTIP_ROOT\"] = \"Return the square root of a number.\";\nBlockly.Msg[\"MATH_SUBTRACTION_SYMBOL\"] = \"-\";\nBlockly.Msg[\"MATH_TRIG_ACOS\"] = \"acos\";\nBlockly.Msg[\"MATH_TRIG_ASIN\"] = \"asin\";\nBlockly.Msg[\"MATH_TRIG_ATAN\"] = \"atan\";\nBlockly.Msg[\"MATH_TRIG_COS\"] = \"cos\";\nBlockly.Msg[\"MATH_TRIG_HELPURL\"] = \"https://en.wikipedia.org/wiki/Trigonometric_functions\";\nBlockly.Msg[\"MATH_TRIG_SIN\"] = \"sin\";\nBlockly.Msg[\"MATH_TRIG_TAN\"] = \"tan\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ACOS\"] = \"Return the arccosine of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ASIN\"] = \"Return the arcsine of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_ATAN\"] = \"Return the arctangent of a number.\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_COS\"] = \"Return the cosine of a degree (not radian).\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_SIN\"] = \"Return the sine of a degree (not radian).\";\nBlockly.Msg[\"MATH_TRIG_TOOLTIP_TAN\"] = \"Return the tangent of a degree (not radian).\";\nBlockly.Msg[\"MOVE_BLOCK\"] = \"Move Block\";\nBlockly.Msg[\"NEW_COLOUR_VARIABLE\"] = \"Create colour variable...\";\nBlockly.Msg[\"NEW_NUMBER_VARIABLE\"] = \"Create number variable...\";\nBlockly.Msg[\"NEW_STRING_VARIABLE\"] = \"Create string variable...\";\nBlockly.Msg[\"NEW_VARIABLE\"] = \"Create variable...\";\nBlockly.Msg[\"NEW_VARIABLE_TITLE\"] = \"New variable name:\";\nBlockly.Msg[\"NEW_VARIABLE_TYPE_TITLE\"] = \"New variable type:\";\nBlockly.Msg[\"OPTION_KEY\"] = \" Option\";\nBlockly.Msg[\"ORDINAL_NUMBER_SUFFIX\"] = \"\";\nBlockly.Msg[\"PASTE_SHORTCUT\"] = \"Paste\";\nBlockly.Msg[\"PROCEDURES_ALLOW_STATEMENTS\"] = \"allow statements\";\nBlockly.Msg[\"PROCEDURES_BEFORE_PARAMS\"] = \"with:\";\nBlockly.Msg[\"PROCEDURES_CALLNORETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_CALLNORETURN_TOOLTIP\"] = \"Run the user-defined function '%1'.\";\nBlockly.Msg[\"PROCEDURES_CALLRETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_CALLRETURN_TOOLTIP\"] = \"Run the user-defined function '%1' and use its output.\";\nBlockly.Msg[\"PROCEDURES_CALL_BEFORE_PARAMS\"] = \"with:\";\nBlockly.Msg[\"PROCEDURES_CALL_DISABLED_DEF_WARNING\"] = \"Can't run the user-defined function '%1' because the definition block is disabled.\";\nBlockly.Msg[\"PROCEDURES_CREATE_DO\"] = \"Create '%1'\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_COMMENT\"] = \"Describe this function...\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_DO\"] = \"\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_PROCEDURE\"] = \"do something\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_TITLE\"] = \"to\";\nBlockly.Msg[\"PROCEDURES_DEFNORETURN_TOOLTIP\"] = \"Creates a function with no output.\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_HELPURL\"] = \"https://en.wikipedia.org/wiki/Subroutine\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_RETURN\"] = \"return\";\nBlockly.Msg[\"PROCEDURES_DEFRETURN_TOOLTIP\"] = \"Creates a function with an output.\";\nBlockly.Msg[\"PROCEDURES_DEF_DUPLICATE_WARNING\"] = \"Warning: This function has duplicate parameters.\";\nBlockly.Msg[\"PROCEDURES_HIGHLIGHT_DEF\"] = \"Highlight function definition\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_HELPURL\"] = \"https://c2.com/cgi/wiki?GuardClause\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_TOOLTIP\"] = \"If a value is true, then return a second value.\";\nBlockly.Msg[\"PROCEDURES_IFRETURN_WARNING\"] = \"Warning: This block may be used only within a function definition.\";\nBlockly.Msg[\"PROCEDURES_MUTATORARG_TITLE\"] = \"input name:\";\nBlockly.Msg[\"PROCEDURES_MUTATORARG_TOOLTIP\"] = \"Add an input to the function.\";\nBlockly.Msg[\"PROCEDURES_MUTATORCONTAINER_TITLE\"] = \"inputs\";\nBlockly.Msg[\"PROCEDURES_MUTATORCONTAINER_TOOLTIP\"] = \"Add, remove, or reorder inputs to this function.\";\nBlockly.Msg[\"REDO\"] = \"Redo\";\nBlockly.Msg[\"REMOVE_COMMENT\"] = \"Remove Comment\";\nBlockly.Msg[\"RENAME_VARIABLE\"] = \"Rename variable...\";\nBlockly.Msg[\"RENAME_VARIABLE_TITLE\"] = \"Rename all '%1' variables to:\";\nBlockly.Msg[\"SHORTCUTS_CODE_NAVIGATION\"] = \"Code navigation\";\nBlockly.Msg[\"SHORTCUTS_EDITING\"] = \"Editing\";\nBlockly.Msg[\"SHORTCUTS_GENERAL\"] = \"General\";\nBlockly.Msg[\"TEXT_APPEND_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-modification\";\nBlockly.Msg[\"TEXT_APPEND_TITLE\"] = \"to %1 append text %2\";\nBlockly.Msg[\"TEXT_APPEND_TOOLTIP\"] = \"Append some text to variable '%1'.\";\nBlockly.Msg[\"TEXT_CHANGECASE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#adjusting-text-case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_LOWERCASE\"] = \"to lower case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_TITLECASE\"] = \"to Title Case\";\nBlockly.Msg[\"TEXT_CHANGECASE_OPERATOR_UPPERCASE\"] = \"to UPPER CASE\";\nBlockly.Msg[\"TEXT_CHANGECASE_TOOLTIP\"] = \"Return a copy of the text in a different case.\";\nBlockly.Msg[\"TEXT_CHARAT_FIRST\"] = \"get first letter\";\nBlockly.Msg[\"TEXT_CHARAT_FROM_END\"] = \"get letter # from end\";\nBlockly.Msg[\"TEXT_CHARAT_FROM_START\"] = \"get letter #\";\nBlockly.Msg[\"TEXT_CHARAT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#extracting-text\";\nBlockly.Msg[\"TEXT_CHARAT_LAST\"] = \"get last letter\";\nBlockly.Msg[\"TEXT_CHARAT_RANDOM\"] = \"get random letter\";\nBlockly.Msg[\"TEXT_CHARAT_TAIL\"] = \"\";\nBlockly.Msg[\"TEXT_CHARAT_TITLE\"] = \"in text %1 %2\";\nBlockly.Msg[\"TEXT_CHARAT_TOOLTIP\"] = \"Returns the letter at the specified position.\";\nBlockly.Msg[\"TEXT_COUNT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#counting-substrings\";\nBlockly.Msg[\"TEXT_COUNT_MESSAGE0\"] = \"count %1 in %2\";\nBlockly.Msg[\"TEXT_COUNT_TOOLTIP\"] = \"Count how many times some text occurs within some other text.\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_ITEM_TOOLTIP\"] = \"Add an item to the text.\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_TITLE_JOIN\"] = \"join\";\nBlockly.Msg[\"TEXT_CREATE_JOIN_TOOLTIP\"] = \"Add, remove, or reorder sections to reconfigure this text block.\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_FROM_END\"] = \"to letter # from end\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_FROM_START\"] = \"to letter #\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_END_LAST\"] = \"to last letter\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_INPUT_IN_TEXT\"] = \"in text\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FIRST\"] = \"get substring from first letter\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FROM_END\"] = \"get substring from letter # from end\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_START_FROM_START\"] = \"get substring from letter #\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_TAIL\"] = \"\";\nBlockly.Msg[\"TEXT_GET_SUBSTRING_TOOLTIP\"] = \"Returns a specified portion of the text.\";\nBlockly.Msg[\"TEXT_INDEXOF_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#finding-text\";\nBlockly.Msg[\"TEXT_INDEXOF_OPERATOR_FIRST\"] = \"find first occurrence of text\";\nBlockly.Msg[\"TEXT_INDEXOF_OPERATOR_LAST\"] = \"find last occurrence of text\";\nBlockly.Msg[\"TEXT_INDEXOF_TITLE\"] = \"in text %1 %2 %3\";\nBlockly.Msg[\"TEXT_INDEXOF_TOOLTIP\"] = \"Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.\";\nBlockly.Msg[\"TEXT_ISEMPTY_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#checking-for-empty-text\";\nBlockly.Msg[\"TEXT_ISEMPTY_TITLE\"] = \"%1 is empty\";\nBlockly.Msg[\"TEXT_ISEMPTY_TOOLTIP\"] = \"Returns true if the provided text is empty.\";\nBlockly.Msg[\"TEXT_JOIN_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-creation\";\nBlockly.Msg[\"TEXT_JOIN_TITLE_CREATEWITH\"] = \"create text with\";\nBlockly.Msg[\"TEXT_JOIN_TOOLTIP\"] = \"Create a piece of text by joining together any number of items.\";\nBlockly.Msg[\"TEXT_LENGTH_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#text-modification\";\nBlockly.Msg[\"TEXT_LENGTH_TITLE\"] = \"length of %1\";\nBlockly.Msg[\"TEXT_LENGTH_TOOLTIP\"] = \"Returns the number of letters (including spaces) in the provided text.\";\nBlockly.Msg[\"TEXT_PRINT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#printing-text\";\nBlockly.Msg[\"TEXT_PRINT_TITLE\"] = \"print %1\";\nBlockly.Msg[\"TEXT_PRINT_TOOLTIP\"] = \"Print the specified text, number or other value.\";\nBlockly.Msg[\"TEXT_PROMPT_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#getting-input-from-the-user\";\nBlockly.Msg[\"TEXT_PROMPT_TOOLTIP_NUMBER\"] = \"Prompt for user for a number.\";\nBlockly.Msg[\"TEXT_PROMPT_TOOLTIP_TEXT\"] = \"Prompt for user for some text.\";\nBlockly.Msg[\"TEXT_PROMPT_TYPE_NUMBER\"] = \"prompt for number with message\";\nBlockly.Msg[\"TEXT_PROMPT_TYPE_TEXT\"] = \"prompt for text with message\";\nBlockly.Msg[\"TEXT_REPLACE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#replacing-substrings\";\nBlockly.Msg[\"TEXT_REPLACE_MESSAGE0\"] = \"replace %1 with %2 in %3\";\nBlockly.Msg[\"TEXT_REPLACE_TOOLTIP\"] = \"Replace all occurances of some text within some other text.\";\nBlockly.Msg[\"TEXT_REVERSE_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#reversing-text\";\nBlockly.Msg[\"TEXT_REVERSE_MESSAGE0\"] = \"reverse %1\";\nBlockly.Msg[\"TEXT_REVERSE_TOOLTIP\"] = \"Reverses the order of the characters in the text.\";\nBlockly.Msg[\"TEXT_TEXT_HELPURL\"] = \"https://en.wikipedia.org/wiki/String_(computer_science)\";\nBlockly.Msg[\"TEXT_TEXT_TOOLTIP\"] = \"A letter, word, or line of text.\";\nBlockly.Msg[\"TEXT_TRIM_HELPURL\"] = \"https://github.com/google/blockly/wiki/Text#trimming-removing-spaces\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_BOTH\"] = \"trim spaces from both sides of\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_LEFT\"] = \"trim spaces from left side of\";\nBlockly.Msg[\"TEXT_TRIM_OPERATOR_RIGHT\"] = \"trim spaces from right side of\";\nBlockly.Msg[\"TEXT_TRIM_TOOLTIP\"] = \"Return a copy of the text with spaces removed from one or both ends.\";\nBlockly.Msg[\"TODAY\"] = \"Today\";\nBlockly.Msg[\"UNDO\"] = \"Undo\";\nBlockly.Msg[\"UNKNOWN\"] = \"Unknown\";\nBlockly.Msg[\"UNNAMED_KEY\"] = \"unnamed\";\nBlockly.Msg[\"VARIABLES_DEFAULT_NAME\"] = \"item\";\nBlockly.Msg[\"VARIABLES_GET_CREATE_SET\"] = \"Create 'set %1'\";\nBlockly.Msg[\"VARIABLES_GET_HELPURL\"] = \"https://github.com/google/blockly/wiki/Variables#get\";\nBlockly.Msg[\"VARIABLES_GET_TOOLTIP\"] = \"Returns the value of this variable.\";\nBlockly.Msg[\"VARIABLES_SET\"] = \"set %1 to %2\";\nBlockly.Msg[\"VARIABLES_SET_CREATE_GET\"] = \"Create 'get %1'\";\nBlockly.Msg[\"VARIABLES_SET_HELPURL\"] = \"https://github.com/google/blockly/wiki/Variables#set\";\nBlockly.Msg[\"VARIABLES_SET_TOOLTIP\"] = \"Sets this variable to be equal to the input.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS\"] = \"A variable named '%1' already exists.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE\"] = \"A variable named '%1' already exists for another type: '%2'.\";\nBlockly.Msg[\"VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER\"] = \"A variable named '%1' already exists as a parameter in the procedure '%2'.\";\nBlockly.Msg[\"WINDOWS\"] = \"Windows\";\nBlockly.Msg[\"WORKSPACE_ARIA_LABEL\"] = \"Blockly Workspace\";\nBlockly.Msg[\"WORKSPACE_COMMENT_DEFAULT_TEXT\"] = \"Say something...\";\nBlockly.Msg[\"CONTROLS_FOREACH_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_FOR_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_IF_ELSEIF_TITLE_ELSEIF\"] = Blockly.Msg[\"CONTROLS_IF_MSG_ELSEIF\"];\nBlockly.Msg[\"CONTROLS_IF_ELSE_TITLE_ELSE\"] = Blockly.Msg[\"CONTROLS_IF_MSG_ELSE\"];\nBlockly.Msg[\"CONTROLS_IF_IF_TITLE_IF\"] = Blockly.Msg[\"CONTROLS_IF_MSG_IF\"];\nBlockly.Msg[\"CONTROLS_IF_MSG_THEN\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"CONTROLS_WHILEUNTIL_INPUT_DO\"] = Blockly.Msg[\"CONTROLS_REPEAT_INPUT_DO\"];\nBlockly.Msg[\"LISTS_CREATE_WITH_ITEM_TITLE\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"LISTS_GET_INDEX_HELPURL\"] = Blockly.Msg[\"LISTS_INDEX_OF_HELPURL\"];\nBlockly.Msg[\"LISTS_GET_INDEX_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_GET_SUBLIST_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_INDEX_OF_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"LISTS_SET_INDEX_INPUT_IN_LIST\"] = Blockly.Msg[\"LISTS_INLIST\"];\nBlockly.Msg[\"MATH_CHANGE_TITLE_ITEM\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_COMMENT\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_COMMENT\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_DO\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_DO\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_PROCEDURE\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_PROCEDURE\"];\nBlockly.Msg[\"PROCEDURES_DEFRETURN_TITLE\"] = Blockly.Msg[\"PROCEDURES_DEFNORETURN_TITLE\"];\nBlockly.Msg[\"TEXT_APPEND_VARIABLE\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\nBlockly.Msg[\"TEXT_CREATE_JOIN_ITEM_TITLE_ITEM\"] = Blockly.Msg[\"VARIABLES_DEFAULT_NAME\"];\n\nBlockly.Msg[\"MATH_HUE\"] = \"230\";\nBlockly.Msg[\"LOOPS_HUE\"] = \"120\";\nBlockly.Msg[\"LISTS_HUE\"] = \"260\";\nBlockly.Msg[\"LOGIC_HUE\"] = \"210\";\nBlockly.Msg[\"VARIABLES_HUE\"] = \"330\";\nBlockly.Msg[\"TEXTS_HUE\"] = \"160\";\nBlockly.Msg[\"PROCEDURES_HUE\"] = \"290\";\nBlockly.Msg[\"COLOUR_HUE\"] = \"20\";\nBlockly.Msg[\"VARIABLES_DYNAMIC_HUE\"] = \"310\";\nreturn Blockly.Msg;\n}));\n","import Blockly from './blockly_compressed.js';\nexport const {\n  Block,\n  BlockFlyoutInflater,\n  BlockNavigationPolicy,\n  BlockSvg,\n  Blocks,\n  ButtonFlyoutInflater,\n  COLLAPSED_FIELD_NAME,\n  COLLAPSED_INPUT_NAME,\n  COLLAPSE_CHARS,\n  CodeGenerator,\n  CollapsibleToolboxCategory,\n  ComponentManager,\n  Connection,\n  ConnectionChecker,\n  ConnectionDB,\n  ConnectionNavigationPolicy,\n  ConnectionType,\n  ContextMenu,\n  ContextMenuItems,\n  ContextMenuRegistry,\n  Css,\n  DELETE_VARIABLE_ID,\n  DeleteArea,\n  DragTarget,\n  DropDownDiv,\n  Events,\n  Extensions,\n  Field,\n  FieldCheckbox,\n  FieldDropdown,\n  FieldImage,\n  FieldLabel,\n  FieldLabelSerializable,\n  FieldNavigationPolicy,\n  FieldNumber,\n  FieldTextInput,\n  FieldVariable,\n  Flyout,\n  FlyoutButton,\n  FlyoutButtonNavigationPolicy,\n  FlyoutItem,\n  FlyoutMetricsManager,\n  FlyoutNavigationPolicy,\n  FlyoutNavigator,\n  FlyoutSeparator,\n  FlyoutSeparatorNavigationPolicy,\n  FocusManager,\n  FocusableTreeTraverser,\n  Generator,\n  Gesture,\n  Grid,\n  HorizontalFlyout,\n  INPUT_VALUE,\n  Input,\n  InsertionMarkerPreviewer,\n  KeyboardNavigationController,\n  LabelFlyoutInflater,\n  LineCursor,\n  Marker,\n  MarkerManager,\n  Menu,\n  MenuItem,\n  MetricsManager,\n  Msg,\n  NEXT_STATEMENT,\n  Names,\n  Navigator,\n  OPPOSITE_TYPE,\n  OUTPUT_VALUE,\n  Options,\n  PREVIOUS_STATEMENT,\n  PROCEDURE_CATEGORY_NAME,\n  Procedures,\n  RENAME_VARIABLE_ID,\n  RenderedConnection,\n  Scrollbar,\n  ScrollbarPair,\n  SeparatorFlyoutInflater,\n  ShortcutItems,\n  ShortcutRegistry,\n  TOOLBOX_AT_BOTTOM,\n  TOOLBOX_AT_LEFT,\n  TOOLBOX_AT_RIGHT,\n  TOOLBOX_AT_TOP,\n  Theme,\n  ThemeManager,\n  Themes,\n  Toast,\n  Toolbox,\n  ToolboxCategory,\n  ToolboxItem,\n  ToolboxSeparator,\n  Tooltip,\n  Touch,\n  Trashcan,\n  UnattachedFieldError,\n  VARIABLE_CATEGORY_NAME,\n  VARIABLE_DYNAMIC_CATEGORY_NAME,\n  VERSION,\n  VariableMap,\n  VariableModel,\n  Variables,\n  VariablesDynamic,\n  VerticalFlyout,\n  WidgetDiv,\n  Workspace,\n  WorkspaceAudio,\n  WorkspaceDragger,\n  WorkspaceNavigationPolicy,\n  WorkspaceSvg,\n  Xml,\n  ZoomControls,\n  blockAnimations,\n  blockRendering,\n  browserEvents,\n  bubbles,\n  bumpObjects,\n  clipboard,\n  comments,\n  common,\n  config,\n  constants,\n  defineBlocksWithJsonArray,\n  dialog,\n  dragging,\n  fieldRegistry,\n  geras,\n  getFocusManager,\n  getMainWorkspace,\n  getSelected,\n  hasBubble,\n  hideChaff,\n  icons,\n  inject,\n  inputs,\n  isCopyable,\n  isDeletable,\n  isDraggable,\n  isIcon,\n  isObservable,\n  isPaster,\n  isRenderedElement,\n  isSelectable,\n  isSerializable,\n  isVariableBackedParameterModel,\n  keyboardNavigationController,\n  layers,\n  navigateBlock,\n  navigateStacks,\n  procedures,\n  registry,\n  renderManagement,\n  serialization,\n  setLocale,\n  setParentContainer,\n  svgResize,\n  thrasos,\n  uiPosition,\n  utils,\n  zelos,\n} = Blockly;\n","import Blockly from './index.js';\nexport const {\n  Block,\n  BlockFlyoutInflater,\n  BlockNavigationPolicy,\n  BlockSvg,\n  Blocks,\n  ButtonFlyoutInflater,\n  COLLAPSED_FIELD_NAME,\n  COLLAPSED_INPUT_NAME,\n  COLLAPSE_CHARS,\n  CodeGenerator,\n  CollapsibleToolboxCategory,\n  ComponentManager,\n  Connection,\n  ConnectionChecker,\n  ConnectionDB,\n  ConnectionNavigationPolicy,\n  ConnectionType,\n  ContextMenu,\n  ContextMenuItems,\n  ContextMenuRegistry,\n  Css,\n  DELETE_VARIABLE_ID,\n  DeleteArea,\n  DragTarget,\n  DropDownDiv,\n  Events,\n  Extensions,\n  Field,\n  FieldCheckbox,\n  FieldDropdown,\n  FieldImage,\n  FieldLabel,\n  FieldLabelSerializable,\n  FieldNavigationPolicy,\n  FieldNumber,\n  FieldTextInput,\n  FieldVariable,\n  Flyout,\n  FlyoutButton,\n  FlyoutButtonNavigationPolicy,\n  FlyoutItem,\n  FlyoutMetricsManager,\n  FlyoutNavigationPolicy,\n  FlyoutNavigator,\n  FlyoutSeparator,\n  FlyoutSeparatorNavigationPolicy,\n  FocusManager,\n  FocusableTreeTraverser,\n  Generator,\n  Gesture,\n  Grid,\n  HorizontalFlyout,\n  INPUT_VALUE,\n  Input,\n  InsertionMarkerPreviewer,\n  KeyboardNavigationController,\n  LabelFlyoutInflater,\n  LineCursor,\n  Marker,\n  MarkerManager,\n  Menu,\n  MenuItem,\n  MetricsManager,\n  Msg,\n  NEXT_STATEMENT,\n  Names,\n  Navigator,\n  OPPOSITE_TYPE,\n  OUTPUT_VALUE,\n  Options,\n  PREVIOUS_STATEMENT,\n  PROCEDURE_CATEGORY_NAME,\n  Procedures,\n  RENAME_VARIABLE_ID,\n  RenderedConnection,\n  Scrollbar,\n  ScrollbarPair,\n  SeparatorFlyoutInflater,\n  ShortcutItems,\n  ShortcutRegistry,\n  TOOLBOX_AT_BOTTOM,\n  TOOLBOX_AT_LEFT,\n  TOOLBOX_AT_RIGHT,\n  TOOLBOX_AT_TOP,\n  Theme,\n  ThemeManager,\n  Themes,\n  Toast,\n  Toolbox,\n  ToolboxCategory,\n  ToolboxItem,\n  ToolboxSeparator,\n  Tooltip,\n  Touch,\n  Trashcan,\n  UnattachedFieldError,\n  VARIABLE_CATEGORY_NAME,\n  VARIABLE_DYNAMIC_CATEGORY_NAME,\n  VERSION,\n  VariableMap,\n  VariableModel,\n  Variables,\n  VariablesDynamic,\n  VerticalFlyout,\n  WidgetDiv,\n  Workspace,\n  WorkspaceAudio,\n  WorkspaceDragger,\n  WorkspaceNavigationPolicy,\n  WorkspaceSvg,\n  Xml,\n  ZoomControls,\n  blockAnimations,\n  blockRendering,\n  browserEvents,\n  bubbles,\n  bumpObjects,\n  clipboard,\n  comments,\n  common,\n  config,\n  constants,\n  defineBlocksWithJsonArray,\n  dialog,\n  dragging,\n  fieldRegistry,\n  geras,\n  getFocusManager,\n  getMainWorkspace,\n  getSelected,\n  hasBubble,\n  hideChaff,\n  icons,\n  inject,\n  inputs,\n  isCopyable,\n  isDeletable,\n  isDraggable,\n  isIcon,\n  isObservable,\n  isPaster,\n  isRenderedElement,\n  isSelectable,\n  isSerializable,\n  isVariableBackedParameterModel,\n  keyboardNavigationController,\n  layers,\n  navigateBlock,\n  navigateStacks,\n  procedures,\n  registry,\n  renderManagement,\n  serialization,\n  setLocale,\n  setParentContainer,\n  svgResize,\n  thrasos,\n  uiPosition,\n  utils,\n  zelos,\n} = Blockly;\n","import javascript from './javascript_compressed.js';\nexport const {\n  JavascriptGenerator,\n  Order,\n  javascriptGenerator,\n} = javascript;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @license\n * Copyright 2025 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Maze game with keyboard navigation support.\n * Simple maze game adapted from blockly-games.\n */\n\nimport * as Blockly from 'blockly/core';\nimport {javascriptGenerator} from 'blockly/javascript';\nimport {KeyboardNavigation} from '../../src/index';\nimport {registerMazeBlocks} from './blocks';\nimport {MazeGame} from './maze';\n\n// Register maze-specific blocks\nregisterMazeBlocks();\n\n// Toolbox configuration\nconst toolbox = {\n  kind: 'flyoutToolbox',\n  contents: [\n    {\n      kind: 'block',\n      type: 'maze_moveForward',\n    },\n    {\n      kind: 'block',\n      type: 'maze_turn',\n    },\n    {\n      kind: 'block',\n      type: 'maze_if',\n    },\n    {\n      kind: 'block',\n      type: 'maze_ifElse',\n    },\n    {\n      kind: 'block',\n      type: 'maze_forever',\n    },\n  ],\n};\n\n// Initialize Blockly workspace\nconst workspace = Blockly.inject('blocklyDiv', {\n  toolbox: toolbox,\n  trashcan: true,\n  zoom: {\n    controls: true,\n    wheel: true,\n    startScale: 1.0,\n    maxScale: 3,\n    minScale: 0.3,\n    scaleSpeed: 1.2,\n  },\n  move: {\n    scrollbars: true,\n    drag: true,\n    wheel: true,\n  },\n});\n\n// Initialize keyboard navigation plugin\nconst keyboardNavigation = new KeyboardNavigation(workspace, {\n  highlightConnections: true,\n});\n\n// Initialize maze game\nconst mazeGame = new MazeGame('mazeCanvas', 1);\n\n// Run button handler\ndocument.getElementById('runButton')?.addEventListener('click', () => {\n  const code = javascriptGenerator.workspaceToCode(workspace);\n  mazeGame.execute(code);\n});\n\n// Reset button handler\ndocument.getElementById('resetButton')?.addEventListener('click', () => {\n  mazeGame.reset();\n});\n\nconsole.log('Maze game initialized with keyboard navigation support');\n"],"names":[],"sourceRoot":""}